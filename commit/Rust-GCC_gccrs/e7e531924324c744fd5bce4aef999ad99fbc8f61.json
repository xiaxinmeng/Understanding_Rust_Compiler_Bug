{"sha": "e7e531924324c744fd5bce4aef999ad99fbc8f61", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTdlNTMxOTI0MzI0Yzc0NGZkNWJjZTRhZWY5OTlhZDk5ZmJjOGY2MQ==", "commit": {"author": {"name": "Volker Reichelt", "email": "reichelt@igpm.rwth-aachen.de", "date": "2005-11-25T14:59:09Z"}, "committer": {"name": "Volker Reichelt", "email": "reichelt@gcc.gnu.org", "date": "2005-11-25T14:59:09Z"}, "message": "re PR c++/9278 (Illegal use of typedef to \"void\")\n\n\tPR c++/9278\n\t* decl.c (grokparms): Do not allow typedef-names in a '(void)'\n\tparmlist.\n\n\t* g++.dg/other/void1.C: New test.\n\nFrom-SVN: r107508", "tree": {"sha": "dce122d4f6cef385b2cf791a769d7cf82e664eff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dce122d4f6cef385b2cf791a769d7cf82e664eff"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e7e531924324c744fd5bce4aef999ad99fbc8f61", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7e531924324c744fd5bce4aef999ad99fbc8f61", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e7e531924324c744fd5bce4aef999ad99fbc8f61", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7e531924324c744fd5bce4aef999ad99fbc8f61/comments", "author": null, "committer": null, "parents": [{"sha": "dd6f2a43780177ecf4f55585ec19c49abfffbe5e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd6f2a43780177ecf4f55585ec19c49abfffbe5e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd6f2a43780177ecf4f55585ec19c49abfffbe5e"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "5e5df9b45726d536f1e0cdbd0ef60b10e8c6fa36", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7e531924324c744fd5bce4aef999ad99fbc8f61/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7e531924324c744fd5bce4aef999ad99fbc8f61/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=e7e531924324c744fd5bce4aef999ad99fbc8f61", "patch": "@@ -1,3 +1,9 @@\n+2005-11-25  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n+\n+\tPR c++/9278\n+\t* decl.c (grokparms): Do not allow typedef-names in a '(void)'\n+\tparmlist.\n+\n 2005-11-25  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n \n \t* typeck2.c (process_init_constructor_union): Remove check for"}, {"sha": "dec134a1fde5d3e6b0bb5dcb0d64e31ad0eb1677", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7e531924324c744fd5bce4aef999ad99fbc8f61/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7e531924324c744fd5bce4aef999ad99fbc8f61/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=e7e531924324c744fd5bce4aef999ad99fbc8f61", "patch": "@@ -8598,6 +8598,7 @@ grokparms (cp_parameter_declarator *first_parm, tree *parms)\n       if (VOID_TYPE_P (type))\n \t{\n \t  if (same_type_p (type, void_type_node)\n+\t      && DECL_SELF_REFERENCE_P (type)\n \t      && !DECL_NAME (decl) && !result && !parm->next && !ellipsis)\n \t    /* this is a parmlist of `(void)', which is ok.  */\n \t    break;"}, {"sha": "35d0b51b3bd8f047991c75b195d46a8a90744302", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7e531924324c744fd5bce4aef999ad99fbc8f61/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7e531924324c744fd5bce4aef999ad99fbc8f61/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e7e531924324c744fd5bce4aef999ad99fbc8f61", "patch": "@@ -1,3 +1,8 @@\n+2005-11-25  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n+\n+\tPR c++/9278\n+\t* g++.dg/other/void1.C: New test.\n+\n 2005-11-25  Joseph S. Myers  <joseph@codesourcery.com>\n \n \tPR middle-end/24998"}, {"sha": "691e6f7824e9c5a6f7687f27f936a2b9f82c89db", "filename": "gcc/testsuite/g++.dg/other/void1.C", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7e531924324c744fd5bce4aef999ad99fbc8f61/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fvoid1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7e531924324c744fd5bce4aef999ad99fbc8f61/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fvoid1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fvoid1.C?ref=e7e531924324c744fd5bce4aef999ad99fbc8f61", "patch": "@@ -0,0 +1,16 @@\n+// PR c++/9278\n+// { dg-do compile }\n+\n+typedef void VOID;\n+\n+int foo(void);\n+int bar(VOID);                // { dg-error \"type|invalid use\" }\n+\n+template<int> int foo(void);\n+template<int> int bar(VOID);  // { dg-error \"type|invalid use\" }\n+\n+struct A\n+{\n+  int foo(void);\n+  int bar(VOID);              // { dg-error \"type|invalid use\" }\n+};"}]}