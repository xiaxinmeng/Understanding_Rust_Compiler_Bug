{"sha": "89c846727b4f86ef2592842cd1ac5ef09d82b037", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODljODQ2NzI3YjRmODZlZjI1OTI4NDJjZDFhYzVlZjA5ZDgyYjAzNw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-04-06T22:10:24Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-04-06T22:10:24Z"}, "message": "expr.c (expand_builtin_setjmp): Put setjmp return label on nonlocal_goto_handler_labels for flow.\n\n        * expr.c (expand_builtin_setjmp): Put setjmp return label on\n        nonlocal_goto_handler_labels for flow.\n\nFrom-SVN: r26225", "tree": {"sha": "62088bcc9e3096bafd2d426a84c647a741b2f77a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/62088bcc9e3096bafd2d426a84c647a741b2f77a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/89c846727b4f86ef2592842cd1ac5ef09d82b037", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89c846727b4f86ef2592842cd1ac5ef09d82b037", "html_url": "https://github.com/Rust-GCC/gccrs/commit/89c846727b4f86ef2592842cd1ac5ef09d82b037", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89c846727b4f86ef2592842cd1ac5ef09d82b037/comments", "author": null, "committer": null, "parents": [{"sha": "e8f5c18f1a3990928272cc48901a8808735769f1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8f5c18f1a3990928272cc48901a8808735769f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e8f5c18f1a3990928272cc48901a8808735769f1"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "8d5fa10b4cb5221babbaada1fb8c34234a75733a", "filename": "gcc/expr.c", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89c846727b4f86ef2592842cd1ac5ef09d82b037/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89c846727b4f86ef2592842cd1ac5ef09d82b037/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=89c846727b4f86ef2592842cd1ac5ef09d82b037", "patch": "@@ -8442,7 +8442,7 @@ expand_builtin_setjmp (buf_addr, target, first_label, next_label)\n \t\t  (gen_rtx_MEM (Pmode,\n \t\t\t\tplus_constant (buf_addr,\n \t\t\t\t\t       GET_MODE_SIZE (Pmode)))),\n-\t\t  gen_rtx_LABEL_REF (Pmode, lab1));\n+\t\t  force_reg (Pmode, gen_rtx_LABEL_REF (Pmode, lab1)));\n \n   stack_save = gen_rtx_MEM (sa_mode,\n \t\t\t    plus_constant (buf_addr,\n@@ -8461,8 +8461,13 @@ expand_builtin_setjmp (buf_addr, target, first_label, next_label)\n   emit_barrier ();\n   emit_label (lab1);\n \n-  /* Tell flow about the strange goings on.  */\n+  /* Tell flow about the strange goings on.  Putting `lab1' on\n+     `nonlocal_goto_handler_labels' to indicates that function\n+     calls may traverse the arc back to this label.  */\n+\n   current_function_has_nonlocal_label = 1;\n+  nonlocal_goto_handler_labels =\n+    gen_rtx_EXPR_LIST (VOIDmode, lab1, nonlocal_goto_handler_labels);\n \n   /* Clobber the FP when we get here, so we have to make sure it's\n      marked as used by this function.  */"}]}