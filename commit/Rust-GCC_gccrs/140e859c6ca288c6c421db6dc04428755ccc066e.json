{"sha": "140e859c6ca288c6c421db6dc04428755ccc066e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTQwZTg1OWM2Y2EyODhjNmM0MjFkYjZkYzA0NDI4NzU1Y2NjMDY2ZQ==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2005-03-21T17:46:19Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2005-03-21T17:46:19Z"}, "message": "configure.ac: Do not invoke TL_AC_GCC_VERSION.\n\n\t* configure.ac: Do not invoke TL_AC_GCC_VERSION.\n\tIn all substitutions, leave gcc_version to be expanded by the Makefile.\n\t* aclocal.m4, configure: Regenerate.\n\t* Makefile.am: Set gcc_version.\n\t* Makefile.in: Regenerate.\n\nFrom-SVN: r96818", "tree": {"sha": "65e6c69c84740ccfa6f41da3d12726687c1766b6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/65e6c69c84740ccfa6f41da3d12726687c1766b6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/140e859c6ca288c6c421db6dc04428755ccc066e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/140e859c6ca288c6c421db6dc04428755ccc066e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/140e859c6ca288c6c421db6dc04428755ccc066e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/140e859c6ca288c6c421db6dc04428755ccc066e/comments", "author": null, "committer": null, "parents": [{"sha": "fd0811ef5da95c0787433dd30769a21e0ef662da", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd0811ef5da95c0787433dd30769a21e0ef662da", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd0811ef5da95c0787433dd30769a21e0ef662da"}], "stats": {"total": 91, "additions": 38, "deletions": 53}, "files": [{"sha": "9f37130d56eba9086d69573000bcc5a7b7a93e73", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 27, "deletions": 19, "changes": 46, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/140e859c6ca288c6c421db6dc04428755ccc066e/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/140e859c6ca288c6c421db6dc04428755ccc066e/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=140e859c6ca288c6c421db6dc04428755ccc066e", "patch": "@@ -1,3 +1,11 @@\n+2005-03-21  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* configure.ac: Do not invoke TL_AC_GCC_VERSION.\n+\tIn all substitutions, leave gcc_version to be expanded by the Makefile.\n+\t* aclocal.m4, configure: Regenerate.\n+\t* Makefile.am: Set gcc_version.\n+\t* Makefile.in: Regenerate.\n+\n 2005-03-16  Francois-Xavier Coudert  <coudert@clipper.ens.fr>\n \n \tPR libfortran/20257\n@@ -37,11 +45,11 @@\n \t* io/write.c (output_float): Fix typo in condition.\n \n 2005-02-25  Peter O'Gorman  <peter@pogma.com>\n-            Toon Moene  <toon@moene.indiv.nluug.nl>\n+\t    Toon Moene  <toon@moene.indiv.nluug.nl>\n \n \tPR libgfortran/17748\n \t* runtime/environ.c: Remove references to environ.\n-\t(show_variables): remove GFORTRAN_UNBUFFERED_* and \n+\t(show_variables): remove GFORTRAN_UNBUFFERED_* and\n \tGFORTRAN_NAME_* because they require environ.\n \t(pattern_scan): Remove function.\n \n@@ -69,8 +77,8 @@\n \n 2005-02-20  Steven G. Kargl  <kargls@comcast.net>\n \n-        PR 20085\n-        * intrinsic/args.c (iargc): Off by 1.\n+\tPR 20085\n+\t* intrinsic/args.c (iargc): Off by 1.\n \n 2005-02-19  Steven G. Kargl  <kargls@comcast.net>\n \n@@ -129,7 +137,7 @@\n \n \tPR libfortran/18982\n \t* io/unix.c (regular_file):  No need to change flags->action\n-\tif an error occurs.  Document this.  \n+\tif an error occurs.  Document this.\n \tNo need to call stat() for STATUS_OLD, open() will\n \tfail anyway.\n \tFor ACTION_UNSPECIFIED, try open for read-write, then for\n@@ -139,16 +147,16 @@\n \tregular_file.\n \n 2005-01-22  Tobias Schl\"uter  <tobias.schlueter@physik.uni-muenchen.de>\n-\t\n+\n \tPR fortran/19194\n \t* io/io.h (st_parameter): Use 'GFC_INTEGER_4' instead of 'int',\n \tuse CHARACTER macro for definition of string valued paramters.\n-\t\n+\n 2005-01-22  Bud Davis  <bdavis9659@comcast.net>\n \n \tPR fortran/19314\n \t* io/inquire.c(inquire_via_unit): implement POSITION=.\n-\t* io/transfer.c(next_record): update position for \n+\t* io/transfer.c(next_record): update position for\n \tINQUIRE.\n \t* io/rewind.c(st_rewind): update position for\n \tINQUIRE.\n@@ -460,7 +468,7 @@\n \n 2004-12-27  Tobias Schlueter  <tobias.schlueter@physik.uni-muenchen.de>\n \n-\t* libgfortran/libgfortran.h (GFC_UINTEGER_1, GFC_UINTEGER_2): \n+\t* libgfortran/libgfortran.h (GFC_UINTEGER_1, GFC_UINTEGER_2):\n \tDefine.\n \t* intrinsics/ishftc.c: Update copyright years.\n \t(ishftc8): Change 'shift' and 'size' to GFC_INTEGER_4.\n@@ -470,7 +478,7 @@\n 2004-12-23  Bud Davis  <bdavis9659@comcast.net>\n \n \tPR fortran/19071\n-\t* io/tranfer.c (formatted_transfer): moved check for \n+\t* io/tranfer.c (formatted_transfer): moved check for\n \tformat reversion inside the processing loop.\n \n 2004-12-19  Aaron W. LaFramboise  <aaronavay62@aaronwl.com>\n@@ -482,7 +490,7 @@\n \t* runtime/error.c (itoa): Same.\n \n 2004-12-15  Bud Davis  <bdavis9659@comcast.net>\n-            Steven G. Kargl  <kargls@comcast.net>\n+\t    Steven G. Kargl  <kargls@comcast.net>\n \n \tPR fortran/17597\n \t* io/list_read.c (read_real): do not push back a comma when\n@@ -714,7 +722,7 @@\n \n \t* m4/matmul.m4: Loops reordered to improve cache behavior.\n \t* generated/matmul_??.c: Regenerated.\n-\t\n+\n 2004-11-10  Paul Brook  <paul@codesourcery.com>\n \n \tPR fortran/18218\n@@ -831,7 +839,7 @@\n 2004-09-21  Bud Davis  <bdavis9659@comcast.net>\n \n \tPR fortran/17286\n-\t* io/list_read.c (namelist_read): ignore spaces after \n+\t* io/list_read.c (namelist_read): ignore spaces after\n \tthe '=' for namelist reads.\n \n 2004-09-15  Aaron W. LaFramboise <aaronavay62@aaronwl.com>\n@@ -983,7 +991,7 @@\n \n 2004-08-24  Bud Davis  <bdavis9659@comcast.net>\n \n-\tPR fortran/17143\t\n+\tPR fortran/17143\n \t* runtime/error.c (itoa): keep from overflowing during\n \tmod operation by using unsigned variable.\n \n@@ -1084,7 +1092,7 @@\n \n 2004-07-18  Bud Davis  <bdavis9659@comcast.net>\n \n-\t* configure.ac: Add check for LFS support. \n+\t* configure.ac: Add check for LFS support.\n \t* configure: Regenerate\n \n 2004-07-11  Paul Brook  <paul@codesourcery.com>\n@@ -1105,7 +1113,7 @@\n \tPR fortran/15472\n \t* io/transfer.c(us_write): set recl for seq unform writes to max size.\n \t* io/transfer.c(data_transfer_init): handle un-opened seq unform unit.\n-\t* io/unix.c(fd_alloc_w_at): handle requests at start, fd_flush at \n+\t* io/unix.c(fd_alloc_w_at): handle requests at start, fd_flush at\n \tright time.\n \t* io/unix.c(is_seekable): set based upon the file/device, not the\n \tmethod being used to access it (fd or mmap).\n@@ -1202,16 +1210,16 @@\n 2004-06-13  Steven G. Kargl  <kargls@comcast.net>\n \t    Tobias Schlueter  <tobias.schlueter@physik.uni-muenchen.de>\n \n-\t* random.c: Fix several spelling and formatting mistakes in \n+\t* random.c: Fix several spelling and formatting mistakes in\n \tcomments.\n \t(random_r8): Fix loop to make random numbers range in [0,1(.\n-\t\n+\n \n 2004-06-13  Steven G. Kargl  <kargls@comcast.net>\n \n \t* random.c (random_r4): Burn a random number.\n \t(random_r8): fix infinite loop.\n-\t\n+\n 2004-06-12  Bud Davis  <bdavis9659@comcast.net>\n       Steve Kargl  <sgk@troutmask.apl.washington.edu>\n "}, {"sha": "347b5523d1e920684d51fc275e59443f6969975f", "filename": "libgfortran/Makefile.am", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/140e859c6ca288c6c421db6dc04428755ccc066e/libgfortran%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/140e859c6ca288c6c421db6dc04428755ccc066e/libgfortran%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FMakefile.am?ref=140e859c6ca288c6c421db6dc04428755ccc066e", "patch": "@@ -5,6 +5,9 @@\n AM_CFLAGS = -std=gnu99\n ACLOCAL_AMFLAGS = -I ../config\n \n+## May be used by toolexeclibdir.\n+gcc_version := $(shell cat $(top_srcdir)/../gcc/BASE-VER)\n+\n toolexeclib_LTLIBRARIES = libgfortran.la libgfortranbegin.la\n \n libgfortran_la_LDFLAGS = -version-info `grep -v '^\\#' $(srcdir)/libtool-version` -lm"}, {"sha": "147cd3643a6a0bc5adc91857770f4d46e68a6c9b", "filename": "libgfortran/Makefile.in", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/140e859c6ca288c6c421db6dc04428755ccc066e/libgfortran%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/140e859c6ca288c6c421db6dc04428755ccc066e/libgfortran%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FMakefile.in?ref=140e859c6ca288c6c421db6dc04428755ccc066e", "patch": "@@ -1,4 +1,4 @@\n-# Makefile.in generated by automake 1.9.4 from Makefile.am.\n+# Makefile.in generated by automake 1.9.3 from Makefile.am.\n # @configure_input@\n \n # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,\n@@ -47,8 +47,7 @@ DIST_COMMON = README $(am__configure_deps) $(srcdir)/../config.guess \\\n \t$(top_srcdir)/configure AUTHORS COPYING ChangeLog INSTALL NEWS\n subdir = .\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n-am__aclocal_m4_deps = $(top_srcdir)/../config/gcc-version.m4 \\\n-\t$(top_srcdir)/../config/no-executables.m4 \\\n+am__aclocal_m4_deps = $(top_srcdir)/../config/no-executables.m4 \\\n \t$(top_srcdir)/acinclude.m4 $(top_srcdir)/../libtool.m4 \\\n \t$(top_srcdir)/configure.ac\n am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \\\n@@ -266,9 +265,6 @@ datadir = @datadir@\n enable_shared = @enable_shared@\n enable_static = @enable_static@\n exec_prefix = @exec_prefix@\n-gcc_version = @gcc_version@\n-gcc_version_full = @gcc_version_full@\n-gcc_version_trigger = @gcc_version_trigger@\n host = @host@\n host_alias = @host_alias@\n host_cpu = @host_cpu@\n@@ -298,6 +294,7 @@ toolexecdir = @toolexecdir@\n toolexeclibdir = @toolexeclibdir@\n AM_CFLAGS = -std=gnu99\n ACLOCAL_AMFLAGS = -I ../config\n+gcc_version := $(shell cat $(top_srcdir)/../gcc/BASE-VER)\n toolexeclib_LTLIBRARIES = libgfortran.la libgfortranbegin.la\n libgfortran_la_LDFLAGS = -version-info `grep -v '^\\#' $(srcdir)/libtool-version` -lm\n libgfortranbegin_la_SOURCES = fmain.c"}, {"sha": "935e8039cfb0027b53b380924b9a20c422caa382", "filename": "libgfortran/aclocal.m4", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/140e859c6ca288c6c421db6dc04428755ccc066e/libgfortran%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/140e859c6ca288c6c421db6dc04428755ccc066e/libgfortran%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Faclocal.m4?ref=140e859c6ca288c6c421db6dc04428755ccc066e", "patch": "@@ -817,6 +817,5 @@ AC_SUBST([am__tar])\n AC_SUBST([am__untar])\n ]) # _AM_PROG_TAR\n \n-m4_include([../config/gcc-version.m4])\n m4_include([../config/no-executables.m4])\n m4_include([acinclude.m4])"}, {"sha": "a02f84a7b4c00690aa960b3ab27fcc696a88c90e", "filename": "libgfortran/configure", "status": "modified", "additions": 4, "deletions": 24, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/140e859c6ca288c6c421db6dc04428755ccc066e/libgfortran%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/140e859c6ca288c6c421db6dc04428755ccc066e/libgfortran%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure?ref=140e859c6ca288c6c421db6dc04428755ccc066e", "patch": "@@ -308,7 +308,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT multi_basedir gcc_version_trigger gcc_version_full gcc_version toolexecdir toolexeclibdir CC ac_ct_CC EXEEXT OBJEXT CFLAGS AS ac_ct_AS AR ac_ct_AR RANLIB ac_ct_RANLIB LN_S LIBTOOL enable_shared enable_static FC FCFLAGS LDFLAGS ac_ct_FC CPP CPPFLAGS EGREP MATH_OBJ LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT multi_basedir toolexecdir toolexeclibdir CC ac_ct_CC EXEEXT OBJEXT CFLAGS AS ac_ct_AS AR ac_ct_AR RANLIB ac_ct_RANLIB LN_S LIBTOOL enable_shared enable_static FC FCFLAGS LDFLAGS ac_ct_FC CPP CPPFLAGS EGREP MATH_OBJ LIBOBJS LTLIBOBJS'\n ac_subst_files=''\n \n # Initialize some variables set by options.\n@@ -1962,23 +1962,6 @@ else\n   LIBGFOR_IS_NATIVE=true\n fi\n \n-\n-if test \"${with_gcc_version_trigger+set}\" = set; then\n-  gcc_version_trigger=$with_gcc_version_trigger\n-else\n-  gcc_version_trigger=$srcdir/../gcc/version.c\n-fi\n-if test -f \"${gcc_version_trigger}\"; then\n-  gcc_version_full=`grep version_string \"${gcc_version_trigger}\" | sed -e 's/.*\"\\([^\"]*\\)\".*/\\1/'`\n-else\n-  gcc_version_full=`$CC -v 2>&1 | sed -n 's/^gcc version //p'`\n-fi\n-gcc_version=`echo ${gcc_version_full} | sed -e 's/\\([^ ]*\\) .*/\\1/'`\n-\n-\n-\n-\n-\n # Calculate toolexeclibdir\n # Also toolexecdir, though it's only used in toolexeclibdir\n case ${version_specific_libs} in\n@@ -1987,7 +1970,7 @@ case ${version_specific_libs} in\n     # and header files if --enable-version-specific-runtime-libs option\n     # is selected.\n     toolexecdir='$(libdir)/gcc/$(target_alias)'\n-    toolexeclibdir='$(toolexecdir)/'${gcc_version}'$(MULTISUBDIR)'\n+    toolexeclibdir='$(toolexecdir)/$(gcc_version)$(MULTISUBDIR)'\n     ;;\n   no)\n     if test -n \"$with_cross_host\" &&\n@@ -4076,7 +4059,7 @@ test x\"$pic_mode\" = xno && libtool_flags=\"$libtool_flags --prefer-non-pic\"\n case $host in\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 4079 \"configure\"' > conftest.$ac_ext\n+  echo '#line 4062 \"configure\"' > conftest.$ac_ext\n   if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   (eval $ac_compile) 2>&5\n   ac_status=$?\n@@ -4467,7 +4450,7 @@ fi\n \n \n # Provide some information about the compiler.\n-echo \"$as_me:4470:\" \\\n+echo \"$as_me:4453:\" \\\n      \"checking for Fortran compiler version\" >&5\n ac_compiler=`set X $ac_compile; echo $2`\n { (eval echo \"$as_me:$LINENO: \\\"$ac_compiler --version </dev/null >&5\\\"\") >&5\n@@ -12238,9 +12221,6 @@ s,@MAINTAINER_MODE_TRUE@,$MAINTAINER_MODE_TRUE,;t t\n s,@MAINTAINER_MODE_FALSE@,$MAINTAINER_MODE_FALSE,;t t\n s,@MAINT@,$MAINT,;t t\n s,@multi_basedir@,$multi_basedir,;t t\n-s,@gcc_version_trigger@,$gcc_version_trigger,;t t\n-s,@gcc_version_full@,$gcc_version_full,;t t\n-s,@gcc_version@,$gcc_version,;t t\n s,@toolexecdir@,$toolexecdir,;t t\n s,@toolexeclibdir@,$toolexeclibdir,;t t\n s,@CC@,$CC,;t t"}, {"sha": "eb5e32ad98afb6f6ff99a1d3003ecfc256857a6f", "filename": "libgfortran/configure.ac", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/140e859c6ca288c6c421db6dc04428755ccc066e/libgfortran%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/140e859c6ca288c6c421db6dc04428755ccc066e/libgfortran%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure.ac?ref=140e859c6ca288c6c421db6dc04428755ccc066e", "patch": "@@ -68,8 +68,6 @@ else\n   LIBGFOR_IS_NATIVE=true\n fi\n \n-TL_AC_GCC_VERSION([$srcdir/..])\n-\n # Calculate toolexeclibdir\n # Also toolexecdir, though it's only used in toolexeclibdir\n case ${version_specific_libs} in\n@@ -78,7 +76,7 @@ case ${version_specific_libs} in\n     # and header files if --enable-version-specific-runtime-libs option\n     # is selected.\n     toolexecdir='$(libdir)/gcc/$(target_alias)'\n-    toolexeclibdir='$(toolexecdir)/'${gcc_version}'$(MULTISUBDIR)'\n+    toolexeclibdir='$(toolexecdir)/$(gcc_version)$(MULTISUBDIR)'\n     ;;\n   no)\n     if test -n \"$with_cross_host\" &&"}]}