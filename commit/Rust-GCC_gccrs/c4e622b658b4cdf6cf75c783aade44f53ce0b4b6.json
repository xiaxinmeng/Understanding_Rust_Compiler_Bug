{"sha": "c4e622b658b4cdf6cf75c783aade44f53ce0b4b6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzRlNjIyYjY1OGI0Y2RmNmNmNzVjNzgzYWFkZTQ0ZjUzY2UwYjRiNg==", "commit": {"author": {"name": "Diego Novillo", "email": "dnovillo@google.com", "date": "2007-11-02T11:12:30Z"}, "committer": {"name": "Diego Novillo", "email": "dnovillo@gcc.gnu.org", "date": "2007-11-02T11:12:30Z"}, "message": "langhooks.h (struct lang_hooks_for_callgraph): Remove third argument from function pointer ANALYZE_EXPR.\n\n\n\t* langhooks.h (struct lang_hooks_for_callgraph): Remove third\n\targument from function pointer ANALYZE_EXPR.  Update all\n\tusers.\n\t* cgraph.c (debug_cgraph_node): New.\n\t(debug_cgraph): New.\n\nFrom-SVN: r129845", "tree": {"sha": "c14fee97147f36fd4337182298671d592eaed5cb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c14fee97147f36fd4337182298671d592eaed5cb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c4e622b658b4cdf6cf75c783aade44f53ce0b4b6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c4e622b658b4cdf6cf75c783aade44f53ce0b4b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c4e622b658b4cdf6cf75c783aade44f53ce0b4b6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c4e622b658b4cdf6cf75c783aade44f53ce0b4b6/comments", "author": {"login": "dnovillo", "id": 7295335, "node_id": "MDQ6VXNlcjcyOTUzMzU=", "avatar_url": "https://avatars.githubusercontent.com/u/7295335?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dnovillo", "html_url": "https://github.com/dnovillo", "followers_url": "https://api.github.com/users/dnovillo/followers", "following_url": "https://api.github.com/users/dnovillo/following{/other_user}", "gists_url": "https://api.github.com/users/dnovillo/gists{/gist_id}", "starred_url": "https://api.github.com/users/dnovillo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dnovillo/subscriptions", "organizations_url": "https://api.github.com/users/dnovillo/orgs", "repos_url": "https://api.github.com/users/dnovillo/repos", "events_url": "https://api.github.com/users/dnovillo/events{/privacy}", "received_events_url": "https://api.github.com/users/dnovillo/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ef3b7b176100495d541b40439b1f3b9e672d071d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ef3b7b176100495d541b40439b1f3b9e672d071d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ef3b7b176100495d541b40439b1f3b9e672d071d"}], "stats": {"total": 58, "additions": 44, "deletions": 14}, "files": [{"sha": "af719e9066a55ee380d7b5d2ea84045abef05c7a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c4e622b658b4cdf6cf75c783aade44f53ce0b4b6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c4e622b658b4cdf6cf75c783aade44f53ce0b4b6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c4e622b658b4cdf6cf75c783aade44f53ce0b4b6", "patch": "@@ -1,3 +1,11 @@\n+2007-11-02  Diego Novillo  <dnovillo@google.com>\n+\n+\t* langhooks.h (struct lang_hooks_for_callgraph): Remove third\n+\targument from function pointer ANALYZE_EXPR.  Update all\n+\tusers.\n+\t* cgraph.c (debug_cgraph_node): New.\n+\t(debug_cgraph): New.\n+\n 2007-11-02  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR rtl-optimization/33648"}, {"sha": "8c7bc5da44221c7f73650e135918e1450997f347", "filename": "gcc/cgraph.c", "status": "modified", "additions": 25, "deletions": 2, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c4e622b658b4cdf6cf75c783aade44f53ce0b4b6/gcc%2Fcgraph.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c4e622b658b4cdf6cf75c783aade44f53ce0b4b6/gcc%2Fcgraph.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraph.c?ref=c4e622b658b4cdf6cf75c783aade44f53ce0b4b6", "patch": "@@ -657,7 +657,9 @@ cgraph_node_name (struct cgraph_node *node)\n const char * const cgraph_availability_names[] =\n   {\"unset\", \"not_available\", \"overwrittable\", \"available\", \"local\"};\n \n-/* Dump given cgraph node.  */\n+\n+/* Dump call graph node NODE to file F.  */\n+\n void\n dump_cgraph_node (FILE *f, struct cgraph_node *node)\n {\n@@ -742,7 +744,17 @@ dump_cgraph_node (FILE *f, struct cgraph_node *node)\n   fprintf (f, \"\\n\");\n }\n \n-/* Dump the callgraph.  */\n+\n+/* Dump call graph node NODE to stderr.  */\n+\n+void\n+debug_cgraph_node (struct cgraph_node *node)\n+{\n+  dump_cgraph_node (stderr, node);\n+}\n+\n+\n+/* Dump the callgraph to file F.  */\n \n void\n dump_cgraph (FILE *f)\n@@ -754,7 +766,18 @@ dump_cgraph (FILE *f)\n     dump_cgraph_node (f, node);\n }\n \n+\n+/* Dump the call graph to stderr.  */\n+\n+void\n+debug_cgraph (void)\n+{\n+  dump_cgraph (stderr);\n+}\n+\n+\n /* Set the DECL_ASSEMBLER_NAME and update cgraph hashtables.  */\n+\n void\n change_decl_assembler_name (tree decl, tree name)\n {"}, {"sha": "baed1a6fef36487880ab6f1189d349c12b91712f", "filename": "gcc/cgraph.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c4e622b658b4cdf6cf75c783aade44f53ce0b4b6/gcc%2Fcgraph.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c4e622b658b4cdf6cf75c783aade44f53ce0b4b6/gcc%2Fcgraph.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraph.h?ref=c4e622b658b4cdf6cf75c783aade44f53ce0b4b6", "patch": "@@ -288,7 +288,9 @@ extern GTY(()) int cgraph_order;\n \n /* In cgraph.c  */\n void dump_cgraph (FILE *);\n+void debug_cgraph (void);\n void dump_cgraph_node (FILE *, struct cgraph_node *);\n+void debug_cgraph_node (struct cgraph_node *);\n void cgraph_insert_node_to_hashtable (struct cgraph_node *node);\n void cgraph_remove_edge (struct cgraph_edge *);\n void cgraph_remove_node (struct cgraph_node *);"}, {"sha": "2f8d3b070510e8da453ff471e1309e6f4fbab86c", "filename": "gcc/cgraphbuild.c", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c4e622b658b4cdf6cf75c783aade44f53ce0b4b6/gcc%2Fcgraphbuild.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c4e622b658b4cdf6cf75c783aade44f53ce0b4b6/gcc%2Fcgraphbuild.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraphbuild.c?ref=c4e622b658b4cdf6cf75c783aade44f53ce0b4b6", "patch": "@@ -35,7 +35,7 @@ along with GCC; see the file COPYING3.  If not see\n    Called via walk_tree: TP is pointer to tree to be examined.  */\n \n static tree\n-record_reference (tree *tp, int *walk_subtrees, void *data)\n+record_reference (tree *tp, int *walk_subtrees, void *data ATTRIBUTE_UNUSED)\n {\n   tree t = *tp;\n \n@@ -46,8 +46,7 @@ record_reference (tree *tp, int *walk_subtrees, void *data)\n \t{\n \t  varpool_mark_needed_node (varpool_node (t));\n \t  if (lang_hooks.callgraph.analyze_expr)\n-\t    return lang_hooks.callgraph.analyze_expr (tp, walk_subtrees,\n-\t\t\t\t\t\t      data);\n+\t    return lang_hooks.callgraph.analyze_expr (tp, walk_subtrees);\n \t}\n       break;\n \n@@ -73,7 +72,7 @@ record_reference (tree *tp, int *walk_subtrees, void *data)\n \t}\n \n       if ((unsigned int) TREE_CODE (t) >= LAST_AND_UNUSED_TREE_CODE)\n-\treturn lang_hooks.callgraph.analyze_expr (tp, walk_subtrees, data);\n+\treturn lang_hooks.callgraph.analyze_expr (tp, walk_subtrees);\n       break;\n     }\n "}, {"sha": "8fad9150178bddf6dccde01c6670439e74d277a0", "filename": "gcc/cp/cp-tree.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c4e622b658b4cdf6cf75c783aade44f53ce0b4b6/gcc%2Fcp%2Fcp-tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c4e622b658b4cdf6cf75c783aade44f53ce0b4b6/gcc%2Fcp%2Fcp-tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcp-tree.h?ref=c4e622b658b4cdf6cf75c783aade44f53ce0b4b6", "patch": "@@ -4303,7 +4303,7 @@ extern tree cp_build_parm_decl\t\t\t(tree, tree);\n extern tree get_guard\t\t\t\t(tree);\n extern tree get_guard_cond\t\t\t(tree);\n extern tree set_guard\t\t\t\t(tree);\n-extern tree cxx_callgraph_analyze_expr\t\t(tree *, int *, tree);\n+extern tree cxx_callgraph_analyze_expr\t\t(tree *, int *);\n extern void mark_needed\t\t\t\t(tree);\n extern bool decl_needed_p\t\t\t(tree);\n extern void note_vague_linkage_fn\t\t(tree);"}, {"sha": "ddc8999aa0cef02a894f3f19645c805db292dddd", "filename": "gcc/cp/decl2.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c4e622b658b4cdf6cf75c783aade44f53ce0b4b6/gcc%2Fcp%2Fdecl2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c4e622b658b4cdf6cf75c783aade44f53ce0b4b6/gcc%2Fcp%2Fdecl2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl2.c?ref=c4e622b658b4cdf6cf75c783aade44f53ce0b4b6", "patch": "@@ -3026,8 +3026,7 @@ generate_ctor_and_dtor_functions_for_priority (splay_tree_node n, void * data)\n    Here we must deal with member pointers.  */\n \n tree\n-cxx_callgraph_analyze_expr (tree *tp, int *walk_subtrees ATTRIBUTE_UNUSED,\n-\t\t\t    tree from ATTRIBUTE_UNUSED)\n+cxx_callgraph_analyze_expr (tree *tp, int *walk_subtrees ATTRIBUTE_UNUSED)\n {\n   tree t = *tp;\n "}, {"sha": "f55292cd979f0b8e0b47b3134d93c71d7d69a51b", "filename": "gcc/langhooks-def.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c4e622b658b4cdf6cf75c783aade44f53ce0b4b6/gcc%2Flanghooks-def.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c4e622b658b4cdf6cf75c783aade44f53ce0b4b6/gcc%2Flanghooks-def.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flanghooks-def.h?ref=c4e622b658b4cdf6cf75c783aade44f53ce0b4b6", "patch": "@@ -69,7 +69,7 @@ extern tree lhd_builtin_function (tree decl);\n \n /* Declarations of default tree inlining hooks.  */\n extern void lhd_initialize_diagnostics (struct diagnostic_context *);\n-extern tree lhd_callgraph_analyze_expr (tree *, int *, tree);\n+extern tree lhd_callgraph_analyze_expr (tree *, int *);\n \n \n /* Declarations for tree gimplification hooks.  */"}, {"sha": "c565daa2d970281b0d5b69def81eb4cb5678cbd3", "filename": "gcc/langhooks.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c4e622b658b4cdf6cf75c783aade44f53ce0b4b6/gcc%2Flanghooks.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c4e622b658b4cdf6cf75c783aade44f53ce0b4b6/gcc%2Flanghooks.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flanghooks.c?ref=c4e622b658b4cdf6cf75c783aade44f53ce0b4b6", "patch": "@@ -486,8 +486,7 @@ lhd_print_error_function (diagnostic_context *context, const char *file,\n \n tree\n lhd_callgraph_analyze_expr (tree *tp ATTRIBUTE_UNUSED,\n-\t\t\t    int *walk_subtrees ATTRIBUTE_UNUSED,\n-\t\t\t    tree decl ATTRIBUTE_UNUSED)\n+\t\t\t    int *walk_subtrees ATTRIBUTE_UNUSED)\n {\n   return NULL;\n }"}, {"sha": "23ecb90bcee3bb0d181baab9c14decebad85f674", "filename": "gcc/langhooks.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c4e622b658b4cdf6cf75c783aade44f53ce0b4b6/gcc%2Flanghooks.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c4e622b658b4cdf6cf75c783aade44f53ce0b4b6/gcc%2Flanghooks.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flanghooks.h?ref=c4e622b658b4cdf6cf75c783aade44f53ce0b4b6", "patch": "@@ -43,9 +43,9 @@ struct lang_hooks_for_callgraph\n {\n   /* The node passed is a language-specific tree node.  If its contents\n      are relevant to use of other declarations, mark them.  */\n-  tree (*analyze_expr) (tree *, int *, tree);\n+  tree (*analyze_expr) (tree *, int *);\n \n-  /* Emmit thunks associated to function.  */\n+  /* Emit thunks associated to function.  */\n   void (*emit_associated_thunks) (tree);\n };\n "}]}