{"sha": "8c0f9dab864878286b6fd16e26d62be4742cd7d6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGMwZjlkYWI4NjQ4NzgyODZiNmZkMTZlMjZkNjJiZTQ3NDJjZDdkNg==", "commit": {"author": {"name": "Nicolas Koenig", "email": "koenigni@gcc.gnu.org", "date": "2017-03-21T14:49:21Z"}, "committer": {"name": "Nicolas Koenig", "email": "koenigni@gcc.gnu.org", "date": "2017-03-21T14:49:21Z"}, "message": "re PR fortran/69498 (ICE on disjunct cases with displaced or incomplete embedded statement)\n\n\n2017-03-18  Nicolas Koenig  <koenigni@student.ethz.ch>\n\n                PR fortran/69498\n                * decl.c (add_hidden_procptr_result): Fixed Refs count of the created \"ppr@\" symbol.\n\n2017-03-18  Nicolas Koenig  <koenigni@student.ethz.ch>\n\n                PR fortran/69498\n                * gfortran.dg/unexp_attribute.f90: New test\n\nFrom-SVN: r246322", "tree": {"sha": "cae26851920d8ab9f1d973ff75985aa00bfc8d22", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cae26851920d8ab9f1d973ff75985aa00bfc8d22"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8c0f9dab864878286b6fd16e26d62be4742cd7d6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c0f9dab864878286b6fd16e26d62be4742cd7d6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8c0f9dab864878286b6fd16e26d62be4742cd7d6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c0f9dab864878286b6fd16e26d62be4742cd7d6/comments", "author": null, "committer": null, "parents": [{"sha": "f2c3b420171091bb377137ae3af9ed1cbc173298", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2c3b420171091bb377137ae3af9ed1cbc173298", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f2c3b420171091bb377137ae3af9ed1cbc173298"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "7d61fbf37af6f8a4aea555351c44a3347008caf1", "filename": "gcc/fortran/decl.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c0f9dab864878286b6fd16e26d62be4742cd7d6/gcc%2Ffortran%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c0f9dab864878286b6fd16e26d62be4742cd7d6/gcc%2Ffortran%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fdecl.c?ref=8c0f9dab864878286b6fd16e26d62be4742cd7d6", "patch": "@@ -5430,6 +5430,7 @@ add_hidden_procptr_result (gfc_symbol *sym)\n \t  gfc_get_sym_tree (\"ppr@\", gfc_current_ns->parent, &stree, false);\n \t  st2 = gfc_new_symtree (&gfc_current_ns->sym_root, \"ppr@\");\n \t  st2->n.sym = stree->n.sym;\n+\t  stree->n.sym->refs++;\n \t}\n       sym->result = stree->n.sym;\n "}, {"sha": "c39b4a9a3b6ca8ed939d73aa89fb22a87897cdfc", "filename": "gcc/testsuite/gfortran.dg/unexp_attribute.f90", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c0f9dab864878286b6fd16e26d62be4742cd7d6/gcc%2Ftestsuite%2Fgfortran.dg%2Funexp_attribute.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c0f9dab864878286b6fd16e26d62be4742cd7d6/gcc%2Ftestsuite%2Fgfortran.dg%2Funexp_attribute.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Funexp_attribute.f90?ref=8c0f9dab864878286b6fd16e26d62be4742cd7d6", "patch": "@@ -0,0 +1,8 @@\n+! { dg-do compile }\n+! PR fortran/69498\n+! This test used to result in an internal compiler error\n+function f()\n+    interface\n+    external f ! { dg-error \"Unexpected attribute declaration statement in INTERFACE\" }\n+    end interface\n+end function"}]}