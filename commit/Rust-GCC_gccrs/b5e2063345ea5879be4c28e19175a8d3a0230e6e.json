{"sha": "b5e2063345ea5879be4c28e19175a8d3a0230e6e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjVlMjA2MzM0NWVhNTg3OWJlNGMyOGUxOTE3NWE4ZDNhMDIzMGU2ZQ==", "commit": {"author": {"name": "Bruce Korb", "email": "korbb@gcc.gnu.org", "date": "2000-07-13T15:20:45Z"}, "committer": {"name": "Bruce Korb", "email": "korbb@gcc.gnu.org", "date": "2000-07-13T15:20:45Z"}, "message": "Regenerate fixincl.x, too\n\nFrom-SVN: r35015", "tree": {"sha": "0243ed9f9724438d5e6eee4442c82af700bee8ab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0243ed9f9724438d5e6eee4442c82af700bee8ab"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b5e2063345ea5879be4c28e19175a8d3a0230e6e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5e2063345ea5879be4c28e19175a8d3a0230e6e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b5e2063345ea5879be4c28e19175a8d3a0230e6e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5e2063345ea5879be4c28e19175a8d3a0230e6e/comments", "author": null, "committer": null, "parents": [{"sha": "c1ef5d297d740f1d415ad41a8d984c22de5918b6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1ef5d297d740f1d415ad41a8d984c22de5918b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c1ef5d297d740f1d415ad41a8d984c22de5918b6"}], "stats": {"total": 362, "additions": 118, "deletions": 244}, "files": [{"sha": "9fb8dd1e141e643eb799fae784a9c66528706ea6", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 118, "deletions": 244, "changes": 362, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5e2063345ea5879be4c28e19175a8d3a0230e6e/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5e2063345ea5879be4c28e19175a8d3a0230e6e/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=b5e2063345ea5879be4c28e19175a8d3a0230e6e", "patch": "@@ -5,7 +5,7 @@\n  * files which are fixed to work correctly with ANSI C and placed in a\n  * directory that GNU C will search.\n  *\n- * This file contains 130 fixup descriptions.\n+ * This file contains 127 fixup descriptions.\n  *\n  * See README-fixinc for more information.\n  *\n@@ -2660,13 +2660,13 @@ tSCC zMath_Huge_Val_From_Dbl_MaxList[] =\n  *  content selection pattern - do fix if pattern found\n  */\n tSCC zMath_Huge_Val_From_Dbl_MaxSelect0[] =\n-       \"define[ \\t]*HUGE_VAL[ \\t]*DBL_MAX\";\n+       \"define[ \\t]+HUGE_VAL[ \\t]+DBL_MAX\";\n \n /*\n  *  content bypass pattern - skip fix if pattern found\n  */\n tSCC zMath_Huge_Val_From_Dbl_MaxBypass0[] =\n-       \"define[ \\t]*DBL_MAX\";\n+       \"define[ \\t]+DBL_MAX\";\n \n #define    MATH_HUGE_VAL_FROM_DBL_MAX_TEST_CT  2\n tTestDesc aMath_Huge_Val_From_Dbl_MaxTests[] = {\n@@ -2677,10 +2677,10 @@ tTestDesc aMath_Huge_Val_From_Dbl_MaxTests[] = {\n  *  Fix Command Arguments for Math_Huge_Val_From_Dbl_Max\n  */\n const char* apzMath_Huge_Val_From_Dbl_MaxPatch[] = { \"sh\", \"-c\",\n-    \"\\tdbl_max_def=`egrep 'define[ \\t]+DBL_MAX[ \\t]+.*' float.h 2>/dev/null`\\n\\\n+    \"\\tdbl_max_def=`egrep 'define[ \\t]+DBL_MAX[ \\t]+.*' float.h | sed 's/.*DBL_MAX[ \\t]*//' 2>/dev/null`\\n\\\n \\n\\\n \\tif ( test -n \\\"${dbl_max_def}\\\" ) > /dev/null 2>&1\\n\\\n-\\tthen sed -e '/define[ \\t]*HUGE_VAL[ \\t]*DBL_MAX/s/DBL_MAX/'\\\"$dbl_max_def/\\\"\\n\\\n+\\tthen sed -e '/define[ \\t]*HUGE_VAL[ \\t]*DBL_MAX/s@DBL_MAX@'\\\"$dbl_max_def@\\\"\\n\\\n \\telse cat\\n\\\n \\tfi\",\n     (char*)NULL };\n@@ -2743,8 +2743,16 @@ tSCC zNested_MotorolaList[] =\n tSCC* apzNested_MotorolaMachs[] = {\n         \"m68k-motorola-sysv*\",\n         (const char*)NULL };\n-#define NESTED_MOTOROLA_TEST_CT  0\n-#define aNested_MotorolaTests   (tTestDesc*)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zNested_MotorolaSelect0[] =\n+       \"max # bytes atomic in write|error value returned by Math lib\";\n+\n+#define    NESTED_MOTOROLA_TEST_CT  1\n+tTestDesc aNested_MotorolaTests[] = {\n+  { TT_EGREP,    zNested_MotorolaSelect0, (regex_t*)NULL }, };\n \n /*\n  *  Fix Command Arguments for Nested_Motorola\n@@ -3453,46 +3461,11 @@ const char* apzSco_UtimePatch[] = {\n     \"(const char *, const struct utimbuf *);\",\n     (char*)NULL };\n \n-/* * * * * * * * * * * * * * * * * * * * * * * * * *\n- *\n- *  Description of Sony_Include fix\n- */\n-#define SONY_INCLUDE_FIXIDX              84\n-tSCC zSony_IncludeName[] =\n-     \"sony_include\";\n-\n-/*\n- *  File name selection pattern\n- */\n-tSCC zSony_IncludeList[] =\n-  \"|machine/machparam.h|\";\n-/*\n- *  Machine/OS name selection pattern\n- */\n-#define apzSony_IncludeMachs (const char**)NULL\n-\n-/*\n- *  content selection pattern - do fix if pattern found\n- */\n-tSCC zSony_IncludeSelect0[] =\n-       \"\\\"\\\\.\\\\./machine/endian.h\\\"\";\n-\n-#define    SONY_INCLUDE_TEST_CT  1\n-tTestDesc aSony_IncludeTests[] = {\n-  { TT_EGREP,    zSony_IncludeSelect0, (regex_t*)NULL }, };\n-\n-/*\n- *  Fix Command Arguments for Sony_Include\n- */\n-const char* apzSony_IncludePatch[] = { \"sed\",\n-    \"-e\", \"s@\\\"../machine/endian.h\\\"@<machine/endian.h>@\",\n-    (char*)NULL };\n-\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Statsswtch fix\n  */\n-#define STATSSWTCH_FIXIDX                85\n+#define STATSSWTCH_FIXIDX                84\n tSCC zStatsswtchName[] =\n      \"statsswtch\";\n \n@@ -3528,7 +3501,7 @@ const char* apzStatsswtchPatch[] = {\n  *\n  *  Description of Stdio_Stdarg_H fix\n  */\n-#define STDIO_STDARG_H_FIXIDX            86\n+#define STDIO_STDARG_H_FIXIDX            85\n tSCC zStdio_Stdarg_HName[] =\n      \"stdio_stdarg_h\";\n \n@@ -3565,7 +3538,7 @@ const char* apzStdio_Stdarg_HPatch[] = {\n  *\n  *  Description of Stdio_Va_List fix\n  */\n-#define STDIO_VA_LIST_FIXIDX             87\n+#define STDIO_VA_LIST_FIXIDX             86\n tSCC zStdio_Va_ListName[] =\n      \"stdio_va_list\";\n \n@@ -3610,7 +3583,7 @@ s@_Va_LIST@_VA_LIST@\",\n  *\n  *  Description of Struct_File fix\n  */\n-#define STRUCT_FILE_FIXIDX               88\n+#define STRUCT_FILE_FIXIDX               87\n tSCC zStruct_FileName[] =\n      \"struct_file\";\n \n@@ -3647,7 +3620,7 @@ const char* apzStruct_FilePatch[] = {\n  *\n  *  Description of Struct_Sockaddr fix\n  */\n-#define STRUCT_SOCKADDR_FIXIDX           89\n+#define STRUCT_SOCKADDR_FIXIDX           88\n tSCC zStruct_SockaddrName[] =\n      \"struct_sockaddr\";\n \n@@ -3691,7 +3664,7 @@ const char* apzStruct_SockaddrPatch[] = {\n  *\n  *  Description of Sun_Auth_Proto fix\n  */\n-#define SUN_AUTH_PROTO_FIXIDX            90\n+#define SUN_AUTH_PROTO_FIXIDX            89\n tSCC zSun_Auth_ProtoName[] =\n      \"sun_auth_proto\";\n \n@@ -3732,7 +3705,7 @@ const char* apzSun_Auth_ProtoPatch[] = {\n  *\n  *  Description of Sun_Bogus_Ifdef fix\n  */\n-#define SUN_BOGUS_IFDEF_FIXIDX           91\n+#define SUN_BOGUS_IFDEF_FIXIDX           90\n tSCC zSun_Bogus_IfdefName[] =\n      \"sun_bogus_ifdef\";\n \n@@ -3768,7 +3741,7 @@ const char* apzSun_Bogus_IfdefPatch[] = {\n  *\n  *  Description of Sun_Catmacro fix\n  */\n-#define SUN_CATMACRO_FIXIDX              92\n+#define SUN_CATMACRO_FIXIDX              91\n tSCC zSun_CatmacroName[] =\n      \"sun_catmacro\";\n \n@@ -3808,7 +3781,7 @@ const char* apzSun_CatmacroPatch[] = {\n  *\n  *  Description of Sun_Malloc fix\n  */\n-#define SUN_MALLOC_FIXIDX                93\n+#define SUN_MALLOC_FIXIDX                92\n tSCC zSun_MallocName[] =\n      \"sun_malloc\";\n \n@@ -3839,7 +3812,7 @@ const char* apzSun_MallocPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Rusers_Semi fix\n  */\n-#define SUN_RUSERS_SEMI_FIXIDX           94\n+#define SUN_RUSERS_SEMI_FIXIDX           93\n tSCC zSun_Rusers_SemiName[] =\n      \"sun_rusers_semi\";\n \n@@ -3874,7 +3847,7 @@ const char* apzSun_Rusers_SemiPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Signal fix\n  */\n-#define SUN_SIGNAL_FIXIDX                95\n+#define SUN_SIGNAL_FIXIDX                94\n tSCC zSun_SignalName[] =\n      \"sun_signal\";\n \n@@ -3914,7 +3887,7 @@ void\\t(*signal(...))(...);\\n\\\n  *\n  *  Description of Sunos_Matherr_Decl fix\n  */\n-#define SUNOS_MATHERR_DECL_FIXIDX        96\n+#define SUNOS_MATHERR_DECL_FIXIDX        95\n tSCC zSunos_Matherr_DeclName[] =\n      \"sunos_matherr_decl\";\n \n@@ -3957,7 +3930,7 @@ const char* apzSunos_Matherr_DeclPatch[] = {\n  *\n  *  Description of Sunos_Strlen fix\n  */\n-#define SUNOS_STRLEN_FIXIDX              97\n+#define SUNOS_STRLEN_FIXIDX              96\n tSCC zSunos_StrlenName[] =\n      \"sunos_strlen\";\n \n@@ -3993,7 +3966,7 @@ const char* apzSunos_StrlenPatch[] = {\n  *\n  *  Description of Svr4__P fix\n  */\n-#define SVR4__P_FIXIDX                   98\n+#define SVR4__P_FIXIDX                   97\n tSCC zSvr4__PName[] =\n      \"svr4__p\";\n \n@@ -4031,7 +4004,7 @@ const char* apzSvr4__PPatch[] = {\n  *\n  *  Description of Svr4_Getcwd fix\n  */\n-#define SVR4_GETCWD_FIXIDX               99\n+#define SVR4_GETCWD_FIXIDX               98\n tSCC zSvr4_GetcwdName[] =\n      \"svr4_getcwd\";\n \n@@ -4067,7 +4040,7 @@ const char* apzSvr4_GetcwdPatch[] = {\n  *\n  *  Description of Svr4_Profil fix\n  */\n-#define SVR4_PROFIL_FIXIDX               100\n+#define SVR4_PROFIL_FIXIDX               99\n tSCC zSvr4_ProfilName[] =\n      \"svr4_profil\";\n \n@@ -4101,122 +4074,59 @@ const char* apzSvr4_ProfilPatch[] = {\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Systypes fix\n+ *  Description of Gnu_Types fix\n  */\n-#define SYSTYPES_FIXIDX                  101\n-tSCC zSystypesName[] =\n-     \"systypes\";\n+#define GNU_TYPES_FIXIDX                 100\n+tSCC zGnu_TypesName[] =\n+     \"gnu_types\";\n \n /*\n  *  File name selection pattern\n  */\n-tSCC zSystypesList[] =\n+tSCC zGnu_TypesList[] =\n   \"|sys/types.h|stdlib.h|sys/stdtypes.h|stddef.h|memory.h|unistd.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n-#define apzSystypesMachs (const char**)NULL\n-\n-/*\n- *  content selection pattern - do fix if pattern found\n- */\n-tSCC zSystypesSelect0[] =\n-       \"typedef[ \\t]+[a-z_][ \\ta-z_]*[ \\t](size|ptrdiff|wchar)_t\";\n-\n-#define    SYSTYPES_TEST_CT  1\n-tTestDesc aSystypesTests[] = {\n-  { TT_EGREP,    zSystypesSelect0, (regex_t*)NULL }, };\n-\n-/*\n- *  Fix Command Arguments for Systypes\n- */\n-const char* apzSystypesPatch[] = { \"sed\",\n-    \"-e\", \"/^[ \\t]*\\\\*[ \\t]*typedef unsigned int size_t;/N\",\n-    \"-e\", \"s/^\\\\([ \\t]*\\\\*[ \\t]*typedef unsigned int size_t;\\\\n[ \\t]*\\\\*\\\\/\\\\)/\\\\1\\\\\\n\\\n-#ifndef __SIZE_TYPE__\\\\\\n\\\n-#define __SIZE_TYPE__ long unsigned int\\\\\\n\\\n-#endif\\\\\\n\\\n-typedef __SIZE_TYPE__ size_t;\\\\\\n\\\n-/\",\n-    \"-e\", \"/typedef[ \\t][ \\t]*[a-z_][ \\ta-z_]*[ \\t]size_t/i\\\\\\n\\\n-#ifndef __SIZE_TYPE__\\\\\\n\\\n-#define __SIZE_TYPE__ long unsigned int\\\\\\n\\\n-#endif\\n\",\n-    \"-e\", \"s/typedef[ \\t][ \\t]*[a-z_][ \\ta-z_]*[ \\t]size_t/typedef __SIZE_TYPE__ size_t/\",\n-    \"-e\", \"/typedef[ \\t][ \\t]*[a-z_][ \\ta-z_]*[ \\t]ptrdiff_t/i\\\\\\n\\\n-#ifndef __PTRDIFF_TYPE__\\\\\\n\\\n-#define __PTRDIFF_TYPE__ long int\\\\\\n\\\n-#endif\\n\",\n-    \"-e\", \"s/typedef[ \\t][ \\t]*[a-z_][ \\ta-z_]*[ \\t]ptrdiff_t/typedef __PTRDIFF_TYPE__ ptrdiff_t/\",\n-    \"-e\", \"/typedef[ \\t][ \\t]*[a-z_][ \\ta-z_]*[ \\t]wchar_t/i\\\\\\n\\\n-#ifndef __WCHAR_TYPE__\\\\\\n\\\n-#define __WCHAR_TYPE__ int\\\\\\n\\\n-#endif\\\\\\n\\\n-#ifndef __cplusplus\\n\",\n-    \"-e\", \"/typedef[ \\t][ \\t]*[a-z_][ \\ta-z_]*[ \\t]wchar_t/a\\\\\\n\\\n-#endif\\n\",\n-    \"-e\", \"s/typedef[ \\t][ \\t]*[a-z_][ \\ta-z_]*[ \\t]wchar_t/typedef __WCHAR_TYPE__ wchar_t/\",\n-    (char*)NULL };\n-\n-/* * * * * * * * * * * * * * * * * * * * * * * * * *\n- *\n- *  Description of Systypes_Stdlib_Size_T fix\n- */\n-#define SYSTYPES_STDLIB_SIZE_T_FIXIDX    102\n-tSCC zSystypes_Stdlib_Size_TName[] =\n-     \"systypes_stdlib_size_t\";\n-\n-/*\n- *  File name selection pattern\n- */\n-tSCC zSystypes_Stdlib_Size_TList[] =\n-  \"|sys/types.h|stdlib.h|\";\n-/*\n- *  Machine/OS name selection pattern\n- */\n-#define apzSystypes_Stdlib_Size_TMachs (const char**)NULL\n+#define apzGnu_TypesMachs (const char**)NULL\n \n /*\n  *  content selection pattern - do fix if pattern found\n  */\n-tSCC zSystypes_Stdlib_Size_TSelect0[] =\n-       \"typedef[ \\t]+[A-Za-z_][ \\tA-Za-z_]*[ \\t]size_t.*\";\n+tSCC zGnu_TypesSelect0[] =\n+       \"^[ \\t]*typedef[ \\t]+.*[ \\t](ptrdiff|size|wchar)_t;\";\n \n /*\n  *  content bypass pattern - skip fix if pattern found\n  */\n-tSCC zSystypes_Stdlib_Size_TBypass0[] =\n-       \"_(GCC|BSD)_SIZE_T\";\n+tSCC zGnu_TypesBypass0[] =\n+       \"_GCC_(PTRDIFF|SIZE|WCHAR)_T\";\n \n-#define    SYSTYPES_STDLIB_SIZE_T_TEST_CT  2\n-tTestDesc aSystypes_Stdlib_Size_TTests[] = {\n-  { TT_NEGREP,   zSystypes_Stdlib_Size_TBypass0, (regex_t*)NULL },\n-  { TT_EGREP,    zSystypes_Stdlib_Size_TSelect0, (regex_t*)NULL }, };\n+#define    GNU_TYPES_TEST_CT  2\n+tTestDesc aGnu_TypesTests[] = {\n+  { TT_NEGREP,   zGnu_TypesBypass0, (regex_t*)NULL },\n+  { TT_EGREP,    zGnu_TypesSelect0, (regex_t*)NULL }, };\n \n /*\n- *  Fix Command Arguments for Systypes_Stdlib_Size_T\n+ *  Fix Command Arguments for Gnu_Types\n  */\n-const char* apzSystypes_Stdlib_Size_TPatch[] = {\n-    \"format\",\n-    \"#ifndef _GCC_SIZE_T\\n\\\n-#define _GCC_SIZE_T\\n\\\n-%0\\n\\\n-#endif\",\n+const char* apzGnu_TypesPatch[] = {\n+    \"gnu_type\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Sysv68_String fix\n  */\n-#define SYSV68_STRING_FIXIDX             103\n+#define SYSV68_STRING_FIXIDX             101\n tSCC zSysv68_StringName[] =\n      \"sysv68_string\";\n \n /*\n  *  File name selection pattern\n  */\n tSCC zSysv68_StringList[] =\n-  \"|string.h|\";\n+  \"|testing.h|string.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n@@ -4245,7 +4155,7 @@ extern unsigned int\\\\\\n\\\n  *\n  *  Description of Sysz_Stdlib_For_Sun fix\n  */\n-#define SYSZ_STDLIB_FOR_SUN_FIXIDX       104\n+#define SYSZ_STDLIB_FOR_SUN_FIXIDX       102\n tSCC zSysz_Stdlib_For_SunName[] =\n      \"sysz_stdlib_for_sun\";\n \n@@ -4277,52 +4187,11 @@ const char* apzSysz_Stdlib_For_SunPatch[] = {\n     \"void *\\t%1(\",\n     (char*)NULL };\n \n-/* * * * * * * * * * * * * * * * * * * * * * * * * *\n- *\n- *  Description of Sysz_Stdtypes_For_Sun fix\n- */\n-#define SYSZ_STDTYPES_FOR_SUN_FIXIDX     105\n-tSCC zSysz_Stdtypes_For_SunName[] =\n-     \"sysz_stdtypes_for_sun\";\n-\n-/*\n- *  File name selection pattern\n- */\n-tSCC zSysz_Stdtypes_For_SunList[] =\n-  \"|sys/stdtypes.h|\";\n-/*\n- *  Machine/OS name selection pattern\n- */\n-#define apzSysz_Stdtypes_For_SunMachs (const char**)NULL\n-#define SYSZ_STDTYPES_FOR_SUN_TEST_CT  0\n-#define aSysz_Stdtypes_For_SunTests   (tTestDesc*)NULL\n-\n-/*\n- *  Fix Command Arguments for Sysz_Stdtypes_For_Sun\n- */\n-const char* apzSysz_Stdtypes_For_SunPatch[] = { \"sed\",\n-    \"-e\", \"/[\\t ]size_t.*;/i\\\\\\n\\\n-#ifndef _GCC_SIZE_T\\\\\\n\\\n-#define _GCC_SIZE_T\\n\",\n-    \"-e\", \"/[\\t ]size_t.*;/a\\\\\\n\\\n-#endif\\n\",\n-    \"-e\", \"/[\\t ]ptrdiff_t.*;/i\\\\\\n\\\n-#ifndef _GCC_PTRDIFF_T\\\\\\n\\\n-#define _GCC_PTRDIFF_T\\n\",\n-    \"-e\", \"/[\\t ]ptrdiff_t.*;/a\\\\\\n\\\n-#endif\\n\",\n-    \"-e\", \"/[\\t ]wchar_t.*;/i\\\\\\n\\\n-#ifndef _GCC_WCHAR_T\\\\\\n\\\n-#define _GCC_WCHAR_T\\n\",\n-    \"-e\", \"/[\\t ]wchar_t.*;/a\\\\\\n\\\n-#endif\\n\",\n-    (char*)NULL };\n-\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Tinfo_Cplusplus fix\n  */\n-#define TINFO_CPLUSPLUS_FIXIDX           106\n+#define TINFO_CPLUSPLUS_FIXIDX           103\n tSCC zTinfo_CplusplusName[] =\n      \"tinfo_cplusplus\";\n \n@@ -4358,7 +4227,7 @@ const char* apzTinfo_CplusplusPatch[] = {\n  *\n  *  Description of Ultrix_Atof_Param fix\n  */\n-#define ULTRIX_ATOF_PARAM_FIXIDX         107\n+#define ULTRIX_ATOF_PARAM_FIXIDX         104\n tSCC zUltrix_Atof_ParamName[] =\n      \"ultrix_atof_param\";\n \n@@ -4394,7 +4263,7 @@ const char* apzUltrix_Atof_ParamPatch[] = {\n  *\n  *  Description of Ultrix_Const fix\n  */\n-#define ULTRIX_CONST_FIXIDX              108\n+#define ULTRIX_CONST_FIXIDX              105\n tSCC zUltrix_ConstName[] =\n      \"ultrix_const\";\n \n@@ -4431,7 +4300,7 @@ const char* apzUltrix_ConstPatch[] = {\n  *\n  *  Description of Ultrix_Const2 fix\n  */\n-#define ULTRIX_CONST2_FIXIDX             109\n+#define ULTRIX_CONST2_FIXIDX             106\n tSCC zUltrix_Const2Name[] =\n      \"ultrix_const2\";\n \n@@ -4468,7 +4337,7 @@ const char* apzUltrix_Const2Patch[] = {\n  *\n  *  Description of Ultrix_Fix_Fixproto fix\n  */\n-#define ULTRIX_FIX_FIXPROTO_FIXIDX       110\n+#define ULTRIX_FIX_FIXPROTO_FIXIDX       107\n tSCC zUltrix_Fix_FixprotoName[] =\n      \"ultrix_fix_fixproto\";\n \n@@ -4506,7 +4375,7 @@ const char* apzUltrix_Fix_FixprotoPatch[] = {\n  *\n  *  Description of Ultrix_Ifdef fix\n  */\n-#define ULTRIX_IFDEF_FIXIDX              111\n+#define ULTRIX_IFDEF_FIXIDX              108\n tSCC zUltrix_IfdefName[] =\n      \"ultrix_ifdef\";\n \n@@ -4542,7 +4411,7 @@ const char* apzUltrix_IfdefPatch[] = {\n  *\n  *  Description of Ultrix_Math_Ifdef fix\n  */\n-#define ULTRIX_MATH_IFDEF_FIXIDX         112\n+#define ULTRIX_MATH_IFDEF_FIXIDX         109\n tSCC zUltrix_Math_IfdefName[] =\n      \"ultrix_math_ifdef\";\n \n@@ -4578,7 +4447,7 @@ const char* apzUltrix_Math_IfdefPatch[] = {\n  *\n  *  Description of Ultrix_Nested_Ioctl fix\n  */\n-#define ULTRIX_NESTED_IOCTL_FIXIDX       113\n+#define ULTRIX_NESTED_IOCTL_FIXIDX       110\n tSCC zUltrix_Nested_IoctlName[] =\n      \"ultrix_nested_ioctl\";\n \n@@ -4613,7 +4482,7 @@ const char* apzUltrix_Nested_IoctlPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Nested_Svc fix\n  */\n-#define ULTRIX_NESTED_SVC_FIXIDX         114\n+#define ULTRIX_NESTED_SVC_FIXIDX         111\n tSCC zUltrix_Nested_SvcName[] =\n      \"ultrix_nested_svc\";\n \n@@ -4648,7 +4517,7 @@ const char* apzUltrix_Nested_SvcPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Stat fix\n  */\n-#define ULTRIX_STAT_FIXIDX               115\n+#define ULTRIX_STAT_FIXIDX               112\n tSCC zUltrix_StatName[] =\n      \"ultrix_stat\";\n \n@@ -4689,7 +4558,7 @@ const char* apzUltrix_StatPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Static fix\n  */\n-#define ULTRIX_STATIC_FIXIDX             116\n+#define ULTRIX_STATIC_FIXIDX             113\n tSCC zUltrix_StaticName[] =\n      \"ultrix_static\";\n \n@@ -4726,7 +4595,7 @@ const char* apzUltrix_StaticPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Strings fix\n  */\n-#define ULTRIX_STRINGS_FIXIDX            117\n+#define ULTRIX_STRINGS_FIXIDX            114\n tSCC zUltrix_StringsName[] =\n      \"ultrix_strings\";\n \n@@ -4761,7 +4630,7 @@ const char* apzUltrix_StringsPatch[] = {\n  *\n  *  Description of Undefine_Null fix\n  */\n-#define UNDEFINE_NULL_FIXIDX             118\n+#define UNDEFINE_NULL_FIXIDX             115\n tSCC zUndefine_NullName[] =\n      \"undefine_null\";\n \n@@ -4805,21 +4674,21 @@ const char* apzUndefine_NullPatch[] = {\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Unixware7_Byteorder_Fix fix\n+ *  Description of Uw7_Byteorder_Fix fix\n  */\n-#define UNIXWARE7_BYTEORDER_FIX_FIXIDX   119\n-tSCC zUnixware7_Byteorder_FixName[] =\n-     \"unixware7_byteorder_fix\";\n+#define UW7_BYTEORDER_FIX_FIXIDX         116\n+tSCC zUw7_Byteorder_FixName[] =\n+     \"uw7_byteorder_fix\";\n \n /*\n  *  File name selection pattern\n  */\n-tSCC zUnixware7_Byteorder_FixList[] =\n+tSCC zUw7_Byteorder_FixList[] =\n   \"|arpa/inet.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n-tSCC* apzUnixware7_Byteorder_FixMachs[] = {\n+tSCC* apzUw7_Byteorder_FixMachs[] = {\n         \"*-*-sysv4*\",\n         \"i?86-*-sysv5*\",\n         \"i?86-*-udk*\",\n@@ -4831,26 +4700,34 @@ tSCC* apzUnixware7_Byteorder_FixMachs[] = {\n /*\n  *  content selection pattern - do fix if pattern found\n  */\n-tSCC zUnixware7_Byteorder_FixSelect0[] =\n+tSCC zUw7_Byteorder_FixSelect0[] =\n        \"in_port_t\";\n \n-#define    UNIXWARE7_BYTEORDER_FIX_TEST_CT  1\n-tTestDesc aUnixware7_Byteorder_FixTests[] = {\n-  { TT_EGREP,    zUnixware7_Byteorder_FixSelect0, (regex_t*)NULL }, };\n+/*\n+ *  perform the 'test' shell command - do fix on success\n+ */\n+tSCC zUw7_Byteorder_FixTest0[] =\n+       \"-f $DESTDIR/sys/byteorder.h\";\n+\n+#define    UW7_BYTEORDER_FIX_TEST_CT  2\n+tTestDesc aUw7_Byteorder_FixTests[] = {\n+  { TT_TEST,     zUw7_Byteorder_FixTest0,   0 /* unused */ },\n+  { TT_EGREP,    zUw7_Byteorder_FixSelect0, (regex_t*)NULL }, };\n \n /*\n- *  Fix Command Arguments for Unixware7_Byteorder_Fix\n+ *  Fix Command Arguments for Uw7_Byteorder_Fix\n  */\n-const char* apzUnixware7_Byteorder_FixPatch[] = { \"sed\",\n-    \"-e\", \"/^extern.*htons.*(in_port_t)/d\",\n-    \"-e\", \"/^extern.*ntohs.*(in_port_t)/d\",\n+const char* apzUw7_Byteorder_FixPatch[] = {\n+    \"format\",\n+    \"\",\n+    \"^extern.*(htons|ntohs).*\\\\(in_port_t\\\\).*\\n\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Va_I960_Macro fix\n  */\n-#define VA_I960_MACRO_FIXIDX             120\n+#define VA_I960_MACRO_FIXIDX             117\n tSCC zVa_I960_MacroName[] =\n      \"va_i960_macro\";\n \n@@ -4886,7 +4763,7 @@ const char* apzVa_I960_MacroPatch[] = {\n  *\n  *  Description of Void_Null fix\n  */\n-#define VOID_NULL_FIXIDX                 121\n+#define VOID_NULL_FIXIDX                 118\n tSCC zVoid_NullName[] =\n      \"void_null\";\n \n@@ -4922,7 +4799,7 @@ const char* apzVoid_NullPatch[] = {\n  *\n  *  Description of Vxworks_Gcc_Problem fix\n  */\n-#define VXWORKS_GCC_PROBLEM_FIXIDX       122\n+#define VXWORKS_GCC_PROBLEM_FIXIDX       119\n tSCC zVxworks_Gcc_ProblemName[] =\n      \"vxworks_gcc_problem\";\n \n@@ -4972,7 +4849,7 @@ const char* apzVxworks_Gcc_ProblemPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Needs_Vxtypes fix\n  */\n-#define VXWORKS_NEEDS_VXTYPES_FIXIDX     123\n+#define VXWORKS_NEEDS_VXTYPES_FIXIDX     120\n tSCC zVxworks_Needs_VxtypesName[] =\n      \"vxworks_needs_vxtypes\";\n \n@@ -5008,7 +4885,7 @@ const char* apzVxworks_Needs_VxtypesPatch[] = {\n  *\n  *  Description of Vxworks_Needs_Vxworks fix\n  */\n-#define VXWORKS_NEEDS_VXWORKS_FIXIDX     124\n+#define VXWORKS_NEEDS_VXWORKS_FIXIDX     121\n tSCC zVxworks_Needs_VxworksName[] =\n      \"vxworks_needs_vxworks\";\n \n@@ -5057,7 +4934,7 @@ const char* apzVxworks_Needs_VxworksPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Time fix\n  */\n-#define VXWORKS_TIME_FIXIDX              125\n+#define VXWORKS_TIME_FIXIDX              122\n tSCC zVxworks_TimeName[] =\n      \"vxworks_time\";\n \n@@ -5108,7 +4985,7 @@ typedef void (*__gcc_VOIDFUNCPTR) ();\\n\\\n  *\n  *  Description of X11_Class fix\n  */\n-#define X11_CLASS_FIXIDX                 126\n+#define X11_CLASS_FIXIDX                 123\n tSCC zX11_ClassName[] =\n      \"x11_class\";\n \n@@ -5155,7 +5032,7 @@ const char* apzX11_ClassPatch[] = {\n  *\n  *  Description of X11_Class_Usage fix\n  */\n-#define X11_CLASS_USAGE_FIXIDX           127\n+#define X11_CLASS_USAGE_FIXIDX           124\n tSCC zX11_Class_UsageName[] =\n      \"x11_class_usage\";\n \n@@ -5198,7 +5075,7 @@ const char* apzX11_Class_UsagePatch[] = {\n  *\n  *  Description of X11_New fix\n  */\n-#define X11_NEW_FIXIDX                   128\n+#define X11_NEW_FIXIDX                   125\n tSCC zX11_NewName[] =\n      \"x11_new\";\n \n@@ -5239,7 +5116,7 @@ const char* apzX11_NewPatch[] = { \"sed\",\n  *\n  *  Description of X11_Sprintf fix\n  */\n-#define X11_SPRINTF_FIXIDX               129\n+#define X11_SPRINTF_FIXIDX               126\n tSCC zX11_SprintfName[] =\n      \"x11_sprintf\";\n \n@@ -5278,9 +5155,9 @@ const char* apzX11_SprintfPatch[] = {\n  *\n  *  List of all fixes\n  */\n-#define REGEX_COUNT          132\n+#define REGEX_COUNT          131\n #define MACH_LIST_SIZE_LIMIT 279\n-#define FIX_COUNT            130\n+#define FIX_COUNT            127\n \n tFixDesc fixDescList[ FIX_COUNT ] = {\n   {  zAaa_Ki_IfaceName,    zAaa_Ki_IfaceList,\n@@ -5703,11 +5580,6 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      SCO_UTIME_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aSco_UtimeTests,   apzSco_UtimePatch },\n \n-  {  zSony_IncludeName,    zSony_IncludeList,\n-     apzSony_IncludeMachs,\n-     SONY_INCLUDE_TEST_CT, FD_MACH_ONLY,\n-     aSony_IncludeTests,   apzSony_IncludePatch },\n-\n   {  zStatsswtchName,    zStatsswtchList,\n      apzStatsswtchMachs,\n      STATSSWTCH_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n@@ -5788,15 +5660,10 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      SVR4_PROFIL_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aSvr4_ProfilTests,   apzSvr4_ProfilPatch },\n \n-  {  zSystypesName,    zSystypesList,\n-     apzSystypesMachs,\n-     SYSTYPES_TEST_CT, FD_MACH_ONLY,\n-     aSystypesTests,   apzSystypesPatch },\n-\n-  {  zSystypes_Stdlib_Size_TName,    zSystypes_Stdlib_Size_TList,\n-     apzSystypes_Stdlib_Size_TMachs,\n-     SYSTYPES_STDLIB_SIZE_T_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n-     aSystypes_Stdlib_Size_TTests,   apzSystypes_Stdlib_Size_TPatch },\n+  {  zGnu_TypesName,    zGnu_TypesList,\n+     apzGnu_TypesMachs,\n+     GNU_TYPES_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aGnu_TypesTests,   apzGnu_TypesPatch },\n \n   {  zSysv68_StringName,    zSysv68_StringList,\n      apzSysv68_StringMachs,\n@@ -5808,11 +5675,6 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      SYSZ_STDLIB_FOR_SUN_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aSysz_Stdlib_For_SunTests,   apzSysz_Stdlib_For_SunPatch },\n \n-  {  zSysz_Stdtypes_For_SunName,    zSysz_Stdtypes_For_SunList,\n-     apzSysz_Stdtypes_For_SunMachs,\n-     SYSZ_STDTYPES_FOR_SUN_TEST_CT, FD_MACH_ONLY,\n-     aSysz_Stdtypes_For_SunTests,   apzSysz_Stdtypes_For_SunPatch },\n-\n   {  zTinfo_CplusplusName,    zTinfo_CplusplusList,\n      apzTinfo_CplusplusMachs,\n      TINFO_CPLUSPLUS_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n@@ -5878,10 +5740,10 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      UNDEFINE_NULL_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aUndefine_NullTests,   apzUndefine_NullPatch },\n \n-  {  zUnixware7_Byteorder_FixName,    zUnixware7_Byteorder_FixList,\n-     apzUnixware7_Byteorder_FixMachs,\n-     UNIXWARE7_BYTEORDER_FIX_TEST_CT, FD_MACH_ONLY,\n-     aUnixware7_Byteorder_FixTests,   apzUnixware7_Byteorder_FixPatch },\n+  {  zUw7_Byteorder_FixName,    zUw7_Byteorder_FixList,\n+     apzUw7_Byteorder_FixMachs,\n+     UW7_BYTEORDER_FIX_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aUw7_Byteorder_FixTests,   apzUw7_Byteorder_FixPatch },\n \n   {  zVa_I960_MacroName,    zVa_I960_MacroList,\n      apzVa_I960_MacroMachs,\n@@ -5933,3 +5795,15 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      X11_SPRINTF_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aX11_SprintfTests,   apzX11_SprintfPatch }\n };\n+\n+#define GNU_TYPE_CT 3\n+int gnu_type_map_ct = GNU_TYPE_CT;\n+\n+tSCC z_cxx_guard[] = \" && !defined(__cplusplus)\";\n+tSCC z_nil[]       = \"\";\n+\n+t_gnu_type_map gnu_type_map[ GNU_TYPE_CT ] = {\n+  { 7, \"ptrdiff\", \"PTRDIFF\", \"long int\", z_nil },\n+  { 4, \"size\", \"SIZE\", \"long unsigned int\", z_nil },\n+  { 5, \"wchar\", \"WCHAR\", \"int\", z_cxx_guard }\n+};"}]}