{"sha": "cec9701b510ebcb5cfdf431a5b0dd9c143f1da69", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2VjOTcwMWI1MTBlYmNiNWNmZGY0MzFhNWIwZGQ5YzE0M2YxZGE2OQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2018-05-02T21:57:35Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2018-05-02T21:57:35Z"}, "message": "libgo: refactor code to enumerate stdlib packages\n    \n    Move the list of libgo, gotool, and check-target packages into\n    separate files, then read the file contents as part of the build\n    process on the fly. This is intended to enable other build tooling to\n    share the canonical list of target packages (avoid duplication).\n    \n    Reviewed-on: https://go-review.googlesource.com/89515\n\n    libgo: revise rules for runtime.inc generation\n    \n    Refactor code for generating runtime.inc: extract out the relevant\n    commands and place them in a separate shell script (\"mkruntimeinc.sh\").\n    Update rules to avoid generating macros whose names begin with \"$\",\n    such as \"#define $sinkconst0 0\".\n    \n    Reviewed-on: https://go-review.googlesource.com/85955\n\nFrom-SVN: r259863", "tree": {"sha": "86088359f0bc0ae2c22707b9c4847e85266d9540", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/86088359f0bc0ae2c22707b9c4847e85266d9540"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cec9701b510ebcb5cfdf431a5b0dd9c143f1da69", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cec9701b510ebcb5cfdf431a5b0dd9c143f1da69", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cec9701b510ebcb5cfdf431a5b0dd9c143f1da69", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cec9701b510ebcb5cfdf431a5b0dd9c143f1da69/comments", "author": null, "committer": null, "parents": [{"sha": "31aa23df38a66c429d08c06a0005eccecc9234dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31aa23df38a66c429d08c06a0005eccecc9234dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/31aa23df38a66c429d08c06a0005eccecc9234dc"}], "stats": {"total": 1208, "additions": 424, "deletions": 784}, "files": [{"sha": "119d241aaaf5038d1972d17a4c82dc39b9bf6629", "filename": "libgo/Makefile.am", "status": "modified", "additions": 11, "deletions": 391, "changes": 402, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cec9701b510ebcb5cfdf431a5b0dd9c143f1da69/libgo%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cec9701b510ebcb5cfdf431a5b0dd9c143f1da69/libgo%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.am?ref=cec9701b510ebcb5cfdf431a5b0dd9c143f1da69", "patch": "@@ -593,25 +593,13 @@ s-zdefaultcc: Makefile\n \t$(SHELL) $(srcdir)/../move-if-change zdefaultcc.go.tmp zdefaultcc.go\n \t$(STAMP) $@ \n \n-# _Complex_lock and _Reader_lock are Go translations of some AIX system\n-# types and should not be exported back to C\n-# semt is a Go translation of the C type sem_t; it fails to convert on\n-# some systems and need not be exported back to C.\n-# sigset conflicts with system type sigset on AIX, so we need to rename it\n+# Post-process runtime.inc.raw (raw output of -fgo-c-header option when\n+# compiling runtime) to prune out certain types that should not be\n+# exported back to C. See comments in mkruntimeinc.sh for more details.\n runtime.inc: s-runtime-inc; @true\n s-runtime-inc: runtime.lo Makefile\n-\trm -f runtime.inc.tmp2 runtime.inc.tmp3\n-\tgrep -v \"#define _\" runtime.inc.tmp | grep -v \"#define [cm][01234] \" | grep -v \"#define empty \" > runtime.inc.tmp2\n-\tfor pattern in '_[GP][a-z]' _Max _Lock _Sig _Trace _MHeap _Num; do \\\n-\t  grep \"#define $$pattern\" runtime.inc.tmp >> runtime.inc.tmp2; \\\n-\tdone\n-\tfor TYPE in _Complex_lock _Reader_lock semt; do \\\n-\t  sed -e '/struct '$${TYPE}' {/,/^}/s/^.*$$//' runtime.inc.tmp2 > runtime.inc.tmp3; \\\n-\t  mv runtime.inc.tmp3 runtime.inc.tmp2; \\\n-\tdone\n-\tsed -e 's/sigset/sigset_go/' runtime.inc.tmp2 > runtime.inc.tmp3\n-\t$(SHELL) $(srcdir)/mvifdiff.sh runtime.inc.tmp3 runtime.inc\n-\trm -f runtime.inc.tmp2 runtime.inc.tmp3\n+\t$(SHELL) $(srcdir)/mkruntimeinc.sh\n+\t$(SHELL) $(srcdir)/mvifdiff.sh tmp-runtime.inc runtime.inc\n \t$(STAMP) $@\n \n noinst_DATA += zstdpkglist.go zdefaultcc.go\n@@ -714,184 +702,7 @@ else\n syscall_lib_clone_lo =\n endif\n \n-PACKAGES = \\\n-\tarchive/tar \\\n-\tarchive/zip \\\n-\tbufio \\\n-\tbytes \\\n-\tcompress/bzip2 \\\n-\tcompress/flate \\\n-\tcompress/gzip \\\n-\tcompress/lzw \\\n-\tcompress/zlib \\\n-\tcontainer/heap \\\n-\tcontainer/list \\\n-\tcontainer/ring \\\n-\tcontext \\\n-\tcrypto \\\n-\tcrypto/aes \\\n-\tcrypto/cipher \\\n-\tcrypto/des \\\n-\tcrypto/dsa \\\n-\tcrypto/ecdsa \\\n-\tcrypto/elliptic \\\n-\tcrypto/hmac \\\n-\tcrypto/internal/cipherhw \\\n-\tcrypto/md5 \\\n-\tcrypto/rand \\\n-\tcrypto/rc4 \\\n-\tcrypto/rsa \\\n-\tcrypto/sha1 \\\n-\tcrypto/sha256 \\\n-\tcrypto/sha512 \\\n-\tcrypto/subtle \\\n-\tcrypto/tls \\\n-\tcrypto/x509 \\\n-\tcrypto/x509/pkix \\\n-\tdatabase/sql \\\n-\tdatabase/sql/driver \\\n-\tdebug/dwarf \\\n-\tdebug/elf \\\n-\tdebug/gosym \\\n-\tdebug/macho \\\n-\tdebug/pe \\\n-\tdebug/plan9obj \\\n-\tdebug/xcoff \\\n-\tencoding \\\n-\tencoding/ascii85 \\\n-\tencoding/asn1 \\\n-\tencoding/base32 \\\n-\tencoding/base64 \\\n-\tencoding/binary \\\n-\tencoding/csv \\\n-\tencoding/gob \\\n-\tencoding/hex \\\n-\tencoding/json \\\n-\tencoding/pem \\\n-\tencoding/xml \\\n-\terrors \\\n-\texpvar \\\n-\tflag \\\n-\tfmt \\\n-\tgo/ast \\\n-\tgo/build \\\n-\tgo/constant \\\n-\tgo/doc \\\n-\tgo/format \\\n-\tgo/importer \\\n-\tgo/internal/gccgoimporter \\\n-\tgo/internal/gcimporter \\\n-\tgo/internal/srcimporter \\\n-\tgo/parser \\\n-\tgo/printer \\\n-\tgo/scanner \\\n-\tgo/token \\\n-\tgo/types \\\n-\tgolang_org/x/crypto/chacha20poly1305 \\\n-\tgolang_org/x/crypto/chacha20poly1305/internal/chacha20 \\\n-\tgolang_org/x/crypto/cryptobyte \\\n-\tgolang_org/x/crypto/cryptobyte/asn1 \\\n-\tgolang_org/x/crypto/curve25519 \\\n-\tgolang_org/x/crypto/poly1305 \\\n-\tgolang_org/x/net/http2/hpack \\\n-\tgolang_org/x/net/idna \\\n-\tgolang_org/x/net/internal/nettest \\\n-\tgolang_org/x/net/lex/httplex \\\n-\tgolang_org/x/net/nettest \\\n-\tgolang_org/x/net/proxy \\\n-\tgolang_org/x/text/secure/bidirule \\\n-\tgolang_org/x/text/transform \\\n-\tgolang_org/x/text/unicode/bidi \\\n-\tgolang_org/x/text/unicode/norm \\\n-\tgolang_org/x/text/width \\\n-\thash \\\n-\thash/adler32 \\\n-\thash/crc32 \\\n-\thash/crc64 \\\n-\thash/fnv \\\n-\thtml \\\n-\thtml/template \\\n-\timage \\\n-\timage/color \\\n-\timage/color/palette \\\n-\timage/draw \\\n-\timage/gif \\\n-\timage/internal/imageutil \\\n-\timage/jpeg \\\n-\timage/png \\\n-\tindex/suffixarray \\\n-\tinternal/nettrace \\\n-\tinternal/poll \\\n-\tinternal/race \\\n-\tinternal/singleflight \\\n-\tinternal/syscall/unix \\\n-\tinternal/testenv \\\n-\tinternal/testlog \\\n-\tinternal/trace \\\n-\tio \\\n-\tio/ioutil \\\n-\tlog \\\n-\tlog/syslog \\\n-\tmath \\\n-\tmath/big \\\n-\tmath/bits \\\n-\tmath/cmplx \\\n-\tmath/rand \\\n-\tmime \\\n-\tmime/multipart \\\n-\tmime/quotedprintable \\\n-\tnet \\\n-\tnet/http \\\n-\tnet/http/cgi \\\n-\tnet/http/cookiejar \\\n-\tnet/http/fcgi \\\n-\tnet/http/httptest \\\n-\tnet/http/httptrace \\\n-\tnet/http/httputil \\\n-\tnet/http/internal \\\n-\tnet/http/pprof \\\n-\tnet/internal/socktest \\\n-\tnet/mail \\\n-\tnet/rpc \\\n-\tnet/rpc/jsonrpc \\\n-\tnet/smtp \\\n-\tnet/textproto \\\n-\tnet/url \\\n-\tos \\\n-\tos/exec \\\n-\tos/signal \\\n-\tos/signal/internal/pty \\\n-\tos/user \\\n-\tpath \\\n-\tpath/filepath \\\n-\treflect \\\n-\tregexp \\\n-\tregexp/syntax \\\n-\truntime \\\n-\truntime/debug \\\n-\truntime/internal/atomic \\\n-\truntime/internal/sys \\\n-\truntime/pprof \\\n-\truntime/pprof/internal/profile \\\n-\truntime/trace \\\n-\tsort \\\n-\tstrconv \\\n-\tstrings \\\n-\tsync \\\n-\tsync/atomic \\\n-\tsyscall \\\n-\ttesting \\\n-\ttesting/internal/testdeps \\\n-\ttesting/iotest \\\n-\ttesting/quick \\\n-\ttext/scanner \\\n-\ttext/tabwriter \\\n-\ttext/template \\\n-\ttext/template/parse \\\n-\ttime \\\n-\tunicode \\\n-\tunicode/utf16 \\\n-\tunicode/utf8\n+PACKAGES = $(shell cat $(srcdir)/libgo-packages.txt)\n \n libgo_go_objs = \\\n \t$(addsuffix .lo,$(PACKAGES)) \\\n@@ -939,37 +750,7 @@ libgolibbegin_a_SOURCES = \\\n \n libgolibbegin_a_CFLAGS = $(AM_CFLAGS) -fPIC\n \n-GOTOOL_PACKAGES = \\\n-\tcmd/go/internal/base \\\n-\tcmd/go/internal/bug \\\n-\tcmd/go/internal/cache \\\n-\tcmd/go/internal/cfg \\\n-\tcmd/go/internal/clean \\\n-\tcmd/go/internal/cmdflag \\\n-\tcmd/go/internal/doc \\\n-\tcmd/go/internal/envcmd \\\n-\tcmd/go/internal/fix \\\n-\tcmd/go/internal/fmtcmd \\\n-\tcmd/go/internal/generate \\\n-\tcmd/go/internal/get \\\n-\tcmd/go/internal/help \\\n-\tcmd/go/internal/list \\\n-\tcmd/go/internal/load \\\n-\tcmd/go/internal/run \\\n-\tcmd/go/internal/str \\\n-\tcmd/go/internal/test \\\n-\tcmd/go/internal/tool \\\n-\tcmd/go/internal/version \\\n-\tcmd/go/internal/vet \\\n-\tcmd/go/internal/web \\\n-\tcmd/go/internal/work \\\n-\tcmd/internal/browser \\\n-\tcmd/internal/buildid \\\n-\tcmd/internal/edit \\\n-\tcmd/internal/objabi \\\n-\tcmd/internal/test2json \\\n-\tcmd/vet/internal/cfg \\\n-\tcmd/vet/internal/whitelist\n+GOTOOL_PACKAGES = $(shell cat $(srcdir)/gotool-packages.txt)\n \n libgotool_a_SOURCES =\n libgotool_a_DEPENDENCIES = $(addsuffix .lo,$(GOTOOL_PACKAGES))\n@@ -1156,7 +937,7 @@ extra_go_files_syscall = \\\n syscall.lo.dep: $(extra_go_files_syscall)\n \n # Pass -fgo-compiling-runtime when compiling the runtime package.\n-runtime_lo_GOCFLAGS = -fgo-c-header=runtime.inc.tmp -fgo-compiling-runtime\n+runtime_lo_GOCFLAGS = -fgo-c-header=runtime.inc.raw -fgo-compiling-runtime\n runtime_check_GOCFLAGS = -fgo-compiling-runtime\n runtime_internal_atomic_lo_GOCFLAGS = -fgo-compiling-runtime\n runtime_internal_atomic_lo_check_GOCFLAGS = -fgo-compiling-runtime\n@@ -1281,171 +1062,10 @@ golang_org_x_net_lif_check = \\\n \n endif\n \n-TEST_PACKAGES = \\\n-\tbufio/check \\\n-\tbytes/check \\\n-\tcontext/check \\\n-\tcrypto/check \\\n-\terrors/check \\\n-\texpvar/check \\\n-\tflag/check \\\n-\tfmt/check \\\n-\thash/check \\\n-\thtml/check \\\n-\timage/check \\\n-\tio/check \\\n-\tlog/check \\\n-\tmath/check \\\n-\tmime/check \\\n-\tnet/check \\\n-\tos/check \\\n-\tpath/check \\\n-\treflect/check \\\n-\tregexp/check \\\n-\truntime/check \\\n-\tsort/check \\\n-\tstrconv/check \\\n-\tstrings/check \\\n-\tsync/check \\\n-\tsyscall/check \\\n-\ttime/check \\\n-\tunicode/check \\\n-\tarchive/tar/check \\\n-\tarchive/zip/check \\\n-\tcmd/go/internal/cache/check \\\n-\tcmd/go/internal/generate/check \\\n-\tcmd/go/internal/get/check \\\n-\tcmd/go/internal/load/check \\\n-\tcmd/go/internal/work/check \\\n-\tcmd/internal/buildid/check \\\n-\tcmd/internal/edit/check \\\n-\tcmd/internal/objabi/check \\\n-\tcmd/internal/test2json/check \\\n-\tcmd/vet/internal/cfg/check \\\n-\tcompress/bzip2/check \\\n-\tcompress/flate/check \\\n-\tcompress/gzip/check \\\n-\tcompress/lzw/check \\\n-\tcompress/zlib/check \\\n-\tcontainer/heap/check \\\n-\tcontainer/list/check \\\n-\tcontainer/ring/check \\\n-\tcrypto/aes/check \\\n-\tcrypto/cipher/check \\\n-\tcrypto/des/check \\\n-\tcrypto/dsa/check \\\n-\tcrypto/ecdsa/check \\\n-\tcrypto/elliptic/check \\\n-\tcrypto/hmac/check \\\n-\tcrypto/md5/check \\\n-\tcrypto/rand/check \\\n-\tcrypto/rc4/check \\\n-\tcrypto/rsa/check \\\n-\tcrypto/sha1/check \\\n-\tcrypto/sha256/check \\\n-\tcrypto/sha512/check \\\n-\tcrypto/subtle/check \\\n-\tcrypto/tls/check \\\n-\tcrypto/x509/check \\\n-\tdatabase/sql/check \\\n-\tdatabase/sql/driver/check \\\n-\tdebug/dwarf/check \\\n-\tdebug/elf/check \\\n-\tdebug/macho/check \\\n-\tdebug/pe/check \\\n-\tdebug/plan9obj/check \\\n-\tdebug/xcoff/check \\\n-\tencoding/ascii85/check \\\n-\tencoding/asn1/check \\\n-\tencoding/base32/check \\\n-\tencoding/base64/check \\\n-\tencoding/binary/check \\\n-\tencoding/csv/check \\\n-\tencoding/gob/check \\\n-\tencoding/hex/check \\\n-\tencoding/json/check \\\n-\tencoding/pem/check \\\n-\tencoding/xml/check \\\n-\thtml/template/check \\\n-\tgo/ast/check \\\n-\tgo/build/check \\\n-\tgo/constant/check \\\n-\tgo/doc/check \\\n-\tgo/format/check \\\n-\tgo/importer/check \\\n-\tgo/internal/gcimporter/check \\\n-\tgo/internal/gccgoimporter/check \\\n-\tgo/internal/srcimporter/check \\\n-\tgo/parser/check \\\n-\tgo/printer/check \\\n-\tgo/scanner/check \\\n-\tgo/token/check \\\n-\tgo/types/check \\\n-\tgolang_org/x/crypto/chacha20poly1305/check \\\n-\tgolang_org/x/crypto/chacha20poly1305/internal/chacha20/check \\\n-\tgolang_org/x/crypto/cryptobyte/check \\\n-\tgolang_org/x/crypto/curve25519/check \\\n-\tgolang_org/x/crypto/poly1305/check \\\n-\tgolang_org/x/net/http2/hpack/check \\\n-\tgolang_org/x/net/idna/check \\\n-\tgolang_org/x/net/lex/httplex/check \\\n+TPACKAGES = $(shell cat $(srcdir)/check-packages.txt)\n+TEST_PACKAGES = $(addsuffix /check,$(TPACKAGES)) \\\n \t$(golang_org_x_net_lif_check) \\\n-\tgolang_org/x/net/proxy/check \\\n-\t$(golang_org_x_net_route_check) \\\n-\thash/adler32/check \\\n-\thash/crc32/check \\\n-\thash/crc64/check \\\n-\thash/fnv/check \\\n-\timage/color/check \\\n-\timage/draw/check \\\n-\timage/jpeg/check \\\n-\timage/png/check \\\n-\tindex/suffixarray/check \\\n-\tinternal/poll/check \\\n-\tinternal/singleflight/check \\\n-\tinternal/trace/check \\\n-\tio/ioutil/check \\\n-\tlog/syslog/check \\\n-\tmath/big/check \\\n-\tmath/bits/check \\\n-\tmath/cmplx/check \\\n-\tmath/rand/check \\\n-\tmime/multipart/check \\\n-\tmime/quotedprintable/check \\\n-\tnet/http/check \\\n-\tnet/http/cgi/check \\\n-\tnet/http/cookiejar/check \\\n-\tnet/http/fcgi/check \\\n-\tnet/http/httptest/check \\\n-\tnet/http/httptrace/check \\\n-\tnet/http/httputil/check \\\n-\tnet/http/internal/check \\\n-\tnet/internal/socktest/check \\\n-\tnet/mail/check \\\n-\tnet/rpc/check \\\n-\tnet/smtp/check \\\n-\tnet/textproto/check \\\n-\tnet/url/check \\\n-\tnet/rpc/jsonrpc/check \\\n-\tos/exec/check \\\n-\tos/signal/check \\\n-\tos/user/check \\\n-\tpath/filepath/check \\\n-\tregexp/syntax/check \\\n-\truntime/debug/check \\\n-\truntime/internal/atomic/check \\\n-\truntime/internal/sys/check \\\n-\truntime/pprof/check \\\n-\truntime/pprof/internal/profile/check \\\n-\truntime/trace/check \\\n-\tsync/atomic/check \\\n-\ttext/scanner/check \\\n-\ttext/tabwriter/check \\\n-\ttext/template/check \\\n-\ttext/template/parse/check \\\n-\ttesting/quick/check \\\n-\tunicode/utf16/check \\\n-\tunicode/utf8/check\n+\t$(golang_org_x_net_route_check)\n \n check: check-tail\n check-recursive: check-head"}, {"sha": "a30e427e118494f9667e2b67925de07e187acf50", "filename": "libgo/Makefile.in", "status": "modified", "additions": 11, "deletions": 393, "changes": 404, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cec9701b510ebcb5cfdf431a5b0dd9c143f1da69/libgo%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cec9701b510ebcb5cfdf431a5b0dd9c143f1da69/libgo%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.in?ref=cec9701b510ebcb5cfdf431a5b0dd9c143f1da69", "patch": "@@ -820,185 +820,7 @@ SYSINFO_FLAGS = \\\n \n @LIBGO_IS_LINUX_FALSE@syscall_lib_clone_lo = \n @LIBGO_IS_LINUX_TRUE@syscall_lib_clone_lo = syscall/clone_linux.lo\n-PACKAGES = \\\n-\tarchive/tar \\\n-\tarchive/zip \\\n-\tbufio \\\n-\tbytes \\\n-\tcompress/bzip2 \\\n-\tcompress/flate \\\n-\tcompress/gzip \\\n-\tcompress/lzw \\\n-\tcompress/zlib \\\n-\tcontainer/heap \\\n-\tcontainer/list \\\n-\tcontainer/ring \\\n-\tcontext \\\n-\tcrypto \\\n-\tcrypto/aes \\\n-\tcrypto/cipher \\\n-\tcrypto/des \\\n-\tcrypto/dsa \\\n-\tcrypto/ecdsa \\\n-\tcrypto/elliptic \\\n-\tcrypto/hmac \\\n-\tcrypto/internal/cipherhw \\\n-\tcrypto/md5 \\\n-\tcrypto/rand \\\n-\tcrypto/rc4 \\\n-\tcrypto/rsa \\\n-\tcrypto/sha1 \\\n-\tcrypto/sha256 \\\n-\tcrypto/sha512 \\\n-\tcrypto/subtle \\\n-\tcrypto/tls \\\n-\tcrypto/x509 \\\n-\tcrypto/x509/pkix \\\n-\tdatabase/sql \\\n-\tdatabase/sql/driver \\\n-\tdebug/dwarf \\\n-\tdebug/elf \\\n-\tdebug/gosym \\\n-\tdebug/macho \\\n-\tdebug/pe \\\n-\tdebug/plan9obj \\\n-\tdebug/xcoff \\\n-\tencoding \\\n-\tencoding/ascii85 \\\n-\tencoding/asn1 \\\n-\tencoding/base32 \\\n-\tencoding/base64 \\\n-\tencoding/binary \\\n-\tencoding/csv \\\n-\tencoding/gob \\\n-\tencoding/hex \\\n-\tencoding/json \\\n-\tencoding/pem \\\n-\tencoding/xml \\\n-\terrors \\\n-\texpvar \\\n-\tflag \\\n-\tfmt \\\n-\tgo/ast \\\n-\tgo/build \\\n-\tgo/constant \\\n-\tgo/doc \\\n-\tgo/format \\\n-\tgo/importer \\\n-\tgo/internal/gccgoimporter \\\n-\tgo/internal/gcimporter \\\n-\tgo/internal/srcimporter \\\n-\tgo/parser \\\n-\tgo/printer \\\n-\tgo/scanner \\\n-\tgo/token \\\n-\tgo/types \\\n-\tgolang_org/x/crypto/chacha20poly1305 \\\n-\tgolang_org/x/crypto/chacha20poly1305/internal/chacha20 \\\n-\tgolang_org/x/crypto/cryptobyte \\\n-\tgolang_org/x/crypto/cryptobyte/asn1 \\\n-\tgolang_org/x/crypto/curve25519 \\\n-\tgolang_org/x/crypto/poly1305 \\\n-\tgolang_org/x/net/http2/hpack \\\n-\tgolang_org/x/net/idna \\\n-\tgolang_org/x/net/internal/nettest \\\n-\tgolang_org/x/net/lex/httplex \\\n-\tgolang_org/x/net/nettest \\\n-\tgolang_org/x/net/proxy \\\n-\tgolang_org/x/text/secure/bidirule \\\n-\tgolang_org/x/text/transform \\\n-\tgolang_org/x/text/unicode/bidi \\\n-\tgolang_org/x/text/unicode/norm \\\n-\tgolang_org/x/text/width \\\n-\thash \\\n-\thash/adler32 \\\n-\thash/crc32 \\\n-\thash/crc64 \\\n-\thash/fnv \\\n-\thtml \\\n-\thtml/template \\\n-\timage \\\n-\timage/color \\\n-\timage/color/palette \\\n-\timage/draw \\\n-\timage/gif \\\n-\timage/internal/imageutil \\\n-\timage/jpeg \\\n-\timage/png \\\n-\tindex/suffixarray \\\n-\tinternal/nettrace \\\n-\tinternal/poll \\\n-\tinternal/race \\\n-\tinternal/singleflight \\\n-\tinternal/syscall/unix \\\n-\tinternal/testenv \\\n-\tinternal/testlog \\\n-\tinternal/trace \\\n-\tio \\\n-\tio/ioutil \\\n-\tlog \\\n-\tlog/syslog \\\n-\tmath \\\n-\tmath/big \\\n-\tmath/bits \\\n-\tmath/cmplx \\\n-\tmath/rand \\\n-\tmime \\\n-\tmime/multipart \\\n-\tmime/quotedprintable \\\n-\tnet \\\n-\tnet/http \\\n-\tnet/http/cgi \\\n-\tnet/http/cookiejar \\\n-\tnet/http/fcgi \\\n-\tnet/http/httptest \\\n-\tnet/http/httptrace \\\n-\tnet/http/httputil \\\n-\tnet/http/internal \\\n-\tnet/http/pprof \\\n-\tnet/internal/socktest \\\n-\tnet/mail \\\n-\tnet/rpc \\\n-\tnet/rpc/jsonrpc \\\n-\tnet/smtp \\\n-\tnet/textproto \\\n-\tnet/url \\\n-\tos \\\n-\tos/exec \\\n-\tos/signal \\\n-\tos/signal/internal/pty \\\n-\tos/user \\\n-\tpath \\\n-\tpath/filepath \\\n-\treflect \\\n-\tregexp \\\n-\tregexp/syntax \\\n-\truntime \\\n-\truntime/debug \\\n-\truntime/internal/atomic \\\n-\truntime/internal/sys \\\n-\truntime/pprof \\\n-\truntime/pprof/internal/profile \\\n-\truntime/trace \\\n-\tsort \\\n-\tstrconv \\\n-\tstrings \\\n-\tsync \\\n-\tsync/atomic \\\n-\tsyscall \\\n-\ttesting \\\n-\ttesting/internal/testdeps \\\n-\ttesting/iotest \\\n-\ttesting/quick \\\n-\ttext/scanner \\\n-\ttext/tabwriter \\\n-\ttext/template \\\n-\ttext/template/parse \\\n-\ttime \\\n-\tunicode \\\n-\tunicode/utf16 \\\n-\tunicode/utf8\n-\n+PACKAGES = $(shell cat $(srcdir)/libgo-packages.txt)\n libgo_go_objs = \\\n \t$(addsuffix .lo,$(PACKAGES)) \\\n \tbytes/index.lo \\\n@@ -1042,38 +864,7 @@ libgolibbegin_a_SOURCES = \\\n \truntime/go-libmain.c\n \n libgolibbegin_a_CFLAGS = $(AM_CFLAGS) -fPIC\n-GOTOOL_PACKAGES = \\\n-\tcmd/go/internal/base \\\n-\tcmd/go/internal/bug \\\n-\tcmd/go/internal/cache \\\n-\tcmd/go/internal/cfg \\\n-\tcmd/go/internal/clean \\\n-\tcmd/go/internal/cmdflag \\\n-\tcmd/go/internal/doc \\\n-\tcmd/go/internal/envcmd \\\n-\tcmd/go/internal/fix \\\n-\tcmd/go/internal/fmtcmd \\\n-\tcmd/go/internal/generate \\\n-\tcmd/go/internal/get \\\n-\tcmd/go/internal/help \\\n-\tcmd/go/internal/list \\\n-\tcmd/go/internal/load \\\n-\tcmd/go/internal/run \\\n-\tcmd/go/internal/str \\\n-\tcmd/go/internal/test \\\n-\tcmd/go/internal/tool \\\n-\tcmd/go/internal/version \\\n-\tcmd/go/internal/vet \\\n-\tcmd/go/internal/web \\\n-\tcmd/go/internal/work \\\n-\tcmd/internal/browser \\\n-\tcmd/internal/buildid \\\n-\tcmd/internal/edit \\\n-\tcmd/internal/objabi \\\n-\tcmd/internal/test2json \\\n-\tcmd/vet/internal/cfg \\\n-\tcmd/vet/internal/whitelist\n-\n+GOTOOL_PACKAGES = $(shell cat $(srcdir)/gotool-packages.txt)\n libgotool_a_SOURCES = \n libgotool_a_DEPENDENCIES = $(addsuffix .lo,$(GOTOOL_PACKAGES))\n libgotool_a_LIBADD = $(addsuffix .o,$(GOTOOL_PACKAGES))\n@@ -1191,7 +982,7 @@ extra_go_files_syscall = \\\n \n \n # Pass -fgo-compiling-runtime when compiling the runtime package.\n-runtime_lo_GOCFLAGS = -fgo-c-header=runtime.inc.tmp -fgo-compiling-runtime\n+runtime_lo_GOCFLAGS = -fgo-c-header=runtime.inc.raw -fgo-compiling-runtime\n runtime_check_GOCFLAGS = -fgo-compiling-runtime\n runtime_internal_atomic_lo_GOCFLAGS = -fgo-compiling-runtime\n runtime_internal_atomic_lo_check_GOCFLAGS = -fgo-compiling-runtime\n@@ -1236,171 +1027,10 @@ extra_check_libs_cmd_vet_internal_cfg = $(abs_builddir)/libgotool.a\n @LIBGO_IS_SOLARIS_TRUE@golang_org_x_net_lif_check = \\\n @LIBGO_IS_SOLARIS_TRUE@\tgolang_org/x/net/lif/check\n \n-TEST_PACKAGES = \\\n-\tbufio/check \\\n-\tbytes/check \\\n-\tcontext/check \\\n-\tcrypto/check \\\n-\terrors/check \\\n-\texpvar/check \\\n-\tflag/check \\\n-\tfmt/check \\\n-\thash/check \\\n-\thtml/check \\\n-\timage/check \\\n-\tio/check \\\n-\tlog/check \\\n-\tmath/check \\\n-\tmime/check \\\n-\tnet/check \\\n-\tos/check \\\n-\tpath/check \\\n-\treflect/check \\\n-\tregexp/check \\\n-\truntime/check \\\n-\tsort/check \\\n-\tstrconv/check \\\n-\tstrings/check \\\n-\tsync/check \\\n-\tsyscall/check \\\n-\ttime/check \\\n-\tunicode/check \\\n-\tarchive/tar/check \\\n-\tarchive/zip/check \\\n-\tcmd/go/internal/cache/check \\\n-\tcmd/go/internal/generate/check \\\n-\tcmd/go/internal/get/check \\\n-\tcmd/go/internal/load/check \\\n-\tcmd/go/internal/work/check \\\n-\tcmd/internal/buildid/check \\\n-\tcmd/internal/edit/check \\\n-\tcmd/internal/objabi/check \\\n-\tcmd/internal/test2json/check \\\n-\tcmd/vet/internal/cfg/check \\\n-\tcompress/bzip2/check \\\n-\tcompress/flate/check \\\n-\tcompress/gzip/check \\\n-\tcompress/lzw/check \\\n-\tcompress/zlib/check \\\n-\tcontainer/heap/check \\\n-\tcontainer/list/check \\\n-\tcontainer/ring/check \\\n-\tcrypto/aes/check \\\n-\tcrypto/cipher/check \\\n-\tcrypto/des/check \\\n-\tcrypto/dsa/check \\\n-\tcrypto/ecdsa/check \\\n-\tcrypto/elliptic/check \\\n-\tcrypto/hmac/check \\\n-\tcrypto/md5/check \\\n-\tcrypto/rand/check \\\n-\tcrypto/rc4/check \\\n-\tcrypto/rsa/check \\\n-\tcrypto/sha1/check \\\n-\tcrypto/sha256/check \\\n-\tcrypto/sha512/check \\\n-\tcrypto/subtle/check \\\n-\tcrypto/tls/check \\\n-\tcrypto/x509/check \\\n-\tdatabase/sql/check \\\n-\tdatabase/sql/driver/check \\\n-\tdebug/dwarf/check \\\n-\tdebug/elf/check \\\n-\tdebug/macho/check \\\n-\tdebug/pe/check \\\n-\tdebug/plan9obj/check \\\n-\tdebug/xcoff/check \\\n-\tencoding/ascii85/check \\\n-\tencoding/asn1/check \\\n-\tencoding/base32/check \\\n-\tencoding/base64/check \\\n-\tencoding/binary/check \\\n-\tencoding/csv/check \\\n-\tencoding/gob/check \\\n-\tencoding/hex/check \\\n-\tencoding/json/check \\\n-\tencoding/pem/check \\\n-\tencoding/xml/check \\\n-\thtml/template/check \\\n-\tgo/ast/check \\\n-\tgo/build/check \\\n-\tgo/constant/check \\\n-\tgo/doc/check \\\n-\tgo/format/check \\\n-\tgo/importer/check \\\n-\tgo/internal/gcimporter/check \\\n-\tgo/internal/gccgoimporter/check \\\n-\tgo/internal/srcimporter/check \\\n-\tgo/parser/check \\\n-\tgo/printer/check \\\n-\tgo/scanner/check \\\n-\tgo/token/check \\\n-\tgo/types/check \\\n-\tgolang_org/x/crypto/chacha20poly1305/check \\\n-\tgolang_org/x/crypto/chacha20poly1305/internal/chacha20/check \\\n-\tgolang_org/x/crypto/cryptobyte/check \\\n-\tgolang_org/x/crypto/curve25519/check \\\n-\tgolang_org/x/crypto/poly1305/check \\\n-\tgolang_org/x/net/http2/hpack/check \\\n-\tgolang_org/x/net/idna/check \\\n-\tgolang_org/x/net/lex/httplex/check \\\n+TPACKAGES = $(shell cat $(srcdir)/check-packages.txt)\n+TEST_PACKAGES = $(addsuffix /check,$(TPACKAGES)) \\\n \t$(golang_org_x_net_lif_check) \\\n-\tgolang_org/x/net/proxy/check \\\n-\t$(golang_org_x_net_route_check) \\\n-\thash/adler32/check \\\n-\thash/crc32/check \\\n-\thash/crc64/check \\\n-\thash/fnv/check \\\n-\timage/color/check \\\n-\timage/draw/check \\\n-\timage/jpeg/check \\\n-\timage/png/check \\\n-\tindex/suffixarray/check \\\n-\tinternal/poll/check \\\n-\tinternal/singleflight/check \\\n-\tinternal/trace/check \\\n-\tio/ioutil/check \\\n-\tlog/syslog/check \\\n-\tmath/big/check \\\n-\tmath/bits/check \\\n-\tmath/cmplx/check \\\n-\tmath/rand/check \\\n-\tmime/multipart/check \\\n-\tmime/quotedprintable/check \\\n-\tnet/http/check \\\n-\tnet/http/cgi/check \\\n-\tnet/http/cookiejar/check \\\n-\tnet/http/fcgi/check \\\n-\tnet/http/httptest/check \\\n-\tnet/http/httptrace/check \\\n-\tnet/http/httputil/check \\\n-\tnet/http/internal/check \\\n-\tnet/internal/socktest/check \\\n-\tnet/mail/check \\\n-\tnet/rpc/check \\\n-\tnet/smtp/check \\\n-\tnet/textproto/check \\\n-\tnet/url/check \\\n-\tnet/rpc/jsonrpc/check \\\n-\tos/exec/check \\\n-\tos/signal/check \\\n-\tos/user/check \\\n-\tpath/filepath/check \\\n-\tregexp/syntax/check \\\n-\truntime/debug/check \\\n-\truntime/internal/atomic/check \\\n-\truntime/internal/sys/check \\\n-\truntime/pprof/check \\\n-\truntime/pprof/internal/profile/check \\\n-\truntime/trace/check \\\n-\tsync/atomic/check \\\n-\ttext/scanner/check \\\n-\ttext/tabwriter/check \\\n-\ttext/template/check \\\n-\ttext/template/parse/check \\\n-\ttesting/quick/check \\\n-\tunicode/utf16/check \\\n-\tunicode/utf8/check\n+\t$(golang_org_x_net_route_check)\n \n MOSTLYCLEANFILES = \\\n \ts-runtime_sysinfo s-sigtab s-runtime-inc s-zstdpkglist \\\n@@ -3173,25 +2803,13 @@ s-zdefaultcc: Makefile\n \t$(SHELL) $(srcdir)/../move-if-change zdefaultcc.go.tmp zdefaultcc.go\n \t$(STAMP) $@ \n \n-# _Complex_lock and _Reader_lock are Go translations of some AIX system\n-# types and should not be exported back to C\n-# semt is a Go translation of the C type sem_t; it fails to convert on\n-# some systems and need not be exported back to C.\n-# sigset conflicts with system type sigset on AIX, so we need to rename it\n+# Post-process runtime.inc.raw (raw output of -fgo-c-header option when\n+# compiling runtime) to prune out certain types that should not be\n+# exported back to C. See comments in mkruntimeinc.sh for more details.\n runtime.inc: s-runtime-inc; @true\n s-runtime-inc: runtime.lo Makefile\n-\trm -f runtime.inc.tmp2 runtime.inc.tmp3\n-\tgrep -v \"#define _\" runtime.inc.tmp | grep -v \"#define [cm][01234] \" | grep -v \"#define empty \" > runtime.inc.tmp2\n-\tfor pattern in '_[GP][a-z]' _Max _Lock _Sig _Trace _MHeap _Num; do \\\n-\t  grep \"#define $$pattern\" runtime.inc.tmp >> runtime.inc.tmp2; \\\n-\tdone\n-\tfor TYPE in _Complex_lock _Reader_lock semt; do \\\n-\t  sed -e '/struct '$${TYPE}' {/,/^}/s/^.*$$//' runtime.inc.tmp2 > runtime.inc.tmp3; \\\n-\t  mv runtime.inc.tmp3 runtime.inc.tmp2; \\\n-\tdone\n-\tsed -e 's/sigset/sigset_go/' runtime.inc.tmp2 > runtime.inc.tmp3\n-\t$(SHELL) $(srcdir)/mvifdiff.sh runtime.inc.tmp3 runtime.inc\n-\trm -f runtime.inc.tmp2 runtime.inc.tmp3\n+\t$(SHELL) $(srcdir)/mkruntimeinc.sh\n+\t$(SHELL) $(srcdir)/mvifdiff.sh tmp-runtime.inc runtime.inc\n \t$(STAMP) $@\n \n # Generate the list of go std packages that were included in libgo"}, {"sha": "8ede851c3433ffdf92099ad3a997efdb0b7f4a3b", "filename": "libgo/check-packages.txt", "status": "added", "additions": 162, "deletions": 0, "changes": 162, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cec9701b510ebcb5cfdf431a5b0dd9c143f1da69/libgo%2Fcheck-packages.txt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cec9701b510ebcb5cfdf431a5b0dd9c143f1da69/libgo%2Fcheck-packages.txt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fcheck-packages.txt?ref=cec9701b510ebcb5cfdf431a5b0dd9c143f1da69", "patch": "@@ -0,0 +1,162 @@\n+archive/tar\n+archive/zip\n+bufio\n+bytes\n+cmd/go/internal/cache\n+cmd/go/internal/generate\n+cmd/go/internal/get\n+cmd/go/internal/load\n+cmd/go/internal/work\n+cmd/internal/buildid\n+cmd/internal/edit\n+cmd/internal/objabi\n+cmd/internal/test2json\n+cmd/vet/internal/cfg\n+compress/bzip2\n+compress/flate\n+compress/gzip\n+compress/lzw\n+compress/zlib\n+container/heap\n+container/list\n+container/ring\n+context\n+crypto\n+crypto/aes\n+crypto/cipher\n+crypto/des\n+crypto/dsa\n+crypto/ecdsa\n+crypto/elliptic\n+crypto/hmac\n+crypto/md5\n+crypto/rand\n+crypto/rc4\n+crypto/rsa\n+crypto/sha1\n+crypto/sha256\n+crypto/sha512\n+crypto/subtle\n+crypto/tls\n+crypto/x509\n+database/sql\n+database/sql/driver\n+debug/dwarf\n+debug/elf\n+debug/macho\n+debug/pe\n+debug/plan9obj\n+debug/xcoff\n+encoding/ascii85\n+encoding/asn1\n+encoding/base32\n+encoding/base64\n+encoding/binary\n+encoding/csv\n+encoding/gob\n+encoding/hex\n+encoding/json\n+encoding/pem\n+encoding/xml\n+errors\n+expvar\n+flag\n+fmt\n+go/ast\n+go/build\n+go/constant\n+go/doc\n+go/format\n+go/importer\n+go/internal/gccgoimporter\n+go/internal/gcimporter\n+go/internal/srcimporter\n+go/parser\n+go/printer\n+go/scanner\n+go/token\n+go/types\n+golang_org/x/crypto/chacha20poly1305\n+golang_org/x/crypto/chacha20poly1305/internal/chacha20\n+golang_org/x/crypto/cryptobyte\n+golang_org/x/crypto/curve25519\n+golang_org/x/crypto/poly1305\n+golang_org/x/net/http2/hpack\n+golang_org/x/net/idna\n+golang_org/x/net/lex/httplex\n+golang_org/x/net/proxy\n+hash\n+hash/adler32\n+hash/crc32\n+hash/crc64\n+hash/fnv\n+html\n+html/template\n+image\n+image/color\n+image/draw\n+image/jpeg\n+image/png\n+index/suffixarray\n+internal/poll\n+internal/singleflight\n+internal/trace\n+io\n+io/ioutil\n+log\n+log/syslog\n+math\n+math/big\n+math/bits\n+math/cmplx\n+math/rand\n+mime\n+mime/multipart\n+mime/quotedprintable\n+net\n+net/http\n+net/http/cgi\n+net/http/cookiejar\n+net/http/fcgi\n+net/http/httptest\n+net/http/httptrace\n+net/http/httputil\n+net/http/internal\n+net/internal/socktest\n+net/mail\n+net/rpc\n+net/rpc/jsonrpc\n+net/smtp\n+net/textproto\n+net/url\n+os\n+os/exec\n+os/signal\n+os/user\n+path\n+path/filepath\n+reflect\n+regexp\n+regexp/syntax\n+runtime\n+runtime/debug\n+runtime/internal/atomic\n+runtime/internal/sys\n+runtime/pprof\n+runtime/pprof/internal/profile\n+runtime/trace\n+sort\n+strconv\n+strings\n+sync\n+sync/atomic\n+syscall\n+testing/quick\n+text/scanner\n+text/tabwriter\n+text/template\n+text/template/parse\n+time\n+unicode\n+unicode/utf16\n+unicode/utf8"}, {"sha": "012faf6789bffd193f91a3db32cda9ad344138d8", "filename": "libgo/gotool-packages.txt", "status": "added", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cec9701b510ebcb5cfdf431a5b0dd9c143f1da69/libgo%2Fgotool-packages.txt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cec9701b510ebcb5cfdf431a5b0dd9c143f1da69/libgo%2Fgotool-packages.txt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgotool-packages.txt?ref=cec9701b510ebcb5cfdf431a5b0dd9c143f1da69", "patch": "@@ -0,0 +1,30 @@\n+cmd/go/internal/base\n+cmd/go/internal/bug\n+cmd/go/internal/cache\n+cmd/go/internal/cfg\n+cmd/go/internal/clean\n+cmd/go/internal/cmdflag\n+cmd/go/internal/doc\n+cmd/go/internal/envcmd\n+cmd/go/internal/fix\n+cmd/go/internal/fmtcmd\n+cmd/go/internal/generate\n+cmd/go/internal/get\n+cmd/go/internal/help\n+cmd/go/internal/list\n+cmd/go/internal/load\n+cmd/go/internal/run\n+cmd/go/internal/str\n+cmd/go/internal/test\n+cmd/go/internal/tool\n+cmd/go/internal/version\n+cmd/go/internal/vet\n+cmd/go/internal/web\n+cmd/go/internal/work\n+cmd/internal/browser\n+cmd/internal/buildid\n+cmd/internal/edit\n+cmd/internal/objabi\n+cmd/internal/test2json\n+cmd/vet/internal/cfg\n+cmd/vet/internal/whitelist"}, {"sha": "70c12bac6d9e3631dbf65bab98e0de43df999e5a", "filename": "libgo/libgo-packages.txt", "status": "added", "additions": 177, "deletions": 0, "changes": 177, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cec9701b510ebcb5cfdf431a5b0dd9c143f1da69/libgo%2Flibgo-packages.txt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cec9701b510ebcb5cfdf431a5b0dd9c143f1da69/libgo%2Flibgo-packages.txt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Flibgo-packages.txt?ref=cec9701b510ebcb5cfdf431a5b0dd9c143f1da69", "patch": "@@ -0,0 +1,177 @@\n+archive/tar\n+archive/zip\n+bufio\n+bytes\n+compress/bzip2\n+compress/flate\n+compress/gzip\n+compress/lzw\n+compress/zlib\n+container/heap\n+container/list\n+container/ring\n+context\n+crypto\n+crypto/aes\n+crypto/cipher\n+crypto/des\n+crypto/dsa\n+crypto/ecdsa\n+crypto/elliptic\n+crypto/hmac\n+crypto/internal/cipherhw\n+crypto/md5\n+crypto/rand\n+crypto/rc4\n+crypto/rsa\n+crypto/sha1\n+crypto/sha256\n+crypto/sha512\n+crypto/subtle\n+crypto/tls\n+crypto/x509\n+crypto/x509/pkix\n+database/sql\n+database/sql/driver\n+debug/dwarf\n+debug/elf\n+debug/gosym\n+debug/macho\n+debug/pe\n+debug/plan9obj\n+debug/xcoff\n+encoding\n+encoding/ascii85\n+encoding/asn1\n+encoding/base32\n+encoding/base64\n+encoding/binary\n+encoding/csv\n+encoding/gob\n+encoding/hex\n+encoding/json\n+encoding/pem\n+encoding/xml\n+errors\n+expvar\n+flag\n+fmt\n+go/ast\n+go/build\n+go/constant\n+go/doc\n+go/format\n+go/importer\n+go/internal/gccgoimporter\n+go/internal/gcimporter\n+go/internal/srcimporter\n+go/parser\n+go/printer\n+go/scanner\n+go/token\n+go/types\n+golang_org/x/crypto/chacha20poly1305\n+golang_org/x/crypto/chacha20poly1305/internal/chacha20\n+golang_org/x/crypto/cryptobyte\n+golang_org/x/crypto/cryptobyte/asn1\n+golang_org/x/crypto/curve25519\n+golang_org/x/crypto/poly1305\n+golang_org/x/net/http2/hpack\n+golang_org/x/net/idna\n+golang_org/x/net/internal/nettest\n+golang_org/x/net/lex/httplex\n+golang_org/x/net/nettest\n+golang_org/x/net/proxy\n+golang_org/x/text/secure/bidirule\n+golang_org/x/text/transform\n+golang_org/x/text/unicode/bidi\n+golang_org/x/text/unicode/norm\n+golang_org/x/text/width\n+hash\n+hash/adler32\n+hash/crc32\n+hash/crc64\n+hash/fnv\n+html\n+html/template\n+image\n+image/color\n+image/color/palette\n+image/draw\n+image/gif\n+image/internal/imageutil\n+image/jpeg\n+image/png\n+index/suffixarray\n+internal/nettrace\n+internal/poll\n+internal/race\n+internal/singleflight\n+internal/syscall/unix\n+internal/testenv\n+internal/testlog\n+internal/trace\n+io\n+io/ioutil\n+log\n+log/syslog\n+math\n+math/big\n+math/bits\n+math/cmplx\n+math/rand\n+mime\n+mime/multipart\n+mime/quotedprintable\n+net\n+net/http\n+net/http/cgi\n+net/http/cookiejar\n+net/http/fcgi\n+net/http/httptest\n+net/http/httptrace\n+net/http/httputil\n+net/http/internal\n+net/http/pprof\n+net/internal/socktest\n+net/mail\n+net/rpc\n+net/rpc/jsonrpc\n+net/smtp\n+net/textproto\n+net/url\n+os\n+os/exec\n+os/signal\n+os/signal/internal/pty\n+os/user\n+path\n+path/filepath\n+reflect\n+regexp\n+regexp/syntax\n+runtime\n+runtime/debug\n+runtime/internal/atomic\n+runtime/internal/sys\n+runtime/pprof\n+runtime/pprof/internal/profile\n+runtime/trace\n+sort\n+strconv\n+strings\n+sync\n+sync/atomic\n+syscall\n+testing\n+testing/internal/testdeps\n+testing/iotest\n+testing/quick\n+text/scanner\n+text/tabwriter\n+text/template\n+text/template/parse\n+time\n+unicode\n+unicode/utf16\n+unicode/utf8"}, {"sha": "cd95595c731fec8fddc85cbd6ff6dfa63a126aa1", "filename": "libgo/mkruntimeinc.sh", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cec9701b510ebcb5cfdf431a5b0dd9c143f1da69/libgo%2Fmkruntimeinc.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cec9701b510ebcb5cfdf431a5b0dd9c143f1da69/libgo%2Fmkruntimeinc.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fmkruntimeinc.sh?ref=cec9701b510ebcb5cfdf431a5b0dd9c143f1da69", "patch": "@@ -0,0 +1,33 @@\n+#!/bin/sh\n+\n+# Copyright 2018 The Go Authors. All rights reserved.\n+# Use of this source code is governed by a BSD-style\n+# license that can be found in the LICENSE file.\n+\n+# Create tmp-runtime.inc from runtime.inc.raw.\n+\n+IN=runtime.inc.raw\n+OUT=tmp-runtime.inc\n+\n+rm -f runtime.inc.tmp2 runtime.inc.tmp3\n+\n+# _Complex_lock and _Reader_lock are Go translations of some AIX system\n+# types and should not be exported back to C\n+# semt is a Go translation of the C type sem_t; it fails to convert on\n+# some systems and need not be exported back to C.\n+# sigset conflicts with system type sigset on AIX, so we need to rename it\n+\n+grep -v \"#define _\" ${IN} | grep -v \"#define [cm][01234] \" | grep -v \"#define empty \" | grep -v \"#define \\\\$\" > runtime.inc.tmp2\n+for pattern in '_[GP][a-z]' _Max _Lock _Sig _Trace _MHeap _Num\n+do\n+  grep \"#define $pattern\" ${IN} >> runtime.inc.tmp2\n+done\n+TYPES=\"_Complex_lock _Reader_lock semt\"\n+for TYPE in $TYPES\n+do\n+  sed -e '/struct '${TYPE}' {/,/^}/s/^.*$//' runtime.inc.tmp2 > runtime.inc.tmp3;\n+  mv runtime.inc.tmp3 runtime.inc.tmp2\n+done\n+sed -e 's/sigset/sigset_go/' runtime.inc.tmp2 > ${OUT}\n+rm -f runtime.inc.tmp2 runtime.inc.tmp3\n+exit 0"}]}