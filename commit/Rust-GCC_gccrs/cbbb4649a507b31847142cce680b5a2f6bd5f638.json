{"sha": "cbbb4649a507b31847142cce680b5a2f6bd5f638", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2JiYjQ2NDlhNTA3YjMxODQ3MTQyY2NlNjgwYjVhMmY2YmQ1ZjYzOA==", "commit": {"author": {"name": "Stan Cox", "email": "coxs@gnu.org", "date": "1995-10-02T20:42:45Z"}, "committer": {"name": "Stan Cox", "email": "coxs@gnu.org", "date": "1995-10-02T20:42:45Z"}, "message": "config/m88k/dgux.h (ASM_SPEC, *_LEGEND)\n\nFrom-SVN: r10417", "tree": {"sha": "637a614fc3dc50d05de4a4a749d2283a9b344f7c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/637a614fc3dc50d05de4a4a749d2283a9b344f7c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cbbb4649a507b31847142cce680b5a2f6bd5f638", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cbbb4649a507b31847142cce680b5a2f6bd5f638", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cbbb4649a507b31847142cce680b5a2f6bd5f638", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cbbb4649a507b31847142cce680b5a2f6bd5f638/comments", "author": null, "committer": null, "parents": [{"sha": "2cd2a93e7216cac40f1a292683009b017404a948", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2cd2a93e7216cac40f1a292683009b017404a948", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2cd2a93e7216cac40f1a292683009b017404a948"}], "stats": {"total": 21, "additions": 11, "deletions": 10}, "files": [{"sha": "807164e799ee7c945c9eb0d239f4e05ef765a81a", "filename": "gcc/config/m88k/dgux.h", "status": "modified", "additions": 11, "deletions": 10, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cbbb4649a507b31847142cce680b5a2f6bd5f638/gcc%2Fconfig%2Fm88k%2Fdgux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cbbb4649a507b31847142cce680b5a2f6bd5f638/gcc%2Fconfig%2Fm88k%2Fdgux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm88k%2Fdgux.h?ref=cbbb4649a507b31847142cce680b5a2f6bd5f638", "patch": "@@ -43,17 +43,18 @@ Boston, MA 02111-1307, USA.  */\n \n /* Augment TARGET_SWITCHES with the MXDB options.  */\n #define MASK_STANDARD\t\t0x40000000 /* Retain standard information */\n-#define MASK_LEGEND\t\t0x20000000 /* Retain legend information */\n+#define MASK_NOLEGEND\t\t0x20000000 /* Discard legend information */\n #define MASK_EXTERNAL_LEGEND\t0x10000000 /* Make external legends */\n \n #define TARGET_STANDARD\t\t  (target_flags & MASK_STANDARD)\n-#define TARGET_LEGEND\t\t  (target_flags & MASK_LEGEND)\n+#define TARGET_NOLEGEND\t\t  (target_flags & MASK_NOLEGEND)\n #define TARGET_EXTERNAL_LEGEND\t  (target_flags & MASK_EXTERNAL_LEGEND)\n \n #undef  SUBTARGET_SWITCHES\n #define SUBTARGET_SWITCHES \\\n     { \"standard\",\t\t\t MASK_STANDARD }, \\\n-    { \"legend\",\t\t\t\t MASK_LEGEND }, \\\n+    { \"legend\",\t\t\t\t-MASK_NOLEGEND }, \\\n+    { \"no-legend\",\t\t\t MASK_NOLEGEND }, \\\n     { \"external-legend\",\t\t MASK_EXTERNAL_LEGEND }, \\\n     /* the following is used only in the *_SPEC's */ \\\n     { \"keep-coff\",\t\t\t 0 },\n@@ -92,13 +93,14 @@ Boston, MA 02111-1307, USA.  */\n #define ASM_SPEC \"\\\n %{V} %{v:%{!V:-V}} %{pipe:%{!.s: - }\\\n %{!msvr3:%{!m88110:-KV3 }%{m88110:-KV04.00 }}}\\\n-%{!mlegend:%{mstandard:-Wc,off}}\\\n-%{mlegend:-Wc,-fix-bb,-s\\\"%i\\\"\\\n+%{g:\\\n+%{mno-legend:-Wc,off}\\\n+%{!mno-legend:-Wc,-fix-bb,-s\\\"%i\\\"\\\n %{traditional:,-lc}%{!traditional:,-lansi-c}\\\n %{mstandard:,-keep-std}\\\n %{mkeep-coff:,-keep-coff}\\\n %{mexternal-legend:,-external}\\\n-%{mocs-frame-position:,-ocs}}\"\n+%{mocs-frame-position:,-ocs}}}\"\n \n /* Override svr4.h.  */\n #undef\tASM_FINAL_SPEC\n@@ -120,8 +122,8 @@ Boston, MA 02111-1307, USA.  */\n #undef\tLINK_SPEC\n #define LINK_SPEC \"%{z*} %{h*} %{V} %{v:%{!V:-V}} \\\n \t\t   %{static:-dn -Bstatic} \\\n-\t\t   %{shared:-G -dy -z text} \\\n-\t\t   %{symbolic:-Bsymbolic -G -dy -z text} \\\n+\t\t   %{shared:-G -dy} \\\n+\t\t   %{symbolic:-Bsymbolic -G -dy} \\\n \t\t   %{pg:-L/usr/lib/libp}%{p:-L/usr/lib/libp}\"\n #undef\tSTARTFILE_SPEC\n #define STARTFILE_SPEC \"%{!shared:%{!symbolic:%{pg:gcrt0.o%s} \\\n@@ -153,8 +155,7 @@ Boston, MA 02111-1307, USA.  */\n \telse\t\t\t\t\t\t\t\t\\\n \t  fprintf (FILE, \"\\t%s\\t \\\"%s\\\"\\n\", VERSION_ASM_OP, \"03.00\");   \\\n       }\t\t\t\t\t\t\t\t\t\\\n-    if (write_symbols != NO_DEBUG\t\t\t\t\t\\\n-\t&& ! (TARGET_STANDARD && ! TARGET_LEGEND))\t\t\t\\\n+    if (write_symbols != NO_DEBUG && !TARGET_NOLEGEND)\t\t\t\\\n       {\t\t\t\t\t\t\t\t\t\\\n \tfprintf (FILE, \";legend_info -fix-bb -h\\\"gcc-%s\\\" -s\\\"%s\\\"\",\t\\\n \t\t VERSION_STRING, main_input_filename);\t\t\t\\"}]}