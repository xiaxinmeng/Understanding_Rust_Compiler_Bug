{"sha": "bd42db1f3ae2e01d8d69237b07e69b3e104d43ee", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmQ0MmRiMWYzYWUyZTAxZDhkNjkyMzdiMDdlNjliM2UxMDRkNDNlZQ==", "commit": {"author": {"name": "Sergey Rybin", "email": "rybin@adacore.com", "date": "2018-05-25T09:04:47Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2018-05-25T09:04:47Z"}, "message": "[Ada] Document the '-U' option for gnatelim\n\n2018-05-25  Sergey Rybin  <rybin@adacore.com>\n\ngcc/ada/\n\n\t* doc/gnat_ugn/gnat_and_program_execution.rst: Add description of '-U'\n\toption for gnatelim.\n\nFrom-SVN: r260735", "tree": {"sha": "b62f5018baeadb4e4434aeaa4b3d9b9b4cb75902", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b62f5018baeadb4e4434aeaa4b3d9b9b4cb75902"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bd42db1f3ae2e01d8d69237b07e69b3e104d43ee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd42db1f3ae2e01d8d69237b07e69b3e104d43ee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bd42db1f3ae2e01d8d69237b07e69b3e104d43ee", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd42db1f3ae2e01d8d69237b07e69b3e104d43ee/comments", "author": null, "committer": null, "parents": [{"sha": "6459a31f98f0607e194720c3f9e0e26b21ad3e61", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6459a31f98f0607e194720c3f9e0e26b21ad3e61", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6459a31f98f0607e194720c3f9e0e26b21ad3e61"}], "stats": {"total": 26, "additions": 25, "deletions": 1}, "files": [{"sha": "d284f18f1c5f8d701087ea4a2fdc26a9d472e3a8", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd42db1f3ae2e01d8d69237b07e69b3e104d43ee/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd42db1f3ae2e01d8d69237b07e69b3e104d43ee/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=bd42db1f3ae2e01d8d69237b07e69b3e104d43ee", "patch": "@@ -1,3 +1,8 @@\n+2018-05-25  Sergey Rybin  <rybin@adacore.com>\n+\n+\t* doc/gnat_ugn/gnat_and_program_execution.rst: Add description of '-U'\n+\toption for gnatelim.\n+\n 2018-05-25  Ed Schonberg  <schonberg@adacore.com>\n \n \t* sem_ch6.adb (Analyze_Subprogram_Body_Helper): Do not create"}, {"sha": "8f6d338421b5ee70b1f0c8e1b360d627872137e2", "filename": "gcc/ada/doc/gnat_ugn/gnat_and_program_execution.rst", "status": "modified", "additions": 20, "deletions": 1, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd42db1f3ae2e01d8d69237b07e69b3e104d43ee/gcc%2Fada%2Fdoc%2Fgnat_ugn%2Fgnat_and_program_execution.rst", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd42db1f3ae2e01d8d69237b07e69b3e104d43ee/gcc%2Fada%2Fdoc%2Fgnat_ugn%2Fgnat_and_program_execution.rst", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdoc%2Fgnat_ugn%2Fgnat_and_program_execution.rst?ref=bd42db1f3ae2e01d8d69237b07e69b3e104d43ee", "patch": "@@ -2700,7 +2700,7 @@ appropriate options.\n   ``gnatelim`` is a project-aware tool.\n   (See :ref:`Using_Project_Files_with_GNAT_Tools` for a description of\n   the project-related switches but note that ``gnatelim`` does not support\n-  the :samp:`-U`, :samp:`-U {main_unit}`, :samp:`--subdirs={dir}`, or\n+  the :samp:`-U {main_unit}`, :samp:`--subdirs={dir}`, or\n   :samp:`--no_objects_dir` switches.)\n   The project file package that can specify\n   ``gnatelim`` switches is named ``Eliminate``.\n@@ -2730,6 +2730,10 @@ appropriate options.\n   treats these files as a complete set of sources making up a program to\n   analyse, and analyses only these sources.\n \n+  If ``gnatelim`` is called with a project file and :samp:`-U` option is\n+  used, then in process all the files from the argument project but\n+  not just the closure of the main subprogram.\n+\n   After a full successful build of the main subprogram ``gnatelim`` can be\n   called without  specifying sources to analyse, in this case it computes\n   the source closure of the main unit from the :file:`ALI` files.\n@@ -2814,6 +2818,15 @@ appropriate options.\n     equivalent ``gnatmake`` flag (:ref:`Switches_for_gnatmake`).\n \n \n+  .. index:: -U (gnatelim)\n+\n+  :samp:`-U`\n+    Process all the sources from the argument project. If no project file\n+    is specified, this option has no effect. If this option is used with the\n+    project file, ``gnatelim`` does not require the preliminary build of the\n+    argument main subprogram.\n+\n+\n   .. index:: -files (gnatelim)\n \n   :samp:`-files={filename}`\n@@ -2924,6 +2937,12 @@ appropriate options.\n   your program from scratch after that, because you need a consistent\n   configuration file(s) during the entire compilation.\n \n+  If ``gnatelim`` is called with a project file and with ``-U`` option\n+  the generated set of pragmas may contain pragmas for subprograms that\n+  does not belong to the closure of the argument main subprogram. These\n+  pragmas has no effect when the set of pragmas is used to reduce the size\n+  of executable.\n+\n \n   .. _Making_Your_Executables_Smaller:\n "}]}