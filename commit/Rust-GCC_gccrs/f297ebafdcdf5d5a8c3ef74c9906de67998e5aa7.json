{"sha": "f297ebafdcdf5d5a8c3ef74c9906de67998e5aa7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjI5N2ViYWZkY2RmNWQ1YThjM2VmNzRjOTkwNmRlNjc5OThlNWFhNw==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2017-12-14T11:47:42Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2017-12-14T11:47:42Z"}, "message": "Test whitespace handling in std::complex extraction\n\n\t* testsuite/26_numerics/complex/inserters_extractors/char/dr2714.cc:\n\tAdd tests using noskipws.\n\nFrom-SVN: r255632", "tree": {"sha": "6b670ac9d2498c8604464ed56520e446b5e7f56a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6b670ac9d2498c8604464ed56520e446b5e7f56a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f297ebafdcdf5d5a8c3ef74c9906de67998e5aa7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f297ebafdcdf5d5a8c3ef74c9906de67998e5aa7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f297ebafdcdf5d5a8c3ef74c9906de67998e5aa7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f297ebafdcdf5d5a8c3ef74c9906de67998e5aa7/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4d39941ea9e6fe059084be9f5dea7e29e055db91", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d39941ea9e6fe059084be9f5dea7e29e055db91", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d39941ea9e6fe059084be9f5dea7e29e055db91"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "e035302bed40fcc6fe6fe2c714fe8d9c97737bd8", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f297ebafdcdf5d5a8c3ef74c9906de67998e5aa7/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f297ebafdcdf5d5a8c3ef74c9906de67998e5aa7/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=f297ebafdcdf5d5a8c3ef74c9906de67998e5aa7", "patch": "@@ -1,5 +1,8 @@\n 2017-12-14  Jonathan Wakely  <jwakely@redhat.com>\n \n+\t* testsuite/26_numerics/complex/inserters_extractors/char/dr2714.cc:\n+\tAdd tests using noskipws.\n+\n \t* testsuite/26_numerics/complex/dr2714.cc: Move to ...\n \t* testsuite/26_numerics/complex/inserters_extractors/char/dr2714.cc:\n \t... Here. Remove duplicate header and dg-options. Check first invalid"}, {"sha": "952c52f4a2b71132f66159e7351cb286214dc78a", "filename": "libstdc++-v3/testsuite/26_numerics/complex/inserters_extractors/char/dr2714.cc", "status": "modified", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f297ebafdcdf5d5a8c3ef74c9906de67998e5aa7/libstdc%2B%2B-v3%2Ftestsuite%2F26_numerics%2Fcomplex%2Finserters_extractors%2Fchar%2Fdr2714.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f297ebafdcdf5d5a8c3ef74c9906de67998e5aa7/libstdc%2B%2B-v3%2Ftestsuite%2F26_numerics%2Fcomplex%2Finserters_extractors%2Fchar%2Fdr2714.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F26_numerics%2Fcomplex%2Finserters_extractors%2Fchar%2Fdr2714.cc?ref=f297ebafdcdf5d5a8c3ef74c9906de67998e5aa7", "patch": "@@ -145,10 +145,38 @@ test03()\n   in.clear();\n }\n \n+void\n+test04()\n+{\n+  // Test noskipws handling\n+  std::istringstream in;\n+  const char* bad_inputs[] = {\n+    \" 1\", \" (2)\", \"( 2)\", \"(2 )\", \"(2 ,3)\", \"(2,3 )\", 0\n+  };\n+  const std::complex<double> c0(-1, -1);\n+  std::complex<double> c;\n+  for (int i = 0; bad_inputs[i]; ++i)\n+  {\n+    c = c0;\n+    in.clear();\n+    in.str(bad_inputs[i]);\n+    in >> std::noskipws >> c;\n+    VERIFY( in.fail() );\n+    VERIFY( c == c0 );\n+\n+    in.clear();\n+    in.str(bad_inputs[i]);\n+    in >> std::skipws >> c;\n+    VERIFY( !in.fail() );\n+    VERIFY( c != c0 );\n+  }\n+}\n+\n int\n main()\n {\n   test01();\n   test02();\n   test03();\n+  test04();\n }"}]}