{"sha": "358ac8ff1c77a36d11144752956d28be44ca13b2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzU4YWM4ZmYxYzc3YTM2ZDExMTQ0NzUyOTU2ZDI4YmU0NGNhMTNiMg==", "commit": {"author": {"name": "Oleg Endo", "email": "olegendo@gcc.gnu.org", "date": "2012-11-11T23:58:06Z"}, "committer": {"name": "Oleg Endo", "email": "olegendo@gcc.gnu.org", "date": "2012-11-11T23:58:06Z"}, "message": "sh4a-fprun.c: Add test_sinf and test_cosf noinline wrappers around sinf and cosf.\n\n\t* gcc.target/sh/sh4a-fprun.c: Add test_sinf and test_cosf noinline\n\twrappers around sinf and cosf.\n\nFrom-SVN: r193419", "tree": {"sha": "35467f5c05e71c54c097d2d3ffc6c270115eaf41", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/35467f5c05e71c54c097d2d3ffc6c270115eaf41"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/358ac8ff1c77a36d11144752956d28be44ca13b2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/358ac8ff1c77a36d11144752956d28be44ca13b2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/358ac8ff1c77a36d11144752956d28be44ca13b2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/358ac8ff1c77a36d11144752956d28be44ca13b2/comments", "author": null, "committer": null, "parents": [{"sha": "ed15a7eeaa1f85ad6907aea61d145538e05eb19e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed15a7eeaa1f85ad6907aea61d145538e05eb19e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ed15a7eeaa1f85ad6907aea61d145538e05eb19e"}], "stats": {"total": 33, "additions": 28, "deletions": 5}, "files": [{"sha": "ca40015d9b229bee0b0756512f2ab10de8ddded1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/358ac8ff1c77a36d11144752956d28be44ca13b2/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/358ac8ff1c77a36d11144752956d28be44ca13b2/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=358ac8ff1c77a36d11144752956d28be44ca13b2", "patch": "@@ -1,3 +1,8 @@\n+2012-11-11  Oleg Endo  <olegendo@gcc.gnu.org>\n+\n+\t* gcc.target/sh/sh4a-fprun.c: Add test_sinf and test_cosf noinline\n+\twrappers around sinf and cosf.\n+\n 2012-11-11  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR middle-end/55247"}, {"sha": "e5fbc4acad39a07b3c94c1f4015d1c3a27676ee8", "filename": "gcc/testsuite/gcc.target/sh/sh4a-fprun.c", "status": "modified", "additions": 23, "deletions": 5, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/358ac8ff1c77a36d11144752956d28be44ca13b2/gcc%2Ftestsuite%2Fgcc.target%2Fsh%2Fsh4a-fprun.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/358ac8ff1c77a36d11144752956d28be44ca13b2/gcc%2Ftestsuite%2Fgcc.target%2Fsh%2Fsh4a-fprun.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fsh%2Fsh4a-fprun.c?ref=358ac8ff1c77a36d11144752956d28be44ca13b2", "patch": "@@ -11,25 +11,43 @@ float sqrt_arg = 4.0f, sqrt_res = 2.0f;\n float dg2rad_f;\n double dg2rad_d;\n \n-void check_f (float res, float expected) {\n+float __attribute__ ((noinline))\n+test_sinf (float x)\n+{\n+  return sinf (x);\n+}\n+\n+float __attribute ((noinline))\n+test_cosf (float x)\n+{\n+  return cosf (x);\n+}\n+\n+void\n+check_f (float res, float expected)\n+{\n   if (res >= expected - 0.001f && res <= expected + 0.001f)\n     return;\n \n   abort ();\n }\n \n-void check_d (double res, double expected) {\n+void\n+check_d (double res, double expected)\n+{\n   if (res >= expected - 0.001 && res <= expected + 0.001)\n     return;\n \n   abort ();\n }\n \n-int main() {\n+int\n+main()\n+{\n   check_f (sqrtf(sqrt_arg), sqrt_res);\n   dg2rad_f = dg2rad_d = atan(1) / 45;\n-  check_f (sinf(90*dg2rad_f), 1);\n-  check_f (cosf(90*dg2rad_f), 0);\n+  check_f (test_sinf(90*dg2rad_f), 1);\n+  check_f (test_cosf(90*dg2rad_f), 0);\n   check_d (sin(-90*dg2rad_d), -1);\n   check_d (cos(180*dg2rad_d), -1);\n   check_d (sin(-45*dg2rad_d) * cosf(135*dg2rad_f), 0.5);"}]}