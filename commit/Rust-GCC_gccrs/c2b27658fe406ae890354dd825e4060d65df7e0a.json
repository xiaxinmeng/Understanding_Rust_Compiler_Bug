{"sha": "c2b27658fe406ae890354dd825e4060d65df7e0a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzJiMjc2NThmZTQwNmFlODkwMzU0ZGQ4MjVlNDA2MGQ2NWRmN2UwYQ==", "commit": {"author": {"name": "Erik Edelmann", "email": "erik.edelmann@iki.fi", "date": "2005-10-16T13:59:36Z"}, "committer": {"name": "Tobias Schl\u00fcter", "email": "tobi@gcc.gnu.org", "date": "2005-10-16T13:59:36Z"}, "message": "re PR fortran/22273 (problem to declare a character variable link to an intent(out) object)\n\n2005-10-16  Erik Edelmann  <erik.edelmann@iki.fi>\nfortran/\n\tPR 22273\n\t* expr.c (check_inquiry): Add \"len\" to inquiry_function.\ntestsuite/\n\tPR fortran/22273\n\t* gfortran.dg/spec_expr_2.f90: New.\n\nFrom-SVN: r105460", "tree": {"sha": "5a62c2ecc9f5536003336480d28af0859099b33d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5a62c2ecc9f5536003336480d28af0859099b33d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c2b27658fe406ae890354dd825e4060d65df7e0a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2b27658fe406ae890354dd825e4060d65df7e0a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2b27658fe406ae890354dd825e4060d65df7e0a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2b27658fe406ae890354dd825e4060d65df7e0a/comments", "author": null, "committer": {"login": "TobiSchluter", "id": 11887541, "node_id": "MDQ6VXNlcjExODg3NTQx", "avatar_url": "https://avatars.githubusercontent.com/u/11887541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TobiSchluter", "html_url": "https://github.com/TobiSchluter", "followers_url": "https://api.github.com/users/TobiSchluter/followers", "following_url": "https://api.github.com/users/TobiSchluter/following{/other_user}", "gists_url": "https://api.github.com/users/TobiSchluter/gists{/gist_id}", "starred_url": "https://api.github.com/users/TobiSchluter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TobiSchluter/subscriptions", "organizations_url": "https://api.github.com/users/TobiSchluter/orgs", "repos_url": "https://api.github.com/users/TobiSchluter/repos", "events_url": "https://api.github.com/users/TobiSchluter/events{/privacy}", "received_events_url": "https://api.github.com/users/TobiSchluter/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a9f7c5705b97b6893f6149108d73b668449d48eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a9f7c5705b97b6893f6149108d73b668449d48eb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a9f7c5705b97b6893f6149108d73b668449d48eb"}], "stats": {"total": 26, "additions": 21, "deletions": 5}, "files": [{"sha": "dca2ef287d5d529f174b791471619ad4f412b0ca", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2b27658fe406ae890354dd825e4060d65df7e0a/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2b27658fe406ae890354dd825e4060d65df7e0a/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=c2b27658fe406ae890354dd825e4060d65df7e0a", "patch": "@@ -1,3 +1,8 @@\n+2005-10-16  Erik Edelmann  <erik.edelmann@iki.fi>\n+\n+\tPR 22273\n+\t* expr.c (check_inquiry): Add \"len\" to inquiry_function.\n+\n 2005-10-14  Jakub Jelinek  <jakub@redhat.com>\n \n \t* primary.c (match_boz_constant): Add missing break after gfc_error."}, {"sha": "16d35c4edb0faf533d36a224c6412dc62104da2b", "filename": "gcc/fortran/expr.c", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2b27658fe406ae890354dd825e4060d65df7e0a/gcc%2Ffortran%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2b27658fe406ae890354dd825e4060d65df7e0a/gcc%2Ffortran%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fexpr.c?ref=c2b27658fe406ae890354dd825e4060d65df7e0a", "patch": "@@ -1355,7 +1355,7 @@ check_inquiry (gfc_expr * e)\n   /* FIXME: This should be moved into the intrinsic definitions,\n      to eliminate this ugly hack.  */\n   static const char * const inquiry_function[] = {\n-    \"digits\", \"epsilon\", \"huge\", \"kind\", \"maxexponent\", \"minexponent\",\n+    \"digits\", \"epsilon\", \"huge\", \"kind\", \"len\", \"maxexponent\", \"minexponent\",\n     \"precision\", \"radix\", \"range\", \"tiny\", \"bit_size\", \"size\", \"shape\",\n     \"lbound\", \"ubound\", NULL\n   };\n@@ -1376,10 +1376,9 @@ check_inquiry (gfc_expr * e)\n   if (e == NULL || e->expr_type != EXPR_VARIABLE)\n     return FAILURE;\n \n-  /* At this point we have a numeric inquiry function with a variable\n-     argument.  The type of the variable might be undefined, but we\n-     need it now, because the arguments of these functions are allowed\n-     to be undefined.  */\n+  /* At this point we have an inquiry function with a variable argument.  The\n+     type of the variable might be undefined, but we need it now, because the\n+     arguments of these functions are allowed to be undefined.  */\n \n   if (e->ts.type == BT_UNKNOWN)\n     {"}, {"sha": "0d4bd73a578e5b3008f0ea66a222168b38620c24", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2b27658fe406ae890354dd825e4060d65df7e0a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2b27658fe406ae890354dd825e4060d65df7e0a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c2b27658fe406ae890354dd825e4060d65df7e0a", "patch": "@@ -1,3 +1,8 @@\n+2005-10-16  Erik Edelmann  <erik.edelmann@iki.fi>\n+\n+\tPR fortran/22273\n+\t* gfortran.dg/spec_expr_2.f90: New.\n+\n 2005-10-16  Hans-Peter Nilsson  <hp@axis.com>\n \n \t* g++.dg/debug/debug3.C, g++.dg/ext/visibility/noPLT.C,"}, {"sha": "5b0500d735b17d237d0c6393920b6f54b3ba7246", "filename": "gcc/testsuite/gfortran.dg/spec_expr_2.f90", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2b27658fe406ae890354dd825e4060d65df7e0a/gcc%2Ftestsuite%2Fgfortran.dg%2Fspec_expr_2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2b27658fe406ae890354dd825e4060d65df7e0a/gcc%2Ftestsuite%2Fgfortran.dg%2Fspec_expr_2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fspec_expr_2.f90?ref=c2b27658fe406ae890354dd825e4060d65df7e0a", "patch": "@@ -0,0 +1,7 @@\n+! { dg-do compile }\n+! PR 22273: Allow INTENT(OUT) dummy:s as arguments to LEN() in specification\n+! expr:s\n+subroutine lecligne (ligne)\n+    character(len=*), intent(out) :: ligne\n+    character(len=len(ligne)) :: comment\n+end subroutine lecligne"}]}