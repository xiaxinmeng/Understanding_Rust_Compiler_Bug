{"sha": "650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjUwZDY2OWJiNGE3NGNkMmNjMTdkODBiMTEwZDBmNjY2ZDNmNWJlZQ==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2018-01-15T18:16:01Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2018-01-15T18:16:01Z"}, "message": "i386: Don't use ASM_OUTPUT_DEF for TARGET_MACHO\n\nASM_OUTPUT_DEF isn't defined for TARGET_MACHO.  Use ASM_OUTPUT_LABEL to\ngenerate the __x86_return_thunk label, instead of the set directive.\nUpdate testcase to remove the __x86_return_thunk label check.  Since\n-fno-pic is ignored on Darwin, update testcases to scan or \"push\" only\non Linux.\n\ngcc/\n\n\tPR target/83839\n\t* config/i386/i386.c (output_indirect_thunk_function): Use\n\tASM_OUTPUT_LABEL, instead of ASM_OUTPUT_DEF, for TARGET_MACHO\n\tfor  __x86_return_thunk.\n\ngcc/testsuite/\n\n\tPR target/83839\n\t* gcc.target/i386/indirect-thunk-1.c: Scan for \"push\" only on\n\tLinux.\n\t* gcc.target/i386/indirect-thunk-2.c: Likewise.\n\t* gcc.target/i386/indirect-thunk-3.c: Likewise.\n\t* gcc.target/i386/indirect-thunk-4.c: Likewise.\n\t* gcc.target/i386/indirect-thunk-7.c: Likewise.\n\t* gcc.target/i386/indirect-thunk-attr-1.c: Likewise.\n\t* gcc.target/i386/indirect-thunk-attr-2.c: Likewise.\n\t* gcc.target/i386/indirect-thunk-attr-5.c: Likewise.\n\t* gcc.target/i386/indirect-thunk-attr-6.c: Likewise.\n\t* gcc.target/i386/indirect-thunk-attr-7.c: Likewise.\n\t* gcc.target/i386/indirect-thunk-extern-1.c: Likewise.\n\t* gcc.target/i386/indirect-thunk-extern-2.c: Likewise.\n\t* gcc.target/i386/indirect-thunk-extern-3.c: Likewise.\n\t* gcc.target/i386/indirect-thunk-extern-4.c: Likewise.\n\t* gcc.target/i386/indirect-thunk-extern-7.c: Likewise.\n\t* gcc.target/i386/indirect-thunk-register-1.c: Likewise.\n\t* gcc.target/i386/indirect-thunk-register-3.c: Likewise.\n\t* gcc.target/i386/indirect-thunk-register-4.c: Likewise.\n\t* gcc.target/i386/ret-thunk-10.c: Likewise.\n\t* gcc.target/i386/ret-thunk-11.c: Likewise.\n\t* gcc.target/i386/ret-thunk-12.c: Likewise.\n\t* gcc.target/i386/ret-thunk-13.c: Likewise.\n\t* gcc.target/i386/ret-thunk-14.c: Likewise.\n\t* gcc.target/i386/ret-thunk-15.c: Likewise.\n\t* gcc.target/i386/ret-thunk-9.c: Don't check the\n\t__x86_return_thunk label.\n\tScan for \"push\" only for Linux.\n\nFrom-SVN: r256704", "tree": {"sha": "911719cc01e21579bbc0f70ae16797e1c2199118", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/911719cc01e21579bbc0f70ae16797e1c2199118"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b0e63d94835956810fa056dbb06ea3741a6862ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b0e63d94835956810fa056dbb06ea3741a6862ed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b0e63d94835956810fa056dbb06ea3741a6862ed"}], "stats": {"total": 103, "additions": 71, "deletions": 32}, "files": [{"sha": "5b5045a3d2ba27ebb720da3ea7c8afd69d5f1238", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -1,3 +1,10 @@\n+2018-01-15  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR target/83839\n+\t* config/i386/i386.c (output_indirect_thunk_function): Use\n+\tASM_OUTPUT_LABEL, instead of ASM_OUTPUT_DEF, for TARGET_MACHO\n+\tfor  __x86_return_thunk.\n+\n 2018-01-15  Richard Biener  <rguenther@suse.de>\n \n \tPR middle-end/83850"}, {"sha": "ea9c462fbba397f7785c830a1f6398d3e7817f34", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -10958,7 +10958,6 @@ output_indirect_thunk_function (bool need_bnd_p, int regno)\n       char alias[32];\n \n       indirect_thunk_name (alias, regno, need_bnd_p, true);\n-      ASM_OUTPUT_DEF (asm_out_file, alias, name);\n #if TARGET_MACHO\n       if (TARGET_MACHO)\n \t{\n@@ -10967,8 +10966,10 @@ output_indirect_thunk_function (bool need_bnd_p, int regno)\n \t  fputs (\"\\n\\t.private_extern\\t\", asm_out_file);\n \t  assemble_name (asm_out_file, alias);\n \t  putc ('\\n', asm_out_file);\n+\t  ASM_OUTPUT_LABEL (asm_out_file, alias);\n \t}\n #else\n+      ASM_OUTPUT_DEF (asm_out_file, alias, name);\n       if (USE_HIDDEN_LINKONCE)\n \t{\n \t  fputs (\"\\t.globl\\t\", asm_out_file);"}, {"sha": "9f1742ef9c9fbde58f50887cb30776353f8b55d3", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -1,3 +1,35 @@\n+2018-01-15  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR target/83839\n+\t* gcc.target/i386/indirect-thunk-1.c: Scan for \"push\" only on\n+\tLinux.\n+\t* gcc.target/i386/indirect-thunk-2.c: Likewise.\n+\t* gcc.target/i386/indirect-thunk-3.c: Likewise.\n+\t* gcc.target/i386/indirect-thunk-4.c: Likewise.\n+\t* gcc.target/i386/indirect-thunk-7.c: Likewise.\n+\t* gcc.target/i386/indirect-thunk-attr-1.c: Likewise.\n+\t* gcc.target/i386/indirect-thunk-attr-2.c: Likewise.\n+\t* gcc.target/i386/indirect-thunk-attr-5.c: Likewise.\n+\t* gcc.target/i386/indirect-thunk-attr-6.c: Likewise.\n+\t* gcc.target/i386/indirect-thunk-attr-7.c: Likewise.\n+\t* gcc.target/i386/indirect-thunk-extern-1.c: Likewise.\n+\t* gcc.target/i386/indirect-thunk-extern-2.c: Likewise.\n+\t* gcc.target/i386/indirect-thunk-extern-3.c: Likewise.\n+\t* gcc.target/i386/indirect-thunk-extern-4.c: Likewise.\n+\t* gcc.target/i386/indirect-thunk-extern-7.c: Likewise.\n+\t* gcc.target/i386/indirect-thunk-register-1.c: Likewise.\n+\t* gcc.target/i386/indirect-thunk-register-3.c: Likewise.\n+\t* gcc.target/i386/indirect-thunk-register-4.c: Likewise.\n+\t* gcc.target/i386/ret-thunk-10.c: Likewise.\n+\t* gcc.target/i386/ret-thunk-11.c: Likewise.\n+\t* gcc.target/i386/ret-thunk-12.c: Likewise.\n+\t* gcc.target/i386/ret-thunk-13.c: Likewise.\n+\t* gcc.target/i386/ret-thunk-14.c: Likewise.\n+\t* gcc.target/i386/ret-thunk-15.c: Likewise.\n+\t* gcc.target/i386/ret-thunk-9.c: Don't check the\n+\t__x86_return_thunk label.\n+\tScan for \"push\" only for Linux.\n+\n 2018-01-15  Richard Sandiford  <richard.sandiford@linaro.org>\n \n \tPR testsuite/79920"}, {"sha": "60d09881a990e988172c128719d9061412009864", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-1.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -11,7 +11,7 @@ male_indirect_jump (long offset)\n   dispatch(offset);\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk\" { target { ! x32 } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk_(r|e)ax\" { target x32 } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*\\.LIND\" } } */"}, {"sha": "aac7516379495273812f49fbaccd32a593a3bf71", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-2.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -11,7 +11,7 @@ male_indirect_jump (long offset)\n   dispatch[offset](offset);\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk\" { target { ! x32 } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk_(r|e)ax\" { target x32 } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*\\.LIND\" } } */"}, {"sha": "9e24a385387bec721f06183c9c5b68d861a83486", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-3.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -12,7 +12,7 @@ male_indirect_jump (long offset)\n   return 0;\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk\" { target { ! x32 } } } } */\n /* { dg-final { scan-assembler \"call\\[ \\t\\]*__x86_indirect_thunk_(r|e)ax\" { target x32 } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*\\.LIND\" } } */"}, {"sha": "127b5d94523466ba3d815005f7699d1a29492aa5", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-4.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -12,7 +12,7 @@ male_indirect_jump (long offset)\n   return 0;\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk\" { target { ! x32 } } } } */\n /* { dg-final { scan-assembler \"call\\[ \\t\\]*__x86_indirect_thunk_(r|e)ax\" { target x32 } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*\\.LIND\" } } */"}, {"sha": "17c2d0faf88ba2e94828e3c980bfcaa4b16c5309", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-7.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-7.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -35,7 +35,7 @@ bar (int i)\n     }\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*\\.L\\[0-9\\]+\\\\(,%\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*\\.L\\[0-9\\]+\\\\(,%\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk\" { target { ! x32 } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk_(r|e)ax\" { target x32 } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*\\.LIND\" } } */"}, {"sha": "9194ccf3cbc3c21d536ef8a2c5563ad21ee1269f", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-attr-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-attr-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-attr-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-attr-1.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -14,7 +14,7 @@ male_indirect_jump (long offset)\n   dispatch(offset);\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk\" { target { ! x32 } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk_(r|e)ax\" { target x32 } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*\\.LIND\" } } */"}, {"sha": "e51f261a612ec68cfb82530fe9ca617e102e3a22", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-attr-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-attr-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-attr-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-attr-2.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -12,7 +12,7 @@ male_indirect_jump (long offset)\n   dispatch[offset](offset);\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk\" { target { ! x32 } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk_(r|e)ax\" { target x32 } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*\\.LIND\" } } */"}, {"sha": "4aeec1833cd2c38fe637d03d3301ac10190dc600", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-attr-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-attr-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-attr-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-attr-3.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -14,7 +14,7 @@ male_indirect_jump (long offset)\n   return 0;\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler-times \"jmp\\[ \\t\\]*\\.LIND\" 2 } } */\n /* { dg-final { scan-assembler-times \"call\\[ \\t\\]*\\.LIND\" 2 } } */\n /* { dg-final { scan-assembler {\\tpause} } } */"}, {"sha": "ac0e5999f633914ad7956652a544f625e9c238c3", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-attr-4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-attr-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-attr-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-attr-4.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -13,7 +13,7 @@ male_indirect_jump (long offset)\n   return 0;\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler-times \"jmp\\[ \\t\\]*\\.LIND\" 2 } } */\n /* { dg-final { scan-assembler-times \"call\\[ \\t\\]*\\.LIND\" 2 } } */\n /* { dg-final { scan-assembler {\\tpause} } } */"}, {"sha": "573cf1ef09e30c1ea574c1a8d75e36032b8006bd", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-attr-5.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-attr-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-attr-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-attr-5.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -14,7 +14,7 @@ male_indirect_jump (long offset)\n   return 0;\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler-times \"jmp\\[ \\t\\]*\\.LIND\" 1 { target { ! x32 } } } } */\n /* { dg-final { scan-assembler-times \"call\\[ \\t\\]*\\.LIND\" 1 { target { ! x32 } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk\" { target { ! x32 } } } } */"}, {"sha": "b2b37fc6e2eb3e8adceacb2107cdccd6fa839ffe", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-attr-6.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-attr-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-attr-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-attr-6.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -13,7 +13,7 @@ male_indirect_jump (long offset)\n   return 0;\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler-times \"jmp\\[ \\t\\]*\\.LIND\" 1 { target { ! x32 } } } } */\n /* { dg-final { scan-assembler-times \"call\\[ \\t\\]*\\.LIND\" 1 { target { ! x32 } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk\" { target { ! x32 } } } } */"}, {"sha": "4a43e1999313214428f5b76563f30a65a4ae6c9e", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-attr-7.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-attr-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-attr-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-attr-7.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -36,7 +36,7 @@ bar (int i)\n     }\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*\\.L\\[0-9\\]+\\\\(,%\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*\\.L\\[0-9\\]+\\\\(,%\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk_(r|e)ax\" { target x32 } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk\" } } */\n /* { dg-final { scan-assembler-not {\\t(lfence|pause)} } } */"}, {"sha": "ac84ab623fa91252435a9990ce9d4e5fc672b81f", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-bnd-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-bnd-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-bnd-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-bnd-1.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -10,7 +10,7 @@ foo (void)\n   dispatch (buf);\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler \"pushq\\[ \\t\\]%rax\" { target x32 } } } */\n /* { dg-final { scan-assembler \"bnd jmp\\[ \\t\\]*__x86_indirect_thunk_bnd\" } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*\\.LIND\" } } */"}, {"sha": "ce655e8be1c79dd87193e032405bc7720d3780d4", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-bnd-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-bnd-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-bnd-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-bnd-2.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -11,7 +11,7 @@ foo (void)\n   return 0;\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler \"pushq\\[ \\t\\]%rax\" { target x32 } } } */\n /* { dg-final { scan-assembler \"bnd jmp\\[ \\t\\]*__x86_indirect_thunk_bnd\" } } */\n /* { dg-final { scan-assembler \"bnd jmp\\[ \\t\\]*\\.LIND\" } } */"}, {"sha": "579441f250ee6a5f379c7c93816214bf7d343d6d", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-extern-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-extern-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-extern-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-extern-1.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -11,7 +11,7 @@ male_indirect_jump (long offset)\n   dispatch(offset);\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk\" { target { ! x32 } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk_(r|e)ax\" { target x32 } } } */\n /* { dg-final { scan-assembler-not {\\t(lfence|pause)} } } */"}, {"sha": "c92e6f2b02db179bac2f653d2480f031c0d1eef4", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-extern-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-extern-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-extern-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-extern-2.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -11,7 +11,7 @@ male_indirect_jump (long offset)\n   dispatch[offset](offset);\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk\" { target { ! x32 } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk_(r|e)ax\" { target x32 } } } */\n /* { dg-final { scan-assembler-not {\\t(lfence|pause)} } } */"}, {"sha": "d9964c25bbdc9b0e9a5a0adee4cabecc2344ca36", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-extern-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-extern-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-extern-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-extern-3.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -12,7 +12,7 @@ male_indirect_jump (long offset)\n   return 0;\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk\" { target { ! x32 } } } } */\n /* { dg-final { scan-assembler-times \"jmp\\[ \\t\\]*\\.LIND\" 1 { target { ! x32 } } } } */\n /* { dg-final { scan-assembler-times \"call\\[ \\t\\]*\\.LIND\" 1 { target { ! x32 } } } } */"}, {"sha": "d4dca4dc5febe6b076ea20041b2973ff865a10f0", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-extern-4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-extern-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-extern-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-extern-4.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -12,7 +12,7 @@ male_indirect_jump (long offset)\n   return 0;\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk\" { target { ! x32 } } } } */\n /* { dg-final { scan-assembler-times \"jmp\\[ \\t\\]*\\.LIND\" 1 { target { ! x32 } } } } */\n /* { dg-final { scan-assembler-times \"call\\[ \\t\\]*\\.LIND\" 1 { target { ! x32 } } } } */"}, {"sha": "aece9383697483bee94fa1c14467cb5071eeb4bb", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-extern-7.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-extern-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-extern-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-extern-7.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -35,7 +35,7 @@ bar (int i)\n     }\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*\\.L\\[0-9\\]+\\\\(,%\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*\\.L\\[0-9\\]+\\\\(,%\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk\" { target { ! x32 } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk_(r|e)ax\" { target x32 } } } */\n /* { dg-final { scan-assembler-not {\\t(lfence|pause)} } } */"}, {"sha": "3aba5e8c81f402de3fd95e949a5da82824b3be80", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-inline-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-inline-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-inline-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-inline-1.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -11,7 +11,7 @@ male_indirect_jump (long offset)\n   dispatch(offset);\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*\\.LIND\" } } */\n /* { dg-final { scan-assembler \"call\\[ \\t\\]*\\.LIND\" } } */\n /* { dg-final { scan-assembler {\\tpause} } } */"}, {"sha": "0f0181d667208cc5c6d86d3b8141c8482eac0761", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-inline-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-inline-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-inline-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-inline-2.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -11,7 +11,7 @@ male_indirect_jump (long offset)\n   dispatch[offset](offset);\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*\\.LIND\" } } */\n /* { dg-final { scan-assembler \"call\\[ \\t\\]*\\.LIND\" } } */\n /* { dg-final { scan-assembler {\\tpause} } } */"}, {"sha": "2eef6f35a750ce2c36225bfc27747dff91f12fc8", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-inline-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-inline-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-inline-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-inline-3.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -12,7 +12,7 @@ male_indirect_jump (long offset)\n   return 0;\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler-times \"jmp\\[ \\t\\]*\\.LIND\" 2 } } */\n /* { dg-final { scan-assembler-times \"call\\[ \\t\\]*\\.LIND\" 2 } } */\n /* { dg-final { scan-assembler-times {\\tpause} 1 } } */"}, {"sha": "e825a10f14c1687dfd413e73fce3fb4025a3fa48", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-inline-4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-inline-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-inline-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-inline-4.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -12,7 +12,7 @@ male_indirect_jump (long offset)\n   return 0;\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?dispatch\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler-times \"jmp\\[ \\t\\]*\\.LIND\" 2 } } */\n /* { dg-final { scan-assembler-times \"call\\[ \\t\\]*\\.LIND\" 2 } } */\n /* { dg-final { scan-assembler-times {\\tpause} 1 } } */"}, {"sha": "c67066cf197a9c1f657bdd27cbf15efea82f56b1", "filename": "gcc/testsuite/gcc.target/i386/indirect-thunk-inline-7.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-inline-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-inline-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Findirect-thunk-inline-7.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -35,7 +35,7 @@ bar (int i)\n     }\n }\n \n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*\\.L\\[0-9\\]+\\\\(,%\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*\\.L\\[0-9\\]+\\\\(,%\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler-not \"pushq\\[ \\t\\]%rax\" { target x32 } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*\\.LIND\" } } */\n /* { dg-final { scan-assembler \"call\\[ \\t\\]*\\.LIND\" } } */"}, {"sha": "e6fea84a4d93584455d4dcd1ce873b274f4e59da", "filename": "gcc/testsuite/gcc.target/i386/ret-thunk-10.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fret-thunk-10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fret-thunk-10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fret-thunk-10.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -15,7 +15,7 @@ foo (void)\n /* { dg-final { scan-assembler-not \"jmp\\[ \\t\\]*__x86_return_thunk\" } } */\n /* { dg-final { scan-assembler-times {\\tpause} 2 } } */\n /* { dg-final { scan-assembler-times {\\tlfence} 2 } } */\n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?bar\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?bar\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk\" { target { ! x32 } }  } } */\n /* { dg-final { scan-assembler \"__x86_indirect_thunk:\" { target { ! x32 } }  } } */\n /* { dg-final { scan-assembler \"call\\[ \\t\\]*__x86_indirect_thunk_(r|e)ax\" { target { x32 } }  } } */"}, {"sha": "e239ec4542fed44f02d8e01db230e7b73711b8fa", "filename": "gcc/testsuite/gcc.target/i386/ret-thunk-11.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fret-thunk-11.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fret-thunk-11.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fret-thunk-11.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -15,7 +15,7 @@ foo (void)\n /* { dg-final { scan-assembler-times {\\tlfence} 1 } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*\\.LIND\" } } */\n /* { dg-final { scan-assembler \"call\\[ \\t\\]*\\.LIND\" } } */\n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?bar\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?bar\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk\" { target { ! x32 } } } } */\n /* { dg-final { scan-assembler \"__x86_indirect_thunk:\" { target { ! x32 } }  } } */\n /* { dg-final { scan-assembler \"call\\[ \\t\\]*__x86_indirect_thunk_(r|e)ax\" { target { x32 } }  } } */"}, {"sha": "fd5b41fdd3fca0ed54d3ca84fb3cfb59736c643c", "filename": "gcc/testsuite/gcc.target/i386/ret-thunk-13.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fret-thunk-13.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fret-thunk-13.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fret-thunk-13.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -14,7 +14,7 @@ foo (void)\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_return_thunk\" } } */\n /* { dg-final { scan-assembler-times {\\tpause} 2 } } */\n /* { dg-final { scan-assembler-times {\\tlfence} 2 } } */\n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?bar\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?bar\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler-times \"jmp\\[ \\t\\]*\\.LIND\" 3 } } */\n /* { dg-final { scan-assembler-times \"call\\[ \\t\\]*\\.LIND\" 3 } } */\n /* { dg-final { scan-assembler-not \"jmp\\[ \\t\\]*__x86_indirect_thunk\" } } */"}, {"sha": "d606373ead1c43e525c68bddd6e83831d01a1c22", "filename": "gcc/testsuite/gcc.target/i386/ret-thunk-14.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fret-thunk-14.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fret-thunk-14.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fret-thunk-14.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -16,7 +16,7 @@ foo (void)\n /* { dg-final { scan-assembler-not \"jmp\\[ \\t\\]*__x86_return_thunk\" } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*\\.LIND\" } } */\n /* { dg-final { scan-assembler \"call\\[ \\t\\]*\\.LIND\" } } */\n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?bar\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?bar\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk\" { target { ! x32 } } } } */\n /* { dg-final { scan-assembler \"call\\[ \\t\\]*__x86_indirect_thunk_(r|e)ax\" { target { x32 } }  } } */\n /* { dg-final { scan-assembler-not \"pushq\\[ \\t\\]%rax\" { target x32 } } } */"}, {"sha": "75e45e226b8bd2218f32e1499a1b7e1355a027e2", "filename": "gcc/testsuite/gcc.target/i386/ret-thunk-15.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fret-thunk-15.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fret-thunk-15.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fret-thunk-15.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -16,7 +16,7 @@ foo (void)\n /* { dg-final { scan-assembler \"call\\[ \\t\\]*\\.LIND\" } } */\n /* { dg-final { scan-assembler-times {\\tpause} 1 } } */\n /* { dg-final { scan-assembler-times {\\tlfence} 1 } } */\n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?bar\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?bar\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk\" { target { ! x32 } } } } */\n /* { dg-final { scan-assembler \"call\\[ \\t\\]*__x86_indirect_thunk_(r|e)ax\" { target x32 } } } */\n /* { dg-final { scan-assembler-not \"pushq\\[ \\t\\]%rax\" { target x32 } } } */"}, {"sha": "d1db41cc128d9d1e8ff3966cebd8c991a7452a97", "filename": "gcc/testsuite/gcc.target/i386/ret-thunk-9.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fret-thunk-9.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/650d669bb4a74cd2cc17d80b110d0f666d3f5bee/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fret-thunk-9.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fret-thunk-9.c?ref=650d669bb4a74cd2cc17d80b110d0f666d3f5bee", "patch": "@@ -11,13 +11,12 @@ foo (void)\n }\n \n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_return_thunk\" } } */\n-/* { dg-final { scan-assembler-not \"__x86_return_thunk:\" } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*\\.LIND\" } } */\n /* { dg-final { scan-assembler \"call\\[ \\t\\]*\\.LIND\" } } */\n /* { dg-final { scan-assembler \"__x86_indirect_thunk:\" } } */\n /* { dg-final { scan-assembler-times {\\tpause} 1 { target { ! x32 } } } } */\n /* { dg-final { scan-assembler-times {\\tlfence} 1 { target { ! x32 } } } } */\n-/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?bar\" { target { ! x32 } } } } */\n+/* { dg-final { scan-assembler \"push(?:l|q)\\[ \\t\\]*_?bar\" { target { { ! x32 } && *-*-linux* } } } } */\n /* { dg-final { scan-assembler \"jmp\\[ \\t\\]*__x86_indirect_thunk\" { target { ! x32 } } } } */\n /* { dg-final { scan-assembler-times {\\tpause} 2 { target { x32 } } } } */\n /* { dg-final { scan-assembler-times {\\tlfence} 2 { target { x32 } } } } */"}]}