{"sha": "58d07d8f3eda79bbe4580fa1e2fa35386977fd59", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NThkMDdkOGYzZWRhNzliYmU0NTgwZmExZTJmYTM1Mzg2OTc3ZmQ1OQ==", "commit": {"author": {"name": "Graham Stott", "email": "grahams@redhat.com", "date": "2001-12-01T02:11:25Z"}, "committer": {"name": "Laurent Guerby", "email": "guerby@gcc.gnu.org", "date": "2001-12-01T02:11:25Z"}, "message": "Makefile.in (misc.o): Add missing $(srcdir) prefix and add optabs.h dependency.\n\n2001-12-01  Graham Stott  <grahams@redhat.com>\n\n\t* Makefile.in (misc.o): Add missing $(srcdir) prefix\n\tand add optabs.h dependency.\n\n\t* misc.c: Include optabs.h\n\t(gnat_tree_code_type): Make static and const.\n\t(gnat_tree_code_length): Likewise.\n\t(gnat_tree_code_name): Likewise.\n\t(update_setjmp_buf): Obtain operands mode from insn_data.\n\nFrom-SVN: r47503", "tree": {"sha": "cdc298f8dd9205a0874a90080398b2b650fb1a4e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cdc298f8dd9205a0874a90080398b2b650fb1a4e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/58d07d8f3eda79bbe4580fa1e2fa35386977fd59", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58d07d8f3eda79bbe4580fa1e2fa35386977fd59", "html_url": "https://github.com/Rust-GCC/gccrs/commit/58d07d8f3eda79bbe4580fa1e2fa35386977fd59", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58d07d8f3eda79bbe4580fa1e2fa35386977fd59/comments", "author": null, "committer": null, "parents": [{"sha": "f18c054f039f8d5642a4bfb89db758f3abf3acfd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f18c054f039f8d5642a4bfb89db758f3abf3acfd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f18c054f039f8d5642a4bfb89db758f3abf3acfd"}], "stats": {"total": 29, "additions": 21, "deletions": 8}, "files": [{"sha": "25f2598393627c584af45184e0484128e57af30c", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58d07d8f3eda79bbe4580fa1e2fa35386977fd59/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58d07d8f3eda79bbe4580fa1e2fa35386977fd59/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=58d07d8f3eda79bbe4580fa1e2fa35386977fd59", "patch": "@@ -1,3 +1,14 @@\n+2001-12-01  Graham Stott  <grahams@redhat.com>\n+\n+\t* Makefile.in (misc.o): Add missing $(srcdir) prefix\n+\tand add optabs.h dependency.\n+\n+\t* misc.c: Include optabs.h\n+\t(gnat_tree_code_type): Make static and const.\n+\t(gnat_tree_code_length): Likewise.\n+\t(gnat_tree_code_name): Likewise.\n+\t(update_setjmp_buf): Obtain operands mode from insn_data.\n+\n 2001-11-29  Richard Henderson  <rth@redhat.com>\n \n \t* init.c: Remove obsolete dwarf2 frame.h section."}, {"sha": "8a10b22f043ca1e985b5f2d9e91914cd4d812ae1", "filename": "gcc/ada/Makefile.in", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58d07d8f3eda79bbe4580fa1e2fa35386977fd59/gcc%2Fada%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58d07d8f3eda79bbe4580fa1e2fa35386977fd59/gcc%2Fada%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FMakefile.in?ref=58d07d8f3eda79bbe4580fa1e2fa35386977fd59", "patch": "@@ -2585,9 +2585,9 @@ decl.o : decl.c $(CONFIG_H) $(TREE_H) $(srcdir)/../flags.h \\\n misc.o : misc.c $(CONFIG_H) $(TREE_H) $(RTL_H) $(srcdir)/../expr.h \\\n    ../insn-codes.h ../insn-flags.h ../insn-config.h $(srcdir)/../recog.h \\\n    $(srcdir)/../flags.h $(srcdir)/../diagnostic.h $(srcdir)/../output.h \\\n-   $(srcdir)/../except.h ../tm_p.h ../langhooks.h ada.h types.h atree.h \\\n-   nlists.h elists.h sinfo.h einfo.h namet.h stringt.h uintp.h fe.h \\\n-   $(ADA_TREE_H) gigi.h ../langhooks-def.h\n+   $(srcdir)/../except.h ../tm_p.h  $(srcdir)/../langhooks.h ada.h types.h \\\n+   atree.h nlists.h elists.h sinfo.h einfo.h namet.h stringt.h uintp.h fe.h \\\n+   $(ADA_TREE_H) gigi.h $(srcdir)/../langhooks-def.h $(srcdir)/../optabs.h\n \n targtyps.o : targtyps.c $(CONFIG_H) ada.h types.h atree.h nlists.h elists.h \\\n    uintp.h sinfo.h einfo.h namet.h snames.h stringt.h urealp.h fe.h \\"}, {"sha": "cba0be562f99d7dbabdae7bcc3cb5182c54aa99e", "filename": "gcc/ada/misc.c", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58d07d8f3eda79bbe4580fa1e2fa35386977fd59/gcc%2Fada%2Fmisc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58d07d8f3eda79bbe4580fa1e2fa35386977fd59/gcc%2Fada%2Fmisc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fmisc.c?ref=58d07d8f3eda79bbe4580fa1e2fa35386977fd59", "patch": "@@ -6,7 +6,7 @@\n  *                                                                          *\n  *                           C Implementation File                          *\n  *                                                                          *\n- *                             $Revision: 1.13 $\n+ *                             $Revision: 1.14 $\n  *                                                                          *\n  *          Copyright (C) 1992-2001 Free Software Foundation, Inc.          *\n  *                                                                          *\n@@ -47,6 +47,7 @@\n #include \"flags.h\"\n #include \"insn-flags.h\"\n #include \"insn-config.h\"\n+#include \"optabs.h\"\n #include \"recog.h\"\n #include \"toplev.h\"\n #include \"output.h\"\n@@ -81,7 +82,7 @@ extern char **save_argv;\n \n #define DEFTREECODE(SYM, NAME, TYPE, LENGTH) TYPE,\n \n-char gnat_tree_code_type[] = {\n+static char const gnat_tree_code_type[] = {\n   'x',\n #include \"ada-tree.def\"\n };\n@@ -93,7 +94,7 @@ char gnat_tree_code_type[] = {\n \n #define DEFTREECODE(SYM, NAME, TYPE, LENGTH) LENGTH,\n \n-int gnat_tree_code_length[] = {\n+static int const gnat_tree_code_length[] = {\n   0,\n #include \"ada-tree.def\"\n };\n@@ -103,7 +104,7 @@ int gnat_tree_code_length[] = {\n    Used for printing out the tree and error messages.  */\n #define DEFTREECODE(SYM, NAME, TYPE, LEN) NAME,\n \n-const char *gnat_tree_code_name[] = {\n+static const char *gnat_tree_code_name[] = {\n   \"@@dummy\",\n #include \"ada-tree.def\"\n };\n@@ -743,8 +744,9 @@ update_setjmp_buf (buf)\n \n #ifdef HAVE_save_stack_nonlocal\n   if (HAVE_save_stack_nonlocal)\n-    sa_mode = insn_operand_mode[(int) CODE_FOR_save_stack_nonlocal][0];\n+    sa_mode = insn_data [(int) CODE_FOR_save_stack_nonlocal].operand[0].mode;\n #endif\n+\n #ifdef STACK_SAVEAREA_MODE\n   sa_mode = STACK_SAVEAREA_MODE (SAVE_NONLOCAL);\n #endif"}]}