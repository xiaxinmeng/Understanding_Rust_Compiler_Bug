{"sha": "80c85ca2871defbcb6e6c03e27b15d7b6432c535", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODBjODVjYTI4NzFkZWZiY2I2ZTZjMDNlMjdiMTVkN2I2NDMyYzUzNQ==", "commit": {"author": {"name": "Mike Stump", "email": "mrs@apple.com", "date": "2006-11-17T06:48:01Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "2006-11-17T06:48:01Z"}, "message": "darwin.h (LINK_COMMAND_SPEC): Don't do dwarf stuff on pre-darwin9 system, unless the user asks for it directly.\n\n\t* config/darwin.h (LINK_COMMAND_SPEC): Don't do dwarf stuff on\n\tpre-darwin9 system, unless the user asks for it directly.\n\t(PREFERRED_DEBUGGING_TYPE): Likewise.\n\t* config/i386/darwin.h (PREFERRED_DEBUGGING_TYPE): Likewise.\n\t* config.gcc: Add suppport for darwin9.h.\n\t* config/darwin9.h: Add.\n\t* doc/install.texi (Specific): Clarify darwin documentation.\n\nFrom-SVN: r118917", "tree": {"sha": "d90cad857cdc7befcd4cafdeb04e5648285d0b52", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d90cad857cdc7befcd4cafdeb04e5648285d0b52"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/80c85ca2871defbcb6e6c03e27b15d7b6432c535", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80c85ca2871defbcb6e6c03e27b15d7b6432c535", "html_url": "https://github.com/Rust-GCC/gccrs/commit/80c85ca2871defbcb6e6c03e27b15d7b6432c535", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80c85ca2871defbcb6e6c03e27b15d7b6432c535/comments", "author": null, "committer": null, "parents": [{"sha": "36b15ad0dc8c471bbe053131e48ab3ec49aa7009", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36b15ad0dc8c471bbe053131e48ab3ec49aa7009", "html_url": "https://github.com/Rust-GCC/gccrs/commit/36b15ad0dc8c471bbe053131e48ab3ec49aa7009"}], "stats": {"total": 59, "additions": 50, "deletions": 9}, "files": [{"sha": "8a74dde70bde04d5a3da50e0abc914c7f000b985", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80c85ca2871defbcb6e6c03e27b15d7b6432c535/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80c85ca2871defbcb6e6c03e27b15d7b6432c535/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=80c85ca2871defbcb6e6c03e27b15d7b6432c535", "patch": "@@ -1,3 +1,13 @@\n+2006-11-16  Mike Stump  <mrs@apple.com>\n+\n+\t* config/darwin.h (LINK_COMMAND_SPEC): Don't do dwarf stuff on\n+\tpre-darwin9 system, unless the user asks for it directly.\n+\t(PREFERRED_DEBUGGING_TYPE): Likewise.\n+\t* config/i386/darwin.h (PREFERRED_DEBUGGING_TYPE): Likewise.\n+\t* config.gcc: Add suppport for darwin9.h.\n+\t* config/darwin9.h: Add.\n+\t* doc/install.texi (Specific): Clarify darwin documentation.\n+\t\n 2006-11-16  Richard Earnshaw  <rearnsha@arm.com>\n \n \t* arm.h (CONSTANT_ALIGNMENT): Don't over-align strings when"}, {"sha": "bdf280c9528908528d24c0422449ccf8c95230a9", "filename": "gcc/config.gcc", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80c85ca2871defbcb6e6c03e27b15d7b6432c535/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80c85ca2871defbcb6e6c03e27b15d7b6432c535/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=80c85ca2871defbcb6e6c03e27b15d7b6432c535", "patch": "@@ -366,7 +366,13 @@ esac\n # Common parts for widely ported systems.\n case ${target} in\n *-*-darwin*)\n-  tm_file=\"${tm_file} darwin.h ${cpu_type}/darwin.h\"\n+  tm_file=\"${tm_file} darwin.h\"\n+  case ${target} in\n+  *-*-darwin9*)\n+    tm_file=\"${tm_file} darwin9.h\"\n+    ;;\n+  esac\n+  tm_file=\"${tm_file} ${cpu_type}/darwin.h\"\n   tm_p_file=\"${tm_p_file} darwin-protos.h\"\n   tmake_file=\"t-darwin ${cpu_type}/t-darwin t-slibgcc-darwin\"\n   target_gtfiles=\"\\$(srcdir)/config/darwin.c\""}, {"sha": "c0f9c86e4ec8a0bc83c0642dd0103312801cf908", "filename": "gcc/config/darwin.h", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80c85ca2871defbcb6e6c03e27b15d7b6432c535/gcc%2Fconfig%2Fdarwin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80c85ca2871defbcb6e6c03e27b15d7b6432c535/gcc%2Fconfig%2Fdarwin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin.h?ref=80c85ca2871defbcb6e6c03e27b15d7b6432c535", "patch": "@@ -241,7 +241,7 @@ extern GTY(()) int darwin_ms_struct;\n     %{!A:%{!nostdlib:%{!nostartfiles:%E}}} %{T*} %{F*} }}}}}}}\\n\\\n %{!fdump=*:%{!fsyntax-only:%{!c:%{!M:%{!MM:%{!E:%{!S:\\\n     %{.c|.cc|.C|.cpp|.c++|.CPP|.m|.mm: \\\n-    %{g*:%{!gstabs*:%{!gnone: dsymutil %{o*:%*}%{!o:a.out}}}}}}}}}}}}\"\n+    %{gdwarf-2:%{!gstabs*:%{!gnone: dsymutil %{o*:%*}%{!o:a.out}}}}}}}}}}}}\"\n \n #ifdef TARGET_SYSTEM_ROOT\n #define LINK_SYSROOT_SPEC \\\n@@ -395,9 +395,8 @@ extern GTY(()) int darwin_ms_struct;\n \n #define DBX_DEBUGGING_INFO 1\n \n-/* Prefer DWARF2.  */\n #define DWARF2_DEBUGGING_INFO\n-#define PREFERRED_DEBUGGING_TYPE DWARF2_DEBUG\n+#define PREFERRED_DEBUGGING_TYPE DBX_DEBUG\n \n #define DEBUG_FRAME_SECTION\t\"__DWARF,__debug_frame,regular,debug\"\n #define DEBUG_INFO_SECTION\t\"__DWARF,__debug_info,regular,debug\""}, {"sha": "ef9890a6741bc9c9848fc66c51277804113b7d67", "filename": "gcc/config/darwin9.h", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80c85ca2871defbcb6e6c03e27b15d7b6432c535/gcc%2Fconfig%2Fdarwin9.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80c85ca2871defbcb6e6c03e27b15d7b6432c535/gcc%2Fconfig%2Fdarwin9.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin9.h?ref=80c85ca2871defbcb6e6c03e27b15d7b6432c535", "patch": "@@ -0,0 +1,20 @@\n+/* Prefer DWARF2.  */\n+#undef PREFERRED_DEBUGGING_TYPE\n+#define PREFERRED_DEBUGGING_TYPE DWARF2_DEBUG\n+#define DARWIN_PREFER_DWARF\n+\n+#undef LINK_COMMAND_SPEC\n+#define LINK_COMMAND_SPEC \"\\\n+%{!fdump=*:%{!fsyntax-only:%{!c:%{!M:%{!MM:%{!E:%{!S:\\\n+    %{!Zdynamiclib:%(linker)}%{Zdynamiclib:/usr/bin/libtool} \\\n+    %l %X %{d} %{s} %{t} %{Z} \\\n+    %{!Zdynamiclib:%{A} %{e*} %{m} %{N} %{n} %{r} %{u*} %{x} %{z}} \\\n+    %{o*}%{!o:-o a.out} \\\n+    %{!A:%{!nostdlib:%{!nostartfiles:%S}}} \\\n+    %{L*} %{fopenmp:%:include(libgomp.spec)%(link_gomp)}   \\\n+    %(link_libgcc) %o %{fprofile-arcs|fprofile-generate|coverage:-lgcov} \\\n+    %{!nostdlib:%{!nodefaultlibs:%(link_ssp) %G %L}} \\\n+    %{!A:%{!nostdlib:%{!nostartfiles:%E}}} %{T*} %{F*} }}}}}}}\\n\\\n+%{!fdump=*:%{!fsyntax-only:%{!c:%{!M:%{!MM:%{!E:%{!S:\\\n+    %{.c|.cc|.C|.cpp|.c++|.CPP|.m|.mm: \\\n+    %{g*:%{!gstabs*:%{!gnone: dsymutil %{o*:%*}%{!o:a.out}}}}}}}}}}}}\""}, {"sha": "cf479439d838864b3ebf02f032181d19c7c466de", "filename": "gcc/config/i386/darwin.h", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80c85ca2871defbcb6e6c03e27b15d7b6432c535/gcc%2Fconfig%2Fi386%2Fdarwin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80c85ca2871defbcb6e6c03e27b15d7b6432c535/gcc%2Fconfig%2Fi386%2Fdarwin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fdarwin.h?ref=80c85ca2871defbcb6e6c03e27b15d7b6432c535", "patch": "@@ -187,6 +187,13 @@ extern void darwin_x86_file_end (void);\n     SUBTARGET_C_COMMON_OVERRIDE_OPTIONS;\t\t\t\t\\\n   } while (0)\n \n+/* Darwin on x86_64 uses dwarf-2 by default.  Pre-darwin9 32-bit\n+   compiles defaut to stabs+.  darwin9+ defaults to dwarf-2.  */\n+#ifndef DARWIN_PREFER_DWARF\n+#undef PREFERRED_DEBUGGING_TYPE\n+#define PREFERRED_DEBUGGING_TYPE (TARGET_64BIT ? DWARF2_DEBUG : DBX_DEBUG)\n+#endif\n+\n /* Darwin uses the standard DWARF register numbers but the default\n    register numbers for STABS.  Fortunately for 64-bit code the\n    default and the standard are the same.  */"}, {"sha": "b135a520b048da5fd806d990e253853471f3ebe2", "filename": "gcc/doc/install.texi", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80c85ca2871defbcb6e6c03e27b15d7b6432c535/gcc%2Fdoc%2Finstall.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80c85ca2871defbcb6e6c03e27b15d7b6432c535/gcc%2Fdoc%2Finstall.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finstall.texi?ref=80c85ca2871defbcb6e6c03e27b15d7b6432c535", "patch": "@@ -3611,11 +3611,10 @@ binaries are available at\n @uref{http://developer.apple.com/darwin/projects/compiler/} (free\n registration required).\n \n-This version of GCC requires at least cctools-590.7.\n-\n-The version of GCC shipped by Apple typically includes a number of\n-extensions not available in a standard GCC release.  These extensions\n-are generally for backwards compatibility and best avoided.\n+This version of GCC requires at least cctools-590.36.  The\n+cctools-590.36 package referenced from\n+@uref{http://gcc.gnu.org/ml/gcc/2006-03/msg00507.html} will not work\n+on systems older than 10.3.9 (aka darwin7.9.0).\n \n @html\n <hr />"}]}