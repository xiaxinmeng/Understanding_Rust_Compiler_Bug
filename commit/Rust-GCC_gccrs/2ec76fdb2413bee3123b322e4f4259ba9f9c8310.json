{"sha": "2ec76fdb2413bee3123b322e4f4259ba9f9c8310", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmVjNzZmZGIyNDEzYmVlMzEyM2IzMjJlNGY0MjU5YmE5ZjljODMxMA==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@kss-loka.si", "date": "2005-04-14T11:26:45Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2005-04-14T11:26:45Z"}, "message": "convert.c (convert_to_integer): Convert (long int)trunc{,f,l}, and (long long int)ceil{,f,l} into FIX_TRUNC_EXPR.\n\n\t* convert.c (convert_to_integer): Convert (long int)trunc{,f,l},\n\tand (long long int)ceil{,f,l} into FIX_TRUNC_EXPR.\n\ntestsuite:\n\n\t* gcc.dg/builtins-53.c: Also check (int)trunc* and\n\t(long long int)trunc*.\n\nFrom-SVN: r98131", "tree": {"sha": "e66d3ba10f9caef0d152e7a4934acc4e6d2153d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e66d3ba10f9caef0d152e7a4934acc4e6d2153d0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2ec76fdb2413bee3123b322e4f4259ba9f9c8310", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ec76fdb2413bee3123b322e4f4259ba9f9c8310", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ec76fdb2413bee3123b322e4f4259ba9f9c8310", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ec76fdb2413bee3123b322e4f4259ba9f9c8310/comments", "author": null, "committer": null, "parents": [{"sha": "559be41a519baec62f81099ba904338607c687dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/559be41a519baec62f81099ba904338607c687dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/559be41a519baec62f81099ba904338607c687dd"}], "stats": {"total": 50, "additions": 50, "deletions": 0}, "files": [{"sha": "cdbbf339e3d222ff244004469dffa11eb8729d73", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ec76fdb2413bee3123b322e4f4259ba9f9c8310/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ec76fdb2413bee3123b322e4f4259ba9f9c8310/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2ec76fdb2413bee3123b322e4f4259ba9f9c8310", "patch": "@@ -1,3 +1,8 @@\n+2005-04-14  Uros Bizjak  <uros@kss-loka.si>\n+\n+\t* convert.c (convert_to_integer): Convert (long int)trunc{,f,l},\n+\tand (long long int)ceil{,f,l} into FIX_TRUNC_EXPR.\n+\n 2005-04-14  Ulrich Weigand  <uweigand@de.ibm.com>\n \n \tPR target/20927"}, {"sha": "4e0fc84050b249a7e7e333448e1715066ad69d75", "filename": "gcc/convert.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ec76fdb2413bee3123b322e4f4259ba9f9c8310/gcc%2Fconvert.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ec76fdb2413bee3123b322e4f4259ba9f9c8310/gcc%2Fconvert.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconvert.c?ref=2ec76fdb2413bee3123b322e4f4259ba9f9c8310", "patch": "@@ -381,6 +381,13 @@ convert_to_integer (tree type, tree expr)\n \t  else\n             fn = mathfn_built_in (s_intype, BUILT_IN_LRINT);\n \t  break;\n+\n+\tcase BUILT_IN_TRUNC: case BUILT_IN_TRUNCF: case BUILT_IN_TRUNCL:\n+\t  {\n+\t    tree arglist = TREE_OPERAND (s_expr, 1);\n+\t    return convert_to_integer (type, TREE_VALUE (arglist));\n+\t  }\n+\n \tdefault:\n \t  break;\n \t}"}, {"sha": "d7731060aa80d3f8897c9d49aef33f3945edab43", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ec76fdb2413bee3123b322e4f4259ba9f9c8310/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ec76fdb2413bee3123b322e4f4259ba9f9c8310/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2ec76fdb2413bee3123b322e4f4259ba9f9c8310", "patch": "@@ -1,3 +1,8 @@\n+2005-04-14  Uros Bizjak  <uros@kss-loka.si>\n+\n+\t* gcc.dg/builtins-53.c: Also check (int)trunc* and\n+\t(long long int)trunc*.\n+\n 2005-04-14  Ulrich Weigand  <uweigand@de.ibm.com>\n \n \tPR target/20927"}, {"sha": "0a080704fb3860212131510a47642ebb4599083b", "filename": "gcc/testsuite/gcc.dg/builtins-53.c", "status": "modified", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ec76fdb2413bee3123b322e4f4259ba9f9c8310/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltins-53.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ec76fdb2413bee3123b322e4f4259ba9f9c8310/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltins-53.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltins-53.c?ref=2ec76fdb2413bee3123b322e4f4259ba9f9c8310", "patch": "@@ -13,12 +13,15 @@\n \n extern double floor(double);\n extern double ceil(double);\n+extern double trunc(double);\n \n extern float floorf(float);\n extern float ceilf(float);\n+extern float truncf(float);\n \n extern long double floorl(long double);\n extern long double ceill(long double);\n+extern long double truncl(long double);\n \n \n long int test1(double x)\n@@ -41,6 +44,16 @@ long long int test4(double x)\n   return ceil(x);\n }\n \n+long int test5(double x)\n+{\n+  return trunc(x);\n+}\n+\n+long long int test6(double x)\n+{\n+  return trunc(x);\n+}\n+\n long int test1f(float x)\n {\n   return floorf(x);\n@@ -61,6 +74,16 @@ long long int test4f(float x)\n   return ceilf(x);\n }\n \n+long int test5f(float x)\n+{\n+  return truncf(x);\n+}\n+\n+long long int test6f(float x)\n+{\n+  return truncf(x);\n+}\n+\n long int test1l(long double x)\n {\n   return floorl(x);\n@@ -80,3 +103,13 @@ long long int test4l(long double x)\n {\n   return ceill(x);\n }\n+\n+long int test5l(long double x)\n+{\n+  return truncl(x);\n+}\n+\n+long long int test6l(long double x)\n+{\n+  return truncl(x);\n+}"}]}