{"sha": "b93249c36d3b1aa589bbd42a4d2b59bc03bf2ad4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjkzMjQ5YzM2ZDNiMWFhNTg5YmJkNDJhNGQyYjU5YmMwM2JmMmFkNA==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-12-22T22:40:52Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-12-22T22:40:52Z"}, "message": "Add special fixes for netinet/in.h and sys/endian.h.\n\nFrom-SVN: r2902", "tree": {"sha": "cd3a0f9b46f2cccbdde9d602b48bc8dd7cc3bf2a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cd3a0f9b46f2cccbdde9d602b48bc8dd7cc3bf2a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b93249c36d3b1aa589bbd42a4d2b59bc03bf2ad4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b93249c36d3b1aa589bbd42a4d2b59bc03bf2ad4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b93249c36d3b1aa589bbd42a4d2b59bc03bf2ad4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b93249c36d3b1aa589bbd42a4d2b59bc03bf2ad4/comments", "author": null, "committer": null, "parents": [{"sha": "20e52bf16a4b02a1790d46180d2a421115a1c3d6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20e52bf16a4b02a1790d46180d2a421115a1c3d6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/20e52bf16a4b02a1790d46180d2a421115a1c3d6"}], "stats": {"total": 84, "additions": 84, "deletions": 0}, "files": [{"sha": "fd1724bcf4a7002144013afc4bbebe6b8ac6d5f7", "filename": "gcc/fixinc.svr4", "status": "modified", "additions": 84, "deletions": 0, "changes": 84, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b93249c36d3b1aa589bbd42a4d2b59bc03bf2ad4/gcc%2Ffixinc.svr4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b93249c36d3b1aa589bbd42a4d2b59bc03bf2ad4/gcc%2Ffixinc.svr4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc.svr4?ref=b93249c36d3b1aa589bbd42a4d2b59bc03bf2ad4", "patch": "@@ -903,6 +903,90 @@ if [ \\! -z \"$file_to_fix\" ]; then\n   fi\n fi\n \n+# Conditionalize some of <netinet/in.h> on _KERNEL being defined.\n+\n+file=netinet/in.h\n+base=`basename $file`\n+if [ -r ${LIB}/$file ]; then\n+  file_to_fix=${LIB}/$file\n+else\n+  if [ -r ${INPUT}/$file ]; then\n+    file_to_fix=${INPUT}/$file\n+  else\n+    file_to_fix=\"\"\n+  fi\n+fi\n+if [ \\! -z \"$file_to_fix\" ]; then\n+  echo Checking $file_to_fix\n+  if grep _KERNEL $file_to_fix > /dev/null; then\n+    echo No change needed in $file_to_fix\n+  else\n+    sed -e '/#ifdef INKERNEL/i\\\n+#ifdef _KERNEL' \\\n+    -e '/* INKERNEL */a\\\n+#endif /* _KERNEL */' \\\n+    ${LIB}/$file > ${LIB}/${file}.sed\n+    rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n+    echo Fixed $file_to_fix\n+  fi\n+fi\n+\n+# Conditionalize some of <sys/endian.h> on __GNUC__ and __GNUG__.\n+\n+file=sys/endian.h\n+base=`basename $file`\n+if [ -r ${LIB}/$file ]; then\n+  file_to_fix=${LIB}/$file\n+else\n+  if [ -r ${INPUT}/$file ]; then\n+    file_to_fix=${INPUT}/$file\n+  else\n+    file_to_fix=\"\"\n+  fi\n+fi\n+if [ \\! -z \"$file_to_fix\" ]; then\n+  echo Checking $file_to_fix\n+  if grep __GNUC__ $file_to_fix > /dev/null; then\n+    echo No change needed in $file_to_fix\n+  else\n+    sed -e '/#\tifdef\t__STDC__/i\\\n+#   if !defined (__GNUC__) && !defined (__GNUG__)' \\\n+    -e '\t\tunsigned long\tntohl(), htonl();\\\n+#\tendif/a\\\n+#   endif /* !defined (__GNUC__) && !defined (__GNUG__) */\\\n+#   include\t<sys/byteorder.h>' \\\n+    ${LIB}/$file > ${LIB}/${file}.sed\n+    rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n+    echo Fixed $file_to_fix\n+  fi\n+fi\n+\n+# Commented out because tmcconne@sedona.intel.com says we don't clearly need it\n+# and the text in types.h is not erroneous.\n+## In sys/types.h, don't name the enum for booleans.\n+#\n+#file=sys/types.h\n+#base=`basename $file`\n+#if [ -r ${LIB}/$file ]; then\n+#  file_to_fix=${LIB}/$file\n+#else\n+#  if [ -r ${INPUT}/$file ]; then\n+#    file_to_fix=${INPUT}/$file\n+#  else\n+#    file_to_fix=\"\"\n+#  fi\n+#fi\n+#if [ \\! -z \"$file_to_fix\" ]; then\n+#  echo Checking $file_to_fix\n+#  if grep \"enum boolean\" $file_to_fix > /dev/null; then\n+#    sed -e 's/enum boolean/enum/' ${LIB}/$file > ${LIB}/${file}.sed\n+#    rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n+#    echo Fixed $file_to_fix\n+#  else\n+#    echo No change needed in $file_to_fix\n+#  fi\n+#fi\n+\n # Remove useless extern keyword from struct forward declarations in\n # <sys/stream.h> and <sys/strsubr.h>\n "}]}