{"sha": "f163668c0d447532a952d1d0a563713186337bb0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjE2MzY2OGMwZDQ0NzUzMmE5NTJkMWQwYTU2MzcxMzE4NjMzN2JiMA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1997-08-02T12:11:40Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1997-08-02T12:11:40Z"}, "message": "(compare_constant_1, case STRING_CST): Compare TYPE_MODE.\n\n(record_constant_1, case STRING_CST): Record TYPE_MODE.\n\nFrom-SVN: r14606", "tree": {"sha": "addee7caadf4c75dfb73df56b65a4af63c4c9d07", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/addee7caadf4c75dfb73df56b65a4af63c4c9d07"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f163668c0d447532a952d1d0a563713186337bb0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f163668c0d447532a952d1d0a563713186337bb0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f163668c0d447532a952d1d0a563713186337bb0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f163668c0d447532a952d1d0a563713186337bb0/comments", "author": null, "committer": null, "parents": [{"sha": "2cde2255e04bf49aff9d4d9a0283a336906f22fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2cde2255e04bf49aff9d4d9a0283a336906f22fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2cde2255e04bf49aff9d4d9a0283a336906f22fe"}], "stats": {"total": 4, "additions": 4, "deletions": 0}, "files": [{"sha": "3f7251308b02e21d6fbd385fa8387b485a121c58", "filename": "gcc/varasm.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f163668c0d447532a952d1d0a563713186337bb0/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f163668c0d447532a952d1d0a563713186337bb0/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=f163668c0d447532a952d1d0a563713186337bb0", "patch": "@@ -2533,6 +2533,9 @@ compare_constant_1 (exp, p)\n       if (flag_writable_strings)\n \treturn 0;\n \n+      if (*p++ != TYPE_MODE (TREE_TYPE (exp)))\n+\treturn 0;\n+\n       strp = TREE_STRING_POINTER (exp);\n       len = TREE_STRING_LENGTH (exp);\n       if (bcmp ((char *) &TREE_STRING_LENGTH (exp), p,\n@@ -2708,6 +2711,7 @@ record_constant_1 (exp)\n       if (flag_writable_strings)\n \treturn;\n \n+      obstack_1grow (&permanent_obstack, TYPE_MODE (TREE_TYPE (exp)));\n       strp = TREE_STRING_POINTER (exp);\n       len = TREE_STRING_LENGTH (exp);\n       obstack_grow (&permanent_obstack, (char *) &TREE_STRING_LENGTH (exp),"}]}