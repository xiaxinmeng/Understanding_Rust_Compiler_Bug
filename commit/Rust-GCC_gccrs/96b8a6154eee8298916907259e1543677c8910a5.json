{"sha": "96b8a6154eee8298916907259e1543677c8910a5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTZiOGE2MTU0ZWVlODI5ODkxNjkwNzI1OWUxNTQzNjc3Yzg5MTBhNQ==", "commit": {"author": {"name": "Andreas Jaeger", "email": "aj@suse.de", "date": "2004-05-30T21:58:10Z"}, "committer": {"name": "Andreas Jaeger", "email": "aj@gcc.gnu.org", "date": "2004-05-30T21:58:10Z"}, "message": "re PR libfortran/11800 ([gfortan] libgfortran should be multi-libed)\n\n\tPR gfortran/11800\n\t* Makefile.am (AM_CPPFLAGS): Renamed from INCLUDES.\n\t(lib_LTLIBRARIES): Rename to ...\n\t(toolexeclib_LTLIBRARIES): this for multilib support.\n\t* configure.in: Rename to ...\n\t* configure.ac: this.  Update to modern autoconf style, enable\n\tmultilibs, support --enable-version-specific-runtime-libs.\n\t* Makefile.in: Regenerated.\n\t* configure: Regenerated.\n\t* aclocal.m4: Regenerated.\n\nFrom-SVN: r82466", "tree": {"sha": "5bc64fe6017d058b9e45fdef165e2ccde3c62c52", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5bc64fe6017d058b9e45fdef165e2ccde3c62c52"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/96b8a6154eee8298916907259e1543677c8910a5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96b8a6154eee8298916907259e1543677c8910a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/96b8a6154eee8298916907259e1543677c8910a5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96b8a6154eee8298916907259e1543677c8910a5/comments", "author": {"login": "ajaeger", "id": 16867, "node_id": "MDQ6VXNlcjE2ODY3", "avatar_url": "https://avatars.githubusercontent.com/u/16867?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajaeger", "html_url": "https://github.com/ajaeger", "followers_url": "https://api.github.com/users/ajaeger/followers", "following_url": "https://api.github.com/users/ajaeger/following{/other_user}", "gists_url": "https://api.github.com/users/ajaeger/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajaeger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajaeger/subscriptions", "organizations_url": "https://api.github.com/users/ajaeger/orgs", "repos_url": "https://api.github.com/users/ajaeger/repos", "events_url": "https://api.github.com/users/ajaeger/events{/privacy}", "received_events_url": "https://api.github.com/users/ajaeger/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "78dd5e36d94ddb4b38c5be38d2bbb56ada470b81", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/78dd5e36d94ddb4b38c5be38d2bbb56ada470b81", "html_url": "https://github.com/Rust-GCC/gccrs/commit/78dd5e36d94ddb4b38c5be38d2bbb56ada470b81"}], "stats": {"total": 10930, "additions": 4090, "deletions": 6840}, "files": [{"sha": "d67ee65e0b34ffb3f218ca2e091943ad21c92c45", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96b8a6154eee8298916907259e1543677c8910a5/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96b8a6154eee8298916907259e1543677c8910a5/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=96b8a6154eee8298916907259e1543677c8910a5", "patch": "@@ -1,3 +1,16 @@\n+2004-05-30  Andreas Jaeger  <aj@suse.de>, Steven Bosscher <stevenb@suse.de>\n+\n+\tPR gfortran/11800\n+\t* Makefile.am (AM_CPPFLAGS): Renamed from INCLUDES.\n+\t(lib_LTLIBRARIES): Rename to ...\n+\t(toolexeclib_LTLIBRARIES): this for multilib support.\n+\t* configure.in: Rename to ...\n+\t* configure.ac: this.  Update to modern autoconf style, enable\n+\tmultilibs, support --enable-version-specific-runtime-libs.\n+\t* Makefile.in: Regenerated.\n+\t* configure: Regenerated.\n+\t* aclocal.m4: Regenerated.\n+\n 2004-05-30  Steven G. Kargl  <kargls@comcast.net>\n \n \t* libgfortran.h (random_seed): Update prototype."}, {"sha": "24a39e162a26255cf2434fd18ba7a58c994ebc79", "filename": "libgfortran/Makefile.am", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96b8a6154eee8298916907259e1543677c8910a5/libgfortran%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96b8a6154eee8298916907259e1543677c8910a5/libgfortran%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FMakefile.am?ref=96b8a6154eee8298916907259e1543677c8910a5", "patch": "@@ -4,13 +4,13 @@\n ## __STDC_VERSION__ is set such that libc includes make them available.\n AM_CFLAGS = -std=gnu99\n \n-lib_LTLIBRARIES = libgfortran.la libgfortranbegin.la\n+toolexeclib_LTLIBRARIES = libgfortran.la libgfortranbegin.la\n \n ## This should really go in the compiler lib dir, not the system lib dir.\n libgfortranbegin_la_SOURCES = fmain.c\n libgfortranbegin_la_LDFLAGS = -static\n \n-INCLUDES = -I$(srcdir)/io\n+AM_CPPFLAGS = -I$(srcdir)/io\n \n libgfortranincludedir = $(includedir)/gforio\n "}, {"sha": "afd486a6e23df62f4456c4ff571cbc8647de34d3", "filename": "libgfortran/Makefile.in", "status": "modified", "additions": 571, "deletions": 3240, "changes": 3811, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96b8a6154eee8298916907259e1543677c8910a5/libgfortran%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96b8a6154eee8298916907259e1543677c8910a5/libgfortran%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FMakefile.in?ref=96b8a6154eee8298916907259e1543677c8910a5"}, {"sha": "7c6563c16eed89ac8097069cfc8b998b43ca2e00", "filename": "libgfortran/aclocal.m4", "status": "modified", "additions": 69, "deletions": 339, "changes": 408, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96b8a6154eee8298916907259e1543677c8910a5/libgfortran%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96b8a6154eee8298916907259e1543677c8910a5/libgfortran%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Faclocal.m4?ref=96b8a6154eee8298916907259e1543677c8910a5", "patch": "@@ -149,282 +149,6 @@ AC_CONFIG_COMMANDS_PRE(\n Usually this means the macro was only invoked conditionally.])\n fi])])\n \n-# serial 7\t\t\t\t\t\t-*- Autoconf -*-\n-\n-# Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004\n-# Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n-\n-# There are a few dirty hacks below to avoid letting `AC_PROG_CC' be\n-# written in clear, in which case automake, when reading aclocal.m4,\n-# will think it sees a *use*, and therefore will trigger all it's\n-# C support machinery.  Also note that it means that autoscan, seeing\n-# CC etc. in the Makefile, will ask for an AC_PROG_CC use...\n-\n-\n-\n-# _AM_DEPENDENCIES(NAME)\n-# ----------------------\n-# See how the compiler implements dependency checking.\n-# NAME is \"CC\", \"CXX\", \"GCJ\", or \"OBJC\".\n-# We try a few techniques and use that to set a single cache variable.\n-#\n-# We don't AC_REQUIRE the corresponding AC_PROG_CC since the latter was\n-# modified to invoke _AM_DEPENDENCIES(CC); we would have a circular\n-# dependency, and given that the user is not expected to run this macro,\n-# just rely on AC_PROG_CC.\n-AC_DEFUN([_AM_DEPENDENCIES],\n-[AC_REQUIRE([AM_SET_DEPDIR])dnl\n-AC_REQUIRE([AM_OUTPUT_DEPENDENCY_COMMANDS])dnl\n-AC_REQUIRE([AM_MAKE_INCLUDE])dnl\n-AC_REQUIRE([AM_DEP_TRACK])dnl\n-\n-ifelse([$1], CC,   [depcc=\"$CC\"   am_compiler_list=],\n-       [$1], CXX,  [depcc=\"$CXX\"  am_compiler_list=],\n-       [$1], OBJC, [depcc=\"$OBJC\" am_compiler_list='gcc3 gcc'],\n-       [$1], GCJ,  [depcc=\"$GCJ\"  am_compiler_list='gcc3 gcc'],\n-                   [depcc=\"$$1\"   am_compiler_list=])\n-\n-AC_CACHE_CHECK([dependency style of $depcc],\n-               [am_cv_$1_dependencies_compiler_type],\n-[if test -z \"$AMDEP_TRUE\" && test -f \"$am_depcomp\"; then\n-  # We make a subdir and do the tests there.  Otherwise we can end up\n-  # making bogus files that we don't know about and never remove.  For\n-  # instance it was reported that on HP-UX the gcc test will end up\n-  # making a dummy file named `D' -- because `-MD' means `put the output\n-  # in D'.\n-  mkdir conftest.dir\n-  # Copy depcomp to subdir because otherwise we won't find it if we're\n-  # using a relative directory.\n-  cp \"$am_depcomp\" conftest.dir\n-  cd conftest.dir\n-  # We will build objects and dependencies in a subdirectory because\n-  # it helps to detect inapplicable dependency modes.  For instance\n-  # both Tru64's cc and ICC support -MD to output dependencies as a\n-  # side effect of compilation, but ICC will put the dependencies in\n-  # the current directory while Tru64 will put them in the object\n-  # directory.\n-  mkdir sub\n-\n-  am_cv_$1_dependencies_compiler_type=none\n-  if test \"$am_compiler_list\" = \"\"; then\n-     am_compiler_list=`sed -n ['s/^#*\\([a-zA-Z0-9]*\\))$/\\1/p'] < ./depcomp`\n-  fi\n-  for depmode in $am_compiler_list; do\n-    # Setup a source with many dependencies, because some compilers\n-    # like to wrap large dependency lists on column 80 (with \\), and\n-    # we should not choose a depcomp mode which is confused by this.\n-    #\n-    # We need to recreate these files for each test, as the compiler may\n-    # overwrite some of them when testing with obscure command lines.\n-    # This happens at least with the AIX C compiler.\n-    : > sub/conftest.c\n-    for i in 1 2 3 4 5 6; do\n-      echo '#include \"conftst'$i'.h\"' >> sub/conftest.c\n-      # Using `: > sub/conftst$i.h' creates only sub/conftst1.h with\n-      # Solaris 8's {/usr,}/bin/sh.\n-      touch sub/conftst$i.h\n-    done\n-    echo \"${am__include} ${am__quote}sub/conftest.Po${am__quote}\" > confmf\n-\n-    case $depmode in\n-    nosideeffect)\n-      # after this tag, mechanisms are not by side-effect, so they'll\n-      # only be used when explicitly requested\n-      if test \"x$enable_dependency_tracking\" = xyes; then\n-\tcontinue\n-      else\n-\tbreak\n-      fi\n-      ;;\n-    none) break ;;\n-    esac\n-    # We check with `-c' and `-o' for the sake of the \"dashmstdout\"\n-    # mode.  It turns out that the SunPro C++ compiler does not properly\n-    # handle `-M -o', and we need to detect this.\n-    if depmode=$depmode \\\n-       source=sub/conftest.c object=sub/conftest.${OBJEXT-o} \\\n-       depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \\\n-       $SHELL ./depcomp $depcc -c -o sub/conftest.${OBJEXT-o} sub/conftest.c \\\n-         >/dev/null 2>conftest.err &&\n-       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&\n-       grep sub/conftest.${OBJEXT-o} sub/conftest.Po > /dev/null 2>&1 &&\n-       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then\n-      # icc doesn't choke on unknown options, it will just issue warnings\n-      # or remarks (even with -Werror).  So we grep stderr for any message\n-      # that says an option was ignored or not supported.\n-      # When given -MP, icc 7.0 and 7.1 complain thusly:\n-      #   icc: Command line warning: ignoring option '-M'; no argument required\n-      # The diagnosis changed in icc 8.0:\n-      #   icc: Command line remark: option '-MP' not supported\n-      if (grep 'ignoring option' conftest.err ||\n-          grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else\n-        am_cv_$1_dependencies_compiler_type=$depmode\n-        break\n-      fi\n-    fi\n-  done\n-\n-  cd ..\n-  rm -rf conftest.dir\n-else\n-  am_cv_$1_dependencies_compiler_type=none\n-fi\n-])\n-AC_SUBST([$1DEPMODE], [depmode=$am_cv_$1_dependencies_compiler_type])\n-AM_CONDITIONAL([am__fastdep$1], [\n-  test \"x$enable_dependency_tracking\" != xno \\\n-  && test \"$am_cv_$1_dependencies_compiler_type\" = gcc3])\n-])\n-\n-\n-# AM_SET_DEPDIR\n-# -------------\n-# Choose a directory name for dependency files.\n-# This macro is AC_REQUIREd in _AM_DEPENDENCIES\n-AC_DEFUN([AM_SET_DEPDIR],\n-[AC_REQUIRE([AM_SET_LEADING_DOT])dnl\n-AC_SUBST([DEPDIR], [\"${am__leading_dot}deps\"])dnl\n-])\n-\n-\n-# AM_DEP_TRACK\n-# ------------\n-AC_DEFUN([AM_DEP_TRACK],\n-[AC_ARG_ENABLE(dependency-tracking,\n-[  --disable-dependency-tracking  speeds up one-time build\n-  --enable-dependency-tracking   do not reject slow dependency extractors])\n-if test \"x$enable_dependency_tracking\" != xno; then\n-  am_depcomp=\"$ac_aux_dir/depcomp\"\n-  AMDEPBACKSLASH='\\'\n-fi\n-AM_CONDITIONAL([AMDEP], [test \"x$enable_dependency_tracking\" != xno])\n-AC_SUBST([AMDEPBACKSLASH])\n-])\n-\n-# Generate code to set up dependency tracking.   -*- Autoconf -*-\n-\n-# Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004 Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n-#serial 2\n-\n-# _AM_OUTPUT_DEPENDENCY_COMMANDS\n-# ------------------------------\n-AC_DEFUN([_AM_OUTPUT_DEPENDENCY_COMMANDS],\n-[for mf in $CONFIG_FILES; do\n-  # Strip MF so we end up with the name of the file.\n-  mf=`echo \"$mf\" | sed -e 's/:.*$//'`\n-  # Check whether this is an Automake generated Makefile or not.\n-  # We used to match only the files named `Makefile.in', but\n-  # some people rename them; so instead we look at the file content.\n-  # Grep'ing the first line is not enough: some people post-process\n-  # each Makefile.in and add a new line on top of each file to say so.\n-  # So let's grep whole file.\n-  if grep '^#.*generated by automake' $mf > /dev/null 2>&1; then\n-    dirpart=`AS_DIRNAME(\"$mf\")`\n-  else\n-    continue\n-  fi\n-  grep '^DEP_FILES *= *[[^ @%:@]]' < \"$mf\" > /dev/null || continue\n-  # Extract the definition of DEP_FILES from the Makefile without\n-  # running `make'.\n-  DEPDIR=`sed -n 's/^DEPDIR = //p' < \"$mf\"`\n-  test -z \"$DEPDIR\" && continue\n-  # When using ansi2knr, U may be empty or an underscore; expand it\n-  U=`sed -n 's/^U = //p' < \"$mf\"`\n-  test -d \"$dirpart/$DEPDIR\" || mkdir \"$dirpart/$DEPDIR\"\n-  # We invoke sed twice because it is the simplest approach to\n-  # changing $(DEPDIR) to its actual value in the expansion.\n-  for file in `sed -n '\n-    /^DEP_FILES = .*\\\\\\\\$/ {\n-      s/^DEP_FILES = //\n-      :loop\n-\ts/\\\\\\\\$//\n-\tp\n-\tn\n-\t/\\\\\\\\$/ b loop\n-      p\n-    }\n-    /^DEP_FILES = / s/^DEP_FILES = //p' < \"$mf\" | \\\n-       sed -e 's/\\$(DEPDIR)/'\"$DEPDIR\"'/g' -e 's/\\$U/'\"$U\"'/g'`; do\n-    # Make sure the directory exists.\n-    test -f \"$dirpart/$file\" && continue\n-    fdir=`AS_DIRNAME([\"$file\"])`\n-    AS_MKDIR_P([$dirpart/$fdir])\n-    # echo \"creating $dirpart/$file\"\n-    echo '# dummy' > \"$dirpart/$file\"\n-  done\n-done\n-])# _AM_OUTPUT_DEPENDENCY_COMMANDS\n-\n-\n-# AM_OUTPUT_DEPENDENCY_COMMANDS\n-# -----------------------------\n-# This macro should only be invoked once -- use via AC_REQUIRE.\n-#\n-# This code is only required when automatic dependency tracking\n-# is enabled.  FIXME.  This creates each `.P' file that we will\n-# need in order to bootstrap the dependency handling code.\n-AC_DEFUN([AM_OUTPUT_DEPENDENCY_COMMANDS],\n-[AC_CONFIG_COMMANDS([depfiles],\n-     [test x\"$AMDEP_TRUE\" != x\"\" || _AM_OUTPUT_DEPENDENCY_COMMANDS],\n-     [AMDEP_TRUE=\"$AMDEP_TRUE\" ac_aux_dir=\"$ac_aux_dir\"])\n-])\n-\n-# Like AC_CONFIG_HEADER, but automatically create stamp file. -*- Autoconf -*-\n-\n-# Copyright (C) 1996, 1997, 2000, 2001, 2003 Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n-# serial 7\n-\n-# AM_CONFIG_HEADER is obsolete.  It has been replaced by AC_CONFIG_HEADERS.\n-AU_DEFUN([AM_CONFIG_HEADER], [AC_CONFIG_HEADERS($@)])\n-\n # Do all the work for Automake.                            -*- Autoconf -*-\n \n # This macro actually does too much some checks are only needed if\n@@ -648,69 +372,6 @@ AC_DEFUN([AM_MAINTAINER_MODE],\n \n AU_DEFUN([jm_MAINTAINER_MODE], [AM_MAINTAINER_MODE])\n \n-# Check to see how 'make' treats includes.\t-*- Autoconf -*-\n-\n-# Copyright (C) 2001, 2002, 2003 Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n-# serial 2\n-\n-# AM_MAKE_INCLUDE()\n-# -----------------\n-# Check to see how make treats includes.\n-AC_DEFUN([AM_MAKE_INCLUDE],\n-[am_make=${MAKE-make}\n-cat > confinc << 'END'\n-am__doit:\n-\t@echo done\n-.PHONY: am__doit\n-END\n-# If we don't find an include directive, just comment out the code.\n-AC_MSG_CHECKING([for style of include used by $am_make])\n-am__include=\"#\"\n-am__quote=\n-_am_result=none\n-# First try GNU make style include.\n-echo \"include confinc\" > confmf\n-# We grep out `Entering directory' and `Leaving directory'\n-# messages which can occur if `w' ends up in MAKEFLAGS.\n-# In particular we don't look at `^make:' because GNU make might\n-# be invoked under some other name (usually \"gmake\"), in which\n-# case it prints its new name instead of `make'.\n-if test \"`$am_make -s -f confmf 2> /dev/null | grep -v 'ing directory'`\" = \"done\"; then\n-   am__include=include\n-   am__quote=\n-   _am_result=GNU\n-fi\n-# Now try BSD make style include.\n-if test \"$am__include\" = \"#\"; then\n-   echo '.include \"confinc\"' > confmf\n-   if test \"`$am_make -s -f confmf 2> /dev/null`\" = \"done\"; then\n-      am__include=.include\n-      am__quote=\"\\\"\"\n-      _am_result=BSD\n-   fi\n-fi\n-AC_SUBST([am__include])\n-AC_SUBST([am__quote])\n-AC_MSG_RESULT([$_am_result])\n-rm -f confinc confmf\n-])\n-\n #  -*- Autoconf -*-\n \n \n@@ -823,6 +484,75 @@ else\n fi\n AC_SUBST([mkdir_p])])\n \n+# Copyright (C) 1998, 1999, 2000, 2001, 2003, 2004\n+# Free Software Foundation, Inc.\n+\n+# This program is free software; you can redistribute it and/or modify\n+# it under the terms of the GNU General Public License as published by\n+# the Free Software Foundation; either version 2, or (at your option)\n+# any later version.\n+\n+# This program is distributed in the hope that it will be useful,\n+# but WITHOUT ANY WARRANTY; without even the implied warranty of\n+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+# GNU General Public License for more details.\n+\n+# You should have received a copy of the GNU General Public License\n+# along with this program; if not, write to the Free Software\n+# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n+# 02111-1307, USA.\n+\n+# serial 4\n+\n+# AM_ENABLE_MULTILIB([MAKEFILE], [REL-TO-TOP-SRCDIR])\n+# ---------------------------------------------------\n+# Add --enable-multilib to configure.\n+AC_DEFUN([AM_ENABLE_MULTILIB],\n+[# Default to --enable-multilib\n+AC_ARG_ENABLE(multilib,\n+[  --enable-multilib       build many library versions (default)],\n+[case \"$enableval\" in\n+  yes) multilib=yes ;;\n+  no)  multilib=no ;;\n+  *)   AC_MSG_ERROR([bad value $enableval for multilib option]) ;;\n+ esac],\n+\t      [multilib=yes])\n+\n+# We may get other options which we leave undocumented:\n+# --with-target-subdir, --with-multisrctop, --with-multisubdir\n+# See config-ml.in if you want the gory details.\n+\n+if test \"$srcdir\" = \".\"; then\n+  if test \"$with_target_subdir\" != \".\"; then\n+    multi_basedir=\"$srcdir/$with_multisrctop../$2\"\n+  else\n+    multi_basedir=\"$srcdir/$with_multisrctop$2\"\n+  fi\n+else\n+  multi_basedir=\"$srcdir/$2\"\n+fi\n+AC_SUBST(multi_basedir)\n+\n+AC_OUTPUT_COMMANDS([\n+# Only add multilib support code if we just rebuilt the top-level\n+# Makefile.\n+case \" $CONFIG_FILES \" in\n+ *\" ]m4_default([$1],Makefile)[ \"*)\n+   ac_file=]m4_default([$1],Makefile)[ . ${multi_basedir}/config-ml.in\n+   ;;\n+esac],\n+\t\t   [\n+srcdir=\"$srcdir\"\n+host=\"$host\"\n+target=\"$target\"\n+with_multisubdir=\"$with_multisubdir\"\n+with_multisrctop=\"$with_multisrctop\"\n+with_target_subdir=\"$with_target_subdir\"\n+ac_configure_args=\"${multilib_arg} ${ac_configure_args}\"\n+multi_basedir=\"$multi_basedir\"\n+CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}\n+CC=\"$CC\"])])dnl\n+\n # Helper functions for option handling.                    -*- Autoconf -*-\n \n # Copyright (C) 2001, 2002, 2003  Free Software Foundation, Inc."}, {"sha": "b62413caf3aa14d8b7f43cb00dd6301b4dc0ec07", "filename": "libgfortran/configure", "status": "modified", "additions": 3240, "deletions": 3171, "changes": 6411, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96b8a6154eee8298916907259e1543677c8910a5/libgfortran%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96b8a6154eee8298916907259e1543677c8910a5/libgfortran%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure?ref=96b8a6154eee8298916907259e1543677c8910a5"}, {"sha": "9a719d95155e3921d8d5293c2e27fd4f620a34ef", "filename": "libgfortran/configure.ac", "status": "added", "additions": 195, "deletions": 0, "changes": 195, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96b8a6154eee8298916907259e1543677c8910a5/libgfortran%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96b8a6154eee8298916907259e1543677c8910a5/libgfortran%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure.ac?ref=96b8a6154eee8298916907259e1543677c8910a5", "patch": "@@ -0,0 +1,195 @@\n+# Process this file with autoconf to produce a configure script, like so:\n+# aclocal && autoconf && autoheader && automake\n+\n+AC_PREREQ(2.59)\n+AC_INIT([GNU Fortran Runtime Library], 0.2,,[libgfortran])\n+AC_CONFIG_HEADER(config.h)\n+\n+# For libtool versioning info, format is CURRENT:REVISION:AGE\n+libtool_VERSION=6:0:0\n+AC_SUBST(libtool_VERSION)\n+\n+# -------\n+# Options\n+# -------\n+\n+AC_MSG_CHECKING([for --enable-version-specific-runtime-libs])\n+AC_ARG_ENABLE(version-specific-runtime-libs,\n+[  --enable-version-specific-runtime-libs    Specify that runtime libraries should be installed in a compiler-specific directory ],\n+[case \"$enableval\" in\n+ yes) version_specific_libs=yes ;;\n+ no)  version_specific_libs=no ;;\n+ *)   AC_MSG_ERROR([Unknown argument to enable/disable version-specific libs]);;\n+ esac],\n+[version_specific_libs=no])\n+AC_MSG_RESULT($version_specific_libs)\n+\n+\n+# Gets build, host, target, *_vendor, *_cpu, *_os, etc.\n+#\n+# You will slowly go insane if you do not grok the following fact:  when\n+# building this library, the top-level /target/ becomes the library's /host/.\n+#\n+# configure then causes --target to default to --host, exactly like any\n+# other package using autoconf.  Therefore, 'target' and 'host' will\n+# always be the same.  This makes sense both for native and cross compilers\n+# just think about it for a little while.  :-)\n+#\n+# Also, if this library is being configured as part of a cross compiler, the\n+# top-level configure script will pass the \"real\" host as $with_cross_host.\n+#\n+# Do not delete or change the following two lines.  For why, see\n+# http://gcc.gnu.org/ml/libstdc++/2003-07/msg00451.html\n+AC_CANONICAL_SYSTEM\n+target_alias=${target_alias-$host_alias}\n+\n+# Sets up automake.  Must come after AC_CANONICAL_SYSTEM.  Each of the\n+# following is magically included in AUTOMAKE_OPTIONS in each Makefile.am.\n+#  1.8.2:  minimum required version\n+#  no-define:  PACKAGE and VERSION will not be #define'd in config.h (a bunch\n+#              of other PACKAGE_* variables will, however, and there's nothing\n+#              we can do about that; they come from AC_INIT).\n+#  foreign:  we don't follow the normal rules for GNU packages (no COPYING\n+#            file in the top srcdir, etc, etc), so stop complaining.\n+#  no-dependencies:  turns off auto dependency generation (just for now)\n+#  -Wall:  turns on all automake warnings...\n+#  -Wno-portability:  ...except this one, since GNU make is required.\n+AM_INIT_AUTOMAKE([1.8.2 no-define foreign no-dependencies -Wall -Wno-portability])\n+\n+AM_MAINTAINER_MODE\n+AM_ENABLE_MULTILIB(, ..)\n+\n+# Handy for debugging:\n+#AC_MSG_NOTICE($build / $host / $target / $host_alias / $target_alias); sleep 5\n+\n+# Are we being configured with some form of cross compiler?\n+# NB: We don't actually need to know this just now, but when, say, a test\n+#     suite is included, we'll have to know.\n+if test \"$build\" != \"$host\"; then\n+  LIBGFOR_IS_NATIVE=false\n+  GCC_NO_EXECUTABLES\n+else\n+  LIBGFOR_IS_NATIVE=true\n+fi\n+\n+# Process the option \"--enable-version-specific-runtime-libs\"\n+gcc_version_trigger=${srcdir}/../gcc/version.c\n+gcc_version_full=`grep version_string ${gcc_version_trigger} | sed -e 's/.*\\\"\\([[^ \\\"]]*\\)[[ \\\"]].*/\\1/'`\n+gcc_version=`echo ${gcc_version_full} | sed -e 's/\\([^ ]*\\) .*/\\1/'`\n+AC_SUBST(gcc_version)\n+\n+# Calculate toolexeclibdir\n+# Also toolexecdir, though it's only used in toolexeclibdir\n+case ${version_specific_libs} in\n+  yes)\n+    # Need the gcc compiler version to know where to install libraries\n+    # and header files if --enable-version-specific-runtime-libs option\n+    # is selected.\n+    toolexecdir='$(libdir)/gcc/$(target_alias)'\n+    toolexeclibdir='$(toolexecdir)/'${gcc_version}'$(MULTISUBDIR)'\n+    ;;\n+  no)\n+    if test -n \"$with_cross_host\" &&\n+       test x\"$with_cross_host\" != x\"no\"; then\n+      # Install a library built with a cross compiler in tooldir, not libdir.\n+      toolexecdir='$(exec_prefix)/$(target_alias)'\n+      toolexeclibdir='$(toolexecdir)/lib'\n+    else\n+      toolexecdir='$(libdir)/gcc-lib/$(target_alias)'\n+      toolexeclibdir='$(libdir)'\n+    fi\n+    multi_os_directory=`$CC -print-multi-os-directory`\n+    case $multi_os_directory in\n+      .) ;; # Avoid trailing /.\n+      *) toolexeclibdir=$toolexeclibdir/$multi_os_directory ;;\n+    esac\n+    ;;\n+esac\n+AC_SUBST(toolexecdir)\n+AC_SUBST(toolexeclibdir)\n+\n+# Check the compiler.\n+# The same as in boehm-gc and libstdc++. Have to borrow it from there.\n+# We must force CC to /not/ be precious variables; otherwise\n+# the wrong, non-multilib-adjusted value will be used in multilibs.\n+# As a side effect, we have to subst CFLAGS ourselves.\n+\n+m4_rename([_AC_ARG_VAR_PRECIOUS],[real_PRECIOUS])\n+m4_define([_AC_ARG_VAR_PRECIOUS],[])\n+AC_PROG_CC\n+m4_rename([real_PRECIOUS],[_AC_ARG_VAR_PRECIOUS])\n+\n+AC_SUBST(CFLAGS)\n+\n+# Add -Wall if we are using GCC.\n+if test \"x$GCC\" = \"xyes\"; then\n+  CFLAGS=\"$CFLAGS -Wall\"\n+fi\n+\n+# Find other programs we need.\n+AC_CHECK_TOOL(AS, as)\n+AC_CHECK_TOOL(AR, ar)\n+AC_CHECK_TOOL(RANLIB, ranlib, ranlib-not-found-in-path-error)\n+AC_PROG_MAKE_SET\n+AC_PROG_INSTALL\n+\n+# Configure libtool\n+#AC_MSG_NOTICE([====== Starting libtool configuration])\n+AC_LIBTOOL_DLOPEN\n+AM_PROG_LIBTOOL\n+AC_SUBST(enable_shared)\n+AC_SUBST(enable_static)\n+#AC_MSG_NOTICE([====== Finished libtool configuration]) ; sleep 10\n+\n+# We need gfortran to compile parts of the library\n+# We can't use AC_PROG_F77 because it expects a fully working gfortran.\n+#AC_PROG_F77(gfortran)\n+F77=\"$GFORTRAN\"\n+AC_PROG_F77(gfortran)\n+FFLAGS=\"$FFLAGS -Wall -fno-repack-arrays -fno-underscoring\"\n+\n+AC_FUNC_MMAP\n+AC_TYPE_OFF_T\n+\n+# check header files\n+AC_STDC_HEADERS\n+AC_HAVE_HEADERS(stdlib.h stdio.h string.h stddef.h math.h unistd.h)\n+AC_CHECK_HEADERS(time.h sys/params.h sys/time.h sys/times.h sys/resource.h)\n+AC_CHECK_HEADER([complex.h],[AC_DEFINE([HAVE_COMPLEX_H], [1], [complex.h exists])])\n+\n+# Check for complex math functions\n+AC_CHECK_LIB([m],[csin],[need_math=\"no\"],[need_math=\"yes\"])\n+\n+# Check for complex math functions in -lmx also\n+AC_CHECK_LIB([mx],[csin],[need_math=\"no\"],[need_math=\"yes\"])\n+\n+# Check for library functions.\n+AC_CHECK_FUNCS(getrusage times)\n+\n+# Let the user override this\n+AC_ARG_ENABLE(cmath,\n+\tAC_HELP_STRING([--enable-cmath],[Include complex math functions]),\n+\t[need_math=$enableval])\n+if test \"$need_math\" = \"yes\"; then\n+\tAC_MSG_NOTICE([Including complex math functions in libgfor]);\n+  extra_math_obj='$(gfor_cmath_obj)'\n+fi\n+\n+AC_SUBST([MATH_OBJ],[\"$extra_math_obj\"])\n+\n+# The standard autoconf HAVE_STRUCT_TIMEZONE doesn't actually check\n+# for struct timezone, as you might think.  We also need to check how\n+# to call gettimeofday if we have it.\n+LIBGFOR_GETTIMEOFDAY\n+\n+AC_CACHE_SAVE\n+\n+if test ${multilib} = yes; then\n+  multilib_arg=\"--enable-multilib\"\n+else\n+  multilib_arg=\n+fi\n+\n+# Write our Makefile.\n+AC_CONFIG_FILES(Makefile)\n+AC_OUTPUT"}, {"sha": "63e5cf8b5e4c5420a00f903f7bba58c97865c064", "filename": "libgfortran/configure.in", "status": "removed", "additions": 0, "deletions": 88, "changes": 88, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78dd5e36d94ddb4b38c5be38d2bbb56ada470b81/libgfortran%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78dd5e36d94ddb4b38c5be38d2bbb56ada470b81/libgfortran%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure.in?ref=78dd5e36d94ddb4b38c5be38d2bbb56ada470b81", "patch": "@@ -1,88 +0,0 @@\n-dnl configure.in for libgfor\n-dnl Copyright Free Software Foundation\n-dnl Released under the LGPL\n-\n-dnl The rest of gcc uses autoconf 2.13, but we really need more, hence:\n-AC_PREREQ(2.54)\n-\n-AC_INIT([GNU Fortran Runtime Library], 0.2,,[libgfortran])\n-AM_INIT_AUTOMAKE()\n-AM_CONFIG_HEADER(config.h)\n-AM_MAINTAINER_MODE\n-\n-AC_SUBST(enable_shared)\n-AC_SUBST(enable_static)\n-\n-# check for compiler\n-AC_PROG_CC\n-dnl Add -Wall if using gcc\n-if test \"x$GCC\" = \"xyes\"; then\n- CFLAGS=\"$CFLAGS -Wall\"\n-fi\n-\n-# We need gfortran to compile parts of the library\n-# We can't use AC_PROG_F77 because it expects a fully working gfortran. \n-#AC_PROG_F77(gfortran)\n-F77=\"$GFORTRAN\"\n-AC_PROG_F77(gfortran)\n-FFLAGS=\"$FFLAGS -Wall -fno-repack-arrays -fno-underscoring\"\n-\n-AC_FUNC_MMAP\n-AC_TYPE_OFF_T\n-\n-# Check for install\n-AC_PROG_INSTALL\n-\n-# check header files\n-AC_STDC_HEADERS\n-AC_HAVE_HEADERS(stdlib.h stdio.h string.h stddef.h math.h unistd.h)\n-AC_CHECK_HEADERS(time.h sys/params.h sys/time.h sys/times.h sys/resource.h)\n-AC_CHECK_HEADER([complex.h],[AC_DEFINE([HAVE_COMPLEX_H], [1], [complex.h exists])])\n-# Check for complex math functions\n-AC_CHECK_LIB([m],[csin],[need_math=\"no\"],[need_math=\"yes\"])\n-\n-# Check for complex math functions in -lmx also\n-AC_CHECK_LIB([mx],[csin],[need_math=\"no\"],[need_math=\"yes\"])\n-\n-dnl Checks for library functions.\n-AC_CHECK_FUNCS(getrusage times)\n-\n-# Let the user override this\n-AC_ARG_ENABLE(cmath,\n-\tAC_HELP_STRING([--enable-cmath],[Include complex math functions]),\n-    [need_math=$enableval])\n-if test \"$need_math\" = \"yes\"; then\n-\tAC_MSG_NOTICE([Including complex math functions in libgfor]);\n-  extra_math_obj='$(gfor_cmath_obj)'\n-fi\n-\n-AC_SUBST([MATH_OBJ],[\"$extra_math_obj\"])\n-\n-dnl The standard autoconf HAVE_STRUCT_TIMEZONE doesn't actually check\n-dnl for struct timezone, as you might think.  We also need to check how\n-dnl to call gettimeofday if we have it.\n-LIBGFOR_GETTIMEOFDAY\n-\n-dnl These should be inherited in the recursive make, but ensure they are\n-dnl defined:\n-test \"$AR\" || AR=ar\n-AC_SUBST(AR)\n-if test \"$RANLIB\"; then :\n-  AC_SUBST(RANLIB)\n-else\n-  AC_PROG_RANLIB\n-fi\n-\n-dnl Don't pull is system libtool.m4, it conflicts with the gcc version.\n-dnl if test \"$LIBTOOL\"; then :\n-dnl   AC_SUBST(LIBTOOL)\n-dnl else\n-dnl   AC_PROG_LIBTOOL\n-dnl fi\n-AM_PROG_LIBTOOL\n-\n-AC_PROG_MAKE_SET\n-AC_PROG_INSTALL\n-\n-AC_OUTPUT(Makefile)\n-"}]}