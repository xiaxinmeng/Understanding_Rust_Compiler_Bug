{"sha": "c16dc93614b58085227737abf5642fd573c4ca22", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzE2ZGM5MzYxNGI1ODA4NTIyNzczN2FiZjU2NDJmZDU3M2M0Y2EyMg==", "commit": {"author": {"name": "Joseph Myers", "email": "jsm28@cam.ac.uk", "date": "2000-08-05T18:31:15Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2000-08-05T18:31:15Z"}, "message": "c-common.c (print_char_table): Add entries for the X/Open ' format flag (print decimals with locale's...\n\n\t* c-common.c (print_char_table): Add entries for the X/Open '\n\tformat flag (print decimals with locale's thousands grouping\n\tcharacter).  Make %C expect wint_t.\n\t(check_format_info): If pedantic, warn when the %n$ operand\n\tnumber form is used.  Allow for the ' flag; warn about it if\n\tpedantic.\n\nFrom-SVN: r35507", "tree": {"sha": "fc9c765c73ce9eb1863a722c2d642a0a37f2a845", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fc9c765c73ce9eb1863a722c2d642a0a37f2a845"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c16dc93614b58085227737abf5642fd573c4ca22", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c16dc93614b58085227737abf5642fd573c4ca22", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c16dc93614b58085227737abf5642fd573c4ca22", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c16dc93614b58085227737abf5642fd573c4ca22/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "26f2c02a97d337b9d4f00067957ad86db350cc2c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26f2c02a97d337b9d4f00067957ad86db350cc2c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/26f2c02a97d337b9d4f00067957ad86db350cc2c"}], "stats": {"total": 25, "additions": 20, "deletions": 5}, "files": [{"sha": "b9c6caf048534ab5344e2af55f463481a951fe24", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c16dc93614b58085227737abf5642fd573c4ca22/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c16dc93614b58085227737abf5642fd573c4ca22/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c16dc93614b58085227737abf5642fd573c4ca22", "patch": "@@ -1,3 +1,12 @@\n+2000-08-05  Joseph S. Myers  <jsm28@cam.ac.uk>\n+\n+\t* c-common.c (print_char_table): Add entries for the X/Open '\n+\tformat flag (print decimals with locale's thousands grouping\n+\tcharacter).  Make %C expect wint_t.\n+\t(check_format_info): If pedantic, warn when the %n$ operand\n+\tnumber form is used.  Allow for the ' flag; warn about it if\n+\tpedantic.\n+\n 2000-08-05  Zack Weinberg  <zack@wolery.cumb.org>\n \n \t* i386.h (FUNCTION_OK_FOR_SIBCALL):  Not OK if DECL's return"}, {"sha": "64df897524f4412dc136df8b0e6bb5ad8352a019", "filename": "gcc/c-common.c", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c16dc93614b58085227737abf5642fd573c4ca22/gcc%2Fc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c16dc93614b58085227737abf5642fd573c4ca22/gcc%2Fc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-common.c?ref=c16dc93614b58085227737abf5642fd573c4ca22", "patch": "@@ -1233,14 +1233,15 @@ typedef struct {\n } format_char_info;\n \n static format_char_info print_char_table[] = {\n-  { \"di\",\t0,\tT_I,\tT_I,\tT_I,\tT_L,\tT_LL,\tT_LL,\tT_ST,\tT_PD,\tT_IM,\t\"-wp0 +\"\t},\n+  { \"di\",\t0,\tT_I,\tT_I,\tT_I,\tT_L,\tT_LL,\tT_LL,\tT_ST,\tT_PD,\tT_IM,\t\"-wp0 +'\"\t},\n   { \"oxX\",\t0,\tT_UI,\tT_UI,\tT_UI,\tT_UL,\tT_ULL,\tT_ULL,\tT_ST,\tT_PD,\tT_UIM,\t\"-wp0#\"\t\t},\n-  { \"u\",\t0,\tT_UI,\tT_UI,\tT_UI,\tT_UL,\tT_ULL,\tT_ULL,\tT_ST,\tT_PD,\tT_UIM,\t\"-wp0\"\t\t},\n+  { \"u\",\t0,\tT_UI,\tT_UI,\tT_UI,\tT_UL,\tT_ULL,\tT_ULL,\tT_ST,\tT_PD,\tT_UIM,\t\"-wp0'\"\t\t},\n /* A GNU extension.  */\n   { \"m\",\t0,\tT_V,\tNULL,\tNULL,\tNULL,\tNULL,\tNULL,\tNULL,\tNULL,\tNULL,\t\"-wp\"\t\t},\n-  { \"fFeEgGaA\",\t0,\tT_D,\tNULL,\tNULL,\tT_D,\tNULL,\tT_LD,\tNULL,\tNULL,\tNULL,\t\"-wp0 +#\"\t},\n+  { \"fFgG\",\t0,\tT_D,\tNULL,\tNULL,\tT_D,\tNULL,\tT_LD,\tNULL,\tNULL,\tNULL,\t\"-wp0 +#'\"\t},\n+  { \"eEaA\",\t0,\tT_D,\tNULL,\tNULL,\tT_D,\tNULL,\tT_LD,\tNULL,\tNULL,\tNULL,\t\"-wp0 +#\"\t},\n   { \"c\",\t0,\tT_I,\tNULL,\tNULL,\tT_WI,\tNULL,\tNULL,\tNULL,\tNULL,\tNULL,\t\"-w\"\t\t},\n-  { \"C\",\t0,\tT_W,\tNULL,\tNULL,\tNULL,\tNULL,\tNULL,\tNULL,\tNULL,\tNULL,\t\"-w\"\t\t},\n+  { \"C\",\t0,\tT_WI,\tNULL,\tNULL,\tNULL,\tNULL,\tNULL,\tNULL,\tNULL,\tNULL,\t\"-w\"\t\t},\n   { \"s\",\t1,\tT_C,\tNULL,\tNULL,\tT_W,\tNULL,\tNULL,\tNULL,\tNULL,\tNULL,\t\"-wp\"\t\t},\n   { \"S\",\t1,\tT_W,\tNULL,\tNULL,\tNULL,\tNULL,\tNULL,\tNULL,\tNULL,\tNULL,\t\"-wp\"\t\t},\n   { \"p\",\t1,\tT_V,\tNULL,\tNULL,\tNULL,\tNULL,\tNULL,\tNULL,\tNULL,\tNULL,\t\"-w\"\t\t},\n@@ -1699,6 +1700,9 @@ check_format_info (info, params)\n \t\t{\n \t\t  int opnum = atoi (format_chars);\n \n+\t\t  if (pedantic)\n+\t\t    warning (\"ANSI C does not support printf %%n$\");\n+\n \t\t  params = first_fillin_param;\n \t\t  format_chars = p + 1;\n \t\t  has_operand_number = 1;\n@@ -1714,7 +1718,7 @@ check_format_info (info, params)\n \t\t}\n \t    }\n \n-\t  while (*format_chars != 0 && index (\" +#0-\", *format_chars) != 0)\n+\t  while (*format_chars != 0 && index (\" +#0-'\", *format_chars) != 0)\n \t    {\n \t      if (index (flag_chars, *format_chars) != 0)\n \t\twarning (\"repeated `%c' flag in format\", *format_chars++);\n@@ -1735,6 +1739,8 @@ check_format_info (info, params)\n \t  if (index (flag_chars, '0') != 0\n \t      && index (flag_chars, '-') != 0)\n \t    warning (\"use of both `0' and `-' flags in format\");\n+\t  if (index (flag_chars, '\\'') && pedantic)\n+\t    warning (\"ANSI C does not support the `'' format flag\");\n \t  if (*format_chars == '*')\n \t    {\n \t      wide = TRUE;"}]}