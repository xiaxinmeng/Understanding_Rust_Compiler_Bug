{"sha": "5c033b9febd9ec36a304f19e50cfd5e57a1280a6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWMwMzNiOWZlYmQ5ZWMzNmEzMDRmMTllNTBjZmQ1ZTU3YTEyODBhNg==", "commit": {"author": {"name": "Ulrich Weigand", "email": "uweigand@de.ibm.com", "date": "2003-03-28T20:27:02Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2003-03-28T20:27:02Z"}, "message": "s390.md (\"literal_pool_31\"): Output pool anchor label even if pool empty when generating PIC.\n\n\t* config/s390/s390.md (\"literal_pool_31\"): Output pool anchor\n\tlabel even if pool empty when generating PIC.\n\t(\"literal_pool_31\", \"literal_pool_64\"): Coding style cleanup.\n\nFrom-SVN: r64981", "tree": {"sha": "31db79993bc73bfd1aa8b7002896f8b5c1d52523", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/31db79993bc73bfd1aa8b7002896f8b5c1d52523"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5c033b9febd9ec36a304f19e50cfd5e57a1280a6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c033b9febd9ec36a304f19e50cfd5e57a1280a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5c033b9febd9ec36a304f19e50cfd5e57a1280a6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c033b9febd9ec36a304f19e50cfd5e57a1280a6/comments", "author": null, "committer": null, "parents": [{"sha": "d29cc32f9d9c0e93e68cbfe5410d918e19f4701c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d29cc32f9d9c0e93e68cbfe5410d918e19f4701c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d29cc32f9d9c0e93e68cbfe5410d918e19f4701c"}], "stats": {"total": 42, "additions": 28, "deletions": 14}, "files": [{"sha": "419fbb8070c533e1cfd5d7764f78b83ec1576cba", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c033b9febd9ec36a304f19e50cfd5e57a1280a6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c033b9febd9ec36a304f19e50cfd5e57a1280a6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5c033b9febd9ec36a304f19e50cfd5e57a1280a6", "patch": "@@ -1,3 +1,9 @@\n+2003-03-28  Ulrich Weigand  <uweigand@de.ibm.com>\n+\n+\t* config/s390/s390.md (\"literal_pool_31\"): Output pool anchor \n+\tlabel even if pool empty when generating PIC.\n+\t(\"literal_pool_31\", \"literal_pool_64\"): Coding style cleanup.\n+\n 2003-03-28  Kazu Hirata  <kazu@cs.umass.edu>,\n \t    Dhananjay Deshpande  <dhananjayd@kpit.com>\n "}, {"sha": "5d632e7a917a49935a819b0c2388ad5693bd8564", "filename": "gcc/config/s390/s390.md", "status": "modified", "additions": 22, "deletions": 14, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c033b9febd9ec36a304f19e50cfd5e57a1280a6/gcc%2Fconfig%2Fs390%2Fs390.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c033b9febd9ec36a304f19e50cfd5e57a1280a6/gcc%2Fconfig%2Fs390%2Fs390.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.md?ref=5c033b9febd9ec36a304f19e50cfd5e57a1280a6", "patch": "@@ -7031,14 +7031,21 @@\n         (label_ref (match_operand 1 \"\" \"\")))\t\n    (use (label_ref (match_operand 2 \"\" \"\")))]\n   \"\"\n-  \"*\n {\n-   if (s390_nr_constants) {\n-     output_asm_insn (\\\"bras\\\\t%0,%2\\\", operands);\n-     s390_output_constant_pool (operands[1], operands[2]);\n-   }\n-   return \\\"\\\";\t\n-}\"\n+   if (s390_nr_constants) \n+     {\n+       output_asm_insn (\"bras\\\\t%0,%2\", operands);\n+       s390_output_constant_pool (operands[1], operands[2]);\n+     } \n+   else if (flag_pic)\n+     {\n+        /* We need the anchor label in any case.  */\n+        (*targetm.asm_out.internal_label) (asm_out_file, \"L\",\n+                                           CODE_LABEL_NUMBER (operands[1]));\n+     }\n+\n+   return \"\";\t\n+}\n   [(set_attr \"op_type\" \"NN\")\n    (set_attr \"type\"    \"larl\")])\n \n@@ -7048,13 +7055,14 @@\n         (label_ref (match_operand 1 \"\" \"\")))\t\n    (use (label_ref (match_operand 2 \"\" \"\")))]\n   \"\"\n-  \"*\n {\n-   if (s390_nr_constants) {\n-     output_asm_insn (\\\"larl\\\\t%0,%1\\\", operands);\n-     s390_output_constant_pool (operands[1], operands[2]);\n-   }\n-   return \\\"\\\";\t\n-}\"\n+   if (s390_nr_constants) \n+     {\n+       output_asm_insn (\"larl\\\\t%0,%1\", operands);\n+       s390_output_constant_pool (operands[1], operands[2]);\n+     }\n+\n+   return \"\";\t\n+}\n   [(set_attr \"op_type\" \"NN\")\n    (set_attr \"type\"    \"larl\")])"}]}