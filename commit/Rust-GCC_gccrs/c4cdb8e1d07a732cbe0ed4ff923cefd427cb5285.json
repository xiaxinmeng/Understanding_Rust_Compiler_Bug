{"sha": "c4cdb8e1d07a732cbe0ed4ff923cefd427cb5285", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzRjZGI4ZTFkMDdhNzMyY2JlMGVkNGZmOTIzY2VmZDQyN2NiNTI4NQ==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2004-08-20T09:59:34Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2004-08-20T09:59:34Z"}, "message": "postreload.c (reload_cse_move2add): Allow any condjump...\n\n* postreload.c (reload_cse_move2add): Allow any condjump, but check\nthat the implicit set isn't clobbered in the jump insn.\n\nFrom-SVN: r86308", "tree": {"sha": "03fa69a8b0313afedcb97e7ad2b8a70e0bf95f3e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/03fa69a8b0313afedcb97e7ad2b8a70e0bf95f3e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c4cdb8e1d07a732cbe0ed4ff923cefd427cb5285", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c4cdb8e1d07a732cbe0ed4ff923cefd427cb5285", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c4cdb8e1d07a732cbe0ed4ff923cefd427cb5285", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c4cdb8e1d07a732cbe0ed4ff923cefd427cb5285/comments", "author": null, "committer": null, "parents": [{"sha": "07c6ee1bd95bb3b64c7b1c0d4acc94d0c5627340", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07c6ee1bd95bb3b64c7b1c0d4acc94d0c5627340", "html_url": "https://github.com/Rust-GCC/gccrs/commit/07c6ee1bd95bb3b64c7b1c0d4acc94d0c5627340"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "cbdecb6bcc9ae82b4565c122ac39e6bac8d03b18", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c4cdb8e1d07a732cbe0ed4ff923cefd427cb5285/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c4cdb8e1d07a732cbe0ed4ff923cefd427cb5285/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c4cdb8e1d07a732cbe0ed4ff923cefd427cb5285", "patch": "@@ -1,3 +1,8 @@\n+2004-08-20  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\t* postreload.c (reload_cse_move2add): Allow any condjump, but check\n+\tthat the implicit set isn't clobbered in the jump insn.\n+\n 2004-08-19  Mark Mitchell  <mark@codesourcery.com>\n \n \t* defaults.h (TARGET_LIBGCC_LIBFUNCS): Remove."}, {"sha": "20d4a4f543e2b320b354b5af83209fd40ab05eb4", "filename": "gcc/postreload.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c4cdb8e1d07a732cbe0ed4ff923cefd427cb5285/gcc%2Fpostreload.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c4cdb8e1d07a732cbe0ed4ff923cefd427cb5285/gcc%2Fpostreload.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpostreload.c?ref=c4cdb8e1d07a732cbe0ed4ff923cefd427cb5285", "patch": "@@ -1375,13 +1375,14 @@ reload_cse_move2add (rtx first)\n \n       /* If INSN is a conditional branch, we try to extract an\n \t implicit set out of it.  */\n-      if (any_condjump_p (insn) && onlyjump_p (insn))\n+      if (any_condjump_p (insn))\n \t{\n \t  rtx cnd = fis_get_condition (insn);\n \n \t  if (cnd != NULL_RTX\n \t      && GET_CODE (cnd) == NE\n \t      && REG_P (XEXP (cnd, 0))\n+\t      && !reg_set_p (XEXP (cnd, 0), insn)\n \t      /* The following two checks, which are also in\n \t\t move2add_note_store, are intended to reduce the\n \t\t number of calls to gen_rtx_SET to avoid memory"}]}