{"sha": "f46876f99ca558a311cf215f9eec26a4db4097e0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjQ2ODc2Zjk5Y2E1NThhMzExY2YyMTVmOWVlYzI2YTRkYjQwOTdlMA==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@apple.com", "date": "2005-09-30T18:08:26Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2005-09-30T18:08:26Z"}, "message": "t-slibgcc-darwin (libgcc_s_%.dylib): Remove old symlinks before creating new ones.\n\n\t* config/t-slibgcc-darwin (libgcc_s_%.dylib): Remove old symlinks\n\tbefore creating new ones.  Do symlinks before creating the actual\n\ttargets.\n\nFrom-SVN: r104826", "tree": {"sha": "38c2733c3d9c266c6c3a2ab1886e512dc928e369", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/38c2733c3d9c266c6c3a2ab1886e512dc928e369"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f46876f99ca558a311cf215f9eec26a4db4097e0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f46876f99ca558a311cf215f9eec26a4db4097e0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f46876f99ca558a311cf215f9eec26a4db4097e0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f46876f99ca558a311cf215f9eec26a4db4097e0/comments", "author": {"login": "geoffk01", "id": 31905243, "node_id": "MDQ6VXNlcjMxOTA1MjQz", "avatar_url": "https://avatars.githubusercontent.com/u/31905243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geoffk01", "html_url": "https://github.com/geoffk01", "followers_url": "https://api.github.com/users/geoffk01/followers", "following_url": "https://api.github.com/users/geoffk01/following{/other_user}", "gists_url": "https://api.github.com/users/geoffk01/gists{/gist_id}", "starred_url": "https://api.github.com/users/geoffk01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geoffk01/subscriptions", "organizations_url": "https://api.github.com/users/geoffk01/orgs", "repos_url": "https://api.github.com/users/geoffk01/repos", "events_url": "https://api.github.com/users/geoffk01/events{/privacy}", "received_events_url": "https://api.github.com/users/geoffk01/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "06fb0460dfcb7dc9877ca1bbfbf720ce5ce2be7c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06fb0460dfcb7dc9877ca1bbfbf720ce5ce2be7c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/06fb0460dfcb7dc9877ca1bbfbf720ce5ce2be7c"}], "stats": {"total": 19, "additions": 12, "deletions": 7}, "files": [{"sha": "00107daa2991128103afdd2ab2bfc96dbf65a6aa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f46876f99ca558a311cf215f9eec26a4db4097e0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f46876f99ca558a311cf215f9eec26a4db4097e0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f46876f99ca558a311cf215f9eec26a4db4097e0", "patch": "@@ -1,5 +1,9 @@\n 2005-09-30  Geoffrey Keating  <geoffk@apple.com>\n \n+\t* config/t-slibgcc-darwin (libgcc_s_%.dylib): Remove old symlinks\n+\tbefore creating new ones.  Do symlinks before creating the actual\n+\ttargets.\n+\n \t* config/t-slibgcc-darwin (libgcc_s_%.dylib): Use --print-multi-lib\n \tto work out which multilibs are actually being built.\n "}, {"sha": "ace3ae971df401ea1ec99b827f749b09d0b9fb2b", "filename": "gcc/config/t-slibgcc-darwin", "status": "modified", "additions": 8, "deletions": 7, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f46876f99ca558a311cf215f9eec26a4db4097e0/gcc%2Fconfig%2Ft-slibgcc-darwin", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f46876f99ca558a311cf215f9eec26a4db4097e0/gcc%2Fconfig%2Ft-slibgcc-darwin", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ft-slibgcc-darwin?ref=f46876f99ca558a311cf215f9eec26a4db4097e0", "patch": "@@ -45,6 +45,14 @@ ASM_HIDDEN_OP = .private_extern\n # \n # This assumes each multilib corresponds to a different architecture.\n libgcc_s.%.dylib : $(SHLIB_VERPFX).%.ver libgcc.a\n+\t# When builting multilibbed target libraries, all the required\n+\t# libraries are expected to exist in the multilib directory.\n+\tMLIBS=`$(GCC_FOR_TARGET) --print-multi-lib \\\n+\t\t| sed -e 's/;.*$$//' -e '/^\\.$$/d'` ; \\\n+\tfor mlib in $$MLIBS ; do \\\n+\t  rm -f $${mlib}/$@ || exit 1 ; \\\n+\t  $(LN_S) ../$@ $${mlib}/$@ || exit 1 ; \\\n+\tdone\n \tMLIBS=`$(GCC_FOR_TARGET) --print-multi-lib \\\n \t\t| sed -e 's/;.*$$//' -e '/^\\.$$/d' -e 's/^/_/'` ; \\\n \tfor mlib in '' $$MLIBS ; do \\\n@@ -53,13 +61,6 @@ libgcc_s.%.dylib : $(SHLIB_VERPFX).%.ver libgcc.a\n \t    libgcc_s$${mlib}.$(SHLIB_SOVERSION)$(SHLIB_EXT) || exit 1 ; \\\n \tdone\n \t$(LIPO_FOR_TARGET) -output $@ -create $(@)_T*\n-\t# When builting multilibbed target libraries, all the required\n-\t# libraries are expected to exist in the multilib directory.\n-\tMLIBS=`$(GCC_FOR_TARGET) --print-multi-lib \\\n-\t\t| sed -e 's/;.*$$//' -e '/^\\.$$/d'` ; \\\n-\tfor mlib in $$MLIBS ; do \\\n-\t  ln -s ../$@ $${mlib}/$@ || exit 1 ; \\\n-\tdone\n \trm $(@)_T*\n \n # From the point-of-view of the Makefiles, libgcc is built by the 'strip'"}]}