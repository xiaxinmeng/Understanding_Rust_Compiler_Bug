{"sha": "0df964ba2875063bb14ddd9d55fec5b1e862c90b", "node_id": "C_kwDOANBUbNoAKDBkZjk2NGJhMjg3NTA2M2JiMTRkZGQ5ZDU1ZmVjNWIxZTg2MmM5MGI", "commit": {"author": {"name": "Marek Polacek", "email": "polacek@redhat.com", "date": "2021-12-10T18:07:19Z"}, "committer": {"name": "Marek Polacek", "email": "polacek@redhat.com", "date": "2021-12-10T18:09:13Z"}, "message": "c++: Add test for C++23 auto(x)\n\nI was curious if our auto(x) works in contexts like bit-field width\nand similar.  It appears that it does.  Might be worth adding a test\nfor it.\n\ngcc/testsuite/ChangeLog:\n\n\t* g++.dg/cpp23/auto-fncast10.C: New test.", "tree": {"sha": "e44fc4bfe4ecf51535f3f6f404a7663b3adb7212", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e44fc4bfe4ecf51535f3f6f404a7663b3adb7212"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0df964ba2875063bb14ddd9d55fec5b1e862c90b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0df964ba2875063bb14ddd9d55fec5b1e862c90b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0df964ba2875063bb14ddd9d55fec5b1e862c90b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0df964ba2875063bb14ddd9d55fec5b1e862c90b/comments", "author": {"login": "mpolacek", "id": 10496300, "node_id": "MDQ6VXNlcjEwNDk2MzAw", "avatar_url": "https://avatars.githubusercontent.com/u/10496300?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpolacek", "html_url": "https://github.com/mpolacek", "followers_url": "https://api.github.com/users/mpolacek/followers", "following_url": "https://api.github.com/users/mpolacek/following{/other_user}", "gists_url": "https://api.github.com/users/mpolacek/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpolacek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpolacek/subscriptions", "organizations_url": "https://api.github.com/users/mpolacek/orgs", "repos_url": "https://api.github.com/users/mpolacek/repos", "events_url": "https://api.github.com/users/mpolacek/events{/privacy}", "received_events_url": "https://api.github.com/users/mpolacek/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mpolacek", "id": 10496300, "node_id": "MDQ6VXNlcjEwNDk2MzAw", "avatar_url": "https://avatars.githubusercontent.com/u/10496300?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpolacek", "html_url": "https://github.com/mpolacek", "followers_url": "https://api.github.com/users/mpolacek/followers", "following_url": "https://api.github.com/users/mpolacek/following{/other_user}", "gists_url": "https://api.github.com/users/mpolacek/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpolacek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpolacek/subscriptions", "organizations_url": "https://api.github.com/users/mpolacek/orgs", "repos_url": "https://api.github.com/users/mpolacek/repos", "events_url": "https://api.github.com/users/mpolacek/events{/privacy}", "received_events_url": "https://api.github.com/users/mpolacek/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bb6a1ebb8585b85879735d0d6df9535885fad165", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bb6a1ebb8585b85879735d0d6df9535885fad165", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bb6a1ebb8585b85879735d0d6df9535885fad165"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "29c779b2cb47fd2c13d18777df79b47144868dba", "filename": "gcc/testsuite/g++.dg/cpp23/auto-fncast10.C", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0df964ba2875063bb14ddd9d55fec5b1e862c90b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp23%2Fauto-fncast10.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0df964ba2875063bb14ddd9d55fec5b1e862c90b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp23%2Fauto-fncast10.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp23%2Fauto-fncast10.C?ref=0df964ba2875063bb14ddd9d55fec5b1e862c90b", "patch": "@@ -0,0 +1,18 @@\n+// { dg-do compile { target c++23 } }\n+\n+struct S {\n+  int i1 : auto(12);\n+  int i2 : auto{12};\n+  static constexpr auto x = auto(12);\n+  static constexpr auto y = auto{12};\n+};\n+\n+struct R {\n+  int i;\n+};\n+\n+static constexpr R r1 = { auto(23) };\n+static constexpr R r2 = { auto{23} };\n+enum E { X = auto(12), Y = auto{1u} };\n+static_assert (auto(true));\n+static_assert (auto{true});"}]}