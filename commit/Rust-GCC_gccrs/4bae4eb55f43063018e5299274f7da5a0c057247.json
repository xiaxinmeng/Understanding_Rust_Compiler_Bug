{"sha": "4bae4eb55f43063018e5299274f7da5a0c057247", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGJhZTRlYjU1ZjQzMDYzMDE4ZTUyOTkyNzRmN2RhNWEwYzA1NzI0Nw==", "commit": {"author": {"name": "Bryce McKinlay", "email": "bryce@gcc.gnu.org", "date": "2001-02-02T00:15:43Z"}, "committer": {"name": "Bryce McKinlay", "email": "bryce@gcc.gnu.org", "date": "2001-02-02T00:15:43Z"}, "message": "jvgenmain.c (class_mangling_suffix): Remove unused string.\n\n\t* jvgenmain.c (class_mangling_suffix): Remove unused string.\n\t(error): Remove unused function.\n\t(main): Don't use \"__attribute__ alias\" on generated class symbol.\n\nFrom-SVN: r39397", "tree": {"sha": "63f84e8aa8fc61f70d478eb2386634e8cb29f1c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/63f84e8aa8fc61f70d478eb2386634e8cb29f1c8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4bae4eb55f43063018e5299274f7da5a0c057247", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4bae4eb55f43063018e5299274f7da5a0c057247", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4bae4eb55f43063018e5299274f7da5a0c057247", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4bae4eb55f43063018e5299274f7da5a0c057247/comments", "author": null, "committer": null, "parents": [{"sha": "8a5d897f207cbf9f542fb1354e962c4786026992", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a5d897f207cbf9f542fb1354e962c4786026992", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8a5d897f207cbf9f542fb1354e962c4786026992"}], "stats": {"total": 38, "additions": 10, "deletions": 28}, "files": [{"sha": "faba27c28da838cfd891e66a84b504814fd1f3b7", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4bae4eb55f43063018e5299274f7da5a0c057247/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4bae4eb55f43063018e5299274f7da5a0c057247/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=4bae4eb55f43063018e5299274f7da5a0c057247", "patch": "@@ -1,3 +1,9 @@\n+2001-02-01  Bryce McKinlay  <bryce@albatross.co.nz>\n+\n+\t* jvgenmain.c (class_mangling_suffix): Remove unused string.\n+\t(error): Remove unused function.\n+\t(main): Don't use \"__attribute__ alias\" on generated class symbol.\n+\n 2001-01-30  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n \n \t* jcf-parse.c (init_jcf_parse): Added cast to ggc_add_root's last\n@@ -8,14 +14,14 @@\n \t(resolve_type_during_patch): Layout resolved type.\n \t* typeck.c (lookup_do): Removed unused local.\n \n-2000-01-30  Bryce McKinlay  <bryce@albatross.co.nz>\n+2001-01-30  Bryce McKinlay  <bryce@albatross.co.nz>\n \n \t* java-tree.h: Remove JTI_INTEGER_NEGATIVE_ONE_NODE.\n \t* decl.c (init_decl_processing): Use integer_minus_one_node, not\n \tinteger_negative_one_node.\n \t* expr.c (build_java_binop): Likewise.\n \n-2000-01-24  Jeff Sturm  <jeff.sturm@commerceone.com>\n+2001-01-24  Jeff Sturm  <jeff.sturm@commerceone.com>\n \n \t* zextract.c (read_zip_archive): Read file_offset before writing\n \tzipd and consequently clobbering the header contents."}, {"sha": "8f591922266cc2404159307ed7da61b19ef8f7b6", "filename": "gcc/java/jvgenmain.c", "status": "modified", "additions": 2, "deletions": 26, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4bae4eb55f43063018e5299274f7da5a0c057247/gcc%2Fjava%2Fjvgenmain.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4bae4eb55f43063018e5299274f7da5a0c057247/gcc%2Fjava%2Fjvgenmain.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjvgenmain.c?ref=4bae4eb55f43063018e5299274f7da5a0c057247", "patch": "@@ -34,31 +34,8 @@ The Free Software Foundation is independent of Sun Microsystems, Inc.  */\n \n static char * do_mangle_classname PARAMS ((const char *string));\n \n-const char class_mangling_suffix[] = \"class$\";\n-\n struct obstack name_obstack;\n \n-extern void error\t\t\tPARAMS ((const char *, ...))\n-  ATTRIBUTE_PRINTF_1;\n-\n-void\n-error VPARAMS ((const char *msgid, ...))\n-{\n-#ifndef ANSI_PROTOTYPES\n-  const char *msgid;\n-#endif\n-  va_list ap;\n- \n-  VA_START (ap, msgid);\n- \n-#ifndef ANSI_PROTOTYPES\n-  msgid = va_arg (ap, const char *);\n-#endif\n- \n-  vfprintf (stderr, msgid, ap);\n-  va_end (ap);\n-}\n-\n void\n gcc_obstack_init (obstack)\n      struct obstack *obstack;\n@@ -153,12 +130,11 @@ main (int argc, const char **argv)\n     }\n   fprintf (stream, \"  0\\n};\\n\\n\");\n \n-  fprintf (stream, \"extern int class __attribute__ ((alias (\\\"%s\\\")));\\n\",\n-\t   mangled_classname);\n+  fprintf (stream, \"extern int %s;\\n\", mangled_classname);\n   fprintf (stream, \"int main (int argc, const char **argv)\\n\");\n   fprintf (stream, \"{\\n\");\n   fprintf (stream, \"   _Jv_Compiler_Properties = props;\\n\");\n-  fprintf (stream, \"   JvRunMain (&class, argc, argv);\\n\");\n+  fprintf (stream, \"   JvRunMain (&%s, argc, argv);\\n\", mangled_classname);\n   fprintf (stream, \"}\\n\");\n   if (stream != stdout && fclose (stream) != 0)\n     {"}]}