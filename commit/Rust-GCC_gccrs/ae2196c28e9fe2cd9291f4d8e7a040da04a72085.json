{"sha": "ae2196c28e9fe2cd9291f4d8e7a040da04a72085", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWUyMTk2YzI4ZTlmZTJjZDkyOTFmNGQ4ZTdhMDQwZGEwNGE3MjA4NQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2003-04-22T22:53:01Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2003-04-22T22:53:01Z"}, "message": "re PR c++/10446 (ICE on a definition of a nonexistent member function of a nested class in a class template)\n\n\tPR c++/10446\n\t* search.c (lookup_fnfields_1): Handle empty slots in the method\n\tvector.\n\n\tPR c++/10446\n\t* g++.dg/parse/crash3.C: New test.\n\nFrom-SVN: r65962", "tree": {"sha": "4646e2c6e9d96025fb69c78a0bbc8edb8707d80f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4646e2c6e9d96025fb69c78a0bbc8edb8707d80f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ae2196c28e9fe2cd9291f4d8e7a040da04a72085", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae2196c28e9fe2cd9291f4d8e7a040da04a72085", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae2196c28e9fe2cd9291f4d8e7a040da04a72085", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae2196c28e9fe2cd9291f4d8e7a040da04a72085/comments", "author": null, "committer": null, "parents": [{"sha": "6d412a7b22b7766437e2c018f31d49aa981800d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d412a7b22b7766437e2c018f31d49aa981800d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d412a7b22b7766437e2c018f31d49aa981800d9"}], "stats": {"total": 20, "additions": 17, "deletions": 3}, "files": [{"sha": "c768b4f2fe387c94a9c92a58a2bb93c2f5327506", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae2196c28e9fe2cd9291f4d8e7a040da04a72085/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae2196c28e9fe2cd9291f4d8e7a040da04a72085/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=ae2196c28e9fe2cd9291f4d8e7a040da04a72085", "patch": "@@ -1,5 +1,9 @@\n 2003-04-22  Mark Mitchell  <mark@codesourcery.com>\n \n+\tPR c++/10446\n+\t* search.c (lookup_fnfields_1): Handle empty slots in the method\n+\tvector.\n+\t\n \tPR c++/10428\n \t* decl.c (check_elaborated_type_specifier): New function, split\n \tout from ..."}, {"sha": "b557fdfc26537c0dcee4e6158d992604094deb9d", "filename": "gcc/cp/search.c", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae2196c28e9fe2cd9291f4d8e7a040da04a72085/gcc%2Fcp%2Fsearch.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae2196c28e9fe2cd9291f4d8e7a040da04a72085/gcc%2Fcp%2Fsearch.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fsearch.c?ref=ae2196c28e9fe2cd9291f4d8e7a040da04a72085", "patch": "@@ -1400,9 +1400,14 @@ lookup_fnfields_1 (tree type, tree name)\n \t\t  n_outer_fields_searched++;\n #endif /* GATHER_STATISTICS */\n \n-\t\t  tmp = DECL_NAME (OVL_CURRENT (methods[i]));\n-\n-\t\t  if (tmp > name)\n+\t\t  tmp = methods[i];\n+\t\t  /* This slot may be empty; we allocate more slots\n+\t\t     than we need.  In that case, the entry we're\n+\t\t     looking for is closer to the beginning of the\n+\t\t     list. */\n+\t\t  if (tmp)\n+\t\t    tmp = DECL_NAME (OVL_CURRENT (tmp));\n+\t\t  if (!tmp || tmp > name)\n \t\t    hi = i;\n \t\t  else if (tmp < name)\n \t\t    lo = i + 1;"}, {"sha": "154e129e0ae19cbf18c5898545d909e7094c9459", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae2196c28e9fe2cd9291f4d8e7a040da04a72085/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae2196c28e9fe2cd9291f4d8e7a040da04a72085/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ae2196c28e9fe2cd9291f4d8e7a040da04a72085", "patch": "@@ -1,5 +1,8 @@\n 2003-04-22  Mark Mitchell  <mark@codesourcery.com>\n \n+\tPR c++/10446\n+\t* g++.dg/parse/crash3.C: New test.\n+\n \tPR c++/10428\n \t* g++.dg/parse/elab1.C: New test.\n "}, {"sha": "5a48ebc7cc7c3a1d1e6d3b78943a92cb30fa0334", "filename": "gcc/testsuite/g++.dg/parse/crash3.C", "status": "added", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae2196c28e9fe2cd9291f4d8e7a040da04a72085/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fcrash3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae2196c28e9fe2cd9291f4d8e7a040da04a72085/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fcrash3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fcrash3.C?ref=ae2196c28e9fe2cd9291f4d8e7a040da04a72085", "patch": "@@ -0,0 +1,2 @@\n+template <class T> struct L { struct I {}; };\n+template <class T> void L<T>::I::foo() {} // { dg-error \"\" }"}]}