{"sha": "46af705afa95d7876d1048e8425b1180acd238a6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDZhZjcwNWFmYTk1ZDc4NzZkMTA0OGU4NDI1YjExODBhY2QyMzhhNg==", "commit": {"author": {"name": "John David Anglin", "email": "dave@hiauly1.hia.nrc.ca", "date": "2001-12-08T15:44:23Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2001-12-08T15:44:23Z"}, "message": "semantics.c (simplify_aggr_init_exprs_r): Add DIRECT_BIND flag in call to build_aggr_init.\n\n\t* semantics.c (simplify_aggr_init_exprs_r): Add DIRECT_BIND flag in\n\tcall to build_aggr_init.\n\t* cp-tree.h (DIRECT_BIND): Document new use of DIRECT_BIND.\n\nFrom-SVN: r47793", "tree": {"sha": "b3230bbc6a80df6837ae28e840a57f4441cf3c5b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b3230bbc6a80df6837ae28e840a57f4441cf3c5b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/46af705afa95d7876d1048e8425b1180acd238a6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46af705afa95d7876d1048e8425b1180acd238a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/46af705afa95d7876d1048e8425b1180acd238a6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46af705afa95d7876d1048e8425b1180acd238a6/comments", "author": null, "committer": null, "parents": [{"sha": "cb97d97deebd67dc9988b51210f1432ecb924145", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb97d97deebd67dc9988b51210f1432ecb924145", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb97d97deebd67dc9988b51210f1432ecb924145"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "26841bb1eb30498292389240bdf7ad8a52987676", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46af705afa95d7876d1048e8425b1180acd238a6/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46af705afa95d7876d1048e8425b1180acd238a6/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=46af705afa95d7876d1048e8425b1180acd238a6", "patch": "@@ -1,3 +1,9 @@\n+2001-12-08  John David Anglin  <dave@hiauly1.hia.nrc.ca>\n+\n+\t* semantics.c (simplify_aggr_init_exprs_r): Add DIRECT_BIND flag in\n+\tcall to build_aggr_init.\n+\t* cp-tree.h (DIRECT_BIND): Document new use of DIRECT_BIND.\n+\n 2001-12-08  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n \t* parse.y: Replace uses of the string non-terminal with STRING."}, {"sha": "992c708aee2793213e9712a71b2609c89029952b", "filename": "gcc/cp/cp-tree.h", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46af705afa95d7876d1048e8425b1180acd238a6/gcc%2Fcp%2Fcp-tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46af705afa95d7876d1048e8425b1180acd238a6/gcc%2Fcp%2Fcp-tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcp-tree.h?ref=46af705afa95d7876d1048e8425b1180acd238a6", "patch": "@@ -3312,7 +3312,10 @@ enum overload_flags { NO_SPECIAL = 0, DTOR_FLAG, OP_FLAG, TYPENAME_FLAG };\n    LOOKUP_ONLYCONVERTING means that non-conversion constructors are not tried.\n    DIRECT_BIND means that if a temporary is created, it should be created so\n      that it lives as long as the current variable bindings; otherwise it\n-     only lives until the end of the complete-expression.\n+     only lives until the end of the complete-expression.  It also forces\n+     direct-initialization in cases where other parts of the compiler have\n+     already generated a temporary, such as reference initialization and the\n+     catch parameter.\n    LOOKUP_SPECULATIVELY means return NULL_TREE if we cannot find what we are\n      after.  Note, LOOKUP_COMPLAIN is checked and error messages printed\n      before LOOKUP_SPECULATIVELY is checked."}, {"sha": "776f06fb627669be224417b313b889be7a0f05c4", "filename": "gcc/cp/semantics.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46af705afa95d7876d1048e8425b1180acd238a6/gcc%2Fcp%2Fsemantics.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46af705afa95d7876d1048e8425b1180acd238a6/gcc%2Fcp%2Fsemantics.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fsemantics.c?ref=46af705afa95d7876d1048e8425b1180acd238a6", "patch": "@@ -2320,7 +2320,8 @@ simplify_aggr_init_exprs_r (tp, walk_subtrees, data)\n       int old_ac = flag_access_control;\n \n       flag_access_control = 0;\n-      call_expr = build_aggr_init (slot, call_expr, LOOKUP_ONLYCONVERTING);\n+      call_expr = build_aggr_init (slot, call_expr,\n+\t\t\t\t   DIRECT_BIND | LOOKUP_ONLYCONVERTING);\n       flag_access_control = old_ac;\n       copy_from_buffer_p = 1;\n     }"}]}