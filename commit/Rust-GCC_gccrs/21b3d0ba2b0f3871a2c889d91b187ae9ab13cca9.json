{"sha": "21b3d0ba2b0f3871a2c889d91b187ae9ab13cca9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjFiM2QwYmEyYjBmMzg3MWEyYzg4OWQ5MWIxODdhZTlhYjEzY2NhOQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2002-11-27T20:44:16Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2002-11-27T20:44:16Z"}, "message": "class.c (build_base_field): Make sure we get the canonical base when descending through primary bases.\n\n\t* class.c (build_base_field): Make sure we get the canonical base\n\twhen descending through primary bases.\n\nFrom-SVN: r59582", "tree": {"sha": "847dbd41e3fb6bfc15da94367585836a25b0919e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/847dbd41e3fb6bfc15da94367585836a25b0919e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/21b3d0ba2b0f3871a2c889d91b187ae9ab13cca9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21b3d0ba2b0f3871a2c889d91b187ae9ab13cca9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/21b3d0ba2b0f3871a2c889d91b187ae9ab13cca9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21b3d0ba2b0f3871a2c889d91b187ae9ab13cca9/comments", "author": null, "committer": null, "parents": [{"sha": "249e6b636b649387f0e0a537d2c2615c6d36d56f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/249e6b636b649387f0e0a537d2c2615c6d36d56f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/249e6b636b649387f0e0a537d2c2615c6d36d56f"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "677a6bb6ea4a3cdc321c2661ced1ed1f4bab2368", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21b3d0ba2b0f3871a2c889d91b187ae9ab13cca9/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21b3d0ba2b0f3871a2c889d91b187ae9ab13cca9/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=21b3d0ba2b0f3871a2c889d91b187ae9ab13cca9", "patch": "@@ -1,3 +1,8 @@\n+2002-11-27  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* class.c (build_base_field): Make sure we get the canonical base\n+\twhen descending through primary bases.\n+\n 2002-11-26  Geoffrey Keating  <geoffk@apple.com>\n \n \t* decl.c (check_initializer): Don't error on initialisation of"}, {"sha": "0d933346e6b2b96363c2da974f54164a16c0f8c2", "filename": "gcc/cp/class.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21b3d0ba2b0f3871a2c889d91b187ae9ab13cca9/gcc%2Fcp%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21b3d0ba2b0f3871a2c889d91b187ae9ab13cca9/gcc%2Fcp%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fclass.c?ref=21b3d0ba2b0f3871a2c889d91b187ae9ab13cca9", "patch": "@@ -3863,7 +3863,10 @@ build_base_field (record_layout_info rli, tree binfo,\n \t  tree b;\n \n \t  b = get_primary_binfo (binfo);\n-\t  if (!b || BINFO_PRIMARY_BASE_OF (b) != binfo)\n+\t  if (!b)\n+\t    break;\n+\t  b = CANONICAL_BINFO (b, rli->t);\n+\t  if (BINFO_PRIMARY_BASE_OF (b) != binfo)\n \t    break;\n \t  if (TREE_VIA_VIRTUAL (b))\n \t    record_subobject_offsets (BINFO_TYPE (b),"}]}