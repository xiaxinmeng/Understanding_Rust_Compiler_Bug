{"sha": "82c18d5c67b2d121e8ef05c909f3e442c2ea742e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODJjMThkNWM2N2IyZDEyMWU4ZWYwNWM5MDlmM2U0NDJjMmVhNzQyZQ==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2001-02-12T14:29:13Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2001-02-12T14:29:13Z"}, "message": "extend.texi (Deprecated): Deprecate new initializer lists.\n\n.:\t* extend.texi (Deprecated): Deprecate new initializer lists.\ncp:\n\t* errfn.c (cp_deprecated): Tweak diagnostic text.\n\t* parse.y (new_initializer): Deprecate initializer lists\n\textension.\ntestsuite:\n\t* g++.old-deja/g++.robertl/eb63.C: Remove new initializer list\n\tcase.\n\t* g++.old-deja/g++.ext/arrnew.C: Deprecate.\n\nFrom-SVN: r39603", "tree": {"sha": "ad807fb93628215059ae03d400446551819d207d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ad807fb93628215059ae03d400446551819d207d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/82c18d5c67b2d121e8ef05c909f3e442c2ea742e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82c18d5c67b2d121e8ef05c909f3e442c2ea742e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/82c18d5c67b2d121e8ef05c909f3e442c2ea742e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82c18d5c67b2d121e8ef05c909f3e442c2ea742e/comments", "author": null, "committer": null, "parents": [{"sha": "48ce6bbbe6c22735efd1e8fe6b6fbf4d8453642e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/48ce6bbbe6c22735efd1e8fe6b6fbf4d8453642e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/48ce6bbbe6c22735efd1e8fe6b6fbf4d8453642e"}], "stats": {"total": 33, "additions": 28, "deletions": 5}, "files": [{"sha": "51837d02b5e64ad23217be37692c7689df6e5103", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82c18d5c67b2d121e8ef05c909f3e442c2ea742e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82c18d5c67b2d121e8ef05c909f3e442c2ea742e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=82c18d5c67b2d121e8ef05c909f3e442c2ea742e", "patch": "@@ -1,3 +1,7 @@\n+2001-02-12  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* extend.texi (Deprecated): Deprecate new initializer lists.\n+\n 2001-02-12  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* mkdeps.c (deps_add_default_target): Robustify. Add"}, {"sha": "3f7b3922d49b2c02230cc119875ce529346f2b25", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82c18d5c67b2d121e8ef05c909f3e442c2ea742e/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82c18d5c67b2d121e8ef05c909f3e442c2ea742e/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=82c18d5c67b2d121e8ef05c909f3e442c2ea742e", "patch": "@@ -1,3 +1,9 @@\n+2001-02-12  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* errfn.c (cp_deprecated): Tweak diagnostic text.\n+\t* parse.y (new_initializer): Deprecate initializer lists\n+\textension.\n+\n 2001-02-12  Mark Mitchell  <mark@codesourcery.com>\n \n \tRemove old ABI support."}, {"sha": "351dba958884b2320dbd9d47d9f4116275cab951", "filename": "gcc/cp/errfn.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82c18d5c67b2d121e8ef05c909f3e442c2ea742e/gcc%2Fcp%2Ferrfn.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82c18d5c67b2d121e8ef05c909f3e442c2ea742e/gcc%2Fcp%2Ferrfn.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ferrfn.c?ref=82c18d5c67b2d121e8ef05c909f3e442c2ea742e", "patch": "@@ -265,8 +265,7 @@ cp_deprecated (msg)\n   extern int warn_deprecated;\n   if (!warn_deprecated)\n     return;\n-  cp_warning (\"%s is deprecated.\", msg);\n-  cp_warning (\"Please see the documentation for details.\");\n+  cp_warning (\"%s is deprecated, please see the documentation for details\", msg);\n }\n \n void"}, {"sha": "a9963ee7691498ea68e6da0de02e38966acfdb57", "filename": "gcc/cp/parse.y", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82c18d5c67b2d121e8ef05c909f3e442c2ea742e/gcc%2Fcp%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82c18d5c67b2d121e8ef05c909f3e442c2ea742e/gcc%2Fcp%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparse.y?ref=82c18d5c67b2d121e8ef05c909f3e442c2ea742e", "patch": "@@ -1290,11 +1290,14 @@ new_initializer:\n \t\t}\n \t/* GNU extension so people can use initializer lists.  Note that\n \t   this alters the meaning of `new int = 1', which was previously\n-\t   syntactically valid but semantically invalid.  */\n+\t   syntactically valid but semantically invalid.  \n+           This feature is now deprecated and will be removed in a future\n+           release.  */\n \t| '=' init\n \t\t{\n \t\t  if (pedantic)\n \t\t    pedwarn (\"ISO C++ forbids initialization of new expression with `='\");\n+\t\t  cp_deprecated (\"new initializer lists extension\");\n \t\t  if (TREE_CODE ($2) != TREE_LIST\n \t\t      && TREE_CODE ($2) != CONSTRUCTOR)\n \t\t    $$ = build_tree_list (NULL_TREE, $2);"}, {"sha": "c2ce6a39f4ce9d81fbe1376033dbf9953728dab9", "filename": "gcc/extend.texi", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82c18d5c67b2d121e8ef05c909f3e442c2ea742e/gcc%2Fextend.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82c18d5c67b2d121e8ef05c909f3e442c2ea742e/gcc%2Fextend.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fextend.texi?ref=82c18d5c67b2d121e8ef05c909f3e442c2ea742e", "patch": "@@ -4390,6 +4390,9 @@ it is required for backwards compatibility @xref{Backwards Compatibility}.\n The named return value extension has been deprecated, and will be\n removed from g++ at some point.\n \n+The use of initializer lists with new expressions has been deprecated,\n+and will be removed from g++ at some point.\n+\n @node Backwards Compatibility\n @section Backwards Compatibility\n @cindex Backwards Compatibility"}, {"sha": "de55bb37764ff6838d5d559443eb4d60ce45d96d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82c18d5c67b2d121e8ef05c909f3e442c2ea742e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82c18d5c67b2d121e8ef05c909f3e442c2ea742e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=82c18d5c67b2d121e8ef05c909f3e442c2ea742e", "patch": "@@ -1,3 +1,9 @@\n+2001-02-12  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* g++.old-deja/g++.robertl/eb63.C: Remove new initializer list\n+\tcase.\n+\t* g++.old-deja/g++.ext/arrnew.C: Deprecate.\n+\n 2001-02-12  Jakub Jelinek  <jakub@redhat.com>\n \n \t* gcc.c-torture/compile/20010209-1.c: New test."}, {"sha": "0ecb8777e2697999f074781ded27c38f1d6a57be", "filename": "gcc/testsuite/g++.old-deja/g++.ext/arrnew.C", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82c18d5c67b2d121e8ef05c909f3e442c2ea742e/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.ext%2Farrnew.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82c18d5c67b2d121e8ef05c909f3e442c2ea742e/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.ext%2Farrnew.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.ext%2Farrnew.C?ref=82c18d5c67b2d121e8ef05c909f3e442c2ea742e", "patch": "@@ -2,4 +2,6 @@\n // Build don't link:\n // Special g++ Options:\n \n-\tint *f(){ return new int[1] = { 1 };   }\n+int *f(){\n+  return new int[1] = { 1 };   // WARNING - deprecated\n+}"}, {"sha": "f786e707923b6262a0cc4206001c51e989de7f35", "filename": "gcc/testsuite/g++.old-deja/g++.robertl/eb63.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82c18d5c67b2d121e8ef05c909f3e442c2ea742e/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.robertl%2Feb63.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82c18d5c67b2d121e8ef05c909f3e442c2ea742e/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.robertl%2Feb63.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.robertl%2Feb63.C?ref=82c18d5c67b2d121e8ef05c909f3e442c2ea742e", "patch": "@@ -11,6 +11,6 @@ public:\n \n main() {\n         A* a;\n-\ta = new A[2] = { A(1,false), A(1,false) } ;\n+\n         a = new A[2](1,false);\n }"}]}