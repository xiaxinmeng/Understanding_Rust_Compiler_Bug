{"sha": "c8fcb3318e586b4bf44e5600c8ead3cc9280f8f0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzhmY2IzMzE4ZTU4NmI0YmY0NGU1NjAwYzhlYWQzY2M5MjgwZjhmMA==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1998-02-19T10:41:58Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-02-19T10:41:58Z"}, "message": "typeck2.c (process_init_constructor): Sorry about non-trivial labeled initializers.\n\n\t* typeck2.c (process_init_constructor): Sorry about non-trivial\n\tlabeled initializers.\n\t* parse.y (initlist): Reenable labeled initializers.\n\nFrom-SVN: r18121", "tree": {"sha": "987dec3a9b948e1cfb1ba87596b35c3f959a100b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/987dec3a9b948e1cfb1ba87596b35c3f959a100b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c8fcb3318e586b4bf44e5600c8ead3cc9280f8f0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8fcb3318e586b4bf44e5600c8ead3cc9280f8f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c8fcb3318e586b4bf44e5600c8ead3cc9280f8f0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8fcb3318e586b4bf44e5600c8ead3cc9280f8f0/comments", "author": null, "committer": null, "parents": [{"sha": "de5750097bdad599bfc3561724cf37466dbfc186", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de5750097bdad599bfc3561724cf37466dbfc186", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de5750097bdad599bfc3561724cf37466dbfc186"}], "stats": {"total": 7355, "additions": 3689, "deletions": 3666}, "files": [{"sha": "a296ad6896efb360852ce257329a57ec206d4448", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8fcb3318e586b4bf44e5600c8ead3cc9280f8f0/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8fcb3318e586b4bf44e5600c8ead3cc9280f8f0/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=c8fcb3318e586b4bf44e5600c8ead3cc9280f8f0", "patch": "@@ -1,3 +1,9 @@\n+Thu Feb 19 10:36:48 1998  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* typeck2.c (process_init_constructor): Sorry about non-trivial\n+\tlabeled initializers.\n+\t* parse.y (initlist): Reenable labeled initializers.\n+\n Thu Feb 19 10:15:55 1998  Kriang Lerdsuwanakij  <lerdsuwa@scf.usc.edu>\n \n \t* pt.c (coerce_template_parms) Add a new parameter, is_tmpl_parm,"}, {"sha": "4f721eb8df2188d5c3cf63efb472e7facb198c5d", "filename": "gcc/cp/parse.c", "status": "modified", "additions": 3675, "deletions": 3658, "changes": 7333, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8fcb3318e586b4bf44e5600c8ead3cc9280f8f0/gcc%2Fcp%2Fparse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8fcb3318e586b4bf44e5600c8ead3cc9280f8f0/gcc%2Fcp%2Fparse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparse.c?ref=c8fcb3318e586b4bf44e5600c8ead3cc9280f8f0"}, {"sha": "4df861ebd08cc247bc78605fa0586563d386c916", "filename": "gcc/cp/parse.y", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8fcb3318e586b4bf44e5600c8ead3cc9280f8f0/gcc%2Fcp%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8fcb3318e586b4bf44e5600c8ead3cc9280f8f0/gcc%2Fcp%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparse.y?ref=c8fcb3318e586b4bf44e5600c8ead3cc9280f8f0", "patch": "@@ -2179,20 +2179,13 @@ initlist:\n \t\t{ $$ = build_tree_list (NULL_TREE, $$); }\n \t| initlist ',' init\n \t\t{ $$ = expr_tree_cons (NULL_TREE, $3, $$); }\n-\t/* These are for labeled elements, which don't currently work\n-\t   as documented, or give warning messages when used with\n-\t   -ansi -pedantic, or match the syntax currently used in the\n-\t   C front-end.  They are therefore disabled.  \n-\n+\t/* These are for labeled elements.  */\n \t| '[' expr_no_commas ']' init\n \t\t{ $$ = build_expr_list ($2, $4); }\n-\t| initlist ',' CASE expr_no_commas ':' init\n-\t\t{ $$ = expr_tree_cons ($4, $6, $$); }\n \t| identifier ':' init\n \t\t{ $$ = build_expr_list ($$, $3); }\n \t| initlist ',' identifier ':' init\n \t\t{ $$ = expr_tree_cons ($3, $5, $$); }\n-\t*/\n \t;\n \n fn.defpen:"}, {"sha": "a0c2bf99aba6812e4b85a0bcbf346d7be8ee9996", "filename": "gcc/cp/typeck2.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8fcb3318e586b4bf44e5600c8ead3cc9280f8f0/gcc%2Fcp%2Ftypeck2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8fcb3318e586b4bf44e5600c8ead3cc9280f8f0/gcc%2Fcp%2Ftypeck2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftypeck2.c?ref=c8fcb3318e586b4bf44e5600c8ead3cc9280f8f0", "patch": "@@ -962,6 +962,9 @@ process_init_constructor (type, init, elts)\n \t{\n \t  register tree next1;\n \n+\t  if (TREE_PURPOSE (tail))\n+\t    sorry (\"non-trivial labeled initializers\");\n+\n \t  if (TREE_VALUE (tail) != 0)\n \t    {\n \t      tree tail1 = tail;\n@@ -1038,6 +1041,10 @@ process_init_constructor (type, init, elts)\n \t  if (TREE_CODE (field) != FIELD_DECL)\n \t    continue;\n \n+\t  if (TREE_PURPOSE (tail)\n+\t      && TREE_PURPOSE (tail) != DECL_NAME (field))\n+\t    sorry (\"non-trivial labeled initializers\");\n+\n \t  if (TREE_VALUE (tail) != 0)\n \t    {\n \t      tree tail1 = tail;"}]}