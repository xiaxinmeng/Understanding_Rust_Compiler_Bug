{"sha": "4def6060f5da7678599d370dc6f4c90d250a9296", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGRlZjYwNjBmNWRhNzY3ODU5OWQzNzBkYzZmNGM5MGQyNTBhOTI5Ng==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2014-01-24T23:18:26Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2014-01-24T23:18:26Z"}, "message": "print-rtl.c (in_call_function_usage): New var.\n\n\t* print-rtl.c (in_call_function_usage): New var.\n\t(print_rtx): When in CALL_INSN_FUNCTION_USAGE, always print\n\tEXPR_LIST mode as mode and not as reg note name.\n\nFrom-SVN: r207066", "tree": {"sha": "5f9d30b980eb62e8a08caeca545083c6a0d6d9a1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5f9d30b980eb62e8a08caeca545083c6a0d6d9a1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4def6060f5da7678599d370dc6f4c90d250a9296", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4def6060f5da7678599d370dc6f4c90d250a9296", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4def6060f5da7678599d370dc6f4c90d250a9296", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4def6060f5da7678599d370dc6f4c90d250a9296/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "2105be5a857e9008fc5db6e07966d90348b38e6f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2105be5a857e9008fc5db6e07966d90348b38e6f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2105be5a857e9008fc5db6e07966d90348b38e6f"}], "stats": {"total": 18, "additions": 16, "deletions": 2}, "files": [{"sha": "ea51b3e0977a0e5fbb84a1be0cbabb5221317866", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4def6060f5da7678599d370dc6f4c90d250a9296/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4def6060f5da7678599d370dc6f4c90d250a9296/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4def6060f5da7678599d370dc6f4c90d250a9296", "patch": "@@ -1,5 +1,9 @@\n 2014-01-25  Jakub Jelinek  <jakub@redhat.com>\n \n+\t* print-rtl.c (in_call_function_usage): New var.\n+\t(print_rtx): When in CALL_INSN_FUNCTION_USAGE, always print\n+\tEXPR_LIST mode as mode and not as reg note name.\n+\n \tPR middle-end/59561\n \t* cfgloopmanip.c (copy_loop_info): If\n \tloop->warned_aggressive_loop_optimizations, make sure"}, {"sha": "5f2a4454a0f74860d28a80faaef9447483331e4e", "filename": "gcc/print-rtl.c", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4def6060f5da7678599d370dc6f4c90d250a9296/gcc%2Fprint-rtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4def6060f5da7678599d370dc6f4c90d250a9296/gcc%2Fprint-rtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fprint-rtl.c?ref=4def6060f5da7678599d370dc6f4c90d250a9296", "patch": "@@ -51,6 +51,8 @@ static int sawclose = 0;\n \n static int indent;\n \n+static bool in_call_function_usage;\n+\n static void print_rtx (const_rtx);\n \n /* String printed at beginning of each RTL when it is dumped.\n@@ -153,7 +155,8 @@ print_rtx (const_rtx in_rtx)\n       if ((GET_CODE (in_rtx) == EXPR_LIST\n \t   || GET_CODE (in_rtx) == INSN_LIST\n \t   || GET_CODE (in_rtx) == INT_LIST)\n-\t  && (int)GET_MODE (in_rtx) < REG_NOTE_MAX)\n+\t  && (int)GET_MODE (in_rtx) < REG_NOTE_MAX\n+\t  && !in_call_function_usage)\n \tfprintf (outfile, \":%s\",\n \t\t GET_REG_NOTE_NAME (GET_MODE (in_rtx)));\n \n@@ -350,7 +353,14 @@ print_rtx (const_rtx in_rtx)\n \t\t   print_rtx_head, indent * 2, \"\");\n \tif (!sawclose)\n \t  fprintf (outfile, \" \");\n-\tprint_rtx (XEXP (in_rtx, i));\n+\tif (i == 8 && CALL_P (in_rtx))\n+\t  {\n+\t    in_call_function_usage = true;\n+\t    print_rtx (XEXP (in_rtx, i));\n+\t    in_call_function_usage = false;\n+\t  }\n+\telse\n+\t  print_rtx (XEXP (in_rtx, i));\n \tindent -= 2;\n \tbreak;\n "}]}