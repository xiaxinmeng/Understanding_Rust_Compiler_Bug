{"sha": "4c5a06150c83d2afa3354c22c4f340774fcacdc8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGM1YTA2MTUwYzgzZDJhZmEzMzU0YzIyYzRmMzQwNzc0ZmNhY2RjOA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2008-07-31T22:04:03Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2008-07-31T22:04:03Z"}, "message": "decl.c (gnat_to_gnu_entity): Fix formatting.\n\n\t* gcc-interface/decl.c (gnat_to_gnu_entity): Fix formatting.\n\t* gcc-interface/utils.c (create_field_decl): Avoid superfluous work.\n\nFrom-SVN: r138440", "tree": {"sha": "0a3c9f745a58ffbd76137af01e163baa34eefb99", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0a3c9f745a58ffbd76137af01e163baa34eefb99"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4c5a06150c83d2afa3354c22c4f340774fcacdc8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c5a06150c83d2afa3354c22c4f340774fcacdc8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c5a06150c83d2afa3354c22c4f340774fcacdc8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c5a06150c83d2afa3354c22c4f340774fcacdc8/comments", "author": null, "committer": null, "parents": [{"sha": "90d245c5622d1f805f1936e03331d0b26b1cfd49", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90d245c5622d1f805f1936e03331d0b26b1cfd49", "html_url": "https://github.com/Rust-GCC/gccrs/commit/90d245c5622d1f805f1936e03331d0b26b1cfd49"}], "stats": {"total": 44, "additions": 42, "deletions": 2}, "files": [{"sha": "fdb714c1cb768610c813b4552e331cca59c730ee", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c5a06150c83d2afa3354c22c4f340774fcacdc8/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c5a06150c83d2afa3354c22c4f340774fcacdc8/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=4c5a06150c83d2afa3354c22c4f340774fcacdc8", "patch": "@@ -1,3 +1,8 @@\n+2008-07-31  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc-interface/decl.c (gnat_to_gnu_entity): Fix formatting.\n+\t* gcc-interface/utils.c (create_field_decl): Avoid superfluous work.\n+\n 2008-07-31  Pascal Obry  <obry@adacore.com>\n \n \t* prj-nmsc.adb: Keep Object and Exec directory casing."}, {"sha": "f8ebf5a58be6b28afd60a3a258243a5992782115", "filename": "gcc/ada/gcc-interface/decl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c5a06150c83d2afa3354c22c4f340774fcacdc8/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c5a06150c83d2afa3354c22c4f340774fcacdc8/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fdecl.c?ref=4c5a06150c83d2afa3354c22c4f340774fcacdc8", "patch": "@@ -3062,7 +3062,7 @@ gnat_to_gnu_entity (Entity_Id gnat_entity, tree gnu_expr, int definition)\n \n \t\t\t/* Discard old fields that are outside the new type.\n \t\t\t   This avoids confusing code scanning it to decide\n-\t\t\t   how to pass it to functions on some platforms.   */\n+\t\t\t   how to pass it to functions on some platforms.  */\n \t\t\tif (TREE_CODE (gnu_new_pos) == INTEGER_CST\n \t\t\t    && TREE_CODE (TYPE_SIZE (gnu_type)) == INTEGER_CST\n \t\t\t    && !integer_zerop (gnu_size)"}, {"sha": "2105abdcb29c58256a2def1bedeb46b28007408a", "filename": "gcc/ada/gcc-interface/utils.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c5a06150c83d2afa3354c22c4f340774fcacdc8/gcc%2Fada%2Fgcc-interface%2Futils.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c5a06150c83d2afa3354c22c4f340774fcacdc8/gcc%2Fada%2Fgcc-interface%2Futils.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Futils.c?ref=4c5a06150c83d2afa3354c22c4f340774fcacdc8", "patch": "@@ -1755,7 +1755,7 @@ create_field_decl (tree field_name, tree field_type, tree record_type,\n      of a copy.  This is the case for true bitfields, but the DECL_BIT_FIELD\n      value we have at this point is not accurate enough, so we don't account\n      for this here and let finish_record_type decide.  */\n-  if (!type_for_nonaliased_component_p (field_type))\n+  if (!addressable && !type_for_nonaliased_component_p (field_type))\n     addressable = 1;\n \n   DECL_NONADDRESSABLE_P (field_decl) = !addressable;"}, {"sha": "6e460bc02833a9c18fe09d3c9908163240c5ac54", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c5a06150c83d2afa3354c22c4f340774fcacdc8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c5a06150c83d2afa3354c22c4f340774fcacdc8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4c5a06150c83d2afa3354c22c4f340774fcacdc8", "patch": "@@ -1,3 +1,7 @@\n+2008-07-31  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gnat.dg/discr10.ad[sb]: New test.\n+\n 2008-07-31  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/35100"}, {"sha": "4ad834fd12453cf26c95bf5027eff4e2ad7b93cb", "filename": "gcc/testsuite/gnat.dg/discr10.adb", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c5a06150c83d2afa3354c22c4f340774fcacdc8/gcc%2Ftestsuite%2Fgnat.dg%2Fdiscr10.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c5a06150c83d2afa3354c22c4f340774fcacdc8/gcc%2Ftestsuite%2Fgnat.dg%2Fdiscr10.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fdiscr10.adb?ref=4c5a06150c83d2afa3354c22c4f340774fcacdc8", "patch": "@@ -0,0 +1,8 @@\n+package body Discr10 is\n+\n+   function Get (X : R) return R is\n+   begin\n+     return R'(D1 => False, D2 => False, D3 => X.D3);\n+   end;\n+\n+end Discr10;"}, {"sha": "8df7ef146c48fc4676f064d3fd2733fd78142349", "filename": "gcc/testsuite/gnat.dg/discr10.ads", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c5a06150c83d2afa3354c22c4f340774fcacdc8/gcc%2Ftestsuite%2Fgnat.dg%2Fdiscr10.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c5a06150c83d2afa3354c22c4f340774fcacdc8/gcc%2Ftestsuite%2Fgnat.dg%2Fdiscr10.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fdiscr10.ads?ref=4c5a06150c83d2afa3354c22c4f340774fcacdc8", "patch": "@@ -0,0 +1,23 @@\n+package Discr10 is\n+\n+   subtype Index is Natural range 0 .. 150;\n+\n+   type List is array (Index range <>) of Integer;\n+\n+   type R (D1 : Boolean := True; D2 : Boolean := False; D3 : Index := 0) is\n+   record\n+      case D2 is\n+         when True =>\n+            L : List (1 .. D3);\n+            case D1 is\n+               when True => I : Integer;\n+               when False => null;\n+            end case;\n+         when False =>\n+            null;\n+      end case;\n+   end record;\n+\n+   function Get (X : R) return R;\n+\n+end Discr10;"}]}