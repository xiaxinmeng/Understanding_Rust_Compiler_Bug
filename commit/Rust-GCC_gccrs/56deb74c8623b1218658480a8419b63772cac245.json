{"sha": "56deb74c8623b1218658480a8419b63772cac245", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTZkZWI3NGM4NjIzYjEyMTg2NTg0ODBhODQxOWI2Mzc3MmNhYzI0NQ==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2001-12-15T18:58:49Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2001-12-15T18:58:49Z"}, "message": "acinclude.m4 (GLIBCPP_ENABLE_CLOCALE): Enable gnu locale model on linux by default.\n\n\n2001-12-15  Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* acinclude.m4 (GLIBCPP_ENABLE_CLOCALE): Enable gnu locale model\n\ton linux by default.\n\t* aclocal.m4: Regenerate.\n\t* configure: Regenerate.\n\nFrom-SVN: r48046", "tree": {"sha": "5a9b62f0c8100390c38fe86df1bb7fbe5d686da9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5a9b62f0c8100390c38fe86df1bb7fbe5d686da9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/56deb74c8623b1218658480a8419b63772cac245", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56deb74c8623b1218658480a8419b63772cac245", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56deb74c8623b1218658480a8419b63772cac245", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56deb74c8623b1218658480a8419b63772cac245/comments", "author": null, "committer": null, "parents": [{"sha": "7fcd4787d76c6a11565fabf76af9aa31ced7df37", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7fcd4787d76c6a11565fabf76af9aa31ced7df37", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7fcd4787d76c6a11565fabf76af9aa31ced7df37"}], "stats": {"total": 1861, "additions": 967, "deletions": 894}, "files": [{"sha": "076157a03e38aef8325a13482c25895eba68206f", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56deb74c8623b1218658480a8419b63772cac245/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56deb74c8623b1218658480a8419b63772cac245/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=56deb74c8623b1218658480a8419b63772cac245", "patch": "@@ -1,7 +1,14 @@\n+2001-12-15  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\t* acinclude.m4 (GLIBCPP_ENABLE_CLOCALE): Enable gnu locale model\n+\ton linux by default.\n+\t* aclocal.m4: Regenerate.\n+\t* configure: Regenerate.\n+\t\n 2001-12-14  Benjamin Kosnik  <bkoz@redhat.com>\n \n \tClean up initialization and simplfy caching of underlying \"C\"\n-\tlocale objects.\n+\tdefault locale objects.\n \t* src/localename.cc (locale::_Impl::_Impl(string, size_t):\n \tUnconditionally create __clocale object for all named locales,\n \tincluding \"C\" and \"POSIX\"."}, {"sha": "beba85edb4b5d015ee09638a2179f314617db5b4", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 21, "deletions": 3, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56deb74c8623b1218658480a8419b63772cac245/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56deb74c8623b1218658480a8419b63772cac245/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=56deb74c8623b1218658480a8419b63772cac245", "patch": "@@ -1041,13 +1041,31 @@ AC_DEFUN(GLIBCPP_ENABLE_CLOCALE, [\n   --enable-clocale=MODEL  use MODEL target-speific locale package. [default=generic]\n   ], \n   if test x$enable_clocale = xno; then\n-     enable_clocale=generic\n+     enable_clocale=no\n   fi,\n-     enable_clocale=generic)\n+     enable_clocale=no)\n \n   enable_clocale_flag=$enable_clocale\n \n-  dnl Check if a valid locale package\n+  dnl Probe for locale support if no specific model is specified.\n+  dnl Default to \"generic\"\n+  if test x$enable_clocale_flag = xno; then\n+    case x${target_os} in\n+      xlinux* | xgnu*)\n+\tAC_EGREP_CPP([ok], [\n+        #include <features.h>\n+        #if __GLIBC__ > 2 || (__GLIBC__ == 2 && __GLIBC_MINOR__ >= 2) \n+          ok\n+        #endif\n+        ], enable_clocale_flag=gnu, enable_clocale_flag=generic)\n+        ;;\n+      *)\n+\tenable_clocale_flag=generic\n+\t;;\n+    esac\n+  fi\n+\n+  dnl Set configure bits for specified locale package\n   case x${enable_clocale_flag} in\n     xgeneric)\n       AC_MSG_RESULT(generic)"}, {"sha": "a06a86152c749f985b82613da0afb91993f5f86c", "filename": "libstdc++-v3/aclocal.m4", "status": "modified", "additions": 21, "deletions": 3, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56deb74c8623b1218658480a8419b63772cac245/libstdc%2B%2B-v3%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56deb74c8623b1218658480a8419b63772cac245/libstdc%2B%2B-v3%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Faclocal.m4?ref=56deb74c8623b1218658480a8419b63772cac245", "patch": "@@ -1053,13 +1053,31 @@ AC_DEFUN(GLIBCPP_ENABLE_CLOCALE, [\n   --enable-clocale=MODEL  use MODEL target-speific locale package. [default=generic]\n   ], \n   if test x$enable_clocale = xno; then\n-     enable_clocale=generic\n+     enable_clocale=no\n   fi,\n-     enable_clocale=generic)\n+     enable_clocale=no)\n \n   enable_clocale_flag=$enable_clocale\n \n-  dnl Check if a valid locale package\n+  dnl Probe for locale support if no specific model is specified.\n+  dnl Default to \"generic\"\n+  if test x$enable_clocale_flag = xno; then\n+    case x${target_os} in\n+      xlinux* | xgnu*)\n+\tAC_EGREP_CPP([ok], [\n+        #include <features.h>\n+        #if __GLIBC__ > 2 || (__GLIBC__ == 2 && __GLIBC_MINOR__ >= 2) \n+          ok\n+        #endif\n+        ], enable_clocale_flag=gnu, enable_clocale_flag=generic)\n+        ;;\n+      *)\n+\tenable_clocale_flag=generic\n+\t;;\n+    esac\n+  fi\n+\n+  dnl Set configure bits for specified locale package\n   case x${enable_clocale_flag} in\n     xgeneric)\n       AC_MSG_RESULT(generic)"}, {"sha": "0bb4c8d4eaf412608e577041a2607be18a4a73c4", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 917, "deletions": 887, "changes": 1804, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56deb74c8623b1218658480a8419b63772cac245/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56deb74c8623b1218658480a8419b63772cac245/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=56deb74c8623b1218658480a8419b63772cac245"}]}