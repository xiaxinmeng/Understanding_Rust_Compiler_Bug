{"sha": "11e5489b1ecfb256cc64970a87b32f0cd856ec15", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTFlNTQ4OWIxZWNmYjI1NmNjNjQ5NzBhODdiMzJmMGNkODU2ZWMxNQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2002-10-14T02:36:25Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-10-14T02:36:25Z"}, "message": "* rtl.c (shallow_copy_rtx): Use memcpy for the entire node.\n\nFrom-SVN: r58102", "tree": {"sha": "51a800a28d41560979b3f43722ce59dd57c542ee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/51a800a28d41560979b3f43722ce59dd57c542ee"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/11e5489b1ecfb256cc64970a87b32f0cd856ec15", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11e5489b1ecfb256cc64970a87b32f0cd856ec15", "html_url": "https://github.com/Rust-GCC/gccrs/commit/11e5489b1ecfb256cc64970a87b32f0cd856ec15", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11e5489b1ecfb256cc64970a87b32f0cd856ec15/comments", "author": null, "committer": null, "parents": [{"sha": "8fa7c5af3fcde02ab4aad8cba0e01091f362ba6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8fa7c5af3fcde02ab4aad8cba0e01091f362ba6c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8fa7c5af3fcde02ab4aad8cba0e01091f362ba6c"}], "stats": {"total": 19, "additions": 8, "deletions": 11}, "files": [{"sha": "7bde8dd690e8e63cff505641c53a50b2d6c16660", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11e5489b1ecfb256cc64970a87b32f0cd856ec15/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11e5489b1ecfb256cc64970a87b32f0cd856ec15/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=11e5489b1ecfb256cc64970a87b32f0cd856ec15", "patch": "@@ -1,3 +1,7 @@\n+2002-10-13  Richard Henderson  <rth@redhat.com>\n+\n+\t* rtl.c (shallow_copy_rtx): Use memcpy for the entire node.\n+\n 2002-10-12  Neil Booth  <neil@daikokuya.co.uk>\n \n \tPR preprocessor/7862"}, {"sha": "065c02b40c3dcef8cf1990bccf7efaa603eb0e36", "filename": "gcc/rtl.c", "status": "modified", "additions": 4, "deletions": 11, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11e5489b1ecfb256cc64970a87b32f0cd856ec15/gcc%2Frtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11e5489b1ecfb256cc64970a87b32f0cd856ec15/gcc%2Frtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtl.c?ref=11e5489b1ecfb256cc64970a87b32f0cd856ec15", "patch": "@@ -387,19 +387,12 @@ rtx\n shallow_copy_rtx (orig)\n      rtx orig;\n {\n-  int i;\n   RTX_CODE code = GET_CODE (orig);\n-  rtx copy = rtx_alloc (code);\n-\n-  PUT_MODE (copy, GET_MODE (orig));\n-  RTX_FLAG (copy, in_struct) = RTX_FLAG (orig, in_struct);\n-  RTX_FLAG (copy, volatil) = RTX_FLAG (orig, volatil);\n-  RTX_FLAG (copy, unchanging) = RTX_FLAG (orig, unchanging);\n-  RTX_FLAG (copy, integrated) = RTX_FLAG (orig, integrated);\n-  RTX_FLAG (copy, frame_related) = RTX_FLAG (orig, frame_related);\n+  size_t n = GET_RTX_LENGTH (code);\n+  rtx copy = ggc_alloc_rtx (n);\n \n-  for (i = 0; i < GET_RTX_LENGTH (code); i++)\n-    copy->fld[i] = orig->fld[i];\n+  memcpy (copy, orig,\n+\t  sizeof (struct rtx_def) + sizeof (rtunion) * (n - 1));\n \n   return copy;\n }"}]}