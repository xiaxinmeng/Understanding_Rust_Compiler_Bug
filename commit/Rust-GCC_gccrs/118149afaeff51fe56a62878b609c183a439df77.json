{"sha": "118149afaeff51fe56a62878b609c183a439df77", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTE4MTQ5YWZhZWZmNTFmZTU2YTYyODc4YjYwOWMxODNhNDM5ZGY3Nw==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-07-12T20:29:59Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-07-12T20:29:59Z"}, "message": "Deleted the #error; file should work now.\n\n(LIB_SPEC): Use -lg only once.\n(STRUCTURE_SIZE_BOUNDARY): Defined.\n\nFrom-SVN: r1575", "tree": {"sha": "3b245dcfbc2c6bf89dbca20aad4bcb10bcf74ab5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3b245dcfbc2c6bf89dbca20aad4bcb10bcf74ab5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/118149afaeff51fe56a62878b609c183a439df77", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/118149afaeff51fe56a62878b609c183a439df77", "html_url": "https://github.com/Rust-GCC/gccrs/commit/118149afaeff51fe56a62878b609c183a439df77", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/118149afaeff51fe56a62878b609c183a439df77/comments", "author": null, "committer": null, "parents": [{"sha": "fa45b1eba375396fd553d9825aa09dd15dad4fba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa45b1eba375396fd553d9825aa09dd15dad4fba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa45b1eba375396fd553d9825aa09dd15dad4fba"}], "stats": {"total": 22, "additions": 10, "deletions": 12}, "files": [{"sha": "92739b2d78b1b735184aab086ccde551aa631f21", "filename": "gcc/config/m68k/isi.h", "status": "modified", "additions": 10, "deletions": 12, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/118149afaeff51fe56a62878b609c183a439df77/gcc%2Fconfig%2Fm68k%2Fisi.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/118149afaeff51fe56a62878b609c183a439df77/gcc%2Fconfig%2Fm68k%2Fisi.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fisi.h?ref=118149afaeff51fe56a62878b609c183a439df77", "patch": "@@ -20,17 +20,7 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n \n #include \"m68k.h\"\n \n-/* Without STRUCTURE_SIZE_BOUNDARY, we can't ensure that structures are\n-   aligned such that we can correctly extract bitfields from them.\n-   Someone should check whether the usual compiler on this machine\n-   provides the equivalent behavior of STRUCTURE_SIZE_BOUNDARY.  */\n-/* Alternative solutions are (1) define PCC_BITFIELD_TYPE_MATTERS,\n-   if that fits what the usual compiler does,\n-   or disable the -m68000 and -mnobitfield options.  */\n-#error This doesn't define STRUCTURE_SIZE_BOUNDARY\n-\n /* See m68k.h.  7 means 68020 with 68881. */\n-\n #ifndef TARGET_DEFAULT\n #define TARGET_DEFAULT 7\n #endif\n@@ -43,7 +33,9 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n \n /* If the 68881 is used, link must load libmc.a instead of libc.a */\n \n-#define LIB_SPEC \"%{g:-lg} %{msoft-float:%{!p:%{!pg:-lc}}%{p:-lc_p}%{pg:-lc_p}}%{!msoft-float:%{!p:%{!pg:-lmc}}%{p:-lmc_p}%{pg:-lmc_p}} %{g:-lg}\"\n+#define LIB_SPEC \"%{msoft-float:%{!p:%{!pg:-lc}}%{p:-lc_p}%{pg:-lc_p}} \\\n+%{!msoft-float:%{!p:%{!pg:-lmc}}%{p:-lmc_p}%{pg:-lmc_p}} \\\n+%{g:-lg}\"\n \n #else\n /* Define __HAVE_68881__ in preprocessor if -m68881 is specified.\n@@ -53,7 +45,9 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n \n /* If the 68881 is used, link must load libmc.a instead of libc.a */\n \n-#define LIB_SPEC \"%{g:-lg} %{!m68881:%{!p:%{!pg:-lc}}%{p:-lc_p}%{pg:-lc_p}}%{m68881:%{!p:%{!pg:-lmc}}%{p:-lmc_p}%{pg:-lmc_p}}\"\n+#define LIB_SPEC \"%{!m68881:%{!p:%{!pg:-lc}}%{p:-lc_p}%{pg:-lc_p}} \\\n+%{m68881:%{!p:%{!pg:-lmc}}%{p:-lmc_p}%{pg:-lmc_p}} \\\n+%{g:-lg}\"\n #endif\n \n /* Names to predefine in the preprocessor for this target machine.  */\n@@ -71,6 +65,10 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n #undef FUNCTION_VALUE_REGNO_P\n #undef ASM_FILE_START\n \n+/* Every structure or union's size must be a multiple of 2 bytes.  */\n+\n+#define STRUCTURE_SIZE_BOUNDARY 16\n+\n /* If TARGET_68881, return SF and DF values in f0 instead of d0.  */\n \n #define FUNCTION_VALUE(VALTYPE,FUNC) LIBCALL_VALUE (TYPE_MODE (VALTYPE))"}]}