{"sha": "d8ddc751ee9667b27a4b28f7a00fa550c23f65c2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDhkZGM3NTFlZTk2NjdiMjdhNGIyOGY3YTAwZmE1NTBjMjNmNjVjMg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-04-26T22:16:50Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-04-26T22:16:50Z"}, "message": "Remove bad peepholes that improperly use dead_or_set_p.\n\nFrom-SVN: r9491", "tree": {"sha": "7e8eccc270b4bfecb0342fb7b72eb6dd9ffdf5f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7e8eccc270b4bfecb0342fb7b72eb6dd9ffdf5f8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d8ddc751ee9667b27a4b28f7a00fa550c23f65c2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8ddc751ee9667b27a4b28f7a00fa550c23f65c2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d8ddc751ee9667b27a4b28f7a00fa550c23f65c2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8ddc751ee9667b27a4b28f7a00fa550c23f65c2/comments", "author": null, "committer": null, "parents": [{"sha": "b095754a73868960130564eaa065a755bb403311", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b095754a73868960130564eaa065a755bb403311", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b095754a73868960130564eaa065a755bb403311"}], "stats": {"total": 30, "additions": 0, "deletions": 30}, "files": [{"sha": "9c0a11ada46856f79600e3729a5f96123323d075", "filename": "gcc/config/pyr/pyr.md", "status": "modified", "additions": 0, "deletions": 30, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d8ddc751ee9667b27a4b28f7a00fa550c23f65c2/gcc%2Fconfig%2Fpyr%2Fpyr.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d8ddc751ee9667b27a4b28f7a00fa550c23f65c2/gcc%2Fconfig%2Fpyr%2Fpyr.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpyr%2Fpyr.md?ref=d8ddc751ee9667b27a4b28f7a00fa550c23f65c2", "patch": "@@ -1136,36 +1136,6 @@\n   return \\\"mtstw %1,%0\\\";\n \")\n \n-;; Same for HI and QI mode move-test as well.\n-\n-(define_peephole\n-  [(set (match_operand:HI 0 \"register_operand\" \"=r\")\n-\t(match_operand:HI 1 \"nonimmediate_operand\" \"rm\"))\n-   (set (match_operand:SI 2 \"register_operand\" \"=r\")\n-\t(sign_extend:SI (match_operand:HI 3 \"nonimmediate_operand\" \"rm\")))\n-   (set (cc0) (match_dup 2))]\n-  \"dead_or_set_p (insn, operands[2])\n-   && (rtx_equal_p (operands[3], operands[0])\n-       || rtx_equal_p (operands[3], operands[1]))\"\n-  \"*\n-  cc_status.flags |= CC_NO_OVERFLOW;\n-  return \\\"cvthw %1,%0\\\";\n-\")\n-\n-(define_peephole\n-  [(set (match_operand:QI 0 \"register_operand\" \"=r\")\n-\t(match_operand:QI 1 \"nonimmediate_operand\" \"rm\"))\n-   (set (match_operand:SI 2 \"register_operand\" \"=r\")\n-\t(sign_extend:SI (match_operand:QI 3 \"nonimmediate_operand\" \"rm\")))\n-   (set (cc0) (match_dup 2))]\n-  \"dead_or_set_p (insn, operands[2])\n-   && (rtx_equal_p (operands[3], operands[0])\n-       || rtx_equal_p (operands[3], operands[1]))\"\n-  \"*\n-  cc_status.flags |= CC_NO_OVERFLOW;\n-  return \\\"cvtbw %1,%0\\\";\n-\")\n-\n ;; Optimize loops with an incremented/decremented variable.\n \n (define_peephole"}]}