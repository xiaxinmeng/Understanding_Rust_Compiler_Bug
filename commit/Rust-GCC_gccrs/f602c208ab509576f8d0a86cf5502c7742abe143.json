{"sha": "f602c208ab509576f8d0a86cf5502c7742abe143", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjYwMmMyMDhhYjUwOTU3NmY4ZDBhODZjZjU1MDJjNzc0MmFiZTE0Mw==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1997-08-02T17:20:21Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1997-08-02T17:20:21Z"}, "message": "(flag_check_memory_usage, flag_prefix_function_name): New variable.\n\n(f_options): Add `check-memory-usage' and `prefix_function_name'.\n(main): Disable `-fomit-frame-pointer' if `-fcheck-memory-usage' is set\nand the machine can't debug without the frame pointer.\n\nFrom-SVN: r14617", "tree": {"sha": "5ee9d2f70d1fd97d6aa6175847b59dac25fe6592", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5ee9d2f70d1fd97d6aa6175847b59dac25fe6592"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f602c208ab509576f8d0a86cf5502c7742abe143", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f602c208ab509576f8d0a86cf5502c7742abe143", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f602c208ab509576f8d0a86cf5502c7742abe143", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f602c208ab509576f8d0a86cf5502c7742abe143/comments", "author": null, "committer": null, "parents": [{"sha": "17f5f329caf90ce8f545c1790218606b37282f85", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17f5f329caf90ce8f545c1790218606b37282f85", "html_url": "https://github.com/Rust-GCC/gccrs/commit/17f5f329caf90ce8f545c1790218606b37282f85"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "f6c4a63d186008760fd4aa963816b254a1106904", "filename": "gcc/toplev.c", "status": "modified", "additions": 17, "deletions": 1, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f602c208ab509576f8d0a86cf5502c7742abe143/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f602c208ab509576f8d0a86cf5502c7742abe143/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=f602c208ab509576f8d0a86cf5502c7742abe143", "patch": "@@ -606,6 +606,16 @@ int flag_pack_struct = 0;\n    to be allocated dynamically.  */\n int flag_stack_check;\n \n+/* -fcheck-memory-usage causes extra code to be generated in order to check\n+   memory accesses.  This is used by a detector of bad memory accesses such\n+   as Checker.  */\n+int flag_check_memory_usage = 0;\n+\n+/* -fprefix-function-name causes function name to be prefixed.  This\n+   can be used with -fcheck-memory-usage to isolate code compiled with\n+   -fcheck-memory-usage.  */\n+int flag_prefix_function_name = 0;\n+\n /* Table of language-independent -f options.\n    STRING is the option name.  VARIABLE is the address of the variable.\n    ON_VALUE is the value to store in VARIABLE\n@@ -661,7 +671,9 @@ struct { char *string; int *variable; int on_value;} f_options[] =\n   {\"gnu-linker\", &flag_gnu_linker, 1},\n   {\"pack-struct\", &flag_pack_struct, 1},\n   {\"stack-check\", &flag_stack_check, 1},\n-  {\"bytecode\", &output_bytecode, 1}\n+  {\"bytecode\", &output_bytecode, 1},\n+  {\"check-memory-usage\", &flag_check_memory_usage, 1},\n+  {\"prefix-function-name\", &flag_prefix_function_name, 1}\n };\n \n /* Table of language-specific options.  */\n@@ -4111,6 +4123,10 @@ main (argc, argv, envp)\n \tfilename = argv[i];\n     }\n \n+  /* Checker uses the frame pointer.  */\n+  if (flag_check_memory_usage)\n+    flag_omit_frame_pointer = 0;\n+\n   /* Initialize for bytecode output.  A good idea to do this as soon as\n      possible after the \"-f\" options have been parsed.  */\n   if (output_bytecode)"}]}