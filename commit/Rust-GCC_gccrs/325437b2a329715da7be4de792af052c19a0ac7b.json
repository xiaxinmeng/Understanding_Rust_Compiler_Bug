{"sha": "325437b2a329715da7be4de792af052c19a0ac7b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzI1NDM3YjJhMzI5NzE1ZGE3YmU0ZGU3OTJhZjA1MmMxOWEwYWM3Yg==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@axis.com", "date": "2019-05-22T00:30:42Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2019-05-22T00:30:42Z"}, "message": "In <https://gcc.gnu.org/ml/gcc-patches/2019-05/msg01417.html>...\n\nIn <https://gcc.gnu.org/ml/gcc-patches/2019-05/msg01417.html>:\n...a change introduced in r94104 where BITS_PER_WORD was chosenperhaps because we expect register-sized writes into this area.\n\nSee <https://gcc.gnu.org/ml/gcc-patches/2005-01/msg01564.html>\nfor the r94104 change.\n\n\t* function.c (assign_parm_setup_block): Raise alignment of\n\tstacked parameter only for STRICT_ALIGNMENT targets.\n\nFrom-SVN: r271497", "tree": {"sha": "0276a04a3ce7e0505e572d81fbade46dba877f6e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0276a04a3ce7e0505e572d81fbade46dba877f6e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/325437b2a329715da7be4de792af052c19a0ac7b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/325437b2a329715da7be4de792af052c19a0ac7b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/325437b2a329715da7be4de792af052c19a0ac7b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/325437b2a329715da7be4de792af052c19a0ac7b/comments", "author": {"login": "hpataxisdotcom", "id": 80339731, "node_id": "MDQ6VXNlcjgwMzM5NzMx", "avatar_url": "https://avatars.githubusercontent.com/u/80339731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hpataxisdotcom", "html_url": "https://github.com/hpataxisdotcom", "followers_url": "https://api.github.com/users/hpataxisdotcom/followers", "following_url": "https://api.github.com/users/hpataxisdotcom/following{/other_user}", "gists_url": "https://api.github.com/users/hpataxisdotcom/gists{/gist_id}", "starred_url": "https://api.github.com/users/hpataxisdotcom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hpataxisdotcom/subscriptions", "organizations_url": "https://api.github.com/users/hpataxisdotcom/orgs", "repos_url": "https://api.github.com/users/hpataxisdotcom/repos", "events_url": "https://api.github.com/users/hpataxisdotcom/events{/privacy}", "received_events_url": "https://api.github.com/users/hpataxisdotcom/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "0fd67989f9c53aa85ea803941882c997e9c4d012", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0fd67989f9c53aa85ea803941882c997e9c4d012", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0fd67989f9c53aa85ea803941882c997e9c4d012"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "9c4c21589cabfecaeb83a7dc421ca7a56c3aa498", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/325437b2a329715da7be4de792af052c19a0ac7b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/325437b2a329715da7be4de792af052c19a0ac7b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=325437b2a329715da7be4de792af052c19a0ac7b", "patch": "@@ -1,3 +1,8 @@\n+2019-05-22  Hans-Peter Nilsson  <hp@axis.com>\n+\n+\t* function.c (assign_parm_setup_block): Raise alignment of\n+\tstacked parameter only for STRICT_ALIGNMENT targets.\n+\n 2019-05-21  Segher Boessenkool  <segher@kernel.crashing.org>\n \n \t* config/rs6000/constraints.md (define_register_constraint \"wz\"):"}, {"sha": "e30ee259becc1cffb312fa186339ffd86a60de1c", "filename": "gcc/function.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/325437b2a329715da7be4de792af052c19a0ac7b/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/325437b2a329715da7be4de792af052c19a0ac7b/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=325437b2a329715da7be4de792af052c19a0ac7b", "patch": "@@ -2912,7 +2912,11 @@ assign_parm_setup_block (struct assign_parm_data_all *all,\n   size_stored = CEIL_ROUND (size, UNITS_PER_WORD);\n   if (stack_parm == 0)\n     {\n-      SET_DECL_ALIGN (parm, MAX (DECL_ALIGN (parm), BITS_PER_WORD));\n+      HOST_WIDE_INT parm_align\n+\t= (STRICT_ALIGNMENT\n+\t   ? MAX (DECL_ALIGN (parm), BITS_PER_WORD) : DECL_ALIGN (parm));\n+\n+      SET_DECL_ALIGN (parm, parm_align);\n       if (DECL_ALIGN (parm) > MAX_SUPPORTED_STACK_ALIGNMENT)\n \t{\n \t  rtx allocsize = gen_int_mode (size_stored, Pmode);"}]}