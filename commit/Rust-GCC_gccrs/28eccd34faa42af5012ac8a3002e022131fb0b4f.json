{"sha": "28eccd34faa42af5012ac8a3002e022131fb0b4f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjhlY2NkMzRmYWE0MmFmNTAxMmFjOGEzMDAyZTAyMjEzMWZiMGI0Zg==", "commit": {"author": {"name": "Jerome Lambourg", "email": "lambourg@adacore.com", "date": "2014-11-20T15:57:55Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2014-11-20T15:57:55Z"}, "message": "Makefile.in: Add some support for VxWorks7.\n\n2014-11-20  Jerome Lambourg  <lambourg@adacore.com>\n\n\t* gcc-interface/Makefile.in: Add some support for VxWorks7.\n\nFrom-SVN: r217881", "tree": {"sha": "23d3f4804f31ab6d2902793c09a94f7a627c60ff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/23d3f4804f31ab6d2902793c09a94f7a627c60ff"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/28eccd34faa42af5012ac8a3002e022131fb0b4f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28eccd34faa42af5012ac8a3002e022131fb0b4f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/28eccd34faa42af5012ac8a3002e022131fb0b4f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28eccd34faa42af5012ac8a3002e022131fb0b4f/comments", "author": {"login": "lambourg", "id": 480233, "node_id": "MDQ6VXNlcjQ4MDIzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/480233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lambourg", "html_url": "https://github.com/lambourg", "followers_url": "https://api.github.com/users/lambourg/followers", "following_url": "https://api.github.com/users/lambourg/following{/other_user}", "gists_url": "https://api.github.com/users/lambourg/gists{/gist_id}", "starred_url": "https://api.github.com/users/lambourg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lambourg/subscriptions", "organizations_url": "https://api.github.com/users/lambourg/orgs", "repos_url": "https://api.github.com/users/lambourg/repos", "events_url": "https://api.github.com/users/lambourg/events{/privacy}", "received_events_url": "https://api.github.com/users/lambourg/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "bcdb6b04a792df81eb09c535591e194fa1c91ca2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bcdb6b04a792df81eb09c535591e194fa1c91ca2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bcdb6b04a792df81eb09c535591e194fa1c91ca2"}], "stats": {"total": 21, "additions": 17, "deletions": 4}, "files": [{"sha": "8d72e443d42e7cc22d7d2c8bd4deac0f35fac4f9", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28eccd34faa42af5012ac8a3002e022131fb0b4f/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28eccd34faa42af5012ac8a3002e022131fb0b4f/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=28eccd34faa42af5012ac8a3002e022131fb0b4f", "patch": "@@ -1,3 +1,7 @@\n+2014-11-20  Jerome Lambourg  <lambourg@adacore.com>\n+\n+\t* gcc-interface/Makefile.in: Add some support for VxWorks7.\n+\n 2014-11-20  Thomas Quinot  <quinot@adacore.com>\n \n \t* sem_ch13.adb, freeze.adb: Minor reformatting."}, {"sha": "1e0214d108c7867b55148eb0d410255a708236ee", "filename": "gcc/ada/gcc-interface/Makefile.in", "status": "modified", "additions": 13, "deletions": 4, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28eccd34faa42af5012ac8a3002e022131fb0b4f/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28eccd34faa42af5012ac8a3002e022131fb0b4f/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMakefile.in?ref=28eccd34faa42af5012ac8a3002e022131fb0b4f", "patch": "@@ -945,7 +945,7 @@ ifeq ($(strip $(filter-out %86 wrs vxworks vxworks7,$(target_cpu) $(target_vendo\n         s-tpopsp.adb<s-tpopsp-vxworks-tls.adb \\\n         s-vxwext.ads<s-vxwext-kernel.ads \\\n         s-vxwext.adb<s-vxwext-kernel-smp.adb \\\n-        system.ads<system-vxworks-x86-kernel.ads\n+        system.ads<$(SVX)-x86-kernel.ads\n         EXTRA_LIBGNAT_OBJS+=affinity.o\n       else\n         LIBGNAT_TARGET_PAIRS += \\\n@@ -970,12 +970,21 @@ ifeq ($(strip $(filter-out %86 wrs vxworks vxworks7,$(target_cpu) $(target_vendo\n \n   EXTRA_LIBGNAT_OBJS+=vx_stack_info.o\n \n-  GCC_SPEC_FILES+=vxworks-x86-link.spec\n-  GCC_SPEC_FILES+=vxworks-smp-x86-link.spec\n+  ifneq ($(strip $(filter-out vxworks7%, $(target_os))),)\n+    GCC_SPEC_FILES+=vxworks-x86-link.spec\n+    GCC_SPEC_FILES+=vxworks-smp-x86-link.spec\n+  endif\n endif\n \n # ARM VxWorks\n ifeq ($(strip $(filter-out arm% coff wrs vx%,$(target_cpu) $(target_vendor) $(target_os))),)\n+\n+  ifeq ($(strip $(filter-out vxworks7%, $(target_os))),)\n+     SVX=system-vxworks7\n+  else\n+     SVX=system-vxworks\n+  endif\n+\n   LIBGNAT_TARGET_PAIRS = \\\n   a-intnam.ads<a-intnam-vxworks.ads \\\n   a-numaux.ads<a-numaux-vxworks.ads \\\n@@ -1010,7 +1019,7 @@ ifeq ($(strip $(filter-out arm% coff wrs vx%,$(target_cpu) $(target_vendor) $(ta\n     s-vxwext.ads<s-vxwext-rtp.ads \\\n     s-vxwext.adb<s-vxwext-rtp-smp.adb \\\n     s-tpopsp.adb<s-tpopsp-vxworks-tls.adb \\\n-    system.ads<system-vxworks-arm-rtp-smp.ads\n+    system.ads<$(SVX)-arm-rtp-smp.ads\n \n     EXTRA_LIBGNAT_OBJS+=affinity.o sigtramp-vxworks.o\n     EXTRA_LIBGNAT_SRCS+=sigtramp.h"}]}