{"sha": "02f06e649d274e60c4c26267ec82d917daddd15b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDJmMDZlNjQ5ZDI3NGU2MGM0YzI2MjY3ZWM4MmQ5MTdkYWRkZDE1Yg==", "commit": {"author": {"name": "Greg McGary", "email": "gkm@gnu.org", "date": "1999-10-16T01:26:10Z"}, "committer": {"name": "Greg McGary", "email": "gkm@gcc.gnu.org", "date": "1999-10-16T01:26:10Z"}, "message": "top.h (ffe_is_subscript_check_): Remove extern decl.\n\n* top.h (ffe_is_subscript_check_): Remove extern decl.\n(ffe_is_subscript_check, ffe_set_is_subscript_check): Remove macros.\n* top.c (ffe_is_subscript_check_): Remove global variable.\n(ffe_decode_option): Remove \"(no-)bounds-check\" flag handling.\nSet flag_bounds_check for \"(no-)fortran-bounds-check\".\n* com.c\n(ffecom_arrayref_): s/ffe_is_subscript_check ()/flag_bounds_check/\n(ffecom_char_args_x_): Ditto.\n\nFrom-SVN: r30037", "tree": {"sha": "fb5c7005318a50727d08ebfd421953c5982fe66f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fb5c7005318a50727d08ebfd421953c5982fe66f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/02f06e649d274e60c4c26267ec82d917daddd15b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/02f06e649d274e60c4c26267ec82d917daddd15b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/02f06e649d274e60c4c26267ec82d917daddd15b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/02f06e649d274e60c4c26267ec82d917daddd15b/comments", "author": null, "committer": null, "parents": [{"sha": "13f9ac51e34061acb318e8d7a8195debf87e0ec3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13f9ac51e34061acb318e8d7a8195debf87e0ec3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/13f9ac51e34061acb318e8d7a8195debf87e0ec3"}], "stats": {"total": 41, "additions": 22, "deletions": 19}, "files": [{"sha": "91433a2192ec20c3cc2d3f3ce46bbf7c80509b9f", "filename": "gcc/f/ChangeLog", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02f06e649d274e60c4c26267ec82d917daddd15b/gcc%2Ff%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02f06e649d274e60c4c26267ec82d917daddd15b/gcc%2Ff%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2FChangeLog?ref=02f06e649d274e60c4c26267ec82d917daddd15b", "patch": "@@ -1,3 +1,14 @@\n+Fri Oct 15 15:18:12 1999  Greg McGary  <gkm@gnu.org>\n+\n+\t* top.h (ffe_is_subscript_check_): Remove extern decl.\n+\t(ffe_is_subscript_check, ffe_set_is_subscript_check): Remove macros.\n+\t* top.c (ffe_is_subscript_check_): Remove global variable.\n+\t(ffe_decode_option): Remove \"(no-)bounds-check\" flag handling.\n+\tSet flag_bounds_check for \"(no-)fortran-bounds-check\".\n+\t* com.c\n+\t(ffecom_arrayref_): s/ffe_is_subscript_check ()/flag_bounds_check/\n+\t(ffecom_char_args_x_): Ditto.\n+\n Sun Oct 10 08:40:18 1999  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* proj.h: Use HAVE_GCC_VERSION instead of explicitly testing\n@@ -60,7 +71,7 @@ Sat Sep  4 13:46:27 1999  Mark Mitchell  <mark@codesourcery.com>\n \t* Make-lang.in (f771): Depend on ggc-callbacks.o.\n \t* Makefile.in (OBJS): Add ggc-callbacks.o.\n \t(OBJDEPS): Likewise.\n-\t\n+\n Mon Aug 30 22:05:53 1999  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* com.c (language_string): Constify."}, {"sha": "9420b38bd4d31541eb167e173ac4343d558b4921", "filename": "gcc/f/com.c", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02f06e649d274e60c4c26267ec82d917daddd15b/gcc%2Ff%2Fcom.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02f06e649d274e60c4c26267ec82d917daddd15b/gcc%2Ff%2Fcom.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fcom.c?ref=02f06e649d274e60c4c26267ec82d917daddd15b", "patch": "@@ -1,5 +1,5 @@\n /* com.c -- Implementation File (module.c template V1.0)\n-   Copyright (C) 1995-1998 Free Software Foundation, Inc.\n+   Copyright (C) 1995-1999 Free Software Foundation, Inc.\n    Contributed by James Craig Burley.\n \n This file is part of GNU Fortran.\n@@ -952,7 +952,7 @@ ffecom_arrayref_ (tree item, ffebld expr, int want_ptr)\n \t{\n \t  min = TYPE_MIN_VALUE (TYPE_DOMAIN (array));\n \t  element = ffecom_expr_ (dims[i], NULL, NULL, NULL, FALSE, TRUE);\n-\t  if (ffe_is_subscript_check ())\n+\t  if (flag_bounds_check)\n \t    element = ffecom_subscript_check_ (array, element, i, total_dims,\n \t\t\t\t\t       array_name);\n \t  if (element == error_mark_node)\n@@ -998,7 +998,7 @@ ffecom_arrayref_ (tree item, ffebld expr, int want_ptr)\n \t  array = TYPE_MAIN_VARIANT (TREE_TYPE (item));\n \n \t  element = ffecom_expr_ (dims[i], NULL, NULL, NULL, FALSE, TRUE);\n-\t  if (ffe_is_subscript_check ())\n+\t  if (flag_bounds_check)\n \t    element = ffecom_subscript_check_ (array, element, i, total_dims,\n \t\t\t\t\t       array_name);\n \t  if (element == error_mark_node)\n@@ -2126,7 +2126,7 @@ ffecom_char_args_x_ (tree *xitem, tree *length, ffebld expr, bool with_null)\n \t    else\n \t      {\n \t\tend_tree = ffecom_expr (end);\n-\t\tif (ffe_is_subscript_check ())\n+\t\tif (flag_bounds_check)\n \t\t  end_tree = ffecom_subscript_check_ (array, end_tree, 1, 0,\n \t\t\t\t\t\t      char_name);\n \t\tend_tree = convert (ffecom_f2c_ftnlen_type_node,\n@@ -2144,7 +2144,7 @@ ffecom_char_args_x_ (tree *xitem, tree *length, ffebld expr, bool with_null)\n \telse\n \t  {\n \t    start_tree = ffecom_expr (start);\n-\t    if (ffe_is_subscript_check ())\n+\t    if (flag_bounds_check)\n \t      start_tree = ffecom_subscript_check_ (array, start_tree, 0, 0,\n \t\t\t\t\t\t    char_name);\n \t    start_tree = convert (ffecom_f2c_ftnlen_type_node,\n@@ -2177,7 +2177,7 @@ ffecom_char_args_x_ (tree *xitem, tree *length, ffebld expr, bool with_null)\n \t    else\n \t      {\n \t\tend_tree = ffecom_expr (end);\n-\t\tif (ffe_is_subscript_check ())\n+\t\tif (flag_bounds_check)\n \t\t  end_tree = ffecom_subscript_check_ (array, end_tree, 1, 0,\n \t\t\t\t\t\t      char_name);\n \t\tend_tree = convert (ffecom_f2c_ftnlen_type_node,"}, {"sha": "6b199881282e8247c6080b042fc67df83111758b", "filename": "gcc/f/top.c", "status": "modified", "additions": 3, "deletions": 8, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02f06e649d274e60c4c26267ec82d917daddd15b/gcc%2Ff%2Ftop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02f06e649d274e60c4c26267ec82d917daddd15b/gcc%2Ff%2Ftop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Ftop.c?ref=02f06e649d274e60c4c26267ec82d917daddd15b", "patch": "@@ -1,5 +1,5 @@\n /* top.c -- Implementation File (module.c template V1.0)\n-   Copyright (C) 1995-1997 Free Software Foundation, Inc.\n+   Copyright (C) 1995-1997, 1999 Free Software Foundation, Inc.\n    Contributed by James Craig Burley.\n \n This file is part of GNU Fortran.\n@@ -83,7 +83,6 @@ bool ffe_is_mainprog_;\t\t/* TRUE if current prog unit known to be\n bool ffe_is_null_version_ = FALSE;\n bool ffe_is_onetrip_ = FALSE;\n bool ffe_is_silent_ = TRUE;\n-bool ffe_is_subscript_check_ = FALSE;\n bool ffe_is_typeless_boz_ = FALSE;\n bool ffe_is_pedantic_ = FFETARGET_defaultIS_PEDANTIC;\n bool ffe_is_saveall_;\t\t/* TRUE if mainprog or SAVE (no args) seen. */\n@@ -323,14 +322,10 @@ ffe_decode_option (argc, argv)\n \tffe_set_is_globals (TRUE);\n       else if (strcmp (&opt[2], \"no-globals\") == 0)\n \tffe_set_is_globals (FALSE);\n-      else if (strcmp (&opt[2], \"bounds-check\") == 0)\n-\tffe_set_is_subscript_check (TRUE);\n-      else if (strcmp (&opt[2], \"no-bounds-check\") == 0)\n-\tffe_set_is_subscript_check (FALSE);\n       else if (strcmp (&opt[2], \"fortran-bounds-check\") == 0)\n-\tffe_set_is_subscript_check (TRUE);\n+\tflag_bounds_check = TRUE;\n       else if (strcmp (&opt[2], \"no-fortran-bounds-check\") == 0)\n-\tffe_set_is_subscript_check (FALSE);\n+\tflag_bounds_check = FALSE;\n       else if (strcmp (&opt[2], \"typeless-boz\") == 0)\n \tffe_set_is_typeless_boz (TRUE);\n       else if (strcmp (&opt[2], \"no-typeless-boz\") == 0)"}, {"sha": "3c92c2692267175b25a814be7896c895c7658a13", "filename": "gcc/f/top.h", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02f06e649d274e60c4c26267ec82d917daddd15b/gcc%2Ff%2Ftop.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02f06e649d274e60c4c26267ec82d917daddd15b/gcc%2Ff%2Ftop.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Ftop.h?ref=02f06e649d274e60c4c26267ec82d917daddd15b", "patch": "@@ -1,5 +1,5 @@\n /* top.h -- Public #include File (module.h template V1.0)\n-   Copyright (C) 1995-1997 Free Software Foundation, Inc.\n+   Copyright (C) 1995-1997, 1999 Free Software Foundation, Inc.\n    Contributed by James Craig Burley.\n \n This file is part of GNU Fortran.\n@@ -98,7 +98,6 @@ extern bool ffe_is_mainprog_;\n extern bool ffe_is_null_version_;\n extern bool ffe_is_onetrip_;\n extern bool ffe_is_silent_;\n-extern bool ffe_is_subscript_check_;\n extern bool ffe_is_typeless_boz_;\n extern bool ffe_is_pedantic_;\n extern bool ffe_is_saveall_;\n@@ -191,7 +190,6 @@ void ffe_terminate_4 (void);\n #define ffe_is_saveall() ffe_is_saveall_\n #define ffe_is_second_underscore() ffe_is_second_underscore_\n #define ffe_is_silent() ffe_is_silent_\n-#define ffe_is_subscript_check() ffe_is_subscript_check_\n #define ffe_is_typeless_boz() ffe_is_typeless_boz_\n #define ffe_is_ugly_args() ffe_is_ugly_args_\n #define ffe_is_ugly_assign() ffe_is_ugly_assign_\n@@ -243,7 +241,6 @@ void ffe_terminate_4 (void);\n #define ffe_set_is_saveall(f) (ffe_is_saveall_ = (f))\n #define ffe_set_is_second_underscore(f) (ffe_is_second_underscore_ = (f))\n #define ffe_set_is_silent(f) (ffe_is_silent_ = (f))\n-#define ffe_set_is_subscript_check(f) (ffe_is_subscript_check_ = (f))\n #define ffe_set_is_typeless_boz(f) (ffe_is_typeless_boz_ = (f))\n #define ffe_set_is_ugly_args(f) (ffe_is_ugly_args_ = (f))\n #define ffe_set_is_ugly_assign(f) (ffe_is_ugly_assign_ = (f))"}]}