{"sha": "53fcc46339239c4958e2a15bb9e59274133bbcf7", "node_id": "C_kwDOANBUbNoAKDUzZmNjNDYzMzkyMzljNDk1OGUyYTE1YmI5ZTU5Mjc0MTMzYmJjZjc", "commit": {"author": {"name": "Uros Bizjak", "email": "ubizjak@gmail.com", "date": "2022-02-10T16:23:17Z"}, "committer": {"name": "Uros Bizjak", "email": "ubizjak@gmail.com", "date": "2022-02-10T16:23:59Z"}, "message": "i386: Fix vec_unpacks_float_lo_v4si operand constraint [PR104469]\n\n2022-02-10  Uro\u0161 Bizjak  <ubizjak@gmail.com>\n\ngcc/ChangeLog:\n\n\tPR target/104469\n\t* config/i386/sse.md (vec_unpacks_float_lo_v4si):\n\tChange operand 1 constraint to register_operand.\n\ngcc/testsuite/ChangeLog:\n\n\tPR target/104469\n\t* gcc.target/i386/pr104469.c: New test.", "tree": {"sha": "dec5314a067ea00f6b3774e853c9f69c44950887", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dec5314a067ea00f6b3774e853c9f69c44950887"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/53fcc46339239c4958e2a15bb9e59274133bbcf7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53fcc46339239c4958e2a15bb9e59274133bbcf7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/53fcc46339239c4958e2a15bb9e59274133bbcf7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53fcc46339239c4958e2a15bb9e59274133bbcf7/comments", "author": {"login": "ubizjak", "id": 55479990, "node_id": "MDQ6VXNlcjU1NDc5OTkw", "avatar_url": "https://avatars.githubusercontent.com/u/55479990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubizjak", "html_url": "https://github.com/ubizjak", "followers_url": "https://api.github.com/users/ubizjak/followers", "following_url": "https://api.github.com/users/ubizjak/following{/other_user}", "gists_url": "https://api.github.com/users/ubizjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubizjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubizjak/subscriptions", "organizations_url": "https://api.github.com/users/ubizjak/orgs", "repos_url": "https://api.github.com/users/ubizjak/repos", "events_url": "https://api.github.com/users/ubizjak/events{/privacy}", "received_events_url": "https://api.github.com/users/ubizjak/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ubizjak", "id": 55479990, "node_id": "MDQ6VXNlcjU1NDc5OTkw", "avatar_url": "https://avatars.githubusercontent.com/u/55479990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubizjak", "html_url": "https://github.com/ubizjak", "followers_url": "https://api.github.com/users/ubizjak/followers", "following_url": "https://api.github.com/users/ubizjak/following{/other_user}", "gists_url": "https://api.github.com/users/ubizjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubizjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubizjak/subscriptions", "organizations_url": "https://api.github.com/users/ubizjak/orgs", "repos_url": "https://api.github.com/users/ubizjak/repos", "events_url": "https://api.github.com/users/ubizjak/events{/privacy}", "received_events_url": "https://api.github.com/users/ubizjak/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "69febe852753448582ae4a73793816dfb9d91c3b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69febe852753448582ae4a73793816dfb9d91c3b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/69febe852753448582ae4a73793816dfb9d91c3b"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "b2f56345c6504ffe07c80227b466c5be4283208d", "filename": "gcc/config/i386/sse.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53fcc46339239c4958e2a15bb9e59274133bbcf7/gcc%2Fconfig%2Fi386%2Fsse.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53fcc46339239c4958e2a15bb9e59274133bbcf7/gcc%2Fconfig%2Fi386%2Fsse.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fsse.md?ref=53fcc46339239c4958e2a15bb9e59274133bbcf7", "patch": "@@ -9223,7 +9223,7 @@\n (define_expand \"vec_unpacks_float_hi_v8si\"\n   [(set (match_dup 2)\n \t(vec_select:V4SI\n-\t  (match_operand:V8SI 1 \"vector_operand\")\n+\t  (match_operand:V8SI 1 \"register_operand\")\n \t  (parallel [(const_int 4) (const_int 5)\n \t\t     (const_int 6) (const_int 7)])))\n    (set (match_operand:V4DF 0 \"register_operand\")"}, {"sha": "39cc31fde1f855050695b63d4fc73f10d52f09da", "filename": "gcc/testsuite/gcc.target/i386/pr104469.c", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53fcc46339239c4958e2a15bb9e59274133bbcf7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr104469.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53fcc46339239c4958e2a15bb9e59274133bbcf7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr104469.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr104469.c?ref=53fcc46339239c4958e2a15bb9e59274133bbcf7", "patch": "@@ -0,0 +1,12 @@\n+/* PR target/104469 */\n+/* { dg-do compile } */\n+/* { dg-options \"-mavx512f\" } */\n+\n+typedef double __attribute__((__vector_size__ (64))) F;\n+typedef int __attribute__((__vector_size__ (32))) V;\n+\n+F\n+foo (V v)\n+{\n+  return __builtin_convertvector (v, F);\n+}"}]}