{"sha": "f0e7963fb90348ae34577e0060dc80d03d71279e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjBlNzk2M2ZiOTAzNDhhZTM0NTc3ZTAwNjBkYzgwZDAzZDcxMjc5ZQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2013-10-10T10:50:15Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2013-10-10T10:50:15Z"}, "message": "[multiple changes]\n\n2013-10-10  Ed Schonberg  <schonberg@adacore.com>\n\n\t* sem_ch4.adb (Analyze_Selected_Component,\n\tHas_Mode_Conformant_Spec): If selected component may be an\n\tindexing of a parameterless call to a protected function, and\n\texpansion is disabled, this is a valid candidate interpretation.\n\n2013-10-10  Arnaud Charlet  <charlet@adacore.com>\n\n\t* gnat_ugn.texi: Minor editing.\n\nFrom-SVN: r203345", "tree": {"sha": "2762ba4669f6d02e2451003fd04ef8dff4b03d66", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2762ba4669f6d02e2451003fd04ef8dff4b03d66"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f0e7963fb90348ae34577e0060dc80d03d71279e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f0e7963fb90348ae34577e0060dc80d03d71279e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f0e7963fb90348ae34577e0060dc80d03d71279e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f0e7963fb90348ae34577e0060dc80d03d71279e/comments", "author": null, "committer": null, "parents": [{"sha": "0c5dba7ff5ca748346488e651641e4b93eb53a17", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c5dba7ff5ca748346488e651641e4b93eb53a17", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0c5dba7ff5ca748346488e651641e4b93eb53a17"}], "stats": {"total": 32, "additions": 29, "deletions": 3}, "files": [{"sha": "cd6a678cb39b24164cfe01255590bbee658478c8", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f0e7963fb90348ae34577e0060dc80d03d71279e/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f0e7963fb90348ae34577e0060dc80d03d71279e/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=f0e7963fb90348ae34577e0060dc80d03d71279e", "patch": "@@ -1,3 +1,14 @@\n+2013-10-10  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* sem_ch4.adb (Analyze_Selected_Component,\n+\tHas_Mode_Conformant_Spec): If selected component may be an\n+\tindexing of a parameterless call to a protected function, and\n+\texpansion is disabled, this is a valid candidate interpretation.\n+\n+2013-10-10  Arnaud Charlet  <charlet@adacore.com>\n+\n+\t* gnat_ugn.texi: Minor editing.\n+\n 2013-10-10  Robert Dewar  <dewar@adacore.com>\n \n \t* gnatlink.adb: Minor reformatting."}, {"sha": "eebd799ad762f37c13da34c0f889a319e50e6fd7", "filename": "gcc/ada/gnat_ugn.texi", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f0e7963fb90348ae34577e0060dc80d03d71279e/gcc%2Fada%2Fgnat_ugn.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f0e7963fb90348ae34577e0060dc80d03d71279e/gcc%2Fada%2Fgnat_ugn.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_ugn.texi?ref=f0e7963fb90348ae34577e0060dc80d03d71279e", "patch": "@@ -241,7 +241,7 @@ By default, @value{EDITION} assumes Ada 2012, but you can override with a\n compiler switch (@pxref{Compiling Different Versions of Ada})\n to explicitly specify the language version.\n Throughout this manual, references to ``Ada'' without a year suffix\n-apply to both all Ada 95/2005/2012 versions of the language.\n+apply to all Ada 95/2005/2012 versions of the language.\n \n @ifclear FSFEDITION\n For ease of exposition, ``@value{EDITION}'' will be referred to simply as"}, {"sha": "9fcd6acbdfca46849aa507cfa7689b226017d302", "filename": "gcc/ada/sem_ch4.adb", "status": "modified", "additions": 17, "deletions": 2, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f0e7963fb90348ae34577e0060dc80d03d71279e/gcc%2Fada%2Fsem_ch4.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f0e7963fb90348ae34577e0060dc80d03d71279e/gcc%2Fada%2Fsem_ch4.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch4.adb?ref=f0e7963fb90348ae34577e0060dc80d03d71279e", "patch": "@@ -3962,10 +3962,25 @@ package body Sem_Ch4 is\n             Next (Param);\n          end loop;\n \n-         --  One of the specs has additional formals\n+         --  One of the specs has additional formals, there is no match,\n+         --  unless this may be an indexing of a parameterless call.\n+\n+         --  Note that when expansion is disabled, the corresponding record\n+         --  type of synchronized types is not constructed, so that there is\n+         --  no point is attempting an interpretation as a prefixed call, as\n+         --  this is bound to fail because the primitive operations will not\n+         --  be properly located.\n \n          if Present (Comp_Param) or else Present (Param) then\n-            return False;\n+            if Needs_No_Actuals (Comp)\n+              and then Is_Array_Type (Etype (Comp))\n+              and then not Expander_Active\n+            then\n+               return True;\n+\n+            else\n+               return False;\n+            end if;\n          end if;\n \n          return True;"}]}