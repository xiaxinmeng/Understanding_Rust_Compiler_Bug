{"sha": "84e306b45a480df7ece37c21419192b243a4c322", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODRlMzA2YjQ1YTQ4MGRmN2VjZTM3YzIxNDE5MTkyYjI0M2E0YzMyMg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2001-04-25T21:56:54Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2001-04-25T21:56:54Z"}, "message": "i386.c (ix86_expand_epilogue): Properly compute size of registers to restore along non eh_return path.\n\n        * config/i386/i386.c (ix86_expand_epilogue): Properly compute size\n        of registers to restore along non eh_return path.\n\nFrom-SVN: r41555", "tree": {"sha": "3ee320e66a76e12536715c4ad5ede80409517f64", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3ee320e66a76e12536715c4ad5ede80409517f64"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/84e306b45a480df7ece37c21419192b243a4c322", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84e306b45a480df7ece37c21419192b243a4c322", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84e306b45a480df7ece37c21419192b243a4c322", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84e306b45a480df7ece37c21419192b243a4c322/comments", "author": null, "committer": null, "parents": [{"sha": "dd6f366250e93414a7996ec8d28a9332a1ce8478", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd6f366250e93414a7996ec8d28a9332a1ce8478", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd6f366250e93414a7996ec8d28a9332a1ce8478"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "7e58efaeb56377d367fc0164f0d64abc7f69e75d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84e306b45a480df7ece37c21419192b243a4c322/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84e306b45a480df7ece37c21419192b243a4c322/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=84e306b45a480df7ece37c21419192b243a4c322", "patch": "@@ -1,3 +1,8 @@\n+2001-04-25  Richard Henderson  <rth@redhat.com>\n+\n+\t* config/i386/i386.c (ix86_expand_epilogue): Properly compute size\n+\tof registers to restore along non eh_return path.\n+\n 2001-04-25  Jakub Jelinek  <jakub@redhat.com>\n \n \t* c-format.c (check_format_info_recurse): Handle"}, {"sha": "a0e40ba309eaa5bbfcccca0f09ab7099bbf78a2b", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84e306b45a480df7ece37c21419192b243a4c322/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84e306b45a480df7ece37c21419192b243a4c322/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=84e306b45a480df7ece37c21419192b243a4c322", "patch": "@@ -2591,8 +2591,14 @@ ix86_expand_epilogue (style)\n \n   ix86_compute_frame_layout (&frame);\n \n-  /* Calculate start of saved registers relative to ebp.  */\n-  offset = -frame.nregs * UNITS_PER_WORD;\n+  /* Calculate start of saved registers relative to ebp.  Special care \n+     must be taken for the normal return case of a function using\n+     eh_return: the eax and edx registers are marked as saved, but not\n+     restored along this path.  */\n+  offset = frame.nregs;\n+  if (current_function_calls_eh_return && style != 2)\n+    offset -= 2;\n+  offset *= -UNITS_PER_WORD;\n \n #ifdef FUNCTION_BLOCK_PROFILER_EXIT\n   if (profile_block_flag == 2)"}]}