{"sha": "ed3a56f30b43a5d788eabae3f384baf60fed40f3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWQzYTU2ZjMwYjQzYTVkNzg4ZWFiYWUzZjM4NGJhZjYwZmVkNDBmMw==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2009-10-22T08:56:00Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2009-10-22T08:56:00Z"}, "message": "configure.ac: Do not set LIBS for ppl/cloog checks.\n\n2009-10-22  Richard Guenther  <rguenther@suse.de>\n\n\t* configure.ac: Do not set LIBS for ppl/cloog checks.  Disable\n\tcloog if the ppl version check failed.  Move flags saving\n\tbefore setting in libelf check.\n\t* configure: Regenerate.\n\nFrom-SVN: r153447", "tree": {"sha": "95458b6cff72ef253f9e1a47fc83cbb1a141c5df", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/95458b6cff72ef253f9e1a47fc83cbb1a141c5df"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ed3a56f30b43a5d788eabae3f384baf60fed40f3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed3a56f30b43a5d788eabae3f384baf60fed40f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ed3a56f30b43a5d788eabae3f384baf60fed40f3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed3a56f30b43a5d788eabae3f384baf60fed40f3/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "76d02e9fa7f8acbbc3fe7a6c5dd6156777f00f24", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/76d02e9fa7f8acbbc3fe7a6c5dd6156777f00f24", "html_url": "https://github.com/Rust-GCC/gccrs/commit/76d02e9fa7f8acbbc3fe7a6c5dd6156777f00f24"}], "stats": {"total": 43, "additions": 17, "deletions": 26}, "files": [{"sha": "00cd7e3e019038194774317256754fe3efc6f6c0", "filename": "ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed3a56f30b43a5d788eabae3f384baf60fed40f3/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed3a56f30b43a5d788eabae3f384baf60fed40f3/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=ed3a56f30b43a5d788eabae3f384baf60fed40f3", "patch": "@@ -1,3 +1,10 @@\n+2009-10-22  Richard Guenther  <rguenther@suse.de>\n+\n+\t* configure.ac: Do not set LIBS for ppl/cloog checks.  Disable\n+\tcloog if the ppl version check failed.  Move flags saving\n+\tbefore setting in libelf check.\n+\t* configure: Regenerate.\n+\n 2009-10-21  Richard Guenther  <rguenther@suse.de>\n \n \t* configure.ac: Adjust the ppl and cloog configure to work as"}, {"sha": "7ceaafc4a155f8c5fa1d0f8e72ee1a2a843f36cb", "filename": "configure", "status": "modified", "additions": 5, "deletions": 13, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed3a56f30b43a5d788eabae3f384baf60fed40f3/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed3a56f30b43a5d788eabae3f384baf60fed40f3/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=ed3a56f30b43a5d788eabae3f384baf60fed40f3", "patch": "@@ -5771,25 +5771,21 @@ case $with_ppl in\n     ppllibs=\n     ;;\n   yes)\n-    LIBS=\"$ppllibs $LIBS\"\n     ;;\n   *)\n     ppllibs=\"-L$with_ppl/lib -lppl_c -lppl -lgmpxx\"\n     pplinc=\"-I$with_ppl/include $pplinc\"\n-    LIBS=\"$ppllibs $LIBS\"\n     ;;\n esac\n if test \"x$with_ppl_include\" != x; then\n   pplinc=\"-I$with_ppl_include $pplinc\"\n fi\n if test \"x$with_ppl_lib\" != x; then\n   ppllibs=\"-L$with_ppl_lib -lppl_c -lppl -lgmpxx\"\n-  LIBS=\"$ppllibs $LIBS\"\n fi\n if test \"x$with_ppl$with_ppl_include$with_ppl_lib\" = x && test -d ${srcdir}/ppl; then\n   ppllibs='-L$$r/$(HOST_SUBDIR)/ppl/.libs -L$$r/$(HOST_SUBDIR)/ppl/_libs -lppl_c -lppl -lgmpxx '\n   pplinc='-I$$r/$(HOST_SUBDIR)/ppl/include -I$$s/ppl/include '\n-  LIBS=\"$ppllibs $LIBS\"\n fi\n \n # Check whether --enable-ppl-version-check was given.\n@@ -5825,7 +5821,7 @@ if ac_fn_c_try_compile \"$LINENO\"; then :\n $as_echo \"yes\" >&6; }\n else\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }; ppllibs= ; pplinc=\n+$as_echo \"no\" >&6; }; ppllibs= ; pplinc= ; with_ppl=no\n fi\n rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n   CFLAGS=\"$saved_CFLAGS\"\n@@ -5871,25 +5867,21 @@ case $with_cloog in\n     clooginc=\n     ;;\n   yes)\n-    LIBS=\"$clooglibs $LIBS\"\n     ;;\n   *)\n     clooglibs=\"-L$with_cloog/lib -lcloog\"\n     clooginc=\"-I$with_cloog/include -DCLOOG_PPL_BACKEND \"\n-    LIBS=\"$clooglibs $LIBS\"\n     ;;\n esac\n if test \"x$with_cloog_include\" != x; then\n   clooginc=\"-I$with_cloog_include -DCLOOG_PPL_BACKEND \"\n fi\n if test \"x$with_cloog_lib\" != x; then\n   clooglibs=\"-L$with_cloog_lib -lcloog\"\n-  LIBS=\"$clooglibs $LIBS\"\n fi\n if test \"x$with_cloog$with_cloog_include$with_cloog_lib\" = x && test -d ${srcdir}/cloog; then\n   clooglibs='-L$$r/$(HOST_SUBDIR)/cloog/.libs -L$$r/$(HOST_SUBDIR)/cloog/_libs -lcloog '\n   clooginc='-I$$r/$(HOST_SUBDIR)/cloog/include -I$$s/cloog/include -DCLOOG_PPL_BACKEND '\n-  LIBS=\"$clooglibs $LIBS\"\n fi\n \n # Check whether --enable-cloog-version-check was given.\n@@ -5967,6 +5959,10 @@ if test \"${with_libelf_lib+set}\" = set; then :\n fi\n \n \n+  saved_CFLAGS=\"$CFLAGS\"\n+  saved_CPPFLAGS=\"$CPPFLAGS\"\n+  saved_LIBS=\"$LIBS\"\n+\n   case $with_libelf in\n     \"\")\n       libelflibs=\"-lelf\"\n@@ -5995,10 +5991,6 @@ fi\n     LIBS=\"$libelflibs $LIBS\"\n   fi\n \n-  saved_CFLAGS=\"$CFLAGS\"\n-  saved_CPPFLAGS=\"$CPPFLAGS\"\n-  saved_LIBS=\"$LIBS\"\n-\n   CFLAGS=\"$CFLAGS $libelfinc\"\n   CPPFLAGS=\"$CPPFLAGS $libelfinc\"\n   LIBS=\"$LIBS $libelflibs\""}, {"sha": "34c34959b87c8fab9aca6b2ae671ecfd1a0bdd6e", "filename": "configure.ac", "status": "modified", "additions": 5, "deletions": 13, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed3a56f30b43a5d788eabae3f384baf60fed40f3/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed3a56f30b43a5d788eabae3f384baf60fed40f3/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=ed3a56f30b43a5d788eabae3f384baf60fed40f3", "patch": "@@ -1523,25 +1523,21 @@ case $with_ppl in\n     ppllibs=\n     ;;\n   yes)\n-    LIBS=\"$ppllibs $LIBS\"\n     ;;\n   *)\n     ppllibs=\"-L$with_ppl/lib -lppl_c -lppl -lgmpxx\"\n     pplinc=\"-I$with_ppl/include $pplinc\"\n-    LIBS=\"$ppllibs $LIBS\"\n     ;;\n esac\n if test \"x$with_ppl_include\" != x; then\n   pplinc=\"-I$with_ppl_include $pplinc\"\n fi\n if test \"x$with_ppl_lib\" != x; then\n   ppllibs=\"-L$with_ppl_lib -lppl_c -lppl -lgmpxx\"\n-  LIBS=\"$ppllibs $LIBS\"\n fi\n if test \"x$with_ppl$with_ppl_include$with_ppl_lib\" = x && test -d ${srcdir}/ppl; then\n   ppllibs='-L$$r/$(HOST_SUBDIR)/ppl/.libs -L$$r/$(HOST_SUBDIR)/ppl/_libs -lppl_c -lppl -lgmpxx '\n   pplinc='-I$$r/$(HOST_SUBDIR)/ppl/include -I$$s/ppl/include '\n-  LIBS=\"$ppllibs $LIBS\"\n fi\n \n AC_ARG_ENABLE(ppl-version-check,\n@@ -1557,7 +1553,7 @@ if test \"x$with_ppl\" != \"xno\" -a \"${ENABLE_PPL_CHECK}\" = \"yes\"; then\n   #if PPL_VERSION_MAJOR != $ppl_major_version || PPL_VERSION_MINOR != $ppl_minor_version\n   choke me\n   #endif\n-  ], [AC_MSG_RESULT([yes])], [AC_MSG_RESULT([no]); ppllibs= ; pplinc= ])\n+  ], [AC_MSG_RESULT([yes])], [AC_MSG_RESULT([no]); ppllibs= ; pplinc= ; with_ppl=no ])\n   CFLAGS=\"$saved_CFLAGS\"\n fi\n \n@@ -1586,25 +1582,21 @@ case $with_cloog in\n     clooginc=\n     ;;\n   yes)\n-    LIBS=\"$clooglibs $LIBS\"\n     ;;\n   *)\n     clooglibs=\"-L$with_cloog/lib -lcloog\"\n     clooginc=\"-I$with_cloog/include -DCLOOG_PPL_BACKEND \"\n-    LIBS=\"$clooglibs $LIBS\"\n     ;;\n esac\n if test \"x$with_cloog_include\" != x; then\n   clooginc=\"-I$with_cloog_include -DCLOOG_PPL_BACKEND \"\n fi\n if test \"x$with_cloog_lib\" != x; then\n   clooglibs=\"-L$with_cloog_lib -lcloog\"\n-  LIBS=\"$clooglibs $LIBS\"\n fi\n if test \"x$with_cloog$with_cloog_include$with_cloog_lib\" = x && test -d ${srcdir}/cloog; then\n   clooglibs='-L$$r/$(HOST_SUBDIR)/cloog/.libs -L$$r/$(HOST_SUBDIR)/cloog/_libs -lcloog '\n   clooginc='-I$$r/$(HOST_SUBDIR)/cloog/include -I$$s/cloog/include -DCLOOG_PPL_BACKEND '\n-  LIBS=\"$clooglibs $LIBS\"\n fi\n \n AC_ARG_ENABLE(cloog-version-check,\n@@ -1644,6 +1636,10 @@ if test x\"$enable_lto\" = x\"yes\" ; then\n \n   AC_ARG_WITH(libelf_lib, [  --with-libelf-lib=PATH   Specify the directory for the installed libelf library])\n \n+  saved_CFLAGS=\"$CFLAGS\"\n+  saved_CPPFLAGS=\"$CPPFLAGS\"\n+  saved_LIBS=\"$LIBS\"\n+\n   case $with_libelf in \n     \"\")\n       libelflibs=\"-lelf\"\n@@ -1672,10 +1668,6 @@ if test x\"$enable_lto\" = x\"yes\" ; then\n     LIBS=\"$libelflibs $LIBS\"\n   fi\n \n-  saved_CFLAGS=\"$CFLAGS\"\n-  saved_CPPFLAGS=\"$CPPFLAGS\"\n-  saved_LIBS=\"$LIBS\"\n-\n   CFLAGS=\"$CFLAGS $libelfinc\"\n   CPPFLAGS=\"$CPPFLAGS $libelfinc\"\n   LIBS=\"$LIBS $libelflibs\""}]}