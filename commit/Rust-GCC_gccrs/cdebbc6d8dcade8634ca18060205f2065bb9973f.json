{"sha": "cdebbc6d8dcade8634ca18060205f2065bb9973f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2RlYmJjNmQ4ZGNhZGU4NjM0Y2ExODA2MDIwNWYyMDY1YmI5OTczZg==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2013-02-24T18:54:37Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2013-02-24T18:54:37Z"}, "message": "re PR target/52555 (ICE unrecognizable insn with -ffast-math and __attribute__((optimize(xx))))\n\n\tPR target/52555\n\t* target-globals.c (save_target_globals): For init_reg_sets and\n\ttarget_reinit remporarily set this_fn_optabs to this_target_optabs.\n\nFrom-SVN: r196245", "tree": {"sha": "f6aba7dda6a5cd0c643a579f660e3084ce4813b0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f6aba7dda6a5cd0c643a579f660e3084ce4813b0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cdebbc6d8dcade8634ca18060205f2065bb9973f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cdebbc6d8dcade8634ca18060205f2065bb9973f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cdebbc6d8dcade8634ca18060205f2065bb9973f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cdebbc6d8dcade8634ca18060205f2065bb9973f/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "9bcc87ea41b081421d5b2205a27704308ff3f835", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9bcc87ea41b081421d5b2205a27704308ff3f835", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9bcc87ea41b081421d5b2205a27704308ff3f835"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "ca97c8a7be56a06bc025fb410858f424b9e32e92", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cdebbc6d8dcade8634ca18060205f2065bb9973f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cdebbc6d8dcade8634ca18060205f2065bb9973f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cdebbc6d8dcade8634ca18060205f2065bb9973f", "patch": "@@ -1,3 +1,9 @@\n+2013-02-24  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR target/52555\n+\t* target-globals.c (save_target_globals): For init_reg_sets and\n+\ttarget_reinit remporarily set this_fn_optabs to this_target_optabs.\n+\n 2013-02-22  James Grennahlgh  <james.greenhalgh@arm.com>\n \n \t* config/aarch64/aarch64-simd-builtins.def: Add copyright header."}, {"sha": "65ccb8af5e6a627df5cf0f3477ba3bede040270f", "filename": "gcc/target-globals.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cdebbc6d8dcade8634ca18060205f2065bb9973f/gcc%2Ftarget-globals.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cdebbc6d8dcade8634ca18060205f2065bb9973f/gcc%2Ftarget-globals.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftarget-globals.c?ref=cdebbc6d8dcade8634ca18060205f2065bb9973f", "patch": "@@ -67,6 +67,7 @@ struct target_globals *\n save_target_globals (void)\n {\n   struct target_globals *g;\n+  struct target_optabs *saved_this_fn_optabs = this_fn_optabs;\n \n   g = ggc_alloc_target_globals ();\n   g->flag_state = XCNEW (struct target_flag_state);\n@@ -86,8 +87,10 @@ save_target_globals (void)\n   g->bb_reorder = XCNEW (struct target_bb_reorder);\n   g->lower_subreg = XCNEW (struct target_lower_subreg);\n   restore_target_globals (g);\n+  this_fn_optabs = this_target_optabs;\n   init_reg_sets ();\n   target_reinit ();\n+  this_fn_optabs = saved_this_fn_optabs;\n   return g;\n }\n "}]}