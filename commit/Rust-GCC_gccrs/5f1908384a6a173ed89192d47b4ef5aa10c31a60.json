{"sha": "5f1908384a6a173ed89192d47b4ef5aa10c31a60", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWYxOTA4Mzg0YTZhMTczZWQ4OTE5MmQ0N2I0ZWY1YWExMGMzMWE2MA==", "commit": {"author": {"name": "John David Anglin", "email": "dave.anglin@nrc-cnrc.gc.ca", "date": "2004-02-28T22:40:38Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2004-02-28T22:40:38Z"}, "message": "* pa64-hpux.h (LIB_SPEC): Fix linking under HP-UX 11.00 with -p and -pg.\n\nFrom-SVN: r78632", "tree": {"sha": "3f79f4317814753251438d2ebdd19203c4c0b443", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3f79f4317814753251438d2ebdd19203c4c0b443"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5f1908384a6a173ed89192d47b4ef5aa10c31a60", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f1908384a6a173ed89192d47b4ef5aa10c31a60", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f1908384a6a173ed89192d47b4ef5aa10c31a60", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f1908384a6a173ed89192d47b4ef5aa10c31a60/comments", "author": null, "committer": null, "parents": [{"sha": "d4cd9d813cb305605f1f5e15b1cbd79a9b32f766", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4cd9d813cb305605f1f5e15b1cbd79a9b32f766", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d4cd9d813cb305605f1f5e15b1cbd79a9b32f766"}], "stats": {"total": 18, "additions": 14, "deletions": 4}, "files": [{"sha": "750d29bbce958a2d42f2a6645caff2e39501f6f4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f1908384a6a173ed89192d47b4ef5aa10c31a60/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f1908384a6a173ed89192d47b4ef5aa10c31a60/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5f1908384a6a173ed89192d47b4ef5aa10c31a60", "patch": "@@ -1,3 +1,7 @@\n+2004-02-28  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n+\n+\t* pa64-hpux.h (LIB_SPEC): Fix linking under HP-UX 11.00 with -p and -pg.\n+\n 2004-02-28  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* genattr.c (main): Don't define"}, {"sha": "098f47f79e119704e50ca362902d47838e5ca712", "filename": "gcc/config/pa/pa64-hpux.h", "status": "modified", "additions": 10, "deletions": 4, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f1908384a6a173ed89192d47b4ef5aa10c31a60/gcc%2Fconfig%2Fpa%2Fpa64-hpux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f1908384a6a173ed89192d47b4ef5aa10c31a60/gcc%2Fconfig%2Fpa%2Fpa64-hpux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa64-hpux.h?ref=5f1908384a6a173ed89192d47b4ef5aa10c31a60", "patch": "@@ -57,14 +57,20 @@ Boston, MA 02111-1307, USA.  */\n    %{static:-a archive} %{shared:%{mgnu-ld:-shared}%{!mgnu-ld:-b}}\"\n #endif\n \n-/* Like the default, except no -lg.  */\n+/* Profiling support is only provided in libc.a.  However, libprof and\n+   libgprof are only available in shared form on HP-UX 11.00.  We use\n+   the shared form if we are using the GNU linker or an archive form\n+   isn't available.  We also usually need to link with libdld and it's\n+   only available in shared form.  */\n #undef LIB_SPEC\n #define LIB_SPEC \\\n   \"%{!shared:\\\n      %{!p:%{!pg: -lc %{static:%{!nolibdld:-a shared -ldld -a archive -lc}}}}\\\n-     %{p:%{!pg:-lprof -lc\\\n-       %{static:%{!nolibdld:-a shared -ldld -a archive -lc}}}}\\\n-     %{pg:-lgprof -lc\\\n+     %{p:%{!pg:%{static:%{mgnu-ld:-a shared}%{!mgnu-ld:-a archive_shared}}\\\n+\t   -lprof %{static:-a archive} -lc\\\n+\t   %{static:%{!nolibdld:-a shared -ldld -a archive -lc}}}}\\\n+     %{pg:%{static:%{mgnu-ld:-a shared}%{!mgnu-ld:-a archive_shared}}\\\n+       -lgprof %{static:-a archive} -lc\\\n        %{static:%{!nolibdld:-a shared -ldld -a archive -lc}}}}\\\n    /usr/lib/pa20_64/milli.a\"\n "}]}