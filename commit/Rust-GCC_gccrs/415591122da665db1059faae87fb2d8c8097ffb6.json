{"sha": "415591122da665db1059faae87fb2d8c8097ffb6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDE1NTkxMTIyZGE2NjVkYjEwNTlmYWFlODdmYjJkOGM4MDk3ZmZiNg==", "commit": {"author": {"name": "Roger Sayle", "email": "roger@eyesopen.com", "date": "2003-01-25T17:37:42Z"}, "committer": {"name": "Roger Sayle", "email": "sayle@gcc.gnu.org", "date": "2003-01-25T17:37:42Z"}, "message": "cse.c (fold_rtx): Instantiate CONSTANT_P_RTX to 0 when not optimizing, even if flag_gcse is true.\n\n\n\t* cse.c (fold_rtx): Instantiate CONSTANT_P_RTX to 0 when not\n\toptimizing, even if flag_gcse is true.\n\t* toplev.c (rest_of_compilation): purge_builtin_constant_p\n\tonly needs to be called when \"optimize > 0 && flag_gcse\".\n\nFrom-SVN: r61785", "tree": {"sha": "96d3a21ee053d1cd5c6b3c5bb9f947f5d7bdccac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/96d3a21ee053d1cd5c6b3c5bb9f947f5d7bdccac"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/415591122da665db1059faae87fb2d8c8097ffb6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/415591122da665db1059faae87fb2d8c8097ffb6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/415591122da665db1059faae87fb2d8c8097ffb6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/415591122da665db1059faae87fb2d8c8097ffb6/comments", "author": null, "committer": null, "parents": [{"sha": "9bb231fd7aeb51f5bdfd40e89616ca1a6bc77eee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9bb231fd7aeb51f5bdfd40e89616ca1a6bc77eee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9bb231fd7aeb51f5bdfd40e89616ca1a6bc77eee"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "8f0f8bd6d0aa0fa408d468d448e5ef6c893f5586", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/415591122da665db1059faae87fb2d8c8097ffb6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/415591122da665db1059faae87fb2d8c8097ffb6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=415591122da665db1059faae87fb2d8c8097ffb6", "patch": "@@ -1,3 +1,10 @@\n+2002-01-25  Roger Sayle  <roger@eyesopen.com>\n+\n+\t* cse.c (fold_rtx): Instantiate CONSTANT_P_RTX to 0 when not\n+\toptimizing, even if flag_gcse is true.\n+\t* toplev.c (rest_of_compilation): purge_builtin_constant_p\n+\tonly needs to be called when \"optimize > 0 && flag_gcse\".\n+\n 2003-01-25  Roger Sayle  <roger@eyesopen.com>\n \n \t* stmt.c (emit_case_bit_tests): New routine to implement suitable"}, {"sha": "e2a04e59398e7d8f240f1ca20fe02f8ba4dd34cb", "filename": "gcc/cse.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/415591122da665db1059faae87fb2d8c8097ffb6/gcc%2Fcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/415591122da665db1059faae87fb2d8c8097ffb6/gcc%2Fcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcse.c?ref=415591122da665db1059faae87fb2d8c8097ffb6", "patch": "@@ -4338,7 +4338,7 @@ fold_rtx (x, insn)\n \t{\n \t  if (const_arg0)\n \t    return const1_rtx;\n-\t  if (!flag_gcse)\n+\t  if (optimize == 0 || !flag_gcse)\n \t    return const0_rtx;\n \t}\n       break;"}, {"sha": "60370c29213bf59c4685a15769cac1f6e4aaf75f", "filename": "gcc/toplev.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/415591122da665db1059faae87fb2d8c8097ffb6/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/415591122da665db1059faae87fb2d8c8097ffb6/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=415591122da665db1059faae87fb2d8c8097ffb6", "patch": "@@ -2925,7 +2925,8 @@ rest_of_compilation (decl)\n     }\n \n   /* Instantiate any remaining CONSTANT_P_RTX nodes.  */\n-  purge_builtin_constant_p ();\n+  if (optimize > 0 && flag_gcse)\n+    purge_builtin_constant_p ();\n \n   /* Move constant computations out of loops.  */\n "}]}