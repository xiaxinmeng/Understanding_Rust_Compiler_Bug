{"sha": "4aaf1d15d41610b0a302773be2ab4b3bd701d643", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGFhZjFkMTVkNDE2MTBiMGEzMDI3NzNiZTJhYjRiM2JkNzAxZDY0Mw==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "2011-08-29T21:29:01Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "2011-08-29T21:29:01Z"}, "message": "Change default for -msave-toc-indirect\n\nFrom-SVN: r178260", "tree": {"sha": "1d4f5ac2c876956bee30bebebc053365793bd2be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1d4f5ac2c876956bee30bebebc053365793bd2be"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4aaf1d15d41610b0a302773be2ab4b3bd701d643", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4aaf1d15d41610b0a302773be2ab4b3bd701d643", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4aaf1d15d41610b0a302773be2ab4b3bd701d643", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4aaf1d15d41610b0a302773be2ab4b3bd701d643/comments", "author": null, "committer": null, "parents": [{"sha": "cdc4cc6593e7a9e3251447b654b7fbd9b0aa1dcf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cdc4cc6593e7a9e3251447b654b7fbd9b0aa1dcf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cdc4cc6593e7a9e3251447b654b7fbd9b0aa1dcf"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "fba4f1bcf9879459f06cbbdb56e310dd8916ef6d", "filename": "gcc/config/rs6000/rs6000.opt", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4aaf1d15d41610b0a302773be2ab4b3bd701d643/gcc%2Fconfig%2Frs6000%2Frs6000.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4aaf1d15d41610b0a302773be2ab4b3bd701d643/gcc%2Fconfig%2Frs6000%2Frs6000.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.opt?ref=4aaf1d15d41610b0a302773be2ab4b3bd701d643", "patch": "@@ -526,5 +526,5 @@ Target Report Var(TARGET_POINTERS_TO_NESTED_FUNCTIONS) Init(1) Save\n Use/do not use r11 to hold the static link in calls to functions via pointers.\n \n msave-toc-indirect\n-Target Undocumented Var(TARGET_SAVE_TOC_INDIRECT) Save Init(1)\n-; Control whether we save the TOC in the prologue for indirect calls or generate the save inline\n+Target Report Var(TARGET_SAVE_TOC_INDIRECT) Save\n+Control whether we save the TOC in the prologue for indirect calls or generate the save inline"}, {"sha": "d5474fe5c3cecd65ef833b26241f1b6391054afc", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4aaf1d15d41610b0a302773be2ab4b3bd701d643/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4aaf1d15d41610b0a302773be2ab4b3bd701d643/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=4aaf1d15d41610b0a302773be2ab4b3bd701d643", "patch": "@@ -814,7 +814,8 @@ See RS/6000 and PowerPC Options.\n -mrecip -mrecip=@var{opt} -mno-recip -mrecip-precision @gol\n -mno-recip-precision @gol\n -mveclibabi=@var{type} -mfriz -mno-friz @gol\n--mpointers-to-nested-functions -mno-pointers-to-nested-functions}\n+-mpointers-to-nested-functions -mno-pointers-to-nested-functions @gol\n+-msave-toc-indirect -mno-save-toc-indirect}\n \n @emph{RX Options}\n @gccoptlist{-m64bit-doubles  -m32bit-doubles  -fpu  -nofpu@gol\n@@ -16438,6 +16439,15 @@ static chain value to be loaded in register @var{r11}.  The\n not be able to call through pointers to nested functions or pointers\n to functions compiled in other languages that use the static chain if\n you use the @option{-mno-pointers-to-nested-functions}.\n+\n+@item -msave-toc-indirect\n+@itemx -mno-save-toc-indirect\n+@opindex msave-toc-indirect\n+Generate (do not generate) code to save the TOC value in the reserved\n+stack location in the function prologue if the function calls through\n+a pointer on AIX and 64-bit Linux systems.  If the TOC value is not\n+saved in the prologue, it is saved just before the call through the\n+pointer.  The @option{-mno-save-toc-indirect} option is the default.\n @end table\n \n @node RX Options"}]}