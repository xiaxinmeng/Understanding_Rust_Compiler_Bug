{"sha": "348ab17b3d00ebf8a5d210ae05aab5f73765cf05", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzQ4YWIxN2IzZDAwZWJmOGE1ZDIxMGFlMDVhYWI1ZjczNzY1Y2YwNQ==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-05-16T04:15:14Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-05-16T04:15:14Z"}, "message": "(va_arg) [__MIPSEB__]:\n\nAfter incrementing, subtract the rounded size, not the size proper.\n\nFrom-SVN: r4478", "tree": {"sha": "d6a17d9727c25a87be2a3a52722d3a57b829213a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d6a17d9727c25a87be2a3a52722d3a57b829213a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/348ab17b3d00ebf8a5d210ae05aab5f73765cf05", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/348ab17b3d00ebf8a5d210ae05aab5f73765cf05", "html_url": "https://github.com/Rust-GCC/gccrs/commit/348ab17b3d00ebf8a5d210ae05aab5f73765cf05", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/348ab17b3d00ebf8a5d210ae05aab5f73765cf05/comments", "author": null, "committer": null, "parents": [{"sha": "85b97c484e07b37746eea1670608e97ccb6383bf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/85b97c484e07b37746eea1670608e97ccb6383bf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/85b97c484e07b37746eea1670608e97ccb6383bf"}], "stats": {"total": 16, "additions": 11, "deletions": 5}, "files": [{"sha": "3d377be9abf85e4922053f3bc240a0c640533734", "filename": "gcc/ginclude/va-mips.h", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/348ab17b3d00ebf8a5d210ae05aab5f73765cf05/gcc%2Fginclude%2Fva-mips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/348ab17b3d00ebf8a5d210ae05aab5f73765cf05/gcc%2Fginclude%2Fva-mips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fginclude%2Fva-mips.h?ref=348ab17b3d00ebf8a5d210ae05aab5f73765cf05", "patch": "@@ -47,17 +47,23 @@ void va_end (__gnuc_va_list);\t\t/* Defined in libgcc.a */\n #endif\n #define va_end(__AP)\n \n-#ifdef lint\t/* complains about constant in conditional context */\n-#define va_arg(list, mode) ((mode *)(list += __va_rounded_size(mode)))[-1]\n-\n-#else\t\t/* !lint */\n /* We cast to void * and then to TYPE * because this avoids\n    a warning about increasing the alignment requirement.  */\n+#ifdef __MIPSEB__\n+/* For big-endian machines.  */\n+#define va_arg(__AP, __type)\t\t\t\t\t\\\n+  ((__AP = (char *) ((__alignof__ (__type) > 4\t\t\t\\\n+\t\t      ? ((int)__AP + 8 - 1) & -8\t\t\\\n+\t\t      : ((int)__AP + 4 - 1) & -4)\t\t\\\n+\t\t     + __va_rounded_size (__type))),\t\t\\\n+   *(__type *) (void *) (__AP - __va_rounded_size (__type)))\n+#else\n+/* For little-endian machines.  */\n #define va_arg(__AP, __type)\t\t\t\t\t\t    \\\n   ((__type *) (void *) (__AP = (char *) ((__alignof__(__type) > 4\t    \\\n \t\t\t\t\t  ? ((int)__AP + 8 - 1) & -8\t    \\\n \t\t\t\t\t  : ((int)__AP + 4 - 1) & -4)\t    \\\n \t\t\t\t\t + __va_rounded_size(__type))))[-1]\n-#endif\t\t/* lint */\n+#endif\n \n #endif /* defined (_STDARG_H) || defined (_VARARGS_H) */"}]}