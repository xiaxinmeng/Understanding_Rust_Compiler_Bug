{"sha": "16664e6e4fb4281be6477c13989740d44c963c77", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTY2NjRlNmU0ZmI0MjgxYmU2NDc3YzEzOTg5NzQwZDQ0Yzk2M2M3Nw==", "commit": {"author": {"name": "H.J. Lu", "email": "hjl.tools@gmail.com", "date": "2020-10-09T13:12:17Z"}, "committer": {"name": "H.J. Lu", "email": "hjl.tools@gmail.com", "date": "2020-10-10T12:28:19Z"}, "message": "x86-64: Check CMPXCHG16B for x86-64-v[234]\n\nx86-64-v2 includes CMPXCHG16B.  Since -mcx16 enables CMPXCHG16B and\ndefines __GCC_HAVE_SYNC_COMPARE_AND_SWAP_16, check it in x86-64-v[234]\ntests.\n\n\tPR target/97250\n\t* gcc.target/i386/x86-64-v2.c: Verify that\n\t__GCC_HAVE_SYNC_COMPARE_AND_SWAP_16 is defined.\n\t* gcc.target/i386/x86-64-v3.c: Likewise.\n\t* gcc.target/i386/x86-64-v4.c: Likewise.", "tree": {"sha": "d4c675f04d2b09bb757cdb1052d01c3517517748", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d4c675f04d2b09bb757cdb1052d01c3517517748"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/16664e6e4fb4281be6477c13989740d44c963c77", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/16664e6e4fb4281be6477c13989740d44c963c77", "html_url": "https://github.com/Rust-GCC/gccrs/commit/16664e6e4fb4281be6477c13989740d44c963c77", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/16664e6e4fb4281be6477c13989740d44c963c77/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "02cbd79e4728319e0887ad7783297853b527bb13", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/02cbd79e4728319e0887ad7783297853b527bb13", "html_url": "https://github.com/Rust-GCC/gccrs/commit/02cbd79e4728319e0887ad7783297853b527bb13"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "f17a15de9b6a2227ac126033cacc239e7423eb74", "filename": "gcc/testsuite/gcc.target/i386/x86-64-v2.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/16664e6e4fb4281be6477c13989740d44c963c77/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fx86-64-v2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/16664e6e4fb4281be6477c13989740d44c963c77/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fx86-64-v2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fx86-64-v2.c?ref=16664e6e4fb4281be6477c13989740d44c963c77", "patch": "@@ -12,6 +12,9 @@\n #ifndef __SSE2__\n # error __SSE2__ not defined\n #endif\n+#ifndef __GCC_HAVE_SYNC_COMPARE_AND_SWAP_16\n+# error __GCC_HAVE_SYNC_COMPARE_AND_SWAP_16 not defined\n+#endif\n #ifndef __LAHF_SAHF__\n # error __LAHF_SAHF__ not defined\n #endif"}, {"sha": "784202fb26f3817ac4941e5f9723267cf7bd21c0", "filename": "gcc/testsuite/gcc.target/i386/x86-64-v3.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/16664e6e4fb4281be6477c13989740d44c963c77/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fx86-64-v3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/16664e6e4fb4281be6477c13989740d44c963c77/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fx86-64-v3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fx86-64-v3.c?ref=16664e6e4fb4281be6477c13989740d44c963c77", "patch": "@@ -12,6 +12,9 @@\n #ifndef __SSE2__\n # error __SSE2__ not defined\n #endif\n+#ifndef __GCC_HAVE_SYNC_COMPARE_AND_SWAP_16\n+# error __GCC_HAVE_SYNC_COMPARE_AND_SWAP_16 not defined\n+#endif\n #ifndef __LAHF_SAHF__\n # error __LAHF_SAHF__ not defined\n #endif"}, {"sha": "7c202a42068b73785fdf1121658f32e6e8f7431b", "filename": "gcc/testsuite/gcc.target/i386/x86-64-v4.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/16664e6e4fb4281be6477c13989740d44c963c77/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fx86-64-v4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/16664e6e4fb4281be6477c13989740d44c963c77/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fx86-64-v4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fx86-64-v4.c?ref=16664e6e4fb4281be6477c13989740d44c963c77", "patch": "@@ -12,6 +12,9 @@\n #ifndef __SSE2__\n # error __SSE2__ not defined\n #endif\n+#ifndef __GCC_HAVE_SYNC_COMPARE_AND_SWAP_16\n+# error __GCC_HAVE_SYNC_COMPARE_AND_SWAP_16 not defined\n+#endif\n #ifndef __LAHF_SAHF__\n # error __LAHF_SAHF__ not defined\n #endif"}]}