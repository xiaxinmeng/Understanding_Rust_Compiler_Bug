{"sha": "007b405bbfa20787eb15a110ce250989d0467622", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDA3YjQwNWJiZmEyMDc4N2ViMTVhMTEwY2UyNTA5ODlkMDQ2NzYyMg==", "commit": {"author": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2016-07-25T17:32:44Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2016-07-25T17:32:44Z"}, "message": "re PR middle-end/71732 (FAIL: gcc.dg/torture/pr71532.c at -O2 and above)\n\n\tPR middle-end/71732\n\t* cselib.c (cselib_process_insn): Invalidate argument slots for\n\tconst/pure calls.\n\nFrom-SVN: r238727", "tree": {"sha": "3c209778953db0f883ee68c0067a525108e35f04", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3c209778953db0f883ee68c0067a525108e35f04"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/007b405bbfa20787eb15a110ce250989d0467622", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/007b405bbfa20787eb15a110ce250989d0467622", "html_url": "https://github.com/Rust-GCC/gccrs/commit/007b405bbfa20787eb15a110ce250989d0467622", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/007b405bbfa20787eb15a110ce250989d0467622/comments", "author": null, "committer": null, "parents": [{"sha": "7d575fffd2e517cbe497780db8e262ed7a350a3a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d575fffd2e517cbe497780db8e262ed7a350a3a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7d575fffd2e517cbe497780db8e262ed7a350a3a"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "97a9ab094fc71f8cee81bc6e7bc5f9a3bd021a53", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/007b405bbfa20787eb15a110ce250989d0467622/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/007b405bbfa20787eb15a110ce250989d0467622/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=007b405bbfa20787eb15a110ce250989d0467622", "patch": "@@ -1,3 +1,9 @@\n+2016-07-25  John David Anglin  <danglin@gcc.gnu.org>\n+\n+\tPR middle-end/71732\n+\t* cselib.c (cselib_process_insn): Invalidate argument slots for\n+\tconst/pure calls.\n+\n 2016-07-25  Jiong Wang  <jiong.wang@arm.com>\n \n \t* config/aarch64/arm_neon.h (vfmah_lane_f16, vfmah_laneq_f16,"}, {"sha": "0c5183cf7307e9dd53d8a0c71c6913a80ee2d647", "filename": "gcc/cselib.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/007b405bbfa20787eb15a110ce250989d0467622/gcc%2Fcselib.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/007b405bbfa20787eb15a110ce250989d0467622/gcc%2Fcselib.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcselib.c?ref=007b405bbfa20787eb15a110ce250989d0467622", "patch": "@@ -2659,6 +2659,13 @@ cselib_process_insn (rtx_insn *insn)\n       if (RTL_LOOPING_CONST_OR_PURE_CALL_P (insn)\n \t  || !(RTL_CONST_OR_PURE_CALL_P (insn)))\n \tcselib_invalidate_mem (callmem);\n+      else\n+\t/* For const/pure calls, invalidate any argument slots because\n+\t   they are owned by the callee.  */\n+\tfor (x = CALL_INSN_FUNCTION_USAGE (insn); x; x = XEXP (x, 1))\n+\t  if (GET_CODE (XEXP (x, 0)) == USE\n+\t      && MEM_P (XEXP (XEXP (x, 0), 0)))\n+\t    cselib_invalidate_mem (XEXP (XEXP (x, 0), 0));\n     }\n \n   cselib_record_sets (insn);"}]}