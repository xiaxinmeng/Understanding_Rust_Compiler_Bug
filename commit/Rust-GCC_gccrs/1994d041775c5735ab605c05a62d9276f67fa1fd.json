{"sha": "1994d041775c5735ab605c05a62d9276f67fa1fd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTk5NGQwNDE3NzVjNTczNWFiNjA1YzA1YTYyZDkyNzZmNjdmYTFmZA==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2014-10-21T12:30:18Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2014-10-21T12:30:18Z"}, "message": "devirt-42.C: Fix dump scanning routines.\n\n2014-10-21  Richard Biener  <rguenther@suse.de>\n\n\t* g++.dg/ipa/devirt-42.C: Fix dump scanning routines.\n\t* g++.dg/ipa/devirt-46.C: Likewise.\n\t* g++.dg/ipa/devirt-47.C: Likewise.\n\t* g++.dg/tree-prof/pr35545.C: Likewise.\n\nFrom-SVN: r216509", "tree": {"sha": "8a2ec2e455e2e8e4b740d8cd0155705ab1e7be45", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8a2ec2e455e2e8e4b740d8cd0155705ab1e7be45"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1994d041775c5735ab605c05a62d9276f67fa1fd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1994d041775c5735ab605c05a62d9276f67fa1fd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1994d041775c5735ab605c05a62d9276f67fa1fd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1994d041775c5735ab605c05a62d9276f67fa1fd/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "61331c4897131c8dfba7d7e432972c2bf1a79308", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61331c4897131c8dfba7d7e432972c2bf1a79308", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61331c4897131c8dfba7d7e432972c2bf1a79308"}], "stats": {"total": 27, "additions": 17, "deletions": 10}, "files": [{"sha": "920fd48c404dc991bbfb415296c6e7554ef19ec4", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1994d041775c5735ab605c05a62d9276f67fa1fd/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1994d041775c5735ab605c05a62d9276f67fa1fd/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1994d041775c5735ab605c05a62d9276f67fa1fd", "patch": "@@ -1,3 +1,10 @@\n+2014-10-21  Richard Biener  <rguenther@suse.de>\n+\n+\t* g++.dg/ipa/devirt-42.C: Fix dump scanning routines.\n+\t* g++.dg/ipa/devirt-46.C: Likewise.\n+\t* g++.dg/ipa/devirt-47.C: Likewise.\n+\t* g++.dg/tree-prof/pr35545.C: Likewise.\n+\n 2014-10-21  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/63563"}, {"sha": "a97a30a5f39b6bbd2564fc83a632da5bd427cfd1", "filename": "gcc/testsuite/g++.dg/ipa/devirt-42.C", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1994d041775c5735ab605c05a62d9276f67fa1fd/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fdevirt-42.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1994d041775c5735ab605c05a62d9276f67fa1fd/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fdevirt-42.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fdevirt-42.C?ref=1994d041775c5735ab605c05a62d9276f67fa1fd", "patch": "@@ -31,8 +31,8 @@ main()\n /* { dg-final { scan-ipa-dump-times \"Discovered a virtual call to a known target\" 2 \"inline\"  } } */\n \n /* Verify that speculation is optimized by late optimizers.  */\n-/* { dg-final { scan-ipa-dump-times \"return 2\" 2 \"optimized\"  } } */\n-/* { dg-final { scan-ipa-dump-not \"OBJ_TYPE_REF\" \"optimized\"  } } */\n+/* { dg-final { scan-tree-dump-times \"return 2\" 2 \"optimized\"  } } */\n+/* { dg-final { scan-tree-dump-not \"OBJ_TYPE_REF\" \"optimized\"  } } */\n \n /* { dg-final { cleanup-ipa-dump \"inline\" } } */\n-/* { dg-final { cleanup-ipa-dump \"optimized\" } } */\n+/* { dg-final { cleanup-tree-dump \"optimized\" } } */"}, {"sha": "bce7109c84d8573c1e8091470ecf53ebb26aea37", "filename": "gcc/testsuite/g++.dg/ipa/devirt-46.C", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1994d041775c5735ab605c05a62d9276f67fa1fd/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fdevirt-46.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1994d041775c5735ab605c05a62d9276f67fa1fd/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fdevirt-46.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fdevirt-46.C?ref=1994d041775c5735ab605c05a62d9276f67fa1fd", "patch": "@@ -21,7 +21,7 @@ m()\n }\n \n /* { dg-final { scan-ipa-dump-times \"Discovered a virtual call to a known target\\[^\\\\n\\]*B::foo\" 1 \"inline\"  } } */\n-/* { dg-final { scan-ipa-dump-not \"OBJ_TYPE_REF\" \"optimized\"  } } */\n-/* { dg-final { scan-ipa-dump-not \"abort\" \"optimized\"  } } */\n+/* { dg-final { scan-tree-dump-not \"OBJ_TYPE_REF\" \"optimized\"  } } */\n+/* { dg-final { scan-tree-dump-not \"abort\" \"optimized\"  } } */\n /* { dg-final { cleanup-ipa-dump \"inline\" } } */\n-/* { dg-final { cleanup-ipa-dump \"optimized\" } } */\n+/* { dg-final { cleanup-tree-dump \"optimized\" } } */"}, {"sha": "81dc5e69d6d61d2bc13de0d92cd783f559691e31", "filename": "gcc/testsuite/g++.dg/ipa/devirt-47.C", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1994d041775c5735ab605c05a62d9276f67fa1fd/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fdevirt-47.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1994d041775c5735ab605c05a62d9276f67fa1fd/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fdevirt-47.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fdevirt-47.C?ref=1994d041775c5735ab605c05a62d9276f67fa1fd", "patch": "@@ -24,8 +24,8 @@ m()\n }\n \n /* { dg-final { scan-ipa-dump-times \"Discovered a virtual call to a known target\\[^\\\\n\\]*C::_ZTh\" 1 \"inline\"  } } */\n-/* { dg-final { scan-ipa-dump-not \"OBJ_TYPE_REF\" \"optimized\"  } } */\n+/* { dg-final { scan-tree-dump-not \"OBJ_TYPE_REF\" \"optimized\"  } } */\n /* FIXME: We ought to inline thunk.  */\n-/* { dg-final { scan-ipa-dump \"C::_ZThn\" \"optimized\"  } } */\n+/* { dg-final { scan-tree-dump \"C::_ZThn\" \"optimized\"  } } */\n /* { dg-final { cleanup-ipa-dump \"inline\" } } */\n-/* { dg-final { cleanup-ipa-dump \"optimized\" } } */\n+/* { dg-final { cleanup-tree-dump \"optimized\" } } */"}, {"sha": "8f703a2a005cf5089960708b56dcee9106233e53", "filename": "gcc/testsuite/g++.dg/tree-prof/pr35545.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1994d041775c5735ab605c05a62d9276f67fa1fd/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-prof%2Fpr35545.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1994d041775c5735ab605c05a62d9276f67fa1fd/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-prof%2Fpr35545.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-prof%2Fpr35545.C?ref=1994d041775c5735ab605c05a62d9276f67fa1fd", "patch": "@@ -48,5 +48,5 @@ int main()\n }\n /* { dg-final-use { scan-ipa-dump \"Indirect call -> direct call\" \"profile_estimate\" } } */\n /* { dg-final-use { cleanup-ipa-dump \"profile\" } } */\n-/* { dg-final-use { scan-ipa-dump-not \"OBJ_TYPE_REF\" \"optimized\" } } */\n+/* { dg-final-use { scan-tree-dump-not \"OBJ_TYPE_REF\" \"optimized\" } } */\n /* { dg-final-use { cleanup-tree-dump \"optimized\" } } */"}]}