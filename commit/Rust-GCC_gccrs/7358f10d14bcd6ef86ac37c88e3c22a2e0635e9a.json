{"sha": "7358f10d14bcd6ef86ac37c88e3c22a2e0635e9a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzM1OGYxMGQxNGJjZDZlZjg2YWMzN2M4OGUzYzIyYTJlMDYzNWU5YQ==", "commit": {"author": {"name": "Loren J. Rittle", "email": "ljrittle@acm.org", "date": "2003-03-12T02:29:08Z"}, "committer": {"name": "Loren J. Rittle", "email": "ljrittle@gcc.gnu.org", "date": "2003-03-12T02:29:08Z"}, "message": "freebsd-spec.h (FBSD_CPP_PREDEFINES): Remove.\n\n\t* config/freebsd-spec.h (FBSD_CPP_PREDEFINES): Remove.\n\t(FBSD_TARGET_OS_CPP_BUILTINS): New port-specific macro.\n\t(FBSD_TARGET_CPU_CPP_BUILTINS): New port-specific macro.\n\t* config/freebsd.h (CPP_PREDEFINES): Remove.\n\t(TARGET_OS_CPP_BUILTINS): New.\n\t* config/alpha/freebsd.h: Use overridden FBSD_TARGET_CPU_CPP_BUILTINS\n\tinstead of TARGET_OS_CPP_BUILTINS.\n\t* config/sparc/freebsd.h (CPP_PREDEFINES): Remove.\n\nFrom-SVN: r64212", "tree": {"sha": "2dc0db73545198b77c2ebbab239403fc05c54537", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2dc0db73545198b77c2ebbab239403fc05c54537"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7358f10d14bcd6ef86ac37c88e3c22a2e0635e9a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7358f10d14bcd6ef86ac37c88e3c22a2e0635e9a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7358f10d14bcd6ef86ac37c88e3c22a2e0635e9a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7358f10d14bcd6ef86ac37c88e3c22a2e0635e9a/comments", "author": null, "committer": null, "parents": [{"sha": "d00bc0a2a6c596e8c42647a64ffb5c616a3d1cfb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d00bc0a2a6c596e8c42647a64ffb5c616a3d1cfb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d00bc0a2a6c596e8c42647a64ffb5c616a3d1cfb"}], "stats": {"total": 73, "additions": 45, "deletions": 28}, "files": [{"sha": "c9300d04a9d09356b5da7e0965cb64946e343017", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7358f10d14bcd6ef86ac37c88e3c22a2e0635e9a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7358f10d14bcd6ef86ac37c88e3c22a2e0635e9a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7358f10d14bcd6ef86ac37c88e3c22a2e0635e9a", "patch": "@@ -1,3 +1,14 @@\n+2003-03-11  Loren James Rittle  <ljrittle@acm.org>\n+\n+\t* config/freebsd-spec.h (FBSD_CPP_PREDEFINES): Remove.\n+\t(FBSD_TARGET_OS_CPP_BUILTINS): New port-specific macro.\n+\t(FBSD_TARGET_CPU_CPP_BUILTINS): New port-specific macro.\n+\t* config/freebsd.h (CPP_PREDEFINES): Remove.\n+\t(TARGET_OS_CPP_BUILTINS): New.\n+\t* config/alpha/freebsd.h: Use overridden FBSD_TARGET_CPU_CPP_BUILTINS\n+\tinstead of TARGET_OS_CPP_BUILTINS.\n+\t* config/sparc/freebsd.h (CPP_PREDEFINES): Remove.\n+\n 2003-03-11  Geoffrey Keating  <geoffk@apple.com>\n \n \t* c-cppbuiltin.c (builtin_define_std): Add ATTRIBUTE_UNUSED."}, {"sha": "7b3f5c4af69441d4984ab47b49b0fa9132317058", "filename": "gcc/config/alpha/freebsd.h", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7358f10d14bcd6ef86ac37c88e3c22a2e0635e9a/gcc%2Fconfig%2Falpha%2Ffreebsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7358f10d14bcd6ef86ac37c88e3c22a2e0635e9a/gcc%2Fconfig%2Falpha%2Ffreebsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Ffreebsd.h?ref=7358f10d14bcd6ef86ac37c88e3c22a2e0635e9a", "patch": "@@ -20,11 +20,13 @@ the Free Software Foundation, 59 Temple Place - Suite 330,\n Boston, MA 02111-1307, USA.  */\n \n \n-/* Provide a CPP_SPEC appropriate for FreeBSD/alpha.  Besides the dealing with\n+/* Provide a FBSD_TARGET_CPU_CPP_BUILTINS and CPP_SPEC appropriate for\n+   FreeBSD/alpha.  Besides the dealing with\n    the GCC option `-posix', and PIC issues as on all FreeBSD platforms, we must\n    deal with the Alpha's FP issues.  */\n \n-#define TARGET_OS_CPP_BUILTINS()\t\t\\\n+#undef FBSD_TARGET_CPU_CPP_BUILTINS\n+#define FBSD_TARGET_CPU_CPP_BUILTINS()\t\t\\\n   do\t\t\t\t\t\t\\\n     {\t\t\t\t\t\t\\\n       if (flag_pic)\t\t\t\t\\"}, {"sha": "4d81d80c44316d1c746aeb7e8c03cfb63d7de5e7", "filename": "gcc/config/freebsd-spec.h", "status": "modified", "additions": 25, "deletions": 24, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7358f10d14bcd6ef86ac37c88e3c22a2e0635e9a/gcc%2Fconfig%2Ffreebsd-spec.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7358f10d14bcd6ef86ac37c88e3c22a2e0635e9a/gcc%2Fconfig%2Ffreebsd-spec.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffreebsd-spec.h?ref=7358f10d14bcd6ef86ac37c88e3c22a2e0635e9a", "patch": "@@ -48,30 +48,31 @@ Boston, MA 02111-1307, USA.  */\n    || !strcmp ((STR), \"soname\") || !strcmp ((STR), \"defsym\") \t\t\\\n    || !strcmp ((STR), \"assert\") || !strcmp ((STR), \"dynamic-linker\"))\n \n-#if FBSD_MAJOR == 6\n-#define FBSD_CPP_PREDEFINES \\\n-  \"-D__FreeBSD__=6 -Dunix -D__ELF__ -D__KPRINTF_ATTRIBUTE__ -Asystem=unix -Asystem=bsd -Asystem=FreeBSD\"\n-#endif\n-\n-#if FBSD_MAJOR == 5\n-#define FBSD_CPP_PREDEFINES \\\n-  \"-D__FreeBSD__=5 -Dunix -D__ELF__ -D__KPRINTF_ATTRIBUTE__ -Asystem=unix -Asystem=bsd -Asystem=FreeBSD\"\n-#endif\n-\n-#if FBSD_MAJOR == 4\n-#define FBSD_CPP_PREDEFINES \\\n-  \"-D__FreeBSD__=4 -Dunix -D__ELF__ -D__KPRINTF_ATTRIBUTE__ -Asystem=unix -Asystem=bsd -Asystem=FreeBSD\"\n-#endif\n-\n-#if FBSD_MAJOR == 3\n-#define FBSD_CPP_PREDEFINES \\\n-  \"-D__FreeBSD__=3 -Dunix -D__ELF__ -D__KPRINTF_ATTRIBUTE__ -Asystem=unix -Asystem=bsd -Asystem=FreeBSD\"\n-#endif\n-\n-#ifndef FBSD_CPP_PREDEFINES\n-#define FBSD_CPP_PREDEFINES \\\n-  \"-D__FreeBSD__   -Dunix -D__ELF__ -D__KPRINTF_ATTRIBUTE__ -Asystem=unix -Asystem=bsd -Asystem=FreeBSD\"\n-#endif\n+#define FBSD_TARGET_OS_CPP_BUILTINS()\t\t\t\t\t\\\n+  do\t\t\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\t\\\n+\tif (FBSD_MAJOR == 6)\t\t\t\t\t\t\\\n+\t  builtin_define (\"__FreeBSD__=6\");\t\t\t       \t\\\n+\telse if (FBSD_MAJOR == 5)\t       \t\t\t\t\\\n+\t  builtin_define (\"__FreeBSD__=5\");\t\t\t       \t\\\n+\telse if (FBSD_MAJOR == 4)\t\t\t       \t\t\\\n+\t  builtin_define (\"__FreeBSD__=4\");\t\t\t       \t\\\n+\telse if (FBSD_MAJOR == 3)\t       \t\t\t\t\\\n+\t  builtin_define (\"__FreeBSD__=3\");\t\t\t       \t\\\n+\telse\t\t\t\t\t\t\t\t\\\n+\t  builtin_define (\"__FreeBSD__\");\t\t\t       \t\\\n+\tbuiltin_define_std (\"unix\");\t\t\t\t\t\\\n+\tbuiltin_define (\"__ELF__\");\t\t\t\t\t\\\n+\tbuiltin_define (\"__KPRINTF_ATTRIBUTE__\");\t\t       \t\\\n+\tbuiltin_assert (\"system=unix\");\t\t\t\t\t\\\n+\tbuiltin_assert (\"system=bsd\");\t\t\t\t\t\\\n+\tbuiltin_assert (\"system=FreeBSD\");\t\t\t\t\\\n+\tFBSD_TARGET_CPU_CPP_BUILTINS();\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\t\\\n+  while (0)\n+\n+/* Define the default FreeBSD-specific per-CPU hook code. */\n+#define FBSD_TARGET_CPU_CPP_BUILTINS() do {} while (0)\n \n /* Provide a CPP_SPEC appropriate for FreeBSD.  We just deal with the GCC \n    option `-posix', and PIC issues.  */"}, {"sha": "f71bd8b42d5c194379a43abd13b606c8cbfea4e9", "filename": "gcc/config/freebsd.h", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7358f10d14bcd6ef86ac37c88e3c22a2e0635e9a/gcc%2Fconfig%2Ffreebsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7358f10d14bcd6ef86ac37c88e3c22a2e0635e9a/gcc%2Fconfig%2Ffreebsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffreebsd.h?ref=7358f10d14bcd6ef86ac37c88e3c22a2e0635e9a", "patch": "@@ -42,7 +42,10 @@ Boston, MA 02111-1307, USA.  */\n #define WORD_SWITCH_TAKES_ARG(STR) (FBSD_WORD_SWITCH_TAKES_ARG(STR))\n \n #undef  CPP_PREDEFINES\n-#define CPP_PREDEFINES FBSD_CPP_PREDEFINES\n+/* Obsolete, do not define it. */\n+\n+#undef  TARGET_OS_CPP_BUILTINS\n+#define TARGET_OS_CPP_BUILTINS() FBSD_TARGET_OS_CPP_BUILTINS()\n \n #undef  CPP_SPEC\n #define CPP_SPEC FBSD_CPP_SPEC"}, {"sha": "bec5a2317357a8a67d599b512bc2b26c1e78a8db", "filename": "gcc/config/sparc/freebsd.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7358f10d14bcd6ef86ac37c88e3c22a2e0635e9a/gcc%2Fconfig%2Fsparc%2Ffreebsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7358f10d14bcd6ef86ac37c88e3c22a2e0635e9a/gcc%2Fconfig%2Fsparc%2Ffreebsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Ffreebsd.h?ref=7358f10d14bcd6ef86ac37c88e3c22a2e0635e9a", "patch": "@@ -26,7 +26,7 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n \n /* Because we include sparc/sysv4.h.  */\n #undef  CPP_PREDEFINES\n-#define CPP_PREDEFINES FBSD_CPP_PREDEFINES\n+/* Do not define it here, we now use TARGET_OS_CPP_BUILTINS.  */\n \n #define LINK_SPEC \"%(link_arch)\t\t\t\t\t\t\\\n   %{!mno-relax:%{!r:-relax}}\t\t\t\t\t\t\\"}]}