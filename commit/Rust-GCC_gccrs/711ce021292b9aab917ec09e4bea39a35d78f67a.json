{"sha": "711ce021292b9aab917ec09e4bea39a35d78f67a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzExY2UwMjEyOTJiOWFhYjkxN2VjMDllNGJlYTM5YTM1ZDc4ZjY3YQ==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernds@redhat.com", "date": "2017-01-27T19:40:44Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2017-01-27T19:40:44Z"}, "message": "re PR rtl-optimization/79194 (ICE in rtl_verify_bb_insns, at cfgrtl.c:2661 (error: flow control insn inside a basic block))\n\n2017-01-27  Bernd Schmidt  <bschmidt@redhat.com>\n\n\tPR rtl-optimization/79194\n\t* cprop.c (one_cprop_pass): Move deletion of code after unconditional\n\ttraps before call to bypass_conditional_jumps.\n\n\tPR rtl-optimization/79194\n\t* gcc.dg/torture/pr79194.c: New test.\n\nFrom-SVN: r244993", "tree": {"sha": "ca7cde97f4490a97543164b3e3dafa8d30b47a09", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ca7cde97f4490a97543164b3e3dafa8d30b47a09"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/711ce021292b9aab917ec09e4bea39a35d78f67a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/711ce021292b9aab917ec09e4bea39a35d78f67a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/711ce021292b9aab917ec09e4bea39a35d78f67a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/711ce021292b9aab917ec09e4bea39a35d78f67a/comments", "author": null, "committer": null, "parents": [{"sha": "d8321b33d3b2d74c90d70ebdddc57bd6c86361ee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8321b33d3b2d74c90d70ebdddc57bd6c86361ee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d8321b33d3b2d74c90d70ebdddc57bd6c86361ee"}], "stats": {"total": 57, "additions": 55, "deletions": 2}, "files": [{"sha": "39e6c1fb86d852cfede90d9051267dc15769eee9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/711ce021292b9aab917ec09e4bea39a35d78f67a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/711ce021292b9aab917ec09e4bea39a35d78f67a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=711ce021292b9aab917ec09e4bea39a35d78f67a", "patch": "@@ -1,3 +1,9 @@\n+2017-01-27  Bernd Schmidt  <bschmidt@redhat.com>\n+\n+\tPR rtl-optimization/79194\n+\t* cprop.c (one_cprop_pass): Move deletion of code after unconditional\n+\ttraps before call to bypass_conditional_jumps.\n+\n 2017-01-27  Vladimir Makarov  <vmakarov@redhat.com>\n \n \tPR tree-optimization/71374"}, {"sha": "f704a0d1f5ef26a4639bb79b398c0ba7cab397a5", "filename": "gcc/cprop.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/711ce021292b9aab917ec09e4bea39a35d78f67a/gcc%2Fcprop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/711ce021292b9aab917ec09e4bea39a35d78f67a/gcc%2Fcprop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcprop.c?ref=711ce021292b9aab917ec09e4bea39a35d78f67a", "patch": "@@ -1863,8 +1863,6 @@ one_cprop_pass (void)\n \t      }\n \t}\n \n-      changed |= bypass_conditional_jumps ();\n-\n       while (!uncond_traps.is_empty ())\n \t{\n \t  rtx_insn *insn = uncond_traps.pop ();\n@@ -1873,6 +1871,8 @@ one_cprop_pass (void)\n \t  emit_barrier_after_bb (to_split);\n \t}\n \n+      changed |= bypass_conditional_jumps ();\n+\n       FREE_REG_SET (reg_set_bitmap);\n       free_cprop_mem ();\n     }"}, {"sha": "eb63091bbdaf20cf67725c8f2a735e728ef06547", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/711ce021292b9aab917ec09e4bea39a35d78f67a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/711ce021292b9aab917ec09e4bea39a35d78f67a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=711ce021292b9aab917ec09e4bea39a35d78f67a", "patch": "@@ -1,3 +1,8 @@\n+2017-01-27  Bernd Schmidt  <bschmidt@redhat.com>\n+\n+\tPR rtl-optimization/79194\n+\t* gcc.dg/torture/pr79194.c: New test.\n+\n 2017-01-27  Vladimir Makarov  <vmakarov@redhat.com>\n \n \tPR tree-optimization/71374"}, {"sha": "e7df69022914a330354267774da6fb2af6e3f085", "filename": "gcc/testsuite/gcc.dg/torture/pr79194.c", "status": "added", "additions": 42, "deletions": 0, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/711ce021292b9aab917ec09e4bea39a35d78f67a/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr79194.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/711ce021292b9aab917ec09e4bea39a35d78f67a/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr79194.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr79194.c?ref=711ce021292b9aab917ec09e4bea39a35d78f67a", "patch": "@@ -0,0 +1,42 @@\n+/* { dg-do compile } */\n+\n+int iw, vr;\n+\n+void\n+d9 (unsigned int j3, long long int f5, int kp)\n+{\n+  int *qb = &kp;\n+\n+  if (kp != 0)\n+    {\n+      long long int oq;\n+      unsigned int tl = 0;\n+\n+      for (j3 = 0; j3 < 1; ++j3)\n+        qb = &tl;\n+      goto ed;\n+\n+ l7:\n+      oq = 1;\n+      while (oq < 2)\n+        oq *= j3;\n+\n+ ed:\n+      do\n+        {\n+          oq -= *qb;\n+          if (oq != 0)\n+            {\n+              long long int ie = j3 & f5;\n+              int ws = (j3 != 0 && kp != 0);\n+\n+              tl = ie > ws;\n+              iw = vr = tl;\n+            }\n+          else\n+            tl = (kp != 0 && (0 % 0) != 0); /* { dg-warning \"division by zero\" } */\n+        }\n+      while (tl != 0);\n+    }\n+  goto l7;\n+}"}]}