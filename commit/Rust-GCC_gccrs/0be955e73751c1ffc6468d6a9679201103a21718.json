{"sha": "0be955e73751c1ffc6468d6a9679201103a21718", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGJlOTU1ZTczNzUxYzFmZmM2NDY4ZDZhOTY3OTIwMTEwM2EyMTcxOA==", "commit": {"author": {"name": "Bingfeng Mei", "email": "bmei@broadcom.com", "date": "2010-07-19T09:18:14Z"}, "committer": {"name": "Bingfeng Mei", "email": "meibf@gcc.gnu.org", "date": "2010-07-19T09:18:14Z"}, "message": "ddg.c (create_ddg): Exclude nodes of debug_insn in counting nodes of a loop.\n\n2010-07-19  Bingfeng Mei  <bmei@broadcom.com>\n\t* ddg.c (create_ddg): Exclude nodes of debug_insn in counting nodes\n        of a loop.\n        * loop-doloop.c (doloop_condition_get): Skip possible debug_insn.\n\nFrom-SVN: r162300", "tree": {"sha": "97adf2164166d6402d0e329bf597c0ea2e666e05", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/97adf2164166d6402d0e329bf597c0ea2e666e05"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0be955e73751c1ffc6468d6a9679201103a21718", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0be955e73751c1ffc6468d6a9679201103a21718", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0be955e73751c1ffc6468d6a9679201103a21718", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0be955e73751c1ffc6468d6a9679201103a21718/comments", "author": null, "committer": null, "parents": [{"sha": "9005471b8382cc019ccd189b51ef7422027735f7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9005471b8382cc019ccd189b51ef7422027735f7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9005471b8382cc019ccd189b51ef7422027735f7"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "9175244bd2c657224688edef3b0f09cde575c795", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0be955e73751c1ffc6468d6a9679201103a21718/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0be955e73751c1ffc6468d6a9679201103a21718/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0be955e73751c1ffc6468d6a9679201103a21718", "patch": "@@ -1,3 +1,8 @@\n+2010-07-19  Bingfeng Mei  <bmei@broadcom.com>\n+\t* ddg.c (create_ddg): Exclude nodes of debug_insn in counting nodes\n+        of a loop.\n+        * loop-doloop.c (doloop_condition_get): Skip possible debug_insn.\n+\n 2010-07-19  Iain Sandoe  <iains@gcc.gnu.org>\n \n \t* config/i386/darwin.h: Define darwin_emit_branch_islands."}, {"sha": "0a20ed612914a73f3c9c8e8cbca5ecfb045fc021", "filename": "gcc/ddg.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0be955e73751c1ffc6468d6a9679201103a21718/gcc%2Fddg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0be955e73751c1ffc6468d6a9679201103a21718/gcc%2Fddg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fddg.c?ref=0be955e73751c1ffc6468d6a9679201103a21718", "patch": "@@ -488,7 +488,7 @@ create_ddg (basic_block bb, int closing_branch_deps)\n     }\n \n   /* There is nothing to do for this BB.  */\n-  if (num_nodes <= 1)\n+  if ((num_nodes - g->num_debug) <= 1)\n     {\n       free (g);\n       return NULL;"}, {"sha": "4f0850b7702a5015ab71dc891ab7344199fa202b", "filename": "gcc/loop-doloop.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0be955e73751c1ffc6468d6a9679201103a21718/gcc%2Floop-doloop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0be955e73751c1ffc6468d6a9679201103a21718/gcc%2Floop-doloop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Floop-doloop.c?ref=0be955e73751c1ffc6468d6a9679201103a21718", "patch": "@@ -104,11 +104,11 @@ doloop_condition_get (rtx doloop_pat)\n   if (GET_CODE (pattern) != PARALLEL)\n     {\n       rtx cond;\n+      rtx prev_insn = prev_nondebug_insn (doloop_pat);\n \n       /* We expect the decrement to immediately precede the branch.  */\n \n-      if ((PREV_INSN (doloop_pat) == NULL_RTX)\n-          || !INSN_P (PREV_INSN (doloop_pat)))\n+      if (prev_insn == NULL_RTX || !INSN_P (prev_insn))\n         return 0;\n \n       cmp = pattern;"}]}