{"sha": "28038fe12f3c2f888cae611cf1515712fe0f1217", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjgwMzhmZTEyZjNjMmY4ODhjYWU2MTFjZjE1MTU3MTJmZTBmMTIxNw==", "commit": {"author": {"name": "Adam Megacz", "email": "adam@xwt.org", "date": "2002-06-06T20:39:37Z"}, "committer": {"name": "Adam Megacz", "email": "megacz@gcc.gnu.org", "date": "2002-06-06T20:39:37Z"}, "message": "natFileDescriptorWin32.cc (open): Disable Win32 file locking, just like the Sun JVM does.\n\n2002-06-06  Adam Megacz <adam@xwt.org>\n\n        * java/io/natFileDescriptorWin32.cc (open): Disable Win32 file\n        locking, just like the Sun JVM does.\n\nFrom-SVN: r54322", "tree": {"sha": "15d778095b264f90e5e9ff07a208189ba47637f1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/15d778095b264f90e5e9ff07a208189ba47637f1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/28038fe12f3c2f888cae611cf1515712fe0f1217", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28038fe12f3c2f888cae611cf1515712fe0f1217", "html_url": "https://github.com/Rust-GCC/gccrs/commit/28038fe12f3c2f888cae611cf1515712fe0f1217", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28038fe12f3c2f888cae611cf1515712fe0f1217/comments", "author": null, "committer": null, "parents": [{"sha": "8a5d66c42f6153004914d403376ed4cb27d1bf5b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a5d66c42f6153004914d403376ed4cb27d1bf5b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8a5d66c42f6153004914d403376ed4cb27d1bf5b"}], "stats": {"total": 10, "additions": 6, "deletions": 4}, "files": [{"sha": "86938b1becf266e0ee09786afdd404f25828f7b2", "filename": "libjava/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28038fe12f3c2f888cae611cf1515712fe0f1217/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28038fe12f3c2f888cae611cf1515712fe0f1217/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=28038fe12f3c2f888cae611cf1515712fe0f1217", "patch": "@@ -1,3 +1,8 @@\n+2002-06-06  Adam Megacz <adam@xwt.org>\n+\n+        * java/io/natFileDescriptorWin32.cc (open): Disable Win32 file\n+        locking, just like the Sun JVM does.\n+\t\n 2002-06-05  H.J. Lu  (hjl@gnu.org)\n \n \t* Makefile.am (libgcj_convenience.la): Revert the last change."}, {"sha": "f72e39ce127040428d4f782216090af8306faa87", "filename": "libjava/java/io/natFileDescriptorWin32.cc", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28038fe12f3c2f888cae611cf1515712fe0f1217/libjava%2Fjava%2Fio%2FnatFileDescriptorWin32.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28038fe12f3c2f888cae611cf1515712fe0f1217/libjava%2Fjava%2Fio%2FnatFileDescriptorWin32.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fio%2FnatFileDescriptorWin32.cc?ref=28038fe12f3c2f888cae611cf1515712fe0f1217", "patch": "@@ -85,7 +85,6 @@ java::io::FileDescriptor::open (jstring path, jint jflags) {\n \n   HANDLE handle = NULL;\n   DWORD access = 0;\n-  DWORD share = FILE_SHARE_READ;\n   DWORD create = OPEN_EXISTING;\n   char buf[MAX_PATH] = \"\";\n \n@@ -97,7 +96,6 @@ java::io::FileDescriptor::open (jstring path, jint jflags) {\n   if ((jflags & READ) && (jflags & WRITE))\n     {\n       access = GENERIC_READ | GENERIC_WRITE;\n-      share = 0;\n       if (jflags & APPEND)\n \tcreate = OPEN_ALWAYS;\n       else\n@@ -108,14 +106,13 @@ java::io::FileDescriptor::open (jstring path, jint jflags) {\n   else\n     {\n       access = GENERIC_WRITE;\n-      share = 0;\n       if (jflags & APPEND)\n \tcreate = OPEN_ALWAYS;\n       else\n         create = CREATE_ALWAYS;\n     }\n \n-  handle = CreateFile(buf, access, share, NULL, create, 0, NULL);\n+  handle = CreateFile(buf, access, FILE_SHARE_READ | FILE_SHARE_WRITE, NULL, create, 0, NULL);\n \n   if (handle == INVALID_HANDLE_VALUE)\n     {"}]}