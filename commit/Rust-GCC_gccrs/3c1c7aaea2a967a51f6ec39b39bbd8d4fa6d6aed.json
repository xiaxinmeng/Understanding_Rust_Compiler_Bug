{"sha": "3c1c7aaea2a967a51f6ec39b39bbd8d4fa6d6aed", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2MxYzdhYWVhMmE5NjdhNTFmNmVjMzliMzliYmQ4ZDRmYTZkNmFlZA==", "commit": {"author": {"name": "Mike Stump", "email": "mrs@apple.com", "date": "2007-02-05T00:52:27Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "2007-02-05T00:52:27Z"}, "message": "* mkheaders.in: Allow optional isysroot parameter.\n\nFrom-SVN: r121590", "tree": {"sha": "1ff7d80c5d7ada4dfe2d0dca8d4ca633654dc96c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1ff7d80c5d7ada4dfe2d0dca8d4ca633654dc96c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3c1c7aaea2a967a51f6ec39b39bbd8d4fa6d6aed", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c1c7aaea2a967a51f6ec39b39bbd8d4fa6d6aed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3c1c7aaea2a967a51f6ec39b39bbd8d4fa6d6aed", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c1c7aaea2a967a51f6ec39b39bbd8d4fa6d6aed/comments", "author": null, "committer": null, "parents": [{"sha": "f634a5cc31d35dec76ca6417390018182861d897", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f634a5cc31d35dec76ca6417390018182861d897", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f634a5cc31d35dec76ca6417390018182861d897"}], "stats": {"total": 24, "additions": 19, "deletions": 5}, "files": [{"sha": "1efabd5f4031d4f35055d67c26b034ea07d344c2", "filename": "fixincludes/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c1c7aaea2a967a51f6ec39b39bbd8d4fa6d6aed/fixincludes%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c1c7aaea2a967a51f6ec39b39bbd8d4fa6d6aed/fixincludes%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fixincludes%2FChangeLog?ref=3c1c7aaea2a967a51f6ec39b39bbd8d4fa6d6aed", "patch": "@@ -1,3 +1,7 @@\n+2007-02-04  Mike Stump  <mrs@apple.com>\n+\n+\t* mkheaders.in: Allow optional isysroot parameter.\n+\n 2007-02-03  Bruce Korb <bkorb@gnu.org>\n \n \t* inclhack.def (glibc_c99_inline_4): replace \"extern\" only if"}, {"sha": "29f27f15972fe35a31ed2a6c2797ca84c98dc26f", "filename": "fixincludes/mkheaders.in", "status": "modified", "additions": 15, "deletions": 5, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c1c7aaea2a967a51f6ec39b39bbd8d4fa6d6aed/fixincludes%2Fmkheaders.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c1c7aaea2a967a51f6ec39b39bbd8d4fa6d6aed/fixincludes%2Fmkheaders.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fixincludes%2Fmkheaders.in?ref=3c1c7aaea2a967a51f6ec39b39bbd8d4fa6d6aed", "patch": "@@ -1,6 +1,6 @@\n #!/bin/sh\n \n-# Copyright (C) 2002 Free Software Foundation, Inc.\n+# Copyright (C) 2002, 2007 Free Software Foundation, Inc.\n \n #This file is part of GCC.\n \n@@ -32,7 +32,7 @@ done\n export VERBOSE\n \n if [ x$1 = x--help ] ; then\n-    echo \"Usage: mkheaders [options] [prefix]\"\n+    echo \"Usage: mkheaders [options] [prefix [isysroot]]\"\n     echo \"Options:\"\n     echo \"  -v        Print more output (may be repeated for even more output)\"\n     echo \"  --help    This help\"\n@@ -42,7 +42,7 @@ fi\n \n if [ x$1 = x--version ] ; then\n     echo \"mkheaders (GCC) version $version\"\n-    echo \"Copyright 2002 Free Software Foundation, Inc.\"\n+    echo \"Copyright 2002, 2007 Free Software Foundation, Inc.\"\n     echo \"This program is free software; you may redistribute it under the\"\n     echo \"terms of the GNU General Public License.  This program has\"\n     echo \"absolutely no warranty.\"\n@@ -52,9 +52,19 @@ fi\n # Common prefix for installation directories.\n if [ x$1 != x ] ; then\n   prefix=$1\n+  shift\n else\n   prefix=@prefix@\n fi\n+\n+# Allow for alternate isysroot in which to find headers\n+if [ x$1 != x ] ; then\n+  isysroot=$1\n+  shift\n+else\n+  isysroot=\n+fi\n+\n # Directory in which to put host dependent programs and libraries\n exec_prefix=@exec_prefix@\n # Directory in which to put the directories used by the compiler.\n@@ -78,7 +88,7 @@ if [ x${STMP_FIXINC} != x ] ; then\n \tTARGET_MACHINE=\"${target}\" target_canonical=\"${target}\" \\\n \t    MACRO_LIST=\"${itoolsdatadir}/macro_list\" \\\n \t    @SHELL@ ./fixinc.sh ${incdir} \\\n-\t    ${SYSTEM_HEADER_DIR} ${OTHER_FIXINCLUDES_DIRS}\n+\t    ${isysroot}${SYSTEM_HEADER_DIR} ${OTHER_FIXINCLUDES_DIRS}\n \trm -f ${incdir}/syslimits.h\n \tif [ -f ${incdir}/limits.h ]; then\n \t  mv ${incdir}/limits.h ${incdir}/syslimits.h\n@@ -92,5 +102,5 @@ cp ${itoolsdatadir}/include/* ${incdir}\n if [ x${STMP_FIXPROTO} != x ] ; then\n   mkinstalldirs=\"@SHELL@ ${itoolsdir}/mkinstalldirs\"\n   export FIXPROTO_DEFINES mkinstalldirs\n-  @SHELL@ fixproto ${incdir} ${incdir} ${SYSTEM_HEADER_DIR} || exit 1\n+  @SHELL@ fixproto ${incdir} ${incdir} ${isysroot}${SYSTEM_HEADER_DIR} || exit 1\n fi"}]}