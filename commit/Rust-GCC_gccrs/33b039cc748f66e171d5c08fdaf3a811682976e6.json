{"sha": "33b039cc748f66e171d5c08fdaf3a811682976e6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzNiMDM5Y2M3NDhmNjZlMTcxZDVjMDhmZGFmM2E4MTE2ODI5NzZlNg==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-02-26T23:56:02Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-02-26T23:56:02Z"}, "message": "(do_include): Correctly report the directive name\nwhen any kind of include directive has no argument or null argument.\n\nFrom-SVN: r3546", "tree": {"sha": "e76da7f50c006b88b303410c24b353d8aad11b3b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e76da7f50c006b88b303410c24b353d8aad11b3b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/33b039cc748f66e171d5c08fdaf3a811682976e6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33b039cc748f66e171d5c08fdaf3a811682976e6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/33b039cc748f66e171d5c08fdaf3a811682976e6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33b039cc748f66e171d5c08fdaf3a811682976e6/comments", "author": null, "committer": null, "parents": [{"sha": "ea3cfc819a358ef6d7118ce84120296c522093e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea3cfc819a358ef6d7118ce84120296c522093e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea3cfc819a358ef6d7118ce84120296c522093e9"}], "stats": {"total": 14, "additions": 9, "deletions": 5}, "files": [{"sha": "5e0d2f8f963afa3a80ed065a365614141d728094", "filename": "gcc/cccp.c", "status": "modified", "additions": 9, "deletions": 5, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/33b039cc748f66e171d5c08fdaf3a811682976e6/gcc%2Fcccp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/33b039cc748f66e171d5c08fdaf3a811682976e6/gcc%2Fcccp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcccp.c?ref=33b039cc748f66e171d5c08fdaf3a811682976e6", "patch": "@@ -3844,11 +3844,8 @@ do_include (buf, limit, op, keyword)\n   default:\n   fail:\n     if (retried) {\n-      if (importing)\n-        error (\"`#import' expects \\\"fname\\\" or <fname>\");\n-      else\n-        error (\"`#include' expects \\\"fname\\\" or <fname>\");\n-      return 0;\n+      fend = fbeg;\n+      break;\n     } else {\n       trybuf = expand_to_temp_buffer (buf, limit, 0, 0);\n       buf = (U_CHAR *) alloca (trybuf.bufp - trybuf.buf + 1);\n@@ -3875,6 +3872,13 @@ do_include (buf, limit, op, keyword)\n   }\n \n   flen = fend - fbeg;\n+\n+  if (flen == 0)\n+    {\n+      error (\"`#%s' expects \\\"fname\\\" or <fname>\", keyword->name);\n+      return 0;\n+    }\n+\n   /* Allocate this permanently, because it gets stored in the definitions\n      of macros.  */\n   fname = (char *) xmalloc (max_include_len + flen + 2);"}]}