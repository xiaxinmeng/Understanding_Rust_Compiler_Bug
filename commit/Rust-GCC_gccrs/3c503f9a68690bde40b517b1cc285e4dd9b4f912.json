{"sha": "3c503f9a68690bde40b517b1cc285e4dd9b4f912", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2M1MDNmOWE2ODY5MGJkZTQwYjUxN2IxY2MyODVlNGRkOWI0ZjkxMg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2005-07-12T22:35:48Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2005-07-12T22:35:48Z"}, "message": "reverted erroneous commit\n\nFrom-SVN: r101949", "tree": {"sha": "5f31a14b18091c241dfc218ee28a6241ebfad78e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5f31a14b18091c241dfc218ee28a6241ebfad78e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3c503f9a68690bde40b517b1cc285e4dd9b4f912", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c503f9a68690bde40b517b1cc285e4dd9b4f912", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3c503f9a68690bde40b517b1cc285e4dd9b4f912", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c503f9a68690bde40b517b1cc285e4dd9b4f912/comments", "author": null, "committer": null, "parents": [{"sha": "309ca98d963ae26ba2f709b17783846c27ee8f01", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/309ca98d963ae26ba2f709b17783846c27ee8f01", "html_url": "https://github.com/Rust-GCC/gccrs/commit/309ca98d963ae26ba2f709b17783846c27ee8f01"}], "stats": {"total": 22, "additions": 8, "deletions": 14}, "files": [{"sha": "e4f4d1838de617a5d0aa26eb0d63b6382bb63bc8", "filename": "gcc/java/jvspec.c", "status": "modified", "additions": 8, "deletions": 14, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c503f9a68690bde40b517b1cc285e4dd9b4f912/gcc%2Fjava%2Fjvspec.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c503f9a68690bde40b517b1cc285e4dd9b4f912/gcc%2Fjava%2Fjvspec.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjvspec.c?ref=3c503f9a68690bde40b517b1cc285e4dd9b4f912", "patch": "@@ -1,6 +1,6 @@\n /* Specific flags and argument handling of the front-end of the \n    GNU compiler for the Java(TM) language.\n-   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005\n+   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004\n    Free Software Foundation, Inc.\n \n This file is part of GCC.\n@@ -493,22 +493,11 @@ lang_specific_driver (int *in_argc, const char *const **in_argv,\n   arglist = xmalloc ((num_args + 1) * sizeof (char *));\n   j = 0;\n \n-  arglist[j++] = argv[0];\n-\n-  if (combine_inputs || indirect_files_count > 0)\n-    arglist[j++] = \"-ffilelist-file\";\n-\n-  if (combine_inputs)\n-    {\n-      arglist[j++] = \"-xjava\";\n-      arglist[j++] = filelist_filename;\n-    }\n-\n-  for (i = 1; i < argc; i++, j++)\n+  for (i = 0; i < argc; i++, j++)\n     {\n       arglist[j] = argv[i];\n \n-      if ((args[i] & PARAM_ARG))\n+      if ((args[i] & PARAM_ARG) || i == 0)\n \tcontinue;\n \n       if ((args[i] & RESOURCE_FILE_ARG) != 0)\n@@ -570,10 +559,15 @@ lang_specific_driver (int *in_argc, const char *const **in_argv,\n \t}\n   }\n \n+  if (combine_inputs || indirect_files_count > 0)\n+    arglist[j++] = \"-ffilelist-file\";\n+\n   if (combine_inputs)\n     {\n       if (fclose (filelist_file))\n \tpfatal_with_name (filelist_filename);\n+      arglist[j++] = \"-xjava\";\n+      arglist[j++] = filelist_filename;\n     }\n \n   /* If we saw no -O or -g option, default to -g1, for javac compatibility. */"}]}