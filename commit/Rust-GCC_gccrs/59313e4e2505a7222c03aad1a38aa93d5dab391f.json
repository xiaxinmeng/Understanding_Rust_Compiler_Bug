{"sha": "59313e4e2505a7222c03aad1a38aa93d5dab391f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTkzMTNlNGUyNTA1YTcyMjJjMDNhYWQxYTM4YWE5M2Q1ZGFiMzkxZg==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1995-03-13T19:51:05Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1995-03-13T19:51:05Z"}, "message": "Add -mno-traceback option; eliminate nop after call on V.4/eabi\n\nFrom-SVN: r9176", "tree": {"sha": "360b3ad86253a80e157b7a201cbaaf3aa4b57ed3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/360b3ad86253a80e157b7a201cbaaf3aa4b57ed3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/59313e4e2505a7222c03aad1a38aa93d5dab391f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59313e4e2505a7222c03aad1a38aa93d5dab391f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/59313e4e2505a7222c03aad1a38aa93d5dab391f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59313e4e2505a7222c03aad1a38aa93d5dab391f/comments", "author": null, "committer": null, "parents": [{"sha": "d7757a12ffd13fa313657bf1304b38b8933128f5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d7757a12ffd13fa313657bf1304b38b8933128f5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d7757a12ffd13fa313657bf1304b38b8933128f5"}], "stats": {"total": 42, "additions": 26, "deletions": 16}, "files": [{"sha": "4334237388bd219cb78e94c63e1f1fa0e03f4423", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 18, "deletions": 14, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59313e4e2505a7222c03aad1a38aa93d5dab391f/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59313e4e2505a7222c03aad1a38aa93d5dab391f/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=59313e4e2505a7222c03aad1a38aa93d5dab391f", "patch": "@@ -4909,16 +4909,18 @@\n   \"\"\n   \"*\n {\n-  if (GET_CODE (operands[0]) == REG)\n-    {\n #ifndef USING_SVR4_H\n-      return \\\"{brl|blrl}\\;{l|lwz} 2,20(1)\\\";\n-#else\n-      return \\\"{brl|blrl}\\\";\n-#endif\n-    }\n+  if (GET_CODE (operands[1]) == REG)\n+    return \\\"{brl|blrl}\\;{l|lwz} 2,20(1)\\\";\n \n   return \\\"bl %z0\\;%.\\\";\n+\n+#else\n+  if (GET_CODE (operands[1]) == REG)\n+    return \\\"{brl|blrl}\\\";\n+\n+  return \\\"bl %z0\\\";\n+#endif\n }\"\n   [(set_attr \"length\" \"8\")])\n \n@@ -4938,16 +4940,18 @@\n   \"\"\n   \"*\n {\n-  if (GET_CODE (operands[1]) == REG)\n-    {\n #ifndef USING_SVR4_H\n-      return \\\"{brl|blrl}\\;{l|lwz} 2,20(1)\\\";\n-#else\n-      return \\\"{brl|blrl}\\\";\n-#endif\n-    }\n+  if (GET_CODE (operands[1]) == REG)\n+    return \\\"{brl|blrl}\\;{l|lwz} 2,20(1)\\\";\n \n   return \\\"bl %z1\\;%.\\\";\n+\n+#else\n+  if (GET_CODE (operands[1]) == REG)\n+    return \\\"{brl|blrl}\\\";\n+\n+  return \\\"bl %z1\\\";\n+#endif\n }\"\n   [(set_attr \"length\" \"8\")])\n "}, {"sha": "54f233dd1cb6c1b2602709fb32ff7ce515a17355", "filename": "gcc/config/rs6000/sysv4.h", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59313e4e2505a7222c03aad1a38aa93d5dab391f/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59313e4e2505a7222c03aad1a38aa93d5dab391f/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fsysv4.h?ref=59313e4e2505a7222c03aad1a38aa93d5dab391f", "patch": "@@ -24,11 +24,14 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n #define\tMASK_NO_BITFIELD_TYPE\t0x40000000\t/* Set PCC_BITFIELD_TYPE_MATTERS to 0 */\n #define\tMASK_STRICT_ALIGN\t0x20000000\t/* Set STRICT_ALIGNMENT to 1.  */\n #define MASK_RELOCATABLE\t0x10000000\t/* GOT pointers are PC relative */\n+#define\tMASK_NO_TRACEBACK\t0x08000000\t/* eliminate traceback words */\n \n #define\tTARGET_NO_BITFIELD_TYPE\t(target_flags & MASK_NO_BITFIELD_TYPE)\n #define\tTARGET_BITFIELD_TYPE\t(! TARGET_NO_BITFIELD_TYPE)\n #define TARGET_STRICT_ALIGN\t(target_flags & MASK_STRICT_ALIGN)\n #define TARGET_RELOCATABLE\t(target_flags & MASK_RELOCATABLE)\n+#define TARGET_NO_TRACEBACK\t(target_flags & MASK_NO_TRACEBACK)\n+#define\tTARGET_TRACEBACK\t(! TARGET_NO_TRACEBACK)\n \n #undef\tSUBTARGET_SWITCHES\n #define SUBTARGET_SWITCHES\t\t\t\t\t\t\\\n@@ -37,7 +40,9 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n   { \"strict-align\",\t MASK_STRICT_ALIGN },\t\t\t\t\\\n   { \"no-strict-align\",\t-MASK_STRICT_ALIGN },\t\t\t\t\\\n   { \"relocatable\",\t MASK_RELOCATABLE | MASK_MINIMAL_TOC | MASK_NO_FP_IN_TOC }, \\\n-  { \"no-relocatable\",\t-MASK_RELOCATABLE },\n+  { \"no-relocatable\",\t-MASK_RELOCATABLE },\t\t\t\t\\\n+  { \"traceback\",\t-MASK_NO_TRACEBACK },\t\t\t\t\\\n+  { \"no-traceback\",\t MASK_NO_TRACEBACK },\n \n #include \"rs6000/powerpc.h\"\n \n@@ -214,7 +219,8 @@ extern int rs6000_pic_labelno;\n     putc (',', FILE);\t\t\t\t\t\t\t\\\n     fprintf (FILE, TYPE_OPERAND_FMT, \"function\");\t\t\t\\\n     putc ('\\n', FILE);\t\t\t\t\t\t\t\\\n-    svr4_traceback (FILE, NAME, DECL);\t\t\t\t\t\\\n+    if (TARGET_TRACEBACK)\t\t\t\t\t\t\\\n+      svr4_traceback (FILE, NAME, DECL);\t\t\t\t\\\n     ASM_DECLARE_RESULT (FILE, DECL_RESULT (DECL));\t\t\t\\\n     ASM_OUTPUT_LABEL(FILE, NAME);\t\t\t\t\t\\\n   } while (0)"}]}