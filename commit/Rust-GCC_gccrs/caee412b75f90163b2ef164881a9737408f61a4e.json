{"sha": "caee412b75f90163b2ef164881a9737408f61a4e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2FlZTQxMmI3NWY5MDE2M2IyZWYxNjQ4ODFhOTczNzQwOGY2MWE0ZQ==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@CeBiTec.Uni-Bielefeld.DE", "date": "2011-05-24T17:51:51Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2011-05-24T17:51:51Z"}, "message": "re PR target/3746 (compilation of mips-tfile missing mips/a.out.h)\n\n\tPR target/3746\n\t* config.gcc (alpha*-dec-osf5.1*): Only build mips-tfile,\n\tmips-tdump native.\n\t* mips-tfile.c: Remove CROSS_DIRECTORY_STRUCTURE handling.\n\t* mips-tdump.c: Likewise.\n\nFrom-SVN: r174128", "tree": {"sha": "35cba01cecefecc85a3ef8512ac4b33827a9b19a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/35cba01cecefecc85a3ef8512ac4b33827a9b19a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/caee412b75f90163b2ef164881a9737408f61a4e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/caee412b75f90163b2ef164881a9737408f61a4e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/caee412b75f90163b2ef164881a9737408f61a4e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/caee412b75f90163b2ef164881a9737408f61a4e/comments", "author": {"login": "rorth", "id": 3930951, "node_id": "MDQ6VXNlcjM5MzA5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rorth", "html_url": "https://github.com/rorth", "followers_url": "https://api.github.com/users/rorth/followers", "following_url": "https://api.github.com/users/rorth/following{/other_user}", "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rorth/subscriptions", "organizations_url": "https://api.github.com/users/rorth/orgs", "repos_url": "https://api.github.com/users/rorth/repos", "events_url": "https://api.github.com/users/rorth/events{/privacy}", "received_events_url": "https://api.github.com/users/rorth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "5eed4f27694914b24cec59029b57f0d7a25b0c34", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5eed4f27694914b24cec59029b57f0d7a25b0c34", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5eed4f27694914b24cec59029b57f0d7a25b0c34"}], "stats": {"total": 23, "additions": 12, "deletions": 11}, "files": [{"sha": "925c24a2fa960ac54602c60287ec746bf8775535", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/caee412b75f90163b2ef164881a9737408f61a4e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/caee412b75f90163b2ef164881a9737408f61a4e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=caee412b75f90163b2ef164881a9737408f61a4e", "patch": "@@ -1,3 +1,11 @@\n+2011-05-24  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\tPR target/3746\n+\t* config.gcc (alpha*-dec-osf5.1*): Only build mips-tfile,\n+\tmips-tdump native.\n+\t* mips-tfile.c: Remove CROSS_DIRECTORY_STRUCTURE handling.\n+\t* mips-tdump.c: Likewise.\n+\n 2011-05-24  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR target/49128"}, {"sha": "5d52af7cfa68f82878c07dc8a21fb9b8c3b70d2e", "filename": "gcc/config.gcc", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/caee412b75f90163b2ef164881a9737408f61a4e/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/caee412b75f90163b2ef164881a9737408f61a4e/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=caee412b75f90163b2ef164881a9737408f61a4e", "patch": "@@ -748,7 +748,9 @@ alpha*-dec-osf5.1*)\n \tthen\n \t\ttm_file=\"${tm_file} dbx.h\"\n \tfi\n-\tif test x$gas != xyes\n+\t# mips-tfile and mips-tdump are only used with the native assembler\n+\t# and require the Tru64 UNIX <a.out.h>, so only build native.\n+\tif test x$gas != xyes && test x${host} = x${target}\n \tthen\n \t\textra_passes=\"mips-tfile mips-tdump\"\n \tfi"}, {"sha": "f39b5a310f6a431ceb837356da3144e4aed0ca4f", "filename": "gcc/mips-tdump.c", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/caee412b75f90163b2ef164881a9737408f61a4e/gcc%2Fmips-tdump.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/caee412b75f90163b2ef164881a9737408f61a4e/gcc%2Fmips-tdump.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmips-tdump.c?ref=caee412b75f90163b2ef164881a9737408f61a4e", "patch": "@@ -26,11 +26,7 @@ along with GCC; see the file COPYING3.  If not see\n #ifdef index\n #undef index\n #endif\n-#ifndef CROSS_DIRECTORY_STRUCTURE\n #include <a.out.h>\n-#else\n-#include \"mips/a.out.h\"\n-#endif /* CROSS_DIRECTORY_STRUCTURE */\n \n /* Include getopt.h for the sake of getopt_long.  */\n #include \"getopt.h\""}, {"sha": "3af6266b45c1da5c8140722f054b083a57fb2fb2", "filename": "gcc/mips-tfile.c", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/caee412b75f90163b2ef164881a9737408f61a4e/gcc%2Fmips-tfile.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/caee412b75f90163b2ef164881a9737408f61a4e/gcc%2Fmips-tfile.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmips-tfile.c?ref=caee412b75f90163b2ef164881a9737408f61a4e", "patch": "@@ -1,4 +1,4 @@\n-/* Update the symbol table (the .T file) in a MIPS object to\n+/* Update the symbol table (the .T file) in a ECOFF object to\n    contain debugging information specified by the GNU compiler\n    in the form of comments (the mips assembler does not support\n    assembly access to debug information).\n@@ -633,12 +633,7 @@ extern void error (const char *format, ...) ATTRIBUTE_PRINTF_1;\n \n #undef index\n \n-#ifndef CROSS_DIRECTORY_STRUCTURE\n #include <a.out.h>\n-#else\n-#include \"mips/a.out.h\"\n-#endif /* CROSS_DIRECTORY_STRUCTURE */\n-\n #include \"gstab.h\"\n \n #define IS_ASM_IDENT(ch) \\"}]}