{"sha": "99c25ac11ec95adec4139b7aa79a4741a52111be", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTljMjVhYzExZWM5NWFkZWM0MTM5YjdhYTc5YTQ3NDFhNTIxMTFiZQ==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2008-05-01T17:47:43Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2008-05-01T17:47:43Z"}, "message": "i386.c (ix86_builtin_type): Replace DI_FTYPE_DI_DI_INT with V1DI2DI_FTYPE_V1DI_V1DI_INT.\n\n2008-05-01  H.J. Lu  <hongjiu.lu@intel.com>\n\n\t* config/i386/i386.c (ix86_builtin_type): Replace\n\tDI_FTYPE_DI_DI_INT with V1DI2DI_FTYPE_V1DI_V1DI_INT.\n\t(bdesc_args): Updated.\n\t(ix86_init_mmx_sse_builtins): Likewise.\n\t(ix86_expand_args_builtin): Likewise.\n\n\t* config/i386/tmmintrin.h (_mm_alignr_pi8): Replace long long\n\twith __v1di.\n\n\t* doc/extend.texi: Correct __builtin_ia32_palignr.\n\nFrom-SVN: r134864", "tree": {"sha": "93dfddb2428cb7ecb7e247ecc6d2f559d45cc3aa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/93dfddb2428cb7ecb7e247ecc6d2f559d45cc3aa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/99c25ac11ec95adec4139b7aa79a4741a52111be", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99c25ac11ec95adec4139b7aa79a4741a52111be", "html_url": "https://github.com/Rust-GCC/gccrs/commit/99c25ac11ec95adec4139b7aa79a4741a52111be", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99c25ac11ec95adec4139b7aa79a4741a52111be/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a44acfb9c00e1a7dc5285f2f67cc1a6db7348607", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a44acfb9c00e1a7dc5285f2f67cc1a6db7348607", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a44acfb9c00e1a7dc5285f2f67cc1a6db7348607"}], "stats": {"total": 51, "additions": 31, "deletions": 20}, "files": [{"sha": "0ffe99b9ebeb3b09ac7901a31eb353ca9faf2c56", "filename": "gcc/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99c25ac11ec95adec4139b7aa79a4741a52111be/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99c25ac11ec95adec4139b7aa79a4741a52111be/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=99c25ac11ec95adec4139b7aa79a4741a52111be", "patch": "@@ -1,3 +1,16 @@\n+2008-05-01  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* config/i386/i386.c (ix86_builtin_type): Replace\n+\tDI_FTYPE_DI_DI_INT with V1DI2DI_FTYPE_V1DI_V1DI_INT.\n+\t(bdesc_args): Updated.\n+\t(ix86_init_mmx_sse_builtins): Likewise.\n+\t(ix86_expand_args_builtin): Likewise.\n+\n+\t* config/i386/tmmintrin.h (_mm_alignr_pi8): Replace long long\n+\twith __v1di.\n+\n+\t* doc/extend.texi: Correct __builtin_ia32_palignr.\n+\n 2008-05-01  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR target/36095"}, {"sha": "80a0fd75f5f433a62bc08acc7c492f11d5e92b31", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 13, "deletions": 15, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99c25ac11ec95adec4139b7aa79a4741a52111be/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99c25ac11ec95adec4139b7aa79a4741a52111be/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=99c25ac11ec95adec4139b7aa79a4741a52111be", "patch": "@@ -18092,10 +18092,10 @@ enum ix86_builtin_type\n   V4SF_FTYPE_V4SF_V4SF_INT,\n   V2DI_FTYPE_V2DI_V2DI_INT,\n   V2DI2TI_FTYPE_V2DI_V2DI_INT,\n+  V1DI2DI_FTYPE_V1DI_V1DI_INT,\n   V2DF_FTYPE_V2DF_V2DF_INT,\n   V2DI_FTYPE_V2DI_UINT_UINT,\n-  V2DI_FTYPE_V2DI_V2DI_UINT_UINT,\n-  DI_FTYPE_DI_DI_INT\n+  V2DI_FTYPE_V2DI_V2DI_UINT_UINT\n };\n \n /* Builtins with variable number of arguments.  */\n@@ -18492,7 +18492,7 @@ static const struct builtin_description bdesc_args[] =\n \n   /* SSSE3.  */\n   { OPTION_MASK_ISA_SSSE3, CODE_FOR_ssse3_palignrti, \"__builtin_ia32_palignr128\", IX86_BUILTIN_PALIGNR128, UNKNOWN, (int) V2DI2TI_FTYPE_V2DI_V2DI_INT },\n-  { OPTION_MASK_ISA_SSSE3, CODE_FOR_ssse3_palignrdi, \"__builtin_ia32_palignr\", IX86_BUILTIN_PALIGNR, UNKNOWN, (int) DI_FTYPE_DI_DI_INT },\n+  { OPTION_MASK_ISA_SSSE3, CODE_FOR_ssse3_palignrdi, \"__builtin_ia32_palignr\", IX86_BUILTIN_PALIGNR, UNKNOWN, (int) V1DI2DI_FTYPE_V1DI_V1DI_INT },\n \n   /* SSE4.1 */\n   { OPTION_MASK_ISA_SSE4_1, CODE_FOR_sse4_1_blendpd, \"__builtin_ia32_blendpd\", IX86_BUILTIN_BLENDPD, UNKNOWN, (int) V2DF_FTYPE_V2DF_V2DF_INT },\n@@ -19011,13 +19011,10 @@ ix86_init_mmx_sse_builtins (void)\n   tree v1di_ftype_v1di_v1di\n     = build_function_type_list (V1DI_type_node,\n \t\t\t\tV1DI_type_node, V1DI_type_node, NULL_TREE);\n-\n-  tree di_ftype_di_di_int\n-    = build_function_type_list (long_long_unsigned_type_node,\n-\t\t\t\tlong_long_unsigned_type_node,\n-\t\t\t\tlong_long_unsigned_type_node,\n+  tree v1di_ftype_v1di_v1di_int\n+    = build_function_type_list (V1DI_type_node,\n+\t\t\t\tV1DI_type_node, V1DI_type_node,\n \t\t\t\tinteger_type_node, NULL_TREE);\n-\n   tree v2si_ftype_v2sf\n     = build_function_type_list (V2SI_type_node, V2SF_type_node, NULL_TREE);\n   tree v2sf_ftype_v2si\n@@ -19710,8 +19707,8 @@ ix86_init_mmx_sse_builtins (void)\n \tcase V2DI_FTYPE_V2DI_V2DI_UINT_UINT:\n \t  type = v2di_ftype_v2di_v2di_unsigned_unsigned;\n \t  break;\n-\tcase DI_FTYPE_DI_DI_INT:\n-\t  type = di_ftype_di_di_int;\n+\tcase V1DI2DI_FTYPE_V1DI_V1DI_INT:\n+\t  type = v1di_ftype_v1di_v1di_int;\n \t  break;\n \tdefault:\n \t  gcc_unreachable ();\n@@ -20555,6 +20552,11 @@ ix86_expand_args_builtin (const struct builtin_description *d,\n       rmode = V2DImode;\n       nargs_constant = 1;\n       break;\n+    case V1DI2DI_FTYPE_V1DI_V1DI_INT:\n+      nargs = 3;\n+      rmode = DImode;\n+      nargs_constant = 1;\n+      break;\n     case V2DI_FTYPE_V2DI_UINT_UINT:\n       nargs = 3;\n       nargs_constant = 2;\n@@ -20563,10 +20565,6 @@ ix86_expand_args_builtin (const struct builtin_description *d,\n       nargs = 4;\n       nargs_constant = 2;\n       break;\n-    case DI_FTYPE_DI_DI_INT:\n-      nargs = 3;\n-      nargs_constant = 1;\n-      break;\n     default:\n       gcc_unreachable ();\n     }"}, {"sha": "52d1e46424ef038ae114dc8bc0f9c491ed40e3fe", "filename": "gcc/config/i386/tmmintrin.h", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99c25ac11ec95adec4139b7aa79a4741a52111be/gcc%2Fconfig%2Fi386%2Ftmmintrin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99c25ac11ec95adec4139b7aa79a4741a52111be/gcc%2Fconfig%2Fi386%2Ftmmintrin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Ftmmintrin.h?ref=99c25ac11ec95adec4139b7aa79a4741a52111be", "patch": "@@ -192,17 +192,17 @@ _mm_alignr_epi8(__m128i __X, __m128i __Y, const int __N)\n extern __inline __m64 __attribute__((__gnu_inline__, __always_inline__, __artificial__))\n _mm_alignr_pi8(__m64 __X, __m64 __Y, const int __N)\n {\n-  return (__m64) __builtin_ia32_palignr ((long long)__X,\n-\t\t\t\t\t (long long)__Y, __N * 8);\n+  return (__m64) __builtin_ia32_palignr ((__v1di)__X,\n+\t\t\t\t\t (__v1di)__Y, __N * 8);\n }\n #else\n #define _mm_alignr_epi8(X, Y, N)\t\t\t\t\t\\\n   ((__m128i) __builtin_ia32_palignr128 ((__v2di)(__m128i)(X),\t\t\\\n \t\t\t\t\t(__v2di)(__m128i)(Y),\t\t\\\n \t\t\t\t\t(int)(N) * 8))\n #define _mm_alignr_pi8(X, Y, N)\t\t\t\t\t\t\\\n-  ((__m64) __builtin_ia32_palignr ((long long)(__m64)(X),\t\t\\\n-\t\t\t\t   (long long)(__m64)(Y),\t\t\\\n+  ((__m64) __builtin_ia32_palignr ((__v1di)(__m64)(X),\t\t\t\\\n+\t\t\t\t   (__v1di)(__m64)(Y),\t\t\t\\\n \t\t\t\t   (int)(N) * 8))\n #endif\n "}, {"sha": "7c5ad9bc4f7fc90d3d24847a5656bd83aaf8886c", "filename": "gcc/doc/extend.texi", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99c25ac11ec95adec4139b7aa79a4741a52111be/gcc%2Fdoc%2Fextend.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99c25ac11ec95adec4139b7aa79a4741a52111be/gcc%2Fdoc%2Fextend.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fextend.texi?ref=99c25ac11ec95adec4139b7aa79a4741a52111be", "patch": "@@ -7858,7 +7858,7 @@ v8qi __builtin_ia32_pshufb (v8qi, v8qi)\n v8qi __builtin_ia32_psignb (v8qi, v8qi)\n v2si __builtin_ia32_psignd (v2si, v2si)\n v4hi __builtin_ia32_psignw (v4hi, v4hi)\n-long long __builtin_ia32_palignr (long long, long long, int)\n+v1di __builtin_ia32_palignr (v1di, v1di, int)\n v8qi __builtin_ia32_pabsb (v8qi)\n v2si __builtin_ia32_pabsd (v2si)\n v4hi __builtin_ia32_pabsw (v4hi)"}]}