{"sha": "ff15c351eda434655cde7e6153b1a27db404a86d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmYxNWMzNTFlZGE0MzQ2NTVjZGU3ZTYxNTNiMWEyN2RiNDA0YTg2ZA==", "commit": {"author": {"name": "Jan Beulich", "email": "jbeulich@novell.com", "date": "2004-07-08T05:58:35Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-07-08T05:58:35Z"}, "message": "calls.c (emit_library_call_value_1): Use mode of function parameter rather than that of argument since constants...\n\n        * calls.c (emit_library_call_value_1): Use mode of function parameter\n        rather than that of argument since constants have none.\n\nFrom-SVN: r84267", "tree": {"sha": "1c2f41ff8ad1f2a922f2ee2fde5a0b49fbf2ed8d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1c2f41ff8ad1f2a922f2ee2fde5a0b49fbf2ed8d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ff15c351eda434655cde7e6153b1a27db404a86d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff15c351eda434655cde7e6153b1a27db404a86d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ff15c351eda434655cde7e6153b1a27db404a86d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff15c351eda434655cde7e6153b1a27db404a86d/comments", "author": null, "committer": null, "parents": [{"sha": "e52a6df533ec893321481360fc79624c7bd54a0f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e52a6df533ec893321481360fc79624c7bd54a0f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e52a6df533ec893321481360fc79624c7bd54a0f"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "7e6ccaa7ab8619a635e07ef442051c35a3076d29", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff15c351eda434655cde7e6153b1a27db404a86d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff15c351eda434655cde7e6153b1a27db404a86d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ff15c351eda434655cde7e6153b1a27db404a86d", "patch": "@@ -1,7 +1,10 @@\n 2004-07-06 Jan Beulich <jbeulich@novell.com>\n                                                                                 \n-        * config/i386/i386.c (ix86_gimplify_va_arg): Don't need temporary for\n-        passing arguments the containers for which are registers.\n+\t* config/i386/i386.c (ix86_gimplify_va_arg): Don't need temporary for\n+\tpassing arguments the containers for which are registers.\n+\n+\t* calls.c (emit_library_call_value_1): Use mode of function parameter\n+\trather than that of argument since constants have none.\n \n 2004-07-08  Alexandre Oliva  <aoliva@redhat.com>\n "}, {"sha": "3f427fbe7d57588f7139b732f0ac57ed8738ee12", "filename": "gcc/calls.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff15c351eda434655cde7e6153b1a27db404a86d/gcc%2Fcalls.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff15c351eda434655cde7e6153b1a27db404a86d/gcc%2Fcalls.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcalls.c?ref=ff15c351eda434655cde7e6153b1a27db404a86d", "patch": "@@ -3888,14 +3888,15 @@ emit_library_call_value_1 (int retval, rtx orgfun, rtx value,\n      are to be pushed.  */\n   for (count = 0; count < nargs; count++, argnum += inc)\n     {\n+      enum machine_mode mode = argvec[argnum].mode;\n       rtx val = argvec[argnum].value;\n       rtx reg = argvec[argnum].reg;\n       int partial = argvec[argnum].partial;\n \n       /* Handle calls that pass values in multiple non-contiguous\n \t locations.  The PA64 has examples of this for library calls.  */\n       if (reg != 0 && GET_CODE (reg) == PARALLEL)\n-\temit_group_load (reg, val, NULL_TREE, GET_MODE_SIZE (GET_MODE (val)));\n+\temit_group_load (reg, val, NULL_TREE, GET_MODE_SIZE (mode));\n       else if (reg != 0 && partial == 0)\n \temit_move_insn (reg, val);\n "}]}