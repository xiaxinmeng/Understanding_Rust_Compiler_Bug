{"sha": "039cb258334f8c69acd5de99c33f781cff49c535", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDM5Y2IyNTgzMzRmOGM2OWFjZDVkZTk5YzMzZjc4MWNmZjQ5YzUzNQ==", "commit": {"author": {"name": "Ulrich Weigand", "email": "uweigand@de.ibm.com", "date": "2007-07-11T13:41:30Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2007-07-11T13:41:30Z"}, "message": "spu.c (spu_optimization_options): Remove setting of parameter PARAM_MAX_COMPLETELY_PEEL_TIMES.\n\n\t* config/spu/spu.c (spu_optimization_options): Remove setting of\n\tparameter PARAM_MAX_COMPLETELY_PEEL_TIMES.\n\t(spu_override_options): Move it here.\n\nFrom-SVN: r126549", "tree": {"sha": "126234b47f6f04ccf88b262a03f6a266370e05c3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/126234b47f6f04ccf88b262a03f6a266370e05c3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/039cb258334f8c69acd5de99c33f781cff49c535", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/039cb258334f8c69acd5de99c33f781cff49c535", "html_url": "https://github.com/Rust-GCC/gccrs/commit/039cb258334f8c69acd5de99c33f781cff49c535", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/039cb258334f8c69acd5de99c33f781cff49c535/comments", "author": null, "committer": null, "parents": [{"sha": "9e32002f0d583eb8bba204d112dc0a5038f2d899", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e32002f0d583eb8bba204d112dc0a5038f2d899", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e32002f0d583eb8bba204d112dc0a5038f2d899"}], "stats": {"total": 17, "additions": 12, "deletions": 5}, "files": [{"sha": "a90b025e2d8de26a6a82029e94a53a6dd71d39ac", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/039cb258334f8c69acd5de99c33f781cff49c535/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/039cb258334f8c69acd5de99c33f781cff49c535/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=039cb258334f8c69acd5de99c33f781cff49c535", "patch": "@@ -1,3 +1,9 @@\n+2007-07-11  Ulrich Weigand  <uweigand@de.ibm.com>\n+\n+\t* config/spu/spu.c (spu_optimization_options): Remove setting of\n+\tparameter PARAM_MAX_COMPLETELY_PEEL_TIMES.\n+\t(spu_override_options): Move it here.\n+\n 2007-07-11  Richard Sandiford  <richard@codesourcery.com>\n \n \t* config/mips/mips.h (MIPS_ISA_LEVEL_SPEC): Handle -m4ksc and"}, {"sha": "7e28167c251bc4a455ffe7c89edf9da258fe06e4", "filename": "gcc/config/spu/spu.c", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/039cb258334f8c69acd5de99c33f781cff49c535/gcc%2Fconfig%2Fspu%2Fspu.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/039cb258334f8c69acd5de99c33f781cff49c535/gcc%2Fconfig%2Fspu%2Fspu.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fspu%2Fspu.c?ref=039cb258334f8c69acd5de99c33f781cff49c535", "patch": "@@ -266,11 +266,6 @@ struct gcc_target targetm = TARGET_INITIALIZER;\n void\n spu_optimization_options (int level ATTRIBUTE_UNUSED, int size ATTRIBUTE_UNUSED)\n {\n-  /* Small loops will be unpeeled at -O3.  For SPU it is more important\n-     to keep code small by default. */\n-  if (!flag_unroll_loops && !flag_peel_loops)\n-    PARAM_VALUE (PARAM_MAX_COMPLETELY_PEEL_TIMES) = 1;\n-\n   /* Override some of the default param values.  With so many registers\n      larger values are better for these params.  */\n   MAX_PENDING_LIST_LENGTH = 128;\n@@ -286,6 +281,12 @@ spu_optimization_options (int level ATTRIBUTE_UNUSED, int size ATTRIBUTE_UNUSED)\n void\n spu_override_options (void)\n {\n+  /* Small loops will be unpeeled at -O3.  For SPU it is more important\n+     to keep code small by default.  */\n+  if (!flag_unroll_loops && !flag_peel_loops\n+      && !PARAM_SET_P (PARAM_MAX_COMPLETELY_PEEL_TIMES))\n+    PARAM_VALUE (PARAM_MAX_COMPLETELY_PEEL_TIMES) = 1;\n+\n   flag_omit_frame_pointer = 1;\n \n   if (align_functions < 8)"}]}