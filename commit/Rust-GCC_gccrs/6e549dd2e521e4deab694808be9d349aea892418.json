{"sha": "6e549dd2e521e4deab694808be9d349aea892418", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmU1NDlkZDJlNTIxZTRkZWFiNjk0ODA4YmU5ZDM0OWFlYTg5MjQxOA==", "commit": {"author": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2011-02-20T17:00:47Z"}, "committer": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2011-02-20T17:00:47Z"}, "message": "re PR fortran/46818 (ICE on pointer assignment (-fwhole-file))\n\n2011-02-20  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/46818\n\t* gfortran.dg/whole_file_30.f90 : New test.\n\t* gfortran.dg/whole_file_31.f90 : New test.\n\nFrom-SVN: r170338", "tree": {"sha": "2ec77446d4b59e911c8c7a9191d6039cc2fcefee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2ec77446d4b59e911c8c7a9191d6039cc2fcefee"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6e549dd2e521e4deab694808be9d349aea892418", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e549dd2e521e4deab694808be9d349aea892418", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6e549dd2e521e4deab694808be9d349aea892418", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e549dd2e521e4deab694808be9d349aea892418/comments", "author": null, "committer": null, "parents": [{"sha": "0101807c0345c2e0a714e093b02fc6d694c3cb28", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0101807c0345c2e0a714e093b02fc6d694c3cb28", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0101807c0345c2e0a714e093b02fc6d694c3cb28"}], "stats": {"total": 42, "additions": 42, "deletions": 0}, "files": [{"sha": "51f26e9f26cde948a24f01be47b3fbcf1e315fc5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6e549dd2e521e4deab694808be9d349aea892418/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6e549dd2e521e4deab694808be9d349aea892418/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=6e549dd2e521e4deab694808be9d349aea892418", "patch": "@@ -1,3 +1,9 @@\n+2011-02-20  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/46818\n+\t* gfortran.dg/whole_file_30.f90 : New test.\n+\t* gfortran.dg/whole_file_31.f90 : New test.\n+\n 2011-02-20  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/45077"}, {"sha": "813ca06868ddb01acc2c5a1d4ed746e2966275de", "filename": "gcc/testsuite/gfortran.dg/whole_file_30.f90", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6e549dd2e521e4deab694808be9d349aea892418/gcc%2Ftestsuite%2Fgfortran.dg%2Fwhole_file_30.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6e549dd2e521e4deab694808be9d349aea892418/gcc%2Ftestsuite%2Fgfortran.dg%2Fwhole_file_30.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fwhole_file_30.f90?ref=6e549dd2e521e4deab694808be9d349aea892418", "patch": "@@ -0,0 +1,15 @@\n+! { dg-do compile }\n+! Test the fix for the problem described in PR46818.\n+! Note that the module file is kept for whole_file_31.f90\n+!\n+! Contributed by Martien Hulsen  <m.a.hulsen@tue.nl>\n+! and reduced by Tobias Burnus  <burnus@gcc.gnu.org>\n+!\n+! ============== system_defs.f90 =============\n+module system_defs_m\n+  type sysvector_t\n+    integer :: probnr = 0\n+    real, allocatable, dimension(:) :: u\n+  end type sysvector_t\n+end module system_defs_m\n+! DO NOT CLEAN UP THE MODULE FILE - whole_file_31.f90 does it."}, {"sha": "7ef0b9f676166bdbee21aecae0839ab9c0dadfac", "filename": "gcc/testsuite/gfortran.dg/whole_file_31.f90", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6e549dd2e521e4deab694808be9d349aea892418/gcc%2Ftestsuite%2Fgfortran.dg%2Fwhole_file_31.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6e549dd2e521e4deab694808be9d349aea892418/gcc%2Ftestsuite%2Fgfortran.dg%2Fwhole_file_31.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fwhole_file_31.f90?ref=6e549dd2e521e4deab694808be9d349aea892418", "patch": "@@ -0,0 +1,21 @@\n+! { dg-do compile }\n+! Test the fix for the problem described in PR46818.\n+! Note that the module file from whole_file_30.f90, 'system_defs_m',\n+! is needed for this test.\n+!\n+! Contributed by Martien Hulsen  <m.a.hulsen@tue.nl>\n+! and reduced by Tobias Burnus  <burnus@gcc.gnu.org>\n+!\n+! ========== t.f90 ===========================\n+module convecreac_m\n+  use system_defs_m\n+  type(sysvector_t), pointer :: solution\n+end module convecreac_m\n+\n+program t\n+  use convecreac_m\n+  implicit none\n+  type(sysvector_t), target :: sol\n+  solution => sol\n+end program t\n+! { dg-final { cleanup-modules \"system_defs_m convecreac_m\" } }"}]}