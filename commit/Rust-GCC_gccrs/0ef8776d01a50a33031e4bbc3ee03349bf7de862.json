{"sha": "0ef8776d01a50a33031e4bbc3ee03349bf7de862", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGVmODc3NmQwMWE1MGEzMzAzMWU0YmJjM2VlMDMzNDliZjdkZTg2Mg==", "commit": {"author": {"name": "Volker Reichelt", "email": "reichelt@igpm.rwth-aachen.de", "date": "2005-10-17T22:22:30Z"}, "committer": {"name": "Volker Reichelt", "email": "reichelt@gcc.gnu.org", "date": "2005-10-17T22:22:30Z"}, "message": "re PR c++/23440 (\"void f(){for\" crashes the C++ frontend)\n\n\tPR c++/23440\n\t* parser.c (cp_parser_statement): If the parser reached CPP_EOF,\n\tonly complain about missing statement.\n\n\t* g++.dg/parse/for1.C: New test.\n\nFrom-SVN: r105520", "tree": {"sha": "17b5d7c8ffa253c8d27c1450f2e0aca70beccc92", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/17b5d7c8ffa253c8d27c1450f2e0aca70beccc92"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0ef8776d01a50a33031e4bbc3ee03349bf7de862", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ef8776d01a50a33031e4bbc3ee03349bf7de862", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ef8776d01a50a33031e4bbc3ee03349bf7de862", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ef8776d01a50a33031e4bbc3ee03349bf7de862/comments", "author": null, "committer": null, "parents": [{"sha": "4213f93b6aea64f4ea5f8a539a3f0ad912bec1d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4213f93b6aea64f4ea5f8a539a3f0ad912bec1d2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4213f93b6aea64f4ea5f8a539a3f0ad912bec1d2"}], "stats": {"total": 23, "additions": 23, "deletions": 0}, "files": [{"sha": "62235408b7332e888d6f9fa373f54dc300e86c98", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ef8776d01a50a33031e4bbc3ee03349bf7de862/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ef8776d01a50a33031e4bbc3ee03349bf7de862/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=0ef8776d01a50a33031e4bbc3ee03349bf7de862", "patch": "@@ -1,3 +1,9 @@\n+2005-10-17  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n+\n+\tPR c++/23440\n+\t* parser.c (cp_parser_statement): If the parser reached CPP_EOF,\n+\tonly complain about missing statement.\n+\n 2005-10-17  Nathan Sidwell  <nathan@codesourcery.com>\n \n \tPR c++/24386"}, {"sha": "300c266da9e1f07c0fbf70440e9be111538bd624", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ef8776d01a50a33031e4bbc3ee03349bf7de862/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ef8776d01a50a33031e4bbc3ee03349bf7de862/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=0ef8776d01a50a33031e4bbc3ee03349bf7de862", "patch": "@@ -6087,6 +6087,11 @@ cp_parser_statement (cp_parser* parser, tree in_statement_expr)\n       cp_lexer_handle_pragma (parser->lexer);\n       return;\n     }\n+  else if (token->type == CPP_EOF)\n+    {\n+      cp_parser_error (parser, \"expected statement\");\n+      return;\n+    }\n \n   /* Everything else must be a declaration-statement or an\n      expression-statement.  Try for the declaration-statement"}, {"sha": "081542030a45db2e3bd9e2bade09654fe4668c5c", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ef8776d01a50a33031e4bbc3ee03349bf7de862/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ef8776d01a50a33031e4bbc3ee03349bf7de862/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=0ef8776d01a50a33031e4bbc3ee03349bf7de862", "patch": "@@ -1,3 +1,8 @@\n+2005-10-17  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n+\n+\tPR c++/23440\n+\t* g++.dg/parse/for1.C: New test.\n+\n 2005-10-17  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/23446"}, {"sha": "1e310ee02e15a51ac7dd24cc4f21840f7ea25083", "filename": "gcc/testsuite/g++.dg/parse/for1.C", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ef8776d01a50a33031e4bbc3ee03349bf7de862/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ffor1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ef8776d01a50a33031e4bbc3ee03349bf7de862/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ffor1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ffor1.C?ref=0ef8776d01a50a33031e4bbc3ee03349bf7de862", "patch": "@@ -0,0 +1,7 @@\n+// PR c++/23440\n+// Origin: Volker Reichelt <reichelt@igpm.rwth-aachen.de>\n+// { dg-do compile }\n+// { dg-options \"\" }\n+\n+# 0 \"for1.C\"\n+void foo() { for (;;)  // { dg-error \"at end of input\" \"\" { target *-*-* } 0 }"}]}