{"sha": "3d3b05ff4ffcca24cadba839a7708c8c483dd642", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2QzYjA1ZmY0ZmZjY2EyNGNhZGJhODM5YTc3MDhjOGM0ODNkZDY0Mg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2011-11-08T16:28:30Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2011-11-08T16:28:30Z"}, "message": "Fix tests for libitm support.\n\nFrom-SVN: r181169", "tree": {"sha": "563d6726881575a6c845fb9c184669896a0e102b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/563d6726881575a6c845fb9c184669896a0e102b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3d3b05ff4ffcca24cadba839a7708c8c483dd642", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d3b05ff4ffcca24cadba839a7708c8c483dd642", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3d3b05ff4ffcca24cadba839a7708c8c483dd642", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d3b05ff4ffcca24cadba839a7708c8c483dd642/comments", "author": null, "committer": null, "parents": [{"sha": "01f3428cafc13f5ae765d304494cac750892bb80", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01f3428cafc13f5ae765d304494cac750892bb80", "html_url": "https://github.com/Rust-GCC/gccrs/commit/01f3428cafc13f5ae765d304494cac750892bb80"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "89eb37a6a4d5fe970a9f547034f59e024fb1dd6c", "filename": "ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d3b05ff4ffcca24cadba839a7708c8c483dd642/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d3b05ff4ffcca24cadba839a7708c8c483dd642/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=3d3b05ff4ffcca24cadba839a7708c8c483dd642", "patch": "@@ -1,5 +1,7 @@\n 2011-11-08  Richard Henderson  <rth@redhat.com>\n \n+\t* configure.ac: Adjust srcdir for running libitm/configure.tgt.\n+\n \t* configure.ac: Test libitm/configure.tgt to disable libitm.\n \t* configure: Rebuild.\n "}, {"sha": "7a7f2872bf766ebde48c5a18243bc6256b8a9edd", "filename": "configure", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d3b05ff4ffcca24cadba839a7708c8c483dd642/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d3b05ff4ffcca24cadba839a7708c8c483dd642/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=3d3b05ff4ffcca24cadba839a7708c8c483dd642", "patch": "@@ -3061,7 +3061,9 @@ fi\n if test x$enable_libitm = x; then\n    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for libitm support\" >&5\n $as_echo_n \"checking for libitm support... \" >&6; }\n-   if (. ${srcdir}/libitm/configure.tgt; test -n \"$UNSUPPORTED\"); then\n+   if (srcdir=${srcdir}/libitm; \\\n+       . ${srcdir}/configure.tgt; \\\n+       test -n \"$UNSUPPORTED\"); then\n \t{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n $as_echo \"no\" >&6; }\n \tnoconfigdirs=\"$noconfigdirs target-libitm\""}, {"sha": "888d051433627a63828b8e7932d8d65d32aaaa0e", "filename": "configure.ac", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d3b05ff4ffcca24cadba839a7708c8c483dd642/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d3b05ff4ffcca24cadba839a7708c8c483dd642/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=3d3b05ff4ffcca24cadba839a7708c8c483dd642", "patch": "@@ -496,7 +496,9 @@ fi\n # Disable libitm on unsupported hosted systems.\n if test x$enable_libitm = x; then\n    AC_MSG_CHECKING([for libitm support])\n-   if (. ${srcdir}/libitm/configure.tgt; test -n \"$UNSUPPORTED\"); then\n+   if (srcdir=${srcdir}/libitm; \\\n+       . ${srcdir}/configure.tgt; \\\n+       test -n \"$UNSUPPORTED\"); then\n \tAC_MSG_RESULT([no])\n \tnoconfigdirs=\"$noconfigdirs target-libitm\"\n    else"}, {"sha": "c8c42795e011e132a157e4d0a799a6a493700e7d", "filename": "libitm/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d3b05ff4ffcca24cadba839a7708c8c483dd642/libitm%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d3b05ff4ffcca24cadba839a7708c8c483dd642/libitm%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libitm%2FChangeLog?ref=3d3b05ff4ffcca24cadba839a7708c8c483dd642", "patch": "@@ -1,5 +1,7 @@\n 2011-11-08  Richard Henderson  <rth@redhat.com>\n \n+\t* configure.tgt: Test correct directory for supported cpus.\n+\n \t* configure.ac: Exit if unsupported.\n \t* configure: Rebuild.\n \t* configure.tgt: Delete boilerplate from libgomp for unsupported"}, {"sha": "eac6f504433adb27e6ea3f2c7e56f67bb723583d", "filename": "libitm/configure.tgt", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d3b05ff4ffcca24cadba839a7708c8c483dd642/libitm%2Fconfigure.tgt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d3b05ff4ffcca24cadba839a7708c8c483dd642/libitm%2Fconfigure.tgt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libitm%2Fconfigure.tgt?ref=3d3b05ff4ffcca24cadba839a7708c8c483dd642", "patch": "@@ -77,7 +77,7 @@ case \"${target_cpu}\" in\n esac\n \n # For the benefit of top-level configure, determine if the cpu is supported.\n-test -d ${srcdir}/$ARCH || UNSUPPORTED=1\n+test -d ${srcdir}/config/$ARCH || UNSUPPORTED=1\n \n # Since we require POSIX threads, assume a POSIX system by default.\n config_path=\"$ARCH posix generic\""}]}