{"sha": "3b61f06b2e1e7e72fcb6c0cf3590cb25eb92c4f2", "node_id": "C_kwDOANBUbNoAKDNiNjFmMDZiMmUxZTdlNzJmY2I2YzBjZjM1OTBjYjI1ZWI5MmM0ZjI", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2021-12-13T08:38:53Z"}, "committer": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2021-12-13T08:38:53Z"}, "message": "Do not ICE on ternary expressions when calculating value ranges\n\ngcc/ChangeLog:\n\n2021-12-12  Jan Hubicka  <hubicka@ucw.cz>\n\n\tPR ipa/103513\n\t* ipa-fnsummary.c (evaluate_conditions_for_known_args): Do not ICE\n\ton ternary expression.\n\ngcc/testsuite/ChangeLog:\n\n2021-12-12  Jan Hubicka  <hubicka@ucw.cz>\n\n\tPR ipa/103513\n\t* gcc.c-torture/compile/pr103513.c: New test.", "tree": {"sha": "dbb918c39d971399c923d9f101992443f4333bea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dbb918c39d971399c923d9f101992443f4333bea"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3b61f06b2e1e7e72fcb6c0cf3590cb25eb92c4f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b61f06b2e1e7e72fcb6c0cf3590cb25eb92c4f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b61f06b2e1e7e72fcb6c0cf3590cb25eb92c4f2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b61f06b2e1e7e72fcb6c0cf3590cb25eb92c4f2/comments", "author": null, "committer": null, "parents": [{"sha": "01ad8c54fdca1db3d71bf6c4b861a9d1db3c2a59", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01ad8c54fdca1db3d71bf6c4b861a9d1db3c2a59", "html_url": "https://github.com/Rust-GCC/gccrs/commit/01ad8c54fdca1db3d71bf6c4b861a9d1db3c2a59"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "cb3c198ec0ccd8e35ad167bc9a8f92671e133200", "filename": "gcc/ipa-fnsummary.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b61f06b2e1e7e72fcb6c0cf3590cb25eb92c4f2/gcc%2Fipa-fnsummary.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b61f06b2e1e7e72fcb6c0cf3590cb25eb92c4f2/gcc%2Fipa-fnsummary.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-fnsummary.c?ref=3b61f06b2e1e7e72fcb6c0cf3590cb25eb92c4f2", "patch": "@@ -513,7 +513,7 @@ evaluate_conditions_for_known_args (struct cgraph_node *node,\n \t\t\t\t\t      op->index ? &vr : &op0);\n \t\t    }\n \t\t  else\n-\t\t    gcc_unreachable ();\n+\t\t    res.set_varying (op->type);\n \t\t  type = op->type;\n \t\t  vr = res;\n \t\t}"}, {"sha": "ca876a9816c32564b53d1a14f41f6ea22bc97d6c", "filename": "gcc/testsuite/gcc.c-torture/compile/pr103513.c", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b61f06b2e1e7e72fcb6c0cf3590cb25eb92c4f2/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr103513.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b61f06b2e1e7e72fcb6c0cf3590cb25eb92c4f2/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr103513.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr103513.c?ref=3b61f06b2e1e7e72fcb6c0cf3590cb25eb92c4f2", "patch": "@@ -0,0 +1,8 @@\n+int a;\n+void b(int c) {\n+  int d = 3;\n+  d ^= c < 2;\n+  if (d < 3 && a)\n+    while (1)\n+      b(!a);\n+}"}]}