{"sha": "1d62c33ebd5cf50c19a015401ee02c6949f0b9df", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWQ2MmMzM2ViZDVjZjUwYzE5YTAxNTQwMWVlMDJjNjk0OWYwYjlkZg==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2003-03-01T01:22:43Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2003-03-01T01:22:43Z"}, "message": "re PR c++/9892 (g++.old-deja/g++.pt/static9.C regression)\n\n\tPR c++/9892\n\t* pt.c (instantiate_decl): Clear DECL_RTL for a VAR_DECL when\n\tinstantiating it.\n\nFrom-SVN: r63601", "tree": {"sha": "7015d9667f130dd27abe80abdc59995dbed2c40e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7015d9667f130dd27abe80abdc59995dbed2c40e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1d62c33ebd5cf50c19a015401ee02c6949f0b9df", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d62c33ebd5cf50c19a015401ee02c6949f0b9df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d62c33ebd5cf50c19a015401ee02c6949f0b9df", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d62c33ebd5cf50c19a015401ee02c6949f0b9df/comments", "author": null, "committer": null, "parents": [{"sha": "9552a3e3426475e41f29ce6acaeefd25b6e12662", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9552a3e3426475e41f29ce6acaeefd25b6e12662", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9552a3e3426475e41f29ce6acaeefd25b6e12662"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "e4ccfb2a2fd737b7e2728d067a8e79f1c8eb2833", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d62c33ebd5cf50c19a015401ee02c6949f0b9df/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d62c33ebd5cf50c19a015401ee02c6949f0b9df/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=1d62c33ebd5cf50c19a015401ee02c6949f0b9df", "patch": "@@ -1,3 +1,9 @@\n+2003-02-28    <mark@codesourcery.com>\n+\n+\tPR c++/9892\n+\t* pt.c (instantiate_decl): Clear DECL_RTL for a VAR_DECL when\n+\tinstantiating it.\n+\n 2003-02-28  Aldy Hernandez  <aldyh@redhat.com>\n \n         * parser.c (cp_parser_init_declarator): Revert opaque"}, {"sha": "ac5e4e1c8ef37a04194005cad7ab81be24d404be", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d62c33ebd5cf50c19a015401ee02c6949f0b9df/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d62c33ebd5cf50c19a015401ee02c6949f0b9df/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=1d62c33ebd5cf50c19a015401ee02c6949f0b9df", "patch": "@@ -10825,14 +10825,18 @@ instantiate_decl (d, defer_ok)\n   /* Regenerate the declaration in case the template has been modified\n      by a subsequent redeclaration.  */\n   regenerate_decl_from_template (d, td);\n-\n+  \n   /* We already set the file and line above.  Reset them now in case\n      they changed as a result of calling regenerate_decl_from_template.  */\n   lineno = DECL_SOURCE_LINE (d);\n   input_filename = DECL_SOURCE_FILE (d);\n \n   if (TREE_CODE (d) == VAR_DECL)\n     {\n+      /* Clear out DECL_RTL; whatever was there before may not be right\n+\t since we've reset the type of the declaration.  */\n+      SET_DECL_RTL (d, NULL_RTX);\n+\n       DECL_IN_AGGR_P (d) = 0;\n       if (DECL_INTERFACE_KNOWN (d))\n \tDECL_EXTERNAL (d) = ! DECL_NOT_REALLY_EXTERN (d);"}]}