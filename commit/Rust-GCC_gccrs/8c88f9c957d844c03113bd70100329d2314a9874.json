{"sha": "8c88f9c957d844c03113bd70100329d2314a9874", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGM4OGY5Yzk1N2Q4NDRjMDMxMTNiZDcwMTAwMzI5ZDIzMTRhOTg3NA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-02-23T04:57:01Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-02-23T04:57:01Z"}, "message": "Traverse erroneous function redefinitions.\n\nFrom-SVN: r170428", "tree": {"sha": "b4f90928d5bf554bbabc10e21ac50cf2dd3974ae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b4f90928d5bf554bbabc10e21ac50cf2dd3974ae"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8c88f9c957d844c03113bd70100329d2314a9874", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c88f9c957d844c03113bd70100329d2314a9874", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8c88f9c957d844c03113bd70100329d2314a9874", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c88f9c957d844c03113bd70100329d2314a9874/comments", "author": null, "committer": null, "parents": [{"sha": "b68a9b10c8081a0e4b4811bbbbfa39749d167c09", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b68a9b10c8081a0e4b4811bbbbfa39749d167c09", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b68a9b10c8081a0e4b4811bbbbfa39749d167c09"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "b062c541a698706519fbf1a1944b29abf4980814", "filename": "gcc/go/gofrontend/gogo.cc", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c88f9c957d844c03113bd70100329d2314a9874/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c88f9c957d844c03113bd70100329d2314a9874/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fgogo.cc?ref=8c88f9c957d844c03113bd70100329d2314a9874", "patch": "@@ -682,10 +682,15 @@ Gogo::start_function(const std::string& name, Function_type* type,\n   else if (!type->is_method())\n     {\n       ret = this->package_->bindings()->add_function(*pname, NULL, function);\n-      if (!ret->is_function())\n+      if (!ret->is_function() || ret->func_value() != function)\n \t{\n-\t  // Redefinition error.\n-\t  ret = Named_object::make_function(name, NULL, function);\n+\t  // Redefinition error.  Invent a name to avoid knockon\n+\t  // errors.\n+\t  static int redefinition_count;\n+\t  char buf[30];\n+\t  snprintf(buf, sizeof buf, \".$redefined%d\", redefinition_count);\n+\t  ++redefinition_count;\n+\t  ret = this->package_->bindings()->add_function(buf, NULL, function);\n \t}\n     }\n   else"}]}