{"sha": "02c7e7eb5ed750f8ecebc96a29802cdf54c7f01e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDJjN2U3ZWI1ZWQ3NTBmOGVjZWJjOTZhMjk4MDJjZGY1NGM3ZjAxZQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2017-07-28T19:58:01Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2017-07-28T19:58:01Z"}, "message": "compiler: add backend type conversion\n    \n    Tweak Interface_field_reference_expression::do_get_backend to apply an\n    additional backend type conversion to the returned result.  This is\n    needed due to the fact that the top level type of the expression is a\n    function descriptor, however the value being manufactured is a pointer\n    to <thunk-descriptor, value> struct.\n    \n    Reviewed-on: https://go-review.googlesource.com/51712\n\nFrom-SVN: r250686", "tree": {"sha": "901d4bac7d7deb3b7966c02219fba9ddd73f17d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/901d4bac7d7deb3b7966c02219fba9ddd73f17d2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/02c7e7eb5ed750f8ecebc96a29802cdf54c7f01e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/02c7e7eb5ed750f8ecebc96a29802cdf54c7f01e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/02c7e7eb5ed750f8ecebc96a29802cdf54c7f01e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/02c7e7eb5ed750f8ecebc96a29802cdf54c7f01e/comments", "author": null, "committer": null, "parents": [{"sha": "5a427c633be38b90946935236f6f0a5f76fe4c8f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a427c633be38b90946935236f6f0a5f76fe4c8f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a427c633be38b90946935236f6f0a5f76fe4c8f"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "685cff9935bc6a6bb40e4dd28a749375cc8d2fc2", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02c7e7eb5ed750f8ecebc96a29802cdf54c7f01e/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02c7e7eb5ed750f8ecebc96a29802cdf54c7f01e/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=02c7e7eb5ed750f8ecebc96a29802cdf54c7f01e", "patch": "@@ -1,4 +1,4 @@\n-2118958321532352c91fd9406f571f8729a791cd\n+f7c36b27a49131f60eedde260896d310d735d408\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "eb23ec26ecf88ec630d3b901cec8bbe38782e5d2", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02c7e7eb5ed750f8ecebc96a29802cdf54c7f01e/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02c7e7eb5ed750f8ecebc96a29802cdf54c7f01e/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=02c7e7eb5ed750f8ecebc96a29802cdf54c7f01e", "patch": "@@ -12057,12 +12057,15 @@ Interface_field_reference_expression::do_get_backend(Translate_context* context)\n   Bexpression* bclosure =\n     Expression::make_heap_expression(expr, loc)->get_backend(context);\n \n+  Gogo* gogo = context->gogo();\n+  Btype* btype = this->type()->get_backend(gogo);\n+  bclosure = gogo->backend()->convert_expression(btype, bclosure, loc);\n+\n   Expression* nil_check =\n       Expression::make_binary(OPERATOR_EQEQ, this->expr_,\n                               Expression::make_nil(loc), loc);\n   Bexpression* bnil_check = nil_check->get_backend(context);\n \n-  Gogo* gogo = context->gogo();\n   Bexpression* bcrash = gogo->runtime_error(RUNTIME_ERROR_NIL_DEREFERENCE,\n \t\t\t\t\t    loc)->get_backend(context);\n "}]}