{"sha": "a7dce7626a6d5247d7dda48fa36d3cdc258aae84", "node_id": "C_kwDOANBUbNoAKGE3ZGNlNzYyNmE2ZDUyNDdkN2RkYTQ4ZmEzNmQzY2RjMjU4YWFlODQ", "commit": {"author": {"name": "David Edelsohn", "email": "dje.gcc@gmail.com", "date": "2021-11-08T16:46:47Z"}, "committer": {"name": "David Edelsohn", "email": "dje.gcc@gmail.com", "date": "2021-11-08T16:46:47Z"}, "message": "powerpc: Fix vsx_splat_v4si_di breakage on Power8.\n\nThe vsx_splat_v4si_di pattern uses a Power8 and a Power9 instruction.\nThe final condition of TARGET_DIRECT_MODE_64BIT implicitly requires Power8.\nThe \"we\" constraint requires Power9, but also requires 64 bit. Because\nthe DImode pattern already requires 64 bit mode, this isn't horrible,\nbut it would be best to remove all uses of \"we\" constraint.  The\nmtvsrws instruction itself does not require 64 bit mode.\n\nThis patch reverts the previous change to fix the breakage.\n\ngcc/ChangeLog:\n\n\t* config/rs6000/vsx.md (vsx_splat_v4si_di): Revert \"wa\"\n\tconstraint to \"we\".", "tree": {"sha": "62c635a018b48eba99cc0795f343f022aed1e696", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/62c635a018b48eba99cc0795f343f022aed1e696"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a7dce7626a6d5247d7dda48fa36d3cdc258aae84", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a7dce7626a6d5247d7dda48fa36d3cdc258aae84", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a7dce7626a6d5247d7dda48fa36d3cdc258aae84", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a7dce7626a6d5247d7dda48fa36d3cdc258aae84/comments", "author": {"login": "edelsohn", "id": 667700, "node_id": "MDQ6VXNlcjY2NzcwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/667700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edelsohn", "html_url": "https://github.com/edelsohn", "followers_url": "https://api.github.com/users/edelsohn/followers", "following_url": "https://api.github.com/users/edelsohn/following{/other_user}", "gists_url": "https://api.github.com/users/edelsohn/gists{/gist_id}", "starred_url": "https://api.github.com/users/edelsohn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edelsohn/subscriptions", "organizations_url": "https://api.github.com/users/edelsohn/orgs", "repos_url": "https://api.github.com/users/edelsohn/repos", "events_url": "https://api.github.com/users/edelsohn/events{/privacy}", "received_events_url": "https://api.github.com/users/edelsohn/received_events", "type": "User", "site_admin": false}, "committer": {"login": "edelsohn", "id": 667700, "node_id": "MDQ6VXNlcjY2NzcwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/667700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edelsohn", "html_url": "https://github.com/edelsohn", "followers_url": "https://api.github.com/users/edelsohn/followers", "following_url": "https://api.github.com/users/edelsohn/following{/other_user}", "gists_url": "https://api.github.com/users/edelsohn/gists{/gist_id}", "starred_url": "https://api.github.com/users/edelsohn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edelsohn/subscriptions", "organizations_url": "https://api.github.com/users/edelsohn/orgs", "repos_url": "https://api.github.com/users/edelsohn/repos", "events_url": "https://api.github.com/users/edelsohn/events{/privacy}", "received_events_url": "https://api.github.com/users/edelsohn/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d626fe77cdc40de0ae1651c8b94090eea73a719f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d626fe77cdc40de0ae1651c8b94090eea73a719f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d626fe77cdc40de0ae1651c8b94090eea73a719f"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "83d6c7b76f386e75880ef764361b3fe3e21c7193", "filename": "gcc/config/rs6000/vsx.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a7dce7626a6d5247d7dda48fa36d3cdc258aae84/gcc%2Fconfig%2Frs6000%2Fvsx.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a7dce7626a6d5247d7dda48fa36d3cdc258aae84/gcc%2Fconfig%2Frs6000%2Fvsx.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fvsx.md?ref=a7dce7626a6d5247d7dda48fa36d3cdc258aae84", "patch": "@@ -4578,7 +4578,7 @@\n ;; allows us to use direct move to get the value in a vector register\n ;; so that we can use XXSPLTW\n (define_insn \"vsx_splat_v4si_di\"\n-  [(set (match_operand:V4SI 0 \"vsx_register_operand\" \"=wa,wa\")\n+  [(set (match_operand:V4SI 0 \"vsx_register_operand\" \"=wa,we\")\n \t(vec_duplicate:V4SI\n \t (truncate:SI\n \t  (match_operand:DI 1 \"gpc_reg_operand\" \"wa,r\"))))]"}]}