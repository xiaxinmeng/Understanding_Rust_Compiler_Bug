{"sha": "1cb656f82c5d03ce40495bbe59111ac3cc26b713", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWNiNjU2ZjgyYzVkMDNjZTQwNDk1YmJlNTkxMTFhYzNjYzI2YjcxMw==", "commit": {"author": {"name": "Jackson Woodruff", "email": "jackson.woodruff@arm.com", "date": "2017-09-13T14:08:49Z"}, "committer": {"name": "James Greenhalgh", "email": "jgreenhalgh@gcc.gnu.org", "date": "2017-09-13T14:08:49Z"}, "message": "[Aarch64, Patch] Update failing testcase pr62178.c\n\nThis patch changes pr62178.c so that it now scans\nfor two `ldr`s, one into an `s` register, instead\nof a `ld1r` as before. Also add a scan for an mla\ninstruction.\n\nThe `ld1r` was needed when this should have generated\na mla by vector. Now that we can generate an mla by\nelement instruction and can load directly into the\nsimd register, it is cheaper to not do the ld1r\nwhich needlessly duplicates the single element used\nacross the whole vector register.\n\nCommitted on behalf of Jackson Woodruff\n\ngcc/testsuite/\n\n\t* gcc.target/aarch64/pr62178.c: Updated testcase\n\tto scan for two ldrs and an mla.\n\nFrom-SVN: r252086", "tree": {"sha": "be9a908a98ee32fe0ca2cbaed13459fc5b876bfa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/be9a908a98ee32fe0ca2cbaed13459fc5b876bfa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1cb656f82c5d03ce40495bbe59111ac3cc26b713", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1cb656f82c5d03ce40495bbe59111ac3cc26b713", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1cb656f82c5d03ce40495bbe59111ac3cc26b713", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1cb656f82c5d03ce40495bbe59111ac3cc26b713/comments", "author": null, "committer": null, "parents": [{"sha": "d0dda804153175636ebe0f2850263c8825b6d791", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d0dda804153175636ebe0f2850263c8825b6d791", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d0dda804153175636ebe0f2850263c8825b6d791"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "4b57651e24c58bb5c1ff4cdb56ed37ba3121eff6", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1cb656f82c5d03ce40495bbe59111ac3cc26b713/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1cb656f82c5d03ce40495bbe59111ac3cc26b713/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1cb656f82c5d03ce40495bbe59111ac3cc26b713", "patch": "@@ -1,3 +1,8 @@\n+2017-09-13  Jackson Woodruff  <jackson.woodruff@arm.com>\n+\n+\t* gcc.target/aarch64/pr62178.c: Updated testcase\n+\tto scan for two ldrs and an mla.\n+\n 2017-09-13  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/59949"}, {"sha": "1bf6d838d3a49ed5d8ecf9ae0157bd2a9159bfb4", "filename": "gcc/testsuite/gcc.target/aarch64/pr62178.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1cb656f82c5d03ce40495bbe59111ac3cc26b713/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fpr62178.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1cb656f82c5d03ce40495bbe59111ac3cc26b713/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fpr62178.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fpr62178.c?ref=1cb656f82c5d03ce40495bbe59111ac3cc26b713", "patch": "@@ -14,4 +14,6 @@ void foo (void) {\n     }\n }\n \n-/* { dg-final { scan-assembler \"ld1r\\\\t\\{v\\[0-9\\]+\\.\"} } */\n+/* { dg-final { scan-assembler \"ldr\\\\ts\\[0-9\\]+, \\\\\\[x\\[0-9\\]+, \\[0-9\\]+\\\\\\]!\" } } */\n+/* { dg-final { scan-assembler \"ldr\\\\tq\\[0-9\\]+, \\\\\\[x\\[0-9\\]+\\\\\\], \\[0-9\\]+\" } } */\n+/* { dg-final { scan-assembler \"mla\\\\tv\\[0-9\\]+\\.4s, v\\[0-9\\]+\\.4s, v\\[0-9\\]+\\.s\\\\\\[0\\\\\\]\" } } */"}]}