{"sha": "f9c656237c3b2ca35e849a5cd38579ab671895dd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjljNjU2MjM3YzNiMmNhMzVlODQ5YTVjZDM4NTc5YWI2NzE4OTVkZA==", "commit": {"author": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2004-11-28T23:29:41Z"}, "committer": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2004-11-28T23:29:41Z"}, "message": "re PR preprocessor/17651 (Erroneous preprocessor output with -g when generating dependencies)\n\n2004-11-28  Nathanael Nerode  <neroden@gcc.gnu.org>\n\n\tPR preprocessor/17651\n\t* c-opts.c (sanitize_cpp_opts): Make flag_no_output imply\n\tflag_no_line_commands.\n\t* c-ppoutput.c (pp_file_change): Remove now-redundant check of\n\tflag_no_output.\n\nFrom-SVN: r91436", "tree": {"sha": "0220d038c863445f5aab43775392919150a6ac84", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0220d038c863445f5aab43775392919150a6ac84"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f9c656237c3b2ca35e849a5cd38579ab671895dd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9c656237c3b2ca35e849a5cd38579ab671895dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f9c656237c3b2ca35e849a5cd38579ab671895dd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9c656237c3b2ca35e849a5cd38579ab671895dd/comments", "author": null, "committer": null, "parents": [{"sha": "a8344e3213b1ed04a9b32f2c263f2df61ea687f6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8344e3213b1ed04a9b32f2c263f2df61ea687f6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a8344e3213b1ed04a9b32f2c263f2df61ea687f6"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "a0bc0f6c01057dea9ac22cebe4e3e6e1e8c13bca", "filename": "gcc/c-opts.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9c656237c3b2ca35e849a5cd38579ab671895dd/gcc%2Fc-opts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9c656237c3b2ca35e849a5cd38579ab671895dd/gcc%2Fc-opts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-opts.c?ref=f9c656237c3b2ca35e849a5cd38579ab671895dd", "patch": "@@ -1222,11 +1222,13 @@ sanitize_cpp_opts (void)\n \n   /* Disable -dD, -dN and -dI if normal output is suppressed.  Allow\n      -dM since at least glibc relies on -M -dM to work.  */\n+  /* Also, flag_no_output implies flag_no_line_commands, always. */\n   if (flag_no_output)\n     {\n       if (flag_dump_macros != 'M')\n \tflag_dump_macros = 0;\n       flag_dump_includes = 0;\n+      flag_no_line_commands = 1;\n     }\n \n   cpp_opts->unsigned_char = !flag_signed_char;"}, {"sha": "996c5f0253443303f623b07996c2dc6ac21c8d69", "filename": "gcc/c-ppoutput.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9c656237c3b2ca35e849a5cd38579ab671895dd/gcc%2Fc-ppoutput.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9c656237c3b2ca35e849a5cd38579ab671895dd/gcc%2Fc-ppoutput.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-ppoutput.c?ref=f9c656237c3b2ca35e849a5cd38579ab671895dd", "patch": "@@ -370,7 +370,7 @@ pp_file_change (const struct line_map *map)\n {\n   const char *flags = \"\";\n \n-  if (flag_no_line_commands || flag_no_output)\n+  if (flag_no_line_commands)\n     return;\n \n   if (map != NULL)"}]}