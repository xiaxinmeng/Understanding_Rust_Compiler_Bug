{"sha": "e01261fef5d7d8bb0e4aa373612734454b959b03", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTAxMjYxZmVmNWQ3ZDhiYjBlNGFhMzczNjEyNzM0NDU0Yjk1OWIwMw==", "commit": {"author": {"name": "Tom de Vries", "email": "tom@codesourcery.com", "date": "2017-05-06T07:16:17Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2017-05-06T07:16:17Z"}, "message": "Replace absolute line numbers in g++.dg/{debug,goacc}\n\n2017-05-06  Tom de Vries  <tom@codesourcery.com>\n\n\tPR testsuite/80557\n\t* g++.dg/debug/dwarf2/dwarf2-1.C: Replace absolute line numbers.\n\t* g++.dg/debug/dwarf2/dwarf2-2.C: Same.\n\t* g++.dg/debug/dwarf2/pr46123-2.C: Same.\n\t* g++.dg/debug/dwarf2/typedef5.C: Same.\n\t* g++.dg/goacc/data-1.C: Same.\n\nFrom-SVN: r247712", "tree": {"sha": "6f7cc8b1fb6cbf90f85b99a86cb8a25a164bcbb1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6f7cc8b1fb6cbf90f85b99a86cb8a25a164bcbb1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e01261fef5d7d8bb0e4aa373612734454b959b03", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e01261fef5d7d8bb0e4aa373612734454b959b03", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e01261fef5d7d8bb0e4aa373612734454b959b03", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e01261fef5d7d8bb0e4aa373612734454b959b03/comments", "author": null, "committer": null, "parents": [{"sha": "9f36390d429502f0a0dee20bda5b4870da948f6a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f36390d429502f0a0dee20bda5b4870da948f6a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f36390d429502f0a0dee20bda5b4870da948f6a"}], "stats": {"total": 35, "additions": 23, "deletions": 12}, "files": [{"sha": "fb278a900a116b30c916734975ee2f24beb2cd4a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e01261fef5d7d8bb0e4aa373612734454b959b03/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e01261fef5d7d8bb0e4aa373612734454b959b03/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e01261fef5d7d8bb0e4aa373612734454b959b03", "patch": "@@ -1,3 +1,12 @@\n+2017-05-06  Tom de Vries  <tom@codesourcery.com>\n+\n+\tPR testsuite/80557\n+\t* g++.dg/debug/dwarf2/dwarf2-1.C: Replace absolute line numbers.\n+\t* g++.dg/debug/dwarf2/dwarf2-2.C: Same.\n+\t* g++.dg/debug/dwarf2/pr46123-2.C: Same.\n+\t* g++.dg/debug/dwarf2/typedef5.C: Same.\n+\t* g++.dg/goacc/data-1.C: Same.\n+\n 2017-05-05  Bill Schmidt  <wschmidt@linux.vnet.ibm.com>\n \n \t* gcc.target/powerpc/versioned-copy-loop.c: New file."}, {"sha": "ada9fef5cbe22b7ab462b248a2f6434ad146469a", "filename": "gcc/testsuite/g++.dg/debug/dwarf2/dwarf2-1.C", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e01261fef5d7d8bb0e4aa373612734454b959b03/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Fdwarf2-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e01261fef5d7d8bb0e4aa373612734454b959b03/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Fdwarf2-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Fdwarf2-1.C?ref=e01261fef5d7d8bb0e4aa373612734454b959b03", "patch": "@@ -1,3 +1,4 @@\n+/* { dg-bogus \"-feliminate-dwarf2-dups is broken for C\\\\+\\\\+, ignoring\" \"broken -feliminate-dwarf2-dups\" { xfail *-*-* } } */\n // Copyright (C) 2006 Free Software Foundation, Inc.\n // Contributed by Nathan Sidwell 6 Jan 2006 <nathan@codesourcery.com>\n \n@@ -20,5 +21,3 @@ namespace N\n }\n \n N::Derived thing;\n-\n-/* { dg-bogus \"-feliminate-dwarf2-dups is broken for C\\\\+\\\\+, ignoring\" \"broken -feliminate-dwarf2-dups\" { xfail *-*-* } 1 } */"}, {"sha": "13861866a4c7e7100520ca9a2bba8f850b5cc752", "filename": "gcc/testsuite/g++.dg/debug/dwarf2/dwarf2-2.C", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e01261fef5d7d8bb0e4aa373612734454b959b03/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Fdwarf2-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e01261fef5d7d8bb0e4aa373612734454b959b03/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Fdwarf2-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Fdwarf2-2.C?ref=e01261fef5d7d8bb0e4aa373612734454b959b03", "patch": "@@ -1,3 +1,4 @@\n+/* { dg-bogus \"-feliminate-dwarf2-dups is broken for C\\\\+\\\\+, ignoring\" \"broken -feliminate-dwarf2-dups\" { xfail *-*-* } } */\n // PR debug/27057\n // { dg-do compile }\n // { dg-options \"-gdwarf -feliminate-dwarf2-dups\" }\n@@ -15,5 +16,3 @@ void A::foo ()\n {\n   using namespace N;\n }\n-\n-/* { dg-bogus \"-feliminate-dwarf2-dups is broken for C\\\\+\\\\+, ignoring\" \"broken -feliminate-dwarf2-dups\" { xfail *-*-* } 1 } */"}, {"sha": "71e2baff176f00a4117f43a8f35aacf621595f0a", "filename": "gcc/testsuite/g++.dg/debug/dwarf2/pr46123-2.C", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e01261fef5d7d8bb0e4aa373612734454b959b03/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Fpr46123-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e01261fef5d7d8bb0e4aa373612734454b959b03/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Fpr46123-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Fpr46123-2.C?ref=e01261fef5d7d8bb0e4aa373612734454b959b03", "patch": "@@ -1,3 +1,4 @@\n+/* { dg-bogus \"-feliminate-dwarf2-dups is broken for C\\\\+\\\\+, ignoring\" \"broken -feliminate-dwarf2-dups\" { xfail *-*-* } } */\n // PR debug/46123\n // { dg-do compile }\n // { dg-options \"-g -feliminate-dwarf2-dups\" }\n@@ -45,5 +46,3 @@ int main ()\n     return 1;\n   return 0;\n }\n-\n-/* { dg-bogus \"-feliminate-dwarf2-dups is broken for C\\\\+\\\\+, ignoring\" \"broken -feliminate-dwarf2-dups\" { xfail *-*-* } 1 } */"}, {"sha": "e7c50032b626567bc04076b8085d2807c900f71f", "filename": "gcc/testsuite/g++.dg/debug/dwarf2/typedef5.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e01261fef5d7d8bb0e4aa373612734454b959b03/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Ftypedef5.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e01261fef5d7d8bb0e4aa373612734454b959b03/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Ftypedef5.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Ftypedef5.C?ref=e01261fef5d7d8bb0e4aa373612734454b959b03", "patch": "@@ -1,3 +1,4 @@\n+/* { dg-bogus \"-feliminate-dwarf2-dups is broken for C\\\\+\\\\+, ignoring\" \"broken -feliminate-dwarf2-dups\" { xfail *-*-* } } */\n // Origin: PR debug/46101\n // { dg-options \"-gdwarf-2 -feliminate-dwarf2-dups\" }\n // { dg-do compile }\n@@ -9,4 +10,3 @@ typedef struct\n \n A a;\n \n-/* { dg-bogus \"-feliminate-dwarf2-dups is broken for C\\\\+\\\\+, ignoring\" \"broken -feliminate-dwarf2-dups\" { xfail *-*-* } 1 } */"}, {"sha": "73de964a51886a2f1d3d87893426b5c7bf35aa66", "filename": "gcc/testsuite/g++.dg/goacc/data-1.C", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e01261fef5d7d8bb0e4aa373612734454b959b03/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgoacc%2Fdata-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e01261fef5d7d8bb0e4aa373612734454b959b03/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgoacc%2Fdata-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgoacc%2Fdata-1.C?ref=e01261fef5d7d8bb0e4aa373612734454b959b03", "patch": "@@ -3,7 +3,11 @@ foo (int &a, int (&b)[100], int &n)\n {\n #pragma acc enter data copyin (a, b) async wait\n #pragma acc enter data create (b[20:30]) async wait\n-#pragma acc enter data (a) /* { dg-error \"expected '#pragma acc' clause before '\\\\\\(' token\" } */\n+\n+#pragma acc enter data (a)\n+  /* { dg-error \"expected '#pragma acc' clause before '\\\\\\(' token\" \"\" { target *-*-* } .-1 } */\n+  /* { dg-error \"has no data movement clause\" \"\" { target *-*-* } .-2 } */\n+\n #pragma acc enter data create (b(1:10)) /* { dg-error \"expected '\\\\\\)' before '\\\\\\(' token\" } */\n #pragma acc exit data delete (a) if (0)\n #pragma acc exit data copyout (b) if (a)\n@@ -22,7 +26,11 @@ foo (T &a, T (&b)[100], T &n)\n {\n #pragma acc enter data copyin (a, b) async wait\n #pragma acc enter data create (b[20:30]) async wait\n-#pragma acc enter data (a) /* { dg-error \"expected '#pragma acc' clause before '\\\\\\(' token\" } */\n+\n+#pragma acc enter data (a)\n+  /* { dg-error \"expected '#pragma acc' clause before '\\\\\\(' token\" \"\" { target *-*-* } .-1 } */\n+  /* { dg-error \"has no data movement clause\" \"\" { target *-*-* } .-2 } */\n+\n #pragma acc enter data create (b(1:10)) /* { dg-error \"expected '\\\\\\)' before '\\\\\\(' token\" } */\n #pragma acc exit data delete (a) if (0)\n #pragma acc exit data copyout (b) if (a)\n@@ -34,6 +42,3 @@ foo (T &a, T (&b)[100], T &n)\n #pragma acc enter Data /* { dg-error \"expected 'data' after\" } */\n #pragma acc exit copyout (b) /* { dg-error \"expected 'data' after\" } */\n }\n-\n-/* { dg-error \"has no data movement clause\" \"\" { target *-*-* } 6 } */\n-/* { dg-error \"has no data movement clause\" \"\" { target *-*-* } 25 } */"}]}