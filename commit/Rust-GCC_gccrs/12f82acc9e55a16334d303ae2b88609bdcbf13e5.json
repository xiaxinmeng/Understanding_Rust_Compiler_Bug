{"sha": "12f82acc9e55a16334d303ae2b88609bdcbf13e5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTJmODJhY2M5ZTU1YTE2MzM0ZDMwM2FlMmI4ODYwOWJkY2JmMTNlNQ==", "commit": {"author": {"name": "Bill Seurer", "email": "seurer@linux.vnet.ibm.com", "date": "2019-02-06T16:29:56Z"}, "committer": {"name": "Bill Seurer", "email": "seurer@gcc.gnu.org", "date": "2019-02-06T16:29:56Z"}, "message": "vsx-vector-6.p7.c: Update instruction counts and target.\n\n2019-02-06  Bill Seurer  <seurer@linux.vnet.ibm.com>\n\n\t* gcc.target/powerpc/vsx-vector-6.p7.c: Update instruction\n\tcounts and target.\n\t* gcc.target/powerpc/vsx-vector-6.p8.c: Update instruction\n\tcounts and target.\n\t* gcc.target/powerpc/vsx-vector-6.p9.c: Update instruction\n\tcounts and target.\n\nFrom-SVN: r268585", "tree": {"sha": "25f3095682da2b52175fd1554fa3654c0129f17c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/25f3095682da2b52175fd1554fa3654c0129f17c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/12f82acc9e55a16334d303ae2b88609bdcbf13e5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12f82acc9e55a16334d303ae2b88609bdcbf13e5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/12f82acc9e55a16334d303ae2b88609bdcbf13e5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12f82acc9e55a16334d303ae2b88609bdcbf13e5/comments", "author": {"login": "BillSeurer", "id": 8561221, "node_id": "MDQ6VXNlcjg1NjEyMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/8561221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BillSeurer", "html_url": "https://github.com/BillSeurer", "followers_url": "https://api.github.com/users/BillSeurer/followers", "following_url": "https://api.github.com/users/BillSeurer/following{/other_user}", "gists_url": "https://api.github.com/users/BillSeurer/gists{/gist_id}", "starred_url": "https://api.github.com/users/BillSeurer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BillSeurer/subscriptions", "organizations_url": "https://api.github.com/users/BillSeurer/orgs", "repos_url": "https://api.github.com/users/BillSeurer/repos", "events_url": "https://api.github.com/users/BillSeurer/events{/privacy}", "received_events_url": "https://api.github.com/users/BillSeurer/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "2afcc6c3c1fd215b6a2147a2baeb83ebb277246f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2afcc6c3c1fd215b6a2147a2baeb83ebb277246f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2afcc6c3c1fd215b6a2147a2baeb83ebb277246f"}], "stats": {"total": 60, "additions": 28, "deletions": 32}, "files": [{"sha": "e14e7ae80053b6106002a469799b046aa5e5ec98", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12f82acc9e55a16334d303ae2b88609bdcbf13e5/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12f82acc9e55a16334d303ae2b88609bdcbf13e5/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=12f82acc9e55a16334d303ae2b88609bdcbf13e5", "patch": "@@ -1,3 +1,12 @@\n+2019-02-06  Bill Seurer  <seurer@linux.vnet.ibm.com>\n+\n+\t* gcc.target/powerpc/vsx-vector-6.p7.c: Update instruction\n+\tcounts and target.\n+\t* gcc.target/powerpc/vsx-vector-6.p8.c: Update instruction\n+\tcounts and target.\n+\t* gcc.target/powerpc/vsx-vector-6.p9.c: Update instruction\n+\tcounts and target.\n+\n 2019-02-06  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/89182"}, {"sha": "68f40db7befa478f2f871f9f48d8b5c6c45799c9", "filename": "gcc/testsuite/gcc.target/powerpc/vsx-vector-6.p7.c", "status": "modified", "additions": 8, "deletions": 16, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12f82acc9e55a16334d303ae2b88609bdcbf13e5/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fvsx-vector-6.p7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12f82acc9e55a16334d303ae2b88609bdcbf13e5/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fvsx-vector-6.p7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fvsx-vector-6.p7.c?ref=12f82acc9e55a16334d303ae2b88609bdcbf13e5", "patch": "@@ -1,28 +1,20 @@\n-/* { dg-do compile { target { powerpc*-*-* && lp64 } } } */\n+/* { dg-do compile { target { lp64 && be } } } */\n /* { dg-skip-if \"\" { powerpc*-*-darwin* } } */\n /* { dg-require-effective-target powerpc_vsx_ok } */\n /* { dg-options \"-mvsx -O2 -mcpu=power7 -dp\" } */\n /* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power7\" } } */\n \n-\n /* Expected instruction counts for Power 7 */\n \n /* { dg-final { scan-assembler-times \"xvabsdp\" 1 } } */\n /* { dg-final { scan-assembler-times \"xvadddp\" 1 } } */\n-/* { dg-final { scan-assembler-times \"xxlnor\" 8 { target le } } } */\n-/* { dg-final { scan-assembler-times \"xxlnor\" 7 { target be } } } */\n-/* { dg-final { scan-assembler-times \"xvcmpeqdp\" 5 { target le } } } */\n-/* { dg-final { scan-assembler-times \"xvcmpeqdp\" 6 { target be }} } */\n-/* { dg-final { scan-assembler-times \"xvcmpeqdp.\" 5 { target le } } } */\n-/* { dg-final { scan-assembler-times \"xvcmpeqdp.\" 6 { target be } } } */\n-/* { dg-final { scan-assembler-times \"xvcmpgtdp\" 9 { target le } } } */\n-/* { dg-final { scan-assembler-times \"xvcmpgtdp\" 8 { target be } } } */\n-/* { dg-final { scan-assembler-times \"xvcmpgtdp.\" 9 { target le } } } */\n-/* { dg-final { scan-assembler-times \"xvcmpgtdp.\" 8 { target be } } } */\n-/* { dg-final { scan-assembler-times \"xvcmpgedp\" 6 { target le } } } */\n-/* { dg-final { scan-assembler-times \"xvcmpgedp\" 7 { target be } } } */\n-/* { dg-final { scan-assembler-times \"xvcmpgedp.\" 6 { target le } } } */\n-/* { dg-final { scan-assembler-times \"xvcmpgedp.\" 7 { target be } } } */\n+/* { dg-final { scan-assembler-times \"xxlnor\" 5 } } */\n+/* { dg-final { scan-assembler-times {\\mxvcmpeqdp\\s} 1 } } */\n+/* { dg-final { scan-assembler-times {\\mxvcmpeqdp\\.\\s} 5 } } */\n+/* { dg-final { scan-assembler-times {\\mxvcmpgtdp\\s} 2 } } */\n+/* { dg-final { scan-assembler-times {\\mxvcmpgtdp\\.\\s} 5 } } */\n+/* { dg-final { scan-assembler-times {\\mxvcmpgedp\\s} 1 } } */\n+/* { dg-final { scan-assembler-times {\\mxvcmpgedp\\.\\s} 6 } } */\n /* { dg-final { scan-assembler-times \"xvrdpim\" 1 } } */\n /* { dg-final { scan-assembler-times \"xvmaddadp\" 1 } } */\n /* { dg-final { scan-assembler-times \"xvmsubadp\" 1 } } */"}, {"sha": "bd9eda7fd4ae47bdafa2808a6e9f9dd09b11c83f", "filename": "gcc/testsuite/gcc.target/powerpc/vsx-vector-6.p8.c", "status": "modified", "additions": 9, "deletions": 14, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12f82acc9e55a16334d303ae2b88609bdcbf13e5/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fvsx-vector-6.p8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12f82acc9e55a16334d303ae2b88609bdcbf13e5/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fvsx-vector-6.p8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fvsx-vector-6.p8.c?ref=12f82acc9e55a16334d303ae2b88609bdcbf13e5", "patch": "@@ -1,33 +1,28 @@\n-/* { dg-do compile { target { powerpc*-*-* && lp64 } } } */\n+/* { dg-do compile { target lp64 } } */\n /* { dg-skip-if \"\" { powerpc*-*-darwin* } } */\n /* { dg-require-effective-target powerpc_vsx_ok } */\n /* { dg-options \"-mvsx -O2 -mcpu=power8\" } */\n /* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power8\" } } */\n \n-\n /* Expected instruction counts for Power 8.  */\n \n /* { dg-final { scan-assembler-times \"xvabsdp\" 1 } } */\n /* { dg-final { scan-assembler-times \"xvadddp\" 1 } } */\n-/* { dg-final { scan-assembler-times \"xxlnor\" 8 { target le } } } */\n-/* { dg-final { scan-assembler-times \"xxlnor\" 7 { target be } } } */\n+/* { dg-final { scan-assembler-times \"xxlnor\" 6 { target le } } } */\n+/* { dg-final { scan-assembler-times \"xxlnor\" 5 { target be } } } */\n \n /* We generate xxlor instructions for many reasons other than or'ing vector\n    operands or calling __builtin_vec_or(), which  means we cannot rely on\n    their usage counts being stable.  Therefore, we just ensure at least one\n    xxlor instruction was generated.  */\n /* { dg-final { scan-assembler \"xxlor\" } } */\n \n-/* { dg-final { scan-assembler-times \"xvcmpeqdp\" 4 { target le } } } */\n-/* { dg-final { scan-assembler-times \"xvcmpeqdp\" 6 { target be } } } */\n-/* { dg-final { scan-assembler-times \"xvcmpeqdp.\" 4 { target le } } } */\n-/* { dg-final { scan-assembler-times \"xvcmpeqdp.\" 6 { target be } } } */\n-/* { dg-final { scan-assembler-times \"xvcmpgtdp\" 7 { target le } } } */\n-/* { dg-final { scan-assembler-times \"xvcmpgtdp\" 8 { target be } } } */\n-/* { dg-final { scan-assembler-times \"xvcmpgtdp.\" 7 { target le } } } */\n-/* { dg-final { scan-assembler-times \"xvcmpgtdp.\" 8 { target be } } } */\n-/* { dg-final { scan-assembler-times \"xvcmpgedp\" 7 } } */\n-/* { dg-final { scan-assembler-times \"xvcmpgedp.\" 7 } } */\n+/* { dg-final { scan-assembler-times {\\mxvcmpeqdp\\s} 1 } } */\n+/* { dg-final { scan-assembler-times {\\mxvcmpeqdp\\.\\s} 5 } } */\n+/* { dg-final { scan-assembler-times {\\mxvcmpgtdp\\s} 2 } } */\n+/* { dg-final { scan-assembler-times {\\mxvcmpgtdp\\.\\s} 6 } } */\n+/* { dg-final { scan-assembler-times {\\mxvcmpgedp\\s} 2 } } */\n+/* { dg-final { scan-assembler-times {\\mxvcmpgedp\\.\\s} 4 } } */\n /* { dg-final { scan-assembler-times \"xvrdpim\" 1 } } */\n /* { dg-final { scan-assembler-times \"xvmaddadp\" 1 } } */\n /* { dg-final { scan-assembler-times \"xvmsubadp\" 1 } } */"}, {"sha": "8146fdc5931277c0021faf7cb2645dcd61211ca7", "filename": "gcc/testsuite/gcc.target/powerpc/vsx-vector-6.p9.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12f82acc9e55a16334d303ae2b88609bdcbf13e5/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fvsx-vector-6.p9.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12f82acc9e55a16334d303ae2b88609bdcbf13e5/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fvsx-vector-6.p9.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fvsx-vector-6.p9.c?ref=12f82acc9e55a16334d303ae2b88609bdcbf13e5", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-do compile { target { powerpc*-*-* && lp64 } } } */\n+/* { dg-do compile { target lp64 } } */\n /* { dg-skip-if \"\" { powerpc*-*-darwin* } } */\n /* { dg-require-effective-target powerpc_p9vector_ok } */\n /* { dg-options \"-mvsx -O2 -mcpu=power9\" } */\n@@ -8,7 +8,7 @@\n \n /* { dg-final { scan-assembler-times \"xvabsdp\" 1 } } */\n /* { dg-final { scan-assembler-times \"xvadddp\" 1 } } */\n-/* { dg-final { scan-assembler-times \"xxlnor\" 7 } } */\n+/* { dg-final { scan-assembler-times \"xxlnor\" 5 } } */\n \n /* We generate xxlor instructions for many reasons other than or'ing vector\n    operands or calling __builtin_vec_or(), which  means we cannot rely on"}]}