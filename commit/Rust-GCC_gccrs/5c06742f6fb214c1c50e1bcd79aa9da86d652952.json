{"sha": "5c06742f6fb214c1c50e1bcd79aa9da86d652952", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWMwNjc0MmY2ZmIyMTRjMWM1MGUxYmNkNzlhYTlkYTg2ZDY1Mjk1Mg==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2015-11-03T20:18:33Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2015-11-03T20:18:33Z"}, "message": "libgomp.h (struct acc_dispatch_t): Remove args from exec_func.\n\n\t* libgomp.h (struct acc_dispatch_t): Remove args from exec_func.\n\t* plugin/plugin-nvptx.c (nvptx_exec): Remove sizes & kinds arg.\n\t(GOMP_OFFLOAD_openacc_parallel): Likewise.\n\t* oacc-host.c (host_openacc_exec): Likewise.\n\t* oacc-parallel.c (GOACC_parallel_keyed): Adjust exec_func call.\n\nFrom-SVN: r229721", "tree": {"sha": "eafcfcced078b7b42a1f3c2ceaf94fb816bcddc6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eafcfcced078b7b42a1f3c2ceaf94fb816bcddc6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5c06742f6fb214c1c50e1bcd79aa9da86d652952", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c06742f6fb214c1c50e1bcd79aa9da86d652952", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5c06742f6fb214c1c50e1bcd79aa9da86d652952", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c06742f6fb214c1c50e1bcd79aa9da86d652952/comments", "author": null, "committer": null, "parents": [{"sha": "49445904cf71ccfeefe01ff4bfa8f98647c8d5f5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/49445904cf71ccfeefe01ff4bfa8f98647c8d5f5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/49445904cf71ccfeefe01ff4bfa8f98647c8d5f5"}], "stats": {"total": 25, "additions": 14, "deletions": 11}, "files": [{"sha": "0effe1c02082260f53e04c1b3d253c365e48ff45", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c06742f6fb214c1c50e1bcd79aa9da86d652952/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c06742f6fb214c1c50e1bcd79aa9da86d652952/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=5c06742f6fb214c1c50e1bcd79aa9da86d652952", "patch": "@@ -1,3 +1,11 @@\n+2015-11-03  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* libgomp.h (struct acc_dispatch_t): Remove args from exec_func.\n+\t* plugin/plugin-nvptx.c (nvptx_exec): Remove sizes & kinds arg.\n+\t(GOMP_OFFLOAD_openacc_parallel): Likewise.\n+\t* oacc-host.c (host_openacc_exec): Likewise.\n+\t* oacc-parallel.c (GOACC_parallel_keyed): Adjust exec_func call.\n+\n 2015-11-03  Julian Brown  <julian@codesourcery.com>\n \t    Thomas Schwinge  <thomas@codesourcery.com>\n "}, {"sha": "23b516ee37e3c0c215551012add9e9ed972205f9", "filename": "libgomp/libgomp.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c06742f6fb214c1c50e1bcd79aa9da86d652952/libgomp%2Flibgomp.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c06742f6fb214c1c50e1bcd79aa9da86d652952/libgomp%2Flibgomp.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Flibgomp.h?ref=5c06742f6fb214c1c50e1bcd79aa9da86d652952", "patch": "@@ -812,8 +812,8 @@ typedef struct acc_dispatch_t\n   struct target_mem_desc *data_environ;\n \n   /* Execute.  */\n-  void (*exec_func) (void (*) (void *), size_t, void **, void **, size_t *,\n-\t\t     unsigned short *, int, unsigned *, void *);\n+  void (*exec_func) (void (*) (void *), size_t, void **, void **, int,\n+\t\t     unsigned *, void *);\n \n   /* Async cleanup callback registration.  */\n   void (*register_async_cleanup_func) (void *);"}, {"sha": "98748041bfcfca2407b4a6f0c9da99d7215e58a0", "filename": "libgomp/oacc-host.c", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c06742f6fb214c1c50e1bcd79aa9da86d652952/libgomp%2Foacc-host.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c06742f6fb214c1c50e1bcd79aa9da86d652952/libgomp%2Foacc-host.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Foacc-host.c?ref=5c06742f6fb214c1c50e1bcd79aa9da86d652952", "patch": "@@ -135,8 +135,6 @@ host_openacc_exec (void (*fn) (void *),\n \t\t   size_t mapnum __attribute__ ((unused)),\n \t\t   void **hostaddrs,\n \t\t   void **devaddrs __attribute__ ((unused)),\n-\t\t   size_t *sizes __attribute__ ((unused)),\n-\t\t   unsigned short *kinds __attribute__ ((unused)),\n \t\t   int async __attribute__ ((unused)),\n \t\t   unsigned *dims __attribute ((unused)),\n \t\t   void *targ_mem_desc __attribute__ ((unused)))"}, {"sha": "525846b0098d8b414c9ddc873de5d2a0c8248193", "filename": "libgomp/oacc-parallel.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c06742f6fb214c1c50e1bcd79aa9da86d652952/libgomp%2Foacc-parallel.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c06742f6fb214c1c50e1bcd79aa9da86d652952/libgomp%2Foacc-parallel.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Foacc-parallel.c?ref=5c06742f6fb214c1c50e1bcd79aa9da86d652952", "patch": "@@ -175,8 +175,8 @@ GOACC_parallel_keyed (int device, void (*fn) (void *),\n     devaddrs[i] = (void *) (tgt->list[i].key->tgt->tgt_start\n \t\t\t    + tgt->list[i].key->tgt_offset);\n \n-  acc_dev->openacc.exec_func (tgt_fn, mapnum, hostaddrs, devaddrs, sizes,\n-\t\t\t      kinds, async, dims, tgt);\n+  acc_dev->openacc.exec_func (tgt_fn, mapnum, hostaddrs, devaddrs,\n+\t\t\t      async, dims, tgt);\n \n   /* If running synchronously, unmap immediately.  */\n   if (async < acc_async_noval)"}, {"sha": "657028e161dfb4b930d0ac519cd60186a1c00476", "filename": "libgomp/plugin/plugin-nvptx.c", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c06742f6fb214c1c50e1bcd79aa9da86d652952/libgomp%2Fplugin%2Fplugin-nvptx.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c06742f6fb214c1c50e1bcd79aa9da86d652952/libgomp%2Fplugin%2Fplugin-nvptx.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fplugin%2Fplugin-nvptx.c?ref=5c06742f6fb214c1c50e1bcd79aa9da86d652952", "patch": "@@ -877,8 +877,7 @@ event_add (enum ptx_event_type type, CUevent *e, void *h)\n \n void\n nvptx_exec (void (*fn), size_t mapnum, void **hostaddrs, void **devaddrs,\n-\t    size_t *sizes, unsigned short *kinds, int async, unsigned *dims,\n-\t    void *targ_mem_desc)\n+\t    int async, unsigned *dims, void *targ_mem_desc)\n {\n   struct targ_fn_descriptor *targ_fn = (struct targ_fn_descriptor *) fn;\n   CUfunction function;\n@@ -1653,11 +1652,9 @@ void (*device_run) (int n, void *fn_ptr, void *vars) = NULL;\n void\n GOMP_OFFLOAD_openacc_parallel (void (*fn) (void *), size_t mapnum,\n \t\t\t       void **hostaddrs, void **devaddrs,\n-\t\t\t       size_t *sizes, unsigned short *kinds,\n \t\t\t       int async, unsigned *dims, void *targ_mem_desc)\n {\n-  nvptx_exec (fn, mapnum, hostaddrs, devaddrs, sizes, kinds,\n-\t      async, dims, targ_mem_desc);\n+  nvptx_exec (fn, mapnum, hostaddrs, devaddrs, async, dims, targ_mem_desc);\n }\n \n void"}]}