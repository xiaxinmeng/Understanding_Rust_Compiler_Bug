{"sha": "0d37806322000994c97fca0ad386026c511cd44f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGQzNzgwNjMyMjAwMDk5NGM5N2ZjYTBhZDM4NjAyNmM1MTFjZDQ0Zg==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-10-24T02:07:50Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-10-24T02:07:50Z"}, "message": "(FUNCTION_EPILOGUE): If no frame ptr, increment stack ptr over the local space.\n\nFrom-SVN: r2586", "tree": {"sha": "c15a45d80c82950c0d8b8766f927118f4aa4028b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c15a45d80c82950c0d8b8766f927118f4aa4028b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0d37806322000994c97fca0ad386026c511cd44f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d37806322000994c97fca0ad386026c511cd44f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0d37806322000994c97fca0ad386026c511cd44f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d37806322000994c97fca0ad386026c511cd44f/comments", "author": null, "committer": null, "parents": [{"sha": "ed5f8355747cdd5880fa9969c1e963d6d6c0096a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed5f8355747cdd5880fa9969c1e963d6d6c0096a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ed5f8355747cdd5880fa9969c1e963d6d6c0096a"}], "stats": {"total": 19, "additions": 18, "deletions": 1}, "files": [{"sha": "707a44caa31cff3e7804d81d29a43c594bb99e2c", "filename": "gcc/config/m68k/news.h", "status": "modified", "additions": 18, "deletions": 1, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d37806322000994c97fca0ad386026c511cd44f/gcc%2Fconfig%2Fm68k%2Fnews.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d37806322000994c97fca0ad386026c511cd44f/gcc%2Fconfig%2Fm68k%2Fnews.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fnews.h?ref=0d37806322000994c97fca0ad386026c511cd44f", "patch": "@@ -144,7 +144,17 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n       else if (TARGET_68020)                                    \\\n         fprintf (FILE, \"\\tlink.l fp,#%d\\n\", -fsize);            \\\n       else\t\t\t\t\t\t\t\\\n-\tfprintf (FILE, \"\\tlink fp,#0\\n\\tsub.l #%d,sp\\n\", fsize); }  \\\n+\tfprintf (FILE, \"\\tlink fp,#0\\n\\tsub.l #%d,sp\\n\", fsize);\\\n+    }\t\t\t\t\t\t\t\t\\\n+  else if (fsize)\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      int amt = fsize + 4;\t\t\t\t\t\\\n+      /* Adding negative number is faster on the 68040.  */\t\\\n+      if (fsize + 4 < 0x8000)\t\t\t\t\t\\\n+\tasm_fprintf (FILE, \"\\tadd.w %0I%d,%Rsp\\n\", - amt);\t\\\n+      else\t\t\t\t\t\t\t\\\n+\tasm_fprintf (FILE, \"\\tadd.l %0I%d,%Rsp\\n\", - amt);\t\\\n+    }\t\t\t\t\t\t\t\t\\\n   for (regno = 16; regno < FIRST_PSEUDO_REGISTER; regno++)\t\\\n     if (regs_ever_live[regno] && ! call_used_regs[regno])\t\\\n        mask |= 1 << (regno - 16);\t\t\t\t\\\n@@ -217,6 +227,13 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n \t       foffset + fsize, fmask); }\t\t\t\\\n   if (frame_pointer_needed)\t\t\t\t\t\\\n     fprintf (FILE, \"\\tunlk fp\\n\");\t\t\t\t\\\n+  else if (fsize)\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      if (fsize + 4 < 0x8000)\t\t\t\t\t\\\n+\tasm_fprintf (stream, \"\\tadd.w #%d,sp\\n\", fsize + 4);\t\\\n+      else\t\t\t\t\t\t\t\\\n+\tasm_fprintf (stream, \"\\tadd.l #%d,sp\\n\", fsize + 4);\t\\\n+    }\t\t\t\t\t\t\t\t\\\n   if (current_function_pops_args)\t\t\t\t\\\n     fprintf (FILE, \"\\trtd #%d\\n\", current_function_pops_args);\t\\\n   else fprintf (FILE, \"\\trts\\n\"); }"}]}