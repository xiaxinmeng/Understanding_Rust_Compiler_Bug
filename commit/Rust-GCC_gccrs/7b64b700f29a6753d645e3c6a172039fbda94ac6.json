{"sha": "7b64b700f29a6753d645e3c6a172039fbda94ac6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2I2NGI3MDBmMjlhNjc1M2Q2NDVlM2M2YTE3MjAzOWZiZGE5NGFjNg==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@adacore.com", "date": "2013-09-10T15:15:20Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2013-09-10T15:15:20Z"}, "message": "sem_prag.adb (Analyze_Pragma, [...]): Don't allow REASON parameter in compiler units (bootstrap issues).\n\n2013-09-10  Robert Dewar  <dewar@adacore.com>\n\n\t* sem_prag.adb (Analyze_Pragma, case Warnings): Don't allow\n\tREASON parameter in compiler units (bootstrap issues).\n\n2013-09-10  Robert Dewar  <dewar@adacore.com>\n\n\t* gnat1drv.adb (Adjust_Global_Switches): Output warning if\n\t-gnateE specified for a target that does not support it.\n\nFrom-SVN: r202463", "tree": {"sha": "3d437a8310cffd03bf4ed49d69d9394c39592727", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3d437a8310cffd03bf4ed49d69d9394c39592727"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7b64b700f29a6753d645e3c6a172039fbda94ac6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b64b700f29a6753d645e3c6a172039fbda94ac6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b64b700f29a6753d645e3c6a172039fbda94ac6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b64b700f29a6753d645e3c6a172039fbda94ac6/comments", "author": null, "committer": null, "parents": [{"sha": "80e59506c2065fe2f4550644e0fbf2b585ab5be3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80e59506c2065fe2f4550644e0fbf2b585ab5be3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/80e59506c2065fe2f4550644e0fbf2b585ab5be3"}], "stats": {"total": 35, "additions": 32, "deletions": 3}, "files": [{"sha": "10c5594df6e6df52ee0b1a36c57b5b512a249023", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b64b700f29a6753d645e3c6a172039fbda94ac6/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b64b700f29a6753d645e3c6a172039fbda94ac6/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=7b64b700f29a6753d645e3c6a172039fbda94ac6", "patch": "@@ -1,3 +1,13 @@\n+2013-09-10  Robert Dewar  <dewar@adacore.com>\n+\n+\t* sem_prag.adb (Analyze_Pragma, case Warnings): Don't allow\n+\tREASON parameter in compiler units (bootstrap issues).\n+\n+2013-09-10  Robert Dewar  <dewar@adacore.com>\n+\n+\t* gnat1drv.adb (Adjust_Global_Switches): Output warning if\n+\t-gnateE specified for a target that does not support it.\n+\n 2013-09-10  Ed Schonberg  <schonberg@adacore.com>\n \n \t* sem_prag.adb (Analyze_Pragma, case SPARK_Mode): Handle properly"}, {"sha": "b0e3087508fde5cab14ff406ddc46ea0a9787a5e", "filename": "gcc/ada/gnat1drv.adb", "status": "modified", "additions": 18, "deletions": 3, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b64b700f29a6753d645e3c6a172039fbda94ac6/gcc%2Fada%2Fgnat1drv.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b64b700f29a6753d645e3c6a172039fbda94ac6/gcc%2Fada%2Fgnat1drv.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat1drv.adb?ref=7b64b700f29a6753d645e3c6a172039fbda94ac6", "patch": "@@ -242,7 +242,7 @@ procedure Gnat1drv is\n \n          --  Enable assertions, since they give CodePeer valuable extra info\n \n-         Assertions_Enabled    := True;\n+         Assertions_Enabled := True;\n \n          --  Disable all simple value propagation. This is an optimization\n          --  which is valuable for code optimization, and also for generation\n@@ -413,10 +413,10 @@ procedure Gnat1drv is\n          --  which is more complex to formally verify than the original source.\n \n          Tagged_Type_Expansion := False;\n-\n       end if;\n \n-      --  Set Configurable_Run_Time mode if system.ads flag set\n+      --  Set Configurable_Run_Time mode if system.ads flag set or if the\n+      --  special debug flag -gnatdY is set.\n \n       if Targparm.Configurable_Run_Time_On_Target or Debug_Flag_YY then\n          Configurable_Run_Time_Mode := True;\n@@ -571,6 +571,21 @@ procedure Gnat1drv is\n          end if;\n       end if;\n \n+      --  Output warning if -gnateE specified and cannot be supported\n+\n+      if Exception_Extra_Info\n+        and then Restrict.No_Exception_Handlers_Set\n+      then\n+         Set_Standard_Error;\n+         Write_Str\n+           (\"warning: extra exception information (-gnateE) was specified\");\n+         Write_Eol;\n+         Write_Str\n+           (\"warning: this capability is not available in this configuration\");\n+         Write_Eol;\n+         Set_Standard_Output;\n+      end if;\n+\n       --  Finally capture adjusted value of Suppress_Options as the initial\n       --  value for Scope_Suppress, which will be modified as we move from\n       --  scope to scope (by Suppress/Unsuppress/Overflow_Checks pragmas)."}, {"sha": "0cf4fc737911927ed543c33f90be9b73278d3b76", "filename": "gcc/ada/sem_prag.adb", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b64b700f29a6753d645e3c6a172039fbda94ac6/gcc%2Fada%2Fsem_prag.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b64b700f29a6753d645e3c6a172039fbda94ac6/gcc%2Fada%2Fsem_prag.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_prag.adb?ref=7b64b700f29a6753d645e3c6a172039fbda94ac6", "patch": "@@ -17958,6 +17958,10 @@ package body Sem_Prag is\n                then\n                   Check_Arg_Is_Static_Expression (Last_Arg, Standard_String);\n                   Arg_Count := Arg_Count - 1;\n+\n+                  --  Not allowed in compiler units (bootstrap issues)\n+\n+                  Check_Compiler_Unit (N);\n                end if;\n             end;\n "}]}