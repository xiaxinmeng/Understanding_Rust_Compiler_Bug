{"sha": "329d2160a4f77a1409ae55f0067d699542498fa3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzI5ZDIxNjBhNGY3N2ExNDA5YWU1NWYwMDY3ZDY5OTU0MjQ5OGZhMw==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-05-24T03:32:28Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-05-24T03:32:28Z"}, "message": "*** empty log message ***\n\nFrom-SVN: r1069", "tree": {"sha": "de5cfc87c1f4ed3c54a62a5ea015f757d2cb2475", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/de5cfc87c1f4ed3c54a62a5ea015f757d2cb2475"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/329d2160a4f77a1409ae55f0067d699542498fa3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/329d2160a4f77a1409ae55f0067d699542498fa3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/329d2160a4f77a1409ae55f0067d699542498fa3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/329d2160a4f77a1409ae55f0067d699542498fa3/comments", "author": null, "committer": null, "parents": [{"sha": "882b3f1d354ef71d269d0ab61be13d72f30c7fdf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/882b3f1d354ef71d269d0ab61be13d72f30c7fdf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/882b3f1d354ef71d269d0ab61be13d72f30c7fdf"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "8dae8cf845f6e9818d8461dc78e276b699dd1707", "filename": "gcc/crtstuff.c", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/329d2160a4f77a1409ae55f0067d699542498fa3/gcc%2Fcrtstuff.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/329d2160a4f77a1409ae55f0067d699542498fa3/gcc%2Fcrtstuff.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcrtstuff.c?ref=329d2160a4f77a1409ae55f0067d699542498fa3", "patch": "@@ -76,7 +76,17 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n    INVOKE__main is defined.  This has the additional effect of forcing cc1\n    to switch to the .text section.  */\n static void __do_global_ctors_aux ();\n-void __do_global_ctors () { __do_global_ctors_aux (); }\n+void __do_global_ctors ()\n+{\n+#ifdef INVOKE__main  /* If __main won't actually call __do_global_ctors\n+\t\t\tthen it doesn't matter what's inside the function.\n+\t\t\tThe inside of __do_global_ctors_aux is called\n+\t\t\tautomatically in that case.\n+\t\t\tAnd the Alliant fx2800 linker crashes\n+\t\t\ton this reference.  So prevent the crash.  */\n+  __do_global_ctors_aux ();\n+#endif\n+}\n \n asm (INIT_SECTION_ASM_OP);\t/* cc1 doesn't know that we are switching! */\n "}]}