{"sha": "89820b4331124829971b83929e8ae5f650646c1e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODk4MjBiNDMzMTEyNDgyOTk3MWI4MzkyOWU4YWU1ZjY1MDY0NmMxZQ==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2000-08-01T04:45:34Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2000-08-01T04:45:34Z"}, "message": "ltconfig, ltmain.sh: Update from libtool multi-language branch.\n\n* ltconfig, ltmain.sh: Update from libtool multi-language branch.\n* ltcf-c.sh (need_lc): Fix test message.  Set wl for archive_cmds.\n(ac_cv_prog_cc_pic): Don't print `cached' without `checking'.\n* ltcf-cxx.sh (need_lc): Set based on postdeps.\n\nFrom-SVN: r35405", "tree": {"sha": "8fed1df502bd03a3b0beae14c42b4670796611fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8fed1df502bd03a3b0beae14c42b4670796611fe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/89820b4331124829971b83929e8ae5f650646c1e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89820b4331124829971b83929e8ae5f650646c1e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/89820b4331124829971b83929e8ae5f650646c1e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89820b4331124829971b83929e8ae5f650646c1e/comments", "author": null, "committer": null, "parents": [{"sha": "7905cfefe15c4a2c43803219af5d353252eef9d8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7905cfefe15c4a2c43803219af5d353252eef9d8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7905cfefe15c4a2c43803219af5d353252eef9d8"}], "stats": {"total": 72, "additions": 19, "deletions": 53}, "files": [{"sha": "918883d952152a86cd6817c007b0208b42fa136a", "filename": "ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89820b4331124829971b83929e8ae5f650646c1e/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89820b4331124829971b83929e8ae5f650646c1e/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=89820b4331124829971b83929e8ae5f650646c1e", "patch": "@@ -1,5 +1,10 @@\n 2000-08-01  Alexandre Oliva  <aoliva@redhat.com>\n \n+\t* ltconfig, ltmain.sh: Update from libtool multi-language branch.\n+\t* ltcf-c.sh (need_lc): Fix test message.  Set wl for archive_cmds.\n+\t(ac_cv_prog_cc_pic): Don't print `cached' without `checking'.\n+\t* ltcf-cxx.sh (need_lc): Set based on postdeps.\n+\n \t* configure.in (qCXX_FOR_TARGET): Use echo instead of expr.\n \n 2000-07-31  Alexandre Oliva  <aoliva@redhat.com>"}, {"sha": "73813a82ec18cbe2c52e32fc303063faf577236b", "filename": "ltcf-c.sh", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89820b4331124829971b83929e8ae5f650646c1e/ltcf-c.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89820b4331124829971b83929e8ae5f650646c1e/ltcf-c.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltcf-c.sh?ref=89820b4331124829971b83929e8ae5f650646c1e", "patch": "@@ -1,6 +1,6 @@\n #### This script is meant to be sourced by ltconfig.\n \n-# $Id: ltcf-c.sh,v 1.1.2.9 2000/07/24 05:28:14 oliva Exp $\n+# $Id: ltcf-c.sh,v 1.1 2000/07/28 18:04:21 bkoz Exp $\n \n # ltcf-c.sh - Create a C compiler specific configuration\n #\n@@ -520,7 +520,7 @@ fi\n \n ## Compiler Characteristics: PIC flags, static flags, etc\n if test \"X${ac_cv_prog_cc_pic+set}\" = Xset; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n+  :\n else\n   ac_cv_prog_cc_pic=\n   ac_cv_prog_cc_shlib=\n@@ -653,27 +653,28 @@ if test \"$enable_shared\" = yes && test \"$with_gcc\" = yes; then\n     # Test whether the compiler implicitly links with -lc since on some\n     # systems, -lgcc has to come before -lc. If gcc already passes -lc\n     # to ld, don't add -lc before -lgcc.\n-    echo $ac_n \"checking whether -lc is implicitly linked in... $ac_c\" 1>&6\n+    echo $ac_n \"checking whether -lc should be explicitly linked in... $ac_c\" 1>&6\n     if eval \"test \\\"`echo '$''{'ac_cv_archive_cmds_needs_lc'+set}'`\\\" = set\"; then\n       echo $ac_n \"(cached) $ac_c\" 1>&6\n       need_lc=$ac_cv_archive_cmds_needs_lc\n     else\n       $rm conftest*\n       echo \"static int dummy;\" > conftest.$ac_ext\n-      if { (eval echo $progname:@LINENO@: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>conftest.err; }; then\n+      if { (eval echo ltcf-c.sh:need_lc: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>conftest.err; }; then\n \t# Append any warnings to the config.log.\n \tcat conftest.err 1>&5\n \tsoname=conftest\n \tlib=conftest\n \tlibobjs=conftest.o\n \tdeplibs=\n+\twl=$ac_cv_prog_cc_wl\n \tcompiler_flags=-v\n \tlinker_flags=-v\n \tverstring=\n \toutput_objdir=.\n \tlibname=conftest\n \tallow_undefined_flag=\n-\tif { (eval echo $progname:@LINENO@: \\\"$archive_cmds\\\") 1>&5; (eval $archive_cmds) 2>&1 | grep \" -lc \" 1>&5 ; }; then\n+\tif { (eval echo ltcf-c.sh:need_lc: \\\"$archive_cmds\\\") 1>&5; (eval $archive_cmds) 2>&1 | grep \" -lc \" 1>&5 ; }; then\n \t  need_lc=no\n \tfi\n       else"}, {"sha": "5b28674f3f82bde1ce900a09c0a988942a2e4184", "filename": "ltcf-cxx.sh", "status": "modified", "additions": 5, "deletions": 45, "changes": 50, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89820b4331124829971b83929e8ae5f650646c1e/ltcf-cxx.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89820b4331124829971b83929e8ae5f650646c1e/ltcf-cxx.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltcf-cxx.sh?ref=89820b4331124829971b83929e8ae5f650646c1e", "patch": "@@ -1,6 +1,6 @@\n #### This script is meant to be sourced by ltconfig.\n \n-# $Id: ltcf-cxx.sh,v 1.1.2.18 2000/07/24 06:10:27 oliva Exp $\n+# $Id: ltcf-cxx.sh,v 1.1 2000/07/28 18:04:21 bkoz Exp $\n \n # ltcf-cxx.sh - Create a C++ compiler specific configuration\n #\n@@ -874,47 +874,7 @@ fi\n \n $rm -f confest.$objext\n \n-need_lc=yes\n-if test \"$enable_shared\" = yes && test \"$with_gcc\" = yes; then\n-  case \"$archive_cmds\" in\n-  *'~'*)\n-    # FIXME: we may have to deal with multi-command sequences.\n-    ;;\n-  '$CC '*)\n-    # Test whether the compiler implicitly links with -lc since on some\n-    # systems, -lgcc has to come before -lc. If gcc already passes -lc\n-    # to ld, don't add -lc before -lgcc.\n-    echo $ac_n \"checking whether -lc is implicitly linked in... $ac_c\" 1>&6\n-    if eval \"test \\\"`echo '$''{'ac_cv_cxx_archive_cmds_needs_lc'+set}'`\\\" = set\"; then\n-      echo $ac_n \"(cached) $ac_c\" 1>&6\n-      need_lc=$ac_cv_cxx_archive_cmds_needs_lc\n-    else\n-      $rm conftest*\n-      echo \"static int dummy;\" > conftest.$ac_ext\n-      if { (eval echo $progname:@LINENO@: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>conftest.err; }; then\n-\t# Append any warnings to the config.log.\n-\tcat conftest.err 1>&5\n-\n-\tsoname=conftest\n-\tlib=conftest\n-\tlibobjs=conftest.o\n-\tdeplibs=\n-\tcompiler_flags=-v\n-\tlinker_flags=-v\n-\tverstring=\n-\toutput_objdir=.\n-\tlibname=conftest\n-\tallow_undefined_flag=\n-\tif { (eval echo $progname:@LINENO@: \\\"$archive_cmds\\\") 1>&5; (eval $archive_cmds) 2>&1 | grep \" -lc \" 1>&5 ; }; then\n-\t  need_lc=no\n-\tfi\n-      else\n-\tcat conftest.err 1>&5\n-      fi\n-    fi\n-    $rm conftest*\n-    echo \"$ac_t$need_lc\" 1>&6\n-    ;;\n-  esac\n-fi\n-ac_cv_cxx_archive_cmds_needs_lc=$need_lc\n+case \" $postdeps \" in\n+*\" -lc \"*) need_lc=no ;;\n+*) need_lc=yes ;;\n+esac"}, {"sha": "a352e82e1ff31fa29b6bc8a4af3f2bf398ff9ffd", "filename": "ltconfig", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89820b4331124829971b83929e8ae5f650646c1e/ltconfig", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89820b4331124829971b83929e8ae5f650646c1e/ltconfig", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltconfig?ref=89820b4331124829971b83929e8ae5f650646c1e", "patch": "@@ -181,7 +181,7 @@ progname=`$echo \"X$0\" | $Xsed -e 's%^.*/%%'`\n PROGRAM=ltconfig\n PACKAGE=libtool\n VERSION=1.4a\n-TIMESTAMP=\" (1.641.2.74 2000/07/26 04:31:03)\"\n+TIMESTAMP=\" (1.641.2.77 2000/08/01 04:25:15)\"\n ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'\n ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'\n rm=\"rm -f\""}, {"sha": "056c1dae57146e37e4ad245d0320d4a6762ed787", "filename": "ltmain.sh", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89820b4331124829971b83929e8ae5f650646c1e/ltmain.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89820b4331124829971b83929e8ae5f650646c1e/ltmain.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltmain.sh?ref=89820b4331124829971b83929e8ae5f650646c1e", "patch": "@@ -55,7 +55,7 @@ modename=\"$progname\"\n PROGRAM=ltmain.sh\n PACKAGE=libtool\n VERSION=1.4a\n-TIMESTAMP=\" (1.641.2.74 2000/07/26 04:31:03)\"\n+TIMESTAMP=\" (1.641.2.77 2000/08/01 04:25:15)\"\n \n default_mode=\n help=\"Try \\`$progname --help' for more information.\"\n@@ -4023,7 +4023,7 @@ relink_command=\\\"$relink_command\\\"\"\n     # install_prog (especially on Windows NT).\n     if test \"$nonopt\" = \"$SHELL\" || test \"$nonopt\" = /bin/sh ||\n        # Allow the use of GNU shtool's install command.\n-       expr \"X$nonopt\" : \"X.*shtool.*\" > /dev/null; then\n+       $echo \"X$nonopt\" | $Xsed | grep shtool > /dev/null; then\n       # Aesthetically quote it.\n       arg=`$echo \"X$nonopt\" | $Xsed -e \"$sed_quote_subst\"`\n       case \"$arg\" in"}]}