{"sha": "08cffcce0f0569711be8949bbaf579a54264b9ce", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDhjZmZjY2UwZjA1Njk3MTFiZTg5NDliYmFmNTc5YTU0MjY0YjljZQ==", "commit": {"author": {"name": "Kaz Kojima", "email": "kkojima@gcc.gnu.org", "date": "2003-10-09T04:21:51Z"}, "committer": {"name": "Kaz Kojima", "email": "kkojima@gcc.gnu.org", "date": "2003-10-09T04:21:51Z"}, "message": "t-linux (SHLIB_LINK): Override to use a linker script libgcc_s.so.\n\n\t* config/sh/t-linux (SHLIB_LINK): Override to use a linker script\n\tlibgcc_s.so.\n\t(SHLIB_INSTALL): Likewise.\n\nFrom-SVN: r72254", "tree": {"sha": "2a5329c3bcf0d393438e8f637a99bde72e6b6bf3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2a5329c3bcf0d393438e8f637a99bde72e6b6bf3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/08cffcce0f0569711be8949bbaf579a54264b9ce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08cffcce0f0569711be8949bbaf579a54264b9ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/08cffcce0f0569711be8949bbaf579a54264b9ce", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08cffcce0f0569711be8949bbaf579a54264b9ce/comments", "author": null, "committer": null, "parents": [{"sha": "112a68acadd3f79a79c318c3ef342e5b6760a8ba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/112a68acadd3f79a79c318c3ef342e5b6760a8ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/112a68acadd3f79a79c318c3ef342e5b6760a8ba"}], "stats": {"total": 26, "additions": 26, "deletions": 0}, "files": [{"sha": "f4e78fc78c346d611304710828d933336418b1b9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08cffcce0f0569711be8949bbaf579a54264b9ce/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08cffcce0f0569711be8949bbaf579a54264b9ce/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=08cffcce0f0569711be8949bbaf579a54264b9ce", "patch": "@@ -1,3 +1,9 @@\n+2003-10-08  Kaz Kojima  <kkojima@gcc.gnu.org>\n+\n+\t* config/sh/t-linux (SHLIB_LINK): Override to use a linker script\n+\tlibgcc_s.so.\n+\t(SHLIB_INSTALL): Likewise.\n+\n 2003-10-08  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n \t* doc/install.texi: Remove reference to removed 'pthreads' thread"}, {"sha": "c3c4f9e8a1b6d2fe6b61daff57693aed304666ad", "filename": "gcc/config/sh/t-linux", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08cffcce0f0569711be8949bbaf579a54264b9ce/gcc%2Fconfig%2Fsh%2Ft-linux", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08cffcce0f0569711be8949bbaf579a54264b9ce/gcc%2Fconfig%2Fsh%2Ft-linux", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-linux?ref=08cffcce0f0569711be8949bbaf579a54264b9ce", "patch": "@@ -13,3 +13,23 @@ EXTRA_MULTILIB_PARTS= crtbegin.o crtend.o crtbeginS.o crtendS.o crtbeginT.o\n # Override t-slibgcc-elf-ver to export some libgcc symbols with\n # the symbol versions that glibc used.\n SHLIB_MAPFILES =  $(srcdir)/libgcc-std.ver $(srcdir)/config/sh/libgcc-glibc.ver\n+\n+# Override SHLIB_LINK and SHLIB_INSTALL to use linker script\n+# libgcc_s.so.\n+SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n+\t-Wl,--soname=$(SHLIB_SONAME) \\\n+\t-Wl,--version-script=$(SHLIB_MAP) \\\n+\t-o $(SHLIB_NAME) @multilib_flags@ $(SHLIB_OBJS) $(SHLIB_LC) && \\\n+\trm -f $(SHLIB_SOLINK) && \\\n+\t(echo \"/* GNU ld script\"; \\\n+\t echo \"   Use the shared library, but some functions are only in\"; \\\n+\t echo \"   the static library.  */\"; \\\n+\t echo \"GROUP ( $(SHLIB_SONAME) libgcc.a )\" \\\n+\t) > $(SHLIB_SOLINK)\n+SHLIB_INSTALL = \\\n+\t$$(SHELL) $$(srcdir)/mkinstalldirs $$(slibdir)$(SHLIB_SLIBDIR_QUAL); \\\n+\t$(INSTALL_DATA) $(SHLIB_NAME) \\\n+\t  $$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SONAME); \\\n+\trm -f $$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SOLINK); \\\n+\t$(INSTALL_DATA) $(SHLIB_SOLINK) \\\n+\t  $$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SOLINK)"}]}