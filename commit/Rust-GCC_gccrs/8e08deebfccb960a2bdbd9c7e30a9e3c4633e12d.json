{"sha": "8e08deebfccb960a2bdbd9c7e30a9e3c4633e12d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGUwOGRlZWJmY2NiOTYwYTJiZGJkOWM3ZTMwYTllM2M0NjMzZTEyZA==", "commit": {"author": {"name": "Zdenek Dvorak", "email": "dvorakz@suse.cz", "date": "2006-06-08T08:19:50Z"}, "committer": {"name": "Zdenek Dvorak", "email": "rakdver@gcc.gnu.org", "date": "2006-06-08T08:19:50Z"}, "message": "re PR rtl-optimization/27872 (Internal compiler error in verify_loop_structure)\n\n\tPR tree-optimization/27872\n\t* tree-ssa-loop-manip.c (tree_unroll_loop): Set EDGE_IRREDUCIBLE_LOOP\n\tflag on the new exit edge of the unrolled loop.\n\nFrom-SVN: r114482", "tree": {"sha": "6f86296669830b6ab9e81bdfbae1fea91eb3fd33", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6f86296669830b6ab9e81bdfbae1fea91eb3fd33"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8e08deebfccb960a2bdbd9c7e30a9e3c4633e12d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e08deebfccb960a2bdbd9c7e30a9e3c4633e12d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8e08deebfccb960a2bdbd9c7e30a9e3c4633e12d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e08deebfccb960a2bdbd9c7e30a9e3c4633e12d/comments", "author": null, "committer": null, "parents": [{"sha": "136778e9b41c1d1d095f9e2e74b7255c7ce4f415", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/136778e9b41c1d1d095f9e2e74b7255c7ce4f415", "html_url": "https://github.com/Rust-GCC/gccrs/commit/136778e9b41c1d1d095f9e2e74b7255c7ce4f415"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "ea88049fbd1499cd37049f693a86d74e0446fa1f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8e08deebfccb960a2bdbd9c7e30a9e3c4633e12d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8e08deebfccb960a2bdbd9c7e30a9e3c4633e12d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8e08deebfccb960a2bdbd9c7e30a9e3c4633e12d", "patch": "@@ -1,3 +1,9 @@\n+2006-06-07  Zdenek Dvorak <dvorakz@suse.cz>\n+\n+\tPR tree-optimization/27872\n+\t* tree-ssa-loop-manip.c (tree_unroll_loop): Set EDGE_IRREDUCIBLE_LOOP\n+\tflag on the new exit edge of the unrolled loop.\n+\n 2006-06-07  Zdenek Dvorak <dvorakz@suse.cz>\n \n \tPR rtl-optimization/26449"}, {"sha": "0b29c5ee8b48012a71e5573d8f687864f563871e", "filename": "gcc/tree-ssa-loop-manip.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8e08deebfccb960a2bdbd9c7e30a9e3c4633e12d/gcc%2Ftree-ssa-loop-manip.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8e08deebfccb960a2bdbd9c7e30a9e3c4633e12d/gcc%2Ftree-ssa-loop-manip.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-manip.c?ref=8e08deebfccb960a2bdbd9c7e30a9e3c4633e12d", "patch": "@@ -841,6 +841,7 @@ tree_unroll_loop (struct loops *loops, struct loop *loop, unsigned factor,\n   use_operand_p op;\n   bool ok;\n   unsigned est_niter;\n+  unsigned irr = loop_preheader_edge (loop)->flags & EDGE_IRREDUCIBLE_LOOP;\n   sbitmap wont_exit;\n \n   est_niter = expected_loop_iterations (loop);\n@@ -883,7 +884,7 @@ tree_unroll_loop (struct loops *loops, struct loop *loop, unsigned factor,\n   loop_split_edge_with (loop_latch_edge (loop), NULL);\n   exit_bb = single_pred (loop->latch);\n \n-  new_exit = make_edge (exit_bb, rest, EDGE_FALSE_VALUE);\n+  new_exit = make_edge (exit_bb, rest, EDGE_FALSE_VALUE | irr);\n   new_exit->count = loop_preheader_edge (loop)->count;\n   est_niter = est_niter / factor + 1;\n   new_exit->probability = REG_BR_PROB_BASE / est_niter;"}]}