{"sha": "e1122ddda6332ca3a430b3944053ad8ecf11fb20", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTExMjJkZGRhNjMzMmNhM2E0MzBiMzk0NDA1M2FkOGVjZjExZmIyMA==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@linux.vnet.ibm.com", "date": "2013-02-08T19:36:04Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "2013-02-08T19:36:04Z"}, "message": "re PR target/56043 (ICE in rs6000_builtin_vectorized_libmass for vsx-mass-1.c)\n\n[gcc]\n2013-02-07  Michael Meissner  <meissner@linux.vnet.ibm.com>\n\n\tPR target/56043\n\t* config/rs6000/rs6000.c (rs6000_builtin_vectorized_libmass):\n\tIf there is no implicit builtin declaration, just return NULL.\n\n[gcc/testsuite]\n2013-02-07  Michael Meissner  <meissner@linux.vnet.ibm.com>\n\n\tPR target/56043\n\t* gcc.target/powerpc/vsx-mass-1.c: Only run this test on\n\tpowerpc*-*-linux*.\n\nFrom-SVN: r195898", "tree": {"sha": "cf6d22291ee54fbbf0dfadb2c0e4c22d089bd678", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cf6d22291ee54fbbf0dfadb2c0e4c22d089bd678"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e1122ddda6332ca3a430b3944053ad8ecf11fb20", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1122ddda6332ca3a430b3944053ad8ecf11fb20", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e1122ddda6332ca3a430b3944053ad8ecf11fb20", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1122ddda6332ca3a430b3944053ad8ecf11fb20/comments", "author": null, "committer": null, "parents": [{"sha": "540817f4effea70ca4389cc69075d736a3b44c56", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/540817f4effea70ca4389cc69075d736a3b44c56", "html_url": "https://github.com/Rust-GCC/gccrs/commit/540817f4effea70ca4389cc69075d736a3b44c56"}], "stats": {"total": 23, "additions": 20, "deletions": 3}, "files": [{"sha": "9d668885f259f0d9c88c43ea382da41f091e722b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1122ddda6332ca3a430b3944053ad8ecf11fb20/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1122ddda6332ca3a430b3944053ad8ecf11fb20/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e1122ddda6332ca3a430b3944053ad8ecf11fb20", "patch": "@@ -1,3 +1,9 @@\n+2013-02-08  Michael Meissner  <meissner@linux.vnet.ibm.com>\n+\n+\tPR target/56043\n+\t* config/rs6000/rs6000.c (rs6000_builtin_vectorized_libmass):\n+\tIf there is no implicit builtin declaration, just return NULL.\n+\n 2013-02-08  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* config/i386/sse.md (FMAMODEM): New mode iterator."}, {"sha": "fbf57be44a3474f683ed14505202068c8773d3d1", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1122ddda6332ca3a430b3944053ad8ecf11fb20/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1122ddda6332ca3a430b3944053ad8ecf11fb20/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=e1122ddda6332ca3a430b3944053ad8ecf11fb20", "patch": "@@ -3699,7 +3699,8 @@ rs6000_builtin_vectorized_libmass (tree fndecl, tree type_out, tree type_in)\n \t  bdecl = builtin_decl_implicit (fn);\n \t  suffix = \"d2\";\t\t\t\t/* pow -> powd2 */\n \t  if (el_mode != DFmode\n-\t      || n != 2)\n+\t      || n != 2\n+\t      || !bdecl)\n \t    return NULL_TREE;\n \t  break;\n \n@@ -3736,7 +3737,8 @@ rs6000_builtin_vectorized_libmass (tree fndecl, tree type_out, tree type_in)\n \t  bdecl = builtin_decl_implicit (fn);\n \t  suffix = \"4\";\t\t\t\t\t/* powf -> powf4 */\n \t  if (el_mode != SFmode\n-\t      || n != 4)\n+\t      || n != 4\n+\t      || !bdecl)\n \t    return NULL_TREE;\n \t  break;\n \n@@ -3749,6 +3751,9 @@ rs6000_builtin_vectorized_libmass (tree fndecl, tree type_out, tree type_in)\n \n   gcc_assert (suffix != NULL);\n   bname = IDENTIFIER_POINTER (DECL_NAME (bdecl));\n+  if (!bname)\n+    return NULL_TREE;\n+\n   strcpy (name, bname + sizeof (\"__builtin_\") - 1);\n   strcat (name, suffix);\n "}, {"sha": "583e7d59f45108b14c282cf67664202736c4c955", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1122ddda6332ca3a430b3944053ad8ecf11fb20/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1122ddda6332ca3a430b3944053ad8ecf11fb20/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e1122ddda6332ca3a430b3944053ad8ecf11fb20", "patch": "@@ -1,3 +1,9 @@\n+2013-02-08  Michael Meissner  <meissner@linux.vnet.ibm.com>\n+\n+\tPR target/56043\n+\t* gcc.target/powerpc/vsx-mass-1.c: Only run this test on\n+\tpowerpc*-*-linux*.\n+\n 2013-02-08  Edgar E. Iglesias  <edgar.iglesias@gmail.com>\n \n \t* 20101011-1.c: Add __MICROBLAZE__ exception to set DO_TEST 0"}, {"sha": "adb5c9fae31a2490c7e9601aa7f79261d0358588", "filename": "gcc/testsuite/gcc.target/powerpc/vsx-mass-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1122ddda6332ca3a430b3944053ad8ecf11fb20/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fvsx-mass-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1122ddda6332ca3a430b3944053ad8ecf11fb20/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fvsx-mass-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fvsx-mass-1.c?ref=e1122ddda6332ca3a430b3944053ad8ecf11fb20", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-do compile { target { powerpc*-*-* } } } */\n+/* { dg-do compile { target { powerpc*-*-linux* } } } */\n /* { dg-skip-if \"\" { powerpc*-*-darwin* } { \"*\" } { \"\" } } */\n /* { dg-require-effective-target powerpc_vsx_ok } */\n /* { dg-options \"-O3 -ftree-vectorize -mcpu=power7 -ffast-math -mveclibabi=mass\" } */"}]}