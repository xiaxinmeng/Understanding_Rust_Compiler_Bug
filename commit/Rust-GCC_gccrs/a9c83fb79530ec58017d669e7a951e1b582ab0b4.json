{"sha": "a9c83fb79530ec58017d669e7a951e1b582ab0b4", "node_id": "C_kwDOANBUbNoAKGE5YzgzZmI3OTUzMGVjNTgwMTdkNjY5ZTdhOTUxZTFiNTgyYWIwYjQ", "commit": {"author": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2022-10-11T18:45:21Z"}, "committer": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2022-10-12T08:53:19Z"}, "message": "gcov: rename gcov_write_summary\n\ngcc/ChangeLog:\n\n\t* gcov-io.cc (gcov_write_summary): Rename to ...\n\t(gcov_write_object_summary): ... this.\n\t* gcov-io.h (GCOV_TAG_OBJECT_SUMMARY_LENGTH): Rename from ...\n\t(GCOV_TAG_SUMMARY_LENGTH): ... this.\n\nlibgcc/ChangeLog:\n\n\t* libgcov-driver.c: Use new function.\n\t* libgcov.h (gcov_write_summary): Rename to ...\n\t(gcov_write_object_summary): ... this.", "tree": {"sha": "51a39c9947e3b2818057139ca76e336f0bfadbf5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/51a39c9947e3b2818057139ca76e336f0bfadbf5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a9c83fb79530ec58017d669e7a951e1b582ab0b4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a9c83fb79530ec58017d669e7a951e1b582ab0b4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a9c83fb79530ec58017d669e7a951e1b582ab0b4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a9c83fb79530ec58017d669e7a951e1b582ab0b4/comments", "author": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6d2294a83e1417720e1f8ddf5aa4dc1a35ef89d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d2294a83e1417720e1f8ddf5aa4dc1a35ef89d5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d2294a83e1417720e1f8ddf5aa4dc1a35ef89d5"}], "stats": {"total": 17, "additions": 8, "deletions": 9}, "files": [{"sha": "af5b13c2cf9c9a0812719a0bad60f6e38c4d6c2f", "filename": "gcc/gcov-io.cc", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9c83fb79530ec58017d669e7a951e1b582ab0b4/gcc%2Fgcov-io.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9c83fb79530ec58017d669e7a951e1b582ab0b4/gcc%2Fgcov-io.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcov-io.cc?ref=a9c83fb79530ec58017d669e7a951e1b582ab0b4", "patch": "@@ -372,13 +372,13 @@ gcov_write_length (gcov_position_t position)\n \n #else /* IN_LIBGCOV */\n \n-/* Write a summary structure to the gcov file.  */\n+/* Write an object summary structure to the gcov file.  */\n \n GCOV_LINKAGE void\n-gcov_write_summary (gcov_unsigned_t tag, const struct gcov_summary *summary)\n+gcov_write_object_summary (const struct gcov_summary *summary)\n {\n-  gcov_write_unsigned (tag);\n-  gcov_write_unsigned (GCOV_TAG_SUMMARY_LENGTH);\n+  gcov_write_unsigned (GCOV_TAG_OBJECT_SUMMARY);\n+  gcov_write_unsigned (GCOV_TAG_OBJECT_SUMMARY_LENGTH);\n   gcov_write_unsigned (summary->runs);\n   gcov_write_unsigned (summary->sum_max);\n }"}, {"sha": "e91cd736556d6c609c93206b570110180753e8c5", "filename": "gcc/gcov-io.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9c83fb79530ec58017d669e7a951e1b582ab0b4/gcc%2Fgcov-io.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9c83fb79530ec58017d669e7a951e1b582ab0b4/gcc%2Fgcov-io.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcov-io.h?ref=a9c83fb79530ec58017d669e7a951e1b582ab0b4", "patch": "@@ -266,8 +266,8 @@ typedef uint64_t gcov_type_unsigned;\n #define GCOV_TAG_COUNTER_LENGTH(NUM) ((NUM) * 2 * GCOV_WORD_SIZE)\n #define GCOV_TAG_COUNTER_NUM(LENGTH) ((LENGTH / GCOV_WORD_SIZE) / 2)\n #define GCOV_TAG_OBJECT_SUMMARY  ((gcov_unsigned_t)0xa1000000)\n+#define GCOV_TAG_OBJECT_SUMMARY_LENGTH (2 * GCOV_WORD_SIZE)\n #define GCOV_TAG_PROGRAM_SUMMARY ((gcov_unsigned_t)0xa3000000) /* Obsolete */\n-#define GCOV_TAG_SUMMARY_LENGTH (2 * GCOV_WORD_SIZE)\n #define GCOV_TAG_AFDO_FILE_NAMES ((gcov_unsigned_t)0xaa000000)\n #define GCOV_TAG_AFDO_FUNCTION ((gcov_unsigned_t)0xac000000)\n #define GCOV_TAG_AFDO_WORKING_SET ((gcov_unsigned_t)0xaf000000)"}, {"sha": "e1b74c81e07439fbf73ce0b53c8fdba8035cca70", "filename": "libgcc/libgcov-driver.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9c83fb79530ec58017d669e7a951e1b582ab0b4/libgcc%2Flibgcov-driver.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9c83fb79530ec58017d669e7a951e1b582ab0b4/libgcc%2Flibgcov-driver.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Flibgcov-driver.c?ref=a9c83fb79530ec58017d669e7a951e1b582ab0b4", "patch": "@@ -520,7 +520,7 @@ write_one_data (const struct gcov_info *gi_ptr,\n \n #ifdef NEED_L_GCOV\n   /* Generate whole program statistics.  */\n-  gcov_write_summary (GCOV_TAG_OBJECT_SUMMARY, prg_p);\n+  gcov_write_object_summary (prg_p);\n #endif\n \n   /* Write execution counts for each function.  */"}, {"sha": "5e7bd0e34544eaca35493d8eb35bb1d084886722", "filename": "libgcc/libgcov.h", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9c83fb79530ec58017d669e7a951e1b582ab0b4/libgcc%2Flibgcov.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9c83fb79530ec58017d669e7a951e1b582ab0b4/libgcc%2Flibgcov.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Flibgcov.h?ref=a9c83fb79530ec58017d669e7a951e1b582ab0b4", "patch": "@@ -118,7 +118,7 @@ typedef unsigned gcov_type_unsigned __attribute__ ((mode (QI)));\n #define gcov_rewrite __gcov_rewrite\n #define gcov_is_error __gcov_is_error\n #define gcov_write_unsigned __gcov_write_unsigned\n-#define gcov_write_summary __gcov_write_summary\n+#define gcov_write_object_summary __gcov_write_object_summary\n #define gcov_read_unsigned __gcov_read_unsigned\n #define gcov_read_counter __gcov_read_counter\n #define gcov_read_summary __gcov_read_summary\n@@ -342,8 +342,7 @@ extern int __gcov_execve (const char *, char  *const [], char *const [])\n   ATTRIBUTE_HIDDEN;\n \n /* Functions that only available in libgcov.  */\n-GCOV_LINKAGE void gcov_write_summary (gcov_unsigned_t /*tag*/,\n-                                      const struct gcov_summary *)\n+GCOV_LINKAGE void gcov_write_object_summary (const struct gcov_summary *)\n     ATTRIBUTE_HIDDEN;\n GCOV_LINKAGE void gcov_rewrite (void) ATTRIBUTE_HIDDEN;\n "}]}