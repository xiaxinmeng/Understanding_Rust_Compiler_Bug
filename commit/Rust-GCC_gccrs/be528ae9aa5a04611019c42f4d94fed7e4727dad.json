{"sha": "be528ae9aa5a04611019c42f4d94fed7e4727dad", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmU1MjhhZTlhYTVhMDQ2MTEwMTljNDJmNGQ5NGZlZDdlNDcyN2RhZA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2017-12-16T01:49:54Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2017-12-16T01:49:54Z"}, "message": "os: pass -s to hostname on AIX\n    \n    Reviewed-on: https://go-review.googlesource.com/79375\n\nFrom-SVN: r255738", "tree": {"sha": "fab1cf2de0b37122b65e594768c9975400a13a7d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fab1cf2de0b37122b65e594768c9975400a13a7d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/be528ae9aa5a04611019c42f4d94fed7e4727dad", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be528ae9aa5a04611019c42f4d94fed7e4727dad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/be528ae9aa5a04611019c42f4d94fed7e4727dad", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be528ae9aa5a04611019c42f4d94fed7e4727dad/comments", "author": null, "committer": null, "parents": [{"sha": "fe6272cc446f327c8e72c0c99aebd69fe9672c21", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe6272cc446f327c8e72c0c99aebd69fe9672c21", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fe6272cc446f327c8e72c0c99aebd69fe9672c21"}], "stats": {"total": 14, "additions": 10, "deletions": 4}, "files": [{"sha": "b54038f82e03ed430433271977856f1e80fd6e70", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be528ae9aa5a04611019c42f4d94fed7e4727dad/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be528ae9aa5a04611019c42f4d94fed7e4727dad/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=be528ae9aa5a04611019c42f4d94fed7e4727dad", "patch": "@@ -1,4 +1,4 @@\n-d1f90c9b77baca5c33a398ab844fb4440c6a5ee7\n+97eb3f61cf1c2cc01b9db6ed20e39bc04573c207\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "9033c4fcdb54f0ca60cee1a68d225d374359f368", "filename": "libgo/go/os/os_test.go", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be528ae9aa5a04611019c42f4d94fed7e4727dad/libgo%2Fgo%2Fos%2Fos_test.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be528ae9aa5a04611019c42f4d94fed7e4727dad/libgo%2Fgo%2Fos%2Fos_test.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fos%2Fos_test.go?ref=be528ae9aa5a04611019c42f4d94fed7e4727dad", "patch": "@@ -1440,15 +1440,15 @@ func TestOpenNoName(t *testing.T) {\n \t}\n }\n \n-func runBinHostname(t *testing.T) string {\n+func runBinHostname(t *testing.T, argv []string) string {\n \t// Run /bin/hostname and collect output.\n \tr, w, err := Pipe()\n \tif err != nil {\n \t\tt.Fatal(err)\n \t}\n \tdefer r.Close()\n \tconst path = \"/bin/hostname\"\n-\tp, err := StartProcess(path, []string{\"hostname\"}, &ProcAttr{Files: []*File{nil, w, Stderr}})\n+\tp, err := StartProcess(path, argv, &ProcAttr{Files: []*File{nil, w, Stderr}})\n \tif err != nil {\n \t\tif _, err := Stat(path); IsNotExist(err) {\n \t\t\tt.Skipf(\"skipping test; test requires %s but it does not exist\", path)\n@@ -1514,7 +1514,13 @@ func TestHostname(t *testing.T) {\n \tif err != nil {\n \t\tt.Fatalf(\"%v\", err)\n \t}\n-\twant := runBinHostname(t)\n+\n+\tvar want string\n+\tif runtime.GOOS == \"aix\" {\n+\t\twant = runBinHostname(t, []string{\"hostname\", \"-s\"})\n+\t} else {\n+\t\twant = runBinHostname(t, []string{\"hostname\"})\n+\t}\n \tif hostname != want {\n \t\ti := strings.Index(hostname, \".\")\n \t\tif i < 0 || hostname[0:i] != want {"}]}