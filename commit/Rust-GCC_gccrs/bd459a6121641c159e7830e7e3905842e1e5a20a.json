{"sha": "bd459a6121641c159e7830e7e3905842e1e5a20a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmQ0NTlhNjEyMTY0MWMxNTllNzgzMGU3ZTM5MDU4NDJlMWU1YTIwYQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2013-07-30T16:48:52Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2013-07-30T16:48:52Z"}, "message": "re PR c++/57947 (internal compiler error: Segmentation fault using extended initializer lists without -std=c++11 or -std=gnu++11)\n\n/cp\n2013-07-30  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/57947\n\t* call.c (is_std_init_list): Return false if cxx_dialect == cxx98.\n\n/testsuite\n2013-07-30  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/57947\n\t* g++.dg/parse/crash63.C: New.\n\nFrom-SVN: r201344", "tree": {"sha": "967d6930d5acbf9c1f5808517b4e414cc7571aef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/967d6930d5acbf9c1f5808517b4e414cc7571aef"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bd459a6121641c159e7830e7e3905842e1e5a20a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd459a6121641c159e7830e7e3905842e1e5a20a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bd459a6121641c159e7830e7e3905842e1e5a20a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd459a6121641c159e7830e7e3905842e1e5a20a/comments", "author": null, "committer": null, "parents": [{"sha": "02cab1c17d01ff160ab64281acc85a5c3709cafd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/02cab1c17d01ff160ab64281acc85a5c3709cafd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/02cab1c17d01ff160ab64281acc85a5c3709cafd"}], "stats": {"total": 22, "additions": 22, "deletions": 0}, "files": [{"sha": "b0c9dcd6448bf8beb1e00d2bdeecd8984cc079a5", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd459a6121641c159e7830e7e3905842e1e5a20a/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd459a6121641c159e7830e7e3905842e1e5a20a/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=bd459a6121641c159e7830e7e3905842e1e5a20a", "patch": "@@ -1,3 +1,8 @@\n+2013-07-30  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/57947\n+\t* call.c (is_std_init_list): Return false if cxx_dialect == cxx98.\n+\n 2013-07-29  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/57901"}, {"sha": "56346063f3db7ce2dc2f4a991b191605a0beb35a", "filename": "gcc/cp/call.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd459a6121641c159e7830e7e3905842e1e5a20a/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd459a6121641c159e7830e7e3905842e1e5a20a/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=bd459a6121641c159e7830e7e3905842e1e5a20a", "patch": "@@ -9396,6 +9396,8 @@ is_std_init_list (tree type)\n   /* Look through typedefs.  */\n   if (!TYPE_P (type))\n     return false;\n+  if (cxx_dialect == cxx98)\n+    return false;\n   type = TYPE_MAIN_VARIANT (type);\n   return (CLASS_TYPE_P (type)\n \t  && CP_TYPE_CONTEXT (type) == std_node"}, {"sha": "dd8f7ea65a8726129c870e289d94e0b1a527407b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd459a6121641c159e7830e7e3905842e1e5a20a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd459a6121641c159e7830e7e3905842e1e5a20a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=bd459a6121641c159e7830e7e3905842e1e5a20a", "patch": "@@ -1,3 +1,8 @@\n+2013-07-30  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/57947\n+\t* g++.dg/parse/crash63.C: New.\n+\n 2013-07-30  Tobias Burnus  <burnus@net-b.de>\n \n \tPR fortran/57530"}, {"sha": "c7189c2c17e95cf8b6bde6be77c804c40969defb", "filename": "gcc/testsuite/g++.dg/parse/crash63.C", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd459a6121641c159e7830e7e3905842e1e5a20a/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fcrash63.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd459a6121641c159e7830e7e3905842e1e5a20a/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fcrash63.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fcrash63.C?ref=bd459a6121641c159e7830e7e3905842e1e5a20a", "patch": "@@ -0,0 +1,10 @@\n+// PR c++/57947\n+// { dg-options \"-std=c++98\" }\n+\n+namespace std\n+{\n+  template <class E> class initializer_list {};\n+  template <int N> struct D { D(initializer_list<int>) {} };\n+  D<0> d {1, 2, 3};  // { dg-error \"constructor|no matching\" }\n+  // { dg-warning \"initializer list\" \"\" { target *-*-* } 8 }\n+}"}]}