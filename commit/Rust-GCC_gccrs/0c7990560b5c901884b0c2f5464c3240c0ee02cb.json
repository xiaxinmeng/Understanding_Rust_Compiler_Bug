{"sha": "0c7990560b5c901884b0c2f5464c3240c0ee02cb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGM3OTkwNTYwYjVjOTAxODg0YjBjMmY1NDY0YzMyNDBjMGVlMDJjYg==", "commit": {"author": {"name": "Chen Gang", "email": "gang.chen.5i5j@gmail.com", "date": "2015-01-22T16:40:51Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2015-01-22T16:40:51Z"}, "message": "toplev.c (init_local_tick): Process the failure when read fails for random_seed.\n\n\t* toplev.c (init_local_tick): Process the failure when read\n\tfails for random_seed.\n\nFrom-SVN: r220006", "tree": {"sha": "3b0f3d1cdd2843bf451a763f8e644194a160d89e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3b0f3d1cdd2843bf451a763f8e644194a160d89e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0c7990560b5c901884b0c2f5464c3240c0ee02cb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c7990560b5c901884b0c2f5464c3240c0ee02cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0c7990560b5c901884b0c2f5464c3240c0ee02cb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c7990560b5c901884b0c2f5464c3240c0ee02cb/comments", "author": {"login": "Chen-Gang", "id": 4986314, "node_id": "MDQ6VXNlcjQ5ODYzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4986314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Chen-Gang", "html_url": "https://github.com/Chen-Gang", "followers_url": "https://api.github.com/users/Chen-Gang/followers", "following_url": "https://api.github.com/users/Chen-Gang/following{/other_user}", "gists_url": "https://api.github.com/users/Chen-Gang/gists{/gist_id}", "starred_url": "https://api.github.com/users/Chen-Gang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Chen-Gang/subscriptions", "organizations_url": "https://api.github.com/users/Chen-Gang/orgs", "repos_url": "https://api.github.com/users/Chen-Gang/repos", "events_url": "https://api.github.com/users/Chen-Gang/events{/privacy}", "received_events_url": "https://api.github.com/users/Chen-Gang/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e34a176a117fb0732f3b2da7e6f0aca3cc67a82e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e34a176a117fb0732f3b2da7e6f0aca3cc67a82e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e34a176a117fb0732f3b2da7e6f0aca3cc67a82e"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "aeddcb8e66ecb4db49a041f1950673fb0e9cb8fa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c7990560b5c901884b0c2f5464c3240c0ee02cb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c7990560b5c901884b0c2f5464c3240c0ee02cb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0c7990560b5c901884b0c2f5464c3240c0ee02cb", "patch": "@@ -1,5 +1,8 @@\n 2015-01-23  Chen Gang  <gang.chen.5i5j@gmail.com>\n \n+\t* toplev.c (init_local_tick): Process the failure when read\n+\tfails for random_seed.\n+\n \t* ubsan.c (ubsan_type_descriptor): Use 'pretty_print' for\n \t'pretty_name' to avoid memory overflow.\n "}, {"sha": "15b85e1d2e917f4118cded035cea1e307e1798e2", "filename": "gcc/toplev.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c7990560b5c901884b0c2f5464c3240c0ee02cb/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c7990560b5c901884b0c2f5464c3240c0ee02cb/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=0c7990560b5c901884b0c2f5464c3240c0ee02cb", "patch": "@@ -295,7 +295,9 @@ init_local_tick (void)\n       int fd = open (\"/dev/urandom\", O_RDONLY);\n       if (fd >= 0)\n         {\n-          read (fd, &random_seed, sizeof (random_seed));\n+          if (read (fd, &random_seed, sizeof (random_seed))\n+              != sizeof (random_seed))\n+            random_seed = 0;\n           close (fd);\n         }\n "}]}