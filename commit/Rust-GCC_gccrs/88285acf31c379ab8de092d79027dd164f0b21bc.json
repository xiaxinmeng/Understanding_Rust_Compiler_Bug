{"sha": "88285acf31c379ab8de092d79027dd164f0b21bc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODgyODVhY2YzMWMzNzlhYjhkZTA5MmQ3OTAyN2RkMTY0ZjBiMjFiYw==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-03-18T21:57:23Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-03-18T21:57:23Z"}, "message": "(mark_used_regs, case SUBREG): Set reg_changes_size even for integer\nmodes.\n\nFrom-SVN: r9205", "tree": {"sha": "b0a51875dc451e9c5ef69376bdda3e5da7efc070", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b0a51875dc451e9c5ef69376bdda3e5da7efc070"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/88285acf31c379ab8de092d79027dd164f0b21bc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88285acf31c379ab8de092d79027dd164f0b21bc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88285acf31c379ab8de092d79027dd164f0b21bc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88285acf31c379ab8de092d79027dd164f0b21bc/comments", "author": null, "committer": null, "parents": [{"sha": "6bc2f582c27d6880d5cfae7cdc1cfc9009afb2ef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6bc2f582c27d6880d5cfae7cdc1cfc9009afb2ef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6bc2f582c27d6880d5cfae7cdc1cfc9009afb2ef"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "585d240d690810809c2eef238699f8903fc3d044", "filename": "gcc/flow.c", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88285acf31c379ab8de092d79027dd164f0b21bc/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88285acf31c379ab8de092d79027dd164f0b21bc/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=88285acf31c379ab8de092d79027dd164f0b21bc", "patch": "@@ -1,5 +1,5 @@\n /* Data flow analysis for GNU compiler.\n-   Copyright (C) 1987, 1988, 1992, 1993, 1994 Free Software Foundation, Inc.\n+   Copyright (C) 1987, 88, 92, 93, 94, 1995 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -2379,9 +2379,7 @@ mark_used_regs (needed, live, x, final, insn)\n       if (GET_CODE (SUBREG_REG (x)) == REG\n \t  && REGNO (SUBREG_REG (x)) >= FIRST_PSEUDO_REGISTER\n \t  && (GET_MODE_SIZE (GET_MODE (x))\n-\t      != GET_MODE_SIZE (GET_MODE (SUBREG_REG (x))))\n-\t  && (INTEGRAL_MODE_P (GET_MODE (x))\n-\t      || INTEGRAL_MODE_P (GET_MODE (SUBREG_REG (x)))))\n+\t      != GET_MODE_SIZE (GET_MODE (SUBREG_REG (x)))))\n \treg_changes_size[REGNO (SUBREG_REG (x))] = 1;\n \n       /* While we're here, optimize this case.  */\n@@ -2572,6 +2570,13 @@ mark_used_regs (needed, live, x, final, insn)\n \t       || GET_CODE (testreg) == SIGN_EXTRACT\n \t       || GET_CODE (testreg) == SUBREG)\n \t  {\n+\t    if (GET_CODE (testreg) == SUBREG\n+\t\t&& GET_CODE (SUBREG_REG (testreg)) == REG\n+\t\t&& REGNO (SUBREG_REG (testreg)) >= FIRST_PSEUDO_REGISTER\n+\t\t&& (GET_MODE_SIZE (GET_MODE (testreg))\n+\t\t    != GET_MODE_SIZE (GET_MODE (SUBREG_REG (testreg)))))\n+\t      reg_changes_size[REGNO (SUBREG_REG (testreg))] = 1;\n+\n \t    /* Modifying a single register in an alternate mode\n \t       does not use any of the old value.  But these other\n \t       ways of storing in a register do use the old value.  */"}]}