{"sha": "c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzdkMGRlODliYjM5MzM2ZThmN2MwZjFmMWFiMDI2OTc1YmVkZjNlMA==", "commit": {"author": {"name": "Manuel L\u00f3pez-Ib\u00e1\u00f1ez", "email": "manu@gcc.gnu.org", "date": "2010-04-23T17:14:27Z"}, "committer": {"name": "Manuel L\u00f3pez-Ib\u00e1\u00f1ez", "email": "manu@gcc.gnu.org", "date": "2010-04-23T17:14:27Z"}, "message": "toplev.c (general_init): Set default for fdiagnostics-show-option.\n\n2010-04-23  Manuel L\u00f3pez-Ib\u00e1\u00f1ez  <manu@gcc.gnu.org>\n\n\t* toplev.c (general_init): Set default for\n\tfdiagnostics-show-option.\n\t* opts.c (common_handle_option): Allow disabling it.\n\t* common.opt (fdiagnostics-show-option): Add Var. Enabled by\n\tdefault.\ntestsuite/\t\n\t* gcc.dg/Wconversion-integer.c: Update.\n\nFrom-SVN: r158676", "tree": {"sha": "1bd60315cdebd2b26ebe8aeecf9ac37d57f3b68a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1bd60315cdebd2b26ebe8aeecf9ac37d57f3b68a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0/comments", "author": null, "committer": null, "parents": [{"sha": "915f592197faeac0125688de07a5a8862c7e8995", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/915f592197faeac0125688de07a5a8862c7e8995", "html_url": "https://github.com/Rust-GCC/gccrs/commit/915f592197faeac0125688de07a5a8862c7e8995"}], "stats": {"total": 21, "additions": 17, "deletions": 4}, "files": [{"sha": "2ec92ea6583e91da2edebb5aa4ef8be7bd242b96", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0", "patch": "@@ -1,3 +1,11 @@\n+2010-04-23  Manuel L\u00f3pez-Ib\u00e1\u00f1ez  <manu@gcc.gnu.org>\n+\n+\t* toplev.c (general_init): Set default for\n+\tfdiagnostics-show-option.\n+\t* opts.c (common_handle_option): Allow disabling it.\n+\t* common.opt (fdiagnostics-show-option): Add Var. Enabled by\n+\tdefault.\n+\t\n 2010-04-23  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* expr.c (expand_expr_real_1) <VIEW_CONVERT_EXPR>: Only use conversion"}, {"sha": "70b2c9050bfb1a3e2aa013b7442b3b4438e14d75", "filename": "gcc/common.opt", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0/gcc%2Fcommon.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0/gcc%2Fcommon.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon.opt?ref=c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0", "patch": "@@ -465,7 +465,7 @@ Common Joined RejectNegative\n -fdiagnostics-show-location=[once|every-line]\tHow often to emit source location at the beginning of line-wrapped diagnostics\n \n fdiagnostics-show-option\n-Common\n+Common Var(flag_diagnostics_show_option) Init(1)\n Amend appropriate diagnostic messages with the command line option that controls them\n \n fdump-"}, {"sha": "0009a749daee1ec6180ed52c17e800b0ff0c04e2", "filename": "gcc/opts.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0/gcc%2Fopts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0/gcc%2Fopts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fopts.c?ref=c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0", "patch": "@@ -1766,7 +1766,7 @@ common_handle_option (size_t scode, const char *arg, int value,\n       break;\n \n     case OPT_fdiagnostics_show_option:\n-      global_dc->show_option_requested = true;\n+      global_dc->show_option_requested = value;\n       break;\n \n     case OPT_fdump_:"}, {"sha": "6e32296a3a9cf2d9b70dc17d485095aa7410143c", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0", "patch": "@@ -1,3 +1,7 @@\n+2010-04-23  Manuel L\u00f3pez-Ib\u00e1\u00f1ez  <manu@gcc.gnu.org>\n+\n+\t* gcc.dg/Wconversion-integer.c: Update.\n+\n 2010-04-23  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gnat.dg/unchecked_convert5.adb: New test."}, {"sha": "d50b155699b634f991cffd5e171e0583d2049e2a", "filename": "gcc/testsuite/gcc.dg/Wconversion-integer.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0/gcc%2Ftestsuite%2Fgcc.dg%2FWconversion-integer.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0/gcc%2Ftestsuite%2Fgcc.dg%2FWconversion-integer.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2FWconversion-integer.c?ref=c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0", "patch": "@@ -40,9 +40,9 @@ void h (int x)\n   fuc ('A');\n   uc = 'A';\n \n-  uc = x ? 1U : -1; /* { dg-warning \"conversion\" } */\n+  uc = x ? 1U : -1; /* { dg-warning \" conversion\" } */\n   /* { dg-warning \"negative integer implicitly converted to unsigned type\" \"\" { target *-*-* } 43 } */\n-  uc = x ? SCHAR_MIN : 1U; /* { dg-warning \"conversion\" } */\n+  uc = x ? SCHAR_MIN : 1U; /* { dg-warning \" conversion\" } */\n   /* { dg-warning \"negative integer implicitly converted to unsigned type\" \"\" { target *-*-* } 45 } */\n   uc = x ? 1 : -1; /* { dg-warning \"negative integer implicitly converted to unsigned type\" } */\n   uc = x ? SCHAR_MIN : 1; /* { dg-warning \"negative integer implicitly converted to unsigned type\" } */"}, {"sha": "0dce6ee8e43f7d782c211dea0731c3b07371d463", "filename": "gcc/toplev.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=c7d0de89bb39336e8f7c0f1f1ab026975bedf3e0", "patch": "@@ -1694,6 +1694,7 @@ general_init (const char *argv0)\n   /* Set a default printer.  Language specific initializations will\n      override it later.  */\n   pp_format_decoder (global_dc->printer) = &default_tree_printer;\n+  global_dc->show_option_requested = flag_diagnostics_show_option;\n \n   /* Trap fatal signals, e.g. SIGSEGV, and convert them to ICE messages.  */\n #ifdef SIGSEGV"}]}