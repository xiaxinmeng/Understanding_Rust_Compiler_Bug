{"sha": "fee013ef9c3eda9f8822c257847a8b6c2dc071b7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmVlMDEzZWY5YzNlZGE5Zjg4MjJjMjU3ODQ3YThiNmMyZGMwNzFiNw==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@TechFak.Uni-Bielefeld.DE", "date": "2001-06-07T17:22:20Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2001-06-07T17:22:20Z"}, "message": "gthr-posix.h (__gthread_objc_thread_detach): Simply cast pthread_t to objc_thread_t.\n\n\t* gthr-posix.h (__gthread_objc_thread_detach): Simply cast\n\tpthread_t to objc_thread_t.\n\t(__gthread_objc_thread_id): Likewise.\n\nFrom-SVN: r42974", "tree": {"sha": "ae32b2ce1be1ef99086137517d123a6a5b8f52fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ae32b2ce1be1ef99086137517d123a6a5b8f52fb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fee013ef9c3eda9f8822c257847a8b6c2dc071b7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fee013ef9c3eda9f8822c257847a8b6c2dc071b7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fee013ef9c3eda9f8822c257847a8b6c2dc071b7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fee013ef9c3eda9f8822c257847a8b6c2dc071b7/comments", "author": null, "committer": null, "parents": [{"sha": "5076b0ead93634134a9037d90ef107367adbe69d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5076b0ead93634134a9037d90ef107367adbe69d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5076b0ead93634134a9037d90ef107367adbe69d"}], "stats": {"total": 18, "additions": 10, "deletions": 8}, "files": [{"sha": "05026ed63479c9f02e4bdbab1f685b26f6741729", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fee013ef9c3eda9f8822c257847a8b6c2dc071b7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fee013ef9c3eda9f8822c257847a8b6c2dc071b7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fee013ef9c3eda9f8822c257847a8b6c2dc071b7", "patch": "@@ -1,3 +1,9 @@\n+2001-06-07  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n+\n+\t* gthr-posix.h (__gthread_objc_thread_detach): Simply cast\n+\tpthread_t to objc_thread_t.\n+\t(__gthread_objc_thread_id): Likewise.\n+\n 2001-06-07  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n \n \t* alpha/osf5.h (CPP_XFLOAT_SPEC): Override default definition."}, {"sha": "2042ebe05639eba1956460091577eaabe2818dd0", "filename": "gcc/gthr-posix.h", "status": "modified", "additions": 4, "deletions": 8, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fee013ef9c3eda9f8822c257847a8b6c2dc071b7/gcc%2Fgthr-posix.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fee013ef9c3eda9f8822c257847a8b6c2dc071b7/gcc%2Fgthr-posix.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgthr-posix.h?ref=fee013ef9c3eda9f8822c257847a8b6c2dc071b7", "patch": "@@ -1,6 +1,6 @@\n /* Threads compatibility routines for libgcc2 and libobjc.  */\n /* Compile this one with gcc.  */\n-/* Copyright (C) 1997, 1999, 2000 Free Software Foundation, Inc.\n+/* Copyright (C) 1997, 1999, 2000, 2001 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -158,7 +158,7 @@ __gthread_objc_thread_detach(void (*func)(void *), void *arg)\n     return NULL;\n  \n   if ( !(pthread_create(&new_thread_handle, NULL, (void *)func, arg)) )\n-    thread_id = *(objc_thread_t *)&new_thread_handle;\n+    thread_id = (objc_thread_t) new_thread_handle;\n   else\n     thread_id = NULL;\n   \n@@ -246,13 +246,9 @@ static inline objc_thread_t\n __gthread_objc_thread_id(void)\n {\n   if (__gthread_active_p ())\n-    {\n-      pthread_t self = pthread_self();\n-\n-      return *(objc_thread_t *)&self;\n-    }\n+    return (objc_thread_t) pthread_self();\n   else\n-    return (objc_thread_t)1;\n+    return (objc_thread_t) 1;\n }\n \n /* Sets the thread's local storage pointer. */"}]}