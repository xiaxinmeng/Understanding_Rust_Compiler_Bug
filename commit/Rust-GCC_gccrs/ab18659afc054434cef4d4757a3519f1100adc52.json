{"sha": "ab18659afc054434cef4d4757a3519f1100adc52", "node_id": "C_kwDOANBUbNoAKGFiMTg2NTlhZmMwNTQ0MzRjZWY0ZDQ3NTdhMzUxOWYxMTAwYWRjNTI", "commit": {"author": {"name": "H.J. Lu", "email": "hjl.tools@gmail.com", "date": "2021-12-16T04:45:58Z"}, "committer": {"name": "H.J. Lu", "email": "hjl.tools@gmail.com", "date": "2021-12-16T04:45:58Z"}, "message": "Revert \"Sync with binutils: GCC: Pass --plugin to AR and RANLIB\"\n\nThis reverts commit bf8cdd35117dea2049abbeebcdf14de11b323ef7.", "tree": {"sha": "f93a5c5823b4df35d43dd5e81c6c24e38e997512", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f93a5c5823b4df35d43dd5e81c6c24e38e997512"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ab18659afc054434cef4d4757a3519f1100adc52", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab18659afc054434cef4d4757a3519f1100adc52", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab18659afc054434cef4d4757a3519f1100adc52", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab18659afc054434cef4d4757a3519f1100adc52/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e1f8c14b9a0387e2beffeee002c56164166a265b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1f8c14b9a0387e2beffeee002c56164166a265b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e1f8c14b9a0387e2beffeee002c56164166a265b"}], "stats": {"total": 201, "additions": 10, "deletions": 191}, "files": [{"sha": "79c77fccf0f3f39ff9406df0ab4136f64678ad5e", "filename": "Makefile.in", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab18659afc054434cef4d4757a3519f1100adc52/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab18659afc054434cef4d4757a3519f1100adc52/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=ab18659afc054434cef4d4757a3519f1100adc52", "patch": "@@ -418,7 +418,7 @@ MAKEINFOFLAGS = --split-size=5000000\n # ---------------------------------------------\n \n AS = @AS@\n-AR = @AR@ @AR_PLUGIN_OPTION@\n+AR = @AR@\n AR_FLAGS = rc\n CC = @CC@\n CXX = @CXX@\n@@ -429,7 +429,7 @@ LIPO = @LIPO@\n NM = @NM@\n OBJDUMP = @OBJDUMP@\n OTOOL = @OTOOL@\n-RANLIB = @RANLIB@ @RANLIB_PLUGIN_OPTION@\n+RANLIB = @RANLIB@\n READELF = @READELF@\n STRIP = @STRIP@\n WINDRES = @WINDRES@\n@@ -66712,7 +66712,6 @@ AUTOCONF = autoconf\n $(srcdir)/configure: @MAINT@ $(srcdir)/configure.ac $(srcdir)/config/acx.m4 \\\n \t$(srcdir)/config/override.m4 $(srcdir)/config/proginstall.m4 \\\n \t$(srcdir)/config/elf.m4 $(srcdir)/config/isl.m4 \\\n-\t$(srcdir)/config/gcc-plugin.m4 \\\n \t$(srcdir)/libtool.m4 $(srcdir)/ltoptions.m4 $(srcdir)/ltsugar.m4 \\\n \t$(srcdir)/ltversion.m4 $(srcdir)/lt~obsolete.m4\n \tcd $(srcdir) && $(AUTOCONF)"}, {"sha": "ef58fac2b9a8b38a990371f2619c04a3c1c5a9d4", "filename": "Makefile.tpl", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab18659afc054434cef4d4757a3519f1100adc52/Makefile.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab18659afc054434cef4d4757a3519f1100adc52/Makefile.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.tpl?ref=ab18659afc054434cef4d4757a3519f1100adc52", "patch": "@@ -421,7 +421,7 @@ MAKEINFOFLAGS = --split-size=5000000\n # ---------------------------------------------\n \n AS = @AS@\n-AR = @AR@ @AR_PLUGIN_OPTION@\n+AR = @AR@\n AR_FLAGS = rc\n CC = @CC@\n CXX = @CXX@\n@@ -432,7 +432,7 @@ LIPO = @LIPO@\n NM = @NM@\n OBJDUMP = @OBJDUMP@\n OTOOL = @OTOOL@\n-RANLIB = @RANLIB@ @RANLIB_PLUGIN_OPTION@\n+RANLIB = @RANLIB@\n READELF = @READELF@\n STRIP = @STRIP@\n WINDRES = @WINDRES@\n@@ -2094,7 +2094,6 @@ AUTOCONF = autoconf\n $(srcdir)/configure: @MAINT@ $(srcdir)/configure.ac $(srcdir)/config/acx.m4 \\\n \t$(srcdir)/config/override.m4 $(srcdir)/config/proginstall.m4 \\\n \t$(srcdir)/config/elf.m4 $(srcdir)/config/isl.m4 \\\n-\t$(srcdir)/config/gcc-plugin.m4 \\\n \t$(srcdir)/libtool.m4 $(srcdir)/ltoptions.m4 $(srcdir)/ltsugar.m4 \\\n \t$(srcdir)/ltversion.m4 $(srcdir)/lt~obsolete.m4\n \tcd $(srcdir) && $(AUTOCONF)"}, {"sha": "7ee342fe5fead4dd48f12d184b7a0e28baa25e74", "filename": "config/gcc-plugin.m4", "status": "modified", "additions": 0, "deletions": 28, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab18659afc054434cef4d4757a3519f1100adc52/config%2Fgcc-plugin.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab18659afc054434cef4d4757a3519f1100adc52/config%2Fgcc-plugin.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2Fgcc-plugin.m4?ref=ab18659afc054434cef4d4757a3519f1100adc52", "patch": "@@ -129,31 +129,3 @@ AC_DEFUN([GCC_ENABLE_PLUGINS],\n      fi\n    fi\n ])\n-\n-dnl\n-dnl\n-dnl GCC_PLUGIN_OPTION\n-dnl    (SHELL-CODE_HANDLER)\n-dnl\n-AC_DEFUN([GCC_PLUGIN_OPTION],[dnl\n-AC_MSG_CHECKING([for -plugin option])\n-\n-plugin_names=\"liblto_plugin.so liblto_plugin-0.dll cyglto_plugin-0.dll\"\n-plugin_option=\n-for plugin in $plugin_names; do\n-  plugin_so=`${CC} ${CFLAGS} --print-prog-name $plugin`\n-  if test x$plugin_so = x$plugin; then\n-    plugin_so=`${CC} ${CFLAGS} --print-file-name $plugin`\n-  fi\n-  if test x$plugin_so != x$plugin; then\n-    plugin_option=\"--plugin $plugin_so\"\n-    break\n-  fi\n-done\n-if test -n \"$plugin_option\"; then\n-  $1=\"$plugin_option\"\n-  AC_MSG_RESULT($plugin_option)\n-else\n-  AC_MSG_RESULT([no])\n-fi\n-])"}, {"sha": "2e2dcd0ab30f349b3cf0b9f165aa8705a4d9ea1a", "filename": "configure", "status": "modified", "additions": 0, "deletions": 39, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab18659afc054434cef4d4757a3519f1100adc52/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab18659afc054434cef4d4757a3519f1100adc52/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=ab18659afc054434cef4d4757a3519f1100adc52", "patch": "@@ -619,8 +619,6 @@ GFORTRAN_FOR_TARGET\n GCC_FOR_TARGET\n CXX_FOR_TARGET\n CC_FOR_TARGET\n-RANLIB_PLUGIN_OPTION\n-AR_PLUGIN_OPTION\n GDCFLAGS\n READELF\n OTOOL\n@@ -12843,43 +12841,6 @@ fi\n \n \n \n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for -plugin option\" >&5\n-$as_echo_n \"checking for -plugin option... \" >&6; }\n-\n-plugin_names=\"liblto_plugin.so liblto_plugin-0.dll cyglto_plugin-0.dll\"\n-plugin_option=\n-for plugin in $plugin_names; do\n-  plugin_so=`${CC} ${CFLAGS} --print-prog-name $plugin`\n-  if test x$plugin_so = x$plugin; then\n-    plugin_so=`${CC} ${CFLAGS} --print-file-name $plugin`\n-  fi\n-  if test x$plugin_so != x$plugin; then\n-    plugin_option=\"--plugin $plugin_so\"\n-    break\n-  fi\n-done\n-if test -n \"$plugin_option\"; then\n-  PLUGIN_OPTION=\"$plugin_option\"\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $plugin_option\" >&5\n-$as_echo \"$plugin_option\" >&6; }\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n-fi\n-\n-AR_PLUGIN_OPTION=\n-RANLIB_PLUGIN_OPTION=\n-if test -n \"$PLUGIN_OPTION\"; then\n-  if $AR --help 2>&1 | grep -q \"\\--plugin\"; then\n-    AR_PLUGIN_OPTION=\"$PLUGIN_OPTION\"\n-  fi\n-  if $RANLIB --help 2>&1 | grep -q \"\\--plugin\"; then\n-    RANLIB_PLUGIN_OPTION=\"$PLUGIN_OPTION\"\n-  fi\n-fi\n-\n-\n-\n # Target tools.\n \n # Check whether --with-build-time-tools was given."}, {"sha": "68cc5cc31fe91d6abf497bf5aa981ca1749c1662", "filename": "configure.ac", "status": "modified", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab18659afc054434cef4d4757a3519f1100adc52/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab18659afc054434cef4d4757a3519f1100adc52/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=ab18659afc054434cef4d4757a3519f1100adc52", "patch": "@@ -24,7 +24,6 @@ m4_include(config/override.m4)\n m4_include(config/proginstall.m4)\n m4_include(config/elf.m4)\n m4_include(config/ax_cxx_compile_stdcxx.m4)\n-m4_include(config/gcc-plugin.m4)\n m4_include([libtool.m4])\n m4_include([ltoptions.m4])\n m4_include([ltsugar.m4])\n@@ -3601,20 +3600,6 @@ AC_SUBST(CXXFLAGS)\n AC_SUBST(GDC)\n AC_SUBST(GDCFLAGS)\n \n-GCC_PLUGIN_OPTION(PLUGIN_OPTION)\n-AR_PLUGIN_OPTION=\n-RANLIB_PLUGIN_OPTION=\n-if test -n \"$PLUGIN_OPTION\"; then\n-  if $AR --help 2>&1 | grep -q \"\\--plugin\"; then\n-    AR_PLUGIN_OPTION=\"$PLUGIN_OPTION\"\n-  fi\n-  if $RANLIB --help 2>&1 | grep -q \"\\--plugin\"; then\n-    RANLIB_PLUGIN_OPTION=\"$PLUGIN_OPTION\"\n-  fi\n-fi\n-AC_SUBST(AR_PLUGIN_OPTION)\n-AC_SUBST(RANLIB_PLUGIN_OPTION)\n-\n # Target tools.\n AC_ARG_WITH([build-time-tools], \n   [AS_HELP_STRING([--with-build-time-tools=PATH],"}, {"sha": "0d41a79cc98153e12adf8b1e2160748d314ade7e", "filename": "libiberty/Makefile.in", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab18659afc054434cef4d4757a3519f1100adc52/libiberty%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab18659afc054434cef4d4757a3519f1100adc52/libiberty%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FMakefile.in?ref=ab18659afc054434cef4d4757a3519f1100adc52", "patch": "@@ -50,13 +50,13 @@ mkinstalldirs = $(SHELL) $(libiberty_topdir)/mkinstalldirs\n # Some compilers can't handle cc -c blah.c -o foo/blah.o.\n OUTPUT_OPTION = @OUTPUT_OPTION@\n \n-AR = @AR@ @AR_PLUGIN_OPTION@\n+AR = @AR@\n AR_FLAGS = rc\n \n CC = @CC@\n CFLAGS = @CFLAGS@\n CPPFLAGS = @CPPFLAGS@\n-RANLIB = @RANLIB@ @RANLIB_PLUGIN_OPTION@\n+RANLIB = @RANLIB@\n MAKEINFO = @MAKEINFO@\n PERL = @PERL@\n \n@@ -507,7 +507,6 @@ aclocal_deps = \\\n \t$(srcdir)/../config/acx.m4 \\\n \t$(srcdir)/../config/cet.m4 \\\n \t$(srcdir)/../config/enable.m4 \\\n-\t$(srcdir)/../config/gcc-plugin.m4 \\\n \t$(srcdir)/../config/no-executables.m4 \\\n \t$(srcdir)/../config/override.m4 \\\n \t$(srcdir)/../config/picflag.m4 \\"}, {"sha": "3378316dced982635e91397312018e5ea1f5f6e4", "filename": "libiberty/aclocal.m4", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab18659afc054434cef4d4757a3519f1100adc52/libiberty%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab18659afc054434cef4d4757a3519f1100adc52/libiberty%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Faclocal.m4?ref=ab18659afc054434cef4d4757a3519f1100adc52", "patch": "@@ -15,7 +15,6 @@ m4_ifndef([AC_CONFIG_MACRO_DIRS], [m4_defun([_AM_CONFIG_MACRO_DIRS], [])m4_defun\n m4_include([../config/acx.m4])\n m4_include([../config/cet.m4])\n m4_include([../config/enable.m4])\n-m4_include([../config/gcc-plugin.m4])\n m4_include([../config/no-executables.m4])\n m4_include([../config/picflag.m4])\n m4_include([../config/warnings.m4])"}, {"sha": "0a797255c70c00f66a569c98ef2ddaa97d21e9f0", "filename": "libiberty/configure", "status": "modified", "additions": 0, "deletions": 37, "changes": 37, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab18659afc054434cef4d4757a3519f1100adc52/libiberty%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab18659afc054434cef4d4757a3519f1100adc52/libiberty%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfigure?ref=ab18659afc054434cef4d4757a3519f1100adc52", "patch": "@@ -645,8 +645,6 @@ CPPFLAGS\n LDFLAGS\n CFLAGS\n CC\n-RANLIB_PLUGIN_OPTION\n-AR_PLUGIN_OPTION\n RANLIB\n AR\n host_os\n@@ -2937,41 +2935,6 @@ else\n fi\n \n \n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for -plugin option\" >&5\n-$as_echo_n \"checking for -plugin option... \" >&6; }\n-\n-plugin_names=\"liblto_plugin.so liblto_plugin-0.dll cyglto_plugin-0.dll\"\n-plugin_option=\n-for plugin in $plugin_names; do\n-  plugin_so=`${CC} ${CFLAGS} --print-prog-name $plugin`\n-  if test x$plugin_so = x$plugin; then\n-    plugin_so=`${CC} ${CFLAGS} --print-file-name $plugin`\n-  fi\n-  if test x$plugin_so != x$plugin; then\n-    plugin_option=\"--plugin $plugin_so\"\n-    break\n-  fi\n-done\n-if test -n \"$plugin_option\"; then\n-  PLUGIN_OPTION=\"$plugin_option\"\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $plugin_option\" >&5\n-$as_echo \"$plugin_option\" >&6; }\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n-fi\n-\n-if test -n \"$PLUGIN_OPTION\"; then\n-  if $AR --help 2>&1 | grep -q \"\\--plugin\"; then\n-    AR_PLUGIN_OPTION=\"$PLUGIN_OPTION\"\n-\n-  fi\n-  if $RANLIB --help 2>&1 | grep -q \"\\--plugin\"; then\n-    RANLIB_PLUGIN_OPTION=\"$PLUGIN_OPTION\"\n-\n-  fi\n-fi\n-\n # Add --enable-multilib to configure.\n # Default to --enable-multilib\n # Check whether --enable-multilib was given."}, {"sha": "84a7b378fad9d082951d79055a5dd2c435015b37", "filename": "libiberty/configure.ac", "status": "modified", "additions": 0, "deletions": 12, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab18659afc054434cef4d4757a3519f1100adc52/libiberty%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab18659afc054434cef4d4757a3519f1100adc52/libiberty%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfigure.ac?ref=ab18659afc054434cef4d4757a3519f1100adc52", "patch": "@@ -113,18 +113,6 @@ dnl to call AC_CHECK_PROG.\n AC_CHECK_TOOL(AR, ar)\n AC_CHECK_TOOL(RANLIB, ranlib, :)\n \n-GCC_PLUGIN_OPTION(PLUGIN_OPTION)\n-if test -n \"$PLUGIN_OPTION\"; then\n-  if $AR --help 2>&1 | grep -q \"\\--plugin\"; then\n-    AR_PLUGIN_OPTION=\"$PLUGIN_OPTION\"\n-    AC_SUBST(AR_PLUGIN_OPTION)\n-  fi\n-  if $RANLIB --help 2>&1 | grep -q \"\\--plugin\"; then\n-    RANLIB_PLUGIN_OPTION=\"$PLUGIN_OPTION\"\n-    AC_SUBST(RANLIB_PLUGIN_OPTION)\n-  fi\n-fi\n-\n dnl When switching to automake, replace the following with AM_ENABLE_MULTILIB.\n # Add --enable-multilib to configure.\n # Default to --enable-multilib"}, {"sha": "17f8e5f30749dd5326f6cb989842a2980db2ed27", "filename": "libtool.m4", "status": "modified", "additions": 1, "deletions": 24, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab18659afc054434cef4d4757a3519f1100adc52/libtool.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab18659afc054434cef4d4757a3519f1100adc52/libtool.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libtool.m4?ref=ab18659afc054434cef4d4757a3519f1100adc52", "patch": "@@ -1325,26 +1325,8 @@ need_locks=\"$enable_libtool_lock\"\n # _LT_CMD_OLD_ARCHIVE\n # -------------------\n m4_defun([_LT_CMD_OLD_ARCHIVE],\n-[plugin_option=\n-plugin_names=\"liblto_plugin.so liblto_plugin-0.dll cyglto_plugin-0.dll\"\n-for plugin in $plugin_names; do\n-  plugin_so=`${CC} ${CFLAGS} --print-prog-name $plugin`\n-  if test x$plugin_so = x$plugin; then\n-    plugin_so=`${CC} ${CFLAGS} --print-file-name $plugin`\n-  fi\n-  if test x$plugin_so != x$plugin; then\n-    plugin_option=\"--plugin $plugin_so\"\n-    break\n-  fi\n-done\n-\n-AC_CHECK_TOOL(AR, ar, false)\n+[AC_CHECK_TOOL(AR, ar, false)\n test -z \"$AR\" && AR=ar\n-if test -n \"$plugin_option\"; then\n-  if $AR --help 2>&1 | grep -q \"\\--plugin\"; then\n-    AR=\"$AR $plugin_option\"\n-  fi\n-fi\n test -z \"$AR_FLAGS\" && AR_FLAGS=cru\n _LT_DECL([], [AR], [1], [The archiver])\n _LT_DECL([], [AR_FLAGS], [1])\n@@ -1355,11 +1337,6 @@ _LT_DECL([], [STRIP], [1], [A symbol stripping program])\n \n AC_CHECK_TOOL(RANLIB, ranlib, :)\n test -z \"$RANLIB\" && RANLIB=:\n-if test -n \"$plugin_option\" && test \"$RANLIB\" != \":\"; then\n-  if $RANLIB --help 2>&1 | grep -q \"\\--plugin\"; then\n-    RANLIB=\"$RANLIB $plugin_option\"\n-  fi\n-fi\n _LT_DECL([], [RANLIB], [1],\n     [Commands used to install an old-style archive])\n "}, {"sha": "f489f31bc703b41b71f19135bb17615743f440f9", "filename": "zlib/configure", "status": "modified", "additions": 3, "deletions": 26, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab18659afc054434cef4d4757a3519f1100adc52/zlib%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab18659afc054434cef4d4757a3519f1100adc52/zlib%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/zlib%2Fconfigure?ref=ab18659afc054434cef4d4757a3519f1100adc52", "patch": "@@ -4169,7 +4169,7 @@ case \"$host\" in\n     case \"$enable_cet\" in\n       auto)\n \t# Check if target supports multi-byte NOPs\n-\t# and if compiler and assembler support CET insn.\n+\t# and if assembler supports CET insn.\n \tcet_save_CFLAGS=\"$CFLAGS\"\n \tCFLAGS=\"$CFLAGS -fcf-protection\"\n \tcat confdefs.h - <<_ACEOF >conftest.$ac_ext\n@@ -5502,19 +5502,6 @@ test -z \"$deplibs_check_method\" && deplibs_check_method=unknown\n \n \n \n-plugin_option=\n-plugin_names=\"liblto_plugin.so liblto_plugin-0.dll cyglto_plugin-0.dll\"\n-for plugin in $plugin_names; do\n-  plugin_so=`${CC} ${CFLAGS} --print-prog-name $plugin`\n-  if test x$plugin_so = x$plugin; then\n-    plugin_so=`${CC} ${CFLAGS} --print-file-name $plugin`\n-  fi\n-  if test x$plugin_so != x$plugin; then\n-    plugin_option=\"--plugin $plugin_so\"\n-    break\n-  fi\n-done\n-\n if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"${ac_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}ar; ac_word=$2\n@@ -5608,11 +5595,6 @@ else\n fi\n \n test -z \"$AR\" && AR=ar\n-if test -n \"$plugin_option\"; then\n-  if $AR --help 2>&1 | grep -q \"\\--plugin\"; then\n-    AR=\"$AR $plugin_option\"\n-  fi\n-fi\n test -z \"$AR_FLAGS\" && AR_FLAGS=cru\n \n \n@@ -5817,11 +5799,6 @@ else\n fi\n \n test -z \"$RANLIB\" && RANLIB=:\n-if test -n \"$plugin_option\" && test \"$RANLIB\" != \":\"; then\n-  if $RANLIB --help 2>&1 | grep -q \"\\--plugin\"; then\n-    RANLIB=\"$RANLIB $plugin_option\"\n-  fi\n-fi\n \n \n \n@@ -10758,7 +10735,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 10761 \"configure\"\n+#line 10748 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -10864,7 +10841,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 10867 \"configure\"\n+#line 10854 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H"}]}