{"sha": "74be08f84e9f991cc101c8881ef6863e8dddd335", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzRiZTA4Zjg0ZTlmOTkxY2MxMDFjODg4MWVmNjg2M2U4ZGRkZDMzNQ==", "commit": {"author": {"name": "Daniel Berlin", "email": "dberlin@gcc.gnu.org", "date": "2006-05-09T01:28:47Z"}, "committer": {"name": "Daniel Berlin", "email": "dberlin@gcc.gnu.org", "date": "2006-05-09T01:28:47Z"}, "message": "re PR tree-optimization/27093 (verify_ssa failed: definition does not dominate use)\n\n2006-05-08  Daniel Berlin  <dberlin@dberlin.org>\n\n\tFix PR tree-optimization/27093\n\t* tree-ssa-alias.c (recalculate_used_alone): Mark variables for \n\trenaming when they become not-used_alone.\n\nFrom-SVN: r113641", "tree": {"sha": "b5a7f95f1a6bb2f1734afb2d142fc658dd568e1a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b5a7f95f1a6bb2f1734afb2d142fc658dd568e1a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/74be08f84e9f991cc101c8881ef6863e8dddd335", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74be08f84e9f991cc101c8881ef6863e8dddd335", "html_url": "https://github.com/Rust-GCC/gccrs/commit/74be08f84e9f991cc101c8881ef6863e8dddd335", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74be08f84e9f991cc101c8881ef6863e8dddd335/comments", "author": null, "committer": null, "parents": [{"sha": "fdaaf0020280a2d019c54294eb7ad28d0b1929bd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fdaaf0020280a2d019c54294eb7ad28d0b1929bd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fdaaf0020280a2d019c54294eb7ad28d0b1929bd"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "bc786cdc7b8a15da9a03f4c94f41d87ef56b510f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74be08f84e9f991cc101c8881ef6863e8dddd335/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74be08f84e9f991cc101c8881ef6863e8dddd335/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=74be08f84e9f991cc101c8881ef6863e8dddd335", "patch": "@@ -1,3 +1,9 @@\n+2006-05-08  Daniel Berlin  <dberlin@dberlin.org>\n+\n+\tFix PR tree-optimization/27093\n+\t* tree-ssa-alias.c (recalculate_used_alone): Mark variables for \n+\trenaming when they become not-used_alone.\n+\n 2006-05-08  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n \n \t* hpux-unwind.h (pa_fallback_frame_state): Handle return parameter\n@@ -58,6 +64,7 @@\n \t* tree-ssa-structalias.c (get_constraint_for_component_ref):\n \tDo not try to find zero-sized subvars.\n \n+>>>>>>> .r113631\n 2006-05-07  Richard Guenther  <rguenther@suse.de>\n \n \tPR tree-optimization/27136"}, {"sha": "9d5f145565b1529e72afffd3c80be9468cdd8b91", "filename": "gcc/tree-ssa-alias.c", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74be08f84e9f991cc101c8881ef6863e8dddd335/gcc%2Ftree-ssa-alias.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74be08f84e9f991cc101c8881ef6863e8dddd335/gcc%2Ftree-ssa-alias.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-alias.c?ref=74be08f84e9f991cc101c8881ef6863e8dddd335", "patch": "@@ -522,6 +522,17 @@ recalculate_used_alone (void)\n       for (i = 0; VEC_iterate (tree, calls, i, stmt); i++)\n \tupdate_stmt (stmt);\n     }\n+  \n+  /* We need to mark SMT's that are no longer used for renaming so the\n+     symbols go away, or else verification will be angry with us, even\n+     though they are dead.  */\n+  FOR_EACH_REFERENCED_VAR (var, rvi)\n+    if (TREE_CODE (var) == SYMBOL_MEMORY_TAG)\n+      {\n+\tif (SMT_OLD_USED_ALONE (var) && !SMT_USED_ALONE (var))\n+\t  mark_sym_for_renaming (var);\n+      }\n+\n   VEC_free (tree, heap, calls);\n   updating_used_alone = false;\n }"}]}