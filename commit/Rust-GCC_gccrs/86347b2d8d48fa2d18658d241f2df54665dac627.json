{"sha": "86347b2d8d48fa2d18658d241f2df54665dac627", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODYzNDdiMmQ4ZDQ4ZmEyZDE4NjU4ZDI0MWYyZGY1NDY2NWRhYzYyNw==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2021-02-08T11:00:19Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2021-06-15T10:19:22Z"}, "message": "[Ada] Remove const qualifier on a couple of pointed-to types\n\ngcc/ada/\n\n\t* argv.c: Add include of <stdlib.h> for the runtime.\n\t(gnat_argv): Change type to char ** and initialize to NULL.\n\t(gnat_envp): Likewise.\n\t* argv-lynxos178-raven-cert.c: Add include of <stdlib.h>.\n\t(gnat_argv): Change type to char ** and initialize to NULL.\n\t(gnat_envp): Likewise.", "tree": {"sha": "2ce57461e8529ae6fe32a91cd15c666f2fc0e43d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2ce57461e8529ae6fe32a91cd15c666f2fc0e43d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/86347b2d8d48fa2d18658d241f2df54665dac627", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86347b2d8d48fa2d18658d241f2df54665dac627", "html_url": "https://github.com/Rust-GCC/gccrs/commit/86347b2d8d48fa2d18658d241f2df54665dac627", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86347b2d8d48fa2d18658d241f2df54665dac627/comments", "author": null, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b2339160162e80fd854a9caaaf0d3dd0207ede8e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2339160162e80fd854a9caaaf0d3dd0207ede8e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b2339160162e80fd854a9caaaf0d3dd0207ede8e"}], "stats": {"total": 11, "additions": 6, "deletions": 5}, "files": [{"sha": "21cead39a3e8379eaa5c90dee393bf1ea046e22d", "filename": "gcc/ada/argv-lynxos178-raven-cert.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86347b2d8d48fa2d18658d241f2df54665dac627/gcc%2Fada%2Fargv-lynxos178-raven-cert.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86347b2d8d48fa2d18658d241f2df54665dac627/gcc%2Fada%2Fargv-lynxos178-raven-cert.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fargv-lynxos178-raven-cert.c?ref=86347b2d8d48fa2d18658d241f2df54665dac627", "patch": "@@ -41,6 +41,7 @@\n    minimal support for Ada.Command_Line.Command_Name */\n \n #include <sys/types.h>\n+#include <stdlib.h>\n #include <string.h>\n \n #ifdef __cplusplus\n@@ -53,8 +54,8 @@ extern \"C\" {\n    the binder-generated file so they need to be defined here */\n \n int gnat_argc = 0;\n-const char **gnat_argv = (const char **) 0;\n-const char **gnat_envp = (const char **) 0;\n+char **gnat_argv = NULL;\n+char **gnat_envp = NULL;\n \n int\n __gnat_len_arg (int arg_num)"}, {"sha": "4734415960dbe902116fd2905f26664acade9ee5", "filename": "gcc/ada/argv.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86347b2d8d48fa2d18658d241f2df54665dac627/gcc%2Fada%2Fargv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86347b2d8d48fa2d18658d241f2df54665dac627/gcc%2Fada%2Fargv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fargv.c?ref=86347b2d8d48fa2d18658d241f2df54665dac627", "patch": "@@ -44,6 +44,7 @@\n \n #ifdef IN_RTS\n #include \"runtime.h\"\n+#include <stdlib.h>\n #include <string.h>\n #else\n #include \"config.h\"\n@@ -60,14 +61,13 @@ extern \"C\" {\n    envp of the main program is saved under gnat_envp.  */\n \n int gnat_argc = 0;\n-const char **gnat_argv = (const char **) 0;\n-const char **gnat_envp = (const char **) 0;\n+char **gnat_argv = NULL;\n+char **gnat_envp = NULL;\n \n #if defined (_WIN32) && !defined (RTX)\n /* Note that on Windows environment the environ point to a buffer that could\n    be reallocated if needed. It means that gnat_envp needs to be updated\n    before using gnat_envp to point to the right environment space */\n-#include <stdlib.h>\n /* for the environ variable definition */\n #define gnat_envp (environ)\n #endif"}]}