{"sha": "01f0729a1fe9aa0907652c35b00d46ae5f239b17", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDFmMDcyOWExZmU5YWEwOTA3NjUyYzM1YjAwZDQ2YWU1ZjIzOWIxNw==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2011-08-04T07:54:54Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2011-08-04T07:54:54Z"}, "message": "[multiple changes]\n\n2011-08-04  Eric Botcazou  <ebotcazou@adacore.com>\n\n\t* sem_elab.adb (Check_Internal_Call_Continue): Change the type of the\n\telaboration counter to Standard_Short_Integer.\n\t* sem_util.adb (Build_Elaboration_Entity): Likewise.\n\t* bindgen.adb (Gen_Elab_Externals_Ada): Adjust to above change.\n\t(Gen_Elab_Externals_C): Likewise.\n\n2011-08-04  Ed Falis  <falis@adacore.com>\n\n\t* system-vxworks-arm.ads, system-vxworks-sparcv9.ads,\n\tsystem-vxworks-ppc.ads, system-vxworks-m68k.ads,\n\tsystem-vxworks-mips.ads, system-vxworks-x86.ads\n\t(Always_Compatible_Rep): set to False for all VxWorks targets.\n\nFrom-SVN: r177321", "tree": {"sha": "103bb94ddd2c7a4ea3bc563ca41268d77136f94e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/103bb94ddd2c7a4ea3bc563ca41268d77136f94e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/01f0729a1fe9aa0907652c35b00d46ae5f239b17", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01f0729a1fe9aa0907652c35b00d46ae5f239b17", "html_url": "https://github.com/Rust-GCC/gccrs/commit/01f0729a1fe9aa0907652c35b00d46ae5f239b17", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01f0729a1fe9aa0907652c35b00d46ae5f239b17/comments", "author": null, "committer": null, "parents": [{"sha": "2c1b72d7b658ecef2cd2cb7b09f5a7fcb40b3ea4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c1b72d7b658ecef2cd2cb7b09f5a7fcb40b3ea4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c1b72d7b658ecef2cd2cb7b09f5a7fcb40b3ea4"}], "stats": {"total": 55, "additions": 36, "deletions": 19}, "files": [{"sha": "66df48b0c9a8782d6145dd28fcf2ed3b79bbc2f4", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01f0729a1fe9aa0907652c35b00d46ae5f239b17/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01f0729a1fe9aa0907652c35b00d46ae5f239b17/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=01f0729a1fe9aa0907652c35b00d46ae5f239b17", "patch": "@@ -1,3 +1,18 @@\n+2011-08-04  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* sem_elab.adb (Check_Internal_Call_Continue): Change the type of the\n+\telaboration counter to Standard_Short_Integer.\n+\t* sem_util.adb (Build_Elaboration_Entity): Likewise.\n+\t* bindgen.adb (Gen_Elab_Externals_Ada): Adjust to above change.\n+\t(Gen_Elab_Externals_C): Likewise.\n+\n+2011-08-04  Ed Falis  <falis@adacore.com>\n+\n+\t* system-vxworks-arm.ads, system-vxworks-sparcv9.ads,\n+\tsystem-vxworks-ppc.ads, system-vxworks-m68k.ads,\n+\tsystem-vxworks-mips.ads, system-vxworks-x86.ads\n+\t(Always_Compatible_Rep): set to False for all VxWorks targets.\n+\n 2011-08-04  Robert Dewar  <dewar@adacore.com>\n \n \t* par_sco.adb, prj-proc.adb, make.adb, bindgen.adb, prj.adb, prj.ads,"}, {"sha": "1eab63c5de3ddace9b6f20c8e2b7fe81f5996c53", "filename": "gcc/ada/bindgen.adb", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01f0729a1fe9aa0907652c35b00d46ae5f239b17/gcc%2Fada%2Fbindgen.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01f0729a1fe9aa0907652c35b00d46ae5f239b17/gcc%2Fada%2Fbindgen.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindgen.adb?ref=01f0729a1fe9aa0907652c35b00d46ae5f239b17", "patch": "@@ -1241,9 +1241,9 @@ package body Bindgen is\n \n                case VM_Target is\n                   when No_VM | JVM_Target =>\n-                     Set_String (\" : Integer; pragma Import (Ada, \");\n+                     Set_String (\" : Short_Integer; pragma Import (Ada, \");\n                   when CLI_Target =>\n-                     Set_String (\" : Integer; pragma Import (CIL, \");\n+                     Set_String (\" : Short_Integer; pragma Import (CIL, \");\n                end case;\n \n                Set_String (\"E\");\n@@ -1320,7 +1320,7 @@ package body Bindgen is\n                 (No_Run_Time_Mode\n                   and then Is_Predefined_File_Name (U.Sfile))\n             then\n-               Set_String (\"extern int \");\n+               Set_String (\"extern short int \");\n                Get_Name_String (U.Uname);\n                Set_Unit_Name;\n                Set_String (\"_E;\");"}, {"sha": "f96fbb950a17ee734ae575f307fb8fc318b8f3b1", "filename": "gcc/ada/sem_elab.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01f0729a1fe9aa0907652c35b00d46ae5f239b17/gcc%2Fada%2Fsem_elab.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01f0729a1fe9aa0907652c35b00d46ae5f239b17/gcc%2Fada%2Fsem_elab.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_elab.adb?ref=01f0729a1fe9aa0907652c35b00d46ae5f239b17", "patch": "@@ -2158,7 +2158,7 @@ package body Sem_Elab is\n                     Make_Object_Declaration (Loce,\n                       Defining_Identifier => Ent,\n                       Object_Definition   =>\n-                        New_Occurrence_Of (Standard_Integer, Loce),\n+                        New_Occurrence_Of (Standard_Short_Integer, Loce),\n                       Expression          =>\n                         Make_Integer_Literal (Loc, Uint_0)));\n "}, {"sha": "07ada79096e4e4e9d79fb5132dcc69d77d1f0124", "filename": "gcc/ada/sem_util.adb", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01f0729a1fe9aa0907652c35b00d46ae5f239b17/gcc%2Fada%2Fsem_util.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01f0729a1fe9aa0907652c35b00d46ae5f239b17/gcc%2Fada%2Fsem_util.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_util.adb?ref=01f0729a1fe9aa0907652c35b00d46ae5f239b17", "patch": "@@ -954,16 +954,18 @@ package body Sem_Util is\n       Name_Buffer (Name_Len + 2) := 'E';\n       Name_Len := Name_Len + 2;\n \n-      --  Create elaboration flag\n+      --  Create elaboration counter\n \n       Elab_Ent := Make_Defining_Identifier (Loc, Chars => Name_Find);\n       Set_Elaboration_Entity (Spec_Id, Elab_Ent);\n \n       Decl :=\n         Make_Object_Declaration (Loc,\n           Defining_Identifier => Elab_Ent,\n-          Object_Definition   => New_Occurrence_Of (Standard_Integer, Loc),\n-          Expression          => Make_Integer_Literal (Loc, Uint_0));\n+          Object_Definition   =>\n+            New_Occurrence_Of (Standard_Short_Integer, Loc),\n+          Expression          =>\n+            Make_Integer_Literal (Loc, Uint_0));\n \n       Push_Scope (Standard_Standard);\n       Add_Global_Declaration (Decl);"}, {"sha": "7990959199d1c4b3c820f1688f124a7e27129f99", "filename": "gcc/ada/system-vxworks-arm.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01f0729a1fe9aa0907652c35b00d46ae5f239b17/gcc%2Fada%2Fsystem-vxworks-arm.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01f0729a1fe9aa0907652c35b00d46ae5f239b17/gcc%2Fada%2Fsystem-vxworks-arm.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsystem-vxworks-arm.ads?ref=01f0729a1fe9aa0907652c35b00d46ae5f239b17", "patch": "@@ -7,7 +7,7 @@\n --                                 S p e c                                  --\n --                          (VxWorks Version ARM)                           --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2011, Free Software Foundation, Inc.         --\n --                                                                          --\n -- This specification is derived from the Ada Reference Manual for use with --\n -- GNAT. The copyright notice above, and the license provisions that follow --\n@@ -149,7 +149,7 @@ private\n    Support_Composite_Assign  : constant Boolean := True;\n    Support_Composite_Compare : constant Boolean := True;\n    Support_Long_Shifts       : constant Boolean := True;\n-   Always_Compatible_Rep     : constant Boolean := True;\n+   Always_Compatible_Rep     : constant Boolean := False;\n    Suppress_Standard_Library : constant Boolean := False;\n    Use_Ada_Main_Program_Name : constant Boolean := True;\n    ZCX_By_Default            : constant Boolean := False;"}, {"sha": "2e3cb20e009da5bcf8fc85e46e0e24eeb65ce3bd", "filename": "gcc/ada/system-vxworks-m68k.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01f0729a1fe9aa0907652c35b00d46ae5f239b17/gcc%2Fada%2Fsystem-vxworks-m68k.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01f0729a1fe9aa0907652c35b00d46ae5f239b17/gcc%2Fada%2Fsystem-vxworks-m68k.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsystem-vxworks-m68k.ads?ref=01f0729a1fe9aa0907652c35b00d46ae5f239b17", "patch": "@@ -7,7 +7,7 @@\n --                                 S p e c                                  --\n --                          (VxWorks version M68K)                          --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2011, Free Software Foundation, Inc.         --\n --                                                                          --\n -- This specification is derived from the Ada Reference Manual for use with --\n -- GNAT. The copyright notice above, and the license provisions that follow --\n@@ -149,7 +149,7 @@ private\n    Support_Composite_Assign  : constant Boolean := True;\n    Support_Composite_Compare : constant Boolean := True;\n    Support_Long_Shifts       : constant Boolean := True;\n-   Always_Compatible_Rep     : constant Boolean := True;\n+   Always_Compatible_Rep     : constant Boolean := False;\n    Suppress_Standard_Library : constant Boolean := False;\n    Use_Ada_Main_Program_Name : constant Boolean := True;\n    ZCX_By_Default            : constant Boolean := False;"}, {"sha": "2741068361d3e7150ed72e5a97d6601ae6d966dc", "filename": "gcc/ada/system-vxworks-mips.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01f0729a1fe9aa0907652c35b00d46ae5f239b17/gcc%2Fada%2Fsystem-vxworks-mips.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01f0729a1fe9aa0907652c35b00d46ae5f239b17/gcc%2Fada%2Fsystem-vxworks-mips.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsystem-vxworks-mips.ads?ref=01f0729a1fe9aa0907652c35b00d46ae5f239b17", "patch": "@@ -7,7 +7,7 @@\n --                                 S p e c                                  --\n --                         (VxWorks Version Mips)                           --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2011, Free Software Foundation, Inc.         --\n --                                                                          --\n -- This specification is derived from the Ada Reference Manual for use with --\n -- GNAT. The copyright notice above, and the license provisions that follow --\n@@ -149,7 +149,7 @@ private\n    Support_Composite_Assign  : constant Boolean := True;\n    Support_Composite_Compare : constant Boolean := True;\n    Support_Long_Shifts       : constant Boolean := True;\n-   Always_Compatible_Rep     : constant Boolean := True;\n+   Always_Compatible_Rep     : constant Boolean := False;\n    Suppress_Standard_Library : constant Boolean := False;\n    Use_Ada_Main_Program_Name : constant Boolean := True;\n    ZCX_By_Default            : constant Boolean := False;"}, {"sha": "c5c55145661e77aa5e7f4abdc2fdc74020f543c7", "filename": "gcc/ada/system-vxworks-ppc.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01f0729a1fe9aa0907652c35b00d46ae5f239b17/gcc%2Fada%2Fsystem-vxworks-ppc.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01f0729a1fe9aa0907652c35b00d46ae5f239b17/gcc%2Fada%2Fsystem-vxworks-ppc.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsystem-vxworks-ppc.ads?ref=01f0729a1fe9aa0907652c35b00d46ae5f239b17", "patch": "@@ -7,7 +7,7 @@\n --                                 S p e c                                  --\n --                    (VxWorks 5 and MILS Version PPC)                      --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2011, Free Software Foundation, Inc.         --\n --                                                                          --\n -- This specification is derived from the Ada Reference Manual for use with --\n -- GNAT. The copyright notice above, and the license provisions that follow --\n@@ -149,7 +149,7 @@ private\n    Support_Composite_Assign  : constant Boolean := True;\n    Support_Composite_Compare : constant Boolean := True;\n    Support_Long_Shifts       : constant Boolean := True;\n-   Always_Compatible_Rep     : constant Boolean := True;\n+   Always_Compatible_Rep     : constant Boolean := False;\n    Suppress_Standard_Library : constant Boolean := False;\n    Use_Ada_Main_Program_Name : constant Boolean := True;\n    ZCX_By_Default            : constant Boolean := False;"}, {"sha": "c7207118fde8097eccb54696a5ecbdcff628111a", "filename": "gcc/ada/system-vxworks-sparcv9.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01f0729a1fe9aa0907652c35b00d46ae5f239b17/gcc%2Fada%2Fsystem-vxworks-sparcv9.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01f0729a1fe9aa0907652c35b00d46ae5f239b17/gcc%2Fada%2Fsystem-vxworks-sparcv9.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsystem-vxworks-sparcv9.ads?ref=01f0729a1fe9aa0907652c35b00d46ae5f239b17", "patch": "@@ -7,7 +7,7 @@\n --                                 S p e c                                  --\n --                       (VxWorks Version Sparc/64)                         --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2011, Free Software Foundation, Inc.         --\n --                                                                          --\n -- This specification is derived from the Ada Reference Manual for use with --\n -- GNAT. The copyright notice above, and the license provisions that follow --\n@@ -151,7 +151,7 @@ private\n    Support_Composite_Assign  : constant Boolean := True;\n    Support_Composite_Compare : constant Boolean := True;\n    Support_Long_Shifts       : constant Boolean := True;\n-   Always_Compatible_Rep     : constant Boolean := True;\n+   Always_Compatible_Rep     : constant Boolean := False;\n    Suppress_Standard_Library : constant Boolean := False;\n    Use_Ada_Main_Program_Name : constant Boolean := True;\n    ZCX_By_Default            : constant Boolean := False;"}, {"sha": "7780b4dd8164bed6a59bc967a5e53ebd36f6c526", "filename": "gcc/ada/system-vxworks-x86.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01f0729a1fe9aa0907652c35b00d46ae5f239b17/gcc%2Fada%2Fsystem-vxworks-x86.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01f0729a1fe9aa0907652c35b00d46ae5f239b17/gcc%2Fada%2Fsystem-vxworks-x86.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsystem-vxworks-x86.ads?ref=01f0729a1fe9aa0907652c35b00d46ae5f239b17", "patch": "@@ -7,7 +7,7 @@\n --                                 S p e c                                  --\n --                         (VxWorks 5 Version x86)                          --\n --                                                                          --\n---          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2011, Free Software Foundation, Inc.         --\n --                                                                          --\n -- This specification is derived from the Ada Reference Manual for use with --\n -- GNAT. The copyright notice above, and the license provisions that follow --\n@@ -149,7 +149,7 @@ private\n    Support_Composite_Assign  : constant Boolean := True;\n    Support_Composite_Compare : constant Boolean := True;\n    Support_Long_Shifts       : constant Boolean := True;\n-   Always_Compatible_Rep     : constant Boolean := True;\n+   Always_Compatible_Rep     : constant Boolean := False;\n    Suppress_Standard_Library : constant Boolean := False;\n    Use_Ada_Main_Program_Name : constant Boolean := True;\n    ZCX_By_Default            : constant Boolean := False;"}]}