{"sha": "ae0b7dfc7e9084c45901687320a7d9d285a530ba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWUwYjdkZmM3ZTkwODRjNDU5MDE2ODczMjBhN2Q5ZDI4NWE1MzBiYQ==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2003-08-03T14:19:00Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2003-08-03T14:19:00Z"}, "message": "re PR c++/11766 (ICE in comp_ptr_ttypes_real)\n\ncp:\n\tPR c++/11766\n\t* typeck.c (comp_ptr_ttypes_real): Don't loop on pointers to\n\tmember functions.\ntestsuite:\n\tPR c++/11766\n\t* g++.dg/expr/ptrmem1.C: New test.\n\nFrom-SVN: r70118", "tree": {"sha": "d0abbc6ab85bb14480657c29e9b238534afdf50a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d0abbc6ab85bb14480657c29e9b238534afdf50a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ae0b7dfc7e9084c45901687320a7d9d285a530ba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae0b7dfc7e9084c45901687320a7d9d285a530ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae0b7dfc7e9084c45901687320a7d9d285a530ba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae0b7dfc7e9084c45901687320a7d9d285a530ba/comments", "author": null, "committer": null, "parents": [{"sha": "cb6eb88a2ee8b9edf00ca0c64deb94940e18fa41", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb6eb88a2ee8b9edf00ca0c64deb94940e18fa41", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb6eb88a2ee8b9edf00ca0c64deb94940e18fa41"}], "stats": {"total": 40, "additions": 39, "deletions": 1}, "files": [{"sha": "d450d0ad1c2b9ebab1aca8c0dc00c136d1ba8169", "filename": "gcc/cp/typeck.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae0b7dfc7e9084c45901687320a7d9d285a530ba/gcc%2Fcp%2Ftypeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae0b7dfc7e9084c45901687320a7d9d285a530ba/gcc%2Fcp%2Ftypeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftypeck.c?ref=ae0b7dfc7e9084c45901687320a7d9d285a530ba", "patch": "@@ -6030,7 +6030,7 @@ comp_ptr_ttypes_real (tree to, tree from, int constp)\n \t    constp &= TYPE_READONLY (to);\n \t}\n \n-      if (TREE_CODE (to) != POINTER_TYPE && !TYPE_PTR_TO_MEMBER_P (to))\n+      if (TREE_CODE (to) != POINTER_TYPE && !TYPE_PTRMEM_P (to))\n \treturn ((constp >= 0 || to_more_cv_qualified)\n \t\t&& same_type_ignoring_top_level_qualifiers_p (to, from));\n     }"}, {"sha": "61d9742f90dc6b16dd9361715fd050b9c8c64dbc", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae0b7dfc7e9084c45901687320a7d9d285a530ba/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae0b7dfc7e9084c45901687320a7d9d285a530ba/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ae0b7dfc7e9084c45901687320a7d9d285a530ba", "patch": "@@ -1,3 +1,8 @@\n+2003-08-03  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\tPR c++/11766\n+\t* g++.dg/expr/ptrmem1.C: New test.\n+\n 2003-08-03  Kriang Lerdsuwanakij  <lerdsuwa@users.sourceforge.net>\n \n \tPR c++/9453"}, {"sha": "146143a1e825ffc078990ef247ca35de4f796d91", "filename": "gcc/testsuite/g++.dg/expr/ptrmem1.C", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae0b7dfc7e9084c45901687320a7d9d285a530ba/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fptrmem1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae0b7dfc7e9084c45901687320a7d9d285a530ba/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fptrmem1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fptrmem1.C?ref=ae0b7dfc7e9084c45901687320a7d9d285a530ba", "patch": "@@ -0,0 +1,33 @@\n+// { dg-do compile }\n+\n+// Copyright (C) 2003 Free Software Foundation, Inc.\n+// Contributed by Nathan Sidwell 2 Aug 2003 <nathan@codesourcery.com>\n+\n+// PR 11766. ICE\n+\n+template<typename T>\n+struct normal_iterator\n+{\n+  normal_iterator(const T& __i);\n+};\n+\n+\n+template<typename _Tp>\n+struct vector\n+{\n+  void end() const {  normal_iterator<const _Tp*> (this->pt); }\n+  void size() const { end(); }\n+  _Tp* pt;\n+};\n+  \n+\n+\n+struct MuonTag {\n+  typedef void (MuonTag::*Selector)();\n+};\n+\n+void foo()\n+{\n+  vector<MuonTag::Selector> _selectors;\n+  _selectors.size();\n+}"}]}