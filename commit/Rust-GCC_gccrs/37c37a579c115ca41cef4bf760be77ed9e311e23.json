{"sha": "37c37a579c115ca41cef4bf760be77ed9e311e23", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzdjMzdhNTc5YzExNWNhNDFjZWY0YmY3NjBiZTc3ZWQ5ZTMxMWUyMw==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-08-29T22:34:12Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-08-29T22:34:12Z"}, "message": "(output_toc): Use TARGET_NO_FP_IN_TOC.\n\nFrom-SVN: r5227", "tree": {"sha": "e91c17641b0173fb476db5982a07e9130891e64d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e91c17641b0173fb476db5982a07e9130891e64d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/37c37a579c115ca41cef4bf760be77ed9e311e23", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37c37a579c115ca41cef4bf760be77ed9e311e23", "html_url": "https://github.com/Rust-GCC/gccrs/commit/37c37a579c115ca41cef4bf760be77ed9e311e23", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37c37a579c115ca41cef4bf760be77ed9e311e23/comments", "author": null, "committer": null, "parents": [{"sha": "72847b95daca53d4a7b4880f27c9b00527b6a8ff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72847b95daca53d4a7b4880f27c9b00527b6a8ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/72847b95daca53d4a7b4880f27c9b00527b6a8ff"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "bad874af52adf4a9a9941770529f32f832749451", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/37c37a579c115ca41cef4bf760be77ed9e311e23/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/37c37a579c115ca41cef4bf760be77ed9e311e23/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=37c37a579c115ca41cef4bf760be77ed9e311e23", "patch": "@@ -1646,12 +1646,14 @@ output_toc (file, x, labelno)\n \n   ASM_OUTPUT_INTERNAL_LABEL (file, \"LC\", labelno);\n \n-  /* Handle FP constants specially.  */\n+  /* Handle FP constants specially.  Note that if we have a minimal\n+     TOC, things we put here aren't actually in the TOC, so we can allow\n+     FP constants.  */\n   if (GET_CODE (x) == CONST_DOUBLE\n       && GET_MODE (x) == DFmode\n       && TARGET_FLOAT_FORMAT == HOST_FLOAT_FORMAT\n       && BITS_PER_WORD == HOST_BITS_PER_INT\n-      && TARGET_FP_IN_TOC)\n+      && ! (TARGET_NO_FP_IN_TOC && ! TARGET_MINIMAL_TOC))\n     {\n       if (TARGET_MINIMAL_TOC)\n \tfprintf (file, \"\\t.long %d\\n\\t.long %d\\n\",\n@@ -1663,7 +1665,7 @@ output_toc (file, x, labelno)\n       return;\n     }\n   else if (GET_CODE (x) == CONST_DOUBLE && GET_MODE (x) == SFmode\n-\t   && TARGET_FP_IN_TOC)\n+\t   && ! (TARGET_NO_FP_IN_TOC && ! TARGET_MINIMAL_TOC))\n     {\n       rtx val = operand_subword (x, 0, 0, SFmode);\n "}]}