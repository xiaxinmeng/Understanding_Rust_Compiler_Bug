{"sha": "5a566bed2b7e0133247fa9fb3282116a8405dd3f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWE1NjZiZWQyYjdlMDEzMzI0N2ZhOWZiMzI4MjExNmE4NDA1ZGQzZg==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2002-05-16T17:04:55Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2002-05-16T17:04:55Z"}, "message": "* cfgrtl.c (purge_dead_edges): Correct handling of EDGE_EH.\n\nFrom-SVN: r53521", "tree": {"sha": "824f1fd2ba2be6b766d13a1d7de9d099554c905d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/824f1fd2ba2be6b766d13a1d7de9d099554c905d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5a566bed2b7e0133247fa9fb3282116a8405dd3f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a566bed2b7e0133247fa9fb3282116a8405dd3f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a566bed2b7e0133247fa9fb3282116a8405dd3f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a566bed2b7e0133247fa9fb3282116a8405dd3f/comments", "author": null, "committer": null, "parents": [{"sha": "48f6efae63cc3e9a8c8ab48bcbe2677256ac55d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/48f6efae63cc3e9a8c8ab48bcbe2677256ac55d5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/48f6efae63cc3e9a8c8ab48bcbe2677256ac55d5"}], "stats": {"total": 23, "additions": 18, "deletions": 5}, "files": [{"sha": "50e7bdd93415fa6819701fb0fc2cf73728130afe", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a566bed2b7e0133247fa9fb3282116a8405dd3f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a566bed2b7e0133247fa9fb3282116a8405dd3f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5a566bed2b7e0133247fa9fb3282116a8405dd3f", "patch": "@@ -1,3 +1,7 @@\n+2002-05-16  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* cfgrtl.c (purge_dead_edges): Correct handling of EDGE_EH.\n+\n 2002-05-16  Nick Clifton  <nickc@cambridge.redhat.com>\n \n \t* config/arm/arm.c (arm_rtx_costs): Check for RTX being a"}, {"sha": "844f5df70f51c4cc60b9c479058be44580b96a92", "filename": "gcc/cfgrtl.c", "status": "modified", "additions": 14, "deletions": 5, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a566bed2b7e0133247fa9fb3282116a8405dd3f/gcc%2Fcfgrtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a566bed2b7e0133247fa9fb3282116a8405dd3f/gcc%2Fcfgrtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgrtl.c?ref=5a566bed2b7e0133247fa9fb3282116a8405dd3f", "patch": "@@ -2186,17 +2186,26 @@ purge_dead_edges (bb)\n  \n \t  e->flags &= ~EDGE_ABNORMAL;\n \n-\t  /* Check purposes we can have edge.  */\n-\t  if ((e->flags & EDGE_FALLTHRU)\n-\t      && any_condjump_p (insn))\n+\t  /* See if this edge is one we should keep.  */\n+\t  if ((e->flags & EDGE_FALLTHRU) && any_condjump_p (insn))\n+\t    /* A conditional jump can fall through into the next\n+\t       block, so we should keep the edge.  */\n \t    continue;\n \t  else if (e->dest != EXIT_BLOCK_PTR\n \t\t   && e->dest->head == JUMP_LABEL (insn))\n+\t    /* If the destination block is the target of the jump,\n+\t       keep the edge.  */\n+\t    continue;\n+\t  else if (e->dest == EXIT_BLOCK_PTR && returnjump_p (insn))\n+\t    /* If the destination block is the exit block, and this\n+\t       instruction is a return, then keep the edge.  */\n \t    continue;\n-\t  else if (e->dest == EXIT_BLOCK_PTR\n-\t\t   && returnjump_p (insn))\n+\t  else if ((e->flags & EDGE_EH) && can_throw_internal (insn))\n+\t    /* Keep the edges that correspond to exceptions thrown by\n+\t       this instruction.  */\n \t    continue;\n \n+\t  /* We do not need this edge.  */\n \t  bb->flags |= BB_DIRTY;\n \t  purged = true;\n \t  remove_edge (e);"}]}