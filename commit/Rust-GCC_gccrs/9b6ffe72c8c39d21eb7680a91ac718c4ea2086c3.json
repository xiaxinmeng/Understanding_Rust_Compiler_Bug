{"sha": "9b6ffe72c8c39d21eb7680a91ac718c4ea2086c3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWI2ZmZlNzJjOGMzOWQyMWViNzY4MGE5MWFjNzE4YzRlYTIwODZjMw==", "commit": {"author": {"name": "Sebastian Huber", "email": "sh@gcc.gnu.org", "date": "2016-05-10T06:52:48Z"}, "committer": {"name": "Sebastian Huber", "email": "sh@gcc.gnu.org", "date": "2016-05-10T06:52:48Z"}, "message": "[libatomic] Add missing files for RTEMS support\n\nAdd missing files for:\n\n2016-04-27  Sebastian Huber  <sebastian.huber@embedded-brains.de>\n\n\t* configure.tgt (configure_tgt_pre_target_cpu_XCFLAGS): New variable.\n\t(*-*-rtems*): New supported target.\n\t* config/rtems/host-config.h: New file.\n\t* config/rtems/lock.c: Likewise.\n\nFrom-SVN: r236060", "tree": {"sha": "fc573b38e8236373b09e7b4de15bb4da2489e68f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fc573b38e8236373b09e7b4de15bb4da2489e68f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9b6ffe72c8c39d21eb7680a91ac718c4ea2086c3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b6ffe72c8c39d21eb7680a91ac718c4ea2086c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9b6ffe72c8c39d21eb7680a91ac718c4ea2086c3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b6ffe72c8c39d21eb7680a91ac718c4ea2086c3/comments", "author": null, "committer": null, "parents": [{"sha": "dad4b09ab5a92ae855c6e5ba3d1ba3cb9bd9ce79", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dad4b09ab5a92ae855c6e5ba3d1ba3cb9bd9ce79", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dad4b09ab5a92ae855c6e5ba3d1ba3cb9bd9ce79"}], "stats": {"total": 78, "additions": 78, "deletions": 0}, "files": [{"sha": "d11e9efb01fbf38f39583cb1595b066ba82cb4d9", "filename": "libatomic/config/rtems/host-config.h", "status": "added", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b6ffe72c8c39d21eb7680a91ac718c4ea2086c3/libatomic%2Fconfig%2Frtems%2Fhost-config.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b6ffe72c8c39d21eb7680a91ac718c4ea2086c3/libatomic%2Fconfig%2Frtems%2Fhost-config.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libatomic%2Fconfig%2Frtems%2Fhost-config.h?ref=9b6ffe72c8c39d21eb7680a91ac718c4ea2086c3", "patch": "@@ -0,0 +1,41 @@\n+/* Copyright (C) 2016 Free Software Foundation, Inc.\n+   Contributed by Sebastian Huber <sebastian.huber@embedded-brains.de>.\n+\n+   This file is part of the GNU Atomic Library (libatomic).\n+\n+   Libatomic is free software; you can redistribute it and/or modify it\n+   under the terms of the GNU General Public License as published by\n+   the Free Software Foundation; either version 3 of the License, or\n+   (at your option) any later version.\n+\n+   Libatomic is distributed in the hope that it will be useful, but WITHOUT ANY\n+   WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS\n+   FOR A PARTICULAR PURPOSE.  See the GNU General Public License for\n+   more details.\n+\n+   Under Section 7 of GPL version 3, you are granted additional\n+   permissions described in the GCC Runtime Library Exception, version\n+   3.1, as published by the Free Software Foundation.\n+\n+   You should have received a copy of the GNU General Public License and\n+   a copy of the GCC Runtime Library Exception along with this program;\n+   see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n+   <http://www.gnu.org/licenses/>.  */\n+\n+/* Included after all more target-specific host-config.h.  */\n+\n+#include <machine/_libatomic.h>\n+\n+static inline UWORD\n+protect_start (void *ptr)\n+{\n+  return _Libatomic_Protect_start (ptr);\n+}\n+\n+static inline void\n+protect_end (void *ptr, UWORD isr_level)\n+{\n+  _Libatomic_Protect_end (ptr, isr_level);\n+}\n+\n+#include_next <host-config.h>"}, {"sha": "f999f9b6837baaedcd21d6d0cfb1434fa6d727a9", "filename": "libatomic/config/rtems/lock.c", "status": "added", "additions": 37, "deletions": 0, "changes": 37, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b6ffe72c8c39d21eb7680a91ac718c4ea2086c3/libatomic%2Fconfig%2Frtems%2Flock.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b6ffe72c8c39d21eb7680a91ac718c4ea2086c3/libatomic%2Fconfig%2Frtems%2Flock.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libatomic%2Fconfig%2Frtems%2Flock.c?ref=9b6ffe72c8c39d21eb7680a91ac718c4ea2086c3", "patch": "@@ -0,0 +1,37 @@\n+/* Copyright (C) 2016 Free Software Foundation, Inc.\n+   Contributed by Sebastian Huber <sebastian.huber@embedded-brains.de>.\n+\n+   This file is part of the GNU Atomic Library (libatomic).\n+\n+   Libatomic is free software; you can redistribute it and/or modify it\n+   under the terms of the GNU General Public License as published by\n+   the Free Software Foundation; either version 3 of the License, or\n+   (at your option) any later version.\n+\n+   Libatomic is distributed in the hope that it will be useful, but WITHOUT ANY\n+   WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS\n+   FOR A PARTICULAR PURPOSE.  See the GNU General Public License for\n+   more details.\n+\n+   Under Section 7 of GPL version 3, you are granted additional\n+   permissions described in the GCC Runtime Library Exception, version\n+   3.1, as published by the Free Software Foundation.\n+\n+   You should have received a copy of the GNU General Public License and\n+   a copy of the GCC Runtime Library Exception along with this program;\n+   see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n+   <http://www.gnu.org/licenses/>.  */\n+\n+#include \"libatomic_i.h\"\n+\n+void\n+libat_lock_n (void *ptr, size_t n)\n+{\n+  _Libatomic_Lock_n (ptr, n);\n+}\n+\n+void\n+libat_unlock_n (void *ptr, size_t n)\n+{\n+  _Libatomic_Unlock_n (ptr, n);\n+}"}]}