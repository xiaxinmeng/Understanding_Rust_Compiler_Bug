{"sha": "6508fa9c067d1d20a32703516ad774e3f6f90f0c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjUwOGZhOWMwNjdkMWQyMGEzMjcwMzUxNmFkNzc0ZTNmNmY5MGYwYw==", "commit": {"author": {"name": "Christophe Lyon", "email": "christophe.lyon@st.com", "date": "2019-09-10T08:13:20Z"}, "committer": {"name": "Christophe Lyon", "email": "clyon@gcc.gnu.org", "date": "2019-09-10T08:13:20Z"}, "message": "[ARM/FDPIC v6 24/24] [ARM] FDPIC: Handle arm*-*-uclinuxfdpiceabi in libstdc++ configure scripts\n\n2019-09-10  Christophe Lyon  <christophe.lyon@st.com>\n\n        libstdc++-v3/\n    \t* acinclude.m4: Handle uclinux*.\n    \t* configure: Regenerate.\n    \t* configure.host: Handle uclinux*\n\nFrom-SVN: r275586", "tree": {"sha": "48f5a56e8484ff901ef6593990967cfa782bbfdf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/48f5a56e8484ff901ef6593990967cfa782bbfdf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6508fa9c067d1d20a32703516ad774e3f6f90f0c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6508fa9c067d1d20a32703516ad774e3f6f90f0c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6508fa9c067d1d20a32703516ad774e3f6f90f0c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6508fa9c067d1d20a32703516ad774e3f6f90f0c/comments", "author": null, "committer": null, "parents": [{"sha": "b08bcba5dc1775618e67f6486240188260084122", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b08bcba5dc1775618e67f6486240188260084122", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b08bcba5dc1775618e67f6486240188260084122"}], "stats": {"total": 56, "additions": 39, "deletions": 17}, "files": [{"sha": "f5d2146cdd0098721e5880f3ce43a37c74d35b63", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6508fa9c067d1d20a32703516ad774e3f6f90f0c/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6508fa9c067d1d20a32703516ad774e3f6f90f0c/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=6508fa9c067d1d20a32703516ad774e3f6f90f0c", "patch": "@@ -1,3 +1,9 @@\n+2019-09-10  Christophe Lyon  <christophe.lyon@st.com>\n+\n+\t* acinclude.m4: Handle uclinux*.\n+\t* configure: Regenerate.\n+\t* configure.host: Handle uclinux*\n+\n 2019-09-10  Christophe Lyon  <christophe.lyon@st.com>\n \tMicka\u00ebl Gu\u00ean\u00e9 <mickael.guene@st.com>\n "}, {"sha": "ad2cb01d94f2073aaef8a48ea7cb3a760e3d51a3", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6508fa9c067d1d20a32703516ad774e3f6f90f0c/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6508fa9c067d1d20a32703516ad774e3f6f90f0c/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=6508fa9c067d1d20a32703516ad774e3f6f90f0c", "patch": "@@ -1441,6 +1441,9 @@ AC_DEFUN([GLIBCXX_ENABLE_LIBSTDCXX_TIME], [\n         ac_has_nanosleep=yes\n         ac_has_sched_yield=yes\n         ;;\n+      uclinux*)\n+        ac_has_nanosleep=yes\n+        ac_has_sched_yield=yes\n     esac\n \n   elif test x\"$enable_libstdcxx_time\" != x\"no\"; then\n@@ -1526,7 +1529,7 @@ AC_DEFUN([GLIBCXX_ENABLE_LIBSTDCXX_TIME], [\n \n   if test x\"$ac_has_clock_monotonic\" != x\"yes\"; then\n     case ${target_os} in\n-      linux*)\n+      linux* | uclinux*)\n \tAC_MSG_CHECKING([for clock_gettime syscall])\n \tAC_TRY_COMPILE(\n \t  [#include <unistd.h>\n@@ -4424,7 +4427,7 @@ AC_DEFUN([GLIBCXX_ENABLE_FILESYSTEM_TS], [\n       freebsd*|netbsd*|openbsd*|dragonfly*|darwin*)\n         enable_libstdcxx_filesystem_ts=yes\n         ;;\n-      gnu* | linux* | kfreebsd*-gnu | knetbsd*-gnu)\n+      gnu* | linux* | kfreebsd*-gnu | knetbsd*-gnu | uclinux*)\n         enable_libstdcxx_filesystem_ts=yes\n         ;;\n       rtems*)\n@@ -4606,7 +4609,7 @@ dnl\n     AC_MSG_CHECKING([for sendfile that can copy files])\n     AC_CACHE_VAL(glibcxx_cv_sendfile, [dnl\n       case \"${target_os}\" in\n-        gnu* | linux* | solaris*)\n+        gnu* | linux* | solaris* | uclinux*)\n           GCC_TRY_COMPILE_OR_LINK(\n             [#include <sys/sendfile.h>],\n             [sendfile(1, 2, (off_t*)0, sizeof 1);],"}, {"sha": "c63789cf87463db99d2010d3e71ed9887f290098", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 24, "deletions": 11, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6508fa9c067d1d20a32703516ad774e3f6f90f0c/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6508fa9c067d1d20a32703516ad774e3f6f90f0c/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=6508fa9c067d1d20a32703516ad774e3f6f90f0c", "patch": "@@ -6652,7 +6652,7 @@ irix5* | irix6* | nonstopux*)\n   ;;\n \n # This must be Linux ELF.\n-linux* | k*bsd*-gnu | kopensolaris*-gnu)\n+linux* | k*bsd*-gnu | kopensolaris*-gnu | uclinuxfdpiceabi)\n   lt_cv_deplibs_check_method=pass_all\n   ;;\n \n@@ -9598,7 +9598,7 @@ _LT_EOF\n       archive_expsym_cmds='sed \"s,^,_,\" $export_symbols >$output_objdir/$soname.expsym~$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-h,$soname ${wl}--retain-symbols-file,$output_objdir/$soname.expsym ${wl}--image-base,`expr ${RANDOM-$$} % 4096 / 2 \\* 262144 + 1342177280` -o $lib'\n       ;;\n \n-    gnu* | linux* | tpf* | k*bsd*-gnu | kopensolaris*-gnu)\n+    gnu* | linux* | tpf* | k*bsd*-gnu | kopensolaris*-gnu | uclinuxfdpiceabi)\n       tmp_diet=no\n       if test \"$host_os\" = linux-dietlibc; then\n \tcase $cc_basename in\n@@ -11138,7 +11138,12 @@ linux*oldld* | linux*aout* | linux*coff*)\n   ;;\n \n # This must be Linux ELF.\n-linux* | k*bsd*-gnu | kopensolaris*-gnu)\n+\n+# uclinux* changes (here and below) have been submitted to the libtool\n+# project, but have not yet been accepted: they are GCC-local changes\n+# for the time being.  (See\n+# https://lists.gnu.org/archive/html/libtool-patches/2018-05/msg00000.html)\n+linux* | k*bsd*-gnu | kopensolaris*-gnu | uclinuxfdpiceabi)\n   version_type=linux\n   need_lib_prefix=no\n   need_version=no\n@@ -14822,7 +14827,12 @@ linux*oldld* | linux*aout* | linux*coff*)\n   ;;\n \n # This must be Linux ELF.\n-linux* | k*bsd*-gnu | kopensolaris*-gnu)\n+\n+# uclinux* changes (here and below) have been submitted to the libtool\n+# project, but have not yet been accepted: they are GCC-local changes\n+# for the time being.  (See\n+# https://lists.gnu.org/archive/html/libtool-patches/2018-05/msg00000.html)\n+linux* | k*bsd*-gnu | kopensolaris*-gnu | uclinuxfdpiceabi)\n   version_type=linux\n   need_lib_prefix=no\n   need_version=no\n@@ -20899,6 +20909,9 @@ $as_echo \"$glibcxx_glibc217\" >&6; }\n         ac_has_nanosleep=yes\n         ac_has_sched_yield=yes\n         ;;\n+      uclinux*)\n+        ac_has_nanosleep=yes\n+        ac_has_sched_yield=yes\n     esac\n \n   elif test x\"$enable_libstdcxx_time\" != x\"no\"; then\n@@ -21347,7 +21360,7 @@ $as_echo \"$ac_has_nanosleep\" >&6; }\n \n   if test x\"$ac_has_clock_monotonic\" != x\"yes\"; then\n     case ${target_os} in\n-      linux*)\n+      linux* | uclinux*)\n \t{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for clock_gettime syscall\" >&5\n $as_echo_n \"checking for clock_gettime syscall... \" >&6; }\n \tcat confdefs.h - <<_ACEOF >conftest.$ac_ext\n@@ -28316,7 +28329,7 @@ _ACEOF\n if ac_fn_c_try_link \"$LINENO\"; then :\n   chktls_save_LDFLAGS=\"$LDFLAGS\"\n \t  \t  \t  case $host in\n-\t    *-*-linux*)\n+\t    *-*-linux* | -*-uclinuxfdpic*)\n \t      LDFLAGS=\"-shared -Wl,--no-undefined $LDFLAGS\"\n \t      ;;\n \t  esac\n@@ -47824,7 +47837,7 @@ _ACEOF\n if ac_fn_c_try_link \"$LINENO\"; then :\n   chktls_save_LDFLAGS=\"$LDFLAGS\"\n \t  \t  \t  case $host in\n-\t    *-*-linux*)\n+\t    *-*-linux* | -*-uclinuxfdpic*)\n \t      LDFLAGS=\"-shared -Wl,--no-undefined $LDFLAGS\"\n \t      ;;\n \t  esac\n@@ -54011,7 +54024,7 @@ _ACEOF\n if ac_fn_c_try_link \"$LINENO\"; then :\n   chktls_save_LDFLAGS=\"$LDFLAGS\"\n \t  \t  \t  case $host in\n-\t    *-*-linux*)\n+\t    *-*-linux* | -*-uclinuxfdpic*)\n \t      LDFLAGS=\"-shared -Wl,--no-undefined $LDFLAGS\"\n \t      ;;\n \t  esac\n@@ -72654,7 +72667,7 @@ fi\n \n \n case \"$target\" in\n-  *-linux*)\n+  *-linux* | *-uclinux*)\n     case \"$enable_linux_futex\" in\n       default)\n \t# If headers don't have gettid/futex syscalls definition, then\n@@ -74326,7 +74339,7 @@ $as_echo_n \"checking whether to build Filesystem TS support... \" >&6; }\n       freebsd*|netbsd*|openbsd*|dragonfly*|darwin*)\n         enable_libstdcxx_filesystem_ts=yes\n         ;;\n-      gnu* | linux* | kfreebsd*-gnu | knetbsd*-gnu)\n+      gnu* | linux* | kfreebsd*-gnu | knetbsd*-gnu | uclinux*)\n         enable_libstdcxx_filesystem_ts=yes\n         ;;\n       rtems*)\n@@ -74878,7 +74891,7 @@ $as_echo_n \"checking for sendfile that can copy files... \" >&6; }\n   $as_echo_n \"(cached) \" >&6\n else\n         case \"${target_os}\" in\n-        gnu* | linux* | solaris*)\n+        gnu* | linux* | solaris* | uclinux*)\n           if test x$gcc_no_link = xyes; then\n   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */"}, {"sha": "898db37d9a22a872a62fe6c7ae02c1955b0b66f6", "filename": "libstdc++-v3/configure.host", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6508fa9c067d1d20a32703516ad774e3f6f90f0c/libstdc%2B%2B-v3%2Fconfigure.host", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6508fa9c067d1d20a32703516ad774e3f6f90f0c/libstdc%2B%2B-v3%2Fconfigure.host", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure.host?ref=6508fa9c067d1d20a32703516ad774e3f6f90f0c", "patch": "@@ -264,7 +264,7 @@ case \"${host_os}\" in\n   linux-musl*)\n     os_include_dir=\"os/generic\"\n     ;;\n-  gnu* | linux* | kfreebsd*-gnu)\n+  gnu* | linux* | kfreebsd*-gnu | uclinux*)\n     if [ \"$uclibc\" = \"yes\" ]; then\n       os_include_dir=\"os/uclibc\"\n     elif [ \"$bionic\" = \"yes\" ]; then\n@@ -321,7 +321,7 @@ esac\n # Set any OS-dependent and CPU-dependent bits.\n # THIS TABLE IS SORTED.  KEEP IT THAT WAY.\n case \"${host}\" in\n-  *-*-linux*)\n+  *-*-linux* | *-*-uclinux*)\n     case \"${host_cpu}\" in\n       i[567]86)\n         abi_baseline_pair=i486-linux-gnu\n@@ -355,7 +355,7 @@ case \"${host}\" in\n         fi\n     esac\n     case \"${host}\" in\n-      arm*-*-linux-*)\n+      arm*-*-linux-* | arm*-*-uclinuxfdpiceabi)\n \tport_specific_symbol_files=\"\\$(srcdir)/../config/os/gnu-linux/arm-eabi-extra.ver\"\n \t;;\n     esac"}]}