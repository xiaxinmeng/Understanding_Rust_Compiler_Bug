{"sha": "1f7aa7cdd65d774a0735ca485546510f907ec5ef", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWY3YWE3Y2RkNjVkNzc0YTA3MzVjYTQ4NTU0NjUxMGY5MDdlYzVlZg==", "commit": {"author": {"name": "Steve Ellcey", "email": "sje@cup.hp.com", "date": "2004-03-11T19:21:19Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2004-03-11T19:21:19Z"}, "message": "hpux.h (TARGET_INIT_LIBFUNCS): Add undef.\n\n\t* config/ia64/hpux.h (TARGET_INIT_LIBFUNCS): Add undef.\n\t* config/ia64/ia64.h (TARGET_INIT_LIBFUNCS): Add define.\n\t* config/ia64/ia64.c (ia64_init_libfuncs): New.\n\t(ia64_hpux_init_libfuncs): Add call to ia64_init_libfuncs.\n\nFrom-SVN: r79339", "tree": {"sha": "a5bfca7dd411785914affdd4c2c608e241b68dc8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a5bfca7dd411785914affdd4c2c608e241b68dc8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1f7aa7cdd65d774a0735ca485546510f907ec5ef", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f7aa7cdd65d774a0735ca485546510f907ec5ef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f7aa7cdd65d774a0735ca485546510f907ec5ef", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f7aa7cdd65d774a0735ca485546510f907ec5ef/comments", "author": null, "committer": null, "parents": [{"sha": "c6feb69790d5ed80fcd8697693ce50146269ba4c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c6feb69790d5ed80fcd8697693ce50146269ba4c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c6feb69790d5ed80fcd8697693ce50146269ba4c"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "10a741753c0bbdc91b201d13116b2556ed275bfa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f7aa7cdd65d774a0735ca485546510f907ec5ef/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f7aa7cdd65d774a0735ca485546510f907ec5ef/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1f7aa7cdd65d774a0735ca485546510f907ec5ef", "patch": "@@ -1,3 +1,10 @@\n+2004-03-11  Steve Ellcey  <sje@cup.hp.com>\n+\n+\t* config/ia64/hpux.h (TARGET_INIT_LIBFUNCS): Add undef.\n+\t* config/ia64/ia64.h (TARGET_INIT_LIBFUNCS): Add define.\n+\t* config/ia64/ia64.c (ia64_init_libfuncs): New.\n+\t(ia64_hpux_init_libfuncs): Add call to ia64_init_libfuncs.\n+\n 2004-03-11  Roger Sayle  <roger@eyesopen.com>\n \n \t* fold-const.c (negate_expr_p) <RSHIFT_EXPR>: We can optimize"}, {"sha": "877bb5d292cc835ac44f00ca2a9ae8ad0150082e", "filename": "gcc/config/ia64/hpux.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f7aa7cdd65d774a0735ca485546510f907ec5ef/gcc%2Fconfig%2Fia64%2Fhpux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f7aa7cdd65d774a0735ca485546510f907ec5ef/gcc%2Fconfig%2Fia64%2Fhpux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Fhpux.h?ref=1f7aa7cdd65d774a0735ca485546510f907ec5ef", "patch": "@@ -202,6 +202,7 @@ do {\t\t\t\t\t\t\t\t\\\n #undef TARGET_C99_FUNCTIONS\n #define TARGET_C99_FUNCTIONS  1\n \n+#undef TARGET_INIT_LIBFUNCS\n #define TARGET_INIT_LIBFUNCS ia64_hpux_init_libfuncs\n \n #define FLOAT_LIB_COMPARE_RETURNS_BOOL(MODE, COMPARISON) ((MODE) == TFmode)"}, {"sha": "6b90aa843c8625856d0f781a6285f1f9de4d564f", "filename": "gcc/config/ia64/ia64.c", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f7aa7cdd65d774a0735ca485546510f907ec5ef/gcc%2Fconfig%2Fia64%2Fia64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f7aa7cdd65d774a0735ca485546510f907ec5ef/gcc%2Fconfig%2Fia64%2Fia64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Fia64.c?ref=1f7aa7cdd65d774a0735ca485546510f907ec5ef", "patch": "@@ -261,6 +261,8 @@ static void ia64_hpux_add_extern_decl (tree decl)\n      ATTRIBUTE_UNUSED;\n static void ia64_hpux_file_end (void)\n      ATTRIBUTE_UNUSED;\n+static void ia64_init_libfuncs (void)\n+     ATTRIBUTE_UNUSED;\n static void ia64_hpux_init_libfuncs (void)\n      ATTRIBUTE_UNUSED;\n static void ia64_vms_init_libfuncs (void)\n@@ -8747,11 +8749,25 @@ ia64_hpux_file_end (void)\n   extern_func_head = 0;\n }\n \n+/* Set SImode div/mod functions, init_integral_libfuncs only initializes\n+   modes of word_mode and larger.  */\n+\n+static void\n+ia64_init_libfuncs (void)\n+{\n+  set_optab_libfunc (sdiv_optab, SImode, \"__divsi3\");\n+  set_optab_libfunc (udiv_optab, SImode, \"__udivsi3\");\n+  set_optab_libfunc (smod_optab, SImode, \"__modsi3\");\n+  set_optab_libfunc (umod_optab, SImode, \"__umodsi3\");\n+}\n+\n /* Rename all the TFmode libfuncs using the HPUX conventions.  */\n \n static void\n ia64_hpux_init_libfuncs (void)\n {\n+  ia64_init_libfuncs ();\n+\n   set_optab_libfunc (add_optab, TFmode, \"_U_Qfadd\");\n   set_optab_libfunc (sub_optab, TFmode, \"_U_Qfsub\");\n   set_optab_libfunc (smul_optab, TFmode, \"_U_Qfmpy\");"}, {"sha": "29f78c43a0edf3a61fe75d3476ea7316367cb704", "filename": "gcc/config/ia64/ia64.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f7aa7cdd65d774a0735ca485546510f907ec5ef/gcc%2Fconfig%2Fia64%2Fia64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f7aa7cdd65d774a0735ca485546510f907ec5ef/gcc%2Fconfig%2Fia64%2Fia64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Fia64.h?ref=1f7aa7cdd65d774a0735ca485546510f907ec5ef", "patch": "@@ -2381,6 +2381,10 @@ enum fetchop_code {\n #undef  PROFILE_BEFORE_PROLOGUE\n #define PROFILE_BEFORE_PROLOGUE 1\n \n+/* Initialize library function table. */\n+#undef TARGET_INIT_LIBFUNCS\n+#define TARGET_INIT_LIBFUNCS ia64_init_libfuncs\n+\n \f\n \n /* Switch on code for querying unit reservations.  */"}]}