{"sha": "8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGRlMTVmZmM5ZDljNDUyNmJjY2M5ZjU5NGVkYzhkOGZkYzU3ZjgzYQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2007-01-31T17:06:33Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2007-01-31T17:06:33Z"}, "message": "* resource/gnu/classpath/tools/jar/messages.properties\n\t(Main.Stdin): New message.\n\t* tools/gnu/classpath/tools/jar/Main.java (initializeParser): Add\n\t'-@' option.\n\t(readNames): New method.\n\t(run): Use it.\n\nFrom-SVN: r121424", "tree": {"sha": "15a8468955f090259e4c4755c3d596de8491195a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/15a8468955f090259e4c4755c3d596de8491195a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/comments", "author": null, "committer": null, "parents": [{"sha": "4fc784235047bf77dc7b8b05820ac8a596ea4142", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4fc784235047bf77dc7b8b05820ac8a596ea4142", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4fc784235047bf77dc7b8b05820ac8a596ea4142"}], "stats": {"total": 39, "additions": 38, "deletions": 1}, "files": [{"sha": "bcba0a9385d78377cdd90d67b4d77ec18347b109", "filename": "libjava/classpath/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FChangeLog?ref=8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a", "patch": "@@ -1,3 +1,12 @@\n+2007-01-31  Tom Tromey  <tromey@redhat.com>\n+\n+\t* resource/gnu/classpath/tools/jar/messages.properties\n+\t(Main.Stdin): New message.\n+\t* tools/gnu/classpath/tools/jar/Main.java (initializeParser): Add\n+\t'-@' option.\n+\t(readNames): New method.\n+\t(run): Use it.\n+\n 2007-01-26  Andrew Haley  <aph@redhat.com>\n \n         * java/lang/SecurityManager.java: Load and initialize"}, {"sha": "a456fe2438d7d78d2616b2ff04d2974e08d3ae6d", "filename": "libjava/classpath/resource/gnu/classpath/tools/jar/messages.properties", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Fresource%2Fgnu%2Fclasspath%2Ftools%2Fjar%2Fmessages.properties", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Fresource%2Fgnu%2Fclasspath%2Ftools%2Fjar%2Fmessages.properties", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fresource%2Fgnu%2Fclasspath%2Ftools%2Fjar%2Fmessages.properties?ref=8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a", "patch": "@@ -69,3 +69,4 @@ Main.FileNameGroup=File name selection\n Main.ChangeDir=change to directory before the next file\n Main.ChangeDirArg=DIR FILE\n Main.InternalError=jar: internal error:\n+Main.Stdin=Read file names from stdin"}, {"sha": "dad181cde8fbffef8f6bbdc65d27dcd5cd8445c1", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/jar/Main$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%241.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%241.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%241.class?ref=8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a"}, {"sha": "93ef661618aa91b397d3c33d853fe5cfb220a584", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/jar/Main$2.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%242.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%242.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%242.class?ref=8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a"}, {"sha": "cf00699159fcb6ea2b2a54eed8f869337001189e", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/jar/Main$3.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%243.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%243.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%243.class?ref=8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a"}, {"sha": "496c41185201f13b4822537f5f7b637c2945aaa3", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/jar/Main$4.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%244.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%244.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%244.class?ref=8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a"}, {"sha": "2efdda0afea1166de26b082ffce76cdbb1f1d9b8", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/jar/Main$5.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%245.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%245.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%245.class?ref=8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a"}, {"sha": "4825fd1db1e7d6847964b52d700523a120d23475", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/jar/Main$6.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%246.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%246.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%246.class?ref=8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a"}, {"sha": "cb9fcd55e84d77a6e8ee073750e9fe738db44b51", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/jar/Main$7.class", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%247.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%247.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%247.class?ref=8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a"}, {"sha": "6d7c301d9e802572aa7252d3eb9974f1167cf0ac", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/jar/Main$HandleFile.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%24HandleFile.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%24HandleFile.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%24HandleFile.class?ref=8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a"}, {"sha": "db164f2023e00657c6930d61bbea3af07daa932f", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/jar/Main$JarParser.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%24JarParser.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%24JarParser.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%24JarParser.class?ref=8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a"}, {"sha": "394b4e02e3ffec555c0c1bedb0d45e081aba0286", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/jar/Main$ModeOption.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%24ModeOption.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%24ModeOption.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain%24ModeOption.class?ref=8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a"}, {"sha": "5b4d96cd3fc0c03740b1a8e61ba11a298ba03017", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/jar/Main.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain.class?ref=8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a"}, {"sha": "c3575bdefd56628733346bcfb793a008431e3047", "filename": "libjava/classpath/tools/gnu/classpath/tools/jar/Main.java", "status": "modified", "additions": 28, "deletions": 1, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjar%2FMain.java?ref=8de15ffc9d9c4526bccc9f594edc8d8fdc57f83a", "patch": "@@ -1,5 +1,5 @@\n /* Main.java - jar program main()\n- Copyright (C) 2006 Free Software Foundation, Inc.\n+ Copyright (C) 2006, 2007 Free Software Foundation, Inc.\n \n  This file is part of GNU Classpath.\n \n@@ -45,7 +45,9 @@\n import gnu.classpath.tools.getopt.OptionGroup;\n import gnu.classpath.tools.getopt.Parser;\n \n+import java.io.BufferedReader;\n import java.io.File;\n+import java.io.InputStreamReader;\n import java.io.IOException;\n import java.text.MessageFormat;\n import java.util.ArrayList;\n@@ -232,11 +234,34 @@ public void parsed(String argument) throws OptionException\n         changedDirectory = argument;\n       }\n     });\n+    grp.add(new Option('@', Messages.getString(\"Main.Stdin\"))\n+    {\n+      public void parsed(String argument) throws OptionException\n+      {\n+\treadNamesFromStdin = true;\n+      }\n+    });\n     p.add(grp);\n \n     return p;\n   }\n \n+  private void readNames()\n+  {\n+    String line;\n+    try\n+      {\n+\tBufferedReader br\n+\t  = new BufferedReader(new InputStreamReader(System.in));\n+\twhile ((line = br.readLine()) != null)\n+\t  entries.add(new Entry(new File(line)));\n+      }\n+    catch (IOException _)\n+      {\n+\t// Ignore.\n+      }\n+  }\n+\n   private void run(String[] args)\n       throws InstantiationException, IllegalAccessException, IOException\n   {\n@@ -245,6 +270,8 @@ private void run(String[] args)\n     if (args.length > 0 && args[0].charAt(0) != '-')\n       args[0] = '-' + args[0];\n     p.parse(args, new HandleFile());\n+    if (readNamesFromStdin)\n+      readNames();\n     Action t = (Action) operationMode.newInstance();\n     t.run(this);\n   }"}]}