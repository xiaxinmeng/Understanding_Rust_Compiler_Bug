{"sha": "250ba2372cdb135d47cb4a47227d0457fb73ce9a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjUwYmEyMzcyY2RiMTM1ZDQ3Y2I0YTQ3MjI3ZDA0NTdmYjczY2U5YQ==", "commit": {"author": {"name": "Alexandre Oliva", "email": "oliva@lsd.ic.unicamp.br", "date": "1999-11-21T17:49:59Z"}, "committer": {"name": "Alexandre Oliva", "email": "oliva@gcc.gnu.org", "date": "1999-11-21T17:49:59Z"}, "message": "* delete2.C, delete3.C, delete4.C, delete5.C: New tests.\n\nFrom-SVN: r30607", "tree": {"sha": "c80271ae2afaf401e64eb3ce3710db73eeeba145", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c80271ae2afaf401e64eb3ce3710db73eeeba145"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/250ba2372cdb135d47cb4a47227d0457fb73ce9a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/250ba2372cdb135d47cb4a47227d0457fb73ce9a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/250ba2372cdb135d47cb4a47227d0457fb73ce9a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/250ba2372cdb135d47cb4a47227d0457fb73ce9a/comments", "author": null, "committer": null, "parents": [{"sha": "c7edeea32a97ad35fc1cc936d5f9bcc49d67016f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7edeea32a97ad35fc1cc936d5f9bcc49d67016f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c7edeea32a97ad35fc1cc936d5f9bcc49d67016f"}], "stats": {"total": 123, "additions": 123, "deletions": 0}, "files": [{"sha": "9d636f9b46efe36bc422ee372cc4170e70b8b74c", "filename": "gcc/testsuite/g++.old-deja/g++.oliva/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/250ba2372cdb135d47cb4a47227d0457fb73ce9a/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.oliva%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/250ba2372cdb135d47cb4a47227d0457fb73ce9a/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.oliva%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.oliva%2FChangeLog?ref=250ba2372cdb135d47cb4a47227d0457fb73ce9a", "patch": "@@ -1,3 +1,7 @@\n+1999-11-21  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>\n+\n+\t* delete2.C, delete3.C, delete4.C, delete5.C: New tests.\n+\n 1999-11-19  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>\n \n \t* template7.C: Crash test passes, bug error is now bogus."}, {"sha": "cdd0dc566a0aad21039dc30acd0d0601515941c6", "filename": "gcc/testsuite/g++.old-deja/g++.oliva/delete2.C", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/250ba2372cdb135d47cb4a47227d0457fb73ce9a/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.oliva%2Fdelete2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/250ba2372cdb135d47cb4a47227d0457fb73ce9a/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.oliva%2Fdelete2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.oliva%2Fdelete2.C?ref=250ba2372cdb135d47cb4a47227d0457fb73ce9a", "patch": "@@ -0,0 +1,25 @@\n+// Copyright (C) 1999 Free Software Foundation\n+\n+// by Alexandre Oliva <oliva@lsd.ic.unicamp.br>\n+// distilled from bug report by Barry M. Caceres <barryc@itravelpartners.com>\n+\n+// Test whether dtors of vbases are called on delete[].\n+\n+extern \"C\" void abort();\n+extern \"C\" void exit(int);\n+\n+struct Foo {\n+  ~Foo() {\n+    std::exit(0);\n+  }\n+};\n+\n+struct Bar : virtual Foo {\n+};\n+\n+int main() {\n+  delete [] new Bar[1];\n+  std::abort();\n+}\n+\n+"}, {"sha": "65932d35e75a2f273aa223446452d070f742823a", "filename": "gcc/testsuite/g++.old-deja/g++.oliva/delete3.C", "status": "added", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/250ba2372cdb135d47cb4a47227d0457fb73ce9a/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.oliva%2Fdelete3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/250ba2372cdb135d47cb4a47227d0457fb73ce9a/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.oliva%2Fdelete3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.oliva%2Fdelete3.C?ref=250ba2372cdb135d47cb4a47227d0457fb73ce9a", "patch": "@@ -0,0 +1,36 @@\n+// Copyright (C) 1999 Free Software Foundation\n+\n+// by Alexandre Oliva <oliva@lsd.ic.unicamp.br>\n+\n+// Test whether dtors of vbases are called on throw within new[].\n+// Variant of delete2.C.\n+\n+extern \"C\" void abort();\n+extern \"C\" void exit(int);\n+\n+struct Foo {\n+  static bool first;\n+\n+  Foo() {\n+    if (first)\n+      first = false;\n+    else\n+      throw first;\n+  }\n+\n+  ~Foo() {\n+    std::exit(0);\n+  }\n+};\n+\n+bool Foo::first = true;\n+\n+struct Bar : virtual Foo {\n+};\n+\n+int main() {\n+  delete [] new Bar[2];\n+  std::abort();\n+}\n+\n+"}, {"sha": "def34112273871003af62eaed8da6c87ad849870", "filename": "gcc/testsuite/g++.old-deja/g++.oliva/delete4.C", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/250ba2372cdb135d47cb4a47227d0457fb73ce9a/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.oliva%2Fdelete4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/250ba2372cdb135d47cb4a47227d0457fb73ce9a/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.oliva%2Fdelete4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.oliva%2Fdelete4.C?ref=250ba2372cdb135d47cb4a47227d0457fb73ce9a", "patch": "@@ -0,0 +1,29 @@\n+// Copyright (C) 1999 Free Software Foundation\n+\n+// by Alexandre Oliva <oliva@lsd.ic.unicamp.br>\n+\n+// Test whether dtors of vbases are called from dtor of aggregate of array.\n+// Variant of delete2.C and delete3.C.\n+\n+extern \"C\" void abort();\n+extern \"C\" void exit(int);\n+\n+struct Foo {\n+  ~Foo() {\n+    std::exit(0);\n+  }\n+};\n+\n+struct Bar : virtual Foo {\n+};\n+\n+struct Baz {\n+  Bar i[1];\n+};\n+\n+int main() {\n+  Baz();\n+  std::abort();\n+}\n+\n+"}, {"sha": "8284525abe57fe2a6d75702d184cbf6cf05645ba", "filename": "gcc/testsuite/g++.old-deja/g++.oliva/delete5.C", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/250ba2372cdb135d47cb4a47227d0457fb73ce9a/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.oliva%2Fdelete5.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/250ba2372cdb135d47cb4a47227d0457fb73ce9a/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.oliva%2Fdelete5.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.oliva%2Fdelete5.C?ref=250ba2372cdb135d47cb4a47227d0457fb73ce9a", "patch": "@@ -0,0 +1,29 @@\n+// Copyright (C) 1999 Free Software Foundation\n+\n+// by Alexandre Oliva <oliva@lsd.ic.unicamp.br>\n+\n+// Test whether dtors of vbases are called from dtor of auto array.\n+// Variant of delete2.C, delete3.C and delete4.C.\n+\n+extern \"C\" void abort();\n+extern \"C\" void exit(int);\n+\n+struct Foo {\n+  ~Foo() {\n+    std::exit(0);\n+  }\n+};\n+\n+struct Bar : virtual Foo {\n+};\n+\n+void foo() {\n+  Bar i[1];\n+}\n+\n+int main() {\n+  foo();\n+  std::abort();\n+}\n+\n+"}]}