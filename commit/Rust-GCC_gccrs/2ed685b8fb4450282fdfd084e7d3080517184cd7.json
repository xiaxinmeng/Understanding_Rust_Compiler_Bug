{"sha": "2ed685b8fb4450282fdfd084e7d3080517184cd7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmVkNjg1YjhmYjQ0NTAyODJmZGZkMDg0ZTdkMzA4MDUxNzE4NGNkNw==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2012-11-29T19:01:17Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2012-11-29T19:01:17Z"}, "message": "Use explicit -I for libstdc++-v3 header files\n\n\t* Makefile.am (AM_MAKEFLAGS): Remove CC and CXX.\n\t* configure.ac (ACX_NONCANONICAL_TARGET): New.\n\t* asan/Makefile.am (AM_CXXFLAGS): Add -I for libstdc++-v3 header\n\tfiles.\n\t(AM_MAKEFLAGS): Remove CC and CXX.\n\t* interception/Makefile.am: Likewise.\n\t* sanitizer_common/Makefile.am: Likewise.\n\t* tsan/Makefile.am: Likewise.\n\t* Makefile.in: Regenerated.\n\t* aclocal.m4: Likewise.\n\t* configure: Likewise.\n\t* asan/Makefile.in: Likewise.\n\t* interception/Makefile.in: Likewise.\n\t* sanitizer_common/Makefile.in: Likewise.\n\t* tsan/Makefile.in: Likewise.\n\nFrom-SVN: r193949", "tree": {"sha": "56ddf851e832c50ca15b7b735dd1d3b77e94bc56", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/56ddf851e832c50ca15b7b735dd1d3b77e94bc56"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2ed685b8fb4450282fdfd084e7d3080517184cd7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ed685b8fb4450282fdfd084e7d3080517184cd7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ed685b8fb4450282fdfd084e7d3080517184cd7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ed685b8fb4450282fdfd084e7d3080517184cd7/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f681cf9564b61c663e0c313eec30d5748899e4cd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f681cf9564b61c663e0c313eec30d5748899e4cd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f681cf9564b61c663e0c313eec30d5748899e4cd"}], "stats": {"total": 129, "additions": 98, "deletions": 31}, "files": [{"sha": "7e2896fac292e97fd2eedcbb971a9c1605ceeccd", "filename": "libsanitizer/ChangeLog", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2FChangeLog?ref=2ed685b8fb4450282fdfd084e7d3080517184cd7", "patch": "@@ -1,3 +1,21 @@\n+2012-11-28  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* Makefile.am (AM_MAKEFLAGS): Remove CC and CXX.\n+\t* configure.ac (ACX_NONCANONICAL_TARGET): New.\n+\t* asan/Makefile.am (AM_CXXFLAGS): Add -I for libstdc++-v3 header\n+\tfiles.\n+\t(AM_MAKEFLAGS): Remove CC and CXX.\n+\t* interception/Makefile.am: Likewise.\n+\t* sanitizer_common/Makefile.am: Likewise.\n+\t* tsan/Makefile.am: Likewise.\n+\t* Makefile.in: Regenerated.\n+\t* aclocal.m4: Likewise.\n+\t* configure: Likewise.\n+\t* asan/Makefile.in: Likewise.\n+\t* interception/Makefile.in: Likewise.\n+\t* sanitizer_common/Makefile.in: Likewise.\n+\t* tsan/Makefile.in: Likewise.\n+\n 2012-11-27  Kostya Serebryany  <kcc@google.com>\n \n \t* All files: Merge from upstream r168699."}, {"sha": "cd4e92d2caa720cac98d2fff35c4d0822870d85b", "filename": "libsanitizer/Makefile.am", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2FMakefile.am?ref=2ed685b8fb4450282fdfd084e7d3080517184cd7", "patch": "@@ -37,8 +37,6 @@ AM_MAKEFLAGS = \\\n \t\"includedir=$(includedir)\" \\\n \t\"AR=$(AR)\" \\\n \t\"AS=$(AS)\" \\\n-\t\"CC=$(CC)\" \\\n-\t\"CXX=$(CXX)\" \\\n \t\"LD=$(LD)\" \\\n \t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n \t\"NM=$(NM)\" \\"}, {"sha": "53e0be90fef63b238a9a4c504317ff35bf5fdaf4", "filename": "libsanitizer/Makefile.in", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2FMakefile.in?ref=2ed685b8fb4450282fdfd084e7d3080517184cd7", "patch": "@@ -41,7 +41,8 @@ DIST_COMMON = $(am__configure_deps) $(srcdir)/../config.guess \\\n \t$(srcdir)/../mkinstalldirs $(srcdir)/Makefile.am \\\n \t$(srcdir)/Makefile.in $(top_srcdir)/configure ChangeLog\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n-am__aclocal_m4_deps = $(top_srcdir)/../config/depstand.m4 \\\n+am__aclocal_m4_deps = $(top_srcdir)/../config/acx.m4 \\\n+\t$(top_srcdir)/../config/depstand.m4 \\\n \t$(top_srcdir)/../config/lead-dot.m4 \\\n \t$(top_srcdir)/../config/multi.m4 \\\n \t$(top_srcdir)/../config/override.m4 \\\n@@ -236,6 +237,7 @@ sysconfdir = @sysconfdir@\n target = @target@\n target_alias = @target_alias@\n target_cpu = @target_cpu@\n+target_noncanonical = @target_noncanonical@\n target_os = @target_os@\n target_vendor = @target_vendor@\n toolexecdir = @toolexecdir@\n@@ -278,8 +280,6 @@ AM_MAKEFLAGS = \\\n \t\"includedir=$(includedir)\" \\\n \t\"AR=$(AR)\" \\\n \t\"AS=$(AS)\" \\\n-\t\"CC=$(CC)\" \\\n-\t\"CXX=$(CXX)\" \\\n \t\"LD=$(LD)\" \\\n \t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n \t\"NM=$(NM)\" \\"}, {"sha": "d6782f8e373b515a6f2859ced8ffcae441efc8b3", "filename": "libsanitizer/aclocal.m4", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Faclocal.m4?ref=2ed685b8fb4450282fdfd084e7d3080517184cd7", "patch": "@@ -990,6 +990,7 @@ AC_SUBST([am__tar])\n AC_SUBST([am__untar])\n ]) # _AM_PROG_TAR\n \n+m4_include([../config/acx.m4])\n m4_include([../config/depstand.m4])\n m4_include([../config/lead-dot.m4])\n m4_include([../config/multi.m4])"}, {"sha": "45fb3b3eb5d3a4b56025ade0a63b3454bf76c454", "filename": "libsanitizer/asan/Makefile.am", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2Fasan%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2Fasan%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fasan%2FMakefile.am?ref=2ed685b8fb4450282fdfd084e7d3080517184cd7", "patch": "@@ -5,6 +5,10 @@ gcc_version := $(shell cat $(top_srcdir)/../gcc/BASE-VER)\n \n DEFS = -D_GNU_SOURCE -D_DEBUG -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS -DASAN_HAS_EXCEPTIONS=1 -DASAN_FLEXIBLE_MAPPING_AND_OFFSET=0 -DASAN_NEEDS_SEGV=1\n AM_CXXFLAGS = -Wall -W -Wno-unused-parameter -Wwrite-strings -pedantic -Wno-long-long  -fPIC -fno-builtin -fno-exceptions -fomit-frame-pointer -funwind-tables -fvisibility=hidden -Wno-variadic-macros -Wno-c99-extensions \n+## We require libstdc++-v3 to be in the same build tree.\n+AM_CXXFLAGS += -I../../libstdc++-v3/include \\\n+\t       -I../../libstdc++-v3/include/$(target_noncanonical) \\\n+\t       -I$(srcdir)/../../libstdc++-v3/libsupc++\n ACLOCAL_AMFLAGS = -I $(top_srcdir) -I $(top_srcdir)/config\n \n toolexeclib_LTLIBRARIES = libasan.la\n@@ -64,8 +68,6 @@ AM_MAKEFLAGS = \\\n \t\"includedir=$(includedir)\" \\\n \t\"AR=$(AR)\" \\\n \t\"AS=$(AS)\" \\\n-\t\"CC=$(CC)\" \\\n-\t\"CXX=$(CXX)\" \\\n \t\"LD=$(LD)\" \\\n \t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n \t\"NM=$(NM)\" \\"}, {"sha": "681fe5e0a9b86e2a2f403696303501a13d9c5272", "filename": "libsanitizer/asan/Makefile.in", "status": "modified", "additions": 10, "deletions": 4, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2Fasan%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2Fasan%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fasan%2FMakefile.in?ref=2ed685b8fb4450282fdfd084e7d3080517184cd7", "patch": "@@ -38,7 +38,8 @@ target_triplet = @target@\n subdir = asan\n DIST_COMMON = $(srcdir)/Makefile.am $(srcdir)/Makefile.in\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n-am__aclocal_m4_deps = $(top_srcdir)/../config/depstand.m4 \\\n+am__aclocal_m4_deps = $(top_srcdir)/../config/acx.m4 \\\n+\t$(top_srcdir)/../config/depstand.m4 \\\n \t$(top_srcdir)/../config/lead-dot.m4 \\\n \t$(top_srcdir)/../config/multi.m4 \\\n \t$(top_srcdir)/../config/override.m4 \\\n@@ -228,6 +229,7 @@ sysconfdir = @sysconfdir@\n target = @target@\n target_alias = @target_alias@\n target_cpu = @target_cpu@\n+target_noncanonical = @target_noncanonical@\n target_os = @target_os@\n target_vendor = @target_vendor@\n toolexecdir = @toolexecdir@\n@@ -239,7 +241,13 @@ AM_CPPFLAGS = -I $(top_srcdir)/include -I $(top_srcdir)\n \n # May be used by toolexeclibdir.\n gcc_version := $(shell cat $(top_srcdir)/../gcc/BASE-VER)\n-AM_CXXFLAGS = -Wall -W -Wno-unused-parameter -Wwrite-strings -pedantic -Wno-long-long  -fPIC -fno-builtin -fno-exceptions -fomit-frame-pointer -funwind-tables -fvisibility=hidden -Wno-variadic-macros -Wno-c99-extensions \n+AM_CXXFLAGS = -Wall -W -Wno-unused-parameter -Wwrite-strings -pedantic \\\n+\t-Wno-long-long -fPIC -fno-builtin -fno-exceptions \\\n+\t-fomit-frame-pointer -funwind-tables -fvisibility=hidden \\\n+\t-Wno-variadic-macros -Wno-c99-extensions \\\n+\t-I../../libstdc++-v3/include \\\n+\t-I../../libstdc++-v3/include/$(target_noncanonical) \\\n+\t-I$(srcdir)/../../libstdc++-v3/libsupc++\n ACLOCAL_AMFLAGS = -I $(top_srcdir) -I $(top_srcdir)/config\n toolexeclib_LTLIBRARIES = libasan.la\n asan_files = \\\n@@ -297,8 +305,6 @@ AM_MAKEFLAGS = \\\n \t\"includedir=$(includedir)\" \\\n \t\"AR=$(AR)\" \\\n \t\"AS=$(AS)\" \\\n-\t\"CC=$(CC)\" \\\n-\t\"CXX=$(CXX)\" \\\n \t\"LD=$(LD)\" \\\n \t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n \t\"NM=$(NM)\" \\"}, {"sha": "0d6007ef48d64b1fc85b8855d5f423160ba7f529", "filename": "libsanitizer/configure", "status": "modified", "additions": 20, "deletions": 2, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fconfigure?ref=2ed685b8fb4450282fdfd084e7d3080517184cd7", "patch": "@@ -686,6 +686,7 @@ am__isrc\n INSTALL_DATA\n INSTALL_SCRIPT\n INSTALL_PROGRAM\n+target_noncanonical\n target_os\n target_vendor\n target_cpu\n@@ -2566,6 +2567,23 @@ test -n \"$target_alias\" &&\n     NONENONEs,x,x, &&\n   program_prefix=${target_alias}-\n \n+ case ${build_alias} in\n+  \"\") build_noncanonical=${build} ;;\n+  *) build_noncanonical=${build_alias} ;;\n+esac\n+\n+ case ${host_alias} in\n+  \"\") host_noncanonical=${build_noncanonical} ;;\n+  *) host_noncanonical=${host_alias} ;;\n+esac\n+\n+ case ${target_alias} in\n+  \"\") target_noncanonical=${host_noncanonical} ;;\n+  *) target_noncanonical=${target_alias} ;;\n+esac\n+\n+\n+\n target_alias=${target_alias-$host_alias}\n \n \n@@ -11080,7 +11098,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11083 \"configure\"\n+#line 11101 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -11186,7 +11204,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11189 \"configure\"\n+#line 11207 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H"}, {"sha": "9c73904d286ddfc7c6456316ea04f1a9095a493a", "filename": "libsanitizer/configure.ac", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fconfigure.ac?ref=2ed685b8fb4450282fdfd084e7d3080517184cd7", "patch": "@@ -19,6 +19,7 @@ AC_MSG_RESULT($version_specific_libs)\n # Do not delete or change the following two lines.  For why, see\n # http://gcc.gnu.org/ml/libstdc++/2003-07/msg00451.html\n AC_CANONICAL_SYSTEM\n+ACX_NONCANONICAL_TARGET\n target_alias=${target_alias-$host_alias}\n AC_SUBST(target_alias)\n "}, {"sha": "7669e8c4b45ae6a5a09396cfea1b08866ea94741", "filename": "libsanitizer/interception/Makefile.am", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2Finterception%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2Finterception%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Finterception%2FMakefile.am?ref=2ed685b8fb4450282fdfd084e7d3080517184cd7", "patch": "@@ -5,6 +5,10 @@ gcc_version := $(shell cat $(top_srcdir)/../gcc/BASE-VER)\n \n DEFS = -D_GNU_SOURCE -D_DEBUG -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS \n AM_CXXFLAGS = -Wall -W -Wno-unused-parameter -Wwrite-strings -pedantic -Wno-long-long  -fPIC -fno-builtin -fno-exceptions -fomit-frame-pointer -funwind-tables -fvisibility=hidden -Wno-variadic-macros -Wno-c99-extensions \n+## We require libstdc++-v3 to be in the same build tree.\n+AM_CXXFLAGS += -I../../libstdc++-v3/include \\\n+\t       -I../../libstdc++-v3/include/$(target_noncanonical) \\\n+\t       -I$(srcdir)/../../libstdc++-v3/libsupc++\n ACLOCAL_AMFLAGS = -I m4\n \n noinst_LTLIBRARIES = libinterception.la\n@@ -51,8 +55,6 @@ AM_MAKEFLAGS = \\\n \t\"includedir=$(includedir)\" \\\n \t\"AR=$(AR)\" \\\n \t\"AS=$(AS)\" \\\n-\t\"CC=$(CC)\" \\\n-\t\"CXX=$(CXX)\" \\\n \t\"LD=$(LD)\" \\\n \t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n \t\"NM=$(NM)\" \\"}, {"sha": "bc41d7204f9a254947121e99fc3c8741f6b1cd23", "filename": "libsanitizer/interception/Makefile.in", "status": "modified", "additions": 10, "deletions": 4, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2Finterception%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2Finterception%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Finterception%2FMakefile.in?ref=2ed685b8fb4450282fdfd084e7d3080517184cd7", "patch": "@@ -38,7 +38,8 @@ target_triplet = @target@\n subdir = interception\n DIST_COMMON = $(srcdir)/Makefile.am $(srcdir)/Makefile.in\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n-am__aclocal_m4_deps = $(top_srcdir)/../config/depstand.m4 \\\n+am__aclocal_m4_deps = $(top_srcdir)/../config/acx.m4 \\\n+\t$(top_srcdir)/../config/depstand.m4 \\\n \t$(top_srcdir)/../config/lead-dot.m4 \\\n \t$(top_srcdir)/../config/multi.m4 \\\n \t$(top_srcdir)/../config/override.m4 \\\n@@ -211,6 +212,7 @@ sysconfdir = @sysconfdir@\n target = @target@\n target_alias = @target_alias@\n target_cpu = @target_cpu@\n+target_noncanonical = @target_noncanonical@\n target_os = @target_os@\n target_vendor = @target_vendor@\n toolexecdir = @toolexecdir@\n@@ -222,7 +224,13 @@ AM_CPPFLAGS = -I $(top_srcdir)/include\n \n # May be used by toolexeclibdir.\n gcc_version := $(shell cat $(top_srcdir)/../gcc/BASE-VER)\n-AM_CXXFLAGS = -Wall -W -Wno-unused-parameter -Wwrite-strings -pedantic -Wno-long-long  -fPIC -fno-builtin -fno-exceptions -fomit-frame-pointer -funwind-tables -fvisibility=hidden -Wno-variadic-macros -Wno-c99-extensions \n+AM_CXXFLAGS = -Wall -W -Wno-unused-parameter -Wwrite-strings -pedantic \\\n+\t-Wno-long-long -fPIC -fno-builtin -fno-exceptions \\\n+\t-fomit-frame-pointer -funwind-tables -fvisibility=hidden \\\n+\t-Wno-variadic-macros -Wno-c99-extensions \\\n+\t-I../../libstdc++-v3/include \\\n+\t-I../../libstdc++-v3/include/$(target_noncanonical) \\\n+\t-I$(srcdir)/../../libstdc++-v3/libsupc++\n ACLOCAL_AMFLAGS = -I m4\n noinst_LTLIBRARIES = libinterception.la\n interception_files = \\\n@@ -264,8 +272,6 @@ AM_MAKEFLAGS = \\\n \t\"includedir=$(includedir)\" \\\n \t\"AR=$(AR)\" \\\n \t\"AS=$(AS)\" \\\n-\t\"CC=$(CC)\" \\\n-\t\"CXX=$(CXX)\" \\\n \t\"LD=$(LD)\" \\\n \t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n \t\"NM=$(NM)\" \\"}, {"sha": "4e3df9a950c640614cb7b53063c86199ce6e2d45", "filename": "libsanitizer/sanitizer_common/Makefile.am", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2Fsanitizer_common%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2Fsanitizer_common%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fsanitizer_common%2FMakefile.am?ref=2ed685b8fb4450282fdfd084e7d3080517184cd7", "patch": "@@ -5,6 +5,10 @@ gcc_version := $(shell cat $(top_srcdir)/../gcc/BASE-VER)\n \n DEFS = -D_GNU_SOURCE -D_DEBUG -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS \n AM_CXXFLAGS = -Wall -W -Wno-unused-parameter -Wwrite-strings -pedantic -Wno-long-long  -fPIC -fno-builtin -fno-exceptions -fomit-frame-pointer -funwind-tables -fvisibility=hidden -Wno-variadic-macros -Wno-c99-extensions \n+## We require libstdc++-v3 to be in the same build tree.\n+AM_CXXFLAGS += -I../../libstdc++-v3/include \\\n+\t       -I../../libstdc++-v3/include/$(target_noncanonical) \\\n+\t       -I$(srcdir)/../../libstdc++-v3/libsupc++\n ACLOCAL_AMFLAGS = -I m4\n \n noinst_LTLIBRARIES = libsanitizer_common.la\n@@ -59,8 +63,6 @@ AM_MAKEFLAGS = \\\n \t\"includedir=$(includedir)\" \\\n \t\"AR=$(AR)\" \\\n \t\"AS=$(AS)\" \\\n-\t\"CC=$(CC)\" \\\n-\t\"CXX=$(CXX)\" \\\n \t\"LD=$(LD)\" \\\n \t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n \t\"NM=$(NM)\" \\"}, {"sha": "6889d314d93d6f29d538fc1f08ceb2134ba5333a", "filename": "libsanitizer/sanitizer_common/Makefile.in", "status": "modified", "additions": 10, "deletions": 4, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2Fsanitizer_common%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2Fsanitizer_common%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fsanitizer_common%2FMakefile.in?ref=2ed685b8fb4450282fdfd084e7d3080517184cd7", "patch": "@@ -38,7 +38,8 @@ target_triplet = @target@\n subdir = sanitizer_common\n DIST_COMMON = $(srcdir)/Makefile.am $(srcdir)/Makefile.in\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n-am__aclocal_m4_deps = $(top_srcdir)/../config/depstand.m4 \\\n+am__aclocal_m4_deps = $(top_srcdir)/../config/acx.m4 \\\n+\t$(top_srcdir)/../config/depstand.m4 \\\n \t$(top_srcdir)/../config/lead-dot.m4 \\\n \t$(top_srcdir)/../config/multi.m4 \\\n \t$(top_srcdir)/../config/override.m4 \\\n@@ -201,6 +202,7 @@ sysconfdir = @sysconfdir@\n target = @target@\n target_alias = @target_alias@\n target_cpu = @target_cpu@\n+target_noncanonical = @target_noncanonical@\n target_os = @target_os@\n target_vendor = @target_vendor@\n toolexecdir = @toolexecdir@\n@@ -212,7 +214,13 @@ AM_CPPFLAGS = -I $(top_srcdir)/include\n \n # May be used by toolexeclibdir.\n gcc_version := $(shell cat $(top_srcdir)/../gcc/BASE-VER)\n-AM_CXXFLAGS = -Wall -W -Wno-unused-parameter -Wwrite-strings -pedantic -Wno-long-long  -fPIC -fno-builtin -fno-exceptions -fomit-frame-pointer -funwind-tables -fvisibility=hidden -Wno-variadic-macros -Wno-c99-extensions \n+AM_CXXFLAGS = -Wall -W -Wno-unused-parameter -Wwrite-strings -pedantic \\\n+\t-Wno-long-long -fPIC -fno-builtin -fno-exceptions \\\n+\t-fomit-frame-pointer -funwind-tables -fvisibility=hidden \\\n+\t-Wno-variadic-macros -Wno-c99-extensions \\\n+\t-I../../libstdc++-v3/include \\\n+\t-I../../libstdc++-v3/include/$(target_noncanonical) \\\n+\t-I$(srcdir)/../../libstdc++-v3/libsupc++\n ACLOCAL_AMFLAGS = -I m4\n noinst_LTLIBRARIES = libsanitizer_common.la\n sanitizer_common_files = \\\n@@ -265,8 +273,6 @@ AM_MAKEFLAGS = \\\n \t\"includedir=$(includedir)\" \\\n \t\"AR=$(AR)\" \\\n \t\"AS=$(AS)\" \\\n-\t\"CC=$(CC)\" \\\n-\t\"CXX=$(CXX)\" \\\n \t\"LD=$(LD)\" \\\n \t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n \t\"NM=$(NM)\" \\"}, {"sha": "6a4bf75c51b768fc1b0e60744397f6e14c722e7d", "filename": "libsanitizer/tsan/Makefile.am", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2Ftsan%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2Ftsan%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Ftsan%2FMakefile.am?ref=2ed685b8fb4450282fdfd084e7d3080517184cd7", "patch": "@@ -5,6 +5,10 @@ gcc_version := $(shell cat $(top_srcdir)/../gcc/BASE-VER)\n \n DEFS = -D_GNU_SOURCE -D_DEBUG -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS \n AM_CXXFLAGS = -Wall -W -Wno-unused-parameter -Wwrite-strings -pedantic -Wno-long-long  -fPIC -fno-builtin -fno-exceptions -fomit-frame-pointer -funwind-tables -fvisibility=hidden -Wno-variadic-macros\n+## We require libstdc++-v3 to be in the same build tree.\n+AM_CXXFLAGS += -I../../libstdc++-v3/include \\\n+\t       -I../../libstdc++-v3/include/$(target_noncanonical) \\\n+\t       -I$(srcdir)/../../libstdc++-v3/libsupc++\n ACLOCAL_AMFLAGS = -I m4\n \n toolexeclib_LTLIBRARIES = libtsan.la\n@@ -67,8 +71,6 @@ AM_MAKEFLAGS = \\\n \t\"includedir=$(includedir)\" \\\n \t\"AR=$(AR)\" \\\n \t\"AS=$(AS)\" \\\n-\t\"CC=$(CC)\" \\\n-\t\"CXX=$(CXX)\" \\\n \t\"LD=$(LD)\" \\\n \t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n \t\"NM=$(NM)\" \\"}, {"sha": "5b1e536a9610cf211f64cbf9030303a312832e13", "filename": "libsanitizer/tsan/Makefile.in", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2Ftsan%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ed685b8fb4450282fdfd084e7d3080517184cd7/libsanitizer%2Ftsan%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Ftsan%2FMakefile.in?ref=2ed685b8fb4450282fdfd084e7d3080517184cd7", "patch": "@@ -38,7 +38,8 @@ target_triplet = @target@\n subdir = tsan\n DIST_COMMON = $(srcdir)/Makefile.am $(srcdir)/Makefile.in\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n-am__aclocal_m4_deps = $(top_srcdir)/../config/depstand.m4 \\\n+am__aclocal_m4_deps = $(top_srcdir)/../config/acx.m4 \\\n+\t$(top_srcdir)/../config/depstand.m4 \\\n \t$(top_srcdir)/../config/lead-dot.m4 \\\n \t$(top_srcdir)/../config/multi.m4 \\\n \t$(top_srcdir)/../config/override.m4 \\\n@@ -229,6 +230,7 @@ sysconfdir = @sysconfdir@\n target = @target@\n target_alias = @target_alias@\n target_cpu = @target_cpu@\n+target_noncanonical = @target_noncanonical@\n target_os = @target_os@\n target_vendor = @target_vendor@\n toolexecdir = @toolexecdir@\n@@ -240,7 +242,12 @@ AM_CPPFLAGS = -I $(top_srcdir) -I $(top_srcdir)/include\n \n # May be used by toolexeclibdir.\n gcc_version := $(shell cat $(top_srcdir)/../gcc/BASE-VER)\n-AM_CXXFLAGS = -Wall -W -Wno-unused-parameter -Wwrite-strings -pedantic -Wno-long-long  -fPIC -fno-builtin -fno-exceptions -fomit-frame-pointer -funwind-tables -fvisibility=hidden -Wno-variadic-macros\n+AM_CXXFLAGS = -Wall -W -Wno-unused-parameter -Wwrite-strings -pedantic \\\n+\t-Wno-long-long -fPIC -fno-builtin -fno-exceptions \\\n+\t-fomit-frame-pointer -funwind-tables -fvisibility=hidden \\\n+\t-Wno-variadic-macros -I../../libstdc++-v3/include \\\n+\t-I../../libstdc++-v3/include/$(target_noncanonical) \\\n+\t-I$(srcdir)/../../libstdc++-v3/libsupc++\n ACLOCAL_AMFLAGS = -I m4\n toolexeclib_LTLIBRARIES = libtsan.la\n tsan_files = \\\n@@ -301,8 +308,6 @@ AM_MAKEFLAGS = \\\n \t\"includedir=$(includedir)\" \\\n \t\"AR=$(AR)\" \\\n \t\"AS=$(AS)\" \\\n-\t\"CC=$(CC)\" \\\n-\t\"CXX=$(CXX)\" \\\n \t\"LD=$(LD)\" \\\n \t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n \t\"NM=$(NM)\" \\"}]}