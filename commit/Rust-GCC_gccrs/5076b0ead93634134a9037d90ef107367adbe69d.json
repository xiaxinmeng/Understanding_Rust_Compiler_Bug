{"sha": "5076b0ead93634134a9037d90ef107367adbe69d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTA3NmIwZWFkOTM2MzQxMzRhOTAzN2Q5MGVmMTA3MzY3YWRiZTY5ZA==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@TechFak.Uni-Bielefeld.DE", "date": "2001-06-07T17:04:51Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2001-06-07T17:04:51Z"}, "message": "osf5.h (CPP_XFLOAT_SPEC): Override default definition.\n\n\t* alpha/osf5.h (CPP_XFLOAT_SPEC): Override default definition.\n\t(ASM_OLDAS_SPEC): Likewise.\n\n\t* alpha/osf.h (CPP_XFLOAT_SPEC): Define.\n\t(CPP_SUBTARGET_SPEC): Use it.\n\t(ASM_OLDAS_SPEC): Define.\n\t(ASM_SPEC): Use it.\n\t(SUBTARGET_EXTRA_SPECS): Define, declare the new specs above.\n\nFrom-SVN: r42971", "tree": {"sha": "058f5561ae33b80a0be9e0a3c99496a5a7bcd0ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/058f5561ae33b80a0be9e0a3c99496a5a7bcd0ec"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5076b0ead93634134a9037d90ef107367adbe69d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5076b0ead93634134a9037d90ef107367adbe69d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5076b0ead93634134a9037d90ef107367adbe69d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5076b0ead93634134a9037d90ef107367adbe69d/comments", "author": null, "committer": null, "parents": [{"sha": "09e983244e5589b9777ed719e615c5704f163282", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/09e983244e5589b9777ed719e615c5704f163282", "html_url": "https://github.com/Rust-GCC/gccrs/commit/09e983244e5589b9777ed719e615c5704f163282"}], "stats": {"total": 55, "additions": 51, "deletions": 4}, "files": [{"sha": "7f2310e5a428237595c067490bc27e824684fea6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5076b0ead93634134a9037d90ef107367adbe69d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5076b0ead93634134a9037d90ef107367adbe69d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5076b0ead93634134a9037d90ef107367adbe69d", "patch": "@@ -1,3 +1,14 @@\n+2001-06-07  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n+\n+\t* alpha/osf5.h (CPP_XFLOAT_SPEC): Override default definition.\n+\t(ASM_OLDAS_SPEC): Likewise.\n+\n+\t* alpha/osf.h (CPP_XFLOAT_SPEC): Define.\n+\t(CPP_SUBTARGET_SPEC): Use it.\n+\t(ASM_OLDAS_SPEC): Define.\n+\t(ASM_SPEC): Use it.\n+\t(SUBTARGET_EXTRA_SPECS): Define, declare the new specs above.\n+\n 2001-06-07  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n \n \t* config/alpha/alpha.c (alpha_va_arg): Handle TFmode, TCmode args,"}, {"sha": "7f49585f23644d73817b353df4097771de59bce1", "filename": "gcc/config/alpha/osf.h", "status": "modified", "additions": 17, "deletions": 3, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5076b0ead93634134a9037d90ef107367adbe69d/gcc%2Fconfig%2Falpha%2Fosf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5076b0ead93634134a9037d90ef107367adbe69d/gcc%2Fconfig%2Falpha%2Fosf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Fosf.h?ref=5076b0ead93634134a9037d90ef107367adbe69d", "patch": "@@ -36,13 +36,18 @@ Boston, MA 02111-1307, USA.  */\n -Dunix -D__osf__ -D_LONGLONG -DSYSTYPE_BSD \\\n -D_SYSTYPE_BSD -Asystem=unix -Asystem=xpg4\"\n \n+/* Tru64 UNIX V5 requires additional definitions for 16 byte long double\n+   support.  Empty by default.  */\n+\n+#define CPP_XFLOAT_SPEC \"\"\n+\n /* Accept DEC C flags for multithreaded programs.  We use _PTHREAD_USE_D4\n    instead of PTHREAD_USE_D4 since both have the same effect and the former\n    doesn't invade the users' namespace.  */\n \n #undef CPP_SUBTARGET_SPEC\n #define CPP_SUBTARGET_SPEC \\\n-\"%{pthread|threads:-D_REENTRANT} %{threads:-D_PTHREAD_USE_D4}\"\n+\"%{pthread|threads:-D_REENTRANT} %{threads:-D_PTHREAD_USE_D4} %(cpp_xfloat)\"\n \n /* Under OSF4, -p and -pg require -lprof1, and -lprof1 requires -lpdf.  */\n \n@@ -79,10 +84,14 @@ Boston, MA 02111-1307, USA.  */\n   ASM_OUTPUT_SOURCE_FILENAME (FILE, main_input_filename);\t\\\n }\n \n+/* Tru64 UNIX V5.1 requires a special as flag.  Empty by default.  */\n+\n+#define ASM_OLDAS_SPEC \"\"\n+\n /* No point in running CPP on our assembler output.  */\n #if ((TARGET_DEFAULT | TARGET_CPU_DEFAULT) & MASK_GAS) != 0\n /* Don't pass -g to GNU as, because some versions don't accept this option.  */\n-#define ASM_SPEC \"%{malpha-as:-g} -nocpp %{pg}\"\n+#define ASM_SPEC \"%{malpha-as:-g %(asm_oldas)} -nocpp %{pg}\"\n #else\n /* In OSF/1 v3.2c, the assembler by default does not output file names which\n    causes mips-tfile to fail.  Passing -g to the assembler fixes this problem.\n@@ -91,7 +100,7 @@ Boston, MA 02111-1307, USA.  */\n    if the user does not specify -g.  If we don't pass -g, then mips-tfile\n    will need to be fixed to work in this case.  Pass -O0 since some\n    optimization are broken and don't help us anyway.  */\n-#define ASM_SPEC \"%{!mgas:-g} -nocpp %{pg} -O0\"\n+#define ASM_SPEC \"%{!mgas:-g %(asm_oldas)} -nocpp %{pg} -O0\"\n #endif\n \n /* Specify to run a post-processor, mips-tfile after the assembler\n@@ -120,6 +129,11 @@ Boston, MA 02111-1307, USA.  */\n \n #endif\n \n+#undef SUBTARGET_EXTRA_SPECS\n+#define SUBTARGET_EXTRA_SPECS\t\t\\\n+  { \"cpp_xfloat\", CPP_XFLOAT_SPEC },\t\\\n+  { \"asm_oldas\", ASM_OLDAS_SPEC }\n+\n /* Indicate that we have a stamp.h to use.  */\n #ifndef CROSS_COMPILE\n #define HAVE_STAMP_H 1"}, {"sha": "eb4c0394064abbaa0e86722b71b48cad31998edc", "filename": "gcc/config/alpha/osf5.h", "status": "modified", "additions": 23, "deletions": 1, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5076b0ead93634134a9037d90ef107367adbe69d/gcc%2Fconfig%2Falpha%2Fosf5.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5076b0ead93634134a9037d90ef107367adbe69d/gcc%2Fconfig%2Falpha%2Fosf5.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Fosf5.h?ref=5076b0ead93634134a9037d90ef107367adbe69d", "patch": "@@ -1,5 +1,5 @@\n /* Definitions of target machine for GNU compiler, for DEC Alpha on Tru64 5.\n-   Copyright (C) 2000 Free Software Foundation, Inc.\n+   Copyright (C) 2000, 2001 Free Software Foundation, Inc.\n \n    This file is part of GNU CC.\n \n@@ -20,3 +20,25 @@\n \n #undef LONG_DOUBLE_TYPE_SIZE\n #define LONG_DOUBLE_TYPE_SIZE  128\n+\n+/* Tru64 UNIX V5 has a 16 byte long double type and requires __X_FLOAT to be\n+   defined to get the appropriate prototypes for the long double functions\n+   in <math.h>.  */\n+\n+#undef CPP_XFLOAT_SPEC\n+#define CPP_XFLOAT_SPEC \"-D__X_FLOAT\"\n+\n+/* In Tru64 UNIX V5.1, Compaq introduced a new assembler\n+   (/usr/lib/cmplrs/cc/adu) which currently (versions between 3.04.29 and\n+   3.04.32) breaks mips-tfile.  Passing the undocumented -oldas flag reverts\n+   to using the old assembler (/usr/lib/cmplrs/cc/as[01]).\n+\n+   The V5.0 and V5.0A assemblers silently ignore -oldas, so it can be\n+   specified here.\n+\n+   It is clearly not desirable to depend on this undocumented flag, and\n+   Compaq wants -oldas to go away soon, but until they have released a\n+   new adu that works with mips-tfile, this is the only option.  */\n+\n+#undef ASM_OLDAS_SPEC\n+#define ASM_OLDAS_SPEC \"-oldas\""}]}