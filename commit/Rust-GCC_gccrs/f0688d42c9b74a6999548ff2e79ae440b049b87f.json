{"sha": "f0688d42c9b74a6999548ff2e79ae440b049b87f", "node_id": "C_kwDOANBUbNoAKGYwNjg4ZDQyYzliNzRhNjk5OTU0OGZmMmU3OWFlNDQwYjA0OWI4N2Y", "commit": {"author": {"name": "Przemyslaw Wirkus", "email": "przemyslaw.wirkus@arm.com", "date": "2021-10-01T09:06:45Z"}, "committer": {"name": "Przemyslaw Wirkus", "email": "przemyslaw.wirkus@arm.com", "date": "2021-10-01T09:57:34Z"}, "message": "aarch64: add armv9-a to -march\n\ngcc/ChangeLog:\n\n\t* config/aarch64/aarch64-arches.def (AARCH64_ARCH): Added\n\tarmv9-a.\n\t* config/aarch64/aarch64.h (AARCH64_FL_V9): New.\n\t(AARCH64_FL_FOR_ARCH9): New flags for Armv9-A.\n\t(AARCH64_ISA_V9): New ISA flag.\n\t* doc/invoke.texi: Update docs.", "tree": {"sha": "c9aa16fd88c518152e3d643646f3f953d13dfa2b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c9aa16fd88c518152e3d643646f3f953d13dfa2b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f0688d42c9b74a6999548ff2e79ae440b049b87f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f0688d42c9b74a6999548ff2e79ae440b049b87f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f0688d42c9b74a6999548ff2e79ae440b049b87f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f0688d42c9b74a6999548ff2e79ae440b049b87f/comments", "author": {"login": "PrzemekWirkus", "id": 6360720, "node_id": "MDQ6VXNlcjYzNjA3MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/6360720?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PrzemekWirkus", "html_url": "https://github.com/PrzemekWirkus", "followers_url": "https://api.github.com/users/PrzemekWirkus/followers", "following_url": "https://api.github.com/users/PrzemekWirkus/following{/other_user}", "gists_url": "https://api.github.com/users/PrzemekWirkus/gists{/gist_id}", "starred_url": "https://api.github.com/users/PrzemekWirkus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PrzemekWirkus/subscriptions", "organizations_url": "https://api.github.com/users/PrzemekWirkus/orgs", "repos_url": "https://api.github.com/users/PrzemekWirkus/repos", "events_url": "https://api.github.com/users/PrzemekWirkus/events{/privacy}", "received_events_url": "https://api.github.com/users/PrzemekWirkus/received_events", "type": "User", "site_admin": false}, "committer": {"login": "PrzemekWirkus", "id": 6360720, "node_id": "MDQ6VXNlcjYzNjA3MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/6360720?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PrzemekWirkus", "html_url": "https://github.com/PrzemekWirkus", "followers_url": "https://api.github.com/users/PrzemekWirkus/followers", "following_url": "https://api.github.com/users/PrzemekWirkus/following{/other_user}", "gists_url": "https://api.github.com/users/PrzemekWirkus/gists{/gist_id}", "starred_url": "https://api.github.com/users/PrzemekWirkus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PrzemekWirkus/subscriptions", "organizations_url": "https://api.github.com/users/PrzemekWirkus/orgs", "repos_url": "https://api.github.com/users/PrzemekWirkus/repos", "events_url": "https://api.github.com/users/PrzemekWirkus/events{/privacy}", "received_events_url": "https://api.github.com/users/PrzemekWirkus/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d0abfa815a54f895d782a62d99160f5a349f68c7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d0abfa815a54f895d782a62d99160f5a349f68c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d0abfa815a54f895d782a62d99160f5a349f68c7"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "a3b32e07367151da30743a1d7d0d3de75fe23218", "filename": "gcc/config/aarch64/aarch64-arches.def", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f0688d42c9b74a6999548ff2e79ae440b049b87f/gcc%2Fconfig%2Faarch64%2Faarch64-arches.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f0688d42c9b74a6999548ff2e79ae440b049b87f/gcc%2Fconfig%2Faarch64%2Faarch64-arches.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64-arches.def?ref=f0688d42c9b74a6999548ff2e79ae440b049b87f", "patch": "@@ -39,5 +39,6 @@ AARCH64_ARCH(\"armv8.5-a\",     generic,\t     8_5A,\t8,  AARCH64_FL_FOR_ARCH8_5)\n AARCH64_ARCH(\"armv8.6-a\",     generic,\t     8_6A,\t8,  AARCH64_FL_FOR_ARCH8_6)\n AARCH64_ARCH(\"armv8.7-a\",     generic,       8_7A,      8,  AARCH64_FL_FOR_ARCH8_7)\n AARCH64_ARCH(\"armv8-r\",       generic,\t     8R  ,\t8,  AARCH64_FL_FOR_ARCH8_R)\n+AARCH64_ARCH(\"armv9-a\",       generic,\t     9A  ,\t9,  AARCH64_FL_FOR_ARCH9)\n \n #undef AARCH64_ARCH"}, {"sha": "6908b8f4a16c31f4e1ca4f37b9fbb432f1ee2d28", "filename": "gcc/config/aarch64/aarch64.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f0688d42c9b74a6999548ff2e79ae440b049b87f/gcc%2Fconfig%2Faarch64%2Faarch64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f0688d42c9b74a6999548ff2e79ae440b049b87f/gcc%2Fconfig%2Faarch64%2Faarch64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.h?ref=f0688d42c9b74a6999548ff2e79ae440b049b87f", "patch": "@@ -230,6 +230,8 @@ extern unsigned aarch64_architecture_version;\n \n /* Pointer Authentication (PAUTH) extension.  */\n #define AARCH64_FL_PAUTH      (1ULL << 40)\n+/* Armv9.0-A.  */\n+#define AARCH64_FL_V9         (1ULL << 41)  /* Armv9.0-A Architecture.  */\n \n /* 64-byte atomic load/store extensions.  */\n #define AARCH64_FL_LS64      (1ULL << 41)\n@@ -266,6 +268,8 @@ extern unsigned aarch64_architecture_version;\n \n #define AARCH64_FL_FOR_ARCH8_R     \\\n   (AARCH64_FL_FOR_ARCH8_4 | AARCH64_FL_V8_R)\n+#define AARCH64_FL_FOR_ARCH9       \\\n+  (AARCH64_FL_FOR_ARCH8_5 | AARCH64_FL_SVE | AARCH64_FL_SVE2 | AARCH64_FL_V9)\n \n /* Macros to test ISA flags.  */\n \n@@ -304,6 +308,7 @@ extern unsigned aarch64_architecture_version;\n #define AARCH64_ISA_SB\t\t   (aarch64_isa_flags & AARCH64_FL_SB)\n #define AARCH64_ISA_V8_R\t   (aarch64_isa_flags & AARCH64_FL_V8_R)\n #define AARCH64_ISA_PAUTH\t   (aarch64_isa_flags & AARCH64_FL_PAUTH)\n+#define AARCH64_ISA_V9\t\t   (aarch64_isa_flags & AARCH64_FL_V9)\n \n /* Crypto is an optional extension to AdvSIMD.  */\n #define TARGET_CRYPTO (TARGET_SIMD && AARCH64_ISA_CRYPTO)"}, {"sha": "d0198d77434d1041042b5bf6fdda9ad84dfee29b", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f0688d42c9b74a6999548ff2e79ae440b049b87f/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f0688d42c9b74a6999548ff2e79ae440b049b87f/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=f0688d42c9b74a6999548ff2e79ae440b049b87f", "patch": "@@ -18570,7 +18570,8 @@ and the features that they enable by default:\n @item @samp{armv8.4-a} @tab Armv8.4-A @tab @samp{armv8.3-a}, @samp{+flagm}, @samp{+fp16fml}, @samp{+dotprod}\n @item @samp{armv8.5-a} @tab Armv8.5-A @tab @samp{armv8.4-a}, @samp{+sb}, @samp{+ssbs}, @samp{+predres}\n @item @samp{armv8.6-a} @tab Armv8.6-A @tab @samp{armv8.5-a}, @samp{+bf16}, @samp{+i8mm}\n-@item @samp{armv8.7-a} @tab Armv8.7-a @tab @samp{armv8.6-a}, @samp{+ls64}\n+@item @samp{armv8.7-a} @tab Armv8.7-A @tab @samp{armv8.6-a}, @samp{+ls64}\n+@item @samp{armv9-a} @tab Armv9-A @tab @samp{armv8.5-a}, @samp{+sve}, @samp{+sve2}\n @item @samp{armv8-r} @tab Armv8-R @tab @samp{armv8-r}\n @end multitable\n \n@@ -19989,6 +19990,7 @@ Permissible names are:\n @samp{armv8.4-a},\n @samp{armv8.5-a},\n @samp{armv8.6-a},\n+@samp{armv9-a},\n @samp{armv7-r},\n @samp{armv8-r},\n @samp{armv6-m}, @samp{armv6s-m},"}]}