{"sha": "d50633515b970d72c074e5face5eecf2dd3fa74a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDUwNjMzNTE1Yjk3MGQ3MmMwNzRlNWZhY2U1ZWVjZjJkZDNmYTc0YQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-04-20T10:41:25Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-04-20T10:41:25Z"}, "message": "[multiple changes]\n\n2009-04-20  Gary Dismukes  <dismukes@adacore.com>\n\n\t* osint-c.ads, osint-c.adb (Get_Object_Output_File_Name): New function\n\tto return the object file name saved by Set_Object_Output_File_Name.\n\n2009-04-20  Emmanuel Briot  <briot@adacore.com>\n\n\t* g-comlin.adb (Initialize_Option_Scan): Fix initialization of parsers\n\tfor the standard command line, when argc has been modified since the\n\tstart of the application.\n\n2009-04-20  Thomas Quinot  <quinot@adacore.com>\n\n\t* socket.c (__gnat_inet_pton, Windows case): Adjust return value.\n\tWSAStringToAddress returns 0 for success and SOCKET_ERROR for failure.\n\nFrom-SVN: r146395", "tree": {"sha": "e668c89aa3f9087dd5b3d22630f97376345fb69c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e668c89aa3f9087dd5b3d22630f97376345fb69c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d50633515b970d72c074e5face5eecf2dd3fa74a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d50633515b970d72c074e5face5eecf2dd3fa74a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d50633515b970d72c074e5face5eecf2dd3fa74a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d50633515b970d72c074e5face5eecf2dd3fa74a/comments", "author": null, "committer": null, "parents": [{"sha": "51c2e647b2ba74449b7f540c9aeb43e3013d4da2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/51c2e647b2ba74449b7f540c9aeb43e3013d4da2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/51c2e647b2ba74449b7f540c9aeb43e3013d4da2"}], "stats": {"total": 40, "additions": 36, "deletions": 4}, "files": [{"sha": "dbd869b3e700de44f8213e7751c9b86b10c2c9e7", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d50633515b970d72c074e5face5eecf2dd3fa74a/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d50633515b970d72c074e5face5eecf2dd3fa74a/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=d50633515b970d72c074e5face5eecf2dd3fa74a", "patch": "@@ -1,3 +1,19 @@\n+2009-04-20  Gary Dismukes  <dismukes@adacore.com>\n+\n+\t* osint-c.ads, osint-c.adb (Get_Object_Output_File_Name): New function\n+\tto return the object file name saved by Set_Object_Output_File_Name.\n+\n+2009-04-20  Emmanuel Briot  <briot@adacore.com>\n+\n+\t* g-comlin.adb (Initialize_Option_Scan): Fix initialization of parsers\n+\tfor the standard command line, when argc has been modified since the\n+\tstart of the application.\n+\n+2009-04-20  Thomas Quinot  <quinot@adacore.com>\n+\n+\t* socket.c (__gnat_inet_pton, Windows case): Adjust return value.\n+\tWSAStringToAddress returns 0 for success and SOCKET_ERROR for failure.\n+\n 2009-04-20  Bob Duff  <duff@adacore.com>\n \n \t* gnat1drv.adb (Gnat1drv): Put call to Check_Library_Items inside"}, {"sha": "b010622625283b78a9b417358eb9cd42427c98f7", "filename": "gcc/ada/g-comlin.adb", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d50633515b970d72c074e5face5eecf2dd3fa74a/gcc%2Fada%2Fg-comlin.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d50633515b970d72c074e5face5eecf2dd3fa74a/gcc%2Fada%2Fg-comlin.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-comlin.adb?ref=d50633515b970d72c074e5face5eecf2dd3fa74a", "patch": "@@ -851,8 +851,9 @@ package body GNAT.Command_Line is\n \n       if Command_Line = null then\n          Parser := new Opt_Parser_Data (CL.Argument_Count);\n-         Initialize_Option_Scan\n-           (Switch_Char              => Switch_Char,\n+         Internal_Initialize_Option_Scan\n+           (Parser                   => Parser,\n+            Switch_Char              => Switch_Char,\n             Stop_At_First_Non_Switch => Stop_At_First_Non_Switch,\n             Section_Delimiters       => Section_Delimiters);\n       else"}, {"sha": "a93573e775408595fbf02997a20a4e3ff2fbc1f5", "filename": "gcc/ada/osint-c.adb", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d50633515b970d72c074e5face5eecf2dd3fa74a/gcc%2Fada%2Fosint-c.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d50633515b970d72c074e5face5eecf2dd3fa74a/gcc%2Fada%2Fosint-c.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fosint-c.adb?ref=d50633515b970d72c074e5face5eecf2dd3fa74a", "patch": "@@ -236,6 +236,17 @@ package body Osint.C is\n       end if;\n    end Debug_File_Eol_Length;\n \n+   ---------------------------------\n+   -- Get_Output_Object_File_Name --\n+   ---------------------------------\n+\n+   function Get_Output_Object_File_Name return String is\n+   begin\n+      pragma Assert (Output_Object_File_Name /= null);\n+\n+      return Output_Object_File_Name.all;\n+   end Get_Output_Object_File_Name;\n+\n    -----------------------\n    -- More_Source_Files --\n    -----------------------"}, {"sha": "1060934f79c84b6107cfdba23934563edaa253f4", "filename": "gcc/ada/osint-c.ads", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d50633515b970d72c074e5face5eecf2dd3fa74a/gcc%2Fada%2Fosint-c.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d50633515b970d72c074e5face5eecf2dd3fa74a/gcc%2Fada%2Fosint-c.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fosint-c.ads?ref=d50633515b970d72c074e5face5eecf2dd3fa74a", "patch": "@@ -32,6 +32,10 @@ package Osint.C is\n    --  Called by the subprogram processing the command line when an\n    --  output object file name is found.\n \n+   function Get_Output_Object_File_Name return String;\n+   --  Returns the name of the output object file as saved by a call to\n+   --  Set_Output_Object_File_Name. Only valid to call if name has been set.\n+\n    function More_Source_Files return Boolean;\n    --  Indicates whether more source file remain to be processed. Returns\n    --  False right away if no source files, or if all source files have"}, {"sha": "4633ebfd774b20053e977671d0d324211008a75f", "filename": "gcc/ada/socket.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d50633515b970d72c074e5face5eecf2dd3fa74a/gcc%2Fada%2Fsocket.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d50633515b970d72c074e5face5eecf2dd3fa74a/gcc%2Fada%2Fsocket.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsocket.c?ref=d50633515b970d72c074e5face5eecf2dd3fa74a", "patch": "@@ -423,7 +423,7 @@ __gnat_inet_pton (int af, const char *src, void *dst) {\n \n   ss.ss_family = af;\n   rc = WSAStringToAddressA (src, af, NULL, (struct sockaddr *)&ss, &sslen);\n-  if (rc > 0) {\n+  if (rc == 0) {\n     switch (af) {\n       case AF_INET:\n         *(struct in_addr *)dst = ((struct sockaddr_in *)&ss)->sin_addr;\n@@ -435,7 +435,7 @@ __gnat_inet_pton (int af, const char *src, void *dst) {\n #endif\n     }\n   }\n-  return rc;\n+  return (rc == 0);\n #endif\n }\n #endif"}]}