{"sha": "38b3a2c089296350450e5dc0db2c279529fa6909", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzhiM2EyYzA4OTI5NjM1MDQ1MGU1ZGMwZGIyYzI3OTUyOWZhNjkwOQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "2000-02-21T05:14:06Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2000-02-21T05:14:06Z"}, "message": "* boehm.cc (_Jv_AllocBytes): Clear returned memory.\n\nFrom-SVN: r32085", "tree": {"sha": "568b4e927eb060baf6fa8db41e1f5ecccafb61c0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/568b4e927eb060baf6fa8db41e1f5ecccafb61c0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/38b3a2c089296350450e5dc0db2c279529fa6909", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38b3a2c089296350450e5dc0db2c279529fa6909", "html_url": "https://github.com/Rust-GCC/gccrs/commit/38b3a2c089296350450e5dc0db2c279529fa6909", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38b3a2c089296350450e5dc0db2c279529fa6909/comments", "author": null, "committer": null, "parents": [{"sha": "99740276e454972b57cca4b3b7a23dc1ec2690d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99740276e454972b57cca4b3b7a23dc1ec2690d5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/99740276e454972b57cca4b3b7a23dc1ec2690d5"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "c767dfb6df9745d1313cd930107dabf1a073394f", "filename": "libjava/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/38b3a2c089296350450e5dc0db2c279529fa6909/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/38b3a2c089296350450e5dc0db2c279529fa6909/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=38b3a2c089296350450e5dc0db2c279529fa6909", "patch": "@@ -1,3 +1,7 @@\n+2000-02-20  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* boehm.cc (_Jv_AllocBytes): Clear returned memory.\n+\n 2000-02-19  Bryce McKinlay  <bryce@albatross.co.nz>\n \n \t* java/util/zip/ZipEntry.java (setCrc): Fix overflow."}, {"sha": "ccfe9ee16c4a6ef03972f8b575de9a9816d01091", "filename": "libjava/boehm.cc", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/38b3a2c089296350450e5dc0db2c279529fa6909/libjava%2Fboehm.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/38b3a2c089296350450e5dc0db2c279529fa6909/libjava%2Fboehm.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fboehm.cc?ref=38b3a2c089296350450e5dc0db2c279529fa6909", "patch": "@@ -321,7 +321,14 @@ _Jv_AllocArray (jsize size)\n void *\n _Jv_AllocBytes (jsize size)\n {\n-  return GC_GENERIC_MALLOC (size, PTRFREE);\n+  void *r = GC_GENERIC_MALLOC (size, PTRFREE);\n+  // We have to explicitly zero memory here, as the GC doesn't\n+  // guarantee that PTRFREE allocations are zeroed.  Note that we\n+  // don't have to do this for other allocation types because we set\n+  // the `ok_init' flag in the type descriptor.\n+  if (r != NULL)\n+    memset (r, 0, size);\n+  return r;\n }\n \n static void"}]}