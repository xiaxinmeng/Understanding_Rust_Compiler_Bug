{"sha": "7b0957a710e21a7213256dbfb8509d42ef601680", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2IwOTU3YTcxMGUyMWE3MjEzMjU2ZGJmYjg1MDlkNDJlZjYwMTY4MA==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1993-09-24T19:45:44Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1993-09-24T19:45:44Z"}, "message": "global.c: (global_alloc): Make sure that it is always possible to eliminate...\n\n* global.c: (global_alloc): Make sure that it is always possible to\neliminate FRAME_POINTER_REGNUM into HARD_FRAME_POINTER_REGNUM.\n\nFrom-SVN: r5458", "tree": {"sha": "bd200bf5c5b2f40feafa39f68240a19a23842814", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bd200bf5c5b2f40feafa39f68240a19a23842814"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7b0957a710e21a7213256dbfb8509d42ef601680", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b0957a710e21a7213256dbfb8509d42ef601680", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b0957a710e21a7213256dbfb8509d42ef601680", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b0957a710e21a7213256dbfb8509d42ef601680/comments", "author": null, "committer": null, "parents": [{"sha": "e408ec359112b9478da4886ca47bceb65dadc6d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e408ec359112b9478da4886ca47bceb65dadc6d2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e408ec359112b9478da4886ca47bceb65dadc6d2"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "1a9158a073fa8106458a8d0848631791f9249694", "filename": "gcc/global.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b0957a710e21a7213256dbfb8509d42ef601680/gcc%2Fglobal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b0957a710e21a7213256dbfb8509d42ef601680/gcc%2Fglobal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fglobal.c?ref=7b0957a710e21a7213256dbfb8509d42ef601680", "patch": "@@ -302,10 +302,14 @@ global_alloc (file)\n       SET_HARD_REG_BIT (eliminable_regset, eliminables[i].from);\n \n       if (! CAN_ELIMINATE (eliminables[i].from, eliminables[i].to)\n-\t  || (eliminables[i].from == FRAME_POINTER_REGNUM\n+\t  || (eliminables[i].from == HARD_FRAME_POINTER_REGNUM\n \t      && (! flag_omit_frame_pointer || FRAME_POINTER_REQUIRED)))\n \tSET_HARD_REG_BIT (no_global_alloc_regs, eliminables[i].from);\n     }\n+#if FRAME_POINTER_REGNUM != HARD_FRAME_POINTER_REGNUM\n+  if (!flag_omit_frame_pointer || FRAME_POINTER_REQUIRED)\n+    SET_HARD_REG_BIT (no_global_alloc_regs, HARD_FRAME_POINTER_REGNUM);\n+#endif\n #else\n   SET_HARD_REG_BIT (eliminable_regset, FRAME_POINTER_REGNUM);\n "}]}