{"sha": "a765d68e7584986e90b901e453e18c3aa34f9560", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTc2NWQ2OGU3NTg0OTg2ZTkwYjkwMWU0NTNlMThjM2FhMzRmOTU2MA==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@nildram.co.uk", "date": "2007-09-17T23:11:25Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2007-09-17T23:11:25Z"}, "message": "mips.c (mips_file_start): Add \".previous\" directives to both \".section\"s.\n\ngcc/\n\t* config/mips/mips.c (mips_file_start): Add \".previous\" directives\n\tto both \".section\"s.\n\nFrom-SVN: r128562", "tree": {"sha": "fccadee24eed6a896b7cbcd207937d289b92913b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fccadee24eed6a896b7cbcd207937d289b92913b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a765d68e7584986e90b901e453e18c3aa34f9560", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a765d68e7584986e90b901e453e18c3aa34f9560", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a765d68e7584986e90b901e453e18c3aa34f9560", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a765d68e7584986e90b901e453e18c3aa34f9560/comments", "author": null, "committer": null, "parents": [{"sha": "4fe7e75560bf9c04b27130f1fa2a737323cf9590", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4fe7e75560bf9c04b27130f1fa2a737323cf9590", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4fe7e75560bf9c04b27130f1fa2a737323cf9590"}], "stats": {"total": 15, "additions": 9, "deletions": 6}, "files": [{"sha": "6e8285f837fc7dfae4717b4a9ff0e13dc955ecc8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a765d68e7584986e90b901e453e18c3aa34f9560/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a765d68e7584986e90b901e453e18c3aa34f9560/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a765d68e7584986e90b901e453e18c3aa34f9560", "patch": "@@ -1,3 +1,8 @@\n+2007-09-18  Richard Sandiford  <rsandifo@nildram.co.uk>\n+\n+\t* config/mips/mips.c (mips_file_start): Add \".previous\" directives\n+\tto both \".section\"s.\n+\n 2007-09-17  Richard Sandiford  <rsandifo@nildram.co.uk>\n \n \t* config/mips/mips.c (mips_output_mi_thunk): Use"}, {"sha": "6a4a1d90ff3b19c10943aaba7dda9f2c885d956e", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a765d68e7584986e90b901e453e18c3aa34f9560/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a765d68e7584986e90b901e453e18c3aa34f9560/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=a765d68e7584986e90b901e453e18c3aa34f9560", "patch": "@@ -7055,18 +7055,16 @@ mips_file_start (void)\n \t because in this way we can avoid creating an allocated section.  We\n \t do not want this section to take up any space in the running\n \t executable.  */\n-      fprintf (asm_out_file, \"\\t.section .mdebug.%s\\n\", abi_string);\n+      fprintf (asm_out_file, \"\\t.section .mdebug.%s\\n\\t.previous\\n\",\n+\t       abi_string);\n \n       /* There is no ELF header flag to distinguish long32 forms of the\n \t EABI from long64 forms.  Emit a special section to help tools\n \t such as GDB.  Do the same for o64, which is sometimes used with\n \t -mlong64.  */\n       if (mips_abi == ABI_EABI || mips_abi == ABI_O64)\n-\tfprintf (asm_out_file, \"\\t.section .gcc_compiled_long%d\\n\",\n-\t\t TARGET_LONG64 ? 64 : 32);\n-\n-      /* Restore the default section.  */\n-      fprintf (asm_out_file, \"\\t.previous\\n\");\n+\tfprintf (asm_out_file, \"\\t.section .gcc_compiled_long%d\\n\"\n+\t\t \"\\t.previous\\n\", TARGET_LONG64 ? 64 : 32);\n \n #ifdef HAVE_AS_GNU_ATTRIBUTE\n       fprintf (asm_out_file, \"\\t.gnu_attribute 4, %d\\n\","}]}