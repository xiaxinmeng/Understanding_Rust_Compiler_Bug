{"sha": "1cff83e21d7dadcb976a0c624636b5411fe80904", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWNmZjgzZTIxZDdkYWRjYjk3NmEwYzYyNDYzNmI1NDExZmU4MDkwNA==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2014-06-23T06:33:35Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2014-06-23T06:33:35Z"}, "message": "lto-cgraph.c (lto_output_node, input_node): Set/get init/fini priority directly.\n\n\t* lto-cgraph.c (lto_output_node, input_node): Set/get init/fini priority\n\tdirectly.\n\nFrom-SVN: r211886", "tree": {"sha": "52c03be1266dfc5b9414c33390d9dfbb329ba524", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/52c03be1266dfc5b9414c33390d9dfbb329ba524"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1cff83e21d7dadcb976a0c624636b5411fe80904", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1cff83e21d7dadcb976a0c624636b5411fe80904", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1cff83e21d7dadcb976a0c624636b5411fe80904", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1cff83e21d7dadcb976a0c624636b5411fe80904/comments", "author": null, "committer": null, "parents": [{"sha": "2c97f4728c9e92137401c5a16197b74f25bb1992", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c97f4728c9e92137401c5a16197b74f25bb1992", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c97f4728c9e92137401c5a16197b74f25bb1992"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "c01cda33cb4f6017d6bcc71b7ea18a9e37d477f4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1cff83e21d7dadcb976a0c624636b5411fe80904/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1cff83e21d7dadcb976a0c624636b5411fe80904/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1cff83e21d7dadcb976a0c624636b5411fe80904", "patch": "@@ -1,3 +1,8 @@\n+2014-06-23  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* lto-cgraph.c (lto_output_node, input_node): Set/get init/fini priority\n+\tdirectly.\n+\n 2014-06-23  Zhenqiang Chen  <zhenqiang.chen@linaro.org>\n \n \t* loop-invariant.c (pre_check_invariant_p): New function."}, {"sha": "1683704153857199b13a96e1902501747876a76f", "filename": "gcc/lto-cgraph.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1cff83e21d7dadcb976a0c624636b5411fe80904/gcc%2Flto-cgraph.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1cff83e21d7dadcb976a0c624636b5411fe80904/gcc%2Flto-cgraph.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto-cgraph.c?ref=1cff83e21d7dadcb976a0c624636b5411fe80904", "patch": "@@ -558,9 +558,9 @@ lto_output_node (struct lto_simple_output_block *ob, struct cgraph_node *node,\n     }\n   streamer_write_hwi_stream (ob->main_stream, node->profile_id);\n   if (DECL_STATIC_CONSTRUCTOR (node->decl))\n-    streamer_write_hwi_stream (ob->main_stream, DECL_INIT_PRIORITY (node->decl));\n+    streamer_write_hwi_stream (ob->main_stream, node->get_init_priority ());\n   if (DECL_STATIC_DESTRUCTOR (node->decl))\n-    streamer_write_hwi_stream (ob->main_stream, DECL_FINI_PRIORITY (node->decl));\n+    streamer_write_hwi_stream (ob->main_stream, node->get_fini_priority ());\n }\n \n /* Output the varpool NODE to OB. \n@@ -1215,9 +1215,9 @@ input_node (struct lto_file_decl_data *file_data,\n     node->alias_target = get_alias_symbol (node->decl);\n   node->profile_id = streamer_read_hwi (ib);\n   if (DECL_STATIC_CONSTRUCTOR (node->decl))\n-    SET_DECL_INIT_PRIORITY (node->decl, streamer_read_hwi (ib));\n+    node->set_init_priority (streamer_read_hwi (ib));\n   if (DECL_STATIC_DESTRUCTOR (node->decl))\n-    SET_DECL_FINI_PRIORITY (node->decl, streamer_read_hwi (ib));\n+    node->set_fini_priority (streamer_read_hwi (ib));\n   return node;\n }\n "}]}