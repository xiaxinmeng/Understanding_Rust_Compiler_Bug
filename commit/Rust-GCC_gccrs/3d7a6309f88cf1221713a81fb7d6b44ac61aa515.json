{"sha": "3d7a6309f88cf1221713a81fb7d6b44ac61aa515", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2Q3YTYzMDlmODhjZjEyMjE3MTNhODFmYjdkNmI0NGFjNjFhYTUxNQ==", "commit": {"author": {"name": "Herman A.J. ten Brugge", "email": "Haj.Ten.Brugge@net.HCC.nl", "date": "2002-05-02T20:49:13Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-05-02T20:49:13Z"}, "message": "predict.c: (propagate_freq...\n\n        * predict.c: (propagate_freq, estimate_bb_frequencies): Use\n        TYPE_MODE (double_type_node) instead of DFmode.\n\nFrom-SVN: r53064", "tree": {"sha": "9a40262f3167d92db2d81d797dd62059777f99f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9a40262f3167d92db2d81d797dd62059777f99f4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3d7a6309f88cf1221713a81fb7d6b44ac61aa515", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d7a6309f88cf1221713a81fb7d6b44ac61aa515", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3d7a6309f88cf1221713a81fb7d6b44ac61aa515", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d7a6309f88cf1221713a81fb7d6b44ac61aa515/comments", "author": null, "committer": null, "parents": [{"sha": "13a9017819ce1590163dab91ef0cd5c208d39de3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13a9017819ce1590163dab91ef0cd5c208d39de3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/13a9017819ce1590163dab91ef0cd5c208d39de3"}], "stats": {"total": 24, "additions": 16, "deletions": 8}, "files": [{"sha": "6361a8696c984ce4adde5820f10b55a831e75034", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d7a6309f88cf1221713a81fb7d6b44ac61aa515/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d7a6309f88cf1221713a81fb7d6b44ac61aa515/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3d7a6309f88cf1221713a81fb7d6b44ac61aa515", "patch": "@@ -1,3 +1,8 @@\n+2002-05-02 Herman A.J. ten Brugge <Haj.Ten.Brugge@net.HCC.nl>\n+\n+\t* predict.c: (propagate_freq, estimate_bb_frequencies): Use\n+\tTYPE_MODE (double_type_node) instead of DFmode.\n+\n Thu May  2 19:50:04 CEST 2002  Jan Hubicka  <jh@suse.cz>\n \n \t* cfgrtl.c (try_redirect_by_replacing_jump): Do not kill computed"}, {"sha": "77f1a99d100e4e6951576bad2f34273399d5d184", "filename": "gcc/predict.c", "status": "modified", "additions": 11, "deletions": 8, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d7a6309f88cf1221713a81fb7d6b44ac61aa515/gcc%2Fpredict.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d7a6309f88cf1221713a81fb7d6b44ac61aa515/gcc%2Fpredict.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpredict.c?ref=3d7a6309f88cf1221713a81fb7d6b44ac61aa515", "patch": "@@ -721,7 +721,8 @@ propagate_freq (head)\n \t\t\t\t  * BLOCK_INFO (e->src)->frequency /\n \t\t\t\t  REG_BR_PROB_BASE);  */\n \n-\t\tREAL_VALUE_FROM_INT (tmp, e->probability, 0, DFmode);\n+\t\tREAL_VALUE_FROM_INT (tmp, e->probability, 0,\n+\t\t\t\t     TYPE_MODE (double_type_node));\n \t\tREAL_ARITHMETIC (tmp, MULT_EXPR, tmp,\n \t\t\t\t BLOCK_INFO (e->src)->frequency);\n \t\tREAL_ARITHMETIC (tmp, RDIV_EXPR, tmp, real_br_prob_base);\n@@ -751,7 +752,8 @@ propagate_freq (head)\n \t    /* EDGE_INFO (e)->back_edge_prob\n \t\t  = ((e->probability * BLOCK_INFO (bb)->frequency)\n \t\t     / REG_BR_PROB_BASE); */\n-\t    REAL_VALUE_FROM_INT (tmp, e->probability, 0, DFmode);\n+\t    REAL_VALUE_FROM_INT (tmp, e->probability, 0,\n+\t\t\t\t TYPE_MODE (double_type_node));\n \t    REAL_ARITHMETIC (tmp, MULT_EXPR, tmp,\n \t\t\t     BLOCK_INFO (bb)->frequency);\n \t    REAL_ARITHMETIC (EDGE_INFO (e)->back_edge_prob,\n@@ -900,12 +902,13 @@ estimate_bb_frequencies (loops)\n {\n   int i;\n   REAL_VALUE_TYPE freq_max;\n+  enum machine_mode double_mode = TYPE_MODE (double_type_node);\n \n-  REAL_VALUE_FROM_INT (real_zero, 0, 0, DFmode);\n-  REAL_VALUE_FROM_INT (real_one, 1, 0, DFmode);\n-  REAL_VALUE_FROM_INT (real_br_prob_base, REG_BR_PROB_BASE, 0, DFmode);\n-  REAL_VALUE_FROM_INT (real_bb_freq_max, BB_FREQ_MAX, 0, DFmode);\n-  REAL_VALUE_FROM_INT (real_one_half, 2, 0, DFmode);\n+  REAL_VALUE_FROM_INT (real_zero, 0, 0, double_mode);\n+  REAL_VALUE_FROM_INT (real_one, 1, 0, double_mode);\n+  REAL_VALUE_FROM_INT (real_br_prob_base, REG_BR_PROB_BASE, 0, double_mode);\n+  REAL_VALUE_FROM_INT (real_bb_freq_max, BB_FREQ_MAX, 0, double_mode);\n+  REAL_VALUE_FROM_INT (real_one_half, 2, 0, double_mode);\n \n   REAL_ARITHMETIC (real_one_half, RDIV_EXPR, real_one, real_one_half);\n \n@@ -969,7 +972,7 @@ estimate_bb_frequencies (loops)\n \t{\n \t\n \t  REAL_VALUE_FROM_INT (EDGE_INFO (e)->back_edge_prob,\n-\t\t\t       e->probability, 0, DFmode);\n+\t\t\t       e->probability, 0, double_mode);\n \t  REAL_ARITHMETIC (EDGE_INFO (e)->back_edge_prob,\n \t\t\t   RDIV_EXPR, EDGE_INFO (e)->back_edge_prob,\n \t\t\t   real_br_prob_base);"}]}