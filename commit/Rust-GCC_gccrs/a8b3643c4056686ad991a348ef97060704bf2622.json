{"sha": "a8b3643c4056686ad991a348ef97060704bf2622", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YThiMzY0M2M0MDU2Njg2YWQ5OTFhMzQ4ZWY5NzA2MDcwNGJmMjYyMg==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2004-08-30T12:43:19Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2004-08-30T12:43:19Z"}, "message": "sched-deps.c (get_condition): Partially revert previous, by never trying to extract the condition from a condjump.\n\n* sched-deps.c (get_condition): Partially revert previous, by never\ntrying to extract the condition from a condjump.\n\nFrom-SVN: r86763", "tree": {"sha": "7d88c1fadd72ff1cfc5933080011526cf3a5d718", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7d88c1fadd72ff1cfc5933080011526cf3a5d718"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a8b3643c4056686ad991a348ef97060704bf2622", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8b3643c4056686ad991a348ef97060704bf2622", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a8b3643c4056686ad991a348ef97060704bf2622", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8b3643c4056686ad991a348ef97060704bf2622/comments", "author": null, "committer": null, "parents": [{"sha": "4094f4d2c49d3a83fb43e481c4110f16fb812aaf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4094f4d2c49d3a83fb43e481c4110f16fb812aaf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4094f4d2c49d3a83fb43e481c4110f16fb812aaf"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "e44502c653a1ca87b3acc9b9d8c69a3591e860b3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8b3643c4056686ad991a348ef97060704bf2622/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8b3643c4056686ad991a348ef97060704bf2622/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a8b3643c4056686ad991a348ef97060704bf2622", "patch": "@@ -1,3 +1,8 @@\n+2004-08-30  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\t* sched-deps.c (get_condition): Partially revert previous, by never\n+\ttrying to extract the condition from a condjump.\n+\n 2004-08-30  Richard Sandiford  <rsandifo@redhat.com>\n \n \t* config/mips/mips.md (UNSPEC_{RSQRT,RECIP}[12]_{S,D,PS}): Delete."}, {"sha": "b76e217df81ee0f3f24cf50e87b9f38d731aaa2f", "filename": "gcc/sched-deps.c", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8b3643c4056686ad991a348ef97060704bf2622/gcc%2Fsched-deps.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8b3643c4056686ad991a348ef97060704bf2622/gcc%2Fsched-deps.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsched-deps.c?ref=a8b3643c4056686ad991a348ef97060704bf2622", "patch": "@@ -153,6 +153,11 @@ get_condition (rtx insn)\n     return 0;\n \n   src = SET_SRC (pc_set (insn));\n+#if 0\n+  /* The previous code here was completely invalid and could never extract\n+     the condition from a jump.  This code does the correct thing, but that\n+     triggers latent bugs later in the scheduler on ports with conditional\n+     execution.  So this is disabled for now.  */\n   if (XEXP (src, 2) == pc_rtx)\n     return XEXP (src, 0);\n   else if (XEXP (src, 1) == pc_rtx)\n@@ -165,8 +170,9 @@ get_condition (rtx insn)\n       return gen_rtx_fmt_ee (revcode, GET_MODE (cond), XEXP (cond, 0),\n \t\t\t     XEXP (cond, 1));\n     }\n-  else\n-    return 0;\n+#endif\n+\n+  return 0;\n }\n \n /* Return nonzero if conditions COND1 and COND2 can never be both true.  */"}]}