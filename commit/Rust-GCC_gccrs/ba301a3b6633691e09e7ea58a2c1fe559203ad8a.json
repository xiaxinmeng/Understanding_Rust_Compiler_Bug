{"sha": "ba301a3b6633691e09e7ea58a2c1fe559203ad8a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmEzMDFhM2I2NjMzNjkxZTA5ZTdlYTU4YTJjMWZlNTU5MjAzYWQ4YQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2018-12-03T15:49:00Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2018-12-03T15:49:00Z"}, "message": "[Ada] Fix assertion failures with -gnatde and -gnatdv\n\nThis fixes a couple of assertion failures when using -gnatde and -gnatdv\non a compiler built with assertions enabled.  No functional changes.\n\n2018-12-03  Eric Botcazou  <ebotcazou@adacore.com>\n\ngcc/ada/\n\n\t* einfo.adb (Write_Entity_Info): Don't take Scope of Standard\n\tpackage.\n\t* sem_ch4.adb (Remove_Abstract_Operations): Add missing blank\n\tlines to -gnatdv output.\n\t* sem_type.adb (Write_Overloads): Take Entity of entity names\n\tonly.\n\nFrom-SVN: r266751", "tree": {"sha": "0f52804583e24a21c68148e09ab66175a46f9a31", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0f52804583e24a21c68148e09ab66175a46f9a31"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ba301a3b6633691e09e7ea58a2c1fe559203ad8a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba301a3b6633691e09e7ea58a2c1fe559203ad8a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ba301a3b6633691e09e7ea58a2c1fe559203ad8a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba301a3b6633691e09e7ea58a2c1fe559203ad8a/comments", "author": null, "committer": null, "parents": [{"sha": "89beb6536755b02c83289fedd6182b79565a08fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89beb6536755b02c83289fedd6182b79565a08fb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/89beb6536755b02c83289fedd6182b79565a08fb"}], "stats": {"total": 23, "additions": 18, "deletions": 5}, "files": [{"sha": "49bf8c26daef1b10cab73dbb834d736966d76d05", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba301a3b6633691e09e7ea58a2c1fe559203ad8a/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba301a3b6633691e09e7ea58a2c1fe559203ad8a/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=ba301a3b6633691e09e7ea58a2c1fe559203ad8a", "patch": "@@ -1,3 +1,12 @@\n+2018-12-03  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* einfo.adb (Write_Entity_Info): Don't take Scope of Standard\n+\tpackage.\n+\t* sem_ch4.adb (Remove_Abstract_Operations): Add missing blank\n+\tlines to -gnatdv output.\n+\t* sem_type.adb (Write_Overloads): Take Entity of entity names\n+\tonly.\n+\n 2018-12-03  Hristian Kirtchev  <kirtchev@adacore.com>\n \n \t* checks.adb, exp_aggr.adb, exp_attr.adb, exp_ch3.adb,"}, {"sha": "390f4444e0cad5707f95119f783e36444f1d42bf", "filename": "gcc/ada/einfo.adb", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba301a3b6633691e09e7ea58a2c1fe559203ad8a/gcc%2Fada%2Feinfo.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba301a3b6633691e09e7ea58a2c1fe559203ad8a/gcc%2Fada%2Feinfo.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Feinfo.adb?ref=ba301a3b6633691e09e7ea58a2c1fe559203ad8a", "patch": "@@ -10032,7 +10032,9 @@ package body Einfo is\n       Write_Eol;\n       Write_Attribute (\"   Type    \", Etype (Id));\n       Write_Eol;\n-      Write_Attribute (\"   Scope   \", Scope (Id));\n+      if Id /= Standard_Standard then\n+         Write_Attribute (\"   Scope   \", Scope (Id));\n+      end if;\n       Write_Eol;\n \n       case Ekind (Id) is"}, {"sha": "72dfd457e9e87018b6562ce8f79e30a4962c04b7", "filename": "gcc/ada/sem_ch4.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba301a3b6633691e09e7ea58a2c1fe559203ad8a/gcc%2Fada%2Fsem_ch4.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba301a3b6633691e09e7ea58a2c1fe559203ad8a/gcc%2Fada%2Fsem_ch4.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch4.adb?ref=ba301a3b6633691e09e7ea58a2c1fe559203ad8a", "patch": "@@ -7509,7 +7509,7 @@ package body Sem_Ch4 is\n    begin\n       if Is_Overloaded (N) then\n          if Debug_Flag_V then\n-            Write_Str (\"Remove_Abstract_Operations: \");\n+            Write_Line (\"Remove_Abstract_Operations: \");\n             Write_Overloads (N);\n          end if;\n \n@@ -7704,7 +7704,7 @@ package body Sem_Ch4 is\n          end if;\n \n          if Debug_Flag_V then\n-            Write_Str (\"Remove_Abstract_Operations done: \");\n+            Write_Line (\"Remove_Abstract_Operations done: \");\n             Write_Overloads (N);\n          end if;\n       end if;"}, {"sha": "6a24869c7d085aa49ab74ebced9c760eadcced76", "filename": "gcc/ada/sem_type.adb", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba301a3b6633691e09e7ea58a2c1fe559203ad8a/gcc%2Fada%2Fsem_type.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba301a3b6633691e09e7ea58a2c1fe559203ad8a/gcc%2Fada%2Fsem_type.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_type.adb?ref=ba301a3b6633691e09e7ea58a2c1fe559203ad8a", "patch": "@@ -3608,8 +3608,10 @@ package body Sem_Type is\n       Print_Node_Briefly (N);\n \n       if not Is_Overloaded (N) then\n-         Write_Line (\"Non-overloaded entity \");\n-         Write_Entity_Info (Entity (N), \" \");\n+         if Is_Entity_Name (N) then\n+            Write_Line (\"Non-overloaded entity \");\n+            Write_Entity_Info (Entity (N), \" \");\n+         end if;\n \n       elsif Nkind (N) not in N_Has_Entity then\n          Get_First_Interp (N, I, It);"}]}