{"sha": "8bd16853dc80339454571550f73bfb3fcf36d095", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGJkMTY4NTNkYzgwMzM5NDU0NTcxNTUwZjczYmZiM2ZjZjM2ZDA5NQ==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1996-05-10T01:59:58Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1996-05-10T01:59:58Z"}, "message": "varasm.c (assemble_variable): ASM_DECLARE_OBJECT_NAME needn't consider bytecodes.\n\n\t* varasm.c (assemble_variable): ASM_DECLARE_OBJECT_NAME needn't\n\tconsider bytecodes.\n\t* varasm.c (assemble_start_function): ASM_DECLARE_FUNCTION_NAME\n\tneedn't consider bytecodes.\n\nFrom-SVN: r11964", "tree": {"sha": "ea0b85f3cdb7cf01c9ac538ec927cd29c4c2e6ee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ea0b85f3cdb7cf01c9ac538ec927cd29c4c2e6ee"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8bd16853dc80339454571550f73bfb3fcf36d095", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8bd16853dc80339454571550f73bfb3fcf36d095", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8bd16853dc80339454571550f73bfb3fcf36d095", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8bd16853dc80339454571550f73bfb3fcf36d095/comments", "author": null, "committer": null, "parents": [{"sha": "c02f953eb0a1260a65d02d03921b00c54f6d7fa9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c02f953eb0a1260a65d02d03921b00c54f6d7fa9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c02f953eb0a1260a65d02d03921b00c54f6d7fa9"}], "stats": {"total": 26, "additions": 15, "deletions": 11}, "files": [{"sha": "09ab0d6c27f89193cfef2957c6634afd3917ee8e", "filename": "gcc/varasm.c", "status": "modified", "additions": 15, "deletions": 11, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8bd16853dc80339454571550f73bfb3fcf36d095/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8bd16853dc80339454571550f73bfb3fcf36d095/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=8bd16853dc80339454571550f73bfb3fcf36d095", "patch": "@@ -969,15 +969,17 @@ assemble_start_function (decl, fnname)\n     }\n \n   /* Do any machine/system dependent processing of the function name */\n-#ifdef ASM_DECLARE_FUNCTION_NAME\n-  ASM_DECLARE_FUNCTION_NAME (asm_out_file, fnname, current_function_decl);\n-#else\n-  /* Standard thing is just output label for the function.  */\n   if (output_bytecode)\n     BC_OUTPUT_LABEL (asm_out_file, fnname);\n   else\n-    ASM_OUTPUT_LABEL (asm_out_file, fnname);\n+    {\n+#ifdef ASM_DECLARE_FUNCTION_NAME\n+      ASM_DECLARE_FUNCTION_NAME (asm_out_file, fnname, current_function_decl);\n+#else\n+      /* Standard thing is just output label for the function.  */\n+      ASM_OUTPUT_LABEL (asm_out_file, fnname);\n #endif /* ASM_DECLARE_FUNCTION_NAME */\n+    }\n }\n \n /* Output assembler code associated with defining the size of the\n@@ -1470,16 +1472,18 @@ assemble_variable (decl, top_level, at_end, dont_output_data)\n     }\n \n   /* Do any machine/system dependent processing of the object.  */\n-#ifdef ASM_DECLARE_OBJECT_NAME\n-  last_assemble_variable_decl = decl;\n-  ASM_DECLARE_OBJECT_NAME (asm_out_file, name, decl);\n-#else\n-  /* Standard thing is just output label for the object.  */\n   if (output_bytecode)\n     BC_OUTPUT_LABEL (asm_out_file, name);\n   else\n-    ASM_OUTPUT_LABEL (asm_out_file, name);\n+    {\n+#ifdef ASM_DECLARE_OBJECT_NAME\n+      last_assemble_variable_decl = decl;\n+      ASM_DECLARE_OBJECT_NAME (asm_out_file, name, decl);\n+#else\n+      /* Standard thing is just output label for the object.  */\n+      ASM_OUTPUT_LABEL (asm_out_file, name);\n #endif /* ASM_DECLARE_OBJECT_NAME */\n+    }\n \n   if (!dont_output_data)\n     {"}]}