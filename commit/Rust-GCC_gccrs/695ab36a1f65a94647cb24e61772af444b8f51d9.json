{"sha": "695ab36a1f65a94647cb24e61772af444b8f51d9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njk1YWIzNmExZjY1YTk0NjQ3Y2IyNGU2MTc3MmFmNDQ0YjhmNTFkOQ==", "commit": {"author": {"name": "Bernd Schmidt", "email": "crux@pool.informatik.rwth-aachen.de", "date": "1999-04-17T21:33:24Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-04-17T21:33:24Z"}, "message": "Bernd Schmidt <crux@pool.informatik.rwth-aachen.de>\n\nBernd Schmidt <crux@pool.informatik.rwth-aachen.de>\n        * gcse.c (compute_local_properties): If setp is nonzero, clear\n        TRANSP instead of setting it to all ones.\n\nFrom-SVN: r26528", "tree": {"sha": "cd02e492fd315a7d33e4f2ca693d55f46b175223", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cd02e492fd315a7d33e4f2ca693d55f46b175223"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/695ab36a1f65a94647cb24e61772af444b8f51d9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/695ab36a1f65a94647cb24e61772af444b8f51d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/695ab36a1f65a94647cb24e61772af444b8f51d9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/695ab36a1f65a94647cb24e61772af444b8f51d9/comments", "author": null, "committer": null, "parents": [{"sha": "3af4bd89433b88aa8b04e0b9cb4868a0f41db962", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3af4bd89433b88aa8b04e0b9cb4868a0f41db962", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3af4bd89433b88aa8b04e0b9cb4868a0f41db962"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "0ae98a6110f2e53e3bef6eb791a33b7e6fc8ca66", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/695ab36a1f65a94647cb24e61772af444b8f51d9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/695ab36a1f65a94647cb24e61772af444b8f51d9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=695ab36a1f65a94647cb24e61772af444b8f51d9", "patch": "@@ -1,3 +1,8 @@\n+Sat Apr 17 21:30:11 1999  Bernd Schmidt <crux@pool.informatik.rwth-aachen.de>\n+\n+\t* gcse.c (compute_local_properties): If setp is nonzero, clear\n+\tTRANSP instead of setting it to all ones.\n+\n Sat Apr 17 21:10:10 1999  Jan Hubicka <hubicka@freesoft.cz>\n \n         * i386.c (i386_preferred_stack_boundary_string): New global variable."}, {"sha": "5392607c5862e8c2bcfa5c04e5b831ceed773bb5", "filename": "gcc/gcse.c", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/695ab36a1f65a94647cb24e61772af444b8f51d9/gcc%2Fgcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/695ab36a1f65a94647cb24e61772af444b8f51d9/gcc%2Fgcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcse.c?ref=695ab36a1f65a94647cb24e61772af444b8f51d9", "patch": "@@ -928,7 +928,8 @@ free_gcse_mem ()\n \n    SETP controls which hash table to look at.  If zero, this routine\n    looks at the expr hash table; if nonzero this routine looks at\n-   the set hash table.  */\n+   the set hash table.  Additionally, TRANSP is computed as ~TRANSP,\n+   since this is really cprop's ABSALTERED.  */\n  \n static void\n compute_local_properties (transp, comp, antloc, setp)\n@@ -942,7 +943,12 @@ compute_local_properties (transp, comp, antloc, setp)\n   \n   /* Initialize any bitmaps that were passed in.  */\n   if (transp)\n-    sbitmap_vector_ones (transp, n_basic_blocks);\n+    {\n+      if (setp)\n+\tsbitmap_vector_zero (transp, n_basic_blocks);\n+      else\n+\tsbitmap_vector_ones (transp, n_basic_blocks);\n+    }\n   if (comp)\n     sbitmap_vector_zero (comp, n_basic_blocks);\n   if (antloc)"}]}