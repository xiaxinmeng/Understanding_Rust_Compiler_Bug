{"sha": "82598228f08d373948f195d474ccc6a7aa9b2aab", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODI1OTgyMjhmMDhkMzczOTQ4ZjE5NWQ0NzRjY2M2YTdhYTliMmFhYg==", "commit": {"author": {"name": "Loren J. Rittle", "email": "ljrittle@acm.org", "date": "2002-01-15T17:27:05Z"}, "committer": {"name": "Loren J. Rittle", "email": "ljrittle@gcc.gnu.org", "date": "2002-01-15T17:27:05Z"}, "message": "configure.in: Remove fcntl.h check; never define _POSIX_SOURCE, NO_FCNTL or OPEN_DECL.\n\n\t* libI77/configure.in: Remove fcntl.h check; never define\n\t_POSIX_SOURCE, NO_FCNTL or OPEN_DECL.  Add check for tmpnam().\n\t* libI77/configure: Rebuilt.\n\t* libI77/config.h.in: Rebuilt.\n\t* libI77/Makefile.in: Remove all traces of rawio.h from\n\tdependencies lists.\n\t* libI77/fio.h (FSEEK): Unroll -j1.7 -j1.6 made 2002-01-04.\n\t* libI77/open.c (f_open): Use HAVE_TMPNAM.\n\t* libI77/rawio.h: Remove file.\n\nFrom-SVN: r48875", "tree": {"sha": "70b8d0097b66bac140aa33b35c78d03d426cabb2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/70b8d0097b66bac140aa33b35c78d03d426cabb2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/82598228f08d373948f195d474ccc6a7aa9b2aab", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82598228f08d373948f195d474ccc6a7aa9b2aab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/82598228f08d373948f195d474ccc6a7aa9b2aab", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82598228f08d373948f195d474ccc6a7aa9b2aab/comments", "author": null, "committer": null, "parents": [{"sha": "751a1458e27cfb31650ed19368a1dc48ee0289a5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/751a1458e27cfb31650ed19368a1dc48ee0289a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/751a1458e27cfb31650ed19368a1dc48ee0289a5"}], "stats": {"total": 253, "additions": 108, "deletions": 145}, "files": [{"sha": "f19d502013a1867c1a4c34687b20bdbcc8e594e3", "filename": "libf2c/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82598228f08d373948f195d474ccc6a7aa9b2aab/libf2c%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82598228f08d373948f195d474ccc6a7aa9b2aab/libf2c%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FChangeLog?ref=82598228f08d373948f195d474ccc6a7aa9b2aab", "patch": "@@ -1,3 +1,15 @@\n+2002-01-15  Loren J. Rittle  <ljrittle@acm.org>\n+\n+\t* libI77/configure.in: Remove fcntl.h check; never define\n+\t_POSIX_SOURCE, NO_FCNTL or OPEN_DECL.  Add check for tmpnam().\n+\t* libI77/configure: Rebuilt.\n+\t* libI77/config.h.in: Rebuilt.\n+\t* libI77/Makefile.in: Remove all traces of rawio.h from\n+\tdependencies lists.\n+\t* libI77/fio.h (FSEEK): Unroll -j1.7 -j1.6 made 2002-01-04.\n+\t* libI77/open.c (f_open): Use HAVE_TMPNAM.\n+\t* libI77/rawio.h: Remove file.\n+\n 2002-01-14  John David Anglin  <dave@hiauly1.hia.nrc.ca>\n \n \t* libI77/configure.in (_LARGEFILE_SOURCE): AC_DEFINE."}, {"sha": "ff0d8e1517683ff1ab80243aa1d799eefa7de9d9", "filename": "libf2c/libI77/Makefile.in", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82598228f08d373948f195d474ccc6a7aa9b2aab/libf2c%2FlibI77%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82598228f08d373948f195d474ccc6a7aa9b2aab/libf2c%2FlibI77%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2FMakefile.in?ref=82598228f08d373948f195d474ccc6a7aa9b2aab", "patch": "@@ -98,8 +98,8 @@ dfe.lo:\t\tfio.h config.h\n dfe.lo:\t\tdfe.c fmt.h\n dolio.lo:\tdolio.c config.h\n due.lo:\t\tdue.c fio.h config.h\n-endfile.lo:\tendfile.c fio.h rawio.h config.h\n-err.lo:\t\terr.c fio.h rawio.h config.h\n+endfile.lo:\tendfile.c fio.h config.h\n+err.lo:\t\terr.c fio.h config.h\n fmt.lo:\t\tfio.h config.h\n fmt.lo:\t\tfmt.c fmt.h\n fmtlib.lo:\tfmtlib.c config.h\n@@ -116,7 +116,7 @@ lread.lo:\tlread.c fp.h\n lwrite.lo:\tfio.h\n lwrite.lo:\tfmt.h\n lwrite.lo:\tlwrite.c lio.h\n-open.lo:\t\topen.c fio.h rawio.h config.h\n+open.lo:\t\topen.c fio.h config.h\n rdfmt.lo:\tfio.h config.h\n rdfmt.lo:\tfmt.h\n rdfmt.lo:\trdfmt.c fp.h"}, {"sha": "3ae78d198ad741c70c89027b06bf8fc4deb6bd54", "filename": "libf2c/libI77/config.h.in", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82598228f08d373948f195d474ccc6a7aa9b2aab/libf2c%2FlibI77%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82598228f08d373948f195d474ccc6a7aa9b2aab/libf2c%2FlibI77%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2Fconfig.h.in?ref=82598228f08d373948f195d474ccc6a7aa9b2aab", "patch": "@@ -6,9 +6,6 @@\n /* Define to `long' if <sys/types.h> doesn't define.  */\n #undef off_t\n \n-/* Define if you need to in order for stat and other things to work.  */\n-#undef _POSIX_SOURCE\n-\n /* Define to `unsigned' if <sys/types.h> doesn't define.  */\n #undef size_t\n \n@@ -30,6 +27,9 @@\n /* Define if you have the tempnam function.  */\n #undef HAVE_TEMPNAM\n \n+/* Define if you have the tmpnam function.  */\n+#undef HAVE_TMPNAM\n+\n /* Get Single Unix Specification semantics */\n #undef _XOPEN_SOURCE\n \n@@ -45,12 +45,6 @@\n /* Define for HP-UX ftello and fseeko extension. */\n #undef _LARGEFILE_SOURCE\n \n-/* Define if fcntl.h is missing. */\n-#undef NO_FCNTL\n-\n-/* Define if fcntl.h is missing. */\n-#undef OPEN_DECL\n-\n /* Define if we do not have Unix Stdio. */\n #undef NON_UNIX_STDIO\n "}, {"sha": "e064fbaa43e1a57c41836c8f48b34a26fa04679a", "filename": "libf2c/libI77/configure", "status": "modified", "additions": 87, "deletions": 77, "changes": 164, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82598228f08d373948f195d474ccc6a7aa9b2aab/libf2c%2FlibI77%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82598228f08d373948f195d474ccc6a7aa9b2aab/libf2c%2FlibI77%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2Fconfigure?ref=82598228f08d373948f195d474ccc6a7aa9b2aab", "patch": "@@ -1105,64 +1105,19 @@ fi\n echo \"$ac_t\"\"$g77_cv_sys_mingw32\" 1>&6\n \n \n-ac_safe=`echo \"fcntl.h\" | sed 'y%./+-%__p_%'`\n-echo $ac_n \"checking for fcntl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1111: checking for fcntl.h\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  cat > conftest.$ac_ext <<EOF\n-#line 1116 \"configure\"\n-#include \"confdefs.h\"\n-#include <fcntl.h>\n-EOF\n-ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1121: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n-ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n-if test -z \"$ac_err\"; then\n-  rm -rf conftest*\n-  eval \"ac_cv_header_$ac_safe=yes\"\n-else\n-  echo \"$ac_err\" >&5\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -rf conftest*\n-  eval \"ac_cv_header_$ac_safe=no\"\n-fi\n-rm -f conftest*\n-fi\n-if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n-  echo \"$ac_t\"\"yes\" 1>&6\n-  test $g77_cv_header_posix = yes && cat >> confdefs.h <<\\EOF\n-#define _POSIX_SOURCE 1\n-EOF\n-\n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n-cat >> confdefs.h <<\\EOF\n-#define NO_FCNTL 1\n-EOF\n- \n-   cat >> confdefs.h <<\\EOF\n-#define OPEN_DECL 1\n-EOF\n-\n-fi\n-\n-\n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:1155: checking for working const\" >&5\n+echo \"configure:1110: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1160 \"configure\"\n+#line 1115 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n \n /* Ultrix mips cc rejects this.  */\n-typedef int charset[2]; const charset x = {0,0};\n+typedef int charset[2]; const charset x;\n /* SunOS 4.1.1 cc rejects this.  */\n char const *const *ccp;\n char **p;\n@@ -1205,7 +1160,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1209: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1164: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -1226,12 +1181,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:1230: checking for size_t\" >&5\n+echo \"configure:1185: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1235 \"configure\"\n+#line 1190 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -1264,12 +1219,12 @@ fi\n # Apparently positive result on cygwin loses re. NON_UNIX_STDIO\n # (as of cygwin b18). Likewise on mingw.\n echo $ac_n \"checking for fstat\"\"... $ac_c\" 1>&6\n-echo \"configure:1268: checking for fstat\" >&5\n+echo \"configure:1223: checking for fstat\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_fstat'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1273 \"configure\"\n+#line 1228 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char fstat(); below.  */\n@@ -1292,7 +1247,7 @@ fstat();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1296: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1251: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_fstat=yes\"\n else\n@@ -1312,7 +1267,7 @@ else\n fi\n \n echo $ac_n \"checking need for NON_UNIX_STDIO\"\"... $ac_c\" 1>&6\n-echo \"configure:1316: checking need for NON_UNIX_STDIO\" >&5\n+echo \"configure:1271: checking need for NON_UNIX_STDIO\" >&5\n if test $g77_cv_sys_cygwin32 = yes \\\n   || test $g77_cv_sys_mingw32 = yes \\\n   || test $ac_cv_func_fstat = no; then\n@@ -1328,12 +1283,12 @@ fi\n for ac_func in fseeko\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1332: checking for $ac_func\" >&5\n+echo \"configure:1287: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1337 \"configure\"\n+#line 1292 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1356,7 +1311,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1360: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1315: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1383,12 +1338,12 @@ done\n for ac_func in ftello\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1387: checking for $ac_func\" >&5\n+echo \"configure:1342: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1392 \"configure\"\n+#line 1347 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1411,7 +1366,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1415: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1370: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1438,12 +1393,12 @@ done\n for ac_func in ftruncate\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1442: checking for $ac_func\" >&5\n+echo \"configure:1397: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1447 \"configure\"\n+#line 1402 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1466,7 +1421,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1470: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1425: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1493,12 +1448,12 @@ done\n for ac_func in mkstemp\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1497: checking for $ac_func\" >&5\n+echo \"configure:1452: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1502 \"configure\"\n+#line 1457 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1521,7 +1476,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1525: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1480: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1548,12 +1503,67 @@ done\n for ac_func in tempnam\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1552: checking for $ac_func\" >&5\n+echo \"configure:1507: checking for $ac_func\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 1512 \"configure\"\n+#include \"confdefs.h\"\n+/* System header to define __stub macros and hopefully few prototypes,\n+    which can conflict with char $ac_func(); below.  */\n+#include <assert.h>\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+/* We use char because int might match the return type of a gcc2\n+    builtin and then its argument prototype would still apply.  */\n+char $ac_func();\n+\n+int main() {\n+\n+/* The GNU C library defines this for functions which it implements\n+    to always fail with ENOSYS.  Some functions are actually named\n+    something starting with __ and the normal name is an alias.  */\n+#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n+choke me\n+#else\n+$ac_func();\n+#endif\n+\n+; return 0; }\n+EOF\n+if { (eval echo configure:1535: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+  rm -rf conftest*\n+  eval \"ac_cv_func_$ac_func=yes\"\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  eval \"ac_cv_func_$ac_func=no\"\n+fi\n+rm -f conftest*\n+fi\n+\n+if eval \"test \\\"`echo '$ac_cv_func_'$ac_func`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n+  cat >> confdefs.h <<EOF\n+#define $ac_tr_func 1\n+EOF\n+ \n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+done\n+\n+for ac_func in tmpnam\n+do\n+echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n+echo \"configure:1562: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1557 \"configure\"\n+#line 1567 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1576,7 +1586,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1580: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1590: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1606,19 +1616,19 @@ done\n # However, on my sunos4/gcc setup unistd.h leads us wrongly to believe\n # we're posix-conformant, so always do the test.\n echo $ac_n \"checking for ansi/posix sprintf result\"\"... $ac_c\" 1>&6\n-echo \"configure:1610: checking for ansi/posix sprintf result\" >&5\n+echo \"configure:1620: checking for ansi/posix sprintf result\" >&5\n if test \"$cross_compiling\" = yes; then\n   g77_cv_sys_sprintf_ansi=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1615 \"configure\"\n+#line 1625 \"configure\"\n #include \"confdefs.h\"\n   #include <stdio.h>\n     /* does sprintf return the number of chars transferred? */\n     main () {char foo[2]; (sprintf(foo, \"1\") == 1) ? exit(0) : exit(1);}\n \n EOF\n-if { (eval echo configure:1622: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1632: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   g77_cv_sys_sprintf_ansi=yes\n else\n@@ -1649,9 +1659,9 @@ fi\n \n # define NON_ANSI_RW_MODES on unix (can't hurt)\n echo $ac_n \"checking NON_ANSI_RW_MODES\"\"... $ac_c\" 1>&6\n-echo \"configure:1653: checking NON_ANSI_RW_MODES\" >&5\n+echo \"configure:1663: checking NON_ANSI_RW_MODES\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 1655 \"configure\"\n+#line 1665 \"configure\"\n #include \"confdefs.h\"\n #ifdef unix\n   yes\n@@ -1696,12 +1706,12 @@ EOF\n \n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:1700: checking for off_t\" >&5\n+echo \"configure:1710: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1705 \"configure\"\n+#line 1715 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS"}, {"sha": "988a8e542c30f70a5bece45a7bce8654ad1646ab", "filename": "libf2c/libI77/configure.in", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82598228f08d373948f195d474ccc6a7aa9b2aab/libf2c%2FlibI77%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82598228f08d373948f195d474ccc6a7aa9b2aab/libf2c%2FlibI77%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2Fconfigure.in?ref=82598228f08d373948f195d474ccc6a7aa9b2aab", "patch": "@@ -124,11 +124,6 @@ AC_CACHE_VAL(g77_cv_sys_mingw32,\n AC_MSG_RESULT($g77_cv_sys_mingw32)\n \n \n-AC_CHECK_HEADER(fcntl.h,\n-   test $g77_cv_header_posix = yes && AC_DEFINE(_POSIX_SOURCE),\n-   AC_DEFINE(NO_FCNTL, 1, [Define if fcntl.h is missing.]) \n-   AC_DEFINE(OPEN_DECL, 1, [Define if fcntl.h is missing.]))\n-\n dnl Checks for typedefs, structures, and compiler characteristics.\n AC_C_CONST\n AC_TYPE_SIZE_T\n@@ -154,6 +149,7 @@ AC_CHECK_FUNCS(ftello)\n AC_CHECK_FUNCS(ftruncate)\n AC_CHECK_FUNCS(mkstemp)\n AC_CHECK_FUNCS(tempnam)\n+AC_CHECK_FUNCS(tmpnam)\n \n # posix will guarantee the right behaviour for sprintf, else we can't be\n # sure; HEADER_STDC wouldn't be the right check in sunos4, for instance."}, {"sha": "8c6d274fe49886567da994f3e234f8ed25e573af", "filename": "libf2c/libI77/fio.h", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82598228f08d373948f195d474ccc6a7aa9b2aab/libf2c%2FlibI77%2Ffio.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82598228f08d373948f195d474ccc6a7aa9b2aab/libf2c%2FlibI77%2Ffio.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2Ffio.h?ref=82598228f08d373948f195d474ccc6a7aa9b2aab", "patch": "@@ -18,11 +18,7 @@\n /* Only use fseeko/ftello if they are both there.  */\n \n #if defined (HAVE_FSEEKO) && defined (HAVE_FTELLO)\n-/* The cast helps in any case where the fseeko() prototype is somehow missing\n-   (perhaps because _POSIX_SOURCE is defined and the system headers try\n-   to keep a clean namespace in that case) even though the autoconf test\n-   found the non-standard function via its trivial link test.  */\n-#define FSEEK(a,b,c) fseeko(a, (off_t) b, c)\n+#define FSEEK fseeko\n #define FTELL ftello\n #else\n #define FSEEK fseek"}, {"sha": "9457ccc807b2aecf5f932ece7f5a4b088afbf23a", "filename": "libf2c/libI77/open.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82598228f08d373948f195d474ccc6a7aa9b2aab/libf2c%2FlibI77%2Fopen.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82598228f08d373948f195d474ccc6a7aa9b2aab/libf2c%2FlibI77%2Fopen.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2Fopen.c?ref=82598228f08d373948f195d474ccc6a7aa9b2aab", "patch": "@@ -231,7 +231,7 @@ integer f_open(olist *a)\n \t\t(void) strcpy (buf, s);\n \t\tfree (s);\n #else /* ! defined (HAVE_TEMPNAM) */\n-#ifdef _POSIX_SOURCE\n+#ifdef HAVE_TMPNAM\n \t\ttmpnam(buf);\n #else\n \t\t(void) strcpy(buf,\"tmp.FXXXXXX\");"}, {"sha": "f3a59fdab4dc11e2fc4723e7f8103f6647127b38", "filename": "libf2c/libI77/rawio.h", "status": "removed", "additions": 0, "deletions": 45, "changes": 45, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/751a1458e27cfb31650ed19368a1dc48ee0289a5/libf2c%2FlibI77%2Frawio.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/751a1458e27cfb31650ed19368a1dc48ee0289a5/libf2c%2FlibI77%2Frawio.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2Frawio.h?ref=751a1458e27cfb31650ed19368a1dc48ee0289a5", "patch": "@@ -1,45 +0,0 @@\n-#ifndef KR_headers\n-#if defined (MSDOS) && !defined (GO32)\n-#include \"io.h\"\n-#ifndef WATCOM\n-#define close _close\n-#define creat _creat\n-#define open _open\n-#define read _read\n-#define write _write\n-#endif /*WATCOM*/\n-#endif /*MSDOS*/\n-#ifdef __cplusplus\n-extern \"C\" {\n-#endif\n-#if !(defined (MSDOS) && !defined (GO32))\n-#ifdef OPEN_DECL\n-extern int creat(const char*,int), open(const char*,int);\n-#endif\n-extern int close(int);\n-#if !(defined(_WIN32) && !defined(__CYGWIN32__))\n-extern int read(int,void*,size_t), write(int,void*,size_t);\n-#endif\n-extern int unlink(const char*);\n-#ifndef _POSIX_SOURCE\n-#ifndef NON_UNIX_STDIO\n-extern FILE *fdopen(int, const char*);\n-#endif\n-#endif\n-#endif /*KR_HEADERS*/\n-\n-extern char *mktemp(char*);\n-\n-#ifdef __cplusplus\n-\t}\n-#endif\n-#endif\n-\n-#ifndef NO_FCNTL\n-#include <fcntl.h>\n-#endif\n-\n-#ifndef O_WRONLY\n-#define O_RDONLY 0\n-#define O_WRONLY 1\n-#endif"}]}