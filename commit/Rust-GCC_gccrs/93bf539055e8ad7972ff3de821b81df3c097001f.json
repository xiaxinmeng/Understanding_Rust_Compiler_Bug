{"sha": "93bf539055e8ad7972ff3de821b81df3c097001f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTNiZjUzOTA1NWU4YWQ3OTcyZmYzZGU4MjFiODFkZjNjMDk3MDAxZg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2012-11-13T22:19:44Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2012-11-13T22:19:44Z"}, "message": "Move libsanitizer configure logic to subdirectory\n\nFrom-SVN: r193487", "tree": {"sha": "dd156eee0ba51f7c0c86f86bfe11a78d9133fc1c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dd156eee0ba51f7c0c86f86bfe11a78d9133fc1c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/93bf539055e8ad7972ff3de821b81df3c097001f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/93bf539055e8ad7972ff3de821b81df3c097001f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/93bf539055e8ad7972ff3de821b81df3c097001f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/93bf539055e8ad7972ff3de821b81df3c097001f/comments", "author": null, "committer": null, "parents": [{"sha": "beb42d2022899f07712a3537beedbedd13f67fab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/beb42d2022899f07712a3537beedbedd13f67fab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/beb42d2022899f07712a3537beedbedd13f67fab"}], "stats": {"total": 90, "additions": 72, "deletions": 18}, "files": [{"sha": "d1302b318ef899d08344b5a52336cd7f214aac42", "filename": "ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93bf539055e8ad7972ff3de821b81df3c097001f/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93bf539055e8ad7972ff3de821b81df3c097001f/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=93bf539055e8ad7972ff3de821b81df3c097001f", "patch": "@@ -1,3 +1,8 @@\n+2012-11-13  Richard Henderson  <rth@redhat.com>\n+\n+\t* configure.ac: Move libsanitizer logic to subdirectory.\n+\t* configure: Regenerate.\n+\n 2012-11-13  Dodji Seketeli  <dodji@redhat.com>\n \n \t* configure.ac: Enable libsanitizer just on x86 linux for now."}, {"sha": "45e521e99286b1ea21a997ae09f9b09376f241d8", "filename": "configure", "status": "modified", "additions": 19, "deletions": 9, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93bf539055e8ad7972ff3de821b81df3c097001f/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93bf539055e8ad7972ff3de821b81df3c097001f/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=93bf539055e8ad7972ff3de821b81df3c097001f", "patch": "@@ -3196,6 +3196,25 @@ $as_echo \"yes\" >&6; }\n     fi\n fi\n \n+# Disable libsanitizer on unsupported systems.\n+if test -d ${srcdir}/libsanitizer; then\n+    if test x$enable_libsanitizer = x; then\n+\t{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for libsanitizer support\" >&5\n+$as_echo_n \"checking for libsanitizer support... \" >&6; }\n+\tif (srcdir=${srcdir}/libsanitizer; \\\n+\t\t. ${srcdir}/configure.tgt; \\\n+\t\ttest -n \"$UNSUPPORTED\")\n+\tthen\n+\t    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+\t    noconfigdirs=\"$noconfigdirs target-libsanitizer\"\n+\telse\n+\t    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n+$as_echo \"yes\" >&6; }\n+\tfi\n+    fi\n+fi\n+\n # Disable libquadmath for some systems.\n case \"${target}\" in\n   avr-*-*)\n@@ -3208,15 +3227,6 @@ case \"${target}\" in\n     ;;\n esac\n \n-# Disable libsanitizer on all systems but x86 linux for now.\n-case \"${target}\" in\n-  x86_64-*-linux-* | i?86-*-linux-*)\n-    ;;\n-  *)\n-    noconfigdirs=\"$noconfigdirs target-libsanitizer\"\n-    ;;\n-esac\n-\n # Disable libssp for some systems.\n case \"${target}\" in\n   avr-*-*)"}, {"sha": "91ccb3dd0c65a3118e3754aedc1047c18e8d0607", "filename": "configure.ac", "status": "modified", "additions": 16, "deletions": 9, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93bf539055e8ad7972ff3de821b81df3c097001f/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93bf539055e8ad7972ff3de821b81df3c097001f/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=93bf539055e8ad7972ff3de821b81df3c097001f", "patch": "@@ -538,6 +538,22 @@ if test -d ${srcdir}/libitm; then\n     fi\n fi\n \n+# Disable libsanitizer on unsupported systems.\n+if test -d ${srcdir}/libsanitizer; then\n+    if test x$enable_libsanitizer = x; then\n+\tAC_MSG_CHECKING([for libsanitizer support])\n+\tif (srcdir=${srcdir}/libsanitizer; \\\n+\t\t. ${srcdir}/configure.tgt; \\\n+\t\ttest -n \"$UNSUPPORTED\")\n+\tthen\n+\t    AC_MSG_RESULT([no])\n+\t    noconfigdirs=\"$noconfigdirs target-libsanitizer\"\n+\telse\n+\t    AC_MSG_RESULT([yes])\n+\tfi\n+    fi\n+fi\n+\n # Disable libquadmath for some systems.\n case \"${target}\" in\n   avr-*-*)\n@@ -550,15 +566,6 @@ case \"${target}\" in\n     ;;\n esac\n \n-# Disable libsanitizer on all systems but x86 linux for now.\n-case \"${target}\" in\n-  x86_64-*-linux-* | i?86-*-linux-*)\n-    ;;\n-  *)\n-    noconfigdirs=\"$noconfigdirs target-libsanitizer\"\n-    ;;\n-esac\n-\n # Disable libssp for some systems.\n case \"${target}\" in\n   avr-*-*)"}, {"sha": "a12e908315c8ffa19af2cf2d6c85b7e579597dc8", "filename": "libsanitizer/ChangeLog.asan", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93bf539055e8ad7972ff3de821b81df3c097001f/libsanitizer%2FChangeLog.asan", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93bf539055e8ad7972ff3de821b81df3c097001f/libsanitizer%2FChangeLog.asan", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2FChangeLog.asan?ref=93bf539055e8ad7972ff3de821b81df3c097001f", "patch": "@@ -1,3 +1,7 @@\n+2012-11-13  Richard Henderson  <rth@redhat.com>\n+\n+\t* configure.tgt: New file.\n+\n 2012-11-12  David S. Miller  <davem@davemloft.net>\n \n \t* asan/asan_linux.cc (GetPcSpBp): Add sparc support."}, {"sha": "ca7ac1fb141c86b457e59f89dd1bcac674590cb2", "filename": "libsanitizer/configure.tgt", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93bf539055e8ad7972ff3de821b81df3c097001f/libsanitizer%2Fconfigure.tgt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93bf539055e8ad7972ff3de821b81df3c097001f/libsanitizer%2Fconfigure.tgt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fconfigure.tgt?ref=93bf539055e8ad7972ff3de821b81df3c097001f", "patch": "@@ -0,0 +1,28 @@\n+# -*- shell-script -*-\n+#   Copyright (C) 2012 Free Software Foundation, Inc.\n+\n+# This program is free software; you can redistribute it and/or modify\n+# it under the terms of the GNU General Public License as published by\n+# the Free Software Foundation; either version 2 of the License, or\n+# (at your option) any later version.\n+#\n+# This program is distributed in the hope that it will be useful,\n+# but WITHOUT ANY WARRANTY; without even the implied warranty of\n+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+# GNU General Public License for more details.\n+#\n+# You should have received a copy of the GNU General Public License\n+# along with this program; if not see <http://www.gnu.org/licenses/>.\n+\n+# This is the target specific configuration file.  This is invoked by the\n+# autoconf generated configure script.  Putting it in a separate shell file\n+# lets us skip running autoconf when modifying target specific information.\n+\n+# Filter out unsupported systems.\n+case \"${target}\" in\n+  x86_64-*-linux* | i?86-*-linux*)\n+\t;;\n+  *)\n+\tUNSUPPORTED=1\n+\t;;\n+esac"}]}