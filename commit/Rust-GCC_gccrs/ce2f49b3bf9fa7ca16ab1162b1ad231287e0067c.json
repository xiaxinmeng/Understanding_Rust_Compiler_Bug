{"sha": "ce2f49b3bf9fa7ca16ab1162b1ad231287e0067c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2UyZjQ5YjNiZjlmYTdjYTE2YWIxMTYyYjFhZDIzMTI4N2UwMDY3Yw==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2014-03-19T15:37:28Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2014-03-19T15:37:28Z"}, "message": "re PR c++/60553 (segfault in gt_ggc_mx_lang_tree_node in Chromium with LTO)\n\n2014-03-19  Richard Biener  <rguenther@suse.de>\n\n\tPR middle-end/60553\n\t* tree-core.h (tree_type_common): Re-order pointer members\n\tto reduce recursion depth during GC walks.\n\n\tlto/\n\t* lto-tree.h (lang_tree_node): For types use TYPE_NEXT_VARIANT \n\tinstead of TREE_CHAIN as chain_next.\n\nFrom-SVN: r208682", "tree": {"sha": "25b1b4334fb97dc4d62b7fd5d23aa33c8040ce71", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/25b1b4334fb97dc4d62b7fd5d23aa33c8040ce71"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ce2f49b3bf9fa7ca16ab1162b1ad231287e0067c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce2f49b3bf9fa7ca16ab1162b1ad231287e0067c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce2f49b3bf9fa7ca16ab1162b1ad231287e0067c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce2f49b3bf9fa7ca16ab1162b1ad231287e0067c/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6daa2d914b638ea400bc42a3e29a6d1cdf602ea1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6daa2d914b638ea400bc42a3e29a6d1cdf602ea1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6daa2d914b638ea400bc42a3e29a6d1cdf602ea1"}], "stats": {"total": 18, "additions": 15, "deletions": 3}, "files": [{"sha": "23d60ec23c5808505b723122fbd9efd04f64c185", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce2f49b3bf9fa7ca16ab1162b1ad231287e0067c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce2f49b3bf9fa7ca16ab1162b1ad231287e0067c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ce2f49b3bf9fa7ca16ab1162b1ad231287e0067c", "patch": "@@ -1,3 +1,9 @@\n+2014-03-19  Richard Biener  <rguenther@suse.de>\n+\n+\tPR middle-end/60553\n+\t* tree-core.h (tree_type_common): Re-order pointer members\n+\tto reduce recursion depth during GC walks.\n+\n 2014-03-19  Marek Polacek  <polacek@redhat.com>\n \n \tPR sanitizer/60569"}, {"sha": "ad806db7d76184ab108c7b91eb20d4d2de7c0f48", "filename": "gcc/lto/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce2f49b3bf9fa7ca16ab1162b1ad231287e0067c/gcc%2Flto%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce2f49b3bf9fa7ca16ab1162b1ad231287e0067c/gcc%2Flto%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2FChangeLog?ref=ce2f49b3bf9fa7ca16ab1162b1ad231287e0067c", "patch": "@@ -1,3 +1,9 @@\n+2014-03-19  Richard Biener  <rguenther@suse.de>\n+\n+\tPR middle-end/60553\n+\t* lto-tree.h (lang_tree_node): For types use TYPE_NEXT_VARIANT \n+\tinstead of TREE_CHAIN as chain_next.\n+\n 2014-03-19  Richard Biener  <rguenther@suse.de>\n \n \t* lto.c (lto_wpa_write_files): Move call to"}, {"sha": "b1c3d2a848a2d8d5c54f7d60340c7e794882ffa2", "filename": "gcc/lto/lto-tree.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce2f49b3bf9fa7ca16ab1162b1ad231287e0067c/gcc%2Flto%2Flto-tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce2f49b3bf9fa7ca16ab1162b1ad231287e0067c/gcc%2Flto%2Flto-tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2Flto-tree.h?ref=ce2f49b3bf9fa7ca16ab1162b1ad231287e0067c", "patch": "@@ -48,7 +48,7 @@ enum lto_tree_node_structure_enum {\n };\n \n union GTY((desc (\"lto_tree_node_structure (&%h)\"),\n-\t  chain_next (\"CODE_CONTAINS_STRUCT (TREE_CODE (&%h.generic), TS_COMMON) ? ((union lang_tree_node *) TREE_CHAIN (&%h.generic)) : NULL\")))\n+\t  chain_next (\"CODE_CONTAINS_STRUCT (TREE_CODE (&%h.generic), TS_TYPE_COMMON) ? ((union lang_tree_node *) %h.generic.type_common.next_variant) : CODE_CONTAINS_STRUCT (TREE_CODE (&%h.generic), TS_COMMON) ? ((union lang_tree_node *) %h.generic.common.chain) : NULL\")))\n     lang_tree_node\n {\n   union tree_node GTY ((tag (\"TS_LTO_GENERIC\"),"}, {"sha": "a2dc387d647c6e9bdcda13313186b6bdb9573c2c", "filename": "gcc/tree-core.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce2f49b3bf9fa7ca16ab1162b1ad231287e0067c/gcc%2Ftree-core.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce2f49b3bf9fa7ca16ab1162b1ad231287e0067c/gcc%2Ftree-core.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-core.h?ref=ce2f49b3bf9fa7ca16ab1162b1ad231287e0067c", "patch": "@@ -1265,11 +1265,11 @@ struct GTY(()) tree_type_common {\n     const char * GTY ((tag (\"TYPE_SYMTAB_IS_POINTER\"))) pointer;\n     struct die_struct * GTY ((tag (\"TYPE_SYMTAB_IS_DIE\"))) die;\n   } GTY ((desc (\"debug_hooks->tree_type_symtab_field\"))) symtab;\n-  tree name;\n+  tree canonical;\n   tree next_variant;\n   tree main_variant;\n   tree context;\n-  tree canonical;\n+  tree name;\n };\n \n struct GTY(()) tree_type_with_lang_specific {"}]}