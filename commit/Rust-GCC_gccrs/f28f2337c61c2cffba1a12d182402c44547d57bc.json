{"sha": "f28f2337c61c2cffba1a12d182402c44547d57bc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjI4ZjIzMzdjNjFjMmNmZmJhMWExMmQxODI0MDJjNDQ1NDdkNTdiYw==", "commit": {"author": {"name": "Anatoly Sokolov", "email": "aesok@post.ru", "date": "2010-08-23T19:34:15Z"}, "committer": {"name": "Anatoly Sokolov", "email": "aesok@gcc.gnu.org", "date": "2010-08-23T19:34:15Z"}, "message": "m32c.c (m32c_function_value_regno_p): Make static.\n\n\t* config/m32c/m32c.c (m32c_function_value_regno_p): Make static.\n\t(m32c_override_options): Rename to...\n\t(m32c_option_override): ...this. Make static.\n\t(TARGET_FUNCTION_VALUE_REGNO_P, TARGET_OPTION_OVERRIDE): Define.\n\t* config/m32c/m32c.h (OVERRIDE_OPTIONS, FUNCTION_VALUE_REGNO_P):\n\tRemove.\n\t* config/m32c/m32c-protos.h (m32c_override_options,\n\tm32c_function_value_regno_p): Remove.\n\nFrom-SVN: r163488", "tree": {"sha": "3a54da7efbddf8c9c27e47acfd4a8be7b45a234a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3a54da7efbddf8c9c27e47acfd4a8be7b45a234a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f28f2337c61c2cffba1a12d182402c44547d57bc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f28f2337c61c2cffba1a12d182402c44547d57bc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f28f2337c61c2cffba1a12d182402c44547d57bc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f28f2337c61c2cffba1a12d182402c44547d57bc/comments", "author": null, "committer": null, "parents": [{"sha": "52965ca61287a3a6d6f6252f5b6b65514f67618b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52965ca61287a3a6d6f6252f5b6b65514f67618b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52965ca61287a3a6d6f6252f5b6b65514f67618b"}], "stats": {"total": 44, "additions": 27, "deletions": 17}, "files": [{"sha": "8b62c47b0b4b50d4bb2254aca6a5f8756f0edee7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f28f2337c61c2cffba1a12d182402c44547d57bc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f28f2337c61c2cffba1a12d182402c44547d57bc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f28f2337c61c2cffba1a12d182402c44547d57bc", "patch": "@@ -1,3 +1,14 @@\n+2010-08-23  Anatoly Sokolov  <aesok@post.ru>\n+\n+\t* config/m32c/m32c.c (m32c_function_value_regno_p): Make static.\n+\t(m32c_override_options): Rename to...\n+\t(m32c_option_override): ...this. Make static.\n+\t(TARGET_FUNCTION_VALUE_REGNO_P, TARGET_OPTION_OVERRIDE): Define.\n+\t* config/m32c/m32c.h (OVERRIDE_OPTIONS, FUNCTION_VALUE_REGNO_P):\n+\tRemove.\n+\t* config/m32c/m32c-protos.h (m32c_override_options,\n+\tm32c_function_value_regno_p): Remove.\n+\n 2010-08-23  Changpeng Fang  <changpeng.fang@amd.com>\n \n \t* tree-ssa-loop-prefetch.c (gather_memory_references_ref) :"}, {"sha": "3ebaa08b416b12d8c56b8a60f0e9b6d648e86c83", "filename": "gcc/config/m32c/m32c-protos.h", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f28f2337c61c2cffba1a12d182402c44547d57bc/gcc%2Fconfig%2Fm32c%2Fm32c-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f28f2337c61c2cffba1a12d182402c44547d57bc/gcc%2Fconfig%2Fm32c%2Fm32c-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm32c%2Fm32c-protos.h?ref=f28f2337c61c2cffba1a12d182402c44547d57bc", "patch": "@@ -1,5 +1,5 @@\n /* Target Prototypes for R8C/M16C/M32C\n-   Copyright (C) 2005, 2007, 2008\n+   Copyright (C) 2005, 2007, 2008, 2010\n    Free Software Foundation, Inc.\n    Contributed by Red Hat.\n \n@@ -37,7 +37,6 @@ void m32c_init_expanders (void);\n int  m32c_initial_elimination_offset (int, int);\n void m32c_output_reg_pop (FILE *, int);\n void m32c_output_reg_push (FILE *, int);\n-void m32c_override_options (void);\n int  m32c_print_operand_punct_valid_p (int);\n int  m32c_push_rounding (int);\n int  m32c_reg_class_from_constraint (char, const char *);\n@@ -75,7 +74,6 @@ bool m32c_immd_dbl_mov (rtx *, MM);\n rtx  m32c_incoming_return_addr_rtx (void);\n int  m32c_legitimate_constant_p (rtx);\n int  m32c_legitimize_reload_address (rtx *, MM, int, int, int);\n-bool m32c_function_value_regno_p (const unsigned int);\n int  m32c_limit_reload_class (MM, int);\n int  m32c_memory_move_cost (MM, int, int);\n int  m32c_modes_tieable_p (MM, MM);"}, {"sha": "34e814a29a7d887de042bdcd25d9a24fe0b44a1b", "filename": "gcc/config/m32c/m32c.c", "status": "modified", "additions": 14, "deletions": 7, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f28f2337c61c2cffba1a12d182402c44547d57bc/gcc%2Fconfig%2Fm32c%2Fm32c.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f28f2337c61c2cffba1a12d182402c44547d57bc/gcc%2Fconfig%2Fm32c%2Fm32c.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm32c%2Fm32c.c?ref=f28f2337c61c2cffba1a12d182402c44547d57bc", "patch": "@@ -1,5 +1,5 @@\n /* Target Code for R8C/M16C/M32C\n-   Copyright (C) 2005, 2006, 2007, 2008, 2009\n+   Copyright (C) 2005, 2006, 2007, 2008, 2009, 2010\n    Free Software Foundation, Inc.\n    Contributed by Red Hat.\n \n@@ -416,11 +416,15 @@ m32c_handle_option (size_t code,\n   return TRUE;\n }\n \n-/* Implements OVERRIDE_OPTIONS.  We limit memregs to 0..16, and\n-   provide a default.  */\n-void\n-m32c_override_options (void)\n+/* Implements TARGET_OPTION_OVERRIDE.  */\n+\n+#undef TARGET_OPTION_OVERRIDE\n+#define TARGET_OPTION_OVERRIDE m32c_option_override\n+\n+static void\n+m32c_option_override (void)\n {\n+  /* We limit memregs to 0..16, and provide a default.  */\n   if (target_memregs_set)\n     {\n       if (target_memregs < 0 || target_memregs > 16)\n@@ -1675,9 +1679,12 @@ m32c_function_value (const_tree valtype,\n   return m32c_libcall_value (mode, NULL_RTX);\n }\n \n-/* Implements FUNCTION_VALUE_REGNO_P.  */\n+/* Implements TARGET_FUNCTION_VALUE_REGNO_P.  */\n \n-bool\n+#undef TARGET_FUNCTION_VALUE_REGNO_P\n+#define TARGET_FUNCTION_VALUE_REGNO_P m32c_function_value_regno_p\n+\n+static bool\n m32c_function_value_regno_p (const unsigned int regno)\n {\n   return (regno == R0_REGNO || regno == MEM0_REGNO);"}, {"sha": "781d68cdbd54f177cb99612f98073291069fa9c8", "filename": "gcc/config/m32c/m32c.h", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f28f2337c61c2cffba1a12d182402c44547d57bc/gcc%2Fconfig%2Fm32c%2Fm32c.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f28f2337c61c2cffba1a12d182402c44547d57bc/gcc%2Fconfig%2Fm32c%2Fm32c.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm32c%2Fm32c.h?ref=f28f2337c61c2cffba1a12d182402c44547d57bc", "patch": "@@ -1,5 +1,5 @@\n /* Target Definitions for R8C/M16C/M32C\n-   Copyright (C) 2005, 2007, 2008, 2009\n+   Copyright (C) 2005, 2007, 2008, 2009, 2010\n    Free Software Foundation, Inc.\n    Contributed by Red Hat.\n \n@@ -96,8 +96,6 @@ extern int target_memregs;\n \n #define TARGET_VERSION fprintf (stderr, \" (m32c)\");\n \n-#define OVERRIDE_OPTIONS m32c_override_options ()\n-\n /* Defining data structures for per-function information */\n \n typedef struct GTY (()) machine_function\n@@ -530,10 +528,6 @@ typedef struct m32c_cumulative_args\n #define FUNCTION_ARG_BOUNDARY(MODE,TYPE) (TARGET_A16 ? 8 : 16)\n #define FUNCTION_ARG_REGNO_P(r) m32c_function_arg_regno_p (r)\n \n-/* How Scalar Function Values Are Returned */\n-\n-#define FUNCTION_VALUE_REGNO_P(r) m32c_function_value_regno_p (r)\n-\n /* How Large Values Are Returned */\n \n #define DEFAULT_PCC_STRUCT_RETURN 1"}]}