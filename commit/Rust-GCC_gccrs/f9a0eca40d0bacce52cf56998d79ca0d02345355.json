{"sha": "f9a0eca40d0bacce52cf56998d79ca0d02345355", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjlhMGVjYTQwZDBiYWNjZTUyY2Y1Njk5OGQ3OWNhMGQwMjM0NTM1NQ==", "commit": {"author": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2015-01-08T16:01:24Z"}, "committer": {"name": "Thomas Schwinge", "email": "tschwinge@gcc.gnu.org", "date": "2015-01-08T16:01:24Z"}, "message": "libgomp: Fix \"intelmic\" offloading in build-tree testing.\n\n\tlibgomp/\n\t* testsuite/lib/libgomp.exp (libgomp_init): Correctly match\n\t\"intelmic\" in $offload_targets.\n\nFrom-SVN: r219348", "tree": {"sha": "f5b8470fd4d2f13abf011a08c7dc99a8b6dd0b19", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f5b8470fd4d2f13abf011a08c7dc99a8b6dd0b19"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f9a0eca40d0bacce52cf56998d79ca0d02345355", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9a0eca40d0bacce52cf56998d79ca0d02345355", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f9a0eca40d0bacce52cf56998d79ca0d02345355", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9a0eca40d0bacce52cf56998d79ca0d02345355/comments", "author": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "247ecdf3b8568e4b489598858b7586dccf9f95e5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/247ecdf3b8568e4b489598858b7586dccf9f95e5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/247ecdf3b8568e4b489598858b7586dccf9f95e5"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "beecba9f667f56dd8e0421d2f1c08e5c7a1ece92", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9a0eca40d0bacce52cf56998d79ca0d02345355/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9a0eca40d0bacce52cf56998d79ca0d02345355/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=f9a0eca40d0bacce52cf56998d79ca0d02345355", "patch": "@@ -1,3 +1,8 @@\n+2015-01-08  Thomas Schwinge  <thomas@codesourcery.com>\n+\n+\t* testsuite/lib/libgomp.exp (libgomp_init): Correctly match\n+\t\"intelmic\" in $offload_targets.\n+\n 2015-01-05  Jakub Jelinek  <jakub@redhat.com>\n \n \tUpdate copyright years."}, {"sha": "2d6f822adf952aed40306d4899bd598c2940c3d6", "filename": "libgomp/testsuite/lib/libgomp.exp", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9a0eca40d0bacce52cf56998d79ca0d02345355/libgomp%2Ftestsuite%2Flib%2Flibgomp.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9a0eca40d0bacce52cf56998d79ca0d02345355/libgomp%2Ftestsuite%2Flib%2Flibgomp.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flib%2Flibgomp.exp?ref=f9a0eca40d0bacce52cf56998d79ca0d02345355", "patch": "@@ -115,8 +115,7 @@ proc libgomp_init { args } {\n \n     # Add liboffloadmic build directory in LD_LIBRARY_PATH to support\n     # non-fallback testing for Intel MIC targets\n-    if { [string match \"*-intelmic-*\" $offload_targets]\n-\t|| [string match \"*-intelmicemul-*\" $offload_targets] } {\n+    if { [string match \"*,intelmic,*\" \",$offload_targets,\"] } {\n \tappend always_ld_library_path \":${blddir}/../liboffloadmic/.libs\"\n \tappend always_ld_library_path \":${blddir}/../liboffloadmic/plugin/.libs\"\n \t# libstdc++ is required by liboffloadmic"}]}