{"sha": "47f4703c33c4936fd423c2a1180b2de144115d3d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDdmNDcwM2MzM2M0OTM2ZmQ0MjNjMmExMTgwYjJkZTE0NDExNWQzZA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@golang.org", "date": "2020-05-11T17:51:21Z"}, "committer": {"name": "Ian Lance Taylor", "email": "iant@golang.org", "date": "2020-05-11T17:51:59Z"}, "message": "libbacktrace: declare getpagesize if necessary\n\nlibbacktrace/\n\tPR libbacktrace/95012\n\t* configure.ac: Check for getpagesize declaration.\n\t* mmap.c: Declare getpagesize if necessary.\n\t* mmapio.c: Likewise.", "tree": {"sha": "acf2ecd80239085761d7f60772a6605fd1c90b77", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/acf2ecd80239085761d7f60772a6605fd1c90b77"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/47f4703c33c4936fd423c2a1180b2de144115d3d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47f4703c33c4936fd423c2a1180b2de144115d3d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47f4703c33c4936fd423c2a1180b2de144115d3d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47f4703c33c4936fd423c2a1180b2de144115d3d/comments", "author": {"login": "ianlancetaylor", "id": 3194333, "node_id": "MDQ6VXNlcjMxOTQzMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/3194333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ianlancetaylor", "html_url": "https://github.com/ianlancetaylor", "followers_url": "https://api.github.com/users/ianlancetaylor/followers", "following_url": "https://api.github.com/users/ianlancetaylor/following{/other_user}", "gists_url": "https://api.github.com/users/ianlancetaylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/ianlancetaylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ianlancetaylor/subscriptions", "organizations_url": "https://api.github.com/users/ianlancetaylor/orgs", "repos_url": "https://api.github.com/users/ianlancetaylor/repos", "events_url": "https://api.github.com/users/ianlancetaylor/events{/privacy}", "received_events_url": "https://api.github.com/users/ianlancetaylor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ianlancetaylor", "id": 3194333, "node_id": "MDQ6VXNlcjMxOTQzMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/3194333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ianlancetaylor", "html_url": "https://github.com/ianlancetaylor", "followers_url": "https://api.github.com/users/ianlancetaylor/followers", "following_url": "https://api.github.com/users/ianlancetaylor/following{/other_user}", "gists_url": "https://api.github.com/users/ianlancetaylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/ianlancetaylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ianlancetaylor/subscriptions", "organizations_url": "https://api.github.com/users/ianlancetaylor/orgs", "repos_url": "https://api.github.com/users/ianlancetaylor/repos", "events_url": "https://api.github.com/users/ianlancetaylor/events{/privacy}", "received_events_url": "https://api.github.com/users/ianlancetaylor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ed07d68141f88ba05189b748ea8935baca9b16b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed07d68141f88ba05189b748ea8935baca9b16b1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ed07d68141f88ba05189b748ea8935baca9b16b1"}], "stats": {"total": 36, "additions": 34, "deletions": 2}, "files": [{"sha": "37678526893e73d47f588005a13cd82c27f3e055", "filename": "libbacktrace/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47f4703c33c4936fd423c2a1180b2de144115d3d/libbacktrace%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47f4703c33c4936fd423c2a1180b2de144115d3d/libbacktrace%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2FChangeLog?ref=47f4703c33c4936fd423c2a1180b2de144115d3d", "patch": "@@ -1,3 +1,13 @@\n+2020-05-11  Ian Lance Taylor  <iant@golang.org>\n+\n+\tPR libbacktrace/95012\n+\t* configure.ac: Check for getpagesize declaration.\n+\t* mmap.c: Declare getpagesize if necessary.\n+\t* mmapio.c: Likewise.\n+\t* configure: Regenerate.\n+\t* config.h.in: Regenerate.\n+\t* Makefile.in: Regenerate.\n+\n 2020-05-09  Roland McGrath  <mcgrathr@google.com>\n \n \t* elf.c (elf_add): Bail early if there are no section headers at all."}, {"sha": "3fbbb05a1006b50fa398f09c5205aaece90b74da", "filename": "libbacktrace/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47f4703c33c4936fd423c2a1180b2de144115d3d/libbacktrace%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47f4703c33c4936fd423c2a1180b2de144115d3d/libbacktrace%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2FMakefile.in?ref=47f4703c33c4936fd423c2a1180b2de144115d3d", "patch": "@@ -2266,7 +2266,7 @@ uninstall-am:\n \n \n @HAVE_DSYMUTIL_TRUE@%.dSYM: %\n-@HAVE_DSYMUTIL_TRUE@\t$(DSYMUTIL) %<\n+@HAVE_DSYMUTIL_TRUE@\t$(DSYMUTIL) $<\n \n @HAVE_ELF_TRUE@@HAVE_OBJCOPY_DEBUGLINK_TRUE@@NATIVE_TRUE@elf_for_test.c: elf.c\n @HAVE_ELF_TRUE@@HAVE_OBJCOPY_DEBUGLINK_TRUE@@NATIVE_TRUE@\tSEARCH='^#define SYSTEM_BUILD_ID_DIR.*$$'; \\"}, {"sha": "2303880b9b871591811893e64ddb3137dda2376b", "filename": "libbacktrace/config.h.in", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47f4703c33c4936fd423c2a1180b2de144115d3d/libbacktrace%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47f4703c33c4936fd423c2a1180b2de144115d3d/libbacktrace%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2Fconfig.h.in?ref=47f4703c33c4936fd423c2a1180b2de144115d3d", "patch": "@@ -12,6 +12,10 @@\n /* Define to 1 if you have the `clock_gettime' function. */\n #undef HAVE_CLOCK_GETTIME\n \n+/* Define to 1 if you have the declaration of `getpagesize', and to 0 if you\n+   don't. */\n+#undef HAVE_DECL_GETPAGESIZE\n+\n /* Define to 1 if you have the declaration of `strnlen', and to 0 if you\n    don't. */\n #undef HAVE_DECL_STRNLEN"}, {"sha": "f6e35c2edee824091f2abec204a4e5df6d5c7212", "filename": "libbacktrace/configure", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47f4703c33c4936fd423c2a1180b2de144115d3d/libbacktrace%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47f4703c33c4936fd423c2a1180b2de144115d3d/libbacktrace%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2Fconfigure?ref=47f4703c33c4936fd423c2a1180b2de144115d3d", "patch": "@@ -13166,6 +13166,16 @@ fi\n cat >>confdefs.h <<_ACEOF\n #define HAVE_DECL_STRNLEN $ac_have_decl\n _ACEOF\n+ac_fn_c_check_decl \"$LINENO\" \"getpagesize\" \"ac_cv_have_decl_getpagesize\" \"$ac_includes_default\"\n+if test \"x$ac_cv_have_decl_getpagesize\" = xyes; then :\n+  ac_have_decl=1\n+else\n+  ac_have_decl=0\n+fi\n+\n+cat >>confdefs.h <<_ACEOF\n+#define HAVE_DECL_GETPAGESIZE $ac_have_decl\n+_ACEOF\n \n for ac_func in lstat readlink\n do :"}, {"sha": "7c073facbd8ded7b25d7c2d3c3ebece42184b336", "filename": "libbacktrace/configure.ac", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47f4703c33c4936fd423c2a1180b2de144115d3d/libbacktrace%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47f4703c33c4936fd423c2a1180b2de144115d3d/libbacktrace%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2Fconfigure.ac?ref=47f4703c33c4936fd423c2a1180b2de144115d3d", "patch": "@@ -376,7 +376,7 @@ if test \"$have_fcntl\" = \"yes\"; then\n \t    [Define to 1 if you have the fcntl function])\n fi\n \n-AC_CHECK_DECLS(strnlen)\n+AC_CHECK_DECLS([strnlen, getpagesize])\n AC_CHECK_FUNCS(lstat readlink)\n \n # Check for getexecname function."}, {"sha": "6c8bd5d4a194019051933a8235034bfc9050a068", "filename": "libbacktrace/mmap.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47f4703c33c4936fd423c2a1180b2de144115d3d/libbacktrace%2Fmmap.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47f4703c33c4936fd423c2a1180b2de144115d3d/libbacktrace%2Fmmap.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2Fmmap.c?ref=47f4703c33c4936fd423c2a1180b2de144115d3d", "patch": "@@ -42,6 +42,10 @@ POSSIBILITY OF SUCH DAMAGE.  */\n #include \"backtrace.h\"\n #include \"internal.h\"\n \n+#ifndef HAVE_DECL_GETPAGESIZE\n+extern int getpagesize (void);\n+#endif\n+\n /* Memory allocation on systems that provide anonymous mmap.  This\n    permits the backtrace functions to be invoked from a signal\n    handler, assuming that mmap is async-signal safe.  */"}, {"sha": "69cd8065a494ebac43f6b362560415de619486ee", "filename": "libbacktrace/mmapio.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47f4703c33c4936fd423c2a1180b2de144115d3d/libbacktrace%2Fmmapio.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47f4703c33c4936fd423c2a1180b2de144115d3d/libbacktrace%2Fmmapio.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2Fmmapio.c?ref=47f4703c33c4936fd423c2a1180b2de144115d3d", "patch": "@@ -40,6 +40,10 @@ POSSIBILITY OF SUCH DAMAGE.  */\n #include \"backtrace.h\"\n #include \"internal.h\"\n \n+#ifndef HAVE_DECL_GETPAGESIZE\n+extern int getpagesize (void);\n+#endif\n+\n #ifndef MAP_FAILED\n #define MAP_FAILED ((void *)-1)\n #endif"}]}