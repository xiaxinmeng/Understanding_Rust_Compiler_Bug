{"sha": "ba18e4dbfc7e018c9b313cfc3fea93592880bc41", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmExOGU0ZGJmYzdlMDE4YzliMzEzY2ZjM2ZlYTkzNTkyODgwYmM0MQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2004-06-11T18:14:52Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2004-06-11T18:14:52Z"}, "message": "re PR c++/15862 ('enum yn' fails)\n\n\tPR c++/15862\n\t* name-lookup.c (unqualified_namespace_lookup): Do not ignore type\n\tbindings for undeclared built-ins.\n\n\tPR c++/15862\n\t* g++.dg/parse/enum1.C: New test.\n\nFrom-SVN: r82986", "tree": {"sha": "3a88e5e64afa9c690c328f36beb93348389ef616", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3a88e5e64afa9c690c328f36beb93348389ef616"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ba18e4dbfc7e018c9b313cfc3fea93592880bc41", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba18e4dbfc7e018c9b313cfc3fea93592880bc41", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ba18e4dbfc7e018c9b313cfc3fea93592880bc41", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba18e4dbfc7e018c9b313cfc3fea93592880bc41/comments", "author": null, "committer": null, "parents": [{"sha": "e6ff425c0064f00c28315bdfa2624f556af17a2e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6ff425c0064f00c28315bdfa2624f556af17a2e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e6ff425c0064f00c28315bdfa2624f556af17a2e"}], "stats": {"total": 36, "additions": 26, "deletions": 10}, "files": [{"sha": "4b4e42c95c944831acde4c52fa0c81082782a248", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba18e4dbfc7e018c9b313cfc3fea93592880bc41/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba18e4dbfc7e018c9b313cfc3fea93592880bc41/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=ba18e4dbfc7e018c9b313cfc3fea93592880bc41", "patch": "@@ -1,3 +1,9 @@\n+2004-06-11  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR c++/15862\n+\t* name-lookup.c (unqualified_namespace_lookup): Do not ignore type\n+\tbindings for undeclared built-ins.\n+\n 2004-06-11  Giovanni Bajo  <giovannibajo@gcc.gnu.org>\n \n \t* typeck2.c (abstract_virtual_errors): Reword diagnostics, make them"}, {"sha": "d470251d3170eb621d82c2d0cc67f12181a5fbbf", "filename": "gcc/cp/name-lookup.c", "status": "modified", "additions": 11, "deletions": 10, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba18e4dbfc7e018c9b313cfc3fea93592880bc41/gcc%2Fcp%2Fname-lookup.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba18e4dbfc7e018c9b313cfc3fea93592880bc41/gcc%2Fcp%2Fname-lookup.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fname-lookup.c?ref=ba18e4dbfc7e018c9b313cfc3fea93592880bc41", "patch": "@@ -3761,16 +3761,17 @@ unqualified_namespace_lookup (tree name, int flags)\n       cxx_binding *b =\n          cxx_scope_find_binding_for_name (NAMESPACE_LEVEL (scope), name);\n \n-      /* Ignore anticipated built-in functions.  */\n-      if (b && b->value && DECL_P (b->value)\n-          && DECL_LANG_SPECIFIC (b->value) && DECL_ANTICIPATED (b->value))\n-        /* Keep binding cleared.  */;\n-      else if (b)\n-        {\n-          /* Initialize binding for this context.  */\n-          binding.value = b->value;\n-          binding.type = b->type;\n-        }\n+      if (b)\n+\t{\n+\t  if (b->value && DECL_P (b->value)\n+\t      && DECL_LANG_SPECIFIC (b->value) \n+\t      && DECL_ANTICIPATED (b->value))\n+\t    /* Ignore anticipated built-in functions.  */\n+\t    ;\n+\t  else\n+\t    binding.value = b->value;\n+\t  binding.type = b->type;\n+\t}\n \n       /* Add all _DECLs seen through local using-directives.  */\n       for (level = current_binding_level;"}, {"sha": "8fc34ba9d6840c3aca94c99c644cc1e067b7a10f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba18e4dbfc7e018c9b313cfc3fea93592880bc41/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba18e4dbfc7e018c9b313cfc3fea93592880bc41/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ba18e4dbfc7e018c9b313cfc3fea93592880bc41", "patch": "@@ -1,3 +1,8 @@\n+2004-06-11  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR c++/15862\n+\t* g++.dg/parse/enum1.C: New test.\n+\n 2004-06-10  Jeff Law  <law@redhat.com>\n \n \t* gcc.c-torture/compile/20040610-1.c: New test."}, {"sha": "d5c5f8688c8c61e8baf47c1e7948e3da468cca49", "filename": "gcc/testsuite/g++.dg/parse/enum1.C", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba18e4dbfc7e018c9b313cfc3fea93592880bc41/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fenum1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba18e4dbfc7e018c9b313cfc3fea93592880bc41/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fenum1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fenum1.C?ref=ba18e4dbfc7e018c9b313cfc3fea93592880bc41", "patch": "@@ -0,0 +1,4 @@\n+// PR c++/15862\n+\n+enum yn { Y, N };\n+enum yn x = Y;"}]}