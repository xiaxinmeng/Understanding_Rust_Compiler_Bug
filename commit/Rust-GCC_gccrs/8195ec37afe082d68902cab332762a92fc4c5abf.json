{"sha": "8195ec37afe082d68902cab332762a92fc4c5abf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODE5NWVjMzdhZmUwODJkNjg5MDJjYWIzMzI3NjJhOTJmYzRjNWFiZg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1997-07-01T15:16:38Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1997-07-01T15:16:38Z"}, "message": "Restore directory after copy.  Fix abs in math.h.\n\nFrom-SVN: r14365", "tree": {"sha": "2480299d037e1104edab21beb110dd38616b5fbd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2480299d037e1104edab21beb110dd38616b5fbd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8195ec37afe082d68902cab332762a92fc4c5abf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8195ec37afe082d68902cab332762a92fc4c5abf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8195ec37afe082d68902cab332762a92fc4c5abf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8195ec37afe082d68902cab332762a92fc4c5abf/comments", "author": null, "committer": null, "parents": [{"sha": "7cd5235bad7e352c5364dcdac82bf123d42aa154", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7cd5235bad7e352c5364dcdac82bf123d42aa154", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7cd5235bad7e352c5364dcdac82bf123d42aa154"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "ead82984b58c2d96a6069584435d4562c44a53be", "filename": "gcc/fixinc.sco", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8195ec37afe082d68902cab332762a92fc4c5abf/gcc%2Ffixinc.sco", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8195ec37afe082d68902cab332762a92fc4c5abf/gcc%2Ffixinc.sco", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc.sco?ref=8195ec37afe082d68902cab332762a92fc4c5abf", "patch": "@@ -171,6 +171,9 @@ while [ $# != 0 ]; do\n   shift; shift\n done\n \n+# We shouldn't stay in the directory we just copied.\n+cd ${INPUT}\n+\n # Fix first broken decl of getcwd present on some svr4 systems.\n \n file=stdlib.h\n@@ -297,6 +300,10 @@ fi\n # the class exception defined in the C++ file std/stdexcept.h.  We\n # redefine it to __math_exception.  This is not a great fix, but I\n # haven't been able to think of anything better.\n+#\n+# OpenServer's math.h declares abs as inline int abs...  Unfortunately,\n+# we blow over that one (with C++ linkage) and stick a new one in stdlib.h\n+# with C linkage.   So we eat the one out of math.h.\n file=math.h\n base=`basename $file`\n if [ -r ${LIB}/$file ]; then\n@@ -317,7 +324,9 @@ if [ \\! -z \"$file_to_fix\" ]; then\n       -e '/struct exception/a\\\n #ifdef __cplusplus\\\n #undef exception\\\n-#endif' $file_to_fix > /tmp/$base\n+#endif' \\\n+      -e 's@inline int abs(int [a-z][a-z]*) {.*}@extern \"C\" int abs(int);@' \\\n+ $file_to_fix > /tmp/$base\n   if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n     true\n   else"}]}