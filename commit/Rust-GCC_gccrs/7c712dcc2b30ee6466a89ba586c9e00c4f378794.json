{"sha": "7c712dcc2b30ee6466a89ba586c9e00c4f378794", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2M3MTJkY2MyYjMwZWU2NDY2YTg5YmE1ODZjOWUwMGM0ZjM3ODc5NA==", "commit": {"author": {"name": "Loren J. Rittle", "email": "ljrittle@gcc.gnu.org", "date": "2003-01-31T21:59:38Z"}, "committer": {"name": "Loren J. Rittle", "email": "ljrittle@gcc.gnu.org", "date": "2003-01-31T21:59:38Z"}, "message": "re PR target/9506 (ABI breakage: structure return)\n\n\tPR c/9506\n\t* i386.c (override_options): Use DEFAULT_PCC_STRUCT_RETURN.\n\t* gcc.dg/struct-ret-libc.c: New test.\n\nFrom-SVN: r62204", "tree": {"sha": "f983552ee2d95d407edce08e7d327f4970aea0e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f983552ee2d95d407edce08e7d327f4970aea0e0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7c712dcc2b30ee6466a89ba586c9e00c4f378794", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c712dcc2b30ee6466a89ba586c9e00c4f378794", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c712dcc2b30ee6466a89ba586c9e00c4f378794", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c712dcc2b30ee6466a89ba586c9e00c4f378794/comments", "author": null, "committer": null, "parents": [{"sha": "072b0db2e39f37adce028d165429ce6fec61e0da", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/072b0db2e39f37adce028d165429ce6fec61e0da", "html_url": "https://github.com/Rust-GCC/gccrs/commit/072b0db2e39f37adce028d165429ce6fec61e0da"}], "stats": {"total": 27, "additions": 26, "deletions": 1}, "files": [{"sha": "1fa403806a662dfe247ec390df0e0ed0e7b707ef", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c712dcc2b30ee6466a89ba586c9e00c4f378794/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c712dcc2b30ee6466a89ba586c9e00c4f378794/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7c712dcc2b30ee6466a89ba586c9e00c4f378794", "patch": "@@ -1,3 +1,12 @@\n+2003-01-31  Jan Hubicka  <jh@suse.cz>\n+\n+\tPR c/9506\n+\t* i386.c (override_options): Use DEFAULT_PCC_STRUCT_RETURN.\n+\n+2003-01-31  Loren J. Rittle <ljrittle@acm.org>\n+\n+\t* gcc.dg/struct-ret-libc.c: New test.\n+\n 2003-01-31  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n \n \t* pa32-regs.h (REGNO_REG_CLASS, REG_CLASS_FROM_LETTER): Delete"}, {"sha": "d70054b069cf9bd5e9eb66ea7ae18a880ebe7d27", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c712dcc2b30ee6466a89ba586c9e00c4f378794/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c712dcc2b30ee6466a89ba586c9e00c4f378794/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=7c712dcc2b30ee6466a89ba586c9e00c4f378794", "patch": "@@ -1118,7 +1118,7 @@ override_options ()\n       if (flag_asynchronous_unwind_tables == 2)\n \tflag_asynchronous_unwind_tables = 0;\n       if (flag_pcc_struct_return == 2)\n-\tflag_pcc_struct_return = 1;\n+\tflag_pcc_struct_return = DEFAULT_PCC_STRUCT_RETURN;\n     }\n \n #ifdef SUBTARGET_OVERRIDE_OPTIONS"}, {"sha": "723e1cd029bc51cb8f5bad57409f04d7e3b9f5a0", "filename": "gcc/testsuite/gcc.dg/struct-ret-libc.c", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c712dcc2b30ee6466a89ba586c9e00c4f378794/gcc%2Ftestsuite%2Fgcc.dg%2Fstruct-ret-libc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c712dcc2b30ee6466a89ba586c9e00c4f378794/gcc%2Ftestsuite%2Fgcc.dg%2Fstruct-ret-libc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fstruct-ret-libc.c?ref=7c712dcc2b30ee6466a89ba586c9e00c4f378794", "patch": "@@ -0,0 +1,16 @@\n+/* Test evolved from source from Simona Perri <perri@mat.unical.it>\n+   and Gerald Pfeifer<pfeifer@dbai.tuwien.ac.at>.\n+\n+   Copyright (C) 2003 Free Software Foundation  */\n+\n+/* { dg-do run } */\n+\n+#include <stdlib.h>\n+\n+int main ()\n+{\n+  div_t d = div (20, 5);\n+  if ((d.quot != 4) || (d.rem))\n+    abort ();\n+  exit (0);\n+}"}]}