{"sha": "748c5114543cb803cdb494105510217046d20513", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzQ4YzUxMTQ1NDNjYjgwM2NkYjQ5NDEwNTUxMDIxNzA0NmQyMDUxMw==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2011-10-18T11:44:15Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2011-10-18T11:44:15Z"}, "message": "re PR tree-optimization/50767 (ICE: in refs_may_alias_p_1, at tree-ssa-alias.c:1004 with -O2 -fno-tree-copy-prop -fno-tree-dominator-opts)\n\n2011-10-18  Richard Guenther  <rguenther@suse.de>\n\n\tPR tree-optimization/50767\n\t* tree-ssa-pre.c (create_expression_by_pieces): Update the\n\tfolded statement.\n\n\t* gcc.dg/torture/pr50767.c: New testcase.\n\nFrom-SVN: r180134", "tree": {"sha": "847629880f509227c06859b1e00e05e1245cf5e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/847629880f509227c06859b1e00e05e1245cf5e0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/748c5114543cb803cdb494105510217046d20513", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/748c5114543cb803cdb494105510217046d20513", "html_url": "https://github.com/Rust-GCC/gccrs/commit/748c5114543cb803cdb494105510217046d20513", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/748c5114543cb803cdb494105510217046d20513/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "5b6b2942cd75a2dec7bd0d2fb15ffd3a517a1427", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b6b2942cd75a2dec7bd0d2fb15ffd3a517a1427", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5b6b2942cd75a2dec7bd0d2fb15ffd3a517a1427"}], "stats": {"total": 35, "additions": 34, "deletions": 1}, "files": [{"sha": "d026022fadb150bbddf0eb1fe79820dd95449236", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/748c5114543cb803cdb494105510217046d20513/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/748c5114543cb803cdb494105510217046d20513/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=748c5114543cb803cdb494105510217046d20513", "patch": "@@ -1,3 +1,9 @@\n+2011-10-18  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR tree-optimization/50767\n+\t* tree-ssa-pre.c (create_expression_by_pieces): Update the\n+\tfolded statement.\n+\n 2011-10-18  Julian Brown  <julian@codesourcery.com>\n \n \t* config/arm/arm.c (arm_block_move_unaligned_straight)"}, {"sha": "411f63e8c43dfedd0456d78c3af4579ccc663c16", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/748c5114543cb803cdb494105510217046d20513/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/748c5114543cb803cdb494105510217046d20513/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=748c5114543cb803cdb494105510217046d20513", "patch": "@@ -1,3 +1,8 @@\n+2011-10-18  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR tree-optimization/50767\n+\t* gcc.dg/torture/pr50767.c: New testcase.\n+\n 2011-10-18  Julian Brown  <julian@codesourcery.com>\n \n \t* lib/target-supports.exp (check_effective_target_arm_unaligned): New."}, {"sha": "96ab72ebd7bccf456bbca787e9c76385e0783099", "filename": "gcc/testsuite/gcc.dg/torture/pr50767.c", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/748c5114543cb803cdb494105510217046d20513/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr50767.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/748c5114543cb803cdb494105510217046d20513/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr50767.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr50767.c?ref=748c5114543cb803cdb494105510217046d20513", "patch": "@@ -0,0 +1,21 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-fno-tree-copy-prop -fno-tree-dominator-opts\" } */\n+\n+struct S\n+{\n+  struct S *s;\n+};\n+\n+static struct S *ss;\n+struct S *s;\n+\n+void bar(void);\n+\n+void foo(void)\n+{\n+  for (;;)\n+    {\n+      s->s = ss;\n+      bar ();\n+    }\n+}"}, {"sha": "60ae35cef73164e8969d96efc6a48fa6cf721647", "filename": "gcc/tree-ssa-pre.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/748c5114543cb803cdb494105510217046d20513/gcc%2Ftree-ssa-pre.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/748c5114543cb803cdb494105510217046d20513/gcc%2Ftree-ssa-pre.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-pre.c?ref=748c5114543cb803cdb494105510217046d20513", "patch": "@@ -3188,7 +3188,8 @@ create_expression_by_pieces (basic_block block, pre_expr expr,\n \n   /* Fold the last statement.  */\n   gsi = gsi_last (*stmts);\n-  fold_stmt_inplace (&gsi);\n+  if (fold_stmt_inplace (&gsi))\n+    update_stmt (gsi_stmt (gsi));\n \n   /* Add a value number to the temporary.\n      The value may already exist in either NEW_SETS, or AVAIL_OUT, because"}]}