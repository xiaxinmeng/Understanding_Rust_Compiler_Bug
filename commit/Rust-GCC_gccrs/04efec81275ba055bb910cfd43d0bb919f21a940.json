{"sha": "04efec81275ba055bb910cfd43d0bb919f21a940", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDRlZmVjODEyNzViYTA1NWJiOTEwY2ZkNDNkMGJiOTE5ZjIxYTk0MA==", "commit": {"author": {"name": "David Daney", "email": "ddaney@avtrex.com", "date": "2004-09-03T17:58:52Z"}, "committer": {"name": "David Daney", "email": "daney@gcc.gnu.org", "date": "2004-09-03T17:58:52Z"}, "message": "configure.host: Use -fno-use-divide-subroutine for mips*-*-linux*.\n\n2004-09-03  David Daney  <ddaney@avtrex.com>\n\n\t* configure.host: Use -fno-use-divide-subroutine for mips*-*-linux*.\n\t* include/mips-signal.h: Added HANDLE_FPE support.\n\nFrom-SVN: r87039", "tree": {"sha": "d4e357c1b4d8c846164d59255dd303b650f0045d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d4e357c1b4d8c846164d59255dd303b650f0045d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/04efec81275ba055bb910cfd43d0bb919f21a940", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04efec81275ba055bb910cfd43d0bb919f21a940", "html_url": "https://github.com/Rust-GCC/gccrs/commit/04efec81275ba055bb910cfd43d0bb919f21a940", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04efec81275ba055bb910cfd43d0bb919f21a940/comments", "author": null, "committer": null, "parents": [{"sha": "9dec91d433ffb66758a7927576c2e8071e28d9f0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9dec91d433ffb66758a7927576c2e8071e28d9f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9dec91d433ffb66758a7927576c2e8071e28d9f0"}], "stats": {"total": 22, "additions": 20, "deletions": 2}, "files": [{"sha": "03c2fa90d489a56e388f04b637be1a742213f3f6", "filename": "libjava/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04efec81275ba055bb910cfd43d0bb919f21a940/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04efec81275ba055bb910cfd43d0bb919f21a940/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=04efec81275ba055bb910cfd43d0bb919f21a940", "patch": "@@ -1,3 +1,8 @@\n+2004-09-03  David Daney  <ddaney@avtrex.com>\n+\n+\t* configure.host: Use -fno-use-divide-subroutine for mips*-*-linux*.\n+\t* include/mips-signal.h: Added HANDLE_FPE support.\n+\t\n 2004-08-31  Michael Koch  <konqueror@gmx.de>\n \n \t* javax/swing/plaf/basic/BasicTextAreaUI.java"}, {"sha": "cbecf04106e46764b2656f47d48772686ff7ce53", "filename": "libjava/configure.host", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04efec81275ba055bb910cfd43d0bb919f21a940/libjava%2Fconfigure.host", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04efec81275ba055bb910cfd43d0bb919f21a940/libjava%2Fconfigure.host", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.host?ref=04efec81275ba055bb910cfd43d0bb919f21a940", "patch": "@@ -227,6 +227,7 @@ EOF\n   \tsysdeps_dir=mips\n   \tcan_unwind_signal=yes\n \tlibgcj_flags=\"${libgcj_flags} -mxgot\"\n+\tDIVIDESPEC=-fno-use-divide-subroutine\n \tcase \"${host}\" in\n \t    mipsel*-linux* | mipsisa32el*-linux*)\n \t\tenable_hash_synchronization_default=yes"}, {"sha": "f9d49e66ea0f5a32c5f1069a8885a1850e8df5b6", "filename": "libjava/include/mips-signal.h", "status": "modified", "additions": 14, "deletions": 2, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04efec81275ba055bb910cfd43d0bb919f21a940/libjava%2Finclude%2Fmips-signal.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04efec81275ba055bb910cfd43d0bb919f21a940/libjava%2Finclude%2Fmips-signal.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2Fmips-signal.h?ref=04efec81275ba055bb910cfd43d0bb919f21a940", "patch": "@@ -22,7 +22,7 @@ details.  */\n    sys/ucontext.h included by java-signal.h from prims.cc */\n \n #define HANDLE_SEGV 1\n-#undef HANDLE_FPE\n+#define HANDLE_FPE 1\n \n /* The third parameter to the signal handler points to something with\n  * this structure defined in asm/ucontext.h, but the name clashes with\n@@ -83,7 +83,19 @@ do                                                   \\\n     syscall (SYS_sigaction, SIGSEGV, &kact, NULL);   \\\n   }                                                  \\\n while (0)\n-\t\t\t\t\t\t\t\t\n+\n+#define INIT_FPE                                     \\\n+do                                                   \\\n+  {                                                  \\\n+    struct kernel_sigaction kact;                    \\\n+    kact.k_sa_handler = catch_fpe;                   \\\n+    kact.k_sa_flags = SA_SIGINFO | SA_NODEFER;       \\\n+    sigemptyset (&kact.k_sa_mask);                   \\\n+    syscall (SYS_sigaction, SIGFPE, &kact, NULL);    \\\n+  }                                                  \\\n+while (0)\n+\n+#undef HANDLE_DIVIDE_OVERFLOW\n \n #endif /* JAVA_SIGNAL_H */\n   "}]}