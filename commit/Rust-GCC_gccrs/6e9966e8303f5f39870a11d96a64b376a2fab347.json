{"sha": "6e9966e8303f5f39870a11d96a64b376a2fab347", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmU5OTY2ZTgzMDNmNWYzOTg3MGExMWQ5NmE2NGIzNzZhMmZhYjM0Nw==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2015-11-23T00:40:51Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2015-11-23T00:40:51Z"}, "message": "re PR fortran/52251 (Nonadvancing I/O and the t edit descriptor)\n\n2015-11-22  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libfortran/52251\n\t* io/transfer.c (formatted_transfer_scalar_write): Reset skips count.\n\t(finalize_transfer): For ADVANCE_NO, emit pending spaces and reset the\n\tskip count.\n\n2015-11-22  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\t* gfortran.dg/fmt_t_8.f90: New test.\n\nFrom-SVN: r230734", "tree": {"sha": "e5e8c746f9bcb41da40d8a8a3636e8972be8c2aa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e5e8c746f9bcb41da40d8a8a3636e8972be8c2aa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6e9966e8303f5f39870a11d96a64b376a2fab347", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e9966e8303f5f39870a11d96a64b376a2fab347", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6e9966e8303f5f39870a11d96a64b376a2fab347", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e9966e8303f5f39870a11d96a64b376a2fab347/comments", "author": null, "committer": null, "parents": [{"sha": "b9eaa775ca199b995fe1290aa012dbb9e82e8199", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b9eaa775ca199b995fe1290aa012dbb9e82e8199", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b9eaa775ca199b995fe1290aa012dbb9e82e8199"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "5c670114c74d5facdec2f4b250d824128611e71a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6e9966e8303f5f39870a11d96a64b376a2fab347/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6e9966e8303f5f39870a11d96a64b376a2fab347/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=6e9966e8303f5f39870a11d96a64b376a2fab347", "patch": "@@ -1,3 +1,7 @@\n+2015-11-22  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\t* gfortran.dg/fmt_t_8.f90: New test.\n+\n 2015-11-23  Kugan Vivekanandarajah  <kuganv@linaro.org>\n \n \tPR target/68390"}, {"sha": "d56d19bb364871d7006c5e383defe2e5d96f4960", "filename": "gcc/testsuite/gfortran.dg/fmt_t_8.f90", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6e9966e8303f5f39870a11d96a64b376a2fab347/gcc%2Ftestsuite%2Fgfortran.dg%2Ffmt_t_8.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6e9966e8303f5f39870a11d96a64b376a2fab347/gcc%2Ftestsuite%2Fgfortran.dg%2Ffmt_t_8.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Ffmt_t_8.f90?ref=6e9966e8303f5f39870a11d96a64b376a2fab347", "patch": "@@ -0,0 +1,6 @@\n+! { dg-do run }\n+! PR52251 Tabs with advance = 'no'\n+write( *, '( t25 )', advance = 'no' )\n+write( *, '( \"hello\" )' ) ! { dg-output \"                       hello(\\n|\\r\\n|\\r)\" }\n+end\n+"}, {"sha": "48db71b8df7d010687d040486c05fc039c16f0de", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6e9966e8303f5f39870a11d96a64b376a2fab347/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6e9966e8303f5f39870a11d96a64b376a2fab347/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=6e9966e8303f5f39870a11d96a64b376a2fab347", "patch": "@@ -1,3 +1,10 @@\n+2015-11-22  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libfortran/52251\n+\t* io/transfer.c (formatted_transfer_scalar_write): Reset skips count.\n+\t(finalize_transfer): For ADVANCE_NO, emit pending spaces and reset the\n+\tskip count.\n+\n 2015-11-22  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \t* io/write_float.def (output_float): Move block determining"}, {"sha": "94f1edaa67970b926632ec2ba7eb1cf57b829a42", "filename": "libgfortran/io/transfer.c", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6e9966e8303f5f39870a11d96a64b376a2fab347/libgfortran%2Fio%2Ftransfer.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6e9966e8303f5f39870a11d96a64b376a2fab347/libgfortran%2Fio%2Ftransfer.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Ftransfer.c?ref=6e9966e8303f5f39870a11d96a64b376a2fab347", "patch": "@@ -1641,6 +1641,7 @@ formatted_transfer_scalar_write (st_parameter_dt *dtp, bt type, void *p, int kin\n \t\t\t  - dtp->u.p.current_unit->bytes_left);\n \t      dtp->u.p.max_pos = \n \t\tdtp->u.p.max_pos > tmp ? dtp->u.p.max_pos : tmp;\n+\t      dtp->u.p.skips = 0;\n \t    }\n \t  if (dtp->u.p.skips < 0)\n \t    {\n@@ -3600,6 +3601,16 @@ finalize_transfer (st_parameter_dt *dtp)\n      next I/O operation if needed.  */\n   if (dtp->u.p.advance_status == ADVANCE_NO)\n     {\n+      if (dtp->u.p.skips > 0)\n+\t{\n+\t  int tmp;\n+\t  write_x (dtp, dtp->u.p.skips, dtp->u.p.pending_spaces);\n+\t  tmp = (int)(dtp->u.p.current_unit->recl\n+\t\t      - dtp->u.p.current_unit->bytes_left);\n+\t  dtp->u.p.max_pos = \n+\t    dtp->u.p.max_pos > tmp ? dtp->u.p.max_pos : tmp;\n+\t  dtp->u.p.skips = 0;\n+\t}\n       int bytes_written = (int) (dtp->u.p.current_unit->recl\n \t- dtp->u.p.current_unit->bytes_left);\n       dtp->u.p.current_unit->saved_pos ="}]}