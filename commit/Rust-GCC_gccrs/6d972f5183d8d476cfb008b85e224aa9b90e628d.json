{"sha": "6d972f5183d8d476cfb008b85e224aa9b90e628d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmQ5NzJmNTE4M2Q4ZDQ3NmNmYjAwOGI4NWUyMjRhYTliOTBlNjI4ZA==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@acm.org", "date": "2020-12-16T14:03:38Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@acm.org", "date": "2020-12-16T14:03:38Z"}, "message": "libcody: More dashism\n\nThere were still some dash-killing uses of +=.  Fixed thusly.\n\n\t* config.m4: Replace V+=\"...\" with V=\"$V...\"\n\t* configure: Rebuilt.", "tree": {"sha": "c191d93d7bd19ec0e0c0178a5fdb6dbbbaea6346", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c191d93d7bd19ec0e0c0178a5fdb6dbbbaea6346"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6d972f5183d8d476cfb008b85e224aa9b90e628d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d972f5183d8d476cfb008b85e224aa9b90e628d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d972f5183d8d476cfb008b85e224aa9b90e628d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d972f5183d8d476cfb008b85e224aa9b90e628d/comments", "author": {"login": "urnathan", "id": 13103001, "node_id": "MDQ6VXNlcjEzMTAzMDAx", "avatar_url": "https://avatars.githubusercontent.com/u/13103001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/urnathan", "html_url": "https://github.com/urnathan", "followers_url": "https://api.github.com/users/urnathan/followers", "following_url": "https://api.github.com/users/urnathan/following{/other_user}", "gists_url": "https://api.github.com/users/urnathan/gists{/gist_id}", "starred_url": "https://api.github.com/users/urnathan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/urnathan/subscriptions", "organizations_url": "https://api.github.com/users/urnathan/orgs", "repos_url": "https://api.github.com/users/urnathan/repos", "events_url": "https://api.github.com/users/urnathan/events{/privacy}", "received_events_url": "https://api.github.com/users/urnathan/received_events", "type": "User", "site_admin": false}, "committer": {"login": "urnathan", "id": 13103001, "node_id": "MDQ6VXNlcjEzMTAzMDAx", "avatar_url": "https://avatars.githubusercontent.com/u/13103001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/urnathan", "html_url": "https://github.com/urnathan", "followers_url": "https://api.github.com/users/urnathan/followers", "following_url": "https://api.github.com/users/urnathan/following{/other_user}", "gists_url": "https://api.github.com/users/urnathan/gists{/gist_id}", "starred_url": "https://api.github.com/users/urnathan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/urnathan/subscriptions", "organizations_url": "https://api.github.com/users/urnathan/orgs", "repos_url": "https://api.github.com/users/urnathan/repos", "events_url": "https://api.github.com/users/urnathan/events{/privacy}", "received_events_url": "https://api.github.com/users/urnathan/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c1ea7c68ef35d24c6264c203e04f9eb9c47a0cf6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1ea7c68ef35d24c6264c203e04f9eb9c47a0cf6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c1ea7c68ef35d24c6264c203e04f9eb9c47a0cf6"}], "stats": {"total": 30, "additions": 16, "deletions": 14}, "files": [{"sha": "ce5e84d0278b06a69eeb18ed20a94cbad5002b29", "filename": "libcody/config.m4", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6d972f5183d8d476cfb008b85e224aa9b90e628d/libcody%2Fconfig.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6d972f5183d8d476cfb008b85e224aa9b90e628d/libcody%2Fconfig.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcody%2Fconfig.m4?ref=6d972f5183d8d476cfb008b85e224aa9b90e628d", "patch": "@@ -2,6 +2,8 @@\n # Copyright (C) 2020 Nathan Sidwell, nathan@acm.org\n # License: Apache v2.0\n \n+# Note: VAR+=... is not dashing, despite its looks\n+\n AC_DEFUN([NMS_NOT_IN_SOURCE],\n [if test -e configure ; then\n AC_MSG_ERROR([Do not build in the source tree.  Reasons])\n@@ -28,14 +30,13 @@ fi])\n \n AC_DEFUN([NMS_TOOL_DIRS],\n [if test \"$tools\" && test -d \"$tools/include\" ; then\n-  CXX+=\" -I$tools/include\"\n+  CXX=\"$CXX -I$tools/include\"\n fi\n if test \"$tools\" && test -d \"$tools/lib\" ; then\n   toollib=\"$tools/lib\"\n   if os=$(CXX -print-multi-os-directory 2>/dev/null) ; then\n-    toollib+=\"/${os}\"\n+    toollib=\"$toollib/${os}\"\n   fi\n-  ## VAR+=... is not dashing\n   LDFLAGS=\"$LDFLAGS -L $toollib\"\n   unset toollib\n fi])\n@@ -86,7 +87,7 @@ AC_COMPILE_IFELSE([AC_LANG_PROGRAM([\n ]])],\n [AC_MSG_RESULT([yes])],\n [CXX_ORIG=\"$CXX\"\n-CXX+=\" -std=c++11\"\n+CXX=\"$CXX -std=c++11\"\n AC_COMPILE_IFELSE([AC_LANG_PROGRAM([\n [#if __cplusplus != 201103\n #error \"C++11 is required\"\n@@ -112,7 +113,7 @@ AC_COMPILE_IFELSE([AC_LANG_PROGRAM([\n #endif\n ]])],\n [AC_MSG_RESULT([yes])],\n-[CXX+=\" -std=c++20\"\n+[CXX=\"$CXX -std=c++20\"\n AC_COMPILE_IFELSE([AC_LANG_PROGRAM([\n [#if __cplusplus <= 201703\n #error \"C++20 is required\"\n@@ -248,7 +249,7 @@ if test \"${enable_backtrace:-maybe}\" != no ; then\n     AC_CHECK_HEADERS([demangle.h libiberty/demangle.h],[break])\n     # libbfd prevents distribution because of licensing\n     AC_CHECK_HEADERS([bfd.h])\n-    AC_SEARCH_LIBS([bfd_openr],[bfd],[LIBS+=\"-lz -liberty -ldl\"],,[-lz -liberty -ldl])\n+    AC_SEARCH_LIBS([bfd_openr],[bfd],[LIBS=\"$LIBS -lz -liberty -ldl\"],,[-lz -liberty -ldl])\n   fi\n   if test \"$ac_cv_func_backtrace\" = yes ; then\n     nms_backtrace=yes\n@@ -272,8 +273,8 @@ for generated in config.h.in configure ; do\n done\n for dir in . $SUBDIRS\n do\n-  CONFIG_FILES+=\" $dir/Makesub\"\n-  test -f ${srcdir}/$dir/tests/Makesub.in && CONFIG_FILES+=\" $dir/tests/Makesub\"\n+  CONFIG_FILES=\"$CONFIG_FILES $dir/Makesub\"\n+  test -f ${srcdir}/$dir/tests/Makesub.in && CONFIG_FILES=\"$CONFIG_FILES $dir/tests/Makesub\"\n done\n AC_CONFIG_FILES([$CONFIG_FILES])\n AC_SUBST(configure_args,[$ac_configure_args])"}, {"sha": "4cc03dcaa3aa03f72f406a634b416794e6a6fd7e", "filename": "libcody/configure", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6d972f5183d8d476cfb008b85e224aa9b90e628d/libcody%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6d972f5183d8d476cfb008b85e224aa9b90e628d/libcody%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcody%2Fconfigure?ref=6d972f5183d8d476cfb008b85e224aa9b90e628d", "patch": "@@ -1824,6 +1824,8 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n # Copyright (C) 2020 Nathan Sidwell, nathan@acm.org\n # License: Apache v2.0\n \n+# Note: VAR+=... is not dashing, despite its looks\n+\n \n \n # thanks to Zack Weinberg for fixing this!\n@@ -2574,7 +2576,7 @@ if ac_fn_cxx_try_compile \"$LINENO\"; then :\n $as_echo \"yes\" >&6; }\n else\n   CXX_ORIG=\"$CXX\"\n-CXX+=\" -std=c++11\"\n+CXX=\"$CXX -std=c++11\"\n cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n \n@@ -2625,14 +2627,13 @@ unset CXX_ORIG\n fi\n rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n if test \"$tools\" && test -d \"$tools/include\" ; then\n-  CXX+=\" -I$tools/include\"\n+  CXX=\"$CXX -I$tools/include\"\n fi\n if test \"$tools\" && test -d \"$tools/lib\" ; then\n   toollib=\"$tools/lib\"\n   if os=$(CXX -print-multi-os-directory 2>/dev/null) ; then\n-    toollib+=\"/${os}\"\n+    toollib=\"$toollib/${os}\"\n   fi\n-  ## VAR+=... is not dashing\n   LDFLAGS=\"$LDFLAGS -L $toollib\"\n   unset toollib\n fi\n@@ -2671,8 +2672,8 @@ for generated in config.h.in configure ; do\n done\n for dir in . $SUBDIRS\n do\n-  CONFIG_FILES+=\" $dir/Makesub\"\n-  test -f ${srcdir}/$dir/tests/Makesub.in && CONFIG_FILES+=\" $dir/tests/Makesub\"\n+  CONFIG_FILES=\"$CONFIG_FILES $dir/Makesub\"\n+  test -f ${srcdir}/$dir/tests/Makesub.in && CONFIG_FILES=\"$CONFIG_FILES $dir/tests/Makesub\"\n done\n ac_config_files=\"$ac_config_files $CONFIG_FILES\"\n "}]}