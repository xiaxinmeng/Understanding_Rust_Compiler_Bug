{"sha": "0f64d96d93ce2fb7b7e5cd174c17e903f66c4a1e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGY2NGQ5NmQ5M2NlMmZiN2I3ZTVjZDE3NGMxN2U5MDNmNjZjNGExZQ==", "commit": {"author": {"name": "Alan Modra", "email": "amodra@gmail.com", "date": "2019-01-11T18:44:00Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2019-01-11T18:44:00Z"}, "message": "re PR target/88777 (Out-of-range offsets building glibc test-tgmath2.c for hppa-linux-gnu)\n\n\tPR 88777\n\tPR 88614\n\t* genattrtab.c (min_fn): Don't translate values.\n\t(min_attr_value): Return INT_MAX when the value can't be calculated.\n\tReturn minimum among any values that can be calculated.\n\t(max_attr_value): Adjust.\n\nFrom-SVN: r267851", "tree": {"sha": "1f70bad1a25fd45d5d5f1e97b7ac0d87c17be5b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1f70bad1a25fd45d5d5f1e97b7ac0d87c17be5b9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0f64d96d93ce2fb7b7e5cd174c17e903f66c4a1e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f64d96d93ce2fb7b7e5cd174c17e903f66c4a1e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f64d96d93ce2fb7b7e5cd174c17e903f66c4a1e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f64d96d93ce2fb7b7e5cd174c17e903f66c4a1e/comments", "author": {"login": "amodra", "id": 6006325, "node_id": "MDQ6VXNlcjYwMDYzMjU=", "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amodra", "html_url": "https://github.com/amodra", "followers_url": "https://api.github.com/users/amodra/followers", "following_url": "https://api.github.com/users/amodra/following{/other_user}", "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}", "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amodra/subscriptions", "organizations_url": "https://api.github.com/users/amodra/orgs", "repos_url": "https://api.github.com/users/amodra/repos", "events_url": "https://api.github.com/users/amodra/events{/privacy}", "received_events_url": "https://api.github.com/users/amodra/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e173500e5360e2cf27b737660a1bb9918bfc9276", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e173500e5360e2cf27b737660a1bb9918bfc9276", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e173500e5360e2cf27b737660a1bb9918bfc9276"}], "stats": {"total": 51, "additions": 29, "deletions": 22}, "files": [{"sha": "cab2430e1f900e60673e68ba39a2410c7e2aff15", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f64d96d93ce2fb7b7e5cd174c17e903f66c4a1e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f64d96d93ce2fb7b7e5cd174c17e903f66c4a1e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0f64d96d93ce2fb7b7e5cd174c17e903f66c4a1e", "patch": "@@ -1,3 +1,12 @@\n+2019-01-11  Alan Modra  <amodra@gmail.com>\n+\n+\tPR 88777\n+\tPR 88614\n+\t* genattrtab.c (min_fn): Don't translate values.\n+\t(min_attr_value): Return INT_MAX when the value can't be calculated.\n+\tReturn minimum among any values that can be calculated.\n+\t(max_attr_value): Adjust.\n+\n 2019-01-11  Jakub Jelinek  <jakub@redhat.com>\n \n \t* Makefile.in (PLUGIN_HEADERS): Add $(INSN_ATTR_H)."}, {"sha": "78816ba317946ca346c532fb64ed0d9b4928d3fe", "filename": "gcc/genattrtab.c", "status": "modified", "additions": 20, "deletions": 22, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f64d96d93ce2fb7b7e5cd174c17e903f66c4a1e/gcc%2Fgenattrtab.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f64d96d93ce2fb7b7e5cd174c17e903f66c4a1e/gcc%2Fgenattrtab.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgenattrtab.c?ref=0f64d96d93ce2fb7b7e5cd174c17e903f66c4a1e", "patch": "@@ -1556,10 +1556,7 @@ max_fn (rtx exp)\n static rtx\n min_fn (rtx exp)\n {\n-  int val = min_attr_value (exp);\n-  if (val < 0)\n-    val = INT_MAX;\n-  return make_numeric_value (val);\n+  return make_numeric_value (min_attr_value (exp));\n }\n \n static void\n@@ -3786,11 +3783,10 @@ max_attr_value (rtx exp)\n       current_max = max_attr_value (XEXP (exp, 0));\n       if (current_max != INT_MAX)\n \t{\n-\t  n = min_attr_value (XEXP (exp, 1));\n-\t  if (n == INT_MIN)\n-\t    current_max = INT_MAX;\n-\t  else\n-\t    current_max -= n;\n+\t  n = current_max;\n+\t  current_max = min_attr_value (XEXP (exp, 1));\n+\t  if (current_max != INT_MAX)\n+\t    current_max = n - current_max;\n \t}\n       break;\n \n@@ -3831,8 +3827,11 @@ max_attr_value (rtx exp)\n }\n \n /* Given an attribute value expression, return the minimum value that\n-   might be evaluated.  Return INT_MIN if the value can't be\n-   calculated by this function.  */\n+   might be evaluated.  Return INT_MAX if the value can't be\n+   calculated by this function.  Note that when this function can\n+   calculate one value inside IF_THEN_ELSE or some but not all values\n+   inside COND, then it returns the minimum among those values it can\n+   calculate.  */\n \n static int\n min_attr_value (rtx exp)\n@@ -3852,34 +3851,33 @@ min_attr_value (rtx exp)\n \n     case PLUS:\n       current_min = min_attr_value (XEXP (exp, 0));\n-      if (current_min != INT_MIN)\n+      if (current_min != INT_MAX)\n \t{\n \t  n = current_min;\n \t  current_min = min_attr_value (XEXP (exp, 1));\n-\t  if (current_min != INT_MIN)\n+\t  if (current_min != INT_MAX)\n \t    current_min += n;\n \t}\n       break;\n \n     case MINUS:\n       current_min = min_attr_value (XEXP (exp, 0));\n-      if (current_min != INT_MIN)\n+      if (current_min != INT_MAX)\n \t{\n-\t  n = max_attr_value (XEXP (exp, 1));\n-\t  if (n == INT_MAX)\n-\t    current_min = INT_MIN;\n-\t  else\n-\t    current_min -= n;\n+\t  n = current_min;\n+\t  current_min = max_attr_value (XEXP (exp, 1));\n+\t  if (current_min != INT_MAX)\n+\t    current_min = n - current_min;\n \t}\n       break;\n \n     case MULT:\n       current_min = min_attr_value (XEXP (exp, 0));\n-      if (current_min != INT_MIN)\n+      if (current_min != INT_MAX)\n \t{\n \t  n = current_min;\n \t  current_min = min_attr_value (XEXP (exp, 1));\n-\t  if (current_min != INT_MIN)\n+\t  if (current_min != INT_MAX)\n \t    current_min *= n;\n \t}\n       break;\n@@ -3902,7 +3900,7 @@ min_attr_value (rtx exp)\n       break;\n \n     default:\n-      current_min = INT_MIN;\n+      current_min = INT_MAX;\n       break;\n     }\n "}]}