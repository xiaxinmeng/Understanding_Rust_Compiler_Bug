{"sha": "aa6c7c3a3a02b5518c9a1398145160ddf8df2f56", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWE2YzdjM2EzYTAyYjU1MThjOWExMzk4MTQ1MTYwZGRmOGRmMmY1Ng==", "commit": {"author": {"name": "Roger Sayle", "email": "roger@eyesopen.com", "date": "2004-06-10T19:46:03Z"}, "committer": {"name": "Roger Sayle", "email": "sayle@gcc.gnu.org", "date": "2004-06-10T19:46:03Z"}, "message": "builtins.c (expand_builtin): Fall back to library function call for conj...\n\n\n\t* builtins.c (expand_builtin): Fall back to library function call for\n\tconj, conjf, conjl, creal, crealf, creall, cimag, cimagf and cimagl.\n\t(fold_builtin_1): Lower built-ins BUILT_IN_CONJ{,F,L} to CONJ_EXPR,\n\tBUILT_IN_CREAL{,F,L} to REALPART_EXPR, and BUILT_IN_CIMAG{,F,L} to\n\tIMAGPART_EXPR respectively.\n\nFrom-SVN: r82938", "tree": {"sha": "27e962afc2c93f9a1bdca1d109ae79576073d54b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/27e962afc2c93f9a1bdca1d109ae79576073d54b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aa6c7c3a3a02b5518c9a1398145160ddf8df2f56", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa6c7c3a3a02b5518c9a1398145160ddf8df2f56", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aa6c7c3a3a02b5518c9a1398145160ddf8df2f56", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa6c7c3a3a02b5518c9a1398145160ddf8df2f56/comments", "author": null, "committer": null, "parents": [{"sha": "5a57f1b2c005ba13c7214d1d4cf8a6d882f43b59", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a57f1b2c005ba13c7214d1d4cf8a6d882f43b59", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a57f1b2c005ba13c7214d1d4cf8a6d882f43b59"}], "stats": {"total": 44, "additions": 31, "deletions": 13}, "files": [{"sha": "9bf98563d42ebd49aaa27eb8e185419e56f854f8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa6c7c3a3a02b5518c9a1398145160ddf8df2f56/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa6c7c3a3a02b5518c9a1398145160ddf8df2f56/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=aa6c7c3a3a02b5518c9a1398145160ddf8df2f56", "patch": "@@ -1,3 +1,11 @@\n+2004-06-10  Roger Sayle  <roger@eyesopen.com>\n+\n+\t* builtins.c (expand_builtin): Fall back to library function call for\n+\tconj, conjf, conjl, creal, crealf, creall, cimag, cimagf and cimagl.\n+\t(fold_builtin_1): Lower built-ins BUILT_IN_CONJ{,F,L} to CONJ_EXPR,\n+\tBUILT_IN_CREAL{,F,L} to REALPART_EXPR, and BUILT_IN_CIMAG{,F,L} to\n+\tIMAGPART_EXPR respectively.\n+\n 2004-06-10  J\"orn Rennecke <joern.rennecke@superh.com>\n \n \t* sh.c (dump_table): New argument start.  Changed caller."}, {"sha": "199900e2228f908b8623ed1bcd59a17e652038ed", "filename": "gcc/builtins.c", "status": "modified", "additions": 23, "deletions": 13, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa6c7c3a3a02b5518c9a1398145160ddf8df2f56/gcc%2Fbuiltins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa6c7c3a3a02b5518c9a1398145160ddf8df2f56/gcc%2Fbuiltins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.c?ref=aa6c7c3a3a02b5518c9a1398145160ddf8df2f56", "patch": "@@ -5656,19 +5656,6 @@ expand_builtin (tree exp, rtx target, rtx subtarget, enum machine_mode mode,\n \t}\n       break;\n \n-    case BUILT_IN_CONJ:\n-    case BUILT_IN_CONJF:\n-    case BUILT_IN_CONJL:\n-    case BUILT_IN_CREAL:\n-    case BUILT_IN_CREALF:\n-    case BUILT_IN_CREALL:\n-    case BUILT_IN_CIMAG:\n-    case BUILT_IN_CIMAGF:\n-    case BUILT_IN_CIMAGL:\n-      /* expand_tree_builtin changes these into CONJ_EXPR, REALPART_EXPR\n-\t and IMAGPART_EXPR.  */\n-      abort ();\n-\n     case BUILT_IN_EXP:\n     case BUILT_IN_EXPF:\n     case BUILT_IN_EXPL:\n@@ -7670,6 +7657,29 @@ fold_builtin_1 (tree exp)\n     case BUILT_IN_IMAXABS:\n       return fold_builtin_abs (arglist, type);\n \n+    case BUILT_IN_CONJ:\n+    case BUILT_IN_CONJF:\n+    case BUILT_IN_CONJL:\n+      if (validate_arglist (arglist, COMPLEX_TYPE, VOID_TYPE))\n+\treturn fold (build1 (CONJ_EXPR, type, TREE_VALUE (arglist)));\n+      break;\n+\n+    case BUILT_IN_CREAL:\n+    case BUILT_IN_CREALF:\n+    case BUILT_IN_CREALL:\n+      if (validate_arglist (arglist, COMPLEX_TYPE, VOID_TYPE))\n+        return non_lvalue (fold (build1 (REALPART_EXPR, type,\n+\t\t\t\t\t TREE_VALUE (arglist))));\n+      break;\n+\n+    case BUILT_IN_CIMAG:\n+    case BUILT_IN_CIMAGF:\n+    case BUILT_IN_CIMAGL:\n+      if (validate_arglist (arglist, COMPLEX_TYPE, VOID_TYPE))\n+        return non_lvalue (fold (build1 (IMAGPART_EXPR, type,\n+\t\t\t\t\t TREE_VALUE (arglist))));\n+      break;\n+\n     case BUILT_IN_CABS:\n     case BUILT_IN_CABSF:\n     case BUILT_IN_CABSL:"}]}