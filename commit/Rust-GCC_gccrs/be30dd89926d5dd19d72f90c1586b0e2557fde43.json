{"sha": "be30dd89926d5dd19d72f90c1586b0e2557fde43", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmUzMGRkODk5MjZkNWRkMTlkNzJmOTBjMTU4NmIwZTI1NTdmZGU0Mw==", "commit": {"author": {"name": "Christophe Lyon", "email": "christophe.lyon@linaro.org", "date": "2021-02-24T15:51:52Z"}, "committer": {"name": "Christophe Lyon", "email": "christophe.lyon@linaro.org", "date": "2021-02-24T16:00:21Z"}, "message": "arm: Fix CMSE support detection in libgcc (PR target/99157)\n\nAs discussed in the PR, the Makefile fragment lacks a double '$' to\nget the return-code from GCC invocation, resulting is CMSE support\nmissing from multilibs.\n\nI checked that the simple patch proposed in the PR fixes the problem.\n\n2021-02-23  Christophe Lyon  <christophe.lyon@linaro.org>\n\t    Hau Hsu  <hsuhau617@gmail.com>\n\n\tPR target/99157\n\tlibgcc/\n\t* config/arm/t-arm: Fix cmse support detection.", "tree": {"sha": "3c096327c0a20e1975048a7bda9316d8cc0ca427", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3c096327c0a20e1975048a7bda9316d8cc0ca427"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/be30dd89926d5dd19d72f90c1586b0e2557fde43", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be30dd89926d5dd19d72f90c1586b0e2557fde43", "html_url": "https://github.com/Rust-GCC/gccrs/commit/be30dd89926d5dd19d72f90c1586b0e2557fde43", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be30dd89926d5dd19d72f90c1586b0e2557fde43/comments", "author": null, "committer": null, "parents": [{"sha": "ea5a82df9ba0c9d23e386290d24fc920968a8695", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea5a82df9ba0c9d23e386290d24fc920968a8695", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea5a82df9ba0c9d23e386290d24fc920968a8695"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "3625a2590beec4e4e0e0881be9ad284c595c7190", "filename": "libgcc/config/arm/t-arm", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be30dd89926d5dd19d72f90c1586b0e2557fde43/libgcc%2Fconfig%2Farm%2Ft-arm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be30dd89926d5dd19d72f90c1586b0e2557fde43/libgcc%2Fconfig%2Farm%2Ft-arm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Farm%2Ft-arm?ref=be30dd89926d5dd19d72f90c1586b0e2557fde43", "patch": "@@ -4,7 +4,7 @@ LIB1ASMFUNCS = _thumb1_case_sqi _thumb1_case_uqi _thumb1_case_shi \\\n \n HAVE_CMSE:=$(findstring __ARM_FEATURE_CMSE,$(shell $(gcc_compile_bare) -dM -E - </dev/null))\n HAVE_V81M:=$(findstring armv8.1-m.main,$(gcc_compile_bare))\n-ifeq ($(shell $(gcc_compile_bare) -E -mcmse - </dev/null >/dev/null 2>/dev/null; echo $?),0)\n+ifeq ($(shell $(gcc_compile_bare) -E -mcmse - </dev/null >/dev/null 2>/dev/null; echo $$?),0)\n CMSE_OPTS:=-mcmse\n endif\n "}]}