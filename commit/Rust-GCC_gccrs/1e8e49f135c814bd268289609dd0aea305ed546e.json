{"sha": "1e8e49f135c814bd268289609dd0aea305ed546e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWU4ZTQ5ZjEzNWM4MTRiZDI2ODI4OTYwOWRkMGFlYTMwNWVkNTQ2ZQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@golang.org", "date": "2020-10-15T22:34:14Z"}, "committer": {"name": "Ian Lance Taylor", "email": "iant@golang.org", "date": "2020-10-15T23:25:39Z"}, "message": "compiler: don't export function type parameter names\n\nWhen hashing a function type the parameter names are ignored.\nTherefore, we should not write them into the export data.\nOtherwise, minor changes in the order in which we process the\ntypes can cause the export data to change uselessly, leading to\nunnecessary rebuilds.\n\nReviewed-on: https://go-review.googlesource.com/c/gofrontend/+/262818", "tree": {"sha": "c7a9a0681506a9b49d1d65da1d8372d4a2960f6f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c7a9a0681506a9b49d1d65da1d8372d4a2960f6f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1e8e49f135c814bd268289609dd0aea305ed546e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e8e49f135c814bd268289609dd0aea305ed546e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1e8e49f135c814bd268289609dd0aea305ed546e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e8e49f135c814bd268289609dd0aea305ed546e/comments", "author": {"login": "ianlancetaylor", "id": 3194333, "node_id": "MDQ6VXNlcjMxOTQzMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/3194333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ianlancetaylor", "html_url": "https://github.com/ianlancetaylor", "followers_url": "https://api.github.com/users/ianlancetaylor/followers", "following_url": "https://api.github.com/users/ianlancetaylor/following{/other_user}", "gists_url": "https://api.github.com/users/ianlancetaylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/ianlancetaylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ianlancetaylor/subscriptions", "organizations_url": "https://api.github.com/users/ianlancetaylor/orgs", "repos_url": "https://api.github.com/users/ianlancetaylor/repos", "events_url": "https://api.github.com/users/ianlancetaylor/events{/privacy}", "received_events_url": "https://api.github.com/users/ianlancetaylor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ianlancetaylor", "id": 3194333, "node_id": "MDQ6VXNlcjMxOTQzMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/3194333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ianlancetaylor", "html_url": "https://github.com/ianlancetaylor", "followers_url": "https://api.github.com/users/ianlancetaylor/followers", "following_url": "https://api.github.com/users/ianlancetaylor/following{/other_user}", "gists_url": "https://api.github.com/users/ianlancetaylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/ianlancetaylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ianlancetaylor/subscriptions", "organizations_url": "https://api.github.com/users/ianlancetaylor/orgs", "repos_url": "https://api.github.com/users/ianlancetaylor/repos", "events_url": "https://api.github.com/users/ianlancetaylor/events{/privacy}", "received_events_url": "https://api.github.com/users/ianlancetaylor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f33ac3b0cd9f88be8faadded88e40a511f01c32a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f33ac3b0cd9f88be8faadded88e40a511f01c32a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f33ac3b0cd9f88be8faadded88e40a511f01c32a"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "7496770f018d6ef4155c8c90a97e07a593d2d402", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e8e49f135c814bd268289609dd0aea305ed546e/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e8e49f135c814bd268289609dd0aea305ed546e/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=1e8e49f135c814bd268289609dd0aea305ed546e", "patch": "@@ -1,4 +1,4 @@\n-71e161daafa1e19c2c53e28fffc3954d88a4cdb2\n+3b6252d2d3ce559826303dac07538da6e78940d8\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "eb9c766b742bac745c724a8c4484eba9177417b2", "filename": "gcc/go/gofrontend/types.cc", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e8e49f135c814bd268289609dd0aea305ed546e/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e8e49f135c814bd268289609dd0aea305ed546e/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Ftypes.cc?ref=1e8e49f135c814bd268289609dd0aea305ed546e", "patch": "@@ -5182,7 +5182,11 @@ Function_type::do_export(Export* exp) const\n \t    first = false;\n \t  else\n \t    exp->write_c_string(\", \");\n-\t  exp->write_name(p->name());\n+\t  // The hash for a function type ignores parameter names, so\n+\t  // we don't want to write them out here.  If we did write\n+\t  // them out, we could get spurious changes in export data\n+\t  // when recompiling a package.\n+\t  exp->write_name(\"\");\n \t  exp->write_c_string(\" \");\n \t  if (!is_varargs || p + 1 != this->parameters_->end())\n \t    exp->write_type(p->type());\n@@ -5213,7 +5217,7 @@ Function_type::do_export(Export* exp) const\n \t\tfirst = false;\n \t      else\n \t\texp->write_c_string(\", \");\n-\t      exp->write_name(p->name());\n+\t      exp->write_name(\"\");\n \t      exp->write_c_string(\" \");\n \t      exp->write_type(p->type());\n \t    }"}]}