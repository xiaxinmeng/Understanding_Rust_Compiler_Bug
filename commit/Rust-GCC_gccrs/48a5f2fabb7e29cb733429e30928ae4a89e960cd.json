{"sha": "48a5f2fabb7e29cb733429e30928ae4a89e960cd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDhhNWYyZmFiYjdlMjljYjczMzQyOWUzMDkyOGFlNGE4OWU5NjBjZA==", "commit": {"author": {"name": "Daniel Jacobowitz", "email": "drow@mvista.com", "date": "2003-02-19T14:38:45Z"}, "committer": {"name": "Daniel Jacobowitz", "email": "drow@gcc.gnu.org", "date": "2003-02-19T14:38:45Z"}, "message": "expr.c (expand_expr): Use gen_int_mode for the argument to gen_rtx_MULT.\n\n\t* expr.c (expand_expr): Use gen_int_mode for the argument\n\tto gen_rtx_MULT.\n\nFrom-SVN: r63110", "tree": {"sha": "48731f2107a6ce3a518f75d46daa40a0bc6aca9b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/48731f2107a6ce3a518f75d46daa40a0bc6aca9b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/48a5f2fabb7e29cb733429e30928ae4a89e960cd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/48a5f2fabb7e29cb733429e30928ae4a89e960cd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/48a5f2fabb7e29cb733429e30928ae4a89e960cd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/48a5f2fabb7e29cb733429e30928ae4a89e960cd/comments", "author": null, "committer": null, "parents": [{"sha": "9e889775d4a5e2593244a12d06e2f0243f134dff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e889775d4a5e2593244a12d06e2f0243f134dff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e889775d4a5e2593244a12d06e2f0243f134dff"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "b73eac640788d1e095532f48c59ef467a8760395", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/48a5f2fabb7e29cb733429e30928ae4a89e960cd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/48a5f2fabb7e29cb733429e30928ae4a89e960cd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=48a5f2fabb7e29cb733429e30928ae4a89e960cd", "patch": "@@ -1,3 +1,8 @@\n+2003-02-19  Daniel Jacobowitz  <drow@mvista.com>\n+\n+\t* expr.c (expand_expr): Use gen_int_mode for the argument\n+\tto gen_rtx_MULT.\n+\n Wed Feb 19 14:22:42 CET 2003  Jan Hubicka  <jh@suse.cz>\n \n \t* i386.md (cosxf2):  Fix conditional."}, {"sha": "926f10e488626b49010f4493f9d8a725e1bdde92", "filename": "gcc/expr.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/48a5f2fabb7e29cb733429e30928ae4a89e960cd/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/48a5f2fabb7e29cb733429e30928ae4a89e960cd/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=48a5f2fabb7e29cb733429e30928ae4a89e960cd", "patch": "@@ -8089,6 +8089,8 @@ expand_expr (exp, target, tmode, modifier)\n       if (modifier == EXPAND_SUM && mode == ptr_mode\n \t  && host_integerp (TREE_OPERAND (exp, 1), 0))\n \t{\n+\t  tree exp1 = TREE_OPERAND (exp, 1);\n+\n \t  op0 = expand_expr (TREE_OPERAND (exp, 0), subtarget, VOIDmode,\n \t\t\t     EXPAND_SUM);\n \n@@ -8107,9 +8109,9 @@ expand_expr (exp, target, tmode, modifier)\n \t  if (GET_CODE (op0) != REG)\n \t    op0 = copy_to_mode_reg (mode, op0);\n \n-\t  return\n-\t    gen_rtx_MULT (mode, op0,\n-\t\t\t  GEN_INT (tree_low_cst (TREE_OPERAND (exp, 1), 0)));\n+\t  return gen_rtx_MULT (mode, op0,\n+\t\t\t       gen_int_mode (tree_low_cst (exp1, 0),\n+\t\t\t\t\t     TYPE_MODE (TREE_TYPE (exp1))));\n \t}\n \n       if (! safe_from_p (subtarget, TREE_OPERAND (exp, 1), 1))"}]}