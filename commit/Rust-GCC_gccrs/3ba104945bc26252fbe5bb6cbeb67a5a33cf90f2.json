{"sha": "3ba104945bc26252fbe5bb6cbeb67a5a33cf90f2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2JhMTA0OTQ1YmMyNjI1MmZiZTViYjZjYmViNjdhNWEzM2NmOTBmMg==", "commit": {"author": {"name": "Andreas Schwab", "email": "schwab@issan.informatik.uni-dortmund.de", "date": "1997-09-27T03:42:59Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-09-27T03:42:59Z"}, "message": "integrate.c (expand_inline_function): Make sure there is at least one insn that can be used as an insertion point.\n\n        * integrate.c (expand_inline_function): Make sure there is at\n        least one insn that can be used as an insertion point.\n\nFrom-SVN: r15738", "tree": {"sha": "986a573e777798654e808636724349caa9dd1772", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/986a573e777798654e808636724349caa9dd1772"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3ba104945bc26252fbe5bb6cbeb67a5a33cf90f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ba104945bc26252fbe5bb6cbeb67a5a33cf90f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3ba104945bc26252fbe5bb6cbeb67a5a33cf90f2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ba104945bc26252fbe5bb6cbeb67a5a33cf90f2/comments", "author": null, "committer": null, "parents": [{"sha": "b9620d0e58740e9b0ab5879cb9f1ac4df09e8d48", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b9620d0e58740e9b0ab5879cb9f1ac4df09e8d48", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b9620d0e58740e9b0ab5879cb9f1ac4df09e8d48"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "1a4439dd8957b295555b3b995e6c2c12648b96ca", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ba104945bc26252fbe5bb6cbeb67a5a33cf90f2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ba104945bc26252fbe5bb6cbeb67a5a33cf90f2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3ba104945bc26252fbe5bb6cbeb67a5a33cf90f2", "patch": "@@ -1,3 +1,8 @@\n+Fri Sep 26 09:00:13 1997  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n+\n+\t* integrate.c (expand_inline_function): Make sure there is at\n+\tleast one insn that can be used as an insertion point.\n+\n Wed Sep 24 21:34:06 1997  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* dwarf2out.c: s/flag_verbose_asm/flag_debug_asm/"}, {"sha": "5ab8f59bb23b138f4f30f2bc8f3d3fc4f37123f4", "filename": "gcc/integrate.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ba104945bc26252fbe5bb6cbeb67a5a33cf90f2/gcc%2Fintegrate.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ba104945bc26252fbe5bb6cbeb67a5a33cf90f2/gcc%2Fintegrate.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintegrate.c?ref=3ba104945bc26252fbe5bb6cbeb67a5a33cf90f2", "patch": "@@ -1431,8 +1431,11 @@ expand_inline_function (fndecl, parms, target, ignore, type,\n   map->const_age = 0;\n \n   /* Record the current insn in case we have to set up pointers to frame\n-     and argument memory blocks.  */\n+     and argument memory blocks.  If there are no insns yet, add a dummy\n+     insn that can be used as an insertion point.  */\n   map->insns_at_start = get_last_insn ();\n+  if (!map->insns_at_start)\n+    map->insns_at_start = emit_note (NULL_PTR, NOTE_INSN_DELETED);\n \n   map->regno_pointer_flag = INLINE_REGNO_POINTER_FLAG (header);\n   map->regno_pointer_align = INLINE_REGNO_POINTER_ALIGN (header);"}]}