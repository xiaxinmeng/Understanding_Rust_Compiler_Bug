{"sha": "6d42548da9c3b7c3dc46e88c585484314bb55faf", "node_id": "C_kwDOANBUbNoAKDZkNDI1NDhkYTljM2I3YzNkYzQ2ZTg4YzU4NTQ4NDMxNGJiNTVmYWY", "commit": {"author": {"name": "liushuyu", "email": "liushuyu011@gmail.com", "date": "2022-04-05T23:41:22Z"}, "committer": {"name": "liushuyu", "email": "liushuyu011@gmail.com", "date": "2022-04-05T23:46:19Z"}, "message": "rust-session-manager: fix an issue where ...\n\n... the -frust-crate= option got incorrectly overridden by a default\nvalue\n\nSigned-off-by: Zixing Liu <liushuyu011@gmail.com>", "tree": {"sha": "fa7cc7f34634f6eefab898b21ecb47fe87d2abc0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fa7cc7f34634f6eefab898b21ecb47fe87d2abc0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6d42548da9c3b7c3dc46e88c585484314bb55faf", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE6x/rcKrl3aOwzUVJI9HORTRBlDcFAmJM1M8ACgkQI9HORTRB\nlDeayw//VD2AGVSJlr15wCR7rRdN7T7UXWKVM6RK1d22emSrsktd8wpjhuEpZFOL\nTnjCudiqk7HoG2MZdttlO/jalpG3FA7lKLGyuXre9cqnCs1pF/EMuw5z2YWLb7mC\n+Ixkk3bFXLvalS92Npq/LzqIFvMAA51zFdNSxcxX5SQjfsBKlEE7VJyT6zLjjKol\nF+l7ew/UVyI7OFtRYozp3SXr8OhMLmKkIJwH7GFX3b9xNwXVSt+uzWvukKemaq73\npMKWflUX0cEH/XyJGNblBgXkuuVw337MsZP5/nTtI7FAmdIda0iymmGsM4dJ9tVa\nlUtgwgBex1IWt6PDOsBBcaJ8RcRt92C3WIZVxBiWPQ627mjNmTGNBhVTI96aDR78\noBXcBBh1iSCCjMcdm43DucowoUwE3T7Sv4lIzdRJxsW7YkOeC9YkA4hqSm3B7PYD\n41TxnjwlmfaB8tk2wJWCZngQazWXMiuyjCyctX6trCGiz0dA83lVdaoZ6J++yphR\nCI3sh2nuUbkIUJiLI4HZaiQYF1ViP1SnmDVkuHkfdRc4rvalj/AXb1AmvvU0hQbb\noIWQNMokKqjwIDQRP0PvmLsa78X3hJNZRVWHEj4pPBfebtpvgMhA/XdndMkkHa86\nEIcjoRqITAhFU13CxT7lj1Gbwk9MsrAe249HvH2x4K6uk1xlHJQ=\n=+Jaa\n-----END PGP SIGNATURE-----", "payload": "tree fa7cc7f34634f6eefab898b21ecb47fe87d2abc0\nparent 9011184f38a04f81ba3194b826bec3f30a11c07b\nauthor liushuyu <liushuyu011@gmail.com> 1649202082 -0600\ncommitter liushuyu <liushuyu011@gmail.com> 1649202379 -0600\n\nrust-session-manager: fix an issue where ...\n\n... the -frust-crate= option got incorrectly overridden by a default\nvalue\n\nSigned-off-by: Zixing Liu <liushuyu011@gmail.com>\n"}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d42548da9c3b7c3dc46e88c585484314bb55faf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d42548da9c3b7c3dc46e88c585484314bb55faf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d42548da9c3b7c3dc46e88c585484314bb55faf/comments", "author": {"login": "liushuyu", "id": 6829345, "node_id": "MDQ6VXNlcjY4MjkzNDU=", "avatar_url": "https://avatars.githubusercontent.com/u/6829345?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liushuyu", "html_url": "https://github.com/liushuyu", "followers_url": "https://api.github.com/users/liushuyu/followers", "following_url": "https://api.github.com/users/liushuyu/following{/other_user}", "gists_url": "https://api.github.com/users/liushuyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/liushuyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liushuyu/subscriptions", "organizations_url": "https://api.github.com/users/liushuyu/orgs", "repos_url": "https://api.github.com/users/liushuyu/repos", "events_url": "https://api.github.com/users/liushuyu/events{/privacy}", "received_events_url": "https://api.github.com/users/liushuyu/received_events", "type": "User", "site_admin": false}, "committer": {"login": "liushuyu", "id": 6829345, "node_id": "MDQ6VXNlcjY4MjkzNDU=", "avatar_url": "https://avatars.githubusercontent.com/u/6829345?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liushuyu", "html_url": "https://github.com/liushuyu", "followers_url": "https://api.github.com/users/liushuyu/followers", "following_url": "https://api.github.com/users/liushuyu/following{/other_user}", "gists_url": "https://api.github.com/users/liushuyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/liushuyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liushuyu/subscriptions", "organizations_url": "https://api.github.com/users/liushuyu/orgs", "repos_url": "https://api.github.com/users/liushuyu/repos", "events_url": "https://api.github.com/users/liushuyu/events{/privacy}", "received_events_url": "https://api.github.com/users/liushuyu/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9011184f38a04f81ba3194b826bec3f30a11c07b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9011184f38a04f81ba3194b826bec3f30a11c07b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9011184f38a04f81ba3194b826bec3f30a11c07b"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "f3010aa914e1faf7429707851cbc53099fb853cb", "filename": "gcc/rust/rust-session-manager.cc", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6d42548da9c3b7c3dc46e88c585484314bb55faf/gcc%2Frust%2Frust-session-manager.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6d42548da9c3b7c3dc46e88c585484314bb55faf/gcc%2Frust%2Frust-session-manager.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Frust-session-manager.cc?ref=6d42548da9c3b7c3dc46e88c585484314bb55faf", "patch": "@@ -311,8 +311,9 @@ Session::init ()\n   // setup backend to GCC GIMPLE\n   backend = rust_get_backend ();\n \n-  // set the default crate name\n-  options.set_crate_name (kDefaultCrateName);\n+  // set the default crate name if crate name was unset\n+  if (options.crate_name.empty ())\n+    options.set_crate_name (kDefaultCrateName);\n }\n \n /* Initialise default options. Actually called before handle_option, unlike init"}]}