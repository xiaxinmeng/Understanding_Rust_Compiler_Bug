{"sha": "fe79fc067e750e2e8a7e22861a088b8fde07ebbc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmU3OWZjMDY3ZTc1MGUyZThhN2UyMjg2MWEwODhiOGZkZTA3ZWJiYw==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2013-11-07T14:26:17Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2013-11-07T14:26:17Z"}, "message": "re PR c++/58176 (ICE in output_constant, at varasm.c:4658)\n\n2013-11-07  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/58176\n\t* varasm.c (output_constant): Handle NULLPTR_TYPE.\n\n/testsuite\n2013-11-07  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/58176\n\t* g++.dg/cpp0x/nullptr30.C: New.\n\nFrom-SVN: r204514", "tree": {"sha": "ff3db190c5d351e227a045b4d841b76993ead96d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ff3db190c5d351e227a045b4d841b76993ead96d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fe79fc067e750e2e8a7e22861a088b8fde07ebbc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe79fc067e750e2e8a7e22861a088b8fde07ebbc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fe79fc067e750e2e8a7e22861a088b8fde07ebbc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe79fc067e750e2e8a7e22861a088b8fde07ebbc/comments", "author": null, "committer": null, "parents": [{"sha": "cb9426fc9a55aca5b0d898c3eedddb62a5688503", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb9426fc9a55aca5b0d898c3eedddb62a5688503", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb9426fc9a55aca5b0d898c3eedddb62a5688503"}], "stats": {"total": 51, "additions": 51, "deletions": 0}, "files": [{"sha": "5679435a343f003d78eab4f8f5d42c13af6bc674", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe79fc067e750e2e8a7e22861a088b8fde07ebbc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe79fc067e750e2e8a7e22861a088b8fde07ebbc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fe79fc067e750e2e8a7e22861a088b8fde07ebbc", "patch": "@@ -1,3 +1,8 @@\n+2013-11-07  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/58176\n+\t* varasm.c (output_constant): Handle NULLPTR_TYPE.\n+\n 2013-11-07  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* config/i386/i386.c (ix86_expand_set_or_movmem): Don't set"}, {"sha": "b45c8f4defc975170014e5890b63e753abdfb8c5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe79fc067e750e2e8a7e22861a088b8fde07ebbc/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe79fc067e750e2e8a7e22861a088b8fde07ebbc/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=fe79fc067e750e2e8a7e22861a088b8fde07ebbc", "patch": "@@ -1,3 +1,8 @@\n+2013-11-07  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/58176\n+\t* g++.dg/cpp0x/nullptr30.C: New.\n+\n 2013-11-07  Yury Gribov  <y.gribov@samsung.com>\n \t    Jakub Jelinek  <jakub@redhat.com>\n "}, {"sha": "3673999d8843bcfb997eadd67fdf8190186d7668", "filename": "gcc/testsuite/g++.dg/cpp0x/nullptr30.C", "status": "added", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe79fc067e750e2e8a7e22861a088b8fde07ebbc/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fnullptr30.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe79fc067e750e2e8a7e22861a088b8fde07ebbc/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fnullptr30.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fnullptr30.C?ref=fe79fc067e750e2e8a7e22861a088b8fde07ebbc", "patch": "@@ -0,0 +1,40 @@\n+// PR c++/58176\n+// { dg-do compile { target c++11 } }\n+\n+// Nil\n+struct nil_ { constexpr nil_ () {} };\n+constexpr nil_ nil;\n+\n+// Cons\n+template <class H, class T = nil_>\n+struct cons_ {\n+    using head_ = H;\n+    using tail_ = T;\n+\n+    H head;\n+    T tail;\n+\n+    constexpr cons_() {}\n+    constexpr cons_(H const &h, T const &t) : head(h), tail(t) {}\n+};\n+template <class H, class T = nil_>\n+constexpr cons_<H, T> cons (H const &h, T const &t = nil) { return\n+cons_<H,T>(h,t); }\n+\n+// List\n+template <class... T> struct list_s;\n+template <class H, class... T>\n+struct list_s<H, T...> {\n+    using type = cons_<H, typename list_s<T...>::type>;\n+};\n+template <>\n+struct list_s<> {\n+    using type = nil_;\n+};\n+template <class... T>\n+using list_ = typename list_s<T...>::type;\n+constexpr nil_ list () { return nil; }\n+template <class H, class... T>\n+constexpr list_<H, T...> list (H h, T... t) { return cons(h, list(t...)); }\n+\n+constexpr auto l1 = list(\"monkey\", 123.4, cons(1, 2), nullptr);"}, {"sha": "2226912299353f0ad47f4ffc05e0b740bc93b68d", "filename": "gcc/varasm.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe79fc067e750e2e8a7e22861a088b8fde07ebbc/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe79fc067e750e2e8a7e22861a088b8fde07ebbc/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=fe79fc067e750e2e8a7e22861a088b8fde07ebbc", "patch": "@@ -4685,6 +4685,7 @@ output_constant (tree exp, unsigned HOST_WIDE_INT size, unsigned int align)\n     case OFFSET_TYPE:\n     case FIXED_POINT_TYPE:\n     case POINTER_BOUNDS_TYPE:\n+    case NULLPTR_TYPE:\n       if (! assemble_integer (expand_expr (exp, NULL_RTX, VOIDmode,\n \t\t\t\t\t   EXPAND_INITIALIZER),\n \t\t\t      MIN (size, thissize), align, 0))"}]}