{"sha": "938bf7475d34bb808144dff4ea0903026bd70b28", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTM4YmY3NDc1ZDM0YmI4MDgxNDRkZmY0ZWEwOTAzMDI2YmQ3MGIyOA==", "commit": {"author": {"name": "Roger Sayle", "email": "roger@eyesopen.com", "date": "2004-07-12T13:42:28Z"}, "committer": {"name": "Roger Sayle", "email": "sayle@gcc.gnu.org", "date": "2004-07-12T13:42:28Z"}, "message": "rs6000.c (rs6000_rtx_costs): Indicate that the rs6000 doesn't have shift-and-add or shift-and-sub...\n\n\n\t* config/rs6000/rs6000.c (rs6000_rtx_costs): Indicate that the\n\trs6000 doesn't have shift-and-add or shift-and-sub instructions\n\tby returning the cost of a multiplication plus an addition.\n\nFrom-SVN: r84556", "tree": {"sha": "d4c960f66772cc6c6427b9e8562f72d90febd435", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d4c960f66772cc6c6427b9e8562f72d90febd435"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/938bf7475d34bb808144dff4ea0903026bd70b28", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/938bf7475d34bb808144dff4ea0903026bd70b28", "html_url": "https://github.com/Rust-GCC/gccrs/commit/938bf7475d34bb808144dff4ea0903026bd70b28", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/938bf7475d34bb808144dff4ea0903026bd70b28/comments", "author": null, "committer": null, "parents": [{"sha": "62e39334a08066c17ead2da37ccb9209b2cc8e14", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62e39334a08066c17ead2da37ccb9209b2cc8e14", "html_url": "https://github.com/Rust-GCC/gccrs/commit/62e39334a08066c17ead2da37ccb9209b2cc8e14"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "e3d670dece480bcbd6199413ea80f33a2a47c1a2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/938bf7475d34bb808144dff4ea0903026bd70b28/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/938bf7475d34bb808144dff4ea0903026bd70b28/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=938bf7475d34bb808144dff4ea0903026bd70b28", "patch": "@@ -1,3 +1,9 @@\n+2004-07-12  Roger Sayle  <roger@eyesopen.com>\n+\n+\t* config/rs6000/rs6000.c (rs6000_rtx_costs): Indicate that the\n+\trs6000 doesn't have shift-and-add or shift-and-sub instructions\n+\tby returning the cost of a multiplication plus an addition.\n+\n 2004-07-12  Paolo Bonzini  <bonzini@gnu.org>\n \n \tPR tree-optimization/14107"}, {"sha": "0722ed7502192ffd8b5f99a152a15a59b372d8bc", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/938bf7475d34bb808144dff4ea0903026bd70b28/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/938bf7475d34bb808144dff4ea0903026bd70b28/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=938bf7475d34bb808144dff4ea0903026bd70b28", "patch": "@@ -16535,6 +16535,12 @@ rs6000_rtx_costs (rtx x, int code, int outer_code ATTRIBUTE_UNUSED,\n \t\t : rs6000_cost->fp;\n       else if (mode == SFmode)\n \t*total = rs6000_cost->fp;\n+      else if (GET_CODE (XEXP (x, 0)) == MULT)\n+\t{\n+\t  /* The rs6000 doesn't have shift-and-add instructions.  */\n+\t  rs6000_rtx_costs (XEXP (x, 0), MULT, PLUS, total);\n+\t  *total += COSTS_N_INSNS (1);\n+\t}\n       else\n \t*total = ((GET_CODE (XEXP (x, 1)) == CONST_INT\n \t\t  && ((unsigned HOST_WIDE_INT) (INTVAL (XEXP (x, 1))\n@@ -16551,6 +16557,12 @@ rs6000_rtx_costs (rtx x, int code, int outer_code ATTRIBUTE_UNUSED,\n \t\t : rs6000_cost->fp;\n       else if (mode == SFmode)\n \t*total = rs6000_cost->fp;\n+      else if (GET_CODE (XEXP (x, 0)) == MULT)\n+\t{\n+\t  /* The rs6000 doesn't have shift-and-sub instructions.  */\n+\t  rs6000_rtx_costs (XEXP (x, 0), MULT, MINUS, total);\n+\t  *total += COSTS_N_INSNS (1);\n+\t}\n       else\n         *total = COSTS_N_INSNS (1);\n       return true;"}]}