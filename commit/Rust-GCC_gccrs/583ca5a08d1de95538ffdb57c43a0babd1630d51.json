{"sha": "583ca5a08d1de95538ffdb57c43a0babd1630d51", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTgzY2E1YTA4ZDFkZTk1NTM4ZmZkYjU3YzQzYTBiYWJkMTYzMGQ1MQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2000-10-23T06:36:37Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2000-10-23T06:36:37Z"}, "message": "call.c (standard_conversion): Use RVALUE_CONVs for all expressions that satisfy lvalue_p...\n\n\t* call.c (standard_conversion): Use RVALUE_CONVs for all\n\texpressions that satisfy lvalue_p, not just those that satisfy\n\treal_lvalue_p.\n\nFrom-SVN: r37013", "tree": {"sha": "1a1c1e08ea2fc1be524d29e719d96de2b1ee7ceb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1a1c1e08ea2fc1be524d29e719d96de2b1ee7ceb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/583ca5a08d1de95538ffdb57c43a0babd1630d51", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/583ca5a08d1de95538ffdb57c43a0babd1630d51", "html_url": "https://github.com/Rust-GCC/gccrs/commit/583ca5a08d1de95538ffdb57c43a0babd1630d51", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/583ca5a08d1de95538ffdb57c43a0babd1630d51/comments", "author": null, "committer": null, "parents": [{"sha": "f9808f81c98e92f3d590391f7924585208725c94", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9808f81c98e92f3d590391f7924585208725c94", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f9808f81c98e92f3d590391f7924585208725c94"}], "stats": {"total": 40, "additions": 39, "deletions": 1}, "files": [{"sha": "635105c732f65418868e1bfe7eaf01d498192693", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/583ca5a08d1de95538ffdb57c43a0babd1630d51/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/583ca5a08d1de95538ffdb57c43a0babd1630d51/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=583ca5a08d1de95538ffdb57c43a0babd1630d51", "patch": "@@ -1,5 +1,9 @@\n 2000-10-22  Mark Mitchell  <mark@codesourcery.com>\n \n+\t* call.c (standard_conversion): Use RVALUE_CONVs for all\n+\texpressions that satisfy lvalue_p, not just those that satisfy\n+\treal_lvalue_p.\n+\n \t* optimize.c (copy_body_r): Don't treat CALL_EXPRs specially.\n \n \t* typeck.c (c_sizeof): Return an expression of `size_t' type, "}, {"sha": "c31333e96082cece8638b43295e1fda8e731559d", "filename": "gcc/cp/call.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/583ca5a08d1de95538ffdb57c43a0babd1630d51/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/583ca5a08d1de95538ffdb57c43a0babd1630d51/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=583ca5a08d1de95538ffdb57c43a0babd1630d51", "patch": "@@ -685,7 +685,7 @@ standard_conversion (to, from, expr)\n       fcode = TREE_CODE (from);\n       conv = build_conv (LVALUE_CONV, from, conv);\n     }\n-  else if (fromref || (expr && real_lvalue_p (expr)))\n+  else if (fromref || (expr && lvalue_p (expr)))\n     conv = build_conv (RVALUE_CONV, from, conv);\n \n    /* Allow conversion between `__complex__' data types  */"}, {"sha": "ffb7c5a85c473fd05c4937fc624ad8dcc4041d2b", "filename": "gcc/testsuite/g++.old-deja/g++.other/dtor11.C", "status": "added", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/583ca5a08d1de95538ffdb57c43a0babd1630d51/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fdtor11.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/583ca5a08d1de95538ffdb57c43a0babd1630d51/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fdtor11.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fdtor11.C?ref=583ca5a08d1de95538ffdb57c43a0babd1630d51", "patch": "@@ -0,0 +1,34 @@\n+// Origin: Mark Mitchell <mark@codesourcery.com>\n+\n+extern \"C\" void abort ();\n+\n+int j;\n+\n+struct S {\n+  S () { ++j; }\n+  S (const S&) { ++j; }\n+  ~S () {\n+    if (--j < 0)\n+      abort ();\n+   }\n+};\n+\n+struct T {\n+  void g (S) {\n+  };\n+};\n+\n+struct U {\n+  int i;\n+  S s;\n+};\n+\n+U u;\n+\n+U f () { return u; }\n+\n+int main ()\n+{\n+  T t;\n+  t.g (f ().s);\n+}"}]}