{"sha": "61193e7bb1d4a3922456b597244517f727ffbb8c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjExOTNlN2JiMWQ0YTM5MjI0NTZiNTk3MjQ0NTE3ZjcyN2ZmYmI4Yw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2003-06-18T22:53:06Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2003-06-18T22:53:06Z"}, "message": "unwind-ia64.c (_Unwind_GetCFA): New.\n\n        * config/ia64/unwind-ia64.c (_Unwind_GetCFA): New.\n        (_Unwind_FindEnclosingFunction): Implement.\n\nFrom-SVN: r68168", "tree": {"sha": "36973099df56b9dc18ee3e916ade49d51b6947c0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/36973099df56b9dc18ee3e916ade49d51b6947c0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/61193e7bb1d4a3922456b597244517f727ffbb8c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61193e7bb1d4a3922456b597244517f727ffbb8c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61193e7bb1d4a3922456b597244517f727ffbb8c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61193e7bb1d4a3922456b597244517f727ffbb8c/comments", "author": null, "committer": null, "parents": [{"sha": "a2f8629a69f92173f290f5c8b1fac802f418c628", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a2f8629a69f92173f290f5c8b1fac802f418c628", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a2f8629a69f92173f290f5c8b1fac802f418c628"}], "stats": {"total": 24, "additions": 23, "deletions": 1}, "files": [{"sha": "c78a88340de160884158142128071f5dd6ec1ce4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61193e7bb1d4a3922456b597244517f727ffbb8c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61193e7bb1d4a3922456b597244517f727ffbb8c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=61193e7bb1d4a3922456b597244517f727ffbb8c", "patch": "@@ -1,3 +1,8 @@\n+2003-06-18  Richard Henderson  <rth@redhat.com>\n+\n+        * config/ia64/unwind-ia64.c (_Unwind_GetCFA): New.\n+        (_Unwind_FindEnclosingFunction): Implement.\n+\n 2003-06-18  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* toplev.c (rest_of_handle_sched): Hide the entire function if"}, {"sha": "9b6023da58af821f790de957c4632cf6cddcd3b5", "filename": "gcc/config/ia64/unwind-ia64.c", "status": "modified", "additions": 18, "deletions": 1, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61193e7bb1d4a3922456b597244517f727ffbb8c/gcc%2Fconfig%2Fia64%2Funwind-ia64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61193e7bb1d4a3922456b597244517f727ffbb8c/gcc%2Fconfig%2Fia64%2Funwind-ia64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Funwind-ia64.c?ref=61193e7bb1d4a3922456b597244517f727ffbb8c", "patch": "@@ -1647,7 +1647,24 @@ _Unwind_GetRegionStart (struct _Unwind_Context *context)\n void *\n _Unwind_FindEnclosingFunction (void *pc)\n {\n-  return NULL;\n+  struct unw_table_entry *ent;\n+  unsigned long segment_base, gp;\n+\n+  ent = _Unwind_FindTableEntry (pc, &segment_base, &gp);\n+  if (ent == NULL)\n+    return NULL;\n+  else\n+    return (void *)(segment_base + ent->start_offset);\n+}\n+\n+/* Get the value of the CFA as saved in CONTEXT.  In GCC/Dwarf2 parlance,\n+   the CFA is the value of the stack pointer on entry; In IA-64 unwind\n+   parlance, this is the PSP.  */\n+\n+_Unwind_Word\n+_Unwind_GetCFA (struct _Unwind_Context *context)\n+{\n+  return (_Unwind_Ptr) context->psp;\n }\n \n \f"}]}