{"sha": "7c87e9f9216fd7959a5365ae62f9173ce524d21b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2M4N2U5ZjkyMTZmZDc5NTlhNTM2NWFlNjJmOTE3M2NlNTI0ZDIxYg==", "commit": {"author": {"name": "Catherine Moore", "email": "clm@redhat.com", "date": "2001-10-19T14:03:29Z"}, "committer": {"name": "Catherine Moore", "email": "clm@gcc.gnu.org", "date": "2001-10-19T14:03:29Z"}, "message": "stormy16.h (ASM_COMMENT_START): Define.\n\n        * config/stormy16/stormy16.h (ASM_COMMENT_START): Define.\n\n        * config/stormy16/stormy16.c (stormy16_split_move):  Make\n        sure that REG_INC notes are present for auto_inc operands.\n\nFrom-SVN: r46347", "tree": {"sha": "a3773d25085c0236d2e618d36951c442cdd8aafc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a3773d25085c0236d2e618d36951c442cdd8aafc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7c87e9f9216fd7959a5365ae62f9173ce524d21b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c87e9f9216fd7959a5365ae62f9173ce524d21b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c87e9f9216fd7959a5365ae62f9173ce524d21b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c87e9f9216fd7959a5365ae62f9173ce524d21b/comments", "author": null, "committer": null, "parents": [{"sha": "1ab8a33ed5890eea653aa364c5c31482a1e9c359", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ab8a33ed5890eea653aa364c5c31482a1e9c359", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ab8a33ed5890eea653aa364c5c31482a1e9c359"}], "stats": {"total": 26, "additions": 23, "deletions": 3}, "files": [{"sha": "d8acd6cc84bf9aaa20fc8c46fa3d2d998162d34b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c87e9f9216fd7959a5365ae62f9173ce524d21b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c87e9f9216fd7959a5365ae62f9173ce524d21b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7c87e9f9216fd7959a5365ae62f9173ce524d21b", "patch": "@@ -1,3 +1,10 @@\n+2001-10-19  Catherine Moore  <clm@redhat.com>\n+\n+        * config/stormy16/stormy16.h (ASM_COMMENT_START): Define.\n+\n+\t* config/stormy16/stormy16.c (stormy16_split_move):  Make\n+\tsure that REG_INC notes are present for auto_inc operands.\n+\n 2001-10-19  Andreas Jaeger  <aj@suse.de>\n \n         * configure: Regenerated."}, {"sha": "096797a576f553556b060d72ece50080b142fea0", "filename": "gcc/config/stormy16/stormy16.c", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c87e9f9216fd7959a5365ae62f9173ce524d21b/gcc%2Fconfig%2Fstormy16%2Fstormy16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c87e9f9216fd7959a5365ae62f9173ce524d21b/gcc%2Fconfig%2Fstormy16%2Fstormy16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fstormy16%2Fstormy16.c?ref=7c87e9f9216fd7959a5365ae62f9173ce524d21b", "patch": "@@ -641,6 +641,7 @@ stormy16_split_move (mode, dest, src)\n   int src_volatile = 0;\n   int dest_volatile = 0;\n   rtx mem_operand;\n+  rtx auto_inc_reg_rtx = NULL_RTX;\n   \n   /* Check initial conditions.  */\n   if (! reload_completed\n@@ -673,6 +674,8 @@ stormy16_split_move (mode, dest, src)\n     {\n       mem_operand = XEXP (dest, 0);\n       dest_modifies = side_effects_p (mem_operand);\n+      if (auto_inc_p (mem_operand))\n+        auto_inc_reg_rtx = XEXP (mem_operand, 0);\n       dest_volatile = MEM_VOLATILE_P (dest);\n       if (dest_volatile)\n \t{\n@@ -684,6 +687,8 @@ stormy16_split_move (mode, dest, src)\n     {\n       mem_operand = XEXP (src, 0);\n       src_modifies = side_effects_p (mem_operand);\n+      if (auto_inc_p (mem_operand))\n+        auto_inc_reg_rtx = XEXP (mem_operand, 0);\n       src_volatile = MEM_VOLATILE_P (src);\n       if (src_volatile)\n \t{\n@@ -733,7 +738,8 @@ stormy16_split_move (mode, dest, src)\n   end = direction < 0 ? -1 : num_words;\n   for (i = direction < 0 ? num_words - 1 : 0; i != end; i += direction)\n     {\n-      rtx w_src, w_dest;\n+      rtx w_src, w_dest, insn;\n+\n       if (src_modifies)\n \tw_src = gen_rtx_MEM (word_mode, mem_operand);\n       else\n@@ -753,7 +759,11 @@ stormy16_split_move (mode, dest, src)\n \t  || GET_CODE (w_dest) == SUBREG)\n \tabort ();\n       \n-      emit_insn (gen_rtx_SET (VOIDmode, w_dest, w_src));\n+      insn = emit_insn (gen_rtx_SET (VOIDmode, w_dest, w_src));\n+      if (auto_inc_reg_rtx)\n+        REG_NOTES (insn) = alloc_EXPR_LIST (REG_INC,\n+                                            auto_inc_reg_rtx,\n+\t\t\t\t\t    REG_NOTES (insn));\n     }\n }\n "}, {"sha": "0372d1ce2ec79ad8b7d110d38b129cf13a548795", "filename": "gcc/config/stormy16/stormy16.h", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c87e9f9216fd7959a5365ae62f9173ce524d21b/gcc%2Fconfig%2Fstormy16%2Fstormy16.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c87e9f9216fd7959a5365ae62f9173ce524d21b/gcc%2Fconfig%2Fstormy16%2Fstormy16.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fstormy16%2Fstormy16.h?ref=7c87e9f9216fd7959a5365ae62f9173ce524d21b", "patch": "@@ -146,6 +146,9 @@ Boston, MA 02111-1307, USA.  */\n \n    Defined in svr4.h.  */\n #undef LIB_SPEC\n+#if 0\n+#define LIB_SPEC \"-( -lc %{msim:-lsim}%{!msim:-leva_app -lnosys} -)\"\n+#endif\n #define LIB_SPEC \"-( -lc %{msim:-lsim} -)\"\n \n /* Another C string constant that tells the GNU CC driver program how and when\n@@ -3620,7 +3623,7 @@ do {\t\t\t\t\t\t\t\\\n /* A C string constant describing how to begin a comment in the target\n    assembler language.  The compiler assumes that the comment will end at the\n    end of the line.  */\n-/* #define ASM_COMMENT_START */\n+#define ASM_COMMENT_START \";\"\n \n /* A C string constant for text to be output before each `asm' statement or\n    group of consecutive ones.  Normally this is `\"#APP\"', which is a comment"}]}