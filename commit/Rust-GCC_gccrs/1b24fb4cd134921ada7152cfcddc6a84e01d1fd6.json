{"sha": "1b24fb4cd134921ada7152cfcddc6a84e01d1fd6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWIyNGZiNGNkMTM0OTIxYWRhNzE1MmNmY2RkYzZhODRlMDFkMWZkNg==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2016-07-12T14:00:26Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2016-07-12T14:00:26Z"}, "message": "Add tests and docs for LWG 2212 support\n\n\t* testsuite/20_util/pair/astuple/astuple.cc: Only include <utility>.\n\t* testsuite/23_containers/array/tuple_interface/tuple_element.cc:\n\tOnly include <array>.\n\t* testsuite/23_containers/array/tuple_interface/tuple_size.cc:\n\tLikewise.\n\t* doc/xml/manual/intro.xml; Document LWG 2212 support.\n\t* doc/html*: Regenerate.\n\nFrom-SVN: r238244", "tree": {"sha": "70d1ee1f203f1f0a333da0c6a734dd02056c2bf3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/70d1ee1f203f1f0a333da0c6a734dd02056c2bf3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1b24fb4cd134921ada7152cfcddc6a84e01d1fd6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b24fb4cd134921ada7152cfcddc6a84e01d1fd6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b24fb4cd134921ada7152cfcddc6a84e01d1fd6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b24fb4cd134921ada7152cfcddc6a84e01d1fd6/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "17b31c054cdda9ac6167c548a41c5fb4eca0ebb3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17b31c054cdda9ac6167c548a41c5fb4eca0ebb3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/17b31c054cdda9ac6167c548a41c5fb4eca0ebb3"}], "stats": {"total": 43, "additions": 37, "deletions": 6}, "files": [{"sha": "2d9223d7c5ec9b7e6fc06e5e97d5c549585fa8e2", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b24fb4cd134921ada7152cfcddc6a84e01d1fd6/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b24fb4cd134921ada7152cfcddc6a84e01d1fd6/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=1b24fb4cd134921ada7152cfcddc6a84e01d1fd6", "patch": "@@ -1,5 +1,13 @@\n 2016-07-12  Jonathan Wakely  <jwakely@redhat.com>\n \n+\t* testsuite/20_util/pair/astuple/astuple.cc: Only include <utility>.\n+\t* testsuite/23_containers/array/tuple_interface/tuple_element.cc:\n+\tOnly include <array>.\n+\t* testsuite/23_containers/array/tuple_interface/tuple_size.cc:\n+\tLikewise.\n+\t* doc/xml/manual/intro.xml; Document LWG 2212 support.\n+\t* doc/html*: Regenerate.\n+\n \t* testsuite/23_containers/vector/modifiers/emplace/self_emplace.cc:\n \tAdd testcase from LWG 2164.\n "}, {"sha": "664d3925a36c4b55d8de4bfe9ccf6a1214e5c20c", "filename": "libstdc++-v3/doc/html/manual/bugs.html", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b24fb4cd134921ada7152cfcddc6a84e01d1fd6/libstdc%2B%2B-v3%2Fdoc%2Fhtml%2Fmanual%2Fbugs.html", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b24fb4cd134921ada7152cfcddc6a84e01d1fd6/libstdc%2B%2B-v3%2Fdoc%2Fhtml%2Fmanual%2Fbugs.html", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2Fhtml%2Fmanual%2Fbugs.html?ref=1b24fb4cd134921ada7152cfcddc6a84e01d1fd6", "patch": "@@ -408,6 +408,11 @@\n     </p></dd><dt><span class=\"term\"><a class=\"link\" href=\"../ext/lwg-defects.html#2196\" target=\"_top\">2196</a>:\n \t<span class=\"emphasis\"><em>Specification of <code class=\"code\">is_*[copy/move]_[constructible/assignable]</code> unclear for non-referencable types</em></span>\n     </span></dt><dd><p>Use the referenceable type concept.\n+    </p></dd><dt><span class=\"term\"><a class=\"link\" href=\"../ext/lwg-defects.html#2212\" target=\"_top\">2212</a>:\n+\t<span class=\"emphasis\"><em><code class=\"code\">tuple_size</code> for <code class=\"code\">const pair</code> request <code class=\"code\">&lt;tuple&gt;</code> header</em></span>\n+    </span></dt><dd><p>The <code class=\"code\">tuple_size</code> and <code class=\"code\">tuple_element</code>\n+    partial specializations are defined in <code class=\"code\">&lt;utility&gt;</code> which\n+    is included by <code class=\"code\">&lt;array&gt;</code>.\n     </p></dd><dt><span class=\"term\"><a class=\"link\" href=\"../ext/lwg-defects.html#2313\" target=\"_top\">2313</a>:\n \t<span class=\"emphasis\"><em><code class=\"code\">tuple_size</code> should always derive from <code class=\"code\">integral_constant&lt;size_t, N&gt;</code></em></span>\n     </span></dt><dd><p>Update definitions of the partial specializations for const and volatile types."}, {"sha": "a47a3ecc4bafd5365d647f6ea393754068f3bce0", "filename": "libstdc++-v3/doc/xml/manual/intro.xml", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b24fb4cd134921ada7152cfcddc6a84e01d1fd6/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fintro.xml", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b24fb4cd134921ada7152cfcddc6a84e01d1fd6/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fintro.xml", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fintro.xml?ref=1b24fb4cd134921ada7152cfcddc6a84e01d1fd6", "patch": "@@ -934,6 +934,14 @@ requirements of the license of GCC.\n     <listitem><para>Use the referenceable type concept.\n     </para></listitem></varlistentry>\n \n+    <varlistentry><term><link xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"../ext/lwg-defects.html#2212\">2212</link>:\n+\t<emphasis><code>tuple_size</code> for <code>const pair</code> request <code>&lt;tuple&gt;</code> header</emphasis>\n+    </term>\n+    <listitem><para>The <code>tuple_size</code> and <code>tuple_element</code>\n+    partial specializations are defined in <code>&lt;utility&gt;</code> which\n+    is included by <code>&lt;array&gt;</code>.\n+    </para></listitem></varlistentry>\n+\n     <varlistentry><term><link xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"../ext/lwg-defects.html#2313\">2313</link>:\n \t<emphasis><code>tuple_size</code> should always derive from <code>integral_constant&lt;size_t, N&gt;</code></emphasis>\n     </term>"}, {"sha": "3a458bb30e5a6a4e4c45129b7e1c845eaa7551d5", "filename": "libstdc++-v3/testsuite/20_util/pair/astuple/astuple.cc", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b24fb4cd134921ada7152cfcddc6a84e01d1fd6/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fpair%2Fastuple%2Fastuple.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b24fb4cd134921ada7152cfcddc6a84e01d1fd6/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fpair%2Fastuple%2Fastuple.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fpair%2Fastuple%2Fastuple.cc?ref=1b24fb4cd134921ada7152cfcddc6a84e01d1fd6", "patch": "@@ -18,8 +18,10 @@\n // with this library; see the file COPYING3.  If not see\n // <http://www.gnu.org/licenses/>.\n \n+// NB: Don't include any other headers in this file.\n+// LWG 2212 requires <utility> to define tuple_size<cv T> and\n+// tuple_element<cv T> specializations.\n #include <utility>\n-#include <type_traits>\n \n typedef std::pair<int, long> test_type;\n \n@@ -32,6 +34,7 @@ static_assert( std::tuple_size<const volatile test_type>::value == 2,\n template<std::size_t N, typename T>\n   using Tuple_elt = typename std::tuple_element<N, T>::type;\n \n+// This relies on the fact that <utility> includes <type_traits>:\n using std::is_same;\n \n static_assert( is_same<Tuple_elt<0, test_type>, test_type::first_type>::value,"}, {"sha": "65da7537df972868a336993f2ab3a7b5810bca2c", "filename": "libstdc++-v3/testsuite/23_containers/array/tuple_interface/tuple_element.cc", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b24fb4cd134921ada7152cfcddc6a84e01d1fd6/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Ftuple_element.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b24fb4cd134921ada7152cfcddc6a84e01d1fd6/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Ftuple_element.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Ftuple_element.cc?ref=1b24fb4cd134921ada7152cfcddc6a84e01d1fd6", "patch": "@@ -18,15 +18,18 @@\n // with this library; see the file COPYING3.  If not see\n // <http://www.gnu.org/licenses/>.\n \n+// NB: Don't include any other headers in this file.\n+// LWG 2212 requires <array> to define tuple_element<cv T> specializations.\n #include <array>\n-#include <type_traits>\n-#include <testsuite_hooks.h>\n \n void\n test01() \n { \n   bool test __attribute__((unused)) = true;\n-  using namespace std;\n+  using std::array;\n+  using std::tuple_element;\n+  // This relies on the fact that <utility> includes <type_traits>:\n+  using std::is_same;\n \n   const size_t len = 3;\n   typedef array<int, len> array_type;"}, {"sha": "6fe501e8e041c0acbe436403d181ea8331c709d5", "filename": "libstdc++-v3/testsuite/23_containers/array/tuple_interface/tuple_size.cc", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b24fb4cd134921ada7152cfcddc6a84e01d1fd6/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Ftuple_size.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b24fb4cd134921ada7152cfcddc6a84e01d1fd6/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Ftuple_size.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Ftuple_size.cc?ref=1b24fb4cd134921ada7152cfcddc6a84e01d1fd6", "patch": "@@ -18,14 +18,18 @@\n // with this library; see the file COPYING3.  If not see\n // <http://www.gnu.org/licenses/>.\n \n+// NB: Don't include any other headers in this file.\n+// LWG 2212 requires <array> to define tuple_size<cv T> specializations.\n #include <array>\n-#include <testsuite_hooks.h>\n \n void\n test01() \n { \n   bool test __attribute__((unused)) = true;\n-  using namespace std;\n+  using std::array;\n+  using std::tuple_size;\n+  // This relies on the fact that <utility> includes <type_traits>:\n+  using std::is_same;\n \n   {\n     const size_t len = 5;"}]}