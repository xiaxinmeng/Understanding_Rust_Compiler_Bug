{"sha": "b8a618539c26f19cb5753f0757848c0933f3ac7c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjhhNjE4NTM5YzI2ZjE5Y2I1NzUzZjA3NTc4NDhjMDkzM2YzYWM3Yw==", "commit": {"author": {"name": "Geng Qi", "email": "gengqi@linux.alibaba.com", "date": "2021-05-24T12:22:53Z"}, "committer": {"name": "Xianmiao Qu", "email": "xianmiao_qu@c-sky.com", "date": "2021-05-25T06:07:20Z"}, "message": "C-SKY: Delete LO_REGS and HI_REGS, use HILO_REGS instead.\n\ngcc/ChangeLog:\n\n\t* config/csky/constraints.md (\"l\", \"h\"): Delete.\n\t* config/csky/csky.h (reg_class, REG_CLASS_NAMES,\n\tREG_CLASS_CONTENTS):  Delete LO_REGS and HI_REGS.\n\t* config/csky/csky.c (regno_reg_classm,\n\tcsky_secondary_reload, csky_register_move_cost):\n\tUse HILO_REGS instead of LO_REGS and HI_REGS.", "tree": {"sha": "d98af9d2e12adff428cec2146f3f7d61e7191909", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d98af9d2e12adff428cec2146f3f7d61e7191909"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b8a618539c26f19cb5753f0757848c0933f3ac7c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8a618539c26f19cb5753f0757848c0933f3ac7c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b8a618539c26f19cb5753f0757848c0933f3ac7c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8a618539c26f19cb5753f0757848c0933f3ac7c/comments", "author": {"login": "Geng-Qi-alibaba", "id": 74535016, "node_id": "MDQ6VXNlcjc0NTM1MDE2", "avatar_url": "https://avatars.githubusercontent.com/u/74535016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Geng-Qi-alibaba", "html_url": "https://github.com/Geng-Qi-alibaba", "followers_url": "https://api.github.com/users/Geng-Qi-alibaba/followers", "following_url": "https://api.github.com/users/Geng-Qi-alibaba/following{/other_user}", "gists_url": "https://api.github.com/users/Geng-Qi-alibaba/gists{/gist_id}", "starred_url": "https://api.github.com/users/Geng-Qi-alibaba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Geng-Qi-alibaba/subscriptions", "organizations_url": "https://api.github.com/users/Geng-Qi-alibaba/orgs", "repos_url": "https://api.github.com/users/Geng-Qi-alibaba/repos", "events_url": "https://api.github.com/users/Geng-Qi-alibaba/events{/privacy}", "received_events_url": "https://api.github.com/users/Geng-Qi-alibaba/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "db92bd223e3957ee58b5a0c0fffd8b7766f1def3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db92bd223e3957ee58b5a0c0fffd8b7766f1def3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db92bd223e3957ee58b5a0c0fffd8b7766f1def3"}], "stats": {"total": 17, "additions": 3, "deletions": 14}, "files": [{"sha": "c9bc9f24a62002cd4102e4df1faca2be79ba5ded", "filename": "gcc/config/csky/constraints.md", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b8a618539c26f19cb5753f0757848c0933f3ac7c/gcc%2Fconfig%2Fcsky%2Fconstraints.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b8a618539c26f19cb5753f0757848c0933f3ac7c/gcc%2Fconfig%2Fcsky%2Fconstraints.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fcsky%2Fconstraints.md?ref=b8a618539c26f19cb5753f0757848c0933f3ac7c", "patch": "@@ -24,8 +24,6 @@\n (define_register_constraint \"b\" \"LOW_REGS\"  \"r0 - r15\")\n (define_register_constraint \"c\" \"C_REGS\" \"C register\")\n (define_register_constraint \"y\" \"HILO_REGS\" \"HI and LO registers\")\n-(define_register_constraint \"l\" \"LO_REGS\" \"LO register\")\n-(define_register_constraint \"h\" \"HI_REGS\" \"HI register\")\n (define_register_constraint \"v\" \"V_REGS\" \"vector registers\")\n (define_register_constraint \"z\" \"SP_REGS\" \"SP register\")\n "}, {"sha": "b2160b949308d24373cf5e0158a69b17dc07e7ff", "filename": "gcc/config/csky/csky.c", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b8a618539c26f19cb5753f0757848c0933f3ac7c/gcc%2Fconfig%2Fcsky%2Fcsky.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b8a618539c26f19cb5753f0757848c0933f3ac7c/gcc%2Fconfig%2Fcsky%2Fcsky.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fcsky%2Fcsky.c?ref=b8a618539c26f19cb5753f0757848c0933f3ac7c", "patch": "@@ -112,7 +112,7 @@ enum reg_class regno_reg_class[FIRST_PSEUDO_REGISTER] =\n   /* Reserved.  */\n   RESERVE_REGS,\n   /* CC,HI,LO registers.  */\n-  C_REGS,      HI_REGS,\t     LO_REGS,\n+  C_REGS,      HILO_REGS,     HILO_REGS,\n   /* Reserved.  */\n   RESERVE_REGS, RESERVE_REGS, RESERVE_REGS, RESERVE_REGS,\n   RESERVE_REGS, RESERVE_REGS, RESERVE_REGS, RESERVE_REGS,\n@@ -2477,8 +2477,7 @@ csky_secondary_reload (bool in_p ATTRIBUTE_UNUSED, rtx x,\n   /* We always require a general register when copying anything to\n      HI/LO_REGNUM, except when copying an SImode value from HI/LO_REGNUM\n      to a general register, or when copying from register 0.  */\n-  if ((rclass == HILO_REGS || rclass == LO_REGS || rclass == HI_REGS)\n-      && !CSKY_GENERAL_REGNO_P (regno))\n+  if (rclass == HILO_REGS && !CSKY_GENERAL_REGNO_P (regno))\n     return GENERAL_REGS;\n \n   if (rclass == V_REGS && !CSKY_GENERAL_REGNO_P (regno))\n@@ -6546,7 +6545,7 @@ csky_register_move_cost (machine_mode mode ATTRIBUTE_UNUSED,\n    || (CLASS) == LOW_REGS)\n \n #define HILO_REG_CLASS_P(CLASS) \\\n-  ((CLASS) == HI_REGS || (CLASS) == LO_REGS || (CLASS) == HILO_REGS)\n+  ((CLASS) == HILO_REGS)\n \n #define V_REG_CLASS_P(CLASS) \\\n   ((CLASS) == V_REGS)"}, {"sha": "1fd72d0f3ee32ce62b75f0943e6d247358b5b126", "filename": "gcc/config/csky/csky.h", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b8a618539c26f19cb5753f0757848c0933f3ac7c/gcc%2Fconfig%2Fcsky%2Fcsky.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b8a618539c26f19cb5753f0757848c0933f3ac7c/gcc%2Fconfig%2Fcsky%2Fcsky.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fcsky%2Fcsky.h?ref=b8a618539c26f19cb5753f0757848c0933f3ac7c", "patch": "@@ -685,8 +685,6 @@ enum reg_class\n   LOW_REGS,\n   GENERAL_REGS,\n   C_REGS,\n-  HI_REGS,\n-  LO_REGS,\n   HILO_REGS,\n   V_REGS,\n   OTHER_REGS,\n@@ -706,8 +704,6 @@ enum reg_class\n   \"LOW_REGS\",\t\t\\\n   \"GENERAL_REGS\",\t\\\n   \"C_REGS\",\t\t\\\n-  \"HI_REGS\",\t\t\\\n-  \"LO_REGS\",\t\t\\\n   \"HILO_REGS\",\t\t\\\n   \"V_REGS\",\t\t\\\n   \"OTHER_REGS\",\t\t\\\n@@ -731,10 +727,6 @@ enum reg_class\n    0x00000000, 0x00000000, 0x00000000},\t\t\t/* GENERAL_REGS  */   \\\n   {0x00000000, 0x00000002, 0x00000000, 0x00000000,\t\t\t      \\\n    0x00000000, 0x00000000, 0x00000000},\t\t\t/* C_REGS\t */   \\\n-  {0x00000000, 0x00000004, 0x00000000, 0x00000000,\t\t\t      \\\n-   0x00000000, 0x00000000, 0x00000000},\t\t\t/* HI_REG\t */   \\\n-  {0x00000000, 0x00000008, 0x00000000, 0x00000000,\t\t\t      \\\n-   0x00000000, 0x00000000, 0x00000000},\t\t\t/* LO_REG\t */   \\\n   {0x00000000, 0x0000000c, 0x00000000, 0x00000000,\t\t\t      \\\n    0x00000000, 0x00000000, 0x00000000},\t\t\t/* HILO_REGS     */   \\\n   {0x00000000, 0xFFF00000, 0x007FFF8F, 0x00000000,\t\t\t      \\"}]}