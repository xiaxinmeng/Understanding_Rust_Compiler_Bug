{"sha": "b37bf5bdb3fb6f648e103c35df5a05165277956d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjM3YmY1YmRiM2ZiNmY2NDhlMTAzYzM1ZGY1YTA1MTY1Mjc3OTU2ZA==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2001-01-11T11:29:06Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2001-01-11T11:29:06Z"}, "message": "parse.y (template_parm_header, [...]): New reductions.\n\ncp:\n\t* parse.y (template_parm_header, template_spec_header): New\n\treductions. Split out from ...\n\t(template_header): ... here. Use them.\n\t(template_template_parm): Use template_parm_header.\n\t* semantics.c (finish_template_template_parm): Add assert.\ntestsuite:\n\t* g++.old-deja/g++.pt/crash63.C: New test.\n\nFrom-SVN: r38900", "tree": {"sha": "11b6da7db1cd5be48000f077ba320d400ebfe72a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/11b6da7db1cd5be48000f077ba320d400ebfe72a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b37bf5bdb3fb6f648e103c35df5a05165277956d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b37bf5bdb3fb6f648e103c35df5a05165277956d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b37bf5bdb3fb6f648e103c35df5a05165277956d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b37bf5bdb3fb6f648e103c35df5a05165277956d/comments", "author": null, "committer": null, "parents": [{"sha": "0ab409ed42980a740a408a48ec54d715358933d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ab409ed42980a740a408a48ec54d715358933d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ab409ed42980a740a408a48ec54d715358933d9"}], "stats": {"total": 46, "additions": 39, "deletions": 7}, "files": [{"sha": "31d2d1229a17a94dd0cea8385956509f3b17fed3", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b37bf5bdb3fb6f648e103c35df5a05165277956d/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b37bf5bdb3fb6f648e103c35df5a05165277956d/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=b37bf5bdb3fb6f648e103c35df5a05165277956d", "patch": "@@ -1,3 +1,11 @@\n+2001-01-11  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* parse.y (template_parm_header, template_spec_header): New\n+\treductions. Split out from ...\n+\t(template_header): ... here. Use them.\n+\t(template_template_parm): Use template_parm_header.\n+\t* semantics.c (finish_template_template_parm): Add assert.\n+\n 2001-01-10  Mark Mitchell  <mark@codesourcery.com>\n \n \t* mangle.c (write_builtin_type): Fix thinko."}, {"sha": "f74fae4b1adabdfe42191d24b61bf7708ccf7767", "filename": "gcc/cp/parse.y", "status": "modified", "additions": 13, "deletions": 4, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b37bf5bdb3fb6f648e103c35df5a05165277956d/gcc%2Fcp%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b37bf5bdb3fb6f648e103c35df5a05165277956d/gcc%2Fcp%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparse.y?ref=b37bf5bdb3fb6f648e103c35df5a05165277956d", "patch": "@@ -395,7 +395,8 @@ cp_parse_init ()\n %type <ttype> maybe_parmlist\n %type <ttype> member_init\n %type <ftype> member_init_list\n-%type <ttype> template_header template_parm_list template_parm\n+%type <ttype> template_parm_header template_spec_header template_header\n+%type <ttype> template_parm_list template_parm\n %type <ttype> template_type_parm template_template_parm\n %type <code>  template_close_bracket\n %type <ttype> apparent_template_type\n@@ -599,16 +600,24 @@ extern_lang_string:\n \t\t  pop_lang_context (); push_lang_context ($2); }\n \t;\n \n-template_header:\n+template_parm_header:\n \t  TEMPLATE '<'\n \t\t{ begin_template_parm_list (); }\n \t  template_parm_list '>'\n \t\t{ $$ = end_template_parm_list ($4); }\n-\t| TEMPLATE '<' '>'\n+\t;\n+\n+template_spec_header:\n+\t  TEMPLATE '<' '>'\n                 { begin_specialization(); \n \t\t  $$ = NULL_TREE; }\n \t;\n \n+template_header:\n+\t  template_parm_header\n+\t| template_spec_header\n+\t;\n+\n template_parm_list:\n \t  template_parm\n \t\t{ $$ = process_template_parm (NULL_TREE, $1); }\n@@ -630,7 +639,7 @@ template_type_parm:\n \t;\n \n template_template_parm:\n-\t  template_header aggr maybe_identifier\n+\t  template_parm_header aggr maybe_identifier\n                 { $$ = finish_template_template_parm ($2, $3); }\n \t;\n "}, {"sha": "10e67c644634cb5067f8cdb44aa367bd3baf7601", "filename": "gcc/cp/semantics.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b37bf5bdb3fb6f648e103c35df5a05165277956d/gcc%2Fcp%2Fsemantics.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b37bf5bdb3fb6f648e103c35df5a05165277956d/gcc%2Fcp%2Fsemantics.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fsemantics.c?ref=b37bf5bdb3fb6f648e103c35df5a05165277956d", "patch": "@@ -1689,6 +1689,8 @@ finish_template_template_parm (aggr, identifier)\n   DECL_ARTIFICIAL (decl) = 1;\n   end_template_decl ();\n \n+  my_friendly_assert (DECL_TEMPLATE_PARMS (tmpl), 20010110);\n+\n   return finish_template_type_parm (aggr, tmpl);\n }\n "}, {"sha": "a87cf8850d7f6d3844ce80e452b35f33643179ce", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b37bf5bdb3fb6f648e103c35df5a05165277956d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b37bf5bdb3fb6f648e103c35df5a05165277956d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b37bf5bdb3fb6f648e103c35df5a05165277956d", "patch": "@@ -1,3 +1,7 @@\n+2001-01-11  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* g++.old-deja/g++.pt/crash63.C: New test.\n+\n 2001-01-11  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n \t* gcc.dg/cpp/if-2.c: Add wide char test without sign extension.\n@@ -8,15 +12,15 @@\n \t\n 2001-01-10  Nathan Sidwell  <nathan@codesourcery.com>\n \n-\t* g++.old_deja/g++.pt/error3.C: New test.\n+\t* g++.old-deja/g++.pt/error3.C: New test.\n \n 2001-01-10  Nathan Sidwell  <nathan@codesourcery.com>\n \n-\t* g++.old_deja/g++.other/crash39.C: New test.\n+\t* g++.old-deja/g++.other/crash39.C: New test.\n \n 2001-01-10  Nathan Sidwell  <nathan@codesourcery.com>\n \n-\t* g++.old_deja/g++.other/vbase4.C: New test.\n+\t* g++.old-deja/g++.other/vbase4.C: New test.\n \n 2001-01-08  Jonathan Larmour  <jlarmour@redhat.com>\n "}, {"sha": "f88af7228bb63d9a96f1ce232ee0fee265aaabcf", "filename": "gcc/testsuite/g++.old-deja/g++.pt/crash63.C", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b37bf5bdb3fb6f648e103c35df5a05165277956d/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fcrash63.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b37bf5bdb3fb6f648e103c35df5a05165277956d/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fcrash63.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fcrash63.C?ref=b37bf5bdb3fb6f648e103c35df5a05165277956d", "patch": "@@ -0,0 +1,9 @@\n+// Build don't link:\n+\n+// Copyright (C) 2000 Free Software Foundation, Inc.\n+// Contributed by Nathan Sidwell 10 Jan 2001 <nathan@codesourcery.com>\n+\n+// Bug 1585. We ICEd on a template template parm with no parms.\n+\n+template<template<class> class C> class B;\n+template<template<> class C> class D; // ERROR - parse error"}]}