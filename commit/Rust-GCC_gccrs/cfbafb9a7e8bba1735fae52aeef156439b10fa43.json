{"sha": "cfbafb9a7e8bba1735fae52aeef156439b10fa43", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2ZiYWZiOWE3ZThiYmExNzM1ZmFlNTJhZWVmMTU2NDM5YjEwZmE0Mw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-01-31T23:12:42Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-01-31T23:12:42Z"}, "message": "runtime: Recognize morestack.S if there is no function name.\n\nFrom-SVN: r195634", "tree": {"sha": "55a3ff09d744a0d922fdbd77d7211de2573c8ede", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/55a3ff09d744a0d922fdbd77d7211de2573c8ede"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cfbafb9a7e8bba1735fae52aeef156439b10fa43", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cfbafb9a7e8bba1735fae52aeef156439b10fa43", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cfbafb9a7e8bba1735fae52aeef156439b10fa43", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cfbafb9a7e8bba1735fae52aeef156439b10fa43/comments", "author": null, "committer": null, "parents": [{"sha": "c5f4be845ac03fb125b36df3a4c843ecceb0ceec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c5f4be845ac03fb125b36df3a4c843ecceb0ceec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c5f4be845ac03fb125b36df3a4c843ecceb0ceec"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "c20dbf356104eb0c227c786289f2f200c47d6f6b", "filename": "libgo/runtime/go-callers.c", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cfbafb9a7e8bba1735fae52aeef156439b10fa43/libgo%2Fruntime%2Fgo-callers.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cfbafb9a7e8bba1735fae52aeef156439b10fa43/libgo%2Fruntime%2Fgo-callers.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fgo-callers.c?ref=cfbafb9a7e8bba1735fae52aeef156439b10fa43", "patch": "@@ -34,13 +34,24 @@ callback (void *data, uintptr_t pc, const char *filename, int lineno,\n   /* Skip split stack functions.  */\n   if (function != NULL)\n     {\n-      const char *p = function;\n+      const char *p;\n \n+      p = function;\n       if (__builtin_strncmp (p, \"___\", 3) == 0)\n \t++p;\n       if (__builtin_strncmp (p, \"__morestack_\", 12) == 0)\n \treturn 0;\n     }\n+  else if (filename != NULL)\n+    {\n+      const char *p;\n+\n+      p = strrchr (filename, '/');\n+      if (p == NULL)\n+\tp = filename;\n+      if (__builtin_strncmp (p, \"morestack.S\", 11) == 0)\n+\treturn 0;\n+    }\n \n   if (arg->skip > 0)\n     {"}]}