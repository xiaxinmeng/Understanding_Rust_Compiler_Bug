{"sha": "7b1d1edf9946d53d17fbd1e7a67c2422156c4c1e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2IxZDFlZGY5OTQ2ZDUzZDE3ZmJkMWU3YTY3YzI0MjIxNTZjNGMxZQ==", "commit": {"author": {"name": "Felix Yen", "email": "fwy@alumni.brown.edu", "date": "2004-01-30T18:14:42Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2004-01-30T18:14:42Z"}, "message": "allocator_thread.cc (do_loop): Don't use clear, but instead assign.\n\n\n2004-01-30  Felix Yen  <fwy@alumni.brown.edu>\n\n\t* testsuite/performance/20_util/allocator_thread.cc (do_loop):\n\tDon't use clear, but instead assign. Use insert.\n\nFrom-SVN: r76979", "tree": {"sha": "f63c283bb715f55f67f5a2d19ada499287ba6c08", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f63c283bb715f55f67f5a2d19ada499287ba6c08"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7b1d1edf9946d53d17fbd1e7a67c2422156c4c1e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b1d1edf9946d53d17fbd1e7a67c2422156c4c1e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b1d1edf9946d53d17fbd1e7a67c2422156c4c1e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b1d1edf9946d53d17fbd1e7a67c2422156c4c1e/comments", "author": null, "committer": null, "parents": [{"sha": "c9732ce7d527ee3d3adcabe524242221096eedd3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c9732ce7d527ee3d3adcabe524242221096eedd3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c9732ce7d527ee3d3adcabe524242221096eedd3"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "10068e95092715727da488319ebace7a9a300405", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b1d1edf9946d53d17fbd1e7a67c2422156c4c1e/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b1d1edf9946d53d17fbd1e7a67c2422156c4c1e/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=7b1d1edf9946d53d17fbd1e7a67c2422156c4c1e", "patch": "@@ -1,3 +1,8 @@\n+2004-01-30  Felix Yen  <fwy@alumni.brown.edu>\n+\n+\t* testsuite/performance/20_util/allocator_thread.cc (do_loop):\n+\tDon't use clear, but instead assign. Use insert.\n+\n 2004-01-30  Benjamin Kosnik  <bkoz@redhat.com>\n \n \t* src/demangle.cc: Add instantiations."}, {"sha": "e9e84289a4058038e0099757ed59e14d444f8198", "filename": "libstdc++-v3/testsuite/performance/20_util/allocator_thread.cc", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b1d1edf9946d53d17fbd1e7a67c2422156c4c1e/libstdc%2B%2B-v3%2Ftestsuite%2Fperformance%2F20_util%2Fallocator_thread.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b1d1edf9946d53d17fbd1e7a67c2422156c4c1e/libstdc%2B%2B-v3%2Ftestsuite%2Fperformance%2F20_util%2Fallocator_thread.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fperformance%2F20_util%2Fallocator_thread.cc?ref=7b1d1edf9946d53d17fbd1e7a67c2422156c4c1e", "patch": "@@ -73,15 +73,16 @@ template<typename Container>\n \twhile (test_iterations < iterations)\n \t  {\n \t    for (int j = 0; j < insert_values; ++j)\n-\t      obj.push_back(test_iterations);\n+\t      obj.insert(obj.begin(), test_iterations);\n \t    ++test_iterations;\n \t  }\n-\tobj.clear();\n+\t// NB: Don't use clear() here, instead force deallocation.\n+        obj = Container();\n \ttest_iterations = 0;\n \twhile (test_iterations < iterations)\n \t  {\n \t    for (int j = 0; j < insert_values; ++j)\n-\t      obj.push_back(test_iterations);\n+\t      obj.insert(obj.begin(), test_iterations);\n \t    ++test_iterations;\n \t  }\n       }"}]}