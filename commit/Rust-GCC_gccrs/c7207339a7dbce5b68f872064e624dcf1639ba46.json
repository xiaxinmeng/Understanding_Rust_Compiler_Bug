{"sha": "c7207339a7dbce5b68f872064e624dcf1639ba46", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzcyMDczMzlhN2RiY2U1YjY4Zjg3MjA2NGU2MjRkY2YxNjM5YmE0Ng==", "commit": {"author": {"name": "Wilco Dijkstra", "email": "wdijkstr@arm.com", "date": "2019-10-14T12:21:14Z"}, "committer": {"name": "Wilco Dijkstra", "email": "wilco@gcc.gnu.org", "date": "2019-10-14T12:21:14Z"}, "message": "[ARM] Switch to default sched pressure algorithm\n\nCurrently the Arm backend selects the alternative sched pressure algorithm.\nThe issue is that this doesn't take register pressure into account, and so\nit causes significant additional spilling on Arm where there are only 14\nallocatable registers.  Building SPEC2006 showed significant codesize gains\nwith the default pressure algorithm, so switch back to that.  PR77308 shows\n~800 fewer instructions.\n\nSPECINT2006 is ~0.6% faster on Cortex-A57 together with the other DImode\npatches. Overall SPEC codesize is 1.1% smaller.\n\n    gcc/\n\t* config/arm/arm.c (arm_option_override): Don't override sched\n\tpressure algorithm.\n\nFrom-SVN: r276960", "tree": {"sha": "3fdec4e4d17c72bb738c9859b3454f12d7e6d46f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3fdec4e4d17c72bb738c9859b3454f12d7e6d46f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c7207339a7dbce5b68f872064e624dcf1639ba46", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7207339a7dbce5b68f872064e624dcf1639ba46", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c7207339a7dbce5b68f872064e624dcf1639ba46", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7207339a7dbce5b68f872064e624dcf1639ba46/comments", "author": null, "committer": null, "parents": [{"sha": "7bd8bec53f0e43c7a7852c54650746e65324514b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7bd8bec53f0e43c7a7852c54650746e65324514b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7bd8bec53f0e43c7a7852c54650746e65324514b"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "f07a0e61e6be6fbcb6983a3b8b6a8d617c5dad1a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7207339a7dbce5b68f872064e624dcf1639ba46/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7207339a7dbce5b68f872064e624dcf1639ba46/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c7207339a7dbce5b68f872064e624dcf1639ba46", "patch": "@@ -1,3 +1,8 @@\n+2019-10-14  Wilco Dijkstra  <wdijkstr@arm.com>\n+\n+\t* config/arm/arm.c (arm_option_override): Don't override sched\n+\tpressure algorithm.\n+\n 2019-10-14  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/92069"}, {"sha": "394b1dd1902b21006a512c52f71d13c422be4a59", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7207339a7dbce5b68f872064e624dcf1639ba46/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7207339a7dbce5b68f872064e624dcf1639ba46/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=c7207339a7dbce5b68f872064e624dcf1639ba46", "patch": "@@ -3555,11 +3555,6 @@ arm_option_override (void)\n \t\t\t   global_options.x_param_values,\n \t\t\t   global_options_set.x_param_values);\n \n-  /* Use the alternative scheduling-pressure algorithm by default.  */\n-  maybe_set_param_value (PARAM_SCHED_PRESSURE_ALGORITHM, SCHED_PRESSURE_MODEL,\n-\t\t\t global_options.x_param_values,\n-\t\t\t global_options_set.x_param_values);\n-\n   /* Look through ready list and all of queue for instructions\n      relevant for L2 auto-prefetcher.  */\n   int param_sched_autopref_queue_depth;"}]}