{"sha": "4c67db1411f2a68436ea76248a15e25930505acf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGM2N2RiMTQxMWYyYTY4NDM2ZWE3NjI0OGExNWUyNTkzMDUwNWFjZg==", "commit": {"author": {"name": "Kelley Cook", "email": "kcook@gcc.gnu.org", "date": "2004-10-19T00:21:03Z"}, "committer": {"name": "R. Kelley Cook", "email": "kcook@gcc.gnu.org", "date": "2004-10-19T00:21:03Z"}, "message": "configure.ac (powerpc-*-darwin*): Require assembler to support .machine directive.\n\n2004-10-18  Kelley Cook  <kcook@gcc.gnu.org>\n\n\t* configure.ac (powerpc-*-darwin*): Require assembler to support\n\t.machine directive.\n\t* configure: Regenerate.\n\nFrom-SVN: r89264", "tree": {"sha": "9c3d4e6592609aab0a533a42e50623eaa0eac20d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9c3d4e6592609aab0a533a42e50623eaa0eac20d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4c67db1411f2a68436ea76248a15e25930505acf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c67db1411f2a68436ea76248a15e25930505acf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c67db1411f2a68436ea76248a15e25930505acf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c67db1411f2a68436ea76248a15e25930505acf/comments", "author": null, "committer": null, "parents": [{"sha": "df484c6bbc575b64ee5d5b02f20b54afd6cf1988", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/df484c6bbc575b64ee5d5b02f20b54afd6cf1988", "html_url": "https://github.com/Rust-GCC/gccrs/commit/df484c6bbc575b64ee5d5b02f20b54afd6cf1988"}], "stats": {"total": 53, "additions": 49, "deletions": 4}, "files": [{"sha": "20fcd5f215a5147ba224c32abcb14fbc6346043a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c67db1411f2a68436ea76248a15e25930505acf/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c67db1411f2a68436ea76248a15e25930505acf/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4c67db1411f2a68436ea76248a15e25930505acf", "patch": "@@ -1,3 +1,9 @@\n+2004-10-18  Kelley Cook  <kcook@gcc.gnu.org>\n+\n+\t* configure.ac (powerpc-*-darwin*): Require assembler to support\n+\t.machine directive.\n+\t* configure: Regenerate.\n+\n 2004-10-18  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* reload1.c (ior_hard_reg_set): Remove."}, {"sha": "6805f56cde1f1e85880e5b6cb12fad52ed5981de", "filename": "gcc/configure", "status": "modified", "additions": 33, "deletions": 2, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c67db1411f2a68436ea76248a15e25930505acf/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c67db1411f2a68436ea76248a15e25930505acf/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=4c67db1411f2a68436ea76248a15e25930505acf", "patch": "@@ -14369,9 +14369,40 @@ fi\n     case $target in\n       *-*-aix*) conftest_s='\t.csect .text[PR]\n \tmfcr 3,128';;\n-      *-*-darwin*) conftest_s='\t.text\n+      *-*-darwin*)\n+       echo \"$as_me:$LINENO: checking assembler for .machine directive support\" >&5\n+echo $ECHO_N \"checking assembler for .machine directive support... $ECHO_C\" >&6\n+if test \"${gcc_cv_as_machine_directive+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  gcc_cv_as_machine_directive=no\n+  if test x$gcc_cv_as != x; then\n+    echo '\t.machine ppc7400' > conftest.s\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }\n+    then\n+\tgcc_cv_as_machine_directive=yes\n+    else\n+      echo \"configure: failed program was\" >&5\n+      cat conftest.s >&5\n+    fi\n+    rm -f conftest.o conftest.s\n+  fi\n+fi\n+echo \"$as_me:$LINENO: result: $gcc_cv_as_machine_directive\" >&5\n+echo \"${ECHO_T}$gcc_cv_as_machine_directive\" >&6\n+\n+       if test x$gcc_cv_as_machine_directive != xyes; then\n+         echo \"*** This target requires an assembler supporting \\\".machine\\\"\" >&2\n+         exit 1\n+       fi\n+       conftest_s='\t.text\n \tmfcr r3,128';;\n-      *)       conftest_s='\t.machine power4\n+      *) conftest_s='\t.machine power4\n \t.text\n \tmfcr 3,128';;\n     esac"}, {"sha": "ee559a29fe7149a9f2a792daca6a9a07f5716334", "filename": "gcc/configure.ac", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c67db1411f2a68436ea76248a15e25930505acf/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c67db1411f2a68436ea76248a15e25930505acf/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=4c67db1411f2a68436ea76248a15e25930505acf", "patch": "@@ -2695,9 +2695,17 @@ foo:\tnop\n     case $target in\n       *-*-aix*) conftest_s='\t.csect .text[[PR]]\n \tmfcr 3,128';;\n-      *-*-darwin*) conftest_s='\t.text\n+      *-*-darwin*)\n+       gcc_GAS_CHECK_FEATURE([.machine directive support],\n+         gcc_cv_as_machine_directive,,,\n+         [\t.machine ppc7400])\n+       if test x$gcc_cv_as_machine_directive != xyes; then\n+         echo \"*** This target requires an assembler supporting \\\".machine\\\"\" >&2\n+         exit 1\n+       fi\n+       conftest_s='\t.text\n \tmfcr r3,128';;\n-      *)       conftest_s='\t.machine power4\n+      *) conftest_s='\t.machine power4\n \t.text\n \tmfcr 3,128';;\n     esac"}]}