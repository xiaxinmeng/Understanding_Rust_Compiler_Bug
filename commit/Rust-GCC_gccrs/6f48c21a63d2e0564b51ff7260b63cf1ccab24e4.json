{"sha": "6f48c21a63d2e0564b51ff7260b63cf1ccab24e4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmY0OGMyMWE2M2QyZTA1NjRiNTFmZjcyNjBiNjNjZjFjY2FiMjRlNA==", "commit": {"author": {"name": "Pete Steinmetz", "email": "steinmtz@us.ibm.com", "date": "2005-08-24T20:28:07Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2005-08-24T20:28:07Z"}, "message": "params.def (PARAM_MIN_SPEC_PROB): New.\n\n2005-08-24  Pete Steinmetz  <steinmtz@us.ibm.com>\n\n        * params.def (PARAM_MIN_SPEC_PROB): New.\n        * sched-rgn.c (MIN_PROBABILITY): Delete.\n        (compute_trg_info): Convert to PARAM_VALUE.\n        * doc/invoke.texi (param): Document min-spec-prob.\n\nFrom-SVN: r103450", "tree": {"sha": "ec6fd4aa5498dddaa49fc43b1050d058cd4624c3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ec6fd4aa5498dddaa49fc43b1050d058cd4624c3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6f48c21a63d2e0564b51ff7260b63cf1ccab24e4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f48c21a63d2e0564b51ff7260b63cf1ccab24e4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f48c21a63d2e0564b51ff7260b63cf1ccab24e4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f48c21a63d2e0564b51ff7260b63cf1ccab24e4/comments", "author": {"login": "steinmtz", "id": 51826110, "node_id": "MDQ6VXNlcjUxODI2MTEw", "avatar_url": "https://avatars.githubusercontent.com/u/51826110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steinmtz", "html_url": "https://github.com/steinmtz", "followers_url": "https://api.github.com/users/steinmtz/followers", "following_url": "https://api.github.com/users/steinmtz/following{/other_user}", "gists_url": "https://api.github.com/users/steinmtz/gists{/gist_id}", "starred_url": "https://api.github.com/users/steinmtz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steinmtz/subscriptions", "organizations_url": "https://api.github.com/users/steinmtz/orgs", "repos_url": "https://api.github.com/users/steinmtz/repos", "events_url": "https://api.github.com/users/steinmtz/events{/privacy}", "received_events_url": "https://api.github.com/users/steinmtz/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "fe58e07668767de1adc8cab509649a485607d127", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe58e07668767de1adc8cab509649a485607d127", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fe58e07668767de1adc8cab509649a485607d127"}], "stats": {"total": 22, "additions": 17, "deletions": 5}, "files": [{"sha": "1629304636f07940c42e955772b2d70391e67ec4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f48c21a63d2e0564b51ff7260b63cf1ccab24e4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f48c21a63d2e0564b51ff7260b63cf1ccab24e4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6f48c21a63d2e0564b51ff7260b63cf1ccab24e4", "patch": "@@ -1,3 +1,10 @@\n+2005-08-24  Pete Steinmetz  <steinmtz@us.ibm.com>\n+\n+\t* params.def (PARAM_MIN_SPEC_PROB): New.\n+\t* sched-rgn.c (MIN_PROBABILITY): Delete.\n+\t(compute_trg_info): Convert to PARAM_VALUE.\n+\t* doc/invoke.texi (param): Document min-spec-prob.\n+\n 2005-08-24  Fariborz Jahanian <fjahanian@apple.com>\n \n \t* config/darwin.h: define __PIC__"}, {"sha": "d31e77b467a3417ad639f5dc02abc8af44ef5569", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f48c21a63d2e0564b51ff7260b63cf1ccab24e4/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f48c21a63d2e0564b51ff7260b63cf1ccab24e4/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=6f48c21a63d2e0564b51ff7260b63cf1ccab24e4", "patch": "@@ -6005,6 +6005,10 @@ interblock scheduling.  The default value is 10.\n The maximum number of insns in a region to be considered for\n interblock scheduling.  The default value is 100.\n \n+@item min-sched-prob\n+The minimum probability of reaching a source block for interblock\n+speculative scheduling.  The default value is 40.\n+\n @item max-last-value-rtl\n \n The maximum size measured as number of RTLs that can be recorded in an expression"}, {"sha": "a777efa2e1da69c9409105c00ce4f3de9fbd8254", "filename": "gcc/params.def", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f48c21a63d2e0564b51ff7260b63cf1ccab24e4/gcc%2Fparams.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f48c21a63d2e0564b51ff7260b63cf1ccab24e4/gcc%2Fparams.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fparams.def?ref=6f48c21a63d2e0564b51ff7260b63cf1ccab24e4", "patch": "@@ -451,6 +451,11 @@ DEFPARAM(PARAM_MAX_SCHED_REGION_INSNS,\n \t \"The maximum number of insns in a region to be considered for interblock scheduling\",\n \t 100, 0, 0)\n \n+DEFPARAM(PARAM_MIN_SPEC_PROB,\n+         \"min-spec-prob\",\n+         \"The minimum probability of reaching a source block for interblock speculative scheduling\",\n+         40, 0, 0)\n+\n DEFPARAM(PARAM_MAX_LAST_VALUE_RTL,\n \t \"max-last-value-rtl\",\n \t \"The maximum number of RTL nodes that can be recorded as combiner's last value\","}, {"sha": "69bd3598576c094ae200069aee6eac21bedbd7ab", "filename": "gcc/sched-rgn.c", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f48c21a63d2e0564b51ff7260b63cf1ccab24e4/gcc%2Fsched-rgn.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f48c21a63d2e0564b51ff7260b63cf1ccab24e4/gcc%2Fsched-rgn.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsched-rgn.c?ref=6f48c21a63d2e0564b51ff7260b63cf1ccab24e4", "patch": "@@ -251,10 +251,6 @@ static void compute_dom_prob_ps (int);\n #define IS_SPECULATIVE_INSN(INSN) (IS_SPECULATIVE (BLOCK_TO_BB (BLOCK_NUM (INSN))))\n #define INSN_BB(INSN) (BLOCK_TO_BB (BLOCK_NUM (INSN)))\n \n-/* Parameters affecting the decision of rank_for_schedule().\n-   ??? Nope.  But MIN_PROBABILITY is used in compute_trg_info.  */\n-#define MIN_PROBABILITY 40\n-\n /* Speculative scheduling functions.  */\n static int check_live_1 (int, rtx);\n static void update_live_1 (int, rtx);\n@@ -1013,7 +1009,7 @@ compute_trg_info (int trg)\n       if (sp->is_valid)\n \t{\n \t  sp->src_prob = GET_SRC_PROB (i, trg);\n-\t  sp->is_valid = (sp->src_prob >= MIN_PROBABILITY);\n+\t  sp->is_valid = (sp->src_prob >= PARAM_VALUE (PARAM_MIN_SPEC_PROB));\n \t}\n \n       if (sp->is_valid)"}]}