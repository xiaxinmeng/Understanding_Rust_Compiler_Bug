{"sha": "e6a98ba89323ec0f641df79101ea99dadda441ce", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTZhOThiYTg5MzIzZWMwZjY0MWRmNzkxMDFlYTk5ZGFkZGE0NDFjZQ==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2006-12-16T05:27:31Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2006-12-16T05:27:31Z"}, "message": "re PR libfortran/30005 (Open errors (not/already exists etc.): show also the file name)\n\n2006-12-15  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libfortran/30005\n\t* gfortran.dg/open_errors.f90: New test.\n\nFrom-SVN: r119960", "tree": {"sha": "f633a3747fd5d6e91e5cb60fe8194da44eed93b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f633a3747fd5d6e91e5cb60fe8194da44eed93b1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e6a98ba89323ec0f641df79101ea99dadda441ce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6a98ba89323ec0f641df79101ea99dadda441ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e6a98ba89323ec0f641df79101ea99dadda441ce", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6a98ba89323ec0f641df79101ea99dadda441ce/comments", "author": null, "committer": null, "parents": [{"sha": "e96af95382d13b336d7b3bdc21e229c24b6b6571", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e96af95382d13b336d7b3bdc21e229c24b6b6571", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e96af95382d13b336d7b3bdc21e229c24b6b6571"}], "stats": {"total": 36, "additions": 36, "deletions": 0}, "files": [{"sha": "486bf17bd928005e8fdbe6235ed38bf728d92344", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e6a98ba89323ec0f641df79101ea99dadda441ce/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e6a98ba89323ec0f641df79101ea99dadda441ce/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e6a98ba89323ec0f641df79101ea99dadda441ce", "patch": "@@ -1,3 +1,8 @@\n+2006-12-15  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libfortran/30005\n+\t* gfortran.dg/open_errors.f90: New test.\n+\n 2006-12-15  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* gcc.dg/i386-cpuid.h (bit_SSSE3): New."}, {"sha": "009da073b4dfeeeaebc3825d65bb6a6eceab8817", "filename": "gcc/testsuite/gfortran.dg/open_errors.f90", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e6a98ba89323ec0f641df79101ea99dadda441ce/gcc%2Ftestsuite%2Fgfortran.dg%2Fopen_errors.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e6a98ba89323ec0f641df79101ea99dadda441ce/gcc%2Ftestsuite%2Fgfortran.dg%2Fopen_errors.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fopen_errors.f90?ref=e6a98ba89323ec0f641df79101ea99dadda441ce", "patch": "@@ -0,0 +1,31 @@\n+! { dg-do run }\n+! PR30005 Enhanced error messages for OPEN\n+! Submitted by Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+character(60) :: msg\n+character(25) :: n = \"temptestfile\"\n+open(77,file=n,status=\"new\")\n+close(77, status=\"keep\")\n+msg=\"\"\n+open(77,file=n,status=\"new\", iomsg=msg, iostat=i)\n+if (msg /= \"File 'temptestfile' already exists\") call abort()\n+\n+open(77,file=n,status=\"old\")\n+close(77, status=\"delete\")\n+open(77,file=n,status=\"old\", iomsg=msg, iostat=i)\n+if (msg /= \"File 'temptestfile' does not exist\") call abort()\n+\n+open(77,file=\"./\", iomsg=msg, iostat=i)\n+if (msg /= \"'./' is a directory\") call abort()\n+\n+open(77,file=n,status=\"new\")\n+i = chmod(n, \"-w\")\n+if (i == 0) then\n+ close(77, status=\"keep\")\n+ open(77,file=n, iomsg=msg, iostat=i, action=\"write\")\n+ if (msg /= \"Permission denied trying to open file 'temptestfile'\") call abort()\n+endif\n+\n+i = chmod(n,\"+w\")\n+open(77,file=n, iomsg=msg, iostat=i, action=\"read\")\n+close(77, status=\"delete\")\n+end"}]}