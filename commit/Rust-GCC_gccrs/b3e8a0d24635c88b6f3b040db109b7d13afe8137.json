{"sha": "b3e8a0d24635c88b6f3b040db109b7d13afe8137", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjNlOGEwZDI0NjM1Yzg4YjZmM2IwNDBkYjEwOWI3ZDEzYWZlODEzNw==", "commit": {"author": {"name": "DJ Delorie", "email": "dj@redhat.com", "date": "2012-07-31T22:21:21Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2012-07-31T22:21:21Z"}, "message": "s390.c (s390_option_override): Disable DWARF 3/4 extensions for TPF, unless specifically selected.\n\n* config/s390/s390.c (s390_option_override): Disable DWARF 3/4\nextensions for TPF, unless specifically selected.\n\nFrom-SVN: r190023", "tree": {"sha": "bfcfcdc16293f9633702c04e8659b9de379178ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bfcfcdc16293f9633702c04e8659b9de379178ac"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b3e8a0d24635c88b6f3b040db109b7d13afe8137", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3e8a0d24635c88b6f3b040db109b7d13afe8137", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3e8a0d24635c88b6f3b040db109b7d13afe8137", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3e8a0d24635c88b6f3b040db109b7d13afe8137/comments", "author": null, "committer": null, "parents": [{"sha": "7099ce06b06e1899b2c4a8aac93829a34b0b7108", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7099ce06b06e1899b2c4a8aac93829a34b0b7108", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7099ce06b06e1899b2c4a8aac93829a34b0b7108"}], "stats": {"total": 15, "additions": 15, "deletions": 0}, "files": [{"sha": "322ab5b3c811afa6fa9a233a8e7d0eccd459928d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3e8a0d24635c88b6f3b040db109b7d13afe8137/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3e8a0d24635c88b6f3b040db109b7d13afe8137/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b3e8a0d24635c88b6f3b040db109b7d13afe8137", "patch": "@@ -1,3 +1,8 @@\n+2012-07-31  DJ Delorie  <dj@redhat.com>\n+\n+\t* config/s390/s390.c (s390_option_override): Disable DWARF 3/4\n+\textensions for TPF, unless specifically selected.\n+\n 2012-08-01  Alan Modra  <amodra@gmail.com>\n \n \tPR target/54131"}, {"sha": "3a872911570b09c540cdc3284b07195e7c97abf6", "filename": "gcc/config/s390/s390.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3e8a0d24635c88b6f3b040db109b7d13afe8137/gcc%2Fconfig%2Fs390%2Fs390.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3e8a0d24635c88b6f3b040db109b7d13afe8137/gcc%2Fconfig%2Fs390%2Fs390.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.c?ref=b3e8a0d24635c88b6f3b040db109b7d13afe8137", "patch": "@@ -1654,6 +1654,16 @@ s390_option_override (void)\n   maybe_set_param_value (PARAM_SCHED_PRESSURE_ALGORITHM, 2,\n                          global_options.x_param_values,\n                          global_options_set.x_param_values);\n+\n+  if (TARGET_TPF)\n+    {\n+      /* Don't emit DWARF3/4 unless specifically selected.  The TPF\n+\t debuggers do not yet support DWARF 3/4.  */\n+      if (!global_options_set.x_dwarf_strict) \n+\tdwarf_strict = 1;\n+      if (!global_options_set.x_dwarf_version)\n+\tdwarf_version = 2;\n+    }\n }\n \n /* Map for smallest class containing reg regno.  */"}]}