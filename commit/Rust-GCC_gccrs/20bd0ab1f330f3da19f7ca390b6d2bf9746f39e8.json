{"sha": "20bd0ab1f330f3da19f7ca390b6d2bf9746f39e8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjBiZDBhYjFmMzMwZjNkYTE5ZjdjYTM5MGI2ZDJiZjk3NDZmMzllOA==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-05-10T19:07:04Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-05-10T19:07:04Z"}, "message": "*** empty log message ***\n\nFrom-SVN: r955", "tree": {"sha": "80c6d1631f2fb93af2e5311e8c7ce58d47db2312", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/80c6d1631f2fb93af2e5311e8c7ce58d47db2312"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/20bd0ab1f330f3da19f7ca390b6d2bf9746f39e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20bd0ab1f330f3da19f7ca390b6d2bf9746f39e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/20bd0ab1f330f3da19f7ca390b6d2bf9746f39e8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20bd0ab1f330f3da19f7ca390b6d2bf9746f39e8/comments", "author": null, "committer": null, "parents": [{"sha": "2207e2952c49585a923dadf2d805c79b9252d143", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2207e2952c49585a923dadf2d805c79b9252d143", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2207e2952c49585a923dadf2d805c79b9252d143"}], "stats": {"total": 21, "additions": 19, "deletions": 2}, "files": [{"sha": "81f75e1948d4d27a98b00320db7b99b961ab88bb", "filename": "gcc/Makefile.in", "status": "modified", "additions": 19, "deletions": 2, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/20bd0ab1f330f3da19f7ca390b6d2bf9746f39e8/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/20bd0ab1f330f3da19f7ca390b6d2bf9746f39e8/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=20bd0ab1f330f3da19f7ca390b6d2bf9746f39e8", "patch": "@@ -114,6 +114,13 @@ RANLIB_FOR_TARGET = $(TARGET_TOOLPREFIX)ranlib\n RANLIB_TEST_FOR_TARGET = [ -f $(TARGET_TOOLPREFIX)ranlib ]\n CROSS_TOOLS =\n \n+# There may be a premade insn-attrtab.c for this machine.\n+# (You could rebuild it with genattrtab as usual, but it takes a long time.)\n+# PREMADE_ATTRTAB is the file name of the file to use.\n+# PREMADE_ATTRTAB_MD is the md file it corresponds to.\n+PREMADE_ATTRTAB_MD = Makefile  # Guaranteed not to cmp equal to md.\n+PREMADE_ATTRTAB = \n+\n target= ... `configure' substitutes actual target name here.\n xmake_file= ... `configure' substitutes actual x- file name here.\n tmake_file= ... `configure' substitutes actual t- file name here.\n@@ -916,7 +923,13 @@ stamp-attr : md genattr $(srcdir)/move-if-change\n \n insn-attrtab.c: stamp-attrtab ;\n stamp-attrtab : md genattrtab $(srcdir)/move-if-change\n-\t./genattrtab md > tmp-attrtab.c\n+\tif cmp -s $(PREMADE_ATTRTAB_MD) md;\t\\\n+\tthen\t\t\t\t\t\\\n+\t  echo Using $(PREMADE_ATTRTAB);\t\\\n+\t  cp $(srcdir)/$(PREMADE_ATTRTAB) tmp-attrtab.c;\t\\\n+\telse\t\t\t\t\t\\\n+\t  ./genattrtab md > tmp-attrtab.c;\t\\\n+\tfi\n \t$(srcdir)/move-if-change tmp-attrtab.c insn-attrtab.c\n \ttouch stamp-attrtab\n \n@@ -1201,7 +1214,11 @@ mostlyclean:\n # Delete all files made by compilation\n # that don't exist in the distribution.\n clean: mostlyclean\n-\t-rm -f libgcc.a libgcc1.a libgcc2.a libgcc2.ready\n+# It may not be quite desirable to delete unprotoize.c here,\n+# but the spec for `make clean' requires it.\n+# Using unprotoize.c is not quite right in the first place, \n+# but what better way is there?\n+\t-rm -f libgcc.a libgcc1.a libgcc2.a libgcc2.ready unprotoize.c\n \n # Delete all files that users would normally create\n # while building and installing GCC."}]}