{"sha": "539d6b4aec3bbbcacf918db6edb57fe7c65e54d8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTM5ZDZiNGFlYzNiYmJjYWNmOTE4ZGI2ZWRiNTdmZTdjNjVlNTRkOA==", "commit": {"author": {"name": "Richard Sandiford", "email": "richard.sandiford@linaro.org", "date": "2011-05-03T07:51:13Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2011-05-03T07:51:13Z"}, "message": "vect-strided-u16-i3.c: New test.\n\ngcc/testsuite/\n\t* gcc.dg/vect/vect-strided-u16-i3.c: New test.\n\nFrom-SVN: r173296", "tree": {"sha": "3198b4f997b2da6bedb78bfba6b54a61d5d929e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3198b4f997b2da6bedb78bfba6b54a61d5d929e8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/539d6b4aec3bbbcacf918db6edb57fe7c65e54d8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/539d6b4aec3bbbcacf918db6edb57fe7c65e54d8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/539d6b4aec3bbbcacf918db6edb57fe7c65e54d8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/539d6b4aec3bbbcacf918db6edb57fe7c65e54d8/comments", "author": null, "committer": null, "parents": [{"sha": "9afa03618cffa411371393b5908ea0b2d37e5dba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9afa03618cffa411371393b5908ea0b2d37e5dba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9afa03618cffa411371393b5908ea0b2d37e5dba"}], "stats": {"total": 116, "additions": 116, "deletions": 0}, "files": [{"sha": "d9094f09c4715f83f54972480ce205468df19304", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/539d6b4aec3bbbcacf918db6edb57fe7c65e54d8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/539d6b4aec3bbbcacf918db6edb57fe7c65e54d8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=539d6b4aec3bbbcacf918db6edb57fe7c65e54d8", "patch": "@@ -1,3 +1,7 @@\n+2011-05-03  Richard Sandiford  <richard.sandiford@linaro.org>\n+\n+\t* gcc.dg/vect/vect-strided-u16-i3.c: New test.\n+\n 2011-05-03  Richard Sandiford  <richard.sandiford@linaro.org>\n \n \t* lib/target-supports.exp (check_effective_target_vect_strided):"}, {"sha": "e423148407d47ac157bdf4f5524d327257596ccb", "filename": "gcc/testsuite/gcc.dg/vect/vect-strided-u16-i3.c", "status": "added", "additions": 112, "deletions": 0, "changes": 112, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/539d6b4aec3bbbcacf918db6edb57fe7c65e54d8/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-strided-u16-i3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/539d6b4aec3bbbcacf918db6edb57fe7c65e54d8/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-strided-u16-i3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-strided-u16-i3.c?ref=539d6b4aec3bbbcacf918db6edb57fe7c65e54d8", "patch": "@@ -0,0 +1,112 @@\n+#include <stdarg.h>\n+#include \"tree-vect.h\"\n+\n+#define N 128\n+\n+typedef struct {\n+   unsigned short a;\n+   unsigned short b;\n+   unsigned short c;\n+} s;\n+\n+#define A(I) (I)\n+#define B(I) ((I) * 2)\n+#define C(I) ((unsigned short) ~((I) ^ 0x18))\n+\n+void __attribute__ ((noinline))\n+check1 (s *res)\n+{\n+  int i;\n+\n+  for (i = 0; i < N; i++)\n+    if (res[i].a != C (i)\n+\t|| res[i].b != A (i)\n+\t|| res[i].c != B (i))\n+      abort ();\n+}\n+\n+void __attribute__ ((noinline))\n+check2 (unsigned short *res)\n+{\n+  int i;\n+\n+  for (i = 0; i < N; i++)\n+    if (res[i] != (unsigned short) (A (i) + B (i) + C (i)))\n+      abort ();\n+}\n+\n+void __attribute__ ((noinline))\n+check3 (s *res)\n+{\n+  int i;\n+\n+  for (i = 0; i < N; i++)\n+    if (res[i].a != i\n+\t|| res[i].b != i\n+\t|| res[i].c != i)\n+      abort ();\n+}\n+\n+void __attribute__ ((noinline))\n+check4 (unsigned short *res)\n+{\n+  int i;\n+\n+  for (i = 0; i < N; i++)\n+    if (res[i] != (unsigned short) (A (i) + B (i)))\n+      abort ();\n+}\n+\n+void __attribute__ ((noinline))\n+main1 (s *arr)\n+{\n+  int i;\n+  s *ptr = arr;\n+  s res1[N];\n+  unsigned short res2[N];\n+\n+  for (i = 0; i < N; i++)\n+    {\n+      res1[i].a = arr[i].c;\n+      res1[i].b = arr[i].a;\n+      res1[i].c = arr[i].b;\n+    }\n+  check1 (res1);\n+\n+  for (i = 0; i < N; i++)\n+    res2[i] = arr[i].a + arr[i].b + arr[i].c;\n+  check2 (res2);\n+\n+  for (i = 0; i < N; i++)\n+    {\n+      res1[i].a = i;\n+      res1[i].b = i;\n+      res1[i].c = i;\n+    }\n+  check3 (res1);\n+\n+  for (i = 0; i < N; i++)\n+    res2[i] = arr[i].a + arr[i].b;\n+  check4 (res2);\n+}\n+\n+int main (void)\n+{\n+  int i;\n+  s arr[N];\n+\n+  check_vect ();\n+\n+  for (i = 0; i < N; i++)\n+    {\n+      arr[i].a = A (i);\n+      arr[i].b = B (i);\n+      arr[i].c = C (i);\n+    }\n+  main1 (arr);\n+\n+  return 0;\n+}\n+\n+/* { dg-final { scan-tree-dump-times \"vectorized 4 loops\" 1 \"vect\"  { target vect_strided3 } } } */\n+/* { dg-final { cleanup-tree-dump \"vect\" } } */"}]}