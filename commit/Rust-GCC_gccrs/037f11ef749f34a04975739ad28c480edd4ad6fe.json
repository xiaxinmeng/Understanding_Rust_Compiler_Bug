{"sha": "037f11ef749f34a04975739ad28c480edd4ad6fe", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDM3ZjExZWY3NDlmMzRhMDQ5NzU3MzlhZDI4YzQ4MGVkZDRhZDZmZQ==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@hxi.com", "date": "2002-02-14T13:25:30Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2002-02-14T13:25:30Z"}, "message": "h8300-protos.h: Update the prototype for const_costs.\n\n\t* config/h8300/h8300-protos.h: Update the prototype for\n\tconst_costs.\n\t* config/h8300/h8300.c (const_costs): Treat SET as a little\n\tmore expensive operation.\n\t* config/h8300/h8300.h (DEFAULT_RTX_COSTS): Update the\n\treference to const_costs.\n\nFrom-SVN: r49765", "tree": {"sha": "680cd718255e91f733cec1f48532d253c6d8e45a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/680cd718255e91f733cec1f48532d253c6d8e45a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/037f11ef749f34a04975739ad28c480edd4ad6fe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/037f11ef749f34a04975739ad28c480edd4ad6fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/037f11ef749f34a04975739ad28c480edd4ad6fe", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/037f11ef749f34a04975739ad28c480edd4ad6fe/comments", "author": null, "committer": null, "parents": [{"sha": "fdc76b0969e26fecaa475bf998909a85230c83c7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fdc76b0969e26fecaa475bf998909a85230c83c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fdc76b0969e26fecaa475bf998909a85230c83c7"}], "stats": {"total": 21, "additions": 16, "deletions": 5}, "files": [{"sha": "0da3da22e3bb8d66a16fb29cd9dc6dd4b1996943", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/037f11ef749f34a04975739ad28c480edd4ad6fe/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/037f11ef749f34a04975739ad28c480edd4ad6fe/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=037f11ef749f34a04975739ad28c480edd4ad6fe", "patch": "@@ -1,3 +1,12 @@\n+2002-02-14  Kazu Hirata  <kazu@hxi.com>\n+\n+\t* config/h8300/h8300-protos.h: Update the prototype for\n+\tconst_costs.\n+\t* config/h8300/h8300.c (const_costs): Treat SET as a little\n+\tmore expensive operation.\n+\t* config/h8300/h8300.h (DEFAULT_RTX_COSTS): Update the\n+\treference to const_costs.\n+\n 2002-02-14  Hans-Peter Nilsson  <hp@axis.com>\n \n \t* config.gcc (c4x-*-rtems*): Fix typo in tm_file setting."}, {"sha": "876b3cba2a440c8054c1383c4962214c9c13ad97", "filename": "gcc/config/h8300/h8300-protos.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/037f11ef749f34a04975739ad28c480edd4ad6fe/gcc%2Fconfig%2Fh8300%2Fh8300-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/037f11ef749f34a04975739ad28c480edd4ad6fe/gcc%2Fconfig%2Fh8300%2Fh8300-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Fh8300-protos.h?ref=037f11ef749f34a04975739ad28c480edd4ad6fe", "patch": "@@ -30,7 +30,7 @@ extern const char *output_a_shift PARAMS ((rtx *));\n extern const char *emit_a_rotate PARAMS ((enum rtx_code, rtx *));\n extern const char *output_simode_bld PARAMS ((int, rtx[]));\n extern void print_operand_address PARAMS ((FILE *, rtx));\n-extern int const_costs PARAMS ((rtx, enum rtx_code));\n+extern int const_costs PARAMS ((rtx, enum rtx_code, enum rtx_code));\n extern void print_operand PARAMS ((FILE *, rtx, int));\n extern void final_prescan_insn PARAMS ((rtx, rtx *, int));\n extern int do_movsi PARAMS ((rtx[]));"}, {"sha": "b0bd3df642ba2fce2e697e66af248c6119d99ff8", "filename": "gcc/config/h8300/h8300.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/037f11ef749f34a04975739ad28c480edd4ad6fe/gcc%2Fconfig%2Fh8300%2Fh8300.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/037f11ef749f34a04975739ad28c480edd4ad6fe/gcc%2Fconfig%2Fh8300%2Fh8300.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Fh8300.c?ref=037f11ef749f34a04975739ad28c480edd4ad6fe", "patch": "@@ -872,25 +872,27 @@ function_arg (cum, mode, type, named)\n /* Return the cost of the rtx R with code CODE.  */\n \n int\n-const_costs (r, c)\n+const_costs (r, c, outer_code)\n      rtx r;\n      enum rtx_code c;\n+     enum rtx_code outer_code;\n {\n   switch (c)\n     {\n     case CONST_INT:\n       switch (INTVAL (r))\n \t{\n \tcase 0:\n+\t  return 0;\n \tcase 1:\n \tcase 2:\n \tcase -1:\n \tcase -2:\n-\t  return 0;\n+\t  return 0 + (outer_code == SET);\n \tcase 4:\n \tcase -4:\n \t  if (TARGET_H8300H || TARGET_H8300S)\n-\t    return 0;\n+\t    return 0 + (outer_code == SET);\n \t  else\n \t    return 1;\n \tdefault:"}, {"sha": "21ef1bf50251070700b5674452a6e90c7751f1e6", "filename": "gcc/config/h8300/h8300.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/037f11ef749f34a04975739ad28c480edd4ad6fe/gcc%2Fconfig%2Fh8300%2Fh8300.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/037f11ef749f34a04975739ad28c480edd4ad6fe/gcc%2Fconfig%2Fh8300%2Fh8300.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Fh8300.h?ref=037f11ef749f34a04975739ad28c480edd4ad6fe", "patch": "@@ -1005,7 +1005,7 @@ struct cum_arg\n    return it with a return statement.  Otherwise, break from the switch.  */\n \n #define DEFAULT_RTX_COSTS(RTX, CODE, OUTER_CODE) \\\n-  return (const_costs (RTX, CODE));\n+  return (const_costs (RTX, CODE, OUTER_CODE));\n \n #define BRANCH_COST 0\n "}]}