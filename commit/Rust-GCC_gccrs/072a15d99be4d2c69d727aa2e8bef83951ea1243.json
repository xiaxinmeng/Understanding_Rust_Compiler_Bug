{"sha": "072a15d99be4d2c69d727aa2e8bef83951ea1243", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDcyYTE1ZDk5YmU0ZDJjNjlkNzI3YWEyZThiZWY4Mzk1MWVhMTI0Mw==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@unitus.it", "date": "2002-05-01T02:17:35Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2002-05-01T02:17:35Z"}, "message": "re PR libstdc++/6513 (sigfaults on trivial code)\n\n2002-05-01  Paolo Carlini  <pcarlini@unitus.it>\n\n\tPR libstdc++/6513\n\t* include/bits/stl_uninitialized.h\n\t(uninitialized_copy(_InputIter, _InputIter, _ForwardIter)):\n\tFix typo in 2001-07-17 commit: typedef _ValueType to\n\titerator_traits<_ForwardIter> not <_InputIter>.\n\t* testsuite/23_containers/vector_ctor.cc: Add test04.\n\nFrom-SVN: r52985", "tree": {"sha": "d08248dcaaa115da615a21aa072e416f7ef0373d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d08248dcaaa115da615a21aa072e416f7ef0373d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/072a15d99be4d2c69d727aa2e8bef83951ea1243", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/072a15d99be4d2c69d727aa2e8bef83951ea1243", "html_url": "https://github.com/Rust-GCC/gccrs/commit/072a15d99be4d2c69d727aa2e8bef83951ea1243", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/072a15d99be4d2c69d727aa2e8bef83951ea1243/comments", "author": null, "committer": null, "parents": [{"sha": "08b57fb3abf6b8591b0424da9cb0c5a44f5eb55e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08b57fb3abf6b8591b0424da9cb0c5a44f5eb55e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/08b57fb3abf6b8591b0424da9cb0c5a44f5eb55e"}], "stats": {"total": 25, "additions": 24, "deletions": 1}, "files": [{"sha": "ab097808f5471dd7516a6e7a8dc3ad897b5591f1", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/072a15d99be4d2c69d727aa2e8bef83951ea1243/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/072a15d99be4d2c69d727aa2e8bef83951ea1243/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=072a15d99be4d2c69d727aa2e8bef83951ea1243", "patch": "@@ -1,3 +1,12 @@\n+2002-05-01  Paolo Carlini  <pcarlini@unitus.it>\n+\n+\tPR libstdc++/6513\n+\t* include/bits/stl_uninitialized.h\n+\t(uninitialized_copy(_InputIter, _InputIter, _ForwardIter)):\n+\tFix typo in 2001-07-17 commit: typedef _ValueType to\n+\titerator_traits<_ForwardIter> not <_InputIter>.\n+\t* testsuite/23_containers/vector_ctor.cc: Add test04.\n+\n 2002-04-30  John David Anglin  <dave@hiauly1.hia.nrc.ca>\n \t\n \tPR libstdc++/6501"}, {"sha": "b5f7b8c40b6974843c4e8cdda9a4ecb680ea4e07", "filename": "libstdc++-v3/include/bits/stl_uninitialized.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/072a15d99be4d2c69d727aa2e8bef83951ea1243/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_uninitialized.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/072a15d99be4d2c69d727aa2e8bef83951ea1243/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_uninitialized.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_uninitialized.h?ref=072a15d99be4d2c69d727aa2e8bef83951ea1243", "patch": "@@ -107,7 +107,7 @@ namespace std\n     inline _ForwardIter\n     uninitialized_copy(_InputIter __first, _InputIter __last, _ForwardIter __result)\n     {\n-      typedef typename iterator_traits<_InputIter>::value_type _ValueType;\n+      typedef typename iterator_traits<_ForwardIter>::value_type _ValueType;\n       typedef typename __type_traits<_ValueType>::is_POD_type _Is_POD;\n       return __uninitialized_copy_aux(__first, __last, __result, _Is_POD());\n     }"}, {"sha": "c5caf3d797e3a8290a49bd5305413180574985fb", "filename": "libstdc++-v3/testsuite/23_containers/vector_ctor.cc", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/072a15d99be4d2c69d727aa2e8bef83951ea1243/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fvector_ctor.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/072a15d99be4d2c69d727aa2e8bef83951ea1243/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fvector_ctor.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fvector_ctor.cc?ref=072a15d99be4d2c69d727aa2e8bef83951ea1243", "patch": "@@ -21,6 +21,7 @@\n // 23.2.4.1 vector constructors, copy, and assignment\n \n #include <vector>\n+#include <string>\n #include <testsuite_hooks.h>\n \n template<typename T>\n@@ -81,11 +82,24 @@ test03()\n #endif\n }\n \n+// libstdc++/6513\n+void test04()\n+{\n+  bool test = true;\n+  const char* c_strings[5] = { \"1\", \"2\", \"3\", \"4\", \"5\" };\n+  std::vector<std::string> strings(c_strings, c_strings + 5);\n+\n+#ifdef DEBUG_ASSERT\n+  assert(test);\n+#endif\n+}\n+\n int main()\n {\n   test01();\n   test02(); \n   test03();\n+  test04();\n \n   return 0;\n }"}]}