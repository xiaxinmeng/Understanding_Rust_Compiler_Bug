{"sha": "c109362313623d83fe0a5194bceaf994cf0c6ce0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzEwOTM2MjMxMzYyM2Q4M2ZlMGE1MTk0YmNlYWY5OTRjZjBjNmNlMA==", "commit": {"author": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2018-09-24T17:12:34Z"}, "committer": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2018-09-24T17:12:34Z"}, "message": "re PR fortran/87397 (Clobbering intent(out) variables caused regression in OpenCoarrays testsuite)\n\n2018-09-24  Thomas Koenig  <tkoenig@gcc.gnu.org>\n\n\tPR fortran/87397\n\t* gfc_conv_procedure_call: Do not add clobber on INTENT(OUT)\n\tfor variables in an associate statement.\n\n2018-09-24  Thomas Koenig  <tkoenig@gcc.gnu.org>\n\n\tPR fortran/87401\n\t* gfortran.dg/intent_out_12.f90: New test.\n\nFrom-SVN: r264539", "tree": {"sha": "ac14daa4f39f5d214f1d6a049e704794f7aaabb3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ac14daa4f39f5d214f1d6a049e704794f7aaabb3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c109362313623d83fe0a5194bceaf994cf0c6ce0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c109362313623d83fe0a5194bceaf994cf0c6ce0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c109362313623d83fe0a5194bceaf994cf0c6ce0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c109362313623d83fe0a5194bceaf994cf0c6ce0/comments", "author": null, "committer": null, "parents": [{"sha": "4afdfa37953f984fcfcc82fff93a3c04a7bd59a0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4afdfa37953f984fcfcc82fff93a3c04a7bd59a0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4afdfa37953f984fcfcc82fff93a3c04a7bd59a0"}], "stats": {"total": 35, "additions": 35, "deletions": 0}, "files": [{"sha": "5bc88566ed02cced6f6fe1c55c82e5250bba64dc", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c109362313623d83fe0a5194bceaf994cf0c6ce0/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c109362313623d83fe0a5194bceaf994cf0c6ce0/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=c109362313623d83fe0a5194bceaf994cf0c6ce0", "patch": "@@ -1,3 +1,9 @@\n+2018-09-24  Thomas Koenig  <tkoenig@gcc.gnu.org>\n+\n+\tPR fortran/87397\n+\t* gfc_conv_procedure_call: Do not add clobber on INTENT(OUT)\n+\tfor variables in an associate statement.\n+\n 2018-09-24  Bernhard Reuther-Fischer  <aldot@gcc.gnu.org>\n \t    Cesar Philippidis  <cesar@codesourcery.com>\n "}, {"sha": "04210a4b6b137c9b7c9a5a70883afdc24f391718", "filename": "gcc/fortran/trans-expr.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c109362313623d83fe0a5194bceaf994cf0c6ce0/gcc%2Ffortran%2Ftrans-expr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c109362313623d83fe0a5194bceaf994cf0c6ce0/gcc%2Ffortran%2Ftrans-expr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-expr.c?ref=c109362313623d83fe0a5194bceaf994cf0c6ce0", "patch": "@@ -5282,6 +5282,7 @@ gfc_conv_procedure_call (gfc_se * se, gfc_symbol * sym,\n \t\t\t&& !e->symtree->n.sym->attr.dummy\n \t\t\t/* FIXME - PR 87395 and PR 41453  */\n \t\t\t&& e->symtree->n.sym->attr.save == SAVE_NONE \n+\t\t\t&& !e->symtree->n.sym->attr.associate_var\n \t\t\t&& e->ts.type != BT_CHARACTER && e->ts.type != BT_DERIVED\n \t\t\t&& e->ts.type != BT_CLASS && !sym->attr.elemental;\n "}, {"sha": "6e76e500c9d83d24f4a44c96aa65e63668f13090", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c109362313623d83fe0a5194bceaf994cf0c6ce0/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c109362313623d83fe0a5194bceaf994cf0c6ce0/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c109362313623d83fe0a5194bceaf994cf0c6ce0", "patch": "@@ -1,3 +1,8 @@\n+2018-09-24  Thomas Koenig  <tkoenig@gcc.gnu.org>\n+\n+\tPR fortran/87401\n+\t* gfortran.dg/intent_out_12.f90: New test.\n+\n 2018-09-24  Will Schmidt  <will_schmidt@vnet.ibm.com>\n \n \tPR testsuite/86952"}, {"sha": "e838bcbb4c2f6bb0c570cd606f21599a0c35b63a", "filename": "gcc/testsuite/gfortran.dg/intent_out_12.f90", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c109362313623d83fe0a5194bceaf994cf0c6ce0/gcc%2Ftestsuite%2Fgfortran.dg%2Fintent_out_12.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c109362313623d83fe0a5194bceaf994cf0c6ce0/gcc%2Ftestsuite%2Fgfortran.dg%2Fintent_out_12.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fintent_out_12.f90?ref=c109362313623d83fe0a5194bceaf994cf0c6ce0", "patch": "@@ -0,0 +1,23 @@\n+! { dg-do  run }\n+! PR fortran/87401 - this used to segfault at runtime.\n+! Test case by Janus Weil.\n+\n+program assoc_intent_out\n+\n+   implicit none\n+\n+   real :: r\n+\n+   associate(o => r)\n+      call sub(o)\n+   end associate\n+\n+contains\n+\n+   subroutine sub(out)\n+      real, intent(out) :: out\n+      out = 0.0\n+   end subroutine\n+\n+end\n+"}]}