{"sha": "522aa637e45b961558d783b7c75346406dce5e86", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTIyYWE2MzdlNDViOTYxNTU4ZDc4M2I3Yzc1MzQ2NDA2ZGNlNWU4Ng==", "commit": {"author": {"name": "Geert Bosch", "email": "bosch@adacore.com", "date": "2008-10-01T18:43:09Z"}, "committer": {"name": "Geert Bosch", "email": "bosch@gcc.gnu.org", "date": "2008-10-01T18:43:09Z"}, "message": "tree.c (contains_placeholder_p): Return 0 for a SAVE_EXPR.\n\n* tree.c (contains_placeholder_p): Return 0 for a SAVE_EXPR.\n\nFrom-SVN: r140819", "tree": {"sha": "d00fc9ee53e130d50770affe5f91adf662827d24", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d00fc9ee53e130d50770affe5f91adf662827d24"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/522aa637e45b961558d783b7c75346406dce5e86", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/522aa637e45b961558d783b7c75346406dce5e86", "html_url": "https://github.com/Rust-GCC/gccrs/commit/522aa637e45b961558d783b7c75346406dce5e86", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/522aa637e45b961558d783b7c75346406dce5e86/comments", "author": null, "committer": null, "parents": [{"sha": "8fe005eeee68106a3621c830e24e9ae242bb8d2f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8fe005eeee68106a3621c830e24e9ae242bb8d2f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8fe005eeee68106a3621c830e24e9ae242bb8d2f"}], "stats": {"total": 54, "additions": 54, "deletions": 0}, "files": [{"sha": "043f8d20236bf8985e481b406957a0c8fe4223b7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/522aa637e45b961558d783b7c75346406dce5e86/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/522aa637e45b961558d783b7c75346406dce5e86/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=522aa637e45b961558d783b7c75346406dce5e86", "patch": "@@ -1,3 +1,7 @@\n+2008-10-01  Geert Bosch  <bosch@adacore.com>\n+\n+\t* tree.c (contains_placeholder_p): Return 0 for a SAVE_EXPR.\n+\n 2008-10-01  Richard Guenther  <rguenther@suse.de>\n \n \tPR tree-optimization/37617"}, {"sha": "fc70ac7e9e30467fe0b01e5ce2be13fe64c7c38e", "filename": "gcc/testsuite/gnat.dg/test_overflow_sum.adb", "status": "added", "additions": 45, "deletions": 0, "changes": 45, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/522aa637e45b961558d783b7c75346406dce5e86/gcc%2Ftestsuite%2Fgnat.dg%2Ftest_overflow_sum.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/522aa637e45b961558d783b7c75346406dce5e86/gcc%2Ftestsuite%2Fgnat.dg%2Ftest_overflow_sum.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Ftest_overflow_sum.adb?ref=522aa637e45b961558d783b7c75346406dce5e86", "patch": "@@ -0,0 +1,45 @@\n+--  { dg-do run }\n+--  { dg-options \"-gnato\" }\n+\n+procedure test_overflow_sum is\n+   pragma Unsuppress (Overflow_Check);\n+   function sum (a, b, c, d, e, f, g, h, i, j, k, l, m,\n+                 n, o, p, q, r, s, t, u, v, w, x, y, z : Integer)\n+                 return Integer\n+   is\n+   begin\n+      return a + b + c + d + e + f + g + h + i + j + k + l + m\n+           + n + o + p + q + r + s + t + u + v + w + x + y + z;\n+   end;\n+\n+   f : integer;\n+begin\n+   f := sum (a => -2**31, b =>      1, c =>  2**31 - 1,  -- 0\n+             d =>      1, e => -2**31, f =>  2**31 - 1,  -- 0\n+             g =>   2**0, h =>      2, i =>          4,  -- 2**3 - 1\n+             j =>   2**3, k =>   2**4, l =>       2**5,  -- 2**6 - 1\n+             m =>   2**6, n =>   2**7, o =>       2**8,  -- 2**9 - 1\n+             p =>   2**9, q =>  2**10, r =>      2**11,  -- 2**12 - 1\n+             s =>  2**12, t =>  2**13, u =>      2**14,  -- 2**15 - 1\n+             v =>  2**15, w =>  2**16, x =>      2**17,  -- 2**18 - 1\n+             y =>  2**31 - 2**18,      z =>          0); -- 2**31 - 1\n+\n+   if f /= 2**31 - 1 then\n+      raise Program_Error;\n+   end if;\n+\n+   begin\n+      f := sum (a =>      f, b => -2**31, c =>          1,  -- 0\n+                d => -2**31, e =>      1, f =>          f,  -- 0\n+                g =>   2**0, h =>      2, i =>          4,  -- 2**3 - 1\n+                j =>   2**3, k =>   2**4, l =>       2**5,  -- 2**6 - 1\n+                m =>   2**6, n =>   2**7, o =>       2**8,  -- 2**9 - 1\n+                p =>   2**9, q =>  2**10, r =>      2**11,  -- 2**12 - 1\n+                s =>  2**12, t =>  2**13, u =>      2**14,  -- 2**15 - 1\n+                v =>  2**15, w =>  2**16, x =>      2**17,  -- 2**18 - 1\n+                y =>  2**31 - 2**18,      z =>          1); -- 2**31 (overflow)\n+      raise Program_Error;\n+   exception\n+      when Constraint_Error => null;\n+   end;\n+end test_overflow_sum;"}, {"sha": "4b178d5073f733acb38cc89d876aa88e02f6c860", "filename": "gcc/tree.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/522aa637e45b961558d783b7c75346406dce5e86/gcc%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/522aa637e45b961558d783b7c75346406dce5e86/gcc%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.c?ref=522aa637e45b961558d783b7c75346406dce5e86", "patch": "@@ -2492,6 +2492,11 @@ contains_placeholder_p (const_tree exp)\n \t\t  || CONTAINS_PLACEHOLDER_P (TREE_OPERAND (exp, 1))\n \t\t  || CONTAINS_PLACEHOLDER_P (TREE_OPERAND (exp, 2)));\n \n+\tcase SAVE_EXPR:\n+\t  /* The save_expr function never wraps anything containing\n+\t     a PLACEHOLDER_EXPR. */\n+\t  return 0;\n+\n \tdefault:\n \t  break;\n \t}"}]}