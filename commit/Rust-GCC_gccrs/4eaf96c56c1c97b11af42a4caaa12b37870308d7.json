{"sha": "4eaf96c56c1c97b11af42a4caaa12b37870308d7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGVhZjk2YzU2YzFjOTdiMTFhZjQyYTRjYWFhMTJiMzc4NzAzMDhkNw==", "commit": {"author": {"name": "Cl\u00e9ment Chigot", "email": "clement.chigot@atos.net", "date": "2020-09-01T09:32:09Z"}, "committer": {"name": "David Edelsohn", "email": "dje.gcc@gmail.com", "date": "2020-10-11T21:30:24Z"}, "message": "aix: remove libgomp and libatomic archives before creating FAT archives\n\nAIX caches shared objects in archives with read-other permission.\nlibgomp and libatomic might be in use during the build or testing, which\nmay cause archiver operations on them to fail.  This patch adjusts the\nMakefile fragments to delete the library archives before creating fresh\narchives containing both the 32 bit and 64 bit shared objects.\n\nlibatomic/ChangeLog:\n\n2020-10-11  Clement Chigot  <clement.chigot@atos.net>\n\n\t* config/t-aix: Delete and recreate libatomic before creating\n\tFAT library.\n\nlibgomp/ChangeLog:\n\n2020-10-11  Clement Chigot  <clement.chigot@atos.net>\n\n\t* config/t-aix: Delete and recreate libgomp before creating\n\tFAT library.", "tree": {"sha": "4a276aa8e01e13a7c7cf3437f5befc6dff6ff7fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4a276aa8e01e13a7c7cf3437f5befc6dff6ff7fb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4eaf96c56c1c97b11af42a4caaa12b37870308d7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4eaf96c56c1c97b11af42a4caaa12b37870308d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4eaf96c56c1c97b11af42a4caaa12b37870308d7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4eaf96c56c1c97b11af42a4caaa12b37870308d7/comments", "author": null, "committer": {"login": "edelsohn", "id": 667700, "node_id": "MDQ6VXNlcjY2NzcwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/667700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edelsohn", "html_url": "https://github.com/edelsohn", "followers_url": "https://api.github.com/users/edelsohn/followers", "following_url": "https://api.github.com/users/edelsohn/following{/other_user}", "gists_url": "https://api.github.com/users/edelsohn/gists{/gist_id}", "starred_url": "https://api.github.com/users/edelsohn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edelsohn/subscriptions", "organizations_url": "https://api.github.com/users/edelsohn/orgs", "repos_url": "https://api.github.com/users/edelsohn/repos", "events_url": "https://api.github.com/users/edelsohn/events{/privacy}", "received_events_url": "https://api.github.com/users/edelsohn/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "07c7498dc0379354d73ef4c8fd92d0473eb3a12f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07c7498dc0379354d73ef4c8fd92d0473eb3a12f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/07c7498dc0379354d73ef4c8fd92d0473eb3a12f"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "0e76b9739d78c649ee6406a8f1a9c09c753b2b7c", "filename": "libatomic/config/t-aix", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4eaf96c56c1c97b11af42a4caaa12b37870308d7/libatomic%2Fconfig%2Ft-aix", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4eaf96c56c1c97b11af42a4caaa12b37870308d7/libatomic%2Fconfig%2Ft-aix", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libatomic%2Fconfig%2Ft-aix?ref=4eaf96c56c1c97b11af42a4caaa12b37870308d7", "patch": "@@ -5,6 +5,9 @@ BITS=$(shell if test -z \"`$(CC) -x c -E /dev/null -g3 -o - | grep 64BIT`\" ; then\n MAJOR=1\n ARX=$(shell echo $(AR) | sed -e 's/-X[^ ]*//g')\n all-local:\n+\t-rm -f .libs/$(PACKAGE).a ../pthread/$(PACKAGE)/.libs/$(PACKAGE).a\n+\t$(AR) rc .libs/$(PACKAGE).a .libs/$(PACKAGE).so.$(MAJOR)\n+\t$(AR) rc ../pthread/$(PACKAGE)/.libs/$(PACKAGE).a ../pthread/$(PACKAGE)/.libs/$(PACKAGE).so.$(MAJOR)\n \t$(ARX) -X$(BITS) rc .libs/$(PACKAGE).a ../ppc$(BITS)/$(PACKAGE)/.libs/$(PACKAGE).so.$(MAJOR)\n \t$(ARX) -X$(BITS) rc ../pthread/$(PACKAGE)/.libs/$(PACKAGE).a ../pthread/ppc$(BITS)/$(PACKAGE)/.libs/$(PACKAGE).so.$(MAJOR)\n endif"}, {"sha": "f85382f962d58abb61926e5c0f7a4cbc65c6c840", "filename": "libgomp/config/t-aix", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4eaf96c56c1c97b11af42a4caaa12b37870308d7/libgomp%2Fconfig%2Ft-aix", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4eaf96c56c1c97b11af42a4caaa12b37870308d7/libgomp%2Fconfig%2Ft-aix", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfig%2Ft-aix?ref=4eaf96c56c1c97b11af42a4caaa12b37870308d7", "patch": "@@ -4,6 +4,9 @@ BITS=$(shell if test -z \"`$(CC) -x c -E /dev/null -g3 -o - | grep 64BIT`\" ; then\n ARX=$(shell echo $(AR) | sed -e 's/-X[^ ]*//g')\n MAJOR=$(firstword $(subst :, ,$(libtool_VERSION)))\n all-local:\n+\t-rm -f .libs/$(PACKAGE).a ../pthread/$(PACKAGE)/.libs/$(PACKAGE).a\n+\t$(AR) rc .libs/$(PACKAGE).a .libs/$(PACKAGE).so.$(MAJOR)\n+\t$(AR) rc ../pthread/$(PACKAGE)/.libs/$(PACKAGE).a ../pthread/$(PACKAGE)/.libs/$(PACKAGE).so.$(MAJOR)\n \t$(ARX) -X$(BITS) rc .libs/$(PACKAGE).a ../ppc$(BITS)/$(PACKAGE)/.libs/$(PACKAGE).so.$(MAJOR)\n \t$(ARX) -X$(BITS) rc ../pthread/$(PACKAGE)/.libs/$(PACKAGE).a ../pthread/ppc$(BITS)/$(PACKAGE)/.libs/$(PACKAGE).so.$(MAJOR)\n endif"}]}