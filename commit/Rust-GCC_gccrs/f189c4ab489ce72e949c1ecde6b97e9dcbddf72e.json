{"sha": "f189c4ab489ce72e949c1ecde6b97e9dcbddf72e", "node_id": "C_kwDOANBUbNoAKGYxODljNGFiNDg5Y2U3MmU5NDljMWVjZGU2Yjk3ZTlkY2JkZGY3MmU", "commit": {"author": {"name": "Alexandre Oliva", "email": "oliva@adacore.com", "date": "2023-04-07T04:04:32Z"}, "committer": {"name": "Alexandre Oliva", "email": "oliva@gnu.org", "date": "2023-04-07T04:04:32Z"}, "message": "[testsuite] [ppc] skip ppc-fortran if fortran is disabled\n\nSkip ppc-fortran.exp if a trivial fortran program cannot be compiled.\n\n\nfor  gcc/testsuite/ChangeLog\n\n\t* gcc.target/powerpc/ppc-fortran/ppc-fortran.exp: Test for\n\tfortran compiler, skip if missing.", "tree": {"sha": "22ccef6e22dffcaa9f5b914ad9baae13bd9a13c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/22ccef6e22dffcaa9f5b914ad9baae13bd9a13c8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f189c4ab489ce72e949c1ecde6b97e9dcbddf72e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f189c4ab489ce72e949c1ecde6b97e9dcbddf72e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f189c4ab489ce72e949c1ecde6b97e9dcbddf72e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f189c4ab489ce72e949c1ecde6b97e9dcbddf72e/comments", "author": null, "committer": null, "parents": [{"sha": "a8c8351cf4fedb842988eed4f73304019c361e86", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8c8351cf4fedb842988eed4f73304019c361e86", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a8c8351cf4fedb842988eed4f73304019c361e86"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "f7b7c05487cda3da8148a1f7d48b680fdff9b7b0", "filename": "gcc/testsuite/gcc.target/powerpc/ppc-fortran/ppc-fortran.exp", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f189c4ab489ce72e949c1ecde6b97e9dcbddf72e/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppc-fortran%2Fppc-fortran.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f189c4ab489ce72e949c1ecde6b97e9dcbddf72e/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppc-fortran%2Fppc-fortran.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppc-fortran%2Fppc-fortran.exp?ref=f189c4ab489ce72e949c1ecde6b97e9dcbddf72e", "patch": "@@ -21,6 +21,16 @@ if { ![istarget powerpc*-*-*] && ![istarget rs6000-*-*] } then {\n   return\n }\n \n+# Make sure there is a fortran compiler to test.\n+if { ![check_no_compiler_messages fortran_available assembly {\n+! Fortran\n+program P\n+  stop\n+end program P\n+} \"\"] } {\n+    return\n+}\n+\n # Load support procs.\n load_lib gfortran-dg.exp\n "}]}