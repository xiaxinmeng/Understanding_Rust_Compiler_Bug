{"sha": "175135a659ad8d2ba5e827c1404d42d4924d98fc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTc1MTM1YTY1OWFkOGQyYmE1ZTgyN2MxNDA0ZDQyZDQ5MjRkOThmYw==", "commit": {"author": {"name": "Anthony Green", "email": "green@cygnus.com", "date": "1998-11-15T14:28:10Z"}, "committer": {"name": "Anthony Green", "email": "green@gcc.gnu.org", "date": "1998-11-15T14:28:10Z"}, "message": "Makefile.in: jv-scan and jvgenmain all require libiberty.\n\n\t* Makefile.in: jv-scan and jvgenmain all require libiberty.\n\t* Make-lang.in: Ditto.\n\t* jv-scan.c: Remove xmalloc and xstrdup definitions.\n\t* jvgenmain: Ditto.\n\nFrom-SVN: r23660", "tree": {"sha": "d68a94078d4e2ef36a1ef5d3ec8efd196e90e6ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d68a94078d4e2ef36a1ef5d3ec8efd196e90e6ec"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/175135a659ad8d2ba5e827c1404d42d4924d98fc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/175135a659ad8d2ba5e827c1404d42d4924d98fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/175135a659ad8d2ba5e827c1404d42d4924d98fc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/175135a659ad8d2ba5e827c1404d42d4924d98fc/comments", "author": null, "committer": null, "parents": [{"sha": "0ef38928667f16fbf49c8a422495a7791e4340c9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ef38928667f16fbf49c8a422495a7791e4340c9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ef38928667f16fbf49c8a422495a7791e4340c9"}], "stats": {"total": 61, "additions": 16, "deletions": 45}, "files": [{"sha": "2310854a9f9e49ae7b9a978b4068bfefd78b3257", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175135a659ad8d2ba5e827c1404d42d4924d98fc/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175135a659ad8d2ba5e827c1404d42d4924d98fc/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=175135a659ad8d2ba5e827c1404d42d4924d98fc", "patch": "@@ -1,3 +1,11 @@\n+Sun Nov 15 13:52:39 1998  Anthony Green  <green@cygnus.com>\n+\n+\t* Makefile.in: jv-scan and jvgenmain all require libiberty.\n+\t* Make-lang.in: Ditto.\n+\n+\t* jv-scan.c: Remove xmalloc and xstrdup definitions.\n+\t* jvgenmain: Ditto.\n+\n Sun Nov 15 14:10:56 1998  Per Bothner  <bothner@cygnus.com>\n \n \t* jcf-parse.c (HANDLE_EXCEPTIONS_ATTRIBUTE):  New macro."}, {"sha": "0e70024b06f21eb07bd743d0f58027117609714b", "filename": "gcc/java/Make-lang.in", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175135a659ad8d2ba5e827c1404d42d4924d98fc/gcc%2Fjava%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175135a659ad8d2ba5e827c1404d42d4924d98fc/gcc%2Fjava%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FMake-lang.in?ref=175135a659ad8d2ba5e827c1404d42d4924d98fc", "patch": "@@ -112,7 +112,7 @@ $(GCJ)-cross$(exeext): $(GCJ)$(exeext)\n \n # Dependencies here must be kept in sync with dependencies in Makefile.in.\n jvgenmain$(exeext): $(srcdir)/java/jvgenmain.c $(srcdir)/java/mangle.c \\\n-\t\t$(OBSTACK)\n+\t\t$(OBSTACK) $(LIBDEPS)\n \tcd java && $(MAKE) $(FLAGS_TO_PASS) $(JAVA_FLAGS_TO_PASS) ../jvgenmain$(exeext)\n \n # This must be kept in sync with dependencies in Makefile.in.\n@@ -122,14 +122,14 @@ GCJH_SOURCES = $(srcdir)/java/gjavah.c $(srcdir)/java/jcf-io.c \\\n \t$(srcdir)/java/javaop.def $(srcdir)/java/jcf-depend.c \\\n \t$(srcdir)/java/jcf-path.c\n \n-gcjh$(exeext): $(GCJH_SOURCES)\n+gcjh$(exeext): $(GCJH_SOURCES) $(LIBDEPS)\n \tcd java && $(MAKE) $(FLAGS_TO_PASS) $(JAVA_FLAGS_TO_PASS) ../gcjh$(exeext)\n \n # This must be kept in sync with dependencies in Makefile.in.\n JV_SCAN_SOURCES = $(srcdir)/java/parse-scan.y $(srcdir)/java/lex.c \\\n-       $(srcdir)/java/parse.h $(srcdir)/java/lex.h $(srcdir)/java/jv-scan.c\n+       $(srcdir)/java/parse.h $(srcdir)/java/lex.h $(srcdir)/java/jv-scan.c $(src)/../libiberty/xmalloc.c $(src)/../libiberty/xstrdup.c\n \n-jv-scan$(exeext): $(JV_SCAN_SOURCES) stamp-objlist\n+jv-scan$(exeext): $(JV_SCAN_SOURCES) stamp-objlist $(LIBDEPS)\n \tcd java && $(MAKE) $(FLAGS_TO_PASS) $(JAVA_FLAGS_TO_PASS) ../jv-scan$(exeext)\n \n # This must be kept in sync with dependencies in Makefile.in."}, {"sha": "da260665fcdfc9bd82eda002b3974e907b7014e1", "filename": "gcc/java/Makefile.in", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175135a659ad8d2ba5e827c1404d42d4924d98fc/gcc%2Fjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175135a659ad8d2ba5e827c1404d42d4924d98fc/gcc%2Fjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FMakefile.in?ref=175135a659ad8d2ba5e827c1404d42d4924d98fc", "patch": "@@ -186,6 +186,7 @@ JAVA_OBJS = parse.o class.o decl.o expr.o constants.o lang.o typeck.o \\\n JAVA_OBJS_LITE = parse-scan.o jv-scan.o\n \n LIBS = ../../libiberty/libiberty.a\n+LIBDEPS = $(LIBS)\n \n # Language-independent object files.\n OBJS = `cat ../stamp-objlist`\n@@ -207,11 +208,11 @@ compiler: ../jc1$(exeext) ../jv-scan$(exeext)\n \t  jcf-depend.o jcf-path.o zextract.o $(LIBS)\n \n # Dependencies here must be kept in sync with dependencies in Make-lang.in.\n-../jvgenmain$(exeext):  jvgenmain.o mangle.o\n-\t$(CC) $(ALL_CFLAGS) $(LDFLAGS) -o $@ jvgenmain.o mangle.o ../obstack.o\n+../jvgenmain$(exeext):  jvgenmain.o mangle.o $(LIBDEPS)\n+\t$(CC) $(ALL_CFLAGS) $(LDFLAGS) -o $@ jvgenmain.o mangle.o ../obstack.o $(LIBS)\n \n ../gcjh$(exeext): gjavah.o jcf-io.o jcf-depend.o jcf-path.o \\\n-\t\tzextract.o\n+\t\tzextract.o $(LIBDEPS)\n \t$(CC) $(ALL_CFLAGS) $(LDFLAGS) -o $@ gjavah.o jcf-io.o \\\n \t  jcf-depend.o jcf-path.o zextract.o $(LIBS)\n "}, {"sha": "3afd2263fb3dadf71e8926522b07f1695ce3bc30", "filename": "gcc/java/jv-scan.c", "status": "modified", "additions": 0, "deletions": 25, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175135a659ad8d2ba5e827c1404d42d4924d98fc/gcc%2Fjava%2Fjv-scan.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175135a659ad8d2ba5e827c1404d42d4924d98fc/gcc%2Fjava%2Fjv-scan.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjv-scan.c?ref=175135a659ad8d2ba5e827c1404d42d4924d98fc", "patch": "@@ -169,31 +169,6 @@ fatal VPROTO((char *s, ...))\n   exit (1);\n }\n \n-char *\n-xmalloc (size)\n-     unsigned size;\n-{\n-  register char *value;\n-\n-  if (size == 0)\n-    size = 1;\n-\n-  value = (char *) malloc (size);\n-  if (value == 0)\n-    fatal (\"virtual memory exhausted\");\n-  return value;\n-}\n-\n-char *\n-xstrdup (string)\n-     char *string;\n-{\n-  int length = strlen (string)+1;\n-  char *to_return = xmalloc (length);\n-  strcpy (to_return, string);\n-  return to_return;\n-}\n-\n void\n warning VPROTO((char *s, ...))\n {"}, {"sha": "f0c987e6bbd512c6eea1b8f87ba150a4ed8392ca", "filename": "gcc/java/jvgenmain.c", "status": "modified", "additions": 0, "deletions": 13, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175135a659ad8d2ba5e827c1404d42d4924d98fc/gcc%2Fjava%2Fjvgenmain.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175135a659ad8d2ba5e827c1404d42d4924d98fc/gcc%2Fjava%2Fjvgenmain.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjvgenmain.c?ref=175135a659ad8d2ba5e827c1404d42d4924d98fc", "patch": "@@ -41,19 +41,6 @@ error (const char *str)\n   exit (-1);\n }\n \n-void *\n-xmalloc (size)\n-     size_t size;\n-{\n-  void *ptr = malloc (size);\n-  if (ptr == NULL)\n-    {\n-      fprintf (stderr, \"Not enough memory!\\n\");\n-      exit (-1);\n-    }\n-  return ptr;\n-}\n-\n void\n gcc_obstack_init (obstack)\n      struct obstack *obstack;"}]}