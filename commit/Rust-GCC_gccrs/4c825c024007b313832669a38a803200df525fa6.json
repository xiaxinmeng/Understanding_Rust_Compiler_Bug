{"sha": "4c825c024007b313832669a38a803200df525fa6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGM4MjVjMDI0MDA3YjMxMzgzMjY2OWEzOGE4MDMyMDBkZjUyNWZhNg==", "commit": {"author": {"name": "Ulrich Weigand", "email": "uweigand@de.ibm.com", "date": "2011-01-05T13:25:36Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2011-01-05T13:25:36Z"}, "message": "spu.c (spu_expand_prologue): Support -fstack-usage.\n\nChangeLog:\n\n\t* config/spu/spu.c (spu_expand_prologue): Support -fstack-usage.\n\ntestsuite/ChangeLog:\n\n\t* gcc.dg/stack-usage-1.c (SIZE): Provide proper value for __SPU__.\n\nFrom-SVN: r168509", "tree": {"sha": "5471e3d7608abec67087df1543be5ba30b55ad50", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5471e3d7608abec67087df1543be5ba30b55ad50"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4c825c024007b313832669a38a803200df525fa6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c825c024007b313832669a38a803200df525fa6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c825c024007b313832669a38a803200df525fa6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c825c024007b313832669a38a803200df525fa6/comments", "author": null, "committer": null, "parents": [{"sha": "5e9fba51b58a9d9dcd28b6ad3992ec4d8640eae2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e9fba51b58a9d9dcd28b6ad3992ec4d8640eae2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5e9fba51b58a9d9dcd28b6ad3992ec4d8640eae2"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "96233b1db94749d2f8caca27966663885f64017b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c825c024007b313832669a38a803200df525fa6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c825c024007b313832669a38a803200df525fa6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4c825c024007b313832669a38a803200df525fa6", "patch": "@@ -1,3 +1,7 @@\n+2011-01-05  Ulrich Weigand  <Ulrich.Weigand@de.ibm.com>\n+\n+\t* config/spu/spu.c (spu_expand_prologue): Support -fstack-usage.\n+\n 2011-01-05  Eric Botcazou  <ebotcazou@adacore.com>\n \n \tPR tree-optimization/47005"}, {"sha": "271116efcbbb03e64591d970ddadb6800d876ba4", "filename": "gcc/config/spu/spu.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c825c024007b313832669a38a803200df525fa6/gcc%2Fconfig%2Fspu%2Fspu.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c825c024007b313832669a38a803200df525fa6/gcc%2Fconfig%2Fspu%2Fspu.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fspu%2Fspu.c?ref=4c825c024007b313832669a38a803200df525fa6", "patch": "@@ -2086,6 +2086,8 @@ spu_expand_prologue (void)\n \t}\n     }\n \n+  if (flag_stack_usage)\n+    current_function_static_stack_size = total_size;\n }\n \n void"}, {"sha": "1c3d417a5cb80430630f947afda8bc740adce3ea", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c825c024007b313832669a38a803200df525fa6/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c825c024007b313832669a38a803200df525fa6/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4c825c024007b313832669a38a803200df525fa6", "patch": "@@ -1,3 +1,7 @@\n+2011-01-05  Ulrich Weigand  <Ulrich.Weigand@de.ibm.com>\n+\n+\t* gcc.dg/stack-usage-1.c (SIZE): Provide proper value for __SPU__.\n+\n 2011-01-05  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gnat.dg/opt14.adb: New test."}, {"sha": "1d03a8dc994c8aac17804c0ca8471bd2c510f207", "filename": "gcc/testsuite/gcc.dg/stack-usage-1.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c825c024007b313832669a38a803200df525fa6/gcc%2Ftestsuite%2Fgcc.dg%2Fstack-usage-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c825c024007b313832669a38a803200df525fa6/gcc%2Ftestsuite%2Fgcc.dg%2Fstack-usage-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fstack-usage-1.c?ref=4c825c024007b313832669a38a803200df525fa6", "patch": "@@ -39,6 +39,8 @@\n #  define SIZE 96  /* 256 - 160 bytes for register save area */\n #elif defined (__s390__)\n #  define SIZE 160 /* 256 -  96 bytes for register save area */\n+#elif defined (__SPU__)\n+#  define SIZE 224\n #else\n #  define SIZE 256\n #endif"}]}