{"sha": "77827557f67584ca88ba16a93b224447ea234965", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Nzc4Mjc1NTdmNjc1ODRjYTg4YmExNmE5M2IyMjQ0NDdlYTIzNDk2NQ==", "commit": {"author": {"name": "Chung-Ju Wu", "email": "jasonwucj@gmail.com", "date": "2018-04-05T02:05:06Z"}, "committer": {"name": "Chung-Ju Wu", "email": "jasonwucj@gcc.gnu.org", "date": "2018-04-05T02:05:06Z"}, "message": "[NDS32] Fine-tune predicator for alu-shift patterns.\n\ngcc/\n\t* config/nds32/nds32.md (*sub_srli, *and_slli): Fine-tune predicator.\n\nFrom-SVN: r259115", "tree": {"sha": "a86dc9cd17623b9b275eb5f92a9702dd2b85961f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a86dc9cd17623b9b275eb5f92a9702dd2b85961f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/77827557f67584ca88ba16a93b224447ea234965", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77827557f67584ca88ba16a93b224447ea234965", "html_url": "https://github.com/Rust-GCC/gccrs/commit/77827557f67584ca88ba16a93b224447ea234965", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77827557f67584ca88ba16a93b224447ea234965/comments", "author": {"login": "jasonwucj", "id": 5520732, "node_id": "MDQ6VXNlcjU1MjA3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/5520732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasonwucj", "html_url": "https://github.com/jasonwucj", "followers_url": "https://api.github.com/users/jasonwucj/followers", "following_url": "https://api.github.com/users/jasonwucj/following{/other_user}", "gists_url": "https://api.github.com/users/jasonwucj/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasonwucj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasonwucj/subscriptions", "organizations_url": "https://api.github.com/users/jasonwucj/orgs", "repos_url": "https://api.github.com/users/jasonwucj/repos", "events_url": "https://api.github.com/users/jasonwucj/events{/privacy}", "received_events_url": "https://api.github.com/users/jasonwucj/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "9c1a4c0fa1ea371bd23b2867836d97f3de45bbbd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c1a4c0fa1ea371bd23b2867836d97f3de45bbbd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9c1a4c0fa1ea371bd23b2867836d97f3de45bbbd"}], "stats": {"total": 28, "additions": 16, "deletions": 12}, "files": [{"sha": "fe76138ad0b06170b935b90588ccda021b608fd3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77827557f67584ca88ba16a93b224447ea234965/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77827557f67584ca88ba16a93b224447ea234965/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=77827557f67584ca88ba16a93b224447ea234965", "patch": "@@ -1,3 +1,7 @@\n+2018-04-05  Chung-Ju Wu  <jasonwucj@gmail.com>\n+\n+\t* config/nds32/nds32.md (*sub_srli, *and_slli): Fine-tune predicator.\n+\n 2018-04-05  Chung-Ju Wu  <jasonwucj@gmail.com>\n \n \t* config/nds32/nds32.md: Adjust indention."}, {"sha": "0189bdf7b6ce32cf3ea092eb632878a0bf147093", "filename": "gcc/config/nds32/nds32.md", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77827557f67584ca88ba16a93b224447ea234965/gcc%2Fconfig%2Fnds32%2Fnds32.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77827557f67584ca88ba16a93b224447ea234965/gcc%2Fconfig%2Fnds32%2Fnds32.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnds32%2Fnds32.md?ref=77827557f67584ca88ba16a93b224447ea234965", "patch": "@@ -434,10 +434,10 @@\n    (set_attr \"length\"       \"4\")])\n \n (define_insn \"*sub_srli\"\n-  [(set (match_operand:SI 0 \"register_operand\"                         \"=   r\")\n-\t(minus:SI (match_operand:SI 1 \"register_operand\"               \"    r\")\n-\t\t  (lshiftrt:SI (match_operand:SI 2 \"register_operand\"  \"    r\")\n-\t\t\t       (match_operand:SI 3 \"immediate_operand\" \" Iu05\"))))]\n+  [(set (match_operand:SI 0 \"register_operand\"                           \"=   r\")\n+\t(minus:SI (match_operand:SI 1 \"register_operand\"                 \"    r\")\n+\t\t  (lshiftrt:SI (match_operand:SI 2 \"register_operand\"    \"    r\")\n+\t\t\t       (match_operand:SI 3 \"nds32_imm5u_operand\" \" Iu05\"))))]\n   \"TARGET_ISA_V3\"\n   \"sub_srli\\t%0, %1, %2, %3\"\n   [(set_attr \"type\" \"alu_shift\")\n@@ -626,20 +626,20 @@\n    (set_attr \"feature\" \"v3m, v1, v1, v1, v1, v1,v3m,v3m, v1, v1, v1, v3,pe1\")])\n \n (define_insn \"*and_slli\"\n-  [(set (match_operand:SI 0 \"register_operand\"                      \"=   r\")\n-\t(and:SI (ashift:SI (match_operand:SI 1 \"register_operand\"   \"    r\")\n-\t\t\t    (match_operand:SI 2 \"immediate_operand\" \" Iu05\"))\n-\t\t(match_operand:SI 3 \"register_operand\"              \"    r\")))]\n+  [(set (match_operand:SI 0 \"register_operand\"                        \"=   r\")\n+\t(and:SI (ashift:SI (match_operand:SI 1 \"register_operand\"     \"    r\")\n+\t\t\t    (match_operand:SI 2 \"nds32_imm5u_operand\" \" Iu05\"))\n+\t\t(match_operand:SI 3 \"register_operand\"                \"    r\")))]\n   \"TARGET_ISA_V3\"\n   \"and_slli\\t%0, %3, %1, %2\"\n   [(set_attr \"type\" \"alu_shift\")\n    (set_attr \"length\"       \"4\")])\n \n (define_insn \"*and_srli\"\n-  [(set (match_operand:SI 0 \"register_operand\"                       \"=   r\")\n-\t(and:SI (lshiftrt:SI (match_operand:SI 1 \"register_operand\"  \"    r\")\n-\t\t\t     (match_operand:SI 2 \"immediate_operand\" \" Iu05\"))\n-\t\t(match_operand:SI 3 \"register_operand\"               \"    r\")))]\n+  [(set (match_operand:SI 0 \"register_operand\"                         \"=   r\")\n+\t(and:SI (lshiftrt:SI (match_operand:SI 1 \"register_operand\"    \"    r\")\n+\t\t\t     (match_operand:SI 2 \"nds32_imm5u_operand\" \" Iu05\"))\n+\t\t(match_operand:SI 3 \"register_operand\"                 \"    r\")))]\n   \"TARGET_ISA_V3\"\n   \"and_srli\\t%0, %3, %1, %2\"\n   [(set_attr \"type\" \"alu_shift\")"}]}