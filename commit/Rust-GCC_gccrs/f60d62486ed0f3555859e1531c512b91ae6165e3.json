{"sha": "f60d62486ed0f3555859e1531c512b91ae6165e3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjYwZDYyNDg2ZWQwZjM1NTU4NTllMTUzMWM1MTJiOTFhZTYxNjVlMw==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@cygnus.com", "date": "1998-04-28T21:13:26Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1998-04-28T21:13:26Z"}, "message": "Patch from Shigeya Suzuki to fix BSD/OS 3.1 build failure.\n\n\t* ginclude/stddef.h: Add check for _MACHINE_ANSI_H_ for BSD/OS\n\twhen undefining macros at the end.\n\nFrom-SVN: r19472", "tree": {"sha": "5a8b61cf4c80eaace0afa9545ac1c4acd9639a99", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5a8b61cf4c80eaace0afa9545ac1c4acd9639a99"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f60d62486ed0f3555859e1531c512b91ae6165e3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f60d62486ed0f3555859e1531c512b91ae6165e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f60d62486ed0f3555859e1531c512b91ae6165e3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f60d62486ed0f3555859e1531c512b91ae6165e3/comments", "author": null, "committer": null, "parents": [{"sha": "bf931ec8298555022f74a00767dd00007a41cbf4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf931ec8298555022f74a00767dd00007a41cbf4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bf931ec8298555022f74a00767dd00007a41cbf4"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "2ae95fbb95aa91b973af1b339d2226cc9aac0a10", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f60d62486ed0f3555859e1531c512b91ae6165e3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f60d62486ed0f3555859e1531c512b91ae6165e3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f60d62486ed0f3555859e1531c512b91ae6165e3", "patch": "@@ -1,5 +1,8 @@\n Tue Apr 28 17:53:33 1998  Jim Wilson  <wilson@cygnus.com>\n \n+\t* ginclude/stddef.h: Add check for _MACHINE_ANSI_H_ for BSD/OS\n+\twhen undefining macros at the end.\n+\n \t* expr.c (expand_builtin, case BUILT_IN_MEMSET): Break if either\n \tval or len has TREE_SIDE_EFFECTS set.\n "}, {"sha": "615052e85d4e8cfe5d3f0c8a020a691bf57a5d8b", "filename": "gcc/ginclude/stddef.h", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f60d62486ed0f3555859e1531c512b91ae6165e3/gcc%2Fginclude%2Fstddef.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f60d62486ed0f3555859e1531c512b91ae6165e3/gcc%2Fginclude%2Fstddef.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fginclude%2Fstddef.h?ref=f60d62486ed0f3555859e1531c512b91ae6165e3", "patch": "@@ -284,7 +284,9 @@ typedef __WINT_TYPE__ wint_t;\n \n /*  In 4.3bsd-net2, leave these undefined to indicate that size_t, etc.\n     are already defined.  */\n-#ifdef _ANSI_H_\n+/*  BSD/OS 3.1 requires the MACHINE_ANSI_H check here.  FreeBSD 2.x apparently\n+    does not, even though there is a check for MACHINE_ANSI_H above.  */\n+#if defined(_ANSI_H_) || (defined(__bsdi__) && defined(_MACHINE_ANSI_H_))\n /*  The references to _GCC_PTRDIFF_T_, _GCC_SIZE_T_, and _GCC_WCHAR_T_\n     are probably typos and should be removed before 2.8 is released.  */\n #ifdef _GCC_PTRDIFF_T_\n@@ -312,7 +314,7 @@ typedef __WINT_TYPE__ wint_t;\n #undef _WCHAR_T_\n #undef _BSD_WCHAR_T_\n #endif\n-#endif /* _ANSI_H_ */\n+#endif /* _ANSI_H_ || ( __bsdi__ && _MACHINE_ANSI_H_ ) */\n \n #endif /* __sys_stdtypes_h */\n "}]}