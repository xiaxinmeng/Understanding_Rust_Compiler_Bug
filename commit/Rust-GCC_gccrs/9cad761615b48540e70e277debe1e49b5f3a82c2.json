{"sha": "9cad761615b48540e70e277debe1e49b5f3a82c2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWNhZDc2MTYxNWI0ODU0MGU3MGUyNzdkZWJlMWU0OWI1ZjNhODJjMg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-07-28T23:16:20Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-07-28T23:16:20Z"}, "message": "*** empty log message ***\n\nFrom-SVN: r7811", "tree": {"sha": "bf62e1779524500e4f656238bb5fba61f5957f4d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bf62e1779524500e4f656238bb5fba61f5957f4d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9cad761615b48540e70e277debe1e49b5f3a82c2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9cad761615b48540e70e277debe1e49b5f3a82c2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9cad761615b48540e70e277debe1e49b5f3a82c2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9cad761615b48540e70e277debe1e49b5f3a82c2/comments", "author": null, "committer": null, "parents": [{"sha": "2f23a46d62c2dd568f163ba69e22f28e1b736f89", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f23a46d62c2dd568f163ba69e22f28e1b736f89", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2f23a46d62c2dd568f163ba69e22f28e1b736f89"}], "stats": {"total": 184, "additions": 162, "deletions": 22}, "files": [{"sha": "101fcb5c85a6fc0349548530cffb1108766b0fbc", "filename": "gcc/config.guess", "status": "modified", "additions": 162, "deletions": 22, "changes": 184, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9cad761615b48540e70e277debe1e49b5f3a82c2/gcc%2Fconfig.guess", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9cad761615b48540e70e277debe1e49b5f3a82c2/gcc%2Fconfig.guess", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.guess?ref=9cad761615b48540e70e277debe1e49b5f3a82c2", "patch": "@@ -1,6 +1,6 @@\n #!/bin/sh\n # This script attempts to guess a canonical system name.\n-#   Copyright (C) 1992, 1993 Free Software Foundation, Inc.\n+#   Copyright (C) 1992, 1993, 1994 Free Software Foundation, Inc.\n #\n # This file is free software; you can redistribute it and/or modify it\n # under the terms of the GNU General Public License as published by\n@@ -18,9 +18,8 @@\n \n #\n # This script attempts to guess a canonical system name similar to\n-# config.sub. If it succeeds, it prints the system name on stdout, and\n-# exits with 0.  Otherwise, it prints an error message on stderr, and\n-# exits with 1.\n+# config.sub.  If it succeeds, it prints the system name on stdout, and\n+# exits with 0.  Otherwise, it exits with 1.\n #\n # The plan is that this can be called by configure scripts if you\n # don't specify an explicit system type (host/target name).\n@@ -34,12 +33,25 @@ UNAME_RELEASE=`(uname -r) 2>/dev/null` || UNAME_RELEASE=unknown\n UNAME_SYSTEM=`(uname -s) 2>/dev/null` || UNAME_SYSTEM=unknown\n UNAME_VERSION=`(uname -v) 2>/dev/null` || UNAME_VERSION=unknown\n \n+trap 'rm -f dummy.c dummy.o dummy; exit 1' 1 2 15\n+\n # Note: order is significant - the case branches are not exclusive.\n \n case \"${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}\" in\n+    *:NetBSD:*:*)\n+\techo ${UNAME_MACHINE}-unknown-netbsd`echo ${UNAME_RELEASE}|sed -e 's/-.*//'`\n+\texit 0 ;;\n     alpha:OSF1:1.*:*)\n+\t# 1.2 uses \"1.2\" for uname -r.\n \techo alpha-dec-osf${UNAME_RELEASE}\n         exit 0 ;;\n+    alpha:OSF1:V1.*:* | alpha:OSF1:V[2-9].*:*)\n+\t# 1.3 and later use \"V1.3\", etc. for uname -r.\n+\techo alpha-dec-osf`echo ${UNAME_RELEASE} | sed -e 's/^V//'`\n+\texit 0 ;;\n+    arm:RISC*:1.[012]*:*|arm:riscix:1.[012]*:*)\n+\techo arm-acorn-riscix${UNAME_RELEASE}\n+\texit 0;;\n     sun4*:SunOS:5.*:*)\n \techo sparc-sun-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`\n \texit 0 ;;\n@@ -61,49 +73,109 @@ case \"${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}\" in\n     VAX*:ULTRIX*:*:*)\n \techo vax-dec-ultrix${UNAME_RELEASE}\n \texit 0 ;;\n+    mips:*:5*:RISCos)\n+\techo mips-mips-riscos${UNAME_RELEASE}\n+\texit 0 ;;\n     m88k:*:4*:R4*)\n \techo m88k-motorola-sysv4\n \texit 0 ;;\n     m88k:*:3*:R3*)\n \techo m88k-motorola-sysv3\n \texit 0 ;;\n+    AViiON:dgux:*:*)\n+ \techo m88k-dg-dgux${UNAME_RELEASE}\n+ \texit 0 ;;\n+    M88*:*:R3*:*)\n+\t# Delta 88k system running SVR3\n+\techo m88k-motorola-sysv3\n+\texit 0 ;;\n+    XD88*:*:*:*) # Tektronix XD88 system running UTekV (SVR3)\n+\techo m88k-tektronix-sysv3\n+\texit 0 ;;\n+    Tek43[0-9][0-9]:UTek:*:*) # Tektronix 4300 system running UTek (BSD)\n+\techo m68k-tektronix-bsd\n+\texit 0 ;;\n     *:IRIX:*:*)\n \techo mips-sgi-irix${UNAME_RELEASE}\n \texit 0 ;;\n     i[34]86:AIX:*:*)\n \techo i386-ibm-aix\n \texit 0 ;;\n     *:AIX:2:3)\n-\techo rs6000-ibm-aix3.2\n+\tif grep bos325 /usr/include/stdio.h >/dev/null 2>&1; then\n+\t\techo rs6000-ibm-aix3.2.5\n+\telif grep bos324 /usr/include/stdio.h >/dev/null 2>&1; then\n+\t\techo rs6000-ibm-aix3.2.4\n+\telse\n+\t\techo rs6000-ibm-aix3.2\n+\tfi\n \texit 0 ;;\n     *:AIX:*:*)\n \techo rs6000-ibm-aix\n \texit 0 ;;\n     *:BOSX:*:*)\n \techo rs6000-bull-bosx\n \texit 0 ;;\n-    9000/31?:HP-UX:*:*)\n-\techo m68000-hp-hpux\n+    DPX/2?00:B.O.S.:*:*)\n+\techo m68k-bull-sysv3\n \texit 0 ;;\n-    9000/3??:HP-UX:*:*)\n-\techo m68k-hp-hpux\n+    9000/[34]??:4.3bsd:1.*:*)\n+\techo m68k-hp-bsd\n \texit 0 ;;\n-    9000/7??:HP-UX:*:* | 9000/8?7:HP-UX:*:* )\n-\techo hppa1.1-hp-hpux\n+    hp300:4.4BSD:*:* | 9000/[34]??:4.3bsd:2.*:*)\n+\techo m68k-hp-bsd4.4\n \texit 0 ;;\n-    9000/8??:HP-UX:*:*)\n-\techo hppa1.0-hp-hpux\n+    9000/[3478]??:HP-UX:*:* | 9000/8?7:HP-UX:*:* )\n+\tcase \"${UNAME_MACHINE}\" in\n+\t    9000/31? )            HP_ARCH=m68000 ;;\n+\t    9000/[34]?? )         HP_ARCH=m68k ;;\n+\t    9000/7?? | 9000/8?7 ) HP_ARCH=hppa1.1 ;;\n+\t    9000/8?? )            HP_ARCH=hppa1.0 ;;\n+\tesac\n+\tcase ${UNAME_RELEASE} in\n+\t    *.B7.* )          HPUX_REV=7 ;;\n+\t    *.B8.* | *.08.* ) HPUX_REV=8 ;;\n+\t    *.09.* )          HPUX_REV=9 ;;\n+\tesac\n+\techo ${HP_ARCH}-hp-hpux${HPUX_REV}\n+\texit 0 ;;\n+    3050*:HI-UX:*:*)\n+\tsed 's/^\t//' << EOF >dummy.c\n+\t#include <unistd.h>\n+\tint\n+\tmain ()\n+\t{\n+\t  long cpu = sysconf (_SC_CPU_VERSION);\n+\t  if (CPU_IS_HP_MC68K (cpu))\n+\t    puts (\"m68k-hitachi-hiuxwe2\");\n+\t  else if (CPU_IS_PA_RISC (cpu))\n+\t    {\n+\t      switch (cpu)\n+\t\t{\n+\t\t  case CPU_PA_RISC1_0: puts (\"hppa1.0-hitachi-hiuxwe2\"); break;\n+\t\t  case CPU_PA_RISC1_1: puts (\"hppa1.1-hitachi-hiuxwe2\"); break;\n+\t\t  case CPU_PA_RISC2_0: puts (\"hppa2.0-hitachi-hiuxwe2\"); break;\n+\t\t  default: puts (\"hppa-hitachi-hiuxwe2\"); break;\n+\t\t}\n+\t    }\n+\t  else puts (\"unknown-hitachi-hiuxwe2\");\n+\t  exit (0);\n+\t}\n+EOF\n+\t${CC-cc} dummy.c -o dummy && ./dummy && rm dummy.c dummy && exit 0\n+\trm -f dummy.c dummy\n+\techo unknown-hitachi-hiuxwe2\n \texit 0 ;;\n-    9000/8??:4.3bsd:*:* | 9000/8?7:4.3bsd:*:* )\n+    9000/7??:4.3bsd:*:* | 9000/8?7:4.3bsd:*:* )\n \techo hppa1.1-hp-bsd\n \texit 0 ;;\n     9000/8??:4.3bsd:*:*)\n \techo hppa1.0-hp-bsd\n \texit 0 ;;\n-    C1*:ConvexOS:*:*)\n+    C1*:ConvexOS:*:* | convex:ConvexOS:C1:*)\n \techo c1-convex-bsd\n         exit 0 ;;\n-    C2*:ConvexOS:*:*)\n+    C2*:ConvexOS:*:* | convex:ConvexOS:C2:*)\n \techo c2-convex-bsd\n         exit 0 ;;\n     CRAY*X-MP:UNICOS:*:*)\n@@ -115,10 +187,16 @@ case \"${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}\" in\n     CRAY-2:UNICOS:*:*)\n \techo cray2-cray-unicos\n         exit 0 ;;\n+    i[34]86:BSD/386:*:*)\n+\techo ${UNAME_MACHINE}-unknown-bsdi${UNAME_RELEASE}\n+\texit 0 ;;\n+    i[34]86:FreeBSD:*:*)\n+\techo ${UNAME_MACHINE}-unknown-freebsd\n+\texit 0 ;;\n     i[34]86:Linux:*:*)\n \techo ${UNAME_MACHINE}-unknown-linux\n \texit 0 ;;\n-    i[34]86:UNIX_SV:4.*:*)\n+    i[34]86:UNIX_SV:4.*:* | i[34]86:SYSTEM_V:4.*:*)\n \tif grep Novell /usr/include/link.h >/dev/null 2>/dev/null; then\n \t\techo ${UNAME_MACHINE}-univel-sysv${UNAME_RELEASE}\n \telse\n@@ -130,35 +208,85 @@ case \"${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}\" in\n \t\tUNAME_REL=`(/bin/uname -X|egrep Release|sed -e 's/.*= //')`\n \t\t(/bin/uname -X|egrep i80486 >/dev/null) && UNAME_MACHINE=i486\n \t\techo ${UNAME_MACHINE}-unknown-sco$UNAME_REL\n+\telif test -f /usr/options/cb.name; then\n+\t\tUNAME_REL=`sed -n 's/.*Version //p' </usr/options/cb.name`\n+\t\techo ${UNAME_MACHINE}-unknown-isc$UNAME_REL\n \telse\n-\t\techo ${UNAME_MACHINE}-unknown-sysv3.2\n+\t\techo ${UNAME_MACHINE}-unknown-sysv32\n+\tfi\n+\texit 0 ;;\n+    i860:*:4.*:*) # i860-SVR4\n+\tif grep Stardent /usr/include/sys/uadmin.h >/dev/null 2>&1 ; then\n+\t  echo i860-stardent-sysv${UNAME_RELEASE} # Stardent Vistra i860-SVR4\n+\telse # Add other i860-SVR4 vendors below as they are discovered.\n+\t  echo i860-unknown-sysv${UNAME_RELEASE}  # Unknown i860-SVR4\n \tfi\n \texit 0 ;;\n     mini*:CTIX:SYS*5:*)\n \t# \"miniframe\"\n \techo m68010-convergent-sysv\n \texit 0 ;;\n-     M680[234]0:*:R3V[567]*:*)\n+    M680[234]0:*:R3V[567]*:*)\n \ttest -r /sysV68 && echo 'm68k-motorola-sysv' && exit 0 ;;\n+    3[34]??:*:4.0:* | 3[34]??,3[34]??:*:4.0:*)\n+\tuname -p 2>/dev/null | grep 86 >/dev/null \\\n+\t  && echo i486-ncr-sysv4 && exit 0 ;;\n+    m680[234]0:LynxOS:2.2*:*)\n+\techo m68k-lynx-lynxos${UNAME_RELEASE}\n+\texit 0 ;;\n+    mc68030:UNIX_System_V:4.*:*)\n+        echo m68k-atari-sysv4\n+        exit 0 ;;\n+    i[34]86:LynxOS:2.2*:*)\n+\techo i386-lynx-lynxos${UNAME_RELEASE}\n+\texit 0 ;;\n+    TSUNAMI:LynxOS:2.2*:*)\n+\techo sparc-lynx-lynxos${UNAME_RELEASE}\n+\texit 0 ;;\n esac\n \n-echo '(No uname command or uname output not recognized.)' 1>&2\n+#echo '(No uname command or uname output not recognized.)' 1>&2\n #echo \"${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}\" 1>&2\n \n cat >dummy.c <<EOF\n main()\n {\n #if defined (sony)\n #if defined (MIPSEB)\n+  /* BFD wants \"bsd\" instead of \"newsos\".  Perhaps BFD should be changed,\n+     I don't know....  */\n+  printf (\"mips-sony-bsd\\n\"); exit (0);\n #else\n   printf(\"m68k-sony-newsos\\n\"); exit(0);\n #endif\n #endif\n \n+#if defined (__arm) && defined (__acorn) && defined (__unix)\n+  printf(\"arm-acorn-riscix\"); exit (0);\n+#endif\n+\n #if defined(hp300) && !defined(hpux)\n   printf(\"m68k-hp-bsd\\n\"); exit(0);\n #endif\n \n+#if defined(NeXT)\n+#if !defined(__ARCHITECTURE__)\n+#define __ARCHITECTURE__ \"m68k\"\n+#endif\n+  int version;\n+  version=`(hostinfo | sed -n 's/.*NeXT Mach \\([0-9]*\\).*/\\1/p') 2>/dev/null`;\n+  if (version==2)\n+    {\n+      printf(\"%s-next-ns2\\n\", __ARCHITECTURE__);\n+      exit(0);\n+    }\n+  else\n+    {\n+      printf(\"%s-next-ns3\\n\", __ARCHITECTURE__);\n+      exit(0);\n+    }\n+#endif\n+\n #if defined (MULTIMAX) || defined (n16)\n #if defined (UMAXV)\n   printf(\"ns32k-encore-sysv\\n\"); exit(0);\n@@ -188,13 +316,25 @@ main()\n   printf(\"i386-sequent-ptx\\n\"); exit(0);\n #endif\n \n+#if defined(vax)\n+#if !defined(ultrix)\n+  printf(\"vax-dec-bsd\\n\"); exit(0);\n+#else\n+  printf(\"vax-dec-ultrix\\n\"); exit(0);\n+#endif\n+#endif\n+\n   exit (1);\n }\n EOF\n \n-${CC-cc} dummy.c -o dummy && ./dummy && rm dummy.c dummy && exit 0\n+${CC-cc} dummy.c -o dummy 2>/dev/null && ./dummy && rm dummy.c dummy && exit 0\n rm -f dummy.c dummy\n \n-echo '(Unable to guess system type)' 1>&2\n+# Apollos put the system type in the environment.\n+\n+test -d /usr/apollo && { echo ${ISP}-apollo-${SYSTYPE}; exit 0; }\n+\n+#echo '(Unable to guess system type)' 1>&2\n \n exit 1"}]}