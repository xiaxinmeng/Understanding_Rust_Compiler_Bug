{"sha": "8e4425d798eb4970eac12bd1a66011ed94b2509b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGU0NDI1ZDc5OGViNDk3MGVhYzEyYmQxYTY2MDExZWQ5NGIyNTA5Yg==", "commit": {"author": {"name": "Gary Benson", "email": "gbenson@redhat.com", "date": "2007-03-09T09:31:18Z"}, "committer": {"name": "Gary Benson", "email": "gary@gcc.gnu.org", "date": "2007-03-09T09:31:18Z"}, "message": "re PR xml/30831 (Writing (transforming) XML fails)\n\n2007-03-09  Gary Benson  <gbenson@redhat.com>\n\t    Chris Burdess  <dog@gnu.org>\n\n\tPR classpath/30831\n\t* gnu/xml/dom/ls/SAXEventSink.java: Only set extended document\n\tproperties when reader is available.\n\n\nCo-Authored-By: Chris Burdess <dog@gnu.org>\n\nFrom-SVN: r122743", "tree": {"sha": "3dc83187a1ee8ef439d6cde12ff92ae57a5cf118", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3dc83187a1ee8ef439d6cde12ff92ae57a5cf118"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8e4425d798eb4970eac12bd1a66011ed94b2509b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e4425d798eb4970eac12bd1a66011ed94b2509b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8e4425d798eb4970eac12bd1a66011ed94b2509b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e4425d798eb4970eac12bd1a66011ed94b2509b/comments", "author": null, "committer": null, "parents": [{"sha": "bff4b63d31059f3ebf918e70ca00d5eb4dcbc62e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bff4b63d31059f3ebf918e70ca00d5eb4dcbc62e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bff4b63d31059f3ebf918e70ca00d5eb4dcbc62e"}], "stats": {"total": 58, "additions": 34, "deletions": 24}, "files": [{"sha": "122f83f39888cdbe270ef1d494fcd6dc39321419", "filename": "libjava/classpath/ChangeLog.gcj", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8e4425d798eb4970eac12bd1a66011ed94b2509b/libjava%2Fclasspath%2FChangeLog.gcj", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8e4425d798eb4970eac12bd1a66011ed94b2509b/libjava%2Fclasspath%2FChangeLog.gcj", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FChangeLog.gcj?ref=8e4425d798eb4970eac12bd1a66011ed94b2509b", "patch": "@@ -1,3 +1,10 @@\n+2007-03-09  Gary Benson  <gbenson@redhat.com>\n+\t    Chris Burdess  <dog@gnu.org>\n+\n+\tPR classpath/30831\n+\t* gnu/xml/dom/ls/SAXEventSink.java: Only set extended document\n+\tproperties when reader is available.\n+\n 2007-03-08  Gary Benson  <gbenson@redhat.com>\n \n \tPR classpath/30983:"}, {"sha": "364c576d1969d9a2eefcbe97540beb193801f663", "filename": "libjava/classpath/gnu/xml/dom/ls/SAXEventSink.java", "status": "modified", "additions": 27, "deletions": 24, "changes": 51, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8e4425d798eb4970eac12bd1a66011ed94b2509b/libjava%2Fclasspath%2Fgnu%2Fxml%2Fdom%2Fls%2FSAXEventSink.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8e4425d798eb4970eac12bd1a66011ed94b2509b/libjava%2Fclasspath%2Fgnu%2Fxml%2Fdom%2Fls%2FSAXEventSink.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fxml%2Fdom%2Fls%2FSAXEventSink.java?ref=8e4425d798eb4970eac12bd1a66011ed94b2509b", "patch": "@@ -144,37 +144,40 @@ public void startDocument()\n     final String PROPERTIES = \"http://xml.org/sax/properties/\";\n     final String GNU_PROPERTIES = \"http://gnu.org/sax/properties/\";\n \n-    boolean standalone = reader.getFeature(FEATURES + \"is-standalone\");\n-    doc.setXmlStandalone(standalone);\n-    try\n-      {\n-        String version = (String) reader.getProperty(PROPERTIES +\n-                                                     \"document-xml-version\");\n-        doc.setXmlVersion(version);\n-      }\n-    catch (SAXNotRecognizedException e)\n-      {\n-      }\n-    catch (SAXNotSupportedException e)\n+    if (reader != null)\n       {\n+        boolean standalone = reader.getFeature(FEATURES + \"is-standalone\");\n+        doc.setXmlStandalone(standalone);\n+        try\n+          {\n+            String version = (String) reader.getProperty(PROPERTIES +\n+                    \"document-xml-version\");\n+            doc.setXmlVersion(version);\n+          }\n+        catch (SAXNotRecognizedException e)\n+          {\n+          }\n+        catch (SAXNotSupportedException e)\n+          {\n+          }\n+        try\n+          {\n+              String encoding = (String) reader.getProperty(GNU_PROPERTIES +\n+                      \"document-xml-encoding\");\n+              doc.setXmlEncoding(encoding);\n+          }\n+        catch (SAXNotRecognizedException e)\n+          {\n+          }\n+        catch (SAXNotSupportedException e)\n+          {\n+          }\n       }\n     if (locator != null && locator instanceof Locator2)\n       {\n         String encoding = ((Locator2) locator).getEncoding();\n         doc.setInputEncoding(encoding);\n       }\n-    try\n-      {\n-        String encoding = (String) reader.getProperty(GNU_PROPERTIES +\n-                                                      \"document-xml-encoding\");\n-        doc.setXmlEncoding(encoding);\n-      }\n-    catch (SAXNotRecognizedException e)\n-      {\n-      }\n-    catch (SAXNotSupportedException e)\n-      {\n-      }\n   }\n \n   public void endDocument()"}, {"sha": "5ba9dfac935839f0c88afa0b18be4802e64534c4", "filename": "libjava/classpath/lib/gnu/xml/dom/ls/SAXEventSink.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8e4425d798eb4970eac12bd1a66011ed94b2509b/libjava%2Fclasspath%2Flib%2Fgnu%2Fxml%2Fdom%2Fls%2FSAXEventSink.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8e4425d798eb4970eac12bd1a66011ed94b2509b/libjava%2Fclasspath%2Flib%2Fgnu%2Fxml%2Fdom%2Fls%2FSAXEventSink.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fgnu%2Fxml%2Fdom%2Fls%2FSAXEventSink.class?ref=8e4425d798eb4970eac12bd1a66011ed94b2509b"}]}