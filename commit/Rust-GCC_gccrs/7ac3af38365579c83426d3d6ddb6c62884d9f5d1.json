{"sha": "7ac3af38365579c83426d3d6ddb6c62884d9f5d1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2FjM2FmMzgzNjU1NzljODM0MjZkM2Q2ZGRiNmM2Mjg4NGQ5ZjVkMQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2013-02-04T17:19:56Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2013-02-04T17:19:56Z"}, "message": "re PR libstdc++/54314 (undefined references to 'construction vtable for std::ostream-in-std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >')\n\n\tPR libstdc++/54314\n\t* config/i386/winnt.c (i386_pe_assemble_visibility): Don't warn\n\tabout visibility on artificial decls.\n\t* config/sol2.c (solaris_assemble_visibility): Likewise.\n\nFrom-SVN: r195723", "tree": {"sha": "110a7945e90f561a988048fcfafeacd627c78af5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/110a7945e90f561a988048fcfafeacd627c78af5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7ac3af38365579c83426d3d6ddb6c62884d9f5d1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ac3af38365579c83426d3d6ddb6c62884d9f5d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ac3af38365579c83426d3d6ddb6c62884d9f5d1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ac3af38365579c83426d3d6ddb6c62884d9f5d1/comments", "author": null, "committer": null, "parents": [{"sha": "85018f40aedb5d60c63a8f3f85f17d71c84b01ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/85018f40aedb5d60c63a8f3f85f17d71c84b01ac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/85018f40aedb5d60c63a8f3f85f17d71c84b01ac"}], "stats": {"total": 23, "additions": 15, "deletions": 8}, "files": [{"sha": "cc67ff91508e0ca13f923309ad9b45c31139b2ff", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ac3af38365579c83426d3d6ddb6c62884d9f5d1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ac3af38365579c83426d3d6ddb6c62884d9f5d1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7ac3af38365579c83426d3d6ddb6c62884d9f5d1", "patch": "@@ -1,3 +1,10 @@\n+2013-02-04  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR libstdc++/54314\n+\t* config/i386/winnt.c (i386_pe_assemble_visibility): Don't warn\n+\tabout visibility on artificial decls.\n+\t* config/sol2.c (solaris_assemble_visibility): Likewise.\n+\n 2013-02-04  Kai Tietz  <ktietz@redhat.com>\n \n \tPR target/56186\n@@ -9,10 +16,9 @@\n \t(return_in_memory_ms_64): Sync 16-byte sized mode handling with\n \thandling infunction_value_64 function.\n \n-\n 2013-02-04  Matthew Gretton-Dann  <matthew.gretton-dann@linaro.org>\n \n-\t* gcc/reload.c (subst_reloads): Fix DEBUG_RELOAD build issue.\n+\t* reload.c (subst_reloads): Fix DEBUG_RELOAD build issue.\n \n 2013-02-04  Richard Biener  <rguenther@suse.de>\n "}, {"sha": "118b1ecb0074bd0161da65406e4ce293b238e91a", "filename": "gcc/config/i386/winnt.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ac3af38365579c83426d3d6ddb6c62884d9f5d1/gcc%2Fconfig%2Fi386%2Fwinnt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ac3af38365579c83426d3d6ddb6c62884d9f5d1/gcc%2Fconfig%2Fi386%2Fwinnt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fwinnt.c?ref=7ac3af38365579c83426d3d6ddb6c62884d9f5d1", "patch": "@@ -250,8 +250,9 @@ i386_pe_assemble_visibility (tree decl,\n   if (!decl\n       || !lookup_attribute (\"visibility\", DECL_ATTRIBUTES (decl)))\n     return;\n-  warning (OPT_Wattributes, \"visibility attribute not supported \"\n-\t   \"in this configuration; ignored\");\n+  if (!DECL_ARTIFICIAL (decl))\n+    warning (OPT_Wattributes, \"visibility attribute not supported \"\n+\t\t\t      \"in this configuration; ignored\");\n }\n \n /* This is used as a target hook to modify the DECL_ASSEMBLER_NAME"}, {"sha": "33c8c3d53157ffd058295ade461fc472b42c3e45", "filename": "gcc/config/sol2.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ac3af38365579c83426d3d6ddb6c62884d9f5d1/gcc%2Fconfig%2Fsol2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ac3af38365579c83426d3d6ddb6c62884d9f5d1/gcc%2Fconfig%2Fsol2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsol2.c?ref=7ac3af38365579c83426d3d6ddb6c62884d9f5d1", "patch": "@@ -124,8 +124,7 @@ solaris_output_init_fini (FILE *file, tree decl)\n    the visibility type VIS, which must not be VISIBILITY_DEFAULT.  */\n \n void\n-solaris_assemble_visibility (tree decl ATTRIBUTE_UNUSED,\n-\t\t\t     int vis ATTRIBUTE_UNUSED)\n+solaris_assemble_visibility (tree decl, int vis ATTRIBUTE_UNUSED)\n {\n #ifdef HAVE_GAS_HIDDEN\n   /* Sun as uses .symbolic for STV_PROTECTED.  STV_INTERNAL is marked as\n@@ -152,8 +151,9 @@ solaris_assemble_visibility (tree decl ATTRIBUTE_UNUSED,\n   assemble_name (asm_out_file, name);\n   fprintf (asm_out_file, \"\\n\");\n #else\n-  warning (OPT_Wattributes, \"visibility attribute not supported \"\n-\t   \"in this configuration; ignored\");\n+  if (!DECL_ARTIFICIAL (decl))\n+    warning (OPT_Wattributes, \"visibility attribute not supported \"\n+\t\t\t      \"in this configuration; ignored\");\n #endif\n }\n "}]}