{"sha": "254d1a5a0c690e62e637fe913c00b00c9bec9aed", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjU0ZDFhNWEwYzY5MGU2MmU2MzdmZTkxM2MwMGIwMGM5YmVjOWFlZA==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@redhat.com", "date": "2010-02-24T19:26:29Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2010-02-24T19:26:29Z"}, "message": "class.c (layout_class_type): Don't give -Wabi warning for a bug in a previous ABI version.\n\n\t* class.c (layout_class_type): Don't give -Wabi warning for a bug\n\tin a previous ABI version.\n\nFrom-SVN: r157051", "tree": {"sha": "90a1da922c1d86a932639f410161400228aae693", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/90a1da922c1d86a932639f410161400228aae693"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/254d1a5a0c690e62e637fe913c00b00c9bec9aed", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/254d1a5a0c690e62e637fe913c00b00c9bec9aed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/254d1a5a0c690e62e637fe913c00b00c9bec9aed", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/254d1a5a0c690e62e637fe913c00b00c9bec9aed/comments", "author": {"login": "jicama", "id": 266146, "node_id": "MDQ6VXNlcjI2NjE0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/266146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jicama", "html_url": "https://github.com/jicama", "followers_url": "https://api.github.com/users/jicama/followers", "following_url": "https://api.github.com/users/jicama/following{/other_user}", "gists_url": "https://api.github.com/users/jicama/gists{/gist_id}", "starred_url": "https://api.github.com/users/jicama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jicama/subscriptions", "organizations_url": "https://api.github.com/users/jicama/orgs", "repos_url": "https://api.github.com/users/jicama/repos", "events_url": "https://api.github.com/users/jicama/events{/privacy}", "received_events_url": "https://api.github.com/users/jicama/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "22faf0048fbe3261eafc0ff93bbcdbaa7a8d0df8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22faf0048fbe3261eafc0ff93bbcdbaa7a8d0df8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/22faf0048fbe3261eafc0ff93bbcdbaa7a8d0df8"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "427b3ad47deafebcbecd5530f4d5efa07df65661", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/254d1a5a0c690e62e637fe913c00b00c9bec9aed/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/254d1a5a0c690e62e637fe913c00b00c9bec9aed/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=254d1a5a0c690e62e637fe913c00b00c9bec9aed", "patch": "@@ -1,3 +1,8 @@\n+2010-02-24  Jason Merrill  <jason@redhat.com>\n+\n+\t* class.c (layout_class_type): Don't give -Wabi warning for a bug\n+\tin a previous ABI version.\n+\n 2010-02-23  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/43143"}, {"sha": "1bab07dd42c652552b25202d5eef7cc6f2500e9c", "filename": "gcc/cp/class.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/254d1a5a0c690e62e637fe913c00b00c9bec9aed/gcc%2Fcp%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/254d1a5a0c690e62e637fe913c00b00c9bec9aed/gcc%2Fcp%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fclass.c?ref=254d1a5a0c690e62e637fe913c00b00c9bec9aed", "patch": "@@ -5044,6 +5044,7 @@ layout_class_type (tree t, tree *virtuals_p)\n       /* G++ used to use DECL_FIELD_OFFSET as if it were the byte\n \t offset of the field.  */\n       if (warn_abi\n+\t  && !abi_version_at_least (2)\n \t  && !tree_int_cst_equal (DECL_FIELD_OFFSET (field),\n \t\t\t\t  byte_position (field))\n \t  && contains_empty_class_p (TREE_TYPE (field)))"}, {"sha": "1b14a6d03bec1fc2a9d2beffc3a9783e9e81ba12", "filename": "gcc/testsuite/g++.dg/abi/empty6.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/254d1a5a0c690e62e637fe913c00b00c9bec9aed/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Fempty6.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/254d1a5a0c690e62e637fe913c00b00c9bec9aed/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Fempty6.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Fempty6.C?ref=254d1a5a0c690e62e637fe913c00b00c9bec9aed", "patch": "@@ -1,4 +1,4 @@\n-// { dg-options \"-Wabi\" }\n+// { dg-options \"-Wabi -fabi-version=1\" }\n \n struct A {};\n "}]}