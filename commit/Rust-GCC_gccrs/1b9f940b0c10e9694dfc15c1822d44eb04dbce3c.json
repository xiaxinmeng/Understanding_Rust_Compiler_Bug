{"sha": "1b9f940b0c10e9694dfc15c1822d44eb04dbce3c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWI5Zjk0MGIwYzEwZTk2OTRkZmMxNWMxODIyZDQ0ZWIwNGRiY2UzYw==", "commit": {"author": {"name": "Daniel Berlin", "email": "dberlin@dberlin.org", "date": "2005-10-28T14:44:48Z"}, "committer": {"name": "Daniel Berlin", "email": "dberlin@gcc.gnu.org", "date": "2005-10-28T14:44:48Z"}, "message": "gcc_update: Update for svn.\n\n2005-10-28  Daniel Berlin  <dberlin@dberlin.org>\n\t    Ben Elliston <bje@au1.ibm.com>\n\t\n\t* gcc_update: Update for svn.\n\t* newcvsroot: Ditto.\n\t* gcc_build: Ditto.\n\nCo-Authored-By: Ben Elliston <bje@au.ibm.com>\n\nFrom-SVN: r105933", "tree": {"sha": "adcc6bf5264c2cb4d32dccc7723e9ac5a017ab5b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/adcc6bf5264c2cb4d32dccc7723e9ac5a017ab5b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1b9f940b0c10e9694dfc15c1822d44eb04dbce3c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b9f940b0c10e9694dfc15c1822d44eb04dbce3c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b9f940b0c10e9694dfc15c1822d44eb04dbce3c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b9f940b0c10e9694dfc15c1822d44eb04dbce3c/comments", "author": {"login": "dberlin", "id": 324715, "node_id": "MDQ6VXNlcjMyNDcxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/324715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dberlin", "html_url": "https://github.com/dberlin", "followers_url": "https://api.github.com/users/dberlin/followers", "following_url": "https://api.github.com/users/dberlin/following{/other_user}", "gists_url": "https://api.github.com/users/dberlin/gists{/gist_id}", "starred_url": "https://api.github.com/users/dberlin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dberlin/subscriptions", "organizations_url": "https://api.github.com/users/dberlin/orgs", "repos_url": "https://api.github.com/users/dberlin/repos", "events_url": "https://api.github.com/users/dberlin/events{/privacy}", "received_events_url": "https://api.github.com/users/dberlin/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "db96b9360adb5214a65721bc8eea8583b9e32bb0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db96b9360adb5214a65721bc8eea8583b9e32bb0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db96b9360adb5214a65721bc8eea8583b9e32bb0"}], "stats": {"total": 122, "additions": 56, "deletions": 66}, "files": [{"sha": "3e95967d382801b0f47d07c854b39d8611ca8d2e", "filename": "contrib/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b9f940b0c10e9694dfc15c1822d44eb04dbce3c/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b9f940b0c10e9694dfc15c1822d44eb04dbce3c/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=1b9f940b0c10e9694dfc15c1822d44eb04dbce3c", "patch": "@@ -1,3 +1,10 @@\n+2005-10-28  Daniel Berlin  <dberlin@dberlin.org>\n+\t    Ben Elliston <bje@au1.ibm.com>\n+\t\n+\t* gcc_update: Update for svn.\n+\t* newcvsroot: Ditto.\n+\t* gcc_build: Ditto.\n+\n 2005-10-21  Mark Mitchell  <mark@codesourcery.com>\n \n \t* texi2pod.pl: Substitue for @value even when part of @include. "}, {"sha": "f0e79266595f39c32badeff8b3c6a159ba688f44", "filename": "contrib/gcc_build", "status": "modified", "additions": 25, "deletions": 38, "changes": 63, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b9f940b0c10e9694dfc15c1822d44eb04dbce3c/contrib%2Fgcc_build", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b9f940b0c10e9694dfc15c1822d44eb04dbce3c/contrib%2Fgcc_build", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc_build?ref=1b9f940b0c10e9694dfc15c1822d44eb04dbce3c", "patch": "@@ -4,12 +4,14 @@\n #\n # File:   gcc_build\n # Author: Mark Mitchell\n-# Date:   07/10/2000\n+# Date:   2000-07-10\n+#\n+# Adapted to Subversion by Ben Elliston <bje@au.ibm.com>, 2005-07-14.\n #\n # Contents:\n #   Script to automatically download and build GCC.\n #\n-# Copyright (c) 2000, 2001, 2003 Free Software Foundation.\n+# Copyright (c) 2000, 2001, 2003, 2005 Free Software Foundation.\n #\n # This file is part of GCC.\n #\n@@ -34,9 +36,6 @@\n # Notes\n ########################################################################\n \n-# If you are using password-based CVS, you must manually log in, and\n-# not log out from, the CVS server before running this script.\n-\n # You can set the following variables in the environment.  They \n # have no corresponding command-line options because they should\n # only be needed infrequently:\n@@ -86,44 +85,28 @@ changedir() {\n \terror \"Could not change directory to $1\"\n }\n \n-# Set up CVS environment variables\n-\n-cvs_setup() {\n-    CVSROOT=\":${CVS_PROTOCOL}:${CVS_USERNAME}@\"\n-    CVSROOT=\"${CVSROOT}${CVS_SERVER}:${CVS_REPOSITORY}\"\n-    export CVSROOT\n-}\n-\n # Checkout a fresh copy of the GCC build tree.\n \n checkout_gcc() {\n-    # Tell CVS where to find everything.\n-    cvs_setup\n-\n     # If the destination already exists, don't risk destroying it.\n     test -e ${DESTINATION} && \\\n \terror \"${DESTINATION} already exists\"\n \n-    # CVS doesn't allow an absolute path for the destination directory.\n-    DESTINATION_PARENT=`dirname ${DESTINATION}`\n-    test -d ${DESTINATION_PARENT} || \\\n-\terror \"${DESTINATION_PARENT} is not a directory\"\n-    changedir ${DESTINATION_PARENT}\n-\n     # Checkout the tree\n-    $GCC_CVS -z 9 co -d `basename ${DESTINATION}` gcc || \\\n+    test -n \"${SVN_USERNAME}\" && SVN_USERNAME=\"${SVN_USERNAME}@\"\n+    SVNROOT=\"${SVN_PROTOCOL}://${SVN_USERNAME}${SVN_SERVER}${SVN_REPOSITORY}\"\n+\n+    $GCC_SVN co $SVNROOT ${DESTINATION} || \\\n \terror \"Could not check out GCC\"\n }\n \n # Update GCC.\n \n update_gcc() {\n-    # Tell CVS where to find everything\n-    cvs_setup\n-\n     # If the destination does not already exist, complain.\n     test -d ${DESTINATION} || \\\n-\terror \"{$DESTINATION} does not exist\"\n+\terror \"${DESTINATION} does not exist\"\n+\n     # Enter the destination directory.\n     changedir ${DESTINATION}\n \n@@ -189,7 +172,7 @@ export_gcc() {\n     # Build a tarball of the source directory.\n     tar czf ${TARFILE} \\\n \t--exclude=${OBJDIR} \\\n-\t--exclude=CVS \\\n+\t--exclude=.svn \\\n \t--exclude='.#*' \\\n \t--exclude='*~' \\\n \t`basename ${DESTINATION}`\n@@ -210,16 +193,17 @@ install_gcc() {\n # Initialization\n ########################################################################\n \n-# CVS command\n-GCC_CVS=${GCC_CVS-${CVS-cvs}}\n-# The CVS server containing the GCC repository.\n-CVS_SERVER=\"gcc.gnu.org\"\n+# SVN command\n+GCC_SVN=${GCC_SVN-${SVN-svn}}\n+# The SVN server containing the GCC repository.\n+SVN_SERVER=\"dberlin.org\"\n # The path to the repository on that server.\n-CVS_REPOSITORY=\"/cvs/gcc\"\n-# The CVS protocol to use.\n-CVS_PROTOCOL=\"pserver\"\n+SVN_REPOSITORY=\"/trunk\"\n+# The SVN protocol to use.\n+SVN_PROTOCOL=\"svn\"\n # The username to use when connecting to the server.\n-CVS_USERNAME=\"anoncvs\"\n+# An empty string means anonymous.\n+SVN_USERNAME=\"\"\n \n # The directory where the checked out GCC will be placed.\n DESTINATION=\"${HOME}/dev/gcc\"\n@@ -252,17 +236,20 @@ UPDATE=0\n # Main Program\n ########################################################################\n \n+# Issue usage if no parameters are given.\n+test $# -eq 0 && usage\n+\n # Parse the options.\n while getopts \"c:d:m:o:p:t:u:x:\" ARG; do\n     case $ARG in\n     c)    CONFIGURE_OPTIONS=\"${OPTARG}\";;\n     d)    DESTINATION=\"${OPTARG}\";;\n     m)    MAKE_BOOTSTRAP_OPTIONS=\"${OPTARG}\";;\n     o)    OBJDIR=\"${OPTARG}\";;\n-    p)    CVS_PROTOCOL=\"${OPTARG}\";;\n+    p)    SVN_PROTOCOL=\"${OPTARG}\";;\n     t)    TARFILE=\"${OPTARG}\";;\n     x)    MAKE_CHECK_OPTIONS=\"${OPTARG}\";;\n-    u)    CVS_USERNAME=\"${OPTARG}\";;\n+    u)    SVN_USERNAME=\"${OPTARG}\";;\n     \\?)   usage;;\n     esac\n done"}, {"sha": "90124deac8c490f5f07b72976d496613a97e2053", "filename": "contrib/gcc_update", "status": "modified", "additions": 22, "deletions": 28, "changes": 50, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b9f940b0c10e9694dfc15c1822d44eb04dbce3c/contrib%2Fgcc_update", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b9f940b0c10e9694dfc15c1822d44eb04dbce3c/contrib%2Fgcc_update", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc_update?ref=1b9f940b0c10e9694dfc15c1822d44eb04dbce3c", "patch": "@@ -1,18 +1,26 @@\n #! /bin/sh\n #\n-# Update a local CVS tree from the GCC repository, with an emphasis\n+# Update a local Subversion tree from the GCC repository, with an emphasis\n # on treating generated files correctly, so that autoconf, gperf et\n # al are not required for the ``end'' user.\n #\n-# By default all command-line options are passed to `cvs update` in\n+# (C) 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005 Free Software Foundation\n+# Originally by Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>, August 1998.\n+#\n+# This script is Free Software, and it can be copied, distributed and\n+# modified as defined in the GNU General Public License.  A copy of\n+# its license can be downloaded from http://www.gnu.org/copyleft/gpl.html\n+#\n+#\n+# By default all command-line options are passed to `svn update` in\n # addition to $UPDATE_OPTIONS (defined below). If the first parameter\n # reads --nostdflags, $UPDATE_OPTIONS as well as this parameter itself\n # are omitted.\n #\n # If the first parameter reads --patch, the second parameter is considered\n # a patch file.\n #\n-# If the first parameter is --touch, no cvs operation will be performed,\n+# If the first parameter is --touch, no svn operation will be performed,\n # only generated files that appear to be out of date in the local tree\n # will be touched.\n #\n@@ -24,30 +32,16 @@\n #\n # Examples:\n #\n-# contrib/gcc_update -r gcc_latest_snapshot\n-# contrib/gcc_update -A\n-# contrib/gcc_update --nostdflags -P -r gcc-2_95-branch gcc/testsuite\n+# contrib/gcc_update -r 8712\n # contrib/gcc_update --patch some-patch\n # contrib/gcc_update --touch\n # contrib/gcc_update --list\n-#\n-#\n-# (C) 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005 Free Software Foundation\n-# Originally by Gerald Pfeifer <pfeifer@dbai.tuwien.ac.at>, August 1998.\n-#\n-# This script is Free Software, and it can be copied, distributed and\n-# modified as defined in the GNU General Public License.  A copy of\n-# its license can be downloaded from http://www.gnu.org/copyleft/gpl.html\n \n \n-# CVS command\n-GCC_CVS=${GCC_CVS-${CVS-cvs}}\n-# Default options used when updating via CVS.\n-UPDATE_OPTIONS=-Pd\n-# Use -P to prune empty directories.\n-# Use -d to create any directories that exist in the repository but not\n-#           locally.\n-# Use -A to reset any sticky tags, dates, or `-k' options.\n+# SVN command\n+GCC_SVN=${GCC_SVN-${SVN-svn}}\n+# Default options used when updating via SVN (none).\n+UPDATE_OPTIONS=\"\"\n \n ######## Anything below shouldn't be changed by regular users.\n \n@@ -234,9 +228,9 @@ p\n \n esac\n \n-# Check whether this indeed looks like a local CVS tree.\n-if [ ! -d CVS ]; then\n-    echo \"This does not seem to be a GCC CVS tree!\"\n+# Check whether this indeed looks like a local SVN tree.\n+if [ ! -d .svn ]; then\n+    echo \"This does not seem to be a GCC SVN tree!\"\n     exit\n fi\n \n@@ -247,12 +241,12 @@ else\n     set -- $UPDATE_OPTIONS ${1+\"$@\"}\n fi\n \n-chat \"Updating CVS tree\"\n+chat \"Updating SVN tree\"\n \n-$GCC_CVS -q ${silent+-Q} update ${1+\"$@\"}\n+$GCC_SVN --non-interactive -q update ${1+\"$@\"}\n if [ $? -ne 0 ]; then\n     (touch_files_reexec)\n-    echo \"CVS update of full tree failed.\" >&2\n+    echo \"SVN update of full tree failed.\" >&2\n     exit 1\n fi\n "}, {"sha": "29827cc4eea6c60d9645586d39dcd061bc861741", "filename": "contrib/newcvsroot", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b9f940b0c10e9694dfc15c1822d44eb04dbce3c/contrib%2Fnewcvsroot", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b9f940b0c10e9694dfc15c1822d44eb04dbce3c/contrib%2Fnewcvsroot", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fnewcvsroot?ref=1b9f940b0c10e9694dfc15c1822d44eb04dbce3c", "patch": "@@ -7,6 +7,8 @@\n # Usage: newcvsroot <newroot> <modulename> <toplevel directory>\n \n if [ $# != 3 ]; then\n+    echo \"Note to svn users: use svn switch --relocate instead.\"\n+    echo\n     echo \"usage: `basename $0` <newroot> <modulename> <toplevel directory>\"\n     exit 1\n fi"}]}