{"sha": "83e0821b6037a62cc8b865bfb89e8c4011ecbc96", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODNlMDgyMWI2MDM3YTYyY2M4Yjg2NWJmYjg5ZThjNDAxMWVjYmM5Ng==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "1998-06-06T09:25:16Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "1998-06-06T09:25:16Z"}, "message": "Some fixes for KNR compilers:\n\n        * gencheck.c: Remove redundant stdio.h include.  Add a definition\n        of xmalloc for when we are forced to link with alloca.o.\n        * reload1.c (reload_reg_free_for_value_p): Use `(unsigned)1'\n        instead of `1U'.\n        * fold-const.c (constant_boolean_node): Make definition static to\n        match the prototype.\n\nFrom-SVN: r20261", "tree": {"sha": "5254ed03752711c180fe7b0b7997af811aeffd2b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5254ed03752711c180fe7b0b7997af811aeffd2b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/83e0821b6037a62cc8b865bfb89e8c4011ecbc96", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83e0821b6037a62cc8b865bfb89e8c4011ecbc96", "html_url": "https://github.com/Rust-GCC/gccrs/commit/83e0821b6037a62cc8b865bfb89e8c4011ecbc96", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83e0821b6037a62cc8b865bfb89e8c4011ecbc96/comments", "author": null, "committer": null, "parents": [{"sha": "8db79477cd5af63639b2440fceb76f74afb8b969", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8db79477cd5af63639b2440fceb76f74afb8b969", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8db79477cd5af63639b2440fceb76f74afb8b969"}], "stats": {"total": 35, "additions": 32, "deletions": 3}, "files": [{"sha": "d473e5a4926a480adeaade8b44a4e5110385edb4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83e0821b6037a62cc8b865bfb89e8c4011ecbc96/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83e0821b6037a62cc8b865bfb89e8c4011ecbc96/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=83e0821b6037a62cc8b865bfb89e8c4011ecbc96", "patch": "@@ -1,3 +1,14 @@\n+Sat Jun  6 12:17:12 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* gencheck.c: Remove redundant stdio.h include.  Add a definition\n+ \tof xmalloc for when we are forced to link with alloca.o.\n+\n+\t* reload1.c (reload_reg_free_for_value_p): Use `(unsigned)1'\n+\tinstead of `1U'.\n+\n+\t* fold-const.c (constant_boolean_node): Make definition static to\n+\tmatch the prototype.\n+\n Fri Jun  5 15:53:17 1998  Per Bothner  <bothner@cygnus.com>\n \n \t* gcc.c (lang_specific_pre_link):  New LANG_SPECIFIC_DRIVER function."}, {"sha": "5daa253a44962b1e568214dfaf43f5045c48dc60", "filename": "gcc/fold-const.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83e0821b6037a62cc8b865bfb89e8c4011ecbc96/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83e0821b6037a62cc8b865bfb89e8c4011ecbc96/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=83e0821b6037a62cc8b865bfb89e8c4011ecbc96", "patch": "@@ -3740,7 +3740,7 @@ strip_compound_expr (t, s)\n /* Return a node which has the indicated constant VALUE (either 0 or\n    1), and is of the indicated TYPE.  */\n \n-tree\n+static tree\n constant_boolean_node (value, type)\n      int value;\n      tree type;"}, {"sha": "811a7dca752bd3414e74d0a31127bd5a928b9626", "filename": "gcc/gencheck.c", "status": "modified", "additions": 19, "deletions": 1, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83e0821b6037a62cc8b865bfb89e8c4011ecbc96/gcc%2Fgencheck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83e0821b6037a62cc8b865bfb89e8c4011ecbc96/gcc%2Fgencheck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgencheck.c?ref=83e0821b6037a62cc8b865bfb89e8c4011ecbc96", "patch": "@@ -18,7 +18,6 @@ along with GNU CC; see the file COPYING.  If not, write to\n the Free Software Foundation, 59 Temple Place - Suite 330,\n Boston, MA 02111-1307, USA.  */\n \n-#include <stdio.h>\n #include \"hconfig.h\"\n #include \"system.h\"\n \n@@ -60,3 +59,22 @@ int main (argc, argv)\n   return 0;\n }\n \n+#if defined(USE_C_ALLOCA) && !defined(__GNUC__)\n+/* FIXME: We only need an xmalloc definition because we are forced to\n+   link with alloca.o on some platforms.  This should go away if/when\n+   we link against libiberty.a. (ghazi@caip.rutgers.edu 6/3/98) */\n+char *\n+xmalloc (nbytes)\n+     int nbytes;\n+{\n+  char *tmp = (char *) malloc (nbytes);\n+\n+  if (!tmp)\n+    {\n+      fprintf (stderr, \"can't allocate %d bytes (out of virtual memory)\\n\", nbytes);\n+      exit (FATAL_EXIT_CODE);\n+    }\n+\n+  return tmp;\n+}\n+#endif /* USE_C_ALLOCA && !__GNUC__ */"}, {"sha": "bc2a51a4be0811e008dda00849f15b6c447e183d", "filename": "gcc/reload1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83e0821b6037a62cc8b865bfb89e8c4011ecbc96/gcc%2Freload1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83e0821b6037a62cc8b865bfb89e8c4011ecbc96/gcc%2Freload1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload1.c?ref=83e0821b6037a62cc8b865bfb89e8c4011ecbc96", "patch": "@@ -5055,7 +5055,7 @@ reload_reg_free_for_value_p (regno, opnum, type, value, out, reloadnum)\n       rtx reg = reload_reg_rtx[i];\n       if (reg && GET_CODE (reg) == REG\n \t  && ((unsigned) regno - true_regnum (reg)\n-\t      <= HARD_REGNO_NREGS (REGNO (reg), GET_MODE (reg)) - 1U)\n+\t      <= HARD_REGNO_NREGS (REGNO (reg), GET_MODE (reg)) - (unsigned)1)\n \t  && i != reloadnum)\n \t{\n \t  if (out"}]}