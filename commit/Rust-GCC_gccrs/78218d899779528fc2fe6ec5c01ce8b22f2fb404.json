{"sha": "78218d899779528fc2fe6ec5c01ce8b22f2fb404", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzgyMThkODk5Nzc5NTI4ZmMyZmU2ZWM1YzAxY2U4YjIyZjJmYjQwNA==", "commit": {"author": {"name": "Richard Sandiford", "email": "richard@codesourcery.com", "date": "2007-01-18T19:04:52Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2007-01-18T19:04:52Z"}, "message": "config.gcc (m68k-*-uclinux*): Base the port on the common and m68k GNU/Linux files rather than on the generic...\n\ngcc/\n\t* config.gcc (m68k-*-uclinux*): Base the port on the common\n\tand m68k GNU/Linux files rather than on the generic ELF ones.\n\t* config/m68k/uclinux.h (TARGET_VERSION): Override.\n\t(TARGET_OS_CPP_BUILTINS): Use LINUX_TARGET_OS_CPP_BUILTINS.\n\nFrom-SVN: r120911", "tree": {"sha": "ebfd90da6d45a1ab9f4b5ab63c1ac5278e4a139a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ebfd90da6d45a1ab9f4b5ab63c1ac5278e4a139a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/78218d899779528fc2fe6ec5c01ce8b22f2fb404", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/78218d899779528fc2fe6ec5c01ce8b22f2fb404", "html_url": "https://github.com/Rust-GCC/gccrs/commit/78218d899779528fc2fe6ec5c01ce8b22f2fb404", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/78218d899779528fc2fe6ec5c01ce8b22f2fb404/comments", "author": null, "committer": null, "parents": [{"sha": "5189ab949ec36792eea8d11f4f64f611f5855522", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5189ab949ec36792eea8d11f4f64f611f5855522", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5189ab949ec36792eea8d11f4f64f611f5855522"}], "stats": {"total": 37, "additions": 20, "deletions": 17}, "files": [{"sha": "98ec52bb1ef35f9ea2312454847e216b2f7414c0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78218d899779528fc2fe6ec5c01ce8b22f2fb404/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78218d899779528fc2fe6ec5c01ce8b22f2fb404/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=78218d899779528fc2fe6ec5c01ce8b22f2fb404", "patch": "@@ -1,3 +1,10 @@\n+2007-01-18  Richard Sandiford  <richard@codesourcery.com>\n+\n+\t* config.gcc (m68k-*-uclinux*): Base the port on the common\n+\tand m68k GNU/Linux files rather than on the generic ELF ones.\n+\t* config/m68k/uclinux.h (TARGET_VERSION): Override.\n+\t(TARGET_OS_CPP_BUILTINS): Use LINUX_TARGET_OS_CPP_BUILTINS.\n+\n 2007-01-18  Julian Brown  <julian@codesourcery.com>\n \t    Richard Sandiford  <richard@codesourcery.com>\n "}, {"sha": "6acecd38f765326b17abe62328d159822344f189", "filename": "gcc/config.gcc", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78218d899779528fc2fe6ec5c01ce8b22f2fb404/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78218d899779528fc2fe6ec5c01ce8b22f2fb404/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=78218d899779528fc2fe6ec5c01ce8b22f2fb404", "patch": "@@ -1523,8 +1523,9 @@ m68k-*-uclinux*)\t\t# Motorola m68k/ColdFire running uClinux\n \t\t\t\t# with uClibc, using the new GNU/Linux-style\n \t\t\t\t# ABI.\n \tdefault_m68k_cpu=68020\n-\ttm_file=\"m68k/m68k.h m68k/m68k-none.h m68k/m68kelf.h dbxelf.h elfos.h m68k/uclinux.h\"\n- \ttm_defines=\"${tm_defines} MOTOROLA USE_GAS\"\n+\ttm_file=\"m68k/m68k.h dbxelf.h elfos.h svr4.h linux.h m68k/linux.h m68k/uclinux.h\"\n+ \ttm_defines=\"${tm_defines} MOTOROLA USE_GAS UCLIBC_DEFAULT=1\"\n+\textra_options=\"${extra_options} linux.opt\"\n \ttmake_file=m68k/t-uclinux\n \tuse_fixproto=no\n \t;;"}, {"sha": "2cf0d0761b76ead68621b0ddb6c5f8265982a014", "filename": "gcc/config/m68k/uclinux.h", "status": "modified", "additions": 10, "deletions": 15, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78218d899779528fc2fe6ec5c01ce8b22f2fb404/gcc%2Fconfig%2Fm68k%2Fuclinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78218d899779528fc2fe6ec5c01ce8b22f2fb404/gcc%2Fconfig%2Fm68k%2Fuclinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fuclinux.h?ref=78218d899779528fc2fe6ec5c01ce8b22f2fb404", "patch": "@@ -21,6 +21,8 @@ along with GCC; see the file COPYING.  If not, write to\n the Free Software Foundation, 51 Franklin Street, Fifth Floor,\n Boston, MA 02110-1301, USA.  */\n \n+#undef TARGET_VERSION\n+#define TARGET_VERSION fprintf (stderr, \" (68k uClinux)\");\n \n /* Undo the definition of STARTFILE_SPEC from m68kelf.h so we'll\n    pick the default from gcc.c (just link crt0.o from multilib dir).  */\n@@ -45,21 +47,14 @@ Boston, MA 02110-1301, USA.  */\n #undef ENDFILE_SPEC\n #define ENDFILE_SPEC \"\"\n  \n-/* Bring in standard linux defines */\n #undef TARGET_OS_CPP_BUILTINS\n-#define TARGET_OS_CPP_BUILTINS()\t\t\\\n-  do\t\t\t\t\t\t\\\n-    {\t\t\t\t\t\t\\\n-\tbuiltin_define_std (\"mc68000\");\t\t\\\n-\tbuiltin_define (\"__uClinux__\");\t\t\\\n-\tbuiltin_define_std (\"linux\");\t\t\\\n-\tbuiltin_define_std (\"unix\");\t\t\\\n-\tbuiltin_define (\"__gnu_linux__\");\t\\\n-\tbuiltin_assert (\"system=linux\");\t\\\n-\tbuiltin_assert (\"system=unix\");\t\t\\\n-\tbuiltin_assert (\"system=posix\");\t\\\n-\tif (TARGET_ID_SHARED_LIBRARY)\t\t\\\n-\t  builtin_define (\"__ID_SHARED_LIBRARY__\"); \\\n-    }\t\t\t\t\t\t\\\n+#define TARGET_OS_CPP_BUILTINS()\t\t\t\t\\\n+  do\t\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      LINUX_TARGET_OS_CPP_BUILTINS ();\t\t\t\t\\\n+      builtin_define (\"__uClinux__\");\t\t\t\t\\\n+      if (TARGET_ID_SHARED_LIBRARY)\t\t\t\t\\\n+\tbuiltin_define (\"__ID_SHARED_LIBRARY__\");\t\t\\\n+    }\t\t\t\t\t\t\t\t\\\n   while (0)\n "}]}