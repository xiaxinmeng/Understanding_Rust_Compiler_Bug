{"sha": "192c8d78feb564118b934cb8fe9a7edda6144c33", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTkyYzhkNzhmZWI1NjQxMThiOTM0Y2I4ZmU5YTdlZGRhNjE0NGMzMw==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2004-01-14T17:51:31Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2004-01-14T17:51:31Z"}, "message": "re PR bootstrap/12527 ([arm] bootstrap error on arm-linux, miscompiling genconstants)\n\nPR bootstrap/12527\n* config.gcc (arm*-*-linux*): Don't include unknown-elf.h in tm_file.\nMove linux-gas.h and linux-elf.h before aout.h.\n* arm/arm.h (INITIALIZE_TRAMPOLINE): Only define if not already.\n* arm/linux-elf.h (SUBTARGET_CPU_DEFAULT): Define.\n\nFrom-SVN: r75870", "tree": {"sha": "e04bb21af748b57fb39bbe926a57a28efdae075c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e04bb21af748b57fb39bbe926a57a28efdae075c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/192c8d78feb564118b934cb8fe9a7edda6144c33", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/192c8d78feb564118b934cb8fe9a7edda6144c33", "html_url": "https://github.com/Rust-GCC/gccrs/commit/192c8d78feb564118b934cb8fe9a7edda6144c33", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/192c8d78feb564118b934cb8fe9a7edda6144c33/comments", "author": null, "committer": null, "parents": [{"sha": "e512ab39b71dc2fbbb0c22d82c686e8c0b0b6612", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e512ab39b71dc2fbbb0c22d82c686e8c0b0b6612", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e512ab39b71dc2fbbb0c22d82c686e8c0b0b6612"}], "stats": {"total": 30, "additions": 23, "deletions": 7}, "files": [{"sha": "ba94c155d03977605d8b43ea7dc92b4f1143bfb0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/192c8d78feb564118b934cb8fe9a7edda6144c33/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/192c8d78feb564118b934cb8fe9a7edda6144c33/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=192c8d78feb564118b934cb8fe9a7edda6144c33", "patch": "@@ -1,3 +1,11 @@\n+2004-01-14  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\tPR bootstrap/12527\n+\t* config.gcc (arm*-*-linux*): Don't include unknown-elf.h in tm_file.\n+\tMove linux-gas.h and linux-elf.h before aout.h.\n+\t* arm/arm.h (INITIALIZE_TRAMPOLINE): Only define if not already.\n+\t* arm/linux-elf.h (SUBTARGET_CPU_DEFAULT): Define.\n+\n 2004-01-14  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* config/m32r/m32r.md: Use GEN_INT instead of gen_rtx"}, {"sha": "fd75363eba22bee4057f8154035b77c7e09f8ba4", "filename": "gcc/config.gcc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/192c8d78feb564118b934cb8fe9a7edda6144c33/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/192c8d78feb564118b934cb8fe9a7edda6144c33/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=192c8d78feb564118b934cb8fe9a7edda6144c33", "patch": "@@ -662,7 +662,7 @@ arm*-*-netbsd*)\n \tuse_collect2=yes\n \t;;\n arm*-*-linux*)\t\t\t# ARM GNU/Linux with ELF\n-\ttm_file=\"dbxelf.h elfos.h linux.h arm/unknown-elf.h arm/elf.h arm/aout.h arm/arm.h arm/linux-gas.h arm/linux-elf.h\"\n+\ttm_file=\"dbxelf.h elfos.h linux.h arm/elf.h  arm/linux-gas.h arm/linux-elf.h arm/aout.h arm/arm.h\"\n \ttmake_file=\"t-slibgcc-elf-ver t-linux arm/t-linux\"\n \textra_parts=\"crtbegin.o crtbeginS.o crtend.o crtendS.o\"\n \tgnu_ld=yes"}, {"sha": "40c26c9b39dc9fef305732f0455e17909df389f1", "filename": "gcc/config/arm/arm.h", "status": "modified", "additions": 12, "deletions": 6, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/192c8d78feb564118b934cb8fe9a7edda6144c33/gcc%2Fconfig%2Farm%2Farm.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/192c8d78feb564118b934cb8fe9a7edda6144c33/gcc%2Fconfig%2Farm%2Farm.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.h?ref=192c8d78feb564118b934cb8fe9a7edda6144c33", "patch": "@@ -2030,13 +2030,19 @@ typedef struct\n /* Emit RTL insns to initialize the variable parts of a trampoline.\n    FNADDR is an RTX for the address of the function's pure code.\n    CXT is an RTX for the static chain value for the function.  */\n-#define INITIALIZE_TRAMPOLINE(TRAMP, FNADDR, CXT)  \t\t\t\t\t\\\n-{\t\t\t\t\t\t\t\t\t\t\t\\\n-  emit_move_insn\t\t\t\t\t\t\t\t\t\\\n-    (gen_rtx_MEM (SImode, plus_constant (TRAMP, TARGET_ARM ? 8 : 16)), CXT);\t\t\\\n-  emit_move_insn\t\t\t\t\t\t\t\t\t\\\n-    (gen_rtx_MEM (SImode, plus_constant (TRAMP, TARGET_ARM ? 12 : 20)),\tFNADDR);\t\\\n+#ifndef INITIALIZE_TRAMPOLINE\n+#define INITIALIZE_TRAMPOLINE(TRAMP, FNADDR, CXT)\t\t\t\\\n+{\t\t\t\t\t\t\t\t\t\\\n+  emit_move_insn (gen_rtx_MEM (SImode,\t\t\t\t\t\\\n+\t\t\t       plus_constant (TRAMP,\t\t\t\\\n+\t\t\t\t\t      TARGET_ARM ? 8 : 16)),\t\\\n+\t\t  CXT);\t\t\t\t\t\t\t\\\n+  emit_move_insn (gen_rtx_MEM (SImode,\t\t\t\t\t\\\n+\t\t\t       plus_constant (TRAMP,\t\t\t\\\n+\t\t\t\t\t      TARGET_ARM ? 12 : 20)),\t\\\n+\t\t  FNADDR);\t\t\t\t\t\t\\\n }\n+#endif\n \n \f\n /* Addressing modes, and classification of registers for them.  */"}, {"sha": "8b94c9d647e79c6e8262cc2c72fa4cb25713cfe7", "filename": "gcc/config/arm/linux-elf.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/192c8d78feb564118b934cb8fe9a7edda6144c33/gcc%2Fconfig%2Farm%2Flinux-elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/192c8d78feb564118b934cb8fe9a7edda6144c33/gcc%2Fconfig%2Farm%2Flinux-elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Flinux-elf.h?ref=192c8d78feb564118b934cb8fe9a7edda6144c33", "patch": "@@ -34,6 +34,8 @@\n #undef  TARGET_DEFAULT\n #define TARGET_DEFAULT (ARM_FLAG_APCS_32 | ARM_FLAG_MMU_TRAPS)\n \n+#define SUBTARGET_CPU_DEFAULT TARGET_CPU_arm6\n+\n #define SUBTARGET_EXTRA_LINK_SPEC \" -m armelf_linux -p\"\n \n #undef  MULTILIB_DEFAULTS"}]}