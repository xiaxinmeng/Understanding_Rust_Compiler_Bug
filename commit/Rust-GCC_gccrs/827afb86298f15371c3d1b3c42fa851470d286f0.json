{"sha": "827afb86298f15371c3d1b3c42fa851470d286f0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODI3YWZiODYyOThmMTUzNzFjM2QxYjNjNDJmYTg1MTQ3MGQyODZmMA==", "commit": {"author": {"name": "Thomas Koenig", "email": "Thomas.Koenig@online.de", "date": "2005-08-29T20:40:02Z"}, "committer": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2005-08-29T20:40:02Z"}, "message": "[multiple changes]\n\n2005-08-29  Thomas Koenig  <Thomas.Koenig@online.de>\n\n\tPR libfortran/23598\n\t* io/lock.c(library_start):  If ioparm.iostat is present, clear\n\tit unconditionally.\n\n2005-02-29  Thomas Koenig  <Thomas.Koenig@online.de>\n\n\tPR libfortran/23598\n\t* gfortran.dg/iostat_1.f90:  New test.\n\nFrom-SVN: r103613", "tree": {"sha": "bc29b9e028673558a3d81e84dae7800d4cf5877a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bc29b9e028673558a3d81e84dae7800d4cf5877a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/827afb86298f15371c3d1b3c42fa851470d286f0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/827afb86298f15371c3d1b3c42fa851470d286f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/827afb86298f15371c3d1b3c42fa851470d286f0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/827afb86298f15371c3d1b3c42fa851470d286f0/comments", "author": null, "committer": null, "parents": [{"sha": "57247f4b28a219a5dc3159a3bb11bd4785c0409d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57247f4b28a219a5dc3159a3bb11bd4785c0409d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/57247f4b28a219a5dc3159a3bb11bd4785c0409d"}], "stats": {"total": 27, "additions": 26, "deletions": 1}, "files": [{"sha": "fa4675b209dc49f12fde9401c3ab3be59a797d46", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/827afb86298f15371c3d1b3c42fa851470d286f0/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/827afb86298f15371c3d1b3c42fa851470d286f0/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=827afb86298f15371c3d1b3c42fa851470d286f0", "patch": "@@ -1,3 +1,8 @@\n+2005-02-29  Thomas Koenig  <Thomas.Koenig@online.de>\n+\n+\tPR libfortran/23598\n+\t* gfortran.dg/iostat_1.f90:  New test.\n+\n 2005-08-28  Andrew Pinski  <pinskia@physics.uc.edu>\n \n \tPR middle-end/23408"}, {"sha": "79bc0018fbda02042de8f905a9730127a643a6c8", "filename": "gcc/testsuite/gfortran.dg/iostat_1.f90", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/827afb86298f15371c3d1b3c42fa851470d286f0/gcc%2Ftestsuite%2Fgfortran.dg%2Fiostat_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/827afb86298f15371c3d1b3c42fa851470d286f0/gcc%2Ftestsuite%2Fgfortran.dg%2Fiostat_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fiostat_1.f90?ref=827afb86298f15371c3d1b3c42fa851470d286f0", "patch": "@@ -0,0 +1,14 @@\n+! { dg-do run }\n+! PR 23598 - The iostat variable wasn't reset if the previous\n+! I/O library call had an error.\n+program main\n+  implicit none\n+  integer :: ios, i\n+  open (10, pad='no', status='scratch')\n+  write (10, '(A)') '1','1'\n+  rewind (10)\n+  read (10,'(I2)',iostat=ios) i\n+  ios = -4321\n+  read (10, '(I1)', iostat=ios) i\n+  if (ios /= 0) call abort\n+end program main"}, {"sha": "98ae30633367cba4ff8d6729a83b9ba58eff41bd", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/827afb86298f15371c3d1b3c42fa851470d286f0/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/827afb86298f15371c3d1b3c42fa851470d286f0/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=827afb86298f15371c3d1b3c42fa851470d286f0", "patch": "@@ -1,3 +1,9 @@\n+2005-08-29  Thomas Koenig  <Thomas.Koenig@online.de>\n+\n+\tPR libfortran/23598\n+\t* io/lock.c(library_start):  If ioparm.iostat is present, clear\n+\tit unconditionally.\n+\n 2005-08-27  Francois-Xavier Coudert  <coudert@clipper.ens.fr>\n \n \t* acinclude.m4 (LIBGFOR_CHECK_UNLINK_OPEN_FILE): Add check to see"}, {"sha": "7dc08e1d828d325d4dd6e706dc27819e4578ae9e", "filename": "libgfortran/io/lock.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/827afb86298f15371c3d1b3c42fa851470d286f0/libgfortran%2Fio%2Flock.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/827afb86298f15371c3d1b3c42fa851470d286f0/libgfortran%2Fio%2Flock.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Flock.c?ref=827afb86298f15371c3d1b3c42fa851470d286f0", "patch": "@@ -54,7 +54,7 @@ library_start (void)\n      stay within the library. */\n   g.in_library = 1;\n \n-  if (ioparm.iostat != NULL && ioparm.library_return == LIBRARY_OK)\n+  if (ioparm.iostat != NULL)\n     *ioparm.iostat = ERROR_OK;\n \n   ioparm.library_return = LIBRARY_OK;"}]}