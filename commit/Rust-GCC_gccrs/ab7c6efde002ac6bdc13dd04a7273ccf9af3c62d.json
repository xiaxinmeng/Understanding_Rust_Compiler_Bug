{"sha": "ab7c6efde002ac6bdc13dd04a7273ccf9af3c62d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWI3YzZlZmRlMDAyYWM2YmRjMTNkZDA0YTcyNzNjY2Y5YWYzYzYyZA==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@cs.umass.edu", "date": "2003-11-13T22:28:07Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2003-11-13T22:28:07Z"}, "message": "lib1funcs.asm (___udivsi3): Jump to reti instead of exitdiv.\n\n\t* config/h8300/lib1funcs.asm (___udivsi3): Jump to reti\n\tinstead of exitdiv.\n\t(___umodsi3): Likewise.\n\t(exitdiv): Do not restore any register.\n\t(reti): Restore registers.\n\nFrom-SVN: r73560", "tree": {"sha": "23bc99f57aa404ac4d50fa884fb68c4e409e6618", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/23bc99f57aa404ac4d50fa884fb68c4e409e6618"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ab7c6efde002ac6bdc13dd04a7273ccf9af3c62d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab7c6efde002ac6bdc13dd04a7273ccf9af3c62d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab7c6efde002ac6bdc13dd04a7273ccf9af3c62d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab7c6efde002ac6bdc13dd04a7273ccf9af3c62d/comments", "author": null, "committer": null, "parents": [{"sha": "415294f0e03993a46b859da9d29c925d7b054965", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/415294f0e03993a46b859da9d29c925d7b054965", "html_url": "https://github.com/Rust-GCC/gccrs/commit/415294f0e03993a46b859da9d29c925d7b054965"}], "stats": {"total": 19, "additions": 12, "deletions": 7}, "files": [{"sha": "d0ddf501c731594f3bb25ba43de0f9a7221b1ac0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab7c6efde002ac6bdc13dd04a7273ccf9af3c62d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab7c6efde002ac6bdc13dd04a7273ccf9af3c62d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ab7c6efde002ac6bdc13dd04a7273ccf9af3c62d", "patch": "@@ -1,3 +1,11 @@\n+2003-11-13  Kazu Hirata  <kazu@cs.umass.edu>\n+\n+\t* config/h8300/lib1funcs.asm (___udivsi3): Jump to reti\n+\tinstead of exitdiv.\n+\t(___umodsi3): Likewise.\n+\t(exitdiv): Do not restore any register.\n+\t(reti): Restore registers.\n+\n 2003-11-13  Steven Bosscher  <stevenb@suse.de>\n \n \t* tree-inline.c (walk_tree): Handle PLACEHOLDER_EXPR."}, {"sha": "3e7d89f23a11a83af2b8b8174310e16df87d383f", "filename": "gcc/config/h8300/lib1funcs.asm", "status": "modified", "additions": 4, "deletions": 7, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab7c6efde002ac6bdc13dd04a7273ccf9af3c62d/gcc%2Fconfig%2Fh8300%2Flib1funcs.asm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab7c6efde002ac6bdc13dd04a7273ccf9af3c62d/gcc%2Fconfig%2Fh8300%2Flib1funcs.asm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Flib1funcs.asm?ref=ab7c6efde002ac6bdc13dd04a7273ccf9af3c62d", "patch": "@@ -452,9 +452,8 @@ ___udivsi3:\n \tPUSHP\tS2P\n \tPUSHP\tS0P\n \tPUSHP\tS1P\n-\tmov.b\t#0,S2L\t; keep sign low\n \tbsr\tdivmodsi4\n-\tbra\texitdiv\n+\tbra\treti\n #else\n \t;; H8/300H and H8S version of divmodsi4 does not clobber S1P or S2P.\n \tPUSHP\tS0P\n@@ -469,11 +468,10 @@ ___umodsi3:\n \tPUSHP\tS2P\n \tPUSHP\tS0P\n \tPUSHP\tS1P\n-\tmov.b\t#0,S2L\t; keep sign low\n \tbsr\tdivmodsi4\n \tmov\tS0,A0\n \tmov\tS1,A1\n-\tbra\texitdiv\n+\tbra\treti\n #else\n \t;; H8/300H and H8S version of divmodsi4 does not clobber S1P or S2P.\n \tPUSHP\tS0P\n@@ -493,9 +491,6 @@ ___divsi3:\n \n \t; examine what the sign should be\n exitdiv:\n-\tPOPP\tS1P\n-\tPOPP\tS0P\n-\n \tor\tS2L,S2L\n \tbeq\treti\n \n@@ -515,6 +510,8 @@ exitdiv:\n #endif\n \n reti:\n+\tPOPP\tS1P\n+\tPOPP\tS0P\n \tPOPP\tS2P\n \trts\n "}]}