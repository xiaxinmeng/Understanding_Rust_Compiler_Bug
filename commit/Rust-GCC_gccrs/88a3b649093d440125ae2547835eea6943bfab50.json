{"sha": "88a3b649093d440125ae2547835eea6943bfab50", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODhhM2I2NDkwOTNkNDQwMTI1YWUyNTQ3ODM1ZWVhNjk0M2JmYWI1MA==", "commit": {"author": {"name": "Mike Stump", "email": "mikestump@comcast.net", "date": "2011-02-13T10:02:30Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "2011-02-13T10:02:30Z"}, "message": "lex.h: Plugify.\n\nobjcp:\n\t* plugin/lex.h: Plugify.\ncp:\n\t* lex.c: Plugify.\n\t* Make-lang.in (objcp/plugin/lex.h): Likewise.\n\nFrom-SVN: r170104", "tree": {"sha": "d7c3197ecf431aa96d0496c9039fafecf407d3b2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d7c3197ecf431aa96d0496c9039fafecf407d3b2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/88a3b649093d440125ae2547835eea6943bfab50", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88a3b649093d440125ae2547835eea6943bfab50", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88a3b649093d440125ae2547835eea6943bfab50", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88a3b649093d440125ae2547835eea6943bfab50/comments", "author": null, "committer": null, "parents": [{"sha": "eb369a703fe9aa3eaa74948f65b272331251d6af", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eb369a703fe9aa3eaa74948f65b272331251d6af", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eb369a703fe9aa3eaa74948f65b272331251d6af"}], "stats": {"total": 61, "additions": 51, "deletions": 10}, "files": [{"sha": "806c770b5d5ce89614f1f56d83d38fac95d4e4cf", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88a3b649093d440125ae2547835eea6943bfab50/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88a3b649093d440125ae2547835eea6943bfab50/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=88a3b649093d440125ae2547835eea6943bfab50", "patch": "@@ -1,9 +1,7 @@\n-2011-02-13  Tobias Burnus  <burnus@net-b.de>\n-\n-\t* parser.c (cp_parser_declaration): Remove unused variable.\n-\n 2011-02-13  Mike Stump  <mikestump@comcast.net>\n \n+\t* lex.c: Plugify.\n+\t* Make-lang.in (objcp/plugin/lex.h): Likewise.\n \t* Make-lang.in (cp/parser.o): Move c-family/c-objc.h dependancy\n \tdown.\n "}, {"sha": "993c510ac318a39ba62be8dcb7b04eae8be05a1c", "filename": "gcc/cp/Make-lang.in", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88a3b649093d440125ae2547835eea6943bfab50/gcc%2Fcp%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88a3b649093d440125ae2547835eea6943bfab50/gcc%2Fcp%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FMake-lang.in?ref=88a3b649093d440125ae2547835eea6943bfab50", "patch": "@@ -247,8 +247,7 @@ CXX_TREE_H = $(TREE_H) cp/name-lookup.h cp/cp-tree.h $(C_COMMON_H) \\\n CXX_PRETTY_PRINT_H = cp/cxx-pretty-print.h $(C_PRETTY_PRINT_H)\n \n cp/lex.o: cp/lex.c $(CXX_TREE_H) $(TM_H) $(FLAGS_H) \\\n-  $(C_PRAGMA_H) output.h input.h cp/operators.def $(TM_P_H) \\\n-  c-family/c-objc.h\n+  $(C_PRAGMA_H) output.h input.h cp/operators.def $(TM_P_H)\n cp/cp-lang.o: cp/cp-lang.c $(CXX_TREE_H) $(TM_H) debug.h langhooks.h \\\n   $(LANGHOOKS_DEF_H) $(C_COMMON_H) gtype-cp.h gt-cp-cp-lang.h \\\n   cp/cp-objcp-common.h $(EXPR_H) $(TARGET_H)\n@@ -332,10 +331,17 @@ cp/cxx-pretty-print.o: cp/cxx-pretty-print.c $(CXX_PRETTY_PRINT_H) \\\n cp/parser.o: $(objdir)/objcp/plugin/parser.h $(srcdir)/objcp/plugin/parser.c \\\n \tc-family/c-objc.h\n \n+cp/lex.o: $(objdir)/objcp/plugin/lex.h c-family/c-objc.h\n+\n build/slashify:: $(srcdir)/config/slashify.c\n \t$(COMPILER_FOR_BUILD) $(srcdir)/config/slashify.c -o $@\n \n $(objdir)/objcp/plugin/parser.h: $(srcdir)/objcp/plugin/parser.h | build/slashify\n \ttest -d objcp || mkdir objcp\n \ttest -d objcp/plugin || mkdir objcp/plugin\n \tbuild/slashify < $< > $@\n+\n+$(objdir)/objcp/plugin/lex.h: $(srcdir)/objcp/plugin/lex.h | build/slashify\n+\ttest -d objcp || mkdir objcp\n+\ttest -d objcp/plugin || mkdir objcp/plugin\n+\tbuild/slashify < $< > $@"}, {"sha": "c8c49f1011b3e3f9696f49bf64e170633503ce82", "filename": "gcc/cp/lex.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88a3b649093d440125ae2547835eea6943bfab50/gcc%2Fcp%2Flex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88a3b649093d440125ae2547835eea6943bfab50/gcc%2Fcp%2Flex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Flex.c?ref=88a3b649093d440125ae2547835eea6943bfab50", "patch": "@@ -33,7 +33,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"cpplib.h\"\n #include \"flags.h\"\n #include \"c-family/c-pragma.h\"\n-#include \"c-family/c-objc.h\"\n+#include \"objcp/plugin/lex.h\"\n #include \"output.h\"\n #include \"tm_p.h\"\n #include \"timevar.h\"\n@@ -449,7 +449,7 @@ unqualified_name_lookup_error (tree name)\n     }\n   else\n     {\n-      if (!objc_diagnose_private_ivar (name))\n+      if (!PLUGIN_UNQUALIFIED_NAME_LOOKUP_ERROR (name))\n \t{\n \t  error (\"%qD was not declared in this scope\", name);\n \t  suggest_alternatives_for (location_of (name), name);"}, {"sha": "ecdc66c9a867fecd8eebd5deb9d9f4faf56f4fbf", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88a3b649093d440125ae2547835eea6943bfab50/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88a3b649093d440125ae2547835eea6943bfab50/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=88a3b649093d440125ae2547835eea6943bfab50", "patch": "@@ -9325,6 +9325,7 @@ cp_parser_declaration (cp_parser* parser)\n   cp_token token2;\n   int saved_pedantic;\n   void *p;\n+  tree attributes = NULL_TREE;\n \n   /* Check for the `__extension__' keyword.  */\n   if (cp_parser_extension_opt (parser, &saved_pedantic))"}, {"sha": "92f6b7d32e1ad4f30cfeccdbe003424baafa4f0e", "filename": "gcc/objcp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88a3b649093d440125ae2547835eea6943bfab50/gcc%2Fobjcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88a3b649093d440125ae2547835eea6943bfab50/gcc%2Fobjcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjcp%2FChangeLog?ref=88a3b649093d440125ae2547835eea6943bfab50", "patch": "@@ -1,3 +1,7 @@\n+2011-02-13  Mike Stump  <mikestump@comcast.net>\n+\n+\t* plugin/lex.h: Plugify.\n+\n 2011-02-12  Mike Stump  <mikestump@comcast.net>\n \n \t* Make-lang.in (obj-c++.tags): Plugify Objective-C++."}, {"sha": "a13024a5b2d641aaec6f470eab4f1efb4406eaf4", "filename": "gcc/objcp/plugin/lex.h", "status": "added", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88a3b649093d440125ae2547835eea6943bfab50/gcc%2Fobjcp%2Fplugin%2Flex.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88a3b649093d440125ae2547835eea6943bfab50/gcc%2Fobjcp%2Fplugin%2Flex.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjcp%2Fplugin%2Flex.h?ref=88a3b649093d440125ae2547835eea6943bfab50", "patch": "@@ -0,0 +1,32 @@\n+/* Objective-C++ Parser plugin\n+   Copyright (C) 2011  Free Software Foundation, Inc.\n+\n+   This file is part of GCC.\n+\n+   GCC is free software; you can redistribute it and/or modify it\n+   under the terms of the GNU General Public License as published by\n+   the Free Software Foundation; either version 3, or (at your option)\n+   any later version.\n+\n+   GCC is distributed in the hope that it will be useful, but\n+   WITHOUT ANY WARRANTY; without even the implied warranty of\n+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+   General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GCC; see the file COPYING3.  If not see\n+<http://www.gnu.org/licenses/>.  */\n+\n+\n+#ifndef HIDE_OBJC\n+\n+#include \"c-family/c-objc.h\"\n+\n+#define PLUGIN_UNQUALIFIED_NAME_LOOKUP_ERROR(name) @(\n+  objc_diagnose_private_ivar (name)@)\n+\n+#else\n+\n+#define PLUGIN_UNQUALIFIED_NAME_LOOKUP_ERROR(name) 0\n+\n+#endif"}, {"sha": "a2481f1859c04c734b23af8986d78161f874c64e", "filename": "gcc/objcp/plugin/parser.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88a3b649093d440125ae2547835eea6943bfab50/gcc%2Fobjcp%2Fplugin%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88a3b649093d440125ae2547835eea6943bfab50/gcc%2Fobjcp%2Fplugin%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjcp%2Fplugin%2Fparser.c?ref=88a3b649093d440125ae2547835eea6943bfab50", "patch": "@@ -19,7 +19,7 @@ along with GCC; see the file COPYING3.  If not see\n <http://www.gnu.org/licenses/>.  */\n \n \n-#ifdef HIDE_OBJC\n+#ifndef HIDE_OBJC\n \n /* Objective-C++ Productions */\n "}, {"sha": "e41e30ba67a1fce667c0e092b06ee520cac758a2", "filename": "gcc/objcp/plugin/parser.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88a3b649093d440125ae2547835eea6943bfab50/gcc%2Fobjcp%2Fplugin%2Fparser.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88a3b649093d440125ae2547835eea6943bfab50/gcc%2Fobjcp%2Fplugin%2Fparser.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjcp%2Fplugin%2Fparser.h?ref=88a3b649093d440125ae2547835eea6943bfab50", "patch": "@@ -21,7 +21,7 @@ along with GCC; see the file COPYING3.  If not see\n \n /* This isn't defined anywhere, yet, but it could be.  This will turn off\n    the entire C++ Objective-C++ plugin.  */\n-#ifdef HIDE_OBJC\n+#ifndef HIDE_OBJC\n \n #include \"c-family/c-objc.h\"\n "}]}