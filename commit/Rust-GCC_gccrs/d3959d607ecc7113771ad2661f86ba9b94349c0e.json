{"sha": "d3959d607ecc7113771ad2661f86ba9b94349c0e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDM5NTlkNjA3ZWNjNzExMzc3MWFkMjY2MWY4NmJhOWI5NDM0OWMwZQ==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1998-01-25T12:54:44Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-01-25T12:54:44Z"}, "message": "* parse.y (typename_sub*): Fix std::.\n\nFrom-SVN: r17476", "tree": {"sha": "aae77ddc2040a019c85357f46d89a922f30d434c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aae77ddc2040a019c85357f46d89a922f30d434c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d3959d607ecc7113771ad2661f86ba9b94349c0e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3959d607ecc7113771ad2661f86ba9b94349c0e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d3959d607ecc7113771ad2661f86ba9b94349c0e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3959d607ecc7113771ad2661f86ba9b94349c0e/comments", "author": null, "committer": null, "parents": [{"sha": "91a5195111f77dc2b915fa197c584339e35de7f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/91a5195111f77dc2b915fa197c584339e35de7f4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/91a5195111f77dc2b915fa197c584339e35de7f4"}], "stats": {"total": 460, "additions": 240, "deletions": 220}, "files": [{"sha": "795a40440297a50201b46af43e57434e7ba6bf90", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3959d607ecc7113771ad2661f86ba9b94349c0e/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3959d607ecc7113771ad2661f86ba9b94349c0e/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=d3959d607ecc7113771ad2661f86ba9b94349c0e", "patch": "@@ -1,3 +1,7 @@\n+Sun Jan 25 03:30:00 1998  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* parse.y (typename_sub*): Fix std::.\n+\n Sat Jan 24 12:13:54 1998  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* error.c (dump_decl): Fix type default template args."}, {"sha": "85056b8a0dba9e25df621016548d7aee6601526b", "filename": "gcc/cp/parse.c", "status": "modified", "additions": 226, "deletions": 218, "changes": 444, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3959d607ecc7113771ad2661f86ba9b94349c0e/gcc%2Fcp%2Fparse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3959d607ecc7113771ad2661f86ba9b94349c0e/gcc%2Fcp%2Fparse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparse.c?ref=d3959d607ecc7113771ad2661f86ba9b94349c0e", "patch": "@@ -701,30 +701,30 @@ static const short yyrline[] = { 0,\n   3144,  3148,  3151,  3154,  3156,  3158,  3160,  3164,  3167,  3170,\n   3172,  3174,  3176,  3183,  3194,  3198,  3203,  3207,  3212,  3214,\n   3218,  3221,  3223,  3227,  3229,  3230,  3233,  3235,  3241,  3256,\n-  3262,  3268,  3282,  3284,  3288,  3300,  3306,  3317,  3324,  3330,\n-  3332,  3333,  3334,  3342,  3351,  3352,  3356,  3359,  3365,  3371,\n-  3374,  3376,  3378,  3380,  3384,  3388,  3392,  3395,  3400,  3403,\n-  3405,  3407,  3409,  3411,  3413,  3415,  3417,  3421,  3425,  3429,\n-  3433,  3434,  3436,  3438,  3440,  3442,  3444,  3446,  3448,  3450,\n-  3458,  3460,  3461,  3462,  3465,  3473,  3478,  3485,  3487,  3492,\n-  3494,  3497,  3511,  3514,  3517,  3526,  3538,  3549,  3569,  3579,\n-  3582,  3590,  3602,  3605,  3608,  3611,  3627,  3630,  3641,  3642,\n-  3646,  3661,  3680,  3692,  3706,  3720,  3733,  3752,  3770,  3789,\n-  3797,  3818,  3836,  3849,  3850,  3853,  3853,  3856,  3856,  3859,\n-  3859,  3865,  3871,  3874,  3879,  3886,  3895,  3904,  3913,  3921,\n-  3934,  3936,  3940,  3942,  3945,  3952,  3955,  3963,  3979,  3990,\n-  4002,  4004,  4007,  4017,  4027,  4038,  4040,  4042,  4045,  4062,\n-  4068,  4076,  4078,  4080,  4084,  4087,  4088,  4096,  4100,  4104,\n-  4107,  4108,  4114,  4117,  4120,  4122,  4126,  4131,  4134,  4144,\n-  4149,  4150,  4158,  4164,  4169,  4173,  4178,  4182,  4186,  4190,\n-  4195,  4206,  4220,  4224,  4227,  4229,  4233,  4237,  4240,  4243,\n-  4245,  4249,  4251,  4258,  4265,  4268,  4271,  4275,  4279,  4285,\n-  4289,  4294,  4296,  4299,  4304,  4310,  4321,  4324,  4326,  4330,\n-  4335,  4337,  4344,  4347,  4349,  4351,  4357,  4362,  4365,  4367,\n-  4369,  4371,  4373,  4375,  4377,  4379,  4381,  4383,  4385,  4387,\n-  4389,  4391,  4393,  4395,  4397,  4399,  4401,  4403,  4405,  4407,\n-  4409,  4411,  4413,  4415,  4417,  4419,  4421,  4423,  4425,  4427,\n-  4430,  4432\n+  3262,  3268,  3282,  3284,  3288,  3304,  3310,  3325,  3332,  3338,\n+  3340,  3341,  3342,  3350,  3359,  3360,  3364,  3367,  3373,  3379,\n+  3382,  3384,  3386,  3388,  3392,  3396,  3400,  3403,  3408,  3411,\n+  3413,  3415,  3417,  3419,  3421,  3423,  3425,  3429,  3433,  3437,\n+  3441,  3442,  3444,  3446,  3448,  3450,  3452,  3454,  3456,  3458,\n+  3466,  3468,  3469,  3470,  3473,  3481,  3486,  3493,  3495,  3500,\n+  3502,  3505,  3519,  3522,  3525,  3534,  3546,  3557,  3577,  3587,\n+  3590,  3598,  3610,  3613,  3616,  3619,  3635,  3638,  3649,  3650,\n+  3654,  3669,  3688,  3700,  3714,  3728,  3741,  3760,  3778,  3797,\n+  3805,  3826,  3844,  3857,  3858,  3861,  3861,  3864,  3864,  3867,\n+  3867,  3873,  3879,  3882,  3887,  3894,  3903,  3912,  3921,  3929,\n+  3942,  3944,  3948,  3950,  3953,  3960,  3963,  3971,  3987,  3998,\n+  4010,  4012,  4015,  4025,  4035,  4046,  4048,  4050,  4053,  4070,\n+  4076,  4084,  4086,  4088,  4092,  4095,  4096,  4104,  4108,  4112,\n+  4115,  4116,  4122,  4125,  4128,  4130,  4134,  4139,  4142,  4152,\n+  4157,  4158,  4166,  4172,  4177,  4181,  4186,  4190,  4194,  4198,\n+  4203,  4214,  4228,  4232,  4235,  4237,  4241,  4245,  4248,  4251,\n+  4253,  4257,  4259,  4266,  4273,  4276,  4279,  4283,  4287,  4293,\n+  4297,  4302,  4304,  4307,  4312,  4318,  4329,  4332,  4334,  4338,\n+  4343,  4345,  4352,  4355,  4357,  4359,  4365,  4370,  4373,  4375,\n+  4377,  4379,  4381,  4383,  4385,  4387,  4389,  4391,  4393,  4395,\n+  4397,  4399,  4401,  4403,  4405,  4407,  4409,  4411,  4413,  4415,\n+  4417,  4419,  4421,  4423,  4425,  4427,  4429,  4431,  4433,  4435,\n+  4438,  4440\n };\n #endif\n \n@@ -7197,57 +7197,65 @@ case 615:\n \t\t  else if (TREE_CODE (yyvsp[0].ttype) == IDENTIFIER_NODE)\n \t\t    cp_error (\"`%T' is not a class or namespace\", yyvsp[0].ttype);\n \t\t  else\n-\t\t    yyval.ttype = yyvsp[0].ttype;\n+\t\t    {\n+\t\t      yyval.ttype = yyvsp[0].ttype;\n+\t\t      if (TREE_CODE (yyval.ttype) == TYPE_DECL)\n+\t\t\tyyval.ttype = TREE_TYPE (yyval.ttype);\n+\t\t    }\n \t\t;\n     break;}\n case 616:\n-#line 3302 \"parse.y\"\n+#line 3306 \"parse.y\"\n {\n \t\t  if (TREE_CODE (yyvsp[0].ttype) == IDENTIFIER_NODE)\n \t\t    cp_error (\"`%T' is not a class or namespace\", yyvsp[0].ttype);\n \t\t;\n     break;}\n case 617:\n-#line 3307 \"parse.y\"\n+#line 3311 \"parse.y\"\n {\n \t\t  if (TREE_CODE_CLASS (TREE_CODE (yyvsp[-1].ttype)) == 't')\n \t\t    yyval.ttype = make_typename_type (yyvsp[-1].ttype, yyvsp[0].ttype);\n \t\t  else if (TREE_CODE (yyvsp[0].ttype) == IDENTIFIER_NODE)\n \t\t    cp_error (\"`%T' is not a class or namespace\", yyvsp[0].ttype);\n \t\t  else\n-\t\t    yyval.ttype = yyvsp[0].ttype;\n+\t\t    {\n+\t\t      yyval.ttype = yyvsp[0].ttype;\n+\t\t      if (TREE_CODE (yyval.ttype) == TYPE_DECL)\n+\t\t\tyyval.ttype = TREE_TYPE (yyval.ttype);\n+\t\t    }\n \t\t;\n     break;}\n case 618:\n-#line 3319 \"parse.y\"\n+#line 3327 \"parse.y\"\n {\n \t\t  if (TREE_CODE (yyvsp[-1].ttype) != IDENTIFIER_NODE)\n \t\t    yyval.ttype = lastiddecl;\n \t\t  got_scope = yyval.ttype = complete_type (TREE_TYPE (yyval.ttype));\n \t\t;\n     break;}\n case 619:\n-#line 3325 \"parse.y\"\n+#line 3333 \"parse.y\"\n {\n \t\t  if (TREE_CODE (yyvsp[-1].ttype) != IDENTIFIER_NODE)\n \t\t    yyval.ttype = lastiddecl;\n \t\t  got_scope = yyval.ttype = complete_type (TREE_TYPE (yyval.ttype));\n \t\t;\n     break;}\n case 620:\n-#line 3331 \"parse.y\"\n+#line 3339 \"parse.y\"\n { got_scope = yyval.ttype = complete_type (TREE_TYPE (yyval.ttype)); ;\n     break;}\n case 623:\n-#line 3335 \"parse.y\"\n+#line 3343 \"parse.y\"\n {\n \t\t  if (TREE_CODE (yyval.ttype) == IDENTIFIER_NODE)\n \t\t    yyval.ttype = lastiddecl;\n \t\t  got_scope = yyval.ttype;\n \t\t;\n     break;}\n case 624:\n-#line 3344 \"parse.y\"\n+#line 3352 \"parse.y\"\n {\n \t\t  if (TREE_CODE (yyvsp[0].ttype) == IDENTIFIER_NODE)\n \t\t    yyval.ttype = IDENTIFIER_GLOBAL_VALUE (yyvsp[0].ttype);\n@@ -7257,156 +7265,156 @@ case 624:\n \t\t;\n     break;}\n case 626:\n-#line 3353 \"parse.y\"\n+#line 3361 \"parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 627:\n-#line 3358 \"parse.y\"\n+#line 3366 \"parse.y\"\n { got_scope = NULL_TREE; ;\n     break;}\n case 628:\n-#line 3360 \"parse.y\"\n+#line 3368 \"parse.y\"\n { yyval.ttype = yyvsp[-1].ttype; got_scope = NULL_TREE; ;\n     break;}\n case 629:\n-#line 3367 \"parse.y\"\n+#line 3375 \"parse.y\"\n { got_scope = void_type_node; ;\n     break;}\n case 630:\n-#line 3373 \"parse.y\"\n+#line 3381 \"parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 631:\n-#line 3375 \"parse.y\"\n+#line 3383 \"parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 632:\n-#line 3377 \"parse.y\"\n+#line 3385 \"parse.y\"\n { yyval.ttype = make_reference_declarator (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 633:\n-#line 3379 \"parse.y\"\n+#line 3387 \"parse.y\"\n { yyval.ttype = make_reference_declarator (yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 634:\n-#line 3381 \"parse.y\"\n+#line 3389 \"parse.y\"\n { tree arg = make_pointer_declarator (yyvsp[0].ttype, NULL_TREE);\n \t\t  yyval.ttype = build_parse_node (SCOPE_REF, yyvsp[-1].ttype, arg);\n \t\t;\n     break;}\n case 635:\n-#line 3385 \"parse.y\"\n+#line 3393 \"parse.y\"\n { tree arg = make_pointer_declarator (yyvsp[-1].ttype, yyvsp[0].ttype);\n \t\t  yyval.ttype = build_parse_node (SCOPE_REF, yyvsp[-2].ttype, arg);\n \t\t;\n     break;}\n case 637:\n-#line 3394 \"parse.y\"\n+#line 3402 \"parse.y\"\n { yyval.ttype = build_parse_node (ARRAY_REF, NULL_TREE, yyvsp[-1].ttype); ;\n     break;}\n case 638:\n-#line 3396 \"parse.y\"\n+#line 3404 \"parse.y\"\n { yyval.ttype = build_parse_node (ARRAY_REF, yyval.ttype, yyvsp[-1].ttype); ;\n     break;}\n case 639:\n-#line 3402 \"parse.y\"\n+#line 3410 \"parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[-1].ftype.t, yyvsp[0].ttype); ;\n     break;}\n case 640:\n-#line 3404 \"parse.y\"\n+#line 3412 \"parse.y\"\n { yyval.ttype = make_pointer_declarator (NULL_TREE, yyvsp[0].ttype); ;\n     break;}\n case 641:\n-#line 3406 \"parse.y\"\n+#line 3414 \"parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[0].ftype.t, NULL_TREE); ;\n     break;}\n case 642:\n-#line 3408 \"parse.y\"\n+#line 3416 \"parse.y\"\n { yyval.ttype = make_pointer_declarator (NULL_TREE, NULL_TREE); ;\n     break;}\n case 643:\n-#line 3410 \"parse.y\"\n+#line 3418 \"parse.y\"\n { yyval.ttype = make_reference_declarator (yyvsp[-1].ftype.t, yyvsp[0].ttype); ;\n     break;}\n case 644:\n-#line 3412 \"parse.y\"\n+#line 3420 \"parse.y\"\n { yyval.ttype = make_reference_declarator (NULL_TREE, yyvsp[0].ttype); ;\n     break;}\n case 645:\n-#line 3414 \"parse.y\"\n+#line 3422 \"parse.y\"\n { yyval.ttype = make_reference_declarator (yyvsp[0].ftype.t, NULL_TREE); ;\n     break;}\n case 646:\n-#line 3416 \"parse.y\"\n+#line 3424 \"parse.y\"\n { yyval.ttype = make_reference_declarator (NULL_TREE, NULL_TREE); ;\n     break;}\n case 647:\n-#line 3418 \"parse.y\"\n+#line 3426 \"parse.y\"\n { tree arg = make_pointer_declarator (yyvsp[0].ttype, NULL_TREE);\n \t\t  yyval.ttype = build_parse_node (SCOPE_REF, yyvsp[-1].ttype, arg);\n \t\t;\n     break;}\n case 648:\n-#line 3422 \"parse.y\"\n+#line 3430 \"parse.y\"\n { tree arg = make_pointer_declarator (yyvsp[-1].ttype, yyvsp[0].ttype);\n \t\t  yyval.ttype = build_parse_node (SCOPE_REF, yyvsp[-2].ttype, arg);\n \t\t;\n     break;}\n case 650:\n-#line 3431 \"parse.y\"\n+#line 3439 \"parse.y\"\n { yyval.ttype = yyvsp[-1].ttype; ;\n     break;}\n case 652:\n-#line 3435 \"parse.y\"\n+#line 3443 \"parse.y\"\n { yyval.ttype = make_call_declarator (yyval.ttype, yyvsp[-3].ttype, yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 653:\n-#line 3437 \"parse.y\"\n+#line 3445 \"parse.y\"\n { yyval.ttype = make_call_declarator (yyval.ttype, empty_parms (), yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 654:\n-#line 3439 \"parse.y\"\n+#line 3447 \"parse.y\"\n { yyval.ttype = build_parse_node (ARRAY_REF, yyval.ttype, yyvsp[-1].ttype); ;\n     break;}\n case 655:\n-#line 3441 \"parse.y\"\n+#line 3449 \"parse.y\"\n { yyval.ttype = build_parse_node (ARRAY_REF, yyval.ttype, NULL_TREE); ;\n     break;}\n case 656:\n-#line 3443 \"parse.y\"\n+#line 3451 \"parse.y\"\n { yyval.ttype = make_call_declarator (NULL_TREE, yyvsp[-3].ttype, yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 657:\n-#line 3445 \"parse.y\"\n+#line 3453 \"parse.y\"\n { set_quals_and_spec (yyval.ttype, yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 658:\n-#line 3447 \"parse.y\"\n+#line 3455 \"parse.y\"\n { set_quals_and_spec (yyval.ttype, yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 659:\n-#line 3449 \"parse.y\"\n+#line 3457 \"parse.y\"\n { yyval.ttype = build_parse_node (ARRAY_REF, NULL_TREE, yyvsp[-1].ttype); ;\n     break;}\n case 660:\n-#line 3451 \"parse.y\"\n+#line 3459 \"parse.y\"\n { yyval.ttype = build_parse_node (ARRAY_REF, NULL_TREE, NULL_TREE); ;\n     break;}\n case 666:\n-#line 3475 \"parse.y\"\n+#line 3483 \"parse.y\"\n { do_pushlevel (); ;\n     break;}\n case 667:\n-#line 3480 \"parse.y\"\n+#line 3488 \"parse.y\"\n { yyval.ttype = do_poplevel (); ;\n     break;}\n case 669:\n-#line 3488 \"parse.y\"\n+#line 3496 \"parse.y\"\n { if (pedantic)\n \t\t    pedwarn (\"ANSI C++ forbids label declarations\"); ;\n     break;}\n case 672:\n-#line 3499 \"parse.y\"\n+#line 3507 \"parse.y\"\n { tree link;\n \t\t  for (link = yyvsp[-1].ttype; link; link = TREE_CHAIN (link))\n \t\t    {\n@@ -7417,11 +7425,11 @@ case 672:\n \t\t;\n     break;}\n case 673:\n-#line 3513 \"parse.y\"\n+#line 3521 \"parse.y\"\n {;\n     break;}\n case 675:\n-#line 3519 \"parse.y\"\n+#line 3527 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7431,7 +7439,7 @@ case 675:\n \t\t;\n     break;}\n case 676:\n-#line 3527 \"parse.y\"\n+#line 3535 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7443,7 +7451,7 @@ case 676:\n \t\t;\n     break;}\n case 677:\n-#line 3540 \"parse.y\"\n+#line 3548 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7455,7 +7463,7 @@ case 677:\n \t\t;\n     break;}\n case 678:\n-#line 3550 \"parse.y\"\n+#line 3558 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7476,7 +7484,7 @@ case 678:\n \t\t;\n     break;}\n case 679:\n-#line 3569 \"parse.y\"\n+#line 3577 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7487,11 +7495,11 @@ case 679:\n \t\t;\n     break;}\n case 680:\n-#line 3581 \"parse.y\"\n+#line 3589 \"parse.y\"\n { finish_stmt (); ;\n     break;}\n case 681:\n-#line 3583 \"parse.y\"\n+#line 3591 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7501,7 +7509,7 @@ case 681:\n \t\t;\n     break;}\n case 682:\n-#line 3591 \"parse.y\"\n+#line 3599 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7513,15 +7521,15 @@ case 682:\n \t\t;\n     break;}\n case 683:\n-#line 3604 \"parse.y\"\n+#line 3612 \"parse.y\"\n { finish_stmt (); ;\n     break;}\n case 685:\n-#line 3610 \"parse.y\"\n+#line 3618 \"parse.y\"\n { finish_stmt (); ;\n     break;}\n case 686:\n-#line 3612 \"parse.y\"\n+#line 3620 \"parse.y\"\n {\n \t\t  tree expr = yyvsp[-1].ttype;\n \t\t  if (! processing_template_decl)\n@@ -7539,11 +7547,11 @@ case 686:\n \t\t  finish_stmt (); ;\n     break;}\n case 687:\n-#line 3628 \"parse.y\"\n+#line 3636 \"parse.y\"\n { if (! processing_template_decl) expand_start_else (); ;\n     break;}\n case 688:\n-#line 3630 \"parse.y\"\n+#line 3638 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7556,17 +7564,17 @@ case 688:\n \t\t;\n     break;}\n case 689:\n-#line 3641 \"parse.y\"\n+#line 3649 \"parse.y\"\n { finish_stmt (); ;\n     break;}\n case 690:\n-#line 3643 \"parse.y\"\n+#line 3651 \"parse.y\"\n { if (! processing_template_decl) expand_end_cond ();\n \t\t  do_poplevel ();\n \t\t  finish_stmt (); ;\n     break;}\n case 691:\n-#line 3647 \"parse.y\"\n+#line 3655 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7583,7 +7591,7 @@ case 691:\n \t\t;\n     break;}\n case 692:\n-#line 3662 \"parse.y\"\n+#line 3670 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7604,7 +7612,7 @@ case 692:\n \t\t;\n     break;}\n case 693:\n-#line 3681 \"parse.y\"\n+#line 3689 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7618,7 +7626,7 @@ case 693:\n \t\t;\n     break;}\n case 694:\n-#line 3693 \"parse.y\"\n+#line 3701 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7634,7 +7642,7 @@ case 694:\n \t\t;\n     break;}\n case 695:\n-#line 3707 \"parse.y\"\n+#line 3715 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7650,7 +7658,7 @@ case 695:\n \t\t;\n     break;}\n case 696:\n-#line 3721 \"parse.y\"\n+#line 3729 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    TREE_OPERAND (yyvsp[-5].ttype, 1) = yyvsp[-1].ttype;\n@@ -7665,7 +7673,7 @@ case 696:\n \t\t;\n     break;}\n case 697:\n-#line 3734 \"parse.y\"\n+#line 3742 \"parse.y\"\n { if (processing_template_decl)\n \t\t    {\n \t\t      yyval.ttype = build_min_nt (FOR_STMT, NULL_TREE, NULL_TREE, \n@@ -7686,7 +7694,7 @@ case 697:\n \t\t;\n     break;}\n case 698:\n-#line 3753 \"parse.y\"\n+#line 3761 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7706,7 +7714,7 @@ case 698:\n \t\t;\n     break;}\n case 699:\n-#line 3771 \"parse.y\"\n+#line 3779 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7727,15 +7735,15 @@ case 699:\n \t\t;\n     break;}\n case 700:\n-#line 3792 \"parse.y\"\n+#line 3800 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    TREE_OPERAND (yyvsp[-9].ttype, 2) = yyvsp[-1].ttype;\n \t\t  push_momentary ();\n \t\t;\n     break;}\n case 701:\n-#line 3798 \"parse.y\"\n+#line 3806 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7758,7 +7766,7 @@ case 701:\n \t\t  finish_stmt (); ;\n     break;}\n case 702:\n-#line 3819 \"parse.y\"\n+#line 3827 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7777,7 +7785,7 @@ case 702:\n \t\t;\n     break;}\n case 703:\n-#line 3836 \"parse.y\"\n+#line 3844 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7792,59 +7800,59 @@ case 703:\n \t\t;\n     break;}\n case 704:\n-#line 3849 \"parse.y\"\n+#line 3857 \"parse.y\"\n { finish_stmt (); ;\n     break;}\n case 705:\n-#line 3851 \"parse.y\"\n+#line 3859 \"parse.y\"\n { do_case (yyvsp[-1].ttype, NULL_TREE); ;\n     break;}\n case 707:\n-#line 3854 \"parse.y\"\n+#line 3862 \"parse.y\"\n { do_case (yyvsp[-3].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 709:\n-#line 3857 \"parse.y\"\n+#line 3865 \"parse.y\"\n { do_case (NULL_TREE, NULL_TREE); ;\n     break;}\n case 711:\n-#line 3860 \"parse.y\"\n+#line 3868 \"parse.y\"\n { emit_line_note (input_filename, lineno);\n \t\t  if (processing_template_decl)\n \t\t    add_tree (build_min_nt (BREAK_STMT));\n \t\t  else if ( ! expand_exit_something ())\n \t\t    error (\"break statement not within loop or switch\"); ;\n     break;}\n case 712:\n-#line 3866 \"parse.y\"\n+#line 3874 \"parse.y\"\n { emit_line_note (input_filename, lineno);\n \t\t  if (processing_template_decl)\n \t\t    add_tree (build_min_nt (CONTINUE_STMT));\n \t\t  else if (! expand_continue_loop (0))\n \t\t    error (\"continue statement not within a loop\"); ;\n     break;}\n case 713:\n-#line 3872 \"parse.y\"\n+#line 3880 \"parse.y\"\n { emit_line_note (input_filename, lineno);\n \t\t  c_expand_return (NULL_TREE); ;\n     break;}\n case 714:\n-#line 3875 \"parse.y\"\n+#line 3883 \"parse.y\"\n { emit_line_note (input_filename, lineno);\n \t\t  c_expand_return (yyvsp[-1].ttype);\n \t\t  finish_stmt ();\n \t\t;\n     break;}\n case 715:\n-#line 3880 \"parse.y\"\n+#line 3888 \"parse.y\"\n { if (TREE_CHAIN (yyvsp[-2].ttype)) yyvsp[-2].ttype = combine_strings (yyvsp[-2].ttype);\n \t\t  emit_line_note (input_filename, lineno);\n \t\t  expand_asm (yyvsp[-2].ttype);\n \t\t  finish_stmt ();\n \t\t;\n     break;}\n case 716:\n-#line 3887 \"parse.y\"\n+#line 3895 \"parse.y\"\n { if (TREE_CHAIN (yyvsp[-4].ttype)) yyvsp[-4].ttype = combine_strings (yyvsp[-4].ttype);\n \t\t  emit_line_note (input_filename, lineno);\n \t\t  c_expand_asm_operands (yyvsp[-4].ttype, yyvsp[-2].ttype, NULL_TREE, NULL_TREE,\n@@ -7854,7 +7862,7 @@ case 716:\n \t\t;\n     break;}\n case 717:\n-#line 3896 \"parse.y\"\n+#line 3904 \"parse.y\"\n { if (TREE_CHAIN (yyvsp[-6].ttype)) yyvsp[-6].ttype = combine_strings (yyvsp[-6].ttype);\n \t\t  emit_line_note (input_filename, lineno);\n \t\t  c_expand_asm_operands (yyvsp[-6].ttype, yyvsp[-4].ttype, yyvsp[-2].ttype, NULL_TREE,\n@@ -7864,7 +7872,7 @@ case 717:\n \t\t;\n     break;}\n case 718:\n-#line 3906 \"parse.y\"\n+#line 3914 \"parse.y\"\n { if (TREE_CHAIN (yyvsp[-8].ttype)) yyvsp[-8].ttype = combine_strings (yyvsp[-8].ttype);\n \t\t  emit_line_note (input_filename, lineno);\n \t\t  c_expand_asm_operands (yyvsp[-8].ttype, yyvsp[-6].ttype, yyvsp[-4].ttype, yyvsp[-2].ttype,\n@@ -7874,7 +7882,7 @@ case 718:\n \t\t;\n     break;}\n case 719:\n-#line 3914 \"parse.y\"\n+#line 3922 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    add_tree (build_min_nt (GOTO_STMT, yyvsp[-1].ttype));\n@@ -7884,7 +7892,7 @@ case 719:\n \t\t;\n     break;}\n case 720:\n-#line 3922 \"parse.y\"\n+#line 3930 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    add_tree (build_min_nt (GOTO_STMT, yyvsp[-1].ttype));\n@@ -7899,33 +7907,33 @@ case 720:\n \t\t;\n     break;}\n case 721:\n-#line 3935 \"parse.y\"\n+#line 3943 \"parse.y\"\n { finish_stmt (); ;\n     break;}\n case 722:\n-#line 3937 \"parse.y\"\n+#line 3945 \"parse.y\"\n { error (\"label must be followed by statement\");\n \t\t  yyungetc ('}', 0);\n \t\t  finish_stmt (); ;\n     break;}\n case 723:\n-#line 3941 \"parse.y\"\n+#line 3949 \"parse.y\"\n { finish_stmt (); ;\n     break;}\n case 725:\n-#line 3947 \"parse.y\"\n+#line 3955 \"parse.y\"\n {\n \t\t  if (! current_function_parms_stored)\n \t\t    store_parm_decls ();\n \t\t  expand_start_early_try_stmts ();\n \t\t;\n     break;}\n case 726:\n-#line 3953 \"parse.y\"\n+#line 3961 \"parse.y\"\n { expand_start_all_catch (); ;\n     break;}\n case 727:\n-#line 3955 \"parse.y\"\n+#line 3963 \"parse.y\"\n {\n \t\t  int nested = (hack_decl_function_context\n \t\t\t\t(current_function_decl) != NULL_TREE);\n@@ -7934,7 +7942,7 @@ case 727:\n \t\t;\n     break;}\n case 728:\n-#line 3965 \"parse.y\"\n+#line 3973 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7950,7 +7958,7 @@ case 728:\n \t\t;\n     break;}\n case 729:\n-#line 3979 \"parse.y\"\n+#line 3987 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7963,7 +7971,7 @@ case 729:\n \t\t;\n     break;}\n case 730:\n-#line 3990 \"parse.y\"\n+#line 3998 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7976,7 +7984,7 @@ case 730:\n \t\t;\n     break;}\n case 733:\n-#line 4009 \"parse.y\"\n+#line 4017 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7987,7 +7995,7 @@ case 733:\n \t\t;\n     break;}\n case 734:\n-#line 4018 \"parse.y\"\n+#line 4026 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -7998,7 +8006,7 @@ case 734:\n \t\t;\n     break;}\n case 735:\n-#line 4027 \"parse.y\"\n+#line 4035 \"parse.y\"\n {\n \t\t  if (processing_template_decl)\n \t\t    {\n@@ -8011,17 +8019,17 @@ case 735:\n \t\t;\n     break;}\n case 739:\n-#line 4047 \"parse.y\"\n+#line 4055 \"parse.y\"\n { expand_start_catch_block (NULL_TREE, NULL_TREE); ;\n     break;}\n case 740:\n-#line 4063 \"parse.y\"\n+#line 4071 \"parse.y\"\n { check_for_new_type (\"inside exception declarations\", yyvsp[-1].ftype);\n \t\t  expand_start_catch_block (TREE_PURPOSE (yyvsp[-1].ftype.t),\n \t\t\t\t\t    TREE_VALUE (yyvsp[-1].ftype.t)); ;\n     break;}\n case 741:\n-#line 4070 \"parse.y\"\n+#line 4078 \"parse.y\"\n { tree label;\n \t\tdo_label:\n \t\t  label = define_label (input_filename, lineno, yyvsp[-1].ttype);\n@@ -8030,129 +8038,129 @@ case 741:\n \t\t;\n     break;}\n case 742:\n-#line 4077 \"parse.y\"\n+#line 4085 \"parse.y\"\n { goto do_label; ;\n     break;}\n case 743:\n-#line 4079 \"parse.y\"\n+#line 4087 \"parse.y\"\n { goto do_label; ;\n     break;}\n case 744:\n-#line 4081 \"parse.y\"\n+#line 4089 \"parse.y\"\n { goto do_label; ;\n     break;}\n case 745:\n-#line 4086 \"parse.y\"\n+#line 4094 \"parse.y\"\n { if (yyvsp[-1].ttype) cplus_expand_expr_stmt (yyvsp[-1].ttype); ;\n     break;}\n case 747:\n-#line 4089 \"parse.y\"\n+#line 4097 \"parse.y\"\n { if (pedantic)\n \t\t    pedwarn (\"ANSI C++ forbids compound statements inside for initializations\");\n \t\t;\n     break;}\n case 748:\n-#line 4098 \"parse.y\"\n+#line 4106 \"parse.y\"\n { emit_line_note (input_filename, lineno);\n \t\t  yyval.ttype = NULL_TREE; ;\n     break;}\n case 749:\n-#line 4101 \"parse.y\"\n+#line 4109 \"parse.y\"\n { emit_line_note (input_filename, lineno); ;\n     break;}\n case 750:\n-#line 4106 \"parse.y\"\n+#line 4114 \"parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 752:\n-#line 4109 \"parse.y\"\n+#line 4117 \"parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 753:\n-#line 4116 \"parse.y\"\n+#line 4124 \"parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 756:\n-#line 4123 \"parse.y\"\n+#line 4131 \"parse.y\"\n { yyval.ttype = chainon (yyval.ttype, yyvsp[0].ttype); ;\n     break;}\n case 757:\n-#line 4128 \"parse.y\"\n+#line 4136 \"parse.y\"\n { yyval.ttype = build_tree_list (yyval.ttype, yyvsp[-1].ttype); ;\n     break;}\n case 758:\n-#line 4133 \"parse.y\"\n+#line 4141 \"parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyval.ttype, NULL_TREE); ;\n     break;}\n case 759:\n-#line 4135 \"parse.y\"\n+#line 4143 \"parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, yyval.ttype); ;\n     break;}\n case 760:\n-#line 4146 \"parse.y\"\n+#line 4154 \"parse.y\"\n {\n \t\t  yyval.ttype = empty_parms();\n \t\t;\n     break;}\n case 762:\n-#line 4151 \"parse.y\"\n+#line 4159 \"parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ftype.t, void_list_node);\n \t\t  TREE_PARMLIST (yyval.ttype) = 1; \n \t\t  check_for_new_type (\"inside parameter list\", yyvsp[0].ftype); ;\n     break;}\n case 763:\n-#line 4160 \"parse.y\"\n+#line 4168 \"parse.y\"\n {\n \t\t  yyval.ttype = chainon (yyval.ttype, void_list_node);\n \t\t  TREE_PARMLIST (yyval.ttype) = 1;\n \t\t;\n     break;}\n case 764:\n-#line 4165 \"parse.y\"\n+#line 4173 \"parse.y\"\n {\n \t\t  TREE_PARMLIST (yyval.ttype) = 1;\n \t\t;\n     break;}\n case 765:\n-#line 4170 \"parse.y\"\n+#line 4178 \"parse.y\"\n {\n \t\t  TREE_PARMLIST (yyval.ttype) = 1;\n \t\t;\n     break;}\n case 766:\n-#line 4174 \"parse.y\"\n+#line 4182 \"parse.y\"\n {\n \t\t  yyval.ttype = build_tree_list (NULL_TREE, yyvsp[-1].ftype.t); \n \t\t  TREE_PARMLIST (yyval.ttype) = 1;\n \t\t;\n     break;}\n case 767:\n-#line 4179 \"parse.y\"\n+#line 4187 \"parse.y\"\n {\n \t\t  yyval.ttype = NULL_TREE;\n \t\t;\n     break;}\n case 768:\n-#line 4183 \"parse.y\"\n+#line 4191 \"parse.y\"\n {\n \t\t  TREE_PARMLIST (yyval.ttype) = 1;\n \t\t;\n     break;}\n case 769:\n-#line 4187 \"parse.y\"\n+#line 4195 \"parse.y\"\n {\n \t\t  TREE_PARMLIST (yyval.ttype) = 1;\n \t\t;\n     break;}\n case 770:\n-#line 4191 \"parse.y\"\n+#line 4199 \"parse.y\"\n {\n \t\t  yyval.ttype = build_tree_list (NULL_TREE, yyvsp[-1].ftype.t);\n \t\t  TREE_PARMLIST (yyval.ttype) = 1;\n \t\t;\n     break;}\n case 771:\n-#line 4196 \"parse.y\"\n+#line 4204 \"parse.y\"\n {\n \t\t  /* This helps us recover from really nasty\n \t\t     parse errors, for example, a missing right\n@@ -8165,7 +8173,7 @@ case 771:\n \t\t;\n     break;}\n case 772:\n-#line 4207 \"parse.y\"\n+#line 4215 \"parse.y\"\n {\n \t\t  /* This helps us recover from really nasty\n \t\t     parse errors, for example, a missing right\n@@ -8178,98 +8186,98 @@ case 772:\n \t\t;\n     break;}\n case 773:\n-#line 4222 \"parse.y\"\n+#line 4230 \"parse.y\"\n { maybe_snarf_defarg (); ;\n     break;}\n case 774:\n-#line 4224 \"parse.y\"\n+#line 4232 \"parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 777:\n-#line 4235 \"parse.y\"\n+#line 4243 \"parse.y\"\n { check_for_new_type (\"in a parameter list\", yyvsp[0].ftype);\n \t\t  yyval.ttype = build_tree_list (NULL_TREE, yyvsp[0].ftype.t); ;\n     break;}\n case 778:\n-#line 4238 \"parse.y\"\n+#line 4246 \"parse.y\"\n { check_for_new_type (\"in a parameter list\", yyvsp[-1].ftype);\n \t\t  yyval.ttype = build_tree_list (yyvsp[0].ttype, yyvsp[-1].ftype.t); ;\n     break;}\n case 779:\n-#line 4241 \"parse.y\"\n+#line 4249 \"parse.y\"\n { check_for_new_type (\"in a parameter list\", yyvsp[0].ftype);\n \t\t  yyval.ttype = chainon (yyval.ttype, yyvsp[0].ftype.t); ;\n     break;}\n case 780:\n-#line 4244 \"parse.y\"\n+#line 4252 \"parse.y\"\n { yyval.ttype = chainon (yyval.ttype, build_tree_list (NULL_TREE, yyvsp[0].ttype)); ;\n     break;}\n case 781:\n-#line 4246 \"parse.y\"\n+#line 4254 \"parse.y\"\n { yyval.ttype = chainon (yyval.ttype, build_tree_list (yyvsp[0].ttype, yyvsp[-2].ttype)); ;\n     break;}\n case 783:\n-#line 4252 \"parse.y\"\n+#line 4260 \"parse.y\"\n { check_for_new_type (\"in a parameter list\", yyvsp[-1].ftype);\n \t\t  yyval.ttype = build_tree_list (NULL_TREE, yyvsp[-1].ftype.t); ;\n     break;}\n case 784:\n-#line 4262 \"parse.y\"\n+#line 4270 \"parse.y\"\n { tree specs = strip_attrs (yyvsp[-1].ftype.t);\n \t\t  yyval.ftype.new_type_flag = yyvsp[-1].ftype.new_type_flag;\n \t\t  yyval.ftype.t = build_tree_list (specs, yyvsp[0].ttype); ;\n     break;}\n case 785:\n-#line 4266 \"parse.y\"\n+#line 4274 \"parse.y\"\n { yyval.ftype.t = build_tree_list (yyvsp[-1].ftype.t, yyvsp[0].ttype); \n \t\t  yyval.ftype.new_type_flag = yyvsp[-1].ftype.new_type_flag; ;\n     break;}\n case 786:\n-#line 4269 \"parse.y\"\n+#line 4277 \"parse.y\"\n { yyval.ftype.t = build_tree_list (get_decl_list (yyvsp[-1].ftype.t), yyvsp[0].ttype); \n \t\t  yyval.ftype.new_type_flag = yyvsp[-1].ftype.new_type_flag; ;\n     break;}\n case 787:\n-#line 4272 \"parse.y\"\n+#line 4280 \"parse.y\"\n { tree specs = strip_attrs (yyvsp[-1].ftype.t);\n \t\t  yyval.ftype.t = build_tree_list (specs, yyvsp[0].ttype);\n \t\t  yyval.ftype.new_type_flag = yyvsp[-1].ftype.new_type_flag; ;\n     break;}\n case 788:\n-#line 4276 \"parse.y\"\n+#line 4284 \"parse.y\"\n { tree specs = strip_attrs (yyvsp[0].ftype.t);\n \t\t  yyval.ftype.t = build_tree_list (specs, NULL_TREE); \n \t\t  yyval.ftype.new_type_flag = yyvsp[0].ftype.new_type_flag; ;\n     break;}\n case 789:\n-#line 4280 \"parse.y\"\n+#line 4288 \"parse.y\"\n { tree specs = strip_attrs (yyvsp[-1].ttype);\n \t\t  yyval.ftype.t = build_tree_list (specs, yyvsp[0].ttype); \n \t\t  yyval.ftype.new_type_flag = 0; ;\n     break;}\n case 790:\n-#line 4287 \"parse.y\"\n+#line 4295 \"parse.y\"\n { yyval.ftype.t = build_tree_list (NULL_TREE, yyvsp[0].ftype.t);\n \t\t  yyval.ftype.new_type_flag = yyvsp[0].ftype.new_type_flag;  ;\n     break;}\n case 791:\n-#line 4290 \"parse.y\"\n+#line 4298 \"parse.y\"\n { yyval.ftype.t = build_tree_list (yyvsp[0].ttype, yyvsp[-1].ftype.t);\n \t\t  yyval.ftype.new_type_flag = yyvsp[-1].ftype.new_type_flag;  ;\n     break;}\n case 794:\n-#line 4301 \"parse.y\"\n+#line 4309 \"parse.y\"\n { see_typename (); ;\n     break;}\n case 795:\n-#line 4306 \"parse.y\"\n+#line 4314 \"parse.y\"\n {\n \t\t  error (\"type specifier omitted for parameter\");\n \t\t  yyval.ttype = build_tree_list (integer_type_node, NULL_TREE);\n \t\t;\n     break;}\n case 796:\n-#line 4311 \"parse.y\"\n+#line 4319 \"parse.y\"\n {\n \t\t  error (\"type specifier omitted for parameter\");\n \t\t  if (TREE_CODE (yyval.ttype) == SCOPE_REF\n@@ -8280,188 +8288,188 @@ case 796:\n \t\t;\n     break;}\n case 797:\n-#line 4323 \"parse.y\"\n+#line 4331 \"parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 798:\n-#line 4325 \"parse.y\"\n+#line 4333 \"parse.y\"\n { yyval.ttype = yyvsp[-1].ttype; ;\n     break;}\n case 799:\n-#line 4327 \"parse.y\"\n+#line 4335 \"parse.y\"\n { yyval.ttype = build_decl_list (NULL_TREE, NULL_TREE); ;\n     break;}\n case 800:\n-#line 4332 \"parse.y\"\n+#line 4340 \"parse.y\"\n { yyval.ttype = build_decl_list (NULL_TREE, groktypename(yyvsp[0].ftype.t)); ;\n     break;}\n case 802:\n-#line 4338 \"parse.y\"\n+#line 4346 \"parse.y\"\n {\n \t\t  TREE_CHAIN (yyvsp[0].ttype) = yyval.ttype;\n \t\t  yyval.ttype = yyvsp[0].ttype;\n \t\t;\n     break;}\n case 803:\n-#line 4346 \"parse.y\"\n+#line 4354 \"parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 804:\n-#line 4348 \"parse.y\"\n+#line 4356 \"parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 805:\n-#line 4350 \"parse.y\"\n+#line 4358 \"parse.y\"\n { yyval.ttype = make_reference_declarator (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 806:\n-#line 4352 \"parse.y\"\n+#line 4360 \"parse.y\"\n { tree arg = make_pointer_declarator (yyvsp[-1].ttype, yyvsp[0].ttype);\n \t\t  yyval.ttype = build_parse_node (SCOPE_REF, yyvsp[-2].ttype, arg);\n \t\t;\n     break;}\n case 807:\n-#line 4359 \"parse.y\"\n+#line 4367 \"parse.y\"\n { got_scope = NULL_TREE; ;\n     break;}\n case 808:\n-#line 4364 \"parse.y\"\n+#line 4372 \"parse.y\"\n { yyval.ttype = ansi_opname[MULT_EXPR]; ;\n     break;}\n case 809:\n-#line 4366 \"parse.y\"\n+#line 4374 \"parse.y\"\n { yyval.ttype = ansi_opname[TRUNC_DIV_EXPR]; ;\n     break;}\n case 810:\n-#line 4368 \"parse.y\"\n+#line 4376 \"parse.y\"\n { yyval.ttype = ansi_opname[TRUNC_MOD_EXPR]; ;\n     break;}\n case 811:\n-#line 4370 \"parse.y\"\n+#line 4378 \"parse.y\"\n { yyval.ttype = ansi_opname[PLUS_EXPR]; ;\n     break;}\n case 812:\n-#line 4372 \"parse.y\"\n+#line 4380 \"parse.y\"\n { yyval.ttype = ansi_opname[MINUS_EXPR]; ;\n     break;}\n case 813:\n-#line 4374 \"parse.y\"\n+#line 4382 \"parse.y\"\n { yyval.ttype = ansi_opname[BIT_AND_EXPR]; ;\n     break;}\n case 814:\n-#line 4376 \"parse.y\"\n+#line 4384 \"parse.y\"\n { yyval.ttype = ansi_opname[BIT_IOR_EXPR]; ;\n     break;}\n case 815:\n-#line 4378 \"parse.y\"\n+#line 4386 \"parse.y\"\n { yyval.ttype = ansi_opname[BIT_XOR_EXPR]; ;\n     break;}\n case 816:\n-#line 4380 \"parse.y\"\n+#line 4388 \"parse.y\"\n { yyval.ttype = ansi_opname[BIT_NOT_EXPR]; ;\n     break;}\n case 817:\n-#line 4382 \"parse.y\"\n+#line 4390 \"parse.y\"\n { yyval.ttype = ansi_opname[COMPOUND_EXPR]; ;\n     break;}\n case 818:\n-#line 4384 \"parse.y\"\n+#line 4392 \"parse.y\"\n { yyval.ttype = ansi_opname[yyvsp[0].code]; ;\n     break;}\n case 819:\n-#line 4386 \"parse.y\"\n+#line 4394 \"parse.y\"\n { yyval.ttype = ansi_opname[LT_EXPR]; ;\n     break;}\n case 820:\n-#line 4388 \"parse.y\"\n+#line 4396 \"parse.y\"\n { yyval.ttype = ansi_opname[GT_EXPR]; ;\n     break;}\n case 821:\n-#line 4390 \"parse.y\"\n+#line 4398 \"parse.y\"\n { yyval.ttype = ansi_opname[yyvsp[0].code]; ;\n     break;}\n case 822:\n-#line 4392 \"parse.y\"\n+#line 4400 \"parse.y\"\n { yyval.ttype = ansi_assopname[yyvsp[0].code]; ;\n     break;}\n case 823:\n-#line 4394 \"parse.y\"\n+#line 4402 \"parse.y\"\n { yyval.ttype = ansi_opname [MODIFY_EXPR]; ;\n     break;}\n case 824:\n-#line 4396 \"parse.y\"\n+#line 4404 \"parse.y\"\n { yyval.ttype = ansi_opname[yyvsp[0].code]; ;\n     break;}\n case 825:\n-#line 4398 \"parse.y\"\n+#line 4406 \"parse.y\"\n { yyval.ttype = ansi_opname[yyvsp[0].code]; ;\n     break;}\n case 826:\n-#line 4400 \"parse.y\"\n+#line 4408 \"parse.y\"\n { yyval.ttype = ansi_opname[POSTINCREMENT_EXPR]; ;\n     break;}\n case 827:\n-#line 4402 \"parse.y\"\n+#line 4410 \"parse.y\"\n { yyval.ttype = ansi_opname[PREDECREMENT_EXPR]; ;\n     break;}\n case 828:\n-#line 4404 \"parse.y\"\n+#line 4412 \"parse.y\"\n { yyval.ttype = ansi_opname[TRUTH_ANDIF_EXPR]; ;\n     break;}\n case 829:\n-#line 4406 \"parse.y\"\n+#line 4414 \"parse.y\"\n { yyval.ttype = ansi_opname[TRUTH_ORIF_EXPR]; ;\n     break;}\n case 830:\n-#line 4408 \"parse.y\"\n+#line 4416 \"parse.y\"\n { yyval.ttype = ansi_opname[TRUTH_NOT_EXPR]; ;\n     break;}\n case 831:\n-#line 4410 \"parse.y\"\n+#line 4418 \"parse.y\"\n { yyval.ttype = ansi_opname[COND_EXPR]; ;\n     break;}\n case 832:\n-#line 4412 \"parse.y\"\n+#line 4420 \"parse.y\"\n { yyval.ttype = ansi_opname[yyvsp[0].code]; ;\n     break;}\n case 833:\n-#line 4414 \"parse.y\"\n+#line 4422 \"parse.y\"\n { yyval.ttype = ansi_opname[COMPONENT_REF]; ;\n     break;}\n case 834:\n-#line 4416 \"parse.y\"\n+#line 4424 \"parse.y\"\n { yyval.ttype = ansi_opname[MEMBER_REF]; ;\n     break;}\n case 835:\n-#line 4418 \"parse.y\"\n+#line 4426 \"parse.y\"\n { yyval.ttype = ansi_opname[CALL_EXPR]; ;\n     break;}\n case 836:\n-#line 4420 \"parse.y\"\n+#line 4428 \"parse.y\"\n { yyval.ttype = ansi_opname[ARRAY_REF]; ;\n     break;}\n case 837:\n-#line 4422 \"parse.y\"\n+#line 4430 \"parse.y\"\n { yyval.ttype = ansi_opname[NEW_EXPR]; ;\n     break;}\n case 838:\n-#line 4424 \"parse.y\"\n+#line 4432 \"parse.y\"\n { yyval.ttype = ansi_opname[DELETE_EXPR]; ;\n     break;}\n case 839:\n-#line 4426 \"parse.y\"\n+#line 4434 \"parse.y\"\n { yyval.ttype = ansi_opname[VEC_NEW_EXPR]; ;\n     break;}\n case 840:\n-#line 4428 \"parse.y\"\n+#line 4436 \"parse.y\"\n { yyval.ttype = ansi_opname[VEC_DELETE_EXPR]; ;\n     break;}\n case 841:\n-#line 4431 \"parse.y\"\n+#line 4439 \"parse.y\"\n { yyval.ttype = grokoptypename (yyvsp[-1].ftype.t, yyvsp[0].ttype); ;\n     break;}\n case 842:\n-#line 4433 \"parse.y\"\n+#line 4441 \"parse.y\"\n { yyval.ttype = ansi_opname[ERROR_MARK]; ;\n     break;}\n }\n@@ -8662,7 +8670,7 @@ case 842:\n   yystate = yyn;\n   goto yynewstate;\n }\n-#line 4436 \"parse.y\"\n+#line 4444 \"parse.y\"\n \n \n #ifdef SPEW_DEBUG"}, {"sha": "c0a921986d188f0cfca358eac5bdd270fe211d12", "filename": "gcc/cp/parse.y", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3959d607ecc7113771ad2661f86ba9b94349c0e/gcc%2Fcp%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3959d607ecc7113771ad2661f86ba9b94349c0e/gcc%2Fcp%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparse.y?ref=d3959d607ecc7113771ad2661f86ba9b94349c0e", "patch": "@@ -3293,7 +3293,11 @@ typename_sub0:\n \t\t  else if (TREE_CODE ($2) == IDENTIFIER_NODE)\n \t\t    cp_error (\"`%T' is not a class or namespace\", $2);\n \t\t  else\n-\t\t    $$ = $2;\n+\t\t    {\n+\t\t      $$ = $2;\n+\t\t      if (TREE_CODE ($$) == TYPE_DECL)\n+\t\t\t$$ = TREE_TYPE ($$);\n+\t\t    }\n \t\t}\n \t;\n \n@@ -3310,7 +3314,11 @@ typename_sub1:\n \t\t  else if (TREE_CODE ($2) == IDENTIFIER_NODE)\n \t\t    cp_error (\"`%T' is not a class or namespace\", $2);\n \t\t  else\n-\t\t    $$ = $2;\n+\t\t    {\n+\t\t      $$ = $2;\n+\t\t      if (TREE_CODE ($$) == TYPE_DECL)\n+\t\t\t$$ = TREE_TYPE ($$);\n+\t\t    }\n \t\t}\n \t;\n "}]}