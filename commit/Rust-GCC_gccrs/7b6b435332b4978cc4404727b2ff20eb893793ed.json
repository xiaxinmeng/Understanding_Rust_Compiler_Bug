{"sha": "7b6b435332b4978cc4404727b2ff20eb893793ed", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2I2YjQzNTMzMmI0OTc4Y2M0NDA0NzI3YjJmZjIwZWI4OTM3OTNlZA==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2013-12-18T23:41:50Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2013-12-18T23:41:50Z"}, "message": "read.c (read_f): Convert assert to runtime error.\n\n2013-12-18  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\t* io/read.c (read_f): Convert assert to runtime error.\n\n2013-12-18  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\t* gfortran.dg/io_err_1.f90: New test.\n\nFrom-SVN: r206102", "tree": {"sha": "1e776afa6fac07f4b4fb0e27afd980654b8f3b63", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1e776afa6fac07f4b4fb0e27afd980654b8f3b63"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7b6b435332b4978cc4404727b2ff20eb893793ed", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b6b435332b4978cc4404727b2ff20eb893793ed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b6b435332b4978cc4404727b2ff20eb893793ed", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b6b435332b4978cc4404727b2ff20eb893793ed/comments", "author": null, "committer": null, "parents": [{"sha": "7289d1c97783c40ead8e74d6137e2dddc0d59e30", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7289d1c97783c40ead8e74d6137e2dddc0d59e30", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7289d1c97783c40ead8e74d6137e2dddc0d59e30"}], "stats": {"total": 26, "additions": 25, "deletions": 1}, "files": [{"sha": "2ba0cbf71c56df07734f94f6be7af2773f40a05a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b6b435332b4978cc4404727b2ff20eb893793ed/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b6b435332b4978cc4404727b2ff20eb893793ed/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7b6b435332b4978cc4404727b2ff20eb893793ed", "patch": "@@ -1,3 +1,7 @@\n+2013-12-18  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\t* gfortran.dg/io_err_1.f90: New test.\n+\n 2013-12-18  Balaji V. Iyer  <balaji.v.iyer@intel.com>\n \n \t* c-c++-common/cilk-plus/SE/ef_test.c: New test."}, {"sha": "4159a041a72fbc5733b993232ea1a9492017ed5a", "filename": "gcc/testsuite/gfortran.dg/io_err_1.f90", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b6b435332b4978cc4404727b2ff20eb893793ed/gcc%2Ftestsuite%2Fgfortran.dg%2Fio_err_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b6b435332b4978cc4404727b2ff20eb893793ed/gcc%2Ftestsuite%2Fgfortran.dg%2Fio_err_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fio_err_1.f90?ref=7b6b435332b4978cc4404727b2ff20eb893793ed", "patch": "@@ -0,0 +1,14 @@\n+! { dg-do run }\n+! { dg-shouldfail \"Compile-time specifier checking\" }\n+!\n+! Contributed by Dominique Dhumieres <dominiq at lps dot ens dot fr>\n+program read\n+   character(50) :: buf='0.D99999'\n+   double precision val\n+   read (UNIT=buf, FMT='(D60.0)', ERR=10) Val\n+   call abort\n+10 read (UNIT=buf, FMT='(D60.0)') Val\n+end program read\n+! { dg-output \"At line 10 of file.*\" }\n+! { dg-output \"Fortran runtime error: Bad value during floating point read\" }\n+"}, {"sha": "7bfb2c1242b30d11b123f600c3971fd0e4c2aeb8", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b6b435332b4978cc4404727b2ff20eb893793ed/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b6b435332b4978cc4404727b2ff20eb893793ed/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=7b6b435332b4978cc4404727b2ff20eb893793ed", "patch": "@@ -1,3 +1,7 @@\n+2013-12-18  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\t* io/read.c (read_f): Convert assert to runtime error.\n+\n 2013-12-17  Andreas Tobler  <andreast@gcc.gnu.org>\n \n \t* io/unix.c (tempfile_open): Only use the needed flag O_CLOEXEC."}, {"sha": "f0de14c4651be96b5d1791c40e6883358bb09b72", "filename": "libgfortran/io/read.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b6b435332b4978cc4404727b2ff20eb893793ed/libgfortran%2Fio%2Fread.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b6b435332b4978cc4404727b2ff20eb893793ed/libgfortran%2Fio%2Fread.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fread.c?ref=7b6b435332b4978cc4404727b2ff20eb893793ed", "patch": "@@ -1150,7 +1150,9 @@ read_f (st_parameter_dt *dtp, const fnode *f, char *dest, int length)\n \t  exponent = - exponent;\n \t}\n \n-      assert (exponent < 10000);\n+      if (exponent >= 10000)\n+\tgoto bad_float;\n+\n       for (dig = 3; dig >= 0; --dig)\n \t{\n \t  out[dig] = (char) ('0' + exponent % 10);"}]}