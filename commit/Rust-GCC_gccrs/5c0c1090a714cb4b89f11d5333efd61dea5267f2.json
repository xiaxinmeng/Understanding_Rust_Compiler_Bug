{"sha": "5c0c1090a714cb4b89f11d5333efd61dea5267f2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWMwYzEwOTBhNzE0Y2I0Yjg5ZjExZDUzMzNlZmQ2MWRlYTUyNjdmMg==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2015-05-22T12:56:34Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2015-05-22T12:56:34Z"}, "message": "einfo.ads (Is_Atomic_Or_VFA): Move to XEINFO INLINES section.\n\n2015-05-22  Eric Botcazou  <ebotcazou@adacore.com>\n\n\t* einfo.ads (Is_Atomic_Or_VFA): Move to XEINFO INLINES section.\n\t* xeinfo.adb: Replace a-einfo.h with einfo.h throughout.\n\tAdd pattern to translate \"or else\" into \"||\".\n\nFrom-SVN: r223562", "tree": {"sha": "273cf69c5b1bfe14c22f849a87162efda6f791c1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/273cf69c5b1bfe14c22f849a87162efda6f791c1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5c0c1090a714cb4b89f11d5333efd61dea5267f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c0c1090a714cb4b89f11d5333efd61dea5267f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5c0c1090a714cb4b89f11d5333efd61dea5267f2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c0c1090a714cb4b89f11d5333efd61dea5267f2/comments", "author": null, "committer": null, "parents": [{"sha": "57abdadd18b3addfc32fb32086862db3f8fdd7b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57abdadd18b3addfc32fb32086862db3f8fdd7b1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/57abdadd18b3addfc32fb32086862db3f8fdd7b1"}], "stats": {"total": 23, "additions": 16, "deletions": 7}, "files": [{"sha": "fe2dbad0f3413f69ea9333a28a7eae1fbdaef810", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c0c1090a714cb4b89f11d5333efd61dea5267f2/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c0c1090a714cb4b89f11d5333efd61dea5267f2/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=5c0c1090a714cb4b89f11d5333efd61dea5267f2", "patch": "@@ -1,3 +1,9 @@\n+2015-05-22  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* einfo.ads (Is_Atomic_Or_VFA): Move to XEINFO INLINES section.\n+\t* xeinfo.adb: Replace a-einfo.h with einfo.h throughout.\n+\tAdd pattern to translate \"or else\" into \"||\".\n+\n 2015-05-22  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* einfo.ads (Has_Volatile_Full_Access): Rename into..."}, {"sha": "4f54106cbb1d5b24b894a84b202ab3ccecaa31c7", "filename": "gcc/ada/einfo.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c0c1090a714cb4b89f11d5333efd61dea5267f2/gcc%2Fada%2Feinfo.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c0c1090a714cb4b89f11d5333efd61dea5267f2/gcc%2Fada%2Feinfo.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Feinfo.ads?ref=5c0c1090a714cb4b89f11d5333efd61dea5267f2", "patch": "@@ -8313,6 +8313,7 @@ package Einfo is\n    pragma Inline (Is_Assignable);\n    pragma Inline (Is_Asynchronous);\n    pragma Inline (Is_Atomic);\n+   pragma Inline (Is_Atomic_Or_VFA);\n    pragma Inline (Is_Bit_Packed_Array);\n    pragma Inline (Is_Called);\n    pragma Inline (Is_Character_Type);\n@@ -9054,7 +9055,6 @@ package Einfo is\n    --  be handled by xeinfo.\n \n    pragma Inline (Base_Type);\n-   pragma Inline (Is_Atomic_Or_VFA);\n    pragma Inline (Is_Base_Type);\n    pragma Inline (Is_Package_Or_Generic_Package);\n    pragma Inline (Is_Packed_Array);"}, {"sha": "7f906562ab4b5217afd3ae109cc288ea811ae22f", "filename": "gcc/ada/xeinfo.adb", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c0c1090a714cb4b89f11d5333efd61dea5267f2/gcc%2Fada%2Fxeinfo.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c0c1090a714cb4b89f11d5333efd61dea5267f2/gcc%2Fada%2Fxeinfo.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fxeinfo.adb?ref=5c0c1090a714cb4b89f11d5333efd61dea5267f2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2011, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2015, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -23,10 +23,10 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n---  Program to construct C header file a-einfo.h (C version of einfo.ads spec)\n+--  Program to construct C header file einfo.h (C version of einfo.ads spec)\n --  for use by Gigi. This header file contains all definitions and access\n --  functions, but does not contain set procedures, since Gigi is not allowed\n---  to modify the GNAT tree)\n+--  to modify the GNAT tree.\n \n --    Input files:\n \n@@ -35,12 +35,12 @@\n \n --    Output files:\n \n---       a-einfo.h     Corresponding c header file\n+--       einfo.h       corresponding C header file\n \n --  Note: It is assumed that the input files have been compiled without errors\n \n --  An optional argument allows the specification of an output file name to\n---  override the default a-einfo.h file name for the generated output file.\n+--  override the default einfo.h file name for the generated output file.\n \n --  Most, but not all of the functions in Einfo can be inlined in the C header.\n --  They are the functions identified by pragma Inline in the spec. Functions\n@@ -129,6 +129,7 @@ procedure XEinfo is\n    Get_B1   : constant Pattern := BreakX (' ') * A & \" in \" & Rest * B;\n    Get_B2   : constant Pattern := BreakX (' ') * A & \" = \" & Rest * B;\n    Get_B3   : constant Pattern := BreakX (' ') * A & \" /= \" & Rest * B;\n+   Get_B4   : constant Pattern := BreakX (' ') * A & \" or else \" & Rest * B;\n    To_Paren : constant Pattern := wsp * Filler & '(';\n    Get_Fml  : constant Pattern := Break (\" :\") * Formal & wsp & ':' & wsp\n                                   & BreakX (\" );\") * Formaltyp;\n@@ -253,7 +254,7 @@ begin\n    if Argument_Count > 0 then\n       Create (Ofile, Out_File, Argument (1));\n    else\n-      Create (Ofile, Out_File, \"a-einfo.h\");\n+      Create (Ofile, Out_File, \"einfo.h\");\n    end if;\n \n    Open (InB, In_File, \"einfo.adb\");\n@@ -489,6 +490,8 @@ begin\n          Replace (M, A & \" == \" & B);\n          Match (Expr, Get_B3, M);\n          Replace (M, A & \" != \" & B);\n+         Match (Expr, Get_B4, M);\n+         Replace (M, A & \" || \" & B);\n          Put_Line (Ofile, \"\");\n          Sethead (Fline, \"\");\n          Put_Line (Ofile, C & \"   { return \" & Expr & \"; }\");"}]}