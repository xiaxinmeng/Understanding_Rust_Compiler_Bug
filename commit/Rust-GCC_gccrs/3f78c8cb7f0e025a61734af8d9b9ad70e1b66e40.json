{"sha": "3f78c8cb7f0e025a61734af8d9b9ad70e1b66e40", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2Y3OGM4Y2I3ZjBlMDI1YTYxNzM0YWY4ZDliOWFkNzBlMWI2NmU0MA==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@acm.org", "date": "2020-12-16T19:44:42Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@acm.org", "date": "2020-12-16T19:57:31Z"}, "message": "c++tools: fix install-strip [PR 98328]\n\nI'd missed an install-strip rule in c++tools.  Here it is, cribbed\nfrom gcc/ subdir.\n\n\tc++tools/\n\t* Makefile.in (INSTALL): Replace with ...\n\t(INSTALL_PROGRAM): ... this.\n\t(INSTALL_STRIP_PROGRAM): New.\n\t(install-strip): New target.\n\t(install): Use INSTALL_PROGRAM.\n\t* configure.ac: Add INSTALL_PROGRAM.\n\t* configure: Regenerated.", "tree": {"sha": "d5ecca3cab502afcd21db4394fd28bae60b778a6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d5ecca3cab502afcd21db4394fd28bae60b778a6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3f78c8cb7f0e025a61734af8d9b9ad70e1b66e40", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3f78c8cb7f0e025a61734af8d9b9ad70e1b66e40", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3f78c8cb7f0e025a61734af8d9b9ad70e1b66e40", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3f78c8cb7f0e025a61734af8d9b9ad70e1b66e40/comments", "author": {"login": "urnathan", "id": 13103001, "node_id": "MDQ6VXNlcjEzMTAzMDAx", "avatar_url": "https://avatars.githubusercontent.com/u/13103001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/urnathan", "html_url": "https://github.com/urnathan", "followers_url": "https://api.github.com/users/urnathan/followers", "following_url": "https://api.github.com/users/urnathan/following{/other_user}", "gists_url": "https://api.github.com/users/urnathan/gists{/gist_id}", "starred_url": "https://api.github.com/users/urnathan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/urnathan/subscriptions", "organizations_url": "https://api.github.com/users/urnathan/orgs", "repos_url": "https://api.github.com/users/urnathan/repos", "events_url": "https://api.github.com/users/urnathan/events{/privacy}", "received_events_url": "https://api.github.com/users/urnathan/received_events", "type": "User", "site_admin": false}, "committer": {"login": "urnathan", "id": 13103001, "node_id": "MDQ6VXNlcjEzMTAzMDAx", "avatar_url": "https://avatars.githubusercontent.com/u/13103001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/urnathan", "html_url": "https://github.com/urnathan", "followers_url": "https://api.github.com/users/urnathan/followers", "following_url": "https://api.github.com/users/urnathan/following{/other_user}", "gists_url": "https://api.github.com/users/urnathan/gists{/gist_id}", "starred_url": "https://api.github.com/users/urnathan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/urnathan/subscriptions", "organizations_url": "https://api.github.com/users/urnathan/orgs", "repos_url": "https://api.github.com/users/urnathan/repos", "events_url": "https://api.github.com/users/urnathan/events{/privacy}", "received_events_url": "https://api.github.com/users/urnathan/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4d4f82959aa0802611f1183389c4c74d22431e49", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d4f82959aa0802611f1183389c4c74d22431e49", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d4f82959aa0802611f1183389c4c74d22431e49"}], "stats": {"total": 37, "additions": 24, "deletions": 13}, "files": [{"sha": "310b5674fec27819ca53a92b0fb5b8135119efb8", "filename": "c++tools/Makefile.in", "status": "modified", "additions": 20, "deletions": 13, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f78c8cb7f0e025a61734af8d9b9ad70e1b66e40/c%2B%2Btools%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f78c8cb7f0e025a61734af8d9b9ad70e1b66e40/c%2B%2Btools%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/c%2B%2Btools%2FMakefile.in?ref=3f78c8cb7f0e025a61734af8d9b9ad70e1b66e40", "patch": "@@ -22,7 +22,8 @@ libexecdir := @libexecdir@\n target_noncanonical := @target_noncanonical@\n version := $(shell cat $(srcdir)/../gcc/BASE-VER)\n libexecsubdir := $(libexecdir)/gcc/$(target_noncanonical)/$(version)\n-INSTALL := @INSTALL@\n+INSTALL_PROGRAM := @INSTALL_PROGRAM@\n+INSTALL_STRIP_PROGRAM := $(srcdir)/../install-sh -c -s\n AUTOCONF := @AUTOCONF@\n AUTOHEADER := @AUTOHEADER@\n CXX := @CXX@\n@@ -47,16 +48,23 @@ maintainer-clean::\n \n install::\n \n-check:\n-installcheck:\n-dvi:\n-pdf:\n-html:\n-info:\n-install-info:\n-install-pdf:\n-install-man:\n-install-html:\n+check::\n+installcheck::\n+dvi::\n+pdf::\n+html::\n+info::\n+install-info::\n+install-pdf::\n+install-man::\n+install-html::\n+\n+install-strip: override INSTALL_PROGRAM = $(INSTALL_STRIP_PROGRAM)\n+ifneq ($(STRIP),)\n+install-strip: STRIPPROG = $(STRIP)\n+export STRIPPROG\n+endif\n+install-strip: install\n \n vpath %.cc $(srcdir)\n vpath %.in $(srcdir)\n@@ -90,8 +98,7 @@ all::../gcc/g++-mapper-server$(exeext)\n \n install::\n \t$(SHELL) $(srcdir)/../mkinstalldirs $(DESTDIR)$(libexecsubdir)\n-\t$(INSTALL) g++-mapper-server$(exeext) $(DESTDIR)$(libexecsubdir)\n-\n+\t$(INSTALL_PROGRAM) g++-mapper-server$(exeext) $(DESTDIR)$(libexecsubdir)\n endif\n \n ifneq ($(MAINTAINER),)"}, {"sha": "e8658aac16eb5b3e12b3777514bbdee93b7cad98", "filename": "c++tools/configure", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f78c8cb7f0e025a61734af8d9b9ad70e1b66e40/c%2B%2Btools%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f78c8cb7f0e025a61734af8d9b9ad70e1b66e40/c%2B%2Btools%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/c%2B%2Btools%2Fconfigure?ref=3f78c8cb7f0e025a61734af8d9b9ad70e1b66e40", "patch": "@@ -2060,6 +2060,8 @@ test -z \"$INSTALL_SCRIPT\" && INSTALL_SCRIPT='${INSTALL}'\n \n test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n+test -z \"$INSTALL_PROGRAM\" && INSTALL_PROGRAM='${INSTALL}'\n+\n \n ac_ext=cpp\n ac_cpp='$CXXCPP $CPPFLAGS'"}, {"sha": "c5560f68d4dc4ad1d0e7243ee7af852f6b9b6c14", "filename": "c++tools/configure.ac", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f78c8cb7f0e025a61734af8d9b9ad70e1b66e40/c%2B%2Btools%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f78c8cb7f0e025a61734af8d9b9ad70e1b66e40/c%2B%2Btools%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/c%2B%2Btools%2Fconfigure.ac?ref=3f78c8cb7f0e025a61734af8d9b9ad70e1b66e40", "patch": "@@ -32,6 +32,8 @@ ACX_NONCANONICAL_TARGET\n \n AC_CANONICAL_SYSTEM\n AC_PROG_INSTALL\n+test -z \"$INSTALL_PROGRAM\" && INSTALL_PROGRAM='${INSTALL}'\n+AC_SUBST(INSTALL_PROGRAM)\n \n AC_PROG_CXX\n MISSING=`cd $ac_aux_dir && ${PWDCMD-pwd}`/missing"}]}