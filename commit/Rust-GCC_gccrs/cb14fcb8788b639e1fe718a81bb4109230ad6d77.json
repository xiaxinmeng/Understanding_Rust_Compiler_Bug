{"sha": "cb14fcb8788b639e1fe718a81bb4109230ad6d77", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2IxNGZjYjg3ODhiNjM5ZTFmZTcxOGE4MWJiNDEwOTIzMGFkNmQ3Nw==", "commit": {"author": {"name": "Andreas Tobler", "email": "a.tobler@schweiz.org", "date": "2010-01-01T12:32:24Z"}, "committer": {"name": "Anthony Green", "email": "green@gcc.gnu.org", "date": "2010-01-01T12:32:24Z"}, "message": "Add openbsd support.\n\nFrom-SVN: r155549", "tree": {"sha": "a1b563fc352abf39f53cdea118e5914385c8cb71", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a1b563fc352abf39f53cdea118e5914385c8cb71"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cb14fcb8788b639e1fe718a81bb4109230ad6d77", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb14fcb8788b639e1fe718a81bb4109230ad6d77", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb14fcb8788b639e1fe718a81bb4109230ad6d77", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb14fcb8788b639e1fe718a81bb4109230ad6d77/comments", "author": null, "committer": null, "parents": [{"sha": "1098bcf8122c23910806d651d52951658667e574", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1098bcf8122c23910806d651d52951658667e574", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1098bcf8122c23910806d651d52951658667e574"}], "stats": {"total": 17, "additions": 14, "deletions": 3}, "files": [{"sha": "0834d035cd4326c77fec70511039074ab06d7778", "filename": "libffi/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cb14fcb8788b639e1fe718a81bb4109230ad6d77/libffi%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cb14fcb8788b639e1fe718a81bb4109230ad6d77/libffi%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2FChangeLog?ref=cb14fcb8788b639e1fe718a81bb4109230ad6d77", "patch": "@@ -1,3 +1,10 @@\n+2009-12-26  Andreas Tobler  <a.tobler@schweiz.org>\n+\n+\t* configure.ac: Add amd64-*-openbsd*.\n+\t* configure: Rebuilt.\n+\t* testsuite/lib/libffi-dg.exp (libffi_target_compile): Link\n+\topenbsd programs with -lpthread.\n+\n 2009-12-26  Anthony Green  <green@redhat.com>\n \n \t* testsuite/libffi.call/cls_double_va.c,"}, {"sha": "5ab81bd4183ea56d5dfff682cd1ab801af659dc7", "filename": "libffi/configure", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cb14fcb8788b639e1fe718a81bb4109230ad6d77/libffi%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cb14fcb8788b639e1fe718a81bb4109230ad6d77/libffi%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Fconfigure?ref=cb14fcb8788b639e1fe718a81bb4109230ad6d77", "patch": "@@ -11328,7 +11328,7 @@ case \"$host\" in\n \tTARGET=ARM; TARGETDIR=arm\n \t;;\n \n-  amd64-*-freebsd*)\n+  amd64-*-freebsd* | amd64-*-openbsd*)\n \tTARGET=X86_64; TARGETDIR=x86\n \t;;\n "}, {"sha": "b663076c11330e2bfc3759ab51971fa9304da4bb", "filename": "libffi/configure.ac", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cb14fcb8788b639e1fe718a81bb4109230ad6d77/libffi%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cb14fcb8788b639e1fe718a81bb4109230ad6d77/libffi%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Fconfigure.ac?ref=cb14fcb8788b639e1fe718a81bb4109230ad6d77", "patch": "@@ -51,7 +51,7 @@ case \"$host\" in\n \tTARGET=ARM; TARGETDIR=arm\n \t;;\n \n-  amd64-*-freebsd*)\n+  amd64-*-freebsd* | amd64-*-openbsd*)\n \tTARGET=X86_64; TARGETDIR=x86\n \t;;\n "}, {"sha": "bd5a7c84f48ec35e70652ad1935d3d6d562916dc", "filename": "libffi/testsuite/lib/libffi-dg.exp", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cb14fcb8788b639e1fe718a81bb4109230ad6d77/libffi%2Ftestsuite%2Flib%2Flibffi-dg.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cb14fcb8788b639e1fe718a81bb4109230ad6d77/libffi%2Ftestsuite%2Flib%2Flibffi-dg.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Ftestsuite%2Flib%2Flibffi-dg.exp?ref=cb14fcb8788b639e1fe718a81bb4109230ad6d77", "patch": "@@ -1,4 +1,4 @@\n-#   Copyright (C) 2003, 2005, 2009 Free Software Foundation, Inc.\n+#   Copyright (C) 2003, 2005, 2008, 2009, 2010 Free Software Foundation, Inc.\n \n # This program is free software; you can redistribute it and/or modify\n # it under the terms of the GNU General Public License as published by\n@@ -203,6 +203,10 @@ proc libffi_target_compile { source dest type options } {\n \tlappend options \"libs= -shared-libgcc\"\n     }\n \n+    if { [string match \"*-*-openbsd*\" $target_triplet] } {\n+\tlappend options \"libs= -lpthread\"\n+    }\n+\n     lappend options \"libs= -lffi\"\n \n     verbose \"options: $options\""}]}