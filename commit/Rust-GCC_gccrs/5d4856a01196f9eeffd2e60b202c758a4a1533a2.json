{"sha": "5d4856a01196f9eeffd2e60b202c758a4a1533a2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWQ0ODU2YTAxMTk2ZjllZWZmZDJlNjBiMjAyYzc1OGE0YTE1MzNhMg==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@TechFak.Uni-Bielefeld.DE", "date": "2003-09-23T19:47:00Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2003-09-23T19:47:00Z"}, "message": "configure.in (HAVE_GAS_SHF_MERGE): Always define to test result.\n\n\t* configure.in (HAVE_GAS_SHF_MERGE): Always define to test result.\n\tUpdate description.\n\t* configure: Regenerate.\n\t* config.in: Likewise.\n\t* dwarf2out.c (DEBUG_STR_SECTION_FLAGS): Test for\n\tHAVE_GAS_SHF_MERGE value.\n\t* varasm.c (mergeable_string_section): Likewise.\n\t(mergeable_constant_section): Likewise.\n\nFrom-SVN: r71691", "tree": {"sha": "1b5adfba1c480ee9b007b73919394a27f59857ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1b5adfba1c480ee9b007b73919394a27f59857ec"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5d4856a01196f9eeffd2e60b202c758a4a1533a2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d4856a01196f9eeffd2e60b202c758a4a1533a2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d4856a01196f9eeffd2e60b202c758a4a1533a2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d4856a01196f9eeffd2e60b202c758a4a1533a2/comments", "author": null, "committer": null, "parents": [{"sha": "5748beec64a32b576377d871f6c33918e47c7651", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5748beec64a32b576377d871f6c33918e47c7651", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5748beec64a32b576377d871f6c33918e47c7651"}], "stats": {"total": 123, "additions": 64, "deletions": 59}, "files": [{"sha": "77705c4d1762441a99c840e5d1678469350e8238", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d4856a01196f9eeffd2e60b202c758a4a1533a2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d4856a01196f9eeffd2e60b202c758a4a1533a2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5d4856a01196f9eeffd2e60b202c758a4a1533a2", "patch": "@@ -1,3 +1,14 @@\n+2003-09-23  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n+\n+\t* configure.in (HAVE_GAS_SHF_MERGE): Always define to test result.\n+\tUpdate description.\n+\t* configure: Regenerate.\n+\t* config.in: Likewise.\n+\t* dwarf2out.c (DEBUG_STR_SECTION_FLAGS): Test for\n+\tHAVE_GAS_SHF_MERGE value. \n+\t* varasm.c (mergeable_string_section): Likewise.\n+\t(mergeable_constant_section): Likewise.\n+\n 2003-09-23  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n \n \t* except.h (MUST_USE_SJLJ_EXCEPTIONS): Test for DWARF2_UNWIND_INFO"}, {"sha": "a552669aefa774d948c3fedc50a9b7eeeb97bfe7", "filename": "gcc/config.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d4856a01196f9eeffd2e60b202c758a4a1533a2/gcc%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d4856a01196f9eeffd2e60b202c758a4a1533a2/gcc%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.in?ref=5d4856a01196f9eeffd2e60b202c758a4a1533a2", "patch": "@@ -453,7 +453,7 @@\n /* Define if your assembler mis-optimizes .eh_frame data. */\n #undef USE_AS_TRADITIONAL_FORMAT\n \n-/* Define if your assembler supports marking sections with SHF_MERGE flag. */\n+/* Define 0/1 if your assembler supports marking sections with SHF_MERGE flag. */\n #undef HAVE_GAS_SHF_MERGE\n \n /* Define if your assembler supports thread-local storage. */"}, {"sha": "414970d9cf2dfa750f54ca3c9ea7a42e8e42bf31", "filename": "gcc/configure", "status": "modified", "additions": 43, "deletions": 44, "changes": 87, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d4856a01196f9eeffd2e60b202c758a4a1533a2/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d4856a01196f9eeffd2e60b202c758a4a1533a2/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=5d4856a01196f9eeffd2e60b202c758a4a1533a2", "patch": "@@ -6484,12 +6484,11 @@ fi\n fi\n \n echo \"$ac_t\"\"$gcc_cv_as_shf_merge\" 1>&6\n-if test $gcc_cv_as_shf_merge = yes; then\n-  cat >> confdefs.h <<\\EOF\n-#define HAVE_GAS_SHF_MERGE 1\n+\n+cat >> confdefs.h <<EOF\n+#define HAVE_GAS_SHF_MERGE `if test $gcc_cv_as_shf_merge = yes; then echo 1; else echo 0; fi`\n EOF\n \n-fi\n \n # Thread-local storage - the check is heavily parametrized.\n conftest_s=\n@@ -6698,7 +6697,7 @@ if test -z \"$tls_first_major\"; then\n   : # If we don't have a check, assume no support.\n else\n   echo $ac_n \"checking assembler for thread-local storage support\"\"... $ac_c\" 1>&6\n-echo \"configure:6702: checking assembler for thread-local storage support\" >&5\n+echo \"configure:6701: checking assembler for thread-local storage support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_tls'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6709,7 +6708,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as $tls_as_opt --fatal-warnings -o conftest.o conftest.s >&5'; { (eval echo configure:6713: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as $tls_as_opt --fatal-warnings -o conftest.o conftest.s >&5'; { (eval echo configure:6712: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_tls=yes\n     else\n@@ -6735,7 +6734,7 @@ case \"$target\" in\n   # All TARGET_ABI_OSF targets.\n   alpha*-*-osf* | alpha*-*-linux* | alpha*-*-*bsd*)\n     echo $ac_n \"checking assembler for explicit relocation support\"\"... $ac_c\" 1>&6\n-echo \"configure:6739: checking assembler for explicit relocation support\" >&5\n+echo \"configure:6738: checking assembler for explicit relocation support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_alpha_explicit_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6758,7 +6757,7 @@ fi\n \tldah\t$1, d($29)\t!gprelhigh\n \tlda\t$1, d($1)\t!gprellow\n \tlda\t$29, 0($29)\t!gpdisp!3' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6762: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6761: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_alpha_explicit_relocs=yes\n     else\n@@ -6780,14 +6779,14 @@ fi\n \n   sparc*-*-*)\n     echo $ac_n \"checking assembler for .register\"\"... $ac_c\" 1>&6\n-echo \"configure:6784: checking assembler for .register\" >&5\n+echo \"configure:6783: checking assembler for .register\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_register_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gcc_cv_as_sparc_register_op=no\n   if test x$gcc_cv_as != x; then\n     echo '.register %g2, #scratch' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6791: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6790: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_sparc_register_op=yes\n     else\n@@ -6807,14 +6806,14 @@ EOF\n fi\n \n     echo $ac_n \"checking assembler for -relax option\"\"... $ac_c\" 1>&6\n-echo \"configure:6811: checking assembler for -relax option\" >&5\n+echo \"configure:6810: checking assembler for -relax option\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_relax'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gcc_cv_as_sparc_relax=no\n   if test x$gcc_cv_as != x; then\n     echo '.text' > conftest.s\n-    if { ac_try='$gcc_cv_as -relax -o conftest.o conftest.s >&5'; { (eval echo configure:6818: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as -relax -o conftest.o conftest.s >&5'; { (eval echo configure:6817: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_sparc_relax=yes\n     else\n@@ -6834,7 +6833,7 @@ EOF\n fi\n \n     echo $ac_n \"checking assembler for unaligned pcrel relocs\"\"... $ac_c\" 1>&6\n-echo \"configure:6838: checking assembler for unaligned pcrel relocs\" >&5\n+echo \"configure:6837: checking assembler for unaligned pcrel relocs\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_ua_pcrel'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6847,7 +6846,7 @@ foo:\n .align 4\n .byte 0\n .uaword %r_disp32(foo)' > conftest.s\n-    if { ac_try='$gcc_cv_as -K PIC -o conftest.o conftest.s >&5'; { (eval echo configure:6851: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as -K PIC -o conftest.o conftest.s >&5'; { (eval echo configure:6850: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tif test x$gcc_cv_ld != x \\\n        && $gcc_cv_ld -o conftest conftest.o -G > /dev/null 2>&1; then\n@@ -6870,7 +6869,7 @@ EOF\n \n \n       echo $ac_n \"checking assembler for unaligned pcrel relocs against hidden symbols\"\"... $ac_c\" 1>&6\n-echo \"configure:6874: checking assembler for unaligned pcrel relocs against hidden symbols\" >&5\n+echo \"configure:6873: checking assembler for unaligned pcrel relocs against hidden symbols\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_ua_pcrel_hidden'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6885,7 +6884,7 @@ else\n .hidden foo\n foo:\n .skip 4' > conftest.s\n-    if { ac_try='$gcc_cv_as -K PIC -o conftest.o conftest.s >&5'; { (eval echo configure:6889: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as -K PIC -o conftest.o conftest.s >&5'; { (eval echo configure:6888: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tif test x$gcc_cv_ld != x && test x$gcc_cv_objdump != x \\\n \t && $gcc_cv_ld -o conftest conftest.o -G > /dev/null 2>&1 \\\n@@ -6918,7 +6917,7 @@ fi\n fi # unaligned pcrel relocs\n \n     echo $ac_n \"checking assembler for offsetable %lo()\"\"... $ac_c\" 1>&6\n-echo \"configure:6922: checking assembler for offsetable %lo()\" >&5\n+echo \"configure:6921: checking assembler for offsetable %lo()\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6927,7 +6926,7 @@ else\n     echo '.text\n \tor %g1, %lo(ab) + 12, %g1\n \tor %g1, %lo(ab + 12), %g1' > conftest.s\n-    if { ac_try='$gcc_cv_as -xarch=v9 -o conftest.o conftest.s >&5'; { (eval echo configure:6931: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as -xarch=v9 -o conftest.o conftest.s >&5'; { (eval echo configure:6930: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tif test x$gcc_cv_objdump != x \\\n        && %gcc_cv_objdump -s -j .text conftest.o 2> /dev/null \\\n@@ -6953,7 +6952,7 @@ fi\n \n   i[34567]86-*-* | x86_64-*-*)\n     echo $ac_n \"checking assembler for filds and fists mnemonics\"\"... $ac_c\" 1>&6\n-echo \"configure:6957: checking assembler for filds and fists mnemonics\" >&5\n+echo \"configure:6956: checking assembler for filds and fists mnemonics\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ix86_filds_fists'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6964,7 +6963,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo 'filds mem; fists mem' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6968: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6967: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_ix86_filds_fists=yes\n     else\n@@ -6984,14 +6983,14 @@ EOF\n fi\n \n     echo $ac_n \"checking assembler for cmov syntax\"\"... $ac_c\" 1>&6\n-echo \"configure:6988: checking assembler for cmov syntax\" >&5\n+echo \"configure:6987: checking assembler for cmov syntax\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ix86_cmov_sun_syntax'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gcc_cv_as_ix86_cmov_sun_syntax=no\n   if test x$gcc_cv_as != x; then\n     echo 'cmovl.l %edx, %eax' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6995: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6994: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_ix86_cmov_sun_syntax=yes\n     else\n@@ -7013,7 +7012,7 @@ fi\n     # This one is used unconditionally by i386.[ch]; it is to be defined\n     # to 1 if the feature is present, 0 otherwise.\n     echo $ac_n \"checking assembler for GOTOFF in data\"\"... $ac_c\" 1>&6\n-echo \"configure:7017: checking assembler for GOTOFF in data\" >&5\n+echo \"configure:7016: checking assembler for GOTOFF in data\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ix86_gotoff_in_data'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7028,7 +7027,7 @@ fi\n \tnop\n \t.data\n \t.long .L0@GOTOFF' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7032: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7031: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_ix86_gotoff_in_data=yes\n     else\n@@ -7049,7 +7048,7 @@ EOF\n \n   ia64*-*-*)\n     echo $ac_n \"checking assembler for ltoffx and ldxmov relocs\"\"... $ac_c\" 1>&6\n-echo \"configure:7053: checking assembler for ltoffx and ldxmov relocs\" >&5\n+echo \"configure:7052: checking assembler for ltoffx and ldxmov relocs\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ia64_ltoffx_ldxmov_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7063,7 +7062,7 @@ fi\n \taddl r15 = @ltoffx(x#), gp\n \t;;\n \tld8.mov r16 = [r15], x#' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7067: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7066: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_ia64_ltoffx_ldxmov_relocs=yes\n     else\n@@ -7093,7 +7092,7 @@ fi\n \tmfcr 3,128\"\n \n     echo $ac_n \"checking assembler for mfcr field support\"\"... $ac_c\" 1>&6\n-echo \"configure:7097: checking assembler for mfcr field support\" >&5\n+echo \"configure:7096: checking assembler for mfcr field support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_powerpc_mfcrf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7104,7 +7103,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7108: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7107: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_powerpc_mfcrf=yes\n     else\n@@ -7126,7 +7125,7 @@ fi\n \n   mips*-*-*)\n     echo $ac_n \"checking assembler for explicit relocation support\"\"... $ac_c\" 1>&6\n-echo \"configure:7130: checking assembler for explicit relocation support\" >&5\n+echo \"configure:7129: checking assembler for explicit relocation support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_mips_explicit_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7137,7 +7136,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '\tlw $4,%gp_rel(foo)($4)' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7141: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7140: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_mips_explicit_relocs=yes\n     else\n@@ -7183,7 +7182,7 @@ if test x\"$insn\" != x; then\n \t.loc 1 3 0\n \t$insn\"\n  echo $ac_n \"checking assembler for dwarf2 debug_line support\"\"... $ac_c\" 1>&6\n-echo \"configure:7187: checking assembler for dwarf2 debug_line support\" >&5\n+echo \"configure:7186: checking assembler for dwarf2 debug_line support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_dwarf2_debug_line'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7195,7 +7194,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7199: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7198: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \t# ??? This fails with non-gnu grep.  Maybe use objdump?\n    if grep debug_line conftest.o > /dev/null 2>&1; then\n@@ -7217,15 +7216,15 @@ echo \"$ac_t\"\"$gcc_cv_as_dwarf2_debug_line\" 1>&6\n # by DW_AT_decl_file.  Approximate this test by testing if\n # the assembler bitches if the same index is assigned twice.\n  echo $ac_n \"checking assembler for buggy dwarf2 .file directive\"\"... $ac_c\" 1>&6\n-echo \"configure:7221: checking assembler for buggy dwarf2 .file directive\" >&5\n+echo \"configure:7220: checking assembler for buggy dwarf2 .file directive\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_dwarf2_file_buggy'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gcc_cv_as_dwarf2_file_buggy=no\n   if test x$gcc_cv_as != x; then\n     echo '\t.file 1 \"foo.s\"\n \t.file 1 \"bar.s\"' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7229: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7228: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_dwarf2_file_buggy=yes\n     else\n@@ -7248,7 +7247,7 @@ EOF\n  fi\n \n  echo $ac_n \"checking assembler for --gdwarf2 option\"\"... $ac_c\" 1>&6\n-echo \"configure:7252: checking assembler for --gdwarf2 option\" >&5\n+echo \"configure:7251: checking assembler for --gdwarf2 option\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_gdwarf2_flag'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7260,7 +7259,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$insn\" > conftest.s\n-    if { ac_try='$gcc_cv_as --gdwarf2 -o conftest.o conftest.s >&5'; { (eval echo configure:7264: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as --gdwarf2 -o conftest.o conftest.s >&5'; { (eval echo configure:7263: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_gdwarf2_flag=yes\n     else\n@@ -7280,7 +7279,7 @@ EOF\n fi\n \n  echo $ac_n \"checking assembler for --gstabs option\"\"... $ac_c\" 1>&6\n-echo \"configure:7284: checking assembler for --gstabs option\" >&5\n+echo \"configure:7283: checking assembler for --gstabs option\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_gstabs_flag'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7292,12 +7291,12 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$insn\" > conftest.s\n-    if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s >&5'; { (eval echo configure:7296: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s >&5'; { (eval echo configure:7295: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \t# The native Solaris 9/Intel assembler doesn't understand --gstabs\n    # and warns about it, but still exits successfully.  So check for\n    # this.\n-   if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s 2>&1 | grep -i warning > /dev/null'; { (eval echo configure:7301: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+   if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s 2>&1 | grep -i warning > /dev/null'; { (eval echo configure:7300: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n    then :\n    else gcc_cv_as_gstabs_flag=yes\n    fi\n@@ -7319,7 +7318,7 @@ fi\n fi\n \n echo $ac_n \"checking linker read-only and read-write section mixing\"\"... $ac_c\" 1>&6\n-echo \"configure:7323: checking linker read-only and read-write section mixing\" >&5\n+echo \"configure:7322: checking linker read-only and read-write section mixing\" >&5\n gcc_cv_ld_ro_rw_mix=unknown\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 10 -o \"$gcc_cv_gld_major_version\" -gt 2 \\\n@@ -7358,7 +7357,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_ld_ro_rw_mix\" 1>&6\n \n echo $ac_n \"checking linker PT_GNU_EH_FRAME support\"\"... $ac_c\" 1>&6\n-echo \"configure:7362: checking linker PT_GNU_EH_FRAME support\" >&5\n+echo \"configure:7361: checking linker PT_GNU_EH_FRAME support\" >&5\n gcc_cv_ld_eh_frame_hdr=no\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 12 -o \"$gcc_cv_gld_major_version\" -gt 2 \\\n@@ -7380,7 +7379,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_ld_eh_frame_hdr\" 1>&6\n \n echo $ac_n \"checking linker position independent executable support\"\"... $ac_c\" 1>&6\n-echo \"configure:7384: checking linker position independent executable support\" >&5\n+echo \"configure:7383: checking linker position independent executable support\" >&5\n gcc_cv_ld_pie=no\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 15 -o \"$gcc_cv_gld_major_version\" -gt 2 \\\n@@ -7405,7 +7404,7 @@ echo \"$ac_t\"\"$gcc_cv_ld_pie\" 1>&6\n case \"$target\" in\n   mips*-*-*)\n     echo $ac_n \"checking whether libgloss uses STARTUP directives consistently\"\"... $ac_c\" 1>&6\n-echo \"configure:7409: checking whether libgloss uses STARTUP directives consistently\" >&5\n+echo \"configure:7408: checking whether libgloss uses STARTUP directives consistently\" >&5\n     gcc_cv_mips_libgloss_startup=no\n     gcc_cv_libgloss_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/libgloss\n     if test \"x$exec_prefix\" = xNONE; then\n@@ -7607,7 +7606,7 @@ fi\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:7611: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:7610: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\""}, {"sha": "ab5ecdc2f4d7039a76f2c3311c757f7b441a5329", "filename": "gcc/configure.in", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d4856a01196f9eeffd2e60b202c758a4a1533a2/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d4856a01196f9eeffd2e60b202c758a4a1533a2/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=5d4856a01196f9eeffd2e60b202c758a4a1533a2", "patch": "@@ -1977,9 +1977,10 @@ fi\n \n gcc_GAS_CHECK_FEATURE(section merging support, gcc_cv_as_shf_merge,\n  [elf,2,12,0], [--fatal-warnings],\n- [.section .rodata.str, \"aMS\", @progbits, 1],,\n- [AC_DEFINE(HAVE_GAS_SHF_MERGE, 1,\n-[Define if your assembler supports marking sections with SHF_MERGE flag.])])\n+ [.section .rodata.str, \"aMS\", @progbits, 1])\n+AC_DEFINE_UNQUOTED(HAVE_GAS_SHF_MERGE,\n+  [`if test $gcc_cv_as_shf_merge = yes; then echo 1; else echo 0; fi`],\n+[Define 0/1 if your assembler supports marking sections with SHF_MERGE flag.])\n \n # Thread-local storage - the check is heavily parametrized.\n conftest_s="}, {"sha": "8362a698f16da6e02e4a014da30481f3a6d76f48", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d4856a01196f9eeffd2e60b202c758a4a1533a2/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d4856a01196f9eeffd2e60b202c758a4a1533a2/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=5d4856a01196f9eeffd2e60b202c758a4a1533a2", "patch": "@@ -3812,14 +3812,10 @@ static int maybe_emit_file (int);\n #endif\n \n /* Section flags for .debug_str section.  */\n-#ifdef HAVE_GAS_SHF_MERGE\n #define DEBUG_STR_SECTION_FLAGS \\\n-  (flag_merge_constants\t\t\t\t\t\t\\\n+  (HAVE_GAS_SHF_MERGE && flag_merge_constants\t\t\t\\\n    ? SECTION_DEBUG | SECTION_MERGE | SECTION_STRINGS | 1\t\\\n    : SECTION_DEBUG)\n-#else\n-#define DEBUG_STR_SECTION_FLAGS\tSECTION_DEBUG\n-#endif\n \n /* Labels we insert at beginning sections we can reference instead of\n    the section names themselves.  */"}, {"sha": "aea04148da20b0e538e92f12acf929260f4511b6", "filename": "gcc/varasm.c", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d4856a01196f9eeffd2e60b202c758a4a1533a2/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d4856a01196f9eeffd2e60b202c758a4a1533a2/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=5d4856a01196f9eeffd2e60b202c758a4a1533a2", "patch": "@@ -561,8 +561,7 @@ mergeable_string_section (tree decl ATTRIBUTE_UNUSED,\n \t\t\t  unsigned HOST_WIDE_INT align ATTRIBUTE_UNUSED,\n \t\t\t  unsigned int flags ATTRIBUTE_UNUSED)\n {\n-#ifdef HAVE_GAS_SHF_MERGE\n-  if (flag_merge_constants\n+  if (HAVE_GAS_SHF_MERGE && flag_merge_constants\n       && TREE_CODE (decl) == STRING_CST\n       && TREE_CODE (TREE_TYPE (decl)) == ARRAY_TYPE\n       && align <= 256\n@@ -624,7 +623,7 @@ mergeable_string_section (tree decl ATTRIBUTE_UNUSED,\n \t    }\n \t}\n     }\n-#endif\n+\n   readonly_data_section ();\n }\n \n@@ -635,10 +634,9 @@ mergeable_constant_section (enum machine_mode mode ATTRIBUTE_UNUSED,\n \t\t\t    unsigned HOST_WIDE_INT align ATTRIBUTE_UNUSED,\n \t\t\t    unsigned int flags ATTRIBUTE_UNUSED)\n {\n-#ifdef HAVE_GAS_SHF_MERGE\n   unsigned int modesize = GET_MODE_BITSIZE (mode);\n \n-  if (flag_merge_constants\n+  if (HAVE_GAS_SHF_MERGE && flag_merge_constants\n       && mode != VOIDmode\n       && mode != BLKmode\n       && modesize <= align\n@@ -653,7 +651,7 @@ mergeable_constant_section (enum machine_mode mode ATTRIBUTE_UNUSED,\n       named_section_flags (name, flags);\n       return;\n     }\n-#endif\n+\n   readonly_data_section ();\n }\n \f"}]}