{"sha": "2958f4a215223d78c9deb984cadfc410446e4e48", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjk1OGY0YTIxNTIyM2Q3OGM5ZGViOTg0Y2FkZmM0MTA0NDZlNGU0OA==", "commit": {"author": {"name": "Douglas B Rupp", "email": "rupp@gnat.com", "date": "2009-07-29T19:30:12Z"}, "committer": {"name": "Douglas Rupp", "email": "rupp@gcc.gnu.org", "date": "2009-07-29T19:30:12Z"}, "message": "make-temp-file.c (choose_tmpdir): Try standard temp logical on VMS.\n\n\n\t* make-temp-file.c (choose_tmpdir): Try standard temp logical on VMS.\n\nFrom-SVN: r150221", "tree": {"sha": "633ff9003c9bec16de43c6a8219b346199f0ffd8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/633ff9003c9bec16de43c6a8219b346199f0ffd8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2958f4a215223d78c9deb984cadfc410446e4e48", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2958f4a215223d78c9deb984cadfc410446e4e48", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2958f4a215223d78c9deb984cadfc410446e4e48", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2958f4a215223d78c9deb984cadfc410446e4e48/comments", "author": null, "committer": null, "parents": [{"sha": "95bfca5ed64babee735a98dc1f7e31bce0590441", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95bfca5ed64babee735a98dc1f7e31bce0590441", "html_url": "https://github.com/Rust-GCC/gccrs/commit/95bfca5ed64babee735a98dc1f7e31bce0590441"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "16f541ed27528fa94a865fd0da8c3e62e759060c", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2958f4a215223d78c9deb984cadfc410446e4e48/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2958f4a215223d78c9deb984cadfc410446e4e48/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=2958f4a215223d78c9deb984cadfc410446e4e48", "patch": "@@ -1,3 +1,7 @@\n+2009-07-29  Douglas B Rupp  <rupp@gnat.com>\n+\n+\t* make-temp-file.c (choose_tmpdir): Try standard temp logical on VMS.\n+\n 2009-07-27  Douglas B Rupp  <rupp@gnat.com>\n \n \t* pex-unix.c (vfork): Remove VMS specific definition (get from header"}, {"sha": "13e192565340266e80d40ff2bc56a8d6179b6325", "filename": "libiberty/make-temp-file.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2958f4a215223d78c9deb984cadfc410446e4e48/libiberty%2Fmake-temp-file.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2958f4a215223d78c9deb984cadfc410446e4e48/libiberty%2Fmake-temp-file.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fmake-temp-file.c?ref=2958f4a215223d78c9deb984cadfc410446e4e48", "patch": "@@ -1,5 +1,5 @@\n /* Utility to pick a temporary filename prefix.\n-   Copyright (C) 1996, 1997, 1998, 2001 Free Software Foundation, Inc.\n+   Copyright (C) 1996, 1997, 1998, 2001, 2009 Free Software Foundation, Inc.\n \n This file is part of the libiberty library.\n Libiberty is free software; you can redistribute it and/or\n@@ -111,9 +111,14 @@ choose_tmpdir (void)\n       char *tmpdir;\n       unsigned int len;\n       \n+#ifdef VMS\n+      /* Try VMS standard temp logical.  */\n+      base = try_dir (\"/sys$scratch\", base);\n+#else\n       base = try_dir (getenv (\"TMPDIR\"), base);\n       base = try_dir (getenv (\"TMP\"), base);\n       base = try_dir (getenv (\"TEMP\"), base);\n+#endif\n       \n #ifdef P_tmpdir\n       base = try_dir (P_tmpdir, base);"}]}