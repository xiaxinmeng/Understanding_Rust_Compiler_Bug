{"sha": "f81ab296b960627404579bb873fc35807665efa0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjgxYWIyOTZiOTYwNjI3NDA0NTc5YmI4NzNmYzM1ODA3NjY1ZWZhMA==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2005-09-13T18:36:39Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2005-09-13T18:36:39Z"}, "message": "22309_thread.cc: Remove dg-do run.\n\n\n2005-09-12  Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* testsuite/ext/mt_allocator/22309_thread.cc: Remove dg-do run.\n\t* testsuite/lib/libstdc++.exp ( proc libstdc++_init): Enable\n\tshared only for linux.\n\nFrom-SVN: r104235", "tree": {"sha": "ad4b362808ee9bbf5c85bb5be121b34645f31ffe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ad4b362808ee9bbf5c85bb5be121b34645f31ffe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f81ab296b960627404579bb873fc35807665efa0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f81ab296b960627404579bb873fc35807665efa0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f81ab296b960627404579bb873fc35807665efa0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f81ab296b960627404579bb873fc35807665efa0/comments", "author": null, "committer": null, "parents": [{"sha": "1984d2e8cd47e9328318a13517283613af40c031", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1984d2e8cd47e9328318a13517283613af40c031", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1984d2e8cd47e9328318a13517283613af40c031"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "dedb91103aa6f3af58dc8e90f0b1257ba4760d73", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f81ab296b960627404579bb873fc35807665efa0/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f81ab296b960627404579bb873fc35807665efa0/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=f81ab296b960627404579bb873fc35807665efa0", "patch": "@@ -1,8 +1,8 @@\n 2005-09-12  Benjamin Kosnik  <bkoz@redhat.com>\n \n-\t* testsuite/lib/libstdc++.exp (v3-build_support): Use sharedlib for\n-\ttype of target_compile.\n-\t (v3_target_compile): Set flags for sharelib type.\n+\t* testsuite/ext/mt_allocator/22309_thread.cc: Remove dg-do run.\n+\t* testsuite/lib/libstdc++.exp ( proc libstdc++_init): Enable\n+\tshared only for linux.\n \t\n 2005-09-12  Benjamin Kosnik  <bkoz@redhat.com>\n \t    David Edelsohn <dje@gcc.gnu.org>"}, {"sha": "f2243657a5d847b00475f8cd04885f52bbfbddd0", "filename": "libstdc++-v3/testsuite/ext/mt_allocator/22309_thread.cc", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f81ab296b960627404579bb873fc35807665efa0/libstdc%2B%2B-v3%2Ftestsuite%2Fext%2Fmt_allocator%2F22309_thread.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f81ab296b960627404579bb873fc35807665efa0/libstdc%2B%2B-v3%2Ftestsuite%2Fext%2Fmt_allocator%2F22309_thread.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fext%2Fmt_allocator%2F22309_thread.cc?ref=f81ab296b960627404579bb873fc35807665efa0", "patch": "@@ -1,5 +1,4 @@\n // { dg-require-sharedlib \"\" }\n-// { dg-do run { target *-*-linux* } }\n // { dg-options \"-g -O2 -pthread -ldl\" { target *-*-linux* } }\n \n // Copyright (C) 2004, 2005 Free Software Foundation, Inc."}, {"sha": "9c28ba051d5bebb4458d201e5d9598b782decb6a", "filename": "libstdc++-v3/testsuite/lib/libstdc++.exp", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f81ab296b960627404579bb873fc35807665efa0/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f81ab296b960627404579bb873fc35807665efa0/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp?ref=f81ab296b960627404579bb873fc35807665efa0", "patch": "@@ -133,8 +133,10 @@ proc libstdc++_init { testfile } {\n     set v3-sharedlib 0\n     set sharedlibdir [lookfor_file $blddir src/.libs/libstdc++.so]\n     if {$sharedlibdir != \"\"} {\n-        set v3-sharedlib 1\n-\tverbose -log \"shared library support detected\"\n+\tif { [string match \"*-*-linux*\" $target_triplet] } {\n+\t    set v3-sharedlib 1\n+\t    verbose -log \"shared library support detected\"\n+\t} \n     }\n     v3track v3-sharedlib 3\n \n@@ -337,7 +339,6 @@ proc v3_target_compile { source dest type options } {\n # addition, set v3-wchar_t, v3-threads, v3-test_objs, and v3-symver\n # appropriately.\n proc v3-build_support {} {\n-    global cxx\n     global srcdir\n     global v3-wchar_t\n     global v3-threads"}]}