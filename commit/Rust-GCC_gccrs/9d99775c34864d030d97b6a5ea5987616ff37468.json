{"sha": "9d99775c34864d030d97b6a5ea5987616ff37468", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWQ5OTc3NWMzNDg2NGQwMzBkOTdiNmE1ZWE1OTg3NjE2ZmYzNzQ2OA==", "commit": {"author": {"name": "Sergio Durigan Junior", "email": "sergiodj@redhat.com", "date": "2017-11-16T18:15:33Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2017-11-16T18:15:33Z"}, "message": "Makefile.am: Remove references to c-compiler-name.h and cp-compiler-name.h\n\n\t* Makefile.am: Remove references to c-compiler-name.h and\n\tcp-compiler-name.h\n\t* Makefile.in: Regenerate.\n\t* compiler-name.hh: New file.\n\t* libcc1.cc: Don't include c-compiler-name.h.  Include\n\tcompiler-name.hh.\n\t* libcp1.cc: Don't include cp-compiler-name.h.  Include\n\tcompiler-name.hh.\n\nCo-Authored-By: Pedro Alves <palves@redhat.com>\n\nFrom-SVN: r254838", "tree": {"sha": "2de8be5e2648fec8c4e0080f09145cb6a267409c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2de8be5e2648fec8c4e0080f09145cb6a267409c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9d99775c34864d030d97b6a5ea5987616ff37468", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d99775c34864d030d97b6a5ea5987616ff37468", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9d99775c34864d030d97b6a5ea5987616ff37468", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d99775c34864d030d97b6a5ea5987616ff37468/comments", "author": null, "committer": null, "parents": [{"sha": "dc03239c2d8607a0f5cdb13a220bcf0c7f8ed7cd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc03239c2d8607a0f5cdb13a220bcf0c7f8ed7cd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dc03239c2d8607a0f5cdb13a220bcf0c7f8ed7cd"}], "stats": {"total": 92, "additions": 47, "deletions": 45}, "files": [{"sha": "ba77d02902dae27515d8151bc9a634ca4b26ae5e", "filename": "libcc1/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d99775c34864d030d97b6a5ea5987616ff37468/libcc1%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d99775c34864d030d97b6a5ea5987616ff37468/libcc1%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcc1%2FChangeLog?ref=9d99775c34864d030d97b6a5ea5987616ff37468", "patch": "@@ -1,3 +1,15 @@\n+2017-11-16  Sergio Durigan Junior  <sergiodj@redhat.com>\n+\t    Pedro Alves  <palves@redhat.com>\n+\n+\t* Makefile.am: Remove references to c-compiler-name.h and\n+\tcp-compiler-name.h\n+\t* Makefile.in: Regenerate.\n+\t* compiler-name.hh: New file.\n+\t* libcc1.cc: Don't include c-compiler-name.h.  Include\n+\tcompiler-name.hh.\n+\t* libcp1.cc: Don't include cp-compiler-name.h.  Include\n+\tcompiler-name.hh.\n+\n 2017-11-01  Nathan Sidwell  <nathan@acm.org>\n \n \t* libcp1plugin.cc (plugin_build_decl): Use"}, {"sha": "cdba5a50b23c51e3da897fe3bc67d5d0a8ac35d4", "filename": "libcc1/Makefile.am", "status": "modified", "additions": 0, "deletions": 18, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d99775c34864d030d97b6a5ea5987616ff37468/libcc1%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d99775c34864d030d97b6a5ea5987616ff37468/libcc1%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcc1%2FMakefile.am?ref=9d99775c34864d030d97b6a5ea5987616ff37468", "patch": "@@ -45,24 +45,6 @@ plugin_LTLIBRARIES = libcc1plugin.la libcp1plugin.la\n cc1lib_LTLIBRARIES = libcc1.la\n endif\n \n-BUILT_SOURCES = c-compiler-name.h cp-compiler-name.h\n-MOSTLYCLEANFILES = c-compiler-name.h cp-compiler-name.h\n-\n-# Put this in a header so we don't run sed for each compilation.  This\n-# is also simpler to debug as one can easily see the constant.\n-# FIXME: compute it in configure.ac and output it in config.status, or\n-# introduce timestamp files for some indirection to avoid rebuilding it\n-# every time.\n-c-compiler-name.h: Makefile\n-\t-rm -f $@T\n-\techo \"#define C_COMPILER_NAME \\\"`echo gcc | sed '$(transform)'`\\\"\" > $@T\n-\tmv $@T $@ # $(SHELL) $(srcdir)/../move-if-change $@T $@\n-\n-cp-compiler-name.h: Makefile\n-\t-rm -f $@T\n-\techo \"#define CP_COMPILER_NAME \\\"`echo g++ | sed '$(transform)'`\\\"\" > $@T\n-\tmv $@T $@ # $(SHELL) $(srcdir)/../move-if-change $@T $@\n-\n shared_source = callbacks.cc callbacks.hh connection.cc connection.hh \\\n     marshall.cc marshall.hh rpc.hh status.hh\n "}, {"sha": "47be10025adcb03fb0bfef0155b66faf94859536", "filename": "libcc1/Makefile.in", "status": "modified", "additions": 4, "deletions": 25, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d99775c34864d030d97b6a5ea5987616ff37468/libcc1%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d99775c34864d030d97b6a5ea5987616ff37468/libcc1%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcc1%2FMakefile.in?ref=9d99775c34864d030d97b6a5ea5987616ff37468", "patch": "@@ -307,8 +307,6 @@ plugindir = $(libdir)/gcc/$(target_noncanonical)/$(gcc_version)/plugin\n cc1libdir = $(libdir)/$(libsuffix)\n @ENABLE_PLUGIN_TRUE@plugin_LTLIBRARIES = libcc1plugin.la libcp1plugin.la\n @ENABLE_PLUGIN_TRUE@cc1lib_LTLIBRARIES = libcc1.la\n-BUILT_SOURCES = c-compiler-name.h cp-compiler-name.h\n-MOSTLYCLEANFILES = c-compiler-name.h cp-compiler-name.h\n shared_source = callbacks.cc callbacks.hh connection.cc connection.hh \\\n     marshall.cc marshall.hh rpc.hh status.hh\n \n@@ -344,7 +342,7 @@ libcc1_la_LINK = $(LIBTOOL) --tag=CXX $(AM_LIBTOOLFLAGS) \\\n \t$(LIBTOOLFLAGS) --mode=link $(CXXLD) $(AM_CXXFLAGS) \\\n \t$(CXXFLAGS) $(libcc1_la_LDFLAGS) $(LTLDFLAGS) -o $@\n \n-all: $(BUILT_SOURCES) cc1plugin-config.h\n+all: cc1plugin-config.h\n \t$(MAKE) $(AM_MAKEFLAGS) all-am\n \n .SUFFIXES:\n@@ -567,15 +565,13 @@ GTAGS:\n distclean-tags:\n \t-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags\n check-am: all-am\n-check: $(BUILT_SOURCES)\n-\t$(MAKE) $(AM_MAKEFLAGS) check-am\n+check: check-am\n all-am: Makefile $(LTLIBRARIES) cc1plugin-config.h\n installdirs:\n \tfor dir in \"$(DESTDIR)$(cc1libdir)\" \"$(DESTDIR)$(plugindir)\"; do \\\n \t  test -z \"$$dir\" || $(MKDIR_P) \"$$dir\"; \\\n \tdone\n-install: $(BUILT_SOURCES)\n-\t$(MAKE) $(AM_MAKEFLAGS) install-am\n+install: install-am\n install-exec: install-exec-am\n install-data: install-data-am\n uninstall: uninstall-am\n@@ -595,7 +591,6 @@ install-strip:\n \t    \"INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'\" install; \\\n \tfi\n mostlyclean-generic:\n-\t-test -z \"$(MOSTLYCLEANFILES)\" || rm -f $(MOSTLYCLEANFILES)\n \n clean-generic:\n \n@@ -606,7 +601,6 @@ distclean-generic:\n maintainer-clean-generic:\n \t@echo \"This command is intended for maintainers to use\"\n \t@echo \"it deletes files that may require special tools to rebuild.\"\n-\t-test -z \"$(BUILT_SOURCES)\" || rm -f $(BUILT_SOURCES)\n clean: clean-am\n \n clean-am: clean-cc1libLTLIBRARIES clean-generic clean-libtool \\\n@@ -681,7 +675,7 @@ ps-am:\n \n uninstall-am: uninstall-cc1libLTLIBRARIES uninstall-pluginLTLIBRARIES\n \n-.MAKE: all check install install-am install-strip\n+.MAKE: all install-am install-strip\n \n .PHONY: CTAGS GTAGS all all-am am--refresh check check-am clean \\\n \tclean-cc1libLTLIBRARIES clean-generic clean-libtool \\\n@@ -702,21 +696,6 @@ uninstall-am: uninstall-cc1libLTLIBRARIES uninstall-pluginLTLIBRARIES\n override CXXFLAGS := $(filter-out -fsanitize=address,$(CXXFLAGS))\n override LDFLAGS := $(filter-out -fsanitize=address,$(LDFLAGS))\n \n-# Put this in a header so we don't run sed for each compilation.  This\n-# is also simpler to debug as one can easily see the constant.\n-# FIXME: compute it in configure.ac and output it in config.status, or\n-# introduce timestamp files for some indirection to avoid rebuilding it\n-# every time.\n-c-compiler-name.h: Makefile\n-\t-rm -f $@T\n-\techo \"#define C_COMPILER_NAME \\\"`echo gcc | sed '$(transform)'`\\\"\" > $@T\n-\tmv $@T $@ # $(SHELL) $(srcdir)/../move-if-change $@T $@\n-\n-cp-compiler-name.h: Makefile\n-\t-rm -f $@T\n-\techo \"#define CP_COMPILER_NAME \\\"`echo g++ | sed '$(transform)'`\\\"\" > $@T\n-\tmv $@T $@ # $(SHELL) $(srcdir)/../move-if-change $@T $@\n-\n # Tell versions [3.59,3.63) of GNU make to not export all variables.\n # Otherwise a system limit (for SysV at least) may be exceeded.\n .NOEXPORT:"}, {"sha": "30cdc41838bbda83a09c1e7df7c339754ad586fe", "filename": "libcc1/compiler-name.hh", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d99775c34864d030d97b6a5ea5987616ff37468/libcc1%2Fcompiler-name.hh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d99775c34864d030d97b6a5ea5987616ff37468/libcc1%2Fcompiler-name.hh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcc1%2Fcompiler-name.hh?ref=9d99775c34864d030d97b6a5ea5987616ff37468", "patch": "@@ -0,0 +1,29 @@\n+/* The names of the compilers we use.\n+   Copyright (C) 2017 Free Software Foundation, Inc.\n+\n+This file is part of GCC.\n+\n+GCC is free software; you can redistribute it and/or modify it under\n+the terms of the GNU General Public License as published by the Free\n+Software Foundation; either version 3, or (at your option) any later\n+version.\n+\n+GCC is distributed in the hope that it will be useful, but WITHOUT ANY\n+WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GCC; see the file COPYING3.  If not see\n+<http://www.gnu.org/licenses/>.  */\n+\n+#ifndef COMPILER_NAME_H\n+#define COMPILER_NAME_H\n+\n+// C compiler name.\n+#define C_COMPILER_NAME \"gcc\"\n+\n+// C++ compiler name.\n+#define CP_COMPILER_NAME \"g++\"\n+\n+#endif // ! COMPILER_NAME_H"}, {"sha": "1a20dd941a456d8c33bf669c8ea88bf4ac2fbd15", "filename": "libcc1/libcc1.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d99775c34864d030d97b6a5ea5987616ff37468/libcc1%2Flibcc1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d99775c34864d030d97b6a5ea5987616ff37468/libcc1%2Flibcc1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcc1%2Flibcc1.cc?ref=9d99775c34864d030d97b6a5ea5987616ff37468", "patch": "@@ -37,7 +37,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"libiberty.h\"\n #include \"xregex.h\"\n #include \"findcomp.hh\"\n-#include \"c-compiler-name.h\"\n+#include \"compiler-name.hh\"\n #include \"intl.h\"\n \n struct libcc1;"}, {"sha": "b4f9710e0e228b0ac35fab9c4a311b19069e7298", "filename": "libcc1/libcp1.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d99775c34864d030d97b6a5ea5987616ff37468/libcc1%2Flibcp1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d99775c34864d030d97b6a5ea5987616ff37468/libcc1%2Flibcp1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcc1%2Flibcp1.cc?ref=9d99775c34864d030d97b6a5ea5987616ff37468", "patch": "@@ -37,7 +37,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"libiberty.h\"\n #include \"xregex.h\"\n #include \"findcomp.hh\"\n-#include \"cp-compiler-name.h\"\n+#include \"compiler-name.hh\"\n #include \"intl.h\"\n \n struct libcp1;"}]}