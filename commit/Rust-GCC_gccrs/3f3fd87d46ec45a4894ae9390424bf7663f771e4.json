{"sha": "3f3fd87d46ec45a4894ae9390424bf7663f771e4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2YzZmQ4N2Q0NmVjNDVhNDg5NGFlOTM5MDQyNGJmNzY2M2Y3NzFlNA==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2013-09-18T18:11:46Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2013-09-18T18:11:46Z"}, "message": "re PR c++/58457 (ICE when placement new operator is used with using keyword and custom constructor)\n\n/cp\n2013-09-18  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/58457\n\t* class.c (instantiate_type): Loosen a bit the gcc_assert.\n\n/testsuite\n2013-09-18  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/58457\n\t* g++.dg/parse/using4.C: New.\n\nFrom-SVN: r202711", "tree": {"sha": "4cb10f8c84e2ae784ceffb7b2518c173f45b70ef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4cb10f8c84e2ae784ceffb7b2518c173f45b70ef"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3f3fd87d46ec45a4894ae9390424bf7663f771e4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3f3fd87d46ec45a4894ae9390424bf7663f771e4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3f3fd87d46ec45a4894ae9390424bf7663f771e4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3f3fd87d46ec45a4894ae9390424bf7663f771e4/comments", "author": null, "committer": null, "parents": [{"sha": "b21abceec3c77f2b847b4687947d7fcf745ffdf9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b21abceec3c77f2b847b4687947d7fcf745ffdf9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b21abceec3c77f2b847b4687947d7fcf745ffdf9"}], "stats": {"total": 32, "additions": 31, "deletions": 1}, "files": [{"sha": "5ee1f9173b0b6acecc1cd7a4fb83f338337ec48e", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f3fd87d46ec45a4894ae9390424bf7663f771e4/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f3fd87d46ec45a4894ae9390424bf7663f771e4/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=3f3fd87d46ec45a4894ae9390424bf7663f771e4", "patch": "@@ -1,3 +1,8 @@\n+2013-09-18  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/58457\n+\t* class.c (instantiate_type): Loosen a bit the gcc_assert.\n+\n 2013-09-18  Marek Polacek  <polacek@redhat.com>\n \n \tPR sanitize/58443"}, {"sha": "9e0229fcba3708c2334d8af6f8dc5909daba463a", "filename": "gcc/cp/class.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f3fd87d46ec45a4894ae9390424bf7663f771e4/gcc%2Fcp%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f3fd87d46ec45a4894ae9390424bf7663f771e4/gcc%2Fcp%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fclass.c?ref=3f3fd87d46ec45a4894ae9390424bf7663f771e4", "patch": "@@ -7627,7 +7627,7 @@ instantiate_type (tree lhstype, tree rhs, tsubst_flags_t flags)\n      dependent on overload resolution.  */\n   gcc_assert (TREE_CODE (rhs) == ADDR_EXPR\n \t      || TREE_CODE (rhs) == COMPONENT_REF\n-\t      || really_overloaded_fn (rhs)\n+\t      || is_overloaded_fn (rhs)\n \t      || (flag_ms_extensions && TREE_CODE (rhs) == FUNCTION_DECL));\n \n   /* This should really only be used when attempting to distinguish"}, {"sha": "60c0baa719bf2001e77f183ee4738220733ce396", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f3fd87d46ec45a4894ae9390424bf7663f771e4/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f3fd87d46ec45a4894ae9390424bf7663f771e4/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=3f3fd87d46ec45a4894ae9390424bf7663f771e4", "patch": "@@ -1,3 +1,8 @@\n+2013-09-18  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/58457\n+\t* g++.dg/parse/using4.C: New.\n+\n 2013-09-18  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n \n \t* gcc.c-torture/execute/pr58419.c (b): Change type to signed char."}, {"sha": "2abe399f8dc7a94e79511c5def0c4a21d80ebb22", "filename": "gcc/testsuite/g++.dg/parse/using4.C", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f3fd87d46ec45a4894ae9390424bf7663f771e4/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fusing4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f3fd87d46ec45a4894ae9390424bf7663f771e4/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fusing4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fusing4.C?ref=3f3fd87d46ec45a4894ae9390424bf7663f771e4", "patch": "@@ -0,0 +1,20 @@\n+// PR c++/58457\n+\n+struct allocator\n+{\n+  void operator delete (void*);\n+  void* operator new (__SIZE_TYPE__, void*);\n+};\n+\n+struct type : public allocator\n+{\n+  type() {}\n+  using allocator::operator new;\n+  using allocator::operator delete;\n+};\n+\n+int main()\n+{\n+  new (0) type;\n+  return 0;\n+}"}]}