{"sha": "4af990cdc1ffee82c74eae84083dcfcf0ee05210", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGFmOTkwY2RjMWZmZWU4MmM3NGVhZTg0MDgzZGNmY2YwZWUwNTIxMA==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernd.schmidt@analog.com", "date": "2006-03-13T16:08:47Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2006-03-13T16:08:47Z"}, "message": "bfin.h (TARGET_CPU_CPP_BUILTINS): If TARGET_ID_SHARED_LIBRARY, define __ID_SHARED_LIB__.\n\n\t* config/bfin/bfin.h (TARGET_CPU_CPP_BUILTINS): If\n\tTARGET_ID_SHARED_LIBRARY, define __ID_SHARED_LIB__.\n\t* config/bfin/crti.S: Use it instead of __PIC__.\n\t* config/bfin/crtn.S: Likewise.\n\nFrom-SVN: r112006", "tree": {"sha": "53d70b000a0a353e3bc841b6011485f6669cdf76", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/53d70b000a0a353e3bc841b6011485f6669cdf76"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4af990cdc1ffee82c74eae84083dcfcf0ee05210", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4af990cdc1ffee82c74eae84083dcfcf0ee05210", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4af990cdc1ffee82c74eae84083dcfcf0ee05210", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4af990cdc1ffee82c74eae84083dcfcf0ee05210/comments", "author": null, "committer": null, "parents": [{"sha": "a94aa2725e4391d2d1de8448089b5651e772d2cf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a94aa2725e4391d2d1de8448089b5651e772d2cf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a94aa2725e4391d2d1de8448089b5651e772d2cf"}], "stats": {"total": 18, "additions": 12, "deletions": 6}, "files": [{"sha": "1b48e59bb98983ef2c2aa3756f668e24370cd856", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4af990cdc1ffee82c74eae84083dcfcf0ee05210/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4af990cdc1ffee82c74eae84083dcfcf0ee05210/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4af990cdc1ffee82c74eae84083dcfcf0ee05210", "patch": "@@ -2,6 +2,10 @@\n \n \t* config/bfin/lib1funcs.asm (___umodsi3): Use stack to save contents\n \tof RETS.\n+\t* config/bfin/bfin.h (TARGET_CPU_CPP_BUILTINS): If\n+\tTARGET_ID_SHARED_LIBRARY, define __ID_SHARED_LIB__.\n+\t* config/bfin/crti.S: Use it instead of __PIC__.\n+\t* config/bfin/crtn.S: Likewise.\n \n 2006-03-13  Eric Botcazou  <ebotcazou@adacore.com>\n "}, {"sha": "045594859120a1328fc1ddcc54ea22e46f75b83e", "filename": "gcc/config/bfin/bfin.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4af990cdc1ffee82c74eae84083dcfcf0ee05210/gcc%2Fconfig%2Fbfin%2Fbfin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4af990cdc1ffee82c74eae84083dcfcf0ee05210/gcc%2Fconfig%2Fbfin%2Fbfin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fbfin%2Fbfin.h?ref=4af990cdc1ffee82c74eae84083dcfcf0ee05210", "patch": "@@ -41,6 +41,8 @@ extern int target_flags;\n     {                                           \\\n       builtin_define (\"bfin\");                  \\\n       builtin_define (\"BFIN\");                  \\\n+      if (TARGET_ID_SHARED_LIBRARY)\t\t\\\n+\tbuiltin_define (\"__ID_SHARED_LIB__\");\t\\\n     }                                           \\\n   while (0)\n #endif"}, {"sha": "5a13df19bbd501c98cc0c251f96bcad16a6db762", "filename": "gcc/config/bfin/crti.s", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4af990cdc1ffee82c74eae84083dcfcf0ee05210/gcc%2Fconfig%2Fbfin%2Fcrti.s", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4af990cdc1ffee82c74eae84083dcfcf0ee05210/gcc%2Fconfig%2Fbfin%2Fcrti.s", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fbfin%2Fcrti.s?ref=4af990cdc1ffee82c74eae84083dcfcf0ee05210", "patch": "@@ -38,21 +38,21 @@ Boston, MA 02110-1301, USA.  */\n \t.globl  __init\n \t.type   __init,@function\n __init:\n-#if defined __PIC__\n+#if defined __ID_SHARED_LIB__\n \t[--SP] = P5;\n #endif\n \tLINK 12;\n-#if defined __PIC__\n+#if defined __ID_SHARED_LIB__\n \tP5 = [P5 + _current_shared_library_p5_offset_]\n #endif\t\n \t.section .fini\n \t.globl  __fini\n \t.type   __fini,@function\n __fini:\n-#if defined __PIC__\n+#if defined __ID_SHARED_LIB__\n \t[--SP] = P5; \n #endif\n \tLINK 12; \n-#if defined __PIC__\n+#if defined __ID_SHARED_LIB__\n \tP5 = [P5 + _current_shared_library_p5_offset_]\n #endif\t"}, {"sha": "69a17c0184e15f0b7ed72cba7bfd7eb5e321d3b9", "filename": "gcc/config/bfin/crtn.s", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4af990cdc1ffee82c74eae84083dcfcf0ee05210/gcc%2Fconfig%2Fbfin%2Fcrtn.s", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4af990cdc1ffee82c74eae84083dcfcf0ee05210/gcc%2Fconfig%2Fbfin%2Fcrtn.s", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fbfin%2Fcrtn.s?ref=4af990cdc1ffee82c74eae84083dcfcf0ee05210", "patch": "@@ -36,14 +36,14 @@ Boston, MA 02110-1301, USA.  */\n \n \t.section .init\n \tunlink; \n-#if defined __PIC__\n+#if defined __ID_SHARED_LIB__\n \tP5 = [SP++];\n #endif\n \trts;\n \n \t.section .fini\n \tunlink;\n-#if defined __PIC__\n+#if defined __ID_SHARED_LIB__\n \tP5 = [SP++];\n #endif\n \trts;"}]}