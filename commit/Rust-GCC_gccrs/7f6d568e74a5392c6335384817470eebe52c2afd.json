{"sha": "7f6d568e74a5392c6335384817470eebe52c2afd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2Y2ZDU2OGU3NGE1MzkyYzYzMzUzODQ4MTc0NzBlZWJlNTJjMmFmZA==", "commit": {"author": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-11-03T20:49:14Z"}, "committer": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-11-03T20:49:14Z"}, "message": "trans-array.c (gfc_trans_preloop_setup): Factor loop index initialization.\n\n\n\t* trans-array.c (gfc_trans_preloop_setup): Factor loop index\n\tinitialization.\n\nFrom-SVN: r180844", "tree": {"sha": "b109ca72186acd61164bb931c4f626db34bff106", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b109ca72186acd61164bb931c4f626db34bff106"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7f6d568e74a5392c6335384817470eebe52c2afd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f6d568e74a5392c6335384817470eebe52c2afd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7f6d568e74a5392c6335384817470eebe52c2afd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f6d568e74a5392c6335384817470eebe52c2afd/comments", "author": null, "committer": null, "parents": [{"sha": "bee1695c2186d21d30462f1186eea09e9340aacd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bee1695c2186d21d30462f1186eea09e9340aacd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bee1695c2186d21d30462f1186eea09e9340aacd"}], "stats": {"total": 20, "additions": 12, "deletions": 8}, "files": [{"sha": "925183392ffd92393c7e06d1638c3a085cee62c7", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f6d568e74a5392c6335384817470eebe52c2afd/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f6d568e74a5392c6335384817470eebe52c2afd/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=7f6d568e74a5392c6335384817470eebe52c2afd", "patch": "@@ -1,3 +1,8 @@\n+2011-11-03  Mikael Morin  <mikael@gcc.gnu.org>\n+\n+\t* trans-array.c (gfc_trans_preloop_setup): Factor loop index\n+\tinitialization.\n+\n 2011-11-03  Mikael Morin  <mikael@gcc.gnu.org>\n \n \t* trans-array.c (gfc_trans_preloop_setup): Move code earlier."}, {"sha": "e3134f5efa9e485d0f99cc2205a105a5d2a9aa53", "filename": "gcc/fortran/trans-array.c", "status": "modified", "additions": 7, "deletions": 8, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f6d568e74a5392c6335384817470eebe52c2afd/gcc%2Ffortran%2Ftrans-array.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f6d568e74a5392c6335384817470eebe52c2afd/gcc%2Ffortran%2Ftrans-array.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-array.c?ref=7f6d568e74a5392c6335384817470eebe52c2afd", "patch": "@@ -2863,16 +2863,15 @@ gfc_trans_preloop_setup (gfc_loopinfo * loop, int dim, int flag,\n \tcontinue;\n \n       if (info->ref)\n-\t{\n-\t  ar = &info->ref->u.ar;\n-\t  i = loop->order[dim + 1];\n-\t}\n+\tar = &info->ref->u.ar;\n       else\n-\t{\n-\t  ar = NULL;\n-\t  i = dim + 1;\n-\t}\n+\tar = NULL;\n+\n+      i = dim + 1;\n \n+      /* For the time being, there is no loop reordering.  */\n+      gcc_assert (i == loop->order[i]);\n+      i = loop->order[i];\n \n       if (dim == info->dimen - 1)\n \t{"}]}