{"sha": "65d151a781f89de384623cbc74221ccaa79e003f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjVkMTUxYTc4MWY4OWRlMzg0NjIzY2JjNzQyMjFjY2FhNzllMDAzZg==", "commit": {"author": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2004-03-01T15:12:57Z"}, "committer": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2004-03-01T15:12:57Z"}, "message": "config.gcc: Create a default tmake_file for linux, and use it in all but two linux clauses.\n\n\t* config.gcc: Create a default tmake_file for linux, and use\n\tit in all but two linux clauses.  Comment those two.\n\nFrom-SVN: r78704", "tree": {"sha": "332337d881839a9dc79057307645685625c6b2c3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/332337d881839a9dc79057307645685625c6b2c3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/65d151a781f89de384623cbc74221ccaa79e003f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65d151a781f89de384623cbc74221ccaa79e003f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/65d151a781f89de384623cbc74221ccaa79e003f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65d151a781f89de384623cbc74221ccaa79e003f/comments", "author": null, "committer": null, "parents": [{"sha": "e6f71f9d4e3d51de076c2920acb3a3a80593410b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6f71f9d4e3d51de076c2920acb3a3a80593410b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e6f71f9d4e3d51de076c2920acb3a3a80593410b"}], "stats": {"total": 51, "additions": 29, "deletions": 22}, "files": [{"sha": "266145c430c5f932676cdb49a4bbd68cdcdffa45", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65d151a781f89de384623cbc74221ccaa79e003f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65d151a781f89de384623cbc74221ccaa79e003f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=65d151a781f89de384623cbc74221ccaa79e003f", "patch": "@@ -1,3 +1,8 @@\n+2004-03-01  Nathanael Nerode  <neroden@gcc.gnu.org>\n+\n+\t* config.gcc: Create a default tmake_file for linux, and use\n+\tit in all but two linux clauses.  Comment those two.\n+\n 2004-03-01  Paolo Bonzini  <bonzini@gnu.org>\n \n \t* combine.c (try_combine):  Do not refer to is_replaced."}, {"sha": "f1d3463ab00e4c4c2c80a87ecb0ea3719a818cac", "filename": "gcc/config.gcc", "status": "modified", "additions": 24, "deletions": 22, "changes": 46, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65d151a781f89de384623cbc74221ccaa79e003f/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65d151a781f89de384623cbc74221ccaa79e003f/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=65d151a781f89de384623cbc74221ccaa79e003f", "patch": "@@ -431,6 +431,7 @@ case ${target} in\n   case ${enable_threads} in\n     \"\" | yes | posix) thread_file='posix' ;;\n   esac\n+  tmake_file=\"t-slibgcc-elf-ver t-linux\"\n   ;;\n *-*-gnu*)\n   # On the Hurd, the setup is just about the same on\n@@ -543,7 +544,7 @@ alpha*-*-unicosmk*)\n alpha*-*-linux*)\n \ttm_file=\"${tm_file} alpha/elf.h alpha/linux.h alpha/linux-elf.h\"\n \ttarget_cpu_default=\"MASK_GAS\"\n-\ttmake_file=\"t-slibgcc-elf-ver t-linux alpha/t-crtfm alpha/t-alpha alpha/t-ieee\"\n+\ttmake_file=\"${tmake_file} alpha/t-crtfm alpha/t-alpha alpha/t-ieee\"\n \t;;\n alpha*-*-gnu*)\n \ttarget_cpu_default=\"MASK_GAS\"\n@@ -647,7 +648,7 @@ arm*-*-netbsd*)\n \t;;\n arm*-*-linux*)\t\t\t# ARM GNU/Linux with ELF\n \ttm_file=\"dbxelf.h elfos.h linux.h arm/elf.h  arm/linux-gas.h arm/linux-elf.h arm/aout.h arm/arm.h\"\n-\ttmake_file=\"t-slibgcc-elf-ver t-linux arm/t-linux\"\n+\ttmake_file=\"${tmake_file} arm/t-linux\"\n \textra_parts=\"crtbegin.o crtbeginS.o crtend.o crtendS.o\"\n \tgnu_ld=yes\n \t;;\n@@ -708,6 +709,7 @@ cris-*-elf | cris-*-none)\n \t;;\n cris-*-linux*)\n \ttm_file=\"dbxelf.h elfos.h svr4.h ${tm_file} linux.h cris/linux.h\"\n+\t# We need to avoid using t-linux, so override default tmake_file\n \ttmake_file=\"cris/t-cris t-slibgcc-elf-ver cris/t-linux\"\n \t;;\n fr30-*-elf)\n@@ -724,7 +726,7 @@ frv-*-elf)\n frv-*-*linux*)\n \ttm_file=\"dbxelf.h elfos.h svr4.h ${tm_file} \\\n \t         linux.h frv/linux.h frv/frv-abi.h\"\n-\ttmake_file=\"t-slibgcc-elf-ver t-linux frv/t-frv frv/t-linux\"\n+\ttmake_file=\"${tmake_file} frv/t-frv frv/t-linux\"\n \t;;\n h8300-*-rtems*)\n \ttmake_file=\"h8300/t-h8300 t-rtems\"\n@@ -743,15 +745,15 @@ hppa*64*-*-linux* | parisc*64*-*-linux*)\n \ttarget_cpu_default=\"(MASK_PA_11 | MASK_PA_20 | MASK_BIG_SWITCH)\"\n \ttm_file=\"pa/pa64-start.h ${tm_file} dbxelf.h elfos.h svr4.h linux.h \\\n \t\t pa/pa-linux.h pa/pa64-regs.h pa/pa-64.h pa/pa64-linux.h\"\n-\ttmake_file=\"t-slibgcc-elf-ver t-linux pa/t-linux64\"\n+\ttmake_file=\"${tmake_file} pa/t-linux64\"\n \tgas=yes gnu_ld=yes\n \tneed_64bit_hwint=yes\n \t;;\n hppa*-*-linux* | parisc*-*-linux*)\n \ttarget_cpu_default=\"(MASK_PA_11 | MASK_NO_SPACE_REGS | MASK_BIG_SWITCH)\"\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h linux.h pa/pa-linux.h \\\n \t\t pa/pa32-regs.h pa/pa32-linux.h\"\n-\ttmake_file=\"t-slibgcc-elf-ver t-linux pa/t-linux\"\n+\ttmake_file=\"${tmake_file} pa/t-linux\"\n \t# if not configured with --enable-sjlj-exceptions, bump the\n \t# libgcc version number\n \tif test x$sjlj != x1; then\n@@ -921,12 +923,12 @@ i[34567]86-*-linux*)\t# Intel 80386's running GNU/Linux\n \t\t\t# with ELF format using glibc 2\n \t\t\t# aka GNU/Linux C library 6\n \ttm_file=\"${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h svr4.h linux.h i386/linux.h\"\n-\ttmake_file=\"t-slibgcc-elf-ver t-linux i386/t-crtstuff\"\n+\ttmake_file=\"${tmake_file} i386/t-crtstuff\"\n \t;;\n x86_64-*-linux*)\n \ttm_file=\"${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h svr4.h linux.h \\\n \t\t i386/x86-64.h i386/linux64.h\"\n-\ttmake_file=\"t-slibgcc-elf-ver t-linux i386/t-linux64\"\n+\ttmake_file=\"${tmake_file} i386/t-linux64\"\n \t;;\n i[34567]86-*-kfreebsd*-gnu) # must be before i[34567]86-*-gnu*\n \ttm_file=\"${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h svr4.h linux.h i386/linux.h kfreebsdgnu.h i386/kfreebsdgnu.h\"\n@@ -1106,7 +1108,7 @@ ia64*-*-freebsd*)\n \t;;\n ia64*-*-linux*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h linux.h ia64/sysv4.h ia64/linux.h\"\n-\ttmake_file=\"t-slibgcc-elf-ver t-linux ia64/t-ia64 ia64/t-glibc\"\n+\ttmake_file=\"${tmake_file} ia64/t-ia64 ia64/t-glibc\"\n \ttarget_cpu_default=\"MASK_GNU_AS|MASK_GNU_LD\"\n \textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o crtfastmath.o\"\n \tif test x\"$use_libunwind_exceptions\" = xyes; then\n@@ -1153,6 +1155,7 @@ m32rle-*-elf*)\n m32r-*-linux*)\n \ttm_file=\"dbxelf.h elfos.h svr4.h linux.h ${tm_file} m32r/linux.h\"\n \textra_parts=\"crtbegin.o crtbeginS.o crtend.o crtendS.o\"\n+\t# We override the tmake_file for linux -- why?\n \ttmake_file=\"m32r/t-linux\"\n \tgnu_ld=yes\n \tuse_fixproto=yes\n@@ -1163,6 +1166,7 @@ m32r-*-linux*)\n m32rle-*-linux*)\n \ttm_file=\"dbxelf.h elfos.h svr4.h linux.h m32r/little.h ${tm_file} m32r/linux.h\"\n \textra_parts=\"crtbegin.o crtbeginS.o crtend.o crtendS.o\"\n+\t# We override the tmake_file for linux -- why?\n \ttmake_file=\"m32r/t-linux\"\n \tgnu_ld=yes\n \tuse_fixproto=yes\n@@ -1235,7 +1239,6 @@ m68k-*-linux*)\t\t# Motorola m68k's running GNU/Linux\n \t\t\t\t# aka the GNU/Linux C library 6.\n \ttm_file=\"m68k/m68k.h dbxelf.h elfos.h svr4.h linux.h m68k/linux.h\"\n \ttm_defines=\"MOTOROLA USE_GAS\"\n-\ttmake_file=\"t-slibgcc-elf-ver t-linux\"\n \t# if not configured with --enable-sjlj-exceptions, bump the\n \t# libgcc version number\n \tif test x$sjlj != x1; then\n@@ -1332,7 +1335,7 @@ mips*-*-netbsd*)\t\t\t# NetBSD/mips, either endian.\n \t;;\n mips64*-*-linux*)\n \ttm_file=\"dbxelf.h elfos.h svr4.h linux.h ${tm_file} mips/linux.h mips/linux64.h\"\n-\ttmake_file=\"t-slibgcc-elf-ver t-linux mips/t-linux64\"\n+\ttmake_file=\"${tmake_file} mips/t-linux64\"\n \n \t# This default ABI is a partial lie: t-linux64 overrides the\n \t# DRIVER_SELF_SPEC that sets the default abi, in the spec file\n@@ -1353,7 +1356,6 @@ mips*-*-linux*)\t\t\t\t# Linux MIPS, either endian.\n \t\ttm_defines=\"MIPS_ISA_DEFAULT=32\"\n                 ;;\n         esac\n-\ttmake_file=\"t-slibgcc-elf-ver t-linux\"\n \t;;\n mips*-*-openbsd*)\n \ttm_defines=\"OBSD_HAS_DECLARE_FUNCTION_NAME OBSD_HAS_DECLARE_OBJECT OBSD_HAS_CORRECT_SPECS\"\n@@ -1490,7 +1492,7 @@ powerpc64-*-linux*)\n \tx|xpowerpc64|xdefault64) tm_file=\"${tm_file} rs6000/default64.h\";;\n \tesac\n \ttm_file=\"${tm_file} rs6000/linux64.h\"\n-\ttmake_file=\"rs6000/t-fprules t-slibgcc-elf-ver t-linux rs6000/t-ppccomm rs6000/t-linux64\"\n+\ttmake_file=\"rs6000/t-fprules ${tmake_file} rs6000/t-ppccomm rs6000/t-linux64\"\n \t;;\n powerpc64-*-gnu*)\n \ttm_file=\"${cpu_type}/${cpu_type}.h elfos.h svr4.h freebsd-spec.h gnu.h rs6000/sysv4.h rs6000/linux64.h rs6000/gnu.h\"\n@@ -1556,15 +1558,15 @@ powerpc-*-rtems*)\n \t;;\n powerpc-*-linux*altivec*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/linux.h rs6000/linuxaltivec.h\"\n-\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcos t-slibgcc-elf-ver t-linux rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcos ${tmake_file} rs6000/t-ppccomm\"\n \t;;\n powerpc-*-linux*spe*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/linux.h rs6000/linuxspe.h\"\n-\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcos t-slibgcc-elf-ver t-linux rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcos ${tmake_file} rs6000/t-ppccomm\"\n \t;;\n powerpc-*-linux*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/linux.h\"\n-\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcos t-slibgcc-elf-ver t-linux rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcos ${tmake_file} rs6000/t-ppccomm\"\n \t;;\n powerpc-*-gnu-gnualtivec*)\n \ttm_file=\"${cpu_type}/${cpu_type}.h elfos.h svr4.h freebsd-spec.h gnu.h rs6000/sysv4.h rs6000/linux.h rs6000/linuxaltivec.h rs6000/gnu.h\"\n@@ -1656,15 +1658,15 @@ rs6000-*-lynxos*)\n \t;;\n s390-*-linux*)\n \ttm_file=\"s390/s390.h dbxelf.h elfos.h svr4.h linux.h s390/linux.h\"\n-\ttmake_file=\"t-slibgcc-elf-ver t-linux s390/t-crtstuff\"\n+\ttmake_file=\"${tmake_file} s390/t-crtstuff\"\n \t;;\n s390x-*-linux*)\n \ttm_file=\"s390/s390x.h s390/s390.h dbxelf.h elfos.h svr4.h linux.h s390/linux.h\"\n \ttm_p_file=s390/s390-protos.h\n \tmd_file=s390/s390.md\n \textra_modes=s390/s390-modes.def\n \tout_file=s390/s390.c\n-\ttmake_file=\"t-slibgcc-elf-ver t-linux s390/t-crtstuff s390/t-linux64\"\n+\ttmake_file=\"${tmake_file} s390/t-crtstuff s390/t-linux64\"\n \t;;\n s390x-ibm-tpf*)\n \ttm_file=\"s390/s390x.h s390/s390.h dbxelf.h elfos.h svr4.h s390/tpf.h\"\n@@ -1714,7 +1716,7 @@ sh-*-rtems*)\n \ttm_file=\"${tm_file} dbxcoff.h sh/coff.h sh/rtems.h rtems.h\"\n \t;;\n sh-*-linux* | sh[2346lbe]*-*-linux*)\n-\ttmake_file=\"sh/t-sh sh/t-elf t-slibgcc-elf-ver t-linux\"\n+\ttmake_file=\"sh/t-sh sh/t-elf ${tmake_file}\"\n \tcase ${target} in\n \tsh*be-*-* | sh*eb-*-*) ;;\n \t*)\n@@ -1812,7 +1814,7 @@ sparc-*-elf*)\n \t;;\n sparc-*-linux*)\t\t# SPARC's running GNU/Linux, libc6\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h sparc/sysv4.h sparc/linux.h\"\n-\ttmake_file=\"t-slibgcc-elf-ver t-linux sparc/t-crtfm\"\n+\ttmake_file=\"${tmake_file} sparc/t-crtfm\"\n \t;;\n sparc-*-rtems*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h sparc/sysv4.h sol2.h sparc/sol2.h sparc/elf.h sparc/rtemself.h rtems.h\"\n@@ -1936,7 +1938,7 @@ sparc64-*-freebsd*|ultrasparc-*-freebsd*)\n \tneed_64bit_hwint=yes\n \t;;\n sparc64-*-linux*)\t\t# 64-bit SPARC's running GNU/Linux\n-\ttmake_file=\"t-slibgcc-elf-ver t-linux sparc/t-linux64 sparc/t-crtfm\"\n+\ttmake_file=\"${tmake_file} sparc/t-linux64 sparc/t-crtfm\"\n \ttm_file=\"sparc/biarch64.h ${tm_file} dbxelf.h elfos.h svr4.h sparc/sysv4.h sparc/linux64.h\"\n \t;;\n sparc64-*-netbsd*)\n@@ -2071,11 +2073,11 @@ xtensa-*-elf*)\n \t;;\n xtensa-*-linux*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h linux.h xtensa/linux.h\"\n-\ttmake_file=\"t-slibgcc-elf-ver t-linux xtensa/t-xtensa xtensa/t-linux\"\n+\ttmake_file=\"${tmake_file} xtensa/t-xtensa xtensa/t-linux\"\n \t;;\n am33_2.0-*-linux*)\n \ttm_file=\"mn10300/mn10300.h dbxelf.h elfos.h linux.h mn10300/linux.h\"\n-\ttmake_file=\"t-slibgcc-elf-ver t-linux mn10300/t-linux\"\n+\ttmake_file=\"${tmake_file} mn10300/t-linux\"\n \tgas=yes gnu_ld=yes\n \textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o\"\n \tuse_collect2=no"}]}