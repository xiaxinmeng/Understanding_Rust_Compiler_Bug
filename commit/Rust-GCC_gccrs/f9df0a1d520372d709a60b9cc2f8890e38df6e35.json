{"sha": "f9df0a1d520372d709a60b9cc2f8890e38df6e35", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjlkZjBhMWQ1MjAzNzJkNzA5YTYwYjljYzJmODg5MGUzOGRmNmUzNQ==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "amylaar@cygnus.co.uk", "date": "1998-06-18T09:33:39Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "1998-06-18T09:33:39Z"}, "message": "reload.c (find_reloads): Don't narrow scope of RELOAD_OTHER to RELOAD_FOR_INSN.\n\n\t* reload.c (find_reloads): Don't narrow scope of RELOAD_OTHER to\n\tRELOAD_FOR_INSN.\n\nFrom-SVN: r20559", "tree": {"sha": "11397394fc8ba4720b5a53634c9564a2921c2312", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/11397394fc8ba4720b5a53634c9564a2921c2312"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f9df0a1d520372d709a60b9cc2f8890e38df6e35", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9df0a1d520372d709a60b9cc2f8890e38df6e35", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f9df0a1d520372d709a60b9cc2f8890e38df6e35", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9df0a1d520372d709a60b9cc2f8890e38df6e35/comments", "author": null, "committer": null, "parents": [{"sha": "276d5ee0ca27b648187650f1bfeb61b345b5f915", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/276d5ee0ca27b648187650f1bfeb61b345b5f915", "html_url": "https://github.com/Rust-GCC/gccrs/commit/276d5ee0ca27b648187650f1bfeb61b345b5f915"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "f0127adfeb927573c56b48a44882388b7d4cd940", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9df0a1d520372d709a60b9cc2f8890e38df6e35/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9df0a1d520372d709a60b9cc2f8890e38df6e35/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f9df0a1d520372d709a60b9cc2f8890e38df6e35", "patch": "@@ -1,3 +1,8 @@\n+Thu Jun 18 17:30:39 1998  J\"orn Rennecke <amylaar@cygnus.co.uk>\n+\n+\t* reload.c (find_reloads): Don't narrow scope of RELOAD_OTHER to\n+\tRELOAD_FOR_INSN.\n+\n Thu Jun 18 09:36:50 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* Makefile.in (c-lang.o): Depend on output.h."}, {"sha": "a8908a99ef753d8ff61ed389c238c505a9adadff", "filename": "gcc/reload.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9df0a1d520372d709a60b9cc2f8890e38df6e35/gcc%2Freload.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9df0a1d520372d709a60b9cc2f8890e38df6e35/gcc%2Freload.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload.c?ref=f9df0a1d520372d709a60b9cc2f8890e38df6e35", "patch": "@@ -3574,11 +3574,13 @@ find_reloads (insn, replace, ind_levels, live_known, reload_reg_p)\n \t a SCRATCH).  In this case, we only need have the reload live \n \t through the insn itself, but not for any of our input or output\n \t reloads. \n+\t But we must not accidentally narrow the scope of an existing\n+\t RELOAD_OTHER reload - leave these alone.\n \n \t In any case, anything needed to address this operand can remain\n \t however they were previously categorized.  */\n \n-      if (goal_alternative_earlyclobber[i])\n+      if (goal_alternative_earlyclobber[i] && operand_type[i] != RELOAD_OTHER)\n \toperand_type[i]\n \t  = (find_reg_note (insn, REG_UNUSED, recog_operand[i])\n \t     ? RELOAD_FOR_INSN : RELOAD_OTHER);"}]}