{"sha": "d3e472a32edd8ea33c3c64f7efc622c442bfa4f8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDNlNDcyYTMyZWRkOGVhMzNjM2M2NGY3ZWZjNjIyYzQ0MmJmYTRmOA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2011-11-09T21:37:27Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2011-11-09T21:37:27Z"}, "message": "re PR target/50911 (assertion failure in expand_vec_perm_interleave2 with -msse)\n\n\tPR target/50911\n\t* config/i386/i386.c (expand_vec_perm_interleave2): If d->vmode is\n\tV4SImode, !TARGET_SSE2 and punpck[lh]* is needed, change dremap.vmode\n\tto V4SFmode.\n\n\t* gcc.dg/torture/vshuf-16.inc: Add interleave low and high\n\tpermutations.\n\t* gcc.dg/torture/vshuf-32.inc: Likewise.\n\t* gcc.dg/torture/vshuf-4.inc: Likewise.\n\t* gcc.dg/torture/vshuf-8.inc: Likewise.\n\nFrom-SVN: r181238", "tree": {"sha": "97e37f576f1fa4fdad3b2c73a1cd27085ce25f68", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/97e37f576f1fa4fdad3b2c73a1cd27085ce25f68"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d3e472a32edd8ea33c3c64f7efc622c442bfa4f8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3e472a32edd8ea33c3c64f7efc622c442bfa4f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d3e472a32edd8ea33c3c64f7efc622c442bfa4f8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3e472a32edd8ea33c3c64f7efc622c442bfa4f8/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "94158d7d2680a3a5e6a4efae223d6fb24c2667ba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94158d7d2680a3a5e6a4efae223d6fb24c2667ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/94158d7d2680a3a5e6a4efae223d6fb24c2667ba"}], "stats": {"total": 32, "additions": 28, "deletions": 4}, "files": [{"sha": "e3252836f94186364bb14e105bff37d2904a75e7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3e472a32edd8ea33c3c64f7efc622c442bfa4f8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3e472a32edd8ea33c3c64f7efc622c442bfa4f8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d3e472a32edd8ea33c3c64f7efc622c442bfa4f8", "patch": "@@ -1,5 +1,10 @@\n 2011-11-09  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR target/50911\n+\t* config/i386/i386.c (expand_vec_perm_interleave2): If d->vmode is\n+\tV4SImode, !TARGET_SSE2 and punpck[lh]* is needed, change dremap.vmode\n+\tto V4SFmode.\n+\n \t* function.h (requires_stack_frame_p): New prototype.\n \t* function.c (requires_stack_frame_p): No longer static.\n \t* config/i386/i386.c (ix86_finalize_stack_realign_flags): If"}, {"sha": "4d460daad893d3ac49fef2fd15288373ed6c7eb5", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3e472a32edd8ea33c3c64f7efc622c442bfa4f8/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3e472a32edd8ea33c3c64f7efc622c442bfa4f8/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=d3e472a32edd8ea33c3c64f7efc622c442bfa4f8", "patch": "@@ -35877,6 +35877,8 @@ expand_vec_perm_interleave2 (struct expand_vec_perm_d *d)\n \t      dremap.perm[i * 2] = i;\n \t      dremap.perm[i * 2 + 1] = i + nelt;\n \t    }\n+\t  if (!TARGET_SSE2 && d->vmode == V4SImode)\n+\t    dremap.vmode = V4SFmode;\n \t}\n       else if ((contents & (h2 | h4)) == contents)\n \t{\n@@ -35888,6 +35890,8 @@ expand_vec_perm_interleave2 (struct expand_vec_perm_d *d)\n \t      dremap.perm[i * 2] = i + nelt2;\n \t      dremap.perm[i * 2 + 1] = i + nelt + nelt2;\n \t    }\n+\t  if (!TARGET_SSE2 && d->vmode == V4SImode)\n+\t    dremap.vmode = V4SFmode;\n \t}\n       else if ((contents & (h1 | h4)) == contents)\n \t{"}, {"sha": "b92292b1193d17c534772aa10b33676b7e9a4772", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3e472a32edd8ea33c3c64f7efc622c442bfa4f8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3e472a32edd8ea33c3c64f7efc622c442bfa4f8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d3e472a32edd8ea33c3c64f7efc622c442bfa4f8", "patch": "@@ -1,5 +1,12 @@\n 2011-11-09  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR target/50911\n+\t* gcc.dg/torture/vshuf-16.inc: Add interleave low and high\n+\tpermutations.\n+\t* gcc.dg/torture/vshuf-32.inc: Likewise.\n+\t* gcc.dg/torture/vshuf-4.inc: Likewise.\n+\t* gcc.dg/torture/vshuf-8.inc: Likewise.\n+\n \t* gcc.dg/tm/memopt-1.c: Fix up regexp.\n \n 2011-11-09  Ian Lance Taylor  <iant@google.com>"}, {"sha": "abefdcba22bd70e8961094bd44acd0d3dc66c28d", "filename": "gcc/testsuite/gcc.dg/torture/vshuf-16.inc", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3e472a32edd8ea33c3c64f7efc622c442bfa4f8/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-16.inc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3e472a32edd8ea33c3c64f7efc622c442bfa4f8/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-16.inc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-16.inc?ref=d3e472a32edd8ea33c3c64f7efc622c442bfa4f8", "patch": "@@ -19,7 +19,9 @@ T (15,\t1, 30, 27, 31, 9, 18, 25, 12, 7, 4, 2, 16, 25, 20, 10, 3) \\\n T (16,\t0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30) \\\n T (17,\t1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31) \\\n T (18,\t3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3) \\\n-T (19,\t15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0)\n+T (19,\t15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0) \\\n+T (20,\t0, 16, 1, 17, 2, 18, 3, 19, 4, 20, 5, 21, 6, 22, 7, 23) \\\n+T (21,\t8, 24, 9, 25, 10, 26, 11, 27, 12, 28, 13, 29, 14, 30, 15, 31)\n #define EXPTESTS \\\n T (116,\t28, 13, 27, 11, 21, 1, 5, 22, 29, 14, 15, 6, 3, 10, 16, 30) \\\n T (117,\t22, 26, 1, 13, 29, 3, 18, 18, 11, 21, 12, 28, 19, 5, 7, 4) \\"}, {"sha": "583364a8161164dc4be92edacfe3254340917b5f", "filename": "gcc/testsuite/gcc.dg/torture/vshuf-32.inc", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3e472a32edd8ea33c3c64f7efc622c442bfa4f8/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-32.inc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3e472a32edd8ea33c3c64f7efc622c442bfa4f8/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-32.inc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-32.inc?ref=d3e472a32edd8ea33c3c64f7efc622c442bfa4f8", "patch": "@@ -19,7 +19,9 @@ T (15,\t2, 43, 49, 34, 28, 35, 29, 36, 51, 9, 17, 48, 10, 37, 45, 21, 52, 19, 25,\n T (16,\t0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30, 32, 34, 36, 38, 40, 42, 44, 46, 48, 50, 52, 54, 56, 58, 60, 62) \\\n T (17,\t1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33, 35, 37, 39, 41, 43, 45, 47, 49, 51, 53, 55, 57, 59, 61, 63) \\\n T (18,\t3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3) \\\n-T (19,\t31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0)\n+T (19,\t31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0) \\\n+T (20,\t0, 32, 1, 33, 2, 34, 3, 35, 4, 36, 5, 37, 6, 38, 7, 39, 8, 40, 9, 41, 10, 42, 11, 43, 12, 44, 13, 45, 14, 46, 15, 47) \\\n+T (21,\t16, 48, 17, 49, 18, 50, 19, 51, 20, 52, 21, 53, 22, 54, 23, 55, 24, 56, 25, 57, 26, 58, 27, 59, 28, 60, 29, 61, 30, 62, 31, 63)\n #define EXPTESTS \\\n T (116,\t13, 38, 47, 3, 17, 8, 38, 20, 59, 61, 39, 26, 7, 49, 63, 43, 57, 16, 40, 19, 4, 32, 27, 7, 52, 19, 46, 55, 36, 41, 48, 6) \\\n T (117,\t39, 35, 59, 20, 56, 18, 58, 63, 57, 14, 2, 16, 5, 61, 35, 4, 53, 9, 52, 51, 27, 33, 61, 12, 3, 35, 36, 40, 37, 7, 45, 42) \\"}, {"sha": "cdba12cd27ccf3ade9f00715e10c2136d0e78368", "filename": "gcc/testsuite/gcc.dg/torture/vshuf-4.inc", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3e472a32edd8ea33c3c64f7efc622c442bfa4f8/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-4.inc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3e472a32edd8ea33c3c64f7efc622c442bfa4f8/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-4.inc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-4.inc?ref=d3e472a32edd8ea33c3c64f7efc622c442bfa4f8", "patch": "@@ -19,7 +19,9 @@ T (15,\t6, 1, 3, 4) \\\n T (16,\t0, 2, 4, 6) \\\n T (17,\t1, 3, 5, 7) \\\n T (18,\t3, 3, 3, 3) \\\n-T (19,\t3, 2, 1, 0)\n+T (19,\t3, 2, 1, 0) \\\n+T (20,\t0, 4, 1, 5) \\\n+T (21,\t2, 6, 3, 7)\n #define EXPTESTS \\\n T (116,\t1, 2, 4, 3) \\\n T (117,\t7, 3, 3, 0) \\"}, {"sha": "b865162133a757281b231e03802cd0d6975e97c9", "filename": "gcc/testsuite/gcc.dg/torture/vshuf-8.inc", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3e472a32edd8ea33c3c64f7efc622c442bfa4f8/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-8.inc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3e472a32edd8ea33c3c64f7efc622c442bfa4f8/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-8.inc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-8.inc?ref=d3e472a32edd8ea33c3c64f7efc622c442bfa4f8", "patch": "@@ -19,7 +19,9 @@ T (15,\t0, 5, 11, 7, 4, 6, 14, 1) \\\n T (16,\t0, 2, 4, 6, 8, 10, 12, 14) \\\n T (17,\t1, 3, 5, 7, 9, 11, 13, 15) \\\n T (18,\t3, 3, 3, 3, 3, 3, 3, 3) \\\n-T (19,\t7, 6, 5, 4, 3, 2, 1, 0)\n+T (19,\t7, 6, 5, 4, 3, 2, 1, 0) \\\n+T (20,\t0, 8, 1, 9, 2, 10, 3, 11) \\\n+T (21,\t4, 12, 5, 13, 6, 14, 7, 15)\n #define EXPTESTS \\\n T (116,\t9, 3, 9, 4, 7, 0, 0, 6) \\\n T (117,\t4, 14, 12, 8, 9, 6, 0, 10) \\"}]}