{"sha": "64e92a2664338473268928c206f62ba397379601", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjRlOTJhMjY2NDMzODQ3MzI2ODkyOGMyMDZmNjJiYTM5NzM3OTYwMQ==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2002-03-23T18:18:43Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2002-03-23T18:18:43Z"}, "message": "re PR java/5489 (-fverbose-asm crashes jc1 on ARM cross-compiler)\n\nPR java/5489\n* arm.md (return, sibcall_epilogue): Pass const_true_rtx as the\noperand argument to output_return_instruction.\n* arm.c (arm_print_operand, case 'd'): If the operand is\nconst_true_rtx then just return.\n(arm_print_operand, case 'D'): If the operand is const_true_rtx\nthen abort.\n\nFrom-SVN: r51241", "tree": {"sha": "06cbf38f1e6d16c47b6222893315b70e042fbd1c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/06cbf38f1e6d16c47b6222893315b70e042fbd1c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/64e92a2664338473268928c206f62ba397379601", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64e92a2664338473268928c206f62ba397379601", "html_url": "https://github.com/Rust-GCC/gccrs/commit/64e92a2664338473268928c206f62ba397379601", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64e92a2664338473268928c206f62ba397379601/comments", "author": null, "committer": null, "parents": [{"sha": "d6961341dd0ef37d0c292d25f7e428a42e22b0c0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d6961341dd0ef37d0c292d25f7e428a42e22b0c0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d6961341dd0ef37d0c292d25f7e428a42e22b0c0"}], "stats": {"total": 23, "additions": 18, "deletions": 5}, "files": [{"sha": "180ff01007198dba3a9435ab22f1e06efa1976dc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/64e92a2664338473268928c206f62ba397379601/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/64e92a2664338473268928c206f62ba397379601/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=64e92a2664338473268928c206f62ba397379601", "patch": "@@ -1,3 +1,13 @@\n+2002-03-23  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\tPR java/5489\n+\t* arm.md (return, sibcall_epilogue): Pass const_true_rtx as the\n+\toperand argument to output_return_instruction.\n+\t* arm.c (arm_print_operand, case 'd'): If the operand is \n+\tconst_true_rtx then just return.\n+\t(arm_print_operand, case 'D'): If the operand is const_true_rtx\n+\tthen abort.\n+\n 2002-03-23  Andrew Cagney  <ac131313@redhat.com>\n \n \t* doc/invoke.texi (Option Summary): Mention -Wswitch-default."}, {"sha": "53633dcbdfff9fdcdf23e54394d6c312949963c7", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/64e92a2664338473268928c206f62ba397379601/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/64e92a2664338473268928c206f62ba397379601/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=64e92a2664338473268928c206f62ba397379601", "patch": "@@ -8568,7 +8568,8 @@ arm_print_operand (stream, x, code)\n       return;\n \n     case 'd':\n-      if (!x)\n+      /* CONST_TRUE_RTX means always -- that's the default.  */\n+      if (x == const_true_rtx)\n \treturn;\n       \n       if (TARGET_ARM)\n@@ -8579,8 +8580,10 @@ arm_print_operand (stream, x, code)\n       return;\n \n     case 'D':\n-      if (!x)\n-\treturn;\n+      /* CONST_TRUE_RTX means not always -- ie never.  We shouldn't ever\n+\t want to do that.  */\n+      if (x == const_true_rtx)\n+\tabort ();\n \n       if (TARGET_ARM)\n \tfputs (arm_condition_codes[ARM_INVERSE_CONDITION_CODE"}, {"sha": "7d73cbd3b9ada3753cff5e70f66727febe0fc329", "filename": "gcc/config/arm/arm.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/64e92a2664338473268928c206f62ba397379601/gcc%2Fconfig%2Farm%2Farm.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/64e92a2664338473268928c206f62ba397379601/gcc%2Fconfig%2Farm%2Farm.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.md?ref=64e92a2664338473268928c206f62ba397379601", "patch": "@@ -6721,7 +6721,7 @@\n         arm_ccfsm_state += 2;\n         return \\\"\\\";\n       }\n-    return output_return_instruction (NULL, TRUE, FALSE);\n+    return output_return_instruction (const_true_rtx, TRUE, FALSE);\n   }\"\n   [(set_attr \"type\" \"load\")\n    (set_attr \"predicable\" \"yes\")]\n@@ -8756,7 +8756,7 @@\n   \"*\n   output_asm_insn (\\\"%@ Sibcall epilogue\\\", operands);\n   if (USE_RETURN_INSN (FALSE))\n-    return output_return_instruction (NULL, FALSE, FALSE);\n+    return output_return_instruction (const_true_rtx, FALSE, FALSE);\n   return arm_output_epilogue (FALSE);\n   \"\n ;; Length is absolute worst case"}]}