{"sha": "970c9acebff0668e05d591ba34184f68b32c21e8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTcwYzlhY2ViZmYwNjY4ZTA1ZDU5MWJhMzQxODRmNjhiMzJjMjFlOA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-09-15T22:24:09Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-09-15T22:24:09Z"}, "message": "(insert): Set cse_jumps_altered when inserting a LABEL_REF.\n\nFrom-SVN: r10366", "tree": {"sha": "9ebb96c4c9a12bfad9d01234232da4739230e936", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9ebb96c4c9a12bfad9d01234232da4739230e936"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/970c9acebff0668e05d591ba34184f68b32c21e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/970c9acebff0668e05d591ba34184f68b32c21e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/970c9acebff0668e05d591ba34184f68b32c21e8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/970c9acebff0668e05d591ba34184f68b32c21e8/comments", "author": null, "committer": null, "parents": [{"sha": "7a9b75b671b25d03d7afe4c116f0f1b8d89ca90a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a9b75b671b25d03d7afe4c116f0f1b8d89ca90a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a9b75b671b25d03d7afe4c116f0f1b8d89ca90a"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "863a338e7fe28593c7da993415e690149f056653", "filename": "gcc/cse.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/970c9acebff0668e05d591ba34184f68b32c21e8/gcc%2Fcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/970c9acebff0668e05d591ba34184f68b32c21e8/gcc%2Fcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcse.c?ref=970c9acebff0668e05d591ba34184f68b32c21e8", "patch": "@@ -1287,6 +1287,14 @@ insert (x, classp, hash, mode)\n \t    SET_HARD_REG_BIT (hard_regs_in_table, i);\n     }\n \n+  /* If X is a label, show we are altering jumps.  We don't KNOW\n+     we are, but we might be putting it into a insn which would\n+     then need a new REG_LABEL note.  Be conservative and say\n+     we alter jumps here; we usually will in this case anyway.  */\n+  if (GET_CODE (x) == LABEL_REF\n+      || (GET_CODE (x) == CONST && GET_CODE (XEXP (x, 0)) == PLUS\n+\t  && GET_CODE (XEXP (XEXP (x, 0), 0)) == LABEL_REF))\n+    cse_jumps_altered = 1;\n \n   /* Put an element for X into the right hash bucket.  */\n "}]}