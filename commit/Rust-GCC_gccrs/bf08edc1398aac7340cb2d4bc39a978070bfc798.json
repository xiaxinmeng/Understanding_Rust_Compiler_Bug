{"sha": "bf08edc1398aac7340cb2d4bc39a978070bfc798", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmYwOGVkYzEzOThhYWM3MzQwY2IyZDRiYzM5YTk3ODA3MGJmYzc5OA==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@bitrange.com", "date": "2004-12-31T16:28:34Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2004-12-31T16:28:34Z"}, "message": "re PR target/18701 (mmix-knuth-mmixware gcc.c-torture/execute failures: 20010224-1.c, 20020216-1.c, 20040218-1.c, 20040709-2.c)\n\n\tPR target/18701\n\t* combine.c (combine_simplify_rtx): Do not allow paradoxical\n\tsubregs of MEM.\n\nFrom-SVN: r92762", "tree": {"sha": "e2ad4a12ed74c499257b5d0318e45ae551aa7b73", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e2ad4a12ed74c499257b5d0318e45ae551aa7b73"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bf08edc1398aac7340cb2d4bc39a978070bfc798", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf08edc1398aac7340cb2d4bc39a978070bfc798", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bf08edc1398aac7340cb2d4bc39a978070bfc798", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf08edc1398aac7340cb2d4bc39a978070bfc798/comments", "author": null, "committer": null, "parents": [{"sha": "32f2ce029997a7d1d4be975ddafd7dcf6574d49c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32f2ce029997a7d1d4be975ddafd7dcf6574d49c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32f2ce029997a7d1d4be975ddafd7dcf6574d49c"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "86b58686fc95a41cbad576314da073d6964b67bc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf08edc1398aac7340cb2d4bc39a978070bfc798/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf08edc1398aac7340cb2d4bc39a978070bfc798/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bf08edc1398aac7340cb2d4bc39a978070bfc798", "patch": "@@ -1,5 +1,9 @@\n 2004-12-31  Hans-Peter Nilsson  <hp@bitrange.com>\n \n+\tPR target/18701\n+\t* combine.c (combine_simplify_rtx): Do not allow paradoxical\n+\tsubregs of MEM.\n+\n \tPR target/18701\n \t* combine.c (gen_lowpart_for_combine): When stripping SUBREG of\n \tMEM, adjust imode and isize."}, {"sha": "90934e116729cad8915e48f1657e02b575808826", "filename": "gcc/combine.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf08edc1398aac7340cb2d4bc39a978070bfc798/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf08edc1398aac7340cb2d4bc39a978070bfc798/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=bf08edc1398aac7340cb2d4bc39a978070bfc798", "patch": "@@ -3983,10 +3983,14 @@ combine_simplify_rtx (rtx x, enum machine_mode op0_mode, int in_dest)\n       }\n \n       /* Don't change the mode of the MEM if that would change the meaning\n-\t of the address.  */\n+\t of the address.  Similarly, don't allow widening, as that may\n+\t access memory outside the defined object or using an address\n+\t that is invalid for a wider mode.  */\n       if (MEM_P (SUBREG_REG (x))\n \t  && (MEM_VOLATILE_P (SUBREG_REG (x))\n-\t      || mode_dependent_address_p (XEXP (SUBREG_REG (x), 0))))\n+\t      || mode_dependent_address_p (XEXP (SUBREG_REG (x), 0))\n+\t      || (GET_MODE_SIZE (mode)\n+\t\t  > GET_MODE_SIZE (GET_MODE (SUBREG_REG (x))))))\n \treturn gen_rtx_CLOBBER (mode, const0_rtx);\n \n       /* Note that we cannot do any narrowing for non-constants since"}]}