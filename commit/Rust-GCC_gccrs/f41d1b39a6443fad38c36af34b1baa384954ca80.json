{"sha": "f41d1b39a6443fad38c36af34b1baa384954ca80", "node_id": "C_kwDOANBUbNoAKGY0MWQxYjM5YTY0NDNmYWQzOGMzNmFmMzRiMWJhYTM4NDk1NGNhODA", "commit": {"author": {"name": "Andrew MacLeod", "email": "amacleod@redhat.com", "date": "2022-10-02T22:43:35Z"}, "committer": {"name": "Andrew MacLeod", "email": "amacleod@redhat.com", "date": "2022-10-03T14:02:34Z"}, "message": "Don't process undefined range.\n\nNo need to continue processing an undefined range.\n\n\tgcc/\n\tPR tree-optimization/107109\n\t* range-op.cc (adjust_op1_for_overflow): Don't process undefined.\n\tgcc/testsuite/\n\t* gcc.dg/pr107109.c: New.", "tree": {"sha": "4beeb7c95436222ae9255b76f83be08542998de1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4beeb7c95436222ae9255b76f83be08542998de1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f41d1b39a6443fad38c36af34b1baa384954ca80", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f41d1b39a6443fad38c36af34b1baa384954ca80", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f41d1b39a6443fad38c36af34b1baa384954ca80", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f41d1b39a6443fad38c36af34b1baa384954ca80/comments", "author": null, "committer": null, "parents": [{"sha": "06aa66af7d0dacc1b247d9e38175e789ef159191", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06aa66af7d0dacc1b247d9e38175e789ef159191", "html_url": "https://github.com/Rust-GCC/gccrs/commit/06aa66af7d0dacc1b247d9e38175e789ef159191"}], "stats": {"total": 23, "additions": 23, "deletions": 0}, "files": [{"sha": "4f647abd91c1ebc481a8256336a5fd7b48be0c39", "filename": "gcc/range-op.cc", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f41d1b39a6443fad38c36af34b1baa384954ca80/gcc%2Frange-op.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f41d1b39a6443fad38c36af34b1baa384954ca80/gcc%2Frange-op.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frange-op.cc?ref=f41d1b39a6443fad38c36af34b1baa384954ca80", "patch": "@@ -1370,6 +1370,8 @@ static void\n adjust_op1_for_overflow (irange &r, const irange &op2, relation_kind rel,\n \t\t\t bool add_p)\n {\n+  if (r.undefined_p ())\n+    return;\n   tree type = r.type ();\n   // Check for unsigned overflow and calculate the overflow part.\n   signop s = TYPE_SIGN (type);"}, {"sha": "e3036f6ff22c94f9409459606c83bd3ee053baf1", "filename": "gcc/testsuite/gcc.dg/pr107109.c", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f41d1b39a6443fad38c36af34b1baa384954ca80/gcc%2Ftestsuite%2Fgcc.dg%2Fpr107109.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f41d1b39a6443fad38c36af34b1baa384954ca80/gcc%2Ftestsuite%2Fgcc.dg%2Fpr107109.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr107109.c?ref=f41d1b39a6443fad38c36af34b1baa384954ca80", "patch": "@@ -0,0 +1,21 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O1\" } */\n+\n+int printf(const char *, ...);\n+int a, b;\n+void c() {\n+  int d, e;\n+ L:\n+  a = (b && a) ^ 2756578370;\n+  d = ~a + (e ^ d) ^ 2756578370;\n+  if (!d)\n+    printf(\"%d\", a);\n+  d = a / e;\n+  goto L;\n+}\n+int main() {\n+  if (a)\n+    c();\n+  return 0;\n+}\n+"}]}