{"sha": "daaf6209a4b83e4fdd8a0b744833399169e282e9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGFhZjYyMDlhNGI4M2U0ZmRkOGEwYjc0NDgzMzM5OTE2OWUyODJlOQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2014-10-13T14:43:24Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2014-10-13T14:43:24Z"}, "message": "re PR c++/62127 (ICE with VLA in constructor)\n\n\n\tPR tree-optimization/62127\n\t* g++.dg/torture/pr62127.C: New testcase.\n\t* tree.c (remap_type_1): When remapping array, remap\n\talso its type.\n\nFrom-SVN: r216150", "tree": {"sha": "0ad6305f1184964cd9f3873141578db39f38c54c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0ad6305f1184964cd9f3873141578db39f38c54c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/daaf6209a4b83e4fdd8a0b744833399169e282e9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/daaf6209a4b83e4fdd8a0b744833399169e282e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/daaf6209a4b83e4fdd8a0b744833399169e282e9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/daaf6209a4b83e4fdd8a0b744833399169e282e9/comments", "author": null, "committer": null, "parents": [{"sha": "01d6452fe545c30b8f9c9cb1a270d923aa572848", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01d6452fe545c30b8f9c9cb1a270d923aa572848", "html_url": "https://github.com/Rust-GCC/gccrs/commit/01d6452fe545c30b8f9c9cb1a270d923aa572848"}], "stats": {"total": 24, "additions": 24, "deletions": 0}, "files": [{"sha": "36b5abb71c63dc77988341adf6ef5185fee3fddf", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daaf6209a4b83e4fdd8a0b744833399169e282e9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daaf6209a4b83e4fdd8a0b744833399169e282e9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=daaf6209a4b83e4fdd8a0b744833399169e282e9", "patch": "@@ -1,3 +1,9 @@\n+2014-10-13  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\tPR tree-optimization/62127\n+\t* tree.c (remap_type_1): When remapping array, remap\n+\talso its type.\n+\n 2014-10-13  Christophe Lyon  <christophe.lyon@linaro.org>\n \n \t* Makefile.in: (check-%): Update comment, as RUNTESTFLAGS no"}, {"sha": "c1dce8b89a4c7611a9468610094592af92fd3ef5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daaf6209a4b83e4fdd8a0b744833399169e282e9/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daaf6209a4b83e4fdd8a0b744833399169e282e9/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=daaf6209a4b83e4fdd8a0b744833399169e282e9", "patch": "@@ -1,3 +1,8 @@\n+2014-10-13  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\tPR tree-optimization/62127\n+\t* g++.dg/torture/pr62127.C: New testcase.\n+\n 2014-09-19  Marat Zakirov  <m.zakirov@samsung.com>\n \n \t* c-c++-common/asan/bitfield-5.c: New test."}, {"sha": "7b83a264413c060bf16ac57482e1cfe726b98b3b", "filename": "gcc/testsuite/g++.dg/torture/pr62127.C", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daaf6209a4b83e4fdd8a0b744833399169e282e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr62127.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daaf6209a4b83e4fdd8a0b744833399169e282e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr62127.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr62127.C?ref=daaf6209a4b83e4fdd8a0b744833399169e282e9", "patch": "@@ -0,0 +1,11 @@\n+// { dg-do compile }\n+struct A\n+{\n+  A(int);\n+};\n+\n+A::A(int i)\n+{\n+  int x[1][i];\n+  x[0][0] = 0;\n+}"}, {"sha": "a817989200e7fa2f4a0e0acdfc318bf9ddb37a59", "filename": "gcc/tree-inline.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daaf6209a4b83e4fdd8a0b744833399169e282e9/gcc%2Ftree-inline.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daaf6209a4b83e4fdd8a0b744833399169e282e9/gcc%2Ftree-inline.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-inline.c?ref=daaf6209a4b83e4fdd8a0b744833399169e282e9", "patch": "@@ -496,6 +496,8 @@ remap_type_1 (tree type, copy_body_data *id)\n       if (TYPE_MAIN_VARIANT (new_tree) != new_tree\n \t  && TREE_TYPE (type) == TREE_TYPE (TYPE_MAIN_VARIANT (type)))\n \tTREE_TYPE (new_tree) = TREE_TYPE (TYPE_MAIN_VARIANT (new_tree));\n+      else\n+\tTREE_TYPE (new_tree) = remap_type (TREE_TYPE (new_tree), id);\n \n       if (TYPE_MAIN_VARIANT (new_tree) != new_tree)\n \t{"}]}