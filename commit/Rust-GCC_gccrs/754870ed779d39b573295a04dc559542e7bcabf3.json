{"sha": "754870ed779d39b573295a04dc559542e7bcabf3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzU0ODcwZWQ3NzlkMzliNTczMjk1YTA0ZGM1NTk1NDJlN2JjYWJmMw==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2012-04-11T14:04:00Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2012-04-11T14:04:00Z"}, "message": "re PR middle-end/52621 (ICE with -O3 -march=opteron in initialize_matrix_A, at tree-data-ref.c:1964)\n\n2012-04-11  Richard Guenther  <rguenther@suse.de>\n\n\tPR middle-end/52621\n\t* tree-chrec.c (evolution_function_is_invariant_rec_p): Properly\n\tconsider loop nesting.\n\t(evolution_function_is_univariate_p): Properly check the remainder\n\tfor chrecs.\n\n\t* gfortran.dg/pr52621.f90: New testcase.\n\nFrom-SVN: r186321", "tree": {"sha": "2ef6199ab21d5100ae3c9462c2fefb73040fea00", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2ef6199ab21d5100ae3c9462c2fefb73040fea00"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/754870ed779d39b573295a04dc559542e7bcabf3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/754870ed779d39b573295a04dc559542e7bcabf3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/754870ed779d39b573295a04dc559542e7bcabf3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/754870ed779d39b573295a04dc559542e7bcabf3/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "405af656bcbddb0f655aa7744220478b80df09d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/405af656bcbddb0f655aa7744220478b80df09d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/405af656bcbddb0f655aa7744220478b80df09d7"}], "stats": {"total": 39, "additions": 39, "deletions": 0}, "files": [{"sha": "ed6beb1cfca88c78652569f7ae640522e54e884b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/754870ed779d39b573295a04dc559542e7bcabf3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/754870ed779d39b573295a04dc559542e7bcabf3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=754870ed779d39b573295a04dc559542e7bcabf3", "patch": "@@ -1,3 +1,11 @@\n+2012-04-11  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR middle-end/52621\n+\t* tree-chrec.c (evolution_function_is_invariant_rec_p): Properly\n+\tconsider loop nesting.\n+\t(evolution_function_is_univariate_p): Properly check the remainder\n+\tfor chrecs.\n+\n 2012-04-11  Richard Guenther  <rguenther@suse.de>\n \n \tPR middle-end/52918"}, {"sha": "ab04f984a1cc3349331951bbe5838cdb419645fb", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/754870ed779d39b573295a04dc559542e7bcabf3/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/754870ed779d39b573295a04dc559542e7bcabf3/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=754870ed779d39b573295a04dc559542e7bcabf3", "patch": "@@ -1,3 +1,8 @@\n+2012-04-11  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR middle-end/52621\n+\t* gfortran.dg/pr52621.f90: New testcase.\n+\n 2012-04-11  Richard Guenther  <rguenther@suse.de>\n \n \tPR middle-end/52918"}, {"sha": "d305e4db9b6255166e68171b78ad803e725488d6", "filename": "gcc/testsuite/gfortran.dg/pr52621.f90", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/754870ed779d39b573295a04dc559542e7bcabf3/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr52621.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/754870ed779d39b573295a04dc559542e7bcabf3/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr52621.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr52621.f90?ref=754870ed779d39b573295a04dc559542e7bcabf3", "patch": "@@ -0,0 +1,20 @@\n+! { dg-do compile }\n+! { dg-options \"-O2 -fprefetch-loop-arrays\" }\n+\n+      SUBROUTINE GHDSYM(IZ,IS,LMMAX,S,LMS,Y,L2M,DRL,NLAY2,K0,DCUT)!,\n+!\n+      COMPLEX Y(L2M,L2M),H(33),S(LMS)\n+      COMPLEX RU,CI,CZ,K0,FF,Z,Z1,Z2,Z3,ST\n+!\n+      DO 140 KK=1,4\n+            DO 130 L=1,L2M\n+               L1=L*L-L\n+               DO 120 M=1,L\n+                  IPM=L1+M\n+                  IMM=L1-M+2\n+                  S(IPM)=S(IPM)+Z3*Y(L,M)\n+                  IF (M.NE.1) S(IMM)=S(IMM)+Z3*Y(M-1,L)*CSGN\n+120            CONTINUE\n+130         CONTINUE\n+140   CONTINUE\n+      END"}, {"sha": "38dca4ab1dd4924b5c50537fc525abe9f4363b42", "filename": "gcc/tree-chrec.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/754870ed779d39b573295a04dc559542e7bcabf3/gcc%2Ftree-chrec.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/754870ed779d39b573295a04dc559542e7bcabf3/gcc%2Ftree-chrec.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-chrec.c?ref=754870ed779d39b573295a04dc559542e7bcabf3", "patch": "@@ -1011,6 +1011,8 @@ evolution_function_is_invariant_rec_p (tree chrec, int loopnum)\n   if (TREE_CODE (chrec) == POLYNOMIAL_CHREC)\n     {\n       if (CHREC_VARIABLE (chrec) == (unsigned) loopnum\n+\t  || flow_loop_nested_p (get_loop (loopnum),\n+\t\t\t\t get_loop (CHREC_VARIABLE (chrec)))\n \t  || !evolution_function_is_invariant_rec_p (CHREC_RIGHT (chrec),\n \t\t\t\t\t\t     loopnum)\n \t  || !evolution_function_is_invariant_rec_p (CHREC_LEFT (chrec),\n@@ -1114,6 +1116,8 @@ evolution_function_is_univariate_p (const_tree chrec)\n \t  break;\n \n \tdefault:\n+\t  if (tree_contains_chrecs (CHREC_LEFT (chrec), NULL))\n+\t    return false;\n \t  break;\n \t}\n \n@@ -1127,6 +1131,8 @@ evolution_function_is_univariate_p (const_tree chrec)\n \t  break;\n \n \tdefault:\n+\t  if (tree_contains_chrecs (CHREC_RIGHT (chrec), NULL))\n+\t    return false;\n \t  break;\n \t}\n "}]}