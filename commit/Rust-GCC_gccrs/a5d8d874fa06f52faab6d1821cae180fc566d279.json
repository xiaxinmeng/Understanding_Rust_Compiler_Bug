{"sha": "a5d8d874fa06f52faab6d1821cae180fc566d279", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTVkOGQ4NzRmYTA2ZjUyZmFhYjZkMTgyMWNhZTE4MGZjNTY2ZDI3OQ==", "commit": {"author": {"name": "Zdenek Dvorak", "email": "rakdver@atrey.karlin.mff.cuni.cz", "date": "2003-11-23T21:06:43Z"}, "committer": {"name": "Zdenek Dvorak", "email": "rakdver@gcc.gnu.org", "date": "2003-11-23T21:06:43Z"}, "message": "* genattrtab.c (count_sub_rtxs): Removed.\n\nFrom-SVN: r73860", "tree": {"sha": "e0abd23d571a08d2f1a551228e2a92da203a406d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e0abd23d571a08d2f1a551228e2a92da203a406d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a5d8d874fa06f52faab6d1821cae180fc566d279", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a5d8d874fa06f52faab6d1821cae180fc566d279", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a5d8d874fa06f52faab6d1821cae180fc566d279", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a5d8d874fa06f52faab6d1821cae180fc566d279/comments", "author": null, "committer": null, "parents": [{"sha": "8c2a5582fb57306c48c39462476dcca6a5d92335", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c2a5582fb57306c48c39462476dcca6a5d92335", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8c2a5582fb57306c48c39462476dcca6a5d92335"}], "stats": {"total": 64, "additions": 4, "deletions": 60}, "files": [{"sha": "0dccce8f542779a439ff9e85b69a14c6a5d39c9c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5d8d874fa06f52faab6d1821cae180fc566d279/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5d8d874fa06f52faab6d1821cae180fc566d279/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a5d8d874fa06f52faab6d1821cae180fc566d279", "patch": "@@ -1,3 +1,7 @@\n+2003-11-03  Zdenek Dvorak  <rakdver@atrey.karlin.mff.cuni.cz>\n+\n+\t* genattrtab.c (count_sub_rtxs): Removed.\n+\n 2003-11-23  Richard Earnshaw  <rearnsha@arm.com>\n \n \t* recog.c (preprocess_constraints): Only zero those elements of"}, {"sha": "f90e2545c5a6f6d6e0e031ec674893a8b389df9a", "filename": "gcc/genattrtab.c", "status": "modified", "additions": 0, "deletions": 60, "changes": 60, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5d8d874fa06f52faab6d1821cae180fc566d279/gcc%2Fgenattrtab.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5d8d874fa06f52faab6d1821cae180fc566d279/gcc%2Fgenattrtab.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgenattrtab.c?ref=a5d8d874fa06f52faab6d1821cae180fc566d279", "patch": "@@ -407,7 +407,6 @@ static rtx test_for_current_value (struct dimension *, int);\n static rtx simplify_with_current_value (rtx, struct dimension *, int);\n static rtx simplify_with_current_value_aux (rtx);\n static void clear_struct_flag (rtx);\n-static int count_sub_rtxs    (rtx, int);\n static void remove_insn_ent  (struct attr_value *, struct insn_ent *);\n static void insert_insn_ent  (struct attr_value *, struct insn_ent *);\n static rtx insert_right_side\t(enum rtx_code, rtx, rtx, int, int);\n@@ -3954,65 +3953,6 @@ clear_struct_flag (rtx x)\n     }\n }\n \n-/* Return the number of RTX objects making up the expression X.\n-   But if we count more than MAX objects, stop counting.  */\n-\n-static int\n-count_sub_rtxs (rtx x, int max)\n-{\n-  int i;\n-  int j;\n-  enum rtx_code code;\n-  const char *fmt;\n-  int total = 0;\n-\n-  code = GET_CODE (x);\n-\n-  switch (code)\n-    {\n-    case REG:\n-    case QUEUED:\n-    case CONST_INT:\n-    case CONST_DOUBLE:\n-    case CONST_VECTOR:\n-    case SYMBOL_REF:\n-    case CODE_LABEL:\n-    case PC:\n-    case CC0:\n-    case EQ_ATTR:\n-    case ATTR_FLAG:\n-      return 1;\n-\n-    default:\n-      break;\n-    }\n-\n-  /* Compare the elements.  If any pair of corresponding elements\n-     fail to match, return 0 for the whole things.  */\n-\n-  fmt = GET_RTX_FORMAT (code);\n-  for (i = GET_RTX_LENGTH (code) - 1; i >= 0; i--)\n-    {\n-      if (total >= max)\n-\treturn total;\n-\n-      switch (fmt[i])\n-\t{\n-\tcase 'V':\n-\tcase 'E':\n-\t  for (j = 0; j < XVECLEN (x, i); j++)\n-\t    total += count_sub_rtxs (XVECEXP (x, i, j), max);\n-\t  break;\n-\n-\tcase 'e':\n-\t  total += count_sub_rtxs (XEXP (x, i), max);\n-\t  break;\n-\t}\n-    }\n-  return total;\n-\n-}\n-\n /* Create table entries for DEFINE_ATTR.  */\n \n static void"}]}