{"sha": "14a9206d0c7c72a4df645e340cf12bfbaa1b1115", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTRhOTIwNmQwYzdjNzJhNGRmNjQ1ZTM0MGNmMTJiZmJhYTFiMTExNQ==", "commit": {"author": {"name": "Martin Sebor", "email": "msebor@redhat.com", "date": "2018-11-23T16:12:03Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2018-11-23T16:12:03Z"}, "message": "PR libstdc++/65229 fix pretty printer for std::bitset<0>\n\n2018-11-23  Martin Sebor  <msebor@redhat.com>\n\t    Jonathan Wakely  <jwakely@redhat.com>\n\n\tPR libstdc++/65229\n\t* python/libstdcxx/v6/printers.py (StdBitsetPrinter): Handle\n\texception thrown for std::bitset<0>.\n\t* testsuite/libstdc++-prettyprinters/simple.cc: Test std::bitset<0>.\n\nCo-Authored-By: Jonathan Wakely <jwakely@redhat.com>\n\nFrom-SVN: r266409", "tree": {"sha": "df73e1a0dff863565c59a655d584aebcd47eb159", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/df73e1a0dff863565c59a655d584aebcd47eb159"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/14a9206d0c7c72a4df645e340cf12bfbaa1b1115", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14a9206d0c7c72a4df645e340cf12bfbaa1b1115", "html_url": "https://github.com/Rust-GCC/gccrs/commit/14a9206d0c7c72a4df645e340cf12bfbaa1b1115", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14a9206d0c7c72a4df645e340cf12bfbaa1b1115/comments", "author": {"login": "msebor", "id": 381149, "node_id": "MDQ6VXNlcjM4MTE0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/381149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msebor", "html_url": "https://github.com/msebor", "followers_url": "https://api.github.com/users/msebor/followers", "following_url": "https://api.github.com/users/msebor/following{/other_user}", "gists_url": "https://api.github.com/users/msebor/gists{/gist_id}", "starred_url": "https://api.github.com/users/msebor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msebor/subscriptions", "organizations_url": "https://api.github.com/users/msebor/orgs", "repos_url": "https://api.github.com/users/msebor/repos", "events_url": "https://api.github.com/users/msebor/events{/privacy}", "received_events_url": "https://api.github.com/users/msebor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "11aa881f9847bb1ae162aabf243a5c43f7a0f48f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11aa881f9847bb1ae162aabf243a5c43f7a0f48f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/11aa881f9847bb1ae162aabf243a5c43f7a0f48f"}], "stats": {"total": 25, "additions": 21, "deletions": 4}, "files": [{"sha": "6898733042d7a9b6ef9b790e202ee7bd71031af4", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14a9206d0c7c72a4df645e340cf12bfbaa1b1115/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14a9206d0c7c72a4df645e340cf12bfbaa1b1115/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=14a9206d0c7c72a4df645e340cf12bfbaa1b1115", "patch": "@@ -1,3 +1,11 @@\n+2018-11-23  Martin Sebor  <msebor@redhat.com>\n+\t    Jonathan Wakely  <jwakely@redhat.com>\n+\n+\tPR libstdc++/65229\n+\t* python/libstdcxx/v6/printers.py (StdBitsetPrinter): Handle\n+\texception thrown for std::bitset<0>.\n+\t* testsuite/libstdc++-prettyprinters/simple.cc: Test std::bitset<0>.\n+\n 2018-11-23  Jonathan Wakely  <jwakely@redhat.com>\n \n \tPR libstdc++/87308 (partial)"}, {"sha": "7c3c9d00ef309d32a26d44c297f92a6841f681fa", "filename": "libstdc++-v3/python/libstdcxx/v6/printers.py", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14a9206d0c7c72a4df645e340cf12bfbaa1b1115/libstdc%2B%2B-v3%2Fpython%2Flibstdcxx%2Fv6%2Fprinters.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14a9206d0c7c72a4df645e340cf12bfbaa1b1115/libstdc%2B%2B-v3%2Fpython%2Flibstdcxx%2Fv6%2Fprinters.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fpython%2Flibstdcxx%2Fv6%2Fprinters.py?ref=14a9206d0c7c72a4df645e340cf12bfbaa1b1115", "patch": "@@ -702,7 +702,13 @@ def to_string (self):\n         return '%s' % (self.typename)\n \n     def children (self):\n-        words = self.val['_M_w']\n+        try:\n+            # An empty bitset may not have any members which will\n+            # result in an exception being thrown.\n+            words = self.val['_M_w']\n+        except:\n+            return []\n+\n         wtype = words.type\n \n         # The _M_w member can be either an unsigned long, or an\n@@ -712,7 +718,7 @@ def children (self):\n             tsize = wtype.target ().sizeof\n         else:\n             words = [words]\n-            tsize = wtype.sizeof \n+            tsize = wtype.sizeof\n \n         nwords = wtype.sizeof / tsize\n         result = []\n@@ -848,7 +854,7 @@ def __init__ (self, hash):\n             self.node = self.buckets[self.bucket]\n             if self.node:\n                 break\n-            self.bucket = self.bucket + 1        \n+            self.bucket = self.bucket + 1\n \n     def __iter__ (self):\n         return self\n@@ -951,7 +957,6 @@ def children (self):\n         data = self.flatten (imap (self.format_one, StdHashtableIterator (self.hashtable())))\n         # Zip the two iterators together.\n         return izip (counter, data)\n-        \n \n     def display_hint (self):\n         return 'map'"}, {"sha": "088c65dfe48456721d7f957297ede377bdc6306d", "filename": "libstdc++-v3/testsuite/libstdc++-prettyprinters/simple.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14a9206d0c7c72a4df645e340cf12bfbaa1b1115/libstdc%2B%2B-v3%2Ftestsuite%2Flibstdc%2B%2B-prettyprinters%2Fsimple.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14a9206d0c7c72a4df645e340cf12bfbaa1b1115/libstdc%2B%2B-v3%2Ftestsuite%2Flibstdc%2B%2B-prettyprinters%2Fsimple.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Flibstdc%2B%2B-prettyprinters%2Fsimple.cc?ref=14a9206d0c7c72a4df645e340cf12bfbaa1b1115", "patch": "@@ -41,6 +41,10 @@ main()\n   std::string str = \"zardoz\";\n // { dg-final { note-test str \"\\\"zardoz\\\"\" } }\n \n+  // PR 65229\n+  std::bitset<0> bs0;\n+// { dg-final { note-test bs0 {std::bitset} } }\n+\n   std::bitset<10> bs;\n   bs[0] = 1;\n   bs[5] = 1;"}]}