{"sha": "15652f68ab4668a5164c708f18e1248b790203a6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTU2NTJmNjhhYjQ2NjhhNTE2NGM3MDhmMThlMTI0OGI3OTAyMDNhNg==", "commit": {"author": {"name": "Vladimir Makarov", "email": "vmakarov@redhat.com", "date": "2012-10-25T04:19:43Z"}, "committer": {"name": "Vladimir Makarov", "email": "vmakarov@gcc.gnu.org", "date": "2012-10-25T04:19:43Z"}, "message": "re PR bootstrap/55068 (AIX bootstrap in push_reload() after LRA merge)\n\n2012-10-24  Vladimir Makarov  <vmakarov@redhat.com>\n\n\tPR bootstrap/55068\n\tPR regression/55050\n\t* ira.c (setup_reg_renumber): Fix assert.\n\t* ira-emit.c (emit_move_list): Update equivalences only for LRA.\n\nFrom-SVN: r192797", "tree": {"sha": "4666b7b7ccbfe20c316af08a111d63b5dd7767ff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4666b7b7ccbfe20c316af08a111d63b5dd7767ff"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/15652f68ab4668a5164c708f18e1248b790203a6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15652f68ab4668a5164c708f18e1248b790203a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/15652f68ab4668a5164c708f18e1248b790203a6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15652f68ab4668a5164c708f18e1248b790203a6/comments", "author": {"login": "vnmakarov", "id": 9855671, "node_id": "MDQ6VXNlcjk4NTU2NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/9855671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vnmakarov", "html_url": "https://github.com/vnmakarov", "followers_url": "https://api.github.com/users/vnmakarov/followers", "following_url": "https://api.github.com/users/vnmakarov/following{/other_user}", "gists_url": "https://api.github.com/users/vnmakarov/gists{/gist_id}", "starred_url": "https://api.github.com/users/vnmakarov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vnmakarov/subscriptions", "organizations_url": "https://api.github.com/users/vnmakarov/orgs", "repos_url": "https://api.github.com/users/vnmakarov/repos", "events_url": "https://api.github.com/users/vnmakarov/events{/privacy}", "received_events_url": "https://api.github.com/users/vnmakarov/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6f28886030623a25a73640e71ae3c5f31b406f70", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f28886030623a25a73640e71ae3c5f31b406f70", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f28886030623a25a73640e71ae3c5f31b406f70"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "998be31a421b753abd651feb60ed149150c73929", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15652f68ab4668a5164c708f18e1248b790203a6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15652f68ab4668a5164c708f18e1248b790203a6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=15652f68ab4668a5164c708f18e1248b790203a6", "patch": "@@ -1,3 +1,10 @@\n+2012-10-24  Vladimir Makarov  <vmakarov@redhat.com>\n+\n+\tPR bootstrap/55068\n+\tPR regression/55050\n+\t* ira.c (setup_reg_renumber): Fix assert.\n+\t* ira-emit.c (emit_move_list): Update equivalences only for LRA.\n+\n 2012-10-24  Vladimir Makarov  <vmakarov@redhat.com>\n \n \tPR bootstrap/55067"}, {"sha": "1e7f354102e6bcfde3af020ae7be815b2430af45", "filename": "gcc/ira-emit.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15652f68ab4668a5164c708f18e1248b790203a6/gcc%2Fira-emit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15652f68ab4668a5164c708f18e1248b790203a6/gcc%2Fira-emit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fira-emit.c?ref=15652f68ab4668a5164c708f18e1248b790203a6", "patch": "@@ -947,7 +947,8 @@ emit_move_list (move_t list, int freq)\n \t\t= gen_rtx_INSN_LIST (VOIDmode, insn, reg_equiv_init (regno));\n \t    }\n \t}\n-      ira_update_equiv_info_by_shuffle_insn (to_regno, from_regno, list->insn);\n+      if (ira_use_lra_p)\n+\tira_update_equiv_info_by_shuffle_insn (to_regno, from_regno, list->insn);\n       emit_insn (list->insn);\n       mode = ALLOCNO_MODE (list->to);\n       aclass = ALLOCNO_CLASS (list->to);"}, {"sha": "9a8b098cf4846b305eb36c08502ad7a799cfd927", "filename": "gcc/ira.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15652f68ab4668a5164c708f18e1248b790203a6/gcc%2Fira.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15652f68ab4668a5164c708f18e1248b790203a6/gcc%2Fira.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fira.c?ref=15652f68ab4668a5164c708f18e1248b790203a6", "patch": "@@ -1989,6 +1989,7 @@ setup_reg_renumber (void)\n \t      ira_assert (!optimize || flag_caller_saves\n \t\t\t  || (ALLOCNO_CALLS_CROSSED_NUM (a)\n \t\t\t      == ALLOCNO_CHEAP_CALLS_CROSSED_NUM (a))\n+\t\t\t  || regno >= ira_reg_equiv_len\n \t\t\t  || ira_equiv_no_lvalue_p (regno));\n \t      caller_save_needed = 1;\n \t    }"}]}