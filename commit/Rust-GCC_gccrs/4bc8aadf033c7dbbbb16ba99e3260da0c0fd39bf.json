{"sha": "4bc8aadf033c7dbbbb16ba99e3260da0c0fd39bf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGJjOGFhZGYwMzNjN2RiYmJiMTZiYTk5ZTMyNjBkYTBjMGZkMzliZg==", "commit": {"author": {"name": "Jose E. Marchesi", "email": "jose.marchesi@oracle.com", "date": "2019-09-09T09:44:23Z"}, "committer": {"name": "Jose E. Marchesi", "email": "jemarch@gcc.gnu.org", "date": "2019-09-09T09:44:23Z"}, "message": "opt-functions.awk: fix comparison of limit, begin and end\n   \nThe function integer_range_info makes sure that, if provided, the\ninitial value fills in the especified range.  However, it is necessary\nto convert the values to a numerical context before comparing, to make\nsure awk is using arithmetical order and not lexicographical order.\n    \ngcc/ChangeLog:\n    \n      * opt-functions.awk (integer_range_info): Make sure values are in\n      numeric context before operating with them.\n\nFrom-SVN: r275503", "tree": {"sha": "a72d02aba934c07b325235d29ee1fa348b77e9e3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a72d02aba934c07b325235d29ee1fa348b77e9e3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4bc8aadf033c7dbbbb16ba99e3260da0c0fd39bf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4bc8aadf033c7dbbbb16ba99e3260da0c0fd39bf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4bc8aadf033c7dbbbb16ba99e3260da0c0fd39bf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4bc8aadf033c7dbbbb16ba99e3260da0c0fd39bf/comments", "author": {"login": "jemarch", "id": 7061875, "node_id": "MDQ6VXNlcjcwNjE4NzU=", "avatar_url": "https://avatars.githubusercontent.com/u/7061875?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jemarch", "html_url": "https://github.com/jemarch", "followers_url": "https://api.github.com/users/jemarch/followers", "following_url": "https://api.github.com/users/jemarch/following{/other_user}", "gists_url": "https://api.github.com/users/jemarch/gists{/gist_id}", "starred_url": "https://api.github.com/users/jemarch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jemarch/subscriptions", "organizations_url": "https://api.github.com/users/jemarch/orgs", "repos_url": "https://api.github.com/users/jemarch/repos", "events_url": "https://api.github.com/users/jemarch/events{/privacy}", "received_events_url": "https://api.github.com/users/jemarch/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b7b1f65711bdea483481c475fa31634ee091068f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7b1f65711bdea483481c475fa31634ee091068f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7b1f65711bdea483481c475fa31634ee091068f"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "a8c3a2a2aab4a44bc0442941310e46873b7e3d79", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4bc8aadf033c7dbbbb16ba99e3260da0c0fd39bf/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4bc8aadf033c7dbbbb16ba99e3260da0c0fd39bf/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4bc8aadf033c7dbbbb16ba99e3260da0c0fd39bf", "patch": "@@ -1,3 +1,8 @@\n+2019-09-09  Jose E. Marchesi  <jose.marchesi@oracle.com>\n+\n+\t* opt-functions.awk (integer_range_info): Make sure values are in\n+\tnumeric context before operating with them.\n+\n 2019-09-08  Segher Boessenkool  <segher@kernel.crashing.org>\n \n \t* genemit.c (gen_split): Print the filename and line number where the"}, {"sha": "c1da80c648c31bbbef2724388b9e1ec33e0199a7", "filename": "gcc/opt-functions.awk", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4bc8aadf033c7dbbbb16ba99e3260da0c0fd39bf/gcc%2Fopt-functions.awk", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4bc8aadf033c7dbbbb16ba99e3260da0c0fd39bf/gcc%2Fopt-functions.awk", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fopt-functions.awk?ref=4bc8aadf033c7dbbbb16ba99e3260da0c0fd39bf", "patch": "@@ -346,9 +346,10 @@ function search_var_name(name, opt_numbers, opts, flags, n_opts)\n function integer_range_info(range_option, init, option)\n {\n     if (range_option != \"\") {\n-\tstart = nth_arg(0, range_option);\n-\tend = nth_arg(1, range_option);\n-\tif (init != \"\" && init != \"-1\" && (init < start || init > end))\n+\tival = init + 0;\n+\tstart = nth_arg(0, range_option) + 0;\n+\tend = nth_arg(1, range_option) + 0;\n+\tif (init != \"\" && init != \"-1\" && (ival < start || ival > end))\n \t  print \"#error initial value \" init \" of '\" option \"' must be in range [\" start \",\" end \"]\"\n \treturn start \", \" end\n     }"}]}