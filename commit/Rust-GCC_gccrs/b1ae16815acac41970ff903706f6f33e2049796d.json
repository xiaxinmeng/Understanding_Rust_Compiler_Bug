{"sha": "b1ae16815acac41970ff903706f6f33e2049796d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjFhZTE2ODE1YWNhYzQxOTcwZmY5MDM3MDZmNmYzM2UyMDQ5Nzk2ZA==", "commit": {"author": {"name": "Martin Jambor", "email": "mjambor@suse.cz", "date": "2008-07-02T09:47:09Z"}, "committer": {"name": "Martin Jambor", "email": "jamborm@gcc.gnu.org", "date": "2008-07-02T09:47:09Z"}, "message": "tree-switch-conversion.c: Corrected various comments and whitespace issues\n\n2008-07-02  Martin Jambor  <mjambor@suse.cz>\n\n\t* tree-switch-conversion.c: Corrected various comments and\n\twhitespace issues\n\t(build_constructors): Fixed minor formatting mistakes.\n\n\t* invoke.texi (Optimize Options): Corrected the\n\tswitch-conversion-max-branch-ratio parameter.\n\nFrom-SVN: r137347", "tree": {"sha": "1121918173e461c2803b7a21098c7a36c920e1f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1121918173e461c2803b7a21098c7a36c920e1f4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b1ae16815acac41970ff903706f6f33e2049796d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1ae16815acac41970ff903706f6f33e2049796d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b1ae16815acac41970ff903706f6f33e2049796d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1ae16815acac41970ff903706f6f33e2049796d/comments", "author": {"login": "jamborm", "id": 2180070, "node_id": "MDQ6VXNlcjIxODAwNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2180070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamborm", "html_url": "https://github.com/jamborm", "followers_url": "https://api.github.com/users/jamborm/followers", "following_url": "https://api.github.com/users/jamborm/following{/other_user}", "gists_url": "https://api.github.com/users/jamborm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamborm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamborm/subscriptions", "organizations_url": "https://api.github.com/users/jamborm/orgs", "repos_url": "https://api.github.com/users/jamborm/repos", "events_url": "https://api.github.com/users/jamborm/events{/privacy}", "received_events_url": "https://api.github.com/users/jamborm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "5bc4fa7cd233b51763a33bbc22c2eb55e218fbac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5bc4fa7cd233b51763a33bbc22c2eb55e218fbac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5bc4fa7cd233b51763a33bbc22c2eb55e218fbac"}], "stats": {"total": 30, "additions": 20, "deletions": 10}, "files": [{"sha": "e50b5e478f6a5f917b526de3a06561b1981f408f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b1ae16815acac41970ff903706f6f33e2049796d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b1ae16815acac41970ff903706f6f33e2049796d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b1ae16815acac41970ff903706f6f33e2049796d", "patch": "@@ -1,3 +1,12 @@\n+2008-07-02  Martin Jambor  <mjambor@suse.cz>\n+\n+\t* tree-switch-conversion.c: Corrected various comments and\n+\twhitespace issues\n+\t(build_constructors): Fixed minor formatting mistakes.\n+\n+\t* invoke.texi (Optimize Options): Corrected the\n+\tswitch-conversion-max-branch-ratio parameter.\n+\n 2008-07-02  Mark Shinwell  <shinwell@codesourcery.com>\n \n \t* final.c (asm_insn_count): Return zero for an empty asm body."}, {"sha": "31d931e49605d542a06b715c4cd2d9e89db02ade", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b1ae16815acac41970ff903706f6f33e2049796d/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b1ae16815acac41970ff903706f6f33e2049796d/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=b1ae16815acac41970ff903706f6f33e2049796d", "patch": "@@ -7352,7 +7352,7 @@ set this value to 0 to disable canonical types.\n \n @item switch-conversion-max-branch-ratio\n Switch initialization conversion will refuse to create arrays that are\n-bigger than @option{cswtch-max-branch-ratio} times the number of\n+bigger than @option{switch-conversion-max-branch-ratio} times the number of\n branches in the switch.\n \n @item max-partial-antic-length"}, {"sha": "91551ea10d2713d7de399b4e6fcb97ad2ffb7f3e", "filename": "gcc/tree-switch-conversion.c", "status": "modified", "additions": 10, "deletions": 9, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b1ae16815acac41970ff903706f6f33e2049796d/gcc%2Ftree-switch-conversion.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b1ae16815acac41970ff903706f6f33e2049796d/gcc%2Ftree-switch-conversion.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-switch-conversion.c?ref=b1ae16815acac41970ff903706f6f33e2049796d", "patch": "@@ -107,7 +107,7 @@ struct switch_conv_info\n      cases.  */\n   tree range_min;\n \n-  /* The difference of between the above two numbers, i.e. The size of the array\n+  /* The difference between the above two numbers, i.e. The size of the array\n      that would have to be created by the transformation.  */\n   tree range_size;\n \n@@ -121,7 +121,7 @@ struct switch_conv_info\n   /* Number of phi nodes in the final bb (that we'll be replacing).  */\n   int phi_count;\n \n-  /* Array of default values, n the same order as phi nodes.  */\n+  /* Array of default values, in the same order as phi nodes.  */\n   tree *default_values;\n \n   /* Constructors of new static arrays.  */\n@@ -144,7 +144,8 @@ struct switch_conv_info\n   /* Combined count of all other (non-default) edges in the replaced switch.  */\n   gcov_type other_count;\n \n-  /* The last load statement that loads a temporary from a new static array.  */\n+  /* The first load statement that loads a temporary from a new static array.\n+   */\n   tree arr_ref_first;\n \n   /* The last load statement that loads a temporary from a new static array.  */\n@@ -299,7 +300,7 @@ check_final_bb (void)\n \t      && !is_gimple_min_invariant (PHI_ARG_ELT (phi, i).def))\n \t    {\n \t      info.reason = \"   Non-invariant value from a case\\n\";\n-\t      return false; \t\t/* non invariant argument */\n+\t      return false; /* non invariant argument */\n \t    }\n \t}\n     }\n@@ -409,13 +410,13 @@ build_constructors (tree swtch)\n \n \t  pos = int_const_binop (PLUS_EXPR, pos, integer_one_node, 0);\n \t}\n-      gcc_assert (tree_int_cst_equal (pos, CASE_LOW(cs)));\n+      gcc_assert (tree_int_cst_equal (pos, CASE_LOW (cs)));\n \n       j = 0;\n       if (CASE_HIGH (cs))\n \thigh = CASE_HIGH (cs);\n       else\n-\thigh = CASE_LOW(cs);\n+\thigh = CASE_LOW (cs);\n       for (phi = phi_nodes (info.final_bb); phi; phi = PHI_CHAIN (phi))\n \t{\n \t  tree val = PHI_ARG_DEF_FROM_EDGE (phi, e);\n@@ -793,7 +794,7 @@ process_switch (tree swtch)\n   build_constructors (swtch);\n \n   build_arrays (swtch); /* Build the static arrays and assignments.   */\n-  gen_inbound_check (swtch); \t/* Build the bounds check.  */\n+  gen_inbound_check (swtch);\t/* Build the bounds check.  */\n \n   /* Cleanup:  */\n   free_temp_arrays ();\n@@ -862,12 +863,12 @@ struct gimple_opt_pass pass_convert_switch =\n  {\n   GIMPLE_PASS,\n   \"switchconv\",\t\t\t\t/* name */\n-  switchconv_gate,        \t\t/* gate */\n+  switchconv_gate,\t\t\t/* gate */\n   do_switchconv,\t\t\t/* execute */\n   NULL,\t\t\t\t\t/* sub */\n   NULL,\t\t\t\t\t/* next */\n   0,\t\t\t\t\t/* static_pass_number */\n-  0,\t\t\t        \t/* tv_id */\n+  0,\t\t\t\t\t/* tv_id */\n   PROP_cfg | PROP_ssa,\t                /* properties_required */\n   0,\t\t\t\t\t/* properties_provided */\n   0,\t\t\t\t\t/* properties_destroyed */"}]}