{"sha": "767bb4e896d51ddb4aa6b44663f52f8be9d0f052", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzY3YmI0ZTg5NmQ1MWRkYjRhYTZiNDQ2NjNmNTJmOGJlOWQwZjA1Mg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2011-08-02T07:48:59Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2011-08-02T07:48:59Z"}, "message": "[multiple changes]\n\n2011-08-02  Robert Dewar  <dewar@adacore.com>\n\n\t* par-ch10.adb: Minor code reorganization (use Nkind_In).\n\n2011-08-02  Ed Schonberg  <schonberg@adacore.com>\n\n\t* par-ch9.adb: save location of entry for proper error message.\n\nFrom-SVN: r177088", "tree": {"sha": "06749a59f6089a37e824cdbc898c258e53138c7e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/06749a59f6089a37e824cdbc898c258e53138c7e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/767bb4e896d51ddb4aa6b44663f52f8be9d0f052", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/767bb4e896d51ddb4aa6b44663f52f8be9d0f052", "html_url": "https://github.com/Rust-GCC/gccrs/commit/767bb4e896d51ddb4aa6b44663f52f8be9d0f052", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/767bb4e896d51ddb4aa6b44663f52f8be9d0f052/comments", "author": null, "committer": null, "parents": [{"sha": "4ac2477e65c5b506eda0f3cef1696478270a1f97", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ac2477e65c5b506eda0f3cef1696478270a1f97", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4ac2477e65c5b506eda0f3cef1696478270a1f97"}], "stats": {"total": 56, "additions": 32, "deletions": 24}, "files": [{"sha": "e9e0cce10befb540ae2cb32bd25510039c2e410e", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/767bb4e896d51ddb4aa6b44663f52f8be9d0f052/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/767bb4e896d51ddb4aa6b44663f52f8be9d0f052/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=767bb4e896d51ddb4aa6b44663f52f8be9d0f052", "patch": "@@ -1,3 +1,11 @@\n+2011-08-02  Robert Dewar  <dewar@adacore.com>\n+\n+\t* par-ch10.adb: Minor code reorganization (use Nkind_In).\n+\n+2011-08-02  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* par-ch9.adb: save location of entry for proper error message.\n+\n 2011-08-02  Javier Miranda  <miranda@adacore.com>\n \n \t* sem_type.ads, sem_type.adb (Is_Ancestor): Addition of a new formal"}, {"sha": "6958209305c317ed46580dccc8b4e02e4c99b486", "filename": "gcc/ada/par-ch10.adb", "status": "modified", "additions": 23, "deletions": 24, "changes": 47, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/767bb4e896d51ddb4aa6b44663f52f8be9d0f052/gcc%2Fada%2Fpar-ch10.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/767bb4e896d51ddb4aa6b44663f52f8be9d0f052/gcc%2Fada%2Fpar-ch10.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fpar-ch10.adb?ref=767bb4e896d51ddb4aa6b44663f52f8be9d0f052", "patch": "@@ -508,9 +508,7 @@ package body Ch10 is\n \n       --  Another error from which it is hard to recover\n \n-      if Nkind (Unit_Node) = N_Subprogram_Body_Stub\n-        or else Nkind (Unit_Node) = N_Package_Body_Stub\n-      then\n+      if Nkind_In (Unit_Node, N_Subprogram_Body_Stub, N_Package_Body_Stub) then\n          Cunit_Error_Flag := True;\n          return Error;\n       end if;\n@@ -526,10 +524,10 @@ package body Ch10 is\n             Unit_Node := Specification (Unit_Node);\n          end if;\n \n-         if Nkind (Unit_Node) = N_Package_Declaration\n-           or else Nkind (Unit_Node) = N_Subprogram_Declaration\n-           or else Nkind (Unit_Node) = N_Subprogram_Body\n-           or else Nkind (Unit_Node) = N_Subprogram_Renaming_Declaration\n+         if Nkind_In (Unit_Node, N_Package_Declaration,\n+                                 N_Subprogram_Declaration,\n+                                 N_Subprogram_Body,\n+                                 N_Subprogram_Renaming_Declaration)\n          then\n             Unit_Node := Specification (Unit_Node);\n \n@@ -540,26 +538,27 @@ package body Ch10 is\n             end if;\n          end if;\n \n-         if Nkind (Unit_Node) = N_Task_Body\n-           or else Nkind (Unit_Node) = N_Protected_Body\n-           or else Nkind (Unit_Node) = N_Task_Type_Declaration\n-           or else Nkind (Unit_Node) = N_Protected_Type_Declaration\n-           or else Nkind (Unit_Node) = N_Single_Task_Declaration\n-           or else Nkind (Unit_Node) = N_Single_Protected_Declaration\n+         if Nkind_In (Unit_Node, N_Task_Body,\n+                                 N_Protected_Body,\n+                                 N_Task_Type_Declaration,\n+                                 N_Protected_Type_Declaration,\n+                                 N_Single_Task_Declaration,\n+                                 N_Single_Protected_Declaration)\n          then\n             Name_Node := Defining_Identifier (Unit_Node);\n \n-         elsif Nkind (Unit_Node) = N_Function_Instantiation\n-           or else Nkind (Unit_Node) = N_Function_Specification\n-           or else Nkind (Unit_Node) = N_Generic_Function_Renaming_Declaration\n-           or else Nkind (Unit_Node) = N_Generic_Package_Renaming_Declaration\n-           or else Nkind (Unit_Node) = N_Generic_Procedure_Renaming_Declaration\n-           or else Nkind (Unit_Node) = N_Package_Body\n-           or else Nkind (Unit_Node) = N_Package_Instantiation\n-           or else Nkind (Unit_Node) = N_Package_Renaming_Declaration\n-           or else Nkind (Unit_Node) = N_Package_Specification\n-           or else Nkind (Unit_Node) = N_Procedure_Instantiation\n-           or else Nkind (Unit_Node) = N_Procedure_Specification\n+         elsif Nkind_In (Unit_Node, N_Function_Instantiation,\n+                                    N_Function_Specification,\n+                                    N_Generic_Function_Renaming_Declaration,\n+                                    N_Generic_Package_Renaming_Declaration,\n+                                    N_Generic_Procedure_Renaming_Declaration)\n+          or else\n+               Nkind_In (Unit_Node, N_Package_Body,\n+                                    N_Package_Instantiation,\n+                                    N_Package_Renaming_Declaration,\n+                                    N_Package_Specification,\n+                                    N_Procedure_Instantiation,\n+                                    N_Procedure_Specification)\n          then\n             Name_Node := Defining_Unit_Name (Unit_Node);\n "}, {"sha": "82907746fa21035aee10b62610ed68103b9c4571", "filename": "gcc/ada/par-ch9.adb", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/767bb4e896d51ddb4aa6b44663f52f8be9d0f052/gcc%2Fada%2Fpar-ch9.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/767bb4e896d51ddb4aa6b44663f52f8be9d0f052/gcc%2Fada%2Fpar-ch9.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fpar-ch9.adb?ref=767bb4e896d51ddb4aa6b44663f52f8be9d0f052", "patch": "@@ -1063,6 +1063,7 @@ package body Ch9 is\n       Scope.Table (Scope.Last).Ecol := Start_Column;\n       Scope.Table (Scope.Last).Lreq := False;\n       Scope.Table (Scope.Last).Etyp := E_Name;\n+      Scope.Table (Scope.Last).Sloc := Token_Ptr;\n \n       Name_Node := P_Defining_Identifier;\n       Set_Defining_Identifier (Entry_Node, Name_Node);"}]}