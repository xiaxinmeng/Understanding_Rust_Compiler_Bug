{"sha": "ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2NjN2QxMWEwYmY2YjQ3Y2UyMmNkZjFkMGNhMzdlYjQ1NGVkYmU4Nw==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "1998-09-03T06:52:00Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "1998-09-03T06:52:00Z"}, "message": "aclocal.m4 (GCC_HEADER_STRING): New macro to detect if it is safe to include both string.h and strings.h together.\n\n        * aclocal.m4 (GCC_HEADER_STRING): New macro to detect if it is\n        safe to include both string.h and strings.h together.\n        (GCC_NEED_DECLARATION): Test STRING_WITH_STRINGS when deciding\n        which headers to search for function declarations.  Continue to\n        prefer string.h over strings.h when both are not acceptable.\n        * acconfig.h (STRING_WITH_STRINGS): Add stub.\n        * configure.in: Call GCC_HEADER_STRING.\n        * system.h: Test STRING_WITH_STRINGS when deciding which headers\n        to include.  Continue to prefer string.h over strings.h when both\n        are not acceptable.\n\nFrom-SVN: r22204", "tree": {"sha": "9e61a0b27315e42bdf092bca252dacbc8c333d21", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9e61a0b27315e42bdf092bca252dacbc8c333d21"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87/comments", "author": null, "committer": null, "parents": [{"sha": "127b53d549387b9c6842c304140ae307c952366d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/127b53d549387b9c6842c304140ae307c952366d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/127b53d549387b9c6842c304140ae307c952366d"}], "stats": {"total": 200, "additions": 144, "deletions": 56}, "files": [{"sha": "9bf581699081932cb2b21b3cb964fa3e0e763c74", "filename": "gcc/ChangeLog", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87", "patch": "@@ -1,3 +1,19 @@\n+Thu Sep  3 09:47:31 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* aclocal.m4 (GCC_HEADER_STRING): New macro to detect if it is\n+ \tsafe to include both string.h and strings.h together.\n+  \t(GCC_NEED_DECLARATION): Test STRING_WITH_STRINGS when deciding\n+ \twhich headers to search for function declarations.  Continue to\n+ \tprefer string.h over strings.h when both are not acceptable.\n+\n+\t* acconfig.h (STRING_WITH_STRINGS): Add stub.\n+\n+\t* configure.in: Call GCC_HEADER_STRING.\n+\n+\t* system.h: Test STRING_WITH_STRINGS when deciding which headers\n+ \tto include.  Continue to prefer string.h over strings.h when both\n+ \tare not acceptable.\n+\n Wed Sep  2 23:56:29 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>\n \n \t* config/sparc/sparc.c (output_double_int): If V9 and MEDLOW, do"}, {"sha": "4aac693381a0ba05d3142736e8a6ce49152b2817", "filename": "gcc/acconfig.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87/gcc%2Facconfig.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87/gcc%2Facconfig.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Facconfig.h?ref=ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87", "patch": "@@ -1,3 +1,6 @@\n+/* Define if you can safely include both <string.h> and <strings.h>.  */\n+#undef STRING_WITH_STRINGS\n+\n /* Define if printf supports \"%p\".  */\n #undef HAVE_PRINTF_PTR\n "}, {"sha": "ce44ba19eb9b581542aff95df9394c4748a085e0", "filename": "gcc/aclocal.m4", "status": "modified", "additions": 21, "deletions": 5, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87/gcc%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87/gcc%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Faclocal.m4?ref=ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87", "patch": "@@ -1,16 +1,32 @@\n+dnl See whether we can include both string.h and strings.h.\n+AC_DEFUN(GCC_HEADER_STRING,\n+[AC_CACHE_CHECK([whether string.h and strings.h may both be included],\n+  gcc_cv_header_string,\n+[AC_TRY_COMPILE([#include <string.h>\n+#include <strings.h>], , gcc_cv_header_string=yes, gcc_cv_header_string=no)])\n+if test $gcc_cv_header_string = yes; then\n+  AC_DEFINE(STRING_WITH_STRINGS)\n+fi\n+])\n+\n dnl See whether we need a declaration for a function.\n dnl GCC_NEED_DECLARATION(FUNCTION [, EXTRA-HEADER-FILES])\n AC_DEFUN(GCC_NEED_DECLARATION,\n [AC_MSG_CHECKING([whether $1 must be declared])\n AC_CACHE_VAL(gcc_cv_decl_needed_$1,\n [AC_TRY_COMPILE([\n #include <stdio.h>\n-#ifdef HAVE_STRING_H\n-#include <string.h>\n+#ifdef STRING_WITH_STRINGS\n+# include <string.h>\n+# include <strings.h>\n #else\n-#ifdef HAVE_STRINGS_H\n-#include <strings.h>\n-#endif\n+# ifdef HAVE_STRING_H\n+#  include <string.h>\n+# else\n+#  ifdef HAVE_STRINGS_H\n+#   include <strings.h>\n+#  endif\n+# endif\n #endif\n #ifdef HAVE_STDLIB_H\n #include <stdlib.h>"}, {"sha": "3cd381ae5a6d96a1688c8bbddc09d1e9ac2f35ae", "filename": "gcc/config.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87/gcc%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87/gcc%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.in?ref=ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87", "patch": "@@ -1,4 +1,7 @@\n /* config.in.  Generated automatically from configure.in by autoheader.  */\n+/* Define if you can safely include both <string.h> and <strings.h>.  */\n+#undef STRING_WITH_STRINGS\n+\n /* Define if printf supports \"%p\".  */\n #undef HAVE_PRINTF_PTR\n "}, {"sha": "1baa04d64bbebfea13b8f68fc03c326a3ffb46dc", "filename": "gcc/configure", "status": "modified", "additions": 92, "deletions": 48, "changes": 140, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87", "patch": "@@ -1613,21 +1613,55 @@ EOF\n \n fi\n \n+echo $ac_n \"checking whether string.h and strings.h may both be included\"\"... $ac_c\" 1>&6\n+echo \"configure:1618: checking whether string.h and strings.h may both be included\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_header_string'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 1623 \"configure\"\n+#include \"confdefs.h\"\n+#include <string.h>\n+#include <strings.h>\n+int main() {\n+\n+; return 0; }\n+EOF\n+if { (eval echo configure:1631: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  gcc_cv_header_string=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  gcc_cv_header_string=no\n+fi\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$gcc_cv_header_string\" 1>&6\n+if test $gcc_cv_header_string = yes; then\n+  cat >> confdefs.h <<\\EOF\n+#define STRING_WITH_STRINGS 1\n+EOF\n+\n+fi\n+\n for ac_hdr in limits.h stddef.h string.h strings.h stdlib.h time.h fcntl.h unistd.h stab.h sys/file.h sys/time.h sys/resource.h sys/param.h sys/times.h wait.h sys/wait.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:1621: checking for $ac_hdr\" >&5\n+echo \"configure:1655: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1626 \"configure\"\n+#line 1660 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1631: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1665: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1657,17 +1691,17 @@ done\n # Check for thread headers.\n ac_safe=`echo \"thread.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for thread.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1661: checking for thread.h\" >&5\n+echo \"configure:1695: checking for thread.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1666 \"configure\"\n+#line 1700 \"configure\"\n #include \"confdefs.h\"\n #include <thread.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1671: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1705: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1691,17 +1725,17 @@ fi\n \n ac_safe=`echo \"pthread.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for pthread.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1695: checking for pthread.h\" >&5\n+echo \"configure:1729: checking for pthread.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1700 \"configure\"\n+#line 1734 \"configure\"\n #include \"confdefs.h\"\n #include <pthread.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1705: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1739: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1727,20 +1761,20 @@ fi\n # See if the system preprocessor understands the ANSI C preprocessor\n # stringification operator.\n echo $ac_n \"checking whether cpp understands the stringify operator\"\"... $ac_c\" 1>&6\n-echo \"configure:1731: checking whether cpp understands the stringify operator\" >&5\n+echo \"configure:1765: checking whether cpp understands the stringify operator\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_c_have_stringify'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1736 \"configure\"\n+#line 1770 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n #define S(x)   #x\n char *test = S(foo);\n ; return 0; }\n EOF\n-if { (eval echo configure:1744: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1778: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_c_have_stringify=yes\n else\n@@ -1763,20 +1797,20 @@ fi\n # Use <inttypes.h> only if it exists,\n # doesn't clash with <sys/types.h>, and declares intmax_t.\n echo $ac_n \"checking for inttypes.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1767: checking for inttypes.h\" >&5\n+echo \"configure:1801: checking for inttypes.h\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_header_inttypes_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1772 \"configure\"\n+#line 1806 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <inttypes.h>\n int main() {\n intmax_t i = -1;\n ; return 0; }\n EOF\n-if { (eval echo configure:1780: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1814: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<EOF\n #define HAVE_INTTYPES_H 1\n@@ -1799,12 +1833,12 @@ for ac_func in strtoul bsearch strerror putenv popen bcopy bzero bcmp \\\n \tsysconf isascii gettimeofday\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1803: checking for $ac_func\" >&5\n+echo \"configure:1837: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1808 \"configure\"\n+#line 1842 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1827,7 +1861,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1831: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1865: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1856,12 +1890,12 @@ done\n #AC_CHECK_TYPE(wchar_t, unsigned int)\n \n echo $ac_n \"checking for vprintf\"\"... $ac_c\" 1>&6\n-echo \"configure:1860: checking for vprintf\" >&5\n+echo \"configure:1894: checking for vprintf\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vprintf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1865 \"configure\"\n+#line 1899 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vprintf(); below.  */\n@@ -1884,7 +1918,7 @@ vprintf();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1888: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1922: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vprintf=yes\"\n else\n@@ -1908,12 +1942,12 @@ fi\n \n if test \"$ac_cv_func_vprintf\" != yes; then\n echo $ac_n \"checking for _doprnt\"\"... $ac_c\" 1>&6\n-echo \"configure:1912: checking for _doprnt\" >&5\n+echo \"configure:1946: checking for _doprnt\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func__doprnt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1917 \"configure\"\n+#line 1951 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char _doprnt(); below.  */\n@@ -1936,7 +1970,7 @@ _doprnt();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1940: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1974: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func__doprnt=yes\"\n else\n@@ -1972,15 +2006,15 @@ fi\n \n \n echo $ac_n \"checking whether the printf functions support %p\"\"... $ac_c\" 1>&6\n-echo \"configure:1976: checking whether the printf functions support %p\" >&5\n+echo \"configure:2010: checking whether the printf functions support %p\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_func_printf_ptr'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   gcc_cv_func_printf_ptr=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1984 \"configure\"\n+#line 2018 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n \n@@ -1993,7 +2027,7 @@ main()\n   exit (p != q);\n }\n EOF\n-if { (eval echo configure:1997: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2031: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n then\n   gcc_cv_func_printf_ptr=yes\n else\n@@ -2021,21 +2055,26 @@ for ac_func in malloc realloc calloc free bcopy bzero bcmp \\\n \tindex rindex getenv atol sbrk abort atof strerror getcwd getwd\n do\n echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2025: checking whether $ac_func must be declared\" >&5\n+echo \"configure:2059: checking whether $ac_func must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2030 \"configure\"\n+#line 2064 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n-#ifdef HAVE_STRING_H\n-#include <string.h>\n+#ifdef STRING_WITH_STRINGS\n+# include <string.h>\n+# include <strings.h>\n #else\n-#ifdef HAVE_STRINGS_H\n-#include <strings.h>\n-#endif\n+# ifdef HAVE_STRING_H\n+#  include <string.h>\n+# else\n+#  ifdef HAVE_STRINGS_H\n+#   include <strings.h>\n+#  endif\n+# endif\n #endif\n #ifdef HAVE_STDLIB_H\n #include <stdlib.h>\n@@ -2054,7 +2093,7 @@ int main() {\n char *(*pfn) = (char *(*)) $ac_func\n ; return 0; }\n EOF\n-if { (eval echo configure:2058: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2097: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_decl_needed_$ac_func=no\"\n else\n@@ -2083,21 +2122,26 @@ done\n for ac_func in getrlimit setrlimit\n do\n echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2087: checking whether $ac_func must be declared\" >&5\n+echo \"configure:2126: checking whether $ac_func must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2092 \"configure\"\n+#line 2131 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n-#ifdef HAVE_STRING_H\n-#include <string.h>\n+#ifdef STRING_WITH_STRINGS\n+# include <string.h>\n+# include <strings.h>\n #else\n-#ifdef HAVE_STRINGS_H\n-#include <strings.h>\n-#endif\n+# ifdef HAVE_STRING_H\n+#  include <string.h>\n+# else\n+#  ifdef HAVE_STRINGS_H\n+#   include <strings.h>\n+#  endif\n+# endif\n #endif\n #ifdef HAVE_STDLIB_H\n #include <stdlib.h>\n@@ -2120,7 +2164,7 @@ int main() {\n char *(*pfn) = (char *(*)) $ac_func\n ; return 0; }\n EOF\n-if { (eval echo configure:2124: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2168: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_decl_needed_$ac_func=no\"\n else\n@@ -2147,12 +2191,12 @@ done\n \n \n echo $ac_n \"checking for sys_siglist declaration in signal.h or unistd.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2151: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n+echo \"configure:2195: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_decl_sys_siglist'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2156 \"configure\"\n+#line 2200 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <signal.h>\n@@ -2164,7 +2208,7 @@ int main() {\n char *msg = *(sys_siglist + 1);\n ; return 0; }\n EOF\n-if { (eval echo configure:2168: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2212: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_decl_sys_siglist=yes\n else\n@@ -5322,7 +5366,7 @@ fi\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:5326: checking assembler alignment features\" >&5\n+echo \"configure:5370: checking assembler alignment features\" >&5\n gcc_cv_as=\n gcc_cv_as_alignment_features=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,gcc$,gas,'`\n@@ -5582,7 +5626,7 @@ fi\n \n # Warn if using init_priority.\n echo $ac_n \"checking whether to enable init_priority by default\"\"... $ac_c\" 1>&6\n-echo \"configure:5586: checking whether to enable init_priority by default\" >&5\n+echo \"configure:5630: checking whether to enable init_priority by default\" >&5\n if test x$enable_init_priority != xyes; then\n   enable_init_priority=no\n fi"}, {"sha": "6ba1b86b7bbfdadd7bd920a5605916973440acb0", "filename": "gcc/configure.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87", "patch": "@@ -213,6 +213,7 @@ EGCS_PROG_INSTALL\n \n AC_HEADER_STDC\n AC_HEADER_TIME\n+GCC_HEADER_STRING\n AC_CHECK_HEADERS(limits.h stddef.h string.h strings.h stdlib.h time.h fcntl.h unistd.h stab.h sys/file.h sys/time.h sys/resource.h sys/param.h sys/times.h wait.h sys/wait.h)\n \n # Check for thread headers."}, {"sha": "541b30de79379bccc9cf4cd802857d4737baa326", "filename": "gcc/system.h", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87/gcc%2Fsystem.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87/gcc%2Fsystem.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsystem.h?ref=ccc7d11a0bf6b47ce22cdf1d0ca37eb454edbe87", "patch": "@@ -88,11 +88,16 @@\n extern int errno;\n #endif\n \n-#ifdef HAVE_STRING_H\n+#ifdef STRING_WITH_STRINGS\n # include <string.h>\n+# include <strings.h>\n #else\n-# ifdef HAVE_STRINGS_H\n-#  include <strings.h>\n+# ifdef HAVE_STRING_H\n+#  include <string.h>\n+# else\n+#  ifdef HAVE_STRINGS_H\n+#   include <strings.h>\n+#  endif\n # endif\n #endif\n "}]}