{"sha": "f94a3edc6e4245f10e245d162737b889788f4f12", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Zjk0YTNlZGM2ZTQyNDVmMTBlMjQ1ZDE2MjczN2I4ODk3ODhmNGYxMg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2016-11-01T13:54:21Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2016-11-01T13:54:21Z"}, "message": "libgo: only rebuild package if dependent .gox has changed\n    \n    Use mvifdiff and stamp files to track whether a .gox file has changed.\n    When package A depends on package B, and we rebuild package B, only\n    rebuild package A if package B's .gox file changes.  This is safe\n    because when package A imports package B it only reads package B's .gox\n    file.  This means that changes that do not affect export information\n    will not cause dependent packages to be recompiled.\n    \n    Reviewed-on: https://go-review.googlesource.com/32476\n\nFrom-SVN: r241742", "tree": {"sha": "9acb7767e9def70288ebb2e996ed1cee01dfa9a5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9acb7767e9def70288ebb2e996ed1cee01dfa9a5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f94a3edc6e4245f10e245d162737b889788f4f12", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f94a3edc6e4245f10e245d162737b889788f4f12", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f94a3edc6e4245f10e245d162737b889788f4f12", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f94a3edc6e4245f10e245d162737b889788f4f12/comments", "author": null, "committer": null, "parents": [{"sha": "380f39b91b2f596fd4b74b8cae49cfe44cf9bd0b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/380f39b91b2f596fd4b74b8cae49cfe44cf9bd0b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/380f39b91b2f596fd4b74b8cae49cfe44cf9bd0b"}], "stats": {"total": 16, "additions": 11, "deletions": 5}, "files": [{"sha": "4dd1f8c4eadea285b78845a978ca8359f9892882", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f94a3edc6e4245f10e245d162737b889788f4f12/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f94a3edc6e4245f10e245d162737b889788f4f12/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=f94a3edc6e4245f10e245d162737b889788f4f12", "patch": "@@ -1,4 +1,4 @@\n-9ee8ad540d6f2f77af1821bfd977dc1820e1be8f\n+90f12ac1fa72a95e73cb88b6114fa3131c4ca8ee\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "edf193a5d4090ef40ab60a852ce35799b892ca2d", "filename": "libgo/Makefile.am", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f94a3edc6e4245f10e245d162737b889788f4f12/libgo%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f94a3edc6e4245f10e245d162737b889788f4f12/libgo%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.am?ref=f94a3edc6e4245f10e245d162737b889788f4f12", "patch": "@@ -924,7 +924,8 @@ BUILDPACKAGE = \\\n # How to build a .gox file from a .lo file.\n BUILDGOX = \\\n \tf=`echo $< | sed -e 's/.lo$$/.o/'`; \\\n-\t$(OBJCOPY) -j .go_export $$f $@.tmp && mv -f $@.tmp $@\n+\t$(OBJCOPY) -j .go_export $$f $@.tmp; \\\n+\t$(SHELL) $(srcdir)/mvifdiff.sh $@.tmp `echo $@ | sed -e 's/s-gox/gox/'`\n \n GOTESTFLAGS =\n GOBENCH = \n@@ -1022,8 +1023,10 @@ $(1).lo:\n $(1)/check: $$(CHECK_DEPS)\n \t@$$(CHECK)\n .PHONY: $(1)/check\n-$(1).gox: $(1).lo\n+$(1).gox: $(1).s-gox; @true\n+$(1).s-gox: $(1).lo\n \t$$(BUILDGOX)\n+\t$$(STAMP) $$@\n endef\n \n # This line expands PACKAGE_template once for each package name listed"}, {"sha": "908e66042a5f86b4d27b3aab41b0caaa6f6886d6", "filename": "libgo/Makefile.in", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f94a3edc6e4245f10e245d162737b889788f4f12/libgo%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f94a3edc6e4245f10e245d162737b889788f4f12/libgo%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.in?ref=f94a3edc6e4245f10e245d162737b889788f4f12", "patch": "@@ -1079,7 +1079,8 @@ BUILDPACKAGE = \\\n # How to build a .gox file from a .lo file.\n BUILDGOX = \\\n \tf=`echo $< | sed -e 's/.lo$$/.o/'`; \\\n-\t$(OBJCOPY) -j .go_export $$f $@.tmp && mv -f $@.tmp $@\n+\t$(OBJCOPY) -j .go_export $$f $@.tmp; \\\n+\t$(SHELL) $(srcdir)/mvifdiff.sh $@.tmp `echo $@ | sed -e 's/s-gox/gox/'`\n \n GOTESTFLAGS = \n GOBENCH = \n@@ -3366,8 +3367,10 @@ $(1).lo:\n $(1)/check: $$(CHECK_DEPS)\n \t@$$(CHECK)\n .PHONY: $(1)/check\n-$(1).gox: $(1).lo\n+$(1).gox: $(1).s-gox; @true\n+$(1).s-gox: $(1).lo\n \t$$(BUILDGOX)\n+\t$$(STAMP) $$@\n endef\n \n # This line expands PACKAGE_template once for each package name listed"}]}