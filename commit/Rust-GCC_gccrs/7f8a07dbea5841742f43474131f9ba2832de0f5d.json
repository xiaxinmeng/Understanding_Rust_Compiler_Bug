{"sha": "7f8a07dbea5841742f43474131f9ba2832de0f5d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2Y4YTA3ZGJlYTU4NDE3NDJmNDM0NzQxMzFmOWJhMjgzMmRlMGY1ZA==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "2000-07-20T19:34:29Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2000-07-20T19:34:29Z"}, "message": "classes.pl (scan): Print inner classes properly.\n\n\t* scripts/classes.pl (scan): Print inner classes properly.\n\t* gcj/javaprims.h: Updated class list.\n\nFrom-SVN: r35151", "tree": {"sha": "c2196b416c9f7a980ee273332eeb426c719c8426", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c2196b416c9f7a980ee273332eeb426c719c8426"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7f8a07dbea5841742f43474131f9ba2832de0f5d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f8a07dbea5841742f43474131f9ba2832de0f5d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7f8a07dbea5841742f43474131f9ba2832de0f5d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f8a07dbea5841742f43474131f9ba2832de0f5d/comments", "author": null, "committer": null, "parents": [{"sha": "5e5c1371d387354e8c380e30326e4f4cfe1ed536", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e5c1371d387354e8c380e30326e4f4cfe1ed536", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5e5c1371d387354e8c380e30326e4f4cfe1ed536"}], "stats": {"total": 58, "additions": 47, "deletions": 11}, "files": [{"sha": "6f2a51df428a523aa13b457d20ccbcf2f5243f7f", "filename": "libjava/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f8a07dbea5841742f43474131f9ba2832de0f5d/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f8a07dbea5841742f43474131f9ba2832de0f5d/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=7f8a07dbea5841742f43474131f9ba2832de0f5d", "patch": "@@ -1,5 +1,8 @@\n 2000-07-20  Tom Tromey  <tromey@cygnus.com>\n \n+\t* scripts/classes.pl (scan): Print inner classes properly.\n+\t* gcj/javaprims.h: Updated class list.\n+\n \t* java/lang/natClassLoader.cc (_Jv_PrepareCompiledClass): Only\n \tinitialize String fields for interpreted classes.  Fixes bug\n \treported by Hans Boehm."}, {"sha": "059292269efcaabb7d5511e4adb3b9d5b9cde457", "filename": "libjava/gcj/javaprims.h", "status": "modified", "additions": 26, "deletions": 8, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f8a07dbea5841742f43474131f9ba2832de0f5d/libjava%2Fgcj%2Fjavaprims.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f8a07dbea5841742f43474131f9ba2832de0f5d/libjava%2Fgcj%2Fjavaprims.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgcj%2Fjavaprims.h?ref=7f8a07dbea5841742f43474131f9ba2832de0f5d", "patch": "@@ -39,6 +39,7 @@ extern \"Java\"\n   {\n     namespace io\n     {\n+      class BlockDataException;\n       class BufferedInputStream;\n       class BufferedOutputStream;\n       class BufferedReader;\n@@ -53,6 +54,7 @@ extern \"Java\"\n       class DataOutput;\n       class DataOutputStream;\n       class EOFException;\n+      class Externalizable;\n       class File;\n       class FileDescriptor;\n       class FileInputStream;\n@@ -68,11 +70,13 @@ extern \"Java\"\n       class IOException;\n       class InputStream;\n       class InputStreamReader;\n+      class InterfaceComparator;\n       class InterruptedIOException;\n       class InvalidClassException;\n       class InvalidObjectException;\n       class LineNumberInputStream;\n       class LineNumberReader;\n+      class MemberComparator;\n       class NotActiveException;\n       class NotSerializableException;\n       class ObjectInput;\n@@ -99,10 +103,11 @@ extern \"Java\"\n       class PushbackReader;\n       class RandomAccessFile;\n       class Reader;\n+      class Replaceable;\n+      class Resolvable;\n       class SequenceInputStream;\n       class Serializable;\n       class SerializablePermission;\n-      class SimpleDigestStream;\n       class StreamCorruptedException;\n       class StreamTokenizer;\n       class StringBufferInputStream;\n@@ -111,8 +116,10 @@ extern \"Java\"\n       class SyncFailedException;\n       class UTFDataFormatException;\n       class UnsupportedEncodingException;\n+      class ValidatorAndPriority;\n+      class WriteAbortedException;\n       class Writer;\n-    }\n+    };\n \n     namespace lang\n     {\n@@ -122,6 +129,7 @@ extern \"Java\"\n       class ArrayStoreException;\n       class Boolean;\n       class Byte;\n+      class CPlusPlusDemangler;\n       class Character;\n       class Class;\n       class ClassCastException;\n@@ -198,13 +206,20 @@ extern \"Java\"\n         class Member;\n         class Method;\n         class Modifier;\n-      }\n-    }\n+      };\n+    };\n \n     namespace util\n     {\n+      class AbstractCollection;\n+      class AbstractList;\n+      class AbstractList$SubList;\n+      class Arrays;\n+      class Arrays$ListImpl;\n       class BitSet;\n       class Calendar;\n+      class Collection;\n+      class Comparator;\n       class ConcurrentModificationException;\n       class Date;\n       class Dictionary;\n@@ -216,6 +231,9 @@ extern \"Java\"\n       class Hashtable;\n       class HashtableEntry;\n       class HashtableEnumeration;\n+      class Iterator;\n+      class List;\n+      class ListIterator;\n       class ListResourceBundle;\n       class Locale;\n       class MissingResourceException;\n@@ -238,7 +256,7 @@ extern \"Java\"\n         class JarEntry;\n         class JarFile;\n         class JarInputStream;\n-      }\n+      };\n \n       namespace zip\n       {\n@@ -261,9 +279,9 @@ extern \"Java\"\n         class ZipFile;\n         class ZipInputStream;\n         class ZipOutputStream;\n-      }\n-    }\n-  }\n+      };\n+    };\n+  };\n };\n \n typedef struct java::lang::Object* jobject;"}, {"sha": "9523823a313d38fa55bf7f54bd21bfc5063f8520", "filename": "libjava/scripts/classes.pl", "status": "modified", "additions": 18, "deletions": 3, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f8a07dbea5841742f43474131f9ba2832de0f5d/libjava%2Fscripts%2Fclasses.pl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f8a07dbea5841742f43474131f9ba2832de0f5d/libjava%2Fscripts%2Fclasses.pl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fscripts%2Fclasses.pl?ref=7f8a07dbea5841742f43474131f9ba2832de0f5d", "patch": "@@ -1,7 +1,7 @@\n # classes.pl - A perl program to generate most of the contents of\n # javaprims.h automatically.\n \n-# Copyright (C) 1998, 1999  Red Hat, Inc.\n+# Copyright (C) 1998, 1999, 2000  Red Hat, Inc.\n #\n # This file is part of libjava.\n #\n@@ -65,14 +65,29 @@ sub scan\n \t    next unless $name =~ /\\.java$/;\n \n \t    open (FILE, \"< $dir/$name\");\n+\t    local ($outer, $classname);\n \t    while (<FILE>)\n \t    {\n \t\t# NOTE: we don't skip `/*' comments.\n \t\ts,//.*$,,;\n \t\t# For now assume that class names start with upper\n \t\t# case letter.\n-\t\tnext unless /(class|interface) ([A-Z][A-Za-z0-9]+)/;\n-\t\t$classes{$2} = 1;\n+\t\tnext unless /\\b(class|interface) ([A-Z][A-Za-z0-9]+)/;\n+\t\t$classname = $2;\n+\n+\t\t# We assume the code is properly indented, so that we\n+\t\t# can print inner classes properly.\n+\t\tif (/^\\s/)\n+\t\t{\n+\t\t    die \"no outer class for $classname in $dir/$name\"\n+\t\t\tunless $outer;\n+\t\t    $classes{$outer . \"\\$\" . $classname} = 1;\n+\t\t}\n+\t\telse\n+\t\t{\n+\t\t    $classes{$classname} = 1;\n+\t\t    $outer = $classname;\n+\t\t}\n \t    }\n \t    close (FILE);\n \t}"}]}