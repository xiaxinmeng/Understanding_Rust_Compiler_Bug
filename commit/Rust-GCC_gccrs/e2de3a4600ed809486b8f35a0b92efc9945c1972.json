{"sha": "e2de3a4600ed809486b8f35a0b92efc9945c1972", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTJkZTNhNDYwMGVkODA5NDg2YjhmMzVhMGI5MmVmYzk5NDVjMTk3Mg==", "commit": {"author": {"name": "H.J. Lu", "email": "hjl@gnu.ai.mit.edu", "date": "1997-12-21T15:50:35Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-12-21T15:50:35Z"}, "message": "configure.in (host_makefile_frag, [...]): Handle multiple config files.\n\nd\n        * configure.in (host_makefile_frag, target_makefile_frag):\n        Handle multiple config files.\n        (alpha-*-linux*): Treat alpha-*-linux* as alpha-*-linux* and\n        alpha-*-*.\n\nFrom-SVN: r17170", "tree": {"sha": "f040a2be81e1076f7208e73df5b2b554fd5ca5c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f040a2be81e1076f7208e73df5b2b554fd5ca5c8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e2de3a4600ed809486b8f35a0b92efc9945c1972", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2de3a4600ed809486b8f35a0b92efc9945c1972", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e2de3a4600ed809486b8f35a0b92efc9945c1972", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2de3a4600ed809486b8f35a0b92efc9945c1972/comments", "author": null, "committer": null, "parents": [{"sha": "aca823c1400e1ba06b988f91d399b2790b0cf552", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aca823c1400e1ba06b988f91d399b2790b0cf552", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aca823c1400e1ba06b988f91d399b2790b0cf552"}], "stats": {"total": 238, "additions": 177, "deletions": 61}, "files": [{"sha": "ab563cecbe7277b93d21feaf30d8963586ce07d6", "filename": "configure.in", "status": "modified", "additions": 177, "deletions": 61, "changes": 238, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e2de3a4600ed809486b8f35a0b92efc9945c1972/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e2de3a4600ed809486b8f35a0b92efc9945c1972/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=e2de3a4600ed809486b8f35a0b92efc9945c1972", "patch": "@@ -107,42 +107,114 @@ appdirs=\"\"\n # Work in distributions that contain no compiler tools, like Autoconf.\n if [ -d ${srcdir}/config ]; then\n case \"${host}\" in\n-  m68k-hp-hpux*)\t  host_makefile_frag=config/mh-hp300 ;;\n-  m68k-apollo-sysv*)      host_makefile_frag=config/mh-apollo68 ;;\n-  m68k-apollo-bsd*)       host_makefile_frag=config/mh-a68bsd ;;\n-  m88k-dg-dgux*)\t  host_makefile_frag=config/mh-dgux ;;\n-  m88k-harris-cxux*)\t  host_makefile_frag=config/mh-cxux ;;\n-  m88k-motorola-sysv*)    host_makefile_frag=config/mh-delta88;;\n-  mips*-dec-ultrix*)      host_makefile_frag=config/mh-decstation ;;\n-  mips*-nec-sysv4*)\t  host_makefile_frag=config/mh-necv4 ;;\n-  mips*-sgi-irix6*)\t  host_makefile_frag=config/mh-irix6 ;;\n-  mips*-sgi-irix5*)\t  host_makefile_frag=config/mh-irix5 ;;\n-  mips*-sgi-irix4*)       host_makefile_frag=config/mh-irix4 ;;\n-  mips*-sgi-irix3*)       host_makefile_frag=config/mh-sysv ;;\n-  mips*-*-sysv4*)\t  host_makefile_frag=config/mh-sysv4 ;;\n-  mips*-*-sysv*)\t  host_makefile_frag=config/mh-riscos ;;\n-  i[3456]86-*-dgux*)\t  host_makefile_frag=config/mh-dgux386 ;;\n-  i[3456]86-ncr-sysv4.3*) host_makefile_frag=config/mh-ncrsvr43 ;;\n-  i[3456]86-ncr-sysv4*)   host_makefile_frag=config/mh-ncr3000 ;;\n-  i[3456]86-*-sco3.2v5*)  host_makefile_frag=config/mh-sysv ;;\n-  i[3456]86-*-sco*)       host_makefile_frag=config/mh-sco ;;\n-  i[3456]86-*-isc*)\t  host_makefile_frag=config/mh-sysv ;;\n-  i[3456]86-*-solaris2*)  host_makefile_frag=config/mh-sysv4 ;;\n-  i[3456]86-*-aix*)\t  host_makefile_frag=config/mh-aix386 ;;\n-  i[3456]86-*-go32*)\t  host_makefile_frag=config/mh-go32 ;;\n-  i[3456]86-*-msdosdjgpp*) host_makefile_frag=config/mh-go32 ;;\n-  *-cygwin32*)\t  \t  host_makefile_frag=config/mh-cygwin32 ;;\n-  *-windows*)\t  \t  host_makefile_frag=config/mh-windows ;;\n-  vax-*-ultrix2*)         host_makefile_frag=config/mh-vaxult2 ;;\n-  *-*-solaris2*)          host_makefile_frag=config/mh-solaris ;;\n-  m68k-sun-sunos*)\t  host_makefile_frag=config/mh-sun3 ;;\n-  *-hp-hpux[78]*)         host_makefile_frag=config/mh-hpux8 ;;\n-  *-hp-hpux*)             host_makefile_frag=config/mh-hpux ;;\n-  *-*-hiux*)              host_makefile_frag=config/mh-hpux ;;\n-  rs6000-*-lynxos*)\t  host_makefile_frag=config/mh-lynxrs6k ;;\n-  *-*-lynxos*)\t  \t  host_makefile_frag=config/mh-lynxos ;;\n-  *-*-sysv4*)             host_makefile_frag=config/mh-sysv4 ;;\n-  *-*-sysv*)              host_makefile_frag=config/mh-sysv ;;\n+  m68k-hp-hpux*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-hp300\"\n+    ;;\n+  m68k-apollo-sysv*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-apollo68\"\n+    ;;\n+  m68k-apollo-bsd*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-a68bsd\"\n+    ;;\n+  m88k-dg-dgux*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-dgux\"\n+    ;;\n+  m88k-harris-cxux*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-cxux\"\n+    ;;\n+  m88k-motorola-sysv*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-delta88\"\n+    ;;\n+  mips*-dec-ultrix*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-decstation\"\n+    ;;\n+  mips*-nec-sysv4*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-necv4\"\n+    ;;\n+  mips*-sgi-irix6*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-irix6\"\n+    ;;\n+  mips*-sgi-irix5*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-irix5\"\n+    ;;\n+  mips*-sgi-irix4*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-irix4\"\n+    ;;\n+  mips*-sgi-irix3*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-sysv\"\n+    ;;\n+  mips*-*-sysv4*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-sysv4\"\n+    ;;\n+  mips*-*-sysv*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-riscos\"\n+    ;;\n+  i[3456]86-*-dgux*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-dgux386\"\n+    ;;\n+  i[3456]86-ncr-sysv4.3*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-ncrsvr43\"\n+    ;;\n+  i[3456]86-ncr-sysv4*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-ncr3000\"\n+    ;;\n+  i[3456]86-*-sco3.2v5*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-sysv\"\n+    ;;\n+  i[3456]86-*-sco*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-sco\"\n+    ;;\n+  i[3456]86-*-isc*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-sysv\"\n+    ;;\n+  i[3456]86-*-solaris2*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-sysv4\"\n+    ;;\n+  i[3456]86-*-aix*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-aix386\"\n+    ;;\n+  i[3456]86-*-go32*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-go32\"\n+    ;;\n+  i[3456]86-*-msdosdjgpp*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-go32\"\n+    ;;\n+  *-cygwin32*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-cygwin32\"\n+    ;;\n+  *-windows*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-windows\"\n+    ;;\n+  vax-*-ultrix2*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-vaxult2\"\n+    ;;\n+  *-*-solaris2*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-solaris\"\n+    ;;\n+  m68k-sun-sunos*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-sun3\"\n+    ;;\n+  *-hp-hpux[78]*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-hpux8\"\n+    ;;\n+  *-hp-hpux*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-hpux\"\n+    ;;\n+  *-*-hiux*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-hpux\"\n+    ;;\n+  rs6000-*-lynxos*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-lynxrs6k\"\n+    ;;\n+  *-*-lynxos*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-lynxos\"\n+    ;;\n+  *-*-sysv4*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-sysv4\"\n+    ;;\n+  *-*-sysv*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-sysv\"\n+    ;;\n esac\n fi\n \n@@ -186,33 +258,52 @@ case \"${enable_shared}\" in\n esac\n \n if [ x${shared} = xyes ]; then\n-  waugh=\n   case \"${host}\" in\n-    hppa*)\t\twaugh=config/mh-papic ;;\n-    i[3456]86-*)\twaugh=config/mh-x86pic ;;\n-    sparc64-*)\t\twaugh=config/mh-sparcpic ;;\n-    powerpc*-*)\t\twaugh=config/mh-ppcpic ;;\n-    alpha-*-linux*)     waugh=config/mh-elfalphapic ;;\n-    *)\t\t\twaugh=config/mh-${host_cpu}pic ;;\n+    hppa*)\n+      host_makefile_frag=\"${host_makefile_frag} config/mh-papic\"\n+      ;;\n+    i[3456]86-*)\n+      host_makefile_frag=\"${host_makefile_frag} config/mh-x86pic\"\n+      ;;\n+    sparc64-*)\n+      host_makefile_frag=\"${host_makefile_frag} config/mh-sparcpic\"\n+      ;;\n+    powerpc*-*)\n+      host_makefile_frag=\"${host_makefile_frag} config/mh-ppcpic\"\n+      ;;\n+    alpha-*-linux*)\n+      host_makefile_frag=\"${host_makefile_frag} config/mh-elfalphapic\"\n+      ;;\n+    *)\n+      host_makefile_frag=\"${host_makefile_frag} config/mh-${host_cpu}pic\"\n+      ;;\n   esac\n-  if [ -f ${srcdir}/${waugh} ]; then\n-    if [ -n \"${host_makefile_frag}\" ] ; then\n-      cat ${srcdir}/${host_makefile_frag} > mh-frag\n-      cat ${srcdir}/${waugh} >> mh-frag\n-      host_makefile_frag=mh-frag\n-    else\n-      host_makefile_frag=${waugh}\n-    fi\n-  fi\n+fi\n+\n+rm -f mh-frag\n+if [ -n \"${host_makefile_frag}\" ] ; then\n+  for f in ${host_makefile_frag}\n+  do\n+    cat ${srcdir}/$f >> mh-frag\n+  done\n+  host_makefile_frag=mh-frag\n fi\n \n # per-target:\n \n case \"${target}\" in\n-  v810*)\t\ttarget_makefile_frag=config/mt-v810 ;;\n-  i[3456]86-*-netware*) target_makefile_frag=config/mt-netware ;;\n-  powerpc-*-netware*)   target_makefile_frag=config/mt-netware ;;\n-  *-*-linux-gnu)        target_makefile_frag=config/mt-linux ;;\n+  v810*)\n+    target_makefile_frag=\"${target_makefile_frag} config/mt-v810\"\n+    ;;\n+  i[3456]86-*-netware*)\n+    target_makefile_frag=\"${target_makefile_frag} config/mt-netware\"\n+    ;;\n+  powerpc-*-netware*)\n+    target_makefile_frag=\"${target_makefile_frag} config/mt-netware\"\n+    ;;\n+  *-*-linux-gnu)\n+    target_makefile_frag=\"${target_makefile_frag} config/mt-linux\"\n+    ;;\n esac\n \n skipdirs=\n@@ -416,6 +507,12 @@ case \"${target}\" in\n   alpha*-*-*vms*)\n     noconfigdirs=\"$noconfigdirs gdb ld target-newlib target-libgloss\"\n     ;;\n+  alpha-*-linux*)\n+    # newlib is not 64 bit ready\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    # linux has rx in libc\n+    skipdirs=\"$skipdirs target-librx\"\n+    ;;\n   alpha*-*-*)\n     # newlib is not 64 bit ready\n     noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n@@ -762,14 +859,33 @@ fi\n \n if [ x${shared} = xyes ]; then\n   case \"${target}\" in\n-    hppa*)\t\ttarget_makefile_frag=config/mt-papic ;;\n-    i[3456]86-*)\ttarget_makefile_frag=config/mt-x86pic ;;\n-    powerpc*-*)\t\ttarget_makefile_frag=config/mt-ppcpic ;;\n-    alpha-*-linux*)\ttarget_makefile_frag=config/mt-elfalphapic ;;\n-    *)\t\t\ttarget_makefile_frag=config/mt-${target_cpu}pic ;;\n+    hppa*)\n+      target_makefile_frag=\"${target_makefile_frag} config/mt-papic\"\n+      ;;\n+    i[3456]86-*)\n+      target_makefile_frag=\"${target_makefile_frag} config/mt-x86pic\"\n+      ;;\n+    powerpc*-*)\n+      target_makefile_frag=\"${target_makefile_frag} config/mt-ppcpic\"\n+      ;;\n+    alpha-*-linux*)\n+      target_makefile_frag=\"${target_makefile_frag} config/mt-elfalphapic\"\n+      ;;\n+    *)\n+      target_makefile_frag=\"${target_makefile_frag} config/mt-${target_cpu}pic\"\n+      ;;\n   esac\n fi\n \n+rm -f mt-frag\n+if [ -n \"${target_makefile_frag}\" ] ; then\n+  for f in ${target_makefile_frag}\n+  do\n+    cat ${srcdir}/$f >> mt-frag\n+  done\n+  target_makefile_frag=mt-frag\n+fi\n+\n # post-target:\n \n # Make sure that the compiler is able to generate an executable.  If it"}]}