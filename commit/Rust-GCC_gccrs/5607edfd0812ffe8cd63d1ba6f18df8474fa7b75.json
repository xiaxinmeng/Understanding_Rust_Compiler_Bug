{"sha": "5607edfd0812ffe8cd63d1ba6f18df8474fa7b75", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTYwN2VkZmQwODEyZmZlOGNkNjNkMWJhNmYxOGRmODQ3NGZhN2I3NQ==", "commit": {"author": {"name": "Paolo Bonzini", "email": "bonzini@gnu.org", "date": "2004-06-03T04:53:00Z"}, "committer": {"name": "Christopher Faylor", "email": "cgf@gcc.gnu.org", "date": "2004-06-03T04:53:00Z"}, "message": "configure.in: Fix --enable-bootstrap breakage introduced in trees without gcc.\n\n* configure.in: Fix --enable-bootstrap breakage introduced in trees without\ngcc.\n* configure: Regenerate.\n\nFrom-SVN: r82595", "tree": {"sha": "6d406fa16a36ad9f0e638490375fd7301ee9f153", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6d406fa16a36ad9f0e638490375fd7301ee9f153"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5607edfd0812ffe8cd63d1ba6f18df8474fa7b75", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5607edfd0812ffe8cd63d1ba6f18df8474fa7b75", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5607edfd0812ffe8cd63d1ba6f18df8474fa7b75", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5607edfd0812ffe8cd63d1ba6f18df8474fa7b75/comments", "author": {"login": "bonzini", "id": 42082, "node_id": "MDQ6VXNlcjQyMDgy", "avatar_url": "https://avatars.githubusercontent.com/u/42082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bonzini", "html_url": "https://github.com/bonzini", "followers_url": "https://api.github.com/users/bonzini/followers", "following_url": "https://api.github.com/users/bonzini/following{/other_user}", "gists_url": "https://api.github.com/users/bonzini/gists{/gist_id}", "starred_url": "https://api.github.com/users/bonzini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bonzini/subscriptions", "organizations_url": "https://api.github.com/users/bonzini/orgs", "repos_url": "https://api.github.com/users/bonzini/repos", "events_url": "https://api.github.com/users/bonzini/events{/privacy}", "received_events_url": "https://api.github.com/users/bonzini/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "85e933d8edd0b4ec8f51f3347890f1df39f1ec55", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/85e933d8edd0b4ec8f51f3347890f1df39f1ec55", "html_url": "https://github.com/Rust-GCC/gccrs/commit/85e933d8edd0b4ec8f51f3347890f1df39f1ec55"}], "stats": {"total": 221, "additions": 116, "deletions": 105}, "files": [{"sha": "3e5074062676257c41c6d114b0ffaadb11a5ad96", "filename": "ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5607edfd0812ffe8cd63d1ba6f18df8474fa7b75/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5607edfd0812ffe8cd63d1ba6f18df8474fa7b75/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=5607edfd0812ffe8cd63d1ba6f18df8474fa7b75", "patch": "@@ -1,3 +1,9 @@\n+2004-06-03  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\t* configure.in: Fix --enable-bootstrap breakage introduced in trees\n+\twithout gcc.\n+\t* configure: Regenerate.\n+\n 2004-06-01  Paolo Bonzini  <bonzini@gnu.org>\n \n \t* Makefile.tpl: Fix typo."}, {"sha": "f77e8c15717a2c74f8a4b339935c9d049eff9e65", "filename": "Makefile.in", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5607edfd0812ffe8cd63d1ba6f18df8474fa7b75/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5607edfd0812ffe8cd63d1ba6f18df8474fa7b75/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=5607edfd0812ffe8cd63d1ba6f18df8474fa7b75", "patch": "@@ -27682,12 +27682,13 @@ all-gcc: configure-gcc\n @if gcc-no-bootstrap\n \tr=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\tcd gcc || exit 0; \\\n \t$(SET_LIB_PATH) \\\n \t$(GCC_HOST_EXPORTS) \\\n \tif [ -f gcc/stage_last ] ; then \\\n-\t  (cd gcc && $(MAKE) $(GCC_FLAGS_TO_PASS) quickstrap); \\\n+\t  $(MAKE) $(GCC_FLAGS_TO_PASS) quickstrap; \\\n \telse \\\n-\t  (cd gcc && $(MAKE) $(GCC_FLAGS_TO_PASS) all); \\\n+\t  $(MAKE) $(GCC_FLAGS_TO_PASS) all; \\\n \tfi\n \n # Building GCC uses some tools for rebuilding \"source\" files"}, {"sha": "13f9f04fd8371193235026a28d76fff11561355a", "filename": "configure", "status": "modified", "additions": 73, "deletions": 71, "changes": 144, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5607edfd0812ffe8cd63d1ba6f18df8474fa7b75/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5607edfd0812ffe8cd63d1ba6f18df8474fa7b75/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=5607edfd0812ffe8cd63d1ba6f18df8474fa7b75", "patch": "@@ -3050,37 +3050,6 @@ esac\n # to maintain later.  In this particular case, you just have to be careful\n # not to nest @if/@endif pairs, because configure will not warn you at all.\n \n-for module in ${build_modules} ; do\n-  if test -z \"${no_recursion}\" \\\n-     && test -f ${build_subdir}/${module}/Makefile; then\n-    echo 1>&2 \"*** removing ${build_subdir}/${module}/Makefile to force reconfigure\"\n-    rm -f ${build_subdir}/${module}/Makefile\n-  fi\n-  extrasub=\"$extrasub\n-/^@if build-$module\\$/d\n-/^@endif build-$module\\$/d\"\n-done\n-for module in ${configdirs} ; do\n-  if test -z \"${no_recursion}\" \\\n-     && test -f ${module}/Makefile; then\n-    echo 1>&2 \"*** removing ${module}/Makefile to force reconfigure\"\n-    rm -f ${module}/Makefile\n-  fi\n-  extrasub=\"$extrasub\n-/^@if $module\\$/d\n-/^@endif $module\\$/d\"\n-done\n-for module in ${target_configdirs} ; do\n-  if test -z \"${no_recursion}\" \\\n-     && test -f ${target_subdir}/${module}/Makefile; then\n-    echo 1>&2 \"*** removing ${target_subdir}/${module}/Makefile to force reconfigure\"\n-    rm -f ${target_subdir}/${module}/Makefile\n-  fi\n-  extrasub=\"$extrasub\n-/^@if target-$module\\$/d\n-/^@endif target-$module\\$/d\"\n-done\n-\n # Check whether --enable-bootstrap or --disable-bootstrap was given.\n if test \"${enable_bootstrap+set}\" = set; then\n   enableval=\"$enable_bootstrap\"\n@@ -3104,17 +3073,50 @@ fi\n case \"$enable_bootstrap\" in\n   yes)\n     default_target=bootstrap\n-    extrasub=\"$extrasub\n-/^@if gcc-bootstrap\\$/d\n-/^@endif gcc-bootstrap\\$/d\" ;;\n+    bootstrap_suffix=bootstrap ;;\n   no)\n     default_target=all\n-    extrasub=\"$extrasub\n-/^@if gcc-no-bootstrap\\$/d\n-/^@endif gcc-no-bootstrap\\$/d\" ;;\n+    bootstrap_suffix=no-bootstrap ;;\n esac\n \n \n+for module in ${build_modules} ; do\n+  if test -z \"${no_recursion}\" \\\n+     && test -f ${build_subdir}/${module}/Makefile; then\n+    echo 1>&2 \"*** removing ${build_subdir}/${module}/Makefile to force reconfigure\"\n+    rm -f ${build_subdir}/${module}/Makefile\n+  fi\n+  extrasub=\"$extrasub\n+/^@if build-$module\\$/d\n+/^@endif build-$module\\$/d\n+/^@if build-$module-$bootstrap_suffix\\$/d\n+/^@endif build-$module-$bootstrap_suffix\\$/d\"\n+done\n+for module in ${configdirs} ; do\n+  if test -z \"${no_recursion}\" \\\n+     && test -f ${module}/Makefile; then\n+    echo 1>&2 \"*** removing ${module}/Makefile to force reconfigure\"\n+    rm -f ${module}/Makefile\n+  fi\n+  extrasub=\"$extrasub\n+/^@if $module\\$/d\n+/^@endif $module\\$/d\n+/^@if $module-$bootstrap_suffix\\$/d\n+/^@endif $module-$bootstrap_suffix\\$/d\"\n+done\n+for module in ${target_configdirs} ; do\n+  if test -z \"${no_recursion}\" \\\n+     && test -f ${target_subdir}/${module}/Makefile; then\n+    echo 1>&2 \"*** removing ${target_subdir}/${module}/Makefile to force reconfigure\"\n+    rm -f ${target_subdir}/${module}/Makefile\n+  fi\n+  extrasub=\"$extrasub\n+/^@if target-$module\\$/d\n+/^@endif target-$module\\$/d\n+/^@if target-$module-$bootstrap_suffix\\$/d\n+/^@endif target-$module-$bootstrap_suffix\\$/d\"\n+done\n+\n extrasub=\"$extrasub\n /^@if /,/^@endif /d\"\n \n@@ -3497,7 +3499,7 @@ test -n \"$target_alias\" && ncn_target_tool_prefix=$target_alias-\n   # Extract the first word of \"${ncn_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3501: checking for $ac_word\" >&5\n+echo \"configure:3503: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3530,7 +3532,7 @@ if test -z \"$ac_cv_prog_AR\" ; then\n     # Extract the first word of \"ar\", so it can be a program name with args.\n set dummy ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3534: checking for $ac_word\" >&5\n+echo \"configure:3536: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3569,7 +3571,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3573: checking for $ac_word\" >&5\n+echo \"configure:3575: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3602,7 +3604,7 @@ if test -z \"$ac_cv_prog_AS\" ; then\n     # Extract the first word of \"as\", so it can be a program name with args.\n set dummy as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3606: checking for $ac_word\" >&5\n+echo \"configure:3608: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3641,7 +3643,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}dlltool\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3645: checking for $ac_word\" >&5\n+echo \"configure:3647: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3674,7 +3676,7 @@ if test -z \"$ac_cv_prog_DLLTOOL\" ; then\n     # Extract the first word of \"dlltool\", so it can be a program name with args.\n set dummy dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3678: checking for $ac_word\" >&5\n+echo \"configure:3680: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3713,7 +3715,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}ld\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3717: checking for $ac_word\" >&5\n+echo \"configure:3719: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3746,7 +3748,7 @@ if test -z \"$ac_cv_prog_LD\" ; then\n     # Extract the first word of \"ld\", so it can be a program name with args.\n set dummy ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3750: checking for $ac_word\" >&5\n+echo \"configure:3752: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3785,7 +3787,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}nm\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3789: checking for $ac_word\" >&5\n+echo \"configure:3791: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3818,7 +3820,7 @@ if test -z \"$ac_cv_prog_NM\" ; then\n     # Extract the first word of \"nm\", so it can be a program name with args.\n set dummy nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3822: checking for $ac_word\" >&5\n+echo \"configure:3824: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3857,7 +3859,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3861: checking for $ac_word\" >&5\n+echo \"configure:3863: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3890,7 +3892,7 @@ if test -z \"$ac_cv_prog_RANLIB\" ; then\n     # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3894: checking for $ac_word\" >&5\n+echo \"configure:3896: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3929,7 +3931,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}windres\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3933: checking for $ac_word\" >&5\n+echo \"configure:3935: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_WINDRES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3962,7 +3964,7 @@ if test -z \"$ac_cv_prog_WINDRES\" ; then\n     # Extract the first word of \"windres\", so it can be a program name with args.\n set dummy windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3966: checking for $ac_word\" >&5\n+echo \"configure:3968: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_WINDRES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4001,7 +4003,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}objcopy\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}objcopy; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4005: checking for $ac_word\" >&5\n+echo \"configure:4007: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJCOPY'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4034,7 +4036,7 @@ if test -z \"$ac_cv_prog_OBJCOPY\" ; then\n     # Extract the first word of \"objcopy\", so it can be a program name with args.\n set dummy objcopy; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4038: checking for $ac_word\" >&5\n+echo \"configure:4040: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_OBJCOPY'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4073,7 +4075,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}objdump\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}objdump; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4077: checking for $ac_word\" >&5\n+echo \"configure:4079: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJDUMP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4106,7 +4108,7 @@ if test -z \"$ac_cv_prog_OBJDUMP\" ; then\n     # Extract the first word of \"objdump\", so it can be a program name with args.\n set dummy objdump; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4110: checking for $ac_word\" >&5\n+echo \"configure:4112: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_OBJDUMP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4155,7 +4157,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4159: checking for $ac_word\" >&5\n+echo \"configure:4161: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_AR_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4188,7 +4190,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_AR_FOR_TARGET\" ; then\n     # Extract the first word of \"ar\", so it can be a program name with args.\n set dummy ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4192: checking for $ac_word\" >&5\n+echo \"configure:4194: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_AR_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4227,7 +4229,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4231: checking for $ac_word\" >&5\n+echo \"configure:4233: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_AS_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4260,7 +4262,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_AS_FOR_TARGET\" ; then\n     # Extract the first word of \"as\", so it can be a program name with args.\n set dummy as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4264: checking for $ac_word\" >&5\n+echo \"configure:4266: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_AS_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4299,7 +4301,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}dlltool\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4303: checking for $ac_word\" >&5\n+echo \"configure:4305: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_DLLTOOL_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4332,7 +4334,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_DLLTOOL_FOR_TARGET\" ; then\n     # Extract the first word of \"dlltool\", so it can be a program name with args.\n set dummy dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4336: checking for $ac_word\" >&5\n+echo \"configure:4338: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_DLLTOOL_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4371,7 +4373,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ld\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4375: checking for $ac_word\" >&5\n+echo \"configure:4377: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_LD_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4404,7 +4406,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_LD_FOR_TARGET\" ; then\n     # Extract the first word of \"ld\", so it can be a program name with args.\n set dummy ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4408: checking for $ac_word\" >&5\n+echo \"configure:4410: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_LD_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4443,7 +4445,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}nm\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4447: checking for $ac_word\" >&5\n+echo \"configure:4449: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_NM_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4476,7 +4478,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_NM_FOR_TARGET\" ; then\n     # Extract the first word of \"nm\", so it can be a program name with args.\n set dummy nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4480: checking for $ac_word\" >&5\n+echo \"configure:4482: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_NM_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4515,7 +4517,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4519: checking for $ac_word\" >&5\n+echo \"configure:4521: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_RANLIB_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4548,7 +4550,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_RANLIB_FOR_TARGET\" ; then\n     # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4552: checking for $ac_word\" >&5\n+echo \"configure:4554: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_RANLIB_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4587,7 +4589,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}windres\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4591: checking for $ac_word\" >&5\n+echo \"configure:4593: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_WINDRES_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4620,7 +4622,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_WINDRES_FOR_TARGET\" ; then\n     # Extract the first word of \"windres\", so it can be a program name with args.\n set dummy windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4624: checking for $ac_word\" >&5\n+echo \"configure:4626: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_WINDRES_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4705,7 +4707,7 @@ RANLIB_FOR_TARGET=${RANLIB_FOR_TARGET}${extra_ranlibflags_for_target}\n NM_FOR_TARGET=${NM_FOR_TARGET}${extra_nmflags_for_target}\n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:4709: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:4711: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -4752,7 +4754,7 @@ esac\n # gcc for stageN-gcc and stage-prev for stage(N-1).  In case this is not\n # possible, however, we can resort to mv.\n echo $ac_n \"checking if symbolic links between directories work\"\"... $ac_c\" 1>&6\n-echo \"configure:4756: checking if symbolic links between directories work\" >&5\n+echo \"configure:4758: checking if symbolic links between directories work\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_ln_s_dir'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else"}, {"sha": "7f6e97179a6edbccea41ca9569dc6a40b69d507a", "filename": "configure.in", "status": "modified", "additions": 34, "deletions": 32, "changes": 66, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5607edfd0812ffe8cd63d1ba6f18df8474fa7b75/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5607edfd0812ffe8cd63d1ba6f18df8474fa7b75/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=5607edfd0812ffe8cd63d1ba6f18df8474fa7b75", "patch": "@@ -1730,6 +1730,31 @@ esac\n # to maintain later.  In this particular case, you just have to be careful\n # not to nest @if/@endif pairs, because configure will not warn you at all.\n \n+AC_ARG_ENABLE([bootstrap],\n+[  --enable-bootstrap     Enable bootstrapping [no]],,\n+enable_bootstrap=no)\n+if test -d ${srcdir}/gcc; then\n+  case \"$host:$target:$enable_bootstrap\" in\n+    $build:$build:yes | *:no) ;;\n+    *:yes) AC_MSG_ERROR([cannot bootstrap a cross-compiler]) ;;\n+    *) AC_MSG_ERROR([invalid option for --enable-bootstrap]) ;;\n+  esac\n+else\n+  if test $enable_bootstrap = yes; then\n+    AC_MSG_ERROR([cannot bootstrap without a compiler])\n+  fi\n+fi\n+\n+case \"$enable_bootstrap\" in\n+  yes)\n+    default_target=bootstrap\n+    bootstrap_suffix=bootstrap ;;\n+  no)\n+    default_target=all\n+    bootstrap_suffix=no-bootstrap ;;\n+esac\n+AC_SUBST(default_target)\n+\n for module in ${build_modules} ; do\n   if test -z \"${no_recursion}\" \\\n      && test -f ${build_subdir}/${module}/Makefile; then\n@@ -1738,7 +1763,9 @@ for module in ${build_modules} ; do\n   fi\n   extrasub=\"$extrasub\n /^@if build-$module\\$/d\n-/^@endif build-$module\\$/d\"\n+/^@endif build-$module\\$/d\n+/^@if build-$module-$bootstrap_suffix\\$/d\n+/^@endif build-$module-$bootstrap_suffix\\$/d\"\n done\n for module in ${configdirs} ; do\n   if test -z \"${no_recursion}\" \\\n@@ -1748,7 +1775,9 @@ for module in ${configdirs} ; do\n   fi\n   extrasub=\"$extrasub\n /^@if $module\\$/d\n-/^@endif $module\\$/d\"\n+/^@endif $module\\$/d\n+/^@if $module-$bootstrap_suffix\\$/d\n+/^@endif $module-$bootstrap_suffix\\$/d\"\n done\n for module in ${target_configdirs} ; do\n   if test -z \"${no_recursion}\" \\\n@@ -1758,38 +1787,11 @@ for module in ${target_configdirs} ; do\n   fi\n   extrasub=\"$extrasub\n /^@if target-$module\\$/d\n-/^@endif target-$module\\$/d\"\n+/^@endif target-$module\\$/d\n+/^@if target-$module-$bootstrap_suffix\\$/d\n+/^@endif target-$module-$bootstrap_suffix\\$/d\"\n done\n \n-AC_ARG_ENABLE([bootstrap],\n-[  --enable-bootstrap     Enable bootstrapping [no]],,\n-enable_bootstrap=no)\n-if test -d ${srcdir}/gcc; then\n-  case \"$host:$target:$enable_bootstrap\" in\n-    $build:$build:yes | *:no) ;;\n-    *:yes) AC_MSG_ERROR([cannot bootstrap a cross-compiler]) ;;\n-    *) AC_MSG_ERROR([invalid option for --enable-bootstrap]) ;;\n-  esac\n-else\n-  if test $enable_bootstrap = yes; then\n-    AC_MSG_ERROR([cannot bootstrap without a compiler])\n-  fi\n-fi\n-\n-case \"$enable_bootstrap\" in\n-  yes)\n-    default_target=bootstrap\n-    extrasub=\"$extrasub\n-/^@if gcc-bootstrap\\$/d\n-/^@endif gcc-bootstrap\\$/d\" ;;\n-  no)\n-    default_target=all\n-    extrasub=\"$extrasub\n-/^@if gcc-no-bootstrap\\$/d\n-/^@endif gcc-no-bootstrap\\$/d\" ;;\n-esac\n-AC_SUBST(default_target)\n-\n extrasub=\"$extrasub\n /^@if /,/^@endif /d\"\n "}]}