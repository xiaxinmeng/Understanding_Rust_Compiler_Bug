{"sha": "b3d5f74124228eafaf92a3b63a18cd9265f2cf25", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjNkNWY3NDEyNDIyOGVhZmFmOTJhM2I2M2ExOGNkOTI2NWYyY2YyNQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@adacore.com", "date": "2008-05-29T08:57:36Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2008-05-29T08:57:36Z"}, "message": "* gnat.dg/abstract1.ad[sb]: New test.\n\nFrom-SVN: r136151", "tree": {"sha": "ad87a316c821bf7e50d259b152f24cb66163d324", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ad87a316c821bf7e50d259b152f24cb66163d324"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b3d5f74124228eafaf92a3b63a18cd9265f2cf25", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3d5f74124228eafaf92a3b63a18cd9265f2cf25", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3d5f74124228eafaf92a3b63a18cd9265f2cf25", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3d5f74124228eafaf92a3b63a18cd9265f2cf25/comments", "author": {"login": "ArnaudCharlet", "id": 30291825, "node_id": "MDQ6VXNlcjMwMjkxODI1", "avatar_url": "https://avatars.githubusercontent.com/u/30291825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArnaudCharlet", "html_url": "https://github.com/ArnaudCharlet", "followers_url": "https://api.github.com/users/ArnaudCharlet/followers", "following_url": "https://api.github.com/users/ArnaudCharlet/following{/other_user}", "gists_url": "https://api.github.com/users/ArnaudCharlet/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArnaudCharlet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArnaudCharlet/subscriptions", "organizations_url": "https://api.github.com/users/ArnaudCharlet/orgs", "repos_url": "https://api.github.com/users/ArnaudCharlet/repos", "events_url": "https://api.github.com/users/ArnaudCharlet/events{/privacy}", "received_events_url": "https://api.github.com/users/ArnaudCharlet/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "fb8368fdccee8dbe54d8d43e198e0d5fa2ddaab8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb8368fdccee8dbe54d8d43e198e0d5fa2ddaab8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fb8368fdccee8dbe54d8d43e198e0d5fa2ddaab8"}], "stats": {"total": 54, "additions": 54, "deletions": 0}, "files": [{"sha": "f52843acc82591479c34c850e62c6ec1cf45f15a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3d5f74124228eafaf92a3b63a18cd9265f2cf25/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3d5f74124228eafaf92a3b63a18cd9265f2cf25/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b3d5f74124228eafaf92a3b63a18cd9265f2cf25", "patch": "@@ -1,3 +1,7 @@\n+2008-05-29  Arnaud Charlet  <charlet@adacore.com>\n+\n+\t* gnat.dg/abstract1.ad[sb]: New test.\n+\n 2008-05-28  Janus Weil  <janus@gcc.gnu.org>\n \n \tPR fortran/36325"}, {"sha": "97508fac2b8ffb6e93e25d36d2b52ee87527af1d", "filename": "gcc/testsuite/gnat.dg/abstract1.adb", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3d5f74124228eafaf92a3b63a18cd9265f2cf25/gcc%2Ftestsuite%2Fgnat.dg%2Fabstract1.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3d5f74124228eafaf92a3b63a18cd9265f2cf25/gcc%2Ftestsuite%2Fgnat.dg%2Fabstract1.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fabstract1.adb?ref=b3d5f74124228eafaf92a3b63a18cd9265f2cf25", "patch": "@@ -0,0 +1,31 @@\n+--  { dg-do compile }\n+with Ada.Tags.Generic_Dispatching_Constructor;  use Ada.Tags;\n+package body abstract1 is\n+   \n+   function New_T (Stream : not null access Root_Stream_Type'Class)\n+      return T'Class is\n+      function Construct is\n+         new Generic_Dispatching_Constructor (T, Root_Stream_Type'Class, Input);\n+      E : constant String := String'Input (Stream);\n+      I : constant Tag := Internal_Tag (E);\n+   \n+   begin\n+      return Construct (I, Stream);\n+   end New_T;\n+   \n+   function Input (Stream : not null access Root_Stream_Type'Class)\n+     return IT is\n+   begin\n+      return O : IT do\n+        Integer'Read (Stream, O.I);\n+      end return;\n+   end Input;\n+   \n+   function Input (Stream : not null access Root_Stream_Type'Class)\n+      return FT is\n+   begin\n+      return O : FT do\n+        Float'Read (Stream, O.F);\n+      end return;                                              \n+   end Input;                                                  \n+end abstract1;"}, {"sha": "bad9ee69874bcbcf9c478fdb16f32d330ec29a8b", "filename": "gcc/testsuite/gnat.dg/abstract1.ads", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3d5f74124228eafaf92a3b63a18cd9265f2cf25/gcc%2Ftestsuite%2Fgnat.dg%2Fabstract1.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3d5f74124228eafaf92a3b63a18cd9265f2cf25/gcc%2Ftestsuite%2Fgnat.dg%2Fabstract1.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fabstract1.ads?ref=b3d5f74124228eafaf92a3b63a18cd9265f2cf25", "patch": "@@ -0,0 +1,19 @@\n+with Ada.Streams; use Ada.Streams;\n+package abstract1 is\n+   type T is abstract tagged limited null record;\n+   function Input (Stream : not null access Root_Stream_Type'Class) return T\n+     is abstract;\n+   \n+   function New_T (Stream : not null access Root_Stream_Type'Class)\n+     return T'Class;\n+   \n+   type IT is limited new T with record\n+     I : Integer;\n+   end record;\n+   function Input (Stream : not null access Root_Stream_Type'Class) return IT;\n+   \n+   type FT is limited new T with record\n+     F : Float;\n+   end record;\n+   function Input (Stream : not null access Root_Stream_Type'Class) return FT;\n+end abstract1;"}]}