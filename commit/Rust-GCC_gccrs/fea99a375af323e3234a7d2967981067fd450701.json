{"sha": "fea99a375af323e3234a7d2967981067fd450701", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmVhOTlhMzc1YWYzMjNlMzIzNGE3ZDI5Njc5ODEwNjdmZDQ1MDcwMQ==", "commit": {"author": {"name": "Razya Ladelsky", "email": "razya@il.ibm.com", "date": "2011-11-24T14:07:36Z"}, "committer": {"name": "Razya Ladelsky", "email": "razya@gcc.gnu.org", "date": "2011-11-24T14:07:36Z"}, "message": "tree-data-ref.c (initialize_data_dependence_relation): Update\n\n\n        * tree-data-ref.c (initialize_data_dependence_relation): Update\n        * comment for the \n        self dependence case.\n        (compute_self_dependence): Remove.\n        * tree-vect-data-refs.c (vect_analyze_data_refs): Remove call to \n        compute_self_dependenc.\n\nFrom-SVN: r181691", "tree": {"sha": "d1056bc42a5bc1291d1667070121d03172965396", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d1056bc42a5bc1291d1667070121d03172965396"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fea99a375af323e3234a7d2967981067fd450701", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fea99a375af323e3234a7d2967981067fd450701", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fea99a375af323e3234a7d2967981067fd450701", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fea99a375af323e3234a7d2967981067fd450701/comments", "author": null, "committer": null, "parents": [{"sha": "36b0e7519f8e86d3fa5df495fce260874ebbcbb2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36b0e7519f8e86d3fa5df495fce260874ebbcbb2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/36b0e7519f8e86d3fa5df495fce260874ebbcbb2"}], "stats": {"total": 24, "additions": 8, "deletions": 16}, "files": [{"sha": "290d54efd270e8d8610213e94ac9d44847814c34", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fea99a375af323e3234a7d2967981067fd450701/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fea99a375af323e3234a7d2967981067fd450701/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fea99a375af323e3234a7d2967981067fd450701", "patch": "@@ -1,3 +1,10 @@\n+2011-11-24  Razya Ladelsky  <razya@il.ibm.com>\n+\n+\t* tree-data-ref.c (initialize_data_dependence_relation): Update \n+\tcomment for the self dependence case.\n+\t(compute_self_dependence): Remove.\n+\t* tree-vect-data-refs.c (vect_analyze_data_refs): Remove call to \n+\tcompute_self_dependenc. \n 2011-11-24  Alan Modra  <amodra@gmail.com>\n \n \t* c-decl.c (warn_if_shadowing): Don't warn if shadowed"}, {"sha": "a0d86ec9c117572dbcbe73df4e9250ebbe56df5d", "filename": "gcc/tree-data-ref.c", "status": "modified", "additions": 1, "deletions": 15, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fea99a375af323e3234a7d2967981067fd450701/gcc%2Ftree-data-ref.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fea99a375af323e3234a7d2967981067fd450701/gcc%2Ftree-data-ref.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-data-ref.c?ref=fea99a375af323e3234a7d2967981067fd450701", "patch": "@@ -1385,8 +1385,7 @@ initialize_data_dependence_relation (struct data_reference *a,\n       return res;\n     }\n \n-  /* When the references are exactly the same, don't spend time doing\n-     the data dependence tests, just initialize the ddr and return.  */\n+  /* The case where the references are exactly the same.  */\n   if (operand_equal_p (DR_REF (a), DR_REF (b), 0))\n     {\n      if (loop_nest\n@@ -4132,19 +4131,6 @@ compute_affine_dependence (struct data_dependence_relation *ddr,\n     fprintf (dump_file, \")\\n\");\n }\n \n-/* This computes the dependence relation for the same data\n-   reference into DDR.  */\n-\n-void\n-compute_self_dependence (struct data_dependence_relation *ddr)\n-{\n-  if (DDR_ARE_DEPENDENT (ddr) != NULL_TREE)\n-    return;\n-\n-  if (DDR_LOOP_NEST (ddr))\n-    compute_affine_dependence (ddr, VEC_index (loop_p, DDR_LOOP_NEST (ddr), 0));\n-}\n-\n /* Compute in DEPENDENCE_RELATIONS the data dependence graph for all\n    the data references in DATAREFS, in the LOOP_NEST.  When\n    COMPUTE_SELF_AND_RR is FALSE, don't compute read-read and self"}, {"sha": "8111bdc61ac5a700b6a456902cf012ff4fba39e2", "filename": "gcc/tree-vect-data-refs.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fea99a375af323e3234a7d2967981067fd450701/gcc%2Ftree-vect-data-refs.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fea99a375af323e3234a7d2967981067fd450701/gcc%2Ftree-vect-data-refs.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-data-refs.c?ref=fea99a375af323e3234a7d2967981067fd450701", "patch": "@@ -3122,7 +3122,6 @@ vect_analyze_data_refs (loop_vec_info loop_vinfo,\n \t  ddr = VEC_index (ddr_p, ddrs, k);\n \t  gcc_assert (DDR_A (ddr) == olddr && DDR_B (ddr) == olddr);\n \t  newddr = initialize_data_dependence_relation (dr, dr, nest);\n-\t  compute_self_dependence (newddr);\n \t  VEC_replace (ddr_p, ddrs, k, newddr);\n \t  free_dependence_relation (ddr);\n \t  VEC_replace (data_reference_p, datarefs, i, dr);"}]}