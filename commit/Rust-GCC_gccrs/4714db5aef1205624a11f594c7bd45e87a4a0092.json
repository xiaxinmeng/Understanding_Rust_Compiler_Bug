{"sha": "4714db5aef1205624a11f594c7bd45e87a4a0092", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDcxNGRiNWFlZjEyMDU2MjRhMTFmNTk0YzdiZDQ1ZTg3YTRhMDA5Mg==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2003-06-29T11:28:00Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2003-06-29T11:28:00Z"}, "message": "c-decl.c (c_init_decl_processing): Use a location_t.\n\n\t* c-decl.c (c_init_decl_processing): Use a location_t. Set input\n\tfilename to <internal>.\n\t* tree.c (make_node): Just copy the current location.\n\nFrom-SVN: r68667", "tree": {"sha": "acede1ca18b6f98fec18a1205ed048166fb0fe9e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/acede1ca18b6f98fec18a1205ed048166fb0fe9e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4714db5aef1205624a11f594c7bd45e87a4a0092", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4714db5aef1205624a11f594c7bd45e87a4a0092", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4714db5aef1205624a11f594c7bd45e87a4a0092", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4714db5aef1205624a11f594c7bd45e87a4a0092/comments", "author": null, "committer": null, "parents": [{"sha": "165f54e074b91a80005c7e776f1cceae089b9655", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/165f54e074b91a80005c7e776f1cceae089b9655", "html_url": "https://github.com/Rust-GCC/gccrs/commit/165f54e074b91a80005c7e776f1cceae089b9655"}], "stats": {"total": 20, "additions": 12, "deletions": 8}, "files": [{"sha": "84048c2ad3f97f6968c9d783e1078caa8acdc4ce", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4714db5aef1205624a11f594c7bd45e87a4a0092/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4714db5aef1205624a11f594c7bd45e87a4a0092/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4714db5aef1205624a11f594c7bd45e87a4a0092", "patch": "@@ -1,3 +1,9 @@\n+2003-06-29  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* c-decl.c (c_init_decl_processing): Use a location_t. Set input\n+\tfilename to <internal>.\n+\t* tree.c (make_node): Just copy the current location.\n+\n 2003-06-29  Eric Botcazou  <ebotcazou@libertysurf.fr>\n \n \tPR optimization/11210"}, {"sha": "78b74a4ade7407c18d5a3e4778726cf8acf00079", "filename": "gcc/c-decl.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4714db5aef1205624a11f594c7bd45e87a4a0092/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4714db5aef1205624a11f594c7bd45e87a4a0092/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=4714db5aef1205624a11f594c7bd45e87a4a0092", "patch": "@@ -2232,8 +2232,8 @@ c_init_decl_processing (void)\n {\n   tree endlink;\n   tree ptr_ftype_void, ptr_ftype_ptr;\n-  const char *save_input_filename;\n-\n+  location_t save_loc = input_location;\n+  \n   /* Adds some ggc roots, and reserved words for c-parse.in.  */\n   c_parse_init ();\n \n@@ -2248,8 +2248,8 @@ c_init_decl_processing (void)\n   /* Declarations from c_common_nodes_and_builtins must not be associated\n      with this input file, lest we get differences between using and not\n      using preprocessed headers.  */\n-  save_input_filename = input_filename;\n-  input_filename = NULL;\n+  input_location.file = \"<internal>\";\n+  input_location.line = 0;\n \n   build_common_tree_nodes (flag_signed_char);\n \n@@ -2277,7 +2277,7 @@ c_init_decl_processing (void)\n     = build_function_type (ptr_type_node,\n \t\t\t   tree_cons (NULL_TREE, ptr_type_node, endlink));\n \n-  input_filename = save_input_filename;\n+  input_location = save_loc;\n \n   pedantic_lvalues = pedantic;\n "}, {"sha": "0861cb2a3ffc18cba668b6e51b289a45d7cfe606", "filename": "gcc/tree.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4714db5aef1205624a11f594c7bd45e87a4a0092/gcc%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4714db5aef1205624a11f594c7bd45e87a4a0092/gcc%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.c?ref=4714db5aef1205624a11f594c7bd45e87a4a0092", "patch": "@@ -308,9 +308,7 @@ make_node (code)\n \tDECL_ALIGN (t) = 1;\n       DECL_USER_ALIGN (t) = 0;\n       DECL_IN_SYSTEM_HEADER (t) = in_system_header;\n-      DECL_SOURCE_LINE (t) = input_line;\n-      DECL_SOURCE_FILE (t) =\n-\t(input_filename) ? input_filename : \"<built-in>\";\n+      DECL_SOURCE_LOCATION (t) = input_location;\n       DECL_UID (t) = next_decl_uid++;\n \n       /* We have not yet computed the alias set for this declaration.  */"}]}