{"sha": "c8a65a25634c802d0de7ab33beba49c97eb5d196", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzhhNjVhMjU2MzRjODAyZDBkZTdhYjMzYmViYTQ5Yzk3ZWI1ZDE5Ng==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2003-10-02T23:14:01Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2003-10-02T23:14:01Z"}, "message": "re PR c++/12486 (Accepts IMHO invalid C++ code)\n\n\tPR c++/12486\n\t* typeck.c (finish_class_member_access_expr): Issue diagnostic\n\ton erroneous use of qualified name.\n\n\tPR c++/12486\n\t* g++.dg/inherit/error1.C: New test.\n\nFrom-SVN: r72052", "tree": {"sha": "649eeb261c183570f38ba1c4b7c4e8bf1627b528", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/649eeb261c183570f38ba1c4b7c4e8bf1627b528"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c8a65a25634c802d0de7ab33beba49c97eb5d196", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8a65a25634c802d0de7ab33beba49c97eb5d196", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c8a65a25634c802d0de7ab33beba49c97eb5d196", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8a65a25634c802d0de7ab33beba49c97eb5d196/comments", "author": null, "committer": null, "parents": [{"sha": "bb1b12ec0af7cba621fe5c1b516b1fc34c623b07", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bb1b12ec0af7cba621fe5c1b516b1fc34c623b07", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bb1b12ec0af7cba621fe5c1b516b1fc34c623b07"}], "stats": {"total": 28, "additions": 27, "deletions": 1}, "files": [{"sha": "1661e4170c5ff5f2ac790ca5b9956630fcc4844d", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8a65a25634c802d0de7ab33beba49c97eb5d196/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8a65a25634c802d0de7ab33beba49c97eb5d196/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=c8a65a25634c802d0de7ab33beba49c97eb5d196", "patch": "@@ -1,3 +1,9 @@\n+2003-10-02  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR c++/12486\n+\t* typeck.c (finish_class_member_access_expr): Issue diagnostic\n+\ton erroneous use of qualified name.\n+\n 2003-09-30  Richard Henderson  <rth@redhat.com>\n \n \t* decl.c (duplicate_decls): Copy DECL_SAVED_INSNS too."}, {"sha": "25d6ac4ef466a7d5487c1dee0276eddefa12061d", "filename": "gcc/cp/typeck.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8a65a25634c802d0de7ab33beba49c97eb5d196/gcc%2Fcp%2Ftypeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8a65a25634c802d0de7ab33beba49c97eb5d196/gcc%2Fcp%2Ftypeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftypeck.c?ref=c8a65a25634c802d0de7ab33beba49c97eb5d196", "patch": "@@ -1888,8 +1888,13 @@ finish_class_member_access_expr (tree object, tree name)\n \n \t  /* Find the base of OBJECT_TYPE corresponding to SCOPE.  */\n \t  access_path = lookup_base (object_type, scope, ba_check, NULL);\n-\t  if (!access_path || access_path == error_mark_node)\n+\t  if (access_path == error_mark_node)\n \t    return error_mark_node;\n+\t  if (!access_path)\n+\t    {\n+\t      error (\"`%T' is not a base of `%T'\", scope, object_type);\n+\t      return error_mark_node;\n+\t    }\n \t}\n       else\n \t{"}, {"sha": "5d992b1896ff7d42b30a551cd15bac449e809dce", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8a65a25634c802d0de7ab33beba49c97eb5d196/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8a65a25634c802d0de7ab33beba49c97eb5d196/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c8a65a25634c802d0de7ab33beba49c97eb5d196", "patch": "@@ -1,3 +1,8 @@\n+2003-10-02  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR c++/12486\n+\t* g++.dg/inherit/error1.C: New test.\n+\n 2003-10-02  Chris Demetriou  <cgd@broadcom.com>\n \n \t* lib/f-torture.exp (search_for): Rename to..."}, {"sha": "1570bf11e2ea84c25929aecf1c5b2ed40aad4b2e", "filename": "gcc/testsuite/g++.dg/inherit/error1.C", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8a65a25634c802d0de7ab33beba49c97eb5d196/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Finherit%2Ferror1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8a65a25634c802d0de7ab33beba49c97eb5d196/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Finherit%2Ferror1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Finherit%2Ferror1.C?ref=c8a65a25634c802d0de7ab33beba49c97eb5d196", "patch": "@@ -0,0 +1,10 @@\n+// PR 12486\n+\n+struct A { int ma; }; \n+struct B { }; \n+ \n+void foo() \n+{ \n+  B *b; \n+  b->A::ma=0; // { dg-error \"\" }\n+} "}]}