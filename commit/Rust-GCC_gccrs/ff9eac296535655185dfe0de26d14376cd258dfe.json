{"sha": "ff9eac296535655185dfe0de26d14376cd258dfe", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmY5ZWFjMjk2NTM1NjU1MTg1ZGZlMGRlMjZkMTQzNzZjZDI1OGRmZQ==", "commit": {"author": {"name": "Matthew Wahab", "email": "matthew.wahab@arm.com", "date": "2015-02-04T09:24:56Z"}, "committer": {"name": "Renlin Li", "email": "renlin@gcc.gnu.org", "date": "2015-02-04T09:24:56Z"}, "message": "[PATCH][libstdc++][Testsuite] isctype test fails for newlib.\n\nlibstdc++-v3/\n2015-02-02  Matthew Wahab  <matthew.wahab@arm.com>\n\n\tPR libstdc++/64467\n\t* testsuite/28_regex/testsuiteraits/char/isctype.cc (test01): Add newlib\n\tspecial case for '\\n'.\n\t* test01estsuite/28_regex/traits/wchar_t/isctype.cc (test01): Likewise.\n\nFrom-SVN: r220392", "tree": {"sha": "b6522b773773f3d07b9eb6f05fb4dddd51a5058b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b6522b773773f3d07b9eb6f05fb4dddd51a5058b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ff9eac296535655185dfe0de26d14376cd258dfe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff9eac296535655185dfe0de26d14376cd258dfe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ff9eac296535655185dfe0de26d14376cd258dfe", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff9eac296535655185dfe0de26d14376cd258dfe/comments", "author": null, "committer": null, "parents": [{"sha": "283b44f96adb3e369cb8ed166d6c45703738927b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/283b44f96adb3e369cb8ed166d6c45703738927b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/283b44f96adb3e369cb8ed166d6c45703738927b"}], "stats": {"total": 19, "additions": 19, "deletions": 0}, "files": [{"sha": "1661caf572ab589cfef583143fdf14ae9ddc0dd2", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff9eac296535655185dfe0de26d14376cd258dfe/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff9eac296535655185dfe0de26d14376cd258dfe/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=ff9eac296535655185dfe0de26d14376cd258dfe", "patch": "@@ -1,3 +1,10 @@\n+2015-02-04  Matthew Wahab  <matthew.wahab@arm.com>\n+\n+\tPR  libstdc++/64467\n+\t* testsuite/28_regex/traits/char/isctype.cc (test01):\tAdd newlib\n+\tspecial case for '\\n'.\n+\t* testsuite/28_regex/traits/wchar_t/isctype.cc (test01): Likewise.\n+\n 2015-02-01  Jonathan Wakely  <jwakely@redhat.com>\n \n \t* src/c++11/futex.cc: Do not define for gthr-single.h targets."}, {"sha": "7c4704505503c3fc88b0911203d7ce13ce6cc404", "filename": "libstdc++-v3/testsuite/28_regex/traits/char/isctype.cc", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff9eac296535655185dfe0de26d14376cd258dfe/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Ftraits%2Fchar%2Fisctype.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff9eac296535655185dfe0de26d14376cd258dfe/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Ftraits%2Fchar%2Fisctype.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Ftraits%2Fchar%2Fisctype.cc?ref=ff9eac296535655185dfe0de26d14376cd258dfe", "patch": "@@ -53,7 +53,13 @@ test01()\n   VERIFY(!t.isctype('_', t.lookup_classname(range(digit))));\n   VERIFY( t.isctype(' ', t.lookup_classname(range(blank))));\n   VERIFY( t.isctype('\\t', t.lookup_classname(range(blank))));\n+#if defined (__NEWLIB__)\n+  /* newlib includes '\\n' in class 'blank'.\n+     See https://gcc.gnu.org/ml/gcc-patches/2015-02/msg00059.html.  */\n+  VERIFY( t.isctype('\\n', t.lookup_classname(range(blank))));\n+#else\n   VERIFY(!t.isctype('\\n', t.lookup_classname(range(blank))));\n+#endif\n   VERIFY( t.isctype('t', t.lookup_classname(range(upper), true)));\n   VERIFY( t.isctype('T', t.lookup_classname(range(lower), true)));\n #undef range"}, {"sha": "1b3d69a758c6a88c7aa494b8aeec179d1ebfdc8e", "filename": "libstdc++-v3/testsuite/28_regex/traits/wchar_t/isctype.cc", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff9eac296535655185dfe0de26d14376cd258dfe/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Ftraits%2Fwchar_t%2Fisctype.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff9eac296535655185dfe0de26d14376cd258dfe/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Ftraits%2Fwchar_t%2Fisctype.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Ftraits%2Fwchar_t%2Fisctype.cc?ref=ff9eac296535655185dfe0de26d14376cd258dfe", "patch": "@@ -50,7 +50,13 @@ test01()\n   VERIFY(!t.isctype(L'_', t.lookup_classname(range(digit))));\n   VERIFY( t.isctype(L' ', t.lookup_classname(range(blank))));\n   VERIFY( t.isctype(L'\\t', t.lookup_classname(range(blank))));\n+#if defined (__NEWLIB__)\n+  /* newlib includes '\\n' in class 'blank'.\n+     See https://gcc.gnu.org/ml/gcc-patches/2015-02/msg00059.html.  */\n+  VERIFY( t.isctype(L'\\n', t.lookup_classname(range(blank))));\n+#else\n   VERIFY(!t.isctype(L'\\n', t.lookup_classname(range(blank))));\n+#endif\n   VERIFY( t.isctype(L't', t.lookup_classname(range(upper), true)));\n   VERIFY( t.isctype(L'T', t.lookup_classname(range(lower), true)));\n #undef range"}]}