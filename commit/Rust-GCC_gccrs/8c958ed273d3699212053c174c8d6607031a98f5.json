{"sha": "8c958ed273d3699212053c174c8d6607031a98f5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGM5NThlZDI3M2QzNjk5MjEyMDUzYzE3NGM4ZDY2MDcwMzFhOThmNQ==", "commit": {"author": {"name": "Matthias Klose", "email": "doko@debian.org", "date": "2004-02-16T21:39:23Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-02-16T21:39:23Z"}, "message": "t-slibgcc-elf-ver: Define SHLIB_NAME and SHLIB_SONAME in terms of SHLIB_SOVERSION.\n\n        * config/t-slibgcc-elf-ver: Define SHLIB_NAME and SHLIB_SONAME\n        in terms of SHLIB_SOVERSION.\n        * config/m68k/t-slibgcc-elf-ver: New file.\n        * config/pa/t-slibgcc-elf-ver: New file.\n        * config.gcc (m68k-linux, parisc-linux): Use them when not\n        sjlj exceptions are not configured.\n\nFrom-SVN: r77920", "tree": {"sha": "6e9ece8212d6e8e92e2a1270bf236bb35f2b86c7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6e9ece8212d6e8e92e2a1270bf236bb35f2b86c7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8c958ed273d3699212053c174c8d6607031a98f5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c958ed273d3699212053c174c8d6607031a98f5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8c958ed273d3699212053c174c8d6607031a98f5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c958ed273d3699212053c174c8d6607031a98f5/comments", "author": null, "committer": null, "parents": [{"sha": "35d0b14df6995e79e84201c45d49ef986f9e0b77", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/35d0b14df6995e79e84201c45d49ef986f9e0b77", "html_url": "https://github.com/Rust-GCC/gccrs/commit/35d0b14df6995e79e84201c45d49ef986f9e0b77"}], "stats": {"total": 30, "additions": 28, "deletions": 2}, "files": [{"sha": "62ead8916bca48c323535a434c20d1d0d5e0e1ff", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c958ed273d3699212053c174c8d6607031a98f5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c958ed273d3699212053c174c8d6607031a98f5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8c958ed273d3699212053c174c8d6607031a98f5", "patch": "@@ -1,3 +1,12 @@\n+2004-02-16  Matthias Klose  <doko@debian.org>\n+\n+        * config/t-slibgcc-elf-ver: Define SHLIB_NAME and SHLIB_SONAME\n+        in terms of SHLIB_SOVERSION.\n+        * config/m68k/t-slibgcc-elf-ver: New file.\n+        * config/pa/t-slibgcc-elf-ver: New file.\n+        * config.gcc (m68k-linux, parisc-linux): Use them when not \n+\tsjlj exceptions are not configured.\n+\n 2004-02-16  Eric Botcazou  <ebotcazou@libertysurf.fr>\n \n \t* config/sparc/sparc.c (get_pc_symbol_name): Mark with GTY(())."}, {"sha": "841bd189597ad74ac35dcf63cd8cdf3d90ecbfc4", "filename": "gcc/config.gcc", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c958ed273d3699212053c174c8d6607031a98f5/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c958ed273d3699212053c174c8d6607031a98f5/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=8c958ed273d3699212053c174c8d6607031a98f5", "patch": "@@ -744,6 +744,11 @@ hppa*-*-linux* | parisc*-*-linux*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h linux.h pa/pa-linux.h \\\n \t\t pa/pa32-regs.h pa/pa32-linux.h\"\n \ttmake_file=\"t-slibgcc-elf-ver t-linux pa/t-linux\"\n+\t# if not configured with --enable-sjlj-exceptions, bump the\n+\t# libgcc version number\n+\tif test x$sjlj != x1; then\n+\t    tmake_file=\"$tmake_file pa/t-slibgcc-elf-ver\"\n+\tfi\n \t;;\n # port not yet contributed.\n #hppa*-*-openbsd*)\n@@ -1221,6 +1226,11 @@ m68k-*-linux*)\t\t# Motorola m68k's running GNU/Linux\n \ttm_file=\"m68k/m68k.h dbxelf.h elfos.h svr4.h linux.h m68k/linux.h\"\n \ttm_defines=\"MOTOROLA USE_GAS\"\n \ttmake_file=\"t-slibgcc-elf-ver t-linux\"\n+\t# if not configured with --enable-sjlj-exceptions, bump the\n+\t# libgcc version number\n+\tif test x$sjlj != x1; then\n+\t    tmake_file=\"$tmake_file m68k/t-slibgcc-elf-ver\"\n+\tfi\n \t;;\n m68k-*-rtems*)\n \ttmake_file=\"m68k/t-m68kbare m68k/t-crtstuff t-rtems m68k/t-rtems\""}, {"sha": "6aac37cc08fc504880ba07d8d3157f68d06f3498", "filename": "gcc/config/m68k/t-slibgcc-elf-ver", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c958ed273d3699212053c174c8d6607031a98f5/gcc%2Fconfig%2Fm68k%2Ft-slibgcc-elf-ver", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c958ed273d3699212053c174c8d6607031a98f5/gcc%2Fconfig%2Fm68k%2Ft-slibgcc-elf-ver", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Ft-slibgcc-elf-ver?ref=8c958ed273d3699212053c174c8d6607031a98f5", "patch": "@@ -0,0 +1,3 @@\n+# Bump the version number of the shared libgcc library\n+\n+SHLIB_SOVERSION = 2"}, {"sha": "6aac37cc08fc504880ba07d8d3157f68d06f3498", "filename": "gcc/config/pa/t-slibgcc-elf-ver", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c958ed273d3699212053c174c8d6607031a98f5/gcc%2Fconfig%2Fpa%2Ft-slibgcc-elf-ver", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c958ed273d3699212053c174c8d6607031a98f5/gcc%2Fconfig%2Fpa%2Ft-slibgcc-elf-ver", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Ft-slibgcc-elf-ver?ref=8c958ed273d3699212053c174c8d6607031a98f5", "patch": "@@ -0,0 +1,3 @@\n+# Bump the version number of the shared libgcc library\n+\n+SHLIB_SOVERSION = 2"}, {"sha": "bd40978f984c1466709e27c90b4b0865db23677c", "filename": "gcc/config/t-slibgcc-elf-ver", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c958ed273d3699212053c174c8d6607031a98f5/gcc%2Fconfig%2Ft-slibgcc-elf-ver", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c958ed273d3699212053c174c8d6607031a98f5/gcc%2Fconfig%2Ft-slibgcc-elf-ver", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ft-slibgcc-elf-ver?ref=8c958ed273d3699212053c174c8d6607031a98f5", "patch": "@@ -3,8 +3,9 @@\n \n SHLIB_EXT = .so\n SHLIB_SOLINK = @shlib_base_name@.so\n-SHLIB_SONAME = @shlib_so_name@.so.1\n-SHLIB_NAME = @shlib_dir@@shlib_so_name@.so.1\n+SHLIB_SOVERSION = 1\n+SHLIB_SONAME = @shlib_so_name@.so.$(SHLIB_SOVERSION)\n+SHLIB_NAME = @shlib_dir@@shlib_so_name@.so.$(SHLIB_SOVERSION)\n SHLIB_MAP = @shlib_map_file@\n SHLIB_OBJS = @shlib_objs@\n SHLIB_SLIBDIR_QUAL = @shlib_slibdir_qual@"}]}