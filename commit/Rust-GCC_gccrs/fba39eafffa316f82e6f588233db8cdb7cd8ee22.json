{"sha": "fba39eafffa316f82e6f588233db8cdb7cd8ee22", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmJhMzllYWZmZmEzMTZmODJlNmY1ODgyMzNkYjhjZGI3Y2Q4ZWUyMg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2002-03-22T02:24:52Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-03-22T02:24:52Z"}, "message": "re PR target/5996 (libstdc++ (FILE related) sparc-sun-solaris2.8 bootstrap failure)\n\n        PR target/5996\n        * fixinc/inclhack.def (solaris_stdio_tag): New.\n        * fixinc/fixincl.x: Regenerate.\n\nFrom-SVN: r51158", "tree": {"sha": "2bdab28a4a74eb62ead243a0922614ddad9ec806", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2bdab28a4a74eb62ead243a0922614ddad9ec806"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fba39eafffa316f82e6f588233db8cdb7cd8ee22", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fba39eafffa316f82e6f588233db8cdb7cd8ee22", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fba39eafffa316f82e6f588233db8cdb7cd8ee22", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fba39eafffa316f82e6f588233db8cdb7cd8ee22/comments", "author": null, "committer": null, "parents": [{"sha": "eba80994397693d6ab3a65a05a05ef743ad76652", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eba80994397693d6ab3a65a05a05ef743ad76652", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eba80994397693d6ab3a65a05a05ef743ad76652"}], "stats": {"total": 68, "additions": 65, "deletions": 3}, "files": [{"sha": "bbdadd7effc13fc9fefe8b92a93aa4358f5c1466", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fba39eafffa316f82e6f588233db8cdb7cd8ee22/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fba39eafffa316f82e6f588233db8cdb7cd8ee22/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fba39eafffa316f82e6f588233db8cdb7cd8ee22", "patch": "@@ -1,3 +1,9 @@\n+2002-03-21  Richard Henderson  <rth@redhat.com>\n+\n+\tPR target/5996\n+\t* fixinc/inclhack.def (solaris_stdio_tag): New.\n+\t* fixinc/fixincl.x: Regenerate.\n+\n 2002-03-21  Eric Botcazou <ebotcazou@multimania.com>\n \n \tPR c/5597"}, {"sha": "a128a399860db808a4aad0f1674e2def1bce1aac", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 43, "deletions": 3, "changes": 46, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fba39eafffa316f82e6f588233db8cdb7cd8ee22/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fba39eafffa316f82e6f588233db8cdb7cd8ee22/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=fba39eafffa316f82e6f588233db8cdb7cd8ee22", "patch": "@@ -5,7 +5,7 @@\n  * files which are fixed to work correctly with ANSI C and placed in a\n  * directory that GNU C will search.\n  *\n- * This file contains 139 fixup descriptions.\n+ * This file contains 140 fixup descriptions.\n  *\n  * See README for more information.\n  *\n@@ -3660,6 +3660,40 @@ static const char* apzSolaris_Mutex_InitPatch[] = {\n     \"(^#define[ \\t]+PTHREAD_(MUTEX|COND)_INITIALIZER[ \\t]+{.*),[ \\t]*0}(|[ \\t].*)$\",\n     (char*)NULL };\n \n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Solaris_Stdio_Tag fix\n+ */\n+tSCC zSolaris_Stdio_TagName[] =\n+     \"solaris_stdio_tag\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zSolaris_Stdio_TagList[] =\n+  \"|stdio_tag.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+#define apzSolaris_Stdio_TagMachs (const char**)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zSolaris_Stdio_TagSelect0[] =\n+       \"__cplusplus < 54321L\";\n+\n+#define    SOLARIS_STDIO_TAG_TEST_CT  1\n+static tTestDesc aSolaris_Stdio_TagTests[] = {\n+  { TT_EGREP,    zSolaris_Stdio_TagSelect0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Solaris_Stdio_Tag\n+ */\n+static const char* apzSolaris_Stdio_TagPatch[] = { \"sed\",\n+    \"-e\", \"s/defined(__cplusplus) && (__cplusplus < 54321L)/0/\",\n+    (char*)NULL };\n+\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Statsswtch fix\n@@ -5470,9 +5504,9 @@ static const char* apzX11_SprintfPatch[] = {\n  *\n  *  List of all fixes\n  */\n-#define REGEX_COUNT          148\n+#define REGEX_COUNT          149\n #define MACH_LIST_SIZE_LIMIT 279\n-#define FIX_COUNT            139\n+#define FIX_COUNT            140\n \n /*\n  *  Enumerate the fixes\n@@ -5570,6 +5604,7 @@ typedef enum {\n     SCO_STATIC_FUNC_FIXIDX,\n     SCO_UTIME_FIXIDX,\n     SOLARIS_MUTEX_INIT_FIXIDX,\n+    SOLARIS_STDIO_TAG_FIXIDX,\n     STATSSWTCH_FIXIDX,\n     STDIO_STDARG_H_FIXIDX,\n     STDIO_VA_LIST_FIXIDX,\n@@ -6080,6 +6115,11 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      SOLARIS_MUTEX_INIT_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aSolaris_Mutex_InitTests,   apzSolaris_Mutex_InitPatch, 0 },\n \n+  {  zSolaris_Stdio_TagName,    zSolaris_Stdio_TagList,\n+     apzSolaris_Stdio_TagMachs,\n+     SOLARIS_STDIO_TAG_TEST_CT, FD_MACH_ONLY,\n+     aSolaris_Stdio_TagTests,   apzSolaris_Stdio_TagPatch, 0 },\n+\n   {  zStatsswtchName,    zStatsswtchList,\n      apzStatsswtchMachs,\n      STATSSWTCH_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,"}, {"sha": "6faca9ae314563f507824537eeb3b18196f1f792", "filename": "gcc/fixinc/inclhack.def", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fba39eafffa316f82e6f588233db8cdb7cd8ee22/gcc%2Ffixinc%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fba39eafffa316f82e6f588233db8cdb7cd8ee22/gcc%2Ffixinc%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.def?ref=fba39eafffa316f82e6f588233db8cdb7cd8ee22", "patch": "@@ -2060,6 +2060,22 @@ fix = {\n };\n \n \n+/*\n+ * Solaris 2.8 has what appears to be some gross workaround for \n+ * some old version of their c++ compiler.  G++ doesn't want it\n+ * either, but doesn't want to be tied to SunPRO version numbers.\n+ */\n+fix = {\n+    hackname = solaris_stdio_tag;\n+    files    = stdio_tag.h;\n+\n+    select   = '__cplusplus < 54321L';\n+    sed      = 's/defined(__cplusplus) && (__cplusplus < 54321L)/0/';\n+\n+    test_text = '#if\\tdefined(__cplusplus) && (__cplusplus < 54321L)';\n+};\n+\n+\n /*\n  *  Sony NEWSOS 5.0 does not support the complete ANSI C standard.\n  */"}]}