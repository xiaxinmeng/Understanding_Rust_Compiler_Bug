{"sha": "e3485bbc86dcb46db022d8e2d4256d319b3c7fcd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTM0ODViYmM4NmRjYjQ2ZGIwMjJkOGUyZDQyNTZkMzE5YjNjN2ZjZA==", "commit": {"author": {"name": "David Edelsohn", "email": "edelsohn@gnu.org", "date": "2002-07-20T02:20:16Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2002-07-20T02:20:16Z"}, "message": "rs6000.md: Remove ppc630 fpcompare from single fpu list.\n\n        * config/rs6000/rs6000.md: Remove ppc630 fpcompare from single\n        fpu list.  Separate Power4 compare and delayed_compare.  Correct\n        Power4 fpcompare.\n        (fix_truncdfsi2_internal): Restore FPR preference.\n        * config/rs6000/t-aix43 (MULTILIB_MATCHES): Add mcpu?power3,\n        mcpu?power4, mcpu?604e.  Remove mpower, mpower2, mpowerpc.\n\nFrom-SVN: r55601", "tree": {"sha": "0cdebc814b7553ce8066dc536a42bc5050d23e59", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0cdebc814b7553ce8066dc536a42bc5050d23e59"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e3485bbc86dcb46db022d8e2d4256d319b3c7fcd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e3485bbc86dcb46db022d8e2d4256d319b3c7fcd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e3485bbc86dcb46db022d8e2d4256d319b3c7fcd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e3485bbc86dcb46db022d8e2d4256d319b3c7fcd/comments", "author": null, "committer": null, "parents": [{"sha": "449655a6fece3dd5149f3b36a3828a4ebc24e378", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/449655a6fece3dd5149f3b36a3828a4ebc24e378", "html_url": "https://github.com/Rust-GCC/gccrs/commit/449655a6fece3dd5149f3b36a3828a4ebc24e378"}], "stats": {"total": 44, "additions": 26, "deletions": 18}, "files": [{"sha": "6720f50f2b2af2eb3162279ab59c8fc4e8bd0cab", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e3485bbc86dcb46db022d8e2d4256d319b3c7fcd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e3485bbc86dcb46db022d8e2d4256d319b3c7fcd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e3485bbc86dcb46db022d8e2d4256d319b3c7fcd", "patch": "@@ -1,3 +1,12 @@\n+2002-07-19  David Edelsohn  <edelsohn@gnu.org>\n+\n+\t* config/rs6000/rs6000.md: Remove ppc630 fpcompare from single\n+\tfpu list.  Separate Power4 compare and delayed_compare.  Correct\n+\tPower4 fpcompare.\n+\t(fix_truncdfsi2_internal): Restore FPR preference.\n+\t* config/rs6000/t-aix43 (MULTILIB_MATCHES): Add mcpu?power3,\n+\tmcpu?power4, mcpu?604e.  Remove mpower, mpower2, mpowerpc.\n+\n 2002-07-19  Momchil Velikov <velco@fadata.bg>\n \n \t* reload1.c (reload_as_needed): Duplicate oldpat."}, {"sha": "de766637b5d4a3a5a639e086363e8d7706936bed", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 9, "deletions": 7, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e3485bbc86dcb46db022d8e2d4256d319b3c7fcd/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e3485bbc86dcb46db022d8e2d4256d319b3c7fcd/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=e3485bbc86dcb46db022d8e2d4256d319b3c7fcd", "patch": "@@ -543,7 +543,7 @@\n ; fp compare uses fp unit\n (define_function_unit \"fpu\" 1 0\n   (and (eq_attr \"type\" \"fpcompare\")\n-       (eq_attr \"cpu\" \"rs64a,ppc601,ppc603,ppc604,ppc604e,ppc620,ppc630\"))\n+       (eq_attr \"cpu\" \"rs64a,ppc601,ppc603,ppc604,ppc604e,ppc620\"))\n   5 1)\n \n (define_function_unit \"fpu\" 1 0\n@@ -805,14 +805,14 @@\n   68 67)\n \n (define_function_unit \"iu2\" 2 0\n-  (and (eq_attr \"type\" \"compare,delayed_compare\")\n+  (and (eq_attr \"type\" \"compare\")\n        (eq_attr \"cpu\" \"power4\"))\n-  2 1)\n+  3 1)\n \n (define_function_unit \"iu2\" 2 0\n-  (and (eq_attr \"type\" \"mtjmpr\")\n+  (and (eq_attr \"type\" \"delayed_compare\")\n        (eq_attr \"cpu\" \"power4\"))\n-  3 1)\n+  4 1)\n \n (define_function_unit \"bpu\" 1 0\n   (and (eq_attr \"type\" \"mtjmpr\")\n@@ -834,10 +834,12 @@\n        (eq_attr \"cpu\" \"power4\"))\n   6 1)\n \n+; adjust_cost increases the cost of dependent branches,\n+; so shave a few cycles off for fpcompare.\n (define_function_unit \"fpu2\" 2 0\n   (and (eq_attr \"type\" \"fpcompare\")\n        (eq_attr \"cpu\" \"power4\"))\n-  8 2)\n+  5 1)\n \n (define_function_unit \"fpu2\" 2 0\n   (and (eq_attr \"type\" \"sdiv,ddiv\")\n@@ -5505,7 +5507,7 @@\n (define_insn \"*fix_truncdfsi2_internal\"\n   [(set (match_operand:SI 0 \"gpc_reg_operand\" \"=r\")\n \t(fix:SI (match_operand:DF 1 \"gpc_reg_operand\" \"f\")))\n-   (clobber (match_operand:DI 2 \"gpc_reg_operand\" \"=*f\"))\n+   (clobber (match_operand:DI 2 \"gpc_reg_operand\" \"=f\"))\n    (clobber (match_operand:DI 3 \"memory_operand\" \"=o\"))]\n   \"(TARGET_POWER2 || TARGET_POWERPC) && TARGET_HARD_FLOAT\"\n   \"#\""}, {"sha": "1acccf64d10f598bf1cb7bd2d7b87898d1d668e2", "filename": "gcc/config/rs6000/t-aix43", "status": "modified", "additions": 8, "deletions": 11, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e3485bbc86dcb46db022d8e2d4256d319b3c7fcd/gcc%2Fconfig%2Frs6000%2Ft-aix43", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e3485bbc86dcb46db022d8e2d4256d319b3c7fcd/gcc%2Fconfig%2Frs6000%2Ft-aix43", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Ft-aix43?ref=e3485bbc86dcb46db022d8e2d4256d319b3c7fcd", "patch": "@@ -19,27 +19,24 @@ MULTILIB_OPTIONS\t= pthread \\\n MULTILIB_DIRNAMES\t= pthread \\\n \t\t\t  common power powerpc ppc64\n \n-MULTILIB_MATCHES\t= mcpu?power=mpower \\\n-\t\t\t  mcpu?power=mrios1 \\\n+MULTILIB_MATCHES\t= mcpu?power=mcpu?power \\\n+\t\t\t  mcpu?power=mcpu?power2 \\\n+\t\t\t  mcpu?powerpc=mcpu?power3 \\\n+\t\t\t  mcpu?powerpc=mcpu?power4 \\\n+\t\t\t  mcpu?powerpc=mcpu?powerpc \\\n \t\t\t  mcpu?power=mcpu?rios1 \\\n+\t\t\t  mcpu?power=mcpu?rios2 \\\n \t\t\t  mcpu?power=mcpu?rsc \\\n \t\t\t  mcpu?power=mcpu?rsc1 \\\n-\t\t\t  mcpu?power=mpower2 \\\n-\t\t\t  mcpu?power=mrios2 \\\n-\t\t\t  mcpu?power=mcpu?rios2 \\\n \t\t\t  mcpu?powerpc=mcpu?rs64a \\\n \t\t\t  mcpu?powerpc=mcpu?601 \\\n \t\t\t  mcpu?powerpc=mcpu?602 \\\n \t\t\t  mcpu?powerpc=mcpu?603 \\\n \t\t\t  mcpu?powerpc=mcpu?603e \\\n \t\t\t  mcpu?powerpc=mcpu?604 \\\n+\t\t\t  mcpu?powerpc=mcpu?604e \\\n \t\t\t  mcpu?powerpc=mcpu?620 \\\n-\t\t\t  mcpu?powerpc=mcpu?630 \\\n-\t\t\t  mcpu?powerpc=mcpu?750 \\\n-\t\t\t  mcpu?powerpc=mcpu?403 \\\n-\t\t\t  mcpu?powerpc=mpowerpc \\\n-\t\t\t  mcpu?powerpc=mpowerpc-gpopt \\\n-\t\t\t  mcpu?powerpc=mpowerpc-gfxopt\n+\t\t\t  mcpu?powerpc=mcpu?630\n \n LIBGCC = stmp-multilib\n INSTALL_LIBGCC = install-multilib"}]}