{"sha": "a77b1dbce6273d7618085c60ab4bdc4579420c39", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTc3YjFkYmNlNjI3M2Q3NjE4MDg1YzYwYWI0YmRjNDU3OTQyMGMzOQ==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@hxi.com", "date": "2001-11-14T14:28:06Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2001-11-14T14:28:06Z"}, "message": "h8300.c (get_shift_alg): Reorganize the code that deals with 7-bit shifts in HImode.\n\n\t* config/h8300/h8300.c (get_shift_alg): Reorganize the code\n\tthat deals with 7-bit shifts in HImode.\n\nFrom-SVN: r47014", "tree": {"sha": "dacb101f81b7295af7bbf22a0e4addff571f4f8c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dacb101f81b7295af7bbf22a0e4addff571f4f8c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a77b1dbce6273d7618085c60ab4bdc4579420c39", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a77b1dbce6273d7618085c60ab4bdc4579420c39", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a77b1dbce6273d7618085c60ab4bdc4579420c39", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a77b1dbce6273d7618085c60ab4bdc4579420c39/comments", "author": null, "committer": null, "parents": [{"sha": "49d801d3dba0c2ed5038253a447ca2cdff549754", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/49d801d3dba0c2ed5038253a447ca2cdff549754", "html_url": "https://github.com/Rust-GCC/gccrs/commit/49d801d3dba0c2ed5038253a447ca2cdff549754"}], "stats": {"total": 40, "additions": 17, "deletions": 23}, "files": [{"sha": "59761d3f514146c2971aaf12e0f7f540d3138b53", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a77b1dbce6273d7618085c60ab4bdc4579420c39/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a77b1dbce6273d7618085c60ab4bdc4579420c39/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a77b1dbce6273d7618085c60ab4bdc4579420c39", "patch": "@@ -1,3 +1,8 @@\n+2001-11-14  Kazu Hirata  <kazu@hxi.com>\n+\n+\t* config/h8300/h8300.c (get_shift_alg): Reorganize the code\n+\tthat deals with 7-bit shifts in HImode.\n+\n Wed Nov 14 14:17:05 CET 2001  Jan Hubicka  <jh@suse.cz>\n \n \t* dbxout.c (dbxout_symbol_location): Update call of alter_subreg."}, {"sha": "ea9c74dc8fe78a971742fe10bb49467e78a0c251", "filename": "gcc/config/h8300/h8300.c", "status": "modified", "additions": 12, "deletions": 23, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a77b1dbce6273d7618085c60ab4bdc4579420c39/gcc%2Fconfig%2Fh8300%2Fh8300.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a77b1dbce6273d7618085c60ab4bdc4579420c39/gcc%2Fconfig%2Fh8300%2Fh8300.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Fh8300.c?ref=a77b1dbce6273d7618085c60ab4bdc4579420c39", "patch": "@@ -2420,32 +2420,21 @@ get_shift_alg (shift_type, shift_mode, count, info)\n     case HIshift:\n       if (count == 7)\n \t{\n-\t  if (shift_type == SHIFT_ASHIFT && TARGET_H8300)\n-\t    {\n-\t      info->special = \"shar.b\\t%t0\\n\\tmov.b\\t%s0,%t0\\n\\trotxr.b\\t%t0\\n\\trotr.b\\t%s0\\n\\tand.b\\t#0x80,%s0\";\n-\t      goto end;\n-\t    }\n-\n-\t  if (shift_type == SHIFT_ASHIFT && TARGET_H8300H)\n-\t    {\n-\t      info->special = \"shar.b\\t%t0\\n\\tmov.b\\t%s0,%t0\\n\\trotxr.w\\t%T0\\n\\tand.b\\t#0x80,%s0\";\n-\t      goto end;\n-\t    }\n-\n-\t  if (shift_type == SHIFT_LSHIFTRT && TARGET_H8300)\n+\t  switch (shift_type)\n \t    {\n-\t      info->special = \"shal.b\\t%s0\\n\\tmov.b\\t%t0,%s0\\n\\trotxl.b\\t%s0\\n\\trotl.b\\t%t0\\n\\tand.b\\t#0x01,%t0\";\n+\t    case SHIFT_ASHIFT:\n+\t      if (TARGET_H8300)\n+\t\tinfo->special = \"shar.b\\t%t0\\n\\tmov.b\\t%s0,%t0\\n\\trotxr.b\\t%t0\\n\\trotr.b\\t%s0\\n\\tand.b\\t#0x80,%s0\";\n+\t      else\n+\t\tinfo->special = \"shar.b\\t%t0\\n\\tmov.b\\t%s0,%t0\\n\\trotxr.w\\t%T0\\n\\tand.b\\t#0x80,%s0\";\n \t      goto end;\n-\t    }\n-\n-\t  if (shift_type == SHIFT_LSHIFTRT && TARGET_H8300H)\n-\t    {\n-\t      info->special = \"shal.b\\t%s0\\n\\tmov.b\\t%t0,%s0\\n\\trotxl.w\\t%T0\\n\\tand.b\\t#0x01,%t0\";\n+\t    case SHIFT_LSHIFTRT:\n+\t      if (TARGET_H8300)\n+\t\tinfo->special = \"shal.b\\t%s0\\n\\tmov.b\\t%t0,%s0\\n\\trotxl.b\\t%s0\\n\\trotl.b\\t%t0\\n\\tand.b\\t#0x01,%t0\";\n+\t      else\n+\t\tinfo->special = \"shal.b\\t%s0\\n\\tmov.b\\t%t0,%s0\\n\\trotxl.w\\t%T0\\n\\tand.b\\t#0x01,%t0\";\n \t      goto end;\n-\t    }\n-\n-\t  if (shift_type == SHIFT_ASHIFTRT)\n-\t    {\n+\t    case SHIFT_ASHIFTRT:\n \t      info->special = \"shal.b\\t%s0\\n\\tmov.b\\t%t0,%s0\\n\\trotxl.b\\t%s0\\n\\tsubx\\t%t0,%t0\";\n \t      goto end;\n \t    }"}]}