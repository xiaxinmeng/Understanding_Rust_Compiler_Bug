{"sha": "89456334473c6b1ea1713740fb5f5191cd0b2235", "node_id": "C_kwDOANBUbNoAKDg5NDU2MzM0NDczYzZiMWVhMTcxMzc0MGZiNWY1MTkxY2QwYjIyMzU", "commit": {"author": {"name": "Liao Shihua", "email": "shihua@iscas.ac.cn", "date": "2023-02-20T07:01:21Z"}, "committer": {"name": "Kito Cheng", "email": "kito.cheng@sifive.com", "date": "2023-03-05T17:04:53Z"}, "message": "RISC-V: Add prototypes for RISC-V Crypto built-in functions\n\nThis patch adds prototypes for RISC-V Crypto built-in functions.\n\ngcc/ChangeLog:\n\n\t* config/riscv/riscv-builtins.cc (RISCV_FTYPE_NAME2): New.\n\t(RISCV_FTYPE_NAME3): New.\n\t(RISCV_ATYPE_QI): New.\n\t(RISCV_ATYPE_HI): New.\n\t(RISCV_FTYPE_ATYPES2): New.\n\t(RISCV_FTYPE_ATYPES3): New.\n\t* config/riscv/riscv-ftypes.def (2): New.\n\t(3): New.\n\nCo-Authored-By: SiYu Wu <siyu@isrc.iscas.ac.cn>", "tree": {"sha": "f90afdcc0b6a7802f5ffde61ab03ad33f83c1b52", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f90afdcc0b6a7802f5ffde61ab03ad33f83c1b52"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/89456334473c6b1ea1713740fb5f5191cd0b2235", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89456334473c6b1ea1713740fb5f5191cd0b2235", "html_url": "https://github.com/Rust-GCC/gccrs/commit/89456334473c6b1ea1713740fb5f5191cd0b2235", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89456334473c6b1ea1713740fb5f5191cd0b2235/comments", "author": {"login": "Liaoshihua", "id": 43035022, "node_id": "MDQ6VXNlcjQzMDM1MDIy", "avatar_url": "https://avatars.githubusercontent.com/u/43035022?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Liaoshihua", "html_url": "https://github.com/Liaoshihua", "followers_url": "https://api.github.com/users/Liaoshihua/followers", "following_url": "https://api.github.com/users/Liaoshihua/following{/other_user}", "gists_url": "https://api.github.com/users/Liaoshihua/gists{/gist_id}", "starred_url": "https://api.github.com/users/Liaoshihua/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Liaoshihua/subscriptions", "organizations_url": "https://api.github.com/users/Liaoshihua/orgs", "repos_url": "https://api.github.com/users/Liaoshihua/repos", "events_url": "https://api.github.com/users/Liaoshihua/events{/privacy}", "received_events_url": "https://api.github.com/users/Liaoshihua/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kito-cheng", "id": 2723185, "node_id": "MDQ6VXNlcjI3MjMxODU=", "avatar_url": "https://avatars.githubusercontent.com/u/2723185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kito-cheng", "html_url": "https://github.com/kito-cheng", "followers_url": "https://api.github.com/users/kito-cheng/followers", "following_url": "https://api.github.com/users/kito-cheng/following{/other_user}", "gists_url": "https://api.github.com/users/kito-cheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/kito-cheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kito-cheng/subscriptions", "organizations_url": "https://api.github.com/users/kito-cheng/orgs", "repos_url": "https://api.github.com/users/kito-cheng/repos", "events_url": "https://api.github.com/users/kito-cheng/events{/privacy}", "received_events_url": "https://api.github.com/users/kito-cheng/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7e52f4420ffb0946dfc97704d72fa8aa67251495", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e52f4420ffb0946dfc97704d72fa8aa67251495", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7e52f4420ffb0946dfc97704d72fa8aa67251495"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "ded91e175543a4d42d3bbb369e434bb0576966fa", "filename": "gcc/config/riscv/riscv-builtins.cc", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89456334473c6b1ea1713740fb5f5191cd0b2235/gcc%2Fconfig%2Friscv%2Friscv-builtins.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89456334473c6b1ea1713740fb5f5191cd0b2235/gcc%2Fconfig%2Friscv%2Friscv-builtins.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Friscv%2Friscv-builtins.cc?ref=89456334473c6b1ea1713740fb5f5191cd0b2235", "patch": "@@ -42,6 +42,8 @@ along with GCC; see the file COPYING3.  If not see\n /* Macros to create an enumeration identifier for a function prototype.  */\n #define RISCV_FTYPE_NAME0(A) RISCV_##A##_FTYPE\n #define RISCV_FTYPE_NAME1(A, B) RISCV_##A##_FTYPE_##B\n+#define RISCV_FTYPE_NAME2(A, B, C) RISCV_##A##_FTYPE_##B##_##C\n+#define RISCV_FTYPE_NAME3(A, B, C, D) RISCV_##A##_FTYPE_##B##_##C##_##D\n \n /* Classifies the prototype of a built-in function.  */\n enum riscv_function_type {\n@@ -132,6 +134,8 @@ AVAIL (always,     (!0))\n /* Argument types.  */\n #define RISCV_ATYPE_VOID void_type_node\n #define RISCV_ATYPE_USI unsigned_intSI_type_node\n+#define RISCV_ATYPE_QI intQI_type_node\n+#define RISCV_ATYPE_HI intHI_type_node\n #define RISCV_ATYPE_SI intSI_type_node\n #define RISCV_ATYPE_DI intDI_type_node\n #define RISCV_ATYPE_VOID_PTR ptr_type_node\n@@ -142,6 +146,10 @@ AVAIL (always,     (!0))\n   RISCV_ATYPE_##A\n #define RISCV_FTYPE_ATYPES1(A, B) \\\n   RISCV_ATYPE_##A, RISCV_ATYPE_##B\n+#define RISCV_FTYPE_ATYPES2(A, B, C) \\\n+  RISCV_ATYPE_##A, RISCV_ATYPE_##B, RISCV_ATYPE_##C\n+#define RISCV_FTYPE_ATYPES3(A, B, C, D) \\\n+  RISCV_ATYPE_##A, RISCV_ATYPE_##B, RISCV_ATYPE_##C, RISCV_ATYPE_##D\n \n static const struct riscv_builtin_description riscv_builtins[] = {\n   #include \"riscv-cmo.def\""}, {"sha": "3b518195a29c65f01ea958d4ee068bc8c827d692", "filename": "gcc/config/riscv/riscv-ftypes.def", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89456334473c6b1ea1713740fb5f5191cd0b2235/gcc%2Fconfig%2Friscv%2Friscv-ftypes.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89456334473c6b1ea1713740fb5f5191cd0b2235/gcc%2Fconfig%2Friscv%2Friscv-ftypes.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Friscv%2Friscv-ftypes.def?ref=89456334473c6b1ea1713740fb5f5191cd0b2235", "patch": "@@ -32,3 +32,13 @@ DEF_RISCV_FTYPE (1, (VOID, USI))\n DEF_RISCV_FTYPE (1, (VOID, VOID_PTR))\n DEF_RISCV_FTYPE (1, (SI, SI))\n DEF_RISCV_FTYPE (1, (DI, DI))\n+DEF_RISCV_FTYPE (2, (SI, QI, QI))\n+DEF_RISCV_FTYPE (2, (SI, HI, HI))\n+DEF_RISCV_FTYPE (2, (SI, SI, SI))\n+DEF_RISCV_FTYPE (2, (DI, QI, QI))\n+DEF_RISCV_FTYPE (2, (DI, HI, HI))\n+DEF_RISCV_FTYPE (2, (DI, SI, SI))\n+DEF_RISCV_FTYPE (2, (DI, DI, SI))\n+DEF_RISCV_FTYPE (2, (DI, DI, DI))\n+DEF_RISCV_FTYPE (3, (SI, SI, SI, SI))\n+DEF_RISCV_FTYPE (3, (DI, DI, DI, SI))"}]}