{"sha": "22e92ac3b66eb7aa4d43178ec6d629bccc97cd21", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjJlOTJhYzNiNjZlYjdhYTRkNDMxNzhlYzZkNjI5YmNjYzk3Y2QyMQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2000-02-27T05:30:00Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2000-02-27T05:30:00Z"}, "message": "semantics.c (simplify_aggr_init_exprs_p): Don't walk into types.\n\n\t* semantics.c (simplify_aggr_init_exprs_p): Don't walk into\n\ttypes.\n\nFrom-SVN: r32210", "tree": {"sha": "807140fc35a0fe684f37c2a6fd0bc7d831e4bf49", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/807140fc35a0fe684f37c2a6fd0bc7d831e4bf49"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/22e92ac3b66eb7aa4d43178ec6d629bccc97cd21", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22e92ac3b66eb7aa4d43178ec6d629bccc97cd21", "html_url": "https://github.com/Rust-GCC/gccrs/commit/22e92ac3b66eb7aa4d43178ec6d629bccc97cd21", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22e92ac3b66eb7aa4d43178ec6d629bccc97cd21/comments", "author": null, "committer": null, "parents": [{"sha": "4278955754174d9c305a87d1e6bf43a1eed25618", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4278955754174d9c305a87d1e6bf43a1eed25618", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4278955754174d9c305a87d1e6bf43a1eed25618"}], "stats": {"total": 46, "additions": 44, "deletions": 2}, "files": [{"sha": "af946b32af44e294e5021cdfd849187d85eb7334", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22e92ac3b66eb7aa4d43178ec6d629bccc97cd21/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22e92ac3b66eb7aa4d43178ec6d629bccc97cd21/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=22e92ac3b66eb7aa4d43178ec6d629bccc97cd21", "patch": "@@ -1,3 +1,8 @@\n+2000-02-26  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* semantics.c (simplify_aggr_init_exprs_p): Don't walk into\n+\ttypes.\n+\n 2000-02-25  Alfred Minarik <a8601248@unet.univie.ac.at>\n \n \t* rtti.c (get_vmi_pseudo_type_info): Move __vmi_class_type_info"}, {"sha": "ad961f8b9a0cbfaeea0228b790de75c915313897", "filename": "gcc/cp/semantics.c", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22e92ac3b66eb7aa4d43178ec6d629bccc97cd21/gcc%2Fcp%2Fsemantics.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22e92ac3b66eb7aa4d43178ec6d629bccc97cd21/gcc%2Fcp%2Fsemantics.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fsemantics.c?ref=22e92ac3b66eb7aa4d43178ec6d629bccc97cd21", "patch": "@@ -2618,9 +2618,19 @@ simplify_aggr_init_exprs_r (tp, walk_subtrees, data)\n   tree call_type;\n   int copy_from_buffer_p;\n \n-  /* Only AGGR_INIT_EXPRs are interesting.  */\n   aggr_init_expr = *tp;\n-  if (TREE_CODE (aggr_init_expr) != AGGR_INIT_EXPR)\n+  /* We don't need to walk into types; there's nothing in a type that\n+     needs simplification.  (And, furthermore, there are places we\n+     actively don't want to go.  For example, we don't want to wander\n+     into the default arguments for a FUNCTION_DECL that appears in a\n+     CALL_EXPR.)  */\n+  if (TYPE_P (aggr_init_expr))\n+    {\n+      *walk_subtrees = 0;\n+      return NULL_TREE;\n+    }\n+  /* Only AGGR_INIT_EXPRs are interesting.  */\n+  else if (TREE_CODE (aggr_init_expr) != AGGR_INIT_EXPR)\n     return NULL_TREE;\n \n   /* Form an appropriate CALL_EXPR.  */"}, {"sha": "87ad4fc9c7bd0af68c3c44ebb8aaecb76437c02a", "filename": "gcc/testsuite/g++.old-deja/g++.other/defarg4.C", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22e92ac3b66eb7aa4d43178ec6d629bccc97cd21/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fdefarg4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22e92ac3b66eb7aa4d43178ec6d629bccc97cd21/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fdefarg4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fdefarg4.C?ref=22e92ac3b66eb7aa4d43178ec6d629bccc97cd21", "patch": "@@ -0,0 +1,27 @@\n+// Origin: scott snyder <snyder@fnal.gov>\n+\n+class complex\n+{\n+public:\n+  complex();\n+};\n+\n+struct MLC33\n+{\n+  MLC33( const complex& = complex() );\n+};\n+\n+void EmptyClone()\n+{\n+  MLC33();\n+}\n+\n+void makeM33()\n+{\n+  MLC33();\n+}\n+\n+void Clone()\n+{\n+  MLC33();\n+}"}]}