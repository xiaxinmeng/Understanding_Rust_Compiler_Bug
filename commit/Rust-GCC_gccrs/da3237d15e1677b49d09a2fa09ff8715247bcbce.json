{"sha": "da3237d15e1677b49d09a2fa09ff8715247bcbce", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGEzMjM3ZDE1ZTE2NzdiNDlkMDlhMmZhMDlmZjg3MTUyNDdiY2JjZQ==", "commit": {"author": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2012-03-26T20:23:36Z"}, "committer": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2012-03-26T20:23:36Z"}, "message": "varasm.c (assemble_external): #if 0 out the new assert from the previous commit...\n\n\t* varasm.c (assemble_external): #if 0 out the new assert from the \n\tprevious commit, it breaks the Java and Go front ends.\n\nFrom-SVN: r185825", "tree": {"sha": "036cfefb127b04e81472afe9fe82a897921032e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/036cfefb127b04e81472afe9fe82a897921032e0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/da3237d15e1677b49d09a2fa09ff8715247bcbce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da3237d15e1677b49d09a2fa09ff8715247bcbce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/da3237d15e1677b49d09a2fa09ff8715247bcbce", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da3237d15e1677b49d09a2fa09ff8715247bcbce/comments", "author": null, "committer": null, "parents": [{"sha": "bbee58432c0cd8be05328375607a631970c674a4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbee58432c0cd8be05328375607a631970c674a4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bbee58432c0cd8be05328375607a631970c674a4"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "7452da90f4755549402be0e4929bb10e96deae25", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da3237d15e1677b49d09a2fa09ff8715247bcbce/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da3237d15e1677b49d09a2fa09ff8715247bcbce/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=da3237d15e1677b49d09a2fa09ff8715247bcbce", "patch": "@@ -1,3 +1,8 @@\n+2012-03-26  Steven Bosscher  <steven@gcc.gnu.org>\n+\n+\t* varasm.c (assemble_external): #if 0 out the new assert from the\n+\tprevious commit, it breaks the Java and Go front ends.\n+\n 2012-03-26  Steven Bosscher  <steven@gcc.gnu.org>\n \n \t* toplev.c (check_global_declaration_1): Do not call assemble_external."}, {"sha": "0c04de47974cf67cf7d79a4c4788a14067d4621e", "filename": "gcc/varasm.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da3237d15e1677b49d09a2fa09ff8715247bcbce/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da3237d15e1677b49d09a2fa09ff8715247bcbce/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=da3237d15e1677b49d09a2fa09ff8715247bcbce", "patch": "@@ -2170,13 +2170,18 @@ assemble_external (tree decl ATTRIBUTE_UNUSED)\n       If it's not, we should not be calling this function.  */\n   gcc_assert (asm_out_file);\n \n+  /* In a perfect world, the following condition would be true.\n+     Sadly, the Java and Go front ends emit assembly *from the front end*,\n+     bypassing the call graph.  See PR52739.  Fix before GCC 4.8.  */\n+#if 0\n   /* This function should only be called if we are expanding, or have\n      expanded, to RTL.\n      Ideally, only final.c would be calling this function, but it is\n      not clear whether that would break things somehow.  See PR 17982\n      for further discussion.  */\n   gcc_assert (cgraph_state == CGRAPH_STATE_EXPANSION\n \t      || cgraph_state == CGRAPH_STATE_FINISHED);\n+#endif\n \n   if (!DECL_P (decl) || !DECL_EXTERNAL (decl) || !TREE_PUBLIC (decl))\n     return;"}]}