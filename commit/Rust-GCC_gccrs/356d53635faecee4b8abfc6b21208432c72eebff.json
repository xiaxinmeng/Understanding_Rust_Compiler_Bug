{"sha": "356d53635faecee4b8abfc6b21208432c72eebff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzU2ZDUzNjM1ZmFlY2VlNGI4YWJmYzZiMjEyMDg0MzJjNzJlZWJmZg==", "commit": {"author": {"name": "Carl Love", "email": "cel@us.ibm.com", "date": "2018-06-27T21:50:01Z"}, "committer": {"name": "Carl Love", "email": "carll@gcc.gnu.org", "date": "2018-06-27T21:50:01Z"}, "message": "Add test case that was supposed to be added in commit 255556 on 2017-12-11.\n\ngcc/testsuite/ChangeLog:\n\n2018-06-27  Carl Love  <cel@us.ibm.com>\n\nAdd test case that was supposed to be added in commit 255556 on 2017-12-11.\n\n\t* gcc.target/vsx-vector-abss.c: New file to test vec_abss.\n\nFrom-SVN: r262196", "tree": {"sha": "ca65de67a99b55eeab46524b7d4e2735f67f09e6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ca65de67a99b55eeab46524b7d4e2735f67f09e6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/356d53635faecee4b8abfc6b21208432c72eebff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/356d53635faecee4b8abfc6b21208432c72eebff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/356d53635faecee4b8abfc6b21208432c72eebff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/356d53635faecee4b8abfc6b21208432c72eebff/comments", "author": {"login": "carlelove", "id": 86435705, "node_id": "MDQ6VXNlcjg2NDM1NzA1", "avatar_url": "https://avatars.githubusercontent.com/u/86435705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carlelove", "html_url": "https://github.com/carlelove", "followers_url": "https://api.github.com/users/carlelove/followers", "following_url": "https://api.github.com/users/carlelove/following{/other_user}", "gists_url": "https://api.github.com/users/carlelove/gists{/gist_id}", "starred_url": "https://api.github.com/users/carlelove/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carlelove/subscriptions", "organizations_url": "https://api.github.com/users/carlelove/orgs", "repos_url": "https://api.github.com/users/carlelove/repos", "events_url": "https://api.github.com/users/carlelove/events{/privacy}", "received_events_url": "https://api.github.com/users/carlelove/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b61c9b997ca38a1116cd832b876bd83de383dcea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b61c9b997ca38a1116cd832b876bd83de383dcea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b61c9b997ca38a1116cd832b876bd83de383dcea"}], "stats": {"total": 102, "additions": 102, "deletions": 0}, "files": [{"sha": "e9e2e2a77680280c50f114c29f696cf7f182f248", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/356d53635faecee4b8abfc6b21208432c72eebff/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/356d53635faecee4b8abfc6b21208432c72eebff/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=356d53635faecee4b8abfc6b21208432c72eebff", "patch": "@@ -1,3 +1,9 @@\n+2018-06-27  Carl Love  <cel@us.ibm.com>\n+\n+Add test case that was supposed to be added in commit 255556 on 2017-12-11.\n+\n+\t* gcc.target/vsx-vector-abss.c: New file to test vec_abss.\n+\n 2018-06-27 Tamar Christina  <tamar.christina@arm.com>\n \n \tPR target/85769"}, {"sha": "d8927b37fbf0bc85f01d14a4c0e20a35910058ef", "filename": "gcc/testsuite/gcc.target/powerpc/vsx-vector-abss.c", "status": "added", "additions": 96, "deletions": 0, "changes": 96, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/356d53635faecee4b8abfc6b21208432c72eebff/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fvsx-vector-abss.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/356d53635faecee4b8abfc6b21208432c72eebff/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fvsx-vector-abss.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fvsx-vector-abss.c?ref=356d53635faecee4b8abfc6b21208432c72eebff", "patch": "@@ -0,0 +1,96 @@\n+/* { dg-do run { target { powerpc*-*-* && lp64 } } } */\n+/* { dg-skip-if \"\" { powerpc*-*-darwin* } } */\n+/* { dg-require-effective-target vsx_hw } */\n+/* { dg-options \"-mvsx -O2\" } */\n+\n+\n+#include <altivec.h>\n+#include <stdlib.h>\n+\n+#ifdef DEBUG\n+#include <stdio.h>\n+#endif\n+\n+void abort (void);\n+\n+static vector signed char\n+vabss_char (vector signed char arg)\n+{\n+  return vec_abss (arg);\n+}\n+\n+static vector signed short\n+vabss_short (vector signed short arg)\n+{\n+  return vec_abss (arg);\n+}\n+\n+static vector signed int\n+vabss_int (vector signed int arg)\n+{\n+  return vec_abss (arg);\n+}\n+\n+int\n+main (int argc, char *argv[])\n+{\n+  int i;\n+  vector signed char val_char;\n+  vector signed char expected_char;\n+  vector signed char result_char;\n+  vector signed short val_short;\n+  vector signed short expected_short;\n+  vector signed short result_short;\n+  vector signed int val_int;\n+  vector signed int expected_int;\n+  vector signed int result_int;\n+\n+  /* CHAR */\n+  val_char = (vector signed char) {-7, 6, -5, 4, -3, 1, 0, -0, 1, -2, 3, -5, 6, -7};\n+  expected_char = (vector signed char) {7, 6, 5, 4, 3, 1, 0, 0, 1, 2, 3, 5, 6, 7};\n+\n+  result_char = vabss_char (val_char);\n+\n+  for (i = 0; i< 16; i++)\n+    if (result_char[i] != expected_char[i])\n+#ifdef DEBUG\n+      printf(\"ERROR: vec_abss() result_char[%d] = %d, not expected_char[%d] = %d\\n\",\n+\t      i, result_char[i], i, expected_char[i]);\n+#else\n+      abort ();\n+#endif\n+\n+  /* SHORT */\n+  val_short = (vector signed short) {-0, 1, -2, 3, 4, -5, 6, -7};\n+  expected_short = (vector signed short) {0, 1, 2, 3, 4, 5, 6, 7};\n+\n+  result_short = vabss_short (val_short);\n+\n+  for (i = 0; i< 8; i++)\n+    if (result_short[i] != expected_short[i])\n+#ifdef DEBUG\n+      printf(\"ERROR: vec_abss() result_short[%d] = %d, not expected_short[%d] = %d\\n\",\n+\t      i, result_short[i], i, expected_short[i]);\n+#else\n+      abort ();\n+#endif\n+\n+  /* INT */\n+  val_int = (vector signed int) {-7, 6, -5, 4};\n+  expected_int = (vector signed int) {7, 6, 5, 4};\n+\n+  result_int = vabss_int (val_int);\n+\n+  for (i = 0; i< 4; i++) \n+    if (result_int[i] != expected_int[i])\n+#ifdef DEBUG\n+      printf(\"ERROR: vec_abss() result_int[%d] = %d, not expected_int[%d] = %d\\n\",\n+\t      i, result_int[i], i, expected_int[i]);\n+#else\n+      abort ();\n+#endif\n+      \n+  return 0;\n+}\n+\n+"}]}