{"sha": "a33fc7fe6c3f8c329c682877b1a7937a45d993dd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTMzZmM3ZmU2YzNmOGMzMjljNjgyODc3YjFhNzkzN2E0NWQ5OTNkZA==", "commit": {"author": {"name": "Steve Ellcey", "email": "sellcey@mips.com", "date": "2014-01-27T22:38:42Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2014-01-27T22:38:42Z"}, "message": "mips-common.c (TARGET_DEFAULT_TARGET_FLAGS): Remove TARGET_FP_EXCEPTIONS_DEFAULT and MASK_FUSED_MADD.\n\n2014-01-27  Steve Ellcey  <sellcey@mips.com>\n\n\t* common/config/mips/mips-common.c (TARGET_DEFAULT_TARGET_FLAGS):\n\tRemove TARGET_FP_EXCEPTIONS_DEFAULT and MASK_FUSED_MADD.\n\t* config/mips/mips.c (mips_option_override): Change setting\n\tof TARGET_DSP.\n\t* config/mips/mips.h (TARGET_FP_EXCEPTIONS_DEFAULT): Remove.\n\t* config/mips/mips.opt (DSP, DSPR2, FP_EXCEPTIONS, FUSED_MADD,\n\tMIPS3D) Change from Mask to Var.\n\nFrom-SVN: r207154", "tree": {"sha": "ed13b9b72950d17b817128567b457b3f811b139e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ed13b9b72950d17b817128567b457b3f811b139e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a33fc7fe6c3f8c329c682877b1a7937a45d993dd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a33fc7fe6c3f8c329c682877b1a7937a45d993dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a33fc7fe6c3f8c329c682877b1a7937a45d993dd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a33fc7fe6c3f8c329c682877b1a7937a45d993dd/comments", "author": null, "committer": null, "parents": [{"sha": "64688189487d5ca17892ef04d703b5b52b8810a3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64688189487d5ca17892ef04d703b5b52b8810a3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/64688189487d5ca17892ef04d703b5b52b8810a3"}], "stats": {"total": 34, "additions": 19, "deletions": 15}, "files": [{"sha": "77b462f7281a02ea10514a001e5ecfef972b75aa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a33fc7fe6c3f8c329c682877b1a7937a45d993dd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a33fc7fe6c3f8c329c682877b1a7937a45d993dd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a33fc7fe6c3f8c329c682877b1a7937a45d993dd", "patch": "@@ -1,3 +1,13 @@\n+2014-01-27  Steve Ellcey  <sellcey@mips.com>\n+\n+\t* common/config/mips/mips-common.c (TARGET_DEFAULT_TARGET_FLAGS):\n+\tRemove TARGET_FP_EXCEPTIONS_DEFAULT and MASK_FUSED_MADD.\n+\t* config/mips/mips.c (mips_option_override): Change setting\n+\tof TARGET_DSP.\n+\t* config/mips/mips.h (TARGET_FP_EXCEPTIONS_DEFAULT): Remove.\n+\t* config/mips/mips.opt (DSP, DSPR2, FP_EXCEPTIONS, FUSED_MADD,\n+\tMIPS3D) Change from Mask to Var.\n+\n 2014-01-27  Jeff Law  <law@redhat.com>\n \n \t* ipa-inline.c (inline_small_functions): Fix typo."}, {"sha": "7dd8d2d56a8fa9123ac7a62f478f8465a89c615b", "filename": "gcc/common/config/mips/mips-common.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a33fc7fe6c3f8c329c682877b1a7937a45d993dd/gcc%2Fcommon%2Fconfig%2Fmips%2Fmips-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a33fc7fe6c3f8c329c682877b1a7937a45d993dd/gcc%2Fcommon%2Fconfig%2Fmips%2Fmips-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon%2Fconfig%2Fmips%2Fmips-common.c?ref=a33fc7fe6c3f8c329c682877b1a7937a45d993dd", "patch": "@@ -62,9 +62,7 @@ static const struct default_options mips_option_optimization_table[] =\n   (TARGET_DEFAULT\t\t\t\t\\\n    | TARGET_CPU_DEFAULT\t\t\t\t\\\n    | TARGET_ENDIAN_DEFAULT\t\t\t\\\n-   | TARGET_FP_EXCEPTIONS_DEFAULT\t\t\\\n-   | MASK_CHECK_ZERO_DIV\t\t\t\\\n-   | MASK_FUSED_MADD)\n+   | MASK_CHECK_ZERO_DIV)\n #undef TARGET_HANDLE_OPTION\n #define TARGET_HANDLE_OPTION mips_handle_option\n "}, {"sha": "59c0b26d16eb07ffa4a22256bce95f7aed3882fd", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a33fc7fe6c3f8c329c682877b1a7937a45d993dd/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a33fc7fe6c3f8c329c682877b1a7937a45d993dd/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=a33fc7fe6c3f8c329c682877b1a7937a45d993dd", "patch": "@@ -17084,9 +17084,9 @@ mips_option_override (void)\n       mips_r10k_cache_barrier = R10K_CACHE_BARRIER_NONE;\n     }\n \n-  /* If TARGET_DSPR2, enable MASK_DSP.  */\n+  /* If TARGET_DSPR2, enable TARGET_DSP.  */\n   if (TARGET_DSPR2)\n-    target_flags |= MASK_DSP;\n+    TARGET_DSP = true;\n \n   /* .eh_frame addresses should be the same width as a C pointer.\n      Most MIPS ABIs support only one pointer size, so the assembler"}, {"sha": "150cf0c3136963542fcb9d19db5c455d06961ed8", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a33fc7fe6c3f8c329c682877b1a7937a45d993dd/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a33fc7fe6c3f8c329c682877b1a7937a45d993dd/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=a33fc7fe6c3f8c329c682877b1a7937a45d993dd", "patch": "@@ -588,10 +588,6 @@ struct mips_cpu_info {\n #define TARGET_ENDIAN_DEFAULT MASK_BIG_ENDIAN\n #endif\n \n-#ifndef TARGET_FP_EXCEPTIONS_DEFAULT\n-#define TARGET_FP_EXCEPTIONS_DEFAULT MASK_FP_EXCEPTIONS\n-#endif\n-\n #ifdef IN_LIBGCC2\n #undef TARGET_64BIT\n /* Make this compile time constant for libgcc2 */"}, {"sha": "be551a7a452a80c12932e120620b67eb4a7dc05b", "filename": "gcc/config/mips/mips.opt", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a33fc7fe6c3f8c329c682877b1a7937a45d993dd/gcc%2Fconfig%2Fmips%2Fmips.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a33fc7fe6c3f8c329c682877b1a7937a45d993dd/gcc%2Fconfig%2Fmips%2Fmips.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.opt?ref=a33fc7fe6c3f8c329c682877b1a7937a45d993dd", "patch": "@@ -116,11 +116,11 @@ Target Report RejectNegative InverseMask(SINGLE_FLOAT, DOUBLE_FLOAT)\n Allow hardware floating-point instructions to cover both 32-bit and 64-bit operations\n \n mdsp\n-Target Report Mask(DSP)\n+Target Report Var(TARGET_DSP)\n Use MIPS-DSP instructions\n \n mdspr2\n-Target Report Mask(DSPR2)\n+Target Report Var(TARGET_DSPR2)\n Use MIPS-DSP REV 2 instructions\n \n mdebug\n@@ -190,7 +190,7 @@ Target Report Var(TARGET_4300_MUL_FIX)\n Work around an early 4300 hardware bug\n \n mfp-exceptions\n-Target Report Mask(FP_EXCEPTIONS)\n+Target Report Var(TARGET_FP_EXCEPTIONS) Init(1)\n FP exceptions are enabled\n \n mfp32\n@@ -206,7 +206,7 @@ Target RejectNegative Joined Var(mips_cache_flush_func) Init(CACHE_FLUSH_FUNC)\n -mflush-func=FUNC\tUse FUNC to flush the cache before calling stack trampolines\n \n mfused-madd\n-Target Report Mask(FUSED_MADD)\n+Target Report Var(TARGET_FUSED_MADD) Init(1)\n Generate floating-point multiply-add instructions\n \n mabs=\n@@ -264,7 +264,7 @@ Target Report RejectNegative Mask(MIPS16)\n Generate MIPS16 code\n \n mips3d\n-Target Report RejectNegative Mask(MIPS3D)\n+Target Report RejectNegative Var(TARGET_MIPS3D)\n Use MIPS-3D instructions\n \n mllsc\n@@ -324,7 +324,7 @@ Target Report RejectNegative InverseMask(MIPS16)\n Generate normal-mode code\n \n mno-mips3d\n-Target Report RejectNegative InverseMask(MIPS3D)\n+Target Report RejectNegative Var(TARGET_MIPS3D, 0)\n Do not use MIPS-3D instructions\n \n mpaired-single"}]}