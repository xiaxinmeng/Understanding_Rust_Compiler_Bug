{"sha": "61fec9ffac35d5cb530c9f1e757e7796d8488281", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjFmZWM5ZmZhYzM1ZDVjYjUzMGM5ZjFlNzU3ZTc3OTZkODQ4ODI4MQ==", "commit": {"author": {"name": "Jan Beulich", "email": "jbeulich@novell.com", "date": "2004-09-03T18:10:08Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-09-03T18:10:08Z"}, "message": "configure.in: Remove target-libstdc++-v3 from noconfigdirs for *-*-netware...\n\n/\n        * configure.in: Remove target-libstdc++-v3 from noconfigdirs for\n        *-*-netware, but add target-libmudflap.\n        Consolidate *-*-netware targets (of which really only i?86 exists)\n        into a single entry.\n        * configure: Likewise.\ngcc/\n        * config.gcc: Resurrect NetWare as a target. Handle special case of\n        Novell linker to be used (specified through --with-ld=) and threading\n        model of either Posix (default) or NKS.\n        * config/i386/i386.c (ix86_return_pops_args): Conditionalize popping\n        of incoming hidden argument on KEEP_AGGREGATE_RETURN_POINTER.\n        * config/i386/i386.h (KEEP_AGGREGATE_RETURN_POINTER): New.\n        * config/i386/netware.c, config/i386/netware.h: New.\n        * config/i386/nwld.c, config/i386/nwld.h: New.\n        * config/i386/netware-crt0.c: New.\n        * config/i386/netware-libgcc.c: New.\n        * config/i386/netware-libgcc.def: New.\n        * config/i386/netware-libgcc.exp: New.\n        * config/i386/t-netware, config/i386/t-nwld: New.\n        * gthr-nks.h: New.\n        * doc/install.texi: Document NKS threading model.\ngcc/cp/\n        * g++spec.c (MATH_LIBRARY_PROFILE): Default to MATH_LIBRARY rather\n        than \"-lm\".\ngcc/testsuite/\n        * g++.dg/abi/bitfield5.C: Use -mno-ms-bitfields.\n        * g++.old-deja/g++.jason/thunk2.C: xfail for NetWare.\n        * g++.old-deja/g++.law/profile1.C: xfail for NetWare.\n        * g++.old-deja/g++.other/store-expr1.C: xfail for NetWare.\n        * gcc.c-torture/compile/20001109-1.c: xfail for NetWare.\n        * gcc.c-torture/compile/20001109-2.c: xfail for NetWare.\n        * gcc.c-torture/execute/multi-ix.c: Use __builtin_bzero rather than\n        the non-portable bzero.\n        * gcc.dg/20010912-1.c: xfail for NetWare.\n        * gcc.dg/20020426-2.c: xfail for NetWare.\n        * gcc.dg/20021014-1.c: xfail for NetWare.\n        * gcc.dg/20021018-1.c: xfail for NetWare.\n        * gcc.dg/20030213-1.c: xfail for NetWare.\n        * gcc.dg/20030225-1.c: xfail for NetWare.\n        * gcc.dg/20030708-1.c: xfail for NetWare.\n        * gcc.dg/builtins-config.h: Also exclude NetWare.\n        * gcc.dg/format/format.h: Define restrict only if not already defined.\n        * gcc.dg/nest.c: xfail for NetWare.\n        * gcc.dg/special/gcsec-1.c: Don't pass -static for NetWare.\n        * lib/target-supports.exp (check_visibility_available): Exclude\n        NetWare.\nfixincludes/\n        * inclhack.def: Suppress exception_structure and math_exception\n        for NetWare headers.\n        * fixincl.x: Regenerate.\nlibstdc++-v3/\n        * crossconfig.m4: Add NetWare as a target.\n        * configure: Regenerate.\n\nFrom-SVN: r87040", "tree": {"sha": "243e6c82b40956cbdbedeb566a077006e70cd744", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/243e6c82b40956cbdbedeb566a077006e70cd744"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/61fec9ffac35d5cb530c9f1e757e7796d8488281", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61fec9ffac35d5cb530c9f1e757e7796d8488281", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61fec9ffac35d5cb530c9f1e757e7796d8488281", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61fec9ffac35d5cb530c9f1e757e7796d8488281/comments", "author": null, "committer": null, "parents": [{"sha": "04efec81275ba055bb910cfd43d0bb919f21a940", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04efec81275ba055bb910cfd43d0bb919f21a940", "html_url": "https://github.com/Rust-GCC/gccrs/commit/04efec81275ba055bb910cfd43d0bb919f21a940"}], "stats": {"total": 4070, "additions": 4048, "deletions": 22}, "files": [{"sha": "a7faeea8eaffd3b2a45f29d37b595031f905347a", "filename": "ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -1,3 +1,11 @@\n+2004-09-03  Jan Beulich  <jbeulich@novell.com>\n+\n+\t* configure.in: Remove target-libstdc++-v3 from noconfigdirs for\n+\t*-*-netware, but add target-libmudflap.\n+\tConsolidate *-*-netware targets (of which really only i?86 exists)\n+\tinto a single entry.\n+\t* configure: Likewise.\n+\n 2004-09-01  Paolo Bonzini  <bonzini@gnu.org>\n \n \t* Makefile.tpl (sorry): Remove."}, {"sha": "4a507f3dec804c1872f6906dad728b8e27e7bf52", "filename": "configure", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -1203,8 +1203,8 @@ case \"${target}\" in\n \t;;\n     esac\n     ;;\n-  *-*-netware)\n-    noconfigdirs=\"$noconfigdirs target-libstdc++-v3 target-newlib target-libiberty target-libgloss ${libgcj}\"\n+  *-*-netware*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libiberty target-libgloss ${libgcj} target-libmudflap\"\n     ;;\n   *-*-rtems*)\n     noconfigdirs=\"$noconfigdirs target-libgloss ${libgcj}\"\n@@ -2636,10 +2636,7 @@ extra_nmflags_for_target=\n extra_ranlibflags_for_target=\n target_makefile_frag=/dev/null\n case \"${target}\" in\n-  i[3456789]86-*-netware*)\n-    target_makefile_frag=\"config/mt-netware\"\n-    ;;\n-  powerpc-*-netware*)\n+  *-*-netware*)\n     target_makefile_frag=\"config/mt-netware\"\n     ;;\n   *-*-linux* | *-*-gnu* | *-*-k*bsd*-gnu)"}, {"sha": "3354db154237b3ad340e088d4dc3ff103ab34672", "filename": "configure.in", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -419,8 +419,8 @@ case \"${target}\" in\n \t;;\n     esac\n     ;;\n-  *-*-netware)\n-    noconfigdirs=\"$noconfigdirs target-libstdc++-v3 target-newlib target-libiberty target-libgloss ${libgcj}\"\n+  *-*-netware*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libiberty target-libgloss ${libgcj} target-libmudflap\"\n     ;;\n   *-*-rtems*)\n     noconfigdirs=\"$noconfigdirs target-libgloss ${libgcj}\"\n@@ -1441,10 +1441,7 @@ extra_nmflags_for_target=\n extra_ranlibflags_for_target=\n target_makefile_frag=/dev/null\n case \"${target}\" in\n-  i[[3456789]]86-*-netware*)\n-    target_makefile_frag=\"config/mt-netware\"\n-    ;;\n-  powerpc-*-netware*)\n+  *-*-netware*)\n     target_makefile_frag=\"config/mt-netware\"\n     ;;\n   *-*-linux* | *-*-gnu* | *-*-k*bsd*-gnu)"}, {"sha": "f22c4e10be306f1586d9de9bf92efb341c93bff8", "filename": "fixincludes/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/fixincludes%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/fixincludes%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fixincludes%2FChangeLog?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -1,3 +1,9 @@\n+2004-09-03  Jan Beulich  <jbeulich@novell.com>\n+\n+\t* inclhack.def: Suppress exception_structure and math_exception\n+\tfor NetWare headers.\n+\t* fixincl.x: Regenerate.\n+\n 2004-08-31  Paolo Bonzini  <bonzini@gnu.org>\n \n \t* .cvsignore: New."}, {"sha": "86032abda2cd72b40936fe8c2de49f1649cbe7f5", "filename": "fixincludes/fixincl.x", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/fixincludes%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/fixincludes%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fixincludes%2Ffixincl.x?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -1812,7 +1812,7 @@ tSCC zException_StructureSelect0[] =\n  *  content bypass pattern - skip fix if pattern found\n  */\n tSCC zException_StructureBypass0[] =\n-       \"matherr.*(struct exception|__MATH_EXCEPTION)\";\n+       \"matherr.*(struct exception|__MATH_EXCEPTION|[ \\\\t]*__FP_EXCEPTION[ \\\\t]*\\\\*[ \\\\t]*)\";\n \n #define    EXCEPTION_STRUCTURE_TEST_CT  2\n static tTestDesc aException_StructureTests[] = {\n@@ -3503,7 +3503,7 @@ tSCC zMath_ExceptionSelect0[] =\n  *  content bypass pattern - skip fix if pattern found\n  */\n tSCC zMath_ExceptionBypass0[] =\n-       \"We have a problem when using C\\\\+\\\\+\";\n+       \"We have a problem when using C\\\\+\\\\+|for C\\\\+\\\\+, _[a-z0-9A-Z_]+_exception; for C, exception\";\n \n #define    MATH_EXCEPTION_TEST_CT  2\n static tTestDesc aMath_ExceptionTests[] = {"}, {"sha": "537155c03f70aba3a5edad122c94a1d03533cdcb", "filename": "fixincludes/inclhack.def", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/fixincludes%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/fixincludes%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fixincludes%2Finclhack.def?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -1054,7 +1054,7 @@ fix = {\n     files     = math.h;\n \n     /*  If matherr has a prototype already, the header needs no fix.  */\n-    bypass    = 'matherr.*(struct exception|__MATH_EXCEPTION)';\n+    bypass    = 'matherr.*(struct exception|__MATH_EXCEPTION|[ \\t]*__FP_EXCEPTION[ \\t]*\\*[ \\t]*)';\n     select    = matherr;\n \n     c_fix     = wrap;\n@@ -1950,7 +1950,7 @@ fix = {\n      * exception either.  So currently we bypass only for glibc, based on a\n      * comment in the fixed glibc header.  Ick.\n      */\n-    bypass    = 'We have a problem when using C\\+\\+';\n+    bypass    = 'We have a problem when using C\\+\\+|for C\\+\\+, _[a-z0-9A-Z_]+_exception; for C, exception';\n     c_fix     = wrap;\n \n     c_fix_arg = \"#ifdef __cplusplus\\n\""}, {"sha": "30a2cbd61ee4bf956b48f6d29ffc87a07405c63b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -4,6 +4,24 @@\n \tis only one reg.\n \t(ia64_function_value): Ditto.\n \n+2004-09-03  Jan Beulich  <jbeulich@novell.com>\n+\n+\t* config.gcc: Resurrect NetWare as a target. Handle special case of\n+\tNovell linker to be used (specified through --with-ld=) and threading\n+\tmodel of either Posix (default) or NKS.\n+\t* config/i386/i386.c (ix86_return_pops_args): Conditionalize popping\n+\tof incoming hidden argument on KEEP_AGGREGATE_RETURN_POINTER.\n+\t* config/i386/i386.h (KEEP_AGGREGATE_RETURN_POINTER): New.\n+\t* config/i386/netware.c, config/i386/netware.h: New.\n+\t* config/i386/nwld.c, config/i386/nwld.h: New.\n+\t* config/i386/netware-crt0.c: New.\n+\t* config/i386/netware-libgcc.c: New.\n+\t* config/i386/netware-libgcc.def: New.\n+\t* config/i386/netware-libgcc.exp: New.\n+\t* config/i386/t-netware, config/i386/t-nwld: New.\n+\t* gthr-nks.h: New.\n+\t* doc/install.texi: Document NKS threading model.\n+\n 2004-09-03  Jan Beulich  <jbeulich@novell.com>\n \n \tPR c/7054"}, {"sha": "79c5e878bd4e280f33fe6ab78d850f5d30a9e8f1", "filename": "gcc/config.gcc", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -970,6 +970,25 @@ i[34567]86-*-lynxos*)\n \tgnu_ld=yes\n \tgas=yes\n \t;;\n+i[3456x]86-*-netware*)\n+\ttm_file=\"${tm_file} i386/unix.h i386/att.h elfos.h svr4.h tm-dwarf2.h i386/netware.h\"\n+ \ttmake_file=i386/t-netware\n+\textra_objs=netware.o\n+\tcase /${with_ld} in\n+\t*/nwld)\n+\t\textra_objs=\"$extra_objs nwld.o\"\n+\t\ttm_file=\"${tm_file} i386/nwld.h\"\n+\t \ttmake_file=\"${tmake_file} i386/t-nwld\"\n+\t\textra_parts=\"crt0.o libgcc.def libc.def libcpre.def posixpre.def\"\n+\t\t;;\n+\tesac\n+\tcase x${enable_threads} in\n+\tx | xyes | xposix) thread_file='posix';;\n+\txnks) thread_file='nks';;\n+\txno) ;;\n+\t*) echo 'Unknown thread configuration for NetWare' >&2; exit 1;;\n+\tesac\n+\t;;\n i[34567]86-*-nto-qnx*)\n \ttm_file=\"${tm_file} i386/att.h dbxelf.h tm-dwarf2.h elfos.h svr4.h i386/unix.h i386/nto.h\"\n \ttmake_file=i386/t-nto"}, {"sha": "f50b81bf44f008ad01d9db3655286f09db42b9cf", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -1875,7 +1875,8 @@ ix86_return_pops_args (tree fundecl, tree funtype, int size)\n \n   /* Lose any fake structure return argument if it is passed on the stack.  */\n   if (aggregate_value_p (TREE_TYPE (funtype), fundecl)\n-      && !TARGET_64BIT)\n+      && !TARGET_64BIT\n+      && !KEEP_AGGREGATE_RETURN_POINTER)\n     {\n       int nregs = ix86_function_regparm (funtype, fundecl);\n "}, {"sha": "c786080e2b793e74ce7e83693a61f45b38b79b66", "filename": "gcc/config/i386/i386.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Fi386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Fi386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.h?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -1243,6 +1243,8 @@ do {\t\t\t\t\t\t\t\t\t\\\n /* This is overridden by <cygwin.h>.  */\n #define MS_AGGREGATE_RETURN 0\n \n+/* This is overridden by <netware.h>.  */\n+#define KEEP_AGGREGATE_RETURN_POINTER 0\n \f\n /* Define the classes of registers for register constraints in the\n    machine description.  Also define ranges of constants."}, {"sha": "b553f3d8afeb64ca2afe52740e1b28190b8d7404", "filename": "gcc/config/i386/netware-crt0.c", "status": "added", "additions": 77, "deletions": 0, "changes": 77, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Fnetware-crt0.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Fnetware-crt0.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fnetware-crt0.c?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -0,0 +1,77 @@\n+/* Startup routines for NetWare.\n+   Contributed by Jan Beulich (jbeulich@novell.com)\n+   Copyright (C) 2004 Free Software Foundation, Inc.\n+\n+This file is part of GCC.\n+\n+GCC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GCC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GCC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#include <stddef.h>\n+#include <stdint.h>\n+#include \"unwind-dw2-fde.h\"\n+\n+\n+#define SECTION_DECL(name, decl) decl __attribute__((__section__(name)))\n+\n+SECTION_DECL(\".ctors\",   void(*const __CTOR_LIST__)(void))\n+  = (void(*)(void))(intptr_t)-1;\n+SECTION_DECL(\".ctors$_\", void(*const __CTOR_END__)(void)) = NULL;\n+\n+SECTION_DECL(\".dtors\",   void(*const __DTOR_LIST__)(void))\n+  = (void(*)(void))(intptr_t)-1;\n+SECTION_DECL(\".dtors$_\", void(*const __DTOR_END__)(void)) = NULL;\n+\n+/* No need to use the __[de]register_frame_info_bases functions since\n+   for us the bases are NULL always anyway. */\n+void __register_frame_info (const void *, struct object *)\n+  __attribute__((__weak__));\n+void *__deregister_frame_info (const void *) __attribute__((__weak__));\n+\n+SECTION_DECL(\".eh_frame\", /*const*/ uint32_t __EH_FRAME_BEGIN__[]) = { };\n+SECTION_DECL(\".eh_frame$_\", /*const*/ uint32_t __EH_FRAME_END__[]) = {0};\n+\n+int\n+__init_environment (void *unused __attribute__((__unused__)))\n+{\n+  void (* const * pctor)(void);\n+  static struct object object;\n+\n+  if (__register_frame_info)\n+    __register_frame_info (__EH_FRAME_BEGIN__, &object);\n+\n+  for (pctor = &__CTOR_END__ - 1; pctor > &__CTOR_LIST__; --pctor)\n+    if (*pctor != NULL)\n+      pctor();\n+\n+  return 0;\n+}\n+\n+int\n+__deinit_environment (void *unused __attribute__((__unused__)))\n+{\n+  /* This should be static to prevent calling the same destructor\n+     twice (just in case where we get here multiple times).  */\n+  static void (* const * pdtor)(void) = &__DTOR_LIST__ + 1;\n+\n+  while (pdtor < &__DTOR_END__)\n+    if (*pdtor++ != NULL)\n+      pdtor[-1] ();\n+\n+  if (__deregister_frame_info)\n+    __deregister_frame_info(__EH_FRAME_BEGIN__);\n+\n+  return 0;\n+}"}, {"sha": "585572bfbc6204381a96b52b60f6bb65d2cb84ee", "filename": "gcc/config/i386/netware-libgcc.c", "status": "added", "additions": 59, "deletions": 0, "changes": 59, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Fnetware-libgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Fnetware-libgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fnetware-libgcc.c?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -0,0 +1,59 @@\n+/* Startup code for libgcc_s.nlm, necessary because we can't allow\n+   libgcc_s to use libc's malloc & Co., which associate allocations\n+   with the NLM owning the current (application) thread.\n+   Contributed by Jan Beulich (jbeulich@novell.com)\n+   Copyright (C) 2004 Free Software Foundation, Inc.\n+\n+This file is part of GCC.\n+\n+GCC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GCC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GCC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#include <netware.h>\n+#include <stddef.h>\n+#include <stdlib.h>\n+#include <windows.h>\n+\n+static rtag_t allocRTag;\n+\n+BOOL\n+DllMain (HINSTANCE libraryId __attribute__ ((__unused__)),\n+\t DWORD reason, void *hModule)\n+{\n+  switch (reason)\n+    {\n+    case DLL_NLM_STARTUP:\n+      allocRTag = AllocateResourceTag (hModule,\n+\t\t\t\t       \"libgcc memory\", AllocSignature);\n+      return allocRTag != NULL;\n+    case DLL_NLM_SHUTDOWN:\n+      /* This does not recover resources associated with the tag...\n+         ReturnResourceTag (allocRTag, 0); */\n+      break;\n+    }\n+  return 1;\n+}\n+\n+void *\n+malloc (size_t size)\n+{\n+  return AllocSleepOK (size, allocRTag, NULL);\n+}\n+\n+void\n+free (void *ptr)\n+{\n+  Free (ptr);\n+}"}, {"sha": "5d2ee921b9cbb5965f1b0171976a96cecffb760d", "filename": "gcc/config/i386/netware-libgcc.def", "status": "added", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Fnetware-libgcc.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Fnetware-libgcc.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fnetware-libgcc.def?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -0,0 +1,2 @@\n+description \"gcc runtime and intrinsics support\"\n+copyright \"Copyright (C) 1989-2004  Free Software Foundation, Inc.\""}, {"sha": "dfe11f7861ff18b7915220e1a4bb2cdb2dcdd5d7", "filename": "gcc/config/i386/netware-libgcc.exp", "status": "added", "additions": 62, "deletions": 0, "changes": 62, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Fnetware-libgcc.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Fnetware-libgcc.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fnetware-libgcc.exp?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -0,0 +1,62 @@\n+# libgcc_s.nlm exports\n+\t(libgcc2),\n+\t__absvdi2,\n+\t__absvsi2,\n+\t__addvdi3,\n+\t__addvsi3,\n+#\t__ashldi3,\n+#\t__ashrdi3,\n+\t__clzdi2,\n+\t__clzsi2,\n+\t__ctzdi2,\n+\t__ctzsi2,\n+\t__deregister_frame,\n+\t__deregister_frame_info,\n+\t__deregister_frame_info_bases,\n+#\t__divdi3,\n+\t__ffsdi2,\n+\t__ffssi2,\n+\t__fixunsdfdi,\n+\t__fixunssfdi,\n+#\t__fixunstfdi,\n+\t__fixunsxfdi,\n+\t__gcc_bcmp,\n+\t__gcc_personality_v0,\n+#\t__lshrdi3,\n+#\t__moddi3,\n+#\t__muldi3,\n+\t__mulvdi3,\n+\t__mulvsi3,\n+\t__negvdi2,\n+\t__negvsi2,\n+\t__paritydi2,\n+\t__paritysi2,\n+\t__popcountdi2,\n+\t__popcountsi2,\n+\t__register_frame,\n+\t__register_frame_info,\n+\t__register_frame_info_bases,\n+\t__register_frame_info_table,\n+\t__register_frame_info_table_bases,\n+\t__register_frame_table,\n+\t__subvdi3,\n+\t__subvsi3,\n+#\t__umoddi3,\n+#\t__udivdi3,\n+\t_Unwind_Backtrace,\n+\t_Unwind_DeleteException,\n+\t_Unwind_FindEnclosingFunction,\n+\t_Unwind_Find_FDE,\n+\t_Unwind_ForcedUnwind,\n+\t_Unwind_GetCFA,\n+\t_Unwind_GetDataRelBase,\n+\t_Unwind_GetGR,\n+\t_Unwind_GetIP,\n+\t_Unwind_GetLanguageSpecificData,\n+\t_Unwind_GetRegionStart,\n+\t_Unwind_GetTextRelBase,\n+\t_Unwind_RaiseException,\n+\t_Unwind_Resume,\n+\t_Unwind_Resume_or_Rethrow,\n+\t_Unwind_SetGR,\n+\t_Unwind_SetIP"}, {"sha": "48985c1718362d217774b8f48489968f1d7dda9c", "filename": "gcc/config/i386/netware.c", "status": "added", "additions": 209, "deletions": 0, "changes": 209, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Fnetware.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Fnetware.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fnetware.c?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -0,0 +1,209 @@\n+/* Subroutines for insn-output.c for NetWare.\n+   Contributed by Jan Beulich (jbeulich@novell.com)\n+   Copyright (C) 2004 Free Software Foundation, Inc.\n+\n+This file is part of GCC.\n+\n+GCC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GCC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GCC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#include \"config.h\"\n+#include \"system.h\"\n+#include \"coretypes.h\"\n+#include \"tm.h\"\n+#include \"rtl.h\"\n+#include \"regs.h\"\n+#include \"hard-reg-set.h\"\n+#include \"output.h\"\n+#include \"tree.h\"\n+#include \"flags.h\"\n+#include \"tm_p.h\"\n+#include \"toplev.h\"\n+#include \"ggc.h\"\n+\n+\n+/* Return string which is the former assembler name modified with an \n+   underscore prefix and a suffix consisting of an atsign (@) followed\n+   by the number of bytes of arguments */\n+\n+static const char *\n+gen_stdcall_decoration (tree decl)\n+{\n+  unsigned total = 0;\n+  /* ??? This probably should use XSTR (XEXP (DECL_RTL (decl), 0), 0) instead\n+     of DECL_ASSEMBLER_NAME.  */\n+  const char *asmname = IDENTIFIER_POINTER (DECL_ASSEMBLER_NAME (decl));\n+  char *newsym;\n+\n+  if (TYPE_ARG_TYPES (TREE_TYPE (decl)))\n+    if (TREE_VALUE (tree_last (TYPE_ARG_TYPES (TREE_TYPE (decl))))\n+        == void_type_node)\n+      {\n+\ttree formal_type = TYPE_ARG_TYPES (TREE_TYPE (decl));\n+\n+\t/* Quit if we hit an incomplete type.  Error is reported\n+\t   by convert_arguments in c-typeck.c or cp/typeck.c.  */\n+\twhile (TREE_VALUE (formal_type) != void_type_node\n+\t       && COMPLETE_TYPE_P (TREE_VALUE (formal_type)))\t\n+\t  {\n+\t    unsigned parm_size\n+\t      = TREE_INT_CST_LOW (TYPE_SIZE (TREE_VALUE (formal_type)));\n+\t    /* Must round up to include padding.  This is done the same\n+\t       way as in store_one_arg.  */\n+\t    parm_size = ((parm_size + PARM_BOUNDARY - 1)\n+\t\t\t / PARM_BOUNDARY * PARM_BOUNDARY);\n+\t    total += parm_size;\n+\t    formal_type = TREE_CHAIN (formal_type);\n+\t  }\n+      }\n+\n+  newsym = alloca (1 + strlen (asmname) + 1 + 10 + 1);\n+  return IDENTIFIER_POINTER (get_identifier_with_length (newsym,\n+\tsprintf (newsym, \"_%s@%u\", asmname, total / BITS_PER_UNIT)));\n+}\n+\n+/* Return string which is the former assembler name modified with a\n+   prefix consisting of FASTCALL_PREFIX and a suffix consisting of an\n+   atsign (@) followed by the number of bytes of arguments.  */\n+\n+static const char *\n+gen_fastcall_decoration (tree decl)\n+{\n+  unsigned total = 0;\n+  const char *asmname = IDENTIFIER_POINTER (DECL_ASSEMBLER_NAME (decl));\n+  char *newsym;\n+\n+  if (TYPE_ARG_TYPES (TREE_TYPE (decl)))\n+    if (TREE_VALUE (tree_last (TYPE_ARG_TYPES (TREE_TYPE (decl))))\n+        == void_type_node)\n+      {\n+\ttree formal_type = TYPE_ARG_TYPES (TREE_TYPE (decl));\n+\n+\t/* Quit if we hit an incomplete type.  Error is reported\n+\t   by convert_arguments in c-typeck.c or cp/typeck.c.  */\n+\twhile (TREE_VALUE (formal_type) != void_type_node\n+\t       && COMPLETE_TYPE_P (TREE_VALUE (formal_type)))\t\n+\t  {\n+\t    int parm_size\n+\t      = TREE_INT_CST_LOW (TYPE_SIZE (TREE_VALUE (formal_type)));\n+\t    /* Must round up to include padding.  This is done the same\n+\t       way as in store_one_arg.  */\n+\t    parm_size = ((parm_size + PARM_BOUNDARY - 1)\n+\t\t\t / PARM_BOUNDARY * PARM_BOUNDARY);\n+\t    total += parm_size;\n+\t    formal_type = TREE_CHAIN (formal_type);\n+\t  }\n+      }\n+\n+  newsym = alloca (1 + strlen (asmname) + 1 + 10 + 1);\n+  return IDENTIFIER_POINTER (get_identifier_with_length (newsym,\n+\tsprintf (newsym, \"%c%s@%d\", FASTCALL_PREFIX, asmname,\n+\t\t total / BITS_PER_UNIT)));\n+}\n+\n+/* Return string which is the former assembler name modified with an \n+   _n@ prefix where n represents the number of arguments passed in\n+   registers */\n+\n+static const char *\n+gen_regparm_prefix (tree decl, unsigned nregs)\n+{\n+  unsigned total = 0;\n+  /* ??? This probably should use XSTR (XEXP (DECL_RTL (decl), 0), 0) instead\n+     of DECL_ASSEMBLER_NAME.  */\n+  const char *asmname = IDENTIFIER_POINTER (DECL_ASSEMBLER_NAME (decl));\n+  char *newsym;\n+\n+  if (TYPE_ARG_TYPES (TREE_TYPE (decl)))\n+    if (TREE_VALUE (tree_last (TYPE_ARG_TYPES (TREE_TYPE (decl))))\n+        == void_type_node)\n+      {\n+\ttree formal_type = TYPE_ARG_TYPES (TREE_TYPE (decl));\n+\n+\t/* Quit if we hit an incomplete type.  Error is reported\n+\t   by convert_arguments in c-typeck.c or cp/typeck.c.  */\n+\twhile (TREE_VALUE (formal_type) != void_type_node\n+\t       && COMPLETE_TYPE_P (TREE_VALUE (formal_type)))\t\n+\t  {\n+\t    unsigned parm_size\n+\t      = TREE_INT_CST_LOW (TYPE_SIZE (TREE_VALUE (formal_type)));\n+\t    /* Must round up to include padding.  This is done the same\n+\t       way as in store_one_arg.  */\n+\t    parm_size = ((parm_size + PARM_BOUNDARY - 1)\n+\t\t\t / PARM_BOUNDARY * PARM_BOUNDARY);\n+\t    total += parm_size;\n+\t    formal_type = TREE_CHAIN (formal_type);\n+\t  }\n+      }\n+\n+  if (nregs > total / BITS_PER_WORD)\n+    nregs = total / BITS_PER_WORD;\n+  if (nregs > 9) abort();\n+  newsym = alloca (2 + strlen (asmname) + 1 + 1);\n+  return IDENTIFIER_POINTER (get_identifier_with_length (newsym,\n+\tsprintf (newsym, \"_%u@%s\", nregs, asmname)));\n+}\n+\n+void\n+i386_nlm_encode_section_info (tree decl, rtx rtl, int first)\n+{\n+  default_encode_section_info (decl, rtl, first);\n+\n+  if (first\n+      && TREE_CODE (decl) == FUNCTION_DECL\n+      && *IDENTIFIER_POINTER (DECL_ASSEMBLER_NAME (decl)) != '*')\n+    {\n+      tree type_attributes = TYPE_ATTRIBUTES (TREE_TYPE (decl));\n+      rtx rtlname = XEXP (rtl, 0);\n+      if (GET_CODE (rtlname) == MEM)\n+\trtlname = XEXP (rtlname, 0);\n+      if (lookup_attribute (\"stdcall\", type_attributes))\n+\tXSTR (rtlname, 0) = gen_stdcall_decoration (decl);\n+      else if (lookup_attribute (\"fastcall\", type_attributes))\n+\tXSTR (rtlname, 0) = gen_fastcall_decoration (decl);\n+      else\n+\t{\n+\t  tree attr = lookup_attribute (\"regparm\", type_attributes);\n+\n+\t  if (attr)\n+\t    XSTR (rtlname, 0) =\n+\t      gen_regparm_prefix (decl,\n+\t\t      TREE_INT_CST_LOW (TREE_VALUE (TREE_VALUE (attr))));\n+\t}\n+    }\n+}\n+\n+/* Strip the stdcall/fastcall/regparm pre-/suffix.  */\n+\n+const char *\n+i386_nlm_strip_name_encoding (const char *str)\n+{\n+  const char *name = default_strip_name_encoding (str);\n+\n+  if (*str != '*' && (*name == '_' || *name == '@'))\n+    {\n+      const char *p = strchr (name + 1, '@');\n+\n+      if (p)\n+\t{\n+\t  ++name;\n+\t  if (ISDIGIT (p[1]))\n+\t    name = ggc_alloc_string (name, p - name);\n+\t  else if (!ISDIGIT (*name) || ++name != p)\n+\t    abort();\n+\t}\n+    }\n+  return name;\n+}"}, {"sha": "9246f3fa5448ccdd50476cecb5ed07c13a0520a3", "filename": "gcc/config/i386/netware.h", "status": "added", "additions": 156, "deletions": 0, "changes": 156, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Fnetware.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Fnetware.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fnetware.h?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -0,0 +1,156 @@\n+/* Core target definitions for GCC for Intel 80x86 running Netware.\n+   and using dwarf for the debugging format.\n+   Copyright (C) 1993, 1994, 2004 Free Software Foundation, Inc.\n+\n+   Written by David V. Henkel-Wallace (gumby@cygnus.com)\n+\n+This file is part of GCC.\n+\n+GCC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GCC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GCC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#define TARGET_VERSION fprintf (stderr, \" (x86 NetWare)\");\n+\n+#undef  CPP_SPEC\n+#define CPP_SPEC \"%{posix:-D_POSIX_SOURCE} %{pthread:-D_REENTRANT}\"\n+\n+#undef\tLIB_SPEC\n+#define LIB_SPEC \"\"\n+\n+/* Kinda useless, but what the hell */\n+#undef\tLINK_SPEC\n+#define LINK_SPEC \"%{h*} %{V} %{v:%{!V:-V}} \\\n+\t\t   %{b} %{Wl,*:%*} \\\n+\t\t   %{Qy:} %{!Qn:-Qy}\"\n+\n+#undef\tSTARTFILE_SPEC\n+#define STARTFILE_SPEC \"\"\n+\n+#undef\tENDFILE_SPEC\n+#define ENDFILE_SPEC \"\"\n+\n+#undef\tRELATIVE_PREFIX_NOT_LINKDIR\n+#undef\tLIBGCC_SPEC\n+\n+#define TARGET_OS_CPP_BUILTINS()\t\t\t\t\t\\\n+  do\t\t\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\t\\\n+\tbuiltin_define (\"IAPX386\");\t\t\t\t\t\\\n+\tbuiltin_define (\"_M_IX86=300\");\t\t\t\t\t\\\n+\tbuiltin_define (\"__netware__\");\t\t\t\t\t\\\n+\tbuiltin_assert (\"system=netware\");\t\t\t\t\\\n+\tbuiltin_define (\"__ELF__\");\t\t\t\t\t\\\n+\tbuiltin_define (\"__cdecl=__attribute__((__cdecl__))\");\t\t\\\n+\tbuiltin_define (\"__stdcall=__attribute__((__stdcall__))\");\t\\\n+\tbuiltin_define (\"__fastcall=__attribute__((__fastcall__))\");\t\\\n+\tif (!flag_iso)\t\t\t\t\t\t\t\\\n+\t  {\t\t\t\t\t\t\t\t\\\n+\t    builtin_define (\"_cdecl=__attribute__((__cdecl__))\");\t\\\n+\t    builtin_define (\"_stdcall=__attribute__((__stdcall__))\");\t\\\n+\t    builtin_define (\"_fastcall=__attribute__((__fastcall__))\");\t\\\n+\t  }\t\t\t\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\t\\\n+  while (0)\n+\n+#undef TARGET_CPU_DEFAULT\n+#define TARGET_CPU_DEFAULT TARGET_CPU_DEFAULT_pentium4\n+\n+/* By default, target has a 80387, uses IEEE compatible arithmetic,\n+   returns float values in the 387, and uses MSVC bit field layout. */\n+#undef TARGET_SUBTARGET_DEFAULT\n+#define TARGET_SUBTARGET_DEFAULT (MASK_80387 | MASK_IEEE_FP | \\\n+\tMASK_FLOAT_RETURNS | MASK_MS_BITFIELD_LAYOUT)\n+\n+#undef MATH_LIBRARY\n+#define MATH_LIBRARY \"\"\n+\n+/* Align doubles and long-longs in structures on qword boundaries.  */\n+#undef BIGGEST_FIELD_ALIGNMENT\n+#define BIGGEST_FIELD_ALIGNMENT 64\n+\n+#undef DEFAULT_PCC_STRUCT_RETURN\n+#define DEFAULT_PCC_STRUCT_RETURN 0\n+\n+/* Implicit arguments pointing to aggregate return values are to be\n+   removed by the caller.  */\n+#undef KEEP_AGGREGATE_RETURN_POINTER\n+#define KEEP_AGGREGATE_RETURN_POINTER 1\n+\n+#undef DBX_REGISTER_NUMBER\n+#define DBX_REGISTER_NUMBER(n) (svr4_dbx_register_map[n])\n+\n+/* Enable parsing of #pragma pack(push,<n>) and #pragma pack(pop).  */\n+#define HANDLE_PRAGMA_PACK_PUSH_POP\n+\n+/* Default structure packing is 1-byte. */\n+#define TARGET_DEFAULT_PACK_STRUCT 1\n+\n+#undef WCHAR_TYPE\n+#define WCHAR_TYPE \"short unsigned int\"\n+\n+#undef WCHAR_TYPE_SIZE\n+#define WCHAR_TYPE_SIZE 16\n+\n+#undef WINT_TYPE\n+#define WINT_TYPE \"int\"\n+\n+/* A C statement (sans semicolon) to output to the stdio stream\n+   FILE the assembler definition of uninitialized global DECL named\n+   NAME whose size is SIZE bytes and alignment is ALIGN bytes.\n+   Try to use asm_output_aligned_bss to implement this macro.  */\n+\n+#define ASM_OUTPUT_ALIGNED_BSS(FILE, DECL, NAME, SIZE, ALIGN) \\\n+  asm_output_aligned_bss (FILE, DECL, NAME, SIZE, ALIGN)\n+\n+/* Handle special EH pointer encodings.  Absolute, pc-relative, and\n+   indirect are handled automatically.  */\n+#define ASM_MAYBE_OUTPUT_ENCODED_ADDR_RTX(FILE, ENCODING, SIZE, ADDR, DONE) \\\n+  do {\t\t\t\t\t\t\t\t\t\\\n+    if ((SIZE) == 4 && ((ENCODING) & 0x70) == DW_EH_PE_datarel)\t\t\\\n+      {\t\t\t\t\t\t\t\t\t\\\n+        fputs (ASM_LONG, FILE);\t\t\t\\\n+        assemble_name (FILE, XSTR (ADDR, 0));\t\t\t\t\\\n+\tfputs (((ENCODING) & DW_EH_PE_indirect ? \"@GOT\" : \"@GOTOFF\"), FILE); \\\n+        goto DONE;\t\t\t\t\t\t\t\\\n+      }\t\t\t\t\t\t\t\t\t\\\n+  } while (0)\n+\n+/* there is no TLS support in NLMs/on NetWare */\n+#undef HAVE_AS_TLS\n+\n+#define HAS_INIT_SECTION\n+#undef  INIT_SECTION_ASM_OP\n+\n+#define CTOR_LISTS_DEFINED_EXTERNALLY\n+\n+#undef  READONLY_DATA_SECTION_ASM_OP\n+#define READONLY_DATA_SECTION_ASM_OP    \".section\\t.rodata\"\n+\n+/* Define this macro if references to a symbol must be treated\n+   differently depending on something about the variable or\n+   function named by the symbol (such as what section it is in).\n+\n+   On i386 running NetWare, modify the assembler name with an undercore (_)\n+   prefix and a suffix consisting of an atsign (@) followed by a string of\n+   digits that represents the number of bytes of arguments passed to the\n+   function, if it has the attribute STDCALL. Alternatively, if it has the \n+   REGPARM attribute, prefix it with an underscore (_), a digit representing\n+   the number of registers used, and an atsign (@). */\n+void i386_nlm_encode_section_info (tree, rtx, int);\n+const char *i386_nlm_strip_name_encoding (const char *);\n+#undef TARGET_ENCODE_SECTION_INFO\n+#define TARGET_ENCODE_SECTION_INFO  i386_nlm_encode_section_info\n+#undef  TARGET_STRIP_NAME_ENCODING\n+#define TARGET_STRIP_NAME_ENCODING  i386_nlm_strip_name_encoding"}, {"sha": "e86c0d2531e9791952bce82e6bc3860220bdd03c", "filename": "gcc/config/i386/nwld.c", "status": "added", "additions": 74, "deletions": 0, "changes": 74, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Fnwld.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Fnwld.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fnwld.c?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -0,0 +1,74 @@\n+/* Subroutines for insn-output.c for NetWare.\n+   Contributed by Jan Beulich (jbeulich@novell.com)\n+   Copyright (C) 2004 Free Software Foundation, Inc.\n+\n+This file is part of GCC.\n+\n+GCC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GCC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GCC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#include \"config.h\"\n+#include \"system.h\"\n+#include \"coretypes.h\"\n+#include \"tm.h\"\n+#include \"rtl.h\"\n+#include \"regs.h\"\n+#include \"hard-reg-set.h\"\n+#include \"output.h\"\n+#include \"tree.h\"\n+#include \"flags.h\"\n+#include \"tm_p.h\"\n+#include \"toplev.h\"\n+\n+void\n+nwld_named_section_asm_out_constructor (rtx symbol, int priority)\n+{\n+#if !SUPPORTS_INIT_PRIORITY\n+  const char section[] = \".ctors\"TARGET_SUB_SECTION_SEPARATOR;\n+#else\n+  char section[20];\n+\n+  sprintf (section,\n+\t   \".ctors\"TARGET_SUB_SECTION_SEPARATOR\"%.5u\",\n+\t   /* Invert the numbering so the linker puts us in the proper\n+\t      order; constructors are run from right to left, and the\n+\t      linker sorts in increasing order.  */\n+\t   MAX_INIT_PRIORITY - priority);\n+#endif\n+\n+  named_section_flags (section, 0);\n+  assemble_align (POINTER_SIZE);\n+  assemble_integer (symbol, POINTER_SIZE / BITS_PER_UNIT, POINTER_SIZE, 1);\n+}\n+\n+void\n+nwld_named_section_asm_out_destructor (rtx symbol, int priority)\n+{\n+#if !SUPPORTS_INIT_PRIORITY\n+  const char section[] = \".dtors\"TARGET_SUB_SECTION_SEPARATOR;\n+#else\n+  char section[20];\n+\n+  sprintf (section, \".dtors\"TARGET_SUB_SECTION_SEPARATOR\"%.5u\",\n+\t   /* Invert the numbering so the linker puts us in the proper\n+\t      order; destructors are run from left to right, and the\n+\t      linker sorts in increasing order.  */\n+\t   MAX_INIT_PRIORITY - priority);\n+#endif\n+\n+  named_section_flags (section, 0);\n+  assemble_align (POINTER_SIZE);\n+  assemble_integer (symbol, POINTER_SIZE / BITS_PER_UNIT, POINTER_SIZE, 1);\n+}"}, {"sha": "8dd7c9fe9edcdab071c9c3228a6b63eeada97f44", "filename": "gcc/config/i386/nwld.h", "status": "added", "additions": 59, "deletions": 0, "changes": 59, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Fnwld.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Fnwld.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fnwld.h?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -0,0 +1,59 @@\n+/* nwld.h -- defines to be used when targeting GCC for some generic NetWare\n+   system while using the Novell linker.\n+   Copyright (C) 2004 Free Software Foundation, Inc.\n+\n+   Written by Jan Beulich (jbeulich@novell.com)\n+\n+This file is part of GCC.\n+\n+GCC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GCC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GCC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#undef\tLIB_SPEC\n+#define LIB_SPEC \"-lc --def-file libc.def%s\"\n+\n+#undef\tLIBGCC_SPEC\n+#define LIBGCC_SPEC \"-lgcc %{!static-libgcc:--def-file libgcc.def%s}\"\n+\n+#undef  LINKER_NAME\n+#define LINKER_NAME \"nwld\"\n+\n+#undef  LINK_SPEC\n+#define LINK_SPEC \"--format nlm %{static:%{!nostdlib:%{!nodefaultlib:%eStatic linking is not supported.\\n}}}\"\n+\n+#undef  LINK_GCC_C_SEQUENCE_SPEC\n+#define LINK_GCC_C_SEQUENCE_SPEC \"%L %G\"\n+\n+/* In order to permit the linker to derive the output filename from the first\n+   input file, put the common startup code as the last object. */\n+#undef\tSTARTFILE_SPEC\n+#define STARTFILE_SPEC \"\"\n+\n+#undef\tENDFILE_SPEC\n+#define ENDFILE_SPEC \"crt0%O%s ../imports/%{!posix:libc}%{posix:posix}pre.gcc%O%s\" \\\n+\t\" --def-file %{!posix:libc}%{posix:posix}pre.def%s\"\n+\n+#define DRIVER_SELF_SPECS \"%{!static-libgcc:-shared-libgcc}\"\n+\n+#define TARGET_SUB_SECTION_SEPARATOR \"$\"\n+\n+void nwld_named_section_asm_out_constructor (rtx, int);\n+void nwld_named_section_asm_out_destructor (rtx, int);\n+\n+#define TARGET_ASM_CONSTRUCTOR nwld_named_section_asm_out_constructor\n+#define TARGET_ASM_DESTRUCTOR  nwld_named_section_asm_out_destructor\n+\n+#undef  EH_FRAME_SECTION_NAME\n+#define EH_FRAME_SECTION_NAME \".eh_frame\"TARGET_SUB_SECTION_SEPARATOR"}, {"sha": "cc229b8c1a1f9f16e964f170c0d7958ce9c91252", "filename": "gcc/config/i386/t-netware", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Ft-netware", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Ft-netware", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Ft-netware?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -0,0 +1,10 @@\n+TARGET_LIBGCC2_CFLAGS = -mpreferred-stack-boundary=2 -fomit-frame-pointer\n+\n+netware.o: $(srcdir)/config/i386/netware.c $(RTL_H) $(TREE_H) $(CONFIG_H) $(TM_P_H)\n+\t$(CC) -c $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) $(srcdir)/config/i386/netware.c\n+\n+# We don't need some of GCC's own include files.\n+USER_H = $(srcdir)/ginclude/stdarg.h \\\n+         $(srcdir)/ginclude/varargs.h \\\n+         $(srcdir)/unwind.h \\\n+    $(EXTRA_HEADERS) $(LANG_EXTRA_HEADERS)"}, {"sha": "d67bc639072ac1c7aa744f6a5b9a15d30728c9c0", "filename": "gcc/config/i386/t-nwld", "status": "added", "additions": 60, "deletions": 0, "changes": 60, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Ft-nwld", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fconfig%2Fi386%2Ft-nwld", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Ft-nwld?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -0,0 +1,60 @@\n+CRTSTUFF_T_CFLAGS = -mpreferred-stack-boundary=2\n+CRT0STUFF_T_CFLAGS = -mpreferred-stack-boundary=2 $(INCLUDES)\n+# this is a slight misuse (it's not an assembler file)\n+CRT0_S = $(srcdir)/config/i386/netware-crt0.c\n+MCRT0_S = $(srcdir)/config/i386/netware-crt0.c\n+\n+libgcc.def: $(srcdir)/config/i386/t-nwld\n+\techo \"module libgcc_s\" >$@\n+\n+libc.def: $(srcdir)/config/i386/t-nwld\n+\techo \"module libc\" >$@\n+\n+libcpre.def: $(srcdir)/config/i386/t-nwld\n+\techo \"start _LibCPrelude\" >$@\n+\techo \"exit _LibCPostlude\" >>$@\n+\techo \"check _LibCCheckUnload\" >>$@\n+\n+posixpre.def: $(srcdir)/config/i386/t-nwld\n+\techo \"start POSIX_Start\" >$@\n+\techo \"exit POSIX_Stop\" >>$@\n+\techo \"check POSIX_CheckUnload\" >>$@\n+\n+nwld.o: $(srcdir)/config/i386/nwld.c $(RTL_H) $(TREE_H) $(CONFIG_H) $(TM_P_H)\n+\t$(CC) -c $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) $(srcdir)/config/i386/nwld.c\n+\n+\n+s-crt0: $(srcdir)/unwind-dw2-fde.h\n+\n+# Build a shared libgcc library for NetWare.\n+\n+SHLIB_EXT = .nlm\n+SHLIB_SONAME = @shlib_so_name@.nlm\n+SHLIB_NAME = @shlib_dir@@shlib_so_name@.nlm\n+SHLIB_SLIBDIR_QUAL = @shlib_slibdir_qual@\n+SHLIB_DEF = $(srcdir)/config/i386/netware-libgcc.def\n+SHLIB_MAP = $(srcdir)/config/i386/netware-libgcc.exp\n+SHLIB_SRC = $(srcdir)/config/i386/netware-libgcc.c\n+\n+SHLIB_LINK = set -e; \\\n+\tcat $(SHLIB_DEF) >@shlib_so_name@.def; \\\n+\techo \"version $(gcc_version)\" | sed \"s!\\.!,!g\" >>@shlib_so_name@.def; \\\n+\ttouch libgcc/build; \\\n+\techo \"build $$$$(($$$$(<libgcc/build)+0))\" >>@shlib_so_name@.def; \\\n+\techo \"export @$(SHLIB_MAP)\" >>@shlib_so_name@.def; \\\n+\tif mpkxdc -n -p @shlib_so_name@.xdc; \\\n+\t\tthen echo \"xdcdata @shlib_so_name@.xdc\" >>@shlib_so_name@.def; \\\n+\t\telse echo \"WARNING: $(SHLIB_NAME) built without XDC data will not work well.\" 1>&2; \\\n+\tfi; \\\n+\t$(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -o $(SHLIB_NAME) \\\n+\t\t$(SHLIB_SRC) -static-libgcc -lnetware \\\n+\t\t-Wl,--Map,--map-info,full,--strip-all,--def-file,@shlib_so_name@.def; \\\n+\trm -f @shlib_so_name@.imp; $(LN_S) $(SHLIB_MAP) @shlib_so_name@.imp; \\\n+\techo $$$$(($$$$(<libgcc/build)+1)) >libgcc/build\n+\n+# $(slibdir) double quoted to protect it from expansion while building\n+# libgcc.mk.  We want this delayed until actual install time.\n+SHLIB_INSTALL = \\\n+\t$$(SHELL) $(srcdir)/mkinstalldirs $$(slibdir)$(SHLIB_SLIBDIR_QUAL); \\\n+\t$$(INSTALL_DATA) $(SHLIB_NAME) $$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SONAME); \\\n+\t$$(INSTALL_DATA) @shlib_so_name@.imp $$(DESTDIR)$$(libsubdir)/"}, {"sha": "4dafed925b7f39233388725dfa025f07ff6f47b7", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -1,3 +1,8 @@\n+2004-09-03  Jan Beulich  <jbeulich@novell.com>\n+\n+\t* g++spec.c (MATH_LIBRARY_PROFILE): Default to MATH_LIBRARY rather\n+\tthan \"-lm\".\n+\n 2004-09-02  Paul Brook  <paul@codesourcery.com>\n \n \t* decl2.c (determine_visibility): Only check data visibility"}, {"sha": "d3ab47db834c712a2e982584896caa6d9bd8a828", "filename": "gcc/cp/g++spec.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fcp%2Fg%2B%2Bspec.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fcp%2Fg%2B%2Bspec.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fg%2B%2Bspec.c?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -36,7 +36,7 @@ Boston, MA 02111-1307, USA.  */\n #define MATH_LIBRARY \"-lm\"\n #endif\n #ifndef MATH_LIBRARY_PROFILE\n-#define MATH_LIBRARY_PROFILE \"-lm\"\n+#define MATH_LIBRARY_PROFILE MATH_LIBRARY\n #endif\n \n #ifndef LIBSTDCXX"}, {"sha": "c9c012ba077c4b28e9ae3ecb397a110e0c95de3b", "filename": "gcc/doc/install.texi", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fdoc%2Finstall.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fdoc%2Finstall.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finstall.texi?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -937,6 +937,8 @@ Sun Solaris 2 thread support.\n VxWorks thread support.\n @item win32\n Microsoft Win32 API thread support.\n+@item nks\n+Novell Kernel Services thread support.\n @end table\n \n @item --with-cpu=@var{cpu}"}, {"sha": "f377245b104b6c62da062c124612cc7c1e392e96", "filename": "gcc/gthr-nks.h", "status": "added", "additions": 364, "deletions": 0, "changes": 364, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fgthr-nks.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Fgthr-nks.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgthr-nks.h?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -0,0 +1,364 @@\n+/* Threads compatibility routines for libgcc2 and libobjc.  */\n+/* Compile this one with gcc.  */\n+/* Copyright (C) 2002 Free Software Foundation, Inc.\n+\n+This file is part of GCC.\n+\n+GCC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GCC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GCC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+/* As a special exception, if you link this library with other files,\n+   some of which are compiled with GCC, to produce an executable,\n+   this library does not by itself cause the resulting executable\n+   to be covered by the GNU General Public License.\n+   This exception does not however invalidate any other reasons why\n+   the executable file might be covered by the GNU General Public License.  */\n+\n+#ifndef __gthr_nks_h\n+#define __gthr_nks_h\n+\n+/* NKS threads specific definitions.\n+   Easy, since the interface is mostly one-to-one mapping. */\n+\n+#define __GTHREADS 1\n+\n+#define NKS_NO_INLINE_FUNCS\n+#include <nksapi.h>\n+#include <string.h>\n+\n+typedef NXKey_t __gthread_key_t;\n+typedef NXMutex_t *__gthread_mutex_t;\n+\n+#define __GTHREAD_MUTEX_INIT_FUNCTION __gthread_mutex_init_function\n+\n+static inline int\n+__gthread_active_p (void)\n+{\n+  return 1;\n+}\n+\n+#ifdef _LIBOBJC\n+\n+/* This is the config.h file in libobjc/ */\n+#include <config.h>\n+\n+#ifdef HAVE_SCHED_H\n+# include <sched.h>\n+#endif\n+\n+/* Key structure for maintaining thread specific storage */\n+static NXKey_t _objc_thread_storage;\n+\n+/* Backend initialization functions */\n+\n+/* Initialize the threads subsystem. */\n+static inline int\n+__gthread_objc_init_thread_system(void)\n+{\n+  /* Initialize the thread storage key */\n+  if (NXKeyCreate(NULL, NULL, &_objc_thread_storage) == 0)\n+    return 0;\n+  return -1;\n+}\n+\n+/* Close the threads subsystem. */\n+static inline int\n+__gthread_objc_close_thread_system(void)\n+{\n+  if (NXKeyDelete(_objc_thread_storage) == 0)\n+    return 0;\n+  return -1;\n+}\n+\n+/* Backend thread functions */\n+\n+/* Create a new thread of execution. */\n+static inline objc_thread_t\n+__gthread_objc_thread_detach(void (*func)(void *), void *arg)\n+{\n+  objc_thread_t thread_id;\n+  NXContext_t context;\n+  NXThreadId_t new_thread_handle;\n+  int err;\n+\n+  if ((context = NXContextAlloc(func, arg, NX_PRIO_MED, 0, 0, 0, &err)) == NULL)\n+    thread_id = NULL;\n+  else if (NXThreadCreate(context, NX_THR_DETACHED, &new_thread_handle) == 0)\n+    thread_id = (objc_thread_t) new_thread_handle;\n+  else {\n+    NXContextFree(context);\n+    thread_id = NULL;\n+  }\n+  \n+  return thread_id;\n+}\n+\n+/* Set the current thread's priority. */\n+static inline int\n+__gthread_objc_thread_set_priority(int priority)\n+{\n+  if (NXThreadSetPriority(NXThreadGetId(), priority) == 0)\n+    return 0;\n+  return -1;\n+}\n+\n+/* Return the current thread's priority. */\n+static inline int\n+__gthread_objc_thread_get_priority(void)\n+{\n+  int priority;\n+\n+  if (NXThreadGetPriority(NXThreadGetId(), &priority) == 0)\n+    return priority;\n+  return -1;\n+}\n+\n+/* Yield our process time to another thread. */\n+static inline void\n+__gthread_objc_thread_yield(void)\n+{\n+  NXThreadYield();\n+}\n+\n+/* Terminate the current thread. */\n+static inline int\n+__gthread_objc_thread_exit(void)\n+{\n+  /* exit the thread */\n+  NXThreadExit(&__objc_thread_exit_status);\n+\n+  /* Failed if we reached here */\n+  return -1;\n+}\n+\n+/* Returns an integer value which uniquely describes a thread. */\n+static inline objc_thread_t\n+__gthread_objc_thread_id(void)\n+{\n+  (objc_thread_t) NXThreadGetId();\n+}\n+\n+/* Sets the thread's local storage pointer. */\n+static inline int\n+__gthread_objc_thread_set_data(void *value)\n+{\n+  return NXKeySetValue(_objc_thread_storage, value);\n+}\n+\n+/* Returns the thread's local storage pointer. */\n+static inline void *\n+__gthread_objc_thread_get_data(void)\n+{\n+  void *value;\n+\n+  if (NXKeyGetValue(_objc_thread_storage, &value) == 0)\n+    return value;\n+  return NULL;\n+}\n+\n+/* Backend mutex functions */\n+\n+/* Allocate a mutex. */\n+static inline int\n+__gthread_objc_mutex_allocate(objc_mutex_t mutex)\n+{\n+  static const NX_LOCK_INFO_ALLOC(info, \"GNU ObjC\", 0);\n+\n+  if ((mutex->backend = NXMutexAlloc(NX_MUTEX_RECURSIVE/*???*/, 0, &info)) == NULL)\n+    return 0;\n+  return -1;\n+}\n+\n+/* Deallocate a mutex. */\n+static inline int\n+__gthread_objc_mutex_deallocate(objc_mutex_t mutex)\n+{\n+  while(NXMutexIsOwned((NXMutex_t *)mutex->backend))\n+    NXUnlock((NXMutex_t *)mutex->backend);\n+  if (NXMutexFree((NXMutex_t *)mutex->backend) != 0)\n+    return -1;\n+  mutex->backend = NULL;\n+  return 0;\n+}\n+\n+/* Grab a lock on a mutex. */\n+static inline int\n+__gthread_objc_mutex_lock(objc_mutex_t mutex)\n+{\n+  return NXLock((NXMutex_t *)mutex->backend);\n+}\n+\n+/* Try to grab a lock on a mutex. */\n+static inline int\n+__gthread_objc_mutex_trylock(objc_mutex_t mutex)\n+{\n+  if (!NXTryLock((NXMutex_t *)mutex->backend))\n+    return -1;\n+  return 0;\n+}\n+\n+/* Unlock the mutex */\n+static inline int\n+__gthread_objc_mutex_unlock(objc_mutex_t mutex)\n+{\n+  return NXUnlock((NXMutex_t *)mutex->backend);\n+}\n+\n+/* Backend condition mutex functions */\n+\n+/* Allocate a condition. */\n+static inline int\n+__gthread_objc_condition_allocate(objc_condition_t condition)\n+{\n+  condition->backend = NXCondAlloc(NULL);\n+  if (condition->backend == NULL)\n+    return -1;\n+\n+  return 0;\n+}\n+\n+/* Deallocate a condition. */\n+static inline int\n+__gthread_objc_condition_deallocate(objc_condition_t condition)\n+{\n+   if (NXCondFree((NXCond_t *)condition->backend) != 0)\n+     return -1;\n+   condition->backend = NULL;\n+   return 0;\n+}\n+\n+/* Wait on the condition */\n+static inline int\n+__gthread_objc_condition_wait(objc_condition_t condition, objc_mutex_t mutex)\n+{\n+  return NXCondWait((NXCond_t *)condition->backend, (NXMutex_t *)mutex->backend);\n+}\n+\n+/* Wake up all threads waiting on this condition. */\n+static inline int\n+__gthread_objc_condition_broadcast(objc_condition_t condition)\n+{\n+  return NXCondBroadcast((NXCond_t *)condition->backend);\n+}\n+\n+/* Wake up one thread waiting on this condition. */\n+static inline int\n+__gthread_objc_condition_signal(objc_condition_t condition)\n+{\n+  return NXCondSignal((NXCond_t *)condition->backend);\n+}\n+\n+#else /* _LIBOBJC */\n+\n+#if defined(__cplusplus)\n+# include <bits/atomicity.h>\n+/* The remaining conditions here are temporary until there is\n+   an application accessible atomic operations API set... */\n+#elif defined(_M_IA64) || defined(__ia64__)\n+# include <../libstdc++-v3/config/cpu/ia64/bits/atomicity.h>\n+#elif defined(_M_IX86) || defined(__i486__)\n+# include <../libstdc++-v3/config/cpu/i486/bits/atomicity.h>\n+#elif defined(_M_AMD64) || defined(__x86_64__)\n+# include <../libstdc++-v3/config/cpu/x86-64/bits/atomicity.h>\n+#endif\n+\n+typedef volatile long __gthread_once_t;\n+\n+#define __GTHREAD_ONCE_INIT 0\n+\n+static inline int\n+__gthread_once (__gthread_once_t *once, void (*func) (void))\n+{\n+  if (__compare_and_swap(once, 0, 1))\n+  {\n+    func();\n+    *once |= 2;\n+  }\n+  else\n+  {\n+    while(!(*once & 2))\n+      NXThreadYield();\n+  }\n+  return 0;\n+}\n+\n+static inline int\n+__gthread_key_create (__gthread_key_t *key, void (*dtor) (void *))\n+{\n+  return NXKeyCreate (dtor, NULL, key);\n+}\n+\n+static inline int\n+__gthread_key_dtor (__gthread_key_t key, void *ptr)\n+{\n+  /* Just reset the key value to zero. */\n+  if (ptr)\n+    return NXKeySetValue (key, NULL);\n+  return 0;\n+}\n+\n+static inline int\n+__gthread_key_delete (__gthread_key_t key)\n+{\n+  return NXKeyDelete (key);\n+}\n+\n+static inline void *\n+__gthread_getspecific (__gthread_key_t key)\n+{\n+  void *value;\n+\n+  if (NXKeyGetValue(key, &value) == 0)\n+    return value;\n+  return NULL;\n+}\n+\n+static inline int\n+__gthread_setspecific (__gthread_key_t key, const void *ptr)\n+{\n+  return NXKeySetValue(key, (void *)ptr);\n+}\n+\n+static inline void\n+__gthread_mutex_init_function (__gthread_mutex_t *mutex)\n+{\n+  static const NX_LOCK_INFO_ALLOC(info, \"GTHREADS\", 0);\n+\n+  *mutex = NXMutexAlloc (NX_MUTEX_RECURSIVE/*???*/, 0, &info);\n+}\n+\n+static inline int\n+__gthread_mutex_lock (__gthread_mutex_t *mutex)\n+{\n+  return NXLock(*mutex);\n+}\n+\n+static inline int\n+__gthread_mutex_trylock (__gthread_mutex_t *mutex)\n+{\n+  if (NXTryLock(*mutex))\n+    return 0;\n+  return -1;\n+}\n+\n+static inline int\n+__gthread_mutex_unlock (__gthread_mutex_t *mutex)\n+{\n+  return NXUnlock(*mutex);\n+}\n+\n+#endif /* _LIBOBJC */\n+\n+#endif /* not __gthr_nks_h */"}, {"sha": "8cae9a8498f7c793bec8ca101a8a654d4d5f807e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -1,3 +1,27 @@\n+2004-09-03  Jan Beulich  <jbeulich@novell.com>\n+\n+\t* g++.dg/abi/bitfield5.C: Use -mno-ms-bitfields.\n+\t* g++.old-deja/g++.jason/thunk2.C: xfail for NetWare.\n+\t* g++.old-deja/g++.law/profile1.C: xfail for NetWare.\n+\t* g++.old-deja/g++.other/store-expr1.C: xfail for NetWare.\n+\t* gcc.c-torture/compile/20001109-1.c: xfail for NetWare.\n+\t* gcc.c-torture/compile/20001109-2.c: xfail for NetWare.\n+\t* gcc.c-torture/execute/multi-ix.c: Use __builtin_bzero rather than\n+\tthe non-portable bzero.\n+\t* gcc.dg/20010912-1.c: xfail for NetWare.\n+\t* gcc.dg/20020426-2.c: xfail for NetWare.\n+\t* gcc.dg/20021014-1.c: xfail for NetWare.\n+\t* gcc.dg/20021018-1.c: xfail for NetWare.\n+\t* gcc.dg/20030213-1.c: xfail for NetWare.\n+\t* gcc.dg/20030225-1.c: xfail for NetWare.\n+\t* gcc.dg/20030708-1.c: xfail for NetWare.\n+\t* gcc.dg/builtins-config.h: Also exclude NetWare.\n+\t* gcc.dg/format/format.h: Define restrict only if not already defined.\n+\t* gcc.dg/nest.c: xfail for NetWare.\n+\t* gcc.dg/special/gcsec-1.c: Don't pass -static for NetWare.\n+\t* lib/target-supports.exp (check_visibility_available): Exclude\n+\tNetWare.\n+\n 2004-09-03  Jan Beulich  <jbeulich@novell.com>\n \n \t* gcc.dg/pack-test-2.c: Adjust to permit and check #pragma pack(push)."}, {"sha": "53131401434c68c574133c9c3f1d7fea19fbd349", "filename": "gcc/testsuite/g++.dg/abi/bitfield5.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Fbitfield5.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Fbitfield5.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Fbitfield5.C?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -1,5 +1,6 @@\n // { dg-do compile } \n // { dg-options \"-Wabi -fabi-version=1\" }\n+// { dg-options \"-Wabi -fabi-version=1 -mno-ms-bitfields\" { target i?86-*-* x86_64-*-* } }\n \n struct A { \n   virtual void f(); "}, {"sha": "5694fa1b27007143a7356db6cbe07de69ebe5662", "filename": "gcc/testsuite/g++.old-deja/g++.jason/thunk2.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.jason%2Fthunk2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.jason%2Fthunk2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.jason%2Fthunk2.C?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -1,5 +1,6 @@\n // { dg-do run }\n // { dg-options \"-fPIC\" }\n+// { dg-bogus \"\\[Uu\\]nresolved symbol .(_GLOBAL_OFFSET_TABLE_|\\[_.A-Za-z\\]\\[_.0-9A-Za-z\\]*@(PLT|GOT|GOTOFF))\" \"PIC unsupported\" { xfail *-*-netware* } 0 }\n // Test that non-variadic function calls using thunks and PIC work right.\n \n struct A {"}, {"sha": "56c52d1ef9a5a7ebcd4ce39de48f69f54d5d29ed", "filename": "gcc/testsuite/g++.old-deja/g++.law/profile1.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.law%2Fprofile1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.law%2Fprofile1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.law%2Fprofile1.C?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -2,6 +2,7 @@\n // { dg-require-profiling \"-pg\" }\n // { dg-options \"-pg\" }\n // { dg-options \"-pg -static\" { target hppa*-*-hpux* } }\n+// { dg-bogus \"\\[Uu\\]nresolved symbol ._mcount\" \"Profiling unsupported\" { xfail *-*-netware* } 0 }\n // GROUPS passed profiling\n #include <stdio.h>\n main()"}, {"sha": "f3a682d77f6c95e1d2596b597fcdbb85a2896256", "filename": "gcc/testsuite/g++.old-deja/g++.other/store-expr1.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fstore-expr1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fstore-expr1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fstore-expr1.C?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -1,5 +1,6 @@\n // { dg-do run { target i?86-*-* } }\n // { dg-options \"-mtune=i686 -O2 -fpic\" }\n+// { dg-bogus \"\\[Uu\\]nresolved symbol .(_GLOBAL_OFFSET_TABLE_|\\[_.A-Za-z\\]\\[_.0-9A-Za-z\\]*@(PLT|GOT|GOTOFF))\" \"PIC unsupported\" { xfail *-*-netware* } 0 }\n class G {};\n \n struct N {"}, {"sha": "6e513c9563f0d8616c1a41b8bdeb302c070778ae", "filename": "gcc/testsuite/gcc.c-torture/compile/20001109-1.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20001109-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20001109-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20001109-1.c?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -1,3 +1,5 @@\n+/* This does not work on NetWare, which has a default of 1-byte alignment.  */\n+/* { dg-xfail-if \"\" { \"*-*-netware*\" } { \"*\" } { \"\" } } */\n typedef struct _foo foo;\n extern foo bar;\n struct _foo {"}, {"sha": "1448215c5781355abdb2c9839f5f270af53db1b5", "filename": "gcc/testsuite/gcc.c-torture/compile/20001109-2.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20001109-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20001109-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20001109-2.c?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -1,3 +1,5 @@\n+/* This does not work on NetWare, which has a default of 1-byte alignment.  */\n+/* { dg-xfail-if \"\" { \"*-*-netware*\" } { \"*\" } { \"\" } } */\n extern struct foo bar;\n struct foo {\n   int a;"}, {"sha": "d61a3136706840d88f46f0efc017a1b56a847df5", "filename": "gcc/testsuite/gcc.c-torture/execute/multi-ix.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fmulti-ix.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fmulti-ix.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fmulti-ix.c?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -161,7 +161,7 @@ void z(int n, ...)\n   while (n--)\n     {\n       int *a = va_arg (list, int *);\n-      bzero (a, sizeof (l));\n+      __builtin_bzero (a, sizeof (l));\n     }\n   va_end (list);\n }"}, {"sha": "7769b496e55545bda30865bc569d66dfa0d0a094", "filename": "gcc/testsuite/gcc.dg/20010912-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.dg%2F20010912-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.dg%2F20010912-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2F20010912-1.c?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -1,6 +1,7 @@\n /* { dg-do run } */\n /* { dg-options \"-O2 -fpic\" } */\n /* { dg-warning \"not supported\" \"PIC unsupported\" { target cris-*-elf* cris-*-aout* mmix-*-* } 0 } */\n+/* { dg-bogus \"\\[Uu\\]nresolved symbol .(_GLOBAL_OFFSET_TABLE_|\\[_.A-Za-z\\]\\[_.0-9A-Za-z\\]*@(PLT|GOT|GOTOFF))\" \"PIC unsupported\" { xfail *-*-netware* } 0 } */\n \n extern void abort (void);\n extern void exit (int);"}, {"sha": "dd7fa7ff577cca599a2abd1bfae8f8e71c4bdda5", "filename": "gcc/testsuite/gcc.dg/20020426-2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.dg%2F20020426-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.dg%2F20020426-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2F20020426-2.c?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -3,6 +3,7 @@\n /* { dg-do run } */\n /* { dg-options \"-O2\" } */\n /* { dg-options \"-O2 -frename-registers -fomit-frame-pointer -fPIC -mtune=i686\" { target i?86-*-* } } */\n+/* { dg-bogus \"\\[Uu\\]nresolved symbol .(_GLOBAL_OFFSET_TABLE_|\\[_.A-Za-z\\]\\[_.0-9A-Za-z\\]*@(PLT|GOT|GOTOFF))\" \"PIC unsupported\" { xfail *-*-netware* } 0 } */\n \n extern void exit (int);\n "}, {"sha": "6ce62c34666912ea46aa0ea50c49c97509844688", "filename": "gcc/testsuite/gcc.dg/20021014-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.dg%2F20021014-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.dg%2F20021014-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2F20021014-1.c?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -4,6 +4,7 @@\n /* { dg-options \"-O2 -p -static\" { target hppa*-*-hpux* } } */\n /* { dg-error \"profiler\" \"No profiler support\" { target xstormy16-*-* } 0 } */\n /* { dg-error \"\" \"consider using `-pg' instead of `-p' with gprof(1)\" { target *-*-freebsd* } 0 } */\n+/* { dg-bogus \"\\[Uu\\]nresolved symbol ._mcount\" \"Profiling unsupported\" { xfail *-*-netware* } 0 } */\n \n extern void abort (void);\n extern void exit (int);"}, {"sha": "f460e77a1eaf6b32b829ee780ec4746b38610427", "filename": "gcc/testsuite/gcc.dg/20021018-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.dg%2F20021018-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.dg%2F20021018-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2F20021018-1.c?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run } */\n /* { dg-options \"-O2 -fpic\" } */\n+/* { dg-bogus \"\\[Uu\\]nresolved symbol .(_GLOBAL_OFFSET_TABLE_|\\[_.A-Za-z\\]\\[_.0-9A-Za-z\\]*@(PLT|GOT|GOTOFF))\" \"PIC unsupported\" { xfail *-*-netware* } 0 } */\n \n extern void abort (void);\n extern void exit (int);"}, {"sha": "8394ba054adcb0d7e4385f8a518929464fcb0a4e", "filename": "gcc/testsuite/gcc.dg/20030213-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.dg%2F20030213-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.dg%2F20030213-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2F20030213-1.c?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -2,6 +2,7 @@\n /* { dg-do link } */\n /* { dg-options \"-O -fpic\" } */\n /* { dg-warning \"not supported\" \"PIC unsupported\" { target cris-*-elf* cris-*-aout* mmix-*-* } 0 } */\n+/* { dg-bogus \"\\[Uu\\]nresolved symbol .(_GLOBAL_OFFSET_TABLE_|\\[_.A-Za-z\\]\\[_.0-9A-Za-z\\]*@(PLT|GOT|GOTOFF))\" \"PIC unsupported\" { xfail *-*-netware* } 0 } */\n \n int *g;\n "}, {"sha": "ea7736331c88eeca1ded59ed0c93bbbdb28ea7bc", "filename": "gcc/testsuite/gcc.dg/20030225-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.dg%2F20030225-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.dg%2F20030225-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2F20030225-1.c?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -6,7 +6,7 @@\n /* { dg-do run } */\n /* { dg-options \"-O2 -fPIC\" } */\n /* { dg-warning \"not supported\" \"PIC unsupported\" { target cris-*-elf* mmix-*-* } 0 } */\n-\n+/* { dg-bogus \"\\[Uu\\]nresolved symbol .(_GLOBAL_OFFSET_TABLE_|\\[_.A-Za-z\\]\\[_.0-9A-Za-z\\]*@(PLT|GOT|GOTOFF))\" \"PIC unsupported\" { xfail *-*-netware* } 0 } */\n \n extern void exit (int);\n "}, {"sha": "d0b5b2bd2b908287f27e18714b0fbc6103a86811", "filename": "gcc/testsuite/gcc.dg/20030708-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.dg%2F20030708-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.dg%2F20030708-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2F20030708-1.c?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -1,6 +1,7 @@\n /* PR c/11420 */\n /* { dg-do link } */\n /* { dg-options \"-O2 -fpic\" } */\n+/* { dg-bogus \"\\[Uu\\]nresolved symbol .(_GLOBAL_OFFSET_TABLE_|\\[_.A-Za-z\\]\\[_.0-9A-Za-z\\]*@(PLT|GOT|GOTOFF))\" \"PIC unsupported\" { xfail *-*-netware* } 0 } */\n \n void (* volatile fn) (void);\n static void foo (void)"}, {"sha": "d56cc1fb3a64610d8523266a34da2e531a3a2d7b", "filename": "gcc/testsuite/gcc.dg/builtins-config.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltins-config.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltins-config.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltins-config.h?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -17,6 +17,8 @@\n /* Irix6 doesn't have the entire C99 runtime.  */\n #elif defined(__FreeBSD__) && (__FreeBSD__ < 5)\n /* FreeBSD before version 5 doesn't have the entire C99 runtime. */\n+#elif defined(__netware__)\n+/* NetWare doesn't have the entire C99 runtime.  */\n #else\n /* Newlib has the \"f\" variants of the math functions, but not the \"l\"\n    variants.  TARGET_C99_FUNCTIONS is only defined if all C99"}, {"sha": "e55d23cd4d37145aec19051eef3d3efa2a09e0ee", "filename": "gcc/testsuite/gcc.dg/format/format.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fformat.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fformat.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fformat.h?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -31,7 +31,7 @@ typedef ullong u_quad_t;\n __extension__ typedef __INTMAX_TYPE__ intmax_t;\n __extension__ typedef __UINTMAX_TYPE__ uintmax_t;\n \n-#if __STDC_VERSION__ < 199901L\n+#if __STDC_VERSION__ < 199901L && !defined(restrict)\n #define restrict /* \"restrict\" not in old C standard.  */\n #endif\n "}, {"sha": "89ecdd58a06fb4b57cf8216b1fdf11a3204660ef", "filename": "gcc/testsuite/gcc.dg/nest.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.dg%2Fnest.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.dg%2Fnest.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fnest.c?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -5,6 +5,7 @@\n /* { dg-options \"-O2 -pg -static\" { target hppa*-*-hpux* } } */\n /* { dg-error \"profiler\" \"No profiler support\" { target xstormy16-*-* } 0 } */\n /* { dg-error \"-pg not supported\" \"Profiler support missing\" { target *-*-sco3.2v5* } 0 } */\n+/* { dg-bogus \"\\[Uu\\]nresolved symbol ._mcount\" \"Profiling unsupported\" { xfail *-*-netware* } 0 } */\n \n extern void abort (void);\n "}, {"sha": "68d4066fa39976b67711753762815b833efeafac", "filename": "gcc/testsuite/gcc.dg/special/gcsec-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.dg%2Fspecial%2Fgcsec-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Fgcc.dg%2Fspecial%2Fgcsec-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fspecial%2Fgcsec-1.c?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -5,6 +5,7 @@\n \n /* { dg-options \"-ffunction-sections -fdata-sections -Wl,--gc-sections -static\" } */\n /* { dg-options \"-ffunction-sections -fdata-sections -Wl,--gc-sections -static\" { target native } } */\n+/* { dg-options \"-ffunction-sections -fdata-sections -Wl,--gc-sections\" { target *-*-netware* } } */\n \n #include <stdlib.h>\n "}, {"sha": "25d1f8d5837b577bb8d48b63ed625efec3327486", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -73,6 +73,12 @@ proc check_visibility_available { } {\n     global target_triplet\n     global target_cpu\n \n+    # On NetWare, support makes no sense.\n+    \n+    if { [string match \"*-*-netware*\" $target_triplet] } {\n+        return 0\n+    }\n+\n     # ELF supports it if the system has recent GNU ld and gas.\n     # As a start we return 1 for all ELF systems; we'll let people\n     # add exceptions as necessary.\n@@ -157,7 +163,9 @@ proc check_gc_sections_available { } {\n \n     if {![info exists gc_sections_available_saved]} {\n \t# Check if the ld used by gcc supports --gc-sections.\n-\tset gcc_ld [lindex [${tool}_target_compile \"-print-prog-name=ld\" \"\" \"none\" \"\"] 0]\n+\tset gcc_spec [${tool}_target_compile \"-dumpspecs\" \"\" \"none\" \"\"]\n+\tregsub \".*\\n\\*linker:\\[ \\t\\]*\\n(\\[^ \\t\\n\\]*).*\" \"$gcc_spec\" {\\1} linker\n+\tset gcc_ld [lindex [${tool}_target_compile \"-print-prog-name=$linker\" \"\" \"none\" \"\"] 0]\n \tset ld_output [remote_exec host \"$gcc_ld\" \"--help\"]\n \tif { [ string first \"--gc-sections\" $ld_output ] >= 0 } {\n \t    set gc_sections_available_saved 1"}, {"sha": "e232aee16e03bfb0bb7c3bf9a6b0bb0c8fd1699d", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -1,3 +1,8 @@\n+2004-09-03  Jan Beulich  <jbeulich@novell.com>\n+\n+\t* crossconfig.m4: Add NetWare as a target.\n+\t* configure: Regenerate.\n+\n 2004-09-02  Mark Mitchell  <mark@codesourcery.com>\n \n \t* libsupc++/typeinfo: Honor __GXX_MERGED_TYPEINFO_NAMES if already"}, {"sha": "140d681cdf01976cc0e89299814f6a0ee9e86393", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 2766, "deletions": 0, "changes": 2766, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -87076,6 +87076,2772 @@ _ACEOF\n _ACEOF\n \n     fi\n+    ;;\n+  *-netware)\n+\n+\n+\n+\n+\n+\n+\n+\n+for ac_header in nan.h ieeefp.h sys/isa_defs.h sys/machine.h \\\n+      sys/types.h locale.h float.h inttypes.h\n+do\n+as_ac_Header=`echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo \"$as_me:$LINENO: checking for $ac_header\" >&5\n+echo $ECHO_N \"checking for $ac_header... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_Header'}'`\" >&6\n+else\n+  # Is the header compilable?\n+echo \"$as_me:$LINENO: checking $ac_header usability\" >&5\n+echo $ECHO_N \"checking $ac_header usability... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+$ac_includes_default\n+#include <$ac_header>\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_header_compiler=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_header_compiler=no\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_compiler\" >&5\n+echo \"${ECHO_T}$ac_header_compiler\" >&6\n+\n+# Is the header present?\n+echo \"$as_me:$LINENO: checking $ac_header presence\" >&5\n+echo $ECHO_N \"checking $ac_header presence... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <$ac_header>\n+_ACEOF\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_cpp conftest.$ac_ext\\\"\") >&5\n+  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } >/dev/null; then\n+  if test -s conftest.err; then\n+    ac_cpp_err=$ac_c_preproc_warn_flag\n+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag\n+  else\n+    ac_cpp_err=\n+  fi\n+else\n+  ac_cpp_err=yes\n+fi\n+if test -z \"$ac_cpp_err\"; then\n+  ac_header_preproc=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+  ac_header_preproc=no\n+fi\n+rm -f conftest.err conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_preproc\" >&5\n+echo \"${ECHO_T}$ac_header_preproc\" >&6\n+\n+# So?  What about this header?\n+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in\n+  yes:no: )\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!\" >&5\n+echo \"$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result\" >&5\n+echo \"$as_me: WARNING: $ac_header: proceeding with the compiler's result\" >&2;}\n+    ac_header_preproc=yes\n+    ;;\n+  no:yes:* )\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled\" >&5\n+echo \"$as_me: WARNING: $ac_header: present but cannot be compiled\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?\" >&5\n+echo \"$as_me: WARNING: $ac_header:     check for missing prerequisite headers?\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation\" >&5\n+echo \"$as_me: WARNING: $ac_header: see the Autoconf documentation\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header:     section \\\"Present But Cannot Be Compiled\\\"\" >&5\n+echo \"$as_me: WARNING: $ac_header:     section \\\"Present But Cannot Be Compiled\\\"\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result\" >&5\n+echo \"$as_me: WARNING: $ac_header: proceeding with the preprocessor's result\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence\" >&5\n+echo \"$as_me: WARNING: $ac_header: in the future, the compiler will take precedence\" >&2;}\n+    (\n+      cat <<\\_ASBOX\n+## ----------------------------------------- ##\n+## Report this to the package-unused lists.  ##\n+## ----------------------------------------- ##\n+_ASBOX\n+    ) |\n+      sed \"s/^/$as_me: WARNING:     /\" >&2\n+    ;;\n+esac\n+echo \"$as_me:$LINENO: checking for $ac_header\" >&5\n+echo $ECHO_N \"checking for $ac_header... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  eval \"$as_ac_Header=\\$ac_header_preproc\"\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_Header'}'`\" >&6\n+\n+fi\n+if test `eval echo '${'$as_ac_Header'}'` = yes; then\n+  cat >>confdefs.h <<_ACEOF\n+#define `echo \"HAVE_$ac_header\" | $as_tr_cpp` 1\n+_ACEOF\n+\n+fi\n+\n+done\n+\n+    SECTION_FLAGS='-ffunction-sections -fdata-sections'\n+\n+\n+  # If we're not using GNU ld, then there's no point in even trying these\n+  # tests.  Check for that first.  We should have already tested for gld\n+  # by now (in libtool), but require it now just to be safe...\n+  test -z \"$SECTION_LDFLAGS\" && SECTION_LDFLAGS=''\n+  test -z \"$OPT_LDFLAGS\" && OPT_LDFLAGS=''\n+\n+\n+\n+  # The name set by libtool depends on the version of libtool.  Shame on us\n+  # for depending on an impl detail, but c'est la vie.  Older versions used\n+  # ac_cv_prog_gnu_ld, but now it's lt_cv_prog_gnu_ld, and is copied back on\n+  # top of with_gnu_ld (which is also set by --with-gnu-ld, so that actually\n+  # makes sense).  We'll test with_gnu_ld everywhere else, so if that isn't\n+  # set (hence we're using an older libtool), then set it.\n+  if test x${with_gnu_ld+set} != xset; then\n+    if test x${ac_cv_prog_gnu_ld+set} != xset; then\n+      # We got through \"ac_require(ac_prog_ld)\" and still not set?  Huh?\n+      with_gnu_ld=no\n+    else\n+      with_gnu_ld=$ac_cv_prog_gnu_ld\n+    fi\n+  fi\n+\n+  # Start by getting the version number.  I think the libtool test already\n+  # does some of this, but throws away the result.\n+\n+  ldver=`$LD --version 2>/dev/null | head -1 | \\\n+         sed -e 's/GNU ld version \\([0-9.][0-9.]*\\).*/\\1/'`\n+\n+  glibcxx_gnu_ld_version=`echo $ldver | \\\n+         $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n+\n+  # Set --gc-sections.\n+  if test \"$with_gnu_ld\" = \"notbroken\"; then\n+    # GNU ld it is!  Joy and bunny rabbits!\n+\n+    # All these tests are for C++; save the language and the compiler flags.\n+    # Need to do this so that g++ won't try to link in libstdc++\n+    ac_test_CFLAGS=\"${CFLAGS+set}\"\n+    ac_save_CFLAGS=\"$CFLAGS\"\n+    CFLAGS='-x c++  -Wl,--gc-sections'\n+\n+    # Check for -Wl,--gc-sections\n+    # XXX This test is broken at the moment, as symbols required for linking\n+    # are now in libsupc++ (not built yet).  In addition, this test has\n+    # cored on solaris in the past.  In addition, --gc-sections doesn't\n+    # really work at the moment (keeps on discarding used sections, first\n+    # .eh_frame and now some of the glibc sections for iconv).\n+    # Bzzzzt.  Thanks for playing, maybe next time.\n+    echo \"$as_me:$LINENO: checking for ld that supports -Wl,--gc-sections\" >&5\n+echo $ECHO_N \"checking for ld that supports -Wl,--gc-sections... $ECHO_C\" >&6\n+    if test \"$cross_compiling\" = yes; then\n+  ac_sectionLDflags=yes\n+else\n+  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+     int main(void)\n+     {\n+       try { throw 1; }\n+       catch (...) { };\n+       return 0;\n+     }\n+\n+_ACEOF\n+rm -f conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_sectionLDflags=yes\n+else\n+  echo \"$as_me: program exited with status $ac_status\" >&5\n+echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+( exit $ac_status )\n+ac_sectionLDflags=no\n+fi\n+rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n+fi\n+    if test \"$ac_test_CFLAGS\" = set; then\n+      CFLAGS=\"$ac_save_CFLAGS\"\n+    else\n+      # this is the suspicious part\n+      CFLAGS=''\n+    fi\n+    if test \"$ac_sectionLDflags\" = \"yes\"; then\n+      SECTION_LDFLAGS=\"-Wl,--gc-sections $SECTION_LDFLAGS\"\n+    fi\n+    echo \"$as_me:$LINENO: result: $ac_sectionLDflags\" >&5\n+echo \"${ECHO_T}$ac_sectionLDflags\" >&6\n+  fi\n+\n+  # Set linker optimization flags.\n+  if test x\"$with_gnu_ld\" = x\"yes\"; then\n+    OPT_LDFLAGS=\"-Wl,-O1 $OPT_LDFLAGS\"\n+  fi\n+\n+\n+\n+\n+\n+\n+echo \"$as_me:$LINENO: checking for main in -lm\" >&5\n+echo $ECHO_N \"checking for main in -lm... $ECHO_C\" >&6\n+if test \"${ac_cv_lib_m_main+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  ac_check_lib_save_LIBS=$LIBS\n+LIBS=\"-lm  $LIBS\"\n+if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+\n+int\n+main ()\n+{\n+main ();\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_cv_lib_m_main=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_cv_lib_m_main=no\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+LIBS=$ac_check_lib_save_LIBS\n+fi\n+echo \"$as_me:$LINENO: result: $ac_cv_lib_m_main\" >&5\n+echo \"${ECHO_T}$ac_cv_lib_m_main\" >&6\n+if test $ac_cv_lib_m_main = yes; then\n+  cat >>confdefs.h <<_ACEOF\n+#define HAVE_LIBM 1\n+_ACEOF\n+\n+  LIBS=\"-lm $LIBS\"\n+\n+fi\n+\n+\n+for ac_func in copysignf\n+do\n+as_ac_var=`echo \"ac_cv_func_$ac_func\" | $as_tr_sh`\n+echo \"$as_me:$LINENO: checking for $ac_func\" >&5\n+echo $ECHO_N \"checking for $ac_func... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_var+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.\n+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */\n+#define $ac_func innocuous_$ac_func\n+\n+/* System header to define __stub macros and hopefully few prototypes,\n+    which can conflict with char $ac_func (); below.\n+    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n+    <limits.h> exists even on freestanding compilers.  */\n+\n+#ifdef __STDC__\n+# include <limits.h>\n+#else\n+# include <assert.h>\n+#endif\n+\n+#undef $ac_func\n+\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+#ifdef __cplusplus\n+extern \"C\"\n+{\n+#endif\n+/* We use char because int might match the return type of a gcc2\n+   builtin and then its argument prototype would still apply.  */\n+char $ac_func ();\n+/* The GNU C library defines this for functions which it implements\n+    to always fail with ENOSYS.  Some functions are actually named\n+    something starting with __ and the normal name is an alias.  */\n+#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n+choke me\n+#else\n+char (*f) () = $ac_func;\n+#endif\n+#ifdef __cplusplus\n+}\n+#endif\n+\n+int\n+main ()\n+{\n+return f != $ac_func;\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  eval \"$as_ac_var=yes\"\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+eval \"$as_ac_var=no\"\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_var'}'`\" >&6\n+if test `eval echo '${'$as_ac_var'}'` = yes; then\n+  cat >>confdefs.h <<_ACEOF\n+#define `echo \"HAVE_$ac_func\" | $as_tr_cpp` 1\n+_ACEOF\n+\n+else\n+  LIBMATHOBJS=\"$LIBMATHOBJS ${ac_func}.lo\"\n+fi\n+done\n+\n+\n+\n+for ac_func in __signbit\n+do\n+as_ac_var=`echo \"ac_cv_func_$ac_func\" | $as_tr_sh`\n+echo \"$as_me:$LINENO: checking for $ac_func\" >&5\n+echo $ECHO_N \"checking for $ac_func... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_var+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.\n+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */\n+#define $ac_func innocuous_$ac_func\n+\n+/* System header to define __stub macros and hopefully few prototypes,\n+    which can conflict with char $ac_func (); below.\n+    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n+    <limits.h> exists even on freestanding compilers.  */\n+\n+#ifdef __STDC__\n+# include <limits.h>\n+#else\n+# include <assert.h>\n+#endif\n+\n+#undef $ac_func\n+\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+#ifdef __cplusplus\n+extern \"C\"\n+{\n+#endif\n+/* We use char because int might match the return type of a gcc2\n+   builtin and then its argument prototype would still apply.  */\n+char $ac_func ();\n+/* The GNU C library defines this for functions which it implements\n+    to always fail with ENOSYS.  Some functions are actually named\n+    something starting with __ and the normal name is an alias.  */\n+#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n+choke me\n+#else\n+char (*f) () = $ac_func;\n+#endif\n+#ifdef __cplusplus\n+}\n+#endif\n+\n+int\n+main ()\n+{\n+return f != $ac_func;\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  eval \"$as_ac_var=yes\"\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+eval \"$as_ac_var=no\"\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_var'}'`\" >&6\n+if test `eval echo '${'$as_ac_var'}'` = yes; then\n+  cat >>confdefs.h <<_ACEOF\n+#define `echo \"HAVE_$ac_func\" | $as_tr_cpp` 1\n+_ACEOF\n+\n+else\n+  LIBMATHOBJS=\"$LIBMATHOBJS signbit.lo\"\n+fi\n+done\n+\n+\n+\n+for ac_func in __signbitf\n+do\n+as_ac_var=`echo \"ac_cv_func_$ac_func\" | $as_tr_sh`\n+echo \"$as_me:$LINENO: checking for $ac_func\" >&5\n+echo $ECHO_N \"checking for $ac_func... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_var+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.\n+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */\n+#define $ac_func innocuous_$ac_func\n+\n+/* System header to define __stub macros and hopefully few prototypes,\n+    which can conflict with char $ac_func (); below.\n+    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n+    <limits.h> exists even on freestanding compilers.  */\n+\n+#ifdef __STDC__\n+# include <limits.h>\n+#else\n+# include <assert.h>\n+#endif\n+\n+#undef $ac_func\n+\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+#ifdef __cplusplus\n+extern \"C\"\n+{\n+#endif\n+/* We use char because int might match the return type of a gcc2\n+   builtin and then its argument prototype would still apply.  */\n+char $ac_func ();\n+/* The GNU C library defines this for functions which it implements\n+    to always fail with ENOSYS.  Some functions are actually named\n+    something starting with __ and the normal name is an alias.  */\n+#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n+choke me\n+#else\n+char (*f) () = $ac_func;\n+#endif\n+#ifdef __cplusplus\n+}\n+#endif\n+\n+int\n+main ()\n+{\n+return f != $ac_func;\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  eval \"$as_ac_var=yes\"\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+eval \"$as_ac_var=no\"\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_var'}'`\" >&6\n+if test `eval echo '${'$as_ac_var'}'` = yes; then\n+  cat >>confdefs.h <<_ACEOF\n+#define `echo \"HAVE_$ac_func\" | $as_tr_cpp` 1\n+_ACEOF\n+\n+else\n+  LIBMATHOBJS=\"$LIBMATHOBJS signbitf.lo\"\n+fi\n+done\n+\n+\n+          if test x$ac_cv_func_copysignl = x\"yes\"; then\n+\n+for ac_func in __signbitl\n+do\n+as_ac_var=`echo \"ac_cv_func_$ac_func\" | $as_tr_sh`\n+echo \"$as_me:$LINENO: checking for $ac_func\" >&5\n+echo $ECHO_N \"checking for $ac_func... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_var+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.\n+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */\n+#define $ac_func innocuous_$ac_func\n+\n+/* System header to define __stub macros and hopefully few prototypes,\n+    which can conflict with char $ac_func (); below.\n+    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n+    <limits.h> exists even on freestanding compilers.  */\n+\n+#ifdef __STDC__\n+# include <limits.h>\n+#else\n+# include <assert.h>\n+#endif\n+\n+#undef $ac_func\n+\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+#ifdef __cplusplus\n+extern \"C\"\n+{\n+#endif\n+/* We use char because int might match the return type of a gcc2\n+   builtin and then its argument prototype would still apply.  */\n+char $ac_func ();\n+/* The GNU C library defines this for functions which it implements\n+    to always fail with ENOSYS.  Some functions are actually named\n+    something starting with __ and the normal name is an alias.  */\n+#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n+choke me\n+#else\n+char (*f) () = $ac_func;\n+#endif\n+#ifdef __cplusplus\n+}\n+#endif\n+\n+int\n+main ()\n+{\n+return f != $ac_func;\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  eval \"$as_ac_var=yes\"\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+eval \"$as_ac_var=no\"\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_var'}'`\" >&6\n+if test `eval echo '${'$as_ac_var'}'` = yes; then\n+  cat >>confdefs.h <<_ACEOF\n+#define `echo \"HAVE_$ac_func\" | $as_tr_cpp` 1\n+_ACEOF\n+\n+else\n+  LIBMATHOBJS=\"$LIBMATHOBJS signbitl.lo\"\n+fi\n+done\n+\n+  fi\n+\n+  # Used in libmath/Makefile.am.\n+  if test -n \"$LIBMATHOBJS\"; then\n+    need_libmath=yes\n+  fi\n+\n+\n+\n+  # Test wchar.h for mbstate_t, which is needed for char_traits and\n+  # others even if wchar_t support is not on.\n+  echo \"$as_me:$LINENO: checking for mbstate_t\" >&5\n+echo $ECHO_N \"checking for mbstate_t... $ECHO_C\" >&6\n+  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <wchar.h>\n+int\n+main ()\n+{\n+mbstate_t teststate;\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  have_mbstate_t=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+have_mbstate_t=no\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+  echo \"$as_me:$LINENO: result: $have_mbstate_t\" >&5\n+echo \"${ECHO_T}$have_mbstate_t\" >&6\n+  if test x\"$have_mbstate_t\" = xyes; then\n+    cat >>confdefs.h <<\\_ACEOF\n+#define HAVE_MBSTATE_T 1\n+_ACEOF\n+\n+  fi\n+\n+  # Sanity check for existence of ISO C99 headers for extended encoding.\n+\n+for ac_header in wchar.h\n+do\n+as_ac_Header=`echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo \"$as_me:$LINENO: checking for $ac_header\" >&5\n+echo $ECHO_N \"checking for $ac_header... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_Header'}'`\" >&6\n+else\n+  # Is the header compilable?\n+echo \"$as_me:$LINENO: checking $ac_header usability\" >&5\n+echo $ECHO_N \"checking $ac_header usability... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+$ac_includes_default\n+#include <$ac_header>\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_header_compiler=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_header_compiler=no\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_compiler\" >&5\n+echo \"${ECHO_T}$ac_header_compiler\" >&6\n+\n+# Is the header present?\n+echo \"$as_me:$LINENO: checking $ac_header presence\" >&5\n+echo $ECHO_N \"checking $ac_header presence... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <$ac_header>\n+_ACEOF\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_cpp conftest.$ac_ext\\\"\") >&5\n+  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } >/dev/null; then\n+  if test -s conftest.err; then\n+    ac_cpp_err=$ac_c_preproc_warn_flag\n+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag\n+  else\n+    ac_cpp_err=\n+  fi\n+else\n+  ac_cpp_err=yes\n+fi\n+if test -z \"$ac_cpp_err\"; then\n+  ac_header_preproc=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+  ac_header_preproc=no\n+fi\n+rm -f conftest.err conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_preproc\" >&5\n+echo \"${ECHO_T}$ac_header_preproc\" >&6\n+\n+# So?  What about this header?\n+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in\n+  yes:no: )\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!\" >&5\n+echo \"$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result\" >&5\n+echo \"$as_me: WARNING: $ac_header: proceeding with the compiler's result\" >&2;}\n+    ac_header_preproc=yes\n+    ;;\n+  no:yes:* )\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled\" >&5\n+echo \"$as_me: WARNING: $ac_header: present but cannot be compiled\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?\" >&5\n+echo \"$as_me: WARNING: $ac_header:     check for missing prerequisite headers?\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation\" >&5\n+echo \"$as_me: WARNING: $ac_header: see the Autoconf documentation\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header:     section \\\"Present But Cannot Be Compiled\\\"\" >&5\n+echo \"$as_me: WARNING: $ac_header:     section \\\"Present But Cannot Be Compiled\\\"\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result\" >&5\n+echo \"$as_me: WARNING: $ac_header: proceeding with the preprocessor's result\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence\" >&5\n+echo \"$as_me: WARNING: $ac_header: in the future, the compiler will take precedence\" >&2;}\n+    (\n+      cat <<\\_ASBOX\n+## ----------------------------------------- ##\n+## Report this to the package-unused lists.  ##\n+## ----------------------------------------- ##\n+_ASBOX\n+    ) |\n+      sed \"s/^/$as_me: WARNING:     /\" >&2\n+    ;;\n+esac\n+echo \"$as_me:$LINENO: checking for $ac_header\" >&5\n+echo $ECHO_N \"checking for $ac_header... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  eval \"$as_ac_Header=\\$ac_header_preproc\"\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_Header'}'`\" >&6\n+\n+fi\n+if test `eval echo '${'$as_ac_Header'}'` = yes; then\n+  cat >>confdefs.h <<_ACEOF\n+#define `echo \"HAVE_$ac_header\" | $as_tr_cpp` 1\n+_ACEOF\n+ ac_has_wchar_h=yes\n+else\n+  ac_has_wchar_h=no\n+fi\n+\n+done\n+\n+\n+for ac_header in wctype.h\n+do\n+as_ac_Header=`echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo \"$as_me:$LINENO: checking for $ac_header\" >&5\n+echo $ECHO_N \"checking for $ac_header... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_Header'}'`\" >&6\n+else\n+  # Is the header compilable?\n+echo \"$as_me:$LINENO: checking $ac_header usability\" >&5\n+echo $ECHO_N \"checking $ac_header usability... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+$ac_includes_default\n+#include <$ac_header>\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_header_compiler=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_header_compiler=no\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_compiler\" >&5\n+echo \"${ECHO_T}$ac_header_compiler\" >&6\n+\n+# Is the header present?\n+echo \"$as_me:$LINENO: checking $ac_header presence\" >&5\n+echo $ECHO_N \"checking $ac_header presence... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <$ac_header>\n+_ACEOF\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_cpp conftest.$ac_ext\\\"\") >&5\n+  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } >/dev/null; then\n+  if test -s conftest.err; then\n+    ac_cpp_err=$ac_c_preproc_warn_flag\n+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag\n+  else\n+    ac_cpp_err=\n+  fi\n+else\n+  ac_cpp_err=yes\n+fi\n+if test -z \"$ac_cpp_err\"; then\n+  ac_header_preproc=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+  ac_header_preproc=no\n+fi\n+rm -f conftest.err conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_preproc\" >&5\n+echo \"${ECHO_T}$ac_header_preproc\" >&6\n+\n+# So?  What about this header?\n+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in\n+  yes:no: )\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!\" >&5\n+echo \"$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result\" >&5\n+echo \"$as_me: WARNING: $ac_header: proceeding with the compiler's result\" >&2;}\n+    ac_header_preproc=yes\n+    ;;\n+  no:yes:* )\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled\" >&5\n+echo \"$as_me: WARNING: $ac_header: present but cannot be compiled\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?\" >&5\n+echo \"$as_me: WARNING: $ac_header:     check for missing prerequisite headers?\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation\" >&5\n+echo \"$as_me: WARNING: $ac_header: see the Autoconf documentation\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header:     section \\\"Present But Cannot Be Compiled\\\"\" >&5\n+echo \"$as_me: WARNING: $ac_header:     section \\\"Present But Cannot Be Compiled\\\"\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result\" >&5\n+echo \"$as_me: WARNING: $ac_header: proceeding with the preprocessor's result\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence\" >&5\n+echo \"$as_me: WARNING: $ac_header: in the future, the compiler will take precedence\" >&2;}\n+    (\n+      cat <<\\_ASBOX\n+## ----------------------------------------- ##\n+## Report this to the package-unused lists.  ##\n+## ----------------------------------------- ##\n+_ASBOX\n+    ) |\n+      sed \"s/^/$as_me: WARNING:     /\" >&2\n+    ;;\n+esac\n+echo \"$as_me:$LINENO: checking for $ac_header\" >&5\n+echo $ECHO_N \"checking for $ac_header... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  eval \"$as_ac_Header=\\$ac_header_preproc\"\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_Header'}'`\" >&6\n+\n+fi\n+if test `eval echo '${'$as_ac_Header'}'` = yes; then\n+  cat >>confdefs.h <<_ACEOF\n+#define `echo \"HAVE_$ac_header\" | $as_tr_cpp` 1\n+_ACEOF\n+ ac_has_wctype_h=yes\n+else\n+  ac_has_wctype_h=no\n+fi\n+\n+done\n+\n+\n+  # Only continue checking if the ISO C99 headers exist and support is on.\n+  if test x\"$ac_has_wchar_h\" = xyes &&\n+     test x\"$ac_has_wctype_h\" = xyes &&\n+     test x\"$enable_c_mbchar\" != xno; then\n+\n+    # Test wchar.h for WCHAR_MIN, WCHAR_MAX, which is needed before\n+    # numeric_limits can instantiate type_traits<wchar_t>\n+    echo \"$as_me:$LINENO: checking for WCHAR_MIN and WCHAR_MAX\" >&5\n+echo $ECHO_N \"checking for WCHAR_MIN and WCHAR_MAX... $ECHO_C\" >&6\n+    cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <wchar.h>\n+int\n+main ()\n+{\n+int i = WCHAR_MIN; int j = WCHAR_MAX;\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  has_wchar_minmax=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+has_wchar_minmax=no\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+    echo \"$as_me:$LINENO: result: $has_wchar_minmax\" >&5\n+echo \"${ECHO_T}$has_wchar_minmax\" >&6\n+\n+    # Test wchar.h for WEOF, which is what we use to determine whether\n+    # to specialize for char_traits<wchar_t> or not.\n+    echo \"$as_me:$LINENO: checking for WEOF\" >&5\n+echo $ECHO_N \"checking for WEOF... $ECHO_C\" >&6\n+    cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+      #include <wchar.h>\n+      #include <stddef.h>\n+int\n+main ()\n+{\n+wint_t i = WEOF;\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  has_weof=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+has_weof=no\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+    echo \"$as_me:$LINENO: result: $has_weof\" >&5\n+echo \"${ECHO_T}$has_weof\" >&6\n+\n+    # Tests for wide character functions used in char_traits<wchar_t>.\n+    ac_wfuncs=yes\n+\n+\n+\n+\n+\n+\n+for ac_func in wcslen wmemchr wmemcmp wmemcpy wmemmove wmemset\n+do\n+as_ac_var=`echo \"ac_cv_func_$ac_func\" | $as_tr_sh`\n+echo \"$as_me:$LINENO: checking for $ac_func\" >&5\n+echo $ECHO_N \"checking for $ac_func... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_var+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.\n+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */\n+#define $ac_func innocuous_$ac_func\n+\n+/* System header to define __stub macros and hopefully few prototypes,\n+    which can conflict with char $ac_func (); below.\n+    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n+    <limits.h> exists even on freestanding compilers.  */\n+\n+#ifdef __STDC__\n+# include <limits.h>\n+#else\n+# include <assert.h>\n+#endif\n+\n+#undef $ac_func\n+\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+#ifdef __cplusplus\n+extern \"C\"\n+{\n+#endif\n+/* We use char because int might match the return type of a gcc2\n+   builtin and then its argument prototype would still apply.  */\n+char $ac_func ();\n+/* The GNU C library defines this for functions which it implements\n+    to always fail with ENOSYS.  Some functions are actually named\n+    something starting with __ and the normal name is an alias.  */\n+#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n+choke me\n+#else\n+char (*f) () = $ac_func;\n+#endif\n+#ifdef __cplusplus\n+}\n+#endif\n+\n+int\n+main ()\n+{\n+return f != $ac_func;\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  eval \"$as_ac_var=yes\"\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+eval \"$as_ac_var=no\"\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_var'}'`\" >&6\n+if test `eval echo '${'$as_ac_var'}'` = yes; then\n+  cat >>confdefs.h <<_ACEOF\n+#define `echo \"HAVE_$ac_func\" | $as_tr_cpp` 1\n+_ACEOF\n+\n+else\n+  ac_wfuncs=no\n+fi\n+done\n+\n+\n+    # Checks for names injected into std:: by the c_std headers.\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+for ac_func in btowc wctob fgetwc fgetws fputwc fputws fwide \\\n+    fwprintf fwscanf swprintf swscanf vfwprintf vswprintf \\\n+    vwprintf wprintf wscanf getwc getwchar mbsinit mbrlen mbrtowc \\\n+    mbsrtowcs wcsrtombs putwc putwchar ungetwc wcrtomb wcstod wcstol \\\n+    wcstoul wcscpy wcsncpy wcscat wcsncat wcscmp wcscoll wcsncmp wcsxfrm \\\n+    wcscspn wcsspn wcstok wcsftime wcschr wcspbrk wcsrchr wcsstr\n+do\n+as_ac_var=`echo \"ac_cv_func_$ac_func\" | $as_tr_sh`\n+echo \"$as_me:$LINENO: checking for $ac_func\" >&5\n+echo $ECHO_N \"checking for $ac_func... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_var+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.\n+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */\n+#define $ac_func innocuous_$ac_func\n+\n+/* System header to define __stub macros and hopefully few prototypes,\n+    which can conflict with char $ac_func (); below.\n+    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n+    <limits.h> exists even on freestanding compilers.  */\n+\n+#ifdef __STDC__\n+# include <limits.h>\n+#else\n+# include <assert.h>\n+#endif\n+\n+#undef $ac_func\n+\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+#ifdef __cplusplus\n+extern \"C\"\n+{\n+#endif\n+/* We use char because int might match the return type of a gcc2\n+   builtin and then its argument prototype would still apply.  */\n+char $ac_func ();\n+/* The GNU C library defines this for functions which it implements\n+    to always fail with ENOSYS.  Some functions are actually named\n+    something starting with __ and the normal name is an alias.  */\n+#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n+choke me\n+#else\n+char (*f) () = $ac_func;\n+#endif\n+#ifdef __cplusplus\n+}\n+#endif\n+\n+int\n+main ()\n+{\n+return f != $ac_func;\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  eval \"$as_ac_var=yes\"\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+eval \"$as_ac_var=no\"\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_var'}'`\" >&6\n+if test `eval echo '${'$as_ac_var'}'` = yes; then\n+  cat >>confdefs.h <<_ACEOF\n+#define `echo \"HAVE_$ac_func\" | $as_tr_cpp` 1\n+_ACEOF\n+\n+else\n+  ac_wfuncs=no\n+fi\n+done\n+\n+\n+    # Checks for wide character functions that are not required\n+    # for basic wchar_t support.  Don't disable support if they are missing.\n+    # Injection of these is wrapped with guard macros.\n+\n+\n+\n+\n+\n+for ac_func in vfwscanf vswscanf vwscanf wcstof iswblank\n+do\n+as_ac_var=`echo \"ac_cv_func_$ac_func\" | $as_tr_sh`\n+echo \"$as_me:$LINENO: checking for $ac_func\" >&5\n+echo $ECHO_N \"checking for $ac_func... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_var+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.\n+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */\n+#define $ac_func innocuous_$ac_func\n+\n+/* System header to define __stub macros and hopefully few prototypes,\n+    which can conflict with char $ac_func (); below.\n+    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n+    <limits.h> exists even on freestanding compilers.  */\n+\n+#ifdef __STDC__\n+# include <limits.h>\n+#else\n+# include <assert.h>\n+#endif\n+\n+#undef $ac_func\n+\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+#ifdef __cplusplus\n+extern \"C\"\n+{\n+#endif\n+/* We use char because int might match the return type of a gcc2\n+   builtin and then its argument prototype would still apply.  */\n+char $ac_func ();\n+/* The GNU C library defines this for functions which it implements\n+    to always fail with ENOSYS.  Some functions are actually named\n+    something starting with __ and the normal name is an alias.  */\n+#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n+choke me\n+#else\n+char (*f) () = $ac_func;\n+#endif\n+#ifdef __cplusplus\n+}\n+#endif\n+\n+int\n+main ()\n+{\n+return f != $ac_func;\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  eval \"$as_ac_var=yes\"\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+eval \"$as_ac_var=no\"\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_var'}'`\" >&6\n+if test `eval echo '${'$as_ac_var'}'` = yes; then\n+  cat >>confdefs.h <<_ACEOF\n+#define `echo \"HAVE_$ac_func\" | $as_tr_cpp` 1\n+_ACEOF\n+\n+fi\n+done\n+\n+\n+    echo \"$as_me:$LINENO: checking for ISO C99 wchar_t support\" >&5\n+echo $ECHO_N \"checking for ISO C99 wchar_t support... $ECHO_C\" >&6\n+    if test x\"$has_weof\" = xyes &&\n+       test x\"$has_wchar_minmax\" = xyes &&\n+       test x\"$ac_wfuncs\" = xyes;\n+    then\n+      ac_isoC99_wchar_t=yes\n+    else\n+      ac_isoC99_wchar_t=no\n+    fi\n+    echo \"$as_me:$LINENO: result: $ac_isoC99_wchar_t\" >&5\n+echo \"${ECHO_T}$ac_isoC99_wchar_t\" >&6\n+\n+    # Use iconv for wchar_t to char conversions. As such, check for\n+    # X/Open Portability Guide, version 2 features (XPG2).\n+    if test \"${ac_cv_header_iconv_h+set}\" = set; then\n+  echo \"$as_me:$LINENO: checking for iconv.h\" >&5\n+echo $ECHO_N \"checking for iconv.h... $ECHO_C\" >&6\n+if test \"${ac_cv_header_iconv_h+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+fi\n+echo \"$as_me:$LINENO: result: $ac_cv_header_iconv_h\" >&5\n+echo \"${ECHO_T}$ac_cv_header_iconv_h\" >&6\n+else\n+  # Is the header compilable?\n+echo \"$as_me:$LINENO: checking iconv.h usability\" >&5\n+echo $ECHO_N \"checking iconv.h usability... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+$ac_includes_default\n+#include <iconv.h>\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_header_compiler=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_header_compiler=no\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_compiler\" >&5\n+echo \"${ECHO_T}$ac_header_compiler\" >&6\n+\n+# Is the header present?\n+echo \"$as_me:$LINENO: checking iconv.h presence\" >&5\n+echo $ECHO_N \"checking iconv.h presence... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <iconv.h>\n+_ACEOF\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_cpp conftest.$ac_ext\\\"\") >&5\n+  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } >/dev/null; then\n+  if test -s conftest.err; then\n+    ac_cpp_err=$ac_c_preproc_warn_flag\n+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag\n+  else\n+    ac_cpp_err=\n+  fi\n+else\n+  ac_cpp_err=yes\n+fi\n+if test -z \"$ac_cpp_err\"; then\n+  ac_header_preproc=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+  ac_header_preproc=no\n+fi\n+rm -f conftest.err conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_preproc\" >&5\n+echo \"${ECHO_T}$ac_header_preproc\" >&6\n+\n+# So?  What about this header?\n+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in\n+  yes:no: )\n+    { echo \"$as_me:$LINENO: WARNING: iconv.h: accepted by the compiler, rejected by the preprocessor!\" >&5\n+echo \"$as_me: WARNING: iconv.h: accepted by the compiler, rejected by the preprocessor!\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: iconv.h: proceeding with the compiler's result\" >&5\n+echo \"$as_me: WARNING: iconv.h: proceeding with the compiler's result\" >&2;}\n+    ac_header_preproc=yes\n+    ;;\n+  no:yes:* )\n+    { echo \"$as_me:$LINENO: WARNING: iconv.h: present but cannot be compiled\" >&5\n+echo \"$as_me: WARNING: iconv.h: present but cannot be compiled\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: iconv.h:     check for missing prerequisite headers?\" >&5\n+echo \"$as_me: WARNING: iconv.h:     check for missing prerequisite headers?\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: iconv.h: see the Autoconf documentation\" >&5\n+echo \"$as_me: WARNING: iconv.h: see the Autoconf documentation\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: iconv.h:     section \\\"Present But Cannot Be Compiled\\\"\" >&5\n+echo \"$as_me: WARNING: iconv.h:     section \\\"Present But Cannot Be Compiled\\\"\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: iconv.h: proceeding with the preprocessor's result\" >&5\n+echo \"$as_me: WARNING: iconv.h: proceeding with the preprocessor's result\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: iconv.h: in the future, the compiler will take precedence\" >&5\n+echo \"$as_me: WARNING: iconv.h: in the future, the compiler will take precedence\" >&2;}\n+    (\n+      cat <<\\_ASBOX\n+## ----------------------------------------- ##\n+## Report this to the package-unused lists.  ##\n+## ----------------------------------------- ##\n+_ASBOX\n+    ) |\n+      sed \"s/^/$as_me: WARNING:     /\" >&2\n+    ;;\n+esac\n+echo \"$as_me:$LINENO: checking for iconv.h\" >&5\n+echo $ECHO_N \"checking for iconv.h... $ECHO_C\" >&6\n+if test \"${ac_cv_header_iconv_h+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  ac_cv_header_iconv_h=$ac_header_preproc\n+fi\n+echo \"$as_me:$LINENO: result: $ac_cv_header_iconv_h\" >&5\n+echo \"${ECHO_T}$ac_cv_header_iconv_h\" >&6\n+\n+fi\n+if test $ac_cv_header_iconv_h = yes; then\n+  ac_has_iconv_h=yes\n+else\n+  ac_has_iconv_h=no\n+fi\n+\n+\n+    if test \"${ac_cv_header_langinfo_h+set}\" = set; then\n+  echo \"$as_me:$LINENO: checking for langinfo.h\" >&5\n+echo $ECHO_N \"checking for langinfo.h... $ECHO_C\" >&6\n+if test \"${ac_cv_header_langinfo_h+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+fi\n+echo \"$as_me:$LINENO: result: $ac_cv_header_langinfo_h\" >&5\n+echo \"${ECHO_T}$ac_cv_header_langinfo_h\" >&6\n+else\n+  # Is the header compilable?\n+echo \"$as_me:$LINENO: checking langinfo.h usability\" >&5\n+echo $ECHO_N \"checking langinfo.h usability... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+$ac_includes_default\n+#include <langinfo.h>\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_header_compiler=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_header_compiler=no\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_compiler\" >&5\n+echo \"${ECHO_T}$ac_header_compiler\" >&6\n+\n+# Is the header present?\n+echo \"$as_me:$LINENO: checking langinfo.h presence\" >&5\n+echo $ECHO_N \"checking langinfo.h presence... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <langinfo.h>\n+_ACEOF\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_cpp conftest.$ac_ext\\\"\") >&5\n+  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } >/dev/null; then\n+  if test -s conftest.err; then\n+    ac_cpp_err=$ac_c_preproc_warn_flag\n+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag\n+  else\n+    ac_cpp_err=\n+  fi\n+else\n+  ac_cpp_err=yes\n+fi\n+if test -z \"$ac_cpp_err\"; then\n+  ac_header_preproc=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+  ac_header_preproc=no\n+fi\n+rm -f conftest.err conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_preproc\" >&5\n+echo \"${ECHO_T}$ac_header_preproc\" >&6\n+\n+# So?  What about this header?\n+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in\n+  yes:no: )\n+    { echo \"$as_me:$LINENO: WARNING: langinfo.h: accepted by the compiler, rejected by the preprocessor!\" >&5\n+echo \"$as_me: WARNING: langinfo.h: accepted by the compiler, rejected by the preprocessor!\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: langinfo.h: proceeding with the compiler's result\" >&5\n+echo \"$as_me: WARNING: langinfo.h: proceeding with the compiler's result\" >&2;}\n+    ac_header_preproc=yes\n+    ;;\n+  no:yes:* )\n+    { echo \"$as_me:$LINENO: WARNING: langinfo.h: present but cannot be compiled\" >&5\n+echo \"$as_me: WARNING: langinfo.h: present but cannot be compiled\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: langinfo.h:     check for missing prerequisite headers?\" >&5\n+echo \"$as_me: WARNING: langinfo.h:     check for missing prerequisite headers?\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: langinfo.h: see the Autoconf documentation\" >&5\n+echo \"$as_me: WARNING: langinfo.h: see the Autoconf documentation\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: langinfo.h:     section \\\"Present But Cannot Be Compiled\\\"\" >&5\n+echo \"$as_me: WARNING: langinfo.h:     section \\\"Present But Cannot Be Compiled\\\"\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: langinfo.h: proceeding with the preprocessor's result\" >&5\n+echo \"$as_me: WARNING: langinfo.h: proceeding with the preprocessor's result\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: langinfo.h: in the future, the compiler will take precedence\" >&5\n+echo \"$as_me: WARNING: langinfo.h: in the future, the compiler will take precedence\" >&2;}\n+    (\n+      cat <<\\_ASBOX\n+## ----------------------------------------- ##\n+## Report this to the package-unused lists.  ##\n+## ----------------------------------------- ##\n+_ASBOX\n+    ) |\n+      sed \"s/^/$as_me: WARNING:     /\" >&2\n+    ;;\n+esac\n+echo \"$as_me:$LINENO: checking for langinfo.h\" >&5\n+echo $ECHO_N \"checking for langinfo.h... $ECHO_C\" >&6\n+if test \"${ac_cv_header_langinfo_h+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  ac_cv_header_langinfo_h=$ac_header_preproc\n+fi\n+echo \"$as_me:$LINENO: result: $ac_cv_header_langinfo_h\" >&5\n+echo \"${ECHO_T}$ac_cv_header_langinfo_h\" >&6\n+\n+fi\n+if test $ac_cv_header_langinfo_h = yes; then\n+  ac_has_langinfo_h=yes\n+else\n+  ac_has_langinfo_h=no\n+fi\n+\n+\n+\n+    # Check for existence of libiconv.a providing XPG2 wchar_t support.\n+    echo \"$as_me:$LINENO: checking for iconv in -liconv\" >&5\n+echo $ECHO_N \"checking for iconv in -liconv... $ECHO_C\" >&6\n+if test \"${ac_cv_lib_iconv_iconv+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  ac_check_lib_save_LIBS=$LIBS\n+LIBS=\"-liconv  $LIBS\"\n+if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+#ifdef __cplusplus\n+extern \"C\"\n+#endif\n+/* We use char because int might match the return type of a gcc2\n+   builtin and then its argument prototype would still apply.  */\n+char iconv ();\n+int\n+main ()\n+{\n+iconv ();\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_cv_lib_iconv_iconv=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_cv_lib_iconv_iconv=no\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+LIBS=$ac_check_lib_save_LIBS\n+fi\n+echo \"$as_me:$LINENO: result: $ac_cv_lib_iconv_iconv\" >&5\n+echo \"${ECHO_T}$ac_cv_lib_iconv_iconv\" >&6\n+if test $ac_cv_lib_iconv_iconv = yes; then\n+  LIBICONV=\"-liconv\"\n+fi\n+\n+    ac_save_LIBS=\"$LIBS\"\n+    LIBS=\"$LIBS $LIBICONV\"\n+\n+\n+\n+\n+\n+\n+for ac_func in iconv_open iconv_close iconv nl_langinfo\n+do\n+as_ac_var=`echo \"ac_cv_func_$ac_func\" | $as_tr_sh`\n+echo \"$as_me:$LINENO: checking for $ac_func\" >&5\n+echo $ECHO_N \"checking for $ac_func... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_var+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.\n+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */\n+#define $ac_func innocuous_$ac_func\n+\n+/* System header to define __stub macros and hopefully few prototypes,\n+    which can conflict with char $ac_func (); below.\n+    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n+    <limits.h> exists even on freestanding compilers.  */\n+\n+#ifdef __STDC__\n+# include <limits.h>\n+#else\n+# include <assert.h>\n+#endif\n+\n+#undef $ac_func\n+\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+#ifdef __cplusplus\n+extern \"C\"\n+{\n+#endif\n+/* We use char because int might match the return type of a gcc2\n+   builtin and then its argument prototype would still apply.  */\n+char $ac_func ();\n+/* The GNU C library defines this for functions which it implements\n+    to always fail with ENOSYS.  Some functions are actually named\n+    something starting with __ and the normal name is an alias.  */\n+#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n+choke me\n+#else\n+char (*f) () = $ac_func;\n+#endif\n+#ifdef __cplusplus\n+}\n+#endif\n+\n+int\n+main ()\n+{\n+return f != $ac_func;\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  eval \"$as_ac_var=yes\"\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+eval \"$as_ac_var=no\"\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_var'}'`\" >&6\n+if test `eval echo '${'$as_ac_var'}'` = yes; then\n+  cat >>confdefs.h <<_ACEOF\n+#define `echo \"HAVE_$ac_func\" | $as_tr_cpp` 1\n+_ACEOF\n+ ac_XPG2funcs=yes\n+else\n+  ac_XPG2funcs=no\n+fi\n+done\n+\n+\n+    LIBS=\"$ac_save_LIBS\"\n+\n+    echo \"$as_me:$LINENO: checking for XPG2 wchar_t support\" >&5\n+echo $ECHO_N \"checking for XPG2 wchar_t support... $ECHO_C\" >&6\n+    if test x\"$ac_has_iconv_h\" = xyes &&\n+       test x\"$ac_has_langinfo_h\" = xyes &&\n+       test x\"$ac_XPG2funcs\" = xyes;\n+    then\n+      ac_XPG2_wchar_t=yes\n+    else\n+      ac_XPG2_wchar_t=no\n+    fi\n+    echo \"$as_me:$LINENO: result: $ac_XPG2_wchar_t\" >&5\n+echo \"${ECHO_T}$ac_XPG2_wchar_t\" >&6\n+\n+    # At the moment, only enable wchar_t specializations if all the\n+    # above support is present.\n+    if test x\"$ac_isoC99_wchar_t\" = xyes &&\n+       test x\"$ac_XPG2_wchar_t\" = xyes;\n+    then\n+      cat >>confdefs.h <<\\_ACEOF\n+#define _GLIBCXX_USE_WCHAR_T 1\n+_ACEOF\n+\n+      enable_wchar_t=yes\n+    fi\n+  fi\n+  echo \"$as_me:$LINENO: checking for enabled wchar_t specializations\" >&5\n+echo $ECHO_N \"checking for enabled wchar_t specializations... $ECHO_C\" >&6\n+  echo \"$as_me:$LINENO: result: $enable_wchar_t\" >&5\n+echo \"${ECHO_T}$enable_wchar_t\" >&6\n+\n+\n+    # For showmanyc_helper().\n+\n+\n+for ac_header in sys/ioctl.h sys/filio.h\n+do\n+as_ac_Header=`echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo \"$as_me:$LINENO: checking for $ac_header\" >&5\n+echo $ECHO_N \"checking for $ac_header... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_Header'}'`\" >&6\n+else\n+  # Is the header compilable?\n+echo \"$as_me:$LINENO: checking $ac_header usability\" >&5\n+echo $ECHO_N \"checking $ac_header usability... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+$ac_includes_default\n+#include <$ac_header>\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_header_compiler=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_header_compiler=no\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_compiler\" >&5\n+echo \"${ECHO_T}$ac_header_compiler\" >&6\n+\n+# Is the header present?\n+echo \"$as_me:$LINENO: checking $ac_header presence\" >&5\n+echo $ECHO_N \"checking $ac_header presence... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <$ac_header>\n+_ACEOF\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_cpp conftest.$ac_ext\\\"\") >&5\n+  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } >/dev/null; then\n+  if test -s conftest.err; then\n+    ac_cpp_err=$ac_c_preproc_warn_flag\n+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag\n+  else\n+    ac_cpp_err=\n+  fi\n+else\n+  ac_cpp_err=yes\n+fi\n+if test -z \"$ac_cpp_err\"; then\n+  ac_header_preproc=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+  ac_header_preproc=no\n+fi\n+rm -f conftest.err conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_preproc\" >&5\n+echo \"${ECHO_T}$ac_header_preproc\" >&6\n+\n+# So?  What about this header?\n+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in\n+  yes:no: )\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!\" >&5\n+echo \"$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result\" >&5\n+echo \"$as_me: WARNING: $ac_header: proceeding with the compiler's result\" >&2;}\n+    ac_header_preproc=yes\n+    ;;\n+  no:yes:* )\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled\" >&5\n+echo \"$as_me: WARNING: $ac_header: present but cannot be compiled\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?\" >&5\n+echo \"$as_me: WARNING: $ac_header:     check for missing prerequisite headers?\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation\" >&5\n+echo \"$as_me: WARNING: $ac_header: see the Autoconf documentation\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header:     section \\\"Present But Cannot Be Compiled\\\"\" >&5\n+echo \"$as_me: WARNING: $ac_header:     section \\\"Present But Cannot Be Compiled\\\"\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result\" >&5\n+echo \"$as_me: WARNING: $ac_header: proceeding with the preprocessor's result\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence\" >&5\n+echo \"$as_me: WARNING: $ac_header: in the future, the compiler will take precedence\" >&2;}\n+    (\n+      cat <<\\_ASBOX\n+## ----------------------------------------- ##\n+## Report this to the package-unused lists.  ##\n+## ----------------------------------------- ##\n+_ASBOX\n+    ) |\n+      sed \"s/^/$as_me: WARNING:     /\" >&2\n+    ;;\n+esac\n+echo \"$as_me:$LINENO: checking for $ac_header\" >&5\n+echo $ECHO_N \"checking for $ac_header... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  eval \"$as_ac_Header=\\$ac_header_preproc\"\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_Header'}'`\" >&6\n+\n+fi\n+if test `eval echo '${'$as_ac_Header'}'` = yes; then\n+  cat >>confdefs.h <<_ACEOF\n+#define `echo \"HAVE_$ac_header\" | $as_tr_cpp` 1\n+_ACEOF\n+\n+fi\n+\n+done\n+\n+\n+  if test \"${glibcxx_cv_POLL+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+\n+    if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <poll.h>\n+int\n+main ()\n+{\n+struct pollfd pfd[1];\n+       pfd[0].events = POLLIN;\n+       poll(pfd, 1, 0);\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  glibcxx_cv_POLL=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+glibcxx_cv_POLL=no\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+\n+fi\n+\n+  if test $glibcxx_cv_POLL = yes; then\n+    cat >>confdefs.h <<\\_ACEOF\n+#define HAVE_POLL 1\n+_ACEOF\n+\n+  fi\n+\n+\n+  if test \"${glibcxx_cv_S_ISREG+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+\n+    if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <sys/stat.h>\n+int\n+main ()\n+{\n+struct stat buffer;\n+       fstat(0, &buffer);\n+       S_ISREG(buffer.st_mode);\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  glibcxx_cv_S_ISREG=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+glibcxx_cv_S_ISREG=no\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+\n+fi\n+\n+  if test \"${glibcxx_cv_S_IFREG+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+\n+    if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <sys/stat.h>\n+int\n+main ()\n+{\n+struct stat buffer;\n+       fstat(0, &buffer);\n+       S_IFREG & buffer.st_mode;\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  glibcxx_cv_S_IFREG=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+glibcxx_cv_S_IFREG=no\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+\n+fi\n+\n+  if test $glibcxx_cv_S_ISREG = yes; then\n+    cat >>confdefs.h <<\\_ACEOF\n+#define HAVE_S_ISREG 1\n+_ACEOF\n+\n+  elif test $glibcxx_cv_S_IFREG = yes; then\n+    cat >>confdefs.h <<\\_ACEOF\n+#define HAVE_S_IFREG 1\n+_ACEOF\n+\n+  fi\n+\n+\n+    # For xsputn_2().\n+\n+for ac_header in sys/uio.h\n+do\n+as_ac_Header=`echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo \"$as_me:$LINENO: checking for $ac_header\" >&5\n+echo $ECHO_N \"checking for $ac_header... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_Header'}'`\" >&6\n+else\n+  # Is the header compilable?\n+echo \"$as_me:$LINENO: checking $ac_header usability\" >&5\n+echo $ECHO_N \"checking $ac_header usability... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+$ac_includes_default\n+#include <$ac_header>\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_header_compiler=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_header_compiler=no\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_compiler\" >&5\n+echo \"${ECHO_T}$ac_header_compiler\" >&6\n+\n+# Is the header present?\n+echo \"$as_me:$LINENO: checking $ac_header presence\" >&5\n+echo $ECHO_N \"checking $ac_header presence... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <$ac_header>\n+_ACEOF\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_cpp conftest.$ac_ext\\\"\") >&5\n+  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } >/dev/null; then\n+  if test -s conftest.err; then\n+    ac_cpp_err=$ac_c_preproc_warn_flag\n+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag\n+  else\n+    ac_cpp_err=\n+  fi\n+else\n+  ac_cpp_err=yes\n+fi\n+if test -z \"$ac_cpp_err\"; then\n+  ac_header_preproc=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+  ac_header_preproc=no\n+fi\n+rm -f conftest.err conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_preproc\" >&5\n+echo \"${ECHO_T}$ac_header_preproc\" >&6\n+\n+# So?  What about this header?\n+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in\n+  yes:no: )\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!\" >&5\n+echo \"$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result\" >&5\n+echo \"$as_me: WARNING: $ac_header: proceeding with the compiler's result\" >&2;}\n+    ac_header_preproc=yes\n+    ;;\n+  no:yes:* )\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled\" >&5\n+echo \"$as_me: WARNING: $ac_header: present but cannot be compiled\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?\" >&5\n+echo \"$as_me: WARNING: $ac_header:     check for missing prerequisite headers?\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation\" >&5\n+echo \"$as_me: WARNING: $ac_header: see the Autoconf documentation\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header:     section \\\"Present But Cannot Be Compiled\\\"\" >&5\n+echo \"$as_me: WARNING: $ac_header:     section \\\"Present But Cannot Be Compiled\\\"\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result\" >&5\n+echo \"$as_me: WARNING: $ac_header: proceeding with the preprocessor's result\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence\" >&5\n+echo \"$as_me: WARNING: $ac_header: in the future, the compiler will take precedence\" >&2;}\n+    (\n+      cat <<\\_ASBOX\n+## ----------------------------------------- ##\n+## Report this to the package-unused lists.  ##\n+## ----------------------------------------- ##\n+_ASBOX\n+    ) |\n+      sed \"s/^/$as_me: WARNING:     /\" >&2\n+    ;;\n+esac\n+echo \"$as_me:$LINENO: checking for $ac_header\" >&5\n+echo $ECHO_N \"checking for $ac_header... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  eval \"$as_ac_Header=\\$ac_header_preproc\"\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_Header'}'`\" >&6\n+\n+fi\n+if test `eval echo '${'$as_ac_Header'}'` = yes; then\n+  cat >>confdefs.h <<_ACEOF\n+#define `echo \"HAVE_$ac_header\" | $as_tr_cpp` 1\n+_ACEOF\n+\n+fi\n+\n+done\n+\n+\n+  if test \"${glibcxx_cv_WRITEV+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+\n+    if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <sys/uio.h>\n+int\n+main ()\n+{\n+struct iovec iov[2];\n+       writev(0, iov, 0);\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  glibcxx_cv_WRITEV=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+glibcxx_cv_WRITEV=no\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+\n+fi\n+\n+  if test $glibcxx_cv_WRITEV = yes; then\n+    cat >>confdefs.h <<\\_ACEOF\n+#define HAVE_WRITEV 1\n+_ACEOF\n+\n+  fi\n+\n     ;;\n   *-qnx6.1* | *-qnx6.2*)\n     SECTION_FLAGS='-ffunction-sections -fdata-sections'"}, {"sha": "83a29b47007007209703aeaf8edcc2759c95a7e0", "filename": "libstdc++-v3/crossconfig.m4", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fec9ffac35d5cb530c9f1e757e7796d8488281/libstdc%2B%2B-v3%2Fcrossconfig.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fec9ffac35d5cb530c9f1e757e7796d8488281/libstdc%2B%2B-v3%2Fcrossconfig.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fcrossconfig.m4?ref=61fec9ffac35d5cb530c9f1e757e7796d8488281", "patch": "@@ -264,6 +264,24 @@ case \"${host}\" in\n       AC_DEFINE(HAVE_ISNANL)\n     fi\n     ;;\n+  *-netware)\n+    AC_CHECK_HEADERS([nan.h ieeefp.h sys/isa_defs.h sys/machine.h \\\n+      sys/types.h locale.h float.h inttypes.h])\n+    SECTION_FLAGS='-ffunction-sections -fdata-sections'\n+    AC_SUBST(SECTION_FLAGS)\n+    GLIBCXX_CHECK_LINKER_FEATURES\n+    GLIBCXX_CHECK_COMPLEX_MATH_SUPPORT\n+    GLIBCXX_CHECK_WCHAR_T_SUPPORT\n+\n+    # For showmanyc_helper().\n+    AC_CHECK_HEADERS(sys/ioctl.h sys/filio.h)\n+    GLIBCXX_CHECK_POLL\n+    GLIBCXX_CHECK_S_ISREG_OR_S_IFREG\n+\n+    # For xsputn_2().\n+    AC_CHECK_HEADERS(sys/uio.h)\n+    GLIBCXX_CHECK_WRITEV\n+    ;;\n   *-qnx6.1* | *-qnx6.2*)\n     SECTION_FLAGS='-ffunction-sections -fdata-sections'\n     AC_SUBST(SECTION_FLAGS) "}]}