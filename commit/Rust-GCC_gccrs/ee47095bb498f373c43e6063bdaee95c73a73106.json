{"sha": "ee47095bb498f373c43e6063bdaee95c73a73106", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWU0NzA5NWJiNDk4ZjM3M2M0M2U2MDYzYmRhZWU5NWM3M2E3MzEwNg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2009-06-15T20:54:22Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2009-06-15T20:54:22Z"}, "message": "printers.py (StdMapPrinter.__init__): Don't set self.iter.\n\n\t* python/libstdcxx/v6/printers.py (StdMapPrinter.__init__): Don't\n\tset self.iter.\n\t(StdMapPrinter.to_string): Make a new iterator.\n\t(StdMapPrinter.children): Likewise.\n\t(StdSetPrinter.__init__): Don't set self.iter.\n\t(StdSetPrinter.to_string): Make a new iterator.\n\t(StdSetPrinter.children): Likewise.\n\nFrom-SVN: r148506", "tree": {"sha": "a3f1a03f92afe861f4754c06779b71ca16f21e64", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a3f1a03f92afe861f4754c06779b71ca16f21e64"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ee47095bb498f373c43e6063bdaee95c73a73106", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee47095bb498f373c43e6063bdaee95c73a73106", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee47095bb498f373c43e6063bdaee95c73a73106", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee47095bb498f373c43e6063bdaee95c73a73106/comments", "author": null, "committer": null, "parents": [{"sha": "98a129b9c42c43d4cc0a256963482df85bb43284", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/98a129b9c42c43d4cc0a256963482df85bb43284", "html_url": "https://github.com/Rust-GCC/gccrs/commit/98a129b9c42c43d4cc0a256963482df85bb43284"}], "stats": {"total": 22, "additions": 16, "deletions": 6}, "files": [{"sha": "2ca72ea84fa3a4c7bd381b39ba831c5a7dc12d98", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee47095bb498f373c43e6063bdaee95c73a73106/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee47095bb498f373c43e6063bdaee95c73a73106/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=ee47095bb498f373c43e6063bdaee95c73a73106", "patch": "@@ -1,3 +1,13 @@\n+2009-06-15  Tom Tromey  <tromey@redhat.com>\n+\n+\t* python/libstdcxx/v6/printers.py (StdMapPrinter.__init__): Don't\n+\tset self.iter.\n+\t(StdMapPrinter.to_string): Make a new iterator.\n+\t(StdMapPrinter.children): Likewise.\n+\t(StdSetPrinter.__init__): Don't set self.iter.\n+\t(StdSetPrinter.to_string): Make a new iterator.\n+\t(StdSetPrinter.children): Likewise.\n+\n 2009-06-11  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \t* include/bits/random.tcc"}, {"sha": "e2bb231e15a80d7acfe6fa71dffd09a48cd48d1e", "filename": "libstdc++-v3/python/libstdcxx/v6/printers.py", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee47095bb498f373c43e6063bdaee95c73a73106/libstdc%2B%2B-v3%2Fpython%2Flibstdcxx%2Fv6%2Fprinters.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee47095bb498f373c43e6063bdaee95c73a73106/libstdc%2B%2B-v3%2Fpython%2Flibstdcxx%2Fv6%2Fprinters.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fpython%2Flibstdcxx%2Fv6%2Fprinters.py?ref=ee47095bb498f373c43e6063bdaee95c73a73106", "patch": "@@ -277,17 +277,17 @@ def next(self):\n     def __init__ (self, typename, val):\n         self.typename = typename\n         self.val = val\n-        self.iter = RbtreeIterator (val)\n \n     def to_string (self):\n-        return '%s with %d elements' % (self.typename, len (self.iter))\n+        return '%s with %d elements' % (self.typename,\n+                                        len (RbtreeIterator (self.val)))\n \n     def children (self):\n         keytype = self.val.type.template_argument(0).const()\n         valuetype = self.val.type.template_argument(1)\n         nodetype = gdb.lookup_type('std::_Rb_tree_node< std::pair< %s, %s > >' % (keytype, valuetype))\n         nodetype = nodetype.pointer()\n-        return self._iter (self.iter, nodetype)\n+        return self._iter (RbtreeIterator (self.val), nodetype)\n \n     def display_hint (self):\n         return 'map'\n@@ -317,15 +317,15 @@ def next(self):\n     def __init__ (self, typename, val):\n         self.typename = typename\n         self.val = val\n-        self.iter = RbtreeIterator (val)\n \n     def to_string (self):\n-        return '%s with %d elements' % (self.typename, len (self.iter))\n+        return '%s with %d elements' % (self.typename,\n+                                        len (RbtreeIterator (self.val)))\n \n     def children (self):\n         keytype = self.val.type.template_argument(0)\n         nodetype = gdb.lookup_type('std::_Rb_tree_node< %s >' % keytype).pointer()\n-        return self._iter (self.iter, nodetype)\n+        return self._iter (RbtreeIterator (self.val), nodetype)\n \n class StdBitsetPrinter:\n     \"Print a std::bitset\""}]}