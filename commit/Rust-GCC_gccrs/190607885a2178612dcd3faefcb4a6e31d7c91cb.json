{"sha": "190607885a2178612dcd3faefcb4a6e31d7c91cb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTkwNjA3ODg1YTIxNzg2MTJkY2QzZmFlZmNiNGE2ZTMxZDdjOTFjYg==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargls@comcast.net", "date": "2005-01-22T22:32:06Z"}, "committer": {"name": "Paul Brook", "email": "pbrook@gcc.gnu.org", "date": "2005-01-22T22:32:06Z"}, "message": "intrinsic.c (make_alias): Add standard argument.\n\n2005-01-22  Steven G. Kargl  <kargls@comcast.net>\n\n\t* intrinsic.c (make_alias):  Add standard argument.\n\t(add_functions): Update make_alias calls.\n\nFrom-SVN: r94082", "tree": {"sha": "e986b0d97cd30209c16a6b6e7485f15c26fc7796", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e986b0d97cd30209c16a6b6e7485f15c26fc7796"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/190607885a2178612dcd3faefcb4a6e31d7c91cb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/190607885a2178612dcd3faefcb4a6e31d7c91cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/190607885a2178612dcd3faefcb4a6e31d7c91cb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/190607885a2178612dcd3faefcb4a6e31d7c91cb/comments", "author": null, "committer": null, "parents": [{"sha": "b4b2332cf9a4c419552eff53487df67993106436", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4b2332cf9a4c419552eff53487df67993106436", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b4b2332cf9a4c419552eff53487df67993106436"}], "stats": {"total": 30, "additions": 20, "deletions": 10}, "files": [{"sha": "2a6a758b017c115eb804d1acd74018c9629599cb", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/190607885a2178612dcd3faefcb4a6e31d7c91cb/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/190607885a2178612dcd3faefcb4a6e31d7c91cb/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=190607885a2178612dcd3faefcb4a6e31d7c91cb", "patch": "@@ -1,3 +1,8 @@\n+2005-01-22  Steven G. Kargl  <kargls@comcast.net>\n+\n+\t* intrinsic.c (make_alias):  Add standard argument. \n+\t(add_functions): Update make_alias calls.\n+\n 2005-01-22  Paul Brook  <paul@codesourcery.com>\n \n \t* trans-expr.c (gfc_conv_function_call): Remove bogus TODO."}, {"sha": "4055d8b1e1dcf4ce8ff3e6c958b6fe5d761d9d5a", "filename": "gcc/fortran/intrinsic.c", "status": "modified", "additions": 15, "deletions": 10, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/190607885a2178612dcd3faefcb4a6e31d7c91cb/gcc%2Ffortran%2Fintrinsic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/190607885a2178612dcd3faefcb4a6e31d7c91cb/gcc%2Ffortran%2Fintrinsic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fintrinsic.c?ref=190607885a2178612dcd3faefcb4a6e31d7c91cb", "patch": "@@ -808,9 +808,14 @@ make_generic (const char *name, gfc_generic_isym_id generic_id, int standard)\n    freed as a single block.  */\n \n static void\n-make_alias (const char *name)\n+make_alias (const char *name, int standard)\n {\n \n+  /* First check that the intrinsic belongs to the selected standard.\n+     If not, don't add it to the symbol list.  */\n+  if (!(gfc_option.allow_std & standard))\n+    return;\n+\n   switch (sizing)\n     {\n     case SZ_FUNCS:\n@@ -884,7 +889,7 @@ add_functions (void)\n \t     NULL, gfc_simplify_abs, gfc_resolve_abs, \n \t     a, BT_COMPLEX, dd, REQUIRED);\n \n-  make_alias (\"cdabs\");\n+  make_alias (\"cdabs\", GFC_STD_GNU);\n \n   make_generic (\"abs\", GFC_ISYM_ABS, GFC_STD_F77);\n \n@@ -1127,7 +1132,7 @@ add_functions (void)\n \t     NULL, gfc_simplify_cos, gfc_resolve_cos, \n \t     x, BT_COMPLEX, dd, REQUIRED);\n \n-  make_alias (\"cdcos\");\n+  make_alias (\"cdcos\", GFC_STD_GNU);\n \n   make_generic (\"cos\", GFC_ISYM_COS, GFC_STD_F77);\n \n@@ -1158,7 +1163,7 @@ add_functions (void)\n \t     gfc_check_dble, gfc_simplify_dble, gfc_resolve_dble,\n \t     a, BT_REAL, dr, REQUIRED);\n \n-  make_alias (\"dfloat\");\n+  make_alias (\"dfloat\", GFC_STD_GNU);\n \n   make_generic (\"dble\", GFC_ISYM_DBLE, GFC_STD_F77);\n \n@@ -1239,7 +1244,7 @@ add_functions (void)\n \t     gfc_check_etime, NULL, NULL,\n \t     x, BT_REAL, 4, REQUIRED);\n \n-  make_alias (\"dtime\");\n+  make_alias (\"dtime\", GFC_STD_GNU);\n \n   make_generic (\"etime\", GFC_ISYM_ETIME, GFC_STD_GNU);\n \n@@ -1259,7 +1264,7 @@ add_functions (void)\n \t     NULL, gfc_simplify_exp, gfc_resolve_exp, \n \t     x, BT_COMPLEX, dd, REQUIRED);\n \n-  make_alias (\"cdexp\");\n+  make_alias (\"cdexp\", GFC_STD_GNU);\n \n   make_generic (\"exp\", GFC_ISYM_EXP, GFC_STD_F77);\n \n@@ -1491,7 +1496,7 @@ add_functions (void)\n \t     NULL, gfc_simplify_log, gfc_resolve_log,\n \t     x, BT_COMPLEX, dd, REQUIRED);\n \n-  make_alias (\"cdlog\");\n+  make_alias (\"cdlog\", GFC_STD_GNU);\n \n   make_generic (\"log\", GFC_ISYM_LOG, GFC_STD_F77);\n \n@@ -1713,7 +1718,7 @@ add_functions (void)\n \n   /* Compatibility with HP FORTRAN 77/iX Reference.  Note, rand() and ran()\n      use slightly different shoddy multiplicative congruential PRNG.  */\n-  make_alias (\"ran\");\n+  make_alias (\"ran\", GFC_STD_GNU);\n \n   make_generic (\"rand\", GFC_ISYM_RAND, GFC_STD_GNU);\n \n@@ -1831,7 +1836,7 @@ add_functions (void)\n \t     NULL, gfc_simplify_sin, gfc_resolve_sin,\n \t     x, BT_COMPLEX, dd, REQUIRED);\n \n-  make_alias (\"cdsin\");\n+  make_alias (\"cdsin\", GFC_STD_GNU);\n \n   make_generic (\"sin\", GFC_ISYM_SIN, GFC_STD_F77);\n \n@@ -1880,7 +1885,7 @@ add_functions (void)\n \t     NULL, gfc_simplify_sqrt, gfc_resolve_sqrt,\n \t     x, BT_COMPLEX, dd, REQUIRED);\n \n-  make_alias (\"cdsqrt\");\n+  make_alias (\"cdsqrt\", GFC_STD_GNU);\n \n   make_generic (\"sqrt\", GFC_ISYM_SQRT, GFC_STD_F77);\n "}]}