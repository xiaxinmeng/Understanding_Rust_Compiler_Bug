{"sha": "f232715d15618e91c90eb210e23de10909590944", "node_id": "C_kwDOANBUbNoAKGYyMzI3MTVkMTU2MThlOTFjOTBlYjIxMGUyM2RlMTA5MDk1OTA5NDQ", "commit": {"author": {"name": "Aldy Hernandez", "email": "aldyh@redhat.com", "date": "2022-11-12T10:27:49Z"}, "committer": {"name": "Aldy Hernandez", "email": "aldyh@redhat.com", "date": "2022-11-12T10:28:14Z"}, "message": "[frange] Avoid testing signed zero test for -fno-signed-zeros.\n\nThis patch moves a test that is meant to only work for signed zeros\ninto range_tests_signed_zeros.\n\nI am not aware of any architectures where this is failing, but it is\nannoying to see selftests failing when -fno-signed-zeros is used.\n\ngcc/ChangeLog:\n\n\t* value-range.cc (range_tests_signbit): Move to set from here...\n\t(range_tests_signed_zeros): ...to here.", "tree": {"sha": "7666feb139c86ea66c1da5474f930e765e36fe1d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7666feb139c86ea66c1da5474f930e765e36fe1d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f232715d15618e91c90eb210e23de10909590944", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f232715d15618e91c90eb210e23de10909590944", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f232715d15618e91c90eb210e23de10909590944", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f232715d15618e91c90eb210e23de10909590944/comments", "author": {"login": "aldyh", "id": 12937877, "node_id": "MDQ6VXNlcjEyOTM3ODc3", "avatar_url": "https://avatars.githubusercontent.com/u/12937877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aldyh", "html_url": "https://github.com/aldyh", "followers_url": "https://api.github.com/users/aldyh/followers", "following_url": "https://api.github.com/users/aldyh/following{/other_user}", "gists_url": "https://api.github.com/users/aldyh/gists{/gist_id}", "starred_url": "https://api.github.com/users/aldyh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aldyh/subscriptions", "organizations_url": "https://api.github.com/users/aldyh/orgs", "repos_url": "https://api.github.com/users/aldyh/repos", "events_url": "https://api.github.com/users/aldyh/events{/privacy}", "received_events_url": "https://api.github.com/users/aldyh/received_events", "type": "User", "site_admin": false}, "committer": {"login": "aldyh", "id": 12937877, "node_id": "MDQ6VXNlcjEyOTM3ODc3", "avatar_url": "https://avatars.githubusercontent.com/u/12937877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aldyh", "html_url": "https://github.com/aldyh", "followers_url": "https://api.github.com/users/aldyh/followers", "following_url": "https://api.github.com/users/aldyh/following{/other_user}", "gists_url": "https://api.github.com/users/aldyh/gists{/gist_id}", "starred_url": "https://api.github.com/users/aldyh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aldyh/subscriptions", "organizations_url": "https://api.github.com/users/aldyh/orgs", "repos_url": "https://api.github.com/users/aldyh/repos", "events_url": "https://api.github.com/users/aldyh/events{/privacy}", "received_events_url": "https://api.github.com/users/aldyh/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4c57e57b370333ae30feba624ab9caa69a33e15c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c57e57b370333ae30feba624ab9caa69a33e15c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c57e57b370333ae30feba624ab9caa69a33e15c"}], "stats": {"total": 9, "additions": 5, "deletions": 4}, "files": [{"sha": "34fac636cada2cc96be26f4818c693316f18cb21", "filename": "gcc/value-range.cc", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f232715d15618e91c90eb210e23de10909590944/gcc%2Fvalue-range.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f232715d15618e91c90eb210e23de10909590944/gcc%2Fvalue-range.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvalue-range.cc?ref=f232715d15618e91c90eb210e23de10909590944", "patch": "@@ -3928,6 +3928,11 @@ range_tests_signed_zeros ()\n   r0.set_nonnegative (float_type_node);\n   if (HONOR_NANS (float_type_node))\n     ASSERT_TRUE (r0.maybe_isnan ());\n+\n+  // Numbers containing zero should have an unknown SIGNBIT.\n+  r0 = frange_float (\"0\", \"10\");\n+  r0.clear_nan ();\n+  ASSERT_TRUE (r0.signbit_p (signbit) && !signbit);\n }\n \n static void\n@@ -3944,10 +3949,6 @@ range_tests_signbit ()\n   r0 = frange_float (\"1\", \"10\");\n   r0.clear_nan ();\n   ASSERT_TRUE (r0.signbit_p (signbit) && !signbit);\n-  // Numbers containing zero should have an unknown SIGNBIT.\n-  r0 = frange_float (\"0\", \"10\");\n-  r0.clear_nan ();\n-  ASSERT_TRUE (r0.signbit_p (signbit) && !signbit);\n   // Numbers spanning both positive and negative should have an\n   // unknown SIGNBIT.\n   r0 = frange_float (\"-10\", \"10\");"}]}