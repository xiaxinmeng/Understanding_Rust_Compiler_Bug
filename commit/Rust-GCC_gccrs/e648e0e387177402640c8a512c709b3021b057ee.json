{"sha": "e648e0e387177402640c8a512c709b3021b057ee", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTY0OGUwZTM4NzE3NzQwMjY0MGM4YTUxMmM3MDliMzAyMWIwNTdlZQ==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1994-05-31T23:31:48Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1994-05-31T23:31:48Z"}, "message": "(main): -MG doesn't make sense with -MD or -MMD!\n\nFrom-SVN: r7400", "tree": {"sha": "caad859578ab423fc59ada698b17dd3b1a7f3476", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/caad859578ab423fc59ada698b17dd3b1a7f3476"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e648e0e387177402640c8a512c709b3021b057ee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e648e0e387177402640c8a512c709b3021b057ee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e648e0e387177402640c8a512c709b3021b057ee", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e648e0e387177402640c8a512c709b3021b057ee/comments", "author": null, "committer": null, "parents": [{"sha": "b16656f641e75a46649700136aa462b3579be690", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b16656f641e75a46649700136aa462b3579be690", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b16656f641e75a46649700136aa462b3579be690"}], "stats": {"total": 23, "additions": 11, "deletions": 12}, "files": [{"sha": "bce1c9b15902937a164b5a441e9cfebf0b8ac8d1", "filename": "gcc/cccp.c", "status": "modified", "additions": 11, "deletions": 12, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e648e0e387177402640c8a512c709b3021b057ee/gcc%2Fcccp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e648e0e387177402640c8a512c709b3021b057ee/gcc%2Fcccp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcccp.c?ref=e648e0e387177402640c8a512c709b3021b057ee", "patch": "@@ -1401,17 +1401,18 @@ main (argc, argv)\n \tbreak;\n \n       case 'M':\n-\t/* ??? The style of the choices here is a bit mixed.\n+\t/* The style of the choices here is a bit mixed.\n \t   The chosen scheme is a hybrid of keeping all options in one string\n \t   and specifying each option in a separate argument:\n \t   -M|-MM|-MD file|-MMD file [-MG].  An alternative is:\n-\t   -M|-MM|-MD file|-MMD file|-MG|-MMG|-MGD file|-MMGD file; or more\n-\t   concisely: -M[M][G][D file].  This is awkward to handle in specs,\n-\t   and is not as extensible.  */\n-\t/* ??? -MG must be specified in addition to one of the other arguments.\n+\t   -M|-MM|-MD file|-MMD file|-MG|-MMG; or more concisely:\n+\t   -M[M][G][D file].  This is awkward to handle in specs, and is not\n+\t   as extensible.  */\n+\t/* ??? -MG must be specified in addition to one of -M or -MM.\n \t   This can be relaxed in the future without breaking anything.\n \t   The converse isn't true.  */\n \n+\t/* -MG isn't valid with -MD or -MMD.  This is checked for later.  */\n \tif (!strcmp (argv[i], \"-MG\"))\n \t  {\n \t    print_deps_missing_files = 1;\n@@ -1894,10 +1895,11 @@ main (argc, argv)\n   } else if ((f = open (in_fname, O_RDONLY, 0666)) < 0)\n     goto perror;\n \n-  /* -MG doesn't select the form of output and must be specified with\n-     one of the other -M options.  */\n-  if (print_deps == 0 && print_deps_missing_files)\n-    fatal (\"-MG must be specified with one of -M, -MM, -MD, -MMD\");\n+  /* -MG doesn't select the form of output and must be specified with one of\n+     -M or -MM.  -MG doesn't make sense with -MD or -MMD since they don't\n+     inhibit compilation.  */\n+  if (print_deps_missing_files && (print_deps == 0 || !inhibit_output))\n+    fatal (\"-MG must be specified with one of -M or -MM\");\n \n   /* Either of two environment variables can specify output of deps.\n      Its value is either \"OUTPUT_FILE\" or \"OUTPUT_FILE DEPS_TARGET\",\n@@ -4243,9 +4245,6 @@ do_include (buf, limit, op, keyword)\n     if (print_deps_missing_files\n \t&& print_deps > (angle_brackets || (system_include_depth > 0)))\n       {\n-\t/* ??? Perhaps this warning shouldn't be printed at all.  */\n-\twarning (\"No include path in which to find %s\", fname);\n-\n \t/* If it was requested as a system header file,\n \t   then assume it belongs in the first place to look for such.  */\n \tif (angle_brackets)"}]}