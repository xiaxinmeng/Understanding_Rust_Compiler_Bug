{"sha": "bb1058e4c2866efcfb59d127081e6afceaa16fd8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmIxMDU4ZTRjMjg2NmVmY2ZiNTlkMTI3MDgxZTZhZmNlYWExNmZkOA==", "commit": {"author": {"name": "James E Wilson", "email": "wilson@specifixinc.com", "date": "2004-09-03T22:33:46Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "2004-09-03T22:33:46Z"}, "message": "Fix aliasing bug that also caused memory usage problems.\n\n* tree-ssa-alias.c (may_be_aliased): Move TREE_STATIC check after\nDECL_EXTERNAL check.\n\nFrom-SVN: r87057", "tree": {"sha": "88df64db6e96a587e3283bf6ab62e3fe58be7ff4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/88df64db6e96a587e3283bf6ab62e3fe58be7ff4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bb1058e4c2866efcfb59d127081e6afceaa16fd8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bb1058e4c2866efcfb59d127081e6afceaa16fd8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bb1058e4c2866efcfb59d127081e6afceaa16fd8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bb1058e4c2866efcfb59d127081e6afceaa16fd8/comments", "author": null, "committer": null, "parents": [{"sha": "ca83de6b3332b3647bfd4bda0b88e5ed258e81f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca83de6b3332b3647bfd4bda0b88e5ed258e81f9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca83de6b3332b3647bfd4bda0b88e5ed258e81f9"}], "stats": {"total": 15, "additions": 11, "deletions": 4}, "files": [{"sha": "a8fbba528732796d081ca391ce83634f421a419b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bb1058e4c2866efcfb59d127081e6afceaa16fd8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bb1058e4c2866efcfb59d127081e6afceaa16fd8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bb1058e4c2866efcfb59d127081e6afceaa16fd8", "patch": "@@ -1,3 +1,8 @@\n+2004-09-03  James E Wilson  <wilson@specifixinc.com>\n+\n+\t* tree-ssa-alias.c (may_be_aliased): Move TREE_STATIC check after\n+\tDECL_EXTERNAL check.\n+\n 2004-09-03  Eric Botcazou  <ebotcazou@libertysurf.fr>\n \n \t* final.c (output_in_slot): New global variable."}, {"sha": "4027ec940e236ccb94a2ec659c207182580d269c", "filename": "gcc/tree-ssa-alias.c", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bb1058e4c2866efcfb59d127081e6afceaa16fd8/gcc%2Ftree-ssa-alias.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bb1058e4c2866efcfb59d127081e6afceaa16fd8/gcc%2Ftree-ssa-alias.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-alias.c?ref=bb1058e4c2866efcfb59d127081e6afceaa16fd8", "patch": "@@ -2467,15 +2467,17 @@ may_be_aliased (tree var)\n   if (TREE_ADDRESSABLE (var))\n     return true;\n \n-  /* Automatic variables can't have their addresses escape any other way.  */\n-  if (!TREE_STATIC (var))\n-    return false;\n-\n   /* Globally visible variables can have their addresses taken by other\n      translation units.  */\n   if (DECL_EXTERNAL (var) || TREE_PUBLIC (var))\n     return true;\n \n+  /* Automatic variables can't have their addresses escape any other way.\n+     This must be after the check for global variables, as extern declarations\n+     do not have TREE_STATIC set.  */\n+  if (!TREE_STATIC (var))\n+    return false;\n+\n   /* If we're in unit-at-a-time mode, then we must have seen all occurrences\n      of address-of operators, and so we can trust TREE_ADDRESSABLE.  Otherwise\n      we can only be sure the variable isn't addressable if it's local to the"}]}