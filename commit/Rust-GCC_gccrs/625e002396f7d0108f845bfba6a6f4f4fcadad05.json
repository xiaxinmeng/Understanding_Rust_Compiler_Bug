{"sha": "625e002396f7d0108f845bfba6a6f4f4fcadad05", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjI1ZTAwMjM5NmY3ZDAxMDhmODQ1YmZiYTZhNmY0ZjRmY2FkYWQwNQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2020-12-05T00:31:08Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2020-12-05T00:31:08Z"}, "message": "i386: Combine splitters followup [PR96226]\n\nHere is the patch to simplify the newly added combine splitters,\nwhen we split into 2 insns anyway, no reason to split into the masking\ndefine_insn_and_split we'd be splitting shortly after.\n\n2020-12-05  Jakub Jelinek  <jakub@redhat.com>\n\n\tPR target/96226\n\t* config/i386/i386.md (splitter after *<rotate_insn><mode>3_mask,\n\tsplitter after *<rotate_insn><mode>3_mask_1): Drop the masking from\n\tthe patterns to split into.", "tree": {"sha": "e95636e6cc0061cde0d1f9b22684c171dae92a24", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e95636e6cc0061cde0d1f9b22684c171dae92a24"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/625e002396f7d0108f845bfba6a6f4f4fcadad05", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/625e002396f7d0108f845bfba6a6f4f4fcadad05", "html_url": "https://github.com/Rust-GCC/gccrs/commit/625e002396f7d0108f845bfba6a6f4f4fcadad05", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/625e002396f7d0108f845bfba6a6f4f4fcadad05/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "43e84ce7d62be121445e17cc0ee009a81fb285d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/43e84ce7d62be121445e17cc0ee009a81fb285d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/43e84ce7d62be121445e17cc0ee009a81fb285d7"}], "stats": {"total": 6, "additions": 2, "deletions": 4}, "files": [{"sha": "0b28895abca5e2038fa16b22ca1799a36fbfef22", "filename": "gcc/config/i386/i386.md", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/625e002396f7d0108f845bfba6a6f4f4fcadad05/gcc%2Fconfig%2Fi386%2Fi386.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/625e002396f7d0108f845bfba6a6f4f4fcadad05/gcc%2Fconfig%2Fi386%2Fi386.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.md?ref=625e002396f7d0108f845bfba6a6f4f4fcadad05", "patch": "@@ -11988,8 +11988,7 @@\n  [(set (match_dup 4) (match_dup 1))\n   (set (match_dup 0)\n        (any_rotate:SWI48 (match_dup 4)\n-\t\t\t (subreg:QI\n-\t\t\t   (and:SI (match_dup 2) (match_dup 3)) 0)))]\n+\t\t\t (subreg:QI (match_dup 2) 0)))]\n  \"operands[4] = gen_reg_rtx (<MODE>mode);\")\n \n (define_insn_and_split \"*<rotate_insn><mode>3_mask_1\"\n@@ -12023,8 +12022,7 @@\n   == GET_MODE_BITSIZE (<MODE>mode) - 1\"\n  [(set (match_dup 4) (match_dup 1))\n   (set (match_dup 0)\n-       (any_rotate:SWI48 (match_dup 4)\n-\t\t\t (and:QI (match_dup 2) (match_dup 3))))]\n+       (any_rotate:SWI48 (match_dup 4) (match_dup 2)))]\n  \"operands[4] = gen_reg_rtx (<MODE>mode);\")\n \n ;; Implement rotation using two double-precision"}]}