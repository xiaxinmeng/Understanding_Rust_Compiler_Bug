{"sha": "f6e0c56ca228330504fce807b06e40c5033af260", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjZlMGM1NmNhMjI4MzMwNTA0ZmNlODA3YjA2ZTQwYzUwMzNhZjI2MA==", "commit": {"author": {"name": "David O'Brien", "email": "obrien@BSDi.com", "date": "2001-01-09T22:10:53Z"}, "committer": {"name": "David O'Brien", "email": "obrien@gcc.gnu.org", "date": "2001-01-09T22:10:53Z"}, "message": "config.gcc (*-*-gnu*, [...]): Specify needed platform specific files in tm_file.\n\n2001-01-09  David O'Brien  <obrien@BSDi.com>\n\t* config.gcc (*-*-gnu*, i[34567]86-*-elf*, i[34567]86-*-linux*libc1,\n\ti[34567]86-*-linux*, i[34567]86-*-moss*): Specify needed platform specific\n\tfiles in tm_file.\n\t* config/i386/gnu.h: Don't include required platform specific .h files,\n\ttm.h will do it instead.\n\t* config/i386/i386elf.h: Likewise.\n\t* config/i386/linux.h: Likewise.\n\t* config/i386/moss.h: Likewise.\n\t* config/mips/gnu.h: Likewise.\n\nApproved by:  Richard Henderson <rth@redhat.com>\n              Message-ID: <20010107030000.A24090@redhat.com>\n\nFrom-SVN: r38842", "tree": {"sha": "3076d5204e54613b31fa437eae06326554d4d440", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3076d5204e54613b31fa437eae06326554d4d440"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f6e0c56ca228330504fce807b06e40c5033af260", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6e0c56ca228330504fce807b06e40c5033af260", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f6e0c56ca228330504fce807b06e40c5033af260", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6e0c56ca228330504fce807b06e40c5033af260/comments", "author": null, "committer": null, "parents": [{"sha": "e556ad197c23631cb6878a2ea8c826a5b314d19d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e556ad197c23631cb6878a2ea8c826a5b314d19d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e556ad197c23631cb6878a2ea8c826a5b314d19d"}], "stats": {"total": 57, "additions": 29, "deletions": 28}, "files": [{"sha": "e7cb0d24badb54923109960e9b8c72a28be48dc8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6e0c56ca228330504fce807b06e40c5033af260/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6e0c56ca228330504fce807b06e40c5033af260/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f6e0c56ca228330504fce807b06e40c5033af260", "patch": "@@ -1,3 +1,15 @@\n+2001-01-09  David O'Brien  <obrien@BSDi.com>\n+\n+\t* config.gcc (*-*-gnu*, i[34567]86-*-elf*, i[34567]86-*-linux*libc1,\n+\ti[34567]86-*-linux*, i[34567]86-*-moss*): Specify needed platform specific\n+\tfiles in tm_file.\n+\t* config/i386/gnu.h: Don't include required platform specific .h files,\n+\ttm.h will do it instead.\n+\t* config/i386/i386elf.h: Likewise.\n+\t* config/i386/linux.h: Likewise.\n+\t* config/i386/moss.h: Likewise.\n+\t* config/mips/gnu.h: Likewise.\n+\n 2001-01-09  Franz Sirl  <Franz.Sirl-kernel@lauterbach.com>\n \n \t* config.gcc (powerpc-*-beos*): Include ${tm_file} and rs6000/aix.h."}, {"sha": "1408777be0afc4d4999a9e446b2d6653f8f9e812", "filename": "gcc/config.gcc", "status": "modified", "additions": 13, "deletions": 5, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6e0c56ca228330504fce807b06e40c5033af260/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6e0c56ca228330504fce807b06e40c5033af260/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=f6e0c56ca228330504fce807b06e40c5033af260", "patch": "@@ -265,7 +265,7 @@ case $machine in\n \t# each different CPU.  The specific machines that we\n \t# support are matched above and just set $cpu_type.\n \txm_file=\"xm-gnu.h ${xm_file}\"\n-\ttm_file=${cpu_type}/gnu.h\n+\ttm_file=\"${cpu_type}/gnu.h\"\n \textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o\"\n \t# GNU always uses ELF.\n \telf=yes\n@@ -276,6 +276,14 @@ case $machine in\n \txmake_file=x-linux\n \t# But here we need a little extra magic.\n \ttmake_file=\"t-linux t-gnu\"\n+\tcase $machine in\n+\ti[34567]86-*-*)\n+\t\ttm_file=\"${cpu_type}/${cpu_type}.h i386/att.h linux.h i386/linux.h gnu.h ${tm_file}\"\n+\t\t;;\n+\tmips*-*-*)\n+\t\ttm_file=\"svr4.h ${cpu_type}/${cpu_type}.h ${tm_file}\"\n+\t\t;;\n+\tesac\n \t;;\n *-*-openbsd*)\n \ttm_file=${cpu_type}/openbsd.h\n@@ -971,7 +979,7 @@ i370-*-linux*)\n \t;;\n i[34567]86-*-elf*)\n \txm_file=\"${xm_file} xm-svr4.h i386/xm-sysv4.h\"\n-\ttm_file=i386/i386elf.h\n+\ttm_file=\"i386/i386.h i386/att.h elfos.h i386/i386elf.h\"\n \ttmake_file=i386/t-i386elf\n \txmake_file=x-svr4\n \t;;\n@@ -1158,7 +1166,7 @@ i[34567]86-*-linux*libc1)\t# Intel 80386's running GNU/Linux\n \t\t\t\t# with ELF format using the\n \t\t\t\t# GNU/Linux C library 5\n \txmake_file=x-linux\t\n-\ttm_file=i386/linux.h\t\n+\ttm_file=\"i386/i386.h i386/att.h linux.h i386/linux.h\"\n \ttmake_file=\"t-linux t-linux-gnulibc1 i386/t-crtstuff\"\n \textra_parts=\"crtbegin.o crtbeginS.o crtend.o crtendS.o\"\n \tgnu_ld=yes\n@@ -1171,7 +1179,7 @@ i[34567]86-*-linux*)\t# Intel 80386's running GNU/Linux\n \t\t\t# with ELF format using glibc 2\n \t\t\t# aka GNU/Linux C library 6\n \txmake_file=x-linux\n-\ttm_file=i386/linux.h\n+\ttm_file=\"i386/i386.h i386/att.h linux.h i386/linux.h\"\n \ttmake_file=\"t-linux i386/t-crtstuff\"\n \textra_parts=\"crtbegin.o crtbeginS.o crtend.o crtendS.o\"\n \tgnu_ld=yes\n@@ -1202,7 +1210,7 @@ i[34567]86-pc-msdosdjgpp*)\n \tesac\n \t;;\n i[34567]86-moss-msdos* | i[34567]86-*-moss*)\n-\ttm_file=i386/moss.h\n+\ttm_file=\"i386/i386.h i386/att.h linux.h i386/linux.h i386/moss.h\"\n \ttmake_file=t-libc-ok\n \tgnu_ld=yes\n \tgas=yes"}, {"sha": "1c776096484447506af7b58ec9b05ca15f960fec", "filename": "gcc/config/i386/gnu.h", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6e0c56ca228330504fce807b06e40c5033af260/gcc%2Fconfig%2Fi386%2Fgnu.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6e0c56ca228330504fce807b06e40c5033af260/gcc%2Fconfig%2Fi386%2Fgnu.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fgnu.h?ref=f6e0c56ca228330504fce807b06e40c5033af260", "patch": "@@ -1,11 +1,5 @@\n /* Configuration for an i386 running GNU with ELF as the target machine.  */\n \n-/* This does it mostly for us.  */\n-#include <i386/linux.h>\n-\n-/* Get machine-independent configuration parameters for the GNU system.  */\n-#include <gnu.h>\n-\n #undef TARGET_VERSION\n #define TARGET_VERSION fprintf (stderr, \" (i386 GNU)\");\n "}, {"sha": "d333551f2b83e3c2b313cab26cec46e4e9216387", "filename": "gcc/config/i386/i386elf.h", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6e0c56ca228330504fce807b06e40c5033af260/gcc%2Fconfig%2Fi386%2Fi386elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6e0c56ca228330504fce807b06e40c5033af260/gcc%2Fconfig%2Fi386%2Fi386elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386elf.h?ref=f6e0c56ca228330504fce807b06e40c5033af260", "patch": "@@ -1,5 +1,5 @@\n /* Target definitions for GNU compiler for Intel 80386 using ELF\n-   Copyright (C) 1988, 1991, 1995, 2000 Free Software Foundation, Inc.\n+   Copyright (C) 1988, 1991, 1995, 2000, 2001 Free Software Foundation, Inc.\n \n    Derived from sysv4.h written by Ron Guilmette (rfg@netcom.com).\n \n@@ -20,12 +20,9 @@ along with GNU CC; see the file COPYING.  If not, write to\n the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n \n /* Use stabs instead of DWARF debug format.  */\n+#undef  PREFERRED_DEBUGGING_TYPE\n #define PREFERRED_DEBUGGING_TYPE DBX_DEBUG\n \n-#include \"i386/i386.h\"\n-#include \"i386/att.h\"\n-#include \"elfos.h\"\n-\n #undef TARGET_VERSION\n #define TARGET_VERSION fprintf (stderr, \" (i386 bare ELF target)\");\n "}, {"sha": "0ad1c3ac0cb603a43483c80f2cb1e36cf766bc68", "filename": "gcc/config/i386/linux.h", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6e0c56ca228330504fce807b06e40c5033af260/gcc%2Fconfig%2Fi386%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6e0c56ca228330504fce807b06e40c5033af260/gcc%2Fconfig%2Fi386%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Flinux.h?ref=f6e0c56ca228330504fce807b06e40c5033af260", "patch": "@@ -1,5 +1,5 @@\n /* Definitions for Intel 386 running Linux-based GNU systems with ELF format.\n-   Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999 Free Software Foundation, Inc.\n+   Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2001 Free Software Foundation, Inc.\n    Contributed by Eric Youngdale.\n    Modified for stabs-in-ELF by H.J. Lu.\n \n@@ -22,13 +22,6 @@ Boston, MA 02111-1307, USA.  */\n \n #define LINUX_DEFAULT_ELF\n \n-/* A lie, I guess, but the general idea behind linux/ELF is that we are\n-   supposed to be outputting something that will assemble under SVr4.\n-   This gets us pretty close.  */\n-#include <i386/i386.h>\t/* Base i386 target machine definitions */\n-#include <i386/att.h>\t/* Use the i386 AT&T assembler syntax */\n-#include <linux.h>\t/* some common stuff */\n-\n /* Output at beginning of assembler file.  */\n /* The .file command should always begin the output.  */\n #undef ASM_FILE_START"}, {"sha": "200cae0edcccca14bb60b971dfc650c4a332b82f", "filename": "gcc/config/i386/moss.h", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6e0c56ca228330504fce807b06e40c5033af260/gcc%2Fconfig%2Fi386%2Fmoss.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6e0c56ca228330504fce807b06e40c5033af260/gcc%2Fconfig%2Fi386%2Fmoss.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fmoss.h?ref=f6e0c56ca228330504fce807b06e40c5033af260", "patch": "@@ -1,5 +1,5 @@\n /* Definitions for Intel 386 running MOSS\n-   Copyright (C) 1996 Free Software Foundation, Inc.\n+   Copyright (C) 1996, 2001 Free Software Foundation, Inc.\n    Contributed by Bryan Ford <baford@cs.utah.edu>\n \n This file is part of GNU CC.\n@@ -19,9 +19,6 @@ along with GNU CC; see the file COPYING.  If not, write to\n the Free Software Foundation, 59 Temple Place - Suite 330,\n Boston, MA 02111-1307, USA.  */\n \n-/* I believe in reuse... */\n-#include \"i386/linux.h\"\n-\n #undef CPP_PREDEFINES\n #define CPP_PREDEFINES \"-D__ELF__ -Dmoss -Asystem=posix\"\n "}]}