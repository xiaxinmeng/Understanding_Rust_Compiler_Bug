{"sha": "870ce4d51bfe22b2c86fd5ee9fa2e5f4642cd572", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODcwY2U0ZDUxYmZlMjJiMmM4NmZkNWVlOWZhMmU1ZjQ2NDJjZDU3Mg==", "commit": {"author": {"name": "Ed Falis", "email": "falis@adacore.com", "date": "2016-10-13T12:57:16Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2016-10-13T12:57:16Z"}, "message": "* i-vxinco.adb, i-vxinco.ads: New files.\n\nFrom-SVN: r241114", "tree": {"sha": "6c12f2315542940f60d49919684b6c9c14791ce7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6c12f2315542940f60d49919684b6c9c14791ce7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/870ce4d51bfe22b2c86fd5ee9fa2e5f4642cd572", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/870ce4d51bfe22b2c86fd5ee9fa2e5f4642cd572", "html_url": "https://github.com/Rust-GCC/gccrs/commit/870ce4d51bfe22b2c86fd5ee9fa2e5f4642cd572", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/870ce4d51bfe22b2c86fd5ee9fa2e5f4642cd572/comments", "author": null, "committer": null, "parents": [{"sha": "07820c51656042bbed6eb9661d33d4bec1f04c47", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07820c51656042bbed6eb9661d33d4bec1f04c47", "html_url": "https://github.com/Rust-GCC/gccrs/commit/07820c51656042bbed6eb9661d33d4bec1f04c47"}], "stats": {"total": 105, "additions": 105, "deletions": 0}, "files": [{"sha": "7ea6b94515f040284f681bde94b03e530176d7cb", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/870ce4d51bfe22b2c86fd5ee9fa2e5f4642cd572/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/870ce4d51bfe22b2c86fd5ee9fa2e5f4642cd572/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=870ce4d51bfe22b2c86fd5ee9fa2e5f4642cd572", "patch": "@@ -16,6 +16,7 @@\n \n 2016-10-13  Ed Falis  <falis@adacore.com>\n \n+\t* i-vxinco.adb, i-vxinco.ads: New files.\n \t* impunit.adb: add i-vxinco.ads.\n \t* s-interr-vxworks.adb: add hook for user interrupt connection routine.\n "}, {"sha": "6418af13cd45751129a21b5c0d4ca60007b78e22", "filename": "gcc/ada/i-vxinco.adb", "status": "added", "additions": 48, "deletions": 0, "changes": 48, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/870ce4d51bfe22b2c86fd5ee9fa2e5f4642cd572/gcc%2Fada%2Fi-vxinco.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/870ce4d51bfe22b2c86fd5ee9fa2e5f4642cd572/gcc%2Fada%2Fi-vxinco.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fi-vxinco.adb?ref=870ce4d51bfe22b2c86fd5ee9fa2e5f4642cd572", "patch": "@@ -0,0 +1,48 @@\n+------------------------------------------------------------------------------\n+--                                                                          --\n+--                 GNAT RUN-TIME LIBRARY (GNARL) COMPONENTS                 --\n+--                                                                          --\n+--     I N T E R F A C E S . V X W O R K S . I N T  _ C O N N E C T I O N   --\n+--                                                                          --\n+--                                  B o d y                                 --\n+--                                                                          --\n+--                        Copyright (C) 2016, AdaCore\n+--                                                                          --\n+-- GNARL is free software; you can  redistribute it  and/or modify it under --\n+-- terms of the  GNU General Public License as published  by the Free Soft- --\n+-- ware  Foundation;  either version 3,  or (at your option) any later ver- --\n+-- sion.  GNAT is distributed in the hope that it will be useful, but WITH- --\n+-- OUT ANY WARRANTY;  without even the  implied warranty of MERCHANTABILITY --\n+-- or FITNESS FOR A PARTICULAR PURPOSE.                                     --\n+--                                                                          --\n+-- As a special exception under Section 7 of GPL version 3, you are granted --\n+-- additional permissions described in the GCC Runtime Library Exception,   --\n+-- version 3.1, as published by the Free Software Foundation.               --\n+--                                                                          --\n+-- You should have received a copy of the GNU General Public License and    --\n+-- a copy of the GCC Runtime Library Exception along with this program;     --\n+-- see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see    --\n+-- <http://www.gnu.org/licenses/>.                                          --\n+--                                                                          --\n+-- GNARL was developed by the GNARL team at Florida State University.       --\n+-- Extensive contributions were provided by Ada Core Technologies, Inc.     --\n+--                                                                          --\n+------------------------------------------------------------------------------\n+\n+package body Interfaces.VxWorks.Int_Connection is\n+\n+   Connection_Routine : Interrupt_Connector;\n+   pragma Import (C, Connection_Routine, \"__gnat_user_int_connect\");\n+   --  Declared in System.Interrupts. Defaults to the standard OS connector in\n+   --  System.OS_Interface (or Interfaces.VxWorks for restricted runtimes).\n+\n+   -------------\n+   -- Connect --\n+   -------------\n+\n+   procedure Connect (Connector : Interrupt_Connector) is\n+   begin\n+      Connection_Routine := Connector;\n+   end Connect;\n+\n+end Interfaces.VxWorks.Int_Connection;"}, {"sha": "04ae6cfe0a4f5afa810077f487cf173a10b11910", "filename": "gcc/ada/i-vxinco.ads", "status": "added", "additions": 56, "deletions": 0, "changes": 56, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/870ce4d51bfe22b2c86fd5ee9fa2e5f4642cd572/gcc%2Fada%2Fi-vxinco.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/870ce4d51bfe22b2c86fd5ee9fa2e5f4642cd572/gcc%2Fada%2Fi-vxinco.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fi-vxinco.ads?ref=870ce4d51bfe22b2c86fd5ee9fa2e5f4642cd572", "patch": "@@ -0,0 +1,56 @@\n+------------------------------------------------------------------------------\n+--                                                                          --\n+--                 GNAT RUN-TIME LIBRARY (GNARL) COMPONENTS                 --\n+--                                                                          --\n+--     I N T E R F A C E S . V X W O R K S . I N T  _ C O N N E C T I O N   --\n+--                                                                          --\n+--                                  S p e c                                 --\n+--                                                                          --\n+--                        Copyright (C) 2016, AdaCore\n+--                                                                          --\n+-- GNARL is free software; you can  redistribute it  and/or modify it under --\n+-- terms of the  GNU General Public License as published  by the Free Soft- --\n+-- ware  Foundation;  either version 3,  or (at your option) any later ver- --\n+-- sion.  GNAT is distributed in the hope that it will be useful, but WITH- --\n+-- OUT ANY WARRANTY;  without even the  implied warranty of MERCHANTABILITY --\n+-- or FITNESS FOR A PARTICULAR PURPOSE.                                     --\n+--                                                                          --\n+-- As a special exception under Section 7 of GPL version 3, you are granted --\n+-- additional permissions described in the GCC Runtime Library Exception,   --\n+-- version 3.1, as published by the Free Software Foundation.               --\n+--                                                                          --\n+-- You should have received a copy of the GNU General Public License and    --\n+-- a copy of the GCC Runtime Library Exception along with this program;     --\n+-- see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see    --\n+-- <http://www.gnu.org/licenses/>.                                          --\n+--                                                                          --\n+-- GNARL was developed by the GNARL team at Florida State University.       --\n+-- Extensive contributions were provided by Ada Core Technologies, Inc.     --\n+--                                                                          --\n+------------------------------------------------------------------------------\n+\n+--  This package provides users with the ability to use a custom routine for\n+--  connecting hardware interrupts for VxWorks environments that support the\n+--  capability to handle them. The custom routine must have the same profile\n+--  as the VxWorks intConnect() routine.\n+\n+with System;\n+\n+package Interfaces.VxWorks.Int_Connection is\n+\n+   type Interrupt_Connector is access function\n+     (Vector    : Interrupt_Vector;\n+      Handler   : VOIDFUNCPTR;\n+      Parameter : System.Address := System.Null_Address) return STATUS;\n+   pragma Convention (C, Interrupt_Connector);\n+   --  Convention C for compatibility with intConnect(). User alternatives are\n+   --  likely to be imports of C routines anyway.\n+\n+   procedure Connect (Connector : Interrupt_Connector);\n+   --  Set user-defined interrupt connection routine. Must precede calls to\n+   --  Ada.Interrupts.Attach_Handler, or the default connector from\n+   --  System.OS_Interface (or Interfaces.VxWorks for Ravenscar Cert) will be\n+   --  used. Can be called multiple times to change the connection routine for\n+   --  subsequent calls to Attach_Handler.\n+\n+end Interfaces.VxWorks.Int_Connection;"}]}