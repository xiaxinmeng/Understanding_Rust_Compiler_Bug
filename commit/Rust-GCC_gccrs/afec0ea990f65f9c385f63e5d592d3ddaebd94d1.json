{"sha": "afec0ea990f65f9c385f63e5d592d3ddaebd94d1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWZlYzBlYTk5MGY2NWY5YzM4NWY2M2U1ZDU5MmQzZGRhZWJkOTRkMQ==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1995-05-25T15:42:32Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1995-05-25T15:42:32Z"}, "message": "If cross compiler or if -nostdlib, do not pass -YP to linker.\n\nFrom-SVN: r9819", "tree": {"sha": "bc057c3996374327b9902a2280e1554980e5138b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bc057c3996374327b9902a2280e1554980e5138b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/afec0ea990f65f9c385f63e5d592d3ddaebd94d1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afec0ea990f65f9c385f63e5d592d3ddaebd94d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/afec0ea990f65f9c385f63e5d592d3ddaebd94d1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afec0ea990f65f9c385f63e5d592d3ddaebd94d1/comments", "author": null, "committer": null, "parents": [{"sha": "39fd5abe76e675d55b6e55c5a17028d240ec7bc2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39fd5abe76e675d55b6e55c5a17028d240ec7bc2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/39fd5abe76e675d55b6e55c5a17028d240ec7bc2"}], "stats": {"total": 19, "additions": 17, "deletions": 2}, "files": [{"sha": "ce7052d55ce51b584692d2b0b72379ae8801a1c5", "filename": "gcc/config/rs6000/sysv4.h", "status": "modified", "additions": 17, "deletions": 2, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/afec0ea990f65f9c385f63e5d592d3ddaebd94d1/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/afec0ea990f65f9c385f63e5d592d3ddaebd94d1/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fsysv4.h?ref=afec0ea990f65f9c385f63e5d592d3ddaebd94d1", "patch": "@@ -341,7 +341,9 @@ while (0)\n #define CPP_PREDEFINES \\\n   \"-DPPC -Dunix -D__svr4__ -Asystem(unix) -Asystem(svr4) -Acpu(powerpc) -Amachine(powerpc)\"\n \n+/* Don't put -Y P,<path> for cross compilers */\n #undef LINK_SPEC\n+#ifdef CROSS_COMPILE\n #define LINK_SPEC \"\\\n %{h*} %{V} %{v:%{!V:-V}} \\\n %{b} %{Wl,*:%*} \\\n@@ -350,12 +352,25 @@ while (0)\n %{symbolic:-Bsymbolic -G -dy -z text %{!h*:%{o*:-h %*}}} \\\n %{G:-G} \\\n %{YP,*} \\\n-%{!YP,*:%{p:-Y P,/usr/ccs/lib/libp:/usr/lib/libp:/usr/ccs/lib:/usr/lib} \\\n-%{!p:-Y P,/usr/ccs/lib:/usr/lib}} \\\n %{Qy:} %{!Qn:-Qy} \\\n %{mlittle: -oformat elf32-powerpcle } %{mlittle-endian: -oformat elf32-powerpcle } \\\n %{mbig: -oformat elf32-powerpc } %{mbig-endian: -oformat elf32-powerpc }\"\n \n+#define LINK_SPEC \"\\\n+%{h*} %{V} %{v:%{!V:-V}} \\\n+%{b} %{Wl,*:%*} \\\n+%{static:-dn -Bstatic} \\\n+%{shared:-G -dy -z text %{!h*:%{o*:-h %*}}} \\\n+%{symbolic:-Bsymbolic -G -dy -z text %{!h*:%{o*:-h %*}}} \\\n+%{G:-G} \\\n+%{YP,*} \\\n+%{!nostdlib: %{!YP,*:%{p:-Y P,/usr/ccs/lib/libp:/usr/lib/libp:/usr/ccs/lib:/usr/lib} \\\n+\t     %{!p:-Y P,/usr/ccs/lib:/usr/lib}}} \\\n+%{Qy:} %{!Qn:-Qy} \\\n+%{mlittle: -oformat elf32-powerpcle } %{mlittle-endian: -oformat elf32-powerpcle } \\\n+%{mbig: -oformat elf32-powerpc } %{mbig-endian: -oformat elf32-powerpc }\"\n+#endif /* CROSS_COMPILE */\n+\n #undef CPP_SPEC\n #define CPP_SPEC \"\\\n %{posix: -D_POSIX_SOURCE} \\"}]}