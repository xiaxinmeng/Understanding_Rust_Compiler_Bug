{"sha": "4ec4ca36f8b0265728e15504294c8c31d1b75ac4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGVjNGNhMzZmOGIwMjY1NzI4ZTE1NTA0Mjk0YzhjMzFkMWI3NWFjNA==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@nildram.co.uk", "date": "2007-10-18T17:20:19Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2007-10-18T17:20:19Z"}, "message": "mips.c (TARGET_MIN_ANCHOR_OFFSET): Delete.\n\ngcc/\n\t* config/mips/mips.c (TARGET_MIN_ANCHOR_OFFSET): Delete.\n\t(TARGET_MAX_ANCHOR_OFFSET): Delete.\n\t(mips_cannot_force_const_mem): Don't check TARGET_HAVE_TLS.\n\t(mips_set_mips16_mode): Initialize min_anchor_offset and\n\tmax_anchor_offset directly to constants.\n\nFrom-SVN: r129451", "tree": {"sha": "6080d14a4f0ac9bd185dee0d1403aebdc12bb722", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6080d14a4f0ac9bd185dee0d1403aebdc12bb722"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4ec4ca36f8b0265728e15504294c8c31d1b75ac4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ec4ca36f8b0265728e15504294c8c31d1b75ac4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4ec4ca36f8b0265728e15504294c8c31d1b75ac4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ec4ca36f8b0265728e15504294c8c31d1b75ac4/comments", "author": null, "committer": null, "parents": [{"sha": "d33289b2f487cf8a42450f6614eae4dece295844", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d33289b2f487cf8a42450f6614eae4dece295844", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d33289b2f487cf8a42450f6614eae4dece295844"}], "stats": {"total": 18, "additions": 11, "deletions": 7}, "files": [{"sha": "39901e468c917366927a3a157fbc3959862cf986", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4ec4ca36f8b0265728e15504294c8c31d1b75ac4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4ec4ca36f8b0265728e15504294c8c31d1b75ac4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4ec4ca36f8b0265728e15504294c8c31d1b75ac4", "patch": "@@ -1,3 +1,11 @@\n+2007-10-18  Richard Sandiford  <rsandifo@nildram.co.uk>\n+\n+\t* config/mips/mips.c (TARGET_MIN_ANCHOR_OFFSET): Delete.\n+\t(TARGET_MAX_ANCHOR_OFFSET): Delete.\n+\t(mips_cannot_force_const_mem): Don't check TARGET_HAVE_TLS.\n+\t(mips_set_mips16_mode): Initialize min_anchor_offset and\n+\tmax_anchor_offset directly to constants.\n+\n 2007-10-18  Richard Sandiford  <rsandifo@nildram.co.uk>\n \n \t* config/mips/mips.c: Delete trailing whitespace."}, {"sha": "c460cca267d51bb236f65d48267ae1073838159b", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 3, "deletions": 7, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4ec4ca36f8b0265728e15504294c8c31d1b75ac4/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4ec4ca36f8b0265728e15504294c8c31d1b75ac4/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=4ec4ca36f8b0265728e15504294c8c31d1b75ac4", "patch": "@@ -1370,10 +1370,6 @@ static const unsigned char mips16e_save_restore_regs[] = {\n #undef TARGET_EXTRA_LIVE_ON_ENTRY\n #define TARGET_EXTRA_LIVE_ON_ENTRY mips_extra_live_on_entry\n \n-#undef TARGET_MIN_ANCHOR_OFFSET\n-#define TARGET_MIN_ANCHOR_OFFSET -32768\n-#undef TARGET_MAX_ANCHOR_OFFSET\n-#define TARGET_MAX_ANCHOR_OFFSET 32767\n #undef TARGET_USE_BLOCKS_FOR_CONSTANT_P\n #define TARGET_USE_BLOCKS_FOR_CONSTANT_P mips_use_blocks_for_constant_p\n #undef TARGET_USE_ANCHORS_FOR_SYMBOL_P\n@@ -1865,7 +1861,7 @@ mips_cannot_force_const_mem (rtx x)\n \treturn true;\n     }\n \n-  if (TARGET_HAVE_TLS && for_each_rtx (&x, &mips_tls_symbol_ref_1, 0))\n+  if (for_each_rtx (&x, &mips_tls_symbol_ref_1, 0))\n     return true;\n \n   return false;\n@@ -5715,8 +5711,8 @@ mips_set_mips16_mode (int mips16_p)\n \t    align_functions = 8;\n \t}\n \n-      targetm.min_anchor_offset = TARGET_MIN_ANCHOR_OFFSET;\n-      targetm.max_anchor_offset = TARGET_MAX_ANCHOR_OFFSET;\n+      targetm.min_anchor_offset = -32768;\n+      targetm.max_anchor_offset = 32767;\n     }\n \n   /* (Re)initialize mips target internals for new ISA.  */"}]}