{"sha": "0f3744f8c2816d6f681b7b93784c634e1f8f34c2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGYzNzQ0ZjhjMjgxNmQ2ZjY4MWI3YjkzNzg0YzYzNGUxZjhmMzRjMg==", "commit": {"author": {"name": "Volker Reichelt", "email": "reichelt@igpm.rwth-aachen.de", "date": "2005-03-22T14:44:10Z"}, "committer": {"name": "Volker Reichelt", "email": "reichelt@gcc.gnu.org", "date": "2005-03-22T14:44:10Z"}, "message": "re PR c++/20499 (ICE on duplicate class definition)\n\n\tPR c++/20499\n\t* parser.c (cp_parser_class_head): Return NULL_TREE when\n\tencountering a redefinition.\n\n\t* g++.dg/parse/error16.C: Tweak error markers.\n\nFrom-SVN: r96870", "tree": {"sha": "a50341df48b44bde39d1b745df0eecf43c77b358", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a50341df48b44bde39d1b745df0eecf43c77b358"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0f3744f8c2816d6f681b7b93784c634e1f8f34c2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f3744f8c2816d6f681b7b93784c634e1f8f34c2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f3744f8c2816d6f681b7b93784c634e1f8f34c2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f3744f8c2816d6f681b7b93784c634e1f8f34c2/comments", "author": null, "committer": null, "parents": [{"sha": "b2a6a2fb642ff3deaf4ac102ebca75e96ed9d1e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2a6a2fb642ff3deaf4ac102ebca75e96ed9d1e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b2a6a2fb642ff3deaf4ac102ebca75e96ed9d1e9"}], "stats": {"total": 18, "additions": 15, "deletions": 3}, "files": [{"sha": "bb0c547eeb8a21e268a8fff29f010290a667057f", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f3744f8c2816d6f681b7b93784c634e1f8f34c2/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f3744f8c2816d6f681b7b93784c634e1f8f34c2/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=0f3744f8c2816d6f681b7b93784c634e1f8f34c2", "patch": "@@ -1,3 +1,9 @@\n+2005-03-22  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n+\n+\tPR c++/20499\n+\t* parser.c (cp_parser_class_head): Return NULL_TREE when\n+\tencountering a redefinition.\n+\n 2005-03-22  Nathan Sidwell  <nathan@codesourcery.com>\n \n \tPR c++/20465"}, {"sha": "a6145406de9800261e6788c7633777e37fa024ea", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f3744f8c2816d6f681b7b93784c634e1f8f34c2/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f3744f8c2816d6f681b7b93784c634e1f8f34c2/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=0f3744f8c2816d6f681b7b93784c634e1f8f34c2", "patch": "@@ -12858,7 +12858,8 @@ cp_parser_class_head (cp_parser* parser,\n     {\n       error (\"redefinition of %q#T\", type);\n       cp_error_at (\"previous definition of %q#T\", type);\n-      type = error_mark_node;\n+      type = NULL_TREE;\n+      goto done;\n     }\n \n   /* We will have entered the scope containing the class; the names of"}, {"sha": "3909d568423f4aae95e1b2e17f21f11ea55fdfa4", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f3744f8c2816d6f681b7b93784c634e1f8f34c2/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f3744f8c2816d6f681b7b93784c634e1f8f34c2/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=0f3744f8c2816d6f681b7b93784c634e1f8f34c2", "patch": "@@ -1,3 +1,8 @@\n+2005-03-22  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n+\n+\tPR c++/20499\n+\t* g++.dg/parse/error16.C: Tweak error markers.\n+\n 2005-03-22  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/20561"}, {"sha": "3dc58ad53c0684918439d1bc1e381a1392e82f1c", "filename": "gcc/testsuite/g++.dg/parse/error16.C", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f3744f8c2816d6f681b7b93784c634e1f8f34c2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ferror16.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f3744f8c2816d6f681b7b93784c634e1f8f34c2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ferror16.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ferror16.C?ref=0f3744f8c2816d6f681b7b93784c634e1f8f34c2", "patch": "@@ -2,7 +2,7 @@\n \n struct A\n {\n-  struct B {}; // { dg-error \"\" }\n+  struct B {}; // { dg-error \"previous\" }\n };\n \n-struct A::B{}; // { dg-error \"\" }\n+struct A::B{}; // { dg-error \"redefinition\" }"}]}