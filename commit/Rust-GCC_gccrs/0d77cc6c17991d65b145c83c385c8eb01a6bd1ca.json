{"sha": "0d77cc6c17991d65b145c83c385c8eb01a6bd1ca", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGQ3N2NjNmMxNzk5MWQ2NWIxNDVjODNjMzg1YzhlYjAxYTZiZDFjYQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2008-09-02T18:09:05Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2008-09-02T18:09:05Z"}, "message": "* expmed.c (expand_divmod): Fix test of smod_pow2_cheap and sdiv_pow2_cheap\n\nFrom-SVN: r139897", "tree": {"sha": "59ae7d748a2da9eba7d6d6a194886487e269cfd6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/59ae7d748a2da9eba7d6d6a194886487e269cfd6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0d77cc6c17991d65b145c83c385c8eb01a6bd1ca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d77cc6c17991d65b145c83c385c8eb01a6bd1ca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0d77cc6c17991d65b145c83c385c8eb01a6bd1ca", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d77cc6c17991d65b145c83c385c8eb01a6bd1ca/comments", "author": null, "committer": null, "parents": [{"sha": "e0978eba9fbb6b124f8f3b5eeb2f16ccff0ca7cf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0978eba9fbb6b124f8f3b5eeb2f16ccff0ca7cf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e0978eba9fbb6b124f8f3b5eeb2f16ccff0ca7cf"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "0feb0a20f74453779848f04b9c139973e290ad3e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d77cc6c17991d65b145c83c385c8eb01a6bd1ca/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d77cc6c17991d65b145c83c385c8eb01a6bd1ca/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0d77cc6c17991d65b145c83c385c8eb01a6bd1ca", "patch": "@@ -1,3 +1,7 @@\n+2008-09-02  Jan Hubicka  <jh@suse.cz>\n+\n+\t* expmed.c (expand_divmod): Fix test of smod_pow2_cheap and sdiv_pow2_cheap\n+\n 2008-09-02  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* expr.c (emit_group_store): Don't assert stack temp mode size."}, {"sha": "0daf7fa31f085e1e0117bbb3e1850c93e9f88e1f", "filename": "gcc/expmed.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d77cc6c17991d65b145c83c385c8eb01a6bd1ca/gcc%2Fexpmed.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d77cc6c17991d65b145c83c385c8eb01a6bd1ca/gcc%2Fexpmed.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpmed.c?ref=0d77cc6c17991d65b145c83c385c8eb01a6bd1ca", "patch": "@@ -4086,8 +4086,8 @@ expand_divmod (int rem_flag, enum tree_code code, enum machine_mode mode,\n \t\t      goto fail1;\n \t\t  }\n \t\telse if (EXACT_POWER_OF_2_OR_ZERO_P (d)\n-\t\t\t && (rem_flag ? smod_pow2_cheap[compute_mode]\n-\t\t\t\t      : sdiv_pow2_cheap[compute_mode])\n+\t\t\t && (rem_flag ? smod_pow2_cheap[speed][compute_mode]\n+\t\t\t\t      : sdiv_pow2_cheap[speed][compute_mode])\n \t\t\t /* We assume that cheap metric is true if the\n \t\t\t    optab has an expander for this mode.  */\n \t\t\t && ((optab_handler ((rem_flag ? smod_optab\n@@ -4107,7 +4107,7 @@ expand_divmod (int rem_flag, enum tree_code code, enum machine_mode mode,\n \t\t\t  return gen_lowpart (mode, remainder);\n \t\t      }\n \n-\t\t    if (sdiv_pow2_cheap[compute_mode]\n+\t\t    if (sdiv_pow2_cheap[speed][compute_mode]\n \t\t\t&& ((optab_handler (sdiv_optab, compute_mode)->insn_code\n \t\t\t     != CODE_FOR_nothing)\n \t\t\t    || (optab_handler (sdivmod_optab, compute_mode)->insn_code"}]}