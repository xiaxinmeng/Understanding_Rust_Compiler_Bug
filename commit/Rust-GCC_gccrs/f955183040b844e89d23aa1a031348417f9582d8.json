{"sha": "f955183040b844e89d23aa1a031348417f9582d8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Zjk1NTE4MzA0MGI4NDRlODlkMjNhYTFhMDMxMzQ4NDE3Zjk1ODJkOA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@google.com", "date": "2009-06-16T20:20:21Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2009-06-16T20:20:21Z"}, "message": "* c-decl.c (grokdeclarator): Change size_varies to bool.\n\nFrom-SVN: r148550", "tree": {"sha": "ffe8ea7f3f22b9d1271b21d5772f112e48872009", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ffe8ea7f3f22b9d1271b21d5772f112e48872009"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f955183040b844e89d23aa1a031348417f9582d8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f955183040b844e89d23aa1a031348417f9582d8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f955183040b844e89d23aa1a031348417f9582d8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f955183040b844e89d23aa1a031348417f9582d8/comments", "author": null, "committer": null, "parents": [{"sha": "c32e217521694597c3e365052b29db5ffab62e8f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c32e217521694597c3e365052b29db5ffab62e8f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c32e217521694597c3e365052b29db5ffab62e8f"}], "stats": {"total": 24, "additions": 14, "deletions": 10}, "files": [{"sha": "01226001828df643333434e082f52259890ccc39", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f955183040b844e89d23aa1a031348417f9582d8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f955183040b844e89d23aa1a031348417f9582d8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f955183040b844e89d23aa1a031348417f9582d8", "patch": "@@ -1,3 +1,7 @@\n+2009-06-16  Ian Lance Taylor  <iant@google.com>\n+\n+\t* c-decl.c (grokdeclarator): Change size_varies to bool.\n+\n 2009-06-16  Ian Lance Taylor  <iant@google.com>\n \n \t* sel-sched.c: Make forward declarations of move_op_hooks and"}, {"sha": "4e48bac7f548421ef42611d051460eb36a76c56d", "filename": "gcc/c-decl.c", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f955183040b844e89d23aa1a031348417f9582d8/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f955183040b844e89d23aa1a031348417f9582d8/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=f955183040b844e89d23aa1a031348417f9582d8", "patch": "@@ -4713,7 +4713,7 @@ grokdeclarator (const struct c_declarator *declarator,\n   tree name = NULL_TREE;\n   bool funcdef_flag = false;\n   bool funcdef_syntax = false;\n-  int size_varies = 0;\n+  bool size_varies = false;\n   tree decl_attr = declspecs->decl_attr;\n   int array_ptr_quals = TYPE_UNQUALIFIED;\n   tree array_ptr_attrs = NULL_TREE;\n@@ -4807,7 +4807,7 @@ grokdeclarator (const struct c_declarator *declarator,\n       type = integer_type_node;\n     }\n \n-  size_varies = C_TYPE_VARIABLE_SIZE (type);\n+  size_varies = C_TYPE_VARIABLE_SIZE (type) != 0;\n \n   /* Diagnose defaulting to \"int\".  */\n \n@@ -5140,7 +5140,7 @@ grokdeclarator (const struct c_declarator *declarator,\n \t\t\t\t   \"variably modified %qE at file scope\",\n \t\t\t\t   name);\n \t\t\telse\n-\t\t\t  this_size_varies = size_varies = 1;\n+\t\t\t  this_size_varies = size_varies = true;\n \t\t\twarn_variable_length_array (name, size);\n \t\t      }\n \t\t  }\n@@ -5155,7 +5155,7 @@ grokdeclarator (const struct c_declarator *declarator,\n \t\t    /* Make sure the array size remains visibly\n \t\t       nonconstant even if it is (eg) a const variable\n \t\t       with known value.  */\n-\t\t    this_size_varies = size_varies = 1;\n+\t\t    this_size_varies = size_varies = true;\n \t\t    warn_variable_length_array (name, size);\n \t\t  }\n \n@@ -5227,7 +5227,7 @@ grokdeclarator (const struct c_declarator *declarator,\n \t\t     the field variably modified, not through being\n \t\t     something other than a declaration with function\n \t\t     prototype scope.  */\n-\t\t  size_varies = 1;\n+\t\t  size_varies = true;\n \t\telse\n \t\t  {\n \t\t    const struct c_declarator *t = declarator;\n@@ -5251,7 +5251,7 @@ grokdeclarator (const struct c_declarator *declarator,\n \t\tif (array_parm_vla_unspec_p)\n \t\t  {\n \t\t    itype = build_range_type (sizetype, size_zero_node, NULL_TREE);\n-\t\t    size_varies = 1;\n+\t\t    size_varies = true;\n \t\t  }\n \t      }\n \t    else if (decl_context == TYPENAME)\n@@ -5265,7 +5265,7 @@ grokdeclarator (const struct c_declarator *declarator,\n \t\t       otherwise be modified below.  */\n \t\t    itype = build_range_type (sizetype, size_zero_node,\n \t\t\t\t\t      NULL_TREE);\n-\t\t    size_varies = 1;\n+\t\t    size_varies = true;\n \t\t  }\n \t      }\n \n@@ -5349,7 +5349,7 @@ grokdeclarator (const struct c_declarator *declarator,\n \t    if (type == error_mark_node)\n \t      continue;\n \n-\t    size_varies = 0;\n+\t    size_varies = false;\n \n \t    /* Warn about some types functions can't return.  */\n \t    if (TREE_CODE (type) == FUNCTION_TYPE)\n@@ -5434,7 +5434,7 @@ grokdeclarator (const struct c_declarator *declarator,\n \t\t       \"ISO C forbids qualified function types\");\n \t    if (type_quals)\n \t      type = c_build_qualified_type (type, type_quals);\n-\t    size_varies = 0;\n+\t    size_varies = false;\n \n \t    /* When the pointed-to type involves components of variable size,\n \t       care must be taken to ensure that the size evaluation code is\n@@ -5620,7 +5620,7 @@ grokdeclarator (const struct c_declarator *declarator,\n \t      warning_at (loc, OPT_Wattributes,\n \t\t\t  \"attributes in parameter array declarator ignored\");\n \n-\t    size_varies = 0;\n+\t    size_varies = false;\n \t  }\n \telse if (TREE_CODE (type) == FUNCTION_TYPE)\n \t  {"}]}