{"sha": "b9e57365defa41307c888e8eabdff8099ab68887", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjllNTczNjVkZWZhNDEzMDdjODg4ZThlYWJkZmY4MDk5YWI2ODg4Nw==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2011-05-31T14:15:17Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2011-05-31T14:15:17Z"}, "message": "lto-symtab.c (lto_symtab_merge_cgraph_nodes): Merge alias decl of thunks.\n\n\n\t* lto-symtab.c (lto_symtab_merge_cgraph_nodes): Merge alias decl\n\tof thunks.\n\nFrom-SVN: r174482", "tree": {"sha": "fd069a429f6093d8222809c6eda3e12d2e21c6e6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fd069a429f6093d8222809c6eda3e12d2e21c6e6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b9e57365defa41307c888e8eabdff8099ab68887", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b9e57365defa41307c888e8eabdff8099ab68887", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b9e57365defa41307c888e8eabdff8099ab68887", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b9e57365defa41307c888e8eabdff8099ab68887/comments", "author": null, "committer": null, "parents": [{"sha": "e67e39c2b5d1cbd37d9d3cd8821794fe2d45b97b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e67e39c2b5d1cbd37d9d3cd8821794fe2d45b97b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e67e39c2b5d1cbd37d9d3cd8821794fe2d45b97b"}], "stats": {"total": 19, "additions": 14, "deletions": 5}, "files": [{"sha": "86a288a631d4b6469b74c4c842e502fb7ce913ce", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b9e57365defa41307c888e8eabdff8099ab68887/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b9e57365defa41307c888e8eabdff8099ab68887/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b9e57365defa41307c888e8eabdff8099ab68887", "patch": "@@ -1,3 +1,8 @@\n+2011-05-31  Jan Hubicka  <jh@suse.cz>\n+\n+\t* lto-symtab.c (lto_symtab_merge_cgraph_nodes): Merge alias decl\n+\tof thunks.\n+\n 2011-05-31  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR rtl-optimization/49235"}, {"sha": "af8106de94f2586457820c5059690103951d366f", "filename": "gcc/lto-symtab.c", "status": "modified", "additions": 9, "deletions": 5, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b9e57365defa41307c888e8eabdff8099ab68887/gcc%2Flto-symtab.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b9e57365defa41307c888e8eabdff8099ab68887/gcc%2Flto-symtab.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto-symtab.c?ref=b9e57365defa41307c888e8eabdff8099ab68887", "patch": "@@ -821,11 +821,15 @@ lto_symtab_merge_cgraph_nodes (void)\n   htab_traverse (lto_symtab_identifiers, lto_symtab_merge_cgraph_nodes_1, NULL);\n \n   for (node = cgraph_nodes; node; node = node->next)\n-    for (alias = node->same_body; alias; alias = next)\n-      {\n-\tnext = alias->next;\n-\talias->thunk.alias = lto_symtab_prevailing_decl (alias->thunk.alias);\n-      }\n+    {\n+      if (node->thunk.thunk_p)\n+        node->thunk.alias = lto_symtab_prevailing_decl (node->thunk.alias);\n+      for (alias = node->same_body; alias; alias = next)\n+\t{\n+\t  next = alias->next;\n+\t  alias->thunk.alias = lto_symtab_prevailing_decl (alias->thunk.alias);\n+\t}\n+    }\n }\n \n /* Given the decl DECL, return the prevailing decl with the same name. */"}]}