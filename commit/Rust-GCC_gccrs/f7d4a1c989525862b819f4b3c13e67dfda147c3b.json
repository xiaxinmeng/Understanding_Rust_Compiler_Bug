{"sha": "f7d4a1c989525862b819f4b3c13e67dfda147c3b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjdkNGExYzk4OTUyNTg2MmI4MTlmNGIzYzEzZTY3ZGZkYTE0N2MzYg==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-11-13T08:59:22Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-11-13T08:59:22Z"}, "message": "Use FATAL_EXIT_CODE rather than hardcoded 1 for fatal error.\n\n(main): Flush stdout and and check for errors prior to termination;\nend with call to exit rather than return from main, as with gen*.c.\n\nFrom-SVN: r6078", "tree": {"sha": "cbf7e004e8678ad50a6c7d08865944e1e1bdd66c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cbf7e004e8678ad50a6c7d08865944e1e1bdd66c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f7d4a1c989525862b819f4b3c13e67dfda147c3b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7d4a1c989525862b819f4b3c13e67dfda147c3b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f7d4a1c989525862b819f4b3c13e67dfda147c3b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7d4a1c989525862b819f4b3c13e67dfda147c3b/comments", "author": null, "committer": null, "parents": [{"sha": "e31f69f1a3ee92358425f26e69651e7e40a7baff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e31f69f1a3ee92358425f26e69651e7e40a7baff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e31f69f1a3ee92358425f26e69651e7e40a7baff"}], "stats": {"total": 17, "additions": 14, "deletions": 3}, "files": [{"sha": "0b728974497a51da8f6457831bd3470938a4737a", "filename": "gcc/bi-arity.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7d4a1c989525862b819f4b3c13e67dfda147c3b/gcc%2Fbi-arity.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7d4a1c989525862b819f4b3c13e67dfda147c3b/gcc%2Fbi-arity.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbi-arity.c?ref=f7d4a1c989525862b819f4b3c13e67dfda147c3b", "patch": "@@ -54,6 +54,10 @@ main ()\n \t  printf (\"0\");\n \tprintf (\"}},\\n\");\n       }\n+\n+  fflush (stdout);\n+  exit (ferror (stdout) != 0 ? FATAL_EXIT_CODE : SUCCESS_EXIT_CODE);\n+  /* NOTREACHED */\n   return 0;\n }\n \n@@ -68,7 +72,7 @@ xmalloc (nbytes)\n   if (!tmp)\n     {\n       fprintf (stderr, \"can't allocate %d bytes (out of virtual memory)\\n\", nbytes);\n-      exit (1);\n+      exit (FATAL_EXIT_CODE);\n     }\n \n   return tmp;"}, {"sha": "332084553233b1c4428197294b41d043b4549258", "filename": "gcc/bi-opcode.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7d4a1c989525862b819f4b3c13e67dfda147c3b/gcc%2Fbi-opcode.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7d4a1c989525862b819f4b3c13e67dfda147c3b/gcc%2Fbi-opcode.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbi-opcode.c?ref=f7d4a1c989525862b819f4b3c13e67dfda147c3b", "patch": "@@ -50,6 +50,9 @@ enum bytecode_opcode\\n{\");\n   else\n     fprintf (stderr, \"(Number of opcodes is %d)\\n\", i);\n \n+  fflush (stdout);\n+  exit (ferror (stdout) != 0 ? FATAL_EXIT_CODE : SUCCESS_EXIT_CODE);\n+  /* NOTREACHED */\n   return 0;\n }\n \n@@ -64,7 +67,7 @@ xmalloc (nbytes)\n   if (!tmp)\n     {\n       fprintf (stderr, \"can't allocate %d bytes (out of virtual memory)\\n\", nbytes);\n-      exit (1);\n+      exit (FATAL_EXIT_CODE);\n     }\n \n   return tmp;"}, {"sha": "02dfabcfd8bd6d2c65189d0ca0c51da78ec161eb", "filename": "gcc/bi-opname.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7d4a1c989525862b819f4b3c13e67dfda147c3b/gcc%2Fbi-opname.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7d4a1c989525862b819f4b3c13e67dfda147c3b/gcc%2Fbi-opname.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbi-opname.c?ref=f7d4a1c989525862b819f4b3c13e67dfda147c3b", "patch": "@@ -33,6 +33,10 @@ main()\n   for (d = defs; d; d = d->next)\n     for (v = d->variations; v; v = v->next)\n       printf(\"\\\"%s%s\\\",\\n\", d->basename, v->name);\n+\n+  fflush (stdout);\n+  exit (ferror (stdout) != 0 ? FATAL_EXIT_CODE : SUCCESS_EXIT_CODE);\n+  /* NOTREACHED */\n   return 0;\n }\n \n@@ -47,7 +51,7 @@ xmalloc (nbytes)\n   if (!tmp)\n     {\n       fprintf (stderr, \"can't allocate %d bytes (out of virtual memory)\\n\", nbytes);\n-      exit (1);\n+      exit (FATAL_EXIT_CODE);\n     }\n \n   return tmp;"}]}