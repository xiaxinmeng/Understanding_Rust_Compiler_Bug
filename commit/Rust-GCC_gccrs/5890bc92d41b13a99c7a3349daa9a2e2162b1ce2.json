{"sha": "5890bc92d41b13a99c7a3349daa9a2e2162b1ce2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTg5MGJjOTJkNDFiMTNhOTljN2EzMzQ5ZGFhOWEyZTIxNjJiMWNlMg==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-02-22T16:53:40Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-02-22T16:53:40Z"}, "message": "cplus-dem.c (gnu_special): Don't get confused by .<digits> strings that are not actually lengths.\n\n\t* cplus-dem.c (gnu_special): Don't get confused by .<digits>\n\tstrings that are not actually lengths.\n\t* config/mh-cygwin32: remove vasprintf.o from EXTRA_OFILES\n\tsince it gets built automatically\n\t* vasprintf.c (int_vasprintf): Increase buffer size for float/double\n\tvalues.\n\nFrom-SVN: r18171", "tree": {"sha": "9e6cc52ea62e2e8f7e22e2dd2c053cdc0084a8f3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9e6cc52ea62e2e8f7e22e2dd2c053cdc0084a8f3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5890bc92d41b13a99c7a3349daa9a2e2162b1ce2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5890bc92d41b13a99c7a3349daa9a2e2162b1ce2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5890bc92d41b13a99c7a3349daa9a2e2162b1ce2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5890bc92d41b13a99c7a3349daa9a2e2162b1ce2/comments", "author": null, "committer": null, "parents": [{"sha": "8b715b2abcb3991955cb800e07144f6d6b7c6595", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b715b2abcb3991955cb800e07144f6d6b7c6595", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8b715b2abcb3991955cb800e07144f6d6b7c6595"}], "stats": {"total": 41, "additions": 31, "deletions": 10}, "files": [{"sha": "1e529f840ba0dcf8571cc83d6d34355aa3020c84", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 16, "deletions": 8, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5890bc92d41b13a99c7a3349daa9a2e2162b1ce2/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5890bc92d41b13a99c7a3349daa9a2e2162b1ce2/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=5890bc92d41b13a99c7a3349daa9a2e2162b1ce2", "patch": "@@ -3,6 +3,16 @@ Thu Feb 12 16:29:49 1998  Ian Lance Taylor  <ian@cygnus.com>\n \t* getopt.c: Update to latest FSF version.\n \t* getopt1.c: Likewise.\n \n+Tue Feb 10 16:58:33 1998  Stan Shebs  <shebs@andros.cygnus.com>\n+\n+\t* cplus-dem.c (gnu_special): Don't get confused by .<digits>\n+\tstrings that are not actually lengths.\n+\n+Thu Feb  5 18:48:56 1998  Geoffrey Noer  <noer@cygnus.com>\n+\n+        * config/mh-cygwin32: remove vasprintf.o from EXTRA_OFILES\n+        since it gets built automatically\n+\n Fri Feb  6 01:35:17 1998  Manfred Hollstein  <manfred@s-direktnet.de>\n \n \t* Makefile.in (FLAGS_TO_PASS): Don't pass PICFLAG.\n@@ -14,6 +24,11 @@ Sun Feb  1 02:52:32 1998  Mike Stump  <mrs@wrs.com>\n \t* config.table (vxworks configs): Default to VxWorks 5.x, as that is\n \tthe currently shipping OS.\n \n+Sun Jan 18 15:57:28 1998  Michael Snyder  <msnyder@cleaver.cygnus.com>\n+\n+\t* vasprintf.c (int_vasprintf): Increase buffer size for float/double\n+\tvalues.\n+\n Sat Jan 17 22:32:38 1998  Mumit Khan  <khan@xraylith.wisc.edu>\n                           J.J. VanderHeijden <J.J.vanderHeijden@student.utwente.nl>\n \n@@ -39,7 +54,7 @@ Thu Dec  4 17:25:19 1997  Jeffrey A Law  (law@cygnus.com)\n Wed Nov 19 13:37:06 1997  Michael Meissner  <meissner@cygnus.com>\n \n \t* alloca-norm.h (alloca, GCC case): Don't redefine alloca if it\n-\twas alr\teady defined previously.\n+\twas already defined previously.\n \n Mon Nov 10 12:48:03 1997  Philippe De Muyter  <phdm@macqel.be>\n \n@@ -87,13 +102,6 @@ Sun Sep 28 12:00:52 1997  Mark Mitchell  <mmitchell@usa.net>\n         (consume_count_with_underscores): New function.\n         (demangle_signature): Handle new name-mangling scheme.\n \n-Sun Sep 28 12:00:52 1997  Mark Mitchell  <mmitchell@usa.net>\n-\n-        * cplus-dem.c (demangle_template): Add new parameter.  Handle new\n-        template-function mangling.\n-        (consume_count_with_underscores): New function.\n-        (demangle_signature): Handle new name-mangling scheme.\n-\n Wed Sep 24 00:31:59 1997  Felix Lee  <flee@yin.cygnus.com>\n \n \t* asprintf.c: stdarg.h when ALMOST_STDC"}, {"sha": "ee84d03ff33a1ea6eada6fa455a237bff2bf593c", "filename": "libiberty/config/mh-aix", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5890bc92d41b13a99c7a3349daa9a2e2162b1ce2/libiberty%2Fconfig%2Fmh-aix", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5890bc92d41b13a99c7a3349daa9a2e2162b1ce2/libiberty%2Fconfig%2Fmh-aix", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfig%2Fmh-aix?ref=5890bc92d41b13a99c7a3349daa9a2e2162b1ce2", "patch": "@@ -1,3 +1,4 @@\n+# This file is only needed by AIX 3.1.\n HDEFINES = -D__IEEE_BIG_ENDIAN\n RANLIB=true\n INSTALL=cp"}, {"sha": "42b1afb64c03d599bea68085f7a2709ae4a5303e", "filename": "libiberty/config/mh-cygwin32", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5890bc92d41b13a99c7a3349daa9a2e2162b1ce2/libiberty%2Fconfig%2Fmh-cygwin32", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5890bc92d41b13a99c7a3349daa9a2e2162b1ce2/libiberty%2Fconfig%2Fmh-cygwin32", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfig%2Fmh-cygwin32?ref=5890bc92d41b13a99c7a3349daa9a2e2162b1ce2", "patch": "@@ -1,2 +1,2 @@\n HDEFINES=-DNEED_sys_siglist -DNEED_basename -DNEED_strsignal\n-EXTRA_OFILES=vasprintf.o random.o\n+EXTRA_OFILES=random.o"}, {"sha": "f4d71238c4000ef18b7e8b1cdca59a66d896559b", "filename": "libiberty/cplus-dem.c", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5890bc92d41b13a99c7a3349daa9a2e2162b1ce2/libiberty%2Fcplus-dem.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5890bc92d41b13a99c7a3349daa9a2e2162b1ce2/libiberty%2Fcplus-dem.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fcplus-dem.c?ref=5890bc92d41b13a99c7a3349daa9a2e2162b1ce2", "patch": "@@ -1692,6 +1692,15 @@ gnu_special (work, mangled, declp)\n \t      if (isdigit(*mangled[0]))\n \t\t{\n \t\t  n = consume_count(mangled);\n+\t\t  /* We may be seeing a too-large size, or else a\n+\t\t     \".<digits>\" indicating a static local symbol.  In\n+\t\t     any case, declare victory and move on; *don't* try\n+\t\t     to use n to allocate.  */\n+\t\t  if (n >= strlen (*mangled))\n+\t\t    {\n+\t\t      success = 1;\n+\t\t      break;\n+\t\t    }\n \t\t}\n \t      else\n \t\t{"}, {"sha": "da83db2ea7505e24be0b1e9f5c90b07cd6decd22", "filename": "libiberty/vasprintf.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5890bc92d41b13a99c7a3349daa9a2e2162b1ce2/libiberty%2Fvasprintf.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5890bc92d41b13a99c7a3349daa9a2e2162b1ce2/libiberty%2Fvasprintf.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fvasprintf.c?ref=5890bc92d41b13a99c7a3349daa9a2e2162b1ce2", "patch": "@@ -74,7 +74,7 @@ int_vasprintf (result, format, args)\n \t    }\n \t  while (strchr (\"hlL\", *p))\n \t    ++p;\n-\t  /* Should be big enough for any format specifier except %s.  */\n+\t  /* Should be big enough for any format specifier except %s and floats.  */\n \t  total_width += 30;\n \t  switch (*p)\n \t    {\n@@ -93,6 +93,9 @@ int_vasprintf (result, format, args)\n \t    case 'g':\n \t    case 'G':\n \t      (void) va_arg (ap, double);\n+\t      /* Since an ieee double can have an exponent of 307, we'll\n+\t\t make the buffer wide enough to cover the gross case. */\n+\t      total_width += 307;\n \t      break;\n \t    case 's':\n \t      total_width += strlen (va_arg (ap, char *));"}]}