{"sha": "0a4b630925bcd889e6ff29b89423d11ecd8bdab5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGE0YjYzMDkyNWJjZDg4OWU2ZmYyOWI4OTQyM2QxMWVjZDhiZGFiNQ==", "commit": {"author": {"name": "Robert Lipe", "email": "robertl@gcc.gnu.org", "date": "1998-09-30T21:05:19Z"}, "committer": {"name": "Robert Lipe", "email": "robertl@gcc.gnu.org", "date": "1998-09-30T21:05:19Z"}, "message": "Oh, my.\n\nOh, my.   That'll teach me to rebuild generated files on a 'trusted'\nhost like egcs.cygnus.com.\n\nFrom-SVN: r22705", "tree": {"sha": "cfe3d23f448d3a1d993ac41b4aa575b8ffebeebe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cfe3d23f448d3a1d993ac41b4aa575b8ffebeebe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0a4b630925bcd889e6ff29b89423d11ecd8bdab5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0a4b630925bcd889e6ff29b89423d11ecd8bdab5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0a4b630925bcd889e6ff29b89423d11ecd8bdab5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0a4b630925bcd889e6ff29b89423d11ecd8bdab5/comments", "author": null, "committer": null, "parents": [{"sha": "112674fae0d7af09b38adda3e76e8d7cdd265b79", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/112674fae0d7af09b38adda3e76e8d7cdd265b79", "html_url": "https://github.com/Rust-GCC/gccrs/commit/112674fae0d7af09b38adda3e76e8d7cdd265b79"}], "stats": {"total": 587, "additions": 534, "deletions": 53}, "files": [{"sha": "492edaa1791a7c1adb1e5aa5ed72f19cfe7d7fa0", "filename": "gcc/configure", "status": "modified", "additions": 534, "deletions": 53, "changes": 587, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0a4b630925bcd889e6ff29b89423d11ecd8bdab5/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0a4b630925bcd889e6ff29b89423d11ecd8bdab5/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=0a4b630925bcd889e6ff29b89423d11ecd8bdab5", "patch": "@@ -1320,13 +1320,107 @@ fi\n \n fi\n \n-GCC_PROG_LN\n-GCC_PROG_LN_S\n-GCC_C_VOLATILE\n+echo $ac_n \"checking whether ln works\"\"... $ac_c\" 1>&6\n+echo \"configure:1325: checking whether ln works\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_prog_LN'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  rm -f conftestdata_t\n+echo >conftestdata_f\n+if ln conftestdata_f conftestdata_t 2>/dev/null\n+then\n+  gcc_cv_prog_LN=\"ln\"\n+else\n+  if ln -s conftestdata_f conftestdata_t 2>/dev/null\n+  then\n+    gcc_cv_prog_LN=\"ln -s\"\n+  else\n+    gcc_cv_prog_LN=cp\n+  fi\n+fi\n+rm -f conftestdata_f conftestdata_t\n+\n+fi\n+LN=\"$gcc_cv_prog_LN\"\n+if test \"$gcc_cv_prog_LN\" = \"ln\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+else\n+  if test \"$gcc_cv_prog_LN\" = \"ln -s\"; then\n+    echo \"$ac_t\"\"no, using ln -s\" 1>&6\n+  else\n+    echo \"$ac_t\"\"no, and neither does ln -s, so using cp\" 1>&6\n+  fi\n+fi\n+\n+echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n+echo \"configure:1357: checking whether ln -s works\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_prog_LN_S'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  rm -f conftestdata_t\n+echo >conftestdata_f\n+if ln -s conftestdata_f conftestdata_t 2>/dev/null\n+then\n+  gcc_cv_prog_LN_S=\"ln -s\"\n+else\n+  if ln conftestdata_f conftestdata_t 2>/dev/null\n+  then\n+    gcc_cv_prog_LN_S=ln\n+  else\n+    gcc_cv_prog_LN_S=cp\n+  fi\n+fi\n+rm -f conftestdata_f conftestdata_t\n+\n+fi\n+LN_S=\"$gcc_cv_prog_LN_S\"\n+if test \"$gcc_cv_prog_LN_S\" = \"ln -s\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+else\n+  if test \"$gcc_cv_prog_LN_S\" = \"ln\"; then\n+    echo \"$ac_t\"\"no, using ln\" 1>&6\n+  else\n+    echo \"$ac_t\"\"no, and neither does ln, so using cp\" 1>&6\n+  fi\n+fi\n+\n+echo $ac_n \"checking for volatile\"\"... $ac_c\" 1>&6\n+echo \"configure:1389: checking for volatile\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_c_volatile'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 1394 \"configure\"\n+#include \"confdefs.h\"\n+\n+int main() {\n+volatile int foo;\n+; return 0; }\n+EOF\n+if { (eval echo configure:1401: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  gcc_cv_c_volatile=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  gcc_cv_c_volatile=no\n+fi\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$gcc_cv_c_volatile\" 1>&6\n+if test $gcc_cv_c_volatile = yes ; then\n+  cat >> confdefs.h <<\\EOF\n+#define HAVE_VOLATILE 1\n+EOF\n+\n+fi\n+\n # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1330: checking for $ac_word\" >&5\n+echo \"configure:1424: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1357,7 +1451,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1361: checking for $ac_word\" >&5\n+echo \"configure:1455: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_YACC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1386,10 +1480,69 @@ test -n \"$YACC\" && break\n done\n test -n \"$YACC\" || YACC=\"yacc\"\n \n-EGCS_PROG_INSTALL\n+# Find a good install program.  We prefer a C program (faster),\n+# so one script is as good as another.  But avoid the broken or\n+# incompatible versions:\n+# SysV /etc/install, /usr/sbin/install\n+# SunOS /usr/etc/install\n+# IRIX /sbin/install\n+# AIX /bin/install\n+# AFS /usr/afsws/bin/install, which mishandles nonexistent args\n+# SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n+# ./install, which can be erroneously created by make from ./install.sh.\n+echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n+echo \"configure:1495: checking for a BSD compatible install\" >&5\n+if test -z \"$INSTALL\"; then\n+if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+    IFS=\"${IFS= \t}\"; ac_save_IFS=\"$IFS\"; IFS=\"${IFS}:\"\n+  for ac_dir in $PATH; do\n+    # Account for people who put trailing slashes in PATH elements.\n+    case \"$ac_dir/\" in\n+    /|./|.//|/etc/*|/usr/sbin/*|/usr/etc/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;\n+    *)\n+      # OSF1 and SCO ODT 3.0 have their own names for install.\n+      for ac_prog in ginstall scoinst install; do\n+        if test -f $ac_dir/$ac_prog; then\n+\t  if test $ac_prog = install &&\n+            grep dspmsg $ac_dir/$ac_prog >/dev/null 2>&1; then\n+\t    # AIX install.  It has an incompatible calling convention.\n+\t    # OSF/1 installbsd also uses dspmsg, but is usable.\n+\t    :\n+\t  else\n+\t    ac_cv_path_install=\"$ac_dir/$ac_prog -c\"\n+\t    break 2\n+\t  fi\n+\tfi\n+      done\n+      ;;\n+    esac\n+  done\n+  IFS=\"$ac_save_IFS\"\n+\n+fi\n+  if test \"${ac_cv_path_install+set}\" = set; then\n+    INSTALL=\"$ac_cv_path_install\"\n+  else\n+    # As a last resort, use the slow shell script.  We don't cache a\n+    # path for INSTALL within a source directory, because that will\n+    # break other packages using the cache if that directory is\n+    # removed, or if the path is relative.\n+    INSTALL=\"$ac_install_sh\"\n+  fi\n+fi\n+echo \"$ac_t\"\"$INSTALL\" 1>&6\n+\n+# Use test -z because SunOS4 sh mishandles braces in ${var-val}.\n+# It thinks the first close brace ends the variable substitution.\n+test -z \"$INSTALL_PROGRAM\" && INSTALL_PROGRAM='${INSTALL}'\n+\n+test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n+\n \n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:1393: checking how to run the C preprocessor\" >&5\n+echo \"configure:1546: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -1404,13 +1557,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 1408 \"configure\"\n+#line 1561 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1414: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1567: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   :\n@@ -1421,13 +1574,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 1425 \"configure\"\n+#line 1578 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1431: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1584: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   :\n@@ -1450,20 +1603,20 @@ fi\n echo \"$ac_t\"\"$CPP\" 1>&6\n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:1454: checking for ANSI C header files\" >&5\n+echo \"configure:1607: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1459 \"configure\"\n+#line 1612 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1467: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1620: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1480,7 +1633,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1484 \"configure\"\n+#line 1637 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -1498,7 +1651,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1502 \"configure\"\n+#line 1655 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -1519,7 +1672,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1523 \"configure\"\n+#line 1676 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -1530,7 +1683,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:1534: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1687: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -1554,12 +1707,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether time.h and sys/time.h may both be included\"\"... $ac_c\" 1>&6\n-echo \"configure:1558: checking whether time.h and sys/time.h may both be included\" >&5\n+echo \"configure:1711: checking whether time.h and sys/time.h may both be included\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_time'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1563 \"configure\"\n+#line 1716 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/time.h>\n@@ -1568,7 +1721,7 @@ int main() {\n struct tm *tp;\n ; return 0; }\n EOF\n-if { (eval echo configure:1572: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1725: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_header_time=yes\n else\n@@ -1588,22 +1741,55 @@ EOF\n \n fi\n \n-GCC_HEADER_STRING\n+echo $ac_n \"checking whether string.h and strings.h may both be included\"\"... $ac_c\" 1>&6\n+echo \"configure:1746: checking whether string.h and strings.h may both be included\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_header_string'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 1751 \"configure\"\n+#include \"confdefs.h\"\n+#include <string.h>\n+#include <strings.h>\n+int main() {\n+\n+; return 0; }\n+EOF\n+if { (eval echo configure:1759: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  gcc_cv_header_string=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  gcc_cv_header_string=no\n+fi\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$gcc_cv_header_string\" 1>&6\n+if test $gcc_cv_header_string = yes; then\n+  cat >> confdefs.h <<\\EOF\n+#define STRING_WITH_STRINGS 1\n+EOF\n+\n+fi\n+\n for ac_hdr in limits.h stddef.h string.h strings.h stdlib.h time.h fcntl.h unistd.h stab.h sys/file.h sys/time.h sys/resource.h sys/param.h sys/times.h wait.h sys/wait.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:1597: checking for $ac_hdr\" >&5\n+echo \"configure:1783: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1602 \"configure\"\n+#line 1788 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1607: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1793: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1633,17 +1819,17 @@ done\n # Check for thread headers.\n ac_safe=`echo \"thread.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for thread.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1637: checking for thread.h\" >&5\n+echo \"configure:1823: checking for thread.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1642 \"configure\"\n+#line 1828 \"configure\"\n #include \"confdefs.h\"\n #include <thread.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1647: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1833: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1667,17 +1853,17 @@ fi\n \n ac_safe=`echo \"pthread.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for pthread.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1671: checking for pthread.h\" >&5\n+echo \"configure:1857: checking for pthread.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1676 \"configure\"\n+#line 1862 \"configure\"\n #include \"confdefs.h\"\n #include <pthread.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1681: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1867: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1704,7 +1890,7 @@ fi\n # Extract the first word of \"gnatbind\", so it can be a program name with args.\n set dummy gnatbind; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1708: checking for $ac_word\" >&5\n+echo \"configure:1894: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gnat'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1734,20 +1920,20 @@ fi\n # See if the system preprocessor understands the ANSI C preprocessor\n # stringification operator.\n echo $ac_n \"checking whether cpp understands the stringify operator\"\"... $ac_c\" 1>&6\n-echo \"configure:1738: checking whether cpp understands the stringify operator\" >&5\n+echo \"configure:1924: checking whether cpp understands the stringify operator\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_c_have_stringify'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1743 \"configure\"\n+#line 1929 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n #define S(x)   #x\n char *test = S(foo);\n ; return 0; }\n EOF\n-if { (eval echo configure:1751: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1937: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_c_have_stringify=yes\n else\n@@ -1770,20 +1956,20 @@ fi\n # Use <inttypes.h> only if it exists,\n # doesn't clash with <sys/types.h>, and declares intmax_t.\n echo $ac_n \"checking for inttypes.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1774: checking for inttypes.h\" >&5\n+echo \"configure:1960: checking for inttypes.h\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_header_inttypes_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1779 \"configure\"\n+#line 1965 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <inttypes.h>\n int main() {\n intmax_t i = -1;\n ; return 0; }\n EOF\n-if { (eval echo configure:1787: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1973: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<EOF\n #define HAVE_INTTYPES_H 1\n@@ -1806,12 +1992,12 @@ for ac_func in strtoul bsearch strerror putenv popen bcopy bzero bcmp \\\n \tsysconf isascii gettimeofday strsignal\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1810: checking for $ac_func\" >&5\n+echo \"configure:1996: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1815 \"configure\"\n+#line 2001 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1834,7 +2020,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1838: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2024: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1862,27 +2048,315 @@ done\n # Make sure wchar_t is available\n #AC_CHECK_TYPE(wchar_t, unsigned int)\n \n-GCC_FUNC_VFPRINTF_DOPRNT\n-GCC_FUNC_PRINTF_PTR\n+echo $ac_n \"checking for vprintf\"\"... $ac_c\" 1>&6\n+echo \"configure:2053: checking for vprintf\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_func_vprintf'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 2058 \"configure\"\n+#include \"confdefs.h\"\n+/* System header to define __stub macros and hopefully few prototypes,\n+    which can conflict with char vprintf(); below.  */\n+#include <assert.h>\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+/* We use char because int might match the return type of a gcc2\n+    builtin and then its argument prototype would still apply.  */\n+char vprintf();\n+\n+int main() {\n+\n+/* The GNU C library defines this for functions which it implements\n+    to always fail with ENOSYS.  Some functions are actually named\n+    something starting with __ and the normal name is an alias.  */\n+#if defined (__stub_vprintf) || defined (__stub___vprintf)\n+choke me\n+#else\n+vprintf();\n+#endif\n+\n+; return 0; }\n+EOF\n+if { (eval echo configure:2081: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+  rm -rf conftest*\n+  eval \"ac_cv_func_vprintf=yes\"\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  eval \"ac_cv_func_vprintf=no\"\n+fi\n+rm -f conftest*\n+fi\n+\n+if eval \"test \\\"`echo '$ac_cv_func_'vprintf`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+  cat >> confdefs.h <<\\EOF\n+#define HAVE_VPRINTF 1\n+EOF\n+\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n \n-GCC_NEED_DECLARATIONS(malloc realloc calloc free bcopy bzero bcmp \\\n+if test \"$ac_cv_func_vprintf\" != yes; then\n+echo $ac_n \"checking for _doprnt\"\"... $ac_c\" 1>&6\n+echo \"configure:2105: checking for _doprnt\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_func__doprnt'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 2110 \"configure\"\n+#include \"confdefs.h\"\n+/* System header to define __stub macros and hopefully few prototypes,\n+    which can conflict with char _doprnt(); below.  */\n+#include <assert.h>\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+/* We use char because int might match the return type of a gcc2\n+    builtin and then its argument prototype would still apply.  */\n+char _doprnt();\n+\n+int main() {\n+\n+/* The GNU C library defines this for functions which it implements\n+    to always fail with ENOSYS.  Some functions are actually named\n+    something starting with __ and the normal name is an alias.  */\n+#if defined (__stub__doprnt) || defined (__stub____doprnt)\n+choke me\n+#else\n+_doprnt();\n+#endif\n+\n+; return 0; }\n+EOF\n+if { (eval echo configure:2133: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+  rm -rf conftest*\n+  eval \"ac_cv_func__doprnt=yes\"\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  eval \"ac_cv_func__doprnt=no\"\n+fi\n+rm -f conftest*\n+fi\n+\n+if eval \"test \\\"`echo '$ac_cv_func_'_doprnt`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+  cat >> confdefs.h <<\\EOF\n+#define HAVE_DOPRNT 1\n+EOF\n+\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+fi\n+\n+vfprintf=\n+doprint=\n+if test $ac_cv_func_vprintf != yes ; then\n+  vfprintf=vfprintf.o\n+  if test $ac_cv_func__doprnt != yes ; then\n+    doprint=doprint.o\n+  fi\n+fi\n+\n+\n+\n+echo $ac_n \"checking whether the printf functions support %p\"\"... $ac_c\" 1>&6\n+echo \"configure:2169: checking whether the printf functions support %p\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_func_printf_ptr'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test \"$cross_compiling\" = yes; then\n+  gcc_cv_func_printf_ptr=no\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 2177 \"configure\"\n+#include \"confdefs.h\"\n+#include <stdio.h>\n+\n+main()\n+{\n+  char buf[64];\n+  char *p = buf, *q = NULL;\n+  sprintf(buf, \"%p\", p);\n+  sscanf(buf, \"%p\", &q);\n+  exit (p != q);\n+}\n+EOF\n+if { (eval echo configure:2190: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n+then\n+  gcc_cv_func_printf_ptr=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -fr conftest*\n+  gcc_cv_func_printf_ptr=no\n+fi\n+rm -fr conftest*\n+fi\n+\n+rm -f core core.* *.core\n+fi\n+\n+echo \"$ac_t\"\"$gcc_cv_func_printf_ptr\" 1>&6\n+if test $gcc_cv_func_printf_ptr = yes ; then\n+  cat >> confdefs.h <<\\EOF\n+#define HAVE_PRINTF_PTR 1\n+EOF\n+\n+fi\n+\n+\n+for ac_func in malloc realloc calloc free bcopy bzero bcmp \\\n \tindex rindex getenv atol sbrk abort atof strerror getcwd getwd \\\n-\tstrsignal)\n+\tstrsignal\n+do\n+echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n+echo \"configure:2219: checking whether $ac_func must be declared\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 2224 \"configure\"\n+#include \"confdefs.h\"\n+\n+#include <stdio.h>\n+#ifdef STRING_WITH_STRINGS\n+# include <string.h>\n+# include <strings.h>\n+#else\n+# ifdef HAVE_STRING_H\n+#  include <string.h>\n+# else\n+#  ifdef HAVE_STRINGS_H\n+#   include <strings.h>\n+#  endif\n+# endif\n+#endif\n+#ifdef HAVE_STDLIB_H\n+#include <stdlib.h>\n+#endif\n+#ifdef HAVE_UNISTD_H\n+#include <unistd.h>\n+#endif\n+#ifndef HAVE_RINDEX\n+#define rindex strrchr\n+#endif\n+#ifndef HAVE_INDEX\n+#define index strchr\n+#endif\n+\n+int main() {\n+char *(*pfn) = (char *(*)) $ac_func\n+; return 0; }\n+EOF\n+if { (eval echo configure:2257: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  eval \"gcc_cv_decl_needed_$ac_func=no\"\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  eval \"gcc_cv_decl_needed_$ac_func=yes\"\n+fi\n+rm -f conftest*\n+fi\n+\n+if eval \"test \\\"`echo '$gcc_cv_decl_needed_'$ac_func`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+  gcc_tr_decl=NEED_DECLARATION_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n+  cat >> confdefs.h <<EOF\n+#define $gcc_tr_decl 1\n+EOF\n+\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+done\n+\n+\n+for ac_func in getrlimit setrlimit\n+do\n+echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n+echo \"configure:2286: checking whether $ac_func must be declared\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 2291 \"configure\"\n+#include \"confdefs.h\"\n \n-GCC_NEED_DECLARATIONS(getrlimit setrlimit, \n+#include <stdio.h>\n+#ifdef STRING_WITH_STRINGS\n+# include <string.h>\n+# include <strings.h>\n+#else\n+# ifdef HAVE_STRING_H\n+#  include <string.h>\n+# else\n+#  ifdef HAVE_STRINGS_H\n+#   include <strings.h>\n+#  endif\n+# endif\n+#endif\n+#ifdef HAVE_STDLIB_H\n+#include <stdlib.h>\n+#endif\n+#ifdef HAVE_UNISTD_H\n+#include <unistd.h>\n+#endif\n+#ifndef HAVE_RINDEX\n+#define rindex strrchr\n+#endif\n+#ifndef HAVE_INDEX\n+#define index strchr\n+#endif\n #include <sys/types.h>\n #ifdef HAVE_SYS_RESOURCE_H\n #include <sys/resource.h>\n #endif\n-)\n+\n+int main() {\n+char *(*pfn) = (char *(*)) $ac_func\n+; return 0; }\n+EOF\n+if { (eval echo configure:2328: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  eval \"gcc_cv_decl_needed_$ac_func=no\"\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  eval \"gcc_cv_decl_needed_$ac_func=yes\"\n+fi\n+rm -f conftest*\n+fi\n+\n+if eval \"test \\\"`echo '$gcc_cv_decl_needed_'$ac_func`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+  gcc_tr_decl=NEED_DECLARATION_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n+  cat >> confdefs.h <<EOF\n+#define $gcc_tr_decl 1\n+EOF\n+\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+done\n+\n \n echo $ac_n \"checking for sys_siglist declaration in signal.h or unistd.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1881: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n+echo \"configure:2355: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_decl_sys_siglist'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1886 \"configure\"\n+#line 2360 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <signal.h>\n@@ -1894,7 +2368,7 @@ int main() {\n char *msg = *(sys_siglist + 1);\n ; return 0; }\n EOF\n-if { (eval echo configure:1898: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2372: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_decl_sys_siglist=yes\n else\n@@ -5087,7 +5561,7 @@ fi\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:5091: checking assembler alignment features\" >&5\n+echo \"configure:5565: checking assembler alignment features\" >&5\n gcc_cv_as=\n gcc_cv_as_alignment_features=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n@@ -5158,7 +5632,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:5162: checking assembler subsection support\" >&5\n+echo \"configure:5636: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .subsection\n@@ -5394,7 +5868,7 @@ fi\n \n # Warn if using init_priority.\n echo $ac_n \"checking whether to enable init_priority by default\"\"... $ac_c\" 1>&6\n-echo \"configure:5398: checking whether to enable init_priority by default\" >&5\n+echo \"configure:5872: checking whether to enable init_priority by default\" >&5\n if test x$enable_init_priority != xyes; then\n   enable_init_priority=no\n fi\n@@ -5652,10 +6126,17 @@ s%@SET_MAKE@%$SET_MAKE%g\n s%@AWK@%$AWK%g\n s%@LEX@%$LEX%g\n s%@LEXLIB@%$LEXLIB%g\n+s%@LN@%$LN%g\n+s%@LN_S@%$LN_S%g\n s%@RANLIB@%$RANLIB%g\n s%@YACC@%$YACC%g\n+s%@INSTALL@%$INSTALL%g\n+s%@INSTALL_PROGRAM@%$INSTALL_PROGRAM%g\n+s%@INSTALL_DATA@%$INSTALL_DATA%g\n s%@CPP@%$CPP%g\n s%@gnat@%$gnat%g\n+s%@vfprintf@%$vfprintf%g\n+s%@doprint@%$doprint%g\n s%@manext@%$manext%g\n s%@objext@%$objext%g\n s%@gthread_flags@%$gthread_flags%g"}]}