{"sha": "b15a9f630075b2564ff5e15a19c2ad094ef19080", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjE1YTlmNjMwMDc1YjI1NjRmZjVlMTVhMTljMmFkMDk0ZWYxOTA4MA==", "commit": {"author": {"name": "Ralf Wildenhues", "email": "Ralf.Wildenhues@gmx.de", "date": "2008-06-14T09:53:00Z"}, "committer": {"name": "Ralf Wildenhues", "email": "rwild@gcc.gnu.org", "date": "2008-06-14T09:53:00Z"}, "message": "configure.ac: Update gthr-default.h lazily, to avoid unneeded library rebuilds.\n\ngcc/\n\t* configure.ac: Update gthr-default.h lazily, to avoid unneeded\n\tlibrary rebuilds.\n\t* configure: Regenerate.\n\nFrom-SVN: r136780", "tree": {"sha": "14c8ddb856f2a728799d5265afa3af9c610bc9e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/14c8ddb856f2a728799d5265afa3af9c610bc9e7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b15a9f630075b2564ff5e15a19c2ad094ef19080", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b15a9f630075b2564ff5e15a19c2ad094ef19080", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b15a9f630075b2564ff5e15a19c2ad094ef19080", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b15a9f630075b2564ff5e15a19c2ad094ef19080/comments", "author": null, "committer": null, "parents": [{"sha": "a6d9bc9dda3c7e4fe4475016fff3a9c45bc97c54", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6d9bc9dda3c7e4fe4475016fff3a9c45bc97c54", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a6d9bc9dda3c7e4fe4475016fff3a9c45bc97c54"}], "stats": {"total": 50, "additions": 32, "deletions": 18}, "files": [{"sha": "4a6e9023f4eb6a3b13dba6a9b4f4c87e0b5fa763", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b15a9f630075b2564ff5e15a19c2ad094ef19080/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b15a9f630075b2564ff5e15a19c2ad094ef19080/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b15a9f630075b2564ff5e15a19c2ad094ef19080", "patch": "@@ -1,3 +1,9 @@\n+2008-06-14  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n+\n+\t* configure.ac: Update gthr-default.h lazily, to avoid unneeded\n+\tlibrary rebuilds.\n+\t* configure: Regenerate.\n+\n 2008-06-13  Eric Botcazou  <ebotcazou@adacore.com>\n \n \tPR middle-end/36520"}, {"sha": "4a58626d2a7c964ee2f2cefb54c9ee8ecc5256ca", "filename": "gcc/configure", "status": "modified", "additions": 20, "deletions": 16, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b15a9f630075b2564ff5e15a19c2ad094ef19080/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b15a9f630075b2564ff5e15a19c2ad094ef19080/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=b15a9f630075b2564ff5e15a19c2ad094ef19080", "patch": "@@ -13253,8 +13253,12 @@ fi\n # Make gthr-default.h if we have a thread file.\n gthread_flags=\n if test $thread_file != single; then\n-  rm -f gthr-default.h\n-  echo \"#include \\\"gthr-${thread_file}.h\\\"\" > gthr-default.h\n+  echo \"#include \\\"gthr-${thread_file}.h\\\"\" > gthr-default.h-t\n+  if diff gthr-default.h-t gthr-default.h 2>/dev/null; then\n+    rm -f gthr-default.h-t\n+  else\n+    mv -f gthr-default.h-t gthr-default.h\n+  fi\n   gthread_flags=-DHAVE_GTHR_DEFAULT\n fi\n \n@@ -14666,13 +14670,13 @@ if test \"${lt_cv_nm_interface+set}\" = set; then\n else\n   lt_cv_nm_interface=\"BSD nm\"\n   echo \"int some_variable = 0;\" > conftest.$ac_ext\n-  (eval echo \"\\\"\\$as_me:14669: $ac_compile\\\"\" >&5)\n+  (eval echo \"\\\"\\$as_me:14673: $ac_compile\\\"\" >&5)\n   (eval \"$ac_compile\" 2>conftest.err)\n   cat conftest.err >&5\n-  (eval echo \"\\\"\\$as_me:14672: $NM \\\\\\\"conftest.$ac_objext\\\\\\\"\\\"\" >&5)\n+  (eval echo \"\\\"\\$as_me:14676: $NM \\\\\\\"conftest.$ac_objext\\\\\\\"\\\"\" >&5)\n   (eval \"$NM \\\"conftest.$ac_objext\\\"\" 2>conftest.err > conftest.out)\n   cat conftest.err >&5\n-  (eval echo \"\\\"\\$as_me:14675: output\\\"\" >&5)\n+  (eval echo \"\\\"\\$as_me:14679: output\\\"\" >&5)\n   cat conftest.out >&5\n   if $GREP 'External.*some_variable' conftest.out > /dev/null; then\n     lt_cv_nm_interface=\"MS dumpbin\"\n@@ -15727,7 +15731,7 @@ ia64-*-hpux*)\n   ;;\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 15730 \"configure\"' > conftest.$ac_ext\n+  echo '#line 15734 \"configure\"' > conftest.$ac_ext\n   if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   (eval $ac_compile) 2>&5\n   ac_status=$?\n@@ -16347,11 +16351,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:16350: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:16354: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>conftest.err)\n    ac_status=$?\n    cat conftest.err >&5\n-   echo \"$as_me:16354: \\$? = $ac_status\" >&5\n+   echo \"$as_me:16358: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s \"$ac_outfile\"; then\n      # The compiler can only warn and ignore the option if not recognized\n      # So say no if there are warnings other than the usual output.\n@@ -16669,11 +16673,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:16672: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:16676: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>conftest.err)\n    ac_status=$?\n    cat conftest.err >&5\n-   echo \"$as_me:16676: \\$? = $ac_status\" >&5\n+   echo \"$as_me:16680: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s \"$ac_outfile\"; then\n      # The compiler can only warn and ignore the option if not recognized\n      # So say no if there are warnings other than the usual output.\n@@ -16774,11 +16778,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:16777: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:16781: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>out/conftest.err)\n    ac_status=$?\n    cat out/conftest.err >&5\n-   echo \"$as_me:16781: \\$? = $ac_status\" >&5\n+   echo \"$as_me:16785: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s out/conftest2.$ac_objext\n    then\n      # The compiler can only warn and ignore the option if not recognized\n@@ -16829,11 +16833,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:16832: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:16836: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>out/conftest.err)\n    ac_status=$?\n    cat out/conftest.err >&5\n-   echo \"$as_me:16836: \\$? = $ac_status\" >&5\n+   echo \"$as_me:16840: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s out/conftest2.$ac_objext\n    then\n      # The compiler can only warn and ignore the option if not recognized\n@@ -19626,7 +19630,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 19629 \"configure\"\n+#line 19633 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -19726,7 +19730,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 19729 \"configure\"\n+#line 19733 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H"}, {"sha": "6bca2954e381559e2ab756bc7e1191a8c7b4191c", "filename": "gcc/configure.ac", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b15a9f630075b2564ff5e15a19c2ad094ef19080/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b15a9f630075b2564ff5e15a19c2ad094ef19080/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=b15a9f630075b2564ff5e15a19c2ad094ef19080", "patch": "@@ -1368,8 +1368,12 @@ fi\n # Make gthr-default.h if we have a thread file.\n gthread_flags=\n if test $thread_file != single; then\n-  rm -f gthr-default.h\n-  echo \"#include \\\"gthr-${thread_file}.h\\\"\" > gthr-default.h\n+  echo \"#include \\\"gthr-${thread_file}.h\\\"\" > gthr-default.h-t\n+  if diff gthr-default.h-t gthr-default.h 2>/dev/null; then\n+    rm -f gthr-default.h-t\n+  else\n+    mv -f gthr-default.h-t gthr-default.h\n+  fi\n   gthread_flags=-DHAVE_GTHR_DEFAULT\n fi\n AC_SUBST(gthread_flags)"}]}