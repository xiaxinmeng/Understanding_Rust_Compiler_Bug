{"sha": "3d4e720adc67915aa603b23a9d61e393c9000a91", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2Q0ZTcyMGFkYzY3OTE1YWE2MDNiMjNhOWQ2MWUzOTNjOTAwMGE5MQ==", "commit": {"author": {"name": "Samuel Tardieu", "email": "sam@rfc1149.net", "date": "2008-05-12T16:25:07Z"}, "committer": {"name": "Paolo Bonzini", "email": "bonzini@gcc.gnu.org", "date": "2008-05-12T16:25:07Z"}, "message": "re PR ada/36001 ($(GNATMAKE) not defined with 'cd gcc && make')\n\n2008-05-12  Samuel Tardieu  <sam@rfc1149.net>\n\t    Paolo Bonzini  <bonzini@gnu.org>\n\n\tPR ada/36001\n\t* acx.m4: Add optional parameter to ACX_PROG_GNAT.\n\ngcc:\n2008-05-12  Samuel Tardieu  <sam@rfc1149.net>\n\t    Paolo Bonzini  <bonzini@gnu.org>\n\n\tPR ada/36001\n\t* Makefile.in: Substitute GNATMAKE and GNATBIND.\n\t* configure.ac: Add call to ACX_PROG_GNAT.\n\n\nCo-Authored-By: Paolo Bonzini <bonzini@gnu.org>\n\nFrom-SVN: r135220", "tree": {"sha": "1d7bd4da2db9ec0fe7e900c36a30ca9e331db7ff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1d7bd4da2db9ec0fe7e900c36a30ca9e331db7ff"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3d4e720adc67915aa603b23a9d61e393c9000a91", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d4e720adc67915aa603b23a9d61e393c9000a91", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3d4e720adc67915aa603b23a9d61e393c9000a91", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d4e720adc67915aa603b23a9d61e393c9000a91/comments", "author": {"login": "samueltardieu", "id": 44656, "node_id": "MDQ6VXNlcjQ0NjU2", "avatar_url": "https://avatars.githubusercontent.com/u/44656?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samueltardieu", "html_url": "https://github.com/samueltardieu", "followers_url": "https://api.github.com/users/samueltardieu/followers", "following_url": "https://api.github.com/users/samueltardieu/following{/other_user}", "gists_url": "https://api.github.com/users/samueltardieu/gists{/gist_id}", "starred_url": "https://api.github.com/users/samueltardieu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samueltardieu/subscriptions", "organizations_url": "https://api.github.com/users/samueltardieu/orgs", "repos_url": "https://api.github.com/users/samueltardieu/repos", "events_url": "https://api.github.com/users/samueltardieu/events{/privacy}", "received_events_url": "https://api.github.com/users/samueltardieu/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b7d36ea3cc8cc960b98f307bcdb04f66085b9c2b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7d36ea3cc8cc960b98f307bcdb04f66085b9c2b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7d36ea3cc8cc960b98f307bcdb04f66085b9c2b"}], "stats": {"total": 253, "additions": 236, "deletions": 17}, "files": [{"sha": "92df0eb25a2ceca1883f6547bf2d95cf477a9214", "filename": "config/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d4e720adc67915aa603b23a9d61e393c9000a91/config%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d4e720adc67915aa603b23a9d61e393c9000a91/config%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2FChangeLog?ref=3d4e720adc67915aa603b23a9d61e393c9000a91", "patch": "@@ -1,3 +1,9 @@\n+2008-05-12  Samuel Tardieu  <sam@rfc1149.net>\n+\t    Paolo Bonzini  <bonzini@gnu.org>\n+\n+\tPR ada/36001\n+\t* acx.m4: Add optional parameter to ACX_PROG_GNAT.\n+\n 2008-04-23  Paolo Bonzini  <bonzini@gnu.org>\n \n \t* override.m4: Apply _AC_ARG_VALIDATE fix to all versions"}, {"sha": "cea08b7204ff6e9e23f3c744d7faefa8c2a1b8d0", "filename": "config/acx.m4", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d4e720adc67915aa603b23a9d61e393c9000a91/config%2Facx.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d4e720adc67915aa603b23a9d61e393c9000a91/config%2Facx.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2Facx.m4?ref=3d4e720adc67915aa603b23a9d61e393c9000a91", "patch": "@@ -357,7 +357,8 @@ ac_c_preproc_warn_flag=yes])# AC_PROG_CPP_WERROR\n \n # Test for GNAT.\n # We require the gnatbind program, and a compiler driver that\n-# understands Ada.  We use the user's CC setting, already found.\n+# understands Ada.  We use the user's CC setting, already found,\n+# and possibly add $1 to the command-line parameters.\n #\n # Sets the shell variable have_gnat to yes or no as appropriate, and\n # substitutes GNATBIND and GNATMAKE.\n@@ -380,7 +381,7 @@ acx_cv_cc_gcc_supports_ada=no\n # Other compilers, like HP Tru64 UNIX cc, exit successfully when\n # given a .adb file, but produce no object file.  So we must check\n # if an object file was really produced to guard against this.\n-errors=`(${CC} -c conftest.adb) 2>&1 || echo failure`\n+errors=`(${CC} $1[]m4_ifval([$1], [ ])-c conftest.adb) 2>&1 || echo failure`\n if test x\"$errors\" = x && test -f conftest.$ac_objext; then\n   acx_cv_cc_gcc_supports_ada=yes\n fi"}, {"sha": "f21f4da8ce1fad24b9f7d0789048046f9ea4abc3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d4e720adc67915aa603b23a9d61e393c9000a91/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d4e720adc67915aa603b23a9d61e393c9000a91/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3d4e720adc67915aa603b23a9d61e393c9000a91", "patch": "@@ -1,3 +1,9 @@\n+2008-05-12  Samuel Tardieu  <sam@rfc1149.net>\n+\n+\tPR ada/36001\n+\t* Makefile.in: Substitute GNATMAKE and GNATBIND.\n+\t* configure.ac: Add call to ACX_PROG_GNAT.\n+\n 2008-05-11  Volker Reichelt  <v.reichelt@netcologne.de>\n \n \t* optc-gen.awk: Fix comment typo."}, {"sha": "84bc2352b2a3daf27aafab4f184380a7c6526af6", "filename": "gcc/Makefile.in", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d4e720adc67915aa603b23a9d61e393c9000a91/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d4e720adc67915aa603b23a9d61e393c9000a91/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=3d4e720adc67915aa603b23a9d61e393c9000a91", "patch": "@@ -872,6 +872,10 @@ LIBS = @LIBS@ $(CPPLIB) $(LIBINTL) $(LIBICONV) $(LIBIBERTY) $(LIBDECNUMBER)\n # Any system libraries needed just for GNAT.\n SYSLIBS = @GNAT_LIBEXC@\n \n+# Used from ada/Make-lang.in\n+GNATBIND = @GNATBIND@\n+GNATMAKE = @GNATMAKE@\n+\n # Libs needed (at present) just for jcf-dump.\n LDEXP_LIB = @LDEXP_LIB@\n "}, {"sha": "c8351e02ca0e641f051a81890d80d99298145a6a", "filename": "gcc/configure", "status": "modified", "additions": 215, "deletions": 15, "changes": 230, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d4e720adc67915aa603b23a9d61e393c9000a91/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d4e720adc67915aa603b23a9d61e393c9000a91/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=3d4e720adc67915aa603b23a9d61e393c9000a91", "patch": "@@ -458,7 +458,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical build_libsubdir build_subdir host_subdir target_subdir GENINSRC CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT NO_MINUS_C_MINUS_O OUTPUT_OPTION CPP EGREP loose_warn cxx_compat_warn strict_warn warn_cflags nocommon_flag TREEBROWSER valgrind_path valgrind_path_defines valgrind_command coverage_flags enable_multilib enable_decimal_float enable_fixed_point enable_shared TARGET_SYSTEM_ROOT TARGET_SYSTEM_ROOT_DEFINE CROSS_SYSTEM_HEADER_DIR onestep PKGVERSION REPORT_BUGS_TO REPORT_BUGS_TEXI datarootdir docdir htmldir SET_MAKE AWK LN_S LN RANLIB ac_ct_RANLIB ranlib_flags INSTALL INSTALL_PROGRAM INSTALL_DATA make_compare_target have_mktemp_command MAKEINFO BUILD_INFO GENERATED_MANPAGES FLEX BISON NM AR COLLECT2_LIBS GNAT_LIBEXC LDEXP_LIB TARGET_GETGROUPS_T LIBICONV LTLIBICONV LIBICONV_DEP manext objext gthread_flags extra_modes_file extra_opt_files USE_NLS LIBINTL LIBINTL_DEP INCINTL XGETTEXT GMSGFMT POSUB CATALOGS DATADIRNAME INSTOBJEXT GENCAT CATOBJEXT host_cc_for_libada CROSS ALL SYSTEM_HEADER_DIR inhibit_libc CC_FOR_BUILD BUILD_CFLAGS STMP_FIXINC STMP_FIXPROTO collect2 LIBTOOL SED FGREP GREP LD DUMPBIN ac_ct_DUMPBIN ac_ct_AR STRIP ac_ct_STRIP lt_ECHO objdir enable_fast_install gcc_cv_as ORIGINAL_AS_FOR_TARGET gcc_cv_ld ORIGINAL_LD_FOR_TARGET gcc_cv_nm ORIGINAL_NM_FOR_TARGET gcc_cv_objdump libgcc_visibility GGC zlibdir zlibinc MAINT gcc_tooldir dollar slibdir subdirs srcdir all_compilers all_gtfiles all_lang_makefrags all_lang_makefiles all_languages all_selected_languages build_exeext build_install_headers_dir build_xm_file_list build_xm_include_list build_xm_defines build_file_translate check_languages cpp_install_dir xmake_file tmake_file extra_gcc_objs extra_headers_list extra_objs extra_parts extra_passes extra_programs float_h_file gcc_config_arguments gcc_gxx_include_dir host_exeext host_xm_file_list host_xm_include_list host_xm_defines out_host_hook_obj install lang_opt_files lang_specs_files lang_tree_files local_prefix md_file objc_boehm_gc out_file out_object_file thread_file tm_file_list tm_include_list tm_defines tm_p_file_list tm_p_include_list xm_file_list xm_include_list xm_defines c_target_objs cxx_target_objs target_cpu_default GMPLIBS GMPINC LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical build_libsubdir build_subdir host_subdir target_subdir GENINSRC CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT GNATBIND ac_ct_GNATBIND GNATMAKE ac_ct_GNATMAKE NO_MINUS_C_MINUS_O OUTPUT_OPTION CPP EGREP loose_warn cxx_compat_warn strict_warn warn_cflags nocommon_flag TREEBROWSER valgrind_path valgrind_path_defines valgrind_command coverage_flags enable_multilib enable_decimal_float enable_fixed_point enable_shared TARGET_SYSTEM_ROOT TARGET_SYSTEM_ROOT_DEFINE CROSS_SYSTEM_HEADER_DIR onestep PKGVERSION REPORT_BUGS_TO REPORT_BUGS_TEXI datarootdir docdir htmldir SET_MAKE AWK LN_S LN RANLIB ac_ct_RANLIB ranlib_flags INSTALL INSTALL_PROGRAM INSTALL_DATA make_compare_target have_mktemp_command MAKEINFO BUILD_INFO GENERATED_MANPAGES FLEX BISON NM AR COLLECT2_LIBS GNAT_LIBEXC LDEXP_LIB TARGET_GETGROUPS_T LIBICONV LTLIBICONV LIBICONV_DEP manext objext gthread_flags extra_modes_file extra_opt_files USE_NLS LIBINTL LIBINTL_DEP INCINTL XGETTEXT GMSGFMT POSUB CATALOGS DATADIRNAME INSTOBJEXT GENCAT CATOBJEXT host_cc_for_libada CROSS ALL SYSTEM_HEADER_DIR inhibit_libc CC_FOR_BUILD BUILD_CFLAGS STMP_FIXINC STMP_FIXPROTO collect2 LIBTOOL SED FGREP GREP LD DUMPBIN ac_ct_DUMPBIN ac_ct_AR STRIP ac_ct_STRIP lt_ECHO objdir enable_fast_install gcc_cv_as ORIGINAL_AS_FOR_TARGET gcc_cv_ld ORIGINAL_LD_FOR_TARGET gcc_cv_nm ORIGINAL_NM_FOR_TARGET gcc_cv_objdump libgcc_visibility GGC zlibdir zlibinc MAINT gcc_tooldir dollar slibdir subdirs srcdir all_compilers all_gtfiles all_lang_makefrags all_lang_makefiles all_languages all_selected_languages build_exeext build_install_headers_dir build_xm_file_list build_xm_include_list build_xm_defines build_file_translate check_languages cpp_install_dir xmake_file tmake_file extra_gcc_objs extra_headers_list extra_objs extra_parts extra_passes extra_programs float_h_file gcc_config_arguments gcc_gxx_include_dir host_exeext host_xm_file_list host_xm_include_list host_xm_defines out_host_hook_obj install lang_opt_files lang_specs_files lang_tree_files local_prefix md_file objc_boehm_gc out_file out_object_file thread_file tm_file_list tm_include_list tm_defines tm_p_file_list tm_p_include_list xm_file_list xm_include_list xm_defines c_target_objs cxx_target_objs target_cpu_default GMPLIBS GMPINC LIBOBJS LTLIBOBJS'\n ac_subst_files='language_hooks'\n \n # Initialize some variables set by options.\n@@ -3076,6 +3076,202 @@ if eval \"test \\\"`echo '$ac_cv_prog_cc_'${ac_cc}_c_o`\\\" != yes\"; then\n    CC=\"$am_aux_dir/compile $CC\"\n fi\n \n+\n+\n+\n+if test -n \"$ac_tool_prefix\"; then\n+  # Extract the first word of \"${ac_tool_prefix}gnatbind\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}gnatbind; ac_word=$2\n+echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n+echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n+if test \"${ac_cv_prog_GNATBIND+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  if test -n \"$GNATBIND\"; then\n+  ac_cv_prog_GNATBIND=\"$GNATBIND\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+  for ac_exec_ext in '' $ac_executable_extensions; do\n+  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_GNATBIND=\"${ac_tool_prefix}gnatbind\"\n+    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+done\n+\n+fi\n+fi\n+GNATBIND=$ac_cv_prog_GNATBIND\n+if test -n \"$GNATBIND\"; then\n+  echo \"$as_me:$LINENO: result: $GNATBIND\" >&5\n+echo \"${ECHO_T}$GNATBIND\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n+fi\n+\n+fi\n+if test -z \"$ac_cv_prog_GNATBIND\"; then\n+  ac_ct_GNATBIND=$GNATBIND\n+  # Extract the first word of \"gnatbind\", so it can be a program name with args.\n+set dummy gnatbind; ac_word=$2\n+echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n+echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n+if test \"${ac_cv_prog_ac_ct_GNATBIND+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  if test -n \"$ac_ct_GNATBIND\"; then\n+  ac_cv_prog_ac_ct_GNATBIND=\"$ac_ct_GNATBIND\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+  for ac_exec_ext in '' $ac_executable_extensions; do\n+  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_ac_ct_GNATBIND=\"gnatbind\"\n+    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+done\n+\n+  test -z \"$ac_cv_prog_ac_ct_GNATBIND\" && ac_cv_prog_ac_ct_GNATBIND=\"no\"\n+fi\n+fi\n+ac_ct_GNATBIND=$ac_cv_prog_ac_ct_GNATBIND\n+if test -n \"$ac_ct_GNATBIND\"; then\n+  echo \"$as_me:$LINENO: result: $ac_ct_GNATBIND\" >&5\n+echo \"${ECHO_T}$ac_ct_GNATBIND\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n+fi\n+\n+  GNATBIND=$ac_ct_GNATBIND\n+else\n+  GNATBIND=\"$ac_cv_prog_GNATBIND\"\n+fi\n+\n+if test -n \"$ac_tool_prefix\"; then\n+  # Extract the first word of \"${ac_tool_prefix}gnatmake\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}gnatmake; ac_word=$2\n+echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n+echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n+if test \"${ac_cv_prog_GNATMAKE+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  if test -n \"$GNATMAKE\"; then\n+  ac_cv_prog_GNATMAKE=\"$GNATMAKE\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+  for ac_exec_ext in '' $ac_executable_extensions; do\n+  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_GNATMAKE=\"${ac_tool_prefix}gnatmake\"\n+    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+done\n+\n+fi\n+fi\n+GNATMAKE=$ac_cv_prog_GNATMAKE\n+if test -n \"$GNATMAKE\"; then\n+  echo \"$as_me:$LINENO: result: $GNATMAKE\" >&5\n+echo \"${ECHO_T}$GNATMAKE\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n+fi\n+\n+fi\n+if test -z \"$ac_cv_prog_GNATMAKE\"; then\n+  ac_ct_GNATMAKE=$GNATMAKE\n+  # Extract the first word of \"gnatmake\", so it can be a program name with args.\n+set dummy gnatmake; ac_word=$2\n+echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n+echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n+if test \"${ac_cv_prog_ac_ct_GNATMAKE+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  if test -n \"$ac_ct_GNATMAKE\"; then\n+  ac_cv_prog_ac_ct_GNATMAKE=\"$ac_ct_GNATMAKE\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+  for ac_exec_ext in '' $ac_executable_extensions; do\n+  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_ac_ct_GNATMAKE=\"gnatmake\"\n+    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+done\n+\n+  test -z \"$ac_cv_prog_ac_ct_GNATMAKE\" && ac_cv_prog_ac_ct_GNATMAKE=\"no\"\n+fi\n+fi\n+ac_ct_GNATMAKE=$ac_cv_prog_ac_ct_GNATMAKE\n+if test -n \"$ac_ct_GNATMAKE\"; then\n+  echo \"$as_me:$LINENO: result: $ac_ct_GNATMAKE\" >&5\n+echo \"${ECHO_T}$ac_ct_GNATMAKE\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n+fi\n+\n+  GNATMAKE=$ac_ct_GNATMAKE\n+else\n+  GNATMAKE=\"$ac_cv_prog_GNATMAKE\"\n+fi\n+\n+echo \"$as_me:$LINENO: checking whether compiler driver understands Ada\" >&5\n+echo $ECHO_N \"checking whether compiler driver understands Ada... $ECHO_C\" >&6\n+if test \"${acx_cv_cc_gcc_supports_ada+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  cat >conftest.adb <<EOF\n+procedure conftest is begin null; end conftest;\n+EOF\n+acx_cv_cc_gcc_supports_ada=no\n+# There is a bug in old released versions of GCC which causes the\n+# driver to exit successfully when the appropriate language module\n+# has not been installed.  This is fixed in 2.95.4, 3.0.2, and 3.1.\n+# Therefore we must check for the error message as well as an\n+# unsuccessful exit.\n+# Other compilers, like HP Tru64 UNIX cc, exit successfully when\n+# given a .adb file, but produce no object file.  So we must check\n+# if an object file was really produced to guard against this.\n+errors=`(${CC} -I\"$srcdir\"/ada -c conftest.adb) 2>&1 || echo failure`\n+if test x\"$errors\" = x && test -f conftest.$ac_objext; then\n+  acx_cv_cc_gcc_supports_ada=yes\n+fi\n+rm -f conftest.*\n+fi\n+echo \"$as_me:$LINENO: result: $acx_cv_cc_gcc_supports_ada\" >&5\n+echo \"${ECHO_T}$acx_cv_cc_gcc_supports_ada\" >&6\n+\n+if test x$GNATBIND != xno && test x$GNATMAKE != xno && test x$acx_cv_cc_gcc_supports_ada != xno; then\n+  have_gnat=yes\n+else\n+  have_gnat=no\n+fi\n+\n+\n # autoconf is lame and doesn't give us any substitution variable for this.\n if eval \"test \\\"`echo '$ac_cv_prog_cc_'${ac_cc}_c_o`\\\" = no\"; then\n   NO_MINUS_C_MINUS_O=yes\n@@ -14458,13 +14654,13 @@ if test \"${lt_cv_nm_interface+set}\" = set; then\n else\n   lt_cv_nm_interface=\"BSD nm\"\n   echo \"int some_variable = 0;\" > conftest.$ac_ext\n-  (eval echo \"\\\"\\$as_me:14461: $ac_compile\\\"\" >&5)\n+  (eval echo \"\\\"\\$as_me:14657: $ac_compile\\\"\" >&5)\n   (eval \"$ac_compile\" 2>conftest.err)\n   cat conftest.err >&5\n-  (eval echo \"\\\"\\$as_me:14464: $NM \\\\\\\"conftest.$ac_objext\\\\\\\"\\\"\" >&5)\n+  (eval echo \"\\\"\\$as_me:14660: $NM \\\\\\\"conftest.$ac_objext\\\\\\\"\\\"\" >&5)\n   (eval \"$NM \\\"conftest.$ac_objext\\\"\" 2>conftest.err > conftest.out)\n   cat conftest.err >&5\n-  (eval echo \"\\\"\\$as_me:14467: output\\\"\" >&5)\n+  (eval echo \"\\\"\\$as_me:14663: output\\\"\" >&5)\n   cat conftest.out >&5\n   if $GREP 'External.*some_variable' conftest.out > /dev/null; then\n     lt_cv_nm_interface=\"MS dumpbin\"\n@@ -15519,7 +15715,7 @@ ia64-*-hpux*)\n   ;;\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 15522 \"configure\"' > conftest.$ac_ext\n+  echo '#line 15718 \"configure\"' > conftest.$ac_ext\n   if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   (eval $ac_compile) 2>&5\n   ac_status=$?\n@@ -16139,11 +16335,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:16142: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:16338: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>conftest.err)\n    ac_status=$?\n    cat conftest.err >&5\n-   echo \"$as_me:16146: \\$? = $ac_status\" >&5\n+   echo \"$as_me:16342: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s \"$ac_outfile\"; then\n      # The compiler can only warn and ignore the option if not recognized\n      # So say no if there are warnings other than the usual output.\n@@ -16461,11 +16657,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:16464: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:16660: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>conftest.err)\n    ac_status=$?\n    cat conftest.err >&5\n-   echo \"$as_me:16468: \\$? = $ac_status\" >&5\n+   echo \"$as_me:16664: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s \"$ac_outfile\"; then\n      # The compiler can only warn and ignore the option if not recognized\n      # So say no if there are warnings other than the usual output.\n@@ -16566,11 +16762,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:16569: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:16765: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>out/conftest.err)\n    ac_status=$?\n    cat out/conftest.err >&5\n-   echo \"$as_me:16573: \\$? = $ac_status\" >&5\n+   echo \"$as_me:16769: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s out/conftest2.$ac_objext\n    then\n      # The compiler can only warn and ignore the option if not recognized\n@@ -16621,11 +16817,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:16624: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:16820: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>out/conftest.err)\n    ac_status=$?\n    cat out/conftest.err >&5\n-   echo \"$as_me:16628: \\$? = $ac_status\" >&5\n+   echo \"$as_me:16824: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s out/conftest2.$ac_objext\n    then\n      # The compiler can only warn and ignore the option if not recognized\n@@ -19418,7 +19614,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 19421 \"configure\"\n+#line 19617 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -19518,7 +19714,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 19521 \"configure\"\n+#line 19717 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -24250,6 +24446,10 @@ s,@CPPFLAGS@,$CPPFLAGS,;t t\n s,@ac_ct_CC@,$ac_ct_CC,;t t\n s,@EXEEXT@,$EXEEXT,;t t\n s,@OBJEXT@,$OBJEXT,;t t\n+s,@GNATBIND@,$GNATBIND,;t t\n+s,@ac_ct_GNATBIND@,$ac_ct_GNATBIND,;t t\n+s,@GNATMAKE@,$GNATMAKE,;t t\n+s,@ac_ct_GNATMAKE@,$ac_ct_GNATMAKE,;t t\n s,@NO_MINUS_C_MINUS_O@,$NO_MINUS_C_MINUS_O,;t t\n s,@OUTPUT_OPTION@,$OUTPUT_OPTION,;t t\n s,@CPP@,$CPP,;t t"}, {"sha": "8a53d59326eb2be0f2bbef1f67e7dd1a4615eb93", "filename": "gcc/configure.ac", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d4e720adc67915aa603b23a9d61e393c9000a91/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d4e720adc67915aa603b23a9d61e393c9000a91/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=3d4e720adc67915aa603b23a9d61e393c9000a91", "patch": "@@ -276,6 +276,8 @@ rm -f a.out a.exe b.out\n # Find the native compiler\n AC_PROG_CC\n AM_PROG_CC_C_O\n+ACX_PROG_GNAT([-I\"$srcdir\"/ada])\n+\n # autoconf is lame and doesn't give us any substitution variable for this.\n if eval \"test \\\"`echo '$ac_cv_prog_cc_'${ac_cc}_c_o`\\\" = no\"; then\n   NO_MINUS_C_MINUS_O=yes"}]}