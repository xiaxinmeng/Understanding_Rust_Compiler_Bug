{"sha": "802e3f8c818a594430066173ab0beb8bde96a74a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODAyZTNmOGM4MThhNTk0NDMwMDY2MTczYWIwYmViOGJkZTk2YTc0YQ==", "commit": {"author": {"name": "Ralf Wildenhues", "email": "Ralf.Wildenhues@gmx.de", "date": "2008-03-09T17:43:10Z"}, "committer": {"name": "Ralf Wildenhues", "email": "rwild@gcc.gnu.org", "date": "2008-03-09T17:43:10Z"}, "message": "c.opt (Wsynth): Deprecate.\n\ngcc/\n\n\t* c.opt (Wsynth): Deprecate.\n\t* doc/invoke.texi (Option Summary, Warning Options): Document\n\t-Wno-format-contains-nul.\n\ngcc/fortran/\n\n\t* invoke.texi (Error and Warning Options): Document\n\t-Wline-truncation.\n\ncontrib/\n\n\t* check_warning_flags.sh: Instead of invoke.texi, take the path\n\tto the doc directory as argument.  Check that warnings listed in\n\t'gcc --help' are accepted by the compiler, and listed in the\n\tmanuals.\n\nFrom-SVN: r133059", "tree": {"sha": "7f23b331be468dba5213edf15d3bceff29b22262", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7f23b331be468dba5213edf15d3bceff29b22262"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/802e3f8c818a594430066173ab0beb8bde96a74a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/802e3f8c818a594430066173ab0beb8bde96a74a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/802e3f8c818a594430066173ab0beb8bde96a74a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/802e3f8c818a594430066173ab0beb8bde96a74a/comments", "author": null, "committer": null, "parents": [{"sha": "fa37b948cd133bef51590a9294cab8c82efa10ce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa37b948cd133bef51590a9294cab8c82efa10ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa37b948cd133bef51590a9294cab8c82efa10ce"}], "stats": {"total": 78, "additions": 74, "deletions": 4}, "files": [{"sha": "3f897e8e84a25098e3a1d1edd4f4c0a3dcf0a61d", "filename": "contrib/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/802e3f8c818a594430066173ab0beb8bde96a74a/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/802e3f8c818a594430066173ab0beb8bde96a74a/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=802e3f8c818a594430066173ab0beb8bde96a74a", "patch": "@@ -1,3 +1,10 @@\n+2008-03-09  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n+\n+\t* check_warning_flags.sh: Instead of invoke.texi, take the path\n+\tto the doc directory as argument.  Check that warnings listed in\n+\t'gcc --help' are accepted by the compiler, and listed in the\n+\tmanuals.\n+\n 2008-03-06  Tom Tromey  <tromey@redhat.com>\n \n \t* patch_tester.sh (usage): Watermark is not lexicographic."}, {"sha": "fcd0f37e1053e3a1507fb8af9aa0c6583cc6c9b1", "filename": "contrib/check_warning_flags.sh", "status": "modified", "additions": 43, "deletions": 2, "changes": 45, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/802e3f8c818a594430066173ab0beb8bde96a74a/contrib%2Fcheck_warning_flags.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/802e3f8c818a594430066173ab0beb8bde96a74a/contrib%2Fcheck_warning_flags.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fcheck_warning_flags.sh?ref=802e3f8c818a594430066173ab0beb8bde96a74a", "patch": "@@ -18,7 +18,7 @@\n progname=`echo \"$0\" | sed 's,.*/,,'`\n usage ()\n {\n-  echo \"usage: $progname path/to/invoke.texi\"\n+  echo \"usage: $progname path/to/gcc/doc\"\n   echo \"set \\$CC to the compiler to be checked\"\n   exit 1\n }\n@@ -28,7 +28,8 @@ LC_ALL=C\n export LC_ALL\n : ${CC=gcc}\n test $# = 1 || usage\n-invoke_texi=$1\n+gcc_docdir=$1\n+invoke_texi=$gcc_docdir/invoke.texi\n test -r \"$invoke_texi\" || {\n   echo \"$progname: error: cannot read '$invoke_texi'\" >&2\n   usage\n@@ -133,4 +134,44 @@ for lang in c c++ objc obj-c++; do\n   }\n   rm -f $file $filebase.o $filebase.obj $stderr\n done\n+\n+\n+remove_problematic_help_flags='\n+  /^W$/d\n+  /^W[alp]$/d\n+  /^Werror-implicit-function-declaration$/d\n+  /^Wsynth$/d\n+  /-$/d\n+  /=/d'\n+help_flags=`\n+  $CC --help -v 2>/dev/null | tr ' ' '\\n' |\n+    sed -n '\n+      b a\n+      :a\n+      s/^-\\(W[^<,]*\\).*/\\1/\n+      t x\n+      d\n+      :x\n+      '\"$remove_problematic_help_flags\"'\n+      p' | sort -u`\n+: >$filebase.c\n+for flag in $help_flags; do\n+  $CC -c $filebase.c -$flag 2>/dev/null || {\n+    echo \"warning -$flag not supported\" >&2\n+    ret=1\n+  }\n+  grep \"@item.*$flag\" $gcc_docdir/../*/*.texi >/dev/null || {\n+    # For @item, we are satisfied with either -Wfoo or -Wno-foo.\n+    inverted_flag=`echo \"$flag\" | sed '\n+      s/^Wno-/W/\n+      t\n+      s/^W/Wno-/'`\n+    grep \"@item.*$inverted_flag\" $gcc_docdir/../*/*.texi >/dev/null || {\n+      echo \"warning -$flag not documented in $gcc_docdir/../*/*.texi\" >&2\n+      ret=1\n+    }\n+  }\n+done\n+rm -f $filebase.c $filebase.o\n+\n exit $ret"}, {"sha": "6490647f4786e2a735394db4454b0a56d74ed782", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/802e3f8c818a594430066173ab0beb8bde96a74a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/802e3f8c818a594430066173ab0beb8bde96a74a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=802e3f8c818a594430066173ab0beb8bde96a74a", "patch": "@@ -1,3 +1,9 @@\n+2008-03-09  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n+\n+\t* c.opt (Wsynth): Deprecate.\n+\t* doc/invoke.texi (Option Summary, Warning Options): Document\n+\t-Wno-format-contains-nul.\n+\n 2008-03-09  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR target/35496"}, {"sha": "dd9013e1c3741b9af601852eb343bedb8e9704b4", "filename": "gcc/c.opt", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/802e3f8c818a594430066173ab0beb8bde96a74a/gcc%2Fc.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/802e3f8c818a594430066173ab0beb8bde96a74a/gcc%2Fc.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc.opt?ref=802e3f8c818a594430066173ab0beb8bde96a74a", "patch": "@@ -423,7 +423,7 @@ Warn if type signatures of candidate methods do not match exactly\n \n Wsynth\n C++ ObjC++ Var(warn_synth) Warning\n-Warn when synthesis behavior differs from Cfront\n+Deprecated.  This switch has no effect\n \n Wsystem-headers\n C ObjC C++ ObjC++ Warning"}, {"sha": "304525dcccf522b4350857243fca32b008889262", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/802e3f8c818a594430066173ab0beb8bde96a74a/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/802e3f8c818a594430066173ab0beb8bde96a74a/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=802e3f8c818a594430066173ab0beb8bde96a74a", "patch": "@@ -235,7 +235,7 @@ Objective-C and Objective-C++ Dialects}.\n -Wempty-body  -Wno-endif-labels @gol\n -Werror  -Werror=* @gol\n -Wfatal-errors  -Wfloat-equal  -Wformat  -Wformat=2 @gol\n--Wno-format-extra-args -Wformat-nonliteral @gol\n+-Wno-format-contains-nul -Wno-format-extra-args -Wformat-nonliteral @gol\n -Wformat-security  -Wformat-y2k @gol\n -Wframe-larger-than=@var{len} -Wignored-qualifiers @gol\n -Wimplicit  -Wimplicit-function-declaration  -Wimplicit-int @gol\n@@ -2811,6 +2811,12 @@ aspects of format checking, the options @option{-Wformat-y2k},\n If @option{-Wformat} is specified, also warn about @code{strftime}\n formats which may yield only a two-digit year.\n \n+@item -Wno-format-contains-nul\n+@opindex Wno-format-contains-nul\n+@opindex Wformat-contains-nul\n+If @option{-Wformat} is specified, do not warn about format strings that\n+contain NUL bytes.\n+\n @item -Wno-format-extra-args\n @opindex Wno-format-extra-args\n @opindex Wformat-extra-args"}, {"sha": "72bf5129c44718927923af4488d6b3187d028b4c", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/802e3f8c818a594430066173ab0beb8bde96a74a/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/802e3f8c818a594430066173ab0beb8bde96a74a/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=802e3f8c818a594430066173ab0beb8bde96a74a", "patch": "@@ -1,3 +1,8 @@\n+2008-03-09  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n+\n+\t* invoke.texi (Error and Warning Options): Document\n+\t-Wline-truncation.\n+\n 2008-03-08  Francois-Xavier Coudert  <fxcoudert@gcc.gnu.org>\n \n \tPR fortran/34956"}, {"sha": "2bac12c7962f9d9ac631330145595c45bcc5434f", "filename": "gcc/fortran/invoke.texi", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/802e3f8c818a594430066173ab0beb8bde96a74a/gcc%2Ffortran%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/802e3f8c818a594430066173ab0beb8bde96a74a/gcc%2Ffortran%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Finvoke.texi?ref=802e3f8c818a594430066173ab0beb8bde96a74a", "patch": "@@ -456,6 +456,11 @@ that initiated the continuation.\n @cindex warnings, character truncation\n Warn when a character assignment will truncate the assigned string.\n \n+@item -Wline-truncation\n+@opindex @code{Wline-truncation}\n+@cindex warnings, line truncation\n+Warn when a source code line will be truncated.\n+\n @item -Wconversion\n @opindex @code{Wconversion}\n @cindex warnings, conversion"}]}