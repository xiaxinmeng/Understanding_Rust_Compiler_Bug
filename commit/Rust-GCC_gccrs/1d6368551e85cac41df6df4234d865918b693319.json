{"sha": "1d6368551e85cac41df6df4234d865918b693319", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWQ2MzY4NTUxZTg1Y2FjNDFkZjZkZjQyMzRkODY1OTE4YjY5MzMxOQ==", "commit": {"author": {"name": "Tobias Burnus", "email": "burnus@net-b.de", "date": "2012-08-27T12:03:41Z"}, "committer": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2012-08-27T12:03:41Z"}, "message": "re PR fortran/54370 (error: non-trivial conversion in unary operation)\n\n2012-08-27  Tobias Burnus  <burnus@net-b.de>\n\n        PR fortran/54370\n        * trans-stmt.c (gfc_trans_do_while): Don't change the logical\n        kind for negation of the condition.\n\n2012-08-27  Tobias Burnus  <burnus@net-b.de>\n\n        PR fortran/54370\n        * gfortran.dg/do_5.f90: New.\n\nFrom-SVN: r190709", "tree": {"sha": "4fda2ff21c6c4925e57041ec9ffdb79d95b3afc4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4fda2ff21c6c4925e57041ec9ffdb79d95b3afc4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1d6368551e85cac41df6df4234d865918b693319", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d6368551e85cac41df6df4234d865918b693319", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d6368551e85cac41df6df4234d865918b693319", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d6368551e85cac41df6df4234d865918b693319/comments", "author": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6c513d43fb33ccd370998b3efae513f4f3a203be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c513d43fb33ccd370998b3efae513f4f3a203be", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c513d43fb33ccd370998b3efae513f4f3a203be"}], "stats": {"total": 42, "additions": 41, "deletions": 1}, "files": [{"sha": "eff252cb465db53d94f8d89916efb1408cb77f28", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d6368551e85cac41df6df4234d865918b693319/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d6368551e85cac41df6df4234d865918b693319/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=1d6368551e85cac41df6df4234d865918b693319", "patch": "@@ -1,3 +1,9 @@\n+2012-08-27  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/54370\n+\t* trans-stmt.c (gfc_trans_do_while): Don't change the logical\n+\tkind for negation of the condition.\n+\n 2012-08-27  Tobias Burnus  <burnus@net-b.de>\n \n \t* options.c (set_Wall): Don't set for -Wcompare-reals."}, {"sha": "8bc491655becfb7a765c5377aa4c19299552b1e2", "filename": "gcc/fortran/trans-stmt.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d6368551e85cac41df6df4234d865918b693319/gcc%2Ffortran%2Ftrans-stmt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d6368551e85cac41df6df4234d865918b693319/gcc%2Ffortran%2Ftrans-stmt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-stmt.c?ref=1d6368551e85cac41df6df4234d865918b693319", "patch": "@@ -1785,7 +1785,7 @@ gfc_trans_do_while (gfc_code * code)\n   gfc_conv_expr_val (&cond, code->expr1);\n   gfc_add_block_to_block (&block, &cond.pre);\n   cond.expr = fold_build1_loc (code->expr1->where.lb->location,\n-\t\t\t       TRUTH_NOT_EXPR, boolean_type_node, cond.expr);\n+\t\t\t       TRUTH_NOT_EXPR, TREE_TYPE (cond.expr), cond.expr);\n \n   /* Build \"IF (! cond) GOTO exit_label\".  */\n   tmp = build1_v (GOTO_EXPR, exit_label);"}, {"sha": "fd5b3504baeaaeb3da4e4e807763b6a0fb4ef05d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d6368551e85cac41df6df4234d865918b693319/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d6368551e85cac41df6df4234d865918b693319/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1d6368551e85cac41df6df4234d865918b693319", "patch": "@@ -1,3 +1,8 @@\n+2012-08-27  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/54370\n+\t* gfortran.dg/do_5.f90: New.\n+\n 2012-08-27  Tobias Burnus  <burnus@net-b.de>\n \n \t* gfortran.dg/bessel_5.f90: Remove -Wno-compare-reals"}, {"sha": "08cd8e6644b4252d4e90be19e8be2cf528f9dde2", "filename": "gcc/testsuite/gfortran.dg/do_5.f90", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d6368551e85cac41df6df4234d865918b693319/gcc%2Ftestsuite%2Fgfortran.dg%2Fdo_5.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d6368551e85cac41df6df4234d865918b693319/gcc%2Ftestsuite%2Fgfortran.dg%2Fdo_5.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fdo_5.f90?ref=1d6368551e85cac41df6df4234d865918b693319", "patch": "@@ -0,0 +1,29 @@\n+! { dg-do compile }\n+!\n+! PR fortran/54370\n+!\n+! The following program was ICEing at tree-check time\n+! \"L()\" was regarded as default-kind logical.\n+!\n+! Contributed by Kirill Chilikin\n+!\n+      MODULE M\n+      CONTAINS\n+\n+      LOGICAL(C_BOOL) FUNCTION L() BIND(C)\n+      USE, INTRINSIC :: ISO_C_BINDING\n+      L = .FALSE.\n+      END FUNCTION\n+\n+      LOGICAL(8) FUNCTION L2() BIND(C)\n+      L2 = .FALSE._8\n+      END FUNCTION\n+\n+      SUBROUTINE S()\n+      DO WHILE (L())\n+      ENDDO\n+      DO WHILE (L2())\n+      ENDDO\n+      END\n+\n+      END"}]}