{"sha": "e547d1341b1fe90672c9b982c4a98f8197237bb7", "node_id": "C_kwDOANBUbNoAKGU1NDdkMTM0MWIxZmU5MDY3MmM5Yjk4MmM0YTk4ZjgxOTcyMzdiYjc", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2021-10-15T22:27:54Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2021-10-15T23:44:28Z"}, "message": "libstdc++: Fix error in filesystem::path with Clang\n\nTHis fixes teh following error seen with Clang:\n\nerror: function '_S_convert<std::basic_string_view<char8_t>>' with deduced\nreturn type cannot be used before it is defined\n          return string_type(_S_convert(std::u8string_view(__str)));\n                             ^\n\nlibstdc++-v3/ChangeLog:\n\n\t* include/bits/fs_path.h (path::_S_convert(T)): Avoid recursive\n\tcall to function with deduced return type.", "tree": {"sha": "7869c6a3d6a8475c539fda0d242f4034f3dff048", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7869c6a3d6a8475c539fda0d242f4034f3dff048"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e547d1341b1fe90672c9b982c4a98f8197237bb7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e547d1341b1fe90672c9b982c4a98f8197237bb7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e547d1341b1fe90672c9b982c4a98f8197237bb7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e547d1341b1fe90672c9b982c4a98f8197237bb7/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "929abc7fe3ad4491ac412ca232e055618559f268", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/929abc7fe3ad4491ac412ca232e055618559f268", "html_url": "https://github.com/Rust-GCC/gccrs/commit/929abc7fe3ad4491ac412ca232e055618559f268"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "4bd980952f1b9de4e01f9410bacd947ed9ba5bf0", "filename": "libstdc++-v3/include/bits/fs_path.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e547d1341b1fe90672c9b982c4a98f8197237bb7/libstdc%2B%2B-v3%2Finclude%2Fbits%2Ffs_path.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e547d1341b1fe90672c9b982c4a98f8197237bb7/libstdc%2B%2B-v3%2Finclude%2Fbits%2Ffs_path.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Ffs_path.h?ref=e547d1341b1fe90672c9b982c4a98f8197237bb7", "patch": "@@ -630,7 +630,8 @@ namespace __detail\n \t  // Calling _S_convert<char8_t> will return a u8string_view that\n \t  // refers to __str and would dangle after this function returns.\n \t  // Return a string_type instead, to avoid dangling.\n-\t  return string_type(_S_convert(std::u8string_view(__str)));\n+\t  return string_type(_S_convert(__str.data(),\n+\t\t\t\t\t__str.data() + __str.size()));\n #endif\n \telse\n \t  return _S_convert(__str.data(), __str.data() + __str.size());"}]}