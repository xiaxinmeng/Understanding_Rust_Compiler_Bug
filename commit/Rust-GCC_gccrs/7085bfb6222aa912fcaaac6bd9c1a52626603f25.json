{"sha": "7085bfb6222aa912fcaaac6bd9c1a52626603f25", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzA4NWJmYjYyMjJhYTkxMmZjYWFhYzZiZDljMWE1MjYyNjYwM2YyNQ==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2010-07-09T21:00:08Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2010-07-09T21:00:08Z"}, "message": "configure.ac (gcc_cv_as_ix86_rep_lock_prefix): Fix test.\n\n        * configure.ac (gcc_cv_as_ix86_rep_lock_prefix): Fix test.\n        * configure: Regenerate.\n\nFrom-SVN: r162015", "tree": {"sha": "fcc14a696030e7258a52ca756fef8fdcd498f721", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fcc14a696030e7258a52ca756fef8fdcd498f721"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7085bfb6222aa912fcaaac6bd9c1a52626603f25", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7085bfb6222aa912fcaaac6bd9c1a52626603f25", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7085bfb6222aa912fcaaac6bd9c1a52626603f25", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7085bfb6222aa912fcaaac6bd9c1a52626603f25/comments", "author": null, "committer": null, "parents": [{"sha": "bb02177133880626b88e89c2d8bd9e7dcc74e107", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bb02177133880626b88e89c2d8bd9e7dcc74e107", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bb02177133880626b88e89c2d8bd9e7dcc74e107"}], "stats": {"total": 21, "additions": 12, "deletions": 9}, "files": [{"sha": "85050b91c21faa0dcf4a24e57e855801fc5c5290", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7085bfb6222aa912fcaaac6bd9c1a52626603f25/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7085bfb6222aa912fcaaac6bd9c1a52626603f25/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7085bfb6222aa912fcaaac6bd9c1a52626603f25", "patch": "@@ -1,3 +1,8 @@\n+2010-07-09  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\t* configure.ac (gcc_cv_as_ix86_rep_lock_prefix): Fix test.\n+\t* configure: Regenerate.\n+\n 2010-07-09  Jakub Jelinek  <jakub@redhat.com>\n \t    Denys Vlasenko  <dvlasenk@redhat.com>\n \t    Bernhard Reutner-Fischer  <aldot@gcc.gnu.org>\n@@ -44,7 +49,7 @@\n \n \t* tree.c (type_hash_if_marked_p): Removed non-ggc_marked_p clause.\n \n-2010-07-09  Hariharan Sandanagobalane <hariharan@picochip.com>\n+2010-07-09  Hariharan Sandanagobalane  <hariharan@picochip.com>\n \n \t* config/picochip/picochip.md (commsTestPort): Emit more\n \tefficient sequence for tstport instruction."}, {"sha": "bf537ecf502b1cab1a36ac8f37777373fb32ba35", "filename": "gcc/configure", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7085bfb6222aa912fcaaac6bd9c1a52626603f25/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7085bfb6222aa912fcaaac6bd9c1a52626603f25/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=7085bfb6222aa912fcaaac6bd9c1a52626603f25", "patch": "@@ -23356,12 +23356,11 @@ else\n fi\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $gcc_cv_as_ix86_rep_lock_prefix\" >&5\n $as_echo \"$gcc_cv_as_ix86_rep_lock_prefix\" >&6; }\n+if test $gcc_cv_as_ix86_rep_lock_prefix = yes; then\n \n+$as_echo \"#define HAVE_AS_IX86_REP_LOCK_PREFIX 1\" >>confdefs.h\n \n-cat >>confdefs.h <<_ACEOF\n-#define HAVE_AS_IX86_REP_LOCK_PREFIX `if test $gcc_cv_as_ix86_rep_lock_prefix = yes; then echo 1; else echo 0; fi`\n-_ACEOF\n-\n+fi\n \n     ;;\n "}, {"sha": "57aeac62468dc834cdfa8a29dcf490aa6e5a1061", "filename": "gcc/configure.ac", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7085bfb6222aa912fcaaac6bd9c1a52626603f25/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7085bfb6222aa912fcaaac6bd9c1a52626603f25/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=7085bfb6222aa912fcaaac6bd9c1a52626603f25", "patch": "@@ -3328,10 +3328,9 @@ foo:\tnop\n         gcc_cv_as_ix86_rep_lock_prefix,,,\n \t[rep movsl\n \t lock addl %edi, (%eax,%esi)\n-\t lock orl $0, (%esp)])\n-    AC_DEFINE_UNQUOTED(HAVE_AS_IX86_REP_LOCK_PREFIX,\n-      [`if test $gcc_cv_as_ix86_rep_lock_prefix = yes; then echo 1; else echo 0; fi`],\n-      [Define true if the assembler supports 'rep <insn>, lock <insn>'.])\n+\t lock orl $0, (%esp)],,\n+        [AC_DEFINE(HAVE_AS_IX86_REP_LOCK_PREFIX, 1,\n+          [Define if the assembler supports 'rep <insn>, lock <insn>'.])])\n \n     ;;\n "}]}