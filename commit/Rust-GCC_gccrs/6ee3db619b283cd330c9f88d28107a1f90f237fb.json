{"sha": "6ee3db619b283cd330c9f88d28107a1f90f237fb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmVlM2RiNjE5YjI4M2NkMzMwYzlmODhkMjgxMDdhMWY5MGYyMzdmYg==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@bitrange.com", "date": "2002-09-20T03:06:25Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2002-09-20T03:06:25Z"}, "message": "mmix.md (\"negdf2\"): Rewrite.\n\n\t* config/mmix/mmix.md (\"negdf2\"): Rewrite.\n\t(\"*expanded_negdf2\"): New.\n\nFrom-SVN: r57332", "tree": {"sha": "efd31f86a99ed9e398c49c538f5d9db14f66ac53", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/efd31f86a99ed9e398c49c538f5d9db14f66ac53"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6ee3db619b283cd330c9f88d28107a1f90f237fb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ee3db619b283cd330c9f88d28107a1f90f237fb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ee3db619b283cd330c9f88d28107a1f90f237fb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ee3db619b283cd330c9f88d28107a1f90f237fb/comments", "author": null, "committer": null, "parents": [{"sha": "e7a35dcc29ba93c9cdcd93c0c3b08bcced20309e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7a35dcc29ba93c9cdcd93c0c3b08bcced20309e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e7a35dcc29ba93c9cdcd93c0c3b08bcced20309e"}], "stats": {"total": 22, "additions": 18, "deletions": 4}, "files": [{"sha": "24967792239b9e9cd902fd8fbbad2b2a1644c494", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ee3db619b283cd330c9f88d28107a1f90f237fb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ee3db619b283cd330c9f88d28107a1f90f237fb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6ee3db619b283cd330c9f88d28107a1f90f237fb", "patch": "@@ -1,3 +1,8 @@\n+2002-09-20  Hans-Peter Nilsson  <hp@bitrange.com>\n+\n+\t* config/mmix/mmix.md (\"negdf2\"): Rewrite.\n+\t(\"*expanded_negdf2\"): New.\n+\n 2002-09-19  Jim Wilson  <wilson@redhat.com>\n \n \t* combine.c (simplify_set): When optimizing a subreg src with a"}, {"sha": "d234d8c9cb6041b5e8f25a91ddf02c26c159c1cb", "filename": "gcc/config/mmix/mmix.md", "status": "modified", "additions": 13, "deletions": 4, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ee3db619b283cd330c9f88d28107a1f90f237fb/gcc%2Fconfig%2Fmmix%2Fmmix.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ee3db619b283cd330c9f88d28107a1f90f237fb/gcc%2Fconfig%2Fmmix%2Fmmix.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmmix%2Fmmix.md?ref=6ee3db619b283cd330c9f88d28107a1f90f237fb", "patch": "@@ -348,13 +348,22 @@ DIVU %1,%1,%2\\;GET %0,:rR\\;NEGU %2,0,%0\\;CSNN %0,$255,%2\")\n   \"\"\n   \"NEGU %0,0,%1\")\n \n-;; FIXME: GCC should be able to synthesize this by itself as \"0.0 - x\".\n (define_expand \"negdf2\"\n+  [(parallel [(set (match_operand:DF 0 \"register_operand\" \"=r\")\n+                   (neg:DF (match_operand:DF 1 \"register_operand\" \"r\")))\n+              (use (match_dup 2))])]\n+  \"\"\n+{\n+  /* Emit bit-flipping sequence to be IEEE-safe wrt. -+0.  */\n+  operands[2] = force_reg (DImode, GEN_INT ((HOST_WIDE_INT) 1 << 63));\n+})\n+\n+(define_insn \"*expanded_negdf2\"\n   [(set (match_operand:DF 0 \"register_operand\" \"=r\")\n-\t(minus:DF (match_dup 2)\n-\t\t(match_operand:DF 1 \"register_operand\" \"r\")))]\n+        (neg:DF (match_operand:DF 1 \"register_operand\" \"r\")))\n+   (use (match_operand:DI 2 \"register_operand\" \"r\"))]\n   \"\"\n-  \"operands[2] = force_reg (DFmode, CONST0_RTX (DFmode));\")\n+  \"XOR %0,%1,%2\")\n \n ;; FIXME: define_expand for absdi2?\n "}]}