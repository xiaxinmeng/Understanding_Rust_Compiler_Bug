{"sha": "07af06f6a312afcedcf9ff51f77cf9daf43bc6fe", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDdhZjA2ZjZhMzEyYWZjZWRjZjlmZjUxZjc3Y2Y5ZGFmNDNiYzZmZQ==", "commit": {"author": {"name": "Paul Brook", "email": "paul@codesourcery.com", "date": "2005-09-16T03:26:37Z"}, "committer": {"name": "Paul Brook", "email": "pbrook@gcc.gnu.org", "date": "2005-09-16T03:26:37Z"}, "message": "re PR fortran/23906 (inappropriate branch condition in function \"transform_sections\" in \"dependency.c\")\n\n2005-09-16  Paul Brook  <paul@codesourcery.com>\n\n\tPR fortran/23906\nfortran/\n\t* dependency.c (transform_sections): Divide by correct value.\n\tElaborate comment.\ntestsuite/\n\t* gfortran.dg/dependency_1.f90: New test.\n\nFrom-SVN: r104339", "tree": {"sha": "df33b075c1a92e4ff5194491437569188263529b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/df33b075c1a92e4ff5194491437569188263529b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/07af06f6a312afcedcf9ff51f77cf9daf43bc6fe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07af06f6a312afcedcf9ff51f77cf9daf43bc6fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/07af06f6a312afcedcf9ff51f77cf9daf43bc6fe", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07af06f6a312afcedcf9ff51f77cf9daf43bc6fe/comments", "author": null, "committer": null, "parents": [{"sha": "3489ea0cb1ee05d7c65b5178cc9f382c1578f254", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3489ea0cb1ee05d7c65b5178cc9f382c1578f254", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3489ea0cb1ee05d7c65b5178cc9f382c1578f254"}], "stats": {"total": 26, "additions": 24, "deletions": 2}, "files": [{"sha": "fc3cfe378386ad0b555c8b918fbee2ba9c15e8cb", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07af06f6a312afcedcf9ff51f77cf9daf43bc6fe/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07af06f6a312afcedcf9ff51f77cf9daf43bc6fe/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=07af06f6a312afcedcf9ff51f77cf9daf43bc6fe", "patch": "@@ -1,3 +1,9 @@\n+2005-09-16  Paul Brook  <paul@codesourcery.com>\n+\n+\tPR fortran/23906\n+\t* dependency.c (transform_sections): Divide by correct value.\n+\tElaborate comment.\n+\n 2005-09-14  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/21875 Internal Unit Array I/O, NIST"}, {"sha": "b93808a2bcefd297872283315e2f7330d061d9ba", "filename": "gcc/fortran/dependency.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07af06f6a312afcedcf9ff51f77cf9daf43bc6fe/gcc%2Ffortran%2Fdependency.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07af06f6a312afcedcf9ff51f77cf9daf43bc6fe/gcc%2Ffortran%2Fdependency.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fdependency.c?ref=07af06f6a312afcedcf9ff51f77cf9daf43bc6fe", "patch": "@@ -392,7 +392,7 @@ get_deps (mpz_t x1, mpz_t x2, mpz_t y)\n }\n \n \n-/* Transforms a sections l and r such that \n+/* Perform the same linear transformation on sections l and r such that \n    (l_start:l_end:l_stride) -> (0:no_of_elements)\n    (r_start:r_end:r_stride) -> (X1:X2)\n    Where r_end is implicit as both sections must have the same number of\n@@ -434,7 +434,7 @@ transform_sections (mpz_t X1, mpz_t X2, mpz_t no_of_elements,\n     mpz_mul (X2, no_of_elements, r_stride->value.integer);\n \n   if (l_stride != NULL)\n-    mpz_cdiv_q (X2, X2, r_stride->value.integer);\n+    mpz_cdiv_q (X2, X2, l_stride->value.integer);\n   mpz_add (X2, X2, X1);\n \n   return 0;"}, {"sha": "c0a37445298a0902646f8280357dee337a44999f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07af06f6a312afcedcf9ff51f77cf9daf43bc6fe/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07af06f6a312afcedcf9ff51f77cf9daf43bc6fe/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=07af06f6a312afcedcf9ff51f77cf9daf43bc6fe", "patch": "@@ -1,3 +1,8 @@\n+2005-09-16  Paul Brook  <paul@codesourcery.com>\n+\n+\tPR fortran/23906\n+\t* gfortran.dg/dependency_1.f90: New test.\n+\n 2005-09-15  Mark Mitchell  <mark@codesourcery.com>\n \n \tPR c++/23896"}, {"sha": "5a5a898822d7700a1947b4638718f2a67b4bf824", "filename": "gcc/testsuite/gfortran.dg/dependency_1.f90", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07af06f6a312afcedcf9ff51f77cf9daf43bc6fe/gcc%2Ftestsuite%2Fgfortran.dg%2Fdependency_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07af06f6a312afcedcf9ff51f77cf9daf43bc6fe/gcc%2Ftestsuite%2Fgfortran.dg%2Fdependency_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fdependency_1.f90?ref=07af06f6a312afcedcf9ff51f77cf9daf43bc6fe", "patch": "@@ -0,0 +1,11 @@\n+! { dg-do compile }\n+! PR23906\n+! Dependency analysis was using the stride from the wrong expression and\n+! segfaulting\n+subroutine foo(a)\n+  real, dimension(:) :: a\n+\n+  a(1:3:2) = a(1:2) \n+  a(1:2) = a(1:3:2) \n+end subroutine\n+"}]}