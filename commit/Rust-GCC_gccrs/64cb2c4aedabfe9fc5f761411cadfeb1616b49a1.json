{"sha": "64cb2c4aedabfe9fc5f761411cadfeb1616b49a1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjRjYjJjNGFlZGFiZmU5ZmM1Zjc2MTQxMWNhZGZlYjE2MTZiNDlhMQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@suse.de", "date": "2004-01-09T10:09:31Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2004-01-09T10:09:31Z"}, "message": "allocator.cc: Demangle typeid(obj).name().\n\n2004-01-09  Paolo Carlini  <pcarlini@suse.de>\n\n\t* testsuite/performance/allocator.cc: Demangle typeid(obj).name().\n\t* testsuite/performance/allocator_thread.cc: Likewise.\n\nFrom-SVN: r75571", "tree": {"sha": "431d69005fdccc771f222d68f742b2cfdc217f7c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/431d69005fdccc771f222d68f742b2cfdc217f7c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/64cb2c4aedabfe9fc5f761411cadfeb1616b49a1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64cb2c4aedabfe9fc5f761411cadfeb1616b49a1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/64cb2c4aedabfe9fc5f761411cadfeb1616b49a1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64cb2c4aedabfe9fc5f761411cadfeb1616b49a1/comments", "author": null, "committer": null, "parents": [{"sha": "bbe4ef89218e5ff3352a465107b19794dca91d9d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbe4ef89218e5ff3352a465107b19794dca91d9d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bbe4ef89218e5ff3352a465107b19794dca91d9d"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "ba2a6e90d4dd97e86f8b0f84407f1e2ec28450d3", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/64cb2c4aedabfe9fc5f761411cadfeb1616b49a1/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/64cb2c4aedabfe9fc5f761411cadfeb1616b49a1/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=64cb2c4aedabfe9fc5f761411cadfeb1616b49a1", "patch": "@@ -1,3 +1,8 @@\n+2004-01-09  Paolo Carlini  <pcarlini@suse.de>\n+\n+\t* testsuite/performance/allocator.cc: Demangle typeid(obj).name().\n+\t* testsuite/performance/allocator_thread.cc: Likewise.\n+\n 2004-01-07  Benjamin Kosnik  <bkoz@redhat.com>\n \n \t* crossconfig.m4: Add LFS, io bits to linux cross config."}, {"sha": "88314a13bef497aae978224d7fe719193d026e18", "filename": "libstdc++-v3/testsuite/performance/allocator.cc", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/64cb2c4aedabfe9fc5f761411cadfeb1616b49a1/libstdc%2B%2B-v3%2Ftestsuite%2Fperformance%2Fallocator.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/64cb2c4aedabfe9fc5f761411cadfeb1616b49a1/libstdc%2B%2B-v3%2Ftestsuite%2Fperformance%2Fallocator.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fperformance%2Fallocator.cc?ref=64cb2c4aedabfe9fc5f761411cadfeb1616b49a1", "patch": "@@ -39,6 +39,7 @@\n #include <sstream>\n #include <ext/mt_allocator.h>\n #include <ext/malloc_allocator.h>\n+#include <cxxabi.h>\n #include <testsuite_performance.h>\n \n using namespace std;\n@@ -108,6 +109,7 @@ template<typename Container>\n   test_container(Container obj)\n   {\n     using namespace __gnu_test;\n+    int status;\n \n     time_counter time;\n     resource_counter resource;\n@@ -118,7 +120,8 @@ template<typename Container>\n  \n     std::ostringstream comment;\n     comment << \"iterations: \" << test_iterations << '\\t';\n-    comment << \"type: \" << typeid(obj).name();\n+    comment << \"type: \" << abi::__cxa_demangle(typeid(obj).name(),\n+\t\t\t\t\t       0, 0, &status);\n     report_header(__FILE__, comment.str());\n     report_performance(__FILE__, string(), time, resource);\n   }"}, {"sha": "98cf2b14291ad9f94abb51af560c4e9ec01f677c", "filename": "libstdc++-v3/testsuite/performance/allocator_thread.cc", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/64cb2c4aedabfe9fc5f761411cadfeb1616b49a1/libstdc%2B%2B-v3%2Ftestsuite%2Fperformance%2Fallocator_thread.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/64cb2c4aedabfe9fc5f761411cadfeb1616b49a1/libstdc%2B%2B-v3%2Ftestsuite%2Fperformance%2Fallocator_thread.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fperformance%2Fallocator_thread.cc?ref=64cb2c4aedabfe9fc5f761411cadfeb1616b49a1", "patch": "@@ -40,6 +40,7 @@\n #include <pthread.h>\n #include <ext/mt_allocator.h>\n #include <ext/malloc_allocator.h>\n+#include <cxxabi.h>\n #include <testsuite_performance.h>\n \n using namespace std;\n@@ -110,6 +111,8 @@ template<typename Container>\n   test_container(Container obj)\n   {\n     using namespace __gnu_test;\n+    int status;\n+\n     time_counter time;\n     resource_counter resource;\n \n@@ -131,7 +134,8 @@ template<typename Container>\n  \n     std::ostringstream comment;\n     comment << \"iterations: \" << iterations << '\\t';\n-    comment << \"type: \" << typeid(obj).name();\n+    comment << \"type: \" << abi::__cxa_demangle(typeid(obj).name(),\n+\t\t\t\t\t       0, 0, &status);\n     report_header(__FILE__, comment.str());\n     report_performance(__FILE__, string(), time, resource);\n   }"}]}