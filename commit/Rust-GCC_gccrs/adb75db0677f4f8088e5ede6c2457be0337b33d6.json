{"sha": "adb75db0677f4f8088e5ede6c2457be0337b33d6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWRiNzVkYjA2NzdmNGY4MDg4ZTVlZGU2YzI0NTdiZTAzMzdiMzNkNg==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@CeBiTec.Uni-Bielefeld.DE", "date": "2011-01-06T19:00:10Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2011-01-06T19:00:10Z"}, "message": "re PR target/38118 (gcc emits non-TLS data as TLS on Solaris 11/SPARC)\n\n\tPR target/38118\n\t* config/sol2.h (ASM_OUTPUT_ALIGNED_COMMON): Also switch to .bss\n\tif coming from .tdata.\n\t* config/i386/sol2-10.h (ASM_OUTPUT_ALIGNED_COMMON): Likewise.\n\nFrom-SVN: r168550", "tree": {"sha": "d902caf9f88f53ca1a1f35a536e5fbe3d5f0d74d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d902caf9f88f53ca1a1f35a536e5fbe3d5f0d74d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/adb75db0677f4f8088e5ede6c2457be0337b33d6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/adb75db0677f4f8088e5ede6c2457be0337b33d6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/adb75db0677f4f8088e5ede6c2457be0337b33d6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/adb75db0677f4f8088e5ede6c2457be0337b33d6/comments", "author": {"login": "rorth", "id": 3930951, "node_id": "MDQ6VXNlcjM5MzA5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rorth", "html_url": "https://github.com/rorth", "followers_url": "https://api.github.com/users/rorth/followers", "following_url": "https://api.github.com/users/rorth/following{/other_user}", "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rorth/subscriptions", "organizations_url": "https://api.github.com/users/rorth/orgs", "repos_url": "https://api.github.com/users/rorth/repos", "events_url": "https://api.github.com/users/rorth/events{/privacy}", "received_events_url": "https://api.github.com/users/rorth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "74b51535c945900d75dd21fa6b551eeb6f46bed6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74b51535c945900d75dd21fa6b551eeb6f46bed6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/74b51535c945900d75dd21fa6b551eeb6f46bed6"}], "stats": {"total": 15, "additions": 10, "deletions": 5}, "files": [{"sha": "4f8b20b1de8539c1abadcfb86c21140aeb4bc153", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/adb75db0677f4f8088e5ede6c2457be0337b33d6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/adb75db0677f4f8088e5ede6c2457be0337b33d6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=adb75db0677f4f8088e5ede6c2457be0337b33d6", "patch": "@@ -1,3 +1,10 @@\n+2011-01-06  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\tPR target/38118\n+\t* config/sol2.h (ASM_OUTPUT_ALIGNED_COMMON): Also switch to .bss\n+\tif coming from .tdata.\n+\t* config/i386/sol2-10.h (ASM_OUTPUT_ALIGNED_COMMON): Likewise.\n+\n 2011-01-06  Jan Hubicka  <jh@suse.cz>\n \n \tPR lto/47188"}, {"sha": "e8f9dbaab2ec5a59313376c7b21df213cb0d7095", "filename": "gcc/config/i386/sol2-10.h", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/adb75db0677f4f8088e5ede6c2457be0337b33d6/gcc%2Fconfig%2Fi386%2Fsol2-10.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/adb75db0677f4f8088e5ede6c2457be0337b33d6/gcc%2Fconfig%2Fi386%2Fsol2-10.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fsol2-10.h?ref=adb75db0677f4f8088e5ede6c2457be0337b33d6", "patch": "@@ -58,8 +58,7 @@ along with GCC; see the file COPYING3.  If not see\n     {\t\t\t\t\t\t\t\t\t\\\n       if (TARGET_SUN_TLS\t\t\t\t\t\t\\\n \t  && in_section\t\t\t\t\t\t\t\\\n-\t  && ((in_section->common.flags & (SECTION_TLS | SECTION_BSS))\t\\\n-\t      == (SECTION_TLS | SECTION_BSS)))\t\t\t\t\\\n+\t  && ((in_section->common.flags & SECTION_TLS) == SECTION_TLS))\t\\\n \tswitch_to_section (bss_section);\t\t\t\t\\\n       x86_elf_aligned_common (FILE, NAME, SIZE, ALIGN);\t\t\t\\\n     }\t\t\t\t\t\t\t\t\t\\"}, {"sha": "aace5247609b0304453070fbaaabeb1278bcf138", "filename": "gcc/config/sol2.h", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/adb75db0677f4f8088e5ede6c2457be0337b33d6/gcc%2Fconfig%2Fsol2.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/adb75db0677f4f8088e5ede6c2457be0337b33d6/gcc%2Fconfig%2Fsol2.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsol2.h?ref=adb75db0677f4f8088e5ede6c2457be0337b33d6", "patch": "@@ -277,16 +277,15 @@ __enable_execute_stack (void *addr)\t\t\t\t\t\\\n     }\t\t\t\t\t\t\t\t\\\n   while (0)\n \n-/* Solaris 'as' has a bug: a .common directive in .tbss section\n+/* Solaris 'as' has a bug: a .common directive in .tbss or .tdata section\n    behaves as .tls_common rather than normal non-TLS .common.  */\n #undef  ASM_OUTPUT_ALIGNED_COMMON\n #define ASM_OUTPUT_ALIGNED_COMMON(FILE, NAME, SIZE, ALIGN)\t\t\\\n   do\t\t\t\t\t\t\t\t\t\\\n     {\t\t\t\t\t\t\t\t\t\\\n       if (TARGET_SUN_TLS\t\t\t\t\t\t\\\n \t  && in_section\t\t\t\t\t\t\t\\\n-\t  && ((in_section->common.flags & (SECTION_TLS | SECTION_BSS))\t\\\n-\t      == (SECTION_TLS | SECTION_BSS)))\t\t\t\t\\\n+\t  && ((in_section->common.flags & SECTION_TLS) == SECTION_TLS))\t\\\n \tswitch_to_section (bss_section);\t\t\t\t\\\n       fprintf ((FILE), \"%s\", COMMON_ASM_OP);\t\t\t\t\\\n       assemble_name ((FILE), (NAME));\t\t\t\t\t\\"}]}