{"sha": "43c626f04fef67a60ada8310f0479391fa918dff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDNjNjI2ZjA0ZmVmNjdhNjBhZGE4MzEwZjA0NzkzOTFmYTkxOGRmZg==", "commit": {"author": {"name": "Georg-Johann Lay", "email": "avr@gjlay.de", "date": "2012-02-29T12:14:48Z"}, "committer": {"name": "Georg-Johann Lay", "email": "gjl@gcc.gnu.org", "date": "2012-02-29T12:14:48Z"}, "message": "avr.c: Move definition of TARGET macros to end of file.\n\n\t* config/avr/avr.c: Move definition of TARGET macros to end of file.\n\nFrom-SVN: r184661", "tree": {"sha": "3dbd4a7160c3c62bdf212155e16be2cddeea0b1a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3dbd4a7160c3c62bdf212155e16be2cddeea0b1a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/43c626f04fef67a60ada8310f0479391fa918dff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/43c626f04fef67a60ada8310f0479391fa918dff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/43c626f04fef67a60ada8310f0479391fa918dff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/43c626f04fef67a60ada8310f0479391fa918dff/comments", "author": null, "committer": {"login": "sprintersb", "id": 8905355, "node_id": "MDQ6VXNlcjg5MDUzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/8905355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sprintersb", "html_url": "https://github.com/sprintersb", "followers_url": "https://api.github.com/users/sprintersb/followers", "following_url": "https://api.github.com/users/sprintersb/following{/other_user}", "gists_url": "https://api.github.com/users/sprintersb/gists{/gist_id}", "starred_url": "https://api.github.com/users/sprintersb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sprintersb/subscriptions", "organizations_url": "https://api.github.com/users/sprintersb/orgs", "repos_url": "https://api.github.com/users/sprintersb/repos", "events_url": "https://api.github.com/users/sprintersb/events{/privacy}", "received_events_url": "https://api.github.com/users/sprintersb/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "208486094c513ef53ad5d4679286cea9aafe6dd5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/208486094c513ef53ad5d4679286cea9aafe6dd5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/208486094c513ef53ad5d4679286cea9aafe6dd5"}], "stats": {"total": 270, "additions": 138, "deletions": 132}, "files": [{"sha": "0e032a8eb7aab7fea76c5bf30400c6a90c507724", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43c626f04fef67a60ada8310f0479391fa918dff/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43c626f04fef67a60ada8310f0479391fa918dff/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=43c626f04fef67a60ada8310f0479391fa918dff", "patch": "@@ -1,3 +1,7 @@\n+2012-02-29  Georg-Johann Lay  <avr@gjlay.de>\n+\n+\t* config/avr/avr.c: Move definition of TARGET macros to end of file.\n+\n 2012-02-29  Georg-Johann Lay  <avr@gjlay.de>\n \n \t* config/avr/avr-protos.h (avr_output_bld): Remove unused prototype."}, {"sha": "73afc480584cb43e7f066a9ae5d96dc14a066660", "filename": "gcc/config/avr/avr.c", "status": "modified", "additions": 134, "deletions": 132, "changes": 266, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43c626f04fef67a60ada8310f0479391fa918dff/gcc%2Fconfig%2Favr%2Favr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43c626f04fef67a60ada8310f0479391fa918dff/gcc%2Fconfig%2Favr%2Favr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Favr%2Favr.c?ref=43c626f04fef67a60ada8310f0479391fa918dff", "patch": "@@ -224,137 +224,6 @@ bool avr_have_dimode = true;\n bool avr_need_clear_bss_p = false;\n bool avr_need_copy_data_p = false;\n \n-\f\n-/* Initialize the GCC target structure.  */\n-#undef TARGET_ASM_ALIGNED_HI_OP\n-#define TARGET_ASM_ALIGNED_HI_OP \"\\t.word\\t\"\n-#undef TARGET_ASM_ALIGNED_SI_OP\n-#define TARGET_ASM_ALIGNED_SI_OP \"\\t.long\\t\"\n-#undef TARGET_ASM_UNALIGNED_HI_OP\n-#define TARGET_ASM_UNALIGNED_HI_OP \"\\t.word\\t\"\n-#undef TARGET_ASM_UNALIGNED_SI_OP\n-#define TARGET_ASM_UNALIGNED_SI_OP \"\\t.long\\t\"\n-#undef TARGET_ASM_INTEGER\n-#define TARGET_ASM_INTEGER avr_assemble_integer\n-#undef TARGET_ASM_FILE_START\n-#define TARGET_ASM_FILE_START avr_file_start\n-#undef TARGET_ASM_FILE_END\n-#define TARGET_ASM_FILE_END avr_file_end\n-\n-#undef TARGET_ASM_FUNCTION_END_PROLOGUE\n-#define TARGET_ASM_FUNCTION_END_PROLOGUE avr_asm_function_end_prologue\n-#undef TARGET_ASM_FUNCTION_BEGIN_EPILOGUE\n-#define TARGET_ASM_FUNCTION_BEGIN_EPILOGUE avr_asm_function_begin_epilogue\n-\n-#undef TARGET_FUNCTION_VALUE\n-#define TARGET_FUNCTION_VALUE avr_function_value\n-#undef TARGET_LIBCALL_VALUE\n-#define TARGET_LIBCALL_VALUE avr_libcall_value\n-#undef TARGET_FUNCTION_VALUE_REGNO_P\n-#define TARGET_FUNCTION_VALUE_REGNO_P avr_function_value_regno_p\n-\n-#undef TARGET_ATTRIBUTE_TABLE\n-#define TARGET_ATTRIBUTE_TABLE avr_attribute_table\n-#undef TARGET_INSERT_ATTRIBUTES\n-#define TARGET_INSERT_ATTRIBUTES avr_insert_attributes\n-#undef TARGET_SECTION_TYPE_FLAGS\n-#define TARGET_SECTION_TYPE_FLAGS avr_section_type_flags\n-\n-#undef TARGET_ASM_NAMED_SECTION\n-#define TARGET_ASM_NAMED_SECTION avr_asm_named_section\n-#undef TARGET_ASM_INIT_SECTIONS\n-#define TARGET_ASM_INIT_SECTIONS avr_asm_init_sections\n-#undef TARGET_ENCODE_SECTION_INFO\n-#define TARGET_ENCODE_SECTION_INFO avr_encode_section_info\n-#undef TARGET_ASM_SELECT_SECTION\n-#define TARGET_ASM_SELECT_SECTION avr_asm_select_section\n-\n-#undef TARGET_REGISTER_MOVE_COST\n-#define TARGET_REGISTER_MOVE_COST avr_register_move_cost\n-#undef TARGET_MEMORY_MOVE_COST\n-#define TARGET_MEMORY_MOVE_COST avr_memory_move_cost\n-#undef TARGET_RTX_COSTS\n-#define TARGET_RTX_COSTS avr_rtx_costs\n-#undef TARGET_ADDRESS_COST\n-#define TARGET_ADDRESS_COST avr_address_cost\n-#undef TARGET_MACHINE_DEPENDENT_REORG\n-#define TARGET_MACHINE_DEPENDENT_REORG avr_reorg\n-#undef TARGET_FUNCTION_ARG\n-#define TARGET_FUNCTION_ARG avr_function_arg\n-#undef TARGET_FUNCTION_ARG_ADVANCE\n-#define TARGET_FUNCTION_ARG_ADVANCE avr_function_arg_advance\n-\n-#undef TARGET_RETURN_IN_MEMORY\n-#define TARGET_RETURN_IN_MEMORY avr_return_in_memory\n-\n-#undef TARGET_STRICT_ARGUMENT_NAMING\n-#define TARGET_STRICT_ARGUMENT_NAMING hook_bool_CUMULATIVE_ARGS_true\n-\n-#undef TARGET_BUILTIN_SETJMP_FRAME_VALUE\n-#define TARGET_BUILTIN_SETJMP_FRAME_VALUE avr_builtin_setjmp_frame_value\n-\n-#undef TARGET_HARD_REGNO_SCRATCH_OK\n-#define TARGET_HARD_REGNO_SCRATCH_OK avr_hard_regno_scratch_ok\n-#undef TARGET_CASE_VALUES_THRESHOLD\n-#define TARGET_CASE_VALUES_THRESHOLD avr_case_values_threshold\n-\n-#undef TARGET_FRAME_POINTER_REQUIRED\n-#define TARGET_FRAME_POINTER_REQUIRED avr_frame_pointer_required_p\n-#undef TARGET_CAN_ELIMINATE\n-#define TARGET_CAN_ELIMINATE avr_can_eliminate\n-\n-#undef TARGET_CLASS_LIKELY_SPILLED_P\n-#define TARGET_CLASS_LIKELY_SPILLED_P avr_class_likely_spilled_p\n-\n-#undef TARGET_OPTION_OVERRIDE\n-#define TARGET_OPTION_OVERRIDE avr_option_override\n-\n-#undef TARGET_CANNOT_MODIFY_JUMPS_P\n-#define TARGET_CANNOT_MODIFY_JUMPS_P avr_cannot_modify_jumps_p\n-\n-#undef TARGET_FUNCTION_OK_FOR_SIBCALL\n-#define TARGET_FUNCTION_OK_FOR_SIBCALL avr_function_ok_for_sibcall\n-\n-#undef TARGET_INIT_BUILTINS\n-#define TARGET_INIT_BUILTINS avr_init_builtins\n-\n-#undef TARGET_EXPAND_BUILTIN\n-#define TARGET_EXPAND_BUILTIN avr_expand_builtin\n-\n-#undef  TARGET_FOLD_BUILTIN\n-#define TARGET_FOLD_BUILTIN avr_fold_builtin\n-\n-#undef TARGET_ASM_FUNCTION_RODATA_SECTION\n-#define TARGET_ASM_FUNCTION_RODATA_SECTION avr_asm_function_rodata_section\n-\n-#undef  TARGET_SCALAR_MODE_SUPPORTED_P\n-#define TARGET_SCALAR_MODE_SUPPORTED_P avr_scalar_mode_supported_p\n-\n-#undef  TARGET_ADDR_SPACE_SUBSET_P\n-#define TARGET_ADDR_SPACE_SUBSET_P avr_addr_space_subset_p\n-\n-#undef  TARGET_ADDR_SPACE_CONVERT\n-#define TARGET_ADDR_SPACE_CONVERT avr_addr_space_convert\n-\n-#undef  TARGET_ADDR_SPACE_ADDRESS_MODE\n-#define TARGET_ADDR_SPACE_ADDRESS_MODE avr_addr_space_address_mode\n-\n-#undef  TARGET_ADDR_SPACE_POINTER_MODE\n-#define TARGET_ADDR_SPACE_POINTER_MODE avr_addr_space_pointer_mode\n-\n-#undef  TARGET_ADDR_SPACE_LEGITIMATE_ADDRESS_P\n-#define TARGET_ADDR_SPACE_LEGITIMATE_ADDRESS_P avr_addr_space_legitimate_address_p\n-\n-#undef TARGET_ADDR_SPACE_LEGITIMIZE_ADDRESS\n-#define TARGET_ADDR_SPACE_LEGITIMIZE_ADDRESS avr_addr_space_legitimize_address\n-\n-#undef  TARGET_PRINT_OPERAND\n-#define TARGET_PRINT_OPERAND avr_print_operand\n-#undef  TARGET_PRINT_OPERAND_ADDRESS\n-#define TARGET_PRINT_OPERAND_ADDRESS avr_print_operand_address\n-#undef  TARGET_PRINT_OPERAND_PUNCT_VALID_P\n-#define TARGET_PRINT_OPERAND_PUNCT_VALID_P avr_print_operand_punct_valid_p\n-\n \f\n \n /* Custom function to count number of set bits.  */\n@@ -10998,8 +10867,141 @@ avr_fold_builtin (tree fndecl, int n_args ATTRIBUTE_UNUSED, tree *arg,\n   return NULL_TREE;\n }\n \n-\n \f\n+\n+/* Initialize the GCC target structure.  */\n+\n+#undef  TARGET_ASM_ALIGNED_HI_OP\n+#define TARGET_ASM_ALIGNED_HI_OP \"\\t.word\\t\"\n+#undef  TARGET_ASM_ALIGNED_SI_OP\n+#define TARGET_ASM_ALIGNED_SI_OP \"\\t.long\\t\"\n+#undef  TARGET_ASM_UNALIGNED_HI_OP\n+#define TARGET_ASM_UNALIGNED_HI_OP \"\\t.word\\t\"\n+#undef  TARGET_ASM_UNALIGNED_SI_OP\n+#define TARGET_ASM_UNALIGNED_SI_OP \"\\t.long\\t\"\n+#undef  TARGET_ASM_INTEGER\n+#define TARGET_ASM_INTEGER avr_assemble_integer\n+#undef  TARGET_ASM_FILE_START\n+#define TARGET_ASM_FILE_START avr_file_start\n+#undef  TARGET_ASM_FILE_END\n+#define TARGET_ASM_FILE_END avr_file_end\n+\n+#undef  TARGET_ASM_FUNCTION_END_PROLOGUE\n+#define TARGET_ASM_FUNCTION_END_PROLOGUE avr_asm_function_end_prologue\n+#undef  TARGET_ASM_FUNCTION_BEGIN_EPILOGUE\n+#define TARGET_ASM_FUNCTION_BEGIN_EPILOGUE avr_asm_function_begin_epilogue\n+\n+#undef  TARGET_FUNCTION_VALUE\n+#define TARGET_FUNCTION_VALUE avr_function_value\n+#undef  TARGET_LIBCALL_VALUE\n+#define TARGET_LIBCALL_VALUE avr_libcall_value\n+#undef  TARGET_FUNCTION_VALUE_REGNO_P\n+#define TARGET_FUNCTION_VALUE_REGNO_P avr_function_value_regno_p\n+\n+#undef  TARGET_ATTRIBUTE_TABLE\n+#define TARGET_ATTRIBUTE_TABLE avr_attribute_table\n+#undef  TARGET_INSERT_ATTRIBUTES\n+#define TARGET_INSERT_ATTRIBUTES avr_insert_attributes\n+#undef  TARGET_SECTION_TYPE_FLAGS\n+#define TARGET_SECTION_TYPE_FLAGS avr_section_type_flags\n+\n+#undef  TARGET_ASM_NAMED_SECTION\n+#define TARGET_ASM_NAMED_SECTION avr_asm_named_section\n+#undef  TARGET_ASM_INIT_SECTIONS\n+#define TARGET_ASM_INIT_SECTIONS avr_asm_init_sections\n+#undef  TARGET_ENCODE_SECTION_INFO\n+#define TARGET_ENCODE_SECTION_INFO avr_encode_section_info\n+#undef  TARGET_ASM_SELECT_SECTION\n+#define TARGET_ASM_SELECT_SECTION avr_asm_select_section\n+\n+#undef  TARGET_REGISTER_MOVE_COST\n+#define TARGET_REGISTER_MOVE_COST avr_register_move_cost\n+#undef  TARGET_MEMORY_MOVE_COST\n+#define TARGET_MEMORY_MOVE_COST avr_memory_move_cost\n+#undef  TARGET_RTX_COSTS\n+#define TARGET_RTX_COSTS avr_rtx_costs\n+#undef  TARGET_ADDRESS_COST\n+#define TARGET_ADDRESS_COST avr_address_cost\n+#undef  TARGET_MACHINE_DEPENDENT_REORG\n+#define TARGET_MACHINE_DEPENDENT_REORG avr_reorg\n+#undef  TARGET_FUNCTION_ARG\n+#define TARGET_FUNCTION_ARG avr_function_arg\n+#undef  TARGET_FUNCTION_ARG_ADVANCE\n+#define TARGET_FUNCTION_ARG_ADVANCE avr_function_arg_advance\n+\n+#undef  TARGET_RETURN_IN_MEMORY\n+#define TARGET_RETURN_IN_MEMORY avr_return_in_memory\n+\n+#undef  TARGET_STRICT_ARGUMENT_NAMING\n+#define TARGET_STRICT_ARGUMENT_NAMING hook_bool_CUMULATIVE_ARGS_true\n+\n+#undef  TARGET_BUILTIN_SETJMP_FRAME_VALUE\n+#define TARGET_BUILTIN_SETJMP_FRAME_VALUE avr_builtin_setjmp_frame_value\n+\n+#undef  TARGET_HARD_REGNO_SCRATCH_OK\n+#define TARGET_HARD_REGNO_SCRATCH_OK avr_hard_regno_scratch_ok\n+#undef  TARGET_CASE_VALUES_THRESHOLD\n+#define TARGET_CASE_VALUES_THRESHOLD avr_case_values_threshold\n+\n+#undef  TARGET_FRAME_POINTER_REQUIRED\n+#define TARGET_FRAME_POINTER_REQUIRED avr_frame_pointer_required_p\n+#undef  TARGET_CAN_ELIMINATE\n+#define TARGET_CAN_ELIMINATE avr_can_eliminate\n+\n+#undef  TARGET_CLASS_LIKELY_SPILLED_P\n+#define TARGET_CLASS_LIKELY_SPILLED_P avr_class_likely_spilled_p\n+\n+#undef  TARGET_OPTION_OVERRIDE\n+#define TARGET_OPTION_OVERRIDE avr_option_override\n+\n+#undef  TARGET_CANNOT_MODIFY_JUMPS_P\n+#define TARGET_CANNOT_MODIFY_JUMPS_P avr_cannot_modify_jumps_p\n+\n+#undef  TARGET_FUNCTION_OK_FOR_SIBCALL\n+#define TARGET_FUNCTION_OK_FOR_SIBCALL avr_function_ok_for_sibcall\n+\n+#undef  TARGET_INIT_BUILTINS\n+#define TARGET_INIT_BUILTINS avr_init_builtins\n+\n+#undef  TARGET_EXPAND_BUILTIN\n+#define TARGET_EXPAND_BUILTIN avr_expand_builtin\n+\n+#undef  TARGET_FOLD_BUILTIN\n+#define TARGET_FOLD_BUILTIN avr_fold_builtin\n+\n+#undef  TARGET_ASM_FUNCTION_RODATA_SECTION\n+#define TARGET_ASM_FUNCTION_RODATA_SECTION avr_asm_function_rodata_section\n+\n+#undef  TARGET_SCALAR_MODE_SUPPORTED_P\n+#define TARGET_SCALAR_MODE_SUPPORTED_P avr_scalar_mode_supported_p\n+\n+#undef  TARGET_ADDR_SPACE_SUBSET_P\n+#define TARGET_ADDR_SPACE_SUBSET_P avr_addr_space_subset_p\n+\n+#undef  TARGET_ADDR_SPACE_CONVERT\n+#define TARGET_ADDR_SPACE_CONVERT avr_addr_space_convert\n+\n+#undef  TARGET_ADDR_SPACE_ADDRESS_MODE\n+#define TARGET_ADDR_SPACE_ADDRESS_MODE avr_addr_space_address_mode\n+\n+#undef  TARGET_ADDR_SPACE_POINTER_MODE\n+#define TARGET_ADDR_SPACE_POINTER_MODE avr_addr_space_pointer_mode\n+\n+#undef  TARGET_ADDR_SPACE_LEGITIMATE_ADDRESS_P\n+#define TARGET_ADDR_SPACE_LEGITIMATE_ADDRESS_P  \\\n+  avr_addr_space_legitimate_address_p\n+\n+#undef  TARGET_ADDR_SPACE_LEGITIMIZE_ADDRESS\n+#define TARGET_ADDR_SPACE_LEGITIMIZE_ADDRESS avr_addr_space_legitimize_address\n+\n+#undef  TARGET_PRINT_OPERAND\n+#define TARGET_PRINT_OPERAND avr_print_operand\n+#undef  TARGET_PRINT_OPERAND_ADDRESS\n+#define TARGET_PRINT_OPERAND_ADDRESS avr_print_operand_address\n+#undef  TARGET_PRINT_OPERAND_PUNCT_VALID_P\n+#define TARGET_PRINT_OPERAND_PUNCT_VALID_P avr_print_operand_punct_valid_p\n+\n struct gcc_target targetm = TARGET_INITIALIZER;\n \n+\f\n #include \"gt-avr.h\""}]}