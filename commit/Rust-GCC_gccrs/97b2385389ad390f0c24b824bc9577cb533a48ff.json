{"sha": "97b2385389ad390f0c24b824bc9577cb533a48ff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTdiMjM4NTM4OWFkMzkwZjBjMjRiODI0YmM5NTc3Y2I1MzNhNDhmZg==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@apple.com", "date": "2002-09-20T18:40:27Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2002-09-20T18:40:27Z"}, "message": "rs6000.h (ELIMINABLE_REGS): Use RS6000_PIC_OFFSET_TABLE_REGNUM rather than hardcoding 30.\n\n\t* config/rs6000/rs6000.h (ELIMINABLE_REGS): Use\n\tRS6000_PIC_OFFSET_TABLE_REGNUM rather than hardcoding 30.\n\t(CAN_ELIMINATE): Likewise.\n\t(INITIAL_ELIMINATION_OFFSET): Likewise.\n\t(TOC_REGISTER): Likewise.\n\nFrom-SVN: r57359", "tree": {"sha": "f6942e0b89004d33feeb94b7aa596be7a9d9be31", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f6942e0b89004d33feeb94b7aa596be7a9d9be31"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/97b2385389ad390f0c24b824bc9577cb533a48ff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97b2385389ad390f0c24b824bc9577cb533a48ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97b2385389ad390f0c24b824bc9577cb533a48ff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97b2385389ad390f0c24b824bc9577cb533a48ff/comments", "author": {"login": "geoffk01", "id": 31905243, "node_id": "MDQ6VXNlcjMxOTA1MjQz", "avatar_url": "https://avatars.githubusercontent.com/u/31905243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geoffk01", "html_url": "https://github.com/geoffk01", "followers_url": "https://api.github.com/users/geoffk01/followers", "following_url": "https://api.github.com/users/geoffk01/following{/other_user}", "gists_url": "https://api.github.com/users/geoffk01/gists{/gist_id}", "starred_url": "https://api.github.com/users/geoffk01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geoffk01/subscriptions", "organizations_url": "https://api.github.com/users/geoffk01/orgs", "repos_url": "https://api.github.com/users/geoffk01/repos", "events_url": "https://api.github.com/users/geoffk01/events{/privacy}", "received_events_url": "https://api.github.com/users/geoffk01/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "46b33600d57ae54591bccaa935d7d837b5318a19", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46b33600d57ae54591bccaa935d7d837b5318a19", "html_url": "https://github.com/Rust-GCC/gccrs/commit/46b33600d57ae54591bccaa935d7d837b5318a19"}], "stats": {"total": 23, "additions": 16, "deletions": 7}, "files": [{"sha": "59da95618ddccd1f4a3ee3c62ea604fa150b2185", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97b2385389ad390f0c24b824bc9577cb533a48ff/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97b2385389ad390f0c24b824bc9577cb533a48ff/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=97b2385389ad390f0c24b824bc9577cb533a48ff", "patch": "@@ -1,3 +1,11 @@\n+2002-09-20  Geoffrey Keating  <geoffk@apple.com>\n+\n+\t* config/rs6000/rs6000.h (ELIMINABLE_REGS): Use\n+\tRS6000_PIC_OFFSET_TABLE_REGNUM rather than hardcoding 30.\n+\t(CAN_ELIMINATE): Likewise.\n+\t(INITIAL_ELIMINATION_OFFSET): Likewise.\n+\t(TOC_REGISTER): Likewise.\n+\n 2002-09-20  Richard Henderson  <rth@redhat.com>\n \n \t* real.c (real_hash): New."}, {"sha": "b3f1faa780eb32541ec71282a11337f8791e7335", "filename": "gcc/config/rs6000/rs6000.h", "status": "modified", "additions": 8, "deletions": 7, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97b2385389ad390f0c24b824bc9577cb533a48ff/gcc%2Fconfig%2Frs6000%2Frs6000.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97b2385389ad390f0c24b824bc9577cb533a48ff/gcc%2Fconfig%2Frs6000%2Frs6000.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.h?ref=97b2385389ad390f0c24b824bc9577cb533a48ff", "patch": "@@ -1894,7 +1894,7 @@ typedef struct rs6000_args\n {{ FRAME_POINTER_REGNUM, STACK_POINTER_REGNUM},\t\\\n  { ARG_POINTER_REGNUM, STACK_POINTER_REGNUM},\t\\\n  { ARG_POINTER_REGNUM, FRAME_POINTER_REGNUM},\t\\\n- { 30, 30} }\n+ { RS6000_PIC_OFFSET_TABLE_REGNUM, RS6000_PIC_OFFSET_TABLE_REGNUM } }\n \n /* Given FROM and TO register numbers, say whether this elimination is allowed.\n    Frame pointer elimination is automatically handled.\n@@ -1905,10 +1905,11 @@ typedef struct rs6000_args\n    We need r30 if -mminimal-toc was specified, and there are constant pool\n    references.  */\n \n-#define CAN_ELIMINATE(FROM, TO)\t\t\t\t\t\\\n- ((FROM) == ARG_POINTER_REGNUM && (TO) == STACK_POINTER_REGNUM\t\\\n-  ? ! frame_pointer_needed\t\t\t\t\t\\\n-  : (FROM) == 30 ? ! TARGET_MINIMAL_TOC || TARGET_NO_TOC || get_pool_size () == 0 \\\n+#define CAN_ELIMINATE(FROM, TO)\t\t\t\t\t\t\\\n+ ((FROM) == ARG_POINTER_REGNUM && (TO) == STACK_POINTER_REGNUM\t\t\\\n+  ? ! frame_pointer_needed\t\t\t\t\t\t\\\n+  : (FROM) == RS6000_PIC_OFFSET_TABLE_REGNUM \t\t\t\t\\\n+  ? ! TARGET_MINIMAL_TOC || TARGET_NO_TOC || get_pool_size () == 0\t\\\n   : 1)\n \n /* Define the offset between two registers, one to be eliminated, and the other\n@@ -1923,7 +1924,7 @@ typedef struct rs6000_args\n    (OFFSET) = info->total_size;\t\t\t\t\t\t\\\n  else if ((FROM) == ARG_POINTER_REGNUM && (TO) == STACK_POINTER_REGNUM)\t\\\n    (OFFSET) = (info->push_p) ? info->total_size : 0;\t\t\t\\\n-  else if ((FROM) == 30)\t\t\t\t\t\t\\\n+  else if ((FROM) == RS6000_PIC_OFFSET_TABLE_REGNUM)\t\t\t\\\n     (OFFSET) = 0;\t\t\t\t\t\t\t\\\n   else\t\t\t\t\t\t\t\t\t\\\n     abort ();\t\t\t\t\t\t\t\t\\\n@@ -2188,7 +2189,7 @@ do {\t\t\t\t\t\t\t\t\t     \\\n #define RS6000_PIC_OFFSET_TABLE_REGNUM 30\n #define PIC_OFFSET_TABLE_REGNUM (flag_pic ? RS6000_PIC_OFFSET_TABLE_REGNUM : INVALID_REGNUM)\n \n-#define TOC_REGISTER (TARGET_MINIMAL_TOC ? 30 : 2)\n+#define TOC_REGISTER (TARGET_MINIMAL_TOC ? RS6000_PIC_OFFSET_TABLE_REGNUM : 2)\n \n /* Define this macro if the register defined by\n    `PIC_OFFSET_TABLE_REGNUM' is clobbered by calls.  Do not define"}]}