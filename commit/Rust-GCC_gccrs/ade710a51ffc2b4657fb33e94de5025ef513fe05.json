{"sha": "ade710a51ffc2b4657fb33e94de5025ef513fe05", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWRlNzEwYTUxZmZjMmI0NjU3ZmIzM2U5NGRlNTAyNWVmNTEzZmUwNQ==", "commit": {"author": {"name": "Thomas Fitzsimmons", "email": "fitzsim@redhat.com", "date": "2006-06-07T21:46:24Z"}, "committer": {"name": "Thomas Fitzsimmons", "email": "fitzsim@gcc.gnu.org", "date": "2006-06-07T21:46:24Z"}, "message": "makemake.tcl (emit_bc_rule): Do not skip gnu-java-awt-peer-qt.lo.\n\n2006-06-07  Thomas Fitzsimmons  <fitzsim@redhat.com>\n\n\t* scripts/makemake.tcl (emit_bc_rule): Do not skip\n\tgnu-java-awt-peer-qt.lo.\n\t* configure.ac (QT_AWT): Remove conditional.\n\tDo not add gnu/java/awt/peer/qt to standard.omit.\n\t* classpath/native/jni/qt-peer/Makefile.am: Install libqtpeer.so\n\tin GCJ's versioned library directory.\n\t* classpath/gnu/java/awt/peer/qt/QtToolkit.java (initToolkit):\n\tLoad libqtpeer.so unconditionally.\n\t* gij.cc (main): Do not re-exec gij.\n\t* Makefile.am: Remove lib-gnu-java-awt-peer-qt.lo build logic.\n\t(gij_LDFLAGS): Point -rpath at GCJ's versioned library directory\n\twhen linking gij.\n\nFrom-SVN: r114473", "tree": {"sha": "3059efcfea3de62c60cdca8f76c6d16830f5258a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3059efcfea3de62c60cdca8f76c6d16830f5258a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ade710a51ffc2b4657fb33e94de5025ef513fe05", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ade710a51ffc2b4657fb33e94de5025ef513fe05", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ade710a51ffc2b4657fb33e94de5025ef513fe05", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ade710a51ffc2b4657fb33e94de5025ef513fe05/comments", "author": null, "committer": null, "parents": [{"sha": "dd286892c4b4a6135ed6550ae8b710891f1806da", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd286892c4b4a6135ed6550ae8b710891f1806da", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd286892c4b4a6135ed6550ae8b710891f1806da"}], "stats": {"total": 8630, "additions": 3914, "deletions": 4716}, "files": [{"sha": "f2eef033c3b439f76157e7916409666a1f0beafb", "filename": "libjava/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=ade710a51ffc2b4657fb33e94de5025ef513fe05", "patch": "@@ -1,3 +1,18 @@\n+2006-06-07  Thomas Fitzsimmons  <fitzsim@redhat.com>\n+\n+\t* scripts/makemake.tcl (emit_bc_rule): Do not skip\n+\tgnu-java-awt-peer-qt.lo.\n+\t* configure.ac (QT_AWT): Remove conditional.\n+\tDo not add gnu/java/awt/peer/qt to standard.omit.\n+\t* classpath/native/jni/qt-peer/Makefile.am: Install libqtpeer.so\n+\tin GCJ's versioned library directory.\n+\t* classpath/gnu/java/awt/peer/qt/QtToolkit.java (initToolkit):\n+\tLoad libqtpeer.so unconditionally.\n+\t* gij.cc (main): Do not re-exec gij.\n+\t* Makefile.am: Remove lib-gnu-java-awt-peer-qt.lo build logic.\n+\t(gij_LDFLAGS): Point -rpath at GCJ's versioned library directory\n+\twhen linking gij.\n+\n 2006-06-06  David Daney  <ddaney@avtrex.com>\n \n \t* gnu/gcj/runtime/NameFinder.java (show_raw): New field."}, {"sha": "d3a637613d7d3b1b12b0dc8d6f0587f46d8858a7", "filename": "libjava/Makefile.am", "status": "modified", "additions": 2, "deletions": 17, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.am?ref=ade710a51ffc2b4657fb33e94de5025ef513fe05", "patch": "@@ -40,10 +40,6 @@ if XLIB_AWT\n toolexeclib_LTLIBRARIES += lib-gnu-awt-xlib.la\n endif\n \n-if QT_AWT\n-toolexeclib_LTLIBRARIES += lib-gnu-java-awt-peer-qt.la\n-endif\n-\n pkgconfigdir = $(libdir)/pkgconfig\n pkgconfig_DATA = libgcj.pc\n \n@@ -247,18 +243,6 @@ $(db_name): gcj-dbtool$(EXEEXT)\n ## not available.\n \t./gcj-dbtool -n $(db_name) || touch $(db_name)\n \n-lib_gnu_java_awt_peer_qt_la_SOURCES =\n-lib_gnu_java_awt_peer_qt_la_LIBADD = \\\n-\tgnu-java-awt-peer-qt.lo \\\n-\tclasspath/native/jni/qt-peer/libqtpeer.la\n-lib_gnu_java_awt_peer_qt_la_DEPENDENCIES = gnu-java-awt-peer-qt.lo \\\n-\tclasspath/native/jni/qt-peer/libqtpeer.la \\\n-\tlibgcj-$(gcc_version).jar libgcj.la libgcj.spec\n-## The mysterious backslash in the grep pattern is consumed by make.\n-lib_gnu_java_awt_peer_qt_la_LDFLAGS = \\\n-        -version-info `grep -v '^\\#' $(srcdir)/libtool-version` $(LIBGCJ_LD_SYMBOLIC) $(X_LIBS) -lXtst\n-lib_gnu_java_awt_peer_qt_la_LINK = $(LIBLINK)\n-\n lib_gnu_awt_xlib_la_SOURCES = $(xlib_nat_source_files)\n lib_gnu_awt_xlib_la_LIBADD = gnu/awt/xlib.lo gnu/gcj/xlib.lo\n lib_gnu_awt_xlib_la_DEPENDENCIES = libgcj-$(gcc_version).jar \\\n@@ -696,7 +680,8 @@ gij_SOURCES =\n ## We need -nodefaultlibs because we want to avoid gcj's `-lgcj'.  We\n ## need this because we are explicitly using libtool to link using the\n ## `.la' file.\n-gij_LDFLAGS = -rpath $(toolexeclibdir) -shared-libgcc $(THREADLDFLAGS)\n+gij_LDFLAGS = -rpath $(libdir)/gcj-$(gcc_version) -rpath $(toolexeclibdir) \\\n+\t-shared-libgcc $(THREADLDFLAGS)\n gij_LINK = $(GCJLINK)\n ## See jv_convert_LDADD.\n gij_LDADD = -L$(here)/.libs libgij.la"}, {"sha": "01b2ab7dbf4b8513437dde263ea4b662335facb9", "filename": "libjava/Makefile.in", "status": "modified", "additions": 34, "deletions": 60, "changes": 94, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=ade710a51ffc2b4657fb33e94de5025ef513fe05", "patch": "@@ -42,20 +42,19 @@ host_triplet = @host@\n target_triplet = @target@\n @TESTSUBDIR_TRUE@am__append_1 = testsuite\n @XLIB_AWT_TRUE@am__append_2 = lib-gnu-awt-xlib.la\n-@QT_AWT_TRUE@am__append_3 = lib-gnu-java-awt-peer-qt.la\n @NATIVE_TRUE@bin_PROGRAMS = jv-convert$(EXEEXT) gij$(EXEEXT) \\\n @NATIVE_TRUE@\tgrmic$(EXEEXT) grmiregistry$(EXEEXT) \\\n @NATIVE_TRUE@\tgcj-dbtool$(EXEEXT)\n-@BASH_JAR_TRUE@am__append_4 = scripts/jar\n-@USING_GCC_TRUE@am__append_5 = $(WARNINGS)\n-@USING_BOEHMGC_TRUE@am__append_6 = boehm.cc\n-@USING_NOGC_TRUE@am__append_7 = nogc.cc\n-@USING_POSIX_PLATFORM_TRUE@am__append_8 = posix.cc\n-@USING_WIN32_PLATFORM_TRUE@am__append_9 = win32.cc\n-@USING_DARWIN_CRT_TRUE@am__append_10 = darwin.cc\n-@USING_POSIX_THREADS_TRUE@am__append_11 = posix-threads.cc\n-@USING_WIN32_THREADS_TRUE@am__append_12 = win32-threads.cc\n-@USING_NO_THREADS_TRUE@am__append_13 = no-threads.cc\n+@BASH_JAR_TRUE@am__append_3 = scripts/jar\n+@USING_GCC_TRUE@am__append_4 = $(WARNINGS)\n+@USING_BOEHMGC_TRUE@am__append_5 = boehm.cc\n+@USING_NOGC_TRUE@am__append_6 = nogc.cc\n+@USING_POSIX_PLATFORM_TRUE@am__append_7 = posix.cc\n+@USING_WIN32_PLATFORM_TRUE@am__append_8 = win32.cc\n+@USING_DARWIN_CRT_TRUE@am__append_9 = darwin.cc\n+@USING_POSIX_THREADS_TRUE@am__append_10 = posix-threads.cc\n+@USING_WIN32_THREADS_TRUE@am__append_11 = win32-threads.cc\n+@USING_NO_THREADS_TRUE@am__append_12 = no-threads.cc\n DIST_COMMON = README $(am__configure_deps) $(srcdir)/../compile \\\n \t$(srcdir)/../config.guess $(srcdir)/../config.sub \\\n \t$(srcdir)/../depcomp $(srcdir)/../install-sh \\\n@@ -67,7 +66,7 @@ DIST_COMMON = README $(am__configure_deps) $(srcdir)/../compile \\\n \t$(top_srcdir)/scripts/jar.in COPYING ChangeLog NEWS THANKS\n @MAINTAINER_MODE_TRUE@@NATIVE_TRUE@noinst_PROGRAMS =  \\\n @MAINTAINER_MODE_TRUE@@NATIVE_TRUE@\tgen-from-JIS$(EXEEXT)\n-@XLIB_AWT_TRUE@am__append_14 = $(xlib_nat_headers)\n+@XLIB_AWT_TRUE@am__append_13 = $(xlib_nat_headers)\n subdir = .\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n am__aclocal_m4_deps = $(top_srcdir)/../config/acx.m4 \\\n@@ -135,11 +134,6 @@ am__objects_1 = gnu/gcj/xlib/lib_gnu_awt_xlib_la-natClip.lo \\\n am_lib_gnu_awt_xlib_la_OBJECTS = $(am__objects_1)\n lib_gnu_awt_xlib_la_OBJECTS = $(am_lib_gnu_awt_xlib_la_OBJECTS)\n @XLIB_AWT_TRUE@am_lib_gnu_awt_xlib_la_rpath = -rpath $(toolexeclibdir)\n-am_lib_gnu_java_awt_peer_qt_la_OBJECTS =\n-lib_gnu_java_awt_peer_qt_la_OBJECTS =  \\\n-\t$(am_lib_gnu_java_awt_peer_qt_la_OBJECTS)\n-@QT_AWT_TRUE@am_lib_gnu_java_awt_peer_qt_la_rpath = -rpath \\\n-@QT_AWT_TRUE@\t$(toolexeclibdir)\n am__DEPENDENCIES_1 = gnu/awt.lo gnu/awt/j2d.lo gnu/classpath.lo \\\n \tgnu/classpath/debug.lo gnu/classpath/jdwp.lo \\\n \tgnu/classpath/jdwp/event.lo \\\n@@ -241,10 +235,10 @@ am__DEPENDENCIES_1 = gnu/awt.lo gnu/awt/j2d.lo gnu/classpath.lo \\\n \tjavax/swing/undo.lo javax/transaction.lo \\\n \tjavax/transaction/xa.lo org/ietf/jgss.lo\n am__DEPENDENCIES_2 = gnu-CORBA.lo gnu-java-awt-peer-gtk.lo \\\n-\tgnu-java-awt-peer-swing.lo gnu-java-beans.lo gnu-javax-rmi.lo \\\n-\tgnu-javax-sound-midi.lo gnu-xml.lo javax-imageio.lo \\\n-\tjavax-rmi.lo javax-xml.lo org-omg.lo org-relaxng.lo org-w3c.lo \\\n-\torg-xml.lo\n+\tgnu-java-awt-peer-qt.lo gnu-java-awt-peer-swing.lo \\\n+\tgnu-java-beans.lo gnu-javax-rmi.lo gnu-javax-sound-midi.lo \\\n+\tgnu-xml.lo javax-imageio.lo javax-rmi.lo javax-xml.lo \\\n+\torg-omg.lo org-relaxng.lo org-w3c.lo org-xml.lo\n am__DEPENDENCIES_3 = $(patsubst classpath/resource/%,%,$(addsuffix \\\n \t.lo,$(property_files)))\n am__DEPENDENCIES_4 =\n@@ -392,13 +386,11 @@ GCJCOMPILE = $(GCJ) $(AM_GCJFLAGS) $(GCJFLAGS)\n LTGCJCOMPILE = $(LIBTOOL) --mode=compile $(GCJ) $(AM_GCJFLAGS) \\\n \t$(GCJFLAGS)\n GCJLD = $(GCJ)\n-SOURCES = $(lib_gnu_awt_xlib_la_SOURCES) \\\n-\t$(lib_gnu_java_awt_peer_qt_la_SOURCES) $(libgcj_la_SOURCES) \\\n+SOURCES = $(lib_gnu_awt_xlib_la_SOURCES) $(libgcj_la_SOURCES) \\\n \t$(libgij_la_SOURCES) $(gcj_dbtool_SOURCES) \\\n \t$(gen_from_JIS_SOURCES) $(gij_SOURCES) $(grmic_SOURCES) \\\n \t$(grmiregistry_SOURCES) $(jv_convert_SOURCES)\n DIST_SOURCES = $(lib_gnu_awt_xlib_la_SOURCES) \\\n-\t$(lib_gnu_java_awt_peer_qt_la_SOURCES) \\\n \t$(am__libgcj_la_SOURCES_DIST) $(libgij_la_SOURCES) \\\n \t$(gcj_dbtool_SOURCES) $(am__gen_from_JIS_SOURCES_DIST) \\\n \t$(gij_SOURCES) $(grmic_SOURCES) $(grmiregistry_SOURCES) \\\n@@ -480,7 +472,6 @@ GCSPEC = @GCSPEC@\n GCTESTSPEC = @GCTESTSPEC@\n GLIB_CFLAGS = @GLIB_CFLAGS@\n GLIB_LIBS = @GLIB_LIBS@\n-GREP = @GREP@\n GTK_CAIRO_FALSE = @GTK_CAIRO_FALSE@\n GTK_CAIRO_TRUE = @GTK_CAIRO_TRUE@\n GTK_CFLAGS = @GTK_CFLAGS@\n@@ -541,8 +532,6 @@ PATH_SEPARATOR = @PATH_SEPARATOR@\n PERL = @PERL@\n PKG_CONFIG = @PKG_CONFIG@\n PLATFORM_INNER_NAT_HDRS = @PLATFORM_INNER_NAT_HDRS@\n-QT_AWT_FALSE = @QT_AWT_FALSE@\n-QT_AWT_TRUE = @QT_AWT_TRUE@\n RANLIB = @RANLIB@\n SET_MAKE = @SET_MAKE@\n SHELL = @SHELL@\n@@ -581,7 +570,6 @@ USING_WIN32_THREADS_TRUE = @USING_WIN32_THREADS_TRUE@\n VERSION = @VERSION@\n XLIB_AWT_FALSE = @XLIB_AWT_FALSE@\n XLIB_AWT_TRUE = @XLIB_AWT_TRUE@\n-XMKMF = @XMKMF@\n X_CFLAGS = @X_CFLAGS@\n X_EXTRA_LIBS = @X_EXTRA_LIBS@\n X_LIBS = @X_LIBS@\n@@ -591,8 +579,14 @@ ZIP = @ZIP@\n ZLIBS = @ZLIBS@\n ZLIBSPEC = @ZLIBSPEC@\n ZLIBTESTSPEC = @ZLIBTESTSPEC@\n+ac_ct_AR = @ac_ct_AR@\n+ac_ct_AS = @ac_ct_AS@\n ac_ct_CC = @ac_ct_CC@\n ac_ct_CXX = @ac_ct_CXX@\n+ac_ct_GCJ = @ac_ct_GCJ@\n+ac_ct_LD = @ac_ct_LD@\n+ac_ct_RANLIB = @ac_ct_RANLIB@\n+ac_ct_STRIP = @ac_ct_STRIP@\n am__fastdepCC_FALSE = @am__fastdepCC_FALSE@\n am__fastdepCC_TRUE = @am__fastdepCC_TRUE@\n am__fastdepCXX_FALSE = @am__fastdepCXX_FALSE@\n@@ -612,10 +606,7 @@ build_os = @build_os@\n build_subdir = @build_subdir@\n build_vendor = @build_vendor@\n datadir = @datadir@\n-datarootdir = @datarootdir@\n dbexecdir = @dbexecdir@\n-docdir = @docdir@\n-dvidir = @dvidir@\n exec_prefix = @exec_prefix@\n extra_ldflags_libjava = @extra_ldflags_libjava@\n gxx_include_dir = @gxx_include_dir@\n@@ -626,24 +617,20 @@ host_cpu = @host_cpu@\n host_os = @host_os@\n host_subdir = @host_subdir@\n host_vendor = @host_vendor@\n-htmldir = @htmldir@\n includedir = @includedir@\n infodir = @infodir@\n install_sh = @install_sh@\n libdir = @libdir@\n libexecdir = @libexecdir@\n libgcj_basedir = @libgcj_basedir@\n libstdcxx_incdir = @libstdcxx_incdir@\n-localedir = @localedir@\n localstatedir = @localstatedir@\n mandir = @mandir@\n mkdir_p = @mkdir_p@\n mkinstalldirs = @mkinstalldirs@\n oldincludedir = @oldincludedir@\n-pdfdir = @pdfdir@\n prefix = @prefix@\n program_transform_name = @program_transform_name@\n-psdir = @psdir@\n sbindir = @sbindir@\n sharedstatedir = @sharedstatedir@\n subdirs = @subdirs@\n@@ -678,8 +665,7 @@ write_entries_to_file = $(shell rm -f $(2) || :) $(shell touch $(2)) $(foreach o\n \n # This is required by TL_AC_GXX_INCLUDE_DIR.\n libsubdir = $(libdir)/gcc/$(target_noncanonical)/$(gcc_version)\n-toolexeclib_LTLIBRARIES = libgcj.la libgij.la $(am__append_2) \\\n-\t$(am__append_3)\n+toolexeclib_LTLIBRARIES = libgcj.la libgij.la $(am__append_2)\n toolexecmainlib_DATA = libgcj.spec\n pkgconfigdir = $(libdir)/pkgconfig\n pkgconfig_DATA = libgcj.pc\n@@ -694,7 +680,7 @@ propdir = $(libdir)\n db_name = classmap.db\n db_pathtail = gcj-$(gcc_version)/$(db_name)\n @NATIVE_TRUE@dbexec_DATA = $(db_name)\n-bin_SCRIPTS = addr2name.awk $(am__append_4)\n+bin_SCRIPTS = addr2name.awk $(am__append_3)\n GCJ_WITH_FLAGS = $(GCJ) --encoding=UTF-8 -Wno-deprecated\n GCJLINK = $(LIBTOOL) --tag=GCJ --mode=link $(GCJ) -L$(here) $(JC1FLAGS) \\\n           $(LDFLAGS) -o $@\n@@ -732,7 +718,7 @@ AM_GCJFLAGS = \\\n \t--encoding=UTF-8 \\\n \t-Wno-deprecated -fbootstrap-classes\n \n-AM_CFLAGS = @LIBGCJ_CFLAGS@ $(am__append_5)\n+AM_CFLAGS = @LIBGCJ_CFLAGS@ $(am__append_4)\n PEDANTIC_CFLAGS = -ansi -pedantic -Wall -Wno-long-long\n JCFLAGS = -g\n JC1FLAGS = @LIBGCJ_JAVAFLAGS@ $(GCJFLAGS)\n@@ -756,10 +742,10 @@ libgij_la_LDFLAGS = -rpath $(toolexeclibdir) \\\n \n libgcj_la_SOURCES = prims.cc jni.cc exception.cc stacktrace.cc link.cc \\\n \tdefineclass.cc interpret.cc verify.cc java/lang/Class.java \\\n-\tjava/lang/Object.java $(nat_source_files) $(am__append_6) \\\n-\t$(am__append_7) $(am__append_8) $(am__append_9) \\\n-\t$(am__append_10) $(am__append_11) $(am__append_12) \\\n-\t$(am__append_13)\n+\tjava/lang/Object.java $(nat_source_files) $(am__append_5) \\\n+\t$(am__append_6) $(am__append_7) $(am__append_8) \\\n+\t$(am__append_9) $(am__append_10) $(am__append_11) \\\n+\t$(am__append_12)\n nat_files = $(nat_source_files:.cc=.lo)\n xlib_nat_files = $(xlib_nat_source_files:.cc=.lo)\n \n@@ -781,19 +767,6 @@ libgcj_la_DEPENDENCIES = libgcj-$(gcc_version).jar \\\n \t$(LIBLTDL) $(libgcj_la_LIBADD)\n \n libgcj_la_LINK = $(LIBLINK)\n-lib_gnu_java_awt_peer_qt_la_SOURCES = \n-lib_gnu_java_awt_peer_qt_la_LIBADD = \\\n-\tgnu-java-awt-peer-qt.lo \\\n-\tclasspath/native/jni/qt-peer/libqtpeer.la\n-\n-lib_gnu_java_awt_peer_qt_la_DEPENDENCIES = gnu-java-awt-peer-qt.lo \\\n-\tclasspath/native/jni/qt-peer/libqtpeer.la \\\n-\tlibgcj-$(gcc_version).jar libgcj.la libgcj.spec\n-\n-lib_gnu_java_awt_peer_qt_la_LDFLAGS = \\\n-        -version-info `grep -v '^\\#' $(srcdir)/libtool-version` $(LIBGCJ_LD_SYMBOLIC) $(X_LIBS) -lXtst\n-\n-lib_gnu_java_awt_peer_qt_la_LINK = $(LIBLINK)\n lib_gnu_awt_xlib_la_SOURCES = $(xlib_nat_source_files)\n lib_gnu_awt_xlib_la_LIBADD = gnu/awt/xlib.lo gnu/gcj/xlib.lo\n lib_gnu_awt_xlib_la_DEPENDENCIES = libgcj-$(gcc_version).jar \\\n@@ -6914,6 +6887,7 @@ ordinary_header_files = \\\n bc_objects = \\\n   gnu-CORBA.lo \\\n   gnu-java-awt-peer-gtk.lo \\\n+  gnu-java-awt-peer-qt.lo \\\n   gnu-java-awt-peer-swing.lo \\\n   gnu-java-beans.lo \\\n   gnu-javax-rmi.lo \\\n@@ -7002,7 +6976,9 @@ gcj_dbtool_LINK = $(GCJLINK)\n gcj_dbtool_LDADD = -L$(here)/.libs libgcj.la\n gcj_dbtool_DEPENDENCIES = libgcj.la libgcj.spec\n gij_SOURCES = \n-gij_LDFLAGS = -rpath $(toolexeclibdir) -shared-libgcc $(THREADLDFLAGS)\n+gij_LDFLAGS = -rpath $(libdir)/gcj-$(gcc_version) -rpath $(toolexeclibdir) \\\n+\t-shared-libgcc $(THREADLDFLAGS)\n+\n gij_LINK = $(GCJLINK)\n gij_LDADD = -L$(here)/.libs libgij.la\n gij_DEPENDENCIES = libgij.la\n@@ -7105,7 +7081,7 @@ gnu/gcj/xlib/natXImage.cc \\\n gnu/gcj/xlib/natXUnmapEvent.cc\n \n sourcesdir = $(jardir)\n-headers_to_make = $(nat_headers) $(am__append_14)\n+headers_to_make = $(nat_headers) $(am__append_13)\n \n # Work around what appears to be a GNU make bug handling MAKEFLAGS\n # values defined in terms of make variables, as is the case for CC and\n@@ -7297,8 +7273,6 @@ gnu/gcj/xlib/lib_gnu_awt_xlib_la-natXImage.lo:  \\\n gnu/gcj/xlib/lib_gnu_awt_xlib_la-natXUnmapEvent.lo:  \\\n \tgnu/gcj/xlib/$(am__dirstamp) \\\n \tgnu/gcj/xlib/$(DEPDIR)/$(am__dirstamp)\n-lib-gnu-java-awt-peer-qt.la: $(lib_gnu_java_awt_peer_qt_la_OBJECTS) $(lib_gnu_java_awt_peer_qt_la_DEPENDENCIES) \n-\t$(lib_gnu_java_awt_peer_qt_la_LINK) $(am_lib_gnu_java_awt_peer_qt_la_rpath) $(lib_gnu_java_awt_peer_qt_la_LDFLAGS) $(lib_gnu_java_awt_peer_qt_la_OBJECTS) $(lib_gnu_java_awt_peer_qt_la_LIBADD) $(LIBS)\n java/lang/$(am__dirstamp):\n \t@$(mkdir_p) java/lang\n \t@: > java/lang/$(am__dirstamp)"}, {"sha": "73652f8df905a4c31fb2d81e47248293c9b182b8", "filename": "libjava/classpath/gnu/java/awt/peer/qt/QtToolkit.java", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fqt%2FQtToolkit.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fqt%2FQtToolkit.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fqt%2FQtToolkit.java?ref=ade710a51ffc2b4657fb33e94de5025ef513fe05", "patch": "@@ -136,8 +136,7 @@ private static void initToolkit()\n   {\n     eventQueue = new EventQueue();\n     repaintThread = new QtRepaintThread();\n-    if (Configuration.INIT_LOAD_LIBRARY)\n-      System.loadLibrary(\"qtpeer\");\n+    System.loadLibrary(\"qtpeer\");\n \n     String theme = null;\n     try "}, {"sha": "e2298c01965de56ad49555657008af93cff36e3b", "filename": "libjava/classpath/native/jawt/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Fclasspath%2Fnative%2Fjawt%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Fclasspath%2Fnative%2Fjawt%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fnative%2Fjawt%2FMakefile.in?ref=ade710a51ffc2b4657fb33e94de5025ef513fe05", "patch": "@@ -290,10 +290,10 @@ gcc_version := $(shell cat $(top_srcdir)/../../gcc/BASE-VER)\n gcjversionedlibdir = $(libdir)/gcj-$(gcc_version)\n gcjversionedlib_LTLIBRARIES = libjawt.la\n libjawt_la_SOURCES = jawt.c\n+libjawt_la_LIBADD = $(top_builddir)/native/jni/gtk-peer/libgtkpeer.la\n libjawt_la_LDFLAGS = -rpath $(gcjversionedlibdir) \\\n \t-version-info `grep -v '^\\#' $(top_srcdir)/../libtool-version`\n \n-libjawt_la_LIBADD = $(top_builddir)/native/jni/gtk-peer/libgtkpeer.la\n AM_LDFLAGS = @CLASSPATH_MODULE@ @GTK_LIBS@ @CAIRO_LIBS@ @PANGOFT2_LIBS@ @X_LIBS@ -lXtst\n AM_CPPFLAGS = @CLASSPATH_INCLUDES@\n "}, {"sha": "69b17d4ab6782e7d871b325db609403f23f82f58", "filename": "libjava/classpath/native/jni/qt-peer/Makefile.am", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Fclasspath%2Fnative%2Fjni%2Fqt-peer%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Fclasspath%2Fnative%2Fjni%2Fqt-peer%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fnative%2Fjni%2Fqt-peer%2FMakefile.am?ref=ade710a51ffc2b4657fb33e94de5025ef513fe05", "patch": "@@ -1,8 +1,11 @@\n # Qt AWT backend for Classpath\n #\n \n-## GCJ LOCAL: don't install this library\n-noinst_LTLIBRARIES = libqtpeer.la\n+## GCJ LOCAL: install this library in GCJ's versioned library\n+## directory\n+gcc_version := $(shell cat $(top_srcdir)/../../gcc/BASE-VER)\n+gcjversionedlibdir = $(libdir)/gcj-$(gcc_version)\n+gcjversionedlib_LTLIBRARIES = libqtpeer.la\n \n AM_LDFLAGS = @CLASSPATH_MODULE@ @QT_LIBS@\n AM_CPPFLAGS = @CLASSPATH_INCLUDES@\n@@ -74,6 +77,10 @@ libqtpeer_la_SOURCES = \\\n         slotcallbacks.cpp \\\n         slotcallbacks.h \n \n+## GCJ LOCAL: encode the library path and  use GCJ's library version\n+libqtpeer_la_LDFLAGS = -rpath $(gcjversionedlibdir) \\\n+\t-version-info `grep -v '^\\#' $(top_srcdir)/../libtool-version`\n+\n BUILT_SOURCES = $(libqtpeer_la_MOC)\n \n CLEANFILES = so_locations $(BUILT_SOURCES)"}, {"sha": "e9c2bffa42998e0e7b9ec61a236b0cdaef867a18", "filename": "libjava/classpath/native/jni/qt-peer/Makefile.in", "status": "modified", "additions": 57, "deletions": 21, "changes": 78, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Fclasspath%2Fnative%2Fjni%2Fqt-peer%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Fclasspath%2Fnative%2Fjni%2Fqt-peer%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fnative%2Fjni%2Fqt-peer%2FMakefile.in?ref=ade710a51ffc2b4657fb33e94de5025ef513fe05", "patch": "@@ -55,7 +55,15 @@ am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \\\n mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs\n CONFIG_HEADER = $(top_builddir)/include/config.h\n CONFIG_CLEAN_FILES =\n-LTLIBRARIES = $(noinst_LTLIBRARIES)\n+am__vpath_adj_setup = srcdirstrip=`echo \"$(srcdir)\" | sed 's|.|.|g'`;\n+am__vpath_adj = case $$p in \\\n+    $(srcdir)/*) f=`echo \"$$p\" | sed \"s|^$$srcdirstrip/||\"`;; \\\n+    *) f=$$p;; \\\n+  esac;\n+am__strip_dir = `echo $$p | sed -e 's|^.*/||'`;\n+am__installdirs = \"$(DESTDIR)$(gcjversionedlibdir)\"\n+gcjversionedlibLTLIBRARIES_INSTALL = $(INSTALL)\n+LTLIBRARIES = $(gcjversionedlib_LTLIBRARIES)\n libqtpeer_la_LIBADD =\n am_libqtpeer_la_OBJECTS = componentevent.lo keybindings.lo \\\n \tmainqtthread.lo mainthreadinterface.lo nativewrapper.lo \\\n@@ -303,7 +311,9 @@ target_cpu = @target_cpu@\n target_os = @target_os@\n target_vendor = @target_vendor@\n vm_classes = @vm_classes@\n-noinst_LTLIBRARIES = libqtpeer.la\n+gcc_version := $(shell cat $(top_srcdir)/../../gcc/BASE-VER)\n+gcjversionedlibdir = $(libdir)/gcj-$(gcc_version)\n+gcjversionedlib_LTLIBRARIES = libqtpeer.la\n AM_LDFLAGS = @CLASSPATH_MODULE@ @QT_LIBS@\n AM_CPPFLAGS = @CLASSPATH_INCLUDES@\n AM_CXXFLAGS = @QT_CFLAGS@\n@@ -369,6 +379,9 @@ libqtpeer_la_SOURCES = \\\n         slotcallbacks.cpp \\\n         slotcallbacks.h \n \n+libqtpeer_la_LDFLAGS = -rpath $(gcjversionedlibdir) \\\n+\t-version-info `grep -v '^\\#' $(top_srcdir)/../libtool-version`\n+\n BUILT_SOURCES = $(libqtpeer_la_MOC)\n CLEANFILES = so_locations $(BUILT_SOURCES)\n all: $(BUILT_SOURCES)\n@@ -405,17 +418,35 @@ $(top_srcdir)/configure: @MAINTAINER_MODE_TRUE@ $(am__configure_deps)\n \tcd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh\n $(ACLOCAL_M4): @MAINTAINER_MODE_TRUE@ $(am__aclocal_m4_deps)\n \tcd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh\n+install-gcjversionedlibLTLIBRARIES: $(gcjversionedlib_LTLIBRARIES)\n+\t@$(NORMAL_INSTALL)\n+\ttest -z \"$(gcjversionedlibdir)\" || $(mkdir_p) \"$(DESTDIR)$(gcjversionedlibdir)\"\n+\t@list='$(gcjversionedlib_LTLIBRARIES)'; for p in $$list; do \\\n+\t  if test -f $$p; then \\\n+\t    f=$(am__strip_dir) \\\n+\t    echo \" $(LIBTOOL) --mode=install $(gcjversionedlibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) '$$p' '$(DESTDIR)$(gcjversionedlibdir)/$$f'\"; \\\n+\t    $(LIBTOOL) --mode=install $(gcjversionedlibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) \"$$p\" \"$(DESTDIR)$(gcjversionedlibdir)/$$f\"; \\\n+\t  else :; fi; \\\n+\tdone\n \n-clean-noinstLTLIBRARIES:\n-\t-test -z \"$(noinst_LTLIBRARIES)\" || rm -f $(noinst_LTLIBRARIES)\n-\t@list='$(noinst_LTLIBRARIES)'; for p in $$list; do \\\n+uninstall-gcjversionedlibLTLIBRARIES:\n+\t@$(NORMAL_UNINSTALL)\n+\t@set -x; list='$(gcjversionedlib_LTLIBRARIES)'; for p in $$list; do \\\n+\t  p=$(am__strip_dir) \\\n+\t  echo \" $(LIBTOOL) --mode=uninstall rm -f '$(DESTDIR)$(gcjversionedlibdir)/$$p'\"; \\\n+\t  $(LIBTOOL) --mode=uninstall rm -f \"$(DESTDIR)$(gcjversionedlibdir)/$$p\"; \\\n+\tdone\n+\n+clean-gcjversionedlibLTLIBRARIES:\n+\t-test -z \"$(gcjversionedlib_LTLIBRARIES)\" || rm -f $(gcjversionedlib_LTLIBRARIES)\n+\t@list='$(gcjversionedlib_LTLIBRARIES)'; for p in $$list; do \\\n \t  dir=\"`echo $$p | sed -e 's|/[^/]*$$||'`\"; \\\n \t  test \"$$dir\" != \"$$p\" || dir=.; \\\n \t  echo \"rm -f \\\"$${dir}/so_locations\\\"\"; \\\n \t  rm -f \"$${dir}/so_locations\"; \\\n \tdone\n libqtpeer.la: $(libqtpeer_la_OBJECTS) $(libqtpeer_la_DEPENDENCIES) \n-\t$(CXXLINK)  $(libqtpeer_la_LDFLAGS) $(libqtpeer_la_OBJECTS) $(libqtpeer_la_LIBADD) $(LIBS)\n+\t$(CXXLINK) -rpath $(gcjversionedlibdir) $(libqtpeer_la_LDFLAGS) $(libqtpeer_la_OBJECTS) $(libqtpeer_la_LIBADD) $(LIBS)\n \n mostlyclean-compile:\n \t-rm -f *.$(OBJEXT)\n@@ -576,6 +607,9 @@ check: $(BUILT_SOURCES)\n \t$(MAKE) $(AM_MAKEFLAGS) check-am\n all-am: Makefile $(LTLIBRARIES)\n installdirs:\n+\tfor dir in \"$(DESTDIR)$(gcjversionedlibdir)\"; do \\\n+\t  test -z \"$$dir\" || $(mkdir_p) \"$$dir\"; \\\n+\tdone\n install: $(BUILT_SOURCES)\n \t$(MAKE) $(AM_MAKEFLAGS) install-am\n install-exec: install-exec-am\n@@ -605,7 +639,7 @@ maintainer-clean-generic:\n \t-test -z \"$(BUILT_SOURCES)\" || rm -f $(BUILT_SOURCES)\n clean: clean-am\n \n-clean-am: clean-generic clean-libtool clean-noinstLTLIBRARIES \\\n+clean-am: clean-gcjversionedlibLTLIBRARIES clean-generic clean-libtool \\\n \tmostlyclean-am\n \n distclean: distclean-am\n@@ -624,7 +658,7 @@ info: info-am\n \n info-am:\n \n-install-data-am:\n+install-data-am: install-gcjversionedlibLTLIBRARIES\n \n install-exec-am:\n \n@@ -652,19 +686,21 @@ ps: ps-am\n \n ps-am:\n \n-uninstall-am: uninstall-info-am\n-\n-.PHONY: CTAGS GTAGS all all-am check check-am clean clean-generic \\\n-\tclean-libtool clean-noinstLTLIBRARIES ctags distclean \\\n-\tdistclean-compile distclean-generic distclean-libtool \\\n-\tdistclean-tags distdir dvi dvi-am html html-am info info-am \\\n-\tinstall install-am install-data install-data-am install-exec \\\n-\tinstall-exec-am install-info install-info-am install-man \\\n-\tinstall-strip installcheck installcheck-am installdirs \\\n-\tmaintainer-clean maintainer-clean-generic mostlyclean \\\n-\tmostlyclean-compile mostlyclean-generic mostlyclean-libtool \\\n-\tpdf pdf-am ps ps-am tags uninstall uninstall-am \\\n-\tuninstall-info-am\n+uninstall-am: uninstall-gcjversionedlibLTLIBRARIES uninstall-info-am\n+\n+.PHONY: CTAGS GTAGS all all-am check check-am clean \\\n+\tclean-gcjversionedlibLTLIBRARIES clean-generic clean-libtool \\\n+\tctags distclean distclean-compile distclean-generic \\\n+\tdistclean-libtool distclean-tags distdir dvi dvi-am html \\\n+\thtml-am info info-am install install-am install-data \\\n+\tinstall-data-am install-exec install-exec-am \\\n+\tinstall-gcjversionedlibLTLIBRARIES install-info \\\n+\tinstall-info-am install-man install-strip installcheck \\\n+\tinstallcheck-am installdirs maintainer-clean \\\n+\tmaintainer-clean-generic mostlyclean mostlyclean-compile \\\n+\tmostlyclean-generic mostlyclean-libtool pdf pdf-am ps ps-am \\\n+\ttags uninstall uninstall-am \\\n+\tuninstall-gcjversionedlibLTLIBRARIES uninstall-info-am\n \n \n slotcallbacks.moc.h: slotcallbacks.cpp"}, {"sha": "56cbd14f4c2c2a85451399d8a24db799b04f5c2d", "filename": "libjava/configure", "status": "modified", "additions": 3775, "deletions": 4524, "changes": 8299, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=ade710a51ffc2b4657fb33e94de5025ef513fe05"}, {"sha": "e12af738dcf12b9b59752292d42deb2f7b538207", "filename": "libjava/configure.ac", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.ac?ref=ade710a51ffc2b4657fb33e94de5025ef513fe05", "patch": "@@ -236,17 +236,13 @@ for peer in $peerlibs ; do\n done\n \n AM_CONDITIONAL(XLIB_AWT, test \"$use_xlib_awt\" = yes)\n-AM_CONDITIONAL(QT_AWT, test \"$use_qt_awt\" = yes)\n \n # Create standard.omit based on decisions we just made.\n cp $srcdir/standard.omit.in standard.omit\n if test \"$use_xlib_awt\" != yes; then\n    echo gnu/awt/xlib >> standard.omit\n    echo gnu/gcj/xlib >> standard.omit\n fi\n-if test \"$use_qt_awt\" != yes; then\n-   echo gnu/java/awt/peer/qt >> standard.omit\n-fi\n \n if test -z \"${with_multisubdir}\"; then\n    builddotdot=."}, {"sha": "6eb6e44b3ad9de49bd61ff22dd1c41cf7f42429f", "filename": "libjava/gcj/Makefile.in", "status": "modified", "additions": 6, "deletions": 11, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Fgcj%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Fgcj%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgcj%2FMakefile.in?ref=ade710a51ffc2b4657fb33e94de5025ef513fe05", "patch": "@@ -126,7 +126,6 @@ GCSPEC = @GCSPEC@\n GCTESTSPEC = @GCTESTSPEC@\n GLIB_CFLAGS = @GLIB_CFLAGS@\n GLIB_LIBS = @GLIB_LIBS@\n-GREP = @GREP@\n GTK_CAIRO_FALSE = @GTK_CAIRO_FALSE@\n GTK_CAIRO_TRUE = @GTK_CAIRO_TRUE@\n GTK_CFLAGS = @GTK_CFLAGS@\n@@ -187,8 +186,6 @@ PATH_SEPARATOR = @PATH_SEPARATOR@\n PERL = @PERL@\n PKG_CONFIG = @PKG_CONFIG@\n PLATFORM_INNER_NAT_HDRS = @PLATFORM_INNER_NAT_HDRS@\n-QT_AWT_FALSE = @QT_AWT_FALSE@\n-QT_AWT_TRUE = @QT_AWT_TRUE@\n RANLIB = @RANLIB@\n SET_MAKE = @SET_MAKE@\n SHELL = @SHELL@\n@@ -227,7 +224,6 @@ USING_WIN32_THREADS_TRUE = @USING_WIN32_THREADS_TRUE@\n VERSION = @VERSION@\n XLIB_AWT_FALSE = @XLIB_AWT_FALSE@\n XLIB_AWT_TRUE = @XLIB_AWT_TRUE@\n-XMKMF = @XMKMF@\n X_CFLAGS = @X_CFLAGS@\n X_EXTRA_LIBS = @X_EXTRA_LIBS@\n X_LIBS = @X_LIBS@\n@@ -237,8 +233,14 @@ ZIP = @ZIP@\n ZLIBS = @ZLIBS@\n ZLIBSPEC = @ZLIBSPEC@\n ZLIBTESTSPEC = @ZLIBTESTSPEC@\n+ac_ct_AR = @ac_ct_AR@\n+ac_ct_AS = @ac_ct_AS@\n ac_ct_CC = @ac_ct_CC@\n ac_ct_CXX = @ac_ct_CXX@\n+ac_ct_GCJ = @ac_ct_GCJ@\n+ac_ct_LD = @ac_ct_LD@\n+ac_ct_RANLIB = @ac_ct_RANLIB@\n+ac_ct_STRIP = @ac_ct_STRIP@\n am__fastdepCC_FALSE = @am__fastdepCC_FALSE@\n am__fastdepCC_TRUE = @am__fastdepCC_TRUE@\n am__fastdepCXX_FALSE = @am__fastdepCXX_FALSE@\n@@ -258,10 +260,7 @@ build_os = @build_os@\n build_subdir = @build_subdir@\n build_vendor = @build_vendor@\n datadir = @datadir@\n-datarootdir = @datarootdir@\n dbexecdir = @dbexecdir@\n-docdir = @docdir@\n-dvidir = @dvidir@\n exec_prefix = @exec_prefix@\n extra_ldflags_libjava = @extra_ldflags_libjava@\n gxx_include_dir = @gxx_include_dir@\n@@ -272,24 +271,20 @@ host_cpu = @host_cpu@\n host_os = @host_os@\n host_subdir = @host_subdir@\n host_vendor = @host_vendor@\n-htmldir = @htmldir@\n includedir = @includedir@\n infodir = @infodir@\n install_sh = @install_sh@\n libdir = @libdir@\n libexecdir = @libexecdir@\n libgcj_basedir = @libgcj_basedir@\n libstdcxx_incdir = @libstdcxx_incdir@\n-localedir = @localedir@\n localstatedir = @localstatedir@\n mandir = @mandir@\n mkdir_p = @mkdir_p@\n mkinstalldirs = @mkinstalldirs@\n oldincludedir = @oldincludedir@\n-pdfdir = @pdfdir@\n prefix = @prefix@\n program_transform_name = @program_transform_name@\n-psdir = @psdir@\n sbindir = @sbindir@\n sharedstatedir = @sharedstatedir@\n subdirs = @subdirs@"}, {"sha": "b10e53b0808dc242b9a651f96091796eeae49cc3", "filename": "libjava/gij.cc", "status": "modified", "additions": 0, "deletions": 47, "changes": 47, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Fgij.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Fgij.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgij.cc?ref=ade710a51ffc2b4657fb33e94de5025ef513fe05", "patch": "@@ -14,7 +14,6 @@\n #include <stdio.h>\n #include <string.h>\n #include <stdlib.h>\n-#include <unistd.h>\n \n static void\n help ()\n@@ -72,52 +71,6 @@ add_option (JvVMInitArgs& vm_args, char const* option, void const* extra)\n int\n main (int argc, char const** argv)\n {\n-  // libjawt.so must be installed in GCJ's versioned directory and not\n-  // the main library directory so that it doesn't override other\n-  // libjawt.so implementations.  Programs that use the AWT Native\n-  // Interface contain a JNI library that links to libjawt.so.  We do\n-  // not want to require that users explicitly add GCJ's versioned\n-  // directory to LD_LIBRARY_PATH when running such programs.\n-\n-  // Simply adding GCJ's versioned directory to the module load path\n-  // does not solve this problem since libltdl searches its module\n-  // load path only for object that it will dlopen; dependencies of\n-  // these dynamically loaded objects are searched for in\n-  // LD_LIBRARY_PATH.\n-\n-  // In addition, setting LD_LIBRARY_PATH from within the current\n-  // process does not alter the dependency search path, since it is\n-  // computed on startup.  This behaviour makes sense since\n-  // LD_LIBRARY_PATH is designed to allow users to override the path\n-  // set by a program.  This re-spawning trick makes it impossible to\n-  // override, using LD_LIBRARY_PATH, the versioned directories\n-  // searched by gij.\n-\n-  // Check if LD_LIBRARY_PATH is already prefixed with\n-  // GCJ_VERSIONED_LIBDIR.  If not, export LD_LIBRARY_PATH prefixed\n-  // with GCJ_VERSIONED_LIBDIR and re-spawn gij.\n-  char *libpath = getenv (LTDL_SHLIBPATH_VAR);\n-  char *newpath = _Jv_PrependVersionedLibdir (libpath);\n-\n-  if (! libpath || strcmp (libpath, newpath))\n-    {\n-      char *buffer = (char *) JvMalloc (strlen (LTDL_SHLIBPATH_VAR)\n-\t\t\t\t\t+ strlen (newpath) + 2);\n-      strcpy (buffer, LTDL_SHLIBPATH_VAR);\n-      strcat (buffer, \"=\");\n-      strcat (buffer, newpath);\n-      putenv (buffer);\n-      JvFree (newpath);\n-\n-      int error_code = execvp (argv[0], (char* const*) argv);\n-\n-      fprintf (stderr, \"error re-spawning gij with new \"\n-               LTDL_SHLIBPATH_VAR \" value: %s\\n\", strerror (error_code));\n-\n-      return error_code;\n-    }\n-  JvFree (newpath);\n-\n   JvVMInitArgs vm_args;\n   bool jar_mode = false;\n "}, {"sha": "52c0a4a9ac34fe7c8d9fe0aa3da8a1828ec10e22", "filename": "libjava/include/Makefile.in", "status": "modified", "additions": 6, "deletions": 11, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Finclude%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Finclude%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2FMakefile.in?ref=ade710a51ffc2b4657fb33e94de5025ef513fe05", "patch": "@@ -125,7 +125,6 @@ GCSPEC = @GCSPEC@\n GCTESTSPEC = @GCTESTSPEC@\n GLIB_CFLAGS = @GLIB_CFLAGS@\n GLIB_LIBS = @GLIB_LIBS@\n-GREP = @GREP@\n GTK_CAIRO_FALSE = @GTK_CAIRO_FALSE@\n GTK_CAIRO_TRUE = @GTK_CAIRO_TRUE@\n GTK_CFLAGS = @GTK_CFLAGS@\n@@ -186,8 +185,6 @@ PATH_SEPARATOR = @PATH_SEPARATOR@\n PERL = @PERL@\n PKG_CONFIG = @PKG_CONFIG@\n PLATFORM_INNER_NAT_HDRS = @PLATFORM_INNER_NAT_HDRS@\n-QT_AWT_FALSE = @QT_AWT_FALSE@\n-QT_AWT_TRUE = @QT_AWT_TRUE@\n RANLIB = @RANLIB@\n SET_MAKE = @SET_MAKE@\n SHELL = @SHELL@\n@@ -226,7 +223,6 @@ USING_WIN32_THREADS_TRUE = @USING_WIN32_THREADS_TRUE@\n VERSION = @VERSION@\n XLIB_AWT_FALSE = @XLIB_AWT_FALSE@\n XLIB_AWT_TRUE = @XLIB_AWT_TRUE@\n-XMKMF = @XMKMF@\n X_CFLAGS = @X_CFLAGS@\n X_EXTRA_LIBS = @X_EXTRA_LIBS@\n X_LIBS = @X_LIBS@\n@@ -236,8 +232,14 @@ ZIP = @ZIP@\n ZLIBS = @ZLIBS@\n ZLIBSPEC = @ZLIBSPEC@\n ZLIBTESTSPEC = @ZLIBTESTSPEC@\n+ac_ct_AR = @ac_ct_AR@\n+ac_ct_AS = @ac_ct_AS@\n ac_ct_CC = @ac_ct_CC@\n ac_ct_CXX = @ac_ct_CXX@\n+ac_ct_GCJ = @ac_ct_GCJ@\n+ac_ct_LD = @ac_ct_LD@\n+ac_ct_RANLIB = @ac_ct_RANLIB@\n+ac_ct_STRIP = @ac_ct_STRIP@\n am__fastdepCC_FALSE = @am__fastdepCC_FALSE@\n am__fastdepCC_TRUE = @am__fastdepCC_TRUE@\n am__fastdepCXX_FALSE = @am__fastdepCXX_FALSE@\n@@ -257,10 +259,7 @@ build_os = @build_os@\n build_subdir = @build_subdir@\n build_vendor = @build_vendor@\n datadir = @datadir@\n-datarootdir = @datarootdir@\n dbexecdir = @dbexecdir@\n-docdir = @docdir@\n-dvidir = @dvidir@\n exec_prefix = @exec_prefix@\n extra_ldflags_libjava = @extra_ldflags_libjava@\n gxx_include_dir = @gxx_include_dir@\n@@ -271,24 +270,20 @@ host_cpu = @host_cpu@\n host_os = @host_os@\n host_subdir = @host_subdir@\n host_vendor = @host_vendor@\n-htmldir = @htmldir@\n includedir = @includedir@\n infodir = @infodir@\n install_sh = @install_sh@\n libdir = @libdir@\n libexecdir = @libexecdir@\n libgcj_basedir = @libgcj_basedir@\n libstdcxx_incdir = @libstdcxx_incdir@\n-localedir = @localedir@\n localstatedir = @localstatedir@\n mandir = @mandir@\n mkdir_p = @mkdir_p@\n mkinstalldirs = @mkinstalldirs@\n oldincludedir = @oldincludedir@\n-pdfdir = @pdfdir@\n prefix = @prefix@\n program_transform_name = @program_transform_name@\n-psdir = @psdir@\n sbindir = @sbindir@\n sharedstatedir = @sharedstatedir@\n subdirs = @subdirs@"}, {"sha": "f857dd0669c42b5d921c4fe0746110e654b91f5f", "filename": "libjava/scripts/makemake.tcl", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Fscripts%2Fmakemake.tcl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Fscripts%2Fmakemake.tcl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fscripts%2Fmakemake.tcl?ref=ade710a51ffc2b4657fb33e94de5025ef513fe05", "patch": "@@ -256,11 +256,7 @@ proc emit_bc_rule {package} {\n   puts \"\\t@rm -f $tname\"\n   puts \"\"\n \n-  # We skip these because they are built into their own libraries and\n-  # are handled specially in Makefile.am.\n-  if {$loname != \"gnu-java-awt-peer-qt.lo\"} {\n-    lappend bc_objects $loname\n-  }\n+  lappend bc_objects $loname\n }\n \n # Emit a rule for a 'package' package."}, {"sha": "203776efda3feed9bc01febf609485548b248373", "filename": "libjava/sources.am", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Fsources.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Fsources.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fsources.am?ref=ade710a51ffc2b4657fb33e94de5025ef513fe05", "patch": "@@ -8779,6 +8779,7 @@ ordinary_header_files = \\\n bc_objects = \\\n   gnu-CORBA.lo \\\n   gnu-java-awt-peer-gtk.lo \\\n+  gnu-java-awt-peer-qt.lo \\\n   gnu-java-awt-peer-swing.lo \\\n   gnu-java-beans.lo \\\n   gnu-javax-rmi.lo \\"}, {"sha": "8444863641b556dad4dc0f4f6dbc751ebbe0dcba", "filename": "libjava/testsuite/Makefile.in", "status": "modified", "additions": 6, "deletions": 11, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ade710a51ffc2b4657fb33e94de5025ef513fe05/libjava%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2FMakefile.in?ref=ade710a51ffc2b4657fb33e94de5025ef513fe05", "patch": "@@ -114,7 +114,6 @@ GCSPEC = @GCSPEC@\n GCTESTSPEC = @GCTESTSPEC@\n GLIB_CFLAGS = @GLIB_CFLAGS@\n GLIB_LIBS = @GLIB_LIBS@\n-GREP = @GREP@\n GTK_CAIRO_FALSE = @GTK_CAIRO_FALSE@\n GTK_CAIRO_TRUE = @GTK_CAIRO_TRUE@\n GTK_CFLAGS = @GTK_CFLAGS@\n@@ -175,8 +174,6 @@ PATH_SEPARATOR = @PATH_SEPARATOR@\n PERL = @PERL@\n PKG_CONFIG = @PKG_CONFIG@\n PLATFORM_INNER_NAT_HDRS = @PLATFORM_INNER_NAT_HDRS@\n-QT_AWT_FALSE = @QT_AWT_FALSE@\n-QT_AWT_TRUE = @QT_AWT_TRUE@\n RANLIB = @RANLIB@\n SET_MAKE = @SET_MAKE@\n SHELL = @SHELL@\n@@ -215,7 +212,6 @@ USING_WIN32_THREADS_TRUE = @USING_WIN32_THREADS_TRUE@\n VERSION = @VERSION@\n XLIB_AWT_FALSE = @XLIB_AWT_FALSE@\n XLIB_AWT_TRUE = @XLIB_AWT_TRUE@\n-XMKMF = @XMKMF@\n X_CFLAGS = @X_CFLAGS@\n X_EXTRA_LIBS = @X_EXTRA_LIBS@\n X_LIBS = @X_LIBS@\n@@ -225,8 +221,14 @@ ZIP = @ZIP@\n ZLIBS = @ZLIBS@\n ZLIBSPEC = @ZLIBSPEC@\n ZLIBTESTSPEC = @ZLIBTESTSPEC@\n+ac_ct_AR = @ac_ct_AR@\n+ac_ct_AS = @ac_ct_AS@\n ac_ct_CC = @ac_ct_CC@\n ac_ct_CXX = @ac_ct_CXX@\n+ac_ct_GCJ = @ac_ct_GCJ@\n+ac_ct_LD = @ac_ct_LD@\n+ac_ct_RANLIB = @ac_ct_RANLIB@\n+ac_ct_STRIP = @ac_ct_STRIP@\n am__fastdepCC_FALSE = @am__fastdepCC_FALSE@\n am__fastdepCC_TRUE = @am__fastdepCC_TRUE@\n am__fastdepCXX_FALSE = @am__fastdepCXX_FALSE@\n@@ -246,10 +248,7 @@ build_os = @build_os@\n build_subdir = @build_subdir@\n build_vendor = @build_vendor@\n datadir = @datadir@\n-datarootdir = @datarootdir@\n dbexecdir = @dbexecdir@\n-docdir = @docdir@\n-dvidir = @dvidir@\n exec_prefix = @exec_prefix@\n extra_ldflags_libjava = @extra_ldflags_libjava@\n gxx_include_dir = @gxx_include_dir@\n@@ -260,24 +259,20 @@ host_cpu = @host_cpu@\n host_os = @host_os@\n host_subdir = @host_subdir@\n host_vendor = @host_vendor@\n-htmldir = @htmldir@\n includedir = @includedir@\n infodir = @infodir@\n install_sh = @install_sh@\n libdir = @libdir@\n libexecdir = @libexecdir@\n libgcj_basedir = @libgcj_basedir@\n libstdcxx_incdir = @libstdcxx_incdir@\n-localedir = @localedir@\n localstatedir = @localstatedir@\n mandir = @mandir@\n mkdir_p = @mkdir_p@\n mkinstalldirs = @mkinstalldirs@\n oldincludedir = @oldincludedir@\n-pdfdir = @pdfdir@\n prefix = @prefix@\n program_transform_name = @program_transform_name@\n-psdir = @psdir@\n sbindir = @sbindir@\n sharedstatedir = @sharedstatedir@\n subdirs = @subdirs@"}]}