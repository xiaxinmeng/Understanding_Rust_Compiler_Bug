{"sha": "75799b9884ef01e2fdedbbbd8932857bb5333ee7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzU3OTliOTg4NGVmMDFlMmZkZWRiYmJkODkzMjg1N2JiNTMzM2VlNw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2011-10-04T21:04:10Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2011-10-04T21:04:10Z"}, "message": "c-typeck.c (c_build_vec_shuffle_expr): Fix uninitialized variable.\n\n* c-typeck.c (c_build_vec_shuffle_expr): Fix uninitialized variable.\nAvoid save_expr unless two_arguments.\n\nFrom-SVN: r179525", "tree": {"sha": "7a028d2e8b5c58fef64ec93ba8edac0a16819994", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7a028d2e8b5c58fef64ec93ba8edac0a16819994"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/75799b9884ef01e2fdedbbbd8932857bb5333ee7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75799b9884ef01e2fdedbbbd8932857bb5333ee7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/75799b9884ef01e2fdedbbbd8932857bb5333ee7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75799b9884ef01e2fdedbbbd8932857bb5333ee7/comments", "author": null, "committer": null, "parents": [{"sha": "73f050310177d90d001d90a1e639d59309efd40e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73f050310177d90d001d90a1e639d59309efd40e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/73f050310177d90d001d90a1e639d59309efd40e"}], "stats": {"total": 18, "additions": 11, "deletions": 7}, "files": [{"sha": "9e3f1a70d40bfe491fe7677e799a23b6ee433e27", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75799b9884ef01e2fdedbbbd8932857bb5333ee7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75799b9884ef01e2fdedbbbd8932857bb5333ee7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=75799b9884ef01e2fdedbbbd8932857bb5333ee7", "patch": "@@ -1,3 +1,8 @@\n+2011-10-04  Richard Henderson  <rth@redhat.com>\n+\n+\t* c-typeck.c (c_build_vec_shuffle_expr): Fix uninitialized variable.\n+\tAvoid save_expr unless two_arguments.\n+\n 2011-10-04  Ozkan Sezer  <sezeroz@gmail.com>\n \n \t* config/i386/mingw-w64.h (CPP_SPEC): Rename _REENTRANCE to"}, {"sha": "e7528a715ba4f2172555afa454cfbfd8e60153f2", "filename": "gcc/c-typeck.c", "status": "modified", "additions": 6, "deletions": 7, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75799b9884ef01e2fdedbbbd8932857bb5333ee7/gcc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75799b9884ef01e2fdedbbbd8932857bb5333ee7/gcc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-typeck.c?ref=75799b9884ef01e2fdedbbbd8932857bb5333ee7", "patch": "@@ -2859,10 +2859,10 @@ build_function_call_vec (location_t loc, tree function, VEC(tree,gc) *params,\n tree\n c_build_vec_shuffle_expr (location_t loc, tree v0, tree v1, tree mask)\n {\n-  tree vec_shuffle, tmp;\n+  tree vec_shuffle;\n   bool wrap = true;\n   bool maybe_const = false;\n-  bool two_arguments;\n+  bool two_arguments = false;\n \n   if (v1 == NULL_TREE)\n     {\n@@ -2916,17 +2916,16 @@ c_build_vec_shuffle_expr (location_t loc, tree v0, tree v1, tree mask)\n     }\n \n   /* Avoid C_MAYBE_CONST_EXPRs inside VEC_SHUFFLE_EXPR.  */\n-  tmp = c_fully_fold (v0, false, &maybe_const);\n-  v0 = save_expr (tmp);\n+  v0 = c_fully_fold (v0, false, &maybe_const);\n   wrap &= maybe_const;\n \n-  if (!two_arguments)\n+  if (two_arguments)\n+    v1 = v0 = save_expr (v0);\n+  else\n     {\n       v1 = c_fully_fold (v1, false, &maybe_const);\n       wrap &= maybe_const;\n     }\n-  else\n-    v1 = v0;\n \n   mask = c_fully_fold (mask, false, &maybe_const);\n   wrap &= maybe_const;"}]}