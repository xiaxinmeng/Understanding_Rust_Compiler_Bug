{"sha": "bbd288a44df5e39c05583b77349b436eb3fcc866", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmJkMjg4YTQ0ZGY1ZTM5YzA1NTgzYjc3MzQ5YjQzNmViM2ZjYzg2Ng==", "commit": {"author": {"name": "Franz Sirl", "email": "Franz.Sirl-kernel@lauterbach.com", "date": "2003-07-14T09:29:44Z"}, "committer": {"name": "Franz Sirl", "email": "sirl@gcc.gnu.org", "date": "2003-07-14T09:29:44Z"}, "message": "re PR rtl-optimization/11440 (gcc-3.3.1 miscompiles c++ code with -O2, -fno-gcse cures it)\n\n2003-07-14  Franz Sirl  <Franz.Sirl-kernel@lauterbach.com>\n\n\tPR optimization/11440\n\t* gcse.c (try_replace_reg): Don't attach notes to ZERO_EXTRACT or\n\tSIGN_EXTRACT SETs.\n\nFrom-SVN: r69325", "tree": {"sha": "911a0f712d5caaf322cd0f488abc5387f110cbba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/911a0f712d5caaf322cd0f488abc5387f110cbba"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bbd288a44df5e39c05583b77349b436eb3fcc866", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbd288a44df5e39c05583b77349b436eb3fcc866", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bbd288a44df5e39c05583b77349b436eb3fcc866", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbd288a44df5e39c05583b77349b436eb3fcc866/comments", "author": {"login": "jinkama-san", "id": 1462162, "node_id": "MDQ6VXNlcjE0NjIxNjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1462162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jinkama-san", "html_url": "https://github.com/jinkama-san", "followers_url": "https://api.github.com/users/jinkama-san/followers", "following_url": "https://api.github.com/users/jinkama-san/following{/other_user}", "gists_url": "https://api.github.com/users/jinkama-san/gists{/gist_id}", "starred_url": "https://api.github.com/users/jinkama-san/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jinkama-san/subscriptions", "organizations_url": "https://api.github.com/users/jinkama-san/orgs", "repos_url": "https://api.github.com/users/jinkama-san/repos", "events_url": "https://api.github.com/users/jinkama-san/events{/privacy}", "received_events_url": "https://api.github.com/users/jinkama-san/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "3a009999ba155c613c5545fd752e54a093aec05b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a009999ba155c613c5545fd752e54a093aec05b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3a009999ba155c613c5545fd752e54a093aec05b"}], "stats": {"total": 15, "additions": 12, "deletions": 3}, "files": [{"sha": "3368f568939f27ab98398ad992043407dccac223", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbd288a44df5e39c05583b77349b436eb3fcc866/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbd288a44df5e39c05583b77349b436eb3fcc866/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bbd288a44df5e39c05583b77349b436eb3fcc866", "patch": "@@ -1,3 +1,9 @@\n+2003-07-14  Franz Sirl  <Franz.Sirl-kernel@lauterbach.com>\n+\n+\tPR optimization/11440\n+\t* gcse.c (try_replace_reg): Don't attach notes to ZERO_EXTRACT or\n+\tSIGN_EXTRACT SETs.\n+\n 2003-07-14  Alan Modra  <amodra@bigpond.net.au>\n \n \t* doc/tm.texi (BLOCK_REG_PADDING): Describe."}, {"sha": "30d4c1ee171f40c2e642855f08b4b408d2e9b835", "filename": "gcc/gcse.c", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbd288a44df5e39c05583b77349b436eb3fcc866/gcc%2Fgcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbd288a44df5e39c05583b77349b436eb3fcc866/gcc%2Fgcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcse.c?ref=bbd288a44df5e39c05583b77349b436eb3fcc866", "patch": "@@ -3856,9 +3856,12 @@ try_replace_reg (rtx from, rtx to, rtx insn)\n \t  && validate_change (insn, &SET_SRC (set), src, 0))\n \tsuccess = 1;\n \n-      /* If we've failed to do replacement, have a single SET, and don't already\n-\t have a note, add a REG_EQUAL note to not lose information.  */\n-      if (!success && note == 0 && set != 0)\n+      /* If we've failed to do replacement, have a single SET, don't already\n+\t have a note, and have no special SET, add a REG_EQUAL note to not\n+\t lose information.  */\n+      if (!success && note == 0 && set != 0\n+\t  && GET_CODE (XEXP (set, 0)) != ZERO_EXTRACT\n+\t  && GET_CODE (XEXP (set, 0)) != SIGN_EXTRACT)\n \tnote = set_unique_reg_note (insn, REG_EQUAL, copy_rtx (src));\n     }\n "}]}