{"sha": "5326f06d7f73eae07a3c8825873f7a2358dfa0e2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTMyNmYwNmQ3ZjczZWFlMDdhM2M4ODI1ODczZjdhMjM1OGRmYTBlMg==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@markmitchell.com", "date": "1999-02-01T17:25:51Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1999-02-01T17:25:51Z"}, "message": "pt.c (tsubst, [...]): Check TYPE_BEING_DEFINED before calling complete_type_or_else.\n\n\t* pt.c (tsubst, case TYPENAME_TYPE): Check TYPE_BEING_DEFINED\n\tbefore calling complete_type_or_else.\n\nFrom-SVN: r24958", "tree": {"sha": "308c8cc2b06d72347ff273085f88ed308474a783", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/308c8cc2b06d72347ff273085f88ed308474a783"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5326f06d7f73eae07a3c8825873f7a2358dfa0e2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5326f06d7f73eae07a3c8825873f7a2358dfa0e2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5326f06d7f73eae07a3c8825873f7a2358dfa0e2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5326f06d7f73eae07a3c8825873f7a2358dfa0e2/comments", "author": null, "committer": null, "parents": [{"sha": "1328d92f8159120827a74b3488d845dc36de9d9b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1328d92f8159120827a74b3488d845dc36de9d9b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1328d92f8159120827a74b3488d845dc36de9d9b"}], "stats": {"total": 33, "additions": 32, "deletions": 1}, "files": [{"sha": "d74c484dc5e5f31fb67dfc9abe983fdae4ee3a8f", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5326f06d7f73eae07a3c8825873f7a2358dfa0e2/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5326f06d7f73eae07a3c8825873f7a2358dfa0e2/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=5326f06d7f73eae07a3c8825873f7a2358dfa0e2", "patch": "@@ -1,3 +1,8 @@\n+1999-02-01  Mark Mitchell  <mark@markmitchell.com>\n+\n+\t* pt.c (tsubst, case TYPENAME_TYPE): Check TYPE_BEING_DEFINED\n+\tbefore calling complete_type_or_else.\n+\n Mon Feb  1 09:49:52 1999  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* input.c (inline): Don't define, its handled by system.h."}, {"sha": "901005b7cf948f04ecaac750c32ae96b7545769f", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5326f06d7f73eae07a3c8825873f7a2358dfa0e2/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5326f06d7f73eae07a3c8825873f7a2358dfa0e2/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=5326f06d7f73eae07a3c8825873f7a2358dfa0e2", "patch": "@@ -6083,7 +6083,8 @@ tsubst (t, args, in_decl)\n \t   But, such constructs have already been resolved by this\n \t   point, so here CTX really should have complete type, unless\n \t   it's a partial instantiation.  */\n-\tif (!uses_template_parms (ctx) \n+\tif (!uses_template_parms (ctx)\n+\t    && !TYPE_BEING_DEFINED (ctx)\n \t    && !complete_type_or_else (ctx))\n \t  return error_mark_node;\n "}, {"sha": "d63e7967672edfeaf0bb7ebe476fc56013002a8c", "filename": "gcc/testsuite/g++.old-deja/g++.pt/spec28.C", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5326f06d7f73eae07a3c8825873f7a2358dfa0e2/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fspec28.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5326f06d7f73eae07a3c8825873f7a2358dfa0e2/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fspec28.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fspec28.C?ref=5326f06d7f73eae07a3c8825873f7a2358dfa0e2", "patch": "@@ -0,0 +1,25 @@\n+// Build don't link:\n+\n+template <class T> \n+struct S1 {\n+  friend bool f<>(const S1&);\n+  typedef T X;\n+};\n+\n+template <class T>\n+struct S2 {\n+};\n+\n+template <class T>\n+struct S2<S1<T> > {\n+  typedef typename S1<T>::X Y;\n+};\n+\n+template <class T>\n+bool f(T);\n+\n+template <class T>\n+typename S2<S1<T> >::Y\n+f(const S1<T>&);\n+\n+template struct S1<int>;"}]}