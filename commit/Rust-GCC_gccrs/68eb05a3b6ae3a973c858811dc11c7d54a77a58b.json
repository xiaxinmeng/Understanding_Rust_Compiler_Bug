{"sha": "68eb05a3b6ae3a973c858811dc11c7d54a77a58b", "node_id": "C_kwDOANBUbNoAKDY4ZWIwNWEzYjZhZTNhOTczYzg1ODgxMWRjMTFjN2Q1NGE3N2E1OGI", "commit": {"author": {"name": "Justin Squirek", "email": "squirek@adacore.com", "date": "2022-05-10T18:19:10Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2022-06-02T09:06:37Z"}, "message": "[Ada] Gnatbind crash during checksum calculation\n\nThis patch corrects an error in the compiler whereby gnatbind may crash\nduring calculation of file checksums in certain corner cases due to\nuninitialized lookup tables.\n\ngcc/ada/\n\n\t* gnatbind.adb (Gnatbind): Add initialize call for Uintp\n\t* gnatls.adb (Gnatls): Likewise.\n\t* gprep.adb (Gnatprep): Likewise.\n\t* make.adb (Initialize): Likewise.", "tree": {"sha": "7beb93d2ed2896dfa2299c6f013444ae1fe6027e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7beb93d2ed2896dfa2299c6f013444ae1fe6027e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/68eb05a3b6ae3a973c858811dc11c7d54a77a58b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68eb05a3b6ae3a973c858811dc11c7d54a77a58b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/68eb05a3b6ae3a973c858811dc11c7d54a77a58b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68eb05a3b6ae3a973c858811dc11c7d54a77a58b/comments", "author": {"login": "AdaDoom3", "id": 3445599, "node_id": "MDQ6VXNlcjM0NDU1OTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3445599?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AdaDoom3", "html_url": "https://github.com/AdaDoom3", "followers_url": "https://api.github.com/users/AdaDoom3/followers", "following_url": "https://api.github.com/users/AdaDoom3/following{/other_user}", "gists_url": "https://api.github.com/users/AdaDoom3/gists{/gist_id}", "starred_url": "https://api.github.com/users/AdaDoom3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AdaDoom3/subscriptions", "organizations_url": "https://api.github.com/users/AdaDoom3/orgs", "repos_url": "https://api.github.com/users/AdaDoom3/repos", "events_url": "https://api.github.com/users/AdaDoom3/events{/privacy}", "received_events_url": "https://api.github.com/users/AdaDoom3/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "878043af338c3b49f7848f3b73938cfa75a97393", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/878043af338c3b49f7848f3b73938cfa75a97393", "html_url": "https://github.com/Rust-GCC/gccrs/commit/878043af338c3b49f7848f3b73938cfa75a97393"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "475702a755e018eb015a51155d5991b09dc0ad84", "filename": "gcc/ada/gnatbind.adb", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68eb05a3b6ae3a973c858811dc11c7d54a77a58b/gcc%2Fada%2Fgnatbind.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68eb05a3b6ae3a973c858811dc11c7d54a77a58b/gcc%2Fada%2Fgnatbind.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatbind.adb?ref=68eb05a3b6ae3a973c858811dc11c7d54a77a58b", "patch": "@@ -50,6 +50,7 @@ with Switch;   use Switch;\n with Switch.B; use Switch.B;\n with Targparm; use Targparm;\n with Types;    use Types;\n+with Uintp;\n \n with System.Case_Util; use System.Case_Util;\n with System.Response_File;\n@@ -617,6 +618,7 @@ begin\n    --  is in some cases important.\n \n    Csets.Initialize;\n+   Uintp.Initialize;\n    Snames.Initialize;\n \n    --  Scan the switches and arguments. Note that Snames must already be"}, {"sha": "9b62f71d68e0fe798ae55c5d6bcfaba71899dfc8", "filename": "gcc/ada/gnatls.adb", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68eb05a3b6ae3a973c858811dc11c7d54a77a58b/gcc%2Fada%2Fgnatls.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68eb05a3b6ae3a973c858811dc11c7d54a77a58b/gcc%2Fada%2Fgnatls.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatls.adb?ref=68eb05a3b6ae3a973c858811dc11c7d54a77a58b", "patch": "@@ -44,6 +44,7 @@ with Snames;\n with Stringt;\n with Switch;      use Switch;\n with Types;       use Types;\n+with Uintp;\n \n with GNAT.Case_Util;            use GNAT.Case_Util;\n with GNAT.Command_Line;         use GNAT.Command_Line;\n@@ -2023,6 +2024,7 @@ begin\n    --  Initialize standard packages\n \n    Csets.Initialize;\n+   Uintp.Initialize;\n    Snames.Initialize;\n    Stringt.Initialize;\n "}, {"sha": "58ae1044b3b8a73702a8688ec9fdaa9154deee30", "filename": "gcc/ada/gprep.adb", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68eb05a3b6ae3a973c858811dc11c7d54a77a58b/gcc%2Fada%2Fgprep.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68eb05a3b6ae3a973c858811dc11c7d54a77a58b/gcc%2Fada%2Fgprep.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgprep.adb?ref=68eb05a3b6ae3a973c858811dc11c7d54a77a58b", "patch": "@@ -37,6 +37,7 @@ with Snames;\n with Stringt;  use Stringt;\n with Switch;   use Switch;\n with Types;    use Types;\n+with Uintp;\n \n with Ada.Command_Line; use Ada.Command_Line;\n with Ada.Text_IO;      use Ada.Text_IO;\n@@ -169,6 +170,7 @@ package body GPrep is\n       --  Do some initializations (order is important here)\n \n       Csets.Initialize;\n+      Uintp.Initialize;\n       Snames.Initialize;\n       Stringt.Initialize;\n       Prep.Initialize;"}, {"sha": "3ed465612b0b2786465067d1123a9f8bf8438148", "filename": "gcc/ada/make.adb", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68eb05a3b6ae3a973c858811dc11c7d54a77a58b/gcc%2Fada%2Fmake.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68eb05a3b6ae3a973c858811dc11c7d54a77a58b/gcc%2Fada%2Fmake.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fmake.adb?ref=68eb05a3b6ae3a973c858811dc11c7d54a77a58b", "patch": "@@ -44,6 +44,7 @@ with SFN_Scan;\n with Sinput;\n with Snames;\n with Stringt;\n+with Uintp;\n \n pragma Warnings (Off);\n with System.HTable;\n@@ -3676,6 +3677,7 @@ package body Make is\n       Linker_Switches.Init;\n \n       Csets.Initialize;\n+      Uintp.Initialize;\n       Snames.Initialize;\n       Stringt.Initialize;\n "}]}