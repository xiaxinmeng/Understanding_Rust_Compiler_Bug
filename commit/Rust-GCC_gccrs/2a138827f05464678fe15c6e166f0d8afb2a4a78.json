{"sha": "2a138827f05464678fe15c6e166f0d8afb2a4a78", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmExMzg4MjdmMDU0NjQ2NzhmZTE1YzZlMTY2ZjBkOGFmYjJhNGE3OA==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "1999-10-02T20:03:15Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "1999-10-02T20:03:15Z"}, "message": "cplus-dem.c (fancy_abort, [...]): Add prototype.\n\n\t* cplus-dem.c (fancy_abort, demangle_integral_value,\n\tdemangle_arm_hp_template, recursively_demangle,\n\tstandard_symbol_characters, hp_symbol_characters, main): Add prototype.\n\t(program_name, program_version, fatal): Constify a char*.\n\t(usage, fatal): Mark with ATTRIBUTE_NORETURN.\n\t(main): Call return, not exit.\n\nFrom-SVN: r29776", "tree": {"sha": "369a74b833adf0b07bf54c7a45c07daa6699bafc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/369a74b833adf0b07bf54c7a45c07daa6699bafc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2a138827f05464678fe15c6e166f0d8afb2a4a78", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a138827f05464678fe15c6e166f0d8afb2a4a78", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2a138827f05464678fe15c6e166f0d8afb2a4a78", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a138827f05464678fe15c6e166f0d8afb2a4a78/comments", "author": null, "committer": null, "parents": [{"sha": "a628d1951b29396e3aecd276125fc4ea6854ab2b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a628d1951b29396e3aecd276125fc4ea6854ab2b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a628d1951b29396e3aecd276125fc4ea6854ab2b"}], "stats": {"total": 47, "additions": 39, "deletions": 8}, "files": [{"sha": "468d4d65a83582a8038689e82961d20fd150fa28", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a138827f05464678fe15c6e166f0d8afb2a4a78/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a138827f05464678fe15c6e166f0d8afb2a4a78/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=2a138827f05464678fe15c6e166f0d8afb2a4a78", "patch": "@@ -1,3 +1,12 @@\n+1999-10-02  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* cplus-dem.c (fancy_abort, demangle_integral_value,\n+\tdemangle_arm_hp_template, recursively_demangle,\n+\tstandard_symbol_characters, hp_symbol_characters, main): Add prototype.\n+\t(program_name, program_version, fatal): Constify a char*.\n+\t(usage, fatal): Mark with ATTRIBUTE_NORETURN.\n+\t(main): Call return, not exit.\n+\n 1999-09-25  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* choose-temp.c: Remove obsolete comment about gcc."}, {"sha": "ef6c5111dc4ef2d54a061e77076b644873fb191f", "filename": "libiberty/cplus-dem.c", "status": "modified", "additions": 30, "deletions": 8, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a138827f05464678fe15c6e166f0d8afb2a4a78/libiberty%2Fcplus-dem.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a138827f05464678fe15c6e166f0d8afb2a4a78/libiberty%2Fcplus-dem.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fcplus-dem.c?ref=2a138827f05464678fe15c6e166f0d8afb2a4a78", "patch": "@@ -53,6 +53,8 @@ char * realloc ();\n \n #define min(X,Y) (((X) < (Y)) ? (X) : (Y))\n \n+extern void fancy_abort PARAMS ((void)) ATTRIBUTE_NORETURN;\n+\n static const char *mystrstr PARAMS ((const char *, const char *));\n \n static const char *\n@@ -422,6 +424,24 @@ qualifier_string PARAMS ((int));\n static const char*\n demangle_qualifier PARAMS ((int));\n \n+static int\n+demangle_integral_value PARAMS ((struct work_stuff *, const char **,\n+\t\t\t\t string *));\n+\n+static void\n+demangle_arm_hp_template PARAMS ((struct work_stuff *, const char **, int,\n+\t\t\t\t  string *));\n+\n+static void\n+recursively_demangle PARAMS ((struct work_stuff *, const char **, string *,\n+\t\t\t      int));\n+\n+static const char *\n+standard_symbol_characters PARAMS ((void));\n+\n+static const char *\n+hp_symbol_characters PARAMS ((void));\n+\n /* Translate count to integer, consuming tokens in the process.\n    Conversion terminates on the first non-digit character.\n \n@@ -4329,13 +4349,13 @@ string_prependn (p, s, n)\n \n #include \"getopt.h\"\n \n-static char *program_name;\n-static char *program_version = VERSION;\n+static const char *program_name;\n+static const char *program_version = VERSION;\n static int flags = DMGL_PARAMS | DMGL_ANSI;\n \n static void demangle_it PARAMS ((char *));\n-static void usage PARAMS ((FILE *, int));\n-static void fatal PARAMS ((char *));\n+static void usage PARAMS ((FILE *, int)) ATTRIBUTE_NORETURN;\n+static void fatal PARAMS ((const char *)) ATTRIBUTE_NORETURN;\n \n static void\n demangle_it (mangled_name)\n@@ -4444,6 +4464,8 @@ hp_symbol_characters ()\n }\n \n \n+extern int main PARAMS ((int, char **));\n+\n int\n main (argc, argv)\n      int argc;\n@@ -4471,7 +4493,7 @@ main (argc, argv)\n \t  break;\n \tcase 'v':\n \t  printf (\"GNU %s (C++ demangler), version %s\\n\", program_name, program_version);\n-\t  exit (0);\n+\t  return (0);\n \tcase '_':\n \t  strip_underscore = 1;\n \t  break;\n@@ -4503,7 +4525,7 @@ main (argc, argv)\n \t    {\n \t      fprintf (stderr, \"%s: unknown demangling style `%s'\\n\",\n \t\t       program_name, optarg);\n-\t      exit (1);\n+\t      return (1);\n \t    }\n \t  break;\n \t}\n@@ -4581,12 +4603,12 @@ main (argc, argv)\n \t}\n     }\n \n-  exit (0);\n+  return (0);\n }\n \n static void\n fatal (str)\n-     char *str;\n+     const char *str;\n {\n   fprintf (stderr, \"%s: %s\\n\", program_name, str);\n   exit (1);"}]}