{"sha": "3c9fbc26af6739c7ddf8f0895ae68b530cf88bbe", "node_id": "C_kwDOANBUbNoAKDNjOWZiYzI2YWY2NzM5YzdkZGY4ZjA4OTVhZTY4YjUzMGNmODhiYmU", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2021-10-08T13:25:42Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2021-10-08T23:57:49Z"}, "message": "libstdc++: Define std::wstring_convert unconditionally [PR 98725]\n\nThe wchar_t type is defined unconditionally for C++, so there is no\nreason for std::wstring_convert and std::wbuffer_convert to be disabled\nwhen <wchar.h> is not usable. It should be possible to use those class\ntemplates with char16_t and char32_t even if wchar_t conversions don't\nwork.\n\nlibstdc++-v3/ChangeLog:\n\n\tPR libstdc++/98725\n\t* include/bits/locale_conv.h (wstring_convert, wbuffer_convert):\n\tDefine unconditionally. Do not check _GLIBCXX_USE_WCHAR_T.", "tree": {"sha": "1b3ee6fa612b088a3bed11e7f7d6b1975ee5e13e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1b3ee6fa612b088a3bed11e7f7d6b1975ee5e13e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3c9fbc26af6739c7ddf8f0895ae68b530cf88bbe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c9fbc26af6739c7ddf8f0895ae68b530cf88bbe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3c9fbc26af6739c7ddf8f0895ae68b530cf88bbe", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c9fbc26af6739c7ddf8f0895ae68b530cf88bbe/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4bdb9d618d30fc33d7eaab374baf377fa4e9d955", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4bdb9d618d30fc33d7eaab374baf377fa4e9d955", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4bdb9d618d30fc33d7eaab374baf377fa4e9d955"}], "stats": {"total": 4, "additions": 0, "deletions": 4}, "files": [{"sha": "41d17238fbdcb8f18b922080a46e90f7c02e253d", "filename": "libstdc++-v3/include/bits/locale_conv.h", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c9fbc26af6739c7ddf8f0895ae68b530cf88bbe/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flocale_conv.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c9fbc26af6739c7ddf8f0895ae68b530cf88bbe/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flocale_conv.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flocale_conv.h?ref=3c9fbc26af6739c7ddf8f0895ae68b530cf88bbe", "patch": "@@ -253,8 +253,6 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       };\n   }\n \n-#ifdef _GLIBCXX_USE_WCHAR_T\n-\n _GLIBCXX_BEGIN_NAMESPACE_CXX11\n \n   /// String conversions\n@@ -626,8 +624,6 @@ _GLIBCXX_END_NAMESPACE_CXX11\n       bool\t\t\t_M_always_noconv;\n     };\n \n-#endif  // _GLIBCXX_USE_WCHAR_T\n-\n   /// @} group locales\n \n _GLIBCXX_END_NAMESPACE_VERSION"}]}