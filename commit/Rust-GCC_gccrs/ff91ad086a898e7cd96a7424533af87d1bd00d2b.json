{"sha": "ff91ad086a898e7cd96a7424533af87d1bd00d2b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmY5MWFkMDg2YTg5OGU3Y2Q5NmE3NDI0NTMzYWY4N2QxYmQwMGQyYg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-05-07T02:04:13Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-05-07T02:04:13Z"}, "message": "(expand_decl): Don't deduce alignment of SIZE from DECL_ALIGN; use\nTYPE_ALIGN instead.\n\nFrom-SVN: r11949", "tree": {"sha": "750c5958d080098d83ad3b1c90e4df492408963e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/750c5958d080098d83ad3b1c90e4df492408963e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ff91ad086a898e7cd96a7424533af87d1bd00d2b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff91ad086a898e7cd96a7424533af87d1bd00d2b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ff91ad086a898e7cd96a7424533af87d1bd00d2b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff91ad086a898e7cd96a7424533af87d1bd00d2b/comments", "author": null, "committer": null, "parents": [{"sha": "d1b680c63b484963461a7a8be9b046b2827841f3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1b680c63b484963461a7a8be9b046b2827841f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d1b680c63b484963461a7a8be9b046b2827841f3"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "6a2e670d95ef4a65ee26f246e9f0fd40282aa918", "filename": "gcc/stmt.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff91ad086a898e7cd96a7424533af87d1bd00d2b/gcc%2Fstmt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff91ad086a898e7cd96a7424533af87d1bd00d2b/gcc%2Fstmt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fstmt.c?ref=ff91ad086a898e7cd96a7424533af87d1bd00d2b", "patch": "@@ -3463,9 +3463,12 @@ expand_decl (decl)\n \t\t\t  NULL_RTX, VOIDmode, 0);\n       free_temp_slots ();\n \n-      /* Allocate space on the stack for the variable.  */\n+      /* Allocate space on the stack for the variable.  Note that\n+\t DECL_ALIGN says how the variable is to be aligned and we \n+\t cannot use it to conclude anything about the alignment of\n+\t the size.  */\n       address = allocate_dynamic_stack_space (size, NULL_RTX,\n-\t\t\t\t\t      DECL_ALIGN (decl));\n+\t\t\t\t\t      TYPE_ALIGN (TREE_TYPE (decl)));\n \n       /* Reference the variable indirect through that rtx.  */\n       DECL_RTL (decl) = gen_rtx (MEM, DECL_MODE (decl), address);"}]}