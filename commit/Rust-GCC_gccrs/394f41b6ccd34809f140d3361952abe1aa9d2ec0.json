{"sha": "394f41b6ccd34809f140d3361952abe1aa9d2ec0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mzk0ZjQxYjZjY2QzNDgwOWYxNDBkMzM2MTk1MmFiZTFhYTlkMmVjMA==", "commit": {"author": {"name": "Douglas B Rupp", "email": "rupp@gnat.com", "date": "2001-11-19T12:17:28Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "2001-11-19T12:17:28Z"}, "message": "xm-vms.h: Don't define macros that autoconf handles.\n\n\t* config/alpha/xm-vms.h: Don't define macros that autoconf handles.\n\t(SUCCESS_EXIT_CODE, FATAL_EXIT_CODE): Define for posix compatibility.\n\t* gcc.c (exit): Remove definition for VMS; moved to xm-vms.h.\n\nFrom-SVN: r47170", "tree": {"sha": "a9366575c5661f64c2aeb0cc3e9fe4ea04f87315", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a9366575c5661f64c2aeb0cc3e9fe4ea04f87315"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/394f41b6ccd34809f140d3361952abe1aa9d2ec0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/394f41b6ccd34809f140d3361952abe1aa9d2ec0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/394f41b6ccd34809f140d3361952abe1aa9d2ec0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/394f41b6ccd34809f140d3361952abe1aa9d2ec0/comments", "author": null, "committer": null, "parents": [{"sha": "aa6ad1a68bf94672cbc9f4c3aef60640cbc95a0a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa6ad1a68bf94672cbc9f4c3aef60640cbc95a0a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aa6ad1a68bf94672cbc9f4c3aef60640cbc95a0a"}], "stats": {"total": 33, "additions": 14, "deletions": 19}, "files": [{"sha": "4f58268c2ade8b2d7a362b2de54cce36fc126f80", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/394f41b6ccd34809f140d3361952abe1aa9d2ec0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/394f41b6ccd34809f140d3361952abe1aa9d2ec0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=394f41b6ccd34809f140d3361952abe1aa9d2ec0", "patch": "@@ -1,3 +1,9 @@\n+Mon Nov 19 07:21:35 2001  Douglas B. Rupp  <rupp@gnat.com>\n+\n+\t* config/alpha/xm-vms.h: Don't define macros that autoconf handles.\n+\t(SUCCESS_EXIT_CODE, FATAL_EXIT_CODE): Define for posix compatibility.\n+\t* gcc.c (exit): Remove definition for VMS; moved to xm-vms.h.\n+\n 2001-11-19  Jason Merrill  <jason@redhat.com>\n \n \t* cppmacro.c (_cpp_backup_tokens): Pop cur_run before decrementing"}, {"sha": "5ab7ab849cc1e1213e6fe4d9639a08e8aa3257fe", "filename": "gcc/config/alpha/xm-vms.h", "status": "modified", "additions": 8, "deletions": 15, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/394f41b6ccd34809f140d3361952abe1aa9d2ec0/gcc%2Fconfig%2Falpha%2Fxm-vms.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/394f41b6ccd34809f140d3361952abe1aa9d2ec0/gcc%2Fconfig%2Falpha%2Fxm-vms.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Fxm-vms.h?ref=394f41b6ccd34809f140d3361952abe1aa9d2ec0", "patch": "@@ -38,10 +38,16 @@ Boston, MA 02111-1307, USA.  */\n #define HOST_WIDE_INT long long\n #define HOST_BITS_PER_WIDE_INT 64\n \n+/* Override values in stdlib.h since gcc uses __posix_exit */\n #undef SUCCESS_EXIT_CODE\n-#define SUCCESS_EXIT_CODE 1\n+#define SUCCESS_EXIT_CODE 0\n #undef FATAL_EXIT_CODE\n-#define FATAL_EXIT_CODE (44 | 0x10000000)  /* Abort, and no DCL message.  */\n+#define FATAL_EXIT_CODE (1)\n+#ifdef exit\n+#undef exit\n+#endif\n+#define exit __posix_exit\n+void __posix_exit (int);\n \n /* A couple of conditionals for execution machine are controlled here.  */\n #ifndef VMS\n@@ -61,20 +67,7 @@ Boston, MA 02111-1307, USA.  */\n /* Define a local equivalent (sort of) for unlink */\n #define unlink remove\n \n-#define HAVE_VPRINTF\n-#define HAVE_PUTENV\n-#define HAVE_STRERROR\n-#define HAVE_ATOLL\n-\n-#define HAVE_FCNTL_H 1\n-#define HAVE_STDLIB_H 1\n-#define HAVE_UNISTD_H 1\n-#define HAVE_STRING_H 1\n-#define HAVE_LIMITS_H 1\n-#define HAVE_STDDEF_H 1\n-#define HAVE_TIME_H 1\n #define STDC_HEADERS 1\n-#define HAVE_STRINGIZE 1\n \n #define HOST_EXECUTABLE_SUFFIX \".exe\"\n #define HOST_OBJECT_SUFFIX \".obj\""}, {"sha": "fc9ee62a02cb223cb63d13e18a9b572a244a7ddc", "filename": "gcc/gcc.c", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/394f41b6ccd34809f140d3361952abe1aa9d2ec0/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/394f41b6ccd34809f140d3361952abe1aa9d2ec0/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=394f41b6ccd34809f140d3361952abe1aa9d2ec0", "patch": "@@ -81,10 +81,6 @@ compilation is specified by a string called a \"spec\".  */\n #include \"prefix.h\"\n #include \"gcc.h\"\n \n-#ifdef VMS\n-#define exit __posix_exit\n-#endif\n-\n #ifdef HAVE_SYS_RESOURCE_H\n #include <sys/resource.h>\n #endif"}]}