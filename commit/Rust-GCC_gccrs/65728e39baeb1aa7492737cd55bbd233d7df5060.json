{"sha": "65728e39baeb1aa7492737cd55bbd233d7df5060", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjU3MjhlMzliYWViMWFhNzQ5MjczN2NkNTViYmQyMzNkN2RmNTA2MA==", "commit": {"author": {"name": "Aldy Hernandez", "email": "aldyh@gcc.gnu.org", "date": "2012-02-15T14:24:40Z"}, "committer": {"name": "Aldy Hernandez", "email": "aldyh@gcc.gnu.org", "date": "2012-02-15T14:24:40Z"}, "message": "Remove mistaken commit.\n\nFrom-SVN: r184272", "tree": {"sha": "215e7996e674f853bcafcc01e7dd0ae665efdbb8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/215e7996e674f853bcafcc01e7dd0ae665efdbb8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/65728e39baeb1aa7492737cd55bbd233d7df5060", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65728e39baeb1aa7492737cd55bbd233d7df5060", "html_url": "https://github.com/Rust-GCC/gccrs/commit/65728e39baeb1aa7492737cd55bbd233d7df5060", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65728e39baeb1aa7492737cd55bbd233d7df5060/comments", "author": null, "committer": null, "parents": [{"sha": "2da8c1adcf5cefd0274f26077fadbfaeb0216344", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2da8c1adcf5cefd0274f26077fadbfaeb0216344", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2da8c1adcf5cefd0274f26077fadbfaeb0216344"}], "stats": {"total": 25, "additions": 0, "deletions": 25}, "files": [{"sha": "c5136f3e06492f430925a68db1ec7ac0b076e076", "filename": "gcc/testsuite/gcc.dg/tm/pr52141.c", "status": "removed", "additions": 0, "deletions": 21, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2da8c1adcf5cefd0274f26077fadbfaeb0216344/gcc%2Ftestsuite%2Fgcc.dg%2Ftm%2Fpr52141.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2da8c1adcf5cefd0274f26077fadbfaeb0216344/gcc%2Ftestsuite%2Fgcc.dg%2Ftm%2Fpr52141.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftm%2Fpr52141.c?ref=2da8c1adcf5cefd0274f26077fadbfaeb0216344", "patch": "@@ -1,21 +0,0 @@\n-/* { dg-do compile } */\n-/* { dg-options \"-fgnu-tm -O1\" } */\n-\n-inline void asmfunc(void)\n-{\n-  __asm__ (\"\"); /* { dg-error \"asm not allowed in .transaction_safe\" } */\n-}\n-\n-__attribute__((transaction_safe))\n-static void f(void)\n-{\n-  asmfunc();\n-}\n-\n-int main()\n-{\n-  __transaction_atomic {\n-    f();\n-  }\n-  return 0;\n-}"}, {"sha": "d760db34b2aee0a44674659e72fe63c5940a65b3", "filename": "gcc/trans-mem.c", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65728e39baeb1aa7492737cd55bbd233d7df5060/gcc%2Ftrans-mem.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65728e39baeb1aa7492737cd55bbd233d7df5060/gcc%2Ftrans-mem.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftrans-mem.c?ref=65728e39baeb1aa7492737cd55bbd233d7df5060", "patch": "@@ -3736,10 +3736,6 @@ ipa_tm_scan_irr_block (basic_block bb)\n \t     assembly statement is not relevant to the transaction\n \t     is to wrap it in a __tm_waiver block.  This is not\n \t     yet implemented, so we can't check for it.  */\n-\t  if (is_tm_safe (current_function_decl))\n-\t    error_at (gimple_location (stmt),\n-\t\t      \"asm not allowed in %<transaction_safe%> function %qE\",\n-\t\t      current_function_decl);\n \t  return true;\n \n \tdefault:"}]}