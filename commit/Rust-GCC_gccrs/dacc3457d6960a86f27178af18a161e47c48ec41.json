{"sha": "dacc3457d6960a86f27178af18a161e47c48ec41", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGFjYzM0NTdkNjk2MGE4NmYyNzE3OGFmMThhMTYxZTQ3YzQ4ZWM0MQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2015-02-20T09:42:04Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2015-02-20T09:42:04Z"}, "message": "[multiple changes]\n\n2015-02-20  Robert Dewar  <dewar@adacore.com>\n\n\t* einfo.ads: Minor comment updates Fix missing pragma Inline\n\tfor Set_Partial_View_Has_Unknown_Discr.\n\t* einfo.adb (Write_Entity_Flags): Add missing entry for\n\tPartial_View_Has_Unknown_Discr.\n\t* sem_ch3.adb: Minor reformatting.\n\n2015-02-20  Vincent Celier  <celier@adacore.com>\n\n\t* opt.ads: Minor cleanup: remove mention of gprmake.\n\t* s-stalib.ads (Abort_Undefer_Direct): Do not inline.\n\t* s-tataat.adb: Do not call System.Tasking.Self but directly\n\tSystem.Task_Primitives.Operations.Self.\n\nFrom-SVN: r220839", "tree": {"sha": "f1d580120e05d9347d759a8a86164e86db31fa20", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f1d580120e05d9347d759a8a86164e86db31fa20"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dacc3457d6960a86f27178af18a161e47c48ec41", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dacc3457d6960a86f27178af18a161e47c48ec41", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dacc3457d6960a86f27178af18a161e47c48ec41", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dacc3457d6960a86f27178af18a161e47c48ec41/comments", "author": null, "committer": null, "parents": [{"sha": "426c1eb04bf1549ab72e35cb49cac0a5a36fb83b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/426c1eb04bf1549ab72e35cb49cac0a5a36fb83b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/426c1eb04bf1549ab72e35cb49cac0a5a36fb83b"}], "stats": {"total": 77, "additions": 52, "deletions": 25}, "files": [{"sha": "bad2730d0a2ffc658e4f7bc7abb1d34ae1133d05", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dacc3457d6960a86f27178af18a161e47c48ec41/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dacc3457d6960a86f27178af18a161e47c48ec41/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=dacc3457d6960a86f27178af18a161e47c48ec41", "patch": "@@ -1,3 +1,24 @@\n+2015-02-20  Robert Dewar  <dewar@adacore.com>\n+\n+\t* einfo.ads: Minor comment updates Fix missing pragma Inline\n+\tfor Set_Partial_View_Has_Unknown_Discr.\n+\t* einfo.adb (Write_Entity_Flags): Add missing entry for\n+\tPartial_View_Has_Unknown_Discr.\n+\t* sem_ch3.adb: Minor reformatting.\n+\n+2015-02-20  Vincent Celier  <celier@adacore.com>\n+\n+\t* opt.ads: Minor cleanup: remove mention of gprmake.\n+\t* s-stalib.ads (Abort_Undefer_Direct): Do not inline.\n+\t* s-tataat.adb: Do not call System.Tasking.Self but directly\n+\tSystem.Task_Primitives.Operations.Self.\n+\n+2015-02-20  Arnaud Charlet  <charlet@adacore.com>\n+\n+\t* gnat_rm.texi, gnat_ugn.texi: Now automatically generated from\n+\tsphinx in the doc directory.\n+\t* doc: New directory containing sphinx versions of gnat_rm and gnat_ugn\n+\n 2015-02-20  Robert Dewar  <dewar@adacore.com>\n \n \t* sem_res.adb: Minor reformatting."}, {"sha": "dba0e75d9b4408bc496044a67dd07ecc8940470f", "filename": "gcc/ada/einfo.adb", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dacc3457d6960a86f27178af18a161e47c48ec41/gcc%2Fada%2Feinfo.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dacc3457d6960a86f27178af18a161e47c48ec41/gcc%2Fada%2Feinfo.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Feinfo.adb?ref=dacc3457d6960a86f27178af18a161e47c48ec41", "patch": "@@ -8669,6 +8669,7 @@ package body Einfo is\n       W (\"Optimize_Alignment_Space\",        Flag241 (Id));\n       W (\"Optimize_Alignment_Time\",         Flag242 (Id));\n       W (\"Overlays_Constant\",               Flag243 (Id));\n+      W (\"Partial_View_Has_Unknown_Discr\",  Flag280 (Id));\n       W (\"Reachable\",                       Flag49  (Id));\n       W (\"Referenced\",                      Flag156 (Id));\n       W (\"Referenced_As_LHS\",               Flag36  (Id));"}, {"sha": "b11a9a63246544cbca78e5dc8974a1f278cda5ce", "filename": "gcc/ada/einfo.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dacc3457d6960a86f27178af18a161e47c48ec41/gcc%2Fada%2Feinfo.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dacc3457d6960a86f27178af18a161e47c48ec41/gcc%2Fada%2Feinfo.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Feinfo.ads?ref=dacc3457d6960a86f27178af18a161e47c48ec41", "patch": "@@ -3579,7 +3579,7 @@ package Einfo is\n --       subject to indicator Part_Of (both aspect and option variants).\n \n --    Partial_View_Has_Unknown_Discr (Flag280)\n---       Present on types entities. Indicates that the partial view of a type\n+--       Present in all types. Set to Indicate that the partial view of a type\n --       has unknown discriminants. A default initialization of an object of\n --       the type does not require an invariant check (AI12-0133).\n \n@@ -8778,7 +8778,7 @@ package Einfo is\n    pragma Inline (Set_Packed_Array_Impl_Type);\n    pragma Inline (Set_Parent_Subtype);\n    pragma Inline (Set_Part_Of_Constituents);\n-   pragma Inline (Partial_View_Has_Unknown_Discr);\n+   pragma Inline (Set_Partial_View_Has_Unknown_Discr);\n    pragma Inline (Set_Pending_Access_Types);\n    pragma Inline (Set_Postcondition_Proc);\n    pragma Inline (Set_Prival);"}, {"sha": "026878ed79703a34b42e925468f2f251318cadbb", "filename": "gcc/ada/opt.ads", "status": "modified", "additions": 17, "deletions": 17, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dacc3457d6960a86f27178af18a161e47c48ec41/gcc%2Fada%2Fopt.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dacc3457d6960a86f27178af18a161e47c48ec41/gcc%2Fada%2Fopt.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fopt.ads?ref=dacc3457d6960a86f27178af18a161e47c48ec41", "patch": "@@ -32,7 +32,7 @@\n --  This package contains global flags set by the initialization routine from\n --  the command line and referenced throughout the compiler, the binder, or\n --  other GNAT tools. The comments indicate which options are used by which\n---  programs (GNAT, GNATBIND, GNATLINK, GNATMAKE, GPRMAKE, etc).\n+--  programs (GNAT, GNATBIND, GNATLINK, GNATMAKE, etc).\n \n --  Some flags are labelled \"PROJECT MANAGER\". These are used by tools that\n --  use the Project Manager. These tools include gnatmake, gnatname, the gnat\n@@ -268,7 +268,7 @@ package Opt is\n    --  a library. May be set to True by Gnatbind.Scan_Bind_Arg.\n \n    Bind_Only : Boolean := False;\n-   --  GNATMAKE, GPRMAKE, GPRBUILD\n+   --  GNATMAKE, GPRBUILD\n    --  Set to True to skip compile and link steps\n    --  (except when Compile_Only and/or Link_Only are True).\n \n@@ -334,7 +334,7 @@ package Opt is\n    --  directly modified by gnatmake, to affect the shared binder routines.\n \n    Check_Switches : Boolean := False;\n-   --  GNATMAKE, GPRMAKE, GPBUILD\n+   --  GNATMAKE, GPBUILD\n    --  Set to True to check compiler options during the make process\n \n    Check_Unreferenced : Boolean := False;\n@@ -378,8 +378,8 @@ package Opt is\n    --  Compilation date and time in form YYYY-MM-DD HH:MM:SS\n \n    Compile_Only : Boolean := False;\n-   --  GNATMAKE, GNATCLEAN, GPRMAKE, GPBUILD, GPRCLEAN\n-   --  GNATMAKE, GPRMAKE, GPRMAKE:\n+   --  GNATMAKE, GNATCLEAN, GPBUILD, GPRCLEAN\n+   --  GNATMAKE, GPRBUILD:\n    --    set True to skip bind and link steps (except when Bind_Only is True)\n    --  GNATCLEAN, GPRCLEAN:\n    --    set True to delete only the files produced by the compiler but not the\n@@ -415,7 +415,7 @@ package Opt is\n    --  use of -gnatwc/C.\n \n    Create_Mapping_File : Boolean := False;\n-   --  GNATMAKE, GPRMAKE\n+   --  GNATMAKE\n    --  Set to True (-C switch) to indicate that the compiler will be invoked\n    --  with a mapping file (-gnatem compiler switch).\n \n@@ -474,7 +474,7 @@ package Opt is\n    --  Set to False with switch -f of gnatclean and gprclean\n \n    Display_Compilation_Progress : Boolean := False;\n-   --  GNATMAKE, GPRMAKE, GPRBUILD\n+   --  GNATMAKE, GPRBUILD\n    --  Set True (-d switch) to display information on progress while compiling\n    --  files. Internal flag to be used in conjunction with an IDE (e.g GPS).\n \n@@ -668,7 +668,7 @@ package Opt is\n    --  (-F switch set).\n \n    Force_Compilations : Boolean := False;\n-   --  GNATMAKE, GPRMAKE, GPRBUILD\n+   --  GNATMAKE, GPRBUILD\n    --  Set to force recompilations even when the objects are up-to-date.\n \n    Front_End_Inlining : Boolean := False;\n@@ -864,7 +864,7 @@ package Opt is\n    --  if not.\n \n    Keep_Going : Boolean := False;\n-   --  GNATMAKE, GPRMAKE, GPRBUILD\n+   --  GNATMAKE, GPRBUILD\n    --  When True signals to ignore compilation errors and keep processing\n    --  sources until there is no more work.\n \n@@ -879,7 +879,7 @@ package Opt is\n    --  children.\n \n    Link_Only : Boolean := False;\n-   --  GNATMAKE, GPRMAKE, GPRBUILD\n+   --  GNATMAKE, GPRBUILD\n    --  Set to True to skip compile and bind steps (except when Bind_Only is\n    --  set to True).\n \n@@ -1028,7 +1028,7 @@ package Opt is\n    --  specially concocted test cases. Can be modified by -gnateinn switch.\n \n    Maximum_Processes : Positive := 1;\n-   --  GNATMAKE, GPRMAKE, GPRBUILD\n+   --  GNATMAKE, GPRBUILD\n    --  Maximum number of processes that should be spawned to carry out\n    --  compilations.\n \n@@ -1163,10 +1163,10 @@ package Opt is\n    --  for definitions of \"optimize_size\" for dotnet/jgnat and GNAAMP backends\n \n    Output_File_Name_Present : Boolean := False;\n-   --  GNATBIND, GNAT, GNATMAKE, GPRMAKE\n+   --  GNATBIND, GNAT, GNATMAKE\n    --  Set to True when the output C file name is given with option -o for\n    --  GNATBIND, when the object file name is given with option -gnatO for GNAT\n-   --  or when the executable is given with option -o for GNATMAKE or GPRMAKE.\n+   --  or when the executable is given with option -o for GNATMAKE.\n \n    Output_Linker_Option_List : Boolean := False;\n    --  GNATBIND\n@@ -1255,7 +1255,7 @@ package Opt is\n    --  policy is set in package System.\n \n    Quiet_Output : Boolean := False;\n-   --  GNATMAKE, GNATCLEAN, GPRMAKE, GPRBUILD, GPRCLEAN\n+   --  GNATMAKE, GNATCLEAN, GPRBUILD, GPRCLEAN\n    --  Set to True if the tool should not have any output if there are no\n    --  errors or warnings.\n \n@@ -1581,15 +1581,15 @@ package Opt is\n \n    Verbose_Mode : Boolean := False;\n    --  GNAT, GNATBIND, GNATMAKE, GNATLINK, GNATLS, GNATNAME, GNATCLEAN,\n-   --  GPRMAKE, GPRBUILD, GPRCLEAN\n+   --  GPRBUILD, GPRCLEAN\n    --  Set to True to get verbose mode (full error message text and location\n    --  information sent to standard output, also header, copyright and summary)\n \n    type Verbosity_Level_Type is (None, Low, Medium, High);\n    pragma Ordered (Verbosity_Level_Type);\n    Verbosity_Level : Verbosity_Level_Type := High;\n-   --  GNATMAKE, GPRMAKE\n-   --  Modified by gnatmake or gprmake switches -v, -vl, -vm, -vh. Indicates\n+   --  GNATMAKE\n+   --  Modified by gnatmake switches -v, -vl, -vm, -vh. Indicates\n    --  the level of verbosity of informational messages:\n    --\n    --  In Low Verbosity, the reasons why a source is recompiled, the name"}, {"sha": "e3e8e10adc677ffd1e0e8129497271ac89cb2428", "filename": "gcc/ada/s-stalib.ads", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dacc3457d6960a86f27178af18a161e47c48ec41/gcc%2Fada%2Fs-stalib.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dacc3457d6960a86f27178af18a161e47c48ec41/gcc%2Fada%2Fs-stalib.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-stalib.ads?ref=dacc3457d6960a86f27178af18a161e47c48ec41", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2014, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2015, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -239,9 +239,10 @@ package System.Standard_Library is\n    -----------------\n \n    procedure Abort_Undefer_Direct;\n-   pragma Inline (Abort_Undefer_Direct);\n    --  A little procedure that just calls Abort_Undefer.all, for use in\n    --  clean up procedures, which only permit a simple subprogram name.\n+   --  ??? This procedure is not marked inline because the front-end\n+   --  cannot currently mark its calls from at-end handers as inlined.\n \n    procedure Adafinal;\n    --  Performs the Ada Runtime finalization the first time it is invoked."}, {"sha": "0ebf3d1bb9620e43ead5c47bdc839a87b9948535", "filename": "gcc/ada/s-tataat.adb", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dacc3457d6960a86f27178af18a161e47c48ec41/gcc%2Fada%2Fs-tataat.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dacc3457d6960a86f27178af18a161e47c48ec41/gcc%2Fada%2Fs-tataat.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-tataat.adb?ref=dacc3457d6960a86f27178af18a161e47c48ec41", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                  B o d y                                 --\n --                                                                          --\n---            Copyright (C) 2014, Free Software Foundation, Inc.            --\n+--          Copyright (C) 2014-2015, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -31,9 +31,12 @@\n \n with System.Parameters; use System.Parameters;\n with System.Tasking.Initialization; use System.Tasking.Initialization;\n+with System.Task_Primitives.Operations;\n \n package body System.Tasking.Task_Attributes is\n \n+   package STPO renames System.Task_Primitives.Operations;\n+\n    type Index_Info is record\n       Used : Boolean;\n       --  Used is True if a given index is used by an instantiation of\n@@ -51,7 +54,8 @@ package body System.Tasking.Task_Attributes is\n    --  System.Address type and Initial_Value is 0 (or null for an access type).\n \n    function Next_Index (Require_Finalization : Boolean) return Integer is\n-      Self_Id : constant Task_Id := Self;\n+      Self_Id : constant Task_Id := STPO.Self;\n+\n    begin\n       Task_Lock (Self_Id);\n \n@@ -73,7 +77,7 @@ package body System.Tasking.Task_Attributes is\n    --------------\n \n    procedure Finalize (Index : Integer) is\n-      Self_Id : constant Task_Id := Self;\n+      Self_Id : constant Task_Id := STPO.Self;\n    begin\n       pragma Assert (Index in Index_Array'Range);\n       Task_Lock (Self_Id);"}, {"sha": "c6511487d18a9a66a9abc816948383a65ba8052c", "filename": "gcc/ada/sem_ch3.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dacc3457d6960a86f27178af18a161e47c48ec41/gcc%2Fada%2Fsem_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dacc3457d6960a86f27178af18a161e47c48ec41/gcc%2Fada%2Fsem_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch3.adb?ref=dacc3457d6960a86f27178af18a161e47c48ec41", "patch": "@@ -16459,7 +16459,7 @@ package body Sem_Ch3 is\n             Set_Has_Private_Declaration (Prev);\n             Set_Has_Private_Declaration (Id);\n \n-            --  AI12-0133 : indicate whether we have a partial view with\n+            --  AI12-0133: Indicate whether we have a partial view with\n             --  unknown discriminants, in which case initialization of objects\n             --  of the type do not receive an invariant check.\n "}]}