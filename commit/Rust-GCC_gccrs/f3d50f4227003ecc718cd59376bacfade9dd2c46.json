{"sha": "f3d50f4227003ecc718cd59376bacfade9dd2c46", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjNkNTBmNDIyNzAwM2VjYzcxOGNkNTkzNzZiYWNmYWRlOWRkMmM0Ng==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "1999-02-26T11:33:53Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "1999-02-26T11:33:53Z"}, "message": "gjavah.c (add_namelet): Check for standard package names here.\n\n\t* gjavah.c (add_namelet): Check for standard package names here.\n\t(add_class_decl): Don't check for standard package names here.\n\nFrom-SVN: r25456", "tree": {"sha": "4b72101afc73df1a9db43baf2b52c9aeff1fd932", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4b72101afc73df1a9db43baf2b52c9aeff1fd932"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f3d50f4227003ecc718cd59376bacfade9dd2c46", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3d50f4227003ecc718cd59376bacfade9dd2c46", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f3d50f4227003ecc718cd59376bacfade9dd2c46", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3d50f4227003ecc718cd59376bacfade9dd2c46/comments", "author": null, "committer": null, "parents": [{"sha": "7c11f9d50f0c473df812264626f24a20b0138bcd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c11f9d50f0c473df812264626f24a20b0138bcd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c11f9d50f0c473df812264626f24a20b0138bcd"}], "stats": {"total": 36, "additions": 22, "deletions": 14}, "files": [{"sha": "432ba03d4e85932346a039fe6d86d448ad51bc5e", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3d50f4227003ecc718cd59376bacfade9dd2c46/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3d50f4227003ecc718cd59376bacfade9dd2c46/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=f3d50f4227003ecc718cd59376bacfade9dd2c46", "patch": "@@ -1,3 +1,8 @@\n+1999-02-26  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* gjavah.c (add_namelet): Check for standard package names here.\n+\t(add_class_decl): Don't check for standard package names here.\n+\n 1999-02-25  Tom Tromey  <tromey@cygnus.com>\n \n \t* parse.y (read_import_dir): Use `|=', not `+=', to set `found'."}, {"sha": "0733373e5ee17042c9c0a5ecb4ae97781928c88a", "filename": "gcc/java/gjavah.c", "status": "modified", "additions": 17, "deletions": 14, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3d50f4227003ecc718cd59376bacfade9dd2c46/gcc%2Fjava%2Fgjavah.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3d50f4227003ecc718cd59376bacfade9dd2c46/gcc%2Fjava%2Fgjavah.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fgjavah.c?ref=f3d50f4227003ecc718cd59376bacfade9dd2c46", "patch": "@@ -865,6 +865,23 @@ add_namelet (name, name_limit, parent)\n   unsigned char *p;\n   struct namelet *n = NULL, *np;\n \n+  /* We want to skip the standard namespaces that we assume the\n+     runtime already knows about.  We only do this at the top level,\n+     though, hence the check for `root'.  */\n+  if (parent == &root)\n+    {\n+#define JAVALANG \"java/lang/\"\n+#define JAVAIO \"java/io/\"\n+#define JAVAUTIL \"java/util/\"\n+      if ((name_limit - name >= sizeof (JAVALANG) - 1\n+\t   && ! strncmp (name, JAVALANG, sizeof (JAVALANG) - 1))\n+\t  || (name_limit - name >= sizeof (JAVAUTIL) - 1\n+\t      && ! strncmp (name, JAVAUTIL, sizeof (JAVAUTIL) - 1))\n+\t  || (name_limit - name >= sizeof (JAVAIO) - 1\n+\t      && ! strncmp (name, JAVAIO, sizeof (JAVAIO) - 1)))\n+\treturn;\n+    }\n+\n   for (p = name; p < name_limit && *p != '/' && *p != '$'; ++p)\n     ;\n \n@@ -978,20 +995,6 @@ add_class_decl (out, jcf, signature)\n \t    }\n \t}\n \n-#define JAVALANG \"java/lang/\"\n-#define JAVAIO \"java/io/\"\n-#define JAVAUTIL \"java/util/\"\n-      if ((i - start >= sizeof (JAVALANG) - 1\n-\t   && ! strncmp (&s[start], JAVALANG, sizeof (JAVALANG) - 1))\n-\t  || (i - start >= sizeof (JAVAUTIL) - 1\n-\t      && ! strncmp (&s[start], JAVAUTIL, sizeof (JAVAUTIL) - 1))\n-\t  || (i - start >= sizeof (JAVAIO) - 1\n-\t      && ! strncmp (&s[start], JAVAIO, sizeof (JAVAIO) - 1)))\n-\t{\n-\t  /* Skip all the standard `java.' classes.  */\n-\t  continue;\n-\t}\n-\n       add_namelet (&s[start], &s[i], &root);\n     }\n }"}]}