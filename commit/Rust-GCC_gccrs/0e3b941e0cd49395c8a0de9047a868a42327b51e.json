{"sha": "0e3b941e0cd49395c8a0de9047a868a42327b51e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGUzYjk0MWUwY2Q0OTM5NWM4YTBkZTkwNDdhODY4YTQyMzI3YjUxZQ==", "commit": {"author": {"name": "Janus Weil", "email": "janus@gcc.gnu.org", "date": "2010-06-29T19:06:07Z"}, "committer": {"name": "Janus Weil", "email": "janus@gcc.gnu.org", "date": "2010-06-29T19:06:07Z"}, "message": "re PR fortran/44696 ([OOP] ASSOCIATED fails on polymorphic variables)\n\n2010-06-29  Janus Weil  <janus@gcc.gnu.org>\n\n\tPR fortran/44696\n\t* trans-intrinsic.c (gfc_conv_associated): Handle polymorphic variables\n\tpassed as second argument of ASSOCIATED.\n\n2010-06-29  Janus Weil  <janus@gcc.gnu.org>\n\n\tPR fortran/44696\n\t* gfortran.dg/associated_target_4.f90: New.\n\nFrom-SVN: r161554", "tree": {"sha": "2deec3e2cf0eaea557f447a67c222a34e4ff7779", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2deec3e2cf0eaea557f447a67c222a34e4ff7779"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0e3b941e0cd49395c8a0de9047a868a42327b51e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e3b941e0cd49395c8a0de9047a868a42327b51e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e3b941e0cd49395c8a0de9047a868a42327b51e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e3b941e0cd49395c8a0de9047a868a42327b51e/comments", "author": {"login": "janusw", "id": 484108, "node_id": "MDQ6VXNlcjQ4NDEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/484108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janusw", "html_url": "https://github.com/janusw", "followers_url": "https://api.github.com/users/janusw/followers", "following_url": "https://api.github.com/users/janusw/following{/other_user}", "gists_url": "https://api.github.com/users/janusw/gists{/gist_id}", "starred_url": "https://api.github.com/users/janusw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janusw/subscriptions", "organizations_url": "https://api.github.com/users/janusw/orgs", "repos_url": "https://api.github.com/users/janusw/repos", "events_url": "https://api.github.com/users/janusw/events{/privacy}", "received_events_url": "https://api.github.com/users/janusw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "janusw", "id": 484108, "node_id": "MDQ6VXNlcjQ4NDEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/484108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janusw", "html_url": "https://github.com/janusw", "followers_url": "https://api.github.com/users/janusw/followers", "following_url": "https://api.github.com/users/janusw/following{/other_user}", "gists_url": "https://api.github.com/users/janusw/gists{/gist_id}", "starred_url": "https://api.github.com/users/janusw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janusw/subscriptions", "organizations_url": "https://api.github.com/users/janusw/orgs", "repos_url": "https://api.github.com/users/janusw/repos", "events_url": "https://api.github.com/users/janusw/events{/privacy}", "received_events_url": "https://api.github.com/users/janusw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "528b7aa42d97f794318ac9943973605d601a410c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/528b7aa42d97f794318ac9943973605d601a410c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/528b7aa42d97f794318ac9943973605d601a410c"}], "stats": {"total": 36, "additions": 36, "deletions": 0}, "files": [{"sha": "a838747821b0d98fa5d0300345035ae39ad9228e", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e3b941e0cd49395c8a0de9047a868a42327b51e/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e3b941e0cd49395c8a0de9047a868a42327b51e/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=0e3b941e0cd49395c8a0de9047a868a42327b51e", "patch": "@@ -1,3 +1,9 @@\n+2010-06-29  Janus Weil  <janus@gcc.gnu.org>\n+\n+\tPR fortran/44696\n+\t* trans-intrinsic.c (gfc_conv_associated): Handle polymorphic variables\n+\tpassed as second argument of ASSOCIATED.\n+\n 2010-06-29  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/44582"}, {"sha": "06fd538d7752ba62921ab175e53cc27aa554d81e", "filename": "gcc/fortran/trans-intrinsic.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e3b941e0cd49395c8a0de9047a868a42327b51e/gcc%2Ffortran%2Ftrans-intrinsic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e3b941e0cd49395c8a0de9047a868a42327b51e/gcc%2Ffortran%2Ftrans-intrinsic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-intrinsic.c?ref=0e3b941e0cd49395c8a0de9047a868a42327b51e", "patch": "@@ -4416,6 +4416,8 @@ gfc_conv_associated (gfc_se *se, gfc_expr *expr)\n   else\n     {\n       /* An optional target.  */\n+      if (arg2->expr->ts.type == BT_CLASS)\n+\tgfc_add_component_ref (arg2->expr, \"$data\");\n       ss2 = gfc_walk_expr (arg2->expr);\n \n       nonzero_charlen = NULL_TREE;"}, {"sha": "5a23fe001d900ddc3403bba9e3faad8f0593987d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e3b941e0cd49395c8a0de9047a868a42327b51e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e3b941e0cd49395c8a0de9047a868a42327b51e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=0e3b941e0cd49395c8a0de9047a868a42327b51e", "patch": "@@ -1,3 +1,8 @@\n+2010-06-29  Janus Weil  <janus@gcc.gnu.org>\n+\n+\tPR fortran/44696\n+\t* gfortran.dg/associated_target_4.f90: New.\n+\n 2010-06-29  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/44582"}, {"sha": "24f331785e87468585495015c7e526e6241498f6", "filename": "gcc/testsuite/gfortran.dg/associated_target_4.f90", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e3b941e0cd49395c8a0de9047a868a42327b51e/gcc%2Ftestsuite%2Fgfortran.dg%2Fassociated_target_4.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e3b941e0cd49395c8a0de9047a868a42327b51e/gcc%2Ftestsuite%2Fgfortran.dg%2Fassociated_target_4.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fassociated_target_4.f90?ref=0e3b941e0cd49395c8a0de9047a868a42327b51e", "patch": "@@ -0,0 +1,23 @@\n+! { dg-do run }\n+!\n+! PR 44696: [OOP] ASSOCIATED fails on polymorphic variables\n+!\n+! Original test case by Hans-Werner Boschmann <boschmann@tp1.physik.uni-siegen.de>\n+! Modified by Janus Weil <janus@gcc.gnu.org>\n+\n+program rte1\n+  implicit none\n+  type::node_type\n+     class(node_type),pointer::parent,child\n+     integer::id\n+  end type node_type\n+  class(node_type),pointer::root\n+  allocate(root)\n+  allocate(root%child)\n+  root%child%parent=>root\n+  root%id=1\n+  root%child%id=2\n+  print *,root%child%id,\" is child of \",root%id,\":\"\n+  print *,root%child%parent%id,root%id\n+  if (.not. associated(root%child%parent,root)) call abort()\n+end program rte1"}]}