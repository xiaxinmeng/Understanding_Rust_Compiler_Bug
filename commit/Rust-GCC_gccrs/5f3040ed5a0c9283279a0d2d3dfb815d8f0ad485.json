{"sha": "5f3040ed5a0c9283279a0d2d3dfb815d8f0ad485", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWYzMDQwZWQ1YTBjOTI4MzI3OWEwZDJkM2RmYjgxNWQ4ZjBhZDQ4NQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2018-11-15T12:06:46Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2018-11-15T12:06:46Z"}, "message": "misc.c (gnat_init_gcc_eh): Do not override the switch -fnon-call-exceptions passed on the command line in...\n\n\t* gcc-interface/misc.c (gnat_init_gcc_eh): Do not override the switch\n\t-fnon-call-exceptions passed on the command line in -gnatp mode.\n\nFrom-SVN: r266176", "tree": {"sha": "dcfd4ad22cd1852ad2cd37a1c21c44f228c2d1d8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dcfd4ad22cd1852ad2cd37a1c21c44f228c2d1d8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5f3040ed5a0c9283279a0d2d3dfb815d8f0ad485", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f3040ed5a0c9283279a0d2d3dfb815d8f0ad485", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f3040ed5a0c9283279a0d2d3dfb815d8f0ad485", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f3040ed5a0c9283279a0d2d3dfb815d8f0ad485/comments", "author": null, "committer": null, "parents": [{"sha": "bca7138a499a88d774ada82f0401ad0981fe7572", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bca7138a499a88d774ada82f0401ad0981fe7572", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bca7138a499a88d774ada82f0401ad0981fe7572"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "589f52f3c9252016e27a5d676107361b1361b7c1", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f3040ed5a0c9283279a0d2d3dfb815d8f0ad485/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f3040ed5a0c9283279a0d2d3dfb815d8f0ad485/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=5f3040ed5a0c9283279a0d2d3dfb815d8f0ad485", "patch": "@@ -7,6 +7,11 @@\n \t* exp_ch4.adb (Expand_Boolean_Operation): Use this new profile.\n \t* exp_pakd.adb (Expand_Packed_Boolean_Operator): Ditto.\n \n+2018-11-15  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc-interface/misc.c (gnat_init_gcc_eh): Do not override the switch\n+\t-fnon-call-exceptions passed on the command line in -gnatp mode.\n+\n 2018-11-14  Patrick Bernardi  <bernardi@adacore.com>\n \n \t* libgnarl/a-intnam__linux.ads: Add SIGSYS."}, {"sha": "00b73705f32eb5e32ee78adcf86cbba7cc459bb8", "filename": "gcc/ada/gcc-interface/misc.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f3040ed5a0c9283279a0d2d3dfb815d8f0ad485/gcc%2Fada%2Fgcc-interface%2Fmisc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f3040ed5a0c9283279a0d2d3dfb815d8f0ad485/gcc%2Fada%2Fgcc-interface%2Fmisc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fmisc.c?ref=5f3040ed5a0c9283279a0d2d3dfb815d8f0ad485", "patch": "@@ -412,7 +412,10 @@ gnat_init_gcc_eh (void)\n   flag_exceptions = 1;\n   flag_delete_dead_exceptions = 1;\n   if (Suppress_Checks)\n-    flag_non_call_exceptions = Machine_Overflows_On_Target && GNAT_Mode;\n+    {\n+      if (!global_options_set.x_flag_non_call_exceptions)\n+\tflag_non_call_exceptions = Machine_Overflows_On_Target && GNAT_Mode;\n+    }\n   else\n     {\n       flag_non_call_exceptions = 1;"}]}