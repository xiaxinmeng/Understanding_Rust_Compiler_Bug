{"sha": "88f1232807e44dbf4e74bf7976c424c0c0a5c355", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODhmMTIzMjgwN2U0NGRiZjRlNzRiZjc5NzZjNDI0YzBjMGE1YzM1NQ==", "commit": {"author": {"name": "Cherry Zhang", "email": "cherryyz@google.com", "date": "2018-06-08T23:55:06Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2018-06-08T23:55:06Z"}, "message": "compiler: remove stack_allocation_expression\n    \n    Now we make temporaries for allocations on stack (CL 86242). This\n    function is no longer used. Remove.\n    \n    Reviewed-on: https://go-review.googlesource.com/92618\n\n\t* go-gcc.cc (class Gcc_backend): Remove\n\tstack_allocation_expression method.\n\nFrom-SVN: r261353", "tree": {"sha": "cf9d56e7540e6991c54da6ae576ba22a0fbe6840", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cf9d56e7540e6991c54da6ae576ba22a0fbe6840"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/88f1232807e44dbf4e74bf7976c424c0c0a5c355", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88f1232807e44dbf4e74bf7976c424c0c0a5c355", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88f1232807e44dbf4e74bf7976c424c0c0a5c355", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88f1232807e44dbf4e74bf7976c424c0c0a5c355/comments", "author": {"login": "cherrymui", "id": 14119929, "node_id": "MDQ6VXNlcjE0MTE5OTI5", "avatar_url": "https://avatars.githubusercontent.com/u/14119929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cherrymui", "html_url": "https://github.com/cherrymui", "followers_url": "https://api.github.com/users/cherrymui/followers", "following_url": "https://api.github.com/users/cherrymui/following{/other_user}", "gists_url": "https://api.github.com/users/cherrymui/gists{/gist_id}", "starred_url": "https://api.github.com/users/cherrymui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cherrymui/subscriptions", "organizations_url": "https://api.github.com/users/cherrymui/orgs", "repos_url": "https://api.github.com/users/cherrymui/repos", "events_url": "https://api.github.com/users/cherrymui/events{/privacy}", "received_events_url": "https://api.github.com/users/cherrymui/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d1ecece9af3adc46eb1cc716608c38692d57f9c1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1ecece9af3adc46eb1cc716608c38692d57f9c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d1ecece9af3adc46eb1cc716608c38692d57f9c1"}], "stats": {"total": 26, "additions": 5, "deletions": 21}, "files": [{"sha": "4e473b60f52210cf4a839d63adad92e69e7a6378", "filename": "gcc/go/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88f1232807e44dbf4e74bf7976c424c0c0a5c355/gcc%2Fgo%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88f1232807e44dbf4e74bf7976c424c0c0a5c355/gcc%2Fgo%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2FChangeLog?ref=88f1232807e44dbf4e74bf7976c424c0c0a5c355", "patch": "@@ -1,3 +1,8 @@\n+2018-06-08  Cherry Zhang  <cherryyz@google.com>\n+\n+\t* go-gcc.cc (class Gcc_backend): Remove\n+\tstack_allocation_expression method.\n+\n 2018-02-03  Ian Lance Taylor  <iant@golang.org>\n \n \t* go-gcc.cc (Gcc_backend::fill_in_struct): Mark struct types as"}, {"sha": "870e865fe8fbaf08caae1e845b7d0f4301200053", "filename": "gcc/go/go-gcc.cc", "status": "modified", "additions": 0, "deletions": 17, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88f1232807e44dbf4e74bf7976c424c0c0a5c355/gcc%2Fgo%2Fgo-gcc.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88f1232807e44dbf4e74bf7976c424c0c0a5c355/gcc%2Fgo%2Fgo-gcc.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgo-gcc.cc?ref=88f1232807e44dbf4e74bf7976c424c0c0a5c355", "patch": "@@ -352,9 +352,6 @@ class Gcc_backend : public Backend\n                   const std::vector<Bexpression*>& args,\n                   Bexpression* static_chain, Location);\n \n-  Bexpression*\n-  stack_allocation_expression(int64_t size, Location);\n-\n   // Statements.\n \n   Bstatement*\n@@ -1999,20 +1996,6 @@ Gcc_backend::call_expression(Bfunction*, // containing fcn for call\n   return this->make_expression(ret);\n }\n \n-// Return an expression that allocates SIZE bytes on the stack.\n-\n-Bexpression*\n-Gcc_backend::stack_allocation_expression(int64_t size, Location location)\n-{\n-  tree alloca = builtin_decl_explicit(BUILT_IN_ALLOCA);\n-  tree size_tree = build_int_cst(integer_type_node, size);\n-  tree ret = build_call_expr_loc(location.gcc_location(), alloca, 1, size_tree);\n-  tree memset = builtin_decl_explicit(BUILT_IN_MEMSET);\n-  ret = build_call_expr_loc(location.gcc_location(), memset, 3,\n-                            ret, integer_zero_node, size_tree);\n-  return this->make_expression(ret);\n-}\n-\n // An expression as a statement.\n \n Bstatement*"}, {"sha": "5cc0dec4a88480b9392451878b7076ac914d6e05", "filename": "gcc/go/gofrontend/backend.h", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88f1232807e44dbf4e74bf7976c424c0c0a5c355/gcc%2Fgo%2Fgofrontend%2Fbackend.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88f1232807e44dbf4e74bf7976c424c0c0a5c355/gcc%2Fgo%2Fgofrontend%2Fbackend.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fbackend.h?ref=88f1232807e44dbf4e74bf7976c424c0c0a5c355", "patch": "@@ -379,10 +379,6 @@ class Backend\n                   const std::vector<Bexpression*>& args,\n \t\t  Bexpression* static_chain, Location) = 0;\n \n-  // Return an expression that allocates SIZE bytes on the stack.\n-  virtual Bexpression*\n-  stack_allocation_expression(int64_t size, Location) = 0;\n-\n   // Statements.\n \n   // Create an error statement.  This is used for cases which should"}]}