{"sha": "62d1a8f9040b90d1503a5495cf43b80027add792", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjJkMWE4ZjkwNDBiOTBkMTUwM2E1NDk1Y2Y0M2I4MDAyN2FkZDc5Mg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2010-12-23T00:07:42Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2010-12-23T00:07:42Z"}, "message": "Avoid crash when an unknown object is declared as a type.\n\nFrom-SVN: r168188", "tree": {"sha": "d298f10e950aea64f084a93659f26bdea02f0397", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d298f10e950aea64f084a93659f26bdea02f0397"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/62d1a8f9040b90d1503a5495cf43b80027add792", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62d1a8f9040b90d1503a5495cf43b80027add792", "html_url": "https://github.com/Rust-GCC/gccrs/commit/62d1a8f9040b90d1503a5495cf43b80027add792", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62d1a8f9040b90d1503a5495cf43b80027add792/comments", "author": null, "committer": null, "parents": [{"sha": "7838059fb2e20689a98ece0f077ed288146515b6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7838059fb2e20689a98ece0f077ed288146515b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7838059fb2e20689a98ece0f077ed288146515b6"}], "stats": {"total": 20, "additions": 13, "deletions": 7}, "files": [{"sha": "8592ef546b9b5534e2908d1f510cf795226dfa18", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 13, "deletions": 7, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62d1a8f9040b90d1503a5495cf43b80027add792/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62d1a8f9040b90d1503a5495cf43b80027add792/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=62d1a8f9040b90d1503a5495cf43b80027add792", "patch": "@@ -1248,14 +1248,20 @@ Unknown_expression::do_lower(Gogo*, Named_object*, int)\n {\n   source_location location = this->location();\n   Named_object* no = this->named_object_;\n-  Named_object* real = no->unknown_value()->real_named_object();\n-  if (real == NULL)\n+  Named_object* real;\n+  if (!no->is_unknown())\n+    real = no;\n+  else\n     {\n-      if (this->is_composite_literal_key_)\n-\treturn this;\n-      error_at(location, \"reference to undefined name %qs\",\n-\t       this->named_object_->message_name().c_str());\n-      return Expression::make_error(location);\n+      real = no->unknown_value()->real_named_object();\n+      if (real == NULL)\n+\t{\n+\t  if (this->is_composite_literal_key_)\n+\t    return this;\n+\t  error_at(location, \"reference to undefined name %qs\",\n+\t\t   this->named_object_->message_name().c_str());\n+\t  return Expression::make_error(location);\n+\t}\n     }\n   switch (real->classification())\n     {"}]}