{"sha": "a72f7227af427cac6e8f53b26e8736b15f8305f1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTcyZjcyMjdhZjQyN2NhYzZlOGY1M2IyNmU4NzM2YjE1ZjgzMDVmMQ==", "commit": {"author": {"name": "Bryce McKinlay", "email": "bryce@waitaki.otago.ac.nz", "date": "2002-03-07T01:53:21Z"}, "committer": {"name": "Bryce McKinlay", "email": "bryce@gcc.gnu.org", "date": "2002-03-07T01:53:21Z"}, "message": "natPlainSocketImpl.cc (_Jv_recv): Removed.\n\n\t* java/net/natPlainSocketImpl.cc (_Jv_recv): Removed.\n\t(read): Call recv() directly, not _Jv_recv().\n\nFrom-SVN: r50391", "tree": {"sha": "0c9690b77dad82a55065442f34fb9249ff259606", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0c9690b77dad82a55065442f34fb9249ff259606"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a72f7227af427cac6e8f53b26e8736b15f8305f1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a72f7227af427cac6e8f53b26e8736b15f8305f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a72f7227af427cac6e8f53b26e8736b15f8305f1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a72f7227af427cac6e8f53b26e8736b15f8305f1/comments", "author": null, "committer": null, "parents": [{"sha": "f2d1ae38790b74c20ddb42a4a20ccef5023e1049", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2d1ae38790b74c20ddb42a4a20ccef5023e1049", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f2d1ae38790b74c20ddb42a4a20ccef5023e1049"}], "stats": {"total": 16, "additions": 6, "deletions": 10}, "files": [{"sha": "ef0022ec32b5dade0c1ac898ebf472adc956d1e4", "filename": "libjava/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a72f7227af427cac6e8f53b26e8736b15f8305f1/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a72f7227af427cac6e8f53b26e8736b15f8305f1/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=a72f7227af427cac6e8f53b26e8736b15f8305f1", "patch": "@@ -1,3 +1,8 @@\n+2002-03-07  Bryce McKinlay  <bryce@waitaki.otago.ac.nz>\n+\n+\t* java/net/natPlainSocketImpl.cc (_Jv_recv): Removed.\n+\t(read): Call recv() directly, not _Jv_recv().\n+\n 2002-03-06  Tom Tromey  <tromey@redhat.com>\n \n \t* java/io/natFileDescriptorEcos.cc (init): Don't use"}, {"sha": "907143019fb7e4448ec5d1ae0dde33b26bfca9b6", "filename": "libjava/java/net/natPlainSocketImpl.cc", "status": "modified", "additions": 1, "deletions": 10, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a72f7227af427cac6e8f53b26e8736b15f8305f1/libjava%2Fjava%2Fnet%2FnatPlainSocketImpl.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a72f7227af427cac6e8f53b26e8736b15f8305f1/libjava%2Fjava%2Fnet%2FnatPlainSocketImpl.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fnet%2FnatPlainSocketImpl.cc?ref=a72f7227af427cac6e8f53b26e8736b15f8305f1", "patch": "@@ -72,15 +72,6 @@ _Jv_accept (int fd, struct sockaddr *addr, socklen_t *addrlen)\n #undef accept\n #endif\n \n-// A wrapper for recv so we don't have to do configure tests.\n-template <typename T_ret, typename T_fd, typename T_buf,\n-          typename T_len, typename T_flags>\n-static inline ssize_t\n-_Jv_recv (T_ret (*recv_func) (T_fd s, T_buf buf, T_len len, T_flags flags),\n-\t  int s, void *buf, size_t len, int flags)\n-{\n-  return recv_func ((T_fd) s, (T_buf) buf, (T_len) len, (T_flags) flags);\n-}\n #endif /* DISABLE_JAVA_NET */\n \n #include <gcj/cni.h>\n@@ -551,7 +542,7 @@ java::net::PlainSocketImpl::read(jbyteArray buffer, jint offset, jint count)\n       }\n   }\n   // Read the socket.\n-  int r = _Jv_recv (::recv, fnum, (void *) bytes, count, 0);\n+  int r = ::recv (fnum, (char *) bytes, count, 0);\n   if (r == 0)\n     return -1;\n   if (java::lang::Thread::interrupted())"}]}