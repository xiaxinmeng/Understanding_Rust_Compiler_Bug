{"sha": "efc81a892c7fa82e5d00cf2258aea4392af4643a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWZjODFhODkyYzdmYTgyZTVkMDBjZjIyNThhZWE0MzkyYWY0NjQzYQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-06-23T10:01:39Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-06-23T10:01:39Z"}, "message": "[multiple changes]\n\n2009-06-23  Vincent Celier  <celier@adacore.com>\n\n\t* prj-attr.adb: Attribute names Initial_Required_Switches and\n\tFinal_Required_Switches changed to Leading_Required_Switches and\n\tTrailing_Required_Switches.\n\n\t* prj-nmsc.adb (Process_Compiler): Attribute names\n\tInitial_Required_Switches and Final_Required_Switches changed to\n\tLeading_Required_Switches and Trailing_Required_Switches.\n\n\t* prj.ads (Language_Config): Component Initial_Required_Switches and\n\tFinal_Required_Switches changed to Leading_Required_Switches and\n\tTrailing_Required_Switches.\n\n\t* snames.ads-tmpl: Remove standard names Initial_Required_Switches and\n\tFinal_Required_Switches; add standard names Leading_Required_Switches\n\tand Trailing_Required_Switches.\n\n2009-06-23  Thomas Quinot  <quinot@adacore.com>\n\n\t* prj-conf.adb: Minor reformatting\n\n\t* xref_lib.adb: Minor cleanup\n\nFrom-SVN: r148840", "tree": {"sha": "916d1c1981f231afd6e775007ae98d0425aa6319", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/916d1c1981f231afd6e775007ae98d0425aa6319"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/efc81a892c7fa82e5d00cf2258aea4392af4643a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efc81a892c7fa82e5d00cf2258aea4392af4643a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/efc81a892c7fa82e5d00cf2258aea4392af4643a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efc81a892c7fa82e5d00cf2258aea4392af4643a/comments", "author": null, "committer": null, "parents": [{"sha": "1290ef1492d55f7131e4c7d15bfc4a2b5a7046e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1290ef1492d55f7131e4c7d15bfc4a2b5a7046e4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1290ef1492d55f7131e4c7d15bfc4a2b5a7046e4"}], "stats": {"total": 108, "additions": 66, "deletions": 42}, "files": [{"sha": "05fe6ce6f251a8ef7d84fdfd2b682768364c8a1d", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efc81a892c7fa82e5d00cf2258aea4392af4643a/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efc81a892c7fa82e5d00cf2258aea4392af4643a/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=efc81a892c7fa82e5d00cf2258aea4392af4643a", "patch": "@@ -1,3 +1,27 @@\n+2009-06-23  Vincent Celier  <celier@adacore.com>\n+\n+\t* prj-attr.adb: Attribute names Initial_Required_Switches and\n+\tFinal_Required_Switches changed to Leading_Required_Switches and\n+\tTrailing_Required_Switches.\n+\n+\t* prj-nmsc.adb (Process_Compiler): Attribute names\n+\tInitial_Required_Switches and Final_Required_Switches changed to\n+\tLeading_Required_Switches and Trailing_Required_Switches.\n+\n+\t* prj.ads (Language_Config): Component Initial_Required_Switches and\n+\tFinal_Required_Switches changed to Leading_Required_Switches and\n+\tTrailing_Required_Switches.\n+\n+\t* snames.ads-tmpl: Remove standard names Initial_Required_Switches and\n+\tFinal_Required_Switches; add standard names Leading_Required_Switches\n+\tand Trailing_Required_Switches.\n+\n+2009-06-23  Thomas Quinot  <quinot@adacore.com>\n+\n+\t* prj-conf.adb: Minor reformatting\n+\n+\t* xref_lib.adb: Minor cleanup\n+\n 2009-06-23  Emmanuel Briot  <briot@adacore.com>\n \n \t* prj-proc.adb, prj-proc.ads, prj-nmsc.adb, prj-nmsc.ads, prj-conf.adb,"}, {"sha": "13f0904665a40eb78a1b00eb30ae043915449d28", "filename": "gcc/ada/prj-attr.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efc81a892c7fa82e5d00cf2258aea4392af4643a/gcc%2Fada%2Fprj-attr.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efc81a892c7fa82e5d00cf2258aea4392af4643a/gcc%2Fada%2Fprj-attr.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-attr.adb?ref=efc81a892c7fa82e5d00cf2258aea4392af4643a", "patch": "@@ -173,8 +173,8 @@ package body Prj.Attr is\n \n    \"Sadriver#\" &\n    \"Larequired_switches#\" &\n-   \"Lainitial_required_switches#\" &\n-   \"Lafinal_required_switches#\" &\n+   \"Laleading_required_switches#\" &\n+   \"Latrailing_required_switches#\" &\n    \"Lapic_option#\" &\n    \"Sapath_syntax#\" &\n    \"Saobject_file_suffix#\" &"}, {"sha": "6490f9f73a197be03f48f89d9bd603f878453899", "filename": "gcc/ada/prj-conf.adb", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efc81a892c7fa82e5d00cf2258aea4392af4643a/gcc%2Fada%2Fprj-conf.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efc81a892c7fa82e5d00cf2258aea4392af4643a/gcc%2Fada%2Fprj-conf.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-conf.adb?ref=efc81a892c7fa82e5d00cf2258aea4392af4643a", "patch": "@@ -953,16 +953,16 @@ package body Prj.Conf is\n       Sinput.P.Reset_First;\n \n       Prj.Proc.Process_Project_Tree_Phase_2\n-        (In_Tree                => Project_Tree,\n-         Project                => Main_Project,\n-         Success                => Success,\n-         From_Project_Node      => User_Project_Node,\n-         From_Project_Node_Tree => Project_Node_Tree,\n-         Report_Error           => Report_Error,\n-         Current_Dir            => Current_Directory,\n-         When_No_Sources        => Warning,\n+        (In_Tree                   => Project_Tree,\n+         Project                   => Main_Project,\n+         Success                   => Success,\n+         From_Project_Node         => User_Project_Node,\n+         From_Project_Node_Tree    => Project_Node_Tree,\n+         Report_Error              => Report_Error,\n+         Current_Dir               => Current_Directory,\n+         When_No_Sources           => Warning,\n          Compiler_Driver_Mandatory => Compiler_Driver_Mandatory,\n-         Is_Config_File         => False);\n+         Is_Config_File            => False);\n \n       if not Success then\n          Main_Project := No_Project;"}, {"sha": "b6ec4fe648da40b4fd7bf68aab3ceb075e8ae69a", "filename": "gcc/ada/prj-nmsc.adb", "status": "modified", "additions": 19, "deletions": 20, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efc81a892c7fa82e5d00cf2258aea4392af4643a/gcc%2Fada%2Fprj-nmsc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efc81a892c7fa82e5d00cf2258aea4392af4643a/gcc%2Fada%2Fprj-nmsc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-nmsc.adb?ref=efc81a892c7fa82e5d00cf2258aea4392af4643a", "patch": "@@ -280,8 +280,8 @@ package body Prj.Nmsc is\n    --  Is_Config_File should be True if Project is a config file (.cgpr)\n \n    procedure Check_Configuration\n-     (Project : Project_Id;\n-      In_Tree : Project_Tree_Ref;\n+     (Project                   : Project_Id;\n+      In_Tree                   : Project_Tree_Ref;\n       Compiler_Driver_Mandatory : Boolean);\n    --  Check the configuration attributes for the project\n    --  If Compiler_Driver_Mandatory is true, then a Compiler.Driver attribute\n@@ -789,13 +789,13 @@ package body Prj.Nmsc is\n    -----------\n \n    procedure Check\n-     (Project         : Project_Id;\n-      In_Tree         : Project_Tree_Ref;\n-      Report_Error    : Put_Line_Access;\n-      When_No_Sources : Error_Warning;\n-      Current_Dir     : String;\n-      Proc_Data       : in out Processing_Data;\n-      Is_Config_File  : Boolean;\n+     (Project                   : Project_Id;\n+      In_Tree                   : Project_Tree_Ref;\n+      Report_Error              : Put_Line_Access;\n+      When_No_Sources           : Error_Warning;\n+      Current_Dir               : String;\n+      Proc_Data                 : in out Processing_Data;\n+      Is_Config_File            : Boolean;\n       Compiler_Driver_Mandatory : Boolean)\n    is\n       Extending : Boolean := False;\n@@ -1138,8 +1138,8 @@ package body Prj.Nmsc is\n    -------------------------\n \n    procedure Check_Configuration\n-     (Project : Project_Id;\n-      In_Tree : Project_Tree_Ref;\n+     (Project                   : Project_Id;\n+      In_Tree                   : Project_Tree_Ref;\n       Compiler_Driver_Mandatory : Boolean)\n    is\n       Dot_Replacement : File_Name_Type := No_File;\n@@ -1436,17 +1436,17 @@ package body Prj.Nmsc is\n                              File_Name_Type (Element.Value.Value);\n \n                         when Name_Required_Switches |\n-                             Name_Initial_Required_Switches =>\n+                             Name_Leading_Required_Switches =>\n                            Put (Into_List =>\n                                   Lang_Index.Config.\n-                                    Compiler_Initial_Required_Switches,\n+                                    Compiler_Leading_Required_Switches,\n                                 From_List => Element.Value.Values,\n                                 In_Tree   => In_Tree);\n \n-                        when Name_Final_Required_Switches =>\n+                        when Name_Trailing_Required_Switches =>\n                            Put (Into_List =>\n                                   Lang_Index.Config.\n-                                    Compiler_Final_Required_Switches,\n+                                    Compiler_Trailing_Required_Switches,\n                                 From_List => Element.Value.Values,\n                                 In_Tree   => In_Tree);\n \n@@ -5873,16 +5873,15 @@ package body Prj.Nmsc is\n          --  No Source_Dirs specified: the single source directory is the one\n          --  containing the project file\n \n-         String_Element_Table.Increment_Last (In_Tree.String_Elements);\n-         Project.Source_Dirs := String_Element_Table.Last\n-           (In_Tree.String_Elements);\n-         In_Tree.String_Elements.Table (Project.Source_Dirs) :=\n+         String_Element_Table.Append (In_Tree.String_Elements,\n            (Value         => Name_Id (Project.Directory.Name),\n             Display_Value => Name_Id (Project.Directory.Display_Name),\n             Location      => No_Location,\n             Flag          => False,\n             Next          => Nil_String,\n-            Index         => 0);\n+            Index         => 0));\n+         Project.Source_Dirs := String_Element_Table.Last\n+                                  (In_Tree.String_Elements);\n \n          if Current_Verbosity = High then\n             Write_Attr"}, {"sha": "89f097c078de04736d8a78edaef9663200240572", "filename": "gcc/ada/prj.ads", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efc81a892c7fa82e5d00cf2258aea4392af4643a/gcc%2Fada%2Fprj.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efc81a892c7fa82e5d00cf2258aea4392af4643a/gcc%2Fada%2Fprj.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj.ads?ref=efc81a892c7fa82e5d00cf2258aea4392af4643a", "patch": "@@ -421,11 +421,11 @@ package Prj is\n       Compiler_Driver_Path : String_Access := null;\n       --  The path name of the executable for the compiler of the language\n \n-      Compiler_Initial_Required_Switches : Name_List_Index := No_Name_List;\n+      Compiler_Leading_Required_Switches : Name_List_Index := No_Name_List;\n       --  The list of initial switches that are required as a minimum to invoke\n       --  the compiler driver.\n \n-      Compiler_Final_Required_Switches : Name_List_Index := No_Name_List;\n+      Compiler_Trailing_Required_Switches : Name_List_Index := No_Name_List;\n       --  The list of final switches that are required as a minimum to invoke\n       --  the compiler driver.\n \n@@ -555,8 +555,8 @@ package Prj is\n                            Include_Compatible_Languages => No_Name_List,\n                            Compiler_Driver              => No_File,\n                            Compiler_Driver_Path         => null,\n-                           Compiler_Initial_Required_Switches => No_Name_List,\n-                           Compiler_Final_Required_Switches   => No_Name_List,\n+                           Compiler_Leading_Required_Switches  => No_Name_List,\n+                           Compiler_Trailing_Required_Switches => No_Name_List,\n                            Path_Syntax                  => Canonical,\n                            Object_File_Suffix           => No_Name,\n                            Object_File_Switches         => No_Name_List,"}, {"sha": "9d5d2984f2f420456fcd69e6d41f9996bbb66440", "filename": "gcc/ada/snames.ads-tmpl", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efc81a892c7fa82e5d00cf2258aea4392af4643a/gcc%2Fada%2Fsnames.ads-tmpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efc81a892c7fa82e5d00cf2258aea4392af4643a/gcc%2Fada%2Fsnames.ads-tmpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsnames.ads-tmpl?ref=efc81a892c7fa82e5d00cf2258aea4392af4643a", "patch": "@@ -1047,7 +1047,6 @@ package Snames is\n    Name_Executable_Suffix                : constant Name_Id := N + $;\n    Name_Extends                          : constant Name_Id := N + $;\n    Name_Externally_Built                 : constant Name_Id := N + $;\n-   Name_Final_Required_Switches          : constant Name_Id := N + $;\n    Name_Finder                           : constant Name_Id := N + $;\n    Name_Global_Compilation_Switches      : constant Name_Id := N + $;\n    Name_Global_Configuration_Pragmas     : constant Name_Id := N + $;\n@@ -1063,8 +1062,8 @@ package Snames is\n    Name_Include_Path                     : constant Name_Id := N + $;\n    Name_Include_Path_File                : constant Name_Id := N + $;\n    Name_Inherit_Source_Path              : constant Name_Id := N + $;\n-   Name_Initial_Required_Switches        : constant Name_Id := N + $;\n    Name_Languages                        : constant Name_Id := N + $;\n+   Name_Leading_Required_Switches        : constant Name_Id := N + $;\n    Name_Library                          : constant Name_Id := N + $;\n    Name_Library_Ali_Dir                  : constant Name_Id := N + $;\n    Name_Library_Auto_Init                : constant Name_Id := N + $;\n@@ -1139,6 +1138,7 @@ package Snames is\n    Name_Synchronize                      : constant Name_Id := N + $;\n    Name_Toolchain_Description            : constant Name_Id := N + $;\n    Name_Toolchain_Version                : constant Name_Id := N + $;\n+   Name_Trailing_Required_Switches       : constant Name_Id := N + $;\n    Name_Runtime_Library_Dir              : constant Name_Id := N + $;\n    Name_Runtime_Source_Dir               : constant Name_Id := N + $;\n "}, {"sha": "f3c8fa3da9204ae7f1f0f09b1bff87430234d675", "filename": "gcc/ada/xref_lib.adb", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efc81a892c7fa82e5d00cf2258aea4392af4643a/gcc%2Fada%2Fxref_lib.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efc81a892c7fa82e5d00cf2258aea4392af4643a/gcc%2Fada%2Fxref_lib.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fxref_lib.adb?ref=efc81a892c7fa82e5d00cf2258aea4392af4643a", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1998-2008, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1998-2009, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -481,8 +481,7 @@ package body Xref_Lib is\n    function Get_Full_Type (Decl : Declaration_Reference) return String is\n \n       function Param_String return String;\n-      --  Return the string to display depending on whether Decl is a\n-      --  parameter or not\n+      --  Return the string to display depending on whether Decl is a parameter\n \n       ------------------\n       -- Param_String --\n@@ -710,7 +709,9 @@ package body Xref_Lib is\n          end loop;\n \n          if Source (Ptr) /= EOF then\n-            Ptr := Ptr + 1;      -- skip CR or LF\n+            --  Skip CR or LF\n+\n+            Ptr := Ptr + 1;\n          end if;\n \n          --  Skip past CR/LF or LF/CR combination\n@@ -1071,7 +1072,7 @@ package body Xref_Lib is\n       loop\n          --  Process references on current line\n \n-         while Ali (Ptr) = ' ' or Ali (Ptr) = ASCII.HT loop\n+         while Ali (Ptr) = ' ' or else Ali (Ptr) = ASCII.HT loop\n \n             --  For every reference read the line, type and column,\n             --  optionally preceded by a file number and a pipe symbol."}]}