{"sha": "4f0ade925ddf1d8588568eec56e08bc1d14753b4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGYwYWRlOTI1ZGRmMWQ4NTg4NTY4ZWVjNTZlMDhiYzFkMTQ3NTNiNA==", "commit": {"author": {"name": "Neil Booth", "email": "neil@daikokuya.demon.co.uk", "date": "2002-03-26T07:16:01Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2002-03-26T07:16:01Z"}, "message": "Makefile.in (ggc-common.o): Update.\n\n\t* Makefile.in (ggc-common.o): Update.\n\t* c-decl.c (lang_mark_tree): Rename c_mark_tree.\n\t* c-lang.c (LANG_HOOKS_MARK_TREE): Redefine.\n\t* c-tree.h (c_mark_tree): New.\n\t* ggc-common.c: Include langhooks.h.\n\t(gcc_mark_trees): Use new langhook.\n\t* ggc-callbacks.c: Delete file.\n\t* ggc.h (lang_mark_tree): Remove.\n\t* langhooks-def.h (LANG_HOOKS_MARK_TREE): New.\n\t(LANG_HOOKS_INITIALIZER): Update.\n\t* langhooks.h (struct lang_hooks): New hook.\nada:\n\t* misc.c (LANG_HOOKS_MARK_TREE): Redefine.\n\t(lang_mark_tree): Make static, rename.\ncp:\n\t* cp-lang.c (LANG_HOOKS_MARK_TREE): Redefine.\n\t* cp-tree.h (cxx_mark_tree): New.\n\t* decl.c (lang_mark_tree): Rename cxx_mark_tree.\nf:\n\t* com.c (LANG_HOOKS_MARK_TREE): Redefine.\n\t(lang_mark_tree): Rename ffe_mark_tree, make static.\njava:\n\t* decl.c (lang_mark_tree): Rename java_mark_tree.\n\t* java-tree.h (java_mark_tree): New.\n\t* java-lang.c (LANG_HOOKS_MARK_TREE): Redefine.\nobjc:\n\t* objc-lang.c (LANG_HOOKS_MARK_TREE): Redefine.\n\nFrom-SVN: r51369", "tree": {"sha": "8cda6f7ecc6d1edaf267ea2f85a413a2375c87ba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8cda6f7ecc6d1edaf267ea2f85a413a2375c87ba"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4f0ade925ddf1d8588568eec56e08bc1d14753b4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f0ade925ddf1d8588568eec56e08bc1d14753b4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f0ade925ddf1d8588568eec56e08bc1d14753b4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f0ade925ddf1d8588568eec56e08bc1d14753b4/comments", "author": null, "committer": null, "parents": [{"sha": "90b2d2afa1e1d6b7a8c37b836de62f70d3a103e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90b2d2afa1e1d6b7a8c37b836de62f70d3a103e0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/90b2d2afa1e1d6b7a8c37b836de62f70d3a103e0"}], "stats": {"total": 127, "additions": 74, "deletions": 53}, "files": [{"sha": "347905c48da727e425f1a5569be59d341cedcf2f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4f0ade925ddf1d8588568eec56e08bc1d14753b4", "patch": "@@ -1,3 +1,19 @@\n+2002-03-26  Neil Booth  <neil@daikokuya.demon.co.uk>\n+\n+\t* Makefile.in (ggc-common.o): Update.\n+\t* c-decl.c (lang_mark_tree): Rename c_mark_tree.\n+\t* c-lang.c (LANG_HOOKS_MARK_TREE): Redefine.\n+\t* c-tree.h (c_mark_tree): New.\n+\t* ggc-common.c: Include langhooks.h.\n+\t(gcc_mark_trees): Use new langhook.\n+\t* ggc-callbacks.c: Delete file.\n+\t* ggc.h (lang_mark_tree): Remove.\n+\t* langhooks-def.h (LANG_HOOKS_MARK_TREE): New.\n+\t(LANG_HOOKS_INITIALIZER): Update.\n+\t* langhooks.h (struct lang_hooks): New hook.\n+objc:\n+\t* objc-lang.c (LANG_HOOKS_MARK_TREE): Redefine.\n+\n 2002-03-25  Zack Weinberg  <zack@codesourcery.com>\n \n \t* doc/cpp.texi: Exclude entire Top node from printed manual."}, {"sha": "0603e261b04985e5d6b203bb6a214e4bf5a12dbf", "filename": "gcc/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=4f0ade925ddf1d8588568eec56e08bc1d14753b4", "patch": "@@ -1296,7 +1296,7 @@ dumpvers: dumpvers.c\n version.o: version.c version.h\n \n ggc-common.o: ggc-common.c $(CONFIG_H) $(SYSTEM_H) $(RTL_H) $(TREE_H) \\\n-\tflags.h $(GGC_H) varray.h hash.h $(HASHTAB_H) $(TM_P_H)\n+\tflags.h $(GGC_H) varray.h hash.h $(HASHTAB_H) $(TM_P_H) langhooks.h\n \n ggc-simple.o: ggc-simple.c $(CONFIG_H) $(SYSTEM_H) $(RTL_H) $(TREE_H) flags.h \\\n \t$(GGC_H) varray.h $(TIMEVAR_H) $(TM_P_H)"}, {"sha": "b1147851d405056c4c68b58f6ab436e82f8147bc", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=4f0ade925ddf1d8588568eec56e08bc1d14753b4", "patch": "@@ -1,3 +1,8 @@\n+2002-03-26  Neil Booth  <neil@daikokuya.demon.co.uk>\n+\n+\t* misc.c (LANG_HOOKS_MARK_TREE): Redefine.\n+\t(lang_mark_tree): Make static, rename.\n+\n 2002-03-25  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n \t* misc.c (maybe_build_cleanup): Remove."}, {"sha": "3ae66a83f98987ed61e4b87e644413afa852bdaf", "filename": "gcc/ada/misc.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fada%2Fmisc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fada%2Fmisc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fmisc.c?ref=4f0ade925ddf1d8588568eec56e08bc1d14753b4", "patch": "@@ -86,6 +86,7 @@ static const char *gnat_printable_name\tPARAMS  ((tree, int));\n static tree gnat_eh_runtime_type\tPARAMS ((tree));\n static int gnat_eh_type_covers\t\tPARAMS ((tree, tree));\n static void gnat_parse_file\t\tPARAMS ((void));\n+static void gnat_mark_tree\t\tPARAMS ((tree));\n \n /* Structure giving our language-specific hooks.  */\n \n@@ -101,6 +102,8 @@ static void gnat_parse_file\t\tPARAMS ((void));\n #define LANG_HOOKS_DECODE_OPTION\tgnat_decode_option\n #undef LANG_HOOKS_PARSE_FILE\n #define LANG_HOOKS_PARSE_FILE\t\tgnat_parse_file\n+#undef LANG_HOOKS_MARK_TREE\n+#define LANG_HOOKS_MARK_TREE\t\tgnat_mark_tree\n #undef LANG_HOOKS_HONOR_READONLY\n #define LANG_HOOKS_HONOR_READONLY\t1\n #undef LANG_HOOKS_GET_ALIAS_SET\n@@ -271,8 +274,8 @@ gnat_init_options ()\n   gnat_argc = 1;\n }\n \n-void\n-lang_mark_tree (t)\n+static void\n+gnat_mark_tree (t)\n      tree t;\n {\n   switch (TREE_CODE (t))"}, {"sha": "e1d104d4fc9a7483e9b82d5fda0a05bc2b95c96a", "filename": "gcc/c-decl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=4f0ade925ddf1d8588568eec56e08bc1d14753b4", "patch": "@@ -7149,7 +7149,7 @@ c_dup_lang_specific_decl (decl)\n /* Mark the language specific bits in T for GC.  */\n \n void\n-lang_mark_tree (t)\n+c_mark_tree (t)\n      tree t;\n {\n   if (TREE_CODE (t) == IDENTIFIER_NODE)"}, {"sha": "5bdd743d967599d803d3feecd7411115cfa25399", "filename": "gcc/c-lang.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fc-lang.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fc-lang.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-lang.c?ref=4f0ade925ddf1d8588568eec56e08bc1d14753b4", "patch": "@@ -50,6 +50,8 @@ static void c_post_options PARAMS ((void));\n #define LANG_HOOKS_GET_ALIAS_SET c_common_get_alias_set\n #undef LANG_HOOKS_SAFE_FROM_P\n #define LANG_HOOKS_SAFE_FROM_P c_safe_from_p\n+#undef LANG_HOOKS_MARK_TREE\n+#define LANG_HOOKS_MARK_TREE c_mark_tree\n #undef LANG_HOOKS_PARSE_FILE\n #define LANG_HOOKS_PARSE_FILE c_common_parse_file\n #undef LANG_HOOKS_STATICP"}, {"sha": "ad2d88df228f28ea7415467fa30c6c296e3b0cf4", "filename": "gcc/c-tree.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fc-tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fc-tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-tree.h?ref=4f0ade925ddf1d8588568eec56e08bc1d14753b4", "patch": "@@ -178,6 +178,7 @@ extern tree pushdecl\t\t\t\tPARAMS ((tree));\n extern void c_init_decl_processing\t\tPARAMS ((void));\n extern void c_dup_lang_specific_decl\t\tPARAMS ((tree));\n extern void c_print_identifier\t\t\tPARAMS ((FILE *, tree, int));\n+extern void c_mark_tree\t\t\t\tPARAMS ((tree));\n extern tree build_array_declarator              PARAMS ((tree, tree, int, int));\n extern tree build_enumerator                    PARAMS ((tree, tree));\n extern int  c_decode_option                     PARAMS ((int, char **));"}, {"sha": "870a697bcb6f4d2ceffb836ffe7466514ab52f0d", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=4f0ade925ddf1d8588568eec56e08bc1d14753b4", "patch": "@@ -1,3 +1,9 @@\n+2002-03-26  Neil Booth  <neil@daikokuya.demon.co.uk>\n+\n+\t* cp-lang.c (LANG_HOOKS_MARK_TREE): Redefine.\n+\t* cp-tree.h (cxx_mark_tree): New.\n+\t* decl.c (lang_mark_tree): Rename cxx_mark_tree.\n+\n 2002-03-25  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n \t* cp-tree.h (cxx_maybe_build_cleanup): New."}, {"sha": "f198b5ec02656bee2834f49b5470a8535a5dd012", "filename": "gcc/cp/cp-lang.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fcp%2Fcp-lang.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fcp%2Fcp-lang.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcp-lang.c?ref=4f0ade925ddf1d8588568eec56e08bc1d14753b4", "patch": "@@ -59,6 +59,8 @@ static bool ok_to_generate_alias_set_for_type PARAMS ((tree));\n #define LANG_HOOKS_UNSAVE_EXPR_NOW cxx_unsave_expr_now\n #undef LANG_HOOKS_MAYBE_BUILD_CLEANUP\n #define LANG_HOOKS_MAYBE_BUILD_CLEANUP cxx_maybe_build_cleanup\n+#undef LANG_HOOKS_MARK_TREE\n+#define LANG_HOOKS_MARK_TREE cxx_mark_tree\n #undef LANG_HOOKS_PRINT_STATISTICS\n #define LANG_HOOKS_PRINT_STATISTICS cxx_print_statistics\n #undef LANG_HOOKS_PRINT_XNODE"}, {"sha": "244b01ec1ef6d350b830a841a6bda81f512a6572", "filename": "gcc/cp/cp-tree.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fcp%2Fcp-tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fcp%2Fcp-tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcp-tree.h?ref=4f0ade925ddf1d8588568eec56e08bc1d14753b4", "patch": "@@ -3668,6 +3668,7 @@ extern void insert_block\t\t\tPARAMS ((tree));\n extern void set_block\t\t\t\tPARAMS ((tree));\n extern tree pushdecl\t\t\t\tPARAMS ((tree));\n extern void cxx_init_decl_processing\t\tPARAMS ((void));\n+extern void cxx_mark_tree\t\t\tPARAMS ((tree));\n extern int toplevel_bindings_p\t\t\tPARAMS ((void));\n extern int namespace_bindings_p\t\t\tPARAMS ((void));\n extern void keep_next_level\t\t\tPARAMS ((int));"}, {"sha": "208370793f405388bd8d36ac7a35f56b98e3cd60", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=4f0ade925ddf1d8588568eec56e08bc1d14753b4", "patch": "@@ -14624,7 +14624,7 @@ mark_cp_function_context (f)\n }\n \n void\n-lang_mark_tree (t)\n+cxx_mark_tree (t)\n      tree t;\n {\n   enum tree_code code = TREE_CODE (t);"}, {"sha": "da22c002ca559c0a9a7d9d9b38c9ecd18f87e3e9", "filename": "gcc/f/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Ff%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Ff%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2FChangeLog?ref=4f0ade925ddf1d8588568eec56e08bc1d14753b4", "patch": "@@ -1,3 +1,8 @@\n+Tue Mar 26 07:30:51 2002  Neil Booth  <neil@daikokuya.demon.co.uk>\n+\n+\t* com.c (LANG_HOOKS_MARK_TREE): Redefine.\n+\t(lang_mark_tree): Rename ffe_mark_tree, make static.\n+\n Mon Mar 25 19:27:11 2002  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n \t* com.c (maybe_build_cleanup): Remove."}, {"sha": "a2b2e09d1e364cfa764cf45e07d0cda0d017291e", "filename": "gcc/f/com.c", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Ff%2Fcom.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Ff%2Fcom.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fcom.c?ref=4f0ade925ddf1d8588568eec56e08bc1d14753b4", "patch": "@@ -14205,6 +14205,7 @@ static const char *ffe_init PARAMS ((const char *));\n static void ffe_finish PARAMS ((void));\n static void ffe_init_options PARAMS ((void));\n static void ffe_print_identifier PARAMS ((FILE *, tree, int));\n+static void ffe_mark_tree (tree);\n \n #undef  LANG_HOOKS_NAME\n #define LANG_HOOKS_NAME\t\t\t\"GNU F77\"\n@@ -14218,6 +14219,8 @@ static void ffe_print_identifier PARAMS ((FILE *, tree, int));\n #define LANG_HOOKS_DECODE_OPTION\tffe_decode_option\n #undef  LANG_HOOKS_PARSE_FILE\n #define LANG_HOOKS_PARSE_FILE\t\tffe_parse_file\n+#undef  LANG_HOOKS_MARK_TREE\n+#define LANG_HOOKS_MARK_TREE\t\tffe_mark_tree\n #undef  LANG_HOOKS_PRINT_IDENTIFIER\n #define LANG_HOOKS_PRINT_IDENTIFIER\tffe_print_identifier\n #undef  LANG_HOOKS_DECL_PRINTABLE_NAME\n@@ -15126,9 +15129,9 @@ unsigned_type (type)\n   return type;\n }\n \n-void\n-lang_mark_tree (t)\n-     union tree_node *t ATTRIBUTE_UNUSED;\n+static void\n+ffe_mark_tree (t)\n+     tree t;\n {\n   if (TREE_CODE (t) == IDENTIFIER_NODE)\n     {"}, {"sha": "f831923ee5815c0132321f70df8b45a53d09df29", "filename": "gcc/ggc-callbacks.c", "status": "removed", "additions": 0, "deletions": 36, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90b2d2afa1e1d6b7a8c37b836de62f70d3a103e0/gcc%2Fggc-callbacks.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90b2d2afa1e1d6b7a8c37b836de62f70d3a103e0/gcc%2Fggc-callbacks.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fggc-callbacks.c?ref=90b2d2afa1e1d6b7a8c37b836de62f70d3a103e0", "patch": "@@ -1,36 +0,0 @@\n-/* Empty GC callbacks to be used by languages that don't support GC.\n-   Copyright (C) 1999, 2000 Free Software Foundation, Inc.\n-\n-   This file is part of GCC.\n-\n-   GCC is free software; you can redistribute it and/or modify it\n-   under the terms of the GNU General Public License as published by\n-   the Free Software Foundation; either version 2, or (at your option)\n-   any later version.\n-\n-   GCC is distributed in the hope that it will be useful, but WITHOUT\n-   ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n-   or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public\n-   License for more details.\n-\n-   You should have received a copy of the GNU General Public License\n-   along with GCC; see the file COPYING.  If not, write to the Free\n-   Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n-   02111-1307, USA.  */\n-\n-#include \"config.h\"\n-#include \"system.h\"\n-#include \"rtl.h\"\n-#include \"tree.h\"\n-#include \"tm_p.h\"\n-#include \"ggc.h\"\n-\n-void ATTRIBUTE_NORETURN\n-lang_mark_tree (t)\n-     union tree_node *t ATTRIBUTE_UNUSED;\n-{\n-  /* If this function is called, we are doing GC.  But, this file is\n-     only included in compilers for languages that don't support GC.  */\n-  abort ();\n-}\n-"}, {"sha": "9c7b46d2b8bc4630880e7e98c8343e81593bcf0f", "filename": "gcc/ggc-common.c", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fggc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fggc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fggc-common.c?ref=4f0ade925ddf1d8588568eec56e08bc1d14753b4", "patch": "@@ -30,6 +30,7 @@ Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n #include \"hashtab.h\"\n #include \"varray.h\"\n #include \"ggc.h\"\n+#include \"langhooks.h\"\n \n /* Statistics about the allocation.  */\n static ggc_statistics *ggc_stats;\n@@ -436,7 +437,7 @@ ggc_mark_trees ()\n \t  break;\n \n \tcase IDENTIFIER_NODE:\n-\t  lang_mark_tree (t);\n+\t  (*lang_hooks.mark_tree) (t);\n \t  continue;\n \n \tdefault:\n@@ -470,7 +471,7 @@ ggc_mark_trees ()\n \t      if (DECL_SAVED_INSNS (t))\n \t\tggc_mark_struct_function (DECL_SAVED_INSNS (t));\n \t    }\n-\t  lang_mark_tree (t);\n+\t  (*lang_hooks.mark_tree) (t);\n \t  break;\n \n \tcase 't': /* A type node.  */\n@@ -487,7 +488,7 @@ ggc_mark_trees ()\n \t  ggc_mark_tree (TYPE_MAIN_VARIANT (t));\n \t  ggc_mark_tree (TYPE_BINFO (t));\n \t  ggc_mark_tree (TYPE_CONTEXT (t));\n-\t  lang_mark_tree (t);\n+\t  (*lang_hooks.mark_tree) (t);\n \t  break;\n \n \tcase 'b': /* A lexical block.  */\n@@ -518,7 +519,7 @@ ggc_mark_trees ()\n \t  }\n \n \tcase 'x':\n-\t  lang_mark_tree (t);\n+\t  (*lang_hooks.mark_tree) (t);\n \t  break;\n \t}\n     }"}, {"sha": "8d65b12a2a516af0bc9ab878c4a280faa49e8832", "filename": "gcc/ggc.h", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fggc.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fggc.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fggc.h?ref=4f0ade925ddf1d8588568eec56e08bc1d14753b4", "patch": "@@ -179,10 +179,6 @@ extern int ggc_marked_p\t\t\tPARAMS ((const void *));\n \n /* Callbacks to the languages.  */\n \n-/* This is the language's opportunity to mark nodes held through\n-   the lang_specific hooks in the tree.  */\n-extern void lang_mark_tree\t\tPARAMS ((union tree_node *));\n-\n /* The FALSE_LABEL_STACK, declared in except.h, has language-dependent\n    semantics.  If a front-end needs to mark the false label stack, it\n    should set this pointer to a non-NULL value.  Otherwise, no marking"}, {"sha": "1605e212458d73bdbae3be77ee0460d6f742d206", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=4f0ade925ddf1d8588568eec56e08bc1d14753b4", "patch": "@@ -1,3 +1,9 @@\n+2002-03-26  Neil Booth  <neil@daikokuya.demon.co.uk>\n+\n+\t* decl.c (lang_mark_tree): Rename java_mark_tree.\n+\t* java-tree.h (java_mark_tree): New.\n+\t* java-lang.c (LANG_HOOKS_MARK_TREE): Redefine.\n+\n 2002-03-25  Zack Weinberg  <zack@codesourcery.com>\n \n \t* lex.c: Change java_perform_atof to take normal parameters"}, {"sha": "a0a77b26d9bfa0b5582f26f44e14f4f7b0856ab6", "filename": "gcc/java/decl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fjava%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fjava%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fdecl.c?ref=4f0ade925ddf1d8588568eec56e08bc1d14753b4", "patch": "@@ -1835,7 +1835,7 @@ end_java_method ()\n /* Mark language-specific parts of T for garbage-collection.  */\n \n void\n-lang_mark_tree (t)\n+java_mark_tree (t)\n      tree t;\n {\n   if (TREE_CODE (t) == IDENTIFIER_NODE)"}, {"sha": "de7b1025152bfeae8dd63f90e2b8a3b8861309fa", "filename": "gcc/java/java-tree.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fjava%2Fjava-tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fjava%2Fjava-tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjava-tree.h?ref=4f0ade925ddf1d8588568eec56e08bc1d14753b4", "patch": "@@ -1038,6 +1038,7 @@ struct lang_type\n \n extern void java_set_yydebug PARAMS ((int));\n extern void java_parse_file PARAMS ((void));\n+extern void java_mark_tree PARAMS ((tree));\n extern void add_assume_compiled PARAMS ((const char *, int));\n extern tree lookup_class PARAMS ((tree));\n extern tree lookup_java_constructor PARAMS ((tree, tree));"}, {"sha": "99a5e20037cc4e80c15ec8bd8a7ffe8e007f8865", "filename": "gcc/java/lang.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fjava%2Flang.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fjava%2Flang.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Flang.c?ref=4f0ade925ddf1d8588568eec56e08bc1d14753b4", "patch": "@@ -223,6 +223,8 @@ static int dependency_tracking = 0;\n #define LANG_HOOKS_SET_YYDEBUG java_set_yydebug\n #undef LANG_HOOKS_PARSE_FILE\n #define LANG_HOOKS_PARSE_FILE java_parse_file\n+#undef LANG_HOOKS_MARK_TREE\n+#define LANG_HOOKS_MARK_TREE java_mark_tree\n #undef LANG_HOOKS_DUP_LANG_SPECIFIC_DECL\n #define LANG_HOOKS_DUP_LANG_SPECIFIC_DECL java_dup_lang_specific_decl\n #undef LANG_HOOKS_DECL_PRINTABLE_NAME"}, {"sha": "57c792be959a0bd72b16d2ddeed15b08b7395452", "filename": "gcc/langhooks-def.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Flanghooks-def.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Flanghooks-def.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flanghooks-def.h?ref=4f0ade925ddf1d8588568eec56e08bc1d14753b4", "patch": "@@ -83,6 +83,7 @@ tree lhd_tree_inlining_convert_parm_for_inlining PARAMS ((tree, tree, tree));\n #define LANG_HOOKS_DUP_LANG_SPECIFIC_DECL lhd_do_nothing_t\n #define LANG_HOOKS_UNSAVE_EXPR_NOW\tlhd_unsave_expr_now\n #define LANG_HOOKS_MAYBE_BUILD_CLEANUP\tlhd_return_null_tree\n+#define LANG_HOOKS_MARK_TREE\t\tlhd_do_nothing_t\n #define LANG_HOOKS_HONOR_READONLY\tfalse\n #define LANG_HOOKS_PRINT_STATISTICS\tlhd_do_nothing\n #define LANG_HOOKS_PRINT_XNODE\t\tlhd_print_tree_nothing\n@@ -178,6 +179,7 @@ int lhd_tree_dump_type_quals\t\t\tPARAMS ((tree));\n   LANG_HOOKS_DUP_LANG_SPECIFIC_DECL, \\\n   LANG_HOOKS_UNSAVE_EXPR_NOW, \\\n   LANG_HOOKS_MAYBE_BUILD_CLEANUP, \\\n+  LANG_HOOKS_MARK_TREE, \\\n   LANG_HOOKS_HONOR_READONLY, \\\n   LANG_HOOKS_PRINT_STATISTICS, \\\n   LANG_HOOKS_PRINT_XNODE, \\"}, {"sha": "73a7628a1d533b49054ade810b9feb93d5c65327", "filename": "gcc/langhooks.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Flanghooks.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Flanghooks.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flanghooks.h?ref=4f0ade925ddf1d8588568eec56e08bc1d14753b4", "patch": "@@ -184,6 +184,9 @@ struct lang_hooks\n      for the passed TARGET_EXPR.  Return NULL if there is none.  */\n   tree (*maybe_build_cleanup) PARAMS ((tree));\n \n+  /* Mark nodes held through the lang_specific hooks in the tree.  */\n+  void (*mark_tree) PARAMS ((tree));\n+\n   /* Nonzero if TYPE_READONLY and TREE_READONLY should always be honored.  */\n   bool honor_readonly;\n "}, {"sha": "aa22ea316a3f8d623c53ae0d8f32061bfa41ac5f", "filename": "gcc/objc/objc-lang.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fobjc%2Fobjc-lang.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0ade925ddf1d8588568eec56e08bc1d14753b4/gcc%2Fobjc%2Fobjc-lang.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2Fobjc-lang.c?ref=4f0ade925ddf1d8588568eec56e08bc1d14753b4", "patch": "@@ -46,6 +46,8 @@ static void objc_post_options                   PARAMS ((void));\n #define LANG_HOOKS_POST_OPTIONS objc_post_options\n #undef LANG_HOOKS_PARSE_FILE\n #define LANG_HOOKS_PARSE_FILE c_common_parse_file\n+#undef LANG_HOOKS_MARK_TREE\n+#define LANG_HOOKS_MARK_TREE c_mark_tree\n #undef LANG_HOOKS_STATICP\n #define LANG_HOOKS_STATICP c_staticp\n #undef LANG_HOOKS_DUP_LANG_SPECIFIC_DECL"}]}