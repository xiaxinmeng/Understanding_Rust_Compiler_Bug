{"sha": "e9d68de9c1f93c680f15be0589025f1828dd2996", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTlkNjhkZTljMWY5M2M2ODBmMTViZTA1ODkwMjVmMTgyOGRkMjk5Ng==", "commit": {"author": {"name": "Martin Jambor", "email": "mjambor@suse.cz", "date": "2012-04-23T17:17:48Z"}, "committer": {"name": "Martin Jambor", "email": "jamborm@gcc.gnu.org", "date": "2012-04-23T17:17:48Z"}, "message": "expr.c (expand_expr_real_1): Remove setting parent's alias set for temporaries created for a bitfield...\n\n2012-04-23  Martin Jambor  <mjambor@suse.cz>\n\n\t* expr.c (expand_expr_real_1): Remove setting parent's alias set for\n\ttemporaries created for a bitfield (reverting revision 122014).\n\nFrom-SVN: r186718", "tree": {"sha": "792e31cdb351a7e4e2712ea2f486c86947d47eac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/792e31cdb351a7e4e2712ea2f486c86947d47eac"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e9d68de9c1f93c680f15be0589025f1828dd2996", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e9d68de9c1f93c680f15be0589025f1828dd2996", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e9d68de9c1f93c680f15be0589025f1828dd2996", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e9d68de9c1f93c680f15be0589025f1828dd2996/comments", "author": {"login": "jamborm", "id": 2180070, "node_id": "MDQ6VXNlcjIxODAwNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2180070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamborm", "html_url": "https://github.com/jamborm", "followers_url": "https://api.github.com/users/jamborm/followers", "following_url": "https://api.github.com/users/jamborm/following{/other_user}", "gists_url": "https://api.github.com/users/jamborm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamborm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamborm/subscriptions", "organizations_url": "https://api.github.com/users/jamborm/orgs", "repos_url": "https://api.github.com/users/jamborm/repos", "events_url": "https://api.github.com/users/jamborm/events{/privacy}", "received_events_url": "https://api.github.com/users/jamborm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6eea77093dd6f8d254fd293f359c0e328fec5e0e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6eea77093dd6f8d254fd293f359c0e328fec5e0e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6eea77093dd6f8d254fd293f359c0e328fec5e0e"}], "stats": {"total": 19, "additions": 8, "deletions": 11}, "files": [{"sha": "6f40fa1b645c39849f4f21699d4bf706ded9d91c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e9d68de9c1f93c680f15be0589025f1828dd2996/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e9d68de9c1f93c680f15be0589025f1828dd2996/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e9d68de9c1f93c680f15be0589025f1828dd2996", "patch": "@@ -1,3 +1,8 @@\n+2012-04-23  Martin Jambor  <mjambor@suse.cz>\n+\n+\t* expr.c (expand_expr_real_1): Remove setting parent's alias set for\n+\ttemporaries created for a bitfield (reverting revision 122014).\n+\n 2012-04-23  Richard Guenther  <rguenther@suse.de>\n \n \t* tree-vect-loop-manip.c (slpeel_add_loop_guard): Gimplify"}, {"sha": "81112da4ad371f1b5395ffafdadaa42927c66543", "filename": "gcc/expr.c", "status": "modified", "additions": 3, "deletions": 11, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e9d68de9c1f93c680f15be0589025f1828dd2996/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e9d68de9c1f93c680f15be0589025f1828dd2996/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=e9d68de9c1f93c680f15be0589025f1828dd2996", "patch": "@@ -9903,19 +9903,11 @@ expand_expr_real_1 (tree exp, rtx target, enum machine_mode tmode,\n \t       necessarily be constant.  */\n \t    if (mode == BLKmode)\n \t      {\n-\t\tHOST_WIDE_INT size = GET_MODE_BITSIZE (ext_mode);\n \t\trtx new_rtx;\n \n-\t\t/* If the reference doesn't use the alias set of its type,\n-\t\t   we cannot create the temporary using that type.  */\n-\t\tif (component_uses_parent_alias_set (exp))\n-\t\t  {\n-\t\t    new_rtx = assign_stack_local (ext_mode, size, 0);\n-\t\t    set_mem_alias_set (new_rtx, get_alias_set (exp));\n-\t\t  }\n-\t\telse\n-\t\t  new_rtx = assign_stack_temp_for_type (ext_mode, size, 0, type);\n-\n+\t\tnew_rtx = assign_stack_temp_for_type (ext_mode,\n+\t\t\t\t\t\t   GET_MODE_BITSIZE (ext_mode),\n+\t\t\t\t\t\t   0, type);\n \t\temit_move_insn (new_rtx, op0);\n \t\top0 = copy_rtx (new_rtx);\n \t\tPUT_MODE (op0, BLKmode);"}]}