{"sha": "9d8fc086d1482135169d992ca21b33efd651ba4f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWQ4ZmMwODZkMTQ4MjEzNTE2OWQ5OTJjYTIxYjMzZWZkNjUxYmE0Zg==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2014-09-19T02:04:20Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2014-09-19T02:04:20Z"}, "message": "re PR ipa/63298 (internal compiler error: in types_same_for_odr, at ipa-devirt.c:449 with LTO)\n\n\n\tPR lto/63298\n\t* ipa-devirt.c (odr_subtypes_equivalent_p): Fix thinko in a condition.\n\nFrom-SVN: r215374", "tree": {"sha": "205fd1729fb3f98983739ae53ad2948fcc839ee2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/205fd1729fb3f98983739ae53ad2948fcc839ee2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9d8fc086d1482135169d992ca21b33efd651ba4f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d8fc086d1482135169d992ca21b33efd651ba4f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9d8fc086d1482135169d992ca21b33efd651ba4f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d8fc086d1482135169d992ca21b33efd651ba4f/comments", "author": null, "committer": null, "parents": [{"sha": "102ed6c62b186520d5058e2b20199779e707c4f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/102ed6c62b186520d5058e2b20199779e707c4f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/102ed6c62b186520d5058e2b20199779e707c4f8"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "0330a13997cab23d5a1a9ff75c04ea3e8a27ed6e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d8fc086d1482135169d992ca21b33efd651ba4f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d8fc086d1482135169d992ca21b33efd651ba4f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9d8fc086d1482135169d992ca21b33efd651ba4f", "patch": "@@ -1,3 +1,8 @@\n+2014-09-18  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\tPR lto/63298\n+\t* ipa-devirt.c (odr_subtypes_equivalent_p): Fix thinko in a condition.\n+\n 2014-09-18  Joseph Myers  <joseph@codesourcery.com>\n \n \t* system.h (LIBGCC2_TF_CEXT): Poison."}, {"sha": "0a11eb72085fd7c1f02564fb9340381f9c38adc8", "filename": "gcc/ipa-devirt.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d8fc086d1482135169d992ca21b33efd651ba4f/gcc%2Fipa-devirt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d8fc086d1482135169d992ca21b33efd651ba4f/gcc%2Fipa-devirt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-devirt.c?ref=9d8fc086d1482135169d992ca21b33efd651ba4f", "patch": "@@ -525,8 +525,10 @@ odr_subtypes_equivalent_p (tree t1, tree t2, hash_set<type_pair,pair_traits> *vi\n   if (an1 != an2 || an1)\n     return false;\n \n-  /* For ODR types be sure to compare their names.  */\n-  if ((odr_type_p (t1) && !odr_type_p (t2))\n+  /* For ODR types be sure to compare their names.\n+     To support -wno-odr-type-merging we allow one type to be non-ODR\n+     and other ODR even though it is a violation.  */\n+  if ((odr_type_p (t1) && odr_type_p (t2))\n       || (TREE_CODE (t1) == RECORD_TYPE && TREE_CODE (t2) == RECORD_TYPE\n           && TYPE_BINFO (t1) && TYPE_BINFO (t2)\n           && polymorphic_type_binfo_p (TYPE_BINFO (t1))"}]}