{"sha": "38ad2d079800cafd77f35c32a335697f643fa1a3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzhhZDJkMDc5ODAwY2FmZDc3ZjM1YzMyYTMzNTY5N2Y2NDNmYTFhMw==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2012-07-24T08:37:43Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2012-07-24T08:37:43Z"}, "message": "re PR middle-end/53616 (416.gamess in SPEC CPU 2006 miscompiled)\n\n2012-07-24  Richard Guenther  <rguenther@suse.de>\n\n\tPR tree-optimization/53616\n\t* tree-loop-distribution.c (ldist_gen): Do not change\n\tpartition ordering when merging partitions.\n\nFrom-SVN: r189802", "tree": {"sha": "1a4b1ee8eb1c68d15f5bb386c2d00ad7f53cf040", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1a4b1ee8eb1c68d15f5bb386c2d00ad7f53cf040"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/38ad2d079800cafd77f35c32a335697f643fa1a3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38ad2d079800cafd77f35c32a335697f643fa1a3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/38ad2d079800cafd77f35c32a335697f643fa1a3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38ad2d079800cafd77f35c32a335697f643fa1a3/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d32d6b75cabf6f0856c3998a71e9dc1f4a301ce7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d32d6b75cabf6f0856c3998a71e9dc1f4a301ce7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d32d6b75cabf6f0856c3998a71e9dc1f4a301ce7"}], "stats": {"total": 35, "additions": 25, "deletions": 10}, "files": [{"sha": "6c386867b1cefea5cab9382e67750b22e69d8428", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/38ad2d079800cafd77f35c32a335697f643fa1a3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/38ad2d079800cafd77f35c32a335697f643fa1a3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=38ad2d079800cafd77f35c32a335697f643fa1a3", "patch": "@@ -1,3 +1,9 @@\n+2012-07-24  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR tree-optimization/53616\n+\t* tree-loop-distribution.c (ldist_gen): Do not change\n+\tpartition ordering when merging partitions.\n+\n 2012-07-24  Alan Modra  <amodra@gmail.com>\n \n \tPR target/53914"}, {"sha": "18df9fbd249917560b2e620932f706798addbfe4", "filename": "gcc/tree-loop-distribution.c", "status": "modified", "additions": 19, "deletions": 10, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/38ad2d079800cafd77f35c32a335697f643fa1a3/gcc%2Ftree-loop-distribution.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/38ad2d079800cafd77f35c32a335697f643fa1a3/gcc%2Ftree-loop-distribution.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-loop-distribution.c?ref=38ad2d079800cafd77f35c32a335697f643fa1a3", "patch": "@@ -1289,16 +1289,25 @@ ldist_gen (struct loop *loop, struct graph *rdg,\n \t  nbp = 0;\n \t  goto ldist_done;\n \t}\n-      for (i = 0; VEC_iterate (partition_t, partitions, i, into); ++i)\n-\tif (!partition_builtin_p (into))\n-\t  break;\n-      for (++i; VEC_iterate (partition_t, partitions, i, partition); ++i)\n-\tif (!partition_builtin_p (partition))\n-\t  {\n-\t    bitmap_ior_into (into->stmts, partition->stmts);\n-\t    VEC_ordered_remove (partition_t, partitions, i);\n-\t    i--;\n-\t  }\n+      /* Only fuse adjacent non-builtin partitions, see PR53616.\n+         ???  Use dependence information to improve partition ordering.  */\n+      i = 0;\n+      do\n+\t{\n+\t  for (; VEC_iterate (partition_t, partitions, i, into); ++i)\n+\t    if (!partition_builtin_p (into))\n+\t      break;\n+\t  for (++i; VEC_iterate (partition_t, partitions, i, partition); ++i)\n+\t    if (!partition_builtin_p (partition))\n+\t      {\n+\t\tbitmap_ior_into (into->stmts, partition->stmts);\n+\t\tVEC_ordered_remove (partition_t, partitions, i);\n+\t\ti--;\n+\t      }\n+\t    else\n+\t      break;\n+\t}\n+      while ((unsigned) i < VEC_length (partition_t, partitions));\n     }\n   else\n     {"}]}