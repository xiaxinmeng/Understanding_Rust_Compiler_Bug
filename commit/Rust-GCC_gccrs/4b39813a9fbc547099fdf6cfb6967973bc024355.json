{"sha": "4b39813a9fbc547099fdf6cfb6967973bc024355", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGIzOTgxM2E5ZmJjNTQ3MDk5ZmRmNmNmYjY5Njc5NzNiYzAyNDM1NQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2011-08-03T22:57:29Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2011-08-03T22:57:29Z"}, "message": "spu: Use define_c_enum.\n\nFrom-SVN: r177301", "tree": {"sha": "82a694b1af63e9974eb9dd779a150796b72d4ac0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/82a694b1af63e9974eb9dd779a150796b72d4ac0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4b39813a9fbc547099fdf6cfb6967973bc024355", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b39813a9fbc547099fdf6cfb6967973bc024355", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4b39813a9fbc547099fdf6cfb6967973bc024355", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b39813a9fbc547099fdf6cfb6967973bc024355/comments", "author": null, "committer": null, "parents": [{"sha": "a6365e997e0ea5f378e811d4649fd53c55510c69", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6365e997e0ea5f378e811d4649fd53c55510c69", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a6365e997e0ea5f378e811d4649fd53c55510c69"}], "stats": {"total": 128, "additions": 69, "deletions": 59}, "files": [{"sha": "60ee93a75e1324e4933ed07d890fe885bc0790eb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b39813a9fbc547099fdf6cfb6967973bc024355/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b39813a9fbc547099fdf6cfb6967973bc024355/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4b39813a9fbc547099fdf6cfb6967973bc024355", "patch": "@@ -1,3 +1,9 @@\n+2011-08-03  Richard Henderson  <rth@redhat.com>\n+\n+\t* config/spu/spu.md: Use define_c_enum instead of define_constants.\n+\t(UNSPECV_BLOCKAGE, UNSPECV_LNOP, UNSPECV_SYNC): Rename from UNSPEC_*.\n+\t(UNSPECV_NOP): New.\n+\n 2011-08-03  Richard Henderson  <rth@redhat.com>\n \n \tPR target/34888"}, {"sha": "5742e0d96c1634a63b13b5805b801025395d5b80", "filename": "gcc/config/spu/spu.md", "status": "modified", "additions": 63, "deletions": 59, "changes": 122, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b39813a9fbc547099fdf6cfb6967973bc024355/gcc%2Fconfig%2Fspu%2Fspu.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b39813a9fbc547099fdf6cfb6967973bc024355/gcc%2Fconfig%2Fspu%2Fspu.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fspu%2Fspu.md?ref=4b39813a9fbc547099fdf6cfb6967973bc024355", "patch": "@@ -101,58 +101,62 @@\n (absence_set \"pipe0\" \"pipe1\")\n \n \f\n-(define_constants [\n- (UNSPEC_BLOCKAGE\t0)\n- (UNSPEC_IPREFETCH\t1)\n- (UNSPEC_FREST\t\t2)\n- (UNSPEC_FRSQEST\t3)\n- (UNSPEC_FI\t\t4)\n- (UNSPEC_EXTEND_CMP\t5)\n- (UNSPEC_CG\t\t6)\n- (UNSPEC_CGX\t\t7)\n- (UNSPEC_ADDX\t\t8)\n- (UNSPEC_BG\t\t9)\n- (UNSPEC_BGX\t\t10)\n- (UNSPEC_SFX\t\t11)\n- (UNSPEC_FSM\t\t12)\n- (UNSPEC_HBR\t\t13)\n- (UNSPEC_LNOP\t\t14)\n- (UNSPEC_NOP\t\t15)\n- (UNSPEC_CONVERT\t16)\n- (UNSPEC_SELB\t\t17)\n- (UNSPEC_SHUFB\t\t18)\n- (UNSPEC_CPAT\t\t19)\n- (UNSPEC_SYNC\t\t20)\n- (UNSPEC_CNTB\t\t21)\n- (UNSPEC_SUMB\t\t22)\n- (UNSPEC_FSMB           23)\n- (UNSPEC_FSMH           24)\n- (UNSPEC_GBB            25)\n- (UNSPEC_GBH            26)\n- (UNSPEC_GB             27)\n- (UNSPEC_AVGB           28)\n- (UNSPEC_ABSDB          29)\n- (UNSPEC_ORX            30)\n- (UNSPEC_HEQ            31)\n- (UNSPEC_HGT            32)\n- (UNSPEC_HLGT           33)\n- (UNSPEC_STOP           38)\n- (UNSPEC_STOPD          39)\n- (UNSPEC_SET_INTR       40)\n- (UNSPEC_FSCRRD         42)\n- (UNSPEC_FSCRWR         43)\n- (UNSPEC_MFSPR          44)\n- (UNSPEC_MTSPR          45)\n- (UNSPEC_RDCH           46)\n- (UNSPEC_RCHCNT         47)\n- (UNSPEC_WRCH           48)\n- (UNSPEC_SPU_REALIGN_LOAD 49)\n- (UNSPEC_SPU_MASK_FOR_LOAD 50)\n- (UNSPEC_DFTSV\t\t 51)\n- (UNSPEC_FLOAT_EXTEND\t 52)\n- (UNSPEC_FLOAT_TRUNCATE\t 53)\n- (UNSPEC_SP_SET         54)\n- (UNSPEC_SP_TEST        55) \n+(define_c_enum \"unspec\" [\n+  UNSPEC_IPREFETCH\n+  UNSPEC_FREST\n+  UNSPEC_FRSQEST\n+  UNSPEC_FI\n+  UNSPEC_EXTEND_CMP\n+  UNSPEC_CG\n+  UNSPEC_CGX\n+  UNSPEC_ADDX\n+  UNSPEC_BG\n+  UNSPEC_BGX\n+  UNSPEC_SFX\n+  UNSPEC_FSM\n+  UNSPEC_HBR\n+  UNSPEC_NOP\n+  UNSPEC_CONVERT\n+  UNSPEC_SELB\n+  UNSPEC_SHUFB\n+  UNSPEC_CPAT\n+  UNSPEC_CNTB\n+  UNSPEC_SUMB\n+  UNSPEC_FSMB\n+  UNSPEC_FSMH\n+  UNSPEC_GBB\n+  UNSPEC_GBH\n+  UNSPEC_GB\n+  UNSPEC_AVGB\n+  UNSPEC_ABSDB\n+  UNSPEC_ORX\n+  UNSPEC_HEQ\n+  UNSPEC_HGT\n+  UNSPEC_HLGT\n+  UNSPEC_STOP\n+  UNSPEC_STOPD\n+  UNSPEC_SET_INTR\n+  UNSPEC_FSCRRD\n+  UNSPEC_FSCRWR\n+  UNSPEC_MFSPR\n+  UNSPEC_MTSPR\n+  UNSPEC_RDCH\n+  UNSPEC_RCHCNT\n+  UNSPEC_WRCH\n+  UNSPEC_SPU_REALIGN_LOAD\n+  UNSPEC_SPU_MASK_FOR_LOAD\n+  UNSPEC_DFTSV\n+  UNSPEC_FLOAT_EXTEND\n+  UNSPEC_FLOAT_TRUNCATE\n+  UNSPEC_SP_SET\n+  UNSPEC_SP_TEST\n+])\n+\n+(define_c_enum \"unspecv\" [\n+  UNSPECV_BLOCKAGE\n+  UNSPECV_LNOP\n+  UNSPECV_NOP\n+  UNSPECV_SYNC\n ])\n \n (include \"predicates.md\")\n@@ -4210,7 +4214,7 @@ selb\\t%0,%4,%0,%3\"\n ;; generated by the spu_expand_epilogue (taken from mips.md)\n \n (define_insn \"blockage\"\n-  [(unspec_volatile [(const_int 0)] UNSPEC_BLOCKAGE)]\n+  [(unspec_volatile [(const_int 0)] UNSPECV_BLOCKAGE)]\n   \"\"\n   \"\"\n   [(set_attr \"type\" \"convert\")\n@@ -4392,19 +4396,19 @@ selb\\t%0,%4,%0,%3\"\n   [(set_attr \"type\" \"shuf\")])\n \n (define_insn \"nop\"\n-  [(unspec_volatile [(const_int 0)] UNSPEC_NOP)]\n+  [(unspec_volatile [(const_int 0)] UNSPECV_NOP)]\n   \"\"\n   \"nop\"\n   [(set_attr \"type\" \"nop\")])\n \n (define_insn \"nopn\"\n-  [(unspec_volatile [(match_operand:SI 0 \"immediate_operand\" \"K\")] UNSPEC_NOP)]\n+  [(unspec_volatile [(match_operand:SI 0 \"immediate_operand\" \"K\")] UNSPECV_NOP)]\n   \"\"\n   \"nop\\t%0\"\n   [(set_attr \"type\" \"nop\")])\n \n (define_insn \"lnop\"\n-  [(unspec_volatile [(const_int 0)] UNSPEC_LNOP)]\n+  [(unspec_volatile [(const_int 0)] UNSPECV_LNOP)]\n   \"\"\n   \"lnop\"\n   [(set_attr \"type\" \"lnop\")])\n@@ -4439,21 +4443,21 @@ selb\\t%0,%4,%0,%3\"\n   [(set_attr \"type\" \"hbr\")])\n \n (define_insn \"sync\"\n-  [(unspec_volatile [(const_int 0)] UNSPEC_SYNC)\n+  [(unspec_volatile [(const_int 0)] UNSPECV_SYNC)\n    (clobber (mem:BLK (scratch)))]\n   \"\"\n   \"sync\"\n   [(set_attr \"type\" \"br\")])\n \n (define_insn \"syncc\"\n-  [(unspec_volatile [(const_int 1)] UNSPEC_SYNC)\n+  [(unspec_volatile [(const_int 1)] UNSPECV_SYNC)\n    (clobber (mem:BLK (scratch)))]\n   \"\"\n   \"syncc\"\n   [(set_attr \"type\" \"br\")])\n \n (define_insn \"dsync\"\n-  [(unspec_volatile [(const_int 2)] UNSPEC_SYNC)\n+  [(unspec_volatile [(const_int 2)] UNSPECV_SYNC)\n    (clobber (mem:BLK (scratch)))]\n   \"\"\n   \"dsync\""}]}