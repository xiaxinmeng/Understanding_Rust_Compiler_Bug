{"sha": "f5a1436b0118ee3e64439cd5e3d3f3d88cb31c9e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjVhMTQzNmIwMTE4ZWUzZTY0NDM5Y2Q1ZTNkM2YzZDg4Y2IzMWM5ZQ==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-07-07T22:59:22Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-07-07T22:59:22Z"}, "message": "(simple_if): Save stmt_count, and print empty body warning here.\n\n(simple_if): Save stmt_count, and print empty body\nwarning here.\n(if_prefix): Don't save stmt_count here.\n(stmt): Don't print empty body warning here.\n\nFrom-SVN: r4880", "tree": {"sha": "ef96f83bc45b6798be6e91bcd5bca65688f91bc8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ef96f83bc45b6798be6e91bcd5bca65688f91bc8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f5a1436b0118ee3e64439cd5e3d3f3d88cb31c9e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5a1436b0118ee3e64439cd5e3d3f3d88cb31c9e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f5a1436b0118ee3e64439cd5e3d3f3d88cb31c9e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5a1436b0118ee3e64439cd5e3d3f3d88cb31c9e/comments", "author": null, "committer": null, "parents": [{"sha": "ea961c18aaf6bc5c94acb1d756641c7b0ae0511e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea961c18aaf6bc5c94acb1d756641c7b0ae0511e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea961c18aaf6bc5c94acb1d756641c7b0ae0511e"}], "stats": {"total": 13, "additions": 7, "deletions": 6}, "files": [{"sha": "a62e29200d1667425b8f434ed84cf02fc6e92274", "filename": "gcc/c-parse.in", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5a1436b0118ee3e64439cd5e3d3f3d88cb31c9e/gcc%2Fc-parse.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5a1436b0118ee3e64439cd5e3d3f3d88cb31c9e/gcc%2Fc-parse.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-parse.in?ref=f5a1436b0118ee3e64439cd5e3d3f3d88cb31c9e", "patch": "@@ -1543,7 +1543,12 @@ compstmt: '{' '}'\n \n /* Value is number of statements counted as of the closeparen.  */\n simple_if:\n-\t  if_prefix lineno_labeled_stmt\n+\t  if_prefix\n+\t\t{ $<itype>1 = stmt_count; }\n+\t  lineno_labeled_stmt\n+\t\t{ if (extra_warnings && stmt_count == $<itype>1)\n+\t\t    warning_with_file_and_line (if_stmt_file, if_stmt_line,\n+\t\t\t\t\t\t\"empty body in an if-statement\"); }\n /* Make sure expand_end_cond is run once\n    for each call to expand_start_cond.\n    Otherwise a crash is likely.  */\n@@ -1554,7 +1559,6 @@ if_prefix:\n \t  IF '(' expr ')'\n \t\t{ emit_line_note ($<filename>-1, $<lineno>0);\n \t\t  expand_start_cond (truthvalue_conversion ($3), 0);\n-\t\t  $<itype>1 = stmt_count;\n \t\t  if_stmt_file = $<filename>-1;\n \t\t  if_stmt_line = $<lineno>0;\n \t\t  position_after_white_space (); }\n@@ -1629,10 +1633,7 @@ stmt:\n \t\t  if (extra_warnings && stmt_count == $<itype>1)\n \t\t    warning (\"empty body in an else-statement\"); }\n \t| simple_if %prec IF\n-\t\t{ expand_end_cond ();\n-\t\t  if (extra_warnings && stmt_count == $<itype>1)\n-\t\t    warning_with_file_and_line (if_stmt_file, if_stmt_line,\n-\t\t\t\t\t\t\"empty body in an if-statement\"); }\n+\t\t{ expand_end_cond (); }\n /* Make sure expand_end_cond is run once\n    for each call to expand_start_cond.\n    Otherwise a crash is likely.  */"}]}