{"sha": "2755c05623ee21f19a16c6d0af8d188629e26375", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjc1NWMwNTYyM2VlMjFmMTlhMTZjNmQwYWY4ZDE4ODYyOWUyNjM3NQ==", "commit": {"author": {"name": "Richard Sandiford", "email": "richard@codesourcery.com", "date": "2007-02-09T13:51:23Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2007-02-09T13:51:23Z"}, "message": "20030125-1.x: Return 1 for uClibc targets.\n\ngcc/testsuite/\n\t* gcc.c-torture/execute/20030125-1.x: Return 1 for uClibc targets.\n\t* lib/target-supports.exp (check_effective_target_uclibc): New\n\tfunction.\n\nFrom-SVN: r121748", "tree": {"sha": "0aa4348534aef6993b17c6e63757d5ef5ee58514", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0aa4348534aef6993b17c6e63757d5ef5ee58514"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2755c05623ee21f19a16c6d0af8d188629e26375", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2755c05623ee21f19a16c6d0af8d188629e26375", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2755c05623ee21f19a16c6d0af8d188629e26375", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2755c05623ee21f19a16c6d0af8d188629e26375/comments", "author": null, "committer": null, "parents": [{"sha": "a6a05a5ec2109d6abf09d56d3bea7e3fab99870b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6a05a5ec2109d6abf09d56d3bea7e3fab99870b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a6a05a5ec2109d6abf09d56d3bea7e3fab99870b"}], "stats": {"total": 22, "additions": 20, "deletions": 2}, "files": [{"sha": "1c153c324dbd79607e116f94772b4e398d781776", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2755c05623ee21f19a16c6d0af8d188629e26375/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2755c05623ee21f19a16c6d0af8d188629e26375/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2755c05623ee21f19a16c6d0af8d188629e26375", "patch": "@@ -1,3 +1,9 @@\n+2007-02-09  Richard Sandiford  <richard@codesourcery.com>\n+\n+\t* gcc.c-torture/execute/20030125-1.x: Return 1 for uClibc targets.\n+\t* lib/target-supports.exp (check_effective_target_uclibc): New\n+\tfunction.\n+\n 2007-02-09  Richard Sandiford  <richard@codesourcery.com>\n \n \t* gcc.c-torture/execute/builtins/lib/chk.c: Include <sys/types.h>."}, {"sha": "3a5b13556130d40191de2a46a689165c232bd2dd", "filename": "gcc/testsuite/gcc.c-torture/execute/20030125-1.x", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2755c05623ee21f19a16c6d0af8d188629e26375/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20030125-1.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2755c05623ee21f19a16c6d0af8d188629e26375/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20030125-1.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20030125-1.x?ref=2755c05623ee21f19a16c6d0af8d188629e26375", "patch": "@@ -1,3 +1,4 @@\n-# Only Linux does inlclude all c99 functions at the moment.\n-if { ! [istarget \"*linux*\"] } { return 1 }\n+# Only glibc includes all c99 functions at the moment.\n+if { ! [istarget \"*-linux*\"] } { return 1 }\n+if { [check_effective_target_uclibc] } { return 1 }\n return 0"}, {"sha": "7027cb5a95f0b779b2a185d849eef9dbd5429a14", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2755c05623ee21f19a16c6d0af8d188629e26375/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2755c05623ee21f19a16c6d0af8d188629e26375/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=2755c05623ee21f19a16c6d0af8d188629e26375", "patch": "@@ -2034,6 +2034,17 @@ proc check_effective_target_coldfire_fpu { } {\n     }]\n }\n \n+# Return true if this is a uClibc target.\n+\n+proc check_effective_target_uclibc {} {\n+    return [check_no_compiler_messages uclibc object {\n+\t#include <features.h>\n+\t#if !defined (__UCLIBC__)\n+\t#error FOO\n+\t#endif\n+    }]\n+}\n+\n # Return 1 if the target matches the effective target 'arg', 0 otherwise.\n # This can be used with any check_* proc that takes no argument and\n # returns only 1 or 0.  It could be used with check_* procs that take"}]}