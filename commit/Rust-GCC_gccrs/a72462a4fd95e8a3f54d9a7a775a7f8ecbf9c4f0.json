{"sha": "a72462a4fd95e8a3f54d9a7a775a7f8ecbf9c4f0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTcyNDYyYTRmZDk1ZThhM2Y1NGQ5YTdhNzc1YTdmOGVjYmY5YzRmMA==", "commit": {"author": {"name": "Gabriel Dos Reis", "email": "gdr@codesourcery.com", "date": "2000-08-23T06:36:15Z"}, "committer": {"name": "Gabriel Dos Reis", "email": "gdr@gcc.gnu.org", "date": "2000-08-23T06:36:15Z"}, "message": "decl.c (init_decl_processing): Remove bogus initialization.\n\n\t* decl.c (init_decl_processing): Remove bogus initialization.\n\t* error.c (lang_print_error_function): Restore here.\n\t(init_error): Initialize print_error_function.\n\nFrom-SVN: r35902", "tree": {"sha": "71830271f8ba82612a1073f7afd37c3a5f48f070", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/71830271f8ba82612a1073f7afd37c3a5f48f070"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a72462a4fd95e8a3f54d9a7a775a7f8ecbf9c4f0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a72462a4fd95e8a3f54d9a7a775a7f8ecbf9c4f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a72462a4fd95e8a3f54d9a7a775a7f8ecbf9c4f0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a72462a4fd95e8a3f54d9a7a775a7f8ecbf9c4f0/comments", "author": null, "committer": null, "parents": [{"sha": "697c2a39640d554db2843d5998329b6d6bdf3794", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/697c2a39640d554db2843d5998329b6d6bdf3794", "html_url": "https://github.com/Rust-GCC/gccrs/commit/697c2a39640d554db2843d5998329b6d6bdf3794"}], "stats": {"total": 22, "additions": 21, "deletions": 1}, "files": [{"sha": "8ddd8a03f42fd48f53866580928bf4d069751713", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a72462a4fd95e8a3f54d9a7a775a7f8ecbf9c4f0/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a72462a4fd95e8a3f54d9a7a775a7f8ecbf9c4f0/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=a72462a4fd95e8a3f54d9a7a775a7f8ecbf9c4f0", "patch": "@@ -1,3 +1,9 @@\n+2000-08-23  Gabriel Dos Reis  <gdr@codesourcery.com>\n+\n+\t* decl.c (init_decl_processing): Remove bogus initialization.\n+\t* error.c (lang_print_error_function): Restore here.\n+\t(init_error): Initialize print_error_function. \n+\t\n 2000-08-22  Theodore Papadopoulo  <Theodore.Papadopoulo@sophia.inria.fr>\n \n \t* decl2.c (arg_assoc): Revert my 2000-08-11 change."}, {"sha": "f035f2f980af062c329ce0df9af697a7ca00ec34", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a72462a4fd95e8a3f54d9a7a775a7f8ecbf9c4f0/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a72462a4fd95e8a3f54d9a7a775a7f8ecbf9c4f0/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=a72462a4fd95e8a3f54d9a7a775a7f8ecbf9c4f0", "patch": "@@ -6651,7 +6651,6 @@ init_decl_processing ()\n   /* Show we use EH for cleanups.  */\n   using_eh_for_cleanups ();\n \n-  print_error_function = NULL;\n   valid_lang_attribute = cp_valid_lang_attribute;\n \n   /* Maintain consistency.  Perhaps we should just complain if they"}, {"sha": "012bbcf6aeeefa4c52a5ffd8964ae758d0f26b28", "filename": "gcc/cp/error.c", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a72462a4fd95e8a3f54d9a7a775a7f8ecbf9c4f0/gcc%2Fcp%2Ferror.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a72462a4fd95e8a3f54d9a7a775a7f8ecbf9c4f0/gcc%2Fcp%2Ferror.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ferror.c?ref=a72462a4fd95e8a3f54d9a7a775a7f8ecbf9c4f0", "patch": "@@ -97,6 +97,7 @@ static void dump_scope PARAMS ((tree, enum tree_string_flags));\n static void dump_template_parms PARAMS ((tree, int, enum tree_string_flags));\n \n static const char *function_category PARAMS ((tree));\n+static void lang_print_error_function PARAMS ((const char *));\n static void maybe_print_instantiation_context PARAMS ((output_buffer *));\n static void print_instantiation_full_context PARAMS ((output_buffer *));\n static void print_instantiation_partial_context PARAMS ((output_buffer *, tree,\n@@ -152,6 +153,7 @@ init_error ()\n   gcc_obstack_init (&scratch_obstack);\n   scratch_firstobj = (char *)obstack_alloc (&scratch_obstack, 0);\n \n+  print_error_function = lang_print_error_function;\n   lang_diagnostic_starter = cp_diagnostic_starter;\n   lang_diagnostic_finalizer = cp_diagnostic_finalizer;\n }\n@@ -2431,6 +2433,19 @@ cv_to_string (p, v)\n   return (char *)obstack_base (&scratch_obstack);\n }\n \n+static void\n+lang_print_error_function (file)\n+     const char *file;\n+{\n+  output_state os;\n+\n+  default_print_error_function (file);\n+  os = output_buffer_state (diagnostic_buffer);\n+  output_set_prefix (diagnostic_buffer, file);\n+  maybe_print_instantiation_context (diagnostic_buffer);\n+  output_buffer_state (diagnostic_buffer) = os;\n+}\n+\n static void\n cp_diagnostic_starter (buffer, dc)\n      output_buffer *buffer;"}]}