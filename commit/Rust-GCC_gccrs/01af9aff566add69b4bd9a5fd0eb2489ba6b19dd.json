{"sha": "01af9aff566add69b4bd9a5fd0eb2489ba6b19dd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDFhZjlhZmY1NjZhZGQ2OWI0YmQ5YTVmZDBlYjI0ODliYTZiMTlkZA==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2005-01-03T15:40:30Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2005-01-03T15:40:30Z"}, "message": "par.adb: Enhance error message handling for configuration file pragmas.\n\n\t* par.adb: Enhance error message handling for configuration file\n\tpragmas.\n\nFrom-SVN: r92846", "tree": {"sha": "16afa3adf1e3ad99129f628671d8b21107a27e8a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/16afa3adf1e3ad99129f628671d8b21107a27e8a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/01af9aff566add69b4bd9a5fd0eb2489ba6b19dd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01af9aff566add69b4bd9a5fd0eb2489ba6b19dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/01af9aff566add69b4bd9a5fd0eb2489ba6b19dd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01af9aff566add69b4bd9a5fd0eb2489ba6b19dd/comments", "author": null, "committer": null, "parents": [{"sha": "0fe6afd3cf67ef63300d079b9c03dce9ab6ee091", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0fe6afd3cf67ef63300d079b9c03dce9ab6ee091", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0fe6afd3cf67ef63300d079b9c03dce9ab6ee091"}], "stats": {"total": 34, "additions": 21, "deletions": 13}, "files": [{"sha": "6c8ec704e2007a7b5b104ac1ba098d15de2e7284", "filename": "gcc/ada/par.adb", "status": "modified", "additions": 21, "deletions": 13, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01af9aff566add69b4bd9a5fd0eb2489ba6b19dd/gcc%2Fada%2Fpar.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01af9aff566add69b4bd9a5fd0eb2489ba6b19dd/gcc%2Fada%2Fpar.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fpar.adb?ref=01af9aff566add69b4bd9a5fd0eb2489ba6b19dd", "patch": "@@ -1208,7 +1208,6 @@ begin\n \n    if Configuration_Pragmas then\n       declare\n-         Ecount  : constant Int     := Serious_Errors_Detected;\n          Pragmas : constant List_Id := Empty_List;\n          P_Node  : Node_Id;\n \n@@ -1224,20 +1223,29 @@ begin\n             else\n                P_Node := P_Pragma;\n \n-               if Serious_Errors_Detected > Ecount then\n-                  return Error_List;\n-               end if;\n+               if Nkind (P_Node) = N_Pragma then\n+\n+                  --  Give error if bad pragma\n+\n+                  if Chars (P_Node) > Last_Configuration_Pragma_Name\n+                    and then Chars (P_Node) /= Name_Source_Reference\n+                  then\n+                     if Is_Pragma_Name (Chars (P_Node)) then\n+                        Error_Msg_N\n+                          (\"only configuration pragmas allowed \" &\n+                           \"in configuration file\", P_Node);\n+                     else\n+                        Error_Msg_N\n+                          (\"unrecognized pragma in configuration file\",\n+                           P_Node);\n+                     end if;\n \n-               if Chars (P_Node) > Last_Configuration_Pragma_Name\n-                 and then Chars (P_Node) /= Name_Source_Reference\n-               then\n-                  Error_Msg_SC\n-                    (\"only configuration pragmas allowed \" &\n-                     \"in configuration file\");\n-                  return Error_List;\n-               end if;\n+                  --  Pragma is OK config pragma, so collect it\n \n-               Append (P_Node, Pragmas);\n+                  else\n+                     Append (P_Node, Pragmas);\n+                  end if;\n+               end if;\n             end if;\n          end loop;\n       end;"}]}