{"sha": "1554cdf5c916be937876b35ef5fc3c094b59a32b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTU1NGNkZjVjOTE2YmU5Mzc4NzZiMzVlZjVmYzNjMDk0YjU5YTMyYg==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1994-03-24T18:19:27Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1994-03-24T18:19:27Z"}, "message": "(v_pedwarn_with_decl): Don't cause compilation to fail\nfrom pedantic errors in system header files.\n\nFrom-SVN: r6865", "tree": {"sha": "2a8923d46ecbcfd9f12b03caa763dc7b458c06da", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2a8923d46ecbcfd9f12b03caa763dc7b458c06da"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1554cdf5c916be937876b35ef5fc3c094b59a32b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1554cdf5c916be937876b35ef5fc3c094b59a32b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1554cdf5c916be937876b35ef5fc3c094b59a32b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1554cdf5c916be937876b35ef5fc3c094b59a32b/comments", "author": null, "committer": null, "parents": [{"sha": "9457cc615d8220be0da7c409c3b416812a226f60", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9457cc615d8220be0da7c409c3b416812a226f60", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9457cc615d8220be0da7c409c3b416812a226f60"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "99f1bc4b596bccd2902c5c95060747cbcb4a5929", "filename": "gcc/toplev.c", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1554cdf5c916be937876b35ef5fc3c094b59a32b/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1554cdf5c916be937876b35ef5fc3c094b59a32b/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=1554cdf5c916be937876b35ef5fc3c094b59a32b", "patch": "@@ -1541,7 +1541,15 @@ v_pedwarn_with_decl (decl, s, ap)\n      char *s;\n      va_list ap;\n {\n-  if (flag_pedantic_errors)\n+  /* We don't want -pedantic-errors to cause the compilation to fail from\n+     \"errors\" in system header files.  Sometimes fixincludes can't fix what's\n+     broken (eg: unsigned char bitfields - fixing it may change the alignment\n+     which will cause programs to mysteriously fail because the C library\n+     or kernel uses the original layout).\n+\n+     ??? In fact, we may wish not to issue any message in this case.  */\n+\n+  if (flag_pedantic_errors && ! DECL_IN_SYSTEM_HEADER (decl))\n     v_error_with_decl (decl, s, ap);\n   else\n     v_warning_with_decl (decl, s, ap);"}]}