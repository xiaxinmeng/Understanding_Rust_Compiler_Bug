{"sha": "abecfc8f7b738d589ff9cb67655b13262a79fb0a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWJlY2ZjOGY3YjczOGQ1ODlmZjljYjY3NjU1YjEzMjYyYTc5ZmIwYQ==", "commit": {"author": {"name": "Neil Booth", "email": "neil@daikokuya.co.uk", "date": "2002-08-01T06:25:06Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2002-08-01T06:25:06Z"}, "message": "c-common.c (cb_register_builtins): If C++, define __EXCEPTIONS, __DEPRECATED and __GXX_ABI_VERSION as appropriate.\n\n\t* c-common.c (cb_register_builtins): If C++, define\n\t__EXCEPTIONS, __DEPRECATED and __GXX_ABI_VERSION as appropriate.\n\t* gcc.c (cpp_unique_options): Remove __GXX_ABI_VERSION.\ncp:\n\t* lang-specs.h: Simplify in accordance with new code in\n\tc-common.c.\n\nFrom-SVN: r55924", "tree": {"sha": "313155df97996072fed86db9c94a225526e987d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/313155df97996072fed86db9c94a225526e987d9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/abecfc8f7b738d589ff9cb67655b13262a79fb0a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/abecfc8f7b738d589ff9cb67655b13262a79fb0a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/abecfc8f7b738d589ff9cb67655b13262a79fb0a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/abecfc8f7b738d589ff9cb67655b13262a79fb0a/comments", "author": {"login": "neilb-xx", "id": 160762, "node_id": "MDQ6VXNlcjE2MDc2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/160762?v=4", "gravatar_id": "", "url": "https://api.github.com/users/neilb-xx", "html_url": "https://github.com/neilb-xx", "followers_url": "https://api.github.com/users/neilb-xx/followers", "following_url": "https://api.github.com/users/neilb-xx/following{/other_user}", "gists_url": "https://api.github.com/users/neilb-xx/gists{/gist_id}", "starred_url": "https://api.github.com/users/neilb-xx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/neilb-xx/subscriptions", "organizations_url": "https://api.github.com/users/neilb-xx/orgs", "repos_url": "https://api.github.com/users/neilb-xx/repos", "events_url": "https://api.github.com/users/neilb-xx/events{/privacy}", "received_events_url": "https://api.github.com/users/neilb-xx/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "4078b403a7dc806f4521f3600b524bed55309515", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4078b403a7dc806f4521f3600b524bed55309515", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4078b403a7dc806f4521f3600b524bed55309515"}], "stats": {"total": 42, "additions": 22, "deletions": 20}, "files": [{"sha": "f467337dcd97f94fd1c9e12b4e637a0eac359134", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/abecfc8f7b738d589ff9cb67655b13262a79fb0a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/abecfc8f7b738d589ff9cb67655b13262a79fb0a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=abecfc8f7b738d589ff9cb67655b13262a79fb0a", "patch": "@@ -1,3 +1,12 @@\n+2002-08-01  Neil Booth  <neil@daikokuya.co.uk>\n+\n+\t* c-common.c (cb_register_builtins): If C++, define\n+\t__EXCEPTIONS, __DEPRECATED and __GXX_ABI_VERSION as appropriate.\n+\t* gcc.c (cpp_unique_options): Remove __GXX_ABI_VERSION.\n+cp:\n+\t* lang-specs.h: Simplify in accordance with new code in\n+\tc-common.c.\n+\n 2002-08-01  Neil Booth  <neil@daikokuya.co.uk>\n \n \t* c-common.c: Define all C/ObjC/C++ warning and flag variables."}, {"sha": "784cc643e2f8c896d4f4994e4c0d2f9fe56c58a8", "filename": "gcc/c-common.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/abecfc8f7b738d589ff9cb67655b13262a79fb0a/gcc%2Fc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/abecfc8f7b738d589ff9cb67655b13262a79fb0a/gcc%2Fc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-common.c?ref=abecfc8f7b738d589ff9cb67655b13262a79fb0a", "patch": "@@ -4728,6 +4728,11 @@ cb_register_builtins (pfile)\n \tcpp_define (pfile, \"__GXX_WEAK__=1\");\n       else\n \tcpp_define (pfile, \"__GXX_WEAK__=0\");\n+      if (flag_exceptions)\n+\tcpp_define (pfile, \"__EXCEPTIONS\");\n+      if (warn_deprecated)\n+\tcpp_define (pfile, \"__DEPRECATED\");\n+      cpp_define (pfile, \"__GXX_ABI_VERSION__=101\");\n     }\n \n   /* libgcc needs to know this.  */"}, {"sha": "7b8711666a671b69aba0953e709b0fafc59525ed", "filename": "gcc/cp/lang-specs.h", "status": "modified", "additions": 7, "deletions": 19, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/abecfc8f7b738d589ff9cb67655b13262a79fb0a/gcc%2Fcp%2Flang-specs.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/abecfc8f7b738d589ff9cb67655b13262a79fb0a/gcc%2Fcp%2Flang-specs.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Flang-specs.h?ref=abecfc8f7b738d589ff9cb67655b13262a79fb0a", "patch": "@@ -33,28 +33,16 @@ Boston, MA 02111-1307, USA.  */\n   {\".c++\", \"@c++\", 0},\n   {\".C\",   \"@c++\", 0},\n   {\"@c++\",\n-   /* cc1plus has an integrated ISO C preprocessor.  We should invoke\n-      the external preprocessor if -save-temps is given.  */\n+     /* We should convert -ansi to -std=c++98 even if -fpreprocessed,\n+\tto get dollars in identifiers correct.  */\n     \"%{E|M|MM:cc1plus -E %{!no-gcc:-D__GNUG__=%v1}\\\n-       %{!Wno-deprecated:-D__DEPRECATED}\\\n-       %{!fno-exceptions:-D__EXCEPTIONS}\\\n-       %{ansi:-D__STRICT_ANSI__ -trigraphs -$} %(cpp_options) %2\\\n-       %(cpp_debug_options)}\\\n+       %{ansi:-std=c++98} %(cpp_options) %2 %(cpp_debug_options)}\\\n      %{!E:%{!M:%{!MM:\\\n-       %{save-temps:cc1plus -E \\\n-\t\t    %{!no-gcc:-D__GNUG__=%v1}\\\n-       \t\t    %{!Wno-deprecated:-D__DEPRECATED}\\\n-\t\t    %{!fno-exceptions:-D__EXCEPTIONS}\\\n-\t\t    %{ansi:-D__STRICT_ANSI__ -trigraphs -$}\\\n-\t\t    %(cpp_options) %2 %b.ii \\n}\\\n+       %{save-temps:cc1plus -E %{!no-gcc:-D__GNUG__=%v1}\\\n+\t\t%{ansi:-std=c++98} %(cpp_options) %2 %b.ii \\n}\\\n       cc1plus %{save-temps:-fpreprocessed %b.ii}\\\n-              %{!save-temps:%(cpp_unique_options)\\\n-\t\t\t    %{!no-gcc:-D__GNUG__=%v1} \\\n-       \t\t\t    %{!Wno-deprecated:-D__DEPRECATED}\\\n-\t\t\t    %{!fno-exceptions:-D__EXCEPTIONS}\\\n-\t\t\t    %{ansi:-D__STRICT_ANSI__}}\\\n-       %{ansi:-trigraphs -$}\\\n-       %(cc1_options) %2 %{+e1*}\\\n+\t      %{!save-temps:%(cpp_unique_options) %{!no-gcc:-D__GNUG__=%v1}}\\\n+\t%{ansi:-std=c++98} %(cc1_options) %2 %{+e1*}\\\n        %{!fsyntax-only:%(invoke_as)}}}}\",\n      CPLUSPLUS_CPP_SPEC},\n   {\".ii\", \"@c++-cpp-output\", 0},"}, {"sha": "4e1ba5d6dce453b60adf0a308e1e501e24aba9a3", "filename": "gcc/gcc.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/abecfc8f7b738d589ff9cb67655b13262a79fb0a/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/abecfc8f7b738d589ff9cb67655b13262a79fb0a/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=abecfc8f7b738d589ff9cb67655b13262a79fb0a", "patch": "@@ -675,7 +675,7 @@ static const char *cpp_unique_options =\n  %{MMD:-MMD %W{!o: %b.d}%W{o*:%.d%*}}\\\n  %{M} %{MM} %W{MF*} %{MG} %{MP} %{MQ*} %{MT*}\\\n  %{!E:%{!M:%{!MM:%{MD|MMD:%{o*:-MQ %*}}}}}\\\n- %{!no-gcc:-D__GNUC__=%v1 -D__GNUC_MINOR__=%v2 -D__GNUC_PATCHLEVEL__=%v3 -D__GXX_ABI_VERSION=101}\\\n+ %{!no-gcc:-D__GNUC__=%v1 -D__GNUC_MINOR__=%v2 -D__GNUC_PATCHLEVEL__=%v3}\\\n  %{!undef:%{!ansi:%{!std=*:%p}%{std=gnu*:%p}} %P} %{trigraphs}\\\n  %{remap} %{g3:-dD} %{H} %C %{D*&U*&A*} %{i*} %Z %i\\\n  %{E|M|MM:%W{o*}}\";"}]}