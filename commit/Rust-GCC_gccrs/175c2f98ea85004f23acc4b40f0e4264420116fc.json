{"sha": "175c2f98ea85004f23acc4b40f0e4264420116fc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTc1YzJmOThlYTg1MDA0ZjIzYWNjNGI0MGYwZTQyNjQ0MjAxMTZmYw==", "commit": {"author": {"name": "Doug Rupp", "email": "rupp@adacore.com", "date": "2021-06-05T19:58:35Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2021-07-09T12:35:30Z"}, "message": "[Ada] Declare time_t uniformly based on a system parameter\n\ngcc/ada/\n\n\t* Makefile.rtl: Add translations for s-parame__posix2008.ads\n\t* libgnarl/s-linux.ads: Import System.Parameters.\n\t(time_t): Declare using System.Parameters.time_t_bits.\n\t* libgnarl/s-linux__alpha.ads: Likewise.\n\t* libgnarl/s-linux__android.ads: Likewise.\n\t* libgnarl/s-linux__hppa.ads: Likewise.\n\t* libgnarl/s-linux__mips.ads: Likewise.\n\t* libgnarl/s-linux__riscv.ads: Likewise.\n\t* libgnarl/s-linux__sparc.ads: Likewise.\n\t* libgnarl/s-linux__x32.ads: Likewise.\n\t* libgnarl/s-qnx.ads: Likewise.\n\t* libgnarl/s-osinte__aix.ads: Likewise.\n\t* libgnarl/s-osinte__android.ads: Likewise.\n\t* libgnarl/s-osinte__darwin.ads: Likewise.\n\t* libgnarl/s-osinte__dragonfly.ads: Likewise.\n\t* libgnarl/s-osinte__freebsd.ads: Likewise.\n\t* libgnarl/s-osinte__gnu.ads: Likewise.\n\t* libgnarl/s-osinte__hpux-dce.ads: Likewise.\n\t* libgnarl/s-osinte__hpux.ads: Likewise.\n\t* libgnarl/s-osinte__kfreebsd-gnu.ads: Likewise.\n\t* libgnarl/s-osinte__lynxos178e.ads: Likewise.\n\t* libgnarl/s-osinte__qnx.ads: Likewise.\n\t* libgnarl/s-osinte__rtems.ads: Likewise.\n\t* libgnarl/s-osinte__solaris.ads: Likewise.\n\t* libgnarl/s-osinte__vxworks.ads: Likewise.\n\t* libgnat/g-sothco.ads: Likewise.\n\t* libgnat/s-osprim__darwin.adb: Likewise.\n\t* libgnat/s-osprim__posix.adb: Likewise.\n\t* libgnat/s-osprim__posix2008.adb: Likewise.\n\t* libgnat/s-osprim__rtems.adb: Likewise.\n\t* libgnat/s-osprim__x32.adb: Likewise.\n\t* libgnarl/s-osinte__linux.ads: use type System.Linux.time_t.\n\t* libgnat/s-os_lib.ads (time_t): Declare as subtype of\n\tLong_Long_Integer.\n\t* libgnat/s-parame.ads (time_t_bits): New constant.\n\t* libgnat/s-parame__ae653.ads (time_t_bits): Likewise.\n\t* libgnat/s-parame__hpux.ads (time_t_bits): Likewise.\n\t* libgnat/s-parame__vxworks.ads (time_t_bits): Likewise.\n\t* libgnat/s-parame__posix2008.ads: New file for 64 bit time_t.", "tree": {"sha": "aba2b54fd16afaf2916260e53c5b9b1d34693075", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aba2b54fd16afaf2916260e53c5b9b1d34693075"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/175c2f98ea85004f23acc4b40f0e4264420116fc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/175c2f98ea85004f23acc4b40f0e4264420116fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/175c2f98ea85004f23acc4b40f0e4264420116fc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/175c2f98ea85004f23acc4b40f0e4264420116fc/comments", "author": {"login": "Cementitious", "id": 115579865, "node_id": "U_kgDOBuOb2Q", "avatar_url": "https://avatars.githubusercontent.com/u/115579865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cementitious", "html_url": "https://github.com/Cementitious", "followers_url": "https://api.github.com/users/Cementitious/followers", "following_url": "https://api.github.com/users/Cementitious/following{/other_user}", "gists_url": "https://api.github.com/users/Cementitious/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cementitious/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cementitious/subscriptions", "organizations_url": "https://api.github.com/users/Cementitious/orgs", "repos_url": "https://api.github.com/users/Cementitious/repos", "events_url": "https://api.github.com/users/Cementitious/events{/privacy}", "received_events_url": "https://api.github.com/users/Cementitious/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fbc72d0b4ac841fdf7d3ea15851f3be39361a86c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fbc72d0b4ac841fdf7d3ea15851f3be39361a86c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fbc72d0b4ac841fdf7d3ea15851f3be39361a86c"}], "stats": {"total": 375, "additions": 342, "deletions": 33}, "files": [{"sha": "fb851a6bd9222049f556370e02d4492746764b41", "filename": "gcc/ada/Makefile.rtl", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2FMakefile.rtl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2FMakefile.rtl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FMakefile.rtl?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -2162,6 +2162,7 @@ ifeq ($(strip $(filter-out lynxos178%,$(target_os))),)\n \n   ifeq ($(strip $(filter-out lynxos178e,$(target_os))),)\n     LIBGNAT_TARGET_PAIRS += \\\n+    s-parame.ads<libgnat/s-parame__posix2008.ads \\\n     s-osinte.ads<libgnarl/s-osinte__lynxos178e.ads \\\n     s-osprim.adb<libgnat/s-osprim__posix2008.adb \\\n     s-tracon.adb<hie/s-tracon__ppc-eabi.adb\n@@ -2181,6 +2182,7 @@ ifeq ($(strip $(filter-out rtems%,$(target_os))),)\n   s-osinte.ads<libgnarl/s-osinte__rtems.ads \\\n   s-osprim.adb<libgnat/s-osprim__rtems.adb \\\n   s-parame.adb<libgnat/s-parame__rtems.adb \\\n+  s-parame.ads<libgnat/s-parame__posix2008.ads \\\n   s-taprop.adb<libgnarl/s-taprop__posix.adb \\\n   s-taspri.ads<libgnarl/s-taspri__posix.ads \\\n   s-tpopsp.adb<libgnarl/s-tpopsp__tls.adb \\\n@@ -2760,6 +2762,7 @@ ifeq ($(strip $(filter-out %x32 linux%,$(target_cpu) $(target_os))),)\n   s-osinte.ads<libgnarl/s-osinte__linux.ads \\\n   s-osinte.adb<libgnarl/s-osinte__x32.adb \\\n   s-osprim.adb<libgnat/s-osprim__x32.adb \\\n+  s-parame.ads<libgnat/s-parame__posix2008.ads \\\n   s-taprop.adb<libgnarl/s-taprop__linux.adb \\\n   s-tasinf.ads<libgnarl/s-tasinf__linux.ads \\\n   s-tasinf.adb<libgnarl/s-tasinf__linux.adb \\"}, {"sha": "2251f2d529a5fdfd8edb34b4f0595fbd5aaabc5a", "filename": "gcc/ada/libgnarl/s-linux.ads", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-linux.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-linux.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-linux.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -36,6 +36,7 @@\n --  Preelaborate. This package is designed to be a bottom-level (leaf) package\n \n with Interfaces.C;\n+with System.Parameters;\n \n package System.Linux is\n    pragma Preelaborate;\n@@ -46,7 +47,8 @@ package System.Linux is\n \n    subtype long        is Interfaces.C.long;\n    subtype suseconds_t is Interfaces.C.long;\n-   subtype time_t      is Interfaces.C.long;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+        .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n    subtype clockid_t   is Interfaces.C.int;\n \n    type timespec is record"}, {"sha": "06b12f2a79e4a44aa2020be7582f8872c9e5693d", "filename": "gcc/ada/libgnarl/s-linux__alpha.ads", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-linux__alpha.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-linux__alpha.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-linux__alpha.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -36,6 +36,7 @@\n --  Preelaborate. This package is designed to be a bottom-level (leaf) package.\n \n with Interfaces.C;\n+with System.Parameters;\n \n package System.Linux is\n    pragma Preelaborate;\n@@ -46,7 +47,8 @@ package System.Linux is\n \n    subtype long        is Interfaces.C.long;\n    subtype suseconds_t is Interfaces.C.long;\n-   subtype time_t      is Interfaces.C.long;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n    subtype clockid_t   is Interfaces.C.int;\n \n    type timespec is record"}, {"sha": "d2b689ec972d27cb269028b004bfbaa4fe165f3c", "filename": "gcc/ada/libgnarl/s-linux__android.ads", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-linux__android.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-linux__android.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-linux__android.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -36,6 +36,7 @@\n --  Preelaborate. This package is designed to be a bottom-level (leaf) package\n \n with Interfaces.C;\n+with System.Parameters;\n \n package System.Linux is\n    pragma Preelaborate;\n@@ -46,7 +47,8 @@ package System.Linux is\n \n    subtype long        is Interfaces.C.long;\n    subtype suseconds_t is Interfaces.C.long;\n-   subtype time_t      is Interfaces.C.long;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n    subtype clockid_t   is Interfaces.C.int;\n \n    type timespec is record"}, {"sha": "03869df69c07463fa24bd2c71444468169c62b7a", "filename": "gcc/ada/libgnarl/s-linux__hppa.ads", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-linux__hppa.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-linux__hppa.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-linux__hppa.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -36,6 +36,7 @@\n --  Preelaborate. This package is designed to be a bottom-level (leaf) package.\n \n with Interfaces.C;\n+with System.Parameters;\n \n package System.Linux is\n    pragma Preelaborate;\n@@ -46,7 +47,8 @@ package System.Linux is\n \n    subtype long        is Interfaces.C.long;\n    subtype suseconds_t is Interfaces.C.long;\n-   subtype time_t      is Interfaces.C.long;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n    subtype clockid_t   is Interfaces.C.int;\n \n    type timespec is record"}, {"sha": "3660ee958f36002b239b5bffb357426e1b5136db", "filename": "gcc/ada/libgnarl/s-linux__mips.ads", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-linux__mips.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-linux__mips.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-linux__mips.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -35,6 +35,7 @@\n --  Preelaborate. This package is designed to be a bottom-level (leaf) package\n \n with Interfaces.C;\n+with System.Parameters;\n \n package System.Linux is\n    pragma Preelaborate;\n@@ -46,7 +47,8 @@ package System.Linux is\n    subtype int         is Interfaces.C.int;\n    subtype long        is Interfaces.C.long;\n    subtype suseconds_t is Interfaces.C.long;\n-   subtype time_t      is Interfaces.C.long;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n    subtype clockid_t   is Interfaces.C.int;\n \n    type timespec is record"}, {"sha": "e3f7cc39c79cf6d58e5c9e4168a2eab270cc6242", "filename": "gcc/ada/libgnarl/s-linux__riscv.ads", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-linux__riscv.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-linux__riscv.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-linux__riscv.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -35,6 +35,7 @@\n --  Preelaborate. This package is designed to be a bottom-level (leaf) package\n \n with Interfaces.C;\n+with System.Parameters;\n \n package System.Linux is\n    pragma Preelaborate;\n@@ -46,7 +47,8 @@ package System.Linux is\n    subtype int         is Interfaces.C.int;\n    subtype long        is Interfaces.C.long;\n    subtype suseconds_t is Interfaces.C.long;\n-   subtype time_t      is Interfaces.C.long;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n    subtype clockid_t   is Interfaces.C.int;\n \n    type timespec is record"}, {"sha": "102e9fffc2b5494fef34fe3fd55c61ee50e5cdf4", "filename": "gcc/ada/libgnarl/s-linux__sparc.ads", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-linux__sparc.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-linux__sparc.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-linux__sparc.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -36,6 +36,7 @@\n --  Preelaborate. This package is designed to be a bottom-level (leaf) package\n \n with Interfaces.C;\n+with System.Parameters;\n \n package System.Linux is\n    pragma Preelaborate;\n@@ -46,7 +47,8 @@ package System.Linux is\n \n    subtype long        is Interfaces.C.long;\n    subtype suseconds_t is Interfaces.C.long;\n-   subtype time_t      is Interfaces.C.long;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n    subtype clockid_t   is Interfaces.C.int;\n \n    type timespec is record"}, {"sha": "3281235f91cbdddc322a744520b7c4b2f37f06ee", "filename": "gcc/ada/libgnarl/s-linux__x32.ads", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-linux__x32.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-linux__x32.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-linux__x32.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -38,6 +38,8 @@\n \n with Interfaces.C;\n \n+with System.Parameters;\n+\n package System.Linux is\n    pragma Preelaborate;\n \n@@ -46,12 +48,15 @@ package System.Linux is\n    ----------\n \n    subtype suseconds_t is Long_Long_Integer;\n-   subtype time_t      is Long_Long_Integer;\n+   --  Note that suseconds_t is 64 bits.\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n    subtype clockid_t   is Interfaces.C.int;\n \n    type timespec is record\n       tv_sec  : time_t;\n       tv_nsec : Long_Long_Integer;\n+      --  Note that tv_nsec is 64 bits.\n    end record;\n    pragma Convention (C, timespec);\n "}, {"sha": "bab03d05aadd8defbf028affcf4c491152b40572", "filename": "gcc/ada/libgnarl/s-osinte__aix.ads", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__aix.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__aix.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-osinte__aix.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -43,6 +43,8 @@ with Ada.Unchecked_Conversion;\n with Interfaces.C;\n with Interfaces.C.Extensions;\n \n+with System.Parameters;\n+\n package System.OS_Interface is\n    pragma Preelaborate;\n \n@@ -540,7 +542,8 @@ private\n \n    type pid_t is new int;\n \n-   type time_t is new long;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n \n    type timespec is record\n       tv_sec  : time_t;"}, {"sha": "27f7d9d736f35c5bb78038041a06e74340914a9c", "filename": "gcc/ada/libgnarl/s-osinte__android.ads", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__android.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__android.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-osinte__android.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -42,6 +42,7 @@ with Ada.Unchecked_Conversion;\n with Interfaces.C;\n with System.Linux;\n with System.OS_Constants;\n+with System.Parameters;\n \n package System.OS_Interface is\n    pragma Preelaborate;\n@@ -593,7 +594,8 @@ private\n \n    type pid_t is new int;\n \n-   type time_t is new long;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n \n    type timespec is record\n       tv_sec  : time_t;"}, {"sha": "ac41d528094d7807ee5868f1c94a680227b17047", "filename": "gcc/ada/libgnarl/s-osinte__darwin.ads", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__darwin.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__darwin.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-osinte__darwin.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -40,6 +40,7 @@\n \n with Interfaces.C;\n with System.OS_Constants;\n+with System.Parameters;\n \n package System.OS_Interface is\n    pragma Preelaborate;\n@@ -514,7 +515,8 @@ private\n \n    type pid_t is new int32_t;\n \n-   type time_t is new long;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n \n    type timespec is record\n       tv_sec  : time_t;"}, {"sha": "515e1b3d27923b84adcfcbcfefc4827121c77490", "filename": "gcc/ada/libgnarl/s-osinte__dragonfly.ads", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__dragonfly.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__dragonfly.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-osinte__dragonfly.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -43,6 +43,8 @@ with Ada.Unchecked_Conversion;\n \n with Interfaces.C;\n \n+with System.Parameters;\n+\n package System.OS_Interface is\n    pragma Preelaborate;\n \n@@ -633,7 +635,8 @@ private\n \n    type pid_t is new int;\n \n-   type time_t is new long;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n \n    type timespec is record\n       ts_sec  : time_t;"}, {"sha": "0dae1fbc68dabd84a0592cfe8dfb8ecf91ddb381", "filename": "gcc/ada/libgnarl/s-osinte__freebsd.ads", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__freebsd.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__freebsd.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-osinte__freebsd.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -43,6 +43,8 @@ with Ada.Unchecked_Conversion;\n \n with Interfaces.C;\n \n+with System.Parameters;\n+\n package System.OS_Interface is\n    pragma Preelaborate;\n \n@@ -630,7 +632,8 @@ private\n    type pid_t is new int;\n    Self_PID : constant pid_t := 0;\n \n-   type time_t is new long;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n \n    type timespec is record\n       ts_sec  : time_t;"}, {"sha": "98eef86869e53dd17a31ee103133ba9e9a5d276f", "filename": "gcc/ada/libgnarl/s-osinte__gnu.ads", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__gnu.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__gnu.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-osinte__gnu.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -39,6 +39,7 @@\n --  Preelaborate. This package is designed to be a bottom-level (leaf) package\n \n with Interfaces.C;\n+with System.Parameters;\n with Unchecked_Conversion;\n \n package System.OS_Interface is\n@@ -652,7 +653,8 @@ private\n \n    type pid_t is new int;\n \n-   type time_t is new long;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n \n    type timespec is record\n       tv_sec  : time_t;"}, {"sha": "ce8c5abe57253af5aa149d9eeed2125ac05f11bd", "filename": "gcc/ada/libgnarl/s-osinte__hpux-dce.ads", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__hpux-dce.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__hpux-dce.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-osinte__hpux-dce.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -42,6 +42,8 @@ with Ada.Unchecked_Conversion;\n \n with Interfaces.C;\n \n+with System.Parameters;\n+\n package System.OS_Interface is\n    pragma Preelaborate;\n \n@@ -444,7 +446,8 @@ private\n \n    type pid_t is new int;\n \n-   type time_t is new long;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n \n    type timespec is record\n       tv_sec  : time_t;"}, {"sha": "c94b84c17522ad282faaceb1087f49cfc6ff7984", "filename": "gcc/ada/libgnarl/s-osinte__hpux.ads", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__hpux.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__hpux.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-osinte__hpux.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -42,6 +42,8 @@ with Ada.Unchecked_Conversion;\n \n with Interfaces.C;\n \n+with System.Parameters;\n+\n package System.OS_Interface is\n    pragma Preelaborate;\n \n@@ -514,7 +516,8 @@ private\n \n    type pid_t is new int;\n \n-   type time_t is new long;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n \n    type timespec is record\n       tv_sec  : time_t;"}, {"sha": "de91ee8b6a8e29ae8d8cd1356f830030e0fa7e22", "filename": "gcc/ada/libgnarl/s-osinte__kfreebsd-gnu.ads", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__kfreebsd-gnu.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__kfreebsd-gnu.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-osinte__kfreebsd-gnu.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -39,6 +39,7 @@\n --  Preelaborate. This package is designed to be a bottom-level (leaf) package\n \n with Interfaces.C;\n+with System.Parameters;\n with Unchecked_Conversion;\n \n package System.OS_Interface is\n@@ -598,7 +599,8 @@ private\n \n    type pid_t is new int;\n \n-   type time_t is new long;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n \n    type timespec is record\n       tv_sec  : time_t;"}, {"sha": "cda0f8ef1032c58ba6bb9ec2b5f67562226a9b84", "filename": "gcc/ada/libgnarl/s-osinte__linux.ads", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__linux.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__linux.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-osinte__linux.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -51,6 +51,8 @@ package System.OS_Interface is\n \n    pragma Linker_Options (\"-lpthread\");\n \n+   use type System.Linux.time_t;\n+\n    subtype int            is Interfaces.C.int;\n    subtype char           is Interfaces.C.char;\n    subtype short          is Interfaces.C.short;"}, {"sha": "4f38a53d3d4ab0dfca6e68b854f200b843db3f56", "filename": "gcc/ada/libgnarl/s-osinte__lynxos178e.ads", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__lynxos178e.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__lynxos178e.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-osinte__lynxos178e.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -43,6 +43,7 @@ with Ada.Unchecked_Conversion;\n with Interfaces.C;\n \n with System.Multiprocessors;\n+with System.Parameters;\n \n package System.OS_Interface is\n    pragma Preelaborate;\n@@ -539,7 +540,8 @@ private\n \n    type pid_t is new long;\n \n-   type time_t is new int64;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n \n    type suseconds_t is new int;\n "}, {"sha": "28abfbe051a2a8509ad63f55fd84bc1ae8ad5ff2", "filename": "gcc/ada/libgnarl/s-osinte__qnx.ads", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__qnx.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__qnx.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-osinte__qnx.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -40,6 +40,7 @@\n with Ada.Unchecked_Conversion;\n with Interfaces.C;\n with System.OS_Constants;\n+with System.Parameters;\n \n package System.OS_Interface is\n    pragma Preelaborate;\n@@ -566,7 +567,8 @@ private\n \n    type pid_t is new int;\n \n-   type time_t is new long;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n \n    type timespec is record\n       tv_sec  : time_t;"}, {"sha": "ffbfc3aa6fb3c056f668d38706255515af0c8bb1", "filename": "gcc/ada/libgnarl/s-osinte__rtems.ads", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__rtems.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__rtems.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-osinte__rtems.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -52,6 +52,7 @@\n \n with Interfaces.C;\n with System.OS_Constants;\n+with System.Parameters;\n \n package System.OS_Interface is\n    pragma Preelaborate;\n@@ -617,7 +618,8 @@ private\n \n    type pid_t is new int;\n \n-   type time_t is new Long_Long_Integer;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n \n    type timespec is record\n       tv_sec  : time_t;"}, {"sha": "29e1026f0de8f5d94e9a56ad78f216a453916011", "filename": "gcc/ada/libgnarl/s-osinte__solaris.ads", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__solaris.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__solaris.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-osinte__solaris.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -42,6 +42,8 @@ with Interfaces.C;\n \n with Ada.Unchecked_Conversion;\n \n+with System.Parameters;\n+\n package System.OS_Interface is\n    pragma Preelaborate;\n \n@@ -523,7 +525,8 @@ private\n \n    type pid_t is new long;\n \n-   type time_t is new long;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n \n    type timespec is record\n       tv_sec  : time_t;"}, {"sha": "8b9c5bf7b480ff2e49181850fd6ac5974548e440", "filename": "gcc/ada/libgnarl/s-osinte__vxworks.ads", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__vxworks.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-osinte__vxworks.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-osinte__vxworks.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -42,6 +42,7 @@ with Interfaces.C;\n with System.VxWorks;\n with System.VxWorks.Ext;\n with System.Multiprocessors;\n+with System.Parameters;\n \n package System.OS_Interface is\n    pragma Preelaborate;\n@@ -239,7 +240,11 @@ package System.OS_Interface is\n    -- Time --\n    ----------\n \n-   type time_t is new unsigned_long;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n+   --  Time_t here used to be unsigned to match the VxWorks header\n+   --  declaration. The header declaration has changed in newer release\n+   --  and is now signed for applications.\n \n    type timespec is record\n       ts_sec  : time_t;"}, {"sha": "811c41cbe0779001c8f3e857173a4db52c29f60d", "filename": "gcc/ada/libgnarl/s-qnx.ads", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-qnx.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnarl%2Fs-qnx.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-qnx.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -37,6 +37,8 @@\n \n with Interfaces.C;\n \n+with System.Parameters;\n+\n package System.QNX is\n    pragma Preelaborate;\n \n@@ -46,7 +48,8 @@ package System.QNX is\n \n    subtype long        is Interfaces.C.long;\n    subtype suseconds_t is Interfaces.C.long;\n-   subtype time_t      is Interfaces.C.long;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n    subtype clockid_t   is Interfaces.C.int;\n \n    type timespec is record"}, {"sha": "b48657ba2afbc30147b0156031806a8ac95410d6", "filename": "gcc/ada/libgnat/g-sothco.ads", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fg-sothco.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fg-sothco.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fg-sothco.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -34,6 +34,7 @@\n \n with Ada.Unchecked_Conversion;\n with Interfaces.C.Strings;\n+with System.Parameters;\n \n package GNAT.Sockets.Thin_Common is\n \n@@ -44,9 +45,9 @@ package GNAT.Sockets.Thin_Common is\n    Failure : constant C.int := -1;\n \n    type time_t is\n-     range -2 ** (8 * SOSC.SIZEOF_tv_sec - 1)\n-         .. 2 ** (8 * SOSC.SIZEOF_tv_sec - 1) - 1;\n-   for time_t'Size use 8 * SOSC.SIZEOF_tv_sec;\n+     range -2 ** (System.Parameters.time_t_bits - 1)\n+        .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n+   for time_t'Size use System.Parameters.time_t_bits;\n    pragma Convention (C, time_t);\n \n    type suseconds_t is"}, {"sha": "4c279d563b5157d71cc02efe7dde7abee1ba1f30", "filename": "gcc/ada/libgnat/s-os_lib.ads", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fs-os_lib.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fs-os_lib.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-os_lib.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -172,8 +172,14 @@ package System.OS_Lib is\n    --  instead use OS_Time. These 3 declarations are indended for use only\n    --  by consumers of the GNAT.OS_Lib renaming of this package.\n \n-   subtype time_t is Long_Integer;\n-   --  C time_t type of the time representation\n+   subtype time_t is Long_Long_Integer;\n+   --  C time_t can be either long or long long, but this is a subtype\n+   --  not used in the compiler or tools, but only for user\n+   --  applications, so we choose the Ada equivalent of the latter\n+   --  because eventually that will be the type used out of necessity.\n+   --  This may effect some user code on 32 bit targets that have not yet\n+   --  migrated to the Posix 2008 standard, particularly pre version 5\n+   --  32 bit Linux.\n \n    function To_C (Time : OS_Time) return time_t;\n    --  Convert OS_Time to C time_t type"}, {"sha": "00d0ccb8f6cd4e9eab30cc68e9b6b945dd535b2c", "filename": "gcc/ada/libgnat/s-osprim__darwin.adb", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fs-osprim__darwin.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fs-osprim__darwin.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-osprim__darwin.adb?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -31,6 +31,7 @@\n \n --  This version is for darwin\n \n+with System.Parameters;\n package body System.OS_Primitives is\n \n    --  ??? These definitions are duplicated from System.OS_Interface\n@@ -45,7 +46,8 @@ package body System.OS_Primitives is\n    pragma Convention (C, struct_timezone);\n    type struct_timezone_ptr is access all struct_timezone;\n \n-   type time_t is new Long_Integer;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n \n    type struct_timeval is record\n       tv_sec       : time_t;"}, {"sha": "96bf70e82dfc91da629b908e2eb8331c549a32d6", "filename": "gcc/ada/libgnat/s-osprim__posix.adb", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fs-osprim__posix.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fs-osprim__posix.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-osprim__posix.adb?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -30,6 +30,7 @@\n ------------------------------------------------------------------------------\n \n --  This version is for POSIX-like operating systems\n+with System.Parameters;\n \n package body System.OS_Primitives is\n \n@@ -38,7 +39,8 @@ package body System.OS_Primitives is\n    --  these declarations in System.OS_Interface and move these ones in\n    --  the spec.\n \n-   type time_t is new Long_Integer;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n \n    type timespec is record\n       tv_sec  : time_t;"}, {"sha": "44f14c4fccfac94f535734b5c253bb7d703366bb", "filename": "gcc/ada/libgnat/s-osprim__posix2008.adb", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fs-osprim__posix2008.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fs-osprim__posix2008.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-osprim__posix2008.adb?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -33,6 +33,7 @@\n \n with System.CRTL;\n with System.OS_Constants;\n+with System.Parameters;\n package body System.OS_Primitives is\n \n    subtype int is System.CRTL.int;\n@@ -41,7 +42,8 @@ package body System.OS_Primitives is\n    --  we don't want to depend on any package. Consider removing these\n    --  declarations in System.OS_Interface and move these ones to the spec.\n \n-   type time_t is new System.CRTL.int64;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n \n    type timespec is record\n       tv_sec  : time_t;"}, {"sha": "23669e1f5ecd9cd4b01f96e3c0424c3aec1a5bdd", "filename": "gcc/ada/libgnat/s-osprim__rtems.adb", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fs-osprim__rtems.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fs-osprim__rtems.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-osprim__rtems.adb?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -31,14 +31,16 @@\n \n --  This version is for POSIX-like operating systems\n \n+with System.Parameters;\n package body System.OS_Primitives is\n \n    --  ??? These definitions are duplicated from System.OS_Interface\n    --  because we don't want to depend on any package. Consider removing\n    --  these declarations in System.OS_Interface and move these ones in\n    --  the spec.\n \n-   type time_t is new Long_Long_Integer;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+      .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n \n    type timespec is record\n       tv_sec  : time_t;"}, {"sha": "d3c922c8f38421eda560d85e0a7b0a4fcfe24551", "filename": "gcc/ada/libgnat/s-osprim__x32.adb", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fs-osprim__x32.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fs-osprim__x32.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-osprim__x32.adb?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -38,7 +38,8 @@ package body System.OS_Primitives is\n    --  these declarations in System.OS_Interface and move these ones in\n    --  the spec.\n \n-   type time_t is new Long_Long_Integer;\n+   type time_t is range -2 ** (System.Parameters.time_t_bits - 1)\n+     .. 2 ** (System.Parameters.time_t_bits - 1) - 1;\n \n    type timespec is record\n       tv_sec  : time_t;"}, {"sha": "178bd7cf2a9a260eedeb5ba11fa96f80fe98f4f9", "filename": "gcc/ada/libgnat/s-parame.ads", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fs-parame.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fs-parame.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-parame.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -100,6 +100,13 @@ package System.Parameters is\n    --  Indicates if secondary stacks can grow and shrink at run-time. If False,\n    --  the size of a secondary stack is fixed at the point of its creation.\n \n+   ------------------------------------\n+   -- Characteristics of time_t type --\n+   ------------------------------------\n+\n+   time_t_bits : constant := Long_Integer'Size;\n+   --  Number of bits in type time_t.\n+\n    ----------------------------------------------\n    -- Characteristics of types in Interfaces.C --\n    ----------------------------------------------"}, {"sha": "76824351c9128dd105e8f07a7517d19001e1a2ff", "filename": "gcc/ada/libgnat/s-parame__ae653.ads", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fs-parame__ae653.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fs-parame__ae653.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-parame__ae653.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -100,6 +100,13 @@ package System.Parameters is\n    --  Indicates if secondary stacks can grow and shrink at run-time. If False,\n    --  the size of a secondary stack is fixed at the point of its creation.\n \n+   ------------------------------------\n+   -- Characteristics of time_t type --\n+   ------------------------------------\n+\n+   time_t_bits : constant := Long_Integer'Size;\n+   --  Number of bits in type time_t.\n+\n    ----------------------------------------------\n    -- Characteristics of types in Interfaces.C --\n    ----------------------------------------------"}, {"sha": "053cd764a8adcee61377d221bda2794387ae6cf3", "filename": "gcc/ada/libgnat/s-parame__hpux.ads", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fs-parame__hpux.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fs-parame__hpux.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-parame__hpux.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -98,6 +98,13 @@ package System.Parameters is\n    --  Indicates if secondary stacks can grow and shrink at run-time. If False,\n    --  the size of a secondary stack is fixed at the point of its creation.\n \n+   ------------------------------------\n+   -- Characteristics of time_t type --\n+   ------------------------------------\n+\n+   time_t_bits : constant := Long_Integer'Size;\n+   --  Number of bits in type time_t.\n+\n    ----------------------------------------------\n    -- Characteristics of Types in Interfaces.C --\n    ----------------------------------------------"}, {"sha": "af299eceac9ec6e71550953e6ba1a5a5e97304e9", "filename": "gcc/ada/libgnat/s-parame__posix2008.ads", "status": "added", "additions": 193, "deletions": 0, "changes": 193, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fs-parame__posix2008.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fs-parame__posix2008.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-parame__posix2008.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -0,0 +1,193 @@\n+------------------------------------------------------------------------------\n+--                                                                          --\n+--                         GNAT COMPILER COMPONENTS                         --\n+--                                                                          --\n+--                    S Y S T E M . P A R A M E T E R S                     --\n+--                                                                          --\n+--                                 S p e c                                  --\n+--                                                                          --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n+--                                                                          --\n+-- GNAT is free software;  you can  redistribute it  and/or modify it under --\n+-- terms of the  GNU General Public License as published  by the Free Soft- --\n+-- ware  Foundation;  either version 3,  or (at your option) any later ver- --\n+-- sion.  GNAT is distributed in the hope that it will be useful, but WITH- --\n+-- OUT ANY WARRANTY;  without even the  implied warranty of MERCHANTABILITY --\n+-- or FITNESS FOR A PARTICULAR PURPOSE.                                     --\n+--                                                                          --\n+-- As a special exception under Section 7 of GPL version 3, you are granted --\n+-- additional permissions described in the GCC Runtime Library Exception,   --\n+-- version 3.1, as published by the Free Software Foundation.               --\n+--                                                                          --\n+-- You should have received a copy of the GNU General Public License and    --\n+-- a copy of the GCC Runtime Library Exception along with this program;     --\n+-- see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see    --\n+-- <http://www.gnu.org/licenses/>.                                          --\n+--                                                                          --\n+-- GNAT was originally developed  by the GNAT team at  New York University. --\n+-- Extensive contributions were provided by Ada Core Technologies Inc.      --\n+--                                                                          --\n+------------------------------------------------------------------------------\n+\n+--  This is the Posix 2008 version for 64 bit time_t.\n+\n+--  This package defines some system dependent parameters for GNAT. These\n+--  are values that are referenced by the runtime library and are therefore\n+--  relevant to the target machine.\n+\n+--  The parameters whose value is defined in the spec are not generally\n+--  expected to be changed. If they are changed, it will be necessary to\n+--  recompile the run-time library.\n+\n+--  The parameters which are defined by functions can be changed by modifying\n+--  the body of System.Parameters in file s-parame.adb. A change to this body\n+--  requires only rebinding and relinking of the application.\n+\n+--  Note: do not introduce any pragma Inline statements into this unit, since\n+--  otherwise the relinking and rebinding capability would be deactivated.\n+\n+pragma Compiler_Unit_Warning;\n+\n+package System.Parameters is\n+   pragma Pure;\n+\n+   ---------------------------------------\n+   -- Task And Stack Allocation Control --\n+   ---------------------------------------\n+\n+   type Size_Type is range\n+     -(2 ** (Integer'(Standard'Address_Size) - 1)) ..\n+     +(2 ** (Integer'(Standard'Address_Size) - 1)) - 1;\n+   --  Type used to provide task stack sizes to the runtime. Sized to permit\n+   --  stack sizes of up to half the total addressable memory space. This may\n+   --  seem excessively large (even for 32-bit systems), however there are many\n+   --  instances of users requiring large stack sizes (for example string\n+   --  processing).\n+\n+   Unspecified_Size : constant Size_Type := Size_Type'First;\n+   --  Value used to indicate that no size type is set\n+\n+   function Default_Stack_Size return Size_Type;\n+   --  Default task stack size used if none is specified\n+\n+   function Minimum_Stack_Size return Size_Type;\n+   --  Minimum task stack size permitted\n+\n+   function Adjust_Storage_Size (Size : Size_Type) return Size_Type;\n+   --  Given the storage size stored in the TCB, return the Storage_Size\n+   --  value required by the RM for the Storage_Size attribute. The\n+   --  required adjustment is as follows:\n+   --\n+   --    when Size = Unspecified_Size, return Default_Stack_Size\n+   --    when Size < Minimum_Stack_Size, return Minimum_Stack_Size\n+   --    otherwise return given Size\n+\n+   Default_Env_Stack_Size : constant Size_Type := 8_192_000;\n+   --  Assumed size of the environment task, if no other information is\n+   --  available. This value is used when stack checking is enabled and\n+   --  no GNAT_STACK_LIMIT environment variable is set.\n+\n+   Stack_Grows_Down  : constant Boolean := True;\n+   --  This constant indicates whether the stack grows up (False) or\n+   --  down (True) in memory as functions are called. It is used for\n+   --  proper implementation of the stack overflow check.\n+\n+   Runtime_Default_Sec_Stack_Size : constant Size_Type := 10 * 1024;\n+   --  The run-time chosen default size for secondary stacks that may be\n+   --  overridden by the user with the use of binder -D switch.\n+\n+   Sec_Stack_Dynamic : constant Boolean := True;\n+   --  Indicates if secondary stacks can grow and shrink at run-time. If False,\n+   --  the size of a secondary stack is fixed at the point of its creation.\n+\n+   ------------------------------------\n+   -- Characteristics of time_t type --\n+   ------------------------------------\n+\n+   time_t_bits : constant := Long_Long_Integer'Size;\n+   --  Number of bits in type time_t. Use for targets that are Posix 2008\n+   --  compliant (fixes the year 2038 time_t overflow).\n+\n+   ----------------------------------------------\n+   -- Characteristics of types in Interfaces.C --\n+   ----------------------------------------------\n+\n+   long_bits : constant := Long_Integer'Size;\n+   --  Number of bits in type long and unsigned_long. The normal convention\n+   --  is that this is the same as type Long_Integer, but this may not be true\n+   --  of all targets.\n+\n+   ptr_bits  : constant := Standard'Address_Size;\n+   subtype C_Address is System.Address;\n+   --  Number of bits in Interfaces.C pointers, normally a standard address\n+\n+   C_Malloc_Linkname : constant String := \"__gnat_malloc\";\n+   --  Name of runtime function used to allocate such a pointer\n+\n+   ----------------------------------------------\n+   -- Behavior of Pragma Finalize_Storage_Only --\n+   ----------------------------------------------\n+\n+   --  Garbage_Collected is a Boolean constant whose value indicates the\n+   --  effect of the pragma Finalize_Storage_Entry on a controlled type.\n+\n+   --    Garbage_Collected = False\n+\n+   --      The system releases all storage on program termination only,\n+   --      but not other garbage collection occurs, so finalization calls\n+   --      are omitted only for outer level objects can be omitted if\n+   --      pragma Finalize_Storage_Only is used.\n+\n+   --    Garbage_Collected = True\n+\n+   --      The system provides full garbage collection, so it is never\n+   --      necessary to release storage for controlled objects for which\n+   --      a pragma Finalize_Storage_Only is used.\n+\n+   Garbage_Collected : constant Boolean := False;\n+   --  The storage mode for this system (release on program exit)\n+\n+   ---------------------\n+   -- Tasking Profile --\n+   ---------------------\n+\n+   --  In the following sections, constant parameters are defined to\n+   --  allow some optimizations and fine tuning within the tasking run time\n+   --  based on restrictions on the tasking features.\n+\n+   -------------------\n+   -- Task Abortion --\n+   -------------------\n+\n+   No_Abort : constant Boolean := False;\n+   --  This constant indicates whether abort statements and asynchronous\n+   --  transfer of control (ATC) are disallowed. If set to True, it is\n+   --  assumed that neither construct is used, and the run time does not\n+   --  need to defer/undefer abort and check for pending actions at\n+   --  completion points. A value of True for No_Abort corresponds to:\n+   --  pragma Restrictions (No_Abort_Statements);\n+   --  pragma Restrictions (Max_Asynchronous_Select_Nesting => 0);\n+\n+   ---------------------\n+   -- Task Attributes --\n+   ---------------------\n+\n+   Max_Attribute_Count : constant := 32;\n+   --  Number of task attributes stored in the task control block\n+\n+   -----------------------\n+   -- Task Image Length --\n+   -----------------------\n+\n+   Max_Task_Image_Length : constant := 256;\n+   --  This constant specifies the maximum length of a task's image\n+\n+   ------------------------------\n+   -- Exception Message Length --\n+   ------------------------------\n+\n+   Default_Exception_Msg_Max_Length : constant := 200;\n+   --  This constant specifies the default number of characters to allow\n+   --  in an exception message (200 is minimum required by RM 11.4.1(18)).\n+\n+end System.Parameters;"}, {"sha": "11b408b660e52f224e55ba58f6876fa73c890a09", "filename": "gcc/ada/libgnat/s-parame__vxworks.ads", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fs-parame__vxworks.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175c2f98ea85004f23acc4b40f0e4264420116fc/gcc%2Fada%2Flibgnat%2Fs-parame__vxworks.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-parame__vxworks.ads?ref=175c2f98ea85004f23acc4b40f0e4264420116fc", "patch": "@@ -100,6 +100,21 @@ package System.Parameters is\n    --  Indicates if secondary stacks can grow and shrink at run-time. If False,\n    --  the size of a secondary stack is fixed at the point of its creation.\n \n+   ------------------------------------\n+   -- Characteristics of time_t type --\n+   ------------------------------------\n+\n+   --  IMPORTANT NOTE:\n+   --  Select the appropriate time_t_bits for the VSB in use, then rebuild\n+   --  the runtime using instructions in adainclude/libada.gpr.\n+\n+   time_t_bits : constant := Long_Integer'Size;\n+   --  Number of bits in type time_t for SR0650 and before and SR0660 with\n+   --  non-default configuration.\n+\n+   --  time_t_bits : constant := Long_Long_Integer'Size;\n+   --  Number of bits in type time_t for SR0660 with default configuration.\n+\n    ----------------------------------------------\n    -- Characteristics of types in Interfaces.C --\n    ----------------------------------------------"}]}