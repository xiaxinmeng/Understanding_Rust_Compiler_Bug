{"sha": "80dde427a00b3121ec7b1b3664208149feaa23a8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODBkZGU0MjdhMDBiMzEyMWVjN2IxYjM2NjQyMDgxNDlmZWFhMjNhOA==", "commit": {"author": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2018-07-31T10:34:02Z"}, "committer": {"name": "Martin Liska", "email": "marxin@gcc.gnu.org", "date": "2018-07-31T10:34:02Z"}, "message": "Fix target clones (PR gcov-profile/85370).\n\n2018-07-31  Martin Liska  <mliska@suse.cz>\n\n        PR gcov-profile/85370\n\t* coverage.c (coverage_begin_function): Do not mark target\n        clones as artificial functions.\n\nFrom-SVN: r263112", "tree": {"sha": "96bd35b9b9907c175c4a7b128849ac8a0e1be9b4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/96bd35b9b9907c175c4a7b128849ac8a0e1be9b4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/80dde427a00b3121ec7b1b3664208149feaa23a8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80dde427a00b3121ec7b1b3664208149feaa23a8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/80dde427a00b3121ec7b1b3664208149feaa23a8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80dde427a00b3121ec7b1b3664208149feaa23a8/comments", "author": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "102fcf94e625a2016a65829c73a42bd6c2420376", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/102fcf94e625a2016a65829c73a42bd6c2420376", "html_url": "https://github.com/Rust-GCC/gccrs/commit/102fcf94e625a2016a65829c73a42bd6c2420376"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "b55f7a3f19bcda707735bfe6627aaf337b7d6972", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80dde427a00b3121ec7b1b3664208149feaa23a8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80dde427a00b3121ec7b1b3664208149feaa23a8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=80dde427a00b3121ec7b1b3664208149feaa23a8", "patch": "@@ -1,3 +1,9 @@\n+2018-07-31  Martin Liska  <mliska@suse.cz>\n+\n+        PR gcov-profile/85370\n+\t* coverage.c (coverage_begin_function): Do not mark target\n+        clones as artificial functions.\n+\n 2018-07-31  Martin Liska  <mliska@suse.cz>\n \n         PR gcov-profile/83813"}, {"sha": "bae6f5cafac6d7ce9b9a250bcb1e70b10fd1f628", "filename": "gcc/coverage.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80dde427a00b3121ec7b1b3664208149feaa23a8/gcc%2Fcoverage.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80dde427a00b3121ec7b1b3664208149feaa23a8/gcc%2Fcoverage.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcoverage.c?ref=80dde427a00b3121ec7b1b3664208149feaa23a8", "patch": "@@ -656,7 +656,8 @@ coverage_begin_function (unsigned lineno_checksum, unsigned cfg_checksum)\n   gcov_write_unsigned (cfg_checksum);\n   gcov_write_string (IDENTIFIER_POINTER\n \t\t     (DECL_ASSEMBLER_NAME (current_function_decl)));\n-  gcov_write_unsigned (DECL_ARTIFICIAL (current_function_decl));\n+  gcov_write_unsigned (DECL_ARTIFICIAL (current_function_decl)\n+\t\t       && !DECL_FUNCTION_VERSIONED (current_function_decl));\n   gcov_write_filename (xloc.file);\n   gcov_write_unsigned (xloc.line);\n   gcov_write_unsigned (xloc.column);"}]}