{"sha": "81faedaa8e2819fc0ffda4ce0a888065a6d7a535", "node_id": "C_kwDOANBUbNoAKDgxZmFlZGFhOGUyODE5ZmMwZmZkYTRjZTBhODg4MDY1YTZkN2E1MzU", "commit": {"author": {"name": "Peter Bergner", "email": "bergner@linux.ibm.com", "date": "2022-03-25T22:59:07Z"}, "committer": {"name": "Peter Bergner", "email": "bergner@linux.ibm.com", "date": "2022-03-25T22:59:39Z"}, "message": "rs6000: Update testsuite to use -mdejagnu-cpu= and -mdejagnu-tune= options\n\nThis patch updates the POWER testsuite test cases using -mcpu= and -mtune=\nto use the preferred -mdejagnu-cpu= and -mdejagnu-tune= options.  This also\nobviates the need for the dg-skip-if directive, since the user cannot\noverride the -mcpu= value being used to compile the test case.\n\n2022-03-25  Peter Bergner  <bergner@linux.ibm.com>\n\ngcc/testsuite/\n\n\t* g++.dg/pr65240-1.C: Use -mdejagnu-cpu=.  Remove dg-skip-if.\n\t* g++.dg/pr65240-2.C: Likewise.\n\t* g++.dg/pr65240-3.C: Likewise.\n\t* g++.dg/pr65240-4.C: Likewise.\n\t* g++.dg/pr65242.C: Likewise.\n\t* g++.dg/pr67211.C: Likewise.\n\t* g++.dg/pr69667.C: Likewise.\n\t* g++.dg/pr71294.C: Likewise.\n\t* g++.dg/pr84279.C: Likewise.\n\t* g++.dg/torture/ppc-ldst-array.C: Likewise.\n\t* gfortran.dg/nint_p7.f90: Likewise.\n\t* gfortran.dg/pr102860.f90: Likewise.\n\t* gcc.target/powerpc/fusion.c: Use -mdejagnu-cpu= and -mdejagnu-tune=.\n\t* gcc.target/powerpc/fusion2.c: Likewise.\n\t* gcc.target/powerpc/int_128bit-runnable.c: Use -mdejagnu-cpu=.\n\t* gcc.target/powerpc/test_mffsl.c: Likewise.\n\t* gfortran.dg/pr47614.f: Likewise.\n\t* gfortran.dg/pr58968.f: Likewise.", "tree": {"sha": "be667a486e2af75e00bc0be2e525bd0c69c28d2d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/be667a486e2af75e00bc0be2e525bd0c69c28d2d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/81faedaa8e2819fc0ffda4ce0a888065a6d7a535", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/81faedaa8e2819fc0ffda4ce0a888065a6d7a535", "html_url": "https://github.com/Rust-GCC/gccrs/commit/81faedaa8e2819fc0ffda4ce0a888065a6d7a535", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/comments", "author": {"login": "peter-bergner", "id": 17504345, "node_id": "MDQ6VXNlcjE3NTA0MzQ1", "avatar_url": "https://avatars.githubusercontent.com/u/17504345?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peter-bergner", "html_url": "https://github.com/peter-bergner", "followers_url": "https://api.github.com/users/peter-bergner/followers", "following_url": "https://api.github.com/users/peter-bergner/following{/other_user}", "gists_url": "https://api.github.com/users/peter-bergner/gists{/gist_id}", "starred_url": "https://api.github.com/users/peter-bergner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peter-bergner/subscriptions", "organizations_url": "https://api.github.com/users/peter-bergner/orgs", "repos_url": "https://api.github.com/users/peter-bergner/repos", "events_url": "https://api.github.com/users/peter-bergner/events{/privacy}", "received_events_url": "https://api.github.com/users/peter-bergner/received_events", "type": "User", "site_admin": false}, "committer": {"login": "peter-bergner", "id": 17504345, "node_id": "MDQ6VXNlcjE3NTA0MzQ1", "avatar_url": "https://avatars.githubusercontent.com/u/17504345?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peter-bergner", "html_url": "https://github.com/peter-bergner", "followers_url": "https://api.github.com/users/peter-bergner/followers", "following_url": "https://api.github.com/users/peter-bergner/following{/other_user}", "gists_url": "https://api.github.com/users/peter-bergner/gists{/gist_id}", "starred_url": "https://api.github.com/users/peter-bergner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peter-bergner/subscriptions", "organizations_url": "https://api.github.com/users/peter-bergner/orgs", "repos_url": "https://api.github.com/users/peter-bergner/repos", "events_url": "https://api.github.com/users/peter-bergner/events{/privacy}", "received_events_url": "https://api.github.com/users/peter-bergner/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bdd7b679e8497c07e25726f6ab6429e4c4d429c7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bdd7b679e8497c07e25726f6ab6429e4c4d429c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bdd7b679e8497c07e25726f6ab6429e4c4d429c7"}], "stats": {"total": 48, "additions": 18, "deletions": 30}, "files": [{"sha": "ff8910df6a1ac3e81bf19df9454af51a43036855", "filename": "gcc/testsuite/g++.dg/pr65240-1.C", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr65240-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr65240-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr65240-1.C?ref=81faedaa8e2819fc0ffda4ce0a888065a6d7a535", "patch": "@@ -1,8 +1,7 @@\n /* { dg-do compile { target { powerpc*-*-* && lp64 } } } */\n /* { dg-skip-if \"\" { powerpc*-*-darwin* } } */\n /* { dg-require-effective-target powerpc_p8vector_ok } */\n-/* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power8\" } } */\n-/* { dg-options \"-mcpu=power8 -O3 -ffast-math -mcmodel=small -mno-fp-in-toc -Wno-return-type\" } */\n+/* { dg-options \"-mdejagnu-cpu=power8 -O3 -ffast-math -mcmodel=small -mno-fp-in-toc -Wno-return-type\" } */\n \n /* target/65240, compiler got a 'insn does not satisfy its constraints' error.  */\n "}, {"sha": "bdb7a62d73d23e578d0f40977a778568c05319d3", "filename": "gcc/testsuite/g++.dg/pr65240-2.C", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr65240-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr65240-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr65240-2.C?ref=81faedaa8e2819fc0ffda4ce0a888065a6d7a535", "patch": "@@ -1,8 +1,7 @@\n /* { dg-do compile { target { powerpc*-*-* && lp64 } } } */\n /* { dg-skip-if \"\" { powerpc*-*-darwin* } } */\n /* { dg-require-effective-target powerpc_p8vector_ok } */\n-/* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power8\" } } */\n-/* { dg-options \"-mcpu=power8 -O3 -ffast-math -mcmodel=small -mfp-in-toc -Wno-return-type\" } */\n+/* { dg-options \"-mdejagnu-cpu=power8 -O3 -ffast-math -mcmodel=small -mfp-in-toc -Wno-return-type\" } */\n \n /* target/65240, compiler got a 'insn does not satisfy its constraints' error.  */\n "}, {"sha": "f37db9025d12e8cdf6e016d83bee1474b3876dfa", "filename": "gcc/testsuite/g++.dg/pr65240-3.C", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr65240-3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr65240-3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr65240-3.C?ref=81faedaa8e2819fc0ffda4ce0a888065a6d7a535", "patch": "@@ -1,8 +1,7 @@\n /* { dg-do compile { target { powerpc*-*-* && lp64 } } } */\n /* { dg-skip-if \"\" { powerpc*-*-darwin* } } */\n /* { dg-require-effective-target powerpc_p8vector_ok } */\n-/* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power8\" } } */\n-/* { dg-options \"-mcpu=power8 -O3 -ffast-math -mcmodel=medium -Wno-return-type\" } */\n+/* { dg-options \"-mdejagnu-cpu=power8 -O3 -ffast-math -mcmodel=medium -Wno-return-type\" } */\n \n /* target/65240, compiler got a 'insn does not satisfy its constraints' error.  */\n "}, {"sha": "efb6a6c06e7c1ba2b1fe1d1b1a92585a94c028d6", "filename": "gcc/testsuite/g++.dg/pr65240-4.C", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr65240-4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr65240-4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr65240-4.C?ref=81faedaa8e2819fc0ffda4ce0a888065a6d7a535", "patch": "@@ -1,8 +1,7 @@\n /* { dg-do compile { target { powerpc*-*-* && lp64 } } } */\n /* { dg-skip-if \"\" { powerpc*-*-darwin* } } */\n /* { dg-require-effective-target powerpc_vsx_ok } */\n-/* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power7\" } } */\n-/* { dg-options \"-mcpu=power7 -O3 -ffast-math -Wno-return-type\" } */\n+/* { dg-options \"-mdejagnu-cpu=power7 -O3 -ffast-math -Wno-return-type\" } */\n \n /* target/65240, compiler got a 'insn does not satisfy its constraints' error.  */\n "}, {"sha": "662f375015f272d73b73df3d86f57bedae6de2cb", "filename": "gcc/testsuite/g++.dg/pr65242.C", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr65242.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr65242.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr65242.C?ref=81faedaa8e2819fc0ffda4ce0a888065a6d7a535", "patch": "@@ -1,8 +1,7 @@\n /* { dg-do compile { target { powerpc*-*-* && lp64 } } } */\n /* { dg-skip-if \"\" { powerpc*-*-darwin* } } */\n /* { dg-require-effective-target powerpc_p8vector_ok } */\n-/* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power8\" } } */\n-/* { dg-options \"-mcpu=power8 -O3\" } */\n+/* { dg-options \"-mdejagnu-cpu=power8 -O3\" } */\n \n class A {\n public:"}, {"sha": "ac241818ab5bf45e6d3fa06db9d73745608fdf32", "filename": "gcc/testsuite/g++.dg/pr67211.C", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr67211.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr67211.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr67211.C?ref=81faedaa8e2819fc0ffda4ce0a888065a6d7a535", "patch": "@@ -1,8 +1,7 @@\n /* { dg-do compile { target { powerpc*-*-* && lp64 } } } */\n /* { dg-skip-if \"\" { powerpc*-*-darwin* } } */\n /* { dg-require-effective-target powerpc_p8vector_ok } */\n-/* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power7\" } } */\n-/* { dg-options \"-mcpu=power7 -mtune=power8 -O3 -w\" } */\n+/* { dg-options \"-mdejagnu-cpu=power7 -mdejagnu-tune=power8 -O3 -w\" } */\n \n /* target/67211, compiler got a 'insn does not satisfy its constraints' error.  */\n "}, {"sha": "422116dd59958d9dd8a497cef68bc3c04fe6d5c5", "filename": "gcc/testsuite/g++.dg/pr69667.C", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr69667.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr69667.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr69667.C?ref=81faedaa8e2819fc0ffda4ce0a888065a6d7a535", "patch": "@@ -1,8 +1,7 @@\n /* { dg-do compile { target { powerpc*-*-* && lp64 } } } */\n /* { dg-skip-if \"\" { powerpc*-*-darwin* } } */\n /* { dg-require-effective-target powerpc_p8vector_ok } */\n-/* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power7\" } } */\n-/* { dg-options \"-mcpu=power8 -w -std=c++14\" } */\n+/* { dg-options \"-mdejagnu-cpu=power8 -w -std=c++14\" } */\n \n /* target/69667, compiler got\n    internal compiler error: Max. number of generated reload insns per insn is achieved (90)  */"}, {"sha": "716fa0d44b20f83985632fa84db8cc58e1e0146a", "filename": "gcc/testsuite/g++.dg/pr71294.C", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr71294.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr71294.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr71294.C?ref=81faedaa8e2819fc0ffda4ce0a888065a6d7a535", "patch": "@@ -1,7 +1,6 @@\n // { dg-do compile { target { powerpc64*-*-* && lp64 } } }\n // { dg-require-effective-target powerpc_p8vector_ok } */\n-// { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power8\" } }\n-// { dg-options \"-mcpu=power8 -O3 -fstack-protector\" }\n+// { dg-options \"-mdejagnu-cpu=power8 -O3 -fstack-protector\" }\n \n // PAR target/71294 failed because RELOAD could not figure how create a V2DI\n // vector that auto vectorization created with each element being the same"}, {"sha": "e78201c30dbe3631bf2580d381807e14a3471519", "filename": "gcc/testsuite/g++.dg/pr84279.C", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr84279.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr84279.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr84279.C?ref=81faedaa8e2819fc0ffda4ce0a888065a6d7a535", "patch": "@@ -2,8 +2,7 @@\n /* { dg-skip-if \"\" { powerpc*-*-darwin* } } */\n /* { dg-require-effective-target powerpc_p8vector_ok } */\n /* { dg-require-effective-target fpic } */\n-/* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power8\" } } */\n-/* { dg-options \"-O3 -mcpu=power8 -g -fPIC -fvisibility=hidden -fstack-protector-strong\" } */\n+/* { dg-options \"-O3 -mdejagnu-cpu=power8 -g -fPIC -fvisibility=hidden -fstack-protector-strong\" } */\n \n template <typename, typename T> struct E { T e; };\n struct J {"}, {"sha": "fef69e7cf0950474fd17ac60dc3e5d71221b46fb", "filename": "gcc/testsuite/g++.dg/torture/ppc-ldst-array.C", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fppc-ldst-array.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fppc-ldst-array.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fppc-ldst-array.C?ref=81faedaa8e2819fc0ffda4ce0a888065a6d7a535", "patch": "@@ -1,6 +1,5 @@\n /* { dg-do compile { target { powerpc64*-*-* } } } */\n-/* { dg-skip-if \"do not override mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power8\" } } */\n-/* { dg-options \"-mcpu=power8\" } */\n+/* { dg-options \"-mdejagnu-cpu=power8\" } */\n \n /* When compiled with C++, this code was breaking because of different\n    tree representations of arrays between C and C++.  */"}, {"sha": "2a115580439a91bc2a10ef0e469cf4f561e26bb7", "filename": "gcc/testsuite/gcc.target/powerpc/fusion.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Ffusion.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Ffusion.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Ffusion.c?ref=81faedaa8e2819fc0ffda4ce0a888065a6d7a535", "patch": "@@ -1,7 +1,7 @@\n /* { dg-do compile { target { powerpc*-*-* } } } */\n /* { dg-skip-if \"\" { powerpc*-*-darwin* } } */\n /* { dg-require-effective-target powerpc_p8vector_ok } */\n-/* { dg-options \"-mdejagnu-cpu=power7 -mtune=power8 -O3 -dp\" } */\n+/* { dg-options \"-mdejagnu-cpu=power7 -mdejagnu-tune=power8 -O3 -dp\" } */\n \n #define LARGE 0x12345\n "}, {"sha": "40ca00a74054aece569b69c3577977cfbeae5f81", "filename": "gcc/testsuite/gcc.target/powerpc/fusion2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Ffusion2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Ffusion2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Ffusion2.c?ref=81faedaa8e2819fc0ffda4ce0a888065a6d7a535", "patch": "@@ -2,7 +2,7 @@\n /* { dg-skip-if \"\" { powerpc*-*-darwin* } } */\n /* { dg-skip-if \"\" { powerpc*le-*-* } } */\n /* { dg-require-effective-target powerpc_p8vector_ok } */\n-/* { dg-options \"-mdejagnu-cpu=power7 -mtune=power8 -O3\" } */\n+/* { dg-options \"-mdejagnu-cpu=power7 -mdejagnu-tune=power8 -O3\" } */\n \n vector double fusion_vector (vector double *p) { return p[2]; }\n "}, {"sha": "1afb00262a1b24451a5cc4132e8e04cea364d841", "filename": "gcc/testsuite/gcc.target/powerpc/int_128bit-runnable.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fint_128bit-runnable.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fint_128bit-runnable.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fint_128bit-runnable.c?ref=81faedaa8e2819fc0ffda4ce0a888065a6d7a535", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run } */\n-/* { dg-options \"-mcpu=power10 -save-temps\" } */\n+/* { dg-options \"-mdejagnu-cpu=power10 -save-temps\" } */\n /* { dg-require-effective-target power10_hw } */\n \n /* Check that the expected 128-bit instructions are generated if the processor"}, {"sha": "3a04dd2b33a3319bee900e6ea3f807e8a67e7d1b", "filename": "gcc/testsuite/gcc.target/powerpc/test_mffsl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Ftest_mffsl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Ftest_mffsl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Ftest_mffsl.c?ref=81faedaa8e2819fc0ffda4ce0a888065a6d7a535", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run { target { powerpc*-*-* } } } */\n-/* { dg-options \"-O2 -std=c99 -mcpu=power9\" } */\n+/* { dg-options \"-O2 -std=c99 -mdejagnu-cpu=power9\" } */\n /* { dg-require-effective-target p9vector_hw } */\n \n #ifdef DEBUG"}, {"sha": "2239824a7fb130f75f7089d6d8673c3a9451779a", "filename": "gcc/testsuite/gfortran.dg/nint_p7.f90", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fgfortran.dg%2Fnint_p7.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fgfortran.dg%2Fnint_p7.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fnint_p7.f90?ref=81faedaa8e2819fc0ffda4ce0a888065a6d7a535", "patch": "@@ -1,8 +1,7 @@\n ! Fortran\n ! { dg-do compile { target { powerpc*-*-* } } }\n ! { dg-require-effective-target powerpc_vsx_ok } \n-! { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power7\" } } \n-! { dg-options \"-O2 -mcpu=power7 -ffast-math\" } \n+! { dg-options \"-O2 -mdejagnu-cpu=power7 -ffast-math\" } \n ! { dg-final { scan-assembler-times \"xsrdpi\" 2 } } \n \n \tsubroutine test_nint(x4,x8)"}, {"sha": "6b1feaa9d7945e776edaef04e3fe4c06e7a9d15c", "filename": "gcc/testsuite/gfortran.dg/pr102860.f90", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr102860.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr102860.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr102860.f90?ref=81faedaa8e2819fc0ffda4ce0a888065a6d7a535", "patch": "@@ -1,8 +1,7 @@\n ! PR middle-end/102860\n ! { dg-do compile { target { powerpc*-*-* } } }\n ! { dg-require-effective-target powerpc_vsx_ok } \n-! { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power10\" } } \n-! { dg-options \"-O2 -mcpu=power10\" } \n+! { dg-options \"-O2 -mdejagnu-cpu=power10\" } \n \n function foo(a)\n   integer(kind=4) :: a(1024)"}, {"sha": "d772eef257f371fb6de3c21071e045e1187bcca1", "filename": "gcc/testsuite/gfortran.dg/pr47614.f", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr47614.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr47614.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr47614.f?ref=81faedaa8e2819fc0ffda4ce0a888065a6d7a535", "patch": "@@ -1,6 +1,6 @@\n ! { dg-do run { target { powerpc*-*-* } } }\n ! { dg-skip-if \"\" { powerpc*-*-darwin* } }\n-! { dg-options \"-O3 -funroll-loops -ffast-math -mcpu=power4\" }\n+! { dg-options \"-O3 -funroll-loops -ffast-math -mdejagnu-cpu=power4\" }\n ! { dg-options \"-O3 -funroll-loops -ffast-math\" { target powerpc64le*-*-linux* } }\n \n "}, {"sha": "a7f1e1e710b209b92c529b9e06e8dea80cbe145a", "filename": "gcc/testsuite/gfortran.dg/pr58968.f", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr58968.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81faedaa8e2819fc0ffda4ce0a888065a6d7a535/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr58968.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr58968.f?ref=81faedaa8e2819fc0ffda4ce0a888065a6d7a535", "patch": "@@ -1,6 +1,6 @@\n C PR rtl-optimization/58968.f\n C { dg-do compile { target powerpc*-*-* } }\n-C { dg-options \"-mcpu=power7 -O3 -w -ffast-math  -funroll-loops\" }\n+C { dg-options \"-mdejagnu-cpu=power7 -O3 -w -ffast-math  -funroll-loops\" }\n       SUBROUTINE MAKTABS(IW,SOME,LBOX1,LBOX2,LBOX3,NSPACE,NA,NB,\n      *            LBST,X,\n      *            NX,IAMA,IAMI,IBMA,IBMI,MNUM,IDIM,MSTA,IBO,"}]}