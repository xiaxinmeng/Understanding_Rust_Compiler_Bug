{"sha": "3023956508806f919e89086cca3e8f73b2c7c323", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzAyMzk1NjUwODgwNmY5MTllODkwODZjY2EzZThmNzNiMmM3YzMyMw==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2011-09-07T17:16:23Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2011-09-07T17:16:23Z"}, "message": "re PR c++/50309 ([C++0x] ICE: tree check: expected tree_list, have error_mark in comp_except_specs, at cp/typeck.c:1014 on empty noexcept)\n\n/cp\n2011-09-07  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/50309\n\t* decl.c (grokdeclarator): Check u.function.exception_specification\n\tfor error_mark_node.\n\n/testsuite\n2011-09-07  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/50309\n\t* g++.dg/cpp0x/noexcept14.C: New.\n\nFrom-SVN: r178654", "tree": {"sha": "5273669debafa01ea7678f0e045b4e2f587190e3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5273669debafa01ea7678f0e045b4e2f587190e3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3023956508806f919e89086cca3e8f73b2c7c323", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3023956508806f919e89086cca3e8f73b2c7c323", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3023956508806f919e89086cca3e8f73b2c7c323", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3023956508806f919e89086cca3e8f73b2c7c323/comments", "author": null, "committer": null, "parents": [{"sha": "e39438c55d8d22f9ede589d3fc19bacd639be58b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e39438c55d8d22f9ede589d3fc19bacd639be58b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e39438c55d8d22f9ede589d3fc19bacd639be58b"}], "stats": {"total": 23, "additions": 21, "deletions": 2}, "files": [{"sha": "9810d7d5384893d1e70d00267ea1e27ddea4664a", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3023956508806f919e89086cca3e8f73b2c7c323/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3023956508806f919e89086cca3e8f73b2c7c323/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=3023956508806f919e89086cca3e8f73b2c7c323", "patch": "@@ -1,3 +1,9 @@\n+2011-09-07  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/50309\n+\t* decl.c (grokdeclarator): Check u.function.exception_specification\n+\tfor error_mark_node.\n+\n 2011-09-07  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/50298"}, {"sha": "e30fe18dc788c25c9d8a964683563d55a367ea5c", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3023956508806f919e89086cca3e8f73b2c7c323/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3023956508806f919e89086cca3e8f73b2c7c323/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=3023956508806f919e89086cca3e8f73b2c7c323", "patch": "@@ -9049,6 +9049,10 @@ grokdeclarator (const cp_declarator *declarator,\n             virt_specifiers = declarator->u.function.virt_specifiers;\n \t    /* Pick up the exception specifications.  */\n \t    raises = declarator->u.function.exception_specification;\n+\t    /* If the exception-specification is ill-formed, let's pretend\n+\t       there wasn't one.  */\n+\t    if (raises == error_mark_node)\n+\t      raises = NULL_TREE;\n \n \t    /* Say it's a definition only for the CALL_EXPR\n \t       closest to the identifier.  */"}, {"sha": "c0bc7cca85852d6b26a12f8525b0619b327e4f76", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3023956508806f919e89086cca3e8f73b2c7c323/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3023956508806f919e89086cca3e8f73b2c7c323/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=3023956508806f919e89086cca3e8f73b2c7c323", "patch": "@@ -1,13 +1,18 @@\n+2011-09-07  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/50309\n+\t* g++.dg/cpp0x/noexcept14.C: New.\n+\n 2011-09-07  Jason Merrill  <jason@redhat.com>\n \n \t* g++.dg/cpp0x/constexpr-ref3.C: New.\n \n \t* g++.dg/cpp0x/sfinae11.C: Check for explanatory diagnostic.\n \n 2011-09-07  Georg-Johann Lay  <avr@gjlay.de>\n-\t\n+\n \t* gcc.dg/section1.c: Don't xfail for avr.\n-\t\n+\n 2011-09-07  Georg-Johann Lay  <avr@gjlay.de>\n \n \tPR tree-optimization/50322"}, {"sha": "eba2c4080896aa32040fb2ee4620b049fdb77713", "filename": "gcc/testsuite/g++.dg/cpp0x/noexcept14.C", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3023956508806f919e89086cca3e8f73b2c7c323/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fnoexcept14.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3023956508806f919e89086cca3e8f73b2c7c323/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fnoexcept14.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fnoexcept14.C?ref=3023956508806f919e89086cca3e8f73b2c7c323", "patch": "@@ -0,0 +1,4 @@\n+// PR c++/50309\n+// { dg-options -std=c++0x }\n+\n+void foo () noexcept () { } // { dg-error \"expected\" }"}]}