{"sha": "3db2c087824527f9065861617a48d5753c123b10", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2RiMmMwODc4MjQ1MjdmOTA2NTg2MTYxN2E0OGQ1NzUzYzEyM2IxMA==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2007-02-09T20:53:47Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2007-02-09T20:53:47Z"}, "message": "re PR libgcj/30647 (build of gcc midi-dssi fails)\n\n\tPR libgcj/30647:\n\t* configure: Rebuilt.\n\t* configure.ac: Also check for jack/jack.h.\n\nFrom-SVN: r121775", "tree": {"sha": "b73384534966918dbc9d521355799e772ef60e0e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b73384534966918dbc9d521355799e772ef60e0e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3db2c087824527f9065861617a48d5753c123b10", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3db2c087824527f9065861617a48d5753c123b10", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3db2c087824527f9065861617a48d5753c123b10", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3db2c087824527f9065861617a48d5753c123b10/comments", "author": null, "committer": null, "parents": [{"sha": "507a4fd4a0cdaf34dfe391b6b1f2423e0716a682", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/507a4fd4a0cdaf34dfe391b6b1f2423e0716a682", "html_url": "https://github.com/Rust-GCC/gccrs/commit/507a4fd4a0cdaf34dfe391b6b1f2423e0716a682"}], "stats": {"total": 167, "additions": 162, "deletions": 5}, "files": [{"sha": "6dd05b94c1d880b0677e2207ff4c924c9b0f975d", "filename": "libjava/classpath/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3db2c087824527f9065861617a48d5753c123b10/libjava%2Fclasspath%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3db2c087824527f9065861617a48d5753c123b10/libjava%2Fclasspath%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FChangeLog?ref=3db2c087824527f9065861617a48d5753c123b10", "patch": "@@ -1,3 +1,9 @@\n+2007-02-09  Tom Tromey  <tromey@redhat.com>\n+\n+\tPR libgcj/30647:\n+\t* configure: Rebuilt.\n+\t* configure.ac: Also check for jack/jack.h.\n+\n 2007-02-09  Jakub Jelinek  <jakub@redhat.com>\n \n \t* java/util/TimeZone.java: Handle default (one hour) daylight"}, {"sha": "11f5706a59f559d0c642b9c92b40de049bb39a4c", "filename": "libjava/classpath/configure", "status": "modified", "additions": 153, "deletions": 4, "changes": 157, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3db2c087824527f9065861617a48d5753c123b10/libjava%2Fclasspath%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3db2c087824527f9065861617a48d5753c123b10/libjava%2Fclasspath%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fconfigure?ref=3db2c087824527f9065861617a48d5753c123b10", "patch": "@@ -4144,6 +4144,7 @@ if test \"${enable_dssi+set}\" = set; then\n                 *) COMPILE_DSSI=yes ;;\n               esac\n else\n+  COMPILE_DSSI=no\n \n for ac_header in dssi.h\n do\n@@ -4289,9 +4290,157 @@ if test `eval echo '${'$as_ac_Header'}'` = yes; then\n   cat >>confdefs.h <<_ACEOF\n #define `echo \"HAVE_$ac_header\" | $as_tr_cpp` 1\n _ACEOF\n- COMPILE_DSSI=yes\n+\n+\n+for ac_header in jack/jack.h\n+do\n+as_ac_Header=`echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo \"$as_me:$LINENO: checking for $ac_header\" >&5\n+echo $ECHO_N \"checking for $ac_header... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_Header'}'`\" >&6\n else\n-  COMPILE_DSSI=no\n+  # Is the header compilable?\n+echo \"$as_me:$LINENO: checking $ac_header usability\" >&5\n+echo $ECHO_N \"checking $ac_header usability... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+$ac_includes_default\n+#include <$ac_header>\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_header_compiler=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_header_compiler=no\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_compiler\" >&5\n+echo \"${ECHO_T}$ac_header_compiler\" >&6\n+\n+# Is the header present?\n+echo \"$as_me:$LINENO: checking $ac_header presence\" >&5\n+echo $ECHO_N \"checking $ac_header presence... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <$ac_header>\n+_ACEOF\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_cpp conftest.$ac_ext\\\"\") >&5\n+  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } >/dev/null; then\n+  if test -s conftest.err; then\n+    ac_cpp_err=$ac_c_preproc_warn_flag\n+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag\n+  else\n+    ac_cpp_err=\n+  fi\n+else\n+  ac_cpp_err=yes\n+fi\n+if test -z \"$ac_cpp_err\"; then\n+  ac_header_preproc=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+  ac_header_preproc=no\n+fi\n+rm -f conftest.err conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_preproc\" >&5\n+echo \"${ECHO_T}$ac_header_preproc\" >&6\n+\n+# So?  What about this header?\n+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in\n+  yes:no: )\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!\" >&5\n+echo \"$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result\" >&5\n+echo \"$as_me: WARNING: $ac_header: proceeding with the compiler's result\" >&2;}\n+    ac_header_preproc=yes\n+    ;;\n+  no:yes:* )\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled\" >&5\n+echo \"$as_me: WARNING: $ac_header: present but cannot be compiled\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?\" >&5\n+echo \"$as_me: WARNING: $ac_header:     check for missing prerequisite headers?\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation\" >&5\n+echo \"$as_me: WARNING: $ac_header: see the Autoconf documentation\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header:     section \\\"Present But Cannot Be Compiled\\\"\" >&5\n+echo \"$as_me: WARNING: $ac_header:     section \\\"Present But Cannot Be Compiled\\\"\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result\" >&5\n+echo \"$as_me: WARNING: $ac_header: proceeding with the preprocessor's result\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence\" >&5\n+echo \"$as_me: WARNING: $ac_header: in the future, the compiler will take precedence\" >&2;}\n+    (\n+      cat <<\\_ASBOX\n+## -------------------------------- ##\n+## Report this to classpath@gnu.org ##\n+## -------------------------------- ##\n+_ASBOX\n+    ) |\n+      sed \"s/^/$as_me: WARNING:     /\" >&2\n+    ;;\n+esac\n+echo \"$as_me:$LINENO: checking for $ac_header\" >&5\n+echo $ECHO_N \"checking for $ac_header... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  eval \"$as_ac_Header=\\$ac_header_preproc\"\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_Header'}'`\" >&6\n+\n+fi\n+if test `eval echo '${'$as_ac_Header'}'` = yes; then\n+  cat >>confdefs.h <<_ACEOF\n+#define `echo \"HAVE_$ac_header\" | $as_tr_cpp` 1\n+_ACEOF\n+ COMPILE_DSSI=yes\n+fi\n+\n+done\n+\n fi\n \n done\n@@ -5606,7 +5755,7 @@ test x\"$pic_mode\" = xno && libtool_flags=\"$libtool_flags --prefer-non-pic\"\n case $host in\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 5609 \"configure\"' > conftest.$ac_ext\n+  echo '#line 5758 \"configure\"' > conftest.$ac_ext\n   if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   (eval $ac_compile) 2>&5\n   ac_status=$?\n@@ -10734,7 +10883,7 @@ if test \"$ac_x_libraries\" = no; then\n   # See if we find them without any special options.\n   # Don't add to $LIBS permanently.\n   ac_save_LIBS=$LIBS\n-  LIBS=\"-lXt $LIBS\"\n+  LIBS=\"-lX11 $LIBS\"\n   if test x$gcc_no_link = xyes; then\n   { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}"}, {"sha": "5464a24e417e48fb424dbcb3a8a8894d91b3be7f", "filename": "libjava/classpath/configure.ac", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3db2c087824527f9065861617a48d5753c123b10/libjava%2Fclasspath%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3db2c087824527f9065861617a48d5753c123b10/libjava%2Fclasspath%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fconfigure.ac?ref=3db2c087824527f9065861617a48d5753c123b10", "patch": "@@ -191,7 +191,9 @@ AC_ARG_ENABLE([dssi],\n                 no) COMPILE_DSSI=no ;;\n                 *) COMPILE_DSSI=yes ;;\n               esac],\n-              [AC_CHECK_HEADERS([dssi.h],COMPILE_DSSI=yes,COMPILE_DSSI=no)])\n+              [COMPILE_DSSI=no\n+\t       AC_CHECK_HEADERS([dssi.h], [\n+\t         AC_CHECK_HEADERS([jack/jack.h],COMPILE_DSSI=yes)])])\n AM_CONDITIONAL(CREATE_DSSI_LIBRARIES, test \"x${COMPILE_DSSI}\" = xyes)\n \n dnl -----------------------------------------------------------"}]}