{"sha": "7b841a1252c610d817f1ea0fba140834e5443e7f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2I4NDFhMTI1MmM2MTBkODE3ZjFlYTBmYmExNDA4MzRlNTQ0M2U3Zg==", "commit": {"author": {"name": "Jiong Wang", "email": "jiong.wang@arm.com", "date": "2015-07-08T20:18:00Z"}, "committer": {"name": "Jiong Wang", "email": "jiwang@gcc.gnu.org", "date": "2015-07-08T20:18:00Z"}, "message": "[AArch64] Define TARGET_UNSPEC_MAY_TRAP_P\n\n      gcc/\n\t* config/aarch64/aarch64.c (aarch64_unspec_may_trap_p): New function.\n\t(TARGET_UNSPEC_MAY_TRAP_P): Define as aarch64_unspec_may_trap_p.\n\nFrom-SVN: r225581", "tree": {"sha": "6eb71504ffd7756850f22c4bdab8f7a99367519d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6eb71504ffd7756850f22c4bdab8f7a99367519d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7b841a1252c610d817f1ea0fba140834e5443e7f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b841a1252c610d817f1ea0fba140834e5443e7f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b841a1252c610d817f1ea0fba140834e5443e7f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b841a1252c610d817f1ea0fba140834e5443e7f/comments", "author": null, "committer": null, "parents": [{"sha": "a2eaa477193f5a408da6d7a3719477982dee850b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a2eaa477193f5a408da6d7a3719477982dee850b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a2eaa477193f5a408da6d7a3719477982dee850b"}], "stats": {"total": 26, "additions": 26, "deletions": 0}, "files": [{"sha": "3432adbdc7d570d889794bf8fee8701f9600b2bb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b841a1252c610d817f1ea0fba140834e5443e7f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b841a1252c610d817f1ea0fba140834e5443e7f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7b841a1252c610d817f1ea0fba140834e5443e7f", "patch": "@@ -1,3 +1,8 @@\n+2015-07-08  Jiong Wang  <jiong.wang@arm.com>\n+\n+\t* config/aarch64/aarch64.c (aarch64_unspec_may_trap_p): New function.\n+\t(TARGET_UNSPEC_MAY_TRAP_P): Define as aarch64_unspec_may_trap_p.\n+\n 2015-07-08  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR target/66746"}, {"sha": "6c13a07862b71d9b3dbb2219f124476698847f7d", "filename": "gcc/config/aarch64/aarch64.c", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b841a1252c610d817f1ea0fba140834e5443e7f/gcc%2Fconfig%2Faarch64%2Faarch64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b841a1252c610d817f1ea0fba140834e5443e7f/gcc%2Fconfig%2Faarch64%2Faarch64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.c?ref=7b841a1252c610d817f1ea0fba140834e5443e7f", "patch": "@@ -11890,6 +11890,24 @@ aarch64_use_pseudo_pic_reg (void)\n   return aarch64_cmodel == AARCH64_CMODEL_SMALL_SPIC;\n }\n \n+/* Implement TARGET_UNSPEC_MAY_TRAP_P.  */\n+\n+static int\n+aarch64_unspec_may_trap_p (const_rtx x, unsigned flags)\n+{\n+  switch (XINT (x, 1))\n+    {\n+    case UNSPEC_GOTSMALLPIC:\n+    case UNSPEC_GOTSMALLPIC28K:\n+    case UNSPEC_GOTTINYPIC:\n+      return 0;\n+    default:\n+      break;\n+    }\n+\n+  return default_unspec_may_trap_p (x, flags);\n+}\n+\n #undef TARGET_ADDRESS_COST\n #define TARGET_ADDRESS_COST aarch64_address_cost\n \n@@ -12168,6 +12186,9 @@ aarch64_use_pseudo_pic_reg (void)\n #undef TARGET_SCHED_FUSION_PRIORITY\n #define TARGET_SCHED_FUSION_PRIORITY aarch64_sched_fusion_priority\n \n+#undef TARGET_UNSPEC_MAY_TRAP_P\n+#define TARGET_UNSPEC_MAY_TRAP_P aarch64_unspec_may_trap_p\n+\n #undef TARGET_USE_PSEUDO_PIC_REG\n #define TARGET_USE_PSEUDO_PIC_REG aarch64_use_pseudo_pic_reg\n "}]}