{"sha": "01d87b6f3da40f38bfda6a538316fb8e6ce9a888", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDFkODdiNmYzZGE0MGYzOGJmZGE2YTUzODMxNmZiOGU2Y2U5YTg4OA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2005-04-08T19:07:54Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2005-04-08T19:07:54Z"}, "message": "backspace.c (unformatted_backspace): Do not dereference the pointer to the stream.\n\n\t* io/backspace.c (unformatted_backspace): Do not dereference\n\tthe pointer to the stream.\n\nFrom-SVN: r97851", "tree": {"sha": "207b3f4ff97af1de18c70f425cd92d3da3856266", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/207b3f4ff97af1de18c70f425cd92d3da3856266"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/01d87b6f3da40f38bfda6a538316fb8e6ce9a888", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01d87b6f3da40f38bfda6a538316fb8e6ce9a888", "html_url": "https://github.com/Rust-GCC/gccrs/commit/01d87b6f3da40f38bfda6a538316fb8e6ce9a888", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01d87b6f3da40f38bfda6a538316fb8e6ce9a888/comments", "author": null, "committer": null, "parents": [{"sha": "9ff7d88e0faf1b0a18fd0eca66cb93e4a0c8a51b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9ff7d88e0faf1b0a18fd0eca66cb93e4a0c8a51b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9ff7d88e0faf1b0a18fd0eca66cb93e4a0c8a51b"}], "stats": {"total": 26, "additions": 17, "deletions": 9}, "files": [{"sha": "51959122810813fd0a8769e03303e22fef4564d5", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01d87b6f3da40f38bfda6a538316fb8e6ce9a888/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01d87b6f3da40f38bfda6a538316fb8e6ce9a888/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=01d87b6f3da40f38bfda6a538316fb8e6ce9a888", "patch": "@@ -1,3 +1,8 @@\n+2005-04-08  Eric Botcazou  <ebotcazou@libertysurf.fr>\n+\n+\t* io/backspace.c (unformatted_backspace): Do not dereference\n+\tthe pointer to the stream.\n+\n 2005-04-07  Andrew Pinski  <pinskia@physics.uc.edu>\n \n \tPR libfortran/20766\n@@ -1493,7 +1498,7 @@\n \t* libgfortan.h,intrinsics/random.c: Made random_seed visible.\n \t* runtime/main.c(init): Call random_seed as part of MAIN init.\n \n-2004-05-13  Tobias Schl\ufffdter  <tobias.schlueter@physik.uni-muenchen.de>\n+2004-05-13  Tobias Schlter  <tobias.schlueter@physik.uni-muenchen.de>\n \n \t* io/format.c: (parse_format_list): No comma is required after\n \tP descriptor.\n@@ -1950,7 +1955,7 @@\n \t(calculate_G_format): Rewrite it to eliminate an infinte loop and set\n \tthe scale_factor to 0 for F editing.\n \n-2003-05-11  Tobias Schl\ufffdter  <innenminister@gmx.de>\n+2003-05-11  Tobias Schlter  <innenminister@gmx.de>\n \n \t* libgfor.h: Only include stdint.h if it exists.\n \n@@ -1965,11 +1970,11 @@\n \t* libgfor.h (offsetof): Define if nobody else does.\n \t* runtime/memory.c (HEADER_SIZE): Use it.\n \n-2003-05-01  Tobias Schl\ufffdter  <innenminister@gmx.de>\n+2003-05-01  Tobias Schlter  <innenminister@gmx.de>\n \n \t* configure.in: Require autoconf 2.54.\n \n-2003-04-28  Tobias Schl\ufffdter  <innenminister@gmx.de>\n+2003-04-28  Tobias Schlter  <innenminister@gmx.de>\n \tPaul Brook  <paul@nowt.org>\n \n \t* intrinsics/reshape_generic.c: Copy the whole element, not just the\n@@ -1983,7 +1988,7 @@\n \t* io/format.c (parse_format_list): Allow 'X' without integer\n \tprefix.  This is an extension.  Interpretation is '1X'.\n \n-2003-04-18  Tobias Schl\ufffdter  <Tobias.Schlueter@physik.uni-muenchen.de>\n+2003-04-18  Tobias Schlter  <Tobias.Schlueter@physik.uni-muenchen.de>\n \n \t* io/format.c (parse_format_list): Allow '0P'.\n "}, {"sha": "d4ba3a9baaa8d64363486b5480198cb1441c6825", "filename": "libgfortran/io/backspace.c", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01d87b6f3da40f38bfda6a538316fb8e6ce9a888/libgfortran%2Fio%2Fbackspace.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01d87b6f3da40f38bfda6a538316fb8e6ce9a888/libgfortran%2Fio%2Fbackspace.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fbackspace.c?ref=01d87b6f3da40f38bfda6a538316fb8e6ce9a888", "patch": "@@ -28,6 +28,7 @@ the Free Software Foundation, 59 Temple Place - Suite 330,\n Boston, MA 02111-1307, USA.  */\n \n #include \"config.h\"\n+#include <string.h>\n #include \"libgfortran.h\"\n #include \"io.h\"\n \n@@ -101,17 +102,19 @@ formatted_backspace (void)\n static void\n unformatted_backspace (void)\n {\n-  gfc_offset *p, new;\n+  gfc_offset m, new;\n   int length;\n+  char *p;\n \n   length = sizeof (gfc_offset);\n \n-  p = (gfc_offset *) salloc_r_at (current_unit->s, &length,\n-\t\t\t\tfile_position (current_unit->s) - length);\n+  p = salloc_r_at (current_unit->s, &length,\n+\t\t   file_position (current_unit->s) - length);\n   if (p == NULL)\n     goto io_error;\n \n-  new = file_position (current_unit->s) - *p - 2*length;\n+  memcpy (&m, p, sizeof (gfc_offset));\n+  new = file_position (current_unit->s) - m - 2*length;\n   if (sseek (current_unit->s, new) == FAILURE)\n     goto io_error;\n "}]}