{"sha": "0fdba3a81ca688d6b0072dc97fc2499ea6f89974", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGZkYmEzYTgxY2E2ODhkNmIwMDcyZGM5N2ZjMjQ5OWVhNmY4OTk3NA==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2017-01-13T17:52:34Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2017-01-13T17:52:34Z"}, "message": "PR65411 don't retry fclose on EINTR\n\n\tPR libstdc++/65411\n\t* config/io/basic_file_stdio.cc (__basic_file<char>::close()): Don't\n\tretry fclose on EINTR.\n\nFrom-SVN: r244451", "tree": {"sha": "94616b49f60488739406bfb9c6fbce8afe5562eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/94616b49f60488739406bfb9c6fbce8afe5562eb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0fdba3a81ca688d6b0072dc97fc2499ea6f89974", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0fdba3a81ca688d6b0072dc97fc2499ea6f89974", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0fdba3a81ca688d6b0072dc97fc2499ea6f89974", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0fdba3a81ca688d6b0072dc97fc2499ea6f89974/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e3017e522a2080768e8e565408c8c5b0c2cfb788", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e3017e522a2080768e8e565408c8c5b0c2cfb788", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e3017e522a2080768e8e565408c8c5b0c2cfb788"}], "stats": {"total": 15, "additions": 5, "deletions": 10}, "files": [{"sha": "7ebd063df2a43963d000510a58ee7d33ea3388c2", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fdba3a81ca688d6b0072dc97fc2499ea6f89974/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fdba3a81ca688d6b0072dc97fc2499ea6f89974/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=0fdba3a81ca688d6b0072dc97fc2499ea6f89974", "patch": "@@ -1,5 +1,9 @@\n 2017-01-13  Jonathan Wakely  <jwakely@redhat.com>\n \n+\tPR libstdc++/65411\n+\t* config/io/basic_file_stdio.cc (__basic_file<char>::close()): Don't\n+\tretry fclose on EINTR.\n+\n \t* include/profile/base.h: Remove unused header that leads to header\n \tcycle in C++17 mode.\n "}, {"sha": "e7367016504f58596b887e4018840a35cc4e0e63", "filename": "libstdc++-v3/config/io/basic_file_stdio.cc", "status": "modified", "additions": 1, "deletions": 10, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fdba3a81ca688d6b0072dc97fc2499ea6f89974/libstdc%2B%2B-v3%2Fconfig%2Fio%2Fbasic_file_stdio.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fdba3a81ca688d6b0072dc97fc2499ea6f89974/libstdc%2B%2B-v3%2Fconfig%2Fio%2Fbasic_file_stdio.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fio%2Fbasic_file_stdio.cc?ref=0fdba3a81ca688d6b0072dc97fc2499ea6f89974", "patch": "@@ -267,16 +267,7 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       {\n \tint __err = 0;\n \tif (_M_cfile_created)\n-\t  {\n-\t    // In general, no need to zero errno in advance if checking\n-\t    // for error first. However, C89/C99 (at variance with IEEE\n-\t    // 1003.1, f.i.) do not mandate that fclose must set errno\n-\t    // upon error.\n-\t    errno = 0;\n-\t    do\n-\t      __err = fclose(_M_cfile);\n-\t    while (__err && errno == EINTR);\n-\t  }\n+\t  __err = fclose(_M_cfile);\n \t_M_cfile = 0;\n \tif (!__err)\n \t  __ret = this;"}]}