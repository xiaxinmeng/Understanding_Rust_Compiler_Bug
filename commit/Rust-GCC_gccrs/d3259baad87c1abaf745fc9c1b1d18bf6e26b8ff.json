{"sha": "d3259baad87c1abaf745fc9c1b1d18bf6e26b8ff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDMyNTliYWFkODdjMWFiYWY3NDVmYzljMWIxZDE4YmY2ZTI2YjhmZg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2001-08-02T08:43:29Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2001-08-02T08:43:29Z"}, "message": "regclass.c (call_really_used_regs): Conditionally define.\n\n        * regclass.c (call_really_used_regs): Conditionally define.\n        (init_reg_sets_1): Don't use it if not defined.\n        (fix_register): Similarly, don't set it.\n\nFrom-SVN: r44567", "tree": {"sha": "e0432fba9c38a5bf5fe8a18eac0b79be2a526cf1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e0432fba9c38a5bf5fe8a18eac0b79be2a526cf1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d3259baad87c1abaf745fc9c1b1d18bf6e26b8ff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3259baad87c1abaf745fc9c1b1d18bf6e26b8ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d3259baad87c1abaf745fc9c1b1d18bf6e26b8ff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3259baad87c1abaf745fc9c1b1d18bf6e26b8ff/comments", "author": null, "committer": null, "parents": [{"sha": "eb77eeb3f409f10ac3dd09eb7a6e489b980c812a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eb77eeb3f409f10ac3dd09eb7a6e489b980c812a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eb77eeb3f409f10ac3dd09eb7a6e489b980c812a"}], "stats": {"total": 21, "additions": 16, "deletions": 5}, "files": [{"sha": "21d54fad9726ec742ddc7035f4173655ac5bbb4b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3259baad87c1abaf745fc9c1b1d18bf6e26b8ff/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3259baad87c1abaf745fc9c1b1d18bf6e26b8ff/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d3259baad87c1abaf745fc9c1b1d18bf6e26b8ff", "patch": "@@ -1,3 +1,9 @@\n+2001-08-02  Richard Henderson  <rth@redhat.com>\n+\n+\t* regclass.c (call_really_used_regs): Conditionally define.\n+\t(init_reg_sets_1): Don't use it if not defined.\n+\t(fix_register): Similarly, don't set it.\n+\n 2001-08-01  Gerald Pfeifer  <pfeifer@dbai.tuwien.ac.at>\n \n \t* params.def (PARAM_MAX_INLINE_INSNS): Change default to 600."}, {"sha": "b8f1b54a76c1b3f7c0d586b54613b11c6c3a4d54", "filename": "gcc/regclass.c", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3259baad87c1abaf745fc9c1b1d18bf6e26b8ff/gcc%2Fregclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3259baad87c1abaf745fc9c1b1d18bf6e26b8ff/gcc%2Fregclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fregclass.c?ref=d3259baad87c1abaf745fc9c1b1d18bf6e26b8ff", "patch": "@@ -100,11 +100,8 @@ static char initial_call_used_regs[] = CALL_USED_REGISTERS;\n    what is really call clobbered, and is used when defining \n    regs_invalidated_by_call.  */\n \n-char call_really_used_regs[] = \n #ifdef CALL_REALLY_USED_REGISTERS\n-\t\t\t\tCALL_REALLY_USED_REGISTERS;\n-#else\n-\t\t\t\tCALL_USED_REGISTERS;\n+char call_really_used_regs[] = CALL_REALLY_USED_REGISTERS;\n #endif\n   \n /* Indexed by hard register number, contains 1 for registers that are\n@@ -476,7 +473,13 @@ init_reg_sets_1 ()\n       else if (i == PIC_OFFSET_TABLE_REGNUM && flag_pic)\n \t;\n #endif\n-      else if (call_really_used_regs[i] || global_regs[i])\n+      else if (0\n+#ifdef CALL_REALLY_USED_REGS\n+\t       || call_really_used_regs[i]\n+#else\n+\t       || call_used_regs[i]\n+#endif\n+\t       || global_regs[i])\n \tSET_HARD_REG_BIT (regs_invalidated_by_call, i);\n     }\n \n@@ -759,8 +762,10 @@ fix_register (name, fixed, call_used)\n \t{\n \t  fixed_regs[i] = fixed;\n \t  call_used_regs[i] = call_used;\n+#ifdef CALL_REALLY_USED_REGS\n \t  if (fixed == 0)\n \t    call_really_used_regs[i] = call_used;\n+#endif\n \t}\n     }\n   else"}]}