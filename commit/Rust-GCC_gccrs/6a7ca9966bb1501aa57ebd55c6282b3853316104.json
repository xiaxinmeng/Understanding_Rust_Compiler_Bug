{"sha": "6a7ca9966bb1501aa57ebd55c6282b3853316104", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmE3Y2E5OTY2YmIxNTAxYWE1N2ViZDU1YzYyODJiMzg1MzMxNjEwNA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2001-07-24T00:57:46Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2001-07-24T00:57:46Z"}, "message": "* flow.c (try_simplify_condjump): Use tidy_fallthru_edge.\n\nFrom-SVN: r44287", "tree": {"sha": "3d6096a1c1859078033ec0892d82157a42989109", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3d6096a1c1859078033ec0892d82157a42989109"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6a7ca9966bb1501aa57ebd55c6282b3853316104", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a7ca9966bb1501aa57ebd55c6282b3853316104", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6a7ca9966bb1501aa57ebd55c6282b3853316104", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a7ca9966bb1501aa57ebd55c6282b3853316104/comments", "author": null, "committer": null, "parents": [{"sha": "82efa2e52463ab63a7c9d3bb975aa1b6750a29be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82efa2e52463ab63a7c9d3bb975aa1b6750a29be", "html_url": "https://github.com/Rust-GCC/gccrs/commit/82efa2e52463ab63a7c9d3bb975aa1b6750a29be"}], "stats": {"total": 15, "additions": 10, "deletions": 5}, "files": [{"sha": "ed7a5ae19e25283d2d58c176771cc7853560bc22", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a7ca9966bb1501aa57ebd55c6282b3853316104/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a7ca9966bb1501aa57ebd55c6282b3853316104/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6a7ca9966bb1501aa57ebd55c6282b3853316104", "patch": "@@ -1,3 +1,7 @@\n+2001-07-23  Richard Henderson  <rth@redhat.com>\n+\n+\t* flow.c (try_simplify_condjump): Use tidy_fallthru_edge.\n+\n 2001-07-23  Kazu Hirata  <kazu@hxi.com>\n \n \t* config/h8300/h8300-protos.h: Add a prototype for"}, {"sha": "904684a37cd5ded943e37b36c75682020a5e233d", "filename": "gcc/flow.c", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a7ca9966bb1501aa57ebd55c6282b3853316104/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a7ca9966bb1501aa57ebd55c6282b3853316104/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=6a7ca9966bb1501aa57ebd55c6282b3853316104", "patch": "@@ -3073,17 +3073,18 @@ try_simplify_condjump (cbranch_block)\n     fprintf (rtl_dump_file, \"Simplifying condjump %i around jump %i\\n\",\n \t     INSN_UID (cbranch_insn), INSN_UID (jump_block->end));\n \n-  /* Success.  Update the CFG to match.  */\n+  /* Success.  Update the CFG to match.  Note that after this point\n+     the edge variable names appear backwards; the redirection is done\n+     this way to preserve edge profile data.  */\n   redirect_edge_succ (cbranch_jump_edge, cbranch_dest_block);\n   redirect_edge_succ (cbranch_fallthru_edge, jump_dest_block);\n   cbranch_jump_edge->flags |= EDGE_FALLTHRU;\n   cbranch_fallthru_edge->flags &= ~EDGE_FALLTHRU;\n   \n+  /* Delete the block with the unconditional jump, and clean up the mess.  */\n   flow_delete_block (jump_block);\n-  /* Selectively unlink the sequence.  */\n-  if (cbranch_jump_edge->src->end != PREV_INSN (cbranch_jump_edge->dest->head))\n-    flow_delete_insn_chain (NEXT_INSN (cbranch_jump_edge->src->end),\n-\t\t\t    PREV_INSN (cbranch_jump_edge->dest->head));\n+  tidy_fallthru_edge (cbranch_jump_edge, cbranch_block, cbranch_dest_block);\n+\n   return true;\n }\n "}]}