{"sha": "b676e9e2598abcfbc73b3dc54ef3057ef9e73c5d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjY3NmU5ZTI1OThhYmNmYmM3M2IzZGM1NGVmMzA1N2VmOWU3M2M1ZA==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1992-09-28T21:11:48Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1992-09-28T21:11:48Z"}, "message": "(i960_round_tree): Correct conversion of bits to bytes to round up to nearest byte.\n\n(i960_round_tree): Correct conversion of bits to bytes to\nround up to nearest byte.\n(i960_round_align): Likewise.\n\nFrom-SVN: r2271", "tree": {"sha": "eac5245a9ca0a900ff1f339ea0afab01870eda2b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eac5245a9ca0a900ff1f339ea0afab01870eda2b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b676e9e2598abcfbc73b3dc54ef3057ef9e73c5d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b676e9e2598abcfbc73b3dc54ef3057ef9e73c5d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b676e9e2598abcfbc73b3dc54ef3057ef9e73c5d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b676e9e2598abcfbc73b3dc54ef3057ef9e73c5d/comments", "author": null, "committer": null, "parents": [{"sha": "b711cbccabc17d3b163099109047083365452a1b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b711cbccabc17d3b163099109047083365452a1b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b711cbccabc17d3b163099109047083365452a1b"}], "stats": {"total": 11, "additions": 7, "deletions": 4}, "files": [{"sha": "0f4e5ae2a7b96392bdb296f78aef1ed0cfa6ea5e", "filename": "gcc/config/i960/i960.c", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b676e9e2598abcfbc73b3dc54ef3057ef9e73c5d/gcc%2Fconfig%2Fi960%2Fi960.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b676e9e2598abcfbc73b3dc54ef3057ef9e73c5d/gcc%2Fconfig%2Fi960%2Fi960.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi960%2Fi960.c?ref=b676e9e2598abcfbc73b3dc54ef3057ef9e73c5d", "patch": "@@ -2044,13 +2044,14 @@ tree\n i960_round_size (tsize)\n      tree tsize;\n {\n-  int size, align;\n+  int size, byte_size, align;\n \n   if (TREE_CODE (tsize) != INTEGER_CST)\n     return tsize;\n \n   size = TREE_INT_CST_LOW (tsize);\n-  align = i960_object_bytes_bitalign (size / BITS_PER_UNIT);\n+  byte_size = (size + BITS_PER_UNIT - 1) / BITS_PER_UNIT;\n+  align = i960_object_bytes_bitalign (byte_size);\n \n   /* Handle #pragma align.  */\n   if (align > i960_maxbitalignment)\n@@ -2069,11 +2070,13 @@ i960_round_align (align, tsize)\n      int align;\n      tree tsize;\n {\n+  int byte_size;\n+\n   if (TREE_CODE (tsize) != INTEGER_CST)\n     return align;\n \n-  align = i960_object_bytes_bitalign (TREE_INT_CST_LOW (tsize)\n-\t\t\t\t      / BITS_PER_UNIT);\n+  byte_size = (TREE_INT_CST_LOW (tsize) + BITS_PER_UNIT - 1) / BITS_PER_UNIT;\n+  align = i960_object_bytes_bitalign (byte_size);\n   return align;\n }\n \f"}]}