{"sha": "90f89aa4967364402daa00bfe89b6d5afbf38435", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTBmODlhYTQ5NjczNjQ0MDJkYWEwMGJmZTg5YjZkNWFmYmYzODQzNQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2007-03-16T22:48:27Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2007-03-16T22:48:27Z"}, "message": "* tools/gnu/classpath/tools/javah/JniStubPrinter.java\n\t(printClass): Added filename argument.\n\t* tools/gnu/classpath/tools/javah/JniIncludePrinter.java\n\t(printClass): Added filename argument.\n\t* tools/gnu/classpath/tools/javah/CniIncludePrinter.java\n\t(printClass): Use user's file name.\n\t* tools/gnu/classpath/tools/javah/CniStubPrinter.java\n\t(printClass): Use user's file name.\n\t* tools/gnu/classpath/tools/javah/Printer.java (printClass): Added\n\tfilename argument.\n\t* tools/gnu/classpath/tools/javah/Main.java (getParser): Fix '-v'\n\targument order.\n\t(writeHeaders): Use a HashMap.\n\t(run): Put class name into HashMap for writeHeaders.\n\nFrom-SVN: r123000", "tree": {"sha": "df67f1c8c2185740a8c1716f30a73241bb787c78", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/df67f1c8c2185740a8c1716f30a73241bb787c78"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/90f89aa4967364402daa00bfe89b6d5afbf38435", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90f89aa4967364402daa00bfe89b6d5afbf38435", "html_url": "https://github.com/Rust-GCC/gccrs/commit/90f89aa4967364402daa00bfe89b6d5afbf38435", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90f89aa4967364402daa00bfe89b6d5afbf38435/comments", "author": null, "committer": null, "parents": [{"sha": "3422222a024b9a669240c551ca657516b2e53461", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3422222a024b9a669240c551ca657516b2e53461", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3422222a024b9a669240c551ca657516b2e53461"}], "stats": {"total": 71, "additions": 50, "deletions": 21}, "files": [{"sha": "0f68f91945233994bdaed0b0b066a049b3369397", "filename": "libjava/classpath/ChangeLog", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FChangeLog?ref=90f89aa4967364402daa00bfe89b6d5afbf38435", "patch": "@@ -1,3 +1,20 @@\n+2007-03-16  Tom Tromey  <tromey@redhat.com>\n+\n+\t* tools/gnu/classpath/tools/javah/JniStubPrinter.java\n+\t(printClass): Added filename argument.\n+\t* tools/gnu/classpath/tools/javah/JniIncludePrinter.java\n+\t(printClass): Added filename argument.\n+\t* tools/gnu/classpath/tools/javah/CniIncludePrinter.java\n+\t(printClass): Use user's file name.\n+\t* tools/gnu/classpath/tools/javah/CniStubPrinter.java\n+\t(printClass): Use user's file name.\n+\t* tools/gnu/classpath/tools/javah/Printer.java (printClass): Added\n+\tfilename argument.\n+\t* tools/gnu/classpath/tools/javah/Main.java (getParser): Fix '-v'\n+\targument order.\n+\t(writeHeaders): Use a HashMap.\n+\t(run): Put class name into HashMap for writeHeaders.\n+\n 2007-03-02  Mario Torre  <neugens@limasoftware.net>\n \n \tPR classpath/31017:"}, {"sha": "08bcc36cc044aa003ae3ca8d62c1e264a69cad00", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/CniIncludePrinter.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FCniIncludePrinter.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FCniIncludePrinter.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FCniIncludePrinter.class?ref=90f89aa4967364402daa00bfe89b6d5afbf38435"}, {"sha": "8726cdd216e068bca03cd1c32a70658cad09fb81", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/CniStubPrinter.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FCniStubPrinter.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FCniStubPrinter.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FCniStubPrinter.class?ref=90f89aa4967364402daa00bfe89b6d5afbf38435"}, {"sha": "690b2b932dc38d9f586db6cef8acc036abd7fc79", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/JniIncludePrinter.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FJniIncludePrinter.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FJniIncludePrinter.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FJniIncludePrinter.class?ref=90f89aa4967364402daa00bfe89b6d5afbf38435"}, {"sha": "a0f008dbfd898387934b0ce3380b5adaefcbf665", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/JniStubPrinter.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FJniStubPrinter.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FJniStubPrinter.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FJniStubPrinter.class?ref=90f89aa4967364402daa00bfe89b6d5afbf38435"}, {"sha": "5937740302190b73ab7d6d4d09a4136d21e6666b", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Main$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%241.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%241.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%241.class?ref=90f89aa4967364402daa00bfe89b6d5afbf38435"}, {"sha": "ed0500f45edc859cf35c24bf56ab21697d31e144", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Main$10.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%2410.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%2410.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%2410.class?ref=90f89aa4967364402daa00bfe89b6d5afbf38435"}, {"sha": "1eb1b1e43232c12adacec646aa7ca31a32e0c2e4", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Main$2.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%242.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%242.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%242.class?ref=90f89aa4967364402daa00bfe89b6d5afbf38435"}, {"sha": "a798489e93c781ab7764a03a8e44f0c9b7b7649e", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Main$3.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%243.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%243.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%243.class?ref=90f89aa4967364402daa00bfe89b6d5afbf38435"}, {"sha": "0811703a1e5fff66325b777e0bf38b745c78b186", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Main$4.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%244.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%244.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%244.class?ref=90f89aa4967364402daa00bfe89b6d5afbf38435"}, {"sha": "faa51e20a530dbe15938b3e0b871f79d39ee01ed", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Main$5.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%245.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%245.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%245.class?ref=90f89aa4967364402daa00bfe89b6d5afbf38435"}, {"sha": "10286fa7a07aa1d5dfcb92bd5300d469375ca702", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Main$6.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%246.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%246.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%246.class?ref=90f89aa4967364402daa00bfe89b6d5afbf38435"}, {"sha": "6da557c37ac7a0fc8b623fa80027361686cacb64", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Main$7.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%247.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%247.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%247.class?ref=90f89aa4967364402daa00bfe89b6d5afbf38435"}, {"sha": "16fe8a3a6e5e1cd253dc78509e5c98f75eca6276", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Main$8.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%248.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%248.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%248.class?ref=90f89aa4967364402daa00bfe89b6d5afbf38435"}, {"sha": "f4393f56fda36d81525601da85e1733c62b1db80", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Main$9.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%249.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%249.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%249.class?ref=90f89aa4967364402daa00bfe89b6d5afbf38435"}, {"sha": "66c37937fa3ae25fd3a04a59120a0b18f24cb7dc", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Main.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain.class?ref=90f89aa4967364402daa00bfe89b6d5afbf38435"}, {"sha": "94bc20c09a5020ef14b10e657ecbc7caeffdd65a", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Printer.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FPrinter.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FPrinter.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FPrinter.class?ref=90f89aa4967364402daa00bfe89b6d5afbf38435"}, {"sha": "445f902da48aba632dd88264a4c8f5bfe97550b4", "filename": "libjava/classpath/tools/gnu/classpath/tools/javah/CniIncludePrinter.java", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FCniIncludePrinter.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FCniIncludePrinter.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FCniIncludePrinter.java?ref=90f89aa4967364402daa00bfe89b6d5afbf38435", "patch": "@@ -1,5 +1,5 @@\n /* CniIncludePrinter.java - generate CNI header files\n- Copyright (C) 2006 Free Software Foundation, Inc.\n+ Copyright (C) 2006, 2007 Free Software Foundation, Inc.\n \n  This file is part of GNU Classpath.\n \n@@ -63,14 +63,14 @@ protected PrintStream getPrintStreamImpl(FileOutputStream fos,\n     return new PrintStream(fos);\n   }\n \n-  public void printClass(ClassWrapper klass) throws IOException\n+  public void printClass(File filename, ClassWrapper klass) throws IOException\n   {\n     // Never write Object or Class. This is a hack, maybe\n     // the user would like to see what they look like...\n     if (klass.name.equals(\"java/lang/Object\")\n         || klass.name.equals(\"java/lang/Class\"))\n       return;\n-    PrintStream ps = getPrintStream(klass.name + \".h\", klass);\n+    PrintStream ps = getPrintStream(filename + \".h\", klass);\n     if (ps == null)\n       return;\n     ps.println();"}, {"sha": "3acec2328897c8df02fa949cdea6ec7738450475", "filename": "libjava/classpath/tools/gnu/classpath/tools/javah/CniStubPrinter.java", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FCniStubPrinter.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FCniStubPrinter.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FCniStubPrinter.java?ref=90f89aa4967364402daa00bfe89b6d5afbf38435", "patch": "@@ -1,5 +1,5 @@\n /* CniStubPrinter.java - Generate a CNI stub file\n- Copyright (C) 2006 Free Software Foundation, Inc.\n+ Copyright (C) 2006, 2007 Free Software Foundation, Inc.\n \n  This file is part of GNU Classpath.\n \n@@ -90,12 +90,12 @@ protected PrintStream getPrintStreamImpl(FileOutputStream fos,\n     return new CniPrintStream(fos);\n   }\n \n-  public void printClass(ClassWrapper klass) throws IOException\n+  public void printClass(File filename, ClassWrapper klass) throws IOException\n   {\n     if (! klass.hasNativeMethod())\n       return;\n     String className = klass.name.replaceAll(\"/\", \"::\");\n-    CniPrintStream out = (CniPrintStream) getPrintStream(klass.name + \".cc\",\n+    CniPrintStream out = (CniPrintStream) getPrintStream(filename + \".cc\",\n                                                          klass);\n     if (out == null)\n       return;"}, {"sha": "6c1a8e166fb2bffe3600dc533e7a7ee50cf592c2", "filename": "libjava/classpath/tools/gnu/classpath/tools/javah/JniIncludePrinter.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FJniIncludePrinter.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FJniIncludePrinter.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FJniIncludePrinter.java?ref=90f89aa4967364402daa00bfe89b6d5afbf38435", "patch": "@@ -107,8 +107,9 @@ protected PrintStream getPrintStreamImpl(FileOutputStream fos,\n     return new JniPrintStream(classpath, fos, klass);\n   }\n \n-  public void printClass(ClassWrapper klass) throws IOException\n+  public void printClass(File filename, ClassWrapper klass) throws IOException\n   {\n+    // Note that we ignore the filename here.\n     String xname = JniHelper.mangle(klass.name);\n     JniPrintStream out \n       = (JniPrintStream) getPrintStream(klass.name.replace('/', '_') + \".h\", "}, {"sha": "d4b34fc20675909fec5883151b63e067d56dab9e", "filename": "libjava/classpath/tools/gnu/classpath/tools/javah/JniStubPrinter.java", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FJniStubPrinter.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FJniStubPrinter.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FJniStubPrinter.java?ref=90f89aa4967364402daa00bfe89b6d5afbf38435", "patch": "@@ -1,5 +1,5 @@\n /* JniStubPrinter.java - Generate JNI stub files\n- Copyright (C) 2006 Free Software Foundation, Inc.\n+ Copyright (C) 2006, 2007 Free Software Foundation, Inc.\n \n  This file is part of GNU Classpath.\n \n@@ -71,8 +71,9 @@ protected PrintStream getPrintStreamImpl(FileOutputStream fos,\n     return new JniPrintStream(classpath, fos, klass);\n   }\n \n-  public void printClass(ClassWrapper klass) throws IOException\n+  public void printClass(File filename, ClassWrapper klass) throws IOException\n   {\n+    // Note that we ignore the filename here.\n     if (! klass.hasNativeMethod())\n       return;\n     String xname = JniHelper.mangle(klass.name);"}, {"sha": "250844d1d88b779d912616bb44cb547f62331916", "filename": "libjava/classpath/tools/gnu/classpath/tools/javah/Main.java", "status": "modified", "additions": 19, "deletions": 10, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain.java?ref=90f89aa4967364402daa00bfe89b6d5afbf38435", "patch": "@@ -58,6 +58,7 @@\n import java.util.HashMap;\n import java.util.HashSet;\n import java.util.Iterator;\n+import java.util.Map;\n \n import org.objectweb.asm.ClassReader;\n \n@@ -254,7 +255,7 @@ public void parsed(String arg0) throws OptionException\n         cni = true;\n       }\n     });\n-    result.add(new Option('v', \"verbose\", \"Set verbose mode\")\n+    result.add(new Option(\"verbose\", 'v', \"Set verbose mode\")\n     {\n       public void parsed(String arg0) throws OptionException\n       {\n@@ -309,16 +310,18 @@ private File makeOutputFile() throws IOException\n     return result;\n   }\n \n-  private void writeHeaders(ArrayList klasses, Printer printer)\n+  private void writeHeaders(HashMap klasses, Printer printer)\n       throws IOException\n   {\n-    Iterator i = klasses.iterator();\n+    Iterator i = klasses.entrySet().iterator();\n     while (i.hasNext())\n       {\n-        ClassWrapper klass = (ClassWrapper) i.next();\n+\tMap.Entry e = (Map.Entry) i.next();\n+\tFile filename = (File) e.getKey();\n+        ClassWrapper klass = (ClassWrapper) e.getValue();\n         if (verbose)\n-          System.err.println(\"[writing \" + klass + \"]\");\n-        printer.printClass(klass);\n+          System.err.println(\"[writing \" + klass + \" as \" + filename + \"]\");\n+        printer.printClass(filename, klass);\n       }\n   }\n \n@@ -376,29 +379,34 @@ protected void run(String[] args) throws IOException\n       }\n \n     Iterator i = klasses.iterator();\n-    ArrayList results = new ArrayList();\n+    HashMap results = new HashMap();\n     while (i.hasNext())\n       {\n         // Let user specify either kind of class name or a\n         // file name.\n         Object item = i.next();\n         ClassWrapper klass;\n+\tFile filename;\n         if (item instanceof File)\n           {\n             // Load class from file.\n             if (verbose)\n               System.err.println(\"[reading file \" + item + \"]\");\n-            klass = getClass((File) item);\n+\t    filename = (File) item;\n+            klass = getClass(filename);\n           }\n         else\n           {\n             // Load class given the class name.\n             String className = ((String) item).replace('.', '/');\n             if (verbose)\n               System.err.println(\"[reading class \" + className + \"]\");\n+\t    // Use the name the user specified, even if it is\n+\t    // different from the ultimate class name.\n+\t    filename = new File(className);\n             klass = getClass(className);\n           }\n-        results.add(klass);\n+        results.put(filename, klass);\n       }\n \n     writeHeaders(results, printer);\n@@ -436,7 +444,8 @@ public ClassWrapper getClass(String name) throws IOException\n         String resource = name.replace('.', '/') + \".class\";\n         URL url = loader.findResource(resource);\n         if (url == null)\n-          throw new IOException(\"can't find class file \" + resource);\n+          throw new IOException(\"can't find class file \" + resource\n+\t\t\t\t+ \" in \" + loader);\n         InputStream is = url.openStream();\n         ClassWrapper result = readClass(is);\n         classMap.put(name, result);"}, {"sha": "7a896cf62b108daf89054c9d144ed9a0afec5924", "filename": "libjava/classpath/tools/gnu/classpath/tools/javah/Printer.java", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FPrinter.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90f89aa4967364402daa00bfe89b6d5afbf38435/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FPrinter.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FPrinter.java?ref=90f89aa4967364402daa00bfe89b6d5afbf38435", "patch": "@@ -1,5 +1,5 @@\n /* Print.java - abstract base class for printing classes\n- Copyright (C) 2006 Free Software Foundation, Inc.\n+ Copyright (C) 2006, 2007 Free Software Foundation, Inc.\n \n  This file is part of GNU Classpath.\n \n@@ -95,7 +95,8 @@ protected Printer(Main classpath, File outFile, boolean isDir, boolean force)\n     this.force = force;\n   }\n \n-  public abstract void printClass(ClassWrapper klass) throws IOException;\n+  public abstract void printClass(File filename, ClassWrapper klass)\n+    throws IOException;\n \n   protected abstract void writePreambleImpl(PrintStream ps);\n "}]}