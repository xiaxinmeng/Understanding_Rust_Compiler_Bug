{"sha": "e5baf3bd82e549059b55fe169e637efbecbf8eca", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTViYWYzYmQ4MmU1NDkwNTliNTVmZTE2OWU2MzdlZmJlY2JmOGVjYQ==", "commit": {"author": {"name": "Fernando Nasser", "email": "fnasser@redhat.com", "date": "2004-01-13T13:09:31Z"}, "committer": {"name": "Fernando Nasser", "email": "fnasser@gcc.gnu.org", "date": "2004-01-13T13:09:31Z"}, "message": "TestAWT.java: Fix test program so that it does not show modal dialogs twice and so that it...\n\n        * gnu/java/awt/peer/gtk/TestAWT.java: Fix test program so that it does\n        not show modal dialogs twice and so that it allows showing a modal\n        dialog from another modal dialog.\n\nFrom-SVN: r75803", "tree": {"sha": "c4db13fdec0f1fbcabc413740320b1e335769768", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c4db13fdec0f1fbcabc413740320b1e335769768"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e5baf3bd82e549059b55fe169e637efbecbf8eca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5baf3bd82e549059b55fe169e637efbecbf8eca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e5baf3bd82e549059b55fe169e637efbecbf8eca", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5baf3bd82e549059b55fe169e637efbecbf8eca/comments", "author": {"login": "fnasser", "id": 326533, "node_id": "MDQ6VXNlcjMyNjUzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/326533?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fnasser", "html_url": "https://github.com/fnasser", "followers_url": "https://api.github.com/users/fnasser/followers", "following_url": "https://api.github.com/users/fnasser/following{/other_user}", "gists_url": "https://api.github.com/users/fnasser/gists{/gist_id}", "starred_url": "https://api.github.com/users/fnasser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fnasser/subscriptions", "organizations_url": "https://api.github.com/users/fnasser/orgs", "repos_url": "https://api.github.com/users/fnasser/repos", "events_url": "https://api.github.com/users/fnasser/events{/privacy}", "received_events_url": "https://api.github.com/users/fnasser/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "9bc43c535ec8533339eccf3b17f0126874cd5a9d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9bc43c535ec8533339eccf3b17f0126874cd5a9d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9bc43c535ec8533339eccf3b17f0126874cd5a9d"}], "stats": {"total": 45, "additions": 41, "deletions": 4}, "files": [{"sha": "eb423b3e012391eb1a41fb16f55f22615cf99d77", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e5baf3bd82e549059b55fe169e637efbecbf8eca/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e5baf3bd82e549059b55fe169e637efbecbf8eca/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=e5baf3bd82e549059b55fe169e637efbecbf8eca", "patch": "@@ -1,3 +1,9 @@\n+2004-01-12  Fernando Nasser  <fnasser@redhat.com>\n+\n+\t* gnu/java/awt/peer/gtk/TestAWT.java: Fix test program so that it does\n+\tnot show modal dialogs twice and so that it allows showing a modal\n+\tdialog from another modal dialog.\n+\n 2004-01-12  Fernando Nasser  <fnasser@redhat.com>\n \n \t* java/awt/Dialog.java (show): Enable blocking for all modal dialogs"}, {"sha": "36e4416d3dfae9645527baa249e5719607fb161b", "filename": "libjava/gnu/java/awt/peer/gtk/TestAWT.java", "status": "modified", "additions": 35, "deletions": 4, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e5baf3bd82e549059b55fe169e637efbecbf8eca/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FTestAWT.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e5baf3bd82e549059b55fe169e637efbecbf8eca/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FTestAWT.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FTestAWT.java?ref=e5baf3bd82e549059b55fe169e637efbecbf8eca", "patch": "@@ -184,8 +184,16 @@ public void actionPerformed (ActionEvent evt)\n       w.dispose ();\n     else \n       {\n-\tw.setVisible (true);\n-\tw.show();\n+        if (w instanceof Dialog)\n+          {\n+            System.out.println (\"Will 'show'\");\n+\t    w.show();\n+            System.out.println (\"Has shown\");\n+          }\n+        else\n+          {\n+\t    w.setVisible (true);\n+          }\n       }\n   }\n }\n@@ -250,11 +258,14 @@ public void actionPerformed (ActionEvent evt)\n class DialogWindow extends Dialog implements SubWindow\n {\n   Label text;\n+  Frame parent;\n   boolean initted = false;\n \n   public DialogWindow (Frame f)\n   {\n     super (f, true);\n+\n+    this.parent = f;\n   }\n \n   public void setVisible (boolean visible)\n@@ -264,6 +275,13 @@ public void setVisible (boolean visible)\n     super.setVisible (visible);\n   }\n \n+  public void show ()\n+  {\n+    if (!initted)\n+      init();\n+    super.show ();\n+  }\n+\n   public void init ()\n   {\n     text = new Label (\"Dialog Test\");\n@@ -282,7 +300,7 @@ public void actionPerformed (ActionEvent e)\n \t}\n     });\n     \n-    p.setLayout (new GridLayout (1, 2));\n+    p.setLayout (new GridLayout (1, 3));\n     ((GridLayout) p.getLayout ()).setHgap (5);\n     ((GridLayout) p.getLayout ()).setVgap (5);\n     p.add (cb);\n@@ -300,10 +318,23 @@ public void actionPerformed (ActionEvent e)\n \t  doLayout();\n \t}\n     });\n+\n+    Button subdlg = new Button (\"SubDialog\");\n+    p.add (subdlg);\n+\n+    subdlg.addActionListener(new ActionListener () {\n+      public void actionPerformed (ActionEvent e) \n+\t{\n+            DialogWindow sw = new DialogWindow (parent);\n+            System.out.println (\"Will show modal sub dialog\");\n+            sw.show ();\n+            System.out.println (\"Has shown modal sub dialog\");\n+\t}\n+    });\n     \n     add (p, \"South\");\n     setTitle (\"Dialog\");\n-    setSize (130, 70);\n+    setSize (240, 120);\n   }\n }\n "}]}