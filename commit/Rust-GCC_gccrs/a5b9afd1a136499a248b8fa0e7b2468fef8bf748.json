{"sha": "a5b9afd1a136499a248b8fa0e7b2468fef8bf748", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTViOWFmZDFhMTM2NDk5YTI0OGI4ZmEwZTdiMjQ2OGZlZjhiZjc0OA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2007-04-20T11:42:21Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2007-04-20T11:42:21Z"}, "message": "i386.c (bdesc_2arg): Use ORDERED rather than UNORDERED for __builtin_ia32_cmpordss.\n\n\t* config/i386/i386.c (bdesc_2arg): Use ORDERED rather than UNORDERED\n\tfor __builtin_ia32_cmpordss.\n\n\t* gcc.target/i386/ordcmp-1.c: New test.\n\t* gcc.target/i386/unordcmp-1.c: New test.\n\nFrom-SVN: r123989", "tree": {"sha": "3a8e87cc75ad987b37f0909735b55daf36e9173b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3a8e87cc75ad987b37f0909735b55daf36e9173b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a5b9afd1a136499a248b8fa0e7b2468fef8bf748", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a5b9afd1a136499a248b8fa0e7b2468fef8bf748", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a5b9afd1a136499a248b8fa0e7b2468fef8bf748", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a5b9afd1a136499a248b8fa0e7b2468fef8bf748/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "86122f7282ff1c895004881a9febde7bf15e928c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86122f7282ff1c895004881a9febde7bf15e928c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/86122f7282ff1c895004881a9febde7bf15e928c"}], "stats": {"total": 80, "additions": 79, "deletions": 1}, "files": [{"sha": "3d5a29c0ef9c994d99122c9d95532a687e86ec6f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5b9afd1a136499a248b8fa0e7b2468fef8bf748/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5b9afd1a136499a248b8fa0e7b2468fef8bf748/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a5b9afd1a136499a248b8fa0e7b2468fef8bf748", "patch": "@@ -1,5 +1,8 @@\n 2007-04-20  Jakub Jelinek  <jakub@redhat.com>\n \n+\t* config/i386/i386.c (bdesc_2arg): Use ORDERED rather than UNORDERED\n+\tfor __builtin_ia32_cmpordss.\n+\n \tPR tree-optimization/31632\n \t* fold-const.c (fold_binary): Use op0 and op1 instead of arg0\n \tand arg1 for optimizations of comparison against min/max values."}, {"sha": "cefe8ae7d842318207b0393232b7232bd1469f86", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5b9afd1a136499a248b8fa0e7b2468fef8bf748/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5b9afd1a136499a248b8fa0e7b2468fef8bf748/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=a5b9afd1a136499a248b8fa0e7b2468fef8bf748", "patch": "@@ -16487,7 +16487,7 @@ static const struct builtin_description bdesc_2arg[] =\n     BUILTIN_DESC_SWAP_OPERANDS },\n   { MASK_SSE, CODE_FOR_sse_vmmaskcmpv4sf3, \"__builtin_ia32_cmpngess\", IX86_BUILTIN_CMPNGESS, UNGT,\n     BUILTIN_DESC_SWAP_OPERANDS },\n-  { MASK_SSE, CODE_FOR_sse_vmmaskcmpv4sf3, \"__builtin_ia32_cmpordss\", IX86_BUILTIN_CMPORDSS, UNORDERED, 0 },\n+  { MASK_SSE, CODE_FOR_sse_vmmaskcmpv4sf3, \"__builtin_ia32_cmpordss\", IX86_BUILTIN_CMPORDSS, ORDERED, 0 },\n \n   { MASK_SSE, CODE_FOR_sminv4sf3, \"__builtin_ia32_minps\", IX86_BUILTIN_MINPS, 0, 0 },\n   { MASK_SSE, CODE_FOR_smaxv4sf3, \"__builtin_ia32_maxps\", IX86_BUILTIN_MAXPS, 0, 0 },"}, {"sha": "5c45c1de4dcda83f9642ab5e82c60a67ccc6df23", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5b9afd1a136499a248b8fa0e7b2468fef8bf748/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5b9afd1a136499a248b8fa0e7b2468fef8bf748/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a5b9afd1a136499a248b8fa0e7b2468fef8bf748", "patch": "@@ -1,5 +1,8 @@\n 2007-04-20  Jakub Jelinek  <jakub@redhat.com>\n \n+\t* gcc.target/i386/ordcmp-1.c: New test.\n+\t* gcc.target/i386/unordcmp-1.c: New test.\n+\n \tPR tree-optimization/31632\n \t* gcc.c-torture/compile/20070419-1.c: New test.\n "}, {"sha": "1a70e19192ddc99cee013286ee6bfa3f63da50c3", "filename": "gcc/testsuite/gcc.target/i386/ordcmp-1.c", "status": "added", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5b9afd1a136499a248b8fa0e7b2468fef8bf748/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fordcmp-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5b9afd1a136499a248b8fa0e7b2468fef8bf748/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fordcmp-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fordcmp-1.c?ref=a5b9afd1a136499a248b8fa0e7b2468fef8bf748", "patch": "@@ -0,0 +1,36 @@\n+/* { dg-do compile { target i?86-*-* x86_64-*-* } } */\n+/* { dg-options \"-O2 -msse2\" } */\n+/* { dg-final { scan-assembler \"cmpordss\" } } */\n+/* { dg-final { scan-assembler \"cmpordps\" } } */\n+/* { dg-final { scan-assembler \"cmpordsd\" } } */\n+/* { dg-final { scan-assembler \"cmpordpd\" } } */\n+/* { dg-final { scan-assembler-not \"cmpunordss\" } } */\n+/* { dg-final { scan-assembler-not \"cmpunordps\" } } */\n+/* { dg-final { scan-assembler-not \"cmpunordsd\" } } */\n+/* { dg-final { scan-assembler-not \"cmpunordpd\" } } */\n+\n+#include <emmintrin.h>\n+\n+__m128\n+f1 (__m128 x, __m128 y)\n+{\n+  return _mm_cmpord_ss (x, y);\n+}\n+\n+__m128\n+f2 (__m128 x, __m128 y)\n+{\n+  return _mm_cmpord_ps (x, y);\n+}\n+\n+__m128d\n+f3 (__m128d x, __m128d y)\n+{\n+  return _mm_cmpord_sd (x, y);\n+}\n+\n+__m128d\n+f4 (__m128d x, __m128d y)\n+{\n+  return _mm_cmpord_pd (x, y);\n+}"}, {"sha": "3123fe9ada2d805d0772b774e622abcfcb948aad", "filename": "gcc/testsuite/gcc.target/i386/unordcmp-1.c", "status": "added", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5b9afd1a136499a248b8fa0e7b2468fef8bf748/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Funordcmp-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5b9afd1a136499a248b8fa0e7b2468fef8bf748/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Funordcmp-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Funordcmp-1.c?ref=a5b9afd1a136499a248b8fa0e7b2468fef8bf748", "patch": "@@ -0,0 +1,36 @@\n+/* { dg-do compile { target i?86-*-* x86_64-*-* } } */\n+/* { dg-options \"-O2 -msse2\" } */\n+/* { dg-final { scan-assembler \"cmpunordss\" } } */\n+/* { dg-final { scan-assembler \"cmpunordps\" } } */\n+/* { dg-final { scan-assembler \"cmpunordsd\" } } */\n+/* { dg-final { scan-assembler \"cmpunordpd\" } } */\n+/* { dg-final { scan-assembler-not \"cmpordss\" } } */\n+/* { dg-final { scan-assembler-not \"cmpordps\" } } */\n+/* { dg-final { scan-assembler-not \"cmpordsd\" } } */\n+/* { dg-final { scan-assembler-not \"cmpordpd\" } } */\n+\n+#include <emmintrin.h>\n+\n+__m128\n+f1 (__m128 x, __m128 y)\n+{\n+  return _mm_cmpunord_ss (x, y);\n+}\n+\n+__m128\n+f2 (__m128 x, __m128 y)\n+{\n+  return _mm_cmpunord_ps (x, y);\n+}\n+\n+__m128d\n+f3 (__m128d x, __m128d y)\n+{\n+  return _mm_cmpunord_sd (x, y);\n+}\n+\n+__m128d\n+f4 (__m128d x, __m128d y)\n+{\n+  return _mm_cmpunord_pd (x, y);\n+}"}]}