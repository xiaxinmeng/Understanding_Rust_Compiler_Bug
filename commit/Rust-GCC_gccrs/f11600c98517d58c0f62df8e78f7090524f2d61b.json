{"sha": "f11600c98517d58c0f62df8e78f7090524f2d61b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjExNjAwYzk4NTE3ZDU4YzBmNjJkZjhlNzhmNzA5MDUyNGYyZDYxYg==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2018-03-21T01:07:43Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2018-03-21T01:07:43Z"}, "message": "re PR fortran/85001 (ICE in gfc_build_array_type, at fortran/trans-types.c:1420)\n\n2018-03-20  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/85001\n\t* interface.c (symbol_rank): Remove bogus null pointer check that\n\tcrept in when translating a ternary operator into an if-else \n\tconstructor.\n\n2018-03-20  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/85001\n\t* gfortran.dg/interface_41.f90: New test.\n\nFrom-SVN: r258698", "tree": {"sha": "a1edfa4a0e9f5c6bded142cc2f6f83ee10f9d3f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a1edfa4a0e9f5c6bded142cc2f6f83ee10f9d3f9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f11600c98517d58c0f62df8e78f7090524f2d61b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f11600c98517d58c0f62df8e78f7090524f2d61b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f11600c98517d58c0f62df8e78f7090524f2d61b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f11600c98517d58c0f62df8e78f7090524f2d61b/comments", "author": null, "committer": null, "parents": [{"sha": "2ed0fd052fffa7d90a0ef305e41e9afd662d085e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ed0fd052fffa7d90a0ef305e41e9afd662d085e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ed0fd052fffa7d90a0ef305e41e9afd662d085e"}], "stats": {"total": 33, "additions": 32, "deletions": 1}, "files": [{"sha": "8bcaabbf6259645a10f26cf73085ba24abc4ee90", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f11600c98517d58c0f62df8e78f7090524f2d61b/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f11600c98517d58c0f62df8e78f7090524f2d61b/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=f11600c98517d58c0f62df8e78f7090524f2d61b", "patch": "@@ -1,3 +1,10 @@\n+2018-03-20  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/85001\n+\t* interface.c (symbol_rank): Remove bogus null pointer check that\n+\tcrept in when translating a ternary operator into an if-else \n+\tconstructor.\n+\n 2018-03-19  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR fortran/84931"}, {"sha": "7f7b2c631cb3adaf0c1709cab98b573d50afddd5", "filename": "gcc/fortran/interface.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f11600c98517d58c0f62df8e78f7090524f2d61b/gcc%2Ffortran%2Finterface.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f11600c98517d58c0f62df8e78f7090524f2d61b/gcc%2Ffortran%2Finterface.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Finterface.c?ref=f11600c98517d58c0f62df8e78f7090524f2d61b", "patch": "@@ -1268,7 +1268,7 @@ symbol_rank (gfc_symbol *sym)\n {\n   gfc_array_spec *as = NULL;\n \n-  if (sym->ts.type == BT_CLASS && CLASS_DATA (sym) && CLASS_DATA (sym)->as)\n+  if (sym->ts.type == BT_CLASS && CLASS_DATA (sym))\n     as = CLASS_DATA (sym)->as;\n   else\n     as = sym->as;"}, {"sha": "c4c0815dea6fd11ece6f0356f0202699460123ba", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f11600c98517d58c0f62df8e78f7090524f2d61b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f11600c98517d58c0f62df8e78f7090524f2d61b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f11600c98517d58c0f62df8e78f7090524f2d61b", "patch": "@@ -1,3 +1,8 @@\n+2018-03-20  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/85001\n+\t* gfortran.dg/interface_41.f90: New test.\n+\n 2018-03-20  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR debug/84875"}, {"sha": "b5ea8af189d3ec178ad00dea0ee9ea6a6660b5d5", "filename": "gcc/testsuite/gfortran.dg/interface_41.f90", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f11600c98517d58c0f62df8e78f7090524f2d61b/gcc%2Ftestsuite%2Fgfortran.dg%2Finterface_41.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f11600c98517d58c0f62df8e78f7090524f2d61b/gcc%2Ftestsuite%2Fgfortran.dg%2Finterface_41.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Finterface_41.f90?ref=f11600c98517d58c0f62df8e78f7090524f2d61b", "patch": "@@ -0,0 +1,19 @@\n+! { dg-do compile }\n+! PR fortran/85001 \n+! Contributed by Gerhard Steinmetz.\n+program p\n+   type t\n+   end type\n+   call s\n+contains\n+   real function f(x)\n+      class(t) :: x\n+      dimension :: x(:)\n+      f = 1.0\n+   end\n+   subroutine s\n+      type(t) :: x(2)\n+      real :: z\n+      z = f(x)     ! { dg-error \"Rank mismatch in argument\" }\n+   end\n+end"}]}