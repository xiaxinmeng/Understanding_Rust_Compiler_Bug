{"sha": "55a7380213a5c16120d5c674fb42b38a3d796b57", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTVhNzM4MDIxM2E1YzE2MTIwZDVjNjc0ZmI0MmIzOGEzZDc5NmI1Nw==", "commit": {"author": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2020-04-03T07:05:06Z"}, "committer": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2020-04-03T07:05:06Z"}, "message": "ICF: compare type attributes for gimple_call_fntypes.\n\n\tPR ipa/94445\n\t* ipa-icf-gimple.c (func_checker::compare_gimple_call):\n\t  Compare type attributes for gimple_call_fntypes.", "tree": {"sha": "2b9bb9c44863168d6c44589faac5ff24dc87746d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2b9bb9c44863168d6c44589faac5ff24dc87746d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/55a7380213a5c16120d5c674fb42b38a3d796b57", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEE6I4wzqqylQBfXaRhTcGC3A+nN4UFAl6G4CIACgkQTcGC3A+n\nN4X80wgAlN44aX0fg4K5/rgGa+aZrscBHZWSZn1+xKGQcDlP5dQkbREOH7aWZXXH\nBrhafl1rTawVVul6P553MfPnZGYFhrUqr6r7TaCAkby7P20aYTGEeUnbkNvBjcz0\nbW4Rhb7Om0P/fNgYJp8Dp9xuBgw3Mfl5aIOOKwGTPehopiwnQ+JmNql7YYxa9oJY\nyezIGtUgkbEashTB37gH06uh/x7e3qCTjZAJSqf0OJ3Wte0apSSV/8ZjD1C1xmm0\njca9ZGK407T/hvBSbfaoG8LSgtf45XearLLvYa+3xPjeoav3qdfr30Xfxq4sQjen\nONhs05KpL+t0TC+pU1qWfHtngWx9IQ==\n=3bRf\n-----END PGP SIGNATURE-----", "payload": "tree 2b9bb9c44863168d6c44589faac5ff24dc87746d\nparent b749b5ec58acd1da57f2afabac732027e8a88755\nauthor Martin Liska <mliska@suse.cz> 1585897506 +0200\ncommitter Martin Liska <mliska@suse.cz> 1585897506 +0200\n\nICF: compare type attributes for gimple_call_fntypes.\n\n\tPR ipa/94445\n\t* ipa-icf-gimple.c (func_checker::compare_gimple_call):\n\t  Compare type attributes for gimple_call_fntypes.\n"}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55a7380213a5c16120d5c674fb42b38a3d796b57", "html_url": "https://github.com/Rust-GCC/gccrs/commit/55a7380213a5c16120d5c674fb42b38a3d796b57", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55a7380213a5c16120d5c674fb42b38a3d796b57/comments", "author": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b749b5ec58acd1da57f2afabac732027e8a88755", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b749b5ec58acd1da57f2afabac732027e8a88755", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b749b5ec58acd1da57f2afabac732027e8a88755"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "3087c58806dc6742f3c167e585a9139a965ab6be", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/55a7380213a5c16120d5c674fb42b38a3d796b57/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/55a7380213a5c16120d5c674fb42b38a3d796b57/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=55a7380213a5c16120d5c674fb42b38a3d796b57", "patch": "@@ -1,3 +1,9 @@\n+2020-04-03  Martin Liska  <mliska@suse.cz>\n+\n+\tPR ipa/94445\n+\t* ipa-icf-gimple.c (func_checker::compare_gimple_call):\n+\t  Compare type attributes for gimple_call_fntypes.\n+\n 2020-04-02  Sandra Loosemore  <sandra@codesourcery.com>\n \n \t* alias.c (get_alias_set): Fix comment typos."}, {"sha": "1cd5872c03de0f0f9b1abb65c965d327fd302eb0", "filename": "gcc/ipa-icf-gimple.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/55a7380213a5c16120d5c674fb42b38a3d796b57/gcc%2Fipa-icf-gimple.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/55a7380213a5c16120d5c674fb42b38a3d796b57/gcc%2Fipa-icf-gimple.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-icf-gimple.c?ref=55a7380213a5c16120d5c674fb42b38a3d796b57", "patch": "@@ -37,6 +37,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"tree-eh.h\"\n #include \"builtins.h\"\n #include \"cfgloop.h\"\n+#include \"attribs.h\"\n \n #include \"ipa-icf-gimple.h\"\n \n@@ -570,6 +571,9 @@ func_checker::compare_gimple_call (gcall *s1, gcall *s2)\n       || (fntype1 && !types_compatible_p (fntype1, fntype2)))\n     return return_false_with_msg (\"call function types are not compatible\");\n \n+  if (fntype1 && fntype2 && comp_type_attributes (fntype1, fntype2) != 1)\n+    return return_false_with_msg (\"different fntype attributes\");\n+\n   tree chain1 = gimple_call_chain (s1);\n   tree chain2 = gimple_call_chain (s2);\n   if ((chain1 && !chain2)"}]}