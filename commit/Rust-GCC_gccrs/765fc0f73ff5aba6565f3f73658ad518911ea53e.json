{"sha": "765fc0f73ff5aba6565f3f73658ad518911ea53e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzY1ZmMwZjczZmY1YWJhNjU2NWYzZjczNjU4YWQ1MTg5MTFlYTUzZQ==", "commit": {"author": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2017-02-13T13:13:21Z"}, "committer": {"name": "Martin Liska", "email": "marxin@gcc.gnu.org", "date": "2017-02-13T13:13:21Z"}, "message": "Replace XALLOCAVEC with XCNEWVEC (PR c/79471).\n\n2017-02-13  Martin Liska  <mliska@suse.cz>\n\n\tPR c/79471\n\t* calls.c (expand_call): Replace XALLOCAVEC with XCNEWVEC.\n\nFrom-SVN: r245385", "tree": {"sha": "9c4c388c2c68bc259e6e1411008f3b14fed68fb4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9c4c388c2c68bc259e6e1411008f3b14fed68fb4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/765fc0f73ff5aba6565f3f73658ad518911ea53e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/765fc0f73ff5aba6565f3f73658ad518911ea53e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/765fc0f73ff5aba6565f3f73658ad518911ea53e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/765fc0f73ff5aba6565f3f73658ad518911ea53e/comments", "author": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f877b3adba2d9442752721d87c96f93beccd4c40", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f877b3adba2d9442752721d87c96f93beccd4c40", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f877b3adba2d9442752721d87c96f93beccd4c40"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "19c9e010d7cf220b400c506b58192b250e28a2ac", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/765fc0f73ff5aba6565f3f73658ad518911ea53e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/765fc0f73ff5aba6565f3f73658ad518911ea53e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=765fc0f73ff5aba6565f3f73658ad518911ea53e", "patch": "@@ -1,3 +1,8 @@\n+2017-02-13  Martin Liska  <mliska@suse.cz>\n+\n+\tPR c/79471\n+\t* calls.c (expand_call): Replace XALLOCAVEC with XCNEWVEC.\n+\n 2017-02-13  Richard Biener  <rguenther@suse.de>\n \n \t* configure.ac (HAVE_ISL_OPTIONS_SET_SCHEDULE_SERIALIZE_SCCS):"}, {"sha": "6d5ef4e02a01cf37b41b6d78b66950127f5f0faf", "filename": "gcc/calls.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/765fc0f73ff5aba6565f3f73658ad518911ea53e/gcc%2Fcalls.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/765fc0f73ff5aba6565f3f73658ad518911ea53e/gcc%2Fcalls.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcalls.c?ref=765fc0f73ff5aba6565f3f73658ad518911ea53e", "patch": "@@ -3262,8 +3262,7 @@ expand_call (tree exp, rtx target, int ignore)\n     n_named_args = num_actuals;\n \n   /* Make a vector to hold all the information about each arg.  */\n-  args = XALLOCAVEC (struct arg_data, num_actuals);\n-  memset (args, 0, num_actuals * sizeof (struct arg_data));\n+  args = XCNEWVEC (struct arg_data, num_actuals);\n \n   /* Build up entries in the ARGS array, compute the size of the\n      arguments into ARGS_SIZE, etc.  */\n@@ -4265,6 +4264,7 @@ expand_call (tree exp, rtx target, int ignore)\n   currently_expanding_call--;\n \n   free (stack_usage_map_buf);\n+  free (args);\n \n   /* Join result with returned bounds so caller may use them if needed.  */\n   target = chkp_join_splitted_slot (target, valbnd);"}]}