{"sha": "fea4cfe00b554d35d9a7f7666e3e2734d342596f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmVhNGNmZTAwYjU1NGQzNWQ5YTdmNzY2NmUzZTI3MzRkMzQyNTk2Zg==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2006-01-16T21:43:05Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2006-01-16T21:43:05Z"}, "message": "re PR testsuite/25741 (Gcc testsuite isn't parallel build safe)\n\ngcc/\n\n2006-01-16  H.J. Lu  <hongjiu.lu@intel.com>\n\n\tPR testsuite/25741\n\t* Makefile.in (check-%): Depend on site.exp instead of\n\t$(TESTSUITEDIR)/site.exp. Run \"runtest\" in separate language\n\tdirectories.\n\ngcc/testsuite/\n\n2006-01-16  H.J. Lu  <hongjiu.lu@intel.com>\n\n\tPR testsuite/25741\n\t* lib/g++.exp (g++_init): Use $base_dir/../../ instead of\n\t$base_dir/../.\n\t* lib/gfortran.exp (gfortran_init): Likewise.\n\t* lib/obj-c++.exp (obj-c++_init): Likewise.\n\t* lib/scanasm.exp (scan-assembler-dem): Likewise.\n\t(scan-assembler-dem-not): Likewise.\n\t* lib/scandump.exp (scan-dump-dem): Likewise.\n\t(scan-dump-dem-not): Likewise.\n\nFrom-SVN: r109773", "tree": {"sha": "7f13db13b1f98f65fd01956111f5b8150742be87", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7f13db13b1f98f65fd01956111f5b8150742be87"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fea4cfe00b554d35d9a7f7666e3e2734d342596f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fea4cfe00b554d35d9a7f7666e3e2734d342596f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fea4cfe00b554d35d9a7f7666e3e2734d342596f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fea4cfe00b554d35d9a7f7666e3e2734d342596f/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "03fb7a05c0e7ae315328d828ea854965296beee4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03fb7a05c0e7ae315328d828ea854965296beee4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03fb7a05c0e7ae315328d828ea854965296beee4"}], "stats": {"total": 59, "additions": 42, "deletions": 17}, "files": [{"sha": "c1775ce935b1b501d431750520f568d6f4d71472", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fea4cfe00b554d35d9a7f7666e3e2734d342596f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fea4cfe00b554d35d9a7f7666e3e2734d342596f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fea4cfe00b554d35d9a7f7666e3e2734d342596f", "patch": "@@ -1,3 +1,10 @@\n+2006-01-16  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR testsuite/25741\n+\t* Makefile.in (check-%): Depend on site.exp instead of\n+\t$(TESTSUITEDIR)/site.exp. Run \"runtest\" in separate language\n+\tdirectories.\n+\n 2006-01-16  Kazu Hirata  <kazu@codesourcery.com>\n \n \t* global.c (global_alloc): Make it static."}, {"sha": "8338ac63b97ce3cb611d8de7afc9a8f0c9c318e0", "filename": "gcc/Makefile.in", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fea4cfe00b554d35d9a7f7666e3e2734d342596f/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fea4cfe00b554d35d9a7f7666e3e2734d342596f/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=fea4cfe00b554d35d9a7f7666e3e2734d342596f", "patch": "@@ -3997,10 +3997,16 @@ $(TESTSUITEDIR)/site.exp: site.exp\n \t-rm -f $@\n \tsed '/set tmpdir/ s|testsuite|$(TESTSUITEDIR)|' < site.exp > $@\n \n-$(lang_checks): check-% : $(TESTSUITEDIR)/site.exp\n+$(lang_checks): check-% : site.exp\n+\ttest -d $(TESTSUITEDIR) || mkdir $(TESTSUITEDIR)\n+\ttest -d $(TESTSUITEDIR)/$* || mkdir $(TESTSUITEDIR)/$*\n \t-(rootme=`${PWD_COMMAND}`; export rootme; \\\n \tsrcdir=`cd ${srcdir}; ${PWD_COMMAND}` ; export srcdir ; \\\n-\tcd $(TESTSUITEDIR); \\\n+\tcd $(TESTSUITEDIR)/$*; \\\n+\trm -f tmp-site.exp; \\\n+\tsed '/set tmpdir/ s|testsuite|$(TESTSUITEDIR)/$*|' \\\n+\t\t< ../../site.exp > tmp-site.exp; \\\n+\t$(SHELL) $(srcdir)/../move-if-change tmp-site.exp site.exp; \\\n \tEXPECT=${EXPECT} ; export EXPECT ; \\\n \tif [ -f $${rootme}/../expect/expect ] ; then  \\\n \t   TCL_LIBRARY=`cd .. ; cd ${srcdir}/../tcl/library ; ${PWD_COMMAND}` ; \\"}, {"sha": "498e6d3b01041cc6029ea99a94a873063ef47924", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fea4cfe00b554d35d9a7f7666e3e2734d342596f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fea4cfe00b554d35d9a7f7666e3e2734d342596f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=fea4cfe00b554d35d9a7f7666e3e2734d342596f", "patch": "@@ -1,3 +1,15 @@\n+2006-01-16  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR testsuite/25741\n+\t* lib/g++.exp (g++_init): Use $base_dir/../../ instead of\n+\t$base_dir/../.\n+\t* lib/gfortran.exp (gfortran_init): Likewise.\n+\t* lib/obj-c++.exp (obj-c++_init): Likewise.\n+\t* lib/scanasm.exp (scan-assembler-dem): Likewise.\n+\t(scan-assembler-dem-not): Likewise.\n+\t* lib/scandump.exp (scan-dump-dem): Likewise.\n+\t(scan-dump-dem-not): Likewise.\n+\n 2006-01-16  Andrew Pinski  <pinskia@physics.uc.edu>\n \n \tPR testsuite/25767"}, {"sha": "700cc5819e998c3a8dd075714a2b5e3364e028e0", "filename": "gcc/testsuite/lib/g++.exp", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fea4cfe00b554d35d9a7f7666e3e2734d342596f/gcc%2Ftestsuite%2Flib%2Fg%2B%2B.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fea4cfe00b554d35d9a7f7666e3e2734d342596f/gcc%2Ftestsuite%2Flib%2Fg%2B%2B.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fg%2B%2B.exp?ref=fea4cfe00b554d35d9a7f7666e3e2734d342596f", "patch": "@@ -197,7 +197,7 @@ proc g++_init { args } {\n \t    if { [is_remote host] || ! [info exists TESTING_IN_BUILD_TREE] } {\n \t\tset GXX_UNDER_TEST [transform c++]\n \t    } else {\n-\t\tset GXX_UNDER_TEST [findfile $base_dir/../g++ \"$base_dir/../g++ -B$base_dir/../\" [findfile $base_dir/g++ \"$base_dir/g++ -B$base_dir/\" [transform c++]]]\n+\t\tset GXX_UNDER_TEST [findfile $base_dir/../../g++ \"$base_dir/../../g++ -B$base_dir/../../\" [findfile $base_dir/g++ \"$base_dir/g++ -B$base_dir/\" [transform c++]]]\n \t    }\n \t}\n     }"}, {"sha": "92a064123bce3acb689f8dd73c307365beb7a9eb", "filename": "gcc/testsuite/lib/gfortran.exp", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fea4cfe00b554d35d9a7f7666e3e2734d342596f/gcc%2Ftestsuite%2Flib%2Fgfortran.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fea4cfe00b554d35d9a7f7666e3e2734d342596f/gcc%2Ftestsuite%2Flib%2Fgfortran.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fgfortran.exp?ref=fea4cfe00b554d35d9a7f7666e3e2734d342596f", "patch": "@@ -137,7 +137,7 @@ proc gfortran_init { args } {\n \t    if { [is_remote host] || ! [info exists TESTING_IN_BUILD_TREE] } {\n \t\tset GFORTRAN_UNDER_TEST [transform gfortran]\n \t    } else {\n-\t\tset GFORTRAN_UNDER_TEST [findfile $base_dir/../gfortran \"$base_dir/../gfortran -B$base_dir/../\" [findfile $base_dir/gfortran \"$base_dir/gfortran -B$base_dir/\" [transform gfortran]]]\n+\t\tset GFORTRAN_UNDER_TEST [findfile $base_dir/../../gfortran \"$base_dir/../../gfortran -B$base_dir/../../\" [findfile $base_dir/gfortran \"$base_dir/gfortran -B$base_dir/\" [transform gfortran]]]\n \t    }\n \t}\n     }"}, {"sha": "8913b3192830223711a8d4bda214913936d503ac", "filename": "gcc/testsuite/lib/obj-c++.exp", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fea4cfe00b554d35d9a7f7666e3e2734d342596f/gcc%2Ftestsuite%2Flib%2Fobj-c%2B%2B.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fea4cfe00b554d35d9a7f7666e3e2734d342596f/gcc%2Ftestsuite%2Flib%2Fobj-c%2B%2B.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fobj-c%2B%2B.exp?ref=fea4cfe00b554d35d9a7f7666e3e2734d342596f", "patch": "@@ -215,7 +215,7 @@ proc obj-c++_init { args } {\n \t    if { [is_remote host] || ! [info exists TESTING_IN_BUILD_TREE] } {\n \t\tset OBJCXX_UNDER_TEST [transform c++]\n \t    } else {\n-\t\tset OBJCXX_UNDER_TEST [findfile $base_dir/../g++ \"$base_dir/../g++ -B$base_dir/../\" [findfile $base_dir/g++ \"$base_dir/g++ -B$base_dir/\" [transform c++]]]\n+\t\tset OBJCXX_UNDER_TEST [findfile $base_dir/../../g++ \"$base_dir/../../g++ -B$base_dir/../../\" [findfile $base_dir/g++ \"$base_dir/g++ -B$base_dir/\" [transform c++]]]\n \t    }\n \t}\n     }"}, {"sha": "932977be95e21fc40d18ac747ea9ef96dbad87f3", "filename": "gcc/testsuite/lib/scanasm.exp", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fea4cfe00b554d35d9a7f7666e3e2734d342596f/gcc%2Ftestsuite%2Flib%2Fscanasm.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fea4cfe00b554d35d9a7f7666e3e2734d342596f/gcc%2Ftestsuite%2Flib%2Fscanasm.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fscanasm.exp?ref=fea4cfe00b554d35d9a7f7666e3e2734d342596f", "patch": "@@ -203,9 +203,9 @@ proc scan-assembler-dem { args } {\n \n     # Find c++filt like we find g++ in g++.exp.\n     if ![info exists cxxfilt]  {\n-\tset cxxfilt [findfile $base_dir/../../binutils/cxxfilt \\\n-\t\t     $base_dir/../../binutils/cxxfilt \\\n-\t             [findfile $base_dir/../c++filt $base_dir/../c++filt \\\n+\tset cxxfilt [findfile $base_dir/../../../binutils/cxxfilt \\\n+\t\t     $base_dir/../../../binutils/cxxfilt \\\n+\t             [findfile $base_dir/../../c++filt $base_dir/../../c++filt \\\n \t\t      [findfile $base_dir/c++filt $base_dir/c++filt \\\n \t\t       [transform c++filt]]]]\n \tverbose -log \"c++filt is $cxxfilt\"\n@@ -249,9 +249,9 @@ proc scan-assembler-dem-not { args } {\n \n     # Find c++filt like we find g++ in g++.exp.\n     if ![info exists cxxfilt]  {\n-\tset cxxfilt [findfile $base_dir/../../binutils/cxxfilt \\\n-\t\t     $base_dir/../../binutils/cxxfilt \\\n-\t\t     [findfile $base_dir/../c++filt $base_dir/../c++filt \\\n+\tset cxxfilt [findfile $base_dir/../../../binutils/cxxfilt \\\n+\t\t     $base_dir/../../../binutils/cxxfilt \\\n+\t\t     [findfile $base_dir/../../c++filt $base_dir/../../c++filt \\\n \t\t      [findfile $base_dir/c++filt $base_dir/c++filt \\\n \t\t       [transform c++filt]]]]\n \tverbose -log \"c++filt is $cxxfilt\""}, {"sha": "db69a9dbf158764e37038cdea6d1d4c5e9b141e5", "filename": "gcc/testsuite/lib/scandump.exp", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fea4cfe00b554d35d9a7f7666e3e2734d342596f/gcc%2Ftestsuite%2Flib%2Fscandump.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fea4cfe00b554d35d9a7f7666e3e2734d342596f/gcc%2Ftestsuite%2Flib%2Fscandump.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fscandump.exp?ref=fea4cfe00b554d35d9a7f7666e3e2734d342596f", "patch": "@@ -149,9 +149,9 @@ proc scan-dump-dem { args } {\n \n     # Find c++filt like we find g++ in g++.exp.\n     if ![info exists cxxfilt]  {\n-\tset cxxfilt [findfile $base_dir/../../binutils/cxxfilt \\\n-\t\t     $base_dir/../../binutils/cxxfilt \\\n-\t             [findfile $base_dir/../c++filt $base_dir/../c++filt \\\n+\tset cxxfilt [findfile $base_dir/../../../binutils/cxxfilt \\\n+\t\t     $base_dir/../../../binutils/cxxfilt \\\n+\t             [findfile $base_dir/../../c++filt $base_dir/../../c++filt \\\n \t\t      [findfile $base_dir/c++filt $base_dir/c++filt \\\n \t\t       [transform c++filt]]]]\n \tverbose -log \"c++filt is $cxxfilt\"\n@@ -193,9 +193,9 @@ proc scan-dump-dem-not { args } {\n \n     # Find c++filt like we find g++ in g++.exp.\n     if ![info exists cxxfilt]  {\n-\tset cxxfilt [findfile $base_dir/../../binutils/cxxfilt \\\n-\t\t     $base_dir/../../binutils/cxxfilt \\\n-\t\t     [findfile $base_dir/../c++filt $base_dir/../c++filt \\\n+\tset cxxfilt [findfile $base_dir/../../../binutils/cxxfilt \\\n+\t\t     $base_dir/../../../binutils/cxxfilt \\\n+\t\t     [findfile $base_dir/../../c++filt $base_dir/../../c++filt \\\n \t\t      [findfile $base_dir/c++filt $base_dir/c++filt \\\n \t\t       [transform c++filt]]]]\n \tverbose -log \"c++filt is $cxxfilt\""}]}