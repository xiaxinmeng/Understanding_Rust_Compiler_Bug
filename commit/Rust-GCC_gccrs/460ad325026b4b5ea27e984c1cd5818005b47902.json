{"sha": "460ad325026b4b5ea27e984c1cd5818005b47902", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDYwYWQzMjUwMjZiNGI1ZWEyN2U5ODRjMWNkNTgxODAwNWI0NzkwMg==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@cygnus.com", "date": "2000-04-21T21:19:55Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2000-04-21T21:19:55Z"}, "message": "mn10300-protos.h (mn10300_address_cost): Declare.\n\n* config/mn10300/mn10300-protos.h (mn10300_address_cost): Declare.\n* config/mn10300/mn10300.h (ADDRESS_COST): New macro.\n* config/mn10300/mn10300.c (mn10300_address_cost): New function.\n\nFrom-SVN: r33323", "tree": {"sha": "2ed9b4f6725c49c9c59eadd7243b59fe0a77c901", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2ed9b4f6725c49c9c59eadd7243b59fe0a77c901"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/460ad325026b4b5ea27e984c1cd5818005b47902", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/460ad325026b4b5ea27e984c1cd5818005b47902", "html_url": "https://github.com/Rust-GCC/gccrs/commit/460ad325026b4b5ea27e984c1cd5818005b47902", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/460ad325026b4b5ea27e984c1cd5818005b47902/comments", "author": null, "committer": null, "parents": [{"sha": "40a20da4225b87acf57404a73d60b3ceddcfb53f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/40a20da4225b87acf57404a73d60b3ceddcfb53f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/40a20da4225b87acf57404a73d60b3ceddcfb53f"}], "stats": {"total": 91, "additions": 91, "deletions": 0}, "files": [{"sha": "1bff94555d5616d738beb2a61cd9e641f6619f6f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/460ad325026b4b5ea27e984c1cd5818005b47902/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/460ad325026b4b5ea27e984c1cd5818005b47902/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=460ad325026b4b5ea27e984c1cd5818005b47902", "patch": "@@ -1,3 +1,9 @@\n+Fri Apr 21 18:17:12 2000  Alexandre Oliva  <aoliva@cygnus.com>\n+\n+\t* config/mn10300/mn10300-protos.h (mn10300_address_cost): Declare.\n+\t* config/mn10300/mn10300.h (ADDRESS_COST): New macro.\n+\t* config/mn10300/mn10300.c (mn10300_address_cost): New function.\n+\n Fri Apr 21 18:11:56 2000  Alexandre Oliva  <aoliva@cygnus.com>\n \n \t* config/mn10300/mn10300.md (movdi, movdf): Do not use `movu' when"}, {"sha": "66dcbe244b31c66013932930cce16157d8accce7", "filename": "gcc/config/mn10300/mn10300-protos.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/460ad325026b4b5ea27e984c1cd5818005b47902/gcc%2Fconfig%2Fmn10300%2Fmn10300-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/460ad325026b4b5ea27e984c1cd5818005b47902/gcc%2Fconfig%2Fmn10300%2Fmn10300-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmn10300%2Fmn10300-protos.h?ref=460ad325026b4b5ea27e984c1cd5818005b47902", "patch": "@@ -36,6 +36,8 @@ extern int symbolic_operand PARAMS ((rtx, enum machine_mode));\n extern int call_address_operand PARAMS ((rtx, enum machine_mode));\n extern int impossible_plus_operand PARAMS ((rtx, enum machine_mode));\n extern int const_8bit_operand PARAMS ((rtx, enum machine_mode));\n+\n+extern int mn10300_address_cost PARAMS ((rtx, int *));\n #endif /* RTX_CODE */\n \n #ifdef TREE_CODE"}, {"sha": "3c5d359ec3dbf2091fd1c1801c3572ca38314dee", "filename": "gcc/config/mn10300/mn10300.c", "status": "modified", "additions": 81, "deletions": 0, "changes": 81, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/460ad325026b4b5ea27e984c1cd5818005b47902/gcc%2Fconfig%2Fmn10300%2Fmn10300.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/460ad325026b4b5ea27e984c1cd5818005b47902/gcc%2Fconfig%2Fmn10300%2Fmn10300.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmn10300%2Fmn10300.c?ref=460ad325026b4b5ea27e984c1cd5818005b47902", "patch": "@@ -1049,3 +1049,84 @@ legitimize_address (x, oldx, mode)\n     }\n   return x;\n }\n+\n+int\n+mn10300_address_cost (x, unsig)\n+     rtx x;\n+     int *unsig;\n+{\n+  int _s = 0;\n+  if (unsig == 0)\n+    unsig = &_s;\n+  \n+  switch (GET_CODE (x))\n+    {\n+    case REG:\n+      switch (REGNO_REG_CLASS (REGNO (x)))\n+\t{\n+\tcase SP_REGS:\n+\t  *unsig = 1;\n+\t  return 0;\n+\n+\tcase ADDRESS_REGS:\n+\t  return 1;\n+\n+\tcase DATA_REGS:\n+\tcase EXTENDED_REGS:\n+\t  return 3;\n+\n+\tcase NO_REGS:\n+\t  return 5;\n+\n+\tdefault:\n+\t  abort ();\n+\t}\n+\n+    case PLUS:\n+    case MINUS:\n+    case IOR:\n+      return (mn10300_address_cost (XEXP (x, 0), unsig)\n+\t      + mn10300_address_cost (XEXP (x, 1), unsig));\n+\n+    case EXPR_LIST:\n+    case SUBREG:\n+    case MEM:\n+      return ADDRESS_COST (XEXP (x, 0));\n+\n+    case ZERO_EXTEND:\n+      *unsig = 1;\n+      return mn10300_address_cost (XEXP (x, 0), unsig);\n+\n+    case CONST_INT:\n+      if (INTVAL (x) == 0)\n+\treturn 0;\n+      if (INTVAL (x) + (*unsig ? 0 : 0x80) < 0x100)\n+\treturn 1;\n+      if (INTVAL (x) + (*unsig ? 0 : 0x8000) < 0x10000)\n+\treturn 3;\n+      if (INTVAL (x) + (*unsig ? 0 : 0x800000) < 0x1000000)\n+\treturn 5;\n+      return 7;\n+\n+    case CONST:\n+    case SYMBOL_REF:\n+      return 8;\n+\n+    case ADDRESSOF:\n+      switch (GET_CODE (XEXP (x, 0)))\n+\t{\n+\tcase MEM:\n+\t  return ADDRESS_COST (XEXP (x, 0));\n+\n+\tcase REG:\n+\t  return 1;\n+\n+\tdefault:\n+\t  abort ();\n+\t}\n+\n+    default:\n+      abort ();\n+\n+    }\n+}"}, {"sha": "29d5e67e27a5d09ac3bc22aff40749633f8110c1", "filename": "gcc/config/mn10300/mn10300.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/460ad325026b4b5ea27e984c1cd5818005b47902/gcc%2Fconfig%2Fmn10300%2Fmn10300.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/460ad325026b4b5ea27e984c1cd5818005b47902/gcc%2Fconfig%2Fmn10300%2Fmn10300.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmn10300%2Fmn10300.h?ref=460ad325026b4b5ea27e984c1cd5818005b47902", "patch": "@@ -818,6 +818,8 @@ struct cum_arg {int nbytes; };\n   ((CLASS1 == CLASS2 && (CLASS1 == ADDRESS_REGS || CLASS1 == DATA_REGS)) ? 2 :\\\n    CLASS1 == CLASS2 && CLASS1 == EXTENDED_REGS ? 6 : 4)\n \n+#define ADDRESS_COST(X) mn10300_address_cost((X), 0)\n+\n /* A crude cut at RTX_COSTS for the MN10300.  */\n \n /* Provide the costs of a rtl expression.  This is in the body of a"}]}