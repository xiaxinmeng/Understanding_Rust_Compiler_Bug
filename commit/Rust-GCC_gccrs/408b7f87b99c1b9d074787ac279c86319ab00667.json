{"sha": "408b7f87b99c1b9d074787ac279c86319ab00667", "node_id": "C_kwDOANBUbNoAKDQwOGI3Zjg3Yjk5YzFiOWQwNzQ3ODdhYzI3OWM4NjMxOWFiMDA2Njc", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2022-07-04T08:26:36Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-07-04T08:26:36Z"}, "message": "Merge #1352\n\n1352: HIR: fixup MatchArm assignment operator r=philberty a=dafaust\n\nWe overload the assignment operator to clone the vector of patterns for\r\nthe match arm. However the existing patterns were not cleared before\r\ninserting the new ones, so the result was to append the new patterns\r\nonto the assignee arm rather than replace them.\r\n\n\nCo-authored-by: David Faust <david.faust@oracle.com>", "tree": {"sha": "949b4a682cb8bf80db9076bc92db4d5493d46533", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/949b4a682cb8bf80db9076bc92db4d5493d46533"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/408b7f87b99c1b9d074787ac279c86319ab00667", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJiwqQ8CRBK7hj4Ov3rIwAACu0IACXFqdhe68G7F/6qAjvk/oe0\nJszTgU5ifSKts/xlvOTg+GxccJpuq6UE0IQyP4Pw92eAd1Nln3fpo4iP3Z6zTlLJ\nq38WqVi+IVWf/85QaTjnX7dHiWyfcOyjcE3UE2JgaSPPxAYGcT5MSqMlSJ5Gw+jJ\nLfoZ68yqK6vmv4yN5JEmb+ry8MAQShp9JLUsjD99w9WQwktJh/ButJSLeDf7tw0E\ng6R2jdH1c3dRIZzlCvfEEJD47Epq4ZhY06IDn8lXPtBcPWysdUkoL+L7U7rkDTlW\nDAmh1IfoUrUL+61+XZQ76SxQR39uozO23fP9ucyrWpyEZ9UKt49YhTCH7L5c0Io=\n=xNlg\n-----END PGP SIGNATURE-----\n", "payload": "tree 949b4a682cb8bf80db9076bc92db4d5493d46533\nparent 33912c1a08d3892d3c72506aed38771754b9cf54\nparent fa006a67280039e0d6c6f574896bb8d819b452fe\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1656923196 +0000\ncommitter GitHub <noreply@github.com> 1656923196 +0000\n\nMerge #1352\n\n1352: HIR: fixup MatchArm assignment operator r=philberty a=dafaust\n\nWe overload the assignment operator to clone the vector of patterns for\r\nthe match arm. However the existing patterns were not cleared before\r\ninserting the new ones, so the result was to append the new patterns\r\nonto the assignee arm rather than replace them.\r\n\n\nCo-authored-by: David Faust <david.faust@oracle.com>\n"}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/408b7f87b99c1b9d074787ac279c86319ab00667", "html_url": "https://github.com/Rust-GCC/gccrs/commit/408b7f87b99c1b9d074787ac279c86319ab00667", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/408b7f87b99c1b9d074787ac279c86319ab00667/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "33912c1a08d3892d3c72506aed38771754b9cf54", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33912c1a08d3892d3c72506aed38771754b9cf54", "html_url": "https://github.com/Rust-GCC/gccrs/commit/33912c1a08d3892d3c72506aed38771754b9cf54"}, {"sha": "fa006a67280039e0d6c6f574896bb8d819b452fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa006a67280039e0d6c6f574896bb8d819b452fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa006a67280039e0d6c6f574896bb8d819b452fe"}], "stats": {"total": 1, "additions": 1, "deletions": 0}, "files": [{"sha": "c695412e7661220c9158514f3214cdeca18585e8", "filename": "gcc/rust/hir/tree/rust-hir-expr.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/408b7f87b99c1b9d074787ac279c86319ab00667/gcc%2Frust%2Fhir%2Ftree%2Frust-hir-expr.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/408b7f87b99c1b9d074787ac279c86319ab00667/gcc%2Frust%2Fhir%2Ftree%2Frust-hir-expr.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fhir%2Ftree%2Frust-hir-expr.h?ref=408b7f87b99c1b9d074787ac279c86319ab00667", "patch": "@@ -3827,6 +3827,7 @@ struct MatchArm\n     if (other.guard_expr != nullptr)\n       guard_expr = other.guard_expr->clone_expr ();\n \n+    match_arm_patterns.clear ();\n     match_arm_patterns.reserve (other.match_arm_patterns.size ());\n     for (const auto &e : other.match_arm_patterns)\n       match_arm_patterns.push_back (e->clone_pattern ());"}]}