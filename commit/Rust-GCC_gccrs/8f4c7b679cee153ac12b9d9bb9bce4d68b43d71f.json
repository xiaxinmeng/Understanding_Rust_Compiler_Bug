{"sha": "8f4c7b679cee153ac12b9d9bb9bce4d68b43d71f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGY0YzdiNjc5Y2VlMTUzYWMxMmI5ZDliYjliY2U0ZDY4YjQzZDcxZg==", "commit": {"author": {"name": "Andreas Tobler", "email": "a.tobler@schweiz.ch", "date": "2003-10-19T17:43:44Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2003-10-19T17:43:44Z"}, "message": "locale.cc (locale::_S_initialize): Re-apply workaround a confusion of the use of the gthr API when...\n\n\n2003-10-18  Andreas Tobler  <a.tobler@schweiz.ch>\n\n\t* src/locale.cc (locale::_S_initialize): Re-apply workaround a\n\tconfusion of the use of the gthr API when __gthread_active_p()\n\treturns true.\n\nFrom-SVN: r72679", "tree": {"sha": "957d1b7871a7552a944ec0667f382074f7c05f86", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/957d1b7871a7552a944ec0667f382074f7c05f86"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8f4c7b679cee153ac12b9d9bb9bce4d68b43d71f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f4c7b679cee153ac12b9d9bb9bce4d68b43d71f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8f4c7b679cee153ac12b9d9bb9bce4d68b43d71f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f4c7b679cee153ac12b9d9bb9bce4d68b43d71f/comments", "author": null, "committer": null, "parents": [{"sha": "f74c81d55a06e8a92dc252db6983af33d7c78ebc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f74c81d55a06e8a92dc252db6983af33d7c78ebc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f74c81d55a06e8a92dc252db6983af33d7c78ebc"}], "stats": {"total": 13, "additions": 8, "deletions": 5}, "files": [{"sha": "be527fa5162cc32d92114e77a3dfbe2fffeb3838", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f4c7b679cee153ac12b9d9bb9bce4d68b43d71f/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f4c7b679cee153ac12b9d9bb9bce4d68b43d71f/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=8f4c7b679cee153ac12b9d9bb9bce4d68b43d71f", "patch": "@@ -1,3 +1,9 @@\n+2003-10-18  Andreas Tobler  <a.tobler@schweiz.ch>\n+\n+\t* src/locale.cc (locale::_S_initialize): Re-apply workaround a\n+\tconfusion of the use of the gthr API when __gthread_active_p()\n+\treturns true.\n+\n 2003-10-17  Benjamin Kosnik  <bkoz@redhat.com>\n  \n \t* src/Makefile.am: Add new files."}, {"sha": "99bfe3e84cabb08608cb0fc5fd321f6fc4f58e20", "filename": "libstdc++-v3/src/locale_init.cc", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f4c7b679cee153ac12b9d9bb9bce4d68b43d71f/libstdc%2B%2B-v3%2Fsrc%2Flocale_init.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f4c7b679cee153ac12b9d9bb9bce4d68b43d71f/libstdc%2B%2B-v3%2Fsrc%2Flocale_init.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2Flocale_init.cc?ref=8f4c7b679cee153ac12b9d9bb9bce4d68b43d71f", "patch": "@@ -143,12 +143,9 @@ namespace std\n #ifdef __GTHREADS\n     if (__gthread_active_p())\n       __gthread_once(&_S_once, _S_initialize_once);\n-    else\n #endif\n-      {\n-\tif (!_S_classic)\n-\t  _S_initialize_once();\n-      }\n+    if (!_S_classic)\n+      _S_initialize_once();\n   }\n \n   // Definitions for static const data members of locale::_Impl"}]}