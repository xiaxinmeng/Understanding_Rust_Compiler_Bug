{"sha": "37ab491dcee76e83ce32506632810b04a6045d5e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzdhYjQ5MWRjZWU3NmU4M2NlMzI1MDY2MzI4MTBiMDRhNjA0NWQ1ZQ==", "commit": {"author": {"name": "Tom de Vries", "email": "tdevries@suse.de", "date": "2019-01-25T14:39:47Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2019-01-25T14:39:47Z"}, "message": "[libbacktrace] Rename dtest to btest_gnudebuglink\n\nCreate a pattern rule for copying an existing test-case, separating out the\ndebug information into a .debug file, and referencing the .debug file from\nthe copied test-case using a .gnu_debuglink.\n\n2019-01-25  Tom de Vries  <tdevries@suse.de>\n\n\t* Makefile.am: Rewrite dtest rule into \"%_gnudebuglink\" pattern rule.\n\t(TESTS): Rename dtest to btest_gnudebuglink.\n\t* Makefile.in: Regenerate.\n\nFrom-SVN: r268268", "tree": {"sha": "358dd0d20e11e0f577a39e22d5a2a9d7c8ca1c7b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/358dd0d20e11e0f577a39e22d5a2a9d7c8ca1c7b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/37ab491dcee76e83ce32506632810b04a6045d5e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37ab491dcee76e83ce32506632810b04a6045d5e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/37ab491dcee76e83ce32506632810b04a6045d5e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37ab491dcee76e83ce32506632810b04a6045d5e/comments", "author": {"login": "vries", "id": 4057235, "node_id": "MDQ6VXNlcjQwNTcyMzU=", "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vries", "html_url": "https://github.com/vries", "followers_url": "https://api.github.com/users/vries/followers", "following_url": "https://api.github.com/users/vries/following{/other_user}", "gists_url": "https://api.github.com/users/vries/gists{/gist_id}", "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vries/subscriptions", "organizations_url": "https://api.github.com/users/vries/orgs", "repos_url": "https://api.github.com/users/vries/repos", "events_url": "https://api.github.com/users/vries/events{/privacy}", "received_events_url": "https://api.github.com/users/vries/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "55ac4e01c17abf9122c01e7cac799c215bc22925", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55ac4e01c17abf9122c01e7cac799c215bc22925", "html_url": "https://github.com/Rust-GCC/gccrs/commit/55ac4e01c17abf9122c01e7cac799c215bc22925"}], "stats": {"total": 28, "additions": 17, "deletions": 11}, "files": [{"sha": "4a6a1656bbb276309c1e0cafbeff5c46aeb7dfbd", "filename": "libbacktrace/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/37ab491dcee76e83ce32506632810b04a6045d5e/libbacktrace%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/37ab491dcee76e83ce32506632810b04a6045d5e/libbacktrace%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2FChangeLog?ref=37ab491dcee76e83ce32506632810b04a6045d5e", "patch": "@@ -1,3 +1,9 @@\n+2019-01-25  Tom de Vries  <tdevries@suse.de>\n+\n+\t* Makefile.am: Rewrite dtest rule into \"%_gnudebuglink\" pattern rule.\n+\t(TESTS): Rename dtest to btest_gnudebuglink.\n+\t* Makefile.in: Regenerate.\n+\n 2019-01-23  Tom de Vries  <tdevries@suse.de>\n \n \t* dwarf.c (struct unit): Use size_t for low_offset/high_offset fields."}, {"sha": "2f1d9af89c3c27027bbeacd72a49623839322326", "filename": "libbacktrace/Makefile.am", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/37ab491dcee76e83ce32506632810b04a6045d5e/libbacktrace%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/37ab491dcee76e83ce32506632810b04a6045d5e/libbacktrace%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2FMakefile.am?ref=37ab491dcee76e83ce32506632810b04a6045d5e", "patch": "@@ -255,11 +255,11 @@ endif HAVE_PTHREAD\n \n if HAVE_OBJCOPY_DEBUGLINK\n \n-TESTS += dtest\n+TESTS += btest_gnudebuglink\n \n-dtest: btest\n-\t$(OBJCOPY) --only-keep-debug btest btest.debug\n-\t$(OBJCOPY) --strip-debug --add-gnu-debuglink=btest.debug btest dtest\n+%_gnudebuglink: %\n+\t$(OBJCOPY) --only-keep-debug $< $@.debug\n+\t$(OBJCOPY) --strip-debug --add-gnu-debuglink=$@.debug $< $@\n \n endif HAVE_OBJCOPY_DEBUGLINK\n "}, {"sha": "0b73e3d698185b445d6a6e9d50139179ceff424c", "filename": "libbacktrace/Makefile.in", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/37ab491dcee76e83ce32506632810b04a6045d5e/libbacktrace%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/37ab491dcee76e83ce32506632810b04a6045d5e/libbacktrace%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2FMakefile.in?ref=37ab491dcee76e83ce32506632810b04a6045d5e", "patch": "@@ -130,7 +130,7 @@ check_PROGRAMS = $(am__EXEEXT_1) $(am__EXEEXT_2) $(am__EXEEXT_3)\n @HAVE_ZLIB_TRUE@@NATIVE_TRUE@am__append_4 = -lz\n @HAVE_ZLIB_TRUE@@NATIVE_TRUE@am__append_5 = -lz\n @HAVE_PTHREAD_TRUE@@NATIVE_TRUE@am__append_6 = ttest ttest_alloc\n-@HAVE_OBJCOPY_DEBUGLINK_TRUE@@NATIVE_TRUE@am__append_7 = dtest\n+@HAVE_OBJCOPY_DEBUGLINK_TRUE@@NATIVE_TRUE@am__append_7 = btest_gnudebuglink\n @HAVE_COMPRESSED_DEBUG_TRUE@@NATIVE_TRUE@am__append_8 = ctestg ctesta \\\n @HAVE_COMPRESSED_DEBUG_TRUE@@NATIVE_TRUE@\tctestg_alloc \\\n @HAVE_COMPRESSED_DEBUG_TRUE@@NATIVE_TRUE@\tctesta_alloc\n@@ -1585,9 +1585,9 @@ btest_dwz.log: btest_dwz\n \t--log-file $$b.log --trs-file $$b.trs \\\n \t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n \t\"$$tst\" $(AM_TESTS_FD_REDIRECT)\n-dtest.log: dtest\n-\t@p='dtest'; \\\n-\tb='dtest'; \\\n+btest_gnudebuglink.log: btest_gnudebuglink\n+\t@p='btest_gnudebuglink'; \\\n+\tb='btest_gnudebuglink'; \\\n \t$(am__check_pre) $(LOG_DRIVER) --test-name \"$$f\" \\\n \t--log-file $$b.log --trs-file $$b.trs \\\n \t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n@@ -1767,9 +1767,9 @@ uninstall-am:\n @NATIVE_TRUE@\t$(SHELL) $(srcdir)/../move-if-change tmp-edtest2_build.c edtest2_build.c\n @NATIVE_TRUE@\techo timestamp > $@\n \n-@HAVE_OBJCOPY_DEBUGLINK_TRUE@@NATIVE_TRUE@dtest: btest\n-@HAVE_OBJCOPY_DEBUGLINK_TRUE@@NATIVE_TRUE@\t$(OBJCOPY) --only-keep-debug btest btest.debug\n-@HAVE_OBJCOPY_DEBUGLINK_TRUE@@NATIVE_TRUE@\t$(OBJCOPY) --strip-debug --add-gnu-debuglink=btest.debug btest dtest\n+@HAVE_OBJCOPY_DEBUGLINK_TRUE@@NATIVE_TRUE@%_gnudebuglink: %\n+@HAVE_OBJCOPY_DEBUGLINK_TRUE@@NATIVE_TRUE@\t$(OBJCOPY) --only-keep-debug $< $@.debug\n+@HAVE_OBJCOPY_DEBUGLINK_TRUE@@NATIVE_TRUE@\t$(OBJCOPY) --strip-debug --add-gnu-debuglink=$@.debug $< $@\n alloc.lo: config.h backtrace.h internal.h\n backtrace.lo: config.h backtrace.h internal.h\n btest.lo: (INCDIR)/filenames.h backtrace.h backtrace-supported.h"}]}