{"sha": "916268f1f2e6806f794bba7229d29f9296b2b68d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTE2MjY4ZjFmMmU2ODA2Zjc5NGJiYTcyMjlkMjlmOTI5NmIyYjY4ZA==", "commit": {"author": {"name": "Mikhail Maltsev", "email": "maltsevm@gmail.com", "date": "2016-03-31T17:20:53Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2016-03-31T17:20:53Z"}, "message": "cplus-dem.c (squangle_mop_up): Zero bsize/ksize after freeing btypevec/ktypevec.\n\n\t* cplus-dem.c (squangle_mop_up): Zero bsize/ksize after freeing\n\tbtypevec/ktypevec.\n\t* testsuite/demangle-expected: Add coverage tests.\n\nFrom-SVN: r234645", "tree": {"sha": "cbc03f21d2f69c373dd6a42c9f79242acefec494", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cbc03f21d2f69c373dd6a42c9f79242acefec494"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/916268f1f2e6806f794bba7229d29f9296b2b68d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/916268f1f2e6806f794bba7229d29f9296b2b68d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/916268f1f2e6806f794bba7229d29f9296b2b68d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/916268f1f2e6806f794bba7229d29f9296b2b68d/comments", "author": {"login": "miyuki", "id": 4668268, "node_id": "MDQ6VXNlcjQ2NjgyNjg=", "avatar_url": "https://avatars.githubusercontent.com/u/4668268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/miyuki", "html_url": "https://github.com/miyuki", "followers_url": "https://api.github.com/users/miyuki/followers", "following_url": "https://api.github.com/users/miyuki/following{/other_user}", "gists_url": "https://api.github.com/users/miyuki/gists{/gist_id}", "starred_url": "https://api.github.com/users/miyuki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/miyuki/subscriptions", "organizations_url": "https://api.github.com/users/miyuki/orgs", "repos_url": "https://api.github.com/users/miyuki/repos", "events_url": "https://api.github.com/users/miyuki/events{/privacy}", "received_events_url": "https://api.github.com/users/miyuki/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "65e214672611ba3350918855de84d81fcbfa14d1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65e214672611ba3350918855de84d81fcbfa14d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/65e214672611ba3350918855de84d81fcbfa14d1"}], "stats": {"total": 19, "additions": 19, "deletions": 0}, "files": [{"sha": "b4054bdb6be11e920b699e07b45ba5d94f5350a5", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/916268f1f2e6806f794bba7229d29f9296b2b68d/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/916268f1f2e6806f794bba7229d29f9296b2b68d/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=916268f1f2e6806f794bba7229d29f9296b2b68d", "patch": "@@ -1,3 +1,10 @@\n+2016-03-31  Mikhail Maltsev  <maltsevm@gmail.com>\n+\t    Marcel Bohme  boehme.marcel@gmail.com\n+\n+\t* cplus-dem.c (squangle_mop_up): Zero bsize/ksize after freeing\n+\tbtypevec/ktypevec.\n+\t* testsuite/demangle-expected: Add coverage tests.\n+\n 2016-01-27  Iain Buclaw  <ibuclaw@gdcproject.org>\n \n \t* d-demangle.c (dlang_call_convention): Handle extern Objective-C"}, {"sha": "7ab46ddac48674dd0cd2c816a342a3b2deef7022", "filename": "libiberty/cplus-dem.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/916268f1f2e6806f794bba7229d29f9296b2b68d/libiberty%2Fcplus-dem.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/916268f1f2e6806f794bba7229d29f9296b2b68d/libiberty%2Fcplus-dem.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fcplus-dem.c?ref=916268f1f2e6806f794bba7229d29f9296b2b68d", "patch": "@@ -1237,11 +1237,13 @@ squangle_mop_up (struct work_stuff *work)\n     {\n       free ((char *) work -> btypevec);\n       work->btypevec = NULL;\n+      work->bsize = 0;\n     }\n   if (work -> ktypevec != NULL)\n     {\n       free ((char *) work -> ktypevec);\n       work->ktypevec = NULL;\n+      work->ksize = 0;\n     }\n }\n "}, {"sha": "e214ee5a987a10d94217851c39df186dea57e2c3", "filename": "libiberty/testsuite/demangle-expected", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/916268f1f2e6806f794bba7229d29f9296b2b68d/libiberty%2Ftestsuite%2Fdemangle-expected", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/916268f1f2e6806f794bba7229d29f9296b2b68d/libiberty%2Ftestsuite%2Fdemangle-expected", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Ftestsuite%2Fdemangle-expected?ref=916268f1f2e6806f794bba7229d29f9296b2b68d", "patch": "@@ -4421,3 +4421,13 @@ void baz<int>(A<sizeof (foo((int)(), (floatcomplex )00000000_00000000))>*)\n --format=gnu-v3\n _Z3fooI1FEN1XIXszdtcl1PclcvT__EEE5arrayEE4TypeEv\n X<sizeof ((P(((F)())())).array)>::Type foo<F>()\n+#\n+# Tests a use-after-free problem\n+\n+_Q.__0\n+::Q.(void)\n+#\n+# Tests a use-after-free problem\n+\n+_Q10-__9cafebabe.\n+cafebabe.::-(void)"}]}