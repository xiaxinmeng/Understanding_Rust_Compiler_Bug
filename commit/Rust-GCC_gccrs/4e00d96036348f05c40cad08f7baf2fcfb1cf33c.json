{"sha": "4e00d96036348f05c40cad08f7baf2fcfb1cf33c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGUwMGQ5NjAzNjM0OGYwNWM0MGNhZDA4ZjdiYWYyZmNmYjFjZjMzYw==", "commit": {"author": {"name": "Kenneth Zadeck", "email": "zadeck@gcc.gnu.org", "date": "2008-05-10T20:28:19Z"}, "committer": {"name": "Kenneth Zadeck", "email": "zadeck@gcc.gnu.org", "date": "2008-05-10T20:28:19Z"}, "message": "re PR c++/36185 (wrong code with  -O2 -fgcse-sm)\n\n2008-05-10  Kenneth Zadeck  <zadeck@naturalbridge.com>\n\n    * gcse.c (store_killed_in_insn): Negated call to RTL_CONST_CALL_P.\n        \n2008-05-10  Kenneth Zadeck  <zadeck@naturalbridge.com>\n\n\tPR rtl-optimization/36185\n\t* g++.dg/opt/pr36185.C\n\nFrom-SVN: r135159", "tree": {"sha": "1bc7539c1c3b838a808fd12973f32dba87477c89", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1bc7539c1c3b838a808fd12973f32dba87477c89"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4e00d96036348f05c40cad08f7baf2fcfb1cf33c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e00d96036348f05c40cad08f7baf2fcfb1cf33c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4e00d96036348f05c40cad08f7baf2fcfb1cf33c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e00d96036348f05c40cad08f7baf2fcfb1cf33c/comments", "author": null, "committer": null, "parents": [{"sha": "6e90dc6b64630fd7485eff318a24531a49654daf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e90dc6b64630fd7485eff318a24531a49654daf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6e90dc6b64630fd7485eff318a24531a49654daf"}], "stats": {"total": 38, "additions": 37, "deletions": 1}, "files": [{"sha": "c01005769f0a361630b419304f97fa7d9c06b42d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e00d96036348f05c40cad08f7baf2fcfb1cf33c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e00d96036348f05c40cad08f7baf2fcfb1cf33c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4e00d96036348f05c40cad08f7baf2fcfb1cf33c", "patch": "@@ -1,3 +1,7 @@\n+2008-05-10  Kenneth Zadeck  <zadeck@naturalbridge.com>\n+\n+\t* gcse.c (store_killed_in_insn): Negated call to RTL_CONST_CALL_P.\n+\t\t\n 2008-05-10  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* config/i386/i386.c (bdesc_ptest): Removed."}, {"sha": "77efc44769bc981a4268f1253269874854970d1f", "filename": "gcc/gcse.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e00d96036348f05c40cad08f7baf2fcfb1cf33c/gcc%2Fgcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e00d96036348f05c40cad08f7baf2fcfb1cf33c/gcc%2Fgcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcse.c?ref=4e00d96036348f05c40cad08f7baf2fcfb1cf33c", "patch": "@@ -5987,7 +5987,7 @@ store_killed_in_insn (const_rtx x, const_rtx x_regs, const_rtx insn, int after)\n     {\n       /* A normal or pure call might read from pattern,\n \t but a const call will not.  */\n-      if (RTL_CONST_CALL_P (insn))\n+      if (!RTL_CONST_CALL_P (insn))\n \treturn true;\n \n       /* But even a const call reads its parameters.  Check whether the"}, {"sha": "06bfdf40277a7ba2d0476497e3da8f00a58c198e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e00d96036348f05c40cad08f7baf2fcfb1cf33c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e00d96036348f05c40cad08f7baf2fcfb1cf33c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4e00d96036348f05c40cad08f7baf2fcfb1cf33c", "patch": "@@ -1,9 +1,17 @@\n+<<<<<<< .mine\n+2008-05-10  Kenneth Zadeck  <zadeck@naturalbridge.com>\n+\n+\tPR rtl-optimization/36185\n+\t* g++.dg/opt/pr36185.C\n+\n+=======\n 2008-05-10  Francois-Xavier Coudert  <fxcoudert@gcc.gnu.org>\n \n \t* write_to_null.f90: Rename to write_to_null.F90.\n \t* write_to_null.F90: On Windows, \"nul\" is the equivalent of the\n \tUnix /dev/null.\n \n+>>>>>>> .r135158\n 2008-05-10  Richard Sandiford  <rdsandiford@googlemail.com>\n \n \tPR rtl-optimization/33642"}, {"sha": "2ffa52f8e864435629608add4e8cb87028599889", "filename": "gcc/testsuite/g++.dg/opt/pr36185.C", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e00d96036348f05c40cad08f7baf2fcfb1cf33c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fpr36185.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e00d96036348f05c40cad08f7baf2fcfb1cf33c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fpr36185.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fpr36185.C?ref=4e00d96036348f05c40cad08f7baf2fcfb1cf33c", "patch": "@@ -0,0 +1,24 @@\n+// PR rtl-optimization/36185\n+// { dg-do run }\n+// { dg-options \"-O2 -fgcse-sm\" }\n+\n+struct Base {\n+        virtual ~Base() {}\n+        virtual void f() = 0;\n+};\n+struct Derived : Base {\n+        Derived();\n+        virtual void f() {}\n+};\n+struct Foo {\n+        Foo(Base&);\n+};\n+Derived::Derived() {\n+        Foo foo(*this);\n+}\n+Foo::Foo(Base& base) {\n+        base.f();\n+}\n+int main() {\n+        Derived d;\n+}"}]}