{"sha": "1fceb21584e9176c22775f00641ee1fcb8c62798", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWZjZWIyMTU4NGU5MTc2YzIyNzc1ZjAwNjQxZWUxZmNiOGM2Mjc5OA==", "commit": {"author": {"name": "Alessandro Fanfarillo", "email": "fanfarillo.gcc@gmail.com", "date": "2015-12-15T13:19:21Z"}, "committer": {"name": "Alessandro Fanfarillo", "email": "afanfa@gcc.gnu.org", "date": "2015-12-15T13:19:21Z"}, "message": "Fix ICE for coarray Critical inside module procedure\n\nFrom-SVN: r231649", "tree": {"sha": "96efb8f7596c53012fc69bb52476b6843ef3a99b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/96efb8f7596c53012fc69bb52476b6843ef3a99b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1fceb21584e9176c22775f00641ee1fcb8c62798", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1fceb21584e9176c22775f00641ee1fcb8c62798", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1fceb21584e9176c22775f00641ee1fcb8c62798", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1fceb21584e9176c22775f00641ee1fcb8c62798/comments", "author": null, "committer": null, "parents": [{"sha": "4a414de84a8e51b60b0be0c6c3ad9c33f7310d92", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a414de84a8e51b60b0be0c6c3ad9c33f7310d92", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a414de84a8e51b60b0be0c6c3ad9c33f7310d92"}], "stats": {"total": 22, "additions": 22, "deletions": 0}, "files": [{"sha": "27dc78cb7890d3d93b077d2ea0e9ddc821fed72d", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1fceb21584e9176c22775f00641ee1fcb8c62798/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1fceb21584e9176c22775f00641ee1fcb8c62798/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=1fceb21584e9176c22775f00641ee1fcb8c62798", "patch": "@@ -1,3 +1,8 @@\n+2015-12-15  Alessandro Fanfarillo  <fanfarillo.gcc@gmail.com>\n+\n+\t* resolve.c (resolve_critical): Committing symbols of\n+\tlock variables.\n+\n 2014-12-14  Tobias Burnus  <burnus@net-b.de>\n \n \tPR fortran/68850"}, {"sha": "3988b3c4e1c70a86951fa492cfdf5dd10432a585", "filename": "gcc/fortran/resolve.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1fceb21584e9176c22775f00641ee1fcb8c62798/gcc%2Ffortran%2Fresolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1fceb21584e9176c22775f00641ee1fcb8c62798/gcc%2Ffortran%2Fresolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fresolve.c?ref=1fceb21584e9176c22775f00641ee1fcb8c62798", "patch": "@@ -8852,6 +8852,7 @@ resolve_critical (gfc_code *code)\n   symtree->n.sym->as->cotype = AS_EXPLICIT;\n   symtree->n.sym->as->lower[0] = gfc_get_int_expr (gfc_default_integer_kind,\n \t\t\t\t\t\t   NULL, 1);\n+  gfc_commit_symbols();\n }\n \n "}, {"sha": "633f8b2afe5b90dffbf9b325e2487ae41f0d359c", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1fceb21584e9176c22775f00641ee1fcb8c62798/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1fceb21584e9176c22775f00641ee1fcb8c62798/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1fceb21584e9176c22775f00641ee1fcb8c62798", "patch": "@@ -1,3 +1,7 @@\n+2015-12-15  Alessandro Fanfarillo  <fanfarillo.gcc@gmail.com>\n+\n+\t* gfortran.dg/coarray_critical_1.f90: New.\n+\n 2015-12-15  Martin Jambor  <mjambor@suse.cz>\n \n \tPR ipa/68851"}, {"sha": "4d93bf6debc8b06480776d8ce8851555f4eb3413", "filename": "gcc/testsuite/gfortran.dg/coarray_critical_1.f90", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1fceb21584e9176c22775f00641ee1fcb8c62798/gcc%2Ftestsuite%2Fgfortran.dg%2Fcoarray_critical_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1fceb21584e9176c22775f00641ee1fcb8c62798/gcc%2Ftestsuite%2Fgfortran.dg%2Fcoarray_critical_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fcoarray_critical_1.f90?ref=1fceb21584e9176c22775f00641ee1fcb8c62798", "patch": "@@ -0,0 +1,12 @@\n+! { dg-do compile }\n+! { dg-options \"-fcoarray=lib\" }\n+!\n+\n+module m\n+ contains\n+   subroutine f()\n+     critical\n+     end critical\n+   end subroutine f\n+ end module m\n+end program"}]}