{"sha": "d76e5e59c81e0981468b252fbf40c421e95f457e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDc2ZTVlNTljODFlMDk4MTQ2OGIyNTJmYmY0MGM0MjFlOTVmNDU3ZQ==", "commit": {"author": {"name": "Dave Love", "email": "fx@gnu.org", "date": "1999-03-28T03:18:32Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-03-28T03:18:32Z"}, "message": "configure: Rebuilt.\n\n        * configure: Rebuilt.\n        * configure.in: Fix integer size tests: sanity check first; search\n        toplevel include dir (from Rainer Orth); only mess with ac_cpp\n        once; use -DIN_GCC -DHAVE_CONFIG_H.\n        * configure.in: Use `g77_cv_...', not `f77_cv_...'.\n\nFrom-SVN: r26035", "tree": {"sha": "ab30bd34756d7622d6fc61eda5ebe9916698046b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ab30bd34756d7622d6fc61eda5ebe9916698046b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d76e5e59c81e0981468b252fbf40c421e95f457e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d76e5e59c81e0981468b252fbf40c421e95f457e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d76e5e59c81e0981468b252fbf40c421e95f457e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d76e5e59c81e0981468b252fbf40c421e95f457e/comments", "author": {"login": "loveshack", "id": 6197299, "node_id": "MDQ6VXNlcjYxOTcyOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/6197299?v=4", "gravatar_id": "", "url": "https://api.github.com/users/loveshack", "html_url": "https://github.com/loveshack", "followers_url": "https://api.github.com/users/loveshack/followers", "following_url": "https://api.github.com/users/loveshack/following{/other_user}", "gists_url": "https://api.github.com/users/loveshack/gists{/gist_id}", "starred_url": "https://api.github.com/users/loveshack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/loveshack/subscriptions", "organizations_url": "https://api.github.com/users/loveshack/orgs", "repos_url": "https://api.github.com/users/loveshack/repos", "events_url": "https://api.github.com/users/loveshack/events{/privacy}", "received_events_url": "https://api.github.com/users/loveshack/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ddb6d3dc7b0657e789cdac82655c860121aaf670", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ddb6d3dc7b0657e789cdac82655c860121aaf670", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ddb6d3dc7b0657e789cdac82655c860121aaf670"}], "stats": {"total": 129, "additions": 89, "deletions": 40}, "files": [{"sha": "504bb9b3ba4a693078d6647be3193b1dba2ff681", "filename": "libf2c/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d76e5e59c81e0981468b252fbf40c421e95f457e/libf2c%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d76e5e59c81e0981468b252fbf40c421e95f457e/libf2c%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FChangeLog?ref=d76e5e59c81e0981468b252fbf40c421e95f457e", "patch": "@@ -1,3 +1,13 @@\n+1999-03-28  Dave Love  <fx@gnu.org>\n+\n+\t* configure: Rebuilt.\n+\n+        * configure.in: Fix integer size tests: sanity check first; search\n+        toplevel include dir (from Rainer Orth); only mess with ac_cpp\n+        once; use -DIN_GCC -DHAVE_CONFIG_H.\n+\n+        * configure.in: Use `g77_cv_...', not `f77_cv_...'.\n+\n Wed Mar 24 22:41:28 1999  Mumit Khan  <khan@xraylith.wisc.edu>\n \n \t* configure.in (AC_PREREQ): Update to 2.13."}, {"sha": "b2ea4dbc855827e59d47c0a195fe374c22370a19", "filename": "libf2c/configure", "status": "modified", "additions": 53, "deletions": 26, "changes": 79, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d76e5e59c81e0981468b252fbf40c421e95f457e/libf2c%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d76e5e59c81e0981468b252fbf40c421e95f457e/libf2c%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2Fconfigure?ref=d76e5e59c81e0981468b252fbf40c421e95f457e", "patch": "@@ -658,26 +658,26 @@ compiler_name=f771\n rm -f skip-this-dir\n echo $ac_n \"checking if compiler $compiler_name has been built\"\"... $ac_c\" 1>&6\n echo \"configure:661: checking if compiler $compiler_name has been built\" >&5\n-if eval \"test \\\"`echo '$''{'f77_cv_compiler_exists'+set}'`\\\" = set\"; then\n+if eval \"test \\\"`echo '$''{'g77_cv_compiler_exists'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  f77_cv_compiler_exists=yes\n+  g77_cv_compiler_exists=yes\n if test -n \"$r\"; then\n   if test -d \"$r\"/gcc; then\n     if test -f \"$r\"/gcc/$compiler_name \\\n        || test -f \"$r\"/gcc/$compiler_name$EXEEXT; then\n       true\n     else\n-      f77_cv_compiler_exists=no\n+      g77_cv_compiler_exists=no\n       echo \"rm -f config.cache config.log multilib.out\" > skip-this-dir\n     fi\n   fi\n fi\n \n fi\n \n-echo \"$ac_t\"\"$f77_cv_compiler_exists\" 1>&6\n-if test x$f77_cv_compiler_exists = xno\n+echo \"$ac_t\"\"$g77_cv_compiler_exists\" 1>&6\n+if test x$g77_cv_compiler_exists = xno\n then\n   rm -f Makefile conftest* confdefs* core\n   exit 0\n@@ -1161,17 +1161,49 @@ fi\n # is in gcc/ and the config files are in gcc/config/.\n echo $ac_n \"checking f2c integer type\"\"... $ac_c\" 1>&6\n echo \"configure:1164: checking f2c integer type\" >&5\n+# Set this back later below!\n late_ac_cpp=$ac_cpp\n-ac_cpp=\"$late_ac_cpp -I../../gcc/f -I../../gcc -I../../gcc/config\"\n+late_cflags=$CFLAGS\n+##gcc -c  -DIN_GCC -DHAVE_CONFIG_H -I. -I/home/fx/c-e/egcs/gcc -I/home/fx/c-e/egcs/gcc/config -I/home/fx/c-e/egcs/gcc/../include /home/fx/c-e/egcs/gcc/f/proj.c\n if test \"$srcdir\" != . ; then\n-  ac_cpp=\"$ac_cpp -I$srcdir/../gcc/f -I$srcdir/../gcc -I$srcdir/../gcc/config\"\n+  extra_includes=\"-I$srcdir/../gcc/f -I../../gcc -I$srcdir/../gcc -I$srcdir/../include -I$srcdir/../gcc/config\"\n+else\n+  extra_includes=\"-I../../gcc/f -I../../gcc -I../../include -I../../gcc/config\"\n+fi\n+ac_cpp=\"$late_ac_cpp -DIN_GCC -DHAVE_CONFIG_H $extra_includes\"\n+\n+# The AC_EGREP_CPPs below have been known to fail when the header\n+# path is wrong after things have been moved about; the cpp error status\n+# counts for nothing.  First check that there aren't any errors from\n+# the headers.\n+CFLAGS=\"$CFLAGS -DHAVE_CONFIG_H -DIN_GCC $extra_includes\"\n+cat > conftest.$ac_ext <<EOF\n+#line 1182 \"configure\"\n+#include \"confdefs.h\"\n+#include \"proj.h\"\n+#define FFECOM_DETERMINE_TYPES 1\n+#include \"com.h\"\n+int main() {\n+\n+; return 0; }\n+EOF\n+if { (eval echo configure:1191: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  :\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  { echo \"configure: error: Can't run check for integer sizes -- see config.log\" 1>&2; exit 1; }\n fi\n+rm -f conftest*\n+CFLAGS=$late_cflags\n+\n if eval \"test \\\"`echo '$''{'g77_cv_sys_f2cinteger'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  echo \"configure:1173: using $ac_cpp\" >&5\n+  echo \"configure:1205: using $ac_cpp\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 1175 \"configure\"\n+#line 1207 \"configure\"\n #include \"confdefs.h\"\n #include \"proj.h\"\n #define FFECOM_DETERMINE_TYPES 1\n@@ -1193,9 +1225,9 @@ fi\n rm -f conftest*\n \n if test \"$g77_cv_sys_f2cinteger\" = \"\"; then\n-echo \"configure:1197: using $ac_cpp\" >&5\n+echo \"configure:1229: using $ac_cpp\" >&5\n   cat > conftest.$ac_ext <<EOF\n-#line 1199 \"configure\"\n+#line 1231 \"configure\"\n #include \"confdefs.h\"\n #include \"proj.h\"\n #define FFECOM_DETERMINE_TYPES 1\n@@ -1226,22 +1258,16 @@ fi\n \n echo \"$ac_t\"\"$g77_cv_sys_f2cinteger\" 1>&6\n F2C_INTEGER=$g77_cv_sys_f2cinteger\n-ac_cpp=$late_ac_cpp\n \n \n echo $ac_n \"checking f2c long int type\"\"... $ac_c\" 1>&6\n-echo \"configure:1234: checking f2c long int type\" >&5\n-late_ac_cpp=$ac_cpp\n-ac_cpp=\"$late_ac_cpp -I../../gcc/f -I../../gcc -I../../gcc/config\"\n-if test \"$srcdir\" != . ; then\n-  ac_cpp=\"$ac_cpp -I$srcdir/../gcc/f -I$srcdir/../gcc -I$srcdir/../gcc/config\"\n-fi\n+echo \"configure:1265: checking f2c long int type\" >&5\n if eval \"test \\\"`echo '$''{'g77_cv_sys_f2clongint'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  echo \"configure:1243: using $ac_cpp\" >&5\n+  echo \"configure:1269: using $ac_cpp\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 1245 \"configure\"\n+#line 1271 \"configure\"\n #include \"confdefs.h\"\n #include \"proj.h\"\n #define FFECOM_DETERMINE_TYPES 1\n@@ -1262,10 +1288,11 @@ if (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n fi\n rm -f conftest*\n \n+\n if test \"$g77_cv_sys_f2clongint\" = \"\"; then\n-echo \"configure:1267: using $ac_cpp\" >&5\n+echo \"configure:1294: using $ac_cpp\" >&5\n   cat > conftest.$ac_ext <<EOF\n-#line 1269 \"configure\"\n+#line 1296 \"configure\"\n #include \"confdefs.h\"\n #include \"proj.h\"\n #define FFECOM_DETERMINE_TYPES 1\n@@ -1296,8 +1323,8 @@ fi\n \n echo \"$ac_t\"\"$g77_cv_sys_f2clongint\" 1>&6\n F2C_LONGINT=$g77_cv_sys_f2clongint\n-ac_cpp=$late_ac_cpp\n \n+ac_cpp=$late_ac_cpp\n \n # avoid confusion in case the `makefile's from the f2c distribution have\n # got put here\n@@ -1344,7 +1371,7 @@ else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n fi\n \n echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:1348: checking host system type\" >&5\n+echo \"configure:1375: checking host system type\" >&5\n \n host_alias=$host\n case \"$host_alias\" in\n@@ -1365,7 +1392,7 @@ host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$host\" 1>&6\n \n echo $ac_n \"checking target system type\"\"... $ac_c\" 1>&6\n-echo \"configure:1369: checking target system type\" >&5\n+echo \"configure:1396: checking target system type\" >&5\n \n target_alias=$target\n case \"$target_alias\" in\n@@ -1383,7 +1410,7 @@ target_os=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$target\" 1>&6\n \n echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:1387: checking build system type\" >&5\n+echo \"configure:1414: checking build system type\" >&5\n \n build_alias=$build\n case \"$build_alias\" in"}, {"sha": "a6520e69b58c9395b30c2e785729b5f5b337553a", "filename": "libf2c/configure.in", "status": "modified", "additions": 26, "deletions": 14, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d76e5e59c81e0981468b252fbf40c421e95f457e/libf2c%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d76e5e59c81e0981468b252fbf40c421e95f457e/libf2c%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2Fconfigure.in?ref=d76e5e59c81e0981468b252fbf40c421e95f457e", "patch": "@@ -47,22 +47,22 @@ AC_EXEEXT\n compiler_name=f771\n rm -f skip-this-dir\n AC_MSG_CHECKING(if compiler $compiler_name has been built)\n-AC_CACHE_VAL(f77_cv_compiler_exists,\n-[f77_cv_compiler_exists=yes\n+AC_CACHE_VAL(g77_cv_compiler_exists,\n+[g77_cv_compiler_exists=yes\n if test -n \"$r\"; then\n   if test -d \"$r\"/gcc; then\n     if test -f \"$r\"/gcc/$compiler_name \\\n        || test -f \"$r\"/gcc/$compiler_name$EXEEXT; then\n       true\n     else\n-      f77_cv_compiler_exists=no\n+      g77_cv_compiler_exists=no\n       echo \"rm -f config.cache config.log multilib.out\" > skip-this-dir\n     fi\n   fi\n fi\n ])\n-AC_MSG_RESULT($f77_cv_compiler_exists)\n-if test x$f77_cv_compiler_exists = xno\n+AC_MSG_RESULT($g77_cv_compiler_exists)\n+if test x$g77_cv_compiler_exists = xno\n then\n   rm -f Makefile conftest* confdefs* core\n   exit 0\n@@ -98,11 +98,28 @@ then the target library, then build with \\`LANGUAGES=f77'.])])\n # (via com.h).  proj.h and com.h are in gcc/f/, config.h which they need\n # is in gcc/ and the config files are in gcc/config/.\n AC_MSG_CHECKING(f2c integer type)\n+# Set this back later below!\n late_ac_cpp=$ac_cpp\n-ac_cpp=\"$late_ac_cpp -I../../gcc/f -I../../gcc -I../../gcc/config\"\n+late_cflags=$CFLAGS\n+##gcc -c  -DIN_GCC -DHAVE_CONFIG_H -I. -I/home/fx/c-e/egcs/gcc -I/home/fx/c-e/egcs/gcc/config -I/home/fx/c-e/egcs/gcc/../include /home/fx/c-e/egcs/gcc/f/proj.c\n if test \"$srcdir\" != . ; then\n-  ac_cpp=\"$ac_cpp -I$srcdir/../gcc/f -I$srcdir/../gcc -I$srcdir/../gcc/config\"\n+  extra_includes=\"-I$srcdir/../gcc/f -I../../gcc -I$srcdir/../gcc -I$srcdir/../include -I$srcdir/../gcc/config\"\n+else\n+  extra_includes=\"-I../../gcc/f -I../../gcc -I../../include -I../../gcc/config\"\n fi\n+ac_cpp=\"$late_ac_cpp -DIN_GCC -DHAVE_CONFIG_H $extra_includes\"\n+\n+# The AC_EGREP_CPPs below have been known to fail when the header\n+# path is wrong after things have been moved about; the cpp error status\n+# counts for nothing.  First check that there aren't any errors from\n+# the headers.\n+CFLAGS=\"$CFLAGS -DHAVE_CONFIG_H -DIN_GCC $extra_includes\"\n+AC_TRY_COMPILE([#include \"proj.h\"\n+#define FFECOM_DETERMINE_TYPES 1\n+#include \"com.h\"],,,\n+AC_MSG_ERROR([Can't run check for integer sizes -- see config.log]))\n+CFLAGS=$late_cflags\n+\n AC_CACHE_VAL(g77_cv_sys_f2cinteger,\n echo \"configure:__oline__: using $ac_cpp\" >&AC_FD_CC\n AC_EGREP_CPP(F2C_INTEGER=long int,\n@@ -141,15 +158,9 @@ fi\n )\n AC_MSG_RESULT($g77_cv_sys_f2cinteger)\n F2C_INTEGER=$g77_cv_sys_f2cinteger\n-ac_cpp=$late_ac_cpp\n AC_SUBST(F2C_INTEGER)\n \n AC_MSG_CHECKING(f2c long int type)\n-late_ac_cpp=$ac_cpp\n-ac_cpp=\"$late_ac_cpp -I../../gcc/f -I../../gcc -I../../gcc/config\"\n-if test \"$srcdir\" != . ; then\n-  ac_cpp=\"$ac_cpp -I$srcdir/../gcc/f -I$srcdir/../gcc -I$srcdir/../gcc/config\"\n-fi\n AC_CACHE_VAL(g77_cv_sys_f2clongint,\n echo \"configure:__oline__: using $ac_cpp\" >&AC_FD_CC\n AC_EGREP_CPP(F2C_LONGINT=long int,\n@@ -165,6 +176,7 @@ F2C_LONGINT=long long int\n #endif\n ],\n  g77_cv_sys_f2clongint=\"long int\",)\n+\n if test \"$g77_cv_sys_f2clongint\" = \"\"; then\n echo \"configure:__oline__: using $ac_cpp\" >&AC_FD_CC\n   AC_EGREP_CPP(F2C_LONGINT=long long int,\n@@ -188,8 +200,8 @@ fi\n )\n AC_MSG_RESULT($g77_cv_sys_f2clongint)\n F2C_LONGINT=$g77_cv_sys_f2clongint\n-ac_cpp=$late_ac_cpp\n AC_SUBST(F2C_LONGINT)\n+ac_cpp=$late_ac_cpp\n \n # avoid confusion in case the `makefile's from the f2c distribution have\n # got put here"}]}