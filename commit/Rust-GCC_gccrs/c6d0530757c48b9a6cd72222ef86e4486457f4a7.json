{"sha": "c6d0530757c48b9a6cd72222ef86e4486457f4a7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzZkMDUzMDc1N2M0OGI5YTZjZDcyMjIyZWY4NmU0NDg2NDU3ZjRhNw==", "commit": {"author": {"name": "Krister Walfridsson", "email": "cato@df.lth.se", "date": "2002-11-29T17:53:45Z"}, "committer": {"name": "Krister Walfridsson", "email": "kristerw@gcc.gnu.org", "date": "2002-11-29T17:53:45Z"}, "message": "configure.in (_XOPEN_SOURCE, [...]): Check that _XOPEN_SOURCE 500L may be defined before defining these.\n\n2002-10-18  Krister Walfridsson  <cato@df.lth.se>\n\n       * libU77/configure.in (_XOPEN_SOURCE, _XOPEN_SOURCE_EXTENDED,\n       __EXTENSIONS__, _FILE_OFFSET_BITS): Check that _XOPEN_SOURCE 500L\n       may be defined before defining these.\n       * libU77/configure: Regenerate.\n       * libI77/configure.in (_XOPEN_SOURCE, _XOPEN_SOURCE_EXTENDED,\n       __EXTENSIONS__, _FILE_OFFSET_BITS): Check that _XOPEN_SOURCE 500L\n       may be defined before defining these.\n       * libI77/configure: Regenerate.\n\nFrom-SVN: r59639", "tree": {"sha": "4c507aa9656727090750ca72c6c3863bdd9ca335", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4c507aa9656727090750ca72c6c3863bdd9ca335"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c6d0530757c48b9a6cd72222ef86e4486457f4a7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c6d0530757c48b9a6cd72222ef86e4486457f4a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c6d0530757c48b9a6cd72222ef86e4486457f4a7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c6d0530757c48b9a6cd72222ef86e4486457f4a7/comments", "author": null, "committer": null, "parents": [{"sha": "b8bbda910aaca06f19c4f422d80bf1a733a60b15", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8bbda910aaca06f19c4f422d80bf1a733a60b15", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b8bbda910aaca06f19c4f422d80bf1a733a60b15"}], "stats": {"total": 485, "additions": 282, "deletions": 203}, "files": [{"sha": "12c566ee949b0523ec106cb21e4ed02dc5077db0", "filename": "libf2c/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6d0530757c48b9a6cd72222ef86e4486457f4a7/libf2c%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6d0530757c48b9a6cd72222ef86e4486457f4a7/libf2c%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FChangeLog?ref=c6d0530757c48b9a6cd72222ef86e4486457f4a7", "patch": "@@ -3,6 +3,17 @@\n \tPR fortran/8587\n \t* libF77/pow_zz.c: Handle (0.0, 0.0) ** power.\n \n+2002-10-18  Krister Walfridsson  <cato@df.lth.se>\n+\n+\t* libU77/configure.in (_XOPEN_SOURCE, _XOPEN_SOURCE_EXTENDED,\n+\t__EXTENSIONS__, _FILE_OFFSET_BITS): Check that _XOPEN_SOURCE 500L\n+\tmay be defined before defining these.\n+\t* libU77/configure: Regenerate.\n+\t* libI77/configure.in (_XOPEN_SOURCE, _XOPEN_SOURCE_EXTENDED,\n+\t__EXTENSIONS__, _FILE_OFFSET_BITS): Check that _XOPEN_SOURCE 500L\n+\tmay be defined before defining these.\n+\t* libI77/configure: Regenerate.\n+\n 2002-09-23  Zack Weinberg  <zack@codesourcery.com>\n \n \t* libF77/Version.c: Rename junk to __LIBF77_VERSION__.  Add"}, {"sha": "7bca4a73988fe47f7e4fe2839b6b67bc69a471fd", "filename": "libf2c/libI77/configure", "status": "modified", "additions": 117, "deletions": 92, "changes": 209, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6d0530757c48b9a6cd72222ef86e4486457f4a7/libf2c%2FlibI77%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6d0530757c48b9a6cd72222ef86e4486457f4a7/libf2c%2FlibI77%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2Fconfigure?ref=c6d0530757c48b9a6cd72222ef86e4486457f4a7", "patch": "@@ -523,40 +523,14 @@ fi\n \n \n \n-# These defines are necessary to get 64-bit file size support.\n-\n-cat >> confdefs.h <<\\EOF\n-#define _XOPEN_SOURCE 500L\n-EOF\n-\n-# The following is needed by irix6.2 so that struct timeval is declared.\n-cat >> confdefs.h <<\\EOF\n-#define _XOPEN_SOURCE_EXTENDED 1\n-EOF\n-\n-# The following is needed by Solaris2.5.1 so that struct timeval is declared.\n-cat >> confdefs.h <<\\EOF\n-#define __EXTENSIONS__ 1\n-EOF\n-\n-cat >> confdefs.h <<\\EOF\n-#define _FILE_OFFSET_BITS 64\n-EOF\n-\n-cat >> confdefs.h <<\\EOF\n-#define _LARGEFILE_SOURCE 1\n-EOF\n-\n-\n-\n \n \n # For g77 we'll set CC to point at the built gcc, but this will get it into\n # the makefiles\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:560: checking for $ac_word\" >&5\n+echo \"configure:534: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -586,7 +560,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:590: checking for $ac_word\" >&5\n+echo \"configure:564: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -637,7 +611,7 @@ fi\n       # Extract the first word of \"cl\", so it can be a program name with args.\n set dummy cl; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:641: checking for $ac_word\" >&5\n+echo \"configure:615: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -670,7 +644,7 @@ fi\n \n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:674: checking whether we are using GNU C\" >&5\n+echo \"configure:648: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -679,7 +653,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:683: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:657: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -698,7 +672,7 @@ ac_test_CFLAGS=\"${CFLAGS+set}\"\n ac_save_CFLAGS=\"$CFLAGS\"\n CFLAGS=\n echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:702: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:676: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -730,13 +704,64 @@ else\n fi\n \n \n+# These defines are necessary to get 64-bit file size support.\n+# NetBSD 1.4 header files does not support XOPEN_SOURCE == 500, but it\n+# handles 64-bit file sizes without needing these defines.\n+echo $ac_n \"checking whether _XOPEN_SOURCE may be defined\"\"... $ac_c\" 1>&6\n+echo \"configure:712: checking whether _XOPEN_SOURCE may be defined\" >&5\n+cat > conftest.$ac_ext <<EOF\n+#line 714 \"configure\"\n+#include \"confdefs.h\"\n+#define _XOPEN_SOURCE 500L\n+#include <unistd.h>\n+int main() {\n+\n+; return 0; }\n+EOF\n+if { (eval echo configure:722: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  may_use_xopen_source=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  may_use_xopen_source=no\n+fi\n+rm -f conftest*\n+echo \"$ac_t\"\"$may_use_xopen_source\" 1>&6\n+if test $may_use_xopen_source = yes; then\n+  cat >> confdefs.h <<\\EOF\n+#define _XOPEN_SOURCE 500L\n+EOF\n+\n+  # The following is needed by irix6.2 so that struct timeval is declared.\n+  cat >> confdefs.h <<\\EOF\n+#define _XOPEN_SOURCE_EXTENDED 1\n+EOF\n+\n+  # The following is needed by Solaris2.5.1 so that struct timeval is declared.\n+  cat >> confdefs.h <<\\EOF\n+#define __EXTENSIONS__ 1\n+EOF\n+\n+  cat >> confdefs.h <<\\EOF\n+#define _FILE_OFFSET_BITS 64\n+EOF\n+\n+  cat >> confdefs.h <<\\EOF\n+#define _LARGEFILE_SOURCE 1\n+EOF\n+\n+fi\n+\n+\n LIBTOOL='$(SHELL) ../libtool'\n \n \n test \"$AR\" || AR=ar\n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:740: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:765: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -766,7 +791,7 @@ fi\n \n # Sanity check for the cross-compilation case:\n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:770: checking how to run the C preprocessor\" >&5\n+echo \"configure:795: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -781,13 +806,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 785 \"configure\"\n+#line 810 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:791: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:816: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -798,13 +823,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 802 \"configure\"\n+#line 827 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:808: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:833: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -815,13 +840,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 819 \"configure\"\n+#line 844 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:825: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:850: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -847,17 +872,17 @@ echo \"$ac_t\"\"$CPP\" 1>&6\n \n ac_safe=`echo \"stdio.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for stdio.h\"\"... $ac_c\" 1>&6\n-echo \"configure:851: checking for stdio.h\" >&5\n+echo \"configure:876: checking for stdio.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 856 \"configure\"\n+#line 881 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:861: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:886: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -885,20 +910,20 @@ fi\n \n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:889: checking for ANSI C header files\" >&5\n+echo \"configure:914: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 894 \"configure\"\n+#line 919 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:902: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:927: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -915,7 +940,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 919 \"configure\"\n+#line 944 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -933,7 +958,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 937 \"configure\"\n+#line 962 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -954,7 +979,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 958 \"configure\"\n+#line 983 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -965,7 +990,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:969: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:994: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -989,12 +1014,12 @@ EOF\n fi\n \n echo $ac_n \"checking for posix\"\"... $ac_c\" 1>&6\n-echo \"configure:993: checking for posix\" >&5\n+echo \"configure:1018: checking for posix\" >&5\n if eval \"test \\\"`echo '$''{'g77_cv_header_posix'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 998 \"configure\"\n+#line 1023 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <unistd.h>\n@@ -1020,12 +1045,12 @@ echo \"$ac_t\"\"$g77_cv_header_posix\" 1>&6\n # We can rely on the GNU library being posix-ish.  I guess checking the \n # header isn't actually like checking the functions, though...\n echo $ac_n \"checking for GNU library\"\"... $ac_c\" 1>&6\n-echo \"configure:1024: checking for GNU library\" >&5\n+echo \"configure:1049: checking for GNU library\" >&5\n if eval \"test \\\"`echo '$''{'g77_cv_lib_gnu'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1029 \"configure\"\n+#line 1054 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n #ifdef __GNU_LIBRARY__\n@@ -1049,12 +1074,12 @@ echo \"$ac_t\"\"$g77_cv_lib_gnu\" 1>&6\n \n # Apparently cygwin needs to be special-cased.\n echo $ac_n \"checking for cyg\\`win'32\"\"... $ac_c\" 1>&6\n-echo \"configure:1053: checking for cyg\\`win'32\" >&5\n+echo \"configure:1078: checking for cyg\\`win'32\" >&5\n if eval \"test \\\"`echo '$''{'g77_cv_sys_cygwin32'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1058 \"configure\"\n+#line 1083 \"configure\"\n #include \"confdefs.h\"\n #ifdef __CYGWIN32__\n   yes\n@@ -1077,12 +1102,12 @@ echo \"$ac_t\"\"$g77_cv_sys_cygwin32\" 1>&6\n \n # ditto for mingw32.\n echo $ac_n \"checking for mingw32\"\"... $ac_c\" 1>&6\n-echo \"configure:1081: checking for mingw32\" >&5\n+echo \"configure:1106: checking for mingw32\" >&5\n if eval \"test \\\"`echo '$''{'g77_cv_sys_mingw32'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1086 \"configure\"\n+#line 1111 \"configure\"\n #include \"confdefs.h\"\n #ifdef __MINGW32__\n   yes\n@@ -1105,12 +1130,12 @@ echo \"$ac_t\"\"$g77_cv_sys_mingw32\" 1>&6\n \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:1109: checking for working const\" >&5\n+echo \"configure:1134: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1114 \"configure\"\n+#line 1139 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -1159,7 +1184,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1163: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1188: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -1180,12 +1205,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:1184: checking for size_t\" >&5\n+echo \"configure:1209: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1189 \"configure\"\n+#line 1214 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -1218,12 +1243,12 @@ fi\n # Apparently positive result on cygwin loses re. NON_UNIX_STDIO\n # (as of cygwin b18). Likewise on mingw.\n echo $ac_n \"checking for fstat\"\"... $ac_c\" 1>&6\n-echo \"configure:1222: checking for fstat\" >&5\n+echo \"configure:1247: checking for fstat\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_fstat'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1227 \"configure\"\n+#line 1252 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char fstat(); below.  */\n@@ -1246,7 +1271,7 @@ fstat();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1250: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1275: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_fstat=yes\"\n else\n@@ -1266,7 +1291,7 @@ else\n fi\n \n echo $ac_n \"checking need for NON_UNIX_STDIO\"\"... $ac_c\" 1>&6\n-echo \"configure:1270: checking need for NON_UNIX_STDIO\" >&5\n+echo \"configure:1295: checking need for NON_UNIX_STDIO\" >&5\n if test $g77_cv_sys_cygwin32 = yes \\\n   || test $g77_cv_sys_mingw32 = yes \\\n   || test $ac_cv_func_fstat = no; then\n@@ -1282,12 +1307,12 @@ fi\n for ac_func in fseeko\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1286: checking for $ac_func\" >&5\n+echo \"configure:1311: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1291 \"configure\"\n+#line 1316 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1310,7 +1335,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1314: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1339: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1337,12 +1362,12 @@ done\n for ac_func in ftello\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1341: checking for $ac_func\" >&5\n+echo \"configure:1366: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1346 \"configure\"\n+#line 1371 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1365,7 +1390,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1369: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1394: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1392,12 +1417,12 @@ done\n for ac_func in ftruncate\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1396: checking for $ac_func\" >&5\n+echo \"configure:1421: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1401 \"configure\"\n+#line 1426 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1420,7 +1445,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1424: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1449: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1447,12 +1472,12 @@ done\n for ac_func in mkstemp\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1451: checking for $ac_func\" >&5\n+echo \"configure:1476: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1456 \"configure\"\n+#line 1481 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1475,7 +1500,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1479: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1504: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1502,12 +1527,12 @@ done\n for ac_func in tempnam\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1506: checking for $ac_func\" >&5\n+echo \"configure:1531: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1511 \"configure\"\n+#line 1536 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1530,7 +1555,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1534: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1559: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1557,12 +1582,12 @@ done\n for ac_func in tmpnam\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1561: checking for $ac_func\" >&5\n+echo \"configure:1586: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1566 \"configure\"\n+#line 1591 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1585,7 +1610,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1589: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1614: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1615,19 +1640,19 @@ done\n # However, on my sunos4/gcc setup unistd.h leads us wrongly to believe\n # we're posix-conformant, so always do the test.\n echo $ac_n \"checking for ansi/posix sprintf result\"\"... $ac_c\" 1>&6\n-echo \"configure:1619: checking for ansi/posix sprintf result\" >&5\n+echo \"configure:1644: checking for ansi/posix sprintf result\" >&5\n if test \"$cross_compiling\" = yes; then\n   g77_cv_sys_sprintf_ansi=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1624 \"configure\"\n+#line 1649 \"configure\"\n #include \"confdefs.h\"\n   #include <stdio.h>\n     /* does sprintf return the number of chars transferred? */\n     main () {char foo[2]; (sprintf(foo, \"1\") == 1) ? exit(0) : exit(1);}\n \n EOF\n-if { (eval echo configure:1631: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1656: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   g77_cv_sys_sprintf_ansi=yes\n else\n@@ -1658,9 +1683,9 @@ fi\n \n # define NON_ANSI_RW_MODES on unix (can't hurt)\n echo $ac_n \"checking NON_ANSI_RW_MODES\"\"... $ac_c\" 1>&6\n-echo \"configure:1662: checking NON_ANSI_RW_MODES\" >&5\n+echo \"configure:1687: checking NON_ANSI_RW_MODES\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 1664 \"configure\"\n+#line 1689 \"configure\"\n #include \"confdefs.h\"\n #ifdef unix\n   yes\n@@ -1705,12 +1730,12 @@ EOF\n \n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:1709: checking for off_t\" >&5\n+echo \"configure:1734: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1714 \"configure\"\n+#line 1739 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS"}, {"sha": "40713e091dd4a2b2803105179b3733a3a39de075", "filename": "libf2c/libI77/configure.in", "status": "modified", "additions": 21, "deletions": 12, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6d0530757c48b9a6cd72222ef86e4486457f4a7/libf2c%2FlibI77%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6d0530757c48b9a6cd72222ef86e4486457f4a7/libf2c%2FlibI77%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2Fconfigure.in?ref=c6d0530757c48b9a6cd72222ef86e4486457f4a7", "patch": "@@ -23,18 +23,6 @@ AC_PREREQ(2.12.1)\n AC_INIT(ftell_.c)\n AC_CONFIG_HEADER(config.h)\n \n-# These defines are necessary to get 64-bit file size support.\n-\n-AC_DEFINE(_XOPEN_SOURCE, 500L, [Get Single Unix Specification semantics])\n-# The following is needed by irix6.2 so that struct timeval is declared.\n-AC_DEFINE(_XOPEN_SOURCE_EXTENDED, 1, [Get Single Unix Specification semantics])\n-# The following is needed by Solaris2.5.1 so that struct timeval is declared.\n-AC_DEFINE(__EXTENSIONS__, 1, [Solaris extensions])\n-AC_DEFINE(_FILE_OFFSET_BITS, 64, [Get 64-bit file size support])\n-AC_DEFINE(_LARGEFILE_SOURCE, 1, [Define for HP-UX ftello and fseeko extension.])\n-\n-dnl Checks for programs.\n-\n dnl FIXME AC_PROG_CC wants CC to be able to link things, but it may\n dnl not be able to.\n define([AC_PROG_CC_WORKS],[])\n@@ -43,6 +31,27 @@ define([AC_PROG_CC_WORKS],[])\n # the makefiles\n AC_PROG_CC\n \n+# These defines are necessary to get 64-bit file size support.\n+# NetBSD 1.4 header files does not support XOPEN_SOURCE == 500, but it\n+# handles 64-bit file sizes without needing these defines.\n+AC_MSG_CHECKING(whether _XOPEN_SOURCE may be defined)\n+AC_TRY_COMPILE([#define _XOPEN_SOURCE 500L\n+#include <unistd.h>],,\n+may_use_xopen_source=yes,\n+may_use_xopen_source=no)\n+AC_MSG_RESULT($may_use_xopen_source)\n+if test $may_use_xopen_source = yes; then\n+  AC_DEFINE(_XOPEN_SOURCE, 500L, [Get Single Unix Specification semantics])\n+  # The following is needed by irix6.2 so that struct timeval is declared.\n+  AC_DEFINE(_XOPEN_SOURCE_EXTENDED, 1, [Get Single Unix Specification semantics])\n+  # The following is needed by Solaris2.5.1 so that struct timeval is declared.\n+  AC_DEFINE(__EXTENSIONS__, 1, [Solaris extensions])\n+  AC_DEFINE(_FILE_OFFSET_BITS, 64, [Get 64-bit file size support])\n+  AC_DEFINE(_LARGEFILE_SOURCE, 1, [Define for HP-UX ftello and fseeko extension.])\n+fi\n+\n+dnl Checks for programs.\n+\n LIBTOOL='$(SHELL) ../libtool'\n AC_SUBST(LIBTOOL)\n "}, {"sha": "6b288eeb7448f2947b3131298a93d1b61912fd02", "filename": "libf2c/libU77/configure", "status": "modified", "additions": 113, "deletions": 88, "changes": 201, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6d0530757c48b9a6cd72222ef86e4486457f4a7/libf2c%2FlibU77%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6d0530757c48b9a6cd72222ef86e4486457f4a7/libf2c%2FlibU77%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibU77%2Fconfigure?ref=c6d0530757c48b9a6cd72222ef86e4486457f4a7", "patch": "@@ -523,36 +523,14 @@ fi\n \n \n \n-# These defines are necessary to get 64-bit file size support.\n-\n-cat >> confdefs.h <<\\EOF\n-#define _XOPEN_SOURCE 500L\n-EOF\n-\n-# The following is needed by irix6.2 so that struct timeval is declared.\n-cat >> confdefs.h <<\\EOF\n-#define _XOPEN_SOURCE_EXTENDED 1\n-EOF\n-\n-# The following is needed by Solaris2.5.1 so that struct timeval is declared.\n-cat >> confdefs.h <<\\EOF\n-#define __EXTENSIONS__ 1\n-EOF\n-\n-cat >> confdefs.h <<\\EOF\n-#define _FILE_OFFSET_BITS 64\n-EOF\n-\n-\n-\n \n \n # For g77 we'll set CC to point at the built gcc, but this will get it into\n # the makefiles\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:556: checking for $ac_word\" >&5\n+echo \"configure:534: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -582,7 +560,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:586: checking for $ac_word\" >&5\n+echo \"configure:564: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -633,7 +611,7 @@ fi\n       # Extract the first word of \"cl\", so it can be a program name with args.\n set dummy cl; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:637: checking for $ac_word\" >&5\n+echo \"configure:615: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -666,7 +644,7 @@ fi\n \n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:670: checking whether we are using GNU C\" >&5\n+echo \"configure:648: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -675,7 +653,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:679: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:657: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -694,7 +672,7 @@ ac_test_CFLAGS=\"${CFLAGS+set}\"\n ac_save_CFLAGS=\"$CFLAGS\"\n CFLAGS=\n echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:698: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:676: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -726,6 +704,53 @@ else\n fi\n \n \n+# These defines are necessary to get 64-bit file size support.\n+# NetBSD 1.4 header files does not support XOPEN_SOURCE == 500, but it\n+# handles 64-bit file sizes without needing these defines.\n+echo $ac_n \"checking whether _XOPEN_SOURCE may be defined\"\"... $ac_c\" 1>&6\n+echo \"configure:712: checking whether _XOPEN_SOURCE may be defined\" >&5\n+cat > conftest.$ac_ext <<EOF\n+#line 714 \"configure\"\n+#include \"confdefs.h\"\n+#define _XOPEN_SOURCE 500L\n+#include <unistd.h>\n+int main() {\n+\n+; return 0; }\n+EOF\n+if { (eval echo configure:722: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  may_use_xopen_source=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  may_use_xopen_source=no\n+fi\n+rm -f conftest*\n+echo \"$ac_t\"\"$may_use_xopen_source\" 1>&6\n+if test $may_use_xopen_source = yes; then\n+  cat >> confdefs.h <<\\EOF\n+#define _XOPEN_SOURCE 500L\n+EOF\n+\n+  # The following is needed by irix6.2 so that struct timeval is declared.\n+  cat >> confdefs.h <<\\EOF\n+#define _XOPEN_SOURCE_EXTENDED 1\n+EOF\n+\n+  # The following is needed by Solaris2.5.1 so that struct timeval is declared.\n+  cat >> confdefs.h <<\\EOF\n+#define __EXTENSIONS__ 1\n+EOF\n+\n+  cat >> confdefs.h <<\\EOF\n+#define _FILE_OFFSET_BITS 64\n+EOF\n+\n+fi\n+\n+\n LIBTOOL='$(SHELL) ../libtool'\n \n \n@@ -738,7 +763,7 @@ fi\n test \"$AR\" || AR=ar\n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:742: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:767: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -768,7 +793,7 @@ fi\n # Extract the first word of \"chmod\", so it can be a program name with args.\n set dummy chmod; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:772: checking for $ac_word\" >&5\n+echo \"configure:797: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_ac_cv_prog_chmod'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -812,7 +837,7 @@ else\n fi\n \n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:816: checking how to run the C preprocessor\" >&5\n+echo \"configure:841: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -827,13 +852,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 831 \"configure\"\n+#line 856 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:837: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:862: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -844,13 +869,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 848 \"configure\"\n+#line 873 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:854: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:879: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -861,13 +886,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 865 \"configure\"\n+#line 890 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:871: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:896: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -892,20 +917,20 @@ fi\n echo \"$ac_t\"\"$CPP\" 1>&6\n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:896: checking for ANSI C header files\" >&5\n+echo \"configure:921: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 901 \"configure\"\n+#line 926 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:909: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:934: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -922,7 +947,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 926 \"configure\"\n+#line 951 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -940,7 +965,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 944 \"configure\"\n+#line 969 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -961,7 +986,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 965 \"configure\"\n+#line 990 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -972,7 +997,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:976: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1001: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -996,12 +1021,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether time.h and sys/time.h may both be included\"\"... $ac_c\" 1>&6\n-echo \"configure:1000: checking whether time.h and sys/time.h may both be included\" >&5\n+echo \"configure:1025: checking whether time.h and sys/time.h may both be included\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_time'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1005 \"configure\"\n+#line 1030 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/time.h>\n@@ -1010,7 +1035,7 @@ int main() {\n struct tm *tp;\n ; return 0; }\n EOF\n-if { (eval echo configure:1014: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1039: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_header_time=yes\n else\n@@ -1035,17 +1060,17 @@ for ac_hdr in limits.h unistd.h sys/time.h string.h stdlib.h \\\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:1039: checking for $ac_hdr\" >&5\n+echo \"configure:1064: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1044 \"configure\"\n+#line 1069 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1049: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1074: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1073,12 +1098,12 @@ done\n \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:1077: checking for working const\" >&5\n+echo \"configure:1102: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1082 \"configure\"\n+#line 1107 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -1127,7 +1152,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1131: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1156: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -1148,12 +1173,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:1152: checking for size_t\" >&5\n+echo \"configure:1177: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1157 \"configure\"\n+#line 1182 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -1181,12 +1206,12 @@ EOF\n fi\n \n echo $ac_n \"checking for mode_t\"\"... $ac_c\" 1>&6\n-echo \"configure:1185: checking for mode_t\" >&5\n+echo \"configure:1210: checking for mode_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_mode_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1190 \"configure\"\n+#line 1215 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -1215,12 +1240,12 @@ fi\n \n \n echo $ac_n \"checking for pid_t\"\"... $ac_c\" 1>&6\n-echo \"configure:1219: checking for pid_t\" >&5\n+echo \"configure:1244: checking for pid_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_pid_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1224 \"configure\"\n+#line 1249 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -1248,20 +1273,20 @@ EOF\n fi\n \n echo $ac_n \"checking for st_blksize in struct stat\"\"... $ac_c\" 1>&6\n-echo \"configure:1252: checking for st_blksize in struct stat\" >&5\n+echo \"configure:1277: checking for st_blksize in struct stat\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_struct_st_blksize'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1257 \"configure\"\n+#line 1282 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/stat.h>\n int main() {\n struct stat s; s.st_blksize;\n ; return 0; }\n EOF\n-if { (eval echo configure:1265: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1290: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_struct_st_blksize=yes\n else\n@@ -1282,20 +1307,20 @@ EOF\n fi\n \n echo $ac_n \"checking for st_blocks in struct stat\"\"... $ac_c\" 1>&6\n-echo \"configure:1286: checking for st_blocks in struct stat\" >&5\n+echo \"configure:1311: checking for st_blocks in struct stat\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_struct_st_blocks'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1291 \"configure\"\n+#line 1316 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/stat.h>\n int main() {\n struct stat s; s.st_blocks;\n ; return 0; }\n EOF\n-if { (eval echo configure:1299: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1324: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_struct_st_blocks=yes\n else\n@@ -1318,20 +1343,20 @@ else\n fi\n \n echo $ac_n \"checking for st_rdev in struct stat\"\"... $ac_c\" 1>&6\n-echo \"configure:1322: checking for st_rdev in struct stat\" >&5\n+echo \"configure:1347: checking for st_rdev in struct stat\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_struct_st_rdev'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1327 \"configure\"\n+#line 1352 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/stat.h>\n int main() {\n struct stat s; s.st_rdev;\n ; return 0; }\n EOF\n-if { (eval echo configure:1335: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1360: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_struct_st_rdev=yes\n else\n@@ -1352,20 +1377,20 @@ EOF\n fi\n \n echo $ac_n \"checking whether struct tm is in sys/time.h or time.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1356: checking whether struct tm is in sys/time.h or time.h\" >&5\n+echo \"configure:1381: checking whether struct tm is in sys/time.h or time.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_struct_tm'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1361 \"configure\"\n+#line 1386 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <time.h>\n int main() {\n struct tm *tp; tp->tm_sec;\n ; return 0; }\n EOF\n-if { (eval echo configure:1369: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1394: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_struct_tm=time.h\n else\n@@ -1387,15 +1412,15 @@ fi\n \n \n echo $ac_n \"checking for gethostname in -lsocket\"\"... $ac_c\" 1>&6\n-echo \"configure:1391: checking for gethostname in -lsocket\" >&5\n+echo \"configure:1416: checking for gethostname in -lsocket\" >&5\n ac_lib_var=`echo socket'_'gethostname | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lsocket  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 1399 \"configure\"\n+#line 1424 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -1406,7 +1431,7 @@ int main() {\n gethostname()\n ; return 0; }\n EOF\n-if { (eval echo configure:1410: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1435: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -1432,12 +1457,12 @@ for ac_func in symlink getcwd getwd lstat gethostname strerror clock \\\n   getrusage times alarm getlogin getgid getuid kill link ttyname\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1436: checking for $ac_func\" >&5\n+echo \"configure:1461: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1441 \"configure\"\n+#line 1466 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1460,7 +1485,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1464: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1489: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1489,12 +1514,12 @@ done\n   for ac_func in gettimeofday\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1493: checking for $ac_func\" >&5\n+echo \"configure:1518: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1498 \"configure\"\n+#line 1523 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1517,7 +1542,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1521: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1546: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1543,19 +1568,19 @@ done\n \n   if test \"$ac_cv_func_gettimeofday\" = yes; then\n     echo $ac_n \"checking for struct timezone\"\"... $ac_c\" 1>&6\n-echo \"configure:1547: checking for struct timezone\" >&5\n+echo \"configure:1572: checking for struct timezone\" >&5\n if eval \"test \\\"`echo '$''{'g77_cv_struct_timezone'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1552 \"configure\"\n+#line 1577 \"configure\"\n #include \"confdefs.h\"\n #include <sys/time.h>\n int main() {\n struct timezone tz;\n ; return 0; }\n EOF\n-if { (eval echo configure:1559: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1584: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   g77_cv_struct_timezone=yes\n else\n@@ -1576,7 +1601,7 @@ EOF\n \n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1580 \"configure\"\n+#line 1605 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef TIME_WITH_SYS_TIME\n@@ -1599,7 +1624,7 @@ main ()\n     exit (0);\n }\n EOF\n-if { (eval echo configure:1603: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1628: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   cat >> confdefs.h <<\\EOF\n #define HAVE_TIMEZONE 1\n@@ -1615,12 +1640,12 @@ fi\n     fi\n     \n     echo $ac_n \"checking whether gettimeofday can accept two arguments\"\"... $ac_c\" 1>&6\n-echo \"configure:1619: checking whether gettimeofday can accept two arguments\" >&5\n+echo \"configure:1644: checking whether gettimeofday can accept two arguments\" >&5\n if eval \"test \\\"`echo '$''{'emacs_cv_gettimeofday_two_arguments'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1624 \"configure\"\n+#line 1649 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef TIME_WITH_SYS_TIME\n@@ -1646,7 +1671,7 @@ int main() {\n       gettimeofday (&time, DUMMY);\n ; return 0; }\n EOF\n-if { (eval echo configure:1650: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1675: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   emacs_cv_gettimeofday_two_arguments=yes\n else"}, {"sha": "b0e0aed6bf03671da243ee9e071dc21e5feac064", "filename": "libf2c/libU77/configure.in", "status": "modified", "additions": 20, "deletions": 11, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6d0530757c48b9a6cd72222ef86e4486457f4a7/libf2c%2FlibU77%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6d0530757c48b9a6cd72222ef86e4486457f4a7/libf2c%2FlibU77%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibU77%2Fconfigure.in?ref=c6d0530757c48b9a6cd72222ef86e4486457f4a7", "patch": "@@ -23,17 +23,6 @@ AC_PREREQ(2.12.1)\n AC_INIT(access_.c)\n AC_CONFIG_HEADER(config.h:config.hin)\n \n-# These defines are necessary to get 64-bit file size support.\n-\n-AC_DEFINE(_XOPEN_SOURCE, 500L, [Get Single Unix Specification semantics])\n-# The following is needed by irix6.2 so that struct timeval is declared.\n-AC_DEFINE(_XOPEN_SOURCE_EXTENDED, 1, [Get Single Unix Specification semantics])\n-# The following is needed by Solaris2.5.1 so that struct timeval is declared.\n-AC_DEFINE(__EXTENSIONS__, 1, [Solaris extensions])\n-AC_DEFINE(_FILE_OFFSET_BITS, 64, [Get 64-bit file size support])\n-\n-dnl Checks for programs.\n-\n dnl FIXME AC_PROG_CC wants CC to be able to link things, but it may\n dnl not be able to.\n define([AC_PROG_CC_WORKS],[])\n@@ -42,6 +31,26 @@ define([AC_PROG_CC_WORKS],[])\n # the makefiles\n AC_PROG_CC\n \n+# These defines are necessary to get 64-bit file size support.\n+# NetBSD 1.4 header files does not support XOPEN_SOURCE == 500, but it\n+# handles 64-bit file sizes without needing these defines.\n+AC_MSG_CHECKING(whether _XOPEN_SOURCE may be defined)\n+AC_TRY_COMPILE([#define _XOPEN_SOURCE 500L\n+#include <unistd.h>],,\n+may_use_xopen_source=yes,\n+may_use_xopen_source=no)\n+AC_MSG_RESULT($may_use_xopen_source)\n+if test $may_use_xopen_source = yes; then\n+  AC_DEFINE(_XOPEN_SOURCE, 500L, [Get Single Unix Specification semantics])\n+  # The following is needed by irix6.2 so that struct timeval is declared.\n+  AC_DEFINE(_XOPEN_SOURCE_EXTENDED, 1, [Get Single Unix Specification semantics])\n+  # The following is needed by Solaris2.5.1 so that struct timeval is declared.\n+  AC_DEFINE(__EXTENSIONS__, 1, [Solaris extensions])\n+  AC_DEFINE(_FILE_OFFSET_BITS, 64, [Get 64-bit file size support])\n+fi\n+\n+dnl Checks for programs.\n+\n LIBTOOL='$(SHELL) ../libtool'\n AC_SUBST(LIBTOOL)\n "}]}