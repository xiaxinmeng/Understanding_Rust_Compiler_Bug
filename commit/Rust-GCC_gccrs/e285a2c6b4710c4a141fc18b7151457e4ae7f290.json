{"sha": "e285a2c6b4710c4a141fc18b7151457e4ae7f290", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTI4NWEyYzZiNDcxMGM0YTE0MWZjMThiNzE1MTQ1N2U0YWU3ZjI5MA==", "commit": {"author": {"name": "Paul Koning", "email": "ni1d@arrl.net", "date": "2010-11-09T01:07:14Z"}, "committer": {"name": "Paul Koning", "email": "pkoning@gcc.gnu.org", "date": "2010-11-09T01:07:14Z"}, "message": "pdp11.c (pdp11_assemble_integer): Mask byte values to 8 bits.\n\n* config/pdp11/pdp11.c (pdp11_assemble_integer): Mask byte values\nto 8 bits.\n\nFrom-SVN: r166466", "tree": {"sha": "783c74a2aca8089d71f147be56b67141a4da6e81", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/783c74a2aca8089d71f147be56b67141a4da6e81"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e285a2c6b4710c4a141fc18b7151457e4ae7f290", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e285a2c6b4710c4a141fc18b7151457e4ae7f290", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e285a2c6b4710c4a141fc18b7151457e4ae7f290", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e285a2c6b4710c4a141fc18b7151457e4ae7f290/comments", "author": null, "committer": null, "parents": [{"sha": "a193ead3a36959d89050215b74470318416f3c21", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a193ead3a36959d89050215b74470318416f3c21", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a193ead3a36959d89050215b74470318416f3c21"}], "stats": {"total": 14, "additions": 10, "deletions": 4}, "files": [{"sha": "8bd5348c97cbe343334a3d80bed75b9b1de928d3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e285a2c6b4710c4a141fc18b7151457e4ae7f290/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e285a2c6b4710c4a141fc18b7151457e4ae7f290/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e285a2c6b4710c4a141fc18b7151457e4ae7f290", "patch": "@@ -1,3 +1,8 @@\n+2010-11-08  Paul Koning  <ni1d@arrl.net>\n+\n+\t* config/pdp11/pdp11.c (pdp11_assemble_integer): Mask byte values\n+\tto 8 bits.\n+\n 2010-11-08  Michael Meissner  <meissner@linux.vnet.ibm.com>\n \n \tPR target/46378"}, {"sha": "a9c758b454860bba86a6043610c3bdbcbc2518b7", "filename": "gcc/config/pdp11/pdp11.c", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e285a2c6b4710c4a141fc18b7151457e4ae7f290/gcc%2Fconfig%2Fpdp11%2Fpdp11.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e285a2c6b4710c4a141fc18b7151457e4ae7f290/gcc%2Fconfig%2Fpdp11%2Fpdp11.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpdp11%2Fpdp11.c?ref=e285a2c6b4710c4a141fc18b7151457e4ae7f290", "patch": "@@ -1002,7 +1002,10 @@ pdp11_assemble_integer (rtx x, unsigned int size, int aligned_p)\n       {\n       case 1:\n \tfprintf (asm_out_file, \"\\t.byte\\t\");\n-\toutput_addr_const_pdp11 (asm_out_file, x);\n+\toutput_addr_const_pdp11 (asm_out_file, \n+\t\t\t\t GEN_INT (trunc_int_for_mode (INTVAL (x),\n+\t\t\t\t\t\t\t      QImode) & 0xff));\n+;\n \tfprintf (asm_out_file, \" /* char */\\n\");\n \treturn true;\n \n@@ -1739,9 +1742,7 @@ output_addr_const_pdp11 (FILE *file, rtx x)\n       break;\n \n     case CONST_INT:\n-      /* Should we check for constants which are too big?  Maybe cutting\n-\t them off to 16 bits is OK?  */\n-      fprintf (file, \"%#ho\", (unsigned short) INTVAL (x));\n+      fprintf (file, \"%#o\", (int) trunc_int_for_mode (INTVAL (x), HImode) & 0xffff);\n       break;\n \n     case CONST:"}]}