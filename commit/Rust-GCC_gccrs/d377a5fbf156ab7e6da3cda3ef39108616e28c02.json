{"sha": "d377a5fbf156ab7e6da3cda3ef39108616e28c02", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDM3N2E1ZmJmMTU2YWI3ZTZkYTNjZGEzZWYzOTEwODYxNmUyOGMwMg==", "commit": {"author": {"name": "David S. Miller", "email": "davem@davemloft.net", "date": "2011-10-24T04:15:46Z"}, "committer": {"name": "David S. Miller", "email": "davem@gcc.gnu.org", "date": "2011-10-24T04:15:46Z"}, "message": "Fix sol2 sparc -mv8 regression.\n\n\t* config/sparc/sparc.c (sparc_option_override): Remove -mv8plus\n\tcpu adjustment.\n\t* config/sparc/linux64.h (CC1_SPEC): When defaulting to 64-bit,\n\tappend -mcpu=v9 when -mv8plus is given.\n\nFrom-SVN: r180362", "tree": {"sha": "4c3b1194783e516c7331333dc2fdda1325cfe3e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4c3b1194783e516c7331333dc2fdda1325cfe3e4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d377a5fbf156ab7e6da3cda3ef39108616e28c02", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d377a5fbf156ab7e6da3cda3ef39108616e28c02", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d377a5fbf156ab7e6da3cda3ef39108616e28c02", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d377a5fbf156ab7e6da3cda3ef39108616e28c02/comments", "author": {"login": "davem330", "id": 1053866, "node_id": "MDQ6VXNlcjEwNTM4NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1053866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davem330", "html_url": "https://github.com/davem330", "followers_url": "https://api.github.com/users/davem330/followers", "following_url": "https://api.github.com/users/davem330/following{/other_user}", "gists_url": "https://api.github.com/users/davem330/gists{/gist_id}", "starred_url": "https://api.github.com/users/davem330/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davem330/subscriptions", "organizations_url": "https://api.github.com/users/davem330/orgs", "repos_url": "https://api.github.com/users/davem330/repos", "events_url": "https://api.github.com/users/davem330/events{/privacy}", "received_events_url": "https://api.github.com/users/davem330/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b7190f2fc6ea307d8238910edb47007cd48cd486", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7190f2fc6ea307d8238910edb47007cd48cd486", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7190f2fc6ea307d8238910edb47007cd48cd486"}], "stats": {"total": 11, "additions": 7, "deletions": 4}, "files": [{"sha": "54e1a4f5f75c18454953d02b389f5e3002cc837d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d377a5fbf156ab7e6da3cda3ef39108616e28c02/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d377a5fbf156ab7e6da3cda3ef39108616e28c02/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d377a5fbf156ab7e6da3cda3ef39108616e28c02", "patch": "@@ -1,5 +1,10 @@\n 2011-10-23  David S. Miller  <davem@davemloft.net>\n \n+\t* config/sparc/sparc.c (sparc_option_override): Remove -mv8plus\n+\tcpu adjustment.\n+\t* config/sparc/linux64.h (CC1_SPEC): When defaulting to 64-bit,\n+\tappend -mcpu=v9 when -mv8plus is given.\n+\n \t* config/sparc/sparc.h (SECONDARY_MEMORY_NEEDED): We can move\n \tbetween float and non-float regs when VIS3.\n \t* config/sparc/sparc.c (eligible_for_restore_insn): We can't"}, {"sha": "7604fa054d029f886ec8bb2a2aa5396e15fd4f89", "filename": "gcc/config/sparc/linux64.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d377a5fbf156ab7e6da3cda3ef39108616e28c02/gcc%2Fconfig%2Fsparc%2Flinux64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d377a5fbf156ab7e6da3cda3ef39108616e28c02/gcc%2Fconfig%2Fsparc%2Flinux64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Flinux64.h?ref=d377a5fbf156ab7e6da3cda3ef39108616e28c02", "patch": "@@ -166,6 +166,8 @@ extern const char *host_detect_local_cpu (int argc, const char **argv);\n %{m32:%{m64:%emay not use both -m32 and -m64}} \\\n %{m32:-mptr32 -mno-stack-bias %{!mlong-double-128:-mlong-double-64} \\\n   %{!mcpu*:-mcpu=cypress}} \\\n+%{mv8plus:-mptr32 -mno-stack-bias %{!mlong-double-128:-mlong-double-64} \\\n+  %{!mcpu*:-mcpu=v9}} \\\n %{!m32:%{!mcpu*:-mcpu=ultrasparc}} \\\n %{!mno-vis:%{!m32:%{!mcpu=v9:-mvis}}} \\\n \""}, {"sha": "29d2922ba9227904ad758ecaa8f4be21d34089f6", "filename": "gcc/config/sparc/sparc.c", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d377a5fbf156ab7e6da3cda3ef39108616e28c02/gcc%2Fconfig%2Fsparc%2Fsparc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d377a5fbf156ab7e6da3cda3ef39108616e28c02/gcc%2Fconfig%2Fsparc%2Fsparc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.c?ref=d377a5fbf156ab7e6da3cda3ef39108616e28c02", "patch": "@@ -1029,10 +1029,6 @@ sparc_option_override (void)\n       sparc_cpu_and_features = def->processor;\n     }\n \n-  if ((target_flags & MASK_V8PLUS)\n-      && sparc_cpu_and_features < PROCESSOR_V9)\n-    sparc_cpu_and_features = PROCESSOR_V9;\n-\n   if (!global_options_set.x_sparc_cpu)\n     sparc_cpu = sparc_cpu_and_features;\n "}]}