{"sha": "268143a480cf8e4142db3ebb2dadaf924f6f3303", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjY4MTQzYTQ4MGNmOGU0MTQyZGIzZWJiMmRhZGFmOTI0ZjZmMzMwMw==", "commit": {"author": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2016-06-01T11:55:35Z"}, "committer": {"name": "Thomas Schwinge", "email": "tschwinge@gcc.gnu.org", "date": "2016-06-01T11:55:35Z"}, "message": "Remove the unused OMP_CLAUSE_DEVICE_RESIDENT\n\n\tgcc/\n\t* tree-core.h (enum omp_clause_code): Remove\n\tOMP_CLAUSE_DEVICE_RESIDENT.  Adjust all users.\n\nFrom-SVN: r236985", "tree": {"sha": "9aeeb7f3e42057f3b9ed81a63190c2b9c0fab1b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9aeeb7f3e42057f3b9ed81a63190c2b9c0fab1b3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/268143a480cf8e4142db3ebb2dadaf924f6f3303", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/268143a480cf8e4142db3ebb2dadaf924f6f3303", "html_url": "https://github.com/Rust-GCC/gccrs/commit/268143a480cf8e4142db3ebb2dadaf924f6f3303", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/268143a480cf8e4142db3ebb2dadaf924f6f3303/comments", "author": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "4272cd33e14916f16370814f1dcf9b3d31b50893", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4272cd33e14916f16370814f1dcf9b3d31b50893", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4272cd33e14916f16370814f1dcf9b3d31b50893"}], "stats": {"total": 24, "additions": 5, "deletions": 19}, "files": [{"sha": "58fea2fca683b972fd843eed9ec2eab4e855a8e1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/268143a480cf8e4142db3ebb2dadaf924f6f3303/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/268143a480cf8e4142db3ebb2dadaf924f6f3303/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=268143a480cf8e4142db3ebb2dadaf924f6f3303", "patch": "@@ -1,3 +1,8 @@\n+2016-06-01  Thomas Schwinge  <thomas@codesourcery.com>\n+\n+\t* tree-core.h (enum omp_clause_code): Remove\n+\tOMP_CLAUSE_DEVICE_RESIDENT.  Adjust all users.\n+\n 2016-06-01  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n \n \t* config/arm/sync.md (arm_store_exclusive<mode>):"}, {"sha": "d3276f9331f7dfb58fef6b2610cc36e2252691f1", "filename": "gcc/fortran/trans-openmp.c", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/268143a480cf8e4142db3ebb2dadaf924f6f3303/gcc%2Ffortran%2Ftrans-openmp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/268143a480cf8e4142db3ebb2dadaf924f6f3303/gcc%2Ffortran%2Ftrans-openmp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-openmp.c?ref=268143a480cf8e4142db3ebb2dadaf924f6f3303", "patch": "@@ -1773,9 +1773,6 @@ gfc_trans_omp_clauses (stmtblock_t *block, gfc_omp_clauses *clauses,\n \tcase OMP_LIST_USE_DEVICE:\n \t  clause_code = OMP_CLAUSE_USE_DEVICE_PTR;\n \t  goto add_clause;\n-\tcase OMP_LIST_DEVICE_RESIDENT:\n-\t  clause_code = OMP_CLAUSE_DEVICE_RESIDENT;\n-\t  goto add_clause;\n \n \tadd_clause:\n \t  omp_clauses"}, {"sha": "131fa2433ce1da0dca9b6b028f33b0a228d02212", "filename": "gcc/gimplify.c", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/268143a480cf8e4142db3ebb2dadaf924f6f3303/gcc%2Fgimplify.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/268143a480cf8e4142db3ebb2dadaf924f6f3303/gcc%2Fgimplify.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimplify.c?ref=268143a480cf8e4142db3ebb2dadaf924f6f3303", "patch": "@@ -7538,10 +7538,6 @@ gimplify_scan_omp_clauses (tree *list_p, gimple_seq *pre_p,\n \t    }\n \t  break;\n \n-\tcase OMP_CLAUSE_DEVICE_RESIDENT:\n-\t  remove = true;\n-\t  break;\n-\n \tcase OMP_CLAUSE_NOWAIT:\n \tcase OMP_CLAUSE_ORDERED:\n \tcase OMP_CLAUSE_UNTIED:\n@@ -8275,7 +8271,6 @@ gimplify_adjust_omp_clauses (gimple_seq *pre_p, gimple_seq body, tree *list_p,\n \tcase OMP_CLAUSE__CILK_FOR_COUNT_:\n \tcase OMP_CLAUSE_ASYNC:\n \tcase OMP_CLAUSE_WAIT:\n-\tcase OMP_CLAUSE_DEVICE_RESIDENT:\n \tcase OMP_CLAUSE_INDEPENDENT:\n \tcase OMP_CLAUSE_NUM_GANGS:\n \tcase OMP_CLAUSE_NUM_WORKERS:"}, {"sha": "77bdb1810e6101b88afa91fa111f283ee934349c", "filename": "gcc/omp-low.c", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/268143a480cf8e4142db3ebb2dadaf924f6f3303/gcc%2Fomp-low.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/268143a480cf8e4142db3ebb2dadaf924f6f3303/gcc%2Fomp-low.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fomp-low.c?ref=268143a480cf8e4142db3ebb2dadaf924f6f3303", "patch": "@@ -2200,7 +2200,6 @@ scan_sharing_clauses (tree clauses, omp_context *ctx,\n \t    install_var_local (decl, ctx);\n \t  break;\n \n-\tcase OMP_CLAUSE_DEVICE_RESIDENT:\n \tcase OMP_CLAUSE__CACHE_:\n \t  sorry (\"Clause not supported yet\");\n \t  break;\n@@ -2368,7 +2367,6 @@ scan_sharing_clauses (tree clauses, omp_context *ctx,\n \tcase OMP_CLAUSE__GRIDDIM_:\n \t  break;\n \n-\tcase OMP_CLAUSE_DEVICE_RESIDENT:\n \tcase OMP_CLAUSE__CACHE_:\n \t  sorry (\"Clause not supported yet\");\n \t  break;"}, {"sha": "db5b470ea6e7cc130eb12de0e00efee148e22d08", "filename": "gcc/tree-core.h", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/268143a480cf8e4142db3ebb2dadaf924f6f3303/gcc%2Ftree-core.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/268143a480cf8e4142db3ebb2dadaf924f6f3303/gcc%2Ftree-core.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-core.h?ref=268143a480cf8e4142db3ebb2dadaf924f6f3303", "patch": "@@ -316,9 +316,6 @@ enum omp_clause_code {\n      #pragma acc cache (variable-list).  */\n   OMP_CLAUSE__CACHE_,\n \n-  /* OpenACC clause: device_resident (variable_list).  */\n-  OMP_CLAUSE_DEVICE_RESIDENT,\n-\n   /* OpenACC clause: gang [(gang-argument-list)].\n      Where\n       gang-argument-list: [gang-argument-list, ] gang-argument"}, {"sha": "734ecda7c56d0213d0de062c96205671c51e9f0b", "filename": "gcc/tree-pretty-print.c", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/268143a480cf8e4142db3ebb2dadaf924f6f3303/gcc%2Ftree-pretty-print.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/268143a480cf8e4142db3ebb2dadaf924f6f3303/gcc%2Ftree-pretty-print.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-pretty-print.c?ref=268143a480cf8e4142db3ebb2dadaf924f6f3303", "patch": "@@ -407,9 +407,6 @@ dump_omp_clause (pretty_printer *pp, tree clause, int spc, int flags)\n     case OMP_CLAUSE__LOOPTEMP_:\n       name = \"_looptemp_\";\n       goto print_remap;\n-    case OMP_CLAUSE_DEVICE_RESIDENT:\n-      name = \"device_resident\";\n-      goto print_remap;\n     case OMP_CLAUSE_TO_DECLARE:\n       name = \"to\";\n       goto print_remap;"}, {"sha": "7511d0a6442459e8a46d557e6bf1ab0ffcb47208", "filename": "gcc/tree.c", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/268143a480cf8e4142db3ebb2dadaf924f6f3303/gcc%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/268143a480cf8e4142db3ebb2dadaf924f6f3303/gcc%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.c?ref=268143a480cf8e4142db3ebb2dadaf924f6f3303", "patch": "@@ -281,7 +281,6 @@ unsigned const char omp_clause_num_ops[] =\n   1, /* OMP_CLAUSE_USE_DEVICE_PTR  */\n   1, /* OMP_CLAUSE_IS_DEVICE_PTR  */\n   2, /* OMP_CLAUSE__CACHE_  */\n-  1, /* OMP_CLAUSE_DEVICE_RESIDENT  */\n   2, /* OMP_CLAUSE_GANG  */\n   1, /* OMP_CLAUSE_ASYNC  */\n   1, /* OMP_CLAUSE_WAIT  */\n@@ -353,7 +352,6 @@ const char * const omp_clause_code_name[] =\n   \"use_device_ptr\",\n   \"is_device_ptr\",\n   \"_cache_\",\n-  \"device_resident\",\n   \"gang\",\n   \"async\",\n   \"wait\",\n@@ -11764,7 +11762,6 @@ walk_tree_1 (tree *tp, walk_tree_fn func, void *data,\n \t  WALK_SUBTREE (OMP_CLAUSE_OPERAND (*tp, 1));\n \t  /* FALLTHRU */\n \n-\tcase OMP_CLAUSE_DEVICE_RESIDENT:\n \tcase OMP_CLAUSE_ASYNC:\n \tcase OMP_CLAUSE_WAIT:\n \tcase OMP_CLAUSE_WORKER:"}]}