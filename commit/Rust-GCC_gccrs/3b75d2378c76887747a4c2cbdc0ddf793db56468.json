{"sha": "3b75d2378c76887747a4c2cbdc0ddf793db56468", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2I3NWQyMzc4Yzc2ODg3NzQ3YTRjMmNiZGMwZGRmNzkzZGI1NjQ2OA==", "commit": {"author": {"name": "Andreas Jaeger", "email": "aj@gcc.gnu.org", "date": "2002-11-20T15:18:53Z"}, "committer": {"name": "Andreas Jaeger", "email": "aj@gcc.gnu.org", "date": "2002-11-20T15:18:53Z"}, "message": "libtool.m4 (libtool_flags): Add patch from libtool CVS...\n\n\t* libtool.m4 (libtool_flags): Add patch from libtool CVS: Support\n\tlinking of 32-bit libraries with ld on the x86-64, ppc64, s390x\n\tand sparc64 GNU/Linux systems.\n\nFrom-SVN: r59304", "tree": {"sha": "d61573405a2e44a99338ab463a2d060f3c70e9ee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d61573405a2e44a99338ab463a2d060f3c70e9ee"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3b75d2378c76887747a4c2cbdc0ddf793db56468", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b75d2378c76887747a4c2cbdc0ddf793db56468", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b75d2378c76887747a4c2cbdc0ddf793db56468", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b75d2378c76887747a4c2cbdc0ddf793db56468/comments", "author": null, "committer": null, "parents": [{"sha": "6d1d1db0447e3ef7ca9019487668923b7cffe865", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d1d1db0447e3ef7ca9019487668923b7cffe865", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d1d1db0447e3ef7ca9019487668923b7cffe865"}], "stats": {"total": 120, "additions": 84, "deletions": 36}, "files": [{"sha": "1832fa493cdab8cbc8bb3b3c050577443ef8938e", "filename": "ChangeLog", "status": "modified", "additions": 42, "deletions": 36, "changes": 78, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b75d2378c76887747a4c2cbdc0ddf793db56468/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b75d2378c76887747a4c2cbdc0ddf793db56468/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=3b75d2378c76887747a4c2cbdc0ddf793db56468", "patch": "@@ -1,3 +1,9 @@\n+2002-11-19  Andreas Jaeger  <aj@suse.de>\n+\n+\t* libtool.m4 (libtool_flags): Add patch from libtool CVS: Support\n+\tlinking of 32-bit libraries with ld on the x86-64, ppc64, s390x\n+\tand sparc64 GNU/Linux systems.\n+\n 2002-11-19  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* MAINTAINERS: Update email.\n@@ -1568,8 +1574,8 @@ Mon Apr 23 09:15:03 2001  Anthony Green  <green@redhat.com>\n 2000-12-13  Anthony Green  <green@redhat.com>\n \n \t* configure.in: Disable libgcj for any target not specifically\n- \tlisted.  Disable libgcj for x86 and Alpha Linux until compatible\n- \twith g++ abi.\n+\tlisted.  Disable libgcj for x86 and Alpha Linux until compatible\n+\twith g++ abi.\n \n 2000-12-13  Mike Stump  <mrs@wrs.com>\n \n@@ -2073,7 +2079,7 @@ Tue May 16 09:57:35 2000  Andrew Cagney  <cagney@b1.cygnus.com>\n \n \tWed Apr 26 17:03:53 2000 Andrew Cagney <cagney@b1.cygnus.com>:\n \t* Makefile.in (do-djunpack): New target. Update djunpack.bat with\n- \tcurrent version information.  Add to proto-toplev directory.\n+\tcurrent version information.  Add to proto-toplev directory.\n \t(gdb-taz): Build do-djunpack.\n \n 2000-05-15  David Edelsohn  <edelsohn@gnu.org>\n@@ -2117,9 +2123,9 @@ Sat May  6 21:12:55 CDT 2000  Jason Eckhardt  <jle@cygnus.com>\n Wed Apr 19 12:46:26 2000  Andrew Cagney  <cagney@b1.cygnus.com>\n \n \t* Makefile.in (taz, gdb-taz, gas.tar.bz2, binutils.tar.bz2,\n- \tgas+binutils.tar.bz2, libg++.tar.bz2, gnats.tar.bz2, gdb.tar.bz2,\n- \tdejagnu.tar.bz2, gdb+dejagnu.tar.bz2, insight.tar.bz2,\n- \tinsight+dejagnu.tar.bz2, newlib.tar.bz2): Pass MD5PROG to sub-make.\n+\tgas+binutils.tar.bz2, libg++.tar.bz2, gnats.tar.bz2, gdb.tar.bz2,\n+\tdejagnu.tar.bz2, gdb+dejagnu.tar.bz2, insight.tar.bz2,\n+\tinsight+dejagnu.tar.bz2, newlib.tar.bz2): Pass MD5PROG to sub-make.\n \n 2000-04-16  Dave Pitts  <dpitts@cozx.com>\n \n@@ -2138,11 +2144,11 @@ Wed Apr 12 16:42:48 2000  Andrew Cagney  <cagney@b1.cygnus.com>\n \t(PACKAGE): Default to TOOL.\n \t(VER): Default to a shell script.\n \t(taz): Rewrite target.  Move real work to do-proto-toplev.  Include\n- \tmd5 checksum generation.\n+\tmd5 checksum generation.\n \t(do-proto-toplev): New target. Create $(PACKAGE)-$(VER) link.\n \t(do-tar-bz2): Delete creation of $(PACKAGE)-$(VER) link.\n \t(gdb.tar.bz2, dejagnu.tar.bz2, gdb+dejagnu.tar.bz2,\n- \tinsight.tar.bz2): Use gdb-taz to create archive.\n+\tinsight.tar.bz2): Use gdb-taz to create archive.\n \n Fri Apr  7 18:10:29 2000  Andrew Cagney  <cagney@b1.cygnus.com>\n \n@@ -2187,7 +2193,7 @@ Fri Mar  3 18:44:08 2000  Andrew Cagney  <cagney@b1.cygnus.com>\n \t(do-tar-bz2): Replace TOOL with PACKAGE.\n \t(gdb.tar.bz2): Remove GDBTK from GDB package.\n \t(gdb+dejagnu.tar.bz2, insight.tar.bz2, insight+dejagnu.tar.bz2,\n- \tdejagnu.tar.bz2): New packages.\n+\tdejagnu.tar.bz2): New packages.\n \n 2000-02-27  Andreas Jaeger  <aj@suse.de>\n \n@@ -2205,7 +2211,7 @@ Fri Mar  3 18:44:08 2000  Andrew Cagney  <cagney@b1.cygnus.com>\n Thu Feb 24 16:15:56 2000  Andrew Cagney  <cagney@b1.cygnus.com>\n \n \t* config.guess, config.sub: Updated to match config's 2000-02-15\n- \tversion.\n+\tversion.\n \n 2000-02-23  Linas Vepstas <linas@linas.org>\n \n@@ -2566,7 +2572,7 @@ Wed Mar 10 18:35:07 1999  Jeff Johnston  <jjohnstn@cygnus.com>\n Wed Mar 10 17:39:09 1999  Drew Moseley  <dmoseley@cygnus.com>\n \n \t* configure.in: Added bsp support to arm-*-coff and arm-*-elf\n- \ttargets.\n+\ttargets.\n \n 1999-03-02  Nick Clifton  <nickc@cygnus.com>\n \n@@ -2694,7 +2700,7 @@ Thu Dec 17 01:22:30 1998  Jeffrey A Law  (law@cygnus.com)\n Tue Dec 15 17:02:58 1998  Bob Manson  <manson@charmed.cygnus.com>\n \n \t* configure.in: Add cygmon for x86-coff and x86-elf. Configure\n- \tcygmon for all sparclite targets, regardless of object format.\n+\tcygmon for all sparclite targets, regardless of object format.\n \n 1998-12-15  Mark Salter  <msalter@cygnus.com>\n \n@@ -3081,7 +3087,7 @@ Sat Jun 27 22:46:32 1998  Jeffrey A Law  (law@cygnus.com)\n Wed Jun 24 16:01:59 1998  John Metzler  <jmetzler@cygnus.com>\n \n \t* configure.in (noconfigdirs): Add configure pattern for mips tx39\n- \tcygmon\n+\tcygmon\n \n Tue Jun 23 22:42:32 1998  Mark Alexander  <marka@cygnus.com>\n \n@@ -3733,7 +3739,7 @@ Mon Sep 29 00:38:08 1997 Aaron Jackson <jackson@negril.msrce.howard.edu>\n Wed Sep 24 18:06:27 1997  Stu Grossman  <grossman@babylon-5.cygnus.com>\n \n \t* configure.in (d30v):  Remove tcl, tk, expect, gdb, itcl, tix, db,\n- \tsn, and gnuserv from noconfigdirs.\n+\tsn, and gnuserv from noconfigdirs.\n \n Wed Sep 24 15:18:32 1997  Ian Lance Taylor  <ian@cygnus.com>\n \n@@ -3753,7 +3759,7 @@ Thu Sep 18 21:43:23 1997  Alexandre Oliva  <oliva@dcc.unicamp.br>\n Thu Sep 18 15:37:42 1997  Andrew Cagney  <cagney@b1.cygnus.com>\n \n \t* configure (tooldir): enable_gdbtk=YES for cygwin32, NO for\n- \twindows.  Consistent with gdb/configure.\n+\twindows.  Consistent with gdb/configure.\n \n 1997-09-15 02:37  Ulrich Drepper  <drepper@cygnus.com>\n \n@@ -3934,13 +3940,13 @@ Tue Aug  5 12:12:44 1997  Andrew Cagney  <cagney@b1.cygnus.com>\n Mon Aug  4 22:59:02 1997  Andrew Cagney  <cagney@b1.cygnus.com>\n \n \t* Makefile.in (CC_FOR_TARGET): When winsup/Makefile present,\n- \tcorrectly specify the target build directory $(TARGET_SUBDIR)/winsup\n- \tfor libraries.\n+\tcorrectly specify the target build directory $(TARGET_SUBDIR)/winsup\n+\tfor libraries.\n \n Mon Aug  4 12:40:24 1997  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* Makefile.in (EXTRA_GCC_FLAGS): Fix handling of macros with values\n- \tseparated by spaces.\n+\tseparated by spaces.\n \n Thu Jul 31 19:49:49 1997  Ian Lance Taylor  <ian@cygnus.com>\n \n@@ -4071,7 +4077,7 @@ Mon Jun 16 11:11:10 1997  Ian Lance Taylor  <ian@cygnus.com>\n \t$(DEFAULT_YACC).\n \n \t* configure.in: Build itl, db, sn, etc., when building for native\n- \tcygwin32.\n+\tcygwin32.\n \n \t* Makefile.in (LD): New variable.\n \t(EXTRA_HOST_FLAGS): Pass down LD.\n@@ -4084,7 +4090,7 @@ Mon Jun 16 11:10:35 1997  Philip Blundell  <Philip.Blundell@pobox.com>\n Fri Jun 13 10:22:56 1997  Bob Manson  <manson@charmed.cygnus.com>\n \n \t* configure.in (targargs): Strip out any supplied --build argument\n- \tbefore adding our own. Always add --build.\n+\tbefore adding our own. Always add --build.\n \n Thu Jun 12 21:12:28 1997  Bob Manson  <manson@charmed.cygnus.com>\n \n@@ -4279,7 +4285,7 @@ Tue Feb 25 18:46:14 1997  Stan Shebs  <shebs@andros.cygnus.com>\n Tue Feb 25 13:19:14 1997  Andrew Cagney  <cagney@kremvax.tpgi.com.au>\n \n \t* configure.in (noconfigdirs): Disable target-newlib,\n- \ttarget-examples and target-libiberty for d30v.\n+\ttarget-examples and target-libiberty for d30v.\n \n Fri Feb 21 17:56:25 1997  Martin M. Hunt  <hunt@pizza.cygnus.com>\n \n@@ -4292,7 +4298,7 @@ Fri Feb 21 20:58:51 1997  Michael Meissner  <meissner@cygnus.com>\n Sun Feb 16 15:41:09 1997  Andrew Cagney  <cagney@critters.cygnus.com>\n \n \t* configure.in (d30v-*): Remove sim directory from list of\n- \tunsupported d30v directories\n+\tunsupported d30v directories\n \n Tue Feb 18 17:32:42 1997  Martin M. Hunt  <hunt@pizza.cygnus.com>\n \n@@ -4475,7 +4481,7 @@ Fri Nov  8 11:34:58 1996  David J. MacKenzie  <djm@geech.gnu.ai.mit.edu>\n \tLynxOs is not a hardware supplier.\n \n \t* config.guess: Contributions from bug-gnu-utils to add support for:\n- \tOpenBSD like NetBSD.\n+\tOpenBSD like NetBSD.\n \tStratus systems.\n \tMore Pyramid systems.\n \ti[n>4]86 Intel chips.\n@@ -4616,7 +4622,7 @@ Wed Oct  2 15:52:36 1996  Klaus Kaempf  <kkaempf@progis.de>\n Tue Oct  1 01:28:41 1996  James G. Smith  <jsmith@cygnus.co.uk>\n \n \t* configure.in (noconfigdirs): Don't build libgloss for arm-coff\n- \ttargets.\n+\ttargets.\n \n Mon Sep 30 14:24:01 1996  Stan Shebs  <shebs@andros.cygnus.com>\n \n@@ -4843,7 +4849,7 @@ Sun Jun 23 22:41:54 1996  Geoffrey Noer  <noer@cygnus.com>\n Sat Jun 22 11:39:01 1996  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* Makefile.in (TARGET_SUBDIR): Move comment to previous line so we\n- \tdon't get \". \".\n+\tdon't get \". \".\n \n Fri Jun 21 17:24:48 1996  Jim Wilson  <wilson@cygnus.com>\n \n@@ -5290,7 +5296,7 @@ Fri Dec 29 07:56:11 1995  Michael Meissner  <meissner@tiktok.cygnus.com>\n \t* Makefile.in (EXTRA_GCC_FLAGS): If any of the make variables\n \tLANGUAGES, BOOT_CFLAGS, STMP_FIXPROTO, LIMITS_H_TEST,\n \tLIBGCC1_TEST, LIBGCC2_CFLAGS, LIBGCC2_INCLUDES, and ENQUIRE are\n-\tnon-empty, pass them on to the \tGCC make.\n+\tnon-empty, pass them on to the\tGCC make.\n \t(all-bootstrap): New rule that is like all-gcc, except it executes\n \tthe GCC bootstrap rule instead of the GCC all rule.\n \n@@ -5370,7 +5376,7 @@ Mon Dec  4 12:38:15 1995  Ian Lance Taylor  <ian@cygnus.com>\n Thu Nov 30 14:45:25 1995  J.T. Conklin  <jtc@rtl.cygnus.com>\n \n \t* config/mt-v810 (CC_FOR_TARGET): Add -ansi flag.  NEC compiler\n- \tdefaults to K&R mode, but doesn't have varargs.h, so we have to\n+\tdefaults to K&R mode, but doesn't have varargs.h, so we have to\n \tcompile in ANSI mode.\n \n Thu Nov 30 16:57:33 1995  Per Bothner  <bothner@wombat.gnu.ai.mit.edu>\n@@ -5482,15 +5488,15 @@ Mon Nov 13 12:34:20 1995  Stan Shebs  <shebs@andros.cygnus.com>\n \t* mpw-config.in: Configure grez if targeting Mac.\n \n \t* config.sub: Accept pmac and pmac-mpw as names for PowerMacs,\n- \taccept mpw and mac-mpw as names for m68k Macs, change macos7 to\n- \tjust macos.\n+\taccept mpw and mac-mpw as names for m68k Macs, change macos7 to\n+\tjust macos.\n \t* configure.in: Configure grez resource compiler if targeting Mac.\n \t* Makefile.in (all-grez, install-grez): New targets.\n \n Wed Nov  8 17:33:51 1995  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* configure: CXX defaults to gcc, not g++.  If we find\n- \tgcc in the path, set CC to gcc -O2.\n+\tgcc in the path, set CC to gcc -O2.\n \n Tue Nov  7 15:45:17 1995  Ian Lance Taylor  <ian@cygnus.com>\n \n@@ -5540,8 +5546,8 @@ Wed Nov  1 12:23:20 1995  Ian Lance Taylor  <ian@cygnus.com>\n Tue Oct 31 17:52:39 1995  J.T. Conklin  <jtc@slave.cygnus.com>\n \n \t* configure.in (host_makefile_frag): Use m68k-sun-sunos* instead\n- \tof m68k-sun-* when selecting mh-sun3 to avoid matching NetBSD/sun3\n- \tsystems.\n+\tof m68k-sun-* when selecting mh-sun3 to avoid matching NetBSD/sun3\n+\tsystems.\n \n Tue Oct 31 16:57:32 1995  Jim Wilson  <wilson@chestnut.cygnus.com>\n \n@@ -5819,7 +5825,7 @@ Thu Sep  7 20:03:41 1995  Ken Raeburn  <raeburn@cygnus.com>\n Fri Sep  1 08:06:58 1995  James G. Smith  <jsmith@beauty.cygnus.com>\n \n \t* config.sub: recognise mips64vr4300 and mips64vr4300el as valid\n- \ttargets.\n+\ttargets.\n \n Wed Aug 30 21:06:50 1995  Jason Molenda  (crash@phydeaux.cygnus.com)\n \n@@ -6813,8 +6819,8 @@ Tue Apr 26 18:11:33 1994  Ian Lance Taylor  (ian@tweedledumb.cygnus.com)\n \n Mon Apr 25 15:06:34 1994  Stan Shebs  (shebs@andros.cygnus.com)\n \n- \t* configure.in (*-*-lynxos*): Don't configure newlib for either\n- \tnative or cross Lynx.\n+\t* configure.in (*-*-lynxos*): Don't configure newlib for either\n+\tnative or cross Lynx.\n \n Sat Apr 16 11:58:16 1994  Doug Evans  (dje@canuck.cygnus.com)\n \n@@ -8559,7 +8565,7 @@ Thu Aug 27 13:04:42 1992  Brendan Kehoe  (brendan@rtl.cygnus.com)\n \n Mon Aug 24 14:05:14 1992  Ian Lance Taylor  (ian@cygnus.com)\n \n- \t* config.sub, configure.in: accept OSE68000 and OSE68k.\n+\t* config.sub, configure.in: accept OSE68000 and OSE68k.\n \n \t* Makefile.in: don't create all directories for ``make install'';\n \tlet the subdirectories create the ones they need."}, {"sha": "99149ffe140823ae2662cda403a88d126676f152", "filename": "libtool.m4", "status": "modified", "additions": 42, "deletions": 0, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b75d2378c76887747a4c2cbdc0ddf793db56468/libtool.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b75d2378c76887747a4c2cbdc0ddf793db56468/libtool.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libtool.m4?ref=3b75d2378c76887747a4c2cbdc0ddf793db56468", "patch": "@@ -175,6 +175,48 @@ ia64-*-hpux*)\n   rm -rf conftest*\n   ;;\n \n+x86_64-*linux*|ppc*-*linux*|powerpc*-*linux*|s390*-*linux*|sparc*-*linux*)\n+  # Find out which ABI we are using.\n+  echo 'int i;' > conftest.$ac_ext\n+  if AC_TRY_EVAL(ac_compile); then\n+    case \"`/usr/bin/file conftest.o`\" in\n+    *32-bit*)\n+      case $host in\n+        x86_64-*linux*)\n+          LD=\"${LD-ld} -m elf_i386\"\n+          ;;\n+        ppc64-*linux*)\n+          LD=\"${LD-ld} -m elf32ppclinux\"\n+          ;;\n+        s390x-*linux*)\n+          LD=\"${LD-ld} -m elf_s390\"\n+          ;;\n+        sparc64-*linux*)\n+          LD=\"${LD-ld} -m elf32_sparc\"\n+          ;;\n+      esac\n+      ;;\n+    *64-bit*)\n+      case $host in\n+        x86_64-*linux*)\n+          LD=\"${LD-ld} -m elf_x86_64\"\n+          ;;\n+        ppc*-*linux*|powerpc*-*linux*)\n+          LD=\"${LD-ld} -m elf64ppc\"\n+          ;;\n+        s390*-*linux*)\n+          LD=\"${LD-ld} -m elf64_s390\"\n+          ;;\n+        sparc*-*linux*)\n+          LD=\"${LD-ld} -m elf64_sparc\"\n+          ;;\n+      esac\n+      ;;\n+    esac\n+  fi\n+  rm -rf conftest*\n+  ;;\n+\n *-*-sco3.2v5*)\n   # On SCO OpenServer 5, we need -belf to get full-featured binaries.\n   SAVE_CFLAGS=\"$CFLAGS\""}]}