{"sha": "232f749bbc7017ae00943a6ba87ef151276dff3e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjMyZjc0OWJiYzcwMTdhZTAwOTQzYTZiYTg3ZWYxNTEyNzZkZmYzZQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2001-03-07T18:44:17Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2001-03-07T18:44:17Z"}, "message": "lists.c (init_EXPR_INSN_LIST_cache): Don't check initialized.\n\n        * lists.c (init_EXPR_INSN_LIST_cache): Don't check initialized.\n        * toplev.c (rest_of_compilation): Call init_EXPR_INSN_LIST_cache ...\n        (compile_file): ... here.\n\nFrom-SVN: r40296", "tree": {"sha": "80850b2388b92d6896a75218decd62c239e9b882", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/80850b2388b92d6896a75218decd62c239e9b882"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/232f749bbc7017ae00943a6ba87ef151276dff3e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/232f749bbc7017ae00943a6ba87ef151276dff3e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/232f749bbc7017ae00943a6ba87ef151276dff3e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/232f749bbc7017ae00943a6ba87ef151276dff3e/comments", "author": null, "committer": null, "parents": [{"sha": "542d73aeffbdb33c2cf23d1a232da9d7fe747e92", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/542d73aeffbdb33c2cf23d1a232da9d7fe747e92", "html_url": "https://github.com/Rust-GCC/gccrs/commit/542d73aeffbdb33c2cf23d1a232da9d7fe747e92"}], "stats": {"total": 14, "additions": 6, "deletions": 8}, "files": [{"sha": "d2e146079c1f9dd7397a038d5df1dbea2b21a093", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/232f749bbc7017ae00943a6ba87ef151276dff3e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/232f749bbc7017ae00943a6ba87ef151276dff3e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=232f749bbc7017ae00943a6ba87ef151276dff3e", "patch": "@@ -3,6 +3,10 @@\n \t* emit-rtl.c (remove_unnecessary_notes): Verify proper nesting\n \tof block notes and exception handling notes.\n \n+\t* lists.c (init_EXPR_INSN_LIST_cache): Don't check initialized.\n+\t* toplev.c (rest_of_compilation): Call init_EXPR_INSN_LIST_cache ...\n+\t(compile_file): ... here.\n+\n 2001-03-06  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* fixinc/Makefile.in (FIXINC_DEFS): Add -DHAVE_CONFIG_H."}, {"sha": "efba26f88b40330f409ab03b4880ec54612fce22", "filename": "gcc/lists.c", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/232f749bbc7017ae00943a6ba87ef151276dff3e/gcc%2Flists.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/232f749bbc7017ae00943a6ba87ef151276dff3e/gcc%2Flists.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flists.c?ref=232f749bbc7017ae00943a6ba87ef151276dff3e", "patch": "@@ -121,12 +121,7 @@ zap_lists (dummy)\n void \n init_EXPR_INSN_LIST_cache ()\n {\n-  static int initialized;\n-  if (!initialized)\n-    {\n-      initialized = 1;\n-      ggc_add_root (&unused_expr_list, 1, 1, zap_lists);\n-    }\n+  ggc_add_root (&unused_expr_list, 1, 1, zap_lists);\n }\n \n /* This function will free up an entire list of EXPR_LIST nodes.  */"}, {"sha": "680820c2a31eed39b22f14415bc8028fd0bdff6f", "filename": "gcc/toplev.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/232f749bbc7017ae00943a6ba87ef151276dff3e/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/232f749bbc7017ae00943a6ba87ef151276dff3e/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=232f749bbc7017ae00943a6ba87ef151276dff3e", "patch": "@@ -2171,6 +2171,7 @@ compile_file (name)\n   init_function_once ();\n   init_stor_layout_once ();\n   init_varasm_once ();\n+  init_EXPR_INSN_LIST_cache ();\n \n   /* The following initialization functions need to generate rtl, so\n      provide a dummy function context for them.  */\n@@ -2861,8 +2862,6 @@ rest_of_compilation (decl)\n \tgoto exit_rest_of_compilation;\n     }\n \n-  init_EXPR_INSN_LIST_cache ();\n-\n   ggc_collect ();\n \n   /* Initialize some variables used by the optimizers.  */"}]}