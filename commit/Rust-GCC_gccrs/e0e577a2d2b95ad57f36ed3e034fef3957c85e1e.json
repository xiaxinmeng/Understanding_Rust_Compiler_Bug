{"sha": "e0e577a2d2b95ad57f36ed3e034fef3957c85e1e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTBlNTc3YTJkMmI5NWFkNTdmMzZlZDNlMDM0ZmVmMzk1N2M4NWUxZQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-05-29T00:25:19Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-05-29T00:25:19Z"}, "message": "flow.c (update_life_info_in_dirty_blocks): Only do a partial update if UPDATE_LIFE_LOCAL.\n\n        * flow.c (update_life_info_in_dirty_blocks): Only do a partial\n        update if UPDATE_LIFE_LOCAL.\n\nFrom-SVN: r53978", "tree": {"sha": "e94f8861be9af3da8f2ed69daed6a8e7777f7b2b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e94f8861be9af3da8f2ed69daed6a8e7777f7b2b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e0e577a2d2b95ad57f36ed3e034fef3957c85e1e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0e577a2d2b95ad57f36ed3e034fef3957c85e1e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e0e577a2d2b95ad57f36ed3e034fef3957c85e1e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0e577a2d2b95ad57f36ed3e034fef3957c85e1e/comments", "author": null, "committer": null, "parents": [{"sha": "8ea08b7d7bd834782e403121564b9eb2ee6e15a0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ea08b7d7bd834782e403121564b9eb2ee6e15a0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8ea08b7d7bd834782e403121564b9eb2ee6e15a0"}], "stats": {"total": 30, "additions": 24, "deletions": 6}, "files": [{"sha": "880a2973f735b06065834070edc1bb43ecc9d414", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0e577a2d2b95ad57f36ed3e034fef3957c85e1e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0e577a2d2b95ad57f36ed3e034fef3957c85e1e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e0e577a2d2b95ad57f36ed3e034fef3957c85e1e", "patch": "@@ -1,4 +1,9 @@\n-002-05-28  Toshiyasu Morita  <toshiyasu.morita@hsa.hitachi.com>\n+2002-05-28  Richard Henderson  <rth@redhat.com>\n+\n+\t* flow.c (update_life_info_in_dirty_blocks): Only do a partial\n+\tupdate if UPDATE_LIFE_LOCAL.\n+\n+2002-05-28  Toshiyasu Morita  <toshiyasu.morita@hsa.hitachi.com>\n \n \t* config/sh/sh.c: Include real.h for REAL_VALUE_TYPE.\n "}, {"sha": "a9f94a6201fec8f2b9282bff5644beb1f506f256", "filename": "gcc/flow.c", "status": "modified", "additions": 18, "deletions": 5, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0e577a2d2b95ad57f36ed3e034fef3957c85e1e/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0e577a2d2b95ad57f36ed3e034fef3957c85e1e/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=e0e577a2d2b95ad57f36ed3e034fef3957c85e1e", "patch": "@@ -768,11 +768,24 @@ update_life_info_in_dirty_blocks (extent, prop_flags)\n \n   sbitmap_zero (update_life_blocks);\n   FOR_EACH_BB (bb)\n-    if (bb->flags & BB_DIRTY)\n-      {\n-\tSET_BIT (update_life_blocks, bb->index);\n-\tn++;\n-      }\n+    {\n+      if (extent == UPDATE_LIFE_LOCAL)\n+\t{\n+\t  if (bb->flags & BB_DIRTY)\n+\t    {\n+\t      SET_BIT (update_life_blocks, bb->index);\n+\t      n++;\n+\t    }\n+\t}\n+      else\n+\t{\n+\t  /* ??? Bootstrap with -march=pentium4 fails to terminate\n+\t     with only a partial life update.  */\n+\t  SET_BIT (update_life_blocks, bb->index);\n+\t  if (bb->flags & BB_DIRTY)\n+\t    n++;\n+\t}\n+    }\n \n   if (n)\n     retval = update_life_info (update_life_blocks, extent, prop_flags);"}]}