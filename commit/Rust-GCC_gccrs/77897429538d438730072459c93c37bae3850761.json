{"sha": "77897429538d438730072459c93c37bae3850761", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Nzc4OTc0Mjk1MzhkNDM4NzMwMDcyNDU5YzkzYzM3YmFlMzg1MDc2MQ==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@CeBiTec.Uni-Bielefeld.DE", "date": "2014-02-05T16:36:13Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2014-02-05T16:36:13Z"}, "message": "Fix gcc.target/i386/avx512f-vrndscaless-2.c on Solaris 9/x86\n\n\t* gcc.target/i386/avx512f-vrndscaless-2.c (compute_rndscaless):\n\tUse __builtin_floorf, __builtin_ceilf.\n\t* gcc.target/i386/sse4_1-floorf-sfix-vec.c (floorf): Remove\n\tdeclaration.\n\t(TEST): Use __builtin_floorf.\n\t* gcc.target/i386/sse4_1-floorf-vec.c: Likewise.\n\nFrom-SVN: r207514", "tree": {"sha": "fcca10100c3afc6eaa2ccff982b2f6c7b70f4e1d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fcca10100c3afc6eaa2ccff982b2f6c7b70f4e1d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/77897429538d438730072459c93c37bae3850761", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77897429538d438730072459c93c37bae3850761", "html_url": "https://github.com/Rust-GCC/gccrs/commit/77897429538d438730072459c93c37bae3850761", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77897429538d438730072459c93c37bae3850761/comments", "author": {"login": "rorth", "id": 3930951, "node_id": "MDQ6VXNlcjM5MzA5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rorth", "html_url": "https://github.com/rorth", "followers_url": "https://api.github.com/users/rorth/followers", "following_url": "https://api.github.com/users/rorth/following{/other_user}", "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rorth/subscriptions", "organizations_url": "https://api.github.com/users/rorth/orgs", "repos_url": "https://api.github.com/users/rorth/repos", "events_url": "https://api.github.com/users/rorth/events{/privacy}", "received_events_url": "https://api.github.com/users/rorth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "add5c7634eb4e3cc62110bcaaacc19b70d62a6f0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/add5c7634eb4e3cc62110bcaaacc19b70d62a6f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/add5c7634eb4e3cc62110bcaaacc19b70d62a6f0"}], "stats": {"total": 25, "additions": 15, "deletions": 10}, "files": [{"sha": "4d860551835aadb6a3899bd2ef3a18452a4b582a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77897429538d438730072459c93c37bae3850761/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77897429538d438730072459c93c37bae3850761/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=77897429538d438730072459c93c37bae3850761", "patch": "@@ -1,3 +1,12 @@\n+2014-02-05  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\t* gcc.target/i386/avx512f-vrndscaless-2.c (compute_rndscaless):\n+\tUse __builtin_floorf, __builtin_ceilf.\n+\t* gcc.target/i386/sse4_1-floorf-sfix-vec.c (floorf): Remove\n+\tdeclaration.\n+\t(TEST): Use __builtin_floorf.\n+\t* gcc.target/i386/sse4_1-floorf-vec.c: Likewise.\n+\n 2014-02-05  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR ipa/59947"}, {"sha": "45052bc61fc0917e25e853fe2be48676dbcd5942", "filename": "gcc/testsuite/gcc.target/i386/avx512f-vrndscaless-2.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77897429538d438730072459c93c37bae3850761/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Favx512f-vrndscaless-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77897429538d438730072459c93c37bae3850761/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Favx512f-vrndscaless-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Favx512f-vrndscaless-2.c?ref=77897429538d438730072459c93c37bae3850761", "patch": "@@ -18,10 +18,10 @@ compute_rndscaless (float *s1, float *s2, float *r, int imm)\n   switch (rc)\n     {\n     case _MM_FROUND_FLOOR:\n-      r[0] = floorf (s2[0] * pow (2, m)) / pow (2, m);\n+      r[0] = __builtin_floorf (s2[0] * pow (2, m)) / pow (2, m);\n       break;\n     case _MM_FROUND_CEIL:\n-      r[0] = ceilf (s2[0] * pow (2, m)) / pow (2, m);\n+      r[0] = __builtin_ceilf (s2[0] * pow (2, m)) / pow (2, m);\n       break;\n     default:\n       abort ();"}, {"sha": "7e18b46f59829375b301bd28ed9d0b26d6f889f5", "filename": "gcc/testsuite/gcc.target/i386/sse4_1-floorf-sfix-vec.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77897429538d438730072459c93c37bae3850761/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse4_1-floorf-sfix-vec.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77897429538d438730072459c93c37bae3850761/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse4_1-floorf-sfix-vec.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse4_1-floorf-sfix-vec.c?ref=77897429538d438730072459c93c37bae3850761", "patch": "@@ -15,8 +15,6 @@\n \n #include <math.h>\n \n-extern float floorf (float);\n-\n #define NUM 64\n \n static void\n@@ -53,10 +51,10 @@ TEST (void)\n   init_src (a);\n \n   for (i = 0; i < NUM; i++)\n-    r[i] = (int) floorf (a[i]);\n+    r[i] = (int) __builtin_floorf (a[i]);\n \n   /* check results:  */\n   for (i = 0; i < NUM; i++)\n-    if (r[i] != (int) floorf (a[i]))\n+    if (r[i] != (int) __builtin_floorf (a[i]))\n       abort();\n }"}, {"sha": "019ef89417b1da82d4df320d9876766f9be6ffa5", "filename": "gcc/testsuite/gcc.target/i386/sse4_1-floorf-vec.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77897429538d438730072459c93c37bae3850761/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse4_1-floorf-vec.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77897429538d438730072459c93c37bae3850761/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse4_1-floorf-vec.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse4_1-floorf-vec.c?ref=77897429538d438730072459c93c37bae3850761", "patch": "@@ -15,8 +15,6 @@\n \n #include <math.h>\n \n-extern float floorf (float);\n-\n #define NUM 64\n \n static void\n@@ -53,10 +51,10 @@ TEST (void)\n   init_src (a);\n \n   for (i = 0; i < NUM; i++)\n-    r[i] = floorf (a[i]);\n+    r[i] = __builtin_floorf (a[i]);\n \n   /* check results:  */\n   for (i = 0; i < NUM; i++)\n-    if (r[i] != floorf (a[i]))\n+    if (r[i] != __builtin_floorf (a[i]))\n       abort();\n }"}]}