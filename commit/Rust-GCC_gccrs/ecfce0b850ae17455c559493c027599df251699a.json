{"sha": "ecfce0b850ae17455c559493c027599df251699a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWNmY2UwYjg1MGFlMTc0NTVjNTU5NDkzYzAyNzU5OWRmMjUxNjk5YQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2012-09-18T14:02:20Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2012-09-18T14:02:20Z"}, "message": "re PR libstdc++/54612 (Many failures in ext/random testsuite)\n\n2012-09-18  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR libstdc++/54612\n\t* include/ext/random.tcc (operator==\n\t(const __gnu_cxx::simd_fast_mersenne_twister_engine<>&,\n\tconst __gnu_cxx::simd_fast_mersenne_twister_engine<>&)): Fix\n\tstate_size use.\n\t* config/cpu/i486/opt/ext/opt_random.h: Guard with __SSE2__.\n\nFrom-SVN: r191424", "tree": {"sha": "af1cccb697d753bdc1ea93c92358e957af1cf65a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/af1cccb697d753bdc1ea93c92358e957af1cf65a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ecfce0b850ae17455c559493c027599df251699a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ecfce0b850ae17455c559493c027599df251699a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ecfce0b850ae17455c559493c027599df251699a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ecfce0b850ae17455c559493c027599df251699a/comments", "author": null, "committer": null, "parents": [{"sha": "1d61ee4252f7b906b37bb284e3b4616ebe61eaf6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d61ee4252f7b906b37bb284e3b4616ebe61eaf6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d61ee4252f7b906b37bb284e3b4616ebe61eaf6"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "a687a48ccb062c620ce6d041072f40ec400d566a", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ecfce0b850ae17455c559493c027599df251699a/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ecfce0b850ae17455c559493c027599df251699a/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=ecfce0b850ae17455c559493c027599df251699a", "patch": "@@ -1,3 +1,12 @@\n+2012-09-18  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR libstdc++/54612\n+\t* include/ext/random.tcc (operator==\n+\t(const __gnu_cxx::simd_fast_mersenne_twister_engine<>&,\n+\tconst __gnu_cxx::simd_fast_mersenne_twister_engine<>&)): Fix\n+\tstate_size use.\n+\t* config/cpu/i486/opt/ext/opt_random.h: Guard with __SSE2__.\n+\n 2012-09-17  Ulrich Drepper  <drepper@gmail.com>\n \n \t* configure.ac: Substitute CPU_OPT_EXT_RANDOM."}, {"sha": "968b1c18bf2b388e681bcb713a27a65c3c5864bc", "filename": "libstdc++-v3/config/cpu/i486/opt/ext/opt_random.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ecfce0b850ae17455c559493c027599df251699a/libstdc%2B%2B-v3%2Fconfig%2Fcpu%2Fi486%2Fopt%2Fext%2Fopt_random.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ecfce0b850ae17455c559493c027599df251699a/libstdc%2B%2B-v3%2Fconfig%2Fcpu%2Fi486%2Fopt%2Fext%2Fopt_random.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fcpu%2Fi486%2Fopt%2Fext%2Fopt_random.h?ref=ecfce0b850ae17455c559493c027599df251699a", "patch": "@@ -32,6 +32,7 @@\n \n #pragma GCC system_header\n \n+#ifdef __SSE2__\n \n namespace __gnu_cxx _GLIBCXX_VISIBILITY(default)\n {\n@@ -130,5 +131,6 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n _GLIBCXX_END_NAMESPACE_VERSION\n } // namespace\n \n+#endif // __SSE2__\n \n #endif // _EXT_OPT_RANDOM_H"}, {"sha": "07001379415b5af018d0fe13c4f614834460e88e", "filename": "libstdc++-v3/include/ext/random.tcc", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ecfce0b850ae17455c559493c027599df251699a/libstdc%2B%2B-v3%2Finclude%2Fext%2Frandom.tcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ecfce0b850ae17455c559493c027599df251699a/libstdc%2B%2B-v3%2Finclude%2Fext%2Frandom.tcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fext%2Frandom.tcc?ref=ecfce0b850ae17455c559493c027599df251699a", "patch": "@@ -328,7 +328,12 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n \t       __msk1, __msk2, __msk3, __msk4,\n \t       __parity1, __parity2, __parity3, __parity4>& __rhs)\n     {\n-      return (std::equal(__lhs._M_stateT, __lhs._M_stateT + state_size,\n+      typedef __gnu_cxx::simd_fast_mersenne_twister_engine<_UIntType,\n+\t       __m, __pos1, __sl1, __sl2, __sr1, __sr2,\n+\t       __msk1, __msk2, __msk3, __msk4,\n+\t       __parity1, __parity2, __parity3, __parity4> __engine;\n+      return (std::equal(__lhs._M_stateT,\n+\t\t\t __lhs._M_stateT + __engine::state_size,\n \t\t\t __rhs._M_stateT)\n \t      && __lhs._M_pos == __rhs._M_pos);\n     }"}]}