{"sha": "30c54de9f2eb46d6f0bd9b2f4f2fdd4b875b904b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzBjNTRkZTlmMmViNDZkNmYwYmQ5YjJmNGYyZmRkNGI4NzViOTA0Yg==", "commit": {"author": {"name": "DJ Delorie", "email": "dj@redhat.com", "date": "2005-07-22T02:10:23Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2005-07-22T02:10:23Z"}, "message": "toplev.c (warn_deprecated_use): Add warning control to warning call.\n\n* toplev.c (warn_deprecated_use): Add warning control to warning\ncall.\n\nFrom-SVN: r102264", "tree": {"sha": "cd723e6b679a9784904b1526e5469a0424079fd3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cd723e6b679a9784904b1526e5469a0424079fd3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/30c54de9f2eb46d6f0bd9b2f4f2fdd4b875b904b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30c54de9f2eb46d6f0bd9b2f4f2fdd4b875b904b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30c54de9f2eb46d6f0bd9b2f4f2fdd4b875b904b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30c54de9f2eb46d6f0bd9b2f4f2fdd4b875b904b/comments", "author": null, "committer": null, "parents": [{"sha": "95a8c1557208047f816fcc51d45546ec00330d44", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95a8c1557208047f816fcc51d45546ec00330d44", "html_url": "https://github.com/Rust-GCC/gccrs/commit/95a8c1557208047f816fcc51d45546ec00330d44"}], "stats": {"total": 20, "additions": 14, "deletions": 6}, "files": [{"sha": "34b0263e3188023ce7e0ad65e604513349ff772e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/30c54de9f2eb46d6f0bd9b2f4f2fdd4b875b904b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/30c54de9f2eb46d6f0bd9b2f4f2fdd4b875b904b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=30c54de9f2eb46d6f0bd9b2f4f2fdd4b875b904b", "patch": "@@ -1,3 +1,8 @@\n+2005-07-21  DJ Delorie  <dj@redhat.com>\n+\n+\t* toplev.c (warn_deprecated_use): Add warning control to warning\n+\tcall.\n+\n 2005-07-21  Richard Henderson  <rth@redhat.com>\n \n \tPR tree-opt/22504"}, {"sha": "5ad62dd6ecfe2e6671225c7173f5ad2571ad5e51", "filename": "gcc/toplev.c", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/30c54de9f2eb46d6f0bd9b2f4f2fdd4b875b904b/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/30c54de9f2eb46d6f0bd9b2f4f2fdd4b875b904b/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=30c54de9f2eb46d6f0bd9b2f4f2fdd4b875b904b", "patch": "@@ -875,7 +875,8 @@ warn_deprecated_use (tree node)\n   if (DECL_P (node))\n     {\n       expanded_location xloc = expand_location (DECL_SOURCE_LOCATION (node));\n-      warning (0, \"%qs is deprecated (declared at %s:%d)\",\n+      warning (OPT_Wdeprecated_declarations,\n+\t       \"%qs is deprecated (declared at %s:%d)\",\n \t       IDENTIFIER_POINTER (DECL_NAME (node)),\n \t       xloc.file, xloc.line);\n     }\n@@ -898,18 +899,20 @@ warn_deprecated_use (tree node)\n \t  expanded_location xloc\n \t    = expand_location (DECL_SOURCE_LOCATION (decl));\n \t  if (what)\n-\t    warning (0, \"%qs is deprecated (declared at %s:%d)\", what,\n-\t\t       xloc.file, xloc.line);\n+\t    warning (OPT_Wdeprecated_declarations,\n+\t\t     \"%qs is deprecated (declared at %s:%d)\", what,\n+\t\t     xloc.file, xloc.line);\n \t  else\n-\t    warning (0, \"type is deprecated (declared at %s:%d)\",\n+\t    warning (OPT_Wdeprecated_declarations,\n+\t\t     \"type is deprecated (declared at %s:%d)\",\n \t\t     xloc.file, xloc.line);\n \t}\n       else\n \t{\n \t  if (what)\n-\t    warning (0, \"%qs is deprecated\", what);\n+\t    warning (OPT_Wdeprecated_declarations, \"%qs is deprecated\", what);\n \t  else\n-\t    warning (0, \"type is deprecated\");\n+\t    warning (OPT_Wdeprecated_declarations, \"type is deprecated\");\n \t}\n     }\n }"}]}