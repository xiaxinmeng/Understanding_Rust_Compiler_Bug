{"sha": "71caffb725450df820f706dc8f7a05aa8a22061f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzFjYWZmYjcyNTQ1MGRmODIwZjcwNmRjOGY3YTA1YWE4YTIyMDYxZg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2018-11-09T15:30:51Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2018-11-09T15:30:51Z"}, "message": "syscall: change RLIM_INFINITY from 0xffffffffffffffff to -1\n    \n    For compatibility with the gc toolchain's syscall package.\n    \n    Fixes golang/go#28665\n    \n    Reviewed-on: https://go-review.googlesource.com/c/148697\n\nFrom-SVN: r265974", "tree": {"sha": "4e5710fb533d2b4686a53adfc2b26b6d1f18292a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4e5710fb533d2b4686a53adfc2b26b6d1f18292a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/71caffb725450df820f706dc8f7a05aa8a22061f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71caffb725450df820f706dc8f7a05aa8a22061f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/71caffb725450df820f706dc8f7a05aa8a22061f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71caffb725450df820f706dc8f7a05aa8a22061f/comments", "author": null, "committer": null, "parents": [{"sha": "0b58e8b8cea3ca18e6dddc28546109019b699138", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b58e8b8cea3ca18e6dddc28546109019b699138", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b58e8b8cea3ca18e6dddc28546109019b699138"}], "stats": {"total": 15, "additions": 11, "deletions": 4}, "files": [{"sha": "a7077810b289d3fa067f8c6b6ee2d0870e0efc47", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71caffb725450df820f706dc8f7a05aa8a22061f/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71caffb725450df820f706dc8f7a05aa8a22061f/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=71caffb725450df820f706dc8f7a05aa8a22061f", "patch": "@@ -1,4 +1,4 @@\n-5fcfe352ad91945a4f4d0dcfb6309df9bd072c7d\n+da8c968474690d1e77442ac3361b2302ea8e1f36\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "2fa7affedb526e006c25e7ed5bb00935d599cfbd", "filename": "libgo/mksysinfo.sh", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71caffb725450df820f706dc8f7a05aa8a22061f/libgo%2Fmksysinfo.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71caffb725450df820f706dc8f7a05aa8a22061f/libgo%2Fmksysinfo.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fmksysinfo.sh?ref=71caffb725450df820f706dc8f7a05aa8a22061f", "patch": "@@ -1152,10 +1152,17 @@ grep '^const _RLIMIT_' gen-sysinfo.go |\n grep '^const _RLIM_' gen-sysinfo.go |\n     grep -v '^const _RLIM_INFINITY ' |\n     sed -e 's/^\\(const \\)_\\(RLIM_[^= ]*\\)\\(.*\\)$/\\1\\2 = _\\2/' >> ${OUT}\n+rliminf=\"\"\n if test \"${rlimit}\" = \"_rlimit64\" && grep '^const _RLIM64_INFINITY ' gen-sysinfo.go > /dev/null 2>&1; then\n-  echo 'const RLIM_INFINITY = _RLIM64_INFINITY' >> ${OUT}\n-elif grep '^const _RLIM_INFINITY ' gen-sysinfo.go > /dev/null 2>&1; then\n-  echo 'const RLIM_INFINITY = _RLIM_INFINITY' >> ${OUT}\n+  rliminf=`grep '^const _RLIM64_INFINITY ' gen-sysinfo.go | sed -e 's/.* //'`\n+else\n+  rliminf=`grep '^const _RLIM_INFINITY ' gen-sysinfo.go | sed -e 's/.* //'`\n+fi\n+# For compatibility with the gc syscall package, treat 0xffffffffffffffff as -1.\n+if test \"$rliminf\" = \"0xffffffffffffffff\"; then\n+  echo \"const RLIM_INFINITY = -1\" >> ${OUT}\n+elif test -n \"$rliminf\"; then\n+  echo \"const RLIM_INFINITY = $rliminf\" >> ${OUT}\n fi\n \n # The sysinfo struct."}]}