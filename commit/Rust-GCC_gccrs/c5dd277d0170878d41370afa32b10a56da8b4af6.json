{"sha": "c5dd277d0170878d41370afa32b10a56da8b4af6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzVkZDI3N2QwMTcwODc4ZDQxMzcwYWZhMzJiMTBhNTZkYThiNGFmNg==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernds@codesourcery.com", "date": "2011-04-01T17:40:27Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2011-04-01T17:40:27Z"}, "message": "ifcvt.c (cond_exec_process_insns): Disallow converting a block that contains the prologue.\n\n\t* ifcvt.c (cond_exec_process_insns): Disallow converting a block\n\tthat contains the prologue.\n\n\t* gcc.c-torture/compile/20110401-1.c: New test.\n\nFrom-SVN: r171840", "tree": {"sha": "470417dd6bd6addf2579deae3622a95381f34f10", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/470417dd6bd6addf2579deae3622a95381f34f10"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c5dd277d0170878d41370afa32b10a56da8b4af6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c5dd277d0170878d41370afa32b10a56da8b4af6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c5dd277d0170878d41370afa32b10a56da8b4af6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c5dd277d0170878d41370afa32b10a56da8b4af6/comments", "author": null, "committer": null, "parents": [{"sha": "722279e41f7d76fc4b3ea8cca0d542c3d5779db2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/722279e41f7d76fc4b3ea8cca0d542c3d5779db2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/722279e41f7d76fc4b3ea8cca0d542c3d5779db2"}], "stats": {"total": 36, "additions": 35, "deletions": 1}, "files": [{"sha": "b6ab912ae861f1a5fec920969fd8d4cdcfe0d490", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c5dd277d0170878d41370afa32b10a56da8b4af6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c5dd277d0170878d41370afa32b10a56da8b4af6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c5dd277d0170878d41370afa32b10a56da8b4af6", "patch": "@@ -7,6 +7,9 @@\n \t* final.c (final_start_function): Call the new function rather\n \tthan using a NULL argument for dwarf2out_frame_debug.\n \n+\t* ifcvt.c (cond_exec_process_insns): Disallow converting a block\n+\tthat contains the prologue.\n+\n 2011-04-01  Ulrich Weigand  <Ulrich.Weigand@de.ibm.com>\n \n \t* config/spu/t-spu-elf (dp-bit.c): Use > instead of >>."}, {"sha": "3e2679923d4350305b807b95a51f8c22567a8a15", "filename": "gcc/ifcvt.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c5dd277d0170878d41370afa32b10a56da8b4af6/gcc%2Fifcvt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c5dd277d0170878d41370afa32b10a56da8b4af6/gcc%2Fifcvt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fifcvt.c?ref=c5dd277d0170878d41370afa32b10a56da8b4af6", "patch": "@@ -1,5 +1,6 @@\n /* If-conversion support.\n-   Copyright (C) 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2010\n+   Copyright (C) 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2010,\n+   2011\n    Free Software Foundation, Inc.\n \n    This file is part of GCC.\n@@ -304,6 +305,10 @@ cond_exec_process_insns (ce_if_block_t *ce_info ATTRIBUTE_UNUSED,\n \n   for (insn = start; ; insn = NEXT_INSN (insn))\n     {\n+      /* dwarf2out can't cope with conditional prologues.  */\n+      if (NOTE_P (insn) && NOTE_KIND (insn) == NOTE_INSN_PROLOGUE_END)\n+\treturn FALSE;\n+\n       if (NOTE_P (insn) || DEBUG_INSN_P (insn))\n \tgoto insn_done;\n "}, {"sha": "dcdf555ce22292868fedba01555cce7baf10ece6", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c5dd277d0170878d41370afa32b10a56da8b4af6/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c5dd277d0170878d41370afa32b10a56da8b4af6/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c5dd277d0170878d41370afa32b10a56da8b4af6", "patch": "@@ -1,3 +1,7 @@\n+2011-04-01  Bernd Schmidt  <bernds@codesourcery.com>\n+\n+\t* gcc.c-torture/compile/20110401-1.c: New test.\n+\n 2011-03-31  Ian Lance Taylor  <iant@google.com>\n \n \t* go.test/go-test.exp (go-set-goarch): Recognize MIPS ABIs."}, {"sha": "ee83a4136749945562c68d4b5715f52e3ee3c09e", "filename": "gcc/testsuite/gcc.c-torture/compile/20110401-1.c", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c5dd277d0170878d41370afa32b10a56da8b4af6/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20110401-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c5dd277d0170878d41370afa32b10a56da8b4af6/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20110401-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20110401-1.c?ref=c5dd277d0170878d41370afa32b10a56da8b4af6", "patch": "@@ -0,0 +1,22 @@\n+void asn1_length_der (unsigned long int len, unsigned char *ans, int *ans_len)\n+{\n+    int k;\n+    unsigned char temp[4];\n+    if (len < 128) {\n+\tif (ans != ((void *) 0))\n+\t    ans[0] = (unsigned char) len;\n+\t*ans_len = 1;\n+    } else {\n+\tk = 0;\n+\twhile (len) {\n+\t    temp[k++] = len & 0xFF;\n+\t    len = len >> 8;\n+\t}\n+\t*ans_len = k + 1;\n+\tif (ans != ((void *) 0)) {\n+\t    ans[0] = ((unsigned char) k & 0x7F) + 128;\n+\t    while (k--)\n+\t\tans[*ans_len - 1 - k] = temp[k];\n+\t}\n+    }\n+}"}]}