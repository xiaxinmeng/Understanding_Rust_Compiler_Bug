{"sha": "d1271dedce4457a960fbe78d6679161c29274670", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDEyNzFkZWRjZTQ0NTdhOTYwZmJlNzhkNjY3OTE2MWMyOTI3NDY3MA==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "amylaar@cygnus.co.uk", "date": "1997-10-31T00:23:07Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "1997-10-31T00:23:07Z"}, "message": "profile.c (output_func_start_profiler): Clear flag_inline_functions for the duration of the call to rest_of_compilation.\n\n\t* profile.c (output_func_start_profiler): Clear flag_inline_functions\n\tfor the duration of the call to rest_of_compilation.\n\nFrom-SVN: r16246", "tree": {"sha": "3a948569f6f18f55c7bfa641b669c7109e260703", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3a948569f6f18f55c7bfa641b669c7109e260703"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d1271dedce4457a960fbe78d6679161c29274670", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1271dedce4457a960fbe78d6679161c29274670", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d1271dedce4457a960fbe78d6679161c29274670", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1271dedce4457a960fbe78d6679161c29274670/comments", "author": null, "committer": null, "parents": [{"sha": "c0498f43952873c5270b6830332fb936e454dc84", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0498f43952873c5270b6830332fb936e454dc84", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c0498f43952873c5270b6830332fb936e454dc84"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "78f47c3bbfdb61e1cef440b8d5971870b836b8aa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1271dedce4457a960fbe78d6679161c29274670/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1271dedce4457a960fbe78d6679161c29274670/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d1271dedce4457a960fbe78d6679161c29274670", "patch": "@@ -1,3 +1,8 @@\n+Fri Oct 31 00:16:55 1997  J\"orn Rennecke <amylaar@cygnus.co.uk>\n+\n+\t* profile.c (output_func_start_profiler): Clear flag_inline_functions\n+\tfor the duration of the call to rest_of_compilation.\n+\n Thu Oct 30 14:40:10 1997  Doug Evans  <devans@canuck.cygnus.com>\n \n \t* configure.in (sparc-*-elf*): Use sparc/elf.h, sparc/t-elf."}, {"sha": "1888ad0ef96c0949e4ce53d8004b244e1e6fce8b", "filename": "gcc/profile.c", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1271dedce4457a960fbe78d6679161c29274670/gcc%2Fprofile.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1271dedce4457a960fbe78d6679161c29274670/gcc%2Fprofile.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fprofile.c?ref=d1271dedce4457a960fbe78d6679161c29274670", "patch": "@@ -1584,6 +1584,7 @@ output_func_start_profiler ()\n   char *name, *cfnname;\n   rtx table_address;\n   enum machine_mode mode = mode_for_size (LONG_TYPE_SIZE, MODE_INT, 0);\n+  int save_flag_inline_functions = flag_inline_functions;\n \n   /* It's either already been output, or we don't need it because we're\n      not doing profile-arcs. */\n@@ -1628,7 +1629,17 @@ output_func_start_profiler ()\n \n   expand_function_end (input_filename, lineno, 0);\n   poplevel (1, 0, 1);\n+\n+  /* Since fndecl isn't in the list of globals, it would never be emitted\n+     when it's considered to be 'safe' for inlining, so turn off\n+     flag_inline_functions.  */\n+  flag_inline_functions = 0;\n+\n   rest_of_compilation (fndecl);\n+\n+  /* Reset flag_inline_functions to its original value.  */\n+  flag_inline_functions = save_flag_inline_functions;\n+\n   fflush (asm_out_file);\n   current_function_decl = NULL_TREE;\n "}]}