{"sha": "aa7e089fdc0e8095f6790ec53ccad0472573de79", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWE3ZTA4OWZkYzBlODA5NWY2NzkwZWM1M2NjYWQwNDcyNTczZGU3OQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-08-02T17:01:43Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-08-02T17:01:43Z"}, "message": "compiler: Always put descriptor wrappers in their own section.\n\nThis lets the linker GC them.\n\nFrom-SVN: r201442", "tree": {"sha": "e0c11ccced33f5f345ee2f6e9470a50fdbd04268", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e0c11ccced33f5f345ee2f6e9470a50fdbd04268"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aa7e089fdc0e8095f6790ec53ccad0472573de79", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa7e089fdc0e8095f6790ec53ccad0472573de79", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aa7e089fdc0e8095f6790ec53ccad0472573de79", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa7e089fdc0e8095f6790ec53ccad0472573de79/comments", "author": null, "committer": null, "parents": [{"sha": "d62d51524697e5a8422c6ca31977b7ad5a2628c1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d62d51524697e5a8422c6ca31977b7ad5a2628c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d62d51524697e5a8422c6ca31977b7ad5a2628c1"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "0b69d5d9887feecdfa1aa4983e13de60221838ed", "filename": "gcc/go/gofrontend/gogo.cc", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa7e089fdc0e8095f6790ec53ccad0472573de79/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa7e089fdc0e8095f6790ec53ccad0472573de79/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fgogo.cc?ref=aa7e089fdc0e8095f6790ec53ccad0472573de79", "patch": "@@ -3582,6 +3582,12 @@ Function::make_descriptor_wrapper(Gogo* gogo, Named_object* no,\n   Named_object* dno = gogo->start_function(name, new_fntype, false, loc);\n   dno->func_value()->is_descriptor_wrapper_ = true;\n \n+  // Put the wrapper in a unique section so that it can be discarded\n+  // by the linker if it is not needed.  Every top-level function will\n+  // get a wrapper, in case there is a reference other than a call\n+  // from some other package, but most will not need one.\n+  dno->func_value()->set_in_unique_section();\n+\n   gogo->start_block(loc);\n \n   Expression* fn = Expression::make_func_reference(no, NULL, loc);"}]}