{"sha": "14686fcda5034dac9dda0cb615129ee38a9808c6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTQ2ODZmY2RhNTAzNGRhYzlkZGEwY2I2MTUxMjllZTM4YTk4MDhjNg==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1999-02-21T19:58:22Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-02-21T19:58:22Z"}, "message": "tm.texi: Update docs for constructors and destructors.\n\n        * tm.texi: Update docs for constructors and destructors.\nAnd update comment in cp/decl2.c\n\nFrom-SVN: r25356", "tree": {"sha": "96c04fba31baa7810b3fe1a78322e9cf838bd523", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/96c04fba31baa7810b3fe1a78322e9cf838bd523"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/14686fcda5034dac9dda0cb615129ee38a9808c6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14686fcda5034dac9dda0cb615129ee38a9808c6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/14686fcda5034dac9dda0cb615129ee38a9808c6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14686fcda5034dac9dda0cb615129ee38a9808c6/comments", "author": null, "committer": null, "parents": [{"sha": "b4bb92e52f7d5f1dbd2f95e829c2d789d57609af", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4bb92e52f7d5f1dbd2f95e829c2d789d57609af", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b4bb92e52f7d5f1dbd2f95e829c2d789d57609af"}], "stats": {"total": 17, "additions": 13, "deletions": 4}, "files": [{"sha": "f54f6a38f1e12d59b589bacad8cf20ecf5fb64d4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14686fcda5034dac9dda0cb615129ee38a9808c6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14686fcda5034dac9dda0cb615129ee38a9808c6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=14686fcda5034dac9dda0cb615129ee38a9808c6", "patch": "@@ -2,6 +2,7 @@ Sun Feb 21 20:35:10 1999  Jeffrey A Law  (law@cygnus.com)\n \n \t* config/aoutos.h (ASM_OUTPUT_CONSTRUCTOR): Delete.\n \t(ASM_OUTPUT_DESTRUCTOR, ASM_OUTPUT_GC_ENTRY): Likewise.\n+\t* tm.texi: Update docs for constructors and destructors.\n \n Sun Feb 21 17:11:18 1999  Richard Henderson  <rth@cygnus.com>\n "}, {"sha": "61a88eb4a402745b9b007343a4449287749e0677", "filename": "gcc/cp/decl2.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14686fcda5034dac9dda0cb615129ee38a9808c6/gcc%2Fcp%2Fdecl2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14686fcda5034dac9dda0cb615129ee38a9808c6/gcc%2Fcp%2Fdecl2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl2.c?ref=14686fcda5034dac9dda0cb615129ee38a9808c6", "patch": "@@ -2938,7 +2938,8 @@ start_objects (method_type, initp)\n \t\t  NULL_TREE, 0);\n \n #if defined(ASM_OUTPUT_CONSTRUCTOR) && defined(ASM_OUTPUT_DESTRUCTOR)\n-  /* It can be a static function with .ctors/.dtors sections. */\n+  /* It can be a static function as long as collect2 does not have\n+     to scan the object file to find its ctor/dtor routine.  */\n   TREE_PUBLIC (current_function_decl) = 0;\n #endif\n "}, {"sha": "cd45f74498e83322ef03c1de2c580b8cede46120", "filename": "gcc/tm.texi", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14686fcda5034dac9dda0cb615129ee38a9808c6/gcc%2Ftm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14686fcda5034dac9dda0cb615129ee38a9808c6/gcc%2Ftm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftm.texi?ref=14686fcda5034dac9dda0cb615129ee38a9808c6", "patch": "@@ -5976,13 +5976,20 @@ names.\n @findex ASM_OUTPUT_DESTRUCTOR\n This is like @code{ASM_OUTPUT_CONSTRUCTOR} but used for termination\n functions rather than initialization functions.\n+\n+When @code{ASM_OUTPUT_CONSTRUCTOR} and @code{ASM_OUTPUT_DESTRUCTOR} are\n+defined, the initializaiton routine generated for the generated object\n+file will have static linkage.\n @end table\n \n If your system uses @code{collect2} as the means of processing\n constructors, then that program normally uses @code{nm} to scan an\n-object file for constructor functions to be called.  On certain kinds of\n-systems, you can define these macros to make @code{collect2} work faster\n-(and, in some cases, make it work at all):\n+object file for constructor functions to be called.  On such systems you\n+must not define @code{ASM_OUTPUT_CONSTRUCTOR} and @code{ASM_OUTPUT_DESTRUCTOR}\n+as the object file's initialization routine must have global scope.\n+\n+On certain kinds of systems, you can define these macros to make\n+@code{collect2} work faster (and, in some cases, make it work at all):\n \n @table @code\n @findex OBJECT_FORMAT_COFF"}]}