{"sha": "8c6562e12bf7d1406474cbba832073a4afe5687c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGM2NTYyZTEyYmY3ZDE0MDY0NzRjYmJhODMyMDczYTRhZmU1Njg3Yw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2017-09-14T07:56:23Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2017-09-14T07:56:23Z"}, "message": "elf.h (LINK_EH_SPEC): Add -static-pie support.\n\n\t* config/alpha/elf.h (LINK_EH_SPEC): Add -static-pie support.\n\t* config/alpha/linux.h (LINK_GCC_C_SEQUENCE_SPEC): Likewise.\n\t* config/netbsd.h (LINK_EH_SPEC): Likewise.\n\t* config/sol2.h (LINK_EH_SPEC): Likewise.\n\t* config/arm/uclinux-elf.h (LINK_GCC_C_SEQUENCE_SPEC): Likewise.\n\t* config/s390/linux.h (LINK_SPEC): Likewise.\n\t* config/freebsd.h (LINK_EH_SPEC): Likewise.\n\t* config/openbsd.h (LINK_EH_SPEC): Likewise.\n\t* config/lm32/uclinux-elf.h (LINK_GCC_C_SEQUENCE_SPEC): Likewise.\n\t* config/aarch64/aarch64-linux.h (LINUX_TARGET_LINK_SPEC): Likewise.\n\t* config/powerpcspe/sysv4.h (LINK_EH_SPEC): Likewise.\n\t* config/bfin/linux.h (LINK_GCC_C_SEQUENCE_SPEC): Likewise.\n\t* config/i386/gnu-user64.h (GNU_USER_TARGET_LINK_SPEC): Fix a typo.\n\t* config/i386/gnu-user.h (GNU_USER_TARGET_LINK_SPEC): Formatting fix.\n\nFrom-SVN: r252750", "tree": {"sha": "c36d15fa07dd1f599e60da37b986e77a2403abd0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c36d15fa07dd1f599e60da37b986e77a2403abd0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8c6562e12bf7d1406474cbba832073a4afe5687c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c6562e12bf7d1406474cbba832073a4afe5687c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8c6562e12bf7d1406474cbba832073a4afe5687c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c6562e12bf7d1406474cbba832073a4afe5687c/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "022aa0ce5eebafe60f20245c8ff26b60a5074dfd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/022aa0ce5eebafe60f20245c8ff26b60a5074dfd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/022aa0ce5eebafe60f20245c8ff26b60a5074dfd"}], "stats": {"total": 57, "additions": 40, "deletions": 17}, "files": [{"sha": "5a6a211982dd3ff2d5f56cbf5cd11bf7fd0cbb09", "filename": "gcc/ChangeLog", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8c6562e12bf7d1406474cbba832073a4afe5687c", "patch": "@@ -1,3 +1,20 @@\n+2017-09-14  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* config/alpha/elf.h (LINK_EH_SPEC): Add -static-pie support.\n+\t* config/alpha/linux.h (LINK_GCC_C_SEQUENCE_SPEC): Likewise.\n+\t* config/netbsd.h (LINK_EH_SPEC): Likewise.\n+\t* config/sol2.h (LINK_EH_SPEC): Likewise.\n+\t* config/arm/uclinux-elf.h (LINK_GCC_C_SEQUENCE_SPEC): Likewise.\n+\t* config/s390/linux.h (LINK_SPEC): Likewise.\n+\t* config/freebsd.h (LINK_EH_SPEC): Likewise.\n+\t* config/openbsd.h (LINK_EH_SPEC): Likewise.\n+\t* config/lm32/uclinux-elf.h (LINK_GCC_C_SEQUENCE_SPEC): Likewise.\n+\t* config/aarch64/aarch64-linux.h (LINUX_TARGET_LINK_SPEC): Likewise.\n+\t* config/powerpcspe/sysv4.h (LINK_EH_SPEC): Likewise.\n+\t* config/bfin/linux.h (LINK_GCC_C_SEQUENCE_SPEC): Likewise.\n+\t* config/i386/gnu-user64.h (GNU_USER_TARGET_LINK_SPEC): Fix a typo.\n+\t* config/i386/gnu-user.h (GNU_USER_TARGET_LINK_SPEC): Formatting fix.\n+\n 2017-09-13  Jakub Jelinek  <jakub@redhat.com>\n \n \t* config/rs6000/sysv4.h (STARTFILE_LINUX_SPEC): Add -static-pie"}, {"sha": "2103344a47c88da976de570ee1f009567b4c167f", "filename": "gcc/config/aarch64/aarch64-linux.h", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Faarch64%2Faarch64-linux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Faarch64%2Faarch64-linux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64-linux.h?ref=8c6562e12bf7d1406474cbba832073a4afe5687c", "patch": "@@ -38,9 +38,10 @@\n    %{static:-Bstatic}\t\t\t\t\\\n    %{shared:-shared}\t\t\t\t\\\n    %{symbolic:-Bsymbolic}\t\t\t\\\n-   %{!static:\t\t\t\t\t\\\n+   %{!static:%{!static-pie:\t\t\t\\\n      %{rdynamic:-export-dynamic}\t\t\\\n-     %{!shared:-dynamic-linker \" GNU_USER_DYNAMIC_LINKER \"}} \\\n+     %{!shared:-dynamic-linker \" GNU_USER_DYNAMIC_LINKER \"}}} \\\n+   %{static-pie:-Bstatic -pie --no-dynamic-linker -z text} \\\n    -X\t\t\t\t\t\t\\\n    %{mbig-endian:-EB} %{mlittle-endian:-EL}     \\\n    -maarch64linux%{mabi=ilp32:32}%{mbig-endian:b}\""}, {"sha": "29ff1d9c0d138e558baccd3583dbc648106d5d72", "filename": "gcc/config/alpha/elf.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Falpha%2Felf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Falpha%2Felf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Felf.h?ref=8c6562e12bf7d1406474cbba832073a4afe5687c", "patch": "@@ -168,5 +168,5 @@ extern int alpha_this_gpdisp_sequence_number;\n    I imagine that other systems will catch up.  In the meantime, it\n    doesn't harm to make sure that the data exists to be used later.  */\n #if defined(HAVE_LD_EH_FRAME_HDR)\n-#define LINK_EH_SPEC \"%{!static:--eh-frame-hdr} \"\n+#define LINK_EH_SPEC \"%{!static|static-pie:--eh-frame-hdr} \"\n #endif"}, {"sha": "2f2a185d7802a243781487e627debe8f9a76bf48", "filename": "gcc/config/alpha/linux.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Falpha%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Falpha%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Flinux.h?ref=8c6562e12bf7d1406474cbba832073a4afe5687c", "patch": "@@ -79,7 +79,8 @@ along with GCC; see the file COPYING3.  If not see\n #define TARGET_POSIX_IO\n \n #define LINK_GCC_C_SEQUENCE_SPEC \\\n-  \"%{static:--start-group} %G %L %{static:--end-group}%{!static:%G}\"\n+  \"%{static|static-pie:--start-group} %G %L \\\n+   %{static|static-pie:--end-group}%{!static:%{!static-pie:%G}}\"\n \n /* Use --as-needed -lgcc_s for eh support.  */\n #ifdef HAVE_LD_AS_NEEDED"}, {"sha": "534af9a1e97fecb5c904b998f7ab2da878e04e39", "filename": "gcc/config/arm/uclinux-elf.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Farm%2Fuclinux-elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Farm%2Fuclinux-elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fuclinux-elf.h?ref=8c6562e12bf7d1406474cbba832073a4afe5687c", "patch": "@@ -70,7 +70,8 @@\n \n #undef LINK_GCC_C_SEQUENCE_SPEC\n #define LINK_GCC_C_SEQUENCE_SPEC \\\n-  \"%{static:--start-group} %G %L %{static:--end-group}%{!static:%G %L}\"\n+  \"%{static|static-pie:--start-group} %G %L \\\n+   %{static|static-pie:--end-group}%{!static:%{!static-pie:%G %L}}\"\n \n /* Use --as-needed -lgcc_s for eh support.  */\n #ifdef HAVE_LD_AS_NEEDED"}, {"sha": "bdea1320f185d83a94d661c48008026106111ec7", "filename": "gcc/config/bfin/linux.h", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Fbfin%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Fbfin%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fbfin%2Flinux.h?ref=8c6562e12bf7d1406474cbba832073a4afe5687c", "patch": "@@ -35,8 +35,9 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n \n #undef LINK_GCC_C_SEQUENCE_SPEC\n #define LINK_GCC_C_SEQUENCE_SPEC \\\n-  \"%{static:--start-group} %{mfast-fp:-lbffastfp} %G %L %{static:--end-group} \\\n-   %{!static:%{mfast-fp:-lbffastfp} %G}\"\n+  \"%{static|static-pie:--start-group} %{mfast-fp:-lbffastfp} %G %L \\\n+   %{static|static-pie:--end-group} \\\n+   %{!static:%{!static-pie:%{mfast-fp:-lbffastfp} %G}}\"\n \n #undef CPP_SPEC\n #define CPP_SPEC \"%{posix:-D_POSIX_SOURCE} %{pthread:-D_REENTRANT}\""}, {"sha": "e7ea42370c5ba06303c9bfddb47ab9e35118769d", "filename": "gcc/config/freebsd.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Ffreebsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Ffreebsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffreebsd.h?ref=8c6562e12bf7d1406474cbba832073a4afe5687c", "patch": "@@ -45,7 +45,7 @@ along with GCC; see the file COPYING3.  If not see\n #define LIB_SPEC FBSD_LIB_SPEC\n \n #if defined(HAVE_LD_EH_FRAME_HDR)\n-#define LINK_EH_SPEC \"%{!static:--eh-frame-hdr} \"\n+#define LINK_EH_SPEC \"%{!static|static-pie:--eh-frame-hdr} \"\n #endif\n \n #ifdef TARGET_LIBC_PROVIDES_SSP"}, {"sha": "07f64c8aa93a303d75031967980c0bf02fd55502", "filename": "gcc/config/i386/gnu-user.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Fi386%2Fgnu-user.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Fi386%2Fgnu-user.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fgnu-user.h?ref=8c6562e12bf7d1406474cbba832073a4afe5687c", "patch": "@@ -80,7 +80,7 @@ along with GCC; see the file COPYING3.  If not see\n       %{!static-pie: \\\n \t%{rdynamic:-export-dynamic} \\\n \t-dynamic-linker %(dynamic_linker)}} \\\n-      %{static:-static} %{static-pie:-static -pie --no-dynamic-linker -z text}}\"\n+    %{static:-static} %{static-pie:-static -pie --no-dynamic-linker -z text}}\"\n \n #undef\tLINK_SPEC\n #define LINK_SPEC GNU_USER_TARGET_LINK_SPEC"}, {"sha": "46434a84011ddbdcf290c7e3ae76788709211fa4", "filename": "gcc/config/i386/gnu-user64.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Fi386%2Fgnu-user64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Fi386%2Fgnu-user64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fgnu-user64.h?ref=8c6562e12bf7d1406474cbba832073a4afe5687c", "patch": "@@ -59,7 +59,7 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n   %{shared:-shared} \\\n   %{!shared: \\\n     %{!static: \\\n-      %{!static-static: \\\n+      %{!static-pie: \\\n \t%{rdynamic:-export-dynamic} \\\n \t%{\" SPEC_32 \":-dynamic-linker \" GNU_USER_DYNAMIC_LINKER32 \"} \\\n \t%{\" SPEC_64 \":-dynamic-linker \" GNU_USER_DYNAMIC_LINKER64 \"} \\"}, {"sha": "aebef889a503ab135343052aa7bfd6b998eccd5a", "filename": "gcc/config/lm32/uclinux-elf.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Flm32%2Fuclinux-elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Flm32%2Fuclinux-elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Flm32%2Fuclinux-elf.h?ref=8c6562e12bf7d1406474cbba832073a4afe5687c", "patch": "@@ -72,7 +72,8 @@\n #define TARGET_OS_CPP_BUILTINS() GNU_USER_TARGET_OS_CPP_BUILTINS()\n \n #define LINK_GCC_C_SEQUENCE_SPEC \\\n-  \"%{static:--start-group} %G %L %{static:--end-group}%{!static:%G}\"\n+  \"%{static|static-pie:--start-group} %G %L \\\n+   %{static|static-pie:--end-group}%{!static:%{!static-pie:%G}}\"\n \n #undef  CC1_SPEC\n #define CC1_SPEC \"%{G*} %{!fno-PIC:-fPIC}\""}, {"sha": "aafce9f9f5eb92433eaf485b41e86ff9d5ddea35", "filename": "gcc/config/netbsd.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Fnetbsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Fnetbsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnetbsd.h?ref=8c6562e12bf7d1406474cbba832073a4afe5687c", "patch": "@@ -125,7 +125,7 @@ along with GCC; see the file COPYING3.  If not see\n #define LIBGCC_SPEC NETBSD_LIBGCC_SPEC\n \n #if defined(HAVE_LD_EH_FRAME_HDR)\n-#define LINK_EH_SPEC \"%{!static:--eh-frame-hdr} \"\n+#define LINK_EH_SPEC \"%{!static|static-pie:--eh-frame-hdr} \"\n #endif\n \n #undef TARGET_LIBC_HAS_FUNCTION"}, {"sha": "ed7837b3a1a2afdfa0743e2ad9e01cf49aeadcf9", "filename": "gcc/config/openbsd.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Fopenbsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Fopenbsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fopenbsd.h?ref=8c6562e12bf7d1406474cbba832073a4afe5687c", "patch": "@@ -136,7 +136,7 @@ while (0)\n #define LIB_SPEC OBSD_LIB_SPEC\n \n #if defined(HAVE_LD_EH_FRAME_HDR)\n-#define LINK_EH_SPEC \"%{!static:--eh-frame-hdr} \"\n+#define LINK_EH_SPEC \"%{!static|static-pie:--eh-frame-hdr} \"\n #endif\n \n #undef LIB_SPEC"}, {"sha": "f86ad11ec4f3e5301a764d37550c776742a2e42e", "filename": "gcc/config/powerpcspe/sysv4.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Fpowerpcspe%2Fsysv4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Fpowerpcspe%2Fsysv4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpowerpcspe%2Fsysv4.h?ref=8c6562e12bf7d1406474cbba832073a4afe5687c", "patch": "@@ -805,7 +805,7 @@ ENDIAN_SELECT(\" -mbig\", \" -mlittle\", DEFAULT_ASM_ENDIAN)\n   -dynamic-linker \" GNU_USER_DYNAMIC_LINKER \"}}\"\n \n #if defined(HAVE_LD_EH_FRAME_HDR)\n-# define LINK_EH_SPEC \"%{!static:--eh-frame-hdr} \"\n+# define LINK_EH_SPEC \"%{!static|static-pie:--eh-frame-hdr} \"\n #endif\n \n #define CPP_OS_LINUX_SPEC \"-D__unix__ -D__gnu_linux__ -D__linux__ \\"}, {"sha": "76f994a6807e9017fb765b29bebcb943b0935b8e", "filename": "gcc/config/s390/linux.h", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Fs390%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Fs390%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Flinux.h?ref=8c6562e12bf7d1406474cbba832073a4afe5687c", "patch": "@@ -82,10 +82,11 @@ along with GCC; see the file COPYING3.  If not see\n    %{shared:-shared} \\\n    %{!shared: \\\n       %{static:-static} \\\n-      %{!static: \\\n+      %{!static:%{!static-pie: \\\n \t%{rdynamic:-export-dynamic} \\\n \t%{m31:-dynamic-linker \" GNU_USER_DYNAMIC_LINKER32 \"} \\\n-\t%{m64:-dynamic-linker \" GNU_USER_DYNAMIC_LINKER64 \"}}}\"\n+\t%{m64:-dynamic-linker \" GNU_USER_DYNAMIC_LINKER64 \"}}}} \\\n+   %{static-pie:-static -pie --no-dynamic-linker -z text}\"\n \n #define CPP_SPEC \"%{posix:-D_POSIX_SOURCE} %{pthread:-D_REENTRANT}\"\n "}, {"sha": "f6c2fefbbc17d3c46376ed8eda15a311572a2cf5", "filename": "gcc/config/sol2.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Fsol2.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c6562e12bf7d1406474cbba832073a4afe5687c/gcc%2Fconfig%2Fsol2.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsol2.h?ref=8c6562e12bf7d1406474cbba832073a4afe5687c", "patch": "@@ -372,7 +372,7 @@ along with GCC; see the file COPYING3.  If not see\n /* Solaris 11 build 135+ implements dl_iterate_phdr.  GNU ld needs\n    --eh-frame-hdr to create the required .eh_frame_hdr sections.  */\n #if defined(HAVE_LD_EH_FRAME_HDR) && defined(TARGET_DL_ITERATE_PHDR)\n-#define LINK_EH_SPEC \"%{!static:--eh-frame-hdr} \"\n+#define LINK_EH_SPEC \"%{!static|static-pie:--eh-frame-hdr} \"\n #endif /* HAVE_LD_EH_FRAME && TARGET_DL_ITERATE_PHDR */\n #endif\n "}]}