{"sha": "f6a83eb0a77977814adcb11f74141b0ff175a52f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjZhODNlYjBhNzc5Nzc4MTRhZGNiMTFmNzQxNDFiMGZmMTc1YTUyZg==", "commit": {"author": {"name": "Joe Buck", "email": "jbuck@synopsys.com", "date": "2002-11-29T22:08:36Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2002-11-29T22:08:36Z"}, "message": "anon2.C: New test.\n\n\t* g++.dg/lookup/anon2.C: New test.\n\n\t* parse.y (class_head_defn): Set CLASSTYPE_DECLARED_CLASS for\n\tanonymous structs.\n\nFrom-SVN: r59647", "tree": {"sha": "c1ac37997171ec2cbf8e8fd3495824679f8ef59d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c1ac37997171ec2cbf8e8fd3495824679f8ef59d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f6a83eb0a77977814adcb11f74141b0ff175a52f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6a83eb0a77977814adcb11f74141b0ff175a52f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f6a83eb0a77977814adcb11f74141b0ff175a52f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6a83eb0a77977814adcb11f74141b0ff175a52f/comments", "author": null, "committer": null, "parents": [{"sha": "ff944b4986e98b09d1c300ad3f41ed89313aa915", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff944b4986e98b09d1c300ad3f41ed89313aa915", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ff944b4986e98b09d1c300ad3f41ed89313aa915"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "7ff2a31c8d5021da63623ffe5535c31a47917812", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6a83eb0a77977814adcb11f74141b0ff175a52f/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6a83eb0a77977814adcb11f74141b0ff175a52f/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=f6a83eb0a77977814adcb11f74141b0ff175a52f", "patch": "@@ -1,3 +1,8 @@\n+2002-11-29  Joe Buck <jbuck@synopsys.com>\n+\n+\t* parse.y (class_head_defn): Set CLASSTYPE_DECLARED_CLASS for\n+\tanonymous structs.\n+\t\n 2002-11-29  Mark Mitchell  <mark@codesourcery.com>\n \n \t* class.c (walk_subobject_offsets): Recur on binfos as well as on"}, {"sha": "0be461eada532fcd068becfb7397a8b96ecb430d", "filename": "gcc/cp/parse.y", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6a83eb0a77977814adcb11f74141b0ff175a52f/gcc%2Fcp%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6a83eb0a77977814adcb11f74141b0ff175a52f/gcc%2Fcp%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparse.y?ref=f6a83eb0a77977814adcb11f74141b0ff175a52f", "patch": "@@ -2524,6 +2524,8 @@ class_head_defn:\n \t\t\t\t\t\t\t make_anon_name (), \n \t\t\t\t\t\t\t 0));\n \t\t  $$.new_type_flag = 0;\n+\t\t  CLASSTYPE_DECLARED_CLASS (TREE_TYPE ($$.t))\n+\t\t    = $1 == class_type_node;\n \t\t  yyungetc ('{', 1);\n \t\t}\n \t;"}, {"sha": "ad7f449ab09933670ac1ff962cbf187d49dc2a9e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6a83eb0a77977814adcb11f74141b0ff175a52f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6a83eb0a77977814adcb11f74141b0ff175a52f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f6a83eb0a77977814adcb11f74141b0ff175a52f", "patch": "@@ -1,3 +1,7 @@\n+2002-11-29  Joe Buck <jbuck@synopsys.com>\n+\n+\t* g++.dg/lookup/anon2.C: New test.\n+\n 2002-11-28  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* gcc.c-torture/execute/strct-varg-1.x: Remove xfail on the"}, {"sha": "b0a7c07af96fd43b400f9aa29f6d5fe4662ba2ec", "filename": "gcc/testsuite/g++.dg/lookup/anon2.C", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6a83eb0a77977814adcb11f74141b0ff175a52f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flookup%2Fanon2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6a83eb0a77977814adcb11f74141b0ff175a52f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flookup%2Fanon2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flookup%2Fanon2.C?ref=f6a83eb0a77977814adcb11f74141b0ff175a52f", "patch": "@@ -0,0 +1,6 @@\n+// { dg-do compile }\n+// { dg-options \"\" }\n+\n+class { int i; } a; // { dg-error \"private\" }\n+void foo() { a.i; } // { dg-error \"context\" }\n+"}]}