{"sha": "4be204f02d0cd7666f2a39219f899a5f7573275d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGJlMjA0ZjAyZDBjZDc2NjZmMmEzOTIxOWY4OTlhNWY3NTczMjc1ZA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-05-15T20:11:06Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-05-15T20:11:06Z"}, "message": "(expand_assignment): Fix error in last change.\n\nFrom-SVN: r4476", "tree": {"sha": "65bf249fb52b823259c2bf3e720205b4d0859d35", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/65bf249fb52b823259c2bf3e720205b4d0859d35"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4be204f02d0cd7666f2a39219f899a5f7573275d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4be204f02d0cd7666f2a39219f899a5f7573275d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4be204f02d0cd7666f2a39219f899a5f7573275d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4be204f02d0cd7666f2a39219f899a5f7573275d/comments", "author": null, "committer": null, "parents": [{"sha": "b45863ecee4523fcb7822702eba1bed616e45563", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b45863ecee4523fcb7822702eba1bed616e45563", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b45863ecee4523fcb7822702eba1bed616e45563"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "a3827379ffd0a4565ad2dd690fa723ce7aa5569b", "filename": "gcc/expr.c", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4be204f02d0cd7666f2a39219f899a5f7573275d/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4be204f02d0cd7666f2a39219f899a5f7573275d/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=4be204f02d0cd7666f2a39219f899a5f7573275d", "patch": "@@ -1,5 +1,5 @@\n /* Convert tree expression to rtl instructions, for GNU compiler.\n-   Copyright (C) 1988, 1992 Free Software Foundation, Inc.\n+   Copyright (C) 1988, 1992, 1993 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -2197,8 +2197,12 @@ expand_assignment (to, from, want_value, suggest_reg)\n       preserve_temp_slots (result);\n       free_temp_slots ();\n \n-      return convert_to_mode (TYPE_MODE (TREE_TYPE (to)), result,\n-\t\t\t      TREE_UNSIGNED (TREE_TYPE (to)));\n+      /* If we aren't returning a result, just pass on what expand_expr\n+\t returned; it was probably const0_rtx.  Otherwise, convert RESULT\n+\t to the proper mode.  */\n+      return (want_value ? convert_to_mode (TYPE_MODE (TREE_TYPE (to)), result,\n+\t\t\t\t\t    TREE_UNSIGNED (TREE_TYPE (to)))\n+\t      : result);\n     }\n \n   /* Ordinary treatment.  Expand TO to get a REG or MEM rtx."}]}