{"sha": "9d9e5c09bd9fceccbeda15db6b31b2af699d494f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWQ5ZTVjMDliZDlmY2VjY2JlZGExNWRiNmIzMWIyYWY2OTlkNDk0Zg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "2000-04-25T10:13:17Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2000-04-25T10:13:17Z"}, "message": "toplev.c (rest_of_compilation): Delay sibcall optimization until after emit_eh_context.\n\n        * toplev.c (rest_of_compilation): Delay sibcall optimization\n        until after emit_eh_context.\n\nFrom-SVN: r33407", "tree": {"sha": "b815b7b3d56470cd3092432c28c5f17e798992b6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b815b7b3d56470cd3092432c28c5f17e798992b6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9d9e5c09bd9fceccbeda15db6b31b2af699d494f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d9e5c09bd9fceccbeda15db6b31b2af699d494f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9d9e5c09bd9fceccbeda15db6b31b2af699d494f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d9e5c09bd9fceccbeda15db6b31b2af699d494f/comments", "author": null, "committer": null, "parents": [{"sha": "c387f6289827aefdedbffbe486952c47ac9e1739", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c387f6289827aefdedbffbe486952c47ac9e1739", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c387f6289827aefdedbffbe486952c47ac9e1739"}], "stats": {"total": 26, "additions": 16, "deletions": 10}, "files": [{"sha": "8ee7fd29f7a8620622dc490531551d3e27bdb368", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d9e5c09bd9fceccbeda15db6b31b2af699d494f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d9e5c09bd9fceccbeda15db6b31b2af699d494f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9d9e5c09bd9fceccbeda15db6b31b2af699d494f", "patch": "@@ -1,3 +1,8 @@\n+2000-04-25  Richard Henderson  <rth@cygnus.com>\n+\n+\t* toplev.c (rest_of_compilation): Delay sibcall optimization\n+\tuntil after emit_eh_context.\n+\n 2000-04-24  Nick Clifton  <nickc@redhat.com>\n \n \t* combine.c (combine_instructions): Do not try to combine a"}, {"sha": "b479c8443c172c75e951d1ab1e82c5280b45b6f2", "filename": "gcc/toplev.c", "status": "modified", "additions": 11, "deletions": 10, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d9e5c09bd9fceccbeda15db6b31b2af699d494f/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d9e5c09bd9fceccbeda15db6b31b2af699d494f/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=9d9e5c09bd9fceccbeda15db6b31b2af699d494f", "patch": "@@ -2897,16 +2897,6 @@ rest_of_compilation (decl)\n \n   init_EXPR_INSN_LIST_cache ();\n \n-  /* We may have potential sibling or tail recursion sites.  Select one\n-     (of possibly multiple) methods of performing the call.  */\n-  open_dump_file (DFI_sibling, decl);\n-  TIMEVAR (jump_time,\n-\t   {\n-\t     if (flag_optimize_sibling_calls)\n-\t       optimize_sibling_and_tail_recursive_calls ();\n-\t   });\n-  close_dump_file (DFI_sibling, print_rtl, get_insns ());\n-  \n   if (ggc_p)\n     ggc_collect ();\n \n@@ -2928,6 +2918,17 @@ rest_of_compilation (decl)\n   /* Emit code to get eh context, if needed. */\n   emit_eh_context ();\n \n+  /* We may have potential sibling or tail recursion sites.  Select one\n+     (of possibly multiple) methods of performing the call.  */\n+  if (flag_optimize_sibling_calls)\n+    {\n+      open_dump_file (DFI_sibling, decl);\n+\n+      TIMEVAR (jump_time, optimize_sibling_and_tail_recursive_calls ());\n+\n+      close_dump_file (DFI_sibling, print_rtl, get_insns ());\n+    }\n+  \n #ifdef FINALIZE_PIC\n   /* If we are doing position-independent code generation, now\n      is the time to output special prologues and epilogues."}]}