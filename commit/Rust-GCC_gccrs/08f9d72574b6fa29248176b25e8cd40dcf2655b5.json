{"sha": "08f9d72574b6fa29248176b25e8cd40dcf2655b5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDhmOWQ3MjU3NGI2ZmEyOTI0ODE3NmIyNWU4Y2Q0MGRjZjI2NTViNQ==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@linux.vnet.ibm.com", "date": "2010-03-12T15:11:25Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "2010-03-12T15:11:25Z"}, "message": "Remove band-aid no longer needed by the fix in PR 43431\n\nFrom-SVN: r157408", "tree": {"sha": "5c891e12b30a20e52106c51a5bb54fcd541ce3be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5c891e12b30a20e52106c51a5bb54fcd541ce3be"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/08f9d72574b6fa29248176b25e8cd40dcf2655b5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08f9d72574b6fa29248176b25e8cd40dcf2655b5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/08f9d72574b6fa29248176b25e8cd40dcf2655b5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08f9d72574b6fa29248176b25e8cd40dcf2655b5/comments", "author": null, "committer": null, "parents": [{"sha": "b2ef02df5312169ffd4b0cfce00de2e01a5ff508", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2ef02df5312169ffd4b0cfce00de2e01a5ff508", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b2ef02df5312169ffd4b0cfce00de2e01a5ff508"}], "stats": {"total": 32, "additions": 6, "deletions": 26}, "files": [{"sha": "9bb215ac23944bedbea377026ca6a6bf9e5c4fbd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08f9d72574b6fa29248176b25e8cd40dcf2655b5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08f9d72574b6fa29248176b25e8cd40dcf2655b5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=08f9d72574b6fa29248176b25e8cd40dcf2655b5", "patch": "@@ -1,3 +1,9 @@\n+2010-03-12  Michael Meissner  <meissner@linux.vnet.ibm.com>\n+\n+\tPR middle-end/42431\n+\t* gcc/config/rs6000/rs6000.c (rs6000_emit_move): Delete band-aid\n+\tcode added to work around reload clobbering CONST insns.\n+\n 2010-03-12  Jakub Jelinek  <jakub@redhat.com>\n \n \t* cselib.c (LONG_TERM_PRESERVED_VALUE_P): Remove."}, {"sha": "ce38a8a9d9a799cc02cc30c13e0d36a915e3de19", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 0, "deletions": 26, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08f9d72574b6fa29248176b25e8cd40dcf2655b5/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08f9d72574b6fa29248176b25e8cd40dcf2655b5/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=08f9d72574b6fa29248176b25e8cd40dcf2655b5", "patch": "@@ -6346,32 +6346,6 @@ rs6000_emit_move (rtx dest, rtx source, enum machine_mode mode)\n       return;\n     }\n \n-  /* Fix up invalid (const (plus (symbol_ref) (reg))) that seems to be created\n-     in the secondary_reload phase, which evidently overwrites the CONST_INT\n-     with a register.  */\n-  if (GET_CODE (source) == CONST && GET_CODE (XEXP (source, 0)) == PLUS\n-      && mode == Pmode)\n-    {\n-      rtx add_op0 = XEXP (XEXP (source, 0), 0);\n-      rtx add_op1 = XEXP (XEXP (source, 0), 1);\n-\n-      if (GET_CODE (add_op0) == SYMBOL_REF && GET_CODE (add_op1) == REG)\n-\t{\n-\t  rtx tmp = (can_create_pseudo_p ()) ? gen_reg_rtx (Pmode) : dest;\n-\n-\t  if (TARGET_DEBUG_ADDR)\n-\t    {\n-\t      fprintf (stderr, \"\\nrs6000_emit_move: bad source\\n\");\n-\t      debug_rtx (source);\n-\t    }\n-\n-\t  rs6000_emit_move (tmp, add_op0, Pmode);\n-\t  emit_insn (gen_rtx_SET (VOIDmode, dest,\n-\t\t\t\t  gen_rtx_PLUS (Pmode, tmp, add_op1)));\n-\t  return;\n-\t}\n-    }\n-\n   if (can_create_pseudo_p () && GET_CODE (operands[0]) == MEM\n       && !gpc_reg_operand (operands[1], mode))\n     operands[1] = force_reg (mode, operands[1]);"}]}