{"sha": "7c0ae5f17f84a9282e30e828aa06fe4d441ca566", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2MwYWU1ZjE3Zjg0YTkyODJlMzBlODI4YWEwNmZlNGQ0NDFjYTU2Ng==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1997-07-21T18:05:29Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1997-07-21T18:05:29Z"}, "message": "(Makefile): Depend on config.status instead of configure.\n\n(config.status): Depend on configure.  Run config.status --recheck if\nout of date.\n\nFrom-SVN: r14511", "tree": {"sha": "04bdc1dc942ba2bf3d54a10f324e527a9d797d64", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/04bdc1dc942ba2bf3d54a10f324e527a9d797d64"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7c0ae5f17f84a9282e30e828aa06fe4d441ca566", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c0ae5f17f84a9282e30e828aa06fe4d441ca566", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c0ae5f17f84a9282e30e828aa06fe4d441ca566", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c0ae5f17f84a9282e30e828aa06fe4d441ca566/comments", "author": null, "committer": null, "parents": [{"sha": "032cacab4265770c3466e72d63df8428165168d6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/032cacab4265770c3466e72d63df8428165168d6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/032cacab4265770c3466e72d63df8428165168d6"}], "stats": {"total": 27, "additions": 15, "deletions": 12}, "files": [{"sha": "a9e9469ae9fb38aa48a16cbec9c781bafd7c5b45", "filename": "gcc/Makefile.in", "status": "modified", "additions": 15, "deletions": 12, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c0ae5f17f84a9282e30e828aa06fe4d441ca566/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c0ae5f17f84a9282e30e828aa06fe4d441ca566/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=7c0ae5f17f84a9282e30e828aa06fe4d441ca566", "patch": "@@ -651,7 +651,7 @@ T =\n # Avoid a lot of time thinking about remaking Makefile.in and *.def.\n .SUFFIXES: .in .def\n \n-Makefile: $(srcdir)/Makefile.in $(srcdir)/configure $(srcdir)/version.c \\\n+Makefile: $(srcdir)/Makefile.in config.status $(srcdir)/version.c \\\n    $(xmake_file) $(tmake_file) \\\n    $(LANG_MAKEFILES)\n \t$(SHELL) $(srcdir)/configure.frag $(srcdir) \"$(SUBDIRS)\"\n@@ -663,6 +663,9 @@ $(srcdir)/configure: $(srcdir)/configure.in\n \tcd $(srcdir); autoconf\n \n # cstamp-h.in controls rebuilding of config.in.\n+# It is named cstamp-h.in and not stamp-h.in so the mostlyclean rule doesn't\n+# delete it.  A stamp file is needed as autoheader won't update the file if\n+# nothing has changed.\n # It remains in the source directory and is part of the distribution.\n # This follows what is done in shellutils, fileutils, etc.\n # ??? Newer versions have a maintainer mode that may be useful here.\n@@ -674,6 +677,17 @@ config.h: cstamp-h ; @true\n cstamp-h: config.in config.status\n \tCONFIG_HEADERS=config.h:config.in $(SHELL) config.status\n \n+# Really, really stupid make features, such as SUN's KEEP_STATE, may force\n+# a target to build even if it is up-to-date.  So we must verify that\n+# config.status does not exist before failing.\n+config.status: configure\n+\t@if [ ! -f config.status ] ; then \\\n+\t  echo You must configure gcc.  Look at the INSTALL file for details.; \\\n+\t  false; \\\n+\telse \\\n+\t  $(SHELL) config.status --recheck; \\\n+\tfi\n+\n all.internal: start.encap rest.encap\n # This is what to compile if making a cross-compiler.\n # Note that we can compile enquire using the cross-compiler just built,\n@@ -697,17 +711,6 @@ PROTO: proto\n # Tell GNU make these are phony targets.\n .PHONY: C c PROTO proto\n \n-# Really, really stupid make features, such as SUN's KEEP_STATE, may force\n-# a target to build even if it is up-to-date.  So we must verify that\n-# config.status does not exist before failing.\n-config.status:\n-\t@if [ ! -f config.status ] ; then \\\n-\t  echo You must configure gcc.  Look at the INSTALL file for details.; \\\n-\t  false; \\\n-\telse \\\n-\t  true; \\\n-\tfi\n-\n # On the target machine, finish building a cross compiler.\n # This does the things that can't be done on the host machine.\n rest.cross: $(LIBGCC) gfloat.h specs"}]}