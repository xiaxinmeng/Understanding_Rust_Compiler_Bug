{"sha": "4fe911f597208c0e51ff6081cd380badc3689e79", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGZlOTExZjU5NzIwOGMwZTUxZmY2MDgxY2QzODBiYWRjMzY4OWU3OQ==", "commit": {"author": {"name": "Craig Burley", "email": "burley@gnu.org", "date": "1998-07-12T04:47:46Z"}, "committer": {"name": "Dave Love", "email": "fx@gcc.gnu.org", "date": "1998-07-12T04:47:46Z"}, "message": "Fix 980616-0.f:\n\nSat Jul 11 19:24:32 1998  Craig Burley  <burley@gnu.org>\n\tFix 980616-0.f:\n\t* equiv.c (ffeequiv_offset_): Don't crash on various\n\tpossible ANY operands.\n\nFrom-SVN: r21079", "tree": {"sha": "8459a0992553b4f04e533adb4a7d374674bf0843", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8459a0992553b4f04e533adb4a7d374674bf0843"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4fe911f597208c0e51ff6081cd380badc3689e79", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4fe911f597208c0e51ff6081cd380badc3689e79", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4fe911f597208c0e51ff6081cd380badc3689e79", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4fe911f597208c0e51ff6081cd380badc3689e79/comments", "author": null, "committer": null, "parents": [{"sha": "c264f1132eff86fec981bbbbfe2527663b82e941", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c264f1132eff86fec981bbbbfe2527663b82e941", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c264f1132eff86fec981bbbbfe2527663b82e941"}], "stats": {"total": 25, "additions": 24, "deletions": 1}, "files": [{"sha": "fad88e680aff60f30f60cd85f51de1957c2c26ca", "filename": "gcc/f/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fe911f597208c0e51ff6081cd380badc3689e79/gcc%2Ff%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fe911f597208c0e51ff6081cd380badc3689e79/gcc%2Ff%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2FChangeLog?ref=4fe911f597208c0e51ff6081cd380badc3689e79", "patch": "@@ -1,3 +1,9 @@\n+Sat Jul 11 19:24:32 1998  Craig Burley  <burley@gnu.org>\n+\n+\tFix 980616-0.f:\n+\t* equiv.c (ffeequiv_offset_): Don't crash on various\n+\tpossible ANY operands.\n+\n Sat Jul 11 18:24:37 1998  Craig Burley  <burley@gnu.org>\n \n \t* com.c (ffecom_expr_) [FFEBLD_opCONTER]: Die if padding"}, {"sha": "a9de49d15120419bc2e4cb7de118b054339f0113", "filename": "gcc/f/equiv.c", "status": "modified", "additions": 18, "deletions": 1, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fe911f597208c0e51ff6081cd380badc3689e79/gcc%2Ff%2Fequiv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fe911f597208c0e51ff6081cd380badc3689e79/gcc%2Ff%2Fequiv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fequiv.c?ref=4fe911f597208c0e51ff6081cd380badc3689e79", "patch": "@@ -1,5 +1,5 @@\n /* equiv.c -- Implementation File (module.c template V1.0)\n-   Copyright (C) 1995-1997 Free Software Foundation, Inc.\n+   Copyright (C) 1995-1998 Free Software Foundation, Inc.\n    Contributed by James Craig Burley (burley@gnu.org).\n \n This file is part of GNU Fortran.\n@@ -698,6 +698,9 @@ ffeequiv_offset_ (ffetargetOffset *offset, ffesymbol s UNUSED,\n \t    subscript = ffebld_head (subscripts);\n \t    dim = ffebld_head (dims);\n \n+\t    if (ffebld_op (subscript) == FFEBLD_opANY)\n+\t      return FALSE;\n+\n \t    assert (ffebld_op (subscript) == FFEBLD_opCONTER);\n \t    assert (ffeinfo_basictype (ffebld_info (subscript))\n \t\t    == FFEINFO_basictypeINTEGER);\n@@ -706,6 +709,9 @@ ffeequiv_offset_ (ffetargetOffset *offset, ffesymbol s UNUSED,\n \t    arrayval = ffebld_constant_integerdefault (ffebld_conter\n \t\t\t\t\t\t       (subscript));\n \n+\t    if (ffebld_op (dim) == FFEBLD_opANY)\n+\t      return FALSE;\n+\n \t    assert (ffebld_op (dim) == FFEBLD_opBOUNDS);\n \t    low = ffebld_left (dim);\n \t    high = ffebld_right (dim);\n@@ -714,6 +720,10 @@ ffeequiv_offset_ (ffetargetOffset *offset, ffesymbol s UNUSED,\n \t      lowbound = 1;\n \t    else\n \t      {\n+\t\tif (ffebld_op (low) == FFEBLD_opANY)\n+\t\t  return FALSE;\n+\n+\t\tassert (ffebld_op (low) == FFEBLD_opCONTER);\n \t\tassert (ffeinfo_basictype (ffebld_info (low))\n \t\t\t== FFEINFO_basictypeINTEGER);\n \t\tassert (ffeinfo_kindtype (ffebld_info (low))\n@@ -722,6 +732,9 @@ ffeequiv_offset_ (ffetargetOffset *offset, ffesymbol s UNUSED,\n \t\t  = ffebld_constant_integerdefault (ffebld_conter (low));\n \t      }\n \n+\t    if (ffebld_op (high) == FFEBLD_opANY)\n+\t      return FALSE;\n+\n \t    assert (ffebld_op (high) == FFEBLD_opCONTER);\n \t    assert (ffeinfo_basictype (ffebld_info (high))\n \t\t    == FFEINFO_basictypeINTEGER);\n@@ -766,6 +779,8 @@ ffeequiv_offset_ (ffetargetOffset *offset, ffesymbol s UNUSED,\n \tffebld begin = ffebld_head (ffebld_right (expr));\n \n \texpr = ffebld_left (expr);\n+\tif (ffebld_op (expr) == FFEBLD_opANY)\n+\t  return FALSE;\n \tif (ffebld_op (expr) == FFEBLD_opARRAYREF)\n \t  sym = ffebld_symter (ffebld_left (expr));\n \telse if (ffebld_op (expr) == FFEBLD_opSYMTER)\n@@ -781,6 +796,8 @@ ffeequiv_offset_ (ffetargetOffset *offset, ffesymbol s UNUSED,\n \t  value = 0;\n \telse\n \t  {\n+\t    if (ffebld_op (begin) == FFEBLD_opANY)\n+\t      return FALSE;\n \t    assert (ffebld_op (begin) == FFEBLD_opCONTER);\n \t    assert (ffeinfo_basictype (ffebld_info (begin))\n \t\t    == FFEINFO_basictypeINTEGER);"}]}