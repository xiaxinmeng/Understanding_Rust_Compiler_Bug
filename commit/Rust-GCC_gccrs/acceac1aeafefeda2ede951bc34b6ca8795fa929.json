{"sha": "acceac1aeafefeda2ede951bc34b6ca8795fa929", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWNjZWFjMWFlYWZlZmVkYTJlZGU5NTFiYzM0YjZjYTg3OTVmYTkyOQ==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "amylaar@cygnus.co.uk", "date": "1997-09-05T19:36:35Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-09-05T19:36:35Z"}, "message": "* sched.c (update_flow_info) When looking if to set found_split_dest\n        or found_orig_dest, look at all parts of a PARALLEL.\n        * haifa-sched.c (update_flow_info): Likewise.\n\nFrom-SVN: r15115", "tree": {"sha": "edac910b3f09fb8e03e49f5e675c20e323cb0b92", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/edac910b3f09fb8e03e49f5e675c20e323cb0b92"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/acceac1aeafefeda2ede951bc34b6ca8795fa929", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/acceac1aeafefeda2ede951bc34b6ca8795fa929", "html_url": "https://github.com/Rust-GCC/gccrs/commit/acceac1aeafefeda2ede951bc34b6ca8795fa929", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/acceac1aeafefeda2ede951bc34b6ca8795fa929/comments", "author": null, "committer": null, "parents": [{"sha": "e20d4801dbed3f104b504ced47541d74cc88c9b8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e20d4801dbed3f104b504ced47541d74cc88c9b8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e20d4801dbed3f104b504ced47541d74cc88c9b8"}], "stats": {"total": 85, "additions": 61, "deletions": 24}, "files": [{"sha": "b92e210cf848000625ff8e679295d10a0ca16f5a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/acceac1aeafefeda2ede951bc34b6ca8795fa929/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/acceac1aeafefeda2ede951bc34b6ca8795fa929/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=acceac1aeafefeda2ede951bc34b6ca8795fa929", "patch": "@@ -1,3 +1,9 @@\n+Fri Sep  5 13:36:44 1997  J\"orn Rennecke <amylaar@cygnus.co.uk>\n+\n+\t* sched.c (update_flow_info) When looking if to set found_split_dest\n+\tor found_orig_dest, look at all parts of a PARALLEL.\n+\t* haifa-sched.c (update_flow_info): Likewise.\n+\n Fri Sep  5 10:08:44 1997  Jeffrey A Law  (law@cygnus.com)\n \n \t* v850: New directory for v850 port."}, {"sha": "b4a674e977e8af6103bc6876b1e40ab3ebde7117", "filename": "gcc/haifa-sched.c", "status": "modified", "additions": 28, "deletions": 12, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/acceac1aeafefeda2ede951bc34b6ca8795fa929/gcc%2Fhaifa-sched.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/acceac1aeafefeda2ede951bc34b6ca8795fa929/gcc%2Fhaifa-sched.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fhaifa-sched.c?ref=acceac1aeafefeda2ede951bc34b6ca8795fa929", "patch": "@@ -8205,21 +8205,37 @@ update_flow_info (notes, first, last, orig_insn)\n \n       for (insn = first;; insn = NEXT_INSN (insn))\n \t{\n-\t  set = single_set (insn);\n-\t  if (set)\n+\t  rtx pat;\n+\t  int i;\n+\n+\t  /* I'm not sure if this can happen, but let's be safe.  */\n+\t  if (GET_RTX_CLASS (GET_CODE (insn)) != 'i')\n+\t    continue;\n+\n+\t  pat = PATTERN (insn);\n+\t  i = GET_CODE (pat) == PARALLEL ? XVECLEN (pat, 0) : 0;\n+\t  set = pat;\n+\n+\t  for (;;)\n \t    {\n-\t      if (GET_CODE (SET_DEST (set)) == REG\n-\t\t  && REGNO (SET_DEST (set)) == REGNO (orig_dest))\n-\t\t{\n-\t\t  found_orig_dest = 1;\n-\t\t  break;\n-\t\t}\n-\t      else if (GET_CODE (SET_DEST (set)) == SUBREG\n-\t\t       && SUBREG_REG (SET_DEST (set)) == orig_dest)\n+\t      if (GET_CODE (set) == SET)\n \t\t{\n-\t\t  found_split_dest = 1;\n-\t\t  break;\n+\t\t  if (GET_CODE (SET_DEST (set)) == REG\n+\t\t      && REGNO (SET_DEST (set)) == REGNO (orig_dest))\n+\t\t    {\n+\t\t      found_orig_dest = 1;\n+\t\t      break;\n+\t\t    }\n+\t\t  else if (GET_CODE (SET_DEST (set)) == SUBREG\n+\t\t\t   && SUBREG_REG (SET_DEST (set)) == orig_dest)\n+\t\t    {\n+\t\t      found_split_dest = 1;\n+\t\t      break;\n+\t\t    }\n \t\t}\n+\t      if (--i < 0)\n+\t\tbreak;\n+\t      set = XVECEXP (pat, 0, i);\n \t    }\n \n \t  if (insn == last)"}, {"sha": "477782b2c32a70b20392304a2477a260735e42c2", "filename": "gcc/sched.c", "status": "modified", "additions": 27, "deletions": 12, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/acceac1aeafefeda2ede951bc34b6ca8795fa929/gcc%2Fsched.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/acceac1aeafefeda2ede951bc34b6ca8795fa929/gcc%2Fsched.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsched.c?ref=acceac1aeafefeda2ede951bc34b6ca8795fa929", "patch": "@@ -4108,21 +4108,36 @@ update_flow_info (notes, first, last, orig_insn)\n \n       for (insn = first; ; insn = NEXT_INSN (insn))\n \t{\n-\t  set = single_set (insn);\n-\t  if (set)\n+\t  rtx pat;\n+\t  int i;\n+\n+\t  /* I'm not sure if this can happen, but let's be safe.  */\n+\t  if (GET_RTX_CLASS (GET_CODE (insn)) != 'i')\n+\t    continue;\n+\n+\t  pat = PATTERN (insn);\n+\t  i = GET_CODE (pat) == PARALLEL ? XVECLEN (pat, 0) : 0;\n+\t  set = pat;\n+\t  for (;;)\n \t    {\n-\t      if (GET_CODE (SET_DEST (set)) == REG\n-\t\t  && REGNO (SET_DEST (set)) == REGNO (orig_dest))\n-\t\t{\n-\t\t  found_orig_dest = 1;\n-\t\t  break;\n-\t\t}\n-\t      else if (GET_CODE (SET_DEST (set)) == SUBREG\n-\t\t       && SUBREG_REG (SET_DEST (set)) == orig_dest)\n+\t      if (GET_CODE (set) == SET)\n \t\t{\n-\t\t  found_split_dest = 1;\n-\t\t  break;\n+\t\t  if (GET_CODE (SET_DEST (set)) == REG\n+\t\t      && REGNO (SET_DEST (set)) == REGNO (orig_dest))\n+\t\t    {\n+\t\t      found_orig_dest = 1;\n+\t\t      break;\n+\t\t    }\n+\t\t  else if (GET_CODE (SET_DEST (set)) == SUBREG\n+\t\t\t   && SUBREG_REG (SET_DEST (set)) == orig_dest)\n+\t\t    {\n+\t\t      found_split_dest = 1;\n+\t\t      break;\n+\t\t    }\n \t\t}\n+\t      if (--i < 0)\n+\t\tbreak;\n+\t      set = XVECEXP (pat, 0, i);\n \t    }\n \n \t  if (insn == last)"}]}