{"sha": "2fabc3d68e20fdc8b9298ec387d3b36b56b2568e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmZhYmMzZDY4ZTIwZmRjOGI5Mjk4ZWMzODdkM2IzNmI1NmIyNTY4ZQ==", "commit": {"author": {"name": "John David Anglin", "email": "dave.anglin@nrc-cnrc.gc.ca", "date": "2004-01-15T14:58:06Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2004-01-15T14:58:06Z"}, "message": "re PR rtl-optimization/12372 (miscompilation of execute/20030307-1.c at -O2 and -Os)\n\n\tPR optimization/12372\n\t* calls.c (expand_call): Add call_fusage data for stack arguments in\n\tconstant calls.\n\nFrom-SVN: r75926", "tree": {"sha": "b1fb08c929d872b45bf4140dacbc9cd51a3abd93", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b1fb08c929d872b45bf4140dacbc9cd51a3abd93"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2fabc3d68e20fdc8b9298ec387d3b36b56b2568e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2fabc3d68e20fdc8b9298ec387d3b36b56b2568e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2fabc3d68e20fdc8b9298ec387d3b36b56b2568e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2fabc3d68e20fdc8b9298ec387d3b36b56b2568e/comments", "author": null, "committer": null, "parents": [{"sha": "2ff3688d31131447a9542eae962f5a579093601a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ff3688d31131447a9542eae962f5a579093601a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ff3688d31131447a9542eae962f5a579093601a"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "5ae14569f41eb41370fa771bcf408430f6ccce80", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2fabc3d68e20fdc8b9298ec387d3b36b56b2568e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2fabc3d68e20fdc8b9298ec387d3b36b56b2568e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2fabc3d68e20fdc8b9298ec387d3b36b56b2568e", "patch": "@@ -1,3 +1,9 @@\n+2004-01-15  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n+\n+\tPR optimization/12372\n+\t* calls.c (expand_call): Add call_fusage data for stack arguments in\n+\tconstant calls.\n+\n 2004-01-15  Alan Modra  <amodra@bigpond.net.au>\n \n \t* config/rs6000/rs6000.c (uses_TOC): Correct comment.  Make static."}, {"sha": "f0a59bbf61797408d08641cae128a8997ca085db", "filename": "gcc/calls.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2fabc3d68e20fdc8b9298ec387d3b36b56b2568e/gcc%2Fcalls.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2fabc3d68e20fdc8b9298ec387d3b36b56b2568e/gcc%2Fcalls.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcalls.c?ref=2fabc3d68e20fdc8b9298ec387d3b36b56b2568e", "patch": "@@ -3025,6 +3025,14 @@ expand_call (tree exp, rtx target, int ignore)\n \t\t    && check_sibcall_argument_overlap (before_arg,\n \t\t\t\t\t\t       &args[i], 1)))\n \t      sibcall_failure = 1;\n+\n+\t    if (flags & ECF_CONST\n+\t\t&& args[i].stack\n+\t\t&& args[i].value == args[i].stack)\n+\t      call_fusage = gen_rtx_EXPR_LIST (VOIDmode,\n+\t\t\t\t\t       gen_rtx_USE (VOIDmode,\n+\t\t\t\t\t\t\t    args[i].value),\n+\t\t\t\t\t       call_fusage);\n \t  }\n \n       /* If we have a parm that is passed in registers but not in memory"}]}