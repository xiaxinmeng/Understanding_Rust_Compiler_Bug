{"sha": "0b8074edf56583bad77fa350912f8648e6d60bcc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGI4MDc0ZWRmNTY1ODNiYWQ3N2ZhMzUwOTEyZjg2NDhlNmQ2MGJjYw==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-04-29T09:32:55Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-04-29T09:32:55Z"}, "message": "[multiple changes]\n\n2009-04-29  Robert Dewar  <dewar@adacore.com>\n\n\t* rtsfind.adb, prj-env.adb: Minor reformatting\n\tMinor code reorganization\n\n2009-04-29  Emmanuel Briot  <briot@adacore.com>\n\n\t* make.adb: Fix comment\n\n\t* prj.adb (Ultimate_Extending_Project_Of): Fix handling when no project\n\tis given as argument, as might happen in gnatmake.\n\nFrom-SVN: r146935", "tree": {"sha": "08685828372849431f896994f048664123e4dfba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/08685828372849431f896994f048664123e4dfba"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0b8074edf56583bad77fa350912f8648e6d60bcc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b8074edf56583bad77fa350912f8648e6d60bcc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b8074edf56583bad77fa350912f8648e6d60bcc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b8074edf56583bad77fa350912f8648e6d60bcc/comments", "author": null, "committer": null, "parents": [{"sha": "8f983e64b28624ef2cd8d25e1257820c197c6196", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f983e64b28624ef2cd8d25e1257820c197c6196", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8f983e64b28624ef2cd8d25e1257820c197c6196"}], "stats": {"total": 40, "additions": 31, "deletions": 9}, "files": [{"sha": "30b7b301e89ad334010ff0081e380a10c69a3f5f", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b8074edf56583bad77fa350912f8648e6d60bcc/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b8074edf56583bad77fa350912f8648e6d60bcc/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=0b8074edf56583bad77fa350912f8648e6d60bcc", "patch": "@@ -1,3 +1,15 @@\n+2009-04-29  Robert Dewar  <dewar@adacore.com>\n+\n+\t* rtsfind.adb, prj-env.adb: Minor reformatting\n+\tMinor code reorganization\n+\n+2009-04-29  Emmanuel Briot  <briot@adacore.com>\n+\n+\t* make.adb: Fix comment\n+\n+\t* prj.adb (Ultimate_Extending_Project_Of): Fix handling when no project\n+\tis given as argument, as might happen in gnatmake.\n+\n 2009-04-29  Ed Schonberg  <schonberg@adacore.com>\n \n \t* sem_ch3.adb (Check_Abstract_Overriding): Improve error message when"}, {"sha": "f7d7b37a15a1647c7cc36fe38065d2415c92cf68", "filename": "gcc/ada/make.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b8074edf56583bad77fa350912f8648e6d60bcc/gcc%2Fada%2Fmake.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b8074edf56583bad77fa350912f8648e6d60bcc/gcc%2Fada%2Fmake.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fmake.adb?ref=0b8074edf56583bad77fa350912f8648e6d60bcc", "patch": "@@ -7469,7 +7469,7 @@ package body Make is\n \n       begin\n          if Prj.Depth >= Depth\n-           or Get (Seen, Prj)    -- or needed instead of or else ???\n+           or else Get (Seen, Prj)\n          then\n             return;\n          end if;"}, {"sha": "0a06975ced8e32d923bab448586c304232f32da4", "filename": "gcc/ada/prj-env.adb", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b8074edf56583bad77fa350912f8648e6d60bcc/gcc%2Fada%2Fprj-env.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b8074edf56583bad77fa350912f8648e6d60bcc/gcc%2Fada%2Fprj-env.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-env.adb?ref=0b8074edf56583bad77fa350912f8648e6d60bcc", "patch": "@@ -954,11 +954,13 @@ package body Prj.Env is\n          end if;\n \n       --  If language is defined\n+\n       else\n          --  For all source of the Language of all projects in the closure\n \n          declare\n             P : Project_List;\n+\n          begin\n             P := In_Tree.Projects;\n             while P /= null loop\n@@ -1054,7 +1056,7 @@ package body Prj.Env is\n \n    procedure Delete_All_Path_Files (In_Tree : Project_Tree_Ref) is\n       Disregard : Boolean := True;\n-      pragma Warnings (Off, Disregard);\n+      pragma Unreferenced (Disregard);\n \n    begin\n       for Index in Path_File_Table.First ..\n@@ -1846,9 +1848,10 @@ package body Prj.Env is\n    function Ultimate_Extension_Of\n      (Project : Project_Id) return Project_Id\n    is\n-      Result : Project_Id := Project;\n+      Result : Project_Id;\n \n    begin\n+      Result := Project;\n       while Result.Extended_By /= No_Project loop\n          Result := Result.Extended_By;\n       end loop;"}, {"sha": "49d9c5711a0edb2add9ed95a282a4e96d83e4004", "filename": "gcc/ada/prj.adb", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b8074edf56583bad77fa350912f8648e6d60bcc/gcc%2Fada%2Fprj.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b8074edf56583bad77fa350912f8648e6d60bcc/gcc%2Fada%2Fprj.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj.adb?ref=0b8074edf56583bad77fa350912f8648e6d60bcc", "patch": "@@ -828,6 +828,7 @@ package body Prj is\n    procedure Free (Project : in out Project_Id; Reset_Only : Boolean) is\n       procedure Unchecked_Free is new Ada.Unchecked_Deallocation\n         (Project_Data, Project_Id);\n+\n    begin\n       if Project /= null then\n          Free (Project.Include_Path);\n@@ -891,9 +892,11 @@ package body Prj is\n       procedure Unchecked_Free is new Ada.Unchecked_Deallocation\n         (Project_List_Element, Project_List);\n       Tmp : Project_List;\n+\n    begin\n       while List /= null loop\n          Tmp := List.Next;\n+\n          if Free_Project then\n             Free (List.Project, Reset_Only => Reset_Only);\n          end if;\n@@ -950,6 +953,8 @@ package body Prj is\n          Source_Path_Table.Free (Tree.Private_Part.Source_Paths);\n          Object_Path_Table.Free (Tree.Private_Part.Object_Paths);\n \n+         Free (Tree.Private_Part.Ada_Path_Buffer);\n+\n          --  Naming data (nothing to free ?)\n          null;\n \n@@ -1385,7 +1390,7 @@ package body Prj is\n \n    begin\n       Prj := Proj;\n-      while Prj.Extended_By /= No_Project loop\n+      while Prj /= null and then Prj.Extended_By /= No_Project loop\n          Prj := Prj.Extended_By;\n       end loop;\n "}, {"sha": "76f14c177122291ac4132c2fe8e04588432433ad", "filename": "gcc/ada/rtsfind.adb", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b8074edf56583bad77fa350912f8648e6d60bcc/gcc%2Fada%2Frtsfind.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b8074edf56583bad77fa350912f8648e6d60bcc/gcc%2Fada%2Frtsfind.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Frtsfind.adb?ref=0b8074edf56583bad77fa350912f8648e6d60bcc", "patch": "@@ -1459,18 +1459,20 @@ package body Rtsfind is\n \n                if Chrs = Chars (Cunit_Entity (Current_Sem_Unit)) then\n                   declare\n-                     Parent_Name : constant Unit_Name_Type\n-                       := Get_Parent_Spec_Name (Unit_Name (Current_Sem_Unit));\n+                     Parent_Name : constant Unit_Name_Type :=\n+                                     Get_Parent_Spec_Name\n+                                       (Unit_Name (Current_Sem_Unit));\n+\n                   begin\n                      if Parent_Name /= No_Unit_Name then\n                         Get_Name_String (Parent_Name);\n \n                         declare\n                            P : String renames Name_Buffer (1 .. Name_Len);\n                         begin\n-                           if P = \"ada.text_io%s\"\n-                             or else P = \"ada.wide_text_io%s\"\n-                             or else P = \"ada.wide_wide_text_io%s\"\n+                           if P = \"ada.text_io%s\"      or else\n+                              P = \"ada.wide_text_io%s\" or else\n+                              P = \"ada.wide_wide_text_io%s\"\n                            then\n                               goto Continue;\n                            end if;"}]}