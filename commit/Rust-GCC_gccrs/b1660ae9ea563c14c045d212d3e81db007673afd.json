{"sha": "b1660ae9ea563c14c045d212d3e81db007673afd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjE2NjBhZTllYTU2M2MxNGMwNDVkMjEyZDNlODFkYjAwNzY3M2FmZA==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@suse.de", "date": "2003-12-16T13:25:23Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2003-12-16T13:25:23Z"}, "message": "narrow_widen_char.cc: Tweak the number of iterations for each test.\n\n2003-12-16  Paolo Carlini  <pcarlini@suse.de>\n\n\t* testsuite/performance/narrow_widen_char.cc: Tweak the\n\tnumber of iterations for each test.\n\t* testsuite/performance/narrow_widen_wchar_t.cc: Add a\n\tmissing clear_counters.\n\nFrom-SVN: r74692", "tree": {"sha": "48b45d89672a98b2e1346502883168abaaf8a070", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/48b45d89672a98b2e1346502883168abaaf8a070"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b1660ae9ea563c14c045d212d3e81db007673afd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1660ae9ea563c14c045d212d3e81db007673afd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b1660ae9ea563c14c045d212d3e81db007673afd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1660ae9ea563c14c045d212d3e81db007673afd/comments", "author": null, "committer": null, "parents": [{"sha": "a268eff9ceeec9741a195e665757207c21bee657", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a268eff9ceeec9741a195e665757207c21bee657", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a268eff9ceeec9741a195e665757207c21bee657"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "21be5ec2e18d039df563ab486f6a7683f6f00ff9", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b1660ae9ea563c14c045d212d3e81db007673afd/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b1660ae9ea563c14c045d212d3e81db007673afd/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=b1660ae9ea563c14c045d212d3e81db007673afd", "patch": "@@ -1,3 +1,10 @@\n+2003-12-16  Paolo Carlini  <pcarlini@suse.de>\n+\n+\t* testsuite/performance/narrow_widen_char.cc: Tweak the\n+\tnumber of iterations for each test.\n+\t* testsuite/performance/narrow_widen_wchar_t.cc: Add a\n+\tmissing clear_counters.\n+\n 2003-12-16  Paolo Carlini  <pcarlini@suse.de>\n \n \tPR libstdc++/11723"}, {"sha": "f8b530dcfd044717d8daabcb570d95696978726b", "filename": "libstdc++-v3/testsuite/performance/narrow_widen_char.cc", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b1660ae9ea563c14c045d212d3e81db007673afd/libstdc%2B%2B-v3%2Ftestsuite%2Fperformance%2Fnarrow_widen_char.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b1660ae9ea563c14c045d212d3e81db007673afd/libstdc%2B%2B-v3%2Ftestsuite%2Fperformance%2Fnarrow_widen_char.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fperformance%2Fnarrow_widen_char.cc?ref=b1660ae9ea563c14c045d212d3e81db007673afd", "patch": "@@ -35,7 +35,6 @@ int main()\n \n   time_counter time;\n   resource_counter resource;\n-  const long iters = 200000000;\n   char bufin[] = \"This was an attempt to bypass string construction just for test.\";\n   char bufout[sizeof(bufin)];\n \n@@ -60,14 +59,15 @@ int main()\n \n   // widen\n   start_counters(time, resource);\n-  for (long i = 0; i < iters; ++i)\n+  for (long i = 0; i < 1000000000; ++i)\n     ct.widen(i % 128);\n   stop_counters(time, resource);\n   report_performance(__FILE__, \"widen\", time, resource);\n+  clear_counters(time, resource);\n \n   // widen array\n   start_counters(time, resource);\n-  for (long i = 0; i < iters; ++i)\n+  for (long i = 0; i < 100000000; ++i)\n     ct.widen(bufin, bufin+sizeof(bufin), bufout);\n   stop_counters(time, resource);\n   report_performance(__FILE__, \"widen_array\", time, resource);"}, {"sha": "f5d4536d0ac6e97591f920a568706d97d7f8b44e", "filename": "libstdc++-v3/testsuite/performance/narrow_widen_wchar_t.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b1660ae9ea563c14c045d212d3e81db007673afd/libstdc%2B%2B-v3%2Ftestsuite%2Fperformance%2Fnarrow_widen_wchar_t.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b1660ae9ea563c14c045d212d3e81db007673afd/libstdc%2B%2B-v3%2Ftestsuite%2Fperformance%2Fnarrow_widen_wchar_t.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fperformance%2Fnarrow_widen_wchar_t.cc?ref=b1660ae9ea563c14c045d212d3e81db007673afd", "patch": "@@ -63,6 +63,7 @@ int main()\n     ct.widen(i % 128);\n   stop_counters(time, resource);\n   report_performance(__FILE__, \"widen\", time, resource);\n+  clear_counters(time, resource);\n \n   // widen array\n   start_counters(time, resource);"}]}