{"sha": "be81d4d77ca94740e3743cb23f0f9674eb26438b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmU4MWQ0ZDc3Y2E5NDc0MGUzNzQzY2IyM2YwZjk2NzRlYjI2NDM4Yg==", "commit": {"author": {"name": "Douglas Rupp", "email": "drupp@cs.washington.edu", "date": "1995-02-21T23:38:37Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-02-21T23:38:37Z"}, "message": "Modify \"ln\" commands to try a \"cp\" if \"ln\" fails.\n\n($exeext, $objext, $oldobjext): New macros.\n\nFrom-SVN: r9006", "tree": {"sha": "f0bdca5556aa676142a5864e9a861aa943fcf738", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f0bdca5556aa676142a5864e9a861aa943fcf738"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/be81d4d77ca94740e3743cb23f0f9674eb26438b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be81d4d77ca94740e3743cb23f0f9674eb26438b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/be81d4d77ca94740e3743cb23f0f9674eb26438b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be81d4d77ca94740e3743cb23f0f9674eb26438b/comments", "author": null, "committer": null, "parents": [{"sha": "1f12ca9d5bfc8a55b3c2a53349f08dd66522a3ab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f12ca9d5bfc8a55b3c2a53349f08dd66522a3ab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f12ca9d5bfc8a55b3c2a53349f08dd66522a3ab"}], "stats": {"total": 40, "additions": 22, "deletions": 18}, "files": [{"sha": "75bd8dacb994a8d5a6515db9f395d9ff74cca41e", "filename": "gcc/cp/Make-lang.in", "status": "modified", "additions": 22, "deletions": 18, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be81d4d77ca94740e3743cb23f0f9674eb26438b/gcc%2Fcp%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be81d4d77ca94740e3743cb23f0f9674eb26438b/gcc%2Fcp%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FMake-lang.in?ref=be81d4d77ca94740e3743cb23f0f9674eb26438b", "patch": "@@ -1,5 +1,5 @@\n # Top level makefile fragment for GNU C++.\n-#   Copyright (C) 1994 Free Software Foundation, Inc.\n+#   Copyright (C) 1994, 1995 Free Software Foundation, Inc.\n \n #This file is part of GNU CC.\n \n@@ -100,26 +100,30 @@ c++.install-normal:\n # Install the driver program as $(target)-g++\n # and also as either g++ (if native) or $(tooldir)/bin/g++.\n c++.install-common:\n-\t-if [ -f cc1plus ] ; then \\\n-\t  if [ -f g++-cross ] ; then \\\n-\t    rm -f $(bindir)/$(GXX_CROSS_NAME); \\\n-\t    $(INSTALL_PROGRAM) g++-cross $(bindir)/$(GXX_CROSS_NAME); \\\n-\t    chmod a+x $(bindir)/$(GXX_CROSS_NAME); \\\n-\t    rm -f $(bindir)/$(CXX_CROSS_NAME); \\\n-\t    ln $(bindir)/$(GXX_CROSS_NAME) $(bindir)/$(CXX_CROSS_NAME); \\\n+\t-if [ -f cc1plus$(exeext) ] ; then \\\n+\t  if [ -f g++-cross$(exeext) ] ; then \\\n+\t    rm -f $(bindir)/$(GXX_CROSS_NAME)$(exeext); \\\n+\t    $(INSTALL_PROGRAM) g++-cross$(exeext) $(bindir)/$(GXX_CROSS_NAME)$(exeext); \\\n+\t    chmod a+x $(bindir)/$(GXX_CROSS_NAME)$(exeext); \\\n+\t    rm -f $(bindir)/$(CXX_CROSS_NAME)$(exeext); \\\n+\t    ln $(bindir)/$(GXX_CROSS_NAME)$(exeext) $(bindir)/$(CXX_CROSS_NAME)$(exeext) \\\n+\t      > /dev/null 2>&1 \\\n+\t      || cp $(bindir)/$(GXX_CROSS_NAME)$(exeext) $(bindir)/$(CXX_CROSS_NAME)$(exeext) ; \\\n \t  else \\\n-\t    rm -f $(bindir)/$(GXX_INSTALL_NAME); \\\n-\t    $(INSTALL_PROGRAM) g++ $(bindir)/$(GXX_INSTALL_NAME); \\\n-\t    chmod a+x $(bindir)/$(GXX_INSTALL_NAME); \\\n-\t    rm -f $(bindir)/$(CXX_INSTALL_NAME); \\\n-\t    ln $(bindir)/$(GXX_INSTALL_NAME) $(bindir)/$(CXX_INSTALL_NAME); \\\n+\t    rm -f $(bindir)/$(GXX_INSTALL_NAME)$(exeext); \\\n+\t    $(INSTALL_PROGRAM) g++$(exeext) $(bindir)/$(GXX_INSTALL_NAME)$(exeext); \\\n+\t    chmod a+x $(bindir)/$(GXX_INSTALL_NAME)$(exeext); \\\n+\t    rm -f $(bindir)/$(CXX_INSTALL_NAME)$(exeext); \\\n+\t    ln $(bindir)/$(GXX_INSTALL_NAME)$(exeext) $(bindir)/$(CXX_INSTALL_NAME)$(exeext) \\\n+\t      > /dev/null 2>&1 \\\n+\t      || cp $(bindir)/$(GXX_INSTALL_NAME)$(exeext) $(bindir)/$(CXX_INSTALL_NAME)$(exeext) ; \\\n \t  fi ; \\\n \tfi\n \n c++.install-info:\n \n c++.install-man: $(srcdir)/cp/g++.1\n-\t-if [ -f cc1plus ] ; then \\\n+\t-if [ -f cc1plus$(exeext) ] ; then \\\n \t  if [ -f g++-cross ] ; then \\\n \t    rm -f $(mandir)/$(GXX_CROSS_NAME)$(manext); \\\n \t    $(INSTALL_DATA) $(srcdir)/cp/g++.1 $(mandir)/$(GXX_CROSS_NAME)$(manext); \\\n@@ -132,10 +136,10 @@ c++.install-man: $(srcdir)/cp/g++.1\n \telse true; fi\n \n c++.uninstall:\n-\t-rm -rf $(bindir)/$(CXX_INSTALL_NAME)\n-\t-rm -rf $(bindir)/$(CXX_CROSS_NAME)\n-\t-rm -rf $(bindir)/$(GXX_INSTALL_NAME)\n-\t-rm -rf $(bindir)/$(GXX_CROSS_NAME)\n+\t-rm -rf $(bindir)/$(CXX_INSTALL_NAME)$(exeext)\n+\t-rm -rf $(bindir)/$(CXX_CROSS_NAME)$(exeext)\n+\t-rm -rf $(bindir)/$(GXX_INSTALL_NAME)$(exeext)\n+\t-rm -rf $(bindir)/$(GXX_CROSS_NAME)$(exeext)\n \t-rm -rf $(mandir)/$(GXX_INSTALL_NAME)$(manext)\n \t-rm -rf $(mandir)/$(GXX_CROSS_NAME)$(manext)\n \f"}]}