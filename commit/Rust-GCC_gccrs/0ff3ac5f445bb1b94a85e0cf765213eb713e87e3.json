{"sha": "0ff3ac5f445bb1b94a85e0cf765213eb713e87e3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGZmM2FjNWY0NDViYjFiOTRhODVlMGNmNzY1MjEzZWI3MTNlODdlMw==", "commit": {"author": {"name": "Jiong Wang", "email": "jiong.wang@arm.com", "date": "2015-10-02T14:47:34Z"}, "committer": {"name": "Jiong Wang", "email": "jiwang@gcc.gnu.org", "date": "2015-10-02T14:47:34Z"}, "message": "[AArch64] Add more TLS local executable testcases\n\n2015-10-02  Jiong Wang  <jiong.wang@arm.com>\n\n\t* gcc.target/aarch64/tlsle12_tiny_1.c: New testcase for tiny model.\n\t* gcc.target/aarch64/tlsle24_tiny_1.c: Likewise.\n\t* gcc.target/aarch64/tlsle_sizeadj_tiny_1.c: TLS size truncation test\n\tfor tiny model.\n\t* gcc.target/aarch64/tlsle_sizeadj_small_1.c: TLS size truncation test\n\tfor small model.\n\nFrom-SVN: r228395", "tree": {"sha": "1071e728eea96b2351d0c7cd823eacf10662d448", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1071e728eea96b2351d0c7cd823eacf10662d448"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0ff3ac5f445bb1b94a85e0cf765213eb713e87e3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ff3ac5f445bb1b94a85e0cf765213eb713e87e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ff3ac5f445bb1b94a85e0cf765213eb713e87e3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ff3ac5f445bb1b94a85e0cf765213eb713e87e3/comments", "author": null, "committer": null, "parents": [{"sha": "1edc26adde4c280f42605745d3575a9e8c5ba9d1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1edc26adde4c280f42605745d3575a9e8c5ba9d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1edc26adde4c280f42605745d3575a9e8c5ba9d1"}], "stats": {"total": 45, "additions": 45, "deletions": 0}, "files": [{"sha": "774f34775d0361c09662f513d796e964f166a491", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ff3ac5f445bb1b94a85e0cf765213eb713e87e3/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ff3ac5f445bb1b94a85e0cf765213eb713e87e3/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=0ff3ac5f445bb1b94a85e0cf765213eb713e87e3", "patch": "@@ -1,3 +1,12 @@\n+2015-10-02  Jiong Wang  <jiong.wang@arm.com>\n+\n+\t* gcc.target/aarch64/tlsle12_tiny_1.c: New testcase for tiny model.\n+\t* gcc.target/aarch64/tlsle24_tiny_1.c: Likewise.\n+\t* gcc.target/aarch64/tlsle_sizeadj_tiny_1.c: TLS size truncation test\n+\tfor tiny model.\n+\t* gcc.target/aarch64/tlsle_sizeadj_small_1.c: TLS size truncation test\n+\tfor small model.\n+\n 2015-10-02  Kirill Yukhin  <kirill.yukhin@intel.com>\n \n \t* gcc.target/i386/vect-pack-trunc-1.c: New test."}, {"sha": "d9d439e10250e34545af6da13f0b6867456aac22", "filename": "gcc/testsuite/gcc.target/aarch64/tlsle12_tiny_1.c", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ff3ac5f445bb1b94a85e0cf765213eb713e87e3/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Ftlsle12_tiny_1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ff3ac5f445bb1b94a85e0cf765213eb713e87e3/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Ftlsle12_tiny_1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Ftlsle12_tiny_1.c?ref=0ff3ac5f445bb1b94a85e0cf765213eb713e87e3", "patch": "@@ -0,0 +1,8 @@\n+/* { dg-do run } */\n+/* { dg-require-effective-target tls_native } */\n+/* { dg-options \"-O2 -fpic -ftls-model=local-exec -mtls-size=12 -mcmodel=tiny --save-temps\" } */\n+/* { dg-skip-if \"TLS 12bit size for tiny\" { aarch64*-*-* }  { \"-mcmodel=small\" \"-mcmodel=large\" } { \"\" } } */\n+\n+#include \"tls_1.x\"\n+\n+/* { dg-final { scan-assembler-times \"#:tprel_lo12\" 2 } } */"}, {"sha": "2dfb06ed77296e796d7b3d6bb186f75ec1d57078", "filename": "gcc/testsuite/gcc.target/aarch64/tlsle24_tiny_1.c", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ff3ac5f445bb1b94a85e0cf765213eb713e87e3/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Ftlsle24_tiny_1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ff3ac5f445bb1b94a85e0cf765213eb713e87e3/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Ftlsle24_tiny_1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Ftlsle24_tiny_1.c?ref=0ff3ac5f445bb1b94a85e0cf765213eb713e87e3", "patch": "@@ -0,0 +1,9 @@\n+/* { dg-do run } */\n+/* { dg-require-effective-target tls_native } */\n+/* { dg-options \"-O2 -fpic -ftls-model=local-exec -mtls-size=24 -mcmodel=tiny --save-temps\" } */\n+/* { dg-skip-if \"TLS 24bit size for tiny\" { aarch64*-*-* }  { \"-mcmodel=small\" \"-mcmodel=large\" } { \"\" } } */\n+\n+#include \"tls_1.x\"\n+\n+/* { dg-final { scan-assembler-times \"#:tprel_lo12_nc\" 2 } } */\n+/* { dg-final { scan-assembler-times \"#:tprel_hi12\" 2 } } */"}, {"sha": "d9975f7842d0dee080029a56d26d5a9a49626850", "filename": "gcc/testsuite/gcc.target/aarch64/tlsle_sizeadj_small_1.c", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ff3ac5f445bb1b94a85e0cf765213eb713e87e3/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Ftlsle_sizeadj_small_1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ff3ac5f445bb1b94a85e0cf765213eb713e87e3/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Ftlsle_sizeadj_small_1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Ftlsle_sizeadj_small_1.c?ref=0ff3ac5f445bb1b94a85e0cf765213eb713e87e3", "patch": "@@ -0,0 +1,10 @@\n+/* { dg-do run } */\n+/* { dg-require-effective-target tls_native } */\n+/* { dg-require-effective-target aarch64_tlsle32 } */\n+/* { dg-options \"-O2 -fpic -ftls-model=local-exec -mtls-size=48 --save-temps\" } */\n+/* { dg-skip-if \"TLS size trunc for small\" { aarch64*-*-* }  { \"-mcmodel=tiny\" \"-mcmodel=large\" } { \"\" } } */\n+\n+#include \"tls_1.x\"\n+\n+/* { dg-final { scan-assembler-times \"#:tprel_g1\" 2 } } */\n+/* { dg-final { scan-assembler-times \"#:tprel_g0_nc\" 2 } } */"}, {"sha": "8274764de48d026abf08c0da2d50704ba01cfd08", "filename": "gcc/testsuite/gcc.target/aarch64/tlsle_sizeadj_tiny_1.c", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ff3ac5f445bb1b94a85e0cf765213eb713e87e3/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Ftlsle_sizeadj_tiny_1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ff3ac5f445bb1b94a85e0cf765213eb713e87e3/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Ftlsle_sizeadj_tiny_1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Ftlsle_sizeadj_tiny_1.c?ref=0ff3ac5f445bb1b94a85e0cf765213eb713e87e3", "patch": "@@ -0,0 +1,9 @@\n+/* { dg-do run } */\n+/* { dg-require-effective-target tls_native } */\n+/* { dg-options \"-O2 -fpic -ftls-model=local-exec -mtls-size=32 -mcmodel=tiny --save-temps\" } */\n+/* { dg-skip-if \"TLS size trunc for tiny\" { aarch64*-*-* }  { \"-mcmodel=small\" \"-mcmodel=large\" } { \"\" } } */\n+\n+#include \"tls_1.x\"\n+\n+/* { dg-final { scan-assembler-times \"#:tprel_lo12_nc\" 2 } } */\n+/* { dg-final { scan-assembler-times \"#:tprel_hi12\" 2 } } */"}]}