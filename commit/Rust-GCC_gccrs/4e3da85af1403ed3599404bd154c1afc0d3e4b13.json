{"sha": "4e3da85af1403ed3599404bd154c1afc0d3e4b13", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGUzZGE4NWFmMTQwM2VkMzU5OTQwNGJkMTU0YzFhZmMwZDNlNGIxMw==", "commit": {"author": {"name": "Pascal Obry", "email": "obry@adacore.com", "date": "2013-01-29T14:32:36Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2013-01-29T14:32:36Z"}, "message": "prj-proc.adb (Process_Expression_Variable_Decl): Prepend Project_Path to current environment.\n\n2013-01-29  Pascal Obry  <obry@adacore.com>\n\n\t* prj-proc.adb (Process_Expression_Variable_Decl): Prepend\n\tProject_Path to current environment.\n\nFrom-SVN: r195545", "tree": {"sha": "a96e34322ddab35b63d14b859cfb9a1bce5acd21", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a96e34322ddab35b63d14b859cfb9a1bce5acd21"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4e3da85af1403ed3599404bd154c1afc0d3e4b13", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e3da85af1403ed3599404bd154c1afc0d3e4b13", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4e3da85af1403ed3599404bd154c1afc0d3e4b13", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e3da85af1403ed3599404bd154c1afc0d3e4b13/comments", "author": {"login": "TurboGit", "id": 467069, "node_id": "MDQ6VXNlcjQ2NzA2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/467069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TurboGit", "html_url": "https://github.com/TurboGit", "followers_url": "https://api.github.com/users/TurboGit/followers", "following_url": "https://api.github.com/users/TurboGit/following{/other_user}", "gists_url": "https://api.github.com/users/TurboGit/gists{/gist_id}", "starred_url": "https://api.github.com/users/TurboGit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TurboGit/subscriptions", "organizations_url": "https://api.github.com/users/TurboGit/orgs", "repos_url": "https://api.github.com/users/TurboGit/repos", "events_url": "https://api.github.com/users/TurboGit/events{/privacy}", "received_events_url": "https://api.github.com/users/TurboGit/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7096a67be07002e51b3fecaf0e5972172b717878", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7096a67be07002e51b3fecaf0e5972172b717878", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7096a67be07002e51b3fecaf0e5972172b717878"}], "stats": {"total": 39, "additions": 28, "deletions": 11}, "files": [{"sha": "1680a5286ec9f0030ec4d625cb207f5dfbdd938a", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e3da85af1403ed3599404bd154c1afc0d3e4b13/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e3da85af1403ed3599404bd154c1afc0d3e4b13/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=4e3da85af1403ed3599404bd154c1afc0d3e4b13", "patch": "@@ -1,3 +1,8 @@\n+2013-01-29  Pascal Obry  <obry@adacore.com>\n+\n+\t* prj-proc.adb (Process_Expression_Variable_Decl): Prepend\n+\tProject_Path to current environment.\n+\n 2013-01-29  Thomas Quinot  <quinot@adacore.com>\n \n \t* sprint.adb (Sprint_Node_Actual): Output freeze nodes for"}, {"sha": "4788fbedf952a4a5237495b38f5cba3f0d93b9c1", "filename": "gcc/ada/prj-env.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e3da85af1403ed3599404bd154c1afc0d3e4b13/gcc%2Fada%2Fprj-env.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e3da85af1403ed3599404bd154c1afc0d3e4b13/gcc%2Fada%2Fprj-env.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-env.adb?ref=4e3da85af1403ed3599404bd154c1afc0d3e4b13", "patch": "@@ -2188,7 +2188,7 @@ package body Prj.Env is\n \n       function Try_Path_Name is new Find_Name_In_Path\n         (Check_Filename => Is_Regular_File);\n-      --  Find a file in the project search path.\n+      --  Find a file in the project search path\n \n       --  Local Declarations\n "}, {"sha": "5e2828be5d8cfbb406dac4f965ab171d01661e1e", "filename": "gcc/ada/prj-proc.adb", "status": "modified", "additions": 22, "deletions": 10, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e3da85af1403ed3599404bd154c1afc0d3e4b13/gcc%2Fada%2Fprj-proc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e3da85af1403ed3599404bd154c1afc0d3e4b13/gcc%2Fada%2Fprj-proc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-proc.adb?ref=4e3da85af1403ed3599404bd154c1afc0d3e4b13", "patch": "@@ -33,11 +33,12 @@ with Prj.Env;\n with Prj.Err;  use Prj.Err;\n with Prj.Ext;  use Prj.Ext;\n with Prj.Nmsc; use Prj.Nmsc;\n-with Prj.Util;\n with Prj.Part;\n+with Prj.Util;\n with Snames;\n \n-with Ada.Strings.Fixed; use Ada.Strings.Fixed;\n+with Ada.Containers.Vectors;\n+with Ada.Strings.Fixed;      use Ada.Strings.Fixed;\n \n with GNAT.Case_Util; use GNAT.Case_Util;\n with GNAT.HTable;\n@@ -2062,19 +2063,30 @@ package body Prj.Proc is\n          if Is_Attribute and then Name = Snames.Name_Project_Path then\n             if In_Tree.Is_Root_Tree then\n                declare\n-                  Val : String_List_Id := New_Value.Values;\n+                  package Name_Ids is\n+                    new Ada.Containers.Vectors (Positive, Name_Id);\n+                  Val  : String_List_Id := New_Value.Values;\n+                  List : Name_Ids.Vector;\n                begin\n+                  --  Get all values\n+\n                   while Val /= Nil_String loop\n+                     List.Prepend\n+                       (Shared.String_Elements.Table (Val).Value);\n+                     Val := Shared.String_Elements.Table (Val).Next;\n+                  end loop;\n+\n+                  --  Prepend them in the oder found in the attribute\n+\n+                  for K in Positive range 1 .. Positive (List.Length) loop\n                      Prj.Env.Add_Directories\n                        (Child_Env.Project_Path,\n                         Normalize_Pathname\n-                          (Name =>\n-                             Get_Name_String\n-                             (Shared.String_Elements.Table (Val).Value),\n-                           Directory =>\n-                             Get_Name_String\n-                             (Project.Directory.Display_Name)));\n-                     Val := Shared.String_Elements.Table (Val).Next;\n+                          (Name      => Get_Name_String\n+                             (List.Element (K)),\n+                           Directory => Get_Name_String\n+                             (Project.Directory.Display_Name)),\n+                        Prepend => True);\n                   end loop;\n                end;\n "}]}