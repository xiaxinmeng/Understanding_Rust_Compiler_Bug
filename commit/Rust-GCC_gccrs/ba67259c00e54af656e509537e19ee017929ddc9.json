{"sha": "ba67259c00e54af656e509537e19ee017929ddc9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmE2NzI1OWMwMGU1NGFmNjU2ZTUwOTUzN2UxOWVlMDE3OTI5ZGRjOQ==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2015-11-22T22:14:46Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2015-11-22T22:14:46Z"}, "message": "write_float.def (output_float): Move block determining room for leading zero to before checkng g0 formatting.\n\n2015-11-22  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\t* io/write_float.def (output_float): Move block determining\n\troom for leading zero to before checkng g0 formatting.\n\nFrom-SVN: r230728", "tree": {"sha": "df72fb6bf3a8ab04fdf995c8bf53b8765f1f94f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/df72fb6bf3a8ab04fdf995c8bf53b8765f1f94f2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ba67259c00e54af656e509537e19ee017929ddc9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba67259c00e54af656e509537e19ee017929ddc9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ba67259c00e54af656e509537e19ee017929ddc9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba67259c00e54af656e509537e19ee017929ddc9/comments", "author": null, "committer": null, "parents": [{"sha": "4f8a3b87f948d472c2aeb1bc9177892c8fc6f113", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f8a3b87f948d472c2aeb1bc9177892c8fc6f113", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f8a3b87f948d472c2aeb1bc9177892c8fc6f113"}], "stats": {"total": 25, "additions": 15, "deletions": 10}, "files": [{"sha": "f90d5301df85a2a5a6960a84e390fa10db03515e", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba67259c00e54af656e509537e19ee017929ddc9/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba67259c00e54af656e509537e19ee017929ddc9/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=ba67259c00e54af656e509537e19ee017929ddc9", "patch": "@@ -1,3 +1,8 @@\n+2015-11-22  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\t* io/write_float.def (output_float): Move block determining\n+\troom for leading zero to before checkng g0 formatting.\n+\n 2015-09-12  Francois-Xavier Coudert  <fxcoudert@gcc.gnu.org>\n \n \tPR libfortran/67527"}, {"sha": "183fe0b9f2ea683511bb29f9396be72141fe9905", "filename": "libgfortran/io/write_float.def", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba67259c00e54af656e509537e19ee017929ddc9/libgfortran%2Fio%2Fwrite_float.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba67259c00e54af656e509537e19ee017929ddc9/libgfortran%2Fio%2Fwrite_float.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fwrite_float.def?ref=ba67259c00e54af656e509537e19ee017929ddc9", "patch": "@@ -514,12 +514,21 @@ output_float (st_parameter_dt *dtp, const fnode *f, char *buffer, size_t size,\n \t  w = w == 1 ? 2 : w;\n \t}\n     }\n-  \n+\n   /* Work out how much padding is needed.  */\n   nblanks = w - (nbefore + nzero + nafter + edigits + 1);\n   if (sign != S_NONE)\n     nblanks--;\n \n+  /* See if we have space for a zero before the decimal point.  */\n+  if (nbefore == 0 && nblanks > 0)\n+    {\n+      leadzero = 1;\n+      nblanks--;\n+    }\n+  else\n+    leadzero = 0;\n+\n   if (dtp->u.p.g0_no_blanks)\n     {\n       w -= nblanks;\n@@ -544,15 +553,6 @@ output_float (st_parameter_dt *dtp, const fnode *f, char *buffer, size_t size,\n       return false;\n     }\n \n-  /* See if we have space for a zero before the decimal point.  */\n-  if (nbefore == 0 && nblanks > 0)\n-    {\n-      leadzero = 1;\n-      nblanks--;\n-    }\n-  else\n-    leadzero = 0;\n-\n   /* For internal character(kind=4) units, we duplicate the code used for\n      regular output slightly modified.  This needs to be maintained\n      consistent with the regular code that follows this block.  */"}]}