{"sha": "f43b27955c8481056c36a99ea05f7d5523169e49", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjQzYjI3OTU1Yzg0ODEwNTZjMzZhOTllYTA1ZjdkNTUyMzE2OWU0OQ==", "commit": {"author": {"name": "Joseph Myers", "email": "jsm28@cam.ac.uk", "date": "2001-02-12T17:31:42Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2001-02-12T17:31:42Z"}, "message": "c-decl.c (grokdeclarator): In C99 mode...\n\n\t* c-decl.c (grokdeclarator): In C99 mode, give the more specific\n\t\"return type defaults\" warning for functions with return type\n\tdefaulting to int.\n\t* c-lang.c (c_init): In C99 mode, enable warnings for implicit\n\tfunction declarations by default rather than only when pedantic.\n\ntestsuite:\n\t* gcc.dg/c99-impl-int-1.c: Use stricter error string for implicit\n\treturn type.\n\t* gcc.dg/cpp/digraphs.c: Declare puts.\n\nFrom-SVN: r39608", "tree": {"sha": "1198d5daa5758bb57dfd972c4736717092539847", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1198d5daa5758bb57dfd972c4736717092539847"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f43b27955c8481056c36a99ea05f7d5523169e49", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f43b27955c8481056c36a99ea05f7d5523169e49", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f43b27955c8481056c36a99ea05f7d5523169e49", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f43b27955c8481056c36a99ea05f7d5523169e49/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c6b33a47ea7d36d3e9eb4de227778332b179704d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c6b33a47ea7d36d3e9eb4de227778332b179704d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c6b33a47ea7d36d3e9eb4de227778332b179704d"}], "stats": {"total": 25, "additions": 21, "deletions": 4}, "files": [{"sha": "f72e73d7ef042c54c693e52cbd639b97091d92ee", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f43b27955c8481056c36a99ea05f7d5523169e49/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f43b27955c8481056c36a99ea05f7d5523169e49/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f43b27955c8481056c36a99ea05f7d5523169e49", "patch": "@@ -1,3 +1,11 @@\n+2001-02-12  Joseph S. Myers  <jsm28@cam.ac.uk>\n+\n+\t* c-decl.c (grokdeclarator): In C99 mode, give the more specific\n+\t\"return type defaults\" warning for functions with return type\n+\tdefaulting to int.\n+\t* c-lang.c (c_init): In C99 mode, enable warnings for implicit\n+\tfunction declarations by default rather than only when pedantic.\n+\n Mon Feb 12 17:28:48 CET 2001  Jan Hubicka  <jh@suse.cz>\n \n \t* regclass.c (init_reg_sets_1): Optimize calculation of move_cost"}, {"sha": "f0d229db69dca944fbf874be14bfeea826c100b9", "filename": "gcc/c-decl.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f43b27955c8481056c36a99ea05f7d5523169e49/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f43b27955c8481056c36a99ea05f7d5523169e49/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=f43b27955c8481056c36a99ea05f7d5523169e49", "patch": "@@ -3973,7 +3973,8 @@ grokdeclarator (declarator, declspecs, decl_context, initialized)\n \t  /* Issue a warning if this is an ISO C 99 program or if -Wreturn-type\n \t     and this is a function, or if -Wimplicit; prefer the former\n \t     warning since it is more explicit.  */\n-\t  if ((warn_implicit_int || warn_return_type) && funcdef_flag)\n+\t  if ((warn_implicit_int || warn_return_type || flag_isoc99)\n+\t      && funcdef_flag)\n \t    warn_about_return_type = 1;\n \t  else if (warn_implicit_int || flag_isoc99)\n \t    pedwarn_c99 (\"type defaults to `int' in declaration of `%s'\","}, {"sha": "53ebdabb546d2147812057b720d20735d99ed2dd", "filename": "gcc/c-lang.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f43b27955c8481056c36a99ea05f7d5523169e49/gcc%2Fc-lang.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f43b27955c8481056c36a99ea05f7d5523169e49/gcc%2Fc-lang.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-lang.c?ref=f43b27955c8481056c36a99ea05f7d5523169e49", "patch": "@@ -70,10 +70,11 @@ c_init ()\n {\n   c_common_lang_init ();\n \n-  /* If still unspecified, make it match pedantic && -std=c99.  */\n+  /* If still unspecified, make it match -std=c99\n+     (allowing for -pedantic-errors).  */\n   if (mesg_implicit_function_declaration < 0)\n     {\n-      if (pedantic && flag_isoc99)\n+      if (flag_isoc99)\n \tmesg_implicit_function_declaration = flag_pedantic_errors ? 2 : 1;\n       else\n \tmesg_implicit_function_declaration = 0;"}, {"sha": "fc6c21921e62a24f9280e07aad5f6be546fb54ba", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f43b27955c8481056c36a99ea05f7d5523169e49/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f43b27955c8481056c36a99ea05f7d5523169e49/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f43b27955c8481056c36a99ea05f7d5523169e49", "patch": "@@ -1,3 +1,9 @@\n+2001-02-12  Joseph S. Myers  <jsm28@cam.ac.uk>\n+\n+\t* gcc.dg/c99-impl-int-1.c: Use stricter error string for implicit\n+\treturn type.\n+\t* gcc.dg/cpp/digraphs.c: Declare puts.\n+\n 2001-02-12  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* g++.old-deja/g++.other/warn5.C: New test."}, {"sha": "dcc25203ae8b0ccb5fbbbcd008d964ffb2d24b1a", "filename": "gcc/testsuite/gcc.dg/c99-impl-int-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f43b27955c8481056c36a99ea05f7d5523169e49/gcc%2Ftestsuite%2Fgcc.dg%2Fc99-impl-int-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f43b27955c8481056c36a99ea05f7d5523169e49/gcc%2Ftestsuite%2Fgcc.dg%2Fc99-impl-int-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fc99-impl-int-1.c?ref=f43b27955c8481056c36a99ea05f7d5523169e49", "patch": "@@ -6,4 +6,4 @@\n extern foo; /* { dg-bogus \"warning\" \"warning in place of error\" } */\n /* { dg-error \"type defaults\" \"C99 implicit int error\" { target *-*-* } 6 } */\n bar (void) { } /* { dg-bogus \"warning\" \"warning in place of error\" } */\n-/* { dg-error \"type defaults\" \"C99 implicit int error\" { target *-*-* } 8 } */\n+/* { dg-error \"return type defaults\" \"C99 implicit int error\" { target *-*-* } 8 } */"}, {"sha": "49a1bcd860492b868e18fbb3f95cb9a3a847c00a", "filename": "gcc/testsuite/gcc.dg/cpp/digraphs.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f43b27955c8481056c36a99ea05f7d5523169e49/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fdigraphs.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f43b27955c8481056c36a99ea05f7d5523169e49/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fdigraphs.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fdigraphs.c?ref=f43b27955c8481056c36a99ea05f7d5523169e49", "patch": "@@ -8,6 +8,7 @@\n \n extern int strcmp (const char *, const char *);\n extern void abort (void);\n+extern int puts (const char *);\n #define err(str) do { puts(str); abort(); } while (0)\n \n %:define glue(x, y) x %:%: y\t/* #define glue(x, y) x ## y. */"}]}