{"sha": "39278c14cc716a115fcf1bc0859af436094fdd3c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzkyNzhjMTRjYzcxNmExMTVmY2YxYmMwODU5YWY0MzYwOTRmZGQzYw==", "commit": {"author": {"name": "Andreas Krebbel", "email": "krebbel1@de.ibm.com", "date": "2005-09-20T07:53:11Z"}, "committer": {"name": "Andreas Krebbel", "email": "krebbel@gcc.gnu.org", "date": "2005-09-20T07:53:11Z"}, "message": "tree-ssa-address.c (create_mem_ref): Put the symbol reference into the base register if possible.\n\n2005-09-20  Andreas Krebbel  <krebbel1@de.ibm.com>\n\n\t* tree-ssa-address.c (create_mem_ref): Put the symbol reference into the\n\tbase register if possible.\n\nFrom-SVN: r104446", "tree": {"sha": "a76a489dfb0347bf6e38e798948a761b3e4d8f23", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a76a489dfb0347bf6e38e798948a761b3e4d8f23"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/39278c14cc716a115fcf1bc0859af436094fdd3c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39278c14cc716a115fcf1bc0859af436094fdd3c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/39278c14cc716a115fcf1bc0859af436094fdd3c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39278c14cc716a115fcf1bc0859af436094fdd3c/comments", "author": null, "committer": null, "parents": [{"sha": "a417b482688d49e04d2f0e67eacb434c7326cbdc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a417b482688d49e04d2f0e67eacb434c7326cbdc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a417b482688d49e04d2f0e67eacb434c7326cbdc"}], "stats": {"total": 21, "additions": 17, "deletions": 4}, "files": [{"sha": "6a32805489bb0251baf60a0d022130aae1f496b8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39278c14cc716a115fcf1bc0859af436094fdd3c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39278c14cc716a115fcf1bc0859af436094fdd3c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=39278c14cc716a115fcf1bc0859af436094fdd3c", "patch": "@@ -1,3 +1,8 @@\n+2005-09-20  Andreas Krebbel  <krebbel1@de.ibm.com>\n+\n+\t* tree-ssa-address.c (create_mem_ref): Put the symbol reference into the\n+\tbase register if possible.\n+\n 2005-09-20  Zdenek Dvorak  <dvorakz@suse.cz>\n \n \tPR tree-optimization/18463"}, {"sha": "9dbc399d2cd885cad361474dfc109b7bea896b3f", "filename": "gcc/tree-ssa-address.c", "status": "modified", "additions": 12, "deletions": 4, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39278c14cc716a115fcf1bc0859af436094fdd3c/gcc%2Ftree-ssa-address.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39278c14cc716a115fcf1bc0859af436094fdd3c/gcc%2Ftree-ssa-address.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-address.c?ref=39278c14cc716a115fcf1bc0859af436094fdd3c", "patch": "@@ -525,10 +525,18 @@ create_mem_ref (block_stmt_iterator *bsi, tree type,\n     \n       /* Add the symbol to base, eventually forcing it to register.  */\n       if (parts.base)\n-\tparts.base = force_gimple_operand_bsi (bsi,\n-\t\t\t\t\t       build2 (PLUS_EXPR, addr_type,\n-\t\t\t\t\t\t       parts.base, tmp),\n-\t\t\t\t\t       true, NULL_TREE);\n+\t{\n+\t  if (parts.index)\n+\t    parts.base = force_gimple_operand_bsi (bsi,\n+\t\t\t\t\t\t   build2 (PLUS_EXPR, addr_type,\n+\t\t\t\t\t\t\t   parts.base, tmp),\n+\t\t\t\t\t\t   true, NULL_TREE);\n+\t  else\n+\t    {\n+\t      parts.index = parts.base;\n+\t      parts.base = tmp;\n+\t    }\n+\t}\n       else\n \tparts.base = tmp;\n       parts.symbol = NULL_TREE;"}]}