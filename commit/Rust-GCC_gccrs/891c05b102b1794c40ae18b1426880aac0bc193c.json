{"sha": "891c05b102b1794c40ae18b1426880aac0bc193c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODkxYzA1YjEwMmIxNzk0YzQwYWUxOGIxNDI2ODgwYWFjMGJjMTkzYw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2005-12-09T13:50:11Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2005-12-09T13:50:11Z"}, "message": "re PR libfortran/24991 (gfortran build fails with - error:gthr-default.h: No such file or directory)\n\n\tPR libfortran/24991\n\t* acinclude.m4: Include acx.m4 and no-executables.m4.\n\t* configure.ac: Add GCC_TOPLEVEL_SUBDIRS.\n\t* configure: Rebuilt.\n\t* Makefile.am (AM_CPPFLAGS): Use $(host_subdir) in build dir\n\tpath.\n\t* Makefile.in: Rebuilt.\n\nFrom-SVN: r108280", "tree": {"sha": "7211a5585870f91f57adfacb2b999b620de36cbb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7211a5585870f91f57adfacb2b999b620de36cbb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/891c05b102b1794c40ae18b1426880aac0bc193c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/891c05b102b1794c40ae18b1426880aac0bc193c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/891c05b102b1794c40ae18b1426880aac0bc193c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/891c05b102b1794c40ae18b1426880aac0bc193c/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f01cf809285f7d659f1b4ae1541041a0257df0bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f01cf809285f7d659f1b4ae1541041a0257df0bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f01cf809285f7d659f1b4ae1541041a0257df0bb"}], "stats": {"total": 139, "additions": 94, "deletions": 45}, "files": [{"sha": "a47e0028e97e420700ca7d397943c421dfdb9416", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/891c05b102b1794c40ae18b1426880aac0bc193c/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/891c05b102b1794c40ae18b1426880aac0bc193c/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=891c05b102b1794c40ae18b1426880aac0bc193c", "patch": "@@ -1,3 +1,13 @@\n+2005-12-09  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR libfortran/24991\n+\t* acinclude.m4: Include acx.m4 and no-executables.m4.\n+\t* configure.ac: Add GCC_TOPLEVEL_SUBDIRS.\n+\t* configure: Rebuilt.\n+\t* Makefile.am (AM_CPPFLAGS): Use $(host_subdir) in build dir\n+\tpath.\n+\t* Makefile.in: Rebuilt.\n+\n 2005-12-08  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \tPR libgfortran/25039"}, {"sha": "553636cd2720351fab95b12b4c0e04b966e4ef49", "filename": "libgfortran/Makefile.am", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/891c05b102b1794c40ae18b1426880aac0bc193c/libgfortran%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/891c05b102b1794c40ae18b1426880aac0bc193c/libgfortran%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FMakefile.am?ref=891c05b102b1794c40ae18b1426880aac0bc193c", "patch": "@@ -18,7 +18,7 @@ libgfortranbegin_la_LDFLAGS = -static\n ## use -iquote\n AM_CPPFLAGS = -iquote$(srcdir)/io -I$(srcdir)/$(MULTISRCTOP)../gcc \\\n \t      -I$(srcdir)/$(MULTISRCTOP)../gcc/config \\\n-\t      -I$(MULTIBUILDTOP)../../gcc -D_GNU_SOURCE\n+\t      -I$(MULTIBUILDTOP)../../$(host_subdir)/gcc -D_GNU_SOURCE\n \n gfor_io_src= \\\n io/close.c \\"}, {"sha": "c1aa83a9382d544bc25eb0025f588cde6c33062b", "filename": "libgfortran/Makefile.in", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/891c05b102b1794c40ae18b1426880aac0bc193c/libgfortran%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/891c05b102b1794c40ae18b1426880aac0bc193c/libgfortran%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FMakefile.in?ref=891c05b102b1794c40ae18b1426880aac0bc193c", "patch": "@@ -48,6 +48,8 @@ DIST_COMMON = $(am__configure_deps) $(srcdir)/../config.guess \\\n subdir = .\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n am__aclocal_m4_deps = $(top_srcdir)/acinclude.m4 \\\n+\t$(top_srcdir)/../config/acx.m4 \\\n+\t$(top_srcdir)/../config/no-executables.m4 \\\n \t$(top_srcdir)/../libtool.m4 $(top_srcdir)/configure.ac\n am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \\\n \t$(ACLOCAL_M4)\n@@ -319,6 +321,7 @@ build = @build@\n build_alias = @build_alias@\n build_cpu = @build_cpu@\n build_os = @build_os@\n+build_subdir = @build_subdir@\n build_vendor = @build_vendor@\n datadir = @datadir@\n enable_shared = @enable_shared@\n@@ -329,6 +332,7 @@ host = @host@\n host_alias = @host_alias@\n host_cpu = @host_cpu@\n host_os = @host_os@\n+host_subdir = @host_subdir@\n host_vendor = @host_vendor@\n includedir = @includedir@\n infodir = @infodir@\n@@ -349,6 +353,7 @@ target = @target@\n target_alias = @target_alias@\n target_cpu = @target_cpu@\n target_os = @target_os@\n+target_subdir = @target_subdir@\n target_vendor = @target_vendor@\n toolexecdir = @toolexecdir@\n toolexeclibdir = @toolexeclibdir@\n@@ -360,7 +365,7 @@ libgfortranbegin_la_SOURCES = fmain.c\n libgfortranbegin_la_LDFLAGS = -static\n AM_CPPFLAGS = -iquote$(srcdir)/io -I$(srcdir)/$(MULTISRCTOP)../gcc \\\n \t      -I$(srcdir)/$(MULTISRCTOP)../gcc/config \\\n-\t      -I$(MULTIBUILDTOP)../../gcc -D_GNU_SOURCE\n+\t      -I$(MULTIBUILDTOP)../../$(host_subdir)/gcc -D_GNU_SOURCE\n \n gfor_io_src = \\\n io/close.c \\\n@@ -2488,7 +2493,7 @@ distclean-tags:\n distdir: $(DISTFILES)\n \t$(am__remove_distdir)\n \tmkdir $(distdir)\n-\t$(mkdir_p) $(distdir)/.. $(distdir)/m4\n+\t$(mkdir_p) $(distdir)/.. $(distdir)/../config $(distdir)/m4\n \t@srcdirstrip=`echo \"$(srcdir)\" | sed 's|.|.|g'`; \\\n \ttopsrcdirstrip=`echo \"$(top_srcdir)\" | sed 's|.|.|g'`; \\\n \tlist='$(DISTFILES)'; for file in $$list; do \\"}, {"sha": "3fe4e73a4f6cc1851cd00074ea69b7afe05752bf", "filename": "libgfortran/acinclude.m4", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/891c05b102b1794c40ae18b1426880aac0bc193c/libgfortran%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/891c05b102b1794c40ae18b1426880aac0bc193c/libgfortran%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Facinclude.m4?ref=891c05b102b1794c40ae18b1426880aac0bc193c", "patch": "@@ -1,3 +1,6 @@\n+m4_include(../config/acx.m4)\n+m4_include(../config/no-executables.m4)\n+\n dnl Check:\n dnl * If we have gettimeofday;\n dnl * If we have struct timezone for use in calling it;"}, {"sha": "88564f221047c60f885408bfe618cbb972de293e", "filename": "libgfortran/configure", "status": "modified", "additions": 72, "deletions": 42, "changes": 114, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/891c05b102b1794c40ae18b1426880aac0bc193c/libgfortran%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/891c05b102b1794c40ae18b1426880aac0bc193c/libgfortran%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure?ref=891c05b102b1794c40ae18b1426880aac0bc193c", "patch": "@@ -308,7 +308,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT multi_basedir toolexecdir toolexeclibdir CC ac_ct_CC EXEEXT OBJEXT AM_FCFLAGS AM_CFLAGS AS ac_ct_AS AR ac_ct_AR RANLIB ac_ct_RANLIB LN_S LIBTOOL enable_shared enable_static FC FCFLAGS LDFLAGS ac_ct_FC extra_ldflags_libgfortran CPP CPPFLAGS EGREP FPU_HOST_HEADER LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os build_subdir host_subdir target_subdir host host_cpu host_vendor host_os target target_cpu target_vendor target_os INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT multi_basedir toolexecdir toolexeclibdir CC ac_ct_CC EXEEXT OBJEXT AM_FCFLAGS AM_CFLAGS AS ac_ct_AS AR ac_ct_AR RANLIB ac_ct_RANLIB LN_S LIBTOOL enable_shared enable_static FC FCFLAGS LDFLAGS ac_ct_FC extra_ldflags_libgfortran CPP CPPFLAGS EGREP FPU_HOST_HEADER LIBOBJS LTLIBOBJS'\n ac_subst_files=''\n \n # Initialize some variables set by options.\n@@ -1328,45 +1328,6 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n           ac_config_headers=\"$ac_config_headers config.h\"\n \n-\n-# -------\n-# Options\n-# -------\n-\n-echo \"$as_me:$LINENO: checking for --enable-version-specific-runtime-libs\" >&5\n-echo $ECHO_N \"checking for --enable-version-specific-runtime-libs... $ECHO_C\" >&6\n-# Check whether --enable-version-specific-runtime-libs or --disable-version-specific-runtime-libs was given.\n-if test \"${enable_version_specific_runtime_libs+set}\" = set; then\n-  enableval=\"$enable_version_specific_runtime_libs\"\n-  case \"$enableval\" in\n- yes) version_specific_libs=yes ;;\n- no)  version_specific_libs=no ;;\n- *)   { { echo \"$as_me:$LINENO: error: Unknown argument to enable/disable version-specific libs\" >&5\n-echo \"$as_me: error: Unknown argument to enable/disable version-specific libs\" >&2;}\n-   { (exit 1); exit 1; }; };;\n- esac\n-else\n-  version_specific_libs=no\n-fi;\n-echo \"$as_me:$LINENO: result: $version_specific_libs\" >&5\n-echo \"${ECHO_T}$version_specific_libs\" >&6\n-\n-\n-# Gets build, host, target, *_vendor, *_cpu, *_os, etc.\n-#\n-# You will slowly go insane if you do not grok the following fact:  when\n-# building this library, the top-level /target/ becomes the library's /host/.\n-#\n-# configure then causes --target to default to --host, exactly like any\n-# other package using autoconf.  Therefore, 'target' and 'host' will\n-# always be the same.  This makes sense both for native and cross compilers\n-# just think about it for a little while.  :-)\n-#\n-# Also, if this library is being configured as part of a cross compiler, the\n-# top-level configure script will pass the \"real\" host as $with_cross_host.\n-#\n-# Do not delete or change the following two lines.  For why, see\n-# http://gcc.gnu.org/ml/libstdc++/2003-07/msg00451.html\n ac_aux_dir=\n for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do\n   if test -f $ac_dir/install-sh; then\n@@ -1424,6 +1385,72 @@ build_vendor=`echo $ac_cv_build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n build_os=`echo $ac_cv_build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n \n \n+ case ${build_alias} in\n+  \"\") build_noncanonical=${build} ;;\n+  *) build_noncanonical=${build_alias} ;;\n+esac\n+\n+ case ${host_alias} in\n+  \"\") host_noncanonical=${build_noncanonical} ;;\n+  *) host_noncanonical=${host_alias} ;;\n+esac\n+\n+ case ${target_alias} in\n+  \"\") target_noncanonical=${host_noncanonical} ;;\n+  *) target_noncanonical=${target_alias} ;;\n+esac\n+\n+  # Prefix 'build-' so this never conflicts with target_subdir.\n+build_subdir=\"build-${build_noncanonical}\"\n+# --srcdir=. covers the toplevel, while \"test -d\" covers the subdirectories\n+if ( test $srcdir = . && test -d gcc ) \\\n+   || test -d $srcdir/../host-${host_noncanonical}; then\n+  host_subdir=\"host-${host_noncanonical}\"\n+else\n+  host_subdir=.\n+fi\n+# No prefix.\n+target_subdir=${target_noncanonical}\n+\n+\n+# -------\n+# Options\n+# -------\n+\n+echo \"$as_me:$LINENO: checking for --enable-version-specific-runtime-libs\" >&5\n+echo $ECHO_N \"checking for --enable-version-specific-runtime-libs... $ECHO_C\" >&6\n+# Check whether --enable-version-specific-runtime-libs or --disable-version-specific-runtime-libs was given.\n+if test \"${enable_version_specific_runtime_libs+set}\" = set; then\n+  enableval=\"$enable_version_specific_runtime_libs\"\n+  case \"$enableval\" in\n+ yes) version_specific_libs=yes ;;\n+ no)  version_specific_libs=no ;;\n+ *)   { { echo \"$as_me:$LINENO: error: Unknown argument to enable/disable version-specific libs\" >&5\n+echo \"$as_me: error: Unknown argument to enable/disable version-specific libs\" >&2;}\n+   { (exit 1); exit 1; }; };;\n+ esac\n+else\n+  version_specific_libs=no\n+fi;\n+echo \"$as_me:$LINENO: result: $version_specific_libs\" >&5\n+echo \"${ECHO_T}$version_specific_libs\" >&6\n+\n+\n+# Gets build, host, target, *_vendor, *_cpu, *_os, etc.\n+#\n+# You will slowly go insane if you do not grok the following fact:  when\n+# building this library, the top-level /target/ becomes the library's /host/.\n+#\n+# configure then causes --target to default to --host, exactly like any\n+# other package using autoconf.  Therefore, 'target' and 'host' will\n+# always be the same.  This makes sense both for native and cross compilers\n+# just think about it for a little while.  :-)\n+#\n+# Also, if this library is being configured as part of a cross compiler, the\n+# top-level configure script will pass the \"real\" host as $with_cross_host.\n+#\n+# Do not delete or change the following two lines.  For why, see\n+# http://gcc.gnu.org/ml/libstdc++/2003-07/msg00451.html\n echo \"$as_me:$LINENO: checking host system type\" >&5\n echo $ECHO_N \"checking host system type... $ECHO_C\" >&6\n if test \"${ac_cv_host+set}\" = set; then\n@@ -4122,7 +4149,7 @@ test x\"$pic_mode\" = xno && libtool_flags=\"$libtool_flags --prefer-non-pic\"\n case $host in\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 4125 \"configure\"' > conftest.$ac_ext\n+  echo '#line 4152 \"configure\"' > conftest.$ac_ext\n   if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   (eval $ac_compile) 2>&5\n   ac_status=$?\n@@ -4512,7 +4539,7 @@ fi\n \n \n # Provide some information about the compiler.\n-echo \"$as_me:4515:\" \\\n+echo \"$as_me:4542:\" \\\n      \"checking for Fortran compiler version\" >&5\n ac_compiler=`set X $ac_compile; echo $2`\n { (eval echo \"$as_me:$LINENO: \\\"$ac_compiler --version </dev/null >&5\\\"\") >&5\n@@ -21744,6 +21771,9 @@ s,@build@,$build,;t t\n s,@build_cpu@,$build_cpu,;t t\n s,@build_vendor@,$build_vendor,;t t\n s,@build_os@,$build_os,;t t\n+s,@build_subdir@,$build_subdir,;t t\n+s,@host_subdir@,$host_subdir,;t t\n+s,@target_subdir@,$target_subdir,;t t\n s,@host@,$host,;t t\n s,@host_cpu@,$host_cpu,;t t\n s,@host_vendor@,$host_vendor,;t t"}, {"sha": "eebf7d876829e7399722cb55da3682b2345d73ee", "filename": "libgfortran/configure.ac", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/891c05b102b1794c40ae18b1426880aac0bc193c/libgfortran%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/891c05b102b1794c40ae18b1426880aac0bc193c/libgfortran%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure.ac?ref=891c05b102b1794c40ae18b1426880aac0bc193c", "patch": "@@ -4,6 +4,7 @@\n AC_PREREQ(2.59)\n AC_INIT([GNU Fortran Runtime Library], 0.2,,[libgfortran])\n AC_CONFIG_HEADER(config.h)\n+GCC_TOPLEV_SUBDIRS\n \n # -------\n # Options"}]}