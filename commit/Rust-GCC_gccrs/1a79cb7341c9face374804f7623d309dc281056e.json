{"sha": "1a79cb7341c9face374804f7623d309dc281056e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWE3OWNiNzM0MWM5ZmFjZTM3NDgwNGY3NjIzZDMwOWRjMjgxMDU2ZQ==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@CeBiTec.Uni-Bielefeld.DE", "date": "2011-07-25T15:39:52Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2011-07-25T15:39:52Z"}, "message": "re PR libgomp/45351 (many unaligned accesses in libgomp tests)\n\n\tPR libgomp/45351\n\t* config/osf/sem.h: New file.\n\t* configure.tgt (alpha*-dec-osf*): Prepend osf to config_path.\n\nFrom-SVN: r176755", "tree": {"sha": "d416f53fe5dacef17ce08efa8060430b390413e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d416f53fe5dacef17ce08efa8060430b390413e0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1a79cb7341c9face374804f7623d309dc281056e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a79cb7341c9face374804f7623d309dc281056e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a79cb7341c9face374804f7623d309dc281056e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a79cb7341c9face374804f7623d309dc281056e/comments", "author": {"login": "rorth", "id": 3930951, "node_id": "MDQ6VXNlcjM5MzA5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rorth", "html_url": "https://github.com/rorth", "followers_url": "https://api.github.com/users/rorth/followers", "following_url": "https://api.github.com/users/rorth/following{/other_user}", "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rorth/subscriptions", "organizations_url": "https://api.github.com/users/rorth/orgs", "repos_url": "https://api.github.com/users/rorth/repos", "events_url": "https://api.github.com/users/rorth/events{/privacy}", "received_events_url": "https://api.github.com/users/rorth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "c1703fc185b118903740257c9a8cd6e06fd562f1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1703fc185b118903740257c9a8cd6e06fd562f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c1703fc185b118903740257c9a8cd6e06fd562f1"}], "stats": {"total": 64, "additions": 64, "deletions": 0}, "files": [{"sha": "c6d9ffd9c95d6d3853d03cf9dc90f789a53dd5bf", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a79cb7341c9face374804f7623d309dc281056e/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a79cb7341c9face374804f7623d309dc281056e/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=1a79cb7341c9face374804f7623d309dc281056e", "patch": "@@ -1,3 +1,9 @@\n+2011-07-25  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\tPR libgomp/45351\n+\t* config/osf/sem.h: New file.\n+\t* configure.tgt (alpha*-dec-osf*): Prepend osf to config_path.\n+\n 2011-07-18  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \tPR target/49541"}, {"sha": "7dcb542d55c017955856b6df3730c579d5ee6d03", "filename": "libgomp/config/osf/sem.h", "status": "added", "additions": 53, "deletions": 0, "changes": 53, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a79cb7341c9face374804f7623d309dc281056e/libgomp%2Fconfig%2Fosf%2Fsem.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a79cb7341c9face374804f7623d309dc281056e/libgomp%2Fconfig%2Fosf%2Fsem.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfig%2Fosf%2Fsem.h?ref=1a79cb7341c9face374804f7623d309dc281056e", "patch": "@@ -0,0 +1,53 @@\n+/* Copyright (C) 2011 Free Software Foundation, Inc.\n+\n+   This file is part of the GNU OpenMP Library (libgomp).\n+\n+   Libgomp is free software; you can redistribute it and/or modify it\n+   under the terms of the GNU General Public License as published by\n+   the Free Software Foundation; either version 3, or (at your option)\n+   any later version.\n+\n+   Libgomp is distributed in the hope that it will be useful, but WITHOUT ANY\n+   WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS\n+   FOR A PARTICULAR PURPOSE.  See the GNU General Public License for\n+   more details.\n+\n+   Under Section 7 of GPL version 3, you are granted additional\n+   permissions described in the GCC Runtime Library Exception, version\n+   3.1, as published by the Free Software Foundation.\n+\n+   You should have received a copy of the GNU General Public License and\n+   a copy of the GCC Runtime Library Exception along with this program;\n+   see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n+   <http://www.gnu.org/licenses/>.  */\n+\n+/* This is a variant of config/posix/sem.h for Tru64 UNIX.  The librt\n+   sem_init implementation assumes int (4-byte) alignment for sem_t, while\n+   the type only requires short (2-byte) alignment.  This mismatch causes\n+   lots of unaligned access warnings from the kernel, so enforce that\n+   alignment.  */\n+\n+#ifndef GOMP_SEM_H\n+#define GOMP_SEM_H 1\n+\n+#include <semaphore.h>\n+\n+typedef sem_t gomp_sem_t __attribute__((aligned (__alignof__ (int))));\n+\n+static inline void gomp_sem_init (gomp_sem_t *sem, int value)\n+{\n+  sem_init (sem, 0, value);\n+}\n+\n+extern void gomp_sem_wait (gomp_sem_t *sem);\n+\n+static inline void gomp_sem_post (gomp_sem_t *sem)\n+{\n+  sem_post (sem);\n+}\n+\n+static inline void gomp_sem_destroy (gomp_sem_t *sem)\n+{\n+  sem_destroy (sem);\n+}\n+#endif /* GOMP_SEM_H  */"}, {"sha": "aeb9bc102165dd6713533a6d79f8d7a34ca8014f", "filename": "libgomp/configure.tgt", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a79cb7341c9face374804f7623d309dc281056e/libgomp%2Fconfigure.tgt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a79cb7341c9face374804f7623d309dc281056e/libgomp%2Fconfigure.tgt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfigure.tgt?ref=1a79cb7341c9face374804f7623d309dc281056e", "patch": "@@ -129,6 +129,11 @@ case \"${target}\" in\n \tXLDFLAGS=\"${XLDFLAGS} -lpthread\"\n \t;;\n \n+  alpha*-dec-osf*)\n+\t# Use Tru64 UNIX-specific sem.h version.\n+\tconfig_path=\"osf posix\"\n+\t;;\n+\n   mips-sgi-irix6*)\n \t# Need to link with -lpthread so libgomp.so is self-contained.\n \tXLDFLAGS=\"${XLDFLAGS} -lpthread\""}]}