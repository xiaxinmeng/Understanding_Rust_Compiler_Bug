{"sha": "485bad26cebcab75022e2abdfe8af0339330f25c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDg1YmFkMjZjZWJjYWI3NTAyMmUyYWJkZmU4YWYwMzM5MzMwZjI1Yw==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@cs.umass.edu", "date": "2003-06-29T04:24:55Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2003-06-29T04:24:55Z"}, "message": "dwarf2out.c (add_AT_string): Replace ggc_alloc_string (X, -1) with ggc_strdup.\n\n\t* dwarf2out.c (add_AT_string): Replace ggc_alloc_string (X,\n\t-1) with ggc_strdup.\n\t* stmt.c (expand_asm_operands): Likewise.\n\t* config/rs6000/rs6000.md (builtin_setjmp_receiver): Likewise.\n\nFrom-SVN: r68659", "tree": {"sha": "edbd5c3beb19348da9f863e19262f0023e78bd21", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/edbd5c3beb19348da9f863e19262f0023e78bd21"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/485bad26cebcab75022e2abdfe8af0339330f25c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/485bad26cebcab75022e2abdfe8af0339330f25c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/485bad26cebcab75022e2abdfe8af0339330f25c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/485bad26cebcab75022e2abdfe8af0339330f25c/comments", "author": null, "committer": null, "parents": [{"sha": "b01258dd1219ba584fd80dafa14566aa32bd4ccd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b01258dd1219ba584fd80dafa14566aa32bd4ccd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b01258dd1219ba584fd80dafa14566aa32bd4ccd"}], "stats": {"total": 15, "additions": 11, "deletions": 4}, "files": [{"sha": "cece0d34ea89dc6e5358bea816e5664e02346b76", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/485bad26cebcab75022e2abdfe8af0339330f25c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/485bad26cebcab75022e2abdfe8af0339330f25c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=485bad26cebcab75022e2abdfe8af0339330f25c", "patch": "@@ -1,3 +1,10 @@\n+2003-06-29  Kazu Hirata  <kazu@cs.umass.edu>\n+\n+\t* dwarf2out.c (add_AT_string): Replace ggc_alloc_string (X,\n+\t-1) with ggc_strdup.\n+\t* stmt.c (expand_asm_operands): Likewise.\n+\t* config/rs6000/rs6000.md (builtin_setjmp_receiver): Likewise.\n+\n 2003-06-28  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* config/ip2k/ip2k.c (ip2k_reorg): Use INSN_P instead of its"}, {"sha": "1e891f1f441c1ca426908fb65cb643f62c0a6917", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/485bad26cebcab75022e2abdfe8af0339330f25c/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/485bad26cebcab75022e2abdfe8af0339330f25c/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=485bad26cebcab75022e2abdfe8af0339330f25c", "patch": "@@ -10141,14 +10141,14 @@\n   if (DEFAULT_ABI == ABI_DARWIN)\n     {\n       const char *picbase = machopic_function_base_name ();\n-      rtx picrtx = gen_rtx_SYMBOL_REF (Pmode, ggc_alloc_string (picbase, -1));\n+      rtx picrtx = gen_rtx_SYMBOL_REF (Pmode, ggc_strdup (picbase));\n       rtx picreg = gen_rtx_REG (Pmode, RS6000_PIC_OFFSET_TABLE_REGNUM);\n       rtx tmplabrtx;\n       char tmplab[20];\n \n       ASM_GENERATE_INTERNAL_LABEL(tmplab, \\\"LSJR\\\",\n \t\t\t\t  CODE_LABEL_NUMBER (operands[0]));\n-      tmplabrtx = gen_rtx_SYMBOL_REF (Pmode, ggc_alloc_string (tmplab, -1));\n+      tmplabrtx = gen_rtx_SYMBOL_REF (Pmode, ggc_strdup (tmplab));\n \n       emit_insn (gen_load_macho_picbase (picreg, tmplabrtx));\n       emit_insn (gen_macho_correct_pic (picreg, picreg, picrtx, tmplabrtx));"}, {"sha": "4ae09b14f146af3e9c6c3fc617eb91a4863e3488", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/485bad26cebcab75022e2abdfe8af0339330f25c/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/485bad26cebcab75022e2abdfe8af0339330f25c/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=485bad26cebcab75022e2abdfe8af0339330f25c", "patch": "@@ -4703,7 +4703,7 @@ add_AT_string (die, attr_kind, str)\n   if (*slot == NULL)\n     *slot = ggc_alloc_cleared (sizeof (struct indirect_string_node));\n   node = (struct indirect_string_node *) *slot;\n-  node->str = ggc_alloc_string (str, -1);\n+  node->str = ggc_strdup (str);\n   node->refcount++;\n \n   attr->dw_attr_next = NULL;"}, {"sha": "b592a33d8673302b18b05401294db579d3bec6dd", "filename": "gcc/stmt.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/485bad26cebcab75022e2abdfe8af0339330f25c/gcc%2Fstmt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/485bad26cebcab75022e2abdfe8af0339330f25c/gcc%2Fstmt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fstmt.c?ref=485bad26cebcab75022e2abdfe8af0339330f25c", "patch": "@@ -1830,7 +1830,7 @@ expand_asm_operands (string, outputs, inputs, clobbers, vol, filename, line)\n \n       sprintf (buffer, \"%d\", j);\n       ASM_OPERANDS_INPUT_CONSTRAINT_EXP (body, ninputs - ninout + i)\n-\t= gen_rtx_ASM_INPUT (inout_mode[i], ggc_alloc_string (buffer, -1));\n+\t= gen_rtx_ASM_INPUT (inout_mode[i], ggc_strdup (buffer));\n     }\n \n   generating_concat_p = old_generating_concat_p;"}]}