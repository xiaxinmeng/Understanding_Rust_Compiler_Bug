{"sha": "5b5662eea779eb744d214bd46fc4e4fed67b8d33", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWI1NjYyZWVhNzc5ZWI3NDRkMjE0YmQ0NmZjNGU0ZmVkNjdiOGQzMw==", "commit": {"author": {"name": "Danny Smith", "email": "dannysmith@users.sourceforge.net", "date": "2004-08-01T04:29:31Z"}, "committer": {"name": "Danny Smith", "email": "dannysmith@gcc.gnu.org", "date": "2004-08-01T04:29:31Z"}, "message": "configure.in [...] (SYSTEMSPEC): Remove -lwsock32.\n\n\t* configure.in [host *mingw*] (SYSTEMSPEC): Remove -lwsock32.\n\t* configure. Regenerate.\n\t* include/win32.h: Explicitly include winsock2.h\n\t* win32.cc (_Jv_platform_initialize): Require version 2.2 of\n\tWinsock api.\n\nFrom-SVN: r85401", "tree": {"sha": "df243c4d0168eaa45846882e1060f57323f7dbbe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/df243c4d0168eaa45846882e1060f57323f7dbbe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5b5662eea779eb744d214bd46fc4e4fed67b8d33", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b5662eea779eb744d214bd46fc4e4fed67b8d33", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5b5662eea779eb744d214bd46fc4e4fed67b8d33", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b5662eea779eb744d214bd46fc4e4fed67b8d33/comments", "author": null, "committer": null, "parents": [{"sha": "6b3b5f051759027e607f4b1ad8e10960de1fcddd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b3b5f051759027e607f4b1ad8e10960de1fcddd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b3b5f051759027e607f4b1ad8e10960de1fcddd"}], "stats": {"total": 17, "additions": 14, "deletions": 3}, "files": [{"sha": "a08c38662a7a1eb778d52add13c05e94fcd752f6", "filename": "libjava/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b5662eea779eb744d214bd46fc4e4fed67b8d33/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b5662eea779eb744d214bd46fc4e4fed67b8d33/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=5b5662eea779eb744d214bd46fc4e4fed67b8d33", "patch": "@@ -1,3 +1,12 @@\n+2004-08-01  Danny Smith  <dannysmith@users.sourceforge.net>\n+\n+\tPR libgcj/16814\n+\t* configure.in [host *mingw*] (SYSTEMSPEC): Remove -lwsock32.\n+\t* configure. Regenerate.\n+\t* include/win32.h: Explicitly include winsock2.h\n+\t* win32.cc (_Jv_platform_initialize): Require version 2.2 of\n+\tWinsock api.\n+\n 2004-07-30  Michael Koch  <konqueror@gmx.de>\n \n \t* java/util/zip/GZIPInputStream.java"}, {"sha": "79166413f58b6156aabb1d6891718ab7a37d4838", "filename": "libjava/configure", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b5662eea779eb744d214bd46fc4e4fed67b8d33/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b5662eea779eb744d214bd46fc4e4fed67b8d33/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=5b5662eea779eb744d214bd46fc4e4fed67b8d33", "patch": "@@ -3279,7 +3279,7 @@ test -d gnu/java/nio/channels || mkdir gnu/java/nio/channels\n \n case \"${host}\" in\n     *mingw*)\n-      SYSTEMSPEC=\"-lgdi32 -lwsock32 -lws2_32\"\n+      SYSTEMSPEC=\"-lgdi32 -lws2_32\"\n       if test \"${with_win32_nlsapi}\" = \"unicows\"; then\n         SYSTEMSPEC=\"-lunicows $SYSTEMSPEC\"\n       fi"}, {"sha": "dc7b8799353a0e549dbc3422c0f59278c59753a9", "filename": "libjava/configure.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b5662eea779eb744d214bd46fc4e4fed67b8d33/libjava%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b5662eea779eb744d214bd46fc4e4fed67b8d33/libjava%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.in?ref=5b5662eea779eb744d214bd46fc4e4fed67b8d33", "patch": "@@ -481,7 +481,7 @@ AC_LINK_FILES(gnu/java/nio/channels/natFileChannel${FILE-${PLATFORM}}.cc, gnu/ja\n \n case \"${host}\" in\n     *mingw*)\n-      SYSTEMSPEC=\"-lgdi32 -lwsock32 -lws2_32\"\n+      SYSTEMSPEC=\"-lgdi32 -lws2_32\"\n       if test \"${with_win32_nlsapi}\" = \"unicows\"; then\n         SYSTEMSPEC=\"-lunicows $SYSTEMSPEC\"\n       fi"}, {"sha": "a660616ae4c834aa58dcc0ac7fb7cc84ba060c7e", "filename": "libjava/include/win32.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b5662eea779eb744d214bd46fc4e4fed67b8d33/libjava%2Finclude%2Fwin32.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b5662eea779eb744d214bd46fc4e4fed67b8d33/libjava%2Finclude%2Fwin32.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2Fwin32.h?ref=5b5662eea779eb744d214bd46fc4e4fed67b8d33", "patch": "@@ -22,6 +22,8 @@ details.  */\n \n // Includes\n #define WIN32_LEAN_AND_MEAN\n+// Force Winsock 2 interface.\n+#include <winsock2.h>\n #include <windows.h>\n #undef WIN32_LEAN_AND_MEAN\n #undef STRICT"}, {"sha": "c337922d2965606f73ae7e02eea581ca501f9fcb", "filename": "libjava/win32.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b5662eea779eb744d214bd46fc4e4fed67b8d33/libjava%2Fwin32.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b5662eea779eb744d214bd46fc4e4fed67b8d33/libjava%2Fwin32.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fwin32.cc?ref=5b5662eea779eb744d214bd46fc4e4fed67b8d33", "patch": "@@ -256,7 +256,7 @@ _Jv_platform_initialize (void)\n {\n   // Initialise winsock for networking\n   WSADATA data;\n-  if (WSAStartup (MAKEWORD (1, 1), &data))\n+  if (WSAStartup (MAKEWORD (2, 2), &data))\n     MessageBox (NULL, _T(\"Error initialising winsock library.\"), _T(\"Error\"),\n     MB_OK | MB_ICONEXCLAMATION);\n "}]}