{"sha": "0ca89db7aa51322aa15f6d89b692b20ad5898c89", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGNhODlkYjdhYTUxMzIyYWExNWY2ZDg5YjY5MmIyMGFkNTg5OGM4OQ==", "commit": {"author": {"name": "Ulrich Weigand", "email": "uweigand@de.ibm.com", "date": "2005-03-15T15:46:52Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2005-03-15T15:46:52Z"}, "message": "s390.c (s390_secondary_output_reload_class): Adapt check for non-offsettable memory references to cope with outstanding...\n\n\t* config/s390/s390.c (s390_secondary_output_reload_class): Adapt check\n\tfor non-offsettable memory references to cope with outstanding reload\n\treplacements, take 2.\n\nFrom-SVN: r96480", "tree": {"sha": "e9b66aeb17137e986ffab59c06b2a65248d6ccac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e9b66aeb17137e986ffab59c06b2a65248d6ccac"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0ca89db7aa51322aa15f6d89b692b20ad5898c89", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ca89db7aa51322aa15f6d89b692b20ad5898c89", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ca89db7aa51322aa15f6d89b692b20ad5898c89", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ca89db7aa51322aa15f6d89b692b20ad5898c89/comments", "author": null, "committer": null, "parents": [{"sha": "09c239f69814c6c85f5eba1b57e50d8a9ee1acae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/09c239f69814c6c85f5eba1b57e50d8a9ee1acae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/09c239f69814c6c85f5eba1b57e50d8a9ee1acae"}], "stats": {"total": 17, "additions": 11, "deletions": 6}, "files": [{"sha": "8d702051f8a3944fe8155ffd1b4c49c5e8a1064c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ca89db7aa51322aa15f6d89b692b20ad5898c89/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ca89db7aa51322aa15f6d89b692b20ad5898c89/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0ca89db7aa51322aa15f6d89b692b20ad5898c89", "patch": "@@ -1,3 +1,9 @@\n+2005-03-15  Ulrich Weigand  <uweigand@de.ibm.com>\n+\n+\t* config/s390/s390.c (s390_secondary_output_reload_class): Adapt check\n+\tfor non-offsettable memory references to cope with outstanding reload\n+\treplacements, take 2.\n+\n 2005-03-15  Uros Bizjak  <uros@kss-loka.si>\n \n \tPR target/18668"}, {"sha": "2514a43a9405615ed206b3b87692efa35caadc94", "filename": "gcc/config/s390/s390.c", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ca89db7aa51322aa15f6d89b692b20ad5898c89/gcc%2Fconfig%2Fs390%2Fs390.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ca89db7aa51322aa15f6d89b692b20ad5898c89/gcc%2Fconfig%2Fs390%2Fs390.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.c?ref=0ca89db7aa51322aa15f6d89b692b20ad5898c89", "patch": "@@ -2553,16 +2553,15 @@ enum reg_class\n s390_secondary_output_reload_class (enum reg_class class,\n \t\t\t\t    enum machine_mode mode, rtx out)\n {\n-  struct s390_address addr;\n-\n   if ((TARGET_64BIT ? mode == TImode\n                     : (mode == DImode || mode == DFmode))\n       && reg_classes_intersect_p (GENERAL_REGS, class)\n       && GET_CODE (out) == MEM\n-      && s390_decompose_address (XEXP (out, 0), &addr)\n-      && addr.base && addr.indx\n-      && addr.disp && GET_CODE (addr.disp) == CONST_INT\n-      && !DISP_IN_RANGE (INTVAL (addr.disp) + GET_MODE_SIZE (mode) - 1))\n+      && GET_CODE (XEXP (out, 0)) == PLUS\n+      && GET_CODE (XEXP (XEXP (out, 0), 0)) == PLUS\n+      && GET_CODE (XEXP (XEXP (out, 0), 1)) == CONST_INT\n+      && !DISP_IN_RANGE (INTVAL (XEXP (XEXP (out, 0), 1))\n+\t\t\t + GET_MODE_SIZE (mode) - 1))\n     return ADDR_REGS;\n \n   if (reg_classes_intersect_p (CC_REGS, class))"}]}