{"sha": "d93861237f5136949e6c80a65439aa796e2af224", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDkzODYxMjM3ZjUxMzY5NDllNmM4MGE2NTQzOWFhNzk2ZTJhZjIyNA==", "commit": {"author": {"name": "Andris Pavenis", "email": "andris.pavenis@iki.fi", "date": "2015-11-13T06:39:49Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2015-11-13T06:39:49Z"}, "message": "[PATCH] gcc.c: new macro POST_LINK_SPECS to be able to add additional\nsteps after linking\n\n\t* gcc.c (POST_LINK_SPEC): Define if not already defined.\n\t(LINK_COMMAND_SPEC): Use post_link.\n\t(post_link_spec): New, initialize to POST_LINK_SPEC.\n\t(post_link): Initialize new static spec.\n\t* doc/tm.texi.in (POST_LINK_SPEC): Document.\n\t* doc/tm.texi: Regenerated.\n\nFrom-SVN: r230287", "tree": {"sha": "041b76d1c5100a6eb663d739b68cde8ee67a7d92", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/041b76d1c5100a6eb663d739b68cde8ee67a7d92"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d93861237f5136949e6c80a65439aa796e2af224", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d93861237f5136949e6c80a65439aa796e2af224", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d93861237f5136949e6c80a65439aa796e2af224", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d93861237f5136949e6c80a65439aa796e2af224/comments", "author": {"login": "apavenis", "id": 33935463, "node_id": "MDQ6VXNlcjMzOTM1NDYz", "avatar_url": "https://avatars.githubusercontent.com/u/33935463?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apavenis", "html_url": "https://github.com/apavenis", "followers_url": "https://api.github.com/users/apavenis/followers", "following_url": "https://api.github.com/users/apavenis/following{/other_user}", "gists_url": "https://api.github.com/users/apavenis/gists{/gist_id}", "starred_url": "https://api.github.com/users/apavenis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apavenis/subscriptions", "organizations_url": "https://api.github.com/users/apavenis/orgs", "repos_url": "https://api.github.com/users/apavenis/repos", "events_url": "https://api.github.com/users/apavenis/events{/privacy}", "received_events_url": "https://api.github.com/users/apavenis/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "93ebf1fdbe35eadc5e54934061a7a4d7bcdc8262", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/93ebf1fdbe35eadc5e54934061a7a4d7bcdc8262", "html_url": "https://github.com/Rust-GCC/gccrs/commit/93ebf1fdbe35eadc5e54934061a7a4d7bcdc8262"}], "stats": {"total": 27, "additions": 26, "deletions": 1}, "files": [{"sha": "8e472b02bf8a4351e202a31c0844f215d5c4a5f6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d93861237f5136949e6c80a65439aa796e2af224/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d93861237f5136949e6c80a65439aa796e2af224/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d93861237f5136949e6c80a65439aa796e2af224", "patch": "@@ -1,3 +1,12 @@\n+2015-11-13  Andris Pavenis  <andris.pavenis@iki.fi>\n+\n+\t* gcc.c (POST_LINK_SPEC): Define if not already defined.\n+\t(LINK_COMMAND_SPEC): Use post_link.\n+\t(post_link_spec): New, initialize to POST_LINK_SPEC.\n+\t(post_link): Initialize new static spec.\n+\t* doc/tm.texi.in (POST_LINK_SPEC): Document.\n+\t* doc/tm.texi: Regenerated.\n+\n 2015-11-13  David Malcolm  <dmalcolm@redhat.com>\n \n \tPR driver/67613"}, {"sha": "4272c369dda1a4d47ac18b989d3a1e6ec8cf703f", "filename": "gcc/doc/tm.texi", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d93861237f5136949e6c80a65439aa796e2af224/gcc%2Fdoc%2Ftm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d93861237f5136949e6c80a65439aa796e2af224/gcc%2Fdoc%2Ftm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Ftm.texi?ref=d93861237f5136949e6c80a65439aa796e2af224", "patch": "@@ -375,6 +375,11 @@ The sequence in which libgcc and libc are specified to the linker.\n By default this is @code{%G %L %G}.\n @end defmac\n \n+@defmac POST_LINK_SPEC\n+Define this macro to add additional steps to be executed after linker.\n+The default value of this macro is empty string.\n+@end defmac\n+\n @defmac LINK_COMMAND_SPEC\n A C string constant giving the complete command line need to execute the\n linker.  When you do this, you will need to update your port each time a"}, {"sha": "9fcc0f7691457642925dd3715779a919d8cf7a91", "filename": "gcc/doc/tm.texi.in", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d93861237f5136949e6c80a65439aa796e2af224/gcc%2Fdoc%2Ftm.texi.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d93861237f5136949e6c80a65439aa796e2af224/gcc%2Fdoc%2Ftm.texi.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Ftm.texi.in?ref=d93861237f5136949e6c80a65439aa796e2af224", "patch": "@@ -375,6 +375,11 @@ The sequence in which libgcc and libc are specified to the linker.\n By default this is @code{%G %L %G}.\n @end defmac\n \n+@defmac POST_LINK_SPEC\n+Define this macro to add additional steps to be executed after linker.\n+The default value of this macro is empty string.\n+@end defmac\n+\n @defmac LINK_COMMAND_SPEC\n A C string constant giving the complete command line need to execute the\n linker.  When you do this, you will need to update your port each time a"}, {"sha": "7b1fd570c19b8b192dfc13a74ecf34b4c6de8c2f", "filename": "gcc/gcc.c", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d93861237f5136949e6c80a65439aa796e2af224/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d93861237f5136949e6c80a65439aa796e2af224/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=d93861237f5136949e6c80a65439aa796e2af224", "patch": "@@ -980,6 +980,10 @@ proper position among the other output files.  */\n     %{%:sanitize(leak):\" LIBLSAN_SPEC \"}}}\"\n #endif\n \n+#ifndef POST_LINK_SPEC\n+#define POST_LINK_SPEC \"\"\n+#endif\n+\n /*  This is the spec to use, once the code for creating the vtable\n     verification runtime library, libvtv.so, has been created.  Currently\n     the vtable verification runtime functions are in libstdc++, so we use\n@@ -1022,7 +1026,7 @@ proper position among the other output files.  */\n     %(mflib) \" STACK_SPLIT_SPEC \"\\\n     %{fprofile-arcs|fprofile-generate*|coverage:-lgcov} \" SANITIZER_SPEC \" \\\n     %{!nostdlib:%{!nodefaultlibs:%(link_ssp) %(link_gcc_c_sequence)}}\\\n-    %{!nostdlib:%{!nostartfiles:%E}} %{T*} }}}}}}\"\n+    %{!nostdlib:%{!nostartfiles:%E}} %{T*}  \\n%(post_link) }}}}}}\"\n #endif\n \n #ifndef LINK_LIBGCC_SPEC\n@@ -1064,6 +1068,7 @@ static const char *linker_name_spec = LINKER_NAME;\n static const char *linker_plugin_file_spec = \"\";\n static const char *lto_wrapper_spec = \"\";\n static const char *lto_gcc_spec = \"\";\n+static const char *post_link_spec = POST_LINK_SPEC;\n static const char *link_command_spec = LINK_COMMAND_SPEC;\n static const char *link_libgcc_spec = LINK_LIBGCC_SPEC;\n static const char *startfile_prefix_spec = STARTFILE_PREFIX_SPEC;\n@@ -1572,6 +1577,7 @@ static struct spec_list static_specs[] =\n   INIT_STATIC_SPEC (\"linker_plugin_file\",\t&linker_plugin_file_spec),\n   INIT_STATIC_SPEC (\"lto_wrapper\",\t\t&lto_wrapper_spec),\n   INIT_STATIC_SPEC (\"lto_gcc\",\t\t\t&lto_gcc_spec),\n+  INIT_STATIC_SPEC (\"post_link\",\t\t&post_link_spec),\n   INIT_STATIC_SPEC (\"link_libgcc\",\t\t&link_libgcc_spec),\n   INIT_STATIC_SPEC (\"md_exec_prefix\",\t\t&md_exec_prefix),\n   INIT_STATIC_SPEC (\"md_startfile_prefix\",\t&md_startfile_prefix),"}]}