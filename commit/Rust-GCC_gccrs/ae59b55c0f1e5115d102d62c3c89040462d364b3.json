{"sha": "ae59b55c0f1e5115d102d62c3c89040462d364b3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWU1OWI1NWMwZjFlNTExNWQxMDJkNjJjM2M4OTA0MDQ2MmQzNjRiMw==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@apple.com", "date": "2005-01-13T22:48:14Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2005-01-13T22:48:14Z"}, "message": "configure.host (darwin): On darwin8 or later, no need to build libstdc++ with -flat_namespace.\n\n\t* configure.host (darwin): On darwin8 or later, no need to build\n\tlibstdc++ with -flat_namespace.\n\nFrom-SVN: r93613", "tree": {"sha": "24559ad438bbb0c347089c9089f62a1d2044f259", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/24559ad438bbb0c347089c9089f62a1d2044f259"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ae59b55c0f1e5115d102d62c3c89040462d364b3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae59b55c0f1e5115d102d62c3c89040462d364b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae59b55c0f1e5115d102d62c3c89040462d364b3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae59b55c0f1e5115d102d62c3c89040462d364b3/comments", "author": {"login": "geoffk01", "id": 31905243, "node_id": "MDQ6VXNlcjMxOTA1MjQz", "avatar_url": "https://avatars.githubusercontent.com/u/31905243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geoffk01", "html_url": "https://github.com/geoffk01", "followers_url": "https://api.github.com/users/geoffk01/followers", "following_url": "https://api.github.com/users/geoffk01/following{/other_user}", "gists_url": "https://api.github.com/users/geoffk01/gists{/gist_id}", "starred_url": "https://api.github.com/users/geoffk01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geoffk01/subscriptions", "organizations_url": "https://api.github.com/users/geoffk01/orgs", "repos_url": "https://api.github.com/users/geoffk01/repos", "events_url": "https://api.github.com/users/geoffk01/events{/privacy}", "received_events_url": "https://api.github.com/users/geoffk01/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "516cb88aa978226cd59bd8c80eef032176c70ed3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/516cb88aa978226cd59bd8c80eef032176c70ed3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/516cb88aa978226cd59bd8c80eef032176c70ed3"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "9aa1d6b8cd730035b23d1588dd53633adbae5a99", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae59b55c0f1e5115d102d62c3c89040462d364b3/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae59b55c0f1e5115d102d62c3c89040462d364b3/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=ae59b55c0f1e5115d102d62c3c89040462d364b3", "patch": "@@ -1,3 +1,8 @@\n+2005-01-13  Geoffrey Keating  <geoffk@apple.com>\n+\n+\t* configure.host (darwin): On darwin8 or later, no need to build\n+\tlibstdc++ with -flat_namespace.\n+\n 2005-01-13  Jonathan Wakely  <redi@gcc.gnu.org>\n \n \t* docs/doxygen/user.cfg.in: Set HAVE_DOT back to YES."}, {"sha": "b3582a41d79f9516333cfc49cf5eec4da34283a3", "filename": "libstdc++-v3/configure.host", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae59b55c0f1e5115d102d62c3c89040462d364b3/libstdc%2B%2B-v3%2Fconfigure.host", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae59b55c0f1e5115d102d62c3c89040462d364b3/libstdc%2B%2B-v3%2Fconfigure.host", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure.host?ref=ae59b55c0f1e5115d102d62c3c89040462d364b3", "patch": "@@ -174,13 +174,19 @@ case \"${host_os}\" in\n   cygwin*)\n     os_include_dir=\"os/newlib\"\n     ;;\n-  darwin*)\n+  darwin | darwin[1-7] | darwin[1-7].*)\n     # On Darwin, performance is improved if libstdc++ is single-module.\n-    # Up to at least 10.3.5, -flat_namespace is required for proper\n+    # Up to at least 10.3.7, -flat_namespace is required for proper\n     # treatment of coalesced symbols.\n     OPT_LDFLAGS=\"${OPT_LDFLAGS} -Wl,-single_module -Wl,-flat_namespace\"\n     os_include_dir=\"os/bsd/darwin\"\n     ;;\n+  darwin[89] | darwin[89].* | darwin[1-9][0-9]* )\n+    # On Darwin, performance is improved if libstdc++ is single-module,\n+    # and on 8+ compatibility is better if not -flat_namespace.\n+    OPT_LDFLAGS=\"${OPT_LDFLAGS} -Wl,-single_module\"\n+    os_include_dir=\"os/bsd/darwin\"\n+    ;;\n   *djgpp*)      # leading * picks up \"msdosdjgpp\"\n     os_include_dir=\"os/djgpp\"\n     ;;"}]}