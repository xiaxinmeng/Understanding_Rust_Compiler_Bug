{"sha": "fe24cc36d56fe9bf973480d4fe97b2cbc652b69b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmUyNGNjMzZkNTZmZTliZjk3MzQ4MGQ0ZmU5N2IyY2JjNjUyYjY5Yg==", "commit": {"author": {"name": "Richard Sandiford", "email": "richard@codesourcery.com", "date": "2007-03-21T09:08:04Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2007-03-21T09:08:04Z"}, "message": "chk.h (LOCAL): Define.\n\ngcc/testsuite/\n\t* gcc.c-torture/execute/builtins/chk.h (LOCAL): Define.\n\t* gcc.c-torture/execute/builtins/sprintf-chk.c (s1): Make LOCAL.\n\t* gcc.c-torture/execute/builtins/stpcpy-chk.c (s1): Likewise.\n\t* gcc.c-torture/execute/builtins/strcpy-chk.c (s1): Likewise.\n\nFrom-SVN: r123105", "tree": {"sha": "84e26e6b520aac4c88313b596a4b93716f0ea581", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/84e26e6b520aac4c88313b596a4b93716f0ea581"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fe24cc36d56fe9bf973480d4fe97b2cbc652b69b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe24cc36d56fe9bf973480d4fe97b2cbc652b69b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fe24cc36d56fe9bf973480d4fe97b2cbc652b69b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe24cc36d56fe9bf973480d4fe97b2cbc652b69b/comments", "author": null, "committer": null, "parents": [{"sha": "7c0ffd09f85799e9ce4b8625b7e951c6f2fd2ae5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c0ffd09f85799e9ce4b8625b7e951c6f2fd2ae5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c0ffd09f85799e9ce4b8625b7e951c6f2fd2ae5"}], "stats": {"total": 21, "additions": 18, "deletions": 3}, "files": [{"sha": "8be2829883a52bcdf0246ec503d05026de88ad4f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe24cc36d56fe9bf973480d4fe97b2cbc652b69b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe24cc36d56fe9bf973480d4fe97b2cbc652b69b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=fe24cc36d56fe9bf973480d4fe97b2cbc652b69b", "patch": "@@ -1,3 +1,10 @@\n+2007-03-21  Richard Sandiford  <richard@codesourcery.com>\n+\n+\t* gcc.c-torture/execute/builtins/chk.h (LOCAL): Define.\n+\t* gcc.c-torture/execute/builtins/sprintf-chk.c (s1): Make LOCAL.\n+\t* gcc.c-torture/execute/builtins/stpcpy-chk.c (s1): Likewise.\n+\t* gcc.c-torture/execute/builtins/strcpy-chk.c (s1): Likewise.\n+\n 2007-03-19  Seongbae Park <seongbae.park@gmail.com>\n \n \tPR tree-optimization/30590"}, {"sha": "625fdef09b55aa90163b3162d5fc2286fdd5353f", "filename": "gcc/testsuite/gcc.c-torture/execute/builtins/chk.h", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe24cc36d56fe9bf973480d4fe97b2cbc652b69b/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2Fchk.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe24cc36d56fe9bf973480d4fe97b2cbc652b69b/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2Fchk.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2Fchk.h?ref=fe24cc36d56fe9bf973480d4fe97b2cbc652b69b", "patch": "@@ -79,3 +79,11 @@ extern volatile int memset_disallowed, strcpy_disallowed, stpcpy_disallowed;\n extern volatile int strncpy_disallowed, strcat_disallowed, strncat_disallowed;\n extern volatile int sprintf_disallowed, vsprintf_disallowed;\n extern volatile int snprintf_disallowed, vsnprintf_disallowed;\n+\n+/* A storage class that ensures that declarations bind locally.  We want\n+   to test non-static declarations where we know it is safe to do so.  */\n+#if __PIC__ && !__PIE__\n+#define LOCAL static\n+#else\n+#define LOCAL\n+#endif"}, {"sha": "2862ab6dc91f6acf8e442435580da52bf6143dcc", "filename": "gcc/testsuite/gcc.c-torture/execute/builtins/sprintf-chk.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe24cc36d56fe9bf973480d4fe97b2cbc652b69b/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2Fsprintf-chk.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe24cc36d56fe9bf973480d4fe97b2cbc652b69b/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2Fsprintf-chk.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2Fsprintf-chk.c?ref=fe24cc36d56fe9bf973480d4fe97b2cbc652b69b", "patch": "@@ -13,7 +13,7 @@ extern int sprintf (char *, const char *, ...);\n \n #include \"chk.h\"\n \n-const char s1[] = \"123\";\n+LOCAL const char s1[] = \"123\";\n char p[32] = \"\";\n char *s2 = \"defg\";\n char *s3 = \"FGH\";"}, {"sha": "6091f129359274cad0ae90bbec99f2262065cfb3", "filename": "gcc/testsuite/gcc.c-torture/execute/builtins/stpcpy-chk.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe24cc36d56fe9bf973480d4fe97b2cbc652b69b/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2Fstpcpy-chk.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe24cc36d56fe9bf973480d4fe97b2cbc652b69b/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2Fstpcpy-chk.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2Fstpcpy-chk.c?ref=fe24cc36d56fe9bf973480d4fe97b2cbc652b69b", "patch": "@@ -11,7 +11,7 @@ extern int memcmp (const void *, const void *, size_t);\n \n #include \"chk.h\"\n \n-const char s1[] = \"123\";\n+LOCAL const char s1[] = \"123\";\n char p[32] = \"\";\n char *s2 = \"defg\";\n char *s3 = \"FGH\";"}, {"sha": "b3c1a3899d9612fe67bbe56692e14f6d52668a3f", "filename": "gcc/testsuite/gcc.c-torture/execute/builtins/strcpy-chk.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe24cc36d56fe9bf973480d4fe97b2cbc652b69b/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2Fstrcpy-chk.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe24cc36d56fe9bf973480d4fe97b2cbc652b69b/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2Fstrcpy-chk.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2Fstrcpy-chk.c?ref=fe24cc36d56fe9bf973480d4fe97b2cbc652b69b", "patch": "@@ -11,7 +11,7 @@ extern int memcmp (const void *, const void *, size_t);\n \n #include \"chk.h\"\n \n-const char s1[] = \"123\";\n+LOCAL const char s1[] = \"123\";\n char p[32] = \"\";\n char *s2 = \"defg\";\n char *s3 = \"FGH\";"}]}