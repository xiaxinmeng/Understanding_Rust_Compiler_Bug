{"sha": "3521f3cc39a96d9949031cb8ed464ce9ed69e34d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzUyMWYzY2MzOWE5NmQ5OTQ5MDMxY2I4ZWQ0NjRjZTllZDY5ZTM0ZA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2007-06-21T12:20:42Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2007-06-21T12:20:42Z"}, "message": "re PR tree-optimization/31866 (ICE with tree check error: expected ssa_name, have var_decl in create_outofssa_var_map)\n\n\tPR tree-optimization/31866\n\t* tree-ssa-coalesce.c (create_outofssa_var_map): Do nothing\n\tif ASM_EXPR's input is not a SSA_NAME.\n\n\t* gcc.dg/pr31866.c: New test.\n\nFrom-SVN: r125919", "tree": {"sha": "b5e88c36aad5d073f1f4122ef77cf5ec89a4b2a3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b5e88c36aad5d073f1f4122ef77cf5ec89a4b2a3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3521f3cc39a96d9949031cb8ed464ce9ed69e34d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3521f3cc39a96d9949031cb8ed464ce9ed69e34d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3521f3cc39a96d9949031cb8ed464ce9ed69e34d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3521f3cc39a96d9949031cb8ed464ce9ed69e34d/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "64964499f48e337bf90d0e9d75fc44741b133194", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64964499f48e337bf90d0e9d75fc44741b133194", "html_url": "https://github.com/Rust-GCC/gccrs/commit/64964499f48e337bf90d0e9d75fc44741b133194"}], "stats": {"total": 41, "additions": 39, "deletions": 2}, "files": [{"sha": "24b715a74e4f1491cdbe620bc7fd4e7b0fc5a651", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3521f3cc39a96d9949031cb8ed464ce9ed69e34d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3521f3cc39a96d9949031cb8ed464ce9ed69e34d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3521f3cc39a96d9949031cb8ed464ce9ed69e34d", "patch": "@@ -1,5 +1,9 @@\n 2007-06-21  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR tree-optimization/31866\n+\t* tree-ssa-coalesce.c (create_outofssa_var_map): Do nothing\n+\tif ASM_EXPR's input is not a SSA_NAME.\n+\n \tPR middle-end/32362\n \t* omp-low.c (lookup_decl_in_outer_ctx): Don't ICE if t is NULL,\n \tbut decl is a global var, instead return decl."}, {"sha": "81721f9db21f12e153aa7c578fb7ced280483151", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3521f3cc39a96d9949031cb8ed464ce9ed69e34d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3521f3cc39a96d9949031cb8ed464ce9ed69e34d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=3521f3cc39a96d9949031cb8ed464ce9ed69e34d", "patch": "@@ -1,3 +1,8 @@\n+2007-06-21  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR tree-optimization/31866\n+\t* gcc.dg/pr31866.c: New test.\n+\n 2007-06-21  Richard Guenther  <rguenther@suse.de>\n \n \tPR tree-optimization/32451"}, {"sha": "a2a254a07985900e936f5432eac7c4567ab55874", "filename": "gcc/testsuite/gcc.dg/pr31866.c", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3521f3cc39a96d9949031cb8ed464ce9ed69e34d/gcc%2Ftestsuite%2Fgcc.dg%2Fpr31866.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3521f3cc39a96d9949031cb8ed464ce9ed69e34d/gcc%2Ftestsuite%2Fgcc.dg%2Fpr31866.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr31866.c?ref=3521f3cc39a96d9949031cb8ed464ce9ed69e34d", "patch": "@@ -0,0 +1,28 @@\n+/* PR tree-optimization/31866 */\n+/* { dg-do compile { target alpha-*-* cris-*-* i?86-*-* mmix-*-* powerpc*-*-* rs6000-*-* x86_64-*-* } } */\n+/* { dg-options \"-O2\" } */\n+\n+#if defined (__alpha__)\n+# define REG \"$1\"\n+#elif defined (__CRIS__)\n+# define REG \"r10\"\n+#elif defined (__i386__)\n+# define REG \"%eax\"\n+#elif defined (__MMIX__)\n+# define REG \"$8\"\n+#elif defined (__powerpc__) || defined (__PPC__) || defined (__ppc__) \\\n+\t|| defined (__POWERPC__) || defined (PPC) || defined (_IBMR2)\n+# define REG \"6\"\n+#elif defined (__x86_64__)\n+# define REG \"rax\"\n+#endif\n+\n+long int\n+foo (void)\n+{\n+  unsigned long int s;\n+  long int a = (long int) 0;\n+  register long int r asm (REG) = a;\n+  asm (\"\" : \"=r\" (s) : \"0\" (r));\n+  return s;\n+}"}, {"sha": "1c82c8d0b9185497584b7d9a823538409993522c", "filename": "gcc/tree-ssa-coalesce.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3521f3cc39a96d9949031cb8ed464ce9ed69e34d/gcc%2Ftree-ssa-coalesce.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3521f3cc39a96d9949031cb8ed464ce9ed69e34d/gcc%2Ftree-ssa-coalesce.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-coalesce.c?ref=3521f3cc39a96d9949031cb8ed464ce9ed69e34d", "patch": "@@ -1,5 +1,5 @@\n /* Coalesce SSA_NAMES together for the out-of-ssa pass.\n-   Copyright (C) 2004, 2005, 2006 Free Software Foundation, Inc.\n+   Copyright (C) 2004, 2005, 2006, 2007 Free Software Foundation, Inc.\n    Contributed by Andrew MacLeod <amacleod@redhat.com>\n \n This file is part of GCC.\n@@ -1037,7 +1037,7 @@ create_outofssa_var_map (coalesce_list_p cl, bitmap used_in_copy)\n \t\t    char *end;\n \t\t    unsigned long match;\n \n-\t\t    if (TREE_CODE (input) != SSA_NAME && !DECL_P (input))\n+\t\t    if (TREE_CODE (input) != SSA_NAME)\n \t\t      continue;\n \n \t\t    match = strtoul (constraint, &end, 10);"}]}