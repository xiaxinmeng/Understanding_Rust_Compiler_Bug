{"sha": "a5fcc8951b1107c6fd32b670e0e9919e53349bcf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTVmY2M4OTUxYjExMDdjNmZkMzJiNjcwZTBlOTkxOWU1MzM0OWJjZg==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2003-03-24T19:41:10Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2003-03-24T19:41:10Z"}, "message": "re PR c++/10119 (tree-checking ICE in dump_expr)\n\ncp:\n\tPR c++/10119\n\t* error.c (dump_expr) [BASELINK]: Use dump_expr.\n\t* pt.c (maybe_fold_nontype_args): New function.\n\t(tsubst_copy) [SCOPE_REF]: Subst any template_id args.\n\t[TEMPLATE_ID_EXPR]: Break out folding code, call it.\n\t(tsubst_copy_and_build) [TEMPLATE_ID_EXPR]: Call\n\tmaybe_fold_nontype_args.\ntestsuite:\n\tPR c++/10119\n\t* g++.dg/template/ptrmem5.C: New test.\n\nFrom-SVN: r64814", "tree": {"sha": "fffb247b546d640c04d753b13485fd88fb500c84", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fffb247b546d640c04d753b13485fd88fb500c84"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a5fcc8951b1107c6fd32b670e0e9919e53349bcf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a5fcc8951b1107c6fd32b670e0e9919e53349bcf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a5fcc8951b1107c6fd32b670e0e9919e53349bcf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a5fcc8951b1107c6fd32b670e0e9919e53349bcf/comments", "author": null, "committer": null, "parents": [{"sha": "05253aed880aebd1730858239cf5a478360e8a93", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/05253aed880aebd1730858239cf5a478360e8a93", "html_url": "https://github.com/Rust-GCC/gccrs/commit/05253aed880aebd1730858239cf5a478360e8a93"}], "stats": {"total": 38, "additions": 38, "deletions": 0}, "files": [{"sha": "8cc29882ab90c1c93b794177e9ef3596f354d7ca", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5fcc8951b1107c6fd32b670e0e9919e53349bcf/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5fcc8951b1107c6fd32b670e0e9919e53349bcf/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=a5fcc8951b1107c6fd32b670e0e9919e53349bcf", "patch": "@@ -1,3 +1,13 @@\n+2003-03-24  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\tPR c++/10119\n+\t* error.c (dump_expr) [BASELINK]: Use dump_expr.\n+\t* pt.c (maybe_fold_nontype_args): New function.\n+\t(tsubst_copy) [SCOPE_REF]: Subst any template_id args.\n+\t[TEMPLATE_ID_EXPR]: Break out folding code, call it.\n+\t(tsubst_copy_and_build) [TEMPLATE_ID_EXPR]: Call\n+\tmaybe_fold_nontype_args.\n+\n 2003-03-24  Nathan Sidwell  <nathan@codesourcery.com>\n \n \tPR c++/10026"}, {"sha": "a5f853a4e280f5ee82a01fe660f8454fb1c7a6e0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5fcc8951b1107c6fd32b670e0e9919e53349bcf/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5fcc8951b1107c6fd32b670e0e9919e53349bcf/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a5fcc8951b1107c6fd32b670e0e9919e53349bcf", "patch": "@@ -1,5 +1,8 @@\n 2003-03-24  Nathan Sidwell  <nathan@codesourcery.com>\n \n+\tPR c++/10119\n+\t* g++.dg/template/ptrmem5.C: New test.\n+\n \tPR c++/10026\n \t* g++.dg/lookup/koenig1.C: New test.\n "}, {"sha": "50a7e77f4b2e284d0f834a6efb48d4d632e36224", "filename": "gcc/testsuite/g++.dg/template/ptrmem5.C", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5fcc8951b1107c6fd32b670e0e9919e53349bcf/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fptrmem5.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5fcc8951b1107c6fd32b670e0e9919e53349bcf/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fptrmem5.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fptrmem5.C?ref=a5fcc8951b1107c6fd32b670e0e9919e53349bcf", "patch": "@@ -0,0 +1,25 @@\n+// { dg-do compile }\n+\n+// Copyright (C) 2003 Free Software Foundation, Inc.\n+// Contributed by Nathan Sidwell 24 Mar 2003 <nathan@codesourcery.com>\n+\n+// PR 10119 (part). We failed to tsubst the args of a template-id-expr\n+\n+template <class T, void (T::* const U)()> struct Good\n+{\n+  static int const value = 0;\n+};\n+\n+struct A\n+{\n+  template <typename U> void good ()\n+  {\n+    int s_id = Good<A, &A::good<U> >::value;\n+  }\n+};\n+\n+\n+int main()\n+{\n+  A().good<int>();\n+}"}]}