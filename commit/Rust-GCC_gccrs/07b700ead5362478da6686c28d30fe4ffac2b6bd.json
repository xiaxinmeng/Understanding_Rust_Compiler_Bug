{"sha": "07b700ead5362478da6686c28d30fe4ffac2b6bd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDdiNzAwZWFkNTM2MjQ3OGRhNjY4NmMyOGQzMGZlNGZmYWMyYjZiZA==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2018-12-28T18:26:09Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2018-12-28T18:26:09Z"}, "message": "re PR libfortran/81984 (NULL string pointer dereferencing forces undefined behaviour in libgfortran)\n\n2018-12-28  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/81984\n\t* intrinsics/string_intrinsics_inc.c: Placate the sanitizer.\n\nFrom-SVN: r267452", "tree": {"sha": "822009a2afe7e673ebb759ffd03519b81c6901d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/822009a2afe7e673ebb759ffd03519b81c6901d5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/07b700ead5362478da6686c28d30fe4ffac2b6bd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07b700ead5362478da6686c28d30fe4ffac2b6bd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/07b700ead5362478da6686c28d30fe4ffac2b6bd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07b700ead5362478da6686c28d30fe4ffac2b6bd/comments", "author": null, "committer": null, "parents": [{"sha": "691adeb097c9f4926cb83bdb50bb39b4d2e25c72", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/691adeb097c9f4926cb83bdb50bb39b4d2e25c72", "html_url": "https://github.com/Rust-GCC/gccrs/commit/691adeb097c9f4926cb83bdb50bb39b4d2e25c72"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "8397eee660722eb2c86e6bfd1adbcc09630ef5d9", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07b700ead5362478da6686c28d30fe4ffac2b6bd/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07b700ead5362478da6686c28d30fe4ffac2b6bd/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=07b700ead5362478da6686c28d30fe4ffac2b6bd", "patch": "@@ -1,3 +1,8 @@\n+2018-12-28  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/81984\n+\t* intrinsics/string_intrinsics_inc.c: Placate the sanitizer.\n+\n 2018-12-21  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \tPR fortran/69121"}, {"sha": "b81c806db5deb7084091e3364397cbc9c64f8c4a", "filename": "libgfortran/intrinsics/string_intrinsics_inc.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07b700ead5362478da6686c28d30fe4ffac2b6bd/libgfortran%2Fintrinsics%2Fstring_intrinsics_inc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07b700ead5362478da6686c28d30fe4ffac2b6bd/libgfortran%2Fintrinsics%2Fstring_intrinsics_inc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fintrinsics%2Fstring_intrinsics_inc.c?ref=07b700ead5362478da6686c28d30fe4ffac2b6bd", "patch": "@@ -87,6 +87,14 @@ compare_string (gfc_charlen_type len1, const CHARTYPE *s1,\n   gfc_charlen_type len;\n   int res;\n \n+  /* Placate the sanitizer.  */\n+  if (!s1 && !s2)\n+    return 0;\n+  if (!s1)\n+    return -1;\n+  if (!s2)\n+    return 1;\n+\n   res = MEMCMP (s1, s2, ((len1 < len2) ? len1 : len2));\n   if (res != 0)\n     return res;"}]}