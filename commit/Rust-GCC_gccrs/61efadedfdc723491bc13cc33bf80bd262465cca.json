{"sha": "61efadedfdc723491bc13cc33bf80bd262465cca", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjFlZmFkZWRmZGM3MjM0OTFiYzEzY2MzM2JmODBiZDI2MjQ2NWNjYQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@adacore.com", "date": "2019-06-17T07:32:14Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2019-06-17T07:32:14Z"}, "message": "re PR ada/80590 (non-bootstrap build failure of Ada runtime)\n\nPR ada/80590\n\n\t* exp_ch9.adb (Expand_N_Delay_Relative_Statement): Swap the two\n\tconditions to avoid a unnecessary exception propagation in the default\n\tcase.\n\nFrom-SVN: r272372", "tree": {"sha": "72d12100876643c7b20f43e3d796134f448c4936", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/72d12100876643c7b20f43e3d796134f448c4936"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/61efadedfdc723491bc13cc33bf80bd262465cca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61efadedfdc723491bc13cc33bf80bd262465cca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61efadedfdc723491bc13cc33bf80bd262465cca", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61efadedfdc723491bc13cc33bf80bd262465cca/comments", "author": {"login": "ArnaudCharlet", "id": 30291825, "node_id": "MDQ6VXNlcjMwMjkxODI1", "avatar_url": "https://avatars.githubusercontent.com/u/30291825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArnaudCharlet", "html_url": "https://github.com/ArnaudCharlet", "followers_url": "https://api.github.com/users/ArnaudCharlet/followers", "following_url": "https://api.github.com/users/ArnaudCharlet/following{/other_user}", "gists_url": "https://api.github.com/users/ArnaudCharlet/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArnaudCharlet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArnaudCharlet/subscriptions", "organizations_url": "https://api.github.com/users/ArnaudCharlet/orgs", "repos_url": "https://api.github.com/users/ArnaudCharlet/repos", "events_url": "https://api.github.com/users/ArnaudCharlet/events{/privacy}", "received_events_url": "https://api.github.com/users/ArnaudCharlet/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "21e42f7bc1ac6a23a30d8f7eb65b766723927d7b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21e42f7bc1ac6a23a30d8f7eb65b766723927d7b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/21e42f7bc1ac6a23a30d8f7eb65b766723927d7b"}], "stats": {"total": 23, "additions": 15, "deletions": 8}, "files": [{"sha": "f73bb4989b94b42efad24013fc9734667c23846f", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61efadedfdc723491bc13cc33bf80bd262465cca/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61efadedfdc723491bc13cc33bf80bd262465cca/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=61efadedfdc723491bc13cc33bf80bd262465cca", "patch": "@@ -1,3 +1,11 @@\n+2019-06-17  Arnaud Charlet  <charlet@adacore.com>\n+\n+PR ada/80590\n+\n+\t* exp_ch9.adb (Expand_N_Delay_Relative_Statement): Swap the two\n+\tconditions to avoid a unnecessary exception propagation in the default\n+\tcase.\n+\n 2019-05-28  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc-interface/utils.c (handle_stack_protect_attribute): Move around."}, {"sha": "a3785d7c667ddabbe3758fda0c504624823d2bb4", "filename": "gcc/ada/exp_ch9.adb", "status": "modified", "additions": 7, "deletions": 8, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61efadedfdc723491bc13cc33bf80bd262465cca/gcc%2Fada%2Fexp_ch9.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61efadedfdc723491bc13cc33bf80bd262465cca/gcc%2Fada%2Fexp_ch9.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch9.adb?ref=61efadedfdc723491bc13cc33bf80bd262465cca", "patch": "@@ -8258,18 +8258,17 @@ package body Exp_Ch9 is\n       Proc : Entity_Id;\n \n    begin\n-      --  Try to use System.Relative_Delays.Delay_For only if available. This\n-      --  is the implementation used on restricted platforms when Ada.Calendar\n-      --  is not available.\n+      --  Try to use Ada.Calendar.Delays.Delay_For if available.\n \n-      if RTE_Available (RO_RD_Delay_For) then\n-         Proc := RTE (RO_RD_Delay_For);\n+      if RTE_Available (RO_CA_Delay_For) then\n+         Proc := RTE (RO_CA_Delay_For);\n \n-      --  Otherwise, use Ada.Calendar.Delays.Delay_For and emit an error\n-      --  message if not available.\n+      --  Otherwise, use System.Relative_Delays.Delay_For and emit an error\n+      --  message if not available. This is the implementation used on\n+      --  restricted platforms when Ada.Calendar is not available.\n \n       else\n-         Proc := RTE (RO_CA_Delay_For);\n+         Proc := RTE (RO_RD_Delay_For);\n       end if;\n \n       Rewrite (N,"}]}