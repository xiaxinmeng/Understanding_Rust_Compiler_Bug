{"sha": "6b4b59fc6f4b555f81e70e82dd424be2e05b41fc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmI0YjU5ZmM2ZjRiNTU1ZjgxZTcwZTgyZGQ0MjRiZTJlMDViNDFmYw==", "commit": {"author": {"name": "Matthew Fortune", "email": "matthew.fortune@imgtec.com", "date": "2014-11-25T14:57:33Z"}, "committer": {"name": "Matthew Fortune", "email": "mpf@gcc.gnu.org", "date": "2014-11-25T14:57:33Z"}, "message": "MIPS: Testsuite fixes for soft-float configurations\n\ngcc/testuite/\n\n\t* gcc.target/mips/mips.exp: Add support for -msoft-float\n\tand -mhard-float options.  Ensure that explicit -mfp*\n\toptions imply both -mhard-float and -mdouble-float.\n\t* gcc.target/mips/call-clobbered-1.c: Add -mhard-float to the\n\tcompile options.\n\nFrom-SVN: r218047", "tree": {"sha": "5d5925ab1ae371ce7bd6f5f9d909744aa7d25919", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5d5925ab1ae371ce7bd6f5f9d909744aa7d25919"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6b4b59fc6f4b555f81e70e82dd424be2e05b41fc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b4b59fc6f4b555f81e70e82dd424be2e05b41fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b4b59fc6f4b555f81e70e82dd424be2e05b41fc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b4b59fc6f4b555f81e70e82dd424be2e05b41fc/comments", "author": {"login": "mfortune", "id": 10220247, "node_id": "MDQ6VXNlcjEwMjIwMjQ3", "avatar_url": "https://avatars.githubusercontent.com/u/10220247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mfortune", "html_url": "https://github.com/mfortune", "followers_url": "https://api.github.com/users/mfortune/followers", "following_url": "https://api.github.com/users/mfortune/following{/other_user}", "gists_url": "https://api.github.com/users/mfortune/gists{/gist_id}", "starred_url": "https://api.github.com/users/mfortune/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mfortune/subscriptions", "organizations_url": "https://api.github.com/users/mfortune/orgs", "repos_url": "https://api.github.com/users/mfortune/repos", "events_url": "https://api.github.com/users/mfortune/events{/privacy}", "received_events_url": "https://api.github.com/users/mfortune/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e8c504f1c84cb2575b0415ef763d4d2bc9ebc09c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8c504f1c84cb2575b0415ef763d4d2bc9ebc09c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e8c504f1c84cb2575b0415ef763d4d2bc9ebc09c"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "7b9b365c5a13b061c91ac63b25fc5e438adedf87", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b4b59fc6f4b555f81e70e82dd424be2e05b41fc/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b4b59fc6f4b555f81e70e82dd424be2e05b41fc/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=6b4b59fc6f4b555f81e70e82dd424be2e05b41fc", "patch": "@@ -1,3 +1,11 @@\n+2014-11-25  Matthew Fortune  <matthew.fortune@imgtec.com>\n+\n+\t* gcc.target/mips/mips.exp: Add support for -msoft-float and\n+\t-mhard-float options.  Ensure that explicit -mfp* options imply\n+\tboth -mhard-float and -mdouble-float.\n+\t* gcc.target/mips/call-clobbered-1.c: Add -mhard-float to the\n+\tcompile options.\n+\n 2014-11-25  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/63786"}, {"sha": "77294aa3c2d7413d7d5760ec822e85f36f3a5aaa", "filename": "gcc/testsuite/gcc.target/mips/call-clobbered-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b4b59fc6f4b555f81e70e82dd424be2e05b41fc/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fcall-clobbered-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b4b59fc6f4b555f81e70e82dd424be2e05b41fc/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fcall-clobbered-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fcall-clobbered-1.c?ref=6b4b59fc6f4b555f81e70e82dd424be2e05b41fc", "patch": "@@ -1,6 +1,6 @@\n /* Check that we handle call-clobbered FPRs correctly.  */\n /* { dg-skip-if \"code quality test\" { *-*-* } { \"-O0\" } { \"\" } } */\n-/* { dg-options \"isa>=2 -mabi=32 -ffixed-f0 -ffixed-f1 -ffixed-f2 -ffixed-f3 -ffixed-f4 -ffixed-f5 -ffixed-f6 -ffixed-f7 -ffixed-f8 -ffixed-f9 -ffixed-f10 -ffixed-f11 -ffixed-f12 -ffixed-f13 -ffixed-f14 -ffixed-f15 -ffixed-f16 -ffixed-f17 -ffixed-f18 -ffixed-f19\" } */\n+/* { dg-options \"isa>=2 -mabi=32 -mhard-float -ffixed-f0 -ffixed-f1 -ffixed-f2 -ffixed-f3 -ffixed-f4 -ffixed-f5 -ffixed-f6 -ffixed-f7 -ffixed-f8 -ffixed-f9 -ffixed-f10 -ffixed-f11 -ffixed-f12 -ffixed-f13 -ffixed-f14 -ffixed-f15 -ffixed-f16 -ffixed-f17 -ffixed-f18 -ffixed-f19\" } */\n \n void bar (void);\n double a;"}, {"sha": "6ae71adf0526355e86f8fe6abf658e5e5f123a17", "filename": "gcc/testsuite/gcc.target/mips/mips.exp", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b4b59fc6f4b555f81e70e82dd424be2e05b41fc/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b4b59fc6f4b555f81e70e82dd424be2e05b41fc/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips.exp?ref=6b4b59fc6f4b555f81e70e82dd424be2e05b41fc", "patch": "@@ -234,6 +234,7 @@ set mips_option_groups {\n     dump_pattern \"-dp\"\n     endianness \"-E(L|B)|-me(l|b)\"\n     float \"-m(hard|soft)-float\"\n+    fpu \"-m(double|single)-float\"\n     forbid_cpu \"forbid_cpu=.*\"\n     fp \"-mfp(32|xx|64)\"\n     gp \"-mgp(32|64)\"\n@@ -858,6 +859,8 @@ proc mips-dg-finish {} {\n #            |                           |\n #         -modd-spreg                 -mno-odd-spreg\n #            |                           |\n+#         -mdouble-float              -msingle-float\n+#            |                           |\n #         -mabs=2008/-mabs=legacy     <no option>\n #            |                           |\n #         -mhard-float                -msoft-float\n@@ -947,7 +950,12 @@ proc mips-dg-options { args } {\n     mips_option_dependency options \"-mips3d\" \"-mpaired-single\"\n     mips_option_dependency options \"-mpaired-single\" \"-mfp64\"\n     mips_option_dependency options \"-mfp64\" \"-mhard-float\"\n+    mips_option_dependency options \"-mfp32\" \"-mhard-float\"\n+    mips_option_dependency options \"-mfpxx\" \"-mhard-float\"\n     mips_option_dependency options \"-mfp64\" \"-modd-spreg\"\n+    mips_option_dependency options \"-mfp64\" \"-mdouble-float\"\n+    mips_option_dependency options \"-mfp32\" \"-mdouble-float\"\n+    mips_option_dependency options \"-mfpxx\" \"-mdouble-float\"\n     mips_option_dependency options \"-mabs=2008\" \"-mhard-float\"\n     mips_option_dependency options \"-mabs=legacy\" \"-mhard-float\"\n     mips_option_dependency options \"-mrelax-pic-calls\" \"-mno-plt\""}]}