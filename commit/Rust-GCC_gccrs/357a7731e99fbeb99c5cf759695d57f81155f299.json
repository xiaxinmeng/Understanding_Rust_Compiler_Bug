{"sha": "357a7731e99fbeb99c5cf759695d57f81155f299", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzU3YTc3MzFlOTlmYmViOTljNWNmNzU5Njk1ZDU3ZjgxMTU1ZjI5OQ==", "commit": {"author": {"name": "Bernhard Reutner-Fischer", "email": "aldot@gcc.gnu.org", "date": "2017-01-30T14:31:59Z"}, "committer": {"name": "Bernhard Reutner-Fischer", "email": "aldot@gcc.gnu.org", "date": "2017-01-30T14:31:59Z"}, "message": "update-copyright.py: Retain original file mode\n\n2017-01-31  Bernhard Reutner-Fischer  <aldot@gcc.gnu.org>\n\n\t* update-copyright.py (Copyright.process_file): Retain original\n\tfile mode.\n\nFrom-SVN: r245028", "tree": {"sha": "0c7970b92a2469bcd44a16460ec8b6a0266f1fe6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0c7970b92a2469bcd44a16460ec8b6a0266f1fe6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/357a7731e99fbeb99c5cf759695d57f81155f299", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/357a7731e99fbeb99c5cf759695d57f81155f299", "html_url": "https://github.com/Rust-GCC/gccrs/commit/357a7731e99fbeb99c5cf759695d57f81155f299", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/357a7731e99fbeb99c5cf759695d57f81155f299/comments", "author": null, "committer": null, "parents": [{"sha": "24fc4dd899b79a8e2f30e5088bd9fcea34d99923", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24fc4dd899b79a8e2f30e5088bd9fcea34d99923", "html_url": "https://github.com/Rust-GCC/gccrs/commit/24fc4dd899b79a8e2f30e5088bd9fcea34d99923"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "87dc2337c5de77e23f56e559600a2fbbfabe8b75", "filename": "contrib/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/357a7731e99fbeb99c5cf759695d57f81155f299/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/357a7731e99fbeb99c5cf759695d57f81155f299/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=357a7731e99fbeb99c5cf759695d57f81155f299", "patch": "@@ -1,3 +1,8 @@\n+2017-01-31  Bernhard Reutner-Fischer  <aldot@gcc.gnu.org>\n+\n+\t* update-copyright.py (Copyright.process_file): Retain original\n+\tfile mode.\n+\n 2017-01-29  Gerald Pfeifer  <gerald@pfeifer.com>\n \n \t* update-copyright.py: Fix the name of this script in examples."}, {"sha": "f9852a8544f835fe3f980772d93972b77046b4db", "filename": "contrib/update-copyright.py", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/357a7731e99fbeb99c5cf759695d57f81155f299/contrib%2Fupdate-copyright.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/357a7731e99fbeb99c5cf759695d57f81155f299/contrib%2Fupdate-copyright.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fupdate-copyright.py?ref=357a7731e99fbeb99c5cf759695d57f81155f299", "patch": "@@ -393,8 +393,10 @@ def process_file (self, dir, filename, filter):\n         lines = []\n         changed = False\n         line_filter = filter.get_line_filter (dir, filename)\n+        mode = None\n         with open (pathname, 'r') as file:\n             prev = None\n+            mode = os.fstat (file.fileno()).st_mode\n             for line in file:\n                 while line:\n                     next_line = None\n@@ -421,6 +423,7 @@ def process_file (self, dir, filename, filter):\n             with open (tmp_pathname, 'w') as file:\n                 for line in lines:\n                     file.write (line)\n+                os.fchmod (file.fileno(), mode)\n             if self.use_quilt:\n                 subprocess.call (['quilt', 'add', pathname])\n             os.rename (tmp_pathname, pathname)"}]}