{"sha": "d2f782d27b07a451c40aab9f3c261c34016fe026", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDJmNzgyZDI3YjA3YTQ1MWM0MGFhYjlmM2MyNjFjMzQwMTZmZTAyNg==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-03-28T21:38:00Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-03-28T21:38:00Z"}, "message": "*** empty log message ***\n\nFrom-SVN: r614", "tree": {"sha": "d83c35b8f632115856e31db4d4d39959c0c2b571", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d83c35b8f632115856e31db4d4d39959c0c2b571"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d2f782d27b07a451c40aab9f3c261c34016fe026", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2f782d27b07a451c40aab9f3c261c34016fe026", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d2f782d27b07a451c40aab9f3c261c34016fe026", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2f782d27b07a451c40aab9f3c261c34016fe026/comments", "author": null, "committer": null, "parents": [{"sha": "47c95231c3eba90771d739d36e608cb206c118e6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47c95231c3eba90771d739d36e608cb206c118e6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47c95231c3eba90771d739d36e608cb206c118e6"}], "stats": {"total": 41, "additions": 41, "deletions": 0}, "files": [{"sha": "b943302dd151c740b1972fdf6406ea385bc71ed8", "filename": "gcc/fixinc.svr4", "status": "modified", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2f782d27b07a451c40aab9f3c261c34016fe026/gcc%2Ffixinc.svr4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2f782d27b07a451c40aab9f3c261c34016fe026/gcc%2Ffixinc.svr4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc.svr4?ref=d2f782d27b07a451c40aab9f3c261c34016fe026", "patch": "@@ -319,6 +319,47 @@ EOF\n   rm -f /tmp/$base\n fi\n \n+# Likewise fix the definition of NULL in <dbm.h> so that it is conditional\n+# and so that it is correct for both C and C++.\n+\n+file=dbm.h\n+base=`basename $file`\n+if [ -r ${LIB}/$file ]; then\n+  file_to_fix=${LIB}/$file\n+else\n+  if [ -r ${INPUT}/$file ]; then\n+    file_to_fix=${INPUT}/$file\n+  else\n+    file_to_fix=\"\"\n+  fi\n+fi\n+if [ \\! -z \"$file_to_fix\" ]; then\n+  echo Checking $file_to_fix\n+  cp $file_to_fix /tmp/$base\n+  chmod +w /tmp/$base\n+  ex /tmp/$base <<EOF\n+  /^#define[ \t]*NULL[ \t]*((char \\*) 0)$/c\n+#ifndef NULL\n+#ifdef __cplusplus\n+#define __NULL_TYPE\n+#else /* !defined(__cplusplus) */\n+#define __NULL_TYPE (void *)\n+#endif /* !defined(__cplusplus) */\n+#define NULL (__NULL_TYPE 0)\n+#endif /* !defined(NULL) */\n+.\n+  wq\n+EOF\n+  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n+    echo No change needed in $file_to_fix\n+  else\n+    echo Fixed $file_to_fix\n+    rm -f ${LIB}/$file\n+    cp /tmp/$base ${LIB}/$file\n+  fi\n+  rm -f /tmp/$base\n+fi\n+\n # Add some missing declarations to <sys/mman.h>.\n \n file=sys/mman.h"}]}