{"sha": "c2dba4ab4059335b9efb8f3da7e1887c347ff210", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzJkYmE0YWI0MDU5MzM1YjllZmI4ZjNkYTdlMTg4N2MzNDdmZjIxMA==", "commit": {"author": {"name": "Aldy Hernandez", "email": "aldyh@redhat.com", "date": "2005-05-13T19:52:39Z"}, "committer": {"name": "Aldy Hernandez", "email": "aldyh@gcc.gnu.org", "date": "2005-05-13T19:52:39Z"}, "message": "sysv4.opt (mlittle): Handle.\n\n\t* config/rs6000/sysv4.opt (mlittle): Handle.\n\n\t* config/rs6000/rs6000.c (rs6000_handle_option): Set\n\ttarget_flags_explicit when appropriate.\n\nFrom-SVN: r99675", "tree": {"sha": "66f18ff36acc6deeb1d28c0128a4a9e5605f8515", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/66f18ff36acc6deeb1d28c0128a4a9e5605f8515"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c2dba4ab4059335b9efb8f3da7e1887c347ff210", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2dba4ab4059335b9efb8f3da7e1887c347ff210", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2dba4ab4059335b9efb8f3da7e1887c347ff210", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2dba4ab4059335b9efb8f3da7e1887c347ff210/comments", "author": {"login": "aldyh", "id": 12937877, "node_id": "MDQ6VXNlcjEyOTM3ODc3", "avatar_url": "https://avatars.githubusercontent.com/u/12937877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aldyh", "html_url": "https://github.com/aldyh", "followers_url": "https://api.github.com/users/aldyh/followers", "following_url": "https://api.github.com/users/aldyh/following{/other_user}", "gists_url": "https://api.github.com/users/aldyh/gists{/gist_id}", "starred_url": "https://api.github.com/users/aldyh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aldyh/subscriptions", "organizations_url": "https://api.github.com/users/aldyh/orgs", "repos_url": "https://api.github.com/users/aldyh/repos", "events_url": "https://api.github.com/users/aldyh/events{/privacy}", "received_events_url": "https://api.github.com/users/aldyh/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "326a31e9513774c3088ed46f4d7b2ee54dd18c5b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/326a31e9513774c3088ed46f4d7b2ee54dd18c5b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/326a31e9513774c3088ed46f4d7b2ee54dd18c5b"}], "stats": {"total": 62, "additions": 49, "deletions": 13}, "files": [{"sha": "dd923ac6e46b922d9a12e3005cc21d12478fda35", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2dba4ab4059335b9efb8f3da7e1887c347ff210/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2dba4ab4059335b9efb8f3da7e1887c347ff210/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c2dba4ab4059335b9efb8f3da7e1887c347ff210", "patch": "@@ -1,3 +1,10 @@\n+2005-05-11  Aldy Hernandez  <aldyh@redhat.com>\n+\n+\t* config/rs6000/sysv4.opt (mlittle): Handle.\n+\n+\t* config/rs6000/rs6000.c (rs6000_handle_option): Set\n+\ttarget_flags_explicit when appropriate.\n+\n 2005-05-13  J\"orn Rennecke <joern.rennecke@st.com>\n \n \tPR middle-end/20714:"}, {"sha": "5ea21a04a32f10088d2c71af7266bc7c85a0d5d7", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 39, "deletions": 9, "changes": 48, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2dba4ab4059335b9efb8f3da7e1887c347ff210/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2dba4ab4059335b9efb8f3da7e1887c347ff210/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=c2dba4ab4059335b9efb8f3da7e1887c347ff210", "patch": "@@ -1553,25 +1553,33 @@ rs6000_handle_option (size_t code, const char *arg, int value)\n     case OPT_mno_power:\n       target_flags &= ~(MASK_POWER | MASK_POWER2\n \t\t\t| MASK_MULTIPLE | MASK_STRING);\n+      target_flags_explicit |= (MASK_POWER | MASK_POWER2\n+\t\t\t\t| MASK_MULTIPLE | MASK_STRING);\n       break;\n     case OPT_mno_powerpc:\n       target_flags &= ~(MASK_POWERPC | MASK_PPC_GPOPT\n \t\t\t| MASK_PPC_GFXOPT | MASK_POWERPC64);\n+      target_flags_explicit |= (MASK_POWERPC | MASK_PPC_GPOPT\n+\t\t\t\t| MASK_PPC_GFXOPT | MASK_POWERPC64);\n       break;\n     case OPT_mfull_toc:\n       target_flags &= ~(MASK_MINIMAL_TOC | MASK_NO_FP_IN_TOC\n \t\t\t| MASK_NO_SUM_IN_TOC);\n+      target_flags_explicit |= (MASK_MINIMAL_TOC | MASK_NO_FP_IN_TOC\n+\t\t\t\t| MASK_NO_SUM_IN_TOC);\n #ifdef TARGET_USES_SYSV4_OPT\n       /* Note, V.4 no longer uses a normal TOC, so make -mfull-toc, be\n \t just the same as -mminimal-toc.  */\n       target_flags |= MASK_MINIMAL_TOC;\n+      target_flags_explicit |= MASK_MINIMAL_TOC;\n #endif\n       break;\n \n #ifdef TARGET_USES_SYSV4_OPT\n     case OPT_mtoc:\n       /* Make -mtoc behave like -mminimal-toc.  */\n       target_flags |= MASK_MINIMAL_TOC;\n+      target_flags_explicit |= MASK_MINIMAL_TOC;\n       break;\n #endif\n \n@@ -1581,6 +1589,8 @@ rs6000_handle_option (size_t code, const char *arg, int value)\n     case OPT_m64:\n #endif\n       target_flags |= MASK_POWERPC64 | MASK_POWERPC | MASK_PPC_GFXOPT;\n+      target_flags_explicit |= MASK_POWERPC64 | MASK_POWERPC\n+\t| MASK_PPC_GFXOPT;\n       break;\n \n #ifdef TARGET_USES_AIX64_OPT\n@@ -1589,6 +1599,7 @@ rs6000_handle_option (size_t code, const char *arg, int value)\n     case OPT_m32:\n #endif\n       target_flags &= ~MASK_POWERPC64;\n+      target_flags_explicit |= MASK_POWERPC64;\n       break;\n \n     case OPT_minsert_sched_nops_:\n@@ -1598,25 +1609,34 @@ rs6000_handle_option (size_t code, const char *arg, int value)\n     case OPT_mminimal_toc:\n       if (value == 1)\n \t{\n-\t  target_flags &= ~MASK_NO_FP_IN_TOC;\n-\t  target_flags &= ~MASK_NO_SUM_IN_TOC;\n+\t  target_flags &= ~(MASK_NO_FP_IN_TOC | MASK_NO_SUM_IN_TOC);\n+\t  target_flags_explicit |= (MASK_NO_FP_IN_TOC | MASK_NO_SUM_IN_TOC);\n \t}\n       break;\n \n     case OPT_mpower:\n       if (value == 1)\n-\ttarget_flags |= (MASK_MULTIPLE | MASK_STRING);\n+\t{\n+\t  target_flags |= (MASK_MULTIPLE | MASK_STRING);\n+\t  target_flags_explicit |= (MASK_MULTIPLE | MASK_STRING);\n+\t}\n       break;\n \n     case OPT_mpower2:\n       if (value == 1)\n-\ttarget_flags |= (MASK_POWER | MASK_MULTIPLE | MASK_STRING);\n+\t{\n+\t  target_flags |= (MASK_POWER | MASK_MULTIPLE | MASK_STRING);\n+\t  target_flags_explicit |= (MASK_POWER | MASK_MULTIPLE | MASK_STRING);\n+\t}\n       break;\n \n     case OPT_mpowerpc_gpopt:\n     case OPT_mpowerpc_gfxopt:\n       if (value == 1)\n-\ttarget_flags |= MASK_POWERPC;\n+\t{\n+\t  target_flags |= MASK_POWERPC;\n+\t  target_flags_explicit |= MASK_POWERPC;\n+\t}\n       break;\n \n #if TARGET_ALTIVEC_VRSAVE != 0\n@@ -1657,15 +1677,25 @@ rs6000_handle_option (size_t code, const char *arg, int value)\n \n     case OPT_mrelocatable:\n       if (value == 1)\n-\ttarget_flags |= MASK_MINIMAL_TOC | MASK_NO_FP_IN_TOC;\n+\t{\n+\t  target_flags |= MASK_MINIMAL_TOC | MASK_NO_FP_IN_TOC;\n+\t  target_flags_explicit |= MASK_MINIMAL_TOC | MASK_NO_FP_IN_TOC;\n+\t}\n       break;\n \n     case OPT_mrelocatable_lib:\n       if (value == 1)\n-\ttarget_flags |= MASK_RELOCATABLE | MASK_MINIMAL_TOC\n-\t  | MASK_NO_FP_IN_TOC;\n+\t{\n+\t  target_flags |= MASK_RELOCATABLE | MASK_MINIMAL_TOC\n+\t    | MASK_NO_FP_IN_TOC;\n+\t  target_flags_explicit |= MASK_RELOCATABLE | MASK_MINIMAL_TOC\n+\t    | MASK_NO_FP_IN_TOC;\n+\t}\n       else\n-\ttarget_flags &= ~MASK_RELOCATABLE;\n+\t{\n+\t  target_flags &= ~MASK_RELOCATABLE;\n+\t  target_flags_explicit |= MASK_RELOCATABLE;\n+\t}\n       break;\n #endif\n "}, {"sha": "d826c55dd72a0d86b1d5635981c70d761ba2e4dd", "filename": "gcc/config/rs6000/sysv4.opt", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2dba4ab4059335b9efb8f3da7e1887c347ff210/gcc%2Fconfig%2Frs6000%2Fsysv4.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2dba4ab4059335b9efb8f3da7e1887c347ff210/gcc%2Fconfig%2Frs6000%2Fsysv4.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fsysv4.opt?ref=c2dba4ab4059335b9efb8f3da7e1887c347ff210", "patch": "@@ -53,10 +53,9 @@ mlittle-endian\n Target Report RejectNegative Mask(LITTLE_ENDIAN)\n Produce little endian code\n \n-; FIXME: Need a way to specify an alias.\n-;mlittle\n-;Target Report RejectNegative Mask(LITTLE_ENDIAN)\n-;Produce little endian code\n+mlittle\n+Target Report RejectNegative Mask(LITTLE_ENDIAN) MaskExists\n+Produce little endian code\n \n mbig-endian\n Target Report RejectNegative InverseMask(LITTLE_ENDIAN)"}]}