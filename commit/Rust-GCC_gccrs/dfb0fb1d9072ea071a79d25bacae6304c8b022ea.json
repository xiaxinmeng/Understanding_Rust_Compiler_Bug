{"sha": "dfb0fb1d9072ea071a79d25bacae6304c8b022ea", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGZiMGZiMWQ5MDcyZWEwNzFhNzlkMjViYWNhZTYzMDRjOGIwMjJlYQ==", "commit": {"author": {"name": "Dave Brolley", "email": "brolley@cygnus.com", "date": "1998-12-09T12:51:24Z"}, "committer": {"name": "Dave Brolley", "email": "brolley@gcc.gnu.org", "date": "1998-12-09T12:51:24Z"}, "message": "lex.c (lang_init_options): Initialize cpplib.\n\nWed Dec  9 15:33:01 1998  Dave Brolley  <brolley@cygnus.com>\n\t* lex.c (lang_init_options): Initialize cpplib.\n\t* decl2.c (parse_options,cpp_initialized): Removed.\n\t(lang_decode_option): Move initialization of cpplib to\n\tlang_init_options.\n\nFrom-SVN: r24221", "tree": {"sha": "c485a6ba66ae7d51d187edeb2e20fccb5c075440", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c485a6ba66ae7d51d187edeb2e20fccb5c075440"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dfb0fb1d9072ea071a79d25bacae6304c8b022ea", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dfb0fb1d9072ea071a79d25bacae6304c8b022ea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dfb0fb1d9072ea071a79d25bacae6304c8b022ea", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dfb0fb1d9072ea071a79d25bacae6304c8b022ea/comments", "author": null, "committer": null, "parents": [{"sha": "8a1a524a83587e22c1a69e8ef7aec1c449902605", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a1a524a83587e22c1a69e8ef7aec1c449902605", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8a1a524a83587e22c1a69e8ef7aec1c449902605"}], "stats": {"total": 22, "additions": 13, "deletions": 9}, "files": [{"sha": "bc6665d9907b08f850b3da815f4afc4b7c994970", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dfb0fb1d9072ea071a79d25bacae6304c8b022ea/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dfb0fb1d9072ea071a79d25bacae6304c8b022ea/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=dfb0fb1d9072ea071a79d25bacae6304c8b022ea", "patch": "@@ -1,3 +1,10 @@\n+Wed Dec  9 15:33:01 1998  Dave Brolley  <brolley@cygnus.com>\n+\n+\t* lex.c (lang_init_options): Initialize cpplib.\n+\t* decl2.c (parse_options,cpp_initialized): Removed.\n+\t(lang_decode_option): Move initialization of cpplib to\n+\tlang_init_options.\n+\n 1998-12-09  Mark Mitchell  <mark@markmitchell.com>\n \n \t* decl.c (grokdeclarator): Update the name of the TEMPLATE_DECL, as"}, {"sha": "570d2929ef280ee3590c18dcf219b81fecb86112", "filename": "gcc/cp/decl2.c", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dfb0fb1d9072ea071a79d25bacae6304c8b022ea/gcc%2Fcp%2Fdecl2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dfb0fb1d9072ea071a79d25bacae6304c8b022ea/gcc%2Fcp%2Fdecl2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl2.c?ref=dfb0fb1d9072ea071a79d25bacae6304c8b022ea", "patch": "@@ -46,8 +46,6 @@ Boston, MA 02111-1307, USA.  */\n #if USE_CPPLIB\n #include \"cpplib.h\"\n extern cpp_reader  parse_in;\n-extern cpp_options parse_options;\n-static int cpp_initialized;\n #endif\n \n static tree get_sentry PROTO((tree));\n@@ -523,13 +521,6 @@ lang_decode_option (argc, argv)\n   int strings_processed;\n   char *p = argv[0];\n #if USE_CPPLIB\n-  if (! cpp_initialized)\n-    {\n-      cpp_reader_init (&parse_in);\n-      parse_in.opts = &parse_options;\n-      cpp_options_init (&parse_options);\n-      cpp_initialized = 1;\n-    }\n   strings_processed = cpp_handle_option (&parse_in, argc, argv);\n #else\n   strings_processed = 0;"}, {"sha": "4c118715706970c52c10e5532f7873ae3689bb7b", "filename": "gcc/cp/lex.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dfb0fb1d9072ea071a79d25bacae6304c8b022ea/gcc%2Fcp%2Flex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dfb0fb1d9072ea071a79d25bacae6304c8b022ea/gcc%2Fcp%2Flex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Flex.c?ref=dfb0fb1d9072ea071a79d25bacae6304c8b022ea", "patch": "@@ -388,6 +388,12 @@ char *cplus_tree_code_name[] = {\n void\n lang_init_options ()\n {\n+#if USE_CPPLIB\n+  cpp_reader_init (&parse_in);\n+  parse_in.opts = &parse_options;\n+  cpp_options_init (&parse_options);\n+#endif\n+\n   /* Default exceptions on.  */\n   flag_exceptions = 1;\n }"}]}