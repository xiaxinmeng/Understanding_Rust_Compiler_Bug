{"sha": "d1725344d1c2c627469995c741156ae879bebbc8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDE3MjUzNDRkMWMyYzYyNzQ2OTk5NWM3NDExNTZhZTg3OWJlYmJjOA==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2009-11-17T21:18:49Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2009-11-17T21:18:49Z"}, "message": "ipa-struct-reorg.c (update_cgraph_with_malloc_call): Fix profile info.\n\n\n\t* ipa-struct-reorg.c (update_cgraph_with_malloc_call): Fix profile\n\tinfo.\n\nFrom-SVN: r154271", "tree": {"sha": "2c582f3342466c9aeceff3be644e2eea6cc14e47", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2c582f3342466c9aeceff3be644e2eea6cc14e47"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d1725344d1c2c627469995c741156ae879bebbc8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1725344d1c2c627469995c741156ae879bebbc8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d1725344d1c2c627469995c741156ae879bebbc8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1725344d1c2c627469995c741156ae879bebbc8/comments", "author": null, "committer": null, "parents": [{"sha": "9ee6a7405878a611ca76cb1adb04b5fd258b6adc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9ee6a7405878a611ca76cb1adb04b5fd258b6adc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9ee6a7405878a611ca76cb1adb04b5fd258b6adc"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "c19ae95efaa2aec68286a011bfcef6ee057134a2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1725344d1c2c627469995c741156ae879bebbc8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1725344d1c2c627469995c741156ae879bebbc8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d1725344d1c2c627469995c741156ae879bebbc8", "patch": "@@ -1,3 +1,8 @@\n+2009-11-17  Jan Hubicka  <jh@suse.cz>\n+\n+\t* ipa-struct-reorg.c (update_cgraph_with_malloc_call): Fix profile\n+\tinfo.\n+\n 2009-11-17  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* toplev.c (process_options): Remove dead code."}, {"sha": "65777f59394ed2a3d40c46e24bc063d162238b54", "filename": "gcc/ipa-struct-reorg.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1725344d1c2c627469995c741156ae879bebbc8/gcc%2Fipa-struct-reorg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1725344d1c2c627469995c741156ae879bebbc8/gcc%2Fipa-struct-reorg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-struct-reorg.c?ref=d1725344d1c2c627469995c741156ae879bebbc8", "patch": "@@ -1690,7 +1690,10 @@ update_cgraph_with_malloc_call (gimple malloc_stmt, tree context)\n   src = cgraph_node (context);\n   dest = cgraph_node (malloc_fn_decl);\n   cgraph_create_edge (src, dest, malloc_stmt, \n-\t\t      0, 0, gimple_bb (malloc_stmt)->loop_depth);\n+\t\t      gimple_bb (malloc_stmt)->count,\n+\t\t      compute_call_stmt_bb_frequency\n+\t\t        (context, gimple_bb (malloc_stmt)),\n+\t\t      gimple_bb (malloc_stmt)->loop_depth);\n }\n \n /* This function generates set of statements required "}]}