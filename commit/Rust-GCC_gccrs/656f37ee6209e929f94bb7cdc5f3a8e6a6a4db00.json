{"sha": "656f37ee6209e929f94bb7cdc5f3a8e6a6a4db00", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjU2ZjM3ZWU2MjA5ZTkyOWY5NGJiN2NkYzVmM2E4ZTZhNmE0ZGIwMA==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@redhat.com", "date": "2004-02-19T22:49:47Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2004-02-19T22:49:47Z"}, "message": "mips.c (mips_address_insns): Treat BLKmode specially.\n\n\t* config/mips/mips.c (mips_address_insns): Treat BLKmode specially.\n\t* config/mips/mips.md: Expand comment above unaligned loads and stores.\n\nFrom-SVN: r78129", "tree": {"sha": "8c47e53f34814183b80fab36e1480a8e48d8c672", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8c47e53f34814183b80fab36e1480a8e48d8c672"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/656f37ee6209e929f94bb7cdc5f3a8e6a6a4db00", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/656f37ee6209e929f94bb7cdc5f3a8e6a6a4db00", "html_url": "https://github.com/Rust-GCC/gccrs/commit/656f37ee6209e929f94bb7cdc5f3a8e6a6a4db00", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/656f37ee6209e929f94bb7cdc5f3a8e6a6a4db00/comments", "author": null, "committer": null, "parents": [{"sha": "4221057e8f2e0e6425b61952bc06b1904681bf69", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4221057e8f2e0e6425b61952bc06b1904681bf69", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4221057e8f2e0e6425b61952bc06b1904681bf69"}], "stats": {"total": 18, "additions": 16, "deletions": 2}, "files": [{"sha": "5ad5408a13fead6fd2656377bf0538ef8fdb1c3a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/656f37ee6209e929f94bb7cdc5f3a8e6a6a4db00/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/656f37ee6209e929f94bb7cdc5f3a8e6a6a4db00/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=656f37ee6209e929f94bb7cdc5f3a8e6a6a4db00", "patch": "@@ -1,3 +1,8 @@\n+2004-02-19  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\t* config/mips/mips.c (mips_address_insns): Treat BLKmode specially.\n+\t* config/mips/mips.md: Expand comment above unaligned loads and stores.\n+\n 2004-02-19  Richard Henderson  <rth@redhat.com>\n \n \t* Makefile.in (STRICT2_WARN): Add -Wno-variadic-macros."}, {"sha": "88dca984837abc0d2781467ac4fc943fb67d22aa", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/656f37ee6209e929f94bb7cdc5f3a8e6a6a4db00/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/656f37ee6209e929f94bb7cdc5f3a8e6a6a4db00/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=656f37ee6209e929f94bb7cdc5f3a8e6a6a4db00", "patch": "@@ -1234,8 +1234,13 @@ mips_address_insns (rtx x, enum machine_mode mode)\n   struct mips_address_info addr;\n   int factor;\n \n-  /* Each word of a multi-word value will be accessed individually.  */\n-  factor = (GET_MODE_SIZE (mode) + UNITS_PER_WORD - 1) / UNITS_PER_WORD;\n+  if (mode == BLKmode)\n+    /* BLKmode is used for single unaligned loads and stores.  */\n+    factor = 1;\n+  else\n+    /* Each word of a multi-word value will be accessed individually.  */\n+    factor = (GET_MODE_SIZE (mode) + UNITS_PER_WORD - 1) / UNITS_PER_WORD;\n+\n   if (mips_classify_address (&addr, x, mode, false))\n     switch (addr.type)\n       {"}, {"sha": "ae6b8985391d79b02361c936636ed0a1965e222e", "filename": "gcc/config/mips/mips.md", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/656f37ee6209e929f94bb7cdc5f3a8e6a6a4db00/gcc%2Fconfig%2Fmips%2Fmips.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/656f37ee6209e929f94bb7cdc5f3a8e6a6a4db00/gcc%2Fconfig%2Fmips%2Fmips.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.md?ref=656f37ee6209e929f94bb7cdc5f3a8e6a6a4db00", "patch": "@@ -4059,6 +4059,10 @@ dsrl\\t%3,%3,1\\n\\\n ;; refers to just the first or the last byte (depending on endianness).\n ;; We therefore use two memory operands to each instruction, one to\n ;; describe the rtl effect and one to use in the assembly output.\n+;;\n+;; Operands 0 and 1 are the rtl-level target and source respectively.\n+;; This allows us to use the standard length calculations for the \"load\"\n+;; and \"store\" type attributes.\n \n (define_insn \"mov_lwl\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=d\")"}]}