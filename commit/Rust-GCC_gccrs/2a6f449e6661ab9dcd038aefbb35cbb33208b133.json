{"sha": "2a6f449e6661ab9dcd038aefbb35cbb33208b133", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmE2ZjQ0OWU2NjYxYWI5ZGNkMDM4YWVmYmIzNWNiYjMzMjA4YjEzMw==", "commit": {"author": {"name": "Roland McGrath", "email": "roland@gcc.gnu.org", "date": "1995-05-12T23:10:11Z"}, "committer": {"name": "Roland McGrath", "email": "roland@gcc.gnu.org", "date": "1995-05-12T23:10:11Z"}, "message": "Contents replaced with old i386/gnuelf.h.\n\nFrom-SVN: r9669", "tree": {"sha": "22e07a0317351105b24dc9c017bc84f459dc9f09", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/22e07a0317351105b24dc9c017bc84f459dc9f09"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2a6f449e6661ab9dcd038aefbb35cbb33208b133", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a6f449e6661ab9dcd038aefbb35cbb33208b133", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2a6f449e6661ab9dcd038aefbb35cbb33208b133", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a6f449e6661ab9dcd038aefbb35cbb33208b133/comments", "author": null, "committer": null, "parents": [{"sha": "36427b78add2e9f6b5a479319bae80b0387835bd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36427b78add2e9f6b5a479319bae80b0387835bd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/36427b78add2e9f6b5a479319bae80b0387835bd"}], "stats": {"total": 24, "additions": 12, "deletions": 12}, "files": [{"sha": "1ad5df991e44bead2c430867a39f6d31c838fa6c", "filename": "gcc/config/i386/gnu.h", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a6f449e6661ab9dcd038aefbb35cbb33208b133/gcc%2Fconfig%2Fi386%2Fgnu.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a6f449e6661ab9dcd038aefbb35cbb33208b133/gcc%2Fconfig%2Fi386%2Fgnu.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fgnu.h?ref=2a6f449e6661ab9dcd038aefbb35cbb33208b133", "patch": "@@ -1,20 +1,20 @@\n-/* Configuration for an i386 running GNU as the target machine.  */\n+/* Configuration for an i386 running GNU with ELF as the target machine.  */\n \n-/* We do want to add an underscore to the front of each user symbol.\n-   i386/gas.h checks this.  */\n-#define YES_UNDERSCORES\n-\n-#include <i386/gstabs.h>\n-\n-/* Get perform_* macros to build libgcc.a.  */\n-#include <i386/perform.h>\n+/* This does it mostly for us.  */\n+#include <i386/linux.h>\n \n #undef CPP_PREDEFINES\n #define CPP_PREDEFINES GNU_CPP_PREDEFINES(\"i386\")\n \n-/* Don't default to pcc-struct-return, because gcc is the only compiler, and\n-   we want to retain compatibility with older gcc versions.  */\n-#define DEFAULT_PCC_STRUCT_RETURN 0\n+#undef\tLINK_SPEC\n+#define LINK_SPEC \"-m elf_i386 %{shared:-shared} \\\n+  %{!shared: \\\n+    %{!ibcs: \\\n+      %{!static: \\\n+\t%{rdynamic:-export-dynamic} \\\n+\t%{!dynamic-linker:-dynamic-linker /lib/ld.so} \\\n+\t%{!rpath:-rpath /lib/}} %{static:-static}}}\"\n+\n \n /* Get machine-independent configuration parameters for the GNU system.  */\n #include <gnu.h>"}]}