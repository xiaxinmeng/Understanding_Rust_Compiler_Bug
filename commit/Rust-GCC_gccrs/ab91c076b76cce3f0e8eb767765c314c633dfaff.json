{"sha": "ab91c076b76cce3f0e8eb767765c314c633dfaff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWI5MWMwNzZiNzZjY2UzZjBlOGViNzY3NzY1YzMxNGM2MzNkZmFmZg==", "commit": {"author": {"name": "Kirill Yukhin", "email": "kirill.yukhin@intel.com", "date": "2015-10-02T15:25:26Z"}, "committer": {"name": "Kirill Yukhin", "email": "kyukhin@gcc.gnu.org", "date": "2015-10-02T15:25:26Z"}, "message": "AVX-512.\n\nAVX-512. Add missing features to cpuinfo.c\ngcc/\n\t* config/i386/i386.c (processor_features): Add F_AVX512VBMI,\n\tF_AVX512IFMA.\n\t(isa_names_table): Handle F_AVX512VBMI and F_AVX512IFMA.\nlibgcc/\n\t* config/i386/cpuinfo.c (processor_features): Add\n\tFEATURE_AVX512VBMI and FEATURE_AVX512VBMI.\ntestsuite/\n\t* gcc.target/i386/builtin_target.c: Handle \"avx512ifma\"\n\tand \"avx512vbmi\".\n\nFrom-SVN: r228399", "tree": {"sha": "e1a05f69364724a4e944778896f96fba5010152a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e1a05f69364724a4e944778896f96fba5010152a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ab91c076b76cce3f0e8eb767765c314c633dfaff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab91c076b76cce3f0e8eb767765c314c633dfaff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab91c076b76cce3f0e8eb767765c314c633dfaff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab91c076b76cce3f0e8eb767765c314c633dfaff/comments", "author": null, "committer": null, "parents": [{"sha": "33e767e26e58d2eb63e96950aa7bf3e2634161a2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33e767e26e58d2eb63e96950aa7bf3e2634161a2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/33e767e26e58d2eb63e96950aa7bf3e2634161a2"}], "stats": {"total": 31, "additions": 30, "deletions": 1}, "files": [{"sha": "493a4a8b47a420e2a87aca381f260d4c98ece713", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab91c076b76cce3f0e8eb767765c314c633dfaff/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab91c076b76cce3f0e8eb767765c314c633dfaff/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ab91c076b76cce3f0e8eb767765c314c633dfaff", "patch": "@@ -1,3 +1,8 @@\n+2015-10-02  Kirill Yukhin  <kirill.yukhin@intel.com>\n+\t* config/i386/i386.c (processor_features): Add F_AVX512VBMI,\n+\tF_AVX512IFMA.\n+\t(isa_names_table): Handle F_AVX512VBMI and F_AVX512IFMA.\n+\n 2015-10-02  Ramana Radhakrishnan  <ramana.radhakrishnan@arm.com>\n \n \t* config/aarch64/aarch64-elf.h (TARGET_ASM_NAMED_SECTION): Delete."}, {"sha": "171917536a0ab7d28d68e2f032f309012fa2326d", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab91c076b76cce3f0e8eb767765c314c633dfaff/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab91c076b76cce3f0e8eb767765c314c633dfaff/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=ab91c076b76cce3f0e8eb767765c314c633dfaff", "patch": "@@ -36591,6 +36591,8 @@ fold_builtin_cpu (tree fndecl, tree *args)\n     F_AVX512CD,\n     F_AVX512ER,\n     F_AVX512PF,\n+    F_AVX512VBMI,\n+    F_AVX512IFMA,\n     F_MAX\n   };\n \n@@ -36699,6 +36701,8 @@ fold_builtin_cpu (tree fndecl, tree *args)\n       {\"avx512cd\",F_AVX512CD},\n       {\"avx512er\",F_AVX512ER},\n       {\"avx512pf\",F_AVX512PF},\n+      {\"avx512vbmi\",F_AVX512VBMI},\n+      {\"avx512ifma\",F_AVX512IFMA},\n     };\n \n   tree __processor_model_type = build_processor_model_struct ();"}, {"sha": "943227a8df889b042540a1ce324948d0cf0c64df", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab91c076b76cce3f0e8eb767765c314c633dfaff/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab91c076b76cce3f0e8eb767765c314c633dfaff/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ab91c076b76cce3f0e8eb767765c314c633dfaff", "patch": "@@ -1,3 +1,8 @@\n+2015-10-02  Kirill Yukhin  <kirill.yukhin@intel.com>\n+\n+\t* gcc.target/i386/builtin_target.c: Handle \"avx512ifma\"\n+\tand \"avx512vbmi\".\n+\n 2015-10-02  Vladimir Makarov  <vmakarov@redhat.com>\n \n \tPR rtl-optimization/67756"}, {"sha": "a9a8753ce04079bfda5bd428fd130ead4a98cac2", "filename": "gcc/testsuite/gcc.target/i386/builtin_target.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab91c076b76cce3f0e8eb767765c314c633dfaff/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fbuiltin_target.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab91c076b76cce3f0e8eb767765c314c633dfaff/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fbuiltin_target.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fbuiltin_target.c?ref=ab91c076b76cce3f0e8eb767765c314c633dfaff", "patch": "@@ -200,6 +200,10 @@ check_features (unsigned int ecx, unsigned int edx,\n \tassert (__builtin_cpu_supports (\"avx512bw\"));\n       if (ebx & bit_AVX512DQ)\n \tassert (__builtin_cpu_supports (\"avx512dq\"));\n+      if (ebx & bit_AVX512IFMA)\n+\tassert (__builtin_cpu_supports (\"avx512ifma\"));\n+      if (ebx & bit_AVX512VBMI)\n+\tassert (__builtin_cpu_supports (\"avx512vbmi\"));\n     }\n }\n "}, {"sha": "e534c6db959da1759f27cf28d6a275132349331e", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab91c076b76cce3f0e8eb767765c314c633dfaff/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab91c076b76cce3f0e8eb767765c314c633dfaff/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=ab91c076b76cce3f0e8eb767765c314c633dfaff", "patch": "@@ -1,3 +1,8 @@\n+2015-10-02  Kirill Yukhin  <kirill.yukhin@intel.com>\n+\n+        * config/i386/cpuinfo.c (processor_features): Add\n+\tFEATURE_AVX512VBMI and FEATURE_AVX512VBMI.\n+\n 2015-09-28  Joseph Myers  <joseph@codesourcery.com>\n \n \t* soft-fp/adddf3.c: Update from glibc."}, {"sha": "40ed84cf6cbcb36e6f067c4ede5f7a9d3ff81be6", "filename": "libgcc/config/i386/cpuinfo.c", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab91c076b76cce3f0e8eb767765c314c633dfaff/libgcc%2Fconfig%2Fi386%2Fcpuinfo.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab91c076b76cce3f0e8eb767765c314c633dfaff/libgcc%2Fconfig%2Fi386%2Fcpuinfo.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2Fcpuinfo.c?ref=ab91c076b76cce3f0e8eb767765c314c633dfaff", "patch": "@@ -110,7 +110,9 @@ enum processor_features\n   FEATURE_AVX512DQ,\n   FEATURE_AVX512CD,\n   FEATURE_AVX512ER,\n-  FEATURE_AVX512PF\n+  FEATURE_AVX512PF,\n+  FEATURE_AVX512VBMI,\n+  FEATURE_AVX512IFMA\n };\n \n struct __processor_model\n@@ -336,6 +338,10 @@ get_available_features (unsigned int ecx, unsigned int edx,\n \tfeatures |= (1 << FEATURE_AVX512PF);\n       if (ebx & bit_AVX512ER)\n \tfeatures |= (1 << FEATURE_AVX512ER);\n+      if (ebx & bit_AVX512IFMA)\n+\tfeatures |= (1 << FEATURE_AVX512IFMA);\n+      if (ecx & bit_AVX512VBMI)\n+\tfeatures |= (1 << FEATURE_AVX512VBMI);\n     }\n \n   unsigned int ext_level;"}]}