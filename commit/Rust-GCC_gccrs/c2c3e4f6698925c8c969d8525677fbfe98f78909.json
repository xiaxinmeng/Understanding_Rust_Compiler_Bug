{"sha": "c2c3e4f6698925c8c969d8525677fbfe98f78909", "node_id": "C_kwDOANBUbNoAKGMyYzNlNGY2Njk4OTI1YzhjOTY5ZDg1MjU2NzdmYmZlOThmNzg5MDk", "commit": {"author": {"name": "Jan-Benedict Glaw", "email": "jbglaw@lug-owl.de", "date": "2022-09-09T08:27:27Z"}, "committer": {"name": "Jan-Benedict Glaw", "email": "jbglaw@lug-owl.de", "date": "2022-09-09T08:30:43Z"}, "message": "Fix \"address will never be NULL\" warning\n\nThe mingw32 port is the only port to have TARGET_OVERRIDES_FORMAT_ATTRIBUTES\ndefined. When this macro is defined, it will never evaluate to NULL and produce\na warning: \"error: the address of 'mingw_format_attribute_overrides' will never\nbe NULL [-Werror=address]\"\n\n  Also, when TARGET_OVERRIDES_FORMAT_ATTRIBUTES is defined,\nTARGET_OVERRIDES_FORMAT_ATTRIBUTES_COUNT must be defined as well. Add that\nrequirement to the docs.\n\n2022-09-07  Jan-Benedict Glaw  <jbglaw@lug-owl.de>\n\ngcc/c-family/ChangeLog:\n\t* c-format.cc (convert_format_name_to_system_name): Fix warning.\ngcc/ChangeLog:\n\t* doc/tm.texi.in (TARGET_OVERRIDES_FORMAT_ATTRIBUTES): Document requirement\n\tof TARGET_OVERRIDES_FORMAT_ATTRIBUTES_COUNT being defined as well.\n\t* doc/tm.texi: Regenerate.", "tree": {"sha": "7fe86ebf718e7c7413a5ac5e363b951e60490581", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7fe86ebf718e7c7413a5ac5e363b951e60490581"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c2c3e4f6698925c8c969d8525677fbfe98f78909", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2c3e4f6698925c8c969d8525677fbfe98f78909", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2c3e4f6698925c8c969d8525677fbfe98f78909", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2c3e4f6698925c8c969d8525677fbfe98f78909/comments", "author": {"login": "jbglaw", "id": 7965297, "node_id": "MDQ6VXNlcjc5NjUyOTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7965297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbglaw", "html_url": "https://github.com/jbglaw", "followers_url": "https://api.github.com/users/jbglaw/followers", "following_url": "https://api.github.com/users/jbglaw/following{/other_user}", "gists_url": "https://api.github.com/users/jbglaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbglaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbglaw/subscriptions", "organizations_url": "https://api.github.com/users/jbglaw/orgs", "repos_url": "https://api.github.com/users/jbglaw/repos", "events_url": "https://api.github.com/users/jbglaw/events{/privacy}", "received_events_url": "https://api.github.com/users/jbglaw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jbglaw", "id": 7965297, "node_id": "MDQ6VXNlcjc5NjUyOTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7965297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbglaw", "html_url": "https://github.com/jbglaw", "followers_url": "https://api.github.com/users/jbglaw/followers", "following_url": "https://api.github.com/users/jbglaw/following{/other_user}", "gists_url": "https://api.github.com/users/jbglaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbglaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbglaw/subscriptions", "organizations_url": "https://api.github.com/users/jbglaw/orgs", "repos_url": "https://api.github.com/users/jbglaw/repos", "events_url": "https://api.github.com/users/jbglaw/events{/privacy}", "received_events_url": "https://api.github.com/users/jbglaw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b237e36b3864b64894fb4c342f8647e004c8f3de", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b237e36b3864b64894fb4c342f8647e004c8f3de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b237e36b3864b64894fb4c342f8647e004c8f3de"}], "stats": {"total": 9, "additions": 5, "deletions": 4}, "files": [{"sha": "a6c380bf1c87d9b13ec2cc7c26f1f0730536f9f1", "filename": "gcc/c-family/c-format.cc", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2c3e4f6698925c8c969d8525677fbfe98f78909/gcc%2Fc-family%2Fc-format.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2c3e4f6698925c8c969d8525677fbfe98f78909/gcc%2Fc-family%2Fc-format.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2Fc-format.cc?ref=c2c3e4f6698925c8c969d8525677fbfe98f78909", "patch": "@@ -5111,8 +5111,7 @@ convert_format_name_to_system_name (const char *attr_name)\n \n #ifdef TARGET_OVERRIDES_FORMAT_ATTRIBUTES\n   /* Check if format attribute is overridden by target.  */\n-  if (TARGET_OVERRIDES_FORMAT_ATTRIBUTES != NULL\n-      && TARGET_OVERRIDES_FORMAT_ATTRIBUTES_COUNT > 0)\n+  if (TARGET_OVERRIDES_FORMAT_ATTRIBUTES_COUNT > 0)\n     {\n       for (i = 0; i < TARGET_OVERRIDES_FORMAT_ATTRIBUTES_COUNT; ++i)\n         {"}, {"sha": "858bfb80cec6ebae0081dfd2162ae86c8f826a7a", "filename": "gcc/doc/tm.texi", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2c3e4f6698925c8c969d8525677fbfe98f78909/gcc%2Fdoc%2Ftm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2c3e4f6698925c8c969d8525677fbfe98f78909/gcc%2Fdoc%2Ftm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Ftm.texi?ref=c2c3e4f6698925c8c969d8525677fbfe98f78909", "patch": "@@ -12043,7 +12043,8 @@ If defined, this macro is the number of entries in\n If defined, this macro is the name of a global variable containing\n target-specific format overrides for the @option{-Wformat} option. The\n default is to have no target-specific format overrides. If defined,\n-@code{TARGET_FORMAT_TYPES} must be defined, too.\n+@code{TARGET_FORMAT_TYPES} and @code{TARGET_OVERRIDES_FORMAT_ATTRIBUTES_COUNT}\n+must be defined, too.\n @end defmac\n \n @defmac TARGET_OVERRIDES_FORMAT_ATTRIBUTES_COUNT"}, {"sha": "21b849ea32a187708d43a7d54b1265127c71624d", "filename": "gcc/doc/tm.texi.in", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2c3e4f6698925c8c969d8525677fbfe98f78909/gcc%2Fdoc%2Ftm.texi.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2c3e4f6698925c8c969d8525677fbfe98f78909/gcc%2Fdoc%2Ftm.texi.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Ftm.texi.in?ref=c2c3e4f6698925c8c969d8525677fbfe98f78909", "patch": "@@ -7836,7 +7836,8 @@ If defined, this macro is the number of entries in\n If defined, this macro is the name of a global variable containing\n target-specific format overrides for the @option{-Wformat} option. The\n default is to have no target-specific format overrides. If defined,\n-@code{TARGET_FORMAT_TYPES} must be defined, too.\n+@code{TARGET_FORMAT_TYPES} and @code{TARGET_OVERRIDES_FORMAT_ATTRIBUTES_COUNT}\n+must be defined, too.\n @end defmac\n \n @defmac TARGET_OVERRIDES_FORMAT_ATTRIBUTES_COUNT"}]}