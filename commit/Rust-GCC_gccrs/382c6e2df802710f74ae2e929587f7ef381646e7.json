{"sha": "382c6e2df802710f74ae2e929587f7ef381646e7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzgyYzZlMmRmODAyNzEwZjc0YWUyZTkyOTU4N2Y3ZWYzODE2NDZlNw==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2004-10-10T21:54:41Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2004-10-10T21:54:41Z"}, "message": "functexcept.h: Add guards.\n\n\n2004-10-10  Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* include/bits/functexcept.h: Add guards.\n\n\t* acinclude.m4 (GLIBCXX_ENABLE_THREADS): Tweak test.\n\t* configure: Regenerate.\n\nFrom-SVN: r88857", "tree": {"sha": "a216fa29f73211c109c11aac58d04e044d31781f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a216fa29f73211c109c11aac58d04e044d31781f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/382c6e2df802710f74ae2e929587f7ef381646e7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/382c6e2df802710f74ae2e929587f7ef381646e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/382c6e2df802710f74ae2e929587f7ef381646e7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/382c6e2df802710f74ae2e929587f7ef381646e7/comments", "author": null, "committer": null, "parents": [{"sha": "22ab714dcceecb24c96599c9c7fe7b6c6db9b21f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22ab714dcceecb24c96599c9c7fe7b6c6db9b21f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/22ab714dcceecb24c96599c9c7fe7b6c6db9b21f"}], "stats": {"total": 34, "additions": 29, "deletions": 5}, "files": [{"sha": "22991298a5a7df95f5e0012a91da4a860973f010", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/382c6e2df802710f74ae2e929587f7ef381646e7/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/382c6e2df802710f74ae2e929587f7ef381646e7/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=382c6e2df802710f74ae2e929587f7ef381646e7", "patch": "@@ -1,3 +1,10 @@\n+2004-10-10  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\t* include/bits/functexcept.h: Add guards.\n+\n+\t* acinclude.m4 (GLIBCXX_ENABLE_THREADS): Tweak test.\n+\t* configure: Regenerate.\n+\t\n 2004-10-10  Paolo Carlini  <pcarlini@suse.de>\n \n \t* config/locale/gnu/monetary_members.cc (_S_construct_pattern):"}, {"sha": "ff775e5b199766e4c0552fa485c16b4319ffb296", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/382c6e2df802710f74ae2e929587f7ef381646e7/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/382c6e2df802710f74ae2e929587f7ef381646e7/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=382c6e2df802710f74ae2e929587f7ef381646e7", "patch": "@@ -1726,13 +1726,20 @@ AC_DEFUN([GLIBCXX_ENABLE_THREADS], [\n   target_thread_file=`$CXX -v 2>&1 | sed -n 's/^Thread model: //p'`\n   AC_MSG_RESULT([$target_thread_file])\n \n-  enable_thread=no\n   if test $target_thread_file != single; then\n     AC_DEFINE(HAVE_GTHR_DEFAULT)\n-    enable_thread=yes\n   fi\n \n   glibcxx_thread_h=gthr-$target_thread_file.h\n+\n+  dnl Check for __GTHREADS define.\n+  gthread_file=${toplevel_srcdir}/gcc/${glibcxx_thread_h}\n+  if grep __GTHREADS $gthread_file >/dev/null 2>&1 ; then\n+    enable_thread=yes\n+  else\n+   enable_thread=no\n+  fi\n+\n   AC_SUBST(glibcxx_thread_h)\n ])\n "}, {"sha": "caf27b1b04998b2f32c4ab7e6e1203b64d17c394", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/382c6e2df802710f74ae2e929587f7ef381646e7/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/382c6e2df802710f74ae2e929587f7ef381646e7/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=382c6e2df802710f74ae2e929587f7ef381646e7", "patch": "@@ -7753,17 +7753,23 @@ echo $ECHO_N \"checking for thread model used by GCC... $ECHO_C\" >&6\n   echo \"$as_me:$LINENO: result: $target_thread_file\" >&5\n echo \"${ECHO_T}$target_thread_file\" >&6\n \n-  enable_thread=no\n   if test $target_thread_file != single; then\n     cat >>confdefs.h <<\\_ACEOF\n #define HAVE_GTHR_DEFAULT 1\n _ACEOF\n \n-    enable_thread=yes\n   fi\n \n   glibcxx_thread_h=gthr-$target_thread_file.h\n \n+    gthread_file=${toplevel_srcdir}/gcc/${glibcxx_thread_h}\n+  if grep __GTHREADS $gthread_file >/dev/null 2>&1 ; then\n+    enable_thread=yes\n+  else\n+   enable_thread=no\n+  fi\n+\n+\n \n \n    # Check whether --enable-concept-checks or --disable-concept-checks was given."}, {"sha": "9e8054ce68a4a925f999805c5221661b962a0cfa", "filename": "libstdc++-v3/include/bits/functexcept.h", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/382c6e2df802710f74ae2e929587f7ef381646e7/libstdc%2B%2B-v3%2Finclude%2Fbits%2Ffunctexcept.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/382c6e2df802710f74ae2e929587f7ef381646e7/libstdc%2B%2B-v3%2Finclude%2Fbits%2Ffunctexcept.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Ffunctexcept.h?ref=382c6e2df802710f74ae2e929587f7ef381646e7", "patch": "@@ -1,6 +1,6 @@\n // Function-Based Exception Support -*- C++ -*-\n \n-// Copyright (C) 2001 Free Software Foundation, Inc.\n+// Copyright (C) 2001, 2004 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -31,6 +31,9 @@\n // ISO C++ 14882: 19.1  Exception classes\n //\n \n+#ifndef _FUNCTEXCEPT_H\n+#define _FUNCTEXCEPT_H 1\n+\n #include <exception_defines.h>\n \n namespace std\n@@ -83,3 +86,4 @@ namespace std\n   __throw_ios_failure(const char* __s);\n } // namespace std\n \n+#endif"}]}