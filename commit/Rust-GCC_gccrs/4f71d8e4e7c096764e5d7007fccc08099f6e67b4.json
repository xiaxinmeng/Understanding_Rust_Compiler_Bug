{"sha": "4f71d8e4e7c096764e5d7007fccc08099f6e67b4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGY3MWQ4ZTRlN2MwOTY3NjRlNWQ3MDA3ZmNjYzA4MDk5ZjZlNjdiNA==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1999-04-02T15:08:57Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-04-02T15:08:57Z"}, "message": "fixinc.dgux, [...]: Deleted.\n\n        * fixinc.dgux, fixinc.interix, fixinc.irix, fixinc.ptx: Deleted.\n        * fixinc.sco, fixinc.svr4, fixinc.winnt, fixinc.wrap: Likewise.\n\nFrom-SVN: r26130", "tree": {"sha": "2292e0be192d28a79f91bd55a4ee8fbbf139ae97", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2292e0be192d28a79f91bd55a4ee8fbbf139ae97"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4f71d8e4e7c096764e5d7007fccc08099f6e67b4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f71d8e4e7c096764e5d7007fccc08099f6e67b4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f71d8e4e7c096764e5d7007fccc08099f6e67b4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f71d8e4e7c096764e5d7007fccc08099f6e67b4/comments", "author": null, "committer": null, "parents": [{"sha": "5aa82acea46b3bc7da45485b212c680d1eef9925", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5aa82acea46b3bc7da45485b212c680d1eef9925", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5aa82acea46b3bc7da45485b212c680d1eef9925"}], "stats": {"total": 3363, "additions": 5, "deletions": 3358}, "files": [{"sha": "af48014173b9e69d854725ddf641866d7c1602b3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f71d8e4e7c096764e5d7007fccc08099f6e67b4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f71d8e4e7c096764e5d7007fccc08099f6e67b4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4f71d8e4e7c096764e5d7007fccc08099f6e67b4", "patch": "@@ -1,3 +1,8 @@\n+Fri Apr  2 16:03:05 1999  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* fixinc.dgux, fixinc.interix, fixinc.irix, fixinc.ptx: Deleted.\n+\t* fixinc.sco, fixinc.svr4, fixinc.winnt, fixinc.wrap: Likewise.\n+\n Fri Apr  2 15:46:25 1999  Donn Terry (donn@interix.com)\n \n         * configure.in: Set and substitute quoted_cc_set_by_configure."}, {"sha": "422ba5f725fd0d3ef3ed5986db8b5a1002f8fafb", "filename": "gcc/fixinc.dgux", "status": "removed", "additions": 0, "deletions": 185, "changes": 185, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5aa82acea46b3bc7da45485b212c680d1eef9925/gcc%2Ffixinc.dgux", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5aa82acea46b3bc7da45485b212c680d1eef9925/gcc%2Ffixinc.dgux", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc.dgux?ref=5aa82acea46b3bc7da45485b212c680d1eef9925", "patch": "@@ -1,185 +0,0 @@\n-#!/bin/sh\n-#\n-# modified for dgux by hassey@dg-rtp.dg.com based on\n-#\n-#   fixinc.svr4  written by Ron Guilmette (rfg@ncd.com).\n-#\n-# This file is part of GNU CC.\n-# \n-# GNU CC is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-# \n-# GNU CC is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-# \n-# You should have received a copy of the GNU General Public License\n-# along with GNU CC; see the file COPYING.  If not, write to\n-# the Free Software Foundation, 59 Temple Place - Suite 330,\n-# Boston, MA 02111-1307, USA.\n-#\n-#\n-#\tSee README-fixinc for more information.\n-\n-# Directory containing the original header files.\n-INPUT=${2-${INPUT-/usr/include}}\n-\n-# Fail if no arg to specify a directory for the output.\n-if [ x$1 = x ]\n-then echo fixincludes: no output directory specified\n-exit 1\n-fi\n-\n-# Directory in which to store the results.\n-LIB=${1?\"fixincludes: output directory not specified\"}\n-\n-# Make sure it exists.\n-if [ ! -d $LIB ]; then\n-  mkdir $LIB || exit 1\n-fi\n-\n-ORIG_DIR=`pwd`\n-\n-# Make LIB absolute if it is relative.\n-# Don't do this if not necessary, since may screw up automounters.\n-case $LIB in\n-/*)\n-\t;;\n-*)\n-\tcd $LIB; LIB=`${PWDCMD-pwd}`\n-\t;;\n-esac\n-\n-echo 'Building fixincludes in ' ${LIB}\n-\n-# Determine whether this filesystem has symbolic links.\n-if ln -s X $LIB/ShouldNotExist 2>/dev/null; then\n-  rm -f $LIB/ShouldNotExist\n-  LINKS=true\n-else\n-  LINKS=false\n-fi\n-\n-echo 'Making directories:'\n-cd ${INPUT}\n-if $LINKS; then\n-  files=`ls -LR | sed -n s/:$//p`\n-else\n-  files=`find . -type d -print | sed '/^.$/d'`\n-fi\n-for file in $files; do\n-  rm -rf $LIB/$file\n-  if [ ! -d $LIB/$file ]\n-  then mkdir $LIB/$file\n-  fi\n-done\n-\n-# treetops gets an alternating list\n-# of old directories to copy\n-# and the new directories to copy to.\n-treetops=\"${INPUT} ${LIB}\"\n-\n-if $LINKS; then\n-  echo 'Making internal symbolic directory links'\n-  for file in $files; do\n-    dest=`ls -ld $file | sed -n 's/.*-> //p'`\n-    if [ \"$dest\" ]; then    \n-      cwd=`pwd`\n-      # In case $dest is relative, get to $file's dir first.\n-      cd ${INPUT}\n-      cd `echo ./$file | sed -n 's&[^/]*$&&p'`\n-      # Check that the target directory exists.\n-      # Redirections changed to avoid bug in sh on Ultrix.\n-      (cd $dest) > /dev/null 2>&1\n-      if [ $? = 0 ]; then\n-\tcd $dest\n-\t# X gets the dir that the link actually leads to.\n-\tx=`pwd`\n-\t# If link leads back into ${INPUT},\n-\t# make a similar link here.\n-\tif expr $x : \"${INPUT}/.*\" > /dev/null; then\n-\t  # Y gets the actual target dir name, relative to ${INPUT}.\n-\t  y=`echo $x | sed -n \"s&${INPUT}/&&p\"`\n-\t  # DOTS is the relative path from ${LIB}/$file's dir back to ${LIB}.\n-\t  dots=`echo \"$file\" |\n-\t    sed -e 's@^./@@' -e 's@/./@/@g' -e 's@[^/][^/]*@..@g' -e 's@..$@@'`\n-\t  echo $file '->' $dots$y ': Making link'\n-\t  rm -fr ${LIB}/$file > /dev/null 2>&1\n-\t  ln -s $dots$y ${LIB}/$file > /dev/null 2>&1\n-\telse\n-\t  # If the link is to outside ${INPUT},\n-\t  # treat this directory as if it actually contained the files.\n-# This line used to have $dest instead of $x.\n-# $dest seemed to be wrong for links found in subdirectories\n-# of ${INPUT}.  Does this change break anything?\n-\t  treetops=\"$treetops $x ${LIB}/$file\"\n-\tfi\n-      fi\n-      cd $cwd\n-    fi\n-  done\n-fi\n-\n-# Completely replace <_int_varargs.h> with a file that defines\n-# va_list and gnuc_va_list\n-\n-file=_int_varargs.h\n-if [ -r ${INPUT}/$file ]; then\n-  echo Replacing $file\n-  cat > ${LIB}/$file << EOF\n-/* This file was generated by fixinc.dgux.  */\n-#ifndef __INT_VARARGS_H\n-#define __INT_VARARGS_H\n-\n-#if defined(__m88k__) && defined (__DGUX__)\n-#ifndef __GNUC_VA_LIST\n-#define __GNUC_VA_LIST\n-typedef struct\n-{\n-  int  __va_arg;\t\t/* argument number */\n-  int *__va_stk;\t\t/* start of args passed on stack */\n-  int *__va_reg;\t\t/* start of args passed in regs */\n-} __gnuc_va_list;\n-#endif /* not __GNUC_VA_LIST */\n-#endif /* 88k && dgux */\n-\n-#ifndef _VA_LIST_\n-#define _VA_LIST_\n-typedef __gnuc_va_list va_list;\n-#endif /* _VA_LIST_ */\n-\n-#endif /* __INT_VARARGS_H */\n-\n-EOF\n-  chmod a+r ${LIB}/$file\n-fi\n-\n-echo 'Removing unneeded directories:'\n-cd $LIB\n-files=`find . -type d -print | sort -r`\n-for file in $files; do\n-  rmdir $LIB/$file > /dev/null 2>&1\n-done\n-\n-if $LINKS; then\n-  echo 'Making internal symbolic non-directory links'\n-  cd ${INPUT}\n-  files=`find . -type l -print`\n-  for file in $files; do\n-    dest=`ls -ld $file | sed -n 's/.*-> //p'`\n-    if expr \"$dest\" : '[^/].*' > /dev/null; then    \n-      target=${LIB}/`echo file | sed \"s|[^/]*\\$|$dest|\"`\n-      if [ -f $target ]; then\n-        ln -s $dest ${LIB}/$file >/dev/null 2>&1\n-      fi\n-    fi\n-  done\n-fi\n-\n-cd ${ORIG_DIR}\n-\n-exit 0\n-"}, {"sha": "e0a7a47a930a4317d5089d6049eb022e58df2bd2", "filename": "gcc/fixinc.interix", "status": "removed", "additions": 0, "deletions": 157, "changes": 157, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5aa82acea46b3bc7da45485b212c680d1eef9925/gcc%2Ffixinc.interix", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5aa82acea46b3bc7da45485b212c680d1eef9925/gcc%2Ffixinc.interix", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc.interix?ref=5aa82acea46b3bc7da45485b212c680d1eef9925", "patch": "@@ -1,157 +0,0 @@\n-#!/bin/sh\n-#\n-#   fixinc.interix  --  Install modified versions of Interix system include\n-#   files.\n-#\n-#   Based on fixinc.sco script by Ian Lance Taylor (ian@airs.com)).\n-#   With modifications by Douglas Rupp (drupp@cs.washington.edu)\n-#\n-# This file is part of GNU CC.\n-# \n-# GNU CC is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-# \n-# GNU CC is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-# \n-# You should have received a copy of the GNU General Public License\n-# along with GNU CC; see the file COPYING.  If not, write to\n-# the Free Software Foundation, 59 Temple Place - Suite 330,\n-# Boston, MA 02111-1307, USA.\n-#\n-#  ??????  fixup comment\n-#\tThis script munges the native include files provided with Windows NT\n-#\t3.5 SDK systems so as to provide a reasonable namespace when\n-#\tcompiling with gcc.  The header files by default do not\n-#\tprovide many essential definitions and declarations if\n-#\t__STDC__ is 1.  This script modifies the header files to check\n-#\tfor __STRICT_ANSI__ being defined instead.  Once munged, the\n-#\tresulting new system include files are placed in a directory\n-#\tthat GNU C will search *before* searching the Include\n-#\tdirectory.\n-#\n-#\tSee README-fixinc for more information.\n-\n-ORIG_DIR=$(pwd)\n-\n-# Fail if no arg to specify a directory for the output.\n-if [ x$1 = x ]; then\n-    echo fixincludes: no output directory specified\n-    echo usage $0 output input\n-    exit 1\n-fi\n-\n-# Fail if no arg to specify a directory for the input\n-if [ x$2 = x ]; then\n-    echo fixincludes: no input directory specified\n-    echo usage $0 output input\n-    exit 1\n-fi\n-\n-INPUT=$2\n-\n-# Directory in which to store the results.\n-LIB=$1\n-\n-mkdir -p $LIB || exit 1\n-\n-# Make LIB absolute if it is relative.\n-# Don't do this if not necessary, since may screw up automounters.\n-case $LIB in\n-/*)\n-\t;;\n-*)\n-\tcd $LIB; LIB=$(pwd)\n-\t;;\n-esac\n-\n-echo 'Building fixincludes in' ${LIB}\n-\n-# Determine whether this filesystem has symbolic links.\n-if ln -s X $LIB/ShouldNotExist 2>/dev/null; then\n-  rm -f $LIB/ShouldNotExist\n-  LINKS=true\n-else\n-  LINKS=false\n-fi\n-\n-cd ${INPUT}\n-if $LINKS; then\n-    files=`ls -LR | sed -n s/:$//p`\n-else\n-    files=`find . -type d -print | sed '/^.$/d'`\n-fi\n-\n-if [ \"x$files\" = x ]; then\n-  echo No files found in $INPUT\\; skipped\n-  exit 0\n-fi\n-\n-echo 'Making directories:'\n-\n-for file in $files; do\n-  rm -rf $LIB/$file\n-  if [ ! -d $LIB/$file ]; then \n-      echo $LIB/$file\n-      mkdir $LIB/$file\n-  fi\n-done\n-\n-# treetops gets an alternating list\n-# of old directories to copy\n-# and the new directories to copy to.\n-treetops=\"${INPUT} ${LIB}\"\n-\n-set - $treetops\n-while [ $# != 0 ]; do\n-  # $1 is an old directory to copy, and $2 is the new directory to copy to.\n-  echo \"Finding header files in $1:\"\n-  cd ${INPUT}\n-  cd $1\n-  files=`find . -name '*.[hH]' -type f -print`\n-  echo \"Checking header files in $1; transforming into directory $2:\"\n-  for file in $files; do\n-    echo \"   \" $file\n-    if [ -r $file ]; then\n-      cp $file $2/$file >/dev/null 2>&1 || echo \"Can't copy $file\"\n-      chmod +w,a+r $2/$file\n-\n-# The following have been removed from the sed command below\n-# because it is more useful to leave these things in.\n-# The only reason to remove them was for -pedantic,\n-# which isn't much of a reason. -- rms.\n-# ??? above/below\n-#\t  /^[ \t]*#[ \t]*ident/d\n-#\t  s/!__STDC__/!defined (__STRICT_ANSI__)/g\n-\n-      sed -e '/#[ \t]*include.*[<\"][A-Za-z]:\\\\/ s,\\\\,/,g' \\\n-\t  -e '/#[ \t]*include.*[<\"][A-Za-z]:\\// s,\\([A-Za-z]\\):/,//\\1/,' \\\n-\t  -e '\\,#[ \t]*include.*[<\"]//[A-Za-z]/, y,abcdefghijklmnopqrstuvwxyz,ABCDEFGHIJKLMNOPQRSTUVWXYZ,' \\\n-\t  -e '\\,#[ \t]*INCLUDE.*[<\"]//[A-Za-z]/, s,INCLUDE,include,' \\\n-\t  $2/$file > $2/$file.sed\n-\n-      mv $2/$file.sed $2/$file\n-      if cmp $file $2/$file >/dev/null 2>&1; then\n-\t rm $2/$file\n-      else\n-\t echo Fixed $file\n-         flip -u $2/$file\n-      fi\n-    fi\n-  done\n-  shift; shift\n-done\n-\n-echo 'Removing unneeded directories:'\n-# (Rmdir leaf to root, and if the rmdir fails, who cares....)\n-cd $LIB\n-files=`find . -type d -print | sort -r`\n-for file in $files; do\n-  rmdir $LIB/$file > /dev/null 2>&1\n-done\n-\n-exit 0"}, {"sha": "d29228a156f9cfc9f67b0437c7943e28a75e748c", "filename": "gcc/fixinc.irix", "status": "removed", "additions": 0, "deletions": 225, "changes": 225, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5aa82acea46b3bc7da45485b212c680d1eef9925/gcc%2Ffixinc.irix", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5aa82acea46b3bc7da45485b212c680d1eef9925/gcc%2Ffixinc.irix", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc.irix?ref=5aa82acea46b3bc7da45485b212c680d1eef9925", "patch": "@@ -1,225 +0,0 @@\n-#! /bin/sh\n-# Install modified versions of certain problematic Irix include files.\n-# If possible, create a wrapper (see fixinc.wrap) instead of copying files.\n-#\n-# Copyright (C) 1997, 1998 Free Software Foundation, Inc.\n-# Contributed by Brendan Kehoe (brendan@cygnus.com).\n-#\n-# This file is part of GNU CC.\n-# \n-# GNU CC is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-# \n-# GNU CC is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-# \n-# You should have received a copy of the GNU General Public License\n-# along with GNU CC; see the file COPYING.  If not, write to\n-# the Free Software Foundation, 59 Temple Place - Suite 330,\n-# Boston, MA 02111-1307, USA.\n-#\n-#\tSee README-fixinc for more information.\n-\n-# Directory containing the original header files.\n-INPUT=${2-${INPUT-/usr/include}}\n-\n-# Fail if no arg to specify a directory for the output.\n-if [ x$1 = x ]\n-then echo fixincludes: no output directory specified\n-exit 1\n-fi\n-\n-# Directory in which to store the results.\n-LIB=${1?\"fixincludes: output directory not specified\"}\n-\n-# Make sure it exists.\n-if [ ! -d $LIB ]; then\n-  mkdir $LIB || exit 1\n-fi\n-\n-ORIG_DIR=`pwd`\n-\n-# Make LIB absolute if it is relative.\n-# Don't do this if not necessary, since may screw up automounters.\n-case $LIB in\n-/*)\n-\t;;\n-*)\n- \tLIB=$ORIG_DIR/$LIB\n-\t;;\n-esac\n-\n-echo 'Building fixincludes in ' ${LIB}\n-\n-#\n-# Note: For Irix, we deliberately don't try to create the directory trees,\n-#       since we only modify math.h, limits.h and unistd.h.  If we\n-#\tADD ANY OTHERS, the \"Making directories:\" and symlinks code from\n-#\tfixinc.svr4 may have to go back in.\n-\n-# This math.h fix is copied from fixinc.wrap.  We want to avoid copying\n-# math.h because both math.h and stdlib.h have a declaration for initstate,\n-# and this declaration changed between Irix 6.2 and Irix 6.3.  If we copy this\n-# file, then the same toolchain can't be shared between 6.2 and 6.3+.\n-\n-# Some math.h files define struct exception, which conflicts with\n-# the class exception defined in the C++ file std/stdexcept.h.  We\n-# redefine it to __math_exception.  This is not a great fix, but I\n-# haven't been able to think of anything better.\n-file=math.h\n-if [ -r $INPUT/$file ]; then\n-  echo Checking $INPUT/$file\n-  if grep 'struct exception' $INPUT/$file >/dev/null\n-  then\n-    echo Fixed $file\n-    rm -f $LIB/$file\n-    cat <<'__EOF__' >$LIB/$file\n-#ifndef _MATH_H_WRAPPER\n-#ifdef __cplusplus\n-# define exception __math_exception\n-#endif\n-#include_next <math.h>\n-#ifdef __cplusplus\n-# undef exception\n-#endif\n-#define _MATH_H_WRAPPER\n-#endif /* _MATH_H_WRAPPER */\n-__EOF__\n-    # Define _MATH_H_WRAPPER at the end of the wrapper, not the start,\n-    # so that if #include_next gets another instance of the wrapper,\n-    # this will follow the #include_next chain until we arrive at\n-    # the real <math.h>.\n-    chmod a+r $LIB/$file\n-  fi\n-fi\n-\n-# Avoid the definition of the bool type in curses.h when using\n-# g++, since it's now an official type in the C++ language.\n-\n-# This is also from fixinc.wrap.\n-\n-file=curses.h\n-if [ -r $INPUT/$file ]; then\n-  echo Checking $INPUT/$file\n-  w='[\t ]'\n-  if grep \"typedef$w$w*char$w$w*bool$w*;\" $INPUT/$file >/dev/null\n-  then\n-    echo Fixed $file\n-    rm -f $LIB/$file\n-    cat <<'__EOF__' >$LIB/$file\n-#ifndef _CURSES_H_WRAPPER\n-#ifdef __cplusplus\n-# define bool __curses_bool_t\n-#endif\n-#include_next <curses.h>\n-#ifdef __cplusplus\n-# undef bool\n-#endif\n-#define _CURSES_H_WRAPPER\n-#endif /* _CURSES_H_WRAPPER */\n-__EOF__\n-    # Define _CURSES_H_WRAPPER at the end of the wrapper, not the start,\n-    # so that if #include_next gets another instance of the wrapper,\n-    # this will follow the #include_next chain until we arrive at\n-    # the real <curses.h>.\n-    chmod a+r $LIB/$file\n-  fi\n-fi\n-\n-# In limits.h, put #ifndefs around things that are supposed to be defined\n-# in float.h to avoid redefinition errors if float.h is included first.\n-\n-file=limits.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed -e '/[ \t]FLT_MIN[ \t]/i\\\n-#ifndef FLT_MIN\n-'\\\n-      -e '/[ \t]FLT_MIN[ \t]/a\\\n-#endif\n-'\\\n-      -e '/[ \t]FLT_MAX[ \t]/i\\\n-#ifndef FLT_MAX\n-'\\\n-      -e '/[ \t]FLT_MAX[ \t]/a\\\n-#endif\n-'\\\n-      -e '/[ \t]FLT_DIG[ \t]/i\\\n-#ifndef FLT_DIG\n-'\\\n-      -e '/[ \t]FLT_DIG[ \t]/a\\\n-#endif\n-'\\\n-      -e '/[ \t]DBL_MIN[ \t]/i\\\n-#ifndef DBL_MIN\n-'\\\n-      -e '/[ \t]DBL_MIN[ \t]/a\\\n-#endif\n-'\\\n-      -e '/[ \t]DBL_MAX[ \t]/i\\\n-#ifndef DBL_MAX\n-'\\\n-      -e '/[ \t]DBL_MAX[ \t]/a\\\n-#endif\n-'\\\n-      -e '/[ \t]DBL_DIG[ \t]/i\\\n-#ifndef DBL_DIG\n-'\\\n-      -e '/[ \t]DBL_DIG[ \t]/a\\\n-#endif\n-' $file_to_fix > /tmp/$base\n-  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-# The Irix unistd.h will introduce a call to __vfork in its libc, but the\n-# function is never actually prototyped.\n-file=unistd.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed -e '/__vfork/i\\\n-extern pid_t __vfork(void);'\\\n-     $file_to_fix > /tmp/$base\n-  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-exit 0"}, {"sha": "93a8f2c5d0e8e21b3dfb1bc4d6b887f47637b867", "filename": "gcc/fixinc.ptx", "status": "removed", "additions": 0, "deletions": 257, "changes": 257, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5aa82acea46b3bc7da45485b212c680d1eef9925/gcc%2Ffixinc.ptx", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5aa82acea46b3bc7da45485b212c680d1eef9925/gcc%2Ffixinc.ptx", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc.ptx?ref=5aa82acea46b3bc7da45485b212c680d1eef9925", "patch": "@@ -1,257 +0,0 @@\n-#! /bin/sh\n-# Install modified versions of certain ANSI-incompatible\n-# native Sequent DYNIX/ptx System V Release 3.2 system include files.\n-# Copyright (C) 1994, 1996, 1997 Free Software Foundation, Inc.\n-# Contributed by Bill Burton <billb@progress.com>\n-# Portions adapted from fixinc.svr4 and fixincludes.\n-#\n-# This file is part of GNU CC.\n-# \n-# GNU CC is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-# \n-# GNU CC is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-# \n-# You should have received a copy of the GNU General Public License\n-# along with GNU CC; see the file COPYING.  If not, write to\n-# the Free Software Foundation, 59 Temple Place - Suite 330,\n-# Boston, MA 02111-1307, USA.\n-#\n-#\tThis script munges the native include files provided with DYNIX/ptx\n-#\tso as to remove things which are violations of the ANSI C standard.\n-#\tThis is done by first running fixinc.svr4 which does most of the\n-#\twork.  A few includes have fixes made to them afterwards  by this\n-#\tscript.  Once munged, the resulting new system include files are\n-#\tplaced in a directory that GNU C will search *before* searching the\n-#\t/usr/include directory. This script should work properly for most\n-#\tDYNIX/ptx systems.  For other types of systems, you should use the\n-#\t`fixincludes' script instead.\n-#\n-#\tSee README-fixinc for more information.\n-\n-# Directory containing the original header files.\n-INPUT=${2-${INPUT-/usr/include}}\n-\n-# Fail if no arg to specify a directory for the output.\n-if [ x$1 = x ]\n-then echo fixincludes: no output directory specified\n-exit 1\n-fi\n-\n-# Directory in which to store the results.\n-LIB=${1?\"fixincludes: output directory not specified\"}\n-\n-# Make sure it exists.\n-if [ ! -d $LIB ]; then\n-  mkdir $LIB || exit 1\n-fi\n-\n-ORIG_DIR=`pwd`\n-\n-# Make LIB absolute if it is relative.\n-# Don't do this if not necessary, since may screw up automounters.\n-case $LIB in\n-/*)\n-\t;;\n-*)\n- \tLIB=$ORIG_DIR/$LIB\n-\t;;\n-esac\n-\n-echo 'Running fixinc.svr4'\n-# DYNIX/ptx has dirname so this is no problem\n-`dirname $0`/fixinc.svr4 $*\n-echo 'Finished fixinc.svr4'\n-\n-echo 'Building fixincludes in ' ${LIB}\n-\n-# Copied from fixincludes.\n-# Don't use or define the name va_list in stdio.h.\n-# This is for ANSI and also to interoperate properly with gcc's varargs.h.\n-file=stdio.h\n-if [ -r $file ] && [ ! -r ${LIB}/$file ]; then\n-  cp $file ${LIB}/$file >/dev/null 2>&1 || echo \"Can't copy $file\"\n-  chmod +w ${LIB}/$file 2>/dev/null\n-  chmod a+r ${LIB}/$file 2>/dev/null\n-fi\n-\n-if [ -r ${LIB}/$file ]; then\n-  echo Fixing $file, use of va_list\n-  # Arrange for stdio.h to use stdarg.h to define __gnuc_va_list\n-  (echo \"#define __need___va_list\"\n-   echo \"#include <stdarg.h>\") > ${LIB}/${file}.sed\n-  # Use __gnuc_va_list in arg types in place of va_list.\n-  # On 386BSD use __gnuc_va_list instead of _VA_LIST_. We're hoping the\n-  # trailing parentheses and semicolon save all other systems from this.\n-  # Define __va_list__ (something harmless and unused) instead of va_list.\n-  # Don't claim to have defined va_list.\n-  sed -e 's@ va_list @ __gnuc_va_list @' \\\n-      -e 's@ va_list)@ __gnuc_va_list)@' \\\n-      -e 's@ _VA_LIST_));@ __gnuc_va_list));@' \\\n-      -e 's@ va_list@ __va_list__@' \\\n-      -e 's@\\*va_list@*__va_list__@' \\\n-      -e 's@ __va_list)@ __gnuc_va_list)@' \\\n-      -e 's@_NEED___VA_LIST@_NEED___Va_LIST@' \\\n-      -e 's@VA_LIST@DUMMY_VA_LIST@' \\\n-      -e 's@_NEED___Va_LIST@_NEED___VA_LIST@' \\\n-    ${LIB}/$file >> ${LIB}/${file}.sed\n-  \n-  rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n-  if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n-    rm -f ${LIB}/$file\n-  fi\n-fi\n-\n-# In pwd.h, PTX 1.x needs stdio.h included since FILE * was added in a\n-# prototype later on in the file.\n-file=pwd.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  if grep stdio $file_to_fix > /dev/null; then\n-    true\n-  else\n-    sed -e '/#include <sys\\/types\\.h>/a\\\n-\\\n-#if defined(__STDC__) || defined(__cplusplus)\\\n-#include <stdio.h>\\\n-#endif  /* __STDC__ */\n-' \\\n-    $file_to_fix > ${LIB}/${file}.sed\n-    rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n-    echo Fixed $file_to_fix\n-  fi\n-fi\n-\n-# Copied from fixincludes.\n-# math.h puts the declaration of matherr before the definition\n-# of struct exception, so the prototype (added by fixproto) causes havoc.\n-file=math.h\n-if [ -r $file ] && [ ! -r ${LIB}/$file ]; then\n-  cp $file ${LIB}/$file >/dev/null 2>&1 || echo \"Can't copy $file\"\n-  chmod +w ${LIB}/$file 2>/dev/null\n-  chmod a+r ${LIB}/$file 2>/dev/null\n-fi\n-\n-if [ -r ${LIB}/$file ]; then\n-  echo Fixing $file, matherr declaration\n-  sed -e '/^struct exception/,$b' \\\n-      -e '/matherr/i\\\n-struct exception;\n-'\\\n-    ${LIB}/$file > ${LIB}/${file}.sed\n-  rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n-  if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n-    rm -f ${LIB}/$file\n-  fi\n-fi\n-\n-# In netinet/in.h, the network byte swapping asm functions supported by the\n-# native cc compiler on PTX 1.x and 2.x is not supported in gcc.  Instead,\n-# include <sys/byteorder.h> written out by the fixinc.svr4 script which has\n-# these same routines written in an asm format supported by gcc.\n-file=netinet/in.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  if grep __GNUC__ $file_to_fix > /dev/null; then\n-    true\n-  else\n-    sed -e '/#define NETSWAP/a\\\n-\\\n-#if defined (__GNUC__) || defined (__GNUG__)\\\n-#include <sys/byteorder.h>\\\n-#else  /* not __GNUC__ */\n-' \\\n-    -e '/#endif[ \t]*\\/\\* NETSWAP \\*\\//i\\\n-#endif /* not __GNUC__ */\n-' \\\n-    $file_to_fix > ${LIB}/${file}.sed\n-    rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n-    echo Fixed $file_to_fix\n-  fi\n-fi\n-\n-# /usr/include/sys/mc_param.h has an embedded asm for the cpuid instruction\n-# on the P5. This is not used by anything else so we ifdef it out.\n-file=sys/mc_param.h\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  if grep __GNUC__ $file_to_fix > /dev/null; then\n-    true\n-  else\n-    sed -e '/__asm/,/}/{\n-/__asm/i\\\n-#if !defined (__GNUC__) && !defined (__GNUG__)\n-/}/a\\\n-#endif\n-}' \\\n-    $file_to_fix > ${LIB}/${file}.sed\n-    rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n-    echo Fixed $file_to_fix\n-  fi\n-fi\n-\n-# /usr/include/sys/mc_param.h has an embedded asm for the cpuid instruction\n-# on the P5. This is not used by anything else so we ifdef it out.\n-file=sys/mc_param.h\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  if grep __GNUC__ $file_to_fix > /dev/null; then\n-    true\n-  else\n-    sed -e '/__asm/,/}/{\n-/__asm/i\\\n-#if !defined (__GNUC__) && !defined (__GNUG__)\n-/}/a\\\n-#endif\n-}' \\\n-    $file_to_fix > ${LIB}/${file}.sed\n-    rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n-    echo Fixed $file_to_fix\n-  fi\n-fi\n-\n-exit 0\n-"}, {"sha": "6e63c67140fa83400e8d957ff9e6cfea2426acb7", "filename": "gcc/fixinc.sco", "status": "removed", "additions": 0, "deletions": 427, "changes": 427, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5aa82acea46b3bc7da45485b212c680d1eef9925/gcc%2Ffixinc.sco", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5aa82acea46b3bc7da45485b212c680d1eef9925/gcc%2Ffixinc.sco", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc.sco?ref=5aa82acea46b3bc7da45485b212c680d1eef9925", "patch": "@@ -1,427 +0,0 @@\n-#! /bin/sh\n-#\n-#   fixinc.sco  --  Install modified versions of SCO system include\n-#   files.\n-#\n-#   Based on fixinc.svr4 script by Ron Guilmette (rfg@ncd.com) (SCO\n-#   modifications by Ian Lance Taylor (ian@airs.com)).\n-#\n-# Copyright (C) 1995, 1996, 1997, 1998 Free Software Foundation, Inc.\n-#\n-# This file is part of GNU CC.\n-# \n-# GNU CC is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-# \n-# GNU CC is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-# \n-# You should have received a copy of the GNU General Public License\n-# along with GNU CC; see the file COPYING.  If not, write to\n-# the Free Software Foundation, 59 Temple Place - Suite 330,\n-# Boston, MA 02111-1307, USA.\n-#\n-#\tThis script munges the native include files provided with SCO\n-#\t3.2v4 systems so as to provide a reasonable namespace when\n-#\tcompiling with gcc.  The header files by default do not\n-#\tprovide many essential definitions and declarations if\n-#\t__STDC__ is 1.  This script modifies the header files to check\n-#\tfor __STRICT_ANSI__ being defined instead.  Once munged, the\n-#\tresulting new system include files are placed in a directory\n-#\tthat GNU C will search *before* searching the /usr/include\n-#\tdirectory.  This script should work properly for most SCO\n-#\t3.2v4 systems.  For other types of systems, you should use the\n-#\t`fixincludes' or the `fixinc.svr4' script instead.\n-#\n-#\tSee README-fixinc for more information.\n-\n-# Directory containing the original header files.\n-INPUT=${2-${INPUT-/usr/include}}\n-\n-# Fail if no arg to specify a directory for the output.\n-if [ x$1 = x ]\n-then echo fixincludes: no output directory specified\n-exit 1\n-fi\n-\n-# Directory in which to store the results.\n-LIB=${1?\"fixincludes: output directory not specified\"}\n-\n-# Make sure it exists.\n-if [ ! -d $LIB ]; then\n-  mkdir $LIB || exit 1\n-fi\n-\n-ORIG_DIR=`pwd`\n-\n-# Make LIB absolute if it is relative.\n-# Don't do this if not necessary, since may screw up automounters.\n-case $LIB in\n-/*)\n-\t;;\n-*)\n-\tcd $LIB; LIB=`${PWDCMD-pwd}`\n-\t;;\n-esac\n-\n-echo 'Building fixincludes in ' ${LIB}\n-\n-# Determine whether this filesystem has symbolic links.\n-if ln -s X $LIB/ShouldNotExist 2>/dev/null; then\n-  rm -f $LIB/ShouldNotExist\n-  LINKS=true\n-else\n-  LINKS=false\n-fi\n-\n-echo 'Making directories:'\n-cd ${INPUT}\n-if $LINKS; then\n-  files=`ls -LR | sed -n s/:$//p`\n-else\n-  files=`find . -type d -print | sed '/^.$/d'`\n-fi\n-for file in $files; do\n-  rm -rf $LIB/$file\n-  if [ ! -d $LIB/$file ]\n-  then mkdir $LIB/$file\n-  fi\n-done\n-\n-# treetops gets an alternating list\n-# of old directories to copy\n-# and the new directories to copy to.\n-treetops=\"${INPUT} ${LIB}\"\n-\n-if $LINKS; then\n-  echo 'Making internal symbolic directory links'\n-  for file in $files; do\n-    dest=`ls -ld $file | sed -n 's/.*-> //p'`\n-    if [ \"$dest\" ]; then    \n-      cwd=`pwd`\n-      # In case $dest is relative, get to $file's dir first.\n-      cd ${INPUT}\n-      cd `echo ./$file | sed -n 's&[^/]*$&&p'`\n-      # Check that the target directory exists.\n-      # Redirections changed to avoid bug in sh on Ultrix.\n-      (cd $dest) > /dev/null 2>&1\n-      if [ $? = 0 ]; then\n-\tcd $dest\n-\t# X gets the dir that the link actually leads to.\n-\tx=`pwd`\n-\t# If link leads back into ${INPUT},\n-\t# make a similar link here.\n-\tif expr $x : \"${INPUT}/.*\" > /dev/null; then\n-\t  # Y gets the actual target dir name, relative to ${INPUT}.\n-\t  y=`echo $x | sed -n \"s&${INPUT}/&&p\"`\n-\t  echo $file '->' $y ': Making link'\n-\t  rm -fr ${LIB}/$file > /dev/null 2>&1\n-\t  ln -s ${LIB}/$y ${LIB}/$file > /dev/null 2>&1\n-\telse\n-\t  # If the link is to outside ${INPUT},\n-\t  # treat this directory as if it actually contained the files.\n-# This line used to have $dest instead of $x.\n-# $dest seemed to be wrong for links found in subdirectories\n-# of ${INPUT}.  Does this change break anything?\n-\t  treetops=\"$treetops $x ${LIB}/$file\"\n-\tfi\n-      fi\n-      cd $cwd\n-    fi\n-  done\n-fi\n-\n-set - $treetops\n-while [ $# != 0 ]; do\n-  # $1 is an old directory to copy, and $2 is the new directory to copy to.\n-  echo \"Finding header files in $1:\"\n-  cd ${INPUT}\n-  cd $1\n-  files=`find . -name '*.h' -type f -print`\n-  echo 'Checking header files:'\n-  for file in $files; do\n-    if egrep '!__STDC__' $file >/dev/null; then\n-      if [ -r $file ]; then\n-\tcp $file $2/$file >/dev/null 2>&1 || echo \"Can't copy $file\"\n-\tchmod +w $2/$file\n-\tchmod a+r $2/$file\n-\n-# The following have been removed from the sed command below\n-# because it is more useful to leave these things in.\n-# The only reason to remove them was for -pedantic,\n-# which isn't much of a reason. -- rms.\n-#\t  /^[ \t]*#[ \t]*ident/d\n-\n-\tsed -e '\n-\t  s/!__STDC__/!defined (__STRICT_ANSI__)/g\n-\t' $2/$file > $2/$file.sed\n-\tmv $2/$file.sed $2/$file\n-\tif cmp $file $2/$file >/dev/null 2>&1; then\n-\t   rm $2/$file\n-\telse\n-\t   echo Fixed $file\n-\tfi\n-      fi\n-    fi\n-  done\n-  shift; shift\n-done\n-\n-# We shouldn't stay in the directory we just copied.\n-cd ${INPUT}\n-\n-# Fix first broken decl of getcwd present on some svr4 systems.\n-\n-file=stdlib.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed -e 's/getcwd(char \\{0,\\}\\*, int)/getcwd(char *, size_t)/' $file_to_fix > /tmp/$base\n-  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-# Fix second broken decl of getcwd present on some svr4 systems.  Also\n-# fix the incorrect decl of profil present on some svr4 systems.\n-\n-file=unistd.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed -e 's/getcwd(char \\*, int)/getcwd(char *, size_t)/' $file_to_fix \\\n-    | sed -e 's/profil(unsigned short \\*, unsigned int, unsigned int, unsigned int)/profil(unsigned short *, size_t, int, unsigned)/' > /tmp/$base\n-  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-# Fix third broken decl of getcwd on SCO.  Also fix incorrect decl of\n-# link.\n-file=prototypes.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed -e 's/getcwd(char \\*, int)/getcwd(char *, size_t)/' $file_to_fix \\\n-    | sed -e 's/const  int\tlink(const char \\*, char \\*)/extern  int\tlink(const char *, const char *)/' > /tmp/$base\n-  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-# Fix an error in this file: the #if says _cplusplus, not the double\n-# underscore __cplusplus that it should be\n-file=tinfo.h\n-if [ -r $file ] && [ ! -r ${LIB}/$file ]; then\n-  mkdir ${LIB}/rpcsvc 2>/dev/null\n-  cp $file ${LIB}/$file >/dev/null 2>&1 || echo \"Can't copy $file\"\n-  chmod +w ${LIB}/$file 2>/dev/null\n-  chmod a+r ${LIB}/$file 2>/dev/null\n-fi\n-\n-if [ -r ${LIB}/$file ]; then\n-  echo Fixing $file, __cplusplus macro\n-  sed -e 's/[ \t]_cplusplus/ __cplusplus/' ${LIB}/$file > ${LIB}/${file}.sed\n-  rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n-  if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n-    rm ${LIB}/$file\n-  fi\n-fi\n-\n-# Fix prototype declaration of utime in sys/times.h.  In 3.2v4.0 the\n-# const is missing.\n-file=sys/times.h\n-if [ -r $file ] && [ ! -r ${LIB}/$file ]; then\n-  cp $file ${LIB}/$file >/dev/null 2>&1 || echo \"Can't copy $file\"\n-  chmod +w ${LIB}/$file 2>/dev/null\n-  chmod a+r ${LIB}/$file 2>/dev/null\n-fi\n-\n-if [ -r ${LIB}/$file ]; then\n-  echo Fixing $file, utime prototype\n-  sed -e 's/(const char \\*, struct utimbuf \\*);/(const char *, const struct utimbuf *);/' ${LIB}/$file > ${LIB}/${file}.sed\n-  rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n-  if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n-    rm ${LIB}/$file\n-  fi\n-fi\n-\n-# This function is borrowed from fixinclude.svr4\n-# The OpenServer math.h defines struct exception, which conflicts with\n-# the class exception defined in the C++ file std/stdexcept.h.  We\n-# redefine it to __math_exception.  This is not a great fix, but I\n-# haven't been able to think of anything better.\n-#\n-# OpenServer's math.h declares abs as inline int abs...  Unfortunately,\n-# we blow over that one (with C++ linkage) and stick a new one in stdlib.h\n-# with C linkage.   So we eat the one out of math.h.\n-file=math.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed -e '/struct exception/i\\\n-#ifdef __cplusplus\\\n-#define exception __math_exception\\\n-#endif'\\\n-      -e '/struct exception/a\\\n-#ifdef __cplusplus\\\n-#undef exception\\\n-#endif' \\\n-      -e 's@inline int abs(int [a-z][a-z]*) {.*}@extern \"C\" int abs(int);@' \\\n- $file_to_fix > /tmp/$base\n-  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-#\n-# Also, the static functions lstat() and fchmod() in <sys/stat.h> \n-# cause G++ grief since they're not wrapped in \"if __cplusplus\".   \n-# Fix that up now.\n-#\n-file=sys/stat.h\n-if [ -r $file ] && [ ! -r ${LIB}/$file ]; then\n-  cp $file ${LIB}/$file >/dev/null 2>&1 || echo \"Can't copy $file\"\n-  chmod +w ${LIB}/$file 2>/dev/null\n-  chmod a+r ${LIB}/$file 2>/dev/null\n-fi\n-\n-if [ -r ${LIB}/$file ]; then\n-  echo Fixing $file, static definitions not C++-aware.\n-  sed -e '/^static int[ \t]*/i\\\n-#if __cplusplus\\\n-extern \"C\"\\\n-{\\\n-#endif /* __cplusplus */ \\\n-' \\\n--e '/^}$/a\\\n-#if __cplusplus\\\n-}\\\n-#endif /* __cplusplus */ \\\n-' ${LIB}/$file > ${LIB}/${file}.sed\n-  rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n-  if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n-    rm -f ${LIB}/$file\n-  fi\n-fi\n-\n-# This fix has the regex modified from the from fixinc.wrap\n-# Avoid the definition of the bool type in the following files when using\n-# g++, since it's now an official type in the C++ language.\n-for file in term.h tinfo.h\n-do\n-  if [ -r $INPUT/$file ]; then\n-    echo Checking $INPUT/$file\n-    w='[\t ]'\n-    if grep \"typedef$w.*char$w.*bool$w*;\" $INPUT/$file >/dev/null\n-    then\n-      echo Fixed $file\n-      rm -f $LIB/$file\n-      cat << __EOF__ >$LIB/$file\n-#ifndef _CURSES_H_WRAPPER\n-#ifdef __cplusplus\n-# define bool __curses_bool_t\n-#endif\n-#include_next <$file>\n-#ifdef __cplusplus\n-# undef bool\n-#endif\n-#define _CURSES_H_WRAPPER\n-#endif /* _CURSES_H_WRAPPER */\n-__EOF__\n-      # Define _CURSES_H_WRAPPER at the end of the wrapper, not the start,\n-      # so that if #include_next gets another instance of the wrapper,\n-      # this will follow the #include_next chain until we arrive at\n-      # the real system include file.\n-      chmod a+r $LIB/$file\n-    fi\n-  fi\n-done\n-\n-echo 'Removing unneeded directories:'\n-cd $LIB\n-files=`find . -type d -print | sort -r`\n-for file in $files; do\n-  rmdir $LIB/$file > /dev/null 2>&1\n-done\n-\n-if $LINKS; then\n-  echo 'Making internal symbolic non-directory links'\n-  cd ${INPUT}\n-  files=`find . -type l -print`\n-  for file in $files; do\n-    dest=`ls -ld $file | sed -n 's/.*-> //p'`\n-    if expr \"$dest\" : '[^/].*' > /dev/null; then    \n-      target=${LIB}/`echo file | sed \"s|[^/]*\\$|$dest|\"`\n-      if [ -f $target ]; then\n-        ln -s $dest ${LIB}/$file >/dev/null 2>&1\n-      fi\n-    fi\n-  done\n-fi\n-\n-exit 0"}, {"sha": "e633ed5bb15f3b929cf840a6c811ffa5552fce07", "filename": "gcc/fixinc.svr4", "status": "removed", "additions": 0, "deletions": 1760, "changes": 1760, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5aa82acea46b3bc7da45485b212c680d1eef9925/gcc%2Ffixinc.svr4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5aa82acea46b3bc7da45485b212c680d1eef9925/gcc%2Ffixinc.svr4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc.svr4?ref=5aa82acea46b3bc7da45485b212c680d1eef9925", "patch": "@@ -1,1760 +0,0 @@\n-#! /bin/sh\n-# Install modified versions of certain ANSI-incompatible\n-# native System V Release 4 system include files.\n-# Copyright (C) 1994, 1996, 1997, 1998, 1999 Free Software Foundation, Inc.\n-# Contributed by Ron Guilmette (rfg@monkeys.com).\n-#\n-# This file is part of GNU CC.\n-# \n-# GNU CC is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-# \n-# GNU CC is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-# \n-# You should have received a copy of the GNU General Public License\n-# along with GNU CC; see the file COPYING.  If not, write to\n-# the Free Software Foundation, 59 Temple Place - Suite 330,\n-# Boston, MA 02111-1307, USA.\n-#\n-#\tThis script munges the native include files provided with System V\n-#\tRelease 4 systems so as to remove things which are violations of the\n-#\tANSI C standard.  Once munged, the resulting new system include files\n-#\tare placed in a directory that GNU C will search *before* searching\n-#\tthe /usr/include directory. This script should work properly for most\n-#\tSystem V Release 4 systems.  For other types of systems, you should\n-#\tuse the `fixincludes' script instead.\n-#\n-#\tSee README-fixinc for more information.\n-\n-# Directory containing the original header files.\n-INPUT=${2-${INPUT-/usr/include}}\n-\n-# Fail if no arg to specify a directory for the output.\n-if [ x$1 = x ]\n-then echo fixincludes: no output directory specified\n-exit 1\n-fi\n-\n-# Directory in which to store the results.\n-LIB=${1?\"fixincludes: output directory not specified\"}\n-\n-# Make sure it exists.\n-if [ ! -d $LIB ]; then\n-  mkdir $LIB || exit 1\n-fi\n-\n-ORIG_DIR=`pwd`\n-\n-# Make LIB absolute if it is relative.\n-# Don't do this if not necessary, since may screw up automounters.\n-case $LIB in\n-/*)\n-\t;;\n-*)\n- \tLIB=$ORIG_DIR/$LIB\n-\t;;\n-esac\n-\n-echo 'Building fixincludes in ' ${LIB}\n-\n-# Determine whether this filesystem has symbolic links.\n-if ln -s X $LIB/ShouldNotExist 2>/dev/null; then\n-  rm -f $LIB/ShouldNotExist\n-  LINKS=true\n-else\n-  LINKS=false\n-fi\n-\n-echo 'Making directories:'\n-cd ${INPUT}\n-if $LINKS; then\n-  files=`find . -follow -type d -print 2>/dev/null | sed '/^.$/d'`\n-else\n-  files=`find . -type d -print | sed '/^.$/d'`\n-fi\n-for file in $files; do\n-  rm -rf $LIB/$file\n-  if [ ! -d $LIB/$file ]\n-  then mkdir $LIB/$file\n-  fi\n-done\n-\n-# treetops gets an alternating list\n-# of old directories to copy\n-# and the new directories to copy to.\n-treetops=\"${INPUT} ${LIB}\"\n-\n-if $LINKS; then\n-  echo 'Making internal symbolic directory links'\n-  for file in $files; do\n-    dest=`ls -ld $file | sed -n 's/.*-> //p'`\n-    if [ \"$dest\" ]; then    \n-      cwd=`pwd`\n-      # In case $dest is relative, get to $file's dir first.\n-      cd ${INPUT}\n-      cd `echo ./$file | sed -n 's&[^/]*$&&p'`\n-      rwd=`pwd`\n-      # Check that the target directory exists.\n-      # Redirections changed to avoid bug in sh on Ultrix.\n-      (cd $dest) > /dev/null 2>&1\n-      if [ $? = 0 ]; then\n-\tcd $dest\n-\t# X gets the dir that the link actually leads to.\n-\tx=`pwd`\n-\t# If link leads back into ${INPUT},\n-\t# make a similar link here.\n-        if expr \"$dest\" : '[^/][^/]*' >/dev/null && [ ! -h $dest ]; then\n-          echo $file '->'  $dest': Making link'\n-          rm -fr ${LIB}/$file > /dev/null 2>&1\n-          ln -s $dest ${LIB}/$file > /dev/null 2>&1\n-\telif expr $x : \"${INPUT}/.*\" > /dev/null; then\n-\t  # Y gets the actual target dir name, relative to ${INPUT}.\n-\t  y=`echo $x | sed -n \"s&${INPUT}/&&p\"`\n-\t  # DOTS is the relative path from ${LIB}/$file's dir back to ${LIB}.\n-\t  dots=`echo \"$file\" |\n-\t    sed -e 's@^./@@' -e 's@/./@/@g' -e 's@[^/][^/]*@..@g' -e 's@..$@@'`\n-\t  echo $file '->' $dots$y ': Making link'\n-\t  rm -fr ${LIB}/$file > /dev/null 2>&1\n-\t  ln -s $dots$y ${LIB}/$file > /dev/null 2>&1\n-\telif expr $x : \"${rwd}/.*\" > /dev/null; then\n-\t  # Y gets the actual target dir name, relative to the directory where the link is.\n-\t  y=`echo $x | sed -n \"s&${rwd}/&&p\"`\n-\t  # DOTS is the relative path from ${LIB}/$file's dir back to ${LIB}.\n-\t  dots=`echo \"$file\" |\n-\t    sed -e 's@^./@@' -e 's@/./@/@g' -e 's@[^/][^/]*@..@g' -e 's@..$@@'`\n-\t  echo $file '->' $dots$y ': Making link'\n-\t  rm -fr ${LIB}/$file > /dev/null 2>&1\n-\t  ln -s $dots$y ${LIB}/$file > /dev/null 2>&1\n-\telse\n-\t  # If the link is to outside ${INPUT},\n-\t  # treat this directory as if it actually contained the files.\n-# This line used to have $dest instead of $x.\n-# $dest seemed to be wrong for links found in subdirectories\n-# of ${INPUT}.  Does this change break anything?\n-\t  treetops=\"$treetops $x ${LIB}/$file\"\n-\tfi\n-      fi\n-      cd $cwd\n-    fi\n-  done\n-fi\n-\n-set - $treetops\n-while [ $# != 0 ]; do\n-  # $1 is an old directory to copy, and $2 is the new directory to copy to.\n-  echo \"Finding header files in $1:\"\n-  cd ${INPUT}\n-  cd $1\n-  files=`find . -name '*.h' -type f -print`\n-  echo 'Checking header files:'\n-  for file in $files; do\n-      if [ -r $file ]; then\n-\tcp $file $2/$file >/dev/null 2>&1 || echo \"Can't copy $file\"\n-\tchmod +w $2/$file\n-\tchmod a+r $2/$file\n-\n-# The following have been removed from the sed command below\n-# because it is more useful to leave these things in.\n-# The only reason to remove them was for -pedantic,\n-# which isn't much of a reason. -- rms.\n-#\t  /^[ \t]*#[ \t]*ident/d\n-\n-# This code makes Solaris SCSI fail, because it changes the\n-# alignment within some critical structures.  See <sys/scsi/impl/commands.h>.\n-#\t  s/u_char\\([ \t][ \t]*[a-zA-Z0-9_][a-zA-Z0-9_]*[ \t]*:[ \t]*[0-9][0-9]*\\)/u_int\\1/\n-# Disable these also, since they probably aren't safe either.\n-#\t  s/u_short\\([ \t][ \t]*[a-zA-Z0-9_][a-zA-Z0-9_]*[ \t]*:[ \t]*[0-9][0-9]*\\)/u_int\\1/\n-#\t  s/ushort\\([ \t][ \t]*[a-zA-Z0-9_][a-zA-Z0-9_]*[ \t]*:[ \t]*[0-9][0-9]*\\)/u_int\\1/\n-#\t  s/evcm_t\\([ \t][ \t]*[a-zA-Z0-9_][a-zA-Z0-9_]*[ \t]*:[ \t]*[0-9][0-9]*\\)/u_int\\1/\n-#\t  s/Pbyte\\([ \t][ \t]*[a-zA-Z0-9_][a-zA-Z0-9_]*[ \t]*:[ \t]*SEQSIZ\\)/unsigned int\\1/\n-\n-# The change of u_char, etc, to u_int\n-# applies to bit fields.\n-\tsed -e '\n-\t  s%^\\([ \t]*#[ \t]*else\\)[ \t]*/[^*].*%\\1%\n-\t  s%^\\([ \t]*#[ \t]*else\\)[ \t]*[^/ \t].*%\\1%\n-\t  s%^\\([ \t]*#[ \t]*endif\\)[ \t]*/[^*].*%\\1%\n-\t  s%^\\([ \t]*#[ \t]*endif\\)[ \t]*[^/ \t].*%\\1%\n-  \t  s/#lint(on)/defined(lint)/g\n-  \t  s/#lint(off)/!defined(lint)/g\n-  \t  s/#machine(\\([^)]*\\))/defined(__\\1__)/g\n-  \t  s/#system(\\([^)]*\\))/defined(__\\1__)/g\n-  \t  s/#cpu(\\([^)]*\\))/defined(__\\1__)/g\n-\t  /#[a-z]*if.*[\t (]m68k/\t\ts/\\([^_]\\)m68k/\\1__m68k__/g\n-\t  /#[a-z]*if.*[\t (]__i386\\([^_]\\)/\ts/__i386/__i386__/g\n-\t  /#[a-z]*if.*[\t (]i386/\t\ts/\\([^_]\\)i386/\\1__i386__/g\n-\t  /#[a-z]*if.*[\t (!]__i860\\([^_]\\)/\ts/__i860/__i860__/g\n-\t  /#[a-z]*if.*[\t (!]i860/\t\ts/\\([^_]\\)i860/\\1__i860__/g\n-\t  /#[a-z]*if.*[\t (]sparc/\ts/\\([^_]\\)sparc/\\1__sparc__/g\n-\t  /#[a-z]*if.*[\t (]mc68000/\ts/\\([^_]\\)mc68000/\\1__mc68000__/g\n-\t  /#[a-z]*if.*[\t (]vax/\t\ts/\\([^_]\\)vax/\\1__vax__/g\n-\t  /#[a-z]*if.*[\t (]sun/\t\ts/\\([^_]\\)\\(sun[a-z0-9]*\\)\\([^a-z0-9_]\\)/\\1__\\2__\\3/g\n-\t  /#[a-z]*if.*[\t (]sun/\t\ts/\\([^_]\\)\\(sun[a-z0-9]*\\)$/\\1__\\2__/g\n-\t  /#[a-z]*if.*[\t (]ns32000/\ts/\\([^_]\\)ns32000/\\1__ns32000__/g\n-\t  /#[a-z]*if.*[\t (]pyr/\t\ts/\\([^_]\\)pyr/\\1__pyr__/g\n-\t  /#[a-z]*if.*[\t (]is68k/\ts/\\([^_]\\)is68k/\\1__is68k__/g\n-\t  s/__STDC__[ \t][ \t]*==[ \t][ \t]*0/!defined (__STRICT_ANSI__)/g\n-\t  s/__STDC__[ \t][ \t]*==[ \t][ \t]*1/defined (__STRICT_ANSI__)/g\n-\t  s/__STDC__[ \t][ \t]*!=[ \t][ \t]*0/defined (__STRICT_ANSI__)/g\n-\t  s/__STDC__[ \t][ \t]*!=[ \t][ \t]*1/!defined (__STRICT_ANSI__)/g\n-\t  s/__STDC__ - 0 == 0/!defined (__STRICT_ANSI__)/g\n-\t  s/__STDC__ - 0 == 1/defined (__STRICT_ANSI__)/g\n-\t  /^typedef[ \t][ \t]*[unsigned \t]*long[ \t][ \t]*[u_]*longlong_t;/s/long/long long/\n-\t' $2/$file > $2/$file.sed\n-\tmv $2/$file.sed $2/$file\n-\tif cmp $file $2/$file >/dev/null 2>&1; then\n-\t   rm $2/$file\n-\telse\n-\t   echo Fixed $file\n-\tfi\n-      fi\n-  done\n-  shift; shift\n-done\n-\n-# Install the proper definition of the three standard types in header files\n-# that they come from.\n-for file in sys/types.h stdlib.h sys/stdtypes.h stddef.h memory.h unistd.h; do\n-  if [ -r $file ] && [ ! -r ${LIB}/$file ]; then\n-    cp $file ${LIB}/$file >/dev/null 2>&1 || echo \"Can't copy $file\"\n-    chmod +w ${LIB}/$file 2>/dev/null\n-    chmod a+r ${LIB}/$file 2>/dev/null\n-  fi\n-\n-  if [ -r ${LIB}/$file ]; then\n-    echo Fixing size_t, ptrdiff_t and wchar_t in $file\n-    sed \\\n-      -e '/typedef[ \t][ \t]*[a-z_][ \ta-z_]*[ \t]size_t/i\\\n-#ifndef __SIZE_TYPE__\\\n-#define __SIZE_TYPE__ long unsigned int\\\n-#endif\n-' \\\n-      -e 's/typedef[ \t][ \t]*[a-z_][ \ta-z_]*[ \t]size_t/typedef __SIZE_TYPE__ size_t/' \\\n-      -e '/typedef[ \t][ \t]*[a-z_][ \ta-z_]*[ \t]ptrdiff_t/i\\\n-#ifndef __PTRDIFF_TYPE__\\\n-#define __PTRDIFF_TYPE__ long int\\\n-#endif\n-' \\\n-      -e 's/typedef[ \t][ \t]*[a-z_][ \ta-z_]*[ \t]ptrdiff_t/typedef __PTRDIFF_TYPE__ ptrdiff_t/' \\\n-      -e '/typedef[ \t][ \t]*[a-z_][ \ta-z_]*[ \t]wchar_t/i\\\n-#ifndef __WCHAR_TYPE__\\\n-#define __WCHAR_TYPE__ int\\\n-#endif\n-' \\\n-      -e 's/typedef[ \t][ \t]*[a-z_][ \ta-z_]*[ \t]wchar_t/typedef __WCHAR_TYPE__ wchar_t/' \\\n-      ${LIB}/$file > ${LIB}/${file}.sed\n-    rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n-    if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n-      rm ${LIB}/$file\n-    fi\n-  fi\n-done\n-\n-# Fix first broken decl of getcwd present on some svr4 systems.\n-\n-file=stdlib.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed -e 's/getcwd(char \\*, int)/getcwd(char *, size_t)/' $file_to_fix > /tmp/$base\n-  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-# Fix second broken decl of getcwd present on some svr4 systems.  Also\n-# fix the incorrect decl of profil present on some svr4 systems.\n-\n-file=unistd.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed -e 's/getcwd(char \\*, int)/getcwd(char *, size_t)/' $file_to_fix \\\n-    | sed -e 's/profil(unsigned short \\*, unsigned int, unsigned int, unsigned int)/profil(unsigned short *, size_t, int, unsigned)/' > /tmp/$base\n-  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-# Fix the definition of NULL in <sys/param.h> so that it is conditional\n-# and so that it is correct for both C and C++.\n-\n-file=sys/param.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  cp $file_to_fix /tmp/$base\n-  chmod +w /tmp/$base\n-  chmod a+r /tmp/$base\n-  sed -e '/^#define[ \t]*NULL[ \t]*0$/c\\\n-#ifndef NULL\\\n-#ifdef __cplusplus\\\n-#define __NULL_TYPE\\\n-#else /* !defined(__cplusplus) */\\\n-#define __NULL_TYPE (void *)\\\n-#endif /* !defined(__cplusplus) */\\\n-#define NULL (__NULL_TYPE 0)\\\n-#endif /* !defined(NULL) */' /tmp/$base > /tmp/$base.sed\n-  if cmp $file_to_fix /tmp/$base.sed >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base.sed ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base /tmp/$base.sed\n-fi\n-\n-# Likewise fix the definition of NULL in <stdio.h> so that it is conditional\n-# and so that it is correct for both C and C++.\n-\n-file=stdio.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  cp $file_to_fix /tmp/$base\n-  chmod +w /tmp/$base\n-  sed -e '/^#define[ \t]*NULL[ \t]*0$/c\\\n-#ifdef __cplusplus\\\n-#define __NULL_TYPE\\\n-#else /* !defined(__cplusplus) */\\\n-#define __NULL_TYPE (void *)\\\n-#endif /* !defined(__cplusplus) */\\\n-#define NULL (__NULL_TYPE 0)' /tmp/$base > /tmp/$base.sed\n-  if cmp $file_to_fix /tmp/$base.sed >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base.sed ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base /tmp/$base.sed\n-fi\n-\n-# Likewise fix the definition of NULL in <dbm.h> so that it is conditional\n-# and so that it is correct for both C and C++.\n-\n-file=dbm.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  cp $file_to_fix /tmp/$base\n-  chmod +w /tmp/$base\n-  sed -e '/^#define[ \t]*NULL[ \t]*((char \\*) 0)$/c\\\n-#ifndef NULL\\\n-#ifdef __cplusplus\\\n-#define __NULL_TYPE\\\n-#else /* !defined(__cplusplus) */\\\n-#define __NULL_TYPE (void *)\\\n-#endif /* !defined(__cplusplus) */\\\n-#define NULL (__NULL_TYPE 0)\\\n-#endif /* !defined(NULL) */' /tmp/$base > /tmp/$base.sed\n-  if cmp $file_to_fix /tmp/$base.sed >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base.sed ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base /tmp/$base.sed\n-fi\n-\n-# Add a prototyped declaration of mmap to <sys/mman.h>.\n-\n-file=sys/mman.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  cp $file_to_fix /tmp/$base\n-  chmod +w /tmp/$base\n-  sed -e '/^extern caddr_t mmap();$/c\\\n-#ifdef __STDC__\\\n-extern caddr_t mmap (caddr_t, size_t, int, int, int, off_t);\\\n-#else /* !defined(__STDC__) */\\\n-extern caddr_t mmap ();\\\n-#endif /* !defined(__STDC__) */' /tmp/$base > /tmp/$base.sed\n-  if cmp $file_to_fix /tmp/$base.sed >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base.sed ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base /tmp/$base.sed\n-fi\n-\n-# Fix declarations of `ftw' and `nftw' in <ftw.h>.  On some/most SVR4 systems\n-# the file <ftw.h> contains extern declarations of these functions followed\n-# by explicitly `static' definitions of these functions... and that's not\n-# allowed according to ANSI C.  (Note however that on Solaris, this header\n-# file glitch has been pre-fixed by Sun.  In the Solaris version of <ftw.h>\n-# there are no static definitions of any function so we don't need to do\n-# any of this stuff when on Solaris.\n-\n-file=ftw.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if test -z \"$file_to_fix\" || grep 'define\tftw' $file_to_fix > /dev/null; then\n-# Either we have no <ftw.h> file at all, or else we have the pre-fixed Solaris\n-# one.  Either way, we don't have to do anything.\n-  true\n-else\n-  echo Checking $file_to_fix\n-  cp $file_to_fix /tmp/$base\n-  chmod +w /tmp/$base\n-  sed -e '/^extern int ftw(const/i\\\n-#if !defined(_STYPES)\\\n-static\\\n-#else\\\n-extern\\\n-#endif\n-'\\\n-  -e 's/extern \\(int ftw(const.*\\)$/\\1/' \\\n-  -e '/^extern int nftw/i\\\n-#if defined(_STYPES)\\\n-static\\\n-#else\\\n-extern\\\n-#endif\n-'\\\n-  -e 's/extern \\(int nftw.*\\)$/\\1/' \\\n-  -e '/^extern int ftw(),/c\\\n-#if !defined(_STYPES)\\\n-static\\\n-#else\\\n-extern\\\n-#endif\\\n-  int ftw();\\\n-#if defined(_STYPES)\\\n-static\\\n-#else\\\n-extern\\\n-#endif\\\n-  int nftw();' /tmp/$base > /tmp/$base.sed\n-  if cmp $file_to_fix /tmp/$base.sed >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base.sed ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base /tmp/$base.sed\n-fi\n-\n-# Avoid the definition of the bool type in the Solaris 2.x curses.h when using\n-# g++, since it's now an official type in the C++ language.\n-file=curses.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  cp $file_to_fix /tmp/$base\n-  chmod +w /tmp/$base\n-  sed -e 's,^typedef[ \t]char[ \t]bool;$,#ifndef __cplusplus\\\n-typedef\tchar bool;\\\n-#endif /* !defined __cplusplus */,' /tmp/$base > /tmp/$base.sed\n-  if cmp $file_to_fix /tmp/$base.sed >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base.sed ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base /tmp/$base.sed\n-fi\n-\n-# Add a `static' declaration of `getrnge' into <regexp.h>.\n-\n-# Don't do this if there is already a `static void getrnge' declaration\n-# present, since this would cause a redeclaration error.  Solaris 2.x has\n-# such a declaration.\n-\n-file=regexp.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  if grep \"static void getrnge\" $file_to_fix > /dev/null; then\n-    true\n-  else\n-    cp $file_to_fix /tmp/$base\n-    chmod +w /tmp/$base\n-    sed -e '/^static int[ \t]*size;/c\\\n-static int\tsize ;\\\n-\\\n-static int getrnge ();' /tmp/$base > /tmp/$base.sed\n-    if cmp $file_to_fix /tmp/$base.sed >/dev/null 2>&1; then \\\n-      true\n-    else\n-      echo Fixed $file_to_fix\n-      rm -f ${LIB}/$file\n-      cp /tmp/$base.sed ${LIB}/$file\n-      chmod a+r ${LIB}/$file\n-    fi\n-  fi\n-  rm -f /tmp/$base /tmp/$base.sed\n-fi\n-\n-# Disable apparent native compiler optimization cruft in SVR4.2 <string.h>\n-# that is visible to any ANSI compiler using this include.  Simply\n-# delete the lines that #define some string functions to internal forms.\n-\n-file=string.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  cp $file_to_fix /tmp/$base\n-  chmod +w /tmp/$base\n-  sed -e '/#define.*__std_hdr_/d' /tmp/$base > /tmp/$base.sed\n-  if cmp $file_to_fix /tmp/$base.sed >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base.sed ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base /tmp/$base.sed\n-fi\n-\n-# Delete any #defines of `__i386' which may be present in <ieeefp.h>.  They\n-# tend to conflict with the compiler's own definition of this symbol.  (We\n-# will use the compiler's definition.)\n-# Likewise __sparc, for Solaris, and __i860, and a few others\n-# (guessing it is necessary for all of them).\n-\n-file=ieeefp.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  cp $file_to_fix /tmp/$base\n-  chmod +w /tmp/$base\n-  sed -e '/#define[ \t]*__i386 /d' -e '/#define[ \t]*__sparc /d' \\\n-      -e '/#define[ \t]*__i860 /d' -e '/#define[ \t]*__m88k /d' \\\n-      -e '/#define[ \t]*__mips /d' -e '/#define[ \t]*__m68k /d' \\\n-     /tmp/$base > /tmp/$base.sed\n-  if cmp $file_to_fix /tmp/$base.sed >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix \n-    rm -f ${LIB}/$file\n-    cp /tmp/$base.sed ${LIB}/$file \n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base /tmp/$base.sed \n-fi \n-\n-# Add a #define of _SIGACTION_ into <sys/signal.h>.\n-# Also fix types of SIG_DFL, SIG_ERR, SIG_IGN, and SIG_HOLD.\n-\n-file=sys/signal.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  cp $file_to_fix /tmp/$base\n-  chmod +w /tmp/$base\n-  sed -e '/^struct sigaction {/c\\\n-#define _SIGACTION_\\\n-struct  sigaction  {' \\\n-  -e '1,$s/(void *(\\*)())/(void (*)(int))/' /tmp/$base > /tmp/$base.sed\n-  if cmp $file_to_fix /tmp/$base.sed >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base.sed ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base /tmp/$base.sed\n-fi\n-\n-# Fix declarations of `makedev', `major', and `minor' in <sys/mkdev.h>.\n-\n-file=sys/mkdev.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  cp $file_to_fix /tmp/$base\n-  chmod +w /tmp/$base\n-  sed -e '/^dev_t makedev(const/c\\\n-static dev_t makedev(const major_t, const minor_t);' \\\n-  -e '/^dev_t makedev()/c\\\n-static dev_t makedev();' \\\n-  -e '/^major_t major(const/c\\\n-static major_t major(const dev_t);' \\\n-  -e '/^major_t major()/c\\\n-static major_t major();' \\\n-  -e '/^minor_t minor(const/c\\\n-static minor_t minor(const dev_t);' \\\n-  -e '/^minor_t minor()/c\\\n-static minor_t minor();' /tmp/$base > /tmp/$base.sed\n-  if cmp $file_to_fix /tmp/$base.sed >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base.sed ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base /tmp/$base.sed\n-fi\n-\n-# Fix reference to NMSZ in <sys/adv.h>.\n-\n-file=sys/adv.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed 's/\\[NMSZ\\]/\\[RFS_NMSZ\\]/g' $file_to_fix > /tmp/$base\n-  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-# Fix reference to NC_NPI_RAW in <sys/netcspace.h>.  Also fix types of\n-# array initializers.\n-\n-file=sys/netcspace.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed 's/NC_NPI_RAW/NC_TPI_RAW/g' $file_to_fix \\\n-    | sed 's/NC_/(unsigned long) NC_/' > /tmp/$base\n-  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-# Conditionalize all of <fs/rfs/rf_cache.h> on _KERNEL being defined.\n-\n-file=fs/rfs/rf_cache.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  if grep _KERNEL $file_to_fix > /dev/null; then\n-    true\n-  else\n-    echo '#ifdef _KERNEL' > /tmp/$base\n-    cat $file_to_fix >> /tmp/$base\n-    echo '#endif /* defined(_KERNEL) */' >> /tmp/$base\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-    rm -f /tmp/$base\n-  fi\n-fi\n-\n-# Conditionalize all of <sys/erec.h> on _KERNEL being defined.\n-\n-file=sys/erec.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  if grep _KERNEL $file_to_fix > /dev/null; then\n-    true\n-  else\n-    echo '#ifdef _KERNEL' > /tmp/$base\n-    cat $file_to_fix >> /tmp/$base\n-    echo '#endif /* defined(_KERNEL) */' >> /tmp/$base\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-    rm -f /tmp/$base\n-  fi\n-fi\n-\n-# Conditionalize all of <sys/err.h> on _KERNEL being defined.\n-\n-file=sys/err.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  if grep _KERNEL $file_to_fix > /dev/null; then\n-    true\n-  else\n-    echo '#ifdef _KERNEL' > /tmp/$base\n-    cat $file_to_fix >> /tmp/$base\n-    echo '#endif /* defined(_KERNEL) */' >> /tmp/$base\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-    rm -f /tmp/$base\n-  fi\n-fi\n-\n-# Conditionalize all of <sys/char.h> on _KERNEL being defined.\n-\n-file=sys/char.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  if grep _KERNEL $file_to_fix > /dev/null; then\n-    true\n-  else\n-    echo '#ifdef _KERNEL' > /tmp/$base\n-    cat $file_to_fix >> /tmp/$base\n-    echo '#endif /* defined(_KERNEL) */' >> /tmp/$base\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-    rm -f /tmp/$base\n-  fi\n-fi\n-\n-# Conditionalize all of <sys/getpages.h> on _KERNEL being defined.\n-\n-file=sys/getpages.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  if grep _KERNEL $file_to_fix > /dev/null; then\n-    true\n-  else\n-    echo '#ifdef _KERNEL' > /tmp/$base\n-    cat $file_to_fix >> /tmp/$base\n-    echo '#endif /* defined(_KERNEL) */' >> /tmp/$base\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-    rm -f /tmp/$base\n-  fi\n-fi\n-\n-# Conditionalize all of <sys/map.h> on _KERNEL being defined.\n-\n-file=sys/map.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  if grep _KERNEL $file_to_fix > /dev/null; then\n-    true\n-  else\n-    echo '#ifdef _KERNEL' > /tmp/$base\n-    cat $file_to_fix >> /tmp/$base\n-    echo '#endif /* defined(_KERNEL) */' >> /tmp/$base\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-    rm -f /tmp/$base\n-  fi\n-fi\n-\n-# Conditionalize all of <sys/cmn_err.h> on _KERNEL being defined.\n-\n-file=sys/cmn_err.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  if grep _KERNEL $file_to_fix > /dev/null; then\n-    true\n-  else\n-    echo '#ifdef _KERNEL' > /tmp/$base\n-    cat $file_to_fix >> /tmp/$base\n-    echo '#endif /* defined(_KERNEL) */' >> /tmp/$base\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-    rm -f /tmp/$base\n-  fi\n-fi\n-\n-# Conditionalize all of <sys/kdebugger.h> on _KERNEL being defined.\n-\n-file=sys/kdebugger.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  if grep _KERNEL $file_to_fix > /dev/null; then\n-    true\n-  else\n-    echo '#ifdef _KERNEL' > /tmp/$base\n-    cat $file_to_fix >> /tmp/$base\n-    echo '#endif /* defined(_KERNEL) */' >> /tmp/$base\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-    rm -f /tmp/$base\n-  fi\n-fi\n-\n-# Conditionalize some of <netinet/in.h> on _KERNEL being defined.\n-# This has been taken out because it breaks on some versions of\n-# DYNIX/ptx, and it does not seem to do much good on any system.\n-# file=netinet/in.h\n-# base=`basename $file`\n-# if [ -r ${LIB}/$file ]; then\n-#   file_to_fix=${LIB}/$file\n-# else\n-#   if [ -r ${INPUT}/$file ]; then\n-#     file_to_fix=${INPUT}/$file\n-#   else\n-#     file_to_fix=\"\"\n-#   fi\n-# fi\n-# if [ \\! -z \"$file_to_fix\" ]; then\n-#   echo Checking $file_to_fix\n-#   if grep _KERNEL $file_to_fix > /dev/null; then\n-#     true\n-#   else\n-#     sed -e '/#ifdef INKERNEL/i\\\n-# #ifdef _KERNEL\n-# ' \\\n-#     -e '/#endif[ \t]*\\/\\* INKERNEL \\*\\//a\\\n-# #endif /* _KERNEL */\n-# ' \\\n-#     $file_to_fix > ${LIB}/${file}.sed\n-#     rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n-#     echo Fixed $file_to_fix\n-#   fi\n-# fi\n-\n-# Conditionalize some of <sys/endian.h> on __GNUC__ and __GNUG__.\n-\n-file=sys/endian.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  if grep __GNUC__ $file_to_fix > /dev/null; then\n-    true\n-  else\n-    sed -e '/#\tifdef\t__STDC__/i\\\n-#   if !defined (__GNUC__) && !defined (__GNUG__)\n-' \\\n-    -e '/#\t\tinclude\t<sys\\/byteorder.h>/s/\t\t/   /'\\\n-    -e '/#   include\t<sys\\/byteorder.h>/i\\\n-#   endif /* !defined (__GNUC__) && !defined (__GNUG__) */\n-'\\\n-    $file_to_fix > ${LIB}/${file}.sed\n-    rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n-    echo Fixed $file_to_fix\n-  fi\n-fi\n-\n-# Commented out because tmcconne@sedona.intel.com says we don't clearly need it\n-# and the text in types.h is not erroneous.\n-## In sys/types.h, don't name the enum for booleans.\n-#\n-#file=sys/types.h\n-#base=`basename $file`\n-#if [ -r ${LIB}/$file ]; then\n-#  file_to_fix=${LIB}/$file\n-#else\n-#  if [ -r ${INPUT}/$file ]; then\n-#    file_to_fix=${INPUT}/$file\n-#  else\n-#    file_to_fix=\"\"\n-#  fi\n-#fi\n-#if [ \\! -z \"$file_to_fix\" ]; then\n-#  echo Checking $file_to_fix\n-#  if grep \"enum boolean\" $file_to_fix > /dev/null; then\n-#    sed -e 's/enum boolean/enum/' ${LIB}/$file > ${LIB}/${file}.sed\n-#    rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n-#    echo Fixed $file_to_fix\n-#  else\n-#    true\n-#  fi\n-#fi\n-\n-# Remove useless extern keyword from struct forward declarations in\n-# <sys/stream.h> and <sys/strsubr.h>\n-\n-file=sys/stream.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed -e '\n-    s/extern struct stdata;/struct stdata;/g\n-    s/extern struct strevent;/struct strevent;/g\n-  ' $file_to_fix > /tmp/$base \n-  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-file=sys/strsubr.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed -e '\n-    s/extern struct strbuf;/struct strbuf;/g\n-    s/extern struct uio;/struct uio;/g\n-    s/extern struct thread;/struct thread;/g\n-    s/extern struct proc;/struct proc;/g\n-  ' $file_to_fix > /tmp/$base \n-  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-# Put storage class at start of decl, to avoid warning.\n-file=rpc/types.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed -e '\n-    s/const extern/extern const/g\n-  ' $file_to_fix > /tmp/$base \n-  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-# Convert functions to prototype form, and fix arg names in <sys/stat.h>.\n-\n-file=sys/stat.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  cp $file_to_fix /tmp/$base\n-  chmod +w /tmp/$base\n-  sed -e '/^stat([ \t]*[^c]/{\n-N\n-N\n-s/(.*)\\n/( /\n-s/;\\n/, /\n-s/;$/)/\n-}' \\\n-  -e '/^lstat([ \t]*[^c]/{\n-N\n-N\n-s/(.*)\\n/( /\n-s/;\\n/, /\n-s/;$/)/\n-}' \\\n-  -e '/^fstat([ \t]*[^i]/{\n-N\n-N\n-s/(.*)\\n/( /\n-s/;\\n/, /\n-s/;$/)/\n-}' \\\n-  -e '/^mknod([ \t]*[^c]/{\n-N\n-N\n-N\n-s/(.*)\\n/( /\n-s/;\\n/, /g\n-s/;$/)/\n-}' \\\n-  -e '1,$s/\\([^A-Za-z]\\)path\\([^A-Za-z]\\)/\\1__path\\2/g' \\\n-  -e '1,$s/\\([^A-Za-z]\\)buf\\([^A-Za-z]\\)/\\1__buf\\2/g' \\\n-  -e '1,$s/\\([^A-Za-z]\\)fd\\([^A-Za-z]\\)/\\1__fd\\2/g' \\\n-  -e '1,$s/ret\\([^u]\\)/__ret\\1/g' \\\n-  -e '1,$s/\\([^_]\\)mode\\([^_]\\)/\\1__mode\\2/g' \\\n-  -e '1,$s/\\([^_r]\\)dev\\([^_]\\)/\\1__dev\\2/g' /tmp/$base > /tmp/$base.sed\n-  if cmp $file_to_fix /tmp/$base.sed >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base.sed ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base /tmp/$base.sed\n-fi\n-\n-# Sony NEWSOS 5.0 does not support the complete ANSI C standard.\n-\n-if [ -x /bin/sony ]; then\n-  if /bin/sony; then\n-\n-    # Change <stdio.h> to not define __filbuf, __flsbuf, and __iob\n-\n-    file=stdio.h\n-    base=`basename $file`\n-    if [ -r ${LIB}/$file ]; then\n-      file_to_fix=${LIB}/$file\n-    else\n-      if [ -r ${INPUT}/$file ]; then\n-        file_to_fix=${INPUT}/$file\n-      else\n-        file_to_fix=\"\"\n-      fi\n-    fi\n-    if [ \\! -z \"$file_to_fix\" ]; then\n-      echo Checking $file_to_fix\n-      cp $file_to_fix /tmp/$base\n-      chmod +w /tmp/$base\n-      sed -e '\n-        s/__filbuf/_filbuf/g\n-        s/__flsbuf/_flsbuf/g\n-        s/__iob/_iob/g\n-      ' /tmp/$base > /tmp/$base.sed\n-      mv /tmp/$base.sed /tmp/$base\n-      if cmp $file_to_fix /tmp/$base.sed >/dev/null 2>&1; then\n-        true\n-      else\n-        echo Fixed $file_to_fix\n-        rm -f ${LIB}/$file\n-        cp /tmp/$base ${LIB}/$file\n-        chmod a+r ${LIB}/$file\n-      fi\n-      rm -f /tmp/$base\n-    fi\n-\n-    # Change <ctype.h> to not define __ctype\n-\n-    file=ctype.h\n-    base=`basename $file`\n-    if [ -r ${LIB}/$file ]; then\n-      file_to_fix=${LIB}/$file\n-    else\n-      if [ -r ${INPUT}/$file ]; then\n-        file_to_fix=${INPUT}/$file\n-      else\n-        file_to_fix=\"\"\n-      fi\n-    fi\n-    if [ \\! -z \"$file_to_fix\" ]; then\n-      echo Checking $file_to_fix\n-      cp $file_to_fix /tmp/$base\n-      chmod +w /tmp/$base\n-      sed -e '\n-        s/__ctype/_ctype/g\n-      ' /tmp/$base > /tmp/$base.sed\n-      mv /tmp/$base.sed /tmp/$base\n-      if cmp $file_to_fix /tmp/$base.sed >/dev/null 2>&1; then\n-        true\n-      else\n-        echo Fixed $file_to_fix\n-        rm -f ${LIB}/$file\n-        cp /tmp/$base ${LIB}/$file\n-        chmod a+r ${LIB}/$file\n-      fi\n-      rm -f /tmp/$base\n-    fi\n-  fi\n-fi\n-\n-# In limits.h, put #ifndefs around things that are supposed to be defined\n-# in float.h to avoid redefinition errors if float.h is included first.\n-# Solaris 2.1 has this problem.\n-\n-file=limits.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed -e '/[ \t]FLT_MIN[ \t]/i\\\n-#ifndef FLT_MIN\n-'\\\n-      -e '/[ \t]FLT_MIN[ \t]/a\\\n-#endif\n-'\\\n-      -e '/[ \t]FLT_MAX[ \t]/i\\\n-#ifndef FLT_MAX\n-'\\\n-      -e '/[ \t]FLT_MAX[ \t]/a\\\n-#endif\n-'\\\n-      -e '/[ \t]FLT_DIG[ \t]/i\\\n-#ifndef FLT_DIG\n-'\\\n-      -e '/[ \t]FLT_DIG[ \t]/a\\\n-#endif\n-'\\\n-      -e '/[ \t]DBL_MIN[ \t]/i\\\n-#ifndef DBL_MIN\n-'\\\n-      -e '/[ \t]DBL_MIN[ \t]/a\\\n-#endif\n-'\\\n-      -e '/[ \t]DBL_MAX[ \t]/i\\\n-#ifndef DBL_MAX\n-'\\\n-      -e '/[ \t]DBL_MAX[ \t]/a\\\n-#endif\n-'\\\n-      -e '/[ \t]DBL_DIG[ \t]/i\\\n-#ifndef DBL_DIG\n-'\\\n-      -e '/[ \t]DBL_DIG[ \t]/a\\\n-#endif\n-' $file_to_fix > /tmp/$base\n-  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-# Completely replace <sys/varargs.h> with a file that includes gcc's\n-# stdarg.h or varargs.h files as appropriate.\n-\n-file=sys/varargs.h\n-if [ -r ${INPUT}/$file ]; then\n-  echo Replacing $file\n-  cat > ${LIB}/$file << EOF\n-/* This file was generated by fixincludes.  */\n-#ifndef _SYS_VARARGS_H\n-#define _SYS_VARARGS_H\n-\n-#ifdef __STDC__\n-#include <stdarg.h>\n-#else\n-#include <varargs.h>\n-#endif\n-\n-#endif  /* _SYS_VARARGS_H */\n-EOF\n-  chmod a+r ${LIB}/$file\n-fi\n-\n-# In math.h, put #ifndefs around things that might be defined in a gcc\n-# specific math-*.h file.\n-\n-file=math.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed -e '/define[ \t]HUGE_VAL[ \t]/i\\\n-#ifndef HUGE_VAL\n-'\\\n-      -e '/define[ \t]HUGE_VAL[ \t]/a\\\n-#endif\n-' $file_to_fix > /tmp/$base\n-  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-# Solaris math.h and floatingpoint.h define __P without protection,\n-# which conflicts with the fixproto definition.  The fixproto\n-# definition and the Solaris definition are used the same way.\n-for file in math.h floatingpoint.h; do\n-  base=`basename $file`\n-  if [ -r ${LIB}/$file ]; then\n-    file_to_fix=${LIB}/$file\n-  else\n-    if [ -r ${INPUT}/$file ]; then\n-      file_to_fix=${INPUT}/$file\n-    else\n-      file_to_fix=\"\"\n-    fi\n-  fi\n-  if [ \\! -z \"$file_to_fix\" ]; then\n-    echo Checking $file_to_fix\n-    sed -e '/^#define[ \t]*__P/i\\\n-#ifndef __P\n-'\\\n-        -e '/^#define[ \t]*__P/a\\\n-#endif\n-' $file_to_fix > /tmp/$base\n-    if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n-      true\n-    else\n-      echo Fixed $file_to_fix\n-      rm -f ${LIB}/$file\n-      cp /tmp/$base ${LIB}/$file\n-      chmod a+r ${LIB}/$file\n-    fi\n-   rm -f /tmp/$base\n-  fi\n-done\n-\n-# The Solaris math.h defines struct exception, which conflicts with\n-# the class exception defined in the C++ file std/stdexcept.h.  We\n-# redefine it to __math_exception.  This is not a great fix, but I\n-# haven't been able to think of anything better.\n-file=math.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed -e '/struct exception/i\\\n-#ifdef __cplusplus\\\n-#define exception __math_exception\\\n-#endif'\\\n-      -e '/struct exception/a\\\n-#ifdef __cplusplus\\\n-#undef exception\\\n-#endif' $file_to_fix > /tmp/$base\n-  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-# Similarly for struct queue in sys/stream.h.\n-file=sys/stream.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed -e '/struct[ \t]*queue/i\\\n-#ifdef __cplusplus\\\n-#define queue __stream_queue\\\n-#endif'\\\n-      -e '/struct[ \t]*queue/a\\\n-#ifdef __cplusplus\\\n-#undef queue\\\n-#endif' $file_to_fix > /tmp/$base\n-  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    mkdir -p $LIB/`dirname $file`\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-echo 'Removing unneeded directories:'\n-cd $LIB\n-files=`find . -type d -print | sort -r`\n-for file in $files; do\n-  rmdir $LIB/$file > /dev/null 2>&1\n-done\n-\n-if $LINKS; then\n-  echo 'Making internal symbolic non-directory links'\n-  cd ${INPUT}\n-  files=`find . -type l -print`\n-  for file in $files; do\n-    dest=`ls -ld $file | sed -n 's/.*-> //p'`\n-    if expr \"$dest\" : '[^/].*' > /dev/null; then    \n-      target=${LIB}/`echo $file | sed \"s|[^/]*\\$|$dest|\"`\n-      if [ -f $target ]; then\n-        ln -s $dest ${LIB}/$file >/dev/null 2>&1\n-      fi\n-    fi\n-  done\n-fi\n-\n-cd ${ORIG_DIR}\n-\n-echo 'Replacing <sys/byteorder.h>'\n-if [ \\! -d $LIB/sys ]; then\n-  mkdir $LIB/sys\n-fi\n-rm -f ${LIB}/sys/byteorder.h\n-cat <<'__EOF__' >${LIB}/sys/byteorder.h\n-#ifndef _SYS_BYTEORDER_H\n-#define _SYS_BYTEORDER_H\n-\n-/* Functions to convert `short' and `long' quantities from host byte order\n-   to (internet) network byte order (i.e. big-endian).\n-\n-   Written by Ron Guilmette (rfg@ncd.com).\n-\n-   This isn't actually used by GCC.  It is installed by fixinc.svr4.\n-\n-   For big-endian machines these functions are essentially no-ops.\n-\n-   For little-endian machines, we define the functions using specialized\n-   asm sequences in cases where doing so yields better code (e.g. i386).  */\n-\n-#if !defined (__GNUC__) && !defined (__GNUG__)\n-#error You lose!  This file is only useful with GNU compilers.\n-#endif\n-\n-#ifndef __BYTE_ORDER__\n-/* Byte order defines.  These are as defined on UnixWare 1.1, but with\n-   double underscores added at the front and back.  */\n-#define __LITTLE_ENDIAN__   1234\n-#define __BIG_ENDIAN__      4321\n-#define __PDP_ENDIAN__      3412\n-#endif\n-\n-#ifdef __STDC__\n-static __inline__ unsigned long htonl (unsigned long);\n-static __inline__ unsigned short htons (unsigned int);\n-static __inline__ unsigned long ntohl (unsigned long);\n-static __inline__ unsigned short ntohs (unsigned int);\n-#endif /* defined (__STDC__) */\n-\n-#if defined (__i386__)\n-\n-#ifndef __BYTE_ORDER__\n-#define __BYTE_ORDER__ __LITTLE_ENDIAN__\n-#endif\n-\n-/* Convert a host long to a network long.  */\n-\n-/* We must use a new-style function definition, so that this will also\n-   be valid for C++.  */\n-static __inline__ unsigned long\n-htonl (unsigned long __arg)\n-{\n-  register unsigned long __result;\n-\n-  __asm__ (\"xchg%B0 %b0,%h0\\n\\\n-\tror%L0 $16,%0\\n\\\n-\txchg%B0 %b0,%h0\" : \"=q\" (__result) : \"0\" (__arg));\n-  return __result;\n-}\n-\n-/* Convert a host short to a network short.  */\n-\n-static __inline__ unsigned short\n-htons (unsigned int __arg)\n-{\n-  register unsigned short __result;\n-\n-  __asm__ (\"xchg%B0 %b0,%h0\" : \"=q\" (__result) : \"0\" (__arg));\n-  return __result;\n-}\n-\n-#elif ((defined (__i860__) && !defined (__i860_big_endian__))\t\\\n-       || defined (__ns32k__) || defined (__vax__)\t\t\\\n-       || defined (__spur__) || defined (__arm__))\n-\n-#ifndef __BYTE_ORDER__\n-#define __BYTE_ORDER__ __LITTLE_ENDIAN__\n-#endif\n-\n-/* For other little-endian machines, using C code is just as efficient as\n-   using assembly code.  */\n-\n-/* Convert a host long to a network long.  */\n-\n-static __inline__ unsigned long\n-htonl (unsigned long __arg)\n-{\n-  register unsigned long __result;\n-\n-  __result = (__arg >> 24) & 0x000000ff;\n-  __result |= (__arg >> 8) & 0x0000ff00;\n-  __result |= (__arg << 8) & 0x00ff0000;\n-  __result |= (__arg << 24) & 0xff000000;\n-  return __result;\n-}\n-\n-/* Convert a host short to a network short.  */\n-\n-static __inline__ unsigned short\n-htons (unsigned int __arg)\n-{\n-  register unsigned short __result;\n-\n-  __result = (__arg << 8) & 0xff00;\n-  __result |= (__arg >> 8) & 0x00ff;\n-  return __result;\n-}\n-\n-#else /* must be a big-endian machine */\n-\n-#ifndef __BYTE_ORDER__\n-#define __BYTE_ORDER__ __BIG_ENDIAN__\n-#endif\n-\n-/* Convert a host long to a network long.  */\n-\n-static __inline__ unsigned long\n-htonl (unsigned long __arg)\n-{\n-  return __arg;\n-}\n-\n-/* Convert a host short to a network short.  */\n-\n-static __inline__ unsigned short\n-htons (unsigned int __arg)\n-{\n-  return __arg;\n-}\n-\n-#endif /* big-endian */\n-\n-/* Convert a network long to a host long.  */\n-\n-static __inline__ unsigned long\n-ntohl (unsigned long __arg)\n-{\n-  return htonl (__arg);\n-}\n-\n-/* Convert a network short to a host short.  */\n-\n-static __inline__ unsigned short\n-ntohs (unsigned int __arg)\n-{\n-  return htons (__arg);\n-}\n-\n-__EOF__\n-\n-if [ -r ${INPUT}/sys/byteorder.h ]; then\n-  if grep BYTE_ORDER ${INPUT}/sys/byteorder.h >/dev/null 2>/dev/null; then\n-    cat <<'__EOF__' >>${LIB}/sys/byteorder.h\n-#ifndef BYTE_ORDER\n-#define LITTLE_ENDIAN __LITTLE_ENDIAN__\n-#define BIG_ENDIAN __BIG_ENDIAN__\n-#define PDP_ENDIAN __PDP_ENDIAN__\n-#define BYTE_ORDER __BYTE_ORDER__\n-#endif\n-\n-__EOF__\n-  fi\n-fi\n-\n-cat <<'__EOF__' >>${LIB}/sys/byteorder.h\n-#endif /* !defined (_SYS_BYTEORDER_H) */\n-__EOF__\n-\n-chmod a+r ${LIB}/sys/byteorder.h\n-\n-exit 0\n-"}, {"sha": "915ac723b85e386db4665a71b9b34e8edcce2189", "filename": "gcc/fixinc.winnt", "status": "removed", "additions": 0, "deletions": 232, "changes": 232, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5aa82acea46b3bc7da45485b212c680d1eef9925/gcc%2Ffixinc.winnt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5aa82acea46b3bc7da45485b212c680d1eef9925/gcc%2Ffixinc.winnt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc.winnt?ref=5aa82acea46b3bc7da45485b212c680d1eef9925", "patch": "@@ -1,232 +0,0 @@\n-#! sh\n-#\n-#   fixinc.winnt  --  Install modified versions of Windows NT system include\n-#   files.\n-#\n-#   Based on fixinc.sco script by Ian Lance Taylor (ian@airs.com)).\n-#   Modifications by Douglas Rupp (drupp@cs.washington.edu)\n-#\n-# This file is part of GNU CC.\n-# \n-# GNU CC is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-# \n-# GNU CC is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-# \n-# You should have received a copy of the GNU General Public License\n-# along with GNU CC; see the file COPYING.  If not, write to\n-# the Free Software Foundation, 59 Temple Place - Suite 330,\n-# Boston, MA 02111-1307, USA.\n-#\n-#\tThis script munges the native include files provided with Windows NT\n-#\t3.5 SDK systems so as to provide a reasonable namespace when\n-#\tcompiling with gcc.  The header files by default do not\n-#\tprovide many essential definitions and declarations if\n-#\t__STDC__ is 1.  This script modifies the header files to check\n-#\tfor __STRICT_ANSI__ being defined instead.  Once munged, the\n-#\tresulting new system include files are placed in a directory\n-#\tthat GNU C will search *before* searching the Include\n-#\tdirectory.\n-#\n-#\tSee README-fixinc for more information.\n-\n-ORIG_DIR=`pwd`\n-\n-# Directory containing the original header files.\n-cd $2; SEDFILE=`${PWDCMD-pwd}`/fixinc-nt.sed\n-echo $SEDFILE\n-if [ ! -f $SEDFILE ]\n-then echo fixincludes: sed script 'fixinc-nt.sed' not found\n-exit 1\n-fi\n-echo 'Using sed script: ' ${SEDFILE}\n-\n-cd $ORIG_DIR\n-\n-INPUT=${INCLUDE}\n-echo 'Using the Include environment variable to find header files to fix'\n-\n-# Fail if no arg to specify a directory for the output.\n-if [ x$1 = x ]\n-then echo fixincludes: no output directory specified\n-exit 1\n-fi\n-\n-# Directory in which to store the results.\n-LIB=${1?\"fixincludes: output directory not specified\"}\n-\n-# Make sure it exists.\n-if [ ! -d $LIB ]; then\n-  mkdir $LIB || exit 1\n-fi\n-\n-ORIG_DIR=`pwd`\n-\n-# Make LIB absolute if it is relative.\n-# Don't do this if not necessary, since may screw up automounters.\n-case $LIB in\n-/*)\n-\t;;\n-*)\n-\tcd $LIB; LIB=`${PWDCMD-pwd}`\n-\t;;\n-esac\n-\n-echo 'Building fixincludes in ' ${LIB}\n-\n-# Determine whether this filesystem has symbolic links.\n-if ln -s X $LIB/ShouldNotExist 2>NUL; then\n-  rm -f $LIB/ShouldNotExist\n-  LINKS=true\n-else\n-  LINKS=false\n-fi\n-\n-echo 'Making directories:'\n-cd ${INPUT}\n-if $LINKS; then\n-  files=`ls -LR | sed -n s/:$//p`\n-else\n-  files=`find . -type d -print | sed '/^.$/d'`\n-fi\n-for file in $files; do\n-  rm -rf $LIB/$file\n-  if [ ! -d $LIB/$file ]\n-  then mkdir $LIB/$file\n-  fi\n-done\n-\n-# treetops gets an alternating list\n-# of old directories to copy\n-# and the new directories to copy to.\n-treetops=\"${INPUT} ${LIB}\"\n-\n-set - $treetops\n-while [ $# != 0 ]; do\n-  # $1 is an old directory to copy, and $2 is the new directory to copy to.\n-  echo \"Finding header files in $1:\"\n-  cd ${INPUT}\n-  cd $1\n-  files=`find . -name '*.[hH]' -type f -print`\n-  echo 'Checking header files:'\n-  for file in $files; do\n-    echo $file\n-    if egrep \"!__STDC__\" $file >NUL; then\n-      if [ -r $file ]; then\n-\tcp $file $2/$file >NUL 2>&1 || echo \"Can't copy $file\"\n-\tchmod +w,a+r $2/$file\n-\n-# The following have been removed from the sed command below\n-# because it is more useful to leave these things in.\n-# The only reason to remove them was for -pedantic,\n-# which isn't much of a reason. -- rms.\n-#\t  /^[ \t]*#[ \t]*ident/d\n-\n-\tsed -e '\n-\t  s/!__STDC__/!defined (__STRICT_ANSI__)/g\n-\t' $2/$file > $2/$file.sed\n-\tmv $2/$file.sed $2/$file\n-\tif cmp $file $2/$file >NUL 2>&1; then\n-\t   rm $2/$file\n-\telse\n-\t   echo Fixed $file\n-\tfi\n-      fi\n-    fi\n-  done\n-  shift; shift\n-done\n-\n-# Fix first broken decl of getcwd present on some svr4 systems.\n-\n-file=direct.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed -e 's/getcwd(char \\*, int)/getcwd(char *, size_t)/' $file_to_fix > /tmp/$base\n-  if cmp $file_to_fix /tmp/$base >NUL 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-file=rpcndr.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed -e 's/Format\\[\\]/Format\\[1\\]/' $file_to_fix > /tmp/$base\n-  if cmp $file_to_fix /tmp/$base >NUL 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-file=winnt.h\n-base=`basename $file`\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed -e '\n-    s/^#if !defined (__cplusplus)/#if 0/\n-    s/^#define DECLSPEC_IMPORT __declspec(dllimport)/#define DECLSPEC_IMPORT/\n-  ' $file_to_fix > /tmp/$base\n-  if cmp $file_to_fix /tmp/$base >NUL 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-echo 'Removing unneeded directories:'\n-cd $LIB\n-files=`find . -type d -print | sort -r`\n-for file in $files; do\n-  rmdir $LIB/$file > NUL 2>&1\n-done\n-\n-exit 0"}, {"sha": "bb783f95589d3e74f9af85071e0b8bf1d2cb9a12", "filename": "gcc/fixinc.wrap", "status": "removed", "additions": 0, "deletions": 115, "changes": 115, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5aa82acea46b3bc7da45485b212c680d1eef9925/gcc%2Ffixinc.wrap", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5aa82acea46b3bc7da45485b212c680d1eef9925/gcc%2Ffixinc.wrap", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc.wrap?ref=5aa82acea46b3bc7da45485b212c680d1eef9925", "patch": "@@ -1,115 +0,0 @@\n-#! /bin/sh\n-# Create wrappers for include files instead of replacing them.\n-#\n-# This script is designed for systems whose include files can be fixed\n-# by creating small wrappers around them.\n-# An advantage of this method is that if the system include files are changed\n-# (e.g. by OS upgrade), you need not re-run fixincludes.\n-#\n-# See README-fixinc for more information.\n-\n-# Directory containing the original header files.\n-# (This was named INCLUDES, but that conflicts with a name in Makefile.in.)\n-INPUT=${2-${INPUT-/usr/include}}\n-\n-# Directory in which to store the results.\n-LIB=${1?\"fixincludes: output directory not specified\"}\n-\n-# Make sure it exists.\n-if [ ! -d $LIB ]; then\n-  mkdir $LIB || exit 1\n-fi\n-\n-echo Building fixed headers in ${LIB}\n-\n-# Some math.h files define struct exception, which conflicts with\n-# the class exception defined in the C++ file std/stdexcept.h.  We\n-# redefine it to __math_exception.  This is not a great fix, but I\n-# haven't been able to think of anything better.\n-file=math.h\n-if [ -r $INPUT/$file ]; then\n-  echo Checking $INPUT/$file\n-  if grep 'struct exception' $INPUT/$file >/dev/null\n-  then\n-    echo Fixed $file\n-    rm -f $LIB/$file\n-    cat <<'__EOF__' >$LIB/$file\n-#ifndef _MATH_H_WRAPPER\n-#ifdef __cplusplus\n-# define exception __math_exception\n-#endif\n-#include_next <math.h>\n-#ifdef __cplusplus\n-# undef exception\n-#endif\n-#define _MATH_H_WRAPPER\n-#endif /* _MATH_H_WRAPPER */\n-__EOF__\n-    # Define _MATH_H_WRAPPER at the end of the wrapper, not the start,\n-    # so that if #include_next gets another instance of the wrapper,\n-    # this will follow the #include_next chain until we arrive at\n-    # the real <math.h>.\n-    chmod a+r $LIB/$file\n-  fi\n-fi\n-\n-# Similarly for struct queue in sys/stream.h.\n-file=sys/stream.h\n-if [ -r $INPUT/$file ]; then\n-  echo Checking $INPUT/$file\n-  if grep 'struct[ \t]*queue' $INPUT/$file >/dev/null\n-  then\n-    echo Fixed $file\n-    mkdir -p $LIB/`dirname $file`\n-    rm -f $LIB/$file\n-    cat <<'__EOF__' >$LIB/$file\n-#ifndef _SYS_STREAM_H_WRAPPER\n-#ifdef __cplusplus\n-# define queue __stream_queue\n-#endif\n-#include_next <sys/stream.h>\n-#ifdef __cplusplus\n-# undef queue\n-#endif\n-#define _SYS_STREAM_H_WRAPPER\n-#endif /* _SYS_STREAM_H_WRAPPER */\n-__EOF__\n-    # Define _SYS_STREAM_H_WRAPPER at the end of the wrapper, not the start,\n-    # so that if #include_next gets another instance of the wrapper,\n-    # this will follow the #include_next chain until we arrive at\n-    # the real <sys/stream.h>.\n-    chmod a+r $LIB/$file\n-  fi\n-fi\n-\n-# Avoid the definition of the bool type in the Solaris 2.x curses.h when using\n-# g++, since it's now an official type in the C++ language.\n-file=curses.h\n-if [ -r $INPUT/$file ]; then\n-  echo Checking $INPUT/$file\n-  w='[\t ]'\n-  if grep \"typedef$w$w*char$w$w*bool$w*;\" $INPUT/$file >/dev/null\n-  then\n-    echo Fixed $file\n-    rm -f $LIB/$file\n-    cat <<'__EOF__' >$LIB/$file\n-#ifndef _CURSES_H_WRAPPER\n-#ifdef __cplusplus\n-# define bool __curses_bool_t\n-#endif\n-#include_next <curses.h>\n-#ifdef __cplusplus\n-# undef bool\n-#endif\n-#define _CURSES_H_WRAPPER\n-#endif /* _CURSES_H_WRAPPER */\n-__EOF__\n-    # Define _CURSES_H_WRAPPER at the end of the wrapper, not the start,\n-    # so that if #include_next gets another instance of the wrapper,\n-    # this will follow the #include_next chain until we arrive at\n-    # the real <curses.h>.\n-    chmod a+r $LIB/$file\n-  fi\n-fi\n-\n-exit 0"}]}