{"sha": "aea3d681ec784b1a44ee3b37b0df2b71bdfadfc3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWVhM2Q2ODFlYzc4NGIxYTQ0ZWUzYjM3YjBkZjJiNzFiZGZhZGZjMw==", "commit": {"author": {"name": "DJ Delorie", "email": "dj@redhat.com", "date": "2014-08-29T23:19:42Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2014-08-29T23:19:42Z"}, "message": "expr.c (convert_move): If the target has an explicit converter, use it.\n\n* expr.c (convert_move): If the target has an explicit converter,\nuse it.\n\nFrom-SVN: r214747", "tree": {"sha": "7f070b263210ec5bbead0e3597a0bb150827c542", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7f070b263210ec5bbead0e3597a0bb150827c542"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aea3d681ec784b1a44ee3b37b0df2b71bdfadfc3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aea3d681ec784b1a44ee3b37b0df2b71bdfadfc3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aea3d681ec784b1a44ee3b37b0df2b71bdfadfc3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aea3d681ec784b1a44ee3b37b0df2b71bdfadfc3/comments", "author": null, "committer": null, "parents": [{"sha": "4c90724737ae14a9d11e6713ea50ad7409cdc8fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c90724737ae14a9d11e6713ea50ad7409cdc8fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c90724737ae14a9d11e6713ea50ad7409cdc8fe"}], "stats": {"total": 25, "additions": 25, "deletions": 0}, "files": [{"sha": "04dda801ede724a8c2f112ea569d86a01ce68a9a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aea3d681ec784b1a44ee3b37b0df2b71bdfadfc3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aea3d681ec784b1a44ee3b37b0df2b71bdfadfc3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=aea3d681ec784b1a44ee3b37b0df2b71bdfadfc3", "patch": "@@ -1,3 +1,8 @@\n+2014-08-29  DJ Delorie  <dj@redhat.com>\n+\n+\t* expr.c (convert_move): If the target has an explicit converter,\n+\tuse it.\n+\n 2014-08-29  David Malcolm  <dmalcolm@redhat.com>\n \n \t* gdbinit.in: Skip various inline functions in rtl.h when"}, {"sha": "e7a7c16a0cb0f754e819935feda05ed5c09b363d", "filename": "gcc/expr.c", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aea3d681ec784b1a44ee3b37b0df2b71bdfadfc3/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aea3d681ec784b1a44ee3b37b0df2b71bdfadfc3/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=aea3d681ec784b1a44ee3b37b0df2b71bdfadfc3", "patch": "@@ -410,6 +410,26 @@ convert_move (rtx to, rtx from, int unsignedp)\n     }\n \n   /* Handle pointer conversion.  */\t\t\t/* SPEE 900220.  */\n+  /* If the target has a converter from FROM_MODE to TO_MODE, use it.  */\n+  {\n+    convert_optab ctab;\n+\n+    if (GET_MODE_PRECISION (from_mode) > GET_MODE_PRECISION (to_mode))\n+      ctab = trunc_optab;\n+    else if (unsignedp)\n+      ctab = zext_optab;\n+    else\n+      ctab = sext_optab;\n+\n+    if (convert_optab_handler (ctab, to_mode, from_mode)\n+\t!= CODE_FOR_nothing)\n+      {\n+\temit_unop_insn (convert_optab_handler (ctab, to_mode, from_mode),\n+\t\t\tto, from, UNKNOWN);\n+\treturn;\n+      }\n+  }\n+\n   /* Targets are expected to provide conversion insns between PxImode and\n      xImode for all MODE_PARTIAL_INT modes they use, but no others.  */\n   if (GET_MODE_CLASS (to_mode) == MODE_PARTIAL_INT)"}]}