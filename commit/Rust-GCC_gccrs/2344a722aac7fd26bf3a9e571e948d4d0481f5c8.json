{"sha": "2344a722aac7fd26bf3a9e571e948d4d0481f5c8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjM0NGE3MjJhYWM3ZmQyNmJmM2E5ZTU3MWU5NDhkNGQwNDgxZjVjOA==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2003-10-15T23:10:20Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2003-10-15T23:10:20Z"}, "message": "problem that current decl duplication mechanizm > > /* If we didn't remap this variable...\n\n\nproblem that current decl duplication mechanizm\n>\n>         /* If we didn't remap this variable, so we can't mess with its\n>   \t TREE_CHAIN.  If we remapped this variable to the return slot, it's\n\nFrom-SVN: r72539", "tree": {"sha": "04ed348bcae4f331a1f5a8d92977102e9d45447f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/04ed348bcae4f331a1f5a8d92977102e9d45447f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2344a722aac7fd26bf3a9e571e948d4d0481f5c8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2344a722aac7fd26bf3a9e571e948d4d0481f5c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2344a722aac7fd26bf3a9e571e948d4d0481f5c8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2344a722aac7fd26bf3a9e571e948d4d0481f5c8/comments", "author": null, "committer": null, "parents": [{"sha": "a352244f955f968ec67ebe3f1278d24158a3682b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a352244f955f968ec67ebe3f1278d24158a3682b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a352244f955f968ec67ebe3f1278d24158a3682b"}], "stats": {"total": 30, "additions": 20, "deletions": 10}, "files": [{"sha": "81730210bdaacac546e26cbc5dce3a1d354aa621", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2344a722aac7fd26bf3a9e571e948d4d0481f5c8/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2344a722aac7fd26bf3a9e571e948d4d0481f5c8/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=2344a722aac7fd26bf3a9e571e948d4d0481f5c8", "patch": "@@ -1,3 +1,8 @@\n+2003-10-15  Jan Hubicka  <jh@suse.cz>\n+\n+\tpr c++/12574\n+        * decl2.c (cxx_callgraph_analyze_expr): deal with baselink.\n+\n 2003-10-14  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/11878"}, {"sha": "85845fcb2eea16e2d6714f7c40d8f0ceb75041c7", "filename": "gcc/cp/decl2.c", "status": "modified", "additions": 15, "deletions": 10, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2344a722aac7fd26bf3a9e571e948d4d0481f5c8/gcc%2Fcp%2Fdecl2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2344a722aac7fd26bf3a9e571e948d4d0481f5c8/gcc%2Fcp%2Fdecl2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl2.c?ref=2344a722aac7fd26bf3a9e571e948d4d0481f5c8", "patch": "@@ -2515,16 +2515,21 @@ cxx_callgraph_analyze_expr (tree *tp, int *walk_subtrees ATTRIBUTE_UNUSED,\n {\n   tree t = *tp;\n \n-  switch (TREE_CODE (t))\n-    {\n-    case PTRMEM_CST:\n-      if (TYPE_PTRMEMFUNC_P (TREE_TYPE (t)))\n-\tcgraph_mark_needed_node (cgraph_node (PTRMEM_CST_MEMBER (t)));\n-      break;\n-\n-    default:\n-      break;\n-    }\n+  if (flag_unit_at_a_time)\n+    switch (TREE_CODE (t))\n+      {\n+      case PTRMEM_CST:\n+\tif (TYPE_PTRMEMFUNC_P (TREE_TYPE (t)))\n+\t  cgraph_mark_needed_node (cgraph_node (PTRMEM_CST_MEMBER (t)));\n+\tbreak;\n+      case BASELINK:\n+\tif (TREE_CODE (BASELINK_FUNCTIONS (t)) == FUNCTION_DECL)\n+\t  cgraph_mark_needed_node (cgraph_node (BASELINK_FUNCTIONS (t)));\n+\tbreak;\n+\n+      default:\n+\tbreak;\n+      }\n \n   return NULL;\n }"}]}