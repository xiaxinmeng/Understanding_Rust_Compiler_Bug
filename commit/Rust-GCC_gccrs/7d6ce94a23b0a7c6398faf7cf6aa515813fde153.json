{"sha": "7d6ce94a23b0a7c6398faf7cf6aa515813fde153", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2Q2Y2U5NGEyM2IwYTdjNjM5OGZhZjdjZjZhYTUxNTgxM2ZkZTE1Mw==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2009-11-04T15:47:00Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2009-11-04T15:47:00Z"}, "message": "re PR driver/11810 (gcc -pipe -ox.o -c x.c  writes erroneous x.o on compile error)\n\n\tPR driver/11810\n\t* gcc.c (SWITCHES_NEED_SPACES): Define to \"o\".\n\t* config/alpha/osf.h (SWITCHES_NEED_SPACES): Remove here.\n\t* config/mips/iris.h (SWITCHES_NEED_SPACES): Remove here.\n\nFrom-SVN: r153900", "tree": {"sha": "d5f60b19d9114f3dc2d743b3cbee84d72a48ad9a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d5f60b19d9114f3dc2d743b3cbee84d72a48ad9a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7d6ce94a23b0a7c6398faf7cf6aa515813fde153", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d6ce94a23b0a7c6398faf7cf6aa515813fde153", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7d6ce94a23b0a7c6398faf7cf6aa515813fde153", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d6ce94a23b0a7c6398faf7cf6aa515813fde153/comments", "author": null, "committer": null, "parents": [{"sha": "1cddcdcac5828432683a159f43534e09606688f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1cddcdcac5828432683a159f43534e09606688f4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1cddcdcac5828432683a159f43534e09606688f4"}], "stats": {"total": 24, "additions": 15, "deletions": 9}, "files": [{"sha": "b9735effd26e475a21063cd07f283326d1089fa6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d6ce94a23b0a7c6398faf7cf6aa515813fde153/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d6ce94a23b0a7c6398faf7cf6aa515813fde153/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7d6ce94a23b0a7c6398faf7cf6aa515813fde153", "patch": "@@ -1,3 +1,10 @@\n+2009-11-03  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR driver/11810\n+\t* gcc.c (SWITCHES_NEED_SPACES): Define to \"o\".\n+\t* config/alpha/osf.h (SWITCHES_NEED_SPACES): Remove here.\n+\t* config/mips/iris.h (SWITCHES_NEED_SPACES): Remove here.\n+\n 2009-11-04  Richard Earnshaw  <rearnsha@arm.com>\n \n \tPR target/40835"}, {"sha": "81c12aa14fcc9e988dfe790fea04ee3d2c9c9f9b", "filename": "gcc/config/alpha/osf.h", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d6ce94a23b0a7c6398faf7cf6aa515813fde153/gcc%2Fconfig%2Falpha%2Fosf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d6ce94a23b0a7c6398faf7cf6aa515813fde153/gcc%2Fconfig%2Falpha%2Fosf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Fosf.h?ref=7d6ce94a23b0a7c6398faf7cf6aa515813fde153", "patch": "@@ -167,10 +167,6 @@ __enable_execute_stack (void *addr)\t\t\t\t\t\\\n #define LD_INIT_SWITCH \"-init\"\n #define LD_FINI_SWITCH \"-fini\"\n \n-/* The linker needs a space after \"-o\".  This allows -oldstyle_liblookup to\n-   be passed to ld.  */\n-#define SWITCHES_NEED_SPACES \"o\"\n-\n /* Select a format to encode pointers in exception handling data.  CODE\n    is 0 for data, 1 for code labels, 2 for function pointers.  GLOBAL is\n    true if the symbol may be affected by dynamic relocations."}, {"sha": "373691ee6e122f8a56fc6011be085f402d6db6ce", "filename": "gcc/config/mips/iris.h", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d6ce94a23b0a7c6398faf7cf6aa515813fde153/gcc%2Fconfig%2Fmips%2Firis.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d6ce94a23b0a7c6398faf7cf6aa515813fde153/gcc%2Fconfig%2Fmips%2Firis.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Firis.h?ref=7d6ce94a23b0a7c6398faf7cf6aa515813fde153", "patch": "@@ -63,9 +63,6 @@ along with GCC; see the file COPYING3.  If not see\n #undef ASM_FINISH_DECLARE_OBJECT\n #define ASM_FINISH_DECLARE_OBJECT mips_finish_declare_object\n \n-/* The linker needs a space after \"-o\".  */\n-#define SWITCHES_NEED_SPACES \"o\"\n-\n /* Specify wchar_t types.  */\n #undef WCHAR_TYPE\n #define WCHAR_TYPE (Pmode == DImode ? \"int\" : \"long int\")"}, {"sha": "0f74dd0797048affebf39b3452be5e370c22d7bf", "filename": "gcc/gcc.c", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d6ce94a23b0a7c6398faf7cf6aa515813fde153/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d6ce94a23b0a7c6398faf7cf6aa515813fde153/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=7d6ce94a23b0a7c6398faf7cf6aa515813fde153", "patch": "@@ -684,9 +684,15 @@ proper position among the other output files.  */\n #endif\n \n /* config.h can define SWITCHES_NEED_SPACES to control which options\n-   require spaces between the option and the argument.  */\n+   require spaces between the option and the argument.\n+\n+   We define SWITCHES_NEED_SPACES to include \"o\" by default.  This\n+   causes \"-ofoo.o\" to be split into \"-o foo.o\" during the initial\n+   processing of the command-line, before being seen by the specs\n+   machinery.  This makes sure we record \"foo.o\" as the temporary file\n+   to be deleted in the case of error, rather than \"-ofoo.o\".  */\n #ifndef SWITCHES_NEED_SPACES\n-#define SWITCHES_NEED_SPACES \"\"\n+#define SWITCHES_NEED_SPACES \"o\"\n #endif\n \n /* config.h can define ENDFILE_SPEC to override the default crtn files.  */"}]}