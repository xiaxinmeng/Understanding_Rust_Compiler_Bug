{"sha": "2defb110db56604247474b3dea21ebdd22a62ff0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmRlZmIxMTBkYjU2NjA0MjQ3NDc0YjNkZWEyMWViZGQyMmE2MmZmMA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2012-03-28T21:59:23Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2012-03-28T21:59:23Z"}, "message": "* tree.c (tree_size) <VECTOR_CST>: New case.\n\nFrom-SVN: r185930", "tree": {"sha": "abd02fca19d088aec09811c320303539478f9c12", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/abd02fca19d088aec09811c320303539478f9c12"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2defb110db56604247474b3dea21ebdd22a62ff0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2defb110db56604247474b3dea21ebdd22a62ff0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2defb110db56604247474b3dea21ebdd22a62ff0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2defb110db56604247474b3dea21ebdd22a62ff0/comments", "author": null, "committer": null, "parents": [{"sha": "552ab9772fb2bb59f2e3d3706f2cd304e95c8741", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/552ab9772fb2bb59f2e3d3706f2cd304e95c8741", "html_url": "https://github.com/Rust-GCC/gccrs/commit/552ab9772fb2bb59f2e3d3706f2cd304e95c8741"}], "stats": {"total": 47, "additions": 47, "deletions": 0}, "files": [{"sha": "55fc1e43ac23ad0fb02aea373482c0b5077e7ada", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2defb110db56604247474b3dea21ebdd22a62ff0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2defb110db56604247474b3dea21ebdd22a62ff0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2defb110db56604247474b3dea21ebdd22a62ff0", "patch": "@@ -1,3 +1,7 @@\n+2012-03-28  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* tree.c (tree_size) <VECTOR_CST>: New case.\n+\n 2012-03-28  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* config/i386/i386.c (ix86_modes_tieable_p): Handle 32bit AVX modes."}, {"sha": "b16a490b58ca6dbb7b708c41427e1f194de06787", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2defb110db56604247474b3dea21ebdd22a62ff0/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2defb110db56604247474b3dea21ebdd22a62ff0/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2defb110db56604247474b3dea21ebdd22a62ff0", "patch": "@@ -1,3 +1,7 @@\n+2012-03-28  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gnat.dg/vect7.ad[sb]: New test.\n+\n 2012-03-28  Paul Thomas  <pault@gcc.gnu.org>\n \tTobias Burnus  <burnus@gcc.gnu.org>\n "}, {"sha": "7911cc812c64f96c33fe23f5d4bfebe92f169795", "filename": "gcc/testsuite/gnat.dg/vect7.adb", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2defb110db56604247474b3dea21ebdd22a62ff0/gcc%2Ftestsuite%2Fgnat.dg%2Fvect7.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2defb110db56604247474b3dea21ebdd22a62ff0/gcc%2Ftestsuite%2Fgnat.dg%2Fvect7.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fvect7.adb?ref=2defb110db56604247474b3dea21ebdd22a62ff0", "patch": "@@ -0,0 +1,20 @@\n+-- { dg-do compile }\n+\n+package body Vect7 is\n+\n+  procedure Assign is\n+    v1 : constant v4sf := (-1.0, -2.0, -3.0, -4.0);\n+    v2 : v4sf := v1;\n+    v3 : v4sf;\n+  begin\n+    v3 := vzero;\n+    v3 := vconst;\n+    v3 := v1;\n+    v3 := v2;\n+    v3 := (1.0, -2.0, 3.0, -4.0);\n+    v3 := (1.0, -2.0, 3.0, F);\n+\n+    v2 := vzero;\n+  end;\n+\n+end Vect7;"}, {"sha": "faf01679e23d399f55bdd937354c996136b51aa6", "filename": "gcc/testsuite/gnat.dg/vect7.ads", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2defb110db56604247474b3dea21ebdd22a62ff0/gcc%2Ftestsuite%2Fgnat.dg%2Fvect7.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2defb110db56604247474b3dea21ebdd22a62ff0/gcc%2Ftestsuite%2Fgnat.dg%2Fvect7.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fvect7.ads?ref=2defb110db56604247474b3dea21ebdd22a62ff0", "patch": "@@ -0,0 +1,15 @@\n+package Vect7 is\n+\n+  type v4sf is array (1 .. 4) of Float;\n+  for v4sf'Alignment use 16;\n+  pragma Machine_Attribute (v4sf, \"vector_type\");\n+\n+  vzero  : constant v4sf := (0.0, 0.0, 0.0, 0.0);\n+  vconst : constant v4sf := (1.0, 2.0, 3.0, 4.0);\n+  vvar   : v4sf := vconst;\n+\n+  F : Float := 5.0;\n+\n+  procedure Assign;\n+\n+end Vect7;"}, {"sha": "7c7e43a5a8817e0349f9303e2fe3471312b5a47c", "filename": "gcc/tree.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2defb110db56604247474b3dea21ebdd22a62ff0/gcc%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2defb110db56604247474b3dea21ebdd22a62ff0/gcc%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.c?ref=2defb110db56604247474b3dea21ebdd22a62ff0", "patch": "@@ -724,6 +724,10 @@ tree_size (const_tree node)\n       return (sizeof (struct tree_vec)\n \t      + (TREE_VEC_LENGTH (node) - 1) * sizeof (tree));\n \n+    case VECTOR_CST:\n+      return (sizeof (struct tree_vector)\n+\t      + (TYPE_VECTOR_SUBPARTS (TREE_TYPE (node)) - 1) * sizeof (tree));\n+\n     case STRING_CST:\n       return TREE_STRING_LENGTH (node) + offsetof (struct tree_string, str) + 1;\n "}]}