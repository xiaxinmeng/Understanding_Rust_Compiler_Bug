{"sha": "c83fe03621bc68ba607842e850e945ea61211857", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzgzZmUwMzYyMWJjNjhiYTYwNzg0MmU4NTBlOTQ1ZWE2MTIxMTg1Nw==", "commit": {"author": {"name": "Nick Clifton", "email": "nickc@cygnus.com", "date": "1999-06-11T06:24:55Z"}, "committer": {"name": "Nick Clifton", "email": "nickc@gcc.gnu.org", "date": "1999-06-11T06:24:55Z"}, "message": "Add support for thumb-elf target.\n\nFrom-SVN: r27490", "tree": {"sha": "f5850c4e86c84e98a3aa1d81ee10e211b1730383", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f5850c4e86c84e98a3aa1d81ee10e211b1730383"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c83fe03621bc68ba607842e850e945ea61211857", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c83fe03621bc68ba607842e850e945ea61211857", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c83fe03621bc68ba607842e850e945ea61211857", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c83fe03621bc68ba607842e850e945ea61211857/comments", "author": null, "committer": null, "parents": [{"sha": "657be7aff1202e2422538818aa6c20ad88a64766", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/657be7aff1202e2422538818aa6c20ad88a64766", "html_url": "https://github.com/Rust-GCC/gccrs/commit/657be7aff1202e2422538818aa6c20ad88a64766"}], "stats": {"total": 536, "additions": 442, "deletions": 94}, "files": [{"sha": "a00d3d332747f6138e3ddb73a6a9ed296b0d02b6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c83fe03621bc68ba607842e850e945ea61211857/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c83fe03621bc68ba607842e850e945ea61211857/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c83fe03621bc68ba607842e850e945ea61211857", "patch": "@@ -1,3 +1,12 @@\n+Wed Jun  9 16:29:01 1999  Nick Clifton  <nickc@cygnus.com>\n+\n+\t* configure.in: Add new target: thumb-elf.\n+\t* configure: Regenerate.\n+\t* config/arm/t-thumb-elf: New file: Makefile fragment for\n+\tthumb-elf build.\n+\t* config/arm/telf.h: New file: Header file for thumb-elf\n+\tbuild. \n+\n Fri Jun 11 03:17:51 1999  Jeffrey A Law  (law@cygnus.com)\n \n \t* Makefile.in (libgcc2): Pass MAYBE_USE_COLLECT2 as an argument."}, {"sha": "3e608ab1c80bb2bb6666ef4fd784b6d8aaa06277", "filename": "gcc/config/arm/t-thumb-elf", "status": "added", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c83fe03621bc68ba607842e850e945ea61211857/gcc%2Fconfig%2Farm%2Ft-thumb-elf", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c83fe03621bc68ba607842e850e945ea61211857/gcc%2Fconfig%2Farm%2Ft-thumb-elf", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Ft-thumb-elf?ref=c83fe03621bc68ba607842e850e945ea61211857", "patch": "@@ -0,0 +1,34 @@\n+CROSS_LIBGCC1 = libgcc1-asm.a\n+LIB1ASMSRC = arm/lib1thumb.asm\n+LIB1ASMFUNCS = _udivsi3 _divsi3 _umodsi3 _modsi3 _dvmd_tls _call_via_rX _interwork_call_via_rX\n+# adddi3/subdi3 added to machine description\n+\n+# These are really part of libgcc1, but this will cause them to be\n+# built correctly, so...\n+\n+LIB2FUNCS_EXTRA = fp-bit.c dp-bit.c\n+\n+fp-bit.c: $(srcdir)/config/fp-bit.c\n+\techo '#define FLOAT' > fp-bit.c\n+\techo '#ifndef __ARMEB__' >> fp-bit.c\n+\techo '#define FLOAT_BIT_ORDER_MISMATCH' >> fp-bit.c\n+\techo '#endif' >> fp-bit.c\n+\tcat $(srcdir)/config/fp-bit.c >> fp-bit.c\n+\n+dp-bit.c: $(srcdir)/config/fp-bit.c\n+\techo '#ifndef __ARMEB__' > dp-bit.c\n+\techo '#define FLOAT_BIT_ORDER_MISMATCH' >> dp-bit.c\n+\techo '#define FLOAT_WORD_ORDER_MISMATCH' >> dp-bit.c\n+\techo '#endif' >> dp-bit.c\n+\tcat $(srcdir)/config/fp-bit.c >> dp-bit.c\n+\n+# Avoid building a duplicate set of libraries for the default endian-ness.\n+MULTILIB_OPTIONS     = mlittle-endian/mbig-endian mno-thumb-interwork/mthumb-interwork fno-leading-underscore/fleading-underscore\n+MULTILIB_DIRNAMES    = le be normal interwork elf under\n+MULTILIB_MATCHES     = mbig-endian=mbe mlittle-endian=mle\n+EXTRA_MULTILIB_PARTS = crtbegin.o crtend.o\n+\n+LIBGCC = stmp-multilib\n+INSTALL_LIBGCC = install-multilib\n+\n+TARGET_LIBGCC2_CFLAGS = -Dinhibit_libc"}, {"sha": "69604a204db78dded7f71bd95b8ba6ebf3c7bffb", "filename": "gcc/config/arm/telf.h", "status": "added", "additions": 289, "deletions": 0, "changes": 289, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c83fe03621bc68ba607842e850e945ea61211857/gcc%2Fconfig%2Farm%2Ftelf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c83fe03621bc68ba607842e850e945ea61211857/gcc%2Fconfig%2Farm%2Ftelf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Ftelf.h?ref=c83fe03621bc68ba607842e850e945ea61211857", "patch": "@@ -0,0 +1,289 @@\n+/* Definitions of target machine for GNU compiler,\n+   for Thumb with ELF obj format.\n+   Copyright (C) 1995, 1996 Free Software Foundation, Inc.\n+   \n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#define OBJECT_FORMAT_ELF\n+\n+#define CPP_PREDEFINES \"-Dthumb -Dthumbelf -D__thumb -Acpu(arm) -Amachine(arm)\"\n+\n+#include \"arm/thumb.h\"\n+\f\n+/* Run-time Target Specification.  */\n+#undef  TARGET_VERSION\n+#define TARGET_VERSION fputs (\" (Thumb/elf)\", stderr)\n+\n+#define MULTILIB_DEFAULTS { \"mlittle-endian\" }\n+\f\n+/* Setting this to 32 produces more efficient code, but the value set in previous\n+   versions of this toolchain was 8, which produces more compact structures. The\n+   command line option -mstructure_size_boundary=<n> can be used to change this\n+   value.  */\n+#undef  STRUCTURE_SIZE_BOUNDARY\n+#define STRUCTURE_SIZE_BOUNDARY arm_structure_size_boundary\n+\n+extern int arm_structure_size_boundary;\n+\f\n+/* Debug */\n+#define DWARF_DEBUGGING_INFO\n+#define DWARF2_DEBUGGING_INFO\n+#define PREFERRED_DEBUGGING_TYPE DWARF2_DEBUG\n+\n+\f\n+/* Note - it is important that these definitions match those in semi.h for the ARM port.  */\n+#undef  LOCAL_LABEL_PREFIX\n+#define LOCAL_LABEL_PREFIX \".\"\n+\n+\n+/* A C statement to output assembler commands which will identify the\n+   object file as having been compiled with GNU CC (or another GNU\n+   compiler).  */\n+#define ASM_IDENTIFY_GCC(STREAM)\t\t\t\t\\\n+  fprintf (STREAM, \"%sgcc2_compiled.:\\n\", LOCAL_LABEL_PREFIX )\n+\n+#undef  ASM_FILE_START\n+#define ASM_FILE_START(STREAM)\t\t\t\t\t\t\\\n+  do\t\t\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\t\\\n+      extern char * version_string;\t\t\t\t\t\\\n+      fprintf ((STREAM), \"%s Generated by gcc %s for Thumb/elf\\n\",\t\\\n+\t       ASM_COMMENT_START, version_string);\t\t\t\\\n+      fprintf ((STREAM), ASM_APP_OFF);\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\t\\\n+  while (0)\n+\n+/* A C statement to output something to the assembler file to switch to section\n+   NAME for object DECL which is either a FUNCTION_DECL, a VAR_DECL or\n+   NULL_TREE.  Some target formats do not support arbitrary sections.  Do not\n+   define this macro in such cases.  */\n+#define ASM_OUTPUT_SECTION_NAME(STREAM, DECL, NAME, RELOC)\t\t\\\n+  do\t\t\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\t\\\n+      if ((DECL) && TREE_CODE (DECL) == FUNCTION_DECL)\t\t\t\\\n+        fprintf (STREAM, \"\\t.section %s,\\\"ax\\\",@progbits\\n\", (NAME));\t\\\n+      else if ((DECL) && DECL_READONLY_SECTION (DECL, RELOC))\t\t\\\n+        fprintf (STREAM, \"\\t.section %s,\\\"a\\\"\\n\", (NAME));\t\t\\\n+      else\t\t\t\t\t\t\t\t\\\n+        fprintf (STREAM, \"\\t.section %s,\\\"aw\\\"\\n\", (NAME));\t\t\\\n+    }\t\t\t\t\t\t\t\t\t\\\n+  while (0)\n+\f\n+/* Support the ctors/dtors and other sections.  */\n+\n+#undef INIT_SECTION_ASM_OP\n+\n+/* Define this macro if jump tables (for `tablejump' insns) should be\n+   output in the text section, along with the assembler instructions.\n+   Otherwise, the readonly data section is used.  */\n+#define JUMP_TABLES_IN_TEXT_SECTION 1\n+\n+#undef  READONLY_DATA_SECTION\n+#define READONLY_DATA_SECTION\trdata_section\n+#undef  RDATA_SECTION_ASM_OP\n+#define RDATA_SECTION_ASM_OP\t\"\\t.section .rodata\"\n+\n+#undef  CTORS_SECTION_ASM_OP\n+#define CTORS_SECTION_ASM_OP\t\"\\t.section .ctors,\\\"aw\\\"\"\n+#undef  DTORS_SECTION_ASM_OP\n+#define DTORS_SECTION_ASM_OP\t\"\\t.section .dtors,\\\"aw\\\"\"\n+\n+#define USER_LABEL_PREFIX \"\"\n+\n+/* Don't know how to order these.  UNALIGNED_WORD_ASM_OP is in\n+   dwarf2.out. */ \n+#define UNALIGNED_WORD_ASM_OP \".4byte\"\n+\n+#define ASM_OUTPUT_DWARF2_ADDR_CONST(FILE,ADDR)\t\t\t\\\n+ if (((ADDR)[0] == '.') && ((ADDR)[1] == 'L')) \t\t\t\\\n+   fprintf ((FILE), \"\\t%s\\t%s\", UNALIGNED_WORD_ASM_OP, (ADDR));\t\\\n+ else                                                     \t\\\n+  fprintf ((FILE), \"\\t%s\\t%s\",\t\t\t\t\t\\\n+           UNALIGNED_WORD_ASM_OP, (ADDR))\n+\n+#define ASM_OUTPUT_DWARF_ADDR_CONST(FILE,RTX)\t\t\t\\\n+  do\t\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      fprintf ((FILE), \"\\t%s\\t\", UNALIGNED_WORD_ASM_OP);\t\\\n+      output_addr_const ((FILE), (RTX));\t\t\t\\\n+      fputc ('\\n', (FILE));\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\\\n+  while (0)\n+\n+/* This is how to equate one symbol to another symbol.  The syntax used is\n+   `SYM1=SYM2'.  Note that this is different from the way equates are done\n+   with most svr4 assemblers, where the syntax is `.set SYM1,SYM2'.  */\n+\n+#define ASM_OUTPUT_DEF(FILE,LABEL1,LABEL2)\t\\\n+  do\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\\\n+      fprintf ((FILE), \"\\t\");\t\t\t\\\n+      assemble_name (FILE, LABEL1);\t\t\\\n+      fprintf (FILE, \" = \");\t\t\t\\\n+      assemble_name (FILE, LABEL2);\t\t\\\n+      fprintf (FILE, \"\\n\");\t\t\t\\\n+    }\t\t\t\t\t\t\\\n+  while (0)\n+\n+/* A list of other sections which the compiler might be \"in\" at any\n+   given time.  */\n+#undef  EXTRA_SECTIONS\n+#define EXTRA_SECTIONS SUBTARGET_EXTRA_SECTIONS in_rdata, in_ctors, in_dtors\n+\n+#define SUBTARGET_EXTRA_SECTIONS\n+\n+/* A list of extra section function definitions.  */\n+\n+#undef  EXTRA_SECTION_FUNCTIONS\n+#define EXTRA_SECTION_FUNCTIONS \\\n+  RDATA_SECTION_FUNCTION\t\\\n+  CTORS_SECTION_FUNCTION\t\\\n+  DTORS_SECTION_FUNCTION\t\\\n+  SUBTARGET_EXTRA_SECTION_FUNCTIONS\n+\n+#define SUBTARGET_EXTRA_SECTION_FUNCTIONS\n+\n+#define RDATA_SECTION_FUNCTION \\\n+void\t\t\t\t\t\t\t\t\t\\\n+rdata_section ()\t\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\t\\\n+  if (in_section != in_rdata)\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\t\\\n+      fprintf (asm_out_file, \"%s\\n\", RDATA_SECTION_ASM_OP);\t\t\\\n+      in_section = in_rdata;\t\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\t\\\n+}\n+\n+#define CTOR_LIST_BEGIN                                 \\\n+asm (CTORS_SECTION_ASM_OP);                             \\\n+func_ptr __CTOR_LIST__[1] = { (func_ptr) (-1) }\n+\n+#define CTOR_LIST_END                                   \\\n+asm (CTORS_SECTION_ASM_OP);                             \\\n+func_ptr __CTOR_END__[1] = { (func_ptr) 0 };\n+\n+#define DTOR_LIST_BEGIN                                 \\\n+asm (DTORS_SECTION_ASM_OP);                             \\\n+func_ptr __DTOR_LIST__[1] = { (func_ptr) (-1) }\n+\n+#define DTOR_LIST_END                                   \\\n+asm (DTORS_SECTION_ASM_OP);                             \\\n+func_ptr __DTOR_END__[1] = { (func_ptr) 0 };\n+\n+#define CTORS_SECTION_FUNCTION \\\n+void\t\t\t\t\t\t\t\t\t\\\n+ctors_section ()\t\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\t\\\n+  if (in_section != in_ctors)\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\t\\\n+      fprintf (asm_out_file, \"%s\\n\", CTORS_SECTION_ASM_OP);\t\t\\\n+      in_section = in_ctors;\t\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\t\\\n+}\n+\n+#define DTORS_SECTION_FUNCTION \\\n+void\t\t\t\t\t\t\t\t\t\\\n+dtors_section ()\t\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\t\\\n+  if (in_section != in_dtors)\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\t\\\n+      fprintf (asm_out_file, \"%s\\n\", DTORS_SECTION_ASM_OP);\t\t\\\n+      in_section = in_dtors;\t\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\t\\\n+}\n+\f\n+/* Support the ctors/dtors sections for g++.  */\n+\n+#define INT_ASM_OP \".word\"\n+\n+#define INVOKE__main\n+\n+#undef  STARTFILE_SPEC\n+#define STARTFILE_SPEC \"crtbegin%O%s crt0%O%s\"\n+\n+#undef  ENDFILE_SPEC\n+#define ENDFILE_SPEC \"crtend%O%s\"\n+\n+/* A C statement (sans semicolon) to output an element in the table of\n+   global constructors.  */\n+#undef  ASM_OUTPUT_CONSTRUCTOR\n+#define ASM_OUTPUT_CONSTRUCTOR(STREAM,NAME)\t\\\n+  do\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\\\n+      ctors_section ();\t\t\t\t\\\n+      fprintf (STREAM, \"\\t%s\\t \", INT_ASM_OP);\t\\\n+      assemble_name (STREAM, NAME);\t\t\\\n+      fprintf (STREAM, \"\\n\");\t\t\t\\\n+    }\t\t\t\t\t\t\\\n+  while (0)\n+\n+/* A C statement (sans semicolon) to output an element in the table of\n+   global destructors.  */\n+#undef  ASM_OUTPUT_DESTRUCTOR\n+#define ASM_OUTPUT_DESTRUCTOR(STREAM,NAME)\t\\\n+  do\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\\\n+      dtors_section ();\t\t\t\t\\\n+      fprintf (STREAM, \"\\t%s\\t \", INT_ASM_OP);\t\\\n+      assemble_name (STREAM, NAME);\t\t\\\n+      fprintf (STREAM, \"\\n\");\t\t\t\\\n+    }\t\t\t\t\t\t\\\n+  while (0)\n+\n+/* The ARM development system has atexit and doesn't have _exit,\n+   so define this for now.  */\n+#define HAVE_ATEXIT\n+\n+/* The ARM development system defines __main.  */\n+#define NAME__MAIN \"__gccmain\"\n+#define SYMBOL__MAIN __gccmain\n+\n+#define MAKE_DECL_ONE_ONLY(DECL) (DECL_WEAK (DECL) = 1)\n+#define UNIQUE_SECTION_P(DECL) (DECL_ONE_ONLY (DECL))\n+#define UNIQUE_SECTION(DECL,RELOC)\t\t\t\t\\\n+  do\t\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      int len;\t\t\t\t\t\t\t\\\n+      char * name, * string, * prefix;\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+      name = IDENTIFIER_POINTER (DECL_ASSEMBLER_NAME (DECL));\t\\\n+\t\t\t\t\t\t\t\t\\\n+      if (! DECL_ONE_ONLY (DECL))\t\t\t\t\\\n+        {\t\t\t\t\t\t\t\\\n+          prefix = \".\";\t\t\t\t\t\t\\\n+          if (TREE_CODE (DECL) == FUNCTION_DECL)\t\t\\\n+\t    prefix = \".text.\";\t\t\t\t\t\\\n+          else if (DECL_READONLY_SECTION (DECL, RELOC))\t\t\\\n+\t    prefix = \".rodata.\";\t\t\t\t\\\n+          else\t\t\t\t\t\t\t\\\n+\t    prefix = \".data.\";\t\t\t\t\t\\\n+        }\t\t\t\t\t\t\t\\\n+      else if (TREE_CODE (DECL) == FUNCTION_DECL)\t\t\\\n+        prefix = \".gnu.linkonce.t.\";\t\t\t\t\\\n+      else if (DECL_READONLY_SECTION (DECL, RELOC))\t\t\\\n+        prefix = \".gnu.linkonce.r.\";\t\t\t\t\\\n+      else\t\t\t\t\t\t\t\\\n+        prefix = \".gnu.linkonce.d.\";\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+      len = strlen (name) + strlen (prefix);\t\t\t\\\n+      string = alloca (len + 1);\t\t\t\t\\\n+      sprintf (string, \"%s%s\", prefix, name);\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+      DECL_SECTION_NAME (DECL) = build_string (len, string);\t\\\n+    }\t\t\t\t\t\t\t\t\\\n+  while (0)"}, {"sha": "fd1472082caf3ed3cce229f7ccaf8f828305d5e7", "filename": "gcc/configure", "status": "modified", "additions": 101, "deletions": 93, "changes": 194, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c83fe03621bc68ba607842e850e945ea61211857/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c83fe03621bc68ba607842e850e945ea61211857/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=c83fe03621bc68ba607842e850e945ea61211857", "patch": "@@ -4191,6 +4191,7 @@ for machine in $build $host $target; do\n \t\t;;\n \tm68k-hp-bsd4.4*)\t\t# HP 9000/3xx running 4.4bsd\n \t\ttm_file=m68k/hp3bsd44.h\n+\t\txmake_file=m68k/x-hp3bsd44\n \t\tuse_collect2=yes\n \t\textra_headers=math-68881.h\n \t\tfloat_format=m68k\n@@ -5240,7 +5241,7 @@ for machine in $build $host $target; do\n \t\tthen\n \t\t\txmake_file=rs6000/x-aix41-gld\n \t\telse\n-\t\t\txmake_file=rs6000/x-aix41\n+\t\t\txmake_file=rx6000/x-aix41\n \t\tfi\n \t\tfloat_format=none\n \t\tuse_collect2=yes\n@@ -5519,6 +5520,13 @@ for machine in $build $host $target; do\n \t\tmd_file=arm/thumb.md\n \t\ttmake_file=arm/t-thumb\n \t\t;;\n+\tthumb-*-elf* | thumbel-*-elf*)\n+\t\ttm_file=arm/telf.h\n+\t\tout_file=arm/thumb.c\n+\t\txm_file=arm/xm-thumb.h\n+\t\tmd_file=arm/thumb.md\n+\t\ttmake_file=arm/t-thumb-elf\n+\t\t;;\n \tthumb-wrs-vxworks)\n \t\ttm_file=arm/tcoff.h\n \t\tout_file=arm/thumb.c\n@@ -6036,15 +6044,15 @@ fi\n \n \n         echo $ac_n \"checking for strerror in -lcposix\"\"... $ac_c\" 1>&6\n-echo \"configure:6040: checking for strerror in -lcposix\" >&5\n+echo \"configure:6048: checking for strerror in -lcposix\" >&5\n ac_lib_var=`echo cposix'_'strerror | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lcposix  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 6048 \"configure\"\n+#line 6056 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -6055,7 +6063,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:6059: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6067: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -6078,12 +6086,12 @@ fi\n   \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:6082: checking for working const\" >&5\n+echo \"configure:6090: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6087 \"configure\"\n+#line 6095 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -6132,7 +6140,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6136: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6144: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -6153,21 +6161,21 @@ EOF\n fi\n \n echo $ac_n \"checking for inline\"\"... $ac_c\" 1>&6\n-echo \"configure:6157: checking for inline\" >&5\n+echo \"configure:6165: checking for inline\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_inline'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_cv_c_inline=no\n for ac_kw in inline __inline__ __inline; do\n   cat > conftest.$ac_ext <<EOF\n-#line 6164 \"configure\"\n+#line 6172 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n } $ac_kw foo() {\n ; return 0; }\n EOF\n-if { (eval echo configure:6171: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6179: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_inline=$ac_kw; break\n else\n@@ -6193,12 +6201,12 @@ EOF\n esac\n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:6197: checking for off_t\" >&5\n+echo \"configure:6205: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6202 \"configure\"\n+#line 6210 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -6226,12 +6234,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:6230: checking for size_t\" >&5\n+echo \"configure:6238: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6235 \"configure\"\n+#line 6243 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -6261,19 +6269,19 @@ fi\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:6265: checking for working alloca.h\" >&5\n+echo \"configure:6273: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6270 \"configure\"\n+#line 6278 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:6277: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6285: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -6294,12 +6302,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:6298: checking for alloca\" >&5\n+echo \"configure:6306: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6303 \"configure\"\n+#line 6311 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -6327,7 +6335,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:6331: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6339: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -6359,12 +6367,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:6363: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:6371: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6368 \"configure\"\n+#line 6376 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -6389,12 +6397,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6393: checking for $ac_func\" >&5\n+echo \"configure:6401: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6398 \"configure\"\n+#line 6406 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6417,7 +6425,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6421: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6429: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6444,15 +6452,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:6448: checking stack direction for C alloca\" >&5\n+echo \"configure:6456: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6456 \"configure\"\n+#line 6464 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -6471,7 +6479,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:6475: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:6483: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -6496,17 +6504,17 @@ for ac_hdr in unistd.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:6500: checking for $ac_hdr\" >&5\n+echo \"configure:6508: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6505 \"configure\"\n+#line 6513 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:6510: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:6518: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -6535,12 +6543,12 @@ done\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6539: checking for $ac_func\" >&5\n+echo \"configure:6547: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6544 \"configure\"\n+#line 6552 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6563,7 +6571,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6567: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6575: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6588,15 +6596,15 @@ fi\n done\n \n echo $ac_n \"checking for working mmap\"\"... $ac_c\" 1>&6\n-echo \"configure:6592: checking for working mmap\" >&5\n+echo \"configure:6600: checking for working mmap\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_fixed_mapped=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6600 \"configure\"\n+#line 6608 \"configure\"\n #include \"confdefs.h\"\n \n /* Thanks to Mike Haertel and Jim Avera for this test.\n@@ -6736,7 +6744,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:6740: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:6748: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_fixed_mapped=yes\n else\n@@ -6764,17 +6772,17 @@ unistd.h sys/param.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:6768: checking for $ac_hdr\" >&5\n+echo \"configure:6776: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6773 \"configure\"\n+#line 6781 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:6778: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:6786: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -6804,12 +6812,12 @@ done\n strdup __argz_count __argz_stringify __argz_next\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6808: checking for $ac_func\" >&5\n+echo \"configure:6816: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6813 \"configure\"\n+#line 6821 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6832,7 +6840,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6836: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6844: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6861,12 +6869,12 @@ done\n      for ac_func in stpcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6865: checking for $ac_func\" >&5\n+echo \"configure:6873: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6870 \"configure\"\n+#line 6878 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6889,7 +6897,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6893: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6901: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6923,19 +6931,19 @@ EOF\n \n    if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:6927: checking for LC_MESSAGES\" >&5\n+echo \"configure:6935: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6932 \"configure\"\n+#line 6940 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:6939: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6947: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_val_LC_MESSAGES=yes\n else\n@@ -6956,7 +6964,7 @@ EOF\n     fi\n   fi\n    echo $ac_n \"checking whether NLS is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:6960: checking whether NLS is requested\" >&5\n+echo \"configure:6968: checking whether NLS is requested\" >&5\n         # Check whether --enable-nls or --disable-nls was given.\n if test \"${enable_nls+set}\" = set; then\n   enableval=\"$enable_nls\"\n@@ -6976,7 +6984,7 @@ fi\n EOF\n \n       echo $ac_n \"checking whether included gettext is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:6980: checking whether included gettext is requested\" >&5\n+echo \"configure:6988: checking whether included gettext is requested\" >&5\n       # Check whether --with-included-gettext or --without-included-gettext was given.\n if test \"${with_included_gettext+set}\" = set; then\n   withval=\"$with_included_gettext\"\n@@ -6995,17 +7003,17 @@ fi\n \n \tac_safe=`echo \"libintl.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for libintl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:6999: checking for libintl.h\" >&5\n+echo \"configure:7007: checking for libintl.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7004 \"configure\"\n+#line 7012 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7009: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7017: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7022,19 +7030,19 @@ fi\n if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libc\"\"... $ac_c\" 1>&6\n-echo \"configure:7026: checking for gettext in libc\" >&5\n+echo \"configure:7034: checking for gettext in libc\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7031 \"configure\"\n+#line 7039 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n int main() {\n return (int) gettext (\"\")\n ; return 0; }\n EOF\n-if { (eval echo configure:7038: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7046: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gettext_libc=yes\n else\n@@ -7050,15 +7058,15 @@ echo \"$ac_t\"\"$gt_cv_func_gettext_libc\" 1>&6\n \n \t   if test \"$gt_cv_func_gettext_libc\" != \"yes\"; then\n \t     echo $ac_n \"checking for bindtextdomain in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7054: checking for bindtextdomain in -lintl\" >&5\n+echo \"configure:7062: checking for bindtextdomain in -lintl\" >&5\n ac_lib_var=`echo intl'_'bindtextdomain | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7062 \"configure\"\n+#line 7070 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7069,7 +7077,7 @@ int main() {\n bindtextdomain()\n ; return 0; }\n EOF\n-if { (eval echo configure:7073: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7081: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7085,20 +7093,20 @@ fi\n if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7089: checking for gettext in libintl\" >&5\n+echo \"configure:7097: checking for gettext in libintl\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libintl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   echo $ac_n \"checking for gettext in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7094: checking for gettext in -lintl\" >&5\n+echo \"configure:7102: checking for gettext in -lintl\" >&5\n ac_lib_var=`echo intl'_'gettext | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7102 \"configure\"\n+#line 7110 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7109,7 +7117,7 @@ int main() {\n gettext()\n ; return 0; }\n EOF\n-if { (eval echo configure:7113: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7121: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7148,7 +7156,7 @@ EOF\n \t      # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7152: checking for $ac_word\" >&5\n+echo \"configure:7160: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7182,12 +7190,12 @@ fi\n \t\tfor ac_func in dcgettext\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7186: checking for $ac_func\" >&5\n+echo \"configure:7194: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7191 \"configure\"\n+#line 7199 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7210,7 +7218,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7214: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7222: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7237,7 +7245,7 @@ done\n \t\t# Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7241: checking for $ac_word\" >&5\n+echo \"configure:7249: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7273,7 +7281,7 @@ fi\n \t\t# Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7277: checking for $ac_word\" >&5\n+echo \"configure:7285: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7305,15 +7313,15 @@ else\n fi\n \n \t\tcat > conftest.$ac_ext <<EOF\n-#line 7309 \"configure\"\n+#line 7317 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n extern int _nl_msg_cat_cntr;\n \t\t\t       return _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:7317: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7325: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   CATOBJEXT=.gmo\n \t\t   DATADIRNAME=share\n@@ -7336,7 +7344,7 @@ fi\n \n         if test \"$CATOBJEXT\" = \"NONE\"; then\n \t  echo $ac_n \"checking whether catgets can be used\"\"... $ac_c\" 1>&6\n-echo \"configure:7340: checking whether catgets can be used\" >&5\n+echo \"configure:7348: checking whether catgets can be used\" >&5\n \t  # Check whether --with-catgets or --without-catgets was given.\n if test \"${with_catgets+set}\" = set; then\n   withval=\"$with_catgets\"\n@@ -7349,22 +7357,22 @@ fi\n \n \t  if test \"$nls_cv_use_catgets\" = \"yes\"; then\n \t    \t    echo $ac_n \"checking for main in -li\"\"... $ac_c\" 1>&6\n-echo \"configure:7353: checking for main in -li\" >&5\n+echo \"configure:7361: checking for main in -li\" >&5\n ac_lib_var=`echo i'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-li  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7361 \"configure\"\n+#line 7369 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:7368: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7376: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7392,12 +7400,12 @@ else\n fi\n \n \t    echo $ac_n \"checking for catgets\"\"... $ac_c\" 1>&6\n-echo \"configure:7396: checking for catgets\" >&5\n+echo \"configure:7404: checking for catgets\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_catgets'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7401 \"configure\"\n+#line 7409 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char catgets(); below.  */\n@@ -7420,7 +7428,7 @@ catgets();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7424: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7432: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_catgets=yes\"\n else\n@@ -7442,7 +7450,7 @@ EOF\n \t       # Extract the first word of \"gencat\", so it can be a program name with args.\n set dummy gencat; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7446: checking for $ac_word\" >&5\n+echo \"configure:7454: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GENCAT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7478,7 +7486,7 @@ fi\n \t\t # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7482: checking for $ac_word\" >&5\n+echo \"configure:7490: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7515,7 +7523,7 @@ fi\n \t\t   # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7519: checking for $ac_word\" >&5\n+echo \"configure:7527: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7550,7 +7558,7 @@ fi\n \t\t # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7554: checking for $ac_word\" >&5\n+echo \"configure:7562: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7608,7 +7616,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7612: checking for $ac_word\" >&5\n+echo \"configure:7620: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7642,7 +7650,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7646: checking for $ac_word\" >&5\n+echo \"configure:7654: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7678,7 +7686,7 @@ fi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7682: checking for $ac_word\" >&5\n+echo \"configure:7690: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7771,7 +7779,7 @@ fi\n        LINGUAS=\n      else\n        echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:7775: checking for catalogs to be installed\" >&5\n+echo \"configure:7783: checking for catalogs to be installed\" >&5\n        NEW_LINGUAS=\n        for lang in ${LINGUAS=$ALL_LINGUAS}; do\n          case \"$ALL_LINGUAS\" in\n@@ -7799,17 +7807,17 @@ echo \"configure:7775: checking for catalogs to be installed\" >&5\n    if test \"$CATOBJEXT\" = \".cat\"; then\n      ac_safe=`echo \"linux/version.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for linux/version.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7803: checking for linux/version.h\" >&5\n+echo \"configure:7811: checking for linux/version.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7808 \"configure\"\n+#line 7816 \"configure\"\n #include \"confdefs.h\"\n #include <linux/version.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7813: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7821: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -8043,7 +8051,7 @@ fi\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:8047: checking assembler alignment features\" >&5\n+echo \"configure:8055: checking assembler alignment features\" >&5\n gcc_cv_as=\n gcc_cv_as_alignment_features=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n@@ -8164,7 +8172,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:8168: checking assembler subsection support\" >&5\n+echo \"configure:8176: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .subsection\n@@ -8204,7 +8212,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n \n echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:8208: checking assembler instructions\" >&5\n+echo \"configure:8216: checking assembler instructions\" >&5\n gcc_cv_as_instructions=\n if test x$gcc_cv_as != x; then\n \tset \"filds fists\" \"filds mem; fists mem\""}, {"sha": "7b1b59035f5c19f2bc7040c80644ae09f944944e", "filename": "gcc/configure.in", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c83fe03621bc68ba607842e850e945ea61211857/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c83fe03621bc68ba607842e850e945ea61211857/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=c83fe03621bc68ba607842e850e945ea61211857", "patch": "@@ -1864,6 +1864,7 @@ changequote([,])dnl\n \t\t;;\n \tm68k-hp-bsd4.4*)\t\t# HP 9000/3xx running 4.4bsd\n \t\ttm_file=m68k/hp3bsd44.h\n+\t\txmake_file=m68k/x-hp3bsd44\n \t\tuse_collect2=yes\n \t\textra_headers=math-68881.h\n \t\tfloat_format=m68k\n@@ -2931,7 +2932,7 @@ changequote([,])dnl\n \t\tthen\n \t\t\txmake_file=rs6000/x-aix41-gld\n \t\telse\n-\t\t\txmake_file=rs6000/x-aix41\n+\t\t\txmake_file=rx6000/x-aix41\n \t\tfi\n \t\tfloat_format=none\n \t\tuse_collect2=yes\n@@ -3216,6 +3217,13 @@ changequote([,])dnl\n \t\tmd_file=arm/thumb.md\n \t\ttmake_file=arm/t-thumb\n \t\t;;\n+\tthumb-*-elf* | thumbel-*-elf*)\n+\t\ttm_file=arm/telf.h\n+\t\tout_file=arm/thumb.c\n+\t\txm_file=arm/xm-thumb.h\n+\t\tmd_file=arm/thumb.md\n+\t\ttmake_file=arm/t-thumb-elf\n+\t\t;;\n \tthumb-wrs-vxworks)\n \t\ttm_file=arm/tcoff.h\n \t\tout_file=arm/thumb.c"}]}