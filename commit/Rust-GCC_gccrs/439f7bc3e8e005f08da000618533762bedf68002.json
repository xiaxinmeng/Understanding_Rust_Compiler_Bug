{"sha": "439f7bc3e8e005f08da000618533762bedf68002", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDM5ZjdiYzNlOGUwMDVmMDhkYTAwMDYxODUzMzc2MmJlZGY2ODAwMg==", "commit": {"author": {"name": "Andreas Jaeger", "email": "aj@gcc.gnu.org", "date": "2003-07-12T11:29:18Z"}, "committer": {"name": "Andreas Jaeger", "email": "aj@gcc.gnu.org", "date": "2003-07-12T11:29:18Z"}, "message": "fp-test.c (main): Use ISO C90 prototype.\n\n\t* fp-test.c (main): Use ISO C90 prototype.\n\n\t* version.c: Remove unneded include of ansidecl.h.\n\n\t* cgraph.h: Convert prototypes to ISO C90.\n\t* cgraph.c: Likewise.\n\t* fix-header.c: Likewise.\n\t* ra.h: Likewise.\n\t* protoize.c: Likewise.\n\nFrom-SVN: r69265", "tree": {"sha": "7178a940ba7ea592bc3891d09051076007d7a9fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7178a940ba7ea592bc3891d09051076007d7a9fa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/439f7bc3e8e005f08da000618533762bedf68002", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/439f7bc3e8e005f08da000618533762bedf68002", "html_url": "https://github.com/Rust-GCC/gccrs/commit/439f7bc3e8e005f08da000618533762bedf68002", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/439f7bc3e8e005f08da000618533762bedf68002/comments", "author": null, "committer": null, "parents": [{"sha": "1a5c570100450321bcb315ede846c34b2580eeee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a5c570100450321bcb315ede846c34b2580eeee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a5c570100450321bcb315ede846c34b2580eeee"}], "stats": {"total": 657, "additions": 273, "deletions": 384}, "files": [{"sha": "cb311dfb8216a3ca68c8f3dc91f73d9408c5f5d3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 16, "deletions": 4, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/439f7bc3e8e005f08da000618533762bedf68002/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/439f7bc3e8e005f08da000618533762bedf68002/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=439f7bc3e8e005f08da000618533762bedf68002", "patch": "@@ -1,3 +1,15 @@\n+2003-07-12  Andreas Jaeger  <aj@suse.de>\n+\n+\t* fp-test.c (main): Use ISO C90 prototype.\n+\n+\t* version.c: Remove unneded include of ansidecl.h.\n+\n+\t* cgraph.h: Convert prototypes to ISO C90.\n+\t* cgraph.c: Likewise.\n+\t* fix-header.c: Likewise.\n+\t* ra.h: Likewise.\n+\t* protoize.c: Likewise.\n+\n Sat Jul 12 06:09:38 CEST 2003  Jan Hubicka  <jh@suse.cz>\n \n \t* cgraphunit.c (cgraph_inlined_into, cgraph_inlined_calees): Fix\n@@ -32,7 +44,7 @@ Sat Jul 12 03:06:01 CEST 2003  Jan Hubicka  <jh@suse.cz>\n \t(cgraph_inlined_into, cgraph_inlined_callees,\n \tcgraph_estimate_size_after_inlining, cgraph_estimate_growth,\n \tcgraph_mark_inline, cgraph_check_inline_limits,\n-\tcgraph_default_inline_p, cgraph_decide_inling_of_small_functions, \n+\tcgraph_default_inline_p, cgraph_decide_inling_of_small_functions,\n \tcgraph_decide_inlining, cgraph_inline_p): New functions.\n \t* params.def (PARAM_LARGE_FUNCTION_INSNS, PARAM_LARGE_FUNCTION_GROWTH,\n \tPARAM_INLINE_UNIT_GROWTH): New parameters.\n@@ -111,7 +123,7 @@ Sat Jul 12 03:06:01 CEST 2003  Jan Hubicka  <jh@suse.cz>\n \t* c-decl.c (finish_decl): Handle 'used' here...\n \t* cgraphunit.c (cgraph_finalize_function): ... and here ...\n \t* c-common.c: (handle_used_attribute): ... not here.\n-\t\n+\n \t* configure.in (onstep): Support --enable-intermodule.\n \t* Makefile.in (OBJS-common): New.\n \t(OBJS-md): New.\n@@ -121,7 +133,7 @@ Sat Jul 12 03:06:01 CEST 2003  Jan Hubicka  <jh@suse.cz>\n \t(libbackend.a): Support @onestep@.\n \t(libbackend.o): New.\n \t* configure: Regenerate.\n-\t\n+\n \t* c-common.h (c_reset_state): New prototype.\n \t(c_parse_file): New prototype.\n \t(finish_file): Move prototype from c-tree.h.\n@@ -203,7 +215,7 @@ Sat Jul 12 03:06:01 CEST 2003  Jan Hubicka  <jh@suse.cz>\n \t* loop.c (loop_iv_add_mult_emit_before): Call loop_regs_update before\n \tloop_insn_emit_before.\n \t(loop_iv_add_mult_sink, loop_iv_add_mult_hoist): Likewise.\n-\t\n+\n 2003-07-10  Zack Weinberg  <zack@codesourcery.com>\n \n \t* cppcharset.c: Fix comment."}, {"sha": "5caa6f35b200e89386c6ee90b67f4aff16594bff", "filename": "gcc/cgraph.c", "status": "modified", "additions": 25, "deletions": 43, "changes": 68, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/439f7bc3e8e005f08da000618533762bedf68002/gcc%2Fcgraph.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/439f7bc3e8e005f08da000618533762bedf68002/gcc%2Fcgraph.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraph.c?ref=439f7bc3e8e005f08da000618533762bedf68002", "patch": "@@ -66,17 +66,16 @@ int cgraph_varpool_n_nodes;\n /* The linked list of cgraph varpool nodes.  */\n static GTY(())  struct cgraph_varpool_node *cgraph_varpool_nodes;\n \n-static struct cgraph_edge *create_edge PARAMS ((struct cgraph_node *,\n-\t\t\t\t\t\tstruct cgraph_node *));\n-static void cgraph_remove_edge PARAMS ((struct cgraph_node *, struct cgraph_node *));\n-static hashval_t hash_node PARAMS ((const void *));\n-static int eq_node PARAMS ((const void *, const void *));\n+static struct cgraph_edge *create_edge (struct cgraph_node *,\n+\t\t\t\t\tstruct cgraph_node *);\n+static void cgraph_remove_edge (struct cgraph_node *, struct cgraph_node *);\n+static hashval_t hash_node (const void *);\n+static int eq_node (const void *, const void *);\n \n /* Returns a hash code for P.  */\n \n static hashval_t\n-hash_node (p)\n-     const void *p;\n+hash_node (const void *p)\n {\n   return ((hashval_t)\n \t  IDENTIFIER_HASH_VALUE (DECL_ASSEMBLER_NAME\n@@ -86,18 +85,15 @@ hash_node (p)\n /* Returns nonzero if P1 and P2 are equal.  */\n \n static int\n-eq_node (p1, p2)\n-     const void *p1;\n-     const void *p2;\n+eq_node (const void *p1, const void *p2)\n {\n   return ((DECL_ASSEMBLER_NAME (((struct cgraph_node *) p1)->decl)) ==\n \t  (tree) p2);\n }\n \n /* Return cgraph node assigned to DECL.  Create new one when needed.  */\n struct cgraph_node *\n-cgraph_node (decl)\n-     tree decl;\n+cgraph_node (tree decl)\n {\n   struct cgraph_node *node;\n   struct cgraph_node **slot;\n@@ -135,8 +131,7 @@ cgraph_node (decl)\n \n /* Try to find existing function for identifier ID.  */\n struct cgraph_node *\n-cgraph_node_for_identifier (id)\n-     tree id;\n+cgraph_node_for_identifier (tree id)\n {\n   struct cgraph_node **slot;\n \n@@ -148,7 +143,7 @@ cgraph_node_for_identifier (id)\n \n   slot = (struct cgraph_node **)\n     htab_find_slot_with_hash (cgraph_hash, id,\n-\t\t    \t      IDENTIFIER_HASH_VALUE (id), 0);\n+\t\t\t      IDENTIFIER_HASH_VALUE (id), 0);\n   if (!slot)\n     return NULL;\n   return *slot;\n@@ -157,8 +152,7 @@ cgraph_node_for_identifier (id)\n /* Create edge from CALLER to CALLEE in the cgraph.  */\n \n static struct cgraph_edge *\n-create_edge (caller, callee)\n-     struct cgraph_node *caller, *callee;\n+create_edge (struct cgraph_node *caller, struct cgraph_node *callee)\n {\n   struct cgraph_edge *edge = ggc_alloc (sizeof (struct cgraph_edge));\n   struct cgraph_edge *edge2;\n@@ -187,8 +181,7 @@ create_edge (caller, callee)\n /* Remove the edge from CALLER to CALLEE in the cgraph.  */\n \n static void\n-cgraph_remove_edge (caller, callee)\n-     struct cgraph_node *caller, *callee;\n+cgraph_remove_edge (struct cgraph_node *caller, struct cgraph_node *callee)\n {\n   struct cgraph_edge **edge, **edge2;\n \n@@ -209,8 +202,7 @@ cgraph_remove_edge (caller, callee)\n /* Remove the node from cgraph.  */\n \n void\n-cgraph_remove_node (node)\n-     struct cgraph_node *node;\n+cgraph_remove_node (struct cgraph_node *node)\n {\n   while (node->callers)\n     cgraph_remove_edge (node->callers->caller, node);\n@@ -239,9 +231,7 @@ cgraph_remove_node (node)\n /* Notify finalize_compilation_unit that given node is reachable\n    or needed.  */\n void\n-cgraph_mark_needed_node (node, needed)\n-     struct cgraph_node *node;\n-     int needed;\n+cgraph_mark_needed_node (struct cgraph_node *node, int needed)\n {\n   if (needed)\n     {\n@@ -262,24 +252,21 @@ cgraph_mark_needed_node (node, needed)\n /* Record call from CALLER to CALLEE  */\n \n struct cgraph_edge *\n-cgraph_record_call (caller, callee)\n-     tree caller, callee;\n+cgraph_record_call (tree caller, tree callee)\n {\n   return create_edge (cgraph_node (caller), cgraph_node (callee));\n }\n \n void\n-cgraph_remove_call (caller, callee)\n-     tree caller, callee;\n+cgraph_remove_call (tree caller, tree callee)\n {\n   cgraph_remove_edge (cgraph_node (caller), cgraph_node (callee));\n }\n \n /* Return true when CALLER_DECL calls CALLEE_DECL.  */\n \n bool\n-cgraph_calls_p (caller_decl, callee_decl)\n-     tree caller_decl, callee_decl;\n+cgraph_calls_p (tree caller_decl, tree callee_decl)\n {\n   struct cgraph_node *caller = cgraph_node (caller_decl);\n   struct cgraph_node *callee = cgraph_node (callee_decl);\n@@ -294,8 +281,7 @@ cgraph_calls_p (caller_decl, callee_decl)\n /* Return local info for the compiled function.  */\n \n struct cgraph_local_info *\n-cgraph_local_info (decl)\n-     tree decl;\n+cgraph_local_info (tree decl)\n {\n   struct cgraph_node *node;\n   if (TREE_CODE (decl) != FUNCTION_DECL)\n@@ -307,8 +293,7 @@ cgraph_local_info (decl)\n /* Return local info for the compiled function.  */\n \n struct cgraph_global_info *\n-cgraph_global_info (decl)\n-     tree decl;\n+cgraph_global_info (tree decl)\n {\n   struct cgraph_node *node;\n   if (TREE_CODE (decl) != FUNCTION_DECL || !cgraph_global_info_ready)\n@@ -320,8 +305,7 @@ cgraph_global_info (decl)\n /* Return local info for the compiled function.  */\n \n struct cgraph_rtl_info *\n-cgraph_rtl_info (decl)\n-     tree decl;\n+cgraph_rtl_info (tree decl)\n {\n   struct cgraph_node *node;\n   if (TREE_CODE (decl) != FUNCTION_DECL)\n@@ -335,17 +319,15 @@ cgraph_rtl_info (decl)\n \n /* Return name of the node used in debug output.  */\n const char *\n-cgraph_node_name (node)\n-     struct cgraph_node *node;\n+cgraph_node_name (struct cgraph_node *node)\n {\n   return (*lang_hooks.decl_printable_name) (node->decl, 2);\n }\n \n /* Dump the callgraph.  */\n \n void\n-dump_cgraph (f)\n-     FILE *f;\n+dump_cgraph (FILE *f)\n {\n   struct cgraph_node *node;\n \n@@ -398,7 +380,7 @@ dump_cgraph (f)\n /* Returns a hash code for P.  */\n \n static hashval_t\n-cgraph_varpool_hash_node (const PTR p)\n+cgraph_varpool_hash_node (const void *p)\n {\n   return ((hashval_t)\n \t  IDENTIFIER_HASH_VALUE (DECL_ASSEMBLER_NAME\n@@ -408,7 +390,7 @@ cgraph_varpool_hash_node (const PTR p)\n /* Returns nonzero if P1 and P2 are equal.  */\n \n static int\n-eq_cgraph_varpool_node (const PTR p1, const PTR p2)\n+eq_cgraph_varpool_node (const void *p1, const void *p2)\n {\n   return ((DECL_ASSEMBLER_NAME (((struct cgraph_varpool_node *) p1)->decl)) ==\n \t  (tree) p2);\n@@ -502,7 +484,7 @@ cgraph_varpool_finalize_decl (tree decl)\n }\n \n bool\n-cgraph_varpool_assemble_pending_decls ()\n+cgraph_varpool_assemble_pending_decls (void)\n {\n   bool changed = false;\n "}, {"sha": "2fa171f3173dc955d88750353090f9f65fdd1352", "filename": "gcc/cgraph.h", "status": "modified", "additions": 17, "deletions": 17, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/439f7bc3e8e005f08da000618533762bedf68002/gcc%2Fcgraph.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/439f7bc3e8e005f08da000618533762bedf68002/gcc%2Fcgraph.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraph.h?ref=439f7bc3e8e005f08da000618533762bedf68002", "patch": "@@ -153,17 +153,17 @@ extern GTY(()) struct cgraph_varpool_node *cgraph_varpool_nodes_queue;\n \n \n /* In cgraph.c  */\n-void dump_cgraph\t\t\tPARAMS ((FILE *));\n-void cgraph_remove_call\t\t\tPARAMS ((tree, tree));\n-void cgraph_remove_node\t\t\tPARAMS ((struct cgraph_node *));\n-struct cgraph_edge *cgraph_record_call\tPARAMS ((tree, tree));\n-struct cgraph_node *cgraph_node\t\tPARAMS ((tree decl));\n-struct cgraph_node *cgraph_node_for_identifier\tPARAMS ((tree id));\n-bool cgraph_calls_p\t\t\tPARAMS ((tree, tree));\n-struct cgraph_local_info *cgraph_local_info PARAMS ((tree));\n-struct cgraph_global_info *cgraph_global_info PARAMS ((tree));\n-struct cgraph_rtl_info *cgraph_rtl_info PARAMS ((tree));\n-const char * cgraph_node_name PARAMS ((struct cgraph_node *));\n+void dump_cgraph (FILE *);\n+void cgraph_remove_call (tree, tree);\n+void cgraph_remove_node (struct cgraph_node *);\n+struct cgraph_edge *cgraph_record_call (tree, tree);\n+struct cgraph_node *cgraph_node (tree decl);\n+struct cgraph_node *cgraph_node_for_identifier (tree id);\n+bool cgraph_calls_p (tree, tree);\n+struct cgraph_local_info *cgraph_local_info (tree);\n+struct cgraph_global_info *cgraph_global_info (tree);\n+struct cgraph_rtl_info *cgraph_rtl_info (tree);\n+const char * cgraph_node_name (struct cgraph_node *);\n \n struct cgraph_varpool_node *cgraph_varpool_node (tree decl);\n struct cgraph_varpool_node *cgraph_varpool_node_for_identifier (tree id);\n@@ -172,11 +172,11 @@ void cgraph_varpool_finalize_decl (tree);\n bool cgraph_varpool_assemble_pending_decls (void);\n \n /* In cgraphunit.c  */\n-void cgraph_finalize_function\t\tPARAMS ((tree, tree));\n-void cgraph_finalize_compilation_unit\tPARAMS ((void));\n-void cgraph_create_edges\t\tPARAMS ((tree, tree));\n-void cgraph_optimize\t\t\tPARAMS ((void));\n-void cgraph_mark_needed_node\t\tPARAMS ((struct cgraph_node *, int));\n-bool cgraph_inline_p\t\t\tPARAMS ((tree, tree));\n+void cgraph_finalize_function (tree, tree);\n+void cgraph_finalize_compilation_unit (void);\n+void cgraph_create_edges (tree, tree);\n+void cgraph_optimize (void);\n+void cgraph_mark_needed_node (struct cgraph_node *, int);\n+bool cgraph_inline_p (tree, tree);\n \n #endif  /* GCC_CGRAPH_H  */"}, {"sha": "8f5383983a2060074c87e3fef7d860a863848c2f", "filename": "gcc/fix-header.c", "status": "modified", "additions": 34, "deletions": 58, "changes": 92, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/439f7bc3e8e005f08da000618533762bedf68002/gcc%2Ffix-header.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/439f7bc3e8e005f08da000618533762bedf68002/gcc%2Ffix-header.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffix-header.c?ref=439f7bc3e8e005f08da000618533762bedf68002", "patch": "@@ -80,8 +80,9 @@ Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */\n #include \"cpplib.h\"\n #include \"c-incpath.h\"\n \n-static void v_fatal PARAMS ((const char *, va_list)) ATTRIBUTE_PRINTF (1,0) ATTRIBUTE_NORETURN;\n-static void fatal PARAMS ((const char *, ...)) ATTRIBUTE_PRINTF_1 ATTRIBUTE_NORETURN;\n+static void v_fatal (const char *, va_list)\n+     ATTRIBUTE_PRINTF (1,0) ATTRIBUTE_NORETURN;\n+static void fatal (const char *, ...) ATTRIBUTE_PRINTF_1 ATTRIBUTE_NORETURN;\n \n sstring buf;\n \n@@ -187,23 +188,21 @@ struct symbol_list {\n struct symbol_list symbol_table[SYMBOL_TABLE_SIZE];\n int cur_symbol_table_size;\n \n-static void add_symbols PARAMS ((symbol_flags, namelist));\n-static struct fn_decl *lookup_std_proto PARAMS ((const char *, int));\n-static void write_lbrac PARAMS ((void));\n-static void recognized_macro PARAMS ((const char *));\n-static void check_macro_names PARAMS ((cpp_reader *, namelist));\n-static void read_scan_file PARAMS ((char *, int, char **));\n-static void write_rbrac PARAMS ((void));\n-static int inf_skip_spaces PARAMS ((int));\n-static int inf_read_upto PARAMS ((sstring *, int));\n-static int inf_scan_ident PARAMS ((sstring *, int));\n-static int check_protection PARAMS ((int *, int *));\n-static void cb_file_change PARAMS ((cpp_reader *, const struct line_map *));\n+static void add_symbols (symbol_flags, namelist);\n+static struct fn_decl *lookup_std_proto (const char *, int);\n+static void write_lbrac (void);\n+static void recognized_macro (const char *);\n+static void check_macro_names (cpp_reader *, namelist);\n+static void read_scan_file (char *, int, char **);\n+static void write_rbrac (void);\n+static int inf_skip_spaces (int);\n+static int inf_read_upto (sstring *, int);\n+static int inf_scan_ident (sstring *, int);\n+static int check_protection (int *, int *);\n+static void cb_file_change (cpp_reader *, const struct line_map *);\n \n static void\n-add_symbols (flags, names)\n-     symbol_flags flags;\n-     namelist names;\n+add_symbols (symbol_flags flags, namelist names)\n {\n   symbol_table[cur_symbol_table_size].flags = flags;\n   symbol_table[cur_symbol_table_size].names = names;\n@@ -376,9 +375,7 @@ struct obstack scan_file_obstack;\n /* NOTE:  If you edit this, also edit gen-protos.c !! */\n \n static struct fn_decl *\n-lookup_std_proto (name, name_length)\n-     const char *name;\n-     int name_length;\n+lookup_std_proto (const char *name, int name_length)\n {\n   int i = hashstr (name, name_length) % HASH_SIZE;\n   int i0 = i;\n@@ -409,7 +406,7 @@ int required_unseen_count = 0;\n int required_other = 0;\n \n static void\n-write_lbrac ()\n+write_lbrac (void)\n {\n   if (partial_count)\n     {\n@@ -438,8 +435,7 @@ struct partial_proto required_dummy_proto, seen_dummy_proto;\n #define SEEN(FN) ((FN)->partial == &seen_dummy_proto)\n \n static void\n-recognized_macro (fname)\n-     const char *fname;\n+recognized_macro (const char *fname)\n {\n   /* The original include file defines fname as a macro.  */\n   struct fn_decl *fn = lookup_std_proto (fname, strlen (fname));\n@@ -488,8 +484,7 @@ recognized_macro (fname)\n }\n \n void\n-recognized_extern (name)\n-     const cpp_token *name;\n+recognized_extern (const cpp_token *name)\n {\n   switch (special_file_handling)\n     {\n@@ -509,11 +504,8 @@ recognized_extern (name)\n    'extern \"C\"' braces); or 'f' for other function declarations.  */\n \n void\n-recognized_function (fname, line, kind, have_arg_list)\n-     const cpp_token *fname;\n-     unsigned int line;\n-     int kind; /* One of 'f' 'F' or 'I' */\n-     int have_arg_list;\n+recognized_function (const cpp_token *fname, unsigned int line, int kind,\n+\t\t     int have_arg_list)\n {\n   struct partial_proto *partial;\n   int i;\n@@ -570,9 +562,7 @@ recognized_function (fname, line, kind, have_arg_list)\n    call recognized_macro on it.  */\n \n static void\n-check_macro_names (pfile, names)\n-     cpp_reader *pfile;\n-     namelist names;\n+check_macro_names (cpp_reader *pfile, namelist names)\n {\n   size_t len;\n   while (*names)\n@@ -585,19 +575,15 @@ check_macro_names (pfile, names)\n }\n \n static void\n-cb_file_change (pfile, map)\n-     cpp_reader *pfile ATTRIBUTE_UNUSED;\n-     const struct line_map *map;\n+cb_file_change (cpp_reader *pfile ATTRIBUTE_UNUSED,\n+\t\tconst struct line_map *map)\n {\n   /* Just keep track of current file name.  */\n   cur_file = map->to_file;\n }\n \n static void\n-read_scan_file (in_fname, argc, argv)\n-     char *in_fname;\n-     int argc;\n-     char **argv;\n+read_scan_file (char *in_fname, int argc, char **argv)\n {\n   cpp_reader *scan_in;\n   cpp_callbacks *cb;\n@@ -741,7 +727,7 @@ read_scan_file (in_fname, argc, argv)\n }\n \n static void\n-write_rbrac ()\n+write_rbrac (void)\n {\n   struct fn_decl *fn;\n   const char *cptr;\n@@ -881,8 +867,7 @@ write_rbrac ()\n #define INF_UNGET(c) ((c)!=EOF && inf_ptr--)\n \n static int\n-inf_skip_spaces (c)\n-     int c;\n+inf_skip_spaces (int c)\n {\n   for (;;)\n     {\n@@ -920,9 +905,7 @@ inf_skip_spaces (c)\n /* Read into STR from inf_buffer upto DELIM.  */\n \n static int\n-inf_read_upto (str, delim)\n-     sstring *str;\n-     int delim;\n+inf_read_upto (sstring *str, int delim)\n {\n   int ch;\n   for (;;)\n@@ -938,9 +921,7 @@ inf_read_upto (str, delim)\n }\n \n static int\n-inf_scan_ident (s, c)\n-     sstring *s;\n-     int c;\n+inf_scan_ident (sstring *s, int c)\n {\n   s->ptr = s->base;\n   if (ISIDST (c))\n@@ -964,8 +945,7 @@ inf_scan_ident (s, c)\n    Otherwise return 0.  */\n \n static int\n-check_protection (ifndef_line, endif_line)\n-     int *ifndef_line, *endif_line;\n+check_protection (int *ifndef_line, int *endif_line)\n {\n   int c;\n   int if_nesting = 1; /* Level of nesting of #if's */\n@@ -1066,12 +1046,10 @@ check_protection (ifndef_line, endif_line)\n   return 1;\n }\n \n-extern int main\t\t\tPARAMS ((int, char **));\n+extern int main (int, char **);\n \n int\n-main (argc, argv)\n-     int argc;\n-     char **argv;\n+main (int argc, char **argv)\n {\n   int inf_fd;\n   struct stat sbuf;\n@@ -1314,9 +1292,7 @@ main (argc, argv)\n \f\n \n static void\n-v_fatal (str, ap)\n-  const char * str;\n-  va_list ap;\n+v_fatal (const char *str, va_list ap)\n {\n   fprintf (stderr, \"%s: %s: \", progname, inc_filename);\n   vfprintf (stderr, str, ap);"}, {"sha": "cfd7f9c4bfc4c5185b23bd387104acd41f55ea3f", "filename": "gcc/fp-test.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/439f7bc3e8e005f08da000618533762bedf68002/gcc%2Ffp-test.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/439f7bc3e8e005f08da000618533762bedf68002/gcc%2Ffp-test.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffp-test.c?ref=439f7bc3e8e005f08da000618533762bedf68002", "patch": "@@ -1,5 +1,5 @@\n /* fp-test.c - Check that all floating-point operations are available.\n-   Copyright (C) 1995, 2000 Free Software Foundation, Inc.\n+   Copyright (C) 1995, 2000, 2003 Free Software Foundation, Inc.\n    Contributed by Ronald F. Guilmette <rfg@monkeys.com>.\n \n    This file is part of GCC.\n@@ -83,7 +83,7 @@ volatile double d1 = 1.0, d2 = 1.0, d3 = 1.0;\n volatile long double D1 = 1.0, D2 = 1.0, D3 = 1.0;\n \n int\n-main ()\n+main (void)\n {\n   /* TYPE: float */\n "}, {"sha": "937f01e54ad4211174ce139b67292d23af82ec79", "filename": "gcc/protoize.c", "status": "modified", "additions": 125, "deletions": 203, "changes": 328, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/439f7bc3e8e005f08da000618533762bedf68002/gcc%2Fprotoize.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/439f7bc3e8e005f08da000618533762bedf68002/gcc%2Fprotoize.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fprotoize.c?ref=439f7bc3e8e005f08da000618533762bedf68002", "patch": "@@ -71,44 +71,44 @@ Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n #define CPLUS_FILE_SUFFIX \"C\"\n #endif\n \n-static void usage PARAMS ((void)) ATTRIBUTE_NORETURN;\n-static void aux_info_corrupted PARAMS ((void)) ATTRIBUTE_NORETURN;\n-static void declare_source_confusing PARAMS ((const char *)) ATTRIBUTE_NORETURN;\n-static const char *shortpath PARAMS ((const char *, const char *));\n-extern void fancy_abort PARAMS ((void)) ATTRIBUTE_NORETURN;\n-static void notice PARAMS ((const char *, ...)) ATTRIBUTE_PRINTF_1;\n-static char *savestring PARAMS ((const char *, unsigned int));\n-static char *dupnstr PARAMS ((const char *, size_t));\n-static const char *substr PARAMS ((const char *, const char * const));\n-static int safe_read PARAMS ((int, void *, int));\n-static void safe_write PARAMS ((int, void *, int, const char *));\n-static void save_pointers PARAMS ((void));\n-static void restore_pointers PARAMS ((void));\n-static int is_id_char PARAMS ((int));\n-static int in_system_include_dir PARAMS ((const char *));\n-static int directory_specified_p PARAMS ((const char *));\n-static int file_excluded_p PARAMS ((const char *));\n-static char *unexpand_if_needed PARAMS ((const char *));\n-static char *abspath PARAMS ((const char *, const char *));\n-static void check_aux_info PARAMS ((int));\n-static const char *find_corresponding_lparen PARAMS ((const char *));\n-static int referenced_file_is_newer PARAMS ((const char *, time_t));\n-static void save_def_or_dec PARAMS ((const char *, int));\n-static void munge_compile_params PARAMS ((const char *));\n-static int gen_aux_info_file PARAMS ((const char *));\n-static void process_aux_info_file PARAMS ((const char *, int, int));\n-static int identify_lineno PARAMS ((const char *));\n-static void check_source PARAMS ((int, const char *));\n-static const char *seek_to_line PARAMS ((int));\n-static const char *forward_to_next_token_char PARAMS ((const char *));\n-static void output_bytes PARAMS ((const char *, size_t));\n-static void output_string PARAMS ((const char *));\n-static void output_up_to PARAMS ((const char *));\n-static int other_variable_style_function PARAMS ((const char *));\n-static const char *find_rightmost_formals_list PARAMS ((const char *));\n-static void do_cleaning PARAMS ((char *, const char *));\n-static const char *careful_find_l_paren PARAMS ((const char *));\n-static void do_processing PARAMS ((void));\n+static void usage (void) ATTRIBUTE_NORETURN;\n+static void aux_info_corrupted (void) ATTRIBUTE_NORETURN;\n+static void declare_source_confusing (const char *) ATTRIBUTE_NORETURN;\n+static const char *shortpath (const char *, const char *);\n+extern void fancy_abort  (void) ATTRIBUTE_NORETURN;\n+static void notice (const char *, ...) ATTRIBUTE_PRINTF_1;\n+static char *savestring (const char *, unsigned int);\n+static char *dupnstr (const char *, size_t);\n+static const char *substr (const char *, const char * const);\n+static int safe_read (int, void *, int);\n+static void safe_write (int, void *, int, const char *);\n+static void save_pointers (void);\n+static void restore_pointers (void);\n+static int is_id_char (int);\n+static int in_system_include_dir (const char *);\n+static int directory_specified_p (const char *);\n+static int file_excluded_p (const char *);\n+static char *unexpand_if_needed (const char *);\n+static char *abspath (const char *, const char *);\n+static void check_aux_info (int);\n+static const char *find_corresponding_lparen (const char *);\n+static int referenced_file_is_newer (const char *, time_t);\n+static void save_def_or_dec (const char *, int);\n+static void munge_compile_params (const char *);\n+static int gen_aux_info_file (const char *);\n+static void process_aux_info_file (const char *, int, int);\n+static int identify_lineno (const char *);\n+static void check_source (int, const char *);\n+static const char *seek_to_line (int);\n+static const char *forward_to_next_token_char (const char *);\n+static void output_bytes (const char *, size_t);\n+static void output_string (const char *);\n+static void output_up_to (const char *);\n+static int other_variable_style_function (const char *);\n+static const char *find_rightmost_formals_list (const char *);\n+static void do_cleaning (char *, const char *);\n+static const char *careful_find_l_paren (const char *);\n+static void do_processing (void);\n \n /* Look for these where the `const' qualifier is intentionally cast aside.  */\n #define NONCONST\n@@ -196,8 +196,8 @@ struct string_list\n   struct string_list *next;\n };\n \n-static struct string_list *string_list_cons PARAMS ((const char *,\n-\t\t\t\t\t\t     struct string_list *));\n+static struct string_list *string_list_cons (const char *,\n+\t\t\t\t\t     struct string_list *);\n \n /* List of directories in which files should be converted.  */\n \n@@ -242,29 +242,29 @@ typedef struct file_info_struct file_info;\n typedef struct f_list_chain_item_struct f_list_chain_item;\n \n #ifndef UNPROTOIZE\n-static int is_syscalls_file PARAMS ((const file_info *));\n-static void rename_c_file PARAMS ((const hash_table_entry *));\n-static const def_dec_info *find_extern_def PARAMS ((const def_dec_info *,\n-\t\t\t\t\t\t    const def_dec_info *));\n-static const def_dec_info *find_static_definition PARAMS ((const def_dec_info *));\n-static void connect_defs_and_decs PARAMS ((const hash_table_entry *));\n-static void add_local_decl PARAMS ((const def_dec_info *, const char *));\n-static void add_global_decls PARAMS ((const file_info *, const char *));\n+static int is_syscalls_file (const file_info *);\n+static void rename_c_file (const hash_table_entry *);\n+static const def_dec_info *find_extern_def (const def_dec_info *,\n+\t\t\t\t\t    const def_dec_info *);\n+static const def_dec_info *find_static_definition (const def_dec_info *);\n+static void connect_defs_and_decs (const hash_table_entry *);\n+static void add_local_decl (const def_dec_info *, const char *);\n+static void add_global_decls (const file_info *, const char *);\n #endif /* ! UNPROTOIZE */\n-static int needs_to_be_converted PARAMS ((const file_info *));\n-static void visit_each_hash_node PARAMS ((const hash_table_entry *,\n-\t\t\t\t\t  void (*)(const hash_table_entry *)));\n-static hash_table_entry *add_symbol PARAMS ((hash_table_entry *, const char *));\n-static hash_table_entry *lookup PARAMS ((hash_table_entry *, const char *));\n-static void free_def_dec PARAMS ((def_dec_info *));\n-static file_info *find_file PARAMS ((const char *, int));\n-static void reverse_def_dec_list PARAMS ((const hash_table_entry *));\n-static void edit_fn_declaration PARAMS ((const def_dec_info *, const char *));\n-static int edit_formals_lists PARAMS ((const char *, unsigned int,\n-\t\t\t\t       const def_dec_info *));\n-static void edit_fn_definition PARAMS ((const def_dec_info *, const char *));\n-static void scan_for_missed_items PARAMS ((const file_info *));\n-static void edit_file PARAMS ((const hash_table_entry *));\n+static int needs_to_be_converted (const file_info *);\n+static void visit_each_hash_node (const hash_table_entry *,\n+\t\t\t\t  void (*)(const hash_table_entry *));\n+static hash_table_entry *add_symbol (hash_table_entry *, const char *);\n+static hash_table_entry *lookup (hash_table_entry *, const char *);\n+static void free_def_dec (def_dec_info *);\n+static file_info *find_file (const char *, int);\n+static void reverse_def_dec_list (const hash_table_entry *);\n+static void edit_fn_declaration (const def_dec_info *, const char *);\n+static int edit_formals_lists (const char *, unsigned int,\n+\t\t\t       const def_dec_info *);\n+static void edit_fn_definition (const def_dec_info *, const char *);\n+static void scan_for_missed_items (const file_info *);\n+static void edit_file (const hash_table_entry *);\n \n /* In the struct below, note that the \"_info\" field has two different uses\n    depending on the type of hash table we are in (i.e. either the filenames\n@@ -519,9 +519,7 @@ notice (const char *msgid, ...)\n /* Make a copy of a string INPUT with size SIZE.  */\n \n static char *\n-savestring (input, size)\n-     const char *input;\n-     unsigned int size;\n+savestring (const char *input, unsigned int size)\n {\n   char *output = (char *) xmalloc (size + 1);\n   strcpy (output, input);\n@@ -532,7 +530,7 @@ savestring (input, size)\n    config.h can #define abort fancy_abort if you like that sort of thing.  */\n \n void\n-fancy_abort ()\n+fancy_abort (void)\n {\n   notice (\"%s: internal abort\\n\", pname);\n   exit (FATAL_EXIT_CODE);\n@@ -542,9 +540,7 @@ fancy_abort ()\n    allocated area.  */\n \n static char *\n-dupnstr (s, n)\n-     const char *s;\n-     size_t n;\n+dupnstr (const char *s, size_t n)\n {\n   char *ret_val = (char *) xmalloc (n + 1);\n \n@@ -557,9 +553,7 @@ dupnstr (s, n)\n    does not occur within s1.  Assume neither s1 nor s2 are null pointers.  */\n \n static const char *\n-substr (s1, s2)\n-     const char *s1;\n-     const char *const s2;\n+substr (const char *s1, const char *const s2)\n {\n   for (; *s1 ; s1++)\n     {\n@@ -581,10 +575,7 @@ substr (s1, s2)\n    retrying if necessary.  Return the actual number of bytes read.  */\n \n static int\n-safe_read (desc, ptr, len)\n-     int desc;\n-     void *ptr;\n-     int len;\n+safe_read (int desc, void *ptr, int len)\n {\n   int left = len;\n   while (left > 0) {\n@@ -610,11 +601,7 @@ safe_read (desc, ptr, len)\n    retrying if necessary, and treating any real error as fatal.  */\n \n static void\n-safe_write (desc, ptr, len, out_fname)\n-     int desc;\n-     void *ptr;\n-     int len;\n-     const char *out_fname;\n+safe_write (int desc, void *ptr, int len, const char *out_fname)\n {\n   while (len > 0) {\n     int written = write (desc, ptr, len);\n@@ -638,7 +625,7 @@ safe_write (desc, ptr, len, out_fname)\n /* Get setup to recover in case the edit we are about to do goes awry.  */\n \n static void\n-save_pointers ()\n+save_pointers (void)\n {\n   saved_clean_read_ptr = clean_read_ptr;\n   saved_repl_write_ptr = repl_write_ptr;\n@@ -648,7 +635,7 @@ save_pointers ()\n    too confusing in the source code we are trying to edit.  */\n \n static void\n-restore_pointers ()\n+restore_pointers (void)\n {\n   clean_read_ptr = saved_clean_read_ptr;\n   repl_write_ptr = saved_repl_write_ptr;\n@@ -657,8 +644,7 @@ restore_pointers ()\n /* Return true if the given character is a valid identifier character.  */\n \n static int\n-is_id_char (ch)\n-     int ch;\n+is_id_char (int ch)\n {\n   return (ISIDNUM (ch) || (ch == '$'));\n }\n@@ -667,7 +653,7 @@ is_id_char (ch)\n    exit with nonzero status.  */\n \n static void\n-usage ()\n+usage (void)\n {\n #ifdef UNPROTOIZE\n   notice (\"%s: usage '%s [ -VqfnkN ] [ -i <istring> ] [ filename ... ]'\\n\",\n@@ -684,8 +670,7 @@ usage ()\n    include directories.  */\n \n static int\n-in_system_include_dir (path)\n-     const char *path;\n+in_system_include_dir (const char *path)\n {\n   const struct default_include *p;\n \n@@ -811,8 +796,7 @@ file_normally_convertible (const char *path)\n    file.  Return false otherwise.  */\n \n static int\n-is_syscalls_file (fi_p)\n-     const file_info *fi_p;\n+is_syscalls_file (const file_info *fi_p)\n {\n   char const *f = fi_p->hash_entry->symbol;\n   size_t fl = strlen (f), sysl = sizeof (syscalls_filename) - 1;\n@@ -831,8 +815,7 @@ is_syscalls_file (fi_p)\n    by connect_defs_and_decs.  */\n \n static int\n-needs_to_be_converted (file_p)\n-     const file_info *file_p;\n+needs_to_be_converted (const file_info *file_p)\n {\n   const def_dec_info *ddp;\n \n@@ -870,8 +853,7 @@ needs_to_be_converted (file_p)\n    that should be converted.  */\n \n static int\n-directory_specified_p (name)\n-     const char *name;\n+directory_specified_p (const char *name)\n {\n   struct string_list *p;\n \n@@ -897,8 +879,7 @@ directory_specified_p (name)\n /* Return 1 if the file named NAME should be excluded from conversion.  */\n \n static int\n-file_excluded_p (name)\n-     const char *name;\n+file_excluded_p (const char *name)\n {\n   struct string_list *p;\n   int len = strlen (name);\n@@ -915,9 +896,7 @@ file_excluded_p (name)\n    STRING is the new element value, and REST holds the remaining elements.  */\n \n static struct string_list *\n-string_list_cons (string, rest)\n-     const char *string;\n-     struct string_list *rest;\n+string_list_cons (const char *string, struct string_list *rest)\n {\n   struct string_list *temp\n     = (struct string_list *) xmalloc (sizeof (struct string_list));\n@@ -937,9 +916,8 @@ string_list_cons (string, rest)\n    argument.  */\n \n static void\n-visit_each_hash_node (hash_tab_p, func)\n-     const hash_table_entry *hash_tab_p;\n-     void (*func) PARAMS ((const hash_table_entry *));\n+visit_each_hash_node (const hash_table_entry *hash_tab_p,\n+\t\t      void (*func) (const hash_table_entry *))\n {\n   const hash_table_entry *primary;\n \n@@ -960,9 +938,7 @@ visit_each_hash_node (hash_tab_p, func)\n    called.  */\n \n static hash_table_entry *\n-add_symbol (p, s)\n-     hash_table_entry *p;\n-     const char *s;\n+add_symbol (hash_table_entry *p, const char *s)\n {\n   p->hash_next = NULL;\n   p->symbol = xstrdup (s);\n@@ -977,9 +953,7 @@ add_symbol (p, s)\n    hash table entry for the given name.  */\n \n static hash_table_entry *\n-lookup (hash_tab_p, search_symbol)\n-     hash_table_entry *hash_tab_p;\n-     const char *search_symbol;\n+lookup (hash_table_entry *hash_tab_p, const char *search_symbol)\n {\n   int hash_value = 0;\n   const char *search_symbol_char_p = search_symbol;\n@@ -1010,8 +984,7 @@ lookup (hash_tab_p, search_symbol)\n    stuff it pointed to.  */\n \n static void\n-free_def_dec (p)\n-     def_dec_info *p;\n+free_def_dec (def_dec_info *p)\n {\n   free ((NONCONST void *) p->ansi_decl);\n \n@@ -1037,8 +1010,7 @@ free_def_dec (p)\n    return a pointer to the unexpanded copy.  Otherwise return NULL.  */\n \n static char *\n-unexpand_if_needed (aux_info_line)\n-     const char *aux_info_line;\n+unexpand_if_needed (const char *aux_info_line)\n {\n   static char *line_buf = 0;\n   static int line_buf_size = 0;\n@@ -1120,9 +1092,7 @@ continue_outer: ;\n    NULL.  */\n \n static char *\n-abspath (cwd, rel_filename)\n-     const char *cwd;\n-     const char *rel_filename;\n+abspath (const char *cwd, const char *rel_filename)\n {\n   /* Setup the current working directory as needed.  */\n   const char *const cwd2 = (cwd) ? cwd : cwd_buffer;\n@@ -1239,9 +1209,7 @@ abspath (cwd, rel_filename)\n    subpart of the original filename is actually a symbolic link.  */\n \n static const char *\n-shortpath (cwd, filename)\n-     const char *cwd;\n-     const char *filename;\n+shortpath (const char *cwd, const char *filename)\n {\n   char *rel_buffer;\n   char *rel_buf_p;\n@@ -1328,9 +1296,7 @@ shortpath (cwd, filename)\n    That is probably a bug in AIX, but might as well avoid the warning.  */\n \n static file_info *\n-find_file (filename, do_not_stat)\n-     const char *filename;\n-     int do_not_stat;\n+find_file (const char *filename, int do_not_stat)\n {\n   hash_table_entry *hash_entry_p;\n \n@@ -1371,7 +1337,7 @@ find_file (filename, do_not_stat)\n    messed up.  */\n \n static void\n-aux_info_corrupted ()\n+aux_info_corrupted (void)\n {\n   notice (\"\\n%s: fatal error: aux info file corrupted at line %d\\n\",\n \t  pname, current_aux_info_lineno);\n@@ -1382,8 +1348,7 @@ aux_info_corrupted ()\n /* Check to see that a condition is true.  This is kind of like an assert.  */\n \n static void\n-check_aux_info (cond)\n-     int cond;\n+check_aux_info (int cond)\n {\n   if (! cond)\n     aux_info_corrupted ();\n@@ -1394,8 +1359,7 @@ check_aux_info (cond)\n    return a pointer to it.  */\n \n static const char *\n-find_corresponding_lparen (p)\n-     const char *p;\n+find_corresponding_lparen (const char *p)\n {\n   const char *q;\n   int paren_depth;\n@@ -1421,9 +1385,7 @@ find_corresponding_lparen (p)\n    file was created.  If so, return nonzero, else return zero.  */\n \n static int\n-referenced_file_is_newer (l, aux_info_mtime)\n-     const char *l;\n-     time_t aux_info_mtime;\n+referenced_file_is_newer (const char *l, time_t aux_info_mtime)\n {\n   const char *p;\n   file_info *fi_p;\n@@ -1473,9 +1435,7 @@ referenced_file_is_newer (l, aux_info_mtime)\n    pertaining to this particular function name.  */\n \n static void\n-save_def_or_dec (l, is_syscalls)\n-     const char *l;\n-     int is_syscalls;\n+save_def_or_dec (const char *l, int is_syscalls)\n {\n   const char *p;\n   const char *semicolon_p;\n@@ -1868,8 +1828,7 @@ save_def_or_dec (l, is_syscalls)\n    and adding '-aux-info AUXFILE -S  -o /dev/null INFILE' at the end.  */\n \n static void\n-munge_compile_params (params_list)\n-     const char *params_list;\n+munge_compile_params (const char *params_list)\n {\n   /* Build up the contents in a temporary vector\n      that is so big that to has to be big enough.  */\n@@ -1954,8 +1913,7 @@ munge_compile_params (params_list)\n    The result is a boolean indicating success.  */\n \n static int\n-gen_aux_info_file (base_filename)\n-     const char *base_filename;\n+gen_aux_info_file (const char *base_filename)\n {\n   if (!input_file_name_index)\n     munge_compile_params (\"\");\n@@ -2017,10 +1975,8 @@ gen_aux_info_file (base_filename)\n    Save all of the important stuff for later.  */\n \n static void\n-process_aux_info_file (base_source_filename, keep_it, is_syscalls)\n-     const char *base_source_filename;\n-     int keep_it;\n-     int is_syscalls;\n+process_aux_info_file (const char *base_source_filename, int keep_it,\n+\t\t       int is_syscalls)\n {\n   size_t base_len = strlen (base_source_filename);\n   char * aux_info_filename\n@@ -2349,8 +2305,7 @@ start_over: ;\n    function implements the -C option.  */\n \n static void\n-rename_c_file (hp)\n-     const hash_table_entry *hp;\n+rename_c_file (const hash_table_entry *hp)\n {\n   const char *filename = hp->symbol;\n   int last_char_index = strlen (filename) - 1;\n@@ -2392,8 +2347,7 @@ rename_c_file (hp)\n    order here.  */\n \n static void\n-reverse_def_dec_list (hp)\n-     const hash_table_entry *hp;\n+reverse_def_dec_list (const hash_table_entry *hp)\n {\n   file_info *file_p = hp->fip;\n   def_dec_info *prev = NULL;\n@@ -2434,9 +2388,7 @@ reverse_def_dec_list (hp)\n    contains all of the correct prototypes for system functions.  */\n \n static const def_dec_info *\n-find_extern_def (head, user)\n-     const def_dec_info *head;\n-     const def_dec_info *user;\n+find_extern_def (const def_dec_info *head, const def_dec_info *user)\n {\n   const def_dec_info *dd_p;\n   const def_dec_info *extern_def_p = NULL;\n@@ -2597,8 +2549,7 @@ find_extern_def (head, user)\n    from the def_dec_info record pointer which is passed in.  */\n \n static const def_dec_info *\n-find_static_definition (user)\n-     const def_dec_info *user;\n+find_static_definition (const def_dec_info *user)\n {\n   const def_dec_info *head = user->hash_entry->ddip;\n   const def_dec_info *dd_p;\n@@ -2647,8 +2598,7 @@ find_static_definition (user)\n    more details.  */\n \n static void\n-connect_defs_and_decs (hp)\n-     const hash_table_entry *hp;\n+connect_defs_and_decs (const hash_table_entry *hp)\n {\n   const def_dec_info *dd_p;\n   const def_dec_info *extern_def_p = NULL;\n@@ -2772,8 +2722,7 @@ connect_defs_and_decs (hp)\n    original source line number that the given pointer points into.  */\n \n static int\n-identify_lineno (clean_p)\n-     const char *clean_p;\n+identify_lineno (const char *clean_p)\n {\n   int line_num = 1;\n   const char *scan_p;\n@@ -2787,8 +2736,7 @@ identify_lineno (clean_p)\n /* Issue an error message and give up on doing this particular edit.  */\n \n static void\n-declare_source_confusing (clean_p)\n-     const char *clean_p;\n+declare_source_confusing (const char *clean_p)\n {\n   if (!quiet_flag)\n     {\n@@ -2808,9 +2756,7 @@ declare_source_confusing (clean_p)\n    converting this particular source file.  */\n \n static void\n-check_source (cond, clean_p)\n-     int cond;\n-     const char *clean_p;\n+check_source (int cond, const char *clean_p)\n {\n   if (!cond)\n     declare_source_confusing (clean_p);\n@@ -2832,8 +2778,7 @@ check_source (cond, clean_p)\n    of the in-core cleaned buffer again.  */\n \n static const char *\n-seek_to_line (n)\n-     int n;\n+seek_to_line (int n)\n {\n   if (n < last_known_line_number)\n     abort ();\n@@ -2852,8 +2797,7 @@ seek_to_line (n)\n    to the next non-whitespace character which follows it.  */\n \n static const char *\n-forward_to_next_token_char (ptr)\n-     const char *ptr;\n+forward_to_next_token_char (const char *ptr)\n {\n   for (++ptr; ISSPACE ((const unsigned char)*ptr);\n        check_source (++ptr < clean_text_limit, 0))\n@@ -2866,9 +2810,7 @@ forward_to_next_token_char (ptr)\n    buffer ultimately go through here.  */\n \n static void\n-output_bytes (str, len)\n-     const char *str;\n-     size_t len;\n+output_bytes (const char *str, size_t len)\n {\n   if ((repl_write_ptr + 1) + len >= repl_text_limit)\n     {\n@@ -2887,8 +2829,7 @@ output_bytes (str, len)\n    the current output buffer.  */\n \n static void\n-output_string (str)\n-     const char *str;\n+output_string (const char *str)\n {\n   output_bytes (str, strlen (str));\n }\n@@ -2913,8 +2854,7 @@ output_string (str)\n    byte pointed to by the argument pointer `p'.  */\n \n static void\n-output_up_to (p)\n-     const char *p;\n+output_up_to (const char *p)\n {\n   size_t copy_length = (size_t) (p - clean_read_ptr);\n   const char *copy_start = orig_text_base+(clean_read_ptr-clean_text_base)+1;\n@@ -2933,8 +2873,7 @@ output_up_to (p)\n    otherwise.  */\n \n static int\n-other_variable_style_function (ansi_header)\n-     const char *ansi_header;\n+other_variable_style_function (const char *ansi_header)\n {\n #ifdef UNPROTOIZE\n \n@@ -2972,9 +2911,8 @@ other_variable_style_function (ansi_header)\n    below.  */\n \n static void\n-edit_fn_declaration (def_dec_p, clean_text_p)\n-     const def_dec_info *def_dec_p;\n-     const char *volatile clean_text_p;\n+edit_fn_declaration (const def_dec_info *def_dec_p,\n+\t\t     const char *volatile clean_text_p)\n {\n   const char *start_formals;\n   const char *end_formals;\n@@ -3188,10 +3126,8 @@ edit_fn_declaration (def_dec_p, clean_text_p)\n    function doesn't match the one expected).  */\n \n static int\n-edit_formals_lists (end_formals, f_list_count, def_dec_p)\n-     const char *end_formals;\n-     unsigned int f_list_count;\n-     const def_dec_info *def_dec_p;\n+edit_formals_lists (const char *end_formals, unsigned int f_list_count,\n+\t\t    const def_dec_info *def_dec_p)\n {\n   const char *start_formals;\n   int depth;\n@@ -3299,8 +3235,7 @@ edit_formals_lists (end_formals, f_list_count, def_dec_p)\n    definition header.  */\n \n static const char *\n-find_rightmost_formals_list (clean_text_p)\n-     const char *clean_text_p;\n+find_rightmost_formals_list (const char *clean_text_p)\n {\n   const char *end_formals;\n \n@@ -3417,9 +3352,7 @@ find_rightmost_formals_list (clean_text_p)\n    parameter type checking.  */\n \n static void\n-add_local_decl (def_dec_p, clean_text_p)\n-     const def_dec_info *def_dec_p;\n-     const char *clean_text_p;\n+add_local_decl (const def_dec_info *def_dec_p, const char *clean_text_p)\n {\n   const char *start_of_block;\n   const char *function_to_edit = def_dec_p->hash_entry->symbol;\n@@ -3524,9 +3457,7 @@ add_local_decl (def_dec_p, clean_text_p)\n    and then insert the new explicit declaration at that point in the file.  */\n \n static void\n-add_global_decls (file_p, clean_text_p)\n-     const file_info *file_p;\n-     const char *clean_text_p;\n+add_global_decls (const file_info *file_p, const char *clean_text_p)\n {\n   const def_dec_info *dd_p;\n   const char *scan_p;\n@@ -3615,9 +3546,7 @@ add_global_decls (file_p, clean_text_p)\n    separate routine above.  */\n \n static void\n-edit_fn_definition (def_dec_p, clean_text_p)\n-     const def_dec_info *def_dec_p;\n-     const char *clean_text_p;\n+edit_fn_definition (const def_dec_info *def_dec_p, const char *clean_text_p)\n {\n   const char *end_formals;\n   const char *function_to_edit = def_dec_p->hash_entry->symbol;\n@@ -3759,9 +3688,7 @@ edit_fn_definition (def_dec_p, clean_text_p)\n    into whitespace.  Also, whiteout string and character literals.  */\n \n static void\n-do_cleaning (new_clean_text_base, new_clean_text_limit)\n-     char *new_clean_text_base;\n-     const char *new_clean_text_limit;\n+do_cleaning (char *new_clean_text_base, const char *new_clean_text_limit)\n {\n   char *scan_p;\n   int non_whitespace_since_newline = 0;\n@@ -3865,8 +3792,7 @@ do_cleaning (new_clean_text_base, new_clean_text_limit)\n    and return a pointer to it.  */\n \n static const char *\n-careful_find_l_paren (p)\n-     const char *p;\n+careful_find_l_paren (const char *p)\n {\n   const char *q;\n   int paren_depth;\n@@ -3904,8 +3830,7 @@ careful_find_l_paren (p)\n    I will probably try to do this in a later version though.  */\n \n static void\n-scan_for_missed_items (file_p)\n-     const file_info *file_p;\n+scan_for_missed_items (const file_info *file_p)\n {\n   static const char *scan_p;\n   const char *limit = clean_text_limit - 3;\n@@ -4020,8 +3945,7 @@ scan_for_missed_items (file_p)\n    preprocessing directives make the editing a whole lot easier.  */\n \n static void\n-edit_file (hp)\n-     const hash_table_entry *hp;\n+edit_file (const hash_table_entry *hp)\n {\n   struct stat stat_buf;\n   const file_info *file_p = hp->fip;\n@@ -4360,7 +4284,7 @@ edit_file (hp)\n    in the command line.  */\n \n static void\n-do_processing ()\n+do_processing (void)\n {\n   const char * const *base_pp;\n   const char * const * const end_pps\n@@ -4485,12 +4409,10 @@ static const struct option longopts[] =\n   {0, 0, 0, 0}\n };\n \n-extern int main PARAMS ((int, char **const));\n+extern int main (int, char **const);\n \n int\n-main (argc, argv)\n-     int argc;\n-     char **const argv;\n+main (int argc, char **const argv)\n {\n   int longind;\n   int c;"}, {"sha": "53085e187d0cf3c7728402d20fc50a000a723274", "filename": "gcc/ra.h", "status": "modified", "additions": 54, "deletions": 56, "changes": 110, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/439f7bc3e8e005f08da000618533762bedf68002/gcc%2Fra.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/439f7bc3e8e005f08da000618533762bedf68002/gcc%2Fra.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fra.h?ref=439f7bc3e8e005f08da000618533762bedf68002", "patch": "@@ -1,5 +1,5 @@\n /* Graph coloring register allocator\n-   Copyright (C) 2001, 2002 Free Software Foundation, Inc.\n+   Copyright (C) 2001, 2002, 2003 Free Software Foundation, Inc.\n    Contributed by Michael Matz <matz@suse.de>\n    and Daniel Berlin <dan@cgsoftware.com>.\n \n@@ -569,63 +569,61 @@ extern int flag_ra_spill_every_use;\n /* Nonzero to output all notes in the debug dumps.  */\n extern int flag_ra_dump_notes;\n \n-extern inline void * ra_alloc PARAMS ((size_t));\n-extern inline void * ra_calloc PARAMS ((size_t));\n-extern int hard_regs_count PARAMS ((HARD_REG_SET));\n-extern rtx ra_emit_move_insn PARAMS ((rtx, rtx));\n-extern void ra_debug_msg PARAMS ((unsigned int,\n-\t\t\t          const char *, ...)) ATTRIBUTE_PRINTF_2;\n-extern int hard_regs_intersect_p PARAMS ((HARD_REG_SET *, HARD_REG_SET *));\n-extern unsigned int rtx_to_bits PARAMS ((rtx));\n-extern struct web * find_subweb PARAMS ((struct web *, rtx));\n-extern struct web * find_subweb_2 PARAMS ((struct web *, unsigned int));\n-extern struct web * find_web_for_subweb_1 PARAMS ((struct web *));\n+extern inline void * ra_alloc (size_t);\n+extern inline void * ra_calloc (size_t);\n+extern int hard_regs_count (HARD_REG_SET);\n+extern rtx ra_emit_move_insn (rtx, rtx);\n+extern void ra_debug_msg (unsigned int, const char *, ...) ATTRIBUTE_PRINTF_2;\n+extern int hard_regs_intersect_p (HARD_REG_SET *, HARD_REG_SET *);\n+extern unsigned int rtx_to_bits (rtx);\n+extern struct web * find_subweb (struct web *, rtx);\n+extern struct web * find_subweb_2 (struct web *, unsigned int);\n+extern struct web * find_web_for_subweb_1 (struct web *);\n \n #define find_web_for_subweb(w) (((w)->parent_web) \\\n \t\t\t\t? find_web_for_subweb_1 ((w)->parent_web) \\\n \t\t\t\t: (w))\n \n-extern void ra_build_realloc PARAMS ((struct df *));\n-extern void ra_build_free PARAMS ((void));\n-extern void ra_build_free_all PARAMS ((struct df *));\n-extern void ra_colorize_init PARAMS ((void));\n-extern void ra_colorize_free_all PARAMS ((void));\n-extern void ra_rewrite_init PARAMS ((void));\n-\n-extern void ra_print_rtx PARAMS ((FILE *, rtx, int));\n-extern void ra_print_rtx_top PARAMS ((FILE *, rtx, int));\n-extern void ra_debug_rtx PARAMS ((rtx));\n-extern void ra_debug_insns PARAMS ((rtx, int));\n-extern void ra_debug_bbi PARAMS ((int));\n-extern void ra_print_rtl_with_bb PARAMS ((FILE *, rtx));\n-extern void dump_igraph PARAMS ((struct df *));\n-extern void dump_igraph_machine PARAMS ((void));\n-extern void dump_constraints PARAMS ((void));\n-extern void dump_cost PARAMS ((unsigned int));\n-extern void dump_graph_cost PARAMS ((unsigned int, const char *));\n-extern void dump_ra PARAMS ((struct df *));\n-extern void dump_number_seen PARAMS ((void));\n-extern void dump_static_insn_cost PARAMS ((FILE *, const char *,\n-\t\t\t\t\t   const char *));\n-extern void dump_web_conflicts PARAMS ((struct web *));\n-extern void dump_web_insns PARAMS ((struct web*));\n-extern int web_conflicts_p PARAMS ((struct web *, struct web *));\n-extern void debug_hard_reg_set PARAMS ((HARD_REG_SET));\n-\n-extern void remove_list PARAMS ((struct dlist *, struct dlist **));\n-extern struct dlist * pop_list PARAMS ((struct dlist **));\n-extern void record_conflict PARAMS ((struct web *, struct web *));\n-extern int memref_is_stack_slot PARAMS ((rtx));\n-extern void build_i_graph PARAMS ((struct df *));\n-extern void put_web PARAMS ((struct web *, enum node_type));\n-extern void remove_web_from_list PARAMS ((struct web *));\n-extern void reset_lists PARAMS ((void));\n-extern struct web * alias PARAMS ((struct web *));\n-extern void merge_moves PARAMS ((struct web *, struct web *));\n-extern void ra_colorize_graph PARAMS ((struct df *));\n-\n-extern void actual_spill PARAMS ((void));\n-extern void emit_colors PARAMS ((struct df *));\n-extern void delete_moves PARAMS ((void));\n-extern void setup_renumber PARAMS ((int));\n-extern void remove_suspicious_death_notes PARAMS ((void));\n+extern void ra_build_realloc (struct df *);\n+extern void ra_build_free (void);\n+extern void ra_build_free_all (struct df *);\n+extern void ra_colorize_init (void);\n+extern void ra_colorize_free_all (void);\n+extern void ra_rewrite_init (void);\n+\n+extern void ra_print_rtx (FILE *, rtx, int);\n+extern void ra_print_rtx_top (FILE *, rtx, int);\n+extern void ra_debug_rtx (rtx);\n+extern void ra_debug_insns (rtx, int);\n+extern void ra_debug_bbi (int);\n+extern void ra_print_rtl_with_bb (FILE *, rtx);\n+extern void dump_igraph (struct df *);\n+extern void dump_igraph_machine (void);\n+extern void dump_constraints (void);\n+extern void dump_cost (unsigned int);\n+extern void dump_graph_cost (unsigned int, const char *);\n+extern void dump_ra (struct df *);\n+extern void dump_number_seen (void);\n+extern void dump_static_insn_cost (FILE *, const char *, const char *);\n+extern void dump_web_conflicts (struct web *);\n+extern void dump_web_insns (struct web*);\n+extern int web_conflicts_p (struct web *, struct web *);\n+extern void debug_hard_reg_set (HARD_REG_SET);\n+\n+extern void remove_list (struct dlist *, struct dlist **);\n+extern struct dlist * pop_list (struct dlist **);\n+extern void record_conflict (struct web *, struct web *);\n+extern int memref_is_stack_slot (rtx);\n+extern void build_i_graph (struct df *);\n+extern void put_web (struct web *, enum node_type);\n+extern void remove_web_from_list (struct web *);\n+extern void reset_lists (void);\n+extern struct web * alias (struct web *);\n+extern void merge_moves (struct web *, struct web *);\n+extern void ra_colorize_graph (struct df *);\n+\n+extern void actual_spill (void);\n+extern void emit_colors (struct df *);\n+extern void delete_moves (void);\n+extern void setup_renumber (int);\n+extern void remove_suspicious_death_notes (void);"}, {"sha": "c625ac86dd72362e34b19dd31af86de624f9dd07", "filename": "gcc/version.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/439f7bc3e8e005f08da000618533762bedf68002/gcc%2Fversion.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/439f7bc3e8e005f08da000618533762bedf68002/gcc%2Fversion.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fversion.c?ref=439f7bc3e8e005f08da000618533762bedf68002", "patch": "@@ -1,4 +1,3 @@\n-#include \"ansidecl.h\"\n #include \"version.h\"\n \n /* This is the string reported as the version number by all components"}]}