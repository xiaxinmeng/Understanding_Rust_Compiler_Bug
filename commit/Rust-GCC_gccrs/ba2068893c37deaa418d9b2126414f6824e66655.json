{"sha": "ba2068893c37deaa418d9b2126414f6824e66655", "node_id": "C_kwDOANBUbNoAKGJhMjA2ODg5M2MzN2RlYWE0MThkOWIyMTI2NDE0ZjY4MjRlNjY2NTU", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2022-05-12T06:24:12Z"}, "committer": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2022-05-13T06:18:33Z"}, "message": "Make gimple_build main workers more flexible\n\nThe following makes the main gimple_build API take a\ngimple_stmt_iterator, whether to insert before or after and\nan iterator update argument to make it more convenient to use\nin certain situations (see the tree-vect-generic.cc hunks for\nan example).  It also makes the case we insert into the IL\nsomewhat distinct from inserting into a standalone sequence in\nthat it simplifies built expressions the same way as inserting\nand calling fold_stmt (..., follow_all_ssa_edges) would.  When\ninserting into a standalone sequence we restrict simplification\nto defs within the currently building sequence.\n\nThe patch only amends the tree_code gimple_build API, I will\nfollowup with converting the rest as well.  The patch got larger\nthan intended because the template forwarders now use gsi_last\nwhich introduces a dependency on gimple-iterator.h requiring\nmass #include re-org across the tree.  There are two frontend\nspecific files including gimple-fold.h just for some padding\nclearing stuff - I've removed the include and instead moved\nthe declarations to fold-const.h (but not the implementations).\nOtherwise I'd have to include half of the middle-end headers in\nthose files which I didn't much like.\n\n2022-05-12  Richard Biener  <rguenther@suse.de>\n\ngcc/cp/\n\t* constexpr.cc: Remove gimple-fold.h include.\n\ngcc/c-family/\n\t* c-omp.cc: Remove gimple-fold.h include.\n\ngcc/analyzer/\n\t* supergraph.cc: Re-order gimple-fold.h include.\n\ngcc/\n\t* gimple-fold.cc (gimple_build): Adjust for new\n\tmain API.\n\t* gimple-fold.h (gimple_build): New main APIs with\n\titerator, insert direction and iterator update.\n\t(gimple_build): New forwarder template.\n\t(clear_padding_type_may_have_padding_p): Remove.\n\t(clear_type_padding_in_mask): Likewise.\n\t(arith_overflowed_p): Likewise.\n\t* fold-const.h (clear_padding_type_may_have_padding_p): Declare.\n\t(clear_type_padding_in_mask): Likewise.\n\t(arith_overflowed_p): Likewise.\n\t* tree-vect-generic.cc (gimplify_build3): Use main gimple_build API.\n\t(gimplify_build2): Likewise.\n\t(gimplify_build1): Likewise.\n\t* ubsan.cc (ubsan_expand_ptr_ifn): Likewise, avoid extra\n\tcompare stmt.\n\t* gengtype.cc (open_base_files): Re-order includes.\n\t* builtins.cc: Re-order gimple-fold.h include.\n\t* calls.cc: Likewise.\n\t* cgraphbuild.cc: Likewise.\n\t* cgraphunit.cc: Likewise.\n\t* config/rs6000/rs6000-builtin.cc: Likewise.\n\t* config/rs6000/rs6000-call.cc: Likewise.\n\t* config/rs6000/rs6000.cc: Likewise.\n\t* config/s390/s390.cc: Likewise.\n\t* expr.cc: Likewise.\n\t* fold-const.cc: Likewise.\n\t* function-tests.cc: Likewise.\n\t* gimple-match-head.cc: Likewise.\n\t* gimple-range-fold.cc: Likewise.\n\t* gimple-ssa-evrp-analyze.cc: Likewise.\n\t* gimple-ssa-evrp.cc: Likewise.\n\t* gimple-ssa-sprintf.cc: Likewise.\n\t* gimple-ssa-warn-access.cc: Likewise.\n\t* gimplify.cc: Likewise.\n\t* graphite-isl-ast-to-gimple.cc: Likewise.\n\t* ipa-cp.cc: Likewise.\n\t* ipa-devirt.cc: Likewise.\n\t* ipa-prop.cc: Likewise.\n\t* omp-low.cc: Likewise.\n\t* pointer-query.cc: Likewise.\n\t* range-op.cc: Likewise.\n\t* tree-cfg.cc: Likewise.\n\t* tree-if-conv.cc: Likewise.\n\t* tree-inline.cc: Likewise.\n\t* tree-object-size.cc: Likewise.\n\t* tree-ssa-ccp.cc: Likewise.\n\t* tree-ssa-dom.cc: Likewise.\n\t* tree-ssa-forwprop.cc: Likewise.\n\t* tree-ssa-ifcombine.cc: Likewise.\n\t* tree-ssa-loop-ivcanon.cc: Likewise.\n\t* tree-ssa-math-opts.cc: Likewise.\n\t* tree-ssa-pre.cc: Likewise.\n\t* tree-ssa-propagate.cc: Likewise.\n\t* tree-ssa-reassoc.cc: Likewise.\n\t* tree-ssa-sccvn.cc: Likewise.\n\t* tree-ssa-strlen.cc: Likewise.\n\t* tree-ssa.cc: Likewise.\n\t* value-pointer-equiv.cc: Likewise.\n\t* vr-values.cc: Likewise.\n\ngcc/testsuite/\n\t* gcc.dg/plugin/diagnostic_group_plugin.c: Reorder or remove\n\tgimple-fold.h include.\n\t* gcc.dg/plugin/diagnostic_plugin_show_trees.c:\n\tLikewise.\n\t* gcc.dg/plugin/diagnostic_plugin_test_inlining.c:\n\tLikewise.\n\t* gcc.dg/plugin/diagnostic_plugin_test_metadata.c:\n\tLikewise.\n\t* gcc.dg/plugin/diagnostic_plugin_test_paths.c:\n\tLikewise.\n\t* gcc.dg/plugin/diagnostic_plugin_test_show_locus.c:\n\tLikewise.\n\t* gcc.dg/plugin/diagnostic_plugin_test_string_literals.c: Likewise.\n\t* gcc.dg/plugin/diagnostic_plugin_test_tree_expression_range.c:\n\tLikewise.\n\t* gcc.dg/plugin/finish_unit_plugin.c: Likewise.\n\t* gcc.dg/plugin/ggcplug.c: Likewise.\n\t* gcc.dg/plugin/must_tail_call_plugin.c: Likewise.\n\t* gcc.dg/plugin/one_time_plugin.c: Likewise.\n\t* gcc.dg/plugin/selfassign.c: Likewise.\n\t* gcc.dg/plugin/start_unit_plugin.c: Likewise.\n\t* g++.dg/plugin/selfassign.c: Likewise.", "tree": {"sha": "6f095857999bb756f52b23c33747efef96996981", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6f095857999bb756f52b23c33747efef96996981"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ba2068893c37deaa418d9b2126414f6824e66655", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba2068893c37deaa418d9b2126414f6824e66655", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ba2068893c37deaa418d9b2126414f6824e66655", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba2068893c37deaa418d9b2126414f6824e66655/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "90a8eab4a1292430467f68b65e5127f7760acc94", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90a8eab4a1292430467f68b65e5127f7760acc94", "html_url": "https://github.com/Rust-GCC/gccrs/commit/90a8eab4a1292430467f68b65e5127f7760acc94"}], "stats": {"total": 291, "additions": 180, "deletions": 111}, "files": [{"sha": "f023c533a09f1390e395e4740410602ac9690941", "filename": "gcc/analyzer/supergraph.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fanalyzer%2Fsupergraph.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fanalyzer%2Fsupergraph.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fanalyzer%2Fsupergraph.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -29,13 +29,13 @@ along with GCC; see the file COPYING3.  If not see\n #include \"ggc.h\"\n #include \"basic-block.h\"\n #include \"function.h\"\n+#include \"gimple.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimple-expr.h\"\n #include \"is-a.h\"\n #include \"timevar.h\"\n-#include \"gimple.h\"\n-#include \"gimple-iterator.h\"\n #include \"gimple-pretty-print.h\"\n #include \"tree-pretty-print.h\"\n #include \"graphviz.h\""}, {"sha": "5fc89adf01b33b94764956dc967397d148a1c31f", "filename": "gcc/builtins.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fbuiltins.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fbuiltins.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -67,13 +67,13 @@ along with GCC; see the file COPYING3.  If not see\n #include \"asan.h\"\n #include \"internal-fn.h\"\n #include \"case-cfn-macros.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"intl.h\"\n #include \"file-prefix-map.h\" /* remap_macro_filename()  */\n #include \"gomp-constants.h\"\n #include \"omp-general.h\"\n #include \"tree-dfa.h\"\n-#include \"gimple-iterator.h\"\n #include \"gimple-ssa.h\"\n #include \"tree-ssa-live.h\"\n #include \"tree-outof-ssa.h\""}, {"sha": "01ef4ee402361d4f0c513e2c28793c76ae7c1858", "filename": "gcc/c-family/c-omp.cc", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fc-family%2Fc-omp.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fc-family%2Fc-omp.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2Fc-omp.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -36,7 +36,6 @@ along with GCC; see the file COPYING3.  If not see\n #include \"gimplify.h\"\n #include \"langhooks.h\"\n #include \"bitmap.h\"\n-#include \"gimple-fold.h\"\n \n \n /* Complete a #pragma oacc wait construct.  LOC is the location of"}, {"sha": "bbaf69c2d67a53dea6f072b6c28d5cd84b8d0dca", "filename": "gcc/calls.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fcalls.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fcalls.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcalls.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -55,6 +55,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"hash-traits.h\"\n #include \"attribs.h\"\n #include \"builtins.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"attr-fnspec.h\"\n #include \"value-query.h\""}, {"sha": "fdd17aa5a2d97d9d834b2f88045620d9a5bba9c6", "filename": "gcc/cgraphbuild.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fcgraphbuild.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fcgraphbuild.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraphbuild.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -26,8 +26,8 @@ along with GCC; see the file COPYING3.  If not see\n #include \"gimple.h\"\n #include \"tree-pass.h\"\n #include \"cgraph.h\"\n-#include \"gimple-fold.h\"\n #include \"gimple-iterator.h\"\n+#include \"gimple-fold.h\"\n #include \"gimple-walk.h\"\n #include \"ipa-utils.h\"\n #include \"except.h\""}, {"sha": "e77bf97bea39493729369d0c7a2ee05345d9f734", "filename": "gcc/cgraphunit.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fcgraphunit.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fcgraphunit.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraphunit.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -179,9 +179,9 @@ along with GCC; see the file COPYING3.  If not see\n #include \"stor-layout.h\"\n #include \"output.h\"\n #include \"cfgcleanup.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"gimplify.h\"\n-#include \"gimple-iterator.h\"\n #include \"gimplify-me.h\"\n #include \"tree-cfg.h\"\n #include \"tree-into-ssa.h\""}, {"sha": "b60dde9dfbc6dde82e85413d64fb3c1a3a2ae1a3", "filename": "gcc/config/rs6000/rs6000-builtin.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fconfig%2Frs6000%2Frs6000-builtin.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fconfig%2Frs6000%2Frs6000-builtin.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000-builtin.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -45,8 +45,8 @@\n #include \"expr.h\"\n #include \"langhooks.h\"\n #include \"gimplify.h\"\n-#include \"gimple-fold.h\"\n #include \"gimple-iterator.h\"\n+#include \"gimple-fold.h\"\n #include \"ssa.h\"\n #include \"tree-ssa-propagate.h\"\n #include \"builtins.h\""}, {"sha": "6011fe8d3c568b6b95cc48aeceb7af13f79383fd", "filename": "gcc/config/rs6000/rs6000-call.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fconfig%2Frs6000%2Frs6000-call.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fconfig%2Frs6000%2Frs6000-call.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000-call.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -55,8 +55,8 @@\n #include \"common/common-target.h\"\n #include \"langhooks.h\"\n #include \"gimplify.h\"\n-#include \"gimple-fold.h\"\n #include \"gimple-iterator.h\"\n+#include \"gimple-fold.h\"\n #include \"ssa.h\"\n #include \"tree-ssa-propagate.h\"\n #include \"builtins.h\""}, {"sha": "d4defc855d0268ae543d125afb76e86809292c64", "filename": "gcc/config/rs6000/rs6000.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fconfig%2Frs6000%2Frs6000.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fconfig%2Frs6000%2Frs6000.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -58,8 +58,8 @@\n #include \"reload.h\"\n #include \"sched-int.h\"\n #include \"gimplify.h\"\n-#include \"gimple-fold.h\"\n #include \"gimple-iterator.h\"\n+#include \"gimple-fold.h\"\n #include \"gimple-walk.h\"\n #include \"ssa.h\"\n #include \"tree-vectorizer.h\""}, {"sha": "45bbb6c3d70ab1b5faf3e15852c2ec31d0de3863", "filename": "gcc/config/s390/s390.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fconfig%2Fs390%2Fs390.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fconfig%2Fs390%2Fs390.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -70,6 +70,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"debug.h\"\n #include \"langhooks.h\"\n #include \"internal-fn.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimplify.h\""}, {"sha": "433fa767c0369e011907f8080b6f711eb07e385c", "filename": "gcc/cp/constexpr.cc", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fcp%2Fconstexpr.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fcp%2Fconstexpr.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fconstexpr.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -31,7 +31,6 @@ along with GCC; see the file COPYING3.  If not see\n #include \"builtins.h\"\n #include \"tree-inline.h\"\n #include \"ubsan.h\"\n-#include \"gimple-fold.h\"\n #include \"timevar.h\"\n #include \"fold-const-call.h\"\n #include \"stor-layout.h\""}, {"sha": "18060911793796461c67027c691f28f0ff912953", "filename": "gcc/expr.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fexpr.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fexpr.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -60,6 +60,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"tree-ssa-address.h\"\n #include \"builtins.h\"\n #include \"ccmp.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"rtx-vector-builder.h\"\n #include \"tree-pretty-print.h\""}, {"sha": "7bf12315293383a86f78fa783b9fd52fcf3d92e9", "filename": "gcc/fold-const.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ffold-const.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ffold-const.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -70,6 +70,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"tree-dfa.h\"\n #include \"builtins.h\"\n #include \"generic-match.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-into-ssa.h\"\n #include \"md5.h\""}, {"sha": "fe78a4d0a581d1374e213e604186cb6d9bc37714", "filename": "gcc/fold-const.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ffold-const.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ffold-const.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.h?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -245,6 +245,11 @@ extern tree fold_build_pointer_plus_hwi_loc (location_t loc, tree ptr, HOST_WIDE\n #define fold_build_pointer_plus_hwi(p,o) \\\n \tfold_build_pointer_plus_hwi_loc (UNKNOWN_LOCATION, p, o)\n \n+/* In gimple-fold.cc.  */\n+extern void clear_type_padding_in_mask (tree, unsigned char *);\n+extern bool clear_padding_type_may_have_padding_p (tree);\n+extern bool arith_overflowed_p (enum tree_code, const_tree, const_tree,\n+\t\t\t\tconst_tree);\n \n /* Class used to compare gimple operands.  */\n "}, {"sha": "1f983e870324e6cd5ff8197a3bf0a72e09e99326", "filename": "gcc/function-tests.cc", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ffunction-tests.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ffunction-tests.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction-tests.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -47,6 +47,8 @@ along with GCC; see the file COPYING3.  If not see\n #include \"basic-block.h\"\n #include \"tree-ssa-alias.h\"\n #include \"internal-fn.h\"\n+#include \"gimple.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"gimple-expr.h\"\n #include \"toplev.h\"\n@@ -67,7 +69,6 @@ along with GCC; see the file COPYING3.  If not see\n #include \"internal-fn.h\"\n #include \"gimple-expr.h\"\n #include \"is-a.h\"\n-#include \"gimple.h\"\n #include \"tree-pass.h\"\n #include \"context.h\"\n #include \"hash-map.h\""}, {"sha": "19676251fdbf98578d2a74f348d06041e43ab853", "filename": "gcc/gengtype.cc", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fgengtype.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fgengtype.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgengtype.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -1703,9 +1703,9 @@ open_base_files (void)\n       \"alias.h\", \"insn-config.h\", \"flags.h\", \"expmed.h\", \"dojump.h\",\n       \"explow.h\", \"calls.h\", \"memmodel.h\", \"emit-rtl.h\", \"varasm.h\",\n       \"stmt.h\", \"expr.h\", \"alloc-pool.h\", \"cselib.h\", \"insn-addr.h\",\n-      \"optabs.h\", \"libfuncs.h\", \"debug.h\", \"internal-fn.h\", \"gimple-fold.h\",\n-      \"value-range.h\",\n-      \"tree-eh.h\", \"gimple-iterator.h\", \"gimple-ssa.h\", \"tree-cfg.h\",\n+      \"optabs.h\", \"libfuncs.h\", \"debug.h\", \"internal-fn.h\",\n+      \"gimple-iterator.h\", \"gimple-fold.h\", \"value-range.h\",\n+      \"tree-eh.h\", \"gimple-ssa.h\", \"tree-cfg.h\",\n       \"tree-vrp.h\", \"tree-phinodes.h\", \"ssa-iterators.h\", \"stringpool.h\",\n       \"tree-ssanames.h\", \"tree-ssa-loop.h\", \"tree-ssa-loop-ivopts.h\",\n       \"tree-ssa-loop-manip.h\", \"tree-ssa-loop-niter.h\", \"tree-into-ssa.h\","}, {"sha": "e086b0310ef53c5a0f4372596049c3dafd2362fe", "filename": "gcc/gimple-fold.cc", "status": "modified", "additions": 77, "deletions": 16, "changes": 93, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fgimple-fold.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fgimple-fold.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-fold.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -37,9 +37,9 @@ along with GCC; see the file COPYING3.  If not see\n #include \"expr.h\"\n #include \"stor-layout.h\"\n #include \"dumpfile.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"gimplify.h\"\n-#include \"gimple-iterator.h\"\n #include \"tree-into-ssa.h\"\n #include \"tree-dfa.h\"\n #include \"tree-object-size.h\"\n@@ -8669,14 +8669,23 @@ gimple_build_valueize (tree op)\n \n /* Build the expression CODE OP0 of type TYPE with location LOC,\n    simplifying it first if possible.  Returns the built\n-   expression value and appends statements possibly defining it\n-   to SEQ.  */\n+   expression value and inserts statements possibly defining it\n+   before GSI if BEFORE is true or after GSI if false and advance\n+   the iterator accordingly.\n+   If gsi refers to a basic block simplifying is allowed to look\n+   at all SSA defs while when it does not it is restricted to\n+   SSA defs that are not associated with a basic block yet,\n+   indicating they belong to the currently building sequence.  */\n \n tree\n-gimple_build (gimple_seq *seq, location_t loc,\n-\t      enum tree_code code, tree type, tree op0)\n+gimple_build (gimple_stmt_iterator *gsi,\n+\t      bool before, gsi_iterator_update update,\n+\t      location_t loc, enum tree_code code, tree type, tree op0)\n {\n-  tree res = gimple_simplify (code, type, op0, seq, gimple_build_valueize);\n+  gimple_seq seq = NULL;\n+  tree res\n+    = gimple_simplify (code, type, op0, &seq,\n+\t\t       gsi->bb ? follow_all_ssa_edges : gimple_build_valueize);\n   if (!res)\n     {\n       res = create_tmp_reg_or_ssa_name (type);\n@@ -8688,7 +8697,21 @@ gimple_build (gimple_seq *seq, location_t loc,\n       else\n \tstmt = gimple_build_assign (res, code, op0);\n       gimple_set_location (stmt, loc);\n-      gimple_seq_add_stmt_without_update (seq, stmt);\n+      gimple_seq_add_stmt_without_update (&seq, stmt);\n+    }\n+  if (before)\n+    {\n+      if (gsi->bb)\n+\tgsi_insert_seq_before (gsi, seq, update);\n+      else\n+\tgsi_insert_seq_before_without_update (gsi, seq, update);\n+    }\n+  else\n+    {\n+      if (gsi->bb)\n+\tgsi_insert_seq_after (gsi, seq, update);\n+      else\n+\tgsi_insert_seq_after_without_update (gsi, seq, update);\n     }\n   return res;\n }\n@@ -8699,16 +8722,35 @@ gimple_build (gimple_seq *seq, location_t loc,\n    to SEQ.  */\n \n tree\n-gimple_build (gimple_seq *seq, location_t loc,\n-\t      enum tree_code code, tree type, tree op0, tree op1)\n+gimple_build (gimple_stmt_iterator *gsi,\n+\t      bool before, gsi_iterator_update update,\n+\t      location_t loc, enum tree_code code, tree type,\n+\t      tree op0, tree op1)\n {\n-  tree res = gimple_simplify (code, type, op0, op1, seq, gimple_build_valueize);\n+  gimple_seq seq = NULL;\n+  tree res\n+    = gimple_simplify (code, type, op0, op1, &seq,\n+\t\t       gsi->bb ? follow_all_ssa_edges : gimple_build_valueize);\n   if (!res)\n     {\n       res = create_tmp_reg_or_ssa_name (type);\n       gimple *stmt = gimple_build_assign (res, code, op0, op1);\n       gimple_set_location (stmt, loc);\n-      gimple_seq_add_stmt_without_update (seq, stmt);\n+      gimple_seq_add_stmt_without_update (&seq, stmt);\n+    }\n+  if (before)\n+    {\n+      if (gsi->bb)\n+\tgsi_insert_seq_before (gsi, seq, update);\n+      else\n+\tgsi_insert_seq_before_without_update (gsi, seq, update);\n+    }\n+  else\n+    {\n+      if (gsi->bb)\n+\tgsi_insert_seq_after (gsi, seq, update);\n+      else\n+\tgsi_insert_seq_after_without_update (gsi, seq, update);\n     }\n   return res;\n }\n@@ -8719,11 +8761,16 @@ gimple_build (gimple_seq *seq, location_t loc,\n    to SEQ.  */\n \n tree\n-gimple_build (gimple_seq *seq, location_t loc,\n-\t      enum tree_code code, tree type, tree op0, tree op1, tree op2)\n+gimple_build (gimple_stmt_iterator *gsi,\n+\t      bool before, gsi_iterator_update update,\n+\t      location_t loc, enum tree_code code, tree type,\n+\t      tree op0, tree op1, tree op2)\n {\n-  tree res = gimple_simplify (code, type, op0, op1, op2,\n-\t\t\t      seq, gimple_build_valueize);\n+\n+  gimple_seq seq = NULL;\n+  tree res\n+    = gimple_simplify (code, type, op0, op1, op2, &seq,\n+\t\t       gsi->bb ? follow_all_ssa_edges : gimple_build_valueize);\n   if (!res)\n     {\n       res = create_tmp_reg_or_ssa_name (type);\n@@ -8734,7 +8781,21 @@ gimple_build (gimple_seq *seq, location_t loc,\n       else\n \tstmt = gimple_build_assign (res, code, op0, op1, op2);\n       gimple_set_location (stmt, loc);\n-      gimple_seq_add_stmt_without_update (seq, stmt);\n+      gimple_seq_add_stmt_without_update (&seq, stmt);\n+    }\n+  if (before)\n+    {\n+      if (gsi->bb)\n+\tgsi_insert_seq_before (gsi, seq, update);\n+      else\n+\tgsi_insert_seq_before_without_update (gsi, seq, update);\n+    }\n+  else\n+    {\n+      if (gsi->bb)\n+\tgsi_insert_seq_after (gsi, seq, update);\n+      else\n+\tgsi_insert_seq_after_without_update (gsi, seq, update);\n     }\n   return res;\n }"}, {"sha": "520fde861e316b0c0151382759936484e01095b6", "filename": "gcc/gimple-fold.h", "status": "modified", "additions": 23, "deletions": 11, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fgimple-fold.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fgimple-fold.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-fold.h?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -38,12 +38,8 @@ extern tree maybe_fold_and_comparisons (tree, enum tree_code, tree, tree,\n extern tree maybe_fold_or_comparisons (tree, enum tree_code, tree, tree,\n \t\t\t\t       enum tree_code, tree, tree,\n \t\t\t\t       basic_block = nullptr);\n-extern bool clear_padding_type_may_have_padding_p (tree);\n-extern void clear_type_padding_in_mask (tree, unsigned char *);\n extern bool optimize_atomic_compare_exchange_p (gimple *);\n extern void fold_builtin_atomic_compare_exchange (gimple_stmt_iterator *);\n-extern bool arith_overflowed_p (enum tree_code, const_tree, const_tree,\n-\t\t\t\tconst_tree);\n extern tree no_follow_ssa_edges (tree);\n extern tree follow_single_use_edges (tree);\n extern tree follow_all_ssa_edges (tree);\n@@ -71,19 +67,35 @@ extern tree tree_vec_extract (gimple_stmt_iterator *, tree, tree, tree, tree);\n /* gimple_build, functionally matching fold_buildN, outputs stmts\n    int the provided sequence, matching and simplifying them on-the-fly.\n    Supposed to replace force_gimple_operand (fold_buildN (...), ...).  */\n-extern tree gimple_build (gimple_seq *, location_t,\n-\t\t\t  enum tree_code, tree, tree);\n-extern tree gimple_build (gimple_seq *, location_t,\n-\t\t\t  enum tree_code, tree, tree, tree);\n-extern tree gimple_build (gimple_seq *, location_t,\n-\t\t\t  enum tree_code, tree, tree, tree, tree);\n+extern tree gimple_build (gimple_stmt_iterator *, bool,\n+\t\t\t  enum gsi_iterator_update,\n+\t\t\t  location_t, enum tree_code, tree, tree);\n+extern tree gimple_build (gimple_stmt_iterator *, bool,\n+\t\t\t  enum gsi_iterator_update,\n+\t\t\t  location_t, enum tree_code, tree, tree, tree);\n+extern tree gimple_build (gimple_stmt_iterator *, bool,\n+\t\t\t  enum gsi_iterator_update,\n+\t\t\t  location_t, enum tree_code, tree, tree, tree, tree);\n+template<class ...Args>\n+inline tree\n+gimple_build (gimple_seq *seq, location_t loc,\n+\t      enum tree_code code, tree type, Args ...ops)\n+{\n+  static_assert (sizeof...(ops) > 0 && sizeof...(ops) <= 3,\n+\t\t \"Number of operands must be from one to three\");\n+  gimple_stmt_iterator gsi = gsi_last (*seq);\n+  return gimple_build (&gsi, false, GSI_CONTINUE_LINKING,\n+\t\t       loc, code, type, ops...);\n+}\n template<class ...Args>\n inline tree\n gimple_build (gimple_seq *seq, enum tree_code code, tree type, Args ...ops)\n {\n   static_assert (sizeof...(ops) > 0 && sizeof...(ops) <= 3,\n \t\t \"Number of operands must be from one to three\");\n-  return gimple_build (seq, UNKNOWN_LOCATION, code, type, ops...);\n+  gimple_stmt_iterator gsi = gsi_last (*seq);\n+  return gimple_build (&gsi, false, GSI_CONTINUE_LINKING,\n+\t\t       UNKNOWN_LOCATION, code, type, ops...);\n }\n \n extern tree gimple_build (gimple_seq *, location_t, combined_fn, tree);"}, {"sha": "4c80d77f8ba23b9ce8b67913c2238ff65b291906", "filename": "gcc/gimple-match-head.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fgimple-match-head.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fgimple-match-head.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-match-head.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -31,6 +31,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"fold-const.h\"\n #include \"fold-const-call.h\"\n #include \"stor-layout.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"calls.h\"\n #include \"tree-dfa.h\""}, {"sha": "08d791a041826de2cc255c676a6370a216b27ec4", "filename": "gcc/gimple-range-fold.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fgimple-range-fold.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fgimple-range-fold.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-range-fold.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -29,6 +29,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"ssa.h\"\n #include \"gimple-pretty-print.h\"\n #include \"optabs-tree.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"wide-int.h\"\n #include \"fold-const.h\""}, {"sha": "16e5a75b1db4ca28be524f7c27a47c6fa4f4021f", "filename": "gcc/gimple-ssa-evrp-analyze.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fgimple-ssa-evrp-analyze.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fgimple-ssa-evrp-analyze.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-ssa-evrp-analyze.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -27,9 +27,9 @@ along with GCC; see the file COPYING3.  If not see\n #include \"ssa.h\"\n #include \"gimple-pretty-print.h\"\n #include \"cfganal.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n-#include \"gimple-iterator.h\"\n #include \"tree-cfg.h\"\n #include \"tree-ssa-loop-manip.h\"\n #include \"tree-ssa-loop.h\""}, {"sha": "92dbdd5df95a3aac1f842f178d57d744d28237a8", "filename": "gcc/gimple-ssa-evrp.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fgimple-ssa-evrp.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fgimple-ssa-evrp.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-ssa-evrp.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -27,9 +27,9 @@ along with GCC; see the file COPYING3.  If not see\n #include \"ssa.h\"\n #include \"gimple-pretty-print.h\"\n #include \"cfganal.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n-#include \"gimple-iterator.h\"\n #include \"tree-cfg.h\"\n #include \"tree-ssa-loop-manip.h\"\n #include \"tree-ssa-loop.h\""}, {"sha": "961c1b739dad30b90e3b06fd987e9f1e1eaef7e5", "filename": "gcc/gimple-ssa-sprintf.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fgimple-ssa-sprintf.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fgimple-ssa-sprintf.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-ssa-sprintf.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -53,11 +53,11 @@ along with GCC; see the file COPYING3.  If not see\n #include \"gimple.h\"\n #include \"tree-pass.h\"\n #include \"ssa.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"gimple-pretty-print.h\"\n #include \"diagnostic-core.h\"\n #include \"fold-const.h\"\n-#include \"gimple-iterator.h\"\n #include \"tree-ssa.h\"\n #include \"tree-object-size.h\"\n #include \"tree-cfg.h\""}, {"sha": "c4204241c8ce073a5ee04130dbcd7690bb3cc6b6", "filename": "gcc/gimple-ssa-warn-access.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fgimple-ssa-warn-access.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fgimple-ssa-warn-access.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-ssa-warn-access.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -36,8 +36,8 @@\n #include \"gimple-ssa-warn-restrict.h\"\n #include \"diagnostic-core.h\"\n #include \"fold-const.h\"\n-#include \"gimple-fold.h\"\n #include \"gimple-iterator.h\"\n+#include \"gimple-fold.h\"\n #include \"langhooks.h\"\n #include \"memmodel.h\"\n #include \"target.h\""}, {"sha": "2f6d995c385810fe7c3c5d35be028de99ef24411", "filename": "gcc/gimplify.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fgimplify.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fgimplify.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimplify.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -42,10 +42,10 @@ along with GCC; see the file COPYING3.  If not see\n #include \"varasm.h\"\n #include \"stmt.h\"\n #include \"expr.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimplify.h\"\n-#include \"gimple-iterator.h\"\n #include \"stor-layout.h\"\n #include \"print-tree.h\"\n #include \"tree-iterator.h\""}, {"sha": "45ed77048071909f174531781bbb166604211e9e", "filename": "gcc/graphite-isl-ast-to-gimple.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fgraphite-isl-ast-to-gimple.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fgraphite-isl-ast-to-gimple.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-isl-ast-to-gimple.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -32,8 +32,8 @@ along with GCC; see the file COPYING3.  If not see\n #include \"gimple.h\"\n #include \"ssa.h\"\n #include \"fold-const.h\"\n-#include \"gimple-fold.h\"\n #include \"gimple-iterator.h\"\n+#include \"gimple-fold.h\"\n #include \"gimplify.h\"\n #include \"gimplify-me.h\"\n #include \"tree-eh.h\""}, {"sha": "152fe7244f7b216f4f2aa5558253db9845787022", "filename": "gcc/ipa-cp.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fipa-cp.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fipa-cp.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-cp.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -113,6 +113,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"cgraph.h\"\n #include \"diagnostic.h\"\n #include \"fold-const.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"symbol-summary.h\"\n #include \"tree-vrp.h\""}, {"sha": "9f1442dc3cc198d9d117d20bd0c603e42c2d00d6", "filename": "gcc/ipa-devirt.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fipa-devirt.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fipa-devirt.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-devirt.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -120,6 +120,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"print-tree.h\"\n #include \"calls.h\"\n #include \"ipa-utils.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"symbol-summary.h\"\n #include \"tree-vrp.h\""}, {"sha": "c6c745f84a0863504f4ca4c537817098616c1de1", "filename": "gcc/ipa-prop.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fipa-prop.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fipa-prop.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-prop.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -31,13 +31,13 @@ along with GCC; see the file COPYING3.  If not see\n #include \"cgraph.h\"\n #include \"diagnostic.h\"\n #include \"fold-const.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"calls.h\"\n #include \"stor-layout.h\"\n #include \"print-tree.h\"\n #include \"gimplify.h\"\n-#include \"gimple-iterator.h\"\n #include \"gimplify-me.h\"\n #include \"gimple-walk.h\"\n #include \"symbol-summary.h\""}, {"sha": "8aebaeecd4201dcbef20952ab1827be68ab9d7e0", "filename": "gcc/omp-low.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fomp-low.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fomp-low.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fomp-low.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -37,9 +37,9 @@ along with GCC; see the file COPYING3.  If not see\n #include \"fold-const.h\"\n #include \"stor-layout.h\"\n #include \"internal-fn.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"gimplify.h\"\n-#include \"gimple-iterator.h\"\n #include \"gimplify-me.h\"\n #include \"gimple-walk.h\"\n #include \"tree-iterator.h\""}, {"sha": "646606e6344967e8dfb2ac4246a0b2cbd49b9dfe", "filename": "gcc/pointer-query.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fpointer-query.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fpointer-query.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpointer-query.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -33,6 +33,7 @@\n #include \"langhooks.h\"\n #include \"stringpool.h\"\n #include \"attribs.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"gimple-ssa.h\"\n #include \"intl.h\""}, {"sha": "eaa02309d7070a152470b331c243875557920ca2", "filename": "gcc/range-op.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Frange-op.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Frange-op.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frange-op.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -38,9 +38,9 @@ along with GCC; see the file COPYING3.  If not see\n #include \"stor-layout.h\"\n #include \"calls.h\"\n #include \"cfganal.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n-#include \"gimple-iterator.h\"\n #include \"gimple-walk.h\"\n #include \"tree-cfg.h\"\n #include \"wide-int.h\""}, {"sha": "fd78f574307f2321e48c9bd3f2b05a38b4852f31", "filename": "gcc/testsuite/g++.dg/plugin/selfassign.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fplugin%2Fselfassign.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fplugin%2Fselfassign.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fplugin%2Fselfassign.c?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -17,12 +17,12 @@\n #include \"basic-block.h\"\n #include \"tree-ssa-alias.h\"\n #include \"internal-fn.h\"\n+#include \"gimple.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimple-expr.h\"\n #include \"is-a.h\"\n-#include \"gimple.h\"\n-#include \"gimple-iterator.h\"\n #include \"tree.h\"\n #include \"tree-pass.h\"\n #include \"intl.h\""}, {"sha": "3396b384163efebc0c35bba32f834a57127644d8", "filename": "gcc/testsuite/gcc.dg/plugin/diagnostic_group_plugin.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_group_plugin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_group_plugin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_group_plugin.c?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -15,12 +15,12 @@\n #include \"basic-block.h\"\n #include \"tree-ssa-alias.h\"\n #include \"internal-fn.h\"\n+#include \"gimple.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimple-expr.h\"\n #include \"is-a.h\"\n-#include \"gimple.h\"\n-#include \"gimple-iterator.h\"\n #include \"tree.h\"\n #include \"tree-pass.h\"\n #include \"intl.h\""}, {"sha": "d81fa571c97514ddb507db91d66ef2939aa6474a", "filename": "gcc/testsuite/gcc.dg/plugin/diagnostic_plugin_show_trees.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_plugin_show_trees.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_plugin_show_trees.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_plugin_show_trees.c?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -17,12 +17,12 @@\n #include \"basic-block.h\"\n #include \"tree-ssa-alias.h\"\n #include \"internal-fn.h\"\n+#include \"gimple.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimple-expr.h\"\n #include \"is-a.h\"\n-#include \"gimple.h\"\n-#include \"gimple-iterator.h\"\n #include \"tree.h\"\n #include \"tree-pass.h\"\n #include \"intl.h\""}, {"sha": "3627f7a2b7f07ef03f66ea570e080be165579893", "filename": "gcc/testsuite/gcc.dg/plugin/diagnostic_plugin_test_inlining.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_plugin_test_inlining.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_plugin_test_inlining.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_plugin_test_inlining.c?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -15,12 +15,12 @@\n #include \"basic-block.h\"\n #include \"tree-ssa-alias.h\"\n #include \"internal-fn.h\"\n+#include \"gimple.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimple-expr.h\"\n #include \"is-a.h\"\n-#include \"gimple.h\"\n-#include \"gimple-iterator.h\"\n #include \"tree.h\"\n #include \"tree-pass.h\"\n #include \"intl.h\""}, {"sha": "4b13afc093d589c0be1e031e01c13238749c721b", "filename": "gcc/testsuite/gcc.dg/plugin/diagnostic_plugin_test_metadata.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_plugin_test_metadata.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_plugin_test_metadata.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_plugin_test_metadata.c?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -15,12 +15,12 @@\n #include \"basic-block.h\"\n #include \"tree-ssa-alias.h\"\n #include \"internal-fn.h\"\n+#include \"gimple.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimple-expr.h\"\n #include \"is-a.h\"\n-#include \"gimple.h\"\n-#include \"gimple-iterator.h\"\n #include \"tree.h\"\n #include \"tree-pass.h\"\n #include \"intl.h\""}, {"sha": "8d97fe8e8d951746bb58e24c709124b866e4e314", "filename": "gcc/testsuite/gcc.dg/plugin/diagnostic_plugin_test_paths.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_plugin_test_paths.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_plugin_test_paths.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_plugin_test_paths.c?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -21,12 +21,12 @@\n #include \"basic-block.h\"\n #include \"tree-ssa-alias.h\"\n #include \"internal-fn.h\"\n+#include \"gimple.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimple-expr.h\"\n #include \"is-a.h\"\n-#include \"gimple.h\"\n-#include \"gimple-iterator.h\"\n #include \"tree.h\"\n #include \"tree-pass.h\"\n #include \"intl.h\""}, {"sha": "baa6b629b83fa920ba3cc0f96a34937c2a36b0d1", "filename": "gcc/testsuite/gcc.dg/plugin/diagnostic_plugin_test_show_locus.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_plugin_test_show_locus.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_plugin_test_show_locus.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_plugin_test_show_locus.c?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -47,12 +47,12 @@\n #include \"basic-block.h\"\n #include \"tree-ssa-alias.h\"\n #include \"internal-fn.h\"\n+#include \"gimple.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimple-expr.h\"\n #include \"is-a.h\"\n-#include \"gimple.h\"\n-#include \"gimple-iterator.h\"\n #include \"tree.h\"\n #include \"tree-pass.h\"\n #include \"intl.h\""}, {"sha": "0269f728a93300db51278aeede06f7b09a224892", "filename": "gcc/testsuite/gcc.dg/plugin/diagnostic_plugin_test_string_literals.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_plugin_test_string_literals.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_plugin_test_string_literals.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_plugin_test_string_literals.c?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -17,12 +17,12 @@\n #include \"basic-block.h\"\n #include \"tree-ssa-alias.h\"\n #include \"internal-fn.h\"\n+#include \"gimple.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimple-expr.h\"\n #include \"is-a.h\"\n-#include \"gimple.h\"\n-#include \"gimple-iterator.h\"\n #include \"tree.h\"\n #include \"tree-pass.h\"\n #include \"intl.h\""}, {"sha": "f5468636e06db77e1d47cc18203d4d3434a2b94f", "filename": "gcc/testsuite/gcc.dg/plugin/diagnostic_plugin_test_tree_expression_range.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_plugin_test_tree_expression_range.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_plugin_test_tree_expression_range.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fdiagnostic_plugin_test_tree_expression_range.c?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -17,12 +17,12 @@\n #include \"basic-block.h\"\n #include \"tree-ssa-alias.h\"\n #include \"internal-fn.h\"\n+#include \"gimple.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimple-expr.h\"\n #include \"is-a.h\"\n-#include \"gimple.h\"\n-#include \"gimple-iterator.h\"\n #include \"tree.h\"\n #include \"tree-pass.h\"\n #include \"intl.h\""}, {"sha": "05e188165bf4537c3aa240337e9feed12ec71eaf", "filename": "gcc/testsuite/gcc.dg/plugin/finish_unit_plugin.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Ffinish_unit_plugin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Ffinish_unit_plugin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Ffinish_unit_plugin.c?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -15,7 +15,6 @@\n #include \"basic-block.h\"\n #include \"tree-ssa-alias.h\"\n #include \"internal-fn.h\"\n-#include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimple-expr.h\"\n #include \"is-a.h\""}, {"sha": "a75eed0e39852a8602b7fabcd05057009772663f", "filename": "gcc/testsuite/gcc.dg/plugin/ggcplug.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fggcplug.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fggcplug.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fggcplug.c?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -14,7 +14,6 @@\n #include \"ggc.h\"\n #include \"tree-ssa-alias.h\"\n #include \"internal-fn.h\"\n-#include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimple-expr.h\"\n #include \"is-a.h\""}, {"sha": "0c040e54252b2b7cc8c128f52438540913ce4acd", "filename": "gcc/testsuite/gcc.dg/plugin/must_tail_call_plugin.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fmust_tail_call_plugin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fmust_tail_call_plugin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fmust_tail_call_plugin.c?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -17,7 +17,6 @@\n #include \"basic-block.h\"\n #include \"tree-ssa-alias.h\"\n #include \"internal-fn.h\"\n-#include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimple-expr.h\"\n #include \"is-a.h\""}, {"sha": "84f2d31f0f219667583f10cfde61454c3f0c5497", "filename": "gcc/testsuite/gcc.dg/plugin/one_time_plugin.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fone_time_plugin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fone_time_plugin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fone_time_plugin.c?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -12,7 +12,6 @@\n #include \"basic-block.h\"\n #include \"tree-ssa-alias.h\"\n #include \"internal-fn.h\"\n-#include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimple-expr.h\"\n #include \"is-a.h\""}, {"sha": "13b3ecaa0f2ddc37c9d475718ae890362b7a9851", "filename": "gcc/testsuite/gcc.dg/plugin/selfassign.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fselfassign.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fselfassign.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fselfassign.c?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -17,12 +17,12 @@\n #include \"basic-block.h\"\n #include \"tree-ssa-alias.h\"\n #include \"internal-fn.h\"\n+#include \"gimple.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimple-expr.h\"\n #include \"is-a.h\"\n-#include \"gimple.h\"\n-#include \"gimple-iterator.h\"\n #include \"tree.h\"\n #include \"tree-pass.h\"\n #include \"intl.h\""}, {"sha": "7b4f40e0e9df8a9b97d7d2f832c4c5913f018903", "filename": "gcc/testsuite/gcc.dg/plugin/start_unit_plugin.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fstart_unit_plugin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fstart_unit_plugin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fplugin%2Fstart_unit_plugin.c?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -20,7 +20,6 @@\n #include \"basic-block.h\"\n #include \"tree-ssa-alias.h\"\n #include \"internal-fn.h\"\n-#include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimple-expr.h\"\n #include \"is-a.h\""}, {"sha": "19ba09facce24ea7241d1bf557804c1bb509f410", "filename": "gcc/tree-cfg.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-cfg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-cfg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-cfg.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -37,9 +37,9 @@ along with GCC; see the file COPYING3.  If not see\n #include \"stor-layout.h\"\n #include \"print-tree.h\"\n #include \"cfganal.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n-#include \"gimple-iterator.h\"\n #include \"gimplify-me.h\"\n #include \"gimple-walk.h\"\n #include \"tree-cfg.h\""}, {"sha": "4531ca58bdf51d5ae6e6a0c2a121616542b24f48", "filename": "gcc/tree-if-conv.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-if-conv.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-if-conv.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-if-conv.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -96,9 +96,9 @@ along with GCC; see the file COPYING3.  If not see\n #include \"alias.h\"\n #include \"fold-const.h\"\n #include \"stor-layout.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"gimplify.h\"\n-#include \"gimple-iterator.h\"\n #include \"gimplify-me.h\"\n #include \"tree-cfg.h\"\n #include \"tree-into-ssa.h\""}, {"sha": "043e1d5987a4c4b0159109dafb85a805ca828c1e", "filename": "gcc/tree-inline.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-inline.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-inline.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-inline.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -41,10 +41,10 @@ along with GCC; see the file COPYING3.  If not see\n #include \"cfganal.h\"\n #include \"tree-iterator.h\"\n #include \"intl.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimplify.h\"\n-#include \"gimple-iterator.h\"\n #include \"gimplify-me.h\"\n #include \"gimple-walk.h\"\n #include \"tree-cfg.h\""}, {"sha": "5ca87ae350427bd0425319de0b789b8fd9a9cd05", "filename": "gcc/tree-object-size.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-object-size.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-object-size.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-object-size.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -29,8 +29,8 @@ along with GCC; see the file COPYING3.  If not see\n #include \"gimple-pretty-print.h\"\n #include \"fold-const.h\"\n #include \"tree-object-size.h\"\n-#include \"gimple-fold.h\"\n #include \"gimple-iterator.h\"\n+#include \"gimple-fold.h\"\n #include \"tree-cfg.h\"\n #include \"tree-dfa.h\"\n #include \"stringpool.h\""}, {"sha": "262a247eac50a8026e9f3c4441282090f1795d39", "filename": "gcc/tree-ssa-ccp.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa-ccp.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa-ccp.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-ccp.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -129,10 +129,10 @@ along with GCC; see the file COPYING3.  If not see\n #include \"ssa.h\"\n #include \"gimple-pretty-print.h\"\n #include \"fold-const.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimplify.h\"\n-#include \"gimple-iterator.h\"\n #include \"tree-cfg.h\"\n #include \"tree-ssa-propagate.h\"\n #include \"dbgcnt.h\""}, {"sha": "9a843217553b9d51336d961879ad96fda06030db", "filename": "gcc/tree-ssa-dom.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa-dom.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa-dom.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-dom.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -30,10 +30,10 @@ along with GCC; see the file COPYING3.  If not see\n #include \"fold-const.h\"\n #include \"cfganal.h\"\n #include \"cfgloop.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"tree-inline.h\"\n-#include \"gimple-iterator.h\"\n #include \"tree-cfg.h\"\n #include \"tree-into-ssa.h\"\n #include \"domwalk.h\""}, {"sha": "48cab5844e0ae731f0e74122b53be8ecbb729cfa", "filename": "gcc/tree-ssa-forwprop.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa-forwprop.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa-forwprop.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-forwprop.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -32,10 +32,10 @@ along with GCC; see the file COPYING3.  If not see\n #include \"gimple-pretty-print.h\"\n #include \"fold-const.h\"\n #include \"stor-layout.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimplify.h\"\n-#include \"gimple-iterator.h\"\n #include \"gimplify-me.h\"\n #include \"tree-cfg.h\"\n #include \"expr.h\""}, {"sha": "88a9f062dcdf5f2806340df413fa269e3b9b9471", "filename": "gcc/tree-ssa-ifcombine.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa-ifcombine.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa-ifcombine.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-ifcombine.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -35,8 +35,8 @@ along with GCC; see the file COPYING3.  If not see\n    BRANCH_COST.  */\n #include \"fold-const.h\"\n #include \"cfganal.h\"\n-#include \"gimple-fold.h\"\n #include \"gimple-iterator.h\"\n+#include \"gimple-fold.h\"\n #include \"gimplify-me.h\"\n #include \"tree-cfg.h\"\n #include \"tree-ssa.h\""}, {"sha": "2ee00a3f843724d7d57664c0b904ec83ea5d4c12", "filename": "gcc/tree-ssa-loop-ivcanon.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa-loop-ivcanon.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa-loop-ivcanon.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-ivcanon.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -48,9 +48,9 @@ along with GCC; see the file COPYING3.  If not see\n #include \"gimple-pretty-print.h\"\n #include \"fold-const.h\"\n #include \"profile.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n-#include \"gimple-iterator.h\"\n #include \"tree-cfg.h\"\n #include \"tree-ssa-loop-manip.h\"\n #include \"tree-ssa-loop-niter.h\""}, {"sha": "ce1df01f629afa044fb7666ca73a9331ce268b51", "filename": "gcc/tree-ssa-math-opts.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa-math-opts.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa-math-opts.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-math-opts.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -100,8 +100,8 @@ along with GCC; see the file COPYING3.  If not see\n #include \"gimple-pretty-print.h\"\n #include \"alias.h\"\n #include \"fold-const.h\"\n-#include \"gimple-fold.h\"\n #include \"gimple-iterator.h\"\n+#include \"gimple-fold.h\"\n #include \"gimplify.h\"\n #include \"gimplify-me.h\"\n #include \"stor-layout.h\""}, {"sha": "34d77f1e2cf813a93bf2168cb982437b1d100ab7", "filename": "gcc/tree-ssa-pre.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa-pre.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa-pre.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-pre.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -34,10 +34,10 @@ along with GCC; see the file COPYING3.  If not see\n #include \"gimple-pretty-print.h\"\n #include \"fold-const.h\"\n #include \"cfganal.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimplify.h\"\n-#include \"gimple-iterator.h\"\n #include \"tree-cfg.h\"\n #include \"tree-into-ssa.h\"\n #include \"tree-dfa.h\""}, {"sha": "c10ffd91766adc934a37dfdbd0b1415f4fb31a60", "filename": "gcc/tree-ssa-propagate.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa-propagate.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa-propagate.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-propagate.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -27,10 +27,10 @@\n #include \"ssa.h\"\n #include \"gimple-pretty-print.h\"\n #include \"dumpfile.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimplify.h\"\n-#include \"gimple-iterator.h\"\n #include \"tree-cfg.h\"\n #include \"tree-ssa.h\"\n #include \"tree-ssa-propagate.h\""}, {"sha": "406523b5d2f808f07db656aac8779ec0f9e3d7a1", "filename": "gcc/tree-ssa-reassoc.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa-reassoc.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa-reassoc.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-reassoc.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -38,9 +38,9 @@ along with GCC; see the file COPYING3.  If not see\n #include \"fold-const.h\"\n #include \"stor-layout.h\"\n #include \"cfganal.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n-#include \"gimple-iterator.h\"\n #include \"gimplify-me.h\"\n #include \"tree-cfg.h\"\n #include \"tree-ssa-loop.h\""}, {"sha": "ed68557f0b23b5532544a2755a1261786f3ea32e", "filename": "gcc/tree-ssa-sccvn.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa-sccvn.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa-sccvn.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-sccvn.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -39,6 +39,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"cfganal.h\"\n #include \"tree-inline.h\"\n #include \"internal-fn.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimplify.h\"\n@@ -56,7 +57,6 @@ along with GCC; see the file COPYING3.  If not see\n #include \"tree-ssa-propagate.h\"\n #include \"tree-cfg.h\"\n #include \"domwalk.h\"\n-#include \"gimple-iterator.h\"\n #include \"gimple-match.h\"\n #include \"stringpool.h\"\n #include \"attribs.h\""}, {"sha": "bb7fe0853ef26a6b7bca5d26e829bd6a945728ae", "filename": "gcc/tree-ssa-strlen.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa-strlen.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa-strlen.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-strlen.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -34,10 +34,10 @@ along with GCC; see the file COPYING3.  If not see\n #include \"gimple-ssa-warn-restrict.h\"\n #include \"fold-const.h\"\n #include \"stor-layout.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n #include \"gimplify.h\"\n-#include \"gimple-iterator.h\"\n #include \"gimplify-me.h\"\n #include \"expr.h\"\n #include \"tree-cfg.h\""}, {"sha": "6507348e79374a3481f47037ad428ec7362d87b0", "filename": "gcc/tree-ssa.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-ssa.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -30,9 +30,9 @@ along with GCC; see the file COPYING3.  If not see\n #include \"diagnostic-core.h\"\n #include \"fold-const.h\"\n #include \"stor-layout.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"gimplify.h\"\n-#include \"gimple-iterator.h\"\n #include \"gimple-walk.h\"\n #include \"tree-ssa-loop-manip.h\"\n #include \"tree-into-ssa.h\""}, {"sha": "d99e3207fbe18e63b7a7407bf0ddfd2046869ce2", "filename": "gcc/tree-vect-generic.cc", "status": "modified", "additions": 3, "deletions": 12, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-vect-generic.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Ftree-vect-generic.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-generic.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -54,10 +54,7 @@ gimplify_build3 (gimple_stmt_iterator *gsi, enum tree_code code,\n \t\t tree type, tree a, tree b, tree c)\n {\n   location_t loc = gimple_location (gsi_stmt (*gsi));\n-  gimple_seq stmts = NULL;\n-  tree ret = gimple_build (&stmts, loc, code, type, a, b, c);\n-  gsi_insert_seq_before (gsi, stmts, GSI_SAME_STMT);\n-  return ret;\n+  return gimple_build (gsi, true, GSI_SAME_STMT, loc, code, type, a, b, c);\n }\n \n /* Build a binary operation and gimplify it.  Emit code before GSI.\n@@ -68,10 +65,7 @@ gimplify_build2 (gimple_stmt_iterator *gsi, enum tree_code code,\n \t\t tree type, tree a, tree b)\n {\n   location_t loc = gimple_location (gsi_stmt (*gsi));\n-  gimple_seq stmts = NULL;\n-  tree ret = gimple_build (&stmts, loc, code, type, a, b);\n-  gsi_insert_seq_before (gsi, stmts, GSI_SAME_STMT);\n-  return ret;\n+  return gimple_build (gsi, true, GSI_SAME_STMT, loc, code, type, a, b);\n }\n \n /* Build a unary operation and gimplify it.  Emit code before GSI.\n@@ -82,10 +76,7 @@ gimplify_build1 (gimple_stmt_iterator *gsi, enum tree_code code, tree type,\n \t\t tree a)\n {\n   location_t loc = gimple_location (gsi_stmt (*gsi));\n-  gimple_seq stmts = NULL;\n-  tree ret = gimple_build (&stmts, loc, code, type, a);\n-  gsi_insert_seq_before (gsi, stmts, GSI_SAME_STMT);\n-  return ret;\n+  return gimple_build (gsi, true, GSI_SAME_STMT, loc, code, type, a);\n }\n \n "}, {"sha": "6c058142c373afe8386a2e8392cdb5e611d95adf", "filename": "gcc/ubsan.cc", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fubsan.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fubsan.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fubsan.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -1184,12 +1184,9 @@ ubsan_expand_ptr_ifn (gimple_stmt_iterator *gsip)\n       gimple_set_location (g, loc);\n       gsi_insert_after (&gsi2, g, GSI_NEW_STMT);\n \n-      gimple_seq seq = NULL;\n-      tree t = gimple_build (&seq, loc, NOP_EXPR, ssizetype, off);\n-      t = gimple_build (&seq, loc, GE_EXPR, boolean_type_node,\n-\t\t\tt, ssize_int (0));\n-      gsi_insert_seq_before (&gsi, seq, GSI_SAME_STMT);\n-      g = gimple_build_cond (NE_EXPR, t, boolean_false_node,\n+      tree t = gimple_build (&gsi, true, GSI_SAME_STMT,\n+\t\t\t     loc, NOP_EXPR, ssizetype, off);\n+      g = gimple_build_cond (GE_EXPR, t, ssize_int (0),\n \t\t\t     NULL_TREE, NULL_TREE);\n     }\n   gimple_set_location (g, loc);"}, {"sha": "b768ecda11aea04c04ca058109d15966b90ae4bb", "filename": "gcc/value-pointer-equiv.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fvalue-pointer-equiv.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fvalue-pointer-equiv.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvalue-pointer-equiv.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -28,9 +28,9 @@ along with GCC; see the file COPYING3.  If not see\n #include \"ssa.h\"\n #include \"gimple-pretty-print.h\"\n #include \"cfganal.h\"\n+#include \"gimple-iterator.h\"\n #include \"gimple-fold.h\"\n #include \"tree-eh.h\"\n-#include \"gimple-iterator.h\"\n #include \"tree-cfg.h\"\n #include \"tree-ssa-loop-manip.h\"\n #include \"tree-ssa-loop.h\""}, {"sha": "2cc5084c15a2b3411d44567131aa611d6c82f192", "filename": "gcc/vr-values.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fvr-values.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba2068893c37deaa418d9b2126414f6824e66655/gcc%2Fvr-values.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvr-values.cc?ref=ba2068893c37deaa418d9b2126414f6824e66655", "patch": "@@ -32,8 +32,8 @@ along with GCC; see the file COPYING3.  If not see\n #include \"fold-const.h\"\n #include \"calls.h\"\n #include \"cfganal.h\"\n-#include \"gimple-fold.h\"\n #include \"gimple-iterator.h\"\n+#include \"gimple-fold.h\"\n #include \"tree-cfg.h\"\n #include \"tree-ssa-loop-niter.h\"\n #include \"tree-ssa-loop.h\""}]}