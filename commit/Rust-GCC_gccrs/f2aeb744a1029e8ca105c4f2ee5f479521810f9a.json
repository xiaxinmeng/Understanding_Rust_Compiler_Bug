{"sha": "f2aeb744a1029e8ca105c4f2ee5f479521810f9a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjJhZWI3NDRhMTAyOWU4Y2ExMDVjNGYyZWU1ZjQ3OTUyMTgxMGY5YQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2011-10-20T12:18:56Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2011-10-20T12:18:56Z"}, "message": "ipa-inline.c (inline_small_functions): Always update all calles after inlining.\n\n\t* ipa-inline.c (inline_small_functions): Always update all calles after\n\tinlining.\n\nFrom-SVN: r180249", "tree": {"sha": "b8c06b50139cb3b2aa2b8a614a11d1976dcce990", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b8c06b50139cb3b2aa2b8a614a11d1976dcce990"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f2aeb744a1029e8ca105c4f2ee5f479521810f9a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2aeb744a1029e8ca105c4f2ee5f479521810f9a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f2aeb744a1029e8ca105c4f2ee5f479521810f9a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2aeb744a1029e8ca105c4f2ee5f479521810f9a/comments", "author": null, "committer": null, "parents": [{"sha": "51973b1e1fecff2bd1929437654c141425402d38", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/51973b1e1fecff2bd1929437654c141425402d38", "html_url": "https://github.com/Rust-GCC/gccrs/commit/51973b1e1fecff2bd1929437654c141425402d38"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "e07de320d7fe95385b78c1ad1d0be4e57aca7464", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2aeb744a1029e8ca105c4f2ee5f479521810f9a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2aeb744a1029e8ca105c4f2ee5f479521810f9a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f2aeb744a1029e8ca105c4f2ee5f479521810f9a", "patch": "@@ -1,3 +1,8 @@\n+2011-10-19  Jan Hubicka  <jh@suse.cz>\n+\n+\t* ipa-inline.c (inline_small_functions): Always update all calles after\n+\tinlining.\n+\n 2011-10-19  Jan Hubicka  <jh@suse.cz>\n \n \tPR bootstrap/50709"}, {"sha": "f53f00174a8f0eb8121375b982593e4ee179d219", "filename": "gcc/ipa-inline.c", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2aeb744a1029e8ca105c4f2ee5f479521810f9a/gcc%2Fipa-inline.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2aeb744a1029e8ca105c4f2ee5f479521810f9a/gcc%2Fipa-inline.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-inline.c?ref=f2aeb744a1029e8ca105c4f2ee5f479521810f9a", "patch": "@@ -1515,8 +1515,13 @@ inline_small_functions (void)\n \n \t  /* We inlined last offline copy to the body.  This might lead\n \t     to callees of function having fewer call sites and thus they\n-\t     may need updating.  */\n-\t  if (callee->global.inlined_to)\n+\t     may need updating. \n+\n+\t     FIXME: the callee size could also shrink because more information\n+\t     is propagated from caller.  We don't track when this happen and\n+\t     thus we need to recompute everything all the time.  Once this is\n+\t     solved, \"|| 1\" should go away.  */\n+\t  if (callee->global.inlined_to || 1)\n \t    update_all_callee_keys (heap, callee, updated_nodes);\n \t  else\n \t    update_callee_keys (heap, edge->callee, updated_nodes);"}]}