{"sha": "313dd5043568c6969fe11aac05f424e08097c50b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzEzZGQ1MDQzNTY4YzY5NjlmZTExYWFjMDVmNDI0ZTA4MDk3YzUwYg==", "commit": {"author": {"name": "Phil Edwards", "email": "pme@gcc.gnu.org", "date": "2003-07-06T20:30:55Z"}, "committer": {"name": "Phil Edwards", "email": "pme@gcc.gnu.org", "date": "2003-07-06T20:30:55Z"}, "message": "acinclude.m4 (GLIBCXX_ENABLE_SYMVERS): Do not test for binutils 2.11 with globbing backport fix.\n\n2003-07-06  Phil Edwards  <pme@gcc.gnu.org>\n\n\t* acinclude.m4 (GLIBCXX_ENABLE_SYMVERS):  Do not test for binutils\n\t2.11 with globbing backport fix.\n\t* aclocal.m4, configure:  Regenerated.\n\nFrom-SVN: r69013", "tree": {"sha": "55adbc628d711292050e21f1cd49806fd874e0e6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/55adbc628d711292050e21f1cd49806fd874e0e6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/313dd5043568c6969fe11aac05f424e08097c50b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/313dd5043568c6969fe11aac05f424e08097c50b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/313dd5043568c6969fe11aac05f424e08097c50b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/313dd5043568c6969fe11aac05f424e08097c50b/comments", "author": null, "committer": null, "parents": [{"sha": "ceee09f7b649b4108be2c45d03e62b7fce2b97a4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ceee09f7b649b4108be2c45d03e62b7fce2b97a4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ceee09f7b649b4108be2c45d03e62b7fce2b97a4"}], "stats": {"total": 132, "additions": 43, "deletions": 89}, "files": [{"sha": "9ba2235e1bf05c9f4dd272fe12ac9cb6a8f3b92d", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/313dd5043568c6969fe11aac05f424e08097c50b/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/313dd5043568c6969fe11aac05f424e08097c50b/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=313dd5043568c6969fe11aac05f424e08097c50b", "patch": "@@ -1,3 +1,9 @@\n+2003-07-06  Phil Edwards  <pme@gcc.gnu.org>\n+\n+\t* acinclude.m4 (GLIBCXX_ENABLE_SYMVERS):  Do not test for binutils\n+\t2.11 with globbing backport fix.\n+\t* aclocal.m4, configure:  Regenerated.\n+\n 2003-07-06  Paolo Carlini  <pcarlini@unitus.it>\n \n \t* include/std/std_fstream.h (xsputn): Don't call _M_destroy_pback:"}, {"sha": "807dd64e40bcc4bdba8a45d54ee7627da3199a35", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/313dd5043568c6969fe11aac05f424e08097c50b/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/313dd5043568c6969fe11aac05f424e08097c50b/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=313dd5043568c6969fe11aac05f424e08097c50b", "patch": "@@ -299,7 +299,8 @@ dnl\n dnl Define SECTION_LDFLAGS='-Wl,--gc-sections' if possible.\n dnl Define OPT_LDFLAGS='-Wl,-O1' if possible.\n dnl Define LD, with_gnu_ld, and (possibly) glibcxx_gnu_ld_version as\n-dnl side-effects of testing.\n+dnl side-effects of testing.  The last will be a single integer, e.g.,\n+dnl version 1.23.45.0.67.89 will set glibcxx_gnu_ld_version to 12345.\n dnl\n dnl GLIBCXX_CHECK_LINKER_FEATURES\n AC_DEFUN(GLIBCXX_CHECK_LINKER_FEATURES, [\n@@ -2266,26 +2267,13 @@ glibcxx_min_gnu_ld_version=21400\n # above.\n if test $enable_symvers = yes ; then\n   if test $with_gnu_ld = yes &&\n-    test $glibcxx_shared_libgcc = yes ;\n+     test $glibcxx_shared_libgcc = yes ;\n   then\n     if test $glibcxx_gnu_ld_version -ge $glibcxx_min_gnu_ld_version ; then\n-        enable_symvers=gnu\n+      enable_symvers=gnu\n     else\n-      ac_test_CFLAGS=\"${CFLAGS+set}\"\n-      ac_save_CFLAGS=\"$CFLAGS\"\n-      CFLAGS='-shared -Wl,--version-script,conftest.map'\n+      # The right tools, the right setup, but too old.  Fallbacks?\n       enable_symvers=no\n-      changequote(,)\n-      echo 'FOO { global: f[a-z]o; local: *; };' > conftest.map\n-      changequote([,])\n-      AC_TRY_LINK([int foo;],, enable_symvers=gnu)\n-      if test \"$ac_test_CFLAGS\" = set; then\n-\tCFLAGS=\"$ac_save_CFLAGS\"\n-      else\n-\t# this is the suspicious part\n-\tCFLAGS=''\n-      fi\n-      rm -f conftest.map\n     fi\n   else\n     # just fail for now"}, {"sha": "c8572f2435157ca5752f9d1039db562b14026492", "filename": "libstdc++-v3/aclocal.m4", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/313dd5043568c6969fe11aac05f424e08097c50b/libstdc%2B%2B-v3%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/313dd5043568c6969fe11aac05f424e08097c50b/libstdc%2B%2B-v3%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Faclocal.m4?ref=313dd5043568c6969fe11aac05f424e08097c50b", "patch": "@@ -311,7 +311,8 @@ dnl\n dnl Define SECTION_LDFLAGS='-Wl,--gc-sections' if possible.\n dnl Define OPT_LDFLAGS='-Wl,-O1' if possible.\n dnl Define LD, with_gnu_ld, and (possibly) glibcxx_gnu_ld_version as\n-dnl side-effects of testing.\n+dnl side-effects of testing.  The last will be a single integer, e.g.,\n+dnl version 1.23.45.0.67.89 will set glibcxx_gnu_ld_version to 12345.\n dnl\n dnl GLIBCXX_CHECK_LINKER_FEATURES\n AC_DEFUN(GLIBCXX_CHECK_LINKER_FEATURES, [\n@@ -2278,26 +2279,13 @@ glibcxx_min_gnu_ld_version=21400\n # above.\n if test $enable_symvers = yes ; then\n   if test $with_gnu_ld = yes &&\n-    test $glibcxx_shared_libgcc = yes ;\n+     test $glibcxx_shared_libgcc = yes ;\n   then\n     if test $glibcxx_gnu_ld_version -ge $glibcxx_min_gnu_ld_version ; then\n-        enable_symvers=gnu\n+      enable_symvers=gnu\n     else\n-      ac_test_CFLAGS=\"${CFLAGS+set}\"\n-      ac_save_CFLAGS=\"$CFLAGS\"\n-      CFLAGS='-shared -Wl,--version-script,conftest.map'\n+      # The right tools, the right setup, but too old.  Fallbacks?\n       enable_symvers=no\n-      changequote(,)\n-      echo 'FOO { global: f[a-z]o; local: *; };' > conftest.map\n-      changequote([,])\n-      AC_TRY_LINK([int foo;],, enable_symvers=gnu)\n-      if test \"$ac_test_CFLAGS\" = set; then\n-\tCFLAGS=\"$ac_save_CFLAGS\"\n-      else\n-\t# this is the suspicious part\n-\tCFLAGS=''\n-      fi\n-      rm -f conftest.map\n     fi\n   else\n     # just fail for now"}, {"sha": "a1b794b49917c192c1162bdd564a3b2de5399a10", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 27, "deletions": 55, "changes": 82, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/313dd5043568c6969fe11aac05f424e08097c50b/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/313dd5043568c6969fe11aac05f424e08097c50b/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=313dd5043568c6969fe11aac05f424e08097c50b", "patch": "@@ -23239,41 +23239,13 @@ glibcxx_min_gnu_ld_version=21400\n # above.\n if test $enable_symvers = yes ; then\n   if test $with_gnu_ld = yes &&\n-    test $glibcxx_shared_libgcc = yes ;\n+     test $glibcxx_shared_libgcc = yes ;\n   then\n     if test $glibcxx_gnu_ld_version -ge $glibcxx_min_gnu_ld_version ; then\n-        enable_symvers=gnu\n+      enable_symvers=gnu\n     else\n-      ac_test_CFLAGS=\"${CFLAGS+set}\"\n-      ac_save_CFLAGS=\"$CFLAGS\"\n-      CFLAGS='-shared -Wl,--version-script,conftest.map'\n+      # The right tools, the right setup, but too old.  Fallbacks?\n       enable_symvers=no\n-      \n-      echo 'FOO { global: f[a-z]o; local: *; };' > conftest.map\n-      \n-      cat > conftest.$ac_ext <<EOF\n-#line 23256 \"configure\"\n-#include \"confdefs.h\"\n-int foo;\n-int main() {\n-\n-; return 0; }\n-EOF\n-if { (eval echo configure:23263: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n-  rm -rf conftest*\n-  enable_symvers=gnu\n-else\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-fi\n-rm -f conftest*\n-      if test \"$ac_test_CFLAGS\" = set; then\n-\tCFLAGS=\"$ac_save_CFLAGS\"\n-      else\n-\t# this is the suspicious part\n-\tCFLAGS=''\n-      fi\n-      rm -f conftest.map\n     fi\n   else\n     # just fail for now\n@@ -23306,7 +23278,7 @@ else\n   GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE=\n fi\n echo $ac_n \"checking versioning on shared library symbols\"\"... $ac_c\" 1>&6\n-echo \"configure:23310: checking versioning on shared library symbols\" >&5\n+echo \"configure:23282: checking versioning on shared library symbols\" >&5\n echo \"$ac_t\"\"$enable_symvers\" 1>&6\n \n \n@@ -23321,17 +23293,17 @@ echo \"$ac_t\"\"$enable_symvers\" 1>&6\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:23325: checking for $ac_hdr\" >&5\n+echo \"configure:23297: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 23330 \"configure\"\n+#line 23302 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:23335: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:23307: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -23364,7 +23336,7 @@ done\n     # Can't do these in a loop, else the resulting syntax is wrong.\n     \n   cat > conftest.$ac_ext <<EOF\n-#line 23368 \"configure\"\n+#line 23340 \"configure\"\n #include \"confdefs.h\"\n #include <unistd.h>\n                   #include <sys/time.h>\n@@ -23374,7 +23346,7 @@ int main() {\n  int f = RLIMIT_DATA ; \n ; return 0; }\n EOF\n-if { (eval echo configure:23378: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:23350: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   glibcxx_mresult=1\n else\n@@ -23391,7 +23363,7 @@ EOF\n \n     \n   cat > conftest.$ac_ext <<EOF\n-#line 23395 \"configure\"\n+#line 23367 \"configure\"\n #include \"confdefs.h\"\n #include <unistd.h>\n                   #include <sys/time.h>\n@@ -23401,7 +23373,7 @@ int main() {\n  int f = RLIMIT_RSS ; \n ; return 0; }\n EOF\n-if { (eval echo configure:23405: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:23377: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   glibcxx_mresult=1\n else\n@@ -23418,7 +23390,7 @@ EOF\n \n     \n   cat > conftest.$ac_ext <<EOF\n-#line 23422 \"configure\"\n+#line 23394 \"configure\"\n #include \"confdefs.h\"\n #include <unistd.h>\n                   #include <sys/time.h>\n@@ -23428,7 +23400,7 @@ int main() {\n  int f = RLIMIT_VMEM ; \n ; return 0; }\n EOF\n-if { (eval echo configure:23432: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:23404: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   glibcxx_mresult=1\n else\n@@ -23445,7 +23417,7 @@ EOF\n \n     \n   cat > conftest.$ac_ext <<EOF\n-#line 23449 \"configure\"\n+#line 23421 \"configure\"\n #include \"confdefs.h\"\n #include <unistd.h>\n                   #include <sys/time.h>\n@@ -23455,7 +23427,7 @@ int main() {\n  int f = RLIMIT_AS ; \n ; return 0; }\n EOF\n-if { (eval echo configure:23459: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:23431: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   glibcxx_mresult=1\n else\n@@ -23477,7 +23449,7 @@ EOF\n else\n   \n       cat > conftest.$ac_ext <<EOF\n-#line 23481 \"configure\"\n+#line 23453 \"configure\"\n #include \"confdefs.h\"\n #include <unistd.h>\n                   #include <sys/time.h>\n@@ -23487,7 +23459,7 @@ int main() {\n  struct rlimit r; setrlimit(0, &r);\n ; return 0; }\n EOF\n-if { (eval echo configure:23491: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:23463: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_setrlimit=yes\n else\n@@ -23503,7 +23475,7 @@ fi\n   fi\n \n   echo $ac_n \"checking for testsuite memory limit support\"\"... $ac_c\" 1>&6\n-echo \"configure:23507: checking for testsuite memory limit support\" >&5\n+echo \"configure:23479: checking for testsuite memory limit support\" >&5\n   if test $setrlimit_have_headers = yes && test $ac_setrlimit = yes; then\n     ac_mem_limits=yes\n     cat >> confdefs.h <<\\EOF\n@@ -23519,7 +23491,7 @@ EOF\n     # Look for setenv, so that extended locale tests can be performed.\n     \n   echo $ac_n \"checking for setenv declaration\"\"... $ac_c\" 1>&6\n-echo \"configure:23523: checking for setenv declaration\" >&5\n+echo \"configure:23495: checking for setenv declaration\" >&5\n   if test x${glibcxx_cv_func_setenv_use+set} != xset; then\n     if eval \"test \\\"`echo '$''{'glibcxx_cv_func_setenv_use'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -23534,14 +23506,14 @@ ac_link='${CXX-g++} -o conftest${ac_exeext} $CXXFLAGS $CPPFLAGS $LDFLAGS conftes\n cross_compiling=$ac_cv_prog_cxx_cross\n \n       cat > conftest.$ac_ext <<EOF\n-#line 23538 \"configure\"\n+#line 23510 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n int main() {\n  setenv(0, 0, 0);\n ; return 0; }\n EOF\n-if { (eval echo configure:23545: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:23517: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   glibcxx_cv_func_setenv_use=yes\n else\n@@ -23567,12 +23539,12 @@ fi\n     for ac_func in setenv\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:23571: checking for $ac_func\" >&5\n+echo \"configure:23543: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 23576 \"configure\"\n+#line 23548 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -23595,7 +23567,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:23599: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:23571: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -23755,7 +23727,7 @@ glibcxx_prefixdir=${prefix}\n \n # Process the option --with-gxx-include-dir=<path to include-files directory>\n echo $ac_n \"checking for --with-gxx-include-dir\"\"... $ac_c\" 1>&6\n-echo \"configure:23759: checking for --with-gxx-include-dir\" >&5\n+echo \"configure:23731: checking for --with-gxx-include-dir\" >&5\n # Check whether --with-gxx-include-dir or --without-gxx-include-dir was given.\n if test \"${with_gxx_include_dir+set}\" = set; then\n   withval=\"$with_gxx_include_dir\"\n@@ -23779,7 +23751,7 @@ echo \"$ac_t\"\"$gxx_include_dir\" 1>&6\n \n # Process the option \"--enable-version-specific-runtime-libs\"\n echo $ac_n \"checking for --enable-version-specific-runtime-libs\"\"... $ac_c\" 1>&6\n-echo \"configure:23783: checking for --enable-version-specific-runtime-libs\" >&5\n+echo \"configure:23755: checking for --enable-version-specific-runtime-libs\" >&5\n # Check whether --enable-version-specific-runtime-libs or --disable-version-specific-runtime-libs was given.\n if test \"${enable_version_specific_runtime_libs+set}\" = set; then\n   enableval=\"$enable_version_specific_runtime_libs\"\n@@ -23830,7 +23802,7 @@ if test x\"$glibcxx_toolexecdir\" = x\"no\"; then\n fi\n \n echo $ac_n \"checking for install location\"\"... $ac_c\" 1>&6\n-echo \"configure:23834: checking for install location\" >&5\n+echo \"configure:23806: checking for install location\" >&5\n echo \"$ac_t\"\"$gxx_include_dir\" 1>&6\n \n "}]}