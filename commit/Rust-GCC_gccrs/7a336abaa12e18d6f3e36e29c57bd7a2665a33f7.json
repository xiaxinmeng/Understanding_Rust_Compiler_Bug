{"sha": "7a336abaa12e18d6f3e36e29c57bd7a2665a33f7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2EzMzZhYmFhMTJlMThkNmYzZTM2ZTI5YzU3YmQ3YTI2NjVhMzNmNw==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@CeBiTec.Uni-Bielefeld.DE", "date": "2010-11-19T18:24:25Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2010-11-19T18:24:25Z"}, "message": "gcc-defs.exp (gcc-set-multilib-library-path): Use eval to exec $compiler.\n\n\t* lib/gcc-defs.exp (gcc-set-multilib-library-path): Use eval to\n\texec $compiler.\n\t* lib/gfortran.exp (gfortran_link_flags): Remove braces around\n\t$GFORTRAN_UNDER_TEST.\n\t(gfortran_init): Use -B to specify specpath, add trailing /.\n\nFrom-SVN: r166950", "tree": {"sha": "2c748cbacb07d15bce670ff939a9c74c8a1b1f1e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2c748cbacb07d15bce670ff939a9c74c8a1b1f1e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7a336abaa12e18d6f3e36e29c57bd7a2665a33f7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a336abaa12e18d6f3e36e29c57bd7a2665a33f7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a336abaa12e18d6f3e36e29c57bd7a2665a33f7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a336abaa12e18d6f3e36e29c57bd7a2665a33f7/comments", "author": {"login": "rorth", "id": 3930951, "node_id": "MDQ6VXNlcjM5MzA5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rorth", "html_url": "https://github.com/rorth", "followers_url": "https://api.github.com/users/rorth/followers", "following_url": "https://api.github.com/users/rorth/following{/other_user}", "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rorth/subscriptions", "organizations_url": "https://api.github.com/users/rorth/orgs", "repos_url": "https://api.github.com/users/rorth/repos", "events_url": "https://api.github.com/users/rorth/events{/privacy}", "received_events_url": "https://api.github.com/users/rorth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "fd438373cdd2a5b12d2c17b77922ee8fb8d43847", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd438373cdd2a5b12d2c17b77922ee8fb8d43847", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd438373cdd2a5b12d2c17b77922ee8fb8d43847"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "03e9df1be0aa2a32599529c75518f9b2fb228479", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a336abaa12e18d6f3e36e29c57bd7a2665a33f7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a336abaa12e18d6f3e36e29c57bd7a2665a33f7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7a336abaa12e18d6f3e36e29c57bd7a2665a33f7", "patch": "@@ -1,3 +1,11 @@\n+2010-11-19  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\t* lib/gcc-defs.exp (gcc-set-multilib-library-path): Use eval to\n+\texec $compiler.\n+\t* lib/gfortran.exp (gfortran_link_flags): Remove braces around\n+\t$GFORTRAN_UNDER_TEST.\n+\t(gfortran_init): Use -B to specify specpath, add trailing /.\n+\n 2010-11-19  Michael Meissner  <meissner@linux.vnet.ibm.com>\n \n \t* gcc.target/powerpc/ppc-target-1.c: New file to test target"}, {"sha": "59421832a12d4037889c9d5e88d117a46e34c521", "filename": "gcc/testsuite/lib/gcc-defs.exp", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a336abaa12e18d6f3e36e29c57bd7a2665a33f7/gcc%2Ftestsuite%2Flib%2Fgcc-defs.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a336abaa12e18d6f3e36e29c57bd7a2665a33f7/gcc%2Ftestsuite%2Flib%2Fgcc-defs.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fgcc-defs.exp?ref=7a336abaa12e18d6f3e36e29c57bd7a2665a33f7", "patch": "@@ -253,7 +253,7 @@ proc gcc-set-multilib-library-path { compiler } {\n     set options [lrange $compiler 1 end]\n     set compiler [lindex $compiler 0]\n     if { [is_remote host] == 0 && [which $compiler] != 0 } {\n-\tforeach i \"[exec $compiler $options --print-multi-lib]\" {\n+\tforeach i \"[eval exec $compiler $options --print-multi-lib]\" {\n \t    set mldir \"\"\n \t    regexp -- \"\\[a-z0-9=_/\\.-\\]*;\" $i mldir\n \t    set mldir [string trimright $mldir \"\\;@\"]"}, {"sha": "954dcea10f193002248b298d451b7b084ef7640a", "filename": "gcc/testsuite/lib/gfortran.exp", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a336abaa12e18d6f3e36e29c57bd7a2665a33f7/gcc%2Ftestsuite%2Flib%2Fgfortran.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a336abaa12e18d6f3e36e29c57bd7a2665a33f7/gcc%2Ftestsuite%2Flib%2Fgfortran.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fgfortran.exp?ref=7a336abaa12e18d6f3e36e29c57bd7a2665a33f7", "patch": "@@ -118,7 +118,7 @@ proc gfortran_link_flags { paths } {\n           append flags \"-L${gccpath}/libiberty \"\n       }\n       append ld_library_path \\\n-\t[gcc-set-multilib-library-path { $GFORTRAN_UNDER_TEST } ]\n+\t[gcc-set-multilib-library-path $GFORTRAN_UNDER_TEST ]\n     }\n \n     set_ld_library_path_env_vars\n@@ -166,7 +166,7 @@ proc gfortran_init { args } {\n \t\t} else {\n \t\t    set specpath [get_multilibs]\n \t\t}\n-\t\tset GFORTRAN_UNDER_TEST [findfile $base_dir/../../gfortran \"$base_dir/../../gfortran -B$base_dir/../../ -L$specpath/libgfortran\" [findfile $base_dir/gfortran \"$base_dir/gfortran -B$base_dir/\" [transform gfortran]]]\n+\t\tset GFORTRAN_UNDER_TEST [findfile $base_dir/../../gfortran \"$base_dir/../../gfortran -B$base_dir/../../ -B$specpath/libgfortran/\" [findfile $base_dir/gfortran \"$base_dir/gfortran -B$base_dir/\" [transform gfortran]]]\n \t    }\n \t}\n     }"}]}