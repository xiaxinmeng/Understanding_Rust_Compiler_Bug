{"sha": "44e4ed6a3cb9039c1251bec2d68158b68fe3fad8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDRlNGVkNmEzY2I5MDM5YzEyNTFiZWMyZDY4MTU4YjY4ZmUzZmFkOA==", "commit": {"author": {"name": "David Faust", "email": "david.faust@oracle.com", "date": "2021-08-03T17:00:42Z"}, "committer": {"name": "David Faust", "email": "david.faust@oracle.com", "date": "2021-09-07T20:48:58Z"}, "message": "ctfc: externalize ctf_dtd_lookup\n\nExpose the function ctf_dtd_lookup, so that it can be used by the BPF\nCO-RE machinery. The function is no longer static, and an extern\nprototype is added in ctfc.h.\n\ngcc/ChangeLog:\n\n\t* ctfc.c (ctf_dtd_lookup): Function is no longer static.\n\t* ctfc.h: Analogous change.", "tree": {"sha": "f9542448c658c4e6c532fcd649b408c418aa9542", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f9542448c658c4e6c532fcd649b408c418aa9542"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/44e4ed6a3cb9039c1251bec2d68158b68fe3fad8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44e4ed6a3cb9039c1251bec2d68158b68fe3fad8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/44e4ed6a3cb9039c1251bec2d68158b68fe3fad8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44e4ed6a3cb9039c1251bec2d68158b68fe3fad8/comments", "author": {"login": "dafaust", "id": 4460334, "node_id": "MDQ6VXNlcjQ0NjAzMzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4460334?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dafaust", "html_url": "https://github.com/dafaust", "followers_url": "https://api.github.com/users/dafaust/followers", "following_url": "https://api.github.com/users/dafaust/following{/other_user}", "gists_url": "https://api.github.com/users/dafaust/gists{/gist_id}", "starred_url": "https://api.github.com/users/dafaust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dafaust/subscriptions", "organizations_url": "https://api.github.com/users/dafaust/orgs", "repos_url": "https://api.github.com/users/dafaust/repos", "events_url": "https://api.github.com/users/dafaust/events{/privacy}", "received_events_url": "https://api.github.com/users/dafaust/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dafaust", "id": 4460334, "node_id": "MDQ6VXNlcjQ0NjAzMzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4460334?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dafaust", "html_url": "https://github.com/dafaust", "followers_url": "https://api.github.com/users/dafaust/followers", "following_url": "https://api.github.com/users/dafaust/following{/other_user}", "gists_url": "https://api.github.com/users/dafaust/gists{/gist_id}", "starred_url": "https://api.github.com/users/dafaust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dafaust/subscriptions", "organizations_url": "https://api.github.com/users/dafaust/orgs", "repos_url": "https://api.github.com/users/dafaust/repos", "events_url": "https://api.github.com/users/dafaust/events{/privacy}", "received_events_url": "https://api.github.com/users/dafaust/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "81eced213c8d69c6a031712d81d245da423992dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/81eced213c8d69c6a031712d81d245da423992dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/81eced213c8d69c6a031712d81d245da423992dc"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "db6ba030301e47d0855fc6708ee73f954e0030c5", "filename": "gcc/ctfc.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/44e4ed6a3cb9039c1251bec2d68158b68fe3fad8/gcc%2Fctfc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/44e4ed6a3cb9039c1251bec2d68158b68fe3fad8/gcc%2Fctfc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fctfc.c?ref=44e4ed6a3cb9039c1251bec2d68158b68fe3fad8", "patch": "@@ -132,7 +132,7 @@ ctf_dtd_insert (ctf_container_ref ctfc, ctf_dtdef_ref dtd)\n \n /* Lookup CTF type given a DWARF die for the type.  */\n \n-static ctf_dtdef_ref\n+ctf_dtdef_ref\n ctf_dtd_lookup (const ctf_container_ref ctfc, const dw_die_ref type)\n {\n   ctf_dtdef_t entry;"}, {"sha": "825570d807e99bedde8a50f8fbc909be952d9cea", "filename": "gcc/ctfc.h", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/44e4ed6a3cb9039c1251bec2d68158b68fe3fad8/gcc%2Fctfc.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/44e4ed6a3cb9039c1251bec2d68158b68fe3fad8/gcc%2Fctfc.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fctfc.h?ref=44e4ed6a3cb9039c1251bec2d68158b68fe3fad8", "patch": "@@ -388,7 +388,10 @@ extern bool ctf_type_exists (ctf_container_ref, dw_die_ref, ctf_id_t *);\n \n extern void ctf_add_cuname (ctf_container_ref, const char *);\n \n-extern ctf_dvdef_ref ctf_dvd_lookup (const ctf_container_ref, dw_die_ref);\n+extern ctf_dtdef_ref ctf_dtd_lookup (const ctf_container_ref ctfc,\n+\t\t\t\t     dw_die_ref die);\n+extern ctf_dvdef_ref ctf_dvd_lookup (const ctf_container_ref ctfc,\n+\t\t\t\t     dw_die_ref die);\n \n extern const char * ctf_add_string (ctf_container_ref, const char *,\n \t\t\t\t    uint32_t *, int);"}]}