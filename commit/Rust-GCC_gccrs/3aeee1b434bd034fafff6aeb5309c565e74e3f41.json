{"sha": "3aeee1b434bd034fafff6aeb5309c565e74e3f41", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2FlZWUxYjQzNGJkMDM0ZmFmZmY2YWViNTMwOWM1NjVlNzRlM2Y0MQ==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@cs.umass.edu", "date": "2004-11-26T07:07:00Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2004-11-26T07:07:00Z"}, "message": "bitmap.c (bitmap_find_bit): Speed up by traversing from head->first if that seems profitable.\n\n\t* bitmap.c (bitmap_find_bit): Speed up by traversing from\n\thead->first if that seems profitable.\n\nFrom-SVN: r91335", "tree": {"sha": "70570fb44f35a4e72fc9fc581481500db1e54681", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/70570fb44f35a4e72fc9fc581481500db1e54681"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3aeee1b434bd034fafff6aeb5309c565e74e3f41", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3aeee1b434bd034fafff6aeb5309c565e74e3f41", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3aeee1b434bd034fafff6aeb5309c565e74e3f41", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3aeee1b434bd034fafff6aeb5309c565e74e3f41/comments", "author": null, "committer": null, "parents": [{"sha": "6a66a8a7a2bf2db8fa48d5e3abd758c66e10b6cd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a66a8a7a2bf2db8fa48d5e3abd758c66e10b6cd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6a66a8a7a2bf2db8fa48d5e3abd758c66e10b6cd"}], "stats": {"total": 19, "additions": 17, "deletions": 2}, "files": [{"sha": "af309768113dc3e6204c1bb54300d9b599f8688a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3aeee1b434bd034fafff6aeb5309c565e74e3f41/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3aeee1b434bd034fafff6aeb5309c565e74e3f41/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3aeee1b434bd034fafff6aeb5309c565e74e3f41", "patch": "@@ -3,6 +3,9 @@\n \t* cfgrtl.c (try_redirect_by_replacing_jump): Speed up the\n \tcheck that tests if all edges go to the same destination.\n \n+\t* bitmap.c (bitmap_find_bit): Speed up by traversing from\n+\thead->first if that seems profitable.\n+\n 2004-11-25  Jeff Law  <law@redhat.com>\n \n \t* timevar.def (TV_TREE_LOOP_INIT, TV_TREE_LOOP_FINI): New timevars."}, {"sha": "140dd007e7968c5cb4da8727283fb8ed1bad426c", "filename": "gcc/bitmap.c", "status": "modified", "additions": 14, "deletions": 2, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3aeee1b434bd034fafff6aeb5309c565e74e3f41/gcc%2Fbitmap.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3aeee1b434bd034fafff6aeb5309c565e74e3f41/gcc%2Fbitmap.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbitmap.c?ref=3aeee1b434bd034fafff6aeb5309c565e74e3f41", "patch": "@@ -401,14 +401,26 @@ bitmap_find_bit (bitmap head, unsigned int bit)\n       || head->indx == indx)\n     return head->current;\n \n-  if (head->indx > indx)\n+  if (head->indx < indx)\n+    /* INDX is beyond head->indx.  Search from head->current\n+       forward.  */\n+    for (element = head->current;\n+\t element->next != 0 && element->indx < indx;\n+\t element = element->next)\n+      ;\n+\n+  else if (head->indx / 2 < indx)\n+    /* INDX is less than head->indx and closer to head->indx than to\n+       0.  Search from head->current backward.  */\n     for (element = head->current;\n \t element->prev != 0 && element->indx > indx;\n \t element = element->prev)\n       ;\n \n   else\n-    for (element = head->current;\n+    /* INDX is less than head->indx and closer to 0 than to\n+       head->indx.  Search from head->first forward.  */\n+    for (element = head->first;\n \t element->next != 0 && element->indx < indx;\n \t element = element->next)\n       ;"}]}