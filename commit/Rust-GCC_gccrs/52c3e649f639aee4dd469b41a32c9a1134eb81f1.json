{"sha": "52c3e649f639aee4dd469b41a32c9a1134eb81f1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTJjM2U2NDlmNjM5YWVlNGRkNDY5YjQxYTMyYzlhMTEzNGViODFmMQ==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@cs.umass.edu", "date": "2005-03-05T13:49:43Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2005-03-05T13:49:43Z"}, "message": "predict.c (apply_return_prediction): Standardize PHI chain walking.\n\n\t* predict.c (apply_return_prediction): Standardize PHI chain\n\twalking.\n\t* tree-ssa.c (ssa_redirect_edge): Likewise.\n\nFrom-SVN: r95930", "tree": {"sha": "afe2154c65a8f2e29991715f4bb5cb09f4853283", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/afe2154c65a8f2e29991715f4bb5cb09f4853283"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/52c3e649f639aee4dd469b41a32c9a1134eb81f1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52c3e649f639aee4dd469b41a32c9a1134eb81f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52c3e649f639aee4dd469b41a32c9a1134eb81f1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52c3e649f639aee4dd469b41a32c9a1134eb81f1/comments", "author": null, "committer": null, "parents": [{"sha": "74231b0f2c5e178da69919a807d7054f64d7bf59", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74231b0f2c5e178da69919a807d7054f64d7bf59", "html_url": "https://github.com/Rust-GCC/gccrs/commit/74231b0f2c5e178da69919a807d7054f64d7bf59"}], "stats": {"total": 23, "additions": 11, "deletions": 12}, "files": [{"sha": "6077f1a9bfb1b847c3e13647caf0aab5e4c96c47", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52c3e649f639aee4dd469b41a32c9a1134eb81f1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52c3e649f639aee4dd469b41a32c9a1134eb81f1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=52c3e649f639aee4dd469b41a32c9a1134eb81f1", "patch": "@@ -1,3 +1,9 @@\n+2005-03-05  Kazu Hirata  <kazu@cs.umass.edu>\n+\n+\t* predict.c (apply_return_prediction): Standardize PHI chain\n+\twalking.\n+\t* tree-ssa.c (ssa_redirect_edge): Likewise.\n+\n 2005-03-05  Richard Sandiford  <rsandifo@redhat.com>\n \n \t* doc/invoke.texi: Document new MIPS -msym32 and -mno-sym32 options."}, {"sha": "9a00f0bb15fe412ba1e791c30f57212c7ebf3458", "filename": "gcc/predict.c", "status": "modified", "additions": 3, "deletions": 8, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52c3e649f639aee4dd469b41a32c9a1134eb81f1/gcc%2Fpredict.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52c3e649f639aee4dd469b41a32c9a1134eb81f1/gcc%2Fpredict.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpredict.c?ref=52c3e649f639aee4dd469b41a32c9a1134eb81f1", "patch": "@@ -1207,14 +1207,9 @@ apply_return_prediction (int *heads)\n       || !SSA_NAME_DEF_STMT (return_val)\n       || TREE_CODE (SSA_NAME_DEF_STMT (return_val)) != PHI_NODE)\n     return;\n-  phi = SSA_NAME_DEF_STMT (return_val);\n-  while (phi)\n-    {\n-      tree next = PHI_CHAIN (phi);\n-      if (PHI_RESULT (phi) == return_val)\n-\tbreak;\n-      phi = next;\n-    }\n+  for (phi = SSA_NAME_DEF_STMT (return_val); phi; phi = PHI_CHAIN (phi))\n+    if (PHI_RESULT (phi) == return_val)\n+      break;\n   if (!phi)\n     return;\n   phi_num_args = PHI_NUM_ARGS (phi);"}, {"sha": "99b9627c2070fa463513e0510375c74360d9ce29", "filename": "gcc/tree-ssa.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52c3e649f639aee4dd469b41a32c9a1134eb81f1/gcc%2Ftree-ssa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52c3e649f639aee4dd469b41a32c9a1134eb81f1/gcc%2Ftree-ssa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa.c?ref=52c3e649f639aee4dd469b41a32c9a1134eb81f1", "patch": "@@ -53,15 +53,13 @@ Boston, MA 02111-1307, USA.  */\n edge\n ssa_redirect_edge (edge e, basic_block dest)\n {\n-  tree phi, next;\n+  tree phi;\n   tree list = NULL, *last = &list;\n   tree src, dst, node;\n \n   /* Remove the appropriate PHI arguments in E's destination block.  */\n-  for (phi = phi_nodes (e->dest); phi; phi = next)\n+  for (phi = phi_nodes (e->dest); phi; phi = PHI_CHAIN (phi))\n     {\n-      next = PHI_CHAIN (phi);\n-\n       if (PHI_ARG_DEF (phi, e->dest_idx) == NULL_TREE)\n \tcontinue;\n "}]}