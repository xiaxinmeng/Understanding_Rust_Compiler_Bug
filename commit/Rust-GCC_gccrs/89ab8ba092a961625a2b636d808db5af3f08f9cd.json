{"sha": "89ab8ba092a961625a2b636d808db5af3f08f9cd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODlhYjhiYTA5MmE5NjE2MjVhMmI2MzZkODA4ZGI1YWYzZjA4ZjljZA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2007-11-30T07:24:54Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2007-11-30T07:24:54Z"}, "message": "re PR c++/34275 (Broken diagnostic: 'obj_type_ref' not supported by dump_expr)\n\n\tPR c++/34275\n\t* error.c (dump_expr): Handle OBJ_TYPE_REF.\n\n\t* g++.dg/other/error20.C: New test.\n\nFrom-SVN: r130533", "tree": {"sha": "a19ea46d14e7de1e2863f1e4827278f8b2583408", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a19ea46d14e7de1e2863f1e4827278f8b2583408"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/89ab8ba092a961625a2b636d808db5af3f08f9cd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89ab8ba092a961625a2b636d808db5af3f08f9cd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/89ab8ba092a961625a2b636d808db5af3f08f9cd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89ab8ba092a961625a2b636d808db5af3f08f9cd/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6aa38454caa003e2bb9298bc1a61fcc1bca6c23d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6aa38454caa003e2bb9298bc1a61fcc1bca6c23d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6aa38454caa003e2bb9298bc1a61fcc1bca6c23d"}], "stats": {"total": 26, "additions": 26, "deletions": 0}, "files": [{"sha": "b8f1e889de9e876edd53b75454d30b12e9cc50a2", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89ab8ba092a961625a2b636d808db5af3f08f9cd/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89ab8ba092a961625a2b636d808db5af3f08f9cd/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=89ab8ba092a961625a2b636d808db5af3f08f9cd", "patch": "@@ -1,3 +1,8 @@\n+2007-11-30  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR c++/34275\n+\t* error.c (dump_expr): Handle OBJ_TYPE_REF.\n+\n 2007-11-29  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c++/34270"}, {"sha": "9446f2aa0c3d6e57f15a0db46974d99ebb0815a7", "filename": "gcc/cp/error.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89ab8ba092a961625a2b636d808db5af3f08f9cd/gcc%2Fcp%2Ferror.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89ab8ba092a961625a2b636d808db5af3f08f9cd/gcc%2Fcp%2Ferror.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ferror.c?ref=89ab8ba092a961625a2b636d808db5af3f08f9cd", "patch": "@@ -2056,6 +2056,10 @@ dump_expr (tree t, int flags)\n       pp_expression (cxx_pp, t);\n       break;\n \n+    case OBJ_TYPE_REF:\n+      dump_expr (resolve_virtual_fun_from_obj_type_ref (t), flags);\n+      break;\n+\n       /*  This list is incomplete, but should suffice for now.\n \t  It is very important that `sorry' does not call\n \t  `report_error_function'.  That could cause an infinite loop.  */"}, {"sha": "229fb0a124821394a3b72e64e1ba59b0401ed4a5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89ab8ba092a961625a2b636d808db5af3f08f9cd/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89ab8ba092a961625a2b636d808db5af3f08f9cd/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=89ab8ba092a961625a2b636d808db5af3f08f9cd", "patch": "@@ -1,3 +1,8 @@\n+2007-11-30  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR c++/34275\n+\t* g++.dg/other/error20.C: New test.\n+\n 2007-11-29  Steven G. Kargl  <kargls@comcast.net>\n \n \tPR fortran/34230"}, {"sha": "3c8e8f22aafbb18a0f44af79021232d8c9c5645f", "filename": "gcc/testsuite/g++.dg/other/error20.C", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89ab8ba092a961625a2b636d808db5af3f08f9cd/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Ferror20.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89ab8ba092a961625a2b636d808db5af3f08f9cd/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Ferror20.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Ferror20.C?ref=89ab8ba092a961625a2b636d808db5af3f08f9cd", "patch": "@@ -0,0 +1,12 @@\n+// PR c++/34275\n+// { dg-do compile }\n+\n+struct A\n+{\t\t// { dg-error \"candidates\" }\n+  virtual A foo ();\n+};\n+\n+void bar (A& a)\n+{\n+  a.foo () = 0; // { dg-error \"A::foo\\\\(\\\\) = 0\" }\n+}   "}]}