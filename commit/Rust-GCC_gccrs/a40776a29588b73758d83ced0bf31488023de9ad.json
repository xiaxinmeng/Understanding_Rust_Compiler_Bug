{"sha": "a40776a29588b73758d83ced0bf31488023de9ad", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTQwNzc2YTI5NTg4YjczNzU4ZDgzY2VkMGJmMzE0ODgwMjNkZTlhZA==", "commit": {"author": {"name": "Sandra Loosemore", "email": "sandra@codesourcery.com", "date": "2006-10-01T23:38:08Z"}, "committer": {"name": "Sandra Loosemore", "email": "sandra@gcc.gnu.org", "date": "2006-10-01T23:38:08Z"}, "message": "tree.h (DECL_FIELD_OFFSET, [...]): Fix comments to reflect actual behavior and relationship between...\n\n2006-10-01  Sandra Loosemore  <sandra@codesourcery.com>\n\n\t* gcc/tree.h (DECL_FIELD_OFFSET, DECL_FIELD_BIT_OFFSET):  Fix\n\tcomments to reflect actual behavior and relationship between\n\tDECL_FIELD_OFFSET, DECL_FIELD_BIT_OFFSET, and DECL_OFFSET_ALIGN.\n\n\t* gcc/doc/c-tree.texi (Working with declarations): Fix documentation\n\tof FIELD_DECL likewise.\n\nFrom-SVN: r117352", "tree": {"sha": "0dcdbe9bee62c2eda67530a05289abfffb121b64", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0dcdbe9bee62c2eda67530a05289abfffb121b64"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a40776a29588b73758d83ced0bf31488023de9ad", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a40776a29588b73758d83ced0bf31488023de9ad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a40776a29588b73758d83ced0bf31488023de9ad", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a40776a29588b73758d83ced0bf31488023de9ad/comments", "author": {"login": "SandraLoosemore", "id": 104087111, "node_id": "U_kgDOBjQ-Rw", "avatar_url": "https://avatars.githubusercontent.com/u/104087111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SandraLoosemore", "html_url": "https://github.com/SandraLoosemore", "followers_url": "https://api.github.com/users/SandraLoosemore/followers", "following_url": "https://api.github.com/users/SandraLoosemore/following{/other_user}", "gists_url": "https://api.github.com/users/SandraLoosemore/gists{/gist_id}", "starred_url": "https://api.github.com/users/SandraLoosemore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SandraLoosemore/subscriptions", "organizations_url": "https://api.github.com/users/SandraLoosemore/orgs", "repos_url": "https://api.github.com/users/SandraLoosemore/repos", "events_url": "https://api.github.com/users/SandraLoosemore/events{/privacy}", "received_events_url": "https://api.github.com/users/SandraLoosemore/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "3397327cdcfe7b878320228cee615615260390a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3397327cdcfe7b878320228cee615615260390a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3397327cdcfe7b878320228cee615615260390a7"}], "stats": {"total": 36, "additions": 28, "deletions": 8}, "files": [{"sha": "14e3af7981c93fdfa9aec6dc36c1bc8192e02257", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a40776a29588b73758d83ced0bf31488023de9ad/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a40776a29588b73758d83ced0bf31488023de9ad/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a40776a29588b73758d83ced0bf31488023de9ad", "patch": "@@ -1,3 +1,12 @@\n+2006-10-01  Sandra Loosemore  <sandra@codesourcery.com>\n+\n+\t* tree.h (DECL_FIELD_OFFSET, DECL_FIELD_BIT_OFFSET):  Fix\n+\tcomments to reflect actual behavior and relationship between\n+\tDECL_FIELD_OFFSET, DECL_FIELD_BIT_OFFSET, and DECL_OFFSET_ALIGN.\n+\n+\t* doc/c-tree.texi (Working with declarations): Fix documentation\n+\tof FIELD_DECL likewise.\n+\n 2006-10-01  Ryan Mansfield  <rmansfield@qnx.com>\n \n \tPR c/20533"}, {"sha": "bc4d9b67fa80ee0ce2582a09401505c10531b760", "filename": "gcc/doc/c-tree.texi", "status": "modified", "additions": 14, "deletions": 6, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a40776a29588b73758d83ced0bf31488023de9ad/gcc%2Fdoc%2Fc-tree.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a40776a29588b73758d83ced0bf31488023de9ad/gcc%2Fdoc%2Fc-tree.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fc-tree.texi?ref=a40776a29588b73758d83ced0bf31488023de9ad", "patch": "@@ -967,12 +967,20 @@ ordinary type might be @code{short} while the @code{DECL_ARG_TYPE} is\n \n @item FIELD_DECL\n These nodes represent non-static data members.  The @code{DECL_SIZE} and\n-@code{DECL_ALIGN} behave as for @code{VAR_DECL} nodes.  The\n-@code{DECL_FIELD_BITPOS} gives the first bit used for this field, as an\n-@code{INTEGER_CST}.  These values are indexed from zero, where zero\n-indicates the first bit in the object.\n-\n-If @code{DECL_C_BIT_FIELD} holds, this field is a bit-field.\n+@code{DECL_ALIGN} behave as for @code{VAR_DECL} nodes.  \n+The position of the field within the parent record is specified by a \n+combination of three attributes.  @code{DECL_FIELD_OFFSET} is the position,\n+counting in bytes, of the @code{DECL_OFFSET_ALIGN}-bit sized word containing\n+the bit of the field closest to the beginning of the structure.  \n+@code{DECL_FIELD_BIT_OFFSET} is the bit offset of the first bit of the field\n+within this word; this may be nonzero even for fields that are not bit-fields,\n+since @code{DECL_OFFSET_ALIGN} may be greater than the natural alignment\n+of the field's type.\n+\n+If @code{DECL_C_BIT_FIELD} holds, this field is a bit-field.  In a bit-field,\n+@code{DECL_BIT_FIELD_TYPE} also contains the type that was originally\n+specified for it, while DECL_TYPE may be a modified type with lesser precision,\n+according to the size of the bit field.\n \n @item NAMESPACE_DECL\n @xref{Namespaces}."}, {"sha": "c2ea4798a5947123c7fd07f1f9105e71d3ab2d1c", "filename": "gcc/tree.h", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a40776a29588b73758d83ced0bf31488023de9ad/gcc%2Ftree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a40776a29588b73758d83ced0bf31488023de9ad/gcc%2Ftree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.h?ref=a40776a29588b73758d83ced0bf31488023de9ad", "patch": "@@ -2648,11 +2648,14 @@ struct tree_decl_with_rtl GTY(())\n };\n \n /* In a FIELD_DECL, this is the field position, counting in bytes, of the\n-   byte containing the bit closest to the beginning of the structure.  */\n+   DECL_OFFSET_ALIGN-bit-sized word containing the bit closest to the beginning\n+   of the structure.  */\n #define DECL_FIELD_OFFSET(NODE) (FIELD_DECL_CHECK (NODE)->field_decl.offset)\n \n /* In a FIELD_DECL, this is the offset, in bits, of the first bit of the\n-   field from DECL_FIELD_OFFSET.  */\n+   field from DECL_FIELD_OFFSET.  This field may be nonzero even for fields\n+   that are not bit fields (since DECL_OFFSET_ALIGN may be larger than the\n+   natural alignment of the field's type).  */\n #define DECL_FIELD_BIT_OFFSET(NODE) (FIELD_DECL_CHECK (NODE)->field_decl.bit_offset)\n \n /* In a FIELD_DECL, this indicates whether the field was a bit-field and"}]}