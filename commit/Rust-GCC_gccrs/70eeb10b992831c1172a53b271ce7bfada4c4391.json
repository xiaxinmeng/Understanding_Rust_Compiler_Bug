{"sha": "70eeb10b992831c1172a53b271ce7bfada4c4391", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzBlZWIxMGI5OTI4MzFjMTE3MmE1M2IyNzFjZTdiZmFkYTRjNDM5MQ==", "commit": {"author": {"name": "Ulrich Weigand", "email": "uweigand@de.ibm.com", "date": "2001-09-18T21:51:53Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2001-09-18T21:51:53Z"}, "message": "config.gcc (s390-*-linux-*, [...]): Switch to new-style tm_file specification.\n\n* config.gcc (s390-*-linux-*, s390x-*-linux*): Switch to\nnew-style tm_file specification.  Specify correct tm_p_file,\nmd_file, and out_file for s390x.\n\n* config/s390/linux.h, linux64.h:  Don't include other target\nmacro header files.  Now handled via tm_file.\n\n* config/s390/linux.h, s390.h:  (IEEE_FLOAT, TARGET_IEEE_FLOAT,\nTARGET_IBM_FLOAT): Move from linux.h to s390.h to ensure they\nare defined before use.\n\nFrom-SVN: r45685", "tree": {"sha": "e3dfafa890aeae59d9137edee6b4006762c05842", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e3dfafa890aeae59d9137edee6b4006762c05842"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/70eeb10b992831c1172a53b271ce7bfada4c4391", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70eeb10b992831c1172a53b271ce7bfada4c4391", "html_url": "https://github.com/Rust-GCC/gccrs/commit/70eeb10b992831c1172a53b271ce7bfada4c4391", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70eeb10b992831c1172a53b271ce7bfada4c4391/comments", "author": null, "committer": null, "parents": [{"sha": "69ee340e99122652eabfbcaea19e21ced3e63d53", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69ee340e99122652eabfbcaea19e21ced3e63d53", "html_url": "https://github.com/Rust-GCC/gccrs/commit/69ee340e99122652eabfbcaea19e21ced3e63d53"}], "stats": {"total": 35, "additions": 23, "deletions": 12}, "files": [{"sha": "152cbeb1977e6a850d5b60a32527ddfaf0cc2a08", "filename": "gcc/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70eeb10b992831c1172a53b271ce7bfada4c4391/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70eeb10b992831c1172a53b271ce7bfada4c4391/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=70eeb10b992831c1172a53b271ce7bfada4c4391", "patch": "@@ -1,3 +1,16 @@\n+2001-09-18  Ulrich Weigand  <uweigand@de.ibm.com>:\n+ \n+        * config.gcc (s390-*-linux-*, s390x-*-linux*): Switch to \n+\tnew-style tm_file specification.  Specify correct tm_p_file, \n+\tmd_file, and out_file for s390x. \n+\n+\t* config/s390/linux.h, linux64.h:  Don't include other target\n+\tmacro header files.  Now handled via tm_file.\n+\n+\t* config/s390/linux.h, s390.h:  (IEEE_FLOAT, TARGET_IEEE_FLOAT, \n+\tTARGET_IBM_FLOAT): Move from linux.h to s390.h to ensure they\n+\tare defined before use.\n+\t\n Tue Sep 18 09:51:11 2001  Eric Christopher  <ecechristo@redhat.com>\n \n         * config/mips/mips.c (mips_asm_file_start): Conditionalize Elf"}, {"sha": "d501991ee438d6b4b066bd2d61ae5e4f0c419aa7", "filename": "gcc/config.gcc", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70eeb10b992831c1172a53b271ce7bfada4c4391/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70eeb10b992831c1172a53b271ce7bfada4c4391/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=70eeb10b992831c1172a53b271ce7bfada4c4391", "patch": "@@ -2799,7 +2799,7 @@ rs6000-*-lynxos*)\n \t;;\n s390-*-linux*)\n \txmake_file=x-linux\n-\ttm_file=s390/linux.h\n+\ttm_file=\"s390/s390.h linux.h s390/linux.h\"\n \ttmake_file=\"t-slibgcc-elf-ver t-linux s390/t-linux\"\n \textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o\"\n \tif test x$enable_threads = xyes; then\n@@ -2808,7 +2808,10 @@ s390-*-linux*)\n \t;;\n s390x-*-linux*)\n \txmake_file=x-linux\n-\ttm_file=s390/linux64.h\n+\ttm_file=\"s390/s390.h linux.h s390/linux.h s390/linux64.h\"\n+\ttm_p_file=s390/s390-protos.h\n+\tmd_file=s390/s390.md\n+\tout_file=s390/s390.c\n \ttmake_file=\"t-slibgcc-elf-ver t-linux s390/t-linux\"\n \textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o\"\n \tif test x$enable_threads = xyes; then"}, {"sha": "3c9ad6953ee641b02cf477af46bf9ce158c991f5", "filename": "gcc/config/s390/linux.h", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70eeb10b992831c1172a53b271ce7bfada4c4391/gcc%2Fconfig%2Fs390%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70eeb10b992831c1172a53b271ce7bfada4c4391/gcc%2Fconfig%2Fs390%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Flinux.h?ref=70eeb10b992831c1172a53b271ce7bfada4c4391", "patch": "@@ -23,14 +23,6 @@ Boston, MA 02111-1307, USA.  */\n #ifndef _LINUX_H\n #define _LINUX_H\n \n-#define IEEE_FLOAT 1\n-#define TARGET_IBM_FLOAT           0\n-#define TARGET_IEEE_FLOAT          1\n-\n-#include <s390/s390.h>              /* Base s390 target machine definitions*/\n-\n-#include <linux.h>\n-\n #undef SIZE_TYPE                       /* use default                      */\n \n #undef TARGET_VERSION"}, {"sha": "d66bdaa7bd2d3815b254e9907a60d3839c9f011a", "filename": "gcc/config/s390/linux64.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70eeb10b992831c1172a53b271ce7bfada4c4391/gcc%2Fconfig%2Fs390%2Flinux64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70eeb10b992831c1172a53b271ce7bfada4c4391/gcc%2Fconfig%2Fs390%2Flinux64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Flinux64.h?ref=70eeb10b992831c1172a53b271ce7bfada4c4391", "patch": "@@ -22,8 +22,6 @@ Boston, MA 02111-1307, USA.  */\n #ifndef _LINUX64_H\n #define _LINUX64_H\n \n-#include <s390/linux.h>              /* Base linux target machine definitions*/\n-\n #undef PTRDIFF_TYPE\n #define PTRDIFF_TYPE \"long int\"\n "}, {"sha": "d250f05eb5fa7108b76d6224bf025d491c2d31be", "filename": "gcc/config/s390/s390.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70eeb10b992831c1172a53b271ce7bfada4c4391/gcc%2Fconfig%2Fs390%2Fs390.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70eeb10b992831c1172a53b271ce7bfada4c4391/gcc%2Fconfig%2Fs390%2Fs390.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.h?ref=70eeb10b992831c1172a53b271ce7bfada4c4391", "patch": "@@ -65,6 +65,11 @@ extern int target_flags;\n /* Define this to change the optimizations performed by default.  */\n #define OPTIMIZATION_OPTIONS(LEVEL, SIZE) optimization_options(LEVEL, SIZE)\n \n+/* Defines for REAL_ARITHMETIC.  */\n+#define IEEE_FLOAT 1\n+#define TARGET_IBM_FLOAT           0\n+#define TARGET_IEEE_FLOAT          1 \n+\n /* The current function count for create unique internal labels.  */\n \n extern int s390_function_count;"}]}