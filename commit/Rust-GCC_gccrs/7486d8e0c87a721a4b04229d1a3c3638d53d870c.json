{"sha": "7486d8e0c87a721a4b04229d1a3c3638d53d870c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzQ4NmQ4ZTBjODdhNzIxYTRiMDQyMjlkMWEzYzM2MzhkNTNkODcwYw==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2008-08-20T15:30:04Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2008-08-20T15:30:04Z"}, "message": "g-comlin.adb (For_Each_Simple_Switch): Take care of switches not part of any alias or prefix but having attached...\n\n2008-08-20  Jerome Lambourg  <lambourg@adacore.com>\n\n\t* g-comlin.adb (For_Each_Simple_Switch): Take care of switches not part\n\tof any alias or prefix but having attached parameters (as \\\"-O2\\\").\n\nFrom-SVN: r139314", "tree": {"sha": "7cd84483c9de707e504b57f3b06cfea1f6a94481", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7cd84483c9de707e504b57f3b06cfea1f6a94481"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7486d8e0c87a721a4b04229d1a3c3638d53d870c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7486d8e0c87a721a4b04229d1a3c3638d53d870c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7486d8e0c87a721a4b04229d1a3c3638d53d870c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7486d8e0c87a721a4b04229d1a3c3638d53d870c/comments", "author": null, "committer": null, "parents": [{"sha": "26a29f015c8fcd83cd199443745c9dfd462913bd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26a29f015c8fcd83cd199443745c9dfd462913bd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/26a29f015c8fcd83cd199443745c9dfd462913bd"}], "stats": {"total": 65, "additions": 65, "deletions": 0}, "files": [{"sha": "b01ef1013b34ede17dbdd335ed3d3e7b9902fd17", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7486d8e0c87a721a4b04229d1a3c3638d53d870c/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7486d8e0c87a721a4b04229d1a3c3638d53d870c/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=7486d8e0c87a721a4b04229d1a3c3638d53d870c", "patch": "@@ -1,3 +1,24 @@\n+2008-08-20  Vincent Celier  <celier@adacore.com>\n+\n+\t* prj-nmsc.adb (Check_Naming_Schemes): Accept source file names for\n+\tgprbuild when casing is MixedCase, whatever the casing of the letters\n+\tin the file name.\n+\n+2008-08-20  Gary Dismukes  <dismukes@adacore.com>\n+\n+\t* exp_ch3.adb (Build_Array_Init_Proc): Clarify comment related to\n+\tcreating dummy init proc.\n+\t(Requires_Init_Proc): Return False in the case No_Default_Initialization\n+\tis in force and the type does not have associated default\n+\tinitialization. Move test of Is_Public (with tests of restrictions\n+\tNo_Initialize_Scalars and No_Default_Initialization) to end, past tests\n+\tfor default initialization.\n+\n+2008-08-20  Jerome Lambourg  <lambourg@adacore.com>\n+\n+\t* g-comlin.adb (For_Each_Simple_Switch): Take care of switches not part\n+\tof any alias or prefix but having attached parameters (as \\\"-O2\\\").\n+\n 2008-08-20  Robert Dewar  <dewar@adacore.com>\n \n \t* s-fileio.adb: Minor reformatting"}, {"sha": "e3070414dc3ba5d7a5172c68edb1c914ec9ae1c2", "filename": "gcc/ada/g-comlin.adb", "status": "modified", "additions": 44, "deletions": 0, "changes": 44, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7486d8e0c87a721a4b04229d1a3c3638d53d870c/gcc%2Fada%2Fg-comlin.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7486d8e0c87a721a4b04229d1a3c3638d53d870c/gcc%2Fada%2Fg-comlin.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-comlin.adb?ref=7486d8e0c87a721a4b04229d1a3c3638d53d870c", "patch": "@@ -1566,6 +1566,50 @@ package body GNAT.Command_Line is\n          end loop;\n       end if;\n \n+      --  Determine if the added switch is a known switch with parameter\n+      --  attached.\n+      if Parameter = \"\"\n+        and then Cmd.Config /= null\n+        and then Cmd.Config.Switches /= null\n+      then\n+         for S in Cmd.Config.Switches'Range loop\n+            declare\n+               Sw    : constant String :=\n+                         Actual_Switch (Cmd.Config.Switches (S).all);\n+               Last  : Natural;\n+               Param : Natural;\n+\n+            begin\n+               if Switch'Length >= Sw'Length\n+                 --  Verify that switch starts with Sw\n+                 and then Looking_At (Switch, Switch'First, Sw)\n+               then\n+                  Param := Switch'First + Sw'Length - 1;\n+                  Last := Param;\n+\n+                  if Can_Have_Parameter (Cmd.Config.Switches (S).all) then\n+                     while Last < Switch'Last\n+                       and then Switch (Last + 1) in '0' .. '9'\n+                     loop\n+                        Last := Last + 1;\n+                     end loop;\n+                  end if;\n+\n+                  --  If the full Switch is a known switch with attached\n+                  --  parameter, then we use this parameter in the callback.\n+                  if Last = Switch'Last then\n+                     Callback\n+                       (Switch (Switch'First .. Param),\n+                        Switch (Param + 1 .. Last));\n+\n+                     return;\n+\n+                  end if;\n+               end if;\n+            end;\n+         end loop;\n+      end if;\n+\n       Callback (Switch, Parameter);\n    end For_Each_Simple_Switch;\n "}]}