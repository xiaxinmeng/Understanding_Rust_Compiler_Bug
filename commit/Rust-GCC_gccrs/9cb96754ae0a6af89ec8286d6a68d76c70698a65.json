{"sha": "9cb96754ae0a6af89ec8286d6a68d76c70698a65", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWNiOTY3NTRhZTBhNmFmODllYzgyODZkNmE2OGQ3NmM3MDY5OGE2NQ==", "commit": {"author": {"name": "Naveen.H.S", "email": "naveenh@kpitcummins.com", "date": "2006-05-30T22:53:48Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2006-05-30T22:53:48Z"}, "message": "m32c.c (m32c_expand_insv): Check that the value we're inserting is a singlt-bit constant.\n\n* config/m32c/m32c.c (m32c_expand_insv): Check that the value\nwe're inserting is a singlt-bit constant.\n\nCo-Authored-By: DJ Delorie <dj@redhat.com>\n\nFrom-SVN: r114250", "tree": {"sha": "ca97d5b499f73302ca53b0ea23f70f72b8e171ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ca97d5b499f73302ca53b0ea23f70f72b8e171ed"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9cb96754ae0a6af89ec8286d6a68d76c70698a65", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9cb96754ae0a6af89ec8286d6a68d76c70698a65", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9cb96754ae0a6af89ec8286d6a68d76c70698a65", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9cb96754ae0a6af89ec8286d6a68d76c70698a65/comments", "author": null, "committer": null, "parents": [{"sha": "96a782e226f8c0ab9677ec5ff26319d6ee1062c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96a782e226f8c0ab9677ec5ff26319d6ee1062c4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/96a782e226f8c0ab9677ec5ff26319d6ee1062c4"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "04a83735875fcebcbdabcb91a647ab07ef861181", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9cb96754ae0a6af89ec8286d6a68d76c70698a65/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9cb96754ae0a6af89ec8286d6a68d76c70698a65/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9cb96754ae0a6af89ec8286d6a68d76c70698a65", "patch": "@@ -1,3 +1,9 @@\n+2006-05-30  Naveen.H.S  <naveenh@kpitcummins.com>\n+\t    DJ Delorie  <dj@redhat.com>\n+\n+\t* config/m32c/m32c.c (m32c_expand_insv): Check that the value\n+\twe're inserting is a singlt-bit constant.\n+\n 2006-05-30  Roger Sayle  <roger@eyesopen.com>\n \n \t* simplify-rtx.c (simplify_binary_operation_1) <LSHIFTRT>: Cast"}, {"sha": "6fddc4b276072a5176b561cded5cf1811ba1ecc2", "filename": "gcc/config/m32c/m32c.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9cb96754ae0a6af89ec8286d6a68d76c70698a65/gcc%2Fconfig%2Fm32c%2Fm32c.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9cb96754ae0a6af89ec8286d6a68d76c70698a65/gcc%2Fconfig%2Fm32c%2Fm32c.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm32c%2Fm32c.c?ref=9cb96754ae0a6af89ec8286d6a68d76c70698a65", "patch": "@@ -3435,6 +3435,14 @@ m32c_expand_insv (rtx *operands)\n   if (INTVAL (operands[1]) != 1)\n     return 1;\n \n+  /* Our insv opcode (bset, bclr) can only insert a one-bit constant.  */\n+  if (GET_CODE (operands[3]) != CONST_INT)\n+    return 1;\n+  if (INTVAL (operands[3]) != 0\n+      && INTVAL (operands[3]) != 1\n+      && INTVAL (operands[3]) != -1)\n+    return 1;\n+\n   mask = 1 << INTVAL (operands[2]);\n \n   op0 = operands[0];"}]}