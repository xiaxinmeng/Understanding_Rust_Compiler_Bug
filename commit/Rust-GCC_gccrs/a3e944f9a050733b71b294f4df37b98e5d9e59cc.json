{"sha": "a3e944f9a050733b71b294f4df37b98e5d9e59cc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTNlOTQ0ZjlhMDUwNzMzYjcxYjI5NGY0ZGYzN2I5OGU1ZDllNTljYw==", "commit": {"author": {"name": "Jason Thorpe", "email": "thorpej@wasabisystems.com", "date": "2002-06-08T06:38:02Z"}, "committer": {"name": "Jason Thorpe", "email": "thorpej@gcc.gnu.org", "date": "2002-06-08T06:38:02Z"}, "message": "netbsd-elf.h (LINK_SPEC): Define as NETBSD_LINK_SPEC_ELF.\n\n* config/i386/netbsd-elf.h (LINK_SPEC): Define as\nNETBSD_LINK_SPEC_ELF.\n(SUBTARGET_EXTRA_SPECS): Add netbsd_entry_point.\n(NETBSD_ENTRY_POINT): Define.\n* config/i386/netbsd64.h (LINK_SPEC): Use %(netbsd_link_spec).\n(SUBTARGET_EXTRA_SPECS): Add netbsd_link_spec and\nnetbsd_entry_point.\n(NETBSD_ENTRY_POINT): Define.\n\nFrom-SVN: r54362", "tree": {"sha": "8073d40905cbe94ac055e07f3996f92def6145d3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8073d40905cbe94ac055e07f3996f92def6145d3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a3e944f9a050733b71b294f4df37b98e5d9e59cc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3e944f9a050733b71b294f4df37b98e5d9e59cc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a3e944f9a050733b71b294f4df37b98e5d9e59cc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3e944f9a050733b71b294f4df37b98e5d9e59cc/comments", "author": null, "committer": null, "parents": [{"sha": "854928a0397c41f1ccf75455ecda4e8d6f7df0d1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/854928a0397c41f1ccf75455ecda4e8d6f7df0d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/854928a0397c41f1ccf75455ecda4e8d6f7df0d1"}], "stats": {"total": 75, "additions": 39, "deletions": 36}, "files": [{"sha": "0bfcc66c8268805a4ea1d686ca017cea549cf135", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3e944f9a050733b71b294f4df37b98e5d9e59cc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3e944f9a050733b71b294f4df37b98e5d9e59cc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a3e944f9a050733b71b294f4df37b98e5d9e59cc", "patch": "@@ -1,3 +1,14 @@\n+2002-06-08  Jason Thorpe  <thorpej@wasabisystems.com>\n+\n+\t* config/i386/netbsd-elf.h (LINK_SPEC): Define as\n+\tNETBSD_LINK_SPEC_ELF.\n+\t(SUBTARGET_EXTRA_SPECS): Add netbsd_entry_point.\n+\t(NETBSD_ENTRY_POINT): Define.\n+\t* config/i386/netbsd64.h (LINK_SPEC): Use %(netbsd_link_spec).\n+\t(SUBTARGET_EXTRA_SPECS): Add netbsd_link_spec and\n+\tnetbsd_entry_point.\n+\t(NETBSD_ENTRY_POINT): Define.\n+\n 2002-06-08  Jason Thorpe  <thorpej@wasabisystems.com>\n \n \t* config/alpha/netbsd.h (SUBTARGET_EXTRA_SPECS): Add"}, {"sha": "a1591f732f137c7fc75ecab0a44a788f5143de1e", "filename": "gcc/config/i386/netbsd-elf.h", "status": "modified", "additions": 12, "deletions": 17, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3e944f9a050733b71b294f4df37b98e5d9e59cc/gcc%2Fconfig%2Fi386%2Fnetbsd-elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3e944f9a050733b71b294f4df37b98e5d9e59cc/gcc%2Fconfig%2Fi386%2Fnetbsd-elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fnetbsd-elf.h?ref=a3e944f9a050733b71b294f4df37b98e5d9e59cc", "patch": "@@ -27,27 +27,22 @@ Boston, MA 02111-1307, USA.  */\n     }\t\t\t\t\t\t\\\n   while (0)\n \n-/* Provide a LINK_SPEC appropriate for a NetBSD/i386 ELF target.\n-   This is a copy of LINK_SPEC from <netbsd-elf.h> tweaked for\n-   the i386 target.  */\n \n-#undef LINK_SPEC\n-#define LINK_SPEC\t\t\t\t\t\t\t\\\n- \"%{assert*} %{R*}\t\t\t\t\t\t\t\\\n-  %{shared:-shared}\t\t\t\t\t\t\t\\\n-  %{!shared:\t\t\t\t\t\t\t\t\\\n-    -dc -dp\t\t\t\t\t\t\t\t\\\n-    %{!nostdlib:\t\t\t\t\t\t\t\\\n-      %{!r*:\t\t\t\t\t\t\t\t\\\n-\t%{!e*:-e __start}}}\t\t\t\t\t\t\\\n-    %{!static:\t\t\t\t\t\t\t\t\\\n-      %{rdynamic:-export-dynamic}\t\t\t\t\t\\\n-      %{!dynamic-linker:-dynamic-linker /usr/libexec/ld.elf_so}}\t\\\n-    %{static:-static}}\"\n+/* Extra specs needed for NetBSD/i386 ELF.  */\n \n #undef SUBTARGET_EXTRA_SPECS\n #define SUBTARGET_EXTRA_SPECS\t\t\t\\\n-  { \"netbsd_cpp_spec\", NETBSD_CPP_SPEC },\n+  { \"netbsd_cpp_spec\", NETBSD_CPP_SPEC },\t\\\n+  { \"netbsd_entry_point\", NETBSD_ENTRY_POINT },\n+\n+\n+/* Provide a LINK_SPEC appropriate for a NetBSD/i386 ELF target.  */\n+\n+#undef LINK_SPEC\n+#define LINK_SPEC NETBSD_LINK_SPEC_ELF\n+\n+#define NETBSD_ENTRY_POINT \"__start\"\n+\n \n /* Provide a CPP_SPEC appropriate for NetBSD.  */\n "}, {"sha": "89050bc540b61e4b547af479186aabae389aff74", "filename": "gcc/config/i386/netbsd64.h", "status": "modified", "additions": 16, "deletions": 19, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3e944f9a050733b71b294f4df37b98e5d9e59cc/gcc%2Fconfig%2Fi386%2Fnetbsd64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3e944f9a050733b71b294f4df37b98e5d9e59cc/gcc%2Fconfig%2Fi386%2Fnetbsd64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fnetbsd64.h?ref=a3e944f9a050733b71b294f4df37b98e5d9e59cc", "patch": "@@ -29,29 +29,26 @@ Boston, MA 02111-1307, USA.  */\n     }\t\t\t\t\t\t\\\n   while (0)\n \n-/* Provide a LINK_SPEC appropriate for a NetBSD/x86-64 ELF target.\n-   This is a copy of LINK_SPEC from <netbsd-elf.h> tweaked for\n-   the x86-64 target.  */\n \n-#undef LINK_SPEC\n-#define LINK_SPEC\t\t\t\t\t\t\t\\\n-  \"%{!m32:-m elf_x86_64}\t\t\t\t\t\t\\\n-   %{m32:-m elf_i386}\t\t\t\t\t\t\t\\\n-   %{assert*} %{R*}\t\t\t\t\t\t\t\\\n-   %{shared:-shared}\t\t\t\t\t\t\t\\\n-   %{!shared:\t\t\t\t\t\t\t\t\\\n-     -dc -dp\t\t\t\t\t\t\t\t\\\n-     %{!nostdlib:\t\t\t\t\t\t\t\\\n-       %{!r*:\t\t\t\t\t\t\t\t\\\n-\t  %{!e*:-e _start}}}\t\t\t\t\t\t\\\n-     %{!static:\t\t\t\t\t\t\t\t\\\n-       %{rdynamic:-export-dynamic}\t\t\t\t\t\\\n-       %{!dynamic-linker:-dynamic-linker /usr/libexec/ld.elf_so}}\t\\\n-     %{static:-static}}\"\n+/* Extra specs needed for NetBSD/x86-64 ELF.  */\n \n #undef SUBTARGET_EXTRA_SPECS\n #define SUBTARGET_EXTRA_SPECS\t\t\t\\\n-  { \"netbsd_cpp_spec\", NETBSD_CPP_SPEC },\n+  { \"netbsd_cpp_spec\", NETBSD_CPP_SPEC },\t\\\n+  { \"netbsd_link_spec\", NETBSD_LINK_SPEC_ELF },\t\\\n+  { \"netbsd_entry_point\", NETBSD_ENTRY_POINT },\n+\n+\n+/* Provide a LINK_SPEC appropriate for a NetBSD/x86-64 ELF target.  */\n+\n+#undef LINK_SPEC\n+#define LINK_SPEC \\\n+  \"%{m32:-m elf_i386} \\\n+   %{m64:-m elf_x86_64} \\\n+   %(netbsd_link_spec)\"\n+\n+#define NETBSD_ENTRY_POINT \"_start\"\n+\n \n /* Provide a CPP_SPEC appropriate for NetBSD.  */\n "}]}