{"sha": "5e75ef4aca22a5c6ac6e32dd46e8035793bd9607", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWU3NWVmNGFjYTIyYTVjNmFjNmUzMmRkNDZlODAzNTc5M2JkOTYwNw==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1998-03-08T12:04:17Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-03-08T12:04:17Z"}, "message": "final.c (shorten_branches): Fix minor logic error in ADDR_DIFF_VEC shortening support.\n\n        * final.c (shorten_branches): Fix minor logic error in\n        ADDR_DIFF_VEC shortening support.\n\nFrom-SVN: r18443", "tree": {"sha": "1114980e82dac2acf7a3129cfb74b37bd3ca1968", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1114980e82dac2acf7a3129cfb74b37bd3ca1968"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5e75ef4aca22a5c6ac6e32dd46e8035793bd9607", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e75ef4aca22a5c6ac6e32dd46e8035793bd9607", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5e75ef4aca22a5c6ac6e32dd46e8035793bd9607", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e75ef4aca22a5c6ac6e32dd46e8035793bd9607/comments", "author": null, "committer": null, "parents": [{"sha": "9961366112f25fcf2f76e9388bf816efabb617a4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9961366112f25fcf2f76e9388bf816efabb617a4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9961366112f25fcf2f76e9388bf816efabb617a4"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "87b27d87307eee83029174577af6aa407e18a7c6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e75ef4aca22a5c6ac6e32dd46e8035793bd9607/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e75ef4aca22a5c6ac6e32dd46e8035793bd9607/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5e75ef4aca22a5c6ac6e32dd46e8035793bd9607", "patch": "@@ -1,3 +1,8 @@\n+Sun Mar  8 13:01:56 1998  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* final.c (shorten_branches): Fix minor logic error in\n+\tADDR_DIFF_VEC shortening support.\n+\n Sun Mar 8 02:17:42 PST 1998 Jeff Law  (law@cygnus.com)\n \n \t* version.c: Bump for snapshot."}, {"sha": "d00a05e0b098d312e4ae610a319fe407df9e6f5d", "filename": "gcc/final.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e75ef4aca22a5c6ac6e32dd46e8035793bd9607/gcc%2Ffinal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e75ef4aca22a5c6ac6e32dd46e8035793bd9607/gcc%2Ffinal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffinal.c?ref=5e75ef4aca22a5c6ac6e32dd46e8035793bd9607", "patch": "@@ -1296,10 +1296,10 @@ shorten_branches (first)\n \t  insn_last_address = insn_addresses[uid];\n \t  insn_addresses[uid] = insn_current_address;\n \n+#ifdef CASE_VECTOR_SHORTEN_MODE\n \t  if (optimize && GET_CODE (insn) == JUMP_INSN\n \t      && GET_CODE (PATTERN (insn)) == ADDR_DIFF_VEC)\n \t    {\n-#ifdef CASE_VECTOR_SHORTEN_MODE\n \t      rtx body = PATTERN (insn);\n \t      int old_length = insn_lengths[uid];\n \t      rtx rel_lab = XEXP (XEXP (body, 0), 0);\n@@ -1397,9 +1397,10 @@ shorten_branches (first)\n \t\tsomething_changed = 1;\n #endif\n \t      continue;\n-#endif /* CASE_VECTOR_SHORTEN_MODE */\n \t    }\n-\t  else if (! (varying_length[uid]))\n+#endif /* CASE_VECTOR_SHORTEN_MODE */\n+\n+\t  if (! (varying_length[uid]))\n \t    {\n \t      insn_current_address += insn_lengths[uid];\n \t      continue;"}]}