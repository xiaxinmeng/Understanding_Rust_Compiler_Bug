{"sha": "5d158777580bd4b5ced86df46103010eef39f599", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWQxNTg3Nzc1ODBiZDRiNWNlZDg2ZGY0NjEwMzAxMGVlZjM5ZjU5OQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@golang.org", "date": "2018-01-19T05:04:51Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2018-01-19T05:04:51Z"}, "message": "Makefile.am (GOTOOLS_TEST_TIMEOUT): Define.\n\n\t* Makefile.am (GOTOOLS_TEST_TIMEOUT): Define.\n\t(check-go-tool): Pass -test.timeout with GOTOOLS_TEST_TIMEOUT.\n\t(check-cgo-test, check-carchive-test, check-vet): Likewise.\n\t* Makefile.in: Rebuild.\n\nFrom-SVN: r256876", "tree": {"sha": "becc41d6243b44d36eeac5da09904659ebeca822", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/becc41d6243b44d36eeac5da09904659ebeca822"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5d158777580bd4b5ced86df46103010eef39f599", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d158777580bd4b5ced86df46103010eef39f599", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d158777580bd4b5ced86df46103010eef39f599", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d158777580bd4b5ced86df46103010eef39f599/comments", "author": {"login": "ianlancetaylor", "id": 3194333, "node_id": "MDQ6VXNlcjMxOTQzMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/3194333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ianlancetaylor", "html_url": "https://github.com/ianlancetaylor", "followers_url": "https://api.github.com/users/ianlancetaylor/followers", "following_url": "https://api.github.com/users/ianlancetaylor/following{/other_user}", "gists_url": "https://api.github.com/users/ianlancetaylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/ianlancetaylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ianlancetaylor/subscriptions", "organizations_url": "https://api.github.com/users/ianlancetaylor/orgs", "repos_url": "https://api.github.com/users/ianlancetaylor/repos", "events_url": "https://api.github.com/users/ianlancetaylor/events{/privacy}", "received_events_url": "https://api.github.com/users/ianlancetaylor/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ddc606cef767f479a4ad8b1d05fd1049a755d06a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ddc606cef767f479a4ad8b1d05fd1049a755d06a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ddc606cef767f479a4ad8b1d05fd1049a755d06a"}], "stats": {"total": 45, "additions": 29, "deletions": 16}, "files": [{"sha": "400ef832ffb5ff866752410adccd0c60658c2b16", "filename": "gotools/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d158777580bd4b5ced86df46103010eef39f599/gotools%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d158777580bd4b5ced86df46103010eef39f599/gotools%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gotools%2FChangeLog?ref=5d158777580bd4b5ced86df46103010eef39f599", "patch": "@@ -1,3 +1,10 @@\n+2018-01-18  Ian Lance Taylor  <iant@golang.org>\n+\n+\t* Makefile.am (GOTOOLS_TEST_TIMEOUT): Define.\n+\t(check-go-tool): Pass -test.timeout with GOTOOLS_TEST_TIMEOUT.\n+\t(check-cgo-test, check-carchive-test, check-vet): Likewise.\n+\t* Makefile.in: Rebuild.\n+\n 2018-01-08  Ian Lance Taylor  <iant@golang.org>\n \n \t* Makefile.am (go_cmd_vet_files): New variable."}, {"sha": "2738cc2c885823795673b5f3dc4ce7451790a9f4", "filename": "gotools/Makefile.am", "status": "modified", "additions": 11, "deletions": 8, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d158777580bd4b5ced86df46103010eef39f599/gotools%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d158777580bd4b5ced86df46103010eef39f599/gotools%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gotools%2FMakefile.am?ref=5d158777580bd4b5ced86df46103010eef39f599", "patch": "@@ -161,6 +161,9 @@ uninstall-local:\n \n GOTESTFLAGS =\n \n+# Number of seconds before tests time out.\n+GOTOOLS_TEST_TIMEOUT = 240\n+\n # Run tests using the go tool, and frob the output to look like that\n # generated by DejaGNU.  The main output of this is two files:\n # gotools.sum and gotools.log.\n@@ -234,11 +237,11 @@ check-go-tool: go$(EXEEXT) $(noinst_PROGRAMS) check-head check-gccgo check-gcc\n \tcp $(libgodir)/objabi.go check-go-dir/src/cmd/internal/objabi/\n \t@abs_libgodir=`cd $(libgodir) && $(PWD_COMMAND)`; \\\n \tabs_checkdir=`cd check-go-dir && $(PWD_COMMAND)`; \\\n-\techo \"cd check-go-dir/src/cmd/go && $(ECHO_ENV) GOPATH=$${abs_checkdir} $(abs_builddir)/go$(EXEEXT) test -test.short -test.v\" > cmd_go-testlog\n+\techo \"cd check-go-dir/src/cmd/go && $(ECHO_ENV) GOPATH=$${abs_checkdir} $(abs_builddir)/go$(EXEEXT) test -test.short -test.timeout=$(GOTOOLS_TEST_TIMEOUT)s -test.v\" > cmd_go-testlog\n \t$(CHECK_ENV) \\\n \tGOPATH=`cd check-go-dir && $(PWD_COMMAND)`; \\\n \texport GOPATH; \\\n-\t(cd check-go-dir/src/cmd/go && $(abs_builddir)/go$(EXEEXT) test -test.short -test.v) >> cmd_go-testlog 2>&1 || echo \"--- $${fl}: go test cmd/go (0.00s)\" >> cmd_go-testlog\n+\t(cd check-go-dir/src/cmd/go && $(abs_builddir)/go$(EXEEXT) test -test.short -test.timeout=$(GOTOOLS_TEST_TIMEOUT)s -test.v) >> cmd_go-testlog 2>&1 || echo \"--- $${fl}: go test cmd/go (0.00s)\" >> cmd_go-testlog\n \tgrep '^--- ' cmd_go-testlog | sed -e 's/^--- \\(.*\\) ([^)]*)$$/\\1/' | sort -k 2\n \n # check-runtime runs `go test runtime` in our environment.\n@@ -269,11 +272,11 @@ check-cgo-test: go$(EXEEXT) $(noinst_PROGRAMS) check-head check-gccgo check-gcc\n \t$(MKDIR_P) cgo-test-dir/misc/cgo\n \tcp -r $(libgomiscdir)/cgo/test cgo-test-dir/misc/cgo/\n \t@abs_libgodir=`cd $(libgodir) && $(PWD_COMMAND)`; \\\n-\techo \"cd cgo-test-dir/misc/cgo/test && $(ECHO_ENV) GOTRACEBACK=2 $(abs_builddir)/go$(EXEEXT) test -test.short -test.v\" > cgo-testlog\n+\techo \"cd cgo-test-dir/misc/cgo/test && $(ECHO_ENV) GOTRACEBACK=2 $(abs_builddir)/go$(EXEEXT) test -test.short -test.timeout=$(GOTOOLS_TEST_TIMEOUT)s -test.v\" > cgo-testlog\n \t$(CHECK_ENV) \\\n \tGOTRACEBACK=2; \\\n \texport GOTRACEBACK; \\\n-\t(cd cgo-test-dir/misc/cgo/test && $(abs_builddir)/go$(EXEEXT) test -test.short -test.v) >> cgo-testlog 2>&1 || echo \"--- $${fl}: go test misc/cgo/test (0.00s)\" >> cgo-testlog\n+\t(cd cgo-test-dir/misc/cgo/test && $(abs_builddir)/go$(EXEEXT) test -test.short -test.timeout=$(GOTOOLS_TEST_TIMEOUT)s -test.v) >> cgo-testlog 2>&1 || echo \"--- $${fl}: go test misc/cgo/test (0.00s)\" >> cgo-testlog\n \tgrep '^--- ' cgo-testlog | sed -e 's/^--- \\(.*\\) ([^)]*)$$/\\1/' | sort -k 2\n \n # check-carchive-test runs `go test misc/cgo/testcarchive/carchive_test.go`\n@@ -283,11 +286,11 @@ check-carchive-test: go$(EXEEXT) $(noinst_PROGRAMS) check-head check-gccgo check\n \t$(MKDIR_P) carchive-test-dir/misc/cgo\n \tcp -r $(libgomiscdir)/cgo/testcarchive carchive-test-dir/misc/cgo/\n \t@abs_libgodir=`cd $(libgodir) && $(PWD_COMMAND)`; \\\n-\techo \"cd carchive-test-dir/misc/cgo/testcarchive && $(ECHO_ENV) LIBRARY_PATH=`echo $${abs_libgodir}/.libs` $(abs_builddir)/go$(EXEEXT) test -test.v carchive_test.go\" > carchive-testlog\n+\techo \"cd carchive-test-dir/misc/cgo/testcarchive && $(ECHO_ENV) LIBRARY_PATH=`echo $${abs_libgodir}/.libs` $(abs_builddir)/go$(EXEEXT) test -test.timeout=$(GOTOOLS_TEST_TIMEOUT)s -test.v carchive_test.go\" > carchive-testlog\n \t$(CHECK_ENV) \\\n \tLIBRARY_PATH=`echo $${abs_libgodir}/.libs:$${LIBRARY_PATH} | sed 's,::*,:,g;s,^:*,,;s,:*$$,,'`; \\\n \texport LIBRARY_PATH; \\\n-\t(cd carchive-test-dir/misc/cgo/testcarchive && $(abs_builddir)/go$(EXEEXT) test -test.v carchive_test.go) >> carchive-testlog 2>&1 || echo \"--- $${fl}: go test misc/cgo/testcarchive (0.00s)\" >> carchive-testlog\n+\t(cd carchive-test-dir/misc/cgo/testcarchive && $(abs_builddir)/go$(EXEEXT) test -test.timeout=$(GOTOOLS_TEST_TIMEOUT)s -test.v carchive_test.go) >> carchive-testlog 2>&1 || echo \"--- $${fl}: go test misc/cgo/testcarchive (0.00s)\" >> carchive-testlog\n \tgrep '^--- ' carchive-testlog | sed -e 's/^--- \\(.*\\) ([^)]*)$$/\\1/' | sort -k 2\n \n # check-vet runs `go test cmd/vet` in our environment.\n@@ -297,11 +300,11 @@ check-vet: go$(EXEEXT) $(noinst_PROGRAMS) check-head check-gccgo check-gcc\n \tcp -r $(cmdsrcdir)/vet check-vet-dir/src/cmd/\n \t@abs_libgodir=`cd $(libgodir) && $(PWD_COMMAND)`; \\\n \tabs_checkdir=`cd check-vet-dir && $(PWD_COMMAND)`; \\\n-\techo \"cd check-vet-dir/src/cmd/vet && $(ECHO_ENV) GOPATH=$${abs_checkdir} $(abs_builddir)/go$(EXEEXT) test -test.short -test.v\" > cmd_vet-testlog\n+\techo \"cd check-vet-dir/src/cmd/vet && $(ECHO_ENV) GOPATH=$${abs_checkdir} $(abs_builddir)/go$(EXEEXT) test -test.short -test.timeout=$(GOTOOLS_TEST_TIMEOUT)s -test.v\" > cmd_vet-testlog\n \t$(CHECK_ENV) \\\n \tGOPATH=`cd check-vet-dir && $(PWD_COMMAND)`; \\\n \texport GOPATH; \\\n-\t(cd check-vet-dir/src/cmd/vet && $(abs_builddir)/go$(EXEEXT) test -test.short -test.v) >> cmd_vet-testlog 2>&1 || echo \"--- $${fl}: go test cmd/vet (0.00s)\" >> cmd_vet-testlog\n+\t(cd check-vet-dir/src/cmd/vet && $(abs_builddir)/go$(EXEEXT) test -test.short -test.timeout=$(GOTOOLS_TEST_TIMEOUT)s -test.v) >> cmd_vet-testlog 2>&1 || echo \"--- $${fl}: go test cmd/vet (0.00s)\" >> cmd_vet-testlog\n \tgrep '^--- ' cmd_vet-testlog | sed -e 's/^--- \\(.*\\) ([^)]*)$$/\\1/' | sort -k 2\n \n # The check targets runs the tests and assembles the output files."}, {"sha": "3925eb44f21d52e0a088656bec7b17af117393ec", "filename": "gotools/Makefile.in", "status": "modified", "additions": 11, "deletions": 8, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d158777580bd4b5ced86df46103010eef39f599/gotools%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d158777580bd4b5ced86df46103010eef39f599/gotools%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gotools%2FMakefile.in?ref=5d158777580bd4b5ced86df46103010eef39f599", "patch": "@@ -347,6 +347,9 @@ MOSTLYCLEANFILES = \\\n @NATIVE_TRUE@man_MANS = go.1 gofmt.1\n @NATIVE_TRUE@GOTESTFLAGS = \n \n+# Number of seconds before tests time out.\n+@NATIVE_TRUE@GOTOOLS_TEST_TIMEOUT = 240\n+\n # CHECK_ENV sets up the environment to run the newly built go tool.\n # If you change this, change ECHO_ENV, below.\n # The fl shell variable is used to avoid having FAIL appear\n@@ -813,11 +816,11 @@ mostlyclean-local:\n @NATIVE_TRUE@\tcp $(libgodir)/objabi.go check-go-dir/src/cmd/internal/objabi/\n @NATIVE_TRUE@\t@abs_libgodir=`cd $(libgodir) && $(PWD_COMMAND)`; \\\n @NATIVE_TRUE@\tabs_checkdir=`cd check-go-dir && $(PWD_COMMAND)`; \\\n-@NATIVE_TRUE@\techo \"cd check-go-dir/src/cmd/go && $(ECHO_ENV) GOPATH=$${abs_checkdir} $(abs_builddir)/go$(EXEEXT) test -test.short -test.v\" > cmd_go-testlog\n+@NATIVE_TRUE@\techo \"cd check-go-dir/src/cmd/go && $(ECHO_ENV) GOPATH=$${abs_checkdir} $(abs_builddir)/go$(EXEEXT) test -test.short -test.timeout=$(GOTOOLS_TEST_TIMEOUT)s -test.v\" > cmd_go-testlog\n @NATIVE_TRUE@\t$(CHECK_ENV) \\\n @NATIVE_TRUE@\tGOPATH=`cd check-go-dir && $(PWD_COMMAND)`; \\\n @NATIVE_TRUE@\texport GOPATH; \\\n-@NATIVE_TRUE@\t(cd check-go-dir/src/cmd/go && $(abs_builddir)/go$(EXEEXT) test -test.short -test.v) >> cmd_go-testlog 2>&1 || echo \"--- $${fl}: go test cmd/go (0.00s)\" >> cmd_go-testlog\n+@NATIVE_TRUE@\t(cd check-go-dir/src/cmd/go && $(abs_builddir)/go$(EXEEXT) test -test.short -test.timeout=$(GOTOOLS_TEST_TIMEOUT)s -test.v) >> cmd_go-testlog 2>&1 || echo \"--- $${fl}: go test cmd/go (0.00s)\" >> cmd_go-testlog\n @NATIVE_TRUE@\tgrep '^--- ' cmd_go-testlog | sed -e 's/^--- \\(.*\\) ([^)]*)$$/\\1/' | sort -k 2\n \n # check-runtime runs `go test runtime` in our environment.\n@@ -848,11 +851,11 @@ mostlyclean-local:\n @NATIVE_TRUE@\t$(MKDIR_P) cgo-test-dir/misc/cgo\n @NATIVE_TRUE@\tcp -r $(libgomiscdir)/cgo/test cgo-test-dir/misc/cgo/\n @NATIVE_TRUE@\t@abs_libgodir=`cd $(libgodir) && $(PWD_COMMAND)`; \\\n-@NATIVE_TRUE@\techo \"cd cgo-test-dir/misc/cgo/test && $(ECHO_ENV) GOTRACEBACK=2 $(abs_builddir)/go$(EXEEXT) test -test.short -test.v\" > cgo-testlog\n+@NATIVE_TRUE@\techo \"cd cgo-test-dir/misc/cgo/test && $(ECHO_ENV) GOTRACEBACK=2 $(abs_builddir)/go$(EXEEXT) test -test.short -test.timeout=$(GOTOOLS_TEST_TIMEOUT)s -test.v\" > cgo-testlog\n @NATIVE_TRUE@\t$(CHECK_ENV) \\\n @NATIVE_TRUE@\tGOTRACEBACK=2; \\\n @NATIVE_TRUE@\texport GOTRACEBACK; \\\n-@NATIVE_TRUE@\t(cd cgo-test-dir/misc/cgo/test && $(abs_builddir)/go$(EXEEXT) test -test.short -test.v) >> cgo-testlog 2>&1 || echo \"--- $${fl}: go test misc/cgo/test (0.00s)\" >> cgo-testlog\n+@NATIVE_TRUE@\t(cd cgo-test-dir/misc/cgo/test && $(abs_builddir)/go$(EXEEXT) test -test.short -test.timeout=$(GOTOOLS_TEST_TIMEOUT)s -test.v) >> cgo-testlog 2>&1 || echo \"--- $${fl}: go test misc/cgo/test (0.00s)\" >> cgo-testlog\n @NATIVE_TRUE@\tgrep '^--- ' cgo-testlog | sed -e 's/^--- \\(.*\\) ([^)]*)$$/\\1/' | sort -k 2\n \n # check-carchive-test runs `go test misc/cgo/testcarchive/carchive_test.go`\n@@ -862,11 +865,11 @@ mostlyclean-local:\n @NATIVE_TRUE@\t$(MKDIR_P) carchive-test-dir/misc/cgo\n @NATIVE_TRUE@\tcp -r $(libgomiscdir)/cgo/testcarchive carchive-test-dir/misc/cgo/\n @NATIVE_TRUE@\t@abs_libgodir=`cd $(libgodir) && $(PWD_COMMAND)`; \\\n-@NATIVE_TRUE@\techo \"cd carchive-test-dir/misc/cgo/testcarchive && $(ECHO_ENV) LIBRARY_PATH=`echo $${abs_libgodir}/.libs` $(abs_builddir)/go$(EXEEXT) test -test.v carchive_test.go\" > carchive-testlog\n+@NATIVE_TRUE@\techo \"cd carchive-test-dir/misc/cgo/testcarchive && $(ECHO_ENV) LIBRARY_PATH=`echo $${abs_libgodir}/.libs` $(abs_builddir)/go$(EXEEXT) test -test.timeout=$(GOTOOLS_TEST_TIMEOUT)s -test.v carchive_test.go\" > carchive-testlog\n @NATIVE_TRUE@\t$(CHECK_ENV) \\\n @NATIVE_TRUE@\tLIBRARY_PATH=`echo $${abs_libgodir}/.libs:$${LIBRARY_PATH} | sed 's,::*,:,g;s,^:*,,;s,:*$$,,'`; \\\n @NATIVE_TRUE@\texport LIBRARY_PATH; \\\n-@NATIVE_TRUE@\t(cd carchive-test-dir/misc/cgo/testcarchive && $(abs_builddir)/go$(EXEEXT) test -test.v carchive_test.go) >> carchive-testlog 2>&1 || echo \"--- $${fl}: go test misc/cgo/testcarchive (0.00s)\" >> carchive-testlog\n+@NATIVE_TRUE@\t(cd carchive-test-dir/misc/cgo/testcarchive && $(abs_builddir)/go$(EXEEXT) test -test.timeout=$(GOTOOLS_TEST_TIMEOUT)s -test.v carchive_test.go) >> carchive-testlog 2>&1 || echo \"--- $${fl}: go test misc/cgo/testcarchive (0.00s)\" >> carchive-testlog\n @NATIVE_TRUE@\tgrep '^--- ' carchive-testlog | sed -e 's/^--- \\(.*\\) ([^)]*)$$/\\1/' | sort -k 2\n \n # check-vet runs `go test cmd/vet` in our environment.\n@@ -876,11 +879,11 @@ mostlyclean-local:\n @NATIVE_TRUE@\tcp -r $(cmdsrcdir)/vet check-vet-dir/src/cmd/\n @NATIVE_TRUE@\t@abs_libgodir=`cd $(libgodir) && $(PWD_COMMAND)`; \\\n @NATIVE_TRUE@\tabs_checkdir=`cd check-vet-dir && $(PWD_COMMAND)`; \\\n-@NATIVE_TRUE@\techo \"cd check-vet-dir/src/cmd/vet && $(ECHO_ENV) GOPATH=$${abs_checkdir} $(abs_builddir)/go$(EXEEXT) test -test.short -test.v\" > cmd_vet-testlog\n+@NATIVE_TRUE@\techo \"cd check-vet-dir/src/cmd/vet && $(ECHO_ENV) GOPATH=$${abs_checkdir} $(abs_builddir)/go$(EXEEXT) test -test.short -test.timeout=$(GOTOOLS_TEST_TIMEOUT)s -test.v\" > cmd_vet-testlog\n @NATIVE_TRUE@\t$(CHECK_ENV) \\\n @NATIVE_TRUE@\tGOPATH=`cd check-vet-dir && $(PWD_COMMAND)`; \\\n @NATIVE_TRUE@\texport GOPATH; \\\n-@NATIVE_TRUE@\t(cd check-vet-dir/src/cmd/vet && $(abs_builddir)/go$(EXEEXT) test -test.short -test.v) >> cmd_vet-testlog 2>&1 || echo \"--- $${fl}: go test cmd/vet (0.00s)\" >> cmd_vet-testlog\n+@NATIVE_TRUE@\t(cd check-vet-dir/src/cmd/vet && $(abs_builddir)/go$(EXEEXT) test -test.short -test.timeout=$(GOTOOLS_TEST_TIMEOUT)s -test.v) >> cmd_vet-testlog 2>&1 || echo \"--- $${fl}: go test cmd/vet (0.00s)\" >> cmd_vet-testlog\n @NATIVE_TRUE@\tgrep '^--- ' cmd_vet-testlog | sed -e 's/^--- \\(.*\\) ([^)]*)$$/\\1/' | sort -k 2\n \n # The check targets runs the tests and assembles the output files."}]}