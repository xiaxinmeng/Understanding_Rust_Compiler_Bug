{"sha": "7ff0eaf6796d83e5f299c226fbc8e15faa472de1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2ZmMGVhZjY3OTZkODNlNWYyOTljMjI2ZmJjOGUxNWZhYTQ3MmRlMQ==", "commit": {"author": {"name": "Ben Elliston", "email": "bje@au.ibm.com", "date": "2006-12-22T01:05:07Z"}, "committer": {"name": "Ben Elliston", "email": "bje@gcc.gnu.org", "date": "2006-12-22T01:05:07Z"}, "message": "gcc-dg.exp (gcc-dg-prune): Return \"::unsupported::memory full\" if the linker on spu-*-* warns about...\n\n\t* lib/gcc-dg.exp (gcc-dg-prune): Return \"::unsupported::memory\n\tfull\" if the linker on spu-*-* warns about exceeding local store.\n\n\tAnd revert this patch:\n\t* lib/gcc-defs.exp (${tool}_check_compile): xfail test cases that\n\tfail to link due to relocation overflows on spu-*-*.\n\nFrom-SVN: r120134", "tree": {"sha": "65d06849886a910f91900aba6c621dd400308b85", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/65d06849886a910f91900aba6c621dd400308b85"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7ff0eaf6796d83e5f299c226fbc8e15faa472de1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ff0eaf6796d83e5f299c226fbc8e15faa472de1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ff0eaf6796d83e5f299c226fbc8e15faa472de1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ff0eaf6796d83e5f299c226fbc8e15faa472de1/comments", "author": null, "committer": null, "parents": [{"sha": "222c2317e7da443f3b285020d4787c1d569c8be1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/222c2317e7da443f3b285020d4787c1d569c8be1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/222c2317e7da443f3b285020d4787c1d569c8be1"}], "stats": {"total": 23, "additions": 17, "deletions": 6}, "files": [{"sha": "206b391c624003a21e5ff45bd62c7017e062fd84", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ff0eaf6796d83e5f299c226fbc8e15faa472de1/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ff0eaf6796d83e5f299c226fbc8e15faa472de1/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7ff0eaf6796d83e5f299c226fbc8e15faa472de1", "patch": "@@ -1,3 +1,12 @@\n+2006-12-22  Ben Elliston  <bje@au.ibm.com>\n+\n+\t* lib/gcc-dg.exp (gcc-dg-prune): Return \"::unsupported::memory\n+\tfull\" if the linker on spu-*-* warns about exceeding local store.\n+\n+\tAnd revert this patch:\n+\t* lib/gcc-defs.exp (${tool}_check_compile): xfail test cases that\n+\tfail to link due to relocation overflows on spu-*-*.\n+\n 2006-12-21  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/30273"}, {"sha": "e1e3b93be76f9e32cc75b72dd52866437b414bf8", "filename": "gcc/testsuite/lib/gcc-defs.exp", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ff0eaf6796d83e5f299c226fbc8e15faa472de1/gcc%2Ftestsuite%2Flib%2Fgcc-defs.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ff0eaf6796d83e5f299c226fbc8e15faa472de1/gcc%2Ftestsuite%2Flib%2Fgcc-defs.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fgcc-defs.exp?ref=7ff0eaf6796d83e5f299c226fbc8e15faa472de1", "patch": "@@ -24,12 +24,6 @@ proc ${tool}_check_compile {testcase option objname gcc_output} {\n     global tool\n     set fatal_signal \"*cc: Internal compiler error: program*got fatal signal\"\n  \n-    if {[istarget spu-*-*] && [string match \"*exceeds local store range*\" $gcc_output]} {\n-\tsetup_xfail [istarget]\n-\t${tool}_fail $testcase $option\n-\treturn 0\n-    }\n-\n     if [string match \"$fatal_signal 6\" $gcc_output] then {\n \t${tool}_fail $testcase \"Got Signal 6, $option\"\n \treturn 0"}, {"sha": "690e3bf1cb083944813c9603f6f7690345032da8", "filename": "gcc/testsuite/lib/gcc-dg.exp", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ff0eaf6796d83e5f299c226fbc8e15faa472de1/gcc%2Ftestsuite%2Flib%2Fgcc-dg.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ff0eaf6796d83e5f299c226fbc8e15faa472de1/gcc%2Ftestsuite%2Flib%2Fgcc-dg.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fgcc-dg.exp?ref=7ff0eaf6796d83e5f299c226fbc8e15faa472de1", "patch": "@@ -183,6 +183,14 @@ proc gcc-dg-prune { system text } {\n \treturn \"::unsupported::memory full\"\n     }\n \n+    # Likewise, if we see \".text exceeds local store range\" or\n+    # similar.\n+    if {[string match \"spu-*\" $system] && \\\n+\t    [string match \"*exceeds local store range*\" $text]} {\n+\t# The format here is important.  See dg.exp.\n+\treturn \"::unsupported::memory full\"\n+    }\n+\n     return $text\n }\n "}]}