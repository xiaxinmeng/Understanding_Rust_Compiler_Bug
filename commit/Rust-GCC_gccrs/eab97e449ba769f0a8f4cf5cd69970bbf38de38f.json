{"sha": "eab97e449ba769f0a8f4cf5cd69970bbf38de38f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWFiOTdlNDQ5YmE3NjlmMGE4ZjRjZjVjZDY5OTcwYmJmMzhkZTM4Zg==", "commit": {"author": {"name": "Alan Modra", "email": "amodra@bigpond.net.au", "date": "2004-12-01T05:47:51Z"}, "committer": {"name": "Alan Modra", "email": "amodra@gcc.gnu.org", "date": "2004-12-01T05:47:51Z"}, "message": "re PR target/12817 ([SYSV] Altivec code generation error with many registers used)\n\n\tPR target/12817\n\t* config/rs6000/rs6000.c (rs6000_emit_prologue): Use r0 for vrsave.\n\nFrom-SVN: r91553", "tree": {"sha": "cdfc477d8ebb1587643e2f19f4bfc6ffb3ddc44b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cdfc477d8ebb1587643e2f19f4bfc6ffb3ddc44b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/eab97e449ba769f0a8f4cf5cd69970bbf38de38f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eab97e449ba769f0a8f4cf5cd69970bbf38de38f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eab97e449ba769f0a8f4cf5cd69970bbf38de38f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eab97e449ba769f0a8f4cf5cd69970bbf38de38f/comments", "author": null, "committer": null, "parents": [{"sha": "683e261713dde5b47a89e2b5f1938807a83a53cd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/683e261713dde5b47a89e2b5f1938807a83a53cd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/683e261713dde5b47a89e2b5f1938807a83a53cd"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "a703ac98edfa5561ae1f71a2dab778d4dbfbabb8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eab97e449ba769f0a8f4cf5cd69970bbf38de38f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eab97e449ba769f0a8f4cf5cd69970bbf38de38f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=eab97e449ba769f0a8f4cf5cd69970bbf38de38f", "patch": "@@ -1,3 +1,8 @@\n+2004-12-01  Alan Modra  <amodra@bigpond.net.au>\n+\n+\tPR target/12817\n+\t* config/rs6000/rs6000.c (rs6000_emit_prologue): Use r0 for vrsave.\n+\n 2004-12-01  Joseph S. Myers  <joseph@codesourcery.com>\n \n \t* doc/standards.texi: Update for C99 TC2."}, {"sha": "d9b363a864b150efdaaf924a51eaaeb11343c4d9", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eab97e449ba769f0a8f4cf5cd69970bbf38de38f/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eab97e449ba769f0a8f4cf5cd69970bbf38de38f/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=eab97e449ba769f0a8f4cf5cd69970bbf38de38f", "patch": "@@ -14030,8 +14030,10 @@ rs6000_emit_prologue (void)\n       rtx reg, mem, vrsave;\n       int offset;\n \n-      /* Get VRSAVE onto a GPR.  */\n-      reg = gen_rtx_REG (SImode, 12);\n+      /* Get VRSAVE onto a GPR.  Note that ABI_V4 might be using r12\n+\t as frame_reg_rtx and r11 as the static chain pointer for\n+\t nested functions.  */\n+      reg = gen_rtx_REG (SImode, 0);\n       vrsave = gen_rtx_REG (SImode, VRSAVE_REGNO);\n       if (TARGET_MACHO)\n \temit_insn (gen_get_vrsave_internal (reg));"}]}