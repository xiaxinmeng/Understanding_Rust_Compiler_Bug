{"sha": "96c053335c7329ecd6c37f395b479994bc187d3a", "node_id": "C_kwDOANBUbNoAKDk2YzA1MzMzNWM3MzI5ZWNkNmMzN2YzOTViNDc5OTk0YmMxODdkM2E", "commit": {"author": {"name": "Cedric Landet", "email": "landet@adacore.com", "date": "2022-10-18T07:58:46Z"}, "committer": {"name": "Marc Poulhi\u00e8s", "email": "poulhies@adacore.com", "date": "2022-11-07T08:36:36Z"}, "message": "ada: Document that gprof won't work on windows with PIE.\n\nDocument that gprof won't work on windows with PIE and -no-pie must be\nused.\n\ngcc/ada/\n\n\t* doc/gnat_ugn/gnat_and_program_execution.rst: Mention the needed\n\t-no-pie for windows to use gprof.\n\t* gnat_ugn.texi: Regenerate.", "tree": {"sha": "780e12b4df19d7b1bb60ef44d9a8c43dac508a1d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/780e12b4df19d7b1bb60ef44d9a8c43dac508a1d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/96c053335c7329ecd6c37f395b479994bc187d3a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96c053335c7329ecd6c37f395b479994bc187d3a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/96c053335c7329ecd6c37f395b479994bc187d3a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96c053335c7329ecd6c37f395b479994bc187d3a/comments", "author": {"login": "cedriclandet", "id": 81172744, "node_id": "MDQ6VXNlcjgxMTcyNzQ0", "avatar_url": "https://avatars.githubusercontent.com/u/81172744?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cedriclandet", "html_url": "https://github.com/cedriclandet", "followers_url": "https://api.github.com/users/cedriclandet/followers", "following_url": "https://api.github.com/users/cedriclandet/following{/other_user}", "gists_url": "https://api.github.com/users/cedriclandet/gists{/gist_id}", "starred_url": "https://api.github.com/users/cedriclandet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cedriclandet/subscriptions", "organizations_url": "https://api.github.com/users/cedriclandet/orgs", "repos_url": "https://api.github.com/users/cedriclandet/repos", "events_url": "https://api.github.com/users/cedriclandet/events{/privacy}", "received_events_url": "https://api.github.com/users/cedriclandet/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dkm", "id": 87603, "node_id": "MDQ6VXNlcjg3NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/87603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dkm", "html_url": "https://github.com/dkm", "followers_url": "https://api.github.com/users/dkm/followers", "following_url": "https://api.github.com/users/dkm/following{/other_user}", "gists_url": "https://api.github.com/users/dkm/gists{/gist_id}", "starred_url": "https://api.github.com/users/dkm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dkm/subscriptions", "organizations_url": "https://api.github.com/users/dkm/orgs", "repos_url": "https://api.github.com/users/dkm/repos", "events_url": "https://api.github.com/users/dkm/events{/privacy}", "received_events_url": "https://api.github.com/users/dkm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bcb3f09ec6cb9b2c6e58243d05b5a0fc33e909f1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bcb3f09ec6cb9b2c6e58243d05b5a0fc33e909f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bcb3f09ec6cb9b2c6e58243d05b5a0fc33e909f1"}], "stats": {"total": 15, "additions": 11, "deletions": 4}, "files": [{"sha": "c239c363eae0b8da67f04528a4e5f8b7b81ebf65", "filename": "gcc/ada/doc/gnat_ugn/gnat_and_program_execution.rst", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96c053335c7329ecd6c37f395b479994bc187d3a/gcc%2Fada%2Fdoc%2Fgnat_ugn%2Fgnat_and_program_execution.rst", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96c053335c7329ecd6c37f395b479994bc187d3a/gcc%2Fada%2Fdoc%2Fgnat_ugn%2Fgnat_and_program_execution.rst", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdoc%2Fgnat_ugn%2Fgnat_and_program_execution.rst?ref=96c053335c7329ecd6c37f395b479994bc187d3a", "patch": "@@ -1252,8 +1252,8 @@ most often, and are therefore the most time-consuming.\n better handle Ada programs and multitasking.\n It is currently supported on the following platforms\n \n-* linux x86/x86_64\n-* windows x86\n+* Linux x86/x86_64\n+* Windows x86/x86_64 (without PIE support)\n \n In order to profile a program using ``gprof``, several steps are needed:\n \n@@ -1291,6 +1291,10 @@ Note that only the objects that were compiled with the ``-pg`` switch will\n be profiled; if you need to profile your whole project, use the ``-f``\n gnatmake switch to force full recompilation.\n \n+Note that on Windows, gprof does not support PIE. The ``-no-pie`` switch\n+should be added to the linker flags to disable this feature.\n+\n+\n .. _Program_execution:\n \n "}, {"sha": "385f1d3deb57e63d4d0057d85dc422181f848f06", "filename": "gcc/ada/gnat_ugn.texi", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96c053335c7329ecd6c37f395b479994bc187d3a/gcc%2Fada%2Fgnat_ugn.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96c053335c7329ecd6c37f395b479994bc187d3a/gcc%2Fada%2Fgnat_ugn.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_ugn.texi?ref=96c053335c7329ecd6c37f395b479994bc187d3a", "patch": "@@ -19552,10 +19552,10 @@ It is currently supported on the following platforms\n @itemize *\n \n @item \n-linux x86/x86_64\n+Linux x86/x86_64\n \n @item \n-windows x86\n+Windows x86/x86_64 (without PIE support)\n @end itemize\n \n In order to profile a program using @code{gprof}, several steps are needed:\n@@ -19614,6 +19614,9 @@ Note that only the objects that were compiled with the @code{-pg} switch will\n be profiled; if you need to profile your whole project, use the @code{-f}\n gnatmake switch to force full recompilation.\n \n+Note that on Windows, gprof does not support PIE. The @code{-no-pie} switch\n+should be added to the linker flags to disable this feature.\n+\n @node Program execution,Running gprof,Compilation for profiling,Profiling an Ada Program with gprof\n @anchor{gnat_ugn/gnat_and_program_execution id23}@anchor{175}@anchor{gnat_ugn/gnat_and_program_execution program-execution}@anchor{176}\n @subsubsection Program execution"}]}