{"sha": "c3e203cf80e81a73402d0ae6ba9b3961394c0434", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzNlMjAzY2Y4MGU4MWE3MzQwMmQwYWU2YmE5YjM5NjEzOTRjMDQzNA==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2008-01-09T15:46:49Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2008-01-09T15:46:49Z"}, "message": "re PR tree-optimization/30132 (ICE in find_lattice_value, at tree-complex.c:133)\n\n2008-01-09  Richard Guenther  <rguenther@suse.de>\n\tAndrew Pinski  <andrew_pinski@playstation.sony.com>\n\n        PR middle-end/30132\n\t* gimplify.c (gimplify_cond_expr): Do not create an addressable\n\ttemporary if an rvalue is ok or an lvalue is not required.\n\n\t* gcc.c-torture/compile/pr30132.c: New testcase.\n\nCo-Authored-By: Andrew Pinski <andrew_pinski@playstation.sony.com>\n\nFrom-SVN: r131430", "tree": {"sha": "87b56af963095d9e1a946e5466753f49b22bb989", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/87b56af963095d9e1a946e5466753f49b22bb989"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c3e203cf80e81a73402d0ae6ba9b3961394c0434", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c3e203cf80e81a73402d0ae6ba9b3961394c0434", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c3e203cf80e81a73402d0ae6ba9b3961394c0434", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c3e203cf80e81a73402d0ae6ba9b3961394c0434/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "def49dd7ca01bdeea7cf61c90da4206609e65ce5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/def49dd7ca01bdeea7cf61c90da4206609e65ce5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/def49dd7ca01bdeea7cf61c90da4206609e65ce5"}], "stats": {"total": 24, "additions": 23, "deletions": 1}, "files": [{"sha": "bfdeb6571c0c2f7a2406a10622fbc8e86d81f5a1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3e203cf80e81a73402d0ae6ba9b3961394c0434/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3e203cf80e81a73402d0ae6ba9b3961394c0434/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c3e203cf80e81a73402d0ae6ba9b3961394c0434", "patch": "@@ -1,3 +1,10 @@\n+2008-01-09  Richard Guenther  <rguenther@suse.de>\n+\tAndrew Pinski  <andrew_pinski@playstation.sony.com>\n+\n+\tPR middle-end/30132\n+\t* gimplify.c (gimplify_cond_expr): Do not create an addressable\n+\ttemporary if an rvalue is ok or an lvalue is not required.\n+\n 2008-01-09  Richard Guenther  <rguenther@suse.de>\n \n \tPR middle-end/34458"}, {"sha": "52547415c0ac4bcb8ae19724d70d35ec8b8b2bba", "filename": "gcc/gimplify.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3e203cf80e81a73402d0ae6ba9b3961394c0434/gcc%2Fgimplify.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3e203cf80e81a73402d0ae6ba9b3961394c0434/gcc%2Fgimplify.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimplify.c?ref=c3e203cf80e81a73402d0ae6ba9b3961394c0434", "patch": "@@ -2633,7 +2633,11 @@ gimplify_cond_expr (tree *expr_p, tree *pre_p, fallback_t fallback)\n     {\n       tree result;\n \n-      if ((fallback & fb_lvalue) == 0)\n+      /* If an rvalue is ok or we do not require an lvalue, avoid creating\n+\t an addressable temporary.  */\n+      if (((fallback & fb_rvalue)\n+\t   || !(fallback & fb_lvalue))\n+\t  && !TREE_ADDRESSABLE (type))\n \t{\n \t  if (gimplify_ctxp->allow_rhs_cond_expr\n \t      /* If either branch has side effects or could trap, it can't be"}, {"sha": "3201f9e505132ce31e9c01cc12399db08de4e7dc", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3e203cf80e81a73402d0ae6ba9b3961394c0434/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3e203cf80e81a73402d0ae6ba9b3961394c0434/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c3e203cf80e81a73402d0ae6ba9b3961394c0434", "patch": "@@ -1,3 +1,9 @@\n+2008-01-09  Richard Guenther  <rguenther@suse.de>\n+\tAndrew Pinski  <andrew_pinski@playstation.sony.com>\n+\n+\tPR middle-end/30132\n+\t* gcc.c-torture/compile/pr30132.c: New testcase.\n+\n 2008-01-09  Richard Guenther  <rguenther@suse.de>\n \n \tPR middle-end/34458"}, {"sha": "adffae7729cbe418d03dd55f560cda3cbf2ae8c9", "filename": "gcc/testsuite/gcc.c-torture/compile/pr30132.c", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3e203cf80e81a73402d0ae6ba9b3961394c0434/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr30132.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3e203cf80e81a73402d0ae6ba9b3961394c0434/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr30132.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr30132.c?ref=c3e203cf80e81a73402d0ae6ba9b3961394c0434", "patch": "@@ -0,0 +1,5 @@\n+double testit(double _Complex* t)\n+{\n+  return *t==0.0?0.0:-*t;\n+}\n+"}]}