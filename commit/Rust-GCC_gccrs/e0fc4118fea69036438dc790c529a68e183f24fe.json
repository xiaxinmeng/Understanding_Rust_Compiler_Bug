{"sha": "e0fc4118fea69036438dc790c529a68e183f24fe", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTBmYzQxMThmZWE2OTAzNjQzOGRjNzkwYzUyOWE2OGUxODNmMjRmZQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "2000-04-06T00:43:27Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2000-04-06T00:43:27Z"}, "message": "re GNATS gcj/164 (compiler permits \"volatile final\" variables)\n\n\t* parse.h (THIS_MODIFIER_ONLY): Changed meaning of `v' parameter.\n\t* parse.y (check_modifiers_consistency): Check for final/volatile\n\tclash.  Fixes PR gcj/164.\n\nFrom-SVN: r32955", "tree": {"sha": "1e8724cd9b278c8353f39e72d4fb6ad66b16565c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1e8724cd9b278c8353f39e72d4fb6ad66b16565c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e0fc4118fea69036438dc790c529a68e183f24fe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0fc4118fea69036438dc790c529a68e183f24fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e0fc4118fea69036438dc790c529a68e183f24fe", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0fc4118fea69036438dc790c529a68e183f24fe/comments", "author": null, "committer": null, "parents": [{"sha": "24969f074e21f4aecec90c16348537b3b4a5f5a1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24969f074e21f4aecec90c16348537b3b4a5f5a1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/24969f074e21f4aecec90c16348537b3b4a5f5a1"}], "stats": {"total": 54, "additions": 41, "deletions": 13}, "files": [{"sha": "f16dd5db7e713782e31d70ae825d91a2a22f06b9", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0fc4118fea69036438dc790c529a68e183f24fe/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0fc4118fea69036438dc790c529a68e183f24fe/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=e0fc4118fea69036438dc790c529a68e183f24fe", "patch": "@@ -1,3 +1,9 @@\n+2000-04-05  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* parse.h (THIS_MODIFIER_ONLY): Changed meaning of `v' parameter.\n+\t* parse.y (check_modifiers_consistency): Check for final/volatile\n+\tclash.  Fixes PR gcj/164.\n+\n 2000-04-05  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n \n \t* class.c: (java_hash_hash_tree_node): Renamed from `decl_hash',"}, {"sha": "e15e571820423f673c18c8164032822d825ae93d", "filename": "gcc/java/parse.c", "status": "modified", "additions": 20, "deletions": 8, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0fc4118fea69036438dc790c529a68e183f24fe/gcc%2Fjava%2Fparse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0fc4118fea69036438dc790c529a68e183f24fe/gcc%2Fjava%2Fparse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.c?ref=e0fc4118fea69036438dc790c529a68e183f24fe", "patch": "@@ -2387,7 +2387,7 @@ static const short yycheck[] = {     3,\n #define YYPURE 1\n \n /* -*-C-*-  Note some compilers choke on comments on `#line' lines.  */\n-#line 3 \"/home/apbianco/install/intel-java-alpha/install-x86//share/bison.simple\"\n+#line 3 \"/usr/share/misc/bison.simple\"\n \n /* Skeleton output parser for bison,\n    Copyright (C) 1984, 1989, 1990 Free Software Foundation, Inc.\n@@ -2404,7 +2404,7 @@ static const short yycheck[] = {     3,\n \n    You should have received a copy of the GNU General Public License\n    along with this program; if not, write to the Free Software\n-   Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.  */\n+   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */\n \n /* As a special exception, when this file is copied by Bison into a\n    Bison output file, you may use that output file without restriction.\n@@ -2538,8 +2538,10 @@ int yydebug;\t\t\t/*  nonzero means print parse trace\t*/\n \n /* Prevent warning if -Wstrict-prototypes.  */\n #ifdef __GNUC__\n+#ifndef YYPARSE_PARAM\n int yyparse (void);\n #endif\n+#endif\n \f\n #if __GNUC__ > 1\t\t/* GNU C and GNU C++ define this.  */\n #define __yy_memcpy(TO,FROM,COUNT)\t__builtin_memcpy(TO,FROM,COUNT)\n@@ -2580,7 +2582,7 @@ __yy_memcpy (char *to, char *from, int count)\n #endif\n #endif\n \f\n-#line 196 \"/home/apbianco/install/intel-java-alpha/install-x86//share/bison.simple\"\n+#line 196 \"/usr/share/misc/bison.simple\"\n \n /* The user can define YYPARSE_PARAM as the name of an argument to be passed\n    into yyparse.  The argument should have type void *.\n@@ -4976,7 +4978,7 @@ case 503:\n     break;}\n }\n    /* the action file gets copied in in place of this dollarsign */\n-#line 498 \"/home/apbianco/install/intel-java-alpha/install-x86//share/bison.simple\"\n+#line 498 \"/usr/share/misc/bison.simple\"\n \f\n   yyvsp -= yylen;\n   yyssp -= yylen;\n@@ -7200,12 +7202,22 @@ check_modifiers_consistency (flags)\n   int acc_count = 0;\n   tree cl = NULL_TREE;\n \n-  THIS_MODIFIER_ONLY (flags, ACC_PUBLIC, 0, acc_count, cl);\n-  THIS_MODIFIER_ONLY (flags, ACC_PRIVATE, 1, acc_count, cl);\n-  THIS_MODIFIER_ONLY (flags, ACC_PROTECTED, 2, acc_count, cl);\n+  THIS_MODIFIER_ONLY (flags, ACC_PUBLIC, PUBLIC_TK, acc_count, cl);\n+  THIS_MODIFIER_ONLY (flags, ACC_PRIVATE, PRIVATE_TK, acc_count, cl);\n+  THIS_MODIFIER_ONLY (flags, ACC_PROTECTED, PROTECTED_TK, acc_count, cl);\n   if (acc_count > 1)\n     parse_error_context\n-      (cl, \"Inconsistent member declaration. At most one of `public', `private', or `protected' may be specified\");\n+      (cl, \"Inconsistent member declaration.  At most one of `public', `private', or `protected' may be specified\");\n+\n+  acc_count = 0;\n+  cl = NULL_TREE;\n+  THIS_MODIFIER_ONLY (flags, ACC_FINAL, FINAL_TK - PUBLIC_TK,\n+\t\t      acc_count, cl);\n+  THIS_MODIFIER_ONLY (flags, ACC_VOLATILE, VOLATILE_TK - PUBLIC_TK,\n+\t\t      acc_count, cl);\n+  if (acc_count > 1)\n+    parse_error_context (cl,\n+\t\t\t \"Inconsistent member declaration.  At most one of `final' or `volatile' may be specified\");\n }\n \n /* Check the methode header METH for abstract specifics features */"}, {"sha": "b19edbe43b1575bbabcc980a9d44b14058d555db", "filename": "gcc/java/parse.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0fc4118fea69036438dc790c529a68e183f24fe/gcc%2Fjava%2Fparse.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0fc4118fea69036438dc790c529a68e183f24fe/gcc%2Fjava%2Fparse.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.h?ref=e0fc4118fea69036438dc790c529a68e183f24fe", "patch": "@@ -89,7 +89,7 @@ extern tree stabilize_reference PARAMS ((tree));\n #define THIS_MODIFIER_ONLY(f, m, v, count, l)\t\t\t\t\\\n   if ((f) & (m))\t\t\t\t\t\t\t\\\n     {\t\t\t\t\t\t\t\t\t\\\n-      tree node = ctxp->modifier_ctx [v];\t\t\t\t\\\n+      tree node = MODIFIER_WFL (v);\t\t\t\t\t\\\n       if ((l)\t\t\t\t\t\t\t\t\\\n \t  && ((EXPR_WFL_COLNO (node) > EXPR_WFL_COLNO (l))\t\t\\\n \t      || (EXPR_WFL_LINENO (node) > EXPR_WFL_LINENO (l))))\t\\"}, {"sha": "cac9a3a9121e2e1d80fda8afd62d7cfb01c0892e", "filename": "gcc/java/parse.y", "status": "modified", "additions": 14, "deletions": 4, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0fc4118fea69036438dc790c529a68e183f24fe/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0fc4118fea69036438dc790c529a68e183f24fe/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=e0fc4118fea69036438dc790c529a68e183f24fe", "patch": "@@ -4570,12 +4570,22 @@ check_modifiers_consistency (flags)\n   int acc_count = 0;\n   tree cl = NULL_TREE;\n \n-  THIS_MODIFIER_ONLY (flags, ACC_PUBLIC, 0, acc_count, cl);\n-  THIS_MODIFIER_ONLY (flags, ACC_PRIVATE, 1, acc_count, cl);\n-  THIS_MODIFIER_ONLY (flags, ACC_PROTECTED, 2, acc_count, cl);\n+  THIS_MODIFIER_ONLY (flags, ACC_PUBLIC, PUBLIC_TK, acc_count, cl);\n+  THIS_MODIFIER_ONLY (flags, ACC_PRIVATE, PRIVATE_TK, acc_count, cl);\n+  THIS_MODIFIER_ONLY (flags, ACC_PROTECTED, PROTECTED_TK, acc_count, cl);\n   if (acc_count > 1)\n     parse_error_context\n-      (cl, \"Inconsistent member declaration. At most one of `public', `private', or `protected' may be specified\");\n+      (cl, \"Inconsistent member declaration.  At most one of `public', `private', or `protected' may be specified\");\n+\n+  acc_count = 0;\n+  cl = NULL_TREE;\n+  THIS_MODIFIER_ONLY (flags, ACC_FINAL, FINAL_TK - PUBLIC_TK,\n+\t\t      acc_count, cl);\n+  THIS_MODIFIER_ONLY (flags, ACC_VOLATILE, VOLATILE_TK - PUBLIC_TK,\n+\t\t      acc_count, cl);\n+  if (acc_count > 1)\n+    parse_error_context (cl,\n+\t\t\t \"Inconsistent member declaration.  At most one of `final' or `volatile' may be specified\");\n }\n \n /* Check the methode header METH for abstract specifics features */"}]}