{"sha": "9dcee88de866978161c324d206778237d82ec77f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWRjZWU4OGRlODY2OTc4MTYxYzMyNGQyMDY3NzgyMzdkODJlYzc3Zg==", "commit": {"author": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2010-10-02T08:00:50Z"}, "committer": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2010-10-02T08:00:50Z"}, "message": "re PR fortran/42831 (Unnecessary array temporary produced)\n\n2010-10-02  Thomas Koenig  <tkoenig@gcc.gnu.org>\n\n\tPR fortran/42831\n\t* gfortran.dg/dependency_37.f90:  New test.\n\nFrom-SVN: r164900", "tree": {"sha": "7446dd8f26a57e4487cb98e2de4ff969cdcdbfa6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7446dd8f26a57e4487cb98e2de4ff969cdcdbfa6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9dcee88de866978161c324d206778237d82ec77f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9dcee88de866978161c324d206778237d82ec77f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9dcee88de866978161c324d206778237d82ec77f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9dcee88de866978161c324d206778237d82ec77f/comments", "author": null, "committer": null, "parents": [{"sha": "f2494e77ee1c3a16477fea808bfed68f2d2275d8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2494e77ee1c3a16477fea808bfed68f2d2275d8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f2494e77ee1c3a16477fea808bfed68f2d2275d8"}], "stats": {"total": 54, "additions": 54, "deletions": 0}, "files": [{"sha": "4d947dafc11d991340065d213c57f8b5c9f41ee3", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9dcee88de866978161c324d206778237d82ec77f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9dcee88de866978161c324d206778237d82ec77f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=9dcee88de866978161c324d206778237d82ec77f", "patch": "@@ -1,3 +1,8 @@\n+2010-10-02  Thomas Koenig  <tkoenig@gcc.gnu.org>\n+\n+\tPR fortran/42831\n+\t* gfortran.dg/dependency_37.f90:  New test.\n+\n 2010-10-01  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* gcc.target/i386/shift_mask.c: New test."}, {"sha": "73721c92f530c445d769909e403cda99f82bf2a2", "filename": "gcc/testsuite/gfortran.dg/dependency_37.f90", "status": "added", "additions": 49, "deletions": 0, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9dcee88de866978161c324d206778237d82ec77f/gcc%2Ftestsuite%2Fgfortran.dg%2Fdependency_37.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9dcee88de866978161c324d206778237d82ec77f/gcc%2Ftestsuite%2Fgfortran.dg%2Fdependency_37.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fdependency_37.f90?ref=9dcee88de866978161c324d206778237d82ec77f", "patch": "@@ -0,0 +1,49 @@\n+! { dg-do compile }\n+! { dg-options \"-Warray-temporaries\" }\n+! PR 48231 - this used to create an unnecessary temporary.\n+module UnitValue_Module\n+  type :: UnitValue\n+    real          :: Value = 1.0\n+  end type\n+\n+  interface operator(*)\n+    module procedure ProductReal_LV\n+  end interface operator(*)\n+\n+  interface assignment(=)\n+    module procedure Assign_LV_Real\n+  end interface assignment(=)\n+contains\n+\n+  elemental function ProductReal_LV(Multiplier, Multiplicand) result(P_R_LV)\n+    real, intent(in)            :: Multiplier\n+    type(UnitValue), intent(in) :: Multiplicand\n+    type(UnitValue)             :: P_R_LV\n+    P_R_LV%Value = Multiplier * Multiplicand%Value\n+  end function ProductReal_LV\n+\n+  elemental subroutine Assign_LV_Real(LeftHandSide, RightHandSide)\n+    real, intent(inout)         :: LeftHandSide\n+    type(UnitValue), intent(in) :: RightHandSide\n+    LeftHandSide = RightHandSide%Value\n+  end subroutine Assign_LV_Real\n+end module UnitValue_Module\n+\n+program TestProgram\n+  use UnitValue_Module\n+\n+  type :: TableForm\n+    real, dimension(:,:), allocatable :: RealData\n+  end type TableForm\n+\n+  REAL :: CENTIMETER\n+  type(TableForm), pointer :: Table\n+\n+  allocate(Table)\n+  allocate(Table%RealData(10,5))\n+\n+  CENTIMETER = 42\n+  Table%RealData = 1\n+  Table%RealData(:,1) = Table%RealData(:,1) * CENTIMETER\n+end program TestProgram\n+! { dg-final { cleanup-modules \"UnitValue_Module\" } }"}]}