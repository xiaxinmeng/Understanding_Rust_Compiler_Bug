{"sha": "aaa2ac931e8979147eeac7fd29d548bcb1ddef99", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWFhMmFjOTMxZTg5NzkxNDdlZWFjN2ZkMjlkNTQ4YmNiMWRkZWY5OQ==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2011-02-02T05:44:38Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2011-02-02T05:44:38Z"}, "message": "re PR debug/47106 (-fcompare-debug failure (length) with  -fpartial-inlining -flto -fconserve-stack)\n\nPR debug/47106\nPR debug/47402\n* tree-inline.c (declare_return_variable): Add result decl to\nlocal decls only once.\n* gimple-low.c (record_vars_into): Mark newly-created variables\nas referenced.\n\nFrom-SVN: r169514", "tree": {"sha": "2249a079ddd3d9c2bf0321b4a86aa087da1d7a9d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2249a079ddd3d9c2bf0321b4a86aa087da1d7a9d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aaa2ac931e8979147eeac7fd29d548bcb1ddef99", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aaa2ac931e8979147eeac7fd29d548bcb1ddef99", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aaa2ac931e8979147eeac7fd29d548bcb1ddef99", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aaa2ac931e8979147eeac7fd29d548bcb1ddef99/comments", "author": null, "committer": null, "parents": [{"sha": "a59d15cf9f9a6daa75072e8f5b0ab93d279274b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a59d15cf9f9a6daa75072e8f5b0ab93d279274b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a59d15cf9f9a6daa75072e8f5b0ab93d279274b3"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "7eea885e355b458013b07aa746fa3d2596108fea", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aaa2ac931e8979147eeac7fd29d548bcb1ddef99/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aaa2ac931e8979147eeac7fd29d548bcb1ddef99/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=aaa2ac931e8979147eeac7fd29d548bcb1ddef99", "patch": "@@ -1,3 +1,12 @@\n+2011-02-02  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\tPR debug/47106\n+\tPR debug/47402\n+\t* tree-inline.c (declare_return_variable): Add result decl to\n+\tlocal decls only once.\n+\t* gimple-low.c (record_vars_into): Mark newly-created variables\n+\tas referenced.\n+\n 2011-02-02  Alexandre Oliva  <aoliva@redhat.com>\n \n \tPR debug/47498"}, {"sha": "4e49241429060395d52756eb771f36a989170264", "filename": "gcc/gimple-low.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aaa2ac931e8979147eeac7fd29d548bcb1ddef99/gcc%2Fgimple-low.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aaa2ac931e8979147eeac7fd29d548bcb1ddef99/gcc%2Fgimple-low.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-low.c?ref=aaa2ac931e8979147eeac7fd29d548bcb1ddef99", "patch": "@@ -907,6 +907,8 @@ record_vars_into (tree vars, tree fn)\n \n       /* Record the variable.  */\n       add_local_decl (cfun, var);\n+      if (gimple_referenced_vars (cfun))\n+\tadd_referenced_var (var);\n     }\n \n   if (fn != current_function_decl)"}, {"sha": "0a10df70422f9536a69c00ee3201cc0b0be25036", "filename": "gcc/tree-inline.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aaa2ac931e8979147eeac7fd29d548bcb1ddef99/gcc%2Ftree-inline.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aaa2ac931e8979147eeac7fd29d548bcb1ddef99/gcc%2Ftree-inline.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-inline.c?ref=aaa2ac931e8979147eeac7fd29d548bcb1ddef99", "patch": "@@ -2864,7 +2864,6 @@ declare_return_variable (copy_body_data *id, tree return_slot, tree modify_dest,\n     }\n \n   DECL_SEEN_IN_BIND_EXPR_P (var) = 1;\n-  add_local_decl (DECL_STRUCT_FUNCTION (caller), var);\n \n   /* Do not have the rest of GCC warn about this variable as it should\n      not be visible to the user.  */"}]}