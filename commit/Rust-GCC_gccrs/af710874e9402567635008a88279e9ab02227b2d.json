{"sha": "af710874e9402567635008a88279e9ab02227b2d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWY3MTA4NzRlOTQwMjU2NzYzNTAwOGE4ODI3OWU5YWIwMjIyN2IyZA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@google.com", "date": "2012-09-28T06:13:00Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-09-28T06:13:00Z"}, "message": "re PR bootstrap/54732 (Installation failure: libbacktrace rebuilds upon install when built with \"make bootstrap-lean\")\n\n\tPR bootstrap/54732\n\t* configure.ac: Add no-dependencies to AM_INIT_AUTOMAKE.\n\t* Makefile.am: Add dependencies for all objects.\n\t* configure, aclocal.m4, Makefile.in: Rebuild.\n\nFrom-SVN: r191819", "tree": {"sha": "83aba764ec767c4fa2a2c750a8ffcbd1fdce7c0d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/83aba764ec767c4fa2a2c750a8ffcbd1fdce7c0d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/af710874e9402567635008a88279e9ab02227b2d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/af710874e9402567635008a88279e9ab02227b2d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/af710874e9402567635008a88279e9ab02227b2d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/af710874e9402567635008a88279e9ab02227b2d/comments", "author": null, "committer": null, "parents": [{"sha": "694f741409d49836476e60b9e6990c2f152498eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/694f741409d49836476e60b9e6990c2f152498eb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/694f741409d49836476e60b9e6990c2f152498eb"}], "stats": {"total": 782, "additions": 100, "deletions": 682}, "files": [{"sha": "c7702baf3bd01558350b1537144e4aafa1f945b8", "filename": "libbacktrace/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af710874e9402567635008a88279e9ab02227b2d/libbacktrace%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af710874e9402567635008a88279e9ab02227b2d/libbacktrace%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2FChangeLog?ref=af710874e9402567635008a88279e9ab02227b2d", "patch": "@@ -1,3 +1,10 @@\n+2012-09-27  Ian Lance Taylor  <iant@google.com>\n+\n+\tPR bootstrap/54732\n+\t* configure.ac: Add no-dependencies to AM_INIT_AUTOMAKE.\n+\t* Makefile.am: Add dependencies for all objects.\n+\t* configure, aclocal.m4, Makefile.in: Rebuild.\n+\n 2012-09-27  Ian Lance Taylor  <iant@google.com>\n \n \tPR other/54726"}, {"sha": "a90a602d49d147ce5b8af9343bac20b54092b1f6", "filename": "libbacktrace/Makefile.am", "status": "modified", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af710874e9402567635008a88279e9ab02227b2d/libbacktrace%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af710874e9402567635008a88279e9ab02227b2d/libbacktrace%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2FMakefile.am?ref=af710874e9402567635008a88279e9ab02227b2d", "patch": "@@ -93,3 +93,33 @@ btest_LDADD = libbacktrace.la\n check_PROGRAMS += btest\n \n endif NATIVE\n+\n+# We can't use automake's automatic dependency tracking, because it\n+# breaks when using bootstrap-lean.  Automatic dependency tracking\n+# with GCC bootstrap will cause some of the objects to depend on\n+# header files in prev-gcc/include, e.g., stddef.h and stdarg.h.  When\n+# using bootstrap-lean, prev-gcc is removed after each stage.  When\n+# running \"make install\", those header files will be gone, causing the\n+# library to be rebuilt at install time.  That may not succeed.\n+\n+# These manual dependencies do not include dependencies on unwind.h,\n+# even though that is part of GCC, because where to find it depends on\n+# whether we are being built as a host library or a target library.\n+\n+INCDIR = $(top_srcdir)/../include\n+alloc.lo: config.h backtrace.h internal.h\n+backtrace.lo: config.h backtrace.h\n+btest.lo: (INCDIR)/filenames.h backtrace.h backtrace-supported.h\n+dwarf.lo: config.h $(INCDIR)/dwarf2.h $(INCDIR)/dwarf2.def \\\n+\t$(INCDIR)/filenames.h backtrace.h internal.h\n+elf.lo: config.h backtrace.h internal.h\n+fileline.lo: config.h backtrace.h internal.h\n+mmap.lo: config.h backtrace.h internal.h\n+mmapio.lo: config.h backtrace.h internal.h\n+nounwind.lo: config.h internal.h\n+posix.lo: config.h backtrace.h internal.h\n+print.lo: config.h backtrace.h internal.h\n+read.lo: config.h backtrace.h internal.h\n+simple.lo: config.h backtrace.h internal.h\n+state.lo: config.h backtrace.h backtrace-supported.h internal.h\n+unknown.lo: config.h backtrace.h internal.h"}, {"sha": "b416c267b100a409810c69c2a67a4e3e982b0472", "filename": "libbacktrace/Makefile.in", "status": "modified", "additions": 42, "deletions": 58, "changes": 100, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af710874e9402567635008a88279e9ab02227b2d/libbacktrace%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af710874e9402567635008a88279e9ab02227b2d/libbacktrace%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2FMakefile.in?ref=af710874e9402567635008a88279e9ab02227b2d", "patch": "@@ -72,11 +72,9 @@ subdir = .\n DIST_COMMON = README ChangeLog $(srcdir)/Makefile.in \\\n \t$(srcdir)/Makefile.am $(top_srcdir)/configure \\\n \t$(am__configure_deps) $(srcdir)/config.h.in \\\n-\t$(srcdir)/../mkinstalldirs $(srcdir)/backtrace-supported.h.in \\\n-\t$(srcdir)/../depcomp\n+\t$(srcdir)/../mkinstalldirs $(srcdir)/backtrace-supported.h.in\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n-am__aclocal_m4_deps = $(top_srcdir)/../config/depstand.m4 \\\n-\t$(top_srcdir)/../config/lead-dot.m4 \\\n+am__aclocal_m4_deps = $(top_srcdir)/../config/lead-dot.m4 \\\n \t$(top_srcdir)/../config/multi.m4 \\\n \t$(top_srcdir)/../config/override.m4 \\\n \t$(top_srcdir)/../config/stdint.m4 \\\n@@ -106,9 +104,8 @@ btest_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \\\n \t--mode=link $(CCLD) $(btest_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \\\n \t$(LDFLAGS) -o $@\n DEFAULT_INCLUDES = -I.@am__isrc@\n-depcomp = $(SHELL) $(top_srcdir)/../depcomp\n-am__depfiles_maybe = depfiles\n-am__mv = mv -f\n+depcomp =\n+am__depfiles_maybe =\n COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \\\n \t$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)\n LTCOMPILE = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \\\n@@ -143,13 +140,11 @@ BACKTRACE_SUPPORTED = @BACKTRACE_SUPPORTED@\n BACKTRACE_SUPPORTS_THREADS = @BACKTRACE_SUPPORTS_THREADS@\n BACKTRACE_USES_MALLOC = @BACKTRACE_USES_MALLOC@\n CC = @CC@\n-CCDEPMODE = @CCDEPMODE@\n CFLAGS = @CFLAGS@\n CPP = @CPP@\n CPPFLAGS = @CPPFLAGS@\n CYGPATH_W = @CYGPATH_W@\n DEFS = @DEFS@\n-DEPDIR = @DEPDIR@\n DSYMUTIL = @DSYMUTIL@\n DUMPBIN = @DUMPBIN@\n ECHO_C = @ECHO_C@\n@@ -205,9 +200,7 @@ abs_top_builddir = @abs_top_builddir@\n abs_top_srcdir = @abs_top_srcdir@\n ac_ct_CC = @ac_ct_CC@\n ac_ct_DUMPBIN = @ac_ct_DUMPBIN@\n-am__include = @am__include@\n am__leading_dot = @am__leading_dot@\n-am__quote = @am__quote@\n am__tar = @am__tar@\n am__untar = @am__untar@\n bindir = @bindir@\n@@ -305,6 +298,19 @@ TESTS = $(check_PROGRAMS)\n @NATIVE_TRUE@btest_SOURCES = btest.c\n @NATIVE_TRUE@btest_CFLAGS = $(AM_CFLAGS) -g -O\n @NATIVE_TRUE@btest_LDADD = libbacktrace.la\n+\n+# We can't use automake's automatic dependency tracking, because it\n+# breaks when using bootstrap-lean.  Automatic dependency tracking\n+# with GCC bootstrap will cause some of the objects to depend on\n+# header files in prev-gcc/include, e.g., stddef.h and stdarg.h.  When\n+# using bootstrap-lean, prev-gcc is removed after each stage.  When\n+# running \"make install\", those header files will be gone, causing the\n+# library to be rebuilt at install time.  That may not succeed.\n+\n+# These manual dependencies do not include dependencies on unwind.h,\n+# even though that is part of GCC, because where to find it depends on\n+# whether we are being built as a host library or a target library.\n+INCDIR = $(top_srcdir)/../include\n all: config.h\n \t$(MAKE) $(AM_MAKEFLAGS) all-am\n \n@@ -316,15 +322,15 @@ $(srcdir)/Makefile.in: @MAINTAINER_MODE_TRUE@ $(srcdir)/Makefile.am  $(am__confi\n \t@for dep in $?; do \\\n \t  case '$(am__configure_deps)' in \\\n \t    *$$dep*) \\\n-\t      echo ' cd $(srcdir) && $(AUTOMAKE) --foreign'; \\\n-\t      $(am__cd) $(srcdir) && $(AUTOMAKE) --foreign \\\n+\t      echo ' cd $(srcdir) && $(AUTOMAKE) --foreign --ignore-deps'; \\\n+\t      $(am__cd) $(srcdir) && $(AUTOMAKE) --foreign --ignore-deps \\\n \t\t&& exit 0; \\\n \t      exit 1;; \\\n \t  esac; \\\n \tdone; \\\n-\techo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign Makefile'; \\\n+\techo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign --ignore-deps Makefile'; \\\n \t$(am__cd) $(top_srcdir) && \\\n-\t  $(AUTOMAKE) --foreign Makefile\n+\t  $(AUTOMAKE) --foreign --ignore-deps Makefile\n .PRECIOUS: Makefile\n Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status\n \t@case '$?' in \\\n@@ -393,56 +399,20 @@ mostlyclean-compile:\n distclean-compile:\n \t-rm -f *.tab.c\n \n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/alloc.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/backtrace.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/btest-btest.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/dwarf.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/elf.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/fileline.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/mmap.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/mmapio.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/nounwind.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/posix.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/print.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/read.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/simple.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/state.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/unknown.Plo@am__quote@\n-\n .c.o:\n-@am__fastdepCC_TRUE@\t$(COMPILE) -MT $@ -MD -MP -MF $(DEPDIR)/$*.Tpo -c -o $@ $<\n-@am__fastdepCC_TRUE@\t$(am__mv) $(DEPDIR)/$*.Tpo $(DEPDIR)/$*.Po\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tsource='$<' object='$@' libtool=no @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCC_FALSE@\t$(COMPILE) -c $<\n+\t$(COMPILE) -c $<\n \n .c.obj:\n-@am__fastdepCC_TRUE@\t$(COMPILE) -MT $@ -MD -MP -MF $(DEPDIR)/$*.Tpo -c -o $@ `$(CYGPATH_W) '$<'`\n-@am__fastdepCC_TRUE@\t$(am__mv) $(DEPDIR)/$*.Tpo $(DEPDIR)/$*.Po\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tsource='$<' object='$@' libtool=no @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCC_FALSE@\t$(COMPILE) -c `$(CYGPATH_W) '$<'`\n+\t$(COMPILE) -c `$(CYGPATH_W) '$<'`\n \n .c.lo:\n-@am__fastdepCC_TRUE@\t$(LTCOMPILE) -MT $@ -MD -MP -MF $(DEPDIR)/$*.Tpo -c -o $@ $<\n-@am__fastdepCC_TRUE@\t$(am__mv) $(DEPDIR)/$*.Tpo $(DEPDIR)/$*.Plo\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tsource='$<' object='$@' libtool=yes @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCC_FALSE@\t$(LTCOMPILE) -c -o $@ $<\n+\t$(LTCOMPILE) -c -o $@ $<\n \n btest-btest.o: btest.c\n-@am__fastdepCC_TRUE@\t$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(btest_CFLAGS) $(CFLAGS) -MT btest-btest.o -MD -MP -MF $(DEPDIR)/btest-btest.Tpo -c -o btest-btest.o `test -f 'btest.c' || echo '$(srcdir)/'`btest.c\n-@am__fastdepCC_TRUE@\t$(am__mv) $(DEPDIR)/btest-btest.Tpo $(DEPDIR)/btest-btest.Po\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tsource='btest.c' object='btest-btest.o' libtool=no @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCC_FALSE@\t$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(btest_CFLAGS) $(CFLAGS) -c -o btest-btest.o `test -f 'btest.c' || echo '$(srcdir)/'`btest.c\n+\t$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(btest_CFLAGS) $(CFLAGS) -c -o btest-btest.o `test -f 'btest.c' || echo '$(srcdir)/'`btest.c\n \n btest-btest.obj: btest.c\n-@am__fastdepCC_TRUE@\t$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(btest_CFLAGS) $(CFLAGS) -MT btest-btest.obj -MD -MP -MF $(DEPDIR)/btest-btest.Tpo -c -o btest-btest.obj `if test -f 'btest.c'; then $(CYGPATH_W) 'btest.c'; else $(CYGPATH_W) '$(srcdir)/btest.c'; fi`\n-@am__fastdepCC_TRUE@\t$(am__mv) $(DEPDIR)/btest-btest.Tpo $(DEPDIR)/btest-btest.Po\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tsource='btest.c' object='btest-btest.obj' libtool=no @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCC_FALSE@\t$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(btest_CFLAGS) $(CFLAGS) -c -o btest-btest.obj `if test -f 'btest.c'; then $(CYGPATH_W) 'btest.c'; else $(CYGPATH_W) '$(srcdir)/btest.c'; fi`\n+\t$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(btest_CFLAGS) $(CFLAGS) -c -o btest-btest.obj `if test -f 'btest.c'; then $(CYGPATH_W) 'btest.c'; else $(CYGPATH_W) '$(srcdir)/btest.c'; fi`\n \n mostlyclean-libtool:\n \t-rm -f *.lo\n@@ -651,7 +621,6 @@ clean-am: clean-checkPROGRAMS clean-generic clean-libtool \\\n \n distclean: distclean-am distclean-multi\n \t-rm -f $(am__CONFIG_DISTCLEAN_FILES)\n-\t-rm -rf ./$(DEPDIR)\n \t-rm -f Makefile\n distclean-am: clean-am distclean-compile distclean-generic \\\n \tdistclean-hdr distclean-libtool distclean-tags\n@@ -699,7 +668,6 @@ installcheck-am:\n maintainer-clean: maintainer-clean-am maintainer-clean-multi\n \t-rm -f $(am__CONFIG_DISTCLEAN_FILES)\n \t-rm -rf $(top_srcdir)/autom4te.cache\n-\t-rm -rf ./$(DEPDIR)\n \t-rm -f Makefile\n maintainer-clean-am: distclean-am maintainer-clean-generic\n \n@@ -738,6 +706,22 @@ uninstall-am:\n \tmostlyclean-multi pdf pdf-am ps ps-am tags uninstall \\\n \tuninstall-am\n \n+alloc.lo: config.h backtrace.h internal.h\n+backtrace.lo: config.h backtrace.h\n+btest.lo: (INCDIR)/filenames.h backtrace.h backtrace-supported.h\n+dwarf.lo: config.h $(INCDIR)/dwarf2.h $(INCDIR)/dwarf2.def \\\n+\t$(INCDIR)/filenames.h backtrace.h internal.h\n+elf.lo: config.h backtrace.h internal.h\n+fileline.lo: config.h backtrace.h internal.h\n+mmap.lo: config.h backtrace.h internal.h\n+mmapio.lo: config.h backtrace.h internal.h\n+nounwind.lo: config.h internal.h\n+posix.lo: config.h backtrace.h internal.h\n+print.lo: config.h backtrace.h internal.h\n+read.lo: config.h backtrace.h internal.h\n+simple.lo: config.h backtrace.h internal.h\n+state.lo: config.h backtrace.h backtrace-supported.h internal.h\n+unknown.lo: config.h backtrace.h internal.h\n \n # Tell versions [3.59,3.63) of GNU make to not export all variables.\n # Otherwise a system limit (for SysV at least) may be exceeded."}, {"sha": "42214c2233ac87437820fa06383933884281d3c4", "filename": "libbacktrace/aclocal.m4", "status": "modified", "additions": 0, "deletions": 315, "changes": 315, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af710874e9402567635008a88279e9ab02227b2d/libbacktrace%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af710874e9402567635008a88279e9ab02227b2d/libbacktrace%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2Faclocal.m4?ref=af710874e9402567635008a88279e9ab02227b2d", "patch": "@@ -144,268 +144,6 @@ AC_CONFIG_COMMANDS_PRE(\n Usually this means the macro was only invoked conditionally.]])\n fi])])\n \n-# Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2009\n-# Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# serial 10\n-\n-# There are a few dirty hacks below to avoid letting `AC_PROG_CC' be\n-# written in clear, in which case automake, when reading aclocal.m4,\n-# will think it sees a *use*, and therefore will trigger all it's\n-# C support machinery.  Also note that it means that autoscan, seeing\n-# CC etc. in the Makefile, will ask for an AC_PROG_CC use...\n-\n-\n-# _AM_DEPENDENCIES(NAME)\n-# ----------------------\n-# See how the compiler implements dependency checking.\n-# NAME is \"CC\", \"CXX\", \"GCJ\", or \"OBJC\".\n-# We try a few techniques and use that to set a single cache variable.\n-#\n-# We don't AC_REQUIRE the corresponding AC_PROG_CC since the latter was\n-# modified to invoke _AM_DEPENDENCIES(CC); we would have a circular\n-# dependency, and given that the user is not expected to run this macro,\n-# just rely on AC_PROG_CC.\n-AC_DEFUN([_AM_DEPENDENCIES],\n-[AC_REQUIRE([AM_SET_DEPDIR])dnl\n-AC_REQUIRE([AM_OUTPUT_DEPENDENCY_COMMANDS])dnl\n-AC_REQUIRE([AM_MAKE_INCLUDE])dnl\n-AC_REQUIRE([AM_DEP_TRACK])dnl\n-\n-ifelse([$1], CC,   [depcc=\"$CC\"   am_compiler_list=],\n-       [$1], CXX,  [depcc=\"$CXX\"  am_compiler_list=],\n-       [$1], OBJC, [depcc=\"$OBJC\" am_compiler_list='gcc3 gcc'],\n-       [$1], UPC,  [depcc=\"$UPC\"  am_compiler_list=],\n-       [$1], GCJ,  [depcc=\"$GCJ\"  am_compiler_list='gcc3 gcc'],\n-                   [depcc=\"$$1\"   am_compiler_list=])\n-\n-AC_CACHE_CHECK([dependency style of $depcc],\n-               [am_cv_$1_dependencies_compiler_type],\n-[if test -z \"$AMDEP_TRUE\" && test -f \"$am_depcomp\"; then\n-  # We make a subdir and do the tests there.  Otherwise we can end up\n-  # making bogus files that we don't know about and never remove.  For\n-  # instance it was reported that on HP-UX the gcc test will end up\n-  # making a dummy file named `D' -- because `-MD' means `put the output\n-  # in D'.\n-  mkdir conftest.dir\n-  # Copy depcomp to subdir because otherwise we won't find it if we're\n-  # using a relative directory.\n-  cp \"$am_depcomp\" conftest.dir\n-  cd conftest.dir\n-  # We will build objects and dependencies in a subdirectory because\n-  # it helps to detect inapplicable dependency modes.  For instance\n-  # both Tru64's cc and ICC support -MD to output dependencies as a\n-  # side effect of compilation, but ICC will put the dependencies in\n-  # the current directory while Tru64 will put them in the object\n-  # directory.\n-  mkdir sub\n-\n-  am_cv_$1_dependencies_compiler_type=none\n-  if test \"$am_compiler_list\" = \"\"; then\n-     am_compiler_list=`sed -n ['s/^#*\\([a-zA-Z0-9]*\\))$/\\1/p'] < ./depcomp`\n-  fi\n-  am__universal=false\n-  m4_case([$1], [CC],\n-    [case \" $depcc \" in #(\n-     *\\ -arch\\ *\\ -arch\\ *) am__universal=true ;;\n-     esac],\n-    [CXX],\n-    [case \" $depcc \" in #(\n-     *\\ -arch\\ *\\ -arch\\ *) am__universal=true ;;\n-     esac])\n-\n-  for depmode in $am_compiler_list; do\n-    # Setup a source with many dependencies, because some compilers\n-    # like to wrap large dependency lists on column 80 (with \\), and\n-    # we should not choose a depcomp mode which is confused by this.\n-    #\n-    # We need to recreate these files for each test, as the compiler may\n-    # overwrite some of them when testing with obscure command lines.\n-    # This happens at least with the AIX C compiler.\n-    : > sub/conftest.c\n-    for i in 1 2 3 4 5 6; do\n-      echo '#include \"conftst'$i'.h\"' >> sub/conftest.c\n-      # Using `: > sub/conftst$i.h' creates only sub/conftst1.h with\n-      # Solaris 8's {/usr,}/bin/sh.\n-      touch sub/conftst$i.h\n-    done\n-    echo \"${am__include} ${am__quote}sub/conftest.Po${am__quote}\" > confmf\n-\n-    # We check with `-c' and `-o' for the sake of the \"dashmstdout\"\n-    # mode.  It turns out that the SunPro C++ compiler does not properly\n-    # handle `-M -o', and we need to detect this.  Also, some Intel\n-    # versions had trouble with output in subdirs\n-    am__obj=sub/conftest.${OBJEXT-o}\n-    am__minus_obj=\"-o $am__obj\"\n-    case $depmode in\n-    gcc)\n-      # This depmode causes a compiler race in universal mode.\n-      test \"$am__universal\" = false || continue\n-      ;;\n-    nosideeffect)\n-      # after this tag, mechanisms are not by side-effect, so they'll\n-      # only be used when explicitly requested\n-      if test \"x$enable_dependency_tracking\" = xyes; then\n-\tcontinue\n-      else\n-\tbreak\n-      fi\n-      ;;\n-    msvisualcpp | msvcmsys)\n-      # This compiler won't grok `-c -o', but also, the minuso test has\n-      # not run yet.  These depmodes are late enough in the game, and\n-      # so weak that their functioning should not be impacted.\n-      am__obj=conftest.${OBJEXT-o}\n-      am__minus_obj=\n-      ;;\n-    none) break ;;\n-    esac\n-    if depmode=$depmode \\\n-       source=sub/conftest.c object=$am__obj \\\n-       depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \\\n-       $SHELL ./depcomp $depcc -c $am__minus_obj sub/conftest.c \\\n-         >/dev/null 2>conftest.err &&\n-       grep sub/conftst1.h sub/conftest.Po > /dev/null 2>&1 &&\n-       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&\n-       grep $am__obj sub/conftest.Po > /dev/null 2>&1 &&\n-       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then\n-      # icc doesn't choke on unknown options, it will just issue warnings\n-      # or remarks (even with -Werror).  So we grep stderr for any message\n-      # that says an option was ignored or not supported.\n-      # When given -MP, icc 7.0 and 7.1 complain thusly:\n-      #   icc: Command line warning: ignoring option '-M'; no argument required\n-      # The diagnosis changed in icc 8.0:\n-      #   icc: Command line remark: option '-MP' not supported\n-      if (grep 'ignoring option' conftest.err ||\n-          grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else\n-        am_cv_$1_dependencies_compiler_type=$depmode\n-        break\n-      fi\n-    fi\n-  done\n-\n-  cd ..\n-  rm -rf conftest.dir\n-else\n-  am_cv_$1_dependencies_compiler_type=none\n-fi\n-])\n-AC_SUBST([$1DEPMODE], [depmode=$am_cv_$1_dependencies_compiler_type])\n-AM_CONDITIONAL([am__fastdep$1], [\n-  test \"x$enable_dependency_tracking\" != xno \\\n-  && test \"$am_cv_$1_dependencies_compiler_type\" = gcc3])\n-])\n-\n-\n-# AM_SET_DEPDIR\n-# -------------\n-# Choose a directory name for dependency files.\n-# This macro is AC_REQUIREd in _AM_DEPENDENCIES\n-AC_DEFUN([AM_SET_DEPDIR],\n-[AC_REQUIRE([AM_SET_LEADING_DOT])dnl\n-AC_SUBST([DEPDIR], [\"${am__leading_dot}deps\"])dnl\n-])\n-\n-\n-# AM_DEP_TRACK\n-# ------------\n-AC_DEFUN([AM_DEP_TRACK],\n-[AC_ARG_ENABLE(dependency-tracking,\n-[  --disable-dependency-tracking  speeds up one-time build\n-  --enable-dependency-tracking   do not reject slow dependency extractors])\n-if test \"x$enable_dependency_tracking\" != xno; then\n-  am_depcomp=\"$ac_aux_dir/depcomp\"\n-  AMDEPBACKSLASH='\\'\n-fi\n-AM_CONDITIONAL([AMDEP], [test \"x$enable_dependency_tracking\" != xno])\n-AC_SUBST([AMDEPBACKSLASH])dnl\n-_AM_SUBST_NOTMAKE([AMDEPBACKSLASH])dnl\n-])\n-\n-# Generate code to set up dependency tracking.              -*- Autoconf -*-\n-\n-# Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2008\n-# Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-#serial 5\n-\n-# _AM_OUTPUT_DEPENDENCY_COMMANDS\n-# ------------------------------\n-AC_DEFUN([_AM_OUTPUT_DEPENDENCY_COMMANDS],\n-[{\n-  # Autoconf 2.62 quotes --file arguments for eval, but not when files\n-  # are listed without --file.  Let's play safe and only enable the eval\n-  # if we detect the quoting.\n-  case $CONFIG_FILES in\n-  *\\'*) eval set x \"$CONFIG_FILES\" ;;\n-  *)   set x $CONFIG_FILES ;;\n-  esac\n-  shift\n-  for mf\n-  do\n-    # Strip MF so we end up with the name of the file.\n-    mf=`echo \"$mf\" | sed -e 's/:.*$//'`\n-    # Check whether this is an Automake generated Makefile or not.\n-    # We used to match only the files named `Makefile.in', but\n-    # some people rename them; so instead we look at the file content.\n-    # Grep'ing the first line is not enough: some people post-process\n-    # each Makefile.in and add a new line on top of each file to say so.\n-    # Grep'ing the whole file is not good either: AIX grep has a line\n-    # limit of 2048, but all sed's we know have understand at least 4000.\n-    if sed -n 's,^#.*generated by automake.*,X,p' \"$mf\" | grep X >/dev/null 2>&1; then\n-      dirpart=`AS_DIRNAME(\"$mf\")`\n-    else\n-      continue\n-    fi\n-    # Extract the definition of DEPDIR, am__include, and am__quote\n-    # from the Makefile without running `make'.\n-    DEPDIR=`sed -n 's/^DEPDIR = //p' < \"$mf\"`\n-    test -z \"$DEPDIR\" && continue\n-    am__include=`sed -n 's/^am__include = //p' < \"$mf\"`\n-    test -z \"am__include\" && continue\n-    am__quote=`sed -n 's/^am__quote = //p' < \"$mf\"`\n-    # When using ansi2knr, U may be empty or an underscore; expand it\n-    U=`sed -n 's/^U = //p' < \"$mf\"`\n-    # Find all dependency output files, they are included files with\n-    # $(DEPDIR) in their names.  We invoke sed twice because it is the\n-    # simplest approach to changing $(DEPDIR) to its actual value in the\n-    # expansion.\n-    for file in `sed -n \"\n-      s/^$am__include $am__quote\\(.*(DEPDIR).*\\)$am__quote\"'$/\\1/p' <\"$mf\" | \\\n-\t sed -e 's/\\$(DEPDIR)/'\"$DEPDIR\"'/g' -e 's/\\$U/'\"$U\"'/g'`; do\n-      # Make sure the directory exists.\n-      test -f \"$dirpart/$file\" && continue\n-      fdir=`AS_DIRNAME([\"$file\"])`\n-      AS_MKDIR_P([$dirpart/$fdir])\n-      # echo \"creating $dirpart/$file\"\n-      echo '# dummy' > \"$dirpart/$file\"\n-    done\n-  done\n-}\n-])# _AM_OUTPUT_DEPENDENCY_COMMANDS\n-\n-\n-# AM_OUTPUT_DEPENDENCY_COMMANDS\n-# -----------------------------\n-# This macro should only be invoked once -- use via AC_REQUIRE.\n-#\n-# This code is only required when automatic dependency tracking\n-# is enabled.  FIXME.  This creates each `.P' file that we will\n-# need in order to bootstrap the dependency handling code.\n-AC_DEFUN([AM_OUTPUT_DEPENDENCY_COMMANDS],\n-[AC_CONFIG_COMMANDS([depfiles],\n-     [test x\"$AMDEP_TRUE\" != x\"\" || _AM_OUTPUT_DEPENDENCY_COMMANDS],\n-     [AMDEP_TRUE=\"$AMDEP_TRUE\" ac_aux_dir=\"$ac_aux_dir\"])\n-])\n-\n # Do all the work for Automake.                             -*- Autoconf -*-\n \n # Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,\n@@ -606,58 +344,6 @@ AC_MSG_CHECKING([whether to am_maintainer_other maintainer-specific portions of\n \n AU_DEFUN([jm_MAINTAINER_MODE], [AM_MAINTAINER_MODE])\n \n-# Check to see how 'make' treats includes.\t            -*- Autoconf -*-\n-\n-# Copyright (C) 2001, 2002, 2003, 2005, 2009  Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# serial 4\n-\n-# AM_MAKE_INCLUDE()\n-# -----------------\n-# Check to see how make treats includes.\n-AC_DEFUN([AM_MAKE_INCLUDE],\n-[am_make=${MAKE-make}\n-cat > confinc << 'END'\n-am__doit:\n-\t@echo this is the am__doit target\n-.PHONY: am__doit\n-END\n-# If we don't find an include directive, just comment out the code.\n-AC_MSG_CHECKING([for style of include used by $am_make])\n-am__include=\"#\"\n-am__quote=\n-_am_result=none\n-# First try GNU make style include.\n-echo \"include confinc\" > confmf\n-# Ignore all kinds of additional output from `make'.\n-case `$am_make -s -f confmf 2> /dev/null` in #(\n-*the\\ am__doit\\ target*)\n-  am__include=include\n-  am__quote=\n-  _am_result=GNU\n-  ;;\n-esac\n-# Now try BSD make style include.\n-if test \"$am__include\" = \"#\"; then\n-   echo '.include \"confinc\"' > confmf\n-   case `$am_make -s -f confmf 2> /dev/null` in #(\n-   *the\\ am__doit\\ target*)\n-     am__include=.include\n-     am__quote=\"\\\"\"\n-     _am_result=BSD\n-     ;;\n-   esac\n-fi\n-AC_SUBST([am__include])\n-AC_SUBST([am__quote])\n-AC_MSG_RESULT([$_am_result])\n-rm -f confinc confmf\n-])\n-\n # Fake the existence of programs that GNU maintainers use.  -*- Autoconf -*-\n \n # Copyright (C) 1997, 1999, 2000, 2001, 2003, 2004, 2005, 2008\n@@ -968,7 +654,6 @@ AC_SUBST([am__tar])\n AC_SUBST([am__untar])\n ]) # _AM_PROG_TAR\n \n-m4_include([../config/depstand.m4])\n m4_include([../config/lead-dot.m4])\n m4_include([../config/multi.m4])\n m4_include([../config/override.m4])"}, {"sha": "51a509cf028b723bcb4af532be5c6674cd94aeca", "filename": "libbacktrace/configure", "status": "modified", "additions": 11, "deletions": 308, "changes": 319, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af710874e9402567635008a88279e9ab02227b2d/libbacktrace%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af710874e9402567635008a88279e9ab02227b2d/libbacktrace%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2Fconfigure?ref=af710874e9402567635008a88279e9ab02227b2d", "patch": "@@ -633,15 +633,6 @@ RANLIB\n MAINT\n MAINTAINER_MODE_FALSE\n MAINTAINER_MODE_TRUE\n-am__fastdepCC_FALSE\n-am__fastdepCC_TRUE\n-CCDEPMODE\n-AMDEPBACKSLASH\n-AMDEP_FALSE\n-AMDEP_TRUE\n-am__quote\n-am__include\n-DEPDIR\n am__untar\n am__tar\n AMTAR\n@@ -729,7 +720,6 @@ SHELL'\n ac_subst_files=''\n ac_user_opts='\n enable_option_checking\n-enable_dependency_tracking\n enable_maintainer_mode\n with_target_subdir\n enable_shared\n@@ -1370,8 +1360,6 @@ Optional Features:\n   --disable-option-checking  ignore unrecognized --enable/--with options\n   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)\n   --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]\n-  --disable-dependency-tracking  speeds up one-time build\n-  --enable-dependency-tracking   do not reject slow dependency extractors\n   --enable-maintainer-mode  enable make rules and dependencies not useful\n \t\t\t  (and sometimes confusing) to the casual installer\n   --enable-shared[=PKGS]  build shared libraries [default=no]\n@@ -3827,6 +3815,15 @@ $as_echo \"$ac_cv_safe_to_define___extensions__\" >&6; }\n libtool_VERSION=1:0:0\n \n \n+# 1.11.1: Require that version of automake.\n+# foreign: Don't require README, INSTALL, NEWS, etc.\n+# no-define: Don't define PACKAGE and VERSION.\n+# no-dependencies: Don't generate automatic dependencies.\n+#    (because it breaks when using bootstrap-lean, since some of the\n+#    headers are gone at \"make install\" time).\n+# -Wall: Issue all automake warnings.\n+# -Wno-portability: Don't warn about constructs supported by GNU make.\n+#    (because GCC requires GNU make anyhow).\n am__api_version='1.11'\n \n # Find a good install program.  We prefer a C program (faster),\n@@ -4243,68 +4240,6 @@ else\n fi\n rmdir .tst 2>/dev/null\n \n-DEPDIR=\"${am__leading_dot}deps\"\n-\n-ac_config_commands=\"$ac_config_commands depfiles\"\n-\n-\n-am_make=${MAKE-make}\n-cat > confinc << 'END'\n-am__doit:\n-\t@echo this is the am__doit target\n-.PHONY: am__doit\n-END\n-# If we don't find an include directive, just comment out the code.\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for style of include used by $am_make\" >&5\n-$as_echo_n \"checking for style of include used by $am_make... \" >&6; }\n-am__include=\"#\"\n-am__quote=\n-_am_result=none\n-# First try GNU make style include.\n-echo \"include confinc\" > confmf\n-# Ignore all kinds of additional output from `make'.\n-case `$am_make -s -f confmf 2> /dev/null` in #(\n-*the\\ am__doit\\ target*)\n-  am__include=include\n-  am__quote=\n-  _am_result=GNU\n-  ;;\n-esac\n-# Now try BSD make style include.\n-if test \"$am__include\" = \"#\"; then\n-   echo '.include \"confinc\"' > confmf\n-   case `$am_make -s -f confmf 2> /dev/null` in #(\n-   *the\\ am__doit\\ target*)\n-     am__include=.include\n-     am__quote=\"\\\"\"\n-     _am_result=BSD\n-     ;;\n-   esac\n-fi\n-\n-\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $_am_result\" >&5\n-$as_echo \"$_am_result\" >&6; }\n-rm -f confinc confmf\n-\n-# Check whether --enable-dependency-tracking was given.\n-if test \"${enable_dependency_tracking+set}\" = set; then :\n-  enableval=$enable_dependency_tracking;\n-fi\n-\n-if test \"x$enable_dependency_tracking\" != xno; then\n-  am_depcomp=\"$ac_aux_dir/depcomp\"\n-  AMDEPBACKSLASH='\\'\n-fi\n- if test \"x$enable_dependency_tracking\" != xno; then\n-  AMDEP_TRUE=\n-  AMDEP_FALSE='#'\n-else\n-  AMDEP_TRUE='#'\n-  AMDEP_FALSE=\n-fi\n-\n-\n if test \"`cd $srcdir && pwd`\" != \"`pwd`\"; then\n   # Use -I$(srcdir) only when $(srcdir) != ., so that make's output\n   # is not polluted with repeated \"-I.\"\n@@ -4357,133 +4292,6 @@ am__tar='${AMTAR} chof - \"$$tardir\"'; am__untar='${AMTAR} xf -'\n \n \n \n-depcc=\"$CC\"   am_compiler_list=\n-\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking dependency style of $depcc\" >&5\n-$as_echo_n \"checking dependency style of $depcc... \" >&6; }\n-if test \"${am_cv_CC_dependencies_compiler_type+set}\" = set; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  if test -z \"$AMDEP_TRUE\" && test -f \"$am_depcomp\"; then\n-  # We make a subdir and do the tests there.  Otherwise we can end up\n-  # making bogus files that we don't know about and never remove.  For\n-  # instance it was reported that on HP-UX the gcc test will end up\n-  # making a dummy file named `D' -- because `-MD' means `put the output\n-  # in D'.\n-  mkdir conftest.dir\n-  # Copy depcomp to subdir because otherwise we won't find it if we're\n-  # using a relative directory.\n-  cp \"$am_depcomp\" conftest.dir\n-  cd conftest.dir\n-  # We will build objects and dependencies in a subdirectory because\n-  # it helps to detect inapplicable dependency modes.  For instance\n-  # both Tru64's cc and ICC support -MD to output dependencies as a\n-  # side effect of compilation, but ICC will put the dependencies in\n-  # the current directory while Tru64 will put them in the object\n-  # directory.\n-  mkdir sub\n-\n-  am_cv_CC_dependencies_compiler_type=none\n-  if test \"$am_compiler_list\" = \"\"; then\n-     am_compiler_list=`sed -n 's/^#*\\([a-zA-Z0-9]*\\))$/\\1/p' < ./depcomp`\n-  fi\n-  am__universal=false\n-  case \" $depcc \" in #(\n-     *\\ -arch\\ *\\ -arch\\ *) am__universal=true ;;\n-     esac\n-\n-  for depmode in $am_compiler_list; do\n-    # Setup a source with many dependencies, because some compilers\n-    # like to wrap large dependency lists on column 80 (with \\), and\n-    # we should not choose a depcomp mode which is confused by this.\n-    #\n-    # We need to recreate these files for each test, as the compiler may\n-    # overwrite some of them when testing with obscure command lines.\n-    # This happens at least with the AIX C compiler.\n-    : > sub/conftest.c\n-    for i in 1 2 3 4 5 6; do\n-      echo '#include \"conftst'$i'.h\"' >> sub/conftest.c\n-      # Using `: > sub/conftst$i.h' creates only sub/conftst1.h with\n-      # Solaris 8's {/usr,}/bin/sh.\n-      touch sub/conftst$i.h\n-    done\n-    echo \"${am__include} ${am__quote}sub/conftest.Po${am__quote}\" > confmf\n-\n-    # We check with `-c' and `-o' for the sake of the \"dashmstdout\"\n-    # mode.  It turns out that the SunPro C++ compiler does not properly\n-    # handle `-M -o', and we need to detect this.  Also, some Intel\n-    # versions had trouble with output in subdirs\n-    am__obj=sub/conftest.${OBJEXT-o}\n-    am__minus_obj=\"-o $am__obj\"\n-    case $depmode in\n-    gcc)\n-      # This depmode causes a compiler race in universal mode.\n-      test \"$am__universal\" = false || continue\n-      ;;\n-    nosideeffect)\n-      # after this tag, mechanisms are not by side-effect, so they'll\n-      # only be used when explicitly requested\n-      if test \"x$enable_dependency_tracking\" = xyes; then\n-\tcontinue\n-      else\n-\tbreak\n-      fi\n-      ;;\n-    msvisualcpp | msvcmsys)\n-      # This compiler won't grok `-c -o', but also, the minuso test has\n-      # not run yet.  These depmodes are late enough in the game, and\n-      # so weak that their functioning should not be impacted.\n-      am__obj=conftest.${OBJEXT-o}\n-      am__minus_obj=\n-      ;;\n-    none) break ;;\n-    esac\n-    if depmode=$depmode \\\n-       source=sub/conftest.c object=$am__obj \\\n-       depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \\\n-       $SHELL ./depcomp $depcc -c $am__minus_obj sub/conftest.c \\\n-         >/dev/null 2>conftest.err &&\n-       grep sub/conftst1.h sub/conftest.Po > /dev/null 2>&1 &&\n-       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&\n-       grep $am__obj sub/conftest.Po > /dev/null 2>&1 &&\n-       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then\n-      # icc doesn't choke on unknown options, it will just issue warnings\n-      # or remarks (even with -Werror).  So we grep stderr for any message\n-      # that says an option was ignored or not supported.\n-      # When given -MP, icc 7.0 and 7.1 complain thusly:\n-      #   icc: Command line warning: ignoring option '-M'; no argument required\n-      # The diagnosis changed in icc 8.0:\n-      #   icc: Command line remark: option '-MP' not supported\n-      if (grep 'ignoring option' conftest.err ||\n-          grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else\n-        am_cv_CC_dependencies_compiler_type=$depmode\n-        break\n-      fi\n-    fi\n-  done\n-\n-  cd ..\n-  rm -rf conftest.dir\n-else\n-  am_cv_CC_dependencies_compiler_type=none\n-fi\n-\n-fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $am_cv_CC_dependencies_compiler_type\" >&5\n-$as_echo \"$am_cv_CC_dependencies_compiler_type\" >&6; }\n-CCDEPMODE=depmode=$am_cv_CC_dependencies_compiler_type\n-\n- if\n-  test \"x$enable_dependency_tracking\" != xno \\\n-  && test \"$am_cv_CC_dependencies_compiler_type\" = gcc3; then\n-  am__fastdepCC_TRUE=\n-  am__fastdepCC_FALSE='#'\n-else\n-  am__fastdepCC_TRUE='#'\n-  am__fastdepCC_FALSE=\n-fi\n-\n-\n \n \n \n@@ -11272,7 +11080,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11275 \"configure\"\n+#line 11083 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -11378,7 +11186,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11381 \"configure\"\n+#line 11189 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -12550,14 +12358,6 @@ LIBOBJS=$ac_libobjs\n LTLIBOBJS=$ac_ltlibobjs\n \n \n-if test -z \"${AMDEP_TRUE}\" && test -z \"${AMDEP_FALSE}\"; then\n-  as_fn_error \"conditional \\\"AMDEP\\\" was never defined.\n-Usually this means the macro was only invoked conditionally.\" \"$LINENO\" 5\n-fi\n-if test -z \"${am__fastdepCC_TRUE}\" && test -z \"${am__fastdepCC_FALSE}\"; then\n-  as_fn_error \"conditional \\\"am__fastdepCC\\\" was never defined.\n-Usually this means the macro was only invoked conditionally.\" \"$LINENO\" 5\n-fi\n  if test -n \"$EXEEXT\"; then\n   am__EXEEXT_TRUE=\n   am__EXEEXT_FALSE='#'\n@@ -13157,7 +12957,6 @@ cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n #\n # INIT-COMMANDS\n #\n-AMDEP_TRUE=\"$AMDEP_TRUE\" ac_aux_dir=\"$ac_aux_dir\"\n \n \n # The HP-UX ksh and POSIX shell print the target directory to stdout\n@@ -13465,7 +13264,6 @@ for ac_config_target in $ac_config_targets\n do\n   case $ac_config_target in\n     \"config.h\") CONFIG_HEADERS=\"$CONFIG_HEADERS config.h\" ;;\n-    \"depfiles\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS depfiles\" ;;\n     \"libtool\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS libtool\" ;;\n     \"default-1\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS default-1\" ;;\n     \"gstdint.h\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS gstdint.h\" ;;\n@@ -14056,101 +13854,6 @@ $as_echo \"$as_me: executing $ac_file commands\" >&6;}\n \n \n   case $ac_file$ac_mode in\n-    \"depfiles\":C) test x\"$AMDEP_TRUE\" != x\"\" || {\n-  # Autoconf 2.62 quotes --file arguments for eval, but not when files\n-  # are listed without --file.  Let's play safe and only enable the eval\n-  # if we detect the quoting.\n-  case $CONFIG_FILES in\n-  *\\'*) eval set x \"$CONFIG_FILES\" ;;\n-  *)   set x $CONFIG_FILES ;;\n-  esac\n-  shift\n-  for mf\n-  do\n-    # Strip MF so we end up with the name of the file.\n-    mf=`echo \"$mf\" | sed -e 's/:.*$//'`\n-    # Check whether this is an Automake generated Makefile or not.\n-    # We used to match only the files named `Makefile.in', but\n-    # some people rename them; so instead we look at the file content.\n-    # Grep'ing the first line is not enough: some people post-process\n-    # each Makefile.in and add a new line on top of each file to say so.\n-    # Grep'ing the whole file is not good either: AIX grep has a line\n-    # limit of 2048, but all sed's we know have understand at least 4000.\n-    if sed -n 's,^#.*generated by automake.*,X,p' \"$mf\" | grep X >/dev/null 2>&1; then\n-      dirpart=`$as_dirname -- \"$mf\" ||\n-$as_expr X\"$mf\" : 'X\\(.*[^/]\\)//*[^/][^/]*/*$' \\| \\\n-\t X\"$mf\" : 'X\\(//\\)[^/]' \\| \\\n-\t X\"$mf\" : 'X\\(//\\)$' \\| \\\n-\t X\"$mf\" : 'X\\(/\\)' \\| . 2>/dev/null ||\n-$as_echo X\"$mf\" |\n-    sed '/^X\\(.*[^/]\\)\\/\\/*[^/][^/]*\\/*$/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\/\\)[^/].*/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\/\\)$/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\).*/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  s/.*/./; q'`\n-    else\n-      continue\n-    fi\n-    # Extract the definition of DEPDIR, am__include, and am__quote\n-    # from the Makefile without running `make'.\n-    DEPDIR=`sed -n 's/^DEPDIR = //p' < \"$mf\"`\n-    test -z \"$DEPDIR\" && continue\n-    am__include=`sed -n 's/^am__include = //p' < \"$mf\"`\n-    test -z \"am__include\" && continue\n-    am__quote=`sed -n 's/^am__quote = //p' < \"$mf\"`\n-    # When using ansi2knr, U may be empty or an underscore; expand it\n-    U=`sed -n 's/^U = //p' < \"$mf\"`\n-    # Find all dependency output files, they are included files with\n-    # $(DEPDIR) in their names.  We invoke sed twice because it is the\n-    # simplest approach to changing $(DEPDIR) to its actual value in the\n-    # expansion.\n-    for file in `sed -n \"\n-      s/^$am__include $am__quote\\(.*(DEPDIR).*\\)$am__quote\"'$/\\1/p' <\"$mf\" | \\\n-\t sed -e 's/\\$(DEPDIR)/'\"$DEPDIR\"'/g' -e 's/\\$U/'\"$U\"'/g'`; do\n-      # Make sure the directory exists.\n-      test -f \"$dirpart/$file\" && continue\n-      fdir=`$as_dirname -- \"$file\" ||\n-$as_expr X\"$file\" : 'X\\(.*[^/]\\)//*[^/][^/]*/*$' \\| \\\n-\t X\"$file\" : 'X\\(//\\)[^/]' \\| \\\n-\t X\"$file\" : 'X\\(//\\)$' \\| \\\n-\t X\"$file\" : 'X\\(/\\)' \\| . 2>/dev/null ||\n-$as_echo X\"$file\" |\n-    sed '/^X\\(.*[^/]\\)\\/\\/*[^/][^/]*\\/*$/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\/\\)[^/].*/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\/\\)$/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\).*/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  s/.*/./; q'`\n-      as_dir=$dirpart/$fdir; as_fn_mkdir_p\n-      # echo \"creating $dirpart/$file\"\n-      echo '# dummy' > \"$dirpart/$file\"\n-    done\n-  done\n-}\n- ;;\n     \"libtool\":C)\n \n     # See if we are running on zsh, and set the options which allow our"}, {"sha": "dbd0a81e817eddb73a62dd5dd9b18cdb7b38ff10", "filename": "libbacktrace/configure.ac", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af710874e9402567635008a88279e9ab02227b2d/libbacktrace%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af710874e9402567635008a88279e9ab02227b2d/libbacktrace%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2Fconfigure.ac?ref=af710874e9402567635008a88279e9ab02227b2d", "patch": "@@ -42,7 +42,16 @@ AC_USE_SYSTEM_EXTENSIONS\n libtool_VERSION=1:0:0\n AC_SUBST(libtool_VERSION)\n \n-AM_INIT_AUTOMAKE([1.11.1 foreign no-dist no-define -Wall -Wno-portability])\n+# 1.11.1: Require that version of automake.\n+# foreign: Don't require README, INSTALL, NEWS, etc.\n+# no-define: Don't define PACKAGE and VERSION.\n+# no-dependencies: Don't generate automatic dependencies.\n+#    (because it breaks when using bootstrap-lean, since some of the\n+#    headers are gone at \"make install\" time).\n+# -Wall: Issue all automake warnings.\n+# -Wno-portability: Don't warn about constructs supported by GNU make.\n+#    (because GCC requires GNU make anyhow).\n+AM_INIT_AUTOMAKE([1.11.1 foreign no-dist no-define no-dependencies -Wall -Wno-portability])\n \n AM_MAINTAINER_MODE\n "}]}