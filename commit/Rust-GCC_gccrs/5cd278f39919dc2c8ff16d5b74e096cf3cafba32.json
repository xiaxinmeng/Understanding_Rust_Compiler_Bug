{"sha": "5cd278f39919dc2c8ff16d5b74e096cf3cafba32", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWNkMjc4ZjM5OTE5ZGMyYzhmZjE2ZDViNzRlMDk2Y2YzY2FmYmEzMg==", "commit": {"author": {"name": "Dave Love", "email": "d.love@dl.ac.uk", "date": "1997-09-23T07:06:54Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-09-23T07:06:54Z"}, "message": "dtime_.c (G77_dtime_0): Fix types in HAVE_GETRUSAGE case so as not to truncate results to integer values.\n\n        * libU77/dtime_.c (G77_dtime_0): Fix types in HAVE_GETRUSAGE case\n        so as not to truncate results to integer values.\n        * libU77/Version.c: Bump.\n\nFrom-SVN: r15669", "tree": {"sha": "fdb4688f98bb8c13fe7ba248bee96960dcca93ff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fdb4688f98bb8c13fe7ba248bee96960dcca93ff"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5cd278f39919dc2c8ff16d5b74e096cf3cafba32", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5cd278f39919dc2c8ff16d5b74e096cf3cafba32", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5cd278f39919dc2c8ff16d5b74e096cf3cafba32", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5cd278f39919dc2c8ff16d5b74e096cf3cafba32/comments", "author": null, "committer": null, "parents": [{"sha": "0774afd709790641a5cc0acb564b812b788c9bb9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0774afd709790641a5cc0acb564b812b788c9bb9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0774afd709790641a5cc0acb564b812b788c9bb9"}], "stats": {"total": 24, "additions": 16, "deletions": 8}, "files": [{"sha": "0627d937acfc3497f149af11460116e42d3b09a0", "filename": "gcc/f/runtime/ChangeLog.egcs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5cd278f39919dc2c8ff16d5b74e096cf3cafba32/gcc%2Ff%2Fruntime%2FChangeLog.egcs", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5cd278f39919dc2c8ff16d5b74e096cf3cafba32/gcc%2Ff%2Fruntime%2FChangeLog.egcs", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fruntime%2FChangeLog.egcs?ref=5cd278f39919dc2c8ff16d5b74e096cf3cafba32", "patch": "@@ -1,3 +1,9 @@\n+1997-09-19  Dave Love  <d.love@dl.ac.uk>\n+\n+\t* libU77/dtime_.c (G77_dtime_0): Fix types in HAVE_GETRUSAGE case\n+ \tso as not to truncate results to integer values.\n+\t* libU77/Version.c: Bump.\n+\n Thu Sep 18 16:58:46 1997  Jeffrey A Law  (law@cygnus.com)\n \n \t* Makefile.in (stamp-lib): Don't use '$?', explicitly"}, {"sha": "0a278382f51d7d45cba4d8c568b0401d7a3ef789", "filename": "gcc/f/runtime/libU77/Version.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5cd278f39919dc2c8ff16d5b74e096cf3cafba32/gcc%2Ff%2Fruntime%2FlibU77%2FVersion.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5cd278f39919dc2c8ff16d5b74e096cf3cafba32/gcc%2Ff%2Fruntime%2FlibU77%2FVersion.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fruntime%2FlibU77%2FVersion.c?ref=5cd278f39919dc2c8ff16d5b74e096cf3cafba32", "patch": "@@ -1,6 +1,6 @@\n-static char junk[] = \"\\n@(#) LIBU77 VERSION 19970609\\n\";\n+static char junk[] = \"\\n@(#) LIBU77 VERSION 19970919\\n\";\n \n-char __G77_LIBU77_VERSION__[] = \"0.5.21\";\n+char __G77_LIBU77_VERSION__[] = \"0.5.22-970919\";\n \n #include <stdio.h>\n "}, {"sha": "9569db3fae016257ec785674eb1fdde36125132e", "filename": "gcc/f/runtime/libU77/dtime_.c", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5cd278f39919dc2c8ff16d5b74e096cf3cafba32/gcc%2Ff%2Fruntime%2FlibU77%2Fdtime_.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5cd278f39919dc2c8ff16d5b74e096cf3cafba32/gcc%2Ff%2Fruntime%2FlibU77%2Fdtime_.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fruntime%2FlibU77%2Fdtime_.c?ref=5cd278f39919dc2c8ff16d5b74e096cf3cafba32", "patch": "@@ -43,21 +43,23 @@ double G77_dtime_0 (tarray)\n double G77_dtime_0 (real tarray[2])\n #endif\n {\n-  time_t utime, stime;\n-  static time_t old_utime = 0, old_stime = 0;\n   /* The getrusage version is only the default for convenience. */\n #ifdef HAVE_GETRUSAGE\n+  float utime, stime;\n+  static float old_utime = 0.0, old_stime = 0.0;\n   struct rusage rbuff;\n \n    if (getrusage (RUSAGE_SELF, &rbuff) != 0)\n      abort ();\n-   utime = ((float) (rbuff.ru_utime).tv_sec +\n-\t   (float) (rbuff.ru_utime).tv_usec/1000000.0);\n+   utime = (float) (rbuff.ru_utime).tv_sec +\n+\t   (float) (rbuff.ru_utime).tv_usec/1000000.0;\n    tarray[0] = utime - (float) old_utime;\n-   stime = ((float) (rbuff.ru_stime).tv_sec +\n-\t   (float) (rbuff.ru_stime).tv_usec/1000000.0);\n+   stime = (float) (rbuff.ru_stime).tv_sec +\n+\t   (float) (rbuff.ru_stime).tv_usec/1000000.0;\n   tarray[1] = stime - old_stime;\n #else  /* HAVE_GETRUSAGE */\n+  time_t utime, stime;\n+  static time_t old_utime = 0, old_stime = 0;\n   struct tms buffer;\n \n /* NeXTStep seems to define _SC_CLK_TCK but not to have sysconf;"}]}