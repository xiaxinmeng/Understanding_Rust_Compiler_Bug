{"sha": "02a10130ff7e8ba65646253a4fea78aeef6ab5c2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDJhMTAxMzBmZjdlOGJhNjU2NDYyNTNhNGZlYTc4YWVlZjZhYjVjMg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2002-01-13T22:57:29Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-01-13T22:57:29Z"}, "message": "reload.c (find_reloads): Use a hard reg destination as reload reg for an input reload of the source.\n\n        * reload.c (find_reloads): Use a hard reg destination as reload reg\n        for an input reload of the source.\n\nFrom-SVN: r48822", "tree": {"sha": "cdb00d7ae5e8bd6bc909fd17b7eca220c7d0c493", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cdb00d7ae5e8bd6bc909fd17b7eca220c7d0c493"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/02a10130ff7e8ba65646253a4fea78aeef6ab5c2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/02a10130ff7e8ba65646253a4fea78aeef6ab5c2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/02a10130ff7e8ba65646253a4fea78aeef6ab5c2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/02a10130ff7e8ba65646253a4fea78aeef6ab5c2/comments", "author": null, "committer": null, "parents": [{"sha": "332a685b951775219ed01e637d4856d4c6f04c8b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/332a685b951775219ed01e637d4856d4c6f04c8b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/332a685b951775219ed01e637d4856d4c6f04c8b"}], "stats": {"total": 22, "additions": 22, "deletions": 0}, "files": [{"sha": "ee3047beb591f0758440a7f1c85e4b06e0b1d436", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02a10130ff7e8ba65646253a4fea78aeef6ab5c2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02a10130ff7e8ba65646253a4fea78aeef6ab5c2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=02a10130ff7e8ba65646253a4fea78aeef6ab5c2", "patch": "@@ -1,3 +1,8 @@\n+2002-01-13  Richard Henderson  <rth@redhat.com>\n+\n+\t* reload.c (find_reloads): Use a hard reg destination as reload reg\n+\tfor an input reload of the source.\n+\n 2002-01-13  Gerald Pfeifer  <pfeifer@dbai.tuwien.ac.at>\n \n \t* doc/install.texi (Binaries): Make link to ftp.writtenword.com"}, {"sha": "8f82c9341f5d0aff08fb3dbe8de8fc46e34fe8d2", "filename": "gcc/reload.c", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02a10130ff7e8ba65646253a4fea78aeef6ab5c2/gcc%2Freload.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02a10130ff7e8ba65646253a4fea78aeef6ab5c2/gcc%2Freload.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload.c?ref=02a10130ff7e8ba65646253a4fea78aeef6ab5c2", "patch": "@@ -4241,6 +4241,23 @@ find_reloads (insn, replace, ind_levels, live_known, reload_reg_p)\n       rld[i].nregs = CLASS_MAX_NREGS (rld[i].class, rld[i].mode);\n     }\n \n+  /* Special case a simple move with an input reload and a\n+     destination of a hard reg, if the hard reg is ok, use it.  */\n+  for (i = 0; i < n_reloads; i++)\n+    if (rld[i].when_needed == RELOAD_FOR_INPUT\n+\t&& GET_CODE (PATTERN (insn)) == SET\n+ \t&& GET_CODE (SET_DEST (PATTERN (insn))) == REG\n+ \t&& SET_SRC (PATTERN (insn)) == rld[i].in)\n+      {\n+ \trtx dest = SET_DEST (PATTERN (insn));\n+\tunsigned int regno = REGNO (dest);\n+\n+ \tif (regno < FIRST_PSEUDO_REGISTER\n+ \t    && TEST_HARD_REG_BIT (reg_class_contents[rld[i].class], regno)\n+ \t    && HARD_REGNO_MODE_OK (regno, rld[i].mode))\n+ \t  rld[i].reg_rtx = dest;\n+      }\n+\n   return retval;\n }\n "}]}