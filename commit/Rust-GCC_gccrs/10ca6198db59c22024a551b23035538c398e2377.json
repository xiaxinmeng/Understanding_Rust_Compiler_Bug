{"sha": "10ca6198db59c22024a551b23035538c398e2377", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTBjYTYxOThkYjU5YzIyMDI0YTU1MWIyMzAzNTUzOGMzOThlMjM3Nw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2009-12-09T09:13:43Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2009-12-09T09:13:43Z"}, "message": "configure.ac: Compute ld_ver...\n\n\t* configure.ac: Compute ld_ver, ld_vers, ld_date, ld_vers_major,\n\tld_vers_minor and ld_vers_path always, not just when gcc_cv_ld_hidden\n\tisn't cached.\n\t* configure: Regenerated.\n\nFrom-SVN: r155103", "tree": {"sha": "e49d361af64d555e89805eeded9c6a4288ff251a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e49d361af64d555e89805eeded9c6a4288ff251a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/10ca6198db59c22024a551b23035538c398e2377", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10ca6198db59c22024a551b23035538c398e2377", "html_url": "https://github.com/Rust-GCC/gccrs/commit/10ca6198db59c22024a551b23035538c398e2377", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10ca6198db59c22024a551b23035538c398e2377/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e34915db75a9e3cbf331a580586318d8430a9336", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e34915db75a9e3cbf331a580586318d8430a9336", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e34915db75a9e3cbf331a580586318d8430a9336"}], "stats": {"total": 47, "additions": 33, "deletions": 14}, "files": [{"sha": "e2bb149e1c8dd1df90c09d56544ab2c032639af7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10ca6198db59c22024a551b23035538c398e2377/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10ca6198db59c22024a551b23035538c398e2377/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=10ca6198db59c22024a551b23035538c398e2377", "patch": "@@ -1,3 +1,10 @@\n+2009-12-09  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* configure.ac: Compute ld_ver, ld_vers, ld_date, ld_vers_major,\n+\tld_vers_minor and ld_vers_path always, not just when gcc_cv_ld_hidden\n+\tisn't cached.\n+\t* configure: Regenerated.\n+\n 2009-12-08  Richard Henderson  <rth@redhat.com>\n \n \t* combine.c (setup_incoming_promotions): Fix sign-extend of"}, {"sha": "8c72a938e6e593b80f19a42360dce939513a0c55", "filename": "gcc/configure", "status": "modified", "additions": 12, "deletions": 7, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10ca6198db59c22024a551b23035538c398e2377/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10ca6198db59c22024a551b23035538c398e2377/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=10ca6198db59c22024a551b23035538c398e2377", "patch": "@@ -21155,6 +21155,18 @@ fi\n $as_echo \"$gcc_cv_as_hidden\" >&6; }\n \n \n+if test $in_tree_ld != yes ; then\n+  ld_ver=`$gcc_cv_ld --version 2>/dev/null | sed 1q`\n+  if echo \"$ld_ver\" | grep GNU > /dev/null; then\n+    ld_vers=`echo $ld_ver | sed -n \\\n+\t-e 's,^.*[\t ]\\([0-9][0-9]*\\.[0-9][0-9]*.*\\)$,\\1,p'`\n+    ld_date=`echo $ld_ver | sed -n 's,^.*\\([2-9][0-9][0-9][0-9]\\)[-]*\\([01][0-9]\\)[-]*\\([0-3][0-9]\\).*$,\\1\\2\\3,p'`\n+    ld_vers_major=`expr \"$ld_vers\" : '\\([0-9]*\\)'`\n+    ld_vers_minor=`expr \"$ld_vers\" : '[0-9]*\\.\\([0-9]*\\)'`\n+    ld_vers_patch=`expr \"$ld_vers\" : '[0-9]*\\.[0-9]*\\.\\([0-9]*\\)'`\n+  fi\n+fi\n+\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking linker for .hidden support\" >&5\n $as_echo_n \"checking linker for .hidden support... \" >&6; }\n if test \"${gcc_cv_ld_hidden+set}\" = set; then :\n@@ -21168,14 +21180,7 @@ else\n   fi\n else\n   gcc_cv_ld_hidden=yes\n-  ld_ver=`$gcc_cv_ld --version 2>/dev/null | sed 1q`\n   if echo \"$ld_ver\" | grep GNU > /dev/null; then\n-    ld_vers=`echo $ld_ver | sed -n \\\n-\t-e 's,^.*[\t ]\\([0-9][0-9]*\\.[0-9][0-9]*.*\\)$,\\1,p'`\n-    ld_date=`echo $ld_ver | sed -n 's,^.*\\([2-9][0-9][0-9][0-9]\\)[-]*\\([01][0-9]\\)[-]*\\([0-3][0-9]\\).*$,\\1\\2\\3,p'`\n-    ld_vers_major=`expr \"$ld_vers\" : '\\([0-9]*\\)'`\n-    ld_vers_minor=`expr \"$ld_vers\" : '[0-9]*\\.\\([0-9]*\\)'`\n-    ld_vers_patch=`expr \"$ld_vers\" : '[0-9]*\\.[0-9]*\\.\\([0-9]*\\)'`\n     if test 0\"$ld_date\" -lt 20020404; then\n       if test -n \"$ld_date\"; then\n \t# If there was date string, but was earlier than 2002-04-04, fail"}, {"sha": "6ea6d7a86685fa80fe1c63e3ef83a30a10850421", "filename": "gcc/configure.ac", "status": "modified", "additions": 14, "deletions": 7, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10ca6198db59c22024a551b23035538c398e2377/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10ca6198db59c22024a551b23035538c398e2377/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=10ca6198db59c22024a551b23035538c398e2377", "patch": "@@ -2111,6 +2111,20 @@ gcc_GAS_CHECK_FEATURE([.hidden], gcc_cv_as_hidden,\n [\t.hidden foobar\n foobar:])\n \n+changequote(,)dnl\n+if test $in_tree_ld != yes ; then\n+  ld_ver=`$gcc_cv_ld --version 2>/dev/null | sed 1q`\n+  if echo \"$ld_ver\" | grep GNU > /dev/null; then\n+    ld_vers=`echo $ld_ver | sed -n \\\n+\t-e 's,^.*[\t ]\\([0-9][0-9]*\\.[0-9][0-9]*.*\\)$,\\1,p'`\n+    ld_date=`echo $ld_ver | sed -n 's,^.*\\([2-9][0-9][0-9][0-9]\\)[-]*\\([01][0-9]\\)[-]*\\([0-3][0-9]\\).*$,\\1\\2\\3,p'`\n+    ld_vers_major=`expr \"$ld_vers\" : '\\([0-9]*\\)'`\n+    ld_vers_minor=`expr \"$ld_vers\" : '[0-9]*\\.\\([0-9]*\\)'`\n+    ld_vers_patch=`expr \"$ld_vers\" : '[0-9]*\\.[0-9]*\\.\\([0-9]*\\)'`\n+  fi\n+fi\n+changequote([,])dnl\n+\n AC_CACHE_CHECK(linker for .hidden support, gcc_cv_ld_hidden,\n [if test $in_tree_ld = yes ; then\n   gcc_cv_ld_hidden=no\n@@ -2121,14 +2135,7 @@ AC_CACHE_CHECK(linker for .hidden support, gcc_cv_ld_hidden,\n else\n changequote(,)dnl\n   gcc_cv_ld_hidden=yes\n-  ld_ver=`$gcc_cv_ld --version 2>/dev/null | sed 1q`\n   if echo \"$ld_ver\" | grep GNU > /dev/null; then\n-    ld_vers=`echo $ld_ver | sed -n \\\n-\t-e 's,^.*[\t ]\\([0-9][0-9]*\\.[0-9][0-9]*.*\\)$,\\1,p'`\n-    ld_date=`echo $ld_ver | sed -n 's,^.*\\([2-9][0-9][0-9][0-9]\\)[-]*\\([01][0-9]\\)[-]*\\([0-3][0-9]\\).*$,\\1\\2\\3,p'`\n-    ld_vers_major=`expr \"$ld_vers\" : '\\([0-9]*\\)'`\n-    ld_vers_minor=`expr \"$ld_vers\" : '[0-9]*\\.\\([0-9]*\\)'`\n-    ld_vers_patch=`expr \"$ld_vers\" : '[0-9]*\\.[0-9]*\\.\\([0-9]*\\)'`\n     if test 0\"$ld_date\" -lt 20020404; then\n       if test -n \"$ld_date\"; then\n \t# If there was date string, but was earlier than 2002-04-04, fail"}]}