{"sha": "55c19dda8c6c5fd40f1ec7ea4dd2f0c12d8c309f", "node_id": "C_kwDOANBUbNoAKDU1YzE5ZGRhOGM2YzVmZDQwZjFlYzdlYTRkZDJmMGMxMmQ4YzMwOWY", "commit": {"author": {"name": "Steve Baird", "email": "baird@adacore.com", "date": "2022-04-15T20:30:34Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2022-05-30T08:29:01Z"}, "message": "[Ada] Delete no-longer-used Convert_To_Return_False flag\n\nAs a result of other recent changes, the Convert_To_Return_False flag\nis never set. The flag can be therefore be deleted.\n\ngcc/ada/\n\n\t* exp_ch11.adb (Expand_N_Raise_Expression): Remove\n\tConvert_To_Return_False test.\n\t* gen_il-fields.ads: Remove Convert_To_Return_False field.\n\t* gen_il-gen-gen_nodes.adb: Remove use of\n\tConvert_To_Return_False field.\n\t* sinfo.ads: Remove comment describing Convert_To_Return_False\n\tflag.", "tree": {"sha": "9f6e028ab3dcb2dede90149e5cc2249afaa4f10c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9f6e028ab3dcb2dede90149e5cc2249afaa4f10c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/55c19dda8c6c5fd40f1ec7ea4dd2f0c12d8c309f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55c19dda8c6c5fd40f1ec7ea4dd2f0c12d8c309f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/55c19dda8c6c5fd40f1ec7ea4dd2f0c12d8c309f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55c19dda8c6c5fd40f1ec7ea4dd2f0c12d8c309f/comments", "author": {"login": "swbaird", "id": 50751052, "node_id": "MDQ6VXNlcjUwNzUxMDUy", "avatar_url": "https://avatars.githubusercontent.com/u/50751052?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swbaird", "html_url": "https://github.com/swbaird", "followers_url": "https://api.github.com/users/swbaird/followers", "following_url": "https://api.github.com/users/swbaird/following{/other_user}", "gists_url": "https://api.github.com/users/swbaird/gists{/gist_id}", "starred_url": "https://api.github.com/users/swbaird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swbaird/subscriptions", "organizations_url": "https://api.github.com/users/swbaird/orgs", "repos_url": "https://api.github.com/users/swbaird/repos", "events_url": "https://api.github.com/users/swbaird/events{/privacy}", "received_events_url": "https://api.github.com/users/swbaird/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "efaee961d935f8f4fb640d8445603fe52a9e247c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efaee961d935f8f4fb640d8445603fe52a9e247c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/efaee961d935f8f4fb640d8445603fe52a9e247c"}], "stats": {"total": 43, "additions": 8, "deletions": 35}, "files": [{"sha": "c60fe346fad0defc10caeb7206bd50d18573a78c", "filename": "gcc/ada/exp_ch11.adb", "status": "modified", "additions": 7, "deletions": 25, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/55c19dda8c6c5fd40f1ec7ea4dd2f0c12d8c309f/gcc%2Fada%2Fexp_ch11.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/55c19dda8c6c5fd40f1ec7ea4dd2f0c12d8c309f/gcc%2Fada%2Fexp_ch11.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch11.adb?ref=55c19dda8c6c5fd40f1ec7ea4dd2f0c12d8c309f", "patch": "@@ -1350,37 +1350,19 @@ package body Exp_Ch11 is\n       --     in\n       --       raise Constraint_Error;\n \n-      --  unless the flag Convert_To_Return_False is set, in which case\n-      --  the transformation is to:\n-\n-      --     do\n-      --       return False;\n-      --     in\n-      --       raise Constraint_Error;\n-\n       --  The raise constraint error can never be executed. It is just a dummy\n       --  node that can be labeled with an arbitrary type.\n \n       RCE := Make_Raise_Constraint_Error (Loc, Reason => CE_Explicit_Raise);\n       Set_Etype (RCE, Typ);\n \n-      if Convert_To_Return_False (N) then\n-         Rewrite (N,\n-           Make_Expression_With_Actions (Loc,\n-             Actions     => New_List (\n-               Make_Simple_Return_Statement (Loc,\n-                 Expression => New_Occurrence_Of (Standard_False, Loc))),\n-               Expression => RCE));\n-\n-      else\n-         Rewrite (N,\n-           Make_Expression_With_Actions (Loc,\n-             Actions     => New_List (\n-               Make_Raise_Statement (Loc,\n-                 Name       => Name (N),\n-                 Expression => Expression (N))),\n-               Expression => RCE));\n-      end if;\n+      Rewrite (N,\n+        Make_Expression_With_Actions (Loc,\n+          Actions     => New_List (\n+            Make_Raise_Statement (Loc,\n+              Name       => Name (N),\n+              Expression => Expression (N))),\n+            Expression => RCE));\n \n       Analyze_And_Resolve (N, Typ);\n    end Expand_N_Raise_Expression;"}, {"sha": "e188a6dae33b2a9a6be143abed7a197e2affce64", "filename": "gcc/ada/gen_il-fields.ads", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/55c19dda8c6c5fd40f1ec7ea4dd2f0c12d8c309f/gcc%2Fada%2Fgen_il-fields.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/55c19dda8c6c5fd40f1ec7ea4dd2f0c12d8c309f/gcc%2Fada%2Fgen_il-fields.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgen_il-fields.ads?ref=55c19dda8c6c5fd40f1ec7ea4dd2f0c12d8c309f", "patch": "@@ -118,7 +118,6 @@ package Gen_IL.Fields is\n       Contract_Test_Cases,\n       Controlling_Argument,\n       Conversion_OK,\n-      Convert_To_Return_False,\n       Corresponding_Aspect,\n       Corresponding_Body,\n       Corresponding_Entry_Body,"}, {"sha": "dd730f4207b843ec856d063b1ee182105fd6553b", "filename": "gcc/ada/gen_il-gen-gen_nodes.adb", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/55c19dda8c6c5fd40f1ec7ea4dd2f0c12d8c309f/gcc%2Fada%2Fgen_il-gen-gen_nodes.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/55c19dda8c6c5fd40f1ec7ea4dd2f0c12d8c309f/gcc%2Fada%2Fgen_il-gen-gen_nodes.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgen_il-gen-gen_nodes.adb?ref=55c19dda8c6c5fd40f1ec7ea4dd2f0c12d8c309f", "patch": "@@ -523,8 +523,7 @@ begin -- Gen_IL.Gen.Gen_Nodes\n \n    Cc (N_Raise_Expression, N_Subexpr,\n        (Sy (Name, Node_Id, Default_Empty),\n-        Sy (Expression, Node_Id, Default_Empty),\n-        Sm (Convert_To_Return_False, Flag)));\n+        Sy (Expression, Node_Id, Default_Empty)));\n \n    Cc (N_Range, N_Subexpr,\n        (Sy (Low_Bound, Node_Id),"}, {"sha": "da42ae51e6fde0e5609e8e7096f61b2348b140a9", "filename": "gcc/ada/sinfo.ads", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/55c19dda8c6c5fd40f1ec7ea4dd2f0c12d8c309f/gcc%2Fada%2Fsinfo.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/55c19dda8c6c5fd40f1ec7ea4dd2f0c12d8c309f/gcc%2Fada%2Fsinfo.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsinfo.ads?ref=55c19dda8c6c5fd40f1ec7ea4dd2f0c12d8c309f", "patch": "@@ -1005,12 +1005,6 @@ package Sinfo is\n    --    direct conversion of the underlying integer result, with no regard to\n    --    the small operand.\n \n-   --  Convert_To_Return_False\n-   --    Present in N_Raise_Expression nodes that appear in the body of the\n-   --    special predicateM function used to test a predicate in the context\n-   --    of a membership test, where raise expression results in returning a\n-   --    value of False rather than raising an exception.\n-\n    --  Corresponding_Aspect\n    --    Present in N_Pragma node. Used to point back to the source aspect from\n    --    the corresponding pragma. This field is Empty for source pragmas.\n@@ -6932,7 +6926,6 @@ package Sinfo is\n       --  Sloc points to RAISE\n       --  Name (always present)\n       --  Expression (set to Empty if no expression present)\n-      --  Convert_To_Return_False\n       --  plus fields for expression\n \n       -------------------------------"}]}