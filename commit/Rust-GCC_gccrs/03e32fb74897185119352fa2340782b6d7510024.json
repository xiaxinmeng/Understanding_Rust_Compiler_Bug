{"sha": "03e32fb74897185119352fa2340782b6d7510024", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDNlMzJmYjc0ODk3MTg1MTE5MzUyZmEyMzQwNzgyYjZkNzUxMDAyNA==", "commit": {"author": {"name": "Jeff Law", "email": "law@redhat.com", "date": "2018-06-27T18:30:06Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2018-06-27T18:30:06Z"}, "message": "v850-modes.def (CCZ, CCNZ): Add new modes.\n\n\t* config/v850/v850-modes.def (CCZ, CCNZ): Add new modes.\n\t* config/v850/v850.c (notice_update_cc): Remove.\n\t* config/v850/v850.h  (CC_OVERFLOW_UNUSABLE): Remove\n\t(CC_NO_CARRY): Likewise.\n\t(NOTICE_UPDATE_CC): Define to nothing.\n\t* config/v850/v850.md: Remove block comment on cc0 handling\n\tRemove \"cc\" attribute from all patterns.  Remove cc_status handling\n\tfrom all patterns.  Minor formatting fixes.\n\nCo-Authored-By: Austin Law <austinklaw@gmail.com>\n\nFrom-SVN: r262189", "tree": {"sha": "952b55d275c46e6f945596ce614864d94bd35fae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/952b55d275c46e6f945596ce614864d94bd35fae"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/03e32fb74897185119352fa2340782b6d7510024", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03e32fb74897185119352fa2340782b6d7510024", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03e32fb74897185119352fa2340782b6d7510024", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03e32fb74897185119352fa2340782b6d7510024/comments", "author": null, "committer": null, "parents": [{"sha": "8945521a50a7dd26ffebdee20a82e323141dfd8b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8945521a50a7dd26ffebdee20a82e323141dfd8b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8945521a50a7dd26ffebdee20a82e323141dfd8b"}], "stats": {"total": 481, "additions": 109, "deletions": 372}, "files": [{"sha": "d9abfff5d0c771403c6ad9481225a7440dabd34c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03e32fb74897185119352fa2340782b6d7510024/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03e32fb74897185119352fa2340782b6d7510024/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=03e32fb74897185119352fa2340782b6d7510024", "patch": "@@ -1,3 +1,15 @@\n+2018-06-27  Jeff Law  <law@redhat.com>\n+\t    Austin Law  <austinklaw@gmail.com>\n+\n+\t* config/v850/v850-modes.def (CCZ, CCNZ): Add new modes.\n+\t* config/v850/v850.c (notice_update_cc): Remove.\n+\t* config/v850/v850.h  (CC_OVERFLOW_UNUSABLE): Remove\n+\t(CC_NO_CARRY): Likewise.\n+\t(NOTICE_UPDATE_CC): Define to nothing.\n+\t* config/v850/v850.md: Remove block comment on cc0 handling\n+\tRemove \"cc\" attribute from all patterns.  Remove cc_status handling\n+\tfrom all patterns.  Minor formatting fixes.\n+\n 2018-06-27  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n \n \t* config/aarch64/aarch64-cores.def (cortex-a76): New entry."}, {"sha": "5503d6a526fb7d4e7a9193d384d4461ff3edd435", "filename": "gcc/config/v850/v850-modes.def", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03e32fb74897185119352fa2340782b6d7510024/gcc%2Fconfig%2Fv850%2Fv850-modes.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03e32fb74897185119352fa2340782b6d7510024/gcc%2Fconfig%2Fv850%2Fv850-modes.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fv850%2Fv850-modes.def?ref=03e32fb74897185119352fa2340782b6d7510024", "patch": "@@ -18,6 +18,8 @@\n    along with GCC; see the file COPYING3.  If not see\n    <http://www.gnu.org/licenses/>.  */\n \n+CC_MODE (CCZ);\n+CC_MODE (CCNZ);\n CC_MODE (CC_FPU_LT);\n CC_MODE (CC_FPU_LE);\n CC_MODE (CC_FPU_GT);"}, {"sha": "e184718e1ef02f9a0b5ddb390eea42ce1e17039d", "filename": "gcc/config/v850/v850.c", "status": "modified", "additions": 0, "deletions": 49, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03e32fb74897185119352fa2340782b6d7510024/gcc%2Fconfig%2Fv850%2Fv850.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03e32fb74897185119352fa2340782b6d7510024/gcc%2Fconfig%2Fv850%2Fv850.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fv850%2Fv850.c?ref=03e32fb74897185119352fa2340782b6d7510024", "patch": "@@ -1985,55 +1985,6 @@ expand_epilogue (void)\n   v850_interrupt_p = FALSE;\n }\n \n-/* Update the condition code from the insn.  */\n-void\n-notice_update_cc (rtx body, rtx_insn *insn)\n-{\n-  switch (get_attr_cc (insn))\n-    {\n-    case CC_NONE:\n-      /* Insn does not affect CC at all.  */\n-      break;\n-\n-    case CC_NONE_0HIT:\n-      /* Insn does not change CC, but the 0'th operand has been changed.  */\n-      if (cc_status.value1 != 0\n-\t  && reg_overlap_mentioned_p (recog_data.operand[0], cc_status.value1))\n-\tcc_status.value1 = 0;\n-      break;\n-\n-    case CC_SET_ZN:\n-      /* Insn sets the Z,N flags of CC to recog_data.operand[0].\n-\t V,C is in an unusable state.  */\n-      CC_STATUS_INIT;\n-      cc_status.flags |= CC_OVERFLOW_UNUSABLE | CC_NO_CARRY;\n-      cc_status.value1 = recog_data.operand[0];\n-      break;\n-\n-    case CC_SET_ZNV:\n-      /* Insn sets the Z,N,V flags of CC to recog_data.operand[0].\n-  \t C is in an unusable state.  */\n-      CC_STATUS_INIT;\n-      cc_status.flags |= CC_NO_CARRY;\n-      cc_status.value1 = recog_data.operand[0];\n-      break;\n-\n-    case CC_COMPARE:\n-      /* The insn is a compare instruction.  */\n-      CC_STATUS_INIT;\n-      cc_status.value1 = SET_SRC (body);\n-      break;\n-\n-    case CC_CLOBBER:\n-      /* Insn doesn't leave CC in a usable state.  */\n-      CC_STATUS_INIT;\n-      break;\n-\n-    default:\n-      break;\n-    }\n-}\n-\n /* Retrieve the data area that has been chosen for the given decl.  */\n \n v850_data_area"}, {"sha": "96bddc25801338e7453b6bba54c630ab91061eb6", "filename": "gcc/config/v850/v850.h", "status": "modified", "additions": 1, "deletions": 13, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03e32fb74897185119352fa2340782b6d7510024/gcc%2Fconfig%2Fv850%2Fv850.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03e32fb74897185119352fa2340782b6d7510024/gcc%2Fconfig%2Fv850%2Fv850.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fv850%2Fv850.h?ref=03e32fb74897185119352fa2340782b6d7510024", "patch": "@@ -567,19 +567,7 @@ struct cum_arg { int nbytes; };\n \n #define SELECT_CC_MODE(OP, X, Y)       v850_select_cc_mode (OP, X, Y)\n \n-/* Tell final.c how to eliminate redundant test instructions.  */\n-\n-/* Here we define machine-dependent flags and fields in cc_status\n-   (see `conditions.h').  No extra ones are needed for the VAX.  */\n-\n-/* Store in cc_status the expressions\n-   that the condition codes will describe\n-   after execution of an instruction whose pattern is EXP.\n-   Do not alter them if the instruction would not alter the cc's.  */\n-\n-#define CC_OVERFLOW_UNUSABLE 0x200\n-#define CC_NO_CARRY CC_NO_OVERFLOW\n-#define NOTICE_UPDATE_CC(EXP, INSN) notice_update_cc(EXP, INSN)\n+#define NOTICE_UPDATE_CC(EXP, INSN)\n \n /* Nonzero if access to memory by bytes or half words is no faster\n    than accessing full words.  */"}, {"sha": "0fad9ea501dec8e003f2baa615dffc7f3326d3b4", "filename": "gcc/config/v850/v850.md", "status": "modified", "additions": 94, "deletions": 310, "changes": 404, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03e32fb74897185119352fa2340782b6d7510024/gcc%2Fconfig%2Fv850%2Fv850.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03e32fb74897185119352fa2340782b6d7510024/gcc%2Fconfig%2Fv850%2Fv850.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fv850%2Fv850.md?ref=03e32fb74897185119352fa2340782b6d7510024", "patch": "@@ -81,17 +81,6 @@\n \t (const_string \"v850e3v5\")]\t \n \t (const_string \"none\")))\n \n-;; Condition code settings.\n-;; none - insn does not affect cc\n-;; none_0hit - insn does not affect cc but it does modify operand 0\n-;;\tThis attribute is used to keep track of when operand 0 changes.\n-;; \tSee the description of NOTICE_UPDATE_CC for more info.\n-;; set_znv - sets z,n,v to usable values; c is unknown.\n-;; set_zn  - sets z,n to usable values; v,c is unknown.\n-;; compare - compare instruction\n-;; clobber - value of cc is unknown\n-(define_attr \"cc\" \"none,none_0hit,set_z,set_zn,set_znv,compare,clobber\"\n-  (const_string \"clobber\"))\n \f\n ;; Function units for the V850.  As best as I can tell, there's\n ;; a traditional memory load/use stall as well as a stall if\n@@ -120,8 +109,7 @@\n \t\t\t (match_operand 2 \"disp23_operand\" \"W\")))))]\n   \"TARGET_V850E2V3_UP\"\n   \"ld.b %2[%1],%0\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")])\n+  [(set_attr \"length\" \"4\")])\n   \n (define_insn \"unsign23byte_load\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n@@ -130,8 +118,7 @@\n \t\t\t (match_operand 2 \"disp23_operand\" \"W\")))))]\n   \"TARGET_V850E2V3_UP\"\n   \"ld.bu %2[%1],%0\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")])\n+  [(set_attr \"length\" \"4\")])\n \n (define_insn \"sign23hword_load\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n@@ -140,8 +127,7 @@\n \t\t\t (match_operand 2 \"disp23_operand\" \"W\")))))]\n   \"TARGET_V850E2V3_UP\"\n   \"ld.h %2[%1],%0\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")])\n+  [(set_attr \"length\" \"4\")])\n \n (define_insn \"unsign23hword_load\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n@@ -150,44 +136,39 @@\n \t\t\t (match_operand 2 \"disp23_operand\" \"W\")))))]\n   \"TARGET_V850E2V3_UP\"\n   \"ld.hu %2[%1],%0\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")])\n+  [(set_attr \"length\" \"4\")])\n \n (define_insn \"23word_load\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n \t(mem:SI (plus:SI (match_operand:SI 1 \"register_operand\" \"r\")\n \t\t\t (match_operand 2 \"disp23_operand\" \"W\"))))]\n   \"TARGET_V850E2V3_UP\"\n   \"ld.w %2[%1],%0\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")])\n+  [(set_attr \"length\" \"4\")])\n \n (define_insn \"23byte_store\"\n   [(set (mem:QI (plus:SI (match_operand:SI 0 \"register_operand\" \"r\")\n \t\t\t (match_operand 1 \"disp23_operand\" \"W\")))\n \t(match_operand:QI 2 \"register_operand\" \"r\"))]\n   \"TARGET_V850E2V3_UP\"\n   \"st.b %2,%1[%0]\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")])\n+  [(set_attr \"length\" \"4\")])\n \n (define_insn \"23hword_store\"\n   [(set (mem:HI (plus:SI (match_operand:SI 0 \"register_operand\" \"r\")\n \t\t\t (match_operand 1 \"disp23_operand\" \"W\")))\n \t(match_operand:HI 2 \"register_operand\" \"r\"))]\n   \"TARGET_V850E2V3_UP\"\n   \"st.h %2,%1[%0]\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")])\n+  [(set_attr \"length\" \"4\")])\n \n (define_insn \"23word_store\"\n   [(set (mem:SI (plus:SI (match_operand:SI 0 \"register_operand\" \"r\")\n \t\t\t (match_operand 1 \"disp23_operand\" \"W\")))\n \t(match_operand:SI 2 \"register_operand\" \"r\"))]\n   \"TARGET_V850E2V3_UP\"\n   \"st.w %2,%1[%0]\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")])\n+  [(set_attr \"length\" \"4\")])\n \n ;; movdi\n \n@@ -221,9 +202,7 @@\n    || (register_operand (operands[0], DImode) && register_operand (operands[1], DImode))\"\n   { return v850_gen_movdi (operands); }\n   [(set_attr \"length\" \"4,12,12\")\n-   (set_attr \"cc\" \"none_0hit\")\n-   (set_attr \"type\" \"other,load,store\")]\n-)\n+   (set_attr \"type\" \"other,load,store\")])\n \n ;; movqi\n \n@@ -247,7 +226,6 @@\n   return output_move_single (operands);\n }\n   [(set_attr \"length\" \"2,4,2,2,4,4,4\")\n-   (set_attr \"cc\" \"none_0hit,none_0hit,none_0hit,none_0hit,none_0hit,none_0hit,none_0hit\")\n    (set_attr \"type\" \"other,other,load,other,load,store,store\")])\n \n ;; movhi\n@@ -272,7 +250,6 @@\n   return output_move_single (operands);\n }\n   [(set_attr \"length\" \"2,4,2,2,4,4,4\")\n-   (set_attr \"cc\" \"none_0hit,none_0hit,none_0hit,none_0hit,none_0hit,none_0hit,none_0hit\")\n    (set_attr \"type\" \"other,other,load,other,load,store,store\")])\n \n ;; movsi and helpers\n@@ -283,7 +260,6 @@\n   \"\"\n   \"movhi hi(%1),%.,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"other\")])\n \n (define_insn \"*movsi_lo\"\n@@ -293,7 +269,6 @@\n   \"\"\n   \"movea lo(%2),%1,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"other\")])\n \n (define_expand \"movsi\"\n@@ -348,7 +323,6 @@\n   return output_move_single (operands);\n }\n   [(set_attr \"length\" \"2,4,4,2,2,4,4,4,4,6\")\n-   (set_attr \"cc\" \"none_0hit,none_0hit,none_0hit,none_0hit,none_0hit,none_0hit,none_0hit,none_0hit,none_0hit,none_0hit\")\n    (set_attr \"type\" \"other,other,other,load,other,load,other,store,store,other\")])\n \n (define_insn \"*movsi_internal\"\n@@ -360,7 +334,6 @@\n   return output_move_single (operands);\n }\n   [(set_attr \"length\" \"2,4,4,2,2,4,4,4,4\")\n-   (set_attr \"cc\" \"none_0hit,none_0hit,none_0hit,none_0hit,none_0hit,none_0hit,none_0hit,none_0hit,none_0hit\")\n    (set_attr \"type\" \"other,other,other,load,other,load,store,store,other\")])\n \n (define_insn \"*movsf_internal\"\n@@ -372,7 +345,6 @@\n   return output_move_single (operands);\n }\n   [(set_attr \"length\" \"2,4,4,8,2,2,4,4,4,8\")\n-   (set_attr \"cc\" \"none_0hit,none_0hit,none_0hit,none_0hit,none_0hit,none_0hit,none_0hit,none_0hit,none_0hit,none_0hit\")\n    (set_attr \"type\" \"other,other,other,other,load,other,load,store,store,other\")])\n \n ;; ----------------------------------------------------------------------\n@@ -387,8 +359,7 @@\n \t\t (const_int 0)))]\n   \"\"\n   \"tst1 %1,%0\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"clobber\")])\n+  [(set_attr \"length\" \"4\")])\n \n ;; This replaces ld.b;sar;andi with tst1;setf nz.\n \n@@ -445,8 +416,7 @@\n   \"@\n   cmp %1,%0\n   cmp %1,%0\"\n-  [(set_attr \"length\" \"2,2\")\n-   (set_attr \"cc\" \"compare\")])\n+  [(set_attr \"length\" \"2,2\")])\n \n (define_expand \"cbranchsf4\"\n   [(set (pc)\n@@ -499,8 +469,7 @@\n   gcc_unreachable ();\n }\n   [(set_attr \"length\" \"12\")\n-   (set_attr \"type\" \"fpu\")]\n-)\n+   (set_attr \"type\" \"fpu\")])\n \n (define_expand \"cbranchdf4\"\n   [(set (pc)\n@@ -553,8 +522,7 @@\n   gcc_unreachable ();\n }\n   [(set_attr \"length\" \"12\")\n-   (set_attr \"type\" \"fpu\")]\n-)\n+   (set_attr \"type\" \"fpu\")])\n \n (define_expand \"cmpsf\"\n   [(set (reg:CC CC_REGNUM)\n@@ -593,8 +561,7 @@\n    add %2,%0\n    addi %2,%1,%0\n    addi %O2(%P2),%1,%0\"\n-  [(set_attr \"length\" \"2,4,4\")\n-   (set_attr \"cc\" \"set_zn,set_zn,set_zn\")])\n+  [(set_attr \"length\" \"2,4,4\")])\n \n ;; ----------------------------------------------------------------------\n ;; SUBTRACT INSTRUCTIONS\n@@ -609,17 +576,15 @@\n   \"@\n   sub %2,%0\n   subr %1,%0\"\n-  [(set_attr \"length\" \"2,2\")\n-   (set_attr \"cc\" \"set_zn,set_zn\")])\n+  [(set_attr \"length\" \"2,2\")])\n \n (define_insn \"negsi2\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n \t(neg:SI (match_operand:SI 1 \"register_operand\" \"0\")))\n    (clobber (reg:CC CC_REGNUM))]\n   \"\"\n   \"subr %.,%0\"\n-  [(set_attr \"length\" \"2\")\n-   (set_attr \"cc\" \"set_zn\")])\n+  [(set_attr \"length\" \"2\")])\n \n ;; ----------------------------------------------------------------------\n ;; MULTIPLY INSTRUCTIONS\n@@ -647,7 +612,6 @@\n   \"\"\n   \"mulh %2,%0\"\n   [(set_attr \"length\" \"2\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"mult\")])\n \n (define_insn \"mulhisi3_internal2\"\n@@ -660,7 +624,6 @@\n    mulh %2,%0\n    mulhi %2,%1,%0\"\n   [(set_attr \"length\" \"2,4\")\n-   (set_attr \"cc\" \"none_0hit,none_0hit\")\n    (set_attr \"type\" \"mult\")])\n \n ;; ??? The scheduling info is probably wrong.\n@@ -680,7 +643,6 @@\n   \"(TARGET_V850E_UP)\"\n   \"mul %2,%1,%.\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"mult\")])\n \n ;; ----------------------------------------------------------------------\n@@ -709,7 +671,6 @@\n     return \"div %2,%0,%3\";\n }\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"clobber\")\n    (set_attr \"type\" \"div\")])\n \t\n (define_insn \"udivmodsi4\"\n@@ -728,7 +689,6 @@\n     return \"divu %2,%0,%3\";\n }\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"clobber\")\n    (set_attr \"type\" \"div\")])\n \t\n ;; ??? There is a 2 byte instruction for generating only the quotient.\n@@ -745,7 +705,6 @@\n   \"TARGET_V850E_UP\"\n   \"sxh %0\\n\\tdivh %2,%0,%3\"\n   [(set_attr \"length\" \"6\")\n-   (set_attr \"cc\" \"clobber\")\n    (set_attr \"type\" \"div\")])\n \n ;; The half word needs to be zero/sign extended to 32 bits before doing\n@@ -762,7 +721,6 @@\n   \"TARGET_V850E_UP\"\n   \"zxh %0\\n\\tdivhu %2,%0,%3\"\n   [(set_attr \"length\" \"6\")\n-   (set_attr \"cc\" \"clobber\")\n    (set_attr \"type\" \"div\")])\n \f\n ;; ----------------------------------------------------------------------\n@@ -784,7 +742,6 @@\n   return \"\";\n }\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"clobber\")\n    (set_attr \"type\" \"bit1\")])\n \n (define_insn \"*v850_clr1_2\"\n@@ -806,7 +763,6 @@\n   return \"\";\n }\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"clobber\")\n    (set_attr \"type\" \"bit1\")])\n \n (define_insn \"*v850_clr1_3\"\n@@ -827,7 +783,6 @@\n   return \"\";\n }\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"clobber\")\n    (set_attr \"type\" \"bit1\")])\n \n (define_insn \"andsi3\"\n@@ -840,8 +795,7 @@\n   and %2,%0\n   and %.,%0\n   andi %2,%1,%0\"\n-  [(set_attr \"length\" \"2,2,4\")\n-   (set_attr \"cc\" \"set_zn\")])\n+  [(set_attr \"length\" \"2,2,4\")])\n \n ;; ----------------------------------------------------------------------\n ;; OR INSTRUCTIONS\n@@ -855,7 +809,6 @@\n   \"\"\n   \"set1 %M1,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"clobber\")\n    (set_attr \"type\" \"bit1\")])\n \n (define_insn \"*v850_set1_2\"\n@@ -880,7 +833,6 @@\n   return \"\";\n }\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"clobber\")\n    (set_attr \"type\" \"bit1\")])\n \n (define_insn \"*v850_set1_3\"\n@@ -906,7 +858,6 @@\n   return \"\";\n }\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"clobber\")\n    (set_attr \"type\" \"bit1\")])\n \n (define_insn \"iorsi3\"\n@@ -919,8 +870,7 @@\n   or %2,%0\n   or %.,%0\n   ori %2,%1,%0\"\n-  [(set_attr \"length\" \"2,2,4\")\n-   (set_attr \"cc\" \"set_zn\")])\n+  [(set_attr \"length\" \"2,2,4\")])\n \n ;; ----------------------------------------------------------------------\n ;; XOR INSTRUCTIONS\n@@ -934,7 +884,6 @@\n   \"\"\n   \"not1 %M1,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"clobber\")\n    (set_attr \"type\" \"bit1\")])\n \n (define_insn \"*v850_not1_2\"\n@@ -959,7 +908,6 @@\n   return \"\";\n }\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"clobber\")\n    (set_attr \"type\" \"bit1\")])\n \n (define_insn \"*v850_not1_3\"\n@@ -985,7 +933,6 @@\n   return \"\";\n }\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"clobber\")\n    (set_attr \"type\" \"bit1\")])\n \n (define_insn \"xorsi3\"\n@@ -998,8 +945,7 @@\n   xor %2,%0\n   xor %.,%0\n   xori %2,%1,%0\"\n-  [(set_attr \"length\" \"2,2,4\")\n-   (set_attr \"cc\" \"set_zn\")])\n+  [(set_attr \"length\" \"2,2,4\")])\n \f\n ;; ----------------------------------------------------------------------\n ;; NOT INSTRUCTIONS\n@@ -1011,8 +957,7 @@\n    (clobber (reg:CC CC_REGNUM))]\n   \"\"\n   \"not %1,%0\"\n-  [(set_attr \"length\" \"2\")\n-   (set_attr \"cc\" \"set_zn\")])\n+  [(set_attr \"length\" \"2\")])\n \n ;; -----------------------------------------------------------------\n ;; BIT FIELDS\n@@ -1035,9 +980,7 @@\n \t(match_operand:SI 3 \"register_operand\" \"r\"))]\n   \"TARGET_V850E3V5_UP\"\n   \"bins %3, %2, %1, %0\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"set_zn\")]\n-)\n+  [(set_attr \"length\" \"4\")])\n \n ;; -----------------------------------------------------------------\n ;; Scc INSTRUCTIONS\n@@ -1048,43 +991,30 @@\n         (match_operator:SI 1 \"comparison_operator\"\n \t [(cc0) (const_int 0)]))]\n   \"\"\n-{\n-  if ((cc_status.flags & CC_OVERFLOW_UNUSABLE) != 0\n-      && (GET_CODE (operands[1]) == GT\n-\t  || GET_CODE (operands[1]) == GE\n-\t  || GET_CODE (operands[1]) == LE\n-\t  || GET_CODE (operands[1]) == LT))\n-    return 0;\n-\n-  return \"setf %c1,%0\";\n-}\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")])\n+  \"setf %c1,%0\"\n+  [(set_attr \"length\" \"4\")])\n \n (define_insn \"setf_insn\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n \t(match_operator:SI 1 \"comparison_operator\"\n                           [(reg:CC CC_REGNUM) (const_int 0)]))]\n   \"\"\n   \"setf %b1,%0\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")])\n+  [(set_attr \"length\" \"4\")])\n \n (define_insn \"set_z_insn\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n \t(match_operand 1 \"v850_float_z_comparison_operator\" \"\"))]\n   \"TARGET_V850E2V3_UP\"\n   \"setf z,%0\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")])\n+  [(set_attr \"length\" \"4\")])\n \n (define_insn \"set_nz_insn\" \n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n \t(match_operand 1 \"v850_float_nz_comparison_operator\" \"\"))]\n   \"TARGET_V850E2V3_UP\"\n   \"setf nz,%0\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")])\n+  [(set_attr \"length\" \"4\")])\n \n ;; ----------------------------------------------------------------------\n ;; CONDITIONAL MOVE INSTRUCTIONS\n@@ -1150,8 +1080,7 @@\n          (match_operand:SI 3 \"reg_or_0_operand\" \"rI\")))]\n   \"(TARGET_V850E_UP)\"\n   \"cmov %c1,%2,%z3,%0\";\n-  [(set_attr \"length\" \"6\")\n-   (set_attr \"cc\" \"compare\")])\n+  [(set_attr \"length\" \"6\")])\n \n (define_insn \"movsicc_reversed_cc\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n@@ -1162,8 +1091,7 @@\n          (match_operand:SI 3 \"reg_or_int5_operand\" \"rJ\")))]\n   \"(TARGET_V850E_UP)\"\n   \"cmov %C1,%3,%z2,%0\"\n-  [(set_attr \"length\" \"6\")\n-   (set_attr \"cc\" \"compare\")])\n+  [(set_attr \"length\" \"6\")])\n \n (define_insn \"*movsicc_normal\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n@@ -1175,8 +1103,7 @@\n \t (match_operand:SI 3 \"reg_or_0_operand\" \"rI\")))]\n   \"(TARGET_V850E_UP)\"\n   \"cmp %5,%4 ; cmov %c1,%2,%z3,%0\"\n-  [(set_attr \"length\" \"6\")\n-   (set_attr \"cc\" \"clobber\")])\n+  [(set_attr \"length\" \"6\")])\n \n (define_insn \"*movsicc_reversed\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n@@ -1188,8 +1115,7 @@\n \t (match_operand:SI 3 \"reg_or_int5_operand\" \"rJ\")))]\n   \"(TARGET_V850E_UP)\"\n   \"cmp %5,%4 ; cmov %C1,%3,%z2,%0\"\n-  [(set_attr \"length\" \"6\")\n-   (set_attr \"cc\" \"clobber\")])\n+  [(set_attr \"length\" \"6\")])\n \n (define_insn \"*movsicc_tst1\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n@@ -1204,8 +1130,7 @@\n \t (match_operand:SI 5 \"reg_or_0_operand\" \"rI\")))]\n   \"(TARGET_V850E_UP)\"\n   \"tst1 %3,%2 ; cmov %c1,%4,%z5,%0\"\n-  [(set_attr \"length\" \"8\")\n-   (set_attr \"cc\" \"clobber\")])\n+  [(set_attr \"length\" \"8\")])\n \n (define_insn \"*movsicc_tst1_reversed\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n@@ -1220,8 +1145,7 @@\n \t (match_operand:SI 5 \"reg_or_int5_operand\" \"rJ\")))]\n   \"(TARGET_V850E_UP)\"\n   \"tst1 %3,%2 ; cmov %C1,%5,%z4,%0\"\n-  [(set_attr \"length\" \"8\")\n-   (set_attr \"cc\" \"clobber\")])\n+  [(set_attr \"length\" \"8\")])\n \n ;; Matching for sasf requires combining 4 instructions, so we provide a\n ;; dummy pattern to match the first 3, which will always be turned into the\n@@ -1239,8 +1163,7 @@\n    (clobber (reg:CC CC_REGNUM))]\n   \"(TARGET_V850E_UP)\"\n   \"cmp %4,%3 ; sasf %c1,%0\"\n-  [(set_attr \"length\" \"6\")\n-   (set_attr \"cc\" \"clobber\")])\n+  [(set_attr \"length\" \"6\")])\n \n (define_split\n   [(set (match_operand:SI 0 \"register_operand\" \"\")\n@@ -1293,8 +1216,7 @@\n    (clobber (reg:CC CC_REGNUM))]\n   \"(TARGET_V850E_UP)\"\n   \"bsh %1,%0\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"clobber\")])\n+  [(set_attr \"length\" \"4\")])\n \n (define_expand \"rotlsi3\"\n   [(parallel [(set (match_operand:SI 0 \"register_operand\" \"\")\n@@ -1316,9 +1238,7 @@\n \t(match_operand:SI 3 \"const_int_operand\" \"n\"))]))]\n   \"TARGET_V850E3V5_UP && (INTVAL (operands[2]) + INTVAL (operands[3]) == 32)\"\n   \"rotl %2, %1, %0\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"set_zn\")]\n-)\n+  [(set_attr \"length\" \"4\")])\n \n (define_insn \"rotlsi3_b\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n@@ -1329,9 +1249,7 @@\n \t\t   (match_operand:SI 2 \"const_int_operand\" \"n\"))]))]\n   \"TARGET_V850E3V5_UP && (INTVAL (operands[2]) + INTVAL (operands[3]) == 32)\"\n   \"rotl %2, %1, %0\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"set_zn\")]\n-)\n+  [(set_attr \"length\" \"4\")])\n \n (define_insn \"rotlsi3_v850e3v5\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n@@ -1340,9 +1258,7 @@\n \t      (clobber (reg:CC CC_REGNUM))]\n   \"TARGET_V850E3V5_UP\"\n   \"rotl %2, %1, %0\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"set_zn\")]\n-)\n+  [(set_attr \"length\" \"4\")])\n \n (define_insn \"*rotlsi3_16\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n@@ -1351,8 +1267,7 @@\n    (clobber (reg:CC CC_REGNUM))]\n   \"(TARGET_V850E_UP)\"\n   \"hsw %1,%0\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"clobber\")])\n+  [(set_attr \"length\" \"4\")])\n \n ;; ----------------------------------------------------------------------\n ;; JUMP INSTRUCTIONS\n@@ -1384,9 +1299,7 @@\n     default: gcc_unreachable ();\n     }\n   }\n-  [(set_attr \"length\" \"2,6\")\n-   (set_attr \"cc\" \"none\")]\n-)\n+  [(set_attr \"length\" \"2,6\")])\n \n (define_expand \"doloop_end\"\n  [(use (match_operand 0 \"\" \"\"))        ; loop pseudo\n@@ -1432,8 +1345,7 @@\n        (if_then_else (lt (abs (minus (match_dup 0) (pc)))\n \t\t     (const_int 65534))\n \t\t     (const_int 4)\n-\t\t     (const_int 14)))\n-  (set_attr \"cc\" \"none\")])\n+\t\t     (const_int 14)))])\n \n ;; Conditional jump instructions\n \n@@ -1445,13 +1357,6 @@\n \t\t      (pc)))]\n   \"\"\n {\n-  if ((cc_status.flags & CC_OVERFLOW_UNUSABLE) != 0\n-      && (GET_CODE (operands[1]) == GT\n-\t  || GET_CODE (operands[1]) == GE\n-\t  || GET_CODE (operands[1]) == LE\n-\t  || GET_CODE (operands[1]) == LT))\n-    return 0;\n-\n   if (get_attr_length (insn) == 2)\n     return \"b%b1 %l0\";\n   if (TARGET_V850E3V5_UP && get_attr_length (insn) == 4)\n@@ -1465,8 +1370,7 @@\n \t\t  (if_then_else (lt (abs (minus (match_dup 0) (pc)))\n \t\t      (const_int 65536))\n \t\t      (const_int 4)\n-\t\t      (const_int 6))))\n-  (set_attr \"cc\" \"none\")])\n+\t\t      (const_int 6))))])\n \n (define_insn \"*branch_invert\"\n   [(set (pc)\n@@ -1476,13 +1380,6 @@\n \t\t      (label_ref (match_operand 0 \"\" \"\"))))]\n   \"\"\n {\n-  if ((cc_status.flags & CC_OVERFLOW_UNUSABLE) != 0\n-      && (GET_CODE (operands[1]) == GT\n-\t  || GET_CODE (operands[1]) == GE\n-\t  || GET_CODE (operands[1]) == LE\n-\t  || GET_CODE (operands[1]) == LT))\n-    return NULL;\n-\n   if (get_attr_length (insn) == 2)\n     return \"b%B1 %l0\";\n \n@@ -1498,8 +1395,7 @@\n \t\t  (if_then_else (lt (abs (minus (match_dup 0) (pc)))\n \t\t      (const_int 65536))\n \t\t      (const_int 4)\n-\t\t      (const_int 6))))\n-  (set_attr \"cc\" \"none\")])\n+\t\t      (const_int 6))))])\n \n (define_insn \"branch_z_normal\"\t\n   [(set (pc)\n@@ -1523,8 +1419,7 @@\n \t\t  (if_then_else (lt (abs (minus (match_dup 0) (pc)))\n \t\t      (const_int 65536))\n \t\t      (const_int 4)\n-\t\t      (const_int 6))))\n-  (set_attr \"cc\" \"none\")])\n+\t\t      (const_int 6))))])\n \n (define_insn \"*branch_z_invert\"\n   [(set (pc)\n@@ -1548,8 +1443,7 @@\n \t\t  (if_then_else (lt (abs (minus (match_dup 0) (pc)))\n \t\t      (const_int 65536))\n \t\t      (const_int 4)\n-\t\t      (const_int 6))))\n-  (set_attr \"cc\" \"none\")])\n+\t\t      (const_int 6))))])\n \n (define_insn \"branch_nz_normal\"\n   [(set (pc)\n@@ -1573,8 +1467,7 @@\n \t\t  (if_then_else (lt (abs (minus (match_dup 0) (pc)))\n \t\t      (const_int 65536))\n \t\t      (const_int 4)\n-\t\t      (const_int 6))))\n-  (set_attr \"cc\" \"none\")])\n+\t\t      (const_int 6))))])\n \n (define_insn \"*branch_nz_invert\"\n   [(set (pc)\n@@ -1598,8 +1491,7 @@\n \t\t  (if_then_else (lt (abs (minus (match_dup 0) (pc)))\n \t\t      (const_int 65536))\n \t\t      (const_int 4)\n-\t\t      (const_int 6))))\n-  (set_attr \"cc\" \"none\")])\n+\t\t      (const_int 6))))])\n \n ;; Unconditional and other jump instructions.\n \n@@ -1617,23 +1509,20 @@\n     (if_then_else (lt (abs (minus (match_dup 0) (pc)))\n \t\t      (const_int 256))\n \t\t  (const_int 2)\n-\t\t  (const_int 4)))\n-  (set_attr \"cc\" \"none\")])\n+\t\t  (const_int 4)))])\n \n (define_insn \"indirect_jump\"\n   [(set (pc) (match_operand:SI 0 \"register_operand\" \"r\"))]\n   \"\"\n   \"jmp %0\"\n-  [(set_attr \"length\" \"2\")\n-   (set_attr \"cc\" \"none\")])\n+  [(set_attr \"length\" \"2\")])\n \n (define_insn \"tablejump\"\n   [(set (pc) (match_operand:SI 0 \"register_operand\" \"r\"))\n    (use (label_ref (match_operand 1 \"\" \"\")))]\n   \"\"\n   \"jmp  %0\"\n-  [(set_attr \"length\" \"2\")\n-   (set_attr \"cc\" \"none\")])\n+  [(set_attr \"length\" \"2\")])\n \n (define_insn \"switch\"\n   [(set (pc)\n@@ -1646,8 +1535,7 @@\n \t(label_ref (match_dup 1))))]\n   \"(TARGET_V850E_UP)\"\n   \"switch %0\"\n-  [(set_attr \"length\" \"2\")\n-   (set_attr \"cc\" \"none\")])\n+  [(set_attr \"length\" \"2\")])\n \n (define_expand \"casesi\"\n   [(match_operand:SI 0 \"register_operand\" \"\")\n@@ -1727,9 +1615,7 @@\n \n     return \"jarl %0, r31\";\n   }\n-  [(set_attr \"length\" \"4,8\")\n-   (set_attr \"cc\" \"clobber,clobber\")]\n-)\n+  [(set_attr \"length\" \"4,8\")])\n \n (define_insn \"call_internal_long\"\n   [(call (mem:QI (match_operand:SI 0 \"call_address_operand\" \"S,r\"))\n@@ -1753,9 +1639,7 @@\n \n   return \"jarl .+4,r31 ; add 4,r31 ; jmp %0\";\n }\n-  [(set_attr \"length\" \"16,8\")\n-   (set_attr \"cc\" \"clobber,clobber\")]\n-)\n+  [(set_attr \"length\" \"16,8\")])\n \n ;; Call subroutine, returning value in operand 0\n ;; (which must be a hard register).\n@@ -1797,9 +1681,7 @@\n \n     return \"jarl %1, r31\";\n   }\n-  [(set_attr \"length\" \"4,8\")\n-   (set_attr \"cc\" \"clobber,clobber\")]\n-)\n+  [(set_attr \"length\" \"4,8\")])\n \n (define_insn \"call_value_internal_long\"\n   [(set (match_operand 0 \"\" \"=r,r\")\n@@ -1825,16 +1707,13 @@\n \n   return \"jarl .+4, r31 ; add 4, r31 ; jmp %1\";\n }\n-  [(set_attr \"length\" \"16,8\")\n-   (set_attr \"cc\" \"clobber,clobber\")]\n-)\n+  [(set_attr \"length\" \"16,8\")])\n \n (define_insn \"nop\"\n   [(const_int 0)]\n   \"\"\n   \"nop\"\n-  [(set_attr \"length\" \"2\")\n-   (set_attr \"cc\" \"none\")])\n+  [(set_attr \"length\" \"2\")])\n \f\n ;; ----------------------------------------------------------------------\n ;; EXTEND INSTRUCTIONS\n@@ -1851,8 +1730,7 @@\n    andi 65535,%1,%0\n    sld.hu %1,%0\n    ld.hu %1,%0\"\n-  [(set_attr \"length\" \"2,4,2,4\")\n-   (set_attr \"cc\" \"none_0hit,set_zn,none_0hit,none_0hit\")])\n+  [(set_attr \"length\" \"2,4,2,4\")])\n \n (define_insn \"*zero_extendhisi2_v850\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n@@ -1861,8 +1739,7 @@\n    (clobber (reg:CC CC_REGNUM))]  ;; A lie, but we have to match the expander\n   \"\"\n   \"andi 65535,%1,%0\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"set_zn\")])\n+  [(set_attr \"length\" \"4\")])\n \n (define_expand \"zero_extendhisi2\"\n   [(parallel [(set (match_operand:SI 0 \"register_operand\")\n@@ -1886,8 +1763,7 @@\n    andi 255,%1,%0\n    sld.bu %1,%0\n    ld.bu %1,%0\"\n-  [(set_attr \"length\" \"2,4,2,4\")\n-   (set_attr \"cc\" \"none_0hit,set_zn,none_0hit,none_0hit\")])\n+  [(set_attr \"length\" \"2,4,2,4\")])\n \n (define_insn \"*zero_extendqisi2_v850\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n@@ -1896,8 +1772,7 @@\n    (clobber (reg:CC CC_REGNUM))] ;; A lie, but we have to match the expander\n   \"\"\n   \"andi 255,%1,%0\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"set_zn\")])\n+  [(set_attr \"length\" \"4\")])\n \n (define_expand \"zero_extendqisi2\"\n   [(parallel [(set (match_operand:SI 0 \"register_operand\")\n@@ -1923,8 +1798,7 @@\n    sxh %0\n    sld.h %1,%0\n    ld.h %1,%0\"\n-  [(set_attr \"length\" \"2,2,4\")\n-   (set_attr \"cc\" \"none_0hit,none_0hit,none_0hit\")])\n+  [(set_attr \"length\" \"2,2,4\")])\n \n ;; ??? This is missing a sign extend from memory pattern to match the ld.h\n ;; instruction.\n@@ -1955,8 +1829,7 @@\n    sxb %0\n    sld.b %1,%0\n    ld.b %1,%0\"\n-  [(set_attr \"length\" \"2,2,4\")\n-   (set_attr \"cc\" \"none_0hit,none_0hit,none_0hit\")])\n+  [(set_attr \"length\" \"2,2,4\")])\n \n ;; ??? This is missing a sign extend from memory pattern to match the ld.b\n ;; instruction.\n@@ -1990,8 +1863,7 @@\n   \"@\n   shl %2,%0\n   shl %2,%0\"\n-  [(set_attr \"length\" \"4,2\")\n-   (set_attr \"cc\" \"set_zn\")])\n+  [(set_attr \"length\" \"4,2\")])\n \n (define_insn \"ashlsi3_v850e2\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n@@ -2001,8 +1873,7 @@\n    (clobber (reg:CC CC_REGNUM))]\n   \"TARGET_V850E2_UP\"\n   \"shl %2,%1,%0\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"set_znv\")])\n+  [(set_attr \"length\" \"4\")])\n \n (define_insn \"lshrsi3\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r,r\")\n@@ -2014,8 +1885,7 @@\n   \"@\n   shr %2,%0\n   shr %2,%0\"\n-  [(set_attr \"length\" \"4,2\")\n-   (set_attr \"cc\" \"set_zn\")])\n+  [(set_attr \"length\" \"4,2\")])\n \n (define_insn \"lshrsi3_v850e2\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n@@ -2025,8 +1895,7 @@\n    (clobber (reg:CC CC_REGNUM))]\n   \"TARGET_V850E2_UP\"\n   \"shr %2,%1,%0\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"set_zn\")])\n+  [(set_attr \"length\" \"4\")])\n \n (define_insn \"ashrsi3\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r,r\")\n@@ -2038,8 +1907,7 @@\n   \"@\n   sar %2,%0\n   sar %2,%0\"\n-  [(set_attr \"length\" \"4,2\")\n-   (set_attr \"cc\" \"set_zn, set_zn\")])\n+  [(set_attr \"length\" \"4,2\")])\n \n (define_insn \"ashrsi3_v850e2\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n@@ -2049,8 +1917,7 @@\n    (clobber (reg:CC CC_REGNUM))]\n   \"TARGET_V850E2_UP\"\n   \"sar %2,%1,%0\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"set_zn\")])\n+  [(set_attr \"length\" \"4\")])\n \n ;; ----------------------------------------------------------------------\n ;; FIND FIRST BIT INSTRUCTION\n@@ -2062,8 +1929,7 @@\n    (clobber (reg:CC CC_REGNUM))]\n   \"TARGET_V850E2_UP\"\n   \"sch1r %1,%0\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"clobber\")])\n+  [(set_attr \"length\" \"4\")])\n \n ;; ----------------------------------------------------------------------\n ;; PROLOGUE/EPILOGUE\n@@ -2088,16 +1954,14 @@\n   [(return)]\n   \"reload_completed\"\n   \"jmp [r31]\"\n-  [(set_attr \"length\" \"2\")\n-   (set_attr \"cc\" \"none\")])\n+  [(set_attr \"length\" \"2\")])\n \n (define_insn \"return_internal\"\n   [(return)\n    (use (reg:SI 31))]\n   \"\"\n   \"jmp [r31]\"\n-  [(set_attr \"length\" \"2\")\n-   (set_attr \"cc\" \"none\")])\n+  [(set_attr \"length\" \"2\")])\n \n ;; ----------------------------------------------------------------------\n ;; v850e2V3 floating-point hardware support\n@@ -2111,7 +1975,6 @@\n   \"TARGET_USE_FPU\"\n   \"addf.s %1,%2,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"adddf3\"\n@@ -2121,7 +1984,6 @@\n   \"TARGET_USE_FPU\"\n   \"addf.d %1,%2,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"subsf3\"\n@@ -2131,7 +1993,6 @@\n   \"TARGET_USE_FPU\"\n   \"subf.s %2,%1,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"subdf3\"\n@@ -2141,7 +2002,6 @@\n   \"TARGET_USE_FPU\"\n   \"subf.d %2,%1,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"mulsf3\"\n@@ -2151,7 +2011,6 @@\n   \"TARGET_USE_FPU\"\n   \"mulf.s %1,%2,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"muldf3\"\n@@ -2161,7 +2020,6 @@\n   \"TARGET_USE_FPU\"\n   \"mulf.d %1,%2,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"divsf3\"\n@@ -2171,7 +2029,6 @@\n   \"TARGET_USE_FPU\"\n   \"divf.s %2,%1,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"divdf3\"\n@@ -2181,7 +2038,6 @@\n   \"TARGET_USE_FPU\"\n   \"divf.d %2,%1,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"minsf3\"\n@@ -2191,7 +2047,6 @@\n   \"TARGET_USE_FPU\"\n   \"minf.s %z1,%z2,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"mindf3\"\n@@ -2201,7 +2056,6 @@\n   \"TARGET_USE_FPU\"\n   \"minf.d %1,%2,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"maxsf3\"\n@@ -2211,7 +2065,6 @@\n   \"TARGET_USE_FPU\"\n   \"maxf.s %z1,%z2,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"maxdf3\"\n@@ -2221,7 +2074,6 @@\n   \"TARGET_USE_FPU\"\n   \"maxf.d %1,%2,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"abssf2\"\n@@ -2230,7 +2082,6 @@\n   \"TARGET_USE_FPU\"\n   \"absf.s %1,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"absdf2\"\n@@ -2239,7 +2090,6 @@\n   \"TARGET_USE_FPU\"\n   \"absf.d %1,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"negsf2\"\n@@ -2248,7 +2098,6 @@\n   \"TARGET_USE_FPU\"\n   \"negf.s %1,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"negdf2\"\n@@ -2257,7 +2106,6 @@\n   \"TARGET_USE_FPU\"\n   \"negf.d %1,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n ;; square-root\n@@ -2267,7 +2115,6 @@\n   \"TARGET_USE_FPU\"\n   \"sqrtf.s %1,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"sqrtdf2\"\n@@ -2276,7 +2123,6 @@\n   \"TARGET_USE_FPU\"\n   \"sqrtf.d %1,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n ;; float -> int\n@@ -2286,7 +2132,6 @@\n   \"TARGET_USE_FPU\"\n   \"trncf.sw %1,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"fixuns_truncsfsi2\"\n@@ -2295,17 +2140,14 @@\n   \"TARGET_USE_FPU\"\n   \"trncf.suw %1, %0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n-   (set_attr \"type\" \"fpu\")]\n-)\n+   (set_attr \"type\" \"fpu\")])\n \n (define_insn \"fix_truncdfsi2\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n \t(fix:SI (match_operand:DF 1 \"even_reg_operand\" \"r\")))]\n   \"TARGET_USE_FPU\"\n   \"trncf.dw %1,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"fixuns_truncdfsi2\"\n@@ -2314,17 +2156,14 @@\n   \"TARGET_USE_FPU\"\n   \"trncf.duw %1, %0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n-   (set_attr \"type\" \"fpu\")]\n-)\n+   (set_attr \"type\" \"fpu\")])\n \n (define_insn \"fix_truncsfdi2\"\n   [(set (match_operand:DI         0 \"register_operand\" \"=r\")\n \t(fix:DI (match_operand:SF 1 \"register_operand\" \"r\")))]\n   \"TARGET_USE_FPU\"\n   \"trncf.sl %1, %0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"fixuns_truncsfdi2\"\n@@ -2333,17 +2172,14 @@\n   \"TARGET_USE_FPU\"\n   \"trncf.sul %1, %0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n-   (set_attr \"type\" \"fpu\")]\n-)\n+   (set_attr \"type\" \"fpu\")])\n \n (define_insn \"fix_truncdfdi2\"\n   [(set (match_operand:DI         0 \"register_operand\" \"=r\")\n \t(fix:DI (match_operand:DF 1 \"even_reg_operand\" \"r\")))]\n   \"TARGET_USE_FPU\"\n   \"trncf.dl %1, %0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"fixuns_truncdfdi2\"\n@@ -2352,9 +2188,7 @@\n   \"TARGET_USE_FPU\"\n   \"trncf.dul %1, %0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n-   (set_attr \"type\" \"fpu\")]\n-)\n+   (set_attr \"type\" \"fpu\")])\n \n ;; int -> float\n (define_insn \"floatsisf2\"\n@@ -2363,7 +2197,6 @@\n   \"TARGET_USE_FPU\"\n   \"cvtf.ws %z1, %0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"unsfloatsisf2\"\n@@ -2372,7 +2205,6 @@\n   \"TARGET_USE_FPU\"\n   \"cvtf.uws %z1, %0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"floatsidf2\"\n@@ -2381,7 +2213,6 @@\n   \"TARGET_USE_FPU\"\n   \"cvtf.wd %z1,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"unsfloatsidf2\"\n@@ -2390,7 +2221,6 @@\n   \"TARGET_USE_FPU\"\n   \"cvtf.uwd %z1, %0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"floatdisf2\"\n@@ -2399,7 +2229,6 @@\n   \"TARGET_USE_FPU\"\n   \"cvtf.ls %z1, %0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"unsfloatdisf2\"\n@@ -2408,7 +2237,6 @@\n   \"TARGET_USE_FPU\"\n   \"cvtf.uls %z1, %0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"floatdidf2\"\n@@ -2417,7 +2245,6 @@\n   \"TARGET_USE_FPU\"\n   \"cvtf.ld %z1, %0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"unsfloatdidf2\"\n@@ -2426,7 +2253,6 @@\n   \"TARGET_USE_FPU\"\n   \"cvtf.uld %z1, %0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n ;; single-float -> double-float\n@@ -2437,7 +2263,6 @@\n   \"TARGET_USE_FPU\"\n   \"cvtf.sd %z1,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n ;; double-float -> single-float\n@@ -2448,7 +2273,6 @@\n   \"TARGET_USE_FPU\"\n   \"cvtf.ds %1,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n ;;\n@@ -2477,7 +2301,6 @@\n   \"TARGET_USE_FPU\"\n   \"recipf.s %2,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_expand \"recipdf2\"\n@@ -2497,7 +2320,6 @@\n   \"TARGET_USE_FPU\"\n   \"recipf.d %2,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n ;;; reciprocal of square-root\n@@ -2518,7 +2340,6 @@\n   \"TARGET_USE_FPU\"\n   \"rsqrtf.s %2,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_expand \"rsqrtdf2\"\n@@ -2538,7 +2359,6 @@\n   \"TARGET_USE_FPU\"\n   \"rsqrtf.d %2,%0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n ;; Note: The FPU-2.0 (ie pre e3v5) versions of these routines do not actually\n@@ -2554,7 +2374,6 @@\n   \"TARGET_USE_FPU\"\n   { return TARGET_V850E3V5_UP ? \"fmaf.s %1, %2, %0\" : \"maddf.s %2, %1, %3, %0\"; }\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n ;;; multiply-subtract\n@@ -2566,7 +2385,6 @@\n   \"TARGET_USE_FPU\"\n   { return TARGET_V850E3V5_UP ? \"fmsf.s %1, %2, %0\" : \"msubf.s %2, %1, %3, %0\"; }\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n ;;; negative-multiply-add\n@@ -2578,7 +2396,6 @@\n   \"TARGET_USE_FPU\"\n   { return TARGET_V850E3V5_UP ? \"fnmaf.s %1, %2, %0\" : \"nmaddf.s %2, %1, %3, %0\"; }\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n ;; negative-multiply-subtract\n@@ -2590,7 +2407,6 @@\n   \"TARGET_USE_FPU\"\n   { return TARGET_V850E3V5_UP ? \"fnmsf.s %1, %2, %0\" : \"nmsubf.s %2, %1, %3, %0\"; }\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n ;\n ; ---------------- comparison/conditionals\n@@ -2604,7 +2420,6 @@\n   \"TARGET_USE_FPU\"\n   \"cmpf.s le, %z0, %z1\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"cmpsf_lt_insn\"\n@@ -2614,7 +2429,6 @@\n   \"TARGET_USE_FPU\"\n   \"cmpf.s lt, %z0, %z1\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"cmpsf_ge_insn\"\n@@ -2624,7 +2438,6 @@\n   \"TARGET_USE_FPU\"\n   \"cmpf.s le, %z1, %z0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"cmpsf_gt_insn\"\n@@ -2634,7 +2447,6 @@\n   \"TARGET_USE_FPU\"\n   \"cmpf.s lt, %z1, %z0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"cmpsf_eq_insn\"\n@@ -2644,7 +2456,6 @@\n   \"TARGET_USE_FPU\"\n   \"cmpf.s eq, %z0, %z1\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n ; DF\n@@ -2656,7 +2467,6 @@\n   \"TARGET_USE_FPU\"\n   \"cmpf.d le, %z0, %z1\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"cmpdf_lt_insn\"\n@@ -2666,7 +2476,6 @@\n   \"TARGET_USE_FPU\"\n   \"cmpf.d lt, %z0, %z1\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"cmpdf_ge_insn\"\n@@ -2676,7 +2485,6 @@\n   \"TARGET_USE_FPU\"\n   \"cmpf.d le, %z1, %z0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"cmpdf_gt_insn\"\n@@ -2686,7 +2494,6 @@\n   \"TARGET_USE_FPU\"\n   \"cmpf.d lt, %z1, %z0\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n (define_insn \"cmpdf_eq_insn\"\n@@ -2696,7 +2503,6 @@\n   \"TARGET_USE_FPU\"\n   \"cmpf.d eq, %z0, %z1\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"none_0hit\")\n    (set_attr \"type\" \"fpu\")])\n \n ;;\n@@ -2718,7 +2524,6 @@\n        || GET_MODE(operands[0]) == CC_FPU_NEmode)\"\n   \"trfsr\"\n   [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"set_z\")\n    (set_attr \"type\" \"fpu\")])\n \n ;;\n@@ -2734,8 +2539,7 @@\n \t (match_operand:SF 1 \"reg_or_0_operand\" \"rIG\")\n \t (match_operand:SF 2 \"reg_or_0_operand\" \"rIG\")))]\n   \"TARGET_USE_FPU\"\n-  \"cmovf.s 0,%z1,%z2,%0\"\n-  [(set_attr \"cc\" \"clobber\")]) ;; ??? or none_0hit\n+  \"cmovf.s 0,%z1,%z2,%0\")\n \n (define_insn \"movsfcc_nz_insn\"\n   [(set (match_operand:SF 0 \"register_operand\" \"=r\")\n@@ -2744,8 +2548,7 @@\n \t (match_operand:SF 1 \"reg_or_0_operand\" \"rIG\")\n \t (match_operand:SF 2 \"reg_or_0_operand\" \"rIG\")))]\n   \"TARGET_USE_FPU\"\n-  \"cmovf.s 0,%z2,%z1,%0\"\n-  [(set_attr \"cc\" \"clobber\")]) ;; ??? or none_0hit\n+  \"cmovf.s 0,%z2,%z1,%0\")\n \n (define_insn \"movdfcc_z_insn\"\n   [(set (match_operand:DF 0 \"even_reg_operand\" \"=r\")\n@@ -2754,8 +2557,7 @@\n \t (match_operand:DF 1 \"even_reg_operand\" \"r\")\n \t (match_operand:DF 2 \"even_reg_operand\" \"r\")))]\n   \"TARGET_USE_FPU\"\n-  \"cmovf.d 0,%z1,%z2,%0\"\n-  [(set_attr \"cc\" \"clobber\")]) ;; ??? or none_0hit\n+  \"cmovf.d 0,%z1,%z2,%0\")\n \n (define_insn \"movdfcc_nz_insn\"\n   [(set (match_operand:DF 0 \"even_reg_operand\" \"=r\")\n@@ -2764,8 +2566,7 @@\n \t (match_operand:DF 1 \"even_reg_operand\" \"r\")\n \t (match_operand:DF 2 \"even_reg_operand\" \"r\")))]\n   \"TARGET_USE_FPU\"\n-  \"cmovf.d 0,%z2,%z1,%0\"\n-  [(set_attr \"cc\" \"clobber\")]) ;; ??? or none_0hit\n+  \"cmovf.d 0,%z2,%z1,%0\")\n \n (define_insn \"movedfcc_z_zero\"\n   [(set (match_operand:DF 0 \"register_operand\" \"=r\")\n@@ -2775,8 +2576,7 @@\n \t (match_operand:DF 2 \"reg_or_0_operand\" \"rIG\")))]\n   \"TARGET_USE_FPU\"\n   \"cmovf.s 0,%z1,%z2,%0 ; cmovf.s 0,%Z1,%Z2,%R0\"\n-  [(set_attr \"length\" \"8\")\n-   (set_attr \"cc\" \"clobber\")]) ;; ??? or none_0hit\n+  [(set_attr \"length\" \"8\")])\n \n (define_insn \"movedfcc_nz_zero\"\n   [(set (match_operand:DF 0 \"register_operand\" \"=r\")\n@@ -2786,8 +2586,7 @@\n \t (match_operand:DF 2 \"reg_or_0_operand\" \"rIG\")))]\n   \"TARGET_USE_FPU\"\n   \"cmovf.s 0,%z2,%z1,%0 ; cmovf.s 0,%Z2,%Z1,%R0\"\n-  [(set_attr \"length\" \"8\")\n-   (set_attr \"cc\" \"clobber\")]) ;; ??? or none_0hit\n+  [(set_attr \"length\" \"8\")])\n \n \n ;; ----------------------------------------------------------------------\n@@ -2813,8 +2612,7 @@\n {\n   return construct_prepare_instruction (operands[0]);\n }\n- [(set_attr \"length\" \"4\")\n-  (set_attr \"cc\"     \"clobber\")])\n+ [(set_attr \"length\" \"4\")])\n \n (define_insn \"\"\n  [(match_parallel 0 \"pattern_is_ok_for_prologue\"\n@@ -2829,8 +2627,7 @@\n }\n  [(set (attr \"length\") (if_then_else (eq_attr \"long_calls\" \"yes\")\n \t\t\t\t     (const_string \"16\")\n-\t\t\t\t     (const_string \"4\")))\n-  (set_attr \"cc\"     \"clobber\")])\n+\t\t\t\t     (const_string \"4\")))])\n \n ;;\n ;; Actually, turn the RTXs into a DISPOSE instruction.\n@@ -2847,8 +2644,7 @@\n {\n   return construct_dispose_instruction (operands[0]);\n }\n- [(set_attr \"length\" \"4\")\n-  (set_attr \"cc\"     \"clobber\")])\n+ [(set_attr \"length\" \"4\")])\n \n ;; This pattern will match a return RTX followed by any number of pop RTXs\n ;; and possible a stack adjustment as well.  These RTXs will be turned into\n@@ -2868,8 +2664,7 @@\n }\n  [(set (attr \"length\") (if_then_else (eq_attr \"long_calls\" \"yes\")\n \t\t\t\t     (const_string \"12\")\n-\t\t\t\t     (const_string \"4\")))\n-  (set_attr \"cc\"     \"clobber\")])\n+\t\t\t\t     (const_string \"4\")))])\n \n ;; Initialize an interrupt function.  Do not depend on TARGET_PROLOG_FUNCTION.\n (define_insn \"callt_save_interrupt\"\n@@ -2891,15 +2686,13 @@\n   output_asm_insn (\"callt ctoff(__callt_save_interrupt)\", operands);\n   return \"\";\n }\n-   [(set_attr \"length\" \"26\")\n-    (set_attr \"cc\" \"clobber\")])\n+   [(set_attr \"length\" \"26\")])\n \n (define_insn \"callt_return_interrupt\"\n   [(unspec_volatile [(const_int 0)] 3)]\n   \"(TARGET_V850E_UP) && !TARGET_DISABLE_CALLT\"\n   \"callt ctoff(__callt_return_interrupt)\"\n-  [(set_attr \"length\" \"2\")\n-   (set_attr \"cc\" \"clobber\")])\n+  [(set_attr \"length\" \"2\")])\n \n (define_insn \"save_interrupt\"\n   [(set (reg:SI 3) (plus:SI (reg:SI 3) (const_int -20)))\n@@ -2930,8 +2723,7 @@\n   [(set (attr \"length\")\n         (if_then_else (match_test \"TARGET_LONG_CALLS\")\n                        (const_int 10)\n-                       (const_int 34)))\n-   (set_attr \"cc\" \"clobber\")])\n+                       (const_int 34)))])\n   \n ;; Restore r1, r4, r10, and return from the interrupt\n (define_insn \"return_interrupt\"\n@@ -2961,8 +2753,7 @@\n   [(set (attr \"length\")\n         (if_then_else (match_test \"TARGET_LONG_CALLS\")\n                        (const_int 4)\n-                       (const_int 24)))\n-   (set_attr \"cc\" \"clobber\")])\n+                       (const_int 24)))])\n \n ;; Save all registers except for the registers saved in save_interrupt when\n ;; an interrupt function makes a call.\n@@ -2975,8 +2766,7 @@\n   [(unspec_volatile [(const_int 0)] 0)]\n   \"(TARGET_V850E_UP) && !TARGET_DISABLE_CALLT\"\n   \"callt ctoff(__callt_save_all_interrupt)\"\n-  [(set_attr \"length\" \"2\")\n-   (set_attr \"cc\" \"none\")])\n+  [(set_attr \"length\" \"2\")])\n \n (define_insn \"save_all_interrupt\"\n   [(unspec_volatile [(const_int 0)] 0)]\n@@ -3054,16 +2844,13 @@\n   [(set (attr \"length\")\n         (if_then_else (match_test \"TARGET_LONG_CALLS\")\n                        (const_int 4)\n-                       (const_int 62)\n-\t))\n-   (set_attr \"cc\" \"clobber\")])\n+                       (const_int 62)))])\n \n (define_insn \"_save_all_interrupt\"\n   [(unspec_volatile [(const_int 0)] 0)]\n   \"TARGET_V850 && ! TARGET_LONG_CALLS\"\n   \"jarl __save_all_interrupt,r10\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"clobber\")])\n+  [(set_attr \"length\" \"4\")])\n \n ;; Restore all registers saved when an interrupt function makes a call.\n ;; UNSPEC_VOLATILE is considered to use and clobber all hard registers and\n@@ -3075,8 +2862,7 @@\n   [(unspec_volatile [(const_int 0)] 1)]\n   \"(TARGET_V850E_UP) && !TARGET_DISABLE_CALLT\"\n   \"callt ctoff(__callt_restore_all_interrupt)\"\n-  [(set_attr \"length\" \"2\")\n-   (set_attr \"cc\" \"none\")])\n+  [(set_attr \"length\" \"2\")])\n \n (define_insn \"restore_all_interrupt\"\n   [(unspec_volatile [(const_int 0)] 1)]\n@@ -3153,12 +2939,10 @@\n         (if_then_else (match_test \"TARGET_LONG_CALLS\")\n                        (const_int 4)\n                        (const_int 62)\n-\t))\n-   (set_attr \"cc\" \"clobber\")])\n+\t))])\n \n (define_insn \"_restore_all_interrupt\"\n   [(unspec_volatile [(const_int 0)] 1)]\n   \"TARGET_V850 && ! TARGET_LONG_CALLS\"\n   \"jarl __restore_all_interrupt,r10\"\n-  [(set_attr \"length\" \"4\")\n-   (set_attr \"cc\" \"clobber\")])\n+  [(set_attr \"length\" \"4\")])"}]}