{"sha": "a97d1398381199317a5627d7a24e407284ef1e2e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTk3ZDEzOTgzODExOTkzMTdhNTYyN2Q3YTI0ZTQwNzI4NGVmMWUyZQ==", "commit": {"author": {"name": "Neil Booth", "email": "neil@daikokuya.demon.co.uk", "date": "2002-05-23T12:05:38Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2002-05-23T12:05:38Z"}, "message": "c-lex.c (indent_level): Remove.\n\n\t* c-lex.c (indent_level): Remove.\n\t(cb_file_change, c_lex): Remove indent level handling.\n\t* c-lex.h (indent_level): Remove.\n\t* input.h (struct file_stack): Remove indent_level.\n\t* toplev.c (push_srcloc): Remove indent_level handling.\ncp:\n\t* spew.c (yyungetc, snarf_block): Remove indent_level handling.\n\nFrom-SVN: r53786", "tree": {"sha": "57ba86ec8f6a73bd6aafd40db3b51f242e817215", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/57ba86ec8f6a73bd6aafd40db3b51f242e817215"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a97d1398381199317a5627d7a24e407284ef1e2e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a97d1398381199317a5627d7a24e407284ef1e2e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a97d1398381199317a5627d7a24e407284ef1e2e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a97d1398381199317a5627d7a24e407284ef1e2e/comments", "author": null, "committer": null, "parents": [{"sha": "e275a5350601fb2218ad553bb2029b03faf6c7f3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e275a5350601fb2218ad553bb2029b03faf6c7f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e275a5350601fb2218ad553bb2029b03faf6c7f3"}], "stats": {"total": 41, "additions": 13, "deletions": 28}, "files": [{"sha": "9da36a966347828ae1e09dfbad46635fa9742631", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a97d1398381199317a5627d7a24e407284ef1e2e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a97d1398381199317a5627d7a24e407284ef1e2e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a97d1398381199317a5627d7a24e407284ef1e2e", "patch": "@@ -1,3 +1,11 @@\n+2002-05-23  Neil Booth  <neil@daikokuya.demon.co.uk>\n+\n+\t* c-lex.c (indent_level): Remove.\n+\t(cb_file_change, c_lex): Remove indent level handling.\n+\t* c-lex.h (indent_level): Remove.\n+\t* input.h (struct file_stack): Remove indent_level.\n+\t* toplev.c (push_srcloc): Remove indent_level handling.\n+\n 2002-05-23  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/6753"}, {"sha": "7e82b0363acd11f53f337e6c0eaf78c370a98f07", "filename": "gcc/c-lex.c", "status": "modified", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a97d1398381199317a5627d7a24e407284ef1e2e/gcc%2Fc-lex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a97d1398381199317a5627d7a24e407284ef1e2e/gcc%2Fc-lex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-lex.c?ref=a97d1398381199317a5627d7a24e407284ef1e2e", "patch": "@@ -67,7 +67,6 @@ extern FILE *asm_out_file;\n /* Number of bytes in a wide character.  */\n #define WCHAR_BYTES (WCHAR_TYPE_SIZE / BITS_PER_UNIT)\n \n-int indent_level;        /* Number of { minus number of }.  */\n int pending_lang_change; /* If we need to switch languages - C++ only */\n int c_header_level;\t /* depth in C headers - C++ only */\n \n@@ -271,7 +270,6 @@ cb_file_change (pfile, new_map)\n \n \t  lineno = included_at;\n \t  push_srcloc (new_map->to_file, 1);\n-\t  input_file_stack->indent_level = indent_level;\n \t  (*debug_hooks->start_source_file) (included_at, new_map->to_file);\n #ifndef NO_IMPLICIT_EXTERN_C\n \t  if (c_header_level)\n@@ -293,16 +291,6 @@ cb_file_change (pfile, new_map)\n \t    warning (\"badly nested C headers from preprocessor\");\n \t  --pending_lang_change;\n \t}\n-#endif\n-#if 0\n-      if (indent_level != input_file_stack->indent_level)\n-\t{\n-\t  warning_with_file_and_line\n-\t    (input_filename, lineno,\n-\t     \"this file contains more '%c's than '%c's\",\n-\t     indent_level > input_file_stack->indent_level ? '{' : '}',\n-\t     indent_level > input_file_stack->indent_level ? '}' : '{');\n-\t}\n #endif\n       pop_srcloc ();\n       \n@@ -718,9 +706,6 @@ c_lex (value)\n   *value = NULL_TREE;\n   switch (tok->type)\n     {\n-    case CPP_OPEN_BRACE:  indent_level++;  break;\n-    case CPP_CLOSE_BRACE: indent_level--;  break;\n-\n     /* Issue this error here, where we can get at tok->val.c.  */\n     case CPP_OTHER:\n       if (ISGRAPH (tok->val.c))"}, {"sha": "51538ab5ebf5cb07ae5cc455a07647ef7b3e4768", "filename": "gcc/c-lex.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a97d1398381199317a5627d7a24e407284ef1e2e/gcc%2Fc-lex.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a97d1398381199317a5627d7a24e407284ef1e2e/gcc%2Fc-lex.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-lex.h?ref=a97d1398381199317a5627d7a24e407284ef1e2e", "patch": "@@ -30,8 +30,6 @@ extern tree make_pointer_declarator PARAMS ((tree, tree));\n extern int c_lex PARAMS ((tree *));\n extern const char *init_c_lex PARAMS ((const char *));\n \n-extern int indent_level;\n-\n struct cpp_reader;\n extern struct cpp_reader* parse_in;\n "}, {"sha": "60591ed4385b8d8a65e5c628f3914e094b9d19c6", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a97d1398381199317a5627d7a24e407284ef1e2e/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a97d1398381199317a5627d7a24e407284ef1e2e/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=a97d1398381199317a5627d7a24e407284ef1e2e", "patch": "@@ -1,3 +1,7 @@\n+2002-05-23  Neil Booth  <neil@daikokuya.demon.co.uk>\n+\n+\t* spew.c (yyungetc, snarf_block): Remove indent_level handling.\n+\n 2002-05-22  Richard Henderson  <rth@redhat.com>\n \n \t* decl.c (obscure_complex_init): Check for VAR_DECL"}, {"sha": "0d555fca06750e282406a944f698399f7d22a55f", "filename": "gcc/cp/spew.c", "status": "modified", "additions": 1, "deletions": 9, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a97d1398381199317a5627d7a24e407284ef1e2e/gcc%2Fcp%2Fspew.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a97d1398381199317a5627d7a24e407284ef1e2e/gcc%2Fcp%2Fspew.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fspew.c?ref=a97d1398381199317a5627d7a24e407284ef1e2e", "patch": "@@ -891,13 +891,6 @@ yyungetc (ch, rescan)\n     {\n       struct token fake;\n \n-      /* If we're putting back a brace, undo the change in indent_level\n-\t from the first time we saw it.  */\n-      if (ch == '{')\n-\tindent_level--;\n-      else if (ch == '}')\n-\tindent_level++;\n-\n       fake.yychar = ch;\n       fake.yylval.ttype = 0;\n       fake.lineno = lineno;\n@@ -1085,8 +1078,7 @@ snarf_block (starting_file, starting_line)\n   size_t point;\n \n   if (yychar == '{')\n-    /* We incremented indent_level in yylex; undo that.  */\n-    indent_level--;\n+    ;\n   else if (yychar == '=')\n     look_for_semicolon = 1;\n   else if (yychar == ':' || yychar == RETURN_KEYWORD || yychar == TRY)"}, {"sha": "28bb64818324b1e265b2e0acf5a5a62e2b4c3294", "filename": "gcc/input.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a97d1398381199317a5627d7a24e407284ef1e2e/gcc%2Finput.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a97d1398381199317a5627d7a24e407284ef1e2e/gcc%2Finput.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Finput.h?ref=a97d1398381199317a5627d7a24e407284ef1e2e", "patch": "@@ -36,7 +36,6 @@ struct file_stack\n     const char *name;\n     struct file_stack *next;\n     int line;\n-    int indent_level;\n   };\n \n /* Stack of currently pending input files."}, {"sha": "fc4f658c62bf1cb76e4937131f420779b739c71c", "filename": "gcc/toplev.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a97d1398381199317a5627d7a24e407284ef1e2e/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a97d1398381199317a5627d7a24e407284ef1e2e/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=a97d1398381199317a5627d7a24e407284ef1e2e", "patch": "@@ -2020,7 +2020,6 @@ push_srcloc (file, line)\n   fs = (struct file_stack *) xmalloc (sizeof (struct file_stack));\n   fs->name = input_filename = file;\n   fs->line = lineno = line;\n-  fs->indent_level = 0;\n   fs->next = input_file_stack;\n   input_file_stack = fs;\n   input_file_stack_tick++;"}]}