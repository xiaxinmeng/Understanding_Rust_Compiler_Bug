{"sha": "4665e56c27a42868f98ab9fe93e60da977dcf20e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDY2NWU1NmMyN2E0Mjg2OGY5OGFiOWZlOTNlNjBkYTk3N2RjZjIwZQ==", "commit": {"author": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2003-06-10T00:52:18Z"}, "committer": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2003-06-10T00:52:18Z"}, "message": "Makefile.in, [...]: Replace \"build_canonical\" with build, \"host_canonical\" with host.\n\n\t* Makefile.in, configure.in, config/m68hc11/t-m68hc11-gas:\n\tReplace \"build_canonical\" with build, \"host_canonical\" with host.\n\t* configure.in: Use GCC_TOPLEV_SUBDIRS.\n\t* aclocal.m4: Include ../config/acx.m4.\n\t* configure: Regenerate.\n(ada)\n\t* Makefile.in: Replace \"host_canonical\" with \"host\" for autoconf\n\tsubstitution.\n\nFrom-SVN: r67691", "tree": {"sha": "464444ee2548ffc88edec780d5b040aef71ff5ea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/464444ee2548ffc88edec780d5b040aef71ff5ea"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4665e56c27a42868f98ab9fe93e60da977dcf20e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4665e56c27a42868f98ab9fe93e60da977dcf20e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4665e56c27a42868f98ab9fe93e60da977dcf20e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4665e56c27a42868f98ab9fe93e60da977dcf20e/comments", "author": null, "committer": null, "parents": [{"sha": "d4298db33d9bc5310683e13d45fde6f6e53f8e91", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4298db33d9bc5310683e13d45fde6f6e53f8e91", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d4298db33d9bc5310683e13d45fde6f6e53f8e91"}], "stats": {"total": 761, "additions": 392, "deletions": 369}, "files": [{"sha": "31cf2b978c852049590da3e880b70171fa039b1c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4665e56c27a42868f98ab9fe93e60da977dcf20e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4665e56c27a42868f98ab9fe93e60da977dcf20e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4665e56c27a42868f98ab9fe93e60da977dcf20e", "patch": "@@ -1,4 +1,12 @@\n-2003-06-19  David Taylor  <dtaylor@emc.com>\n+2003-06-09  Nathanael Nerode  <neroden@gcc.gnu.org>\n+\n+\t* Makefile.in, configure.in, config/m68hc11/t-m68hc11-gas:\n+\tReplace \"build_canonical\" with build, \"host_canonical\" with host.\n+\t* configure.in: Use GCC_TOPLEV_SUBDIRS.\n+\t* aclocal.m4: Include ../config/acx.m4.\n+\t* configure: Regenerate.\n+\n+2003-06-09  David Taylor  <dtaylor@emc.com>\n \n \t* config/rs6000/rs6000.c (rs6000_build_va_list): Give the two\n \tbytes of padding in the __va_list_tag structure a name (reserved).\n@@ -7,7 +15,7 @@\n \n \t* fold-const.c (operand_equal_p): Handle ADDR_EXPR and TRUTH_NOT_EXPR.\n \n-2003-06-19  Osku Salerma  <osku@iki.fi>\n+2003-06-09  Osku Salerma  <osku@iki.fi>\n \n \t* c-format.c (check_format_string, get_constant): New.\n \t(handle_format_attribute, handle_format_arg_attribute,"}, {"sha": "bd841229106b1cbddda9db9ecdff5d18c37d55ef", "filename": "gcc/Makefile.in", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4665e56c27a42868f98ab9fe93e60da977dcf20e/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4665e56c27a42868f98ab9fe93e60da977dcf20e/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=4665e56c27a42868f98ab9fe93e60da977dcf20e", "patch": "@@ -59,8 +59,8 @@ MAKEOVERRIDES =\n # Directory where sources are, from where we are.\n VPATH = @srcdir@\n \n-build_canonical = @build_canonical@\n-host_canonical = @host_canonical@\n+build=@build@\n+host=@host@\n target=@target@\n target_alias=@target_alias@\n \n@@ -273,7 +273,7 @@ AR_FOR_TARGET = ` \\\n   if [ -f $(objdir)/../binutils/ar ] ; then \\\n     echo $(objdir)/../binutils/ar ; \\\n   else \\\n-    if [ \"$(host_canonical)\" = \"$(target)\" ] ; then \\\n+    if [ \"$(host)\" = \"$(target)\" ] ; then \\\n       echo ar; \\\n     else \\\n        t='$(program_transform_cross_name)'; echo ar | sed -e $$t ; \\\n@@ -286,7 +286,7 @@ RANLIB_FOR_TARGET = ` \\\n   if [ -f $(objdir)/../binutils/ranlib ] ; then \\\n     echo $(objdir)/../binutils/ranlib ; \\\n   else \\\n-    if [ \"$(host_canonical)\" = \"$(target)\" ] ; then \\\n+    if [ \"$(host)\" = \"$(target)\" ] ; then \\\n       echo $(RANLIB); \\\n     else \\\n        t='$(program_transform_cross_name)'; echo ranlib | sed -e $$t ; \\\n@@ -298,7 +298,7 @@ NM_FOR_TARGET = ` \\\n   elif [ -f $(objdir)/../binutils/nm-new ] ; then \\\n     echo $(objdir)/../binutils/nm-new ; \\\n   else \\\n-    if [ \"$(host_canonical)\" = \"$(target)\" ] ; then \\\n+    if [ \"$(host)\" = \"$(target)\" ] ; then \\\n       echo nm; \\\n     else \\\n        t='$(program_transform_cross_name)'; echo nm | sed -e $$t ; \\\n@@ -2519,7 +2519,7 @@ fixinc.sh: $(FIXINCSRCDIR)/mkfixinc.sh $(FIXINCSRCDIR)/fixincl.c \\\n \tWARN_CFLAGS=\"$(WARN_CFLAGS)\"; LIBERTY=`pwd`/\"$(BUILD_LIBIBERTY)\"; \\\n \texport MAKE srcdir CC CFLAGS LDFLAGS WARN_CFLAGS LIBERTY; \\\n \tcd ./fixinc && \\\n-\t$(SHELL) $${srcdir}/mkfixinc.sh $(build_canonical) $(target))\n+\t$(SHELL) $${srcdir}/mkfixinc.sh $(build) $(target))\n \n .PHONY: install-gcc-tooldir\n install-gcc-tooldir:\n@@ -3246,8 +3246,8 @@ site.exp: ./config.status Makefile\n \t@echo \"# add them to the last section\" >> ./tmp0\n \t@echo \"set rootme \\\"`${PWD}`\\\"\" >> ./tmp0\n \t@echo \"set srcdir \\\"`cd ${srcdir}; ${PWD}`\\\"\" >> ./tmp0\n-\t@echo \"set host_triplet $(host_canonical)\" >> ./tmp0\n-\t@echo \"set build_triplet $(build_canonical)\" >> ./tmp0\n+\t@echo \"set host_triplet $(host)\" >> ./tmp0\n+\t@echo \"set build_triplet $(build)\" >> ./tmp0\n \t@echo \"set target_triplet $(target)\" >> ./tmp0\n \t@echo \"set target_alias $(target_alias)\" >> ./tmp0\n # CFLAGS is set even though it's empty to show we reserve the right to set it.\n@@ -3265,7 +3265,7 @@ site.exp: ./config.status Makefile\n # theoretically the -B won't be needed.\n # We also need to pass -L ../ld so that the linker can find ldscripts.\n \t@if [ -d $(objdir)/../$(target_subdir)/newlib ] \\\n-\t    && [ \"${host_canonical}\" != \"${target}\" ]; then \\\n+\t    && [ \"${host}\" != \"${target}\" ]; then \\\n \t  echo \"set newlib_cflags \\\"-I$(objdir)/../$(target_subdir)/newlib/targ-include -I\\$$srcdir/../newlib/libc/include\\\"\" >> ./tmp0; \\\n \t  echo \"set newlib_ldflags \\\"-B$(objdir)/../$(target_subdir)/newlib/\\\"\" >> ./tmp0; \\\n \t  echo \"append CFLAGS \\\" \\$$newlib_cflags\\\"\" >> ./tmp0; \\"}, {"sha": "4228504ee65f861272a2d46dacbf42fb8b5d92ea", "filename": "gcc/aclocal.m4", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4665e56c27a42868f98ab9fe93e60da977dcf20e/gcc%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4665e56c27a42868f98ab9fe93e60da977dcf20e/gcc%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Faclocal.m4?ref=4665e56c27a42868f98ab9fe93e60da977dcf20e", "patch": "@@ -1,3 +1,4 @@\n+sinclude(../config/acx.m4)\n sinclude(../config/accross.m4)\n \n dnl See if stdbool.h properly defines bool and true/false."}, {"sha": "0fb482c8eb178204f83f34c6de957e075f68bd6b", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4665e56c27a42868f98ab9fe93e60da977dcf20e/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4665e56c27a42868f98ab9fe93e60da977dcf20e/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=4665e56c27a42868f98ab9fe93e60da977dcf20e", "patch": "@@ -1,3 +1,8 @@\n+2003-06-09  Nathanael Nerode  <neroden@gcc.gnu.org>\n+\n+\t* Makefile.in: Replace \"host_canonical\" with \"host\" for autoconf\n+\tsubstitution.\n+\n 2003-06-08  Neil Booth  <neil@daikokuya.co.uk>\n \n \t* Make-lang.in: Update."}, {"sha": "cbe10938dc7c7dc45bd3fb97795bbb5c24eca2a8", "filename": "gcc/ada/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4665e56c27a42868f98ab9fe93e60da977dcf20e/gcc%2Fada%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4665e56c27a42868f98ab9fe93e60da977dcf20e/gcc%2Fada%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FMakefile.in?ref=4665e56c27a42868f98ab9fe93e60da977dcf20e", "patch": "@@ -179,7 +179,7 @@ target=@target@\n target_alias=@target_alias@\n xmake_file=@dep_host_xmake_file@\n tmake_file=@dep_tmake_file@\n-host_canonical=@host_canonical@\n+host_canonical=@host@\n #version=`sed -e 's/.*\\\"\\([^ \\\"]*\\)[ \\\"].*/\\1/' < $(srcdir)/version.c`\n #mainversion=`sed -e 's/.*\\\"\\([0-9]*\\.[0-9]*\\).*/\\1/' < $(srcdir)/version.c`\n "}, {"sha": "391bb4cb58e2f20774602fe9e6683f45c6691bc1", "filename": "gcc/config/m68hc11/t-m68hc11-gas", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4665e56c27a42868f98ab9fe93e60da977dcf20e/gcc%2Fconfig%2Fm68hc11%2Ft-m68hc11-gas", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4665e56c27a42868f98ab9fe93e60da977dcf20e/gcc%2Fconfig%2Fm68hc11%2Ft-m68hc11-gas", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68hc11%2Ft-m68hc11-gas?ref=4665e56c27a42868f98ab9fe93e60da977dcf20e", "patch": "@@ -2,7 +2,7 @@ RANLIB_FOR_TARGET = ` \\\n   if [ -f $(objdir)/../binutils/ranlib ] ; then \\\n     echo $(objdir)/../binutils/ranlib ; \\\n   else \\\n-    if [ \"$(host_canonical)\" = \"$(target)\" ] ; then \\\n+    if [ \"$(host)\" = \"$(target)\" ] ; then \\\n       echo ranlib; \\\n     else \\\n        if [ -f $(bindir)/$(target_alias)-ranlib ] ; then \\"}, {"sha": "855793a280cec2db5f0bcc8c72a4f1110accf353", "filename": "gcc/configure", "status": "modified", "additions": 361, "deletions": 346, "changes": 707, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4665e56c27a42868f98ab9fe93e60da977dcf20e/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4665e56c27a42868f98ab9fe93e60da977dcf20e/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=4665e56c27a42868f98ab9fe93e60da977dcf20e"}, {"sha": "519679b2b5f8e4ac9ebcfcd4ba6edf79f00dcd9f", "filename": "gcc/configure.in", "status": "modified", "additions": 4, "deletions": 10, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4665e56c27a42868f98ab9fe93e60da977dcf20e/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4665e56c27a42868f98ab9fe93e60da977dcf20e/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=4665e56c27a42868f98ab9fe93e60da977dcf20e", "patch": "@@ -32,15 +32,9 @@ AC_CONFIG_HEADER(auto-host.h:config.in)\n # Determine the host, build, and target systems\n AC_CANONICAL_SYSTEM\n \n-# Define variables host_canonical and build_canonical\n-build_canonical=${build}\n-host_canonical=${host}\n-AC_SUBST(build_canonical)\n-AC_SUBST(host_canonical)\n-\n-target_subdir=${target_alias}\n-AC_SUBST(target_subdir)\n-\t\n+# Determine the target- and build-specific subdirectories\n+GCC_TOPLEV_SUBDIRS\n+\n # Set program_transform_name\n AC_ARG_PROGRAM\n \n@@ -1168,7 +1162,7 @@ else\n \tcd ..\n \trm -rf $tempdir\n \tbuild_auto=auto-build.h\n-\tFORBUILD=../build-$build_alias\n+\tFORBUILD=../$(build_subdir)\n fi\n AC_SUBST(FORBUILD)\n "}]}