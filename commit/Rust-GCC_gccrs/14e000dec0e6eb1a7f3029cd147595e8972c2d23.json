{"sha": "14e000dec0e6eb1a7f3029cd147595e8972c2d23", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTRlMDAwZGVjMGU2ZWIxYTdmMzAyOWNkMTQ3NTk1ZTg5NzJjMmQyMw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2014-07-04T08:32:56Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2014-07-04T08:32:56Z"}, "message": "re PR tree-optimization/61684 (ICE at -Os and above on x86_64-linux-gnu in tree check: expected ssa_name, have addr_expr in recognize_single_bit_test, at tree-ssa-ifcombine.c:238)\n\n\tPR tree-optimization/61684\n\t* tree-ssa-ifcombine.c (recognize_single_bit_test): Make sure\n\trhs1 of conversion is a SSA_NAME before using SSA_NAME_DEF_STMT on it.\n\n\t* gcc.c-torture/compile/pr61684.c: New test.\n\nFrom-SVN: r212290", "tree": {"sha": "673a8eb608a3822d1925be4d0b498edda609bb44", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/673a8eb608a3822d1925be4d0b498edda609bb44"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/14e000dec0e6eb1a7f3029cd147595e8972c2d23", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14e000dec0e6eb1a7f3029cd147595e8972c2d23", "html_url": "https://github.com/Rust-GCC/gccrs/commit/14e000dec0e6eb1a7f3029cd147595e8972c2d23", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14e000dec0e6eb1a7f3029cd147595e8972c2d23/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "17bf6d250c5f405a75ca3744074cb63386a3376d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17bf6d250c5f405a75ca3744074cb63386a3376d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/17bf6d250c5f405a75ca3744074cb63386a3376d"}], "stats": {"total": 29, "additions": 28, "deletions": 1}, "files": [{"sha": "49652198a57a27c86ad230b9bbfc2bfdb8f25c3b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14e000dec0e6eb1a7f3029cd147595e8972c2d23/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14e000dec0e6eb1a7f3029cd147595e8972c2d23/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=14e000dec0e6eb1a7f3029cd147595e8972c2d23", "patch": "@@ -1,3 +1,9 @@\n+2014-07-04  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR tree-optimization/61684\n+\t* tree-ssa-ifcombine.c (recognize_single_bit_test): Make sure\n+\trhs1 of conversion is a SSA_NAME before using SSA_NAME_DEF_STMT on it.\n+\n 2014-07-04  Chung-Ju Wu  <jasonwucj@gmail.com>\n \t    Kito Cheng  <kito@0xlab.org>\n \t    Monk Chiang  <sh.chiang04@gmail.com>"}, {"sha": "5eee71793193dfc4dc1701a9001cb2d50eb8dc87", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14e000dec0e6eb1a7f3029cd147595e8972c2d23/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14e000dec0e6eb1a7f3029cd147595e8972c2d23/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=14e000dec0e6eb1a7f3029cd147595e8972c2d23", "patch": "@@ -1,3 +1,8 @@\n+2014-07-04  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR tree-optimization/61684\n+\t* gcc.c-torture/compile/pr61684.c: New test.\n+\n 2014-07-04  Thomas Schwinge  <thomas@codesourcery.com>\n \n \t* lib/g++-dg.exp (g++-dg-runtest): Change interface to match"}, {"sha": "f5b53b73a0d347cb6c3f2b1fd33ce1b9d268dd7c", "filename": "gcc/testsuite/gcc.c-torture/compile/pr61684.c", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14e000dec0e6eb1a7f3029cd147595e8972c2d23/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr61684.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14e000dec0e6eb1a7f3029cd147595e8972c2d23/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr61684.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr61684.c?ref=14e000dec0e6eb1a7f3029cd147595e8972c2d23", "patch": "@@ -0,0 +1,15 @@\n+/* PR tree-optimization/61684 */\n+\n+int a, c;\n+static int *b = 0;\n+short d;\n+static short **e = 0;\n+\n+void\n+foo ()\n+{\n+  for (; c < 1; c++)\n+    ;\n+  *e = &d;\n+  a = d && (c && 1) & *b;\n+}"}, {"sha": "7e051a30b08f5a144aa4c93c2f298be21485c65e", "filename": "gcc/tree-ssa-ifcombine.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14e000dec0e6eb1a7f3029cd147595e8972c2d23/gcc%2Ftree-ssa-ifcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14e000dec0e6eb1a7f3029cd147595e8972c2d23/gcc%2Ftree-ssa-ifcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-ifcombine.c?ref=14e000dec0e6eb1a7f3029cd147595e8972c2d23", "patch": "@@ -233,7 +233,8 @@ recognize_single_bit_test (gimple cond, tree *name, tree *bit, bool inv)\n       while (is_gimple_assign (stmt)\n \t     && ((CONVERT_EXPR_CODE_P (gimple_assign_rhs_code (stmt))\n \t\t  && (TYPE_PRECISION (TREE_TYPE (gimple_assign_lhs (stmt)))\n-\t\t      <= TYPE_PRECISION (TREE_TYPE (gimple_assign_rhs1 (stmt)))))\n+\t\t      <= TYPE_PRECISION (TREE_TYPE (gimple_assign_rhs1 (stmt))))\n+\t\t  && TREE_CODE (gimple_assign_rhs1 (stmt)) == SSA_NAME)\n \t\t || gimple_assign_ssa_name_copy_p (stmt)))\n \tstmt = SSA_NAME_DEF_STMT (gimple_assign_rhs1 (stmt));\n "}]}