{"sha": "de41ebf5ddab45c643cfe8166c1d274ed4620d4f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGU0MWViZjVkZGFiNDVjNjQzY2ZlODE2NmMxZDI3NGVkNDYyMGQ0Zg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2016-01-11T17:55:39Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2016-01-11T17:55:39Z"}, "message": "re PR go/68980 (ps -o cmd in gotest isn't portable)\n\n\tPR 68980\n    libgo/testsuite: portable ps usage in gotest\n    \n    gotest is using \"ps\" to list descendant sleep\n    processes in its timeout handling, grepping\n    the command name.\n    \n    We are currently using the \"cmd\" ps output\n    formatter, which is non-portable. We should\n    use \"comm\" which is part of the POSIX\n    standard, and outputs only the command name\n    and not the arguments.\n    \n    Fixes https://gcc.gnu.org/PR68980\n    \n    Reviewed-on: https://go-review.googlesource.com/18426\n\nFrom-SVN: r232234", "tree": {"sha": "3f1683873db94b9851ca86cfa67509b430f11c49", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3f1683873db94b9851ca86cfa67509b430f11c49"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/de41ebf5ddab45c643cfe8166c1d274ed4620d4f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de41ebf5ddab45c643cfe8166c1d274ed4620d4f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de41ebf5ddab45c643cfe8166c1d274ed4620d4f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de41ebf5ddab45c643cfe8166c1d274ed4620d4f/comments", "author": null, "committer": null, "parents": [{"sha": "7c285ab9ae4726b4821379c82d16d2373cd46f8f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c285ab9ae4726b4821379c82d16d2373cd46f8f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c285ab9ae4726b4821379c82d16d2373cd46f8f"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "79e02e2a1ea07f1f5eaebb77bdc4d5e8717121c6", "filename": "libgo/testsuite/gotest", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de41ebf5ddab45c643cfe8166c1d274ed4620d4f/libgo%2Ftestsuite%2Fgotest", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de41ebf5ddab45c643cfe8166c1d274ed4620d4f/libgo%2Ftestsuite%2Fgotest", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Ftestsuite%2Fgotest?ref=de41ebf5ddab45c643cfe8166c1d274ed4620d4f", "patch": "@@ -618,7 +618,7 @@ xno)\n \t\twait $pid\n \t\tstatus=$?\n \t\tif ! test -f gotest-timeout; then\n-\t\t    sleeppid=`ps -o pid,ppid,cmd | grep \" $alarmpid \" | grep sleep | sed -e 's/ *\\([0-9]*\\) .*$/\\1/'`\n+\t\t    sleeppid=`ps -o pid,ppid,comm | grep \" $alarmpid \" | grep sleep | sed -e 's/ *\\([0-9]*\\) .*$/\\1/'`\n \t\t    kill $alarmpid\n \t\t    wait $alarmpid\n \t\t    if test \"$sleeppid\" != \"\"; then"}]}