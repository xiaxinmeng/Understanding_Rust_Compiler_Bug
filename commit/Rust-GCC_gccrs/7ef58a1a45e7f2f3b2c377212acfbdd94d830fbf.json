{"sha": "7ef58a1a45e7f2f3b2c377212acfbdd94d830fbf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2VmNThhMWE0NWU3ZjJmM2IyYzM3NzIxMmFjZmJkZDk0ZDgzMGZiZg==", "commit": {"author": {"name": "Bill Schmidt", "email": "wschmidt@linux.ibm.com", "date": "2012-06-13T12:33:55Z"}, "committer": {"name": "William Schmidt", "email": "wschmidt@gcc.gnu.org", "date": "2012-06-13T12:33:55Z"}, "message": "re PR tree-optimization/53647 (gcc.c-torture/compile/20011229-1.c and gcc.c-torture/compile/pr25311.c)\n\n2012-06-13  Bill Schmidt  <wschmidt@linux.ibm.com>\n\n\tPR tree-optimization/53647\n\t* tree-ssa-phiopt.c (gate_hoist_loads): Skip transformation for\n\ttargets with no defined cache line size.\n\nFrom-SVN: r188509", "tree": {"sha": "7319899bbd978efd17dfe32407a4db522cad804b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7319899bbd978efd17dfe32407a4db522cad804b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7ef58a1a45e7f2f3b2c377212acfbdd94d830fbf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ef58a1a45e7f2f3b2c377212acfbdd94d830fbf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ef58a1a45e7f2f3b2c377212acfbdd94d830fbf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ef58a1a45e7f2f3b2c377212acfbdd94d830fbf/comments", "author": null, "committer": null, "parents": [{"sha": "a21892add39f50fadabff622b086e8b8faa7e93b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a21892add39f50fadabff622b086e8b8faa7e93b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a21892add39f50fadabff622b086e8b8faa7e93b"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "66d8a9f604797cd87af3e4574e7ac4fc77a77064", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ef58a1a45e7f2f3b2c377212acfbdd94d830fbf/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ef58a1a45e7f2f3b2c377212acfbdd94d830fbf/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7ef58a1a45e7f2f3b2c377212acfbdd94d830fbf", "patch": "@@ -1,3 +1,9 @@\n+2012-06-13  Bill Schmidt  <wschmidt@linux.ibm.com>\n+\n+\tPR tree-optimization/53647\n+\t* tree-ssa-phiopt.c (gate_hoist_loads): Skip transformation for\n+\ttargets with no defined cache line size.\n+\n 2012-06-13  Bill Schmidt  <wschmidt@linux.ibm.com>\n \n \t* targhooks.c (default_builtin_vectorized_conversion): Handle"}, {"sha": "c64e8e2a984eef4138a7fb14db3d571968d0945d", "filename": "gcc/tree-ssa-phiopt.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ef58a1a45e7f2f3b2c377212acfbdd94d830fbf/gcc%2Ftree-ssa-phiopt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ef58a1a45e7f2f3b2c377212acfbdd94d830fbf/gcc%2Ftree-ssa-phiopt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-phiopt.c?ref=7ef58a1a45e7f2f3b2c377212acfbdd94d830fbf", "patch": "@@ -1976,12 +1976,14 @@ hoist_adjacent_loads (basic_block bb0, basic_block bb1,\n /* Determine whether we should attempt to hoist adjacent loads out of\n    diamond patterns in pass_phiopt.  Always hoist loads if\n    -fhoist-adjacent-loads is specified and the target machine has\n-   a conditional move instruction.  */\n+   both a conditional move instruction and a defined cache line size.  */\n \n static bool\n gate_hoist_loads (void)\n {\n-  return (flag_hoist_adjacent_loads == 1 && HAVE_conditional_move);\n+  return (flag_hoist_adjacent_loads == 1\n+\t  && PARAM_VALUE (PARAM_L1_CACHE_LINE_SIZE)\n+\t  && HAVE_conditional_move);\n }\n \n /* Always do these optimizations if we have SSA"}]}