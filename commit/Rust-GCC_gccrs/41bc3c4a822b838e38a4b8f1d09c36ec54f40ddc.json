{"sha": "41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDFiYzNjNGE4MjJiODM4ZTM4YTRiOGYxZDA5YzM2ZWM1NGY0MGRkYw==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely.gcc@gmail.com", "date": "2009-08-26T19:03:24Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2009-08-26T19:03:24Z"}, "message": "re PR libstdc++/41005 ([C++0x] Unable to link fstream open and ctor with std::string argument.)\n\n2009-08-26  Jonathan Wakely  <jwakely.gcc@gmail.com>\n\n\tPR libstdc++/41005\n\t* configure.ac: Bump libtool_VERSION to 6:14:0.\n\t* configure: Regenerate.\n\t* src/Makefile.am: Compile fstream-inst.cc as C++0x.\n\t* src/Makefile.in: Regenerate.\n\t* config/abi/pre/gnu.ver: Add new symbols and disambiguate old ones,\n\tmove <future> symbols to 3.4.14 version.\n\t* testsuite/util/testsuite_abi.cc: Add GLIBCXX_3.4.14 version.\n\nFrom-SVN: r151126", "tree": {"sha": "ce6bdf80b9b8b5e45f458413d06900151dfd7bef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ce6bdf80b9b8b5e45f458413d06900151dfd7bef"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc/comments", "author": null, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "68ccd57c8c3c04c56136779c4287d33afb1ccd1b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68ccd57c8c3c04c56136779c4287d33afb1ccd1b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/68ccd57c8c3c04c56136779c4287d33afb1ccd1b"}], "stats": {"total": 69, "additions": 59, "deletions": 10}, "files": [{"sha": "39a7f0aa8af65db9b00e1002b75683432a5b47ab", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc", "patch": "@@ -1,3 +1,14 @@\n+2009-08-26  Jonathan Wakely  <jwakely.gcc@gmail.com>\n+\n+\tPR libstdc++/41005\n+\t* configure.ac: Bump libtool_VERSION to 6:14:0.\n+\t* configure: Regenerate.\n+\t* src/Makefile.am: Compile fstream-inst.cc as C++0x.\n+\t* src/Makefile.in: Regenerate.\n+\t* config/abi/pre/gnu.ver: Add new symbols and disambiguate old ones,\n+\tmove <future> symbols to 3.4.14 version.\n+\t* testsuite/util/testsuite_abi.cc: Add GLIBCXX_3.4.14 version.\n+\n 2009-08-25  Benjamin Kosnik  <bkoz@redhat.com>\n \n \t* include/bits/basic_string.h (basic_string): Add cbegin(),"}, {"sha": "60db314267bbb4e41ef1b7c3f63432145f83e9f1", "filename": "libstdc++-v3/config/abi/pre/gnu.ver", "status": "modified", "additions": 35, "deletions": 8, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc/libstdc%2B%2B-v3%2Fconfig%2Fabi%2Fpre%2Fgnu.ver", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc/libstdc%2B%2B-v3%2Fconfig%2Fabi%2Fpre%2Fgnu.ver", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fabi%2Fpre%2Fgnu.ver?ref=41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc", "patch": "@@ -32,7 +32,9 @@ GLIBCXX_3.4 {\n       std::a[e-z]*;\n #     std::ba[a-r]*;\n       std::basic_[a-e]*;\n-      std::basic_f[a-r]*;\n+      std::basic_f[a-h]*;\n+#     std::basic_filebuf;\n+      std::basic_f[j-r]*;\n #     std::basic_fstream;\n       std::basic_f[t-z]*;\n       std::basic_[g-h]*;\n@@ -283,28 +285,40 @@ GLIBCXX_3.4 {\n     _ZNSdC*;\n     _ZNSdD*;\n \n+    # std::basic_filebuf\n+    _ZNSt13basic_filebufI[cw]St11char_traitsI[cw]EEC*;\n+    _ZNSt13basic_filebufI[cw]St11char_traitsI[cw]EED*;\n+    _ZNSt13basic_filebufI[cw]St11char_traitsI[cw]EE[0-3]*;\n+    _ZNSt13basic_filebufI[cw]St11char_traitsI[cw]EE4openEPKc*;\n+    _ZNSt13basic_filebufI[cw]St11char_traitsI[cw]EE4sync*;\n+    _ZNSt13basic_filebufI[cw]St11char_traitsI[cw]EE[5-9]*;\n+    _ZNKSt13basic_filebufI[cw]St11char_traitsI[cw]EE7is_openEv;\n+\n     # std::basic_fstream\n-    _ZNSt13basic_fstreamI[cw]St11char_traitsI[cw]EEC*;\n+    _ZNSt13basic_fstreamI[cw]St11char_traitsI[cw]EEC[12]Ev;\n+    _ZNSt13basic_fstreamI[cw]St11char_traitsI[cw]EEC[12]EPKc*;\n     _ZNSt13basic_fstreamI[cw]St11char_traitsI[cw]EED*;\n     _ZNSt13basic_fstreamI[cw]St11char_traitsI[cw]EE5closeEv;\n     _ZNSt13basic_fstreamI[cw]St11char_traitsI[cw]EE7is_openEv;\n-    _ZNSt13basic_fstreamI[cw]St11char_traitsI[cw]EE4open*;\n+    _ZNSt13basic_fstreamI[cw]St11char_traitsI[cw]EE4openEPKc*;\n     _ZNKSt13basic_fstreamI[cw]St11char_traitsI[cw]EE5rdbufEv;\n \n     # std::basic_ifstream\n-    _ZNSt14basic_ifstreamI[cw]St11char_traitsI[cw]EEC*;\n+    _ZNSt14basic_ifstreamI[cw]St11char_traitsI[cw]EEC[12]Ev;\n+    _ZNSt14basic_ifstreamI[cw]St11char_traitsI[cw]EEC[12]EPKc*;\n     _ZNSt14basic_ifstreamI[cw]St11char_traitsI[cw]EED*;\n     _ZNSt14basic_ifstreamI[cw]St11char_traitsI[cw]EE5closeEv;\n     _ZNSt14basic_ifstreamI[cw]St11char_traitsI[cw]EE7is_openEv;\n-    _ZNSt14basic_ifstreamI[cw]St11char_traitsI[cw]EE4open*;\n+    _ZNSt14basic_ifstreamI[cw]St11char_traitsI[cw]EE4openEPKc*;\n     _ZNKSt14basic_ifstreamI[cw]St11char_traitsI[cw]EE5rdbufEv;\n \n     # std::basic_ofstream\n-    _ZNSt14basic_ofstreamI[cw]St11char_traitsI[cw]EEC*;\n+    _ZNSt14basic_ofstreamI[cw]St11char_traitsI[cw]EEC[12]Ev;\n+    _ZNSt14basic_ofstreamI[cw]St11char_traitsI[cw]EEC[12]EPKc*;\n     _ZNSt14basic_ofstreamI[cw]St11char_traitsI[cw]EED*;\n     _ZNSt14basic_ofstreamI[cw]St11char_traitsI[cw]EE5closeEv;\n     _ZNSt14basic_ofstreamI[cw]St11char_traitsI[cw]EE7is_openEv;\n-    _ZNSt14basic_ofstreamI[cw]St11char_traitsI[cw]EE4open*;\n+    _ZNSt14basic_ofstreamI[cw]St11char_traitsI[cw]EE4openEPKc*;\n     _ZNKSt14basic_ofstreamI[cw]St11char_traitsI[cw]EE5rdbufEv;\n \n     # std::basic_istream<char>\n@@ -978,6 +992,19 @@ GLIBCXX_3.4.12 {\n \n GLIBCXX_3.4.13 {\n \n+    # new fstream members\n+    _ZNSt13basic_filebufI[cw]St11char_traitsI[cw]EE4openERKSsSt13_Ios_Openmode;\n+    _ZNSt13basic_fstreamI[cw]St11char_traitsI[cw]EEC[12]ERKSsSt13_Ios_Openmode;\n+    _ZNSt13basic_fstreamI[cw]St11char_traitsI[cw]EE4openERKSsSt13_Ios_Openmode;\n+    _ZNSt14basic_ifstreamI[cw]St11char_traitsI[cw]EEC[12]ERKSsSt13_Ios_Openmode;\n+    _ZNSt14basic_ifstreamI[cw]St11char_traitsI[cw]EE4openERKSsSt13_Ios_Openmode;\n+    _ZNSt14basic_ofstreamI[cw]St11char_traitsI[cw]EEC[12]ERKSsSt13_Ios_Openmode;\n+    _ZNSt14basic_ofstreamI[cw]St11char_traitsI[cw]EE4openERKSsSt13_Ios_Openmode;\n+\n+} GLIBCXX_3.4.12;\n+\n+GLIBCXX_3.4.14 {\n+\n     # future\n     _ZSt15future_category;\n     _ZNSt12future_errorD*;\n@@ -997,7 +1024,7 @@ GLIBCXX_3.4.13 {\n     _ZNKSbIwSt11char_traitsIwESaIwEE7crbeginEv;\n     _ZNKSbIwSt11char_traitsIwESaIwEE5crendEv;\n \n-} GLIBCXX_3.4.12;\n+} GLIBCXX_3.4.13;\n \n # Symbols in the support library (libsupc++) have their own tag.\n CXXABI_1.3 {"}, {"sha": "9bfa40b8d2c39a4d8ef7786c8b5134558d8a2bf7", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc", "patch": "@@ -2927,7 +2927,7 @@ ac_config_headers=\"$ac_config_headers config.h\"\n ### am handles this now?  ORIGINAL_LD_FOR_MULTILIBS=$LD\n \n # For libtool versioning info, format is CURRENT:REVISION:AGE\n-libtool_VERSION=6:13:0\n+libtool_VERSION=6:14:0\n \n \n # Find the rest of the source tree framework."}, {"sha": "bc05d2d5d4a1b4cece7558cb635797c6cadf4a3f", "filename": "libstdc++-v3/configure.ac", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc/libstdc%2B%2B-v3%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc/libstdc%2B%2B-v3%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure.ac?ref=41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc", "patch": "@@ -12,7 +12,7 @@ AC_CONFIG_HEADER(config.h)\n ### am handles this now?  ORIGINAL_LD_FOR_MULTILIBS=$LD\n \n # For libtool versioning info, format is CURRENT:REVISION:AGE\n-libtool_VERSION=6:13:0\n+libtool_VERSION=6:14:0\n AC_SUBST(libtool_VERSION)\n \n # Find the rest of the source tree framework."}, {"sha": "54d521825c46d9089f298e341aac4c2d773829a7", "filename": "libstdc++-v3/src/Makefile.am", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc/libstdc%2B%2B-v3%2Fsrc%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc/libstdc%2B%2B-v3%2Fsrc%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2FMakefile.am?ref=41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc", "patch": "@@ -278,6 +278,11 @@ atomic.lo: atomic.cc\n atomic.o: atomic.cc\n \t$(CXXCOMPILE) -std=gnu++0x -c $<\n \n+fstream-inst.lo: fstream-inst.cc\n+\t$(LTCXXCOMPILE) -std=gnu++0x -c $<\n+fstream-inst.o: fstream-inst.cc\n+\t$(CXXCOMPILE) -std=gnu++0x -c $<\n+\n string-inst.lo: string-inst.cc\n \t$(LTCXXCOMPILE) -std=gnu++0x -c $<\n string-inst.o: string-inst.cc"}, {"sha": "e484d86e130980a2f9a94d108645ec60b36028a7", "filename": "libstdc++-v3/src/Makefile.in", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in?ref=41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc", "patch": "@@ -913,6 +913,11 @@ atomic.lo: atomic.cc\n atomic.o: atomic.cc\n \t$(CXXCOMPILE) -std=gnu++0x -c $<\n \n+fstream-inst.lo: fstream-inst.cc\n+\t$(LTCXXCOMPILE) -std=gnu++0x -c $<\n+fstream-inst.o: fstream-inst.cc\n+\t$(CXXCOMPILE) -std=gnu++0x -c $<\n+\n string-inst.lo: string-inst.cc\n \t$(LTCXXCOMPILE) -std=gnu++0x -c $<\n string-inst.o: string-inst.cc"}, {"sha": "562568aebcdc3854fd98ae9a455bb2826c660406", "filename": "libstdc++-v3/testsuite/util/testsuite_abi.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc/libstdc%2B%2B-v3%2Ftestsuite%2Futil%2Ftestsuite_abi.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc/libstdc%2B%2B-v3%2Ftestsuite%2Futil%2Ftestsuite_abi.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Futil%2Ftestsuite_abi.cc?ref=41bc3c4a822b838e38a4b8f1d09c36ec54f40ddc", "patch": "@@ -185,6 +185,7 @@ check_version(symbol& test, bool added)\n       known_versions.push_back(\"GLIBCXX_3.4.11\");\n       known_versions.push_back(\"GLIBCXX_3.4.12\");\n       known_versions.push_back(\"GLIBCXX_3.4.13\");\n+      known_versions.push_back(\"GLIBCXX_3.4.14\");\n       known_versions.push_back(\"GLIBCXX_LDBL_3.4\");\n       known_versions.push_back(\"GLIBCXX_LDBL_3.4.7\");\n       known_versions.push_back(\"GLIBCXX_LDBL_3.4.10\");"}]}