{"sha": "38e19e4c73b8614fb094c5c36abdd7da47a26a50", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzhlMTllNGM3M2I4NjE0ZmIwOTRjNWMzNmFiZGQ3ZGE0N2EyNmE1MA==", "commit": {"author": {"name": "Diego Novillo", "email": "dnovillo@redhat.com", "date": "2005-06-15T15:19:51Z"}, "committer": {"name": "Diego Novillo", "email": "dnovillo@gcc.gnu.org", "date": "2005-06-15T15:19:51Z"}, "message": "tree-vrp.c (vrp_int_const_binop): Do not handle MAX_EXPR when the result overflows.\n\n\n\t* tree-vrp.c (vrp_int_const_binop): Do not handle MAX_EXPR\n\twhen the result overflows.\n\nFrom-SVN: r100983", "tree": {"sha": "4661bb0b3249ca39b4637e0ce4e79fca3a9451e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4661bb0b3249ca39b4637e0ce4e79fca3a9451e4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/38e19e4c73b8614fb094c5c36abdd7da47a26a50", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38e19e4c73b8614fb094c5c36abdd7da47a26a50", "html_url": "https://github.com/Rust-GCC/gccrs/commit/38e19e4c73b8614fb094c5c36abdd7da47a26a50", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38e19e4c73b8614fb094c5c36abdd7da47a26a50/comments", "author": null, "committer": null, "parents": [{"sha": "352364de596dfb63506382fe3d821b5680f1ab00", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/352364de596dfb63506382fe3d821b5680f1ab00", "html_url": "https://github.com/Rust-GCC/gccrs/commit/352364de596dfb63506382fe3d821b5680f1ab00"}], "stats": {"total": 17, "additions": 14, "deletions": 3}, "files": [{"sha": "b029e3ded45f3c166a793b4f86c55fb930d8a080", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/38e19e4c73b8614fb094c5c36abdd7da47a26a50/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/38e19e4c73b8614fb094c5c36abdd7da47a26a50/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=38e19e4c73b8614fb094c5c36abdd7da47a26a50", "patch": "@@ -1,3 +1,8 @@\n+2005-06-15  Diego Novillo  <dnovillo@redhat.com>\n+\n+\t* tree-vrp.c (vrp_int_const_binop): Do not handle MAX_EXPR\n+\twhen the result overflows.\n+\n 2005-06-15  David Ung  <davidu@mips.com>\n \n \t* config/mips/mips.c (mips_rtx_cost_data): Add cost for 4kc, 4kp,"}, {"sha": "c0d0514cf607d528fa3d6c4b2f4eacf86f299218", "filename": "gcc/tree-vrp.c", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/38e19e4c73b8614fb094c5c36abdd7da47a26a50/gcc%2Ftree-vrp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/38e19e4c73b8614fb094c5c36abdd7da47a26a50/gcc%2Ftree-vrp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vrp.c?ref=38e19e4c73b8614fb094c5c36abdd7da47a26a50", "patch": "@@ -996,9 +996,15 @@ vrp_int_const_binop (enum tree_code code, tree val1, tree val2)\n       int sgn1 = tree_int_cst_sgn (val1);\n       int sgn2 = tree_int_cst_sgn (val2);\n \n-      /* Notice that we only need to handle the restricted set of\n-\t operations handled by extract_range_from_binary_expr.  */\n-      if (((code == PLUS_EXPR || code == MAX_EXPR) && sgn2 >= 0)\n+      /* Determine whether VAL1 CODE VAL2 yields a growing value.\n+\t Notice that we only need to handle the restricted set of\n+\t operations handled by extract_range_from_binary_expr:\n+\n+\t VAL1 + VAL2 grows if VAL2 is >= 0.\n+\t VAL1 * VAL2 grows if both VAL1 and VAL2 have the same sign.\n+\t VAL1 - VAL2 grows if VAL2 is < 0 (because it becomes an addition).\n+      */\n+      if ((code == PLUS_EXPR && sgn2 >= 0)\n \t  || (code == MULT_EXPR && sgn1 == sgn2)\n \t  || (code == MINUS_EXPR && sgn2 < 0))\n \tgrows = true;"}]}