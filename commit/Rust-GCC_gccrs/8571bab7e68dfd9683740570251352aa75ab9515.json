{"sha": "8571bab7e68dfd9683740570251352aa75ab9515", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODU3MWJhYjdlNjhkZmQ5NjgzNzQwNTcwMjUxMzUyYWE3NWFiOTUxNQ==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1994-02-20T20:39:12Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1994-02-20T20:39:12Z"}, "message": "(OBJECT_FORMAT_ELF): Add comments.\n\nFrom-SVN: r6592", "tree": {"sha": "c8c544c3a1f7f1ae60f109b44e3552fad04e4511", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c8c544c3a1f7f1ae60f109b44e3552fad04e4511"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8571bab7e68dfd9683740570251352aa75ab9515", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8571bab7e68dfd9683740570251352aa75ab9515", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8571bab7e68dfd9683740570251352aa75ab9515", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8571bab7e68dfd9683740570251352aa75ab9515/comments", "author": null, "committer": null, "parents": [{"sha": "b7bb5c984d90dbcda521093aaed90fba8194cbeb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7bb5c984d90dbcda521093aaed90fba8194cbeb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7bb5c984d90dbcda521093aaed90fba8194cbeb"}], "stats": {"total": 18, "additions": 13, "deletions": 5}, "files": [{"sha": "eec61909d4f7ea428f913feb8d458c1f3ccfd21e", "filename": "gcc/config/mips/iris5.h", "status": "modified", "additions": 13, "deletions": 5, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8571bab7e68dfd9683740570251352aa75ab9515/gcc%2Fconfig%2Fmips%2Firis5.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8571bab7e68dfd9683740570251352aa75ab9515/gcc%2Fconfig%2Fmips%2Firis5.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Firis5.h?ref=8571bab7e68dfd9683740570251352aa75ab9515", "patch": "@@ -20,10 +20,21 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n #define\tTARGET_DEFAULT\tMASK_ABICALLS\n #define ABICALLS_ASM_OP \".option pic2\"\n \n-#define OBJECT_FORMAT_ELF\n-\n #include \"mips/iris4.h\"\n \n+/* Irix 5 doesn't use COFF, so disable special COFF handling in collect2.c.  */\n+#undef OBJECT_FORMAT_COFF\n+\n+/* ??? This is correct, but not very useful, because there is no file that\n+   uses this macro.  */\n+/* ??? The best way to handle global constructors under ELF is to use .init\n+   and .fini sections.  Unfortunately, there is apparently no way to get\n+   the Irix 5.x (x <= 2) assembler to create these sections.  So we instead\n+   use collect.  The linker can create these sections via -init and -fini\n+   options, but using this would require modifying how crtstuff works, and\n+   I will leave that for another time (or someone else).  */\n+#define OBJECT_FORMAT_ELF\n+\n /* Specify wchar_t types.  */\n #undef\tWCHAR_TYPE\n #undef\tWCHAR_TYPE_SIZE\n@@ -76,13 +87,10 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n /* We do not want to run mips-tfile!  */\n #undef ASM_FINAL_SPEC\n \n-#undef OBJECT_FORMAT_COFF\n-\n /* We don't support debugging info for now. */\n #undef DBX_DEBUGGING_INFO\n #undef SDB_DEBUGGING_INFO\n #undef MIPS_DEBUGGING_INFO\n \n #undef MACHINE_TYPE\n #define MACHINE_TYPE \"SGI running IRIX 5.0\"\n-"}]}