{"sha": "86d75906524238df6b5487b3a64cd791c5cd2346", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODZkNzU5MDY1MjQyMzhkZjZiNTQ4N2IzYTY0Y2Q3OTFjNWNkMjM0Ng==", "commit": {"author": {"name": "John David Anglin", "email": "dave.anglin@nrc-cnrc.gc.ca", "date": "2003-09-02T23:29:10Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2003-09-02T23:29:10Z"}, "message": "re PR bootstrap/12100 (time.h:402: error: previous declaration of `clock'evious declaration of `clock')\n\n2003-08-29  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\nPR bootstrap/12100\n* aclocal.m4 (AC_LANG_FUNC_LINK_TRY): Define.\n* configure: Rebuilt.\n\nFrom-SVN: r71009", "tree": {"sha": "dc5631cd0506f7e4fa167e346acc4ab9f233128a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dc5631cd0506f7e4fa167e346acc4ab9f233128a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/86d75906524238df6b5487b3a64cd791c5cd2346", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86d75906524238df6b5487b3a64cd791c5cd2346", "html_url": "https://github.com/Rust-GCC/gccrs/commit/86d75906524238df6b5487b3a64cd791c5cd2346", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86d75906524238df6b5487b3a64cd791c5cd2346/comments", "author": null, "committer": null, "parents": [{"sha": "1918facfd12f3b3466d877a093ff8fc3ef80b668", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1918facfd12f3b3466d877a093ff8fc3ef80b668", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1918facfd12f3b3466d877a093ff8fc3ef80b668"}], "stats": {"total": 126, "additions": 99, "deletions": 27}, "files": [{"sha": "fb3c525ae41ac70981e2c28e973c905f0269625d", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86d75906524238df6b5487b3a64cd791c5cd2346/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86d75906524238df6b5487b3a64cd791c5cd2346/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=86d75906524238df6b5487b3a64cd791c5cd2346", "patch": "@@ -1,3 +1,9 @@\n+2003-08-29  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n+\n+\tPR bootstrap/12100\n+\t* aclocal.m4 (AC_LANG_FUNC_LINK_TRY): Define.\n+\t* configure: Rebuilt.\n+\n 2003-08-27  Daniel Jacobowitz  <drow@mvista.com>\n \n \t* aclocal.m4: Include acx.m4 and no-executables.m4."}, {"sha": "f33e0c6218dc5ec05792737189e4ea846b1c762e", "filename": "libiberty/aclocal.m4", "status": "modified", "additions": 49, "deletions": 0, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86d75906524238df6b5487b3a64cd791c5cd2346/libiberty%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86d75906524238df6b5487b3a64cd791c5cd2346/libiberty%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Faclocal.m4?ref=86d75906524238df6b5487b3a64cd791c5cd2346", "patch": "@@ -180,3 +180,52 @@ AC_DEFINE_UNQUOTED(STACK_DIRECTION, $ac_cv_c_stack_direction,\n         STACK_DIRECTION < 0 => grows toward lower addresses\n         STACK_DIRECTION = 0 => direction of growth unknown])\n ])\n+\n+# AC_LANG_FUNC_LINK_TRY(C)(FUNCTION)\n+# ----------------------------------\n+# Don't include <ctype.h> because on OSF/1 3.0 it includes\n+# <sys/types.h> which includes <sys/select.h> which contains a\n+# prototype for select.  Similarly for bzero.\n+#\n+# This test used to merely assign f=$1 in main(), but that was\n+# optimized away by HP unbundled cc A.05.36 for ia64 under +O3,\n+# presumably on the basis that there's no need to do that store if the\n+# program is about to exit.  Conversely, the AIX linker optimizes an\n+# unused external declaration that initializes f=$1.  So this test\n+# program has both an external initialization of f, and a use of f in\n+# main that affects the exit status.\n+#\n+m4_define([AC_LANG_FUNC_LINK_TRY(C)],\n+[AC_LANG_PROGRAM(\n+[/* System header to define __stub macros and hopefully few prototypes,\n+    which can conflict with char $1 (); below.\n+    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n+    <limits.h> exists even on freestanding compilers.  Under hpux,\n+    including <limits.h> includes <sys/time.h> and causes problems\n+    checking for functions defined therein.  */\n+#if defined (__STDC__) && !defined (_HPUX_SOURCE)\n+# include <limits.h>\n+#else\n+# include <assert.h>\n+#endif\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+#ifdef __cplusplus\n+extern \"C\"\n+{\n+#endif\n+/* We use char because int might match the return type of a gcc2\n+   builtin and then its argument prototype would still apply.  */\n+char $1 ();\n+/* The GNU C library defines this for functions which it implements\n+    to always fail with ENOSYS.  Some functions are actually named\n+    something starting with __ and the normal name is an alias.  */\n+#if defined (__stub_$1) || defined (__stub___$1)\n+choke me\n+#else\n+char (*f) () = $1;\n+#endif\n+#ifdef __cplusplus\n+}\n+#endif\n+], [return f != $1;])])\n+"}, {"sha": "98a641e8ab05e4f856e3a61e8e0aaa6210dd3912", "filename": "libiberty/configure", "status": "modified", "additions": 44, "deletions": 27, "changes": 71, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86d75906524238df6b5487b3a64cd791c5cd2346/libiberty%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86d75906524238df6b5487b3a64cd791c5cd2346/libiberty%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfigure?ref=86d75906524238df6b5487b3a64cd791c5cd2346", "patch": "@@ -923,7 +923,7 @@ ac_abs_top_srcdir=`cd \"$ac_dir\" && cd $ac_top_srcdir && pwd`\n     else\n       echo \"$as_me: WARNING: no configuration information is in $ac_dir\" >&2\n     fi\n-    cd \"$ac_popdir\"\n+    cd $ac_popdir\n   done\n fi\n \n@@ -1120,7 +1120,7 @@ _ASBOX\n       echo \"$as_me: caught signal $ac_signal\"\n     echo \"$as_me: exit $exit_status\"\n   } >&5\n-  rm -f core *.core &&\n+  rm -f core core.* *.core &&\n   rm -rf conftest* confdefs* conf$$* $ac_clean_files &&\n     exit $exit_status\n      ' 0\n@@ -2486,7 +2486,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); }; }; then\n   for ac_declaration in \\\n-   '' \\\n+   ''\\\n+   '#include <stdlib.h>' \\\n    'extern \"C\" void std::exit (int) throw (); using std::exit;' \\\n    'extern \"C\" void std::exit (int); using std::exit;' \\\n    'extern \"C\" void exit (int) throw ();' \\\n@@ -2500,8 +2501,8 @@ _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n cat >>conftest.$ac_ext <<_ACEOF\n /* end confdefs.h.  */\n-$ac_declaration\n #include <stdlib.h>\n+$ac_declaration\n int\n main ()\n {\n@@ -2976,7 +2977,7 @@ sed 's/^/| /' conftest.$ac_ext >&5\n ( exit $ac_status )\n ac_cv_c_bigendian=yes\n fi\n-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n+rm -f core core.* *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n fi\n fi\n fi\n@@ -3529,7 +3530,7 @@ sed 's/^/| /' conftest.$ac_ext >&5\n ( exit $ac_status )\n ac_cv_header_stdc=no\n fi\n-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n+rm -f core core.* *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n fi\n fi\n fi\n@@ -4220,8 +4221,10 @@ cat >>conftest.$ac_ext <<_ACEOF\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func (); below.\n     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n-    <limits.h> exists even on freestanding compilers.  */\n-#ifdef __STDC__\n+    <limits.h> exists even on freestanding compilers.  Under hpux,\n+    including <limits.h> includes <sys/time.h> and causes problems\n+    checking for functions defined therein.  */\n+#if defined (__STDC__) && !defined (_HPUX_SOURCE)\n # include <limits.h>\n #else\n # include <assert.h>\n@@ -4645,8 +4648,10 @@ cat >>conftest.$ac_ext <<_ACEOF\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func (); below.\n     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n-    <limits.h> exists even on freestanding compilers.  */\n-#ifdef __STDC__\n+    <limits.h> exists even on freestanding compilers.  Under hpux,\n+    including <limits.h> includes <sys/time.h> and causes problems\n+    checking for functions defined therein.  */\n+#if defined (__STDC__) && !defined (_HPUX_SOURCE)\n # include <limits.h>\n #else\n # include <assert.h>\n@@ -4766,8 +4771,10 @@ cat >>conftest.$ac_ext <<_ACEOF\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func (); below.\n     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n-    <limits.h> exists even on freestanding compilers.  */\n-#ifdef __STDC__\n+    <limits.h> exists even on freestanding compilers.  Under hpux,\n+    including <limits.h> includes <sys/time.h> and causes problems\n+    checking for functions defined therein.  */\n+#if defined (__STDC__) && !defined (_HPUX_SOURCE)\n # include <limits.h>\n #else\n # include <assert.h>\n@@ -4886,7 +4893,7 @@ sed 's/^/| /' conftest.$ac_ext >&5\n ( exit $ac_status )\n ac_cv_c_stack_direction=-1\n fi\n-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n+rm -f core core.* *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n fi\n fi\n echo \"$as_me:$LINENO: result: $ac_cv_c_stack_direction\" >&5\n@@ -5065,8 +5072,10 @@ cat >>conftest.$ac_ext <<_ACEOF\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func (); below.\n     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n-    <limits.h> exists even on freestanding compilers.  */\n-#ifdef __STDC__\n+    <limits.h> exists even on freestanding compilers.  Under hpux,\n+    including <limits.h> includes <sys/time.h> and causes problems\n+    checking for functions defined therein.  */\n+#if defined (__STDC__) && !defined (_HPUX_SOURCE)\n # include <limits.h>\n #else\n # include <assert.h>\n@@ -5173,7 +5182,7 @@ sed 's/^/| /' conftest.$ac_ext >&5\n ( exit $ac_status )\n ac_cv_func_fork_works=no\n fi\n-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n+rm -f core core.* *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n fi\n fi\n echo \"$as_me:$LINENO: result: $ac_cv_func_fork_works\" >&5\n@@ -5328,7 +5337,7 @@ sed 's/^/| /' conftest.$ac_ext >&5\n ( exit $ac_status )\n ac_cv_func_vfork_works=no\n fi\n-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n+rm -f core core.* *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n fi\n fi\n echo \"$as_me:$LINENO: result: $ac_cv_func_vfork_works\" >&5\n@@ -5393,8 +5402,10 @@ cat >>conftest.$ac_ext <<_ACEOF\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func (); below.\n     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n-    <limits.h> exists even on freestanding compilers.  */\n-#ifdef __STDC__\n+    <limits.h> exists even on freestanding compilers.  Under hpux,\n+    including <limits.h> includes <sys/time.h> and causes problems\n+    checking for functions defined therein.  */\n+#if defined (__STDC__) && !defined (_HPUX_SOURCE)\n # include <limits.h>\n #else\n # include <assert.h>\n@@ -5486,8 +5497,10 @@ cat >>conftest.$ac_ext <<_ACEOF\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func (); below.\n     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n-    <limits.h> exists even on freestanding compilers.  */\n-#ifdef __STDC__\n+    <limits.h> exists even on freestanding compilers.  Under hpux,\n+    including <limits.h> includes <sys/time.h> and causes problems\n+    checking for functions defined therein.  */\n+#if defined (__STDC__) && !defined (_HPUX_SOURCE)\n # include <limits.h>\n #else\n # include <assert.h>\n@@ -5688,8 +5701,10 @@ cat >>conftest.$ac_ext <<_ACEOF\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func (); below.\n     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n-    <limits.h> exists even on freestanding compilers.  */\n-#ifdef __STDC__\n+    <limits.h> exists even on freestanding compilers.  Under hpux,\n+    including <limits.h> includes <sys/time.h> and causes problems\n+    checking for functions defined therein.  */\n+#if defined (__STDC__) && !defined (_HPUX_SOURCE)\n # include <limits.h>\n #else\n # include <assert.h>\n@@ -6006,8 +6021,10 @@ cat >>conftest.$ac_ext <<_ACEOF\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func (); below.\n     Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n-    <limits.h> exists even on freestanding compilers.  */\n-#ifdef __STDC__\n+    <limits.h> exists even on freestanding compilers.  Under hpux,\n+    including <limits.h> includes <sys/time.h> and causes problems\n+    checking for functions defined therein.  */\n+#if defined (__STDC__) && !defined (_HPUX_SOURCE)\n # include <limits.h>\n #else\n # include <assert.h>\n@@ -6233,7 +6250,7 @@ sed 's/^/| /' conftest.$ac_ext >&5\n ( exit $ac_status )\n ac_cv_func_mmap_fixed_mapped=no\n fi\n-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n+rm -f core core.* *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n fi\n fi\n echo \"$as_me:$LINENO: result: $ac_cv_func_mmap_fixed_mapped\" >&5\n@@ -6346,7 +6363,7 @@ sed 's/^/| /' conftest.$ac_ext >&5\n ( exit $ac_status )\n ac_cv_func_strncmp_works=no\n fi\n-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n+rm -f core core.* *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n fi\n rm -f core core.* *.core\n fi"}]}