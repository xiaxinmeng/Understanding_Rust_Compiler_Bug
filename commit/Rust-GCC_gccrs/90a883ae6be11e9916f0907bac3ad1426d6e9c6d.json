{"sha": "90a883ae6be11e9916f0907bac3ad1426d6e9c6d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTBhODgzYWU2YmUxMWU5OTE2ZjA5MDdiYWMzYWQxNDI2ZDZlOWM2ZA==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "2000-03-14T21:59:54Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2000-03-14T21:59:54Z"}, "message": "jni.cc (mangled_name): Fixed assertion.\n\n\t* jni.cc (mangled_name): Fixed assertion.\n\t(JNI_GetCreatedJavaVMs): Don't comment out `buf_len' argument;\n\tturned assert into actual failure.\n\nFrom-SVN: r32546", "tree": {"sha": "5399dfe780e1b84710226e8d752f11946e0f1302", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5399dfe780e1b84710226e8d752f11946e0f1302"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/90a883ae6be11e9916f0907bac3ad1426d6e9c6d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90a883ae6be11e9916f0907bac3ad1426d6e9c6d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/90a883ae6be11e9916f0907bac3ad1426d6e9c6d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90a883ae6be11e9916f0907bac3ad1426d6e9c6d/comments", "author": null, "committer": null, "parents": [{"sha": "0edd203b8dcf9b32999e9c61603ae406158e260a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0edd203b8dcf9b32999e9c61603ae406158e260a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0edd203b8dcf9b32999e9c61603ae406158e260a"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "121e8847686e637a762b6708b570591275bcad2f", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90a883ae6be11e9916f0907bac3ad1426d6e9c6d/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90a883ae6be11e9916f0907bac3ad1426d6e9c6d/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=90a883ae6be11e9916f0907bac3ad1426d6e9c6d", "patch": "@@ -1,3 +1,9 @@\n+2000-03-14  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* jni.cc (mangled_name): Fixed assertion.\n+\t(JNI_GetCreatedJavaVMs): Don't comment out `buf_len' argument;\n+\tturned assert into actual failure.\n+\n 2000-03-09  Warren Levy  <warrenl@cygnus.com>\n \n \t* java/security/Key.java(serialVersionUID): Set to 0 for now."}, {"sha": "6cf489f3d9a51508cdc9fd45ab01fd7548bb0e55", "filename": "libjava/jni.cc", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90a883ae6be11e9916f0907bac3ad1426d6e9c6d/libjava%2Fjni.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90a883ae6be11e9916f0907bac3ad1426d6e9c6d/libjava%2Fjni.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjni.cc?ref=90a883ae6be11e9916f0907bac3ad1426d6e9c6d", "patch": "@@ -1606,7 +1606,7 @@ mangled_name (jclass klass, _Jv_Utf8Const *func_name,\n \n   const unsigned char *sig = (const unsigned char *) signature->data;\n   limit = sig + signature->length;\n-  JvAssert (signature[0] == '(');\n+  JvAssert (sig[0] == '(');\n   ++sig;\n   while (1)\n     {\n@@ -1958,9 +1958,11 @@ JNI_CreateJavaVM (JavaVM **vm, void **penv, void *args)\n }\n \n jint\n-JNI_GetCreatedJavaVMs (JavaVM **vm_buffer, jsize /* buf_len */, jsize *n_vms)\n+JNI_GetCreatedJavaVMs (JavaVM **vm_buffer, jsize buf_len, jsize *n_vms)\n {\n-  JvAssert (buf_len > 0);\n+  if (buf_len <= 0)\n+    return JNI_ERR;\n+\n   // We only support a single VM.\n   if (the_vm != NULL)\n     {"}]}