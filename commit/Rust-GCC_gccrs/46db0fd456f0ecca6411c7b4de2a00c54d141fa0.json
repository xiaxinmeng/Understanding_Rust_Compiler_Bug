{"sha": "46db0fd456f0ecca6411c7b4de2a00c54d141fa0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDZkYjBmZDQ1NmYwZWNjYTY0MTFjN2I0ZGUyYTAwYzU0ZDE0MWZhMA==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2016-06-26T01:03:19Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2016-06-26T01:03:19Z"}, "message": "re PR fortran/71649 (Internal compiler error)\n\n2016-06-25  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR fortran/71649\n\t* module.c (create_intrinsic_function): Check for NULL values and\n\treturn after giving error.\n\n\tPR fortran/71649\n\t* gfortran.dg/pr71649.f90: New test.\n\nFrom-SVN: r237789", "tree": {"sha": "a921e77f6a2fbc4ce1d8c2d6e2a386a83538da4f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a921e77f6a2fbc4ce1d8c2d6e2a386a83538da4f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/46db0fd456f0ecca6411c7b4de2a00c54d141fa0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46db0fd456f0ecca6411c7b4de2a00c54d141fa0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/46db0fd456f0ecca6411c7b4de2a00c54d141fa0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46db0fd456f0ecca6411c7b4de2a00c54d141fa0/comments", "author": null, "committer": null, "parents": [{"sha": "9bbbddab3cc8154c8babadf123e6f903e9316118", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9bbbddab3cc8154c8babadf123e6f903e9316118", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9bbbddab3cc8154c8babadf123e6f903e9316118"}], "stats": {"total": 32, "additions": 29, "deletions": 3}, "files": [{"sha": "b8cadceb5910c64d11bf1a461349b9fad4025de3", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46db0fd456f0ecca6411c7b4de2a00c54d141fa0/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46db0fd456f0ecca6411c7b4de2a00c54d141fa0/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=46db0fd456f0ecca6411c7b4de2a00c54d141fa0", "patch": "@@ -1,3 +1,9 @@\n+2016-06-25  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR fortran/71649\n+\t* module.c (create_intrinsic_function): Check for NULL values and\n+\treturn after giving error.\n+\n 2016-06-21  Michael Meissner  <meissner@linux.vnet.ibm.com>\n \n \t* trans-types.c (gfc_build_complex_type): Move setting complex"}, {"sha": "4d664f079f5a9c4e71c0af14f3bc8415a5cd2190", "filename": "gcc/fortran/module.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46db0fd456f0ecca6411c7b4de2a00c54d141fa0/gcc%2Ffortran%2Fmodule.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46db0fd456f0ecca6411c7b4de2a00c54d141fa0/gcc%2Ffortran%2Fmodule.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fmodule.c?ref=46db0fd456f0ecca6411c7b4de2a00c54d141fa0", "patch": "@@ -6159,9 +6159,11 @@ create_intrinsic_function (const char *name, int id,\n   tmp_symtree = gfc_find_symtree (gfc_current_ns->sym_root, name);\n   if (tmp_symtree)\n     {\n-      if (strcmp (modname, tmp_symtree->n.sym->module) == 0)\n-        return;\n-      gfc_error (\"Symbol %qs already declared\", name);\n+      if (tmp_symtree->n.sym && tmp_symtree->n.sym->module\n+\t  && strcmp (modname, tmp_symtree->n.sym->module) == 0)\n+\treturn;\n+      gfc_error (\"Symbol %qs at %C already declared\", name);\n+      return;\n     }\n \n   gfc_get_sym_tree (name, gfc_current_ns, &tmp_symtree, false);"}, {"sha": "13c9ce2e5c2bf34b35e63d371bf429f628336182", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46db0fd456f0ecca6411c7b4de2a00c54d141fa0/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46db0fd456f0ecca6411c7b4de2a00c54d141fa0/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=46db0fd456f0ecca6411c7b4de2a00c54d141fa0", "patch": "@@ -1,3 +1,8 @@\n+2016-06-25  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR fortran/71649\n+\t* gfortran.dg/pr71649.f90: New test.\n+\n 2016-06-25  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/71643"}, {"sha": "f20b7687e6f330ad4d98cd59f3fe3cfc4dfe45b3", "filename": "gcc/testsuite/gfortran.dg/pr71649.f90", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46db0fd456f0ecca6411c7b4de2a00c54d141fa0/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr71649.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46db0fd456f0ecca6411c7b4de2a00c54d141fa0/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr71649.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr71649.f90?ref=46db0fd456f0ecca6411c7b4de2a00c54d141fa0", "patch": "@@ -0,0 +1,13 @@\n+! { dg-do compile }\n+! PR71649 Internal Compiler Error\n+SUBROUTINE Compiler_Options ( Options, Version, WriteOpt )\n+   USE ISO_FORTRAN_ENV, ONLY : Compiler_Version, Compiler_Options ! { dg-error \"already declared\" }\n+   IMPLICIT NONE\n+   CHARACTER (LEN=*), INTENT(OUT) :: Options\n+   CHARACTER (LEN=*), INTENT(OUT) :: Version\n+   LOGICAL, INTENT(IN), OPTIONAL  :: WriteOpt\n+   Version = Compiler_Version()\n+   Options = Compiler_Options() ! { dg-error \"Unexpected use of subroutine name\" }\n+   RETURN\n+END SUBROUTINE Compiler_Options\n+"}]}