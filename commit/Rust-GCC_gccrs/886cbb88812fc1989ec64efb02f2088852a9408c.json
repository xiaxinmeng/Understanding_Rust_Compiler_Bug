{"sha": "886cbb88812fc1989ec64efb02f2088852a9408c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODg2Y2JiODg4MTJmYzE5ODllYzY0ZWZiMDJmMjA4ODg1MmE5NDA4Yw==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2001-03-30T15:43:44Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2001-03-30T15:43:44Z"}, "message": "i386.c (ix86_split_long_move): Use change address to compensate stack pointer change in push instruction.\n\n\n\t* i386.c (ix86_split_long_move): Use change address to compensate\n\tstack pointer change in push instruction.\n\nFrom-SVN: r40968", "tree": {"sha": "ff6e45d526653dc3bfc9d426c62a97ab77119cb3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ff6e45d526653dc3bfc9d426c62a97ab77119cb3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/886cbb88812fc1989ec64efb02f2088852a9408c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/886cbb88812fc1989ec64efb02f2088852a9408c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/886cbb88812fc1989ec64efb02f2088852a9408c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/886cbb88812fc1989ec64efb02f2088852a9408c/comments", "author": null, "committer": null, "parents": [{"sha": "63408ab10ce6a64a3b1861d891fd9c79efa76960", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/63408ab10ce6a64a3b1861d891fd9c79efa76960", "html_url": "https://github.com/Rust-GCC/gccrs/commit/63408ab10ce6a64a3b1861d891fd9c79efa76960"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "533b520f763432d73e551a30939c5b11d66357cc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/886cbb88812fc1989ec64efb02f2088852a9408c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/886cbb88812fc1989ec64efb02f2088852a9408c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=886cbb88812fc1989ec64efb02f2088852a9408c", "patch": "@@ -1,3 +1,8 @@\n+Fri Mar 30 17:36:43 CEST 2001  Jan Hubicka  <jh@suse.cz>\n+\n+\t* i386.c (ix86_split_long_move): Use change address to compensate\n+\tstack pointer change in push instruction.\n+\n Fri Mar 30 00:31:00 CEST 2001  Jan Hubicka  <jh@suse.cz>\n \n \t* i386.md (sse_movdfcc_eq): Fix constraint (sse_mov?fcc splitter): Use operands_match_p"}, {"sha": "9d63c5ed23ca72743c6f88c373b70a837ef2a1cb", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/886cbb88812fc1989ec64efb02f2088852a9408c/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/886cbb88812fc1989ec64efb02f2088852a9408c/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=886cbb88812fc1989ec64efb02f2088852a9408c", "patch": "@@ -6917,8 +6917,10 @@ ix86_split_long_move (operands)\n       && reg_overlap_mentioned_p (stack_pointer_rtx, operands[1]))\n     {\n       if (nparts == 3)\n-\tpart[1][1] = part[1][2];\n-      part[1][0] = part[1][1];\n+\tpart[1][1] = change_address (part[1][1], GET_MODE (part[1][1]),\n+\t\t\t\t     XEXP (part[1][2], 0));\n+      part[1][0] = change_address (part[1][0], GET_MODE (part[1][0]),\n+\t\t\t\t   XEXP (part[1][1], 0));\n     }\n \n   /* We need to do copy in the right order in case an address register\n@@ -6990,6 +6992,8 @@ ix86_split_long_move (operands)\n \t\tpart[1][1] = gen_rtx_REG (DImode, REGNO (part[1][1]));\n \t      else\n \t\tabort();\n+\t      if (GET_MODE (part[1][0]) == SImode)\n+\t\tpart[1][0] = part[1][1];\n \t    }\n \t}\n       emit_move_insn (part[0][1], part[1][1]);"}]}