{"sha": "4fc4d8507ed500b25bf558875b1c011ce36e4647", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGZjNGQ4NTA3ZWQ1MDBiMjViZjU1ODg3NWIxYzAxMWNlMzZlNDY0Nw==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernd.schmidt@analog.com", "date": "2008-05-16T11:03:23Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2008-05-16T11:03:23Z"}, "message": "bfin.c (bfin_discover_loops): Delete empty loops.\n\n\t* config/bfin/bfin.c (bfin_discover_loops): Delete empty loops.\n\nFrom-SVN: r135414", "tree": {"sha": "aa35d729ddb84983b0e5f26d6811ef6dd5033f5a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aa35d729ddb84983b0e5f26d6811ef6dd5033f5a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4fc4d8507ed500b25bf558875b1c011ce36e4647", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4fc4d8507ed500b25bf558875b1c011ce36e4647", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4fc4d8507ed500b25bf558875b1c011ce36e4647", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4fc4d8507ed500b25bf558875b1c011ce36e4647/comments", "author": null, "committer": null, "parents": [{"sha": "1686960610014d17b0e76fb5f4689b78edbb77f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1686960610014d17b0e76fb5f4689b78edbb77f4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1686960610014d17b0e76fb5f4689b78edbb77f4"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "5cd0d1fa52e3a417eaad8f26c5bbe6c009b6ce4b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fc4d8507ed500b25bf558875b1c011ce36e4647/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fc4d8507ed500b25bf558875b1c011ce36e4647/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4fc4d8507ed500b25bf558875b1c011ce36e4647", "patch": "@@ -1,5 +1,7 @@\n 2008-05-16  Bernd Schmidt  <bernd.schmidt@analog.com>\n \n+\t* config/bfin/bfin.c (bfin_discover_loops): Delete empty loops.\n+\n \tFrom Jie Zhang  <jie.zhang@analog.com>\n         * config/bfin/t-bfin-elf (MULTILIB_OPTIONS, MULTILIB_DIRNAMES,\n \tMULTILIB_MATCHES, MULTILIB_EXCEPTIONS): Remove mcpu=bf532-0.3,"}, {"sha": "d6506b6e09bfb347b9e7c2d37a27e24a7a406b75", "filename": "gcc/config/bfin/bfin.c", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fc4d8507ed500b25bf558875b1c011ce36e4647/gcc%2Fconfig%2Fbfin%2Fbfin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fc4d8507ed500b25bf558875b1c011ce36e4647/gcc%2Fconfig%2Fbfin%2Fbfin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fbfin%2Fbfin.c?ref=4fc4d8507ed500b25bf558875b1c011ce36e4647", "patch": "@@ -4218,8 +4218,23 @@ bfin_discover_loops (bitmap_obstack *stack, FILE *dump_file)\n \n       if (INSN_P (tail) && recog_memoized (tail) == CODE_FOR_loop_end)\n \t{\n+\t  rtx insn;\n \t  /* A possible loop end */\n \n+\t  /* There's a degenerate case we can handle - an empty loop consisting\n+\t     of only a back branch.  Handle that by deleting the branch.  */\n+\t  insn = BB_HEAD (BRANCH_EDGE (bb)->dest);\n+\t  if (next_real_insn (insn) == tail)\n+\t    {\n+\t      if (dump_file)\n+\t\t{\n+\t\t  fprintf (dump_file, \";; degenerate loop ending at\\n\");\n+\t\t  print_rtl_single (dump_file, tail);\n+\t\t}\n+\t      delete_insn_and_edges (tail);\n+\t      continue;\n+\t    }\n+\n \t  loop = XNEW (struct loop_info);\n \t  loop->next = loops;\n \t  loops = loop;"}]}