{"sha": "0f57bf40b889941ee61338063068f50d73e8d86d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGY1N2JmNDBiODg5OTQxZWU2MTMzODA2MzA2OGY1MGQ3M2U4ZDg2ZA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2006-06-21T09:16:03Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2006-06-21T09:16:03Z"}, "message": "acinclude.m4 (GLIBCXX_EXPORT_INSTALL_INFO): When cross-compiling, put headers in $prefix/$target/include/c++.\n\n\t* acinclude.m4 (GLIBCXX_EXPORT_INSTALL_INFO): When\n\tcross-compiling, put headers in $prefix/$target/include/c++.\n\t* configure: Regenerated.\n\n\t* configure.ac: Set gcc_gxx_include_dir to $target/include/c++\n\twhen cross-compiling.  Do not substitute libstdcxx_incdir.\n\t* configure: Regenerated.\n\nFrom-SVN: r114845", "tree": {"sha": "71cd1bbb2b1bef621cae5bc07f81ff0dd80bb65a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/71cd1bbb2b1bef621cae5bc07f81ff0dd80bb65a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0f57bf40b889941ee61338063068f50d73e8d86d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f57bf40b889941ee61338063068f50d73e8d86d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f57bf40b889941ee61338063068f50d73e8d86d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f57bf40b889941ee61338063068f50d73e8d86d/comments", "author": null, "committer": null, "parents": [{"sha": "5d7b51995eab6b609a1f1e58dc3e3f5a5df73b8d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d7b51995eab6b609a1f1e58dc3e3f5a5df73b8d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d7b51995eab6b609a1f1e58dc3e3f5a5df73b8d"}], "stats": {"total": 887, "additions": 569, "deletions": 318}, "files": [{"sha": "3fe0c528c2fc8d96a903d4dc1c09fbf81edbff12", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f57bf40b889941ee61338063068f50d73e8d86d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f57bf40b889941ee61338063068f50d73e8d86d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0f57bf40b889941ee61338063068f50d73e8d86d", "patch": "@@ -1,3 +1,9 @@\n+2006-06-21  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* configure.ac: Set gcc_gxx_include_dir to $target/include/c++\n+\twhen cross-compiling.  Do not substitute libstdcxx_incdir.\n+\t* configure: Regenerated.\n+\n 2006-06-21  Jakub Jelinek  <jakub@redhat.com>\n \n \t* varasm.c (mergeable_string_section): Check for embedded NULs and"}, {"sha": "5bac01649b219a6c8b9c8b725102b914a9516dbe", "filename": "gcc/configure", "status": "modified", "additions": 536, "deletions": 313, "changes": 849, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f57bf40b889941ee61338063068f50d73e8d86d/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f57bf40b889941ee61338063068f50d73e8d86d/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=0f57bf40b889941ee61338063068f50d73e8d86d", "patch": "@@ -309,7 +309,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical build_subdir host_subdir target_subdir GENINSRC CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT NO_MINUS_C_MINUS_O OUTPUT_OPTION CPP EGREP strict1_warn cxx_compat_warn warn_cflags WERROR nocommon_flag TREEBROWSER valgrind_path valgrind_path_defines valgrind_command coverage_flags enable_multilib enable_decimal_float enable_shared TARGET_SYSTEM_ROOT TARGET_SYSTEM_ROOT_DEFINE CROSS_SYSTEM_HEADER_DIR onestep datarootdir docdir htmldir SET_MAKE AWK LN_S LN RANLIB ac_ct_RANLIB ranlib_flags INSTALL INSTALL_PROGRAM INSTALL_DATA make_compare_target have_mktemp_command MAKEINFO BUILD_INFO GENERATED_MANPAGES FLEX BISON NM AR stage1_cflags COLLECT2_LIBS GNAT_LIBEXC LDEXP_LIB TARGET_GETGROUPS_T LIBICONV LTLIBICONV LIBICONV_DEP manext objext gthread_flags extra_modes_file extra_opt_files USE_NLS LIBINTL LIBINTL_DEP INCINTL XGETTEXT GMSGFMT POSUB CATALOGS DATADIRNAME INSTOBJEXT GENCAT CATOBJEXT host_cc_for_libada CROSS ALL SYSTEM_HEADER_DIR inhibit_libc CC_FOR_BUILD BUILD_CFLAGS STMP_FIXINC STMP_FIXPROTO collect2 gcc_cv_as ORIGINAL_AS_FOR_TARGET gcc_cv_ld ORIGINAL_LD_FOR_TARGET gcc_cv_nm ORIGINAL_NM_FOR_TARGET gcc_cv_objdump libgcc_visibility GGC zlibdir zlibinc MAINT gcc_tooldir dollar slibdir objdir subdirs srcdir all_boot_languages all_compilers all_gtfiles all_gtfiles_files_langs all_gtfiles_files_files all_lang_makefrags all_lang_makefiles all_languages all_selected_languages all_stagestuff build_exeext build_install_headers_dir build_xm_file_list build_xm_include_list build_xm_defines check_languages cc_set_by_configure quoted_cc_set_by_configure cpp_install_dir xmake_file tmake_file extra_gcc_objs extra_headers_list extra_objs extra_parts extra_passes extra_programs float_h_file gcc_config_arguments gcc_gxx_include_dir libstdcxx_incdir host_exeext host_xm_file_list host_xm_include_list host_xm_defines out_host_hook_obj install lang_opt_files lang_specs_files lang_tree_files local_prefix md_file objc_boehm_gc out_file out_object_file stage_prefix_set_by_configure quoted_stage_prefix_set_by_configure thread_file tm_file_list tm_include_list tm_defines tm_p_file_list tm_p_include_list xm_file_list xm_include_list xm_defines c_target_objs cxx_target_objs target_cpu_default GMPLIBS GMPINC LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os GENINSRC CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT NO_MINUS_C_MINUS_O OUTPUT_OPTION CPP EGREP strict1_warn cxx_compat_warn warn_cflags WERROR nocommon_flag TREEBROWSER valgrind_path valgrind_path_defines valgrind_command coverage_flags enable_multilib enable_decimal_float enable_shared TARGET_SYSTEM_ROOT TARGET_SYSTEM_ROOT_DEFINE CROSS_SYSTEM_HEADER_DIR onestep datarootdir docdir htmldir SET_MAKE AWK LN_S RANLIB ac_ct_RANLIB ranlib_flags INSTALL INSTALL_PROGRAM INSTALL_DATA make_compare_target have_mktemp_command MAKEINFO BUILD_INFO GENERATED_MANPAGES FLEX BISON NM AR stage1_cflags COLLECT2_LIBS GNAT_LIBEXC LDEXP_LIB TARGET_GETGROUPS_T LIBICONV LTLIBICONV LIBICONV_DEP manext objext gthread_flags extra_modes_file extra_opt_files build_subdir host_cc_for_libada CROSS ALL SYSTEM_HEADER_DIR inhibit_libc CC_FOR_BUILD BUILD_CFLAGS STMP_FIXINC STMP_FIXPROTO collect2 gcc_cv_as ORIGINAL_AS_FOR_TARGET gcc_cv_ld ORIGINAL_LD_FOR_TARGET gcc_cv_nm ORIGINAL_NM_FOR_TARGET gcc_cv_objdump libgcc_visibility GGC zlibdir zlibinc MAINT gcc_tooldir dollar slibdir objdir subdirs srcdir all_boot_languages all_compilers all_gtfiles all_gtfiles_files_langs all_gtfiles_files_files all_lang_makefrags all_lang_makefiles all_languages all_selected_languages all_stagestuff build_exeext build_install_headers_dir build_xm_file_list build_xm_include_list build_xm_defines check_languages cc_set_by_configure quoted_cc_set_by_configure cpp_install_dir xmake_file tmake_file extra_gcc_objs extra_headers_list extra_objs extra_parts extra_passes extra_programs float_h_file gcc_config_arguments gcc_gxx_include_dir host_exeext host_xm_file_list host_xm_include_list host_xm_defines out_host_hook_obj install lang_opt_files lang_specs_files lang_tree_files local_prefix md_file objc_boehm_gc out_file out_object_file stage_prefix_set_by_configure quoted_stage_prefix_set_by_configure thread_file tm_file_list tm_include_list tm_defines tm_p_file_list tm_p_include_list xm_file_list xm_include_list xm_defines c_target_objs cxx_target_objs target_cpu_default GMPLIBS GMPINC LIBOBJS LTLIBOBJS'\n ac_subst_files='language_hooks'\n \n # Initialize some variables set by options.\n@@ -1506,37 +1506,10 @@ test -n \"$target_alias\" &&\n   program_prefix=${target_alias}-\n \n # Determine the noncanonical target name, for directory use.\n- case ${build_alias} in\n-  \"\") build_noncanonical=${build} ;;\n-  *) build_noncanonical=${build_alias} ;;\n-esac\n-\n- case ${host_alias} in\n-  \"\") host_noncanonical=${build_noncanonical} ;;\n-  *) host_noncanonical=${host_alias} ;;\n-esac\n-\n- case ${target_alias} in\n-  \"\") target_noncanonical=${host_noncanonical} ;;\n-  *) target_noncanonical=${target_alias} ;;\n-esac\n-\n-\n-\n+ACX_NONCANONICAL_TARGET\n \n # Determine the target- and build-specific subdirectories\n-  # Prefix 'build-' so this never conflicts with target_subdir.\n-build_subdir=\"build-${build_noncanonical}\"\n-# --srcdir=. covers the toplevel, while \"test -d\" covers the subdirectories\n-if ( test $srcdir = . && test -d gcc ) \\\n-   || test -d $srcdir/../host-${host_noncanonical}; then\n-  host_subdir=\"host-${host_noncanonical}\"\n-else\n-  host_subdir=.\n-fi\n-# No prefix.\n-target_subdir=${target_noncanonical}\n-\n+GCC_TOPLEV_SUBDIRS\n \n # Set program_transform_name\n test \"$program_prefix\" != NONE &&\n@@ -1658,12 +1631,16 @@ no)\t;;\n esac\n fi;\n \n+# This logic must match libstdc++-v3/acinclude.m4:GLIBCXX_EXPORT_INSTALL_INFO.\n if test x${gcc_gxx_include_dir} = x; then\n   if test x${enable_version_specific_runtime_libs} = xyes; then\n     gcc_gxx_include_dir='${libsubdir}/include/c++'\n   else\n-    libstdcxx_incdir='c++/$(version)'\n-    gcc_gxx_include_dir=\"\\$(libsubdir)/\\$(unlibsubdir)/..\\`echo \\$(exec_prefix) | sed -e 's|^\\$(prefix)||' -e 's|/[^/]*|/..|g'\\`/include/\"${libstdcxx_incdir}\n+    libstdcxx_incdir='include/c++/$(version)'\n+    if test x$host != x$target; then\n+       libstdcxx_incdir=\"$target_alias/$libstdcxx_incdir\"\n+    fi\n+    gcc_gxx_include_dir=\"\\$(libsubdir)/\\$(unlibsubdir)/..\\`echo \\$(exec_prefix) | sed -e 's|^\\$(prefix)||' -e 's|/[^/]*|/..|g'\\`/$libstdcxx_incdir\"\n   fi\n fi\n \n@@ -6864,6 +6841,7 @@ else\n       test -z \"$ac_dir\" && ac_dir=.\n       for ac_exec_ext in '' $ac_executable_extensions; do\n         if $ac_executable_p \"$ac_dir/$ac_word$ac_exec_ext\"; then\n+          echo \"$as_me: trying $ac_dir/$ac_word...\" >&5\n           if $ac_dir/$ac_word --version | grep valgrind- >/dev/null 2>&1; then\n             ac_cv_path_valgrind_path=\"$ac_dir/$ac_word$ac_exec_ext\"\n             break 2\n@@ -7324,32 +7302,7 @@ echo \"${ECHO_T}no, and neither does ln, so using $gcc_cv_prog_LN_S\" >&6\n   fi\n fi\n \n-echo \"$as_me:$LINENO: checking whether ln works\" >&5\n-echo $ECHO_N \"checking whether ln works... $ECHO_C\" >&6\n-if test \"${acx_cv_prog_LN+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  rm -f conftestdata_t\n-echo >conftestdata_f\n-if ln conftestdata_f conftestdata_t 2>/dev/null\n-then\n-  acx_cv_prog_LN=ln\n-else\n-  acx_cv_prog_LN=no\n-fi\n-rm -f conftestdata_f conftestdata_t\n-\n-fi\n-if test $acx_cv_prog_LN = no; then\n-  LN=\"$LN_S\"\n-  echo \"$as_me:$LINENO: result: no, using $LN\" >&5\n-echo \"${ECHO_T}no, using $LN\" >&6\n-else\n-  LN=\"$acx_cv_prog_LN\"\n-  echo \"$as_me:$LINENO: result: yes\" >&5\n-echo \"${ECHO_T}yes\" >&6\n-fi\n-\n+ACX_PROG_LN($LN_S)\n if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"${ac_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}ranlib; ac_word=$2\n@@ -7628,7 +7581,7 @@ if test \"${gcc_cv_prog_makeinfo_modern+set}\" = set; then\n else\n     ac_prog_version=`$MAKEINFO --version 2>&1 |\n                    sed -n 's/^.*GNU texinfo.* \\([0-9][0-9.]*\\).*$/\\1/p'`\n-  echo \"configure:7631: version of makeinfo is $ac_prog_version\" >&5\n+  echo \"configure:7584: version of makeinfo is $ac_prog_version\" >&5\n   case $ac_prog_version in\n     '')     gcc_cv_prog_makeinfo_modern=no;;\n     4.[4-9]*)\n@@ -7918,7 +7871,6 @@ fi\n \n # Need to reject headers which give warnings, so that the -Werror bootstrap\n # works later. *sigh*  This needs to come before all header checks.\n-\n ac_c_preproc_warn_flag=yes\n \n echo \"$as_me:$LINENO: checking for ANSI C header files\" >&5\n@@ -8152,68 +8104,7 @@ _ACEOF\n \n fi\n \n-echo \"$as_me:$LINENO: checking whether string.h and strings.h may both be included\" >&5\n-echo $ECHO_N \"checking whether string.h and strings.h may both be included... $ECHO_C\" >&6\n-if test \"${gcc_cv_header_string+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  cat >conftest.$ac_ext <<_ACEOF\n-/* confdefs.h.  */\n-_ACEOF\n-cat confdefs.h >>conftest.$ac_ext\n-cat >>conftest.$ac_ext <<_ACEOF\n-/* end confdefs.h.  */\n-#include <string.h>\n-#include <strings.h>\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-rm -f conftest.$ac_objext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n-  (eval $ac_compile) 2>conftest.er1\n-  ac_status=$?\n-  grep -v '^ *+' conftest.er1 >conftest.err\n-  rm -f conftest.er1\n-  cat conftest.err >&5\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; } &&\n-\t { ac_try='test -s conftest.$ac_objext'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; }; then\n-  gcc_cv_header_string=yes\n-else\n-  echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-gcc_cv_header_string=no\n-fi\n-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n-fi\n-echo \"$as_me:$LINENO: result: $gcc_cv_header_string\" >&5\n-echo \"${ECHO_T}$gcc_cv_header_string\" >&6\n-if test $gcc_cv_header_string = yes; then\n-\n-cat >>confdefs.h <<\\_ACEOF\n-#define STRING_WITH_STRINGS 1\n-_ACEOF\n-\n-fi\n-\n+ACX_HEADER_STRING\n echo \"$as_me:$LINENO: checking for sys/wait.h that is POSIX.1 compatible\" >&5\n echo $ECHO_N \"checking for sys/wait.h that is POSIX.1 compatible... $ECHO_C\" >&6\n if test \"${ac_cv_header_sys_wait_h+set}\" = set; then\n@@ -8313,12 +8204,64 @@ for ac_header in limits.h stddef.h string.h strings.h stdlib.h time.h iconv.h \\\n \t\t direct.h malloc.h langinfo.h ldfcn.h locale.h wchar.h\n do\n as_ac_Header=`echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n-echo \"$as_me:$LINENO: checking for $ac_header\" >&5\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo \"$as_me:$LINENO: checking for $ac_header\" >&5\n echo $ECHO_N \"checking for $ac_header... $ECHO_C\" >&6\n if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_Header'}'`\" >&6\n else\n-  cat >conftest.$ac_ext <<_ACEOF\n+  # Is the header compilable?\n+echo \"$as_me:$LINENO: checking $ac_header usability\" >&5\n+echo $ECHO_N \"checking $ac_header usability... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+$ac_includes_default\n+#include <$ac_header>\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_header_compiler=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_header_compiler=no\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_compiler\" >&5\n+echo \"${ECHO_T}$ac_header_compiler\" >&6\n+\n+# Is the header present?\n+echo \"$as_me:$LINENO: checking $ac_header presence\" >&5\n+echo $ECHO_N \"checking $ac_header presence... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n@@ -8344,33 +8287,129 @@ else\n   ac_cpp_err=yes\n fi\n if test -z \"$ac_cpp_err\"; then\n-  eval \"$as_ac_Header=yes\"\n+  ac_header_preproc=yes\n else\n   echo \"$as_me: failed program was:\" >&5\n sed 's/^/| /' conftest.$ac_ext >&5\n \n-  eval \"$as_ac_Header=no\"\n+  ac_header_preproc=no\n fi\n rm -f conftest.err conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_preproc\" >&5\n+echo \"${ECHO_T}$ac_header_preproc\" >&6\n+\n+# So?  What about this header?\n+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in\n+  yes:no: )\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!\" >&5\n+echo \"$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result\" >&5\n+echo \"$as_me: WARNING: $ac_header: proceeding with the compiler's result\" >&2;}\n+    ac_header_preproc=yes\n+    ;;\n+  no:yes:* )\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled\" >&5\n+echo \"$as_me: WARNING: $ac_header: present but cannot be compiled\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?\" >&5\n+echo \"$as_me: WARNING: $ac_header:     check for missing prerequisite headers?\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation\" >&5\n+echo \"$as_me: WARNING: $ac_header: see the Autoconf documentation\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header:     section \\\"Present But Cannot Be Compiled\\\"\" >&5\n+echo \"$as_me: WARNING: $ac_header:     section \\\"Present But Cannot Be Compiled\\\"\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result\" >&5\n+echo \"$as_me: WARNING: $ac_header: proceeding with the preprocessor's result\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence\" >&5\n+echo \"$as_me: WARNING: $ac_header: in the future, the compiler will take precedence\" >&2;}\n+    (\n+      cat <<\\_ASBOX\n+## ------------------------------------------ ##\n+## Report this to the AC_PACKAGE_NAME lists.  ##\n+## ------------------------------------------ ##\n+_ASBOX\n+    ) |\n+      sed \"s/^/$as_me: WARNING:     /\" >&2\n+    ;;\n+esac\n+echo \"$as_me:$LINENO: checking for $ac_header\" >&5\n+echo $ECHO_N \"checking for $ac_header... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  eval \"$as_ac_Header=\\$ac_header_preproc\"\n fi\n echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`\" >&5\n echo \"${ECHO_T}`eval echo '${'$as_ac_Header'}'`\" >&6\n+\n+fi\n if test `eval echo '${'$as_ac_Header'}'` = yes; then\n   cat >>confdefs.h <<_ACEOF\n #define `echo \"HAVE_$ac_header\" | $as_tr_cpp` 1\n _ACEOF\n \n fi\n+\n done\n \n \n # Check for thread headers.\n-echo \"$as_me:$LINENO: checking for thread.h\" >&5\n+if test \"${ac_cv_header_thread_h+set}\" = set; then\n+  echo \"$as_me:$LINENO: checking for thread.h\" >&5\n echo $ECHO_N \"checking for thread.h... $ECHO_C\" >&6\n if test \"${ac_cv_header_thread_h+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+fi\n+echo \"$as_me:$LINENO: result: $ac_cv_header_thread_h\" >&5\n+echo \"${ECHO_T}$ac_cv_header_thread_h\" >&6\n else\n-  cat >conftest.$ac_ext <<_ACEOF\n+  # Is the header compilable?\n+echo \"$as_me:$LINENO: checking thread.h usability\" >&5\n+echo $ECHO_N \"checking thread.h usability... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+$ac_includes_default\n+#include <thread.h>\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_header_compiler=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_header_compiler=no\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_compiler\" >&5\n+echo \"${ECHO_T}$ac_header_compiler\" >&6\n+\n+# Is the header present?\n+echo \"$as_me:$LINENO: checking thread.h presence\" >&5\n+echo $ECHO_N \"checking thread.h presence... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n@@ -8396,29 +8435,125 @@ else\n   ac_cpp_err=yes\n fi\n if test -z \"$ac_cpp_err\"; then\n-  ac_cv_header_thread_h=yes\n+  ac_header_preproc=yes\n else\n   echo \"$as_me: failed program was:\" >&5\n sed 's/^/| /' conftest.$ac_ext >&5\n \n-  ac_cv_header_thread_h=no\n+  ac_header_preproc=no\n fi\n rm -f conftest.err conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_preproc\" >&5\n+echo \"${ECHO_T}$ac_header_preproc\" >&6\n+\n+# So?  What about this header?\n+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in\n+  yes:no: )\n+    { echo \"$as_me:$LINENO: WARNING: thread.h: accepted by the compiler, rejected by the preprocessor!\" >&5\n+echo \"$as_me: WARNING: thread.h: accepted by the compiler, rejected by the preprocessor!\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: thread.h: proceeding with the compiler's result\" >&5\n+echo \"$as_me: WARNING: thread.h: proceeding with the compiler's result\" >&2;}\n+    ac_header_preproc=yes\n+    ;;\n+  no:yes:* )\n+    { echo \"$as_me:$LINENO: WARNING: thread.h: present but cannot be compiled\" >&5\n+echo \"$as_me: WARNING: thread.h: present but cannot be compiled\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: thread.h:     check for missing prerequisite headers?\" >&5\n+echo \"$as_me: WARNING: thread.h:     check for missing prerequisite headers?\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: thread.h: see the Autoconf documentation\" >&5\n+echo \"$as_me: WARNING: thread.h: see the Autoconf documentation\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: thread.h:     section \\\"Present But Cannot Be Compiled\\\"\" >&5\n+echo \"$as_me: WARNING: thread.h:     section \\\"Present But Cannot Be Compiled\\\"\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: thread.h: proceeding with the preprocessor's result\" >&5\n+echo \"$as_me: WARNING: thread.h: proceeding with the preprocessor's result\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: thread.h: in the future, the compiler will take precedence\" >&5\n+echo \"$as_me: WARNING: thread.h: in the future, the compiler will take precedence\" >&2;}\n+    (\n+      cat <<\\_ASBOX\n+## ------------------------------------------ ##\n+## Report this to the AC_PACKAGE_NAME lists.  ##\n+## ------------------------------------------ ##\n+_ASBOX\n+    ) |\n+      sed \"s/^/$as_me: WARNING:     /\" >&2\n+    ;;\n+esac\n+echo \"$as_me:$LINENO: checking for thread.h\" >&5\n+echo $ECHO_N \"checking for thread.h... $ECHO_C\" >&6\n+if test \"${ac_cv_header_thread_h+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  ac_cv_header_thread_h=$ac_header_preproc\n fi\n echo \"$as_me:$LINENO: result: $ac_cv_header_thread_h\" >&5\n echo \"${ECHO_T}$ac_cv_header_thread_h\" >&6\n+\n+fi\n if test $ac_cv_header_thread_h = yes; then\n   have_thread_h=yes\n else\n   have_thread_h=\n fi\n \n-echo \"$as_me:$LINENO: checking for pthread.h\" >&5\n+\n+if test \"${ac_cv_header_pthread_h+set}\" = set; then\n+  echo \"$as_me:$LINENO: checking for pthread.h\" >&5\n echo $ECHO_N \"checking for pthread.h... $ECHO_C\" >&6\n if test \"${ac_cv_header_pthread_h+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+fi\n+echo \"$as_me:$LINENO: result: $ac_cv_header_pthread_h\" >&5\n+echo \"${ECHO_T}$ac_cv_header_pthread_h\" >&6\n else\n-  cat >conftest.$ac_ext <<_ACEOF\n+  # Is the header compilable?\n+echo \"$as_me:$LINENO: checking pthread.h usability\" >&5\n+echo $ECHO_N \"checking pthread.h usability... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+$ac_includes_default\n+#include <pthread.h>\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_header_compiler=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_header_compiler=no\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_compiler\" >&5\n+echo \"${ECHO_T}$ac_header_compiler\" >&6\n+\n+# Is the header present?\n+echo \"$as_me:$LINENO: checking pthread.h presence\" >&5\n+echo $ECHO_N \"checking pthread.h presence... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n@@ -8444,24 +8579,68 @@ else\n   ac_cpp_err=yes\n fi\n if test -z \"$ac_cpp_err\"; then\n-  ac_cv_header_pthread_h=yes\n+  ac_header_preproc=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+  ac_header_preproc=no\n+fi\n+rm -f conftest.err conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_preproc\" >&5\n+echo \"${ECHO_T}$ac_header_preproc\" >&6\n+\n+# So?  What about this header?\n+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in\n+  yes:no: )\n+    { echo \"$as_me:$LINENO: WARNING: pthread.h: accepted by the compiler, rejected by the preprocessor!\" >&5\n+echo \"$as_me: WARNING: pthread.h: accepted by the compiler, rejected by the preprocessor!\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: pthread.h: proceeding with the compiler's result\" >&5\n+echo \"$as_me: WARNING: pthread.h: proceeding with the compiler's result\" >&2;}\n+    ac_header_preproc=yes\n+    ;;\n+  no:yes:* )\n+    { echo \"$as_me:$LINENO: WARNING: pthread.h: present but cannot be compiled\" >&5\n+echo \"$as_me: WARNING: pthread.h: present but cannot be compiled\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: pthread.h:     check for missing prerequisite headers?\" >&5\n+echo \"$as_me: WARNING: pthread.h:     check for missing prerequisite headers?\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: pthread.h: see the Autoconf documentation\" >&5\n+echo \"$as_me: WARNING: pthread.h: see the Autoconf documentation\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: pthread.h:     section \\\"Present But Cannot Be Compiled\\\"\" >&5\n+echo \"$as_me: WARNING: pthread.h:     section \\\"Present But Cannot Be Compiled\\\"\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: pthread.h: proceeding with the preprocessor's result\" >&5\n+echo \"$as_me: WARNING: pthread.h: proceeding with the preprocessor's result\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: pthread.h: in the future, the compiler will take precedence\" >&5\n+echo \"$as_me: WARNING: pthread.h: in the future, the compiler will take precedence\" >&2;}\n+    (\n+      cat <<\\_ASBOX\n+## ------------------------------------------ ##\n+## Report this to the AC_PACKAGE_NAME lists.  ##\n+## ------------------------------------------ ##\n+_ASBOX\n+    ) |\n+      sed \"s/^/$as_me: WARNING:     /\" >&2\n+    ;;\n+esac\n+echo \"$as_me:$LINENO: checking for pthread.h\" >&5\n+echo $ECHO_N \"checking for pthread.h... $ECHO_C\" >&6\n+if test \"${ac_cv_header_pthread_h+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-  ac_cv_header_pthread_h=no\n-fi\n-rm -f conftest.err conftest.$ac_ext\n+  ac_cv_header_pthread_h=$ac_header_preproc\n fi\n echo \"$as_me:$LINENO: result: $ac_cv_header_pthread_h\" >&5\n echo \"${ECHO_T}$ac_cv_header_pthread_h\" >&6\n+\n+fi\n if test $ac_cv_header_pthread_h = yes; then\n   have_pthread_h=yes\n else\n   have_pthread_h=\n fi\n \n \n+\n # These tests can't be done till we know if we have limits.h.\n echo \"$as_me:$LINENO: checking for CHAR_BIT\" >&5\n echo $ECHO_N \"checking for CHAR_BIT... $ECHO_C\" >&6\n@@ -9644,12 +9823,64 @@ fi\n \n \n \n-echo \"$as_me:$LINENO: checking for sys/mman.h\" >&5\n+if test \"${ac_cv_header_sys_mman_h+set}\" = set; then\n+  echo \"$as_me:$LINENO: checking for sys/mman.h\" >&5\n echo $ECHO_N \"checking for sys/mman.h... $ECHO_C\" >&6\n if test \"${ac_cv_header_sys_mman_h+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+fi\n+echo \"$as_me:$LINENO: result: $ac_cv_header_sys_mman_h\" >&5\n+echo \"${ECHO_T}$ac_cv_header_sys_mman_h\" >&6\n else\n-  cat >conftest.$ac_ext <<_ACEOF\n+  # Is the header compilable?\n+echo \"$as_me:$LINENO: checking sys/mman.h usability\" >&5\n+echo $ECHO_N \"checking sys/mman.h usability... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+$ac_includes_default\n+#include <sys/mman.h>\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_header_compiler=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_header_compiler=no\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_compiler\" >&5\n+echo \"${ECHO_T}$ac_header_compiler\" >&6\n+\n+# Is the header present?\n+echo \"$as_me:$LINENO: checking sys/mman.h presence\" >&5\n+echo $ECHO_N \"checking sys/mman.h presence... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n@@ -9675,23 +9906,67 @@ else\n   ac_cpp_err=yes\n fi\n if test -z \"$ac_cpp_err\"; then\n-  ac_cv_header_sys_mman_h=yes\n+  ac_header_preproc=yes\n else\n   echo \"$as_me: failed program was:\" >&5\n sed 's/^/| /' conftest.$ac_ext >&5\n \n-  ac_cv_header_sys_mman_h=no\n+  ac_header_preproc=no\n fi\n rm -f conftest.err conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_preproc\" >&5\n+echo \"${ECHO_T}$ac_header_preproc\" >&6\n+\n+# So?  What about this header?\n+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in\n+  yes:no: )\n+    { echo \"$as_me:$LINENO: WARNING: sys/mman.h: accepted by the compiler, rejected by the preprocessor!\" >&5\n+echo \"$as_me: WARNING: sys/mman.h: accepted by the compiler, rejected by the preprocessor!\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: sys/mman.h: proceeding with the compiler's result\" >&5\n+echo \"$as_me: WARNING: sys/mman.h: proceeding with the compiler's result\" >&2;}\n+    ac_header_preproc=yes\n+    ;;\n+  no:yes:* )\n+    { echo \"$as_me:$LINENO: WARNING: sys/mman.h: present but cannot be compiled\" >&5\n+echo \"$as_me: WARNING: sys/mman.h: present but cannot be compiled\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: sys/mman.h:     check for missing prerequisite headers?\" >&5\n+echo \"$as_me: WARNING: sys/mman.h:     check for missing prerequisite headers?\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: sys/mman.h: see the Autoconf documentation\" >&5\n+echo \"$as_me: WARNING: sys/mman.h: see the Autoconf documentation\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: sys/mman.h:     section \\\"Present But Cannot Be Compiled\\\"\" >&5\n+echo \"$as_me: WARNING: sys/mman.h:     section \\\"Present But Cannot Be Compiled\\\"\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: sys/mman.h: proceeding with the preprocessor's result\" >&5\n+echo \"$as_me: WARNING: sys/mman.h: proceeding with the preprocessor's result\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: sys/mman.h: in the future, the compiler will take precedence\" >&5\n+echo \"$as_me: WARNING: sys/mman.h: in the future, the compiler will take precedence\" >&2;}\n+    (\n+      cat <<\\_ASBOX\n+## ------------------------------------------ ##\n+## Report this to the AC_PACKAGE_NAME lists.  ##\n+## ------------------------------------------ ##\n+_ASBOX\n+    ) |\n+      sed \"s/^/$as_me: WARNING:     /\" >&2\n+    ;;\n+esac\n+echo \"$as_me:$LINENO: checking for sys/mman.h\" >&5\n+echo $ECHO_N \"checking for sys/mman.h... $ECHO_C\" >&6\n+if test \"${ac_cv_header_sys_mman_h+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  ac_cv_header_sys_mman_h=$ac_header_preproc\n fi\n echo \"$as_me:$LINENO: result: $ac_cv_header_sys_mman_h\" >&5\n echo \"${ECHO_T}$ac_cv_header_sys_mman_h\" >&6\n+\n+fi\n if test $ac_cv_header_sys_mman_h = yes; then\n   gcc_header_sys_mman_h=yes\n else\n   gcc_header_sys_mman_h=no\n fi\n \n+\n echo \"$as_me:$LINENO: checking for mmap\" >&5\n echo $ECHO_N \"checking for mmap... $ECHO_C\" >&6\n if test \"${ac_cv_func_mmap+set}\" = set; then\n@@ -10027,12 +10302,64 @@ fi\n for ac_header in unistd.h vfork.h\n do\n as_ac_Header=`echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n-echo \"$as_me:$LINENO: checking for $ac_header\" >&5\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo \"$as_me:$LINENO: checking for $ac_header\" >&5\n echo $ECHO_N \"checking for $ac_header... $ECHO_C\" >&6\n if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_Header'}'`\" >&6\n else\n-  cat >conftest.$ac_ext <<_ACEOF\n+  # Is the header compilable?\n+echo \"$as_me:$LINENO: checking $ac_header usability\" >&5\n+echo $ECHO_N \"checking $ac_header usability... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+$ac_includes_default\n+#include <$ac_header>\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_header_compiler=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_header_compiler=no\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_compiler\" >&5\n+echo \"${ECHO_T}$ac_header_compiler\" >&6\n+\n+# Is the header present?\n+echo \"$as_me:$LINENO: checking $ac_header presence\" >&5\n+echo $ECHO_N \"checking $ac_header presence... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n@@ -10058,23 +10385,67 @@ else\n   ac_cpp_err=yes\n fi\n if test -z \"$ac_cpp_err\"; then\n-  eval \"$as_ac_Header=yes\"\n+  ac_header_preproc=yes\n else\n   echo \"$as_me: failed program was:\" >&5\n sed 's/^/| /' conftest.$ac_ext >&5\n \n-  eval \"$as_ac_Header=no\"\n+  ac_header_preproc=no\n fi\n rm -f conftest.err conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_preproc\" >&5\n+echo \"${ECHO_T}$ac_header_preproc\" >&6\n+\n+# So?  What about this header?\n+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in\n+  yes:no: )\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!\" >&5\n+echo \"$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result\" >&5\n+echo \"$as_me: WARNING: $ac_header: proceeding with the compiler's result\" >&2;}\n+    ac_header_preproc=yes\n+    ;;\n+  no:yes:* )\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled\" >&5\n+echo \"$as_me: WARNING: $ac_header: present but cannot be compiled\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?\" >&5\n+echo \"$as_me: WARNING: $ac_header:     check for missing prerequisite headers?\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation\" >&5\n+echo \"$as_me: WARNING: $ac_header: see the Autoconf documentation\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header:     section \\\"Present But Cannot Be Compiled\\\"\" >&5\n+echo \"$as_me: WARNING: $ac_header:     section \\\"Present But Cannot Be Compiled\\\"\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result\" >&5\n+echo \"$as_me: WARNING: $ac_header: proceeding with the preprocessor's result\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence\" >&5\n+echo \"$as_me: WARNING: $ac_header: in the future, the compiler will take precedence\" >&2;}\n+    (\n+      cat <<\\_ASBOX\n+## ------------------------------------------ ##\n+## Report this to the AC_PACKAGE_NAME lists.  ##\n+## ------------------------------------------ ##\n+_ASBOX\n+    ) |\n+      sed \"s/^/$as_me: WARNING:     /\" >&2\n+    ;;\n+esac\n+echo \"$as_me:$LINENO: checking for $ac_header\" >&5\n+echo $ECHO_N \"checking for $ac_header... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  eval \"$as_ac_Header=\\$ac_header_preproc\"\n fi\n echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`\" >&5\n echo \"${ECHO_T}`eval echo '${'$as_ac_Header'}'`\" >&6\n+\n+fi\n if test `eval echo '${'$as_ac_Header'}'` = yes; then\n   cat >>confdefs.h <<_ACEOF\n #define `echo \"HAVE_$ac_header\" | $as_tr_cpp` 1\n _ACEOF\n \n fi\n+\n done\n \n \n@@ -10500,11 +10871,12 @@ else\n       # Check to see if the program is GNU ld.  I'd rather use --version,\n       # but apparently some GNU ld's only accept -v.\n       # Break only if it was the GNU/non-GNU ld that we prefer.\n-      if \"$acl_cv_path_LD\" -v 2>&1 < /dev/null | egrep '(GNU|with BFD)' > /dev/null; then\n-\ttest \"$with_gnu_ld\" != no && break\n-      else\n-\ttest \"$with_gnu_ld\" != yes && break\n-      fi\n+      case `\"$acl_cv_path_LD\" -v 2>&1 < /dev/null` in\n+      *GNU* | *'with BFD'*)\n+\ttest \"$with_gnu_ld\" != no && break ;;\n+      *)\n+\ttest \"$with_gnu_ld\" != yes && break ;;\n+      esac\n     fi\n   done\n   IFS=\"$ac_save_ifs\"\n@@ -10530,18 +10902,20 @@ if test \"${acl_cv_prog_gnu_ld+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n   # I'd rather use --version here, but apparently some GNU ld's only accept -v.\n-if $LD -v 2>&1 </dev/null | egrep '(GNU|with BFD)' 1>&5; then\n-  acl_cv_prog_gnu_ld=yes\n-else\n-  acl_cv_prog_gnu_ld=no\n-fi\n+case `$LD -v 2>&1 </dev/null` in\n+*GNU* | *'with BFD'*)\n+  acl_cv_prog_gnu_ld=yes ;;\n+*)\n+  acl_cv_prog_gnu_ld=no ;;\n+esac\n fi\n echo \"$as_me:$LINENO: result: $acl_cv_prog_gnu_ld\" >&5\n echo \"${ECHO_T}$acl_cv_prog_gnu_ld\" >&6\n with_gnu_ld=$acl_cv_prog_gnu_ld\n \n \n \n+\n                                                 echo \"$as_me:$LINENO: checking for shared library run path origin\" >&5\n echo $ECHO_N \"checking for shared library run path origin... $ECHO_C\" >&6\n if test \"${acl_cv_rpath+set}\" = set; then\n@@ -10787,7 +11161,7 @@ fi;\n                 if test \"X$additional_includedir\" = \"X/usr/local/include\"; then\n                   if test -n \"$GCC\"; then\n                     case $host_os in\n-                      linux*) haveit=yes;;\n+                      linux* | gnu* | k*bsd*-gnu) haveit=yes;;\n                     esac\n                   fi\n                 fi\n@@ -10831,7 +11205,7 @@ fi;\n                       if test \"X$additional_libdir\" = \"X/usr/local/lib\"; then\n                         if test -n \"$GCC\"; then\n                           case $host_os in\n-                            linux*) haveit=yes;;\n+                            linux* | gnu* | k*bsd*-gnu) haveit=yes;;\n                           esac\n                         fi\n                       fi\n@@ -11202,69 +11576,7 @@ _ACEOF\n LIBICONV_DEP=\n \n \n-\n-  echo \"$as_me:$LINENO: checking for LC_MESSAGES\" >&5\n-echo $ECHO_N \"checking for LC_MESSAGES... $ECHO_C\" >&6\n-if test \"${am_cv_val_LC_MESSAGES+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  cat >conftest.$ac_ext <<_ACEOF\n-/* confdefs.h.  */\n-_ACEOF\n-cat confdefs.h >>conftest.$ac_ext\n-cat >>conftest.$ac_ext <<_ACEOF\n-/* end confdefs.h.  */\n-#include <locale.h>\n-int\n-main ()\n-{\n-return LC_MESSAGES\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-rm -f conftest.$ac_objext conftest$ac_exeext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n-  (eval $ac_link) 2>conftest.er1\n-  ac_status=$?\n-  grep -v '^ *+' conftest.er1 >conftest.err\n-  rm -f conftest.er1\n-  cat conftest.err >&5\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; } &&\n-\t { ac_try='test -s conftest$ac_exeext'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; }; then\n-  am_cv_val_LC_MESSAGES=yes\n-else\n-  echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-am_cv_val_LC_MESSAGES=no\n-fi\n-rm -f conftest.err conftest.$ac_objext \\\n-      conftest$ac_exeext conftest.$ac_ext\n-fi\n-echo \"$as_me:$LINENO: result: $am_cv_val_LC_MESSAGES\" >&5\n-echo \"${ECHO_T}$am_cv_val_LC_MESSAGES\" >&6\n-  if test $am_cv_val_LC_MESSAGES = yes; then\n-\n-cat >>confdefs.h <<\\_ACEOF\n-#define HAVE_LC_MESSAGES 1\n-_ACEOF\n-\n-  fi\n-\n+AM_LC_MESSAGES\n \n \n   echo \"$as_me:$LINENO: checking for nl_langinfo and CODESET\" >&5\n@@ -12601,78 +12913,7 @@ static const struct {\n EOF\n \n # Internationalization\n-# If we haven't got the data from the intl directory,\n-# assume NLS is disabled.\n-USE_NLS=no\n-LIBINTL=\n-LIBINTL_DEP=\n-INCINTL=\n-XGETTEXT=\n-GMSGFMT=\n-POSUB=\n-\n-if test -f  ../intl/config.intl; then\n-  .  ../intl/config.intl\n-fi\n-echo \"$as_me:$LINENO: checking whether NLS is requested\" >&5\n-echo $ECHO_N \"checking whether NLS is requested... $ECHO_C\" >&6\n-if test x\"$USE_NLS\" != xyes; then\n-  echo \"$as_me:$LINENO: result: no\" >&5\n-echo \"${ECHO_T}no\" >&6\n-else\n-  echo \"$as_me:$LINENO: result: yes\" >&5\n-echo \"${ECHO_T}yes\" >&6\n-\n-cat >>confdefs.h <<\\_ACEOF\n-#define ENABLE_NLS 1\n-_ACEOF\n-\n-\n-  echo \"$as_me:$LINENO: checking for catalogs to be installed\" >&5\n-echo $ECHO_N \"checking for catalogs to be installed... $ECHO_C\" >&6\n-  # Look for .po and .gmo files in the source directory.\n-  CATALOGS=\n-  XLINGUAS=\n-  for cat in $srcdir/po/*.gmo $srcdir/po/*.po; do\n-    # If there aren't any .gmo files the shell will give us the\n-    # literal string \"../path/to/srcdir/po/*.gmo\" which has to be\n-    # weeded out.\n-    case \"$cat\" in *\\**)\n-      continue;;\n-    esac\n-    # The quadruple backslash is collapsed to a double backslash\n-    # by the backticks, then collapsed again by the double quotes,\n-    # leaving us with one backslash in the sed expression (right\n-    # before the dot that mustn't act as a wildcard).\n-    cat=`echo $cat | sed -e \"s!$srcdir/po/!!\" -e \"s!\\\\\\\\.po!.gmo!\"`\n-    lang=`echo $cat | sed -e \"s!\\\\\\\\.gmo!!\"`\n-    # The user is allowed to set LINGUAS to a list of languages to\n-    # install catalogs for.  If it's empty that means \"all of them.\"\n-    if test \"x$LINGUAS\" = x; then\n-      CATALOGS=\"$CATALOGS $cat\"\n-      XLINGUAS=\"$XLINGUAS $lang\"\n-    else\n-      case \"$LINGUAS\" in *$lang*)\n-        CATALOGS=\"$CATALOGS $cat\"\n-        XLINGUAS=\"$XLINGUAS $lang\"\n-        ;;\n-      esac\n-    fi\n-  done\n-  LINGUAS=\"$XLINGUAS\"\n-  echo \"$as_me:$LINENO: result: $LINGUAS\" >&5\n-echo \"${ECHO_T}$LINGUAS\" >&6\n-\n-\n-    DATADIRNAME=share\n-\n-  INSTOBJEXT=.mo\n-\n-  GENCAT=gencat\n-\n-  CATOBJEXT=.gmo\n-\n-fi\n+ZW_GNU_GETTEXT_SISTER_DIR\n \n # If LIBINTL contains LIBICONV, then clear LIBICONV so we don't get\n # -liconv on the link line twice.\n@@ -16267,7 +16508,6 @@ fi;\n \n \n \n-\n \n \n # Echo link setup.\n@@ -16935,10 +17175,6 @@ s,@target@,$target,;t t\n s,@target_cpu@,$target_cpu,;t t\n s,@target_vendor@,$target_vendor,;t t\n s,@target_os@,$target_os,;t t\n-s,@target_noncanonical@,$target_noncanonical,;t t\n-s,@build_subdir@,$build_subdir,;t t\n-s,@host_subdir@,$host_subdir,;t t\n-s,@target_subdir@,$target_subdir,;t t\n s,@GENINSRC@,$GENINSRC,;t t\n s,@CC@,$CC,;t t\n s,@CFLAGS@,$CFLAGS,;t t\n@@ -16974,7 +17210,6 @@ s,@htmldir@,$htmldir,;t t\n s,@SET_MAKE@,$SET_MAKE,;t t\n s,@AWK@,$AWK,;t t\n s,@LN_S@,$LN_S,;t t\n-s,@LN@,$LN,;t t\n s,@RANLIB@,$RANLIB,;t t\n s,@ac_ct_RANLIB@,$ac_ct_RANLIB,;t t\n s,@ranlib_flags@,$ranlib_flags,;t t\n@@ -17003,18 +17238,7 @@ s,@objext@,$objext,;t t\n s,@gthread_flags@,$gthread_flags,;t t\n s,@extra_modes_file@,$extra_modes_file,;t t\n s,@extra_opt_files@,$extra_opt_files,;t t\n-s,@USE_NLS@,$USE_NLS,;t t\n-s,@LIBINTL@,$LIBINTL,;t t\n-s,@LIBINTL_DEP@,$LIBINTL_DEP,;t t\n-s,@INCINTL@,$INCINTL,;t t\n-s,@XGETTEXT@,$XGETTEXT,;t t\n-s,@GMSGFMT@,$GMSGFMT,;t t\n-s,@POSUB@,$POSUB,;t t\n-s,@CATALOGS@,$CATALOGS,;t t\n-s,@DATADIRNAME@,$DATADIRNAME,;t t\n-s,@INSTOBJEXT@,$INSTOBJEXT,;t t\n-s,@GENCAT@,$GENCAT,;t t\n-s,@CATOBJEXT@,$CATOBJEXT,;t t\n+s,@build_subdir@,$build_subdir,;t t\n s,@host_cc_for_libada@,$host_cc_for_libada,;t t\n s,@CROSS@,$CROSS,;t t\n s,@ALL@,$ALL,;t t\n@@ -17073,7 +17297,6 @@ s,@extra_programs@,$extra_programs,;t t\n s,@float_h_file@,$float_h_file,;t t\n s,@gcc_config_arguments@,$gcc_config_arguments,;t t\n s,@gcc_gxx_include_dir@,$gcc_gxx_include_dir,;t t\n-s,@libstdcxx_incdir@,$libstdcxx_incdir,;t t\n s,@host_exeext@,$host_exeext,;t t\n s,@host_xm_file_list@,$host_xm_file_list,;t t\n s,@host_xm_include_list@,$host_xm_include_list,;t t"}, {"sha": "de3d065b8b204ca7889f900ea24313a9549954e2", "filename": "gcc/configure.ac", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f57bf40b889941ee61338063068f50d73e8d86d/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f57bf40b889941ee61338063068f50d73e8d86d/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=0f57bf40b889941ee61338063068f50d73e8d86d", "patch": "@@ -132,13 +132,17 @@ no)\t;;\n *)\tgcc_gxx_include_dir=$with_gxx_include_dir ;;\n esac])\n \n+# This logic must match libstdc++-v3/acinclude.m4:GLIBCXX_EXPORT_INSTALL_INFO.\n if test x${gcc_gxx_include_dir} = x; then\n   if test x${enable_version_specific_runtime_libs} = xyes; then\n     gcc_gxx_include_dir='${libsubdir}/include/c++'\n   else\n-    libstdcxx_incdir='c++/$(version)'\n+    libstdcxx_incdir='include/c++/$(version)'\n+    if test x$host != x$target; then\n+       libstdcxx_incdir=\"$target_alias/$libstdcxx_incdir\"\n+    fi\n changequote(<<, >>)dnl\n-    gcc_gxx_include_dir=\"\\$(libsubdir)/\\$(unlibsubdir)/..\\`echo \\$(exec_prefix) | sed -e 's|^\\$(prefix)||' -e 's|/[^/]*|/..|g'\\`/include/\"${libstdcxx_incdir}\n+    gcc_gxx_include_dir=\"\\$(libsubdir)/\\$(unlibsubdir)/..\\`echo \\$(exec_prefix) | sed -e 's|^\\$(prefix)||' -e 's|/[^/]*|/..|g'\\`/$libstdcxx_incdir\"\n changequote([, ])dnl\n   fi\n fi\n@@ -3576,7 +3580,6 @@ AC_SUBST(extra_programs)\n AC_SUBST(float_h_file)\n AC_SUBST(gcc_config_arguments)\n AC_SUBST(gcc_gxx_include_dir)\n-AC_SUBST(libstdcxx_incdir)\n AC_SUBST(host_exeext)\n AC_SUBST(host_xm_file_list)\n AC_SUBST(host_xm_include_list)"}, {"sha": "2dd6ad8a8813794b543a0488988902862d70dc9f", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f57bf40b889941ee61338063068f50d73e8d86d/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f57bf40b889941ee61338063068f50d73e8d86d/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=0f57bf40b889941ee61338063068f50d73e8d86d", "patch": "@@ -1,3 +1,9 @@\n+2006-06-21  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* acinclude.m4 (GLIBCXX_EXPORT_INSTALL_INFO): When\n+\tcross-compiling, put headers in $prefix/$target/include/c++.\n+\t* configure: Regenerated.\n+\n 2006-06-20  Paolo Carlini  <pcarlini@suse.de>\n \n \t* include/tr1/random.tcc (struct _Private::_Mod_w<>,"}, {"sha": "349566466ac89c16fedd95fd5f943799d07c0593", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f57bf40b889941ee61338063068f50d73e8d86d/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f57bf40b889941ee61338063068f50d73e8d86d/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=0f57bf40b889941ee61338063068f50d73e8d86d", "patch": "@@ -674,6 +674,7 @@ dnl\n dnl Assumes cross_compiling bits already done, and with_cross_host in\n dnl particular.\n dnl\n+dnl This logic must match gcc/configure.ac's setting of gcc_gxx_include_dir.\n AC_DEFUN([GLIBCXX_EXPORT_INSTALL_INFO], [\n   glibcxx_toolexecdir=no\n   glibcxx_toolexeclibdir=no\n@@ -705,7 +706,13 @@ AC_DEFUN([GLIBCXX_EXPORT_INSTALL_INFO], [\n \n   # Default case for install directory for include files.\n   if test $version_specific_libs = no && test $gxx_include_dir = no; then\n-    gxx_include_dir='${prefix}/include/c++/${gcc_version}'\n+    gxx_include_dir='include/c++/${gcc_version}'\n+    if test -n \"$with_cross_host\" && \n+       test x\"$with_cross_host\" != x\"no\"; then\t\n+      gxx_include_dir='${prefix}/${target_alias}/'\"$gxx_include_dir\"\n+    else\n+      gxx_include_dir='${prefix}/'\"$gxx_include_dir\"\n+    fi\n   fi\n \n   # Version-specific runtime libs processing."}, {"sha": "46858e75e0487c964d0abc651fa3bf8eb5da5fe8", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f57bf40b889941ee61338063068f50d73e8d86d/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f57bf40b889941ee61338063068f50d73e8d86d/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=0f57bf40b889941ee61338063068f50d73e8d86d", "patch": "@@ -110162,7 +110162,13 @@ echo \"${ECHO_T}$version_specific_libs\" >&6\n \n   # Default case for install directory for include files.\n   if test $version_specific_libs = no && test $gxx_include_dir = no; then\n-    gxx_include_dir='${prefix}/include/c++/${gcc_version}'\n+    gxx_include_dir='include/c++/${gcc_version}'\n+    if test -n \"$with_cross_host\" &&\n+       test x\"$with_cross_host\" != x\"no\"; then\n+      gxx_include_dir='${prefix}/${target_alias}/'\"$gxx_include_dir\"\n+    else\n+      gxx_include_dir='${prefix}/'\"$gxx_include_dir\"\n+    fi\n   fi\n \n   # Version-specific runtime libs processing."}]}