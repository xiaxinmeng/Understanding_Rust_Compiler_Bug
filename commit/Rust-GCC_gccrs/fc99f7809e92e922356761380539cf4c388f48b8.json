{"sha": "fc99f7809e92e922356761380539cf4c388f48b8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmM5OWY3ODA5ZTkyZTkyMjM1Njc2MTM4MDUzOWNmNGMzODhmNDhiOA==", "commit": {"author": {"name": "Luc Hermitte", "email": "hermitte@free.fr", "date": "2010-09-18T01:29:31Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2010-09-18T01:29:31Z"}, "message": "re PR libstdc++/45713 (sizeof std::bitset<ULONG_MAX> == 1)\n\n2010-09-17  Luc Hermitte  <hermitte@free.fr>\n\t    Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR libstdc++/45713\n\t* include/std/bitset: Fix _GLIBCXX_BITSET_WORDS macro.\n\t* testsuite/23_containers/bitset/45713.cc: New.\n\t    \n\nCo-Authored-By: Paolo Carlini <paolo.carlini@oracle.com>\n\nFrom-SVN: r164388", "tree": {"sha": "c0307de0de4cf2d8e1498c3c23ee0401553757f7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c0307de0de4cf2d8e1498c3c23ee0401553757f7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fc99f7809e92e922356761380539cf4c388f48b8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fc99f7809e92e922356761380539cf4c388f48b8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fc99f7809e92e922356761380539cf4c388f48b8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fc99f7809e92e922356761380539cf4c388f48b8/comments", "author": {"login": "LucHermitte", "id": 501871, "node_id": "MDQ6VXNlcjUwMTg3MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/501871?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LucHermitte", "html_url": "https://github.com/LucHermitte", "followers_url": "https://api.github.com/users/LucHermitte/followers", "following_url": "https://api.github.com/users/LucHermitte/following{/other_user}", "gists_url": "https://api.github.com/users/LucHermitte/gists{/gist_id}", "starred_url": "https://api.github.com/users/LucHermitte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LucHermitte/subscriptions", "organizations_url": "https://api.github.com/users/LucHermitte/orgs", "repos_url": "https://api.github.com/users/LucHermitte/repos", "events_url": "https://api.github.com/users/LucHermitte/events{/privacy}", "received_events_url": "https://api.github.com/users/LucHermitte/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7b458ccc8d474217045c53f9ffc0becd948edc49", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b458ccc8d474217045c53f9ffc0becd948edc49", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b458ccc8d474217045c53f9ffc0becd948edc49"}], "stats": {"total": 36, "additions": 34, "deletions": 2}, "files": [{"sha": "f74e54f02ed2d72650a5db47f5e5f4b87e1ebd29", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fc99f7809e92e922356761380539cf4c388f48b8/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fc99f7809e92e922356761380539cf4c388f48b8/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=fc99f7809e92e922356761380539cf4c388f48b8", "patch": "@@ -1,3 +1,10 @@\n+2010-09-17  Luc Hermitte  <hermitte@free.fr>\n+\t    Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR libstdc++/45713\n+\t* include/std/bitset: Fix _GLIBCXX_BITSET_WORDS macro.\n+\t* testsuite/23_containers/bitset/45713.cc: New.\n+\n 2010-09-16  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \t* include/bits/stl_raw_storage_iter.h (raw_storage_iterator<>::"}, {"sha": "6fe1235ee89388bb973df8a9f494259c7558da3d", "filename": "libstdc++-v3/include/std/bitset", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fc99f7809e92e922356761380539cf4c388f48b8/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fbitset", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fc99f7809e92e922356761380539cf4c388f48b8/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fbitset", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fbitset?ref=fc99f7809e92e922356761380539cf4c388f48b8", "patch": "@@ -53,8 +53,8 @@\n \n #define _GLIBCXX_BITSET_BITS_PER_WORD  (__CHAR_BIT__ * sizeof(unsigned long))\n #define _GLIBCXX_BITSET_WORDS(__n) \\\n- ((__n) < 1 ? 0 : ((__n) + _GLIBCXX_BITSET_BITS_PER_WORD - 1) \\\n-                  / _GLIBCXX_BITSET_BITS_PER_WORD)\n+  ((__n) / _GLIBCXX_BITSET_BITS_PER_WORD + \\\n+   ((__n) % _GLIBCXX_BITSET_BITS_PER_WORD == 0 ? 0 : 1))\n \n _GLIBCXX_BEGIN_NESTED_NAMESPACE(std, _GLIBCXX_STD_D)\n "}, {"sha": "8d369d63e18d7e495c7a9f4eaa8aaa7cc54c38fd", "filename": "libstdc++-v3/testsuite/23_containers/bitset/45713.cc", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fc99f7809e92e922356761380539cf4c388f48b8/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fbitset%2F45713.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fc99f7809e92e922356761380539cf4c388f48b8/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fbitset%2F45713.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fbitset%2F45713.cc?ref=fc99f7809e92e922356761380539cf4c388f48b8", "patch": "@@ -0,0 +1,25 @@\n+// Copyright (C) 2010 Free Software Foundation, Inc.\n+//\n+// This file is part of the GNU ISO C++ Library.  This library is free\n+// software; you can redistribute it and/or modify it under the\n+// terms of the GNU General Public License as published by the\n+// Free Software Foundation; either version 3, or (at your option)\n+// any later version.\n+\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+// GNU General Public License for more details.\n+\n+// You should have received a copy of the GNU General Public License along\n+// with this library; see the file COPYING3.  If not see\n+// <http://www.gnu.org/licenses/>.\n+\n+// { dg-do compile }\n+\n+#include <bitset>\n+\n+// libstdc++/45713\n+#if __SIZEOF_SIZE_T__ >= 4\n+int test[sizeof(std::bitset<0xffffffff>) != 1 ? 1 : -1];\n+#endif"}]}