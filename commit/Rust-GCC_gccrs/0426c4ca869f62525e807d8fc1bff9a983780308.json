{"sha": "0426c4ca869f62525e807d8fc1bff9a983780308", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDQyNmM0Y2E4NjlmNjI1MjVlODA3ZDhmYzFiZmY5YTk4Mzc4MDMwOA==", "commit": {"author": {"name": "Scott Brumbaugh", "email": "scottb.lists@verizon.net", "date": "2004-01-12T16:14:41Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2004-01-12T16:14:41Z"}, "message": "re PR c++/4100 ([parser] friend qualifier accepted in definition of nested class)\n\n\tPR c++/4100\n\t* parser.c (cp_parser_decl_specifier_seq): Add check for a friend\n\tdecl-specifier occurring along with a class definition.\n\nFrom-SVN: r75726", "tree": {"sha": "463b8787bb575c71cc03d101c85cdc09526be242", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/463b8787bb575c71cc03d101c85cdc09526be242"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0426c4ca869f62525e807d8fc1bff9a983780308", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0426c4ca869f62525e807d8fc1bff9a983780308", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0426c4ca869f62525e807d8fc1bff9a983780308", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0426c4ca869f62525e807d8fc1bff9a983780308/comments", "author": null, "committer": null, "parents": [{"sha": "8064d930e80f245b379f51072b4b85746b8e4ccf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8064d930e80f245b379f51072b4b85746b8e4ccf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8064d930e80f245b379f51072b4b85746b8e4ccf"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "48d831ecb63fa9c8bccc01f20535fcefd61e991f", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0426c4ca869f62525e807d8fc1bff9a983780308/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0426c4ca869f62525e807d8fc1bff9a983780308/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=0426c4ca869f62525e807d8fc1bff9a983780308", "patch": "@@ -1,3 +1,9 @@\n+2004-01-12  Scott Brumbaugh  <scottb.lists@verizon.net>\n+\n+\tPR c++/4100\n+\t* parser.c (cp_parser_decl_specifier_seq): Add check for a friend\n+\tdecl-specifier occurring along with a class definition.\n+\n 2004-01-12  Ian Lance Taylor  <ian@wasabisystems.com>\n \n \t* parser.c (cp_parser_decl_specifier_seq): Add parenthetical"}, {"sha": "fe3a3dec9651c0fa1cab08aff90de40768a3e0a6", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0426c4ca869f62525e807d8fc1bff9a983780308/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0426c4ca869f62525e807d8fc1bff9a983780308/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=0426c4ca869f62525e807d8fc1bff9a983780308", "patch": "@@ -6726,6 +6726,10 @@ cp_parser_decl_specifier_seq (cp_parser* parser,\n       flags |= CP_PARSER_FLAGS_OPTIONAL;\n     }\n \n+  /* Don't allow a friend specifier with a class definition.  */\n+  if (friend_p && (*declares_class_or_enum & 2))\n+    error (\"class definition may not be declared a friend\");\n+\n   /* We have built up the DECL_SPECS in reverse order.  Return them in\n      the correct order.  */\n   return nreverse (decl_specs);"}]}