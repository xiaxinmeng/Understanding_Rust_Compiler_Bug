{"sha": "9064759767c96c221038fc5998596d425a18622d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTA2NDc1OTc2N2M5NmMyMjEwMzhmYzU5OTg1OTZkNDI1YTE4NjIyZA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2018-01-16T08:55:14Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2018-01-16T08:55:14Z"}, "message": "re PR rtl-optimization/83620 (ICE: in assign_by_spills, at lra-assigns.c:1470: unable to find a register to spill with -flive-range-shrinkage --param=max-sched-ready-insns=0)\n\n\tPR rtl-optimization/86620\n\t* params.def (max-sched-ready-insns): Bump minimum value to 1.\n\n\t* gcc.dg/pr64935-2.c: Use --param=max-sched-ready-insns=1\n\tinstead of --param=max-sched-ready-insns=0.\n\t* gcc.target/i386/pr83620.c: New test.\n\t* gcc.dg/pr83620.c: New test.\n\nFrom-SVN: r256729", "tree": {"sha": "de444aa529a405d1f8eed5b7808bb93560c1b7f6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/de444aa529a405d1f8eed5b7808bb93560c1b7f6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9064759767c96c221038fc5998596d425a18622d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9064759767c96c221038fc5998596d425a18622d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9064759767c96c221038fc5998596d425a18622d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9064759767c96c221038fc5998596d425a18622d/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6ce065b607072415124a6a15124e1424f5b6a5e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ce065b607072415124a6a15124e1424f5b6a5e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ce065b607072415124a6a15124e1424f5b6a5e8"}], "stats": {"total": 37, "additions": 35, "deletions": 2}, "files": [{"sha": "9cf937b2714b867bf5c8ff9e00c0ff738210f993", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9064759767c96c221038fc5998596d425a18622d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9064759767c96c221038fc5998596d425a18622d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9064759767c96c221038fc5998596d425a18622d", "patch": "@@ -1,5 +1,8 @@\n 2018-01-16  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR rtl-optimization/86620\n+\t* params.def (max-sched-ready-insns): Bump minimum value to 1.\n+\n \tPR rtl-optimization/83213\n \t* recog.c (peep2_attempt): Copy over CROSSING_JUMP_P from peepinsn\n \tto last if both are JUMP_INSNs."}, {"sha": "930b31820be96838dfaf8fc662ca0f7bc768ba65", "filename": "gcc/params.def", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9064759767c96c221038fc5998596d425a18622d/gcc%2Fparams.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9064759767c96c221038fc5998596d425a18622d/gcc%2Fparams.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fparams.def?ref=9064759767c96c221038fc5998596d425a18622d", "patch": "@@ -744,7 +744,7 @@ DEFPARAM (PARAM_MAX_FIELDS_FOR_FIELD_SENSITIVE,\n DEFPARAM(PARAM_MAX_SCHED_READY_INSNS,\n \t \"max-sched-ready-insns\",\n \t \"The maximum number of instructions ready to be issued to be considered by the scheduler during the first scheduling pass.\",\n-\t 100, 0, 0)\n+\t 100, 1, 0)\n \n /* This is the maximum number of active local stores RTL DSE will consider.  */\n DEFPARAM (PARAM_MAX_DSE_ACTIVE_LOCAL_STORES,"}, {"sha": "b4f38370f782885a0ff89fbe3bd3b7a9eb333cfa", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9064759767c96c221038fc5998596d425a18622d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9064759767c96c221038fc5998596d425a18622d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=9064759767c96c221038fc5998596d425a18622d", "patch": "@@ -1,5 +1,11 @@\n 2018-01-16  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR rtl-optimization/86620\n+\t* gcc.dg/pr64935-2.c: Use --param=max-sched-ready-insns=1\n+\tinstead of --param=max-sched-ready-insns=0.\n+\t* gcc.target/i386/pr83620.c: New test.\n+\t* gcc.dg/pr83620.c: New test.\n+\n \tPR tree-optimization/83843\n \t* gcc.dg/store_merging_18.c: New test.\n "}, {"sha": "33d963036995a2c5ce022b84a4a014fff4d2628a", "filename": "gcc/testsuite/gcc.dg/pr64935-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9064759767c96c221038fc5998596d425a18622d/gcc%2Ftestsuite%2Fgcc.dg%2Fpr64935-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9064759767c96c221038fc5998596d425a18622d/gcc%2Ftestsuite%2Fgcc.dg%2Fpr64935-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr64935-2.c?ref=9064759767c96c221038fc5998596d425a18622d", "patch": "@@ -1,6 +1,6 @@\n /* PR rtl-optimization/64935 */\n /* { dg-do compile } */\n-/* { dg-options \"-O -fschedule-insns --param=max-sched-ready-insns=0 -fcompare-debug\" } */\n+/* { dg-options \"-O -fschedule-insns --param=max-sched-ready-insns=1 -fcompare-debug\" } */\n /* { dg-require-effective-target scheduling } */\n /* { dg-xfail-if \"\" { powerpc-ibm-aix* } } */\n "}, {"sha": "e0e44a3b421aab4b639ece85d523f1de154de058", "filename": "gcc/testsuite/gcc.dg/pr83620.c", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9064759767c96c221038fc5998596d425a18622d/gcc%2Ftestsuite%2Fgcc.dg%2Fpr83620.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9064759767c96c221038fc5998596d425a18622d/gcc%2Ftestsuite%2Fgcc.dg%2Fpr83620.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr83620.c?ref=9064759767c96c221038fc5998596d425a18622d", "patch": "@@ -0,0 +1,9 @@\n+/* PR rtl-optimization/86620 */\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -flive-range-shrinkage --param=max-sched-ready-insns=0\" } */\n+/* { dg-error \"minimum value of parameter 'max-sched-ready-insns' is 1\" \"\" { target *-*-* } 0 } */\n+\n+void\n+foo (void)\n+{\n+}"}, {"sha": "996f20477d299607e5bcadf8f16a566f5998e390", "filename": "gcc/testsuite/gcc.target/i386/pr83620.c", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9064759767c96c221038fc5998596d425a18622d/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr83620.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9064759767c96c221038fc5998596d425a18622d/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr83620.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr83620.c?ref=9064759767c96c221038fc5998596d425a18622d", "patch": "@@ -0,0 +1,15 @@\n+/* PR rtl-optimization/86620 */\n+/* { dg-do compile { target int128 } } */\n+/* { dg-options \"-O2 -flive-range-shrinkage --param=max-sched-ready-insns=1 -Wno-psabi -mno-avx\" } */\n+\n+typedef unsigned __int128 V __attribute__ ((vector_size (64)));\n+\n+V u, v;\n+\n+V\n+foo (char c, short d, int e, long f, __int128 g)\n+{\n+  f >>= c & 63;\n+  v = (V){f} == u;\n+  return e + g + v;\n+}"}]}