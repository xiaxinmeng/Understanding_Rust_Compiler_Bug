{"sha": "b9703d9852e08e9b3b52b9d6eba428bbf15d6532", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yjk3MDNkOTg1MmUwOGU5YjNiNTJiOWQ2ZWJhNDI4YmJmMTVkNjUzMg==", "commit": {"author": {"name": "Erik Edelmann", "email": "eedelman@gcc.gnu.org", "date": "2006-10-24T17:01:30Z"}, "committer": {"name": "Erik Edelmann", "email": "eedelman@gcc.gnu.org", "date": "2006-10-24T17:01:30Z"}, "message": "re PR fortran/29393 (Vector subscript rejected)\n\nfortran/\n2006-10-24  Erik Edelmann  <eedelman@gcc.gnu.org>\n\n        PR fortran/29393\n        * expr.c (simplify_parameter_variable): Keep rank of original\n         expression.\n\nTestsuite/\n2006-10-24  Erik Edelmann  <eedelman@gcc.gnu.org>\n\n        PR fortran/29393\n        * gfortran.dg/initialize_2.f90: New.\n\nFrom-SVN: r118008", "tree": {"sha": "e1f3f0994d4a37f0dcd792ac9391d5a685d66786", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e1f3f0994d4a37f0dcd792ac9391d5a685d66786"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b9703d9852e08e9b3b52b9d6eba428bbf15d6532", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b9703d9852e08e9b3b52b9d6eba428bbf15d6532", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b9703d9852e08e9b3b52b9d6eba428bbf15d6532", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b9703d9852e08e9b3b52b9d6eba428bbf15d6532/comments", "author": null, "committer": null, "parents": [{"sha": "6d4d216adde8fbb57427a1192120fa1ff50fbdb3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d4d216adde8fbb57427a1192120fa1ff50fbdb3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d4d216adde8fbb57427a1192120fa1ff50fbdb3"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "0d29f46d3c71c02b018d191740acbe73b7fc59ac", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b9703d9852e08e9b3b52b9d6eba428bbf15d6532/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b9703d9852e08e9b3b52b9d6eba428bbf15d6532/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=b9703d9852e08e9b3b52b9d6eba428bbf15d6532", "patch": "@@ -1,3 +1,9 @@\n+2006-10-24  Erik Edelmann  <eedelman@gcc.gnu.org>\n+\n+\tPR fortran/29393\n+\t* expr.c (simplify_parameter_variable): Keep rank of original\n+\texpression.\n+\n 2006-10-23 Rafael Avila de Espindola  <rafael.espindola@gmail.com>\n \n \t* Make-lang.in (f951$(exeext)): Depend on and link with attribs.o."}, {"sha": "1f51fd09fca52604182172813d8640d89dff3de4", "filename": "gcc/fortran/expr.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b9703d9852e08e9b3b52b9d6eba428bbf15d6532/gcc%2Ffortran%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b9703d9852e08e9b3b52b9d6eba428bbf15d6532/gcc%2Ffortran%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fexpr.c?ref=b9703d9852e08e9b3b52b9d6eba428bbf15d6532", "patch": "@@ -1363,6 +1363,8 @@ simplify_parameter_variable (gfc_expr * p, int type)\n   if (e == NULL)\n     return FAILURE;\n \n+  e->rank = p->rank;\n+\n   /* Do not copy subobject refs for constant.  */\n   if (e->expr_type != EXPR_CONSTANT && p->ref != NULL)\n     e->ref = copy_ref (p->ref);"}, {"sha": "87c2154f9e1b464b84dd564521814bb3ff43cdfd", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b9703d9852e08e9b3b52b9d6eba428bbf15d6532/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b9703d9852e08e9b3b52b9d6eba428bbf15d6532/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b9703d9852e08e9b3b52b9d6eba428bbf15d6532", "patch": "@@ -1,3 +1,8 @@\n+2006-10-24  Erik Edelmann  <eedelman@gcc.gnu.org>\n+\n+\tPR fortran/29393\n+\t* gfortran.dg/initialize_2.f90: New.\n+\n 2006-10-24  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* gcc.dg/torture/builtin-math-2.c: New test."}, {"sha": "d5de85941d193d9b36c70adab34857b9dc8416dd", "filename": "gcc/testsuite/gfortran.dg/initialization_2.f90", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b9703d9852e08e9b3b52b9d6eba428bbf15d6532/gcc%2Ftestsuite%2Fgfortran.dg%2Finitialization_2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b9703d9852e08e9b3b52b9d6eba428bbf15d6532/gcc%2Ftestsuite%2Fgfortran.dg%2Finitialization_2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Finitialization_2.f90?ref=b9703d9852e08e9b3b52b9d6eba428bbf15d6532", "patch": "@@ -0,0 +1,7 @@\n+! { dg-do compile }\n+! PR 29393: Ranks of PARAMETER-lhs in initializations\n+    integer, parameter ::   A(-3:7,2)=0 \n+    integer, parameter, dimension(3) :: V = (/ 2, 4, 6 /)\n+    integer, parameter, dimension(3) :: B = A(V,1) \n+    integer, parameter, dimension(3) :: C = A(0:2,1) \n+end"}]}