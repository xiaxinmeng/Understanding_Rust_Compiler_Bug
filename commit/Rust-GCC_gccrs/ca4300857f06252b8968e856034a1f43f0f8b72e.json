{"sha": "ca4300857f06252b8968e856034a1f43f0f8b72e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2E0MzAwODU3ZjA2MjUyYjg5NjhlODU2MDM0YTFmNDNmMGY4YjcyZQ==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2008-11-25T05:55:55Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2008-11-25T05:55:55Z"}, "message": "re PR fortran/37803 (Call mpfr_check_range after setting emin/emax)\n\n2008-11-24  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR fortran/37803\n\t* arith.c (gfc_check_real_range): Add mpfr_check_range.\n\t* simplify.c (gfc_simplify_nearest): Add mpfr_check_range.\n\nFrom-SVN: r142187", "tree": {"sha": "a211509e31f108aa42fe824ae621622b60e541d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a211509e31f108aa42fe824ae621622b60e541d7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ca4300857f06252b8968e856034a1f43f0f8b72e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca4300857f06252b8968e856034a1f43f0f8b72e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca4300857f06252b8968e856034a1f43f0f8b72e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca4300857f06252b8968e856034a1f43f0f8b72e/comments", "author": null, "committer": null, "parents": [{"sha": "58e99d9a79c5bcb300186d6d896bc2640abdd092", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58e99d9a79c5bcb300186d6d896bc2640abdd092", "html_url": "https://github.com/Rust-GCC/gccrs/commit/58e99d9a79c5bcb300186d6d896bc2640abdd092"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "a698031dce222d469de9ed3351f48530062e157e", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca4300857f06252b8968e856034a1f43f0f8b72e/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca4300857f06252b8968e856034a1f43f0f8b72e/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=ca4300857f06252b8968e856034a1f43f0f8b72e", "patch": "@@ -1,3 +1,9 @@\n+2008-11-24  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR fortran/37803\n+\t* arith.c (gfc_check_real_range): Add mpfr_check_range.\n+\t* simplify.c (gfc_simplify_nearest): Add mpfr_check_range.\n+\n 2008-11-24  Mikael Morin  <mikael.morin@tele2.fr>\n \n \tPR fortran/38184"}, {"sha": "7440be3a2301b011b0356ea1ac0863842bf7d092", "filename": "gcc/fortran/arith.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca4300857f06252b8968e856034a1f43f0f8b72e/gcc%2Ffortran%2Farith.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca4300857f06252b8968e856034a1f43f0f8b72e/gcc%2Ffortran%2Farith.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Farith.c?ref=ca4300857f06252b8968e856034a1f43f0f8b72e", "patch": "@@ -379,6 +379,7 @@ gfc_check_real_range (mpfr_t p, int kind)\n       en = gfc_real_kinds[i].min_exponent - gfc_real_kinds[i].digits + 1;\n       mpfr_set_emin ((mp_exp_t) en);\n       mpfr_set_emax ((mp_exp_t) gfc_real_kinds[i].max_exponent);\n+      mpfr_check_range (q, 0, GFC_RND_MODE);\n       mpfr_subnormalize (q, 0, GFC_RND_MODE);\n \n       /* Reset emin and emax.  */"}, {"sha": "6904960eb941bef3d29ee113177c673acb6051ae", "filename": "gcc/fortran/simplify.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca4300857f06252b8968e856034a1f43f0f8b72e/gcc%2Ffortran%2Fsimplify.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca4300857f06252b8968e856034a1f43f0f8b72e/gcc%2Ffortran%2Fsimplify.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fsimplify.c?ref=ca4300857f06252b8968e856034a1f43f0f8b72e", "patch": "@@ -2993,6 +2993,7 @@ gfc_simplify_nearest (gfc_expr *x, gfc_expr *s)\n   mpfr_set_emin ((mp_exp_t) gfc_real_kinds[kind].min_exponent -\n \t\tmpfr_get_prec(result->value.real) + 1);\n   mpfr_set_emax ((mp_exp_t) gfc_real_kinds[kind].max_exponent - 1);\n+  mpfr_check_range (result->value.real, 0, GMP_RNDU);\n \n   if (mpfr_sgn (s->value.real) > 0)\n     {"}]}