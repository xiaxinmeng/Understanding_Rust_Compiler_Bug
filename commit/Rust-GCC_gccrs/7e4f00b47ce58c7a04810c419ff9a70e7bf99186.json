{"sha": "7e4f00b47ce58c7a04810c419ff9a70e7bf99186", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2U0ZjAwYjQ3Y2U1OGM3YTA0ODEwYzQxOWZmOWE3MGU3YmY5OTE4Ng==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2014-11-20T15:13:59Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2014-11-20T15:13:59Z"}, "message": "[multiple changes]\n\n2014-11-20  Arnaud Charlet  <charlet@adacore.com>\n\n\t* s-taspri-solaris.ads: Replace 64 by long_long_integer'size.\n\n2014-11-20  Olivier Hainque  <hainque@adacore.com>\n\n\t* init.c (__gnat_map_signal for VxWorks): Use a common mapping\n\tscheme for VxWorks version >= 6, instead of falling back to the\n\tvx5 scheme for versions > 6.\n\n2014-11-20  Ed Schonberg  <schonberg@adacore.com>\n\n\t* exp_strm.adb (Build_Mutable_Record_Read_Procedure): Use\n\tbase type when constructing subtype indication for constrained\n\ttarget object.\n\n2014-11-20  Jose Ruiz  <ruiz@adacore.com>\n\n\t* projects.texi: Minor spelling fix.\n\n2014-11-20  Bob Duff  <duff@adacore.com>\n\n\t* gnat_ugn.texi: Add doc for --split-line-before-op switch in gnatpp.\n\n2014-11-20  Vincent Celier  <celier@adacore.com>\n\n\t* prj-attr.adb (Register_New_Package): Allow the registration\n\tof an already unknown package and make it known.\n\nFrom-SVN: r217873", "tree": {"sha": "f55801949f1a70d9ff0b7a6b77a8a6e29cbb0f0c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f55801949f1a70d9ff0b7a6b77a8a6e29cbb0f0c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7e4f00b47ce58c7a04810c419ff9a70e7bf99186", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e4f00b47ce58c7a04810c419ff9a70e7bf99186", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7e4f00b47ce58c7a04810c419ff9a70e7bf99186", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e4f00b47ce58c7a04810c419ff9a70e7bf99186/comments", "author": null, "committer": null, "parents": [{"sha": "509793471ab9e93d8627a6d74064ec43c36ff4ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/509793471ab9e93d8627a6d74064ec43c36ff4ca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/509793471ab9e93d8627a6d74064ec43c36ff4ca"}], "stats": {"total": 70, "additions": 58, "deletions": 12}, "files": [{"sha": "7065302d18baac6cf04ee863063c23efaa7186b8", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e4f00b47ce58c7a04810c419ff9a70e7bf99186/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e4f00b47ce58c7a04810c419ff9a70e7bf99186/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=7e4f00b47ce58c7a04810c419ff9a70e7bf99186", "patch": "@@ -1,3 +1,32 @@\n+2014-11-20  Arnaud Charlet  <charlet@adacore.com>\n+\n+\t* s-taspri-solaris.ads: Replace 64 by long_long_integer'size.\n+\n+2014-11-20  Olivier Hainque  <hainque@adacore.com>\n+\n+\t* init.c (__gnat_map_signal for VxWorks): Use a common mapping\n+\tscheme for VxWorks version >= 6, instead of falling back to the\n+\tvx5 scheme for versions > 6.\n+\n+2014-11-20  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* exp_strm.adb (Build_Mutable_Record_Read_Procedure): Use\n+\tbase type when constructing subtype indication for constrained\n+\ttarget object.\n+\n+2014-11-20  Jose Ruiz  <ruiz@adacore.com>\n+\n+\t* projects.texi: Minor spelling fix.\n+\n+2014-11-20  Bob Duff  <duff@adacore.com>\n+\n+\t* gnat_ugn.texi: Add doc for --split-line-before-op switch in gnatpp.\n+\n+2014-11-20  Vincent Celier  <celier@adacore.com>\n+\n+\t* prj-attr.adb (Register_New_Package): Allow the registration\n+\tof an already unknown package and make it known.\n+\n 2014-11-20  Trevor Saunders  <tsaunders@mozilla.com>\n \n \t* gcc-interface/decl.c, gcc-interface/utils.c: replace htab with"}, {"sha": "210183d8130c524cf380f09968217f0d4388ef84", "filename": "gcc/ada/exp_strm.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e4f00b47ce58c7a04810c419ff9a70e7bf99186/gcc%2Fada%2Fexp_strm.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e4f00b47ce58c7a04810c419ff9a70e7bf99186/gcc%2Fada%2Fexp_strm.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_strm.adb?ref=7e4f00b47ce58c7a04810c419ff9a70e7bf99186", "patch": "@@ -978,7 +978,7 @@ package body Exp_Strm is\n           Defining_Identifier => Tmp,\n           Object_Definition   =>\n             Make_Subtype_Indication (Loc,\n-              Subtype_Mark => New_Occurrence_Of (Typ, Loc),\n+              Subtype_Mark => New_Occurrence_Of (Base_Type (Typ), Loc),\n               Constraint =>\n                 Make_Index_Or_Discriminant_Constraint (Loc,\n                   Constraints => Cstr))));"}, {"sha": "8f0e5d50ea949c17b0de07661800ac14161e7270", "filename": "gcc/ada/gnat_ugn.texi", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e4f00b47ce58c7a04810c419ff9a70e7bf99186/gcc%2Fada%2Fgnat_ugn.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e4f00b47ce58c7a04810c419ff9a70e7bf99186/gcc%2Fada%2Fgnat_ugn.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_ugn.texi?ref=7e4f00b47ce58c7a04810c419ff9a70e7bf99186", "patch": "@@ -13970,6 +13970,12 @@ Same as @code{--decimal-grouping}, but for based literals. For\n example, with @code{--based-grouping=4}, @code{16#0001FFFE#} will be\n changed to @code{16#0001_FFFE#}.\n \n+@item --split-line-before-op\n+@cindex @option{--split-line-before-op} (@command{gnatpp})\n+If it is necessary to split a line at a binary operator, by default\n+the line is split after the operator. With this option, it is split\n+before the operator.\n+\n @item --RM-style-spacing\n @cindex @option{--RM-style-spacing} (@command{gnatpp})\n Do not insert an extra blank before various occurrences of"}, {"sha": "30f2da4462b95fa050397573bfe4f255c725eb2e", "filename": "gcc/ada/init.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e4f00b47ce58c7a04810c419ff9a70e7bf99186/gcc%2Fada%2Finit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e4f00b47ce58c7a04810c419ff9a70e7bf99186/gcc%2Fada%2Finit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Finit.c?ref=7e4f00b47ce58c7a04810c419ff9a70e7bf99186", "patch": "@@ -1800,7 +1800,7 @@ __gnat_map_signal (int sig, siginfo_t *si ATTRIBUTE_UNUSED,\n       msg = \"SIGBUS: possible stack overflow\";\n       break;\n #endif\n-#elif (_WRS_VXWORKS_MAJOR == 6)\n+#elif (_WRS_VXWORKS_MAJOR >= 6)\n     case SIGILL:\n       exception = &constraint_error;\n       msg = \"SIGILL\";"}, {"sha": "7fb5e92ec297f667d1dc58a3f98ac6dce6a82db4", "filename": "gcc/ada/prj-attr.adb", "status": "modified", "additions": 19, "deletions": 8, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e4f00b47ce58c7a04810c419ff9a70e7bf99186/gcc%2Fada%2Fprj-attr.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e4f00b47ce58c7a04810c419ff9a70e7bf99186/gcc%2Fada%2Fprj-attr.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-attr.adb?ref=7e4f00b47ce58c7a04810c419ff9a70e7bf99186", "patch": "@@ -905,6 +905,7 @@ package body Prj.Attr is\n \n    procedure Register_New_Package (Name : String; Id : out Package_Node_Id) is\n       Pkg_Name : Name_Id;\n+      Found    : Boolean := False;\n \n    begin\n       if Name'Length = 0 then\n@@ -917,17 +918,27 @@ package body Prj.Attr is\n \n       for Index in Package_Attributes.First .. Package_Attributes.Last loop\n          if Package_Attributes.Table (Index).Name = Pkg_Name then\n-            Fail (\"cannot register a package with a non unique name \"\"\"\n-                  & Name\n-                  & \"\"\"\");\n-            Id := Empty_Package;\n-            return;\n+            if Package_Attributes.Table (Index).Known then\n+               Fail (\"cannot register a package with a non unique name \"\"\"\n+                     & Name\n+                     & \"\"\"\");\n+               Id := Empty_Package;\n+               return;\n+\n+            else\n+               Found := True;\n+               Id := (Value => Index);\n+               exit;\n+            end if;\n          end if;\n       end loop;\n \n-      Package_Attributes.Increment_Last;\n-      Id := (Value => Package_Attributes.Last);\n-      Package_Attributes.Table (Package_Attributes.Last) :=\n+      if not Found then\n+         Package_Attributes.Increment_Last;\n+         Id := (Value => Package_Attributes.Last);\n+      end if;\n+\n+      Package_Attributes.Table (Id.Value) :=\n         (Name             => Pkg_Name,\n          Known            => True,\n          First_Attribute  => Empty_Attr);"}, {"sha": "5ff2abc89c07cb746b101b54d6a641f9984aed2b", "filename": "gcc/ada/projects.texi", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e4f00b47ce58c7a04810c419ff9a70e7bf99186/gcc%2Fada%2Fprojects.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e4f00b47ce58c7a04810c419ff9a70e7bf99186/gcc%2Fada%2Fprojects.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprojects.texi?ref=7e4f00b47ce58c7a04810c419ff9a70e7bf99186", "patch": "@@ -2643,7 +2643,7 @@ themselves (so for instance you cannot use it to change the value\n of your PATH as seen from the spawned compiler).\n \n This attribute affects the external values as seen in the rest of\n-the aggreate projects, and in the aggregated projects.\n+the aggregate project, and in the aggregated projects.\n \n The exact value of external a variable comes from one of three\n sources (each level overrides the previous levels):"}, {"sha": "93c520da02a6b9f5c40a84558d8bfae42bbb812d", "filename": "gcc/ada/s-taspri-solaris.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e4f00b47ce58c7a04810c419ff9a70e7bf99186/gcc%2Fada%2Fs-taspri-solaris.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e4f00b47ce58c7a04810c419ff9a70e7bf99186/gcc%2Fada%2Fs-taspri-solaris.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-taspri-solaris.ads?ref=7e4f00b47ce58c7a04810c419ff9a70e7bf99186", "patch": "@@ -78,7 +78,7 @@ package System.Task_Primitives is\n \n private\n \n-   type Private_Task_Serial_Number is mod 2 ** 64;\n+   type Private_Task_Serial_Number is mod 2 ** Long_Long_Integer'Size;\n    --  Used to give each task a unique serial number\n \n    type Base_Lock is new System.OS_Interface.mutex_t;"}]}