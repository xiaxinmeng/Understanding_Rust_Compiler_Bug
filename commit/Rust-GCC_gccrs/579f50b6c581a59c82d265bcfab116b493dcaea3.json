{"sha": "579f50b6c581a59c82d265bcfab116b493dcaea3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTc5ZjUwYjZjNTgxYTU5YzgyZDI2NWJjZmFiMTE2YjQ5M2RjYWVhMw==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-03-31T21:03:25Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-03-31T21:03:25Z"}, "message": "(next_type_uid): Move definition to reasonable place.  (copy_node):\n\nMake new DECL_UID and TYPE_UID as comments say.\n\nFrom-SVN: r3968", "tree": {"sha": "156bb5f0d75b740e12892cdc5f04e1a5f40c4636", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/156bb5f0d75b740e12892cdc5f04e1a5f40c4636"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/579f50b6c581a59c82d265bcfab116b493dcaea3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/579f50b6c581a59c82d265bcfab116b493dcaea3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/579f50b6c581a59c82d265bcfab116b493dcaea3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/579f50b6c581a59c82d265bcfab116b493dcaea3/comments", "author": null, "committer": null, "parents": [{"sha": "0b540bf4e57da4f21022373117d10de463888426", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b540bf4e57da4f21022373117d10de463888426", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b540bf4e57da4f21022373117d10de463888426"}], "stats": {"total": 13, "additions": 8, "deletions": 5}, "files": [{"sha": "7f13a3e696c60d362e3aac13f6735363ae0024a4", "filename": "gcc/tree.c", "status": "modified", "additions": 8, "deletions": 5, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/579f50b6c581a59c82d265bcfab116b493dcaea3/gcc%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/579f50b6c581a59c82d265bcfab116b493dcaea3/gcc%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.c?ref=579f50b6c581a59c82d265bcfab116b493dcaea3", "patch": "@@ -245,6 +245,8 @@ static int do_identifier_warnings;\n \n /* Unique id for next decl created.  */\n static int next_decl_uid;\n+/* Unique id for next type created.  */\n+static int next_type_uid = 1;\n \n extern char *mode_name[];\n \n@@ -908,11 +910,7 @@ make_node (code)\n       break;\n \n     case 't':\n-      {\n-\tstatic unsigned next_type_uid = 1;\n-\n-\tTYPE_UID (t) = next_type_uid++;\n-      }\n+      TYPE_UID (t) = next_type_uid++;\n       TYPE_ALIGN (t) = 1;\n       TYPE_MAIN_VARIANT (t) = t;\n       break;\n@@ -987,6 +985,11 @@ copy_node (node)\n \n   TREE_CHAIN (t) = 0;\n \n+  if (TREE_CODE_CLASS (code) == 'd')\n+    DECL_UID (t) = next_decl_uid++;\n+  else if (TREE_CODE_CLASS (code) == 't')\n+    TYPE_UID (t) = next_type_uid++;\n+\n   TREE_PERMANENT (t) = (current_obstack == &permanent_obstack);\n \n   return t;"}]}