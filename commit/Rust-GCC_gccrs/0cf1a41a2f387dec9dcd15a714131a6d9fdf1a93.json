{"sha": "0cf1a41a2f387dec9dcd15a714131a6d9fdf1a93", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGNmMWE0MWEyZjM4N2RlYzlkY2QxNWE3MTQxMzFhNmQ5ZmRmMWE5Mw==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2009-12-10T22:26:20Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2009-12-10T22:26:20Z"}, "message": "s-linux-sparc.ads: New file.\n\n\t* s-linux-sparc.ads: New file.\n\t* gcc-interface/Makefile.in (SPARC/Linux): Use it.\n\nFrom-SVN: r155144", "tree": {"sha": "bcd930dd14640f123d6045cedabf76ee329db8a0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bcd930dd14640f123d6045cedabf76ee329db8a0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0cf1a41a2f387dec9dcd15a714131a6d9fdf1a93", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0cf1a41a2f387dec9dcd15a714131a6d9fdf1a93", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0cf1a41a2f387dec9dcd15a714131a6d9fdf1a93", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0cf1a41a2f387dec9dcd15a714131a6d9fdf1a93/comments", "author": null, "committer": null, "parents": [{"sha": "b66887e4d016d2496653b1bab49590539b9fa4f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b66887e4d016d2496653b1bab49590539b9fa4f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b66887e4d016d2496653b1bab49590539b9fa4f8"}], "stats": {"total": 127, "additions": 126, "deletions": 1}, "files": [{"sha": "cf22b664e9563044e67df246f7a364dea04075ed", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0cf1a41a2f387dec9dcd15a714131a6d9fdf1a93/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0cf1a41a2f387dec9dcd15a714131a6d9fdf1a93/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=0cf1a41a2f387dec9dcd15a714131a6d9fdf1a93", "patch": "@@ -1,3 +1,8 @@\n+2009-12-10  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* s-linux-sparc.ads: New file.\n+\t* gcc-interface/Makefile.in (SPARC/Linux): Use it.\n+\n 2009-12-04  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc-interface/trans.c (add_decl_expr): At toplevel, mark the"}, {"sha": "c30728321282e1d6a1c602183377b63a3ae92c30", "filename": "gcc/ada/gcc-interface/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0cf1a41a2f387dec9dcd15a714131a6d9fdf1a93/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0cf1a41a2f387dec9dcd15a714131a6d9fdf1a93/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMakefile.in?ref=0cf1a41a2f387dec9dcd15a714131a6d9fdf1a93", "patch": "@@ -1797,7 +1797,7 @@ ifeq ($(strip $(filter-out sparc% linux%,$(arch) $(osys))),)\n   a-intnam.ads<a-intnam-linux.ads \\\n   s-inmaop.adb<s-inmaop-posix.adb \\\n   s-intman.adb<s-intman-posix.adb \\\n-  s-linux.ads<s-linux.ads \\\n+  s-linux.ads<s-linux-sparc.ads \\\n   s-osinte.adb<s-osinte-posix.adb \\\n   s-osinte.ads<s-osinte-linux.ads \\\n   s-osprim.adb<s-osprim-posix.adb \\"}, {"sha": "0cfda652d57055c98ccd3a6a49a0e07e34f41ed7", "filename": "gcc/ada/s-linux-sparc.ads", "status": "added", "additions": 120, "deletions": 0, "changes": 120, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0cf1a41a2f387dec9dcd15a714131a6d9fdf1a93/gcc%2Fada%2Fs-linux-sparc.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0cf1a41a2f387dec9dcd15a714131a6d9fdf1a93/gcc%2Fada%2Fs-linux-sparc.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-linux-sparc.ads?ref=0cf1a41a2f387dec9dcd15a714131a6d9fdf1a93", "patch": "@@ -0,0 +1,120 @@\n+------------------------------------------------------------------------------\n+--                                                                          --\n+--                GNU ADA RUN-TIME LIBRARY (GNARL) COMPONENTS               --\n+--                                                                          --\n+--                          S Y S T E M .  L I N U X                        --\n+--                                                                          --\n+--                                  S p e c                                 --\n+--                                                                          --\n+--             Copyright (C) 2009, Free Software Foundation, Inc.           --\n+--                                                                          --\n+-- GNARL is free software; you can  redistribute it  and/or modify it under --\n+-- terms of the  GNU General Public License as published  by the Free Soft- --\n+-- ware  Foundation;  either version 3,  or (at your option) any later ver- --\n+-- sion.  GNAT is distributed in the hope that it will be useful, but WITH- --\n+-- OUT ANY WARRANTY;  without even the  implied warranty of MERCHANTABILITY --\n+-- or FITNESS FOR A PARTICULAR PURPOSE.                                     --\n+--                                                                          --\n+-- As a special exception under Section 7 of GPL version 3, you are granted --\n+-- additional permissions described in the GCC Runtime Library Exception,   --\n+-- version 3.1, as published by the Free Software Foundation.               --\n+--                                                                          --\n+-- You should have received a copy of the GNU General Public License and    --\n+-- a copy of the GCC Runtime Library Exception along with this program;     --\n+-- see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see    --\n+-- <http://www.gnu.org/licenses/>.                                          --\n+--                                                                          --\n+--                                                                          --\n+------------------------------------------------------------------------------\n+\n+--  This is the SPARC version of this package\n+\n+--  This package encapsulates cpu specific differences between implementations\n+--  of GNU/Linux, in order to share s-osinte-linux.ads.\n+\n+--  PLEASE DO NOT add any with-clauses to this package or remove the pragma\n+--  Preelaborate. This package is designed to be a bottom-level (leaf) package\n+\n+with Interfaces.C;\n+\n+package System.Linux is\n+   pragma Preelaborate;\n+\n+   -----------\n+   -- Errno --\n+   -----------\n+\n+   EAGAIN    : constant := 11;\n+   EINTR     : constant := 4;\n+   EINVAL    : constant := 22;\n+   ENOMEM    : constant := 12;\n+   EPERM     : constant := 1;\n+   ETIMEDOUT : constant := 110;\n+\n+   -------------\n+   -- Signals --\n+   -------------\n+\n+   SIGHUP     : constant := 1; --  hangup\n+   SIGINT     : constant := 2; --  interrupt (rubout)\n+   SIGQUIT    : constant := 3; --  quit (ASCD FS)\n+   SIGILL     : constant := 4; --  illegal instruction (not reset)\n+   SIGTRAP    : constant := 5; --  trace trap (not reset)\n+   SIGABRT    : constant := 6; --  used by abort, replace SIGIOT in the  future\n+   SIGIOT     : constant := 6; --  IOT instruction\n+   SIGEMT     : constant := 7; --  EMT\n+   SIGFPE     : constant := 8; --  floating point exception\n+   SIGKILL    : constant := 9; --  kill (cannot be caught or ignored)\n+   SIGBUS     : constant := 10; --  bus error\n+   SIGSEGV    : constant := 11; --  segmentation violation\n+   SIGSYS     : constant := 12; --  bad system call\n+   SIGPIPE    : constant := 13; --  write on a pipe with no one to read it\n+   SIGALRM    : constant := 14; --  alarm clock\n+   SIGTERM    : constant := 15; --  software termination signal from kill\n+   SIGURG     : constant := 16; --  urgent condition on IO channel\n+   SIGSTOP    : constant := 17; --  stop (cannot be caught or ignored)\n+   SIGTSTP    : constant := 18; --  user stop requested from tty\n+   SIGCONT    : constant := 19; --  stopped process has been continued\n+   SIGCHLD    : constant := 20; --  child status change\n+   SIGCLD     : constant := 20; --  alias for SIGCHLD\n+   SIGTTIN    : constant := 21; --  background tty read attempted\n+   SIGTTOU    : constant := 22; --  background tty write attempted\n+   SIGIO      : constant := 23; --  I/O now possible (4.2 BSD)\n+   SIGPOLL    : constant := 23; --  pollable event occurred\n+   SIGXCPU    : constant := 24; --  CPU time limit exceeded\n+   SIGXFSZ    : constant := 25; --  filesize limit exceeded\n+   SIGVTALRM  : constant := 26; --  virtual timer expired\n+   SIGPROF    : constant := 27; --  profiling timer expired\n+   SIGWINCH   : constant := 28; --  window size change\n+   SIGLOST    : constant := 29; --  File lock lost\n+   SIGPWR     : constant := 29; --  power-fail restart\n+   SIGUSR1    : constant := 30; --  user defined signal 1\n+   SIGUSR2    : constant := 31; --  user defined signal 2\n+\n+   SIGLTHRRES : constant := 32; --  GNU/LinuxThreads restart signal\n+   SIGLTHRCAN : constant := 33; --  GNU/LinuxThreads cancel signal\n+   SIGLTHRDBG : constant := 34; --  GNU/LinuxThreads debugger signal\n+\n+   SIGUNUSED  : constant := 0;\n+   SIGSTKFLT  : constant := 0;\n+   --  These don't exist for Linux/SPARC.  The constants are present\n+   --  so that we can continue to use a-intnam-linux.ads.\n+\n+   --  struct_sigaction offsets\n+\n+   sa_handler_pos : constant := 0;\n+   sa_mask_pos    : constant := Standard'Address_Size / 8;\n+   sa_flags_pos   : constant := 128 + sa_mask_pos;\n+\n+   SA_SIGINFO  : constant := 16#200#;\n+   SA_ONSTACK  : constant := 16#001#;\n+\n+   --  24 bytes for 32-bit and 40 bytes for 64-bit, aligned like 'long'\n+\n+   type pthread_mutex_t is record\n+      L1, L2, L3, L4 : Interfaces.C.long;\n+      I1, I2 : Interfaces.C.int;\n+   end record;\n+   pragma Convention (C, pthread_mutex_t);\n+\n+end System.Linux;"}]}