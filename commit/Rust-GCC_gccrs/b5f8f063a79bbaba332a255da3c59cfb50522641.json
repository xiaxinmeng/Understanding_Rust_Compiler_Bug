{"sha": "b5f8f063a79bbaba332a255da3c59cfb50522641", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjVmOGYwNjNhNzliYmFiYTMzMmEyNTVkYTNjNTljZmI1MDUyMjY0MQ==", "commit": {"author": {"name": "Steve Ellcey", "email": "sellcey@mips.com", "date": "2013-08-13T15:49:39Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2013-08-13T15:49:39Z"}, "message": "mips.md (prefetch): Use lw instead of ld on loongson in 32bit mode.\n\n2013-08-13  Steve Ellcey  <sellcey@mips.com>\n\n\t* config/mips/mips.md (prefetch): Use lw instead of ld on\n\tloongson in 32bit mode.\n\nFrom-SVN: r201691", "tree": {"sha": "3220426ff353997e072265866d417def2d218a04", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3220426ff353997e072265866d417def2d218a04"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b5f8f063a79bbaba332a255da3c59cfb50522641", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5f8f063a79bbaba332a255da3c59cfb50522641", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b5f8f063a79bbaba332a255da3c59cfb50522641", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5f8f063a79bbaba332a255da3c59cfb50522641/comments", "author": null, "committer": null, "parents": [{"sha": "4de80584ef049b8823dcbea850a0cb1776d6cbc3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4de80584ef049b8823dcbea850a0cb1776d6cbc3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4de80584ef049b8823dcbea850a0cb1776d6cbc3"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "2cf949bae1915c8e7dddad82a1f39653d42efef5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5f8f063a79bbaba332a255da3c59cfb50522641/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5f8f063a79bbaba332a255da3c59cfb50522641/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b5f8f063a79bbaba332a255da3c59cfb50522641", "patch": "@@ -1,3 +1,8 @@\n+2013-08-13  Steve Ellcey  <sellcey@mips.com>\n+\n+\t* config/mips/mips.md (prefetch): Use lw instead of ld on\n+\tloongson in 32bit mode.\n+\n 2013-08-13  Nick Clifton  <nickc@redhat.com>\n \n \t* config.gcc: (avr-linux): Allow for tmake_file not being empty."}, {"sha": "0cda169224f93e5c9ff29a2ef567bae8c56c1d85", "filename": "gcc/config/mips/mips.md", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5f8f063a79bbaba332a255da3c59cfb50522641/gcc%2Fconfig%2Fmips%2Fmips.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5f8f063a79bbaba332a255da3c59cfb50522641/gcc%2Fconfig%2Fmips%2Fmips.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.md?ref=b5f8f063a79bbaba332a255da3c59cfb50522641", "patch": "@@ -6673,8 +6673,13 @@\n   \"ISA_HAS_PREFETCH && TARGET_EXPLICIT_RELOCS\"\n {\n   if (TARGET_LOONGSON_2EF || TARGET_LOONGSON_3A)\n-    /* Loongson 2[ef] and Loongson 3a use load to $0 to perform prefetching.  */\n-    return \"ld\\t$0,%a0\";\n+    {\n+      /* Loongson 2[ef] and Loongson 3a use load to $0 for prefetching.  */\n+      if (TARGET_64BIT)\n+        return \"ld\\t$0,%a0\";\n+      else\n+        return \"lw\\t$0,%a0\";\n+    }\n   operands[1] = mips_prefetch_cookie (operands[1], operands[2]);\n   return \"pref\\t%1,%a0\";\n }"}]}