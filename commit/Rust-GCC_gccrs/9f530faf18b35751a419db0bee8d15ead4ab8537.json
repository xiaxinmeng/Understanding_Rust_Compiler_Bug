{"sha": "9f530faf18b35751a419db0bee8d15ead4ab8537", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWY1MzBmYWYxOGIzNTc1MWE0MTlkYjBiZWU4ZDE1ZWFkNGFiODUzNw==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2001-08-19T00:20:07Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2001-08-19T00:20:07Z"}, "message": "operators.cc: Add test.\n\n\n2001-08-18  Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* testsuite/22_locale/operators.cc: Add test.\n\nFrom-SVN: r45015", "tree": {"sha": "214420215e2d44ad49de028f89abe5467369a4e5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/214420215e2d44ad49de028f89abe5467369a4e5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9f530faf18b35751a419db0bee8d15ead4ab8537", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f530faf18b35751a419db0bee8d15ead4ab8537", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f530faf18b35751a419db0bee8d15ead4ab8537", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f530faf18b35751a419db0bee8d15ead4ab8537/comments", "author": null, "committer": null, "parents": [{"sha": "5ed3149cb0ad923cf2dd9e593ebd3b68970927e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5ed3149cb0ad923cf2dd9e593ebd3b68970927e0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5ed3149cb0ad923cf2dd9e593ebd3b68970927e0"}], "stats": {"total": 39, "additions": 38, "deletions": 1}, "files": [{"sha": "c8cd76c365c18c1c362b4d814ccf0369360f68a3", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f530faf18b35751a419db0bee8d15ead4ab8537/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f530faf18b35751a419db0bee8d15ead4ab8537/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=9f530faf18b35751a419db0bee8d15ead4ab8537", "patch": "@@ -1,3 +1,7 @@\n+2001-08-18  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\t* testsuite/22_locale/operators.cc: Add test.\n+\t\n 2001-08-17  Benjamin Kosnik  <bkoz@redhat.com>\n \n \tImplement std::collate.\t"}, {"sha": "f21f157eede8eebf6441fd5f145a944d7fd64c74", "filename": "libstdc++-v3/testsuite/22_locale/operators.cc", "status": "modified", "additions": 34, "deletions": 1, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f530faf18b35751a419db0bee8d15ead4ab8537/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Foperators.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f530faf18b35751a419db0bee8d15ead4ab8537/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Foperators.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Foperators.cc?ref=9f530faf18b35751a419db0bee8d15ead4ab8537", "patch": "@@ -1,6 +1,6 @@\n // 2000-09-11 Benjamin Kosnik <bkoz@redhat.com>\n \n-// Copyright (C) 2000 Free Software Foundation\n+// Copyright (C) 2000, 2001 Free Software Foundation\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -46,9 +46,42 @@ void test01()\n   VERIFY( loc(str1, str2) == false );\n }\n \n+// bool operator()(const string_type&, const string_type&) const\n+typedef std::collate<char> ccollate;\n+long gnu_count;\n+class gnu_collate: public ccollate \n+{ \n+protected:\n+  virtual int\n+  do_compare(const char*, const char*, const char*, const char*) const\n+  { ++gnu_count; }\n+}; \n+\n+void test02()\n+{\n+  using namespace std;\n+  bool test = true;\n+  \n+  // Sanity check.\n+  locale loc_c = locale::classic();\n+  string s01(\"land of \");\n+  string s02(\"land of look behind\");\n+  VERIFY( !loc_c(s01, s01) );\n+  VERIFY( loc_c(s01, s02) );\n+ \n+  // Derivation, MF check.\n+  locale loc_gnu(loc_c, new gnu_collate);\n+  gnu_count = 0;\n+  loc_gnu(s01, s02);\n+  VERIFY( gnu_count == 1 );\n+}\n+\n int main ()\n {\n   test01();\n \n   return 0;\n }\n+\n+\n+"}]}