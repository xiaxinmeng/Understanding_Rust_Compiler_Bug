{"sha": "3188ed59db4eaaca5c9ef17eedc7974ddf7998e7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzE4OGVkNTlkYjRlYWFjYTVjOWVmMTdlZWRjNzk3NGRkZjc5OThlNw==", "commit": {"author": {"name": "Richard Sandiford", "email": "richard.sandiford@linaro.org", "date": "2011-05-03T07:47:12Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2011-05-03T07:47:12Z"}, "message": "neon.md (vec_load_lanes<mode><mode>): New expanders,\n\ngcc/\n\t* config/arm/neon.md (vec_load_lanes<mode><mode>): New expanders,\n\t(vec_store_lanes<mode><mode>): Likewise.\n\nFrom-SVN: r173292", "tree": {"sha": "30a1420a8960d07c01f1248dbe31c83a4e6de4aa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/30a1420a8960d07c01f1248dbe31c83a4e6de4aa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3188ed59db4eaaca5c9ef17eedc7974ddf7998e7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3188ed59db4eaaca5c9ef17eedc7974ddf7998e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3188ed59db4eaaca5c9ef17eedc7974ddf7998e7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3188ed59db4eaaca5c9ef17eedc7974ddf7998e7/comments", "author": null, "committer": null, "parents": [{"sha": "272c6793a0d2098195c7996bd29c0c7e066486bc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/272c6793a0d2098195c7996bd29c0c7e066486bc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/272c6793a0d2098195c7996bd29c0c7e066486bc"}], "stats": {"total": 113, "additions": 113, "deletions": 0}, "files": [{"sha": "e4b35b7585f61f1df1058657cc80f34fd98e6a50", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3188ed59db4eaaca5c9ef17eedc7974ddf7998e7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3188ed59db4eaaca5c9ef17eedc7974ddf7998e7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3188ed59db4eaaca5c9ef17eedc7974ddf7998e7", "patch": "@@ -1,3 +1,8 @@\n+2011-05-03  Richard Sandiford  <richard.sandiford@linaro.org>\n+\n+\t* config/arm/neon.md (vec_load_lanes<mode><mode>): New expanders,\n+\t(vec_store_lanes<mode><mode>): Likewise.\n+\n 2011-05-03  Richard Sandiford  <richard.sandiford@linaro.org>\n \n \t* doc/md.texi (vec_load_lanes, vec_store_lanes): Document."}, {"sha": "7d3d285e147343e947b9e4ab6c7dce23973bd348", "filename": "gcc/config/arm/neon.md", "status": "modified", "additions": 108, "deletions": 0, "changes": 108, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3188ed59db4eaaca5c9ef17eedc7974ddf7998e7/gcc%2Fconfig%2Farm%2Fneon.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3188ed59db4eaaca5c9ef17eedc7974ddf7998e7/gcc%2Fconfig%2Farm%2Fneon.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fneon.md?ref=3188ed59db4eaaca5c9ef17eedc7974ddf7998e7", "patch": "@@ -4261,6 +4261,12 @@\n   DONE;\n })\n \n+(define_expand \"vec_load_lanes<mode><mode>\"\n+  [(set (match_operand:VDQX 0 \"s_register_operand\")\n+        (unspec:VDQX [(match_operand:VDQX 1 \"neon_struct_operand\")]\n+                     UNSPEC_VLD1))]\n+  \"TARGET_NEON\")\n+\n (define_insn \"neon_vld1<mode>\"\n   [(set (match_operand:VDQX 0 \"s_register_operand\" \"=w\")\n         (unspec:VDQX [(match_operand:VDQX 1 \"neon_struct_operand\" \"Um\")]\n@@ -4358,6 +4364,12 @@\n                     (const_string \"neon_vld1_1_2_regs\")))]\n )\n \n+(define_expand \"vec_store_lanes<mode><mode>\"\n+  [(set (match_operand:VDQX 0 \"neon_struct_operand\")\n+\t(unspec:VDQX [(match_operand:VDQX 1 \"s_register_operand\")]\n+\t\t     UNSPEC_VST1))]\n+  \"TARGET_NEON\")\n+\n (define_insn \"neon_vst1<mode>\"\n   [(set (match_operand:VDQX 0 \"neon_struct_operand\" \"=Um\")\n \t(unspec:VDQX [(match_operand:VDQX 1 \"s_register_operand\" \"w\")]\n@@ -4414,6 +4426,13 @@\n   [(set_attr \"neon_type\" \"neon_vst1_vst2_lane\")]\n )\n \n+(define_expand \"vec_load_lanesti<mode>\"\n+  [(set (match_operand:TI 0 \"s_register_operand\")\n+        (unspec:TI [(match_operand:TI 1 \"neon_struct_operand\")\n+                    (unspec:VDX [(const_int 0)] UNSPEC_VSTRUCTDUMMY)]\n+\t\t   UNSPEC_VLD2))]\n+  \"TARGET_NEON\")\n+\n (define_insn \"neon_vld2<mode>\"\n   [(set (match_operand:TI 0 \"s_register_operand\" \"=w\")\n         (unspec:TI [(match_operand:TI 1 \"neon_struct_operand\" \"Um\")\n@@ -4432,6 +4451,13 @@\n                     (const_string \"neon_vld2_2_regs_vld1_vld2_all_lanes\")))]\n )\n \n+(define_expand \"vec_load_lanesoi<mode>\"\n+  [(set (match_operand:OI 0 \"s_register_operand\")\n+        (unspec:OI [(match_operand:OI 1 \"neon_struct_operand\")\n+                    (unspec:VQ [(const_int 0)] UNSPEC_VSTRUCTDUMMY)]\n+\t\t   UNSPEC_VLD2))]\n+  \"TARGET_NEON\")\n+\n (define_insn \"neon_vld2<mode>\"\n   [(set (match_operand:OI 0 \"s_register_operand\" \"=w\")\n         (unspec:OI [(match_operand:OI 1 \"neon_struct_operand\" \"Um\")\n@@ -4514,6 +4540,13 @@\n                     (const_string \"neon_vld1_1_2_regs\")))]\n )\n \n+(define_expand \"vec_store_lanesti<mode>\"\n+  [(set (match_operand:TI 0 \"neon_struct_operand\")\n+\t(unspec:TI [(match_operand:TI 1 \"s_register_operand\")\n+                    (unspec:VDX [(const_int 0)] UNSPEC_VSTRUCTDUMMY)]\n+                   UNSPEC_VST2))]\n+  \"TARGET_NEON\")\n+\n (define_insn \"neon_vst2<mode>\"\n   [(set (match_operand:TI 0 \"neon_struct_operand\" \"=Um\")\n         (unspec:TI [(match_operand:TI 1 \"s_register_operand\" \"w\")\n@@ -4532,6 +4565,13 @@\n                     (const_string \"neon_vst1_1_2_regs_vst2_2_regs\")))]\n )\n \n+(define_expand \"vec_store_lanesoi<mode>\"\n+  [(set (match_operand:OI 0 \"neon_struct_operand\")\n+\t(unspec:OI [(match_operand:OI 1 \"s_register_operand\")\n+                    (unspec:VQ [(const_int 0)] UNSPEC_VSTRUCTDUMMY)]\n+                   UNSPEC_VST2))]\n+  \"TARGET_NEON\")\n+\n (define_insn \"neon_vst2<mode>\"\n   [(set (match_operand:OI 0 \"neon_struct_operand\" \"=Um\")\n \t(unspec:OI [(match_operand:OI 1 \"s_register_operand\" \"w\")\n@@ -4597,6 +4637,13 @@\n   [(set_attr \"neon_type\" \"neon_vst1_vst2_lane\")]\n )\n \n+(define_expand \"vec_load_lanesei<mode>\"\n+  [(set (match_operand:EI 0 \"s_register_operand\")\n+        (unspec:EI [(match_operand:EI 1 \"neon_struct_operand\")\n+                    (unspec:VDX [(const_int 0)] UNSPEC_VSTRUCTDUMMY)]\n+\t\t   UNSPEC_VLD3))]\n+  \"TARGET_NEON\")\n+\n (define_insn \"neon_vld3<mode>\"\n   [(set (match_operand:EI 0 \"s_register_operand\" \"=w\")\n         (unspec:EI [(match_operand:EI 1 \"neon_struct_operand\" \"Um\")\n@@ -4615,6 +4662,16 @@\n                     (const_string \"neon_vld3_vld4\")))]\n )\n \n+(define_expand \"vec_load_lanesci<mode>\"\n+  [(match_operand:CI 0 \"s_register_operand\")\n+   (match_operand:CI 1 \"neon_struct_operand\")\n+   (unspec:VQ [(const_int 0)] UNSPEC_VSTRUCTDUMMY)]\n+  \"TARGET_NEON\"\n+{\n+  emit_insn (gen_neon_vld3<mode> (operands[0], operands[1]));\n+  DONE;\n+})\n+\n (define_expand \"neon_vld3<mode>\"\n   [(match_operand:CI 0 \"s_register_operand\")\n    (match_operand:CI 1 \"neon_struct_operand\")\n@@ -4754,6 +4811,13 @@\n                     (const_string \"neon_vld3_vld4_all_lanes\")\n                     (const_string \"neon_vld1_1_2_regs\")))])\n \n+(define_expand \"vec_store_lanesei<mode>\"\n+  [(set (match_operand:EI 0 \"neon_struct_operand\")\n+\t(unspec:EI [(match_operand:EI 1 \"s_register_operand\")\n+                    (unspec:VDX [(const_int 0)] UNSPEC_VSTRUCTDUMMY)]\n+                   UNSPEC_VST3))]\n+  \"TARGET_NEON\")\n+\n (define_insn \"neon_vst3<mode>\"\n   [(set (match_operand:EI 0 \"neon_struct_operand\" \"=Um\")\n         (unspec:EI [(match_operand:EI 1 \"s_register_operand\" \"w\")\n@@ -4771,6 +4835,16 @@\n                     (const_string \"neon_vst1_1_2_regs_vst2_2_regs\")\n                     (const_string \"neon_vst2_4_regs_vst3_vst4\")))])\n \n+(define_expand \"vec_store_lanesci<mode>\"\n+  [(match_operand:CI 0 \"neon_struct_operand\")\n+   (match_operand:CI 1 \"s_register_operand\")\n+   (unspec:VQ [(const_int 0)] UNSPEC_VSTRUCTDUMMY)]\n+  \"TARGET_NEON\"\n+{\n+  emit_insn (gen_neon_vst3<mode> (operands[0], operands[1]));\n+  DONE;\n+})\n+\n (define_expand \"neon_vst3<mode>\"\n   [(match_operand:CI 0 \"neon_struct_operand\")\n    (match_operand:CI 1 \"s_register_operand\")\n@@ -4882,6 +4956,13 @@\n }\n [(set_attr \"neon_type\" \"neon_vst3_vst4_lane\")])\n \n+(define_expand \"vec_load_lanesoi<mode>\"\n+  [(set (match_operand:OI 0 \"s_register_operand\")\n+        (unspec:OI [(match_operand:OI 1 \"neon_struct_operand\")\n+                    (unspec:VDX [(const_int 0)] UNSPEC_VSTRUCTDUMMY)]\n+\t\t   UNSPEC_VLD4))]\n+  \"TARGET_NEON\")\n+\n (define_insn \"neon_vld4<mode>\"\n   [(set (match_operand:OI 0 \"s_register_operand\" \"=w\")\n         (unspec:OI [(match_operand:OI 1 \"neon_struct_operand\" \"Um\")\n@@ -4900,6 +4981,16 @@\n                     (const_string \"neon_vld3_vld4\")))]\n )\n \n+(define_expand \"vec_load_lanesxi<mode>\"\n+  [(match_operand:XI 0 \"s_register_operand\")\n+   (match_operand:XI 1 \"neon_struct_operand\")\n+   (unspec:VQ [(const_int 0)] UNSPEC_VSTRUCTDUMMY)]\n+  \"TARGET_NEON\"\n+{\n+  emit_insn (gen_neon_vld4<mode> (operands[0], operands[1]));\n+  DONE;\n+})\n+\n (define_expand \"neon_vld4<mode>\"\n   [(match_operand:XI 0 \"s_register_operand\")\n    (match_operand:XI 1 \"neon_struct_operand\")\n@@ -5046,6 +5137,13 @@\n                     (const_string \"neon_vld1_1_2_regs\")))]\n )\n \n+(define_expand \"vec_store_lanesoi<mode>\"\n+  [(set (match_operand:OI 0 \"neon_struct_operand\")\n+\t(unspec:OI [(match_operand:OI 1 \"s_register_operand\")\n+                    (unspec:VDX [(const_int 0)] UNSPEC_VSTRUCTDUMMY)]\n+                   UNSPEC_VST4))]\n+  \"TARGET_NEON\")\n+\n (define_insn \"neon_vst4<mode>\"\n   [(set (match_operand:OI 0 \"neon_struct_operand\" \"=Um\")\n         (unspec:OI [(match_operand:OI 1 \"s_register_operand\" \"w\")\n@@ -5064,6 +5162,16 @@\n                     (const_string \"neon_vst2_4_regs_vst3_vst4\")))]\n )\n \n+(define_expand \"vec_store_lanesxi<mode>\"\n+  [(match_operand:XI 0 \"neon_struct_operand\")\n+   (match_operand:XI 1 \"s_register_operand\")\n+   (unspec:VQ [(const_int 0)] UNSPEC_VSTRUCTDUMMY)]\n+  \"TARGET_NEON\"\n+{\n+  emit_insn (gen_neon_vst4<mode> (operands[0], operands[1]));\n+  DONE;\n+})\n+\n (define_expand \"neon_vst4<mode>\"\n   [(match_operand:XI 0 \"neon_struct_operand\")\n    (match_operand:XI 1 \"s_register_operand\")"}]}