{"sha": "3aaaa651a9c0090cb79a3258df6705d6204626db", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2FhYWE2NTFhOWMwMDkwY2I3OWEzMjU4ZGY2NzA1ZDYyMDQ2MjZkYg==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely.gcc@gmail.com", "date": "2013-11-15T16:34:06Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2013-11-15T16:34:06Z"}, "message": "stl_bvector.h (vector<bool>::emplace_back()): LWG 2187: Define.\n\n\t* include/bits/stl_bvector.h (vector<bool>::emplace_back()): LWG 2187:\n\tDefine.\n\t(vector<bool>::emplace()): Likewise.\n\t* testsuite/23_containers/vector/bool/emplace.cc: New.\n\nFrom-SVN: r204851", "tree": {"sha": "d3e4aa95ab3a99279c52268b0b57cd6f07a65882", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d3e4aa95ab3a99279c52268b0b57cd6f07a65882"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3aaaa651a9c0090cb79a3258df6705d6204626db", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3aaaa651a9c0090cb79a3258df6705d6204626db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3aaaa651a9c0090cb79a3258df6705d6204626db", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3aaaa651a9c0090cb79a3258df6705d6204626db/comments", "author": null, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "64e1ab11680d7fe72372d70add25ee519406d3d1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64e1ab11680d7fe72372d70add25ee519406d3d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/64e1ab11680d7fe72372d70add25ee519406d3d1"}], "stats": {"total": 71, "additions": 70, "deletions": 1}, "files": [{"sha": "923294cc03bb7512e3a60e017665566e4f8d429b", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3aaaa651a9c0090cb79a3258df6705d6204626db/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3aaaa651a9c0090cb79a3258df6705d6204626db/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=3aaaa651a9c0090cb79a3258df6705d6204626db", "patch": "@@ -1,3 +1,10 @@\n+2013-11-15  Jonathan Wakely  <jwakely.gcc@gmail.com>\n+\n+\t* include/bits/stl_bvector.h (vector<bool>::emplace_back()): LWG 2187:\n+\tDefine.\n+\t(vector<bool>::emplace()): Likewise.\n+\t* testsuite/23_containers/vector/bool/emplace.cc: New.\n+\n 2013-11-15  Ond\u0159ej B\u00edlka <neleai@seznam.cz>\n \t    Jonathan Wakely  <jwakely.gcc@gmail.com>\n "}, {"sha": "3b5a0c2b63e34ea82d6f88ee3409455f771ec512", "filename": "libstdc++-v3/include/bits/stl_bvector.h", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3aaaa651a9c0090cb79a3258df6705d6204626db/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_bvector.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3aaaa651a9c0090cb79a3258df6705d6204626db/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_bvector.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_bvector.h?ref=3aaaa651a9c0090cb79a3258df6705d6204626db", "patch": "@@ -971,7 +971,18 @@ template<typename _Alloc>\n     clear() _GLIBCXX_NOEXCEPT\n     { _M_erase_at_end(begin()); }\n \n-   \n+#if __cplusplus >= 201103L\n+    template<typename... _Args>\n+      void\n+      emplace_back(_Args&&... __args)\n+      { push_back(bool(__args...)); }\n+\n+    template<typename... _Args>\n+      iterator\n+      emplace(const_iterator __pos, _Args&&... __args)\n+      { return insert(__pos, bool(__args...)); }\n+#endif\n+\n   protected:\n     // Precondition: __first._M_offset == 0 && __result._M_offset == 0.\n     iterator"}, {"sha": "f44ea1f235cf18698eb41e9cf91d8c6341575117", "filename": "libstdc++-v3/testsuite/23_containers/vector/bool/emplace.cc", "status": "added", "additions": 51, "deletions": 0, "changes": 51, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3aaaa651a9c0090cb79a3258df6705d6204626db/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fvector%2Fbool%2Femplace.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3aaaa651a9c0090cb79a3258df6705d6204626db/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fvector%2Fbool%2Femplace.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fvector%2Fbool%2Femplace.cc?ref=3aaaa651a9c0090cb79a3258df6705d6204626db", "patch": "@@ -0,0 +1,51 @@\n+// { dg-options \" -std=gnu++11 \" }\n+\n+// Copyright (C) 2013 Free Software Foundation, Inc.\n+//\n+// This file is part of the GNU ISO C++ Library.  This library is free\n+// software; you can redistribute it and/or modify it under the\n+// terms of the GNU General Public License as published by the\n+// Free Software Foundation; either version 3, or (at your option)\n+// any later version.\n+\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+// GNU General Public License for more details.\n+\n+// You should have received a copy of the GNU General Public License along\n+// with this library; see the file COPYING3.  If not see\n+// <http://www.gnu.org/licenses/>.\n+\n+// 23.3.8  class vector<bool>\n+\n+#include <vector>\n+#include <testsuite_hooks.h>\n+\n+void test01()\n+{\n+  std::vector<bool> v;\n+  v.emplace_back();\n+  VERIFY( v[0] == false );\n+  v.emplace_back(1);\n+  VERIFY( v[1] == true );\n+  VERIFY( v.size() == 2 );\n+}\n+\n+void test02()\n+{\n+  std::vector<bool> v;\n+  auto it = v.emplace(v.cbegin());\n+  VERIFY( it == v.begin() );\n+  VERIFY( *it == false );\n+  it = v.emplace(it, 1);\n+  VERIFY( it == v.begin() );\n+  VERIFY( *it == true );\n+  VERIFY( v.size() == 2 );\n+}\n+\n+int main()\n+{\n+  test01();\n+  test02();\n+}"}]}