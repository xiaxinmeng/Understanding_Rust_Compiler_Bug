{"sha": "567f0b17912a7d55ec333eb93b74f82e7a4f8761", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTY3ZjBiMTc5MTJhN2Q1NWVjMzMzZWI5M2I3NGY4MmU3YTRmODc2MQ==", "commit": {"author": {"name": "Edmar Wienskoski", "email": "edmar@freescale.com", "date": "2008-06-11T20:02:55Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2008-06-11T20:02:55Z"}, "message": "re PR target/36425 (Option -mno-isel not working)\n\n2008-06-11  Edmar Wienskoski  <edmar@freescale.com>\n\n\tPR target/36425\n\t* config/rs6000/rs6000.c (rs6000_override_options): Set\n\trs6000_isel conditionally to the absence of comand line\n\toverride.\n\t* config/rs6000/linuxspe.h (SUBSUBTARGET_OVERRIDE_OPTIONS):\n\tRemove duplicate rs6000_isel setting.\n\t* config/rs6000/eabispe.h: Ditto.\n\ntestsuite:\n2008-06-11  Edmar Wienskoski  <edmar@freescale.com>\n\n\t* gcc.target/powerpc/e500-1.c: New test case to verify\n\tmno-isel option.\n\nFrom-SVN: r136681", "tree": {"sha": "da0b9688d10794c9322f4d5ef458b06eb3194cf2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/da0b9688d10794c9322f4d5ef458b06eb3194cf2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/567f0b17912a7d55ec333eb93b74f82e7a4f8761", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/567f0b17912a7d55ec333eb93b74f82e7a4f8761", "html_url": "https://github.com/Rust-GCC/gccrs/commit/567f0b17912a7d55ec333eb93b74f82e7a4f8761", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/567f0b17912a7d55ec333eb93b74f82e7a4f8761/comments", "author": null, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4653cae5b8dc090912f262572d0105f27ec2c83b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4653cae5b8dc090912f262572d0105f27ec2c83b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4653cae5b8dc090912f262572d0105f27ec2c83b"}], "stats": {"total": 36, "additions": 31, "deletions": 5}, "files": [{"sha": "d66d335dad96a108b4d37f27ab842b741cd8b489", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/567f0b17912a7d55ec333eb93b74f82e7a4f8761/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/567f0b17912a7d55ec333eb93b74f82e7a4f8761/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=567f0b17912a7d55ec333eb93b74f82e7a4f8761", "patch": "@@ -1,3 +1,13 @@\n+2008-06-11  Edmar Wienskoski  <edmar@freescale.com>\n+\n+\tPR target/36425\n+\t* config/rs6000/rs6000.c (rs6000_override_options): Set\n+\trs6000_isel conditionally to the absence of comand line\n+\toverride.\n+\t* config/rs6000/linuxspe.h (SUBSUBTARGET_OVERRIDE_OPTIONS):\n+\tRemove duplicate rs6000_isel setting.\n+\t* config/rs6000/eabispe.h: Ditto.\n+\n 2008-06-11  Richard Guenther  <rguenther@suse.de>\n \n \t* alias.c (get_alias_set): Use the element alias-set for arrays."}, {"sha": "ae14651deba1818d8a5e855e4381b7c3501f3571", "filename": "gcc/config/rs6000/eabispe.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/567f0b17912a7d55ec333eb93b74f82e7a4f8761/gcc%2Fconfig%2Frs6000%2Feabispe.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/567f0b17912a7d55ec333eb93b74f82e7a4f8761/gcc%2Fconfig%2Frs6000%2Feabispe.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Feabispe.h?ref=567f0b17912a7d55ec333eb93b74f82e7a4f8761", "patch": "@@ -37,8 +37,6 @@\n     rs6000_float_gprs = 1; \\\n   if (!rs6000_explicit_options.spe) \\\n     rs6000_spe = 1; \\\n-  if (!rs6000_explicit_options.isel) \\\n-    rs6000_isel = 1; \\\n   if (target_flags & MASK_64BIT) \\\n     error (\"-m64 not supported in this configuration\")\n "}, {"sha": "bcc403e2a3c257e3a523b0363bb853b7ff7f1b03", "filename": "gcc/config/rs6000/linuxspe.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/567f0b17912a7d55ec333eb93b74f82e7a4f8761/gcc%2Fconfig%2Frs6000%2Flinuxspe.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/567f0b17912a7d55ec333eb93b74f82e7a4f8761/gcc%2Fconfig%2Frs6000%2Flinuxspe.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Flinuxspe.h?ref=567f0b17912a7d55ec333eb93b74f82e7a4f8761", "patch": "@@ -36,8 +36,6 @@\n     rs6000_float_gprs = 1; \\\n   if (!rs6000_explicit_options.spe) \\\n     rs6000_spe = 1; \\\n-  if (!rs6000_explicit_options.isel) \\\n-    rs6000_isel = 1; \\\n   if (target_flags & MASK_64BIT) \\\n     error (\"-m64 not supported in this configuration\")\n "}, {"sha": "66e4b51773d41dae8f69cccc76b0f8e06c8ecc3d", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/567f0b17912a7d55ec333eb93b74f82e7a4f8761/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/567f0b17912a7d55ec333eb93b74f82e7a4f8761/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=567f0b17912a7d55ec333eb93b74f82e7a4f8761", "patch": "@@ -1553,7 +1553,7 @@ rs6000_override_options (const char *default_cpu)\n \t}\n     }\n \n-  if (TARGET_E500)\n+  if (TARGET_E500 && !rs6000_explicit_options.isel)\n     rs6000_isel = 1;\n \n   if (rs6000_cpu == PROCESSOR_PPCE300C2 || rs6000_cpu == PROCESSOR_PPCE300C3)"}, {"sha": "dfbe10d872cc8a13443174de2adc91a83c8e47dc", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/567f0b17912a7d55ec333eb93b74f82e7a4f8761/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/567f0b17912a7d55ec333eb93b74f82e7a4f8761/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=567f0b17912a7d55ec333eb93b74f82e7a4f8761", "patch": "@@ -1,3 +1,9 @@\n+2008-06-11  Edmar Wienskoski  <edmar@freescale.com>\n+\n+\tPR target/36425\n+\t* gcc.target/powerpc/e500-1.c: New test case to verify\n+\tmno-isel option.\n+\n 2008-06-11  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gnat.dg/specs/varsize_copy.ad[sb]: New test."}, {"sha": "76a0e4a220563d8098dd575e30f53d5e50af6785", "filename": "gcc/testsuite/gcc.target/powerpc/e500-1.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/567f0b17912a7d55ec333eb93b74f82e7a4f8761/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fe500-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/567f0b17912a7d55ec333eb93b74f82e7a4f8761/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fe500-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fe500-1.c?ref=567f0b17912a7d55ec333eb93b74f82e7a4f8761", "patch": "@@ -0,0 +1,14 @@\n+/* Test functioning of command option -mno-isel */\n+/* { dg-do compile { target powerpc*-*-linux* } } */\n+/* { dg-options \"-O2 -mno-isel\" } */\n+\n+/* { dg-final { scan-assembler-not \"isel\" } } */\n+\n+int\n+foo (int x, int y)\n+{\n+  if (x < y)\n+    return x;\n+  else\n+    return y;\n+}"}]}