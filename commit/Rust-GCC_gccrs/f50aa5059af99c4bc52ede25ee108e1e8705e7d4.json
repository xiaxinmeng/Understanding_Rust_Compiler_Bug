{"sha": "f50aa5059af99c4bc52ede25ee108e1e8705e7d4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjUwYWE1MDU5YWY5OWM0YmM1MmVkZTI1ZWUxMDhlMWU4NzA1ZTdkNA==", "commit": {"author": {"name": "Bryce McKinlay", "email": "mckinlay@redhat.com", "date": "2004-06-22T17:21:23Z"}, "committer": {"name": "Bryce McKinlay", "email": "bryce@gcc.gnu.org", "date": "2004-06-22T17:21:23Z"}, "message": "re PR libgcj/16134 (Memory leak in String.getBytes())\n\n\tPR libgcj/16134:\n\t* gnu/gcj/convert/BytesToUnicode.java: Canonicalize encoding name\n\tbefore cache lookup. Thanks to Hannes Wallnoefer.\n\t* gnu/gcj/convert/UnicodeToBytes.java: Likewise.\n\nFrom-SVN: r83501", "tree": {"sha": "97b99057374663ef41e1ca38792aca28c619853b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/97b99057374663ef41e1ca38792aca28c619853b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f50aa5059af99c4bc52ede25ee108e1e8705e7d4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f50aa5059af99c4bc52ede25ee108e1e8705e7d4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f50aa5059af99c4bc52ede25ee108e1e8705e7d4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f50aa5059af99c4bc52ede25ee108e1e8705e7d4/comments", "author": null, "committer": null, "parents": [{"sha": "3b56276ea5044cf66b9c03b5702813399f9e3746", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b56276ea5044cf66b9c03b5702813399f9e3746", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b56276ea5044cf66b9c03b5702813399f9e3746"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "40eaea7f4d8672fa4978fab51d81fac68b8dab68", "filename": "libjava/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f50aa5059af99c4bc52ede25ee108e1e8705e7d4/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f50aa5059af99c4bc52ede25ee108e1e8705e7d4/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=f50aa5059af99c4bc52ede25ee108e1e8705e7d4", "patch": "@@ -1,3 +1,10 @@\n+2004-06-22  Bryce McKinlay  <mckinlay@redhat.com>\n+\n+\tPR libgcj/16134:\n+\t* gnu/gcj/convert/BytesToUnicode.java: Canonicalize encoding name \n+\tbefore cache lookup. Thanks to Hannes Wallnoefer.\n+\t* gnu/gcj/convert/UnicodeToBytes.java: Likewise.\n+\n 2004-06-21  Andrew Haley  <aph@redhat.com>\n \n \t* java/io/ObjectOutputStream.java: Add DEBUG statements"}, {"sha": "6dc5bfd569d7be2c6cad828eaa4b51a9d0b808b2", "filename": "libjava/gnu/gcj/convert/BytesToUnicode.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f50aa5059af99c4bc52ede25ee108e1e8705e7d4/libjava%2Fgnu%2Fgcj%2Fconvert%2FBytesToUnicode.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f50aa5059af99c4bc52ede25ee108e1e8705e7d4/libjava%2Fgnu%2Fgcj%2Fconvert%2FBytesToUnicode.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fgcj%2Fconvert%2FBytesToUnicode.java?ref=f50aa5059af99c4bc52ede25ee108e1e8705e7d4", "patch": "@@ -75,6 +75,7 @@ public static BytesToUnicode getDecoder (String encoding)\n   {\n     /* First hunt in our cache to see if we have a decoder that is\n        already allocated. */\n+    encoding = canonicalize(encoding);\n     synchronized (BytesToUnicode.class)\n       {\n \tint i;\n@@ -91,7 +92,7 @@ public static BytesToUnicode getDecoder (String encoding)\n       }\n \n     // It's not in the cache, so now we have to do real work.\n-    String className = \"gnu.gcj.convert.Input_\" + canonicalize (encoding);\n+    String className = \"gnu.gcj.convert.Input_\" + encoding;\n     Class decodingClass;\n     try \n       { "}, {"sha": "74600ec12c07e94f3969326a9bbebd3f9e7104fd", "filename": "libjava/gnu/gcj/convert/UnicodeToBytes.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f50aa5059af99c4bc52ede25ee108e1e8705e7d4/libjava%2Fgnu%2Fgcj%2Fconvert%2FUnicodeToBytes.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f50aa5059af99c4bc52ede25ee108e1e8705e7d4/libjava%2Fgnu%2Fgcj%2Fconvert%2FUnicodeToBytes.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fgcj%2Fconvert%2FUnicodeToBytes.java?ref=f50aa5059af99c4bc52ede25ee108e1e8705e7d4", "patch": "@@ -73,6 +73,7 @@ public static UnicodeToBytes getEncoder (String encoding)\n   {\n     /* First hunt in our cache to see if we have a encoder that is\n        already allocated. */\n+    encoding = canonicalize(encoding);\n     synchronized (UnicodeToBytes.class)\n       {\n \tint i;\n@@ -88,7 +89,7 @@ public static UnicodeToBytes getEncoder (String encoding)\n \t  }\n       }\n \n-    String className = \"gnu.gcj.convert.Output_\" + canonicalize (encoding);\n+    String className = \"gnu.gcj.convert.Output_\" + encoding;\n     Class encodingClass;\n     try \n       { "}]}