{"sha": "e3710c6509fc8a914f94b5cbf50531e773229c9a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTM3MTBjNjUwOWZjOGE5MTRmOTRiNWNiZjUwNTMxZTc3MzIyOWM5YQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@adacore.com", "date": "2020-09-04T08:08:58Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2020-10-26T08:58:53Z"}, "message": "[Ada] AI12-0395: Allow aspect_specifications on formal parameters\n\ngcc/ada/\n\n\t* par-ch6.adb (P_Formal_Part): Ada 2020 supports scanning\n\taspects on formal parameters.\n\t* doc/gnat_rm/implementation_defined_aspects.rst (Aspect\n\tUnreferenced): Update documentation.\n\t* gnat_rm.texi: Regenerate.", "tree": {"sha": "a75b0adb87565762288d4f183839a1d0d5db99c7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a75b0adb87565762288d4f183839a1d0d5db99c7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e3710c6509fc8a914f94b5cbf50531e773229c9a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e3710c6509fc8a914f94b5cbf50531e773229c9a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e3710c6509fc8a914f94b5cbf50531e773229c9a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e3710c6509fc8a914f94b5cbf50531e773229c9a/comments", "author": {"login": "ArnaudCharlet", "id": 30291825, "node_id": "MDQ6VXNlcjMwMjkxODI1", "avatar_url": "https://avatars.githubusercontent.com/u/30291825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArnaudCharlet", "html_url": "https://github.com/ArnaudCharlet", "followers_url": "https://api.github.com/users/ArnaudCharlet/followers", "following_url": "https://api.github.com/users/ArnaudCharlet/following{/other_user}", "gists_url": "https://api.github.com/users/ArnaudCharlet/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArnaudCharlet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArnaudCharlet/subscriptions", "organizations_url": "https://api.github.com/users/ArnaudCharlet/orgs", "repos_url": "https://api.github.com/users/ArnaudCharlet/repos", "events_url": "https://api.github.com/users/ArnaudCharlet/events{/privacy}", "received_events_url": "https://api.github.com/users/ArnaudCharlet/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e8d6d5f039902653af5b04b58078bd1003acc624", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8d6d5f039902653af5b04b58078bd1003acc624", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e8d6d5f039902653af5b04b58078bd1003acc624"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "6f39de69df0ffd0ef41095276f7a7392a66187d2", "filename": "gcc/ada/doc/gnat_rm/implementation_defined_aspects.rst", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e3710c6509fc8a914f94b5cbf50531e773229c9a/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_defined_aspects.rst", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e3710c6509fc8a914f94b5cbf50531e773229c9a/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_defined_aspects.rst", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_defined_aspects.rst?ref=e3710c6509fc8a914f94b5cbf50531e773229c9a", "patch": "@@ -566,7 +566,7 @@ Aspect Unreferenced\n \n This boolean aspect is equivalent to :ref:`pragma Unreferenced<Pragma-Unreferenced>`.\n \n-When using the ``-gnatX`` switch, this aspect is also supported on formal\n+When using the ``-gnat2020`` switch, this aspect is also supported on formal\n parameters, which is in particular the only form possible for expression\n functions.\n "}, {"sha": "0ec85094c4da91c7cef8ee246c26386a4dc1adf0", "filename": "gcc/ada/gnat_rm.texi", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e3710c6509fc8a914f94b5cbf50531e773229c9a/gcc%2Fada%2Fgnat_rm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e3710c6509fc8a914f94b5cbf50531e773229c9a/gcc%2Fada%2Fgnat_rm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_rm.texi?ref=e3710c6509fc8a914f94b5cbf50531e773229c9a", "patch": "@@ -9933,7 +9933,7 @@ This boolean aspect is equivalent to @ref{10b,,pragma Unmodified}.\n \n This boolean aspect is equivalent to @ref{10c,,pragma Unreferenced}.\n \n-When using the @code{-gnatX} switch, this aspect is also supported on formal\n+When using the @code{-gnat2020} switch, this aspect is also supported on formal\n parameters, which is in particular the only form possible for expression\n functions.\n "}, {"sha": "c8f4d87f045486aef4636a3feda6b47a8eadf14d", "filename": "gcc/ada/par-ch6.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e3710c6509fc8a914f94b5cbf50531e773229c9a/gcc%2Fada%2Fpar-ch6.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e3710c6509fc8a914f94b5cbf50531e773229c9a/gcc%2Fada%2Fpar-ch6.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fpar-ch6.adb?ref=e3710c6509fc8a914f94b5cbf50531e773229c9a", "patch": "@@ -1631,8 +1631,8 @@ package body Ch6 is\n          --  the time being.\n \n          elsif Token = Tok_With then\n-            if not Extensions_Allowed then\n-               Error_Msg_SP (\"aspect on formal parameter requires -gnatX\");\n+            if Ada_Version < Ada_2020 then\n+               Error_Msg_SP (\"aspect on formal parameter requires -gnat2020\");\n             end if;\n \n             P_Aspect_Specifications (Specification_Node, False);"}]}