{"sha": "02e0b5b2451b092031431e7bdf33f5872295a2d3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDJlMGI1YjI0NTFiMDkyMDMxNDMxZTdiZGYzM2Y1ODcyMjk1YTJkMw==", "commit": {"author": {"name": "Martin Jambor", "email": "mjambor@suse.cz", "date": "2016-03-07T18:42:33Z"}, "committer": {"name": "Martin Jambor", "email": "jamborm@gcc.gnu.org", "date": "2016-03-07T18:42:33Z"}, "message": "[hsa testsuite] Adjust libgomp tests that do not work on host fallback\n\n2016-03-07  Martin Jambor  <mjambor@suse.cz>\n\n\t* testsuite/libgomp.c/examples-4/async_target-2.c: Only run on\n\tnon-shared memory accelerators.\n\t* testsuite/libgomp.c/examples-4/device-1.c: Likewise.\n\t* testsuite/libgomp.c/examples-4/target-5.c: Likewise.\n\t* testsuite/libgomp.c/examples-4/target_data-6.c: Likewise.\n\t* testsuite/libgomp.c/examples-4/target_data-7.c: Likewise.\n\t* testsuite/libgomp.fortran/examples-4/async_target-2.f90: Likewise.\n\t* testsuite/libgomp.fortran/examples-4/device-1.f90: Likewise.\n\t* testsuite/libgomp.fortran/examples-4/target-5.f90: Likewise.\n\t* testsuite/libgomp.fortran/examples-4/target_data-6.f90: Likewise.\n\t* testsuite/libgomp.fortran/examples-4/target_data-7.f90: Likewise.\n\nFrom-SVN: r234046", "tree": {"sha": "9a5dd818851087882b6a89e526238a69f99bea24", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9a5dd818851087882b6a89e526238a69f99bea24"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/02e0b5b2451b092031431e7bdf33f5872295a2d3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/02e0b5b2451b092031431e7bdf33f5872295a2d3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/02e0b5b2451b092031431e7bdf33f5872295a2d3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/02e0b5b2451b092031431e7bdf33f5872295a2d3/comments", "author": {"login": "jamborm", "id": 2180070, "node_id": "MDQ6VXNlcjIxODAwNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2180070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamborm", "html_url": "https://github.com/jamborm", "followers_url": "https://api.github.com/users/jamborm/followers", "following_url": "https://api.github.com/users/jamborm/following{/other_user}", "gists_url": "https://api.github.com/users/jamborm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamborm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamborm/subscriptions", "organizations_url": "https://api.github.com/users/jamborm/orgs", "repos_url": "https://api.github.com/users/jamborm/repos", "events_url": "https://api.github.com/users/jamborm/events{/privacy}", "received_events_url": "https://api.github.com/users/jamborm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "45548f30c69a397fb293dcca4602ad23fe3dfd54", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/45548f30c69a397fb293dcca4602ad23fe3dfd54", "html_url": "https://github.com/Rust-GCC/gccrs/commit/45548f30c69a397fb293dcca4602ad23fe3dfd54"}], "stats": {"total": 34, "additions": 24, "deletions": 10}, "files": [{"sha": "cfdee56ebeb1c2b908ebab78adae96dabd65ddc5", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02e0b5b2451b092031431e7bdf33f5872295a2d3/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02e0b5b2451b092031431e7bdf33f5872295a2d3/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=02e0b5b2451b092031431e7bdf33f5872295a2d3", "patch": "@@ -1,3 +1,17 @@\n+2016-03-07  Martin Jambor  <mjambor@suse.cz>\n+\n+\t* testsuite/libgomp.c/examples-4/async_target-2.c: Only run on\n+\tnon-shared memory accelerators.\n+\t* testsuite/libgomp.c/examples-4/device-1.c: Likewise.\n+\t* testsuite/libgomp.c/examples-4/target-5.c: Likewise.\n+\t* testsuite/libgomp.c/examples-4/target_data-6.c: Likewise.\n+\t* testsuite/libgomp.c/examples-4/target_data-7.c: Likewise.\n+\t* testsuite/libgomp.fortran/examples-4/async_target-2.f90: Likewise.\n+\t* testsuite/libgomp.fortran/examples-4/device-1.f90: Likewise.\n+\t* testsuite/libgomp.fortran/examples-4/target-5.f90: Likewise.\n+\t* testsuite/libgomp.fortran/examples-4/target_data-6.f90: Likewise.\n+\t* testsuite/libgomp.fortran/examples-4/target_data-7.f90: Likewise.\n+\n 2016-03-07  Martin Jambor  <mjambor@suse.cz>\n \n \t* testsuite/lib/libgomp.exp (libgomp_init): Append -Wno-hsa to"}, {"sha": "0c76f8e08a256d94b3629d6df41f96ce3173d975", "filename": "libgomp/testsuite/libgomp.c/examples-4/async_target-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02e0b5b2451b092031431e7bdf33f5872295a2d3/libgomp%2Ftestsuite%2Flibgomp.c%2Fexamples-4%2Fasync_target-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02e0b5b2451b092031431e7bdf33f5872295a2d3/libgomp%2Ftestsuite%2Flibgomp.c%2Fexamples-4%2Fasync_target-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fexamples-4%2Fasync_target-2.c?ref=02e0b5b2451b092031431e7bdf33f5872295a2d3", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run } */\n-/* { dg-require-effective-target offload_device } */\n+/* { dg-require-effective-target offload_device_nonshared_as } */\n \n #include <omp.h>\n #include <stdlib.h>"}, {"sha": "46aa1607d47803431f54a9f25eb9df1a97d547e8", "filename": "libgomp/testsuite/libgomp.c/examples-4/device-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02e0b5b2451b092031431e7bdf33f5872295a2d3/libgomp%2Ftestsuite%2Flibgomp.c%2Fexamples-4%2Fdevice-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02e0b5b2451b092031431e7bdf33f5872295a2d3/libgomp%2Ftestsuite%2Flibgomp.c%2Fexamples-4%2Fdevice-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fexamples-4%2Fdevice-1.c?ref=02e0b5b2451b092031431e7bdf33f5872295a2d3", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run } */\n-/* { dg-require-effective-target offload_device } */\n+/* { dg-require-effective-target offload_device_nonshared_as } */\n \n #include <omp.h>\n #include <stdlib.h>"}, {"sha": "1c14baeb44e49179608e6d43d3d70a78b54b8c77", "filename": "libgomp/testsuite/libgomp.c/examples-4/target-5.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02e0b5b2451b092031431e7bdf33f5872295a2d3/libgomp%2Ftestsuite%2Flibgomp.c%2Fexamples-4%2Ftarget-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02e0b5b2451b092031431e7bdf33f5872295a2d3/libgomp%2Ftestsuite%2Flibgomp.c%2Fexamples-4%2Ftarget-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fexamples-4%2Ftarget-5.c?ref=02e0b5b2451b092031431e7bdf33f5872295a2d3", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run } */\n-/* { dg-require-effective-target offload_device } */\n+/* { dg-require-effective-target offload_device_nonshared_as } */\n \n #include <omp.h>\n #include <stdlib.h>"}, {"sha": "57c7c0c84615ef4b6cf6860a72d1e1395a114a2e", "filename": "libgomp/testsuite/libgomp.c/examples-4/target_data-6.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02e0b5b2451b092031431e7bdf33f5872295a2d3/libgomp%2Ftestsuite%2Flibgomp.c%2Fexamples-4%2Ftarget_data-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02e0b5b2451b092031431e7bdf33f5872295a2d3/libgomp%2Ftestsuite%2Flibgomp.c%2Fexamples-4%2Ftarget_data-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fexamples-4%2Ftarget_data-6.c?ref=02e0b5b2451b092031431e7bdf33f5872295a2d3", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run } */\n-/* { dg-require-effective-target offload_device } */\n+/* { dg-require-effective-target offload_device_nonshared_as } */\n \n #include <stdlib.h>\n #include <omp.h>"}, {"sha": "8ec41ea91a986024129f0da9e39b6b61be2521c3", "filename": "libgomp/testsuite/libgomp.c/examples-4/target_data-7.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02e0b5b2451b092031431e7bdf33f5872295a2d3/libgomp%2Ftestsuite%2Flibgomp.c%2Fexamples-4%2Ftarget_data-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02e0b5b2451b092031431e7bdf33f5872295a2d3/libgomp%2Ftestsuite%2Flibgomp.c%2Fexamples-4%2Ftarget_data-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fexamples-4%2Ftarget_data-7.c?ref=02e0b5b2451b092031431e7bdf33f5872295a2d3", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run } */\n-/* { dg-require-effective-target offload_device } */\n+/* { dg-require-effective-target offload_device_nonshared_as } */\n \n #include <stdlib.h>\n #include <omp.h>"}, {"sha": "a94db899cc89203730ce284e8240dc99bc03c9b8", "filename": "libgomp/testsuite/libgomp.fortran/examples-4/async_target-2.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02e0b5b2451b092031431e7bdf33f5872295a2d3/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Fasync_target-2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02e0b5b2451b092031431e7bdf33f5872295a2d3/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Fasync_target-2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Fasync_target-2.f90?ref=02e0b5b2451b092031431e7bdf33f5872295a2d3", "patch": "@@ -1,5 +1,5 @@\n ! { dg-do run }\n-! { dg-require-effective-target offload_device }\n+! { dg-require-effective-target offload_device_nonshared_as }\n \n subroutine init (v1, v2, N)\n   !$omp declare target"}, {"sha": "a411db4b0762e2f2db081818f275055fe8bb49f9", "filename": "libgomp/testsuite/libgomp.fortran/examples-4/device-1.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02e0b5b2451b092031431e7bdf33f5872295a2d3/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Fdevice-1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02e0b5b2451b092031431e7bdf33f5872295a2d3/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Fdevice-1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Fdevice-1.f90?ref=02e0b5b2451b092031431e7bdf33f5872295a2d3", "patch": "@@ -1,5 +1,5 @@\n ! { dg-do run }\n-! { dg-require-effective-target offload_device }\n+! { dg-require-effective-target offload_device_nonshared_as }\n \n program e_57_1\n   use omp_lib, only: omp_is_initial_device"}, {"sha": "813a273f95835ac10fff62c935544f169bf8e954", "filename": "libgomp/testsuite/libgomp.fortran/examples-4/target-5.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02e0b5b2451b092031431e7bdf33f5872295a2d3/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Ftarget-5.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02e0b5b2451b092031431e7bdf33f5872295a2d3/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Ftarget-5.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Ftarget-5.f90?ref=02e0b5b2451b092031431e7bdf33f5872295a2d3", "patch": "@@ -1,5 +1,5 @@\n ! { dg-do run }\n-! { dg-require-effective-target offload_device }\n+! { dg-require-effective-target offload_device_nonshared_as }\n \n module e_50_5_mod\n integer, parameter :: THRESHOLD1 = 500, THRESHOLD2 = 100"}, {"sha": "9b79104feb8d6cfbdbd7fe8718bf2f22bc8b490a", "filename": "libgomp/testsuite/libgomp.fortran/examples-4/target_data-6.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02e0b5b2451b092031431e7bdf33f5872295a2d3/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Ftarget_data-6.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02e0b5b2451b092031431e7bdf33f5872295a2d3/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Ftarget_data-6.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Ftarget_data-6.f90?ref=02e0b5b2451b092031431e7bdf33f5872295a2d3", "patch": "@@ -1,5 +1,5 @@\n ! { dg-do run }\n-! { dg-require-effective-target offload_device }\n+! { dg-require-effective-target offload_device_nonshared_as }\n \n module e_51_6_mod\n integer, parameter :: THRESHOLD = 500"}, {"sha": "8fc5832ee86aee611d117e2c96af2fcd648d24cf", "filename": "libgomp/testsuite/libgomp.fortran/examples-4/target_data-7.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02e0b5b2451b092031431e7bdf33f5872295a2d3/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Ftarget_data-7.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02e0b5b2451b092031431e7bdf33f5872295a2d3/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Ftarget_data-7.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fexamples-4%2Ftarget_data-7.f90?ref=02e0b5b2451b092031431e7bdf33f5872295a2d3", "patch": "@@ -1,5 +1,5 @@\n ! { dg-do run }\n-! { dg-require-effective-target offload_device }\n+! { dg-require-effective-target offload_device_nonshared_as }\n \n module e_51_7_mod\n integer, parameter :: THRESHOLD = 500"}]}