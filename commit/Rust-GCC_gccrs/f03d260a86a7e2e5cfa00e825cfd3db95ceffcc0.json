{"sha": "f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjAzZDI2MGE4NmE3ZTJlNWNmYTAwZTgyNWNmZDNkYjk1Y2VmZmNjMA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2018-11-23T00:11:11Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2018-11-23T00:11:11Z"}, "message": "lang.opt (fpad-source): New option.\n\n\t* lang.opt (fpad-source): New option.\n\t* scanner.c (load_line): Don't pad fixed form lines if\n\t!flag_pad_source.\n\t* invoke.texi (-fno-pad-source): Document.\n\n\t* gfortran.dg/pad_source_1.f: New test.\n\t* gfortran.dg/pad_source_2.f: New test.\n\t* gfortran.dg/pad_source_3.f: New test.\n\t* gfortran.dg/pad_source_4.f: New test.\n\t* gfortran.dg/pad_source_5.f: New test.\n\nFrom-SVN: r266397", "tree": {"sha": "0793336246fbbe6c7d622dd639cbe336c9acc69a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0793336246fbbe6c7d622dd639cbe336c9acc69a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "bbbef996fbbe153780d55c4bf0a8deeee5e7c3e5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbbef996fbbe153780d55c4bf0a8deeee5e7c3e5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bbbef996fbbe153780d55c4bf0a8deeee5e7c3e5"}], "stats": {"total": 75, "additions": 72, "deletions": 3}, "files": [{"sha": "6f2947249bc043fa8a2cd74698f1dc037d68f1f4", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0", "patch": "@@ -1,3 +1,10 @@\n+2018-11-23  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* lang.opt (fpad-source): New option.\n+\t* scanner.c (load_line): Don't pad fixed form lines if\n+\t!flag_pad_source.\n+\t* invoke.texi (-fno-pad-source): Document.\n+\n 2018-11-21  Jakub Jelinek  <jakub@redhat.com>\n \n \t* invoke.texi (-fdec-include): Document."}, {"sha": "d6a278b1cc2f8d943c14bd2cd574346fe87cb66f", "filename": "gcc/fortran/invoke.texi", "status": "modified", "additions": 13, "deletions": 3, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0/gcc%2Ffortran%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0/gcc%2Ffortran%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Finvoke.texi?ref=f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0", "patch": "@@ -121,7 +121,7 @@ by type.  Explanations are in the following sections.\n -fdec -fdec-structure -fdec-intrinsic-ints -fdec-static -fdec-math @gol\n -fdec-include -fdefault-double-8 -fdefault-integer-8 -fdefault-real-8 @gol\n -fdefault-real-10 -fdefault-real-16 -fdollar-ok -ffixed-line-length-@var{n} @gol\n--ffixed-line-length-none -ffree-form -ffree-line-length-@var{n} @gol\n+-ffixed-line-length-none -fpad-source -ffree-form -ffree-line-length-@var{n} @gol\n -ffree-line-length-none -fimplicit-none -finteger-4-integer-8 @gol\n -fmax-identifier-length -fmodule-private -ffixed-form -fno-range-check @gol\n -fopenacc -fopenmp -freal-4-real-10 -freal-4-real-16 -freal-4-real-8 @gol\n@@ -321,8 +321,9 @@ declared as @code{PUBLIC}.\n @opindex @code{ffixed-line-length-}@var{n}\n @cindex file format, fixed\n Set column after which characters are ignored in typical fixed-form\n-lines in the source file, and through which spaces are assumed (as\n-if padded to that length) after the ends of short fixed-form lines.\n+lines in the source file, and, unless @code{-fno-pad-source}, through which\n+spaces are assumed (as if padded to that length) after the ends of short\n+fixed-form lines.\n \n Popular values for @var{n} include 72 (the\n standard and the default), 80 (card image), and 132 (corresponding\n@@ -333,6 +334,15 @@ to them to fill out the line.\n @option{-ffixed-line-length-0} means the same thing as\n @option{-ffixed-line-length-none}.\n \n+@item -fno-pad-source\n+@opindex @code{fpad-source}\n+By default fixed-form lines have spaces assumed (as if padded to that length)\n+after the ends of short fixed-form lines.  This is not done either if\n+@option{-ffixed-line-length-0}, @option{-ffixed-line-length-none} or\n+if @option{-fno-pad-source} option is used.  With any of those options\n+continued character constants never have implicit spaces appended\n+to them to fill out the line.\n+\n @item -ffree-line-length-@var{n}\n @opindex @code{ffree-line-length-}@var{n}\n @cindex file format, free"}, {"sha": "ae4957e176cf75e896643c122134df1483860e0f", "filename": "gcc/fortran/lang.opt", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0/gcc%2Ffortran%2Flang.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0/gcc%2Ffortran%2Flang.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Flang.opt?ref=f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0", "patch": "@@ -536,6 +536,10 @@ ffixed-line-length-\n Fortran RejectNegative Joined UInteger Var(flag_fixed_line_length) Init(72)\n -ffixed-line-length-<n>\tUse n as character line width in fixed mode.\n \n+fpad-source\n+Fortran Var(flag_pad_source) Init(1)\n+Pad shorter fixed form lines to line width with spaces.\n+\n ffpe-trap=\n Fortran RejectNegative JoinedOrMissing\n -ffpe-trap=[...]\tStop on following floating point exceptions."}, {"sha": "2ef32b279fee9ec0bfed7a360f398b43b5d48f75", "filename": "gcc/fortran/scanner.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0/gcc%2Ffortran%2Fscanner.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0/gcc%2Ffortran%2Fscanner.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fscanner.c?ref=f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0", "patch": "@@ -1924,6 +1924,7 @@ load_line (FILE *input, gfc_char_t **pbuf, int *pbuflen, const int *first_char)\n   /* Pad lines to the selected line length in fixed form.  */\n   if (gfc_current_form == FORM_FIXED\n       && flag_fixed_line_length != 0\n+      && flag_pad_source\n       && !preprocessor_flag\n       && c != EOF)\n     {"}, {"sha": "47cba2d35c669a248796a167dd27842160dc649c", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0", "patch": "@@ -1,3 +1,11 @@\n+2018-11-23  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* gfortran.dg/pad_source_1.f: New test.\n+\t* gfortran.dg/pad_source_2.f: New test.\n+\t* gfortran.dg/pad_source_3.f: New test.\n+\t* gfortran.dg/pad_source_4.f: New test.\n+\t* gfortran.dg/pad_source_5.f: New test.\n+\n 2018-11-22  Jan Hubicka  <jh@suse.cz>\n \n \tPR lto/88142"}, {"sha": "a616bba60deb3707d5215adda35d3f64726d0627", "filename": "gcc/testsuite/gfortran.dg/pad_source_1.f", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0/gcc%2Ftestsuite%2Fgfortran.dg%2Fpad_source_1.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0/gcc%2Ftestsuite%2Fgfortran.dg%2Fpad_source_1.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpad_source_1.f?ref=f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0", "patch": "@@ -0,0 +1,8 @@\n+c { dg-do run }\n+c { dg-skip-if \"non-standard options\" { *-*-* } { \"-ffixed-line-length*\" \"-f*pad-source\" } }\n+      character(80) a\n+      a = 'abc\n+     +def'\n+      if (a(:61) .ne. 'abc') stop 1\n+      if (a(62:) .ne. 'def') stop 2\n+      end"}, {"sha": "bcf9439cd1412aebcb786b3bb2cfbb07d3bcb110", "filename": "gcc/testsuite/gfortran.dg/pad_source_2.f", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0/gcc%2Ftestsuite%2Fgfortran.dg%2Fpad_source_2.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0/gcc%2Ftestsuite%2Fgfortran.dg%2Fpad_source_2.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpad_source_2.f?ref=f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0", "patch": "@@ -0,0 +1,9 @@\n+c { dg-do run }\n+c { dg-skip-if \"non-standard options\" { *-*-* } { \"-ffixed-line-length*\" } }\n+c { dg-options \"-fpad-source\" }\n+      character(80) a\n+      a = 'abc\n+     +def'\n+      if (a(:61) .ne. 'abc') stop 1\n+      if (a(62:) .ne. 'def') stop 2\n+      end"}, {"sha": "8fbdae0d67d0bcbb8c64361c782e1745e01f38da", "filename": "gcc/testsuite/gfortran.dg/pad_source_3.f", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0/gcc%2Ftestsuite%2Fgfortran.dg%2Fpad_source_3.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0/gcc%2Ftestsuite%2Fgfortran.dg%2Fpad_source_3.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpad_source_3.f?ref=f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0", "patch": "@@ -0,0 +1,8 @@\n+c { dg-do run }\n+c { dg-skip-if \"non-standard options\" { *-*-* } { \"-ffixed-line-length*\" } }\n+c { dg-options \"-fno-pad-source\" }\n+      character(80) a\n+      a = 'abc\n+     +def'\n+      if (a .ne. 'abcdef') stop 1\n+      end"}, {"sha": "5479cec217ad7e1f9dd0f3b2fb07de73fd2827ec", "filename": "gcc/testsuite/gfortran.dg/pad_source_4.f", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0/gcc%2Ftestsuite%2Fgfortran.dg%2Fpad_source_4.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0/gcc%2Ftestsuite%2Fgfortran.dg%2Fpad_source_4.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpad_source_4.f?ref=f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0", "patch": "@@ -0,0 +1,7 @@\n+c { dg-do run }\n+c { dg-options \"-ffixed-line-length-none\" }\n+      character(80) a\n+      a = 'abc\n+     +def'\n+      if (a .ne. 'abcdef') stop 1\n+      end"}, {"sha": "4122c85ba66134579b951cb12e72e010d959f694", "filename": "gcc/testsuite/gfortran.dg/pad_source_5.f", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0/gcc%2Ftestsuite%2Fgfortran.dg%2Fpad_source_5.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0/gcc%2Ftestsuite%2Fgfortran.dg%2Fpad_source_5.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpad_source_5.f?ref=f03d260a86a7e2e5cfa00e825cfd3db95ceffcc0", "patch": "@@ -0,0 +1,7 @@\n+c { dg-do run }\n+c { dg-options \"-ffixed-line-length-0\" }\n+      character(80) a\n+      a = 'abc\n+     +def'\n+      if (a .ne. 'abcdef') stop 1\n+      end"}]}