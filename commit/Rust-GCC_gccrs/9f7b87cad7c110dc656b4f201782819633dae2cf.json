{"sha": "9f7b87cad7c110dc656b4f201782819633dae2cf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWY3Yjg3Y2FkN2MxMTBkYzY1NmI0ZjIwMTc4MjgxOTYzM2RhZTJjZg==", "commit": {"author": {"name": "Wilco Dijkstra", "email": "wdijkstr@arm.com", "date": "2018-01-18T16:37:44Z"}, "committer": {"name": "Wilco Dijkstra", "email": "wilco@gcc.gnu.org", "date": "2018-01-18T16:37:44Z"}, "message": "[AArch64] Fix fp16 test failures after PR82964 fix\n\nThis fixes test failures in gcc.target/aarch64/f16_mov_immediate_*.c\nafter fixing PR82964.  The check for a scalar floating point constant\ndidn't include 16-bit floating point modes, so use GET_MODE_CLASS\ninstead.\n\n    gcc/\n\tPR target/82964\n\t* config/aarch64/aarch64.c (aarch64_legitimate_constant_p):\n\tUse GET_MODE_CLASS for scalar floating point.\n\nFrom-SVN: r256854", "tree": {"sha": "b5011eac594a416a48bdd0e1eefb62d14e1f57be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b5011eac594a416a48bdd0e1eefb62d14e1f57be"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9f7b87cad7c110dc656b4f201782819633dae2cf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f7b87cad7c110dc656b4f201782819633dae2cf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f7b87cad7c110dc656b4f201782819633dae2cf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f7b87cad7c110dc656b4f201782819633dae2cf/comments", "author": null, "committer": null, "parents": [{"sha": "cbb4e4ca11e22ae88ed3ef91566efc379636fc03", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cbb4e4ca11e22ae88ed3ef91566efc379636fc03", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cbb4e4ca11e22ae88ed3ef91566efc379636fc03"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "1341714cc951f72d5451e64bfce267b062e55d37", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f7b87cad7c110dc656b4f201782819633dae2cf/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f7b87cad7c110dc656b4f201782819633dae2cf/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9f7b87cad7c110dc656b4f201782819633dae2cf", "patch": "@@ -1,3 +1,9 @@\n+2018-01-18  Wilco Dijkstra  <wdijkstr@arm.com>\n+\n+\tPR target/82964\n+\t* config/aarch64/aarch64.c (aarch64_legitimate_constant_p):\n+\tUse GET_MODE_CLASS for scalar floating point.\n+\n 2018-01-18  Jan Hubicka  <hubicka@ucw.cz>\n \n \tPR ipa/82256"}, {"sha": "174310c9f1bce3c0a85ff9d9711df1faf6103bad", "filename": "gcc/config/aarch64/aarch64.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f7b87cad7c110dc656b4f201782819633dae2cf/gcc%2Fconfig%2Faarch64%2Faarch64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f7b87cad7c110dc656b4f201782819633dae2cf/gcc%2Fconfig%2Faarch64%2Faarch64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.c?ref=9f7b87cad7c110dc656b4f201782819633dae2cf", "patch": "@@ -11757,8 +11757,7 @@ aarch64_legitimate_constant_p (machine_mode mode, rtx x)\n {\n   /* Support CSE and rematerialization of common constants.  */\n   if (CONST_INT_P (x)\n-      || (CONST_DOUBLE_P (x)\n-\t  && (mode == SFmode || mode == DFmode || mode == TFmode))\n+      || (CONST_DOUBLE_P (x) && GET_MODE_CLASS (mode) == MODE_FLOAT)\n       || GET_CODE (x) == CONST_VECTOR)\n     return true;\n "}]}