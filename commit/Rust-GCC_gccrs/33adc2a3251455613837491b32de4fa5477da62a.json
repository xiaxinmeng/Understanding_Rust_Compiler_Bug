{"sha": "33adc2a3251455613837491b32de4fa5477da62a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzNhZGMyYTMyNTE0NTU2MTM4Mzc0OTFiMzJkZTRmYTU0NzdkYTYyYQ==", "commit": {"author": {"name": "Meador Inge", "email": "meadori@codesourcery.com", "date": "2012-09-27T16:05:38Z"}, "committer": {"name": "Meador Inge", "email": "meadori@gcc.gnu.org", "date": "2012-09-27T16:05:38Z"}, "message": "gcc-ar.c (main): Handle the returning of the sub-process error code correctly.\n\n2012-09-27  Meador Inge  <meadori@codesourcery.com>\n\n\t* gcc-ar.c (main): Handle the returning of the sub-process error\n\tcode correctly.\n\nFrom-SVN: r191809", "tree": {"sha": "e19f9c9e34ec3f09dc156d55138b1e5473c2c842", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e19f9c9e34ec3f09dc156d55138b1e5473c2c842"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/33adc2a3251455613837491b32de4fa5477da62a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33adc2a3251455613837491b32de4fa5477da62a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/33adc2a3251455613837491b32de4fa5477da62a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33adc2a3251455613837491b32de4fa5477da62a/comments", "author": {"login": "meadori", "id": 296965, "node_id": "MDQ6VXNlcjI5Njk2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/296965?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meadori", "html_url": "https://github.com/meadori", "followers_url": "https://api.github.com/users/meadori/followers", "following_url": "https://api.github.com/users/meadori/following{/other_user}", "gists_url": "https://api.github.com/users/meadori/gists{/gist_id}", "starred_url": "https://api.github.com/users/meadori/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meadori/subscriptions", "organizations_url": "https://api.github.com/users/meadori/orgs", "repos_url": "https://api.github.com/users/meadori/repos", "events_url": "https://api.github.com/users/meadori/events{/privacy}", "received_events_url": "https://api.github.com/users/meadori/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "207f3d820a327758415cbb7f6bc43792403497db", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/207f3d820a327758415cbb7f6bc43792403497db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/207f3d820a327758415cbb7f6bc43792403497db"}], "stats": {"total": 22, "additions": 21, "deletions": 1}, "files": [{"sha": "20217ba69b3787c46596223fa4d0675a051970a6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/33adc2a3251455613837491b32de4fa5477da62a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/33adc2a3251455613837491b32de4fa5477da62a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=33adc2a3251455613837491b32de4fa5477da62a", "patch": "@@ -1,3 +1,8 @@\n+2012-09-27  Meador Inge  <meadori@codesourcery.com>\n+\n+\t* gcc-ar.c (main): Handle the returning of the sub-process error\n+\tcode correctly.\n+\n 2012-09-27  Ulrich Weigand  <ulrich.weigand@linaro.org>\n \n \t* lower-subreg.c (enum classify_move_insn): Rename"}, {"sha": "5f78378dea86ff09f1182b0f188ac9d8dd86b865", "filename": "gcc/gcc-ar.c", "status": "modified", "additions": 16, "deletions": 1, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/33adc2a3251455613837491b32de4fa5477da62a/gcc%2Fgcc-ar.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/33adc2a3251455613837491b32de4fa5477da62a/gcc%2Fgcc-ar.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc-ar.c?ref=33adc2a3251455613837491b32de4fa5477da62a", "patch": "@@ -42,6 +42,7 @@ main(int ac, char **av)\n   const char *err_msg;\n   const char **nargv;\n   bool is_ar = !strcmp (PERSONALITY, \"ar\");\n+  int exit_code = FATAL_EXIT_CODE;\n \n   exe_name = PERSONALITY;\n #ifdef CROSS_DIRECTORY_STRUCTURE\n@@ -96,6 +97,20 @@ main(int ac, char **av)\n \t\t     NULL,NULL,  &status, &err);\n   if (err_msg) \n     fprintf(stderr, \"Error running %s: %s\\n\", exe_name, err_msg);\n+  else if (status)\n+    {\n+      if (WIFSIGNALED (status))\n+\t{\n+\t  int sig = WTERMSIG (status);\n+\t  fprintf (stderr, \"%s terminated with signal %d [%s]%s\\n\",\n+\t\t   exe_name, sig, strsignal(sig),\n+\t\t   WCOREDUMP(status) ? \", core dumped\" : \"\");\n+\t}\n+      else if (WIFEXITED (status))\n+\texit_code = WEXITSTATUS (status);\n+    }\n+  else\n+    exit_code = SUCCESS_EXIT_CODE;\n \n-  return err;\n+  return exit_code;\n }"}]}