{"sha": "92b0bb67877046d21c1b208410f38081c82ff862", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTJiMGJiNjc4NzcwNDZkMjFjMWIyMDg0MTBmMzgwODFjODJmZjg2Mg==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@apple.com", "date": "2005-04-12T01:45:43Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2005-04-12T01:45:43Z"}, "message": "dwarf2out.c (output_line_info): Don't try to dereference a NULL current_function_decl.\n\n\t* dwarf2out.c (output_line_info): Don't try to dereference\n\ta NULL current_function_decl.\n\nFrom-SVN: r98000", "tree": {"sha": "509797858a935c215529b6d39249e06cd5095ee4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/509797858a935c215529b6d39249e06cd5095ee4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/92b0bb67877046d21c1b208410f38081c82ff862", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92b0bb67877046d21c1b208410f38081c82ff862", "html_url": "https://github.com/Rust-GCC/gccrs/commit/92b0bb67877046d21c1b208410f38081c82ff862", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92b0bb67877046d21c1b208410f38081c82ff862/comments", "author": {"login": "geoffk01", "id": 31905243, "node_id": "MDQ6VXNlcjMxOTA1MjQz", "avatar_url": "https://avatars.githubusercontent.com/u/31905243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geoffk01", "html_url": "https://github.com/geoffk01", "followers_url": "https://api.github.com/users/geoffk01/followers", "following_url": "https://api.github.com/users/geoffk01/following{/other_user}", "gists_url": "https://api.github.com/users/geoffk01/gists{/gist_id}", "starred_url": "https://api.github.com/users/geoffk01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geoffk01/subscriptions", "organizations_url": "https://api.github.com/users/geoffk01/orgs", "repos_url": "https://api.github.com/users/geoffk01/repos", "events_url": "https://api.github.com/users/geoffk01/events{/privacy}", "received_events_url": "https://api.github.com/users/geoffk01/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b52485c6316e1ff68572720da538e93e6ad70b83", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b52485c6316e1ff68572720da538e93e6ad70b83", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b52485c6316e1ff68572720da538e93e6ad70b83"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "09b82ceb63c15c9c4b990ce6ef6caa93594957d2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/92b0bb67877046d21c1b208410f38081c82ff862/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/92b0bb67877046d21c1b208410f38081c82ff862/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=92b0bb67877046d21c1b208410f38081c82ff862", "patch": "@@ -26,6 +26,9 @@\n \t\n 2005-04-11  Geoffrey Keating  <geoffk@apple.com>\n \n+\t* dwarf2out.c (output_line_info): Don't try to dereference\n+\ta NULL current_function_decl.\n+\n \t* config/t-slibgcc-darwin: Don't put shared libraries in\n \tdirectories other than $(slibdir).\n \t* config/rs6000/darwin.h: Find -m64 libgcc under the name the"}, {"sha": "aebefd4e29c358332e5cbe1a5b11374ca25c93f5", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/92b0bb67877046d21c1b208410f38081c82ff862/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/92b0bb67877046d21c1b208410f38081c82ff862/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=92b0bb67877046d21c1b208410f38081c82ff862", "patch": "@@ -7662,7 +7662,7 @@ output_line_info (void)\n   long line_delta;\n   unsigned long current_file;\n   unsigned long function;\n-  struct function *cfun = DECL_STRUCT_FUNCTION (current_function_decl);\n+  struct function *cfun;\n \n   ASM_GENERATE_INTERNAL_LABEL (l1, LINE_NUMBER_BEGIN_LABEL, 0);\n   ASM_GENERATE_INTERNAL_LABEL (l2, LINE_NUMBER_END_LABEL, 0);\n@@ -7732,6 +7732,11 @@ output_line_info (void)\n      a series of state machine operations.  */\n   current_file = 1;\n   current_line = 1;\n+  \n+  if (current_function_decl)\n+    cfun = DECL_STRUCT_FUNCTION (current_function_decl);\n+  else\n+    cfun = NULL;\n   if (last_text_section == in_unlikely_executed_text\n       || (last_text_section == in_named\n \t  && last_text_section_name == cfun->unlikely_text_section_name))"}]}