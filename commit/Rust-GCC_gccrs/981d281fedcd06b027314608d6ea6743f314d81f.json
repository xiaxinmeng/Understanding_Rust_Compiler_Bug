{"sha": "981d281fedcd06b027314608d6ea6743f314d81f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTgxZDI4MWZlZGNkMDZiMDI3MzE0NjA4ZDZlYTY3NDNmMzE0ZDgxZg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@google.com", "date": "2015-09-08T13:49:19Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-09-08T13:49:19Z"}, "message": "re PR other/67457 (segfault in libbacktrace)\n\n\tPR other/67457\n\t* mmap.c (backtrace_alloc): Correct test for mmap failure.\n\nFrom-SVN: r227529", "tree": {"sha": "922827d6ed2bdc06141a7e931cb78708f108bbc1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/922827d6ed2bdc06141a7e931cb78708f108bbc1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/981d281fedcd06b027314608d6ea6743f314d81f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/981d281fedcd06b027314608d6ea6743f314d81f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/981d281fedcd06b027314608d6ea6743f314d81f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/981d281fedcd06b027314608d6ea6743f314d81f/comments", "author": null, "committer": null, "parents": [{"sha": "6294855fa30c50db9aa8cfdab4ae97c39c7de2f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6294855fa30c50db9aa8cfdab4ae97c39c7de2f4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6294855fa30c50db9aa8cfdab4ae97c39c7de2f4"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "92ec7a13c4ad2d8e6f6c8cbf0208ef939eb9e0ee", "filename": "libbacktrace/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/981d281fedcd06b027314608d6ea6743f314d81f/libbacktrace%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/981d281fedcd06b027314608d6ea6743f314d81f/libbacktrace%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2FChangeLog?ref=981d281fedcd06b027314608d6ea6743f314d81f", "patch": "@@ -1,3 +1,8 @@\n+2015-09-08  Ian Lance Taylor  <iant@google.com>\n+\n+\tPR other/67457\n+\t* mmap.c (backtrace_alloc): Correct test for mmap failure.\n+\n 2015-08-31  Ulrich Weigand  <Ulrich.Weigand@de.ibm.com>\n \n \t* configure.ac: For spu-*-* targets, set have_fcntl to no."}, {"sha": "47c564f13f81ff4ca1b5393420e10c248d8f5f0d", "filename": "libbacktrace/mmap.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/981d281fedcd06b027314608d6ea6743f314d81f/libbacktrace%2Fmmap.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/981d281fedcd06b027314608d6ea6743f314d81f/libbacktrace%2Fmmap.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2Fmmap.c?ref=981d281fedcd06b027314608d6ea6743f314d81f", "patch": "@@ -139,7 +139,7 @@ backtrace_alloc (struct backtrace_state *state,\n       asksize = (size + pagesize - 1) & ~ (pagesize - 1);\n       page = mmap (NULL, asksize, PROT_READ | PROT_WRITE,\n \t\t   MAP_PRIVATE | MAP_ANONYMOUS, -1, 0);\n-      if (page == NULL)\n+      if (page == MAP_FAILED)\n \terror_callback (data, \"mmap\", errno);\n       else\n \t{"}]}