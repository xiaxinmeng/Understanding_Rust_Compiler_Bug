{"sha": "a4e33812b0fe66f2d868d299b9b1fff0f0e84905", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTRlMzM4MTJiMGZlNjZmMmQ4NjhkMjk5YjliMWZmZjBmMGU4NDkwNQ==", "commit": {"author": {"name": "Martin Jambor", "email": "mjambor@suse.cz", "date": "2014-01-06T14:05:25Z"}, "committer": {"name": "Martin Jambor", "email": "jamborm@gcc.gnu.org", "date": "2014-01-06T14:05:25Z"}, "message": "re PR ipa/59008 (ICEs in try_make_edge_direct_simple_call / propagate_controlled_uses)\n\n2014-01-06  Martin Jambor  <mjambor@suse.cz>\n\n\tPR ipa/59008\n\t* ipa-cp.c (ipcp_discover_new_direct_edges): Changed param_index type\n\tto int.\n\t* ipa-prop.c (ipa_print_node_params): Fix indentation.\n\ntestsuite/\n        * gcc.dg/ipa/pr59008.c: New test.\n\nFrom-SVN: r206361", "tree": {"sha": "2e6a36d3e13056bf41c373c2d8010dec7a926f93", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2e6a36d3e13056bf41c373c2d8010dec7a926f93"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a4e33812b0fe66f2d868d299b9b1fff0f0e84905", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a4e33812b0fe66f2d868d299b9b1fff0f0e84905", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a4e33812b0fe66f2d868d299b9b1fff0f0e84905", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a4e33812b0fe66f2d868d299b9b1fff0f0e84905/comments", "author": {"login": "jamborm", "id": 2180070, "node_id": "MDQ6VXNlcjIxODAwNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2180070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamborm", "html_url": "https://github.com/jamborm", "followers_url": "https://api.github.com/users/jamborm/followers", "following_url": "https://api.github.com/users/jamborm/following{/other_user}", "gists_url": "https://api.github.com/users/jamborm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamborm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamborm/subscriptions", "organizations_url": "https://api.github.com/users/jamborm/orgs", "repos_url": "https://api.github.com/users/jamborm/repos", "events_url": "https://api.github.com/users/jamborm/events{/privacy}", "received_events_url": "https://api.github.com/users/jamborm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "4dc69bc674719454083318fd280bf061087940f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4dc69bc674719454083318fd280bf061087940f4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4dc69bc674719454083318fd280bf061087940f4"}], "stats": {"total": 47, "additions": 46, "deletions": 1}, "files": [{"sha": "8a0c3f3c42a83d873142b0622ea5feec24507d39", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4e33812b0fe66f2d868d299b9b1fff0f0e84905/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4e33812b0fe66f2d868d299b9b1fff0f0e84905/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a4e33812b0fe66f2d868d299b9b1fff0f0e84905", "patch": "@@ -1,3 +1,10 @@\n+2014-01-06  Martin Jambor  <mjambor@suse.cz>\n+\n+\tPR ipa/59008\n+\t* ipa-cp.c (ipcp_discover_new_direct_edges): Changed param_index type\n+\tto int.\n+\t* ipa-prop.c (ipa_print_node_params): Fix indentation.\n+\n 2014-01-06  Eric Botcazou  <ebotcazou@adacore.com>\n \n \tPR debug/59350"}, {"sha": "a6a44e6d81aceabbf5dca273cba702771376f50e", "filename": "gcc/ipa-cp.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4e33812b0fe66f2d868d299b9b1fff0f0e84905/gcc%2Fipa-cp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4e33812b0fe66f2d868d299b9b1fff0f0e84905/gcc%2Fipa-cp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-cp.c?ref=a4e33812b0fe66f2d868d299b9b1fff0f0e84905", "patch": "@@ -2281,7 +2281,7 @@ ipcp_discover_new_direct_edges (struct cgraph_node *node,\n \t{\n \t  bool agg_contents = ie->indirect_info->agg_contents;\n \t  bool polymorphic = ie->indirect_info->polymorphic;\n-\t  bool param_index = ie->indirect_info->param_index;\n+\t  int param_index = ie->indirect_info->param_index;\n \t  struct cgraph_edge *cs = ipa_make_edge_direct_to_target (ie, target);\n \t  found = true;\n "}, {"sha": "786a96f8d334f4f92c0c42ccb6e2aaa73b388634", "filename": "gcc/ipa-prop.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4e33812b0fe66f2d868d299b9b1fff0f0e84905/gcc%2Fipa-prop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4e33812b0fe66f2d868d299b9b1fff0f0e84905/gcc%2Fipa-prop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-prop.c?ref=a4e33812b0fe66f2d868d299b9b1fff0f0e84905", "patch": "@@ -3326,6 +3326,7 @@ ipa_print_node_params (FILE *f, struct cgraph_node *node)\n     {\n       int c;\n \n+      fprintf (f, \"    \");\n       ipa_dump_param (f, info, i);\n       if (ipa_is_param_used (info, i))\n \tfprintf (f, \" used\");"}, {"sha": "7b7e558923fa66b1358f275ea31d6785e7d4bbf8", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4e33812b0fe66f2d868d299b9b1fff0f0e84905/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4e33812b0fe66f2d868d299b9b1fff0f0e84905/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a4e33812b0fe66f2d868d299b9b1fff0f0e84905", "patch": "@@ -1,3 +1,8 @@\n+2014-01-06  Martin Jambor  <mjambor@suse.cz>\n+\n+\tPR ipa/59008\n+\t* gcc.dg/ipa/pr59008.c: New test.\n+\n 2014-01-06  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* gcc.dg/vect/vect.exp: Add clearcap_ldflags to DEFAULT_VECTCFLAGS"}, {"sha": "b7296724300f24c12d3777e2e7a9b42d5b9f0eba", "filename": "gcc/testsuite/gcc.dg/ipa/pr59008.c", "status": "added", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4e33812b0fe66f2d868d299b9b1fff0f0e84905/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpr59008.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4e33812b0fe66f2d868d299b9b1fff0f0e84905/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpr59008.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpr59008.c?ref=a4e33812b0fe66f2d868d299b9b1fff0f0e84905", "patch": "@@ -0,0 +1,32 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O3\" } */\n+\n+typedef int (*funct)(int, int, int);\n+\n+extern int f(int, int, int);\n+extern int g(int, int, int);\n+extern int h(int, funct, funct);\n+\n+static int baz(int x, int y, int z)\n+{\n+  return x + y + z;\n+}\n+\n+static int bar(int n, funct f1, funct f2)\n+{\n+  return h(n, f1, f2) + f1(0, 1, 2);\n+}\n+\n+static int foo(int n, funct f1, funct f2)\n+{\n+  return bar(n, f1, f2) + f2(0, 1, 2);\n+}\n+\n+int main(void)\n+{\n+  return foo(0, f, g)\n+#ifndef ICE2\n+   + foo(0, baz, g)\n+#endif\n+  ;\n+}"}]}