{"sha": "2abacef0911d96bf1641a8cbe9da514b9d88c7d3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmFiYWNlZjA5MTFkOTZiZjE2NDFhOGNiZTlkYTUxNGI5ZDg4YzdkMw==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@cs.umass.edu", "date": "2004-10-05T18:58:36Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2004-10-05T18:58:36Z"}, "message": "tree-cfg.c (thread_jumps): Iterate with FOR_EACH_BB instead of FOR_BB_BETWEEN.\n\n\t* tree-cfg.c (thread_jumps): Iterate with FOR_EACH_BB instead\n\tof FOR_BB_BETWEEN.  Remove a useless check for unreachable\n\tblocks.\n\nFrom-SVN: r88566", "tree": {"sha": "3e5b1aa4e61d5ee76743409819cb15a5d0ab73fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3e5b1aa4e61d5ee76743409819cb15a5d0ab73fe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2abacef0911d96bf1641a8cbe9da514b9d88c7d3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2abacef0911d96bf1641a8cbe9da514b9d88c7d3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2abacef0911d96bf1641a8cbe9da514b9d88c7d3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2abacef0911d96bf1641a8cbe9da514b9d88c7d3/comments", "author": null, "committer": null, "parents": [{"sha": "09fa81dbb7a6c892b01bac7e8193316fd1428d36", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/09fa81dbb7a6c892b01bac7e8193316fd1428d36", "html_url": "https://github.com/Rust-GCC/gccrs/commit/09fa81dbb7a6c892b01bac7e8193316fd1428d36"}], "stats": {"total": 22, "additions": 14, "deletions": 8}, "files": [{"sha": "d578219ceadc2651fb91d0857a36eff910c4b015", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2abacef0911d96bf1641a8cbe9da514b9d88c7d3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2abacef0911d96bf1641a8cbe9da514b9d88c7d3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2abacef0911d96bf1641a8cbe9da514b9d88c7d3", "patch": "@@ -1,3 +1,9 @@\n+2004-10-05  Kazu Hirata  <kazu@cs.umass.edu>\n+\n+\t* tree-cfg.c (thread_jumps): Iterate with FOR_EACH_BB instead\n+\tof FOR_BB_BETWEEN.  Remove a useless check for unreachable\n+\tblocks.\n+\n 2004-10-05  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* tree-cfg.c (cleanup_tree_cfg): Don't call"}, {"sha": "2eff7546f3967bdf61c9386285349b4f19c49d4b", "filename": "gcc/tree-cfg.c", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2abacef0911d96bf1641a8cbe9da514b9d88c7d3/gcc%2Ftree-cfg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2abacef0911d96bf1641a8cbe9da514b9d88c7d3/gcc%2Ftree-cfg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-cfg.c?ref=2abacef0911d96bf1641a8cbe9da514b9d88c7d3", "patch": "@@ -3825,7 +3825,11 @@ tree_forwarder_block_p (basic_block bb)\n /* Thread jumps over empty statements.\n \n    This code should _not_ thread over obviously equivalent conditions\n-   as that requires nontrivial updates to the SSA graph.  */\n+   as that requires nontrivial updates to the SSA graph.\n+\n+   As a precondition, we require that all basic blocks be reachable.\n+   That is, there should be no opportunities left for\n+   delete_unreachable_blocks.  */\n    \n static bool\n thread_jumps (void)\n@@ -3839,18 +3843,14 @@ thread_jumps (void)\n   FOR_EACH_BB (bb)\n     bb_ann (bb)->forwardable = 1;\n \n-  FOR_BB_BETWEEN (bb, ENTRY_BLOCK_PTR, EXIT_BLOCK_PTR, next_bb)\n+  FOR_EACH_BB (bb)\n     {\n       edge_iterator ei;\n \n-      /* Don't waste time on unreachable blocks.  */\n-      if (EDGE_COUNT (bb->preds) == 0)\n-\tcontinue;\n-\n-      /* Nor on forwarders.  */\n+      /* Don't waste time on forwarders.  */\n       if (tree_forwarder_block_p (bb))\n \tcontinue;\n-      \n+\n       /* This block is now part of a forwarding path, mark it as not\n \t forwardable so that we can detect loops.  This bit will be\n \t reset below.  */"}]}