{"sha": "c1510a4900e05983c03f36c7374b46bc2d2640b5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzE1MTBhNDkwMGUwNTk4M2MwM2YzNmM3Mzc0YjQ2YmMyZDI2NDBiNQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2010-08-10T16:54:09Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2010-08-10T16:54:09Z"}, "message": "shared_ptr_base.h: Remove a few now redundant __glibcxx_function_requires(_ConvertibleConcept...).\n\n2010-08-10  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\t* include/bits/shared_ptr_base.h: Remove a few now redundant\n\t__glibcxx_function_requires(_ConvertibleConcept...).\n\t* testsuite/20_util/shared_ptr/cons/43820.cc: Adjust dg-error\n\tline number.\n\t* testsuite/20_util/weak_ptr/comparison/cmp_neg.cc: Likewise.\n\nFrom-SVN: r163075", "tree": {"sha": "66d5f7cfe8987976d375a2f6fa8c18f11910d4d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/66d5f7cfe8987976d375a2f6fa8c18f11910d4d7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c1510a4900e05983c03f36c7374b46bc2d2640b5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1510a4900e05983c03f36c7374b46bc2d2640b5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c1510a4900e05983c03f36c7374b46bc2d2640b5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1510a4900e05983c03f36c7374b46bc2d2640b5/comments", "author": null, "committer": null, "parents": [{"sha": "da4dbc25186cc8751c5bfc9427e2f624234f2449", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da4dbc25186cc8751c5bfc9427e2f624234f2449", "html_url": "https://github.com/Rust-GCC/gccrs/commit/da4dbc25186cc8751c5bfc9427e2f624234f2449"}], "stats": {"total": 22, "additions": 13, "deletions": 9}, "files": [{"sha": "e23edfc4518e12cbc5eebeb22c41261b38d5aa58", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1510a4900e05983c03f36c7374b46bc2d2640b5/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1510a4900e05983c03f36c7374b46bc2d2640b5/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=c1510a4900e05983c03f36c7374b46bc2d2640b5", "patch": "@@ -1,3 +1,11 @@\n+2010-08-10  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\t* include/bits/shared_ptr_base.h: Remove a few now redundant\n+\t__glibcxx_function_requires(_ConvertibleConcept...).\n+\t* testsuite/20_util/shared_ptr/cons/43820.cc: Adjust dg-error\n+\tline number.\n+\t* testsuite/20_util/weak_ptr/comparison/cmp_neg.cc: Likewise.\n+\n 2010-08-10  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \t* testsuite/ext/stdio_sync_filebuf/char/1.cc: Avoid -Wall"}, {"sha": "802d1b5b70eeac3fbe7f427a8f24bb92bf89cbcd", "filename": "libstdc++-v3/include/bits/shared_ptr_base.h", "status": "modified", "additions": 3, "deletions": 7, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1510a4900e05983c03f36c7374b46bc2d2640b5/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fshared_ptr_base.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1510a4900e05983c03f36c7374b46bc2d2640b5/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fshared_ptr_base.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fshared_ptr_base.h?ref=c1510a4900e05983c03f36c7374b46bc2d2640b5", "patch": "@@ -605,7 +605,7 @@ _GLIBCXX_BEGIN_NAMESPACE(std)\n \t       std::enable_if<std::is_convertible<_Tp1*, _Tp*>::value>::type>\n \t__shared_ptr(const __shared_ptr<_Tp1, _Lp>& __r)\n \t: _M_ptr(__r._M_ptr), _M_refcount(__r._M_refcount) // never throws\n-\t{ __glibcxx_function_requires(_ConvertibleConcept<_Tp1*, _Tp*>) }\n+\t{ }\n \n       __shared_ptr(__shared_ptr&& __r)\n       : _M_ptr(__r._M_ptr), _M_refcount() // never throws\n@@ -619,7 +619,6 @@ _GLIBCXX_BEGIN_NAMESPACE(std)\n \t__shared_ptr(__shared_ptr<_Tp1, _Lp>&& __r)\n \t: _M_ptr(__r._M_ptr), _M_refcount() // never throws\n \t{\n-\t  __glibcxx_function_requires(_ConvertibleConcept<_Tp1*, _Tp*>)\n \t  _M_refcount._M_swap(__r._M_refcount);\n \t  __r._M_ptr = 0;\n \t}\n@@ -971,16 +970,13 @@ _GLIBCXX_BEGIN_NAMESPACE(std)\n \t       std::enable_if<std::is_convertible<_Tp1*, _Tp*>::value>::type>\n \t__weak_ptr(const __weak_ptr<_Tp1, _Lp>& __r)\n \t: _M_refcount(__r._M_refcount) // never throws\n-\t{\n-\t  __glibcxx_function_requires(_ConvertibleConcept<_Tp1*, _Tp*>)\n-\t  _M_ptr = __r.lock().get();\n-\t}\n+        { _M_ptr = __r.lock().get(); }\n \n       template<typename _Tp1, typename = typename\n \t       std::enable_if<std::is_convertible<_Tp1*, _Tp*>::value>::type>\n \t__weak_ptr(const __shared_ptr<_Tp1, _Lp>& __r)\n \t: _M_ptr(__r._M_ptr), _M_refcount(__r._M_refcount) // never throws\n-\t{ __glibcxx_function_requires(_ConvertibleConcept<_Tp1*, _Tp*>) }\n+\t{ }\n \n       template<typename _Tp1>\n \t__weak_ptr&"}, {"sha": "adc005d0c501eb6f0ede4622bb4be99695d73145", "filename": "libstdc++-v3/testsuite/20_util/shared_ptr/cons/43820.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1510a4900e05983c03f36c7374b46bc2d2640b5/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fcons%2F43820.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1510a4900e05983c03f36c7374b46bc2d2640b5/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fcons%2F43820.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fcons%2F43820.cc?ref=c1510a4900e05983c03f36c7374b46bc2d2640b5", "patch": "@@ -35,6 +35,6 @@ void test01()\n   // { dg-error \"incomplete\" \"\" { target *-*-* } 566 }\n \n   std::shared_ptr<X> p9(ap());  // { dg-error \"here\" }\n-  // { dg-error \"incomplete\" \"\" { target *-*-* } 659 }\n+  // { dg-error \"incomplete\" \"\" { target *-*-* } 658 }\n \n }"}, {"sha": "ea84c7e82a9f2fb4393eb3fa24ff33180cd9fce6", "filename": "libstdc++-v3/testsuite/20_util/weak_ptr/comparison/cmp_neg.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1510a4900e05983c03f36c7374b46bc2d2640b5/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fweak_ptr%2Fcomparison%2Fcmp_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1510a4900e05983c03f36c7374b46bc2d2640b5/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fweak_ptr%2Fcomparison%2Fcmp_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fweak_ptr%2Fcomparison%2Fcmp_neg.cc?ref=c1510a4900e05983c03f36c7374b46bc2d2640b5", "patch": "@@ -43,7 +43,7 @@ main()\n \n // { dg-warning \"note\" \"\" { target *-*-* } 327 }\n // { dg-warning \"note\" \"\" { target *-*-* } 446 }\n-// { dg-warning \"note\" \"\" { target *-*-* } 864 }\n+// { dg-warning \"note\" \"\" { target *-*-* } 863 }\n // { dg-warning \"note\" \"\" { target *-*-* } 580 }\n // { dg-warning \"note\" \"\" { target *-*-* } 1027 }\n // { dg-warning \"note\" \"\" { target *-*-* } 340 }"}]}