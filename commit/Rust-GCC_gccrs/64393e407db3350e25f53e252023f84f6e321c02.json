{"sha": "64393e407db3350e25f53e252023f84f6e321c02", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjQzOTNlNDA3ZGIzMzUwZTI1ZjUzZTI1MjAyM2Y4NGY2ZTMyMWMwMg==", "commit": {"author": {"name": "Li Feng", "email": "nemokingdom@gmail.com", "date": "2009-08-05T07:37:36Z"}, "committer": {"name": "Li Feng", "email": "lifeng@gcc.gnu.org", "date": "2009-08-05T07:37:36Z"}, "message": "build alias set for drs in SCoP instead of in pbb.\n\n2009-08-05  Li Feng  <nemokingdom@gmail.com>\n\n    * graphite-sese-to-poly.c (build_pbb_drs): Remove build alias set\n    for each poly_bb_p.\n    (build_scop_drs): Build alias set for each SCoP.\n\nFrom-SVN: r150478", "tree": {"sha": "df44c20ad2a5da827b680667bd344e80fd7afdc1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/df44c20ad2a5da827b680667bd344e80fd7afdc1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/64393e407db3350e25f53e252023f84f6e321c02", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64393e407db3350e25f53e252023f84f6e321c02", "html_url": "https://github.com/Rust-GCC/gccrs/commit/64393e407db3350e25f53e252023f84f6e321c02", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64393e407db3350e25f53e252023f84f6e321c02/comments", "author": {"login": "LiFeng", "id": 117740, "node_id": "MDQ6VXNlcjExNzc0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/117740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LiFeng", "html_url": "https://github.com/LiFeng", "followers_url": "https://api.github.com/users/LiFeng/followers", "following_url": "https://api.github.com/users/LiFeng/following{/other_user}", "gists_url": "https://api.github.com/users/LiFeng/gists{/gist_id}", "starred_url": "https://api.github.com/users/LiFeng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LiFeng/subscriptions", "organizations_url": "https://api.github.com/users/LiFeng/orgs", "repos_url": "https://api.github.com/users/LiFeng/repos", "events_url": "https://api.github.com/users/LiFeng/events{/privacy}", "received_events_url": "https://api.github.com/users/LiFeng/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "5dce6dbd99e95a86a4382497eb0c823274ab4724", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5dce6dbd99e95a86a4382497eb0c823274ab4724", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5dce6dbd99e95a86a4382497eb0c823274ab4724"}], "stats": {"total": 22, "additions": 19, "deletions": 3}, "files": [{"sha": "075b612954e4f9d9b683ea6955073e0447ede182", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/64393e407db3350e25f53e252023f84f6e321c02/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/64393e407db3350e25f53e252023f84f6e321c02/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=64393e407db3350e25f53e252023f84f6e321c02", "patch": "@@ -1,3 +1,9 @@\n+2009-08-05  Li Feng  <nemokingdom@gmail.com>\n+\n+\t* graphite-sese-to-poly.c (build_pbb_drs): Remove build alias set\n+\tfor each poly_bb_p.\n+\t(build_scop_drs): Build alias set for each SCoP.\n+\n 2009-08-04  Sandra Loosemore  <sandra@codesourcery.com>\n \n \t* doc/invoke.texi (MIPS Options): Document new 1004K -march options."}, {"sha": "4ed7ffc27d51df66f9a16426ce38950017d4806a", "filename": "gcc/graphite-sese-to-poly.c", "status": "modified", "additions": 13, "deletions": 3, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/64393e407db3350e25f53e252023f84f6e321c02/gcc%2Fgraphite-sese-to-poly.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/64393e407db3350e25f53e252023f84f6e321c02/gcc%2Fgraphite-sese-to-poly.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-sese-to-poly.c?ref=64393e407db3350e25f53e252023f84f6e321c02", "patch": "@@ -1778,8 +1778,6 @@ build_pbb_drs (poly_bb_p pbb)\n   data_reference_p dr;\n   VEC (data_reference_p, heap) *gbb_drs = GBB_DATA_REFS (PBB_BLACK_BOX (pbb));\n \n-  build_alias_set_for_drs (&gbb_drs);\n-\n   for (j = 0; VEC_iterate (data_reference_p, gbb_drs, j, dr); j++)\n     build_poly_dr (dr, pbb);\n }\n@@ -1789,8 +1787,20 @@ build_pbb_drs (poly_bb_p pbb)\n static void\n build_scop_drs (scop_p scop)\n {\n-  int i;\n+  int i, j;\n   poly_bb_p pbb;\n+  data_reference_p dr;\n+  VEC (data_reference_p, heap) *drs = VEC_alloc (data_reference_p, heap, 3);\n+\n+  for (i = 0; VEC_iterate (poly_bb_p, SCOP_BBS (scop), i, pbb); i++)\n+    {\n+      VEC (data_reference_p, heap) *gbb_drs = GBB_DATA_REFS (PBB_BLACK_BOX (pbb));\n+      for (j = 0; VEC_iterate (data_reference_p, gbb_drs, j, dr); j++)\n+       VEC_safe_push (data_reference_p, heap, drs, dr);\n+    }\n+\n+  build_alias_set_for_drs (&drs);\n+  VEC_free (data_reference_p, heap, drs);\n \n   for (i = 0; VEC_iterate (poly_bb_p, SCOP_BBS (scop), i, pbb); i++)\n     build_pbb_drs (pbb);"}]}