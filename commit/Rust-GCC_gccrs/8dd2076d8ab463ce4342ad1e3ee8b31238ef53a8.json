{"sha": "8dd2076d8ab463ce4342ad1e3ee8b31238ef53a8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGRkMjA3NmQ4YWI0NjNjZTQzNDJhZDFlM2VlOGIzMTIzOGVmNTNhOA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2000-04-02T02:48:24Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2000-04-02T02:48:24Z"}, "message": "emit-rtl.c (gen_rtx_CONST_INT): Create cached CONST_INTs on the permanent obstack.\n\n\t* emit-rtl.c (gen_rtx_CONST_INT): Create cached CONST_INTs on the\n\tpermanent obstack.\n\nFrom-SVN: r32861", "tree": {"sha": "6ba434436ff1cc4b22ffc4daf4fd6545004a3284", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6ba434436ff1cc4b22ffc4daf4fd6545004a3284"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8dd2076d8ab463ce4342ad1e3ee8b31238ef53a8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8dd2076d8ab463ce4342ad1e3ee8b31238ef53a8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8dd2076d8ab463ce4342ad1e3ee8b31238ef53a8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8dd2076d8ab463ce4342ad1e3ee8b31238ef53a8/comments", "author": null, "committer": null, "parents": [{"sha": "07aa0b04f2ef60131900c2ea350d0d78e028acad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07aa0b04f2ef60131900c2ea350d0d78e028acad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/07aa0b04f2ef60131900c2ea350d0d78e028acad"}], "stats": {"total": 16, "additions": 15, "deletions": 1}, "files": [{"sha": "1600e4f18f7e462c2bc252682167390ac3d8934d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8dd2076d8ab463ce4342ad1e3ee8b31238ef53a8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8dd2076d8ab463ce4342ad1e3ee8b31238ef53a8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8dd2076d8ab463ce4342ad1e3ee8b31238ef53a8", "patch": "@@ -1,3 +1,8 @@\n+2000-04-01  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* emit-rtl.c (gen_rtx_CONST_INT): Create cached CONST_INTs on the\n+\tpermanent obstack.\n+\n 2000-04-01  Zack Weinberg  <zack@wolery.cumb.org>\n \n \t* cpplib.c: Include symcat.h.  Add 'origin' field to struct"}, {"sha": "b67e9f131a74942aba3ea74dd463634df5d3c217", "filename": "gcc/emit-rtl.c", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8dd2076d8ab463ce4342ad1e3ee8b31238ef53a8/gcc%2Femit-rtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8dd2076d8ab463ce4342ad1e3ee8b31238ef53a8/gcc%2Femit-rtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Femit-rtl.c?ref=8dd2076d8ab463ce4342ad1e3ee8b31238ef53a8", "patch": "@@ -253,7 +253,16 @@ gen_rtx_CONST_INT (mode, arg)\n \t\t\t\t   (hashval_t) arg,\n \t\t\t\t   /*insert=*/1);\n   if (!*slot)\n-    *slot = gen_rtx_raw_CONST_INT (VOIDmode, arg);\n+    {\n+      if (!ggc_p)\n+\t{\n+\t  push_obstacks_nochange ();\n+\t  end_temporary_allocation ();\n+\t}\n+      *slot = gen_rtx_raw_CONST_INT (VOIDmode, arg);\n+      if (!ggc_p)\n+\tpop_obstacks ();\n+    }\n \n   return (rtx) *slot;\n }"}]}