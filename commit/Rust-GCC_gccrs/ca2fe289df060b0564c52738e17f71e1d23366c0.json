{"sha": "ca2fe289df060b0564c52738e17f71e1d23366c0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2EyZmUyODlkZjA2MGIwNTY0YzUyNzM4ZTE3ZjcxZTFkMjMzNjZjMA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-09-16T18:04:22Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-09-16T18:04:22Z"}, "message": "compiler: Don't crash on erroneous channel reads.\n\n    \n    Fixes golang/go#12320.\n    \n    Reviewed-on: https://go-review.googlesource.com/13932\n\nFrom-SVN: r227834", "tree": {"sha": "2e11fbdb63555f55729904e624ae17ce0605c5b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2e11fbdb63555f55729904e624ae17ce0605c5b9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ca2fe289df060b0564c52738e17f71e1d23366c0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca2fe289df060b0564c52738e17f71e1d23366c0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca2fe289df060b0564c52738e17f71e1d23366c0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca2fe289df060b0564c52738e17f71e1d23366c0/comments", "author": null, "committer": null, "parents": [{"sha": "ea09f50d91fc79d3d494c352b71556c605e89159", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea09f50d91fc79d3d494c352b71556c605e89159", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea09f50d91fc79d3d494c352b71556c605e89159"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "c150747ae36b0f3549f0c6e22b0b2011bc945497", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca2fe289df060b0564c52738e17f71e1d23366c0/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca2fe289df060b0564c52738e17f71e1d23366c0/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=ca2fe289df060b0564c52738e17f71e1d23366c0", "patch": "@@ -1,4 +1,4 @@\n-79f457a267ff2bf8e65db4bcec0cbc7add79227a\n+1cb26dc898bda1e85f4dd2ee204adbce792e4813\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "542f3de6fbbd76b9b39ea1a3460d3ea5eb3d3bc9", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca2fe289df060b0564c52738e17f71e1d23366c0/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca2fe289df060b0564c52738e17f71e1d23366c0/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=ca2fe289df060b0564c52738e17f71e1d23366c0", "patch": "@@ -3472,6 +3472,15 @@ Unsafe_type_conversion_expression::do_get_backend(Translate_context* context)\n \n   Type* t = this->type_;\n   Type* et = this->expr_->type();\n+\n+  if (t->is_error_type()\n+      || this->expr_->is_error_expression()\n+      || et->is_error_type())\n+    {\n+      go_assert(saw_errors());\n+      return context->backend()->error_expression();\n+    }\n+\n   if (t->array_type() != NULL)\n     go_assert(et->array_type() != NULL\n               && t->is_slice_type() == et->is_slice_type());"}]}