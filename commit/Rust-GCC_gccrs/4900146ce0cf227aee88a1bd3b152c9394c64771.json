{"sha": "4900146ce0cf227aee88a1bd3b152c9394c64771", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDkwMDE0NmNlMGNmMjI3YWVlODhhMWJkM2IxNTJjOTM5NGM2NDc3MQ==", "commit": {"author": {"name": "Bill Schmidt", "email": "wschmidt@linux.vnet.ibm.com", "date": "2018-03-06T01:56:41Z"}, "committer": {"name": "William Schmidt", "email": "wschmidt@gcc.gnu.org", "date": "2018-03-06T01:56:41Z"}, "message": "rs6000-builtin.def (rs6000_speculation_barrier): Rename to ppc_speculation_barrier.\n\n[gcc]\n\n2018-03-05  Bill Schmidt  <wschmidt@linux.vnet.ibm.com>\n\n\t* config/rs6000/rs6000-builtin.def (rs6000_speculation_barrier):\n\tRename to ppc_speculation_barrier.\n\t* config/rs6000/rs6000.c (rs6000_init_builtins): Rename builtin to\n\t__builtin_ppc_speculation_barrier.\n\n[gcc/testsuite]\n\n2018-03-05  Bill Schmidt  <wschmidt@linux.vnet.ibm.com>\n\n\t* gcc.target/powerpc/spec-barr-1.c: Change called function name to\n\t__builtin_ppc_speculation_barrier.\n\nFrom-SVN: r258268", "tree": {"sha": "115afcec8dead7f9af8a135c387b6d25548902f5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/115afcec8dead7f9af8a135c387b6d25548902f5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4900146ce0cf227aee88a1bd3b152c9394c64771", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4900146ce0cf227aee88a1bd3b152c9394c64771", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4900146ce0cf227aee88a1bd3b152c9394c64771", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4900146ce0cf227aee88a1bd3b152c9394c64771/comments", "author": {"login": "wschmidt-ibm", "id": 5520937, "node_id": "MDQ6VXNlcjU1MjA5Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/5520937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wschmidt-ibm", "html_url": "https://github.com/wschmidt-ibm", "followers_url": "https://api.github.com/users/wschmidt-ibm/followers", "following_url": "https://api.github.com/users/wschmidt-ibm/following{/other_user}", "gists_url": "https://api.github.com/users/wschmidt-ibm/gists{/gist_id}", "starred_url": "https://api.github.com/users/wschmidt-ibm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wschmidt-ibm/subscriptions", "organizations_url": "https://api.github.com/users/wschmidt-ibm/orgs", "repos_url": "https://api.github.com/users/wschmidt-ibm/repos", "events_url": "https://api.github.com/users/wschmidt-ibm/events{/privacy}", "received_events_url": "https://api.github.com/users/wschmidt-ibm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f75fbd29fb785723f24de617d53f6f97a4a77c45", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f75fbd29fb785723f24de617d53f6f97a4a77c45", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f75fbd29fb785723f24de617d53f6f97a4a77c45"}], "stats": {"total": 18, "additions": 15, "deletions": 3}, "files": [{"sha": "d90eaa52010b40616f9c995079a050958c6e0654", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4900146ce0cf227aee88a1bd3b152c9394c64771/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4900146ce0cf227aee88a1bd3b152c9394c64771/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4900146ce0cf227aee88a1bd3b152c9394c64771", "patch": "@@ -1,3 +1,10 @@\n+2018-03-05  Bill Schmidt  <wschmidt@linux.vnet.ibm.com>\n+\n+\t* config/rs6000/rs6000-builtin.def (rs6000_speculation_barrier):\n+\tRename to ppc_speculation_barrier.\n+\t* config/rs6000/rs6000.c (rs6000_init_builtins): Rename builtin to\n+\t__builtin_ppc_speculation_barrier.\n+\n 2018-03-05  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/84700"}, {"sha": "9942d65be7ce0b81865dd4f42cab216495f80351", "filename": "gcc/config/rs6000/rs6000-builtin.def", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4900146ce0cf227aee88a1bd3b152c9394c64771/gcc%2Fconfig%2Frs6000%2Frs6000-builtin.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4900146ce0cf227aee88a1bd3b152c9394c64771/gcc%2Fconfig%2Frs6000%2Frs6000-builtin.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000-builtin.def?ref=4900146ce0cf227aee88a1bd3b152c9394c64771", "patch": "@@ -2348,7 +2348,7 @@ BU_DFP_MISC_2 (DSCRIQ,\t\t\"dscriq\",\tCONST,\tdfp_dscri_td)\n /* 0 argument void function that we pretend was added in ISA 2.06.\n    It's a special nop recognized by 2018+ firmware for P7 and up,\n    with speculation barrier semantics.  */\n-BU_P7_MISC_X (SPEC_BARRIER,\t\"rs6000_speculation_barrier\",\tMISC)\n+BU_P7_MISC_X (SPEC_BARRIER,\t\"ppc_speculation_barrier\",\tMISC)\n \n /* 1 argument BCD functions added in ISA 2.06.  */\n BU_P7_MISC_1 (CDTBCD,\t\t\"cdtbcd\",\tCONST,\tcdtbcd)"}, {"sha": "9c8c0c8393437eaf49e43a1566f561cc3207b359", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4900146ce0cf227aee88a1bd3b152c9394c64771/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4900146ce0cf227aee88a1bd3b152c9394c64771/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=4900146ce0cf227aee88a1bd3b152c9394c64771", "patch": "@@ -17249,7 +17249,7 @@ rs6000_init_builtins (void)\n \n   ftype = build_function_type_list (void_type_node, NULL_TREE);\n   def_builtin (\"__builtin_cpu_init\", ftype, RS6000_BUILTIN_CPU_INIT);\n-  def_builtin (\"__builtin_rs6000_speculation_barrier\", ftype,\n+  def_builtin (\"__builtin_ppc_speculation_barrier\", ftype,\n \t       MISC_BUILTIN_SPEC_BARRIER);\n \n   ftype = build_function_type_list (bool_int_type_node, const_ptr_type_node,"}, {"sha": "a9f66a320a681de950344dbeba5bbd9df9c19d55", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4900146ce0cf227aee88a1bd3b152c9394c64771/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4900146ce0cf227aee88a1bd3b152c9394c64771/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4900146ce0cf227aee88a1bd3b152c9394c64771", "patch": "@@ -1,3 +1,8 @@\n+2018-03-05  Bill Schmidt  <wschmidt@linux.vnet.ibm.com>\n+\n+\t* gcc.target/powerpc/spec-barr-1.c: Change called function name to\n+\t__builtin_ppc_speculation_barrier.\n+\n 2018-03-05  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/84700"}, {"sha": "443938cd1061cc723b4b694ad9957e0e369e7ee6", "filename": "gcc/testsuite/gcc.target/powerpc/spec-barr-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4900146ce0cf227aee88a1bd3b152c9394c64771/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fspec-barr-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4900146ce0cf227aee88a1bd3b152c9394c64771/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fspec-barr-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fspec-barr-1.c?ref=4900146ce0cf227aee88a1bd3b152c9394c64771", "patch": "@@ -4,7 +4,7 @@\n \n void foo ()\n {\n-  __builtin_rs6000_speculation_barrier ();\n+  __builtin_ppc_speculation_barrier ();\n }\n \n /* { dg-final { scan-assembler \"ori 31,31,0\" } } */"}]}