{"sha": "7d9c5aa1952f7c13f70e3ee09a4d78fbe1136902", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2Q5YzVhYTE5NTJmN2MxM2Y3MGUzZWUwOWE0ZDc4ZmJlMTEzNjkwMg==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "joern.rennecke@st.com", "date": "2005-05-05T21:19:19Z"}, "committer": {"name": "Kaz Kojima", "email": "kkojima@gcc.gnu.org", "date": "2005-05-05T21:19:19Z"}, "message": "sh.c (sh_builtin_saveregs): Use copy_to_mode_reg and plus_constant.\n\n\t* config/sh/sh.c (sh_builtin_saveregs): Use copy_to_mode_reg\n\tand plus_constant.\n\nCo-Authored-By: Kaz Kojima <kkojima@gcc.gnu.org>\n\nFrom-SVN: r99287", "tree": {"sha": "c54462dffdfdb67f8b7c1ee62f0eb058a413112f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c54462dffdfdb67f8b7c1ee62f0eb058a413112f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7d9c5aa1952f7c13f70e3ee09a4d78fbe1136902", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d9c5aa1952f7c13f70e3ee09a4d78fbe1136902", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7d9c5aa1952f7c13f70e3ee09a4d78fbe1136902", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d9c5aa1952f7c13f70e3ee09a4d78fbe1136902/comments", "author": null, "committer": null, "parents": [{"sha": "78f5898b9583d297ceb15d33ecb9297cc8a32667", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/78f5898b9583d297ceb15d33ecb9297cc8a32667", "html_url": "https://github.com/Rust-GCC/gccrs/commit/78f5898b9583d297ceb15d33ecb9297cc8a32667"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "e8e5775b8169e687195db1da073a360c5c7106d3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d9c5aa1952f7c13f70e3ee09a4d78fbe1136902/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d9c5aa1952f7c13f70e3ee09a4d78fbe1136902/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7d9c5aa1952f7c13f70e3ee09a4d78fbe1136902", "patch": "@@ -1,3 +1,9 @@\n+2005-05-05  J\"orn Rennecke  <joern.rennecke@st.com>\n+\t    Kaz Kojima  <kkojima@gcc.gnu.org>\n+\n+\t* config/sh/sh.c (sh_builtin_saveregs): Use copy_to_mode_reg\n+\tand plus_constant.\n+\n 2005-05-05  Aldy Hernandez  <aldyh@redhat.com>\n \n \t* config.gcc: Add .opt magic for the rs6000 ports."}, {"sha": "20eddb6464cc2bbd50dc13a6c1aadb472379655c", "filename": "gcc/config/sh/sh.c", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d9c5aa1952f7c13f70e3ee09a4d78fbe1136902/gcc%2Fconfig%2Fsh%2Fsh.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d9c5aa1952f7c13f70e3ee09a4d78fbe1136902/gcc%2Fconfig%2Fsh%2Fsh.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.c?ref=7d9c5aa1952f7c13f70e3ee09a4d78fbe1136902", "patch": "@@ -6248,10 +6248,9 @@ sh_builtin_saveregs (void)\n      saved).\n      We emit the moves in reverse order so that we can use predecrement.  */\n \n-  fpregs = gen_reg_rtx (Pmode);\n-  emit_move_insn (fpregs, XEXP (regbuf, 0));\n-  emit_insn (gen_addsi3 (fpregs, fpregs,\n-\t\t\t GEN_INT (n_floatregs * UNITS_PER_WORD)));\n+  fpregs = copy_to_mode_reg (Pmode,\n+\t\t\t     plus_constant (XEXP (regbuf, 0),\n+                                            n_floatregs * UNITS_PER_WORD));\n   if (TARGET_SH4 || TARGET_SH2A_DOUBLE)\n     {\n       rtx mem;"}]}