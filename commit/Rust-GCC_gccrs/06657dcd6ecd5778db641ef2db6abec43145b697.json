{"sha": "06657dcd6ecd5778db641ef2db6abec43145b697", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDY2NTdkY2Q2ZWNkNTc3OGRiNjQxZWYyZGI2YWJlYzQzMTQ1YjY5Nw==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2001-08-28T17:55:10Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2001-08-28T17:55:10Z"}, "message": "jcf-write.c (generate_bytecode_insns): Generate an integer to real conversion for increments and decrements of reals.\n\n\t* jcf-write.c (generate_bytecode_insns): Generate an integer to\n\treal conversion for increments and decrements of reals.\n\nFrom-SVN: r45230", "tree": {"sha": "b68800dc2dae71a196953452e6bdf4c98f5a47f5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b68800dc2dae71a196953452e6bdf4c98f5a47f5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/06657dcd6ecd5778db641ef2db6abec43145b697", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06657dcd6ecd5778db641ef2db6abec43145b697", "html_url": "https://github.com/Rust-GCC/gccrs/commit/06657dcd6ecd5778db641ef2db6abec43145b697", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06657dcd6ecd5778db641ef2db6abec43145b697/comments", "author": null, "committer": null, "parents": [{"sha": "68350f4f0f05e12b9fe74cd339f1654e4703d418", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68350f4f0f05e12b9fe74cd339f1654e4703d418", "html_url": "https://github.com/Rust-GCC/gccrs/commit/68350f4f0f05e12b9fe74cd339f1654e4703d418"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "60d7527f1ad08dfb7730c535a043486d74934781", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06657dcd6ecd5778db641ef2db6abec43145b697/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06657dcd6ecd5778db641ef2db6abec43145b697/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=06657dcd6ecd5778db641ef2db6abec43145b697", "patch": "@@ -1,3 +1,8 @@\n+2001-08-28  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* jcf-write.c (generate_bytecode_insns): Generate an integer to\n+\treal conversion for increments and decrements of reals.\n+\n 2001-08-24  Alexandre Petit-Bianco  <apbianco@redhat.com>\n \n \t* parse.y (check_deprecation): Handle TYPE_DECL in a special case,"}, {"sha": "383cc6a7c7aaa62d549a6a5032920e9b0585ceed", "filename": "gcc/java/jcf-write.c", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06657dcd6ecd5778db641ef2db6abec43145b697/gcc%2Fjava%2Fjcf-write.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06657dcd6ecd5778db641ef2db6abec43145b697/gcc%2Fjava%2Fjcf-write.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjcf-write.c?ref=06657dcd6ecd5778db641ef2db6abec43145b697", "patch": "@@ -1960,8 +1960,15 @@ generate_bytecode_insns (exp, target, state)\n       /* Stack, if ARRAY_REF:  ..., [result, ] array, index, oldvalue. */\n       /* Stack, if COMPONENT_REF:  ..., [result, ] objectref, oldvalue. */\n       /* Stack, otherwise:  ..., [result, ] oldvalue. */\n-      if (size == 1)\n-\tpush_int_const (value, state);\n+      if (size == 1 || TREE_CODE (type) == REAL_TYPE)\n+\t{\n+\t  push_int_const (value, state);\n+\t  if (TREE_CODE (type) == REAL_TYPE)\n+\t    {\n+\t      RESERVE (1);\n+\t      OP1 (TYPE_PRECISION (type) == 32 ? OPCODE_i2f : OPCODE_i2d);\n+\t    }\n+\t}\n       else\n \tpush_long_const (value, (HOST_WIDE_INT)(value >= 0 ? 0 : -1), state);\n       NOTE_PUSH (size);"}]}