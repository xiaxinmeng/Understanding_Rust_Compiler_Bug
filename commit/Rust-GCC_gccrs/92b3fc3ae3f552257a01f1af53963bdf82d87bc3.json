{"sha": "92b3fc3ae3f552257a01f1af53963bdf82d87bc3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTJiM2ZjM2FlM2Y1NTIyNTdhMDFmMWFmNTM5NjNiZGY4MmQ4N2JjMw==", "commit": {"author": {"name": "Andreas Schwab", "email": "schwab@issan.cs.uni-dortmund.de", "date": "1999-05-17T01:18:59Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-05-17T01:18:59Z"}, "message": "990326-1.c: Force bitfields to be aligned.\n\n        * execute/990326-1.c: Force bitfields to be aligned.\n        (e4, f4): New tests.\n        (main): Call them.\n\nFrom-SVN: r26961", "tree": {"sha": "03cdfd481d803e1b442da212fdc32a4b216c7ec9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/03cdfd481d803e1b442da212fdc32a4b216c7ec9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/92b3fc3ae3f552257a01f1af53963bdf82d87bc3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92b3fc3ae3f552257a01f1af53963bdf82d87bc3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/92b3fc3ae3f552257a01f1af53963bdf82d87bc3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92b3fc3ae3f552257a01f1af53963bdf82d87bc3/comments", "author": null, "committer": null, "parents": [{"sha": "924e00ffb8f3758a6b4f815e4dc9b61e7619f0ce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/924e00ffb8f3758a6b4f815e4dc9b61e7619f0ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/924e00ffb8f3758a6b4f815e4dc9b61e7619f0ce"}], "stats": {"total": 47, "additions": 34, "deletions": 13}, "files": [{"sha": "ff2e800f2ecbf99357fb723625f255cc1333f7d1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/92b3fc3ae3f552257a01f1af53963bdf82d87bc3/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/92b3fc3ae3f552257a01f1af53963bdf82d87bc3/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=92b3fc3ae3f552257a01f1af53963bdf82d87bc3", "patch": "@@ -1,3 +1,9 @@\n+1999-05-17  Andreas Schwab  <schwab@issan.cs.uni-dortmund.de>\n+\n+\t* execute/990326-1.c: Force bitfields to be aligned.\n+\t(e4, f4): New tests.\n+\t(main): Call them.\n+\n 1999-05-13  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* gcc.dg/noreturn-1.c: New test."}, {"sha": "d7427cf85122b1172e29cc9f39bae54fd9a7d300", "filename": "gcc/testsuite/gcc.c-torture/execute/990326-1.c", "status": "modified", "additions": 28, "deletions": 13, "changes": 41, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/92b3fc3ae3f552257a01f1af53963bdf82d87bc3/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F990326-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/92b3fc3ae3f552257a01f1af53963bdf82d87bc3/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F990326-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F990326-1.c?ref=92b3fc3ae3f552257a01f1af53963bdf82d87bc3", "patch": "@@ -58,7 +58,7 @@ b3()\n \n struct c {\n \tunsigned int c:4, b:14, a:14;\n-};\n+} __attribute__ ((aligned));\n \n int\n c1()\n@@ -86,7 +86,7 @@ c3()\n \n struct d {\n \tunsigned int a:14, b:14, c:4;\n-};\n+} __attribute__ ((aligned));\n \n int\n d1()\n@@ -114,7 +114,7 @@ d3()\n \n struct e {\n \tint c:4, b:14, a:14;\n-};\n+} __attribute__ ((aligned));\n \n int\n e1()\n@@ -140,9 +140,17 @@ e3()\n \treturn ((x.a & ~8) == (y.a & ~32) && (x.b & ~64) == (y.b & ~16));\n }\n \n+int\n+e4()\n+{\n+\tstatic struct e x = { -1, -1, 0 };\n+\n+\treturn x.a == 0 && x.b & 0x2000;\n+}\n+\n struct f {\n \tint a:14, b:14, c:4;\n-};\n+} __attribute__ ((aligned));\n \n int\n f1()\n@@ -168,12 +176,20 @@ f3()\n \treturn ((x.a & ~8) == (y.a & ~32) && (x.b & ~64) == (y.b & ~16));\n }\n \n+int\n+f4()\n+{\n+\tstatic struct f x = { 0, -1, -1 };\n+\n+\treturn x.a == 0 && x.b & 0x2000;\n+}\n+\n struct gx {\n \tint c:4, b:14, a:14;\n-};\n+} __attribute__ ((aligned));\n struct gy {\n \tint b:14, a:14, c:4;\n-};\n+} __attribute__ ((aligned));\n \n int\n g1()\n@@ -244,10 +260,10 @@ g7()\n \n struct hx {\n \tint a:14, b:14, c:4;\n-};\n+} __attribute__ ((aligned));\n struct hy {\n \tint c:4, a:14, b:14;\n-};\n+} __attribute__ ((aligned));\n \n int\n h1()\n@@ -316,11 +332,6 @@ h7()\n \t\t(x.b & 0x3ff0) == (y.b & 0x03ff));\n }\n \n-struct foo {\n-        int junk;                       /* this is to force alignment */\n-        unsigned char w, x, y, z;\n-};\n-\n int\n main()\n {\n@@ -354,12 +365,16 @@ main()\n     abort ();\n   if (!e3 ())\n     abort ();\n+  if (!e4 ())\n+    abort ();\n   if (!f1 ())\n     abort ();\n   if (!f2 ())\n     abort ();\n   if (!f3 ())\n     abort ();\n+  if (!f4 ())\n+    abort ();\n   if (!g1 ())\n     abort ();\n   if (!g2 ())"}]}