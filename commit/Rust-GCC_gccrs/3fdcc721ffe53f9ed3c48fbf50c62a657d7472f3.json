{"sha": "3fdcc721ffe53f9ed3c48fbf50c62a657d7472f3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2ZkY2M3MjFmZmU1M2Y5ZWQzYzQ4ZmJmNTBjNjJhNjU3ZDc0NzJmMw==", "commit": {"author": {"name": "H.J. Lu", "email": "hjl@gnu.org", "date": "1998-01-27T09:28:32Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-01-27T09:28:32Z"}, "message": "configure.in (topsrcdir): New.\n\n        * configure.in (topsrcdir): New.\n        (configdirs): Check ${topsrcdir}/gcc instead.\n        (config-ml.in): Use ${topsrcdir}/config-ml.in.\n        * tests/configure.in (topsrcdir): New.\n        (check): Check ${topsrcdir}/gcc instead.\nFixes multilib problems when srcdir == objdir.\n\nFrom-SVN: r17505", "tree": {"sha": "78ef71c55f182335c942449e54151cd5a30ac1e1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/78ef71c55f182335c942449e54151cd5a30ac1e1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3fdcc721ffe53f9ed3c48fbf50c62a657d7472f3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3fdcc721ffe53f9ed3c48fbf50c62a657d7472f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3fdcc721ffe53f9ed3c48fbf50c62a657d7472f3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3fdcc721ffe53f9ed3c48fbf50c62a657d7472f3/comments", "author": null, "committer": null, "parents": [{"sha": "7b6ffd1189e854afec67a05baca2e1a58819b5b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b6ffd1189e854afec67a05baca2e1a58819b5b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b6ffd1189e854afec67a05baca2e1a58819b5b3"}], "stats": {"total": 46, "additions": 33, "deletions": 13}, "files": [{"sha": "6f3d31a67b1651997dbe1af42dcbed897cff25cf", "filename": "libstdc++/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3fdcc721ffe53f9ed3c48fbf50c62a657d7472f3/libstdc%2B%2B%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3fdcc721ffe53f9ed3c48fbf50c62a657d7472f3/libstdc%2B%2B%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B%2FChangeLog?ref=3fdcc721ffe53f9ed3c48fbf50c62a657d7472f3", "patch": "@@ -1,3 +1,12 @@\n+Tue Jan 27 10:29:44 1998  H.J. Lu  (hjl@gnu.org)\n+\n+\t* configure.in (topsrcdir): New.\n+\t(configdirs): Check ${topsrcdir}/gcc instead.\n+\t(config-ml.in): Use ${topsrcdir}/config-ml.in.\n+\n+\t* tests/configure.in (topsrcdir): New.\n+\t(check): Check ${topsrcdir}/gcc instead.\n+\n Sun Jan 25 14:01:50 1998  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* std/bastring.h (unique): We only need length bytes."}, {"sha": "352a94489d8ea50c3db17b7909d9ba22b1aefe1c", "filename": "libstdc++/configure.in", "status": "modified", "additions": 12, "deletions": 10, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3fdcc721ffe53f9ed3c48fbf50c62a657d7472f3/libstdc%2B%2B%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3fdcc721ffe53f9ed3c48fbf50c62a657d7472f3/libstdc%2B%2B%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B%2Fconfigure.in?ref=3fdcc721ffe53f9ed3c48fbf50c62a657d7472f3", "patch": "@@ -2,7 +2,17 @@\n # necessary for a configure script to process the program in\n # this directory.  For more information, look at ../configure.\n \n-if [ -d ${srcdir}/../gcc ] ; then\n+if [ \"${srcdir}\" = \".\" ] ; then\n+  if [ \"${with_target_subdir}\" != \".\" ] ; then\n+    topsrcdir=${with_multisrctop}../..\n+  else\n+    topsrcdir=${with_multisrctop}..\n+  fi\n+else\n+  topsrcdir=${srcdir}/..\n+fi\n+\n+if [ -d ${topsrcdir}/gcc ] ; then\n   configdirs=\"tests testsuite\"\n else\n   configdirs=\"tests\"\n@@ -86,12 +96,4 @@ if [ -n \"${with_cross_host}\" ] ; then\n     mv -f Makefile.tem Makefile\n fi\n \n-if [ \"${srcdir}\" = \".\" ] ; then\n-  if [ \"${with_target_subdir}\" != \".\" ] ; then\n-    . ${with_multisrctop}../../config-ml.in\n-  else\n-    . ${with_multisrctop}../config-ml.in\n-  fi\n-else\n-  . ${srcdir}/../config-ml.in\n-fi\n+. ${topsrcdir}/config-ml.in"}, {"sha": "1266bd26fb39506897a43853a5873d813751b419", "filename": "libstdc++/tests/configure.in", "status": "modified", "additions": 12, "deletions": 3, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3fdcc721ffe53f9ed3c48fbf50c62a657d7472f3/libstdc%2B%2B%2Ftests%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3fdcc721ffe53f9ed3c48fbf50c62a657d7472f3/libstdc%2B%2B%2Ftests%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B%2Ftests%2Fconfigure.in?ref=3fdcc721ffe53f9ed3c48fbf50c62a657d7472f3", "patch": "@@ -43,13 +43,22 @@ for TEST in ${TESTS} ; do\n   echo '\tdiff -c $(srcdir)/'\"${TEST}.exp ${TEST}.out\"  >>Makefile\n   CHECK=\"${CHECK} check-${TEST}\"\n done\n-if [ -d ${srcdir}/../../gcc ] ; then\n+\n+if [ \"${srcdir}\" = \".\" ] ; then\n+  if [ \"${with_target_subdir}\" != \".\" ] ; then\n+    topsrcdir=${with_multisrctop}../../..\n+  else\n+    topsrcdir=${with_multisrctop}../..\n+  fi\n+else\n+  topsrcdir=${srcdir}/../..\n+fi\n+\n+if [ -d ${topsrcdir}/gcc ] ; then\n   echo \"\n check:\n check-old: ${CHECK}\" >>Makefile\n else\n   echo \"\n check: ${CHECK}\" >>Makefile\n fi\n-\n-"}]}