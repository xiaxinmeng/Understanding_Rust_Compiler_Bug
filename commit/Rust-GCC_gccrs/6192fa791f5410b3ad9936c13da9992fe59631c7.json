{"sha": "6192fa791f5410b3ad9936c13da9992fe59631c7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjE5MmZhNzkxZjU0MTBiM2FkOTkzNmMxM2RhOTk5MmZlNTk2MzFjNw==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2014-06-16T09:25:26Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2014-06-16T09:25:26Z"}, "message": "tree-vect-data-refs.c (vect_can_force_dr_alignment_p): Check again DECL_IN_CONSTANT_POOL and TREE_ASM_WRITTEN.\n\n\t* tree-vect-data-refs.c (vect_can_force_dr_alignment_p): Check again\n\tDECL_IN_CONSTANT_POOL and TREE_ASM_WRITTEN.\n\nFrom-SVN: r211700", "tree": {"sha": "29caf4f477a95e9fc2d2b3e2954b896b9706df2d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/29caf4f477a95e9fc2d2b3e2954b896b9706df2d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6192fa791f5410b3ad9936c13da9992fe59631c7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6192fa791f5410b3ad9936c13da9992fe59631c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6192fa791f5410b3ad9936c13da9992fe59631c7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6192fa791f5410b3ad9936c13da9992fe59631c7/comments", "author": null, "committer": null, "parents": [{"sha": "8946c29ea82657cb45e26209c839623294009bde", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8946c29ea82657cb45e26209c839623294009bde", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8946c29ea82657cb45e26209c839623294009bde"}], "stats": {"total": 15, "additions": 14, "deletions": 1}, "files": [{"sha": "abb63acb2193655abcd5c33acd50f52e9610d819", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6192fa791f5410b3ad9936c13da9992fe59631c7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6192fa791f5410b3ad9936c13da9992fe59631c7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6192fa791f5410b3ad9936c13da9992fe59631c7", "patch": "@@ -1,3 +1,8 @@\n+2014-06-15  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* tree-vect-data-refs.c (vect_can_force_dr_alignment_p): Check again\n+\tDECL_IN_CONSTANT_POOL and TREE_ASM_WRITTEN.\n+\n 2014-06-16  Yury Gribov  <y.gribov@samsung.com>\n \n \t* asan.c (check_func): New function.\n@@ -38,8 +43,10 @@\n \n 2014-06-15  Jan Hubicka  <hubicka@ucw.cz>\n \n+\t* c-family/c-common.c (handle_tls_model_attribute): Use set_decl_tls_model.\n \t* c-family/c-common.c (handle_tls_model_attribute): Use\n \tset_decl_tls_model.\n+>>>>>>> .r211699\n \t* cgraph.h (struct varpool_node): Add tls_model.\n \t* tree.c (decl_tls_model, set_decl_tls_model): New functions.\n \t* tree.h (DECL_TLS_MODEL): Update."}, {"sha": "1d40055bf9876bf145692c1f299436e16513f00a", "filename": "gcc/tree-vect-data-refs.c", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6192fa791f5410b3ad9936c13da9992fe59631c7/gcc%2Ftree-vect-data-refs.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6192fa791f5410b3ad9936c13da9992fe59631c7/gcc%2Ftree-vect-data-refs.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-data-refs.c?ref=6192fa791f5410b3ad9936c13da9992fe59631c7", "patch": "@@ -5317,7 +5317,13 @@ vect_can_force_dr_alignment_p (const_tree decl, unsigned int alignment)\n   if (TREE_CODE (decl) != VAR_DECL)\n     return false;\n \n-  gcc_assert (!TREE_ASM_WRITTEN (decl));\n+  /* With -fno-toplevel-reorder we may have already output the constant.  */\n+  if (TREE_ASM_WRITTEN (decl))\n+    return false;\n+\n+  /* Constant pool entries may be shared and not properly merged by LTO.  */\n+  if (DECL_IN_CONSTANT_POOL (decl))\n+    return false;\n \n   if (TREE_PUBLIC (decl) || DECL_EXTERNAL (decl))\n     {"}]}