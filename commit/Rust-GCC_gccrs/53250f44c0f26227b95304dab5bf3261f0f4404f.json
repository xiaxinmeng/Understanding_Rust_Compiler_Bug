{"sha": "53250f44c0f26227b95304dab5bf3261f0f4404f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTMyNTBmNDRjMGYyNjIyN2I5NTMwNGRhYjViZjMyNjFmMGY0NDA0Zg==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernds@redhat.com", "date": "2016-02-15T12:06:44Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2016-02-15T12:06:44Z"}, "message": "Avoid removing sets of a pseudo PIC register in LRA.\n\n\tPR rtl-optimization/69648\n\t* lra-constraints.c (update_ebb_live_info): Don't remove sets of\n\tpic_offset_table_rtx.\n\nFrom-SVN: r233424", "tree": {"sha": "ae1aeb8343b7632bb541ef5282eb22b2a0f38390", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ae1aeb8343b7632bb541ef5282eb22b2a0f38390"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/53250f44c0f26227b95304dab5bf3261f0f4404f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53250f44c0f26227b95304dab5bf3261f0f4404f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/53250f44c0f26227b95304dab5bf3261f0f4404f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53250f44c0f26227b95304dab5bf3261f0f4404f/comments", "author": null, "committer": null, "parents": [{"sha": "07b383317d572118690c82d58da9536b1ed44a72", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07b383317d572118690c82d58da9536b1ed44a72", "html_url": "https://github.com/Rust-GCC/gccrs/commit/07b383317d572118690c82d58da9536b1ed44a72"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "61118d222bac8ef2b251d6b26d6df954c3c17771", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53250f44c0f26227b95304dab5bf3261f0f4404f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53250f44c0f26227b95304dab5bf3261f0f4404f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=53250f44c0f26227b95304dab5bf3261f0f4404f", "patch": "@@ -1,5 +1,9 @@\n 2016-02-15  Bernd Schmidt  <bschmidt@redhat.com>\n \n+\tPR rtl-optimization/69648\n+\t* lra-constraints.c (update_ebb_live_info): Don't remove sets of\n+\tpic_offset_table_rtx.\n+\n \tPR rtl-optimization/69752\n \t* ira.c (update_equiv_regs): When looking for more than a single SET,\n \talso take other side effects into account."}, {"sha": "f33f8c54876cd0454983bb7cb2d26cf4683dbc81", "filename": "gcc/lra-constraints.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53250f44c0f26227b95304dab5bf3261f0f4404f/gcc%2Flra-constraints.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53250f44c0f26227b95304dab5bf3261f0f4404f/gcc%2Flra-constraints.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flra-constraints.c?ref=53250f44c0f26227b95304dab5bf3261f0f4404f", "patch": "@@ -5178,8 +5178,10 @@ update_ebb_live_info (rtx_insn *head, rtx_insn *tail)\n       curr_id = lra_get_insn_recog_data (curr_insn);\n       curr_static_id = curr_id->insn_static_data;\n       remove_p = false;\n-      if ((set = single_set (curr_insn)) != NULL_RTX && REG_P (SET_DEST (set))\n+      if ((set = single_set (curr_insn)) != NULL_RTX\n+\t  && REG_P (SET_DEST (set))\n \t  && (regno = REGNO (SET_DEST (set))) >= FIRST_PSEUDO_REGISTER\n+\t  && SET_DEST (set) != pic_offset_table_rtx\n \t  && bitmap_bit_p (&check_only_regs, regno)\n \t  && ! bitmap_bit_p (&live_regs, regno))\n \tremove_p = true;"}]}