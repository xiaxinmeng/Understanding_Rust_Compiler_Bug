{"sha": "9eb8a531c0127cff8323c43fc9b148e585cd9288", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWViOGE1MzFjMDEyN2NmZjgzMjNjNDNmYzliMTQ4ZTU4NWNkOTI4OA==", "commit": {"author": {"name": "Bob Wilson", "email": "bob.wilson@acm.org", "date": "2006-08-25T16:13:54Z"}, "committer": {"name": "Bob Wilson", "email": "bwilson@gcc.gnu.org", "date": "2006-08-25T16:13:54Z"}, "message": "xtensa.h (ASM_OUTPUT_POOL_PROLOGUE): Do not emit a literal_prefix directive.\n\n\t* config/xtensa/xtensa.h (ASM_OUTPUT_POOL_PROLOGUE): Do not emit a\n\tliteral_prefix directive.\n\t(XTENSA_DECLARE_FUNCTION_SIZE): Delete.\n\t* config/xtensa/linux.h (ASM_DECLARE_FUNCTION_SIZE): Delete.\n\t* config/xtensa/elf.h (ASM_DECLARE_FUNCTION_SIZE): Delete.\n\nFrom-SVN: r116403", "tree": {"sha": "8b5b8faa37256845dd613ea224abcc08250d5f55", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8b5b8faa37256845dd613ea224abcc08250d5f55"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9eb8a531c0127cff8323c43fc9b148e585cd9288", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9eb8a531c0127cff8323c43fc9b148e585cd9288", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9eb8a531c0127cff8323c43fc9b148e585cd9288", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9eb8a531c0127cff8323c43fc9b148e585cd9288/comments", "author": null, "committer": null, "parents": [{"sha": "7849b3de894a9e76cff084f4cd58c28c722b8713", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7849b3de894a9e76cff084f4cd58c28c722b8713", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7849b3de894a9e76cff084f4cd58c28c722b8713"}], "stats": {"total": 56, "additions": 10, "deletions": 46}, "files": [{"sha": "c228c3c3626c43dffecb106db680e6f30ab77b27", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9eb8a531c0127cff8323c43fc9b148e585cd9288/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9eb8a531c0127cff8323c43fc9b148e585cd9288/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9eb8a531c0127cff8323c43fc9b148e585cd9288", "patch": "@@ -1,3 +1,11 @@\n+2006-08-25  Bob Wilson  <bob.wilson@acm.org>\n+\n+\t* config/xtensa/xtensa.h (ASM_OUTPUT_POOL_PROLOGUE): Do not emit a\n+\tliteral_prefix directive.\n+\t(XTENSA_DECLARE_FUNCTION_SIZE): Delete.\n+\t* config/xtensa/linux.h (ASM_DECLARE_FUNCTION_SIZE): Delete.\n+\t* config/xtensa/elf.h (ASM_DECLARE_FUNCTION_SIZE): Delete.\n+\n 2006-08-25  David Edelsohn  <edelsohn@gnu.org>\n \n \tPR target/28753"}, {"sha": "34cf379cb0dc897bff85dd9ed694844449eb32e7", "filename": "gcc/config/xtensa/elf.h", "status": "modified", "additions": 0, "deletions": 13, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9eb8a531c0127cff8323c43fc9b148e585cd9288/gcc%2Fconfig%2Fxtensa%2Felf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9eb8a531c0127cff8323c43fc9b148e585cd9288/gcc%2Fconfig%2Fxtensa%2Felf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Felf.h?ref=9eb8a531c0127cff8323c43fc9b148e585cd9288", "patch": "@@ -80,19 +80,6 @@ Software Foundation, 51 Franklin Street, Fifth Floor, Boston, MA\n /* Do not force \"-fpic\" for this target.  */\n #define XTENSA_ALWAYS_PIC 0\n \n-/* Redefine the standard ELF version of ASM_DECLARE_FUNCTION_SIZE to\n-   allow adding the \".end literal_prefix\" directive at the end of the\n-   function.  */\n-#undef ASM_DECLARE_FUNCTION_SIZE\n-#define ASM_DECLARE_FUNCTION_SIZE(FILE, FNAME, DECL)\t\t\\\n-  do\t\t\t\t\t\t\t\t\\\n-    {\t\t\t\t\t\t\t\t\\\n-      if (!flag_inhibit_size_directive)\t\t\t\t\\\n-\tASM_OUTPUT_MEASURED_SIZE (FILE, FNAME);\t\t\t\\\n-      XTENSA_DECLARE_FUNCTION_SIZE(FILE, FNAME, DECL);\t\t\\\n-    }\t\t\t\t\t\t\t\t\\\n-  while (0)\n-\n /* Search for headers in $tooldir/arch/include and for libraries and\n    startfiles in $tooldir/arch/lib.  */\n #define GCC_DRIVER_HOST_INITIALIZATION \\"}, {"sha": "71f6fc6de89d33be15d5d65d36370e7f27e63b0c", "filename": "gcc/config/xtensa/linux.h", "status": "modified", "additions": 0, "deletions": 13, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9eb8a531c0127cff8323c43fc9b148e585cd9288/gcc%2Fconfig%2Fxtensa%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9eb8a531c0127cff8323c43fc9b148e585cd9288/gcc%2Fconfig%2Fxtensa%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Flinux.h?ref=9eb8a531c0127cff8323c43fc9b148e585cd9288", "patch": "@@ -60,16 +60,3 @@ Software Foundation, 51 Franklin Street, Fifth Floor, Boston, MA\n \n /* Always enable \"-fpic\" for Xtensa Linux.  */\n #define XTENSA_ALWAYS_PIC 1\n-\n-/* Redefine the standard ELF version of ASM_DECLARE_FUNCTION_SIZE to\n-   allow adding the \".end literal_prefix\" directive at the end of the\n-   function.  */\n-#undef ASM_DECLARE_FUNCTION_SIZE\n-#define ASM_DECLARE_FUNCTION_SIZE(FILE, FNAME, DECL)\t\t\\\n-  do\t\t\t\t\t\t\t\t\\\n-    {\t\t\t\t\t\t\t\t\\\n-      if (!flag_inhibit_size_directive)\t\t\t\t\\\n-\tASM_OUTPUT_MEASURED_SIZE (FILE, FNAME);\t\t\t\\\n-      XTENSA_DECLARE_FUNCTION_SIZE(FILE, FNAME, DECL);\t\t\\\n-    }\t\t\t\t\t\t\t\t\\\n-  while (0)"}, {"sha": "c290a382417cfc03b9a0e1a3486123dc7c239eee", "filename": "gcc/config/xtensa/xtensa.h", "status": "modified", "additions": 2, "deletions": 20, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9eb8a531c0127cff8323c43fc9b148e585cd9288/gcc%2Fconfig%2Fxtensa%2Fxtensa.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9eb8a531c0127cff8323c43fc9b148e585cd9288/gcc%2Fconfig%2Fxtensa%2Fxtensa.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Fxtensa.h?ref=9eb8a531c0127cff8323c43fc9b148e585cd9288", "patch": "@@ -1193,36 +1193,18 @@ typedef struct xtensa_args\n #define BSS_SECTION_ASM_OP\t\"\\t.section\\t.bss\"\n \n \n-/* Define output to appear before the constant pool.  If the function\n-   has been assigned to a specific ELF section, or if it goes into a\n-   unique section, set the name of that section to be the literal\n-   prefix.  */\n+/* Define output to appear before the constant pool.  */\n #define ASM_OUTPUT_POOL_PROLOGUE(FILE, FUNNAME, FUNDECL, SIZE)          \\\n   do {\t\t\t\t\t\t\t\t\t\\\n-    tree fnsection;\t\t\t\t\t\t\t\\\n-    resolve_unique_section ((FUNDECL), 0, flag_function_sections);\t\\\n-    fnsection = DECL_SECTION_NAME (FUNDECL);\t\t\t\t\\\n-    if (fnsection != NULL_TREE)\t\t\t\t\t\t\\\n-      {\t\t\t\t\t\t\t\t\t\\\n-\tconst char *fnsectname = TREE_STRING_POINTER (fnsection);\t\\\n-\tfprintf (FILE, \"\\t.begin\\tliteral_prefix %s\\n\",\t\t\t\\\n-\t\t strcmp (fnsectname, \".text\") ? fnsectname : \"\");\t\\\n-      }\t\t\t\t\t\t\t\t\t\\\n     if ((SIZE) > 0)\t\t\t\t\t\t\t\\\n       {\t\t\t\t\t\t\t\t\t\\\n+\tresolve_unique_section ((FUNDECL), 0, flag_function_sections);\t\\\n \tswitch_to_section (function_section (FUNDECL));\t\t\t\\\n \tfprintf (FILE, \"\\t.literal_position\\n\");\t\t\t\\\n       }\t\t\t\t\t\t\t\t\t\\\n   } while (0)\n \n \n-/* Define code to write out the \".end literal_prefix\" directive for a\n-   function in a special section.  This is appended to the standard ELF\n-   code for ASM_DECLARE_FUNCTION_SIZE.  */\n-#define XTENSA_DECLARE_FUNCTION_SIZE(FILE, FNAME, DECL)\t\t\t\\\n-  if (DECL_SECTION_NAME (DECL) != NULL_TREE)\t\t\t\t\\\n-    fprintf (FILE, \"\\t.end\\tliteral_prefix\\n\")\n-\n /* A C statement (with or without semicolon) to output a constant in\n    the constant pool, if it needs special treatment.  */\n #define ASM_OUTPUT_SPECIAL_POOL_ENTRY(FILE, X, MODE, ALIGN, LABELNO, JUMPTO) \\"}]}