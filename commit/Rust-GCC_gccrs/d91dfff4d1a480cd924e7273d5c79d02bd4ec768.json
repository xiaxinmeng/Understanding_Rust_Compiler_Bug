{"sha": "d91dfff4d1a480cd924e7273d5c79d02bd4ec768", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDkxZGZmZjRkMWE0ODBjZDkyNGU3MjczZDVjNzlkMDJiZDRlYzc2OA==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "amylaar@cygnus.co.uk", "date": "1999-01-27T11:35:30Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "1999-01-27T11:35:30Z"}, "message": "function.c (purge_addressof_1): Handle case when a register has been used in a wider mode.\n\n\t* function.c (purge_addressof_1): Handle case when a register\n\thas been used in a wider mode.\n\nFrom-SVN: r24887", "tree": {"sha": "933b0d05eb053d65f6b7b33bc67abec736876c46", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/933b0d05eb053d65f6b7b33bc67abec736876c46"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d91dfff4d1a480cd924e7273d5c79d02bd4ec768", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d91dfff4d1a480cd924e7273d5c79d02bd4ec768", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d91dfff4d1a480cd924e7273d5c79d02bd4ec768", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d91dfff4d1a480cd924e7273d5c79d02bd4ec768/comments", "author": null, "committer": null, "parents": [{"sha": "a1660badb60537faafc659b24e2bc95a4b5fccba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a1660badb60537faafc659b24e2bc95a4b5fccba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a1660badb60537faafc659b24e2bc95a4b5fccba"}], "stats": {"total": 20, "additions": 19, "deletions": 1}, "files": [{"sha": "6da65eeeaf0d8a6d14daabe0faf7cdb042a5d42f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d91dfff4d1a480cd924e7273d5c79d02bd4ec768/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d91dfff4d1a480cd924e7273d5c79d02bd4ec768/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d91dfff4d1a480cd924e7273d5c79d02bd4ec768", "patch": "@@ -1,3 +1,8 @@\n+Wed Jan 27 19:31:36 1999  J\"orn Rennecke <amylaar@cygnus.co.uk>\n+\n+\t* function.c (purge_addressof_1): Handle case when a register\n+\thas been used in a wider mode.\n+\n Wed Jan 27 11:58:18 1999  Dave Brolley  <brolley@cygnus.com>\n \n \t* cpplib.h (cpp_notice): Add prototype."}, {"sha": "e2c836d6ff1031d0c483f3a10b314e5c666cacf6", "filename": "gcc/function.c", "status": "modified", "additions": 14, "deletions": 1, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d91dfff4d1a480cd924e7273d5c79d02bd4ec768/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d91dfff4d1a480cd924e7273d5c79d02bd4ec768/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=d91dfff4d1a480cd924e7273d5c79d02bd4ec768", "patch": "@@ -2939,7 +2939,20 @@ purge_addressof_1 (loc, insn, force, store)\n \t\t\t      < GET_MODE_SIZE (GET_MODE (y)))\n \t\t\t    abort ();\n \n-\t\t\t  z = gen_lowpart (GET_MODE (x), z);\n+\t\t\t  if (GET_MODE_SIZE (GET_MODE (x)) > UNITS_PER_WORD\n+\t\t\t      && (GET_MODE_SIZE (GET_MODE (x))\n+\t\t\t\t  > GET_MODE_SIZE (GET_MODE (z))))\n+\t\t\t    {\n+\t\t\t      /* This can occur as a result in invalid\n+\t\t\t\t pointer casts, e.g. float f; ... \n+\t\t\t\t *(long long int *)&f.\n+\t\t\t\t ??? We could emit a warning here, but\n+\t\t\t\t without a line number that wouldn't be\n+\t\t\t\t very helpful.  */\n+\t\t\t      z = gen_rtx_SUBREG (GET_MODE (x), z, 0);\n+\t\t\t    }\n+\t\t\t  else\n+\t\t\t    z = gen_lowpart (GET_MODE (x), z);\n \t\t\t}\n \n \t\t      *loc = z;"}]}