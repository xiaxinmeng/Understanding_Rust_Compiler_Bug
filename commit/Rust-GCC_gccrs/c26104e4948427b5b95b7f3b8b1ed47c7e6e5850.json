{"sha": "c26104e4948427b5b95b7f3b8b1ed47c7e6e5850", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzI2MTA0ZTQ5NDg0MjdiNWI5NWI3ZjNiOGIxZWQ0N2M3ZTZlNTg1MA==", "commit": {"author": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "2005-08-17T19:44:24Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "2005-08-17T19:44:24Z"}, "message": "sh.c (sh_gimplify_va_arg_expr): Don't substitute a RECORD_TYPE record with the type of its only member if...\n\n\t* sh.c (sh_gimplify_va_arg_expr): Don't substitute a RECORD_TYPE\n\trecord with the type of its only member if the modes don't match.\n\nFrom-SVN: r103223", "tree": {"sha": "f97337e92acb3af9df7008fe90433c142f97e6a1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f97337e92acb3af9df7008fe90433c142f97e6a1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c26104e4948427b5b95b7f3b8b1ed47c7e6e5850", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c26104e4948427b5b95b7f3b8b1ed47c7e6e5850", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c26104e4948427b5b95b7f3b8b1ed47c7e6e5850", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c26104e4948427b5b95b7f3b8b1ed47c7e6e5850/comments", "author": null, "committer": null, "parents": [{"sha": "dd0ae678ee0607a9d7bd758785bcecd654471dfa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd0ae678ee0607a9d7bd758785bcecd654471dfa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd0ae678ee0607a9d7bd758785bcecd654471dfa"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "12055408dd240fff34d0f087ebd2952a05dc9787", "filename": "gcc/config/sh/sh.c", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c26104e4948427b5b95b7f3b8b1ed47c7e6e5850/gcc%2Fconfig%2Fsh%2Fsh.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c26104e4948427b5b95b7f3b8b1ed47c7e6e5850/gcc%2Fconfig%2Fsh%2Fsh.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.c?ref=c26104e4948427b5b95b7f3b8b1ed47c7e6e5850", "patch": "@@ -6684,7 +6684,15 @@ sh_gimplify_va_arg_expr (tree valist, tree type, tree *pre_p,\n \t  && (TREE_CODE (TREE_TYPE (TYPE_FIELDS (type))) == REAL_TYPE\n \t      || TREE_CODE (TREE_TYPE (TYPE_FIELDS (type))) == COMPLEX_TYPE)\n           && TREE_CHAIN (TYPE_FIELDS (type)) == NULL_TREE)\n-\ttype = TREE_TYPE (TYPE_FIELDS (type));\n+\t{\n+\t  tree field_type = TREE_TYPE (TYPE_FIELDS (type));\n+\n+\t  if (TYPE_MODE (type) == TYPE_MODE (field_type))\n+\t    type = field_type;\n+\t  else\n+\t    gcc_assert (TYPE_ALIGN (type)\n+\t\t\t< GET_MODE_ALIGNMENT (TYPE_MODE (field_type)));\n+\t}\n \n       if (TARGET_SH4)\n \t{"}]}