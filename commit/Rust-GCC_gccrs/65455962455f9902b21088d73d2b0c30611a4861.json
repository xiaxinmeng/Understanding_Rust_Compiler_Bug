{"sha": "65455962455f9902b21088d73d2b0c30611a4861", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjU0NTU5NjI0NTVmOTkwMmIyMTA4OGQ3M2QyYjBjMzA2MTFhNDg2MQ==", "commit": {"author": {"name": "Kelley Cook", "email": "kcook@gcc.gnu.org", "date": "2003-10-24T19:34:50Z"}, "committer": {"name": "R. Kelley Cook", "email": "kcook@gcc.gnu.org", "date": "2003-10-24T19:34:50Z"}, "message": "Makefile.in: Define a vpath for %.texi.\n\n2003-10-24  Kelley Cook  <kcook@gcc.gnu.org>\n\n\t* Makefile.in: Define a vpath for %.texi.  Remove explicit $(docdir)\n\tand $(docdir)/include from any *.texi dependencies.\n\t($(docobjdir)/%.dvi): Depend on stmp-docobjdir.\n\t($(docobjdir)/%.1): Depend on .pod instead of .texi.\n\t($(docobjdir)/%.7): Likewise.\n\t(%.pod): New implicit rule.\n\t(cpp.pod): New dependency only rule.\n\t(gcc.pod): New intermediate rule with dependencies and commands.\n\t(gfdl.pod): Likewise.\n\t(fsf-funding.pod): Likewise.\n\nFrom-SVN: r72905", "tree": {"sha": "f0b6471608672d98d62aefad13568d81765b8882", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f0b6471608672d98d62aefad13568d81765b8882"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/65455962455f9902b21088d73d2b0c30611a4861", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65455962455f9902b21088d73d2b0c30611a4861", "html_url": "https://github.com/Rust-GCC/gccrs/commit/65455962455f9902b21088d73d2b0c30611a4861", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65455962455f9902b21088d73d2b0c30611a4861/comments", "author": null, "committer": null, "parents": [{"sha": "e9b3872d54a884b9bd2449f1ec29ff0b01c5b101", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e9b3872d54a884b9bd2449f1ec29ff0b01c5b101", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e9b3872d54a884b9bd2449f1ec29ff0b01c5b101"}], "stats": {"total": 134, "additions": 77, "deletions": 57}, "files": [{"sha": "a392a2a42f9cb5d4dd9b628540a2b72f7b20a271", "filename": "gcc/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65455962455f9902b21088d73d2b0c30611a4861/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65455962455f9902b21088d73d2b0c30611a4861/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=65455962455f9902b21088d73d2b0c30611a4861", "patch": "@@ -1,3 +1,16 @@\n+2003-10-24  Kelley Cook  <kcook@gcc.gnu.org>\n+\n+\t* Makefile.in: Define a vpath for %.texi.  Remove explicit $(docdir)\n+\tand $(docdir)/include from any *.texi dependencies.\n+\t($(docobjdir)/%.dvi): Depend on stmp-docobjdir.\n+\t($(docobjdir)/%.1): Depend on .pod instead of .texi.\n+\t($(docobjdir)/%.7): Likewise.\n+\t(%.pod): New implicit rule.\n+\t(cpp.pod): New dependency only rule.\t\n+\t(gcc.pod): New intermediate rule with dependencies and commands.\n+\t(gfdl.pod): Likewise.\n+\t(fsf-funding.pod): Likewise.\n+\n 2003-10-24  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n \t* fixinc/mkfixinc.sh: Remove special cases for svr4 and ptx, and"}, {"sha": "ef9ba4aa6f0800df9bbab9d55f83d1dfca860e68", "filename": "gcc/Makefile.in", "status": "modified", "additions": 64, "deletions": 57, "changes": 121, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65455962455f9902b21088d73d2b0c30611a4861/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65455962455f9902b21088d73d2b0c30611a4861/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=65455962455f9902b21088d73d2b0c30611a4861", "patch": "@@ -56,9 +56,6 @@ MAKEOVERRIDES =\n # Standard autoconf-set variables\n # -------------------------------\n \n-# Directory where sources are, from where we are.\n-VPATH = @srcdir@\n-\n build=@build@\n host=@host@\n target=@target@\n@@ -88,6 +85,20 @@ top_builddir = ..\n # It's normally the absolute path to the current directory.\n objdir = @objdir@\n \n+# --------\n+# Defined vpaths\n+# --------\n+\n+# Directory where sources are, from where we are.\n+VPATH = @srcdir@\n+\n+# We define a vpath for the sources of the .texi files here because they \n+# are split between multiple directories and we would rather use one implicit\n+# pattern rule for everything.\n+# This vpath could be extended within the Make-lang fragments.\n+\n+vpath %.texi $(docdir):$(docdir)/include\n+\n # --------\n # UNSORTED\n # --------\n@@ -2617,55 +2628,46 @@ stmp-docobjdir:\n \t$(STAMP) stmp-docobjdir\n \n doc: $(BUILD_INFO) $(GENERATED_MANPAGES) gccbug\n-info:: $(docobjdir)/cpp.info $(docobjdir)/gcc.info $(docobjdir)/gccint.info $(docobjdir)/gccinstall.info $(docobjdir)/cppinternals.info\n-\n-TEXI_CPP_FILES = $(docdir)/cpp.texi $(docdir)/include/fdl.texi \\\n-  $(docdir)/cppenv.texi $(docdir)/cppopts.texi\n-\n-TEXI_GCC_FILES = $(docdir)/gcc.texi $(docdir)/include/gcc-common.texi \\\n-\t $(docdir)/frontends.texi $(docdir)/standards.texi \\\n-\t $(docdir)/invoke.texi $(docdir)/extend.texi $(docdir)/md.texi \\\n-\t $(docdir)/objc.texi $(docdir)/gcov.texi $(docdir)/trouble.texi \\\n-\t $(docdir)/bugreport.texi $(docdir)/service.texi \\\n-\t $(docdir)/contribute.texi $(docdir)/compat.texi \\\n-\t $(docdir)/include/funding.texi $(docdir)/gnu.texi \\\n-\t $(docdir)/include/gpl.texi $(docdir)/include/fdl.texi \\\n-\t $(docdir)/contrib.texi $(docdir)/cppenv.texi $(docdir)/cppopts.texi\n-\n-TEXI_GCCINT_FILES = $(docdir)/gccint.texi \\\n-\t $(docdir)/include/gcc-common.texi $(docdir)/contribute.texi \\\n-\t $(docdir)/makefile.texi $(docdir)/configterms.texi \\\n-\t $(docdir)/portability.texi $(docdir)/interface.texi \\\n-\t $(docdir)/passes.texi $(docdir)/c-tree.texi \\\n-\t $(docdir)/rtl.texi $(docdir)/md.texi $(docdir)/tm.texi \\\n-\t $(docdir)/hostconfig.texi $(docdir)/fragments.texi \\\n-\t $(docdir)/configfiles.texi $(docdir)/collect2.texi \\\n-\t $(docdir)/headerdirs.texi $(docdir)/include/funding.texi \\\n-\t $(docdir)/gnu.texi $(docdir)/include/gpl.texi \\\n-\t $(docdir)/include/fdl.texi $(docdir)/contrib.texi \\\n-\t $(docdir)/languages.texi $(docdir)/sourcebuild.texi \\\n-\t $(docdir)/gty.texi $(docdir)/libgcc.texi\n-\n-TEXI_GCCINSTALL_FILES = $(docdir)/install.texi $(docdir)/install-old.texi \\\n-\t $(docdir)/include/fdl.texi\n-\n-TEXI_CPPINT_FILES = $(docdir)/cppinternals.texi\n+info:: $(docobjdir)/cpp.info $(docobjdir)/gcc.info $(docobjdir)/gccint.info \\\n+\t $(docobjdir)/gccinstall.info $(docobjdir)/cppinternals.info\n+\n+TEXI_CPP_FILES = cpp.texi fdl.texi cppenv.texi cppopts.texi\n+\n+TEXI_GCC_FILES = gcc.texi gcc-common.texi frontends.texi standards.texi \\\n+\t invoke.texi extend.texi md.texi objc.texi gcov.texi trouble.texi \\\n+\t bugreport.texi service.texi contribute.texi compat.texi funding.texi \\\n+\t gnu.texi gpl.texi fdl.texi contrib.texi cppenv.texi cppopts.texi\n+\n+TEXI_GCCINT_FILES = gccint.texi gcc-common.texi contribute.texi makefile.texi \\\n+\t configterms.texi portability.texi interface.texi passes.texi \\\n+\t c-tree.texi rtl.texi md.texi tm.texi hostconfig.texi fragments.texi \\\n+\t configfiles.texi collect2.texi headerdirs.texi funding.texi gnu.texi \\\n+\t gpl.texi fdl.texi contrib.texi languages.texi sourcebuild.texi \\\n+\t gty.texi libgcc.texi\n+\n+TEXI_GCCINSTALL_FILES = install.texi install-old.texi fdl.texi\n+\n+TEXI_CPPINT_FILES = cppinternals.texi\n+\n+# The *.1, *.7, *.info, and *.dvi files are being generated from implicit \n+# patterns.   To use them, put each of the specific target with with their \n+# specific dependencies but no build commands.\n \n $(docobjdir)/cpp.info cpp.dvi: $(TEXI_CPP_FILES)\n $(docobjdir)/gcc.info gcc.dvi: $(TEXI_GCC_FILES)\n $(docobjdir)/gccint.info gccint.dvi: $(TEXI_GCCINT_FILES)\n $(docobjdir)/gccinstall.info gccinstall.dvi: $(TEXI_GCCINSTALL_FILES)\n $(docobjdir)/cppinternals.info cppinternals.dvi: $(TEXI_CPPINT_FILES)\n \n-$(docobjdir)/%.info: $(docdir)/%.texi stmp-docobjdir\n+$(docobjdir)/%.info: %.texi stmp-docobjdir\n \tif [ x$(BUILD_INFO) = xinfo ]; then \\\n \t\t$(MAKEINFO) $(MAKEINFOFLAGS) -I $(docdir) \\\n \t\t\t-I $(docdir)/include -o $@ $<; \\\n \tfi\n \n dvi:: gcc.dvi gccint.dvi gccinstall.dvi cpp.dvi cppinternals.dvi\n \n-%.dvi: $(docdir)/%.texi\n+%.dvi: %.texi stmp-docobjdir\n \t$(TEXI2DVI) -I $(docdir) -I $(docdir)/include $<\n \n gccinstall.dvi:\n@@ -2676,32 +2678,37 @@ generated-manpages:: $(docobjdir)/gcov.1 $(docobjdir)/cpp.1 \\\n \t$(docobjdir)/gcc.1 $(docobjdir)/gfdl.7 $(docobjdir)/gpl.7 \\\n \t$(docobjdir)/fsf-funding.7\n \n-$(docobjdir)/gcov.1: $(docdir)/gcov.texi\n-$(docobjdir)/cpp.1: $(docdir)/cpp.texi $(docdir)/cppenv.texi \\\n-  $(docdir)/cppopts.texi\n-$(docobjdir)/gcc.1: $(docdir)/invoke.texi $(docdir)/cppenv.texi \\\n-  $(docdir)/cppopts.texi\n-$(docobjdir)/gfdl.7: $(docdir)/include/fdl.texi\n-$(docobjdir)/gpl.7: $(docdir)/include/gpl.texi\n-$(docobjdir)/fsf-funding.7: $(docdir)/include/funding.texi\n-\n-$(docobjdir)/%.1: $(docdir)/%.texi stmp-docobjdir\n+$(docobjdir)/%.1: %.pod stmp-docobjdir\n \t$(STAMP) $@\n-\t-$(TEXI2POD) $< > $(basename $(notdir $@)).pod\n-\t-($(POD2MAN) --section=1 \\\n-\t\t\t$(basename $(notdir $@)).pod > $(@).T$$$$ && \\\n+\t-($(POD2MAN) --section=1 $< > $(@).T$$$$ && \\\n \t\tmv -f $(@).T$$$$ $@) || \\\n \t\t(rm -f $(@).T$$$$ && exit 1)\n-\t-rm -f $(basename $(notdir $@)).pod\n \n-$(docobjdir)/%.7: $(docdir)/%.texi stmp-docobjdir\n+$(docobjdir)/%.7: %.pod stmp-docobjdir\n \t$(STAMP) $@\n-\t-$(TEXI2POD) $< > $(basename $(notdir $@)).pod\n-\t-($(POD2MAN) --section=7 \\\n-\t\t\t$(basename $(notdir $@)).pod > $(@).T$$$$ && \\\n+\t-($(POD2MAN) --section=7 $< > $(@).T$$$$ && \\\n \t\tmv -f $(@).T$$$$ $@) || \\\n \t\t(rm -f $(@).T$$$$ && exit 1)\n-\t-rm -f $(basename $(notdir $@)).pod\n+\n+%.pod: %.texi\n+\t$(STAMP) $@\n+\t-$(TEXI2POD) $< > $@\n+\n+.INTERMEDIATE: cpp.pod gcc.pod gfdl.pod fsf-funding.pod\n+cpp.pod: cpp.texi cppenv.texi cppopts.texi\n+\n+# These next rules exist because the output name is not the same as\n+# the input name, so our implict %.pod rule will not work.\n+\n+gcc.pod: invoke.texi cppenv.texi cppopts.texi\n+\t$(STAMP) $@\n+\t-$(TEXI2POD) $< > $@\n+gfdl.pod: fdl.texi\n+\t$(STAMP) $@\n+\t-$(TEXI2POD) $< > $@\n+fsf-funding.pod: funding.texi\n+\t$(STAMP) $@\n+\t-$(TEXI2POD) $< > $@\n \n #\f\n # Deletion of files made during compilation."}]}