{"sha": "c0b1738da2f6682ed11ed77389e8ee9b3acd2448", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzBiMTczOGRhMmY2NjgyZWQxMWVkNzczODllOGVlOWIzYWNkMjQ0OA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gnat.com", "date": "2001-10-26T17:03:05Z"}, "committer": {"name": "Geert Bosch", "email": "bosch@gcc.gnu.org", "date": "2001-10-26T17:03:05Z"}, "message": "* gmem.c (__gnat_gmem_read_next): Properly check for EOF\n\nFrom-SVN: r46552", "tree": {"sha": "9a7b6858610b5c22805cf799de615e2737d3f72c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9a7b6858610b5c22805cf799de615e2737d3f72c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c0b1738da2f6682ed11ed77389e8ee9b3acd2448", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0b1738da2f6682ed11ed77389e8ee9b3acd2448", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c0b1738da2f6682ed11ed77389e8ee9b3acd2448", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0b1738da2f6682ed11ed77389e8ee9b3acd2448/comments", "author": null, "committer": null, "parents": [{"sha": "5b09c1536828dd5d11dc5755956357427dbacdc4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b09c1536828dd5d11dc5755956357427dbacdc4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5b09c1536828dd5d11dc5755956357427dbacdc4"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "c302afa307f54a50291c1ae651b88c5cf2fddde9", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0b1738da2f6682ed11ed77389e8ee9b3acd2448/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0b1738da2f6682ed11ed77389e8ee9b3acd2448/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=c0b1738da2f6682ed11ed77389e8ee9b3acd2448", "patch": "@@ -1,3 +1,7 @@\n+2001-10-26  Richard Kenner <kenner@gnat.com>\n+\n+\t* gmem.c (__gnat_gmem_read_next): Properly check for EOF\n+\n 2001-10-26  Richard Kenner <kenner@gnat.com>\n \n \t* decl.c (validate_size): Modify message for bad size to avoid "}, {"sha": "772667b629591c7220c390af83b26831cc3e733f", "filename": "gcc/ada/gmem.c", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0b1738da2f6682ed11ed77389e8ee9b3acd2448/gcc%2Fada%2Fgmem.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0b1738da2f6682ed11ed77389e8ee9b3acd2448/gcc%2Fada%2Fgmem.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgmem.c?ref=c0b1738da2f6682ed11ed77389e8ee9b3acd2448", "patch": "@@ -112,7 +112,7 @@ __gnat_gmem_initialize (dumpname)\n       fclose (gmemfile);\n       return 0;\n     }\n-  \n+\n   return 1;\n }\n \n@@ -140,16 +140,17 @@ __gnat_gmem_read_next (buf)\n {\n   void *addr;\n   int size;\n-  char c;\n+  int j;\n \n-  if ((c = fgetc (gmemfile)) == EOF)\n+  j = fgetc (gmemfile);\n+  if (j == EOF)\n     {\n       fclose (gmemfile);\n       sprintf (buf, \"Program exited.\");\n     }\n   else\n     {\n-      switch (c)\n+      switch (j)\n         {\n           case 'A' :\n             fread (&addr, sizeof (char *), 1, gmemfile);"}]}