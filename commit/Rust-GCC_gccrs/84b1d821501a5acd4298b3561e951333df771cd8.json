{"sha": "84b1d821501a5acd4298b3561e951333df771cd8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODRiMWQ4MjE1MDFhNWFjZDQyOThiMzU2MWU5NTEzMzNkZjc3MWNkOA==", "commit": {"author": {"name": "Bryce McKinlay", "email": "mckinlay@redhat.com", "date": "2004-06-14T15:51:37Z"}, "committer": {"name": "Bryce McKinlay", "email": "bryce@gcc.gnu.org", "date": "2004-06-14T15:51:37Z"}, "message": "Calendar.java: Change ResourceBundle.getBundle() calls to pass ClassLoader argument.\n\n\t* java/util/Calendar.java: Change ResourceBundle.getBundle() calls\n\tto pass ClassLoader argument.\n\t* java/util/GregorianCalendar.java: Likewise.\n\t* java/util/Currency.java: Likewise.\n\t* java/text/BreakIterator.java: Likewise.\n\t* java/text/Collator.java: Likewise.\n\t* java/text/DateFormat.java: Likewise.\n\t* java/text/DateFormatSymbols.java: Likewise.\n\t* java/text/DecimalFormatSymbols.java: Likewise.\n\t* java/text/NumberFormat.java: Likewise.\n\t* java/awt/Window.java: Likewise.\n\nFrom-SVN: r83109", "tree": {"sha": "0d5ac1145875ce1e119acfdcb3dbb91bf7d8f7d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0d5ac1145875ce1e119acfdcb3dbb91bf7d8f7d5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/84b1d821501a5acd4298b3561e951333df771cd8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84b1d821501a5acd4298b3561e951333df771cd8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84b1d821501a5acd4298b3561e951333df771cd8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84b1d821501a5acd4298b3561e951333df771cd8/comments", "author": null, "committer": null, "parents": [{"sha": "fc9c8ce15a97920e6bf0fedaa6c50631acff1a31", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fc9c8ce15a97920e6bf0fedaa6c50631acff1a31", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fc9c8ce15a97920e6bf0fedaa6c50631acff1a31"}], "stats": {"total": 43, "additions": 32, "deletions": 11}, "files": [{"sha": "8798912dfd81fc2ae6865c2143246c502ed608d7", "filename": "libjava/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84b1d821501a5acd4298b3561e951333df771cd8/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84b1d821501a5acd4298b3561e951333df771cd8/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=84b1d821501a5acd4298b3561e951333df771cd8", "patch": "@@ -1,3 +1,17 @@\n+2004-06-14  Bryce McKinlay  <mckinlay@redhat.com>\n+\n+\t* java/util/Calendar.java: Change ResourceBundle.getBundle() calls\n+\tto pass ClassLoader argument.\n+\t* java/util/GregorianCalendar.java: Likewise.\n+\t* java/util/Currency.java: Likewise.\n+\t* java/text/BreakIterator.java: Likewise.\n+\t* java/text/Collator.java: Likewise.\n+\t* java/text/DateFormat.java: Likewise.\n+\t* java/text/DateFormatSymbols.java: Likewise.\n+\t* java/text/DecimalFormatSymbols.java: Likewise.\n+\t* java/text/NumberFormat.java: Likewise.\n+\t* java/awt/Window.java: Likewise.\n+\n 2004-06-14  Andrew Haley  <aph@redhat.com>\n \n \t* java/lang/System.java: (getenv0): New method."}, {"sha": "2e198740b6f84639a6ccb3dcf6bb609d94dd7a85", "filename": "libjava/java/awt/Window.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84b1d821501a5acd4298b3561e951333df771cd8/libjava%2Fjava%2Fawt%2FWindow.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84b1d821501a5acd4298b3561e951333df771cd8/libjava%2Fjava%2Fawt%2FWindow.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fawt%2FWindow.java?ref=84b1d821501a5acd4298b3561e951333df771cd8", "patch": "@@ -703,7 +703,8 @@ public void applyResourceBundle(ResourceBundle rb)\n    */\n   public void applyResourceBundle(String rbName)\n   {\n-    ResourceBundle rb = ResourceBundle.getBundle(rbName);\n+    ResourceBundle rb = ResourceBundle.getBundle(rbName, Locale.getDefault(),\n+      Window.class.getClassLoader());\n     if (rb != null)\n       applyResourceBundle(rb);    \n   }"}, {"sha": "e97b6587707292d18041a18153771927cc047215", "filename": "libjava/java/text/BreakIterator.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84b1d821501a5acd4298b3561e951333df771cd8/libjava%2Fjava%2Ftext%2FBreakIterator.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84b1d821501a5acd4298b3561e951333df771cd8/libjava%2Fjava%2Ftext%2FBreakIterator.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Ftext%2FBreakIterator.java?ref=84b1d821501a5acd4298b3561e951333df771cd8", "patch": "@@ -136,7 +136,7 @@ private static BreakIterator getInstance (String type, Locale loc)\n       {\n \tResourceBundle res\n \t  = ResourceBundle.getBundle(\"gnu.java.locale.LocaleInformation\",\n-\t\t\t\t     loc);\n+\t\t\t\t     loc, BreakIterator.class.getClassLoader());\n \tclassName = res.getString(type);\n       }\n     catch (MissingResourceException x)"}, {"sha": "7797962d4f907fb648e99ec3e4d36d68250cf26a", "filename": "libjava/java/text/Collator.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84b1d821501a5acd4298b3561e951333df771cd8/libjava%2Fjava%2Ftext%2FCollator.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84b1d821501a5acd4298b3561e951333df771cd8/libjava%2Fjava%2Ftext%2FCollator.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Ftext%2FCollator.java?ref=84b1d821501a5acd4298b3561e951333df771cd8", "patch": "@@ -303,7 +303,7 @@ public static Collator getInstance (Locale loc)\n     try\n       {\n \tres = ResourceBundle.getBundle(\"gnu.java.locale.LocaleInformation\",\n-\t\t\t\t       loc);\n+\t\t\t\t       loc, Collator.class.getClassLoader());\n \tpattern = res.getString(\"collation_rules\");\n       }\n     catch (MissingResourceException x)"}, {"sha": "3b489fae7eb2692be8040082531ab78a6f422756", "filename": "libjava/java/text/DateFormat.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84b1d821501a5acd4298b3561e951333df771cd8/libjava%2Fjava%2Ftext%2FDateFormat.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84b1d821501a5acd4298b3561e951333df771cd8/libjava%2Fjava%2Ftext%2FDateFormat.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Ftext%2FDateFormat.java?ref=84b1d821501a5acd4298b3561e951333df771cd8", "patch": "@@ -325,7 +325,7 @@ private static final DateFormat computeInstance (int dateStyle,\n     try\n       {\n \tres = ResourceBundle.getBundle(\"gnu.java.locale.LocaleInformation\",\n-\t\t\t\t       loc);\n+\t\t\t\t       loc, DateFormat.class.getClassLoader());\n       }\n     catch (MissingResourceException x)\n       {"}, {"sha": "0d619516d36d882450c23c41dd36f978555ef6fc", "filename": "libjava/java/text/DateFormatSymbols.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84b1d821501a5acd4298b3561e951333df771cd8/libjava%2Fjava%2Ftext%2FDateFormatSymbols.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84b1d821501a5acd4298b3561e951333df771cd8/libjava%2Fjava%2Ftext%2FDateFormatSymbols.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Ftext%2FDateFormatSymbols.java?ref=84b1d821501a5acd4298b3561e951333df771cd8", "patch": "@@ -98,7 +98,8 @@ private String[] formatsForKey(ResourceBundle res, String key)\n   public DateFormatSymbols (Locale locale) throws MissingResourceException\n   {\n     ResourceBundle res\n-      = ResourceBundle.getBundle(\"gnu.java.locale.LocaleInformation\", locale);\n+      = ResourceBundle.getBundle(\"gnu.java.locale.LocaleInformation\", locale,\n+      \t\t\t\t getClass().getClassLoader());\n \n     ampms = res.getStringArray (\"ampms\");\n     eras = res.getStringArray (\"eras\");"}, {"sha": "39de36b7ae00c2e87f1ef42c8cda6b13a31a7c5f", "filename": "libjava/java/text/DecimalFormatSymbols.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84b1d821501a5acd4298b3561e951333df771cd8/libjava%2Fjava%2Ftext%2FDecimalFormatSymbols.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84b1d821501a5acd4298b3561e951333df771cd8/libjava%2Fjava%2Ftext%2FDecimalFormatSymbols.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Ftext%2FDecimalFormatSymbols.java?ref=84b1d821501a5acd4298b3561e951333df771cd8", "patch": "@@ -130,7 +130,7 @@ public DecimalFormatSymbols (Locale loc)\n     try\n       {\n \tres = ResourceBundle.getBundle(\"gnu.java.locale.LocaleInformation\",\n-\t\t\t\t       loc);\n+\t\tloc, DecimalFormatSymbols.class.getClassLoader());\n       }\n     catch (MissingResourceException x)\n       {"}, {"sha": "47a4eaae575a7b1fd71482e873dbb1895cf6d4d6", "filename": "libjava/java/text/NumberFormat.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84b1d821501a5acd4298b3561e951333df771cd8/libjava%2Fjava%2Ftext%2FNumberFormat.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84b1d821501a5acd4298b3561e951333df771cd8/libjava%2Fjava%2Ftext%2FNumberFormat.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Ftext%2FNumberFormat.java?ref=84b1d821501a5acd4298b3561e951333df771cd8", "patch": "@@ -310,7 +310,7 @@ private static final NumberFormat computeInstance (Locale loc,\n     try\n       {\n \tres = ResourceBundle.getBundle(\"gnu.java.locale.LocaleInformation\",\n-\t\t\t\t       loc);\n+\t\tloc, NumberFormat.class.getClassLoader());\n       }\n     catch (MissingResourceException x)\n       {"}, {"sha": "0c671e1c040f28e2c44816a79f47943b05ac1d2f", "filename": "libjava/java/util/Calendar.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84b1d821501a5acd4298b3561e951333df771cd8/libjava%2Fjava%2Futil%2FCalendar.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84b1d821501a5acd4298b3561e951333df771cd8/libjava%2Fjava%2Futil%2FCalendar.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Futil%2FCalendar.java?ref=84b1d821501a5acd4298b3561e951333df771cd8", "patch": "@@ -376,7 +376,8 @@ public abstract class Calendar implements Serializable, Cloneable\n    */\n   private static ResourceBundle getBundle(Locale locale) \n   {\n-    return ResourceBundle.getBundle(bundleName, locale);\n+    return ResourceBundle.getBundle(bundleName, locale,\n+      Calendar.class.getClassLoader());\n   }\n \n   /**"}, {"sha": "472351281fcca6751ee8b58d6667ba195679c61b", "filename": "libjava/java/util/Currency.java", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84b1d821501a5acd4298b3561e951333df771cd8/libjava%2Fjava%2Futil%2FCurrency.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84b1d821501a5acd4298b3561e951333df771cd8/libjava%2Fjava%2Futil%2FCurrency.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Futil%2FCurrency.java?ref=84b1d821501a5acd4298b3561e951333df771cd8", "patch": "@@ -54,7 +54,8 @@ private Currency ()\n   private Currency (Locale loc)\n   {\n     this.locale = loc;\n-    this.res = ResourceBundle.getBundle (\"gnu.java.locale.LocaleInformation\", locale);\n+    this.res = ResourceBundle.getBundle (\"gnu.java.locale.LocaleInformation\", \n+      locale, Currency.class.getClassLoader());\n   }\n \n   /**\n@@ -148,7 +149,9 @@ public String getSymbol(Locale locale)\n     // First we need to implement fully LocaleInformation*.java\n     try\n       {\n-\tResourceBundle res = ResourceBundle.getBundle (\"gnu.java.locale.LocaleInformation\", locale);\n+\tResourceBundle res = \n+\t  ResourceBundle.getBundle (\"gnu.java.locale.LocaleInformation\", \n+\t\t\t\t    locale, Currency.class.getClassLoader());\n \n \tif (res.equals(this.res))\n \t  return res.getString (\"currencySymbol\");"}, {"sha": "9de433389bde8ed7a4adade77f598af3656aa99e", "filename": "libjava/java/util/GregorianCalendar.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84b1d821501a5acd4298b3561e951333df771cd8/libjava%2Fjava%2Futil%2FGregorianCalendar.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84b1d821501a5acd4298b3561e951333df771cd8/libjava%2Fjava%2Futil%2FGregorianCalendar.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Futil%2FGregorianCalendar.java?ref=84b1d821501a5acd4298b3561e951333df771cd8", "patch": "@@ -90,7 +90,8 @@ public class GregorianCalendar extends Calendar\n    */\n   private static ResourceBundle getBundle(Locale locale) \n   {\n-    return ResourceBundle.getBundle(bundleName, locale);\n+    return ResourceBundle.getBundle(bundleName, locale,\n+      GregorianCalendar.class.getClassLoader());\n   }\n \n   /**"}]}