{"sha": "573e5dd6ace97bde5d1ab096ae2c4f8c02534a17", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTczZTVkZDZhY2U5N2JkZTVkMWFiMDk2YWUyYzRmOGMwMjUzNGExNw==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@adacore.com", "date": "2013-09-10T14:52:46Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2013-09-10T14:52:46Z"}, "message": "sem_ch3.adb, [...]: Minor reformatting.\n\n2013-09-10  Robert Dewar  <dewar@adacore.com>\n\n\t* sem_ch3.adb, sinfo.ads, exp_ch9.adb, sem_prag.adb, sem_ch12.adb,\n\texp_ch4.adb, sprint.adb: Minor reformatting.\n\nFrom-SVN: r202455", "tree": {"sha": "895f82359759face41b9b601b7972775c577719e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/895f82359759face41b9b601b7972775c577719e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/573e5dd6ace97bde5d1ab096ae2c4f8c02534a17", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/573e5dd6ace97bde5d1ab096ae2c4f8c02534a17", "html_url": "https://github.com/Rust-GCC/gccrs/commit/573e5dd6ace97bde5d1ab096ae2c4f8c02534a17", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/573e5dd6ace97bde5d1ab096ae2c4f8c02534a17/comments", "author": null, "committer": null, "parents": [{"sha": "eefe376107650d0d11df8711772fc6074ce31bc3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eefe376107650d0d11df8711772fc6074ce31bc3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eefe376107650d0d11df8711772fc6074ce31bc3"}], "stats": {"total": 93, "additions": 56, "deletions": 37}, "files": [{"sha": "51352d1100d8a13be126dcba19fdc227b196b642", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/573e5dd6ace97bde5d1ab096ae2c4f8c02534a17/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/573e5dd6ace97bde5d1ab096ae2c4f8c02534a17/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=573e5dd6ace97bde5d1ab096ae2c4f8c02534a17", "patch": "@@ -1,3 +1,8 @@\n+2013-09-10  Robert Dewar  <dewar@adacore.com>\n+\n+\t* sem_ch3.adb, sinfo.ads, exp_ch9.adb, sem_prag.adb, sem_ch12.adb,\n+\texp_ch4.adb, sprint.adb: Minor reformatting.\n+\n 2013-09-10  Yannick Moy  <moy@adacore.com>\n \n \t* sinfo.ads: Document splitting of pre/post in N_Contract description."}, {"sha": "69a0d7e64a5f596056b50249ccc5bc74ce756673", "filename": "gcc/ada/einfo.ads", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/573e5dd6ace97bde5d1ab096ae2c4f8c02534a17/gcc%2Fada%2Feinfo.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/573e5dd6ace97bde5d1ab096ae2c4f8c02534a17/gcc%2Fada%2Feinfo.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Feinfo.ads?ref=573e5dd6ace97bde5d1ab096ae2c4f8c02534a17", "patch": "@@ -1,6 +1,7 @@\n ------------------------------------------------------------------------------\n --                                                                          --\n --                         GNAT COMPILER COMPONENTS                         --\n+--                                                                          --\n --                                E I N F O                                 --\n --                                                                          --\n --                                 S p e c                                  --"}, {"sha": "0802f2dfa5173dc509ce54cdb9b7cdf3d309dcd5", "filename": "gcc/ada/exp_ch4.adb", "status": "modified", "additions": 17, "deletions": 15, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/573e5dd6ace97bde5d1ab096ae2c4f8c02534a17/gcc%2Fada%2Fexp_ch4.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/573e5dd6ace97bde5d1ab096ae2c4f8c02534a17/gcc%2Fada%2Fexp_ch4.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch4.adb?ref=573e5dd6ace97bde5d1ab096ae2c4f8c02534a17", "patch": "@@ -8125,14 +8125,15 @@ package body Exp_Ch4 is\n               and then not Non_Binary_Modulus (Typ)\n             then\n                Rewrite (N,\n-                Make_Op_And (Loc,\n-                  Left_Opnd =>\n-                    Make_Op_Shift_Left (Loc,\n-                      Left_Opnd  => Lop,\n-                      Right_Opnd =>\n-                        Convert_To (Standard_Natural, Right_Opnd (Rop))),\n-                  Right_Opnd =>\n+                 Make_Op_And (Loc,\n+                   Left_Opnd  =>\n+                     Make_Op_Shift_Left (Loc,\n+                       Left_Opnd  => Lop,\n+                       Right_Opnd =>\n+                         Convert_To (Standard_Natural, Right_Opnd (Rop))),\n+                   Right_Opnd =>\n                      Make_Integer_Literal (Loc, Modulus (Typ) - 1)));\n+\n             else\n                Rewrite (N,\n                  Make_Op_Shift_Left (Loc,\n@@ -8152,14 +8153,15 @@ package body Exp_Ch4 is\n            and then not Non_Binary_Modulus (Typ)\n          then\n             Rewrite (N,\n-             Make_Op_And (Loc,\n-               Left_Opnd =>\n-                 Make_Op_Shift_Left (Loc,\n-                   Left_Opnd  => Rop,\n-                   Right_Opnd =>\n-                     Convert_To (Standard_Natural, Right_Opnd (Lop))),\n-               Right_Opnd =>\n-                  Make_Integer_Literal (Loc, Modulus (Typ) - 1)));\n+              Make_Op_And (Loc,\n+                Left_Opnd  =>\n+                  Make_Op_Shift_Left (Loc,\n+                    Left_Opnd  => Rop,\n+                    Right_Opnd =>\n+                      Convert_To (Standard_Natural, Right_Opnd (Lop))),\n+                Right_Opnd =>\n+                   Make_Integer_Literal (Loc, Modulus (Typ) - 1)));\n+\n          else\n             Rewrite (N,\n               Make_Op_Shift_Left (Loc,"}, {"sha": "a296a8e8578484beb07567ef5afb7b0333eb06e9", "filename": "gcc/ada/exp_ch9.adb", "status": "modified", "additions": 15, "deletions": 5, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/573e5dd6ace97bde5d1ab096ae2c4f8c02534a17/gcc%2Fada%2Fexp_ch9.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/573e5dd6ace97bde5d1ab096ae2c4f8c02534a17/gcc%2Fada%2Fexp_ch9.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch9.adb?ref=573e5dd6ace97bde5d1ab096ae2c4f8c02534a17", "patch": "@@ -12004,13 +12004,13 @@ package body Exp_Ch9 is\n       D_Alt          : constant Node_Id := Delay_Alternative (N);\n       D_Conv         : Node_Id;\n       D_Disc         : Node_Id;\n-      D_Stat         : Node_Id := Delay_Statement (D_Alt);\n+      D_Stat         : Node_Id          := Delay_Statement (D_Alt);\n       D_Stats        : List_Id;\n       D_Type         : Entity_Id;\n       Decls          : List_Id;\n       Dummy          : Node_Id;\n       E_Alt          : constant Node_Id := Entry_Call_Alternative (N);\n-      E_Call         : Node_Id := Entry_Call_Statement (E_Alt);\n+      E_Call         : Node_Id          := Entry_Call_Statement (E_Alt);\n       E_Stats        : List_Id;\n       Ename          : Node_Id;\n       Formals        : List_Id;\n@@ -12052,9 +12052,9 @@ package body Exp_Ch9 is\n       begin\n          Decl :=\n            Make_Subprogram_Body (Loc,\n-             Specification =>\n+             Specification              =>\n                Make_Procedure_Specification (Loc, Defining_Unit_Name => Proc),\n-             Declarations => New_List,\n+             Declarations               => New_List,\n              Handled_Statement_Sequence =>\n                Make_Handled_Sequence_Of_Statements (Loc, E_Stats));\n \n@@ -12087,9 +12087,11 @@ package body Exp_Ch9 is\n          E_Stats :=\n            New_List\n              (Make_Procedure_Call_Statement (Loc,\n-               Name => New_Occurrence_Of (Proc, Loc)));\n+                Name => New_Occurrence_Of (Proc, Loc)));\n       end Rewrite_Triggering_Statements;\n \n+   --  Start of processing for Expand_N_Timed_Entry_Call\n+\n    begin\n       --  Under the Ravenscar profile, timed entry calls are excluded. An error\n       --  was already reported on spec, so do not attempt to expand the call.\n@@ -12340,6 +12342,10 @@ package body Exp_Ch9 is\n          --       <timed-statements>\n          --    end if;\n \n+         --  Note: we used to do Copy_Separate_List here, but this was changed\n+         --  to New_Copy_List_Tree with no explanation or RH note??? We should\n+         --  explain the need for the change ???\n+\n          N_Stats := New_Copy_List_Tree (E_Stats);\n \n          Prepend_To (N_Stats,\n@@ -12380,6 +12386,10 @@ package body Exp_Ch9 is\n          --    <dispatching-call>;\n          --    <triggering-statements>\n \n+         --  Note: the following was Copy_Separate_List but it was changed to\n+         --  New_Copy_List_Tree without comments or RH documentation ??? We\n+         --  should explain the need for the change ???\n+\n          Lim_Typ_Stmts := New_Copy_List_Tree (E_Stats);\n          Prepend_To (Lim_Typ_Stmts, New_Copy_Tree (E_Call));\n "}, {"sha": "b9c41fa4dc82de1c4a720843a1cd83b5f3ad9f2a", "filename": "gcc/ada/sem_ch12.adb", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/573e5dd6ace97bde5d1ab096ae2c4f8c02534a17/gcc%2Fada%2Fsem_ch12.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/573e5dd6ace97bde5d1ab096ae2c4f8c02534a17/gcc%2Fada%2Fsem_ch12.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch12.adb?ref=573e5dd6ace97bde5d1ab096ae2c4f8c02534a17", "patch": "@@ -3912,7 +3912,6 @@ package body Sem_Ch12 is\n          if Nkind (Parent (N)) /= N_Compilation_Unit then\n             Mark_Rewrite_Insertion (Act_Decl);\n             Insert_Before (N, Act_Decl);\n-\n             Analyze (Act_Decl);\n \n          --  For an instantiation that is a compilation unit, place"}, {"sha": "303e2f301326289e323fe5684e80692f2d2259d3", "filename": "gcc/ada/sem_ch3.adb", "status": "modified", "additions": 11, "deletions": 6, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/573e5dd6ace97bde5d1ab096ae2c4f8c02534a17/gcc%2Fada%2Fsem_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/573e5dd6ace97bde5d1ab096ae2c4f8c02534a17/gcc%2Fada%2Fsem_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch3.adb?ref=573e5dd6ace97bde5d1ab096ae2c4f8c02534a17", "patch": "@@ -6102,13 +6102,18 @@ package body Sem_Ch3 is\n       --  affect anything, but it is still baffling that we cannot use the\n       --  same mechanism for all derived numeric types.\n \n-      --  There is a further complication: actually *some* representation\n-      --  clauses can affect the implicit base type. Namely, attribute\n+      --  There is a further complication: actually some representation\n+      --  clauses can affect the implicit base type. For example, attribute\n       --  definition clauses for stream-oriented attributes need to set the\n-      --  corresponding TSS entries on the base type, and this normally cannot\n-      --  be done after the base type is frozen, so the circuitry in\n-      --  Sem_Ch13.New_Stream_Subprogram must account for this possibility and\n-      --  not use Set_TSS in this case.\n+      --  corresponding TSS entries on the base type, and this normally\n+      --  cannot be done after the base type is frozen, so the circuitry in\n+      --  Sem_Ch13.New_Stream_Subprogram must account for this possibility\n+      --  and not use Set_TSS in this case.\n+\n+      --  There are also consequences for the case of delayed representation\n+      --  aspects for some cases. For example, a Size aspect is delayed and\n+      --  should not be evaluated to the freeze point. This early freezing\n+      --  means that the size attribute evaluation happens too early???\n \n       if Is_Fixed_Point_Type (Parent_Type) then\n          Conditional_Delay (Implicit_Base, Parent_Type);"}, {"sha": "cb3477bcbe91a582f202793688c2324d78bb7674", "filename": "gcc/ada/sem_prag.adb", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/573e5dd6ace97bde5d1ab096ae2c4f8c02534a17/gcc%2Fada%2Fsem_prag.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/573e5dd6ace97bde5d1ab096ae2c4f8c02534a17/gcc%2Fada%2Fsem_prag.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_prag.adb?ref=573e5dd6ace97bde5d1ab096ae2c4f8c02534a17", "patch": "@@ -1524,9 +1524,7 @@ package body Sem_Prag is\n             --  subject to aspect/pragma Global.\n \n             Context := Scope (Subp_Id);\n-            while Present (Context)\n-              and then Context /= Standard_Standard\n-            loop\n+            while Present (Context) and then Context /= Standard_Standard loop\n                if Is_Subprogram (Context)\n                  and then Has_Aspect (Context, Aspect_Global)\n                then"}, {"sha": "48b750be8b1e74a1d9e6bdf8cca99158c8b9addd", "filename": "gcc/ada/sinfo.ads", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/573e5dd6ace97bde5d1ab096ae2c4f8c02534a17/gcc%2Fada%2Fsinfo.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/573e5dd6ace97bde5d1ab096ae2c4f8c02534a17/gcc%2Fada%2Fsinfo.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsinfo.ads?ref=573e5dd6ace97bde5d1ab096ae2c4f8c02534a17", "patch": "@@ -7051,11 +7051,10 @@ package Sinfo is\n       --  The pragmas can either come from source or be the byproduct of aspect\n       --  expansion. The ordering in the list is of LIFO fashion.\n \n-      --  Note that there might be multiple preconditions (resp.\n-      --  postconditions) in this list, either because they come from\n-      --  separate pragmas in the source, or because a Pre (resp. Post) aspect\n-      --  specification has been broken into AND THEN sections. See Split_PPC\n-      --  for details.\n+      --  Note that there might be multiple preconditions or postconditions\n+      --  in this list, either because they come from separate pragmas in the\n+      --  source, or because a Pre (resp. Post) aspect specification has been\n+      --  broken into AND THEN sections. See Split_PPC for details.\n \n       --  Contract_Test_Cases contains a collection of pragmas that correspond\n       --  to aspects/pragmas Contract_Cases and Test_Case. The ordering in the"}, {"sha": "5259dd776ff6d5ff41b261edd931babefb4e879b", "filename": "gcc/ada/sprint.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/573e5dd6ace97bde5d1ab096ae2c4f8c02534a17/gcc%2Fada%2Fsprint.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/573e5dd6ace97bde5d1ab096ae2c4f8c02534a17/gcc%2Fada%2Fsprint.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsprint.adb?ref=573e5dd6ace97bde5d1ab096ae2c4f8c02534a17", "patch": "@@ -2483,8 +2483,8 @@ package body Sprint is\n             --  instantiation node.\n \n             if Is_Generic_Instance (Defining_Entity (Node))\n-              and then Has_Aspects (\n-                Package_Instantiation (Defining_Entity (Node)))\n+              and then Has_Aspects\n+                         (Package_Instantiation (Defining_Entity (Node)))\n             then\n                Sprint_Aspect_Specifications\n                  (Package_Instantiation (Defining_Entity (Node)),"}]}