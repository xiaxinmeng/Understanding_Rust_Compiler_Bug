{"sha": "a01a33a2dde5c0a69563431f3057621a2e74c62a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTAxYTMzYTJkZGU1YzBhNjk1NjM0MzFmMzA1NzYyMWEyZTc0YzYyYQ==", "commit": {"author": {"name": "Daniel Cederman", "email": "cederman@gaisler.com", "date": "2015-09-28T05:30:31Z"}, "committer": {"name": "Daniel Hellstrom", "email": "danielh@gcc.gnu.org", "date": "2015-09-28T05:30:31Z"}, "message": "Make muser-mode the default for LEON3\n\n2015-09-28  Daniel Cederman  <cederman@gaisler.com>\n\nMake muser-mode the default for LEON3\n\nThe muser-mode flag causes the CASA instruction for LEON3 to use the\nuser mode ASI. This is the correct behavior for almost all LEON3 targets.\nFor this reason it makes sense to make user mode the default.\n\ngcc/\n\t* config/sparc/sparc.opt: Rename mask from USER_MODE to SV_MODE\n\t  and make it inverse to change default\n\t* config/sparc/sync.md: Only use supervisor ASI for CASA when in\n\t  supervisor mode\n\t* doc/invoke.texi: Document change of default\n\nFrom-SVN: r228184", "tree": {"sha": "e7d3519f0ef06cb3b01f1a57b907f9aee0b604bc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e7d3519f0ef06cb3b01f1a57b907f9aee0b604bc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a01a33a2dde5c0a69563431f3057621a2e74c62a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a01a33a2dde5c0a69563431f3057621a2e74c62a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a01a33a2dde5c0a69563431f3057621a2e74c62a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a01a33a2dde5c0a69563431f3057621a2e74c62a/comments", "author": {"login": "doac", "id": 2056695, "node_id": "MDQ6VXNlcjIwNTY2OTU=", "avatar_url": "https://avatars.githubusercontent.com/u/2056695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/doac", "html_url": "https://github.com/doac", "followers_url": "https://api.github.com/users/doac/followers", "following_url": "https://api.github.com/users/doac/following{/other_user}", "gists_url": "https://api.github.com/users/doac/gists{/gist_id}", "starred_url": "https://api.github.com/users/doac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/doac/subscriptions", "organizations_url": "https://api.github.com/users/doac/orgs", "repos_url": "https://api.github.com/users/doac/repos", "events_url": "https://api.github.com/users/doac/events{/privacy}", "received_events_url": "https://api.github.com/users/doac/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "9cb00eb15a97e52eff396db89cefac6a9297604f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9cb00eb15a97e52eff396db89cefac6a9297604f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9cb00eb15a97e52eff396db89cefac6a9297604f"}], "stats": {"total": 22, "additions": 15, "deletions": 7}, "files": [{"sha": "7fb87ea2cb9df82e7d7b586f06455a1afab433df", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a01a33a2dde5c0a69563431f3057621a2e74c62a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a01a33a2dde5c0a69563431f3057621a2e74c62a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a01a33a2dde5c0a69563431f3057621a2e74c62a", "patch": "@@ -1,3 +1,11 @@\n+2015-09-28  Daniel Cederman  <cederman@gaisler.com>\n+\n+\t* config/sparc/sparc.opt: Rename mask from USER_MODE to SV_MODE\n+\t  and make it inverse to change default\n+\t* config/sparc/sync.md: Only use supervisor ASI for CASA when in\n+\t  supervisor mode\n+\t* doc/invoke.texi: Document change of default\n+\n 2015-09-28  Daniel Cederman  <cederman@gaisler.com>\n \n \t* config/sparc/sparc.c (sparc_function_value_regno_p): Do not return"}, {"sha": "85bf0bdb4938271f3fa87a1bf24a383b5b5e0da3", "filename": "gcc/config/sparc/sparc.opt", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a01a33a2dde5c0a69563431f3057621a2e74c62a/gcc%2Fconfig%2Fsparc%2Fsparc.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a01a33a2dde5c0a69563431f3057621a2e74c62a/gcc%2Fconfig%2Fsparc%2Fsparc.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.opt?ref=a01a33a2dde5c0a69563431f3057621a2e74c62a", "patch": "@@ -114,8 +114,8 @@ Target\n Optimize tail call instructions in assembler and linker\n \n muser-mode\n-Target Report Mask(USER_MODE)\n-Do not generate code that can only run in supervisor mode\n+Target Report InverseMask(SV_MODE)\n+Do not generate code that can only run in supervisor mode (default)\n \n mcpu=\n Target RejectNegative Joined Var(sparc_cpu_and_features) Enum(sparc_processor_type) Init(PROCESSOR_V7)"}, {"sha": "2fabff5f67f54b558ecd6f374e44e993ef1d8514", "filename": "gcc/config/sparc/sync.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a01a33a2dde5c0a69563431f3057621a2e74c62a/gcc%2Fconfig%2Fsparc%2Fsync.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a01a33a2dde5c0a69563431f3057621a2e74c62a/gcc%2Fconfig%2Fsparc%2Fsync.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsync.md?ref=a01a33a2dde5c0a69563431f3057621a2e74c62a", "patch": "@@ -222,10 +222,10 @@\n \t  UNSPECV_CAS))]\n   \"TARGET_LEON3\"\n {\n-  if (TARGET_USER_MODE)\n-    return \"casa\\t%1 0xa, %2, %0\"; /* ASI for user data space.  */\n-  else\n+  if (TARGET_SV_MODE)\n     return \"casa\\t%1 0xb, %2, %0\"; /* ASI for supervisor data space.  */\n+  else\n+    return \"casa\\t%1 0xa, %2, %0\"; /* ASI for user data space.  */\n }\n   [(set_attr \"type\" \"multi\")])\n "}, {"sha": "50cc52010ff96c12df6503000331869908880035", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a01a33a2dde5c0a69563431f3057621a2e74c62a/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a01a33a2dde5c0a69563431f3057621a2e74c62a/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=a01a33a2dde5c0a69563431f3057621a2e74c62a", "patch": "@@ -21299,8 +21299,8 @@ in a performance loss, especially for floating-point code.\n @opindex muser-mode\n @opindex mno-user-mode\n Do not generate code that can only run in supervisor mode.  This is relevant\n-only for the @code{casa} instruction emitted for the LEON3 processor.  The\n-default is @option{-mno-user-mode}.\n+only for the @code{casa} instruction emitted for the LEON3 processor.  This\n+is the default.\n \n @item -mno-faster-structs\n @itemx -mfaster-structs"}]}