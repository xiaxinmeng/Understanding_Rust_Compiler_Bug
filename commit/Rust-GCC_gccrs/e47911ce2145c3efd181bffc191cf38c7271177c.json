{"sha": "e47911ce2145c3efd181bffc191cf38c7271177c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTQ3OTExY2UyMTQ1YzNlZmQxODFiZmZjMTkxY2YzOGM3MjcxMTc3Yw==", "commit": {"author": {"name": "David Edelsohn", "email": "edelsohn@gnu.org", "date": "2008-10-11T15:28:36Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2008-10-11T15:28:36Z"}, "message": "rs6000.md (aux_truncdfsf2): Remove TARGET_SINGLE_FLOAT.\n\n        * config/rs6000/rs6000.md (aux_truncdfsf2): Remove TARGET_SINGLE_FLOAT.\n        (addsf3, subsf3, mulsf3 ! TARGET_POWERPC): Remove TARGET_SINGLE_FLOAT\n        and fp_type.\n        (divdf3): Reformat long line.\n\nFrom-SVN: r141062", "tree": {"sha": "d044cd6ca7ed6c7a81072e0210a0ac941fa90819", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d044cd6ca7ed6c7a81072e0210a0ac941fa90819"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e47911ce2145c3efd181bffc191cf38c7271177c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e47911ce2145c3efd181bffc191cf38c7271177c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e47911ce2145c3efd181bffc191cf38c7271177c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e47911ce2145c3efd181bffc191cf38c7271177c/comments", "author": null, "committer": null, "parents": [{"sha": "0bb7b92ee98354451d52a934b4ce1770c22887bd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0bb7b92ee98354451d52a934b4ce1770c22887bd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0bb7b92ee98354451d52a934b4ce1770c22887bd"}], "stats": {"total": 72, "additions": 34, "deletions": 38}, "files": [{"sha": "3784f7ebcf35a9c0f2fa21a4f30b0501f23e3568", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e47911ce2145c3efd181bffc191cf38c7271177c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e47911ce2145c3efd181bffc191cf38c7271177c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e47911ce2145c3efd181bffc191cf38c7271177c", "patch": "@@ -1,3 +1,10 @@\n+2008-10-11  David Edelsohn  <edelsohn@gnu.org>\n+\n+        * config/rs6000/rs6000.md (aux_truncdfsf2): Remove TARGET_SINGLE_FLOAT.\n+        (addsf3, subsf3, mulsf3 ! TARGET_POWERPC): Remove TARGET_SINGLE_FLOAT\n+        and fp_type.\n+        (divdf3): Reformat long line.\n+\n 2008-10-11  Michael J. Eager  <eager@eagercon.com>\n \n \t* config/rs6000/rs6000.c (rs6000_parse_fpu_option): Interpret"}, {"sha": "3078cb33db01987be8407f5eb57b73bd28e2618c", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 27, "deletions": 38, "changes": 65, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e47911ce2145c3efd181bffc191cf38c7271177c/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e47911ce2145c3efd181bffc191cf38c7271177c/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=e47911ce2145c3efd181bffc191cf38c7271177c", "patch": "@@ -5103,7 +5103,7 @@\n (define_insn \"aux_truncdfsf2\"\n   [(set (match_operand:SF 0 \"gpc_reg_operand\" \"=f\")\n \t(unspec:SF [(match_operand:SF 1 \"gpc_reg_operand\" \"f\")] UNSPEC_FRSP))]\n-  \"! TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_SINGLE_FLOAT\"\n+  \"! TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS\"\n   \"frsp %0,%1\"\n   [(set_attr \"type\" \"fp\")])\n \n@@ -5151,7 +5151,7 @@\n   [(set (match_operand:SF 0 \"gpc_reg_operand\" \"=f\")\n \t(plus:SF (match_operand:SF 1 \"gpc_reg_operand\" \"%f\")\n \t\t (match_operand:SF 2 \"gpc_reg_operand\" \"f\")))]\n-\"TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_SINGLE_FLOAT\"\n+  \"TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_SINGLE_FLOAT\"\n   \"fadds %0,%1,%2\"\n   [(set_attr \"type\" \"fp\")\n    (set_attr \"fp_type\" \"fp_addsub_s\")])\n@@ -5160,10 +5160,9 @@\n   [(set (match_operand:SF 0 \"gpc_reg_operand\" \"=f\")\n \t(plus:SF (match_operand:SF 1 \"gpc_reg_operand\" \"%f\")\n \t\t (match_operand:SF 2 \"gpc_reg_operand\" \"f\")))]\n-  \"! TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_SINGLE_FLOAT\"\n+  \"! TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS\"\n   \"{fa|fadd} %0,%1,%2\"\n-  [(set_attr \"type\" \"fp\")\n-   (set_attr \"fp_type\" \"fp_addsub_d\")])\n+  [(set_attr \"type\" \"fp\")])\n \n (define_expand \"subsf3\"\n   [(set (match_operand:SF 0 \"gpc_reg_operand\" \"\")\n@@ -5185,10 +5184,9 @@\n   [(set (match_operand:SF 0 \"gpc_reg_operand\" \"=f\")\n \t(minus:SF (match_operand:SF 1 \"gpc_reg_operand\" \"f\")\n \t\t  (match_operand:SF 2 \"gpc_reg_operand\" \"f\")))]\n-  \"! TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_SINGLE_FLOAT\"\n+  \"! TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS\"\n   \"{fs|fsub} %0,%1,%2\"\n-  [(set_attr \"type\" \"fp\")\n-   (set_attr \"fp_type\" \"fp_addsub_d\")])\n+  [(set_attr \"type\" \"fp\")])\n \n (define_expand \"mulsf3\"\n   [(set (match_operand:SF 0 \"gpc_reg_operand\" \"\")\n@@ -5210,10 +5208,9 @@\n   [(set (match_operand:SF 0 \"gpc_reg_operand\" \"=f\")\n \t(mult:SF (match_operand:SF 1 \"gpc_reg_operand\" \"%f\")\n \t\t (match_operand:SF 2 \"gpc_reg_operand\" \"f\")))]\n-  \"! TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_SINGLE_FLOAT\"\n+  \"! TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS\"\n   \"{fm|fmul} %0,%1,%2\"\n-  [(set_attr \"type\" \"dmul\")\n-   (set_attr \"fp_type\" \"fp_mul_d\")])\n+  [(set_attr \"type\" \"dmul\")])\n \n (define_expand \"divsf3\"\n   [(set (match_operand:SF 0 \"gpc_reg_operand\" \"\")\n@@ -5264,7 +5261,7 @@\n \t(plus:SF (mult:SF (match_operand:SF 1 \"gpc_reg_operand\" \"%f\")\n \t\t\t  (match_operand:SF 2 \"gpc_reg_operand\" \"f\"))\n \t\t (match_operand:SF 3 \"gpc_reg_operand\" \"f\")))]\n-  \"TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS \n+  \"TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS\n    && TARGET_SINGLE_FLOAT && TARGET_FUSED_MADD\"\n   \"fmadds %0,%1,%2,%3\"\n   [(set_attr \"type\" \"fp\")\n@@ -5275,18 +5272,16 @@\n \t(plus:SF (mult:SF (match_operand:SF 1 \"gpc_reg_operand\" \"%f\")\n \t\t\t  (match_operand:SF 2 \"gpc_reg_operand\" \"f\"))\n \t\t (match_operand:SF 3 \"gpc_reg_operand\" \"f\")))]\n-  \"! TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS \n-   && TARGET_SINGLE_FLOAT && TARGET_FUSED_MADD\"\n+  \"! TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_FUSED_MADD\"\n   \"{fma|fmadd} %0,%1,%2,%3\"\n-  [(set_attr \"type\" \"dmul\")\n-   (set_attr \"fp_type\" \"fp_maddsub_d\")])\n+  [(set_attr \"type\" \"dmul\")])\n \n (define_insn \"\"\n   [(set (match_operand:SF 0 \"gpc_reg_operand\" \"=f\")\n \t(minus:SF (mult:SF (match_operand:SF 1 \"gpc_reg_operand\" \"%f\")\n \t\t\t   (match_operand:SF 2 \"gpc_reg_operand\" \"f\"))\n \t\t  (match_operand:SF 3 \"gpc_reg_operand\" \"f\")))]\n-  \"TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS \n+  \"TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS\n    && TARGET_SINGLE_FLOAT && TARGET_FUSED_MADD\"\n   \"fmsubs %0,%1,%2,%3\"\n   [(set_attr \"type\" \"fp\")\n@@ -5297,11 +5292,9 @@\n \t(minus:SF (mult:SF (match_operand:SF 1 \"gpc_reg_operand\" \"%f\")\n \t\t\t   (match_operand:SF 2 \"gpc_reg_operand\" \"f\"))\n \t\t  (match_operand:SF 3 \"gpc_reg_operand\" \"f\")))]\n-  \"! TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS \n-   && TARGET_SINGLE_FLOAT && TARGET_FUSED_MADD\"\n+  \"! TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_FUSED_MADD\"\n   \"{fms|fmsub} %0,%1,%2,%3\"\n-  [(set_attr \"type\" \"dmul\")\n-   (set_attr \"fp_type\" \"fp_maddsub_d\")])\n+  [(set_attr \"type\" \"dmul\")])\n \n (define_insn \"\"\n   [(set (match_operand:SF 0 \"gpc_reg_operand\" \"=f\")\n@@ -5330,22 +5323,19 @@\n \t(neg:SF (plus:SF (mult:SF (match_operand:SF 1 \"gpc_reg_operand\" \"%f\")\n \t\t\t\t  (match_operand:SF 2 \"gpc_reg_operand\" \"f\"))\n \t\t\t (match_operand:SF 3 \"gpc_reg_operand\" \"f\"))))]\n-  \"! TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS \n-   && TARGET_SINGLE_FLOAT && TARGET_FUSED_MADD\"\n+  \"! TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_FUSED_MADD\"\n   \"{fnma|fnmadd} %0,%1,%2,%3\"\n-  [(set_attr \"type\" \"dmul\")\n-   (set_attr \"fp_type\" \"fp_maddsub_d\")])\n+  [(set_attr \"type\" \"dmul\")])\n \n (define_insn \"\"\n   [(set (match_operand:SF 0 \"gpc_reg_operand\" \"=f\")\n \t(minus:SF (mult:SF (neg:SF (match_operand:SF 1 \"gpc_reg_operand\" \"f\"))\n \t\t\t   (match_operand:SF 2 \"gpc_reg_operand\" \"f\"))\n \t\t\t (match_operand:SF 3 \"gpc_reg_operand\" \"f\")))]\n   \"! TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_FUSED_MADD\n-   && TARGET_SINGLE_FLOAT && ! HONOR_SIGNED_ZEROS (SFmode)\"\n+   && ! HONOR_SIGNED_ZEROS (SFmode)\"\n   \"{fnma|fnmadd} %0,%1,%2,%3\"\n-  [(set_attr \"type\" \"dmul\")\n-   (set_attr \"fp_type\" \"fp_maddsub_d\")])\n+  [(set_attr \"type\" \"dmul\")])\n \n (define_insn \"\"\n   [(set (match_operand:SF 0 \"gpc_reg_operand\" \"=f\")\n@@ -5374,34 +5364,32 @@\n \t(neg:SF (minus:SF (mult:SF (match_operand:SF 1 \"gpc_reg_operand\" \"%f\")\n \t\t\t\t   (match_operand:SF 2 \"gpc_reg_operand\" \"f\"))\n \t\t\t  (match_operand:SF 3 \"gpc_reg_operand\" \"f\"))))]\n-  \"! TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS \n-   && TARGET_SINGLE_FLOAT && TARGET_FUSED_MADD\"\n+  \"! TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_FUSED_MADD\"\n   \"{fnms|fnmsub} %0,%1,%2,%3\"\n-  [(set_attr \"type\" \"dmul\")\n-   (set_attr \"fp_type\" \"fp_maddsub_d\")])\n+  [(set_attr \"type\" \"dmul\")])\n \n (define_insn \"\"\n   [(set (match_operand:SF 0 \"gpc_reg_operand\" \"=f\")\n \t(minus:SF (match_operand:SF 3 \"gpc_reg_operand\" \"f\")\n \t\t  (mult:SF (match_operand:SF 1 \"gpc_reg_operand\" \"%f\")\n \t\t\t   (match_operand:SF 2 \"gpc_reg_operand\" \"f\"))))]\n   \"! TARGET_POWERPC && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_FUSED_MADD\n-   && TARGET_SINGLE_FLOAT && ! HONOR_SIGNED_ZEROS (SFmode)\"\n+   && ! HONOR_SIGNED_ZEROS (SFmode)\"\n   \"{fnms|fnmsub} %0,%1,%2,%3\"\n   [(set_attr \"type\" \"dmul\")])\n \n (define_expand \"sqrtsf2\"\n   [(set (match_operand:SF 0 \"gpc_reg_operand\" \"\")\n \t(sqrt:SF (match_operand:SF 1 \"gpc_reg_operand\" \"\")))]\n-  \"(TARGET_PPC_GPOPT || TARGET_POWER2 || TARGET_XILINX_FPU) \n-   && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_SINGLE_FLOAT \n+  \"(TARGET_PPC_GPOPT || TARGET_POWER2 || TARGET_XILINX_FPU)\n+   && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_SINGLE_FLOAT\n    && !TARGET_SIMPLE_FPU\"\n   \"\")\n \n (define_insn \"\"\n   [(set (match_operand:SF 0 \"gpc_reg_operand\" \"=f\")\n \t(sqrt:SF (match_operand:SF 1 \"gpc_reg_operand\" \"f\")))]\n-  \"(TARGET_PPC_GPOPT || TARGET_XILINX_FPU) && TARGET_HARD_FLOAT \n+  \"(TARGET_PPC_GPOPT || TARGET_XILINX_FPU) && TARGET_HARD_FLOAT\n    && TARGET_FPRS && TARGET_SINGLE_FLOAT && !TARGET_SIMPLE_FPU\"\n   \"fsqrts %0,%1\"\n   [(set_attr \"type\" \"ssqrt\")])\n@@ -5670,12 +5658,13 @@\n   [(set_attr \"type\" \"dmul\")\n    (set_attr \"fp_type\" \"fp_mul_d\")])\n \n-\n (define_expand \"divdf3\"\n   [(set (match_operand:DF 0 \"gpc_reg_operand\" \"\")\n \t(div:DF (match_operand:DF 1 \"gpc_reg_operand\" \"\")\n \t\t(match_operand:DF 2 \"gpc_reg_operand\" \"\")))]\n-  \"TARGET_HARD_FLOAT && ((TARGET_FPRS && TARGET_DOUBLE_FLOAT) || TARGET_E500_DOUBLE) && !TARGET_SIMPLE_FPU\"\n+  \"TARGET_HARD_FLOAT\n+   && ((TARGET_FPRS && TARGET_DOUBLE_FLOAT) || TARGET_E500_DOUBLE)\n+   && !TARGET_SIMPLE_FPU\"\n   \"\")\n \n (define_insn \"*divdf3_fpr\""}]}