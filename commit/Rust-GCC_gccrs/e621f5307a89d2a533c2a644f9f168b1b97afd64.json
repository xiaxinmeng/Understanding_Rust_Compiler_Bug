{"sha": "e621f5307a89d2a533c2a644f9f168b1b97afd64", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTYyMWY1MzA3YTg5ZDJhNTMzYzJhNjQ0ZjlmMTY4YjFiOTdhZmQ2NA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2011-08-29T21:00:39Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2011-08-29T21:00:39Z"}, "message": "gthr-posix.h (__gthread_active_p): Do not use preprocessor conditionals and comments inside macro arguments.\n\n\t* gthr-posix.h (__gthread_active_p): Do not use preprocessor\n\tconditionals and comments inside macro arguments.\n\nFrom-SVN: r178258", "tree": {"sha": "96ab2165f881a2d3b1c3b139f9ff4dcbe0779835", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/96ab2165f881a2d3b1c3b139f9ff4dcbe0779835"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e621f5307a89d2a533c2a644f9f168b1b97afd64", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e621f5307a89d2a533c2a644f9f168b1b97afd64", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e621f5307a89d2a533c2a644f9f168b1b97afd64", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e621f5307a89d2a533c2a644f9f168b1b97afd64/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "edf2239b377968f0c5961e5531c989d942781977", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/edf2239b377968f0c5961e5531c989d942781977", "html_url": "https://github.com/Rust-GCC/gccrs/commit/edf2239b377968f0c5961e5531c989d942781977"}], "stats": {"total": 16, "additions": 10, "deletions": 6}, "files": [{"sha": "277182751637a6d6019e032d2c34a998acae2869", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e621f5307a89d2a533c2a644f9f168b1b97afd64/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e621f5307a89d2a533c2a644f9f168b1b97afd64/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e621f5307a89d2a533c2a644f9f168b1b97afd64", "patch": "@@ -1,5 +1,10 @@\n+2011-08-29  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* gthr-posix.h (__gthread_active_p): Do not use preprocessor\n+\tconditionals and comments inside macro arguments.\n+\n 20011-08-29  Artjoms Sinkarovs  <artyom.shinkaroff@gmail.com>\n-\tRichard Guenther  <rguenther@suse.de>\n+\t     Richard Guenther  <rguenther@suse.de>\n \n \t* tree.h (constant_boolean_node): Adjust prototype.\n \t* fold-const.c (fold_convert_loc): Move aggregate conversion"}, {"sha": "46054f6a7c212a054879952932d8e598da686674", "filename": "gcc/gthr-posix.h", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e621f5307a89d2a533c2a644f9f168b1b97afd64/gcc%2Fgthr-posix.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e621f5307a89d2a533c2a644f9f168b1b97afd64/gcc%2Fgthr-posix.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgthr-posix.h?ref=e621f5307a89d2a533c2a644f9f168b1b97afd64", "patch": "@@ -244,16 +244,15 @@ __gthread_active_p (void)\n static inline int\n __gthread_active_p (void)\n {\n-  static void *const __gthread_active_ptr\n-    = __extension__ (void *) &__gthrw_(\n /* Android's C library does not provide pthread_cancel, check for\n    `pthread_create' instead.  */\n #ifndef __BIONIC__\n-\t\t\t\t       pthread_cancel\n+  static void *const __gthread_active_ptr\n+    = __extension__ (void *) &__gthrw_(pthread_cancel);\n #else\n-\t\t\t\t       pthread_create\n+  static void *const __gthread_active_ptr\n+    = __extension__ (void *) &__gthrw_(pthread_create);\n #endif\n-\t\t\t\t       );\n   return __gthread_active_ptr != 0;\n }\n "}]}