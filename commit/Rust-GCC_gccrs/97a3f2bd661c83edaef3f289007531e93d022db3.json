{"sha": "97a3f2bd661c83edaef3f289007531e93d022db3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTdhM2YyYmQ2NjFjODNlZGFlZjNmMjg5MDA3NTMxZTkzZDAyMmRiMw==", "commit": {"author": {"name": "Manuel L\u00f3pez-Ib\u00e1\u00f1ez", "email": "manu@gcc.gnu.org", "date": "2010-04-13T16:26:01Z"}, "committer": {"name": "Manuel L\u00f3pez-Ib\u00e1\u00f1ez", "email": "manu@gcc.gnu.org", "date": "2010-04-13T16:26:01Z"}, "message": "cpp.exp: Test also c-c++-common/cpp.\n\n2010-04-13  Manuel L\u00f3pez-Ib\u00e1\u00f1ez  <manu@gcc.gnu.org>\n\n\t* gcc.dg/cpp/cpp.exp: Test also c-c++-common/cpp.\n\t* g++.dg/dg.exp: Likewise.\n\t* gcc.dg/cpp/warning-directive-1.c: Move to ...\n\t* c-c++-common/cpp/warning-directive-1.c: ... here.\n\t* gcc.dg/cpp/warning-directive-2.c: Move to ...\n\t* c-c++-common/cpp/warning-directive-2.c: ... here.\n\t* gcc.dg/cpp/warning-directive-3.c: Move to ...\n\t* c-c++-common/cpp/warning-directive-3.c: ... here.\n\t* gcc.dg/cpp/warning-directive-4.c: Move to ...\n\t* c-c++-common/cpp/warning-directive-4.c: ... here.\n\t* g++.dg/cpp/warning-directive-1.C: Delete.\n\t* g++.dg/cpp/warning-directive-2.C: Delete.\n\t* g++.dg/cpp/warning-directive-3.C: Delete.\n\t* g++.dg/cpp/warning-directive-4.C: Delete.\n\t* gcc.dg/cpp/normalised-3.c: Delete.\n\t* g++.dg/cpp/normalised-1.C: Rename as ...\n\t* c-c++-common/cpp/normalised-3.c: ... this.\n\nFrom-SVN: r158275", "tree": {"sha": "b46bf9dfe0b91fd9a33c5d4fbfbc339cce5202e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b46bf9dfe0b91fd9a33c5d4fbfbc339cce5202e0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/97a3f2bd661c83edaef3f289007531e93d022db3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97a3f2bd661c83edaef3f289007531e93d022db3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97a3f2bd661c83edaef3f289007531e93d022db3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97a3f2bd661c83edaef3f289007531e93d022db3/comments", "author": null, "committer": null, "parents": [{"sha": "9e9ef331eb145aeff45079d4967c520ae4ff86a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e9ef331eb145aeff45079d4967c520ae4ff86a8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e9ef331eb145aeff45079d4967c520ae4ff86a8"}], "stats": {"total": 81, "additions": 21, "deletions": 60}, "files": [{"sha": "ae0184cfbb0155c4d083fc75545f2e2d0c47503a", "filename": "gcc/testsuite/c-c++-common/cpp/normalize-3.c", "status": "renamed", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97a3f2bd661c83edaef3f289007531e93d022db3/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fnormalize-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97a3f2bd661c83edaef3f289007531e93d022db3/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fnormalize-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fnormalize-3.c?ref=97a3f2bd661c83edaef3f289007531e93d022db3", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do preprocess } */\n-/* { dg-options \"-std=c99 -fextended-identifiers -Wnormalized=id\" } */\n+/* { dg-options \"-std=c99 -fextended-identifiers -Wnormalized=id\" { target c } } */\n+/* { dg-options \"-fextended-identifiers -Wnormalized=id\" { target c++ } } */\n \n \\u00AA\n \\u00B7", "previous_filename": "gcc/testsuite/gcc.dg/cpp/normalize-3.c"}, {"sha": "e23d240c2f725a75b636b4c4305dc91daafae53c", "filename": "gcc/testsuite/c-c++-common/cpp/warning-directive-1.c", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97a3f2bd661c83edaef3f289007531e93d022db3/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fwarning-directive-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97a3f2bd661c83edaef3f289007531e93d022db3/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fwarning-directive-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fwarning-directive-1.c?ref=97a3f2bd661c83edaef3f289007531e93d022db3", "patch": "@@ -0,0 +1,4 @@\n+// { dg-do preprocess }\n+// { dg-options \"-std=gnu99 -fdiagnostics-show-option\" { target c } }\n+// { dg-options \"-fdiagnostics-show-option\" { target c++ } }\n+#warning \"Printed\"  // { dg-warning \"\\\"Printed\\\" .-Wcpp.\" }"}, {"sha": "15c74d2baa4ea667fdb6327de63aeb88d9e5c284", "filename": "gcc/testsuite/c-c++-common/cpp/warning-directive-2.c", "status": "renamed", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97a3f2bd661c83edaef3f289007531e93d022db3/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fwarning-directive-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97a3f2bd661c83edaef3f289007531e93d022db3/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fwarning-directive-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fwarning-directive-2.c?ref=97a3f2bd661c83edaef3f289007531e93d022db3", "patch": "@@ -1,4 +1,5 @@\n // { dg-do preprocess }\n-// { dg-options \"-std=gnu99 -fdiagnostics-show-option -Werror=cpp\" }\n+// { dg-options \"-std=gnu99 -fdiagnostics-show-option -Werror=cpp\" { target c } }\n+// { dg-options \"-fdiagnostics-show-option -Werror=cpp\" { target c++ } }\n /* { dg-message \"some warnings being treated as errors\" \"\" {target \"*-*-*\"} 0 } */\n #warning \"Printed\"  // { dg-error \"\\\"Printed\\\" .-Wcpp.\" }", "previous_filename": "gcc/testsuite/gcc.dg/cpp/warning-directive-2.c"}, {"sha": "0c50a318df69f021ee3e52d969a8d9b22c38fea7", "filename": "gcc/testsuite/c-c++-common/cpp/warning-directive-3.c", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97a3f2bd661c83edaef3f289007531e93d022db3/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fwarning-directive-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97a3f2bd661c83edaef3f289007531e93d022db3/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fwarning-directive-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fwarning-directive-3.c?ref=97a3f2bd661c83edaef3f289007531e93d022db3", "patch": "@@ -1,4 +1,4 @@\n // { dg-do preprocess }\n-// { dg-options \"-std=gnu99 -fdiagnostics-show-option -Werror -Wno-error=cpp\" }\n-\n+// { dg-options \"-std=gnu99 -fdiagnostics-show-option -Werror -Wno-error=cpp\" { target c } }\n+// { dg-options \"-fdiagnostics-show-option -Werror -Wno-error=cpp\" { target c++ } }\n #warning \"Printed\"  // { dg-warning \"\\\"Printed\\\" .-Wcpp.\" }", "previous_filename": "gcc/testsuite/gcc.dg/cpp/warning-directive-3.c"}, {"sha": "23069f8ade2cd4ab46fbac61e3ab24fcd228f00e", "filename": "gcc/testsuite/c-c++-common/cpp/warning-directive-4.c", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97a3f2bd661c83edaef3f289007531e93d022db3/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fwarning-directive-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97a3f2bd661c83edaef3f289007531e93d022db3/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fwarning-directive-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fwarning-directive-4.c?ref=97a3f2bd661c83edaef3f289007531e93d022db3", "patch": "@@ -1,4 +1,4 @@\n // { dg-do preprocess }\n-// { dg-options \"-std=gnu99 -fdiagnostics-show-option -Wno-cpp\" }\n-\n+// { dg-options \"-std=gnu99 -fdiagnostics-show-option -Wno-cpp\" { target c } }\n+// { dg-options \"-fdiagnostics-show-option -Wno-cpp\" { target c++ } }\n #warning \"Not printed\"  // { dg-bogus \".\" }", "previous_filename": "gcc/testsuite/gcc.dg/cpp/warning-directive-4.c"}, {"sha": "536a3b45b98bb54deebe0c6d6f7b2b82eb87ded8", "filename": "gcc/testsuite/g++.dg/cpp/normalize-1.C", "status": "removed", "additions": 0, "deletions": 34, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e9ef331eb145aeff45079d4967c520ae4ff86a8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp%2Fnormalize-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e9ef331eb145aeff45079d4967c520ae4ff86a8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp%2Fnormalize-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp%2Fnormalize-1.C?ref=9e9ef331eb145aeff45079d4967c520ae4ff86a8", "patch": "@@ -1,34 +0,0 @@\n-/* { dg-do preprocess } */\n-/* { dg-options \"-fextended-identifiers -Wnormalized=id\" } */\n-\n-\\u00AA\n-\\u00B7\n-\\u0F43  /* { dg-warning \"not in NFC\" } */\n-a\\u05B8\\u05B9\\u05B9\\u05BBb\n- a\\u05BB\\u05B9\\u05B8\\u05B9b  /* { dg-warning \"not in NFC\" } */\n-\\u09CB\n-\\u09C7\\u09BE /* { dg-warning \"not in NFC\" } */\n-\\u0B4B\n-\\u0B47\\u0B3E /* { dg-warning \"not in NFC\" } */\n-\\u0BCA\n-\\u0BC6\\u0BBE /* { dg-warning \"not in NFC\" } */\n-\\u0BCB\n-\\u0BC7\\u0BBE /* { dg-warning \"not in NFC\" } */\n-\\u0CCA\n-\\u0CC6\\u0CC2 /* { dg-warning \"not in NFC\" } */\n-\\u0D4A\n-\\u0D46\\u0D3E /* { dg-warning \"not in NFC\" } */\n-\\u0D4B\n-\\u0D47\\u0D3E /* { dg-warning \"not in NFC\" } */\n-\n-K\n-\\u212A\n-\n-\\u03AC\n-\\u1F71 /* { dg-warning \"not in NFC\" } */\n-\n-\\uAC00\n-\\u1100\\u1161\n-\\uAC01\n-\\u1100\\u1161\\u11A8\n-\\uAC00\\u11A8"}, {"sha": "1ce18c6e2c6619b4b2eac2b5fc78c6b6e1f93297", "filename": "gcc/testsuite/g++.dg/cpp/warning-directive-1.C", "status": "removed", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e9ef331eb145aeff45079d4967c520ae4ff86a8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp%2Fwarning-directive-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e9ef331eb145aeff45079d4967c520ae4ff86a8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp%2Fwarning-directive-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp%2Fwarning-directive-1.C?ref=9e9ef331eb145aeff45079d4967c520ae4ff86a8", "patch": "@@ -1,4 +0,0 @@\n-// { dg-do preprocess }\n-// { dg-options \"-fdiagnostics-show-option\" }\n-\n-#warning \"Printed\"  // { dg-warning \"\\\"Printed\\\" .-Wcpp.\" }"}, {"sha": "c2efc172abe0c8cad605f9bc0b33738933490b52", "filename": "gcc/testsuite/g++.dg/cpp/warning-directive-2.C", "status": "removed", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e9ef331eb145aeff45079d4967c520ae4ff86a8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp%2Fwarning-directive-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e9ef331eb145aeff45079d4967c520ae4ff86a8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp%2Fwarning-directive-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp%2Fwarning-directive-2.C?ref=9e9ef331eb145aeff45079d4967c520ae4ff86a8", "patch": "@@ -1,4 +0,0 @@\n-// { dg-do preprocess }\n-// { dg-options \"-fdiagnostics-show-option -Werror=cpp\" }\n-/* { dg-message \"some warnings being treated as errors\" \"\" {target \"*-*-*\"} 0 } */\n-#warning \"Printed\"  // { dg-error \"\\\"Printed\\\" .-Wcpp.\" }"}, {"sha": "8ed66c66f1d3b8a798ea7827afa2858a9bb1184e", "filename": "gcc/testsuite/g++.dg/cpp/warning-directive-3.C", "status": "removed", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e9ef331eb145aeff45079d4967c520ae4ff86a8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp%2Fwarning-directive-3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e9ef331eb145aeff45079d4967c520ae4ff86a8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp%2Fwarning-directive-3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp%2Fwarning-directive-3.C?ref=9e9ef331eb145aeff45079d4967c520ae4ff86a8", "patch": "@@ -1,4 +0,0 @@\n-// { dg-do preprocess }\n-// { dg-options \"-fdiagnostics-show-option -Werror -Wno-error=cpp\" }\n-\n-#warning \"Printed\"  // { dg-warning \"\\\"Printed\\\" .-Wcpp.\" }"}, {"sha": "a5db1b4d5cd4df70dcdcbdde385ea2fc50a17bcc", "filename": "gcc/testsuite/g++.dg/cpp/warning-directive-4.C", "status": "removed", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e9ef331eb145aeff45079d4967c520ae4ff86a8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp%2Fwarning-directive-4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e9ef331eb145aeff45079d4967c520ae4ff86a8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp%2Fwarning-directive-4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp%2Fwarning-directive-4.C?ref=9e9ef331eb145aeff45079d4967c520ae4ff86a8", "patch": "@@ -1,4 +0,0 @@\n-// { dg-do preprocess }\n-// { dg-options \"-fdiagnostics-show-option -Wno-cpp\" }\n-\n-#warning \"Not printed\"  // { dg-bogus \".\" }"}, {"sha": "5758218a2678b3f11e5bc813c04c2948386c9e58", "filename": "gcc/testsuite/g++.dg/dg.exp", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97a3f2bd661c83edaef3f289007531e93d022db3/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdg.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97a3f2bd661c83edaef3f289007531e93d022db3/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdg.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdg.exp?ref=97a3f2bd661c83edaef3f289007531e93d022db3", "patch": "@@ -55,5 +55,9 @@ dg-runtest $tests \"\" $DEFAULT_CXXFLAGS\n dg-runtest [lsort [glob -nocomplain $srcdir/c-c++-common/*.\\[cSi\\]]] \\\n \t\"\" \"\"\n \n+dg-runtest [lsort [glob -nocomplain $srcdir/c-c++-common/cpp/*.\\[cS\\]]] \\\n+\t\"\" \"\"\n+\n+\n # All done.\n dg-finish"}, {"sha": "311223ff1f77f38b2206def0bfc8ad20aff78ff5", "filename": "gcc/testsuite/gcc.dg/cpp/cpp.exp", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97a3f2bd661c83edaef3f289007531e93d022db3/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fcpp.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97a3f2bd661c83edaef3f289007531e93d022db3/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fcpp.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fcpp.exp?ref=97a3f2bd661c83edaef3f289007531e93d022db3", "patch": "@@ -39,5 +39,10 @@ dg-init\n dg-runtest [lsort [glob -nocomplain $srcdir/$subdir/*.{c,S} ]] \\\n \t\"\" $DEFAULT_CFLAGS\n \n+# C/C++ common tests.\n+dg-runtest [lsort [glob -nocomplain $srcdir/c-c++-common/cpp/*.{c,S} ]] \\\n+\t\" -Wc++-compat \" \"\"\n+\n+\n # All done.\n dg-finish"}, {"sha": "cb4bd326cc28a7c1aeb6c1ae8770b9deaf6543d4", "filename": "gcc/testsuite/gcc.dg/cpp/warning-directive-1.c", "status": "removed", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e9ef331eb145aeff45079d4967c520ae4ff86a8/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fwarning-directive-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e9ef331eb145aeff45079d4967c520ae4ff86a8/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fwarning-directive-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fwarning-directive-1.c?ref=9e9ef331eb145aeff45079d4967c520ae4ff86a8", "patch": "@@ -1,4 +0,0 @@\n-// { dg-do preprocess }\n-// { dg-options \"-std=gnu99 -fdiagnostics-show-option\" }\n-\n-#warning \"Printed\"  // { dg-warning \"\\\"Printed\\\" .-Wcpp.\" }"}]}