{"sha": "8246b3148ea869d8f2cc2d420312feed719943db", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODI0NmIzMTQ4ZWE4NjlkOGYyY2MyZDQyMDMxMmZlZWQ3MTk5NDNkYg==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2009-12-11T17:54:37Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2009-12-11T17:54:37Z"}, "message": "PR libstdc++/22634, DR 539 [Ready]\n\n2009-12-11  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR libstdc++/22634, DR 539 [Ready]\n\t* include/bits/stl_numeric.h (adjacent_difference): Use std::move\n\tat the end of the loop body, per the Ready resolution.\n\t* include/std/numeric: Do not include unnecessarily <cstddef>.\n\t* doc/xml/manual/intro.xml: Add an entry for DR 539.\n\nFrom-SVN: r155173", "tree": {"sha": "28caefabc633e943e39366948da14657774645b2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/28caefabc633e943e39366948da14657774645b2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8246b3148ea869d8f2cc2d420312feed719943db", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8246b3148ea869d8f2cc2d420312feed719943db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8246b3148ea869d8f2cc2d420312feed719943db", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8246b3148ea869d8f2cc2d420312feed719943db/comments", "author": null, "committer": null, "parents": [{"sha": "f9679d8ae7199b2aba04614d7927a3dcd57c2bf3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9679d8ae7199b2aba04614d7927a3dcd57c2bf3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f9679d8ae7199b2aba04614d7927a3dcd57c2bf3"}], "stats": {"total": 28, "additions": 25, "deletions": 3}, "files": [{"sha": "68930acc1d8f317fba1033af42983cbebea3a44a", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8246b3148ea869d8f2cc2d420312feed719943db/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8246b3148ea869d8f2cc2d420312feed719943db/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=8246b3148ea869d8f2cc2d420312feed719943db", "patch": "@@ -1,3 +1,11 @@\n+2009-12-11  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR libstdc++/22634, DR 539 [Ready]\n+\t* include/bits/stl_numeric.h (adjacent_difference): Use std::move\n+\tat the end of the loop body, per the Ready resolution.\n+\t* include/std/numeric: Do not include unnecessarily <cstddef>.\n+\t* doc/xml/manual/intro.xml: Add an entry for DR 539.\n+\n 2009-12-11  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \t* doc/html/ext/lwg-active.html: Update to Revision R68."}, {"sha": "1c5e7f64e5572479ae4a8c2e8c02cb18088b420f", "filename": "libstdc++-v3/doc/xml/manual/intro.xml", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8246b3148ea869d8f2cc2d420312feed719943db/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fintro.xml", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8246b3148ea869d8f2cc2d420312feed719943db/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fintro.xml", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fintro.xml?ref=8246b3148ea869d8f2cc2d420312feed719943db", "patch": "@@ -699,6 +699,14 @@ requirements of the license of GCC.\n         input_iterator' value_type.\n     </para></listitem></varlistentry>\n \n+    <varlistentry><term><ulink url=\"../ext/lwg-active.html#539\">539</ulink>:\n+        <emphasis>partial_sum and adjacent_difference should mention\n+            requirements</emphasis>\n+    </term>\n+    <listitem><para>We were almost doing the right thing, just use std::move\n+        in adjacent_difference.\n+    </para></listitem></varlistentry>\n+\n     <varlistentry><term><ulink url=\"../ext/lwg-defects.html#541\">541</ulink>:\n         <emphasis>shared_ptr template assignment and void</emphasis>\n     </term>"}, {"sha": "1adddf6babc2351f77b6582a6e45c8554303563e", "filename": "libstdc++-v3/include/bits/stl_numeric.h", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8246b3148ea869d8f2cc2d420312feed719943db/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_numeric.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8246b3148ea869d8f2cc2d420312feed719943db/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_numeric.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_numeric.h?ref=8246b3148ea869d8f2cc2d420312feed719943db", "patch": "@@ -59,6 +59,7 @@\n \n #include <bits/concept_check.h>\n #include <debug/debug.h>\n+#include <bits/move.h> // For _GLIBCXX_MOVE\n \n #ifdef __GXX_EXPERIMENTAL_CXX0X__\n \n@@ -302,6 +303,9 @@ _GLIBCXX_BEGIN_NESTED_NAMESPACE(std, _GLIBCXX_STD_P)\n    *  @param  last  End of input range.\n    *  @param  result  Output to write sums to.\n    *  @return  Iterator pointing just beyond the values written to result.\n+   *\n+   *  _GLIBCXX_RESOLVE_LIB_DEFECTS\n+   *  DR 539. partial_sum and adjacent_difference should mention requirements\n    */\n   template<typename _InputIterator, typename _OutputIterator>\n     _OutputIterator\n@@ -324,7 +328,7 @@ _GLIBCXX_BEGIN_NESTED_NAMESPACE(std, _GLIBCXX_STD_P)\n \t{\n \t  _ValueType __tmp = *__first;\n \t  *++__result = __tmp - __value;\n-\t  __value = __tmp;\n+\t  __value = _GLIBCXX_MOVE(__tmp);\n \t}\n       return ++__result;\n     }\n@@ -340,6 +344,9 @@ _GLIBCXX_BEGIN_NESTED_NAMESPACE(std, _GLIBCXX_STD_P)\n    *  @param  last  End of input range.\n    *  @param  result  Output to write sums to.\n    *  @return  Iterator pointing just beyond the values written to result.\n+   *\n+   *  _GLIBCXX_RESOLVE_LIB_DEFECTS\n+   *  DR 539. partial_sum and adjacent_difference should mention requirements\n    */\n   template<typename _InputIterator, typename _OutputIterator,\n \t   typename _BinaryOperation>\n@@ -363,7 +370,7 @@ _GLIBCXX_BEGIN_NESTED_NAMESPACE(std, _GLIBCXX_STD_P)\n \t{\n \t  _ValueType __tmp = *__first;\n \t  *++__result = __binary_op(__tmp, __value);\n-\t  __value = __tmp;\n+\t  __value = _GLIBCXX_MOVE(__tmp);\n \t}\n       return ++__result;\n     }"}, {"sha": "1acedf4e634247ee353e8f6e6571f950cc44a699", "filename": "libstdc++-v3/include/std/numeric", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8246b3148ea869d8f2cc2d420312feed719943db/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fnumeric", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8246b3148ea869d8f2cc2d420312feed719943db/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fnumeric", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fnumeric?ref=8246b3148ea869d8f2cc2d420312feed719943db", "patch": "@@ -58,7 +58,6 @@\n #pragma GCC system_header\n \n #include <bits/c++config.h>\n-#include <cstddef>\n #include <bits/stl_iterator_base_types.h>\n #include <bits/stl_numeric.h>\n "}]}