{"sha": "6f3c667fbe065bfd55007031150a56f8ccf086d2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmYzYzY2N2ZiZTA2NWJmZDU1MDA3MDMxMTUwYTU2ZjhjY2YwODZkMg==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1992-09-16T19:59:37Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1992-09-16T19:59:37Z"}, "message": "print correct number of half-pic ptrs/refs for -mstats\n\nFrom-SVN: r2137", "tree": {"sha": "1c12bfd7c57580dc7ef3665b63a4448a2b1f05cc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1c12bfd7c57580dc7ef3665b63a4448a2b1f05cc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6f3c667fbe065bfd55007031150a56f8ccf086d2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f3c667fbe065bfd55007031150a56f8ccf086d2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f3c667fbe065bfd55007031150a56f8ccf086d2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f3c667fbe065bfd55007031150a56f8ccf086d2/comments", "author": null, "committer": null, "parents": [{"sha": "4debb28042b93975d51261428f0ade39b4e02e8a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4debb28042b93975d51261428f0ade39b4e02e8a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4debb28042b93975d51261428f0ade39b4e02e8a"}], "stats": {"total": 18, "additions": 14, "deletions": 4}, "files": [{"sha": "6cb808bf12235105399156e393bfddaefdafbd66", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 14, "deletions": 4, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f3c667fbe065bfd55007031150a56f8ccf086d2/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f3c667fbe065bfd55007031150a56f8ccf086d2/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=6f3c667fbe065bfd55007031150a56f8ccf086d2", "patch": "@@ -176,6 +176,10 @@ rtx branch_cmp[2];\n /* what type of branch to use */\n enum cmp_type branch_type;\n \n+/* Number of previously seen half-pic pointers and references.  */\n+static int prev_half_pic_ptrs = 0;\n+static int prev_half_pic_refs = 0;\n+\n /* which cpu are we scheduling for */\n enum processor_type mips_cpu;\n \n@@ -4428,11 +4432,17 @@ function_epilogue (file, size)\n \t       dslots_jump_total, dslots_jump_filled,\n \t       num_refs[0], num_refs[1], num_refs[2]);\n \n-      if (HALF_PIC_NUMBER_PTRS)\n-\tfprintf (stderr, \" half-pic=%3d\", HALF_PIC_NUMBER_PTRS);\n+      if (HALF_PIC_NUMBER_PTRS > prev_half_pic_ptrs)\n+\t{\n+\t  fprintf (stderr, \" half-pic=%3d\", HALF_PIC_NUMBER_PTRS - prev_half_pic_ptrs);\n+\t  prev_half_pic_ptrs = HALF_PIC_NUMBER_PTRS;\n+\t}\n \n-      if (HALF_PIC_NUMBER_REFS)\n-\tfprintf (stderr, \" pic-ref=%3d\", HALF_PIC_NUMBER_REFS);\n+      if (HALF_PIC_NUMBER_REFS > prev_half_pic_refs)\n+\t{\n+\t  fprintf (stderr, \" pic-ref=%3d\", HALF_PIC_NUMBER_REFS - prev_half_pic_refs);\n+\t  prev_half_pic_refs = HALF_PIC_NUMBER_REFS;\n+\t}\n \n       fputc ('\\n', stderr);\n     }"}]}