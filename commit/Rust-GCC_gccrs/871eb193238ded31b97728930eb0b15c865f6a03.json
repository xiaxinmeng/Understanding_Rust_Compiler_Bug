{"sha": "871eb193238ded31b97728930eb0b15c865f6a03", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODcxZWIxOTMyMzhkZWQzMWI5NzcyODkzMGViMGIxNWM4NjVmNmEwMw==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2014-08-22T18:06:16Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@gcc.gnu.org", "date": "2014-08-22T18:06:16Z"}, "message": "loop-doloop.c: Use rtx_insn in a few places\n\ngcc/\n\t* loop-doloop.c (doloop_valid_p): Strengthen local \"insn\" from rtx\n\tto rtx_insn *.\n\t(add_test): Likewise for locals \"seq\", \"jump\".\n\t(doloop_modify): Likewise for locals \"sequence\", \"jump_insn\".\n\nFrom-SVN: r214342", "tree": {"sha": "1c571707d9b662c84aec7f9b7d5f612cf318b75f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1c571707d9b662c84aec7f9b7d5f612cf318b75f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/871eb193238ded31b97728930eb0b15c865f6a03", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/871eb193238ded31b97728930eb0b15c865f6a03", "html_url": "https://github.com/Rust-GCC/gccrs/commit/871eb193238ded31b97728930eb0b15c865f6a03", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/871eb193238ded31b97728930eb0b15c865f6a03/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b47f38a520f61eccd0bb16387d948f0d5eca017d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b47f38a520f61eccd0bb16387d948f0d5eca017d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b47f38a520f61eccd0bb16387d948f0d5eca017d"}], "stats": {"total": 16, "additions": 12, "deletions": 4}, "files": [{"sha": "85f98d951ee6d03499a517e82ac4f5da5747dba6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/871eb193238ded31b97728930eb0b15c865f6a03/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/871eb193238ded31b97728930eb0b15c865f6a03/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=871eb193238ded31b97728930eb0b15c865f6a03", "patch": "@@ -1,3 +1,10 @@\n+2014-08-22  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* loop-doloop.c (doloop_valid_p): Strengthen local \"insn\" from rtx\n+\tto rtx_insn *.\n+\t(add_test): Likewise for locals \"seq\", \"jump\".\n+\t(doloop_modify): Likewise for locals \"sequence\", \"jump_insn\".\n+\n 2014-08-22  David Malcolm  <dmalcolm@redhat.com>\n \n \t* rtl.h (rebuild_jump_labels): Strengthen param \"f\" from rtx to"}, {"sha": "42e7f701fa75c0688a6a1430564fce77a32c4626", "filename": "gcc/loop-doloop.c", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/871eb193238ded31b97728930eb0b15c865f6a03/gcc%2Floop-doloop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/871eb193238ded31b97728930eb0b15c865f6a03/gcc%2Floop-doloop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Floop-doloop.c?ref=871eb193238ded31b97728930eb0b15c865f6a03", "patch": "@@ -261,7 +261,7 @@ static bool\n doloop_valid_p (struct loop *loop, struct niter_desc *desc)\n {\n   basic_block *body = get_loop_body (loop), bb;\n-  rtx insn;\n+  rtx_insn *insn;\n   unsigned i;\n   bool result = true;\n \n@@ -336,7 +336,8 @@ doloop_valid_p (struct loop *loop, struct niter_desc *desc)\n static bool\n add_test (rtx cond, edge *e, basic_block dest)\n {\n-  rtx seq, jump, label;\n+  rtx_insn *seq, *jump;\n+  rtx label;\n   enum machine_mode mode;\n   rtx op0 = XEXP (cond, 0), op1 = XEXP (cond, 1);\n   enum rtx_code code = GET_CODE (cond);\n@@ -401,8 +402,8 @@ doloop_modify (struct loop *loop, struct niter_desc *desc,\n {\n   rtx counter_reg;\n   rtx tmp, noloop = NULL_RTX;\n-  rtx sequence;\n-  rtx jump_insn;\n+  rtx_insn *sequence;\n+  rtx_insn *jump_insn;\n   rtx jump_label;\n   int nonneg = 0;\n   bool increment_count;"}]}