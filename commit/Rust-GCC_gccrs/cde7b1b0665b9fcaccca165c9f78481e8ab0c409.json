{"sha": "cde7b1b0665b9fcaccca165c9f78481e8ab0c409", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2RlN2IxYjA2NjViOWZjYWNjY2ExNjVjOWY3ODQ4MWU4YWIwYzQwOQ==", "commit": {"author": {"name": "Dave Brolley", "email": "brolley@cygnus.com", "date": "1998-10-16T12:42:35Z"}, "committer": {"name": "Dave Brolley", "email": "brolley@gcc.gnu.org", "date": "1998-10-16T12:42:35Z"}, "message": "lex.c (real_yylex): Fix unaligned access of wchar_t.\n\n1998-10-16  Dave Brolley  <brolley@cygnus.com>\n        * lex.c (real_yylex): Fix unaligned access of wchar_t.\n\nFrom-SVN: r23134", "tree": {"sha": "68cef3502a81aa996ab1af11e506c6a8da51b82c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/68cef3502a81aa996ab1af11e506c6a8da51b82c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cde7b1b0665b9fcaccca165c9f78481e8ab0c409", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cde7b1b0665b9fcaccca165c9f78481e8ab0c409", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cde7b1b0665b9fcaccca165c9f78481e8ab0c409", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cde7b1b0665b9fcaccca165c9f78481e8ab0c409/comments", "author": null, "committer": null, "parents": [{"sha": "1f3d9c636bc9510154a93ea10c0ceebcb038af15", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f3d9c636bc9510154a93ea10c0ceebcb038af15", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f3d9c636bc9510154a93ea10c0ceebcb038af15"}], "stats": {"total": 16, "additions": 9, "deletions": 7}, "files": [{"sha": "317161bf1cca06c7decf77f403a729d17dee8ef1", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cde7b1b0665b9fcaccca165c9f78481e8ab0c409/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cde7b1b0665b9fcaccca165c9f78481e8ab0c409/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=cde7b1b0665b9fcaccca165c9f78481e8ab0c409", "patch": "@@ -1,3 +1,7 @@\n+1998-10-16  Dave Brolley  <brolley@cygnus.com>\n+\n+        * lex.c (real_yylex): Fix unaligned access of wchar_t.\n+\n 1998-10-16  Mark Mitchell  <mark@markmitchell.com>\n \n \t* class.c (add_method): Fix documentation to reflect previous"}, {"sha": "3f0ab4773355970e0e840026a4cd40db1d3338af", "filename": "gcc/cp/lex.c", "status": "modified", "additions": 5, "deletions": 7, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cde7b1b0665b9fcaccca165c9f78481e8ab0c409/gcc%2Fcp%2Flex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cde7b1b0665b9fcaccca165c9f78481e8ab0c409/gcc%2Fcp%2Flex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Flex.c?ref=cde7b1b0665b9fcaccca165c9f78481e8ab0c409", "patch": "@@ -4214,15 +4214,13 @@ real_yylex ()\n \t\t    /* mbtowc sometimes needs an extra char before accepting */\n \t\t    if (char_len <= i)\n \t\t      put_back (c);\n-\t\t    if (wide_flag)\n+\t\t    if (! wide_flag)\n \t\t      {\n-\t\t\t*(wchar_t *)p = wc;\n-\t\t\tp += sizeof (wc);\n+\t\t\tp += (i + 1);\n+\t\t\tc = getch ();\n+\t\t\tcontinue;\n \t\t      }\n-\t\t    else\n-\t\t      p += (i + 1);\n-\t\t    c = getch ();\n-\t\t    continue;\n+\t\t    c = wc;\n \t\t  }\n #endif /* MULTIBYTE_CHARS */\n \t      }"}]}