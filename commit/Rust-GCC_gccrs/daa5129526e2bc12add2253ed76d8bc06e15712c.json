{"sha": "daa5129526e2bc12add2253ed76d8bc06e15712c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGFhNTEyOTUyNmUyYmMxMmFkZDIyNTNlZDc2ZDhiYzA2ZTE1NzEyYw==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2012-05-13T17:17:30Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2012-05-13T17:17:30Z"}, "message": "* config/i386/sse.md: The other part of my previous commit.\n\nFrom-SVN: r187440", "tree": {"sha": "dd67504011bf44d5fe5958fb0b501fd939187c06", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dd67504011bf44d5fe5958fb0b501fd939187c06"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/daa5129526e2bc12add2253ed76d8bc06e15712c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/daa5129526e2bc12add2253ed76d8bc06e15712c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/daa5129526e2bc12add2253ed76d8bc06e15712c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/daa5129526e2bc12add2253ed76d8bc06e15712c/comments", "author": null, "committer": null, "parents": [{"sha": "b8dd089424921cc5b96d3a96b5dc359266bdfc65", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8dd089424921cc5b96d3a96b5dc359266bdfc65", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b8dd089424921cc5b96d3a96b5dc359266bdfc65"}], "stats": {"total": 42, "additions": 28, "deletions": 14}, "files": [{"sha": "70cced4ca7ca84e933d9273fa68c2286d2c8bf0b", "filename": "gcc/config/i386/sse.md", "status": "modified", "additions": 28, "deletions": 14, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daa5129526e2bc12add2253ed76d8bc06e15712c/gcc%2Fconfig%2Fi386%2Fsse.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daa5129526e2bc12add2253ed76d8bc06e15712c/gcc%2Fconfig%2Fi386%2Fsse.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fsse.md?ref=daa5129526e2bc12add2253ed76d8bc06e15712c", "patch": "@@ -6729,13 +6729,20 @@\n        (const_string \"*\")))\n    (set_attr \"prefix\" \"orig,vex\")\n    (set (attr \"mode\")\n-     (cond [(and (not (match_test \"TARGET_AVX2\"))\n-\t\t (match_test \"GET_MODE_SIZE (<MODE>mode) > 16\"))\n-\t      (const_string \"V8SF\")\n-\t    (not (match_test \"TARGET_SSE2\"))\n-\t      (const_string \"V4SF\")\n-\t   ]\n-\t   (const_string \"<sseinsnmode>\")))])\n+\t(cond [(match_test \"TARGET_SSE_PACKED_SINGLE_INSN_OPTIMAL\")\n+\t\t (const_string \"<ssePSmode>\")\n+\t       (match_test \"TARGET_AVX2\")\n+\t\t (const_string \"<sseinsnmode>\")\n+\t       (match_test \"TARGET_AVX\")\n+\t\t (if_then_else\n+\t\t   (match_test \"GET_MODE_SIZE (<MODE>mode) > 16\")\n+\t\t   (const_string \"V8SF\")\n+\t\t   (const_string \"<sseinsnmode>\"))\n+\t       (ior (not (match_test \"TARGET_SSE2\"))\n+\t\t    (match_test \"optimize_function_for_size_p (cfun)\"))\n+\t\t (const_string \"V4SF\")\n+\t      ]\n+\t      (const_string \"<sseinsnmode>\")))])\n \n (define_expand \"<code><mode>3\"\n   [(set (match_operand:VI 0 \"register_operand\")\n@@ -6804,13 +6811,20 @@\n        (const_string \"*\")))\n    (set_attr \"prefix\" \"orig,vex\")\n    (set (attr \"mode\")\n-     (cond [(and (not (match_test \"TARGET_AVX2\"))\n-\t\t (match_test \"GET_MODE_SIZE (<MODE>mode) > 16\"))\n-\t      (const_string \"V8SF\")\n-\t    (not (match_test \"TARGET_SSE2\"))\n-\t      (const_string \"V4SF\")\n-\t   ]\n-\t   (const_string \"<sseinsnmode>\")))])\n+\t(cond [(match_test \"TARGET_SSE_PACKED_SINGLE_INSN_OPTIMAL\")\n+\t\t (const_string \"<ssePSmode>\")\n+\t       (match_test \"TARGET_AVX2\")\n+\t\t (const_string \"<sseinsnmode>\")\n+\t       (match_test \"TARGET_AVX\")\n+\t\t (if_then_else\n+\t\t   (match_test \"GET_MODE_SIZE (<MODE>mode) > 16\")\n+\t\t   (const_string \"V8SF\")\n+\t\t   (const_string \"<sseinsnmode>\"))\n+\t       (ior (not (match_test \"TARGET_SSE2\"))\n+\t\t    (match_test \"optimize_function_for_size_p (cfun)\"))\n+\t\t (const_string \"V4SF\")\n+\t      ]\n+\t      (const_string \"<sseinsnmode>\")))])\n \n ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n ;;"}]}