{"sha": "669e91abfa0d4790724c482cc09b2e2c3e593824", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjY5ZTkxYWJmYTBkNDc5MDcyNGM0ODJjYzA5YjJlMmMzZTU5MzgyNA==", "commit": {"author": {"name": "Michael Koch", "email": "konqueror@gmx.de", "date": "2003-05-20T11:53:11Z"}, "committer": {"name": "Michael Koch", "email": "mkoch@gcc.gnu.org", "date": "2003-05-20T11:53:11Z"}, "message": "2003-05-20  Michael Koch  <konqueror@gmx.de>\n\n\t* java/io/DataInputStream.java\n\t(convertFromUTF): Merged comment from classpath.\n\t* java/io/PrintStream.java\n\t(error_occured): Renamed from error, merged comment from classpath.\n\t(PrintStream): No need to initialized error.\n\t(checkError): Replace error with error_occurred.\n\t(setError): Likewise.\n\nFrom-SVN: r66997", "tree": {"sha": "9277c22b9002ea46879f07db5568e49fc367dec4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9277c22b9002ea46879f07db5568e49fc367dec4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/669e91abfa0d4790724c482cc09b2e2c3e593824", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/669e91abfa0d4790724c482cc09b2e2c3e593824", "html_url": "https://github.com/Rust-GCC/gccrs/commit/669e91abfa0d4790724c482cc09b2e2c3e593824", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/669e91abfa0d4790724c482cc09b2e2c3e593824/comments", "author": null, "committer": null, "parents": [{"sha": "8d4d9d1911a80652dc826ea85975f2da57d4c0b5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d4d9d1911a80652dc826ea85975f2da57d4c0b5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d4d9d1911a80652dc826ea85975f2da57d4c0b5"}], "stats": {"total": 28, "additions": 22, "deletions": 6}, "files": [{"sha": "505e9c7291d9020f8eee08e63279f23249b837c4", "filename": "libjava/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/669e91abfa0d4790724c482cc09b2e2c3e593824/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/669e91abfa0d4790724c482cc09b2e2c3e593824/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=669e91abfa0d4790724c482cc09b2e2c3e593824", "patch": "@@ -1,3 +1,13 @@\n+2003-05-20  Michael Koch  <konqueror@gmx.de>\n+\n+\t* java/io/DataInputStream.java\n+\t(convertFromUTF): Merged comment from classpath.\n+\t* java/io/PrintStream.java\n+\t(error_occured): Renamed from error, merged comment from classpath.\n+\t(PrintStream): No need to initialized error.\n+\t(checkError): Replace error with error_occurred.\n+\t(setError): Likewise.\n+\n 2003-05-20  Michael Koch  <konqueror@gmx.de>\n \n \t* java/io/DataInputStream.java:"}, {"sha": "6b4b1d74ead621bb7bce86c8ba65ab0dead63cd6", "filename": "libjava/java/io/DataInputStream.java", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/669e91abfa0d4790724c482cc09b2e2c3e593824/libjava%2Fjava%2Fio%2FDataInputStream.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/669e91abfa0d4790724c482cc09b2e2c3e593824/libjava%2Fjava%2Fio%2FDataInputStream.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fio%2FDataInputStream.java?ref=669e91abfa0d4790724c482cc09b2e2c3e593824", "patch": "@@ -755,6 +755,10 @@ static long convertToLong (byte[] buf)\n \t    ((long)(buf [7] & 0xff)));  \n   }\n \n+  // FIXME: This method should be re-thought.  I suspect we have multiple\n+  // UTF-8 decoders floating around.  We should use the standard charset\n+  // converters, maybe and adding a direct call into one of the new\n+  // NIO converters for a super-fast UTF8 decode.\n   static String convertFromUTF (byte[] buf) \n     throws EOFException, UTFDataFormatException\n   {"}, {"sha": "418eea178cdc328e2644d6e9538e2684fba3a989", "filename": "libjava/java/io/PrintStream.java", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/669e91abfa0d4790724c482cc09b2e2c3e593824/libjava%2Fjava%2Fio%2FPrintStream.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/669e91abfa0d4790724c482cc09b2e2c3e593824/libjava%2Fjava%2Fio%2FPrintStream.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fio%2FPrintStream.java?ref=669e91abfa0d4790724c482cc09b2e2c3e593824", "patch": "@@ -81,9 +81,12 @@ public class PrintStream extends FilterOutputStream\n   // Work buffer of bytes where we temporarily keep converter output.\n   byte[] work_bytes = new byte[100];\n \n-  // True if error occurred.\n-  private boolean error;\n-  // True if auto-flush.\n+  /**\n+   * This boolean indicates whether or not an error has ever occurred\n+   * on this stream.\n+   */\n+  private boolean error_occurred = false;\n+\n   /**\n    * This is <code>true</code> if auto-flush is enabled, \n    * <code>false</code> otherwise\n@@ -123,7 +126,6 @@ public PrintStream (OutputStream out, boolean auto_flush)\n     super(out);\n \n     converter = UnicodeToBytes.getDefaultEncoder();\n-    error = false;\n     this.auto_flush = auto_flush;\n   }\n \n@@ -139,7 +141,7 @@ public PrintStream (OutputStream out, boolean auto_flush)\n   public boolean checkError ()\n   {\n     flush();\n-    return error;\n+    return error_occurred;\n   }\n \n   /**\n@@ -148,7 +150,7 @@ public boolean checkError ()\n    */\n   protected void setError ()\n   {\n-    error = true;\n+    error_occurred = true;\n   }\n \n   /**"}]}