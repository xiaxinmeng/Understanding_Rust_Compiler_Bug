{"sha": "dd000841cad4f013ef79ef97a26d3ec673765186", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGQwMDA4NDFjYWQ0ZjAxM2VmNzllZjk3YTI2ZDNlYzY3Mzc2NTE4Ng==", "commit": {"author": {"name": "Chung-Ju Wu", "email": "jasonwucj@gmail.com", "date": "2018-05-20T05:09:49Z"}, "committer": {"name": "Chung-Ju Wu", "email": "jasonwucj@gcc.gnu.org", "date": "2018-05-20T05:09:49Z"}, "message": "[NDS32] Print pipeline model in asm header.\n\ngcc/\n\t* config/nds32/nds32.c (nds32_asm_file_start): Output pipeline model.\n\t* config/nds32/nds32.h (TARGET_PIPELINE_N7): Define.\n\t(TARGET_PIPELINE_N8): Likewise.\n\t(TARGET_PIPELINE_N10): Likewise.\n\t(TARGET_PIPELINE_N13): Likewise.\n\t(TARGET_PIPELINE_GRAYWOLF): Likewise.\n\nFrom-SVN: r260409", "tree": {"sha": "8ddbe0ef3a75d224112e61c491e4ce40af72493d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8ddbe0ef3a75d224112e61c491e4ce40af72493d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dd000841cad4f013ef79ef97a26d3ec673765186", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd000841cad4f013ef79ef97a26d3ec673765186", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd000841cad4f013ef79ef97a26d3ec673765186", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd000841cad4f013ef79ef97a26d3ec673765186/comments", "author": {"login": "jasonwucj", "id": 5520732, "node_id": "MDQ6VXNlcjU1MjA3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/5520732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasonwucj", "html_url": "https://github.com/jasonwucj", "followers_url": "https://api.github.com/users/jasonwucj/followers", "following_url": "https://api.github.com/users/jasonwucj/following{/other_user}", "gists_url": "https://api.github.com/users/jasonwucj/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasonwucj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasonwucj/subscriptions", "organizations_url": "https://api.github.com/users/jasonwucj/orgs", "repos_url": "https://api.github.com/users/jasonwucj/repos", "events_url": "https://api.github.com/users/jasonwucj/events{/privacy}", "received_events_url": "https://api.github.com/users/jasonwucj/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e7e86bd341cd2be9f2f6436ed3cb926ac14d73e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7e86bd341cd2be9f2f6436ed3cb926ac14d73e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e7e86bd341cd2be9f2f6436ed3cb926ac14d73e7"}], "stats": {"total": 63, "additions": 63, "deletions": 0}, "files": [{"sha": "3672440a72d48a6149fc76aac8262c916292fcec", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd000841cad4f013ef79ef97a26d3ec673765186/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd000841cad4f013ef79ef97a26d3ec673765186/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=dd000841cad4f013ef79ef97a26d3ec673765186", "patch": "@@ -1,3 +1,12 @@\n+2018-05-19  Chung-Ju Wu  <jasonwucj@gmail.com>\n+\n+\t* config/nds32/nds32.c (nds32_asm_file_start): Output pipeline model.\n+\t* config/nds32/nds32.h (TARGET_PIPELINE_N7): Define.\n+\t(TARGET_PIPELINE_N8): Likewise.\n+\t(TARGET_PIPELINE_N10): Likewise.\n+\t(TARGET_PIPELINE_N13): Likewise.\n+\t(TARGET_PIPELINE_GRAYWOLF): Likewise.\n+\n 2018-05-19  Monk Chiang  <sh.chiang04@gmail.com>\n \n \t* config/nds32/nds32-fpu.md: Update copyright year."}, {"sha": "0b6f109b736e46ebff724c1af6d163d813fcb507", "filename": "gcc/config/nds32/nds32.c", "status": "modified", "additions": 43, "deletions": 0, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd000841cad4f013ef79ef97a26d3ec673765186/gcc%2Fconfig%2Fnds32%2Fnds32.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd000841cad4f013ef79ef97a26d3ec673765186/gcc%2Fconfig%2Fnds32%2Fnds32.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnds32%2Fnds32.c?ref=dd000841cad4f013ef79ef97a26d3ec673765186", "patch": "@@ -3131,6 +3131,49 @@ nds32_asm_file_start (void)\n   if (TARGET_ISA_V3M)\n     fprintf (asm_out_file, \"\\t! ISA family\\t\\t: %s\\n\", \"V3M\");\n \n+  switch (nds32_cpu_option)\n+    {\n+    case CPU_N6:\n+      fprintf (asm_out_file, \"\\t! Pipeline model\\t: %s\\n\", \"N6\");\n+      break;\n+\n+    case CPU_N7:\n+      fprintf (asm_out_file, \"\\t! Pipeline model\\t: %s\\n\", \"N7\");\n+      break;\n+\n+    case CPU_N8:\n+      fprintf (asm_out_file, \"\\t! Pipeline model\\t: %s\\n\", \"N8\");\n+      break;\n+\n+    case CPU_E8:\n+      fprintf (asm_out_file, \"\\t! Pipeline model\\t: %s\\n\", \"E8\");\n+      break;\n+\n+    case CPU_N9:\n+      fprintf (asm_out_file, \"\\t! Pipeline model\\t: %s\\n\", \"N9\");\n+      break;\n+\n+    case CPU_N10:\n+      fprintf (asm_out_file, \"\\t! Pipeline model\\t: %s\\n\", \"N10\");\n+      break;\n+\n+    case CPU_GRAYWOLF:\n+      fprintf (asm_out_file, \"\\t! Pipeline model\\t: %s\\n\", \"Graywolf\");\n+      break;\n+\n+    case CPU_N12:\n+    case CPU_N13:\n+      fprintf (asm_out_file, \"\\t! Pipeline model\\t: %s\\n\", \"N13\");\n+      break;\n+\n+    case CPU_SIMPLE:\n+      fprintf (asm_out_file, \"\\t! Pipeline model\\t: %s\\n\", \"SIMPLE\");\n+      break;\n+\n+    default:\n+      gcc_unreachable ();\n+    }\n+\n   if (TARGET_CMODEL_SMALL)\n     fprintf (asm_out_file, \"\\t! Code model\\t\\t: %s\\n\", \"SMALL\");\n   if (TARGET_CMODEL_MEDIUM)"}, {"sha": "e00622b58be8a849dd872ea48b8b39dcdf1656d4", "filename": "gcc/config/nds32/nds32.h", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd000841cad4f013ef79ef97a26d3ec673765186/gcc%2Fconfig%2Fnds32%2Fnds32.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd000841cad4f013ef79ef97a26d3ec673765186/gcc%2Fconfig%2Fnds32%2Fnds32.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnds32%2Fnds32.h?ref=dd000841cad4f013ef79ef97a26d3ec673765186", "patch": "@@ -853,8 +853,19 @@ enum nds32_builtins\n    || nds32_arch_option == ARCH_V3S)\n #define TARGET_ISA_V3M  (nds32_arch_option == ARCH_V3M)\n \n+#define TARGET_PIPELINE_N7 \\\n+  (nds32_cpu_option == CPU_N7)\n+#define TARGET_PIPELINE_N8 \\\n+  (nds32_cpu_option == CPU_N6 \\\n+   || nds32_cpu_option == CPU_N8)\n #define TARGET_PIPELINE_N9 \\\n   (nds32_cpu_option == CPU_N9)\n+#define TARGET_PIPELINE_N10 \\\n+  (nds32_cpu_option == CPU_N10)\n+#define TARGET_PIPELINE_N13 \\\n+  (nds32_cpu_option == CPU_N12 || nds32_cpu_option == CPU_N13)\n+#define TARGET_PIPELINE_GRAYWOLF \\\n+  (nds32_cpu_option == CPU_GRAYWOLF)\n #define TARGET_PIPELINE_SIMPLE \\\n   (nds32_cpu_option == CPU_SIMPLE)\n "}]}