{"sha": "b2fb03eb24256ab8c39516f5f1189e0d50c6f9cd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjJmYjAzZWIyNDI1NmFiOGMzOTUxNmY1ZjExODllMGQ1MGM2ZjljZA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2015-10-28T22:33:46Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2015-10-28T22:33:46Z"}, "message": "* gnat.dg/discr44.adb: New test.\n\nFrom-SVN: r229508", "tree": {"sha": "a88451891191c321b2c78f3feb6c3f7160c0bebe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a88451891191c321b2c78f3feb6c3f7160c0bebe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b2fb03eb24256ab8c39516f5f1189e0d50c6f9cd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2fb03eb24256ab8c39516f5f1189e0d50c6f9cd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b2fb03eb24256ab8c39516f5f1189e0d50c6f9cd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2fb03eb24256ab8c39516f5f1189e0d50c6f9cd/comments", "author": null, "committer": null, "parents": [{"sha": "38b882b5421ed6480468e458d24f3cbcfc67f26b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38b882b5421ed6480468e458d24f3cbcfc67f26b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/38b882b5421ed6480468e458d24f3cbcfc67f26b"}], "stats": {"total": 35, "additions": 33, "deletions": 2}, "files": [{"sha": "43f6007e9e27c737edc8863ef60e44e7e3ae9f4c", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b2fb03eb24256ab8c39516f5f1189e0d50c6f9cd/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b2fb03eb24256ab8c39516f5f1189e0d50c6f9cd/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b2fb03eb24256ab8c39516f5f1189e0d50c6f9cd", "patch": "@@ -1,4 +1,8 @@\n-2015-10-26  Jim Wilson  <jim.wilson@linaro.org>\n+2015-10-28  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gnat.dg/discr44.adb: New test.\n+\n+2015-10-28  Jim Wilson  <jim.wilson@linaro.org>\n \n \tPR debug/66068\n \t* gcc.dg/debug/pr66068.c: New test.\n@@ -16,7 +20,7 @@\n \t* gcc.target/mips/oddspreg-1.c: Likewise.\n \t* gcc.target/mips/oddspreg-2.c: Likewise.\n \n-2015-10-05  Senthil Kumar Selvaraj  <senthil_kumar.selvaraj@atmel.com>\n+2015-10-28  Senthil Kumar Selvaraj  <senthil_kumar.selvaraj@atmel.com>\n \n \tPR target/67839\n \t* gcc.target/avr/pr67839.c: New test."}, {"sha": "ea9f5b139eb74888bf73907ea271fbbc436672b4", "filename": "gcc/testsuite/gnat.dg/discr44.adb", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b2fb03eb24256ab8c39516f5f1189e0d50c6f9cd/gcc%2Ftestsuite%2Fgnat.dg%2Fdiscr44.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b2fb03eb24256ab8c39516f5f1189e0d50c6f9cd/gcc%2Ftestsuite%2Fgnat.dg%2Fdiscr44.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fdiscr44.adb?ref=b2fb03eb24256ab8c39516f5f1189e0d50c6f9cd", "patch": "@@ -0,0 +1,27 @@\n+-- { dg-do run }\n+-- { dg-options \"-gnatws\" }\n+\n+procedure Discr44 is\n+\n+  function Ident (I : Integer) return Integer is\n+  begin\n+    return I;\n+  end;\n+\n+  type Int is range 1 .. 10;\n+\n+  type Str is array (Int range <>) of Character;\n+\n+  type Parent (D1, D2 : Int; B : Boolean) is record\n+    S : Str (D1 .. D2);\n+  end record;\n+\n+  type Derived (D : Int) is new Parent (D1 => D, D2 => D, B => False);\n+\n+  X1 : Derived (D => Int (Ident (7)));\n+\n+begin\n+  if X1.D /= 7 then\n+    raise Program_Error;\n+  end if;\n+end;"}]}