{"sha": "131c66cd15a0195d27d95fe3686ed4c31cc96b53", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTMxYzY2Y2QxNWEwMTk1ZDI3ZDk1ZmUzNjg2ZWQ0YzMxY2M5NmI1Mw==", "commit": {"author": {"name": "Fran\u00e7ois-Xavier Coudert", "email": "fxcoudert@gcc.gnu.org", "date": "2005-06-20T20:14:20Z"}, "committer": {"name": "Fran\u00e7ois-Xavier Coudert", "email": "fxcoudert@gcc.gnu.org", "date": "2005-06-20T20:14:20Z"}, "message": "gfortran.h: Add flag_backslash compile-time option.\n\n\t* gfortran.h: Add flag_backslash compile-time option.\n\t* lang.opt: Add support for -fbackslash option.\n\t* options.c: Likewise.\n\t* primary.c: Implement behavior for -fno-backslash.\n\t* invoke.texi: Add doc for -fbackslash option.\n\t* gfortran.texi: Remove mention of -fno-backslash as a\n\tpossible extension.\n\t* gfortran.dg/backslash_1.f90: New test.\n\t* gfortran.dg/backslash_2.f90: New test.\n\nFrom-SVN: r101216", "tree": {"sha": "2056e189f5620a845044b4bfa63a30c1e4a686cc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2056e189f5620a845044b4bfa63a30c1e4a686cc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/131c66cd15a0195d27d95fe3686ed4c31cc96b53", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/131c66cd15a0195d27d95fe3686ed4c31cc96b53", "html_url": "https://github.com/Rust-GCC/gccrs/commit/131c66cd15a0195d27d95fe3686ed4c31cc96b53", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/131c66cd15a0195d27d95fe3686ed4c31cc96b53/comments", "author": {"login": "fxcoudert", "id": 1980544, "node_id": "MDQ6VXNlcjE5ODA1NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1980544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fxcoudert", "html_url": "https://github.com/fxcoudert", "followers_url": "https://api.github.com/users/fxcoudert/followers", "following_url": "https://api.github.com/users/fxcoudert/following{/other_user}", "gists_url": "https://api.github.com/users/fxcoudert/gists{/gist_id}", "starred_url": "https://api.github.com/users/fxcoudert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fxcoudert/subscriptions", "organizations_url": "https://api.github.com/users/fxcoudert/orgs", "repos_url": "https://api.github.com/users/fxcoudert/repos", "events_url": "https://api.github.com/users/fxcoudert/events{/privacy}", "received_events_url": "https://api.github.com/users/fxcoudert/received_events", "type": "User", "site_admin": false}, "committer": {"login": "fxcoudert", "id": 1980544, "node_id": "MDQ6VXNlcjE5ODA1NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1980544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fxcoudert", "html_url": "https://github.com/fxcoudert", "followers_url": "https://api.github.com/users/fxcoudert/followers", "following_url": "https://api.github.com/users/fxcoudert/following{/other_user}", "gists_url": "https://api.github.com/users/fxcoudert/gists{/gist_id}", "starred_url": "https://api.github.com/users/fxcoudert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fxcoudert/subscriptions", "organizations_url": "https://api.github.com/users/fxcoudert/orgs", "repos_url": "https://api.github.com/users/fxcoudert/repos", "events_url": "https://api.github.com/users/fxcoudert/events{/privacy}", "received_events_url": "https://api.github.com/users/fxcoudert/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e0757dda6639e74627db62ea10115261f28be012", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0757dda6639e74627db62ea10115261f28be012", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e0757dda6639e74627db62ea10115261f28be012"}], "stats": {"total": 66, "additions": 58, "deletions": 8}, "files": [{"sha": "614a23803d99d02b97b67875fa4486469e6edb4b", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/131c66cd15a0195d27d95fe3686ed4c31cc96b53/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/131c66cd15a0195d27d95fe3686ed4c31cc96b53/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=131c66cd15a0195d27d95fe3686ed4c31cc96b53", "patch": "@@ -1,4 +1,14 @@\n-2005-06-20  Steven G. Kargl  <kargls@comcast.net.\n+2005-06-19  Francois-Xavier Coudert  <coudert@clipper.ens.fr>\n+\n+\t* gfortran.h: Add flag_backslash compile-time option.\n+\t* lang.opt: Add support for -fbackslash option.\n+\t* options.c: Likewise.\n+\t* primary.c: Implement behavior for -fno-backslash.\n+\t* invoke.texi: Add doc for -fbackslash option.\n+\t* gfortran.texi: Remove mention of -fno-backslash as a\n+\tpossible extension.\n+\n+2005-06-20  Steven G. Kargl  <kargls@comcast.net>\n \t(port from g95)\n \n \tPR fortran/21257"}, {"sha": "085e1ae72e61c6ef4666ae4b1ed937bf533ca663", "filename": "gcc/fortran/gfortran.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/131c66cd15a0195d27d95fe3686ed4c31cc96b53/gcc%2Ffortran%2Fgfortran.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/131c66cd15a0195d27d95fe3686ed4c31cc96b53/gcc%2Ffortran%2Fgfortran.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fgfortran.h?ref=131c66cd15a0195d27d95fe3686ed4c31cc96b53", "patch": "@@ -1421,6 +1421,7 @@ typedef struct\n   int flag_pack_derived;\n   int flag_repack_arrays;\n   int flag_f2c;\n+  int flag_backslash;\n \n   int q_kind;\n "}, {"sha": "9ac79b884ea2dd036fe110fba427af0e86c176a0", "filename": "gcc/fortran/gfortran.texi", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/131c66cd15a0195d27d95fe3686ed4c31cc96b53/gcc%2Ffortran%2Fgfortran.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/131c66cd15a0195d27d95fe3686ed4c31cc96b53/gcc%2Ffortran%2Fgfortran.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fgfortran.texi?ref=131c66cd15a0195d27d95fe3686ed4c31cc96b53", "patch": "@@ -503,10 +503,6 @@ module storage either on stack or heap.\n Flag to cause the compiler to distinguish between upper and lower case\n names.  The Fortran 95 standard does not distinguish them.\n \n-@item\n-Compile switch for changing the interpretation of a backslash from a\n-character to ``C''-style escape characters.\n-\n @item\n Compile flag to generate code for array conformance checking (suggest -CC).\n "}, {"sha": "feeacf7e9b614ad95a8037fa8065374c243429fe", "filename": "gcc/fortran/invoke.texi", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/131c66cd15a0195d27d95fe3686ed4c31cc96b53/gcc%2Ffortran%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/131c66cd15a0195d27d95fe3686ed4c31cc96b53/gcc%2Ffortran%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Finvoke.texi?ref=131c66cd15a0195d27d95fe3686ed4c31cc96b53", "patch": "@@ -208,6 +208,15 @@ Do nothing if this is already the default.\n @cindex character set\n Allow @samp{$} as a valid character in a symbol name.\n \n+@cindex -fno-backslash option\n+@cindex options, -fno-backslash\n+@item -fno-backslash\n+@cindex backslash\n+@cindex escape characters\n+@item\n+Compile switch to change the interpretation of a backslash from\n+``C''-style escape characters to a single backslash character.\n+\n @cindex -ffixed-line-length-@var{n} option\n @cindex options, -ffixed-line-length-@var{n}\n @item -ffixed-line-length-@var{n}"}, {"sha": "fd92d15ded827d282578aabd8a3c61347becba53", "filename": "gcc/fortran/lang.opt", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/131c66cd15a0195d27d95fe3686ed4c31cc96b53/gcc%2Ffortran%2Flang.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/131c66cd15a0195d27d95fe3686ed4c31cc96b53/gcc%2Ffortran%2Flang.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Flang.opt?ref=131c66cd15a0195d27d95fe3686ed4c31cc96b53", "patch": "@@ -85,6 +85,10 @@ fdollar-ok\n F95\n Allow dollar signs in entity names\n \n+fbackslash\n+F95\n+Specify that backslash in string introduces an escape character\n+\n fdump-parse-tree\n F95\n Display the code tree after parsing."}, {"sha": "681dbdacc79afcefa394586fdf95f05c3ec28cf3", "filename": "gcc/fortran/options.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/131c66cd15a0195d27d95fe3686ed4c31cc96b53/gcc%2Ffortran%2Foptions.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/131c66cd15a0195d27d95fe3686ed4c31cc96b53/gcc%2Ffortran%2Foptions.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Foptions.c?ref=131c66cd15a0195d27d95fe3686ed4c31cc96b53", "patch": "@@ -70,6 +70,7 @@ gfc_init_options (unsigned int argc ATTRIBUTE_UNUSED,\n   gfc_option.flag_no_backend = 0;\n   gfc_option.flag_pack_derived = 0;\n   gfc_option.flag_repack_arrays = 0;\n+  gfc_option.flag_backslash = 1;\n \n   gfc_option.q_kind = gfc_default_double_kind;\n \n@@ -233,6 +234,10 @@ gfc_handle_option (size_t scode, const char *arg, int value)\n       gfc_option.flag_dollar_ok = value;\n       break;\n \n+    case OPT_fbackslash:\n+      gfc_option.flag_backslash = value;\n+      break;\n+\n     case OPT_fdump_parse_tree:\n       gfc_option.verbose = value;\n       break;"}, {"sha": "984adcfa426ef16b1243605162b0ac9a731c3a8b", "filename": "gcc/fortran/primary.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/131c66cd15a0195d27d95fe3686ed4c31cc96b53/gcc%2Ffortran%2Fprimary.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/131c66cd15a0195d27d95fe3686ed4c31cc96b53/gcc%2Ffortran%2Fprimary.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fprimary.c?ref=131c66cd15a0195d27d95fe3686ed4c31cc96b53", "patch": "@@ -637,7 +637,7 @@ next_string_char (char delimiter)\n   if (c == '\\n')\n     return -2;\n \n-  if (c == '\\\\')\n+  if (gfc_option.flag_backslash && c == '\\\\')\n     {\n       old_locus = gfc_current_locus;\n "}, {"sha": "088e10aeb4fc54b6bce41b2961aff46b82b7b13b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/131c66cd15a0195d27d95fe3686ed4c31cc96b53/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/131c66cd15a0195d27d95fe3686ed4c31cc96b53/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=131c66cd15a0195d27d95fe3686ed4c31cc96b53", "patch": "@@ -1,3 +1,8 @@\n+2005-06-19  Francois-Xavier Coudert  <coudert@clipper.ens.fr>\n+\n+\t* gfortran.dg/backslash_1.f90: New test.\n+\t* gfortran.dg/backslash_2.f90: New test.\n+\n 2005-06-20  Steven G. Kargl  <kargls@comcast.net>\n \n \t* gfortran.dg/duplicate_labels.f90: New test.\n@@ -25,8 +30,8 @@\n \n 2005-06-19  Aldy Hernandez  <aldyh@redhat.com>\n \n-        PR c++/22115\n-        * g++.dg/conversion/simd2.C: Change expected error message.\n+\tPR c++/22115\n+\t* g++.dg/conversion/simd2.C: Change expected error message.\n \n 2005-06-18  Dorit Nuzman  <dorit@il.ibm.com>\n "}, {"sha": "db7ddbc24b7aa29e2019e974f9a21ba499968996", "filename": "gcc/testsuite/gfortran.dg/backslash_1.f90", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/131c66cd15a0195d27d95fe3686ed4c31cc96b53/gcc%2Ftestsuite%2Fgfortran.dg%2Fbackslash_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/131c66cd15a0195d27d95fe3686ed4c31cc96b53/gcc%2Ftestsuite%2Fgfortran.dg%2Fbackslash_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fbackslash_1.f90?ref=131c66cd15a0195d27d95fe3686ed4c31cc96b53", "patch": "@@ -0,0 +1,9 @@\n+! { dg-do run }\n+! { dg-options \"-fno-backslash\" }\n+      character(len=4) a\n+      open (10, status='scratch')\n+      write (10,'(A)') '1\\n2'\n+      rewind (10)\n+      read (10,'(A)') a\n+      if (a /= '1\\n2') call abort\n+      end"}, {"sha": "2f954d539495f483038be1be942aeefc4f73199f", "filename": "gcc/testsuite/gfortran.dg/backslash_2.f90", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/131c66cd15a0195d27d95fe3686ed4c31cc96b53/gcc%2Ftestsuite%2Fgfortran.dg%2Fbackslash_2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/131c66cd15a0195d27d95fe3686ed4c31cc96b53/gcc%2Ftestsuite%2Fgfortran.dg%2Fbackslash_2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fbackslash_2.f90?ref=131c66cd15a0195d27d95fe3686ed4c31cc96b53", "patch": "@@ -0,0 +1,11 @@\n+! { dg-do run }\n+! { dg-options \"-fbackslash\" }\n+      integer :: i, e\n+      open (10, status='scratch')\n+      write (10,'(A)') '1\\n2'\n+      rewind (10)\n+      read (10,*,iostat=e) i\n+      if (e /= 0 .or. i /= 1) call abort\n+      read (10,*,iostat=e) i\n+      if (e /= 0 .or. i /= 2) call abort\n+      end"}]}