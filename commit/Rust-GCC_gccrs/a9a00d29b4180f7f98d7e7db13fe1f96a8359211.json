{"sha": "a9a00d29b4180f7f98d7e7db13fe1f96a8359211", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTlhMDBkMjliNDE4MGY3Zjk4ZDdlN2RiMTNmZTFmOTZhODM1OTIxMQ==", "commit": {"author": {"name": "Mark Kettenis", "email": "kettenis@gnu.org", "date": "1999-05-17T23:03:48Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-05-17T23:03:48Z"}, "message": "stl_config.h: Only define __STL_PTHREADS with GLIBC >= 2 for Linux.\n\n        * stl_config.h: Only define __STL_PTHREADS with GLIBC >= 2 for\n        Linux.\n\nFrom-SVN: r26982", "tree": {"sha": "edc81b957a7537f294bd56c187c6e9026045b5cb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/edc81b957a7537f294bd56c187c6e9026045b5cb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a9a00d29b4180f7f98d7e7db13fe1f96a8359211", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a9a00d29b4180f7f98d7e7db13fe1f96a8359211", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a9a00d29b4180f7f98d7e7db13fe1f96a8359211", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a9a00d29b4180f7f98d7e7db13fe1f96a8359211/comments", "author": null, "committer": null, "parents": [{"sha": "180013289b6ff93f24cabcafb78b1d2a4f02b976", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/180013289b6ff93f24cabcafb78b1d2a4f02b976", "html_url": "https://github.com/Rust-GCC/gccrs/commit/180013289b6ff93f24cabcafb78b1d2a4f02b976"}], "stats": {"total": 23, "additions": 15, "deletions": 8}, "files": [{"sha": "f23f4fb1937b0562b72d7ffc19c3a8d72c093a47", "filename": "libstdc++/stl/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9a00d29b4180f7f98d7e7db13fe1f96a8359211/libstdc%2B%2B%2Fstl%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9a00d29b4180f7f98d7e7db13fe1f96a8359211/libstdc%2B%2B%2Fstl%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B%2Fstl%2FChangeLog?ref=a9a00d29b4180f7f98d7e7db13fe1f96a8359211", "patch": "@@ -1,3 +1,8 @@\n+1999-05-17  Mark Kettenis  <kettenis@gnu.org>\n+\n+\t* stl_config.h: Only define __STL_PTHREADS with GLIBC >= 2 for\n+\tLinux.\n+\n Mon May 17 03:33:47 1999  Mumit Khan  <khan@xraylith.wisc.edu>\n \n \t* stl_config.h (__CYGWIN__): Cygwin newlib RTL lacks drand48."}, {"sha": "d72f9e1c74661301d1ca3195ccaa5f82713d0235", "filename": "libstdc++/stl/stl_config.h", "status": "modified", "additions": 10, "deletions": 8, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9a00d29b4180f7f98d7e7db13fe1f96a8359211/libstdc%2B%2B%2Fstl%2Fstl_config.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9a00d29b4180f7f98d7e7db13fe1f96a8359211/libstdc%2B%2B%2Fstl%2Fstl_config.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B%2Fstl%2Fstl_config.h?ref=a9a00d29b4180f7f98d7e7db13fe1f96a8359211", "patch": "@@ -165,14 +165,16 @@\n #     define __SGI_STL_USE_AUTO_PTR_CONVERSIONS\n #     define __STL_USE_NAMESPACES\n #   endif\n-    /* glibc pre 2.0 is very buggy. We have to disable thread for it.\n-       It should be upgraded to glibc 2.0 or later. */\n-#   if !defined(_NOTHREADS) && __GLIBC__ >= 2 && defined(_G_USING_THUNKS)\n-#     define __STL_PTHREADS\n-#     ifdef __STRICT_ANSI__\n-        /* Work around a bug in the glibc 2.0.x pthread.h.  */\n-#       define sigset_t __sigset_t\n-#     endif\n+#   if defined(__linux__)\n+     /* glibc pre 2.0 is very buggy. We have to disable thread for it.\n+        It should be upgraded to glibc 2.0 or later. */\n+#    if !defined(_NOTHREADS) && __GLIBC__ >= 2 && defined(_G_USING_THUNKS)\n+#      define __STL_PTHREADS\n+#      ifdef __STRICT_ANSI__\n+         /* Work around a bug in the glibc 2.0.x pthread.h.  */\n+#        define sigset_t __sigset_t\n+#      endif\n+#    endif\n #   endif\n #   ifdef __EXCEPTIONS\n #     define __STL_USE_EXCEPTIONS"}]}