{"sha": "ff971abe6034dc25019c3f470d8437b22b93dce0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmY5NzFhYmU2MDM0ZGMyNTAxOWMzZjQ3MGQ4NDM3YjIyYjkzZGNlMA==", "commit": {"author": {"name": "Jiong Wang", "email": "jiong.wang@arm.com", "date": "2017-09-12T16:39:59Z"}, "committer": {"name": "Wilco Dijkstra", "email": "wilco@gcc.gnu.org", "date": "2017-09-12T16:39:59Z"}, "message": "Add DW_CFA_AARCH64_negate_ra_state to dwarf2.def/h and dwarfnames.c\n\n  A new vendor CFA DW_CFA_AARCH64_negate_ra_state was introduced for ARMv8.3-A\nreturn address signing, it is multiplexing DW_CFA_GNU_window_save in CFA vendor\nextension space.\n\n  This patch adds necessary code to make it available to external, the GDB\npatch (https://sourceware.org/ml/gdb-patches/2017-08/msg00215.html) is intended\nto use it.\n\n  A new DW_CFA_DUP for it is added in dwarf2.def.  The use of DW_CFA_DUP is to\navoid duplicated case value issue when included in libiberty/dwarfnames.\n\n  Native x86 builds OK to make sure no macro expanding errors.\n\nCommitted on behalf of Jiong Wang.\n\n    include/\n\t* dwarf2.def (DW_CFA_AARCH64_negate_ra_state): New DW_CFA_DUP.\n\t* dwarf2.h (DW_CFA_DUP): New define.\n\n    libiberty/\n\t* dwarfnames.c (DW_CFA_DUP): New define.\n\nFrom-SVN: r252037", "tree": {"sha": "df4da622e4ea5d421f6e7ede7d78e8f904057785", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/df4da622e4ea5d421f6e7ede7d78e8f904057785"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ff971abe6034dc25019c3f470d8437b22b93dce0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff971abe6034dc25019c3f470d8437b22b93dce0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ff971abe6034dc25019c3f470d8437b22b93dce0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff971abe6034dc25019c3f470d8437b22b93dce0/comments", "author": null, "committer": null, "parents": [{"sha": "12263f13ac02720a2e67f4837533b93752fb154b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12263f13ac02720a2e67f4837533b93752fb154b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/12263f13ac02720a2e67f4837533b93752fb154b"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "c7ce2592979733a7316562553fe7ab0e2d121a5b", "filename": "include/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff971abe6034dc25019c3f470d8437b22b93dce0/include%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff971abe6034dc25019c3f470d8437b22b93dce0/include%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/include%2FChangeLog?ref=ff971abe6034dc25019c3f470d8437b22b93dce0", "patch": "@@ -1,3 +1,8 @@\n+2017-09-12  Jiong Wang  <jiong.wang@arm.com>\n+\n+\t* dwarf2.def (DW_CFA_AARCH64_negate_ra_state): New DW_CFA_DUP.\n+\t* dwarf2.h (DW_CFA_DUP): New define.\n+\n 2017-08-21  Richard Biener  <rguenther@suse.de>\n \n \t* simple-object.h (simple_object_copy_lto_debug_sections): New"}, {"sha": "2a3b23fef873db9bb2498cd28c4fafc72e6a234f", "filename": "include/dwarf2.def", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff971abe6034dc25019c3f470d8437b22b93dce0/include%2Fdwarf2.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff971abe6034dc25019c3f470d8437b22b93dce0/include%2Fdwarf2.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/include%2Fdwarf2.def?ref=ff971abe6034dc25019c3f470d8437b22b93dce0", "patch": "@@ -778,6 +778,7 @@ DW_CFA (DW_CFA_MIPS_advance_loc8, 0x1d)\n /* GNU extensions.\n    NOTE: DW_CFA_GNU_window_save is multiplexed on Sparc and AArch64.  */\n DW_CFA (DW_CFA_GNU_window_save, 0x2d)\n+DW_CFA_DUP (DW_CFA_AARCH64_negate_ra_state, 0x2d)\n DW_CFA (DW_CFA_GNU_args_size, 0x2e)\n DW_CFA (DW_CFA_GNU_negative_offset_extended, 0x2f)\n "}, {"sha": "a2e022dbdb35c18bb591e0f00930978846b82c01", "filename": "include/dwarf2.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff971abe6034dc25019c3f470d8437b22b93dce0/include%2Fdwarf2.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff971abe6034dc25019c3f470d8437b22b93dce0/include%2Fdwarf2.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/include%2Fdwarf2.h?ref=ff971abe6034dc25019c3f470d8437b22b93dce0", "patch": "@@ -52,6 +52,7 @@\n #define DW_ATE(name, value) , name = value\n #define DW_ATE_DUP(name, value) , name = value\n #define DW_CFA(name, value) , name = value\n+#define DW_CFA_DUP(name, value) , name = value\n #define DW_IDX(name, value) , name = value\n #define DW_IDX_DUP(name, value) , name = value\n \n@@ -104,6 +105,7 @@\n #undef DW_ATE\n #undef DW_ATE_DUP\n #undef DW_CFA\n+#undef DW_CFA_DUP\n #undef DW_IDX\n #undef DW_IDX_DUP\n "}, {"sha": "ca2b1a0aca289f431df32d7c6c1e6f8a4010d6c1", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff971abe6034dc25019c3f470d8437b22b93dce0/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff971abe6034dc25019c3f470d8437b22b93dce0/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=ff971abe6034dc25019c3f470d8437b22b93dce0", "patch": "@@ -1,3 +1,7 @@\n+2017-09-12  Jiong Wang  <jiong.wang@arm.com>\n+\n+\t* dwarfnames.c (DW_CFA_DUP): New define.\n+\n 2017-09-01  Martin Liska  <mliska@suse.cz>\n \n \t* simple-object-elf.c (simple_object_elf_copy_lto_debug_sections):"}, {"sha": "dacd78dbaa9b33d6e9fdf35330cdc446dcf4f76c", "filename": "libiberty/dwarfnames.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff971abe6034dc25019c3f470d8437b22b93dce0/libiberty%2Fdwarfnames.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff971abe6034dc25019c3f470d8437b22b93dce0/libiberty%2Fdwarfnames.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fdwarfnames.c?ref=ff971abe6034dc25019c3f470d8437b22b93dce0", "patch": "@@ -75,6 +75,7 @@ Boston, MA 02110-1301, USA.  */\n #define DW_ATE(name, value) case name: return # name ;\n #define DW_ATE_DUP(name, value)\n #define DW_CFA(name, value) case name: return # name ;\n+#define DW_CFA_DUP(name, value)\n #define DW_IDX(name, value) case name: return # name ;\n #define DW_IDX_DUP(name, value)\n \n@@ -105,5 +106,6 @@ Boston, MA 02110-1301, USA.  */\n #undef DW_ATE\n #undef DW_ATE_DUP\n #undef DW_CFA\n+#undef DW_CFA_DUP\n #undef DW_IDX\n #undef DW_IDX_DUP"}]}