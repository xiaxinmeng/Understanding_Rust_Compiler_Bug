{"sha": "1f0db3dfca894ec75f6b6a9f360faa9b1253f0a1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWYwZGIzZGZjYTg5NGVjNzVmNmI2YTlmMzYwZmFhOWIxMjUzZjBhMQ==", "commit": {"author": {"name": "Ulrich Weigand", "email": "uweigand@de.ibm.com", "date": "2004-02-06T20:10:35Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2004-02-06T20:10:35Z"}, "message": "loop.c (force_movables): Transitively increase the priorities of all insns forces by an insn...\n\n\t* loop.c (force_movables): Transitively increase the priorities of\n\tall insns forces by an insn, not just the first one.\n\nFrom-SVN: r77419", "tree": {"sha": "5d1d882247fd66bae6398a9890456f624b5faa40", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5d1d882247fd66bae6398a9890456f624b5faa40"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1f0db3dfca894ec75f6b6a9f360faa9b1253f0a1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f0db3dfca894ec75f6b6a9f360faa9b1253f0a1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f0db3dfca894ec75f6b6a9f360faa9b1253f0a1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f0db3dfca894ec75f6b6a9f360faa9b1253f0a1/comments", "author": null, "committer": null, "parents": [{"sha": "014a1138d6ff79eff9aea704d5e8ae3f58fef5d1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/014a1138d6ff79eff9aea704d5e8ae3f58fef5d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/014a1138d6ff79eff9aea704d5e8ae3f58fef5d1"}], "stats": {"total": 17, "additions": 14, "deletions": 3}, "files": [{"sha": "68530418c5d58dc6437d556ec1ed2aaf7de8885f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f0db3dfca894ec75f6b6a9f360faa9b1253f0a1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f0db3dfca894ec75f6b6a9f360faa9b1253f0a1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1f0db3dfca894ec75f6b6a9f360faa9b1253f0a1", "patch": "@@ -1,3 +1,8 @@\n+2004-02-06  Ulrich Weigand  <uweigand@de.ibm.com>\n+\n+\t* loop.c (force_movables): Transitively increase the priorities of\n+\tall insns forces by an insn, not just the first one.\n+\n 2004-02-06  Josef Zlomek  <zlomekj@suse.cz>\n             Daniel Berlin <dberlin@dberlin.org>\n "}, {"sha": "911d561fd6b9662408b70a8f031e90a3484e4e8d", "filename": "gcc/loop.c", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f0db3dfca894ec75f6b6a9f360faa9b1253f0a1/gcc%2Floop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f0db3dfca894ec75f6b6a9f360faa9b1253f0a1/gcc%2Floop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Floop.c?ref=1f0db3dfca894ec75f6b6a9f360faa9b1253f0a1", "patch": "@@ -1469,12 +1469,18 @@ force_movables (struct loop_movables *movables)\n \t  m = 0;\n \n \t/* Increase the priority of the moving the first insn\n-\t   since it permits the second to be moved as well.  */\n+\t   since it permits the second to be moved as well.\n+\t   Likewise for insns already forced by the first insn.  */\n \tif (m != 0)\n \t  {\n+\t    struct movable *m2;\n+\n \t    m->forces = m1;\n-\t    m1->lifetime += m->lifetime;\n-\t    m1->savings += m->savings;\n+\t    for (m2 = m1; m2; m2 = m2->forces)\n+\t      {\n+\t\tm2->lifetime += m->lifetime;\n+\t\tm2->savings += m->savings;\n+\t      }\n \t  }\n       }\n }"}]}