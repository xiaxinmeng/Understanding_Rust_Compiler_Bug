{"sha": "3a58a61437fb09d789a81fa9491fabaaa731dbd3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2E1OGE2MTQzN2ZiMDlkNzg5YTgxZmE5NDkxZmFiYWFhNzMxZGJkMw==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2006-06-24T00:13:08Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2006-06-24T00:13:08Z"}, "message": "re PR libstdc++/27984 (installed libstdc++ testing broken)\n\n2006-06-23  Benjamin Kosnik  <bkoz@redhat.com>\n\n\tPR libstdc++/27984\n\t* testsuite/lib/libstdc++.exp (libstdc++_init): Adjust\n\ttesting includes.\n\t* docs/html/test.html: Adjust for testsuite changes.\n\nFrom-SVN: r114955", "tree": {"sha": "75f9ae07e3e63d274a8c880743a7bdcf37b33ae5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/75f9ae07e3e63d274a8c880743a7bdcf37b33ae5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3a58a61437fb09d789a81fa9491fabaaa731dbd3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a58a61437fb09d789a81fa9491fabaaa731dbd3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3a58a61437fb09d789a81fa9491fabaaa731dbd3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a58a61437fb09d789a81fa9491fabaaa731dbd3/comments", "author": null, "committer": null, "parents": [{"sha": "c5f8391c77ffbce87b0a3e0ad436ab36a5913dd9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c5f8391c77ffbce87b0a3e0ad436ab36a5913dd9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c5f8391c77ffbce87b0a3e0ad436ab36a5913dd9"}], "stats": {"total": 26, "additions": 17, "deletions": 9}, "files": [{"sha": "a16f904420724bb844aac629e0b2290fe395041a", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a58a61437fb09d789a81fa9491fabaaa731dbd3/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a58a61437fb09d789a81fa9491fabaaa731dbd3/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=3a58a61437fb09d789a81fa9491fabaaa731dbd3", "patch": "@@ -1,3 +1,10 @@\n+2006-06-23  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\tPR libstdc++/27984\n+\t* testsuite/lib/libstdc++.exp (libstdc++_init): Adjust\n+\ttesting includes.\n+\t* docs/html/test.html: Adjust for testsuite changes.\n+\t\n 2006-06-22  Jonathan Lennox  <lennox@cs.columbia.edu>\n \t    Paolo Carlini  <pcarlini@suse.de>\n "}, {"sha": "0465503a45797b7888a54c3f9d984256a1e1b440", "filename": "libstdc++-v3/docs/html/test.html", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a58a61437fb09d789a81fa9491fabaaa731dbd3/libstdc%2B%2B-v3%2Fdocs%2Fhtml%2Ftest.html", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a58a61437fb09d789a81fa9491fabaaa731dbd3/libstdc%2B%2B-v3%2Fdocs%2Fhtml%2Ftest.html", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdocs%2Fhtml%2Ftest.html?ref=3a58a61437fb09d789a81fa9491fabaaa731dbd3", "patch": "@@ -31,7 +31,7 @@ <h1 class=\"centered\"><a name=\"top\">Testing Details</a></h1>\n <h2>Contents</h2>\n <ul>\n    <li><a href=\"#org\">Testsuite organization and naming conventions</a></li>\n-   <li><a href=\"#util\">Utilities: abicheck and libv3test</a></li>\n+   <li><a href=\"#util\">Utilities: abicheck and libtestc++</a></li>\n    <li><a href=\"#new\">How to write a new test case</a></li>\n    <li><a href=\"#check\">Options for running the tests</a></li>\n    <li><a href=\"#debug\">Running debug-mode tests</a></li>\n@@ -93,6 +93,7 @@ <h2><a name=\"org\">Testsuite organization and naming conventions</a></h2>\n lib\t\t  Files for the dejagnu test harness.\n libstdc++*     \t  Files for the dejagnu test harness.\n data\t\t  Sample text files for testing input and output.\n+util\t\t  Files for libtestc++, utilities and testing routines.\n    </pre>\n \n    <p>\n@@ -207,14 +208,14 @@ <h2><a name=\"org\">Testsuite organization and naming conventions</a></h2>\n </ul>\n \n <hr />\n-<h2><a name=\"util\">Utilities: abi_check and libv3test</a></h2>\n+<h2><a name=\"util\">Utilities: abi_check and libtestc++</a></h2>\n   <p>\n    The testsuite directory also contains some files that implement\n    functionality that is intended to make writing test cases easier,\n    or to avoid duplication, or to provide error checking in a way that\n    is consistent across platforms and test harnesses. A stand-alone\n    executable, called <em>abi_check</em>, and a static library called\n-   <em>libv3test</em> are constructed. Both of these items are not\n+   <em>libtestc++</em> are constructed. Both of these items are not\n    installed, and only used during testing.\n   </p>\n \n@@ -329,9 +330,9 @@ <h2><a name=\"new\">How to write a new test case</a></h2>\n    <p>\n    A bunch of utility functions and classes have already been\n    abstracted out into the testsuite utility library, <code>\n-   libv3test</code>. To use this functionality, just include the\n-   appropriate header file: the library will automatically be linked\n-   in as part of the testsuite run.\n+   libtestc++</code>. To use this functionality, just include the\n+   appropriate header file: the library or specific object files will\n+   automatically be linked in as part of the testsuite run.\n    </p>\n \n    <p>"}, {"sha": "d22648239ba1deadd4123a06544b28454fde7e3c", "filename": "libstdc++-v3/testsuite/lib/libstdc++.exp", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a58a61437fb09d789a81fa9491fabaaa731dbd3/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a58a61437fb09d789a81fa9491fabaaa731dbd3/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp?ref=3a58a61437fb09d789a81fa9491fabaaa731dbd3", "patch": "@@ -172,9 +172,9 @@ proc libstdc++_init { testfile } {\n     # Do a bunch of handstands and backflips for cross compiling and\n     # finding simulators...\n     if [is_remote host] {\n-        set header [remote_download host ${blddir}/testsuite/testsuite_hooks.h]\n+        set header [remote_download host ${blddir}/testsuite/util/testsuite_hooks.h]\n         if { $header == \"\" } {\n-            verbose -log \"Unable to download ${blddir}/testsuite/testsuite_hooks.h to host.\"\n+            verbose -log \"Unable to download ${blddir}/testsuite/util/testsuite_hooks.h to host.\"\n             return \"untested\"\n         }\n       set cxx [transform \"g++\"]\n@@ -190,7 +190,7 @@ proc libstdc++_init { testfile } {\n             set includes [exec sh $flags_file --build-includes]\n         } else {\n             set cxx [transform \"g++\"]\n-            set includes \"-I${srcdir}\"\n+            set includes \"-I${srcdir}/util\"\n             set cxxldflags \"\"\n             set cxxflags \"-g -O2 -D_GLIBCXX_ASSERT -fmessage-length=0\" \n         }"}]}