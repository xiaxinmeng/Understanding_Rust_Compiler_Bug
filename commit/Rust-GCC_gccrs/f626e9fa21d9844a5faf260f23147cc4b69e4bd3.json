{"sha": "f626e9fa21d9844a5faf260f23147cc4b69e4bd3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjYyNmU5ZmEyMWQ5ODQ0YTVmYWYyNjBmMjMxNDdjYzRiNjllNGJkMw==", "commit": {"author": {"name": "Anthony Green", "email": "green@cygnus.com", "date": "2000-01-07T23:07:52Z"}, "committer": {"name": "Alexandre Petit-Bianco", "email": "apbianco@gcc.gnu.org", "date": "2000-01-07T23:07:52Z"}, "message": "expr.c (java_lang_expand_expr): Switch to permanent obstack before building constant array decl.\n\nThu Jan  6 16:31:28 2000  Anthony Green  <green@cygnus.com>\n\n        * expr.c (java_lang_expand_expr): Switch to permanent obstack\n        before building constant array decl.\n\nFrom-SVN: r31283", "tree": {"sha": "11ef2e79456dee829b733bfff74b660f56ea9439", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/11ef2e79456dee829b733bfff74b660f56ea9439"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f626e9fa21d9844a5faf260f23147cc4b69e4bd3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f626e9fa21d9844a5faf260f23147cc4b69e4bd3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f626e9fa21d9844a5faf260f23147cc4b69e4bd3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f626e9fa21d9844a5faf260f23147cc4b69e4bd3/comments", "author": null, "committer": null, "parents": [{"sha": "8421850fbfb6c282d6dcbd6296557e7c9863fa79", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8421850fbfb6c282d6dcbd6296557e7c9863fa79", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8421850fbfb6c282d6dcbd6296557e7c9863fa79"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "bde09bdf81a283a0634f7ef49ad179fae7fc8f05", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f626e9fa21d9844a5faf260f23147cc4b69e4bd3/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f626e9fa21d9844a5faf260f23147cc4b69e4bd3/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=f626e9fa21d9844a5faf260f23147cc4b69e4bd3", "patch": "@@ -1,3 +1,8 @@\n+Thu Jan  6 16:31:28 2000  Anthony Green  <green@cygnus.com>\n+\n+\t* expr.c (java_lang_expand_expr): Switch to permanent obstack\n+\tbefore building constant array decl.\n+\n Thu Jan  6 00:54:10 2000  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n \n \t* jcf-write.c (generate_byecode_conditional): Fixed indentation in"}, {"sha": "30f1231726e6137775fe8c6e31459791891296f5", "filename": "gcc/java/expr.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f626e9fa21d9844a5faf260f23147cc4b69e4bd3/gcc%2Fjava%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f626e9fa21d9844a5faf260f23147cc4b69e4bd3/gcc%2Fjava%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fexpr.c?ref=f626e9fa21d9844a5faf260f23147cc4b69e4bd3", "patch": "@@ -1944,15 +1944,18 @@ java_lang_expand_expr (exp, target, tmode, modifier)\n \tif (TREE_CONSTANT (init)\n \t    && ilength >= 10 && JPRIMITIVE_TYPE_P (element_type))\n \t  {\n-\t    tree init_decl = build_decl (VAR_DECL, generate_name (),\n-\t\t\t\t\t TREE_TYPE (init));\n+\t    tree init_decl;\n+\t    push_obstacks (&permanent_obstack, &permanent_obstack);\n+\t    init_decl = build_decl (VAR_DECL, generate_name (),\n+\t\t\t\t    TREE_TYPE (init));\n \t    pushdecl_top_level (init_decl);\n \t    TREE_STATIC (init_decl) = 1;\n \t    DECL_INITIAL (init_decl) = init;\n \t    DECL_IGNORED_P (init_decl) = 1;\n \t    TREE_READONLY (init_decl) = 1;\n \t    TREE_SYMBOL_REFERENCED (DECL_ASSEMBLER_NAME (init_decl)) = 1;\n \t    make_decl_rtl (init_decl, NULL, 1);\n+\t    pop_obstacks ();\n \t    init = init_decl;\n \t  }\n \texpand_assignment (build (COMPONENT_REF, TREE_TYPE (data_fld),"}]}