{"sha": "11eef57867ad3aa712e7615568f1c9e0a98f375a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTFlZWY1Nzg2N2FkM2FhNzEyZTc2MTU1NjhmMWM5ZTBhOThmMzc1YQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2005-11-16T07:23:40Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2005-11-16T07:23:40Z"}, "message": "alpha.c (alpha_expand_prologue): Fix off-by-one bug in the stack probing loop.\n\n\t* config/alpha/alpha.c (alpha_expand_prologue): Fix off-by-one bug\n\tin the stack probing loop.\n\nFrom-SVN: r107069", "tree": {"sha": "5ec86dad6963ce14881bb154a81c0c7ca9af20a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5ec86dad6963ce14881bb154a81c0c7ca9af20a9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/11eef57867ad3aa712e7615568f1c9e0a98f375a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11eef57867ad3aa712e7615568f1c9e0a98f375a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/11eef57867ad3aa712e7615568f1c9e0a98f375a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11eef57867ad3aa712e7615568f1c9e0a98f375a/comments", "author": null, "committer": null, "parents": [{"sha": "1e04bfdc8a05b9d5d7428a5ea4973d0722e6cd46", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e04bfdc8a05b9d5d7428a5ea4973d0722e6cd46", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1e04bfdc8a05b9d5d7428a5ea4973d0722e6cd46"}], "stats": {"total": 12, "additions": 8, "deletions": 4}, "files": [{"sha": "21765a2e8a8089ac6a54c96969865c7ab47c6151", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11eef57867ad3aa712e7615568f1c9e0a98f375a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11eef57867ad3aa712e7615568f1c9e0a98f375a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=11eef57867ad3aa712e7615568f1c9e0a98f375a", "patch": "@@ -1,3 +1,8 @@\n+2005-11-16  Eric Botcazou <ebotcazou@adacore.com>\n+\n+\t* config/alpha/alpha.c (alpha_expand_prologue): Fix off-by-one bug\n+\tin the stack probing loop.\n+\n 2005-11-15  David Edelsohn  <edelsohn@gnu.org>\n \n \t* configure.ac: Use .machine power5 not power5x."}, {"sha": "a14b5d31e6426ccb1e221ea327c0cc2577f34c78", "filename": "gcc/config/alpha/alpha.c", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11eef57867ad3aa712e7615568f1c9e0a98f375a/gcc%2Fconfig%2Falpha%2Falpha.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11eef57867ad3aa712e7615568f1c9e0a98f375a/gcc%2Fconfig%2Falpha%2Falpha.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.c?ref=11eef57867ad3aa712e7615568f1c9e0a98f375a", "patch": "@@ -7546,16 +7546,15 @@ alpha_expand_prologue (void)\n     {\n       if (frame_size > 4096)\n \t{\n-\t  int probed = 4096;\n+\t  int probed;\n \n-\t  do\n+\t  for (probed = 4096; probed < frame_size; probed += 8192)\n \t    emit_insn (gen_probe_stack (GEN_INT (TARGET_ABI_UNICOSMK\n \t\t\t\t\t\t ? -probed + 64\n \t\t\t\t\t\t : -probed)));\n-\t  while ((probed += 8192) < frame_size);\n \n \t  /* We only have to do this probe if we aren't saving registers.  */\n-\t  if (sa_size == 0 && probed + 4096 < frame_size)\n+\t  if (sa_size == 0 && frame_size > probed - 4096)\n \t    emit_insn (gen_probe_stack (GEN_INT (-frame_size)));\n \t}\n "}]}