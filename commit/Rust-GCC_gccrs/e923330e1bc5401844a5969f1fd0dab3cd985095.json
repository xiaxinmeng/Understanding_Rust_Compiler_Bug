{"sha": "e923330e1bc5401844a5969f1fd0dab3cd985095", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTkyMzMzMGUxYmM1NDAxODQ0YTU5NjlmMWZkMGRhYjNjZDk4NTA5NQ==", "commit": {"author": {"name": "Tom de Vries", "email": "tom@codesourcery.com", "date": "2017-10-07T08:46:00Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2017-10-07T08:46:00Z"}, "message": "Fix libgomp.oacc-fortran/{firstprivate-1,parallel-reduction}.f90 for non-nvidia devices\n\n2017-10-07  Tom de Vries  <tom@codesourcery.com>\n\n\t* testsuite/libgomp.oacc-fortran/firstprivate-1.f90 (firstprivate):\n\tRemove acc_device_nvidia references.\n\t* testsuite/libgomp.oacc-fortran/parallel-reduction.f90 (reduction):\n\tSame.\n\nFrom-SVN: r253507", "tree": {"sha": "55bf5a54c80e85ad163a42c0a5984cf2a528ec47", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/55bf5a54c80e85ad163a42c0a5984cf2a528ec47"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e923330e1bc5401844a5969f1fd0dab3cd985095", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e923330e1bc5401844a5969f1fd0dab3cd985095", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e923330e1bc5401844a5969f1fd0dab3cd985095", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e923330e1bc5401844a5969f1fd0dab3cd985095/comments", "author": null, "committer": null, "parents": [{"sha": "068333113e99c4993e12898ee52ff16803db25fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/068333113e99c4993e12898ee52ff16803db25fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/068333113e99c4993e12898ee52ff16803db25fc"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "afa373ec7bbe6124fd1a457f00f40d10d4b4e358", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e923330e1bc5401844a5969f1fd0dab3cd985095/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e923330e1bc5401844a5969f1fd0dab3cd985095/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=e923330e1bc5401844a5969f1fd0dab3cd985095", "patch": "@@ -1,3 +1,10 @@\n+2017-10-07  Tom de Vries  <tom@codesourcery.com>\n+\n+\t* testsuite/libgomp.oacc-fortran/firstprivate-1.f90 (firstprivate):\n+\tRemove acc_device_nvidia references.\n+\t* testsuite/libgomp.oacc-fortran/parallel-reduction.f90 (reduction):\n+\tSame.\n+\n 2017-10-05  Tom de Vries  <tom@codesourcery.com>\n \n \t* testsuite/libgomp.oacc-c-c++-common/loop-red-g-1.c (main): Remove"}, {"sha": "38660967aa7c477d0701aff0b6beb5856626a8b5", "filename": "libgomp/testsuite/libgomp.oacc-fortran/firstprivate-1.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e923330e1bc5401844a5969f1fd0dab3cd985095/libgomp%2Ftestsuite%2Flibgomp.oacc-fortran%2Ffirstprivate-1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e923330e1bc5401844a5969f1fd0dab3cd985095/libgomp%2Ftestsuite%2Flibgomp.oacc-fortran%2Ffirstprivate-1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-fortran%2Ffirstprivate-1.f90?ref=e923330e1bc5401844a5969f1fd0dab3cd985095", "patch": "@@ -5,7 +5,7 @@ program firstprivate\n   integer :: a, b(Nupper), c, d, n\n   include \"openacc_lib.h\"\n \n-  if (acc_get_device_type () .eq. acc_device_nvidia) then\n+  if (acc_get_device_type () .ne. acc_device_host) then\n      n = Nupper\n   else\n      n = 1"}, {"sha": "d0559a2adf76a3e10b544dac70cea70c2dba311c", "filename": "libgomp/testsuite/libgomp.oacc-fortran/parallel-reduction.f90", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e923330e1bc5401844a5969f1fd0dab3cd985095/libgomp%2Ftestsuite%2Flibgomp.oacc-fortran%2Fparallel-reduction.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e923330e1bc5401844a5969f1fd0dab3cd985095/libgomp%2Ftestsuite%2Flibgomp.oacc-fortran%2Fparallel-reduction.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-fortran%2Fparallel-reduction.f90?ref=e923330e1bc5401844a5969f1fd0dab3cd985095", "patch": "@@ -15,7 +15,7 @@ program reduction\n   s2 = s2 + 1\n   !$acc end parallel\n \n-  if (acc_get_device_type () .eq. acc_device_nvidia) then\n+  if (acc_get_device_type () .ne. acc_device_host) then\n      if (s1 .ne. n) call abort\n      if (s2 .ne. n) call abort\n   else\n@@ -29,7 +29,7 @@ program reduction\n   s2 = 0\n   call redsub (s1, s2, n)\n \n-  if (acc_get_device_type () .eq. acc_device_nvidia) then\n+  if (acc_get_device_type () .ne. acc_device_host) then\n      if (s1 .ne. n) call abort\n   else\n      if (s2 .ne. 1) call abort"}]}