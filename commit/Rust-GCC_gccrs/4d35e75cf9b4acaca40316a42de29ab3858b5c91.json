{"sha": "4d35e75cf9b4acaca40316a42de29ab3858b5c91", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGQzNWU3NWNmOWI0YWNhY2E0MDMxNmE0MmRlMjlhYjM4NThiNWM5MQ==", "commit": {"author": {"name": "Paolo Bonzini", "email": "bonzini@gnu.org", "date": "2009-04-10T16:06:43Z"}, "committer": {"name": "Paolo Bonzini", "email": "bonzini@gcc.gnu.org", "date": "2009-04-10T16:06:43Z"}, "message": "re PR middle-end/39701 (Revision 145846 caused many test failures)\n\n2009-04-10  Paolo Bonzini  <bonzini@gnu.org>\n\n\tPR middle-end/39701\n        * fold-const.c (tree_single_nonzero_warnv_p): Pass non-static\n        variables as non-NULL even with -fdelete-null-pointer-checks.\n\nFrom-SVN: r145927", "tree": {"sha": "38ec6987cc46a8bcdf13c9c03745d832bd8c8eb5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/38ec6987cc46a8bcdf13c9c03745d832bd8c8eb5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4d35e75cf9b4acaca40316a42de29ab3858b5c91", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d35e75cf9b4acaca40316a42de29ab3858b5c91", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d35e75cf9b4acaca40316a42de29ab3858b5c91", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d35e75cf9b4acaca40316a42de29ab3858b5c91/comments", "author": {"login": "bonzini", "id": 42082, "node_id": "MDQ6VXNlcjQyMDgy", "avatar_url": "https://avatars.githubusercontent.com/u/42082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bonzini", "html_url": "https://github.com/bonzini", "followers_url": "https://api.github.com/users/bonzini/followers", "following_url": "https://api.github.com/users/bonzini/following{/other_user}", "gists_url": "https://api.github.com/users/bonzini/gists{/gist_id}", "starred_url": "https://api.github.com/users/bonzini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bonzini/subscriptions", "organizations_url": "https://api.github.com/users/bonzini/orgs", "repos_url": "https://api.github.com/users/bonzini/repos", "events_url": "https://api.github.com/users/bonzini/events{/privacy}", "received_events_url": "https://api.github.com/users/bonzini/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b0d3b11d8c1b75fd46510845e2b352e8a22e1e9d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b0d3b11d8c1b75fd46510845e2b352e8a22e1e9d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b0d3b11d8c1b75fd46510845e2b352e8a22e1e9d"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "a77df07a6af38d86e1c6d0f310061ef38bbba7fe", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d35e75cf9b4acaca40316a42de29ab3858b5c91/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d35e75cf9b4acaca40316a42de29ab3858b5c91/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4d35e75cf9b4acaca40316a42de29ab3858b5c91", "patch": "@@ -1,3 +1,9 @@\n+2009-04-10  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\tPR middle-end/39701\n+        * fold-const.c (tree_single_nonzero_warnv_p): Pass non-static\n+        variables as non-NULL even with -fdelete-null-pointer-checks.\n+\n 2009-04-10  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* config/rs6000/darwin-vecsave.asm: Remove extra \"*/\"."}, {"sha": "dd2f62d4a4b4b44ab4b2387ae876cdb438c91205", "filename": "gcc/fold-const.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d35e75cf9b4acaca40316a42de29ab3858b5c91/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d35e75cf9b4acaca40316a42de29ab3858b5c91/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=4d35e75cf9b4acaca40316a42de29ab3858b5c91", "patch": "@@ -15017,8 +15017,12 @@ tree_single_nonzero_warnv_p (tree t, bool *strict_overflow_p)\n \tif (!base)\n \t  return false;\n \n-\t/* Weak declarations may link to NULL.  */\n-\tif (DECL_P (base) && flag_delete_null_pointer_checks)\n+\t/* Weak declarations may link to NULL.  Other things may also be NULL\n+\t   so protect with -fdelete-null-pointer-checks; but not variables\n+\t   allocated on the stack.  */\n+\tif (DECL_P (base)\n+\t    && (flag_delete_null_pointer_checks\n+\t\t|| (TREE_CODE (base) == VAR_DECL && !TREE_STATIC (base))))\n \t  return !VAR_OR_FUNCTION_DECL_P (base) || !DECL_WEAK (base);\n \n \t/* Constants are never weak.  */"}]}