{"sha": "06118b14d6a75fc6d6c949ef66c6696430d7724d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDYxMThiMTRkNmE3NWZjNmQ2Yzk0OWVmNjZjNjY5NjQzMGQ3NzI0ZA==", "commit": {"author": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2012-05-11T18:50:14Z"}, "committer": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2012-05-11T18:50:14Z"}, "message": "re PR libfortran/52537 (slow trim function)\n\n2012-05-11  Thomas Koenig  <tkoenig@gcc.gnu.org>\n\n\tPR fortran/52537\n\t* gfortran.dg/string_compare_4.f90:  Change option\n\tto -fdump-tree-original.  Add test case for kind=4.\n\nFrom-SVN: r187413", "tree": {"sha": "fd3a0dab232c718f8b3bb9270260243d67eb1875", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fd3a0dab232c718f8b3bb9270260243d67eb1875"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/06118b14d6a75fc6d6c949ef66c6696430d7724d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06118b14d6a75fc6d6c949ef66c6696430d7724d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/06118b14d6a75fc6d6c949ef66c6696430d7724d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06118b14d6a75fc6d6c949ef66c6696430d7724d/comments", "author": null, "committer": null, "parents": [{"sha": "dddb75f3fa9b950d68ff6047bc960cd89a1659df", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dddb75f3fa9b950d68ff6047bc960cd89a1659df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dddb75f3fa9b950d68ff6047bc960cd89a1659df"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "a187927f084c0c670c7fd89bce3cfca3ec76efe4", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06118b14d6a75fc6d6c949ef66c6696430d7724d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06118b14d6a75fc6d6c949ef66c6696430d7724d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=06118b14d6a75fc6d6c949ef66c6696430d7724d", "patch": "@@ -1,3 +1,9 @@\n+2012-05-11  Thomas Koenig  <tkoenig@gcc.gnu.org>\n+\n+\tPR fortran/52537\n+\t* gfortran.dg/string_compare_4.f90:  Change option\n+\tto -fdump-tree-original.  Add test case for kind=4.\n+\n 2012-05-11  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR fortran/52537"}, {"sha": "64cbf93bfd1f8041237b90765d92b730d7a12eac", "filename": "gcc/testsuite/gfortran.dg/string_compare_4.f90", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06118b14d6a75fc6d6c949ef66c6696430d7724d/gcc%2Ftestsuite%2Fgfortran.dg%2Fstring_compare_4.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06118b14d6a75fc6d6c949ef66c6696430d7724d/gcc%2Ftestsuite%2Fgfortran.dg%2Fstring_compare_4.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fstring_compare_4.f90?ref=06118b14d6a75fc6d6c949ef66c6696430d7724d", "patch": "@@ -1,12 +1,15 @@\n ! { dg-do compile }\n-! { dg-options \"-ffrontend-optimize -fdump-fortran-original\" }\n+! { dg-options \"-ffrontend-optimize -fdump-tree-original\" }\n ! PR fortran/52537 - optimize comparisons with empty strings\n program main\n   implicit none\n   character(len=10) :: a\n   character(len=30) :: line\n+  character(len=4,kind=4) :: c4\n   line = 'x'\n   read (unit=line,fmt='(A)') a\n+  c4 = 4_'foo'\n+  if (c4 == 4_' ') print *,\"foobar\"\n   if (trim(a) == '') print *,\"empty\"\n   call foo(a)\n   if (trim(a) == '    ') print *,\"empty\"\n@@ -16,5 +19,5 @@ subroutine foo(b)\n     if (b /= '   ') print *,\"full\"\n   end subroutine foo\n end program main\n-! { dg-final { scan-tree-dump-times \"_gfortran_string_len_trim\" 3 \"original\" } }\n+! { dg-final { scan-tree-dump-times \"_gfortran_string_len_trim\" 4 \"original\" } }\n ! { dg-final { cleanup-tree-dump \"original\" } }"}]}