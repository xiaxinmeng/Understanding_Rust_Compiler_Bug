{"sha": "884caf18bbaa11fa562c52e44951016c4664ad74", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODg0Y2FmMThiYmFhMTFmYTU2MmM1MmU0NDk1MTAxNmM0NjY0YWQ3NA==", "commit": {"author": {"name": "Paul Eggert", "email": "eggert@gnu.org", "date": "1993-07-01T19:06:50Z"}, "committer": {"name": "Paul Eggert", "email": "eggert@gnu.org", "date": "1993-07-01T19:06:50Z"}, "message": "Don't create absolute symbolic links;\n\nmake them relative instead.\n\nFrom-SVN: r4815", "tree": {"sha": "1093b6fdaf243dc672d41152855731790e17c701", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1093b6fdaf243dc672d41152855731790e17c701"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/884caf18bbaa11fa562c52e44951016c4664ad74", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/884caf18bbaa11fa562c52e44951016c4664ad74", "html_url": "https://github.com/Rust-GCC/gccrs/commit/884caf18bbaa11fa562c52e44951016c4664ad74", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/884caf18bbaa11fa562c52e44951016c4664ad74/comments", "author": null, "committer": null, "parents": [{"sha": "458e8901e3d2a902521be02bb06377c689fcd493", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/458e8901e3d2a902521be02bb06377c689fcd493", "html_url": "https://github.com/Rust-GCC/gccrs/commit/458e8901e3d2a902521be02bb06377c689fcd493"}], "stats": {"total": 19, "additions": 14, "deletions": 5}, "files": [{"sha": "a17247ce8ee6b09420b2d65a966d4cd101257182", "filename": "gcc/fixinc.svr4", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/884caf18bbaa11fa562c52e44951016c4664ad74/gcc%2Ffixinc.svr4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/884caf18bbaa11fa562c52e44951016c4664ad74/gcc%2Ffixinc.svr4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc.svr4?ref=884caf18bbaa11fa562c52e44951016c4664ad74", "patch": "@@ -113,9 +113,12 @@ if $LINKS; then\n \tif expr $x : \"${INPUT}/.*\" > /dev/null; then\n \t  # Y gets the actual target dir name, relative to ${INPUT}.\n \t  y=`echo $x | sed -n \"s&${INPUT}/&&p\"`\n-\t  echo $file '->' $y ': Making link'\n+\t  # DOTS is the relative path from ${LIB}/$file's dir back to ${LIB}.\n+\t  dots=`echo \"$file\" |\n+\t\tsed -e 's@^./@@' -e 's@[^/][^/]*@..@g' -e 's@..$@@'`\n+\t  echo $file '->' $dots$y ': Making link'\n \t  rm -fr ${LIB}/$file > /dev/null 2>&1\n-\t  ln -s ${LIB}/$y ${LIB}/$file > /dev/null 2>&1\n+\t  ln -s $dots$y ${LIB}/$file > /dev/null 2>&1\n \telse\n \t  # If the link is to outside ${INPUT},\n \t  # treat this directory as if it actually contained the files."}, {"sha": "51616e4fd480051ce71cf80bb6ff1c7d306e1a48", "filename": "gcc/fixincludes", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/884caf18bbaa11fa562c52e44951016c4664ad74/gcc%2Ffixincludes", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/884caf18bbaa11fa562c52e44951016c4664ad74/gcc%2Ffixincludes", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixincludes?ref=884caf18bbaa11fa562c52e44951016c4664ad74", "patch": "@@ -161,9 +161,12 @@ if $LINKS; then\n \telif expr $x : \"${INPUT}/.*\" > /dev/null; then\n \t  # Y gets the actual target dir name, relative to ${INPUT}.\n \t  y=`echo $x | sed -n \"s&${INPUT}/&&p\"`\n-\t  echo $file '->' $y ': Making link'\n+\t  # DOTS is the relative path from ${LIB}/$file's dir back to ${LIB}.\n+\t  dots=`echo \"$file\" |\n+\t\tsed -e 's@^./@@' -e 's@[^/][^/]*@..@g' -e 's@..$@@'`\n+\t  echo $file '->' $dots$y ': Making link'\n \t  rm -fr ${LIB}/$file > /dev/null 2>&1\n-\t  ln -s ${LIB}/$y ${LIB}/$file > /dev/null 2>&1\n+\t  ln -s $dots$y ${LIB}/$file > /dev/null 2>&1\n \telse\n \t  # If the link is to a dir $target outside ${INPUT},\n \t  # repoint the link at ${INPUT}/root$target\n@@ -201,8 +204,11 @@ if $LINKS; then\n \t\t;;\n \t    esac\n           done\n+\t  # DOTS is the relative path from ${LIB}/$file's dir back to ${LIB}.\n+\t  dots=`echo \"$file\" |\n+\t\tsed -e 's@^./@@' -e 's@[^/][^/]*@..@g' -e 's@..$@@'`\n \t  rm -fr ${LIB}/$file > /dev/null 2>&1\n-\t  ln -s ${LIB}/root$x ${LIB}/$file > /dev/null 2>&1\n+\t  ln -s ${dots}root$x ${LIB}/$file > /dev/null 2>&1\n \t  treetops=\"$treetops $x ${LIB}/root$x\"\n \tfi\n       fi"}]}