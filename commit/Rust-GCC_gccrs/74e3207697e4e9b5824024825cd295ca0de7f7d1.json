{"sha": "74e3207697e4e9b5824024825cd295ca0de7f7d1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzRlMzIwNzY5N2U0ZTliNTgyNDAyNDgyNWNkMjk1Y2EwZGU3ZjdkMQ==", "commit": {"author": {"name": "Yao Qi", "email": "yao@codesourcery.com", "date": "2010-12-09T05:32:05Z"}, "committer": {"name": "Yao Qi", "email": "qiyao@gcc.gnu.org", "date": "2010-12-09T05:32:05Z"}, "message": "arm.c (arm_preferred_rename_class): Implement targethook PREFERRED_RENAME_CLASS.\n\n2010-12-09  Yao Qi  <yao@codesourcery.com>\n\n        * config/arm/arm.c (arm_preferred_rename_class): Implement targethook\n        PREFERRED_RENAME_CLASS.\n\nFrom-SVN: r167626", "tree": {"sha": "daa58816a29a7a29636ba198fde8254d1ad2f88f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/daa58816a29a7a29636ba198fde8254d1ad2f88f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/74e3207697e4e9b5824024825cd295ca0de7f7d1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74e3207697e4e9b5824024825cd295ca0de7f7d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/74e3207697e4e9b5824024825cd295ca0de7f7d1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74e3207697e4e9b5824024825cd295ca0de7f7d1/comments", "author": null, "committer": null, "parents": [{"sha": "ad632e9801d01d051507053ac1db7cd393d973b2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad632e9801d01d051507053ac1db7cd393d973b2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ad632e9801d01d051507053ac1db7cd393d973b2"}], "stats": {"total": 22, "additions": 22, "deletions": 0}, "files": [{"sha": "2a7df9e9bbaf270435f976f76fb65b72ccc32470", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74e3207697e4e9b5824024825cd295ca0de7f7d1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74e3207697e4e9b5824024825cd295ca0de7f7d1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=74e3207697e4e9b5824024825cd295ca0de7f7d1", "patch": "@@ -1,3 +1,8 @@\n+2010-12-09  Yao Qi  <yao@codesourcery.com>\n+\n+\t* config/arm/arm.c (arm_preferred_rename_class): Implement targethook\n+\tPREFERRED_RENAME_CLASS.\n+\n 2010-12-08  Ian Lance Taylor  <iant@google.com>\n \n \t* doc/sourcebuild.texi (Front End): Remove reference to"}, {"sha": "ac253655dbedeaf67e8ded8fdbae4ee31cb7edc8", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74e3207697e4e9b5824024825cd295ca0de7f7d1/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74e3207697e4e9b5824024825cd295ca0de7f7d1/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=74e3207697e4e9b5824024825cd295ca0de7f7d1", "patch": "@@ -248,6 +248,7 @@ static bool arm_builtin_support_vector_misalignment (enum machine_mode mode,\n \t\t\t\t\t\t     int misalignment,\n \t\t\t\t\t\t     bool is_packed);\n static void arm_conditional_register_usage (void);\n+static reg_class_t arm_preferred_rename_class (reg_class_t class);\n \n \f\n /* Table of machine attributes.  */\n@@ -585,6 +586,10 @@ static const struct default_options arm_option_optimization_table[] =\n #define TARGET_VECTORIZE_SUPPORT_VECTOR_MISALIGNMENT \\\n   arm_builtin_support_vector_misalignment\n \n+#undef TARGET_PREFERRED_RENAME_CLASS\n+#define TARGET_PREFERRED_RENAME_CLASS \\\n+  arm_preferred_rename_class\n+\n struct gcc_target targetm = TARGET_INITIALIZER;\n \f\n /* Obstack for minipool constant handling.  */\n@@ -23467,4 +23472,16 @@ arm_conditional_register_usage (void)\n   SUBTARGET_CONDITIONAL_REGISTER_USAGE\n }\n \n+static reg_class_t\n+arm_preferred_rename_class (reg_class_t class)\n+{\n+  /* Thumb-2 instructions using LO_REGS may be smaller than instructions\n+     using GENERIC_REGS.  During register rename pass, we prefer LO_REGS,\n+     and code size can be reduced.  */\n+  if (TARGET_THUMB2 && class == GENERAL_REGS)\n+    return LO_REGS;\n+  else\n+    return NO_REGS;\n+}\n+\n #include \"gt-arm.h\""}]}