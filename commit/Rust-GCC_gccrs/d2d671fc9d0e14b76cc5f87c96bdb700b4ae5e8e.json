{"sha": "d2d671fc9d0e14b76cc5f87c96bdb700b4ae5e8e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDJkNjcxZmM5ZDBlMTRiNzZjYzVmODdjOTZiZGI3MDBiNGFlNWU4ZQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-03-18T22:00:29Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-03-18T22:00:29Z"}, "message": "(movsi): Allow FP regs and add case for store of FP reg.\n\n(movsi): Allow FP regs and add case for store of FP reg.  Remove cvtlq\nfrom MEM to FP reg case.\n\nFrom-SVN: r9210", "tree": {"sha": "c06d025ea5dc02bd204abae377e7039147c1b152", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c06d025ea5dc02bd204abae377e7039147c1b152"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d2d671fc9d0e14b76cc5f87c96bdb700b4ae5e8e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2d671fc9d0e14b76cc5f87c96bdb700b4ae5e8e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d2d671fc9d0e14b76cc5f87c96bdb700b4ae5e8e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2d671fc9d0e14b76cc5f87c96bdb700b4ae5e8e/comments", "author": null, "committer": null, "parents": [{"sha": "e868b5184ed86d384d79f8edf646f57f115f021b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e868b5184ed86d384d79f8edf646f57f115f021b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e868b5184ed86d384d79f8edf646f57f115f021b"}], "stats": {"total": 18, "additions": 6, "deletions": 12}, "files": [{"sha": "570aaa08bedcc52fa460327d690cdfc557ef6a2f", "filename": "gcc/config/alpha/alpha.md", "status": "modified", "additions": 6, "deletions": 12, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2d671fc9d0e14b76cc5f87c96bdb700b4ae5e8e/gcc%2Fconfig%2Falpha%2Falpha.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2d671fc9d0e14b76cc5f87c96bdb700b4ae5e8e/gcc%2Fconfig%2Falpha%2Falpha.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.md?ref=d2d671fc9d0e14b76cc5f87c96bdb700b4ae5e8e", "patch": "@@ -1,5 +1,5 @@\n ;; Machine description for DEC Alpha for GNU C compiler\n-;; Copyright (C) 1992, 1993, 1994 Free Software Foundation, Inc.\n+;; Copyright (C) 1992, 1993, 1994, 1995 Free Software Foundation, Inc.\n ;; Contributed by Richard Kenner (kenner@vlsi1.ultra.nyu.edu)\n \n ;; This file is part of GNU CC.\n@@ -2842,16 +2842,9 @@\n     operands[1] = force_reg (DFmode, operands[1]);\n }\")\n \n-;; There is a problem with 32-bit values in FP registers.  We keep such\n-;; values in the register as a quadword.  This is done on loads by using\n-;; the cvtlq instruction.  On stores, we can't do anything directly from\n-;; floating-point registers.  Disallow such an operation and let reload\n-;; use an integer register instead.  Don't encourage 32-bit values to\n-;; be placed in FP registers at all.\n-\n (define_insn \"\"\n-  [(set (match_operand:SI 0 \"nonimmediate_operand\" \"=r,r,r,r,r,r,m,*f,*f,*f\")\n-\t(match_operand:SI 1 \"input_operand\" \"r,J,I,K,L,m,rJ,*f,J,m\"))]\n+  [(set (match_operand:SI 0 \"nonimmediate_operand\" \"=r,r,r,r,r,r,m,f,f,f,m\")\n+\t(match_operand:SI 1 \"input_operand\" \"r,J,I,K,L,m,rJ,f,J,m,fG\"))]\n   \"register_operand (operands[0], SImode)\n    || reg_or_0_operand (operands[1], SImode)\"\n   \"@\n@@ -2864,8 +2857,9 @@\n    stl %r1,%0\n    cpys %1,%1,%0\n    cpys $f31,$f31,%0\n-   lds %0,%1\\;cvtlq %0,%0\"\n-  [(set_attr \"type\" \"iaddlog,iaddlog,iaddlog,iaddlog,iaddlog,ld,st,fpop,fpop,ld\")])\n+   lds %0,%1\n+   sts %R1,%0\"\n+  [(set_attr \"type\" \"iaddlog,iaddlog,iaddlog,iaddlog,iaddlog,ld,st,fpop,fpop,ld,st\")])\n \n (define_insn \"\"\n   [(set (match_operand:HI 0 \"nonimmediate_operand\" \"=r,r,r,r,f,f\")"}]}