{"sha": "bfdc95943e46532617c70eed00f5dff5a2238dcd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmZkYzk1OTQzZTQ2NTMyNjE3YzcwZWVkMDBmNWRmZjVhMjIzOGRjZA==", "commit": {"author": {"name": "Piotr Trojanek", "email": "trojanek@adacore.com", "date": "2021-01-29T18:34:39Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2021-05-07T09:29:01Z"}, "message": "[Ada] Remove End_Interp_List from the overloaded resolution API\n\ngcc/ada/\n\n\t* sem_ch4.adb (Analyze_Call): Remove call to End_Interp_List.\n\t(Process_Overloaded_Indexed_Component): Remove call to\n\tEnd_Interp_List.\n\t* sem_util.adb (Insert_Explicit_Dereference): Remove call to\n\tEnd_Interp_List.\n\t* sem_type.ads (End_Interp_List): Remove.\n\t* sem_type.adb (Add_Entry): The guard against duplicate entries\n\tis now checked before other conditions, so that EXIT statements\n\tdo not bypass this guard.\n\t(End_Interp_List): Remove.", "tree": {"sha": "5ae5109bb838bb20980dd3c0e30f3cee23e48f85", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5ae5109bb838bb20980dd3c0e30f3cee23e48f85"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bfdc95943e46532617c70eed00f5dff5a2238dcd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfdc95943e46532617c70eed00f5dff5a2238dcd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bfdc95943e46532617c70eed00f5dff5a2238dcd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfdc95943e46532617c70eed00f5dff5a2238dcd/comments", "author": {"login": "ptroja", "id": 161602, "node_id": "MDQ6VXNlcjE2MTYwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/161602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ptroja", "html_url": "https://github.com/ptroja", "followers_url": "https://api.github.com/users/ptroja/followers", "following_url": "https://api.github.com/users/ptroja/following{/other_user}", "gists_url": "https://api.github.com/users/ptroja/gists{/gist_id}", "starred_url": "https://api.github.com/users/ptroja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ptroja/subscriptions", "organizations_url": "https://api.github.com/users/ptroja/orgs", "repos_url": "https://api.github.com/users/ptroja/repos", "events_url": "https://api.github.com/users/ptroja/events{/privacy}", "received_events_url": "https://api.github.com/users/ptroja/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4b0ba35687c2df12589cb197a4186e19f40def7f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b0ba35687c2df12589cb197a4186e19f40def7f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4b0ba35687c2df12589cb197a4186e19f40def7f"}], "stats": {"total": 35, "additions": 8, "deletions": 27}, "files": [{"sha": "f89db02842063eed4a2c8c524b7fdb2db0cafdcc", "filename": "gcc/ada/sem_ch4.adb", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfdc95943e46532617c70eed00f5dff5a2238dcd/gcc%2Fada%2Fsem_ch4.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfdc95943e46532617c70eed00f5dff5a2238dcd/gcc%2Fada%2Fsem_ch4.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch4.adb?ref=bfdc95943e46532617c70eed00f5dff5a2238dcd", "patch": "@@ -1461,8 +1461,6 @@ package body Sem_Ch4 is\n          else\n             Remove_Abstract_Operations (N);\n          end if;\n-\n-         End_Interp_List;\n       end if;\n \n       --  Check the accessibility level for actuals for explicitly aliased\n@@ -2790,8 +2788,6 @@ package body Sem_Ch4 is\n             Error_Msg_N (\"no legal interpretation for indexed component\", N);\n             Set_Is_Overloaded (N, False);\n          end if;\n-\n-         End_Interp_List;\n       end Process_Overloaded_Indexed_Component;\n \n    --  Start of processing for Analyze_Indexed_Component_Form"}, {"sha": "8ffdda3f80087dbf79fd41390561d7643ae7a92d", "filename": "gcc/ada/sem_type.adb", "status": "modified", "additions": 8, "deletions": 18, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfdc95943e46532617c70eed00f5dff5a2238dcd/gcc%2Fada%2Fsem_type.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfdc95943e46532617c70eed00f5dff5a2238dcd/gcc%2Fada%2Fsem_type.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_type.adb?ref=bfdc95943e46532617c70eed00f5dff5a2238dcd", "patch": "@@ -239,6 +239,13 @@ package body Sem_Type is\n          Get_First_Interp (N, I, It);\n          while Present (It.Nam) loop\n \n+            --  Avoid making duplicate entries in overloads\n+\n+            if Name = It.Nam\n+              and then Base_Type (It.Typ) = Base_Type (T)\n+            then\n+               return;\n+\n             --  A user-defined subprogram hides another declared at an outer\n             --  level, or one that is use-visible. So return if previous\n             --  definition hides new one (which is either in an outer\n@@ -248,7 +255,7 @@ package body Sem_Type is\n             --  If this is a universal operation, retain the operator in case\n             --  preference rule applies.\n \n-            if (((Ekind (Name) = E_Function or else Ekind (Name) = E_Procedure)\n+            elsif ((Ekind (Name) in E_Function | E_Procedure\n                    and then Ekind (Name) = Ekind (It.Nam))\n                  or else (Ekind (Name) = E_Operator\n                            and then Ekind (It.Nam) = E_Function))\n@@ -292,13 +299,6 @@ package body Sem_Type is\n                   return;\n                end if;\n \n-            --  Avoid making duplicate entries in overloads\n-\n-            elsif Name = It.Nam\n-              and then Base_Type (It.Typ) = Base_Type (T)\n-            then\n-               return;\n-\n             --  Otherwise keep going\n \n             else\n@@ -2227,16 +2227,6 @@ package body Sem_Type is\n       end if;\n    end Disambiguate;\n \n-   ---------------------\n-   -- End_Interp_List --\n-   ---------------------\n-\n-   procedure End_Interp_List is\n-   begin\n-      All_Interp.Table (All_Interp.Last) := No_Interp;\n-      All_Interp.Increment_Last;\n-   end End_Interp_List;\n-\n    -------------------------\n    -- Entity_Matches_Spec --\n    -------------------------"}, {"sha": "89fd617ad504f1414bda2f1a0cde63ff28c3d274", "filename": "gcc/ada/sem_type.ads", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfdc95943e46532617c70eed00f5dff5a2238dcd/gcc%2Fada%2Fsem_type.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfdc95943e46532617c70eed00f5dff5a2238dcd/gcc%2Fada%2Fsem_type.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_type.ads?ref=bfdc95943e46532617c70eed00f5dff5a2238dcd", "patch": "@@ -130,9 +130,6 @@ package Sem_Type is\n    --  always Boolean, and we use Opnd_Type, which is a candidate type for one\n    --  of the operands of N, to check visibility.\n \n-   procedure End_Interp_List;\n-   --  End the list of interpretations of current node\n-\n    procedure Get_First_Interp\n      (N  : Node_Id;\n       I  : out Interp_Index;"}, {"sha": "4e6fef599e673d38a79963a9df7e0a532010ecc3", "filename": "gcc/ada/sem_util.adb", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfdc95943e46532617c70eed00f5dff5a2238dcd/gcc%2Fada%2Fsem_util.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfdc95943e46532617c70eed00f5dff5a2238dcd/gcc%2Fada%2Fsem_util.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_util.adb?ref=bfdc95943e46532617c70eed00f5dff5a2238dcd", "patch": "@@ -15044,8 +15044,6 @@ package body Sem_Util is\n             Get_Next_Interp (I, It);\n          end loop;\n \n-         End_Interp_List;\n-\n       else\n          --  Prefix is unambiguous: mark the original prefix (which might\n          --  Come_From_Source) as a reference, since the new (relocated) one"}]}