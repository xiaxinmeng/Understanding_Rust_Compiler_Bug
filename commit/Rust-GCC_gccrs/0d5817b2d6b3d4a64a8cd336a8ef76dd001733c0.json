{"sha": "0d5817b2d6b3d4a64a8cd336a8ef76dd001733c0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGQ1ODE3YjJkNmIzZDRhNjRhOGNkMzM2YThlZjc2ZGQwMDE3MzNjMA==", "commit": {"author": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2006-02-19T18:46:12Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2006-02-19T18:46:12Z"}, "message": "xcoff.h (TARGET_ASM_OUTPUT_ANCHOR): Define.\n\n        * config/rs6000/xcoff.h (TARGET_ASM_OUTPUT_ANCHOR): Define.\n        * config/rs6000/rs6000.c (rs6000_xcoff_asm_output_anchor): Define.\n\nFrom-SVN: r111275", "tree": {"sha": "1aa5f1b41e6447c659f8a2fcfa551082a6e1d7d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1aa5f1b41e6447c659f8a2fcfa551082a6e1d7d2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0d5817b2d6b3d4a64a8cd336a8ef76dd001733c0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d5817b2d6b3d4a64a8cd336a8ef76dd001733c0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0d5817b2d6b3d4a64a8cd336a8ef76dd001733c0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d5817b2d6b3d4a64a8cd336a8ef76dd001733c0/comments", "author": null, "committer": null, "parents": [{"sha": "62448787ebfeba29c475b5713b97aaade1ce2243", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62448787ebfeba29c475b5713b97aaade1ce2243", "html_url": "https://github.com/Rust-GCC/gccrs/commit/62448787ebfeba29c475b5713b97aaade1ce2243"}], "stats": {"total": 21, "additions": 19, "deletions": 2}, "files": [{"sha": "0012dcbadc5f53c04e7180c7c528bb4b2a4c3905", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d5817b2d6b3d4a64a8cd336a8ef76dd001733c0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d5817b2d6b3d4a64a8cd336a8ef76dd001733c0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0d5817b2d6b3d4a64a8cd336a8ef76dd001733c0", "patch": "@@ -1,3 +1,8 @@\n+2006-02-19  David Edelsohn  <edelsohn@gnu.org>\n+\n+\t* config/rs6000/xcoff.h (TARGET_ASM_OUTPUT_ANCHOR): Define.\n+\t* config/rs6000/rs6000.c (rs6000_xcoff_asm_output_anchor): Define.\n+\n 2006-02-19  Daniel Berlin  <dberlin@dberlin.org>\n \n \t* doc/invoke.texi: Document -fipa-pta.\n@@ -32,13 +37,13 @@\n \t* doc/contrib.texi (Contributors): Add classpath/libgcj hackers\n \twho added new 4.1 features, bug fixes and integration support.\n \n-2005-02-18  David Edelsohn  <edelsohn@gnu.org>\n+2006-02-18  David Edelsohn  <edelsohn@gnu.org>\n \n \tPR target/26350\n \t* config/rs6000/rs6000.md (extenddftf2): Force 0.0 to validized\n \tMEM for ABI_V4 pic.\n \n-2005-02-18  Richard Sandiford  <richard@codesourcery.com>\n+2006-02-18  Richard Sandiford  <richard@codesourcery.com>\n \n \t* cselib.c (cselib_init): Change RTX_SIZE to RTX_CODE_SIZE.\n \t* emit-rtl.c (copy_rtx_if_shared_1): Use shallow_copy_rtx."}, {"sha": "2b69a4852d6dcdba59c4721275974873371e720d", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d5817b2d6b3d4a64a8cd336a8ef76dd001733c0/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d5817b2d6b3d4a64a8cd336a8ef76dd001733c0/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=0d5817b2d6b3d4a64a8cd336a8ef76dd001733c0", "patch": "@@ -625,6 +625,7 @@ static void rs6000_elf_encode_section_info (tree, rtx, int)\n #endif\n static bool rs6000_use_blocks_for_constant_p (enum machine_mode, rtx);\n #if TARGET_XCOFF\n+static void rs6000_xcoff_asm_output_anchor (rtx);\n static void rs6000_xcoff_asm_globalize_label (FILE *, const char *);\n static void rs6000_xcoff_asm_init_sections (void);\n static void rs6000_xcoff_asm_named_section (const char *, unsigned int, tree);\n@@ -18219,6 +18220,16 @@ rs6000_elf_end_indicate_exec_stack (void)\n #endif\n \n #if TARGET_XCOFF\n+static void\n+rs6000_xcoff_asm_output_anchor (rtx symbol)\n+{\n+  char buffer[100];\n+\n+  sprintf (buffer, \"$ + \" HOST_WIDE_INT_PRINT_DEC,\n+\t   SYMBOL_REF_BLOCK_OFFSET (symbol));\n+  ASM_OUTPUT_DEF (asm_out_file, XSTR (symbol, 0), buffer);\n+}\n+\n static void\n rs6000_xcoff_asm_globalize_label (FILE *stream, const char *name)\n {"}, {"sha": "abeab5a33362e69b9208654f8c6bbf7f0d6f3f4b", "filename": "gcc/config/rs6000/xcoff.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d5817b2d6b3d4a64a8cd336a8ef76dd001733c0/gcc%2Fconfig%2Frs6000%2Fxcoff.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d5817b2d6b3d4a64a8cd336a8ef76dd001733c0/gcc%2Fconfig%2Frs6000%2Fxcoff.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fxcoff.h?ref=0d5817b2d6b3d4a64a8cd336a8ef76dd001733c0", "patch": "@@ -80,6 +80,7 @@\n \t       || (SCALAR_FLOAT_MODE_P (GET_MODE (X))\t\t\t\\\n \t\t   && ! TARGET_NO_FP_IN_TOC)))))\n \n+#define TARGET_ASM_OUTPUT_ANCHOR  rs6000_xcoff_asm_output_anchor\n #define TARGET_ASM_GLOBALIZE_LABEL  rs6000_xcoff_asm_globalize_label\n #define TARGET_ASM_INIT_SECTIONS  rs6000_xcoff_asm_init_sections\n #define TARGET_ASM_NAMED_SECTION  rs6000_xcoff_asm_named_section"}]}