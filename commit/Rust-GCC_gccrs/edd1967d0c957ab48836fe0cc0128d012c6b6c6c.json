{"sha": "edd1967d0c957ab48836fe0cc0128d012c6b6c6c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWRkMTk2N2QwYzk1N2FiNDg4MzZmZTBjYzAxMjhkMDEyYzZiNmM2Yw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2002-02-07T01:38:40Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-02-07T01:38:40Z"}, "message": "re PR c/5609 (ICE on named operands in inline assembler)\n\n        PR c/5609\n        * stmt.c (resolve_operand_name_1): Take more care with mixed\n        named and unnamed operands.\n\n        * gcc.dg/asm-4.c: Add case with an unnamed operand in the middle.\n\nFrom-SVN: r49560", "tree": {"sha": "0dff9e44d22a2396c142a7018e5bd673b236bb05", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0dff9e44d22a2396c142a7018e5bd673b236bb05"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/edd1967d0c957ab48836fe0cc0128d012c6b6c6c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/edd1967d0c957ab48836fe0cc0128d012c6b6c6c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/edd1967d0c957ab48836fe0cc0128d012c6b6c6c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/edd1967d0c957ab48836fe0cc0128d012c6b6c6c/comments", "author": null, "committer": null, "parents": [{"sha": "448f456d7a9043f135f13ea300f8ac124906adfe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/448f456d7a9043f135f13ea300f8ac124906adfe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/448f456d7a9043f135f13ea300f8ac124906adfe"}], "stats": {"total": 31, "additions": 25, "deletions": 6}, "files": [{"sha": "7560a0b671a38a0e14104080126e0ed6d9c07fdc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edd1967d0c957ab48836fe0cc0128d012c6b6c6c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edd1967d0c957ab48836fe0cc0128d012c6b6c6c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=edd1967d0c957ab48836fe0cc0128d012c6b6c6c", "patch": "@@ -1,3 +1,9 @@\n+2002-02-06  Richard Henderson  <rth@redhat.com>\n+\n+\tPR c/5609\n+\t* stmt.c (resolve_operand_name_1): Take more care with mixed\n+\tnamed and unnamed operands.\n+\n 2002-02-06  Janis Johnson  <janis187@us.ibm.com>\n \t    Jan Hubicka  <jh@suse.cz>\n "}, {"sha": "17b4d0b197267b4d7e15e3682a366ef41f3ce3b7", "filename": "gcc/stmt.c", "status": "modified", "additions": 14, "deletions": 6, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edd1967d0c957ab48836fe0cc0128d012c6b6c6c/gcc%2Fstmt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edd1967d0c957ab48836fe0cc0128d012c6b6c6c/gcc%2Fstmt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fstmt.c?ref=edd1967d0c957ab48836fe0cc0128d012c6b6c6c", "patch": "@@ -2149,15 +2149,23 @@ resolve_operand_name_1 (p, outputs, inputs)\n   /* Resolve the name to a number.  */\n   for (op = 0, t = outputs; t ; t = TREE_CHAIN (t), op++)\n     {\n-      const char *c = IDENTIFIER_POINTER (TREE_PURPOSE (TREE_PURPOSE (t)));\n-      if (strncmp (c, p + 1, len) == 0 && c[len] == '\\0')\n-\tgoto found;\n+      tree id = TREE_PURPOSE (TREE_PURPOSE (t));\n+      if (id)\n+\t{\n+\t  const char *c = IDENTIFIER_POINTER (id);\n+\t  if (strncmp (c, p + 1, len) == 0 && c[len] == '\\0')\n+\t    goto found;\n+\t}\n     }\n   for (t = inputs; t ; t = TREE_CHAIN (t), op++)\n     {\n-      const char *c = IDENTIFIER_POINTER (TREE_PURPOSE (TREE_PURPOSE (t)));\n-      if (strncmp (c, p + 1, len) == 0 && c[len] == '\\0')\n-\tgoto found;\n+      tree id = TREE_PURPOSE (TREE_PURPOSE (t));\n+      if (id)\n+\t{\n+\t  const char *c = IDENTIFIER_POINTER (id);\n+\t  if (strncmp (c, p + 1, len) == 0 && c[len] == '\\0')\n+\t    goto found;\n+\t}\n     }\n \n   *q = '\\0';"}, {"sha": "a32e28e5b099e179d2b987ed0ea5a96be7fdefce", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edd1967d0c957ab48836fe0cc0128d012c6b6c6c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edd1967d0c957ab48836fe0cc0128d012c6b6c6c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=edd1967d0c957ab48836fe0cc0128d012c6b6c6c", "patch": "@@ -1,3 +1,7 @@\n+2002-02-06  Richard Henderson  <rth@redhat.com>\n+\n+\t* gcc.dg/asm-4.c: Add case with an unnamed operand in the middle.\n+\n 2002-02-06  Janis Johnson  <janis187@us.ibm.com>\n \n \t* gcc.dg/20020206-1.c: New test."}, {"sha": "00675982aa2247b7e16fb8aded1131fac45a9233", "filename": "gcc/testsuite/gcc.dg/asm-4.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edd1967d0c957ab48836fe0cc0128d012c6b6c6c/gcc%2Ftestsuite%2Fgcc.dg%2Fasm-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edd1967d0c957ab48836fe0cc0128d012c6b6c6c/gcc%2Ftestsuite%2Fgcc.dg%2Fasm-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fasm-4.c?ref=edd1967d0c957ab48836fe0cc0128d012c6b6c6c", "patch": "@@ -8,6 +8,7 @@ int main()\n   asm volatile (\"test0 X%0Y%[arg]Z\" : [arg] \"=g\" (x));\n   asm volatile (\"test1 X%[out]Y%[in]Z\" : [out] \"=g\" (y) : [in] \"0\"(y));\n   asm volatile (\"test2 X%a0Y%a[arg]Z\" : : [arg] \"p\" (&z));\n+  asm volatile (\"test3 %[in]\" : [inout] \"=g\"(x) : \"[inout]\" (x), [in] \"g\" (y));\n }\n \n /* ??? Someone explain why the back reference dosn't work.  */"}]}