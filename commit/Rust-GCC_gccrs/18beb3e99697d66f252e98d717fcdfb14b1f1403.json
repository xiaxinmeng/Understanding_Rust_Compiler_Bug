{"sha": "18beb3e99697d66f252e98d717fcdfb14b1f1403", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MThiZWIzZTk5Njk3ZDY2ZjI1MmU5OGQ3MTdmY2RmYjE0YjFmMTQwMw==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1994-07-01T23:29:06Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1994-07-01T23:29:06Z"}, "message": "reorg.c (make_return_insns): Make sure redirecting a jump to a RETURN insn does not invalidate the delay...\n\n\t* reorg.c (make_return_insns): Make sure redirecting a jump to\n\ta RETURN insn does not invalidate the delay slots of the jump.\n\nFrom-SVN: r7639", "tree": {"sha": "7c9a2fced2c49f781b2ff9318c4b427b5cd457a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7c9a2fced2c49f781b2ff9318c4b427b5cd457a7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/18beb3e99697d66f252e98d717fcdfb14b1f1403", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18beb3e99697d66f252e98d717fcdfb14b1f1403", "html_url": "https://github.com/Rust-GCC/gccrs/commit/18beb3e99697d66f252e98d717fcdfb14b1f1403", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18beb3e99697d66f252e98d717fcdfb14b1f1403/comments", "author": null, "committer": null, "parents": [{"sha": "8743ede9fbe9b575a953459f21852dd3cf85bbc0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8743ede9fbe9b575a953459f21852dd3cf85bbc0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8743ede9fbe9b575a953459f21852dd3cf85bbc0"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "4082ad8de51512c7f23d3041e6f96fedb9478f62", "filename": "gcc/reorg.c", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18beb3e99697d66f252e98d717fcdfb14b1f1403/gcc%2Freorg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18beb3e99697d66f252e98d717fcdfb14b1f1403/gcc%2Freorg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freorg.c?ref=18beb3e99697d66f252e98d717fcdfb14b1f1403", "patch": "@@ -3980,11 +3980,16 @@ make_return_insns (first)\n       pat = PATTERN (insn);\n       jump_insn = XVECEXP (pat, 0, 0);\n \n-      /* If we can't make the jump into a RETURN, redirect it to the best\n+      /* If we can't make the jump into a RETURN, try to redirect it to the best\n \t RETURN and go on to the next insn.  */\n       if (! reorg_redirect_jump (jump_insn, NULL_RTX))\n \t{\n-\t  reorg_redirect_jump (jump_insn, real_return_label);\n+\t  /* Make sure redirecting the jump will not invalidate the delay\n+\t     slot insns.  */\n+\t  if (redirect_with_delay_slots_safe_p (jump_insn,\n+\t\t\t\t\t\treal_return_label,\n+\t\t\t\t\t\tinsn))\n+\t    reorg_redirect_jump (jump_insn, real_return_label);\n \t  continue;\n \t}\n "}]}