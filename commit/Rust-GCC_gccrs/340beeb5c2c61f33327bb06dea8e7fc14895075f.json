{"sha": "340beeb5c2c61f33327bb06dea8e7fc14895075f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzQwYmVlYjVjMmM2MWYzMzMyN2JiMDZkZWE4ZTdmYzE0ODk1MDc1Zg==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2004-12-22T06:02:15Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2004-12-22T06:02:15Z"}, "message": "t-linux64: Remove code that messed with $(SPECS).\n\n* config/mips/t-linux64: Remove code that messed with $(SPECS).\n(MULTILIB_OPTIONS, MULTILIB_DIRNAMES, MULTILIB_OSDIRNAMES): Move\nn32 to the front.\n(MULTILIB_EXTRA_OPTS, CRTSTUFF_T_CFLAGS, CRTSTUFF_T_CFLAGS_S):\nRemoved.\n* config/mips/linux64.h (DRIVER_SELF_SPECS): Don't handle\n-mabi-fake-default.\n(SUBTARGET_TARGET_SWITCHES): Likewise.\n\nFrom-SVN: r92487", "tree": {"sha": "7bbaa8e4472097fd28006327703a957691966f62", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7bbaa8e4472097fd28006327703a957691966f62"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/340beeb5c2c61f33327bb06dea8e7fc14895075f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/340beeb5c2c61f33327bb06dea8e7fc14895075f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/340beeb5c2c61f33327bb06dea8e7fc14895075f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/340beeb5c2c61f33327bb06dea8e7fc14895075f/comments", "author": null, "committer": null, "parents": [{"sha": "943e3eded2ab29d35a266cb0d7bfcbda9d96e038", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/943e3eded2ab29d35a266cb0d7bfcbda9d96e038", "html_url": "https://github.com/Rust-GCC/gccrs/commit/943e3eded2ab29d35a266cb0d7bfcbda9d96e038"}], "stats": {"total": 46, "additions": 14, "deletions": 32}, "files": [{"sha": "4c0b10e468206d11227db702a25ecfa8c5a348ac", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/340beeb5c2c61f33327bb06dea8e7fc14895075f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/340beeb5c2c61f33327bb06dea8e7fc14895075f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=340beeb5c2c61f33327bb06dea8e7fc14895075f", "patch": "@@ -1,3 +1,14 @@\n+2004-12-22  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* config/mips/t-linux64: Remove code that messed with $(SPECS).\n+\t(MULTILIB_OPTIONS, MULTILIB_DIRNAMES, MULTILIB_OSDIRNAMES): Move\n+\tn32 to the front.\n+\t(MULTILIB_EXTRA_OPTS, CRTSTUFF_T_CFLAGS, CRTSTUFF_T_CFLAGS_S):\n+\tRemoved.\n+\t* config/mips/linux64.h (DRIVER_SELF_SPECS): Don't handle\n+\t-mabi-fake-default.\n+\t(SUBTARGET_TARGET_SWITCHES): Likewise.\n+\n 2004-12-21  Andrew Pinski  <pinskia@physics.uc.edu>\n \n \tPR c++/18984"}, {"sha": "6835f715236115d48f7a57a0c86bdee3a0809666", "filename": "gcc/config/mips/linux64.h", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/340beeb5c2c61f33327bb06dea8e7fc14895075f/gcc%2Fconfig%2Fmips%2Flinux64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/340beeb5c2c61f33327bb06dea8e7fc14895075f/gcc%2Fconfig%2Fmips%2Flinux64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Flinux64.h?ref=340beeb5c2c61f33327bb06dea8e7fc14895075f", "patch": "@@ -30,14 +30,9 @@ Boston, MA 02111-1307, USA.  */\n   { \"driver_default_abi_self_spec\", DRIVER_DEFAULT_ABI_SELF_SPEC },\n #define DRIVER_SELF_SPECS \\\n \"%{!EB:%{!EL:%(endian_spec)}}\", \\\n-\"%{mabi-fake-default:%{!mabi=*:-mabi=32}}\", \\\n \"%(driver_default_abi_self_spec)\", \\\n \"%{!mips*:%{!march=*:%{mabi=32:-mips1}%{mabi=n32|mabi=64:-mips3}}}\"\n \n-#undef SUBTARGET_TARGET_SWITCHES\n-#define SUBTARGET_TARGET_SWITCHES \\\n-  { \"abi-fake-default\", 0, N_(\"Same as -mabi=32, just trickier\") },\n-\n #undef SUBTARGET_ASM_SPEC\n #define SUBTARGET_ASM_SPEC \"\\\n %{!fno-PIC:%{!fno-pic:-KPIC}} \\"}, {"sha": "39531e59e692159f1ff4fa6817facfb080e6c800", "filename": "gcc/config/mips/t-linux64", "status": "modified", "additions": 3, "deletions": 27, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/340beeb5c2c61f33327bb06dea8e7fc14895075f/gcc%2Fconfig%2Fmips%2Ft-linux64", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/340beeb5c2c61f33327bb06dea8e7fc14895075f/gcc%2Fconfig%2Fmips%2Ft-linux64", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Ft-linux64?ref=340beeb5c2c61f33327bb06dea8e7fc14895075f", "patch": "@@ -1,6 +1,6 @@\n-MULTILIB_OPTIONS = mabi=32/mabi=n32/mabi=64\n-MULTILIB_DIRNAMES = o32 32 64\n-MULTILIB_OSDIRNAMES = ../lib ../lib32 ../lib64\n+MULTILIB_OPTIONS = mabi=n32/mabi=32/mabi=64\n+MULTILIB_DIRNAMES = 32 o32 64\n+MULTILIB_OSDIRNAMES = ../lib32 ../lib ../lib64\n \n EXTRA_MULTILIB_PARTS=crtbegin.o crtend.o crtbeginS.o crtendS.o crtbeginT.o\n \n@@ -17,27 +17,3 @@ tp-bit.c: $(srcdir)/config/fp-bit.c\n \techo '# define TFLOAT' >> tp-bit.c\n \tcat $(srcdir)/config/fp-bit.c >> tp-bit.c\n \techo '#endif' >> tp-bit.c\n-\n-# This arranges for us to extract the built-in specs of the compiler\n-# into specs.install.  It's this file that we're going to install as\n-# specs.  Howver, at toolchain build time, we must use specs that\n-# enforce the defaults that the compiler expects, namely, the o32 ABI,\n-# instead of n32, that we want to use as the default post install.\n-SPECS = specs.install\n-specs: specs.install\n-\t# Changing the build-time default ABI from n32 to o32\n-\t# The post-install default ABI will remain n32\n-\t@if test \"x`grep '!mabi=\\*:-mabi=n32' specs.install`\" = \\\n-\t\t\"x%{!mabi=*:-mabi=n32}\"; then \\\n-\t  sed 's,\\(!mabi=\\*:-mabi\\)=n32,\\1=32,' < specs.install > $@ ; \\\n-\telse \\\n-\t  echo failed, gcc/config/mips/t-linux64 needs updating >&2; \\\n-\t  false; \\\n-\tfi\n-\n-# This arranges for anyone who uses gcc -print-multi-lib post\n-# installation to get lists of options for each multilib to get\n-# options that actually work.\n-MULTILIB_EXTRA_OPTS = mabi-fake-default\n-CRTSTUFF_T_CFLAGS = -mabi-fake-default\n-CRTSTUFF_T_CFLAGS_S = -mabi-fake-default"}]}