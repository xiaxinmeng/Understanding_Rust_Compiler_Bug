{"sha": "7d41c4114a3cb45123e2944500787aa3736df8cb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2Q0MWM0MTE0YTNjYjQ1MTIzZTI5NDQ1MDA3ODdhYTM3MzZkZjhjYg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-12-11T14:09:06Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-12-11T14:09:06Z"}, "message": "(cacheflush): Add SONY NEWS-OS 4.2 version.\n\nFrom-SVN: r13279", "tree": {"sha": "43a11b9b5264fb536afe179f5ae9f40b7ab9bb18", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/43a11b9b5264fb536afe179f5ae9f40b7ab9bb18"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7d41c4114a3cb45123e2944500787aa3736df8cb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d41c4114a3cb45123e2944500787aa3736df8cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7d41c4114a3cb45123e2944500787aa3736df8cb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d41c4114a3cb45123e2944500787aa3736df8cb/comments", "author": null, "committer": null, "parents": [{"sha": "e34fc61568bef867b6745442de3fc4e1961926fd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e34fc61568bef867b6745442de3fc4e1961926fd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e34fc61568bef867b6745442de3fc4e1961926fd"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "19e1a137f71b1521f46e53debf4a76175ca0cde3", "filename": "gcc/libgcc2.c", "status": "modified", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d41c4114a3cb45123e2944500787aa3736df8cb/gcc%2Flibgcc2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d41c4114a3cb45123e2944500787aa3736df8cb/gcc%2Flibgcc2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flibgcc2.c?ref=7d41c4114a3cb45123e2944500787aa3736df8cb", "patch": "@@ -2801,6 +2801,34 @@ __enable_execute_stack ()\n     }\n }\n #endif /* __pyr__ */\n+\n+#if defined (sony_news) && defined (SYSTYPE_BSD)\n+\n+#include <stdio.h>\n+#include <sys/types.h>\n+#include <sys/param.h>\n+#include <syscall.h>\n+#include <machine/sysnews.h>\n+\n+/* cacheflush function for NEWS-OS 4.2.\n+   This function is called from trampoline-initialize code\n+   defined in config/mips/mips.h.  */\n+\n+void\n+cacheflush (beg,size,flag)\n+     char *beg;\n+     int size;\n+     int flag;\n+{\n+  if (syscall (SYS_sysnews, NEWS_CACHEFLUSH, beg, size, FLUSH_BCACHE))\n+    {\n+      perror (\"cache_flush\");\n+      fflush (stderr);\n+      abort ();\n+    }\n+}\n+\n+#endif /* sony_news */\n #endif /* L_trampoline */\n \f\n #ifdef L__main"}]}