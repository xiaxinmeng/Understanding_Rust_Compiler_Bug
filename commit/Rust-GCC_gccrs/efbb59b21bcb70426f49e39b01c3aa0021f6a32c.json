{"sha": "efbb59b21bcb70426f49e39b01c3aa0021f6a32c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWZiYjU5YjIxYmNiNzA0MjZmNDllMzliMDFjM2FhMDAyMWY2YTMyYw==", "commit": {"author": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2012-07-23T11:59:15Z"}, "committer": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2012-07-23T11:59:15Z"}, "message": "coverage.c: Refer to \"notes file\" instead of \"graph file\" in all comments.\n\ngcc/\n\t* coverage.c: Refer to \"notes file\" instead of \"graph file\"\n\tin all comments.  Explain history of bbg prefix.\n\t* gcov-io.h: Likewise.\n\t* gcov.c: Likewise.\n\t(find_source): Likewise in fnotice.\n\t(read_graph_file): Likewise.\n\t(read_count_file): Likewise.\n\t* doc/gcov.texi: Document -fprofile-dir flag.  Add \"notes file\"\n\tand \"data file\" explicitly in the explanation of the files.\n\nlibgcc/\n\t* libgcov.c (__gcov_ior_profiler): Benign comment fix.\n\nFrom-SVN: r189781", "tree": {"sha": "6f165840c56b203cb68dd725d9235cd67b425d70", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6f165840c56b203cb68dd725d9235cd67b425d70"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/efbb59b21bcb70426f49e39b01c3aa0021f6a32c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efbb59b21bcb70426f49e39b01c3aa0021f6a32c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/efbb59b21bcb70426f49e39b01c3aa0021f6a32c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efbb59b21bcb70426f49e39b01c3aa0021f6a32c/comments", "author": null, "committer": null, "parents": [{"sha": "fa0f4017753805e73898a46abdf8ffb72a9977c0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa0f4017753805e73898a46abdf8ffb72a9977c0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa0f4017753805e73898a46abdf8ffb72a9977c0"}], "stats": {"total": 78, "additions": 50, "deletions": 28}, "files": [{"sha": "28ed89d95781e3ae3afc264e3654033202506b04", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efbb59b21bcb70426f49e39b01c3aa0021f6a32c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efbb59b21bcb70426f49e39b01c3aa0021f6a32c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=efbb59b21bcb70426f49e39b01c3aa0021f6a32c", "patch": "@@ -1,3 +1,15 @@\n+2012-07-22  Steven Bosscher  <steven@gcc.gnu.org>\n+\n+\t* coverage.c: Refer to \"notes file\" instead of \"graph file\"\n+\tin all comments.  Explain history of bbg prefix.\n+\t* gcov-io.h: Likewise.\n+\t* gcov.c: Likewise.\n+\t(find_source): Likewise in fnotice.\n+\t(read_graph_file): Likewise.\n+\t(read_count_file): Likewise.\n+\t* doc/gcov.texi: Document -fprofile-dir flag.  Add \"notes file\"\n+\tand \"data file\" explicitly in the explanation of the files.\n+\n 2012-07-22  Steven Bosscher  <steven@gcc.gnu.org>\n \n \tPR tree-optimization/53881"}, {"sha": "af522891110a5f4860e4e0ce46746d71adb7c65b", "filename": "gcc/coverage.c", "status": "modified", "additions": 9, "deletions": 7, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efbb59b21bcb70426f49e39b01c3aa0021f6a32c/gcc%2Fcoverage.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efbb59b21bcb70426f49e39b01c3aa0021f6a32c/gcc%2Fcoverage.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcoverage.c?ref=efbb59b21bcb70426f49e39b01c3aa0021f6a32c", "patch": "@@ -97,14 +97,16 @@ static GTY(()) tree gcov_info_var;\n static GTY(()) tree gcov_fn_info_type;\n static GTY(()) tree gcov_fn_info_ptr_type;\n \n-/* Name of the output file for coverage output file.  If this is NULL\n-   we're not writing to the notes file.  */\n+/* Name of the notes (gcno) output file.  The \"bbg\" prefix is for\n+   historical reasons, when the notes file contained only the\n+   basic block graph notes.\n+   If this is NULL we're not writing to the notes file.  */\n static char *bbg_file_name;\n \n-/* File stamp for graph file.  */\n+/* File stamp for notes file.  */\n static unsigned bbg_file_stamp;\n \n-/* Name of the count data file.  */\n+/* Name of the count data (gcda) file.  */\n static char *da_file_name;\n \n /* Hash table of count data.  */\n@@ -566,7 +568,7 @@ coverage_compute_cfg_checksum (void)\n   return chksum;\n }\n \f\n-/* Begin output to the graph file for the current function.\n+/* Begin output to the notes file for the current function.\n    Writes the function header. Returns nonzero if data should be output.  */\n \n int\n@@ -1079,7 +1081,7 @@ coverage_obj_finish (VEC(constructor_elt,gc) *ctor)\n }\n \n /* Perform file-level initialization. Read in data file, generate name\n-   of graph file.  */\n+   of notes file.  */\n \n void\n coverage_init (const char *filename)\n@@ -1131,7 +1133,7 @@ coverage_init (const char *filename)\n     }\n }\n \n-/* Performs file-level cleanup.  Close graph file, generate coverage\n+/* Performs file-level cleanup.  Close notes file, generate coverage\n    variables and constructor.  */\n \n void"}, {"sha": "307137a7864e07913098a4d49126c06060915ff8", "filename": "gcc/doc/gcov.texi", "status": "modified", "additions": 14, "deletions": 11, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efbb59b21bcb70426f49e39b01c3aa0021f6a32c/gcc%2Fdoc%2Fgcov.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efbb59b21bcb70426f49e39b01c3aa0021f6a32c/gcc%2Fdoc%2Fgcov.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fgcov.texi?ref=efbb59b21bcb70426f49e39b01c3aa0021f6a32c", "patch": "@@ -551,20 +551,23 @@ collected at that point to be dumped to @file{.gcda} output files.\n \n @command{gcov} uses two files for profiling.  The names of these files\n are derived from the original @emph{object} file by substituting the\n-file suffix with either @file{.gcno}, or @file{.gcda}.  All of these files\n-are placed in the same directory as the object file, and contain data\n-stored in a platform-independent format.\n-\n-The @file{.gcno} file is generated when the source file is compiled with\n-the GCC @option{-ftest-coverage} option.  It contains information to\n+file suffix with either @file{.gcno}, or @file{.gcda}.  The files\n+contain coverage and profile data stored in a platform-independent format.\n+The @file{.gcno} files are placed in the same directory as the object\n+file.  By default, the @file{.gcda} files are also stored in the same\n+directory as the object file, but the GCC @option{-profile-dir} option\n+may be used to store the @file{.gcda} files in a separate directory.\n+\n+The @file{.gcno} notes file is generated when the source file is compiled\n+with the GCC @option{-ftest-coverage} option.  It contains information to\n reconstruct the basic block graphs and assign source line numbers to\n blocks.\n \n-The @file{.gcda} file is generated when a program containing object files\n-built with the GCC @option{-fprofile-arcs} option is executed.  A\n-separate @file{.gcda} file is created for each object file compiled with\n-this option.  It contains arc transition counts, and some summary\n-information.\n+The @file{.gcda} count data file is generated when a program containing\n+object files built with the GCC @option{-fprofile-arcs} option is executed.\n+A separate @file{.gcda} file is created for each object file compiled with\n+this option.  It contains arc transition counts, value profile counts, and\n+some summary information.\n \n The full details of the file format is specified in @file{gcov-io.h},\n and functions provided in that header file should be used to access the"}, {"sha": "972dc9315188458971276872a4a4a0945c6677cc", "filename": "gcc/gcov-io.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efbb59b21bcb70426f49e39b01c3aa0021f6a32c/gcc%2Fgcov-io.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efbb59b21bcb70426f49e39b01c3aa0021f6a32c/gcc%2Fgcov-io.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcov-io.h?ref=efbb59b21bcb70426f49e39b01c3aa0021f6a32c", "patch": "@@ -99,7 +99,7 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n    tags, values [41..9f] for the notes file and [a1..ff] for the data\n    file.\n \n-   The basic block graph file contains the following records\n+   The notes file contains the following records\n    \tnote: unit function-graph*\n \tunit: header int32:checksum string:source\n \tfunction-graph: announce_function basic_blocks {arcs | lines}*"}, {"sha": "cf26ce19a2c71ac99f53aefa5d3a5c0f03a6946a", "filename": "gcc/gcov.c", "status": "modified", "additions": 9, "deletions": 7, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efbb59b21bcb70426f49e39b01c3aa0021f6a32c/gcc%2Fgcov.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efbb59b21bcb70426f49e39b01c3aa0021f6a32c/gcc%2Fgcov.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcov.c?ref=efbb59b21bcb70426f49e39b01c3aa0021f6a32c", "patch": "@@ -286,14 +286,16 @@ static unsigned total_executed;\n \n static time_t bbg_file_time;\n \n-/* Name and file pointer of the input file for the basic block graph.  */\n+/* Name of the notes (gcno) output file.  The \"bbg\" prefix is for\n+   historical reasons, when the notes file contained only the\n+   basic block graph notes.  */\n \n static char *bbg_file_name;\n \n /* Stamp of the bbg file */\n static unsigned bbg_stamp;\n \n-/* Name and file pointer of the input file for the arc count data.  */\n+/* Name and file pointer of the input file for the count data (gcda).  */\n \n static char *da_file_name;\n \n@@ -976,7 +978,7 @@ find_source (const char *file_name)\n     {\n       static int info_emitted;\n \n-      fnotice (stderr, \"%s:source file is newer than graph file '%s'\\n\",\n+      fnotice (stderr, \"%s:source file is newer than notes file '%s'\\n\",\n \t       file_name, bbg_file_name);\n       if (!info_emitted)\n \t{\n@@ -990,7 +992,7 @@ find_source (const char *file_name)\n   return idx;\n }\n \n-/* Read the graph file.  Return list of functions read -- in reverse order.  */\n+/* Read the notes file.  Return list of functions read -- in reverse order.  */\n \n static function_t *\n read_graph_file (void)\n@@ -1006,13 +1008,13 @@ read_graph_file (void)\n \n   if (!gcov_open (bbg_file_name, 1))\n     {\n-      fnotice (stderr, \"%s:cannot open graph file\\n\", bbg_file_name);\n+      fnotice (stderr, \"%s:cannot open notes file\\n\", bbg_file_name);\n       return fns;\n     }\n   bbg_file_time = gcov_time ();\n   if (!gcov_magic (gcov_read_unsigned (), GCOV_NOTE_MAGIC))\n     {\n-      fnotice (stderr, \"%s:not a gcov graph file\\n\", bbg_file_name);\n+      fnotice (stderr, \"%s:not a gcov notes file\\n\", bbg_file_name);\n       gcov_close ();\n       return fns;\n     }\n@@ -1248,7 +1250,7 @@ read_count_file (function_t *fns)\n   tag = gcov_read_unsigned ();\n   if (tag != bbg_stamp)\n     {\n-      fnotice (stderr, \"%s:stamp mismatch with graph file\\n\", da_file_name);\n+      fnotice (stderr, \"%s:stamp mismatch with notes file\\n\", da_file_name);\n       goto cleanup;\n     }\n "}, {"sha": "bcfd22b41f9db9fbf2cdc58e1e98bbeb38a22fd0", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efbb59b21bcb70426f49e39b01c3aa0021f6a32c/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efbb59b21bcb70426f49e39b01c3aa0021f6a32c/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=efbb59b21bcb70426f49e39b01c3aa0021f6a32c", "patch": "@@ -1,3 +1,7 @@\n+2012-07-22  Steven Bosscher  <steven@gcc.gnu.org>\n+\n+\t* libgcov.c (__gcov_ior_profiler): Benign comment fix.\n+\n 2012-07-19  Tristan Gingold  <gingold@adacore.com>\n \t    Richard Henderson  <rth@redhat.com>\n "}, {"sha": "a22e8f4c3eeb6b65099f21bf4e1398fd875217f4", "filename": "libgcc/libgcov.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efbb59b21bcb70426f49e39b01c3aa0021f6a32c/libgcc%2Flibgcov.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efbb59b21bcb70426f49e39b01c3aa0021f6a32c/libgcc%2Flibgcov.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Flibgcov.c?ref=efbb59b21bcb70426f49e39b01c3aa0021f6a32c", "patch": "@@ -1040,8 +1040,7 @@ __gcov_average_profiler (gcov_type *counters, gcov_type value)\n #endif\n \n #ifdef L_gcov_ior_profiler\n-/* Increase corresponding COUNTER by VALUE.  FIXME: Perhaps we want\n-   to saturate up.  */\n+/* Bitwise-OR VALUE into COUNTER.  */\n \n void\n __gcov_ior_profiler (gcov_type *counters, gcov_type value)"}]}