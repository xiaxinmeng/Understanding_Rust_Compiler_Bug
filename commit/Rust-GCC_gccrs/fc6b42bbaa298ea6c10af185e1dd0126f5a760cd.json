{"sha": "fc6b42bbaa298ea6c10af185e1dd0126f5a760cd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmM2YjQyYmJhYTI5OGVhNmMxMGFmMTg1ZTFkZDAxMjZmNWE3NjBjZA==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2020-04-15T12:50:00Z"}, "committer": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2020-04-16T07:56:31Z"}, "message": "pretty-print SSA names\n\nThis adds the SSA name version to the gdb pretty-printing of SSA names.\n\n(gdb) p (tree)$1\n$5 = <ssa_name 0x7ffff68435a0 323>\n\n2020-04-16  Richard Biener  <rguenther@suse.de>\n\n\t* gdbhooks.py (TreePrinter): Print SSA_NAME_VERSION of SSA_NAME\n\tnodes.", "tree": {"sha": "abce0086a3fbcce2af4b3b554ec80e0173f7a274", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/abce0086a3fbcce2af4b3b554ec80e0173f7a274"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fc6b42bbaa298ea6c10af185e1dd0126f5a760cd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fc6b42bbaa298ea6c10af185e1dd0126f5a760cd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fc6b42bbaa298ea6c10af185e1dd0126f5a760cd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fc6b42bbaa298ea6c10af185e1dd0126f5a760cd/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c8d88bf26e4c4c0eeddbf6a9dc184f28d4ef85e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8d88bf26e4c4c0eeddbf6a9dc184f28d4ef85e4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c8d88bf26e4c4c0eeddbf6a9dc184f28d4ef85e4"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "899285cf46f3ade33036a3035b7d8ba942b8345d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fc6b42bbaa298ea6c10af185e1dd0126f5a760cd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fc6b42bbaa298ea6c10af185e1dd0126f5a760cd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fc6b42bbaa298ea6c10af185e1dd0126f5a760cd", "patch": "@@ -1,3 +1,8 @@\n+2020-04-16  Richard Biener  <rguenther@suse.de>\n+\n+\t* gdbhooks.py (TreePrinter): Print SSA_NAME_VERSION of SSA_NAME\n+\tnodes.\n+\n 2020-04-15  Uro\u0161 Bizjak  <ubizjak@gmail.com>\n \n \tPR target/94603"}, {"sha": "0ab6f01f92711525578c8e37bc808b0cc2d09b82", "filename": "gcc/gdbhooks.py", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fc6b42bbaa298ea6c10af185e1dd0126f5a760cd/gcc%2Fgdbhooks.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fc6b42bbaa298ea6c10af185e1dd0126f5a760cd/gcc%2Fgdbhooks.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgdbhooks.py?ref=fc6b42bbaa298ea6c10af185e1dd0126f5a760cd", "patch": "@@ -154,6 +154,7 @@\n # ...and look up specific values for use later:\n IDENTIFIER_NODE = tree_code_dict['IDENTIFIER_NODE']\n TYPE_DECL = tree_code_dict['TYPE_DECL']\n+SSA_NAME = tree_code_dict['SSA_NAME']\n \n # Similarly for \"enum tree_code_class\" (tree.h):\n tree_code_class_dict = gdb.types.make_enum_dict(gdb.lookup_type('enum tree_code_class'))\n@@ -252,6 +253,8 @@ def to_string (self):\n                         result += ' %s' % tree_TYPE_NAME.DECL_NAME().IDENTIFIER_POINTER()\n         if self.node.TREE_CODE() == IDENTIFIER_NODE:\n             result += ' %s' % self.node.IDENTIFIER_POINTER()\n+        elif self.node.TREE_CODE() == SSA_NAME:\n+            result += ' %u' % self.gdbval['base']['u']['version']\n         # etc\n         result += '>'\n         return result"}]}