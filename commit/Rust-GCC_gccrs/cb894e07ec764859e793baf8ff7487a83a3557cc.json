{"sha": "cb894e07ec764859e793baf8ff7487a83a3557cc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2I4OTRlMDdlYzc2NDg1OWU3OTNiYWY4ZmY3NDg3YTgzYTM1NTdjYw==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2001-05-24T18:06:03Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2001-05-24T18:06:03Z"}, "message": "natString.cc (init): Throw ArrayIndexOutOfBoundsException.\n\n\t* java/lang/natString.cc (init): Throw\n\tArrayIndexOutOfBoundsException.\n\t(getChars): Likewise.\n\t(getBytes): Likewise.\n\t(valueOf): Likewise.\n\nFrom-SVN: r42531", "tree": {"sha": "dfc043812acf6767a2f41c962edeaddfbc0b6356", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dfc043812acf6767a2f41c962edeaddfbc0b6356"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cb894e07ec764859e793baf8ff7487a83a3557cc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb894e07ec764859e793baf8ff7487a83a3557cc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb894e07ec764859e793baf8ff7487a83a3557cc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb894e07ec764859e793baf8ff7487a83a3557cc/comments", "author": null, "committer": null, "parents": [{"sha": "cf6b8de459f1da85529f8dabb38ef2d24a4e23ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf6b8de459f1da85529f8dabb38ef2d24a4e23ed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cf6b8de459f1da85529f8dabb38ef2d24a4e23ed"}], "stats": {"total": 24, "additions": 16, "deletions": 8}, "files": [{"sha": "37d924ab4d7b3f7df16251af1164815b739f2255", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cb894e07ec764859e793baf8ff7487a83a3557cc/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cb894e07ec764859e793baf8ff7487a83a3557cc/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=cb894e07ec764859e793baf8ff7487a83a3557cc", "patch": "@@ -1,5 +1,11 @@\n 2001-05-24  Tom Tromey  <tromey@redhat.com>\n \n+\t* java/lang/natString.cc (init): Throw\n+\tArrayIndexOutOfBoundsException.\n+\t(getChars): Likewise.\n+\t(getBytes): Likewise.\n+\t(valueOf): Likewise.\n+\n \t* configure.in: Only allow hash synchronization when POSIX threads\n \tare enabled.\n \t* java/lang/natObject.cc (alloc_heavy): Properly find `init' field"}, {"sha": "82d5d0c4bc2a6461902e7a0fcd456515f6a89fca", "filename": "libjava/java/lang/natString.cc", "status": "modified", "additions": 10, "deletions": 8, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cb894e07ec764859e793baf8ff7487a83a3557cc/libjava%2Fjava%2Flang%2FnatString.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cb894e07ec764859e793baf8ff7487a83a3557cc/libjava%2Fjava%2Flang%2FnatString.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FnatString.cc?ref=cb894e07ec764859e793baf8ff7487a83a3557cc", "patch": "@@ -445,7 +445,7 @@ java::lang::String::init(jcharArray chars, jint offset, jint count,\n   jsize data_size = JvGetArrayLength (chars);\n   if (offset < 0 || count < 0 || offset + count < 0\n       || offset + count > data_size)\n-    throw new StringIndexOutOfBoundsException;\n+    throw new ArrayIndexOutOfBoundsException;\n   jcharArray array;\n   jchar *pdst;\n   if (! dont_copy)\n@@ -475,7 +475,7 @@ java::lang::String::init(jbyteArray ascii, jint hibyte, jint offset,\n   jsize data_size = JvGetArrayLength (ascii);\n   if (offset < 0 || count < 0 || offset + count < 0\n       || offset + count > data_size)\n-    throw new java::lang::StringIndexOutOfBoundsException;\n+    throw new ArrayIndexOutOfBoundsException;\n   jcharArray array = JvNewCharArray(count);\n   jbyte *psrc = elements (ascii) + offset;\n   jchar *pdst = elements (array);\n@@ -498,7 +498,7 @@ java::lang::String::init (jbyteArray bytes, jint offset, jint count,\n   jsize data_size = JvGetArrayLength (bytes);\n   if (offset < 0 || count < 0 || offset + count < 0\n       || offset + count > data_size)\n-    throw new StringIndexOutOfBoundsException;\n+    throw new ArrayIndexOutOfBoundsException;\n   jcharArray array = JvNewCharArray (count);\n   gnu::gcj::convert::BytesToUnicode *converter\n     = gnu::gcj::convert::BytesToUnicode::getDecoder(encoding);\n@@ -565,9 +565,10 @@ java::lang::String::getChars(jint srcBegin, jint srcEnd,\n \t\t\t     jcharArray dst, jint dstBegin)\n {\n   jint dst_length = JvGetArrayLength (dst);\n-  if (srcBegin < 0 || srcBegin > srcEnd || srcEnd > count\n-      || dstBegin < 0 || dstBegin + (srcEnd-srcBegin) > dst_length)\n+  if (srcBegin < 0 || srcBegin > srcEnd || srcEnd > count)\n     throw new java::lang::StringIndexOutOfBoundsException;\n+  if (dstBegin < 0 || dstBegin + (srcEnd-srcBegin) > dst_length)\n+    throw new ArrayIndexOutOfBoundsException;\n   jchar *dPtr = elements (dst) + dstBegin;\n   jchar *sPtr = JvGetStringChars (this) + srcBegin;\n   jint i = srcEnd-srcBegin;\n@@ -615,9 +616,10 @@ java::lang::String::getBytes(jint srcBegin, jint srcEnd,\n \t\t\t     jbyteArray dst, jint dstBegin)\n {\n   jint dst_length = JvGetArrayLength (dst);\n-  if (srcBegin < 0 || srcBegin > srcEnd || srcEnd > count\n-      || dstBegin < 0 || dstBegin + (srcEnd-srcBegin) > dst_length)\n+  if (srcBegin < 0 || srcBegin > srcEnd || srcEnd > count)\n     throw new java::lang::StringIndexOutOfBoundsException;\n+  if (dstBegin < 0 || dstBegin + (srcEnd-srcBegin) > dst_length)\n+    throw new ArrayIndexOutOfBoundsException;\n   jbyte *dPtr = elements (dst) + dstBegin;\n   jchar *sPtr = JvGetStringChars (this) + srcBegin;\n   jint i = srcEnd-srcBegin;\n@@ -1007,7 +1009,7 @@ java::lang::String::valueOf(jcharArray data, jint offset, jint count)\n {\n   jint data_length = JvGetArrayLength (data);\n   if (offset < 0 || count < 0 || offset+count > data_length)\n-    throw new java::lang::IndexOutOfBoundsException;\n+    throw new ArrayIndexOutOfBoundsException;\n   jstring result = JvAllocString(count);\n   jchar *sPtr = elements (data) + offset;\n   jchar *dPtr = JvGetStringChars(result);"}]}