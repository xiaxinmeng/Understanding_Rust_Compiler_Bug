{"sha": "ca72b7804521cb2fe3c0da170cdaae57e3a8dfbb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2E3MmI3ODA0NTIxY2IyZmUzYzBkYTE3MGNkYWFlNTdlM2E4ZGZiYg==", "commit": {"author": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2019-10-08T10:20:41Z"}, "committer": {"name": "Thomas Schwinge", "email": "tschwinge@gcc.gnu.org", "date": "2019-10-08T10:20:41Z"}, "message": "Extend 'libgfortran/runtime/minimal.c' per r274599 \"PR fortran/68401 Improve allocation error message\"\n\n\tlibgfortran/\n\tPR fortran/68401\n\t* runtime/minimal.c (os_error_at): New function.\n\nFrom-SVN: r276691", "tree": {"sha": "03206d09595c48ccddce8101815efa9c81ad6296", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/03206d09595c48ccddce8101815efa9c81ad6296"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ca72b7804521cb2fe3c0da170cdaae57e3a8dfbb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca72b7804521cb2fe3c0da170cdaae57e3a8dfbb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca72b7804521cb2fe3c0da170cdaae57e3a8dfbb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca72b7804521cb2fe3c0da170cdaae57e3a8dfbb/comments", "author": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "41bc80c3cd475d5239e310ad5f40a2e17e50bcf9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41bc80c3cd475d5239e310ad5f40a2e17e50bcf9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41bc80c3cd475d5239e310ad5f40a2e17e50bcf9"}], "stats": {"total": 26, "additions": 25, "deletions": 1}, "files": [{"sha": "c5a45333042499cb4bfd2b8388c58b54ec4685f8", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca72b7804521cb2fe3c0da170cdaae57e3a8dfbb/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca72b7804521cb2fe3c0da170cdaae57e3a8dfbb/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=ca72b7804521cb2fe3c0da170cdaae57e3a8dfbb", "patch": "@@ -1,5 +1,8 @@\n 2019-10-08  Thomas Schwinge  <thomas@codesourcery.com>\n \n+\tPR fortran/68401\n+        * runtime/minimal.c (os_error_at): New function.\n+\n \t* runtime/minimal.c: Revise.\n \n 2019-10-05  Paul Thomas  <pault@gcc.gnu.org>"}, {"sha": "bdaf878ffcba14ace9ec7ea44e240e92e2a1715f", "filename": "libgfortran/runtime/minimal.c", "status": "modified", "additions": 22, "deletions": 1, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca72b7804521cb2fe3c0da170cdaae57e3a8dfbb/libgfortran%2Fruntime%2Fminimal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca72b7804521cb2fe3c0da170cdaae57e3a8dfbb/libgfortran%2Fruntime%2Fminimal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fruntime%2Fminimal.c?ref=ca72b7804521cb2fe3c0da170cdaae57e3a8dfbb", "patch": "@@ -215,7 +215,28 @@ os_error (const char *message)\n   estr_write (\"\\n\");\n   exit_error (1);\n }\n-iexport(os_error);\n+iexport(os_error); /* TODO, DEPRECATED, ABI: Should not be exported\n+\t\t      anymore when bumping so version.  */\n+\n+\n+/* Improved version of os_error with a printf style format string and\n+   a locus.  */\n+\n+void\n+os_error_at (const char *where, const char *message, ...)\n+{\n+  va_list ap;\n+\n+  recursion_check ();\n+  estr_write (where);\n+  estr_write (\": \");\n+  va_start (ap, message);\n+  estr_vprintf (message, ap);\n+  va_end (ap);\n+  estr_write (\"\\n\");\n+  exit_error (1);\n+}\n+iexport(os_error_at);\n \n \n /* void runtime_error()-- These are errors associated with an"}]}