{"sha": "d69ac8b7f890f79560b11a3548fa39f3e7f8427e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDY5YWM4YjdmODkwZjc5NTYwYjExYTM1NDhmYTM5ZjNlN2Y4NDI3ZQ==", "commit": {"author": {"name": "Roman Geissler", "email": "roman.geissler@amadeus.com", "date": "2018-11-08T22:05:27Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2018-11-08T22:05:27Z"}, "message": "collect2.c (linker_select): Add USE_LLD_LD.\n\n\t* collect2.c (linker_select):  Add USE_LLD_LD.\n\t(ld_suffixes): Add ld.lld.\n\t(main): Handle -fuse-ld=lld.\n\t* common.opt (-fuse-ld=lld): New option.\n\t* doc/invoke.texi (-fuse-ld=lld): Document.\n\t* opts.c (common_handle_option): Handle OPT_fuse_ld_lld.\n\nFrom-SVN: r265940", "tree": {"sha": "6fe5b023be4d7d87a9301cfbe8bdcaac9b59f28b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6fe5b023be4d7d87a9301cfbe8bdcaac9b59f28b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d69ac8b7f890f79560b11a3548fa39f3e7f8427e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d69ac8b7f890f79560b11a3548fa39f3e7f8427e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d69ac8b7f890f79560b11a3548fa39f3e7f8427e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d69ac8b7f890f79560b11a3548fa39f3e7f8427e/comments", "author": null, "committer": null, "parents": [{"sha": "d28441a7e79071c327afffae3eea189f7a9942bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d28441a7e79071c327afffae3eea189f7a9942bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d28441a7e79071c327afffae3eea189f7a9942bb"}], "stats": {"total": 29, "additions": 26, "deletions": 3}, "files": [{"sha": "a7a6ddbb0cc3e34aa66b80bcd495f340baa84e15", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d69ac8b7f890f79560b11a3548fa39f3e7f8427e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d69ac8b7f890f79560b11a3548fa39f3e7f8427e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d69ac8b7f890f79560b11a3548fa39f3e7f8427e", "patch": "@@ -4,6 +4,15 @@\n \t* doc/invoke.texi (Optimize Options): Clarify default behavior\n \tfor -fno-sched-interblock and -fno-sched-spec.\n \n+2018-11-08  Roman Geissler  <roman.geissler@amadeus.com>\n+\n+\t* collect2.c (linker_select):  Add USE_LLD_LD.\n+\t(ld_suffixes): Add ld.lld.\n+\t(main): Handle -fuse-ld=lld.\n+\t* common.opt (-fuse-ld=lld): New option.\n+\t* doc/invoke.texi (-fuse-ld=lld): Document.\n+\t* opts.c (common_handle_option): Handle OPT_fuse_ld_lld.\n+\t\n 2018-11-08  Paul Koning  <ni1d@arrl.net>\n \n \t* config/pdp11/constraints.md: Add \"Z\" series constraints for use"}, {"sha": "6463ff7b6454e995da44ed3d3692bf6c4d70469c", "filename": "gcc/collect2.c", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d69ac8b7f890f79560b11a3548fa39f3e7f8427e/gcc%2Fcollect2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d69ac8b7f890f79560b11a3548fa39f3e7f8427e/gcc%2Fcollect2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcollect2.c?ref=d69ac8b7f890f79560b11a3548fa39f3e7f8427e", "patch": "@@ -831,14 +831,16 @@ main (int argc, char **argv)\n       USE_PLUGIN_LD,\n       USE_GOLD_LD,\n       USE_BFD_LD,\n+      USE_LLD_LD,\n       USE_LD_MAX\n     } selected_linker = USE_DEFAULT_LD;\n   static const char *const ld_suffixes[USE_LD_MAX] =\n     {\n       \"ld\",\n       PLUGIN_LD_SUFFIX,\n       \"ld.gold\",\n-      \"ld.bfd\"\n+      \"ld.bfd\",\n+      \"ld.lld\"\n     };\n   static const char *const real_ld_suffix = \"real-ld\";\n   static const char *const collect_ld_suffix = \"collect-ld\";\n@@ -1007,6 +1009,8 @@ main (int argc, char **argv)\n \t  selected_linker = USE_BFD_LD;\n \telse if (strcmp (argv[i], \"-fuse-ld=gold\") == 0)\n \t  selected_linker = USE_GOLD_LD;\n+  else if (strcmp (argv[i], \"-fuse-ld=lld\") == 0)\n+    selected_linker = USE_LLD_LD;\n \n #ifdef COLLECT_EXPORT_LIST\n \t/* These flags are position independent, although their order\n@@ -1096,7 +1100,8 @@ main (int argc, char **argv)\n   /* Maybe we know the right file to use (if not cross).  */\n   ld_file_name = 0;\n #ifdef DEFAULT_LINKER\n-  if (selected_linker == USE_BFD_LD || selected_linker == USE_GOLD_LD)\n+  if (selected_linker == USE_BFD_LD || selected_linker == USE_GOLD_LD ||\n+      selected_linker == USE_LLD_LD)\n     {\n       char *linker_name;\n # ifdef HOST_EXECUTABLE_SUFFIX\n@@ -1315,7 +1320,7 @@ main (int argc, char **argv)\n \t      else if (!use_collect_ld\n \t\t       && strncmp (arg, \"-fuse-ld=\", 9) == 0)\n \t\t{\n-\t\t  /* Do not pass -fuse-ld={bfd|gold} to the linker. */\n+\t\t  /* Do not pass -fuse-ld={bfd|gold|lld} to the linker. */\n \t\t  ld1--;\n \t\t  ld2--;\n \t\t}"}, {"sha": "99489fbd5538b956fc1511b9805d80b5ee5b645b", "filename": "gcc/common.opt", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d69ac8b7f890f79560b11a3548fa39f3e7f8427e/gcc%2Fcommon.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d69ac8b7f890f79560b11a3548fa39f3e7f8427e/gcc%2Fcommon.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon.opt?ref=d69ac8b7f890f79560b11a3548fa39f3e7f8427e", "patch": "@@ -2732,6 +2732,10 @@ fuse-ld=gold\n Common Driver Negative(fuse-ld=bfd)\n Use the gold linker instead of the default linker.\n \n+fuse-ld=lld\n+Common Driver Negative(fuse-ld=lld)\n+Use the lld LLVM linker instead of the default linker.\n+\n fuse-linker-plugin\n Common Undocumented Var(flag_use_linker_plugin)\n "}, {"sha": "8762f3f7bc3008e5dc30037a2b2e3e243f22e346", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d69ac8b7f890f79560b11a3548fa39f3e7f8427e/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d69ac8b7f890f79560b11a3548fa39f3e7f8427e/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=d69ac8b7f890f79560b11a3548fa39f3e7f8427e", "patch": "@@ -12610,6 +12610,10 @@ Use the @command{bfd} linker instead of the default linker.\n @opindex fuse-ld=gold\n Use the @command{gold} linker instead of the default linker.\n \n+@item -fuse-ld=lld\n+@opindex fuse-ld=lld\n+Use the LLVM @command{lld} linker instead of the default linker.\n+\n @cindex Libraries\n @item -l@var{library}\n @itemx -l @var{library}"}, {"sha": "f094f5f125187a277eede0a01928cae399febbc0", "filename": "gcc/opts.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d69ac8b7f890f79560b11a3548fa39f3e7f8427e/gcc%2Fopts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d69ac8b7f890f79560b11a3548fa39f3e7f8427e/gcc%2Fopts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fopts.c?ref=d69ac8b7f890f79560b11a3548fa39f3e7f8427e", "patch": "@@ -2557,6 +2557,7 @@ common_handle_option (struct gcc_options *opts,\n \n     case OPT_fuse_ld_bfd:\n     case OPT_fuse_ld_gold:\n+    case OPT_fuse_ld_lld:\n     case OPT_fuse_linker_plugin:\n       /* No-op. Used by the driver and passed to us because it starts with f.*/\n       break;"}]}