{"sha": "2ae1162e06a1e408fc9d4295cef4af53e63acaab", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmFlMTE2MmUwNmExZTQwOGZjOWQ0Mjk1Y2VmNGFmNTNlNjNhY2FhYg==", "commit": {"author": {"name": "Danny Smith", "email": "dannysmith@users.sourceforge.net", "date": "2002-12-24T02:48:19Z"}, "committer": {"name": "Danny Smith", "email": "dannysmith@gcc.gnu.org", "date": "2002-12-24T02:48:19Z"}, "message": "basic_file_stdio.cc (__basic_file::_M_open_mode): Don't use O_NONBLOCK if it is not defined.\n\n\t* config/io/basic_file_stdio.cc (__basic_file::_M_open_mode):\n\tDon't use O_NONBLOCK if it is not defined.\n\t(__basic_file::open): Don't use fcntl either.\n\nFrom-SVN: r60461", "tree": {"sha": "ee57a400129ae4bede8b2782e04293e2dd3fd60d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ee57a400129ae4bede8b2782e04293e2dd3fd60d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2ae1162e06a1e408fc9d4295cef4af53e63acaab", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ae1162e06a1e408fc9d4295cef4af53e63acaab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ae1162e06a1e408fc9d4295cef4af53e63acaab", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ae1162e06a1e408fc9d4295cef4af53e63acaab/comments", "author": null, "committer": null, "parents": [{"sha": "94be8403e22d5e6965713e0920c1e451111bc110", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94be8403e22d5e6965713e0920c1e451111bc110", "html_url": "https://github.com/Rust-GCC/gccrs/commit/94be8403e22d5e6965713e0920c1e451111bc110"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "d9e10319eb1d3679b4fed8292bbd475f2960d9d3", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ae1162e06a1e408fc9d4295cef4af53e63acaab/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ae1162e06a1e408fc9d4295cef4af53e63acaab/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=2ae1162e06a1e408fc9d4295cef4af53e63acaab", "patch": "@@ -1,3 +1,9 @@\n+2002-12-23  Danny Smith  <dannysmith@users.sourceforge.net>\n+\n+\t* config/io/basic_file_stdio.cc (__basic_file::_M_open_mode):\n+\tDon't use O_NONBLOCK if it is not defined.\n+\t(__basic_file::open): Don't use fcntl either.\n+\n 2002-12-20  Sylvain Pion   <Sylvain.Pion@mpi-sb.mpg.de>\n \n \t* include/bits/stl_deque.h: Fix typo."}, {"sha": "e378b6668a72c441e1f405ecf86361805eaf8ef5", "filename": "libstdc++-v3/config/io/basic_file_stdio.cc", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ae1162e06a1e408fc9d4295cef4af53e63acaab/libstdc%2B%2B-v3%2Fconfig%2Fio%2Fbasic_file_stdio.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ae1162e06a1e408fc9d4295cef4af53e63acaab/libstdc%2B%2B-v3%2Fconfig%2Fio%2Fbasic_file_stdio.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fio%2Fbasic_file_stdio.cc?ref=2ae1162e06a1e408fc9d4295cef4af53e63acaab", "patch": "@@ -74,7 +74,11 @@ namespace std\n     if (__testi && !__testo && !__testt && !__testa)\n       {\n \tstrcpy(__c_mode, \"r\");\n+#if defined (O_NONBLOCK)\n \t__p_mode |=  O_RDONLY | O_NONBLOCK;\n+#else\n+\t__p_mode |=  O_RDONLY;\n+#endif\n       }\n     if (__testi && __testo && !__testt && !__testa)\n       {\n@@ -151,9 +155,11 @@ namespace std\n \t  {\n \t    _M_cfile_created = true;\n \n+#if defined (F_SETFL) && defined (O_NONBLOCK)\n \t    // Set input to nonblocking for fifos.\n \t    if (__mode & ios_base::in)\n \t      fcntl(this->fd(), F_SETFL, O_NONBLOCK);\n+#endif\n \n \t    __ret = this;\n \t  }"}]}