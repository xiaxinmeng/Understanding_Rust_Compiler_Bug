{"sha": "14f2a7e2b1a8c5c21603c095a848c895af5b7a10", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTRmMmE3ZTJiMWE4YzVjMjE2MDNjMDk1YTg0OGM4OTVhZjViN2ExMA==", "commit": {"author": {"name": "Andrew Pinski", "email": "apinski@cavium.com", "date": "2011-12-09T03:56:36Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2011-12-09T03:56:36Z"}, "message": "mips-cpus.def (octeon+): New CPU.\n\n2011-12-08  Andrew Pinski  <apinski@cavium.com>\n\n\t* config/mips/mips-cpus.def (octeon+): New CPU.\n\t* config/mips/mips-tables.opt: Regenerate.\n\t* config/mips/mips.h (MIPS_CPP_SET_PROCESSOR): Emit '+' as 'P'.\n\n\n\n2011-12-08  Andrew Pinski  <apinski@cavium.com>\n\n\t* cc.target/mips/mult-1.c: Forbid all Octeon processors.\n\t* gcc.target/mips/dmult-1.c: Likewise.\n\t* gcc.target/mips/branch-1.c: Likewise.\n\t* gcc.target/mips/extend-1.c: Likewise.\n\nFrom-SVN: r182152", "tree": {"sha": "e1c0463ca3f8de98aaa5a7e786cc5710377208ff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e1c0463ca3f8de98aaa5a7e786cc5710377208ff"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/14f2a7e2b1a8c5c21603c095a848c895af5b7a10", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14f2a7e2b1a8c5c21603c095a848c895af5b7a10", "html_url": "https://github.com/Rust-GCC/gccrs/commit/14f2a7e2b1a8c5c21603c095a848c895af5b7a10", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14f2a7e2b1a8c5c21603c095a848c895af5b7a10/comments", "author": {"login": "apinski-cavium", "id": 6335315, "node_id": "MDQ6VXNlcjYzMzUzMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6335315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apinski-cavium", "html_url": "https://github.com/apinski-cavium", "followers_url": "https://api.github.com/users/apinski-cavium/followers", "following_url": "https://api.github.com/users/apinski-cavium/following{/other_user}", "gists_url": "https://api.github.com/users/apinski-cavium/gists{/gist_id}", "starred_url": "https://api.github.com/users/apinski-cavium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apinski-cavium/subscriptions", "organizations_url": "https://api.github.com/users/apinski-cavium/orgs", "repos_url": "https://api.github.com/users/apinski-cavium/repos", "events_url": "https://api.github.com/users/apinski-cavium/events{/privacy}", "received_events_url": "https://api.github.com/users/apinski-cavium/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "fbf7be801c91a75bfae7b43cd169620743ba1f52", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fbf7be801c91a75bfae7b43cd169620743ba1f52", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fbf7be801c91a75bfae7b43cd169620743ba1f52"}], "stats": {"total": 30, "additions": 25, "deletions": 5}, "files": [{"sha": "43027e0c351ea5cd9e4e047cc384804640d992cb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14f2a7e2b1a8c5c21603c095a848c895af5b7a10/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14f2a7e2b1a8c5c21603c095a848c895af5b7a10/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=14f2a7e2b1a8c5c21603c095a848c895af5b7a10", "patch": "@@ -1,3 +1,9 @@\n+2011-12-08  Andrew Pinski  <apinski@cavium.com>\n+\n+\t* config/mips/mips-cpus.def (octeon+): New CPU.\n+\t* config/mips/mips-tables.opt: Regenerate.\n+\t* config/mips/mips.h (MIPS_CPP_SET_PROCESSOR): Emit '+' as 'P'.\n+\n 2011-12-08  Bill Schmidt  <wschmidt@linux.vnet.ibm.com>\n \n \tPR middle-end/39976"}, {"sha": "39f46ab4bbe89995322b24c977de184c1c18a08c", "filename": "gcc/config/mips/mips-cpus.def", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14f2a7e2b1a8c5c21603c095a848c895af5b7a10/gcc%2Fconfig%2Fmips%2Fmips-cpus.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14f2a7e2b1a8c5c21603c095a848c895af5b7a10/gcc%2Fconfig%2Fmips%2Fmips-cpus.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips-cpus.def?ref=14f2a7e2b1a8c5c21603c095a848c895af5b7a10", "patch": "@@ -145,3 +145,4 @@ MIPS_CPU (\"loongson3a\", PROCESSOR_LOONGSON_3A, 64, PTF_AVOID_BRANCHLIKELY)\n \n /* MIPS64 Release 2 processors.  */\n MIPS_CPU (\"octeon\", PROCESSOR_OCTEON, 65, PTF_AVOID_BRANCHLIKELY)\n+MIPS_CPU (\"octeon+\", PROCESSOR_OCTEON, 65, PTF_AVOID_BRANCHLIKELY)"}, {"sha": "bd885261690604d6ef64190269ead4810a3b78f6", "filename": "gcc/config/mips/mips-tables.opt", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14f2a7e2b1a8c5c21603c095a848c895af5b7a10/gcc%2Fconfig%2Fmips%2Fmips-tables.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14f2a7e2b1a8c5c21603c095a848c895af5b7a10/gcc%2Fconfig%2Fmips%2Fmips-tables.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips-tables.opt?ref=14f2a7e2b1a8c5c21603c095a848c895af5b7a10", "patch": "@@ -603,3 +603,6 @@ Enum(mips_arch_opt_value) String(loongson3a) Value(79) Canonical\n EnumValue\n Enum(mips_arch_opt_value) String(octeon) Value(80) Canonical\n \n+EnumValue\n+Enum(mips_arch_opt_value) String(octeon+) Value(81) Canonical\n+"}, {"sha": "ee40cfabc9a5d9b7c570f6327efdc2f189c648d8", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14f2a7e2b1a8c5c21603c095a848c895af5b7a10/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14f2a7e2b1a8c5c21603c095a848c895af5b7a10/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=14f2a7e2b1a8c5c21603c095a848c895af5b7a10", "patch": "@@ -329,7 +329,10 @@ struct mips_cpu_info {\n \t\t\t\t\t\t\t\t\\\n       macro = concat ((PREFIX), \"_\", (INFO)->name, NULL);\t\\\n       for (p = macro; *p != 0; p++)\t\t\t\t\\\n-\t*p = TOUPPER (*p);\t\t\t\t\t\\\n+        if (*p == '+')                                          \\\n+          *p = 'P';                                             \\\n+        else                                                    \\\n+          *p = TOUPPER (*p);                                    \\\n \t\t\t\t\t\t\t\t\\\n       builtin_define (macro);\t\t\t\t\t\\\n       builtin_define_with_value ((PREFIX), (INFO)->name, 1);\t\\"}, {"sha": "8ad5ffec9c8818b76126a26b89e57fd79a56730b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14f2a7e2b1a8c5c21603c095a848c895af5b7a10/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14f2a7e2b1a8c5c21603c095a848c895af5b7a10/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=14f2a7e2b1a8c5c21603c095a848c895af5b7a10", "patch": "@@ -1,3 +1,10 @@\n+2011-12-08  Andrew Pinski  <apinski@cavium.com>\n+\n+\t* cc.target/mips/mult-1.c: Forbid all Octeon processors.\n+\t* gcc.target/mips/dmult-1.c: Likewise.\n+\t* gcc.target/mips/branch-1.c: Likewise.\n+\t* gcc.target/mips/extend-1.c: Likewise.\n+\n 2011-12-08  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/51318"}, {"sha": "2f4510f8dd67d79f9ea1c37c3c663d33626e17fb", "filename": "gcc/testsuite/gcc.target/mips/branch-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14f2a7e2b1a8c5c21603c095a848c895af5b7a10/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14f2a7e2b1a8c5c21603c095a848c895af5b7a10/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-1.c?ref=14f2a7e2b1a8c5c21603c095a848c895af5b7a10", "patch": "@@ -2,7 +2,7 @@\n    but we test for \"bbit\" elsewhere.  On other targets, we should implement\n    the \"if\" statements using an \"andi\" instruction followed by a branch\n    on zero.  */\n-/* { dg-options \"-O2 forbid_cpu=octeon\" } */\n+/* { dg-options \"-O2 forbid_cpu=octeon.*\" } */\n \n void bar (void);\n NOMIPS16 void f1 (int x) { if (x & 4) bar (); }"}, {"sha": "f8c0b8b44f101961a902e748dec73ef0de5017f9", "filename": "gcc/testsuite/gcc.target/mips/dmult-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14f2a7e2b1a8c5c21603c095a848c895af5b7a10/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fdmult-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14f2a7e2b1a8c5c21603c095a848c895af5b7a10/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fdmult-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fdmult-1.c?ref=14f2a7e2b1a8c5c21603c095a848c895af5b7a10", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-options \"forbid_cpu=octeon -mgp64\" } */\n+/* { dg-options \"forbid_cpu=octeon.* -mgp64\" } */\n /* { dg-final { scan-assembler \"\\tdmult\\t\" } } */\n /* { dg-final { scan-assembler \"\\tmflo\\t\" } } */\n /* { dg-final { scan-assembler-not \"\\tdmul\\t\" } } */"}, {"sha": "5e9389060c8c29b0fa0c31dda175046bfc3eb3cf", "filename": "gcc/testsuite/gcc.target/mips/extend-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14f2a7e2b1a8c5c21603c095a848c895af5b7a10/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fextend-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14f2a7e2b1a8c5c21603c095a848c895af5b7a10/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fextend-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fextend-1.c?ref=14f2a7e2b1a8c5c21603c095a848c895af5b7a10", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-options \"-O -mgp64 forbid_cpu=octeon\" } */\n+/* { dg-options \"-O -mgp64 forbid_cpu=octeon.*\" } */\n /* { dg-final { scan-assembler-times \"\\tdsll\\t\" 5 } } */\n /* { dg-final { scan-assembler-times \"\\tdsra\\t\" 5 } } */\n /* { dg-final { scan-assembler-not \"\\tsll\\t\" } } */"}, {"sha": "96961b0d85ce3fc6bed8baa6d861a5e1b0f80485", "filename": "gcc/testsuite/gcc.target/mips/mult-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14f2a7e2b1a8c5c21603c095a848c895af5b7a10/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmult-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14f2a7e2b1a8c5c21603c095a848c895af5b7a10/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmult-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmult-1.c?ref=14f2a7e2b1a8c5c21603c095a848c895af5b7a10", "patch": "@@ -1,6 +1,6 @@\n /* For SI->DI widening multiplication we should use DINS to combine the two\n    halves.  For Octeon use DMUL with explicit widening.  */\n-/* { dg-options \"-O -mgp64 isa_rev>=2 forbid_cpu=octeon\" } */\n+/* { dg-options \"-O -mgp64 isa_rev>=2 forbid_cpu=octeon.*\" } */\n /* { dg-final { scan-assembler \"\\tdins\\t\" } } */\n /* { dg-final { scan-assembler-not \"\\tdsll\\t\" } } */\n /* { dg-final { scan-assembler-not \"\\tdsrl\\t\" } } */"}]}