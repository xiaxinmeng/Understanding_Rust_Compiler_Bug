{"sha": "c67528fe19d425cf537589701f67218ff729130b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzY3NTI4ZmUxOWQ0MjVjZjUzNzU4OTcwMWY2NzIxOGZmNzI5MTMwYg==", "commit": {"author": {"name": "Phil Edwards", "email": "pme@gcc.gnu.org", "date": "2003-05-02T02:53:28Z"}, "committer": {"name": "Phil Edwards", "email": "pme@gcc.gnu.org", "date": "2003-05-02T02:53:28Z"}, "message": "acconfig.h (_GLIBCPP_USE_NLS): New symbol.\n\n2003-05-01  Phil Edwards  <pme@gcc.gnu.org>\n\n\t* acconfig.h (_GLIBCPP_USE_NLS):  New symbol.\n\t* configure.in:  Move libintl.h header test...\n\t* acinclude.m4 (GLIBCPP_ENABLE_CLOCALE):  ...to here.  Gather all\n\tthe NLS-related test results into one symbol.\n\t* src/functexcept.cc:  Use it here.\n\t* aclocal.m4, config.h.in, configure:  Regenerated.\n\nFrom-SVN: r66372", "tree": {"sha": "000214aa7562016317a69d97eb75f1aac7062591", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/000214aa7562016317a69d97eb75f1aac7062591"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c67528fe19d425cf537589701f67218ff729130b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c67528fe19d425cf537589701f67218ff729130b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c67528fe19d425cf537589701f67218ff729130b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c67528fe19d425cf537589701f67218ff729130b/comments", "author": null, "committer": null, "parents": [{"sha": "7c1fdbe4d17807e400d403f82105257d50d0192b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c1fdbe4d17807e400d403f82105257d50d0192b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c1fdbe4d17807e400d403f82105257d50d0192b"}], "stats": {"total": 2460, "additions": 1257, "deletions": 1203}, "files": [{"sha": "eb04e9daa4d6ba7a12cde974a8ddaad5a15da896", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c67528fe19d425cf537589701f67218ff729130b/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c67528fe19d425cf537589701f67218ff729130b/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=c67528fe19d425cf537589701f67218ff729130b", "patch": "@@ -1,3 +1,12 @@\n+2003-05-01  Phil Edwards  <pme@gcc.gnu.org>\n+\n+\t* acconfig.h (_GLIBCPP_USE_NLS):  New symbol.\n+\t* configure.in:  Move libintl.h header test...\n+\t* acinclude.m4 (GLIBCPP_ENABLE_CLOCALE):  ...to here.  Gather all\n+\tthe NLS-related test results into one symbol.\n+\t* src/functexcept.cc:  Use it here.\n+\t* aclocal.m4, config.h.in, configure:  Regenerated.\n+\n 2003-05-01  Paolo Carlini  <pcarlini@unitus.it>\n \n \t* include/bits/sstream.tcc (overflow): Instead of calling"}, {"sha": "45559b852d130fc6861c7cb6ebda2e9b69451772", "filename": "libstdc++-v3/acconfig.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c67528fe19d425cf537589701f67218ff729130b/libstdc%2B%2B-v3%2Facconfig.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c67528fe19d425cf537589701f67218ff729130b/libstdc%2B%2B-v3%2Facconfig.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facconfig.h?ref=c67528fe19d425cf537589701f67218ff729130b", "patch": "@@ -153,6 +153,9 @@\n // Define if modf is present in <math.h>\n #undef HAVE_MODF\n \n+// Define if NLS translations are to be used.\n+#undef _GLIBCPP_USE_NLS\n+\n // @BOTTOM@\n //\n // Systems that have certain non-standard functions prefixed with an"}, {"sha": "c1bae225f6b89f779ff76115a7ee49555c467271", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c67528fe19d425cf537589701f67218ff729130b/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c67528fe19d425cf537589701f67218ff729130b/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=c67528fe19d425cf537589701f67218ff729130b", "patch": "@@ -1292,7 +1292,11 @@ AC_DEFUN(GLIBCPP_ENABLE_CLOCALE, [\n \n   # A standalone libintl (e.g., GNU libintl) may be in use.\n   if test $USE_NLS = yes; then\n-    AC_SEARCH_LIBS(gettext, intl,, USE_NLS=no)\n+    AC_CHECK_HEADERS([libintl.h], [], USE_NLS=no)\n+    AC_SEARCH_LIBS(gettext, intl, [], USE_NLS=no)\n+  fi\n+  if test $USE_NLS = yes; then\n+    AC_DEFINE(_GLIBCPP_USE_NLS)\n   fi\n \n   AC_SUBST(USE_NLS)"}, {"sha": "184a2cbaa265c62a7fac3e81b480e5da98184ca6", "filename": "libstdc++-v3/aclocal.m4", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c67528fe19d425cf537589701f67218ff729130b/libstdc%2B%2B-v3%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c67528fe19d425cf537589701f67218ff729130b/libstdc%2B%2B-v3%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Faclocal.m4?ref=c67528fe19d425cf537589701f67218ff729130b", "patch": "@@ -1304,7 +1304,11 @@ AC_DEFUN(GLIBCPP_ENABLE_CLOCALE, [\n \n   # A standalone libintl (e.g., GNU libintl) may be in use.\n   if test $USE_NLS = yes; then\n-    AC_SEARCH_LIBS(gettext, intl,, USE_NLS=no)\n+    AC_CHECK_HEADERS([libintl.h], [], USE_NLS=no)\n+    AC_SEARCH_LIBS(gettext, intl, [], USE_NLS=no)\n+  fi\n+  if test $USE_NLS = yes; then\n+    AC_DEFINE(_GLIBCPP_USE_NLS)\n   fi\n \n   AC_SUBST(USE_NLS)"}, {"sha": "f288f42ed9db9076bcb973f1e73b8cb1dc2501c5", "filename": "libstdc++-v3/config.h.in", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c67528fe19d425cf537589701f67218ff729130b/libstdc%2B%2B-v3%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c67528fe19d425cf537589701f67218ff729130b/libstdc%2B%2B-v3%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig.h.in?ref=c67528fe19d425cf537589701f67218ff729130b", "patch": "@@ -1,4 +1,4 @@\n-/* config.h.in.  Generated automatically from configure.in by autoheader.  */\n+/* config.h.in.  Generated automatically from configure.in by autoheader 2.13.  */\n \n /* Define if you have a working `mmap' system call.  */\n #undef HAVE_MMAP\n@@ -125,6 +125,9 @@\n // Define if LC_MESSAGES is available in <locale.h>.\n #undef HAVE_LC_MESSAGES\n \n+// Define if NLS translations are to be used.\n+#undef _GLIBCPP_USE_NLS\n+\n /* Define if you have the __signbit function.  */\n #undef HAVE___SIGNBIT\n \n@@ -746,9 +749,6 @@\n /* Define if you have the <nan.h> header file.  */\n #undef HAVE_NAN_H\n \n-/* Define if you have the <stdlib.h> header file.  */\n-#undef HAVE_STDLIB_H\n-\n /* Define if you have the <sys/filio.h> header file.  */\n #undef HAVE_SYS_FILIO_H\n "}, {"sha": "98af86162da713c65d95cf9569f7feafdc9e0e9f", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 1229, "deletions": 1195, "changes": 2424, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c67528fe19d425cf537589701f67218ff729130b/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c67528fe19d425cf537589701f67218ff729130b/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=c67528fe19d425cf537589701f67218ff729130b"}, {"sha": "553359b250c28b366c12ae0140f270e494f65bb6", "filename": "libstdc++-v3/configure.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c67528fe19d425cf537589701f67218ff729130b/libstdc%2B%2B-v3%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c67528fe19d425cf537589701f67218ff729130b/libstdc%2B%2B-v3%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure.in?ref=c67528fe19d425cf537589701f67218ff729130b", "patch": "@@ -401,7 +401,7 @@ else\n   # Check for available headers.\n   AC_CHECK_HEADERS([nan.h ieeefp.h endian.h sys/isa_defs.h machine/endian.h \\\n   machine/param.h sys/machine.h fp.h locale.h float.h inttypes.h gconv.h \\\n-  sys/types.h libintl.h])\n+  sys/types.h])\n \n   GLIBCPP_CHECK_COMPILER_FEATURES\n   GLIBCPP_CHECK_LINKER_FEATURES"}, {"sha": "f9fc13c94e6de0d39a543b2ae1cb7f5941abcd4d", "filename": "libstdc++-v3/src/functexcept.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c67528fe19d425cf537589701f67218ff729130b/libstdc%2B%2B-v3%2Fsrc%2Ffunctexcept.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c67528fe19d425cf537589701f67218ff729130b/libstdc%2B%2B-v3%2Fsrc%2Ffunctexcept.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2Ffunctexcept.cc?ref=c67528fe19d425cf537589701f67218ff729130b", "patch": "@@ -32,7 +32,7 @@\n #include <new>\n #include <typeinfo>\n #include <ios>\n-#ifdef _GLIBCPP_HAVE_LIBINTL_H\n+#ifdef _GLIBCPP_USE_NLS\n # include <libintl.h>\n # define _(msgid)   gettext (msgid)\n #else"}]}