{"sha": "ef49f59036534dc7927217a877fe0893970b4cc9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWY0OWY1OTAzNjUzNGRjNzkyNzIxN2E4NzdmZTA4OTM5NzBiNGNjOQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "2000-03-19T11:56:54Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2000-03-19T11:56:54Z"}, "message": "* stor-layout.c (layout_decl): Don't abort on any zero sized decl.\n\nFrom-SVN: r32638", "tree": {"sha": "5b367fa41f0f7094931b1bfcc16cb0634cebb708", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5b367fa41f0f7094931b1bfcc16cb0634cebb708"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ef49f59036534dc7927217a877fe0893970b4cc9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ef49f59036534dc7927217a877fe0893970b4cc9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ef49f59036534dc7927217a877fe0893970b4cc9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ef49f59036534dc7927217a877fe0893970b4cc9/comments", "author": null, "committer": null, "parents": [{"sha": "5d6a090fbdc5a6909ae09224a9b6a9f6348a8c6f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d6a090fbdc5a6909ae09224a9b6a9f6348a8c6f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d6a090fbdc5a6909ae09224a9b6a9f6348a8c6f"}], "stats": {"total": 13, "additions": 2, "deletions": 11}, "files": [{"sha": "222701aadd8fc267c35a26d1056f10feb33e2d09", "filename": "gcc/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ef49f59036534dc7927217a877fe0893970b4cc9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ef49f59036534dc7927217a877fe0893970b4cc9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ef49f59036534dc7927217a877fe0893970b4cc9", "patch": "@@ -7,6 +7,8 @@\n \t* fold-const.c (extract_muldiv): Apply type check for defined\n \toverflow to multiply as well as divide.\n \n+\t* stor-layout.c (layout_decl): Don't abort on any zero sized decl.\n+\n 2000-03-18  Mark Mitchell  <mark@codesourcery.com>\n \n \t* emit-rtl.c (remove_unncessary_notes): Check that all"}, {"sha": "690ec365ea4719eaf26e9b3e4646d60fe51da159", "filename": "gcc/stor-layout.c", "status": "modified", "additions": 0, "deletions": 11, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ef49f59036534dc7927217a877fe0893970b4cc9/gcc%2Fstor-layout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ef49f59036534dc7927217a877fe0893970b4cc9/gcc%2Fstor-layout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fstor-layout.c?ref=ef49f59036534dc7927217a877fe0893970b4cc9", "patch": "@@ -308,17 +308,6 @@ layout_decl (decl, known_align)\n     {\n       HOST_WIDE_INT spec_size;\n \n-      /* The front-end may set the explicit width of the field, so its\n-\t size may not be the same as the size of its type.  This happens\n-\t with bitfields, of course (an `int' bitfield may be only 2 bits,\n-\t say), but it also happens with other fields.  For example, the\n-\t C++ front-end creates zero-sized fields corresponding to empty\n-\t base classes, and depends on layout_type setting\n-\t DECL_FIELD_BITPOS correctly for the field.  */\n-      if (integer_zerop (DECL_SIZE (decl)) \n-\t  && DECL_NAME (decl) != NULL_TREE)\n-\tabort ();\n-\n       /* Size is specified in number of bits.  */\n       spec_size = TREE_INT_CST_LOW (DECL_SIZE (decl));\n       if (spec_size % BITS_PER_UNIT == 0)"}]}