{"sha": "63a4ef6f54f5eb2392f5cf8e65814369308a4ead", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjNhNGVmNmY1NGY1ZWIyMzkyZjVjZjhlNjU4MTQzNjkzMDhhNGVhZA==", "commit": {"author": {"name": "Diego Novillo", "email": "dnovillo@redhat.com", "date": "2005-06-15T17:37:45Z"}, "committer": {"name": "Diego Novillo", "email": "dnovillo@gcc.gnu.org", "date": "2005-06-15T17:37:45Z"}, "message": "tree-ssa-structalias.c (dump_solution_for_var): Reformat output.\n\n\n\t* tree-ssa-structalias.c (dump_solution_for_var): Reformat\n\toutput.\n\t(dump_sa_points_to_info): Make extern.\n\t(debug_sa_points_to_info): New.\n\t* tree-ssa-structalias.h (TREE_SSA_STRUCTALIAS_H): Rename from\n\tTREE_ALIAS_COMMON.\n\t(dump_sa_points_to_info): Declare.\n\t(debug_sa_points_to_info): Declare.\n\nFrom-SVN: r100987", "tree": {"sha": "8552b516c7ec52543d120f6e056ea9bcc879c8e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8552b516c7ec52543d120f6e056ea9bcc879c8e9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/63a4ef6f54f5eb2392f5cf8e65814369308a4ead", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/63a4ef6f54f5eb2392f5cf8e65814369308a4ead", "html_url": "https://github.com/Rust-GCC/gccrs/commit/63a4ef6f54f5eb2392f5cf8e65814369308a4ead", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/63a4ef6f54f5eb2392f5cf8e65814369308a4ead/comments", "author": null, "committer": null, "parents": [{"sha": "e1f4adc93b6f663f481c1dc5a1ba7e6fb31c8af4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1f4adc93b6f663f481c1dc5a1ba7e6fb31c8af4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e1f4adc93b6f663f481c1dc5a1ba7e6fb31c8af4"}], "stats": {"total": 57, "additions": 44, "deletions": 13}, "files": [{"sha": "d3c33ca2e67b39391239453012f083e3866ac6e7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/63a4ef6f54f5eb2392f5cf8e65814369308a4ead/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/63a4ef6f54f5eb2392f5cf8e65814369308a4ead/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=63a4ef6f54f5eb2392f5cf8e65814369308a4ead", "patch": "@@ -1,3 +1,14 @@\n+2005-06-15  Diego Novillo  <dnovillo@redhat.com>\n+\n+\t* tree-ssa-structalias.c (dump_solution_for_var): Reformat\n+\toutput.\n+\t(dump_sa_points_to_info): Make extern.\n+\t(debug_sa_points_to_info): New.\n+\t* tree-ssa-structalias.h (TREE_SSA_STRUCTALIAS_H): Rename from\n+\tTREE_ALIAS_COMMON.\n+\t(dump_sa_points_to_info): Declare.\n+\t(debug_sa_points_to_info): Declare.\n+\n 2005-06-15  Joseph S. Myers  <joseph@codesourcery.com>\n \n \t* c-tree.h (default_function_array_conversion): Declare."}, {"sha": "5ca2a5cc98ff15202d64cf2553fded726eb5fb39", "filename": "gcc/tree-ssa-structalias.c", "status": "modified", "additions": 26, "deletions": 10, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/63a4ef6f54f5eb2392f5cf8e65814369308a4ead/gcc%2Ftree-ssa-structalias.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/63a4ef6f54f5eb2392f5cf8e65814369308a4ead/gcc%2Ftree-ssa-structalias.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-structalias.c?ref=63a4ef6f54f5eb2392f5cf8e65814369308a4ead", "patch": "@@ -2824,10 +2824,10 @@ dump_solution_for_var (FILE *file, unsigned int var)\n   unsigned int i;\n   bitmap_iterator bi; \n   \n-  fprintf (file, \"%s = {\", vi->name);\n+  fprintf (file, \"%s = { \", vi->name);\n   EXECUTE_IF_SET_IN_BITMAP (get_varinfo (vi->node)->solution, 0, i, bi)\n     {\n-      fprintf (file, \"%s,\", get_varinfo (i)->name);\n+      fprintf (file, \"%s \", get_varinfo (i)->name);\n     }\n   fprintf (file, \"}\\n\");\n }\n@@ -2961,6 +2961,7 @@ find_what_p_points_to (tree p)\n   return false;\n }\n \n+\n /* Initialize things necessary to perform PTA */\n \n static void\n@@ -2969,27 +2970,42 @@ init_alias_vars (void)\n   bitmap_obstack_initialize (&ptabitmap_obstack);\n }\n \n-/* Dump the points-to information to OUTFILE.  */\n \n-static void\n+/* Dump points-to information to OUTFILE.  */\n+\n+void\n dump_sa_points_to_info (FILE *outfile)\n {\n-  \n   unsigned int i;\n+\n+  fprintf (outfile, \"\\nPoints-to information\\n\\n\");\n+\n   if (dump_flags & TDF_STATS)\n     {\n       fprintf (outfile, \"Stats:\\n\");\n-      fprintf (outfile, \"Total vars:%d\\n\", stats.total_vars);\n-      fprintf (outfile, \"Statically unified vars:%d\\n\", stats.unified_vars_static);\n-      fprintf (outfile, \"Collapsed vars:%d\\n\", stats.collapsed_vars);\n-      fprintf (outfile, \"Dynamically unified vars:%d\\n\", stats.unified_vars_dynamic);\n-      fprintf (outfile, \"Iterations:%d\\n\", stats.iterations);\n+      fprintf (outfile, \"Total vars:               %d\\n\", stats.total_vars);\n+      fprintf (outfile, \"Statically unified vars:  %d\\n\",\n+\t       stats.unified_vars_static);\n+      fprintf (outfile, \"Collapsed vars:           %d\\n\", stats.collapsed_vars);\n+      fprintf (outfile, \"Dynamically unified vars: %d\\n\",\n+\t       stats.unified_vars_dynamic);\n+      fprintf (outfile, \"Iterations:               %d\\n\", stats.iterations);\n     }\n+\n   for (i = 0; i < VEC_length (varinfo_t, varmap); i++)\n     dump_solution_for_var (outfile, i);\n }\n \n \n+/* Debug points-to information to stderr.  */\n+\n+void\n+debug_sa_points_to_info (void)\n+{\n+  dump_sa_points_to_info (stderr);\n+}\n+\n+\n /* Initialize the always-existing constraint variables for NULL\n    ANYTHING, READONLY, and INTEGER */\n "}, {"sha": "89224c6bb0e07e949692b51e4bf15a7bc5bd6668", "filename": "gcc/tree-ssa-structalias.h", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/63a4ef6f54f5eb2392f5cf8e65814369308a4ead/gcc%2Ftree-ssa-structalias.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/63a4ef6f54f5eb2392f5cf8e65814369308a4ead/gcc%2Ftree-ssa-structalias.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-structalias.h?ref=63a4ef6f54f5eb2392f5cf8e65814369308a4ead", "patch": "@@ -19,15 +19,19 @@ along with GCC; if not, write to the Free Software\n Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n */\n \n-#ifndef TREE_ALIAS_COMMON\n-#define TREE_ALIAS_COMMON\n+#ifndef TREE_SSA_STRUCTALIAS_H\n+#define TREE_SSA_STRUCTALIAS_H\n \n struct constraint;\n typedef struct constraint *constraint_t;\n+\n extern void dump_constraint (FILE *, constraint_t);\n extern void dump_constraints (FILE *);\n extern void debug_constraint (constraint_t);\n extern void debug_constraints (void);\n extern void dump_solution_for_var (FILE *, unsigned int);\n extern void debug_solution_for_var (unsigned int);\n-#endif /* TREE_ALIAS_COMMON */\n+extern void dump_sa_points_to_info (FILE *);\n+extern void debug_sa_points_to_info (void);\n+\n+#endif /* TREE_SSA_STRUCTALIAS_H  */"}]}