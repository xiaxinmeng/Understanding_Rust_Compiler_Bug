{"sha": "e5d9873fcb6f90d03b7534af53de39ec65d0cdc5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTVkOTg3M2ZjYjZmOTBkMDNiNzUzNGFmNTNkZTM5ZWM2NWQwY2RjNQ==", "commit": {"author": {"name": "Iain Sandoe", "email": "iain@sandoe.co.uk", "date": "2021-08-26T10:32:52Z"}, "committer": {"name": "Iain Sandoe", "email": "iain@sandoe.co.uk", "date": "2021-08-27T15:47:31Z"}, "message": "configure: Adjust several assembler checks to remove an unused parm.\n\nIn r12-3048-ge0b6d0b39c6, the GAS version parameter was removed from\nthe gcc_GAS_CHECK_FEATURE macro.  It seems that overlapping comit/test\ncycles resulted in several AMDGCN and one Darwin commit with the now\nextra parameter still present.\n\nThis causes wrong configure code to be generated when autoreconf is\nused in the gcc directory.\n\nFixed by removing the extraneous parm from the AMDGCN and Darwin cases.\n\nSigned-off-by: Iain Sandoe <iain@sandoe.co.uk>\n\ngcc/ChangeLog:\n\n\t* configure.ac (darwin2[[0-9]]* | darwin19*): Alter use of\n\tgcc_GAS_CHECK_FEATURE to remove an extraneous parameter.\n\t(amdgcn-* | gcn-*) Likewise.", "tree": {"sha": "189751bc0a447b3fe4a91270c3d7f5142168a32f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/189751bc0a447b3fe4a91270c3d7f5142168a32f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e5d9873fcb6f90d03b7534af53de39ec65d0cdc5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5d9873fcb6f90d03b7534af53de39ec65d0cdc5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e5d9873fcb6f90d03b7534af53de39ec65d0cdc5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5d9873fcb6f90d03b7534af53de39ec65d0cdc5/comments", "author": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "committer": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fccd5b48adf568f0aabe5d5f51206a9d42da095a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fccd5b48adf568f0aabe5d5f51206a9d42da095a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fccd5b48adf568f0aabe5d5f51206a9d42da095a"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "6f768e02aa4fa4ba84eb9da6eaeb8d317c1f3ae3", "filename": "gcc/configure.ac", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e5d9873fcb6f90d03b7534af53de39ec65d0cdc5/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e5d9873fcb6f90d03b7534af53de39ec65d0cdc5/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=e5d9873fcb6f90d03b7534af53de39ec65d0cdc5", "patch": "@@ -4709,7 +4709,7 @@ foo:\tnop\n     case $target_os in\n        darwin2[[0-9]]* | darwin19*)\n         gcc_GAS_CHECK_FEATURE([llvm assembler x86-pad-for-align option],\n-          gcc_cv_as_mllvm_x86_pad_for_align,,\n+          gcc_cv_as_mllvm_x86_pad_for_align,\n           [-mllvm -x86-pad-for-align=false], [.text],,\n           [AC_DEFINE(HAVE_AS_MLLVM_X86_PAD_FOR_ALIGN, 1,\n \t    [Define if your Mac OS X assembler supports -mllvm -x86-pad-for-align=false.])])\n@@ -5350,25 +5350,25 @@ esac\n case \"$target\" in\n   amdgcn-* | gcn-*)\n     gcc_GAS_CHECK_FEATURE([assembler accepts -mattr=+sram-ecc for fiji],\n-      gcc_cv_as_gcn_sram_ecc_fiji,,\n+      gcc_cv_as_gcn_sram_ecc_fiji,\n       [-triple=amdgcn--amdhsa -mcpu=fiji -mattr=-xnack -mattr=+sram-ecc],\n       [.amdgcn_target \"amdgcn-unknown-amdhsa--gfx803+sram-ecc\"],,\n       [AC_DEFINE(HAVE_GCN_SRAM_ECC_FIJI, 1,\n        [Define if your assembler allows -mattr=+sram-ecc for fiji.])])\n     gcc_GAS_CHECK_FEATURE([assembler accepts -mattr=+sram-ecc for gfx900],\n-      gcc_cv_as_gcn_sram_ecc_gfx900,,\n+      gcc_cv_as_gcn_sram_ecc_gfx900,\n       [-triple=amdgcn--amdhsa -mcpu=gfx900 -mattr=-xnack -mattr=+sram-ecc],\n       [.amdgcn_target \"amdgcn-unknown-amdhsa--gfx900+sram-ecc\"],,\n       [AC_DEFINE(HAVE_GCN_SRAM_ECC_GFX900, 1,\n        [Define if your assembler allows -mattr=+sram-ecc for gfx900.])])\n     gcc_GAS_CHECK_FEATURE([assembler accepts -mattr=+sram-ecc for gfx906],\n-      gcc_cv_as_gcn_sram_ecc_gfx906,,\n+      gcc_cv_as_gcn_sram_ecc_gfx906,\n       [-triple=amdgcn--amdhsa -mcpu=gfx906 -mattr=-xnack -mattr=+sram-ecc],\n       [.amdgcn_target \"amdgcn-unknown-amdhsa--gfx906+sram-ecc\"],,\n       [AC_DEFINE(HAVE_GCN_SRAM_ECC_GFX906, 1,\n        [Define if your assembler allows -mattr=+sram-ecc for gfx906.])])\n     gcc_GAS_CHECK_FEATURE([assembler accepts -mattr=+sram-ecc for gfx908],\n-      gcc_cv_as_gcn_sram_ecc_gfx908,,\n+      gcc_cv_as_gcn_sram_ecc_gfx908,\n       [-triple=amdgcn--amdhsa -mcpu=gfx908 -mattr=-xnack -mattr=+sram-ecc],\n       [.amdgcn_target \"amdgcn-unknown-amdhsa--gfx908+sram-ecc\"],,\n       [AC_DEFINE(HAVE_GCN_SRAM_ECC_GFX908, 1,"}]}