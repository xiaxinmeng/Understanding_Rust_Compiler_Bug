{"sha": "2b3014326fb883a96601a4dde295858d715289a7", "node_id": "C_kwDOANBUbNoAKDJiMzAxNDMyNmZiODgzYTk2NjAxYTRkZGUyOTU4NThkNzE1Mjg5YTc", "commit": {"author": {"name": "Kewen Lin", "email": "linkw@linux.ibm.com", "date": "2021-10-09T09:17:07Z"}, "committer": {"name": "Kewen Lin", "email": "linkw@linux.ibm.com", "date": "2021-10-09T09:17:07Z"}, "message": "testsuite: Add missing comment for some dg-warning\n\nThis fixes the typos introduced by commit r12-4240.\n\nThe dg-warning format looks like:\n\n{ dg-warning regexp\n    [comment [{ target/xfail selector } [line] ]] }\n\nSome dg-warnings such as:\n\n{ dg-warning \"\\\\\\[-Wstringop-overflow\"\n    { target { i?86-*-* x86_64-*-* } } }\n\nmiss the comment field, it makes target selector not take effect.\n\nFor targets which are not { i?86-*-* x86_64-*-* }, this kind of cases\nfail or pass unexpectedly.\n\ngcc/testsuite/ChangeLog:\n\n\t* c-c++-common/Wstringop-overflow-2.c: Add missing comment.\n\t* gcc.dg/Warray-bounds-51.c: Likewise.\n\t* gcc.dg/Warray-parameter-3.c: Likewise.\n\t* gcc.dg/Wstringop-overflow-14.c: Likewise.\n\t* gcc.dg/Wstringop-overflow-21.c: Likewise.\n\t* gcc.dg/Wstringop-overflow-76.c: Likewise.", "tree": {"sha": "96f78e72243bc769f03afaaead30aacb1a57aa2a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/96f78e72243bc769f03afaaead30aacb1a57aa2a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2b3014326fb883a96601a4dde295858d715289a7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b3014326fb883a96601a4dde295858d715289a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2b3014326fb883a96601a4dde295858d715289a7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b3014326fb883a96601a4dde295858d715289a7/comments", "author": {"login": "jedilyn", "id": 38515402, "node_id": "MDQ6VXNlcjM4NTE1NDAy", "avatar_url": "https://avatars.githubusercontent.com/u/38515402?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jedilyn", "html_url": "https://github.com/jedilyn", "followers_url": "https://api.github.com/users/jedilyn/followers", "following_url": "https://api.github.com/users/jedilyn/following{/other_user}", "gists_url": "https://api.github.com/users/jedilyn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jedilyn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jedilyn/subscriptions", "organizations_url": "https://api.github.com/users/jedilyn/orgs", "repos_url": "https://api.github.com/users/jedilyn/repos", "events_url": "https://api.github.com/users/jedilyn/events{/privacy}", "received_events_url": "https://api.github.com/users/jedilyn/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jedilyn", "id": 38515402, "node_id": "MDQ6VXNlcjM4NTE1NDAy", "avatar_url": "https://avatars.githubusercontent.com/u/38515402?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jedilyn", "html_url": "https://github.com/jedilyn", "followers_url": "https://api.github.com/users/jedilyn/followers", "following_url": "https://api.github.com/users/jedilyn/following{/other_user}", "gists_url": "https://api.github.com/users/jedilyn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jedilyn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jedilyn/subscriptions", "organizations_url": "https://api.github.com/users/jedilyn/orgs", "repos_url": "https://api.github.com/users/jedilyn/repos", "events_url": "https://api.github.com/users/jedilyn/events{/privacy}", "received_events_url": "https://api.github.com/users/jedilyn/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b4e81f6dd48732ace73eebf1d2f46ca1d2533b79", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4e81f6dd48732ace73eebf1d2f46ca1d2533b79", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b4e81f6dd48732ace73eebf1d2f46ca1d2533b79"}], "stats": {"total": 18, "additions": 9, "deletions": 9}, "files": [{"sha": "7d29b5f48c70bb90de71347da2199a362b5397f3", "filename": "gcc/testsuite/c-c++-common/Wstringop-overflow-2.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b3014326fb883a96601a4dde295858d715289a7/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2FWstringop-overflow-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b3014326fb883a96601a4dde295858d715289a7/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2FWstringop-overflow-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2FWstringop-overflow-2.c?ref=2b3014326fb883a96601a4dde295858d715289a7", "patch": "@@ -221,7 +221,7 @@ void ga1_1 (void)\n   a1_1.a[1] = 1;                // { dg-warning \"\\\\\\[-Wstringop-overflow\" }\n   a1_1.a[2] = 2;                // { dg-warning \"\\\\\\[-Wstringop-overflow\" }\n \n-  struct A1 a = { 0, { 1 } };   // { dg-warning \"\\\\\\[-Wstringop-overflow\" { target { i?86-*-* x86_64-*-* } } }\n+  struct A1 a = { 0, { 1 } };   // { dg-warning \"\\\\\\[-Wstringop-overflow\" \"\" { target { i?86-*-* x86_64-*-* } } }\n   a.a[0] = 0;\n   a.a[1] = 1;                   // { dg-warning \"\\\\\\[-Wstringop-overflow\" \"\" { xfail { i?86-*-* x86_64-*-* } } }\n   a.a[2] = 2;                   // { dg-warning \"\\\\\\[-Wstringop-overflow\" \"\" { xfail { i?86-*-* x86_64-*-* } } }\n@@ -320,7 +320,7 @@ void ga1i_1 (void)\n   a1i_1.a[1] = 1;               // { dg-warning \"\\\\\\[-Wstringop-overflow\" }\n   a1i_1.a[2] = 2;               // { dg-warning \"\\\\\\[-Wstringop-overflow\" }\n \n-  struct A1 a = { 0, { 1 } };   // { dg-warning \"\\\\\\[-Wstringop-overflow\" { target { i?86-*-* x86_64-*-* } } }\n+  struct A1 a = { 0, { 1 } };   // { dg-warning \"\\\\\\[-Wstringop-overflow\" \"\" { target { i?86-*-* x86_64-*-* } } }\n   a.a[0] = 1;\n   a.a[1] = 2;                   // { dg-warning \"\\\\\\[-Wstringop-overflow\" \"\" { xfail { i?86-*-* x86_64-*-* } } }\n   a.a[2] = 3;                   // { dg-warning \"\\\\\\[-Wstringop-overflow\" \"\" { xfail { i?86-*-* x86_64-*-* } } }"}, {"sha": "de60d87ab95c8413e7e3f58e4fe203f17d275c73", "filename": "gcc/testsuite/gcc.dg/Warray-bounds-51.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b3014326fb883a96601a4dde295858d715289a7/gcc%2Ftestsuite%2Fgcc.dg%2FWarray-bounds-51.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b3014326fb883a96601a4dde295858d715289a7/gcc%2Ftestsuite%2Fgcc.dg%2FWarray-bounds-51.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2FWarray-bounds-51.c?ref=2b3014326fb883a96601a4dde295858d715289a7", "patch": "@@ -39,7 +39,7 @@ void test_struct_char_vla_location (void)\n   } s;\n \n   s.cvla[0] = __LINE__;\n-  s.cvla[nelts - 1] = 0; // { dg-warning \"\\\\\\[-Wstringop-overflow\" { target { i?86-*-* x86_64-*-* } } }\n+  s.cvla[nelts - 1] = 0; // { dg-warning \"\\\\\\[-Wstringop-overflow\" \"\" { target { i?86-*-* x86_64-*-* } } }\n   s.cvla[nelts] = 0;  // { dg-warning \"\\\\\\[-Warray-bounds\" }\n \n   sink (&s);"}, {"sha": "e8a269c85c6f741ceeb17a65e7082679fc784be8", "filename": "gcc/testsuite/gcc.dg/Warray-parameter-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b3014326fb883a96601a4dde295858d715289a7/gcc%2Ftestsuite%2Fgcc.dg%2FWarray-parameter-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b3014326fb883a96601a4dde295858d715289a7/gcc%2Ftestsuite%2Fgcc.dg%2FWarray-parameter-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2FWarray-parameter-3.c?ref=2b3014326fb883a96601a4dde295858d715289a7", "patch": "@@ -77,7 +77,7 @@ gia3 (int a[3])\n __attribute__ ((noipa)) void\n gcas3 (char a[static 3])\n {\n-  a[0] = 0; a[1] = 1; a[2] = 2; // { dg-warning \"\\\\\\[-Wstringop-overflow\" { target { i?86-*-* x86_64-*-* } } }\n+  a[0] = 0; a[1] = 1; a[2] = 2; // { dg-warning \"\\\\\\[-Wstringop-overflow\" \"\" { target { i?86-*-* x86_64-*-* } } }\n   a[3] = 3;                   // { dg-warning \"\\\\\\[-Warray-bounds\" }\n }\n "}, {"sha": "7683084e46e09c1caa0edfe815a10d27a9cd0cdd", "filename": "gcc/testsuite/gcc.dg/Wstringop-overflow-14.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b3014326fb883a96601a4dde295858d715289a7/gcc%2Ftestsuite%2Fgcc.dg%2FWstringop-overflow-14.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b3014326fb883a96601a4dde295858d715289a7/gcc%2Ftestsuite%2Fgcc.dg%2FWstringop-overflow-14.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2FWstringop-overflow-14.c?ref=2b3014326fb883a96601a4dde295858d715289a7", "patch": "@@ -36,7 +36,7 @@ void test_memcpy_cond (int i)\n void test_int16 (void)\n {\n   char *p = a4 + 1;\n-  *(int16_t*)p = 0;    // { dg-warning \"writing 4 bytes into a region of size 3\" { target { i?86-*-* x86_64-*-* } } }\n+  *(int16_t*)p = 0;    // { dg-warning \"writing 4 bytes into a region of size 3\" \"\" { target { i?86-*-* x86_64-*-* } } }\n   *(int16_t*)(p + 2) = 0;   // { dg-warning \"writing 2 bytes into a region of size 1\" \"\" { xfail { i?86-*-* x86_64-*-* } } }\n }\n "}, {"sha": "d88bde9c740f56bac4155b2b9e10bdba9242d585", "filename": "gcc/testsuite/gcc.dg/Wstringop-overflow-21.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b3014326fb883a96601a4dde295858d715289a7/gcc%2Ftestsuite%2Fgcc.dg%2FWstringop-overflow-21.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b3014326fb883a96601a4dde295858d715289a7/gcc%2Ftestsuite%2Fgcc.dg%2FWstringop-overflow-21.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2FWstringop-overflow-21.c?ref=2b3014326fb883a96601a4dde295858d715289a7", "patch": "@@ -23,7 +23,7 @@ void test_store_zero_length (int i)\n {\n   char a[3];\n   struct S0 *p = (struct S0*)a;\n-  p->a = 0;                         // { dg-warning \"\\\\\\[-Wstringop-overflow\" { target { i?86-*-* x86_64-*-* } } }\n+  p->a = 0;                         // { dg-warning \"\\\\\\[-Wstringop-overflow\" \"\" { target { i?86-*-* x86_64-*-* } } }\n   p->b[0] = 0;\n   p->b[1] = 1;                      // { dg-bogus \"\\\\\\[-Wstringop-overflow\" }\n   p->b[2] = 2;                      // { dg-warning \"\\\\\\[-Wstringop-overflow\" \"\" { xfail { i?86-*-* x86_64-*-* } } }\n@@ -50,7 +50,7 @@ void test_store_flexarray (int i)\n {\n   char a[3];\n   struct Sx *p = (struct Sx*)a;\n-  p->a = 0;                         // { dg-warning \"\\\\\\[-Wstringop-overflow\" { target { i?86-*-* x86_64-*-* } } }\n+  p->a = 0;                         // { dg-warning \"\\\\\\[-Wstringop-overflow\" \"\" { target { i?86-*-* x86_64-*-* } } }\n   p->b[0] = 0;\n   p->b[1] = 1;                      // { dg-bogus \"\\\\\\[-Wstringop-overflow\" }\n   p->b[2] = 1;                      // { dg-warning \"\\\\\\[-Wstringop-overflow\" \"\" { xfail { i?86-*-* x86_64-*-* } } }"}, {"sha": "0c7b53ccc0ba1b8c7d1c54ae805dc6f6b055136f", "filename": "gcc/testsuite/gcc.dg/Wstringop-overflow-76.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b3014326fb883a96601a4dde295858d715289a7/gcc%2Ftestsuite%2Fgcc.dg%2FWstringop-overflow-76.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b3014326fb883a96601a4dde295858d715289a7/gcc%2Ftestsuite%2Fgcc.dg%2FWstringop-overflow-76.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2FWstringop-overflow-76.c?ref=2b3014326fb883a96601a4dde295858d715289a7", "patch": "@@ -27,7 +27,7 @@ void max_a3_a5 (int i)\n      by its own warning independently of -Wstringop-overflow.  */\n   char *d = MAX (p, q);\n \n-  d[2] = 0;         // { dg-warning \"writing 4 bytes into a region of size 3\" { target { i?86-*-* x86_64-*-* } } }\n+  d[2] = 0;         // { dg-warning \"writing 4 bytes into a region of size 3\" \"\" { target { i?86-*-* x86_64-*-* } } }\n   d[3] = 0;\n   d[4] = 0;\n   d[5] = 0;         // { dg-warning \"writing 1 byte into a region of size 0\" \"\" { xfail { i?86-*-* x86_64-*-* } } }\n@@ -44,7 +44,7 @@ void max_b6_b4 (int i)\n   char *q = b4 + i;\n   char *d = MAX (p, q);\n \n-  d[3] = 0;         // { dg-warning \"writing 4 bytes into a region of size 3\" { target { i?86-*-* x86_64-*-* } } }\n+  d[3] = 0;         // { dg-warning \"writing 4 bytes into a region of size 3\" \"\" { target { i?86-*-* x86_64-*-* } } }\n   d[4] = 0;\n   d[5] = 0;\n   d[6] = 0;         // { dg-warning \"writing 1 byte into a region of size 0\" \"\" { xfail { i?86-*-* x86_64-*-* } } }"}]}