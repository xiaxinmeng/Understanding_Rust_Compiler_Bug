{"sha": "5dc489c1909701811d19e2ad2e63550ee5548082", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWRjNDg5YzE5MDk3MDE4MTFkMTllMmFkMmU2MzU1MGVlNTU0ODA4Mg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "2000-02-01T16:32:21Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2000-02-01T16:32:21Z"}, "message": "jni.cc (_Jv_JNI_GetField): Specialize for jobject.\n\n\t* jni.cc (_Jv_JNI_GetField): Specialize for jobject.\n\t(_Jv_JNI_GetStaticField): Likewise.\n\nFrom-SVN: r31735", "tree": {"sha": "a84c176a6bf2e08d67dd88309611bc4c55de09b7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a84c176a6bf2e08d67dd88309611bc4c55de09b7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5dc489c1909701811d19e2ad2e63550ee5548082", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5dc489c1909701811d19e2ad2e63550ee5548082", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5dc489c1909701811d19e2ad2e63550ee5548082", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5dc489c1909701811d19e2ad2e63550ee5548082/comments", "author": null, "committer": null, "parents": [{"sha": "ef2362a417068ea86c9019413ab4c72be3b6a69a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ef2362a417068ea86c9019413ab4c72be3b6a69a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ef2362a417068ea86c9019413ab4c72be3b6a69a"}], "stats": {"total": 22, "additions": 21, "deletions": 1}, "files": [{"sha": "4690c3c2c817158d35dd4dff936f456ff3e976e2", "filename": "libjava/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5dc489c1909701811d19e2ad2e63550ee5548082/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5dc489c1909701811d19e2ad2e63550ee5548082/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=5dc489c1909701811d19e2ad2e63550ee5548082", "patch": "@@ -1,3 +1,8 @@\n+2000-02-01  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* jni.cc (_Jv_JNI_GetField): Specialize for jobject.\n+\t(_Jv_JNI_GetStaticField): Likewise.\n+\n 2000-01-31  Tom Tromey  <tromey@cygnus.com>\n \n \t* prims.cc (_Jv_MallocUnchecked): New function."}, {"sha": "ff8f9a23fb2372eb1a7033eea9fde6e4550b867f", "filename": "libjava/jni.cc", "status": "modified", "additions": 16, "deletions": 1, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5dc489c1909701811d19e2ad2e63550ee5548082/libjava%2Fjni.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5dc489c1909701811d19e2ad2e63550ee5548082/libjava%2Fjni.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjni.cc?ref=5dc489c1909701811d19e2ad2e63550ee5548082", "patch": "@@ -811,7 +811,6 @@ _Jv_JNI_NewObjectA (JNIEnv *env, jclass klass, jmethodID id,\n \n \f\n \n-// FIXME: local reference\n template<typename T>\n static T\n _Jv_JNI_GetField (JNIEnv *, jobject obj, jfieldID field) \n@@ -820,6 +819,14 @@ _Jv_JNI_GetField (JNIEnv *, jobject obj, jfieldID field)\n   return *ptr;\n }\n \n+template<>\n+static jobject\n+_Jv_JNI_GetField<jobject> (JNIEnv *env, jobject obj, jfieldID field)\n+{\n+  jobject *ptr = (jobject *) ((char *) obj + field->getOffset ());\n+  return _Jv_JNI_NewLocalRef (env, *ptr);\n+}\n+\n template<typename T>\n static void\n _Jv_JNI_SetField (JNIEnv *, jobject obj, jfieldID field, T value)\n@@ -888,6 +895,14 @@ _Jv_JNI_GetStaticField (JNIEnv *, jclass, jfieldID field)\n   return *ptr;\n }\n \n+template<>\n+static jobject\n+_Jv_JNI_GetStaticField<jobject> (JNIEnv *env, jclass, jfieldID field)\n+{\n+  jobject *ptr = (jobject *) field->u.addr;\n+  return _Jv_JNI_NewLocalRef (env, *ptr);\n+}\n+\n template<typename T>\n static void\n _Jv_JNI_SetStaticField (JNIEnv *, jclass, jfieldID field, T value)"}]}