{"sha": "bb20b7dafd604a1ceba1da24d9992ed38838479f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmIyMGI3ZGFmZDYwNGExY2ViYTFkYTI0ZDk5OTJlZDM4ODM4NDc5Zg==", "commit": {"author": {"name": "Phil Edwards", "email": "pme@gcc.gnu.org", "date": "2002-06-18T20:02:21Z"}, "committer": {"name": "Phil Edwards", "email": "pme@gcc.gnu.org", "date": "2002-06-18T20:02:21Z"}, "message": "configure: For in-source builds, make a subdir and re-exec there.\n\n2002-06-18  Phil Edwards  <pme@gcc.gnu.org>\n\n\t* configure:  For in-source builds, make a subdir and re-exec there.\n\t* Makefile:  New file.  Pass targets through to build directory.\n\t* .cvsignore:  No longer ignore \"Makefile\".\n\nFrom-SVN: r54759", "tree": {"sha": "7817d5f71723db16dab21b115baae3ba65b847ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7817d5f71723db16dab21b115baae3ba65b847ed"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bb20b7dafd604a1ceba1da24d9992ed38838479f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bb20b7dafd604a1ceba1da24d9992ed38838479f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bb20b7dafd604a1ceba1da24d9992ed38838479f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bb20b7dafd604a1ceba1da24d9992ed38838479f/comments", "author": null, "committer": null, "parents": [{"sha": "c985dc5e74907ffe09a8d132981ef434304fdacf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c985dc5e74907ffe09a8d132981ef434304fdacf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c985dc5e74907ffe09a8d132981ef434304fdacf"}], "stats": {"total": 93, "additions": 91, "deletions": 2}, "files": [{"sha": "9cd799e739ae2d271ddf1e3217840fe8715a710b", "filename": ".cvsignore", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bb20b7dafd604a1ceba1da24d9992ed38838479f/.cvsignore", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bb20b7dafd604a1ceba1da24d9992ed38838479f/.cvsignore", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/.cvsignore?ref=bb20b7dafd604a1ceba1da24d9992ed38838479f", "patch": "@@ -26,7 +26,6 @@ configure.tps\n configure.vr\n configure.vrs\n dir.info\n-Makefile\n lost+found\n update.out\n LAST_UPDATED"}, {"sha": "031c6a6355b0a85fecf856307f0324461994e0ed", "filename": "ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bb20b7dafd604a1ceba1da24d9992ed38838479f/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bb20b7dafd604a1ceba1da24d9992ed38838479f/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=bb20b7dafd604a1ceba1da24d9992ed38838479f", "patch": "@@ -1,3 +1,9 @@\n+2002-06-18  Phil Edwards  <pme@gcc.gnu.org>\n+\n+\t* configure:  For in-source builds, make a subdir and re-exec there.\n+\t* Makefile:  New file.  Pass targets through to build directory.\n+\t* .cvsignore:  No longer ignore \"Makefile\".\n+\n 2002-06-16  Douglas Rupp  <rupp@gnat.com>\n \n \t* MAINTAINERS (Write After Approval): Add self."}, {"sha": "ff81fa5af29b64539b1e2c34581ace97ec561070", "filename": "Makefile", "status": "added", "additions": 53, "deletions": 0, "changes": 53, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bb20b7dafd604a1ceba1da24d9992ed38838479f/Makefile", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bb20b7dafd604a1ceba1da24d9992ed38838479f/Makefile", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile?ref=bb20b7dafd604a1ceba1da24d9992ed38838479f", "patch": "@@ -0,0 +1,53 @@\n+#\n+# Redirecting Makefile.\n+#   Copyright (C) 2002 Free Software Foundation\n+#\n+# This file is free software; you can redistribute it and/or modify\n+# it under the terms of the GNU General Public License as published by\n+# the Free Software Foundation; either version 2 of the License, or\n+# (at your option) any later version.\n+# \n+# This program is distributed in the hope that it will be useful,\n+# but WITHOUT ANY WARRANTY; without even the implied warranty of\n+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+# GNU General Public License for more details.\n+# \n+# You should have received a copy of the GNU General Public License\n+# along with this program; if not, write to the Free Software\n+# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n+\n+\n+# This Makefile is a red herring.  It is not normally used and it is never\n+# written by 'configure' from 'Makefile.in'.  This Makefile is here to\n+# support users who try to configure/build in the source directory.  It\n+# simply chdir's into a subdirectory created by configure and reinvokes\n+# make.  Few targets are listed because advanced users (who would use those\n+# targets) are assumed to know that a separate build dir is recommended.\n+\n+SHELL = /bin/sh\n+\n+# Additional pass-through targets can be listed here.\n+TARGETS=bootstrap \\\n+        clean \\\n+        install\n+\n+all:\n+.PHONY: sanitycheck\n+\n+distclean:\n+\ttest -f s-buildd || exit 0 &&  \\\n+\t  . ./s-buildd && rm -rf $${builddir} s-buildd\n+\n+sanitycheck:\n+\t@if test ! -f s-buildd; then  \\\n+\t  echo 'You must configure before attempting to build.';  \\\n+\t  echo 'Please read the instructions in the INSTALL directory.';  \\\n+\t  exit 1;  \\\n+\tfi\n+\n+$(TARGETS): sanitycheck\n+\t(. ./s-buildd; cd $${builddir}; ${MAKE} $@)\n+\n+all: sanitycheck\n+\t(. ./s-buildd; cd $${builddir}; ${MAKE} $${defaulttarget})\n+"}, {"sha": "3e891d93646941ee8345947fc3ae505e5e384cc8", "filename": "configure", "status": "modified", "additions": 32, "deletions": 1, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bb20b7dafd604a1ceba1da24d9992ed38838479f/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bb20b7dafd604a1ceba1da24d9992ed38838479f/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=bb20b7dafd604a1ceba1da24d9992ed38838479f", "patch": "@@ -89,7 +89,7 @@ subdirs=\n target_alias=NOTARGET\n target_makefile_frag=\n undefs=NOUNDEFS\n-version=\"$Revision: 1.42 $\"\n+version=\"$Revision: 1.43 $\"\n x11=default\n bindir='${exec_prefix}/bin'\n sbindir='${exec_prefix}/sbin'\n@@ -573,6 +573,37 @@ case \"${srcdir}\" in\n \tfi\n esac\n \n+# If it's an in-source build, make a directory and configure there instead.\n+# Name the build directory after the host for clarity's sake.  Remember that\n+# name for the redirecting makefile's use, since the makefile shouldn't have\n+# to duplicate the work of figuring out host_alias.\n+#\n+# Also remember if this is a native build or not.  Variations on \"or not\"\n+# are performed later in this script so we can't test them here.  In\n+# particular, build_alias will still be empty unless specified by the user,\n+# so do not try in-source builds when making a host-x-host compiler.\n+# For a cross compile, \"make all\" = \"all\".  Otherwise, \"all\" = \"bootstrap\".\n+if test \"${srcdir}\" = \".\" ; then\n+\tbuilddir=${host_alias}\n+\tif test ! -d ${builddir}; then\n+\t\tmkdir ${builddir} || exit 1\n+\tfi\n+\tif test ${host_alias} != ${target_alias}; then\n+\t\tt=all\n+\telse\n+\t\tt=bootstrap\n+\tfi\n+\t# stamp-builddir is too long for #$&!*@ 8.3 filesystems\n+\techo \"builddir=${builddir}\" > s-buildd\n+\techo \"defaulttarget=$t\" >> s-buildd\n+\tcd ${builddir}\n+echo host $host_alias\n+echo target $target_alias\n+echo t $t\n+sleep 20\n+\texec ${config_shell} ../configure $arguments\n+fi\n+\n ### warn about some conflicting configurations.\n \n case \"${srcdir}\" in"}]}