{"sha": "62440b4f0e4d6e0dc193d315e79753bb4c5edd99", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjI0NDBiNGYwZTRkNmUwZGMxOTNkMzE1ZTc5NzUzYmI0YzVlZGQ5OQ==", "commit": {"author": {"name": "Cupertino Miranda", "email": "cmiranda@synopsys.com", "date": "2016-12-05T11:16:52Z"}, "committer": {"name": "Claudiu Zissulescu", "email": "claziss@gcc.gnu.org", "date": "2016-12-05T11:16:52Z"}, "message": "[ARC] Fix PIE.\n\ngcc/\n2016-12-05  Cupertino Miranda  <cmiranda@synopsys.com>\n\n\t* config/arc/arc.h (STARTFILE_SPEC): Use default linux specs.\n\t(ENDFILE_SPEC): Likewise.\n\nlibgcc/\n2016-12-05  Cupertino Miranda  <cmiranda@synopsys.com>\n\n\t* config.host (arc*-*-linux-uclibc*): Use default extra\n\tobjects. Include linux-android header.\n\t* config/arc/crti.S (_init): Declare symbol as function.\n\t(_fini): Likewise.\n\nFrom-SVN: r243245", "tree": {"sha": "51ad367dfbacc610ccfd16d534390397b8fd5860", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/51ad367dfbacc610ccfd16d534390397b8fd5860"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/62440b4f0e4d6e0dc193d315e79753bb4c5edd99", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62440b4f0e4d6e0dc193d315e79753bb4c5edd99", "html_url": "https://github.com/Rust-GCC/gccrs/commit/62440b4f0e4d6e0dc193d315e79753bb4c5edd99", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62440b4f0e4d6e0dc193d315e79753bb4c5edd99/comments", "author": null, "committer": null, "parents": [{"sha": "5a5c5784d89008664ab42c17efcab7198b132456", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a5c5784d89008664ab42c17efcab7198b132456", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a5c5784d89008664ab42c17efcab7198b132456"}], "stats": {"total": 30, "additions": 21, "deletions": 9}, "files": [{"sha": "ad903f94d832086f06ccbfde1cdec0314c04015e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62440b4f0e4d6e0dc193d315e79753bb4c5edd99/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62440b4f0e4d6e0dc193d315e79753bb4c5edd99/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=62440b4f0e4d6e0dc193d315e79753bb4c5edd99", "patch": "@@ -1,3 +1,8 @@\n+2016-12-05  Cupertino Miranda  <cmiranda@synopsys.com>\n+\n+\t* config/arc/arc.h (STARTFILE_SPEC): Use default linux specs.\n+\t(ENDFILE_SPEC): Likewise.\n+\n 2016-12-05  Claudiu Zissulescu  <claziss@synopsys.com>\n \n \t* config/arc/arc-protos.h (insn_is_tls_gd_dispatch): Remove."}, {"sha": "e034bc30f3d01a888833f3f4b7d91ca96ebaaf7d", "filename": "gcc/config.gcc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62440b4f0e4d6e0dc193d315e79753bb4c5edd99/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62440b4f0e4d6e0dc193d315e79753bb4c5edd99/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=62440b4f0e4d6e0dc193d315e79753bb4c5edd99", "patch": "@@ -1023,7 +1023,7 @@ arc*-*-elf*)\n \t;;\n arc*-*-linux-uclibc*)\n \textra_headers=\"arc-simd.h\"\n-\ttm_file=\"arc/arc-arch.h dbxelf.h elfos.h gnu-user.h linux.h glibc-stdint.h ${tm_file}\"\n+\ttm_file=\"arc/arc-arch.h dbxelf.h elfos.h gnu-user.h linux.h linux-android.h glibc-stdint.h ${tm_file}\"\n \ttmake_file=\"${tmake_file} arc/t-uClibc arc/t-arc\"\n \ttm_defines=\"${tm_defines} TARGET_SDATA_DEFAULT=0\"\n \ttm_defines=\"${tm_defines} TARGET_MMEDIUM_CALLS_DEFAULT=1\""}, {"sha": "f9512c46680d80f9f47b4f467848d48051a729d0", "filename": "gcc/config/arc/arc.h", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62440b4f0e4d6e0dc193d315e79753bb4c5edd99/gcc%2Fconfig%2Farc%2Farc.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62440b4f0e4d6e0dc193d315e79753bb4c5edd99/gcc%2Fconfig%2Farc%2Farc.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farc%2Farc.h?ref=62440b4f0e4d6e0dc193d315e79753bb4c5edd99", "patch": "@@ -138,17 +138,15 @@ extern const char *arc_cpu_to_as (int argc, const char **argv);\n #define STARTFILE_SPEC \"%{!shared:crt0.o%s} crti%O%s %{pg|p:crtg.o%s} \" \\\n   \"%(arc_tls_extra_start_spec) crtbegin.o%s\"\n #else\n-#define STARTFILE_SPEC   \"%{!shared:%{!mkernel:crt1.o%s}} crti.o%s \\\n-  %{!shared:%{pg|p|profile:crtg.o%s} crtbegin.o%s} %{shared:crtbeginS.o%s}\"\n-\n+#define STARTFILE_SPEC\t\t\t\t\t\t\t\\\n+  LINUX_OR_ANDROID_LD (GNU_USER_TARGET_STARTFILE_SPEC, ANDROID_STARTFILE_SPEC)\n #endif\n \n #if DEFAULT_LIBC != LIBC_UCLIBC\n #define ENDFILE_SPEC \"%{pg|p:crtgend.o%s} crtend.o%s crtn%O%s\"\n #else\n-#define ENDFILE_SPEC \"%{!shared:%{pg|p|profile:crtgend.o%s} crtend.o%s} \\\n-  %{shared:crtendS.o%s} crtn.o%s\"\n-\n+#define ENDFILE_SPEC\t\t\t\t\t\t\t\\\n+  LINUX_OR_ANDROID_LD (GNU_USER_TARGET_ENDFILE_SPEC, ANDROID_ENDFILE_SPEC)\n #endif\n \n #if DEFAULT_LIBC == LIBC_UCLIBC"}, {"sha": "d4a1bad2d840ecfb04adfcc599aee2196013d70f", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62440b4f0e4d6e0dc193d315e79753bb4c5edd99/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62440b4f0e4d6e0dc193d315e79753bb4c5edd99/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=62440b4f0e4d6e0dc193d315e79753bb4c5edd99", "patch": "@@ -1,3 +1,10 @@\n+2016-12-05  Cupertino Miranda  <cmiranda@synopsys.com>\n+\n+\t* config.host (arc*-*-linux-uclibc*): Use default extra\n+\tobjects. Include linux-android header.\n+\t* config/arc/crti.S (_init): Declare symbol as function.\n+\t(_fini): Likewise.\n+\n 2016-12-03  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR fortran/78379"}, {"sha": "b1a2be640a3a46f4f907736c4893c0e813b69ebe", "filename": "libgcc/config.host", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62440b4f0e4d6e0dc193d315e79753bb4c5edd99/libgcc%2Fconfig.host", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62440b4f0e4d6e0dc193d315e79753bb4c5edd99/libgcc%2Fconfig.host", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig.host?ref=62440b4f0e4d6e0dc193d315e79753bb4c5edd99", "patch": "@@ -374,8 +374,8 @@ arc*-*-elf*)\n \t;;\n arc*-*-linux-uclibc*)\n \ttmake_file=\"${tmake_file} t-slibgcc-libgcc t-slibgcc-nolc-override arc/t-arc700-uClibc arc/t-arc\"\n-\textra_parts=\"crti.o crtn.o crtend.o crtbegin.o crtendS.o crtbeginS.o libgmon.a crtg.o crtgend.o\"\n-\textra_parts=\"${extra_parts} crttls.o\"\n+\textra_parts=\"$extra_parts crti.o crtn.o libgmon.a crtg.o crtgend.o\"\n+\textra_parts=\"$extra_parts crttls.o\"\n \t;;\n arm-wrs-vxworks)\n \ttmake_file=\"$tmake_file arm/t-arm arm/t-elf t-softfp-sfdf t-softfp-excl arm/t-softfp t-softfp\""}, {"sha": "6867ca99e83940ecd86434496c3e4b05ac800279", "filename": "libgcc/config/arc/crti.S", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62440b4f0e4d6e0dc193d315e79753bb4c5edd99/libgcc%2Fconfig%2Farc%2Fcrti.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62440b4f0e4d6e0dc193d315e79753bb4c5edd99/libgcc%2Fconfig%2Farc%2Fcrti.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Farc%2Fcrti.S?ref=62440b4f0e4d6e0dc193d315e79753bb4c5edd99", "patch": "@@ -31,11 +31,13 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n \t.section .init\n \t.global _init\n \t.word 0\n+\t.type\t_init,@function\n _init:\n \tpush_s\tblink\n \n \t.section .fini\n \t.global _fini\n \t.word 0\n+\t.type\t_fini,@function\n _fini:\n \tpush_s\tblink"}]}