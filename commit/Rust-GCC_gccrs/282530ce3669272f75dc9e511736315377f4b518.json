{"sha": "282530ce3669272f75dc9e511736315377f4b518", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjgyNTMwY2UzNjY5MjcyZjc1ZGM5ZTUxMTczNjMxNTM3N2Y0YjUxOA==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2006-11-09T14:42:19Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2006-11-09T14:42:19Z"}, "message": "builtins-20.c: Use fabs, not __builtin_fabs.\n\n\t* gcc.dg/builtins-20.c: Use fabs, not __builtin_fabs.\n\nFrom-SVN: r118621", "tree": {"sha": "785b21180ce05e3ea3f64d0e577b426aa54656ef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/785b21180ce05e3ea3f64d0e577b426aa54656ef"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/282530ce3669272f75dc9e511736315377f4b518", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/282530ce3669272f75dc9e511736315377f4b518", "html_url": "https://github.com/Rust-GCC/gccrs/commit/282530ce3669272f75dc9e511736315377f4b518", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/282530ce3669272f75dc9e511736315377f4b518/comments", "author": null, "committer": null, "parents": [{"sha": "0b154c55585463bf8fc4ebea6e93988c79e86079", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b154c55585463bf8fc4ebea6e93988c79e86079", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b154c55585463bf8fc4ebea6e93988c79e86079"}], "stats": {"total": 73, "additions": 37, "deletions": 36}, "files": [{"sha": "93da32fe3331e7b6da84632b449ba985f87763bb", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/282530ce3669272f75dc9e511736315377f4b518/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/282530ce3669272f75dc9e511736315377f4b518/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=282530ce3669272f75dc9e511736315377f4b518", "patch": "@@ -1,3 +1,7 @@\n+2006-11-09  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* gcc.dg/builtins-20.c: Use fabs, not __builtin_fabs.\n+\n 2006-11-09  Tobias Burnus  <burnus@net-b.de>\n \n \t* gfortran.dg/io_constraints_3.f90: Fixed by using -fmax-errors."}, {"sha": "0c6736cdecf801959ee2ee2acee8bc613ad5b1ff", "filename": "gcc/testsuite/gcc.dg/builtins-20.c", "status": "modified", "additions": 33, "deletions": 36, "changes": 69, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/282530ce3669272f75dc9e511736315377f4b518/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltins-20.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/282530ce3669272f75dc9e511736315377f4b518/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltins-20.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltins-20.c?ref=282530ce3669272f75dc9e511736315377f4b518", "patch": "@@ -15,16 +15,19 @@\n extern double cos (double);\n extern double sin (double);\n extern double tan (double);\n+extern double fabs (double);\n extern double hypot (double, double);\n extern double pure (double) __attribute__ ((__pure__));\n extern float cosf (float);\n extern float sinf (float);\n extern float tanf (float);\n+extern float fabsf (float);\n extern float hypotf (float, float);\n extern float puref (float) __attribute__ ((__pure__));\n extern long double cosl (long double);\n extern long double sinl (long double);\n extern long double tanl (long double);\n+extern long double fabsl (long double);\n extern long double hypotl (long double, long double);\n extern long double purel (long double) __attribute__ ((__pure__));\n \n@@ -62,13 +65,13 @@ void test2(double x, double y)\n   if (-sin(x-y) != sin(y-x))\n     link_error ();\n \n-  if (hypot (x, 0) != __builtin_fabs(x))\n+  if (hypot (x, 0) != fabs(x))\n     link_error ();\n \n-  if (hypot (0, x) != __builtin_fabs(x))\n+  if (hypot (0, x) != fabs(x))\n     link_error ();\n \n-  if (hypot (x, x) != __builtin_fabs(x) * __builtin_sqrt(2))\n+  if (hypot (x, x) != fabs(x) * __builtin_sqrt(2))\n     link_error ();\n \n   if (hypot (-x, y) != hypot (x, y))\n@@ -80,27 +83,25 @@ void test2(double x, double y)\n   if (hypot (-x, -y) != hypot (x, y))\n     link_error ();\n \n-  if (hypot (__builtin_fabs(x), y) != hypot (x, y))\n+  if (hypot (fabs(x), y) != hypot (x, y))\n     link_error ();\n \n-  if (hypot (x, __builtin_fabs(y)) != hypot (x, y))\n+  if (hypot (x, fabs(y)) != hypot (x, y))\n     link_error ();\n \n-  if (hypot (__builtin_fabs(x), __builtin_fabs(y)) != hypot (x, y))\n+  if (hypot (fabs(x), fabs(y)) != hypot (x, y))\n     link_error ();\n \n-  if (hypot (-__builtin_fabs(-x),\n-\t     -__builtin_fabs(__builtin_fabs(__builtin_fabs(-y))))\n-      != hypot (x, y))\n+  if (hypot (-fabs(-x), -fabs(fabs(fabs(-y)))) != hypot (x, y))\n     link_error ();\n \n-  if (hypot (-x, 0) != __builtin_fabs(x))\n+  if (hypot (-x, 0) != fabs(x))\n     link_error ();\n \n-  if (hypot (-x, x) != __builtin_fabs(x) * __builtin_sqrt(2))\n+  if (hypot (-x, x) != fabs(x) * __builtin_sqrt(2))\n     link_error ();\n \n-  if (hypot (pure(x), -pure(x)) != __builtin_fabs(pure(x)) * __builtin_sqrt(2))\n+  if (hypot (pure(x), -pure(x)) != fabs(pure(x)) * __builtin_sqrt(2))\n     link_error ();\n }\n \n@@ -138,13 +139,13 @@ void test2f(float x, float y)\n   if (-sinf(x-y) != sinf(y-x))\n     link_error ();\n \n-  if (hypotf (x, 0) != __builtin_fabsf(x))\n+  if (hypotf (x, 0) != fabsf(x))\n     link_error ();\n \n-  if (hypotf (0, x) != __builtin_fabsf(x))\n+  if (hypotf (0, x) != fabsf(x))\n     link_error ();\n \n-  if (hypotf (x, x) != __builtin_fabsf(x) * __builtin_sqrtf(2))\n+  if (hypotf (x, x) != fabsf(x) * __builtin_sqrtf(2))\n     link_error ();\n \n   if (hypotf (-x, y) != hypotf (x, y))\n@@ -156,27 +157,25 @@ void test2f(float x, float y)\n   if (hypotf (-x, -y) != hypotf (x, y))\n     link_error ();\n \n-  if (hypotf (__builtin_fabsf(x), y) != hypotf (x, y))\n+  if (hypotf (fabsf(x), y) != hypotf (x, y))\n     link_error ();\n \n-  if (hypotf (x, __builtin_fabsf(y)) != hypotf (x, y))\n+  if (hypotf (x, fabsf(y)) != hypotf (x, y))\n     link_error ();\n \n-  if (hypotf (__builtin_fabsf(x), __builtin_fabsf(y)) != hypotf (x, y))\n+  if (hypotf (fabsf(x), fabsf(y)) != hypotf (x, y))\n     link_error ();\n \n-  if (hypotf (-__builtin_fabsf(-x),\n-\t      -__builtin_fabsf(__builtin_fabsf(__builtin_fabsf(-y))))\n-      != hypotf (x, y))\n+  if (hypotf (-fabsf(-x), -fabsf(fabsf(fabsf(-y)))) != hypotf (x, y))\n     link_error ();\n \n-  if (hypotf (-x, 0) != __builtin_fabsf(x))\n+  if (hypotf (-x, 0) != fabsf(x))\n     link_error ();\n \n-  if (hypotf (-x, x) != __builtin_fabsf(x) * __builtin_sqrtf(2))\n+  if (hypotf (-x, x) != fabsf(x) * __builtin_sqrtf(2))\n     link_error ();\n \n-  if (hypotf (puref(x), -puref(x)) != __builtin_fabsf(puref(x)) * __builtin_sqrtf(2))\n+  if (hypotf (puref(x), -puref(x)) != fabsf(puref(x)) * __builtin_sqrtf(2))\n     link_error ();\n }\n \n@@ -215,13 +214,13 @@ void test2l(long double x, long double y)\n   if (-sinl(x-y) != sinl(y-x))\n     link_error ();\n \n-  if (hypotl (x, 0) != __builtin_fabsl(x))\n+  if (hypotl (x, 0) != fabsl(x))\n     link_error ();\n \n-  if (hypotl (0, x) != __builtin_fabsl(x))\n+  if (hypotl (0, x) != fabsl(x))\n     link_error ();\n \n-  if (hypotl (x, x) != __builtin_fabsl(x) * __builtin_sqrtl(2))\n+  if (hypotl (x, x) != fabsl(x) * __builtin_sqrtl(2))\n     link_error ();\n \n   if (hypotl (-x, y) != hypotl (x, y))\n@@ -233,27 +232,25 @@ void test2l(long double x, long double y)\n   if (hypotl (-x, -y) != hypotl (x, y))\n     link_error ();\n \n-  if (hypotl (__builtin_fabsl(x), y) != hypotl (x, y))\n+  if (hypotl (fabsl(x), y) != hypotl (x, y))\n     link_error ();\n \n-  if (hypotl (x, __builtin_fabsl(y)) != hypotl (x, y))\n+  if (hypotl (x, fabsl(y)) != hypotl (x, y))\n     link_error ();\n \n-  if (hypotl (__builtin_fabsl(x), __builtin_fabsl(y)) != hypotl (x, y))\n+  if (hypotl (fabsl(x), fabsl(y)) != hypotl (x, y))\n     link_error ();\n \n-  if (hypotl (-__builtin_fabsl(-x),\n-\t      -__builtin_fabsl(__builtin_fabsl(__builtin_fabsl(-y))))\n-      != hypotl (x, y))\n+  if (hypotl (-fabsl(-x), -fabsl(fabsl(fabsl(-y)))) != hypotl (x, y))\n     link_error ();\n \n-  if (hypotl (-x, 0) != __builtin_fabsl(x))\n+  if (hypotl (-x, 0) != fabsl(x))\n     link_error ();\n \n-  if (hypotl (-x, x) != __builtin_fabsl(x) * __builtin_sqrtl(2))\n+  if (hypotl (-x, x) != fabsl(x) * __builtin_sqrtl(2))\n     link_error ();\n \n-  if (hypotl (purel(x), -purel(x)) != __builtin_fabsl(purel(x)) * __builtin_sqrtl(2))\n+  if (hypotl (purel(x), -purel(x)) != fabsl(purel(x)) * __builtin_sqrtl(2))\n     link_error ();\n }\n "}]}