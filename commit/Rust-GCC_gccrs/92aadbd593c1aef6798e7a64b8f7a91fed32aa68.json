{"sha": "92aadbd593c1aef6798e7a64b8f7a91fed32aa68", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTJhYWRiZDU5M2MxYWVmNjc5OGU3YTY0YjhmN2E5MWZlZDMyYWE2OA==", "commit": {"author": {"name": "Maxim Kuvyrkov", "email": "maxim.kuvyrkov@linaro.org", "date": "2019-08-29T15:27:30Z"}, "committer": {"name": "Maxim Kuvyrkov", "email": "maxim.kuvyrkov@linaro.org", "date": "2021-08-17T10:05:20Z"}, "message": "Improve diff-ability of scheduler logs\n\n\t* haifa-sched.c (advance_one_cycle): Output more context-synchronization\n\tlines for diff.", "tree": {"sha": "5b29757fa9a6b0a9c1cde074b9571b0b3e1ba3c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5b29757fa9a6b0a9c1cde074b9571b0b3e1ba3c4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/92aadbd593c1aef6798e7a64b8f7a91fed32aa68", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92aadbd593c1aef6798e7a64b8f7a91fed32aa68", "html_url": "https://github.com/Rust-GCC/gccrs/commit/92aadbd593c1aef6798e7a64b8f7a91fed32aa68", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92aadbd593c1aef6798e7a64b8f7a91fed32aa68/comments", "author": {"login": "maxim-kuvyrkov", "id": 12545699, "node_id": "MDQ6VXNlcjEyNTQ1Njk5", "avatar_url": "https://avatars.githubusercontent.com/u/12545699?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maxim-kuvyrkov", "html_url": "https://github.com/maxim-kuvyrkov", "followers_url": "https://api.github.com/users/maxim-kuvyrkov/followers", "following_url": "https://api.github.com/users/maxim-kuvyrkov/following{/other_user}", "gists_url": "https://api.github.com/users/maxim-kuvyrkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/maxim-kuvyrkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maxim-kuvyrkov/subscriptions", "organizations_url": "https://api.github.com/users/maxim-kuvyrkov/orgs", "repos_url": "https://api.github.com/users/maxim-kuvyrkov/repos", "events_url": "https://api.github.com/users/maxim-kuvyrkov/events{/privacy}", "received_events_url": "https://api.github.com/users/maxim-kuvyrkov/received_events", "type": "User", "site_admin": false}, "committer": {"login": "maxim-kuvyrkov", "id": 12545699, "node_id": "MDQ6VXNlcjEyNTQ1Njk5", "avatar_url": "https://avatars.githubusercontent.com/u/12545699?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maxim-kuvyrkov", "html_url": "https://github.com/maxim-kuvyrkov", "followers_url": "https://api.github.com/users/maxim-kuvyrkov/followers", "following_url": "https://api.github.com/users/maxim-kuvyrkov/following{/other_user}", "gists_url": "https://api.github.com/users/maxim-kuvyrkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/maxim-kuvyrkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maxim-kuvyrkov/subscriptions", "organizations_url": "https://api.github.com/users/maxim-kuvyrkov/orgs", "repos_url": "https://api.github.com/users/maxim-kuvyrkov/repos", "events_url": "https://api.github.com/users/maxim-kuvyrkov/events{/privacy}", "received_events_url": "https://api.github.com/users/maxim-kuvyrkov/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "75b1c753133162cc15cd705825315767e63f071e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75b1c753133162cc15cd705825315767e63f071e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/75b1c753133162cc15cd705825315767e63f071e"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "e14051f4c0744c0ecb541cb7f97fdd40604fb7c4", "filename": "gcc/haifa-sched.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/92aadbd593c1aef6798e7a64b8f7a91fed32aa68/gcc%2Fhaifa-sched.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/92aadbd593c1aef6798e7a64b8f7a91fed32aa68/gcc%2Fhaifa-sched.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fhaifa-sched.c?ref=92aadbd593c1aef6798e7a64b8f7a91fed32aa68", "patch": "@@ -3155,9 +3155,11 @@ advance_state (state_t state)\n HAIFA_INLINE static void\n advance_one_cycle (void)\n {\n+  int i;\n+\n   advance_state (curr_state);\n-  if (sched_verbose >= 4)\n-    fprintf (sched_dump, \";;\\tAdvance the current state.\\n\");\n+  for (i = 4; i <= sched_verbose; ++i)\n+    fprintf (sched_dump, \";;\\tAdvance the current state: %d.\\n\", clock_var);\n }\n \n /* Update register pressure after scheduling INSN.  */"}]}