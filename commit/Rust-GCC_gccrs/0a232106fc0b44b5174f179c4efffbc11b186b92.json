{"sha": "0a232106fc0b44b5174f179c4efffbc11b186b92", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGEyMzIxMDZmYzBiNDRiNTE3NGYxNzljNGVmZmZiYzExYjE4NmI5Mg==", "commit": {"author": {"name": "Manfred Hollstein", "email": "manfred@s-direktnet.de", "date": "1997-12-09T07:55:17Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-12-09T07:55:17Z"}, "message": "configure.in: Check for functions getrlimit and setrlimit.\n\n        * configure.in: Check for functions getrlimit and setrlimit.\n        * cccp.c (main): Check HAVE_GETRLIMIT and HAVE_SETRLIMIT in addition\n        to RLIMIT_STACK to see if we can call getrlimit and setrlimit.\n\nFrom-SVN: r17023", "tree": {"sha": "fe959be91e4bf1b2f000503e3b3bd557118c051d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fe959be91e4bf1b2f000503e3b3bd557118c051d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0a232106fc0b44b5174f179c4efffbc11b186b92", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0a232106fc0b44b5174f179c4efffbc11b186b92", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0a232106fc0b44b5174f179c4efffbc11b186b92", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0a232106fc0b44b5174f179c4efffbc11b186b92/comments", "author": null, "committer": null, "parents": [{"sha": "67437d5b5df323841758f4fecd2ed28f8c1f68a2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/67437d5b5df323841758f4fecd2ed28f8c1f68a2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/67437d5b5df323841758f4fecd2ed28f8c1f68a2"}], "stats": {"total": 168, "additions": 143, "deletions": 25}, "files": [{"sha": "8447f251a7581fb19393e5c0f506362f7acc49ba", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0a232106fc0b44b5174f179c4efffbc11b186b92/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0a232106fc0b44b5174f179c4efffbc11b186b92/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0a232106fc0b44b5174f179c4efffbc11b186b92", "patch": "@@ -1,3 +1,9 @@\n+Tue Dec  9 00:57:38 1997  Manfred Hollstein  <manfred@s-direktnet.de>\n+\n+\t* configure.in: Check for functions getrlimit and setrlimit.\n+\t* cccp.c (main): Check HAVE_GETRLIMIT and HAVE_SETRLIMIT in addition\n+\tto RLIMIT_STACK to see if we can call getrlimit and setrlimit.\n+\n Mon Dec  8 23:53:26 1997  Jay Sachs <sachs@bull.cs.williams.edu>\n \n \t* Makefile.in (compare*): Handle losing behavior from 4.4bsd make."}, {"sha": "381d5e9aae17229c1dcc83ec455412a3adbd7d18", "filename": "gcc/cccp.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0a232106fc0b44b5174f179c4efffbc11b186b92/gcc%2Fcccp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0a232106fc0b44b5174f179c4efffbc11b186b92/gcc%2Fcccp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcccp.c?ref=0a232106fc0b44b5174f179c4efffbc11b186b92", "patch": "@@ -1230,7 +1230,7 @@ main (argc, argv)\n   /* Target-name to write with the dependency information.  */\n   char *deps_target = 0;\n \n-#ifdef RLIMIT_STACK\n+#if defined (RLIMIT_STACK) && defined (HAVE_GETRLIMIT) && defined (HAVE_SETRLIMIT)\n   /* Get rid of any avoidable limit on stack size.  */\n   {\n     struct rlimit rlim;"}, {"sha": "0c0dfd4f0a235f3bda6004ddaee9d72fbc6265e3", "filename": "gcc/configure", "status": "modified", "additions": 134, "deletions": 24, "changes": 158, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0a232106fc0b44b5174f179c4efffbc11b186b92/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0a232106fc0b44b5174f179c4efffbc11b186b92/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=0a232106fc0b44b5174f179c4efffbc11b186b92", "patch": "@@ -2415,14 +2415,124 @@ else\n fi\n done\n \n+for ac_func in getrlimit\n+do\n+echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n+echo \"configure:2422: checking for $ac_func\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 2427 \"configure\"\n+#include \"confdefs.h\"\n+/* System header to define __stub macros and hopefully few prototypes,\n+    which can conflict with char $ac_func(); below.  */\n+#include <assert.h>\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+/* We use char because int might match the return type of a gcc2\n+    builtin and then its argument prototype would still apply.  */\n+char $ac_func();\n+\n+int main() {\n+\n+/* The GNU C library defines this for functions which it implements\n+    to always fail with ENOSYS.  Some functions are actually named\n+    something starting with __ and the normal name is an alias.  */\n+#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n+choke me\n+#else\n+$ac_func();\n+#endif\n+\n+; return 0; }\n+EOF\n+if { (eval echo configure:2450: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+  rm -rf conftest*\n+  eval \"ac_cv_func_$ac_func=yes\"\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  eval \"ac_cv_func_$ac_func=no\"\n+fi\n+rm -f conftest*\n+fi\n+\n+if eval \"test \\\"`echo '$ac_cv_func_'$ac_func`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n+  cat >> confdefs.h <<EOF\n+#define $ac_tr_func 1\n+EOF\n+ \n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+done\n+\n+for ac_func in setrlimit\n+do\n+echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n+echo \"configure:2477: checking for $ac_func\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 2482 \"configure\"\n+#include \"confdefs.h\"\n+/* System header to define __stub macros and hopefully few prototypes,\n+    which can conflict with char $ac_func(); below.  */\n+#include <assert.h>\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+/* We use char because int might match the return type of a gcc2\n+    builtin and then its argument prototype would still apply.  */\n+char $ac_func();\n+\n+int main() {\n+\n+/* The GNU C library defines this for functions which it implements\n+    to always fail with ENOSYS.  Some functions are actually named\n+    something starting with __ and the normal name is an alias.  */\n+#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n+choke me\n+#else\n+$ac_func();\n+#endif\n+\n+; return 0; }\n+EOF\n+if { (eval echo configure:2505: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+  rm -rf conftest*\n+  eval \"ac_cv_func_$ac_func=yes\"\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  eval \"ac_cv_func_$ac_func=no\"\n+fi\n+rm -f conftest*\n+fi\n+\n+if eval \"test \\\"`echo '$ac_cv_func_'$ac_func`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n+  cat >> confdefs.h <<EOF\n+#define $ac_tr_func 1\n+EOF\n+ \n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+done\n+\n \n echo $ac_n \"checking whether malloc must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2421: checking whether malloc must be declared\" >&5\n+echo \"configure:2531: checking whether malloc must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_malloc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2426 \"configure\"\n+#line 2536 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2449,7 +2559,7 @@ int main() {\n char *(*pfn) = (char *(*)) malloc\n ; return 0; }\n EOF\n-if { (eval echo configure:2453: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2563: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_malloc=no\n else\n@@ -2471,12 +2581,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether realloc must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2475: checking whether realloc must be declared\" >&5\n+echo \"configure:2585: checking whether realloc must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_realloc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2480 \"configure\"\n+#line 2590 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2503,7 +2613,7 @@ int main() {\n char *(*pfn) = (char *(*)) realloc\n ; return 0; }\n EOF\n-if { (eval echo configure:2507: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2617: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_realloc=no\n else\n@@ -2525,12 +2635,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether calloc must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2529: checking whether calloc must be declared\" >&5\n+echo \"configure:2639: checking whether calloc must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_calloc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2534 \"configure\"\n+#line 2644 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2557,7 +2667,7 @@ int main() {\n char *(*pfn) = (char *(*)) calloc\n ; return 0; }\n EOF\n-if { (eval echo configure:2561: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2671: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_calloc=no\n else\n@@ -2579,12 +2689,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether free must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2583: checking whether free must be declared\" >&5\n+echo \"configure:2693: checking whether free must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_free'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2588 \"configure\"\n+#line 2698 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2611,7 +2721,7 @@ int main() {\n char *(*pfn) = (char *(*)) free\n ; return 0; }\n EOF\n-if { (eval echo configure:2615: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2725: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_free=no\n else\n@@ -2633,12 +2743,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether index must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2637: checking whether index must be declared\" >&5\n+echo \"configure:2747: checking whether index must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_index'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2642 \"configure\"\n+#line 2752 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2665,7 +2775,7 @@ int main() {\n char *(*pfn) = (char *(*)) index\n ; return 0; }\n EOF\n-if { (eval echo configure:2669: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2779: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_index=no\n else\n@@ -2687,12 +2797,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether rindex must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2691: checking whether rindex must be declared\" >&5\n+echo \"configure:2801: checking whether rindex must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_rindex'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2696 \"configure\"\n+#line 2806 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2719,7 +2829,7 @@ int main() {\n char *(*pfn) = (char *(*)) rindex\n ; return 0; }\n EOF\n-if { (eval echo configure:2723: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2833: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_rindex=no\n else\n@@ -2741,12 +2851,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether getenv must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2745: checking whether getenv must be declared\" >&5\n+echo \"configure:2855: checking whether getenv must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_getenv'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2750 \"configure\"\n+#line 2860 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2773,7 +2883,7 @@ int main() {\n char *(*pfn) = (char *(*)) getenv\n ; return 0; }\n EOF\n-if { (eval echo configure:2777: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2887: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_getenv=no\n else\n@@ -2796,12 +2906,12 @@ fi\n \n \n echo $ac_n \"checking for sys_siglist declaration in signal.h or unistd.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2800: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n+echo \"configure:2910: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_decl_sys_siglist'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2805 \"configure\"\n+#line 2915 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <signal.h>\n@@ -2813,7 +2923,7 @@ int main() {\n char *msg = *(sys_siglist + 1);\n ; return 0; }\n EOF\n-if { (eval echo configure:2817: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2927: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_decl_sys_siglist=yes\n else"}, {"sha": "30fed7002ae4e8f71d1d3cccca4d2a82f364eacc", "filename": "gcc/configure.in", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0a232106fc0b44b5174f179c4efffbc11b186b92/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0a232106fc0b44b5174f179c4efffbc11b186b92/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=0a232106fc0b44b5174f179c4efffbc11b186b92", "patch": "@@ -172,6 +172,8 @@ AC_CHECK_FUNCS(bcmp)\n AC_CHECK_FUNCS(index)\n AC_CHECK_FUNCS(rindex)\n AC_CHECK_FUNCS(kill)\n+AC_CHECK_FUNCS(getrlimit)\n+AC_CHECK_FUNCS(setrlimit)\n \n GCC_NEED_DECLARATION(malloc)\n GCC_NEED_DECLARATION(realloc)"}]}