{"sha": "7a93476d9b549e394df74cb531febab5b164988b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2E5MzQ3NmQ5YjU0OWUzOTRkZjc0Y2I1MzFmZWJhYjViMTY0OTg4Yg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2002-01-09T23:22:20Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2002-01-09T23:22:20Z"}, "message": "For PR libgcj/5303:\n\n\t* jargrep.h: Removed RCS keywords.\n\t(GVERSION): Removed.\n\t* configure, Makefile.in, config.h.in: Rebuilt.\n\t* configure.in: Added AM_MAINTAINER_MODE.\n\tDon't look for getopt.h.  Use `fastjar' as package name.\n\t* Makefile.am (INCLUDES): Look in ../include.\n\t(LIBIBERTY): New macro.\n\t(jar_LDADD): Use it.\n\t(jar_DEPENDENCIES): Likewise.\n\t(grepjar_LDADD): Likewise.\n\t(grepjar_DEPENDENCIES): Likewise.\n\t* jargrep.c: Removed RCS keywords.  Always include getopt.h.\n\t(LONG_OPT): New macro.\n\t(OPT_HELP): Likewise.\n\t(main): Use getopt_long.  Let getopt print invalid argument\n\tmessage.  Handle --help.  Use version().\n\t(version): New function.\n\t(optarg, optind): Don't declare.\n\t(option_vec): New global.\n\t(help): New function.\n\t(Usage): Updated to GNU standards.\n\t* jartool.c: Removed RCS keywords.  Include getopt.h.\n\t(LONG_OPT): New macro.\n\t(OPT_HELP): Likewise.\n\t(options): New global.\n\t(help): New function.\n\t(usage): Print a single line.\n\t(version): New function.\n\t(expand_options): New function.\n\t(main): Use getopt_long and expand_options.  Fail if `-u'\n\tspecified.  Changed handling of -f, -m, -V options.\n\t(OPTION_STRING): New macro.\n\t(version_string): Removed.\n\nFrom-SVN: r48697", "tree": {"sha": "4ec2ce790b230d37a09abdcb0794c0003dd70c6b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4ec2ce790b230d37a09abdcb0794c0003dd70c6b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7a93476d9b549e394df74cb531febab5b164988b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a93476d9b549e394df74cb531febab5b164988b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a93476d9b549e394df74cb531febab5b164988b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a93476d9b549e394df74cb531febab5b164988b/comments", "author": null, "committer": null, "parents": [{"sha": "1d9696384f209e37adf866ef11b2dce8724e51c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d9696384f209e37adf866ef11b2dce8724e51c4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d9696384f209e37adf866ef11b2dce8724e51c4"}], "stats": {"total": 802, "additions": 580, "deletions": 222}, "files": [{"sha": "26089d84fb1aa0194525947e5790df4a9a628456", "filename": "fastjar/ChangeLog", "status": "modified", "additions": 37, "deletions": 0, "changes": 37, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a93476d9b549e394df74cb531febab5b164988b/fastjar%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a93476d9b549e394df74cb531febab5b164988b/fastjar%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2FChangeLog?ref=7a93476d9b549e394df74cb531febab5b164988b", "patch": "@@ -1,3 +1,40 @@\n+2002-01-09  Tom Tromey  <tromey@redhat.com>\n+\n+\tFor PR libgcj/5303:\n+\t* jargrep.h: Removed RCS keywords.\n+\t(GVERSION): Removed.\n+\t* configure, Makefile.in, config.h.in: Rebuilt.\n+\t* configure.in: Added AM_MAINTAINER_MODE.\n+\tDon't look for getopt.h.  Use `fastjar' as package name.\n+\t* Makefile.am (INCLUDES): Look in ../include.\n+\t(LIBIBERTY): New macro.\n+\t(jar_LDADD): Use it.\n+\t(jar_DEPENDENCIES): Likewise.\n+\t(grepjar_LDADD): Likewise.\n+\t(grepjar_DEPENDENCIES): Likewise.\n+\t* jargrep.c: Removed RCS keywords.  Always include getopt.h.\n+\t(LONG_OPT): New macro.\n+\t(OPT_HELP): Likewise.\n+\t(main): Use getopt_long.  Let getopt print invalid argument\n+\tmessage.  Handle --help.  Use version().\n+\t(version): New function.\n+\t(optarg, optind): Don't declare.\n+\t(option_vec): New global.\n+\t(help): New function.\n+\t(Usage): Updated to GNU standards.\n+\t* jartool.c: Removed RCS keywords.  Include getopt.h.\n+\t(LONG_OPT): New macro.\n+\t(OPT_HELP): Likewise.\n+\t(options): New global.\n+\t(help): New function.\n+\t(usage): Print a single line.\n+\t(version): New function.\n+\t(expand_options): New function.\n+\t(main): Use getopt_long and expand_options.  Fail if `-u'\n+\tspecified.  Changed handling of -f, -m, -V options.\n+\t(OPTION_STRING): New macro.\n+\t(version_string): Removed.\n+\n 2001-01-02  Craig Rodrigues  <rodrigc@gcc.gnu.org>\n \n \tPR bootstrap/5117"}, {"sha": "734786bbfde714c3c89d99f1c83ab176efcd642c", "filename": "fastjar/Makefile.am", "status": "modified", "additions": 12, "deletions": 7, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a93476d9b549e394df74cb531febab5b164988b/fastjar%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a93476d9b549e394df74cb531febab5b164988b/fastjar%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2FMakefile.am?ref=7a93476d9b549e394df74cb531febab5b164988b", "patch": "@@ -38,14 +38,19 @@ AM_MAKEFLAGS = \\\n \t\"RANLIB=$(RANLIB)\" \\\n \t\"DESTDIR=$(DESTDIR)\"\n \n-INCLUDES = -I. -I$(top_srcdir) $(ZINCS)\n+INCLUDES = -I. -I$(top_srcdir) $(ZINCS) -I$(top_srcdir)/../include\n+\n+LIBIBERTY = ../libiberty/libiberty.a\n \n bin_PROGRAMS = jar grepjar\n-jar_SOURCES = jartool.c dostime.c compress.c pushback.c jartool.h zipfile.h dostime.h compress.h pushback.h\n-jar_LDADD = $(ZLIBS)\n-jar_DEPENDENCIES = $(ZDEPS)\n-grepjar_SOURCES = jargrep.c dostime.c compress.c pushback.c jartool.h zipfile.h dostime.h compress.h pushback.h\n-grepjar_LDADD = $(ZLIBS)\n-grepjar_DEPENDENCIES = $(ZDEPS)\n+jar_SOURCES = jartool.c dostime.c compress.c pushback.c jartool.h \\\n+zipfile.h dostime.h compress.h pushback.h\n+jar_LDADD = $(ZLIBS) $(LIBIBERTY)\n+jar_DEPENDENCIES = $(ZDEPS) $(LIBIBERTY)\n+\n+grepjar_SOURCES = jargrep.c dostime.c compress.c pushback.c jartool.h \\\n+zipfile.h dostime.h compress.h pushback.h\n+grepjar_LDADD = $(ZLIBS) $(LIBIBERTY)\n+grepjar_DEPENDENCIES = $(ZDEPS) $(LIBIBERTY)\n \n AM_CFLAGS = @fastjar_warn_cflags@"}, {"sha": "83f1e1fa6de722859718b9eab8eb637375cb3efb", "filename": "fastjar/Makefile.in", "status": "modified", "additions": 108, "deletions": 28, "changes": 136, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a93476d9b549e394df74cb531febab5b164988b/fastjar%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a93476d9b549e394df74cb531febab5b164988b/fastjar%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2FMakefile.in?ref=7a93476d9b549e394df74cb531febab5b164988b", "patch": "@@ -67,6 +67,7 @@ CC = @CC@\n CHMOD = @CHMOD@\n CP = @CP@\n EXEEXT = @EXEEXT@\n+MAINT = @MAINT@\n MAKEINFO = @MAKEINFO@\n PACKAGE = @PACKAGE@\n RM = @RM@\n@@ -77,18 +78,58 @@ ZINCS = @ZINCS@\n ZLIBS = @ZLIBS@\n fastjar_warn_cflags = @fastjar_warn_cflags@\n \n-AM_MAKEFLAGS =  \t\"AR_FLAGS=$(AR_FLAGS)\" \t\"CC_FOR_BUILD=$(CC_FOR_BUILD)\" \t\"CFLAGS=$(CFLAGS)\" \t\"CXXFLAGS=$(CXXFLAGS)\" \t\"CFLAGS_FOR_BUILD=$(CFLAGS_FOR_BUILD)\" \t\"CFLAGS_FOR_TARGET=$(CFLAGS_FOR_TARGET)\" \t\"INSTALL=$(INSTALL)\" \t\"INSTALL_DATA=$(INSTALL_DATA)\" \t\"INSTALL_PROGRAM=$(INSTALL_PROGRAM)\" \t\"INSTALL_SCRIPT=$(INSTALL_SCRIPT)\" \t\"JC1FLAGS=$(JC1FLAGS)\" \t\"LDFLAGS=$(LDFLAGS)\" \t\"LIBCFLAGS=$(LIBCFLAGS)\" \t\"LIBCFLAGS_FOR_TARGET=$(LIBCFLAGS_FOR_TARGET)\" \t\"MAKE=$(MAKE)\" \t\"MAKEINFO=$(MAKEINFO) $(MAKEINFOFLAGS)\" \t\"PICFLAG=$(PICFLAG)\" \t\"PICFLAG_FOR_TARGET=$(PICFLAG_FOR_TARGET)\" \t\"SHELL=$(SHELL)\" \t\"exec_prefix=$(exec_prefix)\" \t\"infodir=$(infodir)\" \t\"libdir=$(libdir)\" \t\"prefix=$(prefix)\" \t\"AR=$(AR)\" \t\"AS=$(AS)\" \t\"CC=$(CC)\" \t\"CXX=$(CXX)\" \t\"LD=$(LD)\" \t\"LIBCFLAGS=$(LIBCFLAGS)\" \t\"NM=$(NM)\" \t\"PICFLAG=$(PICFLAG)\" \t\"RANLIB=$(RANLIB)\" \t\"DESTDIR=$(DESTDIR)\"\n+AM_MAKEFLAGS = \\\n+\t\"AR_FLAGS=$(AR_FLAGS)\" \\\n+\t\"CC_FOR_BUILD=$(CC_FOR_BUILD)\" \\\n+\t\"CFLAGS=$(CFLAGS)\" \\\n+\t\"CXXFLAGS=$(CXXFLAGS)\" \\\n+\t\"CFLAGS_FOR_BUILD=$(CFLAGS_FOR_BUILD)\" \\\n+\t\"CFLAGS_FOR_TARGET=$(CFLAGS_FOR_TARGET)\" \\\n+\t\"INSTALL=$(INSTALL)\" \\\n+\t\"INSTALL_DATA=$(INSTALL_DATA)\" \\\n+\t\"INSTALL_PROGRAM=$(INSTALL_PROGRAM)\" \\\n+\t\"INSTALL_SCRIPT=$(INSTALL_SCRIPT)\" \\\n+\t\"JC1FLAGS=$(JC1FLAGS)\" \\\n+\t\"LDFLAGS=$(LDFLAGS)\" \\\n+\t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n+\t\"LIBCFLAGS_FOR_TARGET=$(LIBCFLAGS_FOR_TARGET)\" \\\n+\t\"MAKE=$(MAKE)\" \\\n+\t\"MAKEINFO=$(MAKEINFO) $(MAKEINFOFLAGS)\" \\\n+\t\"PICFLAG=$(PICFLAG)\" \\\n+\t\"PICFLAG_FOR_TARGET=$(PICFLAG_FOR_TARGET)\" \\\n+\t\"SHELL=$(SHELL)\" \\\n+\t\"exec_prefix=$(exec_prefix)\" \\\n+\t\"infodir=$(infodir)\" \\\n+\t\"libdir=$(libdir)\" \\\n+\t\"prefix=$(prefix)\" \\\n+\t\"AR=$(AR)\" \\\n+\t\"AS=$(AS)\" \\\n+\t\"CC=$(CC)\" \\\n+\t\"CXX=$(CXX)\" \\\n+\t\"LD=$(LD)\" \\\n+\t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n+\t\"NM=$(NM)\" \\\n+\t\"PICFLAG=$(PICFLAG)\" \\\n+\t\"RANLIB=$(RANLIB)\" \\\n+\t\"DESTDIR=$(DESTDIR)\"\n+\n+\n+INCLUDES = -I. -I$(top_srcdir) $(ZINCS) -I$(top_srcdir)/../include\n+\n+LIBIBERTY = ../libiberty/libiberty.a\n \n+bin_PROGRAMS = jar grepjar\n+jar_SOURCES = jartool.c dostime.c compress.c pushback.c jartool.h \\\n+zipfile.h dostime.h compress.h pushback.h\n \n-INCLUDES = -I. -I$(top_srcdir) $(ZINCS)\n+jar_LDADD = $(ZLIBS) $(LIBIBERTY)\n+jar_DEPENDENCIES = $(ZDEPS) $(LIBIBERTY)\n \n-bin_PROGRAMS = jar grepjar\n-jar_SOURCES = jartool.c dostime.c compress.c pushback.c jartool.h zipfile.h dostime.h compress.h pushback.h\n-jar_LDADD = $(ZLIBS)\n-jar_DEPENDENCIES = $(ZDEPS)\n-grepjar_SOURCES = jargrep.c dostime.c compress.c pushback.c jartool.h zipfile.h dostime.h compress.h pushback.h\n-grepjar_LDADD = $(ZLIBS)\n-grepjar_DEPENDENCIES = $(ZDEPS)\n+grepjar_SOURCES = jargrep.c dostime.c compress.c pushback.c jartool.h \\\n+zipfile.h dostime.h compress.h pushback.h\n+\n+grepjar_LDADD = $(ZLIBS) $(LIBIBERTY)\n+grepjar_DEPENDENCIES = $(ZDEPS) $(LIBIBERTY)\n \n AM_CFLAGS = @fastjar_warn_cflags@\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n@@ -118,27 +159,29 @@ configure.in install-defs.sh.in install-sh missing mkinstalldirs\n \n DISTFILES = $(DIST_COMMON) $(SOURCES) $(HEADERS) $(TEXINFOS) $(EXTRA_DIST)\n \n-TAR = gtar\n+TAR = tar\n GZIP_ENV = --best\n+DEP_FILES =  .deps/compress.P .deps/dostime.P .deps/jargrep.P \\\n+.deps/jartool.P .deps/pushback.P\n SOURCES = $(jar_SOURCES) $(grepjar_SOURCES)\n OBJECTS = $(jar_OBJECTS) $(grepjar_OBJECTS)\n \n all: all-redirect\n .SUFFIXES:\n .SUFFIXES: .S .c .o .s\n-$(srcdir)/Makefile.in: Makefile.am $(top_srcdir)/configure.in $(ACLOCAL_M4) \n-\tcd $(top_srcdir) && $(AUTOMAKE) --gnu --include-deps Makefile\n+$(srcdir)/Makefile.in: @MAINTAINER_MODE_TRUE@ Makefile.am $(top_srcdir)/configure.in $(ACLOCAL_M4) \n+\tcd $(top_srcdir) && $(AUTOMAKE) --gnu Makefile\n \n-Makefile: $(srcdir)/Makefile.in  $(top_builddir)/config.status\n+Makefile: $(srcdir)/Makefile.in  $(top_builddir)/config.status $(BUILT_SOURCES)\n \tcd $(top_builddir) \\\n \t  && CONFIG_FILES=$@ CONFIG_HEADERS= $(SHELL) ./config.status\n \n-$(ACLOCAL_M4):  configure.in \n+$(ACLOCAL_M4): @MAINTAINER_MODE_TRUE@ configure.in \n \tcd $(srcdir) && $(ACLOCAL)\n \n config.status: $(srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)\n \t$(SHELL) ./config.status --recheck\n-$(srcdir)/configure: $(srcdir)/configure.in $(ACLOCAL_M4) $(CONFIGURE_DEPENDENCIES)\n+$(srcdir)/configure: @MAINTAINER_MODE_TRUE@$(srcdir)/configure.in $(ACLOCAL_M4) $(CONFIGURE_DEPENDENCIES)\n \tcd $(srcdir) && $(AUTOCONF)\n \n config.h: stamp-h\n@@ -151,7 +194,7 @@ stamp-h: $(srcdir)/config.h.in $(top_builddir)/config.status\n \t  && CONFIG_FILES= CONFIG_HEADERS=config.h \\\n \t     $(SHELL) ./config.status\n \t@echo timestamp > stamp-h 2> /dev/null\n-$(srcdir)/config.h.in: $(srcdir)/stamp-h.in\n+$(srcdir)/config.h.in: @MAINTAINER_MODE_TRUE@$(srcdir)/stamp-h.in\n \t@if test ! -f $@; then \\\n \t\trm -f $(srcdir)/stamp-h.in; \\\n \t\t$(MAKE) $(srcdir)/stamp-h.in; \\\n@@ -196,9 +239,6 @@ uninstall-binPROGRAMS:\n \t  rm -f $(DESTDIR)$(bindir)/`echo $$p|sed 's/$(EXEEXT)$$//'|sed '$(transform)'|sed 's/$$/$(EXEEXT)/'`; \\\n \tdone\n \n-.c.o:\n-\t$(COMPILE) -c $<\n-\n .s.o:\n \t$(COMPILE) -c $<\n \n@@ -290,16 +330,53 @@ distdir: $(DISTFILES)\n \t-rm -rf $(distdir)\n \tmkdir $(distdir)\n \t-chmod 777 $(distdir)\n+\there=`cd $(top_builddir) && pwd`; \\\n+\ttop_distdir=`cd $(distdir) && pwd`; \\\n+\tdistdir=`cd $(distdir) && pwd`; \\\n+\tcd $(top_srcdir) \\\n+\t  && $(AUTOMAKE) --include-deps --build-dir=$$here --srcdir-name=$(top_srcdir) --output-dir=$$top_distdir --gnu Makefile\n \t@for file in $(DISTFILES); do \\\n \t  d=$(srcdir); \\\n \t  if test -d $$d/$$file; then \\\n-\t    cp -pr $$d/$$file $(distdir)/$$file; \\\n+\t    cp -pr $$/$$file $(distdir)/$$file; \\\n \t  else \\\n \t    test -f $(distdir)/$$file \\\n \t    || ln $$d/$$file $(distdir)/$$file 2> /dev/null \\\n \t    || cp -p $$d/$$file $(distdir)/$$file || :; \\\n \t  fi; \\\n \tdone\n+\n+DEPS_MAGIC := $(shell mkdir .deps > /dev/null 2>&1 || :)\n+\n+-include $(DEP_FILES)\n+\n+mostlyclean-depend:\n+\n+clean-depend:\n+\n+distclean-depend:\n+\t-rm -rf .deps\n+\n+maintainer-clean-depend:\n+\n+%.o: %.c\n+\t@echo '$(COMPILE) -c $<'; \\\n+\t$(COMPILE) -Wp,-MD,.deps/$(*F).pp -c $<\n+\t@-cp .deps/$(*F).pp .deps/$(*F).P; \\\n+\ttr ' ' '\\012' < .deps/$(*F).pp \\\n+\t  | sed -e 's/^\\\\$$//' -e '/^$$/ d' -e '/:$$/ d' -e 's/$$/ :/' \\\n+\t    >> .deps/$(*F).P; \\\n+\trm .deps/$(*F).pp\n+\n+%.lo: %.c\n+\t@echo '$(LTCOMPILE) -c $<'; \\\n+\t$(LTCOMPILE) -Wp,-MD,.deps/$(*F).pp -c $<\n+\t@-sed -e 's/^\\([^:]*\\)\\.o[ \t]*:/\\1.lo \\1.o :/' \\\n+\t  < .deps/$(*F).pp > .deps/$(*F).P; \\\n+\ttr ' ' '\\012' < .deps/$(*F).pp \\\n+\t  | sed -e 's/^\\\\$$//' -e '/^$$/ d' -e '/:$$/ d' -e 's/$$/ :/' \\\n+\t    >> .deps/$(*F).P; \\\n+\trm -f .deps/$(*F).pp\n info-am:\n info: info-am\n dvi-am:\n@@ -340,25 +417,27 @@ distclean-generic:\n \n maintainer-clean-generic:\n mostlyclean-am:  mostlyclean-hdr mostlyclean-binPROGRAMS \\\n-\t\tmostlyclean-compile mostlyclean-tags \\\n+\t\tmostlyclean-compile mostlyclean-tags mostlyclean-depend \\\n \t\tmostlyclean-generic\n \n mostlyclean: mostlyclean-am\n \n clean-am:  clean-hdr clean-binPROGRAMS clean-compile clean-tags \\\n-\t\tclean-generic mostlyclean-am\n+\t\tclean-depend clean-generic mostlyclean-am\n \n clean: clean-am\n \n distclean-am:  distclean-hdr distclean-binPROGRAMS distclean-compile \\\n-\t\tdistclean-tags distclean-generic clean-am\n+\t\tdistclean-tags distclean-depend distclean-generic \\\n+\t\tclean-am\n \n distclean: distclean-am\n \t-rm -f config.status\n \n maintainer-clean-am:  maintainer-clean-hdr maintainer-clean-binPROGRAMS \\\n \t\tmaintainer-clean-compile maintainer-clean-tags \\\n-\t\tmaintainer-clean-generic distclean-am\n+\t\tmaintainer-clean-depend maintainer-clean-generic \\\n+\t\tdistclean-am\n \t@echo \"This command is intended for maintainers to use;\"\n \t@echo \"it deletes files that may require special tools to rebuild.\"\n \n@@ -370,10 +449,11 @@ mostlyclean-binPROGRAMS distclean-binPROGRAMS clean-binPROGRAMS \\\n maintainer-clean-binPROGRAMS uninstall-binPROGRAMS install-binPROGRAMS \\\n mostlyclean-compile distclean-compile clean-compile \\\n maintainer-clean-compile tags mostlyclean-tags distclean-tags \\\n-clean-tags maintainer-clean-tags distdir info-am info dvi-am dvi check \\\n-check-am installcheck-am installcheck all-recursive-am install-exec-am \\\n-install-exec install-data-am install-data install-am install \\\n-uninstall-am uninstall all-redirect all-am all installdirs \\\n+clean-tags maintainer-clean-tags distdir mostlyclean-depend \\\n+distclean-depend clean-depend maintainer-clean-depend info-am info \\\n+dvi-am dvi check check-am installcheck-am installcheck all-recursive-am \\\n+install-exec-am install-exec install-data-am install-data install-am \\\n+install uninstall-am uninstall all-redirect all-am all installdirs \\\n mostlyclean-generic distclean-generic clean-generic \\\n maintainer-clean-generic clean mostlyclean distclean maintainer-clean\n "}, {"sha": "29f008d21cf5f3d6d71f0873611603b67e305329", "filename": "fastjar/aclocal.m4", "status": "modified", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a93476d9b549e394df74cb531febab5b164988b/fastjar%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a93476d9b549e394df74cb531febab5b164988b/fastjar%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Faclocal.m4?ref=7a93476d9b549e394df74cb531febab5b164988b", "patch": "@@ -125,3 +125,36 @@ for am_file in <<$1>>; do\n done<<>>dnl>>)\n changequote([,]))])\n \n+# Add --enable-maintainer-mode option to configure.\n+# From Jim Meyering\n+\n+# serial 1\n+\n+AC_DEFUN(AM_MAINTAINER_MODE,\n+[AC_MSG_CHECKING([whether to enable maintainer-specific portions of Makefiles])\n+  dnl maintainer-mode is disabled by default\n+  AC_ARG_ENABLE(maintainer-mode,\n+[  --enable-maintainer-mode enable make rules and dependencies not useful\n+                          (and sometimes confusing) to the casual installer],\n+      USE_MAINTAINER_MODE=$enableval,\n+      USE_MAINTAINER_MODE=no)\n+  AC_MSG_RESULT($USE_MAINTAINER_MODE)\n+  AM_CONDITIONAL(MAINTAINER_MODE, test $USE_MAINTAINER_MODE = yes)\n+  MAINT=$MAINTAINER_MODE_TRUE\n+  AC_SUBST(MAINT)dnl\n+]\n+)\n+\n+# Define a conditional.\n+\n+AC_DEFUN(AM_CONDITIONAL,\n+[AC_SUBST($1_TRUE)\n+AC_SUBST($1_FALSE)\n+if $2; then\n+  $1_TRUE=\n+  $1_FALSE='#'\n+else\n+  $1_TRUE='#'\n+  $1_FALSE=\n+fi])\n+"}, {"sha": "d1c71b04cdca1df120e18c6f47e3f872c47ba09c", "filename": "fastjar/config.h.in", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a93476d9b549e394df74cb531febab5b164988b/fastjar%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a93476d9b549e394df74cb531febab5b164988b/fastjar%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fconfig.h.in?ref=7a93476d9b549e394df74cb531febab5b164988b", "patch": "@@ -34,9 +34,6 @@\n /* Define if you have the <fcntl.h> header file.  */\n #undef HAVE_FCNTL_H\n \n-/* Define if you have the <getopt.h> header file.  */\n-#undef HAVE_GETOPT_H\n-\n /* Define if you have the <ndir.h> header file.  */\n #undef HAVE_NDIR_H\n "}, {"sha": "1ffe8f61702f97a945e2554d9d281650a943a1a3", "filename": "fastjar/configure", "status": "modified", "additions": 139, "deletions": 98, "changes": 237, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a93476d9b549e394df74cb531febab5b164988b/fastjar%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a93476d9b549e394df74cb531febab5b164988b/fastjar%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fconfigure?ref=7a93476d9b549e394df74cb531febab5b164988b", "patch": "@@ -11,6 +11,9 @@\n ac_help=\n ac_default_prefix=/usr/local\n # Any additions from configure.in:\n+ac_help=\"$ac_help\n+  --enable-maintainer-mode enable make rules and dependencies not useful\n+                          (and sometimes confusing) to the casual installer\"\n ac_help=\"$ac_help\n   --with-system-zlib      use installed libz\"\n \n@@ -30,6 +33,7 @@ program_suffix=NONE\n program_transform_name=s,x,x,\n silent=\n site=\n+sitefile=\n srcdir=\n target=NONE\n verbose=\n@@ -144,6 +148,7 @@ Configuration:\n   --help                  print this message\n   --no-create             do not create output files\n   --quiet, --silent       do not print \\`checking...' messages\n+  --site-file=FILE        use FILE as the site file\n   --version               print the version of autoconf that created configure\n Directory and file names:\n   --prefix=PREFIX         install architecture-independent files in PREFIX\n@@ -314,6 +319,11 @@ EOF\n   -site=* | --site=* | --sit=*)\n     site=\"$ac_optarg\" ;;\n \n+  -site-file | --site-file | --site-fil | --site-fi | --site-f)\n+    ac_prev=sitefile ;;\n+  -site-file=* | --site-file=* | --site-fil=* | --site-fi=* | --site-f=*)\n+    sitefile=\"$ac_optarg\" ;;\n+\n   -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)\n     ac_prev=srcdir ;;\n   -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)\n@@ -479,12 +489,16 @@ fi\n srcdir=`echo \"${srcdir}\" | sed 's%\\([^/]\\)/*$%\\1%'`\n \n # Prefer explicitly selected file to automatically selected ones.\n-if test -z \"$CONFIG_SITE\"; then\n-  if test \"x$prefix\" != xNONE; then\n-    CONFIG_SITE=\"$prefix/share/config.site $prefix/etc/config.site\"\n-  else\n-    CONFIG_SITE=\"$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site\"\n+if test -z \"$sitefile\"; then\n+  if test -z \"$CONFIG_SITE\"; then\n+    if test \"x$prefix\" != xNONE; then\n+      CONFIG_SITE=\"$prefix/share/config.site $prefix/etc/config.site\"\n+    else\n+      CONFIG_SITE=\"$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site\"\n+    fi\n   fi\n+else\n+  CONFIG_SITE=\"$sitefile\"\n fi\n for ac_site_file in $CONFIG_SITE; do\n   if test -r \"$ac_site_file\"; then\n@@ -554,7 +568,7 @@ ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:558: checking for a BSD compatible install\" >&5\n+echo \"configure:572: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -607,7 +621,7 @@ test -z \"$INSTALL_SCRIPT\" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'\n test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n echo $ac_n \"checking whether build environment is sane\"\"... $ac_c\" 1>&6\n-echo \"configure:611: checking whether build environment is sane\" >&5\n+echo \"configure:625: checking whether build environment is sane\" >&5\n # Just in case\n sleep 1\n echo timestamp > conftestfile\n@@ -664,7 +678,7 @@ test \"$program_suffix\" != NONE &&\n test \"$program_transform_name\" = \"\" && program_transform_name=\"s,x,x,\"\n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:668: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:682: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -691,7 +705,7 @@ else\n fi\n \n \n-PACKAGE=fastar\n+PACKAGE=fastjar\n \n VERSION=0.92-gcc\n \n@@ -710,7 +724,7 @@ EOF\n \n missing_dir=`cd $ac_aux_dir && pwd`\n echo $ac_n \"checking for working aclocal\"\"... $ac_c\" 1>&6\n-echo \"configure:714: checking for working aclocal\" >&5\n+echo \"configure:728: checking for working aclocal\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -723,7 +737,7 @@ else\n fi\n \n echo $ac_n \"checking for working autoconf\"\"... $ac_c\" 1>&6\n-echo \"configure:727: checking for working autoconf\" >&5\n+echo \"configure:741: checking for working autoconf\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -736,7 +750,7 @@ else\n fi\n \n echo $ac_n \"checking for working automake\"\"... $ac_c\" 1>&6\n-echo \"configure:740: checking for working automake\" >&5\n+echo \"configure:754: checking for working automake\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -749,7 +763,7 @@ else\n fi\n \n echo $ac_n \"checking for working autoheader\"\"... $ac_c\" 1>&6\n-echo \"configure:753: checking for working autoheader\" >&5\n+echo \"configure:767: checking for working autoheader\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -762,7 +776,7 @@ else\n fi\n \n echo $ac_n \"checking for working makeinfo\"\"... $ac_c\" 1>&6\n-echo \"configure:766: checking for working makeinfo\" >&5\n+echo \"configure:780: checking for working makeinfo\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -782,7 +796,7 @@ fi\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:786: checking for $ac_word\" >&5\n+echo \"configure:800: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -812,7 +826,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:816: checking for $ac_word\" >&5\n+echo \"configure:830: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -863,7 +877,7 @@ fi\n       # Extract the first word of \"cl\", so it can be a program name with args.\n set dummy cl; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:867: checking for $ac_word\" >&5\n+echo \"configure:881: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -895,7 +909,7 @@ fi\n fi\n \n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:899: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:913: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -906,12 +920,12 @@ cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext << EOF\n \n-#line 910 \"configure\"\n+#line 924 \"configure\"\n #include \"confdefs.h\"\n \n main(){return(0);}\n EOF\n-if { (eval echo configure:915: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:929: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -937,12 +951,12 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:941: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:955: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:946: checking whether we are using GNU C\" >&5\n+echo \"configure:960: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -951,7 +965,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:955: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:969: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -970,7 +984,7 @@ ac_test_CFLAGS=\"${CFLAGS+set}\"\n ac_save_CFLAGS=\"$CFLAGS\"\n CFLAGS=\n echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:974: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:988: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1013,7 +1027,7 @@ fi\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:1017: checking for a BSD compatible install\" >&5\n+echo \"configure:1031: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1068,7 +1082,7 @@ test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n # Extract the first word of \"rm\", so it can be a program name with args.\n set dummy rm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1072: checking for $ac_word\" >&5\n+echo \"configure:1086: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_RM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1104,7 +1118,7 @@ fi\n # Extract the first word of \"cp\", so it can be a program name with args.\n set dummy cp; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1108: checking for $ac_word\" >&5\n+echo \"configure:1122: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_CP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1140,7 +1154,7 @@ fi\n # Extract the first word of \"strip\", so it can be a program name with args.\n set dummy strip; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1144: checking for $ac_word\" >&5\n+echo \"configure:1158: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_STRIP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1176,7 +1190,7 @@ fi\n # Extract the first word of \"chmod\", so it can be a program name with args.\n set dummy chmod; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1180: checking for $ac_word\" >&5\n+echo \"configure:1194: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_CHMOD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1210,12 +1224,12 @@ else\n fi\n \n echo $ac_n \"checking for Cygwin environment\"\"... $ac_c\" 1>&6\n-echo \"configure:1214: checking for Cygwin environment\" >&5\n+echo \"configure:1228: checking for Cygwin environment\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_cygwin'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1219 \"configure\"\n+#line 1233 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -1226,7 +1240,7 @@ int main() {\n return __CYGWIN__;\n ; return 0; }\n EOF\n-if { (eval echo configure:1230: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1244: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_cygwin=yes\n else\n@@ -1243,19 +1257,19 @@ echo \"$ac_t\"\"$ac_cv_cygwin\" 1>&6\n CYGWIN=\n test \"$ac_cv_cygwin\" = yes && CYGWIN=yes\n echo $ac_n \"checking for mingw32 environment\"\"... $ac_c\" 1>&6\n-echo \"configure:1247: checking for mingw32 environment\" >&5\n+echo \"configure:1261: checking for mingw32 environment\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_mingw32'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1252 \"configure\"\n+#line 1266 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n return __MINGW32__;\n ; return 0; }\n EOF\n-if { (eval echo configure:1259: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1273: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_mingw32=yes\n else\n@@ -1274,7 +1288,7 @@ test \"$ac_cv_mingw32\" = yes && MINGW32=yes\n \n \n echo $ac_n \"checking for executable suffix\"\"... $ac_c\" 1>&6\n-echo \"configure:1278: checking for executable suffix\" >&5\n+echo \"configure:1292: checking for executable suffix\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_exeext'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1284,10 +1298,10 @@ else\n   rm -f conftest*\n   echo 'int main () { return 0; }' > conftest.$ac_ext\n   ac_cv_exeext=\n-  if { (eval echo configure:1288: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n+  if { (eval echo configure:1302: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n     for file in conftest.*; do\n       case $file in\n-      *.c | *.o | *.obj) ;;\n+      *.c | *.o | *.obj | *.ilk | *.pdb) ;;\n       *) ac_cv_exeext=`echo $file | sed -e s/conftest//` ;;\n       esac\n     done\n@@ -1305,6 +1319,30 @@ echo \"$ac_t\"\"${ac_cv_exeext}\" 1>&6\n ac_exeext=$EXEEXT\n \n \n+echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n+echo \"configure:1324: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+    # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n+if test \"${enable_maintainer_mode+set}\" = set; then\n+  enableval=\"$enable_maintainer_mode\"\n+  USE_MAINTAINER_MODE=$enableval\n+else\n+  USE_MAINTAINER_MODE=no\n+fi\n+\n+  echo \"$ac_t\"\"$USE_MAINTAINER_MODE\" 1>&6\n+  \n+\n+if test $USE_MAINTAINER_MODE = yes; then\n+  MAINTAINER_MODE_TRUE=\n+  MAINTAINER_MODE_FALSE='#'\n+else\n+  MAINTAINER_MODE_TRUE='#'\n+  MAINTAINER_MODE_FALSE=\n+fi\n+  MAINT=$MAINTAINER_MODE_TRUE\n+  \n+\n+\n if test \"$GCC\" = yes; then\n   fastjar_warn_cflags='-W -Wall -pedantic -Wstrict-prototypes -Wmissing-prototypes -Wwrite-strings'\n fi\n@@ -1315,20 +1353,20 @@ for ac_hdr in dirent.h sys/ndir.h sys/dir.h ndir.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr that defines DIR\"\"... $ac_c\" 1>&6\n-echo \"configure:1319: checking for $ac_hdr that defines DIR\" >&5\n+echo \"configure:1357: checking for $ac_hdr that defines DIR\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_dirent_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1324 \"configure\"\n+#line 1362 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <$ac_hdr>\n int main() {\n DIR *dirp = 0;\n ; return 0; }\n EOF\n-if { (eval echo configure:1332: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1370: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"ac_cv_header_dirent_$ac_safe=yes\"\n else\n@@ -1353,15 +1391,15 @@ done\n # Two versions of opendir et al. are in -ldir and -lx on SCO Xenix.\n if test $ac_header_dirent = dirent.h; then\n echo $ac_n \"checking for opendir in -ldir\"\"... $ac_c\" 1>&6\n-echo \"configure:1357: checking for opendir in -ldir\" >&5\n+echo \"configure:1395: checking for opendir in -ldir\" >&5\n ac_lib_var=`echo dir'_'opendir | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-ldir  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 1365 \"configure\"\n+#line 1403 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -1372,7 +1410,7 @@ int main() {\n opendir()\n ; return 0; }\n EOF\n-if { (eval echo configure:1376: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1414: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -1394,15 +1432,15 @@ fi\n \n else\n echo $ac_n \"checking for opendir in -lx\"\"... $ac_c\" 1>&6\n-echo \"configure:1398: checking for opendir in -lx\" >&5\n+echo \"configure:1436: checking for opendir in -lx\" >&5\n ac_lib_var=`echo x'_'opendir | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lx  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 1406 \"configure\"\n+#line 1444 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -1413,7 +1451,7 @@ int main() {\n opendir()\n ; return 0; }\n EOF\n-if { (eval echo configure:1417: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1455: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -1436,7 +1474,7 @@ fi\n fi\n \n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:1440: checking how to run the C preprocessor\" >&5\n+echo \"configure:1478: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -1451,13 +1489,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 1455 \"configure\"\n+#line 1493 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1461: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1499: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -1468,13 +1506,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 1472 \"configure\"\n+#line 1510 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1478: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1516: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -1485,13 +1523,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 1489 \"configure\"\n+#line 1527 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1495: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1533: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -1516,20 +1554,20 @@ fi\n echo \"$ac_t\"\"$CPP\" 1>&6\n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:1520: checking for ANSI C header files\" >&5\n+echo \"configure:1558: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1525 \"configure\"\n+#line 1563 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1533: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1571: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1546,7 +1584,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1550 \"configure\"\n+#line 1588 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -1564,7 +1602,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1568 \"configure\"\n+#line 1606 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -1585,7 +1623,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1589 \"configure\"\n+#line 1627 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -1596,7 +1634,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:1600: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1638: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -1620,20 +1658,20 @@ EOF\n fi\n \n echo $ac_n \"checking whether struct tm is in sys/time.h or time.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1624: checking whether struct tm is in sys/time.h or time.h\" >&5\n+echo \"configure:1662: checking whether struct tm is in sys/time.h or time.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_struct_tm'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1629 \"configure\"\n+#line 1667 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <time.h>\n int main() {\n struct tm *tp; tp->tm_sec;\n ; return 0; }\n EOF\n-if { (eval echo configure:1637: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1675: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_struct_tm=time.h\n else\n@@ -1653,21 +1691,21 @@ EOF\n \n fi\n \n-for ac_hdr in fcntl.h unistd.h sys/param.h getopt.h stdlib.h\n+for ac_hdr in fcntl.h unistd.h sys/param.h stdlib.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:1661: checking for $ac_hdr\" >&5\n+echo \"configure:1699: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1666 \"configure\"\n+#line 1704 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1671: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1709: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1695,12 +1733,12 @@ done\n \n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:1699: checking for off_t\" >&5\n+echo \"configure:1737: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1704 \"configure\"\n+#line 1742 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -1728,20 +1766,20 @@ EOF\n fi\n \n echo $ac_n \"checking whether struct tm is in sys/time.h or time.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1732: checking whether struct tm is in sys/time.h or time.h\" >&5\n+echo \"configure:1770: checking whether struct tm is in sys/time.h or time.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_struct_tm'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1737 \"configure\"\n+#line 1775 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <time.h>\n int main() {\n struct tm *tp; tp->tm_sec;\n ; return 0; }\n EOF\n-if { (eval echo configure:1745: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1783: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_struct_tm=time.h\n else\n@@ -1763,15 +1801,15 @@ fi\n \n \n echo $ac_n \"checking size of char\"\"... $ac_c\" 1>&6\n-echo \"configure:1767: checking size of char\" >&5\n+echo \"configure:1805: checking size of char\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_char'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n     { echo \"configure: error: can not run test program while cross compiling\" 1>&2; exit 1; }\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1775 \"configure\"\n+#line 1813 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n main()\n@@ -1782,7 +1820,7 @@ main()\n   exit(0);\n }\n EOF\n-if { (eval echo configure:1786: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1824: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_sizeof_char=`cat conftestval`\n else\n@@ -1802,15 +1840,15 @@ EOF\n \n \n echo $ac_n \"checking size of short\"\"... $ac_c\" 1>&6\n-echo \"configure:1806: checking size of short\" >&5\n+echo \"configure:1844: checking size of short\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_short'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n     { echo \"configure: error: can not run test program while cross compiling\" 1>&2; exit 1; }\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1814 \"configure\"\n+#line 1852 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n main()\n@@ -1821,7 +1859,7 @@ main()\n   exit(0);\n }\n EOF\n-if { (eval echo configure:1825: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1863: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_sizeof_short=`cat conftestval`\n else\n@@ -1841,15 +1879,15 @@ EOF\n \n \n echo $ac_n \"checking size of int\"\"... $ac_c\" 1>&6\n-echo \"configure:1845: checking size of int\" >&5\n+echo \"configure:1883: checking size of int\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_int'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n     { echo \"configure: error: can not run test program while cross compiling\" 1>&2; exit 1; }\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1853 \"configure\"\n+#line 1891 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n main()\n@@ -1860,7 +1898,7 @@ main()\n   exit(0);\n }\n EOF\n-if { (eval echo configure:1864: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1902: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_sizeof_int=`cat conftestval`\n else\n@@ -1880,15 +1918,15 @@ EOF\n \n \n echo $ac_n \"checking size of long\"\"... $ac_c\" 1>&6\n-echo \"configure:1884: checking size of long\" >&5\n+echo \"configure:1922: checking size of long\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_long'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n     { echo \"configure: error: can not run test program while cross compiling\" 1>&2; exit 1; }\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1892 \"configure\"\n+#line 1930 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n main()\n@@ -1899,7 +1937,7 @@ main()\n   exit(0);\n }\n EOF\n-if { (eval echo configure:1903: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1941: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_sizeof_long=`cat conftestval`\n else\n@@ -1919,15 +1957,15 @@ EOF\n \n \n echo $ac_n \"checking size of long long\"\"... $ac_c\" 1>&6\n-echo \"configure:1923: checking size of long long\" >&5\n+echo \"configure:1961: checking size of long long\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_long_long'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n     { echo \"configure: error: can not run test program while cross compiling\" 1>&2; exit 1; }\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1931 \"configure\"\n+#line 1969 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n main()\n@@ -1938,7 +1976,7 @@ main()\n   exit(0);\n }\n EOF\n-if { (eval echo configure:1942: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1980: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_sizeof_long_long=`cat conftestval`\n else\n@@ -1959,14 +1997,14 @@ EOF\n \n \n echo $ac_n \"checking whether byte ordering is bigendian\"\"... $ac_c\" 1>&6\n-echo \"configure:1963: checking whether byte ordering is bigendian\" >&5\n+echo \"configure:2001: checking whether byte ordering is bigendian\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_bigendian'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_cv_c_bigendian=unknown\n # See if sys/param.h defines the BYTE_ORDER macro.\n cat > conftest.$ac_ext <<EOF\n-#line 1970 \"configure\"\n+#line 2008 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/param.h>\n@@ -1977,11 +2015,11 @@ int main() {\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:1981: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2019: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   # It does; now see whether it defined to BIG_ENDIAN or not.\n cat > conftest.$ac_ext <<EOF\n-#line 1985 \"configure\"\n+#line 2023 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/param.h>\n@@ -1992,7 +2030,7 @@ int main() {\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:1996: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2034: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_bigendian=yes\n else\n@@ -2012,7 +2050,7 @@ if test \"$cross_compiling\" = yes; then\n     { echo \"configure: error: can not run test program while cross compiling\" 1>&2; exit 1; }\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2016 \"configure\"\n+#line 2054 \"configure\"\n #include \"confdefs.h\"\n main () {\n   /* Are we little or big endian?  From Harbison&Steele.  */\n@@ -2025,7 +2063,7 @@ main () {\n   exit (u.c[sizeof (long) - 1] == 1);\n }\n EOF\n-if { (eval echo configure:2029: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2067: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_bigendian=no\n else\n@@ -2062,15 +2100,15 @@ ZINCS=\n use_zlib=maybe\n if test \"$with_system_zlib\" = yes; then\n    echo $ac_n \"checking for deflate in -lz\"\"... $ac_c\" 1>&6\n-echo \"configure:2066: checking for deflate in -lz\" >&5\n+echo \"configure:2104: checking for deflate in -lz\" >&5\n ac_lib_var=`echo z'_'deflate | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lz  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 2074 \"configure\"\n+#line 2112 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -2081,7 +2119,7 @@ int main() {\n deflate()\n ; return 0; }\n EOF\n-if { (eval echo configure:2085: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2123: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -2266,6 +2304,9 @@ s%@CP@%$CP%g\n s%@STRIP@%$STRIP%g\n s%@CHMOD@%$CHMOD%g\n s%@EXEEXT@%$EXEEXT%g\n+s%@MAINTAINER_MODE_TRUE@%$MAINTAINER_MODE_TRUE%g\n+s%@MAINTAINER_MODE_FALSE@%$MAINTAINER_MODE_FALSE%g\n+s%@MAINT@%$MAINT%g\n s%@fastjar_warn_cflags@%$fastjar_warn_cflags%g\n s%@CPP@%$CPP%g\n s%@ZLIBS@%$ZLIBS%g"}, {"sha": "a3e8e90971c161ed549ade76be9023a4ad6c6f28", "filename": "fastjar/configure.in", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a93476d9b549e394df74cb531febab5b164988b/fastjar%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a93476d9b549e394df74cb531febab5b164988b/fastjar%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fconfigure.in?ref=7a93476d9b549e394df74cb531febab5b164988b", "patch": "@@ -1,6 +1,6 @@\n dnl Process this file with autoconf to produce a configure script.\n AC_INIT(jartool.h)\n-AM_INIT_AUTOMAKE(fastar, 0.92-gcc)\n+AM_INIT_AUTOMAKE(fastjar, 0.92-gcc)\n AM_CONFIG_HEADER(config.h)\n \n dnl Checks for programs.\n@@ -12,6 +12,8 @@ AC_PATH_PROG(STRIP, strip, /usr/bin/strip, $PATH:/bin:/usr/bin:/usr/local/bin)\n AC_PATH_PROG(CHMOD, chmod, /bin/chmod, $PATH:/bin:/usr/bin:/usr/local/bin)\n AC_EXEEXT\n \n+AM_MAINTAINER_MODE\n+\n dnl Add warning flags if we are using gcc.\n if test \"$GCC\" = yes; then\n   fastjar_warn_cflags='-W -Wall -pedantic -Wstrict-prototypes -Wmissing-prototypes -Wwrite-strings'\n@@ -22,7 +24,7 @@ dnl Checks for header files.\n AC_HEADER_DIRENT\n AC_HEADER_STDC\n AC_STRUCT_TM\n-AC_CHECK_HEADERS(fcntl.h unistd.h sys/param.h getopt.h stdlib.h)\n+AC_CHECK_HEADERS(fcntl.h unistd.h sys/param.h stdlib.h)\n \n dnl Checks for typedefs, structures, and compiler characteristics.\n AC_TYPE_OFF_T"}, {"sha": "4c934a304033bd676936e5f1d754e911c6d684c8", "filename": "fastjar/jargrep.c", "status": "modified", "additions": 71, "deletions": 11, "changes": 82, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a93476d9b549e394df74cb531febab5b164988b/fastjar%2Fjargrep.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a93476d9b549e394df74cb531febab5b164988b/fastjar%2Fjargrep.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fjargrep.c?ref=7a93476d9b549e394df74cb531febab5b164988b", "patch": "@@ -1,5 +1,6 @@\n /*\n   jargrep.c - main functions for jargrep utility\n+  Copyright (C) 2002 Free Software Foundation\n   Copyright (C) 1999, 2000 Bryan Burns\n   Copyright (C) 2000 Cory Hollingsworth \n  \n@@ -21,9 +22,24 @@\n   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.\n */\n \n-/* $Id: jargrep.c,v 1.4 2000/12/15 18:45:09 tromey Exp $\n+/* Id: jargrep.c,v 1.5 2002/01/03 04:57:56 rodrigc Exp\n+\n+Log: jargrep.c,v \n+Revision 1.5  2002/01/03 04:57:56  rodrigc\n+2001-01-02  Craig Rodrigues  <rodrigc@gcc.gnu.org>\n+\n+        PR bootstrap/5117\n+        * configure.in (AC_CHECK_HEADERS): Check for stdlib.h.\n+        * Makefile.am: Move grepjar to bin_PROGRAMS.\n+        * config.h.in: Regenerated.\n+        * Makefile.in: Regenerated.\n+        * aclocal.m4: Regenerated.\n+        * jargrep.c: Eliminate some signed/unsigned and default\n+        uninitialized warnings. Use HAVE_STDLIB_H instead of\n+        STDC_HEADERS macro.\n+        * jartool.c: Likewise.\n+        * compress.c: Likewise.\n \n-$Log: jargrep.c,v $\n Revision 1.4  2000/12/15 18:45:09  tromey\n \t* jargrep.c: Include getopt.h if it exists.\n \t(optind): Declare.\n@@ -105,14 +121,12 @@ will test some other platforms later.\n #include \"zipfile.h\"\n #include \"zlib.h\"\n #include \"compress.h\"\n-#ifdef HAVE_GETOPT_H\n #include <getopt.h>\n-#endif\n \n-#define Usage \"Usage: %s [-bcinsw] <-e regexp | regexp> file(s)\\n\"\n+void version(void);\n+void help(const char *name);\n \n-extern char *optarg;\n-extern int optind;\n+#define Usage \"Usage: %s [-bcinsw] <-e PATTERN | PATTERN> FILE ...\\n\"\n \n /*\n Function name: opt_valid\n@@ -632,6 +646,18 @@ static void jargrep(regex_t *exp, regex_t *nl_exp, const char *jarfile, int opti\n \t}\n }\n \n+/* This is used to mark options with no short value.  */\n+#define LONG_OPT(Num)  ((Num) + 128)\n+\n+#define OPT_HELP     LONG_OPT (0)\n+\n+static const struct option option_vec[] =\n+{\n+  { \"help\", no_argument, NULL, OPT_HELP },\n+  { \"version\", no_argument, NULL, 'V' },\n+  { NULL, no_argument, NULL, 0 }\n+};\n+\n /*\n Funtion Name: main\n args:\targc\tnumber of in coming args.\n@@ -650,7 +676,8 @@ int main(int argc, char **argv) {\n \tregex_t *nl_exp = NULL;\n \tchar *regexpstr = NULL;\n \n-\twhile((c = getopt(argc, argv, \"bce:insVw\")) != -1) {\n+\twhile((c = getopt_long(argc, argv, \"bce:insVw\",\n+\t\t\t       option_vec, NULL)) != -1) {\n \t\tswitch(c) {\n \t\t\tcase 'b':\n \t\t\t\toptions |= JG_PRINT_BYTEOFFSET;\n@@ -679,13 +706,15 @@ int main(int argc, char **argv) {\n \t\t\t\toptions |= JG_INVERT;\n \t\t\t\tbreak;\n \t\t\tcase 'V':\n-\t\t\t\tprintf(\"%s\\n\", GVERSION);\n-\t\t\t\texit(0);\n+\t\t\t\tversion ();\n+\t\t\t\tbreak;\n \t\t\tcase 'w':\n \t\t\t\toptions |= JG_WORD_EXPRESSIONS;\n \t\t\t\tbreak;\n+\t\t\tcase OPT_HELP:\n+\t\t\t\thelp(argv[0]);\n+\t\t\t\tbreak;\n \t\t\tdefault:\n-\t\t\t\tfprintf(stderr, \"Unknown option -%c\\n\", c);\n \t\t\t\tfprintf(stderr, Usage, argv[0]);\n \t\t\t\texit(1);\n \t\t}\n@@ -726,3 +755,34 @@ int main(int argc, char **argv) {\n \n \treturn retval;\n }\n+\n+void help(const char *filename)\n+{\n+  printf (Usage, filename);\n+  printf (\"\\\n+\\n\\\n+Search files in a jar file for a pattern.\\n\\\n+\\n\\\n+   -b                print byte offset of match\\n\\\n+   -c                print number of matches\\n\\\n+   -i                compare case-insensitively\\n\\\n+   -n                print line number of each match\\n\\\n+   -s                suppress error messages\\n\\\n+   -w                force PATTERN to match only whole words\\n\\\n+   -e PATTERN        use PATTERN as regular exprssion\\n\\\n+\");\n+\n+  exit (0);\n+}\n+\n+void version ()\n+{\n+  printf(\"grepjar (%s) %s\\n\\n\", PACKAGE, VERSION);\n+  printf(\"Copyright 1999, 2000, 2001  Bryan Burns\\n\");\n+  printf(\"Copyright 2000 Cory Hollingsworth\\n\");\n+  printf(\"Copyright 2002 Free Software Foundation\\n\");\n+  printf(\"\\\n+This is free software; see the source for copying conditions.  There is NO\\n\\\n+warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\\n\");\n+  exit (0);\n+}"}, {"sha": "bc69b41842b078047abfa77ed9e64f5f91e5a861", "filename": "fastjar/jargrep.h", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a93476d9b549e394df74cb531febab5b164988b/fastjar%2Fjargrep.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a93476d9b549e394df74cb531febab5b164988b/fastjar%2Fjargrep.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fjargrep.h?ref=7a93476d9b549e394df74cb531febab5b164988b", "patch": "@@ -1,5 +1,6 @@\n /*\n   jargrep.h - header file for jargrep utility\n+  Copyright (C) 2002 Free Software Foundation\n   Copyright (C) 2000 Cory Hollingsworth\n \n   This program is free software; you can redistribute it and/or\n@@ -17,15 +18,10 @@\n   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.\n */\n \n-/*$Id: jargrep.h,v 1.3 2000/09/13 14:02:02 cory Exp $\n-*/\n-\n #define JG_PRINT_BYTEOFFSET\t\t0x00000001\n #define JG_PRINT_COUNT\t\t\t0x00000002\n #define JG_IGNORE_CASE\t\t\t0x00000004\n #define JG_PRINT_LINE_NUMBER\t0x00000008\n #define JG_SUPRESS_ERROR\t\t0x00000010\n #define JG_INVERT\t\t\t\t0x00000020\n #define JG_WORD_EXPRESSIONS\t\t0x00000040\n-\n-#define GVERSION \"jargrep version 0.1 (09/12/2000)\""}, {"sha": "dd71592e8b96515f6d4159758de177230bb6f324", "filename": "fastjar/jartool.c", "status": "modified", "additions": 175, "deletions": 68, "changes": 243, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a93476d9b549e394df74cb531febab5b164988b/fastjar%2Fjartool.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a93476d9b549e394df74cb531febab5b164988b/fastjar%2Fjartool.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fjartool.c?ref=7a93476d9b549e394df74cb531febab5b164988b", "patch": "@@ -1,5 +1,6 @@\n /*\n   jartool.c - main functions for fastjar utility\n+  Copyright (C) 2002 Free Software Foundation\n   Copyright (C) 1999, 2000, 2001  Bryan Burns\n   \n   This program is free software; you can redistribute it and/or\n@@ -17,9 +18,22 @@\n   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.\n */\n \n-/* $Id: jartool.c,v 1.9 2001/10/12 00:49:42 bryce Exp $\n+/*\n+   Revision 1.10  2002/01/03 04:57:56  rodrigc\n+   2001-01-02  Craig Rodrigues  <rodrigc@gcc.gnu.org>\n+\n+           PR bootstrap/5117\n+           * configure.in (AC_CHECK_HEADERS): Check for stdlib.h.\n+           * Makefile.am: Move grepjar to bin_PROGRAMS.\n+           * config.h.in: Regenerated.\n+           * Makefile.in: Regenerated.\n+           * aclocal.m4: Regenerated.\n+           * jargrep.c: Eliminate some signed/unsigned and default\n+           uninitialized warnings. Use HAVE_STDLIB_H instead of\n+           STDC_HEADERS macro.\n+           * jartool.c: Likewise.\n+           * compress.c: Likewise.\n \n-   $Log: jartool.c,v $\n    Revision 1.9  2001/10/12 00:49:42  bryce\n            * jatool.c (extract_jar): Account for null termination when\n    \tdetermining whether to expand \"filename\".\n@@ -217,6 +231,8 @@\n #include <time.h>\n #endif\n \n+#include <getopt.h>\n+\n #include \"jartool.h\"\n #include \"zipfile.h\"\n #include \"dostime.h\"\n@@ -234,8 +250,6 @@\n \n #endif\n \n-static char version_string[] = VERSION;\n-\n #ifndef errno\n extern int errno;\n #endif\n@@ -245,6 +259,8 @@ extern int errno;\n #endif\n \n void usage(const char*);\n+void help(const char *);\n+void version(void);\n void add_entry(struct zipentry *);\n void init_headers(void);\n \n@@ -258,6 +274,7 @@ int make_manifest(int, const char*);\n static void init_args(char **, int);\n static char *get_next_arg (void);\n static char *jt_strdup (char*);\n+static void expand_options (int *argcp, char ***argvp);\n \n /* global variables */\n ub1 file_header[30];\n@@ -281,19 +298,37 @@ zipentry *ziptail; /* tail of the linked list */\n \n int number_of_entries; /* number of entries in the linked list */\n \n+/* This is used to mark options with no short value.  */\n+#define LONG_OPT(Num)  ((Num) + 128)\n+\n+#define OPT_HELP     LONG_OPT (0)\n+\n+/* This holds all options except `-C', which is handled specially.  */\n+#define OPTION_STRING \"-ctxuvVf:m:0ME@\"\n+\n+static const struct option options[] =\n+{\n+  { \"help\", no_argument, NULL, OPT_HELP },\n+  { \"version\", no_argument, NULL, 'V' },\n+  { NULL, no_argument, NULL, 0 }\n+};\n+\n int main(int argc, char **argv){\n \n-  char mfile[256];\n+  char *mfile = NULL;\n   \n   int action = ACTION_NONE;\n   int manifest = TRUE;\n-  int manifest_file = FALSE;\n-  int file = FALSE;\n-  int file_first = FALSE;\n+  int opt;\n   \n-  int i, j;\n+  int j;\n   int jarfd = -1;\n   \n+  /* These are used to collect file names and `-C' options for the\n+     second pass through the command line.  */\n+  int new_argc;\n+  char **new_argv;\n+\n   do_compress = TRUE;\n   verbose = FALSE;\n   \n@@ -306,8 +341,18 @@ int main(int argc, char **argv){\n   \n   j = strlen(argv[1]);\n   \n-  for(i = 0; i < j; i++){\n-    switch(argv[1][i]){\n+  new_argc = 0;\n+  new_argv = (char **) malloc (argc * sizeof (char *));\n+\n+  expand_options (&argc, &argv);\n+  while ((opt = getopt_long (argc, argv, OPTION_STRING,\n+\t\t\t     options, NULL)) != -1) {\n+    switch(opt){\n+    case 1:\n+      /* File name or unparsed option, due to RETURN_IN_ORDER.  In\n+\t particular `-C' is handled here and not elsewhere.  */\n+      new_argv[new_argc++] = optarg;\n+      break;\n     case 'c':\n       action = ACTION_CREATE;\n       break;\n@@ -324,26 +369,25 @@ int main(int argc, char **argv){\n       verbose = TRUE;\n       break;\n     case 'V':\n-      printf(\"%s\\n\", version_string);\n+      version();\n       exit(0);\n     case 'f':\n-      file = TRUE;\n-      if(!manifest_file)\n-        file_first = TRUE;\n-      else\n-        file_first = FALSE;\n+      jarfile = optarg;\n       break;\n     case 'm':\n-      manifest_file = TRUE;\n+      mfile = optarg;\n       break;\n     case '0':\n       do_compress = FALSE;\n       break;\n     case 'M':\n       manifest = FALSE;\n       break;\n-    case '-':\n+\n+    case OPT_HELP:\n+      help(argv[0]);\n       break;\n+\n     /* The following options aren't supported by the original jar tool. */\n     case 'E':\n       use_explicit_list_only = TRUE;\n@@ -352,16 +396,25 @@ int main(int argc, char **argv){\n       read_names_from_stdin = TRUE;\n       break;\n     default:\n-      fprintf(stderr, \"Illegal option: %c\\n\", argv[1][i]);\n       usage(argv[0]);\n     }\n   }\n \n+  /* We might have seen `--'.  In this case we want to make sure that\n+     all following options are handled as file names.  */\n+  while (optind < argc)\n+    new_argv[new_argc++] = argv[optind++];\n+\n   if(action == ACTION_NONE){\n     fprintf(stderr, \"One of options -{ctxu} must be specified.\\n\");\n     usage(argv[0]);\n   }\n \n+  if(action == ACTION_UPDATE){\n+    fprintf(stderr, \"%s: `-u' mode unimplemented.\\n\", argv[0]);\n+    exit(1);\n+  }\n+\n   /* Verify unsupported combinations and warn of the use of non\n      standard features */\n   if(verbose && use_explicit_list_only)\n@@ -374,32 +427,9 @@ int main(int argc, char **argv){\n       usage(argv[0]);\n   }\n \n-  i = 2;\n-\n-  /* get the jarfile and manifest file (if any) */\n-  if(file && file_first){\n-    if(i >= argc)\n-      usage(argv[0]);\n-\n-    jarfile = jt_strdup (argv[i++]);\n-  }\n-  if(manifest_file){\n-    if(i >= argc)\n-      usage(argv[0]);\n-\n-    strncpy(mfile, argv[i++], 256);\n-  }\n-\n-  if(file && !file_first){\n-    if(i >= argc)\n-      usage(argv[0]);\n-\n-    jarfile = jt_strdup (argv[i++]);\n-  }\n-\n   /* create the jarfile */\n   if(action == ACTION_CREATE){\n-    if(file){\n+    if(jarfile){\n       jarfd = open(jarfile, O_CREAT | O_BINARY | O_WRONLY | O_TRUNC,\n \t\t   S_IRUSR | S_IWUSR | S_IRGRP | S_IROTH);\n \n@@ -425,7 +455,7 @@ int main(int argc, char **argv){\n     }\n   } else if(action == ACTION_LIST || action == ACTION_EXTRACT){\n \n-    if(file){\n+    if(jarfile){\n       jarfd = open(jarfile, O_RDONLY | O_BINARY);\n \n       if(jarfd < 0){\n@@ -447,7 +477,7 @@ int main(int argc, char **argv){\n     const char *arg;\n     init_headers();\n \n-   if((action == ACTION_UPDATE) && file) {\n+   if((action == ACTION_UPDATE) && jarfile) {\n       if((jarfd = open(jarfile, O_RDWR | O_BINARY)) < 0) {\n \tfprintf(stderr, \"Error opening %s for reading!\\n\", jarfile);\n         perror(jarfile);\n@@ -460,12 +490,12 @@ int main(int argc, char **argv){\n   \n \n     /* Add the META-INF/ directory and the manifest */\n-    if(manifest && manifest_file)\n+    if(manifest && mfile)\n       make_manifest(jarfd, mfile);\n     else if(manifest)\n       make_manifest(jarfd, NULL);\n     \n-    init_args (argv, i);\n+    init_args (new_argv, new_argc);\n     /* now we add the files to the archive */\n     while ((arg = get_next_arg ())){\n \n@@ -495,9 +525,9 @@ int main(int argc, char **argv){\n       fprintf(stderr, \"Error closing jar archive!\\n\");\n     }\n   } else if(action == ACTION_LIST){\n-    list_jar(jarfd, &argv[i], (argc - i));\n+    list_jar(jarfd, &new_argv[0], new_argc);\n   } else if(action == ACTION_EXTRACT){\n-    extract_jar(jarfd, &argv[i], (argc - i));\n+    extract_jar(jarfd, &new_argv[0], new_argc);\n   }\n   \n   exit(0);\n@@ -1830,26 +1860,47 @@ int consume(pb_file *pbf, int amt){\n }\n \n void usage(const char *filename){\n-  fprintf(stderr, \"\\\n+  fprintf(stderr, \"Try `%s --help' for more information.\\n\", filename);\n+  exit (1);\n+}\n+\n+void version ()\n+{\n+  printf(\"jar (%s) %s\\n\\n\", PACKAGE, VERSION);\n+  printf(\"Copyright 1999, 2000, 2001  Bryan Burns\\n\");\n+  printf(\"Copyright 2002 Free Software Foundation\\n\");\n+  printf(\"\\\n+This is free software; see the source for copying conditions.  There is NO\\n\\\n+warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\\n\");\n+  exit (0);\n+}\n+\n+void help(const char *filename)\n+{\n+  printf(\"\\\n Usage: %s {ctxuV}[vfm0ME@] [jar-file] [manifest-file] [-C dir] files ...\\n\\\n-Options\\n\\\n- -c  create new archive\\n\\\n- -t  list table of contents for archive\\n\\\n- -x  extract named (or all) files from archive\\n\\\n+\\n\\\n+Store many files together in a single `jar' file.\\n\\\n+\\n\\\n+  -c              create new archive\\n\\\n+  -t              list table of contents for archive\\n\\\n+  -x              extract named (or all) files from archive\\n\\\n+  -u              update existing archive\\n\\\n \", filename);\n-  fprintf(stderr, \"\\\n- -u  update existing archive\\n\\\n- -V  display version information\\n\\\n- -v  generate verbose output on standard output\\n\\\n- -f  specify archive file name\\n\\\n- -m  include manifest information from specified manifest file\\n\\\n- -0  store only; use no ZIP compression\\n\\\n- -M  Do not create a manifest file for the entries\\n\\\n- -C  change to the specified directory and include the following file\\n\\\n- -E  don't include the files found in a directory\\n\\\n- -@  Read names from stdin\\n\\\n+  printf(\"\\n\\\n+  -@              read names from stdin\\n\\\n+  -0              store only; use no ZIP compression\\n\\\n+  -C DIR FILE     change to the specified directory and include\\n\\\n+                  the following file\\n\\\n+  -E              don't include the files found in a directory\\n\\\n+  -f FILE         specify archive file name\\n\\\n+  --help          print this help, then exit\\n\\\n+  -m FILE         include manifest information from specified manifest file\\n\\\n+  -M              Do not create a manifest file for the entries\\n\\\n+  -v              generate verbose output on standard output\\n\\\n+  -V, --version   display version information\\n\\\n \");\n-  fprintf(stderr, \"\\\n+  printf(\"\\n\\\n If any file is a directory then it is processed recursively.\\n\\\n The manifest file name and the archive file name needs to be specified\\n\\\n in the same order the 'm' and 'f' flags are specified.\\n\\\n@@ -1861,7 +1912,7 @@ Example 2: use an existing manifest file 'mymanifest' and archive all the\\n\\\n      jar cvfm classes.jar mymanifest -C foo/ .\\n\\\n \");\n \n-  exit(1);\n+  exit(0);\n }\n \n static char *\n@@ -1874,3 +1925,59 @@ jt_strdup(s)\n   strcpy(result, s);\n   return result;\n }\n+\n+/* Convert \"tar-style\" first argument to a form expected by getopt.\n+   This idea and the code comes from GNU tar.  This can allocate a new\n+   argument vector.  This might leak some memory, but we don't care.  */\n+static void\n+expand_options (int *argcp, char ***argvp)\n+{\n+  int argc = *argcp;\n+  char **argv = *argvp;\n+\n+  if (argc > 1 && argv[1][0] != '-')\n+    {\n+      char buf[3];\n+      char **new_argv;\n+      int new_argc;\n+      char *p;\n+      char **in, **out;\n+\n+      buf[0] = '-';\n+      buf[2] = '\\0';\n+\n+      new_argc = argc - 1 + strlen (argv[1]);\n+      new_argv = (char **) malloc (new_argc * sizeof (char *));\n+      in = argv;\n+      out = new_argv;\n+\n+      *out++ = *in++;\n+      for (p = *in++; *p; ++p)\n+\t{\n+\t  char *opt;\n+\t  buf[1] = *p;\n+\t  *out++ = jt_strdup (buf);\n+\t  /* If the option takes an argument, move the next argument\n+\t     to just after this option.  */\n+\t  opt = strchr (OPTION_STRING, *p);\n+\t  if (opt && opt[1] == ':')\n+\t    {\n+\t      if (in < argv + argc)\n+\t\t*out++ = *in++;\n+\t      else\n+\t\t{\n+\t\t  fprintf(stderr, \"%s: option `%s' requires an argument.\\n\",\n+\t\t\t  argv[0], buf);\n+\t\t  usage(argv[0]);\n+\t\t}\n+\t    }\n+\t}\n+\n+      /* Copy remaining options.  */\n+      while (in < argv + argc)\n+\t*out++ = *in++;\n+\n+      *argcp = new_argc;\n+      *argvp = new_argv;\n+    }\n+}"}]}