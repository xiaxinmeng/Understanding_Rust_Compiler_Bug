{"sha": "eadc0202ff6468fb6927a160f7537503bfa73854", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWFkYzAyMDJmZjY0NjhmYjY5MjdhMTYwZjc1Mzc1MDNiZmE3Mzg1NA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2002-04-02T18:32:10Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-04-02T18:32:10Z"}, "message": "inclhack.def (AAB_solaris_sys_varargs_h): Move and rename solaris_sys_varargs_h.\n\n        * fixinc/inclhack.def (AAB_solaris_sys_varargs_h): Move and\n        rename solaris_sys_varargs_h.\n\nFrom-SVN: r51759", "tree": {"sha": "23065e4a3ef26d032cdd1c4b99273e9ccf43408e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/23065e4a3ef26d032cdd1c4b99273e9ccf43408e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/eadc0202ff6468fb6927a160f7537503bfa73854", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eadc0202ff6468fb6927a160f7537503bfa73854", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eadc0202ff6468fb6927a160f7537503bfa73854", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eadc0202ff6468fb6927a160f7537503bfa73854/comments", "author": null, "committer": null, "parents": [{"sha": "c414f8a95d95f11e2e7dfd6fa0373deb8b01519f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c414f8a95d95f11e2e7dfd6fa0373deb8b01519f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c414f8a95d95f11e2e7dfd6fa0373deb8b01519f"}], "stats": {"total": 115, "additions": 60, "deletions": 55}, "files": [{"sha": "b40448e0345ad0f7ca1a2410618c8ac7479cdd89", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eadc0202ff6468fb6927a160f7537503bfa73854/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eadc0202ff6468fb6927a160f7537503bfa73854/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=eadc0202ff6468fb6927a160f7537503bfa73854", "patch": "@@ -1,3 +1,8 @@\n+2002-04-02  Richard Henderson  <rth@redhat.com>\n+\n+\t* fixinc/inclhack.def (AAB_solaris_sys_varargs_h): Move and\n+\trename solaris_sys_varargs_h.\n+\n Tue Apr  2 06:47:40 2002  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \n \t* stor-layout.c (layout_type, case ARRAY_TYPE): Give one-element array"}, {"sha": "8dd8629ef39fee5059cfd0e99880ee19fbbda55a", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 38, "deletions": 38, "changes": 76, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eadc0202ff6468fb6927a160f7537503bfa73854/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eadc0202ff6468fb6927a160f7537503bfa73854/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=eadc0202ff6468fb6927a160f7537503bfa73854", "patch": "@@ -295,6 +295,38 @@ extern int memcmp();\\n\\n\\\n #endif /* __memory_h__ */\\n\",\n     (char*)NULL };\n \n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Aab_Solaris_Sys_Varargs_H fix\n+ */\n+tSCC zAab_Solaris_Sys_Varargs_HName[] =\n+     \"AAB_solaris_sys_varargs_h\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zAab_Solaris_Sys_Varargs_HList[] =\n+  \"|sys/varargs.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+tSCC* apzAab_Solaris_Sys_Varargs_HMachs[] = {\n+        \"*-*-solaris*\",\n+        (const char*)NULL };\n+#define AAB_SOLARIS_SYS_VARARGS_H_TEST_CT  0\n+#define aAab_Solaris_Sys_Varargs_HTests   (tTestDesc*)NULL\n+\n+/*\n+ *  Fix Command Arguments for Aab_Solaris_Sys_Varargs_H\n+ */\n+static const char* apzAab_Solaris_Sys_Varargs_HPatch[] = {\n+\"#ifdef __STDC__\\n\\\n+#include <stdarg.h>\\n\\\n+#else\\n\\\n+#include <varargs.h>\\n\\\n+#endif\\n\",\n+    (char*)NULL };\n+\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Aab_Svr4_Replace_Byteorder fix\n@@ -3694,38 +3726,6 @@ static const char* apzSolaris_Stdio_TagPatch[] = { \"sed\",\n     \"-e\", \"s/defined(__cplusplus) && (__cplusplus < 54321L)/0/\",\n     (char*)NULL };\n \n-/* * * * * * * * * * * * * * * * * * * * * * * * * *\n- *\n- *  Description of Solaris_Sys_Varargs_H fix\n- */\n-tSCC zSolaris_Sys_Varargs_HName[] =\n-     \"solaris_sys_varargs_h\";\n-\n-/*\n- *  File name selection pattern\n- */\n-tSCC zSolaris_Sys_Varargs_HList[] =\n-  \"|sys/varargs.h|\";\n-/*\n- *  Machine/OS name selection pattern\n- */\n-tSCC* apzSolaris_Sys_Varargs_HMachs[] = {\n-        \"*-*-solaris*\",\n-        (const char*)NULL };\n-#define SOLARIS_SYS_VARARGS_H_TEST_CT  0\n-#define aSolaris_Sys_Varargs_HTests   (tTestDesc*)NULL\n-\n-/*\n- *  Fix Command Arguments for Solaris_Sys_Varargs_H\n- */\n-static const char* apzSolaris_Sys_Varargs_HPatch[] = {\n-\"#ifdef __STDC__\\n\\\n-#include <stdarg.h>\\n\\\n-#else\\n\\\n-#include <varargs.h>\\n\\\n-#endif\\n\",\n-    (char*)NULL };\n-\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Statsswtch fix\n@@ -5549,6 +5549,7 @@ typedef enum {\n     AAB_FD_ZERO_GNU_TYPES_H_FIXIDX,\n     AAB_FD_ZERO_SELECTBITS_H_FIXIDX,\n     AAB_SUN_MEMCPY_FIXIDX,\n+    AAB_SOLARIS_SYS_VARARGS_H_FIXIDX,\n     AAB_SVR4_REPLACE_BYTEORDER_FIXIDX,\n     AAB_ULTRIX_ANSI_COMPAT_FIXIDX,\n     AAB_ULTRIX_LIMITS_FIXIDX,\n@@ -5637,7 +5638,6 @@ typedef enum {\n     SCO_UTIME_FIXIDX,\n     SOLARIS_MUTEX_INIT_FIXIDX,\n     SOLARIS_STDIO_TAG_FIXIDX,\n-    SOLARIS_SYS_VARARGS_H_FIXIDX,\n     STATSSWTCH_FIXIDX,\n     STDIO_STDARG_H_FIXIDX,\n     STDIO_VA_LIST_FIXIDX,\n@@ -5713,6 +5713,11 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      AAB_SUN_MEMCPY_TEST_CT, FD_MACH_ONLY | FD_REPLACEMENT,\n      aAab_Sun_MemcpyTests,   apzAab_Sun_MemcpyPatch, 0 },\n \n+  {  zAab_Solaris_Sys_Varargs_HName,    zAab_Solaris_Sys_Varargs_HList,\n+     apzAab_Solaris_Sys_Varargs_HMachs,\n+     AAB_SOLARIS_SYS_VARARGS_H_TEST_CT, FD_MACH_ONLY | FD_REPLACEMENT,\n+     aAab_Solaris_Sys_Varargs_HTests,   apzAab_Solaris_Sys_Varargs_HPatch, 0 },\n+\n   {  zAab_Svr4_Replace_ByteorderName,    zAab_Svr4_Replace_ByteorderList,\n      apzAab_Svr4_Replace_ByteorderMachs,\n      AAB_SVR4_REPLACE_BYTEORDER_TEST_CT, FD_MACH_ONLY | FD_REPLACEMENT,\n@@ -6153,11 +6158,6 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      SOLARIS_STDIO_TAG_TEST_CT, FD_MACH_ONLY,\n      aSolaris_Stdio_TagTests,   apzSolaris_Stdio_TagPatch, 0 },\n \n-  {  zSolaris_Sys_Varargs_HName,    zSolaris_Sys_Varargs_HList,\n-     apzSolaris_Sys_Varargs_HMachs,\n-     SOLARIS_SYS_VARARGS_H_TEST_CT, FD_MACH_ONLY | FD_REPLACEMENT,\n-     aSolaris_Sys_Varargs_HTests,   apzSolaris_Sys_Varargs_HPatch, 0 },\n-\n   {  zStatsswtchName,    zStatsswtchList,\n      apzStatsswtchMachs,\n      STATSSWTCH_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,"}, {"sha": "1e82ee8e229df95f13136312e9c510290a4c6bfd", "filename": "gcc/fixinc/inclhack.def", "status": "modified", "additions": 17, "deletions": 17, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eadc0202ff6468fb6927a160f7537503bfa73854/gcc%2Ffixinc%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eadc0202ff6468fb6927a160f7537503bfa73854/gcc%2Ffixinc%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.def?ref=eadc0202ff6468fb6927a160f7537503bfa73854", "patch": "@@ -259,6 +259,23 @@ extern int memcmp();\n };\n \n \n+/*\n+ * Solaris <sys/varargs.h> is a DDK (aka kernel-land) header providing\n+ * the same interface as <stdarg.h>.  No idea why they couldn't have just\n+ * used the standard header.\n+ */\n+fix = {\n+    hackname = AAB_solaris_sys_varargs_h;\n+    files    = \"sys/varargs.h\";\n+    mach     = '*-*-solaris*';\n+    replace  = \"#ifdef __STDC__\\n\"\n+\t       \"#include <stdarg.h>\\n\"\n+\t       \"#else\\n\"\n+\t       \"#include <varargs.h>\\n\"\n+\t       \"#endif\\n\";\n+};\n+\n+\n /*\n  *  Completely replace <sys/varargs.h> with a file that includes gcc's\n  *  stdarg.h or varargs.h files as appropriate.\n@@ -2075,23 +2092,6 @@ fix = {\n     test_text = '#if\\tdefined(__cplusplus) && (__cplusplus < 54321L)';\n };\n \n-\n-/*\n- * Solaris <sys/varargs.h> is a DDK (aka kernel-land) header providing\n- * the same interface as <stdarg.h>.  No idea why they couldn't have just\n- * used the standard header.\n- */\n-fix = {\n-    hackname = solaris_sys_varargs_h;\n-    files    = \"sys/varargs.h\";\n-    mach     = '*-*-solaris*';\n-    replace  = \"#ifdef __STDC__\\n\"\n-\t       \"#include <stdarg.h>\\n\"\n-\t       \"#else\\n\"\n-\t       \"#include <varargs.h>\\n\"\n-\t       \"#endif\\n\";\n-};\n-\n /*\n  *  Sony NEWSOS 5.0 does not support the complete ANSI C standard.\n  */"}]}