{"sha": "2c6ce97ed1742ec7e25627df02c23300bd9c6981", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmM2Y2U5N2VkMTc0MmVjN2UyNTYyN2RmMDJjMjMzMDBiZDljNjk4MQ==", "commit": {"author": {"name": "Christian Cornelssen", "email": "ccorn@cs.tu-berlin.de", "date": "2003-01-09T08:04:52Z"}, "committer": {"name": "Andreas Jaeger", "email": "aj@gcc.gnu.org", "date": "2003-01-09T08:04:52Z"}, "message": "Make-lang.in (c++.install-common, [...]): Prepend $(DESTDIR) to destination paths in all (un)installation commands.\n\n2003-01-09  Christian Cornelssen  <ccorn@cs.tu-berlin.de>\n\n\t* Make-lang.in (c++.install-common, c++.install-man,\n\tc++.uninstall): Prepend $(DESTDIR) to destination paths in\n\tall (un)installation commands.\n\t(c++.install-common): Rewrite $(LN) commands to support\n\tDESTDIR with \"ln\" as well as with \"ln -s\".\n\nFrom-SVN: r61079", "tree": {"sha": "bf703698a0eba29b28753ec1bf8e56c6c6d5ae1d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bf703698a0eba29b28753ec1bf8e56c6c6d5ae1d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2c6ce97ed1742ec7e25627df02c23300bd9c6981", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c6ce97ed1742ec7e25627df02c23300bd9c6981", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c6ce97ed1742ec7e25627df02c23300bd9c6981", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c6ce97ed1742ec7e25627df02c23300bd9c6981/comments", "author": null, "committer": null, "parents": [{"sha": "1d27195cb61549bdaccb99f994c7224b1b4a47ad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d27195cb61549bdaccb99f994c7224b1b4a47ad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d27195cb61549bdaccb99f994c7224b1b4a47ad"}], "stats": {"total": 75, "additions": 44, "deletions": 31}, "files": [{"sha": "c8bd7e889df302764bdd3552ea977c95ad2b5ffd", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c6ce97ed1742ec7e25627df02c23300bd9c6981/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c6ce97ed1742ec7e25627df02c23300bd9c6981/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=2c6ce97ed1742ec7e25627df02c23300bd9c6981", "patch": "@@ -1,3 +1,11 @@\n+2003-01-09  Christian Cornelssen  <ccorn@cs.tu-berlin.de>\n+\n+\t* Make-lang.in (c++.install-common, c++.install-man,\n+\tc++.uninstall): Prepend $(DESTDIR) to destination paths in\n+\tall (un)installation commands.\n+\t(c++.install-common): Rewrite $(LN) commands to support\n+\tDESTDIR with \"ln\" as well as with \"ln -s\".\n+\n 2003-01-08  Jason Merrill  <jason@redhat.com>\n \n \t* parser.c (cp_parser_primary_expression): See through explicitly"}, {"sha": "b54e3ba678f468729a42f779fae7e372c9c42eff", "filename": "gcc/cp/Make-lang.in", "status": "modified", "additions": 36, "deletions": 31, "changes": 67, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c6ce97ed1742ec7e25627df02c23300bd9c6981/gcc%2Fcp%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c6ce97ed1742ec7e25627df02c23300bd9c6981/gcc%2Fcp%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FMake-lang.in?ref=2c6ce97ed1742ec7e25627df02c23300bd9c6981", "patch": "@@ -129,27 +129,32 @@ c++.install-normal:\n c++.install-common: installdirs\n \t-if [ -f cc1plus$(exeext) ] ; then \\\n \t  if [ -f g++-cross$(exeext) ] ; then \\\n-\t    rm -f $(bindir)/$(GXX_CROSS_NAME)$(exeext); \\\n-\t    $(INSTALL_PROGRAM) g++-cross$(exeext) $(bindir)/$(GXX_CROSS_NAME)$(exeext); \\\n-\t    chmod a+x $(bindir)/$(GXX_CROSS_NAME)$(exeext); \\\n-\t    rm -f $(bindir)/$(CXX_CROSS_NAME)$(exeext); \\\n-\t    $(LN) $(bindir)/$(GXX_CROSS_NAME)$(exeext) $(bindir)/$(CXX_CROSS_NAME)$(exeext); \\\n-\t    if [ -d $(gcc_tooldir)/bin/. ] ; then \\\n-\t      rm -f $(gcc_tooldir)/bin/g++$(exeext); \\\n-\t      $(INSTALL_PROGRAM) g++-cross$(exeext) $(gcc_tooldir)/bin/g++$(exeext); \\\n-\t      rm -f $(gcc_tooldir)/bin/c++$(exeext); \\\n-\t      $(LN) $(gcc_tooldir)/bin/g++$(exeext) $(gcc_tooldir)/bin/c++$(exeext); \\\n+\t    rm -f $(DESTDIR)$(bindir)/$(GXX_CROSS_NAME)$(exeext); \\\n+\t    $(INSTALL_PROGRAM) g++-cross$(exeext) $(DESTDIR)$(bindir)/$(GXX_CROSS_NAME)$(exeext); \\\n+\t    chmod a+x $(DESTDIR)$(bindir)/$(GXX_CROSS_NAME)$(exeext); \\\n+\t    rm -f $(DESTDIR)$(bindir)/$(CXX_CROSS_NAME)$(exeext); \\\n+\t    ( cd $(DESTDIR)$(bindir) && \\\n+\t      $(LN) $(GXX_CROSS_NAME)$(exeext) $(CXX_CROSS_NAME)$(exeext) ); \\\n+\t    if [ -d $(DESTDIR)$(gcc_tooldir)/bin/. ] ; then \\\n+\t      rm -f $(DESTDIR)$(gcc_tooldir)/bin/g++$(exeext); \\\n+\t      $(INSTALL_PROGRAM) g++-cross$(exeext) $(DESTDIR)$(gcc_tooldir)/bin/g++$(exeext); \\\n+\t      rm -f $(DESTDIR)$(gcc_tooldir)/bin/c++$(exeext); \\\n+\t      ( cd $(DESTDIR)$(gcc_tooldir)/bin && \\\n+\t        $(LN) g++$(exeext) c++$(exeext) ); \\\n \t    else true; fi; \\\n \t  else \\\n-\t    rm -f $(bindir)/$(GXX_INSTALL_NAME)$(exeext); \\\n-\t    $(INSTALL_PROGRAM) g++$(exeext) $(bindir)/$(GXX_INSTALL_NAME)$(exeext); \\\n-\t    chmod a+x $(bindir)/$(GXX_INSTALL_NAME)$(exeext); \\\n-\t    rm -f $(bindir)/$(CXX_INSTALL_NAME)$(exeext); \\\n-\t    $(LN) $(bindir)/$(GXX_INSTALL_NAME)$(exeext) $(bindir)/$(CXX_INSTALL_NAME)$(exeext); \\\n-\t    rm -f $(bindir)/$(GXX_TARGET_INSTALL_NAME)$(exeext); \\\n-\t    $(LN) $(bindir)/$(GXX_INSTALL_NAME)$(exeext) $(bindir)/$(GXX_TARGET_INSTALL_NAME)$(exeext); \\\n-\t    rm -f $(bindir)/$(CXX_TARGET_INSTALL_NAME)$(exeext); \\\n-\t    $(LN) $(bindir)/$(CXX_INSTALL_NAME)$(exeext) $(bindir)/$(CXX_TARGET_INSTALL_NAME)$(exeext); \\\n+\t    rm -f $(DESTDIR)$(bindir)/$(GXX_INSTALL_NAME)$(exeext); \\\n+\t    $(INSTALL_PROGRAM) g++$(exeext) $(DESTDIR)$(bindir)/$(GXX_INSTALL_NAME)$(exeext); \\\n+\t    chmod a+x $(DESTDIR)$(bindir)/$(GXX_INSTALL_NAME)$(exeext); \\\n+\t    rm -f $(DESTDIR)$(bindir)/$(CXX_INSTALL_NAME)$(exeext); \\\n+\t    ( cd $(DESTDIR)$(bindir) && \\\n+\t      $(LN) $(GXX_INSTALL_NAME)$(exeext) $(CXX_INSTALL_NAME)$(exeext) ); \\\n+\t    rm -f $(DESTDIR)$(bindir)/$(GXX_TARGET_INSTALL_NAME)$(exeext); \\\n+\t    ( cd $(DESTDIR)$(bindir) && \\\n+\t      $(LN) $(GXX_INSTALL_NAME)$(exeext) $(GXX_TARGET_INSTALL_NAME)$(exeext) ); \\\n+\t    rm -f $(DESTDIR)$(bindir)/$(CXX_TARGET_INSTALL_NAME)$(exeext); \\\n+\t    ( cd $(DESTDIR)$(bindir) && \\\n+\t      $(LN) $(CXX_INSTALL_NAME)$(exeext) $(CXX_TARGET_INSTALL_NAME)$(exeext) ); \\\n \t  fi ; \\\n \tfi\n \n@@ -158,23 +163,23 @@ c++.install-info:\n c++.install-man: installdirs $(srcdir)/cp/g++.1\n \t-if [ -f cc1plus$(exeext) ] ; then \\\n \t  if [ -f g++-cross$(exeext) ] ; then \\\n-\t    rm -f $(man1dir)/$(GXX_CROSS_NAME)$(man1ext); \\\n-\t    $(INSTALL_DATA) $(srcdir)/cp/g++.1 $(man1dir)/$(GXX_CROSS_NAME)$(man1ext); \\\n-\t    chmod a-x $(man1dir)/$(GXX_CROSS_NAME)$(man1ext); \\\n+\t    rm -f $(DESTDIR)$(man1dir)/$(GXX_CROSS_NAME)$(man1ext); \\\n+\t    $(INSTALL_DATA) $(srcdir)/cp/g++.1 $(DESTDIR)$(man1dir)/$(GXX_CROSS_NAME)$(man1ext); \\\n+\t    chmod a-x $(DESTDIR)$(man1dir)/$(GXX_CROSS_NAME)$(man1ext); \\\n \t  else \\\n-\t    rm -f $(man1dir)/$(GXX_INSTALL_NAME)$(man1ext); \\\n-\t    $(INSTALL_DATA) $(srcdir)/cp/g++.1 $(man1dir)/$(GXX_INSTALL_NAME)$(man1ext); \\\n-\t    chmod a-x $(man1dir)/$(GXX_INSTALL_NAME)$(man1ext); \\\n+\t    rm -f $(DESTDIR)$(man1dir)/$(GXX_INSTALL_NAME)$(man1ext); \\\n+\t    $(INSTALL_DATA) $(srcdir)/cp/g++.1 $(DESTDIR)$(man1dir)/$(GXX_INSTALL_NAME)$(man1ext); \\\n+\t    chmod a-x $(DESTDIR)$(man1dir)/$(GXX_INSTALL_NAME)$(man1ext); \\\n \t  fi; \\\n \telse true; fi\n \n c++.uninstall:\n-\t-rm -rf $(bindir)/$(CXX_INSTALL_NAME)$(exeext)\n-\t-rm -rf $(bindir)/$(CXX_CROSS_NAME)$(exeext)\n-\t-rm -rf $(bindir)/$(GXX_INSTALL_NAME)$(exeext)\n-\t-rm -rf $(bindir)/$(GXX_CROSS_NAME)$(exeext)\n-\t-rm -rf $(man1dir)/$(GXX_INSTALL_NAME)$(man1ext)\n-\t-rm -rf $(man1dir)/$(GXX_CROSS_NAME)$(man1ext)\n+\t-rm -rf $(DESTDIR)$(bindir)/$(CXX_INSTALL_NAME)$(exeext)\n+\t-rm -rf $(DESTDIR)$(bindir)/$(CXX_CROSS_NAME)$(exeext)\n+\t-rm -rf $(DESTDIR)$(bindir)/$(GXX_INSTALL_NAME)$(exeext)\n+\t-rm -rf $(DESTDIR)$(bindir)/$(GXX_CROSS_NAME)$(exeext)\n+\t-rm -rf $(DESTDIR)$(man1dir)/$(GXX_INSTALL_NAME)$(man1ext)\n+\t-rm -rf $(DESTDIR)$(man1dir)/$(GXX_CROSS_NAME)$(man1ext)\n #\f\n # Clean hooks:\n # A lot of the ancillary files are deleted by the main makefile."}]}