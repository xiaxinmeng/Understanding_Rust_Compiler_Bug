{"sha": "169f75f3846b0b292f5a7a6b4fddc1023c663ec6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTY5Zjc1ZjM4NDZiMGIyOTJmNWE3YTZiNGZkZGMxMDIzYzY2M2VjNg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2002-09-25T20:57:03Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2002-09-25T20:57:03Z"}, "message": "* java/lang/natClassLoader.cc:\n\n\t(_Jv_PrepareCompiledClass): Throw NoClassDefFoundError, per spec.\n\t* resolve.cc: Include NoClassDefFoundError.h, not\n\tClassNotFoundException.h.\n\t(_Jv_ResolvePoolEntry): Throw NoClassDefFoundError, per spec.\n\t* defineclass.cc: Don't include ClassNotFoundException.h.\n\nFrom-SVN: r57516", "tree": {"sha": "43e82772814712c2a3228d0a73999e5b18cc3b7f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/43e82772814712c2a3228d0a73999e5b18cc3b7f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/169f75f3846b0b292f5a7a6b4fddc1023c663ec6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/169f75f3846b0b292f5a7a6b4fddc1023c663ec6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/169f75f3846b0b292f5a7a6b4fddc1023c663ec6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/169f75f3846b0b292f5a7a6b4fddc1023c663ec6/comments", "author": null, "committer": null, "parents": [{"sha": "fd44a92df60208084fda548f0d2be237d25735e2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd44a92df60208084fda548f0d2be237d25735e2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd44a92df60208084fda548f0d2be237d25735e2"}], "stats": {"total": 15, "additions": 11, "deletions": 4}, "files": [{"sha": "b97f9d53da074db1302673ea17a2b378bed7e8c8", "filename": "libjava/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/169f75f3846b0b292f5a7a6b4fddc1023c663ec6/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/169f75f3846b0b292f5a7a6b4fddc1023c663ec6/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=169f75f3846b0b292f5a7a6b4fddc1023c663ec6", "patch": "@@ -1,5 +1,12 @@\n 2002-09-25  Tom Tromey  <tromey@redhat.com>\n \n+\t* java/lang/natClassLoader.cc: \n+\t(_Jv_PrepareCompiledClass): Throw NoClassDefFoundError, per spec.\n+\t* resolve.cc: Include NoClassDefFoundError.h, not\n+\tClassNotFoundException.h.\n+\t(_Jv_ResolvePoolEntry): Throw NoClassDefFoundError, per spec.\n+\t* defineclass.cc: Don't include ClassNotFoundException.h.\n+\n \t* resolve.cc: Include StringBuffer.\n \t(_Jv_ResolvePoolEntry): Use StringBuffer to create error string.\n "}, {"sha": "6a250dadda6910bee6ee415223195d099d9dd765", "filename": "libjava/defineclass.cc", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/169f75f3846b0b292f5a7a6b4fddc1023c663ec6/libjava%2Fdefineclass.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/169f75f3846b0b292f5a7a6b4fddc1023c663ec6/libjava%2Fdefineclass.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fdefineclass.cc?ref=169f75f3846b0b292f5a7a6b4fddc1023c663ec6", "patch": "@@ -35,7 +35,6 @@ details.  */\n #include <java/lang/ClassFormatError.h>\n #include <java/lang/NoClassDefFoundError.h>\n #include <java/lang/ClassCircularityError.h>\n-#include <java/lang/ClassNotFoundException.h>\n #include <java/lang/IncompatibleClassChangeError.h>\n #include <java/lang/reflect/Modifier.h>\n "}, {"sha": "d33614dbf032866976df139a0ce48ac7c57c1c09", "filename": "libjava/java/lang/natClassLoader.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/169f75f3846b0b292f5a7a6b4fddc1023c663ec6/libjava%2Fjava%2Flang%2FnatClassLoader.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/169f75f3846b0b292f5a7a6b4fddc1023c663ec6/libjava%2Fjava%2Flang%2FnatClassLoader.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FnatClassLoader.cc?ref=169f75f3846b0b292f5a7a6b4fddc1023c663ec6", "patch": "@@ -260,7 +260,7 @@ _Jv_PrepareCompiledClass (jclass klass)\n \t  if (! found)\n \t    {\n \t      jstring str = _Jv_NewStringUTF (name->data);\n-\t      throw new java::lang::ClassNotFoundException (str);\n+\t      throw new java::lang::NoClassDefFoundError (str);\n \t    }\n \n \t  pool->data[index].clazz = found;"}, {"sha": "af1f7c60c1af0faa23afbd75080fd9c4b4d3cd25", "filename": "libjava/resolve.cc", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/169f75f3846b0b292f5a7a6b4fddc1023c663ec6/libjava%2Fresolve.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/169f75f3846b0b292f5a7a6b4fddc1023c663ec6/libjava%2Fresolve.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fresolve.cc?ref=169f75f3846b0b292f5a7a6b4fddc1023c663ec6", "patch": "@@ -29,7 +29,7 @@ details.  */\n #include <java/lang/ClassFormatError.h>\n #include <java/lang/IllegalAccessError.h>\n #include <java/lang/AbstractMethodError.h>\n-#include <java/lang/ClassNotFoundException.h>\n+#include <java/lang/NoClassDefFoundError.h>\n #include <java/lang/IncompatibleClassChangeError.h>\n #include <java/lang/reflect/Modifier.h>\n \n@@ -98,7 +98,8 @@ _Jv_ResolvePoolEntry (jclass klass, int index)\n       if (! found)\n \t{\n \t  jstring str = _Jv_NewStringUTF (name->data);\n-\t  throw new java::lang::ClassNotFoundException (str);\n+\t  // This exception is specified in JLS 2nd Ed, section 5.1.\n+\t  throw new java::lang::NoClassDefFoundError (str);\n \t}\n \n       if ((found->accflags & Modifier::PUBLIC) == Modifier::PUBLIC"}]}