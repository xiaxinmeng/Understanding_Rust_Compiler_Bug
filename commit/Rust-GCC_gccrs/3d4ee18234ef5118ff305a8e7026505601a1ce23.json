{"sha": "3d4ee18234ef5118ff305a8e7026505601a1ce23", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2Q0ZWUxODIzNGVmNTExOGZmMzA1YThlNzAyNjUwNTYwMWExY2UyMw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2005-05-18T17:33:33Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2005-05-18T17:33:33Z"}, "message": "re PR target/21632 (ICE with small model attribute on ia64)\n\n        PR target/21632\n        * config/ia64/ia64.c (ia64_extra_constraint) <'T'>: Use\n        small_addr_symbolic_operand.\n\nFrom-SVN: r99910", "tree": {"sha": "72f0092c128e950ef8ce8696fac63351fe894d97", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/72f0092c128e950ef8ce8696fac63351fe894d97"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3d4ee18234ef5118ff305a8e7026505601a1ce23", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d4ee18234ef5118ff305a8e7026505601a1ce23", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3d4ee18234ef5118ff305a8e7026505601a1ce23", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d4ee18234ef5118ff305a8e7026505601a1ce23/comments", "author": null, "committer": null, "parents": [{"sha": "6aca9695cfe6c56b4aa13957db1d462805edc658", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6aca9695cfe6c56b4aa13957db1d462805edc658", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6aca9695cfe6c56b4aa13957db1d462805edc658"}], "stats": {"total": 32, "additions": 30, "deletions": 2}, "files": [{"sha": "9edcf433eeb95fc71586435bcde74d627371eec5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d4ee18234ef5118ff305a8e7026505601a1ce23/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d4ee18234ef5118ff305a8e7026505601a1ce23/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3d4ee18234ef5118ff305a8e7026505601a1ce23", "patch": "@@ -1,3 +1,9 @@\n+2005-05-18  Richard Henderson  <rth@redhat.com>\n+\n+\tPR target/21632\n+\t* config/ia64/ia64.c (ia64_extra_constraint) <'T'>: Use\n+\tsmall_addr_symbolic_operand.\n+\n 2005-05-18  Jeff Law  <law@redhat.com>\n \n \t* tree-ssa-forwprop.c (forward_propagate_addr_expr): Do not"}, {"sha": "d23d3553d8d98498fa54a9488fce04e05b0ec595", "filename": "gcc/config/ia64/ia64.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d4ee18234ef5118ff305a8e7026505601a1ce23/gcc%2Fconfig%2Fia64%2Fia64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d4ee18234ef5118ff305a8e7026505601a1ce23/gcc%2Fconfig%2Fia64%2Fia64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Fia64.c?ref=3d4ee18234ef5118ff305a8e7026505601a1ce23", "patch": "@@ -618,8 +618,7 @@ ia64_extra_constraint (rtx value, char c)\n \n     case 'T':\n       /* Symbol ref to small-address-area.  */\n-      return (GET_CODE (value) == SYMBOL_REF\n-\t      && SYMBOL_REF_SMALL_ADDR_P (value));\n+      return small_addr_symbolic_operand (value, VOIDmode);\n \n     case 'U':\n       /* Vector zero.  */"}, {"sha": "8462186235e111e5332b5ec51c5c574671e07604", "filename": "gcc/testsuite/gcc.target/ia64/small-addr-1.c", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d4ee18234ef5118ff305a8e7026505601a1ce23/gcc%2Ftestsuite%2Fgcc.target%2Fia64%2Fsmall-addr-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d4ee18234ef5118ff305a8e7026505601a1ce23/gcc%2Ftestsuite%2Fgcc.target%2Fia64%2Fsmall-addr-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fia64%2Fsmall-addr-1.c?ref=3d4ee18234ef5118ff305a8e7026505601a1ce23", "patch": "@@ -0,0 +1,23 @@\n+/* PR target/21632 */\n+/* { dg-do compile } */\n+/* { dg-options \"-O2\" } */\n+\n+struct S\n+{\n+  void *s[256];\n+};\n+\n+struct T\n+{\n+  long t[23];\n+  struct S *u;\n+};\n+\n+extern struct T __attribute__((model (small))) v;\n+\n+void *\n+foo (void)\n+{\n+  return v.u->s[0];\n+}\n+"}]}