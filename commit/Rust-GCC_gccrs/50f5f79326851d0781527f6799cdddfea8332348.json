{"sha": "50f5f79326851d0781527f6799cdddfea8332348", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTBmNWY3OTMyNjg1MWQwNzgxNTI3ZjY3OTljZGRkZmVhODMzMjM0OA==", "commit": {"author": {"name": "Joseph Myers", "email": "jsm28@cam.ac.uk", "date": "2001-10-02T06:39:18Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2001-10-02T06:39:18Z"}, "message": "* configure: Handle temporary files securely using mkdir.\n\nFrom-SVN: r45939", "tree": {"sha": "4dd64ba201b01f730f09d7428d11f51c43a16c8c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4dd64ba201b01f730f09d7428d11f51c43a16c8c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/50f5f79326851d0781527f6799cdddfea8332348", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50f5f79326851d0781527f6799cdddfea8332348", "html_url": "https://github.com/Rust-GCC/gccrs/commit/50f5f79326851d0781527f6799cdddfea8332348", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50f5f79326851d0781527f6799cdddfea8332348/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "357e3f3d83e1087d5fa239dddcb1ceb1e9b775ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/357e3f3d83e1087d5fa239dddcb1ceb1e9b775ac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/357e3f3d83e1087d5fa239dddcb1ceb1e9b775ac"}], "stats": {"total": 18, "additions": 12, "deletions": 6}, "files": [{"sha": "a8808c3ae58386c211b63770a5db77ead28fdc47", "filename": "ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50f5f79326851d0781527f6799cdddfea8332348/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50f5f79326851d0781527f6799cdddfea8332348/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=50f5f79326851d0781527f6799cdddfea8332348", "patch": "@@ -1,3 +1,7 @@\n+2001-10-02  Joseph S. Myers  <jsm28@cam.ac.uk>\n+\n+\t* configure: Handle temporary files securely using mkdir.\n+\n 2001-09-29  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* Makefile.in (configure-target-gperf): Depend on $(ALL_GCC_CXX)."}, {"sha": "0ed86dae772c9c0a7314a011c11c263ad8abc6a6", "filename": "configure", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50f5f79326851d0781527f6799cdddfea8332348/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50f5f79326851d0781527f6799cdddfea8332348/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=50f5f79326851d0781527f6799cdddfea8332348", "patch": "@@ -3,7 +3,7 @@\n ### WARNING: this file contains embedded tabs.  Do not run untabify on this file.\n \n # Configuration script\n-# Copyright (C) 1988, 90, 91, 92, 93, 94, 95, 96, 97, 98, 1999\n+# Copyright (C) 1988, 90, 91, 92, 93, 94, 95, 96, 97, 98, 1999, 2000, 2001\n # Free Software Foundation, Inc.\n \n # This program is free software; you can redistribute it and/or modify\n@@ -89,7 +89,7 @@ subdirs=\n target_alias=NOTARGET\n target_makefile_frag=\n undefs=NOUNDEFS\n-version=\"$Revision: 1.35 $\"\n+version=\"$Revision: 1.36 $\"\n x11=default\n bindir='${exec_prefix}/bin'\n sbindir='${exec_prefix}/sbin'\n@@ -663,13 +663,15 @@ case \"${TMPDIR}\" in\n esac\n \n # keep this filename short for &%*%$*# 14 char file names and 8+3 file names\n-tmpfile=${TMPDIR}/cNf$$\n+tmpdir=${TMPDIR}/cNf$$\n+mkdir ${tmpdir} || exit 1\n+tmpfile=${tmpdir}/cNf$$\n # Note that under many versions of sh a trap handler for 0 will *override* any\n # exit status you explicitly specify!  At this point, the only non-error exit\n # is at the end of the script; these actions are duplicated there, minus\n # the \"exit 1\".  Don't use \"exit 0\" anywhere after this without resetting the\n # trap handler, or you'll lose.\n-trap \"rm -f Makefile.tem ${tmpfile}.com ${tmpfile}.tgt ${tmpfile}.hst ${tmpfile}.pos; exit 1\" 0 1 2 15\n+trap \"rm -rf Makefile.tem ${tmpdir}; exit 1\" 0 1 2 15\n \n # split ${srcdir}/configure.in into common, per-host, per-target,\n # and post-target parts.  Post-target is optional.\n@@ -696,7 +698,7 @@ if test -f skip-this-dir; then\n \t# Perform the same cleanup as the trap handler, minus the \"exit 1\" of course,\n \t# and reset the trap handler.\n \ttrap 0\n-\trm -f Makefile* ${tmpfile}.com ${tmpfile}.tgt ${tmpfile}.hst ${tmpfile}.pos\n+\trm -rf Makefile* ${tmpdir}\n \t# Execute the final clean-up actions\n \t${config_shell} skip-this-dir\n \t# and stop configuring this directory.\n@@ -1600,7 +1602,7 @@ fi\n \n # Perform the same cleanup as the trap handler, minus the \"exit 1\" of course,\n # and reset the trap handler.\n-rm -f ${tmpfile}.com ${tmpfile}.tgt ${tmpfile}.hst ${tmpfile}.pos\n+rm -rf ${tmpdir}\n trap 0\n \n exit 0"}]}