{"sha": "2454c8d44981e0cafc82c6bf631700773e66d3b8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjQ1NGM4ZDQ0OTgxZTBjYWZjODJjNmJmNjMxNzAwNzczZTY2ZDNiOA==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1994-08-02T18:53:35Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1994-08-02T18:53:35Z"}, "message": "(V9_SWITCHES): Add -mmedlow, -mmedany.\n\n(TARGET_OPTIONS): Delete.\n(CONDITIONAL_REGISTER_USAGE): Don't unfix %g4 if -mmedany.\n\nFrom-SVN: r7851", "tree": {"sha": "3c165126cf149e83d7931700d1f73b44e1abda7b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3c165126cf149e83d7931700d1f73b44e1abda7b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2454c8d44981e0cafc82c6bf631700773e66d3b8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2454c8d44981e0cafc82c6bf631700773e66d3b8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2454c8d44981e0cafc82c6bf631700773e66d3b8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2454c8d44981e0cafc82c6bf631700773e66d3b8/comments", "author": null, "committer": null, "parents": [{"sha": "00dc0e0a65d4a69f0f40a821284b5bbc6c18bdf1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/00dc0e0a65d4a69f0f40a821284b5bbc6c18bdf1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/00dc0e0a65d4a69f0f40a821284b5bbc6c18bdf1"}], "stats": {"total": 45, "additions": 7, "deletions": 38}, "files": [{"sha": "1de5c5d9c6014ae7cbf23064cbab1d3786efa69d", "filename": "gcc/config/sparc/sparc.h", "status": "modified", "additions": 7, "deletions": 38, "changes": 45, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2454c8d44981e0cafc82c6bf631700773e66d3b8/gcc%2Fconfig%2Fsparc%2Fsparc.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2454c8d44981e0cafc82c6bf631700773e66d3b8/gcc%2Fconfig%2Fsparc%2Fsparc.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.h?ref=2454c8d44981e0cafc82c6bf631700773e66d3b8", "patch": "@@ -240,7 +240,7 @@ extern int target_flags;\n    Hence, we assume the upper 32 bits of symbolic addresses are zero, and\n    avoid generating %uhi and %ulo terms.\n    Pointers are still 64 bits though!  This option is for v9 only.  */\n-/* ??? This option is deprecated.  Try to use -mcode-model=medium-low.  */\n+/* ??? This option is deprecated.  Try to use -mmedlow.  */\n #define MASK_ENV32 0x10000\n #define TARGET_ENV32 (target_flags & MASK_ENV32)\n \n@@ -327,45 +327,14 @@ extern int target_flags;\n /*  {\"ptr64\", MASK_PTR64}, */\t\t\\\n /*  {\"ptr32\", -MASK_PTR64}, */\t\t\\\n     {\"stack-bias\", MASK_STACK_BIAS},\t\\\n-    {\"no-stack-bias\", -MASK_STACK_BIAS},\n+    {\"no-stack-bias\", -MASK_STACK_BIAS}, \\\n+    {\"medlow\", -MASK_CODE_MODEL},\t\\\n+    {\"medlow\", MASK_MEDLOW},\t\t\\\n+    {\"medany\", -MASK_CODE_MODEL},\t\\\n+    {\"medany\", MASK_MEDANY},\n #else\n #define V9_SWITCHES\n #endif\n-\n-/* This macro is similar to `TARGET_SWITCHES' but defines names of\n-   command options that have values.  Its definition is an\n-   initializer with a subgrouping for each command option.\n-\n-   Each subgrouping contains a string constant, that defines the\n-   fixed part of the option name, and the address of a variable. \n-   The variable, type `char *', is set to the variable part of the\n-   given option if the fixed part matches.  The actual option name\n-   is made by prepending `-m' to the specified name.\n-\n-   Here is an example which defines `-mshort-data-NUMBER'.  If the\n-   given option is `-mshort-data-512', the variable `m88k_short_data'\n-   will be set to the string `\"512\"'.\n-\n-\textern char *m88k_short_data;\n-\t#define TARGET_OPTIONS { { \"short-data-\", &m88k_short_data } }  */\n-\n-/* For v9, two values of \"code model\" are currently supported.\n-\n-   medium-low\n-\t32 bit address space starting at 0\n-\n-   medium-anywhere\n-\t32 bit text segment starting at 0\n-\t32 bit data segment(s) starting anywhere (determined at link time)\n-\tMEDANY_BASE_REG points to the start\n-*/\n-\n-extern char *sparc_code_model;\n-\n-#define TARGET_OPTIONS \\\n-{\t\t\t\t\t\t\t\\\n-  { \"code-model=\",\t&sparc_code_model\t}\t\\\n-}\n \f\n /* target machine storage layout */\n \n@@ -649,7 +618,7 @@ do\t\t\t\t\t\t\t\t\\\n       {\t\t\t\t\t\t\t\t\\\n \tfixed_regs[2] = 0;\t\t\t\t\t\\\n \tfixed_regs[3] = 0;\t\t\t\t\t\\\n-\tfixed_regs[4] = 0;\t\t\t\t\t\\\n+\tfixed_regs[4] = TARGET_MEDANY != 0;\t\t\t\\\n       }\t\t\t\t\t\t\t\t\\\n     if (TARGET_FLAT)\t\t\t\t\t\t\\\n       {\t\t\t\t\t\t\t\t\\"}]}