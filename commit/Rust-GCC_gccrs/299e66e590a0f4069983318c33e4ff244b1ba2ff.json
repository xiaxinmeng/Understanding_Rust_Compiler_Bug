{"sha": "299e66e590a0f4069983318c33e4ff244b1ba2ff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjk5ZTY2ZTU5MGEwZjQwNjk5ODMzMThjMzNlNGZmMjQ0YjFiYTJmZg==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-05-31T23:57:47Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-05-31T23:57:47Z"}, "message": "new\n\nFrom-SVN: r20159", "tree": {"sha": "074f07ed286005380c06bcea016bf7d75c2d04ae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/074f07ed286005380c06bcea016bf7d75c2d04ae"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/299e66e590a0f4069983318c33e4ff244b1ba2ff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/299e66e590a0f4069983318c33e4ff244b1ba2ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/299e66e590a0f4069983318c33e4ff244b1ba2ff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/299e66e590a0f4069983318c33e4ff244b1ba2ff/comments", "author": null, "committer": null, "parents": [{"sha": "1ceaad38dfebb9dac622f304cb76acc3cac96247", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ceaad38dfebb9dac622f304cb76acc3cac96247", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ceaad38dfebb9dac622f304cb76acc3cac96247"}], "stats": {"total": 106, "additions": 106, "deletions": 0}, "files": [{"sha": "82822611a4bc046fea5b07e4a95773b3307b3459", "filename": "gcc/testsuite/g++.old-deja/g++.pt/mi1.C", "status": "added", "additions": 75, "deletions": 0, "changes": 75, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/299e66e590a0f4069983318c33e4ff244b1ba2ff/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fmi1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/299e66e590a0f4069983318c33e4ff244b1ba2ff/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fmi1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fmi1.C?ref=299e66e590a0f4069983318c33e4ff244b1ba2ff", "patch": "@@ -0,0 +1,75 @@\n+// Test that binfos aren't erroneously shared between instantiations.\n+\n+class PK_CryptoSystem\n+{\n+};\n+class PK_Encryptor : public virtual PK_CryptoSystem\n+{\n+};\n+class PK_FixedLengthCryptoSystem : public virtual PK_CryptoSystem\n+{\n+public:\n+\tvirtual unsigned int CipherTextLength() const =0;\n+};\n+class PK_FixedLengthEncryptor : public virtual PK_Encryptor, public virtual PK_FixedLengthCryptoSystem\n+{\n+};\n+class PK_SignatureSystem\n+{\n+public:\n+\tvirtual ~PK_SignatureSystem() {};\n+};\n+class PK_Signer : public virtual PK_SignatureSystem\n+{\n+public:\n+\tvirtual void Sign() = 0;\n+};\n+class PK_Verifier : public virtual PK_SignatureSystem\n+{\n+};\n+class PK_Precomputation\n+{\n+};\n+template <class T> class\n+PK_WithPrecomputation : public T, public virtual PK_Precomputation\n+{\n+};\n+typedef PK_WithPrecomputation<PK_FixedLengthEncryptor> PKWPFLE;\n+typedef PK_WithPrecomputation<PK_Signer> PKWPS;\n+template <class EC> class\n+ECPublicKey : public PKWPFLE\n+{\n+public:\n+\tunsigned int CipherTextLength() const { return 1; }\n+\tEC ec;\n+};\n+template <class EC>\n+class ECPrivateKey : public ECPublicKey<EC>, public PKWPS\n+{\n+\tvoid Sign() {}\n+\tint d;\n+};\n+template <class EC>\n+class ECKEP : public ECPrivateKey<EC>\n+{\n+};\n+class GF2NT : public PK_CryptoSystem\n+{\n+\tint t1;\n+};\n+class EC2N : public PK_CryptoSystem\n+{\n+\tGF2NT field;\n+\tint a;\n+};\n+template class ECKEP<EC2N>;\n+template class ECKEP<int>;\n+\n+int\n+main ()\n+{\n+  ECKEP<EC2N> foo;\n+\n+  return 0;\n+}\n+"}, {"sha": "58d26fcf2add8caeefbbfdc523200a037acb9f38", "filename": "gcc/testsuite/g++.old-deja/g++.pt/vbase1.C", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/299e66e590a0f4069983318c33e4ff244b1ba2ff/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fvbase1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/299e66e590a0f4069983318c33e4ff244b1ba2ff/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fvbase1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fvbase1.C?ref=299e66e590a0f4069983318c33e4ff244b1ba2ff", "patch": "@@ -0,0 +1,31 @@\n+// Check that template classes handle inherited virtual bases\n+// properly, initializing them before direct non-virtual bases.\n+\n+int aflag;\n+\n+struct A\n+{\n+  A() { aflag = 1; }\n+};\n+\n+struct B : virtual public A \n+{\n+  B() { }\n+};\n+\n+struct C\n+{\n+  C() { if (!aflag) exit (1); }\n+};\n+\n+template<class Parent>\n+struct D : public C, public Parent\n+{\n+  D() { }\n+};\n+\n+int\n+main ()\n+{\n+  D<B> c;\n+}"}]}