{"sha": "74fe26b270f55b1245d6cb863fca3734003a277a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzRmZTI2YjI3MGY1NWIxMjQ1ZDZjYjg2M2ZjYTM3MzQwMDNhMjc3YQ==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@redhat.com", "date": "2000-11-16T20:01:21Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "2000-11-16T20:01:21Z"}, "message": "Fix ia64 C++ gprel link errors.\n\n\t* config/ia64/ia64.c (ia64_encode_section_info): Disallow decls with\n\tDECL_EXTERNAL set.\n\nFrom-SVN: r37505", "tree": {"sha": "6684eac7bde7358cf16bc79ae108633469c0d936", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6684eac7bde7358cf16bc79ae108633469c0d936"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/74fe26b270f55b1245d6cb863fca3734003a277a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74fe26b270f55b1245d6cb863fca3734003a277a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/74fe26b270f55b1245d6cb863fca3734003a277a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74fe26b270f55b1245d6cb863fca3734003a277a/comments", "author": null, "committer": null, "parents": [{"sha": "e24fa9dac1d7f5d1a628f04a1952a38eff8d2d23", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e24fa9dac1d7f5d1a628f04a1952a38eff8d2d23", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e24fa9dac1d7f5d1a628f04a1952a38eff8d2d23"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "b735f44e3556e536cc048a691d0340538c06377f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74fe26b270f55b1245d6cb863fca3734003a277a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74fe26b270f55b1245d6cb863fca3734003a277a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=74fe26b270f55b1245d6cb863fca3734003a277a", "patch": "@@ -1,3 +1,8 @@\n+2000-11-16  Jim Wilson  <wilson@redhat.com>\n+\n+\t* config/ia64/ia64.c (ia64_encode_section_info): Disallow decls with\n+\tDECL_EXTERNAL set.\n+\n 2000-11-16  Nick Clifton  <nickc@redhat.com>\n \n \t* config/arm/arm.c (output_arm_prologue): Note nested functions."}, {"sha": "ee8121f819843132c31a562d8b92c6357575a358", "filename": "gcc/config/ia64/ia64.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74fe26b270f55b1245d6cb863fca3734003a277a/gcc%2Fconfig%2Fia64%2Fia64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74fe26b270f55b1245d6cb863fca3734003a277a/gcc%2Fconfig%2Fia64%2Fia64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Fia64.c?ref=74fe26b270f55b1245d6cb863fca3734003a277a", "patch": "@@ -4764,8 +4764,12 @@ ia64_encode_section_info (decl)\n   /* ??? Actually, we can put globals in sdata, as long as we don't use gprel\n      to access them.  The linker may then be able to do linker relaxation to\n      optimize references to them.  Currently sdata implies use of gprel.  */\n+  /* We need the DECL_EXTERNAL check for C++.  static class data members get\n+     both TREE_STATIC and DECL_EXTERNAL set, to indicate that they are\n+     statically allocated, but the space is allocated somewhere else.  Such\n+     decls can not be own data.  */\n   if (! TARGET_NO_SDATA\n-      && TREE_STATIC (decl)\n+      && TREE_STATIC (decl) && ! DECL_EXTERNAL (decl)\n       && ! (DECL_ONE_ONLY (decl) || DECL_WEAK (decl))\n       && ! (TREE_PUBLIC (decl)\n \t    && (flag_pic"}]}