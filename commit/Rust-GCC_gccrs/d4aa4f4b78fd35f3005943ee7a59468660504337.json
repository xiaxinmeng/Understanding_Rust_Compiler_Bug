{"sha": "d4aa4f4b78fd35f3005943ee7a59468660504337", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDRhYTRmNGI3OGZkMzVmMzAwNTk0M2VlN2E1OTQ2ODY2MDUwNDMzNw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@google.com", "date": "2009-06-19T17:56:01Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2009-06-19T17:56:01Z"}, "message": "i386.c (ix86_function_specific_save): Test that fields match values...\n\n\t* config/i386/i386.c (ix86_function_specific_save): Test that\n\tfields match values, rather than testing the values are in a\n\tcertain range.\n\nFrom-SVN: r148721", "tree": {"sha": "296149cfc20b545876f5462a5da72b630a3c511b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/296149cfc20b545876f5462a5da72b630a3c511b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d4aa4f4b78fd35f3005943ee7a59468660504337", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4aa4f4b78fd35f3005943ee7a59468660504337", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d4aa4f4b78fd35f3005943ee7a59468660504337", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4aa4f4b78fd35f3005943ee7a59468660504337/comments", "author": null, "committer": null, "parents": [{"sha": "9b88236b3440aacc4f3e0d1ef36bcf680fc04a4a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b88236b3440aacc4f3e0d1ef36bcf680fc04a4a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9b88236b3440aacc4f3e0d1ef36bcf680fc04a4a"}], "stats": {"total": 20, "additions": 14, "deletions": 6}, "files": [{"sha": "695547c4618f9504c2276b5c782cb4ca60478b64", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d4aa4f4b78fd35f3005943ee7a59468660504337/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d4aa4f4b78fd35f3005943ee7a59468660504337/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d4aa4f4b78fd35f3005943ee7a59468660504337", "patch": "@@ -1,3 +1,9 @@\n+2009-06-19  Ian Lance Taylor  <iant@google.com>\n+\n+\t* config/i386/i386.c (ix86_function_specific_save): Test that\n+\tfields match values, rather than testing the values are in a\n+\tcertain range.\n+\n 2009-06-19  Richard Guenther  <rguenther@suse.de>\n \n \t* tree-ssa-alias.c (ptr_deref_may_alias_decl_p): Handle"}, {"sha": "06ae734af3010670cb8ceb5528845610f2bf79d1", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d4aa4f4b78fd35f3005943ee7a59468660504337/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d4aa4f4b78fd35f3005943ee7a59468660504337/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=d4aa4f4b78fd35f3005943ee7a59468660504337", "patch": "@@ -3424,12 +3424,6 @@ override_options (bool main_args_p)\n static void\n ix86_function_specific_save (struct cl_target_option *ptr)\n {\n-  gcc_assert (IN_RANGE (ix86_arch, 0, 255));\n-  gcc_assert (IN_RANGE (ix86_schedule, 0, 255));\n-  gcc_assert (IN_RANGE (ix86_tune, 0, 255));\n-  gcc_assert (IN_RANGE (ix86_fpmath, 0, 255));\n-  gcc_assert (IN_RANGE (ix86_branch_cost, 0, 255));\n-\n   ptr->arch = ix86_arch;\n   ptr->schedule = ix86_schedule;\n   ptr->tune = ix86_tune;\n@@ -3439,6 +3433,14 @@ ix86_function_specific_save (struct cl_target_option *ptr)\n   ptr->arch_specified = ix86_arch_specified;\n   ptr->ix86_isa_flags_explicit = ix86_isa_flags_explicit;\n   ptr->target_flags_explicit = target_flags_explicit;\n+\n+  /* The fields are char but the variables are not; make sure the\n+     values fit in the fields.  */\n+  gcc_assert (ptr->arch == ix86_arch);\n+  gcc_assert (ptr->schedule == ix86_schedule);\n+  gcc_assert (ptr->tune == ix86_tune);\n+  gcc_assert (ptr->fpmath == ix86_fpmath);\n+  gcc_assert (ptr->branch_cost == ix86_branch_cost);\n }\n \n /* Restore the current options */"}]}