{"sha": "2206fb89403bef0b06818c0f180a85d98c2674c2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjIwNmZiODk0MDNiZWYwYjA2ODE4YzBmMTgwYTg1ZDk4YzI2NzRjMg==", "commit": {"author": {"name": "Iain Buclaw", "email": "ibuclaw@gdcproject.org", "date": "2018-08-05T20:24:59Z"}, "committer": {"name": "Iain Buclaw", "email": "ibuclaw@gcc.gnu.org", "date": "2018-08-05T20:24:59Z"}, "message": "libbacktrace: Suppress the default action-if-found for AC_CHECK_LIBS.\n\nZlib is not a dependency of libbacktrace, and so it shouldn't be added\nto LIBS.\n\nlibbacktrace/\n\n\t* configure.ac: Move define of HAVE_ZLIB into check for -lz.\n\t* Makefile.in: Regenerate.\n\t* config.h.in: Likewise.\n\t* configure: Likewise.\n\nFrom-SVN: r263320", "tree": {"sha": "ae1c472a9b13bde9a7b8206efe36e41b3c5c0e6a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ae1c472a9b13bde9a7b8206efe36e41b3c5c0e6a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2206fb89403bef0b06818c0f180a85d98c2674c2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2206fb89403bef0b06818c0f180a85d98c2674c2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2206fb89403bef0b06818c0f180a85d98c2674c2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2206fb89403bef0b06818c0f180a85d98c2674c2/comments", "author": {"login": "ibuclaw", "id": 397929, "node_id": "MDQ6VXNlcjM5NzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/397929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuclaw", "html_url": "https://github.com/ibuclaw", "followers_url": "https://api.github.com/users/ibuclaw/followers", "following_url": "https://api.github.com/users/ibuclaw/following{/other_user}", "gists_url": "https://api.github.com/users/ibuclaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuclaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuclaw/subscriptions", "organizations_url": "https://api.github.com/users/ibuclaw/orgs", "repos_url": "https://api.github.com/users/ibuclaw/repos", "events_url": "https://api.github.com/users/ibuclaw/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuclaw/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "dd5faf200e29d4e784ce0b484c79fd9dc4eead90", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd5faf200e29d4e784ce0b484c79fd9dc4eead90", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd5faf200e29d4e784ce0b484c79fd9dc4eead90"}], "stats": {"total": 28, "additions": 11, "deletions": 17}, "files": [{"sha": "140bf4d155b2027b4bc6557777e35d511468f11a", "filename": "libbacktrace/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2206fb89403bef0b06818c0f180a85d98c2674c2/libbacktrace%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2206fb89403bef0b06818c0f180a85d98c2674c2/libbacktrace%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2FChangeLog?ref=2206fb89403bef0b06818c0f180a85d98c2674c2", "patch": "@@ -1,3 +1,10 @@\n+2018-08-05 Iain Buclaw  <ibuclaw@gdcproject.org>\n+\n+\t* configure.ac: Move define of HAVE_ZLIB into check for -lz.\n+\t* Makefile.in: Regenerate.\n+\t* config.h.in: Likewise.\n+\t* configure: Likewise.\n+\n 2018-08-01  Tony Reix  <tony.reix@atos.net>\n \n \t* xcoff.c (struct xcoff_line, struct xcoff_line_vector): Remove."}, {"sha": "8b5dc3e5b41bffe52c9618c89d8962cdd3c640d6", "filename": "libbacktrace/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2206fb89403bef0b06818c0f180a85d98c2674c2/libbacktrace%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2206fb89403bef0b06818c0f180a85d98c2674c2/libbacktrace%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2FMakefile.in?ref=2206fb89403bef0b06818c0f180a85d98c2674c2", "patch": "@@ -16,7 +16,7 @@\n @SET_MAKE@\n \n # Makefile.am -- Backtrace Makefile.\n-# Copyright (C) 2012-2017 Free Software Foundation, Inc.\n+# Copyright (C) 2012-2018 Free Software Foundation, Inc.\n \n # Redistribution and use in source and binary forms, with or without\n # modification, are permitted provided that the following conditions are"}, {"sha": "6205fc55fa574f3742cc22db067bd3dac274687b", "filename": "libbacktrace/config.h.in", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2206fb89403bef0b06818c0f180a85d98c2674c2/libbacktrace%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2206fb89403bef0b06818c0f180a85d98c2674c2/libbacktrace%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2Fconfig.h.in?ref=2206fb89403bef0b06818c0f180a85d98c2674c2", "patch": "@@ -34,9 +34,6 @@\n /* Define to 1 if you have the <inttypes.h> header file. */\n #undef HAVE_INTTYPES_H\n \n-/* Define to 1 if you have the `z' library (-lz). */\n-#undef HAVE_LIBZ\n-\n /* Define to 1 if you have the <link.h> header file. */\n #undef HAVE_LINK_H\n "}, {"sha": "d5a9d79e15c467100f4c3181d9da24afb53f46e7", "filename": "libbacktrace/configure", "status": "modified", "additions": 1, "deletions": 9, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2206fb89403bef0b06818c0f180a85d98c2674c2/libbacktrace%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2206fb89403bef0b06818c0f180a85d98c2674c2/libbacktrace%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2Fconfigure?ref=2206fb89403bef0b06818c0f180a85d98c2674c2", "patch": "@@ -12973,19 +12973,11 @@ fi\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_z_compress\" >&5\n $as_echo \"$ac_cv_lib_z_compress\" >&6; }\n if test \"x$ac_cv_lib_z_compress\" = x\"\"yes; then :\n-  cat >>confdefs.h <<_ACEOF\n-#define HAVE_LIBZ 1\n-_ACEOF\n-\n-  LIBS=\"-lz $LIBS\"\n-\n-fi\n-\n-if test $ac_cv_lib_z_compress = \"yes\"; then\n \n $as_echo \"#define HAVE_ZLIB 1\" >>confdefs.h\n \n fi\n+\n  if test \"$ac_cv_lib_z_compress\" = yes; then\n   HAVE_ZLIB_TRUE=\n   HAVE_ZLIB_FALSE='#'"}, {"sha": "fd367451602b5c8d8386fd776648e6127d483662", "filename": "libbacktrace/configure.ac", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2206fb89403bef0b06818c0f180a85d98c2674c2/libbacktrace%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2206fb89403bef0b06818c0f180a85d98c2674c2/libbacktrace%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2Fconfigure.ac?ref=2206fb89403bef0b06818c0f180a85d98c2674c2", "patch": "@@ -426,10 +426,8 @@ AC_SUBST(PTHREAD_CFLAGS)\n \n AM_CONDITIONAL(HAVE_PTHREAD, test \"$libgo_cv_lib_pthread\" = yes)\n \n-AC_CHECK_LIB([z], [compress], [])\n-if test $ac_cv_lib_z_compress = \"yes\"; then\n-  AC_DEFINE(HAVE_ZLIB, 1, [Define if -lz is available.])\n-fi\n+AC_CHECK_LIB([z], [compress],\n+    [AC_DEFINE(HAVE_ZLIB, 1, [Define if -lz is available.])])\n AM_CONDITIONAL(HAVE_ZLIB, test \"$ac_cv_lib_z_compress\" = yes)\n \n dnl Test whether the linker supports the --compress_debug_sections option."}]}