{"sha": "24c545ff924c8a6a24f5b85f6352cac27bd18247", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjRjNTQ1ZmY5MjRjOGE2YTI0ZjViODVmNjM1MmNhYzI3YmQxODI0Nw==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernds@redhat.com", "date": "2002-02-04T19:19:04Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2002-02-04T19:19:04Z"}, "message": "cfgrtl.c (force_nonfallthru_and_redirect): Don't try to redirect the entry block.\n\n        * cfgrtl.c (force_nonfallthru_and_redirect): Don't try to redirect\n         the entry block.\n\nFrom-SVN: r49488", "tree": {"sha": "743187c2f8fbf9702cbdcd69eea1b099cb421762", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/743187c2f8fbf9702cbdcd69eea1b099cb421762"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/24c545ff924c8a6a24f5b85f6352cac27bd18247", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24c545ff924c8a6a24f5b85f6352cac27bd18247", "html_url": "https://github.com/Rust-GCC/gccrs/commit/24c545ff924c8a6a24f5b85f6352cac27bd18247", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24c545ff924c8a6a24f5b85f6352cac27bd18247/comments", "author": null, "committer": null, "parents": [{"sha": "72db02bfc38fb04a7d3a7f616ca7a6c6fad82859", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72db02bfc38fb04a7d3a7f616ca7a6c6fad82859", "html_url": "https://github.com/Rust-GCC/gccrs/commit/72db02bfc38fb04a7d3a7f616ca7a6c6fad82859"}], "stats": {"total": 28, "additions": 27, "deletions": 1}, "files": [{"sha": "f80d9e8e3e28547bc2539ea16b0588aec72b2e53", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/24c545ff924c8a6a24f5b85f6352cac27bd18247/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/24c545ff924c8a6a24f5b85f6352cac27bd18247/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=24c545ff924c8a6a24f5b85f6352cac27bd18247", "patch": "@@ -1,3 +1,8 @@\n+2001-02-04  Bernd Schmidt  <bernds@redhat.com>\n+\n+\t* cfgrtl.c (force_nonfallthru_and_redirect): Don't try to redirect\n+\tthe entry block.\n+\n 2002-02-04  Richard Henderson  <rth@redhat.com>\n \n \t* combine.c (force_to_mode): Remove STACK_BIAS code."}, {"sha": "42358b2ccf0d1977d8c591c93100729b07c87641", "filename": "gcc/cfgrtl.c", "status": "modified", "additions": 22, "deletions": 1, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/24c545ff924c8a6a24f5b85f6352cac27bd18247/gcc%2Fcfgrtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/24c545ff924c8a6a24f5b85f6352cac27bd18247/gcc%2Fcfgrtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgrtl.c?ref=24c545ff924c8a6a24f5b85f6352cac27bd18247", "patch": "@@ -918,7 +918,28 @@ force_nonfallthru_and_redirect (e, target)\n     abort ();\n   else if (!(e->flags & EDGE_FALLTHRU))\n     abort ();\n-  else if (e->src->succ->succ_next)\n+  else if (e->src == ENTRY_BLOCK_PTR)\n+    {\n+      /* We can't redirect the entry block.  Create an empty block at the\n+         start of the function which we use to add the new jump.  */\n+      edge *pe1;\n+      basic_block bb = create_basic_block (0, e->dest->head, NULL);\n+\n+      /* Change the existing edge's source to be the new block, and add\n+\t a new edge from the entry block to the new block.  */\n+      e->src = bb;\n+      for (pe1 = &ENTRY_BLOCK_PTR->succ; *pe1; pe1 = &(*pe1)->succ_next)\n+\tif (*pe1 == e)\n+\t  {\n+\t    *pe1 = e->succ_next;\n+\t    break;\n+\t  }\n+      e->succ_next = 0;\n+      bb->succ = e;\n+      make_single_succ_edge (ENTRY_BLOCK_PTR, bb, EDGE_FALLTHRU);\n+    }\n+\n+  if (e->src->succ->succ_next)\n     {\n       /* Create the new structures.  */\n       note = last_loop_beg_note (e->src->end);"}]}