{"sha": "4f1c7759aaead3b108435072b681cedcccd0abd8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGYxYzc3NTlhYWVhZDNiMTA4NDM1MDcyYjY4MWNlZGNjY2QwYWJkOA==", "commit": {"author": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2006-01-27T21:20:12Z"}, "committer": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2006-01-27T21:20:12Z"}, "message": "re PR fortran/25964 (NIST regression on fm311.f)\n\n2005-01-27  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/25964\n\t* resolve.c (resolve_function): Add GFC_ISYM_LOC to the list of\n\tgeneric_ids exempted from assumed size checking.\n\n2005-01-27  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/25964\n\t* gfortran.dg/assumed_size_refs_3.f90: New test.\n\nFrom-SVN: r110307", "tree": {"sha": "8389fc27409f25e59129031a891d2a9806c284f3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8389fc27409f25e59129031a891d2a9806c284f3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4f1c7759aaead3b108435072b681cedcccd0abd8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f1c7759aaead3b108435072b681cedcccd0abd8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f1c7759aaead3b108435072b681cedcccd0abd8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f1c7759aaead3b108435072b681cedcccd0abd8/comments", "author": null, "committer": null, "parents": [{"sha": "2d7c7df665fd79a85731ca2a5d9d31775d2bc81e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d7c7df665fd79a85731ca2a5d9d31775d2bc81e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d7c7df665fd79a85731ca2a5d9d31775d2bc81e"}], "stats": {"total": 29, "additions": 29, "deletions": 0}, "files": [{"sha": "2100d5c3acb9127dbc68577d6a683ac0e70ec170", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f1c7759aaead3b108435072b681cedcccd0abd8/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f1c7759aaead3b108435072b681cedcccd0abd8/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=4f1c7759aaead3b108435072b681cedcccd0abd8", "patch": "@@ -1,3 +1,9 @@\n+2005-01-27  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/25964\n+\t* resolve.c (resolve_function): Add GFC_ISYM_LOC to the list of\n+\tgeneric_ids exempted from assumed size checking.\n+\n 2006-01-27  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR fortran/25324"}, {"sha": "ca89f887931c8a2da8974f357146280288be38d2", "filename": "gcc/fortran/resolve.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f1c7759aaead3b108435072b681cedcccd0abd8/gcc%2Ffortran%2Fresolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f1c7759aaead3b108435072b681cedcccd0abd8/gcc%2Ffortran%2Fresolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fresolve.c?ref=4f1c7759aaead3b108435072b681cedcccd0abd8", "patch": "@@ -1304,6 +1304,7 @@ resolve_function (gfc_expr * expr)\n   else if (expr->value.function.actual != NULL\n \t     && expr->value.function.isym != NULL\n \t     && expr->value.function.isym->generic_id != GFC_ISYM_LBOUND\n+\t     && expr->value.function.isym->generic_id != GFC_ISYM_LOC\n \t     && expr->value.function.isym->generic_id != GFC_ISYM_PRESENT)\n     {\n       /* Array instrinsics must also have the last upper bound of an"}, {"sha": "ff4f007785d32cef324383b3624674586c30c2c2", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f1c7759aaead3b108435072b681cedcccd0abd8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f1c7759aaead3b108435072b681cedcccd0abd8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4f1c7759aaead3b108435072b681cedcccd0abd8", "patch": "@@ -1,3 +1,8 @@\n+2005-01-27  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/25964\n+\t* gfortran.dg/assumed_size_refs_3.f90: New test.\n+\n 2006-01-27  Ben Elliston  <bje@au.ibm.com>\n \n \t* gcc.misc-tests/dectest.exp: Remove defunct comment."}, {"sha": "b8aa44b783249a6e45c73feaeb384552e3d9f040", "filename": "gcc/testsuite/gfortran.dg/assumed_size_refs_3.f90", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f1c7759aaead3b108435072b681cedcccd0abd8/gcc%2Ftestsuite%2Fgfortran.dg%2Fassumed_size_refs_3.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f1c7759aaead3b108435072b681cedcccd0abd8/gcc%2Ftestsuite%2Fgfortran.dg%2Fassumed_size_refs_3.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fassumed_size_refs_3.f90?ref=4f1c7759aaead3b108435072b681cedcccd0abd8", "patch": "@@ -0,0 +1,17 @@\n+! { dg-do compile }\n+! Tests the fix for PR25951, a regression caused by the assumed\n+! size patch.\n+! Test case provided by Mark Hesselink  <mhesseli@caltech.edu>\n+PROGRAM loc_1\n+  integer i(10)\n+  call f (i)\n+CONTAINS\n+   SUBROUTINE f (x)\n+      INTEGER, DIMENSION(*)   :: x\n+      INTEGER                 :: address\n+! The next line would cause:\n+! Error: The upper bound in the last dimension must appear in the\n+! reference to the assumed size array 'x' at (1)\n+      address=LOC(x)\n+   END SUBROUTINE f\n+END PROGRAM loc_1\n\\ No newline at end of file"}]}