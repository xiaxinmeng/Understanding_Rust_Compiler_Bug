{"sha": "92d92abba165da174b63dbd12b1899a2e8ff9dc3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTJkOTJhYmJhMTY1ZGExNzRiNjNkYmQxMmIxODk5YTJlOGZmOWRjMw==", "commit": {"author": {"name": "Sebastian Pop", "email": "sebastian.pop@amd.com", "date": "2009-11-25T05:10:43Z"}, "committer": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2009-11-25T05:10:43Z"}, "message": "graphite-interchange.c (memory_stride_in_loop): The depth argument corresponds to a dynamic time dimension...\n\n2009-10-15  Sebastian Pop  <sebastian.pop@amd.com>\n\n\t* graphite-interchange.c (memory_stride_in_loop): The depth\n\targument corresponds to a dynamic time dimension, so use\n\tpsct_dynamic_dim to refer to the transformed scattering dimension.\n\nFrom-SVN: r154595", "tree": {"sha": "cba497d11e9dc9a6ee870059692006d32ce9bcda", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cba497d11e9dc9a6ee870059692006d32ce9bcda"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/92d92abba165da174b63dbd12b1899a2e8ff9dc3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92d92abba165da174b63dbd12b1899a2e8ff9dc3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/92d92abba165da174b63dbd12b1899a2e8ff9dc3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92d92abba165da174b63dbd12b1899a2e8ff9dc3/comments", "author": null, "committer": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "23159c56104ded6234ae8088dd628c2f202fe83e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/23159c56104ded6234ae8088dd628c2f202fe83e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/23159c56104ded6234ae8088dd628c2f202fe83e"}], "stats": {"total": 15, "additions": 12, "deletions": 3}, "files": [{"sha": "99d4939db1c9424fbb33a507193e6e56c6785d91", "filename": "gcc/ChangeLog.graphite", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/92d92abba165da174b63dbd12b1899a2e8ff9dc3/gcc%2FChangeLog.graphite", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/92d92abba165da174b63dbd12b1899a2e8ff9dc3/gcc%2FChangeLog.graphite", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog.graphite?ref=92d92abba165da174b63dbd12b1899a2e8ff9dc3", "patch": "@@ -1,3 +1,9 @@\n+2009-10-15  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\t* graphite-interchange.c (memory_stride_in_loop): The depth\n+\targument corresponds to a dynamic time dimension, so use\n+\tpsct_dynamic_dim to refer to the transformed scattering dimension.\n+\n 2009-10-15  Sebastian Pop  <sebastian.pop@amd.com>\n \n \t* graphite-interchange.c (memory_stride_in_loop): Fix comments."}, {"sha": "0e432ce04209d48d84997ac8da32bad0a14663c1", "filename": "gcc/graphite-interchange.c", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/92d92abba165da174b63dbd12b1899a2e8ff9dc3/gcc%2Fgraphite-interchange.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/92d92abba165da174b63dbd12b1899a2e8ff9dc3/gcc%2Fgraphite-interchange.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-interchange.c?ref=92d92abba165da174b63dbd12b1899a2e8ff9dc3", "patch": "@@ -110,6 +110,7 @@ build_linearized_memory_access (ppl_dimension_type offset, poly_dr_p pdr)\n static void\n memory_stride_in_loop (Value stride, graphite_dim_t depth, poly_dr_p pdr)\n {\n+  ppl_dimension_type time_depth;\n   ppl_Linear_Expression_t le, lma;\n   ppl_Constraint_t new_cstr;\n   ppl_dimension_type i, *map;\n@@ -223,8 +224,10 @@ memory_stride_in_loop (Value stride, graphite_dim_t depth, poly_dr_p pdr)\n      This means that all the time dimensions are equal except for\n      depth, where we will add t_{depth} = t'_{depth} + 1 in the next\n      step.  */\n+\n+  time_depth = psct_dynamic_dim (pbb, depth);\n   for (i = 0; i < dim_sctr; i++)\n-    if (i != depth)\n+    if (i != time_depth)\n       {\n         ppl_new_Linear_Expression_with_dimension (&le, new_dim);\n         ppl_set_coef (le, i, 1);\n@@ -241,8 +244,8 @@ memory_stride_in_loop (Value stride, graphite_dim_t depth, poly_dr_p pdr)\n      between two consecutive points in time dimensions.  */\n   {\n     ppl_new_Linear_Expression_with_dimension (&le, new_dim);\n-    ppl_set_coef (le, depth, 1);\n-    ppl_set_coef (le, depth + offset, -1);\n+    ppl_set_coef (le, time_depth, 1);\n+    ppl_set_coef (le, time_depth + offset, -1);\n     ppl_set_inhomogeneous (le, 1);\n     ppl_new_Constraint (&new_cstr, le, PPL_CONSTRAINT_TYPE_EQUAL);\n     ppl_Pointset_Powerset_C_Polyhedron_add_constraint (p2, new_cstr);"}]}