{"sha": "b2a7fa89ee52438c78715ca70f236a5f348b35f2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjJhN2ZhODllZTUyNDM4Yzc4NzE1Y2E3MGYyMzZhNWYzNDhiMzVmMg==", "commit": {"author": {"name": "Zdenek Dvorak", "email": "rakdver@atrey.karlin.mff.cuni.cz", "date": "2003-04-30T10:03:35Z"}, "committer": {"name": "Zdenek Dvorak", "email": "rakdver@gcc.gnu.org", "date": "2003-04-30T10:03:35Z"}, "message": "* function.c (purge_addressof_1): Postpone insn in fewer cases.\n\nFrom-SVN: r66286", "tree": {"sha": "8e055342cff5918d803db63ed5ca604cbb4ba7eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8e055342cff5918d803db63ed5ca604cbb4ba7eb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b2a7fa89ee52438c78715ca70f236a5f348b35f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2a7fa89ee52438c78715ca70f236a5f348b35f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b2a7fa89ee52438c78715ca70f236a5f348b35f2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2a7fa89ee52438c78715ca70f236a5f348b35f2/comments", "author": null, "committer": null, "parents": [{"sha": "ad03daf005bc47def67da627decbbdfc037e9522", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad03daf005bc47def67da627decbbdfc037e9522", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ad03daf005bc47def67da627decbbdfc037e9522"}], "stats": {"total": 20, "additions": 13, "deletions": 7}, "files": [{"sha": "c453b2003b108ef5981a6b51e275a7e54b86caf1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b2a7fa89ee52438c78715ca70f236a5f348b35f2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b2a7fa89ee52438c78715ca70f236a5f348b35f2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b2a7fa89ee52438c78715ca70f236a5f348b35f2", "patch": "@@ -1,3 +1,7 @@\n+2003-04-30  Zdenek Dvorak  <rakdver@atrey.karlin.mff.cuni.cz>\n+\n+\t* function.c (purge_addressof_1): Postpone insn in fewer cases.\n+\n 2003-04-29  Geoffrey Keating  <geoffk@apple.com>\n \n \t* config/rs6000/host-darwin.c (segv_handler): When -dH is used,"}, {"sha": "6e52d7e1ddb6613a95edfdfa7354c4d84c6033a2", "filename": "gcc/function.c", "status": "modified", "additions": 9, "deletions": 7, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b2a7fa89ee52438c78715ca70f236a5f348b35f2/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b2a7fa89ee52438c78715ca70f236a5f348b35f2/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=b2a7fa89ee52438c78715ca70f236a5f348b35f2", "patch": "@@ -3075,13 +3075,6 @@ purge_addressof_1 (loc, insn, force, store, may_postpone, ht)\n     {\n       rtx sub = XEXP (XEXP (x, 0), 0);\n \n-      if (may_postpone)\n-\t{\n-\t  if (!postponed_insns || XEXP (postponed_insns, 0) != insn)\n-\t    postponed_insns = alloc_INSN_LIST (insn, postponed_insns);\n-\t  return true;\n-\t}\n-\n       if (GET_CODE (sub) == MEM)\n \tsub = adjust_address_nv (sub, GET_MODE (x), 0);\n       else if (GET_CODE (sub) == REG\n@@ -3091,6 +3084,15 @@ purge_addressof_1 (loc, insn, force, store, may_postpone, ht)\n \t{\n \t  int size_x, size_sub;\n \n+\t  if (may_postpone)\n+\t    {\n+\t      /* Postpone for now, so that we do not emit bitfield arithmetics\n+\t\t unless there is some benefit from it.  */\n+\t      if (!postponed_insns || XEXP (postponed_insns, 0) != insn)\n+\t\tpostponed_insns = alloc_INSN_LIST (insn, postponed_insns);\n+\t      return true;\n+\t    }\n+\n \t  if (!insn)\n \t    {\n \t      /* When processing REG_NOTES look at the list of"}]}