{"sha": "1ab1c4ee18d7866249fb99bcc9d073fcb475dc9d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWFiMWM0ZWUxOGQ3ODY2MjQ5ZmI5OWJjYzlkMDczZmNiNDc1ZGM5ZA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2018-08-21T14:46:45Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2018-08-21T14:46:45Z"}, "message": "[Ada] Fix spurious error on unchecked conversion on VFA record type\n\n2018-08-21  Eric Botcazou  <ebotcazou@adacore.com>\n\ngcc/ada/\n\n\t* gcc-interface/trans.c (Call_to_gnu): Always suppress an\n\tunchecked conversion around the actual for an In parameter\n\tpassed by copy.\n\nFrom-SVN: r263718", "tree": {"sha": "45623568818d7cd8e118cbf03e108d6ce8d48f64", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/45623568818d7cd8e118cbf03e108d6ce8d48f64"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1ab1c4ee18d7866249fb99bcc9d073fcb475dc9d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ab1c4ee18d7866249fb99bcc9d073fcb475dc9d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ab1c4ee18d7866249fb99bcc9d073fcb475dc9d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ab1c4ee18d7866249fb99bcc9d073fcb475dc9d/comments", "author": null, "committer": null, "parents": [{"sha": "294e7bbb9eb0b1f8d0484e9ddb562a08f7505cab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/294e7bbb9eb0b1f8d0484e9ddb562a08f7505cab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/294e7bbb9eb0b1f8d0484e9ddb562a08f7505cab"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "e882e39602be7befacffb3d5ff6f635fe8b60d77", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ab1c4ee18d7866249fb99bcc9d073fcb475dc9d/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ab1c4ee18d7866249fb99bcc9d073fcb475dc9d/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=1ab1c4ee18d7866249fb99bcc9d073fcb475dc9d", "patch": "@@ -1,3 +1,9 @@\n+2018-08-21  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc-interface/trans.c (Call_to_gnu): Always suppress an\n+\tunchecked conversion around the actual for an In parameter\n+\tpassed by copy.\n+\n 2018-08-21  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* exp_util.adb (Is_Possibly_Unaligned_Object): For the case of a"}, {"sha": "940bf5f3b3f78cd3fe1ded9bf3ffdb121161b1e5", "filename": "gcc/ada/gcc-interface/trans.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ab1c4ee18d7866249fb99bcc9d073fcb475dc9d/gcc%2Fada%2Fgcc-interface%2Ftrans.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ab1c4ee18d7866249fb99bcc9d073fcb475dc9d/gcc%2Fada%2Fgcc-interface%2Ftrans.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Ftrans.c?ref=1ab1c4ee18d7866249fb99bcc9d073fcb475dc9d", "patch": "@@ -4450,6 +4450,7 @@ Call_to_gnu (Node_Id gnat_node, tree *gnu_result_type_p, tree gnu_target,\n       const bool suppress_type_conversion\n \t= ((Nkind (gnat_actual) == N_Unchecked_Type_Conversion\n \t    && (!in_param\n+\t\t|| !is_by_ref_formal_parm\n \t\t|| (Is_Composite_Type (Underlying_Type (gnat_formal_type))\n \t\t    && !Is_Constrained (Underlying_Type (gnat_formal_type)))))\n \t   || (Nkind (gnat_actual) == N_Type_Conversion"}]}