{"sha": "175d528595c3a8bdf75086d4e13844b645f715b0", "node_id": "C_kwDOANBUbNoAKDE3NWQ1Mjg1OTVjM2E4YmRmNzUwODZkNGUxMzg0NGI2NDVmNzE1YjA", "commit": {"author": {"name": "Andrew Pinski", "email": "apinski@marvell.com", "date": "2023-02-17T16:45:43Z"}, "committer": {"name": "Andrew Pinski", "email": "apinski@marvell.com", "date": "2023-02-18T01:48:33Z"}, "message": "Support get_range_query with a nullptr argument\n\nget_range_query didn't support a nullptr argument\nbefore and would crash.\nSee also the thread at\nhttps://inbox.sourceware.org/gcc/4f6718af-e17a-41ef-a886-f45e4ac3d7a4@redhat.com/T/\n\nOK? Bootstrapped and tested on x86_64-linux-gnu with no regressions.\n\ngcc/ChangeLog:\n\n\t* value-query.h (get_range_query): Return the global ranges\n\tfor a nullptr func.", "tree": {"sha": "610f018ad2726ef42165545afe574fde32dde6e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/610f018ad2726ef42165545afe574fde32dde6e7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/175d528595c3a8bdf75086d4e13844b645f715b0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/175d528595c3a8bdf75086d4e13844b645f715b0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/175d528595c3a8bdf75086d4e13844b645f715b0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/175d528595c3a8bdf75086d4e13844b645f715b0/comments", "author": {"login": "apinski-cavium", "id": 6335315, "node_id": "MDQ6VXNlcjYzMzUzMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6335315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apinski-cavium", "html_url": "https://github.com/apinski-cavium", "followers_url": "https://api.github.com/users/apinski-cavium/followers", "following_url": "https://api.github.com/users/apinski-cavium/following{/other_user}", "gists_url": "https://api.github.com/users/apinski-cavium/gists{/gist_id}", "starred_url": "https://api.github.com/users/apinski-cavium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apinski-cavium/subscriptions", "organizations_url": "https://api.github.com/users/apinski-cavium/orgs", "repos_url": "https://api.github.com/users/apinski-cavium/repos", "events_url": "https://api.github.com/users/apinski-cavium/events{/privacy}", "received_events_url": "https://api.github.com/users/apinski-cavium/received_events", "type": "User", "site_admin": false}, "committer": {"login": "apinski-cavium", "id": 6335315, "node_id": "MDQ6VXNlcjYzMzUzMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6335315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apinski-cavium", "html_url": "https://github.com/apinski-cavium", "followers_url": "https://api.github.com/users/apinski-cavium/followers", "following_url": "https://api.github.com/users/apinski-cavium/following{/other_user}", "gists_url": "https://api.github.com/users/apinski-cavium/gists{/gist_id}", "starred_url": "https://api.github.com/users/apinski-cavium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apinski-cavium/subscriptions", "organizations_url": "https://api.github.com/users/apinski-cavium/orgs", "repos_url": "https://api.github.com/users/apinski-cavium/repos", "events_url": "https://api.github.com/users/apinski-cavium/events{/privacy}", "received_events_url": "https://api.github.com/users/apinski-cavium/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7814ce44f24181a4e8e8e0d6815fe2f493b2aa33", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7814ce44f24181a4e8e8e0d6815fe2f493b2aa33", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7814ce44f24181a4e8e8e0d6815fe2f493b2aa33"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "2d7bf8fcf33e67c5dd99043a3ecd11431a137796", "filename": "gcc/value-query.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/175d528595c3a8bdf75086d4e13844b645f715b0/gcc%2Fvalue-query.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/175d528595c3a8bdf75086d4e13844b645f715b0/gcc%2Fvalue-query.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvalue-query.h?ref=175d528595c3a8bdf75086d4e13844b645f715b0", "patch": "@@ -140,7 +140,7 @@ get_global_range_query ()\n ATTRIBUTE_RETURNS_NONNULL inline range_query *\n get_range_query (const struct function *fun)\n {\n-  return fun->x_range_query ? fun->x_range_query : &global_ranges;\n+  return (fun && fun->x_range_query) ? fun->x_range_query : &global_ranges;\n }\n \n // Query the global range of NAME in function F.  Default to cfun."}]}