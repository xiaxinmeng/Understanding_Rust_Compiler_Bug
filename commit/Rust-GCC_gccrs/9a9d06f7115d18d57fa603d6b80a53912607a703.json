{"sha": "9a9d06f7115d18d57fa603d6b80a53912607a703", "node_id": "C_kwDOANBUbNoAKDlhOWQwNmY3MTE1ZDE4ZDU3ZmE2MDNkNmI4MGE1MzkxMjYwN2E3MDM", "commit": {"author": {"name": "Piotr Trojanek", "email": "trojanek@adacore.com", "date": "2022-01-10T20:08:04Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2022-05-09T09:27:29Z"}, "message": "[Ada] Remove repeated analysis of attribute prefixes\n\nAt the beginning of Analyze_Attribute routine we analyze the attribute\nprefix. There is no need to repeat this analysis in branches for\nindividual attributes.\n\nCode cleanup related to various Analyze/Resolve routines.\n\ngcc/ada/\n\n\t* sem_attr.adb (Analyze_Attribute): Remove calls to Analyze for\n\tattributes Identity, Priority, Ref, Restriction_Set, To_Address\n\tand for tasking-related attributes Callable, Terminated and\n\tStorage_Size.", "tree": {"sha": "ff56f21f6c126960dd479a3219811c37f36d703e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ff56f21f6c126960dd479a3219811c37f36d703e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9a9d06f7115d18d57fa603d6b80a53912607a703", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a9d06f7115d18d57fa603d6b80a53912607a703", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9a9d06f7115d18d57fa603d6b80a53912607a703", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a9d06f7115d18d57fa603d6b80a53912607a703/comments", "author": {"login": "ptroja", "id": 161602, "node_id": "MDQ6VXNlcjE2MTYwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/161602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ptroja", "html_url": "https://github.com/ptroja", "followers_url": "https://api.github.com/users/ptroja/followers", "following_url": "https://api.github.com/users/ptroja/following{/other_user}", "gists_url": "https://api.github.com/users/ptroja/gists{/gist_id}", "starred_url": "https://api.github.com/users/ptroja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ptroja/subscriptions", "organizations_url": "https://api.github.com/users/ptroja/orgs", "repos_url": "https://api.github.com/users/ptroja/repos", "events_url": "https://api.github.com/users/ptroja/events{/privacy}", "received_events_url": "https://api.github.com/users/ptroja/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a72fd98bf5f1e57fa2ebbacff832bd4f753fd874", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a72fd98bf5f1e57fa2ebbacff832bd4f753fd874", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a72fd98bf5f1e57fa2ebbacff832bd4f753fd874"}], "stats": {"total": 8, "additions": 0, "deletions": 8}, "files": [{"sha": "47485676c7445530e81b513551e7a1ba562fdd70", "filename": "gcc/ada/sem_attr.adb", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a9d06f7115d18d57fa603d6b80a53912607a703/gcc%2Fada%2Fsem_attr.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a9d06f7115d18d57fa603d6b80a53912607a703/gcc%2Fada%2Fsem_attr.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_attr.adb?ref=9a9d06f7115d18d57fa603d6b80a53912607a703", "patch": "@@ -2693,8 +2693,6 @@ package body Sem_Attr is\n \n       procedure Check_Task_Prefix is\n       begin\n-         Analyze (P);\n-\n          --  Ada 2005 (AI-345): Attribute 'Terminated can be applied to\n          --  task interface class-wide types.\n \n@@ -4301,7 +4299,6 @@ package body Sem_Attr is\n \n       when Attribute_Identity =>\n          Check_E0;\n-         Analyze (P);\n \n          if Etype (P) = Standard_Exception_Type then\n             Set_Etype (N, RTE (RE_Exception_Id));\n@@ -5505,8 +5502,6 @@ package body Sem_Attr is\n \n          --  The prefix must be a protected object (AARM D.5.2 (2/2))\n \n-         Analyze (P);\n-\n          if Is_Protected_Type (Etype (P))\n            or else (Is_Access_Type (Etype (P))\n                       and then Is_Protected_Type (Designated_Type (Etype (P))))\n@@ -5846,7 +5841,6 @@ package body Sem_Attr is\n \n       when Attribute_Ref =>\n          Check_E1;\n-         Analyze (P);\n \n          if Nkind (P) /= N_Expanded_Name\n            or else not Is_RTE (P_Type, RE_Address)\n@@ -5874,7 +5868,6 @@ package body Sem_Attr is\n \n       begin\n          Check_E1;\n-         Analyze (P);\n          Check_System_Prefix;\n \n          --  No_Dependence case\n@@ -6456,7 +6449,6 @@ package body Sem_Attr is\n          Val : Uint;\n       begin\n          Check_E1;\n-         Analyze (P);\n          Check_System_Prefix;\n \n          Generate_Reference (RTE (RE_Address), P);"}]}