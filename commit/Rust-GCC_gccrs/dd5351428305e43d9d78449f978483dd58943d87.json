{"sha": "dd5351428305e43d9d78449f978483dd58943d87", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGQ1MzUxNDI4MzA1ZTQzZDlkNzg0NDlmOTc4NDgzZGQ1ODk0M2Q4Nw==", "commit": {"author": {"name": "Nick Clifton", "email": "nickc@cygnus.com", "date": "1999-03-15T12:49:36Z"}, "committer": {"name": "Nick Clifton", "email": "nickc@gcc.gnu.org", "date": "1999-03-15T12:49:36Z"}, "message": "Remove leading and trailing double underscores from m32r specific attribute\nnames in order to match the documentation.\n\nFrom-SVN: r25780", "tree": {"sha": "86c70dc8721623a5a739f327021f730f554c8e54", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/86c70dc8721623a5a739f327021f730f554c8e54"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dd5351428305e43d9d78449f978483dd58943d87", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd5351428305e43d9d78449f978483dd58943d87", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd5351428305e43d9d78449f978483dd58943d87", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd5351428305e43d9d78449f978483dd58943d87/comments", "author": null, "committer": null, "parents": [{"sha": "e54db24f7355b816f4087b083deb79a2bd76d8dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e54db24f7355b816f4087b083deb79a2bd76d8dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e54db24f7355b816f4087b083deb79a2bd76d8dc"}], "stats": {"total": 47, "additions": 33, "deletions": 14}, "files": [{"sha": "c26f9d06d654877c2cda4a83967e77965f6f4ec3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd5351428305e43d9d78449f978483dd58943d87/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd5351428305e43d9d78449f978483dd58943d87/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=dd5351428305e43d9d78449f978483dd58943d87", "patch": "@@ -1,3 +1,11 @@\n+Mon Mar 15 12:39:38 1999  Nick Clifton  <nickc@cygnus.com>\n+\n+\t* config/m32r/m32r.c (init_idents): New function.  Initialise\n+\tstatic tree nodes for m32r specific attribute identifiers.  Remove\n+\tleading and trailing double underscores from the attribute names.\n+\t(m32r_valid_machine_decl_attribute): Call init_idents.\n+\t(m32r_encode_section_info): Call init_idents.\n+\n Mon Mar 15 10:20:20 1999  Mark Mitchell  <mark@markmitchell.com>\n \n \t* reload.c (find_reloads): Add a REG_LABEL note if we substitute a"}, {"sha": "4adf8eac92271dec2cb35f6edb08bf705ab56545", "filename": "gcc/config/m32r/m32r.c", "status": "modified", "additions": 25, "deletions": 14, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd5351428305e43d9d78449f978483dd58943d87/gcc%2Fconfig%2Fm32r%2Fm32r.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd5351428305e43d9d78449f978483dd58943d87/gcc%2Fconfig%2Fm32r%2Fm32r.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm32r%2Fm32r.c?ref=dd5351428305e43d9d78449f978483dd58943d87", "patch": "@@ -190,6 +190,25 @@ init_reg_tables ()\n     }\n }\n \f\n+static tree interrupt_ident;\n+static tree model_ident;\n+static tree small_ident;\n+static tree medium_ident;\n+static tree large_ident;\n+\n+static void\n+init_idents ()\n+{\n+  if (interrupt_ident == 0)\n+    {\n+      interrupt_ident = get_identifier (\"interrupt\");\n+      model_ident = get_identifier (\"model\");\n+      small_ident = get_identifier (\"small\");\n+      medium_ident = get_identifier (\"medium\");\n+      large_ident = get_identifier (\"large\");\n+    }\n+}\n+\n /* M32R specific attribute support.\n \n    interrupt - for interrupt functions\n@@ -212,17 +231,7 @@ m32r_valid_machine_decl_attribute (type, attributes, identifier, args)\n      tree identifier;\n      tree args;\n {\n-  static tree interrupt_ident, model_ident;\n-  static tree small_ident, medium_ident, large_ident;\n-\n-  if (interrupt_ident == 0)\n-    {\n-      interrupt_ident = get_identifier (\"__interrupt__\");\n-      model_ident = get_identifier (\"__model__\");\n-      small_ident = get_identifier (\"__small__\");\n-      medium_ident = get_identifier (\"__medium__\");\n-      large_ident = get_identifier (\"__large__\");\n-    }\n+  init_idents ();\n \n   if (identifier == interrupt_ident\n       && list_length (args) == 0)\n@@ -371,11 +380,13 @@ m32r_encode_section_info (decl)\n     {\n       if (model)\n \t{\n-\t  if (TREE_VALUE (TREE_VALUE (model)) == get_identifier (\"__small__\"))\n+\t  init_idents ();\n+\t  \n+\t  if (TREE_VALUE (TREE_VALUE (model)) == small_ident)\n \t    ; /* don't mark the symbol specially */\n-\t  else if (TREE_VALUE (TREE_VALUE (model)) == get_identifier (\"__medium__\"))\n+\t  else if (TREE_VALUE (TREE_VALUE (model)) == medium_ident)\n \t    prefix = MEDIUM_FLAG_CHAR;\n-\t  else if (TREE_VALUE (TREE_VALUE (model)) == get_identifier (\"__large__\"))\n+\t  else if (TREE_VALUE (TREE_VALUE (model)) == large_ident)\n \t    prefix = LARGE_FLAG_CHAR;\n \t  else\n \t    abort (); /* shouldn't happen */"}]}