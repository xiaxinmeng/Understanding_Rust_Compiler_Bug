{"sha": "46ae108707e53e994a2ee93a0f782a61f9bc0c9c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDZhZTEwODcwN2U1M2U5OTRhMmVlOTNhMGY3ODJhNjFmOWJjMGM5Yw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2005-06-28T05:15:11Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2005-06-28T05:15:11Z"}, "message": "tree-vect-transform.c (vect_create_epilog_for_reduction): Remove duplicate little-endian adjustment.\n\n        * tree-vect-transform.c (vect_create_epilog_for_reduction): Remove\n        duplicate little-endian adjustment.\n\nFrom-SVN: r101372", "tree": {"sha": "8a88ce7330e382bc4414b7dddef9f80c70ad7ca4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8a88ce7330e382bc4414b7dddef9f80c70ad7ca4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/46ae108707e53e994a2ee93a0f782a61f9bc0c9c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46ae108707e53e994a2ee93a0f782a61f9bc0c9c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/46ae108707e53e994a2ee93a0f782a61f9bc0c9c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46ae108707e53e994a2ee93a0f782a61f9bc0c9c/comments", "author": null, "committer": null, "parents": [{"sha": "54c885c5f869001bfb5698c2b0f2aa89b0b9e6e5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/54c885c5f869001bfb5698c2b0f2aa89b0b9e6e5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/54c885c5f869001bfb5698c2b0f2aa89b0b9e6e5"}], "stats": {"total": 20, "additions": 10, "deletions": 10}, "files": [{"sha": "f2d29d05cb359ef3835d467eb5478c52e2a47aca", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46ae108707e53e994a2ee93a0f782a61f9bc0c9c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46ae108707e53e994a2ee93a0f782a61f9bc0c9c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=46ae108707e53e994a2ee93a0f782a61f9bc0c9c", "patch": "@@ -1,3 +1,8 @@\n+2005-06-27  Richard Henderson  <rth@redhat.com>\n+\n+\t* tree-vect-transform.c (vect_create_epilog_for_reduction): Remove\n+\tduplicate little-endian adjustment.\n+\n 2005-06-28  Kelley Cook  <kcook@gcc.gnu.org>\n \n \t* doc/include/texinfo.tex: Import from upstream CVS."}, {"sha": "cdd3acfbb6832ef31a4d911fdba02866b87f78d3", "filename": "gcc/tree-vect-transform.c", "status": "modified", "additions": 5, "deletions": 10, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46ae108707e53e994a2ee93a0f782a61f9bc0c9c/gcc%2Ftree-vect-transform.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46ae108707e53e994a2ee93a0f782a61f9bc0c9c/gcc%2Ftree-vect-transform.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-transform.c?ref=46ae108707e53e994a2ee93a0f782a61f9bc0c9c", "patch": "@@ -926,17 +926,12 @@ vect_create_epilog_for_reduction (tree vect_def, tree stmt, tree reduction_op,\n       int vec_size_in_bits = tree_low_cst (TYPE_SIZE (vectype), 1);\n       tree vec_temp;\n \n-      /* The result of the reduction is expected to be at the LSB bits\n-\t of the vector. For big-endian targets this means at the right\n-\t end of the vector. For little-endian targets this means at the\n-\t left end of the vector.  */\n-\n-      if (BITS_BIG_ENDIAN\n-\t  && vec_shr_optab->handlers[mode].insn_code != CODE_FOR_nothing)\n+      /* The result of the reduction is expected to be at the least\n+\t significant bits of the vector.  This is merely convention,\n+\t as it's the extraction later that really matters, and that\n+\t is also under our control.  */\n+      if (vec_shr_optab->handlers[mode].insn_code != CODE_FOR_nothing)\n \tshift_code = VEC_RSHIFT_EXPR;\n-      else if (!BITS_BIG_ENDIAN\n-\t       && vec_shl_optab->handlers[mode].insn_code != CODE_FOR_nothing)\n-\tshift_code = VEC_LSHIFT_EXPR;\n       else\n \thave_whole_vector_shift = false;\n "}]}