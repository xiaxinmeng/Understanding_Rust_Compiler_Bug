{"sha": "ba6413bd1854385bfc397d59d69eedf419ef2313", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmE2NDEzYmQxODU0Mzg1YmZjMzk3ZDU5ZDY5ZWVkZjQxOWVmMjMxMw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-03-03T04:25:47Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-03-03T04:25:47Z"}, "message": "Don't crash getting type descriptor of abstract types.\n\nFrom-SVN: r170642", "tree": {"sha": "1d12c3d6208e1dab281f7c0f213270e7765673f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1d12c3d6208e1dab281f7c0f213270e7765673f2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ba6413bd1854385bfc397d59d69eedf419ef2313", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba6413bd1854385bfc397d59d69eedf419ef2313", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ba6413bd1854385bfc397d59d69eedf419ef2313", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba6413bd1854385bfc397d59d69eedf419ef2313/comments", "author": null, "committer": null, "parents": [{"sha": "4d04d67a55d2ca36fd09e04d9ce9ea4c9ed689b8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d04d67a55d2ca36fd09e04d9ce9ea4c9ed689b8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d04d67a55d2ca36fd09e04d9ce9ea4c9ed689b8"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "04b0bec7ac0e80d17e49e5524219687af2e8a078", "filename": "gcc/go/gofrontend/types.cc", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba6413bd1854385bfc397d59d69eedf419ef2313/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba6413bd1854385bfc397d59d69eedf419ef2313/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Ftypes.cc?ref=ba6413bd1854385bfc397d59d69eedf419ef2313", "patch": "@@ -1764,7 +1764,12 @@ Integer_type::do_hash_for_method(Gogo*) const\n tree\n Integer_type::do_get_tree(Gogo*)\n {\n-  gcc_assert(!this->is_abstract_);\n+  if (this->is_abstract_)\n+    {\n+      gcc_assert(saw_errors());\n+      return error_mark_node;\n+    }\n+\n   if (this->is_unsigned_)\n     {\n       if (this->bits_ == INT_TYPE_SIZE)\n@@ -1818,7 +1823,7 @@ Integer_type::do_type_descriptor(Gogo* gogo, Named_type* name)\n void\n Integer_type::do_reflection(Gogo*, std::string*) const\n {\n-  gcc_unreachable();\n+  gcc_assert(saw_errors());\n }\n \n // Mangled name.\n@@ -1974,7 +1979,7 @@ Float_type::do_type_descriptor(Gogo* gogo, Named_type* name)\n void\n Float_type::do_reflection(Gogo*, std::string*) const\n {\n-  gcc_unreachable();\n+  gcc_assert(saw_errors());\n }\n \n // Mangled name.\n@@ -2134,7 +2139,7 @@ Complex_type::do_type_descriptor(Gogo* gogo, Named_type* name)\n void\n Complex_type::do_reflection(Gogo*, std::string*) const\n {\n-  gcc_unreachable();\n+  gcc_assert(saw_errors());\n }\n \n // Mangled name."}]}