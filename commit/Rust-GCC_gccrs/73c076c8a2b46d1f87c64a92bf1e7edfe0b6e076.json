{"sha": "73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzNjMDc2YzhhMmI0NmQxZjg3YzY0YTkyYmYxZTdlZGZlMGI2ZTA3Ng==", "commit": {"author": {"name": "Segher Boessenkool", "email": "segher@kernel.crashing.org", "date": "2014-05-23T16:45:11Z"}, "committer": {"name": "Segher Boessenkool", "email": "segher@gcc.gnu.org", "date": "2014-05-23T16:45:11Z"}, "message": "rs6000: Make all logical instructions one type\n\nThey are currently just \"integer\", but the dot version is fast_compare.\nThis makes them all \"logical\".\n\nFrom-SVN: r210872", "tree": {"sha": "1d9879d9a796dd6a703aef72869a9072d53c1e66", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1d9879d9a796dd6a703aef72869a9072d53c1e66"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "html_url": "https://github.com/Rust-GCC/gccrs/commit/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/comments", "author": {"login": "segher", "id": 417629, "node_id": "MDQ6VXNlcjQxNzYyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/417629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/segher", "html_url": "https://github.com/segher", "followers_url": "https://api.github.com/users/segher/followers", "following_url": "https://api.github.com/users/segher/following{/other_user}", "gists_url": "https://api.github.com/users/segher/gists{/gist_id}", "starred_url": "https://api.github.com/users/segher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/segher/subscriptions", "organizations_url": "https://api.github.com/users/segher/orgs", "repos_url": "https://api.github.com/users/segher/repos", "events_url": "https://api.github.com/users/segher/events{/privacy}", "received_events_url": "https://api.github.com/users/segher/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "0cbb4f589777eef7dd63d5c7132642b0dfb54cfa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0cbb4f589777eef7dd63d5c7132642b0dfb54cfa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0cbb4f589777eef7dd63d5c7132642b0dfb54cfa"}], "stats": {"total": 272, "additions": 168, "deletions": 104}, "files": [{"sha": "62b03ed89378818c99c9c6c57ae82ca9bb57f3d2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 46, "deletions": 0, "changes": 46, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -1,3 +1,49 @@\n+2014-05-23  Segher Boessenkool  <segher@kernel.crashing.org>\n+\n+\t* config/rs6000/rs6000.md (type): Add \"logical\".  Delete\n+\t\"fast_compare\".\n+\t(dot): Adjust comment.\n+\t(andsi3_mc, *andsi3_internal2_mc, *andsi3_internal3_mc,\n+\t*andsi3_internal4, *andsi3_internal5_mc, *boolsi3_internal2,\n+\t*boolsi3_internal3, *boolccsi3_internal2, *boolccsi3_internal3,\n+\tanddi3_mc, *anddi3_internal2_mc, *anddi3_internal3_mc,\n+\t*booldi3_internal2, *booldi3_internal3, *boolcdi3_internal2,\n+\t*boolcdi3_internal3, *boolccdi3_internal2, *boolccdi3_internal3,\n+\t*mov<mode>_internal2, and 10 anonymous define_insns): Use\n+\t\"logical\".\n+\t* config/rs6000/rs6000.c (rs6000_adjust_cost): Adjust.\n+\n+\t* config/rs6000/40x.md: (ppc403-integer, ppc403-compare): Adjust.\n+\t* config/rs6000/440.md: (ppc440-integer, ppc440-compare): Adjust.\n+\t* config/rs6000/476.md: (ppc476-simple-integer, ppc476-compare):\n+\tAdjust.\n+\t* config/rs6000/603.md: (ppc603-integer, ppc603-compare): Adjust.\n+\t* config/rs6000/6xx.md: (ppc604-integer, ppc604-compare): Adjust.\n+\t* config/rs6000/7450.md: (ppc7450-integer, ppc7450-compare):\n+\tAdjust.\n+\t* config/rs6000/7xx.md: (ppc750-integer, ppc750-compare): Adjust.\n+\t* config/rs6000/8540.md: (ppc8540_su): Adjust.\n+\t* config/rs6000/cell.md: (cell-integer, cell-fast-cmp,\n+\tcell-cmp-microcoded): Adjust.\n+\t* config/rs6000/e300c2c3.md: (ppce300c3_cmp, ppce300c3_iu):\n+\tAdjust.\n+\t* config/rs6000/e500mc.md: (e500mc_su): Adjust.\n+\t* config/rs6000/e500mc64.md: (e500mc64_su, e500mc64_su2): Adjust.\n+\t* config/rs6000/e5500.md: (e5500_sfx, e5500_sfx2): Adjust.\n+\t* config/rs6000/e6500.md: (e6500_sfx, e6500_sfx2): Adjust.\n+\t* config/rs6000/mpc.md: (mpccore-integer, mpccore-compare):\n+\tAdjust.\n+\t* config/rs6000/power4.md: (power4-integer, power4-cmp): Adjust.\n+\t* config/rs6000/power5.md: (power5-integer, power5-cmp): Adjust.\n+\t* config/rs6000/power6.md: (power6-integer, power6-fast-compare):\n+\tAdjust.\n+\t* config/rs6000/power7.md: (power7-integer, power7-cmp): Adjust.\n+\t* config/rs6000/power8.md: (power8-1cyc, power8-fast-compare):\n+\tAdjust.  Adjust comment.\n+\t* config/rs6000/rs64.md: (rs64a-integer, rs64a-compare): Adjust.\n+\t* config/rs6000/titan.md: (titan_fxu_adder, titan_fxu_alu):\n+\tAdjust.\n+\n 2014-05-23  Segher Boessenkool  <segher@kernel.crashing.org>\n \n \t* config/rs6000/rs6000.md (type): Add \"add\"."}, {"sha": "b29e06a02f33115ad25195da34fee7f69b6baec6", "filename": "gcc/config/rs6000/40x.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2F40x.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2F40x.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2F40x.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -37,7 +37,7 @@\n \n (define_insn_reservation \"ppc403-integer\" 1\n   (and (ior (eq_attr \"type\" \"integer,insert,trap,cntlz,exts,isel\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"no\")))\n        (eq_attr \"cpu\" \"ppc403,ppc405\"))\n   \"iu_40x\")\n@@ -53,8 +53,8 @@\n   \"iu_40x,iu_40x,iu_40x\")\n \n (define_insn_reservation \"ppc403-compare\" 3\n-  (and (ior (eq_attr \"type\" \"cmp,fast_compare,compare\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+  (and (ior (eq_attr \"type\" \"cmp,compare\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"yes\")))\n        (eq_attr \"cpu\" \"ppc403,ppc405\"))\n   \"iu_40x,nothing,bpu_40x\")"}, {"sha": "bc8da3e27a8e60f877501b8e173f401879131fe0", "filename": "gcc/config/rs6000/440.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2F440.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2F440.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2F440.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -54,7 +54,7 @@\n \n (define_insn_reservation \"ppc440-integer\" 1\n   (and (ior (eq_attr \"type\" \"integer,insert,shift,trap,cntlz,exts,isel\")\n-\t    (and (eq_attr \"type\" \"add\")\n+\t    (and (eq_attr \"type\" \"add,logical\")\n \t\t (eq_attr \"dot\" \"no\")))\n        (eq_attr \"cpu\" \"ppc440\"))\n   \"ppc440_issue,ppc440_i_pipe|ppc440_j_pipe\")\n@@ -95,8 +95,8 @@\n   \"ppc440_issue,ppc440_i_pipe\")\n \n (define_insn_reservation \"ppc440-compare\" 2\n-  (and (ior (eq_attr \"type\" \"cmp,fast_compare,compare,cr_logical,delayed_cr,mfcr\")\n-\t    (and (eq_attr \"type\" \"add\")\n+  (and (ior (eq_attr \"type\" \"cmp,compare,cr_logical,delayed_cr,mfcr\")\n+\t    (and (eq_attr \"type\" \"add,logical\")\n \t\t (eq_attr \"dot\" \"yes\")))\n        (eq_attr \"cpu\" \"ppc440\"))\n   \"ppc440_issue,ppc440_i_pipe\")"}, {"sha": "4c879f467acb14a653a743fc7416ca1b777ffef0", "filename": "gcc/config/rs6000/476.md", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2F476.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2F476.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2F476.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -64,7 +64,7 @@\n \n (define_insn_reservation \"ppc476-simple-integer\" 1\n   (and (ior (eq_attr \"type\" \"integer,insert,exts\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"no\")))\n        (eq_attr \"cpu\" \"ppc476\"))\n   \"ppc476_issue,\\\n@@ -77,9 +77,8 @@\n    ppc476_i_pipe\")\n \n (define_insn_reservation \"ppc476-compare\" 4\n-  (and (ior (eq_attr \"type\" \"compare,fast_compare,mfcr,mfcrf,\\\n-                             mtcr,mfjmpr,mtjmpr\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+  (and (ior (eq_attr \"type\" \"compare,mfcr,mfcrf,mtcr,mfjmpr,mtjmpr\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"yes\")))\n        (eq_attr \"cpu\" \"ppc476\"))\n   \"ppc476_issue,\\"}, {"sha": "871957aa56031c8d992ce9bfadad27ee162d008b", "filename": "gcc/config/rs6000/603.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2F603.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2F603.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2F603.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -59,7 +59,7 @@\n \n (define_insn_reservation \"ppc603-integer\" 1\n   (and (ior (eq_attr \"type\" \"integer,insert,trap,cntlz,exts,isel\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"no\")))\n        (eq_attr \"cpu\" \"ppc603\"))\n   \"iu_603\")\n@@ -93,8 +93,8 @@\n   \"iu_603*37\")\n \n (define_insn_reservation \"ppc603-compare\" 3\n-  (and (ior (eq_attr \"type\" \"cmp,fast_compare,compare\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+  (and (ior (eq_attr \"type\" \"cmp,compare\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"yes\")))\n        (eq_attr \"cpu\" \"ppc603\"))\n   \"iu_603,nothing,bpu_603\")"}, {"sha": "9d6ba050063c2ad530f3cacf36bffc90f717f8d2", "filename": "gcc/config/rs6000/6xx.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2F6xx.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2F6xx.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2F6xx.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -74,7 +74,7 @@\n   \n (define_insn_reservation \"ppc604-integer\" 1\n   (and (ior (eq_attr \"type\" \"integer,insert,trap,cntlz,exts,isel\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"no\")))\n        (eq_attr \"cpu\" \"ppc604,ppc604e,ppc620,ppc630\"))\n   \"iu1_6xx|iu2_6xx\")\n@@ -147,8 +147,8 @@\n   \"mciu_6xx*36\")\n \n (define_insn_reservation \"ppc604-compare\" 3\n-  (and (ior (eq_attr \"type\" \"cmp,fast_compare,compare\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+  (and (ior (eq_attr \"type\" \"cmp,compare\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"yes\")))\n        (eq_attr \"cpu\" \"ppc604,ppc604e,ppc620,ppc630\"))\n   \"(iu1_6xx|iu2_6xx)\")"}, {"sha": "4271efaa10bc6b012184292ea8dc42c98fa25789", "filename": "gcc/config/rs6000/7450.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2F7450.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2F7450.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2F7450.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -74,7 +74,7 @@\n \n (define_insn_reservation \"ppc7450-integer\" 1\n   (and (ior (eq_attr \"type\" \"integer,insert,trap,cntlz,exts,isel\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"no\")))\n        (eq_attr \"cpu\" \"ppc7450\"))\n   \"ppc7450_du,iu1_7450|iu2_7450|iu3_7450\")\n@@ -108,8 +108,8 @@\n   \"ppc7450_du,mciu_7450*23\")\n \n (define_insn_reservation \"ppc7450-compare\" 2\n-  (and (ior (eq_attr \"type\" \"cmp,fast_compare,compare\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+  (and (ior (eq_attr \"type\" \"cmp,compare\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"yes\")))\n        (eq_attr \"cpu\" \"ppc7450\"))\n   \"ppc7450_du,(iu1_7450|iu2_7450|iu3_7450)\")"}, {"sha": "aba4a770ec33db25f3534a06a7d38ab68db96712", "filename": "gcc/config/rs6000/7xx.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2F7xx.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2F7xx.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2F7xx.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -62,7 +62,7 @@\n \n (define_insn_reservation \"ppc750-integer\" 1\n   (and (ior (eq_attr \"type\" \"integer,insert,trap,cntlz,exts,isel\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"no\")))\n        (eq_attr \"cpu\" \"ppc750,ppc7400\"))\n   \"ppc750_du,iu1_7xx|iu2_7xx\")\n@@ -101,8 +101,8 @@\n   \"ppc750_du,iu1_7xx*19\")\n \n (define_insn_reservation \"ppc750-compare\" 2\n-  (and (ior (eq_attr \"type\" \"cmp,fast_compare,compare\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+  (and (ior (eq_attr \"type\" \"cmp,compare\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"yes\")))\n        (eq_attr \"cpu\" \"ppc750,ppc7400\"))\n   \"ppc750_du,(iu1_7xx|iu2_7xx)\")"}, {"sha": "90a3d27d4d945fdac3e05e5feb7ea90a8c124d03", "filename": "gcc/config/rs6000/8540.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2F8540.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2F8540.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2F8540.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -84,7 +84,7 @@\n \n ;; Simple SU insns\n (define_insn_reservation \"ppc8540_su\" 1\n-  (and (eq_attr \"type\" \"integer,add,insert,cmp,compare,fast_compare,\\\n+  (and (eq_attr \"type\" \"integer,add,logical,insert,cmp,compare,\\\n                         shift,trap,cntlz,exts,isel\")\n        (eq_attr \"cpu\" \"ppc8540,ppc8548\"))\n   \"ppc8540_decode,ppc8540_issue+ppc8540_su_stage0+ppc8540_retire\")"}, {"sha": "b37cdba00553962d4fb49875d3ea4ad33dba4a0b", "filename": "gcc/config/rs6000/cell.md", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fcell.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fcell.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fcell.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -167,7 +167,7 @@\n ;; Integer latency is 2 cycles\n (define_insn_reservation \"cell-integer\" 2\n   (and (ior (eq_attr \"type\" \"integer,trap,cntlz,exts,isel\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"no\"))\n \t    (and (eq_attr \"type\" \"insert\")\n \t\t (eq_attr \"size\" \"64\")))\n@@ -201,16 +201,16 @@\n \n ;; add, addo, sub, subo, alter cr0, rldcli, rlwinm \n (define_insn_reservation \"cell-fast-cmp\" 2\n-  (and (ior (eq_attr \"type\" \"fast_compare,compare\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+  (and (ior (eq_attr \"type\" \"compare\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"yes\")))\n        (eq_attr \"cpu\" \"cell\")\n        (eq_attr \"cell_micro\" \"not\"))\n   \"slot01,fxu_cell\")\n \n (define_insn_reservation \"cell-cmp-microcoded\" 9\n-  (and (ior (eq_attr \"type\" \"fast_compare,compare\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+  (and (ior (eq_attr \"type\" \"compare\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"yes\")))\n        (eq_attr \"cpu\" \"cell\")\n        (eq_attr \"cell_micro\" \"always\"))"}, {"sha": "6ac585b7d2cb8bd118a997a3ffd5d29dddaa10ea", "filename": "gcc/config/rs6000/e300c2c3.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fe300c2c3.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fe300c2c3.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fe300c2c3.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -83,8 +83,8 @@\n \n ;; Compares can be executed either one of the IU or SRU\n (define_insn_reservation \"ppce300c3_cmp\" 1\n-  (and (ior (eq_attr \"type\" \"cmp,compare,fast_compare\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+  (and (ior (eq_attr \"type\" \"cmp,compare\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"yes\")))\n        (ior (eq_attr \"cpu\" \"ppce300c2\") (eq_attr \"cpu\" \"ppce300c3\")))\n   \"ppce300c3_decode,ppce300c3_issue+(ppce300c3_iu_stage0|ppce300c3_sru_stage0) \\\n@@ -93,7 +93,7 @@\n ;; Other one cycle IU insns\n (define_insn_reservation \"ppce300c3_iu\" 1\n   (and (ior (eq_attr \"type\" \"integer,insert,isel\")\n-\t    (and (eq_attr \"type\" \"add\")\n+\t    (and (eq_attr \"type\" \"add,logical\")\n \t\t (eq_attr \"dot\" \"no\")))\n        (ior (eq_attr \"cpu\" \"ppce300c2\") (eq_attr \"cpu\" \"ppce300c3\")))\n   \"ppce300c3_decode,ppce300c3_issue+ppce300c3_iu_stage0+ppce300c3_retire\")"}, {"sha": "2af7eb4e37aa946b5930b1e6f2f32733cd59a8be", "filename": "gcc/config/rs6000/e500mc.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fe500mc.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fe500mc.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fe500mc.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -70,7 +70,7 @@\n \n ;; Simple SU insns.\n (define_insn_reservation \"e500mc_su\" 1\n-  (and (eq_attr \"type\" \"integer,add,insert,cmp,compare,fast_compare,\\\n+  (and (eq_attr \"type\" \"integer,add,logical,insert,cmp,compare,\\\n                         shift,trap,cntlz,exts,isel\")\n        (eq_attr \"cpu\" \"ppce500mc\"))\n   \"e500mc_decode,e500mc_issue+e500mc_su_stage0+e500mc_retire\")"}, {"sha": "45823347ab9e6908dacd7aaf89da74f2e87ef5dc", "filename": "gcc/config/rs6000/e500mc64.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fe500mc64.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fe500mc64.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fe500mc64.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -70,7 +70,7 @@\n ;; Simple SU insns.\n (define_insn_reservation \"e500mc64_su\" 1\n   (and (ior (eq_attr \"type\" \"integer,insert,cntlz,exts\")\n-\t    (and (eq_attr \"type\" \"add\")\n+\t    (and (eq_attr \"type\" \"add,logical\")\n \t\t (eq_attr \"dot\" \"no\"))\n \t    (and (eq_attr \"type\" \"shift\")\n \t\t (eq_attr \"dot\" \"no\")\n@@ -79,8 +79,8 @@\n   \"e500mc64_decode,e500mc64_issue+e500mc64_su_stage0+e500mc64_retire\")\n \n (define_insn_reservation \"e500mc64_su2\" 2\n-  (and (ior (eq_attr \"type\" \"cmp,compare,fast_compare,trap\")\n-\t    (and (eq_attr \"type\" \"add\")\n+  (and (ior (eq_attr \"type\" \"cmp,compare,trap\")\n+\t    (and (eq_attr \"type\" \"add,logical\")\n \t\t (eq_attr \"dot\" \"yes\"))\n \t    (and (eq_attr \"type\" \"shift\")\n \t\t (eq_attr \"dot\" \"yes\")"}, {"sha": "49a5c394eb1337157d92963995b8d35ba8bcbe7c", "filename": "gcc/config/rs6000/e5500.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fe5500.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fe5500.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fe5500.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -57,16 +57,16 @@\n ;; SFX.\n (define_insn_reservation \"e5500_sfx\" 1\n   (and (ior (eq_attr \"type\" \"integer,insert,cntlz,exts\")\n-\t    (and (eq_attr \"type\" \"add\")\n+\t    (and (eq_attr \"type\" \"add,logical\")\n \t\t (eq_attr \"dot\" \"no\"))\n \t    (and (eq_attr \"type\" \"shift\")\n \t\t (eq_attr \"var_shift\" \"no\")))\n        (eq_attr \"cpu\" \"ppce5500\"))\n   \"e5500_decode,e5500_sfx\")\n \n (define_insn_reservation \"e5500_sfx2\" 2\n-  (and (ior (eq_attr \"type\" \"cmp,compare,fast_compare,trap\")\n-\t    (and (eq_attr \"type\" \"add\")\n+  (and (ior (eq_attr \"type\" \"cmp,compare,trap\")\n+\t    (and (eq_attr \"type\" \"add,logical\")\n \t\t (eq_attr \"dot\"  \"yes\")))\n        (eq_attr \"cpu\" \"ppce5500\"))\n   \"e5500_decode,e5500_sfx\")"}, {"sha": "deec34b0aabc0bfcd625284754ab205e61814975", "filename": "gcc/config/rs6000/e6500.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fe6500.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fe6500.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fe6500.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -60,16 +60,16 @@\n ;; SFX.\n (define_insn_reservation \"e6500_sfx\" 1\n   (and (ior (eq_attr \"type\" \"integer,insert,cntlz,exts\")\n-\t    (and (eq_attr \"type\" \"add\")\n+\t    (and (eq_attr \"type\" \"add,logical\")\n \t\t (eq_attr \"dot\"  \"no\"))\n \t    (and (eq_attr \"type\" \"shift\")\n \t\t (eq_attr \"var_shift\" \"no\")))\n        (eq_attr \"cpu\" \"ppce6500\"))\n   \"e6500_decode,e6500_sfx\")\n \n (define_insn_reservation \"e6500_sfx2\" 2\n-  (and (ior (eq_attr \"type\" \"cmp,compare,fast_compare,trap\")\n-\t    (and (eq_attr \"type\" \"add\")\n+  (and (ior (eq_attr \"type\" \"cmp,compare,trap\")\n+\t    (and (eq_attr \"type\" \"add,logical\")\n \t\t (eq_attr \"dot\"  \"yes\")))\n        (eq_attr \"cpu\" \"ppce6500\"))\n   \"e6500_decode,e6500_sfx\")"}, {"sha": "2f11a8614991359d458b30c8b24d8e1079d4b062", "filename": "gcc/config/rs6000/mpc.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fmpc.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fmpc.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fmpc.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -42,7 +42,7 @@\n \n (define_insn_reservation \"mpccore-integer\" 1\n   (and (ior (eq_attr \"type\" \"integer,insert,trap,cntlz,exts,isel\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"no\")))\n        (eq_attr \"cpu\" \"mpccore\"))\n   \"iu_mpc\")\n@@ -69,8 +69,8 @@\n   \"mciu_mpc*6\")\n \n (define_insn_reservation \"mpccore-compare\" 3\n-  (and (ior (eq_attr \"type\" \"cmp,fast_compare,compare\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+  (and (ior (eq_attr \"type\" \"cmp,compare\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"yes\")))\n        (eq_attr \"cpu\" \"mpccore\"))\n   \"iu_mpc,nothing,bpu_mpc\")"}, {"sha": "e46914e65215f911a3c950088236638a4143713d", "filename": "gcc/config/rs6000/power4.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fpower4.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fpower4.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fpower4.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -211,7 +211,7 @@\n ; Integer latency is 2 cycles\n (define_insn_reservation \"power4-integer\" 2\n   (and (ior (eq_attr \"type\" \"integer,trap,cntlz,exts,isel\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"no\"))\n \t    (and (eq_attr \"type\" \"insert\")\n \t\t (eq_attr \"size\" \"64\")))\n@@ -250,8 +250,8 @@\n     |(iu2_power4,nothing,iu1_power4))\")\n \n (define_insn_reservation \"power4-cmp\" 3\n-  (and (ior (eq_attr \"type\" \"cmp,fast_compare\")\n-\t    (and (eq_attr \"type\" \"add\")\n+  (and (ior (eq_attr \"type\" \"cmp\")\n+\t    (and (eq_attr \"type\" \"add,logical\")\n \t\t (eq_attr \"dot\" \"yes\")))\n        (eq_attr \"cpu\" \"power4\"))\n   \"iq_power4\")"}, {"sha": "198db827f8c8a7a8460c3a5da88dcf2e7553f9ef", "filename": "gcc/config/rs6000/power5.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fpower5.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fpower5.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fpower5.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -167,7 +167,7 @@\n ; Integer latency is 2 cycles\n (define_insn_reservation \"power5-integer\" 2\n   (and (ior (eq_attr \"type\" \"integer,trap,cntlz,exts,isel,popcnt\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"no\"))\n \t    (and (eq_attr \"type\" \"insert\")\n \t\t (eq_attr \"size\" \"64\")))\n@@ -203,8 +203,8 @@\n   \"du1_power5+du2_power5,iu1_power5,nothing,iu2_power5\")\n \n (define_insn_reservation \"power5-cmp\" 3\n-  (and (ior (eq_attr \"type\" \"cmp,fast_compare\")\n-\t    (and (eq_attr \"type\" \"add\")\n+  (and (ior (eq_attr \"type\" \"cmp\")\n+\t    (and (eq_attr \"type\" \"add,logical\")\n \t\t (eq_attr \"dot\" \"yes\")))\n        (eq_attr \"cpu\" \"power5\"))\n   \"iq_power5\")"}, {"sha": "e4a82a21c64857aff247f683f64031ce1e58f8e6", "filename": "gcc/config/rs6000/power6.md", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fpower6.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fpower6.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fpower6.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -223,7 +223,7 @@\n \n (define_insn_reservation \"power6-integer\" 1\n   (and (ior (eq_attr \"type\" \"integer\")\n-\t    (and (eq_attr \"type\" \"add\")\n+\t    (and (eq_attr \"type\" \"add,logical\")\n \t\t (eq_attr \"dot\" \"no\")))\n        (eq_attr \"cpu\" \"power6\"))\n   \"FXU_power6\")\n@@ -338,9 +338,8 @@\n   \"FXU_power6\")\n \n (define_insn_reservation \"power6-fast-compare\" 1\n-  (and (ior (eq_attr \"type\" \"fast_compare\")\n-\t    (and (eq_attr \"type\" \"add\")\n-\t\t (eq_attr \"dot\" \"yes\")))\n+  (and (eq_attr \"type\" \"add,logical\")\n+       (eq_attr \"dot\" \"yes\")\n        (eq_attr \"cpu\" \"power6\"))\n   \"FXU_power6\")\n "}, {"sha": "b2a0cafe99c6f38fac40aaacbac482e521397a12", "filename": "gcc/config/rs6000/power7.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fpower7.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fpower7.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fpower7.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -175,7 +175,7 @@\n ; FX Unit\n (define_insn_reservation \"power7-integer\" 1\n   (and (ior (eq_attr \"type\" \"integer,insert,trap,exts,isel,popcnt\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"no\")))\n        (eq_attr \"cpu\" \"power7\"))\n   \"DU_power7,FXU_power7\")\n@@ -196,8 +196,8 @@\n   \"DU_power7+DU_power7+DU_power7,FXU_power7,FXU_power7,FXU_power7\")\n \n (define_insn_reservation \"power7-cmp\" 1\n-  (and (ior (eq_attr \"type\" \"cmp,fast_compare\")\n-\t    (and (eq_attr \"type\" \"add\")\n+  (and (ior (eq_attr \"type\" \"cmp\")\n+\t    (and (eq_attr \"type\" \"add,logical\")\n \t\t (eq_attr \"dot\" \"yes\")))\n        (eq_attr \"cpu\" \"power7\"))\n   \"DU_power7,FXU_power7\")"}, {"sha": "c7c0aa982cf4376adb4550dd28fa659816c9e71e", "filename": "gcc/config/rs6000/power8.md", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fpower8.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Fpower8.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fpower8.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -169,7 +169,7 @@\n ; FX Unit\n (define_insn_reservation \"power8-1cyc\" 1\n   (and (ior (eq_attr \"type\" \"integer,insert,trap,exts,isel\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"no\")))\n        (eq_attr \"cpu\" \"power8\"))\n   \"DU_any_power8,FXU_power8\")\n@@ -205,11 +205,10 @@\n        (eq_attr \"cpu\" \"power8\"))\n   \"DU_any_power8,FXU_power8\")\n \n-; fast_compare : add./and./nor./etc\n+; add/logical with dot : add./and./nor./etc\n (define_insn_reservation \"power8-fast-compare\" 2\n-  (and (ior (eq_attr \"type\" \"fast_compare\")\n-\t    (and (eq_attr \"type\" \"add\")\n-\t\t (eq_attr \"dot\" \"yes\")))\n+  (and (eq_attr \"type\" \"add,logical\")\n+       (eq_attr \"dot\" \"yes\")\n        (eq_attr \"cpu\" \"power8\"))\n   \"DU_any_power8,FXU_power8\")\n "}, {"sha": "36e5e990d320a6b474d062aa1fdb0fa88aaba711", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -26242,8 +26242,8 @@ rs6000_adjust_cost (rtx insn, rtx link, rtx dep_insn, int cost)\n \t\t    }\n                   case TYPE_INTEGER:\n                   case TYPE_ADD:\n+                  case TYPE_LOGICAL:\n                   case TYPE_COMPARE:\n-                  case TYPE_FAST_COMPARE:\n                   case TYPE_EXTS:\n                   case TYPE_INSERT:\n                     {\n@@ -26306,8 +26306,8 @@ rs6000_adjust_cost (rtx insn, rtx link, rtx dep_insn, int cost)\n \t\t    }\n                   case TYPE_INTEGER:\n                   case TYPE_ADD:\n+                  case TYPE_LOGICAL:\n                   case TYPE_COMPARE:\n-                  case TYPE_FAST_COMPARE:\n                   case TYPE_EXTS:\n                   case TYPE_INSERT:\n                     {"}, {"sha": "36553bbbf82f9f15bd7e3a571d00a8df262e1aaa", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 55, "deletions": 34, "changes": 89, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -159,13 +159,13 @@\n ;; computations.\n (define_attr \"type\"\n   \"integer,two,three,\n-   add,shift,insert,\n+   add,logical,shift,insert,\n    mul,halfmul,div,\n    exts,cntlz,popcnt,isel,\n    load,store,fpload,fpstore,vecload,vecstore,\n    cmp,\n    branch,jmpreg,mfjmpr,mtjmpr,trap,isync,sync,load_l,store_c,\n-   compare,fast_compare,\n+   compare,\n    cr_logical,delayed_cr,mfcr,mfcrf,mtcr,\n    fpcompare,fp,fpsimple,dmul,sdiv,ddiv,ssqrt,dsqrt,\n    brinc,\n@@ -179,7 +179,7 @@\n (define_attr \"size\" \"8,16,32,64\" (const_string \"32\"))\n \n ;; Is this instruction record form (\"dot\", signed compare to 0, writing CR0)?\n-;; This is used for mul.\n+;; This is used for add, logical, shift, mul.\n (define_attr \"dot\" \"no,yes\" (const_string \"no\"))\n \n ;; Does this instruction sign-extend its result?\n@@ -877,7 +877,8 @@\n   \"@\n    andi. %2,%1,0xff\n    #\"\n-  [(set_attr \"type\" \"fast_compare,compare\")\n+  [(set_attr \"type\" \"logical,compare\")\n+   (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,8\")])\n \n (define_split\n@@ -903,7 +904,8 @@\n   \"@\n    andi. %0,%1,0xff\n    #\"\n-  [(set_attr \"type\" \"fast_compare,compare\")\n+  [(set_attr \"type\" \"logical,compare\")\n+   (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,8\")])\n \n (define_split\n@@ -997,7 +999,8 @@\n   \"@\n    andi. %2,%1,0xff\n    #\"\n-  [(set_attr \"type\" \"fast_compare,compare\")\n+  [(set_attr \"type\" \"logical,compare\")\n+   (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,8\")])\n \n (define_split\n@@ -1023,7 +1026,8 @@\n   \"@\n    andi. %0,%1,0xff\n    #\"\n-  [(set_attr \"type\" \"fast_compare,compare\")\n+  [(set_attr \"type\" \"logical,compare\")\n+   (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,8\")])\n \n (define_split\n@@ -1123,7 +1127,8 @@\n   \"@\n    andi. %2,%1,0xffff\n    #\"\n-  [(set_attr \"type\" \"fast_compare,compare\")\n+  [(set_attr \"type\" \"logical,compare\")\n+   (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,8\")])\n \n (define_split\n@@ -1149,7 +1154,8 @@\n   \"@\n    andi. %0,%1,0xffff\n    #\"\n-  [(set_attr \"type\" \"fast_compare,compare\")\n+  [(set_attr \"type\" \"logical,compare\")\n+   (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,8\")])\n \n (define_split\n@@ -1952,7 +1958,8 @@\n   \"@\n    nor. %2,%1,%1\n    #\"\n-  [(set_attr \"type\" \"fast_compare,compare\")\n+  [(set_attr \"type\" \"logical,compare\")\n+   (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,8\")])\n \n (define_split\n@@ -1978,7 +1985,8 @@\n   \"@\n    nor. %0,%1,%1\n    #\"\n-  [(set_attr \"type\" \"fast_compare,compare\")\n+  [(set_attr \"type\" \"logical,compare\")\n+   (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,8\")])\n \n (define_split\n@@ -2907,7 +2915,8 @@\n    rlwinm %0,%1,0,%m2,%M2\n    andi. %0,%1,%b2\n    andis. %0,%1,%u2\"\n-  [(set_attr \"type\" \"*,*,fast_compare,fast_compare\")])\n+  [(set_attr \"type\" \"*,*,logical,logical\")\n+   (set_attr \"dot\" \"no,no,yes,yes\")])\n \n (define_insn \"andsi3_nomc\"\n   [(set (match_operand:SI 0 \"gpc_reg_operand\" \"=r,r\")\n@@ -2950,7 +2959,7 @@\n    #\n    #\n    #\"\n-  [(set_attr \"type\" \"fast_compare,fast_compare,fast_compare,shift,\\\n+  [(set_attr \"type\" \"logical,logical,logical,shift,\\\n \t\t     compare,compare,compare,compare\")\n    (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,4,4,4,8,8,8,8\")])\n@@ -2972,7 +2981,7 @@\n    #\n    #\n    #\"\n-  [(set_attr \"type\" \"compare,fast_compare,fast_compare,shift,compare,\\\n+  [(set_attr \"type\" \"compare,logical,logical,shift,compare,\\\n \t\t     compare,compare,compare\")\n    (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"8,4,4,4,8,8,8,8\")])\n@@ -3033,7 +3042,7 @@\n    #\n    #\n    #\"\n-  [(set_attr \"type\" \"fast_compare,fast_compare,fast_compare,shift,\\\n+  [(set_attr \"type\" \"logical,logical,logical,shift,\\\n \t\t     compare,compare,compare,compare\")\n    (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,4,4,4,8,8,8,8\")])\n@@ -3057,7 +3066,7 @@\n    #\n    #\n    #\"\n-  [(set_attr \"type\" \"compare,fast_compare,fast_compare,shift,compare,\\\n+  [(set_attr \"type\" \"compare,logical,logical,shift,compare,\\\n \t\t     compare,compare,compare\")\n    (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"8,4,4,4,8,8,8,8\")])\n@@ -3190,7 +3199,8 @@\n   \"@\n    %q4. %3,%1,%2\n    #\"\n-  [(set_attr \"type\" \"fast_compare,compare\")\n+  [(set_attr \"type\" \"logical,compare\")\n+   (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,8\")])\n \n (define_split\n@@ -3219,7 +3229,8 @@\n   \"@\n    %q4. %0,%1,%2\n    #\"\n-  [(set_attr \"type\" \"fast_compare,compare\")\n+  [(set_attr \"type\" \"logical,compare\")\n+   (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,8\")])\n \n (define_split\n@@ -3344,7 +3355,8 @@\n   \"@\n    %q4. %3,%1,%2\n    #\"\n-  [(set_attr \"type\" \"fast_compare,compare\")\n+  [(set_attr \"type\" \"logical,compare\")\n+   (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,8\")])\n \n (define_split\n@@ -3373,7 +3385,8 @@\n   \"@\n    %q4. %0,%1,%2\n    #\"\n-  [(set_attr \"type\" \"fast_compare,compare\")\n+  [(set_attr \"type\" \"logical,compare\")\n+   (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,8\")])\n \n (define_split\n@@ -4550,7 +4563,7 @@\n    #\n    #\n    #\"\n-  [(set_attr \"type\" \"fast_compare,shift,shift,shift,shift,shift\")\n+  [(set_attr \"type\" \"logical,shift,shift,shift,shift,shift\")\n    (set_attr \"var_shift\" \"no,yes,no,no,yes,no\")\n    (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,4,4,8,8,8\")])\n@@ -4584,7 +4597,7 @@\n    #\n    #\n    #\"\n-  [(set_attr \"type\" \"fast_compare,shift,shift,shift,shift,shift\")\n+  [(set_attr \"type\" \"logical,shift,shift,shift,shift,shift\")\n    (set_attr \"var_shift\" \"no,yes,no,no,yes,no\")\n    (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,4,4,8,8,8\")])\n@@ -8071,7 +8084,8 @@\n    andi. %0,%1,%b2\n    andis. %0,%1,%u2\n    #\"\n-  [(set_attr \"type\" \"*,*,*,fast_compare,fast_compare,*\")\n+  [(set_attr \"type\" \"*,*,*,logical,logical,*\")\n+   (set_attr \"dot\" \"no,no,no,yes,yes,no\")\n    (set_attr \"length\" \"4,4,4,4,4,8\")])\n \n (define_insn \"anddi3_nomc\"\n@@ -8129,8 +8143,8 @@\n    #\n    #\n    #\"\n-  [(set_attr \"type\" \"fast_compare,compare,shift,fast_compare,\\\n-\t\t     fast_compare,compare,compare,compare,compare,compare,\\\n+  [(set_attr \"type\" \"logical,compare,shift,logical,\\\n+\t\t     logical,compare,compare,compare,compare,compare,\\\n \t\t     compare,compare\")\n    (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,4,4,4,4,8,8,8,8,8,8,12\")])\n@@ -8183,8 +8197,8 @@\n    #\n    #\n    #\"\n-  [(set_attr \"type\" \"fast_compare,compare,shift,fast_compare,\\\n-\t\t     fast_compare,compare,compare,compare,compare,compare,\\\n+  [(set_attr \"type\" \"logical,compare,shift,logical,\\\n+\t\t     logical,compare,compare,compare,compare,compare,\\\n \t\t     compare,compare\")\n    (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,4,4,4,4,8,8,8,8,8,8,12\")])\n@@ -8316,7 +8330,8 @@\n   \"@\n    %q4. %3,%1,%2\n    #\"\n-  [(set_attr \"type\" \"fast_compare,compare\")\n+  [(set_attr \"type\" \"logical,compare\")\n+   (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,8\")])\n \n (define_split\n@@ -8345,7 +8360,8 @@\n   \"@\n    %q4. %0,%1,%2\n    #\"\n-  [(set_attr \"type\" \"fast_compare,compare\")\n+  [(set_attr \"type\" \"logical,compare\")\n+   (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,8\")])\n \n (define_split\n@@ -8405,7 +8421,8 @@\n   \"@\n    %q4. %3,%2,%1\n    #\"\n-  [(set_attr \"type\" \"fast_compare,compare\")\n+  [(set_attr \"type\" \"logical,compare\")\n+   (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,8\")])\n \n (define_split\n@@ -8434,7 +8451,8 @@\n   \"@\n    %q4. %0,%2,%1\n    #\"\n-  [(set_attr \"type\" \"fast_compare,compare\")\n+  [(set_attr \"type\" \"logical,compare\")\n+   (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,8\")])\n \n (define_split\n@@ -8471,7 +8489,8 @@\n   \"@\n    %q4. %3,%1,%2\n    #\"\n-  [(set_attr \"type\" \"fast_compare,compare\")\n+  [(set_attr \"type\" \"logical,compare\")\n+   (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,8\")])\n \n (define_split\n@@ -8500,7 +8519,8 @@\n   \"@\n    %q4. %0,%1,%2\n    #\"\n-  [(set_attr \"type\" \"fast_compare,compare\")\n+  [(set_attr \"type\" \"logical,compare\")\n+   (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,8\")])\n \n (define_split\n@@ -9039,7 +9059,8 @@\n    cmp<wd>i %2,%0,0\n    mr. %0,%1\n    #\"\n-  [(set_attr \"type\" \"cmp,fast_compare,cmp\")\n+  [(set_attr \"type\" \"cmp,logical,cmp\")\n+   (set_attr \"dot\" \"yes\")\n    (set_attr \"length\" \"4,4,8\")])\n \n (define_split"}, {"sha": "c891ac4b27f599e823a250e57c86b8f4cc91caa5", "filename": "gcc/config/rs6000/rs64.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Frs64.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Frs64.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs64.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -47,7 +47,7 @@\n \n (define_insn_reservation \"rs64a-integer\" 1\n   (and (ior (eq_attr \"type\" \"integer,insert,trap,cntlz,exts,isel\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"no\")))\n        (eq_attr \"cpu\" \"rs64a\"))\n   \"iu_rs64\")\n@@ -99,8 +99,8 @@\n   \"mciu_rs64*66\")\n \n (define_insn_reservation \"rs64a-compare\" 3\n-  (and (ior (eq_attr \"type\" \"cmp,fast_compare,compare\")\n-\t    (and (eq_attr \"type\" \"add,shift\")\n+  (and (ior (eq_attr \"type\" \"cmp,compare\")\n+\t    (and (eq_attr \"type\" \"add,logical,shift\")\n \t\t (eq_attr \"dot\" \"yes\")))\n        (eq_attr \"cpu\" \"rs64a\"))\n   \"iu_rs64,nothing,bpu_rs64\")"}, {"sha": "4326cb90fdc21ee1dfb3a65c4e26dfddf5f673ca", "filename": "gcc/config/rs6000/titan.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Ftitan.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076/gcc%2Fconfig%2Frs6000%2Ftitan.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Ftitan.md?ref=73c076c8a2b46d1f87c64a92bf1e7edfe0b6e076", "patch": "@@ -34,8 +34,8 @@\n ;; instructions. It provides its own, dedicated result-bus, so we\n ;; don't need the titan_fxu_wb reservation to complete.\n (define_insn_reservation \"titan_fxu_adder\" 1\n-  (and (ior (eq_attr \"type\" \"cmp,fast_compare,trap\")\n-\t    (and (eq_attr \"type\" \"add\")\n+  (and (ior (eq_attr \"type\" \"cmp,trap\")\n+\t    (and (eq_attr \"type\" \"add,logical\")\n \t\t (eq_attr \"dot\" \"yes\")))\n        (eq_attr \"cpu\" \"titan\"))\n   \"titan_issue,titan_fxu_sh\")\n@@ -75,7 +75,7 @@\n \n (define_insn_reservation \"titan_fxu_alu\" 1\n   (and (ior (eq_attr \"type\" \"integer,exts\")\n-\t    (and (eq_attr \"type\" \"add\")\n+\t    (and (eq_attr \"type\" \"add,logical\")\n \t\t (eq_attr \"dot\" \"no\")))\n        (eq_attr \"cpu\" \"titan\"))\n   \"titan_issue,titan_fxu_sh,nothing,titan_fxu_wb\")"}]}