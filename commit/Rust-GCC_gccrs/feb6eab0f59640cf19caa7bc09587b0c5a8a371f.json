{"sha": "feb6eab0f59640cf19caa7bc09587b0c5a8a371f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmViNmVhYjBmNTk2NDBjZjE5Y2FhN2JjMDk1ODdiMGM1YThhMzcxZg==", "commit": {"author": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2013-01-15T05:29:01Z"}, "committer": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2013-01-15T05:29:01Z"}, "message": "re PR fortran/54286 (Accepts invalid proc-pointer assignments involving proc-ptr function result)\n\n2013-01-15  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/54286\n\t* expr.c (gfc_check_pointer_assign): Check for presence of\n\t's2' before using it.\n\n2013-01-15  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/54286\n\t* gfortran.dg/proc_ptr_result_8.f90 : Add module 'm' to check\n\tcase where interface is null.\n\nFrom-SVN: r195185", "tree": {"sha": "0d181503dcaf29b44335c9f7bc731c309119ebdb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0d181503dcaf29b44335c9f7bc731c309119ebdb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/feb6eab0f59640cf19caa7bc09587b0c5a8a371f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/feb6eab0f59640cf19caa7bc09587b0c5a8a371f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/feb6eab0f59640cf19caa7bc09587b0c5a8a371f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/feb6eab0f59640cf19caa7bc09587b0c5a8a371f/comments", "author": null, "committer": null, "parents": [{"sha": "54be5fb321b9ddb64a26f6cef4bfafd8a564b3d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/54be5fb321b9ddb64a26f6cef4bfafd8a564b3d0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/54be5fb321b9ddb64a26f6cef4bfafd8a564b3d0"}], "stats": {"total": 31, "additions": 30, "deletions": 1}, "files": [{"sha": "f297deb93adde5f6b86e9f23fdc0b8c72cfeb588", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/feb6eab0f59640cf19caa7bc09587b0c5a8a371f/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/feb6eab0f59640cf19caa7bc09587b0c5a8a371f/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=feb6eab0f59640cf19caa7bc09587b0c5a8a371f", "patch": "@@ -1,3 +1,9 @@\n+2013-01-15  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/54286\n+\t* expr.c (gfc_check_pointer_assign): Check for presence of\n+\t's2' before using it.\n+\n 2013-01-14  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR fortran/55806"}, {"sha": "f358ac7665eac840424d9857c3e0d9df21a6d6b4", "filename": "gcc/fortran/expr.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/feb6eab0f59640cf19caa7bc09587b0c5a8a371f/gcc%2Ffortran%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/feb6eab0f59640cf19caa7bc09587b0c5a8a371f/gcc%2Ffortran%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fexpr.c?ref=feb6eab0f59640cf19caa7bc09587b0c5a8a371f", "patch": "@@ -3537,7 +3537,7 @@ gfc_check_pointer_assign (gfc_expr *lvalue, gfc_expr *rvalue)\n \t  name = s2->name;\n \t}\n \n-      if (s2->attr.proc_pointer && s2->ts.interface)\n+      if (s2 && s2->attr.proc_pointer && s2->ts.interface)\n \ts2 = s2->ts.interface;\n \n       if (s1 == s2 || !s1 || !s2)"}, {"sha": "b3dba4969d688c772d547ded67d6387c12a7f62f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/feb6eab0f59640cf19caa7bc09587b0c5a8a371f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/feb6eab0f59640cf19caa7bc09587b0c5a8a371f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=feb6eab0f59640cf19caa7bc09587b0c5a8a371f", "patch": "@@ -1,3 +1,9 @@\n+2013-01-15  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/54286\n+\t* gfortran.dg/proc_ptr_result_8.f90 : Add module 'm' to check\n+\tcase where interface is null.\n+\n 2013-01-14  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR fortran/55806"}, {"sha": "17812bc4422f4f64b45a685542740619cecb1e7e", "filename": "gcc/testsuite/gfortran.dg/proc_ptr_result_8.f90", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/feb6eab0f59640cf19caa7bc09587b0c5a8a371f/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_ptr_result_8.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/feb6eab0f59640cf19caa7bc09587b0c5a8a371f/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_ptr_result_8.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_ptr_result_8.f90?ref=feb6eab0f59640cf19caa7bc09587b0c5a8a371f", "patch": "@@ -2,7 +2,24 @@\n ! Test fix for PR54286.\n !\n ! Contributed by Janus Weil  <janus@gcc.gnu.org>\n+! Module 'm' added later because original fix missed possibility of\n+! null interfaces - thanks to Dominique Dhumieres  <dominiq@lps.ens.fr>\n !\n+module m\n+  type :: foobar\n+    real, pointer :: array(:)\n+    procedure (), pointer, nopass :: f\n+  end type\n+contains\n+  elemental subroutine fooAssgn (a1, a2)\n+    type(foobar), intent(out) :: a1\n+    type(foobar), intent(in) :: a2\n+    allocate (a1%array(size(a2%array)))\n+    a1%array = a2%array\n+    a1%f => a2%f\n+  end subroutine\n+end module m\n+\n implicit integer (a)\n type :: t\n   procedure(a), pointer, nopass :: p"}]}