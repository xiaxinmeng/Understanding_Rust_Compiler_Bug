{"sha": "0128489557a1d96656f0049a3f0cd3ca4f6f1dc9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDEyODQ4OTU1N2ExZDk2NjU2ZjAwNDlhM2YwY2QzY2E0ZjZmMWRjOQ==", "commit": {"author": {"name": "Venkataramanan Kumar", "email": "venkataramanan.kumar@amd.com", "date": "2013-01-20T10:42:01Z"}, "committer": {"name": "Venkataramanan Kumar", "email": "vekumar@gcc.gnu.org", "date": "2013-01-20T10:42:01Z"}, "message": "Add AMD btver2 pipeline descriptions\n\nFrom-SVN: r195319", "tree": {"sha": "14e5679688edd4eb35020b1ecd2fc1b5db8a42f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/14e5679688edd4eb35020b1ecd2fc1b5db8a42f2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0128489557a1d96656f0049a3f0cd3ca4f6f1dc9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0128489557a1d96656f0049a3f0cd3ca4f6f1dc9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0128489557a1d96656f0049a3f0cd3ca4f6f1dc9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0128489557a1d96656f0049a3f0cd3ca4f6f1dc9/comments", "author": null, "committer": null, "parents": [{"sha": "5630e3e157a10a74e925de90e9badee11996a225", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5630e3e157a10a74e925de90e9badee11996a225", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5630e3e157a10a74e925de90e9badee11996a225"}], "stats": {"total": 1476, "additions": 1467, "deletions": 9}, "files": [{"sha": "8c214f267e1522016074283232018062df9b8572", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0128489557a1d96656f0049a3f0cd3ca4f6f1dc9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0128489557a1d96656f0049a3f0cd3ca4f6f1dc9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0128489557a1d96656f0049a3f0cd3ca4f6f1dc9", "patch": "@@ -1,3 +1,13 @@\n+2013-01-20  Venkataramanan Kumar  <venkataramanan.kumar@amd.com>\n+\n+\tbtver2 pipeline descriptions.\n+\t* config/i386/i386.c: Enable CPU_BTVER2 to use btver2 pipeline\n+\tdescriptions.\n+\t* config/i386/i386.md (btver2_decode): New type attributes.\n+\t* config/i386/sse.md (btver2_decode, btver2_sse_attr): New \n+\ttype attributes.\n+\t* config/i386/btver2.md: New file describing btver2 pipelines.\n+\n 2013-01-19  Andrew Pinski  <apinski@cavium.com>\n \n \tPR tree-optimization/52631"}, {"sha": "e872d602f581a964010abd39a677f03fc63f4975", "filename": "gcc/config/i386/btver2.md", "status": "added", "additions": 1391, "deletions": 0, "changes": 1391, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0128489557a1d96656f0049a3f0cd3ca4f6f1dc9/gcc%2Fconfig%2Fi386%2Fbtver2.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0128489557a1d96656f0049a3f0cd3ca4f6f1dc9/gcc%2Fconfig%2Fi386%2Fbtver2.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fbtver2.md?ref=0128489557a1d96656f0049a3f0cd3ca4f6f1dc9", "patch": "@@ -0,0 +1,1391 @@\n+;; Copyright (C) 2012, Free Software Foundation, Inc.\n+;;\n+;; This file is part of GCC.\n+;;\n+;; GCC is free software; you can redistribute it and/or modify\n+;; it under the terms of the GNU General Public License as published by\n+;; the Free Software Foundation; either version 3, or (at your option)\n+;; any later version.\n+;;\n+;; GCC is distributed in the hope that it will be useful,\n+;; but WITHOUT ANY WARRANTY; without even the implied warranty of\n+;; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+;; GNU General Public License for more details.\n+;;\n+;; You should have received a copy of the GNU General Public License\n+;; along with GCC; see the file COPYING3.  If not see\n+;; <http://www.gnu.org/licenses/>.\n+\n+;; AMD btver2 scheduling\n+\n+;; Instructions decoded are that are classifed as direct (fast path single),\n+;; double (fast path double) and vector instructions.\n+;; Direct instrucions are decoded and convereted into 1 cop\n+;; Double instrucions are decoded and converetd into 2 cops\n+;; Vector instrucions are microcoded and they generated converted to \n+;; 3 or more cops.\n+\n+(define_attr \"btver2_decode\" \"direct,vector,double\"\n+  (const_string \"direct\"))\n+\n+(define_attr \"btver2_sse_attr\" \"other,rcp,sqrt,maxmin\"\n+  (const_string \"other\"))\n+\n+(define_automaton \"btver2,btver2_int,btver2_agu,btver2_fp\")\n+\n+;; Decoder decodes up to two insns (2 fastpath singles) or \n+;;(2 fastpath doubles) or combination of both at a cycle.\n+;; In case of vector (microded) instruction decoder decodes only one insn\n+;; at a cycle .To model that we have 2 \"decoder\" units.\n+\n+(define_cpu_unit \"btver2-decode0\" \"btver2\")\n+(define_cpu_unit \"btver2-decode1\" \"btver2\")\n+\n+;; \"me\" unit converts the decoded insn into cops.\n+;; It can generate upto 2 cops from two fast path singles in cycle x+1, \n+;; to model we have two \"mes\". In case of fast path double it converts\n+;; them to 2 cops in cycle x+1. Vector instructions are modelled to block\n+;; all decoder units. \n+\n+(define_cpu_unit \"me0\" \"btver2\")\n+(define_cpu_unit \"me1\" \"btver2\")\n+\n+(define_reservation \"btver2-direct\" \"(btver2-decode0|btver2-decode1),(me0|me1)\")\n+\n+(define_reservation \"btver2-double\" \"(btver2-decode0|btver2-decode1),(me0+me1)\")\n+\n+(define_reservation \"btver2-vector\" \"(btver2-decode0+btver2-decode1),(me0+me1)\")\n+\n+;; Integer operations \n+;; There are 2 ALU pipes \n+\n+(define_cpu_unit \"btver2-ieu0\" \"btver2_int\")\n+(define_cpu_unit \"btver2-ieu1\" \"btver2_int\")\n+\n+;; There are 2 AGU pipes one for load and one for store.\n+\n+(define_cpu_unit \"btver2-load\"  \"btver2_agu\")\n+(define_cpu_unit \"btver2-store\" \"btver2_agu\")\n+\n+;; ALU operations can take place in ALU pipe0 or pipe1. \n+(define_reservation \"btver2-alu\" \"(btver2-ieu0|btver2-ieu1)\")\n+\n+;; MUL and DIV operations can take place in to ALU pipe1.\n+(define_reservation \"btver2-mul\" \"btver2-ieu1\")\n+(define_reservation \"btver2-div\" \"btver2-ieu1\")\n+\n+;; vectorpath (microcoded) instructions are single issue instructions.\n+;; So, they occupy all the integer units.\n+(define_reservation \"btver2-ivector\" \"btver2-ieu0+btver2-ieu1+\n+                                      btver2-load+btver2-store\")\n+\n+;;Floating point pipes.\n+(define_cpu_unit \"btver2-fp0\" \"btver2_fp\")\n+(define_cpu_unit \"btver2-fp1\" \"btver2_fp\")\n+\n+(define_reservation \"btver2-fpa\" \"btver2-fp0\")\n+(define_reservation \"btver2-vimul\" \"btver2-fp0\")\n+(define_reservation \"btver2-valu\" \"btver2-fp0|btver2-fp1\")\n+(define_reservation \"btver2-stc\" \"btver2-fp1\")\n+(define_reservation \"btver2-fpm\" \"btver2-fp1\")\n+\n+;; vectorpath (microcoded) instructions are single issue instructions.\n+;; So, they occupy all the fp units.\n+(define_reservation \"btver2-fvector\" \"btver2-fp0+btver2-fp1+\n+                                      btver2-load+btver2-store\")\n+\n+;; Call instruction\n+(define_insn_reservation \"btver2_call\" 2\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (eq_attr \"type\" \"call,callv\"))\n+\t\t\t \"btver2-double,btver2-load\")\n+\n+;; General instructions\n+;;\n+\n+(define_insn_reservation \"btver2_push_mem\" 4\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t   (eq_attr \"type\" \"push\")))\n+\t\t\t \"btver2-direct,btver2-load,btver2-alu\")\n+\n+(define_insn_reservation \"btver2_push\" 1\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (eq_attr \"type\" \"push\"))\n+\t\t\t \"btver2-direct,btver2-alu\")\n+\n+(define_insn_reservation \"btver2_pop_mem\" 4\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t   (eq_attr \"type\" \"pop\")))\n+\t\t\t \"btver2-direct,btver2-load,btver2-alu\")\n+\n+(define_insn_reservation \"btver2_pop\" 1\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (eq_attr \"type\" \"pop\"))\n+\t\t\t \"btver2-direct,btver2-alu\")\n+\n+(define_insn_reservation \"btver2_leave\" 3\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (eq_attr \"type\" \"leave\"))\n+\t\t\t \"btver2-double,btver2-alu\")\n+\n+(define_insn_reservation \"btver2_lea\" 1\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (eq_attr \"type\" \"lea\"))\n+\t\t\t \"btver2-direct,btver2-alu\")\n+\n+;; Integer  \n+(define_insn_reservation \"btver2_imul_DI\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"imul\")\n+\t\t\t\t   (and (eq_attr \"mode\" \"DI\")\n+\t\t\t\t\t(eq_attr \"memory\" \"none,unknown\"))))\n+\t\t\t \"btver2-direct,btver2-mul*4\")\n+\n+(define_insn_reservation \"btver2_imul\" 3\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"imul\")\n+\t\t\t\t   (eq_attr \"memory\" \"none,unknown\")))\n+\t\t\t \"btver2-direct,btver2-mul\")\n+\n+(define_insn_reservation \"btver2_imul_mem_DI\" 9\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"imul\")\n+\t\t\t\t   (and (eq_attr \"mode\" \"DI\")\n+\t\t\t\t\t(eq_attr \"memory\" \"load,both\"))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-mul*4\")\n+\n+(define_insn_reservation \"btver2_imul_mem\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"imul\")\n+\t\t\t\t   (eq_attr \"memory\" \"load,both\")))\n+\t\t\t \"btver2-direct,btver2-load,btver2-mul\")\n+\n+(define_insn_reservation \"btver2_idiv_DI\" 41\n+\t\t\t    (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t\t (and (eq_attr \"type\" \"idiv\")\n+\t\t\t\t      (and (eq_attr \"mode\" \"DI\")\n+\t\t\t\t\t   (eq_attr \"memory\" \"none,unknown\"))))\n+\t\t\t \"btver2-double,btver2-div\")\n+\n+(define_insn_reservation \"btver2_idiv_mem_DI\" 44\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"idiv\")\n+\t\t\t\t   (and (eq_attr \"mode\" \"DI\")\n+\t\t\t\t\t(eq_attr \"memory\" \"load\"))))\n+\t\t\t \"btver2-double,btver2-load,btver2-div\")\n+\n+(define_insn_reservation \"btver2_idiv_SI\" 25\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"idiv\")\n+\t\t\t\t   (and (eq_attr \"mode\" \"SI\")\n+\t\t\t\t\t(eq_attr \"memory\" \"none,unknown\"))))\n+\t\t\t \"btver2-double,btver2-div*25\")\n+\n+(define_insn_reservation \"btver2_idiv_mem_SI\" 28\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"idiv\")\n+\t\t\t\t   (and (eq_attr \"mode\" \"SI\")\n+\t\t\t\t\t(eq_attr \"memory\" \"load\"))))\n+\t\t\t \"btver2-double,btver2-load,btver2-div*25\")\n+\n+(define_insn_reservation \"btver2_idiv_HI\" 17\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"idiv\")\n+\t\t\t\t   (and (eq_attr \"mode\" \"HI\")\n+\t\t\t\t\t(eq_attr \"memory\" \"none,unknown\"))))\n+\t\t\t \"btver2-double,btver2-div*17\")\n+\n+(define_insn_reservation \"btver2_idiv_mem_HI\" 20\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"idiv\")\n+\t\t\t\t   (and (eq_attr \"mode\" \"HI\")\n+\t\t\t\t\t(eq_attr \"memory\" \"load\"))))\n+\t\t\t \"btver2-double,btver2-load,btver2-div*17\")\n+\n+(define_insn_reservation \"btver2_idiv_QI\" 12\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"idiv\")\n+\t\t\t\t   (and (eq_attr \"mode\" \"SI\")\n+\t\t\t\t\t(eq_attr \"memory\" \"none,unknown\"))))\n+\t\t\t \"btver2-direct,btver2-div*12\")\n+\n+(define_insn_reservation \"btver2_idiv_mem_QI\" 15\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"idiv\")\n+\t\t\t\t   (and (eq_attr \"mode\" \"SI\")\n+\t\t\t\t\t(eq_attr \"memory\" \"load\"))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-div*12\")\n+\n+(define_insn_reservation \"btver2_str\" 7\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"str\")\n+\t\t\t\t   (eq_attr \"memory\" \"load,both,store\")))\n+\t\t\t \"btver2-vector,btver2-ivector\")\n+\n+(define_insn_reservation \"btver2_idirect_loadmov\" 4\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"imov\")\n+\t\t\t\t   (eq_attr \"memory\" \"load\")))\n+\t\t\t \"btver2-direct,btver2-load,btver2-alu\")\n+\n+(define_insn_reservation \"btver2_idirect_load\" 4\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"bdver1_decode\" \"direct\")\n+\t\t\t\t   (and (eq_attr \"unit\" \"integer,unknown\")\n+\t\t\t\t\t(eq_attr \"memory\" \"load\"))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-alu\")\n+\n+(define_insn_reservation \"btver2_idirect_movstore\" 4\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"imov\")\n+\t\t\t\t   (eq_attr \"memory\" \"store\")))\n+\t\t\t \"btver2-direct,btver2-alu,btver2-store\")\n+\n+(define_insn_reservation \"btver2_idirect_both\" 4\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"bdver1_decode\" \"direct\")\n+\t\t\t\t   (and (eq_attr \"unit\" \"integer,unknown\")\n+\t\t\t\t\t(eq_attr \"memory\" \"both\"))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-alu,btver2-store\")\n+\n+(define_insn_reservation \"btver2_idirect_store\" 4\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"bdver1_decode\" \"direct\")\n+\t\t\t\t   (and (eq_attr \"unit\" \"integer,unknown\")\n+\t\t\t\t\t(eq_attr \"memory\" \"store\"))))\n+\t\t\t \"btver2-direct,btver2-alu,btver2-store\")\n+\n+;; Other integer instrucions \n+(define_insn_reservation \"btver2_idirect\" 1\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t   (and (eq_attr \"unit\" \"integer,unknown\")\n+\t\t\t\t\t(eq_attr \"memory\" \"none,unknown\"))))\n+\t\t\t \"btver2-direct,btver2-alu\")\n+\n+;; Floating point instructions \n+(define_insn_reservation \"btver2_fldxf\" 19\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"fmov\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(eq_attr \"mode\" \"XF\"))))\n+\t\t\t \"btver2-vector,btver2-load,btver2-fvector*5\")\n+\n+(define_insn_reservation \"btver2_fld\" 11\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"fmov\")\n+\t\t\t\t   (eq_attr \"memory\" \"load\")))\n+\t\t\t \"btver2-direct,btver2-load,(btver2-fp0|btver2-fp1)\")\n+\n+(define_insn_reservation \"btver2_fstxf\" 24\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"fmov\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"both\")\n+\t\t\t\t\t(eq_attr \"mode\" \"XF\"))))\n+\t\t\t \"btver2-vector,btver2-fvector*9,btver2-store\")\n+\n+(define_insn_reservation \"btver2_fst\" 11\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"fmov\")\n+\t\t\t\t   (eq_attr \"memory\" \"store,both\")))\n+\t\t\t \"btver2-direct,btver2-fp1,btver2-store\")\n+\n+(define_insn_reservation \"btver2_fist\" 9\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (eq_attr \"type\" \"fistp,fisttp\"))\n+\t\t\t \"btver2-direct,btver2-load,btver2-fp1\")\n+\n+(define_insn_reservation \"btver2_fmov\" 2\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (eq_attr \"type\" \"fmov\"))\n+\t\t\t \"btver2-direct,(btver2-fp0|btver2-fp1)\")\n+\n+(define_insn_reservation \"btver2_fadd_load\" 8\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"fop\")\n+\t\t\t\t   (eq_attr \"memory\" \"load\")))\n+\t\t\t \"btver2-direct,btver2-load,btver2-fp0\")\n+\n+(define_insn_reservation \"btver2_fadd\" 3\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (eq_attr \"type\" \"fop\"))\n+\t\t\t \"btver2-direct,btver2-fp0\")\n+\n+(define_insn_reservation \"btver2_fmul_load\" 10\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"fmul\")\n+\t\t\t\t   (eq_attr \"memory\" \"load\")))\n+\t\t\t \"btver2-direct,btver2-load,btver2-fp1*3\")\n+\n+(define_insn_reservation \"btver2_fmul\" 5\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (eq_attr \"type\" \"fmul\"))\n+\t\t\t \"btver2-direct,(btver2-fp1*3)\")\n+\n+(define_insn_reservation \"btver2_fsgn\" 2\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (eq_attr \"type\" \"fsgn\"))\n+\t\t\t \"btver2-direct,btver2-fp1*2\")\n+\n+(define_insn_reservation \"btver2_fdiv_load\" 24\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"fdiv\")\n+\t\t\t\t   (eq_attr \"memory\" \"load\")))\n+\t\t\t \"btver2-direct,btver2-load,btver2-fp1*19\")\n+\n+(define_insn_reservation \"btver2_fdiv\" 19\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (eq_attr \"type\" \"fdiv\"))\n+\t\t\t \"btver2-direct,btver2-fp1*19\")\n+\n+(define_insn_reservation \"btver2_fcmov_load\" 12\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"fcmov\")\n+\t\t\t\t   (eq_attr \"memory\" \"load\")))\n+\t\t\t \"btver2-vector,btver2-load,(btver2-fp0|btver2-fp1)*7\")\n+\n+(define_insn_reservation \"btver2_fcmov\" 7\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (eq_attr \"type\" \"fcmov\"))\n+\t\t\t \"btver2-vector,(btver2-fp0|btver2-fp1)*7\")\n+\n+(define_insn_reservation \"btver2_fcomi_load\" 7\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"fcmp\")\n+\t\t\t\t   (and (eq_attr \"bdver1_decode\" \"double\")\n+\t\t\t\t\t(eq_attr \"memory\" \"load\"))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-fp0*2\")\n+\n+(define_insn_reservation \"btver2_fcomi\" 2\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"bdver1_decode\" \"double\")\n+\t\t\t\t   (eq_attr \"type\" \"fcmp\")))\n+\t\t\t \"btver2-direct, btver2-fp0*2\")\n+\n+(define_insn_reservation \"btver2_fcom_load\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"type\" \"fcmp\")\n+\t\t\t\t   (eq_attr \"memory\" \"load\")))\n+\t\t\t \"btver2-direct,btver2-load,btver2-fp0\")\n+\n+(define_insn_reservation \"btver2_fcom\" 1\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (eq_attr \"type\" \"fcmp\"))\n+\t\t\t  \"btver2-direct,btver2-fp0\")\n+\n+(define_insn_reservation \"btver2_fxch\" 1\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (eq_attr \"type\" \"fxch\"))\n+\t\t\t \"btver2-direct,btver2-fp1\")\n+\n+;; SSE AVX maxmin,rcp,sqrt\n+(define_insn_reservation \"btver2_sse_maxmin\" 2\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V8SF,V4DF,V2DF,V4SF,SF,DF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_sse_attr\" \"maxmin\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sse,sseadd\")))))\n+\t\t\t \"btver2-direct,btver2-fpa\")\n+\n+(define_insn_reservation \"btver2_sse_maxmin_mem\" 7 \n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V8SF,V4DF,V2DF,V4SF,SF,DF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_sse_attr\" \"maxmin\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sse,sseadd\")))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-fpa\")\n+\n+(define_insn_reservation \"btver2_sse_rcp\" 2\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4SF,SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_sse_attr\" \"rcp\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sse\")))))\n+\t\t\t \"btver2-direct,btver2-fpm\")\n+\n+(define_insn_reservation \"btver2_sse_rcp_mem\" 7\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4SF,SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_sse_attr\" \"rcp\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sse\")))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-fpm\")\n+\n+(define_insn_reservation \"btver2_avx_rcp\" 2\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V8SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_sse_attr\" \"rcp\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sse\")))))\n+\t\t\t \"btver2-double,btver2-fpm*2\")\n+\n+(define_insn_reservation \"btver2_avx_rcp_mem\" 7 \n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V8SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_sse_attr\" \"rcp\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sse\")))))\n+\t\t\t \"btver2-double,btver2-load,btver2-fpm*2\")\n+\n+(define_insn_reservation \"btver2_sse_sqrt_v4sf\" 21\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_sse_attr\" \"sqrt\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sse\")))))\n+\t\t\t \"btver2-direct,btver2-fpm*21\")\n+\n+(define_insn_reservation \"btver2_sse_sqrt_v4sf_mem\" 26\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_sse_attr\" \"sqrt\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sse\")))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-fpm*21\")\n+\n+(define_insn_reservation \"btver2_sse_sqrt_v4df\" 54\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4DF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_sse_attr\" \"sqrt\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sse\")))))\n+\t\t\t \"btver2-double,btver2-fpm*54\")\n+\n+(define_insn_reservation \"btver2_sse_sqrt_v4df_mem\" 59\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4DF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_sse_attr\" \"sqrt\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sse\")))))\n+\t\t\t \"btver2-double,btver2-load,btver2-fpm*54\")\n+\n+(define_insn_reservation \"btver2_sse_sqrt_sf\" 16\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_sse_attr\" \"sqrt\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sse\")))))\n+\t\t\t \"btver2-direct,btver2-fpm*16\")\n+\n+(define_insn_reservation \"btver2_sse_sqrt_sf_mem\" 21\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_sse_attr\" \"sqrt\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sse\")))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-fpm*16\")\n+\n+(define_insn_reservation \"btver2_sse_sqrt_df\" 27\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V2DF,DF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_sse_attr\" \"sqrt\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sse\")))))\n+\t\t\t \"btver2-direct,btver2-fpm*27\")\n+\n+(define_insn_reservation \"btver2_sse_sqrt_df_mem\" 32\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V2DF,DF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_sse_attr\" \"sqrt\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sse\")))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-fpm*27\")\n+\n+(define_insn_reservation \"btver2_sse_sqrt_v8sf\" 42\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V8SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_sse_attr\" \"sqrt\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sse\")))))\n+\t\t\t \"btver2-double,btver2-fpm*42\")\n+\n+(define_insn_reservation \"btver2_sse_sqrt_v8sf_mem\" 42\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V8SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_sse_attr\" \"sqrt\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sse\")))))\n+\t\t\t \"btver2-double,btver2-load,btver2-fpm*42\")\n+\n+;; Bitmanipulation instrucions BMI LZCNT POPCNT \n+(define_insn_reservation \"btver2_bmi_reg_direct\"   1\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none\")\n+\t\t\t\t\t(eq_attr \"type\" \"bitmanip\"))))\n+\t\t\t \"btver2-direct,btver2-alu\")\n+\n+(define_insn_reservation \"btver2_bmi_mem_direct\" 4\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(eq_attr \"type\" \"bitmanip\"))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-alu\")\n+\n+(define_insn_reservation \"btver2_bmi_reg_double\"  2\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"btver2_decode\" \"double\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none\")\n+\t\t\t\t\t(eq_attr \"type\" \"bitmanip,alu1\"))))\n+\t\t\t \"btver2-double,btver2-alu\")\n+\n+(define_insn_reservation \"btver2_bmi_double_store\"  5\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"memory\" \"store\")\n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"double\")\n+\t\t\t\t\t(eq_attr \"type\" \"bitmanip,alu1\"))))\n+\t\t\t \"btver2-double,btver2-alu,btver2-store\")\n+\n+(define_insn_reservation \"btver2_bmi_double_load\" 4 \n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"btver2_decode\" \"double\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(eq_attr \"type\" \"bitmanip,alu1\"))))\n+\t\t\t \"btver2-double,btver2-load,btver2-alu\")\n+\n+;; F16C converts\n+(define_insn_reservation \"btver2_ssecvt_load_direct\" 8\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V8SF,V4SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssecvt\")))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-stc\")\n+\n+(define_insn_reservation \"btver2_ssecvt_store_direct\" 8\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t     (and (eq_attr \"mode\" \"V8SF,V4SF\")\n+\t\t\t\t  (and (eq_attr \"memory\" \"store\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssecvt\")))))\n+\t\t\t \"btver2-direct,btver2-stc,btver2-store\")\n+\n+(define_insn_reservation \"btver2_ssecvt_reg_direct\" 3\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V8SF,V4SF\")\n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssecvt\"))))\n+\t\t\t \"btver2-direct,btver2-stc\")\n+\n+(define_insn_reservation \"btver2_ssecvt_load_double\" 8\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V8SF,V4SF\")\n+\t\t\t\t  (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"double\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssecvt\")))))\n+\t\t\t \"btver2-double,btver2-load,btver2-stc*2\")\n+\n+(define_insn_reservation \"btver2_ssecvt_reg_double\" 3\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V8SF,V4SF\")\n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"double\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssecvt\"))))\n+\t\t\t \"btver2-double,btver2-stc*2\")\n+\n+(define_insn_reservation \"btver2_ssecvt_store_vector\" 11\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V8SF,V4SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"store\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssecvt\")))))\n+\t\t\t \"btver2-vector,btver2-stc,(btver2-fpa|btver2-fpm),btver2-store\")\n+\n+(define_insn_reservation \"btver2_ssecvt_reg_vector\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V8SF,V4SF\")\n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"vector\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssecvt\"))))\n+\t\t\t \"btver2-vector,btver2-stc,(btver2-fpa|btver2-fpm)\")\n+\n+;; avx256 adds\n+(define_insn_reservation \"btver2_avx_add_load_256\" 8\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4DF,V8SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(eq_attr \"type\" \"sseadd,sseadd1\"))))\n+\t\t\t \"btver2-double,btver2-load,btver2-fpa\")\n+\n+(define_insn_reservation \"btver2_avx_add_reg_256\" 3\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4DF,V8SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(eq_attr \"type\" \"sseadd,sseadd1\"))))\n+\t\t\t \"btver2-double,btver2-fpa\")\n+\n+;; avx256 logs \n+(define_insn_reservation \"btver2_avx_load_log\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4DF,V8SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"!vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sselog,sselog1\")))))\n+\t\t\t \"btver2-double,btver2-load,(btver2-fpa|btver2-fpm)\")\n+\n+(define_insn_reservation \"btver2_avx_reg_log\" 1\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4DF,V8SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"!vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sselog,sselog1\")))))\n+\t\t\t \"btver2-double,(btver2-fpa|btver2-fpm)\")\n+\n+;; avx256 sse\n+\n+(define_insn_reservation \"btver2_avx_load_sse\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4DF,V8SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"!vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sse\")))))\n+\t\t\t \"btver2-double,btver2-load,(btver2-fpa|btver2-fpm)\")\n+\n+(define_insn_reservation \"btver2_avx_reg_sse\" 1\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4DF,V8SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"!vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sse\")))))\n+\t\t\t \"btver2-double,(btver2-fpa|btver2-fpm)\")\n+\n+;; avx256 moves\n+(define_insn_reservation \"btver2_avx_load_int_mov\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"OI\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssemov\"))))\n+\t\t\t \"btver2-double,btver2-load,btver2-valu\")\n+\n+(define_insn_reservation \"btver2_avx_store_int_mov\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"OI\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"store\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssemov\"))))\n+\t\t\t \"btver2-double,btver2-valu,btver2-store\")\n+\n+(define_insn_reservation \"btver2_avx_int_mov\" 1 \n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"OI\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssemov\"))))\n+\t\t\t \"btver2-double,btver2-valu\")\n+\n+(define_insn_reservation \"btver2_avx_load_from_vectors\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V8SF,V4DF\")\n+\t\t\t\t   (and (ior ( match_operand:V4SF 1 \"memory_operand\")\n+\t\t\t\t\t     ( match_operand:V2DF 1 \"memory_operand\"))\n+\t\t\t\t\t(and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssemov\")))))\n+\t\t\t \"btver2-double,btver2-load,(btver2-fpa|btver2-fpm)\")\n+\n+(define_insn_reservation \"btver2_avx_loads_from_scalar\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V8SF,V4DF\")\n+\t\t\t\t   (and (ior ( match_operand:SF 1 \"memory_operand\")\n+\t\t\t\t\t     ( match_operand:DF 1 \"memory_operand\"))\n+\t\t\t\t\t(and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssemov\")))))\n+\t\t\t \"btver2-double,btver2-load,(btver2-fpa|btver2-fpm)*2\")\n+\n+(define_insn_reservation \"btver2_avx_store_move\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4DF,V8SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"store\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"!vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssemov\")))))\n+\t\t\t \"btver2-double,(btver2-fpa|btver2-fpm),btver2-store\")\n+\n+(define_insn_reservation \"btver2_avx_load_move\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4DF,V8SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"!vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssemov\")))))\n+\t\t\t \"btver2-double,btver2-load,(btver2-fpa|btver2-fpm)\")\n+\n+(define_insn_reservation \"btver2_avx_reg_move\" 1\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4DF,V8SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"!vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssemov\")))))\n+\t\t\t \"btver2-double,(btver2-fpa|btver2-fpm)\")\n+;; avx256 cmps\n+(define_insn_reservation \"btver2_avx_load_cmp\" 7\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4DF,V8SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssecmp\"))))\n+\t\t\t \"btver2-double,btver2-load,(btver2-fpa|btver2-fpm)*2\")\n+\n+(define_insn_reservation \"btver2_avx_cmp\" 2\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4DF,V8SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssecmp\"))))\n+\t\t\t \"btver2-double,(btver2-fpa|btver2-fpm)*2\")\n+\n+;; ssecvts 256 \n+(define_insn_reservation \"btver2_ssecvt_256_load\" 8\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4DF,OI\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"!vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssecvt\")))))\n+\t\t\t \"btver2-double,btver2-load,btver2-stc*2\")\n+\n+(define_insn_reservation \"btver2_ssecvt_256\" 3 \n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4DF,OI\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"!vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssecvt\")))))\n+\t\t\t \"btver2-double,btver2-stc*2\")\n+\n+(define_insn_reservation \"btver2_ssecvt_256_vector_load\" 11\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4DF,OI\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssecvt\")))))\n+\t\t\t \"btver2-vector,btver2-load,btver2-stc*2,(btver2-fpa|btver2-fpm)\")\n+\n+(define_insn_reservation \"btver2_ssecvt_256_vector\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4DF,OI\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssecvt\")))))\n+\t\t\t \"btver2-vector,btver2-stc*2,(btver2-fpa|btver2-fpm)\")\n+\n+;; avx256 divides\n+(define_insn_reservation \"btver2_avx_load_div\" 43\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4DF,V8SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"!vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssediv\")))))\n+\t\t\t \"btver2-double,btver2-load,btver2-fpm*38\")\n+\n+(define_insn_reservation \"btver2_avx_div\" 38\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4DF,V8SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"!vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssediv\")))))\n+\t\t\t \"btver2-double,btver2-fpm*38\")\n+\n+;; avx256  multiply\n+\n+(define_insn_reservation \"btver2_avx_mul_load_pd\" 9\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4DF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"!vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssemul\")))))\n+\t\t\t\"btver2-double,btver2-load,btver2-fpm*4\")\n+\n+(define_insn_reservation \"btver2_avx_mul_load_ps\" 7\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V8SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"!vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssemul\")))))\n+\t\t\t \"btver2-double,btver2-load,btver2-fpm*2\")\n+\n+\n+(define_insn_reservation \"btver2_avx_mul_256_pd\" 4\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4DF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"!vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssemul\")))))\n+\t\t\t \"btver2-double,btver2-fpm*4\")\n+\n+(define_insn_reservation \"btver2_avx_mul_256_ps\" 2\t\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V8SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"!vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssemul\")))))\n+\t\t\t \"btver2-double,btver2-fpm*2\")\n+\n+(define_insn_reservation \"btver2_avx_dpps_load_ps\" 17\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V8SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssemul\")))))\n+\t\t\t \"btver2-vector,btver2-fpm*6,btver2-fpa*6\")\n+\n+(define_insn_reservation \"btver2_avx_dpps_ps\" 12\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V8SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssemul\")))))\n+\t\t\t \"btver2-vector,btver2-fpm*6,btver2-fpa*6\")\n+\n+;; AES/CLMUL\n+\n+(define_insn_reservation \"btver2_aes_double\" 3\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (match_operand:V2DI 0 \"register_operand\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"double\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sselog1\")))))\n+\t\t\t \"btver2-double,btver2-valu,btver2-vimul\")\n+\n+(define_insn_reservation \"btver2_aes_direct\" 2\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (match_operand:V2DI 0 \"register_operand\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sselog1\")))))\n+\t\t\t \"btver2-direct,btver2-vimul\")\n+\n+;; AVX128 SSE4* SSSE3 SSE3* SSE2 SSE instructions \n+\n+(define_insn_reservation \"btver2_sseint_load_direct\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"TI\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sse,ssecmp,sseiadd\")))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-valu\")\n+\n+(define_insn_reservation \"btver2_sseint_direct\" 1\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"TI\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sse,ssecmp,sseiadd\")))))\n+\t\t\t \"btver2-direct,btver2-valu\")\n+\n+(define_insn_reservation \"btver2_sselog_direct\" 1\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V2DF,V4SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sse,sselog\")))))\n+\t\t\t \"btver2-direct,(btver2-fpa|btver2-fpm)\")\n+\n+(define_insn_reservation \"btver2_sselog_load_direct\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V2DF,V4SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sse,sselog\")))))\n+\t\t\t \"btver2-direct,btver2-load,(btver2-fpa|btver2-fpm)\")\n+\n+(define_insn_reservation \"btver2_intext_reg_128\" 3\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"SF,QI,SI,HI,SI\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sselog\")))))\n+\t\t\t \"btver2-direct,btver2-fpa\")\n+\n+(define_insn_reservation \"btver2_sse_mov_direct\" 1\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V2DF,V4SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssemov\")))))\n+\t\t\t \"btver2-direct,(btver2-fpa|btver2-fpm)\")\n+\n+(define_insn_reservation \"btver2_sse_mov_vector\" 2 \n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V2DF,V4SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssemov\")))))\n+\t\t\t \"btver2-vector,(btver2-fpa|btver2-fpm)*2\")\n+\n+(define_insn_reservation \"btver2_ssecomi_load_128\" 8\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"TI\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"!vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssecomi\")))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-fpa\")\n+\n+(define_insn_reservation \"btver2_ssecomi_reg_128\" 3\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"TI\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"!vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssecomi\")))))\n+\t\t\t \"btver2-direct,btver2-fpa\")\n+\n+(define_insn_reservation \"btver2_ssemul_load_v2df\" 14\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V2DF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssemul\")))))\n+\t\t\t \"btver2-vector,btver2-load,btver2-fpm*2,btver2-fpa\")\n+\n+(define_insn_reservation \"btver2_ssemul_reg_v2df\" 9\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V2DF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssemul\")))))\n+\t\t\t \"btver2-vector,btver2-fpm*2,btver2-fpa\")\n+\n+(define_insn_reservation \"btver2_ssemul_load_v4sf\" 16\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssemul\")))))\n+\t\t\t\"btver2-vector,btver2-load,btver2-fpm*3,btver2-fpa*2\")\n+\n+(define_insn_reservation \"btver2_ssemul_reg_v4sf\" 11\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"vector\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssemul\")))))\n+\t\t\t \"btver2-vector,btver2-fpm*3,btver2-fpa*2\")\n+\n+(define_insn_reservation \"btver2_sse_store_vectmov\" 8\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"vector\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssemov\"))))\n+\t\t\t\"btver2-vector,btver2-valu*3,btver2-store\")\n+\n+(define_insn_reservation \"btver2_sse_load_vectmov\" 8\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"vector\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssemov\"))))\n+\t\t\t \"btver2-vector,btver2-load,btver2-valu*3\")\n+\n+(define_insn_reservation \"btver2_sse_vectmov\" 3\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"vector\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssemov\"))))\n+\t\t\t \"btver2-vector,btver2-valu*3\")\n+\n+\n+(define_insn_reservation \"btver2_sseimul\" 2 \n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t(eq_attr \"type\" \"sseimul\"))))\n+\t\t\t \"btver2-direct,btver2-vimul\")\n+\n+(define_insn_reservation \"btver2_sseimul_load\" 7\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t(eq_attr \"type\" \"sseimul\"))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-vimul\")\n+\n+(define_insn_reservation \"btver2_sseimul_load_vect\" 9\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"vector\")\n+\t\t\t\t\t(eq_attr \"type\" \"sseimul\"))))\n+\t\t\t \"btver2-vector,btver2-load,btver2-vimul*2,btver2-valu\")\n+\n+(define_insn_reservation \"btver2_sseimul_vect\" 4\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"vector\")\n+\t\t\t\t\t(eq_attr \"type\" \"sseimul\"))))\n+\t\t\t \"btver2-vector,btver2-vimul*2,btver2-valu\")\n+\n+(define_insn_reservation \"btver2_sseins\" 3\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t   (eq_attr \"type\" \"sseins\")))\n+\t\t\t \"btver2-vector,btver2-valu*3\")\n+\n+(define_insn_reservation \"btver2_sseishft_load\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t(eq_attr \"type\" \"sseishft\"))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-valu\")\n+\n+(define_insn_reservation \"btver2_sseishft_direct\" 1\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"direct\") \n+\t\t\t\t\t(eq_attr \"type\" \"sseishft\"))))\n+\t\t\t \"btver2-direct,btver2-valu\")\n+\n+(define_insn_reservation \"btver2_sselog1_load\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\"  \"!V8SF,!V4DF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sselog1\")))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-valu\")\n+\n+(define_insn_reservation \"btver2_sselog1_direct\" 1\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\"  \"!V8SF,!V4DF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sselog1\")))))\n+\t\t\t \"btver2-direct,btver2-valu\")\n+\n+(define_insn_reservation \"btver2_sselog1_vector_load\" 7\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"vector\")\n+\t\t\t\t\t(eq_attr \"type\" \"sselog1\"))))\n+\t\t\t \"btver2-vector,btver2-valu*2\")\n+\n+(define_insn_reservation \"btver2_sselog1_vector\" 2\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"vector\")\n+\t\t\t\t\t(eq_attr \"type\" \"sselog1\"))))\n+\t\t\t \"btver2-vector,btver2-valu*2\")\n+\n+(define_insn_reservation \"btver2_sseadd_load\" 8\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4SF,V2DF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sseadd,sseadd1\")))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-fpa\")\n+\n+(define_insn_reservation \"btver2_sseadd_reg\" 3\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V4SF,V2DF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sseadd,sseadd1\")))))\n+\t\t\t \"btver2-direct,btver2-fpa\")\n+\n+;;SSE2 SSEint SSEfp SSE\n+\n+(define_insn_reservation \"btver2_sseint_to_scalar_move_with_load\" 8\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"SI,DI\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssemov\")))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-fpa\")\n+\n+(define_insn_reservation \"btver2_sseint_to_scalar_move_with_store\" 8\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"SI,DI\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"store\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssemov\")))))\n+\t\t\t \"btver2-direct,btver2-fpa,btver2-store\")\n+\n+\n+(define_insn_reservation \"btver2_scalar_to_sseint_move_with_load\" 11\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"TI\")\n+\t\t\t\t   (and (ior ( match_operand:SI 1 \"memory_operand\")\n+\t\t\t\t\t     ( match_operand:DI 1 \"memory_operand\"))\n+\t\t\t\t\t(eq_attr \"type\" \"ssemov\"))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-stc,btver2-valu\")\n+\n+(define_insn_reservation \"btver2_sseint_to_scalar\" 3\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"SI,DI\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssemov\")))))\n+\t\t\t \"btver2-direct,btver2-fpa\")\n+\n+(define_insn_reservation \"btver2_scalar_to_sseint\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"TI\")\n+\t\t\t\t   (and (ior ( match_operand:SI 1 \"register_operand\")\n+\t\t\t\t\t     ( match_operand:DI 1 \"register_operand\"))\n+\t\t\t\t\t(eq_attr \"type\" \"ssemov\"))))\n+\t\t\t    \"btver2-direct,btver2-stc,btver2-valu\")\n+\n+(define_insn_reservation \"btver2_sse_int_load\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"TI\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssemov,sselog,sseishft1\")))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-valu\")\n+\n+(define_insn_reservation \"btver2_sse_int_direct\" 1\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"TI\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\") \n+\t\t\t\t\t     (eq_attr \"type\" \"ssemov,sselog,sseishft1\")))))\n+\t\t\t \"btver2-direct,btver2-valu\")\n+\n+(define_insn_reservation \"btver2_sse_int_cvt_load\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"DI\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sseicvt\")))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-valu\")\n+\n+(define_insn_reservation \"btver2_sse_int_cvt\" 1\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"DI\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\") \n+\t\t\t\t\t     (eq_attr \"type\" \"sseicvt\")))))\n+\t\t\t \"btver2-direct,btver2-valu\")\n+\n+(define_insn_reservation \"btver2_sse_int_32_move\" 3\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"SI,DI\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssemov\")))))\n+\t\t\t \"btver2-direct,btver2-fpa\")\n+\n+(define_insn_reservation \"btver2_int_32_sse_move\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"TI\")\n+\t\t\t\t   (and (ior ( match_operand:SI 1 \"register_operand\")\n+\t\t\t\t\t     ( match_operand:DI 1 \"register_operand\"))\n+\t\t\t\t\t(eq_attr \"type\" \"ssemov\"))))\n+\t\t\t \"btver2-direct,btver2-stc,btver2-valu\")\n+\n+(define_insn_reservation \"btver2_sse2cvt_load_direct\" 8\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"TI,V4SF,V2DF,DI\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\") \n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssecvt\")))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-stc\")\n+\n+(define_insn_reservation \"btver2_sse2cvt_reg_direct\" 3\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"TI,V4SF,V2DF,DI\") \n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssecvt\"))))\n+\t\t\t \"btver2-direct,btver2-stc\")\n+\n+(define_insn_reservation \"btver2_sseicvt_load_si\" 11\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"SI\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"double\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sseicvt\")))))\n+\t\t\t \"btver2-double,btver2-load,btver2-stc,btver2-fpa\")\n+\n+(define_insn_reservation \"btver2_sseicvt_si\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"SI\")\n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"double\")\n+\t\t\t\t\t(eq_attr \"type\" \"sseicvt\"))))\n+\t\t\t \"btver2-double,btver2-stc,btver2-fpa\")\n+\n+(define_insn_reservation \"btver2_ssecvt_load_df\" 11\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"DF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"double\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssecvt\")))))\n+\t\t\t \"btver2-double,btver2-load,btver2-stc*2\")\n+\n+\n+(define_insn_reservation \"btver2_ssecvt_df\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"DF\")\n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"double\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssecvt\"))))\n+\t\t\t \"btver2-double,btver2-stc*2\")\n+\n+(define_insn_reservation \"btver2_ssecvt_load_sf\" 12\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"double\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssecvt\")))))\n+\t\t\t \"btver2-double,btver2-load,btver2-stc*2\")\n+\n+(define_insn_reservation \"btver2_ssecvt_sf\" 7\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"SF\")\n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"double\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssecvt\"))))\n+\t\t\t \"btver2-double,btver2-stc*2\")\n+\n+(define_insn_reservation \"btver2_sseicvt_load_df\" 14\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"DF,SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"double\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sseicvt\")))))\n+\t\t\t \"btver2-double,btver2-load,btver2-stc\")\n+;;st,ld-stc\n+(define_insn_reservation \"btver2_sseicvt_df\" 9\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"DF,SF\")\n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"double\")\n+\t\t\t\t\t(eq_attr \"type\" \"sseicvt\"))))\n+\t\t\t \"btver2-double,btver2-stc\")\n+\n+\n+(define_insn_reservation \"btver2_scalar_sse_load_add\" 8\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"DF,SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sseadd\")))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-fpa\")\n+\n+(define_insn_reservation \"btver2_scalar_sse_add\" 3\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"DF,SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"sseadd\")))))\n+\t\t\t \"btver2-direct,btver2-fpa\")\n+\n+(define_insn_reservation \"btver2_int_sse_cmp_load\" 7\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V2DF,V4SF,DF,SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssecmp\")))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-fpa\")\n+\n+(define_insn_reservation \"btver2_int_sse_cmp\" 2\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V2DF,V4SF,DF,SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssecmp\")))))\n+\t\t\t \"btver2-direct,btver2-fpa\")\n+\n+(define_insn_reservation \"btver2_int_sse_comsi_load\" 7\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"DF,SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssecomi\")))))\n+\t\t\t \"btver2-direct,btver2-fpa\")\n+\n+(define_insn_reservation \"btver2_int_sse_comsi\" 2\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t     (and (eq_attr \"mode\" \"DF,SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t     (eq_attr \"type\" \"ssecomi\")))))\n+\t\t\t \"btver2-direct,btver2-fpa\")\n+\n+(define_insn_reservation \"btver2_ssemmx_mov_load_default\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssemov,mmxmov\"))))\n+\t\t\t \"btver2-direct,btver2-load,(btver2-fpa|btver2-fpm)\")\n+\n+(define_insn_reservation \"btver2_ssemmx_mov_store_default\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"memory\" \"store,both\")\n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssemov,mmxmov\"))))\n+\t\t\t \"btver2-direct,(btver2-fpa|btver2-fpm),btver2-store\")\n+\n+(define_insn_reservation \"btver2_sse_mov_default\" 1\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t   (and (eq_attr \"btver2_decode\" \"direct\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssemov,mmxmov\"))))\n+\t\t\t \"btver2-direct,(btver2-fpa|btver2-fpm)\")\n+\n+(define_insn_reservation \"btver2_sse_shuf_double\" 2\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t   (and (eq_attr \"mode\" \"V4DF,V8SF\")     \n+\t\t\t\t\t(eq_attr \"type\" \"sseshuf\"))))\n+\t\t\t \"btver2-double,(btver2-fpa|btver2-fpm)\")\n+\n+(define_insn_reservation \"btver2_sse_shuf_direct\" 1\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t   (and (eq_attr \"mode\" \"V2DF,V4SF\")\n+\t\t\t\t\t(eq_attr \"type\" \"sseshuf,sseshuf1\"))))\n+\t\t\t \"btver2-direct,(btver2-fpa|btver2-fpm)\")\n+\n+(define_insn_reservation \"btver2_sse_shuf_double_load\" 7\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t   (and (eq_attr \"mode\" \"V4DF,V8SF\")\n+\t\t\t\t\t(eq_attr \"type\" \"sseshuf\"))))\n+\t\t\t \"btver2-double,btver2-load,(btver2-fpa|btver2-fpm)\")\n+\n+(define_insn_reservation \"btver2_sse_shuf_direct_load\" 6\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t   (and (eq_attr \"mode\" \"V2DF,V4SF\")\n+\t\t\t\t\t(eq_attr \"type\" \"sseshuf,sseshuf1\"))))\n+\t\t\t \"btver2-direct,btver2-load,(btver2-fpa|btver2-fpm)\")\n+\n+(define_insn_reservation \"btver2_sse_div\" 19\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V2DF,DF,V4SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssediv\"))))\n+\t\t\t \"btver2-direct,btver2-fpm*19\")\n+\n+(define_insn_reservation \"btver2_sse_div_sf\" 14\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t     (and (eq_attr \"mode\" \"SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssediv\"))))\n+\t\t\t \"btver2-direct,btver2-fpm*14\")\n+\n+(define_insn_reservation \"btver2_sse_mul\" 4\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V2DF,DF,V4SF,SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssemul\"))))\n+\t\t\t \"btver2-direct,btver2-fpm*2\")\n+\n+(define_insn_reservation \"btver2_sse_mul_sf\" 2\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V2DF,DF,V4SF,SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"none,unknown\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssemul\"))))\n+\t\t\t \"btver2-direct,btver2-fpm\")\n+\n+(define_insn_reservation \"btver2_sse_div_load\" 24\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V2DF,DF,V4SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssediv\"))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-fpm*19\")\n+\n+(define_insn_reservation \"btver2_sse_div_sf_load\" 19\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssediv\"))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-fpm*14\")\n+\n+(define_insn_reservation \"btver2_sse_mul_load\" 9\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V2DF,DF,V4SF,SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssemul\"))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-fpm*2\")\n+\n+(define_insn_reservation \"btver2_sse_mul_sf_load\" 7\n+\t\t\t (and (eq_attr \"cpu\" \"btver2\")\n+\t\t\t      (and (eq_attr \"mode\" \"V2DF,DF,V4SF,SF\")\n+\t\t\t\t   (and (eq_attr \"memory\" \"load\")\n+\t\t\t\t\t(eq_attr \"type\" \"ssemul\"))))\n+\t\t\t \"btver2-direct,btver2-load,btver2-fpm\")\n+"}, {"sha": "fcfe78c97151855035692d5215919e8f1d063ddb", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0128489557a1d96656f0049a3f0cd3ca4f6f1dc9/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0128489557a1d96656f0049a3f0cd3ca4f6f1dc9/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=0128489557a1d96656f0049a3f0cd3ca4f6f1dc9", "patch": "@@ -1744,10 +1744,10 @@ const struct processor_costs *ix86_cost = &pentium_cost;\n #define m_BDVER1 (1<<PROCESSOR_BDVER1)\n #define m_BDVER2 (1<<PROCESSOR_BDVER2)\n #define m_BDVER3 (1<<PROCESSOR_BDVER3)\n-#define m_BDVER\t(m_BDVER1 | m_BDVER2 | m_BDVER3)\n-#define m_BTVER (m_BTVER1 | m_BTVER2)\n #define m_BTVER1 (1<<PROCESSOR_BTVER1)\n #define m_BTVER2 (1<<PROCESSOR_BTVER2)\n+#define m_BDVER\t(m_BDVER1 | m_BDVER2 | m_BDVER3)\n+#define m_BTVER (m_BTVER1 | m_BTVER2)\n #define m_AMD_MULTIPLE (m_ATHLON_K8 | m_AMDFAM10 | m_BDVER | m_BTVER)\n \n #define m_GENERIC32 (1<<PROCESSOR_GENERIC32)\n@@ -2990,7 +2990,7 @@ ix86_option_override_internal (bool main_args_p)\n \tPTA_64BIT | PTA_MMX |  PTA_SSE  | PTA_SSE2 | PTA_SSE3\n \t| PTA_SSSE3 | PTA_SSE4A |PTA_ABM | PTA_CX16 | PTA_PRFCHW\n \t| PTA_FXSR | PTA_XSAVE},\n-      {\"btver2\", PROCESSOR_BTVER2, CPU_GENERIC64,\n+      {\"btver2\", PROCESSOR_BTVER2, CPU_BTVER2,\n \tPTA_64BIT | PTA_MMX |  PTA_SSE  | PTA_SSE2 | PTA_SSE3\n \t| PTA_SSSE3 | PTA_SSE4A |PTA_ABM | PTA_CX16 | PTA_SSE4_1\n \t| PTA_SSE4_2 | PTA_AES | PTA_PCLMUL | PTA_AVX"}, {"sha": "60ff12f68a78bc65e79af1d824514ff08ac5a4ce", "filename": "gcc/config/i386/i386.md", "status": "modified", "additions": 19, "deletions": 6, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0128489557a1d96656f0049a3f0cd3ca4f6f1dc9/gcc%2Fconfig%2Fi386%2Fi386.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0128489557a1d96656f0049a3f0cd3ca4f6f1dc9/gcc%2Fconfig%2Fi386%2Fi386.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.md?ref=0128489557a1d96656f0049a3f0cd3ca4f6f1dc9", "patch": "@@ -945,6 +945,7 @@\n (include \"athlon.md\")\n (include \"bdver1.md\")\n (include \"bdver3.md\")\n+(include \"btver2.md\")\n (include \"geode.md\")\n (include \"atom.md\")\n (include \"core2.md\")\n@@ -5058,6 +5059,7 @@\n    (set_attr \"athlon_decode\" \"double,direct\")\n    (set_attr \"amdfam10_decode\" \"vector,double\")\n    (set_attr \"bdver1_decode\" \"double,direct\")\n+   (set_attr \"btver2_decode\" \"double,double\")\n    (set_attr \"fp_int_src\" \"true\")])\n \n (define_insn \"*float<SWI48:mode><MODEF:mode>2_sse_interunit\"\n@@ -5079,6 +5081,7 @@\n    (set_attr \"athlon_decode\" \"double,direct\")\n    (set_attr \"amdfam10_decode\" \"vector,double\")\n    (set_attr \"bdver1_decode\" \"double,direct\")\n+   (set_attr \"btver2_decode\" \"double,double\")\n    (set_attr \"fp_int_src\" \"true\")])\n \n (define_split\n@@ -11979,6 +11982,7 @@\n   [(set_attr \"type\" \"alu1\")\n    (set_attr \"prefix_0f\" \"1\")\n    (set_attr \"prefix_rep\" \"1\")\n+   (set_attr \"btver2_decode\" \"double\")\n    (set_attr \"mode\" \"<MODE>\")])\n \n (define_insn \"*bsf<mode>_1\"\n@@ -11991,6 +11995,7 @@\n   \"bsf{<imodesuffix>}\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"alu1\")\n    (set_attr \"prefix_0f\" \"1\")\n+   (set_attr \"btver2_decode\" \"double\")\n    (set_attr \"mode\" \"<MODE>\")])\n \n (define_insn \"ctz<mode>2\"\n@@ -12052,26 +12057,28 @@\n \n ;; BMI instructions.\n (define_insn \"*bmi_andn_<mode>\"\n-  [(set (match_operand:SWI48 0 \"register_operand\" \"=r\")\n+  [(set (match_operand:SWI48 0 \"register_operand\" \"=r,r\")\n         (and:SWI48\n           (not:SWI48\n-            (match_operand:SWI48 1 \"register_operand\" \"r\"))\n-            (match_operand:SWI48 2 \"nonimmediate_operand\" \"rm\")))\n+            (match_operand:SWI48 1 \"register_operand\" \"r,r\"))\n+            (match_operand:SWI48 2 \"nonimmediate_operand\" \"r,m\")))\n    (clobber (reg:CC FLAGS_REG))]\n   \"TARGET_BMI\"\n   \"andn\\t{%2, %1, %0|%0, %1, %2}\"\n   [(set_attr \"type\" \"bitmanip\")\n+   (set_attr \"btver2_decode\" \"direct, double\")\n    (set_attr \"mode\" \"<MODE>\")])\n \n (define_insn \"bmi_bextr_<mode>\"\n-  [(set (match_operand:SWI48 0 \"register_operand\" \"=r\")\n-        (unspec:SWI48 [(match_operand:SWI48 1 \"register_operand\" \"r\")\n-                       (match_operand:SWI48 2 \"nonimmediate_operand\" \"rm\")]\n+  [(set (match_operand:SWI48 0 \"register_operand\" \"=r,r\")\n+        (unspec:SWI48 [(match_operand:SWI48 1 \"register_operand\" \"r,r\")\n+                       (match_operand:SWI48 2 \"nonimmediate_operand\" \"r,m\")]\n                        UNSPEC_BEXTR))\n    (clobber (reg:CC FLAGS_REG))]\n   \"TARGET_BMI\"\n   \"bextr\\t{%2, %1, %0|%0, %1, %2}\"\n   [(set_attr \"type\" \"bitmanip\")\n+   (set_attr \"btver2_decode\" \"direct, double\")\n    (set_attr \"mode\" \"<MODE>\")])\n \n (define_insn \"*bmi_blsi_<mode>\"\n@@ -12084,6 +12091,7 @@\n   \"TARGET_BMI\"\n   \"blsi\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"bitmanip\")\n+   (set_attr \"btver2_decode\" \"double\")\n    (set_attr \"mode\" \"<MODE>\")])\n \n (define_insn \"*bmi_blsmsk_<mode>\"\n@@ -12097,6 +12105,7 @@\n   \"TARGET_BMI\"\n   \"blsmsk\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"bitmanip\")\n+   (set_attr \"btver2_decode\" \"double\")\n    (set_attr \"mode\" \"<MODE>\")])\n \n (define_insn \"*bmi_blsr_<mode>\"\n@@ -12110,6 +12119,7 @@\n    \"TARGET_BMI\"\n    \"blsr\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"bitmanip\")\n+   (set_attr \"btver2_decode\" \"double\")\n    (set_attr \"mode\" \"<MODE>\")])\n \n ;; BMI2 instructions.\n@@ -13043,6 +13053,7 @@\n   \"%vrcpss\\t{%1, %d0|%d0, %1}\"\n   [(set_attr \"type\" \"sse\")\n    (set_attr \"atom_sse_attr\" \"rcp\")\n+   (set_attr \"btver2_sse_attr\" \"rcp\")\n    (set_attr \"prefix\" \"maybe_vex\")\n    (set_attr \"mode\" \"SF\")])\n \n@@ -13389,6 +13400,7 @@\n   \"%vrsqrtss\\t{%1, %d0|%d0, %1}\"\n   [(set_attr \"type\" \"sse\")\n    (set_attr \"atom_sse_attr\" \"rcp\")\n+   (set_attr \"btver2_sse_attr\" \"rcp\")\n    (set_attr \"prefix\" \"maybe_vex\")\n    (set_attr \"mode\" \"SF\")])\n \n@@ -13410,6 +13422,7 @@\n   \"%vsqrt<ssemodesuffix>\\t{%1, %d0|%d0, %1}\"\n   [(set_attr \"type\" \"sse\")\n    (set_attr \"atom_sse_attr\" \"sqrt\")\n+   (set_attr \"btver2_sse_attr\" \"sqrt\")\n    (set_attr \"prefix\" \"maybe_vex\")\n    (set_attr \"mode\" \"<MODE>\")\n    (set_attr \"athlon_decode\" \"*\")"}, {"sha": "17412c69814fb02cbecb7dd95bd058c0c48c8c5c", "filename": "gcc/config/i386/sse.md", "status": "modified", "additions": 44, "deletions": 0, "changes": 44, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0128489557a1d96656f0049a3f0cd3ca4f6f1dc9/gcc%2Fconfig%2Fi386%2Fsse.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0128489557a1d96656f0049a3f0cd3ca4f6f1dc9/gcc%2Fconfig%2Fi386%2Fsse.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fsse.md?ref=0128489557a1d96656f0049a3f0cd3ca4f6f1dc9", "patch": "@@ -898,6 +898,7 @@\n   [(set_attr \"isa\" \"noavx,avx\")\n    (set_attr \"type\" \"ssemul\")\n    (set_attr \"prefix\" \"orig,vex\")\n+   (set_attr \"btver2_decode\" \"direct,double\")\n    (set_attr \"mode\" \"<MODE>\")])\n \n (define_insn \"<sse>_vmmul<mode>3\"\n@@ -972,6 +973,7 @@\n   [(set_attr \"isa\" \"noavx,avx\")\n    (set_attr \"type\" \"ssediv\")\n    (set_attr \"prefix\" \"orig,vex\")\n+   (set_attr \"btver2_decode\" \"direct,double\")\n    (set_attr \"mode\" \"<ssescalarmode>\")])\n \n (define_insn \"<sse>_rcp<mode>2\"\n@@ -982,6 +984,7 @@\n   \"%vrcpps\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"sse\")\n    (set_attr \"atom_sse_attr\" \"rcp\")\n+   (set_attr \"btver2_sse_attr\" \"rcp\")\n    (set_attr \"prefix\" \"maybe_vex\")\n    (set_attr \"mode\" \"<MODE>\")])\n \n@@ -999,6 +1002,7 @@\n   [(set_attr \"isa\" \"noavx,avx\")\n    (set_attr \"type\" \"sse\")\n    (set_attr \"atom_sse_attr\" \"rcp\")\n+   (set_attr \"btver2_sse_attr\" \"rcp\")\n    (set_attr \"prefix\" \"orig,vex\")\n    (set_attr \"mode\" \"SF\")])\n \n@@ -1030,6 +1034,7 @@\n   \"%vsqrt<ssemodesuffix>\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"sse\")\n    (set_attr \"atom_sse_attr\" \"sqrt\")\n+   (set_attr \"btver2_sse_attr\" \"sqrt\")\n    (set_attr \"prefix\" \"maybe_vex\")\n    (set_attr \"mode\" \"<MODE>\")])\n \n@@ -1047,6 +1052,7 @@\n   [(set_attr \"isa\" \"noavx,avx\")\n    (set_attr \"type\" \"sse\")\n    (set_attr \"atom_sse_attr\" \"sqrt\")\n+   (set_attr \"btver2_sse_attr\" \"sqrt\")\n    (set_attr \"prefix\" \"orig,vex\")\n    (set_attr \"mode\" \"<ssescalarmode>\")])\n \n@@ -1114,6 +1120,7 @@\n    v<maxmin_float><ssemodesuffix>\\t{%2, %1, %0|%0, %1, %2}\"\n   [(set_attr \"isa\" \"noavx,avx\")\n    (set_attr \"type\" \"sseadd\")\n+   (set_attr \"btver2_sse_attr\" \"maxmin\")\n    (set_attr \"prefix\" \"orig,vex\")\n    (set_attr \"mode\" \"<MODE>\")])\n \n@@ -1128,6 +1135,7 @@\n    v<maxmin_float><ssemodesuffix>\\t{%2, %1, %0|%0, %1, %2}\"\n   [(set_attr \"isa\" \"noavx,avx\")\n    (set_attr \"type\" \"sseadd\")\n+   (set_attr \"btver2_sse_attr\" \"maxmin\")\n    (set_attr \"prefix\" \"orig,vex\")\n    (set_attr \"mode\" \"<MODE>\")])\n \n@@ -1145,6 +1153,7 @@\n    v<maxmin_float><ssescalarmodesuffix>\\t{%2, %1, %0|%0, %1, %2}\"\n   [(set_attr \"isa\" \"noavx,avx\")\n    (set_attr \"type\" \"sse\")\n+   (set_attr \"btver2_sse_attr\" \"maxmin\")\n    (set_attr \"prefix\" \"orig,vex\")\n    (set_attr \"mode\" \"<ssescalarmode>\")])\n \n@@ -2417,6 +2426,7 @@\n    (set_attr \"athlon_decode\" \"vector,double,*\")\n    (set_attr \"amdfam10_decode\" \"vector,double,*\")\n    (set_attr \"bdver1_decode\" \"double,direct,*\")\n+   (set_attr \"btver2_decode\" \"double,double,double\")\n    (set_attr \"prefix\" \"orig,orig,vex\")\n    (set_attr \"mode\" \"SF\")])\n \n@@ -2437,6 +2447,7 @@\n    (set_attr \"athlon_decode\" \"vector,double,*\")\n    (set_attr \"amdfam10_decode\" \"vector,double,*\")\n    (set_attr \"bdver1_decode\" \"double,direct,*\")\n+   (set_attr \"btver2_decode\" \"double,double,double\")\n    (set_attr \"length_vex\" \"*,*,4\")\n    (set_attr \"prefix_rex\" \"1,1,*\")\n    (set_attr \"prefix\" \"orig,orig,vex\")\n@@ -2645,6 +2656,7 @@\n   [(set_attr \"type\" \"ssecvt\")\n    (set_attr \"unit\" \"mmx\")\n    (set_attr \"bdver1_decode\" \"double\")\n+   (set_attr \"btver2_decode\" \"direct\")\n    (set_attr \"prefix_data16\" \"1\")\n    (set_attr \"mode\" \"DI\")])\n \n@@ -2676,6 +2688,7 @@\n    (set_attr \"athlon_decode\" \"double,direct,*\")\n    (set_attr \"amdfam10_decode\" \"vector,double,*\")\n    (set_attr \"bdver1_decode\" \"double,direct,*\")\n+   (set_attr \"btver2_decode\" \"double,double,double\")\n    (set_attr \"prefix\" \"orig,orig,vex\")\n    (set_attr \"mode\" \"DF\")])\n \n@@ -2713,6 +2726,7 @@\n   [(set_attr \"type\" \"sseicvt\")\n    (set_attr \"athlon_decode\" \"double,vector\")\n    (set_attr \"bdver1_decode\" \"double,double\")\n+   (set_attr \"btver2_decode\" \"double,double\")\n    (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"prefix\" \"maybe_vex\")\n    (set_attr \"mode\" \"SI\")])\n@@ -2773,6 +2787,7 @@\n    (set_attr \"athlon_decode\" \"double,vector\")\n    (set_attr \"amdfam10_decode\" \"double,double\")\n    (set_attr \"bdver1_decode\" \"double,double\")\n+   (set_attr \"btver2_decode\" \"double,double\")\n    (set_attr \"prefix_rep\" \"1\")\n    (set_attr \"prefix\" \"maybe_vex\")\n    (set_attr \"mode\" \"SI\")])\n@@ -2856,6 +2871,7 @@\n   \"vcvtpd2dq{y}\\t{%1, %x0|%x0, %1}\"\n   [(set_attr \"type\" \"ssecvt\")\n    (set_attr \"prefix\" \"vex\")\n+   (set_attr \"btver2_decode\" \"vector\")\n    (set_attr \"mode\" \"OI\")])\n \n (define_expand \"sse2_cvtpd2dq\"\n@@ -2915,6 +2931,7 @@\n   \"vcvttpd2dq{y}\\t{%1, %x0|%x0, %1}\"\n   [(set_attr \"type\" \"ssecvt\")\n    (set_attr \"prefix\" \"vex\")\n+   (set_attr \"btver2_decode\" \"vector\")\n    (set_attr \"mode\" \"OI\")])\n \n (define_expand \"sse2_cvttpd2dq\"\n@@ -2962,6 +2979,7 @@\n    (set_attr \"athlon_decode\" \"vector,double,*\")\n    (set_attr \"amdfam10_decode\" \"vector,double,*\")\n    (set_attr \"bdver1_decode\" \"direct,direct,*\")\n+   (set_attr \"btver2_decode\" \"double,double,double\")\n    (set_attr \"prefix\" \"orig,orig,vex\")\n    (set_attr \"mode\" \"SF\")])\n \n@@ -2984,6 +3002,7 @@\n    (set_attr \"amdfam10_decode\" \"vector,double,*\")\n    (set_attr \"athlon_decode\" \"direct,direct,*\")\n    (set_attr \"bdver1_decode\" \"direct,direct,*\")\n+   (set_attr \"btver2_decode\" \"double,double,double\")\n    (set_attr \"prefix\" \"orig,orig,vex\")\n    (set_attr \"mode\" \"DF\")])\n \n@@ -2995,6 +3014,7 @@\n   \"vcvtpd2ps{y}\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"ssecvt\")\n    (set_attr \"prefix\" \"vex\")\n+   (set_attr \"btver2_decode\" \"vector\")\n    (set_attr \"mode\" \"V4SF\")])\n \n (define_expand \"sse2_cvtpd2ps\"\n@@ -5637,6 +5657,7 @@\n    (set_attr \"type\" \"sseimul\")\n    (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"prefix\" \"orig,vex\")\n+   (set_attr \"btver2_decode\" \"vector,vector\")\n    (set_attr \"mode\" \"<sseinsnmode>\")])\n \n (define_expand \"mul<mode>3\"\n@@ -8276,6 +8297,7 @@\n    (set_attr \"prefix_data16\" \"1,*\")\n    (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"prefix\" \"orig,vex\")\n+   (set_attr \"btver2_decode\" \"vector,vector\")\n    (set_attr \"mode\" \"<sseinsnmode>\")])\n \n (define_insn \"ssse3_pshufbv8qi3\"\n@@ -8512,6 +8534,7 @@\n    (set_attr \"prefix_data16\" \"1,*\")\n    (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"prefix\" \"orig,vex\")\n+   (set_attr \"btver2_decode\" \"vector,vector\") \n    (set_attr \"mode\" \"<MODE>\")])\n \n (define_insn \"<sse4_1>_dp<ssemodesuffix><avxsizesuffix>\"\n@@ -8531,6 +8554,7 @@\n    (set_attr \"prefix_data16\" \"1,*\")\n    (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"prefix\" \"orig,vex\")\n+   (set_attr \"btver2_decode\" \"vector,vector\")\n    (set_attr \"mode\" \"<MODE>\")])\n \n (define_insn \"<sse4_1_avx2>_movntdqa\"\n@@ -8560,6 +8584,7 @@\n    (set_attr \"length_immediate\" \"1\")\n    (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"prefix\" \"orig,vex\")\n+   (set_attr \"btver2_decode\" \"vector,vector\")\n    (set_attr \"mode\" \"<sseinsnmode>\")])\n \n (define_insn \"avx2_packusdw\"\n@@ -8609,6 +8634,7 @@\n    (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"length_immediate\" \"*,1\")\n    (set_attr \"prefix\" \"orig,vex\")\n+   (set_attr \"btver2_decode\" \"vector,vector\")\n    (set_attr \"mode\" \"<sseinsnmode>\")])\n \n (define_insn \"sse4_1_pblendw\"\n@@ -8868,6 +8894,7 @@\n   [(set_attr \"type\" \"ssecomi\")\n    (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"prefix\" \"vex\")\n+   (set_attr \"btver2_decode\" \"vector\")\n    (set_attr \"mode\" \"OI\")])\n \n (define_insn \"sse4_1_ptest\"\n@@ -9210,6 +9237,7 @@\n    (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"prefix\" \"maybe_vex\")\n    (set_attr \"length_immediate\" \"1\")\n+   (set_attr \"btver2_decode\" \"vector\")\n    (set_attr \"memory\" \"none,load\")\n    (set_attr \"mode\" \"TI\")])\n \n@@ -9237,6 +9265,7 @@\n    (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"length_immediate\" \"1\")\n    (set_attr \"prefix\" \"maybe_vex\")\n+   (set_attr \"btver2_decode\" \"vector\")\n    (set_attr \"memory\" \"none,load\")\n    (set_attr \"mode\" \"TI\")])\n \n@@ -9262,6 +9291,7 @@\n    (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"length_immediate\" \"1\")\n    (set_attr \"memory\" \"none,load,none,load\")\n+   (set_attr \"btver2_decode\" \"vector,vector,vector,vector\") \n    (set_attr \"prefix\" \"maybe_vex\")\n    (set_attr \"mode\" \"TI\")])\n \n@@ -9390,6 +9420,7 @@\n    (set_attr \"length_immediate\" \"1\")\n    (set_attr \"prefix\" \"maybe_vex\")\n    (set_attr \"memory\" \"none,load\")\n+   (set_attr \"btver2_decode\" \"vector\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse4_2_pcmpistrm\"\n@@ -9413,6 +9444,7 @@\n    (set_attr \"length_immediate\" \"1\")\n    (set_attr \"prefix\" \"maybe_vex\")\n    (set_attr \"memory\" \"none,load\")\n+   (set_attr \"btver2_decode\" \"vector\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"sse4_2_pcmpistr_cconly\"\n@@ -9436,6 +9468,7 @@\n    (set_attr \"length_immediate\" \"1\")\n    (set_attr \"memory\" \"none,load,none,load\")\n    (set_attr \"prefix\" \"maybe_vex\")\n+   (set_attr \"btver2_decode\" \"vector,vector,vector,vector\")\n    (set_attr \"mode\" \"TI\")])\n \n ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n@@ -10298,6 +10331,7 @@\n    (set_attr \"type\" \"sselog1\")\n    (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"prefix\" \"orig,vex\")\n+   (set_attr \"btver2_decode\" \"double,double\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"aesenclast\"\n@@ -10313,6 +10347,7 @@\n    (set_attr \"type\" \"sselog1\")\n    (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"prefix\" \"orig,vex\")\n+   (set_attr \"btver2_decode\" \"double,double\") \n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"aesdec\"\n@@ -10328,6 +10363,7 @@\n    (set_attr \"type\" \"sselog1\")\n    (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"prefix\" \"orig,vex\")\n+   (set_attr \"btver2_decode\" \"double,double\") \n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"aesdeclast\"\n@@ -10343,6 +10379,7 @@\n    (set_attr \"type\" \"sselog1\")\n    (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"prefix\" \"orig,vex\")\n+   (set_attr \"btver2_decode\" \"double,double\")\n    (set_attr \"mode\" \"TI\")])\n \n (define_insn \"aesimc\"\n@@ -10415,6 +10452,7 @@\n    (set_attr \"modrm\" \"0\")\n    (set_attr \"memory\" \"none\")\n    (set_attr \"prefix\" \"vex\")\n+   (set_attr \"btver2_decode\" \"vector\")\n    (set_attr \"mode\" \"OI\")])\n \n ;; Clear the upper 128bits of AVX registers, equivalent to a NOP\n@@ -10427,6 +10465,7 @@\n    (set_attr \"modrm\" \"0\")\n    (set_attr \"memory\" \"none\")\n    (set_attr \"prefix\" \"vex\")\n+   (set_attr \"btver2_decode\" \"vector\")\n    (set_attr \"mode\" \"OI\")])\n \n (define_mode_attr AVXTOSSEMODE\n@@ -10745,6 +10784,7 @@\n   [(set_attr \"type\" \"sselog\")\n    (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"prefix\" \"vex\")\n+   (set_attr \"btver2_decode\" \"vector\")\n    (set_attr \"mode\" \"<MODE>\")])\n \n (define_expand \"avx_vperm2f128<mode>3\"\n@@ -11032,6 +11072,7 @@\n   [(set_attr \"type\" \"sselog1\")\n    (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"prefix\" \"vex\")\n+   (set_attr \"btver2_decode\" \"vector\")\n    (set_attr \"mode\" \"<sseinsnmode>\")])\n \n (define_insn \"<avx_avx2>_maskstore<ssemodesuffix><avxsizesuffix>\"\n@@ -11046,6 +11087,7 @@\n   [(set_attr \"type\" \"sselog1\")\n    (set_attr \"prefix_extra\" \"1\")\n    (set_attr \"prefix\" \"vex\")\n+   (set_attr \"btver2_decode\" \"vector\") \n    (set_attr \"mode\" \"<sseinsnmode>\")])\n \n (define_insn_and_split \"avx_<castmode><avxsizesuffix>_<castmode>\"\n@@ -11210,6 +11252,7 @@\n   \"vcvtph2ps\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"ssecvt\")\n    (set_attr \"prefix\" \"vex\")\n+   (set_attr \"btver2_decode\" \"double\")\n    (set_attr \"mode\" \"V8SF\")])\n \n (define_expand \"vcvtps2ph\"\n@@ -11255,6 +11298,7 @@\n   \"vcvtps2ph\\t{%2, %1, %0|%0, %1, %2}\"\n   [(set_attr \"type\" \"ssecvt\")\n    (set_attr \"prefix\" \"vex\")\n+   (set_attr \"btver2_decode\" \"vector\")\n    (set_attr \"mode\" \"V8SF\")])\n \n ;; For gather* insn patterns"}]}