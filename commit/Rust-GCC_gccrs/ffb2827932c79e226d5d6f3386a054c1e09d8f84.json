{"sha": "ffb2827932c79e226d5d6f3386a054c1e09d8f84", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmZiMjgyNzkzMmM3OWUyMjZkNWQ2ZjMzODZhMDU0YzFlMDlkOGY4NA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2000-11-04T20:00:52Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2000-11-04T20:00:52Z"}, "message": "p755.C: Tweak handling of exit.\n\n\t* g++.old-deja/g++.mike/p755.C: Tweak handling of exit.\n\t* g++.old-deja/g++.mike/p755a.C: Likewise.\n\t* g++.old-deja/g++.mike/p9706.C: Don't assume that the standard\n\tlibrary makes no calls to `operator new' during initialization.\n\nFrom-SVN: r37257", "tree": {"sha": "46d03ca25d2a5d4314fba6046cae4275e65e7183", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/46d03ca25d2a5d4314fba6046cae4275e65e7183"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ffb2827932c79e226d5d6f3386a054c1e09d8f84", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ffb2827932c79e226d5d6f3386a054c1e09d8f84", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ffb2827932c79e226d5d6f3386a054c1e09d8f84", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ffb2827932c79e226d5d6f3386a054c1e09d8f84/comments", "author": null, "committer": null, "parents": [{"sha": "8d48367bef096742587602a120c9f7373f9a758e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d48367bef096742587602a120c9f7373f9a758e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d48367bef096742587602a120c9f7373f9a758e"}], "stats": {"total": 20, "additions": 16, "deletions": 4}, "files": [{"sha": "8a6c412fde12051fff01fbcfb9d527d3497b0c1e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ffb2827932c79e226d5d6f3386a054c1e09d8f84/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ffb2827932c79e226d5d6f3386a054c1e09d8f84/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ffb2827932c79e226d5d6f3386a054c1e09d8f84", "patch": "@@ -1,3 +1,10 @@\n+2000-11-04  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* g++.old-deja/g++.mike/p755.C: Tweak handling of exit.\n+\t* g++.old-deja/g++.mike/p755a.C: Likewise.\n+\t* g++.old-deja/g++.mike/p9706.C: Don't assume that the standard\n+\tlibrary makes no calls to `operator new' during initialization.\n+\n 2000-11-04  Neil Booth  <neilb@earthling.net>\n \n         * gcc.dg/cpp/include2.c: New tests."}, {"sha": "a8f4476f2567887198909ea2f1193019bc9b00fb", "filename": "gcc/testsuite/g++.old-deja/g++.mike/p755.C", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ffb2827932c79e226d5d6f3386a054c1e09d8f84/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.mike%2Fp755.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ffb2827932c79e226d5d6f3386a054c1e09d8f84/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.mike%2Fp755.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.mike%2Fp755.C?ref=ffb2827932c79e226d5d6f3386a054c1e09d8f84", "patch": "@@ -2,11 +2,12 @@\n // prms-id: 755\n \n #include <new>\n-extern \"C\" void exit(int);\n+\n+extern \"C\" void _exit(int);\n \n void* operator new(size_t sz) throw (std::bad_alloc) {\n   void* p = 0;\n-  exit(0);\n+  _exit(0);\n   return p;\n }\n "}, {"sha": "29d58b8e7a3944f5a3030b7ddf7172945d9e60b7", "filename": "gcc/testsuite/g++.old-deja/g++.mike/p755a.C", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ffb2827932c79e226d5d6f3386a054c1e09d8f84/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.mike%2Fp755a.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ffb2827932c79e226d5d6f3386a054c1e09d8f84/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.mike%2Fp755a.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.mike%2Fp755a.C?ref=ffb2827932c79e226d5d6f3386a054c1e09d8f84", "patch": "@@ -1,10 +1,10 @@\n // It checks to see if you can define your own global delete operator.\n // prms-id: 755\n \n-extern \"C\" void exit(int);\n+extern \"C\" void _exit(int);\n \n void operator delete(void *p) throw() {\n-  exit(0);\n+  _exit(0);\n }\n \n int main () {"}, {"sha": "8b8739f50d1abde9d2410e412cb546f6c5f2b0df", "filename": "gcc/testsuite/g++.old-deja/g++.mike/p9706.C", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ffb2827932c79e226d5d6f3386a054c1e09d8f84/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.mike%2Fp9706.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ffb2827932c79e226d5d6f3386a054c1e09d8f84/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.mike%2Fp9706.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.mike%2Fp9706.C?ref=ffb2827932c79e226d5d6f3386a054c1e09d8f84", "patch": "@@ -19,6 +19,10 @@ public:\n int main() {\n   int i;\n \n+  // The standard library may have called new and/or delete during\n+  // startup, so we have to reset the counter here.\n+  count = 0;\n+\n   for( i = 0; i < 10; i++ ) {\n     try {\n       throw A();"}]}