{"sha": "0d037580f6a3e1ec27218dfc8bac078287e10e0f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGQwMzc1ODBmNmEzZTFlYzI3MjE4ZGZjOGJhYzA3ODI4N2UxMGUwZg==", "commit": {"author": {"name": "Daniel Jacobowitz", "email": "drow@mvista.com", "date": "2003-08-28T00:39:32Z"}, "committer": {"name": "Daniel Jacobowitz", "email": "drow@gcc.gnu.org", "date": "2003-08-28T00:39:32Z"}, "message": "* gcc.c (STANDARD_EXEC_PREFIX, STANDARD_STARTFILE_PREFIX)\n\t(TOOLDIR_BASE_PREFIX, STANDARD_BINDIR_PREFIX): Remove unnecessary\n\tdefinitions.\n\t(main): Only use standard_startfile_prefix if native.\n\t* doc/tm.texi (STANDARD_STARTFILE_PREFIX): Update.\n\nFrom-SVN: r70877", "tree": {"sha": "fb49032898482d59903b1f9faa8da0f5594990ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fb49032898482d59903b1f9faa8da0f5594990ec"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0d037580f6a3e1ec27218dfc8bac078287e10e0f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d037580f6a3e1ec27218dfc8bac078287e10e0f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0d037580f6a3e1ec27218dfc8bac078287e10e0f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d037580f6a3e1ec27218dfc8bac078287e10e0f/comments", "author": null, "committer": null, "parents": [{"sha": "f5cf58ddd8ca788f51f815aedc19b0e7215e8f9d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5cf58ddd8ca788f51f815aedc19b0e7215e8f9d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f5cf58ddd8ca788f51f815aedc19b0e7215e8f9d"}], "stats": {"total": 34, "additions": 16, "deletions": 18}, "files": [{"sha": "947582ec0bb7d9a1f8738f429a3f9cb8faf59bd7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d037580f6a3e1ec27218dfc8bac078287e10e0f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d037580f6a3e1ec27218dfc8bac078287e10e0f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0d037580f6a3e1ec27218dfc8bac078287e10e0f", "patch": "@@ -1,3 +1,11 @@\n+2003-08-27  Daniel Jacobowitz  <drow@mvista.com>\n+\n+\t* gcc.c (STANDARD_EXEC_PREFIX, STANDARD_STARTFILE_PREFIX)\n+\t(TOOLDIR_BASE_PREFIX, STANDARD_BINDIR_PREFIX): Remove unnecessary\n+\tdefinitions.\n+\t(main): Only use standard_startfile_prefix if native.\n+\t* doc/tm.texi (STANDARD_STARTFILE_PREFIX): Update.\n+\n 2003-08-27  Per Bothner  <pbothner@apple.com>\n \n \t* cpperror.c (print_location):  Don't check for !pfile->buffer.  That"}, {"sha": "c501aacdbe7c4ea4a1bb7a564afffffcb97be458", "filename": "gcc/doc/tm.texi", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d037580f6a3e1ec27218dfc8bac078287e10e0f/gcc%2Fdoc%2Ftm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d037580f6a3e1ec27218dfc8bac078287e10e0f/gcc%2Fdoc%2Ftm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Ftm.texi?ref=0d037580f6a3e1ec27218dfc8bac078287e10e0f", "patch": "@@ -449,8 +449,10 @@ to the list of directories used to find the assembler in @file{configure.in}.\n \n @defmac STANDARD_STARTFILE_PREFIX\n Define this macro as a C string constant if you wish to override the\n-standard choice of @file{/usr/local/lib/} as the default prefix to\n+standard choice of @code{libdir} as the default prefix to\n try when searching for startup files such as @file{crt0.o}.\n+@code{STANDARD_STARTFILE_PREFIX} is not searched when the compiler\n+is built as a cross compiler.\n @end defmac\n \n @defmac MD_STARTFILE_PREFIX"}, {"sha": "8ca0f91d30aae209db4b729c69dcac9370030d55", "filename": "gcc/gcc.c", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d037580f6a3e1ec27218dfc8bac078287e10e0f/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d037580f6a3e1ec27218dfc8bac078287e10e0f/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=0d037580f6a3e1ec27218dfc8bac078287e10e0f", "patch": "@@ -1402,21 +1402,6 @@ static const char *gcc_libexec_prefix;\n #define MD_STARTFILE_PREFIX_1 \"\"\n #endif\n \n-/* Supply defaults for the standard prefixes.  */\n-\n-#ifndef STANDARD_EXEC_PREFIX\n-#define STANDARD_EXEC_PREFIX \"/usr/local/lib/gcc/\"\n-#endif\n-#ifndef STANDARD_STARTFILE_PREFIX\n-#define STANDARD_STARTFILE_PREFIX \"/usr/local/lib/\"\n-#endif\n-#ifndef TOOLDIR_BASE_PREFIX\n-#define TOOLDIR_BASE_PREFIX \"/usr/local/\"\n-#endif\n-#ifndef STANDARD_BINDIR_PREFIX\n-#define STANDARD_BINDIR_PREFIX \"/usr/local/bin\"\n-#endif\n-\n static const char *const standard_exec_prefix = STANDARD_EXEC_PREFIX;\n static const char *const standard_exec_prefix_1 = \"/usr/libexec/gcc/\";\n static const char *const standard_exec_prefix_2 = \"/usr/lib/gcc/\";\n@@ -6121,12 +6106,15 @@ main (int argc, const char *const *argv)\n       /* If standard_startfile_prefix is relative, base it on\n \t standard_exec_prefix.  This lets us move the installed tree\n \t as a unit.  If GCC_EXEC_PREFIX is defined, base\n-\t standard_startfile_prefix on that as well.  */\n+\t standard_startfile_prefix on that as well.\n+\n+         If the prefix is relative, only search it for native compilers;\n+         otherwise we will search a directory containing host libraries.  */\n       if (IS_ABSOLUTE_PATH (standard_startfile_prefix))\n \tadd_sysrooted_prefix (&startfile_prefixes,\n \t\t\t      standard_startfile_prefix, \"BINUTILS\",\n \t\t\t      PREFIX_PRIORITY_LAST, 0, NULL, 1);\n-      else\n+      else if (*cross_compile == '0')\n \t{\n \t  if (gcc_exec_prefix)\n \t    add_prefix (&startfile_prefixes,"}]}