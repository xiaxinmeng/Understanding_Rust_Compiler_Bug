{"sha": "9847df2c9573f1e4b948b5a7272c6aadf8e01c22", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTg0N2RmMmM5NTczZjFlNGI5NDhiNWE3MjcyYzZhYWRmOGUwMWMyMg==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2020-02-05T13:10:50Z"}, "committer": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2020-02-05T13:12:24Z"}, "message": "testsuite/92177 fix for SLP build changes\n\nWe're now consistently building SLP operations with only\nscalar defs from scalars which makes the testcase no longer\ntesting multiplication vectorization.  The following smuggles\nin a constant making the vector variant profitable for SLP build.\n\n2020-02-05  Richard Biener  <rguenther@suse.de>\n\n\tPR testsuite/92177\n\t* gcc.dg/vect/bb-slp-22.c: Adjust.", "tree": {"sha": "fade6ff857bd3ea5300d9e34d7eb0484ed96f715", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fade6ff857bd3ea5300d9e34d7eb0484ed96f715"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9847df2c9573f1e4b948b5a7272c6aadf8e01c22", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9847df2c9573f1e4b948b5a7272c6aadf8e01c22", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9847df2c9573f1e4b948b5a7272c6aadf8e01c22", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9847df2c9573f1e4b948b5a7272c6aadf8e01c22/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1105cf8163f635ac4e4a3357d8b16a73fb6aced5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1105cf8163f635ac4e4a3357d8b16a73fb6aced5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1105cf8163f635ac4e4a3357d8b16a73fb6aced5"}], "stats": {"total": 24, "additions": 14, "deletions": 10}, "files": [{"sha": "8ee124ba7821c08dabb1a9106f23590bd0b24c5b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9847df2c9573f1e4b948b5a7272c6aadf8e01c22/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9847df2c9573f1e4b948b5a7272c6aadf8e01c22/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=9847df2c9573f1e4b948b5a7272c6aadf8e01c22", "patch": "@@ -1,8 +1,12 @@\n+2020-02-05  Richard Biener  <rguenther@suse.de>\n+\n+\tPR testsuite/92177\n+\t* gcc.dg/vect/bb-slp-22.c: Adjust.\n+\n 2020-02-05  Richard Biener  <rguenther@suse.de>\n \n \tPR middle-end/90648\n-\t* genmatch.c (dt_node::gen_kids_1): Emit number of argument\n-\tchecks before matching calls.\n+\t* gcc.dg/pr90648.c: New testcase.\n \n 2020-02-05  Jakub Jelinek  <jakub@redhat.com>\n "}, {"sha": "6dc2375f5d1e38c98d9740bd40c8be582a570deb", "filename": "gcc/testsuite/gcc.dg/vect/bb-slp-22.c", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9847df2c9573f1e4b948b5a7272c6aadf8e01c22/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fbb-slp-22.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9847df2c9573f1e4b948b5a7272c6aadf8e01c22/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fbb-slp-22.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fbb-slp-22.c?ref=9847df2c9573f1e4b948b5a7272c6aadf8e01c22", "patch": "@@ -29,21 +29,21 @@ main1 (unsigned int x, unsigned int y)\n     }\n   else\n     {\n-      out[0] = a0 * x;\n-      out[1] = a1 * y;\n-      out[2] = a2 * x;\n-      out[3] = a3 * y;\n+      out[0] = a0 * (x + 1);\n+      out[1] = a1 * (y + 1);\n+      out[2] = a2 * (x + 1);\n+      out[3] = a3 * (y + 1);\n     }\n \n   if (x)\n     __asm__ volatile (\"\" : : : \"memory\");\n \n   /* Check results.  */\n   if ((x <= y \n-       && (out[0] != (in[0] + 23) * x\n-           || out[1] != (in[1] + 142) * y\n-           || out[2] != (in[2] + 2) * x\n-           || out[3] != (in[3] + 31) * y))\n+       && (out[0] != (in[0] + 23) * (x + 1)\n+           || out[1] != (in[1] + 142) * (y + 1)\n+           || out[2] != (in[2] + 2) * (x + 1)\n+           || out[3] != (in[3] + 31) * (y + 1)))\n        || (x > y\n            && (b[0] != (in[0] + 23)\n                || b[1] != (in[1] + 142)"}]}