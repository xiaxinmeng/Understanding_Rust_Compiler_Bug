{"sha": "131ac5dd47998ba7cb0876c6b49a99d9ea47bb1e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTMxYWM1ZGQ0Nzk5OGJhN2NiMDg3NmM2YjQ5YTk5ZDllYTQ3YmIxZQ==", "commit": {"author": {"name": "Brooks Moses", "email": "brooks@gcc.gnu.org", "date": "2006-11-10T22:34:26Z"}, "committer": {"name": "Brooks Moses", "email": "brooks@gcc.gnu.org", "date": "2006-11-10T22:34:26Z"}, "message": "lang.opt (-fmodule-private): Remove option.\n\n* lang.opt (-fmodule-private): Remove option.\n* gfortran.h (gfc_option_t): Remove module_access_private flag.\n* options.c (gfc_init_options): Remove initialization for it.\n(gfc_process_option): Remove handling for -fmodule-private.\n* module.c (gfc_check_access): Add comments, remove check for\ngfc_option.flag_module_access_private.\n\n(Also fixed tab-damage in preceeding changelog entry.)\n\nFrom-SVN: r118668", "tree": {"sha": "444fe166a7d0551449b35143bf1e1a903c7c7c3f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/444fe166a7d0551449b35143bf1e1a903c7c7c3f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/131ac5dd47998ba7cb0876c6b49a99d9ea47bb1e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/131ac5dd47998ba7cb0876c6b49a99d9ea47bb1e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/131ac5dd47998ba7cb0876c6b49a99d9ea47bb1e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/131ac5dd47998ba7cb0876c6b49a99d9ea47bb1e/comments", "author": null, "committer": null, "parents": [{"sha": "3e916873cb9c0e4a7865a06be6f0d4a714c7617e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e916873cb9c0e4a7865a06be6f0d4a714c7617e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3e916873cb9c0e4a7865a06be6f0d4a714c7617e"}], "stats": {"total": 39, "additions": 18, "deletions": 21}, "files": [{"sha": "be4f8b4b86582ee7155512eae3a2d32e152553e6", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 13, "deletions": 4, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/131ac5dd47998ba7cb0876c6b49a99d9ea47bb1e/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/131ac5dd47998ba7cb0876c6b49a99d9ea47bb1e/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=131ac5dd47998ba7cb0876c6b49a99d9ea47bb1e", "patch": "@@ -1,9 +1,18 @@\n+2006-11-10  Brooks Moses  <brooks.moses@codesourcery.com>\n+\n+\t* lang.opt (-fmodule-private): Remove option.\n+\t* gfortran.h (gfc_option_t): Remove module_access_private flag.\n+\t* options.c (gfc_init_options): Remove initialization for it.\n+\t(gfc_process_option): Remove handling for -fmodule-private.\n+\t* module.c (gfc_check_access): Add comments, remove check for\n+\tgfc_option.flag_module_access_private.\n+\n 2006-11-10 Paul Thomas <pault@gcc.gnu.org>\n \n-   PR fortran/29758\n-   * check.c (gfc_check_reshape): Check that there are enough\n-   elements in the source array as to be able to fill an array\n-   defined by shape, when pad is absent.\n+\tPR fortran/29758\n+\t* check.c (gfc_check_reshape): Check that there are enough\n+\telements in the source array as to be able to fill an array\n+\tdefined by shape, when pad is absent.\n \n 2006-11-10 Paul Thomas <pault@gcc.gnu.org>\n "}, {"sha": "f78f923d681af19202c0ad782eba0adbe0845301", "filename": "gcc/fortran/gfortran.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/131ac5dd47998ba7cb0876c6b49a99d9ea47bb1e/gcc%2Ffortran%2Fgfortran.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/131ac5dd47998ba7cb0876c6b49a99d9ea47bb1e/gcc%2Ffortran%2Fgfortran.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fgfortran.h?ref=131ac5dd47998ba7cb0876c6b49a99d9ea47bb1e", "patch": "@@ -1640,7 +1640,6 @@ typedef struct\n   int flag_second_underscore;\n   int flag_implicit_none;\n   int flag_max_stack_var_size;\n-  int flag_module_access_private;\n   int flag_no_backend;\n   int flag_range_check;\n   int flag_pack_derived;"}, {"sha": "3409841c9073860cca6962f721b97582fae7303d", "filename": "gcc/fortran/lang.opt", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/131ac5dd47998ba7cb0876c6b49a99d9ea47bb1e/gcc%2Ffortran%2Flang.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/131ac5dd47998ba7cb0876c6b49a99d9ea47bb1e/gcc%2Ffortran%2Flang.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Flang.opt?ref=131ac5dd47998ba7cb0876c6b49a99d9ea47bb1e", "patch": "@@ -181,10 +181,6 @@ fmax-stack-var-size=\n Fortran RejectNegative Joined UInteger\n -fmax-stack-var-size=<n>\tSize in bytes of the largest array that will be put on the stack\n \n-fmodule-private\n-Fortran\n-Set default accessibility of module entities to PRIVATE\n-\n fno-backend\n Fortran RejectNegative\n Don't generate code, just do syntax and semantics checking"}, {"sha": "92517d85d05e8b0269e5c5242e9ca7bf1f972b3e", "filename": "gcc/fortran/module.c", "status": "modified", "additions": 5, "deletions": 7, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/131ac5dd47998ba7cb0876c6b49a99d9ea47bb1e/gcc%2Ffortran%2Fmodule.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/131ac5dd47998ba7cb0876c6b49a99d9ea47bb1e/gcc%2Ffortran%2Fmodule.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fmodule.c?ref=131ac5dd47998ba7cb0876c6b49a99d9ea47bb1e", "patch": "@@ -3413,7 +3413,10 @@ read_module (void)\n \n \n /* Given an access type that is specific to an entity and the default\n-   access, return nonzero if the entity is publicly accessible.  */\n+   access, return nonzero if the entity is publicly accessible.  If the\n+   element is declared as PUBLIC, then it is public; if declared \n+   PRIVATE, then private, and otherwise it is public unless the default\n+   access in this context has been declared PRIVATE.  */\n \n bool\n gfc_check_access (gfc_access specific_access, gfc_access default_access)\n@@ -3424,12 +3427,7 @@ gfc_check_access (gfc_access specific_access, gfc_access default_access)\n   if (specific_access == ACCESS_PRIVATE)\n     return FALSE;\n \n-  if (gfc_option.flag_module_access_private)\n-    return default_access == ACCESS_PUBLIC;\n-  else\n-    return default_access != ACCESS_PRIVATE;\n-\n-  return FALSE;\n+  return default_access != ACCESS_PRIVATE;\n }\n \n "}, {"sha": "5d708e23d5129b14a5a85ae883b037278a5b3365", "filename": "gcc/fortran/options.c", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/131ac5dd47998ba7cb0876c6b49a99d9ea47bb1e/gcc%2Ffortran%2Foptions.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/131ac5dd47998ba7cb0876c6b49a99d9ea47bb1e/gcc%2Ffortran%2Foptions.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Foptions.c?ref=131ac5dd47998ba7cb0876c6b49a99d9ea47bb1e", "patch": "@@ -73,7 +73,6 @@ gfc_init_options (unsigned int argc ATTRIBUTE_UNUSED,\n   gfc_option.flag_second_underscore = -1;\n   gfc_option.flag_implicit_none = 0;\n   gfc_option.flag_max_stack_var_size = 32768;\n-  gfc_option.flag_module_access_private = 0;\n   gfc_option.flag_no_backend = 0;\n   gfc_option.flag_range_check = 1;\n   gfc_option.flag_pack_derived = 0;\n@@ -521,10 +520,6 @@ gfc_handle_option (size_t scode, const char *arg, int value)\n       gfc_option.flag_max_stack_var_size = value;\n       break;\n \n-    case OPT_fmodule_private:\n-      gfc_option.flag_module_access_private = value;\n-      break;\n-\n     case OPT_fno_backend:\n       gfc_option.flag_no_backend = value;\n       break;"}]}