{"sha": "c1e0e1000ee6e808453703f37cf2033a69bee823", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzFlMGUxMDAwZWU2ZTgwODQ1MzcwM2YzN2NmMjAzM2E2OWJlZTgyMw==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2012-01-18T21:35:45Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2012-01-18T21:35:45Z"}, "message": "configure.ac: Move epub checks...\n\n2012-01-18  Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* configure.ac: Move epub checks...\n\t* acinclude (GLIBCXX_CONFIGURE_DOCBOOK): ...here, use\n\ttest -f instead of AC_CHECK_FILES.\n\nFrom-SVN: r183288", "tree": {"sha": "95b6133216e14849142cd9e596c614aed3b60b7c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/95b6133216e14849142cd9e596c614aed3b60b7c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c1e0e1000ee6e808453703f37cf2033a69bee823", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1e0e1000ee6e808453703f37cf2033a69bee823", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c1e0e1000ee6e808453703f37cf2033a69bee823", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1e0e1000ee6e808453703f37cf2033a69bee823/comments", "author": null, "committer": null, "parents": [{"sha": "bfa204b8b474475379cf40f066c25f63ab43d5f1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfa204b8b474475379cf40f066c25f63ab43d5f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bfa204b8b474475379cf40f066c25f63ab43d5f1"}], "stats": {"total": 121, "additions": 49, "deletions": 72}, "files": [{"sha": "9de4523b20d9c89643c379b1532a8ebd4c22831f", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1e0e1000ee6e808453703f37cf2033a69bee823/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1e0e1000ee6e808453703f37cf2033a69bee823/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=c1e0e1000ee6e808453703f37cf2033a69bee823", "patch": "@@ -1,3 +1,9 @@\n+2012-01-18  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\t* configure.ac: Move epub checks...\n+\t* acinclude (GLIBCXX_CONFIGURE_DOCBOOK): ...here, use\n+\ttest -f instead of AC_CHECK_FILES.\n+\n 2012-01-18  Fran\u00e7ois Dumont  <fdumont@gcc.gnu.org>\n \t    Roman Kononov  <roman@binarylife.net>\n "}, {"sha": "fd3ba96c4abd309219d1e72614b06d0c8329c32c", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 14, "deletions": 2, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1e0e1000ee6e808453703f37cf2033a69bee823/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1e0e1000ee6e808453703f37cf2033a69bee823/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=c1e0e1000ee6e808453703f37cf2033a69bee823", "patch": "@@ -631,7 +631,7 @@ AC_DEFUN([GLIBCXX_CONFIGURE_TESTSUITE], [\n \n \n dnl\n-dnl Does any necessary configuration of the documentation directory.\n+dnl Does any necessary configuration for docbook in the docs directory.\n dnl\n dnl XSLTPROC must be set before this\n dnl\n@@ -642,7 +642,7 @@ dnl  XSL_STYLE_DIR\n dnl\n AC_DEFUN([GLIBCXX_CONFIGURE_DOCBOOK], [\n \n-AC_MSG_CHECKING([for stylesheets used in generation of documentation])\n+AC_MSG_CHECKING([for docbook stylesheets for documentation creation])\n glibcxx_stylesheets=no\n if test x${XSLTPROC} = xyes && echo '<title/>' | xsltproc --noout --nonet --xinclude http://docbook.sourceforge.net/release/xsl-ns/current/xhtml-1_1/docbook.xsl - 2>/dev/null; then\n   glibcxx_stylesheets=yes\n@@ -669,6 +669,18 @@ if test x\"$glibcxx_local_stylesheets\" = x\"yes\"; then\n else\n   glibcxx_stylesheets=no\n fi\n+\n+# Check for epub3 dependencies.\n+AC_MSG_CHECKING([for epub3 stylesheets for documentation creation])\n+glibcxx_epub_stylesheets=no\n+if test x\"$glibcxx_local_stylesheets\" = x\"yes\"; then\n+   if test -f ${XSL_STYLE_DIR}/epub3/chunk.xsl; then\n+      glibcxx_epub_stylesheets=yes\n+   fi\n+fi\n+AC_MSG_RESULT($glibcxx_epub_stylesheets)\n+AM_CONDITIONAL(BUILD_EPUB, test $glibcxx_epub_stylesheets= \"yes\")\n+\n ])\n \n "}, {"sha": "8ee0d24cc309a2d5c74f4bf39c02c3c3016692b3", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 29, "deletions": 61, "changes": 90, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1e0e1000ee6e808453703f37cf2033a69bee823/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1e0e1000ee6e808453703f37cf2033a69bee823/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=c1e0e1000ee6e808453703f37cf2033a69bee823", "patch": "@@ -618,8 +618,6 @@ CPU_DEFINES_SRCDIR\n ATOMIC_FLAGS\n ATOMIC_WORD_SRCDIR\n ATOMICITY_SRCDIR\n-BUILD_EPUB_FALSE\n-BUILD_EPUB_TRUE\n BUILD_PDF_FALSE\n BUILD_PDF_TRUE\n PDFLATEX\n@@ -630,6 +628,8 @@ BUILD_HTML_FALSE\n BUILD_HTML_TRUE\n BUILD_XML_FALSE\n BUILD_XML_TRUE\n+BUILD_EPUB_FALSE\n+BUILD_EPUB_TRUE\n XSL_STYLE_DIR\n XMLLINT\n XSLTPROC\n@@ -65753,8 +65753,8 @@ fi\n \n \n \n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for stylesheets used in generation of documentation\" >&5\n-$as_echo_n \"checking for stylesheets used in generation of documentation... \" >&6; }\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for docbook stylesheets for documentation creation\" >&5\n+$as_echo_n \"checking for docbook stylesheets for documentation creation... \" >&6; }\n glibcxx_stylesheets=no\n if test x${XSLTPROC} = xyes && echo '<title/>' | xsltproc --noout --nonet --xinclude http://docbook.sourceforge.net/release/xsl-ns/current/xhtml-1_1/docbook.xsl - 2>/dev/null; then\n   glibcxx_stylesheets=yes\n@@ -65786,6 +65786,27 @@ else\n   glibcxx_stylesheets=no\n fi\n \n+# Check for epub3 dependencies.\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for epub3 stylesheets for documentation creation\" >&5\n+$as_echo_n \"checking for epub3 stylesheets for documentation creation... \" >&6; }\n+glibcxx_epub_stylesheets=no\n+if test x\"$glibcxx_local_stylesheets\" = x\"yes\"; then\n+   if test -f ${XSL_STYLE_DIR}/epub3/chunk.xsl; then\n+      glibcxx_epub_stylesheets=yes\n+   fi\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $glibcxx_epub_stylesheets\" >&5\n+$as_echo \"$glibcxx_epub_stylesheets\" >&6; }\n+ if test $glibcxx_epub_stylesheets= \"yes\"; then\n+  BUILD_EPUB_TRUE=\n+  BUILD_EPUB_FALSE='#'\n+else\n+  BUILD_EPUB_TRUE='#'\n+  BUILD_EPUB_FALSE=\n+fi\n+\n+\n+\n \n # Check for xml/html dependencies.\n  if test $ac_cv_prog_DOXYGEN = \"yes\" &&\n@@ -65912,59 +65933,6 @@ else\n fi\n \n \n-# Check for epub dependencies.\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for /usr/share/xml/docbook/stylesheet/docbook-xsl-ns/epub3/chunk.xsl\" >&5\n-$as_echo_n \"checking for /usr/share/xml/docbook/stylesheet/docbook-xsl-ns/epub3/chunk.xsl... \" >&6; }\n-if test \"${ac_cv_file__usr_share_xml_docbook_stylesheet_docbook_xsl_ns_epub3_chunk_xsl+set}\" = set; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  test \"$cross_compiling\" = yes &&\n-  as_fn_error \"cannot check for file existence when cross compiling\" \"$LINENO\" 5\n-if test -r \"/usr/share/xml/docbook/stylesheet/docbook-xsl-ns/epub3/chunk.xsl\"; then\n-  ac_cv_file__usr_share_xml_docbook_stylesheet_docbook_xsl_ns_epub3_chunk_xsl=yes\n-else\n-  ac_cv_file__usr_share_xml_docbook_stylesheet_docbook_xsl_ns_epub3_chunk_xsl=no\n-fi\n-fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_file__usr_share_xml_docbook_stylesheet_docbook_xsl_ns_epub3_chunk_xsl\" >&5\n-$as_echo \"$ac_cv_file__usr_share_xml_docbook_stylesheet_docbook_xsl_ns_epub3_chunk_xsl\" >&6; }\n-if test \"x$ac_cv_file__usr_share_xml_docbook_stylesheet_docbook_xsl_ns_epub3_chunk_xsl\" = x\"\"yes; then :\n-  ac_cv_file_epub3_a=yes\n-else\n-  ac_cv_file_epub3_a=no\n-fi\n-\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for /usr/share/sgml/docbook/xsl-ns-stylesheets/epub3/chunk.xsl\" >&5\n-$as_echo_n \"checking for /usr/share/sgml/docbook/xsl-ns-stylesheets/epub3/chunk.xsl... \" >&6; }\n-if test \"${ac_cv_file__usr_share_sgml_docbook_xsl_ns_stylesheets_epub3_chunk_xsl+set}\" = set; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  test \"$cross_compiling\" = yes &&\n-  as_fn_error \"cannot check for file existence when cross compiling\" \"$LINENO\" 5\n-if test -r \"/usr/share/sgml/docbook/xsl-ns-stylesheets/epub3/chunk.xsl\"; then\n-  ac_cv_file__usr_share_sgml_docbook_xsl_ns_stylesheets_epub3_chunk_xsl=yes\n-else\n-  ac_cv_file__usr_share_sgml_docbook_xsl_ns_stylesheets_epub3_chunk_xsl=no\n-fi\n-fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_file__usr_share_sgml_docbook_xsl_ns_stylesheets_epub3_chunk_xsl\" >&5\n-$as_echo \"$ac_cv_file__usr_share_sgml_docbook_xsl_ns_stylesheets_epub3_chunk_xsl\" >&6; }\n-if test \"x$ac_cv_file__usr_share_sgml_docbook_xsl_ns_stylesheets_epub3_chunk_xsl\" = x\"\"yes; then :\n-  ac_cv_file_epub3_b=yes\n-else\n-  ac_cv_file_epub3_b=no\n-fi\n-\n- if test $ac_cv_file_epub3_a = \"yes\" ||\n-\t       test $ac_cv_file_epub3_b = \"yes\"; then\n-  BUILD_EPUB_TRUE=\n-  BUILD_EPUB_FALSE='#'\n-else\n-  BUILD_EPUB_TRUE='#'\n-  BUILD_EPUB_FALSE=\n-fi\n-\n-\n \n # Propagate the target-specific source directories through the build chain.\n ATOMICITY_SRCDIR=config/${atomicity_dir}\n@@ -66556,6 +66524,10 @@ if test -z \"${BUILD_INFO_TRUE}\" && test -z \"${BUILD_INFO_FALSE}\"; then\n   as_fn_error \"conditional \\\"BUILD_INFO\\\" was never defined.\n Usually this means the macro was only invoked conditionally.\" \"$LINENO\" 5\n fi\n+if test -z \"${BUILD_EPUB_TRUE}\" && test -z \"${BUILD_EPUB_FALSE}\"; then\n+  as_fn_error \"conditional \\\"BUILD_EPUB\\\" was never defined.\n+Usually this means the macro was only invoked conditionally.\" \"$LINENO\" 5\n+fi\n if test -z \"${BUILD_XML_TRUE}\" && test -z \"${BUILD_XML_FALSE}\"; then\n   as_fn_error \"conditional \\\"BUILD_XML\\\" was never defined.\n Usually this means the macro was only invoked conditionally.\" \"$LINENO\" 5\n@@ -66572,10 +66544,6 @@ if test -z \"${BUILD_PDF_TRUE}\" && test -z \"${BUILD_PDF_FALSE}\"; then\n   as_fn_error \"conditional \\\"BUILD_PDF\\\" was never defined.\n Usually this means the macro was only invoked conditionally.\" \"$LINENO\" 5\n fi\n-if test -z \"${BUILD_EPUB_TRUE}\" && test -z \"${BUILD_EPUB_FALSE}\"; then\n-  as_fn_error \"conditional \\\"BUILD_EPUB\\\" was never defined.\n-Usually this means the macro was only invoked conditionally.\" \"$LINENO\" 5\n-fi\n \n : ${CONFIG_STATUS=./config.status}\n ac_write_fail=0"}, {"sha": "2429f04d8111cafbf0b4677a2d6fb16fd5a01d5d", "filename": "libstdc++-v3/configure.ac", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1e0e1000ee6e808453703f37cf2033a69bee823/libstdc%2B%2B-v3%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1e0e1000ee6e808453703f37cf2033a69bee823/libstdc%2B%2B-v3%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure.ac?ref=c1e0e1000ee6e808453703f37cf2033a69bee823", "patch": "@@ -380,15 +380,6 @@ AM_CONDITIONAL(BUILD_PDF,\n \t       test $ac_cv_prog_DBLATEX = \"yes\" &&\n \t       test $ac_cv_prog_PDFLATEX = \"yes\")\n \n-# Check for epub dependencies.\n-AC_CHECK_FILE(/usr/share/xml/docbook/stylesheet/docbook-xsl-ns/epub3/chunk.xsl,\n-\t      ac_cv_file_epub3_a=yes, ac_cv_file_epub3_a=no)\n-AC_CHECK_FILE(/usr/share/sgml/docbook/xsl-ns-stylesheets/epub3/chunk.xsl,\n-\t      ac_cv_file_epub3_b=yes, ac_cv_file_epub3_b=no)\n-AM_CONDITIONAL(BUILD_EPUB,\n-\t       test $ac_cv_file_epub3_a = \"yes\" ||\n-\t       test $ac_cv_file_epub3_b = \"yes\")\n-\n \n # Propagate the target-specific source directories through the build chain.\n ATOMICITY_SRCDIR=config/${atomicity_dir}"}]}