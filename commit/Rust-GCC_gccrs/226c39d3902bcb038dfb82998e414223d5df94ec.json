{"sha": "226c39d3902bcb038dfb82998e414223d5df94ec", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjI2YzM5ZDM5MDJiY2IwMzhkZmI4Mjk5OGU0MTQyMjNkNWRmOTRlYw==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1998-08-25T12:55:42Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-08-25T12:55:42Z"}, "message": "tree.c (valid_machine_attribute): Don't apply attributes to both decl and type.\n\n\t* tree.c (valid_machine_attribute): Don't apply attributes to both\n\tdecl and type.\n\nFrom-SVN: r21970", "tree": {"sha": "795778a820399a4207f15119cb864bd5a827baff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/795778a820399a4207f15119cb864bd5a827baff"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/226c39d3902bcb038dfb82998e414223d5df94ec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/226c39d3902bcb038dfb82998e414223d5df94ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/226c39d3902bcb038dfb82998e414223d5df94ec", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/226c39d3902bcb038dfb82998e414223d5df94ec/comments", "author": null, "committer": null, "parents": [{"sha": "8239d6c313265003e2d28bd4b7fdd0b613ce5635", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8239d6c313265003e2d28bd4b7fdd0b613ce5635", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8239d6c313265003e2d28bd4b7fdd0b613ce5635"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "f6dd8561597272df120c1821c691172b3fe7c138", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/226c39d3902bcb038dfb82998e414223d5df94ec/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/226c39d3902bcb038dfb82998e414223d5df94ec/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=226c39d3902bcb038dfb82998e414223d5df94ec", "patch": "@@ -1,3 +1,8 @@\n+Tue Aug 25 12:54:57 1998  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* tree.c (valid_machine_attribute): Don't apply attributes to both\n+\tdecl and type.\n+\n Tue Aug 25 12:23:20 PDT 1998  Richard Henderson  <rth@cygnus.com>\n \n         * reload.c (operands_match_p): Handle rtvecs.\n@@ -86,8 +91,6 @@ Mon Aug 24 00:53:53 1998  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* fixinc.irix: Add curses.h handling from fixinc.wrap.\n \n-Fri Aug 14 14:12:59 1998  Jason Merrill  <jason@yorick.cygnus.com>\n-\n \t* c-common.c (combine_strings): Also set TREE_READONLY.\n \tChange warn_write_strings to flag_const_strings.\n \t* c-decl.c, c-tree.h: Likewise."}, {"sha": "532dd1908a88d700edb83c425c1bd16fa053f40a", "filename": "gcc/tree.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/226c39d3902bcb038dfb82998e414223d5df94ec/gcc%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/226c39d3902bcb038dfb82998e414223d5df94ec/gcc%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.c?ref=226c39d3902bcb038dfb82998e414223d5df94ec", "patch": "@@ -3376,7 +3376,10 @@ valid_machine_attribute (attr_name, attr_args, decl, type)\n #endif\n \n #ifdef VALID_MACHINE_TYPE_ATTRIBUTE\n-  if (VALID_MACHINE_TYPE_ATTRIBUTE (type, type_attr_list, attr_name, attr_args))\n+  if (valid)\n+    /* Don't apply the attribute to both the decl and the type.  */;\n+  else if (VALID_MACHINE_TYPE_ATTRIBUTE (type, type_attr_list, attr_name,\n+\t\t\t\t\t attr_args))\n     {\n       tree attr = lookup_attribute (IDENTIFIER_POINTER (attr_name),\n \t\t\t\t    type_attr_list);"}]}