{"sha": "3317bab1bd10c9d37a3844723eccfd862af5e033", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzMxN2JhYjFiZDEwYzlkMzdhMzg0NDcyM2VjY2ZkODYyYWY1ZTAzMw==", "commit": {"author": {"name": "David Edelsohn", "email": "edelsohn@gnu.org", "date": "2003-03-03T21:57:25Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2003-03-03T21:57:25Z"}, "message": "rs6000.c (rs6000_multipass_dfa_lookahead): Delete.\n\n        * config/rs6000/rs6000.c (rs6000_multipass_dfa_lookahead): Delete.\n        (TARGET_SCHED_FIRST_CYCLE_MULTIPASS_DFA_LOOKAHEAD): Delete.\n        (rs6000_variable_issue): Do not return negative value.\n        (rs6000_issue_rate): Uniformly set issue rate to 1 for first\n        scheduling pass.\n\nFrom-SVN: r63736", "tree": {"sha": "c3b6f7c2f37b28ef444dde3336702bd2cea92946", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c3b6f7c2f37b28ef444dde3336702bd2cea92946"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3317bab1bd10c9d37a3844723eccfd862af5e033", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3317bab1bd10c9d37a3844723eccfd862af5e033", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3317bab1bd10c9d37a3844723eccfd862af5e033", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3317bab1bd10c9d37a3844723eccfd862af5e033/comments", "author": null, "committer": null, "parents": [{"sha": "7993382ed00da10f470ccfe78d9f67301b0cdadd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7993382ed00da10f470ccfe78d9f67301b0cdadd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7993382ed00da10f470ccfe78d9f67301b0cdadd"}], "stats": {"total": 26, "additions": 13, "deletions": 13}, "files": [{"sha": "f91e2d8f07d996a829b7dd9f0b9dc3e234880748", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3317bab1bd10c9d37a3844723eccfd862af5e033/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3317bab1bd10c9d37a3844723eccfd862af5e033/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3317bab1bd10c9d37a3844723eccfd862af5e033", "patch": "@@ -1,3 +1,11 @@\n+2003-03-03  David Edelsohn  <edelsohn@gnu.org>\n+\n+\t* config/rs6000/rs6000.c (rs6000_multipass_dfa_lookahead): Delete.\n+\t(TARGET_SCHED_FIRST_CYCLE_MULTIPASS_DFA_LOOKAHEAD): Delete.\n+\t(rs6000_variable_issue): Do not return negative value.\n+\t(rs6000_issue_rate): Uniformly set issue rate to 1 for first\n+\tscheduling pass.\n+\n 2003-03-03  Zdenek Dvorak  <rakdver@atrey.karlin.mff.cuni.cz>\n \n \t* dwarf2out.c (dwarf2out_finish): Swap order of break_out_includes and"}, {"sha": "5915e0a96231f14024d94eaa6f904428d0a920aa", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 5, "deletions": 13, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3317bab1bd10c9d37a3844723eccfd862af5e033/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3317bab1bd10c9d37a3844723eccfd862af5e033/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=3317bab1bd10c9d37a3844723eccfd862af5e033", "patch": "@@ -228,7 +228,6 @@ static void rs6000_xcoff_encode_section_info PARAMS ((tree, int))\n      ATTRIBUTE_UNUSED;\n static bool rs6000_binds_local_p PARAMS ((tree));\n static int rs6000_use_dfa_pipeline_interface PARAMS ((void));\n-static int rs6000_multipass_dfa_lookahead PARAMS ((void));\n static int rs6000_variable_issue PARAMS ((FILE *, int, rtx, int));\n static bool rs6000_rtx_costs PARAMS ((rtx, int, int, int *));\n static int rs6000_adjust_cost PARAMS ((rtx, rtx, rtx, int));\n@@ -386,8 +385,6 @@ static const char alt_reg_names[][8] =\n \n #undef  TARGET_SCHED_USE_DFA_PIPELINE_INTERFACE \n #define TARGET_SCHED_USE_DFA_PIPELINE_INTERFACE rs6000_use_dfa_pipeline_interface\n-#undef  TARGET_SCHED_FIRST_CYCLE_MULTIPASS_DFA_LOOKAHEAD\n-#define TARGET_SCHED_FIRST_CYCLE_MULTIPASS_DFA_LOOKAHEAD rs6000_multipass_dfa_lookahead\n #undef  TARGET_SCHED_VARIABLE_ISSUE\n #define TARGET_SCHED_VARIABLE_ISSUE rs6000_variable_issue\n \n@@ -12228,15 +12225,6 @@ rs6000_use_dfa_pipeline_interface ()\n   return 1;\n }\n \n-static int\n-rs6000_multipass_dfa_lookahead ()\n-{\n-  if (rs6000_cpu == PROCESSOR_POWER4)\n-    return 4;\n-  else\n-    return 1;\n-}\n-\n /* Power4 load update and store update instructions are cracked into a\n    load or store and an integer insn which are executed in the same cycle.\n    Branches have their own dispatch slot which does not count against the\n@@ -12264,7 +12252,7 @@ rs6000_variable_issue (stream, verbose, insn, more)\n       else if (type == TYPE_LOAD_U || type == TYPE_STORE_U\n \t       || type == TYPE_FPLOAD_U || type == TYPE_FPSTORE_U\n \t       || type == TYPE_LOAD_EXT || type == TYPE_DELAYED_CR)\n-\treturn more - 2;\n+\treturn more > 2 ? more - 2 : 0;\n       else\n \treturn more - 1;\n     }\n@@ -12380,6 +12368,10 @@ rs6000_adjust_priority (insn, priority)\n static int\n rs6000_issue_rate ()\n {\n+  /* Use issue rate of 1 for first scheduling pass to decrease degradation.  */\n+  if (!reload_completed)\n+    return 1;\n+\n   switch (rs6000_cpu_attr) {\n   case CPU_RIOS1:  /* ? */\n   case CPU_RS64A:"}]}