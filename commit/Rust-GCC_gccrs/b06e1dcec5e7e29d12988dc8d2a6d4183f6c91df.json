{"sha": "b06e1dcec5e7e29d12988dc8d2a6d4183f6c91df", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjA2ZTFkY2VjNWU3ZTI5ZDEyOTg4ZGM4ZDJhNmQ0MTgzZjZjOTFkZg==", "commit": {"author": {"name": "Jozef Lawrynowicz", "email": "jozef.l@mittosystems.com", "date": "2018-07-31T18:17:00Z"}, "committer": {"name": "Jozef Lawrynowicz", "email": "jozefl@gcc.gnu.org", "date": "2018-07-31T18:17:00Z"}, "message": "re PR middle-end/86705 (pr45678-2.c ICE with msp430-elf -mlarge)\n\n\tPR middle-end/86705\n\n\t* gcc/cfgexpand.c (set_parm_rtl): Use the alignment of Pmode when\n\tMAX_SUPPORTED_STACK_ALIGNMENT would otherwise be exceeded by the\n\trequested variable alignment.\n\t(expand_one_ssa_partition): Likewise.\n\t(expand_one_var): Likewise.\n\nFrom-SVN: r263177", "tree": {"sha": "b7e96c84e605e1248abeaed0c69f3a360b7b8e6e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b7e96c84e605e1248abeaed0c69f3a360b7b8e6e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b06e1dcec5e7e29d12988dc8d2a6d4183f6c91df", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b06e1dcec5e7e29d12988dc8d2a6d4183f6c91df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b06e1dcec5e7e29d12988dc8d2a6d4183f6c91df", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b06e1dcec5e7e29d12988dc8d2a6d4183f6c91df/comments", "author": {"login": "jozefl-mitto", "id": 36524004, "node_id": "MDQ6VXNlcjM2NTI0MDA0", "avatar_url": "https://avatars.githubusercontent.com/u/36524004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jozefl-mitto", "html_url": "https://github.com/jozefl-mitto", "followers_url": "https://api.github.com/users/jozefl-mitto/followers", "following_url": "https://api.github.com/users/jozefl-mitto/following{/other_user}", "gists_url": "https://api.github.com/users/jozefl-mitto/gists{/gist_id}", "starred_url": "https://api.github.com/users/jozefl-mitto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jozefl-mitto/subscriptions", "organizations_url": "https://api.github.com/users/jozefl-mitto/orgs", "repos_url": "https://api.github.com/users/jozefl-mitto/repos", "events_url": "https://api.github.com/users/jozefl-mitto/events{/privacy}", "received_events_url": "https://api.github.com/users/jozefl-mitto/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "31f52518d4a2c1446692c35de01f3b54f2f544c7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31f52518d4a2c1446692c35de01f3b54f2f544c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/31f52518d4a2c1446692c35de01f3b54f2f544c7"}], "stats": {"total": 19, "additions": 14, "deletions": 5}, "files": [{"sha": "b48ad1fd491aa4107496239cb5e74643db9ed08b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b06e1dcec5e7e29d12988dc8d2a6d4183f6c91df/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b06e1dcec5e7e29d12988dc8d2a6d4183f6c91df/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b06e1dcec5e7e29d12988dc8d2a6d4183f6c91df", "patch": "@@ -1,3 +1,12 @@\n+2018-07-31  Jozef Lawrynowicz  <jozef.l@mittosystems.com>\n+\n+\tPR middle-end/86705\n+\t* gcc/cfgexpand.c (set_parm_rtl): Use the alignment of Pmode when\n+\tMAX_SUPPORTED_STACK_ALIGNMENT would otherwise be exceeded by the\n+\trequested variable alignment.\n+\t(expand_one_ssa_partition): Likewise.\n+\t(expand_one_var): Likewise.\n+\n 2018-07-31  Richard Earnshaw  <rearnsha@arm.com>\n \n \t* config/pdp11/pdp11.c (TARGET_HAVE_SPECULATION_SAFE_VALUE): Redefine"}, {"sha": "7353d5dce1285d720de488ad2203b540acd90da3", "filename": "gcc/cfgexpand.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b06e1dcec5e7e29d12988dc8d2a6d4183f6c91df/gcc%2Fcfgexpand.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b06e1dcec5e7e29d12988dc8d2a6d4183f6c91df/gcc%2Fcfgexpand.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgexpand.c?ref=b06e1dcec5e7e29d12988dc8d2a6d4183f6c91df", "patch": "@@ -1257,10 +1257,10 @@ set_parm_rtl (tree parm, rtx x)\n \t allocate it, which means that in-frame portion is just a\n \t pointer.  ??? We've got a pseudo for sure here, do we\n \t actually dynamically allocate its spilling area if needed?\n-\t ??? Isn't it a problem when POINTER_SIZE also exceeds\n-\t MAX_SUPPORTED_STACK_ALIGNMENT, as on cris and lm32?  */\n+\t ??? Isn't it a problem when Pmode alignment also exceeds\n+\t MAX_SUPPORTED_STACK_ALIGNMENT, as can happen on cris and lm32?  */\n       if (align > MAX_SUPPORTED_STACK_ALIGNMENT)\n-\talign = POINTER_SIZE;\n+\talign = GET_MODE_ALIGNMENT (Pmode);\n \n       record_alignment_for_reg_var (align);\n     }\n@@ -1381,7 +1381,7 @@ expand_one_ssa_partition (tree var)\n   /* If the variable alignment is very large we'll dynamicaly allocate\n      it, which means that in-frame portion is just a pointer.  */\n   if (align > MAX_SUPPORTED_STACK_ALIGNMENT)\n-    align = POINTER_SIZE;\n+    align = GET_MODE_ALIGNMENT (Pmode);\n \n   record_alignment_for_reg_var (align);\n \n@@ -1608,7 +1608,7 @@ expand_one_var (tree var, bool toplevel, bool really_expand)\n       /* If the variable alignment is very large we'll dynamicaly allocate\n \t it, which means that in-frame portion is just a pointer.  */\n       if (align > MAX_SUPPORTED_STACK_ALIGNMENT)\n-\talign = POINTER_SIZE;\n+\talign = GET_MODE_ALIGNMENT (Pmode);\n     }\n \n   record_alignment_for_reg_var (align);"}]}