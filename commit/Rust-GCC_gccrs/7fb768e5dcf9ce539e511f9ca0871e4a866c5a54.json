{"sha": "7fb768e5dcf9ce539e511f9ca0871e4a866c5a54", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2ZiNzY4ZTVkY2Y5Y2U1MzllNTExZjljYTA4NzFlNGE4NjZjNWE1NA==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@act-europe.fr", "date": "2003-11-14T10:04:31Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2003-11-14T10:04:31Z"}, "message": "re PR ada/13035 (Ada testsuite uses installed gcc)\n\n\tPR ada/13035\n\t* ada/acats/run_acats, run_all.sh: Fix syntax errors.\n\tNo longer use a wrapper for gcc, since this does not work under\n\tWindows, use --GCC switch instead.\n\nFrom-SVN: r73592", "tree": {"sha": "692ce97ccc8099a421e07e4ad2bc9fc4d81446f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/692ce97ccc8099a421e07e4ad2bc9fc4d81446f9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7fb768e5dcf9ce539e511f9ca0871e4a866c5a54", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7fb768e5dcf9ce539e511f9ca0871e4a866c5a54", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7fb768e5dcf9ce539e511f9ca0871e4a866c5a54", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7fb768e5dcf9ce539e511f9ca0871e4a866c5a54/comments", "author": null, "committer": null, "parents": [{"sha": "c60cfc76bea8bba00426dbfca01cd14a4aa49a22", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c60cfc76bea8bba00426dbfca01cd14a4aa49a22", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c60cfc76bea8bba00426dbfca01cd14a4aa49a22"}], "stats": {"total": 37, "additions": 18, "deletions": 19}, "files": [{"sha": "f5d577aaaba4c1174cbe6544009b93ce7ff9c5b1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7fb768e5dcf9ce539e511f9ca0871e4a866c5a54/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7fb768e5dcf9ce539e511f9ca0871e4a866c5a54/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7fb768e5dcf9ce539e511f9ca0871e4a866c5a54", "patch": "@@ -1,3 +1,10 @@\n+2003-11-14  Arnaud Charlet  <charlet@act-europe.fr>\n+\n+\tPR ada/13035\n+\t* ada/acats/run_acats, run_all.sh: Fix syntax error.\n+\tNo longer use a wrapper for gcc, since this does not work under\n+\tWindows.\n+\n 2003-11-14  Giovanni Bajo  <giovannibajo@libero.it>\n \n         PR c++/2094"}, {"sha": "27963856f74840b7dc727fc365bb815d12cc3cbc", "filename": "gcc/testsuite/ada/acats/run_acats", "status": "modified", "additions": 4, "deletions": 12, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7fb768e5dcf9ce539e511f9ca0871e4a866c5a54/gcc%2Ftestsuite%2Fada%2Facats%2Frun_acats", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7fb768e5dcf9ce539e511f9ca0871e4a866c5a54/gcc%2Ftestsuite%2Fada%2Facats%2Frun_acats", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fada%2Facats%2Frun_acats?ref=7fb768e5dcf9ce539e511f9ca0871e4a866c5a54", "patch": "@@ -7,29 +7,21 @@ fi\n \n # Set up environment to use the Ada compiler from the object tree\n \n-host_gnatmake=`type gnatmake | awk '{print $3}`\n-host_gcc=`type gcc | awk '{print $3}`\n+host_gnatmake=`type gnatmake | awk '{print $3}'`\n ROOT=`${PWDCMD-pwd}`\n BASE=`cd $ROOT/../../..; ${PWDCMD-pwd}`\n PATH=$BASE:$ROOT:$PATH\n ADA_INCLUDE_PATH=$BASE/ada/rts\n ADA_OBJECTS_PATH=$ADA_INCLUDE_PATH\n-export PATH ADA_INCLUDE_PATH ADA_OBJECTS_PATH\n-\n-echo '#!/bin/sh' > gcc\n-echo exec $BASE/xgcc -B$BASE/ '\"$@\"' >> gcc\n+GCC=\"$BASE/xgcc -B$BASE/\"\n+export PATH ADA_INCLUDE_PATH ADA_OBJECTS_PATH GCC\n \n echo '#!/bin/sh' > host_gnatmake\n echo PATH=`dirname $host_gnatmake`:'$PATH' >> host_gnatmake\n echo unset ADA_INCLUDE_PATH ADA_OBJECTS_PATH GCC_EXEC_PREFIX >> host_gnatmake\n echo export PATH >> host_gnatmake\n echo exec $host_gnatmake '\"$@\"' >> host_gnatmake\n \n-echo '#!/bin/sh' > host_gcc\n-echo PATH=`dirname $host_gcc`:'$PATH' >> host_gcc\n-echo export PATH >> host_gcc\n-echo exec $host_gcc '\"$@\"' >> host_gcc\n-\n-chmod +x gcc host_gnatmake host_gcc\n+chmod +x host_gnatmake\n \n exec $testdir/run_all.sh \"$@\""}, {"sha": "f6b1cb4a084adb33c259611c40aa697170363705", "filename": "gcc/testsuite/ada/acats/run_all.sh", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7fb768e5dcf9ce539e511f9ca0871e4a866c5a54/gcc%2Ftestsuite%2Fada%2Facats%2Frun_all.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7fb768e5dcf9ce539e511f9ca0871e4a866c5a54/gcc%2Ftestsuite%2Fada%2Facats%2Frun_all.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fada%2Facats%2Frun_all.sh?ref=7fb768e5dcf9ce539e511f9ca0871e4a866c5a54", "patch": "@@ -48,11 +48,11 @@ if [ \"$dir\" = \"$testdir\" ]; then\n fi\n \n target_gnatmake () {\n-  gnatmake $gnatflags $gccflags $* -largs $EXTERNAL_OBJECTS\n+  gnatmake --GCC=\"$GCC\" $gnatflags $gccflags $* -largs $EXTERNAL_OBJECTS --GCC=\"$GCC\"\n }\n \n target_gcc () {\n-  gcc $gccflags $*\n+  $GCC $gccflags $*\n }\n \n clean_dir () {\n@@ -66,10 +66,10 @@ rm -f $dir/acats.sum $dir/acats.log\n \n display \"\t\t=== acats configuration ===\"\n \n-display `type gcc`\n-display `gcc -v 2>&1`\n-display host=`host_gcc -dumpmachine`\n-display target=`gcc -dumpmachine`\n+display target gcc is $GCC\n+display `$GCC -v 2>&1`\n+display host=`gcc -dumpmachine`\n+display target=`$GCC -dumpmachine`\n display `type gnatmake`\n gnatls -v >> $dir/acats.log\n display \"\"\n@@ -114,7 +114,7 @@ if [ $? -ne 0 ]; then\n fi\n ./macrosub > macrosub.out 2>&1\n \n-host_gcc -c cd300051.c\n+gcc -c cd300051.c\n host_gnatmake -q -gnatws widechr.adb\n if [ $? -ne 0 ]; then\n    display \"**** Failed to compile widechr\""}]}