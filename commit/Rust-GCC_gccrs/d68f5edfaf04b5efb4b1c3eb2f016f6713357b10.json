{"sha": "d68f5edfaf04b5efb4b1c3eb2f016f6713357b10", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDY4ZjVlZGZhZjA0YjVlZmI0YjFjM2ViMmYwMTZmNjcxMzM1N2IxMA==", "commit": {"author": {"name": "Christophe Lyon", "email": "christophe.lyon@linaro.org", "date": "2019-11-28T09:16:55Z"}, "committer": {"name": "Christophe Lyon", "email": "clyon@gcc.gnu.org", "date": "2019-11-28T09:16:55Z"}, "message": "[testsuite][arm] Force use of -mfloat-abi=softfp in asm-flag-4.c\n\nThe asm-flag-4.c test forces the generation of Thumb code for armv4t,\nwhich is not supported when using the 'hard' FP ABI. This patch\nensures the test uses -mfloat-abi=softfp safely, to avoid irrelevant\nfailures.\n\n2019-11-28  Christophe Lyon  <christophe.lyon@linaro.org>\n\n\t* gcc.target/arm/asm-flag-4.c: Use -mfloat-abi=softfp.\n\nFrom-SVN: r278804", "tree": {"sha": "be2fee69f46e875ba6735ba86802532cf7027477", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/be2fee69f46e875ba6735ba86802532cf7027477"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d68f5edfaf04b5efb4b1c3eb2f016f6713357b10", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d68f5edfaf04b5efb4b1c3eb2f016f6713357b10", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d68f5edfaf04b5efb4b1c3eb2f016f6713357b10", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d68f5edfaf04b5efb4b1c3eb2f016f6713357b10/comments", "author": null, "committer": null, "parents": [{"sha": "79d2e61495d84a2fed4fce6ff7dacfe19a8b99ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79d2e61495d84a2fed4fce6ff7dacfe19a8b99ca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/79d2e61495d84a2fed4fce6ff7dacfe19a8b99ca"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "969c8bda369198c7307bd3fe469ec809e57d15cf", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d68f5edfaf04b5efb4b1c3eb2f016f6713357b10/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d68f5edfaf04b5efb4b1c3eb2f016f6713357b10/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d68f5edfaf04b5efb4b1c3eb2f016f6713357b10", "patch": "@@ -1,3 +1,7 @@\n+2019-11-28  Christophe Lyon  <christophe.lyon@linaro.org>\n+\n+\t* gcc.target/arm/asm-flag-4.c: Use -mfloat-abi=softfp.\n+\n 2019-11-28  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/92691"}, {"sha": "75378cc89b09261bb67fc0f57670e80b9ec945d3", "filename": "gcc/testsuite/gcc.target/arm/asm-flag-4.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d68f5edfaf04b5efb4b1c3eb2f016f6713357b10/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fasm-flag-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d68f5edfaf04b5efb4b1c3eb2f016f6713357b10/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fasm-flag-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fasm-flag-4.c?ref=d68f5edfaf04b5efb4b1c3eb2f016f6713357b10", "patch": "@@ -1,6 +1,8 @@\n /* Test that we do not ice in thumb1 mode */\n /* { dg-do compile } */\n-/* { dg-options \"-march=armv4t\" } */\n+/* { dg-require-effective-target arm_arch_v4t_thumb_ok } */\n+/* { dg-skip-if \"do not override -mfloat-abi\" { *-*-* } { \"-mfloat-abi=*\" } { \"-mfloat-abi=softfp\" } } */\n+/* { dg-options \"-march=armv4t -mfloat-abi=softfp\" } */\n \n void __attribute__((target(\"arm\"))) f(char *out)\n {"}]}