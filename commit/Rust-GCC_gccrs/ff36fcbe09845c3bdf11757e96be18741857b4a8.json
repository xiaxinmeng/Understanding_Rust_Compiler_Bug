{"sha": "ff36fcbe09845c3bdf11757e96be18741857b4a8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmYzNmZjYmUwOTg0NWMzYmRmMTE3NTdlOTZiZTE4NzQxODU3YjRhOA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2014-01-08T22:39:07Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2014-01-08T22:39:07Z"}, "message": "* cgraph.h (varpool_variable_node): Do not choke on null node.\n\nFrom-SVN: r206449", "tree": {"sha": "d21f8e2d032efdaf27e5118bc18444f4ba9472b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d21f8e2d032efdaf27e5118bc18444f4ba9472b9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ff36fcbe09845c3bdf11757e96be18741857b4a8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff36fcbe09845c3bdf11757e96be18741857b4a8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ff36fcbe09845c3bdf11757e96be18741857b4a8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff36fcbe09845c3bdf11757e96be18741857b4a8/comments", "author": null, "committer": null, "parents": [{"sha": "03694c4310bacc44251926dc68cb3ff22d63e8a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03694c4310bacc44251926dc68cb3ff22d63e8a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03694c4310bacc44251926dc68cb3ff22d63e8a7"}], "stats": {"total": 35, "additions": 33, "deletions": 2}, "files": [{"sha": "f63918e6cc6b32fac7e888ab263497bde3ce37f5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff36fcbe09845c3bdf11757e96be18741857b4a8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff36fcbe09845c3bdf11757e96be18741857b4a8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ff36fcbe09845c3bdf11757e96be18741857b4a8", "patch": "@@ -1,3 +1,7 @@\n+2014-01-08  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* cgraph.h (varpool_variable_node): Do not choke on null node.\n+\n 2014-01-08  Catherine Moore  <clm@codesourcery.com>\n \n \t* config/mips/mips.md (simple_return): Attempt to use JRC for microMIPS."}, {"sha": "7ce54014e1ef26e59dfb4c45c1892de1faf2eac3", "filename": "gcc/cgraph.h", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff36fcbe09845c3bdf11757e96be18741857b4a8/gcc%2Fcgraph.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff36fcbe09845c3bdf11757e96be18741857b4a8/gcc%2Fcgraph.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraph.h?ref=ff36fcbe09845c3bdf11757e96be18741857b4a8", "patch": "@@ -1426,8 +1426,12 @@ varpool_variable_node (varpool_node *node,\n {\n   varpool_node *n;\n \n-  n = dyn_cast <varpool_node> (symtab_alias_ultimate_target (node,\n-\t\t\t\t\t\t\t     availability));\n+  if (node)\n+    n = dyn_cast <varpool_node> (symtab_alias_ultimate_target (node,\n+\t\t\t\t\t\t\t       availability));\n+  else\n+    n = NULL;\n+\n   if (!n && availability)\n     *availability = AVAIL_NOT_AVAILABLE;\n   return n;"}, {"sha": "b1f578cc197ea633ddb40ade62ddb4d8254439d3", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff36fcbe09845c3bdf11757e96be18741857b4a8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff36fcbe09845c3bdf11757e96be18741857b4a8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ff36fcbe09845c3bdf11757e96be18741857b4a8", "patch": "@@ -1,3 +1,7 @@\n+2014-01-08  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gnat.dg/weak2.ad[sb]: New test.\n+\n 2014-01-08  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR middle-end/59471"}, {"sha": "9e704b50c0da3a64a706f57eb24949f158c3eaf0", "filename": "gcc/testsuite/gnat.dg/weak2.adb", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff36fcbe09845c3bdf11757e96be18741857b4a8/gcc%2Ftestsuite%2Fgnat.dg%2Fweak2.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff36fcbe09845c3bdf11757e96be18741857b4a8/gcc%2Ftestsuite%2Fgnat.dg%2Fweak2.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fweak2.adb?ref=ff36fcbe09845c3bdf11757e96be18741857b4a8", "patch": "@@ -0,0 +1,10 @@\n+-- { dg-do compile }\n+\n+package body Weak2 is\n+\n+   function F return Integer is\n+   begin\n+      return Var;\n+   end;\n+\n+end Weak2;"}, {"sha": "0a0011a6ecaeb41386372236b977603af0d6369a", "filename": "gcc/testsuite/gnat.dg/weak2.ads", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff36fcbe09845c3bdf11757e96be18741857b4a8/gcc%2Ftestsuite%2Fgnat.dg%2Fweak2.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff36fcbe09845c3bdf11757e96be18741857b4a8/gcc%2Ftestsuite%2Fgnat.dg%2Fweak2.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fweak2.ads?ref=ff36fcbe09845c3bdf11757e96be18741857b4a8", "patch": "@@ -0,0 +1,9 @@\n+package Weak2 is\n+\n+   Var : Integer;\n+   pragma Import (Ada, Var, \"var_name\");\n+   pragma Weak_External (Var);\n+\n+   function F return Integer;\n+\n+end Weak2;"}]}