{"sha": "d60a2d4d2fdc2f8218c0ef7fcee4aea63953e2e8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDYwYTJkNGQyZmRjMmY4MjE4YzBlZjdmY2VlNGFlYTYzOTUzZTJlOA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@google.com", "date": "2008-03-28T17:32:05Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2008-03-28T17:32:05Z"}, "message": "acinclude.m4 (GLIBCXX_CHECK_LINKER_FEATURES): Set glibcxx_ld_is_gold.\n\n\t* acinclude.m4 (GLIBCXX_CHECK_LINKER_FEATURES): Set\n\tglibcxx_ld_is_gold.  Check for gold in --gc-sections test.\n\t(GLIBCXX_ENABLE_SYMVERS): Check for gold.\n\t* aclocal.m4, configure: Rebuild.\n\nFrom-SVN: r133689", "tree": {"sha": "1d620dcd296710c2b82c9bd6e261a5bdc9d13635", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1d620dcd296710c2b82c9bd6e261a5bdc9d13635"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d60a2d4d2fdc2f8218c0ef7fcee4aea63953e2e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d60a2d4d2fdc2f8218c0ef7fcee4aea63953e2e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d60a2d4d2fdc2f8218c0ef7fcee4aea63953e2e8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d60a2d4d2fdc2f8218c0ef7fcee4aea63953e2e8/comments", "author": null, "committer": null, "parents": [{"sha": "3e08bbcfe8cf565f51869ed0e1f36a56e742d954", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e08bbcfe8cf565f51869ed0e1f36a56e742d954", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3e08bbcfe8cf565f51869ed0e1f36a56e742d954"}], "stats": {"total": 331, "additions": 256, "deletions": 75}, "files": [{"sha": "15e8e491811a908ad49cb5669c861495e044a440", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d60a2d4d2fdc2f8218c0ef7fcee4aea63953e2e8/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d60a2d4d2fdc2f8218c0ef7fcee4aea63953e2e8/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=d60a2d4d2fdc2f8218c0ef7fcee4aea63953e2e8", "patch": "@@ -1,3 +1,10 @@\n+2008-03-27  Ian Lance Taylor  <iant@google.com>\n+\n+\t* acinclude.m4 (GLIBCXX_CHECK_LINKER_FEATURES): Set\n+\tglibcxx_ld_is_gold.  Check for gold in --gc-sections test.\n+\t(GLIBCXX_ENABLE_SYMVERS): Check for gold.\n+\t* aclocal.m4, configure: Rebuild.\n+\n 2008-03-26  Benjamin Kosnik  <bkoz@redhat.com>\n \n \t* testsuite/util/testsuite_abi.h: Remove symbol_objects,"}, {"sha": "92c70b290795e5322dc6b48472314a2d0eb8f6c2", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 20, "deletions": 4, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d60a2d4d2fdc2f8218c0ef7fcee4aea63953e2e8/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d60a2d4d2fdc2f8218c0ef7fcee4aea63953e2e8/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=d60a2d4d2fdc2f8218c0ef7fcee4aea63953e2e8", "patch": "@@ -200,6 +200,7 @@ dnl  OPT_LDFLAGS='-Wl,-O1' and '-z,relro' if possible\n dnl  LD (as a side effect of testing)\n dnl Sets:\n dnl  with_gnu_ld\n+dnl  glibcxx_ld_is_gold (set to \"no\" or \"yes\")\n dnl  glibcxx_gnu_ld_version (possibly)\n dnl\n dnl The last will be a single integer, e.g., version 1.23.45.0.67.89 will\n@@ -231,22 +232,35 @@ AC_DEFUN([GLIBCXX_CHECK_LINKER_FEATURES], [\n \n   # Start by getting the version number.  I think the libtool test already\n   # does some of this, but throws away the result.\n+  glibcxx_ld_is_gold=no\n   if test x\"$with_gnu_ld\" = x\"yes\"; then\n     AC_MSG_CHECKING([for ld version])\n     changequote(,)\n+    if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n+      glibcxx_ld_is_gold=yes\n+    fi\n     ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\3/'`\n+           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n     changequote([,])\n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) [$]3=0; print ([$]1*100+[$]2)*100+[$]3 }'`\n     AC_MSG_RESULT($glibcxx_gnu_ld_version)\n   fi\n \n   # Set --gc-sections.\n-  glibcxx_gcsections_min_ld=21602\n-  if test x\"$with_gnu_ld\" = x\"yes\" && \n+  glibcxx_have_gc_sections=no\n+  if test \"$glibcxx_ld_is_gold\" = \"yes\"; then\n+    if $LD --help 2>/dev/null | grep gc-sections >/dev/null 2>&1; then\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  else\n+    glibcxx_gcsections_min_ld=21602\n+    if test x\"$with_gnu_ld\" = x\"yes\" && \n \ttest $glibcxx_gnu_ld_version -gt $glibcxx_gcsections_min_ld ; then\n-\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  fi\n+  if test \"$glibcxx_have_gc_sections\" = \"yes\"; then\n     # Sufficiently young GNU ld it is!  Joy and bunny rabbits!\n     # NB: This flag only works reliably after 2.16.1. Configure tests\n     # for this are difficult, so hard wire a value that should work.\n@@ -2453,6 +2467,8 @@ changequote([,])dnl\n     AC_MSG_WARN([=== you are not using the GNU linker.])\n     AC_MSG_WARN([=== Symbol versioning will be disabled.])\n     enable_symvers=no\n+  elif test $glibcxx_ld_is_gold = yes ; then\n+    : All versions of gold support symbol versioning.\n   elif test $glibcxx_gnu_ld_version -lt $glibcxx_min_gnu_ld_version ; then\n     # The right tools, the right setup, but too old.  Fallbacks?\n     AC_MSG_WARN(=== Linker version $glibcxx_gnu_ld_version is too old for)"}, {"sha": "9996d14fc9630993d57a1a514e8d2513a2cf9276", "filename": "libstdc++-v3/aclocal.m4", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d60a2d4d2fdc2f8218c0ef7fcee4aea63953e2e8/libstdc%2B%2B-v3%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d60a2d4d2fdc2f8218c0ef7fcee4aea63953e2e8/libstdc%2B%2B-v3%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Faclocal.m4?ref=d60a2d4d2fdc2f8218c0ef7fcee4aea63953e2e8", "patch": "@@ -589,6 +589,7 @@ m4_include([../config/lib-link.m4])\n m4_include([../config/lib-prefix.m4])\n m4_include([../config/multi.m4])\n m4_include([../config/no-executables.m4])\n+m4_include([../config/proginstall.m4])\n m4_include([../config/unwind_ipinfo.m4])\n m4_include([../libtool.m4])\n m4_include([../ltoptions.m4])"}, {"sha": "9a6ec5256bbac0644a796cd0b55a14a6748b32b0", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 228, "deletions": 71, "changes": 299, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d60a2d4d2fdc2f8218c0ef7fcee4aea63953e2e8/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d60a2d4d2fdc2f8218c0ef7fcee4aea63953e2e8/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=d60a2d4d2fdc2f8218c0ef7fcee4aea63953e2e8", "patch": "@@ -1769,6 +1769,7 @@ am__api_version=\"1.9\"\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # OS/2's system install, which has a completely different semantic\n # ./install, which can be erroneously created by make from ./install.sh.\n+# Reject install programs that cannot install multiple files.\n echo \"$as_me:$LINENO: checking for a BSD-compatible install\" >&5\n echo $ECHO_N \"checking for a BSD-compatible install... $ECHO_C\" >&6\n if test -z \"$INSTALL\"; then\n@@ -1802,8 +1803,18 @@ case $as_dir/ in\n \t    # program-specific install script used by HP pwplus--don't use.\n \t    :\n \t  else\n-\t    ac_cv_path_install=\"$as_dir/$ac_prog$ac_exec_ext -c\"\n-\t    break 3\n+\t    rm -rf conftest.one conftest.two conftest.dir\n+\t    echo one > conftest.one\n+\t    echo two > conftest.two\n+\t    mkdir conftest.dir\n+\t    if \"$as_dir/$ac_prog$ac_exec_ext\" -c conftest.one conftest.two \"`pwd`/conftest.dir\" &&\n+\t      test -s conftest.one && test -s conftest.two &&\n+\t      test -s conftest.dir/conftest.one &&\n+\t      test -s conftest.dir/conftest.two\n+\t    then\n+\t      ac_cv_path_install=\"$as_dir/$ac_prog$ac_exec_ext -c\"\n+\t      break 3\n+\t    fi\n \t  fi\n \tfi\n       done\n@@ -1812,15 +1823,16 @@ case $as_dir/ in\n esac\n done\n \n+rm -rf conftest.one conftest.two conftest.dir\n \n fi\n   if test \"${ac_cv_path_install+set}\" = set; then\n     INSTALL=$ac_cv_path_install\n   else\n-    # As a last resort, use the slow shell script.  We don't cache a\n-    # path for INSTALL within a source directory, because that will\n+    # As a last resort, use the slow shell script.  Don't cache a\n+    # value for INSTALL within a source directory, because that will\n     # break other packages using the cache if that directory is\n-    # removed, or if the path is relative.\n+    # removed, or if the value is a relative name.\n     INSTALL=$ac_install_sh\n   fi\n fi\n@@ -4645,13 +4657,13 @@ if test \"${lt_cv_nm_interface+set}\" = set; then\n else\n   lt_cv_nm_interface=\"BSD nm\"\n   echo \"int some_variable = 0;\" > conftest.$ac_ext\n-  (eval echo \"\\\"\\$as_me:4648: $ac_compile\\\"\" >&5)\n+  (eval echo \"\\\"\\$as_me:4660: $ac_compile\\\"\" >&5)\n   (eval \"$ac_compile\" 2>conftest.err)\n   cat conftest.err >&5\n-  (eval echo \"\\\"\\$as_me:4651: $NM \\\\\\\"conftest.$ac_objext\\\\\\\"\\\"\" >&5)\n+  (eval echo \"\\\"\\$as_me:4663: $NM \\\\\\\"conftest.$ac_objext\\\\\\\"\\\"\" >&5)\n   (eval \"$NM \\\"conftest.$ac_objext\\\"\" 2>conftest.err > conftest.out)\n   cat conftest.err >&5\n-  (eval echo \"\\\"\\$as_me:4654: output\\\"\" >&5)\n+  (eval echo \"\\\"\\$as_me:4666: output\\\"\" >&5)\n   cat conftest.out >&5\n   if $GREP 'External.*some_variable' conftest.out > /dev/null; then\n     lt_cv_nm_interface=\"MS dumpbin\"\n@@ -5695,7 +5707,7 @@ ia64-*-hpux*)\n   ;;\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 5698 \"configure\"' > conftest.$ac_ext\n+  echo '#line 5710 \"configure\"' > conftest.$ac_ext\n   if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   (eval $ac_compile) 2>&5\n   ac_status=$?\n@@ -7157,11 +7169,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:7160: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:7172: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>conftest.err)\n    ac_status=$?\n    cat conftest.err >&5\n-   echo \"$as_me:7164: \\$? = $ac_status\" >&5\n+   echo \"$as_me:7176: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s \"$ac_outfile\"; then\n      # The compiler can only warn and ignore the option if not recognized\n      # So say no if there are warnings other than the usual output.\n@@ -7479,11 +7491,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:7482: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:7494: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>conftest.err)\n    ac_status=$?\n    cat conftest.err >&5\n-   echo \"$as_me:7486: \\$? = $ac_status\" >&5\n+   echo \"$as_me:7498: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s \"$ac_outfile\"; then\n      # The compiler can only warn and ignore the option if not recognized\n      # So say no if there are warnings other than the usual output.\n@@ -7584,11 +7596,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:7587: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:7599: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>out/conftest.err)\n    ac_status=$?\n    cat out/conftest.err >&5\n-   echo \"$as_me:7591: \\$? = $ac_status\" >&5\n+   echo \"$as_me:7603: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s out/conftest2.$ac_objext\n    then\n      # The compiler can only warn and ignore the option if not recognized\n@@ -7639,11 +7651,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:7642: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:7654: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>out/conftest.err)\n    ac_status=$?\n    cat out/conftest.err >&5\n-   echo \"$as_me:7646: \\$? = $ac_status\" >&5\n+   echo \"$as_me:7658: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s out/conftest2.$ac_objext\n    then\n      # The compiler can only warn and ignore the option if not recognized\n@@ -10491,7 +10503,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 10494 \"configure\"\n+#line 10506 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -10591,7 +10603,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 10594 \"configure\"\n+#line 10606 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -12629,11 +12641,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:12632: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:12644: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>conftest.err)\n    ac_status=$?\n    cat conftest.err >&5\n-   echo \"$as_me:12636: \\$? = $ac_status\" >&5\n+   echo \"$as_me:12648: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s \"$ac_outfile\"; then\n      # The compiler can only warn and ignore the option if not recognized\n      # So say no if there are warnings other than the usual output.\n@@ -12728,11 +12740,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:12731: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:12743: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>out/conftest.err)\n    ac_status=$?\n    cat out/conftest.err >&5\n-   echo \"$as_me:12735: \\$? = $ac_status\" >&5\n+   echo \"$as_me:12747: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s out/conftest2.$ac_objext\n    then\n      # The compiler can only warn and ignore the option if not recognized\n@@ -12780,11 +12792,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:12783: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:12795: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>out/conftest.err)\n    ac_status=$?\n    cat out/conftest.err >&5\n-   echo \"$as_me:12787: \\$? = $ac_status\" >&5\n+   echo \"$as_me:12799: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s out/conftest2.$ac_objext\n    then\n      # The compiler can only warn and ignore the option if not recognized\n@@ -13829,7 +13841,7 @@ fi;\n     #\n     # Fake what AC_TRY_COMPILE does.  XXX Look at redoing this new-style.\n     cat > conftest.$ac_ext << EOF\n-#line 13832 \"configure\"\n+#line 13844 \"configure\"\n struct S { ~S(); };\n void bar();\n void foo()\n@@ -17976,7 +17988,7 @@ ac_compiler_gnu=$ac_cv_cxx_compiler_gnu\n \n   # Fake what AC_TRY_COMPILE does.  XXX Look at redoing this new-style.\n     cat > conftest.$ac_ext << EOF\n-#line 17979 \"configure\"\n+#line 17991 \"configure\"\n int main()\n {\n   // NB: _Atomic_word not necessarily int.\n@@ -18446,12 +18458,16 @@ with_gnu_ld=$lt_cv_prog_gnu_ld\n \n   # Start by getting the version number.  I think the libtool test already\n   # does some of this, but throws away the result.\n+  glibcxx_ld_is_gold=no\n   if test x\"$with_gnu_ld\" = x\"yes\"; then\n     echo \"$as_me:$LINENO: checking for ld version\" >&5\n echo $ECHO_N \"checking for ld version... $ECHO_C\" >&6\n \n+    if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n+      glibcxx_ld_is_gold=yes\n+    fi\n     ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\3/'`\n+           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -18460,10 +18476,19 @@ echo \"${ECHO_T}$glibcxx_gnu_ld_version\" >&6\n   fi\n \n   # Set --gc-sections.\n-  glibcxx_gcsections_min_ld=21602\n-  if test x\"$with_gnu_ld\" = x\"yes\" &&\n+  glibcxx_have_gc_sections=no\n+  if test \"$glibcxx_ld_is_gold\" = \"yes\"; then\n+    if $LD --help 2>/dev/null | grep gc-sections >/dev/null 2>&1; then\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  else\n+    glibcxx_gcsections_min_ld=21602\n+    if test x\"$with_gnu_ld\" = x\"yes\" &&\n \ttest $glibcxx_gnu_ld_version -gt $glibcxx_gcsections_min_ld ; then\n-\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  fi\n+  if test \"$glibcxx_have_gc_sections\" = \"yes\"; then\n     # Sufficiently young GNU ld it is!  Joy and bunny rabbits!\n     # NB: This flag only works reliably after 2.16.1. Configure tests\n     # for this are difficult, so hard wire a value that should work.\n@@ -43171,12 +43196,16 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n   # Start by getting the version number.  I think the libtool test already\n   # does some of this, but throws away the result.\n+  glibcxx_ld_is_gold=no\n   if test x\"$with_gnu_ld\" = x\"yes\"; then\n     echo \"$as_me:$LINENO: checking for ld version\" >&5\n echo $ECHO_N \"checking for ld version... $ECHO_C\" >&6\n \n+    if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n+      glibcxx_ld_is_gold=yes\n+    fi\n     ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\3/'`\n+           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -43185,10 +43214,19 @@ echo \"${ECHO_T}$glibcxx_gnu_ld_version\" >&6\n   fi\n \n   # Set --gc-sections.\n-  glibcxx_gcsections_min_ld=21602\n-  if test x\"$with_gnu_ld\" = x\"yes\" &&\n+  glibcxx_have_gc_sections=no\n+  if test \"$glibcxx_ld_is_gold\" = \"yes\"; then\n+    if $LD --help 2>/dev/null | grep gc-sections >/dev/null 2>&1; then\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  else\n+    glibcxx_gcsections_min_ld=21602\n+    if test x\"$with_gnu_ld\" = x\"yes\" &&\n \ttest $glibcxx_gnu_ld_version -gt $glibcxx_gcsections_min_ld ; then\n-\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  fi\n+  if test \"$glibcxx_have_gc_sections\" = \"yes\"; then\n     # Sufficiently young GNU ld it is!  Joy and bunny rabbits!\n     # NB: This flag only works reliably after 2.16.1. Configure tests\n     # for this are difficult, so hard wire a value that should work.\n@@ -85562,12 +85600,16 @@ done\n \n   # Start by getting the version number.  I think the libtool test already\n   # does some of this, but throws away the result.\n+  glibcxx_ld_is_gold=no\n   if test x\"$with_gnu_ld\" = x\"yes\"; then\n     echo \"$as_me:$LINENO: checking for ld version\" >&5\n echo $ECHO_N \"checking for ld version... $ECHO_C\" >&6\n \n+    if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n+      glibcxx_ld_is_gold=yes\n+    fi\n     ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\3/'`\n+           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -85576,10 +85618,19 @@ echo \"${ECHO_T}$glibcxx_gnu_ld_version\" >&6\n   fi\n \n   # Set --gc-sections.\n-  glibcxx_gcsections_min_ld=21602\n-  if test x\"$with_gnu_ld\" = x\"yes\" &&\n+  glibcxx_have_gc_sections=no\n+  if test \"$glibcxx_ld_is_gold\" = \"yes\"; then\n+    if $LD --help 2>/dev/null | grep gc-sections >/dev/null 2>&1; then\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  else\n+    glibcxx_gcsections_min_ld=21602\n+    if test x\"$with_gnu_ld\" = x\"yes\" &&\n \ttest $glibcxx_gnu_ld_version -gt $glibcxx_gcsections_min_ld ; then\n-\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  fi\n+  if test \"$glibcxx_have_gc_sections\" = \"yes\"; then\n     # Sufficiently young GNU ld it is!  Joy and bunny rabbits!\n     # NB: This flag only works reliably after 2.16.1. Configure tests\n     # for this are difficult, so hard wire a value that should work.\n@@ -86578,12 +86629,16 @@ done\n \n   # Start by getting the version number.  I think the libtool test already\n   # does some of this, but throws away the result.\n+  glibcxx_ld_is_gold=no\n   if test x\"$with_gnu_ld\" = x\"yes\"; then\n     echo \"$as_me:$LINENO: checking for ld version\" >&5\n echo $ECHO_N \"checking for ld version... $ECHO_C\" >&6\n \n+    if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n+      glibcxx_ld_is_gold=yes\n+    fi\n     ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\3/'`\n+           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -86592,10 +86647,19 @@ echo \"${ECHO_T}$glibcxx_gnu_ld_version\" >&6\n   fi\n \n   # Set --gc-sections.\n-  glibcxx_gcsections_min_ld=21602\n-  if test x\"$with_gnu_ld\" = x\"yes\" &&\n+  glibcxx_have_gc_sections=no\n+  if test \"$glibcxx_ld_is_gold\" = \"yes\"; then\n+    if $LD --help 2>/dev/null | grep gc-sections >/dev/null 2>&1; then\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  else\n+    glibcxx_gcsections_min_ld=21602\n+    if test x\"$with_gnu_ld\" = x\"yes\" &&\n \ttest $glibcxx_gnu_ld_version -gt $glibcxx_gcsections_min_ld ; then\n-\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  fi\n+  if test \"$glibcxx_have_gc_sections\" = \"yes\"; then\n     # Sufficiently young GNU ld it is!  Joy and bunny rabbits!\n     # NB: This flag only works reliably after 2.16.1. Configure tests\n     # for this are difficult, so hard wire a value that should work.\n@@ -87566,12 +87630,16 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n   # Start by getting the version number.  I think the libtool test already\n   # does some of this, but throws away the result.\n+  glibcxx_ld_is_gold=no\n   if test x\"$with_gnu_ld\" = x\"yes\"; then\n     echo \"$as_me:$LINENO: checking for ld version\" >&5\n echo $ECHO_N \"checking for ld version... $ECHO_C\" >&6\n \n+    if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n+      glibcxx_ld_is_gold=yes\n+    fi\n     ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\3/'`\n+           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -87580,10 +87648,19 @@ echo \"${ECHO_T}$glibcxx_gnu_ld_version\" >&6\n   fi\n \n   # Set --gc-sections.\n-  glibcxx_gcsections_min_ld=21602\n-  if test x\"$with_gnu_ld\" = x\"yes\" &&\n+  glibcxx_have_gc_sections=no\n+  if test \"$glibcxx_ld_is_gold\" = \"yes\"; then\n+    if $LD --help 2>/dev/null | grep gc-sections >/dev/null 2>&1; then\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  else\n+    glibcxx_gcsections_min_ld=21602\n+    if test x\"$with_gnu_ld\" = x\"yes\" &&\n \ttest $glibcxx_gnu_ld_version -gt $glibcxx_gcsections_min_ld ; then\n-\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  fi\n+  if test \"$glibcxx_have_gc_sections\" = \"yes\"; then\n     # Sufficiently young GNU ld it is!  Joy and bunny rabbits!\n     # NB: This flag only works reliably after 2.16.1. Configure tests\n     # for this are difficult, so hard wire a value that should work.\n@@ -110053,12 +110130,16 @@ _ACEOF\n \n   # Start by getting the version number.  I think the libtool test already\n   # does some of this, but throws away the result.\n+  glibcxx_ld_is_gold=no\n   if test x\"$with_gnu_ld\" = x\"yes\"; then\n     echo \"$as_me:$LINENO: checking for ld version\" >&5\n echo $ECHO_N \"checking for ld version... $ECHO_C\" >&6\n \n+    if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n+      glibcxx_ld_is_gold=yes\n+    fi\n     ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\3/'`\n+           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -110067,10 +110148,19 @@ echo \"${ECHO_T}$glibcxx_gnu_ld_version\" >&6\n   fi\n \n   # Set --gc-sections.\n-  glibcxx_gcsections_min_ld=21602\n-  if test x\"$with_gnu_ld\" = x\"yes\" &&\n+  glibcxx_have_gc_sections=no\n+  if test \"$glibcxx_ld_is_gold\" = \"yes\"; then\n+    if $LD --help 2>/dev/null | grep gc-sections >/dev/null 2>&1; then\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  else\n+    glibcxx_gcsections_min_ld=21602\n+    if test x\"$with_gnu_ld\" = x\"yes\" &&\n \ttest $glibcxx_gnu_ld_version -gt $glibcxx_gcsections_min_ld ; then\n-\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  fi\n+  if test \"$glibcxx_have_gc_sections\" = \"yes\"; then\n     # Sufficiently young GNU ld it is!  Joy and bunny rabbits!\n     # NB: This flag only works reliably after 2.16.1. Configure tests\n     # for this are difficult, so hard wire a value that should work.\n@@ -110898,12 +110988,16 @@ done\n \n   # Start by getting the version number.  I think the libtool test already\n   # does some of this, but throws away the result.\n+  glibcxx_ld_is_gold=no\n   if test x\"$with_gnu_ld\" = x\"yes\"; then\n     echo \"$as_me:$LINENO: checking for ld version\" >&5\n echo $ECHO_N \"checking for ld version... $ECHO_C\" >&6\n \n+    if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n+      glibcxx_ld_is_gold=yes\n+    fi\n     ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\3/'`\n+           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -110912,10 +111006,19 @@ echo \"${ECHO_T}$glibcxx_gnu_ld_version\" >&6\n   fi\n \n   # Set --gc-sections.\n-  glibcxx_gcsections_min_ld=21602\n-  if test x\"$with_gnu_ld\" = x\"yes\" &&\n+  glibcxx_have_gc_sections=no\n+  if test \"$glibcxx_ld_is_gold\" = \"yes\"; then\n+    if $LD --help 2>/dev/null | grep gc-sections >/dev/null 2>&1; then\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  else\n+    glibcxx_gcsections_min_ld=21602\n+    if test x\"$with_gnu_ld\" = x\"yes\" &&\n \ttest $glibcxx_gnu_ld_version -gt $glibcxx_gcsections_min_ld ; then\n-\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  fi\n+  if test \"$glibcxx_have_gc_sections\" = \"yes\"; then\n     # Sufficiently young GNU ld it is!  Joy and bunny rabbits!\n     # NB: This flag only works reliably after 2.16.1. Configure tests\n     # for this are difficult, so hard wire a value that should work.\n@@ -111792,12 +111895,16 @@ done\n \n   # Start by getting the version number.  I think the libtool test already\n   # does some of this, but throws away the result.\n+  glibcxx_ld_is_gold=no\n   if test x\"$with_gnu_ld\" = x\"yes\"; then\n     echo \"$as_me:$LINENO: checking for ld version\" >&5\n echo $ECHO_N \"checking for ld version... $ECHO_C\" >&6\n \n+    if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n+      glibcxx_ld_is_gold=yes\n+    fi\n     ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\3/'`\n+           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -111806,10 +111913,19 @@ echo \"${ECHO_T}$glibcxx_gnu_ld_version\" >&6\n   fi\n \n   # Set --gc-sections.\n-  glibcxx_gcsections_min_ld=21602\n-  if test x\"$with_gnu_ld\" = x\"yes\" &&\n+  glibcxx_have_gc_sections=no\n+  if test \"$glibcxx_ld_is_gold\" = \"yes\"; then\n+    if $LD --help 2>/dev/null | grep gc-sections >/dev/null 2>&1; then\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  else\n+    glibcxx_gcsections_min_ld=21602\n+    if test x\"$with_gnu_ld\" = x\"yes\" &&\n \ttest $glibcxx_gnu_ld_version -gt $glibcxx_gcsections_min_ld ; then\n-\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  fi\n+  if test \"$glibcxx_have_gc_sections\" = \"yes\"; then\n     # Sufficiently young GNU ld it is!  Joy and bunny rabbits!\n     # NB: This flag only works reliably after 2.16.1. Configure tests\n     # for this are difficult, so hard wire a value that should work.\n@@ -113078,12 +113194,16 @@ echo \"${ECHO_T}$glibcxx_cv_WRITEV\" >&6\n \n   # Start by getting the version number.  I think the libtool test already\n   # does some of this, but throws away the result.\n+  glibcxx_ld_is_gold=no\n   if test x\"$with_gnu_ld\" = x\"yes\"; then\n     echo \"$as_me:$LINENO: checking for ld version\" >&5\n echo $ECHO_N \"checking for ld version... $ECHO_C\" >&6\n \n+    if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n+      glibcxx_ld_is_gold=yes\n+    fi\n     ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\3/'`\n+           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -113092,10 +113212,19 @@ echo \"${ECHO_T}$glibcxx_gnu_ld_version\" >&6\n   fi\n \n   # Set --gc-sections.\n-  glibcxx_gcsections_min_ld=21602\n-  if test x\"$with_gnu_ld\" = x\"yes\" &&\n+  glibcxx_have_gc_sections=no\n+  if test \"$glibcxx_ld_is_gold\" = \"yes\"; then\n+    if $LD --help 2>/dev/null | grep gc-sections >/dev/null 2>&1; then\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  else\n+    glibcxx_gcsections_min_ld=21602\n+    if test x\"$with_gnu_ld\" = x\"yes\" &&\n \ttest $glibcxx_gnu_ld_version -gt $glibcxx_gcsections_min_ld ; then\n-\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  fi\n+  if test \"$glibcxx_have_gc_sections\" = \"yes\"; then\n     # Sufficiently young GNU ld it is!  Joy and bunny rabbits!\n     # NB: This flag only works reliably after 2.16.1. Configure tests\n     # for this are difficult, so hard wire a value that should work.\n@@ -113814,12 +113943,16 @@ _ACEOF\n \n   # Start by getting the version number.  I think the libtool test already\n   # does some of this, but throws away the result.\n+  glibcxx_ld_is_gold=no\n   if test x\"$with_gnu_ld\" = x\"yes\"; then\n     echo \"$as_me:$LINENO: checking for ld version\" >&5\n echo $ECHO_N \"checking for ld version... $ECHO_C\" >&6\n \n+    if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n+      glibcxx_ld_is_gold=yes\n+    fi\n     ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\3/'`\n+           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -113828,10 +113961,19 @@ echo \"${ECHO_T}$glibcxx_gnu_ld_version\" >&6\n   fi\n \n   # Set --gc-sections.\n-  glibcxx_gcsections_min_ld=21602\n-  if test x\"$with_gnu_ld\" = x\"yes\" &&\n+  glibcxx_have_gc_sections=no\n+  if test \"$glibcxx_ld_is_gold\" = \"yes\"; then\n+    if $LD --help 2>/dev/null | grep gc-sections >/dev/null 2>&1; then\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  else\n+    glibcxx_gcsections_min_ld=21602\n+    if test x\"$with_gnu_ld\" = x\"yes\" &&\n \ttest $glibcxx_gnu_ld_version -gt $glibcxx_gcsections_min_ld ; then\n-\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  fi\n+  if test \"$glibcxx_have_gc_sections\" = \"yes\"; then\n     # Sufficiently young GNU ld it is!  Joy and bunny rabbits!\n     # NB: This flag only works reliably after 2.16.1. Configure tests\n     # for this are difficult, so hard wire a value that should work.\n@@ -114315,12 +114457,16 @@ done\n \n   # Start by getting the version number.  I think the libtool test already\n   # does some of this, but throws away the result.\n+  glibcxx_ld_is_gold=no\n   if test x\"$with_gnu_ld\" = x\"yes\"; then\n     echo \"$as_me:$LINENO: checking for ld version\" >&5\n echo $ECHO_N \"checking for ld version... $ECHO_C\" >&6\n \n+    if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n+      glibcxx_ld_is_gold=yes\n+    fi\n     ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\3/'`\n+           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -114329,10 +114475,19 @@ echo \"${ECHO_T}$glibcxx_gnu_ld_version\" >&6\n   fi\n \n   # Set --gc-sections.\n-  glibcxx_gcsections_min_ld=21602\n-  if test x\"$with_gnu_ld\" = x\"yes\" &&\n+  glibcxx_have_gc_sections=no\n+  if test \"$glibcxx_ld_is_gold\" = \"yes\"; then\n+    if $LD --help 2>/dev/null | grep gc-sections >/dev/null 2>&1; then\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  else\n+    glibcxx_gcsections_min_ld=21602\n+    if test x\"$with_gnu_ld\" = x\"yes\" &&\n \ttest $glibcxx_gnu_ld_version -gt $glibcxx_gcsections_min_ld ; then\n-\n+      glibcxx_have_gc_sections=yes\n+    fi\n+  fi\n+  if test \"$glibcxx_have_gc_sections\" = \"yes\"; then\n     # Sufficiently young GNU ld it is!  Joy and bunny rabbits!\n     # NB: This flag only works reliably after 2.16.1. Configure tests\n     # for this are difficult, so hard wire a value that should work.\n@@ -115829,6 +115984,8 @@ echo \"$as_me: WARNING: === you are not using the GNU linker.\" >&2;}\n     { echo \"$as_me:$LINENO: WARNING: === Symbol versioning will be disabled.\" >&5\n echo \"$as_me: WARNING: === Symbol versioning will be disabled.\" >&2;}\n     enable_symvers=no\n+  elif test $glibcxx_ld_is_gold = yes ; then\n+    : All versions of gold support symbol versioning.\n   elif test $glibcxx_gnu_ld_version -lt $glibcxx_min_gnu_ld_version ; then\n     # The right tools, the right setup, but too old.  Fallbacks?\n     { echo \"$as_me:$LINENO: WARNING: === Linker version $glibcxx_gnu_ld_version is too old for\" >&5"}]}