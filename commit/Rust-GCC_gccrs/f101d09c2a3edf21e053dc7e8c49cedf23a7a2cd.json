{"sha": "f101d09c2a3edf21e053dc7e8c49cedf23a7a2cd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjEwMWQwOWMyYTNlZGYyMWUwNTNkYzdlOGM0OWNlZGYyM2E3YTJjZA==", "commit": {"author": {"name": "Evgeny Stupachenko", "email": "evstupac@gmail.com", "date": "2014-11-28T14:45:26Z"}, "committer": {"name": "Ilya Enkovich", "email": "ienkovich@gcc.gnu.org", "date": "2014-11-28T14:45:26Z"}, "message": "tree-vect-data-refs.c (vect_transform_grouped_load): Limit shift permutations to loads group of size 3.\n\ngcc/\n\t* tree-vect-data-refs.c (vect_transform_grouped_load): Limit shift\n\tpermutations to loads group of size 3.\n\ngcc/testsuite/\n\n\t* gcc.target/i386/pr52252-atom-1.c: Delete.\n\nFrom-SVN: r218160", "tree": {"sha": "806a665282a94fc5c610cc6e2ef3a45551e1306f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/806a665282a94fc5c610cc6e2ef3a45551e1306f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f101d09c2a3edf21e053dc7e8c49cedf23a7a2cd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f101d09c2a3edf21e053dc7e8c49cedf23a7a2cd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f101d09c2a3edf21e053dc7e8c49cedf23a7a2cd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f101d09c2a3edf21e053dc7e8c49cedf23a7a2cd/comments", "author": {"login": "evstupac", "id": 38332307, "node_id": "MDQ6VXNlcjM4MzMyMzA3", "avatar_url": "https://avatars.githubusercontent.com/u/38332307?v=4", "gravatar_id": "", "url": "https://api.github.com/users/evstupac", "html_url": "https://github.com/evstupac", "followers_url": "https://api.github.com/users/evstupac/followers", "following_url": "https://api.github.com/users/evstupac/following{/other_user}", "gists_url": "https://api.github.com/users/evstupac/gists{/gist_id}", "starred_url": "https://api.github.com/users/evstupac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/evstupac/subscriptions", "organizations_url": "https://api.github.com/users/evstupac/orgs", "repos_url": "https://api.github.com/users/evstupac/repos", "events_url": "https://api.github.com/users/evstupac/events{/privacy}", "received_events_url": "https://api.github.com/users/evstupac/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "3403c4c78e001dd78904d4884647904a02c36c52", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3403c4c78e001dd78904d4884647904a02c36c52", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3403c4c78e001dd78904d4884647904a02c36c52"}], "stats": {"total": 32, "additions": 10, "deletions": 22}, "files": [{"sha": "e77895161cafe8ef3d88039f871ab07a42067752", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f101d09c2a3edf21e053dc7e8c49cedf23a7a2cd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f101d09c2a3edf21e053dc7e8c49cedf23a7a2cd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f101d09c2a3edf21e053dc7e8c49cedf23a7a2cd", "patch": "@@ -1,3 +1,8 @@\n+2014-11-28  Evgeny Stupachenko  <evstupac@gmail.com>\n+\n+\t* tree-vect-data-refs.c (vect_transform_grouped_load): Limit shift\n+\tpermutations to loads group of size 3.\n+\n 2014-11-28  Jiong Wang  <jiong.wang@arm.com>\n \n \t* config/arm/arm.md (copysignsf3): New pattern."}, {"sha": "14302b71688008bebc63b8db8ece01ae44f18493", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f101d09c2a3edf21e053dc7e8c49cedf23a7a2cd/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f101d09c2a3edf21e053dc7e8c49cedf23a7a2cd/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f101d09c2a3edf21e053dc7e8c49cedf23a7a2cd", "patch": "@@ -1,3 +1,7 @@\n+2014-11-28  Evgeny Stupachenko  <evstupac@gmail.com>\n+\n+\t* gcc.target/i386/pr52252-atom-1.c: Delete.\n+\n 2014-11-28  Jiong Wang  <jiong.wang@arm.com>\n \n \t* gcc.target/arm/copysign_softfloat_1.c: New copysign/copysignf"}, {"sha": "020e9834470960b2b88f940153a2fa48e3ff216d", "filename": "gcc/testsuite/gcc.target/i386/pr52252-atom-1.c", "status": "removed", "additions": 0, "deletions": 22, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3403c4c78e001dd78904d4884647904a02c36c52/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr52252-atom-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3403c4c78e001dd78904d4884647904a02c36c52/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr52252-atom-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr52252-atom-1.c?ref=3403c4c78e001dd78904d4884647904a02c36c52", "patch": "@@ -1,22 +0,0 @@\n-/* { dg-do compile } */\n-/* { dg-require-effective-target ssse3 } */\n-/* { dg-options \"-O2 -ftree-vectorize -mssse3 -mtune=slm\" } */\n-#define byte unsigned char\n-\n-void\n-pair_mul_sum(byte *in, byte *out, int size)\n-{\n-  int j;\n-  for(j = 0; j < size; j++)\n-    {\n-      byte a = in[0];\n-      byte b = in[1];\n-      byte c = in[2];\n-      byte d = in[3];\n-      out[0] = (byte)(a * b) + (byte)(b * c) + (byte)(c * d) + (byte)(d * a);\n-      in += 4;\n-      out += 1;\n-    }\n-}\n-\n-/* { dg-final { scan-assembler \"perm2i128|palignr\" } } */"}, {"sha": "3eb20fc9685b1a0a6df6872d1dda1b757428f882", "filename": "gcc/tree-vect-data-refs.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f101d09c2a3edf21e053dc7e8c49cedf23a7a2cd/gcc%2Ftree-vect-data-refs.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f101d09c2a3edf21e053dc7e8c49cedf23a7a2cd/gcc%2Ftree-vect-data-refs.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-data-refs.c?ref=f101d09c2a3edf21e053dc7e8c49cedf23a7a2cd", "patch": "@@ -5617,6 +5617,7 @@ vect_transform_grouped_load (gimple stmt, vec<tree> dr_chain, int size,\n      get chain for loads group using vect_shift_permute_load_chain.  */\n   mode = TYPE_MODE (STMT_VINFO_VECTYPE (vinfo_for_stmt (stmt)));\n   if (targetm.sched.reassociation_width (VEC_PERM_EXPR, mode) > 1\n+      || exact_log2 (size) != -1\n       || !vect_shift_permute_load_chain (dr_chain, size, stmt,\n \t\t\t\t\t gsi, &result_chain))\n     vect_permute_load_chain (dr_chain, size, stmt, gsi, &result_chain);"}]}