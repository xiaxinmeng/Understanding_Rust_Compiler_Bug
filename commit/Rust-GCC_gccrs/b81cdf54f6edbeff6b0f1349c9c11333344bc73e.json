{"sha": "b81cdf54f6edbeff6b0f1349c9c11333344bc73e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjgxY2RmNTRmNmVkYmVmZjZiMGYxMzQ5YzljMTEzMzMzNDRiYzczZQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-11-22T03:21:24Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-11-22T03:21:24Z"}, "message": "(output_constant): When eliminating conversions, treat ARRAY_TYPE like\na record.\n\nFrom-SVN: r8546", "tree": {"sha": "48f062b221b2a8e351bd9ffa3e539710d8aede99", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/48f062b221b2a8e351bd9ffa3e539710d8aede99"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b81cdf54f6edbeff6b0f1349c9c11333344bc73e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b81cdf54f6edbeff6b0f1349c9c11333344bc73e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b81cdf54f6edbeff6b0f1349c9c11333344bc73e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b81cdf54f6edbeff6b0f1349c9c11333344bc73e/comments", "author": null, "committer": null, "parents": [{"sha": "ac7400c632c4fc3da45180958f693bb69acc24bd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac7400c632c4fc3da45180958f693bb69acc24bd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ac7400c632c4fc3da45180958f693bb69acc24bd"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "d0733d34f5e2b8ee75bfbdfa4658733ef417e031", "filename": "gcc/varasm.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b81cdf54f6edbeff6b0f1349c9c11333344bc73e/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b81cdf54f6edbeff6b0f1349c9c11333344bc73e/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=b81cdf54f6edbeff6b0f1349c9c11333344bc73e", "patch": "@@ -3390,10 +3390,11 @@ output_constant (exp, size)\n     return;\n \n   /* Eliminate the NON_LVALUE_EXPR_EXPR that makes a cast not be an lvalue.\n-     That way we get the constant (we hope) inside it.  Also, strip\n-     off any NOP_EXPR that converts between two record or union types.  */\n+     That way we get the constant (we hope) inside it.  Also, strip off any\n+     NOP_EXPR that converts between two record, union, or array types.  */\n   while ((TREE_CODE (exp) == NOP_EXPR \n \t  && (TREE_TYPE (exp) == TREE_TYPE (TREE_OPERAND (exp, 0))\n+\t      || TREE_CODE (TREE_TYPE (exp)) == ARRAY_TYPE\n \t      || TREE_CODE (TREE_TYPE (exp)) == RECORD_TYPE\n \t      || TREE_CODE (TREE_TYPE (exp)) == UNION_TYPE\n \t      || TREE_CODE (TREE_TYPE (exp)) == QUAL_UNION_TYPE))"}]}