{"sha": "cce4884b8a8f99e2f65c64b924d20f0e9fe95f00", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2NlNDg4NGI4YThmOTllMmY2NWM2NGI5MjRkMjBmMGU5ZmU5NWYwMA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2005-03-25T23:24:57Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2005-03-25T23:24:57Z"}, "message": "libstdc++.exp (libstdc++_init): Define LOCALEDIR when testing an installed compiler.\n\n\t* testsuite/lib/libstdc++.exp (libstdc++_init): Define LOCALEDIR\n\twhen testing an installed compiler.\n\nFrom-SVN: r97070", "tree": {"sha": "bd45ac05a3603570393b6abc676ad955443e7df9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bd45ac05a3603570393b6abc676ad955443e7df9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cce4884b8a8f99e2f65c64b924d20f0e9fe95f00", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cce4884b8a8f99e2f65c64b924d20f0e9fe95f00", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cce4884b8a8f99e2f65c64b924d20f0e9fe95f00", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cce4884b8a8f99e2f65c64b924d20f0e9fe95f00/comments", "author": null, "committer": null, "parents": [{"sha": "7b4047a0de197032655bdb45aba1d948614514a3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b4047a0de197032655bdb45aba1d948614514a3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b4047a0de197032655bdb45aba1d948614514a3"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "8424ae590159403b2bad785694e56a677dc4187b", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cce4884b8a8f99e2f65c64b924d20f0e9fe95f00/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cce4884b8a8f99e2f65c64b924d20f0e9fe95f00/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=cce4884b8a8f99e2f65c64b924d20f0e9fe95f00", "patch": "@@ -1,5 +1,8 @@\n 2005-03-25  Mark Mitchell  <mark@codesourcery.com>\n \n+\t* testsuite/lib/libstdc++.exp (libstdc++_init): Define LOCALEDIR\n+\twhen testing an installed compiler.\n+\t\n \t* testsuite/lib/libstdc++.exp (v3-build_support): Pass -w when\n \tcompiling support objects.\n "}, {"sha": "2f36c7faa55b40d1458281a397c2aad732d356e1", "filename": "libstdc++-v3/testsuite/lib/libstdc++.exp", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cce4884b8a8f99e2f65c64b924d20f0e9fe95f00/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cce4884b8a8f99e2f65c64b924d20f0e9fe95f00/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp?ref=cce4884b8a8f99e2f65c64b924d20f0e9fe95f00", "patch": "@@ -183,6 +183,14 @@ proc libstdc++_init { testfile } {\n             set cxx [transform \"g++\"]\n             set cxxflags \"-g -O2 -D_GLIBCXX_ASSERT -fmessage-length=0\" \n             set includes \"-I${srcdir}\"\n+\t    # Guess at the location of the installed locale files.\n+\t    # (It would be nice if \"gcc --print-file-name\" could find\n+\t    # message files, but it cannot.)\n+\t    set absolute_cxx [which $cxx]\n+\t    if { $absolute_cxx != \"\" } {\n+\t\tset localedir \"[file dirname $absolute_cxx]/../share/locale\"\n+\t    }\n+\t    set cxxflags \"$cxxflags -DLOCALEDIR=\\\"$localedir\\\"\"\n         }\n     }\n "}]}