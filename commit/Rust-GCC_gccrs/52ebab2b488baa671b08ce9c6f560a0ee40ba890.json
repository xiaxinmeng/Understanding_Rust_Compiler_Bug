{"sha": "52ebab2b488baa671b08ce9c6f560a0ee40ba890", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTJlYmFiMmI0ODhiYWE2NzFiMDhjZTljNmY1NjBhMGVlNDBiYTg5MA==", "commit": {"author": {"name": "Janis Johnson", "email": "janis187@us.ibm.com", "date": "2008-11-06T00:05:09Z"}, "committer": {"name": "Janis Johnson", "email": "janis@gcc.gnu.org", "date": "2008-11-06T00:05:09Z"}, "message": "sourcebuild.texi (Torture Tests): Add ADDITIONAL_TORTURE_OPTIONS.\n\ngcc/\n\t* doc/sourcebuild.texi (Torture Tests): Add ADDITIONAL_TORTURE_OPTIONS.\ngcc/testsuite/\n\t* lib/c-torture.exp: Use ADDITIONAL_TORTURE_OPTIONS if defined.\n\t* lib/gcc-dg.exp: Ditto.\n\t* lib/fortran-torture.exp: Ditto.\n\t* lib/objc-torture.exp: Ditto.\n\nFrom-SVN: r141630", "tree": {"sha": "8ab39492dc0703b4cda6a41a5b7f46f65be73746", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8ab39492dc0703b4cda6a41a5b7f46f65be73746"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/52ebab2b488baa671b08ce9c6f560a0ee40ba890", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52ebab2b488baa671b08ce9c6f560a0ee40ba890", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52ebab2b488baa671b08ce9c6f560a0ee40ba890", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52ebab2b488baa671b08ce9c6f560a0ee40ba890/comments", "author": null, "committer": null, "parents": [{"sha": "35351a413b5a289c7301dbfd0e2291e95530b198", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/35351a413b5a289c7301dbfd0e2291e95530b198", "html_url": "https://github.com/Rust-GCC/gccrs/commit/35351a413b5a289c7301dbfd0e2291e95530b198"}], "stats": {"total": 40, "additions": 39, "deletions": 1}, "files": [{"sha": "a3d262965dd93a0e8ef62302da9966bd57101c08", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52ebab2b488baa671b08ce9c6f560a0ee40ba890/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52ebab2b488baa671b08ce9c6f560a0ee40ba890/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=52ebab2b488baa671b08ce9c6f560a0ee40ba890", "patch": "@@ -1,3 +1,7 @@\n+2008-11-05  Janis Johnson  <janis187@us.ibm.com>\n+\n+\t* doc/sourcebuild.texi (Torture Tests): Add ADDITIONAL_TORTURE_OPTIONS.\n+\n 2008-11-06  Ben Elliston  <bje@au.ibm.com>\t\n \n \t* config/rs6000/rs6000.c (rs6000_override_options): Comment fix."}, {"sha": "e0ed42f19d55835b251f43bf72c4daa42b8432f5", "filename": "gcc/doc/sourcebuild.texi", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52ebab2b488baa671b08ce9c6f560a0ee40ba890/gcc%2Fdoc%2Fsourcebuild.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52ebab2b488baa671b08ce9c6f560a0ee40ba890/gcc%2Fdoc%2Fsourcebuild.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fsourcebuild.texi?ref=52ebab2b488baa671b08ce9c6f560a0ee40ba890", "patch": "@@ -1573,4 +1573,12 @@ to call the torture procedures if the tests should use the list in\n @var{DG_TORTURE_OPTIONS} defined in @file{gcc-dg.exp}.\n \n Most uses of torture options can override the default lists by defining\n-@var{TORTURE_OPTIONS} in a @file{.dejagnurc} file.\n+@var{TORTURE_OPTIONS} or add to the default list by defining\n+@var{ADDITIONAL_TORTURE_OPTIONS}.  Define these in a @file{.dejagnurc}\n+file or add them to the @file{site.exp} file; for example\n+\n+@smallexample\n+set ADDITIONAL_TORTURE_OPTIONS  [list @\\\n+  @{ -O2 -ftree-loop-linear @} @\\\n+  @{ -O2 -fpeel-loops @} ]\n+@end smallexample"}, {"sha": "76de5b93aefb67ae4d77f6dd184bda5e4a444da6", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52ebab2b488baa671b08ce9c6f560a0ee40ba890/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52ebab2b488baa671b08ce9c6f560a0ee40ba890/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=52ebab2b488baa671b08ce9c6f560a0ee40ba890", "patch": "@@ -1,3 +1,10 @@\n+2008-11-05  Janis Johnson  <janis187@us.ibm.com>\n+\n+\t* lib/c-torture.exp: Use ADDITIONAL_TORTURE_OPTIONS if defined.\n+\t* lib/gcc-dg.exp: Ditto.\n+\t* lib/fortran-torture.exp: Ditto.\n+\t* lib/objc-torture.exp: Ditto.\n+\n 2008-11-05  Michael Meissner  <meissner@linux.vnet.ibm.com>\n \n \tPR target/38025"}, {"sha": "bfc6a566567cfb7bd1b2ad1a650c3f4c178c7c89", "filename": "gcc/testsuite/lib/c-torture.exp", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52ebab2b488baa671b08ce9c6f560a0ee40ba890/gcc%2Ftestsuite%2Flib%2Fc-torture.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52ebab2b488baa671b08ce9c6f560a0ee40ba890/gcc%2Ftestsuite%2Flib%2Fc-torture.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fc-torture.exp?ref=52ebab2b488baa671b08ce9c6f560a0ee40ba890", "patch": "@@ -43,6 +43,11 @@ if [info exists TORTURE_OPTIONS] {\n \t{ -Os } ]\n }\n \n+if [info exists ADDITIONAL_TORTURE_OPTIONS] {\n+    set C_TORTURE_OPTIONS \\\n+\t[concat $C_TORTURE_OPTIONS $ADDITIONAL_TORTURE_OPTIONS]\n+}\n+\n global GCC_UNDER_TEST\n if ![info exists GCC_UNDER_TEST] {\n     set GCC_UNDER_TEST \"[find_gcc]\""}, {"sha": "1e92d1019117b4331d67397428249c9a65858e9a", "filename": "gcc/testsuite/lib/fortran-torture.exp", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52ebab2b488baa671b08ce9c6f560a0ee40ba890/gcc%2Ftestsuite%2Flib%2Ffortran-torture.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52ebab2b488baa671b08ce9c6f560a0ee40ba890/gcc%2Ftestsuite%2Flib%2Ffortran-torture.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ffortran-torture.exp?ref=52ebab2b488baa671b08ce9c6f560a0ee40ba890", "patch": "@@ -82,6 +82,10 @@ proc get-fortran-torture-options { } {\n \tlappend options $vectorizer_options\n     }\n \n+    if [info exists ADDITIONAL_TORTURE_OPTIONS] {\n+\tset options [concat $options $ADDITIONAL_TORTURE_OPTIONS]\n+    }\n+\n     return $options\n }\n "}, {"sha": "5d1efbb1763f69bb6030c1e9ed6e05c47d1c6cd7", "filename": "gcc/testsuite/lib/gcc-dg.exp", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52ebab2b488baa671b08ce9c6f560a0ee40ba890/gcc%2Ftestsuite%2Flib%2Fgcc-dg.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52ebab2b488baa671b08ce9c6f560a0ee40ba890/gcc%2Ftestsuite%2Flib%2Fgcc-dg.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fgcc-dg.exp?ref=52ebab2b488baa671b08ce9c6f560a0ee40ba890", "patch": "@@ -53,6 +53,11 @@ if [info exists TORTURE_OPTIONS] {\n \t{ -Os } ]\n }\n \n+if [info exists ADDITIONAL_TORTURE_OPTIONS] {\n+    set DG_TORTURE_OPTIONS \\\n+\t[concat $DG_TORTURE_OPTIONS $ADDITIONAL_TORTURE_OPTIONS]\n+}\n+\n global GCC_UNDER_TEST\n if ![info exists GCC_UNDER_TEST] {\n     set GCC_UNDER_TEST \"[find_gcc]\""}, {"sha": "0d031590cfc27601f01a6ab25ca188d9c313dcc4", "filename": "gcc/testsuite/lib/objc-torture.exp", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52ebab2b488baa671b08ce9c6f560a0ee40ba890/gcc%2Ftestsuite%2Flib%2Fobjc-torture.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52ebab2b488baa671b08ce9c6f560a0ee40ba890/gcc%2Ftestsuite%2Flib%2Fobjc-torture.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fobjc-torture.exp?ref=52ebab2b488baa671b08ce9c6f560a0ee40ba890", "patch": "@@ -60,6 +60,11 @@ if [info exists TORTURE_OPTIONS] {\n \t\" -Os \" ]\n }\n \n+if [info exists ADDITIONAL_TORTURE_OPTIONS] {\n+  set OBJC_TORTURE_OPTIONS \\\n+\t[concat $OBJC_TORTURE_OPTIONS $ADDITIONAL_TORTURE_OPTIONS]\n+}\n+\n #\n # objc-torture-compile -- runs the Tege OBJC-torture test\n #"}]}