{"sha": "0e26cf7972346f2d75ad9eb8fb3984f104ac2079", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGUyNmNmNzk3MjM0NmYyZDc1YWQ5ZWI4ZmIzOTg0ZjEwNGFjMjA3OQ==", "commit": {"author": {"name": "Christian Bruel", "email": "chrbr@gcc.gnu.org", "date": "2013-09-23T08:30:00Z"}, "committer": {"name": "Christian Bruel", "email": "chrbr@gcc.gnu.org", "date": "2013-09-23T08:30:00Z"}, "message": "re PR target/58475 (SH4 insn swapb does not satisfy its constraints:)\n\n2013-09-23  Christian Bruel  <christian.bruel@st.com>\n\n        PR target/58475\n        * config/sh/sh.md (movsf_ie): Allow fpul_operand.\n        * config/sh/predicate.md (arith_reg_operand): Disallow FPUL_REG.\n\nFrom-SVN: r202825", "tree": {"sha": "6b28ecb56fd261e0db81992a7cf75e7765ce0c61", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6b28ecb56fd261e0db81992a7cf75e7765ce0c61"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0e26cf7972346f2d75ad9eb8fb3984f104ac2079", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e26cf7972346f2d75ad9eb8fb3984f104ac2079", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e26cf7972346f2d75ad9eb8fb3984f104ac2079", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e26cf7972346f2d75ad9eb8fb3984f104ac2079/comments", "author": null, "committer": null, "parents": [{"sha": "4d0e5b54a81475d0f3b7feb7751750b821ded6a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d0e5b54a81475d0f3b7feb7751750b821ded6a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d0e5b54a81475d0f3b7feb7751750b821ded6a9"}], "stats": {"total": 41, "additions": 31, "deletions": 10}, "files": [{"sha": "15369d6bbe979beb47faa9fef0288ba2b7240759", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e26cf7972346f2d75ad9eb8fb3984f104ac2079/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e26cf7972346f2d75ad9eb8fb3984f104ac2079/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0e26cf7972346f2d75ad9eb8fb3984f104ac2079", "patch": "@@ -1,3 +1,9 @@\n+2013-09-23  Christian Bruel  <christian.bruel@st.com>\n+\n+\tPR target/58475\n+\t* config/sh/sh.md (movsf_ie): Allow fpul_operand.\n+\t* config/sh/predicate.md (arith_reg_operand): Disallow FPUL_REG.\n+\n 2013-09-23  James Greenhalgh  <james.greenhalgh@arm.com>\n \n \tRevert r202780:\n@@ -7,6 +13,7 @@\n \t(aarch64_expand_epilogue): Likewise.\n \t(aarch64_legitimize_reload_address): Likewise.\n \n+>>>>>>> .r202824\n 2013-09-22  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gimplify.c (gimplify_asm_expr): Reset the TREE_CHAIN of clobbers to"}, {"sha": "10d741abc46df24a52704f8dfb15c33b37ed8c4f", "filename": "gcc/config/sh/predicates.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e26cf7972346f2d75ad9eb8fb3984f104ac2079/gcc%2Fconfig%2Fsh%2Fpredicates.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e26cf7972346f2d75ad9eb8fb3984f104ac2079/gcc%2Fconfig%2Fsh%2Fpredicates.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fpredicates.md?ref=0e26cf7972346f2d75ad9eb8fb3984f104ac2079", "patch": "@@ -154,7 +154,7 @@\n \n       return (regno != T_REG && regno != PR_REG\n \t      && ! TARGET_REGISTER_P (regno)\n-\t      && (regno != FPUL_REG || TARGET_SH4)\n+\t      && regno != FPUL_REG\n \t      && regno != MACH_REG && regno != MACL_REG);\n     }\n   /* Allow a no-op sign extension - compare LOAD_EXTEND_OP."}, {"sha": "db6c0b6fb1c276d223a7d621b4ada391554a1a55", "filename": "gcc/config/sh/sh.md", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e26cf7972346f2d75ad9eb8fb3984f104ac2079/gcc%2Fconfig%2Fsh%2Fsh.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e26cf7972346f2d75ad9eb8fb3984f104ac2079/gcc%2Fconfig%2Fsh%2Fsh.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.md?ref=0e26cf7972346f2d75ad9eb8fb3984f104ac2079", "patch": "@@ -8203,15 +8203,9 @@ label:\n    (use (match_operand:PSI 2 \"fpscr_operand\" \"c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c\"))\n    (clobber (match_scratch:SI 3 \"=X,X,Bsc,Bsc,&z,X,X,X,X,X,X,X,X,y,X,X,X,X,X\"))]\n   \"TARGET_SH2E\n-   && (arith_reg_operand (operands[0], SFmode)\n-       || arith_reg_operand (operands[1], SFmode)\n-       || arith_reg_operand (operands[3], SImode)\n-       || (fpul_operand (operands[0], SFmode)\n-\t   && memory_operand (operands[1], SFmode)\n-\t   && GET_CODE (XEXP (operands[1], 0)) == POST_INC)\n-       || (fpul_operand (operands[1], SFmode)\n-\t   && memory_operand (operands[0], SFmode)\n-\t   && GET_CODE (XEXP (operands[0], 0)) == PRE_DEC))\"\n+   && (arith_reg_operand (operands[0], SFmode) || fpul_operand (operands[0], SFmode)\n+       || arith_reg_operand (operands[1], SFmode) || fpul_operand (operands[1], SFmode)\n+       || arith_reg_operand (operands[3], SImode))\"\n   \"@\n \tfmov\t%1,%0\n \tmov\t%1,%0"}, {"sha": "330bb1cc86a6df378708df1b2091b78a53e0e1b8", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e26cf7972346f2d75ad9eb8fb3984f104ac2079/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e26cf7972346f2d75ad9eb8fb3984f104ac2079/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=0e26cf7972346f2d75ad9eb8fb3984f104ac2079", "patch": "@@ -1,3 +1,8 @@\n+2013-09-23  Christian Bruel  <christian.bruel@st.com>\n+\n+\tPR target/58475\n+\t* gcc.target/sh/torture/pr58475.c: New test.\n+\n 2013-09-23  Janus Weil  <janus@gcc.gnu.org>\n \n \tPR fortran/58355"}, {"sha": "a1153da8ddb5aae4e3fe494c8e8d4ec7af78e1ca", "filename": "gcc/testsuite/gcc.target/sh/torture/pr58475.c", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e26cf7972346f2d75ad9eb8fb3984f104ac2079/gcc%2Ftestsuite%2Fgcc.target%2Fsh%2Ftorture%2Fpr58475.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e26cf7972346f2d75ad9eb8fb3984f104ac2079/gcc%2Ftestsuite%2Fgcc.target%2Fsh%2Ftorture%2Fpr58475.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fsh%2Ftorture%2Fpr58475.c?ref=0e26cf7972346f2d75ad9eb8fb3984f104ac2079", "patch": "@@ -0,0 +1,15 @@\n+/* { dg-do compile { target \"sh*-*-*\" } } */\n+\n+int\n+kerninfo(int __bsx, double tscale)\n+{\n+ return (\n+\t (int)(__extension__\n+\t       ({\n+\t\t ((((__bsx) & 0xff000000u) >> 24)\n+\t\t  | (((__bsx) & 0x00ff0000) >> 8)\n+\t\t  | (((__bsx) & 0x0000ff00) << 8)\n+\t\t  | (((__bsx) & 0x000000ff) << 24)\n+\t\t  ); }))\n+\t       * tscale);\n+}"}]}