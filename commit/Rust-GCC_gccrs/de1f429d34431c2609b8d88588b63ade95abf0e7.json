{"sha": "de1f429d34431c2609b8d88588b63ade95abf0e7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGUxZjQyOWQzNDQzMWMyNjA5YjhkODg1ODhiNjNhZGU5NWFiZjBlNw==", "commit": {"author": {"name": "Alexandre Petit-Bianco", "email": "apbianco@gcc.gnu.org", "date": "1999-12-06T19:56:58Z"}, "committer": {"name": "Alexandre Petit-Bianco", "email": "apbianco@gcc.gnu.org", "date": "1999-12-06T19:56:58Z"}, "message": "[multiple changes]\n\nTue Nov 30 12:36:15 1999  Anthony Green  <green@cygnus.com>\n\n        * verify.c (verify_jvm_instructions): Create new return label\n        chain if non existant (don't rely on the verified state of the jsr\n        target.)\n\nTue Nov 23 17:29:40 1999  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n\n        * verify.c (merge_type_state): Non verified subroutines being\n        considered more than once to trigger passive type merge.\n\nFrom-SVN: r30811", "tree": {"sha": "ddf284ed2a7ed8687ce5deda9ffcab1baff6b2c9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ddf284ed2a7ed8687ce5deda9ffcab1baff6b2c9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/de1f429d34431c2609b8d88588b63ade95abf0e7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de1f429d34431c2609b8d88588b63ade95abf0e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de1f429d34431c2609b8d88588b63ade95abf0e7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de1f429d34431c2609b8d88588b63ade95abf0e7/comments", "author": null, "committer": null, "parents": [{"sha": "730f02076462ea347ce60278f16191cf42960fe0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/730f02076462ea347ce60278f16191cf42960fe0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/730f02076462ea347ce60278f16191cf42960fe0"}], "stats": {"total": 25, "additions": 20, "deletions": 5}, "files": [{"sha": "bf90f870a310ab0f00c1fea76b4fcce3ff5a170f", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de1f429d34431c2609b8d88588b63ade95abf0e7/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de1f429d34431c2609b8d88588b63ade95abf0e7/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=de1f429d34431c2609b8d88588b63ade95abf0e7", "patch": "@@ -3,6 +3,12 @@ Wed Dec  1 04:25:06 1999  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n         * except.c (expand_end_java_handler): Call\n         expand_resume_after_catch and end_catch_handler.\n \n+Tue Nov 30 12:36:15 1999  Anthony Green  <green@cygnus.com>\n+\n+        * verify.c (verify_jvm_instructions): Create new return label\n+        chain if non existant (don't rely on the verified state of the jsr\n+        target.)\n+\n Tue Nov 30 12:28:34 1999  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n \n         * jcf-write.c (generate_byecode_insns): Fixed indentation for\n@@ -23,6 +29,11 @@ Wed Nov 24 17:33:26 1999  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n \n \t* except.c (emit_handlers): Zero catch_clauses after emitting them.\n \n+Tue Nov 23 17:29:40 1999  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n+\n+        * verify.c (merge_type_state): Non verified subroutines being\n+        considered more than once to trigger passive type merge.\n+\n Tue Nov 23 10:55:18 1999  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n \n \t* parse.y (catch_clause_parameter:): Still set `$$' to NULL_TREE"}, {"sha": "d17a184bf400d87a6f10aa951d99d4833846c638", "filename": "gcc/java/verify.c", "status": "modified", "additions": 9, "deletions": 5, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de1f429d34431c2609b8d88588b63ade95abf0e7/gcc%2Fjava%2Fverify.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de1f429d34431c2609b8d88588b63ade95abf0e7/gcc%2Fjava%2Fverify.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fverify.c?ref=de1f429d34431c2609b8d88588b63ade95abf0e7", "patch": "@@ -216,10 +216,13 @@ merge_type_state (label)\n   int cur_length = stack_pointer + nlocals;\n   tree vec = LABEL_TYPE_STATE (label);\n   tree return_map;\n-  if (vec == NULL_TREE)\n+  if (vec == NULL_TREE || !LABEL_VERIFIED (label))\n     {\n-      vec = make_tree_vec (cur_length);\n-      LABEL_TYPE_STATE (label) = vec;\n+      if (!vec)\n+\t{\n+\t  vec = make_tree_vec (cur_length);\n+\t  LABEL_TYPE_STATE (label) = vec;\n+\t}\n       while (--cur_length >= 0)\n \tTREE_VEC_ELT (vec, cur_length) = type_map [cur_length];\n       return 1;\n@@ -1153,9 +1156,10 @@ verify_jvm_instructions (jcf, byte_ops, length)\n \t    tree target = lookup_label (oldpc + IMMEDIATE_s2);\n \t    tree return_label = lookup_label (PC);\n \t    push_type (return_address_type_node);\n-\t    if (! LABEL_VERIFIED (target))\n+\t    /* The return label chain will be null if this is the first\n+\t       time we've seen this jsr target.  */\n+            if (LABEL_RETURN_LABEL (target) == NULL_TREE)\n \t      {\n-\t\t/* first time seen */\n \t\ttree return_type_map;\n \t\tint nlocals = DECL_MAX_LOCALS (current_function_decl);\n \t\tindex = nlocals + DECL_MAX_STACK (current_function_decl);"}]}