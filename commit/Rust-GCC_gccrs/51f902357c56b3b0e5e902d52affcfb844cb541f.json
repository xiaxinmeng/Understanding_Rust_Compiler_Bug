{"sha": "51f902357c56b3b0e5e902d52affcfb844cb541f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTFmOTAyMzU3YzU2YjNiMGU1ZTkwMmQ1MmFmZmNmYjg0NGNiNTQxZg==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2020-01-08T18:45:26Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@gcc.gnu.org", "date": "2020-01-08T18:45:26Z"}, "message": "hash-map-tests.c: fix memory leak\n\nThis commit makes \"make selftest-valgrind\" clean by fixing this leak:\n\n4 bytes in 1 blocks are definitely lost in loss record 1 of 734\n   at 0x483AB1A: calloc (vg_replace_malloc.c:762)\n   by 0x261DBE0: xcalloc (xmalloc.c:162)\n   by 0x2538C46: selftest::test_map_of_strings_to_int() (hash-map-tests.c:87)\n   by 0x253ABD2: selftest::hash_map_tests_c_tests() (hash-map-tests.c:307)\n   by 0x24A885B: selftest::run_tests() (selftest-run-tests.c:65)\n   by 0x1373D80: toplev::run_self_tests() (toplev.c:2339)\n   by 0x1373FA7: toplev::main(int, char**) (toplev.c:2421)\n   by 0x2550EFF: main (main.c:39)\n\ngcc/ChangeLog:\n\t* hash-map-tests.c (selftest::test_map_of_strings_to_int): Fix\n\tmemory leak.\n\nFrom-SVN: r280015", "tree": {"sha": "41928b390ee98014166dd7bed1750c01695a24e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/41928b390ee98014166dd7bed1750c01695a24e7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/51f902357c56b3b0e5e902d52affcfb844cb541f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/51f902357c56b3b0e5e902d52affcfb844cb541f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/51f902357c56b3b0e5e902d52affcfb844cb541f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/51f902357c56b3b0e5e902d52affcfb844cb541f/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "fff148b787b897aafdc6e361d8379f3b1b280874", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fff148b787b897aafdc6e361d8379f3b1b280874", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fff148b787b897aafdc6e361d8379f3b1b280874"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "838f564ca90efa313b3e74cd1a37162d51424cae", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/51f902357c56b3b0e5e902d52affcfb844cb541f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/51f902357c56b3b0e5e902d52affcfb844cb541f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=51f902357c56b3b0e5e902d52affcfb844cb541f", "patch": "@@ -1,3 +1,8 @@\n+2020-01-08  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* hash-map-tests.c (selftest::test_map_of_strings_to_int): Fix\n+\tmemory leak.\n+\n 2020-01-08  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/93187"}, {"sha": "743fb26d5717b79aaae42dbdd920a45c04cf7863", "filename": "gcc/hash-map-tests.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/51f902357c56b3b0e5e902d52affcfb844cb541f/gcc%2Fhash-map-tests.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/51f902357c56b3b0e5e902d52affcfb844cb541f/gcc%2Fhash-map-tests.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fhash-map-tests.c?ref=51f902357c56b3b0e5e902d52affcfb844cb541f", "patch": "@@ -101,6 +101,8 @@ test_map_of_strings_to_int ()\n   ASSERT_EQ (1, string_map.elements ());\n   ASSERT_EQ (true, string_map.put (another_ant, 5));\n   ASSERT_EQ (1, string_map.elements ());\n+\n+  free (another_ant);\n }\n \n /* Construct a hash_map using int_hash and verify that"}]}