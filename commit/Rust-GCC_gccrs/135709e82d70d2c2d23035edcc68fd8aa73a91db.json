{"sha": "135709e82d70d2c2d23035edcc68fd8aa73a91db", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTM1NzA5ZTgyZDcwZDJjMmQyMzAzNWVkY2M2OGZkOGFhNzNhOTFkYg==", "commit": {"author": {"name": "Bryce McKinlay", "email": "mckinlay@redhat.com", "date": "2005-06-01T22:55:07Z"}, "committer": {"name": "Bryce McKinlay", "email": "bryce@gcc.gnu.org", "date": "2005-06-01T22:55:07Z"}, "message": "configure.ac (BACKTRACESPEC): Remove definition, but continue to AC_SUBST definition from configure.host.\n\n\t* configure.ac (BACKTRACESPEC): Remove definition, but continue to\n\tAC_SUBST definition from configure.host.\n\t* configure.host: Don't use -fno-omit-frame-pointer. Set BACKTRACESPEC\n\tto -fomit-frame-pointer on 32-bit x86 targets.\n\nFrom-SVN: r100469", "tree": {"sha": "3b4292de283ab69587e0f51e6df4fc93f2ddb5b2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3b4292de283ab69587e0f51e6df4fc93f2ddb5b2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/135709e82d70d2c2d23035edcc68fd8aa73a91db", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/135709e82d70d2c2d23035edcc68fd8aa73a91db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/135709e82d70d2c2d23035edcc68fd8aa73a91db", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/135709e82d70d2c2d23035edcc68fd8aa73a91db/comments", "author": null, "committer": null, "parents": [{"sha": "ae263c7a36206a9bd8b17bcaf9556b447f345be0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae263c7a36206a9bd8b17bcaf9556b447f345be0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae263c7a36206a9bd8b17bcaf9556b447f345be0"}], "stats": {"total": 25, "additions": 14, "deletions": 11}, "files": [{"sha": "4c3758339616e69a00de275bca0190dd352e7077", "filename": "libjava/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/135709e82d70d2c2d23035edcc68fd8aa73a91db/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/135709e82d70d2c2d23035edcc68fd8aa73a91db/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=135709e82d70d2c2d23035edcc68fd8aa73a91db", "patch": "@@ -1,3 +1,10 @@\n+2005-06-01  Bryce McKinlay  <mckinlay@redhat.com>\n+\n+\t* configure.ac (BACKTRACESPEC): Remove definition, but continue to\n+\tAC_SUBST definition from configure.host.\n+\t* configure.host: Don't use -fno-omit-frame-pointer. Set BACKTRACESPEC\n+\tto -fomit-frame-pointer on 32-bit x86 targets.\n+\n 2005-06-01  Tom Tromey  <tromey@redhat.com>\n \n \t* java/io/ObjectInputStream.java (currentLoader): Fixed typo."}, {"sha": "a7d9d20fb3120648a2f59b5c54da0e7c50bb6beb", "filename": "libjava/configure.ac", "status": "modified", "additions": 1, "deletions": 9, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/135709e82d70d2c2d23035edcc68fd8aa73a91db/libjava%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/135709e82d70d2c2d23035edcc68fd8aa73a91db/libjava%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.ac?ref=135709e82d70d2c2d23035edcc68fd8aa73a91db", "patch": "@@ -1148,6 +1148,7 @@ AC_SUBST(ZINCS)\n AC_SUBST(DIVIDESPEC)\n AC_SUBST(CHECKREFSPEC)\n AC_SUBST(EXCEPTIONSPEC)\n+AC_SUBST(BACKTRACESPEC)\n AC_SUBST(IEEESPEC)\n \n AM_CONDITIONAL(NATIVE, test \"$NATIVE\" = yes)\n@@ -1345,15 +1346,6 @@ if test \"$enable_sjlj_exceptions\" = yes; then\n    SIGNAL_HANDLER_AUX=\n fi\n \n-# Define here any compiler flags that you need in order to make backtrace() work.\n-BACKTRACESPEC=\n-case \"${host}\" in\n- x86_64*-*-linux*|i?86-*)\n-    BACKTRACESPEC=-fno-omit-frame-pointer\n-    ;;\n-esac\n-AC_SUBST(BACKTRACESPEC)\n-\n AC_SUBST(SYSDEP_SOURCES)\n \n if test -z \"$SIGNAL_HANDLER_AUX\"; then"}, {"sha": "5f32bfbe5c414774ebe34a3db60b46bb59501936", "filename": "libjava/configure.host", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/135709e82d70d2c2d23035edcc68fd8aa73a91db/libjava%2Fconfigure.host", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/135709e82d70d2c2d23035edcc68fd8aa73a91db/libjava%2Fconfigure.host", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.host?ref=135709e82d70d2c2d23035edcc68fd8aa73a91db", "patch": "@@ -69,6 +69,7 @@ echo \"$target\"\n DIVIDESPEC=-fuse-divide-subroutine\n EXCEPTIONSPEC=-fnon-call-exceptions\n CHECKREFSPEC=\n+BACKTRACESPEC=\n \n # This case statement supports per-CPU defaults.\n case \"${host}\" in\n@@ -94,17 +95,18 @@ case \"${host}\" in\n \t;;\n   i686-*|i586-*|i486-*|i386-*)\n \tsysdeps_dir=i386\n-\tlibgcj_flags=\"${libgcj_flags} -ffloat-store -fno-omit-frame-pointer\"\n+\tlibgcj_flags=\"${libgcj_flags} -ffloat-store\"\n \tlibgcj_interpreter=yes\n \tlibgcj_cxxflags=\n \tlibgcj_cflags=\n \tDIVIDESPEC=-fno-use-divide-subroutine\n+\tBACKTRACESPEC=-fomit-frame-pointer\n \tenable_hash_synchronization_default=yes\n \tslow_pthread_self=yes\n \t;;\n   x86_64-*)\n \tsysdeps_dir=x86-64\n-\tlibgcj_flags=\"${libgcj_flags} -ffloat-store -fno-omit-frame-pointer\"\n+\tlibgcj_flags=\"${libgcj_flags} -ffloat-store\"\n \tlibgcj_cxxflags=\n \tlibgcj_cflags=\n \tDIVIDESPEC=-f%{m32:no-}use-divide-subroutine\n@@ -266,6 +268,8 @@ esac\n case \"${host}\" in\n   *-cygwin* | *-mingw*)\n \tfallback_backtrace_h=sysdep/i386/backtrace.h  \n+\t# We need a frame pointer on Windows, so override BACKTRACESPEC\n+  \tBACKTRACESPEC=\n   ;;\n esac\n "}]}