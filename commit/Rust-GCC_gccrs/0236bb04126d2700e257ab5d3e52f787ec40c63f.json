{"sha": "0236bb04126d2700e257ab5d3e52f787ec40c63f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDIzNmJiMDQxMjZkMjcwMGUyNTdhYjVkM2U1MmY3ODdlYzQwYzYzZg==", "commit": {"author": {"name": "Trevor Saunders", "email": "tbsaunde+gcc@tbsaunde.org", "date": "2017-05-14T00:39:04Z"}, "committer": {"name": "Trevor Saunders", "email": "tbsaunde@gcc.gnu.org", "date": "2017-05-14T00:39:04Z"}, "message": "make a member an auto_sbitmap\n\ngcc/ChangeLog:\n\n2017-05-13  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n\n\t* tree-ssa-dse.c (dse_dom_walker): Make m_live_byes a\n\tauto_sbitmap.\n\nFrom-SVN: r248024", "tree": {"sha": "a9d37421e3e866f6ab17a85cae3e326ef1b8fab2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a9d37421e3e866f6ab17a85cae3e326ef1b8fab2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0236bb04126d2700e257ab5d3e52f787ec40c63f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0236bb04126d2700e257ab5d3e52f787ec40c63f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0236bb04126d2700e257ab5d3e52f787ec40c63f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0236bb04126d2700e257ab5d3e52f787ec40c63f/comments", "author": null, "committer": null, "parents": [{"sha": "d648b5ff3cb2bf7aec320312e79c90e49cd9b39b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d648b5ff3cb2bf7aec320312e79c90e49cd9b39b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d648b5ff3cb2bf7aec320312e79c90e49cd9b39b"}], "stats": {"total": 15, "additions": 9, "deletions": 6}, "files": [{"sha": "fd3dcc5c4fe6f28736c91ef6cf2905c28432b4d2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0236bb04126d2700e257ab5d3e52f787ec40c63f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0236bb04126d2700e257ab5d3e52f787ec40c63f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0236bb04126d2700e257ab5d3e52f787ec40c63f", "patch": "@@ -1,3 +1,8 @@\n+2017-05-13  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n+\n+\t* tree-ssa-dse.c (dse_dom_walker): Make m_live_byes a\n+\tauto_sbitmap.\n+\n 2017-05-13  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n \n \t* df-core.c (df_set_blocks): Start using auto_bitmap."}, {"sha": "3ebc19948e17b921d4e69586f5a5c8d367b7450a", "filename": "gcc/tree-ssa-dse.c", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0236bb04126d2700e257ab5d3e52f787ec40c63f/gcc%2Ftree-ssa-dse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0236bb04126d2700e257ab5d3e52f787ec40c63f/gcc%2Ftree-ssa-dse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-dse.c?ref=0236bb04126d2700e257ab5d3e52f787ec40c63f", "patch": "@@ -601,16 +601,14 @@ class dse_dom_walker : public dom_walker\n {\n public:\n   dse_dom_walker (cdi_direction direction)\n-    : dom_walker (direction), m_byte_tracking_enabled (false)\n-\n-  { m_live_bytes = sbitmap_alloc (PARAM_VALUE (PARAM_DSE_MAX_OBJECT_SIZE)); }\n-\n-  ~dse_dom_walker () { sbitmap_free (m_live_bytes); }\n+    : dom_walker (direction),\n+    m_live_bytes (PARAM_VALUE (PARAM_DSE_MAX_OBJECT_SIZE)),\n+    m_byte_tracking_enabled (false) {}\n \n   virtual edge before_dom_children (basic_block);\n \n private:\n-  sbitmap m_live_bytes;\n+  auto_sbitmap m_live_bytes;\n   bool m_byte_tracking_enabled;\n   void dse_optimize_stmt (gimple_stmt_iterator *);\n };"}]}