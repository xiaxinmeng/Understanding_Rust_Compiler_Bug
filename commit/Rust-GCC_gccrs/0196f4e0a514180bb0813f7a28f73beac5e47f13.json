{"sha": "0196f4e0a514180bb0813f7a28f73beac5e47f13", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDE5NmY0ZTBhNTE0MTgwYmIwODEzZjdhMjhmNzNiZWFjNWU0N2YxMw==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2003-08-05T20:06:57Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2003-08-05T20:06:57Z"}, "message": "re PR libgcj/11779 (Field reflection incorrectly throws IllegalAccessException)\n\n\tFix for PR libgcj/11779:\n\t* java/lang/reflect/natField.cc (getAddr): Skip frames in Field\n\tclass.\n\nFrom-SVN: r70185", "tree": {"sha": "e3f41a1bb10099f57d2d2cec78a1ba6efe2490d1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e3f41a1bb10099f57d2d2cec78a1ba6efe2490d1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0196f4e0a514180bb0813f7a28f73beac5e47f13", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0196f4e0a514180bb0813f7a28f73beac5e47f13", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0196f4e0a514180bb0813f7a28f73beac5e47f13", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0196f4e0a514180bb0813f7a28f73beac5e47f13/comments", "author": null, "committer": null, "parents": [{"sha": "0d4d227907e64eae08255f7f993e9bd0820b9d67", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d4d227907e64eae08255f7f993e9bd0820b9d67", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0d4d227907e64eae08255f7f993e9bd0820b9d67"}], "stats": {"total": 15, "additions": 10, "deletions": 5}, "files": [{"sha": "2ab9b0df9485404415ec1462936badcfca90cd5f", "filename": "libjava/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0196f4e0a514180bb0813f7a28f73beac5e47f13/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0196f4e0a514180bb0813f7a28f73beac5e47f13/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=0196f4e0a514180bb0813f7a28f73beac5e47f13", "patch": "@@ -1,5 +1,9 @@\n 2003-08-05  Tom Tromey  <tromey@redhat.com>\n \n+\tFix for PR libgcj/11779:\n+\t* java/lang/reflect/natField.cc (getAddr): Skip frames in Field\n+\tclass.\n+\n \t* java/lang/reflect/Method.java: Updated status comment.\n \tImported javadoc from Classpath and re-ordered methods.\n \t* java/lang/reflect/Constructor.java: Reindented.  Updated"}, {"sha": "b7f12f06e926b6b4617a0ebc917b713b6d086ac2", "filename": "libjava/java/lang/reflect/natField.cc", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0196f4e0a514180bb0813f7a28f73beac5e47f13/libjava%2Fjava%2Flang%2Freflect%2FnatField.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0196f4e0a514180bb0813f7a28f73beac5e47f13/libjava%2Fjava%2Flang%2Freflect%2FnatField.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2Freflect%2FnatField.cc?ref=0196f4e0a514180bb0813f7a28f73beac5e47f13", "patch": "@@ -59,13 +59,14 @@ getAddr (java::lang::reflect::Field* field, jclass caller, jobject obj)\n   // calls.  However, we never implemented that, so we have to find\n   // the caller by hand instead.\n   gnu::gcj::runtime::StackTrace *t \n-    = new gnu::gcj::runtime::StackTrace(4);\n+    = new gnu::gcj::runtime::StackTrace(7);\n   try\n     {\n-      for (int i = 1; !caller; i++)\n-\t{\n-\t  caller = t->classAt (i);\n-\t}\n+      // We want to skip all the frames on the stack from this class.\n+      for (int i = 1;\n+\t   !caller || caller == &java::lang::reflect::Field::class$;\n+\t   i++)\n+\tcaller = t->classAt (i);\n     }\n   catch (::java::lang::ArrayIndexOutOfBoundsException *e)\n     {"}]}