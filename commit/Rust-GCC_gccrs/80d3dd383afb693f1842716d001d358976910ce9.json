{"sha": "80d3dd383afb693f1842716d001d358976910ce9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODBkM2RkMzgzYWZiNjkzZjE4NDI3MTZkMDAxZDM1ODk3NjkxMGNlOQ==", "commit": {"author": {"name": "Kai Tietz", "email": "ktietz@redhat.com", "date": "2011-07-01T10:00:25Z"}, "committer": {"name": "Kai Tietz", "email": "ktietz@gcc.gnu.org", "date": "2011-07-01T10:00:25Z"}, "message": "tree-ssa-forwprop.c (simplify_bitwise_binary): Fix typo.\n\n2011-07-01  Kai Tietz  <ktietz@redhat.com>\n\n        * tree-ssa-forwprop.c (simplify_bitwise_binary): Fix typo.\n\n2011-07-01  Kai Tietz  <ktietz@redhat.com>\n\n        * gcc.dg/tree-ssa/bitwise-sink.c: New test.\n\nFrom-SVN: r175752", "tree": {"sha": "6a646debc5f7387d42725050bda0c5187864da5c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6a646debc5f7387d42725050bda0c5187864da5c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/80d3dd383afb693f1842716d001d358976910ce9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80d3dd383afb693f1842716d001d358976910ce9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/80d3dd383afb693f1842716d001d358976910ce9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80d3dd383afb693f1842716d001d358976910ce9/comments", "author": null, "committer": null, "parents": [{"sha": "179fc656fa0a2ca7a820a0129237733374c466f5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/179fc656fa0a2ca7a820a0129237733374c466f5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/179fc656fa0a2ca7a820a0129237733374c466f5"}], "stats": {"total": 21, "additions": 20, "deletions": 1}, "files": [{"sha": "e0ceee862185cb32eb25f219f45f7063bb408c05", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80d3dd383afb693f1842716d001d358976910ce9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80d3dd383afb693f1842716d001d358976910ce9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=80d3dd383afb693f1842716d001d358976910ce9", "patch": "@@ -1,3 +1,7 @@\n+2011-07-01  Kai Tietz  <ktietz@redhat.com>\n+\n+\t* tree-ssa-forwprop.c (simplify_bitwise_binary): Fix typo.\n+\n 2011-07-01  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* config.gcc: Obsolete alpha*-dec-osf5.1, mips-sgi-irix6.5."}, {"sha": "857ed564f8a5047473d320ff6a26a1b3518ab856", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80d3dd383afb693f1842716d001d358976910ce9/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80d3dd383afb693f1842716d001d358976910ce9/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=80d3dd383afb693f1842716d001d358976910ce9", "patch": "@@ -1,3 +1,7 @@\n+2011-07-01  Kai Tietz  <ktietz@redhat.com>\n+\n+        * gcc.dg/tree-ssa/bitwise-sink.c: New test.\n+\n 2011-07-01  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \tPR libmudflap/49549"}, {"sha": "f44529995b7748ce014a88c426c3c4ebf600c938", "filename": "gcc/testsuite/gcc.dg/tree-ssa/bitwise-sink.c", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80d3dd383afb693f1842716d001d358976910ce9/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fbitwise-sink.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80d3dd383afb693f1842716d001d358976910ce9/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fbitwise-sink.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fbitwise-sink.c?ref=80d3dd383afb693f1842716d001d358976910ce9", "patch": "@@ -0,0 +1,11 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -fdump-tree-optimized\" } */\n+\n+int\n+foo (_Bool x)\n+{\n+  return (x ^ 1);\n+}\n+\n+/* { dg-final { scan-tree-dump-times \"x\\[^ \\]* \\\\^ 1\" 1 \"optimized\" } } */\n+/* { dg-final { cleanup-tree-dump \"optimized\" } } */"}, {"sha": "893f17b47a4082775aac19ce640cdf5299e0e152", "filename": "gcc/tree-ssa-forwprop.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80d3dd383afb693f1842716d001d358976910ce9/gcc%2Ftree-ssa-forwprop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80d3dd383afb693f1842716d001d358976910ce9/gcc%2Ftree-ssa-forwprop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-forwprop.c?ref=80d3dd383afb693f1842716d001d358976910ce9", "patch": "@@ -1675,7 +1675,7 @@ simplify_bitwise_binary (gimple_stmt_iterator *gsi)\n   /* Try to fold (type) X op CST -> (type) (X op ((type-x) CST)).  */\n   if (TREE_CODE (arg2) == INTEGER_CST\n       && CONVERT_EXPR_CODE_P (def1_code)\n-      && INTEGRAL_TYPE_P (def1_arg1)\n+      && INTEGRAL_TYPE_P (TREE_TYPE (def1_arg1))\n       && int_fits_type_p (arg2, TREE_TYPE (def1_arg1)))\n     {\n       gimple newop;"}]}