{"sha": "b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjRlOWYyYWExYzcwZTQ4ZDVlODI1YTM1NzRiNzFjYjdhMTVkYmRjOQ==", "commit": {"author": {"name": "Martin Jambor", "email": "mjambor@suse.cz", "date": "2016-03-07T18:39:51Z"}, "committer": {"name": "Martin Jambor", "email": "jamborm@gcc.gnu.org", "date": "2016-03-07T18:39:51Z"}, "message": "[hsa testsuite] Suppress hsa warnings in compiler gomp tests\n\n2016-03-07  Martin Jambor  <mjambor@suse.cz>\n\n\t* c-c++-common/gomp/clauses-1.c: Remove dg-options.\n\t* c-c++-common/gomp/if-1.c: Likewise.\n\t* c-c++-common/gomp/pr61486-2.c: Likewise.\n\t* c-c++-common/gomp/target-teams-1.c: Moved dg-options except -fopenmp\n\tto dg-additional-options.\n\t* g++.dg/gomp/gomp.exp: Pass -Wno-hsa to all tests.\n\t* g++/gomp/target-teams-1.c: Likewise.\n\t* gcc.dg/gomp/gomp.exp: Likewise.\n\t* gcc.dg/gomp/pr68128-2.c: Moved dg-options except -fopenmp to\n\tdg-additional-options.\n\t* gfortran.dg/gomp/gomp.exp: Likewise.\n\t* gfortran.dg/gomp/target1.f90: Remove dg-options.\n\t* gfortran.dg/gomp/target2.f90: Moved dg-options except -fopenmp to\n\tdg-additional-options.\n\t* gfortran.dg/gomp/target3.f90: Remove dg-options.\n\nFrom-SVN: r234044", "tree": {"sha": "00985f792432e01c87f3b2b7babc9206b0545aa2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/00985f792432e01c87f3b2b7babc9206b0545aa2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/comments", "author": {"login": "jamborm", "id": 2180070, "node_id": "MDQ6VXNlcjIxODAwNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2180070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamborm", "html_url": "https://github.com/jamborm", "followers_url": "https://api.github.com/users/jamborm/followers", "following_url": "https://api.github.com/users/jamborm/following{/other_user}", "gists_url": "https://api.github.com/users/jamborm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamborm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamborm/subscriptions", "organizations_url": "https://api.github.com/users/jamborm/orgs", "repos_url": "https://api.github.com/users/jamborm/repos", "events_url": "https://api.github.com/users/jamborm/events{/privacy}", "received_events_url": "https://api.github.com/users/jamborm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f86e631e8b756809d8061955adec19da3af267ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f86e631e8b756809d8061955adec19da3af267ac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f86e631e8b756809d8061955adec19da3af267ac"}], "stats": {"total": 37, "additions": 25, "deletions": 12}, "files": [{"sha": "0dfe344bc807e09fe287ea674da93fee91df2bef", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9", "patch": "@@ -1,3 +1,21 @@\n+2016-03-07  Martin Jambor  <mjambor@suse.cz>\n+\n+\t* c-c++-common/gomp/clauses-1.c: Remove dg-options.\n+\t* c-c++-common/gomp/if-1.c: Likewise.\n+\t* c-c++-common/gomp/pr61486-2.c: Likewise.\n+\t* c-c++-common/gomp/target-teams-1.c: Moved dg-options except -fopenmp\n+\tto dg-additional-options.\n+\t* g++.dg/gomp/gomp.exp: Pass -Wno-hsa to all tests.\n+\t* g++/gomp/target-teams-1.c: Likewise.\n+\t* gcc.dg/gomp/gomp.exp: Likewise.\n+\t* gcc.dg/gomp/pr68128-2.c: Moved dg-options except -fopenmp to\n+\tdg-additional-options.\n+\t* gfortran.dg/gomp/gomp.exp: Likewise.\n+\t* gfortran.dg/gomp/target1.f90: Remove dg-options.\n+\t* gfortran.dg/gomp/target2.f90: Moved dg-options except -fopenmp to\n+\tdg-additional-options.\n+\t* gfortran.dg/gomp/target3.f90: Remove dg-options.\n+\n 2016-03-07  Martin Jambor  <mjambor@suse.cz>\n \n \t* lib/target-supports.exp (check_effective_target_offload_hsa): New."}, {"sha": "91aed3960f6c49826f055432c5ae0a9c131c0e4c", "filename": "gcc/testsuite/c-c++-common/gomp/clauses-1.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fclauses-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fclauses-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fclauses-1.c?ref=b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9", "patch": "@@ -1,5 +1,4 @@\n /* { dg-do compile } */\n-/* { dg-options \"-fopenmp\" } */\n /* { dg-additional-options \"-std=c99\" { target c } } */\n \n int t;"}, {"sha": "3a9b53870c6e7d8d028a0472656d31e2d9b25f07", "filename": "gcc/testsuite/c-c++-common/gomp/if-1.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fif-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fif-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fif-1.c?ref=b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9", "patch": "@@ -1,5 +1,4 @@\n /* { dg-do compile } */\n-/* { dg-options \"-fopenmp\" } */\n \n void\n foo (int a, int b, int *p, int *q)"}, {"sha": "4a680235fa1ea46fef8089b1ea2e897544c6834f", "filename": "gcc/testsuite/c-c++-common/gomp/pr61486-2.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fpr61486-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fpr61486-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fpr61486-2.c?ref=b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9", "patch": "@@ -1,6 +1,5 @@\n /* PR middle-end/61486 */\n /* { dg-do compile } */\n-/* { dg-options \"-fopenmp\" } */\n /* { dg-require-effective-target alloca } */\n \n #pragma omp declare target"}, {"sha": "51b8d488562ae061e51deade9e455b15bfb34011", "filename": "gcc/testsuite/c-c++-common/gomp/target-teams-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Ftarget-teams-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Ftarget-teams-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Ftarget-teams-1.c?ref=b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-fopenmp -fdump-tree-gimple\" } */\n+/* { dg-additional-options \"-fdump-tree-gimple\" } */\n \n int v = 6;\n void bar (int);"}, {"sha": "d26596c8c041abdc09f656fb333c34c929f5499d", "filename": "gcc/testsuite/g++.dg/gomp/gomp.exp", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgomp%2Fgomp.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgomp%2Fgomp.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgomp%2Fgomp.exp?ref=b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9", "patch": "@@ -29,7 +29,7 @@ dg-init\n # Main loop.\n g++-dg-runtest [lsort [concat \\\n \t[find $srcdir/$subdir *.C] \\\n-\t[find $srcdir/c-c++-common/gomp *.c]]] \"\" \"-fopenmp\"\n+\t[find $srcdir/c-c++-common/gomp *.c]]] \"\" \"-fopenmp -Wno-hsa\"\n \n # All done.\n dg-finish"}, {"sha": "f78a608dc490526777d5bab2ff27e7d5809615bf", "filename": "gcc/testsuite/g++.dg/gomp/target-teams-1.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgomp%2Ftarget-teams-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgomp%2Ftarget-teams-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgomp%2Ftarget-teams-1.C?ref=b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9", "patch": "@@ -1,5 +1,5 @@\n // { dg-do compile }\n-// { dg-options \"-fopenmp -fdump-tree-gimple\" }\n+// { dg-additional-options \"-fdump-tree-gimple\" }\n \n int v = 6;\n void bar (int);"}, {"sha": "b6b5932c9f427b1f0ac0b8af328b33fb8c691b64", "filename": "gcc/testsuite/gcc.dg/gomp/gomp.exp", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fgcc.dg%2Fgomp%2Fgomp.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fgcc.dg%2Fgomp%2Fgomp.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fgomp%2Fgomp.exp?ref=b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9", "patch": "@@ -31,7 +31,7 @@ dg-init\n # Main loop.\n dg-runtest [lsort [concat \\\n \t[find $srcdir/$subdir *.c] \\\n-\t[find $srcdir/c-c++-common/gomp *.c]]] \"\" \"-fopenmp\"\n+\t[find $srcdir/c-c++-common/gomp *.c]]] \"\" \"-fopenmp -Wno-hsa\"\n \n # All done.\n dg-finish"}, {"sha": "9720add11a93bd8831b7e557f77b46c7022c8d21", "filename": "gcc/testsuite/gcc.dg/gomp/pr68128-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fgcc.dg%2Fgomp%2Fpr68128-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fgcc.dg%2Fgomp%2Fpr68128-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fgomp%2Fpr68128-2.c?ref=b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9", "patch": "@@ -1,6 +1,6 @@\n /* PR tree-optimization/68128 */\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -fopenmp -fdump-tree-omplower\" } */\n+/* { dg-additional-options \"-O2 -fdump-tree-omplower\" } */\n \n extern int omp_get_thread_num (void);\n extern int omp_get_ancestor_thread_num (int);"}, {"sha": "1cd2e36cac09c244453c05ab9188d0a6e3f5c29f", "filename": "gcc/testsuite/gfortran.dg/gomp/gomp.exp", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fgomp.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fgomp.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fgomp.exp?ref=b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9", "patch": "@@ -30,7 +30,7 @@ dg-init\n \n # Main loop.\n gfortran-dg-runtest [lsort \\\n-       [find $srcdir/$subdir *.\\[fF\\]{,90,95,03,08} ] ] \"\" \"-fopenmp\"\n+       [find $srcdir/$subdir *.\\[fF\\]{,90,95,03,08} ] ] \"\" \"-fopenmp -Wno-hsa\"\n \n # All done.\n dg-finish"}, {"sha": "1e771763cdaf28abb8ca73bc95cb3c865348277a", "filename": "gcc/testsuite/gfortran.dg/gomp/target1.f90", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Ftarget1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Ftarget1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Ftarget1.f90?ref=b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9", "patch": "@@ -1,5 +1,4 @@\n ! { dg-do compile }\n-! { dg-options \"-fopenmp\" }\n \n module target1\n   interface"}, {"sha": "dfe0ec3aefac2efa12f0734c1ba82dbaef05320f", "filename": "gcc/testsuite/gfortran.dg/gomp/target2.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Ftarget2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Ftarget2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Ftarget2.f90?ref=b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9", "patch": "@@ -1,5 +1,5 @@\n ! { dg-do compile }\n-! { dg-options \"-fopenmp -ffree-line-length-160\" }\n+! { dg-additional-options \"-ffree-line-length-160\" }\n \n subroutine foo (n, s, t, u, v, w)\n   integer :: n, i, s, t, u, v, w"}, {"sha": "d968e54453d521416e9d0eef7ab5983cb0f4e9b1", "filename": "gcc/testsuite/gfortran.dg/gomp/target3.f90", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Ftarget3.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Ftarget3.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Ftarget3.f90?ref=b4e9f2aa1c70e48d5e825a3574b71cb7a15dbdc9", "patch": "@@ -1,5 +1,4 @@\n ! { dg-do compile }\n-! { dg-options \"-fopenmp\" }\n \n subroutine foo (r)\n   integer :: i, r"}]}