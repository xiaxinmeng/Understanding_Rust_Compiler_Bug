{"sha": "2d1b811d7e693d0a5d3593a0593394ce4aa6a2c1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmQxYjgxMWQ3ZTY5M2QwYTVkMzU5M2EwNTkzMzk0Y2U0YWE2YTJjMQ==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernds@redhat.com", "date": "2001-03-01T14:25:30Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2001-03-01T14:25:30Z"}, "message": "Rotate bundles earlier in ia64_sched_reorder\n\nFrom-SVN: r40157", "tree": {"sha": "80726c359bbb796183b313f2c8ba871a69680f43", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/80726c359bbb796183b313f2c8ba871a69680f43"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2d1b811d7e693d0a5d3593a0593394ce4aa6a2c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d1b811d7e693d0a5d3593a0593394ce4aa6a2c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d1b811d7e693d0a5d3593a0593394ce4aa6a2c1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d1b811d7e693d0a5d3593a0593394ce4aa6a2c1/comments", "author": null, "committer": null, "parents": [{"sha": "7a87c39c565d48bdf978027c77672de58eeff6fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a87c39c565d48bdf978027c77672de58eeff6fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a87c39c565d48bdf978027c77672de58eeff6fc"}], "stats": {"total": 19, "additions": 10, "deletions": 9}, "files": [{"sha": "0247ae2b1172c31485bc3cdb67a0c4bcad2ce28a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d1b811d7e693d0a5d3593a0593394ce4aa6a2c1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d1b811d7e693d0a5d3593a0593394ce4aa6a2c1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2d1b811d7e693d0a5d3593a0593394ce4aa6a2c1", "patch": "@@ -5,6 +5,7 @@\n \t(gen_nop_type): New function.\n \t(ia64_emit_nops): New function.\n \t(ia64_reorg): Call it.\n+\t(ia64_sched_reorder): Move code that rotates bundles up a bit.\n \n \t* reload1.c (eliminate_regs_in_insn): Restrict the special case\n \tcode not to try to optimize adds with anything but a REG destination."}, {"sha": "2b72959bdbb7777e5237dbe08787658618832797", "filename": "gcc/config/ia64/ia64.c", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d1b811d7e693d0a5d3593a0593394ce4aa6a2c1/gcc%2Fconfig%2Fia64%2Fia64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d1b811d7e693d0a5d3593a0593394ce4aa6a2c1/gcc%2Fconfig%2Fia64%2Fia64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Fia64.c?ref=2d1b811d7e693d0a5d3593a0593394ce4aa6a2c1", "patch": "@@ -5665,6 +5665,15 @@ ia64_sched_reorder (dump, sched_verbose, ready, pn_ready, reorder_type)\n       dump_current_packet (dump);\n     }\n \n+  if (reorder_type == 0)\n+    {\n+      if (sched_data.cur == 6)\n+\trotate_two_bundles (sched_verbose ? dump : NULL);\n+      else if (sched_data.cur >= 3)\n+\trotate_one_bundle (sched_verbose ? dump : NULL);\n+      sched_data.first_slot = sched_data.cur;\n+    }\n+\n   /* First, move all USEs, CLOBBERs and other crud out of the way.  */\n   highest = ready[n_ready - 1];\n   for (insnp = ready; insnp < e_ready; insnp++)\n@@ -5738,15 +5747,6 @@ ia64_sched_reorder (dump, sched_verbose, ready, pn_ready, reorder_type)\n \t}\n     }\n \n-  if (reorder_type == 0)\n-    {\n-      if (sched_data.cur == 6)\n-\trotate_two_bundles (sched_verbose ? dump : NULL);\n-      else if (sched_data.cur >= 3)\n-\trotate_one_bundle (sched_verbose ? dump : NULL);\n-      sched_data.first_slot = sched_data.cur;\n-    }\n-\n   return itanium_reorder (sched_verbose ? dump : NULL,\n \t\t\t  ready, e_ready, reorder_type == 1);\n }"}]}