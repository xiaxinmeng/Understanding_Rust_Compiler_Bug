{"sha": "b6aada16ddfa4398e6d67711f856edf84c817300", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjZhYWRhMTZkZGZhNDM5OGU2ZDY3NzExZjg1NmVkZjg0YzgxNzMwMA==", "commit": {"author": {"name": "Renlin Li", "email": "renlin.li@arm.com", "date": "2015-06-24T13:36:53Z"}, "committer": {"name": "Renlin Li", "email": "renlin@gcc.gnu.org", "date": "2015-06-24T13:36:53Z"}, "message": "[PATCH][AARCH64]Add ACLE predefined marcos: __ARM_ALIGN_MAX_PWR and\n__ARM_ALIGN_MAX_STACK_PWR\n\ngcc/\n\n2015-06-24 Renlin Li <renlin.li@arm.com>\n\n\t* config/aarch64/aarch64.h(TARGET_CPU_CPP_BUILTINS): Add\n\t__ARM_ALIGN_MAX_PWR, __ARM_ALIGN_MAX_STACK_PWR.\n\ngcc/testsuite/\n\n2015-06-24  Renlin Li  <renlin.li@arm.com>\n\n\t* gcc.target/aarch64/arm_align_max_pwr.c: New.\n\t* gcc.target/aarch64/arm_align_max_stack_pwr.c: New.\n\nFrom-SVN: r224898", "tree": {"sha": "748586f49cea5707b95e41db24e681df197893a3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/748586f49cea5707b95e41db24e681df197893a3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b6aada16ddfa4398e6d67711f856edf84c817300", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6aada16ddfa4398e6d67711f856edf84c817300", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b6aada16ddfa4398e6d67711f856edf84c817300", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6aada16ddfa4398e6d67711f856edf84c817300/comments", "author": null, "committer": null, "parents": [{"sha": "a2055cc9e51d9da98360d02b3a1e9880a0a444f3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a2055cc9e51d9da98360d02b3a1e9880a0a444f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a2055cc9e51d9da98360d02b3a1e9880a0a444f3"}], "stats": {"total": 44, "additions": 44, "deletions": 0}, "files": [{"sha": "6c4a26788788d147af3a70e5239d88116fd6384e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6aada16ddfa4398e6d67711f856edf84c817300/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6aada16ddfa4398e6d67711f856edf84c817300/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b6aada16ddfa4398e6d67711f856edf84c817300", "patch": "@@ -1,3 +1,8 @@\n+2015-06-24 Renlin Li <renlin.li@arm.com>\n+\n+\t* config/aarch64/aarch64.h(TARGET_CPU_CPP_BUILTINS): Add\n+\t__ARM_ALIGN_MAX_PWR, __ARM_ALIGN_MAX_STACK_PWR.\n+\n 2015-06-24  Richard Biener  <rguenther@suse.de>\n \n \t* genmatch.c (enum tree_code): Add VIEW_CONVERT[012]."}, {"sha": "8b2d2ca6ff7d59e9c755c6efe9061c249af13e8a", "filename": "gcc/config/aarch64/aarch64.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6aada16ddfa4398e6d67711f856edf84c817300/gcc%2Fconfig%2Faarch64%2Faarch64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6aada16ddfa4398e6d67711f856edf84c817300/gcc%2Fconfig%2Faarch64%2Faarch64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.h?ref=b6aada16ddfa4398e6d67711f856edf84c817300", "patch": "@@ -28,6 +28,10 @@\n     {\t\t\t\t\t\t\t\\\n       builtin_define (\"__aarch64__\");                   \\\n       builtin_define (\"__ARM_64BIT_STATE\");             \\\n+      builtin_define_with_int_value                     \\\n+        (\"__ARM_ALIGN_MAX_PWR\", 28);                    \\\n+      builtin_define_with_int_value                     \\\n+        (\"__ARM_ALIGN_MAX_STACK_PWR\", 16);              \\\n       builtin_define_with_int_value                     \\\n         (\"__ARM_ARCH\", aarch64_architecture_version);   \\\n       cpp_define_formatted                                              \\"}, {"sha": "4de4285981704145f362205d03788c7ec9c5ae78", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6aada16ddfa4398e6d67711f856edf84c817300/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6aada16ddfa4398e6d67711f856edf84c817300/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b6aada16ddfa4398e6d67711f856edf84c817300", "patch": "@@ -1,3 +1,8 @@\n+2015-06-24  Renlin Li  <renlin.li@arm.com>\n+\n+\t* gcc.target/aarch64/arm_align_max_pwr.c: New.\n+\t* gcc.target/aarch64/arm_align_max_stack_pwr.c: New.\n+\n 2015-06-24  Patrick Palka  <ppalka@gcc.gnu.org>\n \n \tRevert:"}, {"sha": "bbb4c6f9d04672936cdbb905eacf3b9e43f39e93", "filename": "gcc/testsuite/gcc.target/aarch64/arm_align_max_pwr.c", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6aada16ddfa4398e6d67711f856edf84c817300/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Farm_align_max_pwr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6aada16ddfa4398e6d67711f856edf84c817300/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Farm_align_max_pwr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Farm_align_max_pwr.c?ref=b6aada16ddfa4398e6d67711f856edf84c817300", "patch": "@@ -0,0 +1,15 @@\n+/* { dg-do run } */\n+\n+#include <stdio.h>\n+#include <assert.h>\n+\n+#define align (1ul << __ARM_ALIGN_MAX_PWR)\n+static int x __attribute__ ((aligned (align)));\n+\n+int\n+main ()\n+{\n+  assert ((((unsigned long)&x) & (align - 1)) == 0);\n+\n+  return 0;\n+}"}, {"sha": "7a6355b054e4b1903068498f4aff2fd6208eeb2e", "filename": "gcc/testsuite/gcc.target/aarch64/arm_align_max_stack_pwr.c", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6aada16ddfa4398e6d67711f856edf84c817300/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Farm_align_max_stack_pwr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6aada16ddfa4398e6d67711f856edf84c817300/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Farm_align_max_stack_pwr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Farm_align_max_stack_pwr.c?ref=b6aada16ddfa4398e6d67711f856edf84c817300", "patch": "@@ -0,0 +1,15 @@\n+/* { dg-do run } */\n+\n+#include <stdio.h>\n+#include <assert.h>\n+\n+#define align (1ul << __ARM_ALIGN_MAX_STACK_PWR)\n+\n+int\n+main ()\n+{\n+  int x __attribute__ ((aligned (align)));\n+\n+  assert ((((unsigned long)&x) & (align - 1)) == 0);\n+  return 0;\n+}"}]}