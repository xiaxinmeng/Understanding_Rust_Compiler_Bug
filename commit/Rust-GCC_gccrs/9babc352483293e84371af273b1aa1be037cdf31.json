{"sha": "9babc352483293e84371af273b1aa1be037cdf31", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWJhYmMzNTI0ODMyOTNlODQzNzFhZjI3M2IxYWExYmUwMzdjZGYzMQ==", "commit": {"author": {"name": "Marek Polacek", "email": "polacek@redhat.com", "date": "2015-04-30T09:28:48Z"}, "committer": {"name": "Marek Polacek", "email": "mpolacek@gcc.gnu.org", "date": "2015-04-30T09:28:48Z"}, "message": "c-typeck.c (set_init_label): Call error_at instead of error and pass LOC to it.\n\n\t* c-typeck.c (set_init_label): Call error_at instead of error and\n\tpass LOC to it.\n\n\t* gcc.dg/init-bad-8.c: New test.\n\nFrom-SVN: r222613", "tree": {"sha": "183c206c1e7758eb0e2f52fb82d6947aff7124df", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/183c206c1e7758eb0e2f52fb82d6947aff7124df"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9babc352483293e84371af273b1aa1be037cdf31", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9babc352483293e84371af273b1aa1be037cdf31", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9babc352483293e84371af273b1aa1be037cdf31", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9babc352483293e84371af273b1aa1be037cdf31/comments", "author": {"login": "mpolacek", "id": 10496300, "node_id": "MDQ6VXNlcjEwNDk2MzAw", "avatar_url": "https://avatars.githubusercontent.com/u/10496300?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpolacek", "html_url": "https://github.com/mpolacek", "followers_url": "https://api.github.com/users/mpolacek/followers", "following_url": "https://api.github.com/users/mpolacek/following{/other_user}", "gists_url": "https://api.github.com/users/mpolacek/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpolacek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpolacek/subscriptions", "organizations_url": "https://api.github.com/users/mpolacek/orgs", "repos_url": "https://api.github.com/users/mpolacek/repos", "events_url": "https://api.github.com/users/mpolacek/events{/privacy}", "received_events_url": "https://api.github.com/users/mpolacek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "c064f154a65870a48131f699312d312b7ae1cc81", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c064f154a65870a48131f699312d312b7ae1cc81", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c064f154a65870a48131f699312d312b7ae1cc81"}], "stats": {"total": 21, "additions": 20, "deletions": 1}, "files": [{"sha": "0ee7f1bb8232514e422d9cc4ae64b39ccac9a426", "filename": "gcc/c/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9babc352483293e84371af273b1aa1be037cdf31/gcc%2Fc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9babc352483293e84371af273b1aa1be037cdf31/gcc%2Fc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc%2FChangeLog?ref=9babc352483293e84371af273b1aa1be037cdf31", "patch": "@@ -1,3 +1,8 @@\n+2015-04-30  Marek Polacek  <polacek@redhat.com>\n+\n+\t* c-typeck.c (set_init_label): Call error_at instead of error and\n+\tpass LOC to it.\n+\n 2015-04-29  Thomas Schwinge  <thomas@codesourcery.com>\n \n \t* c-parser.c (c_parser_oacc_enter_exit_data): Use"}, {"sha": "466079f42c5372f4bf0d95f95991d8857418e928", "filename": "gcc/c/c-typeck.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9babc352483293e84371af273b1aa1be037cdf31/gcc%2Fc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9babc352483293e84371af273b1aa1be037cdf31/gcc%2Fc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc%2Fc-typeck.c?ref=9babc352483293e84371af273b1aa1be037cdf31", "patch": "@@ -7926,7 +7926,7 @@ set_init_label (location_t loc, tree fieldname,\n   field = lookup_field (constructor_type, fieldname);\n \n   if (field == 0)\n-    error (\"unknown field %qE specified in initializer\", fieldname);\n+    error_at (loc, \"unknown field %qE specified in initializer\", fieldname);\n   else\n     do\n       {"}, {"sha": "861077bab8bbd44271a22f7634c6266a7455738d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9babc352483293e84371af273b1aa1be037cdf31/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9babc352483293e84371af273b1aa1be037cdf31/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=9babc352483293e84371af273b1aa1be037cdf31", "patch": "@@ -1,3 +1,7 @@\n+2015-04-30  Marek Polacek  <polacek@redhat.com>\n+\n+\t* gcc.dg/init-bad-8.c: New test.\n+\n 2015-04-30  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/59955"}, {"sha": "b321323219c40dcee567be025221d8bdb6788fd9", "filename": "gcc/testsuite/gcc.dg/init-bad-8.c", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9babc352483293e84371af273b1aa1be037cdf31/gcc%2Ftestsuite%2Fgcc.dg%2Finit-bad-8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9babc352483293e84371af273b1aa1be037cdf31/gcc%2Ftestsuite%2Fgcc.dg%2Finit-bad-8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Finit-bad-8.c?ref=9babc352483293e84371af273b1aa1be037cdf31", "patch": "@@ -0,0 +1,10 @@\n+/* { dg-do compile } */\n+/* { dg-options \"\" } */\n+\n+struct S { int i, j, k; };\n+\n+void\n+foo (void)\n+{\n+  struct S s = { .i = 1, .j = 2, .l = 4}; /* { dg-error \"34:unknown field .l. specified in initializer\" } */\n+}"}]}