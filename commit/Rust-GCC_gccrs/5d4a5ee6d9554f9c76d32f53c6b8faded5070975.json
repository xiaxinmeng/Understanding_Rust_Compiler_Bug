{"sha": "5d4a5ee6d9554f9c76d32f53c6b8faded5070975", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWQ0YTVlZTZkOTU1NGY5Yzc2ZDMyZjUzYzZiOGZhZGVkNTA3MDk3NQ==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-10-12T10:44:57Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-10-12T10:44:57Z"}, "message": "Final changes from devo<->egcs merge.\n\nFinal changes from devo<->egcs merge.  Ugh, a year of configury/Makefile\nhacking.\n\nFrom-SVN: r23012", "tree": {"sha": "1bd7c90031c4df6ff7aa3ecfb95396422f1599bf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1bd7c90031c4df6ff7aa3ecfb95396422f1599bf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5d4a5ee6d9554f9c76d32f53c6b8faded5070975", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d4a5ee6d9554f9c76d32f53c6b8faded5070975", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d4a5ee6d9554f9c76d32f53c6b8faded5070975", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d4a5ee6d9554f9c76d32f53c6b8faded5070975/comments", "author": null, "committer": null, "parents": [{"sha": "fdb8a883a4f3415aec0434737c9446f80d0133f0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fdb8a883a4f3415aec0434737c9446f80d0133f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fdb8a883a4f3415aec0434737c9446f80d0133f0"}], "stats": {"total": 901, "additions": 728, "deletions": 173}, "files": [{"sha": "890ca8867abb2c4859593ab2bce5c03c19cf094e", "filename": "ChangeLog", "status": "modified", "additions": 368, "deletions": 5, "changes": 373, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d4a5ee6d9554f9c76d32f53c6b8faded5070975/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d4a5ee6d9554f9c76d32f53c6b8faded5070975/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=5d4a5ee6d9554f9c76d32f53c6b8faded5070975", "patch": "@@ -8,6 +8,12 @@ Wed Sep 30 22:20:50 1998  Robert Lipe  <robertl@dgii.com>\n \t* config.sub: Add support for i[34567]86-pc-udk.\n \t* configure.in: Likewise.\n \n+Wed Sep 30 19:23:48 1998  Geoffrey Noer  <noer@cygnus.com>\n+\n+\t* Makefile.in: add bzip2 package building bits for user\n+\ttools module\n+\t* configure.in: ditto\n+\n Wed Sep 30 03:00:05 1998  Jeffrey A Law  (law@cygnus.com)\n \n \t* Makefile.in (TARGET_CONFIGDIRS): Add libobjc.\n@@ -21,6 +27,10 @@ Wed Sep 30 03:00:05 1998  Jeffrey A Law  (law@cygnus.com)\n \n \t* configure.in (target_subdir): Remove duplicate line.\n \n+Tue Sep 29 22:45:41 1998  Felix Lee  <flee@cygnus.com>\n+\n+\t* Makefile.in (all-automake): fix dependencies.\n+\n Mon Sep 28 04:04:27 1998  Jeffrey A Law  (law@cygnus.com)\n \n \t* configure.in: Minor cleanups for building in the $(target_alias)\n@@ -98,6 +108,30 @@ Sat Aug 29 14:32:55 1998  David Edelsohn  <edelsohn@mhpcc.edu>\n \n \t* configure: Fix --without/--disable cases for gxx-include-dir.\n \n+Fri Aug 28 12:28:26 1998  Per Bothner  <bothner@cygnus.com>\n+\n+\t* mdata-sh:  Imported.  Needed for automake support.\n+\n+Thu Aug 13 12:49:29 1998  H.J. Lu  <hjl@gnu.org>\n+\n+\t* Makefile.in (taz): Try \"chmod -R og=u .\" before\n+\t\"chmod og=u `find . -print`\".\n+\n+Fri Jul 31 09:38:33 1998  Catherine Moore  <clm@cygnus.com>\n+\n+\t* configure.in: Add arm-elf and thumb-elf support.\n+\n+Mon Jul 27 16:23:58 1998  Doug Evans  <devans@canuck.cygnus.com>\n+\n+\t* Makefile.in: Undo previous patch.\n+\n+Fri Jul 24 19:55:24 1998  Doug Evans  <devans@canuck.cygnus.com>\n+\n+\t* Makefile.in (INSTALL_TARGET): Move EXTRA_TARGET_HOST_INSTALL_MODULES\n+\tto here ...\n+\t(install-no-fixedincludes): and here\n+\t(INSTALL_MODULES): ... from here.\n+\n Fri Jul 24 17:01:42 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* config.sub: Merge with FSF.\n@@ -115,17 +149,50 @@ Sun Jul 19 00:46:53 CEST 1998  Marc Lehmann <pcg@goof.com>\n \n Fri Jul 17 13:30:18 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n-        * ylwrap: Change absolute path checks to check for DOS style path\n-        names.\n+\t* ylwrap: Change absolute path checks to check for DOS style path\n+\tnames.\n \n-        * ylwrap: Don't use a full path name if the source file is in the\n-        same directory.  From hjl@lucon.org (H.J. Lu).\n+\t* ylwrap: Don't use a full path name if the source file is in the\n+\tsame directory.  From hjl@lucon.org (H.J. Lu).\n \n \t* config-ml.in: Default to being verbose, to match Feb 18 change to\n \tconfigure.\n \n+Thu Jul 16 12:29:51 1998  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\tBrought over from egcs:\n+\n+\tSat Jun 27 22:46:32 1998  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* configure.in (target_subdir): Set to ${target_alias} instead\n+\tof \"libraries\".\n+\n+\tMon Sep  1 16:45:44 1997  Jim Wilson  <wilson@cygnus.com>\n+\n+\t* configure.in (target_subdir): Set to libraries if enable_multilib.\n+\n+Wed Jul 15 01:00:54 1998  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\t* Makefile.in ($(CONFIGURE_TARGET_MODULES)): If there are any\n+\tmultilibs, force reconfiguration the first time we create\n+\tmultilib.out in a subdirectory, in case TARGET_SUBDIR is `.'.\n+\n+Tue Jul 14 23:41:03 1998  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\t* configure.in: Strip any --no option from CONFIG_ARGUMENTS, to\n+\tavoid confusion with --no-recursion.\n+\n+Tue Jul 14 15:37:41 1998  Geoffrey Noer  <noer@cygnus.com>\n+\n+\t* configure.in: Win32 hosts shouldn't use install -x\n+\t* install-sh: remove -x option, and special .exe-handling\n+\thack.\n+\n Tue Jul 14 13:22:18 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n+\t* configure: If CC is set but CFLAGS is not, and CC is gcc, make\n+\tCFLAGS default to -O2.\n+\n \t* ltmain.sh: Add some hacks to make SunOS --enable-shared work\n \twhen using GNU ld.\n \n@@ -177,6 +244,10 @@ Sat Jun 27 22:46:32 1998  Jeffrey A Law  (law@cygnus.com)\n \t(recursion line): Pass a --with-gcc-version=${gcc_version}\n \tto configures in subdirs.\n \n+Tue Jun 23 22:42:32 1998  Mark Alexander  <marka@cygnus.com>\n+\n+\t* configure.in: Add cygmon and libstub support for mn10200.\n+\n 1998-06-19  Manfred Hollstein  <manfred@s-direktnet.de>\n \n \t* configure (gcc_version): Add new variable describing the\n@@ -198,6 +269,18 @@ Thu Jun 18 11:26:03 1998  Robert Lipe  <robertl@dgii.com>\n \n \t* config.guess: Detection of Pentium II for *-sco-3.2v5*.\n \n+Mon Jun 15 14:53:54 1998  Andrew Cagney  <cagney@b1.cygnus.com>\n+\n+\t* Makefile.in (grep): Grep no longer depends on libiberty.\n+\n+Fri Jun 12 14:03:34 1998  Syd Polk  <spolk@cygnus.com>\n+\n+\t* Makefile.in: all-snavigator needs all-libgui.\n+\n+Thu Jun 11 19:43:47 1998  Mark Alexander  <marka@cygnus.com>\n+\n+\t* configure.in: Add cygmon and libstub support for mn10300.\n+\n Wed Jun 10 11:19:47 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* missing: Update to version from automake 1.3.\n@@ -209,6 +292,12 @@ Wed Jun  3 14:51:42 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* config.sub: Accept m68060 and m5200 as CPU names.\n \n+Mon Jun  1 17:25:16 1998  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\t* configure: Use && rather than using -a in test, because odd\n+\tstrings can confuse test.\n+\t* configure.in: Likewise.\n+\n Thu May 28 19:31:13 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* ltconfig, ltmain.sh: Bring in Visual C++ support.\n@@ -222,15 +311,36 @@ Mon May 11 23:55:56 1998  Jeffrey A Law  (law@cygnus.com)\n \n \t* mpw-* Delete.  Not used.\n \n+Mon May 11 23:11:34 1998  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* COPYING.LIB: Update FSF address.\n+\n Fri May  8 01:30:20 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* ltconfig, ltmain.sh: Update to libtool 1.2a.\n \n+\t* Makefile.in (GASB_SUPPORT_DIRS): Remove intl; already included via\n+\tGAS_SUPPORT_DIRS.\n+\n Thu May  7 17:27:35 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* ltconfig, ltmain.sh: Avoid producing a version number if\n \t-version-info was not used.\n \n+Tue May  5 18:02:24 1998  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\t* configure.in: Add --with-newlib to CONFIG_ARGUMENTS if we are\n+\tbuilding with newlib.\n+\n+1998-04-30  Paul Eggert  <eggert@twinsun.com>\n+\n+        * Makefile.in (EXTRA_GCC_FLAGS): Remove backslash at end;\n+\tSolaris `make' causes it to continue to next definition.\n+\n+Tue Apr 28 18:11:24 1998  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\t* configure.in: Change alpha to alpha* in several places.\n+\n Tue Apr 28 07:35:02 1998  Michael Meissner  <meissner@cygnus.com>\n \n \t* configure.in (--enable-target-optspace): Remove debug echo.\n@@ -243,17 +353,51 @@ Thu Apr 23 12:26:38 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* ltconfig: Update cygwin32 support.\n \n+\t* Makefile.in (GAS_SUPPORT_DIRS): Add intl.\n+\t(BINUTILS_SUPPORT_DIRS, GASB_SUPPORT_DIRS): Likewise.\n+\t(GDB_SUPPORT_DIRS): Likewise.\n+\n Wed Apr 22 12:30:10 1998  Michael Meissner  <meissner@cygnus.com>\n \n \t* configure.in (target_makefile_frag): If --enable-target-optspace,\n \tuse -Os to compile target libraries rather than -O2.  Default to\n \tusing -Os for m32r if --{enable,disable}-target-optspace is not\n \tused.\n \n+Tue Apr 21 23:06:54 1998  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* Makefile.in (all-bfd): Depend on all-intl.\n+\t(all-binutils): Likewise.\n+\t(all-gas): Likewise.\n+\t(all-gprof): Likewise.\n+\t(all-ld): Likewise.\n+\n+1998-04-19  Brendan Kehoe  <brendan@cygnus.com>\n+\n+\t* configure.in (host_tools): Fix typo, lbtool -> libtool.\n+\n Fri Apr 17 16:20:42 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n+\t* Makefile.in (all-bfd): Depend upon all-libiberty.\n+\n \t* ltconfig, ltmain.sh: Bring in newer cygwin32 support.\n \n+Fri Apr 17 12:22:22 1998  Bob Manson  <manson@charmed.cygnus.com>\n+\n+\t* Makefile.in: Add libstub.\n+\n+\t* configure.in: Ditto. Build libstub for targets that have cygmon\n+\tsupport.\n+\n+Tue Apr 14 18:01:55 1998  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\t* configure.in: Don't set PICFLAG on ix86-cygwin32.\n+\n+Tue Apr 14 12:24:45 1998  J. Kean Johnston  <jkj@sco.com>\n+\n+\t* configure.in: Recognise i[3456]96-*-sysv5* as a valid host, and\n+\tuse mh-sysv5 if specified.  Support gprof on SCO Open Server.\n+\n Tue Apr 14 11:33:51 1998  Krister Walfridsson <cato@df.lth.se>\n \n \t* configure: Define DEFAULT_M4 by searching PATH.\n@@ -263,15 +407,57 @@ Mon Apr 13 15:37:24 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* ltconfig: Add cygwin32 support.\n \n+\t* Makefile.in, configure.in: Add libtool as a native only directory\n+\tto configure and build.\n+\n Sun Apr 12 20:58:46 1998  Jeffrey A Law  (law@cygnus.com)\n \n \t* Makefile.in (INSTALL_MODULES): Remove texinfo.\n \n+Wed Apr  8 13:18:56 1998  Philippe De Muyter  <phdm@macqel.be>\n+ \n+\t* Makefile.in (EXTRA_GCC_FLAGS): XFOO lines shortened.\n+\n+Thu Apr  2 14:48:44 1998  Geoffrey Noer  <noer@cygnus.com>\n+\n+\t* Makefile.in: add ash make rules\n+\t* configure.in: add ash to native_only and host_tools lists\n+\n+Thu Mar 26 12:53:20 1998  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* Makefile.in (all-gettext, all-intl): New targets.\n+\t(ALL_MODULES): Added all-gettext, all-intl.\n+\t(CROSS_CHECK_MODULES): Added check-gettext, check-intl.\n+\t(INSTALL_MODULES): Added install-gettext, install-intl.\n+\t(CLEAN_MODULES): Added clean-gettext, clean-intl.\n+\n+\t* configure.in (host_tools): Added gettext.\n+\t(native_only): Likewise.\n+\t(noconfigdirs) [various cases]: Likewise.\n+\t(host_libs): Added intl.\n+\n Wed Mar 25 10:04:18 1998  Nick Clifton  <nickc@cygnus.com>\n \n \t* configure.in: Add thumb-coff target.\n \t* config.sub: Add thumb-coff target.\n \n+Wed Mar 25 11:49:12 1998  Jason Molenda  (crash@bugshack.cygnus.com)\n+\n+\t* Makefile.in: Revert yesterday's change.\n+\t(all-target-winsup):  all-target-librx stays out of here.\n+\n+Tue Mar 24 16:58:29 1998  Jason Molenda  (crash@bugshack.cygnus.com)\n+\n+\t* Makefile.in (TARGET_CONFIGDIRS, ALL_TARGET_MODULES,\n+\tCONFIGURE_TARGET_MODULES, CHECK_TARGET_MODULES,\n+\tINSTALL_TARGET_MODULES, CLEAN_TARGET_MODULES, all-target-winsup):\n+\tRemove references to librx and libg++.\n+\n+Tue Mar 24 18:28:12 1998  Eric Mumpower  <nocturne@cygnus.com>\n+\n+\t* Makefile.in (BASE_FLAGS_TO_PASS): Pass $(lispdir) down to\n+\trecursive makes\n+\n Tue Mar 24 11:37:45 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* Makefile.in (CC_FOR_TARGET): Use $(TARGET_SUBDIR) when passing -B\n@@ -297,6 +483,10 @@ Fri Mar 20 09:32:14 1998  Manfred Hollstein  <manfred@s-direktnet.de>\n \t* Makefile.in ($(CONFIGURE_TARGET_MODULES)): Set CONFIG_SITE to a\n \tnon-existent file since /dev/null loses with bash 2.0/autoconf 2.12.\n \n+Tue Mar 17 16:59:00 1998  Syd Polk <spolk@cygnus.com>\n+\t* Makefile.in - changed sn targets to snavigator\n+\t* configure.in - changed sn targets to snavigator\n+\n Tue Mar 17 10:33:28 1998  Manfred Hollstein  <manfred@s-direktnet.de>\n \n \t* config-ml.in: After building symlink tree call make distclean\n@@ -320,6 +510,26 @@ Mon Feb 23 15:09:18 1998  Bruno Haible <bruno@linuix.mathematik.uni-karlsruhe.de\n \n         * config.sub (sco5): Fix typo.\n \n+Mon Feb 23 14:46:06 1998  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\t* Makefile.in (INSTALL_MODULES): Move install-tcl before\n+\tinstall-itcl.\n+\t(install-itcl): Remove dependency on install-tcl.\n+\n+Mon Feb 23 09:53:28 1998  Mark Alexander  <marka@cygnus.com>\n+\n+\t* configure.in: Remove libgloss from noconfigdirs for MN10300.\n+\n+Thu Feb 19 13:40:41 1998  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\t* configure.in: Don't build libgui for a cygwin32 target when not on\n+\ta cygwin32 host.\n+\n+Wed Feb 18 12:29:00 1998  Jason Molenda  (crash@bugshack.cygnus.com)\n+\n+\t* configure (redirect): Set to null, so default behavior of\n+\tconfigure is now --verbose.\n+\n 1998-02-16  Dave Love  <d.love@dl.ac.uk>\n \n \t* Makefile.in ($(CONFIGURE_TARGET_MODULES)): Run configure with\n@@ -330,6 +540,12 @@ Mon Feb 16 12:23:53 1998  Manfred Hollstein  <Manfred.Hollstein@ks.sel.alcatel.d\n \t* Makefile.in (BASE_FLAGS_TO_PASS, EXTRA_TARGET_FLAGS): Really add\n \tthis change to sync Makefile.in with its ChangeLog entries.\n \n+Thu Feb 12 15:03:08 1998  H.J. Lu  <hjl@gnu.org>\n+\n+\t* ltmain.sh (mkdir): Check that the directory doesn't exist\n+\tbefore we exit with error, so that we don't get races during\n+\tparallel builds.\n+\n Sat Feb  7 15:19:18 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* ltconfig, ltmain.sh: Update from libtool 1.0i.\n@@ -348,10 +564,23 @@ Fri Feb  6 01:33:52 1998  Manfred Hollstein  <manfred@s-direktnet.de>\n \t* config/mt-sparcpic (PICFLAG_FOR_TARGET): Define to properly\n \taccording to current multilib configuration.\n \n+Thu Feb  5 17:01:12 1998  Jason Molenda  (crash@bugshack.cygnus.com)\n+\n+\t* configure.in (host_tools, native_only): Add libtool.\n+\n+Wed Feb  4 16:53:58 1998  Geoffrey Noer  <noer@cygnus.com>\n+\n+\t* configure.in: add target-gperf to noconfigdirs for Cygwin32.\n+\tFix typo in ming config comment.\n+\n Wed Feb  4 18:56:13 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* ltconfig, ltmain.sh: Update from libtool 1.0h.\n \n+Mon Feb  2 19:38:19 1998  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\t* config.sub: Add tic30 cases, and map c30 to tic30.\n+\n Sun Feb  1 02:40:41 1998  Richard Henderson  <rth@cygnus.com>\n \n \t* Makefile.in (TARGET_CONFIGDIRS): Add libf2c.\n@@ -361,8 +590,17 @@ Sun Feb  1 02:40:41 1998  Richard Henderson  <rth@cygnus.com>\n \t(all-target-libf2c): Add dependences.\n \t* configure.in (target_libs): Add libf2c. \n \n+Fri Jan 30 17:18:32 1998  Geoffrey Noer  <noer@cygnus.com>\n+\n+\t* configure.in: Remove expect from noconfigdirs when target\n+\tis cygwin32.  OK to build expect and dejagnu with Canadian\n+\tCross.\n+\n Wed Jan 28 12:58:49 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n+\t* configure.in: Do build expect, dejagnu, and cvssrc for a cygwin32\n+\thost.\n+\n \t* config.guess: Use ${UNAME_MACHINE} rather than i386 for cygwin32\n \tand mingw32.\n \n@@ -381,7 +619,7 @@ Tue Jan 27 23:25:06 1998  Manfred Hollstein  <manfred@s-direktnet.de>\n Tue Jan 27 23:15:55 1998  Lassi A. Tuura  <lat@iki.fi>\n \n \t* config.guess: More accurate determination of HP processor types.\n-        * config.sub: More accurate determination of HP processor types.\n+\t* config.sub: More accurate determination of HP processor types.\n \n Sat Jan 24 01:59:45 1998  Manfred Hollstein  <manfred@s-direktnet.de>\n \n@@ -412,6 +650,19 @@ Fri Jan 16 00:41:37 1998  Alexandre Oliva <oliva@dcc.unicamp.br>\n \t* configure.in: check whether host and target makefile\n \tfragments exist before adding them to *_makefile_frag\n \n+Wed Jan 14 23:39:10 1998  Bob Manson  <manson@charmed.cygnus.com>\n+\n+\t* configure.in (target_configdirs): Add cygmon for sparc64-elf.\n+\n+Wed Jan 14 12:48:07 1998  Keith Seitz  <keiths@pizza.cygnus.com>\n+\n+\t* configure.in: Make sure we only replace RPATH_ENVVAR on\n+\tlines which begin with RPATH_ENVVAR, i.e. add \"^\" to the\n+\tregexp to sed.\n+\n+\t* Makefile.in (BASE_FLAGS_TO_PASS): Pass RRPATH_ENVVAR down\n+\tto sub-makes.\n+\n 1998-01-13  Lee Iverson   (leei@ai.sri.com)\n \n \t* config-ml.in (multi-do): LDFLAGS must include multilib\n@@ -431,6 +682,17 @@ Sat Jan  3 12:11:05 1998 Franz Sirl <franz.sirl-kernel@lauterbach.com>\n \n \t* configure.in: Finalize support for {alpha|powerpc}*-*-linux-gnulibc1\n \n+Sun Dec 28 11:28:58 1997  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* Makefile.in (INSTALL_TARGET): Do install-gcc first.\n+\t* configure (gxx_include_dir): Provide a definition for subdirs\n+\twhich do not use autoconf.\n+\n+Wed Dec 24 22:46:55 1997  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* config.guess: Sync with egcs.  Picks up new alpha support,\n+\tBeOS & some additional linux support.\n+\n Tue Dec 23 12:44:24 1997  Jeffrey A Law  (law@cygnus.com)\n \n \t* config.guess: HP 9000/803 is a PA1.1 machine.\n@@ -446,10 +708,38 @@ Sun Dec 21 16:53:12 1997  H.J. Lu  (hjl@gnu.ai.mit.edu)\n \t(alpha-*-linux*): Treat alpha-*-linux* as alpha-*-linux* and\n \talpha-*-*.\n \n+Tue Dec 16 17:36:05 1997  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\t* Makefile.in: Add libgui directory.\n+\t(GDB_TK): Add all-libgui.\n+\t* configure.in: Add libgui directory.\n+\t* configure: Add all-libgui to GDB_TK.\n+\n+Mon Dec 15 16:12:28 1997  Nick Clifton  <nickc@cygnus.com>\n+\n+\t* config-ml.in (multidirs): Add m32r to multilib list.\n+\n+Fri Dec 12 10:43:31 1997  Brendan Kehoe  <brendan@canuck.cygnus.com>\n+\n+\t* Makefile.in (all-target-gperf): Change dependency to\n+\tall-target-libstdc++.\n+\n Thu Dec 11 23:30:51 1997  Fred Fish  <fnf@ninemoons.com>\n \n \t* config.guess: Add BeOS support.\n \n+Wed Dec 10 15:10:38 1997  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\tSource directory cvs renamed to cvssrc:\n+\t* configure.in (host_tools): Change cvs to cvssrc.\n+\t(native_only): Likewise.\n+\t(noconfigdirs) [various cases]: Likewise.\n+\t* Makefile.in (ALL_MODULES): Change all-cvs to all-cvssrc.\n+\t(CROSS_CHECK_MODULES): Change check-cvs to check-cvssrc.\n+\t(INSTALL_MODULES): Change install-cvs to install-cvssrc.\n+\t(CLEAN_MODULES): Change clean-cvs to clean-cvssrc.\n+\t(all-cvssrc): Rename target from all-cvs.\n+\n Wed Dec  3 07:55:59 1997  Jeffrey A Law  (law@cygnus.com)\n \n \t* configure (gxx_include_dir): Fix thinko.\n@@ -459,6 +749,18 @@ Tue Dec  2 10:55:34 1997  Jeffrey A Law  (law@cygnus.com)\n \t* Makefile.in (INSTALL_TARGET_CROSS): Define.\n \t(install-cross, install-gcc-cross): New targets.\n \n+Tue Dec  2 10:08:31 1997  Nick Clifton  <nickc@cygnus.com>\n+\n+\t* configure.in (noconfigdirs): Add support for Thumb target.\n+\n+\t* config.sub (maybe_os): Add support for Thumb target.\n+\n+Sun Nov 30 16:12:27 1997  Bob Manson  <manson@charmed.cygnus.com>\n+\n+\t* Makefile.in: Add rules for cygmon.\n+\n+\t* configure.in: Build cygmon for sparc-elf and sparclite-aout.\n+\n Thu Nov 27 01:31:30 1997  Jeffrey A Law  (law@cygnus.com)\n \n \t* Makefile.in (INSTALL_TARGET): Do install-gcc first.\n@@ -480,6 +782,23 @@ Thu Nov 13 11:38:37 1997  Jeffrey A Law  (law@cygnus.com)\n \n \t* configure.in (i[3456]86-ncr-sysv4.3*): Tweak.\n \n+Mon Nov 10 15:23:21 1997  H.J. Lu  <hjl@gnu.ai.mit.edu>\n+\n+\t* ltmain.sh: If mkdir fails, check whether the directory was created\n+\tanyhow by some other process.\n+\n+Fri Nov  7 10:34:09 1997  Rob Savoye  <rob@darkstar.cygnus.com>\n+\n+        * include/libiberty.h: Add extern \"C\" { so it can be used with C++\n+        progrms.\n+        * include/remote-sim.h:  Add extern \"C\" { so it can be used with C++\n+        programs.\n+\n+Mon Oct 27 13:17:24 1997  Stan Shebs  <shebs@andros.cygnus.com>\n+\n+\t* configure.in: Remove a \"second pass\" of tweaking noconfigdirs,\n+\tis no longer needed.\n+\n Mon Oct 27 12:03:53 1997  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* Makefile.in: check-target-libio depends on all-target-libstdc++.\n@@ -514,6 +833,10 @@ Thu Sep 18 21:43:23 1997  Alexandre Oliva  <oliva@dcc.unicamp.br>\n \t* configure: Rewrite so that project Makefile fragment is inserted\n \tfirst and appears last in the resulting Makefile.\n \n+Fri Sep 12 16:19:20 1997  Geoffrey Noer  <noer@cygnus.com>\n+\n+\t* configure.in: remove bison from noconfigdirs for Cygwin32 host\n+\n Thu Sep 11 16:40:46 1997  H.J. Lu  (hjl@gnu.ai.mit.edu)\n \n \t* Makefile.in (local-distclean): Also remove mh-frag mt-frag.\n@@ -1306,10 +1629,26 @@ Mon Sep 16 17:00:52 1996  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* configure.in: Use a single line for host_tools and native_only.\n \n+Tue Sep 16 09:55:07 1997  Andrew Cagney  <cagney@b1.cygnus.com>\n+\n+\t* Makefile.in (install-itcl): Install tcl first.\n+\n+Sun Sep 14 20:53:42 1997  Geoffrey Noer  <noer@cygnus.com>\n+\n+\t* config/mh-cygwin32: ok to build split texinfo files\n+\n+Fri Sep 12 16:19:20 1997  Geoffrey Noer  <noer@cygnus.com>\n+\n+\t* configure.in: remove bison from noconfigdirs for Cygwin32 host\n+\n Mon Sep  9 12:21:30 1996  Doug Evans  <dje@canuck.cygnus.com>\n \n \t* config.sub, configure.in: Add entries for m32r.\n \n+Mon Sep  8 20:46:20 1997  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\t* config.guess: Merge with FSF.\n+\n Thu Sep  5 13:52:47 1996  Tom Tromey  <tromey@creche.cygnus.com>\n \n \t* Makefile.in (inet-install): Don't run install-gzip.\n@@ -1336,6 +1675,10 @@ Mon Aug 26 18:34:42 1996  Martin M. Hunt  <hunt@pizza.cygnus.com>\n \n \t* configure.in (noconfigdirs): Removed gdb for D10V.\n \n+Tue Aug 26 16:46:46 1997  Andrew Cagney  <cagney@b1.cygnus.com>\n+\n+\t* Makefile.in (all-sim): Depends on all-readline.\n+\n Wed Aug 21 18:56:38 1996  Fred Fish  <fnf@cygnus.com>\n \n \t* configure: Fix three locations where shell scripts were\n@@ -3882,6 +4225,10 @@ Fri Oct  8 14:15:39 1993  Ken Raeburn  (raeburn@cygnus.com)\n \t* config.sub: Accept linux*coff and linux*elf as operating\n \tsystems.\n \n+Tue Oct  7 14:24:41 1997  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\t* ltmain.sh: Handle symlinks in generated script.\n+\n Thu Oct  7 12:57:19 1993  Ian Lance Taylor  (ian@tweedledumb.cygnus.com)\n \n \t* config.sub: Recognize mips64, and mips3 as an alias for it.\n@@ -3906,11 +4253,27 @@ Mon Oct  4 16:15:09 1993  david d `zoo' zuhn  (zoo@rtl.cygnus.com)\n \t--with options (but still pass them down on the command line,\n \tif they were explicitly specified).\n \n+Wed Oct  1 13:11:27 1997  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\t* configure: Handle autoconf style directory options: --bindir,\n+\t--datadir, --includedir, --infodir, --libdir, --libexecdir,\n+\t--mandir, --oldincludedir, --sbindir, --sharedstatedir,\n+\t--sysconfdir.\n+\t* Makefile.in (sbindir, libexecdir, sysconfdir): New variables.\n+\t(sharedstatedir, localstatedir, oldincludedir): New variables.\n+\t(BASE_FLAGS_TO_PASS): Pass down bindir, datadir, includedir,\n+\tinfodir, libdir, libexecdir, localstatedir, mandir, oldincludedir,\n+\tsbindir, sharedstatedir, and sysconfdir.\n+\n Fri Sep 24 19:11:13 1993  david d `zoo' zuhn  (zoo@rtl.cygnus.com)\n \n \t* configure: substitute SHELL value in Makefile.in with\n \t${CONFIG_SHELL}\n \n+Wed Sep 24 15:18:32 1997  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\t* ltmain.sh: Tweak shell pattern to avoid bug in NetBSD /bin/sh.\n+\n Thu Sep 23 18:05:13 1993  Ian Lance Taylor  (ian@tweedledumb.cygnus.com)\n \n \t* configure.in: Build gas, ld, and binutils for *-*-sysv4* and"}, {"sha": "383852c4ee5a072f92196562f8e5fbeb1e8b8a20", "filename": "Makefile.in", "status": "modified", "additions": 145, "deletions": 49, "changes": 194, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d4a5ee6d9554f9c76d32f53c6b8faded5070975/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d4a5ee6d9554f9c76d32f53c6b8faded5070975/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=5d4a5ee6d9554f9c76d32f53c6b8faded5070975", "patch": "@@ -1,6 +1,7 @@\n #\n # Makefile for directory with subdirs to build.\n-#   Copyright (C) 1990, 91, 92, 93, 94, 95, 96, 97, 1998 Free Software Foundation\n+#   Copyright (C) 1990, 91, 92, 93, 94, 95, 96, 97, 1998\n+#   Free Software Foundation\n #\n # This file is free software; you can redistribute it and/or modify\n # it under the terms of the GNU General Public License as published by\n@@ -20,16 +21,25 @@\n srcdir = .\n \n prefix = /usr/local\n-\n exec_prefix = $(prefix)\n-bindir = $(exec_prefix)/bin\n-libdir = $(exec_prefix)/lib\n+\n+bindir=${exec_prefix}/bin\n+sbindir=${exec_prefix}/sbin\n+libexecdir=${exec_prefix}/libexec\n+datadir=${prefix}/share\n+sysconfdir=${prefix}/etc\n+sharedstatedir=${prefix}/com\n+localstatedir=${prefix}/var\n+libdir=${exec_prefix}/lib\n+includedir=${prefix}/include\n+oldincludedir=/usr/include\n+infodir=${prefix}/info\n+mandir=${prefix}/man\n+\n tooldir = $(exec_prefix)/$(target)\n \n program_transform_name =\n \n-datadir = $(prefix)/share\n-mandir = $(prefix)/man\n man1dir = $(mandir)/man1\n man2dir = $(mandir)/man2\n man3dir = $(mandir)/man3\n@@ -80,6 +90,8 @@ LIBCFLAGS_FOR_TARGET = $(CFLAGS_FOR_TARGET)\n PICFLAG = \n PICFLAG_FOR_TARGET = \n \n+CHILLFLAGS = $(CFLAGS)\n+CHILL_LIB = -lchill\n CXX = c++\n \n # Use -O2 to stress test the compiler.\n@@ -154,7 +166,7 @@ OTHERS =\n \n # This is set by the configure script to the list of directories which\n # should be built using the target tools.\n-TARGET_CONFIGDIRS = libiberty libgloss newlib libio librx libstdc++ libg++ libf2c libchill libobjc winsup\n+TARGET_CONFIGDIRS = libiberty libgloss newlib libio librx libstdc++ libg++ winsup opcodes libstub cygmon libf2c libchill libobjc\n \n # Target libraries are put under this directory:\n # Changed by configure to $(target_alias) if cross.\n@@ -216,6 +228,16 @@ CC_FOR_TARGET = ` \\\n # overridden on the command line.\n GCC_FOR_TARGET = $$r/gcc/xgcc -B$$r/gcc/\n \n+CHILL_FOR_TARGET = ` \\\n+  if [ -f $$r/gcc/xgcc ] ; then \\\n+    echo $$r/gcc/xgcc -B$$r/gcc/ -L$$r/gcc/ch/runtime/; \\\n+  else \\\n+    if [ \"$(host_canonical)\" = \"$(target_canonical)\" ] ; then \\\n+      echo $(CC); \\\n+    else \\\n+      t='$(program_transform_name)'; echo gcc | sed -e 's/x/x/' $$t; \\\n+    fi; \\\n+  fi`\n \n CXX_FOR_TARGET = ` \\\n   if [ -f $$r/gcc/xgcc ] ; then \\\n@@ -313,6 +335,18 @@ NM_FOR_TARGET = ` \\\n     fi; \\\n   fi`\n \n+# The first rule in the file had better be this one.  Don't put any above it.\n+# This lives here to allow makefile fragments to contain dependencies.\n+all: all.normal\n+.PHONY: all\n+\n+# These can be overridden by config/mt-*.\n+# The _TARGET_ is because they're specified in mt-foo.\n+# The _HOST_ is because they're programs that run on the host.\n+EXTRA_TARGET_HOST_ALL_MODULES =\n+EXTRA_TARGET_HOST_INSTALL_MODULES =\n+EXTRA_TARGET_HOST_CHECK_MODULES =\n+\n #### host and target specific makefile fragments come in here.\n ###\n \n@@ -327,6 +361,9 @@ BASE_FLAGS_TO_PASS = \\\n \t\"CC_FOR_TARGET=$(CC_FOR_TARGET)\" \\\n \t\"CFLAGS=$(CFLAGS)\" \\\n \t\"CFLAGS_FOR_TARGET=$(CFLAGS_FOR_TARGET)\" \\\n+\t\"CHILLFLAGS=$(CHILLFLAGS)\" \\\n+\t\"CHILL_FOR_TARGET=$(CHILL_FOR_TARGET)\" \\\n+\t\"CHILL_LIB=$(CHILL_LIB)\" \\\n \t\"CXX_FOR_BUILD=$(CXX_FOR_BUILD)\" \\\n \t\"CXXFLAGS=$(CXXFLAGS)\" \\\n \t\"CXXFLAGS_FOR_TARGET=$(CXXFLAGS_FOR_TARGET)\" \\\n@@ -348,15 +385,29 @@ BASE_FLAGS_TO_PASS = \\\n \t\"MAKEINFO=$(MAKEINFO) $(MAKEINFOFLAGS)\" \\\n \t\"NM_FOR_TARGET=$(NM_FOR_TARGET)\" \\\n \t\"RANLIB_FOR_TARGET=$(RANLIB_FOR_TARGET)\" \\\n+\t\"RPATH_ENVVAR=$(RPATH_ENVVAR)\" \\\n \t\"SHELL=$(SHELL)\" \\\n \t\"EXPECT=$(EXPECT)\" \\\n \t\"RUNTEST=$(RUNTEST)\" \\\n \t\"RUNTESTFLAGS=$(RUNTESTFLAGS)\" \\\n \t\"TARGET_SUBDIR=$(TARGET_SUBDIR)\" \\\n \t\"WINDRES_FOR_TARGET=$(WINDRES_FOR_TARGET)\" \\\n \t\"YACC=$(YACC)\" \\\n+\t\"bindir=$(bindir)\" \\\n+\t\"datadir=$(datadir)\" \\\n \t\"exec_prefix=$(exec_prefix)\" \\\n+\t\"includedir=$(includedir)\" \\\n+\t\"infodir=$(infodir)\" \\\n+\t\"libdir=$(libdir)\" \\\n+\t\"libexecdir=$(libexecdir)\" \\\n+\t\"lispdir=$(lispdir)\" \\\n+\t\"localstatedir=$(localstatedir)\" \\\n+\t\"mandir=$(mandir)\" \\\n+\t\"oldincludedir=$(oldincludedir)\" \\\n \t\"prefix=$(prefix)\" \\\n+\t\"sbindir=$(sbindir)\" \\\n+\t\"sharedstatedir=$(sharedstatedir)\" \\\n+\t\"sysconfdir=$(sysconfdir)\" \\\n \t\"tooldir=$(tooldir)\" \\\n \t\"gxx_include_dir=$(gxx_include_dir)\" \\\n \t\"gcc_version=$(gcc_version)\" \\\n@@ -432,30 +483,32 @@ EXTRA_GCC_FLAGS = \\\n \t'RANLIB=$$(RANLIB_FOR_TARGET)' \\\n \t'WINDRES=$$(WINDRES_FOR_TARGET)' \\\n \t\"GCC_FOR_TARGET=$(GCC_FOR_TARGET)\" \\\n-\t\"`if test x'$(LANGUAGES)' != x; then echo 'LANGUAGES=$(LANGUAGES)'; else echo 'XFOO=bar'; fi`\" \\\n-\t\"`if test x'$(STMP_FIXPROTO)' != x; then echo 'STMP_FIXPROTO=$(STMP_FIXPROTO)'; else echo 'XFOO=bar'; fi`\" \\\n-\t\"`if test x'$(LIMITS_H_TEST)' != x; then echo 'LIMITS_H_TEST=$(LIMITS_H_TEST)'; else echo 'XFOO=bar'; fi`\" \\\n-\t\"`if test x'$(LIBGCC1_TEST)' != x; then echo 'LIBGCC1_TEST=$(LIBGCC1_TEST)'; else echo 'XFOO=bar'; fi`\" \\\n-\t\"`if test x'$(LIBGCC2_CFLAGS)' != x; then echo 'LIBGCC2_CFLAGS=$(LIBGCC2_CFLAGS)'; else echo 'XFOO=bar'; fi`\" \\\n-\t\"`if test x'$(LIBGCC2_DEBUG_CFLAGS)' != x; then echo 'LIBGCC2_DEBUG_CFLAGS=$(LIBGCC2_DEBUG_CFLAGS)'; else echo 'XFOO=bar'; fi`\" \\\n-\t\"`if test x'$(LIBGCC2_INCLUDES)' != x; then echo 'LIBGCC2_INCLUDES=$(LIBGCC2_INCLUDES)'; else echo 'XFOO=bar'; fi`\" \\\n-\t\"`if test x'$(ENQUIRE)' != x; then echo 'ENQUIRE=$(ENQUIRE)'; else echo 'XFOO=bar'; fi`\" \\\n-\t\"`if test x'$(BOOT_CFLAGS)' != x; then echo 'BOOT_CFLAGS=$(BOOT_CFLAGS)'; else echo 'XFOO=bar'; fi`\"\n+\t\"`echo 'LANGUAGES=$(LANGUAGES)' | sed -e s/.*=$$/XFOO=/`\" \\\n+\t\"`echo 'STMP_FIXPROTO=$(STMP_FIXPROTO)' | sed -e s/.*=$$/XFOO=/`\" \\\n+\t\"`echo 'LIMITS_H_TEST=$(LIMITS_H_TEST)' | sed -e s/.*=$$/XFOO=/`\" \\\n+\t\"`echo 'LIBGCC1_TEST=$(LIBGCC1_TEST)' | sed -e s/.*=$$/XFOO=/`\" \\\n+\t\"`echo 'LIBGCC2_CFLAGS=$(LIBGCC2_CFLAGS)' | sed -e s/.*=$$/XFOO=/`\" \\\n+\t\"`echo 'LIBGCC2_DEBUG_CFLAGS=$(LIBGCC2_DEBUG_CFLAGS)' | sed -e s/.*=$$/XFOO=/`\" \\\n+\t\"`echo 'LIBGCC2_INCLUDES=$(LIBGCC2_INCLUDES)' | sed -e s/.*=$$/XFOO=/`\" \\\n+\t\"`echo 'ENQUIRE=$(ENQUIRE)' | sed -e s/.*=$$/XFOO=/`\" \\\n+\t\"`echo 'BOOT_CFLAGS=$(BOOT_CFLAGS)' | sed -e s/.*=$$/XFOO=/`\"\n \n GCC_FLAGS_TO_PASS = $(BASE_FLAGS_TO_PASS) $(EXTRA_GCC_FLAGS)\n \n # This is a list of the targets for all of the modules which are compiled\n # using $(FLAGS_TO_PASS).\n ALL_MODULES = \\\n \tall-apache \\\n+\tall-ash \\\n \tall-autoconf \\\n \tall-automake \\\n \tall-bash \\\n \tall-bfd \\\n \tall-binutils \\\n \tall-bison \\\n \tall-byacc \\\n-\tall-cvs \\\n+\tall-bzip2 \\\n+\tall-cvssrc \\\n \tall-db \\\n \tall-dejagnu \\\n \tall-diff \\\n@@ -467,6 +520,7 @@ ALL_MODULES = \\\n \tall-flex \\\n \tall-gas \\\n \tall-gawk \\\n+\tall-gettext \\\n \tall-gnuserv \\\n \tall-gprof \\\n \tall-grep \\\n@@ -475,9 +529,11 @@ ALL_MODULES = \\\n \tall-hello \\\n \tall-indent \\\n \tall-inet \\\n+\tall-intl \\\n \tall-ispell \\\n \tall-itcl \\\n \tall-ld \\\n+\tall-libgui \\\n \tall-libiberty \\\n \tall-m4 \\\n \tall-make \\\n@@ -494,15 +550,16 @@ ALL_MODULES = \\\n \tall-send-pr \\\n \tall-shellutils \\\n \tall-sim \\\n-\tall-sn \\\n+\tall-snavigator \\\n \tall-tar \\\n \tall-tcl \\\n \tall-texinfo \\\n \tall-textutils \\\n \tall-tgas \\\n \tall-time \\\n \tall-uudecode \\\n-\tall-wdiff \n+\tall-wdiff \\\n+\t$(EXTRA_TARGET_HOST_ALL_MODULES)\n \n # This is a list of the check targets for all of the modules which are\n # compiled using $(FLAGS_TO_PASS).\n@@ -517,12 +574,14 @@ NATIVE_CHECK_MODULES = \\\n \n CROSS_CHECK_MODULES = \\\n \tcheck-apache \\\n+\tcheck-ash \\\n \tcheck-autoconf \\\n \tcheck-automake \\\n \tcheck-bash \\\n \tcheck-bfd \\\n \tcheck-binutils \\\n-\tcheck-cvs \\\n+\tcheck-bzip2 \\\n+\tcheck-cvssrc \\\n \tcheck-db \\\n \tcheck-dejagnu \\\n \tcheck-diff \\\n@@ -532,17 +591,21 @@ CROSS_CHECK_MODULES = \\\n \tcheck-find \\\n \tcheck-gas \\\n \tcheck-gawk \\\n+\tcheck-gettext \\\n \tcheck-gnuserv \\\n \tcheck-gprof \\\n \tcheck-grep \\\n \tcheck-gzip \\\n \tcheck-hello \\\n \tcheck-indent \\\n \tcheck-inet \\\n+\tcheck-intl \\\n \tcheck-ispell \\\n \tcheck-itcl \\\n \tcheck-ld \\\n+\tcheck-libgui \\\n \tcheck-libiberty \\\n+\tcheck-libtool \\\n \tcheck-m4 \\\n \tcheck-make \\\n \tcheck-mmcheckoc \\\n@@ -556,7 +619,7 @@ CROSS_CHECK_MODULES = \\\n \tcheck-sed \\\n \tcheck-send-pr \\\n \tcheck-shellutils \\\n-\tcheck-sn \\\n+\tcheck-snaviagor \\\n \tcheck-sim \\\n \tcheck-tar \\\n \tcheck-tcl \\\n@@ -565,7 +628,8 @@ CROSS_CHECK_MODULES = \\\n \tcheck-tgas \\\n \tcheck-time \\\n \tcheck-uudecode \\\n-\tcheck-wdiff\n+\tcheck-wdiff \\\n+\t$(EXTRA_TARGET_HOST_CHECK_MODULES)\n \n CHECK_MODULES=$(NATIVE_CHECK_MODULES) $(CROSS_CHECK_MODULES)\n \n@@ -574,17 +638,21 @@ CHECK_MODULES=$(NATIVE_CHECK_MODULES) $(CROSS_CHECK_MODULES)\n # We put install-opcodes before install-binutils because the installed\n # binutils might be on PATH, and they might need the shared opcodes\n # library.\n+# We put install-tcl before install-itcl because itcl wants to run a\n+# program on installation which uses the Tcl libraries.\n INSTALL_MODULES = \\\n \tinstall-apache \\\n+\tinstall-ash \\\n \tinstall-autoconf \\\n \tinstall-automake \\\n \tinstall-bash \\\n \tinstall-bfd \\\n+\tinstall-bzip2 \\\n \tinstall-opcodes \\\n \tinstall-binutils \\\n \tinstall-bison \\\n \tinstall-byacc \\\n-\tinstall-cvs \\\n+\tinstall-cvssrc \\\n \tinstall-db \\\n \tinstall-dejagnu \\\n \tinstall-diff \\\n@@ -596,6 +664,7 @@ INSTALL_MODULES = \\\n \tinstall-flex \\\n \tinstall-gas \\\n \tinstall-gawk \\\n+\tinstall-gettext \\\n \tinstall-gnuserv \\\n \tinstall-gprof \\\n \tinstall-grep \\\n@@ -604,10 +673,14 @@ INSTALL_MODULES = \\\n \tinstall-hello \\\n \tinstall-indent \\\n \tinstall-inet \\\n+\tinstall-intl \\\n \tinstall-ispell \\\n+\tinstall-tcl \\\n \tinstall-itcl \\\n \tinstall-ld \\\n+\tinstall-libgui \\\n \tinstall-libiberty \\\n+\tinstall-libtool \\\n \tinstall-m4 \\\n \tinstall-make \\\n \tinstall-mmalloc \\\n@@ -621,14 +694,15 @@ INSTALL_MODULES = \\\n \tinstall-send-pr \\\n \tinstall-shellutils \\\n \tinstall-sim \\\n-\tinstall-sn \\\n+\tinstall-snavigator \\\n \tinstall-tar \\\n-\tinstall-tcl \\\n+\tinstall-texinfo \\\n \tinstall-textutils \\\n \tinstall-tgas \\\n \tinstall-time \\\n \tinstall-uudecode \\\n-\tinstall-wdiff\n+\tinstall-wdiff \\\n+\t$(EXTRA_TARGET_HOST_INSTALL_MODULES)\n \n # This is a list of the targets for all of the modules which are compiled\n # using $(X11_FLAGS_TO_PASS).\n@@ -683,7 +757,9 @@ ALL_TARGET_MODULES = \\\n \tall-target-libgloss \\\n \tall-target-libiberty \\\n \tall-target-gperf \\\n-\tall-target-examples\n+\tall-target-examples \\\n+\tall-target-libstub \\\n+\tall-target-cygmon\n \n # This is a list of the configure targets for all of the modules which\n # are compiled using the target tools.\n@@ -700,7 +776,9 @@ CONFIGURE_TARGET_MODULES = \\\n \tconfigure-target-libgloss \\\n \tconfigure-target-libiberty \\\n \tconfigure-target-gperf \\\n-\tconfigure-target-examples\n+\tconfigure-target-examples \\\n+\tconfigure-target-libstub \\\n+\tconfigure-target-cygmon\n \n # This is a list of the check targets for all of the modules which are\n # compiled using $(TARGET_FLAGS_TO_PASS).\n@@ -734,14 +812,16 @@ INSTALL_TARGET_MODULES = \\\n # This is a list of the targets for which we can do a clean-{target}.\n CLEAN_MODULES = \\\n \tclean-apache \\\n+\tclean-ash \\\n \tclean-autoconf \\\n \tclean-automake \\\n \tclean-bash \\\n \tclean-bfd \\\n \tclean-binutils \\\n \tclean-bison \\\n \tclean-byacc \\\n-\tclean-cvs \\\n+\tclean-bzip2 \\\n+\tclean-cvssrc \\\n \tclean-db \\\n \tclean-dejagnu \\\n \tclean-diff \\\n@@ -753,6 +833,7 @@ CLEAN_MODULES = \\\n \tclean-flex \\\n \tclean-gas \\\n \tclean-gawk \\\n+\tclean-gettext \\\n \tclean-gnuserv \\\n \tclean-gprof \\\n \tclean-grep \\\n@@ -761,10 +842,13 @@ CLEAN_MODULES = \\\n \tclean-hello \\\n \tclean-indent \\\n \tclean-inet \\\n+\tclean-intl \\\n \tclean-ispell \\\n \tclean-itcl \\\n \tclean-ld \\\n+\tclean-libgui \\\n \tclean-libiberty \\\n+\tclean-libtool \\\n \tclean-m4 \\\n \tclean-make \\\n \tclean-mmalloc \\\n@@ -780,7 +864,7 @@ CLEAN_MODULES = \\\n \tclean-send-pr \\\n \tclean-shellutils \\\n \tclean-sim \\\n-\tclean-sn \\\n+\tclean-snavigator \\\n \tclean-tar \\\n \tclean-tcl \\\n \tclean-texinfo \\\n@@ -804,7 +888,9 @@ CLEAN_TARGET_MODULES = \\\n \tclean-target-libgloss \\\n \tclean-target-libiberty \\\n \tclean-target-gperf \\\n-\tclean-target-examples\n+\tclean-target-examples \\\n+\tclean-target-libstub \\\n+\tclean-target-cygmon\n \n # All of the x11 modules that can be cleaned\n CLEAN_X11_MODULES = \\\n@@ -1427,14 +1513,18 @@ install-dosrel-fake:\n \n # This is a list of inter-dependencies among modules.\n all-apache:\n+all-ash:\n all-autoconf: all-m4 all-texinfo\n-all-automake:\n+all-automake: all-m4 all-texinfo\n all-bash:\n-all-bfd:\n-all-binutils: all-libiberty all-opcodes all-bfd all-flex all-bison all-byacc\n+all-bfd: all-libiberty all-intl\n+all-binutils: all-libiberty all-opcodes all-bfd all-flex all-bison all-byacc all-intl\n all-bison: all-texinfo\n all-byacc:\n-all-cvs:\n+all-bzip2:\n+all-cvssrc:\n+configure-target-cygmon: $(ALL_GCC)\n+all-target-cygmon: configure-target-cygmon all-gas all-ld all-gcc all-target-libiberty all-target-newlib all-target-libio all-target-libstub\n all-db:\n all-dejagnu: all-tcl all-expect all-tk\n all-diff: all-libiberty\n@@ -1448,17 +1538,19 @@ all-fileutils: all-libiberty\n all-findutils:\n all-find:\n all-flex: all-libiberty all-bison all-byacc\n-all-gas: all-libiberty all-opcodes all-bfd\n+all-gas: all-libiberty all-opcodes all-bfd all-intl\n all-gash: all-tcl\n all-gawk:\n ALL_GCC = all-gcc\n all-gcc: all-bison all-byacc all-binutils all-gas all-ld\n-GDB_TK = all-tk all-tcl all-itcl all-tix\n+all-bootstrap: all-libiberty all-bison all-byacc all-binutils all-gas all-ld\n+GDB_TK = all-tk all-tcl all-itcl all-tix all-libgui\n all-gdb: all-libiberty all-opcodes all-bfd all-mmalloc all-readline all-bison all-byacc all-sim $(gdbnlmrequirements) $(GDB_TK)\n+all-gettext:\n all-gnuserv:\n configure-target-gperf: $(ALL_GCC)\n-all-target-gperf: configure-target-gperf all-target-libiberty all-target-libg++\n-all-gprof: all-libiberty all-bfd all-opcodes\n+all-target-gperf: configure-target-gperf all-target-libiberty all-target-libstdc++\n+all-gprof: all-libiberty all-bfd all-opcodes all-intl\n all-grep: all-libiberty\n all-grez: all-libiberty all-bfd all-opcodes\n all-gui: all-gdb all-libproc all-target-librx\n@@ -1467,21 +1559,26 @@ all-gzip: all-libiberty\n all-hello: all-libiberty\n all-indent:\n all-inet: all-tcl all-send-pr all-perl\n+all-intl:\n all-ispell: all-emacs19\n all-itcl: all-tcl all-tk\n-all-ld: all-libiberty all-bfd all-opcodes all-bison all-byacc all-flex\n+all-ld: all-libiberty all-bfd all-opcodes all-bison all-byacc all-flex all-intl\n configure-target-libg++: $(ALL_GCC) configure-target-librx\n all-target-libg++: configure-target-libg++ all-gas all-ld all-gcc all-target-libiberty all-target-newlib all-target-libio all-target-librx all-target-libstdc++\n configure-target-libgloss: $(ALL_GCC)\n all-target-libgloss: configure-target-libgloss configure-target-newlib\n configure-target-libio: $(ALL_GCC)\n all-target-libio: configure-target-libio all-gas all-ld all-gcc all-target-libiberty all-target-newlib\n check-target-libio: all-target-libstdc++\n+all-libgui: all-tcl all-tk all-itcl\n all-libiberty:\n configure-target-librx: $(ALL_GCC) configure-target-newlib\n all-target-librx: configure-target-librx\n configure-target-libstdc++: $(ALL_GCC)\n all-target-libstdc++: configure-target-libstdc++ all-gas all-ld all-gcc all-target-libiberty all-target-newlib all-target-libio\n+configure-target-libstub: $(ALL_GCC)\n+all-target-libstub: configure-target-libstub\n+all-libtool:\n all-target-libf2c: configure-target-libf2c all-gas all-ld all-gcc all-target-libiberty all-target-newlib\n all-target-libchill: configure-target-libchill all-gas all-ld all-gcc all-target-libiberty all-target-newlib\n all-target-libobjc: configure-target-libobjc all-gas all-ld all-gcc all-target-libiberty all-target-newlib\n@@ -1500,8 +1597,8 @@ all-recode: all-libiberty\n all-sed: all-libiberty\n all-send-pr: all-prms\n all-shellutils:\n-all-sim: all-libiberty all-bfd all-opcodes\n-all-sn: all-tcl all-tk all-itcl all-db all-grep\n+all-sim: all-libiberty all-bfd all-opcodes all-readline\n+all-snavigator: all-tcl all-tk all-itcl all-db all-grep all-flexlm all-libgui\n all-tar: all-libiberty\n all-tcl:\n all-tclX: all-tcl all-tk\n@@ -1512,7 +1609,7 @@ all-tgas: all-libiberty all-bfd all-opcodes\n all-time:\n all-tix: all-tcl all-tk\n all-wdiff:\n-all-target-winsup: all-target-newlib all-target-libiberty all-target-librx all-target-libio configure-target-winsup \n+all-target-winsup: all-target-newlib all-target-libiberty all-target-libio configure-target-winsup \n configure-target-winsup: configure-target-newlib\n all-uudecode: all-libiberty\n configure-target-libiberty: $(ALL_GCC)\n@@ -1581,7 +1678,7 @@ SUPPORT_FILES = list-of-support-files-for-tool-in-question\n \n taz: $(DEVO_SUPPORT) $(SUPPORT_FILES) \\\n   texinfo/texinfo.tex texinfo/gpl.texinfo texinfo/lgpl.texinfo\n-\t# Take out texinfo from a few places; make simple BISON=bison line.\n+\t# Take out texinfo from a few places\n \tsed -e '/^all\\.normal: /s/\\all-texinfo //' \\\n \t    -e '/^\tinstall-texinfo /d' \\\n \t<Makefile.in >tmp\n@@ -1631,7 +1728,7 @@ taz: $(DEVO_SUPPORT) $(SUPPORT_FILES) \\\n \t  mkdir proto-toplev/texinfo/util && \\\n \t  ln -s ../../../texinfo/util/tex3patch\tproto-toplev/texinfo/util ; \\\n \telse true; fi\n-\tchmod og=u `find . -print`\n+\tchmod -R og=u . || chmod og=u `find . -print`\n \tif grep AM_INIT_AUTOMAKE $(TOOL)/configure.in >/dev/null 2>&1; then \\\n \t  ver=`sed < $(TOOL)/configure.in -n 's/AM_INIT_AUTOMAKE[^,]*, *\\([^)]*\\))/\\1/p'`; \\\n \telse \\\n@@ -1650,14 +1747,14 @@ TEXINFO_SUPPORT= texinfo/texinfo.tex texinfo/gpl.texinfo texinfo/lgpl.texinfo\n DIST_SUPPORT= $(DEVO_SUPPORT) $(TEXINFO_SUPPORT)\n \n .PHONY: gas.tar.gz\n-GAS_SUPPORT_DIRS= bfd include libiberty opcodes setup.com makefile.vms\n+GAS_SUPPORT_DIRS= bfd include libiberty opcodes intl setup.com makefile.vms\n gas.tar.gz: $(DIST_SUPPORT) $(GAS_SUPPORT_DIRS) gas\n \t$(MAKE) -f Makefile.in taz TOOL=gas \\\n \t\tSUPPORT_FILES=\"$(GAS_SUPPORT_DIRS)\"\n \n # The FSF \"binutils\" release includes gprof and ld.\n .PHONY: binutils.tar.gz\n-BINUTILS_SUPPORT_DIRS= bfd gas include libiberty opcodes ld gprof setup.com makefile.vms\n+BINUTILS_SUPPORT_DIRS= bfd gas include libiberty opcodes ld gprof intl setup.com makefile.vms\n binutils.tar.gz: $(DIST_SUPPORT) $(BINUTILS_SUPPORT_DIRS) binutils\n \t$(MAKE) -f Makefile.in taz TOOL=binutils \\\n \t\tSUPPORT_FILES=\"$(BINUTILS_SUPPORT_DIRS) makeall.bat configure.bat\"\n@@ -1680,7 +1777,7 @@ gnats.tar.gz: $(DIST_SUPPORT) $(GNATS_SUPPORT_DIRS) gnats\n \t\tSUPPORT_FILES=\"$(GNATS_SUPPORT_DIRS)\"\n \n .PHONY: gdb.tar.gz\n-GDB_SUPPORT_DIRS= bfd include libiberty mmalloc opcodes readline sim utils\n+GDB_SUPPORT_DIRS= bfd include libiberty mmalloc opcodes readline sim utils intl\n GDBTK_SUPPORT_DIRS= `if [ -d tcl -a -d tk ] ; then echo tcl tk ; fi`\n gdb.tar.gz: $(DIST_SUPPORT) $(GDB_SUPPORT_DIRS) gdb\n \t$(MAKE) -f Makefile.in taz TOOL=gdb \\\n@@ -1707,5 +1804,4 @@ newlib.tar.gz: $(DIST_SUPPORT) $(NEWLIB_SUPPORT_DIRS) newlib\n .NOEXPORT:\n MAKEOVERRIDES=\n \n-\n # end of Makefile.in"}, {"sha": "a5d82c86ab71d1a64c7df2c71b6db748a5e9482a", "filename": "configure", "status": "modified", "additions": 127, "deletions": 23, "changes": 150, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d4a5ee6d9554f9c76d32f53c6b8faded5070975/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d4a5ee6d9554f9c76d32f53c6b8faded5070975/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=5d4a5ee6d9554f9c76d32f53c6b8faded5070975", "patch": "@@ -51,6 +51,8 @@ build_alias=\n cache_file=config.cache\n cache_file_option=\n configdirs=\n+extraconfigdirs=\n+diroptions=\n exec_prefix=\n exec_prefixoption=\n fatal=\n@@ -73,7 +75,7 @@ program_suffix=\n program_suffixoption=\n program_transform_name=\n program_transform_nameoption=\n-redirect=\">/dev/null\"\n+redirect=\n removing=\n site=\n site_makefile_frag=\n@@ -86,6 +88,18 @@ target_makefile_frag=\n undefs=NOUNDEFS\n version=\"$Revision: 1.22 $\"\n x11=default\n+bindir='${exec_prefix}/bin'\n+sbindir='${exec_prefix}/sbin'\n+libexecdir='${exec_prefix}/libexec'\n+datadir='${prefix}/share'\n+sysconfdir='${prefix}/etc'\n+sharedstatedir='${prefix}/com'\n+localstatedir='${prefix}/var'\n+libdir='${exec_prefix}/lib'\n+includedir='${prefix}/include'\n+oldincludedir='/usr/include'\n+infodir='${prefix}/info'\n+mandir='${prefix}/man'\n \n ### we might need to use some other shell than /bin/sh for running subshells\n \n@@ -192,6 +206,10 @@ do\n # Now, process the options\n \tcase $option in\n \n+\t--bi*)\n+\t\tbindir=$optarg\n+\t\tdiroptions=\"$diroptions --bindir=$optarg\"\n+\t\t;;\n \t--build* | --bu*)\n \t\tcase \"$build_alias\" in\n \t\t\"\") build_alias=$optarg ;;\n@@ -203,6 +221,10 @@ do\n \t--cache*)\n \t\tcache_file=$optarg\n \t\t;;\n+\t--da*)\n+\t\tdatadir=$optarg\n+\t\tdiroptions=\"$diroptions --datadir=$optarg\"\n+\t\t;;\n \t--disable-*)\n \t\tenableopt=`echo ${option} | sed 's:^--disable-:enable_:;s:-:_:g'`\n \t\teval $enableopt=no\n@@ -236,13 +258,41 @@ do\n \t\t   ;;\n \t\tesac\n \t\t;;\n+\t--inc*)\n+\t\tincludedir=$optarg\n+\t\tdiroptions=\"$diroptions --includedir=$optarg\"\n+\t\t;;\n+\t--inf*)\n+\t\tinfodir=$optarg\n+\t\tdiroptions=\"$diroptions --infodir=$optarg\"\n+\t\t;;\n+\t--libd*)\n+\t\tlibdir=$optarg\n+\t\tdiroptions=\"$diroptions --libdir=$optarg\"\n+\t\t;;\n+\t--libe*)\n+\t\tlibexecdir=$optarg\n+\t\tdiroptions=\"$diroptions --libexecdir=$optarg\"\n+\t\t;;\n+\t--lo*)\n+\t\tlocalstatedir=$optarg\n+\t\tdiroptions=\"$diroptions --localstatedir=$optarg\"\n+\t\t;;\n+\t--ma*)\n+\t\tmandir=$optarg\n+\t\tdiroptions=\"$diroptions --mandir=$optarg\"\n+\t\t;;\n \t--nfp | --nf*)\n \t\tfloating_point=no\n \t\tfloating_pointoption=\"--nfp\"\n \t\t;;\n \t--norecursion | --no*)\n \t\tnorecursion=yes\n \t\t;;\n+\t--ol*)\n+\t\toldincludedir=$optarg\n+\t\tdiroptions=\"$diroptions --oldincludedir=$optarg\"\n+\t\t;;\n \t--prefix* | --pre*)\n \t\tprefix=$optarg\n \t\tprefixoption=\"--prefix=$optarg\"\n@@ -263,6 +313,14 @@ do\n \t--rm)\n \t\tremoving=--rm\n \t\t;;\n+\t--sb*)\n+\t\tsbindir=$optarg\n+\t\tdiroptions=\"$diroptions --sbindir=$optarg\"\n+\t\t;;\n+\t--sh*)\n+\t\tsharedstatedir=$optarg\n+\t\tdiroptions=\"$diroptions --sharedstatedir=$optarg\"\n+\t\t;;\n \t--silent | --sil* | --quiet | --q*)\n \t\tredirect=\">/dev/null\"\n \t\tverbose=--silent\n@@ -281,6 +339,10 @@ do\n \t--srcdir* | --sr*)\n \t\tsrcdir=$optarg\n \t\t;;\n+\t--sy*)\n+\t\tsysconfdir=$optarg\n+\t\tdiroptions=\"$diroptions --sysconfdir=$optarg\"\n+\t\t;;\n \t--target* | --ta*)\n \t\tcase $target_alias in\n \t\tNOTARGET) target_alias=$optarg ;;\n@@ -321,9 +383,6 @@ do\n \t\t;;\n \t--x-i* | --x-l*) other_options=\"$other_options $orig_option\"\n \t\t;;\n-\t--bi* | --sb* | --li* | --da* | --sy* | --sh* | --lo* | --in* | --ol* | --ma*)\n-\t\t# These options were added to autoconf for emacs.\n-\t\t;;\n \t--*)\n \t\techo \"configure: Unrecognized option: \\\"$orig_option\\\"; use --help for usage.\" >&2\n \t\texit 1\n@@ -461,6 +520,7 @@ configsub=`echo ${progname} | sed 's/configure$/config.sub/'`\n moveifchange=`echo ${progname} | sed 's/configure$/move-if-change/'`\n topsrcdir=`cd \\`dirname ${progname}\\`; pwd`\n \n+\n # this is a hack.  sun4 must always be a valid host alias or this will fail.\n if ${config_shell} ${configsub} sun4 >/dev/null 2>&1 ; then\n         true\n@@ -566,7 +626,7 @@ case \"`grep '^# per\\-host:' ${srcdir}/configure.in`\" in\n \t    eval exec ${config_shell} ${srcdir}/configure ${verbose} \\\n \t\t${buildopt} --host=${host_alias} --target=${target_alias} \\\n \t\t${prefixoption} ${tmpdiroption} ${exec_prefixoption} \\\n-\t\t${srcdiroption} \\\n+\t\t${srcdiroption} ${diroptions} \\\n \t\t${program_prefixoption} ${program_suffixoption} \\\n \t\t${program_transform_nameoption} ${site_option} \\\n \t\t${withoptions} ${withoutoptions} \\\n@@ -728,7 +788,7 @@ fi\n # If CC and CXX are not set in the environment, and the Makefile\n # exists, try to extract them from it.  This is to handle running\n # ./config.status by hand.\n-if [ -z \"${CC}\" -a -r Makefile ]; then\n+if [ -z \"${CC}\" ] && [ -r Makefile ]; then\n   sed -n -e ':loop\n /\\\\$/ N\n s/\\\\\\n//g\n@@ -738,7 +798,7 @@ t loop\n   rm -f Makefile.cc\n fi\n \n-if [ -z \"${CFLAGS}\" -a -r Makefile ]; then\n+if [ -z \"${CFLAGS}\" ] && [ -r Makefile ]; then\n   sed -n -e ':loop\n /\\\\$/ N\n s/\\\\\\n//g\n@@ -748,7 +808,7 @@ t loop\n   rm -f Makefile.cc\n fi\n \n-if [ -z \"${CXX}\" -a -r Makefile ]; then\n+if [ -z \"${CXX}\" ] && [ -r Makefile ]; then\n   sed -n -e ':loop\n /\\\\$/ N\n s/\\\\\\n//g\n@@ -758,7 +818,7 @@ t loop\n   rm -f Makefile.cc\n fi\n \n-if [ -z \"${CXXFLAGS}\" -a -r Makefile ]; then\n+if [ -z \"${CXXFLAGS}\" ] && [ -r Makefile ]; then\n   sed -n -e ':loop\n /\\\\$/ N\n s/\\\\\\n//g\n@@ -837,7 +897,7 @@ if [ \"${build}\" != \"${host}\" ]; then\n   tools=\"${tools} WINDRES WINDRES_FOR_TARGET YACC\"\n \n   for var in ${tools}; do\n-    if [ -z \"`eval 'echo $'\"${var}\"`\" -a -r Makefile ]; then\n+    if [ -z \"`eval 'echo $'\"${var}\"`\" ] && [ -r Makefile ]; then\n       sed -n -e ':loop\n /\\\\$/ N\n s/\\\\\\n//g\n@@ -950,6 +1010,24 @@ else\n     done\n     IFS=\"$save_ifs\"\n     CC=${CC-cc}\n+  else\n+    if test -z \"${CFLAGS}\"; then\n+      # Here CC is set but CFLAGS is not.  Use a quick hack to use -O2 if CC\n+      # is set to a version of gcc.\n+      case \"${CC}\" in\n+      *gcc)\n+\techo 'void f(){}' > conftest.c\n+\tif test -z \"`${CC} -g -c conftest.c 2>&1`\"; then\n+\t  CFLAGS=${CFLAGS-\"-g -O2\"}\n+\t  CXXFLAGS=${CXXFLAGS-\"-g -O2\"}\n+\telse\n+\t  CFLAGS=${CFLAGS-\"-O2\"}\n+\t  CXXFLAGS=${CXXFLAGS-\"-O2\"}\n+\tfi\n+\trm -f conftest*\n+\t;;\n+      esac\n+    fi\n   fi\n \n   CXX=${CXX-\"c++\"}\n@@ -1297,6 +1375,18 @@ EOF\n \t    fi\n \t    sed     -e \"s|^prefix[ \t]*=.*$|prefix = ${prefix}|\" \\\n                     -e \"s|^exec_prefix[ \t]*=.*$|exec_prefix = ${exec_prefix}|\" \\\n+                    -e \"s|^bindir[ \t]*=.*$|bindir = ${bindir}|\" \\\n+                    -e \"s|^sbindir[ \t]*=.*$|sbindir = ${sbindir}|\" \\\n+                    -e \"s|^libexecdir[ \t]*=.*$|libexecdir = ${libexecdir}|\" \\\n+                    -e \"s|^datadir[ \t]*=.*$|datadir = ${datadir}|\" \\\n+                    -e \"s|^sysconfdir[ \t]*=.*$|sysconfdir = ${sysconfdir}|\" \\\n+                    -e \"s|^sharedstatedir[ \t]*=.*$|sharedstatedir = ${sharedstatedir}|\" \\\n+                    -e \"s|^localstatedir[ \t]*=.*$|localstatedir = ${localstatedir}|\" \\\n+                    -e \"s|^libdir[ \t]*=.*$|libdir = ${libdir}|\" \\\n+                    -e \"s|^includedir[ \t]*=.*$|includedir = ${includedir}|\" \\\n+                    -e \"s|^oldincludedir[ \t]*=.*$|oldincludedir = ${oldincludedir}|\" \\\n+                    -e \"s|^infodir[ \t]*=.*$|infodir = ${infodir}|\" \\\n+                    -e \"s|^mandir[ \t]*=.*$|mandir = ${mandir}|\" \\\n \t\t    -e \"/^CC[ \t]*=/{\n \t\t\t:loop1\n \t\t\t/\\\\\\\\$/ N\n@@ -1419,41 +1509,55 @@ ${progname}\" ${arguments}  \"\n done\n \n # If there are subdirectories, then recur.\n-if [ -z \"${norecursion}\" -a -n \"${configdirs}\" ] ; then \n-        for configdir in ${configdirs} ; do\n+if [ -z \"${norecursion}\" ] && [ -n \"${configdirs}\" ] ; then \n+        for configdir in ${configdirs} ${extraconfigdirs} ; do\n+\n+\t\t# If configdir contains ',' it is\n+\t\t# srcdir,builddir,target_alias\n+\t\t# These come from extraconfigdirs.\n+\t\tcase ${configdir} in\n+\t\t*,*)\n+\t\t    eval `echo ${configdir} | sed -e 's/\\([^,]*\\),\\([^,]*\\),\\(.*\\)/cfg_dir=\\1 bld_dir=\\2 tgt_alias=\\3/'`\n+\t\t    ;;\n+\t\t*)\n+\t\t    cfg_dir=${configdir}\n+\t\t    bld_dir=${configdir}\n+\t\t    tgt_alias=${target_alias}\n+\t\t    ;;\n+\t\tesac\n \n-                if [ -d ${srcdir}/${configdir} ] ; then\n+                if [ -d ${srcdir}/${cfg_dir} ] ; then\n                         eval echo Configuring ${configdir}... ${redirect}\n                         case \"${srcdir}\" in\n                         \".\") ;;\n                         *)\n-                                if [ ! -d ./${configdir} ] ; then\n-                                        if mkdir ./${configdir} ; then\n+                                if [ ! -d ./${bld_dir} ] ; then\n+                                        if mkdir ./${bld_dir} ; then\n                                                 true\n                                         else\n-                                                echo '***' \"${progname}: could not make ${PWD=`pwd`}/${configdir}\" 1>&2\n+                                                echo '***' \"${progname}: could not make ${PWD=`pwd`}/${bld_dir}\" 1>&2\n                                                 exit 1\n                                         fi\n                                 fi\n                                 ;;\n                         esac\n \n                         POPDIR=${PWD=`pwd`}\n-                        cd ${configdir} \n+                        cd ${bld_dir} \n \n ### figure out what to do with srcdir\n                         case \"${srcdir}\" in\n                         \".\") newsrcdir=${srcdir} ;; # no -srcdir option.  We're building in place.\n                         /*) # absolute path\n-                                newsrcdir=${srcdir}/${configdir}\n+                                newsrcdir=${srcdir}/${cfg_dir}\n                                 srcdiroption=\"--srcdir=${newsrcdir}\"\n                                 ;;\n                         ?:*) # absolute path on win32\n-                                newsrcdir=${srcdir}/${configdir}\n+                                newsrcdir=${srcdir}/${cfg_dir}\n                                 srcdiroption=\"--srcdir=${newsrcdir}\"\n                                 ;;\n                         *) # otherwise relative\n-                                newsrcdir=../${srcdir}/${configdir}\n+                                newsrcdir=../${srcdir}/${cfg_dir}\n                                 srcdiroption=\"--srcdir=${newsrcdir}\"\n                                 ;;\n                         esac\n@@ -1483,15 +1587,15 @@ if [ -z \"${norecursion}\" -a -n \"${configdirs}\" ] ; then\n                                 *)      recprog=../${progname} ;;\n                                 esac\n \t\t\telse\n-\t\t\t\teval echo No configuration information in ${configdir} ${redirect}\n+\t\t\t\teval echo No configuration information in ${cfg_dir} ${redirect}\n \t\t\t\trecprog=\n                         fi\n \n ### The recursion line is here.\n \t\t\tif [ ! -z \"${recprog}\" ] ; then\n-\t                        if eval ${config_shell} ${recprog} ${verbose} ${buildopt} --host=${host_alias} --target=${target_alias} \\\n+\t                        if eval ${config_shell} ${recprog} ${verbose} ${buildopt} --host=${host_alias} --target=${tgt_alias} \\\n         \t                        ${prefixoption} ${tmpdiroption} ${exec_prefixoption} \\\n-                \t                ${srcdiroption} ${program_prefixoption} ${program_suffixoption} ${program_transform_nameoption} ${site_option} ${withoptions} ${withoutoptions} ${enableoptions} ${disableoptions} ${floating_pointoption} ${cache_file_option} ${removing} ${other_options} ${redirect} ; then\n+                \t                ${srcdiroption} ${diroptions} ${program_prefixoption} ${program_suffixoption} ${program_transform_nameoption} ${site_option} ${withoptions} ${withoutoptions} ${enableoptions} ${disableoptions} ${floating_pointoption} ${cache_file_option} ${removing} ${other_options} ${redirect} ; then\n \t                                true\n         \t                else\n \t\t\t\t\techo Configure in `pwd` failed, exiting. 1>&2"}, {"sha": "736848e72388431adcd9814c3d6e8eafc1f8cfed", "filename": "configure.in", "status": "modified", "additions": 88, "deletions": 60, "changes": 148, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d4a5ee6d9554f9c76d32f53c6b8faded5070975/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d4a5ee6d9554f9c76d32f53c6b8faded5070975/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=5d4a5ee6d9554f9c76d32f53c6b8faded5070975", "patch": "@@ -41,7 +41,7 @@\n \n # these libraries are used by various programs built for the host environment\n #\n-host_libs=\"mmalloc libiberty opcodes bfd readline gash db tcl tk tclX itcl tix\"\n+host_libs=\"intl mmalloc libiberty opcodes bfd readline gash db tcl tk tclX itcl tix libgui\"\n \n if [ \"${enable_gdbgui}\" = \"yes\" ] ; then\n \thost_libs=\"${host_libs} libgui\"\n@@ -50,13 +50,22 @@ fi\n # these tools are built for the host environment\n # Note, the powerpc-eabi build depends on sim occurring before gdb in order to\n # know that we are building the simulator.\n-host_tools=\"texinfo byacc flex bison binutils ld gas gcc sim gdb make patch prms send-pr gprof gdbtest tgas etc expect dejagnu bash m4 autoconf automake ispell grep diff rcs cvs fileutils shellutils time textutils wdiff find emacs emacs19 uudecode hello tar gzip indent recode release sed utils guile perl apache inet gawk findutils sn\"\n+host_tools=\"texinfo byacc flex bison binutils ld gas gcc sim gdb make patch prms send-pr gprof gdbtest tgas etc expect dejagnu ash bash bzip2 m4 autoconf automake libtool ispell grep diff rcs cvssrc fileutils shellutils time textutils wdiff find emacs emacs19 uudecode hello tar gzip indent recode release sed utils guile perl apache inet gawk findutils snavigator libtool gettext\"\n+\n \n # these libraries are built for the target environment, and are built after\n # the host libraries and the host tools (which may be a cross compiler)\n #\n-target_libs=\"target-libiberty target-libgloss target-newlib target-libio target-librx target-libstdc++ target-libg++ target-libf2c target-libchill target-libobjc\"\n-\n+target_libs=\"target-libiberty \\\n+\t\ttarget-libgloss \\\n+\t\ttarget-newlib \\\n+\t\ttarget-libio \\\n+\t\ttarget-librx \\\n+\t\ttarget-libstdc \\++\n+\t\ttarget-libg++ \\\n+\t\ttarget-libf2c \\\n+\t\ttarget-libchill \\\n+\t\ttarget-libobjc\"\n \n # these tools are built using the target libs, and are intended to run only\n # in the target environment\n@@ -79,11 +88,11 @@ target_tools=\"target-examples target-groff target-gperf\"\n #\n # This must be a single line because of the way it is searched by grep in\n # the code below.\n-native_only=\"autoconf automake cvs emacs emacs19 fileutils find gawk grep gzip hello indent ispell m4 rcs recode sed shellutils tar textutils gash uudecode wdiff gprof target-groff guile perl apache inet time bash prms sn gnuserv target-gperf\"\n+native_only=\"autoconf automake libtool cvssrc emacs emacs19 fileutils find gawk gettext grep gzip hello indent ispell m4 rcs recode sed shellutils tar textutils gash uudecode wdiff gprof target-groff guile perl apache inet time ash bash bzip2 prms snavigator gnuserv target-gperf\"\n \n # directories to be built in a cross environment only\n #\n-cross_only=\"target-libgloss target-newlib\"\n+cross_only=\"target-libgloss target-newlib target-cygmon target-opcodes target-libstub\"\n \n ## All tools belong in one of the four categories, and are assigned above\n ## We assign ${configdirs} this way to remove all embedded newlines.  This\n@@ -149,6 +158,9 @@ case \"${host}\" in\n   mips*-*-sysv*)\n     host_makefile_frag=\"${host_makefile_frag} config/mh-riscos\"\n     ;;\n+  i[3456]86-*-sysv5*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-sysv5\"\n+    ;;\n   i[3456]86-*-dgux*)\n     host_makefile_frag=\"${host_makefile_frag} config/mh-dgux386\"\n     ;;\n@@ -229,7 +241,7 @@ fi\n \n # If we aren't going to be using gcc, see if we can extract a definition\n # of CC from the fragment.\n-if [ -z \"${CC}\" -a \"${build}\" = \"${host}\" ]; then\n+if [ -z \"${CC}\" ] && [ \"${build}\" = \"${host}\" ]; then\n   IFS=\"${IFS= \t}\"; save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n   found=\n   for dir in $PATH; do\n@@ -240,7 +252,7 @@ if [ -z \"${CC}\" -a \"${build}\" = \"${host}\" ]; then\n     fi\n   done\n   IFS=\"$save_ifs\"\n-  if [ -z \"${found}\" -a -n \"${host_makefile_frag}\" -a -f \"${srcdir}/${host_makefile_frag}\" ]; then\n+  if [ -z \"${found}\" ] && [ -n \"${host_makefile_frag}\" ] && [ -f \"${srcdir}/${host_makefile_frag}\" ]; then\n     xx=`sed -n -e 's/^[ \t]*CC[ \t]*=[ \t]*\\(.*\\)$/\\1/p' < ${srcdir}/${host_makefile_frag}`\n     if [ -n \"${xx}\" ] ; then\n       CC=$xx\n@@ -271,6 +283,9 @@ if [ x${shared} = xyes ]; then\n     hppa*)\n       host_makefile_frag=\"${host_makefile_frag} config/mh-papic\"\n       ;;\n+    i[3456]86-*-cygwin32*)\n+      # We don't want -fPIC on cygwin32.\n+      ;;\n     i[3456]86-*)\n       host_makefile_frag=\"${host_makefile_frag} config/mh-x86pic\"\n       ;;\n@@ -346,7 +361,7 @@ case ${with_x} in\n   yes | \"\")  # the default value for this tree is that X11 is available\n \t;;\n   no)\n-\tskipdirs=\"${skipdirs} tk gash\"\n+\tskipdirs=\"${skipdirs} tk libgui gash\"\n \t;;\n   *)\n     \techo \"*** bad value \\\"${with_x}\\\" for -with-x flag; ignored\" 1>&2\n@@ -495,26 +510,29 @@ noconfigdirs=\"\"\n \n case \"${host}\" in\n   i[3456]86-*-vsta)\n-    noconfigdirs=\"tcl expect dejagnu make texinfo bison patch flex byacc send-pr gprof uudecode dejagnu diff guile perl apache inet itcl tix db sn gnuserv\"\n+    noconfigdirs=\"tcl expect dejagnu make texinfo bison patch flex byacc send-pr gprof uudecode dejagnu diff guile perl apache inet itcl tix db snavigator gnuserv gettext\"\n     ;;\n   i[3456]86-*-go32* | i[3456]86-*-msdosdjgpp*)\n-    noconfigdirs=\"tcl tk expect dejagnu make texinfo bison patch flex byacc send-pr uudecode dejagnu diff guile perl apache inet itcl tix db sn gnuserv\"\n+    noconfigdirs=\"tcl tk expect dejagnu make texinfo bison patch flex byacc send-pr uudecode dejagnu diff guile perl apache inet itcl tix db snavigator gnuserv gettext\"\n \t;;\n   i[3456]86-*-mingw32*)\n-    # noconfigdirs=\"tcl tk expect dejagnu make texinfo bison patch flex byacc send-pr uudecode dejagnu diff guile perl apache inet itcl tix db sn gnuserv\"\n-     noconfigdirs=\"expect dejagnu cvs autoconf automake send-pr gprof rcs guile perl texinfo apache inet\"\n+    # noconfigdirs=\"tcl tk expect dejagnu make texinfo bison patch flex byacc send-pr uudecode dejagnu diff guile perl apache inet itcl tix db snavigator gnuserv\"\n+     noconfigdirs=\"expect dejagnu cvs autoconf automake send-pr gprof rcs guile perl texinfo apache inet libtool\"\n \t;;\n   *-*-cygwin32)\n-     noconfigdirs=\"expect dejagnu cvs autoconf automake bison send-pr gprof rcs guile perl texinfo apache inet\"\n+     noconfigdirs=\"autoconf automake send-pr gprof rcs guile perl texinfo apache inet\"\n     ;;\n   *-*-windows*)\n # This is only used to build WinGDB...\n # note that powerpc-eabi depends on sim configured before gdb.\n      configdirs=\"bfd libiberty opcodes readline sim gdb\"\n      target_configdirs=\n     ;;\n+  *-*-netbsd*)\n+    noconfigdirs=\"rcs\"\n+    ;;\n   ppc*-*-pe)\n-     noconfigdirs=\"patch diff make tk tcl expect dejagnu cvs autoconf automake texinfo bison send-pr gprof rcs guile perl apache inet itcl tix db sn gnuserv\"\n+     noconfigdirs=\"patch diff make tk tcl expect dejagnu cvssrc autoconf automake texinfo bison send-pr gprof rcs guile perl apache inet itcl tix db snavigator gnuserv\"\n     ;;\n esac\n \n@@ -557,15 +575,15 @@ case \"${target}\" in\n   arm-*-coff*)\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n     ;;\n-  arm-*-riscix*)\n-    noconfigdirs=\"$noconfigdirs ld target-libgloss\"\n-    ;;\n   c4x-*-*)\n     noconfigdirs=\"$noconfigdirs target-libg++ target-libstdc++ target-libio target-librx target-libgloss\"\n     ;;\n   thumb-*-coff)\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n     ;;\n+  arm-*-riscix*)\n+    noconfigdirs=\"$noconfigdirs ld target-libgloss\"\n+    ;;\n   d10v-*-*)\n     noconfigdirs=\"$noconfigdirs target-librx target-libg++ target-libstdc++ target-libio target-libgloss\"\n     ;;\n@@ -599,23 +617,23 @@ case \"${target}\" in\n     target_configdirs=\"$target_configdirs target-mingw\"\n     noconfigdirs=\"$noconfigdirs expect target-libgloss\"\n \n-    # Can't build gdb for cygwin32 if not native.\n+    # Can't build gdb for mingw32 if not native.\n     case \"${host}\" in\n       i[3456]86-*-mingw32) ;; # keep gdb tcl tk expect etc.\n-      *) noconfigdirs=\"$noconfigdirs gdb tcl tk expect itcl tix db sn gnuserv\"\n+      *) noconfigdirs=\"$noconfigdirs gdb tcl tk expect itcl tix db snavigator gnuserv\"\n          ;;\n     esac\n     ;;    \n-  *-*-cygwin32)\n+  *-*-cygwin32*)\n     target_configdirs=\"$target_configdirs target-winsup\"\n-    noconfigdirs=\"$noconfigdirs expect target-libgloss\"\n+    noconfigdirs=\"$noconfigdirs target-gperf target-libgloss\"\n     # always build newlib.\n     skipdirs=`echo \" ${skipdirs} \" | sed -e 's/ target-newlib / /'`\n \n     # Can't build gdb for cygwin32 if not native.\n     case \"${host}\" in\n-      *-*-cygwin32) ;; # keep gdb tcl tk expect etc.\n-      *) noconfigdirs=\"$noconfigdirs gdb tcl tk expect itcl tix db sn gnuserv\"\n+      *-*-cygwin32*) ;; # keep gdb tcl tk expect etc.\n+      *) noconfigdirs=\"$noconfigdirs gdb tcl tk expect itcl tix libgui db snavigator gnuserv\"\n          ;;\n     esac\n     ;;    \n@@ -625,7 +643,7 @@ case \"${target}\" in\n   i[3456]86-*-sco3.2v5*)\n     # The linker does not yet know about weak symbols in COFF,\n     # and is not configured to handle mixed ELF and COFF.\n-    noconfigdirs=\"$noconfigdirs gprof ld target-libgloss\"\n+    noconfigdirs=\"$noconfigdirs ld target-libgloss\"\n     ;;\n   i[3456]86-*-sco*)\n     noconfigdirs=\"$noconfigdirs gprof target-libgloss\"\n@@ -646,31 +664,37 @@ case \"${target}\" in\n     noconfigdirs=\"$noconfigdirs emacs emacs19 target-libgloss\"\n     ;;\n   mn10200-*-*)\n-    noconfigdirs=\"$noconfigdirs target-libgloss\"\n+    noconfigdirs=\"$noconfigdirs\"\n+    if [ x${is_cross_compiler} != xno ] ; then\n+\t   target_configdirs=\"${target_configdirs} target-libstub target-cygmon\"\n+    fi\n     ;;\n   mn10300-*-*)\n-    noconfigdirs=\"$noconfigdirs target-libgloss\"\n+    noconfigdirs=\"$noconfigdirs\"\n+    if [ x${is_cross_compiler} != xno ] ; then\n+\t   target_configdirs=\"${target_configdirs} target-libstub target-cygmon\"\n+    fi\n     ;;\n   powerpc-*-aix*)\n     # copied from rs6000-*-* entry\n-    noconfigdirs=\"$noconfigdirs gprof cvs target-libgloss\"\n+    noconfigdirs=\"$noconfigdirs gprof cvssrc target-libgloss\"\n     # This is needed until gcc and ld are fixed to work together.\n     use_gnu_ld=no\n     ;;\n   powerpc*-*-winnt* | powerpc*-*-pe* | ppc*-*-pe)\n     target_configdirs=\"$target_configdirs target-winsup\"\n-    noconfigdirs=\"$noconfigdirs gdb tcl tk make expect target-libgloss itcl tix db sn gnuserv\"\n+    noconfigdirs=\"$noconfigdirs gdb tcl tk make expect target-libgloss itcl tix db snavigator gnuserv\"\n     # always build newlib.\n     skipdirs=`echo \" ${skipdirs} \" | sed -e 's/ target-newlib / /'`\n     ;;\n     # This is temporary until we can link against shared libraries\n   powerpcle-*-solaris*)\n-    noconfigdirs=\"$noconfigdirs gdb sim make tcl tk expect itcl tix db sn gnuserv\"\n+    noconfigdirs=\"$noconfigdirs gdb sim make tcl tk expect itcl tix db snavigator gnuserv\"\n     ;;\n   rs6000-*-lynxos*)\n     # The CVS server code doesn't work on the RS/6000\n     # Newlib makes problems for libg++ in crosses.\n-    noconfigdirs=\"$noconfigdirs target-newlib gprof cvs\"\n+    noconfigdirs=\"$noconfigdirs target-newlib gprof cvssrc\"\n     ;;\n   rs6000-*-aix*)\n     noconfigdirs=\"$noconfigdirs gprof\"\n@@ -699,6 +723,10 @@ case \"${target}\" in\n   mips*-*-bsd*)\n     noconfigdirs=\"$noconfigdirs gprof target-libgloss\"\n     ;;\n+  mipstx39-*-*)\n+    noconfigdirs=\"$noconfigdirs gprof\"   # same as generic mips\n+    target_configdirs=\"${target_configdirs} target-libstub target-cygmon\"\n+   ;;\n   mips*-*-*)\n     noconfigdirs=\"$noconfigdirs gprof\"\n     ;;\n@@ -714,6 +742,21 @@ case \"${target}\" in\n     esac\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n     ;;\n+  sparc-*-elf*)\n+    if [ x${is_cross_compiler} != xno ] ; then\n+\t   target_configdirs=\"${target_configdirs} target-libstub target-cygmon\"\n+    fi\n+    ;;\n+  sparc64-*-elf*)\n+    if [ x${is_cross_compiler} != xno ] ; then\n+\t   target_configdirs=\"${target_configdirs} target-libstub target-cygmon\"\n+    fi\n+    ;;\n+  sparclite-*-aout*)\n+    if [ x${is_cross_compiler} != xno ] ; then\n+\t   target_configdirs=\"${target_configdirs} target-libstub target-cygmon\"\n+    fi\n+    ;;\n   sparc-*-sunos4*)\n     if [ x${is_cross_compiler} != xno ] ; then\n            noconfigdirs=\"$noconfigdirs gdb gdbtest target-newlib target-libgloss\"\n@@ -724,6 +767,9 @@ case \"${target}\" in\n   v810-*-*)\n     noconfigdirs=\"$noconfigdirs bfd binutils gas gcc gdb ld target-libio target-libg++ target-libstdc++ opcodes target-libgloss\"\n     ;;\n+  v850-*-*)\n+    noconfigdirs=\"$noconfigdirs target-libgloss\"\n+    ;;\n   vax-*-vms)\n     noconfigdirs=\"$noconfigdirs bfd binutils gdb ld target-newlib opcodes target-libgloss\"\n     ;;\n@@ -741,26 +787,13 @@ case \"${target}\" in\n     ;;    \n esac\n \n-# targets that need a second pass\n-case \"${target}\" in\n-  *-gm-magic*)\n-    noconfigdirs=\"$noconfigdirs target-libgloss\"\n-    ;;\n-esac\n-\n # If we aren't building newlib, then don't build libgloss, since libgloss\n # depends upon some newlib header files.\n case \"${noconfigdirs}\" in\n   *target-libgloss*) ;;\n   *target-newlib*) noconfigdirs=\"$noconfigdirs target-libgloss\" ;;\n esac\n \n-# If we are building a Canadian Cross, discard tools that can not be built\n-# using a cross compiler.  FIXME: These tools should be fixed.\n-if [ \"${build}\" != \"${host}\" ]; then\n-  noconfigdirs=\"$noconfigdirs expect dejagnu\"\n-fi\n-\n # Make sure we don't let GNU ld be added if we didn't want it.\n if [ x$with_gnu_ld = xno ]; then\n   use_gnu_ld=no\n@@ -824,12 +857,12 @@ fi\n # Deconfigure all subdirectories, in case we are changing the\n # configuration from one where a subdirectory is supported to one where it\n # is not.\n-if [ -z \"${norecursion}\" -a -n \"${configdirs}\" ]; then\n+if [ -z \"${norecursion}\" ] && [ -n \"${configdirs}\" ]; then\n   for i in `echo ${configdirs} | sed -e s/target-//g` ; do\n     rm -f $i/Makefile\n   done\n fi\n-if [ -z \"${norecursion}\" -a -n \"${target_configdirs}\" ]; then\n+if [ -z \"${norecursion}\" ] && [ -n \"${target_configdirs}\" ]; then\n   for i in `echo ${target_configdirs} | sed -e s/target-//g` ; do\n     rm -f ${target_subdir}/$i/Makefile\n   done\n@@ -944,7 +977,7 @@ fi\n # can be created.  At this point the main configure script has set CC.\n echo \"int main () { return 0; }\" > conftest.c\n ${CC} -o conftest ${CFLAGS} ${CPPFLAGS} ${LDFLAGS} conftest.c\n-if [ $? = 0 ] && [ -s conftest ]; then\n+if [ $? = 0 ] && [ -s conftest -o -s conftest.exe ]; then\n   :\n else\n   echo 1>&2 \"*** The command '${CC} -o conftest ${CFLAGS} ${CPPFLAGS} ${LDFLAGS} conftest.c' failed.\"\n@@ -992,29 +1025,18 @@ if [ \"${shared}\" = \"yes\" ]; then\n \n   case \"${host}\" in\n   *-*-hpux*)\n-    sed -e 's/RPATH_ENVVAR[ \t]*=.*$/RPATH_ENVVAR = SHLIB_PATH/' \\\n+    sed -e 's/^RPATH_ENVVAR[ \t]*=.*$/RPATH_ENVVAR = SHLIB_PATH/' \\\n \tMakefile > Makefile.tem\n     rm -f Makefile\n     mv -f Makefile.tem Makefile\n     ;;\n   esac\n fi\n \n-# If we are building for a win32 host, then set INSTALL_PROGRAM_ARGS to\n-# -x.  This will cause programs to be installed with .exe extensions.\n-case \"${host}\" in\n-*-*-cygwin32* | i[3456]86-*-mingw32)\n-    sed -e 's/^INSTALL_PROGRAM_ARGS[ \t]*=.*$/INSTALL_PROGRAM_ARGS = -x/' \\\n-\tMakefile > Makefile.tem\n-    rm -f Makefile\n-    mv -f Makefile.tem Makefile\n-    ;;\n-esac\n-\n # Record target_configdirs and the configure arguments in Makefile.\n target_configdirs=`echo \"${target_configdirs}\" | sed -e 's/target-//g'`\n targargs=`echo \"${arguments}\" | \\\n-\tsed -e 's/--norecursion//' \\\n+\tsed -e 's/--no[^ \t]*//' \\\n \t    -e 's/--cache[a-z-]*=[^ \t]*//' \\\n \t    -e 's/--ho[a-z-]*=[^ \t]*//' \\\n \t    -e 's/--bu[a-z-]*=[^ \t]*//' \\\n@@ -1034,6 +1056,12 @@ if [ x${enable_multilib} = x ]; then\n   targargs=\"--enable-multilib ${targargs}\"\n fi\n \n+# Pass --with-newlib if appropriate.  Note that target_configdirs has\n+# changed from the earlier setting of with_newlib.\n+if [ x${with_newlib} != xno ] && echo \" ${target_configdirs} \" | grep \" newlib \" > /dev/null 2>&1 && [ -d ${srcdir}/newlib ] ; then\n+  targargs=\"--with-newlib ${targargs}\"\n+fi\n+\n targargs=\"--host=${target_alias} --build=${build_alias} ${targargs}\"\n sed -e \"s:^TARGET_CONFIGDIRS[ \t]*=.*$:TARGET_CONFIGDIRS = ${target_configdirs}:\" \\\n     -e \"s%^CONFIG_ARGUMENTS[ \t]*=.*$%CONFIG_ARGUMENTS = ${targargs}%\" \\"}, {"sha": "e9de23842dcd44d2953129c866b1ad25f7e1f1d9", "filename": "install-sh", "status": "modified", "additions": 0, "deletions": 36, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d4a5ee6d9554f9c76d32f53c6b8faded5070975/install-sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d4a5ee6d9554f9c76d32f53c6b8faded5070975/install-sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/install-sh?ref=5d4a5ee6d9554f9c76d32f53c6b8faded5070975", "patch": "@@ -53,9 +53,6 @@ mvcmd=\"$mvprog\"\n src=\"\"\n dst=\"\"\n dir_arg=\"\"\n-# CYGNUS LOCAL: exeext variable\n-exeext=\"\"\n-# END CYGNUS LOCAL\n \n while [ x\"$1\" != x ]; do\n     case $1 in\n@@ -94,16 +91,6 @@ while [ x\"$1\" != x ]; do\n \t    shift\n \t    continue;;\n \n-\t# CYGNUS LOCAL: -x option\n-        -x=*) exeext=`echo $1 | sed 's/-x=//'`\n-\t    shift\n-\t    continue;;\n-\n-\t-x) exeext=\".exe\"\n-\t    shift\n-\t    continue;;\n-\t# END CYGNUS LOCAL\n-\n \t*)  if [ x\"$src\" = x ]\n \t    then\n \t\tsrc=$1\n@@ -137,22 +124,6 @@ if [ x\"$dir_arg\" != x ]; then\n \tfi\n else\n \n-# CYGNUS LOCAL noer\n-# Win32-based gcc automatically appends .exe to produced executables,\n-# whether asked for or not.  This breaks installs.  The following\n-# changes the value of $src to $src.exe if $src is missing\n-\n-\tif [ -f $src ]\n-\tthen\n-\t\ttrue\n-\telif [ -f $src.exe ]\n-\tthen\n-\t\techo \"install:  $src does not exist, trying with .exe appended\"\n-\t\tsrc=\"$src\".exe\n-\tfi\n-\n-# end CYGNUS LOCAL noer\n-\n # Waiting for this to be detected by the \"$instcmd $src $dsttmp\" command\n # might cause directories to be created, which would be especially bad \n # if $src (and thus $dsttmp) contains '*'.\n@@ -182,13 +153,6 @@ else\n \telse\n \t\ttrue\n \tfi\n-\n-\t# CYGNUS LOCAL: Use exeext\n-\tcase \"`basename $dst`\" in\n-\t    *.*) ;;\n-\t    *) dst=\"$dst$exeext\" ;;\n-\tesac\n-\t# END CYGNUS LOCAL\n fi\n \n ## this sed command emulates the dirname command"}]}