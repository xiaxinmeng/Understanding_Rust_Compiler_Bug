{"sha": "6d2a112099a7d69ea9a4f0d0468882289583bb48", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmQyYTExMjA5OWE3ZDY5ZWE5YTRmMGQwNDY4ODgyMjg5NTgzYmI0OA==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@adacore.com", "date": "2009-04-22T10:36:37Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-04-22T10:36:37Z"}, "message": "mlib.adb: Minor reformatting\n\n2009-04-22  Robert Dewar  <dewar@adacore.com>\n\n\t* mlib.adb: Minor reformatting\n\n\t* sem_aggr.adb: Minor reformatting. Defend against junk aggregate from\n\tsyntax error.\n\nFrom-SVN: r146562", "tree": {"sha": "184b37529ffc00a287c44c3089b5f31ff094b55b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/184b37529ffc00a287c44c3089b5f31ff094b55b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6d2a112099a7d69ea9a4f0d0468882289583bb48", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d2a112099a7d69ea9a4f0d0468882289583bb48", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d2a112099a7d69ea9a4f0d0468882289583bb48", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d2a112099a7d69ea9a4f0d0468882289583bb48/comments", "author": null, "committer": null, "parents": [{"sha": "3b81743f8901ad7bf8055d461c3cb6d1e7e13e8a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b81743f8901ad7bf8055d461c3cb6d1e7e13e8a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b81743f8901ad7bf8055d461c3cb6d1e7e13e8a"}], "stats": {"total": 31, "additions": 27, "deletions": 4}, "files": [{"sha": "9c8c15d1fa598db73d84b63e0bc3faaad0bc76d2", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6d2a112099a7d69ea9a4f0d0468882289583bb48/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6d2a112099a7d69ea9a4f0d0468882289583bb48/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=6d2a112099a7d69ea9a4f0d0468882289583bb48", "patch": "@@ -1,3 +1,10 @@\n+2009-04-22  Robert Dewar  <dewar@adacore.com>\n+\n+\t* mlib.adb: Minor reformatting\n+\n+\t* sem_aggr.adb: Minor reformatting. Defend against junk aggregate from\n+\tsyntax error.\n+\n 2009-04-22  Nicolas Setton  <setton@adacore.com>\n \n \t* link.c: Add flag __gnat_separate_run_path_options."}, {"sha": "6c1a4918340de222a085787a32749a01308df3f4", "filename": "gcc/ada/mlib.adb", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6d2a112099a7d69ea9a4f0d0468882289583bb48/gcc%2Fada%2Fmlib.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6d2a112099a7d69ea9a4f0d0468882289583bb48/gcc%2Fada%2Fmlib.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fmlib.adb?ref=6d2a112099a7d69ea9a4f0d0468882289583bb48", "patch": "@@ -450,7 +450,6 @@ package body MLib is\n       Separate_Paths : Boolean;\n       for Separate_Paths'Size use Character'Size;\n       pragma Import (C, Separate_Paths, \"__gnat_separate_run_path_options\");\n-\n    begin\n       return Separate_Paths;\n    end Separate_Run_Path_Options;"}, {"sha": "22557b74ce80a9d1f22307a35bc0e616f3af9f09", "filename": "gcc/ada/sem_aggr.adb", "status": "modified", "additions": 20, "deletions": 3, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6d2a112099a7d69ea9a4f0d0468882289583bb48/gcc%2Fada%2Fsem_aggr.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6d2a112099a7d69ea9a4f0d0468882289583bb48/gcc%2Fada%2Fsem_aggr.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_aggr.adb?ref=6d2a112099a7d69ea9a4f0d0468882289583bb48", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2008, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -896,6 +896,15 @@ package body Sem_Aggr is\n       --  which is the subtype of the context in which the aggregate was found.\n \n    begin\n+      --  Ignore junk empty aggregate resulting from parser error\n+\n+      if No (Expressions (N))\n+        and then No (Component_Associations (N))\n+        and then not Null_Record_Present (N)\n+      then\n+         return;\n+      end if;\n+\n       --  Check for aggregates not allowed in configurable run-time mode.\n       --  We allow all cases of aggregates that do not come from source,\n       --  since these are all assumed to be small (e.g. bounds of a string\n@@ -1504,6 +1513,15 @@ package body Sem_Aggr is\n    --  Start of processing for Resolve_Array_Aggregate\n \n    begin\n+      --  Ignore junk empty aggregate resulting from parser error\n+\n+      if No (Expressions (N))\n+        and then No (Component_Associations (N))\n+        and then not Null_Record_Present (N)\n+      then\n+         return False;\n+      end if;\n+\n       --  STEP 1: make sure the aggregate is correctly formatted\n \n       if Present (Component_Associations (N)) then\n@@ -2171,13 +2189,12 @@ package body Sem_Aggr is\n             then\n                A_Type := Etype (Imm_Type);\n                return True;\n-\n             else\n                Imm_Type := Etype (Base_Type (Imm_Type));\n             end if;\n          end loop;\n \n-         --  If previous loop did not find a proper ancestor, report error.\n+         --  If previous loop did not find a proper ancestor, report error\n \n          Error_Msg_NE (\"expect ancestor type of &\", A, Typ);\n          return False;"}]}