{"sha": "532c67ca934a0926455c5a1f745233a4ee3dc2fb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTMyYzY3Y2E5MzRhMDkyNjQ1NWM1YTFmNzQ1MjMzYTRlZTNkYzJmYg==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@physics.uc.edu", "date": "2004-09-24T17:38:36Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2004-09-24T17:38:36Z"}, "message": "re PR tree-optimization/16954 (ICE in get_tmt_for with IMA and incomplete structs)\n\n2004-09-24  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR tree-opt/16954\n        * tree-ssa-copyrename.c (copy_rename_partition_coalesce):\n        Prevent renaming if the aliasing sets of the type which the\n        pointer points to are different.\n\nFrom-SVN: r88064", "tree": {"sha": "afed02e6556ed84602920335fcca293f65ff6255", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/afed02e6556ed84602920335fcca293f65ff6255"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/532c67ca934a0926455c5a1f745233a4ee3dc2fb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/532c67ca934a0926455c5a1f745233a4ee3dc2fb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/532c67ca934a0926455c5a1f745233a4ee3dc2fb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/532c67ca934a0926455c5a1f745233a4ee3dc2fb/comments", "author": null, "committer": null, "parents": [{"sha": "085e33aa0ad674c2680e6216b7d84737b935351c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/085e33aa0ad674c2680e6216b7d84737b935351c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/085e33aa0ad674c2680e6216b7d84737b935351c"}], "stats": {"total": 19, "additions": 19, "deletions": 0}, "files": [{"sha": "6e237dc163dbbdc84764cfae946c0b7f74451702", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/532c67ca934a0926455c5a1f745233a4ee3dc2fb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/532c67ca934a0926455c5a1f745233a4ee3dc2fb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=532c67ca934a0926455c5a1f745233a4ee3dc2fb", "patch": "@@ -1,3 +1,10 @@\n+2004-09-24  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR tree-opt/16954\n+\t* tree-ssa-copyrename.c (copy_rename_partition_coalesce):\n+\tPrevent renaming if the aliasing sets of the type which the\n+\tpointer points to are different.\n+\n 2004-09-24  Joseph S. Myers  <jsm@polyomino.org.uk>\n \n \tPR c/17188"}, {"sha": "4ef5b3dbd1c66657642ab3e6f268c7709d1f4598", "filename": "gcc/tree-ssa-copyrename.c", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/532c67ca934a0926455c5a1f745233a4ee3dc2fb/gcc%2Ftree-ssa-copyrename.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/532c67ca934a0926455c5a1f745233a4ee3dc2fb/gcc%2Ftree-ssa-copyrename.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-copyrename.c?ref=532c67ca934a0926455c5a1f745233a4ee3dc2fb", "patch": "@@ -261,6 +261,18 @@ copy_rename_partition_coalesce (var_map map, tree var1, tree var2, FILE *debug)\n       return;\n     }\n \n+  /* Don't coalesce if the aliasing sets of the types are different.  */\n+  if (POINTER_TYPE_P (TREE_TYPE (root1))\n+      && POINTER_TYPE_P (TREE_TYPE (root2))\n+      && get_alias_set (TREE_TYPE (TREE_TYPE (root1)))\n+          != get_alias_set (TREE_TYPE (TREE_TYPE (root2))))\n+    {\n+      if (debug)\n+\tfprintf (debug, \" : 2 different alasing sets. No coalesce.\\n\");\n+      return;\n+    }\n+\n+\n   /* Merge the two partitions.  */\n   p3 = partition_union (map->var_partition, p1, p2);\n "}]}