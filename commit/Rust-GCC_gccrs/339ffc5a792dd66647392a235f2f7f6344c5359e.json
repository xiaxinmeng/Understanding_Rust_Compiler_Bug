{"sha": "339ffc5a792dd66647392a235f2f7f6344c5359e", "node_id": "C_kwDOANBUbNoAKDMzOWZmYzVhNzkyZGQ2NjY0NzM5MmEyMzVmMmY3ZjYzNDRjNTM1OWU", "commit": {"author": {"name": "Haochen Jiang", "email": "haochen.jiang@intel.com", "date": "2022-11-07T03:04:57Z"}, "committer": {"name": "Haochen Jiang", "email": "haochen.jiang@intel.com", "date": "2022-11-07T03:10:06Z"}, "message": "Initial Granite Rapids Support\n\ngcc/ChangeLog:\n\n\t* common/config/i386/cpuinfo.h\n\t(get_intel_cpu): Handle Granite Rapids.\n\t* common/config/i386/i386-common.cc:\n\t(processor_names): Add graniterapids.\n\t(processor_alias_table): Ditto.\n\t* common/config/i386/i386-cpuinfo.h\n\t(enum processor_subtypes): Add INTEL_GRANTIERAPIDS.\n\t* config.gcc: Add -march=graniterapids.\n\t* config/i386/driver-i386.cc (host_detect_local_cpu):\n\tHandle graniterapids.\n\t* config/i386/i386-c.cc (ix86_target_macros_internal):\n\tDitto.\n\t* config/i386/i386-options.cc (m_GRANITERAPIDS): New.\n\t(processor_cost_table): Add graniterapids.\n\t* config/i386/i386.h (enum processor_type):\n\tAdd PROCESSOR_GRANITERAPIDS.\n\t(PTA_GRANITERAPIDS): Ditto.\n\t* doc/extend.texi: Add graniterapids.\n\t* doc/invoke.texi: Ditto.\n\ngcc/testsuite/ChangeLog:\n\n\t* g++.target/i386/mv16.C: Add graniterapids.\n\t* gcc.target/i386/funcspec-56.inc: Handle new march.", "tree": {"sha": "6553a5e7d1c2eda139c17535a121edea75b55bcc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6553a5e7d1c2eda139c17535a121edea75b55bcc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/339ffc5a792dd66647392a235f2f7f6344c5359e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/339ffc5a792dd66647392a235f2f7f6344c5359e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/339ffc5a792dd66647392a235f2f7f6344c5359e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/339ffc5a792dd66647392a235f2f7f6344c5359e/comments", "author": {"login": "jianghc724", "id": 10798680, "node_id": "MDQ6VXNlcjEwNzk4Njgw", "avatar_url": "https://avatars.githubusercontent.com/u/10798680?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jianghc724", "html_url": "https://github.com/jianghc724", "followers_url": "https://api.github.com/users/jianghc724/followers", "following_url": "https://api.github.com/users/jianghc724/following{/other_user}", "gists_url": "https://api.github.com/users/jianghc724/gists{/gist_id}", "starred_url": "https://api.github.com/users/jianghc724/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jianghc724/subscriptions", "organizations_url": "https://api.github.com/users/jianghc724/orgs", "repos_url": "https://api.github.com/users/jianghc724/repos", "events_url": "https://api.github.com/users/jianghc724/events{/privacy}", "received_events_url": "https://api.github.com/users/jianghc724/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jianghc724", "id": 10798680, "node_id": "MDQ6VXNlcjEwNzk4Njgw", "avatar_url": "https://avatars.githubusercontent.com/u/10798680?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jianghc724", "html_url": "https://github.com/jianghc724", "followers_url": "https://api.github.com/users/jianghc724/followers", "following_url": "https://api.github.com/users/jianghc724/following{/other_user}", "gists_url": "https://api.github.com/users/jianghc724/gists{/gist_id}", "starred_url": "https://api.github.com/users/jianghc724/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jianghc724/subscriptions", "organizations_url": "https://api.github.com/users/jianghc724/orgs", "repos_url": "https://api.github.com/users/jianghc724/repos", "events_url": "https://api.github.com/users/jianghc724/events{/privacy}", "received_events_url": "https://api.github.com/users/jianghc724/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b384d9a05a15d4e0251a12571144cbe3a0618f95", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b384d9a05a15d4e0251a12571144cbe3a0618f95", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b384d9a05a15d4e0251a12571144cbe3a0618f95"}], "stats": {"total": 55, "additions": 52, "deletions": 3}, "files": [{"sha": "42c25b8a63666db7fbb438518f85c70c0eb6b217", "filename": "gcc/common/config/i386/cpuinfo.h", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Fcommon%2Fconfig%2Fi386%2Fcpuinfo.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Fcommon%2Fconfig%2Fi386%2Fcpuinfo.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon%2Fconfig%2Fi386%2Fcpuinfo.h?ref=339ffc5a792dd66647392a235f2f7f6344c5359e", "patch": "@@ -564,6 +564,15 @@ get_intel_cpu (struct __processor_model *cpu_model,\n       CHECK___builtin_cpu_is (\"sierraforest\");\n       cpu_model->__cpu_type = INTEL_SIERRAFOREST;\n       break;\n+    case 0xad:\n+    case 0xae:\n+      /* Granite Rapids.  */\n+      cpu = \"graniterapids\";\n+      CHECK___builtin_cpu_is (\"corei7\");\n+      CHECK___builtin_cpu_is (\"graniterapids\");\n+      cpu_model->__cpu_type = INTEL_COREI7;\n+      cpu_model->__cpu_subtype = INTEL_COREI7_GRANITERAPIDS;\n+      break;\n     case 0x17:\n     case 0x1d:\n       /* Penryn.  */"}, {"sha": "c828ae5b7d722719a035b4638affb61907f37627", "filename": "gcc/common/config/i386/i386-common.cc", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Fcommon%2Fconfig%2Fi386%2Fi386-common.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Fcommon%2Fconfig%2Fi386%2Fi386-common.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon%2Fconfig%2Fi386%2Fi386-common.cc?ref=339ffc5a792dd66647392a235f2f7f6344c5359e", "patch": "@@ -1918,6 +1918,7 @@ const char *const processor_names[] =\n   \"sapphirerapids\",\n   \"alderlake\",\n   \"rocketlake\",\n+  \"graniterapids\",\n   \"intel\",\n   \"lujiazui\",\n   \"geode\",\n@@ -2037,6 +2038,8 @@ const pta processor_alias_table[] =\n     M_CPU_SUBTYPE (INTEL_COREI7_ALDERLAKE), P_PROC_AVX2},\n   {\"meteorlake\", PROCESSOR_ALDERLAKE, CPU_HASWELL, PTA_ALDERLAKE,\n     M_CPU_SUBTYPE (INTEL_COREI7_ALDERLAKE), P_PROC_AVX2},\n+  {\"graniterapids\", PROCESSOR_GRANITERAPIDS, CPU_HASWELL, PTA_GRANITERAPIDS,\n+    M_CPU_SUBTYPE (INTEL_COREI7_GRANITERAPIDS), P_PROC_AVX512F},\n   {\"bonnell\", PROCESSOR_BONNELL, CPU_ATOM, PTA_BONNELL,\n     M_CPU_TYPE (INTEL_BONNELL), P_PROC_SSSE3},\n   {\"atom\", PROCESSOR_BONNELL, CPU_ATOM, PTA_BONNELL,"}, {"sha": "c06f089b0c506a63be71f2dbc827ac1a816bdbf6", "filename": "gcc/common/config/i386/i386-cpuinfo.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Fcommon%2Fconfig%2Fi386%2Fi386-cpuinfo.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Fcommon%2Fconfig%2Fi386%2Fi386-cpuinfo.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon%2Fconfig%2Fi386%2Fi386-cpuinfo.h?ref=339ffc5a792dd66647392a235f2f7f6344c5359e", "patch": "@@ -96,6 +96,7 @@ enum processor_subtypes\n   INTEL_COREI7_ROCKETLAKE,\n   ZHAOXIN_FAM7H_LUJIAZUI,\n   AMDFAM19H_ZNVER4,\n+  INTEL_COREI7_GRANITERAPIDS,\n   CPU_SUBTYPE_MAX\n };\n "}, {"sha": "4070b584cf81766678b8978196137d3ba108ad6f", "filename": "gcc/config.gcc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=339ffc5a792dd66647392a235f2f7f6344c5359e", "patch": "@@ -668,7 +668,7 @@ silvermont knl knm skylake-avx512 cannonlake icelake-client icelake-server \\\n skylake goldmont goldmont-plus tremont cascadelake tigerlake cooperlake \\\n sapphirerapids alderlake rocketlake eden-x2 nano nano-1000 nano-2000 nano-3000 \\\n nano-x2 eden-x4 nano-x4 lujiazui x86-64 x86-64-v2 x86-64-v3 x86-64-v4 \\\n-sierraforest native\"\n+sierraforest graniterapids native\"\n \n # Additional x86 processors supported by --with-cpu=.  Each processor\n # MUST be separated by exactly one space."}, {"sha": "3117d83de008e9683a1932846a0aee9de0159247", "filename": "gcc/config/i386/driver-i386.cc", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Fconfig%2Fi386%2Fdriver-i386.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Fconfig%2Fi386%2Fdriver-i386.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fdriver-i386.cc?ref=339ffc5a792dd66647392a235f2f7f6344c5359e", "patch": "@@ -591,8 +591,11 @@ const char *host_detect_local_cpu (int argc, const char **argv)\n \t      /* This is unknown family 0x6 CPU.  */\n \t      if (has_feature (FEATURE_AVX))\n \t\t{\n+\t\t  /* Assume Granite Rapids.  */\n+\t\t  if (has_feature (FEATURE_AMX_FP16))\n+\t\t    cpu = \"graniterapids\";\n \t\t  /* Assume Sierra Forest.  */\n-\t\t  if (has_feature (FEATURE_AVXVNNIINT8))\n+\t\t  else if (has_feature (FEATURE_AVXVNNIINT8))\n \t\t    cpu = \"sierraforest\";\n \t\t  /* Assume Tiger Lake */\n \t\t  else if (has_feature (FEATURE_AVX512VP2INTERSECT))"}, {"sha": "c92796281e0e9742305b1e462b4857ccf4fb9ba4", "filename": "gcc/config/i386/i386-c.cc", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Fconfig%2Fi386%2Fi386-c.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Fconfig%2Fi386%2Fi386-c.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386-c.cc?ref=339ffc5a792dd66647392a235f2f7f6344c5359e", "patch": "@@ -250,6 +250,10 @@ ix86_target_macros_internal (HOST_WIDE_INT isa_flag,\n       def_or_undef (parse_in, \"__sapphirerapids\");\n       def_or_undef (parse_in, \"__sapphirerapids__\");\n       break;\n+    case PROCESSOR_GRANITERAPIDS:\n+      def_or_undef (parse_in, \"__graniterapids\");\n+      def_or_undef (parse_in, \"__graniterapids__\");\n+      break;\n     case PROCESSOR_ALDERLAKE:\n       def_or_undef (parse_in, \"__alderlake\");\n       def_or_undef (parse_in, \"__alderlake__\");\n@@ -433,6 +437,9 @@ ix86_target_macros_internal (HOST_WIDE_INT isa_flag,\n     case PROCESSOR_ROCKETLAKE:\n       def_or_undef (parse_in, \"__tune_rocketlake__\");\n       break;\n+    case PROCESSOR_GRANITERAPIDS:\n+      def_or_undef (parse_in, \"__tune_graniterapids__\");\n+      break;\n     case PROCESSOR_INTEL:\n     case PROCESSOR_GENERIC:\n       break;"}, {"sha": "0bb2b7d5e94d9955b2eaf930a6cc960b2a38937e", "filename": "gcc/config/i386/i386-options.cc", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Fconfig%2Fi386%2Fi386-options.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Fconfig%2Fi386%2Fi386-options.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386-options.cc?ref=339ffc5a792dd66647392a235f2f7f6344c5359e", "patch": "@@ -127,10 +127,11 @@ along with GCC; see the file COPYING3.  If not see\n #define m_SAPPHIRERAPIDS (HOST_WIDE_INT_1U<<PROCESSOR_SAPPHIRERAPIDS)\n #define m_ALDERLAKE (HOST_WIDE_INT_1U<<PROCESSOR_ALDERLAKE)\n #define m_ROCKETLAKE (HOST_WIDE_INT_1U<<PROCESSOR_ROCKETLAKE)\n+#define m_GRANITERAPIDS (HOST_WIDE_INT_1U<<PROCESSOR_GRANITERAPIDS)\n #define m_CORE_AVX512 (m_SKYLAKE_AVX512 | m_CANNONLAKE \\\n \t\t       | m_ICELAKE_CLIENT | m_ICELAKE_SERVER | m_CASCADELAKE \\\n \t\t       | m_TIGERLAKE | m_COOPERLAKE | m_SAPPHIRERAPIDS \\\n-\t\t       | m_ROCKETLAKE)\n+\t\t       | m_ROCKETLAKE | m_GRANITERAPIDS)\n #define m_CORE_AVX2 (m_HASWELL | m_SKYLAKE | m_CORE_AVX512)\n #define m_CORE_ALL (m_CORE2 | m_NEHALEM  | m_SANDYBRIDGE | m_CORE_AVX2)\n #define m_GOLDMONT (HOST_WIDE_INT_1U<<PROCESSOR_GOLDMONT)\n@@ -761,6 +762,7 @@ static const struct processor_costs *processor_cost_table[] =\n   &icelake_cost,\n   &alderlake_cost,\n   &icelake_cost,\n+  &icelake_cost,\n   &intel_cost,\n   &lujiazui_cost,\n   &geode_cost,"}, {"sha": "e3e675d36c5ef0732ee9dff5590471efd9eb9e7a", "filename": "gcc/config/i386/i386.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Fconfig%2Fi386%2Fi386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Fconfig%2Fi386%2Fi386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.h?ref=339ffc5a792dd66647392a235f2f7f6344c5359e", "patch": "@@ -2239,6 +2239,7 @@ enum processor_type\n   PROCESSOR_SAPPHIRERAPIDS,\n   PROCESSOR_ALDERLAKE,\n   PROCESSOR_ROCKETLAKE,\n+  PROCESSOR_GRANITERAPIDS,\n   PROCESSOR_INTEL,\n   PROCESSOR_LUJIAZUI,\n   PROCESSOR_GEODE,\n@@ -2348,6 +2349,8 @@ constexpr wide_int_bitmask PTA_ALDERLAKE = PTA_TREMONT | PTA_ADX | PTA_AVX\n   | PTA_HRESET | PTA_KL | PTA_WIDEKL | PTA_AVXVNNI;\n constexpr wide_int_bitmask PTA_SIERRAFOREST = PTA_ALDERLAKE | PTA_AVXIFMA\n   | PTA_AVXVNNIINT8 | PTA_AVXNECONVERT | PTA_CMPCCXADD;\n+constexpr wide_int_bitmask PTA_GRANITERAPIDS = PTA_SAPPHIRERAPIDS | PTA_AMX_FP16\n+  | PTA_PREFETCHI;\n constexpr wide_int_bitmask PTA_KNM = PTA_KNL | PTA_AVX5124VNNIW\n   | PTA_AVX5124FMAPS | PTA_AVX512VPOPCNTDQ;\n constexpr wide_int_bitmask PTA_ZNVER1 = PTA_64BIT | PTA_MMX | PTA_SSE | PTA_SSE2"}, {"sha": "8ac9f9108bfae9d7115a5d49287584ed3cb495e4", "filename": "gcc/doc/extend.texi", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Fdoc%2Fextend.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Fdoc%2Fextend.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fextend.texi?ref=339ffc5a792dd66647392a235f2f7f6344c5359e", "patch": "@@ -21960,6 +21960,9 @@ Intel Core i7 Alderlake CPU.\n @item rocketlake\n Intel Core i7 Rocketlake CPU.\n \n+@item graniterapids\n+Intel Core i7 graniterapids CPU.\n+\n @item bonnell\n Intel Atom Bonnell CPU.\n "}, {"sha": "c9ff5b0ce5fd00b84e013c68148ee41169f91090", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=339ffc5a792dd66647392a235f2f7f6344c5359e", "patch": "@@ -32175,6 +32175,17 @@ CLFLUSHOPT, XSAVEC, XSAVES, AVX512F, AVX512VL, AVX512BW, AVX512DQ, AVX512CD\n PKU, AVX512VBMI, AVX512IFMA, SHA, AVX512VNNI, GFNI, VAES, AVX512VBMI2,\n VPCLMULQDQ, AVX512BITALG, RDPID and AVX512VPOPCNTDQ instruction set support.\n \n+@item graniterapids\n+Intel graniterapids CPU with 64-bit extensions, MOVBE, MMX, SSE, SSE2, SSE3,\n+SSSE3, SSE4.1, SSE4.2, POPCNT, CX16, SAHF, FXSR, AVX, XSAVE, PCLMUL, FSGSBASE,\n+RDRND, F16C, AVX2, BMI, BMI2, LZCNT, FMA, MOVBE, HLE, RDSEED, ADCX, PREFETCHW,\n+AES, CLFLUSHOPT, XSAVEC, XSAVES, SGX, AVX512F, AVX512VL, AVX512BW, AVX512DQ,\n+AVX512CD, PKU, AVX512VBMI, AVX512IFMA, SHA, AVX512VNNI, GFNI, VAES, AVX512VBMI2,\n+VPCLMULQDQ, AVX512BITALG, RDPID, AVX512VPOPCNTDQ, PCONFIG, WBNOINVD, CLWB,\n+MOVDIRI, MOVDIR64B, AVX512VP2INTERSECT, ENQCMD, CLDEMOTE, PTWRITE, WAITPKG,\n+SERIALIZE, TSXLDTRK, UINTR, AMX-BF16, AMX-TILE, AMX-INT8, AVX-VNNI, AVX512FP16,\n+AVX512BF16, AMX-FP16 and PREFETCHI instruction set support.\n+\n @item k6\n AMD K6 CPU with MMX instruction set support.\n "}, {"sha": "e0e0f153d1c156cc29910427e4a2ae834c31a45f", "filename": "gcc/testsuite/g++.target/i386/mv16.C", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fi386%2Fmv16.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fi386%2Fmv16.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fi386%2Fmv16.C?ref=339ffc5a792dd66647392a235f2f7f6344c5359e", "patch": "@@ -96,6 +96,10 @@ int __attribute__ ((target(\"arch=sierraforest\"))) foo () {\n   return 25;\n }\n \n+int __attribute__ ((target(\"arch=graniterapids\"))) foo () {\n+  return 26;\n+}\n+\n int main ()\n {\n   int val = foo ();\n@@ -136,6 +140,8 @@ int main ()\n     assert (val == 24);\n   else if (__builtin_cpu_is (\"sierraforest\"))\n     assert (val == 25);\n+  else if (__builtin_cpu_is (\"graniterapids\"))\n+    assert (val == 26);\n   else\n     assert (val == 0);\n "}, {"sha": "1dca8b060d3cd9e6d513d73c8d17093000c0a361", "filename": "gcc/testsuite/gcc.target/i386/funcspec-56.inc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffuncspec-56.inc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/339ffc5a792dd66647392a235f2f7f6344c5359e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffuncspec-56.inc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffuncspec-56.inc?ref=339ffc5a792dd66647392a235f2f7f6344c5359e", "patch": "@@ -197,6 +197,7 @@ extern void test_arch_cooperlake (void)         __attribute__((__target__(\"arch=\n extern void test_arch_sapphirerapids (void)\t__attribute__((__target__(\"arch=sapphirerapids\")));\n extern void test_arch_alderlake (void)          __attribute__((__target__(\"arch=alderlake\")));\n extern void test_arch_rocketlake (void)         __attribute__((__target__(\"arch=rocketlake\")));\n+extern void test_arch_graniterapids (void)\t__attribute__((__target__(\"arch=graniterapids\")));\n extern void test_arch_lujiazui (void)\t\t\t__attribute__((__target__(\"arch=lujiazui\")));\n extern void test_arch_k8 (void)\t\t\t__attribute__((__target__(\"arch=k8\")));\n extern void test_arch_k8_sse3 (void)\t\t__attribute__((__target__(\"arch=k8-sse3\")));"}]}