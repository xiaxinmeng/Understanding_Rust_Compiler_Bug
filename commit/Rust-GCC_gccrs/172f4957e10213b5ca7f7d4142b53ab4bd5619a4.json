{"sha": "172f4957e10213b5ca7f7d4142b53ab4bd5619a4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTcyZjQ5NTdlMTAyMTNiNWNhN2Y3ZDQxNDJiNTNhYjRiZDU2MTlhNA==", "commit": {"author": {"name": "David S. Miller", "email": "davem@pierdol.cobaltmicro.com", "date": "1998-08-22T03:17:56Z"}, "committer": {"name": "David S. Miller", "email": "davem@gcc.gnu.org", "date": "1998-08-22T03:17:56Z"}, "message": "expmed.c (make_tree): Sign extend even if TREE_UNSIGNED...\n\n\t* expmed.c (make_tree) [CONST_INT]: Sign extend even if\n\tTREE_UNSIGNED, when bitsize of type's mode is larger than\n\tHOST_BITS_PER_WIDE_INT.\n\nFrom-SVN: r21904", "tree": {"sha": "9e6f79953eb62e72578443d69c7ed643b1ff4023", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9e6f79953eb62e72578443d69c7ed643b1ff4023"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/172f4957e10213b5ca7f7d4142b53ab4bd5619a4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/172f4957e10213b5ca7f7d4142b53ab4bd5619a4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/172f4957e10213b5ca7f7d4142b53ab4bd5619a4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/172f4957e10213b5ca7f7d4142b53ab4bd5619a4/comments", "author": null, "committer": null, "parents": [{"sha": "553e18537e63b72a65281c3bbe24b778e5fcb1a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/553e18537e63b72a65281c3bbe24b778e5fcb1a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/553e18537e63b72a65281c3bbe24b778e5fcb1a7"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "ba4a8d3347781161f1f3cfd0fd4262c6b41a6ab2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/172f4957e10213b5ca7f7d4142b53ab4bd5619a4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/172f4957e10213b5ca7f7d4142b53ab4bd5619a4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=172f4957e10213b5ca7f7d4142b53ab4bd5619a4", "patch": "@@ -3,6 +3,10 @@ Fri Aug 21 23:07:46 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>\n \t* config/sparc/sparc.md (TFmode splits): Handle destination\n \tregisters being referenced in the address correctly.\n \n+\t* expmed.c (make_tree) [CONST_INT]: Sign extend even if\n+\tTREE_UNSIGNED, when bitsize of type's mode is larger than\n+\tHOST_BITS_PER_WIDE_INT.\n+\n Fri Aug 21 19:31:31 1998  Alexandre Petit-Bianco <apbianco@cygnus.com>\n \n \t* tree.def (LABELED_BLOCK_EXPR, EXIT_BLOCK_EXPR): New tree nodes."}, {"sha": "c6efd6257d700b5730a138382aad8940d93b4cdd", "filename": "gcc/expmed.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/172f4957e10213b5ca7f7d4142b53ab4bd5619a4/gcc%2Fexpmed.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/172f4957e10213b5ca7f7d4142b53ab4bd5619a4/gcc%2Fexpmed.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpmed.c?ref=172f4957e10213b5ca7f7d4142b53ab4bd5619a4", "patch": "@@ -3767,7 +3767,9 @@ make_tree (type, x)\n     {\n     case CONST_INT:\n       t = build_int_2 (INTVAL (x),\n-\t\t       TREE_UNSIGNED (type) || INTVAL (x) >= 0 ? 0 : -1);\n+\t\t       (TREE_UNSIGNED (type)\n+\t\t\t&& (GET_MODE_BITSIZE (TYPE_MODE (type)) < HOST_BITS_PER_WIDE_INT))\n+\t\t       || INTVAL (x) >= 0 ? 0 : -1);\n       TREE_TYPE (t) = type;\n       return t;\n "}]}