{"sha": "1b004b58183dc0a606e5436d68562295cf3f0263", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWIwMDRiNTgxODNkYzBhNjA2ZTU0MzZkNjg1NjIyOTVjZjNmMDI2Mw==", "commit": {"author": {"name": "Jan Beulich", "email": "jbeulich@novell.com", "date": "2005-12-06T09:07:23Z"}, "committer": {"name": "Jan Beulich", "email": "jbeulich@gcc.gnu.org", "date": "2005-12-06T09:07:23Z"}, "message": "i386.c (builtin_description): Use MASK_SSE2 for __builtin_ia32_paddq and __builtin_ia32_subq.\n\n2005-12-06  Jan Beulich  <jbeulich@novell.com>\n\n\t* config/i386/i386.c (builtin_description): Use MASK_SSE2 for\n\t__builtin_ia32_paddq and __builtin_ia32_subq.\n\t(ix86_init_mmx_sse_builtins): Use MASK_SSE|MASK_3DNOW_A for\n\t__builtin_ia32_pshufw.\n\t* config/i386/i386.md (mmx_adddi3, mmx_subdi3): Depend on TARGET_SSE2.\n\nFrom-SVN: r108106", "tree": {"sha": "41b5634c66464e2cf154dad4b30ab5a5f987fb77", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/41b5634c66464e2cf154dad4b30ab5a5f987fb77"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1b004b58183dc0a606e5436d68562295cf3f0263", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b004b58183dc0a606e5436d68562295cf3f0263", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b004b58183dc0a606e5436d68562295cf3f0263", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b004b58183dc0a606e5436d68562295cf3f0263/comments", "author": null, "committer": null, "parents": [{"sha": "e395963ff613e9e6b497466bd9b49c6a3eb2f1eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e395963ff613e9e6b497466bd9b49c6a3eb2f1eb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e395963ff613e9e6b497466bd9b49c6a3eb2f1eb"}], "stats": {"total": 18, "additions": 13, "deletions": 5}, "files": [{"sha": "0022d62a1c14af8039e2ccc7b28b4dae3fe9dca9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b004b58183dc0a606e5436d68562295cf3f0263/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b004b58183dc0a606e5436d68562295cf3f0263/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1b004b58183dc0a606e5436d68562295cf3f0263", "patch": "@@ -1,3 +1,11 @@\n+2005-12-06  Jan Beulich  <jbeulich@novell.com>\n+\n+\t* config/i386/i386.c (builtin_description): Use MASK_SSE2 for\n+\t__builtin_ia32_paddq and __builtin_ia32_subq.\n+\t(ix86_init_mmx_sse_builtins): Use MASK_SSE|MASK_3DNOW_A for\n+\t__builtin_ia32_pshufw.\n+\t* config/i386/i386.md (mmx_adddi3, mmx_subdi3): Depend on TARGET_SSE2.\n+\n 2005-12-05  James E Wilson  <wilson@specifix.com>\n \n \tPR target/24934"}, {"sha": "476b47fec06f5cc4298a714f7a75d16d8193a31f", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b004b58183dc0a606e5436d68562295cf3f0263/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b004b58183dc0a606e5436d68562295cf3f0263/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=1b004b58183dc0a606e5436d68562295cf3f0263", "patch": "@@ -13988,11 +13988,11 @@ static const struct builtin_description bdesc_2arg[] =\n   { MASK_MMX, CODE_FOR_mmx_addv8qi3, \"__builtin_ia32_paddb\", IX86_BUILTIN_PADDB, 0, 0 },\n   { MASK_MMX, CODE_FOR_mmx_addv4hi3, \"__builtin_ia32_paddw\", IX86_BUILTIN_PADDW, 0, 0 },\n   { MASK_MMX, CODE_FOR_mmx_addv2si3, \"__builtin_ia32_paddd\", IX86_BUILTIN_PADDD, 0, 0 },\n-  { MASK_MMX, CODE_FOR_mmx_adddi3, \"__builtin_ia32_paddq\", IX86_BUILTIN_PADDQ, 0, 0 },\n+  { MASK_SSE2, CODE_FOR_mmx_adddi3, \"__builtin_ia32_paddq\", IX86_BUILTIN_PADDQ, 0, 0 },\n   { MASK_MMX, CODE_FOR_mmx_subv8qi3, \"__builtin_ia32_psubb\", IX86_BUILTIN_PSUBB, 0, 0 },\n   { MASK_MMX, CODE_FOR_mmx_subv4hi3, \"__builtin_ia32_psubw\", IX86_BUILTIN_PSUBW, 0, 0 },\n   { MASK_MMX, CODE_FOR_mmx_subv2si3, \"__builtin_ia32_psubd\", IX86_BUILTIN_PSUBD, 0, 0 },\n-  { MASK_MMX, CODE_FOR_mmx_subdi3, \"__builtin_ia32_psubq\", IX86_BUILTIN_PSUBQ, 0, 0 },\n+  { MASK_SSE2, CODE_FOR_mmx_subdi3, \"__builtin_ia32_psubq\", IX86_BUILTIN_PSUBQ, 0, 0 },\n \n   { MASK_MMX, CODE_FOR_mmx_ssaddv8qi3, \"__builtin_ia32_paddsb\", IX86_BUILTIN_PADDSB, 0, 0 },\n   { MASK_MMX, CODE_FOR_mmx_ssaddv4hi3, \"__builtin_ia32_paddsw\", IX86_BUILTIN_PADDSW, 0, 0 },\n@@ -14632,7 +14632,7 @@ ix86_init_mmx_sse_builtins (void)\n   def_builtin (MASK_MMX, \"__builtin_ia32_psraw\", v4hi_ftype_v4hi_di, IX86_BUILTIN_PSRAW);\n   def_builtin (MASK_MMX, \"__builtin_ia32_psrad\", v2si_ftype_v2si_di, IX86_BUILTIN_PSRAD);\n \n-  def_builtin (MASK_MMX, \"__builtin_ia32_pshufw\", v4hi_ftype_v4hi_int, IX86_BUILTIN_PSHUFW);\n+  def_builtin (MASK_SSE | MASK_3DNOW_A, \"__builtin_ia32_pshufw\", v4hi_ftype_v4hi_int, IX86_BUILTIN_PSHUFW);\n   def_builtin (MASK_MMX, \"__builtin_ia32_pmaddwd\", v2si_ftype_v4hi_v4hi, IX86_BUILTIN_PMADDWD);\n \n   /* comi/ucomi insns.  */"}, {"sha": "4f0ab2ca3ee129ae20a631e0a220c0d420d3d94e", "filename": "gcc/config/i386/mmx.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b004b58183dc0a606e5436d68562295cf3f0263/gcc%2Fconfig%2Fi386%2Fmmx.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b004b58183dc0a606e5436d68562295cf3f0263/gcc%2Fconfig%2Fi386%2Fmmx.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fmmx.md?ref=1b004b58183dc0a606e5436d68562295cf3f0263", "patch": "@@ -573,7 +573,7 @@\n \t [(plus:DI (match_operand:DI 1 \"nonimmediate_operand\" \"%0\")\n \t\t   (match_operand:DI 2 \"nonimmediate_operand\" \"ym\"))]\n \t UNSPEC_NOP))]\n-  \"TARGET_MMX && ix86_binary_operator_ok (PLUS, DImode, operands)\"\n+  \"TARGET_SSE2 && ix86_binary_operator_ok (PLUS, DImode, operands)\"\n   \"paddq\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"mmxadd\")\n    (set_attr \"mode\" \"DI\")])\n@@ -614,7 +614,7 @@\n \t [(minus:DI (match_operand:DI 1 \"register_operand\" \"0\")\n \t\t    (match_operand:DI 2 \"nonimmediate_operand\" \"ym\"))]\n \t UNSPEC_NOP))]\n-  \"TARGET_MMX\"\n+  \"TARGET_SSE2\"\n   \"psubq\\t{%2, %0|%0, %2}\"\n   [(set_attr \"type\" \"mmxadd\")\n    (set_attr \"mode\" \"DI\")])"}]}