{"sha": "47792129492aaf772bd0d50d267ef22b1a50f2ad", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDc3OTIxMjk0OTJhYWY3NzJiZDBkNTBkMjY3ZWYyMmIxYTUwZjJhZA==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "2001-05-14T14:54:53Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2001-05-14T14:54:53Z"}, "message": "som.h (NM_FLAGS): Remove.\n\n        * config/pa/som.h (NM_FLAGS): Remove.\n        (ASM_OUTPUT_FUNCTION_PREFIX): No longer truncate subspace names.\n        (ASM_OUTPUT_SECTION_NAME): Remove.\n        (MAKE_DECL_ONE_ONLY, ASM_WEAKEN_LABEL): Likewise.\n\nFrom-SVN: r42068", "tree": {"sha": "865969835fd23b4b1f997db8d2ba643f4233b618", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/865969835fd23b4b1f997db8d2ba643f4233b618"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/47792129492aaf772bd0d50d267ef22b1a50f2ad", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47792129492aaf772bd0d50d267ef22b1a50f2ad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47792129492aaf772bd0d50d267ef22b1a50f2ad", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47792129492aaf772bd0d50d267ef22b1a50f2ad/comments", "author": null, "committer": null, "parents": [{"sha": "b2a8b02619c3d68a0e4b24dbe24d02a28eaeb9c3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2a8b02619c3d68a0e4b24dbe24d02a28eaeb9c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b2a8b02619c3d68a0e4b24dbe24d02a28eaeb9c3"}], "stats": {"total": 69, "additions": 8, "deletions": 61}, "files": [{"sha": "2f1b34cf704c4c809d5f890f98baed25beae4004", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47792129492aaf772bd0d50d267ef22b1a50f2ad/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47792129492aaf772bd0d50d267ef22b1a50f2ad/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=47792129492aaf772bd0d50d267ef22b1a50f2ad", "patch": "@@ -1,3 +1,10 @@\n+Mon May 14 08:56:47 2001  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* config/pa/som.h (NM_FLAGS): Remove.\n+\t(ASM_OUTPUT_FUNCTION_PREFIX): No longer truncate subspace names.\n+\t(ASM_OUTPUT_SECTION_NAME): Remove.\n+\t(MAKE_DECL_ONE_ONLY, ASM_WEAKEN_LABEL): Likewise.\n+\n 2001-05-14  Mark Mitchell  <mark@codesourcery.com>\n \n \t* regrename.c (regrename_optimize): Do not rename registers to"}, {"sha": "2b42150909481c6428eaa8f67b767f933aad0c60", "filename": "gcc/config/pa/som.h", "status": "modified", "additions": 1, "deletions": 61, "changes": 62, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47792129492aaf772bd0d50d267ef22b1a50f2ad/gcc%2Fconfig%2Fpa%2Fsom.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47792129492aaf772bd0d50d267ef22b1a50f2ad/gcc%2Fconfig%2Fpa%2Fsom.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fsom.h?ref=47792129492aaf772bd0d50d267ef22b1a50f2ad", "patch": "@@ -51,12 +51,6 @@ Boston, MA 02111-1307, USA.  */\n   fprintf (FILE,\t\t\t\t\t\t\t\\\n \t   \"\\t.stabs \\\"\\\",%d,0,0,L$text_end0000\\nL$text_end0000:\\n\", N_SO)\n \n-/* The HP supplied NM will print out the subspace names for each symbol it\n-   finds, which can cause collect2 to find false matches when searching\n-   for ctors/dtors.  The \"-p\" option changes the output to not include\n-   subspace names.  The \"-n\" sorting option is unnecessary.  */\n-#define NM_FLAGS \"-p\"\n-\n /* HPUX has a program 'chatr' to list the dependencies of dynamically\n    linked executables and shared libraries.  */\n #define LDD_SUFFIX \"chatr\"\n@@ -133,7 +127,7 @@ do {\t\t\t\t\t\t\t\t\\\n       fputs (\"\\t.NSUBSPA $CODE$,QUAD=0,ALIGN=8,ACCESS=44,CODE_ONLY\\n\", FILE); \\\n     else if (TARGET_GAS)\t\t\t\t\t\t\\\n       fprintf (FILE,\t\t\t\t\t\t\t\\\n-\t       \"\\t.SUBSPA .%.30s\\n\", name);\t\t\t\t\\\n+\t       \"\\t.SUBSPA .%s\\n\", name);\t\t\t\t\\\n   }\n     \n #define ASM_DECLARE_FUNCTION_NAME(FILE, NAME, DECL) \\\n@@ -267,35 +261,6 @@ do {  \\\n #define EXTRA_SECTIONS in_readonly_data, in_ctors, in_dtors\n #endif\n \n-/* Switch into a generic section.\n-   This is currently only used to support section attributes.\n-\n-   We make the section read-only and executable for a function decl,\n-   read-only for a const data decl, and writable for a non-const data decl.  */\n-#define ASM_OUTPUT_SECTION_NAME(FILE, DECL, NAME, RELOC) \\\n-  if (DECL && TREE_CODE (DECL) == FUNCTION_DECL)\t\t\\\n-    {\t\t\t\t\t\t\t\t\\\n-      fputs (\"\\t.SPACE $TEXT$\\n\", FILE);\t\t\t\\\n-      if (TARGET_GAS)\t\t\t\t\t\t\\\n-\tfprintf (FILE,\t\t\t\t\t\t\\\n-\t       \"\\t.NSUBSPA %.31s,QUAD=0,ALIGN=8,ACCESS=44,CODE_ONLY,SORT=24\\n\", NAME);\\\n-      else\t\t\t\t\t\t\t\\\n-\tfprintf (FILE,\t\t\t\t\t\t\\\n-\t       \"\\t.NSUBSPA $%.29s$,QUAD=0,ALIGN=8,ACCESS=44,CODE_ONLY,SORT=24\\n\", NAME);\\\n-    }\t\t\t\t\t\t\t\t\\\n-  else if (!RELOC && DECL && DECL_READONLY_SECTION (DECL, RELOC))\\\n-    {\t\t\t\t\t\t\t\t\\\n-      fputs (\"\\t.SPACE $TEXT$\\n\", FILE);\t\t\t\\\n-      fprintf (FILE,\t\t\t\t\t\t\\\n-\t       \"\\t.NSUBSPA $LIT$,QUAD=0,ALIGN=8,ACCESS=44,SORT=16\\n\");\\\n-    }\t\t\t\t\t\t\t\t\\\n-  else\t\t\t\t\t\t\t\t\\\n-    {\t\t\t\t\t\t\t\t\\\n-      fputs (\"\\t.SPACE $PRIVATE$\\n\", FILE);\t\t\t\\\n-      fprintf (FILE,\t\t\t\t\t\t\\\n-\t       \"\\t.NSUBSPA $DATA$,QUAD=1,ALIGN=8,ACCESS=31,SORT=16\\n\");\\\n-    }\n-\n /* FIXME: HPUX ld generates incorrect GOT entries for \"T\" fixups\n    which reference data within the $TEXT$ space (for example constant\n    strings in the $LIT$ subspace).\n@@ -385,31 +350,6 @@ do {\t\t\t\t\t\t\\\n /* The .align directive in the HP assembler allows up to a 32 alignment.  */\n #define MAX_OFILE_ALIGNMENT 32768\n \n-/* This has been disabled for now.  As best as I call tell we are not\n-   following the proper conventions for secondary definitions as we\n-   do not emit a duplicate symbol with '_' prefix for each secondary\n-   definition.  This appears to be the cause of HP's tools core\n-   dumping and the dynamic linker reporting undefined symbols.  */\n-#if 0\n-#ifdef HAVE_GAS_WEAK\n-#define MAKE_DECL_ONE_ONLY(DECL) (DECL_WEAK (DECL) = 1)\n-\n-/* This is how we tell the assembler that a symbol is weak.  */\n-\n-#define ASM_WEAKEN_LABEL(FILE,NAME) \\\n-  do { fputs (\"\\t.weak\\t\", FILE); \\\n-       assemble_name (FILE, NAME); \\\n-       fputc ('\\n', FILE); \\\n-       if (! FUNCTION_NAME_P (NAME)) \\\n-         { \\\n-           fputs (\"\\t.EXPORT \", FILE); \\\n-           assemble_name (FILE, NAME); \\\n-           fputs (\",DATA\\n\", FILE); \\\n-         } \\\n-  } while (0)\n-#endif\n-#endif\n-\n /* SOM does not support the init_priority C++ attribute.  */\n #undef SUPPORTS_INIT_PRIORITY\n #define SUPPORTS_INIT_PRIORITY 0"}]}