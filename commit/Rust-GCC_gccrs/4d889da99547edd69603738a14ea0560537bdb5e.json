{"sha": "4d889da99547edd69603738a14ea0560537bdb5e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGQ4ODlkYTk5NTQ3ZWRkNjk2MDM3MzhhMTRlYTA1NjA1MzdiZGI1ZQ==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-11-10T04:39:00Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-11-10T04:39:00Z"}, "message": "(PIC_OFFSET_TABLE_MASK): New macro.\n\n(function_epilogue): When -mabicalls, ignore\nPIC_OFFSET_TABLE_REGNUM when calculating load_only_r31.\n\nFrom-SVN: r6048", "tree": {"sha": "1e179a43fe0bd389ebfa9121c7a74e83f9e27d65", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1e179a43fe0bd389ebfa9121c7a74e83f9e27d65"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4d889da99547edd69603738a14ea0560537bdb5e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d889da99547edd69603738a14ea0560537bdb5e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d889da99547edd69603738a14ea0560537bdb5e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d889da99547edd69603738a14ea0560537bdb5e/comments", "author": null, "committer": null, "parents": [{"sha": "92b0556de3f14fcc8c10fde3b66f8dac95258b8e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92b0556de3f14fcc8c10fde3b66f8dac95258b8e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/92b0556de3f14fcc8c10fde3b66f8dac95258b8e"}], "stats": {"total": 5, "additions": 4, "deletions": 1}, "files": [{"sha": "6434224297f7b41b1996dd325d4d223233d4106d", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d889da99547edd69603738a14ea0560537bdb5e/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d889da99547edd69603738a14ea0560537bdb5e/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=4d889da99547edd69603738a14ea0560537bdb5e", "patch": "@@ -4502,6 +4502,7 @@ mips_expand_prologue ()\n /* Do any necessary cleanup after a function to restore stack, frame, and regs. */\n \n #define RA_MASK ((long) 0x80000000)\t/* 1 << 31 */\n+#define PIC_OFFSET_TABLE_MASK (1 << (PIC_OFFSET_TABLE_REGNUM - GP_REG_FIRST))\n \n void\n function_epilogue (file, size)\n@@ -4610,7 +4611,9 @@ function_epilogue (file, size)\n \n       save_restore_insns (FALSE, tmp_rtx, tsize, file);\n \n-      load_only_r31 = (current_frame_info.mask == RA_MASK\n+      load_only_r31 = (((current_frame_info.mask\n+\t\t\t & ~ (TARGET_ABICALLS ? PIC_OFFSET_TABLE_MASK : 0))\n+\t\t\t== RA_MASK)\n \t\t       && current_frame_info.fmask == 0);\n \n       if (noreorder)"}]}