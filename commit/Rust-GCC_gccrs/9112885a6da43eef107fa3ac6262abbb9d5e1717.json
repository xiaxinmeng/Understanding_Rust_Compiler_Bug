{"sha": "9112885a6da43eef107fa3ac6262abbb9d5e1717", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTExMjg4NWE2ZGE0M2VlZjEwN2ZhM2FjNjI2MmFiYmI5ZDVlMTcxNw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2015-03-09T20:19:34Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2015-03-09T20:19:34Z"}, "message": "re PR lto/65361 (LTO: tree check: expected tree that contains \u2018decl minimal\u2019 structure, have \u2018tree_binfo\u2019 in add_type_duplicate, at ipa-devirt.c:1509)\n\n\tPR lto/65361\n\t* ipa-devirt.c (add_type_duplicate): Don't use DECL_CONTEXT\n\ton a TREE_BINFO, instead use BINFO_TYPE.\n\nFrom-SVN: r221286", "tree": {"sha": "8b08ba52daf2b1e59d32778499cae0db9442867b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8b08ba52daf2b1e59d32778499cae0db9442867b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9112885a6da43eef107fa3ac6262abbb9d5e1717", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9112885a6da43eef107fa3ac6262abbb9d5e1717", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9112885a6da43eef107fa3ac6262abbb9d5e1717", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9112885a6da43eef107fa3ac6262abbb9d5e1717/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a2f259ef04b104e6ee9770b2d4c11c93195654ad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a2f259ef04b104e6ee9770b2d4c11c93195654ad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a2f259ef04b104e6ee9770b2d4c11c93195654ad"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "968cb9037d73446ae7ff7e1b27d83126b6d05171", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9112885a6da43eef107fa3ac6262abbb9d5e1717/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9112885a6da43eef107fa3ac6262abbb9d5e1717/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9112885a6da43eef107fa3ac6262abbb9d5e1717", "patch": "@@ -1,3 +1,9 @@\n+2015-03-09  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR lto/65361\n+\t* ipa-devirt.c (add_type_duplicate): Don't use DECL_CONTEXT\n+\ton a TREE_BINFO, instead use BINFO_TYPE.\n+\n 2015-03-09  Richard Biener  <rguenther@suse.de>\n \n \tPR middle-end/65270"}, {"sha": "c9d153c1b99c2e3456b64fb7125e05e9d976119d", "filename": "gcc/ipa-devirt.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9112885a6da43eef107fa3ac6262abbb9d5e1717/gcc%2Fipa-devirt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9112885a6da43eef107fa3ac6262abbb9d5e1717/gcc%2Fipa-devirt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-devirt.c?ref=9112885a6da43eef107fa3ac6262abbb9d5e1717", "patch": "@@ -1505,9 +1505,9 @@ add_type_duplicate (odr_type val, tree type)\n \t\textra_base = BINFO_BASE_BINFO\n \t\t\t     (TYPE_BINFO (val->type),\n \t\t\t      BINFO_N_BASE_BINFOS (TYPE_BINFO (type)));\n-\t      inform (DECL_SOURCE_LOCATION\n-\t\t\t(TYPE_NAME (DECL_CONTEXT (extra_base))),\n-\t\t      \"the extra base is defined here \");\n+\t      tree extra_base_type = BINFO_TYPE (extra_base);\n+\t      inform (DECL_SOURCE_LOCATION (TYPE_NAME (extra_base_type)),\n+\t\t      \"the extra base is defined here\");\n \t    }\n \t  base_mismatch = true;\n \t}"}]}