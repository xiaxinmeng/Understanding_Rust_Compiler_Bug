{"sha": "fbdd0024110fbdc960e21862e5df7bd2e508afc9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmJkZDAwMjQxMTBmYmRjOTYwZTIxODYyZTVkZjdiZDJlNTA4YWZjOQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "1999-04-18T10:58:42Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1999-04-18T10:58:42Z"}, "message": "cp-tree.h (finish_class_definition): Add parameter.\n\n\t* cp-tree.h (finish_class_definition): Add parameter.\n\t* parse.y (structsp): Use it.  Don't call pop_scope here.\n\t* parse.c: Regenerated.\n\t* semantics.c (finish_class_definition): Pop it here.\n\nFrom-SVN: r26537", "tree": {"sha": "1ff66b8a2f458b08ec82a72208dd8774a9c758a3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1ff66b8a2f458b08ec82a72208dd8774a9c758a3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fbdd0024110fbdc960e21862e5df7bd2e508afc9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fbdd0024110fbdc960e21862e5df7bd2e508afc9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fbdd0024110fbdc960e21862e5df7bd2e508afc9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fbdd0024110fbdc960e21862e5df7bd2e508afc9/comments", "author": null, "committer": null, "parents": [{"sha": "fac618987174fd5030aea66b11c81633c10b409a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fac618987174fd5030aea66b11c81633c10b409a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fac618987174fd5030aea66b11c81633c10b409a"}], "stats": {"total": 768, "additions": 388, "deletions": 380}, "files": [{"sha": "470c9cfca6c54a08e0790b31a294c62a1a17546d", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fbdd0024110fbdc960e21862e5df7bd2e508afc9/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fbdd0024110fbdc960e21862e5df7bd2e508afc9/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=fbdd0024110fbdc960e21862e5df7bd2e508afc9", "patch": "@@ -1,3 +1,10 @@\n+1999-04-18  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* cp-tree.h (finish_class_definition): Add parameter.\n+\t* parse.y (structsp): Use it.  Don't call pop_scope here.\n+\t* parse.c: Regenerated.\n+\t* semantics.c (finish_class_definition): Pop it here.\n+\n 1999-04-17  Mark Mitchell  <mark@codesourcery.com>\n \n \t* decl.c (xref_tag): Revise handling of nested template"}, {"sha": "3eb8550697ea28112acce8064120ab9e9a13d1d5", "filename": "gcc/cp/cp-tree.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fbdd0024110fbdc960e21862e5df7bd2e508afc9/gcc%2Fcp%2Fcp-tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fbdd0024110fbdc960e21862e5df7bd2e508afc9/gcc%2Fcp%2Fcp-tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcp-tree.h?ref=fbdd0024110fbdc960e21862e5df7bd2e508afc9", "patch": "@@ -3272,7 +3272,7 @@ extern tree finish_template_type_parm           PROTO((tree, tree));\n extern tree finish_template_template_parm       PROTO((tree, tree));\n extern tree finish_parmlist                     PROTO((tree, int));\n extern tree begin_class_definition              PROTO((tree));\n-extern tree finish_class_definition             PROTO((tree, tree, int));\n+extern tree finish_class_definition             PROTO((tree, tree, int, int));\n extern void finish_default_args                 PROTO((void));\n extern void begin_inline_definitions            PROTO((void));\n extern void finish_inline_definitions           PROTO((void));"}, {"sha": "61bf895a82491b3636412276b2b3f067db618209", "filename": "gcc/cp/parse.c", "status": "modified", "additions": 374, "deletions": 375, "changes": 749, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fbdd0024110fbdc960e21862e5df7bd2e508afc9/gcc%2Fcp%2Fparse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fbdd0024110fbdc960e21862e5df7bd2e508afc9/gcc%2Fcp%2Fparse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparse.c?ref=fbdd0024110fbdc960e21862e5df7bd2e508afc9", "patch": "@@ -692,47 +692,47 @@ static const short yyrline[] = { 0,\n   2001,  2002,  2003,  2007,  2010,  2014,  2017,  2023,  2025,  2028,\n   2031,  2034,  2040,  2043,  2046,  2048,  2050,  2054,  2060,  2068,\n   2075,  2079,  2081,  2086,  2089,  2092,  2094,  2096,  2100,  2105,\n-  2112,  2116,  2120,  2127,  2131,  2134,  2137,  2143,  2145,  2156,\n-  2160,  2167,  2189,  2191,  2194,  2196,  2201,  2203,  2205,  2207,\n-  2209,  2211,  2215,  2223,  2226,  2228,  2232,  2239,  2245,  2251,\n-  2257,  2267,  2273,  2277,  2284,  2312,  2322,  2328,  2331,  2334,\n-  2336,  2340,  2342,  2346,  2351,  2357,  2360,  2361,  2382,  2405,\n-  2407,  2411,  2422,  2436,  2437,  2438,  2439,  2442,  2457,  2462,\n-  2468,  2470,  2475,  2477,  2479,  2481,  2483,  2485,  2488,  2498,\n-  2505,  2530,  2536,  2539,  2542,  2544,  2555,  2560,  2563,  2568,\n-  2571,  2578,  2588,  2591,  2598,  2608,  2610,  2613,  2615,  2618,\n-  2625,  2633,  2640,  2646,  2652,  2660,  2664,  2669,  2673,  2676,\n-  2685,  2687,  2691,  2694,  2699,  2703,  2709,  2720,  2723,  2727,\n-  2731,  2739,  2744,  2750,  2753,  2755,  2757,  2763,  2765,  2774,\n-  2777,  2779,  2781,  2783,  2787,  2790,  2793,  2795,  2797,  2799,\n-  2803,  2806,  2817,  2827,  2829,  2830,  2834,  2842,  2844,  2852,\n-  2855,  2857,  2859,  2861,  2865,  2868,  2871,  2873,  2875,  2877,\n-  2881,  2884,  2887,  2889,  2891,  2893,  2895,  2902,  2906,  2911,\n-  2915,  2920,  2922,  2926,  2929,  2931,  2934,  2936,  2937,  2940,\n-  2942,  2944,  2950,  2960,  2966,  2972,  2986,  2988,  2992,  3006,\n-  3008,  3010,  3014,  3020,  3033,  3035,  3039,  3052,  3058,  3060,\n-  3061,  3062,  3070,  3075,  3084,  3085,  3089,  3092,  3098,  3104,\n-  3107,  3109,  3111,  3113,  3117,  3121,  3125,  3128,  3132,  3134,\n-  3143,  3146,  3148,  3150,  3152,  3154,  3156,  3158,  3160,  3164,\n-  3168,  3172,  3176,  3177,  3179,  3181,  3183,  3185,  3187,  3189,\n-  3191,  3193,  3201,  3203,  3204,  3205,  3208,  3214,  3216,  3221,\n-  3223,  3226,  3240,  3243,  3246,  3250,  3253,  3260,  3262,  3265,\n-  3267,  3269,  3272,  3275,  3278,  3281,  3283,  3286,  3290,  3292,\n-  3298,  3300,  3301,  3303,  3308,  3310,  3312,  3314,  3316,  3319,\n-  3320,  3322,  3325,  3326,  3329,  3329,  3332,  3332,  3335,  3335,\n-  3337,  3339,  3341,  3343,  3349,  3355,  3358,  3361,  3367,  3369,\n-  3371,  3375,  3377,  3378,  3379,  3381,  3384,  3391,  3396,  3402,\n-  3406,  3408,  3411,  3413,  3416,  3420,  3422,  3425,  3427,  3430,\n-  3447,  3453,  3461,  3463,  3465,  3469,  3472,  3473,  3481,  3485,\n-  3489,  3492,  3493,  3499,  3502,  3505,  3507,  3511,  3516,  3519,\n-  3529,  3534,  3535,  3542,  3545,  3548,  3550,  3553,  3555,  3565,\n-  3579,  3583,  3586,  3588,  3592,  3596,  3599,  3602,  3604,  3608,\n-  3610,  3617,  3624,  3627,  3631,  3635,  3639,  3645,  3649,  3654,\n-  3656,  3659,  3664,  3670,  3681,  3684,  3686,  3690,  3695,  3697,\n-  3704,  3707,  3709,  3711,  3717,  3722,  3725,  3727,  3729,  3731,\n-  3733,  3735,  3737,  3739,  3741,  3743,  3745,  3747,  3749,  3751,\n-  3753,  3755,  3757,  3759,  3761,  3763,  3765,  3767,  3769,  3771,\n-  3773,  3775,  3777,  3779,  3781,  3783,  3785,  3787,  3790,  3792\n+  2112,  2116,  2120,  2127,  2131,  2134,  2137,  2143,  2145,  2157,\n+  2161,  2166,  2188,  2190,  2193,  2195,  2200,  2202,  2204,  2206,\n+  2208,  2210,  2214,  2222,  2225,  2227,  2231,  2238,  2244,  2250,\n+  2256,  2266,  2272,  2276,  2283,  2311,  2321,  2327,  2330,  2333,\n+  2335,  2339,  2341,  2345,  2350,  2356,  2359,  2360,  2381,  2404,\n+  2406,  2410,  2421,  2435,  2436,  2437,  2438,  2441,  2456,  2461,\n+  2467,  2469,  2474,  2476,  2478,  2480,  2482,  2484,  2487,  2497,\n+  2504,  2529,  2535,  2538,  2541,  2543,  2554,  2559,  2562,  2567,\n+  2570,  2577,  2587,  2590,  2597,  2607,  2609,  2612,  2614,  2617,\n+  2624,  2632,  2639,  2645,  2651,  2659,  2663,  2668,  2672,  2675,\n+  2684,  2686,  2690,  2693,  2698,  2702,  2708,  2719,  2722,  2726,\n+  2730,  2738,  2743,  2749,  2752,  2754,  2756,  2762,  2764,  2773,\n+  2776,  2778,  2780,  2782,  2786,  2789,  2792,  2794,  2796,  2798,\n+  2802,  2805,  2816,  2826,  2828,  2829,  2833,  2841,  2843,  2851,\n+  2854,  2856,  2858,  2860,  2864,  2867,  2870,  2872,  2874,  2876,\n+  2880,  2883,  2886,  2888,  2890,  2892,  2894,  2901,  2905,  2910,\n+  2914,  2919,  2921,  2925,  2928,  2930,  2933,  2935,  2936,  2939,\n+  2941,  2943,  2949,  2959,  2965,  2971,  2985,  2987,  2991,  3005,\n+  3007,  3009,  3013,  3019,  3032,  3034,  3038,  3051,  3057,  3059,\n+  3060,  3061,  3069,  3074,  3083,  3084,  3088,  3091,  3097,  3103,\n+  3106,  3108,  3110,  3112,  3116,  3120,  3124,  3127,  3131,  3133,\n+  3142,  3145,  3147,  3149,  3151,  3153,  3155,  3157,  3159,  3163,\n+  3167,  3171,  3175,  3176,  3178,  3180,  3182,  3184,  3186,  3188,\n+  3190,  3192,  3200,  3202,  3203,  3204,  3207,  3213,  3215,  3220,\n+  3222,  3225,  3239,  3242,  3245,  3249,  3252,  3259,  3261,  3264,\n+  3266,  3268,  3271,  3274,  3277,  3280,  3282,  3285,  3289,  3291,\n+  3297,  3299,  3300,  3302,  3307,  3309,  3311,  3313,  3315,  3318,\n+  3319,  3321,  3324,  3325,  3328,  3328,  3331,  3331,  3334,  3334,\n+  3336,  3338,  3340,  3342,  3348,  3354,  3357,  3360,  3366,  3368,\n+  3370,  3374,  3376,  3377,  3378,  3380,  3383,  3390,  3395,  3401,\n+  3405,  3407,  3410,  3412,  3415,  3419,  3421,  3424,  3426,  3429,\n+  3446,  3452,  3460,  3462,  3464,  3468,  3471,  3472,  3480,  3484,\n+  3488,  3491,  3492,  3498,  3501,  3504,  3506,  3510,  3515,  3518,\n+  3528,  3533,  3534,  3541,  3544,  3547,  3549,  3552,  3554,  3564,\n+  3578,  3582,  3585,  3587,  3591,  3595,  3598,  3601,  3603,  3607,\n+  3609,  3616,  3623,  3626,  3630,  3634,  3638,  3644,  3648,  3653,\n+  3655,  3658,  3663,  3669,  3680,  3683,  3685,  3689,  3694,  3696,\n+  3703,  3706,  3708,  3710,  3716,  3721,  3724,  3726,  3728,  3730,\n+  3732,  3734,  3736,  3738,  3740,  3742,  3744,  3746,  3748,  3750,\n+  3752,  3754,  3756,  3758,  3760,  3762,  3764,  3766,  3768,  3770,\n+  3772,  3774,  3776,  3778,  3780,  3782,  3784,  3786,  3789,  3791\n };\n #endif\n \n@@ -6375,27 +6375,26 @@ case 479:\n \t\t    yychar = YYLEX;\n \t\t  semi = yychar == ';';\n \n-\t\t  yyval.ttype = finish_class_definition (yyvsp[-5].ftype.t, yyvsp[0].ttype, semi); \n+\t\t  yyval.ttype = finish_class_definition (yyvsp[-5].ftype.t, yyvsp[0].ttype, semi,\n+\t\t\t\t\t\t       yyvsp[-5].ftype.new_type_flag); \n \t\t;\n     break;}\n case 480:\n-#line 2156 \"parse.y\"\n+#line 2157 \"parse.y\"\n {\n \t\t  begin_inline_definitions ();\n \t\t;\n     break;}\n case 481:\n-#line 2160 \"parse.y\"\n+#line 2161 \"parse.y\"\n {\n \t\t  finish_inline_definitions ();\n-\t\t  if (yyvsp[-9].ftype.new_type_flag)\n-\t\t    pop_scope (CP_DECL_CONTEXT (TYPE_MAIN_DECL (yyvsp[-3].ttype)));\n \t\t  yyval.ftype.t = yyvsp[-3].ttype;\n \t\t  yyval.ftype.new_type_flag = 1; \n \t\t;\n     break;}\n case 482:\n-#line 2168 \"parse.y\"\n+#line 2167 \"parse.y\"\n {\n \t\t  if (yyvsp[0].ftype.new_type_flag)\n \t\t    pop_scope (CP_DECL_CONTEXT (TYPE_MAIN_DECL (yyvsp[0].ftype.t)));\n@@ -6417,83 +6416,83 @@ case 482:\n \t\t;\n     break;}\n case 486:\n-#line 2197 \"parse.y\"\n+#line 2196 \"parse.y\"\n { if (pedantic && !in_system_header)\n \t\t    pedwarn (\"comma at end of enumerator list\"); ;\n     break;}\n case 488:\n-#line 2204 \"parse.y\"\n+#line 2203 \"parse.y\"\n { error (\"storage class specifier `%s' not allowed after struct or class\", IDENTIFIER_POINTER (yyvsp[0].ttype)); ;\n     break;}\n case 489:\n-#line 2206 \"parse.y\"\n+#line 2205 \"parse.y\"\n { error (\"type specifier `%s' not allowed after struct or class\", IDENTIFIER_POINTER (yyvsp[0].ttype)); ;\n     break;}\n case 490:\n-#line 2208 \"parse.y\"\n+#line 2207 \"parse.y\"\n { error (\"type qualifier `%s' not allowed after struct or class\", IDENTIFIER_POINTER (yyvsp[0].ttype)); ;\n     break;}\n case 491:\n-#line 2210 \"parse.y\"\n+#line 2209 \"parse.y\"\n { error (\"no body nor ';' separates two class, struct or union declarations\"); ;\n     break;}\n case 492:\n-#line 2212 \"parse.y\"\n+#line 2211 \"parse.y\"\n { yyval.ttype = build_decl_list (yyvsp[0].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 493:\n-#line 2217 \"parse.y\"\n+#line 2216 \"parse.y\"\n { \n \t\t  current_aggr = yyvsp[-1].ttype; \n \t\t  yyval.ttype = yyvsp[0].ttype; \n \t\t;\n     break;}\n case 494:\n-#line 2225 \"parse.y\"\n+#line 2224 \"parse.y\"\n { current_aggr = yyval.ttype; yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 495:\n-#line 2227 \"parse.y\"\n+#line 2226 \"parse.y\"\n { yyungetc ('{', 1); ;\n     break;}\n case 496:\n-#line 2229 \"parse.y\"\n+#line 2228 \"parse.y\"\n { yyungetc (':', 1); ;\n     break;}\n case 497:\n-#line 2234 \"parse.y\"\n+#line 2233 \"parse.y\"\n {\n \t\t  current_aggr = yyvsp[-2].ttype;\n \t\t  yyval.ftype.t = handle_class_head (yyvsp[-2].ttype, yyvsp[-1].ttype, yyvsp[0].ttype);\n \t\t  yyval.ftype.new_type_flag = 1;\n \t\t;\n     break;}\n case 498:\n-#line 2240 \"parse.y\"\n+#line 2239 \"parse.y\"\n {\n \t\t  current_aggr = yyvsp[-3].ttype;\n \t\t  yyval.ftype.t = handle_class_head (yyvsp[-3].ttype, yyvsp[-1].ttype, yyvsp[0].ttype);\n \t\t  yyval.ftype.new_type_flag = 1;\n \t\t;\n     break;}\n case 499:\n-#line 2246 \"parse.y\"\n+#line 2245 \"parse.y\"\n {\n \t\t  current_aggr = yyvsp[-2].ttype;\n \t\t  yyval.ftype.t = handle_class_head (yyvsp[-2].ttype, NULL_TREE, yyvsp[0].ttype);\n \t\t  yyval.ftype.new_type_flag = 1;\n \t\t;\n     break;}\n case 500:\n-#line 2252 \"parse.y\"\n+#line 2251 \"parse.y\"\n { \n \t\t  current_aggr = yyvsp[-1].ttype; \n \t\t  yyval.ftype.t = yyvsp[0].ttype;\n \t\t  yyval.ftype.new_type_flag = 0;\n \t\t;\n     break;}\n case 501:\n-#line 2258 \"parse.y\"\n+#line 2257 \"parse.y\"\n { \n \t\t  current_aggr = yyvsp[-2].ttype; \n \t\t  yyval.ftype.t = yyvsp[0].ttype;\n@@ -6503,18 +6502,18 @@ case 501:\n \t\t;\n     break;}\n case 502:\n-#line 2269 \"parse.y\"\n+#line 2268 \"parse.y\"\n { \n \t\t  yyval.ftype.t = xref_tag (current_aggr, yyvsp[0].ttype, 1); \n \t\t  yyval.ftype.new_type_flag = 0;\n \t\t;\n     break;}\n case 503:\n-#line 2274 \"parse.y\"\n+#line 2273 \"parse.y\"\n { yyval.ttype = xref_tag (current_aggr, yyvsp[0].ttype, 0); ;\n     break;}\n case 504:\n-#line 2278 \"parse.y\"\n+#line 2277 \"parse.y\"\n { \n \t\t  yyval.ftype.t = yyvsp[-1].ttype;\n \t\t  yyval.ftype.new_type_flag = 0;\n@@ -6523,7 +6522,7 @@ case 504:\n \t\t;\n     break;}\n case 505:\n-#line 2286 \"parse.y\"\n+#line 2285 \"parse.y\"\n { \n \t\t  if (yyvsp[-1].ftype.t != error_mark_node)\n \t\t    {\n@@ -6550,51 +6549,51 @@ case 505:\n \t\t;\n     break;}\n case 506:\n-#line 2314 \"parse.y\"\n+#line 2313 \"parse.y\"\n { yyval.ttype = xref_tag (yyval.ttype, make_anon_name (), 0);\n \t\t  yyungetc ('{', 1); ;\n     break;}\n case 507:\n-#line 2324 \"parse.y\"\n+#line 2323 \"parse.y\"\n {\n \t\t  yyval.ftype.t = yyvsp[0].ttype;\n \t\t  yyval.ftype.new_type_flag = 0;\n \t\t;\n     break;}\n case 509:\n-#line 2333 \"parse.y\"\n+#line 2332 \"parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 510:\n-#line 2335 \"parse.y\"\n+#line 2334 \"parse.y\"\n { yyungetc(':', 1); yyval.ttype = NULL_TREE; ;\n     break;}\n case 511:\n-#line 2337 \"parse.y\"\n+#line 2336 \"parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 513:\n-#line 2343 \"parse.y\"\n+#line 2342 \"parse.y\"\n { yyval.ttype = chainon (yyval.ttype, yyvsp[0].ttype); ;\n     break;}\n case 514:\n-#line 2348 \"parse.y\"\n+#line 2347 \"parse.y\"\n { yyval.ttype = finish_base_specifier (access_default_node, yyvsp[0].ttype,\n \t\t\t\t\t      current_aggr \n \t\t\t\t\t      == signature_type_node); ;\n     break;}\n case 515:\n-#line 2352 \"parse.y\"\n+#line 2351 \"parse.y\"\n { yyval.ttype = finish_base_specifier (yyvsp[-2].ttype, yyvsp[0].ttype, \n \t\t\t\t\t      current_aggr \n \t\t\t\t\t      == signature_type_node); ;\n     break;}\n case 516:\n-#line 2359 \"parse.y\"\n+#line 2358 \"parse.y\"\n { if (yyval.ttype != error_mark_node) yyval.ttype = TYPE_MAIN_DECL (yyvsp[0].ttype); ;\n     break;}\n case 518:\n-#line 2362 \"parse.y\"\n+#line 2361 \"parse.y\"\n {\n \t\t  if (current_aggr == signature_type_node)\n \t\t    {\n@@ -6617,7 +6616,7 @@ case 518:\n \t\t;\n     break;}\n case 519:\n-#line 2383 \"parse.y\"\n+#line 2382 \"parse.y\"\n {\n \t\t  if (current_aggr == signature_type_node)\n \t\t    {\n@@ -6640,13 +6639,13 @@ case 519:\n \t\t;\n     break;}\n case 521:\n-#line 2408 \"parse.y\"\n+#line 2407 \"parse.y\"\n { if (yyvsp[-1].ttype != ridpointers[(int)RID_VIRTUAL])\n \t\t    cp_error (\"`%D' access\", yyvsp[-1].ttype);\n \t\t  yyval.ttype = access_default_virtual_node; ;\n     break;}\n case 522:\n-#line 2412 \"parse.y\"\n+#line 2411 \"parse.y\"\n {\n \t\t  if (yyvsp[-2].ttype != access_default_virtual_node)\n \t\t    error (\"multiple access specifiers\");\n@@ -6659,7 +6658,7 @@ case 522:\n \t\t;\n     break;}\n case 523:\n-#line 2423 \"parse.y\"\n+#line 2422 \"parse.y\"\n { if (yyvsp[-1].ttype != ridpointers[(int)RID_VIRTUAL])\n \t\t    cp_error (\"`%D' access\", yyvsp[-1].ttype);\n \t\t  else if (yyval.ttype == access_public_node)\n@@ -6673,7 +6672,7 @@ case 523:\n \t\t;\n     break;}\n case 528:\n-#line 2444 \"parse.y\"\n+#line 2443 \"parse.y\"\n {\n \t\t  if (current_aggr == signature_type_node)\n \t\t    {\n@@ -6685,49 +6684,49 @@ case 528:\n                 ;\n     break;}\n case 529:\n-#line 2459 \"parse.y\"\n+#line 2458 \"parse.y\"\n { \n \t\t  finish_member_declaration (yyvsp[0].ttype);\n \t\t;\n     break;}\n case 530:\n-#line 2463 \"parse.y\"\n+#line 2462 \"parse.y\"\n { \n \t\t  finish_member_declaration (yyvsp[0].ttype);\n \t\t;\n     break;}\n case 532:\n-#line 2471 \"parse.y\"\n+#line 2470 \"parse.y\"\n { error (\"missing ';' before right brace\");\n \t\t  yyungetc ('}', 0); ;\n     break;}\n case 533:\n-#line 2476 \"parse.y\"\n+#line 2475 \"parse.y\"\n { yyval.ttype = finish_method (yyval.ttype); ;\n     break;}\n case 534:\n-#line 2478 \"parse.y\"\n+#line 2477 \"parse.y\"\n { yyval.ttype = finish_method (yyval.ttype); ;\n     break;}\n case 535:\n-#line 2480 \"parse.y\"\n+#line 2479 \"parse.y\"\n { yyval.ttype = finish_method (yyval.ttype); ;\n     break;}\n case 536:\n-#line 2482 \"parse.y\"\n+#line 2481 \"parse.y\"\n { yyval.ttype = finish_method (yyval.ttype); ;\n     break;}\n case 537:\n-#line 2484 \"parse.y\"\n+#line 2483 \"parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 538:\n-#line 2486 \"parse.y\"\n+#line 2485 \"parse.y\"\n { yyval.ttype = yyvsp[0].ttype;\n \t\t  pedantic = yyvsp[-1].itype; ;\n     break;}\n case 539:\n-#line 2489 \"parse.y\"\n+#line 2488 \"parse.y\"\n {  \n \t\t  if (yyvsp[0].ttype)\n \t\t    yyval.ttype = finish_member_template_decl (yyvsp[0].ttype);\n@@ -6739,14 +6738,14 @@ case 539:\n \t\t;\n     break;}\n case 540:\n-#line 2499 \"parse.y\"\n+#line 2498 \"parse.y\"\n { \n \t\t  yyval.ttype = finish_member_class_template (yyvsp[-1].ftype.t); \n \t\t  finish_template_decl (yyvsp[-2].ttype);\n \t\t;\n     break;}\n case 541:\n-#line 2510 \"parse.y\"\n+#line 2509 \"parse.y\"\n {\n \t\t  /* Most of the productions for component_decl only\n \t\t     allow the creation of one new member, so we call\n@@ -6769,53 +6768,53 @@ case 541:\n \t\t;\n     break;}\n case 542:\n-#line 2531 \"parse.y\"\n+#line 2530 \"parse.y\"\n { \n \t\t  if (!yyvsp[0].itype)\n \t\t    grok_x_components (yyvsp[-1].ttype);\n \t\t  yyval.ttype = NULL_TREE; \n \t\t;\n     break;}\n case 543:\n-#line 2537 \"parse.y\"\n+#line 2536 \"parse.y\"\n { yyval.ttype = grokfield (yyval.ttype, NULL_TREE, yyvsp[0].ttype, yyvsp[-2].ttype,\n \t\t\t\t  build_tree_list (yyvsp[-1].ttype, NULL_TREE)); ;\n     break;}\n case 544:\n-#line 2540 \"parse.y\"\n+#line 2539 \"parse.y\"\n { yyval.ttype = grokfield (yyval.ttype, NULL_TREE, yyvsp[0].ttype, yyvsp[-2].ttype,\n \t\t\t\t  build_tree_list (yyvsp[-1].ttype, NULL_TREE)); ;\n     break;}\n case 545:\n-#line 2543 \"parse.y\"\n+#line 2542 \"parse.y\"\n { yyval.ttype = grokbitfield (NULL_TREE, NULL_TREE, yyvsp[0].ttype); ;\n     break;}\n case 546:\n-#line 2545 \"parse.y\"\n+#line 2544 \"parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 547:\n-#line 2556 \"parse.y\"\n+#line 2555 \"parse.y\"\n { tree specs, attrs;\n \t\t  split_specs_attrs (yyvsp[-4].ttype, &specs, &attrs);\n \t\t  yyval.ttype = grokfield (yyvsp[-3].ttype, specs, yyvsp[0].ttype, yyvsp[-2].ttype,\n \t\t\t\t  build_tree_list (yyvsp[-1].ttype, attrs)); ;\n     break;}\n case 548:\n-#line 2561 \"parse.y\"\n+#line 2560 \"parse.y\"\n { yyval.ttype = grokfield (yyval.ttype, NULL_TREE, yyvsp[0].ttype, yyvsp[-2].ttype,\n \t\t\t\t  build_tree_list (yyvsp[-1].ttype, NULL_TREE)); ;\n     break;}\n case 549:\n-#line 2564 \"parse.y\"\n+#line 2563 \"parse.y\"\n { yyval.ttype = do_class_using_decl (yyvsp[0].ttype); ;\n     break;}\n case 550:\n-#line 2570 \"parse.y\"\n+#line 2569 \"parse.y\"\n { yyval.itype = 0; ;\n     break;}\n case 551:\n-#line 2572 \"parse.y\"\n+#line 2571 \"parse.y\"\n { \n \t\t  if (PROCESSING_REAL_TEMPLATE_DECL_P ())\n \t\t    yyvsp[0].ttype = finish_member_template_decl (yyvsp[0].ttype);\n@@ -6824,7 +6823,7 @@ case 551:\n \t\t;\n     break;}\n case 552:\n-#line 2579 \"parse.y\"\n+#line 2578 \"parse.y\"\n { \n \t\t  check_multiple_declarators ();\n \t\t  if (PROCESSING_REAL_TEMPLATE_DECL_P ())\n@@ -6834,11 +6833,11 @@ case 552:\n \t\t;\n     break;}\n case 553:\n-#line 2590 \"parse.y\"\n+#line 2589 \"parse.y\"\n { yyval.itype = 0; ;\n     break;}\n case 554:\n-#line 2592 \"parse.y\"\n+#line 2591 \"parse.y\"\n { \n \t\t  if (PROCESSING_REAL_TEMPLATE_DECL_P ())\n \t\t    yyvsp[0].ttype = finish_member_template_decl (yyvsp[0].ttype);\n@@ -6847,7 +6846,7 @@ case 554:\n \t\t;\n     break;}\n case 555:\n-#line 2599 \"parse.y\"\n+#line 2598 \"parse.y\"\n { \n \t\t  check_multiple_declarators ();\n \t\t  if (PROCESSING_REAL_TEMPLATE_DECL_P ())\n@@ -6857,102 +6856,102 @@ case 555:\n \t\t;\n     break;}\n case 560:\n-#line 2620 \"parse.y\"\n+#line 2619 \"parse.y\"\n { split_specs_attrs (yyvsp[-4].ttype, &current_declspecs,\n \t\t\t\t     &prefix_attributes);\n \t\t  yyvsp[-4].ttype = current_declspecs;\n \t\t  yyval.ttype = grokfield (yyval.ttype, current_declspecs, yyvsp[0].ttype, yyvsp[-2].ttype,\n \t\t\t\t  build_tree_list (yyvsp[-1].ttype, prefix_attributes)); ;\n     break;}\n case 561:\n-#line 2626 \"parse.y\"\n+#line 2625 \"parse.y\"\n { split_specs_attrs (yyvsp[-4].ttype, &current_declspecs,\n \t\t\t\t     &prefix_attributes);\n \t\t  yyvsp[-4].ttype = current_declspecs;\n \t\t  yyval.ttype = grokbitfield (yyval.ttype, current_declspecs, yyvsp[-1].ttype);\n \t\t  cplus_decl_attributes (yyval.ttype, yyvsp[0].ttype, prefix_attributes); ;\n     break;}\n case 562:\n-#line 2635 \"parse.y\"\n+#line 2634 \"parse.y\"\n { split_specs_attrs (yyvsp[-4].ttype, &current_declspecs,\n \t\t\t\t     &prefix_attributes);\n \t\t  yyvsp[-4].ttype = current_declspecs;\n \t\t  yyval.ttype = grokfield (yyval.ttype, current_declspecs, yyvsp[0].ttype, yyvsp[-2].ttype,\n \t\t\t\t  build_tree_list (yyvsp[-1].ttype, prefix_attributes)); ;\n     break;}\n case 563:\n-#line 2641 \"parse.y\"\n+#line 2640 \"parse.y\"\n { split_specs_attrs (yyvsp[-4].ttype, &current_declspecs,\n \t\t\t\t     &prefix_attributes);\n \t\t  yyvsp[-4].ttype = current_declspecs;\n \t\t  yyval.ttype = grokfield (yyval.ttype, current_declspecs, yyvsp[0].ttype, yyvsp[-2].ttype,\n \t\t\t\t  build_tree_list (yyvsp[-1].ttype, prefix_attributes)); ;\n     break;}\n case 564:\n-#line 2647 \"parse.y\"\n+#line 2646 \"parse.y\"\n { split_specs_attrs (yyvsp[-4].ttype, &current_declspecs,\n \t\t\t\t     &prefix_attributes);\n \t\t  yyvsp[-4].ttype = current_declspecs;\n \t\t  yyval.ttype = grokbitfield (yyval.ttype, current_declspecs, yyvsp[-1].ttype);\n \t\t  cplus_decl_attributes (yyval.ttype, yyvsp[0].ttype, prefix_attributes); ;\n     break;}\n case 565:\n-#line 2653 \"parse.y\"\n+#line 2652 \"parse.y\"\n { split_specs_attrs (yyvsp[-3].ttype, &current_declspecs,\n \t\t\t\t     &prefix_attributes);\n \t\t  yyvsp[-3].ttype = current_declspecs;\n \t\t  yyval.ttype = grokbitfield (NULL_TREE, current_declspecs, yyvsp[-1].ttype);\n \t\t  cplus_decl_attributes (yyval.ttype, yyvsp[0].ttype, prefix_attributes); ;\n     break;}\n case 566:\n-#line 2662 \"parse.y\"\n+#line 2661 \"parse.y\"\n { yyval.ttype = grokfield (yyval.ttype, current_declspecs, yyvsp[0].ttype, yyvsp[-2].ttype,\n \t\t\t\t  build_tree_list (yyvsp[-1].ttype, prefix_attributes)); ;\n     break;}\n case 567:\n-#line 2665 \"parse.y\"\n+#line 2664 \"parse.y\"\n { yyval.ttype = grokbitfield (yyval.ttype, current_declspecs, yyvsp[-1].ttype);\n \t\t  cplus_decl_attributes (yyval.ttype, yyvsp[0].ttype, prefix_attributes); ;\n     break;}\n case 568:\n-#line 2671 \"parse.y\"\n+#line 2670 \"parse.y\"\n { yyval.ttype = grokfield (yyval.ttype, current_declspecs, yyvsp[0].ttype, yyvsp[-2].ttype,\n \t\t\t\t  build_tree_list (yyvsp[-1].ttype, prefix_attributes)); ;\n     break;}\n case 569:\n-#line 2674 \"parse.y\"\n+#line 2673 \"parse.y\"\n { yyval.ttype = grokbitfield (yyval.ttype, current_declspecs, yyvsp[-1].ttype);\n \t\t  cplus_decl_attributes (yyval.ttype, yyvsp[0].ttype, prefix_attributes); ;\n     break;}\n case 570:\n-#line 2677 \"parse.y\"\n+#line 2676 \"parse.y\"\n { yyval.ttype = grokbitfield (NULL_TREE, current_declspecs, yyvsp[-1].ttype);\n \t\t  cplus_decl_attributes (yyval.ttype, yyvsp[0].ttype, prefix_attributes); ;\n     break;}\n case 572:\n-#line 2688 \"parse.y\"\n+#line 2687 \"parse.y\"\n { TREE_CHAIN (yyvsp[0].ttype) = yyval.ttype; yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 573:\n-#line 2693 \"parse.y\"\n+#line 2692 \"parse.y\"\n { yyval.ttype = build_enumerator (yyval.ttype, NULL_TREE, current_enum_type); ;\n     break;}\n case 574:\n-#line 2695 \"parse.y\"\n+#line 2694 \"parse.y\"\n { yyval.ttype = build_enumerator (yyval.ttype, yyvsp[0].ttype, current_enum_type); ;\n     break;}\n case 575:\n-#line 2701 \"parse.y\"\n+#line 2700 \"parse.y\"\n { yyval.ftype.t = build_decl_list (yyvsp[-1].ftype.t, yyvsp[0].ttype); \n \t\t  yyval.ftype.new_type_flag = yyvsp[-1].ftype.new_type_flag; ;\n     break;}\n case 576:\n-#line 2704 \"parse.y\"\n+#line 2703 \"parse.y\"\n { yyval.ftype.t = build_decl_list (yyvsp[0].ftype.t, NULL_TREE); \n \t\t  yyval.ftype.new_type_flag = yyvsp[0].ftype.new_type_flag; ;\n     break;}\n case 577:\n-#line 2711 \"parse.y\"\n+#line 2710 \"parse.y\"\n {\n \t\t  if (pedantic)\n \t\t    pedwarn (\"ANSI C++ forbids array dimensions with parenthesized type in new\");\n@@ -6962,101 +6961,101 @@ case 577:\n \t\t;\n     break;}\n case 578:\n-#line 2722 \"parse.y\"\n+#line 2721 \"parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 579:\n-#line 2724 \"parse.y\"\n+#line 2723 \"parse.y\"\n { yyval.ttype = decl_tree_cons (NULL_TREE, yyvsp[0].ttype, yyval.ttype); ;\n     break;}\n case 580:\n-#line 2729 \"parse.y\"\n+#line 2728 \"parse.y\"\n { yyval.ftype.t = hash_tree_cons (NULL_TREE, yyvsp[0].ttype, NULL_TREE);\n \t\t  yyval.ftype.new_type_flag = 0; ;\n     break;}\n case 581:\n-#line 2732 \"parse.y\"\n+#line 2731 \"parse.y\"\n { yyval.ftype.t = hash_tree_cons (NULL_TREE, yyvsp[0].ttype, yyvsp[-1].ftype.t); \n \t\t  yyval.ftype.new_type_flag = yyvsp[-1].ftype.new_type_flag; ;\n     break;}\n case 582:\n-#line 2741 \"parse.y\"\n+#line 2740 \"parse.y\"\n { yyval.itype = suspend_momentary (); ;\n     break;}\n case 583:\n-#line 2746 \"parse.y\"\n+#line 2745 \"parse.y\"\n { resume_momentary ((int) yyvsp[-1].itype); yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 584:\n-#line 2752 \"parse.y\"\n+#line 2751 \"parse.y\"\n { resume_momentary ((int) yyvsp[-3].itype); yyval.ttype = yyvsp[-1].ttype; ;\n     break;}\n case 585:\n-#line 2754 \"parse.y\"\n+#line 2753 \"parse.y\"\n { resume_momentary ((int) yyvsp[-3].itype); yyval.ttype = yyvsp[-1].ttype; ;\n     break;}\n case 586:\n-#line 2756 \"parse.y\"\n+#line 2755 \"parse.y\"\n { resume_momentary ((int) yyvsp[-1].itype); yyval.ttype = empty_parms (); ;\n     break;}\n case 587:\n-#line 2758 \"parse.y\"\n+#line 2757 \"parse.y\"\n { resume_momentary ((int) yyvsp[-3].itype); yyval.ttype = NULL_TREE; ;\n     break;}\n case 589:\n-#line 2766 \"parse.y\"\n+#line 2765 \"parse.y\"\n {\n \t\t  /* Provide support for '(' attributes '*' declarator ')'\n \t\t     etc */\n \t\t  yyval.ttype = decl_tree_cons (yyvsp[-1].ttype, yyvsp[0].ttype, NULL_TREE);\n \t\t;\n     break;}\n case 590:\n-#line 2776 \"parse.y\"\n+#line 2775 \"parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[-1].ftype.t, yyvsp[0].ttype); ;\n     break;}\n case 591:\n-#line 2778 \"parse.y\"\n+#line 2777 \"parse.y\"\n { yyval.ttype = make_reference_declarator (yyvsp[-1].ftype.t, yyvsp[0].ttype); ;\n     break;}\n case 592:\n-#line 2780 \"parse.y\"\n+#line 2779 \"parse.y\"\n { yyval.ttype = make_pointer_declarator (NULL_TREE, yyvsp[0].ttype); ;\n     break;}\n case 593:\n-#line 2782 \"parse.y\"\n+#line 2781 \"parse.y\"\n { yyval.ttype = make_reference_declarator (NULL_TREE, yyvsp[0].ttype); ;\n     break;}\n case 594:\n-#line 2784 \"parse.y\"\n+#line 2783 \"parse.y\"\n { tree arg = make_pointer_declarator (yyvsp[-1].ttype, yyvsp[0].ttype);\n \t\t  yyval.ttype = build_parse_node (SCOPE_REF, yyvsp[-2].ttype, arg);\n \t\t;\n     break;}\n case 596:\n-#line 2792 \"parse.y\"\n+#line 2791 \"parse.y\"\n { yyval.ttype = make_call_declarator (yyval.ttype, yyvsp[-2].ttype, yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 597:\n-#line 2794 \"parse.y\"\n+#line 2793 \"parse.y\"\n { yyval.ttype = build_parse_node (ARRAY_REF, yyval.ttype, yyvsp[-1].ttype); ;\n     break;}\n case 598:\n-#line 2796 \"parse.y\"\n+#line 2795 \"parse.y\"\n { yyval.ttype = build_parse_node (ARRAY_REF, yyval.ttype, NULL_TREE); ;\n     break;}\n case 599:\n-#line 2798 \"parse.y\"\n+#line 2797 \"parse.y\"\n { yyval.ttype = yyvsp[-1].ttype; ;\n     break;}\n case 600:\n-#line 2800 \"parse.y\"\n+#line 2799 \"parse.y\"\n { push_nested_class (yyvsp[-1].ttype, 3);\n \t\t  yyval.ttype = build_parse_node (SCOPE_REF, yyval.ttype, yyvsp[0].ttype);\n \t\t  TREE_COMPLEXITY (yyval.ttype) = current_class_depth; ;\n     break;}\n case 602:\n-#line 2808 \"parse.y\"\n+#line 2807 \"parse.y\"\n {\n \t\t  if (TREE_CODE (yyvsp[0].ttype) == IDENTIFIER_NODE)\n \t\t    {\n@@ -7068,7 +7067,7 @@ case 602:\n \t\t;\n     break;}\n case 603:\n-#line 2818 \"parse.y\"\n+#line 2817 \"parse.y\"\n {\n \t\t  if (TREE_CODE (yyvsp[0].ttype) == IDENTIFIER_NODE)\n \t\t    yyval.ttype = IDENTIFIER_GLOBAL_VALUE (yyvsp[0].ttype);\n@@ -7078,138 +7077,138 @@ case 603:\n \t\t;\n     break;}\n case 606:\n-#line 2831 \"parse.y\"\n+#line 2830 \"parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 607:\n-#line 2836 \"parse.y\"\n+#line 2835 \"parse.y\"\n { yyval.ttype = get_type_decl (yyvsp[0].ttype); ;\n     break;}\n case 609:\n-#line 2845 \"parse.y\"\n+#line 2844 \"parse.y\"\n {\n \t\t  /* Provide support for '(' attributes '*' declarator ')'\n \t\t     etc */\n \t\t  yyval.ttype = decl_tree_cons (yyvsp[-1].ttype, yyvsp[0].ttype, NULL_TREE);\n \t\t;\n     break;}\n case 610:\n-#line 2854 \"parse.y\"\n+#line 2853 \"parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[-1].ftype.t, yyvsp[0].ttype); ;\n     break;}\n case 611:\n-#line 2856 \"parse.y\"\n+#line 2855 \"parse.y\"\n { yyval.ttype = make_reference_declarator (yyvsp[-1].ftype.t, yyvsp[0].ttype); ;\n     break;}\n case 612:\n-#line 2858 \"parse.y\"\n+#line 2857 \"parse.y\"\n { yyval.ttype = make_pointer_declarator (NULL_TREE, yyvsp[0].ttype); ;\n     break;}\n case 613:\n-#line 2860 \"parse.y\"\n+#line 2859 \"parse.y\"\n { yyval.ttype = make_reference_declarator (NULL_TREE, yyvsp[0].ttype); ;\n     break;}\n case 614:\n-#line 2862 \"parse.y\"\n+#line 2861 \"parse.y\"\n { tree arg = make_pointer_declarator (yyvsp[-1].ttype, yyvsp[0].ttype);\n \t\t  yyval.ttype = build_parse_node (SCOPE_REF, yyvsp[-2].ttype, arg);\n \t\t;\n     break;}\n case 616:\n-#line 2870 \"parse.y\"\n+#line 2869 \"parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[-1].ftype.t, yyvsp[0].ttype); ;\n     break;}\n case 617:\n-#line 2872 \"parse.y\"\n+#line 2871 \"parse.y\"\n { yyval.ttype = make_reference_declarator (yyvsp[-1].ftype.t, yyvsp[0].ttype); ;\n     break;}\n case 618:\n-#line 2874 \"parse.y\"\n+#line 2873 \"parse.y\"\n { yyval.ttype = make_pointer_declarator (NULL_TREE, yyvsp[0].ttype); ;\n     break;}\n case 619:\n-#line 2876 \"parse.y\"\n+#line 2875 \"parse.y\"\n { yyval.ttype = make_reference_declarator (NULL_TREE, yyvsp[0].ttype); ;\n     break;}\n case 620:\n-#line 2878 \"parse.y\"\n+#line 2877 \"parse.y\"\n { tree arg = make_pointer_declarator (yyvsp[-1].ttype, yyvsp[0].ttype);\n \t\t  yyval.ttype = build_parse_node (SCOPE_REF, yyvsp[-2].ttype, arg);\n \t\t;\n     break;}\n case 622:\n-#line 2886 \"parse.y\"\n+#line 2885 \"parse.y\"\n { yyval.ttype = make_call_declarator (yyval.ttype, yyvsp[-2].ttype, yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 623:\n-#line 2888 \"parse.y\"\n+#line 2887 \"parse.y\"\n { yyval.ttype = yyvsp[-1].ttype; ;\n     break;}\n case 624:\n-#line 2890 \"parse.y\"\n+#line 2889 \"parse.y\"\n { yyval.ttype = build_parse_node (ARRAY_REF, yyval.ttype, yyvsp[-1].ttype); ;\n     break;}\n case 625:\n-#line 2892 \"parse.y\"\n+#line 2891 \"parse.y\"\n { yyval.ttype = build_parse_node (ARRAY_REF, yyval.ttype, NULL_TREE); ;\n     break;}\n case 626:\n-#line 2894 \"parse.y\"\n+#line 2893 \"parse.y\"\n { enter_scope_of (yyvsp[0].ttype); ;\n     break;}\n case 627:\n-#line 2896 \"parse.y\"\n+#line 2895 \"parse.y\"\n { got_scope = NULL_TREE;\n \t\t  yyval.ttype = build_parse_node (SCOPE_REF, yyvsp[-1].ttype, yyvsp[0].ttype);\n \t\t  enter_scope_of (yyval.ttype);\n \t\t;\n     break;}\n case 628:\n-#line 2904 \"parse.y\"\n+#line 2903 \"parse.y\"\n { got_scope = NULL_TREE;\n \t\t  yyval.ttype = build_parse_node (SCOPE_REF, yyval.ttype, yyvsp[0].ttype); ;\n     break;}\n case 629:\n-#line 2907 \"parse.y\"\n+#line 2906 \"parse.y\"\n { got_scope = NULL_TREE;\n  \t\t  yyval.ttype = build_parse_node (SCOPE_REF, yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 630:\n-#line 2913 \"parse.y\"\n+#line 2912 \"parse.y\"\n { got_scope = NULL_TREE;\n \t\t  yyval.ttype = build_parse_node (SCOPE_REF, yyval.ttype, yyvsp[0].ttype); ;\n     break;}\n case 631:\n-#line 2916 \"parse.y\"\n+#line 2915 \"parse.y\"\n { got_scope = NULL_TREE;\n \t\t  yyval.ttype = build_parse_node (SCOPE_REF, yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 633:\n-#line 2923 \"parse.y\"\n+#line 2922 \"parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 634:\n-#line 2928 \"parse.y\"\n+#line 2927 \"parse.y\"\n { yyval.ttype = build_functional_cast (yyvsp[-3].ftype.t, yyvsp[-1].ttype); ;\n     break;}\n case 635:\n-#line 2930 \"parse.y\"\n+#line 2929 \"parse.y\"\n { yyval.ttype = reparse_decl_as_expr (yyvsp[-3].ftype.t, yyvsp[-1].ttype); ;\n     break;}\n case 636:\n-#line 2932 \"parse.y\"\n+#line 2931 \"parse.y\"\n { yyval.ttype = reparse_absdcl_as_expr (yyvsp[-1].ftype.t, yyvsp[0].ttype); ;\n     break;}\n case 641:\n-#line 2943 \"parse.y\"\n+#line 2942 \"parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 642:\n-#line 2945 \"parse.y\"\n+#line 2944 \"parse.y\"\n { got_scope = yyval.ttype = make_typename_type (yyvsp[-3].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 643:\n-#line 2952 \"parse.y\"\n+#line 2951 \"parse.y\"\n {\n \t\t  if (TREE_CODE (yyvsp[-1].ttype) == IDENTIFIER_NODE)\n \t\t    {\n@@ -7220,31 +7219,31 @@ case 643:\n \t\t;\n     break;}\n case 644:\n-#line 2961 \"parse.y\"\n+#line 2960 \"parse.y\"\n {\n \t\t  if (TREE_CODE (yyvsp[-1].ttype) == IDENTIFIER_NODE)\n \t\t    yyval.ttype = lastiddecl;\n \t\t  got_scope = yyval.ttype = TREE_TYPE (yyval.ttype);\n \t\t;\n     break;}\n case 645:\n-#line 2967 \"parse.y\"\n+#line 2966 \"parse.y\"\n {\n \t\t  if (TREE_CODE (yyval.ttype) == IDENTIFIER_NODE)\n \t\t    yyval.ttype = lastiddecl;\n \t\t  got_scope = yyval.ttype;\n \t\t;\n     break;}\n case 646:\n-#line 2973 \"parse.y\"\n+#line 2972 \"parse.y\"\n { got_scope = yyval.ttype = complete_type (TREE_TYPE (yyvsp[-1].ttype)); ;\n     break;}\n case 648:\n-#line 2989 \"parse.y\"\n+#line 2988 \"parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 649:\n-#line 2994 \"parse.y\"\n+#line 2993 \"parse.y\"\n {\n \t\t  if (TREE_CODE_CLASS (TREE_CODE (yyvsp[-1].ttype)) == 't')\n \t\t    yyval.ttype = make_typename_type (yyvsp[-1].ttype, yyvsp[0].ttype);\n@@ -7259,26 +7258,26 @@ case 649:\n \t\t;\n     break;}\n case 650:\n-#line 3007 \"parse.y\"\n+#line 3006 \"parse.y\"\n { yyval.ttype = TREE_TYPE (yyvsp[0].ttype); ;\n     break;}\n case 651:\n-#line 3009 \"parse.y\"\n+#line 3008 \"parse.y\"\n { yyval.ttype = make_typename_type (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 652:\n-#line 3011 \"parse.y\"\n+#line 3010 \"parse.y\"\n { yyval.ttype = make_typename_type (yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 653:\n-#line 3016 \"parse.y\"\n+#line 3015 \"parse.y\"\n {\n \t\t  if (TREE_CODE (yyvsp[0].ttype) == IDENTIFIER_NODE)\n \t\t    cp_error (\"`%T' is not a class or namespace\", yyvsp[0].ttype);\n \t\t;\n     break;}\n case 654:\n-#line 3021 \"parse.y\"\n+#line 3020 \"parse.y\"\n {\n \t\t  if (TREE_CODE_CLASS (TREE_CODE (yyvsp[-1].ttype)) == 't')\n \t\t    yyval.ttype = make_typename_type (yyvsp[-1].ttype, yyvsp[0].ttype);\n@@ -7293,15 +7292,15 @@ case 654:\n \t\t;\n     break;}\n case 655:\n-#line 3034 \"parse.y\"\n+#line 3033 \"parse.y\"\n { got_scope = yyval.ttype = make_typename_type (yyvsp[-2].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 656:\n-#line 3036 \"parse.y\"\n+#line 3035 \"parse.y\"\n { got_scope = yyval.ttype = make_typename_type (yyvsp[-3].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 657:\n-#line 3041 \"parse.y\"\n+#line 3040 \"parse.y\"\n {\n \t\t  if (TREE_CODE (yyvsp[-1].ttype) != IDENTIFIER_NODE)\n \t\t    yyvsp[-1].ttype = lastiddecl;\n@@ -7315,31 +7314,31 @@ case 657:\n \t\t;\n     break;}\n case 658:\n-#line 3053 \"parse.y\"\n+#line 3052 \"parse.y\"\n {\n \t\t  if (TREE_CODE (yyvsp[-1].ttype) != IDENTIFIER_NODE)\n \t\t    yyval.ttype = lastiddecl;\n \t\t  got_scope = yyval.ttype = complete_type (TREE_TYPE (yyval.ttype));\n \t\t;\n     break;}\n case 659:\n-#line 3059 \"parse.y\"\n+#line 3058 \"parse.y\"\n { got_scope = yyval.ttype = complete_type (TREE_TYPE (yyval.ttype)); ;\n     break;}\n case 662:\n-#line 3063 \"parse.y\"\n+#line 3062 \"parse.y\"\n {\n \t\t  if (TREE_CODE (yyval.ttype) == IDENTIFIER_NODE)\n \t\t    yyval.ttype = lastiddecl;\n \t\t  got_scope = yyval.ttype;\n \t\t;\n     break;}\n case 663:\n-#line 3072 \"parse.y\"\n+#line 3071 \"parse.y\"\n { yyval.ttype = build_min_nt (TEMPLATE_ID_EXPR, yyvsp[-3].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 664:\n-#line 3077 \"parse.y\"\n+#line 3076 \"parse.y\"\n {\n \t\t  if (TREE_CODE (yyvsp[0].ttype) == IDENTIFIER_NODE)\n \t\t    yyval.ttype = IDENTIFIER_GLOBAL_VALUE (yyvsp[0].ttype);\n@@ -7349,156 +7348,156 @@ case 664:\n \t\t;\n     break;}\n case 666:\n-#line 3086 \"parse.y\"\n+#line 3085 \"parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 667:\n-#line 3091 \"parse.y\"\n+#line 3090 \"parse.y\"\n { got_scope = NULL_TREE; ;\n     break;}\n case 668:\n-#line 3093 \"parse.y\"\n+#line 3092 \"parse.y\"\n { yyval.ttype = yyvsp[-1].ttype; got_scope = NULL_TREE; ;\n     break;}\n case 669:\n-#line 3100 \"parse.y\"\n+#line 3099 \"parse.y\"\n { got_scope = void_type_node; ;\n     break;}\n case 670:\n-#line 3106 \"parse.y\"\n+#line 3105 \"parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 671:\n-#line 3108 \"parse.y\"\n+#line 3107 \"parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 672:\n-#line 3110 \"parse.y\"\n+#line 3109 \"parse.y\"\n { yyval.ttype = make_reference_declarator (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 673:\n-#line 3112 \"parse.y\"\n+#line 3111 \"parse.y\"\n { yyval.ttype = make_reference_declarator (yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 674:\n-#line 3114 \"parse.y\"\n+#line 3113 \"parse.y\"\n { tree arg = make_pointer_declarator (yyvsp[0].ttype, NULL_TREE);\n \t\t  yyval.ttype = build_parse_node (SCOPE_REF, yyvsp[-1].ttype, arg);\n \t\t;\n     break;}\n case 675:\n-#line 3118 \"parse.y\"\n+#line 3117 \"parse.y\"\n { tree arg = make_pointer_declarator (yyvsp[-1].ttype, yyvsp[0].ttype);\n \t\t  yyval.ttype = build_parse_node (SCOPE_REF, yyvsp[-2].ttype, arg);\n \t\t;\n     break;}\n case 677:\n-#line 3127 \"parse.y\"\n+#line 3126 \"parse.y\"\n { yyval.ttype = build_parse_node (ARRAY_REF, NULL_TREE, yyvsp[-1].ttype); ;\n     break;}\n case 678:\n-#line 3129 \"parse.y\"\n+#line 3128 \"parse.y\"\n { yyval.ttype = build_parse_node (ARRAY_REF, yyval.ttype, yyvsp[-1].ttype); ;\n     break;}\n case 680:\n-#line 3135 \"parse.y\"\n+#line 3134 \"parse.y\"\n {\n \t\t  /* Provide support for '(' attributes '*' declarator ')'\n \t\t     etc */\n \t\t  yyval.ttype = decl_tree_cons (yyvsp[-1].ttype, yyvsp[0].ttype, NULL_TREE);\n \t\t;\n     break;}\n case 681:\n-#line 3145 \"parse.y\"\n+#line 3144 \"parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[-1].ftype.t, yyvsp[0].ttype); ;\n     break;}\n case 682:\n-#line 3147 \"parse.y\"\n+#line 3146 \"parse.y\"\n { yyval.ttype = make_pointer_declarator (NULL_TREE, yyvsp[0].ttype); ;\n     break;}\n case 683:\n-#line 3149 \"parse.y\"\n+#line 3148 \"parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[0].ftype.t, NULL_TREE); ;\n     break;}\n case 684:\n-#line 3151 \"parse.y\"\n+#line 3150 \"parse.y\"\n { yyval.ttype = make_pointer_declarator (NULL_TREE, NULL_TREE); ;\n     break;}\n case 685:\n-#line 3153 \"parse.y\"\n+#line 3152 \"parse.y\"\n { yyval.ttype = make_reference_declarator (yyvsp[-1].ftype.t, yyvsp[0].ttype); ;\n     break;}\n case 686:\n-#line 3155 \"parse.y\"\n+#line 3154 \"parse.y\"\n { yyval.ttype = make_reference_declarator (NULL_TREE, yyvsp[0].ttype); ;\n     break;}\n case 687:\n-#line 3157 \"parse.y\"\n+#line 3156 \"parse.y\"\n { yyval.ttype = make_reference_declarator (yyvsp[0].ftype.t, NULL_TREE); ;\n     break;}\n case 688:\n-#line 3159 \"parse.y\"\n+#line 3158 \"parse.y\"\n { yyval.ttype = make_reference_declarator (NULL_TREE, NULL_TREE); ;\n     break;}\n case 689:\n-#line 3161 \"parse.y\"\n+#line 3160 \"parse.y\"\n { tree arg = make_pointer_declarator (yyvsp[0].ttype, NULL_TREE);\n \t\t  yyval.ttype = build_parse_node (SCOPE_REF, yyvsp[-1].ttype, arg);\n \t\t;\n     break;}\n case 690:\n-#line 3165 \"parse.y\"\n+#line 3164 \"parse.y\"\n { tree arg = make_pointer_declarator (yyvsp[-1].ttype, yyvsp[0].ttype);\n \t\t  yyval.ttype = build_parse_node (SCOPE_REF, yyvsp[-2].ttype, arg);\n \t\t;\n     break;}\n case 692:\n-#line 3174 \"parse.y\"\n+#line 3173 \"parse.y\"\n { yyval.ttype = yyvsp[-1].ttype; ;\n     break;}\n case 694:\n-#line 3178 \"parse.y\"\n+#line 3177 \"parse.y\"\n { yyval.ttype = make_call_declarator (yyval.ttype, yyvsp[-3].ttype, yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 695:\n-#line 3180 \"parse.y\"\n+#line 3179 \"parse.y\"\n { yyval.ttype = make_call_declarator (yyval.ttype, empty_parms (), yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 696:\n-#line 3182 \"parse.y\"\n+#line 3181 \"parse.y\"\n { yyval.ttype = build_parse_node (ARRAY_REF, yyval.ttype, yyvsp[-1].ttype); ;\n     break;}\n case 697:\n-#line 3184 \"parse.y\"\n+#line 3183 \"parse.y\"\n { yyval.ttype = build_parse_node (ARRAY_REF, yyval.ttype, NULL_TREE); ;\n     break;}\n case 698:\n-#line 3186 \"parse.y\"\n+#line 3185 \"parse.y\"\n { yyval.ttype = make_call_declarator (NULL_TREE, yyvsp[-3].ttype, yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 699:\n-#line 3188 \"parse.y\"\n+#line 3187 \"parse.y\"\n { set_quals_and_spec (yyval.ttype, yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 700:\n-#line 3190 \"parse.y\"\n+#line 3189 \"parse.y\"\n { set_quals_and_spec (yyval.ttype, yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 701:\n-#line 3192 \"parse.y\"\n+#line 3191 \"parse.y\"\n { yyval.ttype = build_parse_node (ARRAY_REF, NULL_TREE, yyvsp[-1].ttype); ;\n     break;}\n case 702:\n-#line 3194 \"parse.y\"\n+#line 3193 \"parse.y\"\n { yyval.ttype = build_parse_node (ARRAY_REF, NULL_TREE, NULL_TREE); ;\n     break;}\n case 709:\n-#line 3217 \"parse.y\"\n+#line 3216 \"parse.y\"\n { if (pedantic)\n \t\t    pedwarn (\"ANSI C++ forbids label declarations\"); ;\n     break;}\n case 712:\n-#line 3228 \"parse.y\"\n+#line 3227 \"parse.y\"\n { tree link;\n \t\t  for (link = yyvsp[-1].ttype; link; link = TREE_CHAIN (link))\n \t\t    {\n@@ -7509,266 +7508,266 @@ case 712:\n \t\t;\n     break;}\n case 713:\n-#line 3242 \"parse.y\"\n+#line 3241 \"parse.y\"\n {;\n     break;}\n case 715:\n-#line 3248 \"parse.y\"\n+#line 3247 \"parse.y\"\n { yyval.ttype = begin_compound_stmt (0); ;\n     break;}\n case 716:\n-#line 3250 \"parse.y\"\n+#line 3249 \"parse.y\"\n { yyval.ttype = finish_compound_stmt (0, yyvsp[-1].ttype); ;\n     break;}\n case 717:\n-#line 3255 \"parse.y\"\n+#line 3254 \"parse.y\"\n {\n \t\t  yyval.ttype = begin_if_stmt ();\n \t\t  cond_stmt_keyword = \"if\";\n \t\t;\n     break;}\n case 718:\n-#line 3260 \"parse.y\"\n+#line 3259 \"parse.y\"\n { finish_if_stmt_cond (yyvsp[0].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 719:\n-#line 3262 \"parse.y\"\n+#line 3261 \"parse.y\"\n { yyval.ttype = finish_then_clause (yyvsp[-3].ttype); ;\n     break;}\n case 721:\n-#line 3267 \"parse.y\"\n+#line 3266 \"parse.y\"\n { yyval.ttype = begin_compound_stmt (0); ;\n     break;}\n case 722:\n-#line 3269 \"parse.y\"\n+#line 3268 \"parse.y\"\n { yyval.ttype = finish_compound_stmt (0, yyvsp[-1].ttype); ;\n     break;}\n case 723:\n-#line 3274 \"parse.y\"\n+#line 3273 \"parse.y\"\n {;\n     break;}\n case 725:\n-#line 3280 \"parse.y\"\n+#line 3279 \"parse.y\"\n { finish_stmt (); ;\n     break;}\n case 726:\n-#line 3282 \"parse.y\"\n+#line 3281 \"parse.y\"\n { finish_expr_stmt (yyvsp[-1].ttype); ;\n     break;}\n case 727:\n-#line 3284 \"parse.y\"\n+#line 3283 \"parse.y\"\n { begin_else_clause (); ;\n     break;}\n case 728:\n-#line 3286 \"parse.y\"\n+#line 3285 \"parse.y\"\n { \n \t\t  finish_else_clause (yyvsp[-3].ttype); \n \t\t  finish_if_stmt ();\n \t\t;\n     break;}\n case 729:\n-#line 3291 \"parse.y\"\n+#line 3290 \"parse.y\"\n { finish_if_stmt (); ;\n     break;}\n case 730:\n-#line 3293 \"parse.y\"\n+#line 3292 \"parse.y\"\n {\n \t\t  yyval.ttype = begin_while_stmt ();\n \t\t  cond_stmt_keyword = \"while\";\n \t\t;\n     break;}\n case 731:\n-#line 3298 \"parse.y\"\n+#line 3297 \"parse.y\"\n { finish_while_stmt_cond (yyvsp[0].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 732:\n-#line 3300 \"parse.y\"\n+#line 3299 \"parse.y\"\n { finish_while_stmt (yyvsp[-3].ttype); ;\n     break;}\n case 733:\n-#line 3302 \"parse.y\"\n+#line 3301 \"parse.y\"\n { yyval.ttype = begin_do_stmt (); ;\n     break;}\n case 734:\n-#line 3304 \"parse.y\"\n+#line 3303 \"parse.y\"\n {\n \t\t  finish_do_body (yyvsp[-2].ttype);\n \t\t  cond_stmt_keyword = \"do\";\n \t\t;\n     break;}\n case 735:\n-#line 3309 \"parse.y\"\n+#line 3308 \"parse.y\"\n { finish_do_stmt (yyvsp[-1].ttype, yyvsp[-5].ttype); ;\n     break;}\n case 736:\n-#line 3311 \"parse.y\"\n+#line 3310 \"parse.y\"\n { yyval.ttype = begin_for_stmt (); ;\n     break;}\n case 737:\n-#line 3313 \"parse.y\"\n+#line 3312 \"parse.y\"\n { finish_for_init_stmt (yyvsp[-2].ttype); ;\n     break;}\n case 738:\n-#line 3315 \"parse.y\"\n+#line 3314 \"parse.y\"\n { finish_for_cond (yyvsp[-1].ttype, yyvsp[-5].ttype); ;\n     break;}\n case 739:\n-#line 3317 \"parse.y\"\n+#line 3316 \"parse.y\"\n { finish_for_expr (yyvsp[-1].ttype, yyvsp[-8].ttype); ;\n     break;}\n case 740:\n-#line 3319 \"parse.y\"\n+#line 3318 \"parse.y\"\n { finish_for_stmt (yyvsp[-3].ttype, yyvsp[-10].ttype); ;\n     break;}\n case 741:\n-#line 3321 \"parse.y\"\n+#line 3320 \"parse.y\"\n { begin_switch_stmt (); ;\n     break;}\n case 742:\n-#line 3323 \"parse.y\"\n+#line 3322 \"parse.y\"\n { yyval.ttype = finish_switch_cond (yyvsp[-1].ttype); ;\n     break;}\n case 743:\n-#line 3325 \"parse.y\"\n+#line 3324 \"parse.y\"\n { finish_switch_stmt (yyvsp[-3].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 744:\n-#line 3327 \"parse.y\"\n+#line 3326 \"parse.y\"\n { finish_case_label (yyvsp[-1].ttype, NULL_TREE); ;\n     break;}\n case 746:\n-#line 3330 \"parse.y\"\n+#line 3329 \"parse.y\"\n { finish_case_label (yyvsp[-3].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 748:\n-#line 3333 \"parse.y\"\n+#line 3332 \"parse.y\"\n { finish_case_label (NULL_TREE, NULL_TREE); ;\n     break;}\n case 750:\n-#line 3336 \"parse.y\"\n+#line 3335 \"parse.y\"\n { finish_break_stmt (); ;\n     break;}\n case 751:\n-#line 3338 \"parse.y\"\n+#line 3337 \"parse.y\"\n { finish_continue_stmt (); ;\n     break;}\n case 752:\n-#line 3340 \"parse.y\"\n+#line 3339 \"parse.y\"\n { finish_return_stmt (NULL_TREE); ;\n     break;}\n case 753:\n-#line 3342 \"parse.y\"\n+#line 3341 \"parse.y\"\n { finish_return_stmt (yyvsp[-1].ttype); ;\n     break;}\n case 754:\n-#line 3344 \"parse.y\"\n+#line 3343 \"parse.y\"\n { \n \t\t  finish_asm_stmt (yyvsp[-4].ttype, yyvsp[-2].ttype, NULL_TREE, NULL_TREE,\n \t\t\t\t   NULL_TREE); \n \t\t;\n     break;}\n case 755:\n-#line 3350 \"parse.y\"\n+#line 3349 \"parse.y\"\n { \n \t\t  finish_asm_stmt (yyvsp[-6].ttype, yyvsp[-4].ttype, yyvsp[-2].ttype, NULL_TREE,\n \t\t\t\t   NULL_TREE); \n \t\t;\n     break;}\n case 756:\n-#line 3356 \"parse.y\"\n+#line 3355 \"parse.y\"\n { finish_asm_stmt (yyvsp[-8].ttype, yyvsp[-6].ttype, yyvsp[-4].ttype, yyvsp[-2].ttype, NULL_TREE); ;\n     break;}\n case 757:\n-#line 3360 \"parse.y\"\n+#line 3359 \"parse.y\"\n { finish_asm_stmt (yyvsp[-10].ttype, yyvsp[-8].ttype, yyvsp[-6].ttype, yyvsp[-4].ttype, yyvsp[-2].ttype); ;\n     break;}\n case 758:\n-#line 3362 \"parse.y\"\n+#line 3361 \"parse.y\"\n { \n \t\t  if (pedantic)\n \t\t    pedwarn (\"ANSI C++ forbids computed gotos\");\n \t\t  finish_goto_stmt (yyvsp[-1].ttype);\n \t\t;\n     break;}\n case 759:\n-#line 3368 \"parse.y\"\n+#line 3367 \"parse.y\"\n { finish_goto_stmt (yyvsp[-1].ttype); ;\n     break;}\n case 760:\n-#line 3370 \"parse.y\"\n+#line 3369 \"parse.y\"\n { finish_stmt (); ;\n     break;}\n case 761:\n-#line 3372 \"parse.y\"\n+#line 3371 \"parse.y\"\n { error (\"label must be followed by statement\");\n \t\t  yyungetc ('}', 0);\n \t\t  finish_stmt (); ;\n     break;}\n case 762:\n-#line 3376 \"parse.y\"\n+#line 3375 \"parse.y\"\n { finish_stmt (); ;\n     break;}\n case 765:\n-#line 3380 \"parse.y\"\n+#line 3379 \"parse.y\"\n { do_local_using_decl (yyvsp[0].ttype); ;\n     break;}\n case 767:\n-#line 3386 \"parse.y\"\n+#line 3385 \"parse.y\"\n {\n \t\t  if (! current_function_parms_stored)\n \t\t    store_parm_decls ();\n \t\t  expand_start_early_try_stmts ();\n \t\t;\n     break;}\n case 768:\n-#line 3392 \"parse.y\"\n+#line 3391 \"parse.y\"\n { \n                   expand_start_all_catch (); \n                 ;\n     break;}\n case 769:\n-#line 3396 \"parse.y\"\n+#line 3395 \"parse.y\"\n {\n \t\t  expand_end_all_catch ();\n \t\t  yyval.itype = yyvsp[-3].itype;\n \t\t;\n     break;}\n case 770:\n-#line 3404 \"parse.y\"\n+#line 3403 \"parse.y\"\n { yyval.ttype = begin_try_block (); ;\n     break;}\n case 771:\n-#line 3406 \"parse.y\"\n+#line 3405 \"parse.y\"\n { finish_try_block (yyvsp[-1].ttype); ;\n     break;}\n case 772:\n-#line 3408 \"parse.y\"\n+#line 3407 \"parse.y\"\n { finish_handler_sequence (yyvsp[-3].ttype); ;\n     break;}\n case 775:\n-#line 3418 \"parse.y\"\n+#line 3417 \"parse.y\"\n { yyval.ttype = begin_handler(); ;\n     break;}\n case 776:\n-#line 3420 \"parse.y\"\n+#line 3419 \"parse.y\"\n { finish_handler_parms (yyvsp[-1].ttype); ;\n     break;}\n case 777:\n-#line 3422 \"parse.y\"\n+#line 3421 \"parse.y\"\n { finish_handler (yyvsp[-3].ttype); ;\n     break;}\n case 780:\n-#line 3432 \"parse.y\"\n+#line 3431 \"parse.y\"\n { expand_start_catch_block (NULL_TREE, NULL_TREE); ;\n     break;}\n case 781:\n-#line 3448 \"parse.y\"\n+#line 3447 \"parse.y\"\n { check_for_new_type (\"inside exception declarations\", yyvsp[-1].ftype);\n \t\t  expand_start_catch_block (TREE_PURPOSE (yyvsp[-1].ftype.t),\n \t\t\t\t\t    TREE_VALUE (yyvsp[-1].ftype.t)); ;\n     break;}\n case 782:\n-#line 3455 \"parse.y\"\n+#line 3454 \"parse.y\"\n { tree label;\n \t\tdo_label:\n \t\t  label = define_label (input_filename, lineno, yyvsp[-1].ttype);\n@@ -7777,98 +7776,98 @@ case 782:\n \t\t;\n     break;}\n case 783:\n-#line 3462 \"parse.y\"\n+#line 3461 \"parse.y\"\n { goto do_label; ;\n     break;}\n case 784:\n-#line 3464 \"parse.y\"\n+#line 3463 \"parse.y\"\n { goto do_label; ;\n     break;}\n case 785:\n-#line 3466 \"parse.y\"\n+#line 3465 \"parse.y\"\n { goto do_label; ;\n     break;}\n case 786:\n-#line 3471 \"parse.y\"\n+#line 3470 \"parse.y\"\n { if (yyvsp[-1].ttype) cplus_expand_expr_stmt (yyvsp[-1].ttype); ;\n     break;}\n case 788:\n-#line 3474 \"parse.y\"\n+#line 3473 \"parse.y\"\n { if (pedantic)\n \t\t    pedwarn (\"ANSI C++ forbids compound statements inside for initializations\");\n \t\t;\n     break;}\n case 789:\n-#line 3483 \"parse.y\"\n+#line 3482 \"parse.y\"\n { emit_line_note (input_filename, lineno);\n \t\t  yyval.ttype = NULL_TREE; ;\n     break;}\n case 790:\n-#line 3486 \"parse.y\"\n+#line 3485 \"parse.y\"\n { emit_line_note (input_filename, lineno); ;\n     break;}\n case 791:\n-#line 3491 \"parse.y\"\n+#line 3490 \"parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 793:\n-#line 3494 \"parse.y\"\n+#line 3493 \"parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 794:\n-#line 3501 \"parse.y\"\n+#line 3500 \"parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 797:\n-#line 3508 \"parse.y\"\n+#line 3507 \"parse.y\"\n { yyval.ttype = chainon (yyval.ttype, yyvsp[0].ttype); ;\n     break;}\n case 798:\n-#line 3513 \"parse.y\"\n+#line 3512 \"parse.y\"\n { yyval.ttype = build_tree_list (yyval.ttype, yyvsp[-1].ttype); ;\n     break;}\n case 799:\n-#line 3518 \"parse.y\"\n+#line 3517 \"parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyval.ttype, NULL_TREE); ;\n     break;}\n case 800:\n-#line 3520 \"parse.y\"\n+#line 3519 \"parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, yyval.ttype); ;\n     break;}\n case 801:\n-#line 3531 \"parse.y\"\n+#line 3530 \"parse.y\"\n {\n \t\t  yyval.ttype = empty_parms();\n \t\t;\n     break;}\n case 803:\n-#line 3536 \"parse.y\"\n+#line 3535 \"parse.y\"\n { yyval.ttype = finish_parmlist (build_tree_list (NULL_TREE, yyvsp[0].ftype.t), 0);\n \t\t  check_for_new_type (\"inside parameter list\", yyvsp[0].ftype); ;\n     break;}\n case 804:\n-#line 3544 \"parse.y\"\n+#line 3543 \"parse.y\"\n { yyval.ttype = finish_parmlist (yyval.ttype, 0); ;\n     break;}\n case 805:\n-#line 3546 \"parse.y\"\n+#line 3545 \"parse.y\"\n { yyval.ttype = finish_parmlist (yyvsp[-1].ttype, 1); ;\n     break;}\n case 806:\n-#line 3549 \"parse.y\"\n+#line 3548 \"parse.y\"\n { yyval.ttype = finish_parmlist (yyvsp[-1].ttype, 1); ;\n     break;}\n case 807:\n-#line 3551 \"parse.y\"\n+#line 3550 \"parse.y\"\n { yyval.ttype = finish_parmlist (build_tree_list (NULL_TREE,\n \t\t\t\t\t\t\t yyvsp[-1].ftype.t), 1); ;\n     break;}\n case 808:\n-#line 3554 \"parse.y\"\n+#line 3553 \"parse.y\"\n { yyval.ttype = finish_parmlist (NULL_TREE, 1); ;\n     break;}\n case 809:\n-#line 3556 \"parse.y\"\n+#line 3555 \"parse.y\"\n {\n \t\t  /* This helps us recover from really nasty\n \t\t     parse errors, for example, a missing right\n@@ -7880,7 +7879,7 @@ case 809:\n \t\t;\n     break;}\n case 810:\n-#line 3566 \"parse.y\"\n+#line 3565 \"parse.y\"\n {\n \t\t  /* This helps us recover from really nasty\n \t\t     parse errors, for example, a missing right\n@@ -7893,99 +7892,99 @@ case 810:\n \t\t;\n     break;}\n case 811:\n-#line 3581 \"parse.y\"\n+#line 3580 \"parse.y\"\n { maybe_snarf_defarg (); ;\n     break;}\n case 812:\n-#line 3583 \"parse.y\"\n+#line 3582 \"parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 815:\n-#line 3594 \"parse.y\"\n+#line 3593 \"parse.y\"\n { check_for_new_type (\"in a parameter list\", yyvsp[0].ftype);\n \t\t  yyval.ttype = build_tree_list (NULL_TREE, yyvsp[0].ftype.t); ;\n     break;}\n case 816:\n-#line 3597 \"parse.y\"\n+#line 3596 \"parse.y\"\n { check_for_new_type (\"in a parameter list\", yyvsp[-1].ftype);\n \t\t  yyval.ttype = build_tree_list (yyvsp[0].ttype, yyvsp[-1].ftype.t); ;\n     break;}\n case 817:\n-#line 3600 \"parse.y\"\n+#line 3599 \"parse.y\"\n { check_for_new_type (\"in a parameter list\", yyvsp[0].ftype);\n \t\t  yyval.ttype = chainon (yyval.ttype, yyvsp[0].ftype.t); ;\n     break;}\n case 818:\n-#line 3603 \"parse.y\"\n+#line 3602 \"parse.y\"\n { yyval.ttype = chainon (yyval.ttype, build_tree_list (NULL_TREE, yyvsp[0].ttype)); ;\n     break;}\n case 819:\n-#line 3605 \"parse.y\"\n+#line 3604 \"parse.y\"\n { yyval.ttype = chainon (yyval.ttype, build_tree_list (yyvsp[0].ttype, yyvsp[-2].ttype)); ;\n     break;}\n case 821:\n-#line 3611 \"parse.y\"\n+#line 3610 \"parse.y\"\n { check_for_new_type (\"in a parameter list\", yyvsp[-1].ftype);\n \t\t  yyval.ttype = build_tree_list (NULL_TREE, yyvsp[-1].ftype.t); ;\n     break;}\n case 822:\n-#line 3621 \"parse.y\"\n+#line 3620 \"parse.y\"\n { tree specs = strip_attrs (yyvsp[-1].ftype.t);\n \t\t  yyval.ftype.new_type_flag = yyvsp[-1].ftype.new_type_flag;\n \t\t  yyval.ftype.t = build_tree_list (specs, yyvsp[0].ttype); ;\n     break;}\n case 823:\n-#line 3625 \"parse.y\"\n+#line 3624 \"parse.y\"\n { yyval.ftype.t = build_tree_list (yyvsp[-1].ftype.t, yyvsp[0].ttype); \n \t\t  yyval.ftype.new_type_flag = yyvsp[-1].ftype.new_type_flag; ;\n     break;}\n case 824:\n-#line 3628 \"parse.y\"\n+#line 3627 \"parse.y\"\n { yyval.ftype.t = build_tree_list (build_decl_list (NULL_TREE, yyvsp[-1].ftype.t),\n \t\t\t\t\t  yyvsp[0].ttype); \n \t\t  yyval.ftype.new_type_flag = yyvsp[-1].ftype.new_type_flag; ;\n     break;}\n case 825:\n-#line 3632 \"parse.y\"\n+#line 3631 \"parse.y\"\n { tree specs = strip_attrs (yyvsp[-1].ftype.t);\n \t\t  yyval.ftype.t = build_tree_list (specs, yyvsp[0].ttype);\n \t\t  yyval.ftype.new_type_flag = yyvsp[-1].ftype.new_type_flag; ;\n     break;}\n case 826:\n-#line 3636 \"parse.y\"\n+#line 3635 \"parse.y\"\n { tree specs = strip_attrs (yyvsp[0].ftype.t);\n \t\t  yyval.ftype.t = build_tree_list (specs, NULL_TREE); \n \t\t  yyval.ftype.new_type_flag = yyvsp[0].ftype.new_type_flag; ;\n     break;}\n case 827:\n-#line 3640 \"parse.y\"\n+#line 3639 \"parse.y\"\n { tree specs = strip_attrs (yyvsp[-1].ttype);\n \t\t  yyval.ftype.t = build_tree_list (specs, yyvsp[0].ttype); \n \t\t  yyval.ftype.new_type_flag = 0; ;\n     break;}\n case 828:\n-#line 3647 \"parse.y\"\n+#line 3646 \"parse.y\"\n { yyval.ftype.t = build_tree_list (NULL_TREE, yyvsp[0].ftype.t);\n \t\t  yyval.ftype.new_type_flag = yyvsp[0].ftype.new_type_flag;  ;\n     break;}\n case 829:\n-#line 3650 \"parse.y\"\n+#line 3649 \"parse.y\"\n { yyval.ftype.t = build_tree_list (yyvsp[0].ttype, yyvsp[-1].ftype.t);\n \t\t  yyval.ftype.new_type_flag = yyvsp[-1].ftype.new_type_flag;  ;\n     break;}\n case 832:\n-#line 3661 \"parse.y\"\n+#line 3660 \"parse.y\"\n { see_typename (); ;\n     break;}\n case 833:\n-#line 3666 \"parse.y\"\n+#line 3665 \"parse.y\"\n {\n \t\t  error (\"type specifier omitted for parameter\");\n \t\t  yyval.ttype = build_tree_list (integer_type_node, NULL_TREE);\n \t\t;\n     break;}\n case 834:\n-#line 3671 \"parse.y\"\n+#line 3670 \"parse.y\"\n {\n \t\t  error (\"type specifier omitted for parameter\");\n \t\t  if (TREE_CODE (yyval.ttype) == SCOPE_REF\n@@ -7996,188 +7995,188 @@ case 834:\n \t\t;\n     break;}\n case 835:\n-#line 3683 \"parse.y\"\n+#line 3682 \"parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 836:\n-#line 3685 \"parse.y\"\n+#line 3684 \"parse.y\"\n { yyval.ttype = yyvsp[-1].ttype; ;\n     break;}\n case 837:\n-#line 3687 \"parse.y\"\n+#line 3686 \"parse.y\"\n { yyval.ttype = build_decl_list (NULL_TREE, NULL_TREE); ;\n     break;}\n case 838:\n-#line 3692 \"parse.y\"\n+#line 3691 \"parse.y\"\n { yyval.ttype = build_decl_list (NULL_TREE, groktypename(yyvsp[0].ftype.t)); ;\n     break;}\n case 840:\n-#line 3698 \"parse.y\"\n+#line 3697 \"parse.y\"\n {\n \t\t  TREE_CHAIN (yyvsp[0].ttype) = yyval.ttype;\n \t\t  yyval.ttype = yyvsp[0].ttype;\n \t\t;\n     break;}\n case 841:\n-#line 3706 \"parse.y\"\n+#line 3705 \"parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 842:\n-#line 3708 \"parse.y\"\n+#line 3707 \"parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 843:\n-#line 3710 \"parse.y\"\n+#line 3709 \"parse.y\"\n { yyval.ttype = make_reference_declarator (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 844:\n-#line 3712 \"parse.y\"\n+#line 3711 \"parse.y\"\n { tree arg = make_pointer_declarator (yyvsp[-1].ttype, yyvsp[0].ttype);\n \t\t  yyval.ttype = build_parse_node (SCOPE_REF, yyvsp[-2].ttype, arg);\n \t\t;\n     break;}\n case 845:\n-#line 3719 \"parse.y\"\n+#line 3718 \"parse.y\"\n { got_scope = NULL_TREE; ;\n     break;}\n case 846:\n-#line 3724 \"parse.y\"\n+#line 3723 \"parse.y\"\n { yyval.ttype = ansi_opname[MULT_EXPR]; ;\n     break;}\n case 847:\n-#line 3726 \"parse.y\"\n+#line 3725 \"parse.y\"\n { yyval.ttype = ansi_opname[TRUNC_DIV_EXPR]; ;\n     break;}\n case 848:\n-#line 3728 \"parse.y\"\n+#line 3727 \"parse.y\"\n { yyval.ttype = ansi_opname[TRUNC_MOD_EXPR]; ;\n     break;}\n case 849:\n-#line 3730 \"parse.y\"\n+#line 3729 \"parse.y\"\n { yyval.ttype = ansi_opname[PLUS_EXPR]; ;\n     break;}\n case 850:\n-#line 3732 \"parse.y\"\n+#line 3731 \"parse.y\"\n { yyval.ttype = ansi_opname[MINUS_EXPR]; ;\n     break;}\n case 851:\n-#line 3734 \"parse.y\"\n+#line 3733 \"parse.y\"\n { yyval.ttype = ansi_opname[BIT_AND_EXPR]; ;\n     break;}\n case 852:\n-#line 3736 \"parse.y\"\n+#line 3735 \"parse.y\"\n { yyval.ttype = ansi_opname[BIT_IOR_EXPR]; ;\n     break;}\n case 853:\n-#line 3738 \"parse.y\"\n+#line 3737 \"parse.y\"\n { yyval.ttype = ansi_opname[BIT_XOR_EXPR]; ;\n     break;}\n case 854:\n-#line 3740 \"parse.y\"\n+#line 3739 \"parse.y\"\n { yyval.ttype = ansi_opname[BIT_NOT_EXPR]; ;\n     break;}\n case 855:\n-#line 3742 \"parse.y\"\n+#line 3741 \"parse.y\"\n { yyval.ttype = ansi_opname[COMPOUND_EXPR]; ;\n     break;}\n case 856:\n-#line 3744 \"parse.y\"\n+#line 3743 \"parse.y\"\n { yyval.ttype = ansi_opname[yyvsp[0].code]; ;\n     break;}\n case 857:\n-#line 3746 \"parse.y\"\n+#line 3745 \"parse.y\"\n { yyval.ttype = ansi_opname[LT_EXPR]; ;\n     break;}\n case 858:\n-#line 3748 \"parse.y\"\n+#line 3747 \"parse.y\"\n { yyval.ttype = ansi_opname[GT_EXPR]; ;\n     break;}\n case 859:\n-#line 3750 \"parse.y\"\n+#line 3749 \"parse.y\"\n { yyval.ttype = ansi_opname[yyvsp[0].code]; ;\n     break;}\n case 860:\n-#line 3752 \"parse.y\"\n+#line 3751 \"parse.y\"\n { yyval.ttype = ansi_assopname[yyvsp[0].code]; ;\n     break;}\n case 861:\n-#line 3754 \"parse.y\"\n+#line 3753 \"parse.y\"\n { yyval.ttype = ansi_opname [MODIFY_EXPR]; ;\n     break;}\n case 862:\n-#line 3756 \"parse.y\"\n+#line 3755 \"parse.y\"\n { yyval.ttype = ansi_opname[yyvsp[0].code]; ;\n     break;}\n case 863:\n-#line 3758 \"parse.y\"\n+#line 3757 \"parse.y\"\n { yyval.ttype = ansi_opname[yyvsp[0].code]; ;\n     break;}\n case 864:\n-#line 3760 \"parse.y\"\n+#line 3759 \"parse.y\"\n { yyval.ttype = ansi_opname[POSTINCREMENT_EXPR]; ;\n     break;}\n case 865:\n-#line 3762 \"parse.y\"\n+#line 3761 \"parse.y\"\n { yyval.ttype = ansi_opname[PREDECREMENT_EXPR]; ;\n     break;}\n case 866:\n-#line 3764 \"parse.y\"\n+#line 3763 \"parse.y\"\n { yyval.ttype = ansi_opname[TRUTH_ANDIF_EXPR]; ;\n     break;}\n case 867:\n-#line 3766 \"parse.y\"\n+#line 3765 \"parse.y\"\n { yyval.ttype = ansi_opname[TRUTH_ORIF_EXPR]; ;\n     break;}\n case 868:\n-#line 3768 \"parse.y\"\n+#line 3767 \"parse.y\"\n { yyval.ttype = ansi_opname[TRUTH_NOT_EXPR]; ;\n     break;}\n case 869:\n-#line 3770 \"parse.y\"\n+#line 3769 \"parse.y\"\n { yyval.ttype = ansi_opname[COND_EXPR]; ;\n     break;}\n case 870:\n-#line 3772 \"parse.y\"\n+#line 3771 \"parse.y\"\n { yyval.ttype = ansi_opname[yyvsp[0].code]; ;\n     break;}\n case 871:\n-#line 3774 \"parse.y\"\n+#line 3773 \"parse.y\"\n { yyval.ttype = ansi_opname[COMPONENT_REF]; ;\n     break;}\n case 872:\n-#line 3776 \"parse.y\"\n+#line 3775 \"parse.y\"\n { yyval.ttype = ansi_opname[MEMBER_REF]; ;\n     break;}\n case 873:\n-#line 3778 \"parse.y\"\n+#line 3777 \"parse.y\"\n { yyval.ttype = ansi_opname[CALL_EXPR]; ;\n     break;}\n case 874:\n-#line 3780 \"parse.y\"\n+#line 3779 \"parse.y\"\n { yyval.ttype = ansi_opname[ARRAY_REF]; ;\n     break;}\n case 875:\n-#line 3782 \"parse.y\"\n+#line 3781 \"parse.y\"\n { yyval.ttype = ansi_opname[NEW_EXPR]; ;\n     break;}\n case 876:\n-#line 3784 \"parse.y\"\n+#line 3783 \"parse.y\"\n { yyval.ttype = ansi_opname[DELETE_EXPR]; ;\n     break;}\n case 877:\n-#line 3786 \"parse.y\"\n+#line 3785 \"parse.y\"\n { yyval.ttype = ansi_opname[VEC_NEW_EXPR]; ;\n     break;}\n case 878:\n-#line 3788 \"parse.y\"\n+#line 3787 \"parse.y\"\n { yyval.ttype = ansi_opname[VEC_DELETE_EXPR]; ;\n     break;}\n case 879:\n-#line 3791 \"parse.y\"\n+#line 3790 \"parse.y\"\n { yyval.ttype = grokoptypename (yyvsp[-1].ftype.t, yyvsp[0].ttype); ;\n     break;}\n case 880:\n-#line 3793 \"parse.y\"\n+#line 3792 \"parse.y\"\n { yyval.ttype = ansi_opname[ERROR_MARK]; ;\n     break;}\n }\n@@ -8378,7 +8377,7 @@ case 880:\n   yystate = yyn;\n   goto yynewstate;\n }\n-#line 3796 \"parse.y\"\n+#line 3795 \"parse.y\"\n \n \n #ifdef SPEW_DEBUG"}, {"sha": "d9b232f04cb6d70fd47c9e4cd78a1c32e5c4ca25", "filename": "gcc/cp/parse.y", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fbdd0024110fbdc960e21862e5df7bd2e508afc9/gcc%2Fcp%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fbdd0024110fbdc960e21862e5df7bd2e508afc9/gcc%2Fcp%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparse.y?ref=fbdd0024110fbdc960e21862e5df7bd2e508afc9", "patch": "@@ -2150,7 +2150,8 @@ structsp:\n \t\t    yychar = YYLEX;\n \t\t  semi = yychar == ';';\n \n-\t\t  $<ttype>$ = finish_class_definition ($1.t, $6, semi); \n+\t\t  $<ttype>$ = finish_class_definition ($1.t, $6, semi,\n+\t\t\t\t\t\t       $1.new_type_flag); \n \t\t}\n \t  pending_defargs\n                 {\n@@ -2159,8 +2160,6 @@ structsp:\n \t  pending_inlines\n                 {\n \t\t  finish_inline_definitions ();\n-\t\t  if ($1.new_type_flag)\n-\t\t    pop_scope (CP_DECL_CONTEXT (TYPE_MAIN_DECL ($<ttype>7)));\n \t\t  $$.t = $<ttype>7;\n \t\t  $$.new_type_flag = 1; \n \t\t}"}, {"sha": "847a982e260434bd51422ce60b205573167d3ee0", "filename": "gcc/cp/semantics.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fbdd0024110fbdc960e21862e5df7bd2e508afc9/gcc%2Fcp%2Fsemantics.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fbdd0024110fbdc960e21862e5df7bd2e508afc9/gcc%2Fcp%2Fsemantics.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fsemantics.c?ref=fbdd0024110fbdc960e21862e5df7bd2e508afc9", "patch": "@@ -1426,10 +1426,11 @@ finish_member_declaration (decl)\n    type.  */\n \n tree\n-finish_class_definition (t, attributes, semi)\n+finish_class_definition (t, attributes, semi, pop_scope_p)\n      tree t;\n      tree attributes;\n      int semi;\n+     int pop_scope_p;\n {\n   /* finish_struct nukes this anyway; if finish_exception does too,\n      then it can go.  */\n@@ -1454,6 +1455,8 @@ finish_class_definition (t, attributes, semi)\n \n   if (! semi)\n     check_for_missing_semicolon (t); \n+  if (pop_scope_p)\n+    pop_scope (CP_DECL_CONTEXT (TYPE_MAIN_DECL (t)));\n   if (current_scope () == current_function_decl)\n     do_pending_defargs ();\n "}]}