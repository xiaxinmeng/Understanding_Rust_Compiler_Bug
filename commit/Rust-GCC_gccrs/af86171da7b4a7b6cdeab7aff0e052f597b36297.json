{"sha": "af86171da7b4a7b6cdeab7aff0e052f597b36297", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWY4NjE3MWRhN2I0YTdiNmNkZWFiN2FmZjBlMDUyZjU5N2IzNjI5Nw==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-12-22T19:29:00Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-12-22T19:29:00Z"}, "message": "(missing_extern_C_count): Ifdef out.\n\n(write_lbrac, recognized_function, read_scan_file, write_rbrac):\nLikewise.\n\nFrom-SVN: r6269", "tree": {"sha": "d68146f91dc6f0d6d8a15218fa3e6489af52cb56", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d68146f91dc6f0d6d8a15218fa3e6489af52cb56"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/af86171da7b4a7b6cdeab7aff0e052f597b36297", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/af86171da7b4a7b6cdeab7aff0e052f597b36297", "html_url": "https://github.com/Rust-GCC/gccrs/commit/af86171da7b4a7b6cdeab7aff0e052f597b36297", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/af86171da7b4a7b6cdeab7aff0e052f597b36297/comments", "author": null, "committer": null, "parents": [{"sha": "3c0e5268f9b58ac471d91aeefc275294479599cc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c0e5268f9b58ac471d91aeefc275294479599cc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3c0e5268f9b58ac471d91aeefc275294479599cc"}], "stats": {"total": 21, "additions": 19, "deletions": 2}, "files": [{"sha": "97f9805d584585d47e62fd96bfa4d176fce9d703", "filename": "gcc/fix-header.c", "status": "modified", "additions": 19, "deletions": 2, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af86171da7b4a7b6cdeab7aff0e052f597b36297/gcc%2Ffix-header.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af86171da7b4a7b6cdeab7aff0e052f597b36297/gcc%2Ffix-header.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffix-header.c?ref=af86171da7b4a7b6cdeab7aff0e052f597b36297", "patch": "@@ -84,7 +84,13 @@ Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n \n int verbose = 0;\n int partial_count = 0;\n+#if 0\n+/* All uses of this are ifdefed out.  This is no longer needed, because\n+   cccp.c implicitly forces the standard include files to be treated as C.\n+   Adding an explicit extern \"C\" is undesireable as it breaks the SunOS 4.x\n+   sun4c/romvec.h file.  */\n int missing_extern_C_count = 0;\n+#endif\n int missing_errno = 0;\n \n #include \"xsys-protos.h\"\n@@ -173,8 +179,10 @@ int\n write_lbrac ()\n {\n   \n+#if 0\n   if (missing_extern_C_count + required_unseen_count > 0)\n     fprintf (outf, \"#ifdef __cplusplus\\nextern \\\"C\\\" {\\n#endif\\n\");\n+#endif\n \n   if (partial_count)\n     {\n@@ -274,8 +282,10 @@ recognized_function (fname, kind, rtype, args, file_seen, line_seen)\n   struct partial_proto *partial;\n   int i;\n   struct fn_decl *fn;\n+#if 0\n   if (kind == 'f')\n     missing_extern_C_count++;\n+#endif\n \n   fn = lookup_std_proto (fname);\n \n@@ -335,8 +345,11 @@ read_scan_file (scan_file)\n \n   scan_decls (scan_file);\n \n-  if (missing_extern_C_count + required_unseen_count + partial_count\n-      + missing_errno == 0)\n+  if (required_unseen_count + partial_count + missing_errno\n+#if 0\n+      + missing_extern_C_count\n+#endif      \n+      == 0)\n     {\n       if (verbose)\n \tfprintf (stderr, \"%s: OK, nothing needs to be done.\\n\", inc_filename);\n@@ -352,10 +365,12 @@ read_scan_file (scan_file)\n       if (partial_count)\n \tfprintf (stderr, \"%s: %d non-prototype function declarations.\\n\",\n \t\t inc_filename, partial_count);\n+#if 0\n       if (missing_extern_C_count)\n \tfprintf (stderr,\n \t\t \"%s: %d declarations not protected by extern \\\"C\\\".\\n\",\n \t\t inc_filename, missing_extern_C_count);\n+#endif\n     }\n }\n \n@@ -426,8 +441,10 @@ write_rbrac ()\n     }\n \n \n+#if 0\n   if (missing_extern_C_count + required_unseen_count > 0)\n     fprintf (outf, \"#ifdef __cplusplus\\n}\\n#endif\\n\");\n+#endif\n }\n \n char *"}]}