{"sha": "5548ca3540bccbc908a45942896d635ea5f1c23f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTU0OGNhMzU0MGJjY2JjOTA4YTQ1OTQyODk2ZDYzNWVhNWYxYzIzZg==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2011-09-16T14:40:06Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2011-09-16T14:40:06Z"}, "message": "re PR lto/50430 (Constructors of static external vars are throwed away leading to missed optimizations (and ipa-cp ICE).)\n\n\tPR lto/50430\n\t* gimple-fold.c (gimple_get_virt_method_for_binfo): Do not ICE on\n\terror_mark_node in the DECL_INITIAL of vtable.\n\nFrom-SVN: r178908", "tree": {"sha": "dc560379a51d19b0978ff07480f41317ecd72bb1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dc560379a51d19b0978ff07480f41317ecd72bb1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5548ca3540bccbc908a45942896d635ea5f1c23f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5548ca3540bccbc908a45942896d635ea5f1c23f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5548ca3540bccbc908a45942896d635ea5f1c23f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5548ca3540bccbc908a45942896d635ea5f1c23f/comments", "author": null, "committer": null, "parents": [{"sha": "8549d9e16c2b3a127de7b61b6dfb76c67edd612e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8549d9e16c2b3a127de7b61b6dfb76c67edd612e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8549d9e16c2b3a127de7b61b6dfb76c67edd612e"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "469aeb3a188fcf29b7a72134a934195e3ed55a16", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5548ca3540bccbc908a45942896d635ea5f1c23f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5548ca3540bccbc908a45942896d635ea5f1c23f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5548ca3540bccbc908a45942896d635ea5f1c23f", "patch": "@@ -1,3 +1,9 @@\n+2011-09-15   Jan Hubicka  <jh@suse.cz>\n+\n+\tPR lto/50430\n+\t* gimple-fold.c (gimple_get_virt_method_for_binfo): Do not ICE on\n+\terror_mark_node in the DECL_INITIAL of vtable.\n+\n 2011-09-15   Diego Novillo  <dnovillo@google.com>\n \n \t* Makefile.in (SYSROOT_CFLAGS_FOR_TARGET): Define from"}, {"sha": "b481c4a5fa1a397d00167f0aaa866a46697ee0f9", "filename": "gcc/gimple-fold.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5548ca3540bccbc908a45942896d635ea5f1c23f/gcc%2Fgimple-fold.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5548ca3540bccbc908a45942896d635ea5f1c23f/gcc%2Fgimple-fold.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-fold.c?ref=5548ca3540bccbc908a45942896d635ea5f1c23f", "patch": "@@ -3048,7 +3048,8 @@ gimple_get_virt_method_for_binfo (HOST_WIDE_INT token, tree known_binfo)\n \n   if (TREE_CODE (v) != VAR_DECL\n       || !DECL_VIRTUAL_P (v)\n-      || !DECL_INITIAL (v))\n+      || !DECL_INITIAL (v)\n+      || DECL_INITIAL (v) == error_mark_node)\n     return NULL_TREE;\n   gcc_checking_assert (TREE_CODE (TREE_TYPE (v)) == ARRAY_TYPE);\n   size = tree_low_cst (TYPE_SIZE (TREE_TYPE (TREE_TYPE (v))), 1);"}]}