{"sha": "e85edc9ed5f31da291d8c16a5f1a044ff3c46c11", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTg1ZWRjOWVkNWYzMWRhMjkxZDhjMTZhNWYxYTA0NGZmM2M0NmMxMQ==", "commit": {"author": {"name": "Andrew Haley", "email": "aph@redhat.com", "date": "2008-07-03T10:31:50Z"}, "committer": {"name": "Andrew Haley", "email": "aph@gcc.gnu.org", "date": "2008-07-03T10:31:50Z"}, "message": "re PR preprocessor/33305 (We should warn about empty macro arguments)\n\n2008-06-13  Andrew Haley  <aph@redhat.com>\n\n        PR preprocessor/33305\n        * macro.c (replace_args): Print a warning for empty macro\n        arguments in C89 and C++.\n\nFrom-SVN: r137414", "tree": {"sha": "a96da7501f8e8902f4d0dc7373b66cf4c299e1a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a96da7501f8e8902f4d0dc7373b66cf4c299e1a9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e85edc9ed5f31da291d8c16a5f1a044ff3c46c11", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e85edc9ed5f31da291d8c16a5f1a044ff3c46c11", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e85edc9ed5f31da291d8c16a5f1a044ff3c46c11", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e85edc9ed5f31da291d8c16a5f1a044ff3c46c11/comments", "author": {"login": "theRealAph", "id": 254637, "node_id": "MDQ6VXNlcjI1NDYzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/254637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theRealAph", "html_url": "https://github.com/theRealAph", "followers_url": "https://api.github.com/users/theRealAph/followers", "following_url": "https://api.github.com/users/theRealAph/following{/other_user}", "gists_url": "https://api.github.com/users/theRealAph/gists{/gist_id}", "starred_url": "https://api.github.com/users/theRealAph/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theRealAph/subscriptions", "organizations_url": "https://api.github.com/users/theRealAph/orgs", "repos_url": "https://api.github.com/users/theRealAph/repos", "events_url": "https://api.github.com/users/theRealAph/events{/privacy}", "received_events_url": "https://api.github.com/users/theRealAph/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "70d3fcabfd2d4446b6ff44454c8f81d51ab92f8b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70d3fcabfd2d4446b6ff44454c8f81d51ab92f8b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/70d3fcabfd2d4446b6ff44454c8f81d51ab92f8b"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "2d29a30956635804c836fcce290954ed07fe306d", "filename": "libcpp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e85edc9ed5f31da291d8c16a5f1a044ff3c46c11/libcpp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e85edc9ed5f31da291d8c16a5f1a044ff3c46c11/libcpp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcpp%2FChangeLog?ref=e85edc9ed5f31da291d8c16a5f1a044ff3c46c11", "patch": "@@ -1,3 +1,9 @@\n+2008-06-13  Andrew Haley  <aph@redhat.com>\n+\n+\tPR preprocessor/33305\n+\t* macro.c (replace_args): Print a warning for empty macro\n+\targuments in C89 and C++.\n+\n 2008-06-17  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n \n \t* Makefile.in ($(srcdir)/aclocal.m4): Update dependencies."}, {"sha": "edc2856551ad899c251f391bfb3a47c348072354", "filename": "libcpp/macro.c", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e85edc9ed5f31da291d8c16a5f1a044ff3c46c11/libcpp%2Fmacro.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e85edc9ed5f31da291d8c16a5f1a044ff3c46c11/libcpp%2Fmacro.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcpp%2Fmacro.c?ref=e85edc9ed5f31da291d8c16a5f1a044ff3c46c11", "patch": "@@ -1009,6 +1009,17 @@ replace_args (cpp_reader *pfile, cpp_hashnode *node, cpp_macro *macro, macro_arg\n \t  if (src->flags & PASTE_LEFT)\n \t    paste_flag = dest - 1;\n \t}\n+      else if (CPP_PEDANTIC (pfile) && ! macro->syshdr\n+\t       && ! CPP_OPTION (pfile, c99)\n+\t       && ! cpp_in_system_header (pfile))\n+\t{\n+\t  cpp_error (pfile, CPP_DL_PEDWARN,\n+\t\t     \"invoking macro %s argument %d: \"\n+\t\t     \"empty macro arguments are undefined\"\n+\t\t     \" in ISO C90 and ISO C++98\",\n+\t\t     NODE_NAME (node),\n+\t\t     src->val.arg_no);\n+\t}\n \n       /* Avoid paste on RHS (even case count == 0).  */\n       if (!pfile->state.in_directive && !(src->flags & PASTE_LEFT))"}]}