{"sha": "6bfb7f1068b1ad3d3bacb4fac704994ce1b9eb9f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmJmYjdmMTA2OGIxYWQzZDNiYWNiNGZhYzcwNDk5NGNlMWI5ZWI5Zg==", "commit": {"author": {"name": "Simon Baldwin", "email": "simonb@google.com", "date": "2008-04-26T16:59:38Z"}, "committer": {"name": "Simon Baldwin", "email": "simonb@gcc.gnu.org", "date": "2008-04-26T16:59:38Z"}, "message": "re PR c++/35652 (offset warning should be given in the front-end)\n\n       PR c/35652\n       * builtins.c (c_strlen): Suppressed multiple warnings that can occur\n       with propagated string constants.\n\nFrom-SVN: r134714", "tree": {"sha": "be42a70c57c4ba202b13aeb1fbbd2c1fffeb1f0f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/be42a70c57c4ba202b13aeb1fbbd2c1fffeb1f0f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6bfb7f1068b1ad3d3bacb4fac704994ce1b9eb9f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6bfb7f1068b1ad3d3bacb4fac704994ce1b9eb9f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6bfb7f1068b1ad3d3bacb4fac704994ce1b9eb9f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6bfb7f1068b1ad3d3bacb4fac704994ce1b9eb9f/comments", "author": null, "committer": null, "parents": [{"sha": "73e8165a686cc74e51e53d28770f6064297e4c80", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73e8165a686cc74e51e53d28770f6064297e4c80", "html_url": "https://github.com/Rust-GCC/gccrs/commit/73e8165a686cc74e51e53d28770f6064297e4c80"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "6453c50335509679e103d2f3ea10f04a35c79d8d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6bfb7f1068b1ad3d3bacb4fac704994ce1b9eb9f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6bfb7f1068b1ad3d3bacb4fac704994ce1b9eb9f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6bfb7f1068b1ad3d3bacb4fac704994ce1b9eb9f", "patch": "@@ -1,3 +1,9 @@\n+2008-04-26  Simon Baldwin <simonb@google.com>\n+\n+\tPR c/35652\n+\t* builtins.c (c_strlen): Suppressed multiple warnings that can occur\n+\twith propagated string constants.\n+\n 2008-04-26  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* config/i386/i386.md (fix_trunc<mode>_i387_fisttp_with_temp): Use 'X'"}, {"sha": "321032dace026b09448c4724479ea3cd74c4ce61", "filename": "gcc/builtins.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6bfb7f1068b1ad3d3bacb4fac704994ce1b9eb9f/gcc%2Fbuiltins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6bfb7f1068b1ad3d3bacb4fac704994ce1b9eb9f/gcc%2Fbuiltins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.c?ref=6bfb7f1068b1ad3d3bacb4fac704994ce1b9eb9f", "patch": "@@ -447,7 +447,12 @@ c_strlen (tree src, int only_value)\n      runtime.  */\n   if (offset < 0 || offset > max)\n     {\n-      warning (0, \"offset outside bounds of constant string\");\n+     /* Suppress multiple warnings for propagated constant strings.  */\n+      if (! TREE_NO_WARNING (src))\n+        {\n+          warning (0, \"offset outside bounds of constant string\");\n+          TREE_NO_WARNING (src) = 1;\n+        }\n       return NULL_TREE;\n     }\n "}]}