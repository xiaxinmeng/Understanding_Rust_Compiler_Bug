{"sha": "f7d151fbe129a06497b605d3191276d58b143fca", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjdkMTUxZmJlMTI5YTA2NDk3YjYwNWQzMTkxMjc2ZDU4YjE0M2ZjYQ==", "commit": {"author": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2003-04-19T07:41:15Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2003-04-19T07:41:15Z"}, "message": "* skip_whitespace: Rearrange to avoid stage1 ICE.\n\nFrom-SVN: r65809", "tree": {"sha": "3177e060641cb83199e17ff789e9ed8d27b82d50", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3177e060641cb83199e17ff789e9ed8d27b82d50"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f7d151fbe129a06497b605d3191276d58b143fca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7d151fbe129a06497b605d3191276d58b143fca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f7d151fbe129a06497b605d3191276d58b143fca", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7d151fbe129a06497b605d3191276d58b143fca/comments", "author": null, "committer": null, "parents": [{"sha": "26aea0737b2d0c4ee328d547555ae25ab5de9a0a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26aea0737b2d0c4ee328d547555ae25ab5de9a0a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/26aea0737b2d0c4ee328d547555ae25ab5de9a0a"}], "stats": {"total": 13, "additions": 5, "deletions": 8}, "files": [{"sha": "ce9a8d4c78b0eb07d4790703a79fc94cfd7212c7", "filename": "gcc/cpplex.c", "status": "modified", "additions": 5, "deletions": 8, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7d151fbe129a06497b605d3191276d58b143fca/gcc%2Fcpplex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7d151fbe129a06497b605d3191276d58b143fca/gcc%2Fcpplex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcpplex.c?ref=f7d151fbe129a06497b605d3191276d58b143fca", "patch": "@@ -334,7 +334,7 @@ skip_whitespace (pfile, c)\n      cppchar_t c;\n {\n   cpp_buffer *buffer = pfile->buffer;\n-  unsigned int warned = 0;\n+  bool saw_NUL = false;\n \n   do\n     {\n@@ -343,13 +343,7 @@ skip_whitespace (pfile, c)\n \t;\n       /* Just \\f \\v or \\0 left.  */\n       else if (c == '\\0')\n-\t{\n-\t  if (!warned)\n-\t    {\n-\t      cpp_error (pfile, DL_WARNING, \"null character(s) ignored\");\n-\t      warned = 1;\n-\t    }\n-\t}\n+\tsaw_NUL = true;\n       else if (pfile->state.in_directive && CPP_PEDANTIC (pfile))\n \tcpp_error_with_line (pfile, DL_PEDWARN, pfile->line,\n \t\t\t     CPP_BUF_COL (buffer),\n@@ -361,6 +355,9 @@ skip_whitespace (pfile, c)\n   /* We only want non-vertical space, i.e. ' ' \\t \\f \\v \\0.  */\n   while (is_nvspace (c));\n \n+  if (saw_NUL)\n+    cpp_error (pfile, DL_WARNING, \"null character(s) ignored\");\n+\n   buffer->cur--;\n }\n "}]}