{"sha": "a345b5b02652cfa82f18a995fa939a6009ffd73c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTM0NWI1YjAyNjUyY2ZhODJmMThhOTk1ZmE5MzlhNjAwOWZmZDczYw==", "commit": {"author": {"name": "Segher Boessenkool", "email": "segher@kernel.crashing.org", "date": "2016-09-01T15:01:02Z"}, "committer": {"name": "Segher Boessenkool", "email": "segher@gcc.gnu.org", "date": "2016-09-01T15:01:02Z"}, "message": "rs6000: Fix for AIX, for r239866\n\nThis should fix r239866 for AIX.  I missed two patterns that refer to LR\nas \"register_operand\" \"l\" instead of as reg:P LR_REGNO.\n\n\n\t* config/rs6000/rs6000.md\n\t(define_insn \"*return_and_restore_fpregs_aix_<mode>_r11\"): Delete\n\tthe use of the link register.\n\t(define_insn \"*return_and_restore_fpregs_aix_<mode>_r1\"): Ditto.\n\nFrom-SVN: r239940", "tree": {"sha": "cdbd0f14fabb3df8a4ebed61fa0e2f742c86ece3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cdbd0f14fabb3df8a4ebed61fa0e2f742c86ece3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a345b5b02652cfa82f18a995fa939a6009ffd73c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a345b5b02652cfa82f18a995fa939a6009ffd73c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a345b5b02652cfa82f18a995fa939a6009ffd73c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a345b5b02652cfa82f18a995fa939a6009ffd73c/comments", "author": {"login": "segher", "id": 417629, "node_id": "MDQ6VXNlcjQxNzYyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/417629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/segher", "html_url": "https://github.com/segher", "followers_url": "https://api.github.com/users/segher/followers", "following_url": "https://api.github.com/users/segher/following{/other_user}", "gists_url": "https://api.github.com/users/segher/gists{/gist_id}", "starred_url": "https://api.github.com/users/segher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/segher/subscriptions", "organizations_url": "https://api.github.com/users/segher/orgs", "repos_url": "https://api.github.com/users/segher/repos", "events_url": "https://api.github.com/users/segher/events{/privacy}", "received_events_url": "https://api.github.com/users/segher/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "295844f68760cd2c8d38e5cd42ba0f81b55cb65b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/295844f68760cd2c8d38e5cd42ba0f81b55cb65b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/295844f68760cd2c8d38e5cd42ba0f81b55cb65b"}], "stats": {"total": 25, "additions": 15, "deletions": 10}, "files": [{"sha": "24a56fa716aa894254bfbd0e25a0209b668d8b8a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a345b5b02652cfa82f18a995fa939a6009ffd73c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a345b5b02652cfa82f18a995fa939a6009ffd73c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a345b5b02652cfa82f18a995fa939a6009ffd73c", "patch": "@@ -1,3 +1,10 @@\n+2016-09-01  Segher Boessenkool  <segher@kernel.crashing.org>\n+\n+\t* config/rs6000/rs6000.md\n+\t(define_insn \"*return_and_restore_fpregs_aix_<mode>_r11\"): Delete\n+\tthe use of the link register.\n+\t(define_insn \"*return_and_restore_fpregs_aix_<mode>_r1\"): Ditto.\n+\n 2016-09-01  Bill Schmidt  <wschmidt@linux.vnet.ibm.com>\n \t    Michael Meissner <meissner@linux.vnet.ibm.com>\n "}, {"sha": "d86d27b91021bd0f0f34bb12d2d7c58ae08091e2", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 8, "deletions": 10, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a345b5b02652cfa82f18a995fa939a6009ffd73c/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a345b5b02652cfa82f18a995fa939a6009ffd73c/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=a345b5b02652cfa82f18a995fa939a6009ffd73c", "patch": "@@ -12735,26 +12735,24 @@\n (define_insn \"*return_and_restore_fpregs_aix_<mode>_r11\"\n  [(match_parallel 0 \"any_parallel_operand\"\n \t\t  [(return)\n-\t\t   (use (match_operand:P 1 \"register_operand\" \"l\"))\n-\t\t   (use (match_operand:P 2 \"symbol_ref_operand\" \"s\"))\n+\t\t   (use (match_operand:P 1 \"symbol_ref_operand\" \"s\"))\n \t\t   (use (reg:P 11))\n-\t\t   (set (match_operand:DF 3 \"gpc_reg_operand\" \"=d\")\n-\t\t\t(match_operand:DF 4 \"memory_operand\" \"m\"))])]\n+\t\t   (set (match_operand:DF 2 \"gpc_reg_operand\" \"=d\")\n+\t\t\t(match_operand:DF 3 \"memory_operand\" \"m\"))])]\n  \"\"\n- \"b %2\"\n+ \"b %1\"\n  [(set_attr \"type\" \"branch\")\n   (set_attr \"length\" \"4\")])\n \n (define_insn \"*return_and_restore_fpregs_aix_<mode>_r1\"\n  [(match_parallel 0 \"any_parallel_operand\"\n \t\t  [(return)\n-\t\t   (use (match_operand:P 1 \"register_operand\" \"l\"))\n-\t\t   (use (match_operand:P 2 \"symbol_ref_operand\" \"s\"))\n+\t\t   (use (match_operand:P 1 \"symbol_ref_operand\" \"s\"))\n \t\t   (use (reg:P 1))\n-\t\t   (set (match_operand:DF 3 \"gpc_reg_operand\" \"=d\")\n-\t\t\t(match_operand:DF 4 \"memory_operand\" \"m\"))])]\n+\t\t   (set (match_operand:DF 2 \"gpc_reg_operand\" \"=d\")\n+\t\t\t(match_operand:DF 3 \"memory_operand\" \"m\"))])]\n  \"\"\n- \"b %2\"\n+ \"b %1\"\n  [(set_attr \"type\" \"branch\")\n   (set_attr \"length\" \"4\")])\n "}]}