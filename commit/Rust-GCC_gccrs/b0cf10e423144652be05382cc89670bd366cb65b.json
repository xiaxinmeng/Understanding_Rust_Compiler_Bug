{"sha": "b0cf10e423144652be05382cc89670bd366cb65b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjBjZjEwZTQyMzE0NDY1MmJlMDUzODJjYzg5NjcwYmQzNjZjYjY1Yg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-02-28T01:01:46Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-02-28T01:01:46Z"}, "message": "libgo: fix go_export extraction on Darwin\n    \n    On Darwin, the section name is prefixed with the segment name, __GNU_GO.\n    \n    Reviewed-on: https://go-review.googlesource.com/c/151097\n\nFrom-SVN: r269271", "tree": {"sha": "7045b7e6073bc50d5d84ac5a57decfa3061cfa8f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7045b7e6073bc50d5d84ac5a57decfa3061cfa8f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b0cf10e423144652be05382cc89670bd366cb65b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b0cf10e423144652be05382cc89670bd366cb65b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b0cf10e423144652be05382cc89670bd366cb65b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b0cf10e423144652be05382cc89670bd366cb65b/comments", "author": null, "committer": null, "parents": [{"sha": "d0cdfae5ed74f7c79fd702b1d8b484f97dce041d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d0cdfae5ed74f7c79fd702b1d8b484f97dce041d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d0cdfae5ed74f7c79fd702b1d8b484f97dce041d"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "e997df8f36fd8b0abd19fc59aa273ad82458c262", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b0cf10e423144652be05382cc89670bd366cb65b/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b0cf10e423144652be05382cc89670bd366cb65b/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=b0cf10e423144652be05382cc89670bd366cb65b", "patch": "@@ -1,4 +1,4 @@\n-74533ed435a1a77e6f9ec8f6cf5db1695c2568e8\n+08f1c400ec95d70a5cf5a08b1600fa5445e42361\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "1201cf59633a172e203d684def7af64ec03539e1", "filename": "libgo/Makefile.am", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b0cf10e423144652be05382cc89670bd366cb65b/libgo%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b0cf10e423144652be05382cc89670bd366cb65b/libgo%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.am?ref=b0cf10e423144652be05382cc89670bd366cb65b", "patch": "@@ -13,6 +13,12 @@ if LIBGO_IS_RTEMS\n subdirs = testsuite\n endif\n \n+if LIBGO_IS_DARWIN\n+GO_EXPORT_SECTION_NAME = __GNU_GO.__go_export\n+else\n+GO_EXPORT_SECTION_NAME = .go_export\n+endif\n+\n SUBDIRS = ${subdirs}\n \n gcc_version := $(shell $(GOC) -dumpversion)\n@@ -818,7 +824,7 @@ BUILDGOX = \\\n \tif test ! -f $$f; then \\\n \t  f=\"$(basename $(<D)/.libs/$(<F)).o\"; \\\n \tfi; \\\n-\t$(OBJCOPY) -j .go_export $$f $@.tmp; \\\n+\t$(OBJCOPY) -j $(GO_EXPORT_SECTION_NAME) $$f $@.tmp; \\\n \t$(SHELL) $(srcdir)/mvifdiff.sh $@.tmp `echo $@ | sed -e 's/s-gox/gox/'`\n \n GOTESTFLAGS ="}, {"sha": "346683b52379588406a22dc67c7a20a72eb0fb30", "filename": "libgo/Makefile.in", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b0cf10e423144652be05382cc89670bd366cb65b/libgo%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b0cf10e423144652be05382cc89670bd366cb65b/libgo%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.in?ref=b0cf10e423144652be05382cc89670bd366cb65b", "patch": "@@ -529,6 +529,8 @@ top_srcdir = @top_srcdir@\n # Go support.\n SUFFIXES = .c .go .gox .o .obj .lo .a\n @LIBGO_IS_RTEMS_TRUE@subdirs = testsuite\n+@LIBGO_IS_DARWIN_FALSE@GO_EXPORT_SECTION_NAME = .go_export\n+@LIBGO_IS_DARWIN_TRUE@GO_EXPORT_SECTION_NAME = __GNU_GO.__go_export\n SUBDIRS = ${subdirs}\n gcc_version := $(shell $(GOC) -dumpversion)\n MAINT_CHARSET = latin1\n@@ -1001,7 +1003,7 @@ BUILDGOX = \\\n \tif test ! -f $$f; then \\\n \t  f=\"$(basename $(<D)/.libs/$(<F)).o\"; \\\n \tfi; \\\n-\t$(OBJCOPY) -j .go_export $$f $@.tmp; \\\n+\t$(OBJCOPY) -j $(GO_EXPORT_SECTION_NAME) $$f $@.tmp; \\\n \t$(SHELL) $(srcdir)/mvifdiff.sh $@.tmp `echo $@ | sed -e 's/s-gox/gox/'`\n \n GOTESTFLAGS = "}]}