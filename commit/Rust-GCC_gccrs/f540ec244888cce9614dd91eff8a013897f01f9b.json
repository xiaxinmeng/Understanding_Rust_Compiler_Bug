{"sha": "f540ec244888cce9614dd91eff8a013897f01f9b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjU0MGVjMjQ0ODg4Y2NlOTYxNGRkOTFlZmY4YTAxMzg5N2YwMWY5Yg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "2000-01-03T20:18:19Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2000-01-03T20:18:19Z"}, "message": "mauve.exp (mauve_compute_uses): Let user select specific tests to run.\n\n\t* libjava.mauve/mauve.exp (mauve_compute_uses): Let user select\n\tspecific tests to run.\n\nFrom-SVN: r31183", "tree": {"sha": "769c8f62e0715fed8f922531c84fa5ed86d5a916", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/769c8f62e0715fed8f922531c84fa5ed86d5a916"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f540ec244888cce9614dd91eff8a013897f01f9b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f540ec244888cce9614dd91eff8a013897f01f9b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f540ec244888cce9614dd91eff8a013897f01f9b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f540ec244888cce9614dd91eff8a013897f01f9b/comments", "author": null, "committer": null, "parents": [{"sha": "1a75bc3340bfcaa6f4353b837c753c676cd5113a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a75bc3340bfcaa6f4353b837c753c676cd5113a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a75bc3340bfcaa6f4353b837c753c676cd5113a"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "2209ee35ec03154b2138f5de3eefbbd5c21bbf0d", "filename": "libjava/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f540ec244888cce9614dd91eff8a013897f01f9b/libjava%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f540ec244888cce9614dd91eff8a013897f01f9b/libjava%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2FChangeLog?ref=f540ec244888cce9614dd91eff8a013897f01f9b", "patch": "@@ -1,3 +1,8 @@\n+1999-12-31  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* libjava.mauve/mauve.exp (mauve_compute_uses): Let user select\n+\tspecific tests to run.\n+\n 1999-10-19  Bryce McKinlay  <bryce@albatross.co.nz>\n \n \t* libjava.compile/invokeinterface: New directory."}, {"sha": "e98eeb86c7c7ae9821a52c5cdbeee2e8f52c5867", "filename": "libjava/testsuite/libjava.mauve/mauve.exp", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f540ec244888cce9614dd91eff8a013897f01f9b/libjava%2Ftestsuite%2Flibjava.mauve%2Fmauve.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f540ec244888cce9614dd91eff8a013897f01f9b/libjava%2Ftestsuite%2Flibjava.mauve%2Fmauve.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2Flibjava.mauve%2Fmauve.exp?ref=f540ec244888cce9614dd91eff8a013897f01f9b", "patch": "@@ -10,7 +10,7 @@\n # maps source file names onto list of objects required for link.\n proc mauve_compute_uses {aName} {\n   upvar $aName uses\n-  global env\n+  global env runtests\n \n   set fd [open classes r]\n   set line [read $fd]\n@@ -22,6 +22,11 @@ proc mauve_compute_uses {aName} {\n     }\n     set item [join [split $item .] /].java\n \n+    # User might have specified \"mauve.exp=something.java\".\n+    if {! [runtest_file_p $runtests $item]} {\n+      continue\n+    }\n+\n     # Look for Uses line in source file.\n     set fd [open $env(MAUVEDIR)/$item r]\n     set ufiles [list $item]"}]}