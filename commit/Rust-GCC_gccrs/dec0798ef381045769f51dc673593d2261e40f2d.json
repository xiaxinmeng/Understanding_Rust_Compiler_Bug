{"sha": "dec0798ef381045769f51dc673593d2261e40f2d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGVjMDc5OGVmMzgxMDQ1NzY5ZjUxZGM2NzM1OTNkMjI2MWU0MGYyZA==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "joern.rennecke@superh.com", "date": "2002-06-17T11:33:20Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "2002-06-17T11:33:20Z"}, "message": "reload1.c (merge_assigned_reloads): Don't change reloads other than RELOAD_FOR_INPUT_ADDRESS /...\n\n\t* reload1.c (merge_assigned_reloads): Don't change reloads\n\tother than RELOAD_FOR_INPUT_ADDRESS / RELOAD_FOR_INPADDR_ADDRESS\n\tto RELOAD_OTHER when there are conflicting input reloads.\n\nFrom-SVN: r54703", "tree": {"sha": "a001f7b2f0c20aab459495d7f684d2a31057ecc9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a001f7b2f0c20aab459495d7f684d2a31057ecc9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dec0798ef381045769f51dc673593d2261e40f2d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dec0798ef381045769f51dc673593d2261e40f2d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dec0798ef381045769f51dc673593d2261e40f2d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dec0798ef381045769f51dc673593d2261e40f2d/comments", "author": null, "committer": null, "parents": [{"sha": "0af5c89673cef3f0cc10076491000e83ac28b4b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0af5c89673cef3f0cc10076491000e83ac28b4b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0af5c89673cef3f0cc10076491000e83ac28b4b3"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "46433106da057491012e878b507991d214cb2481", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dec0798ef381045769f51dc673593d2261e40f2d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dec0798ef381045769f51dc673593d2261e40f2d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=dec0798ef381045769f51dc673593d2261e40f2d", "patch": "@@ -1,3 +1,9 @@\n+Mon Jun 17 12:32:24 2002  J\"orn Rennecke <joern.rennecke@superh.com>\n+\n+\t* reload1.c (merge_assigned_reloads): Don't change reloads\n+\tother than RELOAD_FOR_INPUT_ADDRESS / RELOAD_FOR_INPADDR_ADDRESS\n+\tto RELOAD_OTHER when there are conflicting input reloads.\n+\n 2002-06-17  Richard Earnshaw  (rearnsha@arm.com)\n \n \t* function.c (epilogue_done): Correctly build a sequence of insns for"}, {"sha": "1cbdde152aa392714f2e466278f2e16cbc52a075", "filename": "gcc/reload1.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dec0798ef381045769f51dc673593d2261e40f2d/gcc%2Freload1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dec0798ef381045769f51dc673593d2261e40f2d/gcc%2Freload1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload1.c?ref=dec0798ef381045769f51dc673593d2261e40f2d", "patch": "@@ -6096,11 +6096,19 @@ merge_assigned_reloads (insn)\n \t     if they were for inputs, RELOAD_OTHER for outputs.  Note that\n \t     this test is equivalent to looking for reloads for this operand\n \t     number.  */\n+\t  /* We must take special care when there are two or more reloads to\n+\t     be merged and a RELOAD_FOR_OUTPUT_ADDRESS reload that loads the\n+\t     same value or a part of it; we must not change its type if there\n+\t     is a conflicting input.  */\n \n \t  if (rld[i].when_needed == RELOAD_OTHER)\n \t    for (j = 0; j < n_reloads; j++)\n \t      if (rld[j].in != 0\n \t\t  && rld[j].when_needed != RELOAD_OTHER\n+\t\t  && rld[j].when_needed != RELOAD_FOR_OTHER_ADDRESS\n+\t\t  && (! conflicting_input\n+\t\t      || rld[j].when_needed == RELOAD_FOR_INPUT_ADDRESS\n+\t\t      || rld[j].when_needed == RELOAD_FOR_INPADDR_ADDRESS)\n \t\t  && reg_overlap_mentioned_for_reload_p (rld[j].in,\n \t\t\t\t\t\t\t rld[i].in))\n \t\trld[j].when_needed"}]}