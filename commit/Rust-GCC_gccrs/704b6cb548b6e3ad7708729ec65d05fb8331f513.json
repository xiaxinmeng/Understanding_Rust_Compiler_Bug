{"sha": "704b6cb548b6e3ad7708729ec65d05fb8331f513", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzA0YjZjYjU0OGI2ZTNhZDc3MDg3MjllYzY1ZDA1ZmI4MzMxZjUxMw==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2005-07-14T21:11:39Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2005-07-14T21:11:39Z"}, "message": "re PR target/20126 (Inlined memcmp makes one argument null on entry)\n\n2005-07-14  Alexandre Oliva  <aoliva@redhat.com>\n            Ulrich Weigand  <uweigand@de.ibm.com>\n\n\tPR target/20126\n\t* loop.c (loop_givs_rescan): Do not ICE if unable to reduce an IV\n\tin some insn.\n\nCo-Authored-By: Ulrich Weigand <uweigand@de.ibm.com>\n\nFrom-SVN: r102033", "tree": {"sha": "d0adc2d3afd0ad88987bfdfcdc295897729c0770", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d0adc2d3afd0ad88987bfdfcdc295897729c0770"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/704b6cb548b6e3ad7708729ec65d05fb8331f513", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/704b6cb548b6e3ad7708729ec65d05fb8331f513", "html_url": "https://github.com/Rust-GCC/gccrs/commit/704b6cb548b6e3ad7708729ec65d05fb8331f513", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/704b6cb548b6e3ad7708729ec65d05fb8331f513/comments", "author": null, "committer": null, "parents": [{"sha": "a771c4b3eab2112264572e195832935b8e62c999", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a771c4b3eab2112264572e195832935b8e62c999", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a771c4b3eab2112264572e195832935b8e62c999"}], "stats": {"total": 29, "additions": 24, "deletions": 5}, "files": [{"sha": "1105727eb5a7ccdb26e38348a84d72638359d216", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/704b6cb548b6e3ad7708729ec65d05fb8331f513/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/704b6cb548b6e3ad7708729ec65d05fb8331f513/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=704b6cb548b6e3ad7708729ec65d05fb8331f513", "patch": "@@ -1,3 +1,10 @@\n+2005-07-14  Alexandre Oliva  <aoliva@redhat.com>\n+            Ulrich Weigand  <uweigand@de.ibm.com>\n+\n+\tPR target/20126\n+\t* loop.c (loop_givs_rescan): Do not ICE if unable to reduce an IV\n+\tin some insn.\n+\n 2005-07-14  Ulrich Weigand  <uweigand@de.ibm.com>\n \n \t* config/s390/s390.h (TARGET_TPF_PROFILING): Add default definition."}, {"sha": "2686294bfd8db536f64154d13017ffe466ab4b3b", "filename": "gcc/loop.c", "status": "modified", "additions": 17, "deletions": 5, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/704b6cb548b6e3ad7708729ec65d05fb8331f513/gcc%2Floop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/704b6cb548b6e3ad7708729ec65d05fb8331f513/gcc%2Floop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Floop.c?ref=704b6cb548b6e3ad7708729ec65d05fb8331f513", "patch": "@@ -5514,11 +5514,23 @@ loop_givs_rescan (struct loop *loop, struct iv_class *bl, rtx *reg_map)\n \t      rtx reg, seq;\n \t      start_sequence ();\n \t      reg = force_reg (v->mode, *v->location);\n-\t      seq = get_insns ();\n-\t      end_sequence ();\n-\t      loop_insn_emit_before (loop, 0, v->insn, seq);\n-\t      if (!validate_change_maybe_volatile (v->insn, v->location, reg))\n-\t\tgcc_unreachable ();\n+\t      if (validate_change_maybe_volatile (v->insn, v->location, reg))\n+\t\t{\n+\t\t  seq = get_insns ();\n+\t\t  end_sequence ();\n+\t\t  loop_insn_emit_before (loop, 0, v->insn, seq);\n+\t\t}\n+\t      else\n+\t\t{\n+\t\t  end_sequence ();\n+\t\t  if (loop_dump_stream)\n+\t\t    fprintf (loop_dump_stream,\n+\t\t\t     \"unable to reduce iv in insn %d\\n\",\n+\t\t\t     INSN_UID (v->insn));\n+\t\t  bl->all_reduced = 0;\n+\t\t  v->ignore = 1;\n+\t\t  continue;\n+\t\t}\n \t    }\n \t}\n       else if (v->replaceable)"}]}