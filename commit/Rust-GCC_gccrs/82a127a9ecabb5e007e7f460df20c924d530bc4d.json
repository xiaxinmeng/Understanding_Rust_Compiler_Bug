{"sha": "82a127a9ecabb5e007e7f460df20c924d530bc4d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODJhMTI3YTllY2FiYjVlMDA3ZTdmNDYwZGYyMGM5MjRkNTMwYmM0ZA==", "commit": {"author": {"name": "Catherine Moore", "email": "clm@redhat.com", "date": "2001-02-21T18:49:33Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2001-02-21T18:49:33Z"}, "message": "i386.c (function_arg_advance): Pass SSE arguments in registers.\n\n        * i386.c (function_arg_advance):  Pass SSE arguments in registers.\n\t(function_arg): Likewise.\n\nCo-Authored-By: Bernd Schmidt <bernds@redhat.com>\nCo-Authored-By: Jan Hubicka <jh@suse.cz>\n\nFrom-SVN: r39955", "tree": {"sha": "143c0d236320e5bad0f03d5bd697680f73a2ef42", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/143c0d236320e5bad0f03d5bd697680f73a2ef42"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/82a127a9ecabb5e007e7f460df20c924d530bc4d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82a127a9ecabb5e007e7f460df20c924d530bc4d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/82a127a9ecabb5e007e7f460df20c924d530bc4d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82a127a9ecabb5e007e7f460df20c924d530bc4d/comments", "author": null, "committer": null, "parents": [{"sha": "a43f528e5ab9ddc9053f881e1056872ac4341f80", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a43f528e5ab9ddc9053f881e1056872ac4341f80", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a43f528e5ab9ddc9053f881e1056872ac4341f80"}], "stats": {"total": 39, "additions": 31, "deletions": 8}, "files": [{"sha": "cc3a3e328644868670698689cb83cc8ee0adaf01", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82a127a9ecabb5e007e7f460df20c924d530bc4d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82a127a9ecabb5e007e7f460df20c924d530bc4d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=82a127a9ecabb5e007e7f460df20c924d530bc4d", "patch": "@@ -1,3 +1,10 @@\n+Wed Feb 21 18:57:28 CET 2001  Catherine Moore  <clm@redhat.com>\n+\t\t\t      Bernd Schmidt  <bernds@redhat.com>\n+\t\t\t      Jan Hubicka  <jh@suse.cz>\n+\n+        * i386.c (function_arg_advance):  Pass SSE arguments in registers.\n+\t(function_arg): Likewise.\n+\n Wed Feb 21 18:12:41 CET 2001  Jan Hubicka  <jh@suse.cz>\n \n \t* i386.md (mmx_lshrdi3, mmx_ashldi3): Guard by unspec."}, {"sha": "74565198ab8055c491cedb2805d1187437936507", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 24, "deletions": 8, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82a127a9ecabb5e007e7f460df20c924d530bc4d/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82a127a9ecabb5e007e7f460df20c924d530bc4d/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=82a127a9ecabb5e007e7f460df20c924d530bc4d", "patch": "@@ -916,17 +916,29 @@ function_arg_advance (cum, mode, type, named)\n     fprintf (stderr,\n \t     \"function_adv (sz=%d, wds=%2d, nregs=%d, mode=%s, named=%d)\\n\\n\",\n \t     words, cum->words, cum->nregs, GET_MODE_NAME (mode), named);\n-\n-  cum->words += words;\n-  cum->nregs -= words;\n-  cum->regno += words;\n-\n-  if (cum->nregs <= 0)\n+  if (TARGET_SSE && mode == TImode)\n     {\n-      cum->nregs = 0;\n-      cum->regno = 0;\n+      cum->sse_words += words;\n+      cum->sse_nregs -= 1;\n+      cum->sse_regno += 1;\n+      if (cum->sse_nregs <= 0)\n+\t{\n+\t  cum->sse_nregs = 0;\n+\t  cum->sse_regno = 0;\n+\t}\n     }\n+  else         \n+    {\n+      cum->words += words;\n+      cum->nregs -= words;\n+      cum->regno += words;\n \n+      if (cum->nregs <= 0)\n+\t{\n+\t  cum->nregs = 0;\n+\t  cum->regno = 0;\n+\t}\n+    }\n   return;\n }\n \n@@ -969,6 +981,10 @@ function_arg (cum, mode, type, named)\n       if (words <= cum->nregs)\n \tret = gen_rtx_REG (mode, cum->regno);\n       break;\n+    case TImode:\n+      if (cum->sse_nregs)\n+        ret = gen_rtx_REG (mode, cum->sse_regno);\n+      break;    \n     }\n \n   if (TARGET_DEBUG_ARG)"}]}