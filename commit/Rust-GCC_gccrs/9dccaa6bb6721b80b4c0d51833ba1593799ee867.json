{"sha": "9dccaa6bb6721b80b4c0d51833ba1593799ee867", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWRjY2FhNmJiNjcyMWI4MGI0YzBkNTE4MzNiYTE1OTM3OTllZTg2Nw==", "commit": {"author": {"name": "Petur Runolfsson", "email": "peturr02@ru.is", "date": "2003-10-14T04:47:10Z"}, "committer": {"name": "Andreas Tobler", "email": "andreast@gcc.gnu.org", "date": "2003-10-14T04:47:10Z"}, "message": "locale.cc (locale::_S_initialize): Workaround a confusion of the use of the gthr API when...\n\n2003-10-14  Petur Runolfsson  <peturr02@ru.is>\n\t    Andreas Tobler  <a.tobler@schweiz.ch>\n\n\t* src/locale.cc (locale::_S_initialize): Workaround a confusion\n\tof the use of the gthr API when __gthread_active_p() returns true.\n\nCo-Authored-By: Andreas Tobler <a.tobler@schweiz.ch>\n\nFrom-SVN: r72458", "tree": {"sha": "1942808c12dcf58030c8e17ac8ed87021f5873c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1942808c12dcf58030c8e17ac8ed87021f5873c4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9dccaa6bb6721b80b4c0d51833ba1593799ee867", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9dccaa6bb6721b80b4c0d51833ba1593799ee867", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9dccaa6bb6721b80b4c0d51833ba1593799ee867", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9dccaa6bb6721b80b4c0d51833ba1593799ee867/comments", "author": null, "committer": null, "parents": [{"sha": "caa55b1e673f9f1b0990636ecf45fe52ea5261f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/caa55b1e673f9f1b0990636ecf45fe52ea5261f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/caa55b1e673f9f1b0990636ecf45fe52ea5261f2"}], "stats": {"total": 13, "additions": 8, "deletions": 5}, "files": [{"sha": "d024c0e59cd8bf505570c2715310cfeae970a127", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9dccaa6bb6721b80b4c0d51833ba1593799ee867/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9dccaa6bb6721b80b4c0d51833ba1593799ee867/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=9dccaa6bb6721b80b4c0d51833ba1593799ee867", "patch": "@@ -1,3 +1,9 @@\n+2003-10-14  Petur Runolfsson  <peturr02@ru.is>\n+\t    Andreas Tobler  <a.tobler@schweiz.ch>\n+\n+\t* src/locale.cc (locale::_S_initialize): Workaround a confusion\n+\tof the use of the gthr API when __gthread_active_p() returns true.\n+\n 2003-10-12  Petur Runolfsson  <peturr02@ru.is>\n \t    Paolo Carlini  <pcarlini@unitus.it>\n "}, {"sha": "baa5a4183d77363e992155ac4ea214e1a30c1f28", "filename": "libstdc++-v3/src/locale.cc", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9dccaa6bb6721b80b4c0d51833ba1593799ee867/libstdc%2B%2B-v3%2Fsrc%2Flocale.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9dccaa6bb6721b80b4c0d51833ba1593799ee867/libstdc%2B%2B-v3%2Fsrc%2Flocale.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2Flocale.cc?ref=9dccaa6bb6721b80b4c0d51833ba1593799ee867", "patch": "@@ -395,12 +395,9 @@ namespace std\n #ifdef __GTHREADS\n     if (__gthread_active_p())\n       __gthread_once(&_S_once, _S_initialize_once);\n-    else\n #endif\n-      {\n-\tif (!_S_classic)\n-\t  _S_initialize_once();\n-      }\n+    if (!_S_classic)\n+      _S_initialize_once();\n   }\n \n   void"}]}