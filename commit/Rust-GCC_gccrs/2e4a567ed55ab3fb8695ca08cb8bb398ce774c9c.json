{"sha": "2e4a567ed55ab3fb8695ca08cb8bb398ce774c9c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmU0YTU2N2VkNTVhYjNmYjg2OTVjYTA4Y2I4YmIzOThjZTc3NGM5Yw==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@cygnus.com", "date": "1999-03-03T20:04:07Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1999-03-03T20:04:07Z"}, "message": "Make C++ static constructors work for m68k-elf.\n\n\t* m68k/m68020-elf.h (INIT_SECTION_ASM_OP, FINI_SECTION_ASM_OP): Undef.\n\t(STARTFILE_SPEC, ENDFILE_SPEC): Define to empty string.\n\nFrom-SVN: r25565", "tree": {"sha": "fb773f9f2c83af0b28f51c89b3f49e3754a17a1c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fb773f9f2c83af0b28f51c89b3f49e3754a17a1c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2e4a567ed55ab3fb8695ca08cb8bb398ce774c9c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e4a567ed55ab3fb8695ca08cb8bb398ce774c9c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e4a567ed55ab3fb8695ca08cb8bb398ce774c9c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e4a567ed55ab3fb8695ca08cb8bb398ce774c9c/comments", "author": null, "committer": null, "parents": [{"sha": "9f89a6c5fa69772408a845337faea3890264e0dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f89a6c5fa69772408a845337faea3890264e0dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f89a6c5fa69772408a845337faea3890264e0dc"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "84be44d893bf23b70fb8a8cd789f628f1a6b5a75", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e4a567ed55ab3fb8695ca08cb8bb398ce774c9c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e4a567ed55ab3fb8695ca08cb8bb398ce774c9c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2e4a567ed55ab3fb8695ca08cb8bb398ce774c9c", "patch": "@@ -1,5 +1,8 @@\n Wed Mar  3 19:09:11 1999  Jim Wilson  <wilson@cygnus.com>\n \n+\t* m68k/m68020-elf.h (INIT_SECTION_ASM_OP, FINI_SECTION_ASM_OP): Undef.\n+\t(STARTFILE_SPEC, ENDFILE_SPEC): Define to empty string.\n+\n \t* sparc/elf.h (MULDI3_LIBCALL, DIVDI3_LIBCALL, UDIVDI3_LIBCALL,\n \tMODDI3_LIBCALL, UMODDI3_LIBCALL, STDC_0_IN_SYSTEM_HEADERS): Undef.\n \t(INIT_SUBTARGET_OPTABS): Define to empty.\t"}, {"sha": "94b5d44064c71abb9a2f462abd18b19313021463", "filename": "gcc/config/m68k/m68020-elf.h", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e4a567ed55ab3fb8695ca08cb8bb398ce774c9c/gcc%2Fconfig%2Fm68k%2Fm68020-elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e4a567ed55ab3fb8695ca08cb8bb398ce774c9c/gcc%2Fconfig%2Fm68k%2Fm68020-elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68020-elf.h?ref=2e4a567ed55ab3fb8695ca08cb8bb398ce774c9c", "patch": "@@ -39,4 +39,15 @@ Boston, MA 02111-1307, USA.  */\n \n #define LIB_SPEC \"-lc\"\n \n+/* ??? Quick hack to get constructors working.  Make this look more like a\n+   COFF target, so the existing dejagnu/libgloss support works.  A better\n+   solution would be to make the necessary dejagnu and libgloss changes so\n+   that we can use normal the ELF constructor mechanism.  */\n+#undef INIT_SECTION_ASM_OP\n+#undef FINI_SECTION_ASM_OP\n+#undef STARTFILE_SPEC\n+#define STARTFILE_SPEC \"\"\n+#undef ENDFILE_SPEC\n+#define ENDFILE_SPEC \"\"\n+\n /* end of m68020-elf.h */"}]}