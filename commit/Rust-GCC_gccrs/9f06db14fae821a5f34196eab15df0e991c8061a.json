{"sha": "9f06db14fae821a5f34196eab15df0e991c8061a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWYwNmRiMTRmYWU4MjFhNWYzNDE5NmVhYjE1ZGYwZTk5MWM4MDYxYQ==", "commit": {"author": {"name": "Uros Bizjak", "email": "ubizjak@gmail.com", "date": "2016-10-04T14:50:35Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2016-10-04T14:50:35Z"}, "message": "x86-tune.def (X86_TUNE_VECTORIZE_DOUBLE): Remove.\n\n\t* config/i386/x86-tune.def (X86_TUNE_VECTORIZE_DOUBLE): Remove.\n\t* config/i386/i386.h (TARGET_VECTORIZE_DOUBLE): Remove.\n\t* config/i386/i386.c (ix86_add_stmt_cost): Use TARGET_BONNEL instead\n\tof !TARGET_VECTORIZE_DOUBLE when penalizing DFmode vector ops.\n\nFrom-SVN: r240748", "tree": {"sha": "2e7d94eb19333de1f4438f85af697b3185d4ac13", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2e7d94eb19333de1f4438f85af697b3185d4ac13"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9f06db14fae821a5f34196eab15df0e991c8061a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f06db14fae821a5f34196eab15df0e991c8061a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f06db14fae821a5f34196eab15df0e991c8061a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f06db14fae821a5f34196eab15df0e991c8061a/comments", "author": {"login": "ubizjak", "id": 55479990, "node_id": "MDQ6VXNlcjU1NDc5OTkw", "avatar_url": "https://avatars.githubusercontent.com/u/55479990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubizjak", "html_url": "https://github.com/ubizjak", "followers_url": "https://api.github.com/users/ubizjak/followers", "following_url": "https://api.github.com/users/ubizjak/following{/other_user}", "gists_url": "https://api.github.com/users/ubizjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubizjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubizjak/subscriptions", "organizations_url": "https://api.github.com/users/ubizjak/orgs", "repos_url": "https://api.github.com/users/ubizjak/repos", "events_url": "https://api.github.com/users/ubizjak/events{/privacy}", "received_events_url": "https://api.github.com/users/ubizjak/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f5682f01d01f8f4f4c6ea47d267d0445e24c220c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5682f01d01f8f4f4c6ea47d267d0445e24c220c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f5682f01d01f8f4f4c6ea47d267d0445e24c220c"}], "stats": {"total": 17, "additions": 9, "deletions": 8}, "files": [{"sha": "94c301d1a57553709f00b38f952c9ef2dfef891a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f06db14fae821a5f34196eab15df0e991c8061a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f06db14fae821a5f34196eab15df0e991c8061a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9f06db14fae821a5f34196eab15df0e991c8061a", "patch": "@@ -1,3 +1,10 @@\n+2016-10-04  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\t* config/i386/x86-tune.def (X86_TUNE_VECTORIZE_DOUBLE): Remove.\n+\t* config/i386/i386.h (TARGET_VECTORIZE_DOUBLE): Remove.\n+\t* config/i386/i386.c (ix86_add_stmt_cost): Use TARGET_BONNEL instead\n+\tof !TARGET_VECTORIZE_DOUBLE when penalizing DFmode vector ops.\n+\n 2016-10-04  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/77399"}, {"sha": "58758d32688082339bc3c5f236d7718ef205a534", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f06db14fae821a5f34196eab15df0e991c8061a/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f06db14fae821a5f34196eab15df0e991c8061a/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=9f06db14fae821a5f34196eab15df0e991c8061a", "patch": "@@ -49667,8 +49667,8 @@ ix86_add_stmt_cost (void *data, int count, enum vect_cost_for_stmt kind,\n   tree vectype = stmt_info ? stmt_vectype (stmt_info) : NULL_TREE;\n   int stmt_cost = ix86_builtin_vectorization_cost (kind, vectype, misalign);\n \n-  /* Penalize DFmode vector operations for !TARGET_VECTORIZE_DOUBLE.  */\n-  if (kind == vector_stmt && !TARGET_VECTORIZE_DOUBLE\n+  /* Penalize DFmode vector operations for Bonnell.  */\n+  if (TARGET_BONNELL && kind == vector_stmt\n       && vectype && GET_MODE_INNER (TYPE_MODE (vectype)) == DFmode)\n     stmt_cost *= 5;  /* FIXME: The value here is arbitrary.  */\n "}, {"sha": "a3955326fd52a0ae75bfa140f80b579cc1c7562d", "filename": "gcc/config/i386/i386.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f06db14fae821a5f34196eab15df0e991c8061a/gcc%2Fconfig%2Fi386%2Fi386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f06db14fae821a5f34196eab15df0e991c8061a/gcc%2Fconfig%2Fi386%2Fi386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.h?ref=9f06db14fae821a5f34196eab15df0e991c8061a", "patch": "@@ -481,8 +481,6 @@ extern unsigned char ix86_tune_features[X86_TUNE_LAST];\n #define TARGET_OPT_AGU ix86_tune_features[X86_TUNE_OPT_AGU]\n #define TARGET_AVOID_LEA_FOR_ADDR \\\n \tix86_tune_features[X86_TUNE_AVOID_LEA_FOR_ADDR]\n-#define TARGET_VECTORIZE_DOUBLE \\\n-\tix86_tune_features[X86_TUNE_VECTORIZE_DOUBLE]\n #define TARGET_SOFTWARE_PREFETCHING_BENEFICIAL \\\n \tix86_tune_features[X86_TUNE_SOFTWARE_PREFETCHING_BENEFICIAL]\n #define TARGET_AVX128_OPTIMAL \\"}, {"sha": "36a5966090137a7bb10b4cc7c1d176e0e88163a4", "filename": "gcc/config/i386/x86-tune.def", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f06db14fae821a5f34196eab15df0e991c8061a/gcc%2Fconfig%2Fi386%2Fx86-tune.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f06db14fae821a5f34196eab15df0e991c8061a/gcc%2Fconfig%2Fi386%2Fx86-tune.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fx86-tune.def?ref=9f06db14fae821a5f34196eab15df0e991c8061a", "patch": "@@ -322,10 +322,6 @@ DEF_TUNE (X86_TUNE_EXT_80387_CONSTANTS, \"ext_80387_constants\",\n /* SSE instruction selection tuning                                          */\n /*****************************************************************************/\n \n-/* X86_TUNE_VECTORIZE_DOUBLE: Enable double precision vector\n-   instructions.  */\n-DEF_TUNE (X86_TUNE_VECTORIZE_DOUBLE, \"vectorize_double\", ~m_BONNELL)\n-\n /* X86_TUNE_GENERAL_REGS_SSE_SPILL: Try to spill general regs to SSE\n    regs instead of memory.  */\n DEF_TUNE (X86_TUNE_GENERAL_REGS_SSE_SPILL, \"general_regs_sse_spill\","}]}