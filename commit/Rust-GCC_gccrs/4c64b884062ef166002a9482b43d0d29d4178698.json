{"sha": "4c64b884062ef166002a9482b43d0d29d4178698", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGM2NGI4ODQwNjJlZjE2NjAwMmE5NDgyYjQzZDBkMjlkNDE3ODY5OA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-04-09T20:05:15Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-04-09T20:05:15Z"}, "message": "(fold): Avoid exponential work when simplifying conditional\nexpressions; don't recurse twice if ARG1 is constant.\n\nFrom-SVN: r7010", "tree": {"sha": "b2700d5ccf074811c5f9f3d7535ebcced68252a6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b2700d5ccf074811c5f9f3d7535ebcced68252a6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4c64b884062ef166002a9482b43d0d29d4178698", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c64b884062ef166002a9482b43d0d29d4178698", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c64b884062ef166002a9482b43d0d29d4178698", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c64b884062ef166002a9482b43d0d29d4178698/comments", "author": null, "committer": null, "parents": [{"sha": "f767bd6ef95d99b443f02cdb6f388c457cc105ee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f767bd6ef95d99b443f02cdb6f388c457cc105ee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f767bd6ef95d99b443f02cdb6f388c457cc105ee"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "b3e7e1f8f23c5b93d89ee64945ff15b8fcd9a014", "filename": "gcc/fold-const.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c64b884062ef166002a9482b43d0d29d4178698/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c64b884062ef166002a9482b43d0d29d4178698/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=4c64b884062ef166002a9482b43d0d29d4178698", "patch": "@@ -3420,7 +3420,8 @@ fold (expr)\n \t      tree lhs = fold (build (code, type, true_value, arg1));\n \t      tree rhs = fold (build (code, type, false_value, arg1));\n \n-\t      if (TREE_CONSTANT (lhs) || TREE_CONSTANT (rhs))\n+\t      if (TREE_CONSTANT (lhs) || TREE_CONSTANT (rhs)\n+\t\t  || TREE_CONSTANT (arg1))\n \t\treturn fold (build (COND_EXPR, type, test, lhs, rhs));\n \n \t      arg1 = save_expr (arg1);"}]}