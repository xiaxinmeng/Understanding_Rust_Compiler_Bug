{"sha": "9a360704f9edf14fd0dd3a04dcf16923164c09b2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWEzNjA3MDRmOWVkZjE0ZmQwZGQzYTA0ZGNmMTY5MjMxNjRjMDliMg==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2002-02-14T19:30:42Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2002-02-14T19:30:42Z"}, "message": "combine.c (known_cond): After replacing the REG of a SUBREG, try to simplify it.\n\n* combine.c (known_cond): After replacing the REG of a SUBREG, try\nto simplify it.\n\nFrom-SVN: r49775", "tree": {"sha": "637c1d0aecd771902516754e8b88d908a13dfb1b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/637c1d0aecd771902516754e8b88d908a13dfb1b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9a360704f9edf14fd0dd3a04dcf16923164c09b2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a360704f9edf14fd0dd3a04dcf16923164c09b2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9a360704f9edf14fd0dd3a04dcf16923164c09b2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a360704f9edf14fd0dd3a04dcf16923164c09b2/comments", "author": null, "committer": null, "parents": [{"sha": "4606272bc4fd9daccd4723530a650822a8527671", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4606272bc4fd9daccd4723530a650822a8527671", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4606272bc4fd9daccd4723530a650822a8527671"}], "stats": {"total": 22, "additions": 22, "deletions": 0}, "files": [{"sha": "82649c55d7018f682194eb7f080df0e6f698f8ca", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a360704f9edf14fd0dd3a04dcf16923164c09b2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a360704f9edf14fd0dd3a04dcf16923164c09b2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9a360704f9edf14fd0dd3a04dcf16923164c09b2", "patch": "@@ -1,5 +1,8 @@\n 2002-02-14  Alexandre Oliva  <aoliva@redhat.com>\n \n+\t* combine.c (known_cond): After replacing the REG of a SUBREG, try\n+\tto simplify it.\n+\n \t* function.c (assign_parms): Demote promoted argument passed by\n \ttransparent reference.\n "}, {"sha": "5abda2e56fe8c7d8e43319de2605637d6d89c7d0", "filename": "gcc/combine.c", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a360704f9edf14fd0dd3a04dcf16923164c09b2/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a360704f9edf14fd0dd3a04dcf16923164c09b2/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=9a360704f9edf14fd0dd3a04dcf16923164c09b2", "patch": "@@ -7430,6 +7430,25 @@ known_cond (x, cond, reg, val)\n \t    }\n \t}\n     }\n+  else if (code == SUBREG)\n+    {\n+      enum machine_mode inner_mode = GET_MODE (SUBREG_REG (x));\n+      rtx new, r = known_cond (SUBREG_REG (x), cond, reg, val);\n+\n+      if (SUBREG_REG (x) != r)\n+\t{\n+\t  /* We must simplify subreg here, before we lose track of the\n+\t     original inner_mode.  */\n+\t  new = simplify_subreg (GET_MODE (x), r,\n+\t\t\t\t inner_mode, SUBREG_BYTE (x));\n+\t  if (new)\n+\t    return new;\n+\t  else\n+\t    SUBST (SUBREG_REG (x), r);\n+\t}\n+\n+      return x;\n+    }\n \n   fmt = GET_RTX_FORMAT (code);\n   for (i = GET_RTX_LENGTH (code) - 1; i >= 0; i--)"}]}