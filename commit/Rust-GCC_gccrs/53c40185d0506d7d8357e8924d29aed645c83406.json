{"sha": "53c40185d0506d7d8357e8924d29aed645c83406", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTNjNDAxODVkMDUwNmQ3ZDgzNTdlODkyNGQyOWFlZDY0NWM4MzQwNg==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2002-06-27T10:19:53Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2002-06-27T10:19:53Z"}, "message": "config.if (libstdcxx_incdir): Version C++ headers.\n\n\n2002-06-26  Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* config.if (libstdcxx_incdir): Version C++ headers.\n\t(cxx_incdir): Remove.\n\nFrom-SVN: r55029", "tree": {"sha": "2f334bee5a6bc82eca755cb8a8c3a1b50e69f823", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2f334bee5a6bc82eca755cb8a8c3a1b50e69f823"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/53c40185d0506d7d8357e8924d29aed645c83406", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53c40185d0506d7d8357e8924d29aed645c83406", "html_url": "https://github.com/Rust-GCC/gccrs/commit/53c40185d0506d7d8357e8924d29aed645c83406", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53c40185d0506d7d8357e8924d29aed645c83406/comments", "author": null, "committer": null, "parents": [{"sha": "41970073a95f84eac9d18d85025b6e9c36733229", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41970073a95f84eac9d18d85025b6e9c36733229", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41970073a95f84eac9d18d85025b6e9c36733229"}], "stats": {"total": 22, "additions": 13, "deletions": 9}, "files": [{"sha": "0a4edda0a3ca1ae340d5cb8baa69259b26e0e09b", "filename": "ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53c40185d0506d7d8357e8924d29aed645c83406/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53c40185d0506d7d8357e8924d29aed645c83406/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=53c40185d0506d7d8357e8924d29aed645c83406", "patch": "@@ -1,3 +1,8 @@\n+2002-06-26  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\t* config.if (libstdcxx_incdir): Version C++ headers.\n+\t(cxx_incdir): Remove. \n+\n 2002-06-25  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n \t* MAINTAINERS (Write After Approval): Add self."}, {"sha": "aa35a3f8140ce28cc15328337e2247b4e6746d35", "filename": "config.if", "status": "modified", "additions": 8, "deletions": 9, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53c40185d0506d7d8357e8924d29aed645c83406/config.if", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53c40185d0506d7d8357e8924d29aed645c83406/config.if", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config.if?ref=53c40185d0506d7d8357e8924d29aed645c83406", "patch": "@@ -2,9 +2,8 @@\n # Don't call it directly. This shell script fragment is called to\n # determine:\n #\n-#\t1. libstcxx_interface: the interface name for libstdc++.\n-#\t2. cxx_interface: the interface name for c++.\n-#\t3. libc_interface: the interface name for libc.\n+#\t1. libstcxx_incdir: the interface name for libstdc++.\n+#\t2. libc_interface: the interface name for libc.\n #\n \n # Get the top level src dir.\n@@ -21,12 +20,12 @@ else\n   if_topsrcdir=${top_srcdir}\n fi\n \n-libstdcxx_srcdir=${if_topsrcdir}/libstdc++-v3\n-# We check libstdc++-v3/configure.in for libstdcxx_interface.\n-libstdcxx_interface=`grep \"^INTERFACE\" ${libstdcxx_srcdir}/configure.in | sed 's/INTERFACE[ \t]*=[ \t]*\\(.*\\)/\\1/'`\n-libstdcxx_incdir=g++-${libstdcxx_interface}\n-# Used to version libstdc++ shared libraries\n-cxx_interface=2\n+# Set libstdcxx_incdir.\n+# This is the same as gcc/configure.in and libstdc++-v3/acinclude.m4. \n+gcc_version_trigger=${if_topsrcdir}/gcc/version.c\n+gcc_version_full=`grep version_string ${gcc_version_trigger} | sed -e 's/.*\"\\([^\"]*\\)\".*/\\1/'`\n+gcc_version=`echo ${gcc_version_full} | sed -e 's/\\([^ ]*\\) .*/\\1/'`\n+libstdcxx_incdir=c++/${gcc_version}\n \n # The trickiest part is libc_interface.\n if [ -z \"${libc_interface}\" ]"}]}