{"sha": "11f5a9a0fa22f9dd2499dde26a0f55b2f5e306de", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTFmNWE5YTBmYTIyZjlkZDI0OTlkZGUyNmEwZjU1YjJmNWUzMDZkZQ==", "commit": {"author": {"name": "Alexandre Oliva", "email": "oliva@dcc.unicamp.br", "date": "1998-10-13T07:52:27Z"}, "committer": {"name": "Alexandre Oliva", "email": "oliva@gcc.gnu.org", "date": "1998-10-13T07:52:27Z"}, "message": "* lib/old-dejagnu.exp (old-dejagnu): support `Additional sources:'\n\nFrom-SVN: r23039", "tree": {"sha": "f9617f3bf6c23b82f9edcaad0e8bd15084c1296e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f9617f3bf6c23b82f9edcaad0e8bd15084c1296e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/11f5a9a0fa22f9dd2499dde26a0f55b2f5e306de", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11f5a9a0fa22f9dd2499dde26a0f55b2f5e306de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/11f5a9a0fa22f9dd2499dde26a0f55b2f5e306de", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11f5a9a0fa22f9dd2499dde26a0f55b2f5e306de/comments", "author": null, "committer": null, "parents": [{"sha": "5ca2111fc269899dcd8d5c6342a64bd0a6ef0414", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5ca2111fc269899dcd8d5c6342a64bd0a6ef0414", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5ca2111fc269899dcd8d5c6342a64bd0a6ef0414"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "33e1c14628d2d74b38db1f490595a1040fa52239", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11f5a9a0fa22f9dd2499dde26a0f55b2f5e306de/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11f5a9a0fa22f9dd2499dde26a0f55b2f5e306de/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=11f5a9a0fa22f9dd2499dde26a0f55b2f5e306de", "patch": "@@ -1,3 +1,7 @@\n+1998-10-13  Alexandre Oliva  <oliva@dcc.unicamp.br>\n+\n+\t* lib/old-dejagnu.exp (old-dejagnu): support `Additional sources:'\n+\n 1998-10-12  Alexandre Oliva  <oliva@dcc.unicamp.br>\n \n \t* g++.old-deja/g++.pt/explicit74.C: New test.  Explicit"}, {"sha": "1b28b5acd33c9f85c16ab5b872920528f11d60de", "filename": "gcc/testsuite/lib/old-dejagnu.exp", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11f5a9a0fa22f9dd2499dde26a0f55b2f5e306de/gcc%2Ftestsuite%2Flib%2Fold-dejagnu.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11f5a9a0fa22f9dd2499dde26a0f55b2f5e306de/gcc%2Ftestsuite%2Flib%2Fold-dejagnu.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fold-dejagnu.exp?ref=11f5a9a0fa22f9dd2499dde26a0f55b2f5e306de", "patch": "@@ -225,6 +225,16 @@ proc old-dejagnu { compiler prog cflagsx default_cflags libs } {\n \tlappend cflags \"additional_flags=$cflagsx\"\n     }\n \n+    set tmp [lindex [grep $prog \"Additional sources: .*\"] 0]\n+    regsub -all \"\\n\\[^\\n\\]+(\\n|$)\" $tmp \"\\n\" tmp\n+    set tmp [string trim $tmp]\n+    if ![string match \"\" $tmp] then {\n+\tregsub \"^.*Additional.*sources:\" $tmp \"\" tmp\n+\tregsub -all \" \" $tmp \" [file dirname $prog]/\" tmp\n+\tlappend cflags \"additional_flags=$tmp\"\n+\tverbose \"Adding sources $tmp\"\n+    }\n+\n     lappend cflags \"compiler=$compiler\"\n \n     regsub -all \"\\[./\\]\" \"$name\" \"-\" output;"}]}