{"sha": "32657045bd28f7d35c9b814d8b338c21e4f5dc40", "node_id": "C_kwDOANBUbNoAKDMyNjU3MDQ1YmQyOGY3ZDM1YzliODE0ZDhiMzM4YzIxZTRmNWRjNDA", "commit": {"author": {"name": "Rimvydas Jasinskas", "email": "rimvydas.jas@gmail.com", "date": "2022-01-18T06:12:45Z"}, "committer": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2022-01-19T06:45:46Z"}, "message": "Add XFAIL parts of pr16855.C for dragonfly.\n\nOn DragonFly BSD profiling ends before these DTORs are invoked on dso cleanup.\nThe -static compilation works as expected.\n\ngcc/testsuite/ChangeLog:\n\n\tPR testsuite/104022\n\t* g++.dg/gcov/pr16855.C: xfail the count lines for DTORs on dragonfly.\n\t* g++.dg/gcov/pr16855-priority.C: Ditto.  Adjust source layout so that\n\tdejagnu xfail expressions work.\n\nSigned-off-by: Rimvydas Jasinskas <rimvydas.jas@gmail.com>", "tree": {"sha": "9b6cd0d75b96d3efed54430c7c8239bbb1746ec7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9b6cd0d75b96d3efed54430c7c8239bbb1746ec7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/32657045bd28f7d35c9b814d8b338c21e4f5dc40", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32657045bd28f7d35c9b814d8b338c21e4f5dc40", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32657045bd28f7d35c9b814d8b338c21e4f5dc40", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32657045bd28f7d35c9b814d8b338c21e4f5dc40/comments", "author": null, "committer": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b01d2059c703d447827cc82e0e27e460a38bfa9f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b01d2059c703d447827cc82e0e27e460a38bfa9f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b01d2059c703d447827cc82e0e27e460a38bfa9f"}], "stats": {"total": 10, "additions": 6, "deletions": 4}, "files": [{"sha": "c7a58397bb911d54b37da015bee7b70ae5b9d626", "filename": "gcc/testsuite/g++.dg/gcov/pr16855-priority.C", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32657045bd28f7d35c9b814d8b338c21e4f5dc40/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgcov%2Fpr16855-priority.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32657045bd28f7d35c9b814d8b338c21e4f5dc40/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgcov%2Fpr16855-priority.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgcov%2Fpr16855-priority.C?ref=32657045bd28f7d35c9b814d8b338c21e4f5dc40", "patch": "@@ -19,7 +19,9 @@ class Test\n {\n public:\n   Test (void) { fprintf (stderr, \"In Test::Test\\n\"); /* count(1) */ }\n-  ~Test (void) { fprintf (stderr, \"In Test::~Test\\n\"); /* count(1) */ }\n+  ~Test (void) {\n+   fprintf (stderr, \"In Test::~Test\\n\"); /* count(1) { xfail *-*-dragonfly* } */\n+  }\n } T1;\n \n void\n@@ -76,4 +78,4 @@ static void __attribute__ ((destructor ((65535)))) dtor_65535 ()\n   fprintf (stderr, \"in destructor((65535))\\n\"); /* count(1) */\n }\n \n-/* { dg-final { run-gcov branches { -b pr16855-priority.C } } } */\n+/* { dg-final { run-gcov branches { -b pr16855-priority.C } { xfail *-*-dragonfly* } } } */"}, {"sha": "f9b86a40001f9c609fd8c8eb64eadf76bbc74975", "filename": "gcc/testsuite/g++.dg/gcov/pr16855.C", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32657045bd28f7d35c9b814d8b338c21e4f5dc40/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgcov%2Fpr16855.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32657045bd28f7d35c9b814d8b338c21e4f5dc40/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgcov%2Fpr16855.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgcov%2Fpr16855.C?ref=32657045bd28f7d35c9b814d8b338c21e4f5dc40", "patch": "@@ -21,7 +21,7 @@ class Test\n public:\n   Test (void) { fprintf (stderr, \"In Test::Test\\n\"); /* count(1) */ }\n   ~Test (void) {\n-   fprintf (stderr, \"In Test::~Test\\n\"); /* count(1) { xfail *-*-darwin* } */\n+   fprintf (stderr, \"In Test::~Test\\n\"); /* count(1) { xfail *-*-darwin* *-*-dragonfly* } */\n   }\n } T1;\n \n@@ -49,4 +49,4 @@ static void __attribute__ ((destructor)) dtor_default ()\n   fprintf (stderr, \"in destructor(())\\n\"); /* count(1) { xfail *-*-darwin* } */\n }\n \n-/* { dg-final { run-gcov branches { -b pr16855.C } { xfail *-*-darwin* } } } */\n+/* { dg-final { run-gcov branches { -b pr16855.C } { xfail *-*-darwin* *-*-dragonfly* } } } */"}]}