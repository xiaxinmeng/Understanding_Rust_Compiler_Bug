{"sha": "8ce616e22271df064568eafaa0f08c4862221074", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGNlNjE2ZTIyMjcxZGYwNjQ1NjhlYWZhYTBmMDhjNDg2MjIyMTA3NA==", "commit": {"author": {"name": "Alan Modra", "email": "amodra@gmail.com", "date": "2013-11-19T22:50:33Z"}, "committer": {"name": "Alan Modra", "email": "amodra@gcc.gnu.org", "date": "2013-11-19T22:50:33Z"}, "message": "sysv4.h (CC1_ENDIAN_LITTLE_SPEC): Define as empty.\n\n\t* config/rs6000/sysv4.h (CC1_ENDIAN_LITTLE_SPEC): Define as empty.\n\t* config/rs6000/rs6000.c (rs6000_option_override_internal): Default\n\tto strict alignment on older processors when little-endian.\n\t* config/rs6000/linux64.h (PROCESSOR_DEFAULT64): Default to power8\n\tfor ELFv2.\n\nFrom-SVN: r205060", "tree": {"sha": "db3a12dbab7ee9501d82eed1ae386c1080bab3a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/db3a12dbab7ee9501d82eed1ae386c1080bab3a9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8ce616e22271df064568eafaa0f08c4862221074", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ce616e22271df064568eafaa0f08c4862221074", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8ce616e22271df064568eafaa0f08c4862221074", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ce616e22271df064568eafaa0f08c4862221074/comments", "author": {"login": "amodra", "id": 6006325, "node_id": "MDQ6VXNlcjYwMDYzMjU=", "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amodra", "html_url": "https://github.com/amodra", "followers_url": "https://api.github.com/users/amodra/followers", "following_url": "https://api.github.com/users/amodra/following{/other_user}", "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}", "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amodra/subscriptions", "organizations_url": "https://api.github.com/users/amodra/orgs", "repos_url": "https://api.github.com/users/amodra/repos", "events_url": "https://api.github.com/users/amodra/events{/privacy}", "received_events_url": "https://api.github.com/users/amodra/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "32ad0f03298dd5edd015fa78dcfbb96d66c9a80d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32ad0f03298dd5edd015fa78dcfbb96d66c9a80d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32ad0f03298dd5edd015fa78dcfbb96d66c9a80d"}], "stats": {"total": 25, "additions": 19, "deletions": 6}, "files": [{"sha": "b6b9e92e78b0146a1bc0e60209a26d47aab039d6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ce616e22271df064568eafaa0f08c4862221074/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ce616e22271df064568eafaa0f08c4862221074/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8ce616e22271df064568eafaa0f08c4862221074", "patch": "@@ -1,3 +1,11 @@\n+2013-11-20  Alan Modra  <amodra@gmail.com>\n+\n+\t* config/rs6000/sysv4.h (CC1_ENDIAN_LITTLE_SPEC): Define as empty.\n+\t* config/rs6000/rs6000.c (rs6000_option_override_internal): Default\n+\tto strict alignment on older processors when little-endian.\n+\t* config/rs6000/linux64.h (PROCESSOR_DEFAULT64): Default to power8\n+\tfor ELFv2.\n+\n 2013-11-19  Teresa Johnson  <tejohnson@google.com>\n \n \t* common/config/i386/i386-common.c: Enable"}, {"sha": "66b483ec116f5d2503292f494e704e0093df2c00", "filename": "gcc/config/rs6000/linux64.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ce616e22271df064568eafaa0f08c4862221074/gcc%2Fconfig%2Frs6000%2Flinux64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ce616e22271df064568eafaa0f08c4862221074/gcc%2Fconfig%2Frs6000%2Flinux64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Flinux64.h?ref=8ce616e22271df064568eafaa0f08c4862221074", "patch": "@@ -71,7 +71,11 @@ extern int dot_symbols;\n #undef  PROCESSOR_DEFAULT\n #define PROCESSOR_DEFAULT PROCESSOR_POWER7\n #undef  PROCESSOR_DEFAULT64\n+#ifdef LINUX64_DEFAULT_ABI_ELFv2\n+#define PROCESSOR_DEFAULT64 PROCESSOR_POWER8\n+#else\n #define PROCESSOR_DEFAULT64 PROCESSOR_POWER7\n+#endif\n \n /* We don't need to generate entries in .fixup, except when\n    -mrelocatable or -mrelocatable-lib is given.  */"}, {"sha": "3735f4916360fbdff53b07bc17eeae79280400d3", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ce616e22271df064568eafaa0f08c4862221074/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ce616e22271df064568eafaa0f08c4862221074/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=8ce616e22271df064568eafaa0f08c4862221074", "patch": "@@ -3222,6 +3222,12 @@ rs6000_option_override_internal (bool global_init_p)\n \t}\n     }\n \n+  /* If little-endian, default to -mstrict-align on older processors.\n+     Testing for htm matches power8 and later.  */\n+  if (!BYTES_BIG_ENDIAN\n+      && !(processor_target_table[tune_index].target_enable & OPTION_MASK_HTM))\n+    rs6000_isa_flags |= ~rs6000_isa_flags_explicit & OPTION_MASK_STRICT_ALIGN;\n+\n   /* Add some warnings for VSX.  */\n   if (TARGET_VSX)\n     {"}, {"sha": "73c3ec16c2cd2c6fdd0501cc9e251858455e15c8", "filename": "gcc/config/rs6000/sysv4.h", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ce616e22271df064568eafaa0f08c4862221074/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ce616e22271df064568eafaa0f08c4862221074/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fsysv4.h?ref=8ce616e22271df064568eafaa0f08c4862221074", "patch": "@@ -538,12 +538,7 @@ ENDIAN_SELECT(\" -mbig\", \" -mlittle\", DEFAULT_ASM_ENDIAN)\n \n #define\tCC1_ENDIAN_BIG_SPEC \"\"\n \n-#define\tCC1_ENDIAN_LITTLE_SPEC \"\\\n-%{!mstrict-align: %{!mno-strict-align: \\\n-    %{!mcall-i960-old: \\\n-\t-mstrict-align \\\n-    } \\\n-}}\"\n+#define\tCC1_ENDIAN_LITTLE_SPEC \"\"\n \n #define\tCC1_ENDIAN_DEFAULT_SPEC \"%(cc1_endian_big)\"\n "}]}