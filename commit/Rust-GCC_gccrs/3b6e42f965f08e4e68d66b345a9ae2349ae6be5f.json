{"sha": "3b6e42f965f08e4e68d66b345a9ae2349ae6be5f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2I2ZTQyZjk2NWYwOGU0ZTY4ZDY2YjM0NWE5YWUyMzQ5YWU2YmU1Zg==", "commit": {"author": {"name": "Ilya Verbin", "email": "ilya.verbin@intel.com", "date": "2015-01-14T15:51:37Z"}, "committer": {"name": "Ilya Verbin", "email": "iverbin@gcc.gnu.org", "date": "2015-01-14T15:51:37Z"}, "message": "Makefile.in (site.exp): Do not set ENABLE_LTO.\n\ngcc/\n\t* Makefile.in (site.exp): Do not set ENABLE_LTO.\n\ngcc/testsuite/\n\t* lib/target-supports.exp (check_effective_target_lto): Check for -flto\n\toption support instead of ENABLE_LTO from Makefile.\n\nFrom-SVN: r219606", "tree": {"sha": "6b101efdd6165e22f408efa7b143a6526eedc6fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6b101efdd6165e22f408efa7b143a6526eedc6fa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3b6e42f965f08e4e68d66b345a9ae2349ae6be5f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b6e42f965f08e4e68d66b345a9ae2349ae6be5f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b6e42f965f08e4e68d66b345a9ae2349ae6be5f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b6e42f965f08e4e68d66b345a9ae2349ae6be5f/comments", "author": null, "committer": null, "parents": [{"sha": "837bac8cb6e58e3665c736c338dfaf64330c1971", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/837bac8cb6e58e3665c736c338dfaf64330c1971", "html_url": "https://github.com/Rust-GCC/gccrs/commit/837bac8cb6e58e3665c736c338dfaf64330c1971"}], "stats": {"total": 17, "additions": 12, "deletions": 5}, "files": [{"sha": "2539e5dfe3ea59ae838bab96b5296b93d5a01c27", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b6e42f965f08e4e68d66b345a9ae2349ae6be5f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b6e42f965f08e4e68d66b345a9ae2349ae6be5f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3b6e42f965f08e4e68d66b345a9ae2349ae6be5f", "patch": "@@ -1,3 +1,7 @@\n+2015-01-14  Ilya Verbin  <ilya.verbin@intel.com>\n+\n+\t* Makefile.in (site.exp): Do not set ENABLE_LTO.\n+\n 2015-01-14  Ilya Verbin  <ilya.verbin@intel.com>\n \n \t* cgraphunit.c (ipa_passes): Remove argument from ipa_write_summaries."}, {"sha": "44a42143aa056b3c2fc025ac50be6bedf25fb6d6", "filename": "gcc/Makefile.in", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b6e42f965f08e4e68d66b345a9ae2349ae6be5f/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b6e42f965f08e4e68d66b345a9ae2349ae6be5f/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=3b6e42f965f08e4e68d66b345a9ae2349ae6be5f", "patch": "@@ -3606,9 +3606,6 @@ site.exp: ./config.status Makefile\n \t  echo \"set PLUGINCFLAGS \\\"$(PLUGINCFLAGS)\\\"\" >> ./site.tmp; \\\n \t  echo \"set GMPINC \\\"$(GMPINC)\\\"\" >> ./site.tmp; \\\n \tfi\n-\t@if test \"@enable_lto@\" = \"yes\" ; then \\\n-\t  echo \"set ENABLE_LTO 1\" >> ./site.tmp; \\\n-\tfi\n # If newlib has been configured, we need to pass -B to gcc so it can find\n # newlib's crt0.o if it exists.  This will cause a \"path prefix not used\"\n # message if it doesn't, but the testsuite is supposed to ignore the message -"}, {"sha": "9b24631a20948139de53e792a25f8d9c44b3afd5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b6e42f965f08e4e68d66b345a9ae2349ae6be5f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b6e42f965f08e4e68d66b345a9ae2349ae6be5f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=3b6e42f965f08e4e68d66b345a9ae2349ae6be5f", "patch": "@@ -1,3 +1,8 @@\n+2015-01-14  Ilya Verbin  <ilya.verbin@intel.com>\n+\n+\t* lib/target-supports.exp (check_effective_target_lto): Check for -flto\n+\toption support instead of ENABLE_LTO from Makefile.\n+\n 2015-01-14  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/59354"}, {"sha": "00872ab652093e5a4e20564322ebe88f2618963c", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b6e42f965f08e4e68d66b345a9ae2349ae6be5f/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b6e42f965f08e4e68d66b345a9ae2349ae6be5f/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=3b6e42f965f08e4e68d66b345a9ae2349ae6be5f", "patch": "@@ -5760,11 +5760,12 @@ proc check_effective_target_gld { } {\n # (LTO) support.\n \n proc check_effective_target_lto { } {\n-    global ENABLE_LTO\n     if { [istarget nvptx-*-*] } {\n \treturn 0;\n     }\n-    return [info exists ENABLE_LTO]\n+    return [check_no_compiler_messages lto object {\n+\tvoid foo (void) { }\n+    } \"-flto\"]\n }\n \n # Return 1 if -mx32 -maddress-mode=short can compile, 0 otherwise."}]}