{"sha": "b91f0a4123f7f6da18ebe038f6d798fb26880eec", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjkxZjBhNDEyM2Y3ZjZkYTE4ZWJlMDM4ZjZkNzk4ZmIyNjg4MGVlYw==", "commit": {"author": {"name": "Corinna Vinschen", "email": "corinna@vinschen.de", "date": "2006-08-30T13:48:49Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2006-08-30T13:48:49Z"}, "message": "configure.in: Never build newlib for a Mingw host.\n\n2006-08-30  Corinna Vinschen  <corinna@vinschen.de>\n* configure.in: Never build newlib for a Mingw host.\nNever build newlib as Mingw target library.\nTest the existence of winsup/cygwin for building a Cygwin newlib,\nrather than just winsup.\nAdd winsup/mingw and winsup/w32api paths to FLAGS_FOR_TARGET if\nbuilding a Mingw target.\n* configure: Regenerate.\n\nFrom-SVN: r116587", "tree": {"sha": "59553adba4861576b49b68cfcd703efb45af86f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/59553adba4861576b49b68cfcd703efb45af86f9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b91f0a4123f7f6da18ebe038f6d798fb26880eec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b91f0a4123f7f6da18ebe038f6d798fb26880eec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b91f0a4123f7f6da18ebe038f6d798fb26880eec", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b91f0a4123f7f6da18ebe038f6d798fb26880eec/comments", "author": {"login": "github-cygwin", "id": 7604664, "node_id": "MDQ6VXNlcjc2MDQ2NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7604664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-cygwin", "html_url": "https://github.com/github-cygwin", "followers_url": "https://api.github.com/users/github-cygwin/followers", "following_url": "https://api.github.com/users/github-cygwin/following{/other_user}", "gists_url": "https://api.github.com/users/github-cygwin/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-cygwin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-cygwin/subscriptions", "organizations_url": "https://api.github.com/users/github-cygwin/orgs", "repos_url": "https://api.github.com/users/github-cygwin/repos", "events_url": "https://api.github.com/users/github-cygwin/events{/privacy}", "received_events_url": "https://api.github.com/users/github-cygwin/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "70aec81b225e9d962725e98be8a89efddb3e5b2a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70aec81b225e9d962725e98be8a89efddb3e5b2a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/70aec81b225e9d962725e98be8a89efddb3e5b2a"}], "stats": {"total": 40, "additions": 30, "deletions": 10}, "files": [{"sha": "c558ca9f754af1cf8b8c3528c5d35678d607711a", "filename": "ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b91f0a4123f7f6da18ebe038f6d798fb26880eec/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b91f0a4123f7f6da18ebe038f6d798fb26880eec/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=b91f0a4123f7f6da18ebe038f6d798fb26880eec", "patch": "@@ -1,3 +1,13 @@\n+2006-08-30  Corinna Vinschen  <corinna@vinschen.de>\n+\n+\t* configure.in: Never build newlib for a Mingw host.\n+\tNever build newlib as Mingw target library.\n+\tTest the existence of winsup/cygwin for building a Cygwin newlib,\n+\trather than just winsup.\n+\tAdd winsup/mingw and winsup/w32api paths to FLAGS_FOR_TARGET if\n+\tbuilding a Mingw target.\n+\t* configure: Regenerate.\n+\n 2006-08-08  Eric Botcazou  <ebotcazou@libertysurf.fr>\n \n \t* MAINTAINERS (Various Maintainers): Add self as RTL opt. maintainer."}, {"sha": "9179f7fb952281b5e3f83549bf1f5f51b28b6435", "filename": "configure", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b91f0a4123f7f6da18ebe038f6d798fb26880eec/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b91f0a4123f7f6da18ebe038f6d798fb26880eec/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=b91f0a4123f7f6da18ebe038f6d798fb26880eec", "patch": "@@ -1095,7 +1095,7 @@ case \"${host}\" in\n     ;;\n   i[3456789]86-*-mingw32*)\n     # noconfigdirs=\"tcl tk expect dejagnu make texinfo bison patch flex byacc send-pr uudecode dejagnu diff guile perl itcl gnuserv\"\n-    noconfigdirs=\"$noconfigdirs expect dejagnu autoconf automake send-pr rcs guile perl texinfo libtool\"\n+    noconfigdirs=\"$noconfigdirs expect dejagnu autoconf automake send-pr rcs guile perl texinfo libtool newlib\"\n     ;;\n   i[3456789]86-*-beos*)\n     noconfigdirs=\"$noconfigdirs tk itcl libgui gdb\"\n@@ -1439,17 +1439,17 @@ case \"${target}\" in\n     # 'target-newlib' will appear in skipdirs.\n     ;;\n   i[3456789]86-*-mingw32*)\n-    target_configdirs=\"$target_configdirs target-mingw\"\n-    noconfigdirs=\"$noconfigdirs expect target-libgloss ${libgcj}\"\n+    target_configdirs=\"$target_configdirs target-winsup\"\n+    noconfigdirs=\"$noconfigdirs expect target-libgloss target-newlib ${libgcj}\"\n     ;;    \n   *-*-cygwin*)\n     target_configdirs=\"$target_configdirs target-libtermcap target-winsup\"\n     noconfigdirs=\"$noconfigdirs target-gperf target-libgloss ${libgcj}\"\n     # always build newlib if winsup directory is present.\n-    if test -d \"$srcdir/winsup\"; then\n+    if test -d \"$srcdir/winsup/cygwin\"; then\n       skipdirs=`echo \" ${skipdirs} \" | sed -e 's/ target-newlib / /'`\n     elif test -d \"$srcdir/newlib\"; then\n-      echo \"Warning: winsup is missing so newlib can't be built.\"\n+      echo \"Warning: winsup/cygwin is missing so newlib can't be built.\"\n     fi\n     ;;    \n   i[3456789]86-moss-msdos | i[3456789]86-*-moss* | \\\n@@ -3366,6 +3366,11 @@ case \" $target_configdirs \" in\n   esac\n   ;;\n esac\n+case \"$target\" in\n+*-mingw*)\n+  # Can't be handled as Cygwin above since Mingw does not use newlib.\n+  FLAGS_FOR_TARGET=$FLAGS_FOR_TARGET' -L$$r/$(TARGET_SUBDIR)/winsup/mingw -L$$r/$(TARGET_SUBDIR)/winsup/w32api/lib -isystem $$s/winsup/mingw/include -isystem $$s/winsup/w32api/include' ;;\n+esac\n \n # Allow the user to override the flags for\n # our build compiler if desired."}, {"sha": "ba3a9bccf7c64c3d85aee0e07e9033f0a5aeddd6", "filename": "configure.in", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b91f0a4123f7f6da18ebe038f6d798fb26880eec/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b91f0a4123f7f6da18ebe038f6d798fb26880eec/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=b91f0a4123f7f6da18ebe038f6d798fb26880eec", "patch": "@@ -279,7 +279,7 @@ case \"${host}\" in\n     ;;\n   i[[3456789]]86-*-mingw32*)\n     # noconfigdirs=\"tcl tk expect dejagnu make texinfo bison patch flex byacc send-pr uudecode dejagnu diff guile perl itcl gnuserv\"\n-    noconfigdirs=\"$noconfigdirs expect dejagnu autoconf automake send-pr rcs guile perl texinfo libtool\"\n+    noconfigdirs=\"$noconfigdirs expect dejagnu autoconf automake send-pr rcs guile perl texinfo libtool newlib\"\n     ;;\n   i[[3456789]]86-*-beos*)\n     noconfigdirs=\"$noconfigdirs tk itcl libgui gdb\"\n@@ -615,17 +615,17 @@ case \"${target}\" in\n     # 'target-newlib' will appear in skipdirs.\n     ;;\n   i[[3456789]]86-*-mingw32*)\n-    target_configdirs=\"$target_configdirs target-mingw\"\n-    noconfigdirs=\"$noconfigdirs expect target-libgloss ${libgcj}\"\n+    target_configdirs=\"$target_configdirs target-winsup\"\n+    noconfigdirs=\"$noconfigdirs expect target-libgloss target-newlib ${libgcj}\"\n     ;;    \n   *-*-cygwin*)\n     target_configdirs=\"$target_configdirs target-libtermcap target-winsup\"\n     noconfigdirs=\"$noconfigdirs target-gperf target-libgloss ${libgcj}\"\n     # always build newlib if winsup directory is present.\n-    if test -d \"$srcdir/winsup\"; then\n+    if test -d \"$srcdir/winsup/cygwin\"; then\n       skipdirs=`echo \" ${skipdirs} \" | sed -e 's/ target-newlib / /'`\n     elif test -d \"$srcdir/newlib\"; then\n-      echo \"Warning: winsup is missing so newlib can't be built.\"\n+      echo \"Warning: winsup/cygwin is missing so newlib can't be built.\"\n     fi\n     ;;    \n   i[[3456789]]86-moss-msdos | i[[3456789]]86-*-moss* | \\\n@@ -2121,6 +2121,11 @@ case \" $target_configdirs \" in\n   esac\n   ;;\n esac\n+case \"$target\" in\n+*-mingw*)\n+  # Can't be handled as Cygwin above since Mingw does not use newlib.\n+  FLAGS_FOR_TARGET=$FLAGS_FOR_TARGET' -L$$r/$(TARGET_SUBDIR)/winsup/mingw -L$$r/$(TARGET_SUBDIR)/winsup/w32api/lib -isystem $$s/winsup/mingw/include -isystem $$s/winsup/w32api/include' ;;\n+esac\n \n # Allow the user to override the flags for\n # our build compiler if desired."}]}