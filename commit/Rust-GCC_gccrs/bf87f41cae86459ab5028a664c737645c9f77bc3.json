{"sha": "bf87f41cae86459ab5028a664c737645c9f77bc3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmY4N2Y0MWNhZTg2NDU5YWI1MDI4YTY2NGM3Mzc2NDVjOWY3N2JjMw==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2008-07-07T15:52:42Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2008-07-07T15:52:42Z"}, "message": "tree-ssa-structalias.h (set_used_smts): Remove.\n\n2008-07-07  Richard Guenther  <rguenther@suse.de>\n\n\t* tree-ssa-structalias.h (set_used_smts): Remove.\n\t* tree-ssa-structalias.c (used_smts): Likewise.\n\t(set_used_smts): Likewise.\n\t* tree-ssa-alias.c (compute_flow_sensitive_aliasing): Remove\n\tcall to set_used_smts.\n\nFrom-SVN: r137574", "tree": {"sha": "a14095a7abb6614a0a9abff95430398b329eb481", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a14095a7abb6614a0a9abff95430398b329eb481"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bf87f41cae86459ab5028a664c737645c9f77bc3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf87f41cae86459ab5028a664c737645c9f77bc3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bf87f41cae86459ab5028a664c737645c9f77bc3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf87f41cae86459ab5028a664c737645c9f77bc3/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e5bae89b993cca27165a7b3bcfc33cad5f68992b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5bae89b993cca27165a7b3bcfc33cad5f68992b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e5bae89b993cca27165a7b3bcfc33cad5f68992b"}], "stats": {"total": 65, "additions": 8, "deletions": 57}, "files": [{"sha": "7ae7101a7c1cf725589cf0a6c1218341a79106db", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf87f41cae86459ab5028a664c737645c9f77bc3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf87f41cae86459ab5028a664c737645c9f77bc3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bf87f41cae86459ab5028a664c737645c9f77bc3", "patch": "@@ -1,3 +1,11 @@\n+2008-07-07  Richard Guenther  <rguenther@suse.de>\n+\n+\t* tree-ssa-structalias.h (set_used_smts): Remove.\n+\t* tree-ssa-structalias.c (used_smts): Likewise.\n+\t(set_used_smts): Likewise.\n+\t* tree-ssa-alias.c (compute_flow_sensitive_aliasing): Remove\n+\tcall to set_used_smts.\n+\n 2008-07-07  Richard Guenther  <rguenther@suse.de>\n \n \t* tree-ssa-structalias.c (struct variable_info): Add is_full_var flag."}, {"sha": "d4a1e219a0c737a131f5073be5f9798d6f85192e", "filename": "gcc/tree-ssa-alias.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf87f41cae86459ab5028a664c737645c9f77bc3/gcc%2Ftree-ssa-alias.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf87f41cae86459ab5028a664c737645c9f77bc3/gcc%2Ftree-ssa-alias.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-alias.c?ref=bf87f41cae86459ab5028a664c737645c9f77bc3", "patch": "@@ -2316,7 +2316,6 @@ compute_flow_sensitive_aliasing (struct alias_info *ai)\n   tree ptr;\n   \n   timevar_push (TV_FLOW_SENSITIVE);\n-  set_used_smts ();\n   \n   for (i = 0; VEC_iterate (tree, ai->processed_ptrs, i, ptr); i++)\n     {"}, {"sha": "28974bea6441730d0002d1f24b0f6a2b4de189c7", "filename": "gcc/tree-ssa-structalias.c", "status": "modified", "additions": 0, "deletions": 55, "changes": 55, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf87f41cae86459ab5028a664c737645c9f77bc3/gcc%2Ftree-ssa-structalias.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf87f41cae86459ab5028a664c737645c9f77bc3/gcc%2Ftree-ssa-structalias.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-structalias.c?ref=bf87f41cae86459ab5028a664c737645c9f77bc3", "patch": "@@ -4684,61 +4684,6 @@ set_uids_in_ptset (tree ptr, bitmap into, bitmap from, bool is_derefed,\n \n static bool have_alias_info = false;\n \n-/* The list of SMT's that are in use by our pointer variables.  This\n-   is the set of SMT's for all pointers that can point to anything.   */\n-static bitmap used_smts;\n-\n-/* Due to the ordering of points-to set calculation and SMT\n-   calculation being a bit co-dependent, we can't just calculate SMT\n-   used info whenever we want, we have to calculate it around the time\n-   that find_what_p_points_to is called.  */\n-\n-/* Mark which SMT's are in use by points-to anything variables.  */\n-\n-void\n-set_used_smts (void)\n-{\n-  int i;\n-  varinfo_t vi;\n-  used_smts = BITMAP_ALLOC (&pta_obstack);\n-\n-  for (i = 0; VEC_iterate (varinfo_t, varmap, i, vi); i++)\n-    {\n-      tree var = vi->decl;\n-      varinfo_t withsolution = get_varinfo (find (i));\n-      tree smt;\n-      var_ann_t va;\n-      struct ptr_info_def *pi = NULL;\n-\n-      /* For parm decls, the pointer info may be under the default\n-\t def.  */\n-      if (TREE_CODE (vi->decl) == PARM_DECL\n-\t  && gimple_default_def (cfun, var))\n-\tpi = SSA_NAME_PTR_INFO (gimple_default_def (cfun, var));\n-      else if (TREE_CODE (var) == SSA_NAME)\n-\tpi = SSA_NAME_PTR_INFO (var);\n-\n-      /* Skip the special variables and those that can't be aliased.  */\n-      if (vi->is_special_var\n-\t  || !SSA_VAR_P (var)\n-\t  || (pi && !pi->memory_tag_needed)\n-\t  || (TREE_CODE (var) == VAR_DECL && !may_be_aliased (var))\n-\t  || !POINTER_TYPE_P (TREE_TYPE (var)))\n-\tcontinue;\n-\n-      if (TREE_CODE (var) == SSA_NAME)\n-\tvar = SSA_NAME_VAR (var);\n-\n-      va = var_ann (var);\n-      if (!va)\n-\tcontinue;\n-\n-      smt = va->symbol_mem_tag;\n-      if (smt && bitmap_bit_p (withsolution->solution, anything_id))\n-\tbitmap_set_bit (used_smts, DECL_UID (smt));\n-    }\n-}\n-\n /* Given a pointer variable P, fill in its points-to set, or return\n    false if we can't.\n    Rather than return false for variables that point-to anything, we"}, {"sha": "c7ef1d4f4234a188b570254d207af2b1a5286824", "filename": "gcc/tree-ssa-structalias.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf87f41cae86459ab5028a664c737645c9f77bc3/gcc%2Ftree-ssa-structalias.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf87f41cae86459ab5028a664c737645c9f77bc3/gcc%2Ftree-ssa-structalias.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-structalias.h?ref=bf87f41cae86459ab5028a664c737645c9f77bc3", "patch": "@@ -39,6 +39,5 @@ extern void dump_solution_for_var (FILE *, unsigned int);\n extern void debug_solution_for_var (unsigned int);\n extern void dump_sa_points_to_info (FILE *);\n extern void debug_sa_points_to_info (void);\n-extern void set_used_smts (void);\n \n #endif /* TREE_SSA_STRUCTALIAS_H  */"}]}