{"sha": "9a52d6871a268a6a1fc3d0a3660120c44ee94951", "node_id": "C_kwDOANBUbNoAKDlhNTJkNjg3MWEyNjhhNmExZmMzZDBhMzY2MDEyMGM0NGVlOTQ5NTE", "commit": {"author": {"name": "Prathamesh Kulkarni", "email": "prathamesh.kulkarni@linaro.org", "date": "2022-07-21T11:36:03Z"}, "committer": {"name": "Prathamesh Kulkarni", "email": "prathamesh.kulkarni@linaro.org", "date": "2022-07-21T11:41:06Z"}, "message": "Revert \"forwprop: Use lhs type instead of arg0 in folding VEC_PERM_EXPR.\"\n\nThis reverts commit 4c3231302577445417715a7c22e879e4159376d3.\n\ngcc/ChangeLog:\n\tRevert:\n\t* tree-ssa-forwprop.cc (simplify_permutation): Use lhs type\n\tinstead of TREE_TYPE (arg0) as result type in folding VEC_PERM_EXPR.", "tree": {"sha": "81b0b1d7f9ff6873ff3dedd99059d1a204c75ab9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/81b0b1d7f9ff6873ff3dedd99059d1a204c75ab9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9a52d6871a268a6a1fc3d0a3660120c44ee94951", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a52d6871a268a6a1fc3d0a3660120c44ee94951", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9a52d6871a268a6a1fc3d0a3660120c44ee94951", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a52d6871a268a6a1fc3d0a3660120c44ee94951/comments", "author": null, "committer": null, "parents": [{"sha": "375668e0508fbe173af1ed519d8ae2b79f388d94", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/375668e0508fbe173af1ed519d8ae2b79f388d94", "html_url": "https://github.com/Rust-GCC/gccrs/commit/375668e0508fbe173af1ed519d8ae2b79f388d94"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "fdc4bc8909d2763876550e53277ff2b3dcca796a", "filename": "gcc/tree-ssa-forwprop.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a52d6871a268a6a1fc3d0a3660120c44ee94951/gcc%2Ftree-ssa-forwprop.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a52d6871a268a6a1fc3d0a3660120c44ee94951/gcc%2Ftree-ssa-forwprop.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-forwprop.cc?ref=9a52d6871a268a6a1fc3d0a3660120c44ee94951", "patch": "@@ -2661,7 +2661,7 @@ simplify_permutation (gimple_stmt_iterator *gsi)\n \n       /* Shuffle of a constructor.  */\n       bool ret = false;\n-      tree res_type = TREE_TYPE (gimple_assign_lhs (stmt));\n+      tree res_type = TREE_TYPE (arg0);\n       tree opt = fold_ternary (VEC_PERM_EXPR, res_type, arg0, arg1, op2);\n       if (!opt\n \t  || (TREE_CODE (opt) != CONSTRUCTOR && TREE_CODE (opt) != VECTOR_CST))"}]}