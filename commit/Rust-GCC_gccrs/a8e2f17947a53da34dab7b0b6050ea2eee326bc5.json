{"sha": "a8e2f17947a53da34dab7b0b6050ea2eee326bc5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YThlMmYxNzk0N2E1M2RhMzRkYWI3YjBiNjA1MGVhMmVlZTMyNmJjNQ==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-11-04T18:21:23Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-11-04T18:21:23Z"}, "message": "(assemble_variable): Set DECL_IN_TEXT_SECTION somewhat earlier.\n\nFrom-SVN: r5994", "tree": {"sha": "30dc1c2de058bff63d5334496ff6da9161265b12", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/30dc1c2de058bff63d5334496ff6da9161265b12"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a8e2f17947a53da34dab7b0b6050ea2eee326bc5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8e2f17947a53da34dab7b0b6050ea2eee326bc5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a8e2f17947a53da34dab7b0b6050ea2eee326bc5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8e2f17947a53da34dab7b0b6050ea2eee326bc5/comments", "author": null, "committer": null, "parents": [{"sha": "2708da920e03ce3dd4be2039d4377c50c2e1de29", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2708da920e03ce3dd4be2039d4377c50c2e1de29", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2708da920e03ce3dd4be2039d4377c50c2e1de29"}], "stats": {"total": 10, "additions": 6, "deletions": 4}, "files": [{"sha": "013be976ad03f160914f672e6af70cc7d8e0a041", "filename": "gcc/varasm.c", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8e2f17947a53da34dab7b0b6050ea2eee326bc5/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8e2f17947a53da34dab7b0b6050ea2eee326bc5/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=a8e2f17947a53da34dab7b0b6050ea2eee326bc5", "patch": "@@ -1103,6 +1103,10 @@ assemble_variable (decl, top_level, at_end, dont_output_data)\n     data_section ();\n #endif\n \n+  /* dbxout.c needs to know this.  */\n+  if (in_text_section ())\n+    DECL_IN_TEXT_SECTION (decl) = 1;\n+\n   /* Record current section so we can restore it if dbxout.c clobbers it.  */\n   saved_in_section = in_section;\n \n@@ -1129,6 +1133,8 @@ assemble_variable (decl, top_level, at_end, dont_output_data)\n      while we are doing our final traversal of the chain of file-scope\n      declarations.  */\n \n+  /* If the debugging output changed sections, reselect the section\n+     that's supposed to be selected.  */\n   if (in_section != saved_in_section)\n     {\n       /* Switch to the proper section for this data.  */\n@@ -1144,10 +1150,6 @@ assemble_variable (decl, top_level, at_end, dont_output_data)\n #endif\n     }\n \n-  /* dbxout.c needs to know this.  */\n-  if (in_text_section ())\n-    DECL_IN_TEXT_SECTION (decl) = 1;\n-\n   /* Compute and output the alignment of this data.  */\n \n   align = DECL_ALIGN (decl);"}]}