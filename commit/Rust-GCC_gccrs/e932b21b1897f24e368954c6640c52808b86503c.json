{"sha": "e932b21b1897f24e368954c6640c52808b86503c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTkzMmIyMWIxODk3ZjI0ZTM2ODk1NGM2NjQwYzUyODA4Yjg2NTAzYw==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2002-06-16T20:18:25Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2002-06-16T20:18:25Z"}, "message": "i386-protos.h (x86_field_alignment): Declare.\n\n\n\t* i386-protos.h (x86_field_alignment): Declare.\n\t* i386.c (x86_field_alignment): Define.\n\t* i386.h (ADJUST_FIELD_ALIGNMENT): New.\n\t(BIGGEST_FIELD_ALIGNMENT): Kill.\n\nFrom-SVN: r54674", "tree": {"sha": "fd40410fb387f7e0deba976a7fe1b04099edb524", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fd40410fb387f7e0deba976a7fe1b04099edb524"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e932b21b1897f24e368954c6640c52808b86503c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e932b21b1897f24e368954c6640c52808b86503c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e932b21b1897f24e368954c6640c52808b86503c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e932b21b1897f24e368954c6640c52808b86503c/comments", "author": null, "committer": null, "parents": [{"sha": "7ee0238171813f4ba29544a61a2da294088d7ab3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ee0238171813f4ba29544a61a2da294088d7ab3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ee0238171813f4ba29544a61a2da294088d7ab3"}], "stats": {"total": 35, "additions": 28, "deletions": 7}, "files": [{"sha": "84bc9295b3532d6e948e7d02d951a7df69a4be75", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e932b21b1897f24e368954c6640c52808b86503c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e932b21b1897f24e368954c6640c52808b86503c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e932b21b1897f24e368954c6640c52808b86503c", "patch": "@@ -1,3 +1,10 @@\n+Sun Jun 16 22:16:10 CEST 2002  Jan Hubicka  <jh@suse.cz>\n+\n+\t* i386-protos.h (x86_field_alignment): Declare.\n+\t* i386.c (x86_field_alignment): Define.\n+\t* i386.h (ADJUST_FIELD_ALIGNMENT): New.\n+\t(BIGGEST_FIELD_ALIGNMENT): Kill.\n+\n 2002-06-16  Richard Henderson  <rth@redhat.com>\n \n         * vax.md (casesi): Use emit_jump_insn.  Tidy expander pattern."}, {"sha": "83fe340cdd37a91f6359f5ae2455fe72241d8ad5", "filename": "gcc/config/i386/i386-protos.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e932b21b1897f24e368954c6640c52808b86503c/gcc%2Fconfig%2Fi386%2Fi386-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e932b21b1897f24e368954c6640c52808b86503c/gcc%2Fconfig%2Fi386%2Fi386-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386-protos.h?ref=e932b21b1897f24e368954c6640c52808b86503c", "patch": "@@ -205,6 +205,7 @@ extern unsigned int i386_pe_section_type_flags PARAMS ((tree, const char *,\n \t\t\t\t\t\t\tint));\n extern void i386_pe_asm_named_section PARAMS ((const char *, unsigned int));\n extern void x86_output_mi_thunk PARAMS ((FILE *, int, tree));\n+extern int x86_field_alignment PARAMS ((tree, int));\n #endif\n \n extern rtx ix86_tls_get_addr PARAMS ((void));"}, {"sha": "f6b11012ab2ae31d3540dae9bf7a9bcd0cbfa017", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e932b21b1897f24e368954c6640c52808b86503c/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e932b21b1897f24e368954c6640c52808b86503c/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=e932b21b1897f24e368954c6640c52808b86503c", "patch": "@@ -13803,4 +13803,21 @@ x86_output_mi_thunk (file, delta, function)\n     }\n }\n \n+int\n+x86_field_alignment (field, computed)\n+     tree field;\n+     int computed;\n+{\n+  enum machine_mode mode;\n+  if (TARGET_64BIT || DECL_USER_ALIGN (field) || TARGET_ALIGN_DOUBLE)\n+    return computed;\n+  mode = TYPE_MODE (TREE_CODE (TREE_TYPE (field)) == ARRAY_TYPE\n+\t\t    ? get_inner_array_type (field) : TREE_TYPE (field));\n+  if ((mode == DFmode || mode == DCmode\n+      || mode == DImode || mode == CDImode)\n+      && !TARGET_ALIGN_DOUBLE)\n+    return MIN (32, computed);\n+  return computed;\n+}\n+\n #include \"gt-i386.h\""}, {"sha": "2a85ff69f1a68a2a717ec4769b4169e781d48cb5", "filename": "gcc/config/i386/i386.h", "status": "modified", "additions": 3, "deletions": 7, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e932b21b1897f24e368954c6640c52808b86503c/gcc%2Fconfig%2Fi386%2Fi386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e932b21b1897f24e368954c6640c52808b86503c/gcc%2Fconfig%2Fi386%2Fi386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.h?ref=e932b21b1897f24e368954c6640c52808b86503c", "patch": "@@ -714,13 +714,9 @@ extern int x86_prefetch_sse;\n /* The published ABIs say that doubles should be aligned on word\n    boundaries, so lower the aligment for structure fields unless\n    -malign-double is set.  */\n-/* BIGGEST_FIELD_ALIGNMENT is also used in libobjc, where it must be\n-   constant.  Use the smaller value in that context.  */\n-#ifndef IN_TARGET_LIBS\n-#define BIGGEST_FIELD_ALIGNMENT (TARGET_64BIT ? 128 : (TARGET_ALIGN_DOUBLE ? 64 : 32))\n-#else\n-#define BIGGEST_FIELD_ALIGNMENT 32\n-#endif\n+\n+#define ADJUST_FIELD_ALIGN(FIELD, COMPUTED) \\\n+   x86_field_alignment (FIELD, COMPUTED)\n \n /* If defined, a C expression to compute the alignment given to a\n    constant that is being placed in memory.  EXP is the constant"}]}