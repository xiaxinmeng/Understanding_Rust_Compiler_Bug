{"sha": "47d94c1a5080657946ac8891257d77499f4169af", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDdkOTRjMWE1MDgwNjU3OTQ2YWM4ODkxMjU3ZDc3NDk5ZjQxNjlhZg==", "commit": {"author": {"name": "Andreas Krebbel", "email": "krebbel1@de.ibm.com", "date": "2007-10-31T07:56:01Z"}, "committer": {"name": "Andreas Krebbel", "email": "krebbel@gcc.gnu.org", "date": "2007-10-31T07:56:01Z"}, "message": "rs6000.opt: Rename -mdfp option to -mhard-dfp.\n\n2007-10-31  Andreas Krebbel  <krebbel1@de.ibm.com>\n\n\t* config/rs6000/rs6000.opt: Rename -mdfp option to -mhard-dfp.\n\n\t* config/s390/s390.c: (override_options): Replace -mhard-dfp/-msoft-dfp\n\twith -mhard-dfp/-mno-hard-dfp.\n\t* config/s390/s390.opt: Likewise.\n\t* config/s390/s390.h: Add MASK_HARD_DFP to the TARGET_DEFAULT\n\tdefinition.\n\nFrom-SVN: r129793", "tree": {"sha": "f4b39a3a67ce73e12397726fa15ddecbd88e088a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f4b39a3a67ce73e12397726fa15ddecbd88e088a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/47d94c1a5080657946ac8891257d77499f4169af", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47d94c1a5080657946ac8891257d77499f4169af", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47d94c1a5080657946ac8891257d77499f4169af", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47d94c1a5080657946ac8891257d77499f4169af/comments", "author": null, "committer": null, "parents": [{"sha": "0e95aec103af4ec97f6d282b95882f2e0efb0b41", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e95aec103af4ec97f6d282b95882f2e0efb0b41", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e95aec103af4ec97f6d282b95882f2e0efb0b41"}], "stats": {"total": 32, "additions": 19, "deletions": 13}, "files": [{"sha": "d0ec33a3bdd16f5e149cc5c82cc66387cb1e7507", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47d94c1a5080657946ac8891257d77499f4169af/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47d94c1a5080657946ac8891257d77499f4169af/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=47d94c1a5080657946ac8891257d77499f4169af", "patch": "@@ -1,3 +1,13 @@\n+2007-10-31  Andreas Krebbel  <krebbel1@de.ibm.com>\n+\n+\t* config/rs6000/rs6000.opt: Rename -mdfp option to -mhard-dfp.\n+\n+\t* config/s390/s390.c: (override_options): Replace -mhard-dfp/-msoft-dfp\n+\twith -mhard-dfp/-mno-hard-dfp.\n+\t* config/s390/s390.opt: Likewise.\n+\t* config/s390/s390.h: Add MASK_HARD_DFP to the TARGET_DEFAULT\n+\tdefinition.\n+\n 2007-10-30  Janis Johnson  <janis187@us.ibm.com>\n \n \t* tree-ssa.c (execute_update_addresses_taken): Initialize update_vops."}, {"sha": "18ee8286c2cc022c790510ceae4cffb508e8a57c", "filename": "gcc/config/rs6000/rs6000.opt", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47d94c1a5080657946ac8891257d77499f4169af/gcc%2Fconfig%2Frs6000%2Frs6000.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47d94c1a5080657946ac8891257d77499f4169af/gcc%2Fconfig%2Frs6000%2Frs6000.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.opt?ref=47d94c1a5080657946ac8891257d77499f4169af", "patch": "@@ -75,7 +75,7 @@ maltivec\n Target Report Mask(ALTIVEC)\n Use AltiVec instructions\n \n-mdfp\n+mhard-dfp\n Target Report Mask(DFP)\n Use decimal floating point instructions\n "}, {"sha": "35e2fa6760162cf4aca998330c6c2f53aa401396", "filename": "gcc/config/s390/s390.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47d94c1a5080657946ac8891257d77499f4169af/gcc%2Fconfig%2Fs390%2Fs390.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47d94c1a5080657946ac8891257d77499f4169af/gcc%2Fconfig%2Fs390%2Fs390.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.c?ref=47d94c1a5080657946ac8891257d77499f4169af", "patch": "@@ -1448,9 +1448,9 @@ override_options (void)\n   if (TARGET_64BIT && !TARGET_ZARCH)\n     error (\"64-bit ABI not supported in ESA/390 mode\");\n \n-  if (TARGET_HARD_DFP && (!TARGET_CPU_DFP || !TARGET_ZARCH))\n+  if (TARGET_HARD_DFP && !TARGET_DFP)\n     {\n-      if (target_flags_explicit & MASK_SOFT_DFP)\n+      if (target_flags_explicit & MASK_HARD_DFP)\n \t{\n \t  if (!TARGET_CPU_DFP)\n \t    error (\"Hardware decimal floating point instructions\"\n@@ -1460,15 +1460,15 @@ override_options (void)\n \t\t   \" not available in ESA/390 mode\");\n \t}\n       else\n-\ttarget_flags |= MASK_SOFT_DFP;\n+\ttarget_flags &= ~MASK_HARD_DFP;\n     }\n \n   if ((target_flags_explicit & MASK_SOFT_FLOAT) && TARGET_SOFT_FLOAT)\n     {\n-      if ((target_flags_explicit & MASK_SOFT_DFP) && TARGET_HARD_DFP)\n+      if ((target_flags_explicit & MASK_HARD_DFP) && TARGET_HARD_DFP)\n \terror (\"-mhard-dfp can't be used in conjunction with -msoft-float\");\n \n-      target_flags |= MASK_SOFT_DFP;\n+      target_flags &= ~MASK_HARD_DFP;\n     }\n \n   /* Set processor cost function.  */"}, {"sha": "bd2102b4cef2a449e577c2ac5707f1ac1eb4a188", "filename": "gcc/config/s390/s390.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47d94c1a5080657946ac8891257d77499f4169af/gcc%2Fconfig%2Fs390%2Fs390.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47d94c1a5080657946ac8891257d77499f4169af/gcc%2Fconfig%2Fs390%2Fs390.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.h?ref=47d94c1a5080657946ac8891257d77499f4169af", "patch": "@@ -103,7 +103,7 @@ extern enum processor_flags s390_arch_flags;\n   while (0)\n \n #ifdef DEFAULT_TARGET_64BIT\n-#define TARGET_DEFAULT             (MASK_64BIT | MASK_ZARCH)\n+#define TARGET_DEFAULT             (MASK_64BIT | MASK_ZARCH | MASK_HARD_DFP)\n #else\n #define TARGET_DEFAULT             0\n #endif"}, {"sha": "72b336d02a5a0dce3a0182d3d47e26fed2d965dd", "filename": "gcc/config/s390/s390.opt", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47d94c1a5080657946ac8891257d77499f4169af/gcc%2Fconfig%2Fs390%2Fs390.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47d94c1a5080657946ac8891257d77499f4169af/gcc%2Fconfig%2Fs390%2Fs390.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.opt?ref=47d94c1a5080657946ac8891257d77499f4169af", "patch": "@@ -47,8 +47,8 @@ Target Report Mask(FUSED_MADD)\n Enable fused multiply/add instructions\n \n mhard-dfp\n-Target Report RejectNegative InverseMask(SOFT_DFP, HARD_DFP)\n-Enable hardware decimal floating point\n+Target Report Mask(HARD_DFP)\n+Enable decimal floating point hardware support\n \n mhard-float\n Target Report RejectNegative InverseMask(SOFT_FLOAT, HARD_FLOAT)\n@@ -70,10 +70,6 @@ msmall-exec\n Target Report Mask(SMALL_EXEC)\n Use bras for executable < 64k\n \n-msoft-dfp\n-Target Report RejectNegative Mask(SOFT_DFP)\n-Disable hardware decimal floating point\n-\n msoft-float\n Target Report RejectNegative Mask(SOFT_FLOAT)\n Disable hardware floating point"}]}