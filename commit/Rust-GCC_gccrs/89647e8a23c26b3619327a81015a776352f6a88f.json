{"sha": "89647e8a23c26b3619327a81015a776352f6a88f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODk2NDdlOGEyM2MyNmIzNjE5MzI3YTgxMDE1YTc3NjM1MmY2YTg4Zg==", "commit": {"author": {"name": "Loren J. Rittle", "email": "ljrittle@acm.org", "date": "2001-02-21T20:01:24Z"}, "committer": {"name": "Bruce Korb", "email": "korbb@gcc.gnu.org", "date": "2001-02-21T20:01:24Z"}, "message": "fix freebsd version check of GCC\n\nCo-Authored-By: Bruce Korb <bkorb@gnu.org>\n\nFrom-SVN: r39961", "tree": {"sha": "f84fc09035473b25fbb8a5a78b3e397a11605b18", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f84fc09035473b25fbb8a5a78b3e397a11605b18"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/89647e8a23c26b3619327a81015a776352f6a88f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89647e8a23c26b3619327a81015a776352f6a88f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/89647e8a23c26b3619327a81015a776352f6a88f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89647e8a23c26b3619327a81015a776352f6a88f/comments", "author": null, "committer": null, "parents": [{"sha": "e889f41a2b4cbf5c292e20c647beecc9047bd3b2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e889f41a2b4cbf5c292e20c647beecc9047bd3b2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e889f41a2b4cbf5c292e20c647beecc9047bd3b2"}], "stats": {"total": 288, "additions": 147, "deletions": 141}, "files": [{"sha": "d7a3a36b7e53ec6ff4ca03130c07b26872d649eb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89647e8a23c26b3619327a81015a776352f6a88f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89647e8a23c26b3619327a81015a776352f6a88f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=89647e8a23c26b3619327a81015a776352f6a88f", "patch": "@@ -1,3 +1,11 @@\n+2001-02-21  Loren J. Rittle  <ljrittle@acm.org>\n+\tBruce Korb  <bkorb@gnu.org>\n+\n+\t* fixinc/inclhack.def (freebsd_gcc3_breakage): new fix\n+\t* fixinc/README: Document how to convert sed substitutions\n+\tto format style c_fix-es.\n+\t* fixinc/fixincl.x: regen\n+\n 2001-02-21  Jeffrey D. Oldham  <oldham@codesourcery.com>\n \n \t* gcc.c: Add comment explaining how to add a command-line option."}, {"sha": "131300f6ba43acf3469bec03ecc29bb6532c73d8", "filename": "gcc/fixinc/README", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89647e8a23c26b3619327a81015a776352f6a88f/gcc%2Ffixinc%2FREADME", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89647e8a23c26b3619327a81015a776352f6a88f/gcc%2Ffixinc%2FREADME", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2FREADME?ref=89647e8a23c26b3619327a81015a776352f6a88f", "patch": "@@ -181,6 +181,25 @@ Here are the rules for making fixes in the inclhack.def file:\n         replaced.  You may delete text by supplying an empty string for\n         the format (the first \"c_fix_arg\").\n \n+\tNote: In general, a format c_fix may be used in place of one\n+\tsed expression.  However, it will need to be rewritten by\n+\thand.  For example:\n+\n+\tsed = 's@^#if __GNUC__ == 2 && __GNUC_MINOR__ >= 7$'\n+\t       '@& || __GNUC__ >= 3@';\n+\n+\tmay be rewritten using a format c_fix as:\n+\n+\tc_fix     = format;\n+\tc_fix_arg = '%0 || __GNUC__ >= 3';\n+\tc_fix_arg = '^#if __GNUC__ == 2 && __GNUC_MINOR__ >= 7$';\n+\n+\tMultiple sed substitution expressions probably ought to remain sed\n+\texpressions in order to maintain clarity.  Also note that if the\n+\tsecond sed expression is the same as the first select expression,\n+\tthen you may omit the second c_fix_arg.  The select expression will\n+\tbe picked up and used in its absence.\n+\n EXAMPLES OF FIXES:\n ==================\n "}, {"sha": "2fd2311bdb419ac5c81cfaa17057756967c4b131", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 99, "deletions": 102, "changes": 201, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89647e8a23c26b3619327a81015a776352f6a88f/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89647e8a23c26b3619327a81015a776352f6a88f/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=89647e8a23c26b3619327a81015a776352f6a88f", "patch": "@@ -1783,11 +1783,56 @@ static const char* apzFix_Header_BreakagePatch[] = {\n     \"extern double floor(), ceil(), fmod(), fabs _PARAMS((double));\",\n     (char*)NULL };\n \n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Freebsd_Gcc3_Breakage fix\n+ */\n+#define FREEBSD_GCC3_BREAKAGE_FIXIDX     41\n+tSCC zFreebsd_Gcc3_BreakageName[] =\n+     \"freebsd_gcc3_breakage\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zFreebsd_Gcc3_BreakageList[] =\n+  \"|sys/cdefs.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+tSCC* apzFreebsd_Gcc3_BreakageMachs[] = {\n+        \"*-*-freebsd*\",\n+        (const char*)NULL };\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zFreebsd_Gcc3_BreakageSelect0[] =\n+       \"^#if __GNUC__ == 2 && __GNUC_MINOR__ >= 7$\";\n+\n+/*\n+ *  content bypass pattern - skip fix if pattern found\n+ */\n+tSCC zFreebsd_Gcc3_BreakageBypass0[] =\n+       \"__GNUC__[ \\\\t]*([>=]=[ \\\\t]*[3-9]|>[ \\\\t]*2)\";\n+\n+#define    FREEBSD_GCC3_BREAKAGE_TEST_CT  2\n+static tTestDesc aFreebsd_Gcc3_BreakageTests[] = {\n+  { TT_NEGREP,   zFreebsd_Gcc3_BreakageBypass0, (regex_t*)NULL },\n+  { TT_EGREP,    zFreebsd_Gcc3_BreakageSelect0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Freebsd_Gcc3_Breakage\n+ */\n+static const char* apzFreebsd_Gcc3_BreakagePatch[] = {\n+    \"format\",\n+    \"%0 || __GNUC__ >= 3\",\n+    (char*)NULL };\n+\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Hp_Inline fix\n  */\n-#define HP_INLINE_FIXIDX                 41\n+#define HP_INLINE_FIXIDX                 42\n tSCC zHp_InlineName[] =\n      \"hp_inline\";\n \n@@ -1824,7 +1869,7 @@ static const char* apzHp_InlinePatch[] = {\n  *\n  *  Description of Hp_Sysfile fix\n  */\n-#define HP_SYSFILE_FIXIDX                42\n+#define HP_SYSFILE_FIXIDX                43\n tSCC zHp_SysfileName[] =\n      \"hp_sysfile\";\n \n@@ -1861,7 +1906,7 @@ static const char* apzHp_SysfilePatch[] = {\n  *\n  *  Description of Hpux11_Fabsf fix\n  */\n-#define HPUX11_FABSF_FIXIDX              43\n+#define HPUX11_FABSF_FIXIDX              44\n tSCC zHpux11_FabsfName[] =\n      \"hpux11_fabsf\";\n \n@@ -1906,7 +1951,7 @@ static const char* apzHpux11_FabsfPatch[] = {\n  *\n  *  Description of Hpux11_Uint32_C fix\n  */\n-#define HPUX11_UINT32_C_FIXIDX           44\n+#define HPUX11_UINT32_C_FIXIDX           45\n tSCC zHpux11_Uint32_CName[] =\n      \"hpux11_uint32_c\";\n \n@@ -1942,7 +1987,7 @@ static const char* apzHpux11_Uint32_CPatch[] = {\n  *\n  *  Description of Hpux8_Bogus_Inlines fix\n  */\n-#define HPUX8_BOGUS_INLINES_FIXIDX       45\n+#define HPUX8_BOGUS_INLINES_FIXIDX       46\n tSCC zHpux8_Bogus_InlinesName[] =\n      \"hpux8_bogus_inlines\";\n \n@@ -1980,7 +2025,7 @@ static const char* apzHpux8_Bogus_InlinesPatch[] = { \"sed\",\n  *\n  *  Description of Int_Abort_Free_And_Exit fix\n  */\n-#define INT_ABORT_FREE_AND_EXIT_FIXIDX   46\n+#define INT_ABORT_FREE_AND_EXIT_FIXIDX   47\n tSCC zInt_Abort_Free_And_ExitName[] =\n      \"int_abort_free_and_exit\";\n \n@@ -2016,7 +2061,7 @@ static const char* apzInt_Abort_Free_And_ExitPatch[] = {\n  *\n  *  Description of Isc_Omits_With_Stdc fix\n  */\n-#define ISC_OMITS_WITH_STDC_FIXIDX       47\n+#define ISC_OMITS_WITH_STDC_FIXIDX       48\n tSCC zIsc_Omits_With_StdcName[] =\n      \"isc_omits_with_stdc\";\n \n@@ -2052,7 +2097,7 @@ static const char* apzIsc_Omits_With_StdcPatch[] = {\n  *\n  *  Description of Io_Quotes_Def fix\n  */\n-#define IO_QUOTES_DEF_FIXIDX             48\n+#define IO_QUOTES_DEF_FIXIDX             49\n tSCC zIo_Quotes_DefName[] =\n      \"io_quotes_def\";\n \n@@ -2087,7 +2132,7 @@ static const char* apzIo_Quotes_DefPatch[] = {\n  *\n  *  Description of Io_Quotes_Use fix\n  */\n-#define IO_QUOTES_USE_FIXIDX             49\n+#define IO_QUOTES_USE_FIXIDX             50\n tSCC zIo_Quotes_UseName[] =\n      \"io_quotes_use\";\n \n@@ -2122,7 +2167,7 @@ static const char* apzIo_Quotes_UsePatch[] = {\n  *\n  *  Description of Hpux_Maxint fix\n  */\n-#define HPUX_MAXINT_FIXIDX               50\n+#define HPUX_MAXINT_FIXIDX               51\n tSCC zHpux_MaxintName[] =\n      \"hpux_maxint\";\n \n@@ -2175,7 +2220,7 @@ static const char* apzHpux_MaxintPatch[] = {\n  *\n  *  Description of Hpux_Systime fix\n  */\n-#define HPUX_SYSTIME_FIXIDX              51\n+#define HPUX_SYSTIME_FIXIDX              52\n tSCC zHpux_SystimeName[] =\n      \"hpux_systime\";\n \n@@ -2211,7 +2256,7 @@ static const char* apzHpux_SystimePatch[] = {\n  *\n  *  Description of Ip_Missing_Semi fix\n  */\n-#define IP_MISSING_SEMI_FIXIDX           52\n+#define IP_MISSING_SEMI_FIXIDX           53\n tSCC zIp_Missing_SemiName[] =\n      \"ip_missing_semi\";\n \n@@ -2246,7 +2291,7 @@ static const char* apzIp_Missing_SemiPatch[] = { \"sed\",\n  *\n  *  Description of Irix_Asm_Apostrophe fix\n  */\n-#define IRIX_ASM_APOSTROPHE_FIXIDX       53\n+#define IRIX_ASM_APOSTROPHE_FIXIDX       54\n tSCC zIrix_Asm_ApostropheName[] =\n      \"irix_asm_apostrophe\";\n \n@@ -2283,7 +2328,7 @@ static const char* apzIrix_Asm_ApostrophePatch[] = {\n  *\n  *  Description of Irix_Limits_Const fix\n  */\n-#define IRIX_LIMITS_CONST_FIXIDX         54\n+#define IRIX_LIMITS_CONST_FIXIDX         55\n tSCC zIrix_Limits_ConstName[] =\n      \"irix_limits_const\";\n \n@@ -2319,7 +2364,7 @@ static const char* apzIrix_Limits_ConstPatch[] = {\n  *\n  *  Description of Isc_Fmod fix\n  */\n-#define ISC_FMOD_FIXIDX                  55\n+#define ISC_FMOD_FIXIDX                  56\n tSCC zIsc_FmodName[] =\n      \"isc_fmod\";\n \n@@ -2355,7 +2400,7 @@ static const char* apzIsc_FmodPatch[] = {\n  *\n  *  Description of Kandr_Concat fix\n  */\n-#define KANDR_CONCAT_FIXIDX              56\n+#define KANDR_CONCAT_FIXIDX              57\n tSCC zKandr_ConcatName[] =\n      \"kandr_concat\";\n \n@@ -2391,7 +2436,7 @@ static const char* apzKandr_ConcatPatch[] = {\n  *\n  *  Description of Libc1_Ifdefd_Memx fix\n  */\n-#define LIBC1_IFDEFD_MEMX_FIXIDX         57\n+#define LIBC1_IFDEFD_MEMX_FIXIDX         58\n tSCC zLibc1_Ifdefd_MemxName[] =\n      \"libc1_ifdefd_memx\";\n \n@@ -2440,7 +2485,7 @@ extern [a-z_]+ mem.*(\\n\\\n  *\n  *  Description of Limits_Ifndefs fix\n  */\n-#define LIMITS_IFNDEFS_FIXIDX            58\n+#define LIMITS_IFNDEFS_FIXIDX            59\n tSCC zLimits_IfndefsName[] =\n      \"limits_ifndefs\";\n \n@@ -2479,7 +2524,7 @@ static const char* apzLimits_IfndefsPatch[] = {\n  *\n  *  Description of Lynx_Void_Int fix\n  */\n-#define LYNX_VOID_INT_FIXIDX             59\n+#define LYNX_VOID_INT_FIXIDX             60\n tSCC zLynx_Void_IntName[] =\n      \"lynx_void_int\";\n \n@@ -2515,7 +2560,7 @@ static const char* apzLynx_Void_IntPatch[] = {\n  *\n  *  Description of Lynxos_Fcntl_Proto fix\n  */\n-#define LYNXOS_FCNTL_PROTO_FIXIDX        60\n+#define LYNXOS_FCNTL_PROTO_FIXIDX        61\n tSCC zLynxos_Fcntl_ProtoName[] =\n      \"lynxos_fcntl_proto\";\n \n@@ -2552,7 +2597,7 @@ static const char* apzLynxos_Fcntl_ProtoPatch[] = {\n  *\n  *  Description of M88k_Bad_Hypot_Opt fix\n  */\n-#define M88K_BAD_HYPOT_OPT_FIXIDX        61\n+#define M88K_BAD_HYPOT_OPT_FIXIDX        62\n tSCC zM88k_Bad_Hypot_OptName[] =\n      \"m88k_bad_hypot_opt\";\n \n@@ -2601,7 +2646,7 @@ static __inline__ double fake_hypot (x, y)\\n\\\n  *\n  *  Description of M88k_Bad_S_If fix\n  */\n-#define M88K_BAD_S_IF_FIXIDX             62\n+#define M88K_BAD_S_IF_FIXIDX             63\n tSCC zM88k_Bad_S_IfName[] =\n      \"m88k_bad_s_if\";\n \n@@ -2640,7 +2685,7 @@ static const char* apzM88k_Bad_S_IfPatch[] = {\n  *\n  *  Description of M88k_Multi_Incl fix\n  */\n-#define M88K_MULTI_INCL_FIXIDX           63\n+#define M88K_MULTI_INCL_FIXIDX           64\n tSCC zM88k_Multi_InclName[] =\n      \"m88k_multi_incl\";\n \n@@ -2677,7 +2722,7 @@ static const char* apzM88k_Multi_InclPatch[] = {\n  *\n  *  Description of Machine_Ansi_H_Va_List fix\n  */\n-#define MACHINE_ANSI_H_VA_LIST_FIXIDX    64\n+#define MACHINE_ANSI_H_VA_LIST_FIXIDX    65\n tSCC zMachine_Ansi_H_Va_ListName[] =\n      \"machine_ansi_h_va_list\";\n \n@@ -2720,7 +2765,7 @@ static const char* apzMachine_Ansi_H_Va_ListPatch[] = {\n  *\n  *  Description of Machine_Name fix\n  */\n-#define MACHINE_NAME_FIXIDX              65\n+#define MACHINE_NAME_FIXIDX              66\n tSCC zMachine_NameName[] =\n      \"machine_name\";\n \n@@ -2753,7 +2798,7 @@ static const char* apzMachine_NamePatch[] = {\n  *\n  *  Description of Math_Exception fix\n  */\n-#define MATH_EXCEPTION_FIXIDX            66\n+#define MATH_EXCEPTION_FIXIDX            67\n tSCC zMath_ExceptionName[] =\n      \"math_exception\";\n \n@@ -2801,7 +2846,7 @@ static const char* apzMath_ExceptionPatch[] = {\n  *\n  *  Description of Math_Huge_Val_From_Dbl_Max fix\n  */\n-#define MATH_HUGE_VAL_FROM_DBL_MAX_FIXIDX 67\n+#define MATH_HUGE_VAL_FROM_DBL_MAX_FIXIDX 68\n tSCC zMath_Huge_Val_From_Dbl_MaxName[] =\n      \"math_huge_val_from_dbl_max\";\n \n@@ -2848,7 +2893,7 @@ static const char* apzMath_Huge_Val_From_Dbl_MaxPatch[] = { \"sh\", \"-c\",\n  *\n  *  Description of Math_Huge_Val_Ifndef fix\n  */\n-#define MATH_HUGE_VAL_IFNDEF_FIXIDX      68\n+#define MATH_HUGE_VAL_IFNDEF_FIXIDX      69\n tSCC zMath_Huge_Val_IfndefName[] =\n      \"math_huge_val_ifndef\";\n \n@@ -2887,7 +2932,7 @@ static const char* apzMath_Huge_Val_IfndefPatch[] = {\n  *\n  *  Description of Nested_Motorola fix\n  */\n-#define NESTED_MOTOROLA_FIXIDX           69\n+#define NESTED_MOTOROLA_FIXIDX           70\n tSCC zNested_MotorolaName[] =\n      \"nested_motorola\";\n \n@@ -2925,7 +2970,7 @@ static const char* apzNested_MotorolaPatch[] = { \"sed\",\n  *\n  *  Description of Nested_Sys_Limits fix\n  */\n-#define NESTED_SYS_LIMITS_FIXIDX         70\n+#define NESTED_SYS_LIMITS_FIXIDX         71\n tSCC zNested_Sys_LimitsName[] =\n      \"nested_sys_limits\";\n \n@@ -2961,7 +3006,7 @@ static const char* apzNested_Sys_LimitsPatch[] = { \"sed\",\n  *\n  *  Description of Nested_Auth_Des fix\n  */\n-#define NESTED_AUTH_DES_FIXIDX           71\n+#define NESTED_AUTH_DES_FIXIDX           72\n tSCC zNested_Auth_DesName[] =\n      \"nested_auth_des\";\n \n@@ -2997,7 +3042,7 @@ static const char* apzNested_Auth_DesPatch[] = {\n  *\n  *  Description of News_Os_Recursion fix\n  */\n-#define NEWS_OS_RECURSION_FIXIDX         72\n+#define NEWS_OS_RECURSION_FIXIDX         73\n tSCC zNews_Os_RecursionName[] =\n      \"news_os_recursion\";\n \n@@ -3035,7 +3080,7 @@ static const char* apzNews_Os_RecursionPatch[] = {\n  *\n  *  Description of Next_Math_Prefix fix\n  */\n-#define NEXT_MATH_PREFIX_FIXIDX          73\n+#define NEXT_MATH_PREFIX_FIXIDX          74\n tSCC zNext_Math_PrefixName[] =\n      \"next_math_prefix\";\n \n@@ -3072,7 +3117,7 @@ static const char* apzNext_Math_PrefixPatch[] = {\n  *\n  *  Description of Next_Template fix\n  */\n-#define NEXT_TEMPLATE_FIXIDX             74\n+#define NEXT_TEMPLATE_FIXIDX             75\n tSCC zNext_TemplateName[] =\n      \"next_template\";\n \n@@ -3109,7 +3154,7 @@ static const char* apzNext_TemplatePatch[] = {\n  *\n  *  Description of Next_Volitile fix\n  */\n-#define NEXT_VOLITILE_FIXIDX             75\n+#define NEXT_VOLITILE_FIXIDX             76\n tSCC zNext_VolitileName[] =\n      \"next_volitile\";\n \n@@ -3146,7 +3191,7 @@ static const char* apzNext_VolitilePatch[] = {\n  *\n  *  Description of Next_Wait_Union fix\n  */\n-#define NEXT_WAIT_UNION_FIXIDX           76\n+#define NEXT_WAIT_UNION_FIXIDX           77\n tSCC zNext_Wait_UnionName[] =\n      \"next_wait_union\";\n \n@@ -3182,7 +3227,7 @@ static const char* apzNext_Wait_UnionPatch[] = {\n  *\n  *  Description of Nodeent_Syntax fix\n  */\n-#define NODEENT_SYNTAX_FIXIDX            77\n+#define NODEENT_SYNTAX_FIXIDX            78\n tSCC zNodeent_SyntaxName[] =\n      \"nodeent_syntax\";\n \n@@ -3218,7 +3263,7 @@ static const char* apzNodeent_SyntaxPatch[] = {\n  *\n  *  Description of Osf_Namespace_A fix\n  */\n-#define OSF_NAMESPACE_A_FIXIDX           78\n+#define OSF_NAMESPACE_A_FIXIDX           79\n tSCC zOsf_Namespace_AName[] =\n      \"osf_namespace_a\";\n \n@@ -3264,7 +3309,7 @@ static const char* apzOsf_Namespace_APatch[] = {\n  *\n  *  Description of Osf_Namespace_C fix\n  */\n-#define OSF_NAMESPACE_C_FIXIDX           79\n+#define OSF_NAMESPACE_C_FIXIDX           80\n tSCC zOsf_Namespace_CName[] =\n      \"osf_namespace_c\";\n \n@@ -3319,7 +3364,7 @@ typedef __regmatch_t\\tregmatch_t;\",\n  *\n  *  Description of Pthread_Page_Size fix\n  */\n-#define PTHREAD_PAGE_SIZE_FIXIDX         80\n+#define PTHREAD_PAGE_SIZE_FIXIDX         81\n tSCC zPthread_Page_SizeName[] =\n      \"pthread_page_size\";\n \n@@ -3355,7 +3400,7 @@ static const char* apzPthread_Page_SizePatch[] = {\n  *\n  *  Description of Read_Ret_Type fix\n  */\n-#define READ_RET_TYPE_FIXIDX             81\n+#define READ_RET_TYPE_FIXIDX             82\n tSCC zRead_Ret_TypeName[] =\n      \"read_ret_type\";\n \n@@ -3393,7 +3438,7 @@ static const char* apzRead_Ret_TypePatch[] = {\n  *\n  *  Description of Rs6000_Double fix\n  */\n-#define RS6000_DOUBLE_FIXIDX             82\n+#define RS6000_DOUBLE_FIXIDX             83\n tSCC zRs6000_DoubleName[] =\n      \"rs6000_double\";\n \n@@ -3432,7 +3477,7 @@ static const char* apzRs6000_DoublePatch[] = {\n  *\n  *  Description of Rs6000_Fchmod fix\n  */\n-#define RS6000_FCHMOD_FIXIDX             83\n+#define RS6000_FCHMOD_FIXIDX             84\n tSCC zRs6000_FchmodName[] =\n      \"rs6000_fchmod\";\n \n@@ -3468,7 +3513,7 @@ static const char* apzRs6000_FchmodPatch[] = {\n  *\n  *  Description of Rs6000_Param fix\n  */\n-#define RS6000_PARAM_FIXIDX              84\n+#define RS6000_PARAM_FIXIDX              85\n tSCC zRs6000_ParamName[] =\n      \"rs6000_param\";\n \n@@ -3504,7 +3549,7 @@ static const char* apzRs6000_ParamPatch[] = {\n  *\n  *  Description of Sco_Static_Func fix\n  */\n-#define SCO_STATIC_FUNC_FIXIDX           85\n+#define SCO_STATIC_FUNC_FIXIDX           86\n tSCC zSco_Static_FuncName[] =\n      \"sco_static_func\";\n \n@@ -3544,44 +3589,6 @@ extern \\\"C\\\" {\\\\\\n\\\n #endif /* __cplusplus */\",\n     (char*)NULL };\n \n-/* * * * * * * * * * * * * * * * * * * * * * * * * *\n- *\n- *  Description of Sco_Strict_Ansi fix\n- */\n-#define SCO_STRICT_ANSI_FIXIDX           86\n-tSCC zSco_Strict_AnsiName[] =\n-     \"sco_strict_ansi\";\n-\n-/*\n- *  File name selection pattern\n- */\n-#define zSco_Strict_AnsiList (char*)NULL\n-/*\n- *  Machine/OS name selection pattern\n- */\n-tSCC* apzSco_Strict_AnsiMachs[] = {\n-        \"i?86-*-sco3.2*\",\n-        (const char*)NULL };\n-\n-/*\n- *  content selection pattern - do fix if pattern found\n- */\n-tSCC zSco_Strict_AnsiSelect0[] =\n-       \"^[ \\t]*#[ \\t]*if.*!__STDC__\";\n-\n-#define    SCO_STRICT_ANSI_TEST_CT  1\n-static tTestDesc aSco_Strict_AnsiTests[] = {\n-  { TT_EGREP,    zSco_Strict_AnsiSelect0, (regex_t*)NULL }, };\n-\n-/*\n- *  Fix Command Arguments for Sco_Strict_Ansi\n- */\n-static const char* apzSco_Strict_AnsiPatch[] = {\n-    \"format\",\n-    \"%1defined(__STRICT_ANSI__)%2\",\n-    \"^([ \\t]*#[ \\t]*if[ \\t].*!)__STDC__(.*)\",\n-    (char*)NULL };\n-\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Strict_Ansi_Not fix\n@@ -3597,11 +3604,7 @@ tSCC zStrict_Ansi_NotName[] =\n /*\n  *  Machine/OS name selection pattern\n  */\n-tSCC* apzStrict_Ansi_NotMachs[] = {\n-        \"*-*-sysv4*\",\n-        \"i[34567]86-*-sysv5*\",\n-        \"i[34567]86-*-udk*\",\n-        (const char*)NULL };\n+#define apzStrict_Ansi_NotMachs (const char**)NULL\n \n /*\n  *  content selection pattern - do fix if pattern found\n@@ -3637,9 +3640,7 @@ tSCC zStrict_Ansi_Not_CtdList[] =\n /*\n  *  Machine/OS name selection pattern\n  */\n-tSCC* apzStrict_Ansi_Not_CtdMachs[] = {\n-        \"i[34567]86-*-sysv5*\",\n-        (const char*)NULL };\n+#define apzStrict_Ansi_Not_CtdMachs (const char**)NULL\n \n /*\n  *  content selection pattern - do fix if pattern found\n@@ -3674,11 +3675,7 @@ tSCC zStrict_Ansi_OnlyName[] =\n /*\n  *  Machine/OS name selection pattern\n  */\n-tSCC* apzStrict_Ansi_OnlyMachs[] = {\n-        \"*-*-sysv4*\",\n-        \"i[34567]86-*-sysv5*\",\n-        \"i[34567]86-*-udk\",\n-        (const char*)NULL };\n+#define apzStrict_Ansi_OnlyMachs (const char**)NULL\n \n /*\n  *  content selection pattern - do fix if pattern found\n@@ -5430,7 +5427,7 @@ static const char* apzX11_SprintfPatch[] = {\n  *\n  *  List of all fixes\n  */\n-#define REGEX_COUNT          139\n+#define REGEX_COUNT          140\n #define MACH_LIST_SIZE_LIMIT 279\n #define FIX_COUNT            134\n \n@@ -5640,6 +5637,11 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      FIX_HEADER_BREAKAGE_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aFix_Header_BreakageTests,   apzFix_Header_BreakagePatch, 0 },\n \n+  {  zFreebsd_Gcc3_BreakageName,    zFreebsd_Gcc3_BreakageList,\n+     apzFreebsd_Gcc3_BreakageMachs,\n+     FREEBSD_GCC3_BREAKAGE_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aFreebsd_Gcc3_BreakageTests,   apzFreebsd_Gcc3_BreakagePatch, 0 },\n+\n   {  zHp_InlineName,    zHp_InlineList,\n      apzHp_InlineMachs,\n      HP_INLINE_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n@@ -5865,11 +5867,6 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      SCO_STATIC_FUNC_TEST_CT, FD_MACH_ONLY,\n      aSco_Static_FuncTests,   apzSco_Static_FuncPatch, 0 },\n \n-  {  zSco_Strict_AnsiName,    zSco_Strict_AnsiList,\n-     apzSco_Strict_AnsiMachs,\n-     SCO_STRICT_ANSI_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n-     aSco_Strict_AnsiTests,   apzSco_Strict_AnsiPatch, 0 },\n-\n   {  zStrict_Ansi_NotName,    zStrict_Ansi_NotList,\n      apzStrict_Ansi_NotMachs,\n      STRICT_ANSI_NOT_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,"}, {"sha": "bc43c3c0aaa45bd33ca27cc2219ac79fe1bcfd42", "filename": "gcc/fixinc/inclhack.def", "status": "modified", "additions": 21, "deletions": 39, "changes": 60, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89647e8a23c26b3619327a81015a776352f6a88f/gcc%2Ffixinc%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89647e8a23c26b3619327a81015a776352f6a88f/gcc%2Ffixinc%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.def?ref=89647e8a23c26b3619327a81015a776352f6a88f", "patch": "@@ -1030,6 +1030,23 @@ fix = {\n };\n \n \n+/*\n+ *  Between 8/24/1998 and 2/17/2001, FreeBSD system headers presume\n+ *  neither the existence of GCC 3 nor its exact feature set yet break\n+ *  (by design?) when __GNUC__ is set beyond 2.\n+ */\n+fix = {\n+    hackname  = freebsd_gcc3_breakage;\n+    mach      = *-*-freebsd*;\n+    files     = sys/cdefs.h;\n+    select    = '^#if __GNUC__ == 2 && __GNUC_MINOR__ >= 7$';\n+    bypass    = '__GNUC__[ \\t]*([>=]=[ \\t]*[3-9]|>[ \\t]*2)';\n+    c_fix     = format;\n+    c_fix_arg = '%0 || __GNUC__ >= 3';\n+    test_text = '#if __GNUC__ == 2 && __GNUC_MINOR__ >= 7';\n+};\n+\n+\n /*\n  *  Fix HP & Sony's use of \"../machine/xxx.h\"\n  *  to refer to:  <machine/xxx.h>\n@@ -1903,30 +1920,12 @@ fix = {\n };\n \n \n-/*\n- *  \"!__STDC__\" is \"!defined( __STRICT_ANSI__ )\"\n- */\n-fix = {\n-    hackname = sco_strict_ansi;\n-    mach     = \"i?86-*-sco3.2*\";\n-    select   = \"^[ \\t]*#[ \\t]*if.*!__STDC__\";\n-\n-    c_fix     = format;\n-    c_fix_arg = \"%1defined(__STRICT_ANSI__)%2\";\n-    c_fix_arg = \"^([ \\t]*#[ \\t]*if[ \\t].*!)__STDC__(.*)\";\n-\n-    test_text = \"#if !__STDC__ /* not standard C */\\nint foo;\\n#endif\";\n-};\n-\n /*\n  *  \"!__STDC__\" or \"__STDC__==0\" or \"__STDC__!=1\" or \"__STDC__-0==0\"\n  *  is \"!defined( __STRICT_ANSI__ )\"\n  */\n fix = {\n     hackname = strict_ansi_not;\n-    mach=\"*-*-sysv4*\";\n-    mach=\"i[34567]86-*-sysv5*\";\n-    mach=\"i[34567]86-*-udk*\";\n     select   = \"^([ \\t]*#[ \\t]*if.*)\"\n                \"(!__STDC__\"\n                \"|__STDC__[ \\t]*==[ \\t]*0\"\n@@ -1937,8 +1936,10 @@ fix = {\n     c_fix     = format;\n     c_fix_arg = \"%1 !defined(__STRICT_ANSI__)%3\";\n \n-    test_text = \"#if !__STDC__ || __STDC__ == 0 || __STDC__ != 1\"\n-               \"|| __STDC__ - 0 == 0\"\n+    test_text = \"#if !__STDC__ \\n\"\n+                \"#if __STDC__ == 0\\n\"\n+                \"#if __STDC__ != 1\\n\"\n+                \"#if __STDC__ - 0 == 0\"\n                \"/* not std C */\\nint foo;\\n#endif\";\n };\n \n@@ -1954,7 +1955,6 @@ fix = {\n     files=\"signal.h\";\n     files=\"stdlib.h\";\n     files=\"time.h\";\n-    mach=\"i[34567]86-*-sysv5*\";\n     select   = \"^([ \\t]*[|&][|&][ \\t(]*)\"\n                \"(__STDC__[ \\t]*-[ \\t]*0[ \\t]*==[ \\t]*0\"\n                \")(.*)\";\n@@ -1972,9 +1972,6 @@ fix = {\n  */\n fix = {\n     hackname = strict_ansi_only;\n-    mach=\"*-*-sysv4*\";\n-    mach=\"i[34567]86-*-sysv5*\";\n-    mach=\"i[34567]86-*-udk\";\n     select   = \"^([ \\t]*#[ \\t]*if.*)\"\n                \"(__STDC__[ \\t]*!=[ \\t]*0\"\n                \"|__STDC__[ \\t]*==[ \\t]*1\"\n@@ -2120,21 +2117,6 @@ fix = {\n };\n \n \n-/*\n- *  Check for strict ansi compliance\n- */\n-#ifdef STRICT_ANSI\n-fix = {\n-    hackname = strict_ansi;\n-    select   = \"__STDC__[ \\t]*[=!]=[ \\t]*[01]\";\n-    sed      = \"s/__STDC__[ \\t]*==[ \\t]*0/!defined (__STRICT_ANSI__)/g\";\n-    sed      = \"s/__STDC__[ \\t]*!=[ \\t]*0/defined (__STRICT_ANSI__)/g\";\n-    sed      = \"s/__STDC__[ \\t]*==[ \\t]*1/defined (__STRICT_ANSI__)/g\";\n-    sed      = \"s/__STDC__[ \\t]*!=[ \\t]*1/!defined (__STRICT_ANSI__)/g\";\n-};\n-#endif\n-\n-\n /*\n  *  IRIX 4.0.5 <rpc/xdr.h> uses struct __file_s\n  *  in prototype without previous definition."}]}