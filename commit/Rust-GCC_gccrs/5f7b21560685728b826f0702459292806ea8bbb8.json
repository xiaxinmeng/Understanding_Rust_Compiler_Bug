{"sha": "5f7b21560685728b826f0702459292806ea8bbb8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWY3YjIxNTYwNjg1NzI4YjgyNmYwNzAyNDU5MjkyODA2ZWE4YmJiOA==", "commit": {"author": {"name": "Andrew Pinski", "email": "apinski@apple.com", "date": "2004-07-07T21:28:01Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2004-07-07T21:28:01Z"}, "message": "re PR tree-optimization/15777 (Fold does not always fold sub trees)\n\n2004-07-07  Andrew Pinski  <apinski@apple.com>\n\n        PR tree-optimization/15777\n        * fold-const.c (fold_single_bit_test): Fold the x^1 expression.\n\nFrom-SVN: r84231", "tree": {"sha": "bb630ebdf8d40067ec29827b4078b9705fae0a5f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bb630ebdf8d40067ec29827b4078b9705fae0a5f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5f7b21560685728b826f0702459292806ea8bbb8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f7b21560685728b826f0702459292806ea8bbb8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f7b21560685728b826f0702459292806ea8bbb8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f7b21560685728b826f0702459292806ea8bbb8/comments", "author": null, "committer": null, "parents": [{"sha": "3a18db48e967ad9d788c1ffc1eae3d1ecd99f903", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a18db48e967ad9d788c1ffc1eae3d1ecd99f903", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3a18db48e967ad9d788c1ffc1eae3d1ecd99f903"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "af05838a9343146966b5a54a14145bb26e2a161b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f7b21560685728b826f0702459292806ea8bbb8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f7b21560685728b826f0702459292806ea8bbb8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5f7b21560685728b826f0702459292806ea8bbb8", "patch": "@@ -1,5 +1,8 @@\n 2004-07-07  Andrew Pinski  <apinski@apple.com>\n \n+\tPR tree-optimization/15777\n+\t* fold-const.c (fold_single_bit_test): Fold the x^1 expression.\n+\n \t* expr.c (expand_expr_real_1): Fix formating.\n \tBUFFER_REF and IN_EXPR are dead.\n \t* fold-const.c (non_lvalue): BUFFER_REF is dead."}, {"sha": "ca042501590df8c52e4284f535313c308ee5ba38", "filename": "gcc/fold-const.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f7b21560685728b826f0702459292806ea8bbb8/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f7b21560685728b826f0702459292806ea8bbb8/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=5f7b21560685728b826f0702459292806ea8bbb8", "patch": "@@ -5849,8 +5849,8 @@ fold_single_bit_test (enum tree_code code, tree arg0, tree arg1,\n \t\t\tinner, size_int (bitnum));\n \n       if (code == EQ_EXPR)\n-\tinner = build2 (BIT_XOR_EXPR, intermediate_type,\n-\t\t\tinner, integer_one_node);\n+\tinner = fold (build2 (BIT_XOR_EXPR, intermediate_type,\n+\t\t\t      inner, integer_one_node));\n \n       /* Put the AND last so it can combine with more things.  */\n       inner = build2 (BIT_AND_EXPR, intermediate_type,"}]}