{"sha": "ba72e5a66f9ee1bb2d0385c2242c91a154798a90", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmE3MmU1YTY2ZjllZTFiYjJkMDM4NWMyMjQyYzkxYTE1NDc5OGE5MA==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@axis.com", "date": "2001-09-04T13:47:28Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2001-09-04T13:47:28Z"}, "message": "rtl.texi: Mention that besides as a CODE_LABEL...\n\n\t* doc/rtl.texi: Mention that besides as a CODE_LABEL, a label can\n\tsometimes be represented as a NOTE of type\n\tNOTE_INSN_DELETED_LABEL.\n\t(Insns): Document NOTE_INSN_DELETED_LABEL.\n\nFrom-SVN: r45378", "tree": {"sha": "fd3832aa84607835d03786526f04180c6963801b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fd3832aa84607835d03786526f04180c6963801b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ba72e5a66f9ee1bb2d0385c2242c91a154798a90", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba72e5a66f9ee1bb2d0385c2242c91a154798a90", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ba72e5a66f9ee1bb2d0385c2242c91a154798a90", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba72e5a66f9ee1bb2d0385c2242c91a154798a90/comments", "author": {"login": "hpataxisdotcom", "id": 80339731, "node_id": "MDQ6VXNlcjgwMzM5NzMx", "avatar_url": "https://avatars.githubusercontent.com/u/80339731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hpataxisdotcom", "html_url": "https://github.com/hpataxisdotcom", "followers_url": "https://api.github.com/users/hpataxisdotcom/followers", "following_url": "https://api.github.com/users/hpataxisdotcom/following{/other_user}", "gists_url": "https://api.github.com/users/hpataxisdotcom/gists{/gist_id}", "starred_url": "https://api.github.com/users/hpataxisdotcom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hpataxisdotcom/subscriptions", "organizations_url": "https://api.github.com/users/hpataxisdotcom/orgs", "repos_url": "https://api.github.com/users/hpataxisdotcom/repos", "events_url": "https://api.github.com/users/hpataxisdotcom/events{/privacy}", "received_events_url": "https://api.github.com/users/hpataxisdotcom/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "24697ca0c5ddbafc01308f84335a81e6cce4a0ee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24697ca0c5ddbafc01308f84335a81e6cce4a0ee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/24697ca0c5ddbafc01308f84335a81e6cce4a0ee"}], "stats": {"total": 32, "additions": 26, "deletions": 6}, "files": [{"sha": "d4b156383d0b5c7c3b5da421f056ad6bbf929b37", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba72e5a66f9ee1bb2d0385c2242c91a154798a90/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba72e5a66f9ee1bb2d0385c2242c91a154798a90/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ba72e5a66f9ee1bb2d0385c2242c91a154798a90", "patch": "@@ -1,3 +1,10 @@\n+2001-09-04  Hans-Peter Nilsson  <hp@axis.com>\n+\n+\t* doc/rtl.texi: Mention that besides as a CODE_LABEL, a label can\n+\tsometimes be represented as a NOTE of type\n+\tNOTE_INSN_DELETED_LABEL.\n+\t(Insns): Document NOTE_INSN_DELETED_LABEL.\n+\n 2001-09-04  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* c-common.h (tree_dump_index): Add more comments."}, {"sha": "75cec63fa18dc3b7afb57272a94c6d47423735e5", "filename": "gcc/doc/rtl.texi", "status": "modified", "additions": 19, "deletions": 6, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba72e5a66f9ee1bb2d0385c2242c91a154798a90/gcc%2Fdoc%2Frtl.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba72e5a66f9ee1bb2d0385c2242c91a154798a90/gcc%2Fdoc%2Frtl.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Frtl.texi?ref=ba72e5a66f9ee1bb2d0385c2242c91a154798a90", "patch": "@@ -659,7 +659,9 @@ outside the innermost loop containing the insn in which the @code{label_ref}\n was found.\n \n In @code{code_label} expressions, it is 1 if the label may never be deleted.\n-This is used for labels which are the target of non-local gotos.\n+This is used for labels which are the target of non-local gotos.  Such a\n+label that would have been deleted is replaced with a @code{note} of type\n+@code{NOTE_INSN_DELETED_LABEL}.\n \n In an RTL dump, this flag is represented as @samp{/s}.\n \n@@ -1080,9 +1082,9 @@ Usually that is the only mode for which a symbol is directly valid.\n @findex label_ref\n @item (label_ref @var{label})\n Represents the value of an assembler label for code.  It contains one\n-operand, an expression, which must be a @code{code_label} that appears\n-in the instruction sequence to identify the place where the label\n-should go.\n+operand, an expression, which must be a @code{code_label} or a @code{note}\n+of type @code{NOTE_INSN_DELETED_LABEL} that appears in the instruction\n+sequence to identify the place where the label should go.\n \n The reason for using a distinct expression type for code label\n references is so that jump optimization can distinguish them.\n@@ -2625,6 +2627,9 @@ When a @code{code_label} appears in an RTL expression, it normally\n appears within a @code{label_ref} which represents the address of\n the label, as a number.\n \n+Besides as a @code{code_label}, a label can also be represented as a\n+@code{note} of type @code{NOTE_INSN_DELETED_LABEL}.\n+\n @findex LABEL_NUSES\n The field @code{LABEL_NUSES} is only defined once the jump optimization\n phase is completed and contains the number of times this label is\n@@ -2667,6 +2672,12 @@ must contain a null pointer):\n Such a note is completely ignorable.  Some passes of the compiler\n delete insns by altering them into notes of this kind.\n \n+@findex NOTE_INSN_DELETED_LABEL\n+@item NOTE_INSN_DELETED_LABEL\n+This marks what used to be a @code{code_label}, but was not used for other\n+purposes than taking its address and was transformed to mark that no\n+code jumps to it.\n+\n @findex NOTE_INSN_BLOCK_BEG\n @findex NOTE_INSN_BLOCK_END\n @item NOTE_INSN_BLOCK_BEG\n@@ -2681,7 +2692,8 @@ of debugging information.\n @itemx NOTE_INSN_EH_REGION_END\n These types of notes indicate the position of the beginning and end of a\n level of scoping for exception handling.  @code{NOTE_BLOCK_NUMBER}\n-identifies which @code{CODE_LABEL} is associated with the given region.\n+identifies which @code{CODE_LABEL} or @code{note} of type\n+@code{NOTE_INSN_DELETED_LABEL} is associated with the given region.\n \n @findex NOTE_INSN_LOOP_BEG\n @findex NOTE_INSN_LOOP_END\n@@ -2876,7 +2888,8 @@ last insns, respectively.\n \n @findex REG_LABEL\n @item REG_LABEL\n-This insn uses @var{op}, a @code{code_label}, but is not a\n+This insn uses @var{op}, a @code{code_label} or a @code{note} of type\n+@code{NOTE_INSN_DELETED_LABEL}, but is not a\n @code{jump_insn}, or it is a @code{jump_insn} that required the label to\n be held in a register.  The presence of this note allows jump\n optimization to be aware that @var{op} is, in fact, being used, and flow"}]}