{"sha": "623443357e6092067b4cf98cc6c0aeff7560b98d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjIzNDQzMzU3ZTYwOTIwNjdiNGNmOThjYzZjMGFlZmY3NTYwYjk4ZA==", "commit": {"author": {"name": "Patrick Palka", "email": "ppalka@redhat.com", "date": "2020-09-28T15:54:57Z"}, "committer": {"name": "Patrick Palka", "email": "ppalka@redhat.com", "date": "2020-09-28T15:54:57Z"}, "message": "libstdc++: Reduce the size of an unbounded iota_view\n\nlibstdc++-v3/ChangeLog:\n\n\t* include/std/ranges (iota_view::_M_bound): Give it\n\t[[no_unique_address]].\n\t* testsuite/std/ranges/iota/iota_view.cc: Check that an\n\tunbounded iota_view has minimal size.", "tree": {"sha": "87bf249f1bee788fc5993a409e6807e31c266004", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/87bf249f1bee788fc5993a409e6807e31c266004"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/623443357e6092067b4cf98cc6c0aeff7560b98d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/623443357e6092067b4cf98cc6c0aeff7560b98d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/623443357e6092067b4cf98cc6c0aeff7560b98d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/623443357e6092067b4cf98cc6c0aeff7560b98d/comments", "author": null, "committer": null, "parents": [{"sha": "e189d5c931c5d94fd7487a2d1df9454d0b124eeb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e189d5c931c5d94fd7487a2d1df9454d0b124eeb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e189d5c931c5d94fd7487a2d1df9454d0b124eeb"}], "stats": {"total": 5, "additions": 4, "deletions": 1}, "files": [{"sha": "964a2b616a6fcfd185b72b2e2a16ffd557c0110b", "filename": "libstdc++-v3/include/std/ranges", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/623443357e6092067b4cf98cc6c0aeff7560b98d/libstdc%2B%2B-v3%2Finclude%2Fstd%2Franges", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/623443357e6092067b4cf98cc6c0aeff7560b98d/libstdc%2B%2B-v3%2Finclude%2Fstd%2Franges", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Franges?ref=623443357e6092067b4cf98cc6c0aeff7560b98d", "patch": "@@ -511,7 +511,7 @@ namespace ranges\n       };\n \n       _Winc _M_value = _Winc();\n-      _Bound _M_bound = _Bound();\n+      [[no_unique_address]] _Bound _M_bound = _Bound();\n \n     public:\n       iota_view() = default;"}, {"sha": "8a33e10a093c368e19facbc941fbdf71aa1383dd", "filename": "libstdc++-v3/testsuite/std/ranges/iota/iota_view.cc", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/623443357e6092067b4cf98cc6c0aeff7560b98d/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fiota%2Fiota_view.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/623443357e6092067b4cf98cc6c0aeff7560b98d/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fiota%2Fiota_view.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fiota%2Fiota_view.cc?ref=623443357e6092067b4cf98cc6c0aeff7560b98d", "patch": "@@ -77,6 +77,9 @@ test04()\n   VERIFY( it == v.end() );\n }\n \n+// Verify we optimize away the 'bound' data member of an unbounded iota_view.\n+static_assert(sizeof(std::ranges::iota_view<char>) == 1);\n+\n int\n main()\n {"}]}