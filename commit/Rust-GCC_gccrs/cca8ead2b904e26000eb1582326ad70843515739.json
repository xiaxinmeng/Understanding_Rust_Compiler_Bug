{"sha": "cca8ead2b904e26000eb1582326ad70843515739", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2NhOGVhZDJiOTA0ZTI2MDAwZWIxNTgyMzI2YWQ3MDg0MzUxNTczOQ==", "commit": {"author": {"name": "Bernardo Innocenti", "email": "bernie@develer.com", "date": "2004-07-26T01:33:36Z"}, "committer": {"name": "Bernardo Innocenti", "email": "bernie@gcc.gnu.org", "date": "2004-07-26T01:33:36Z"}, "message": "gengtype.c (oprintf): Replace xrealloc () with XRESIZEVEC ().\n\n\t* gengtype.c (oprintf): Replace xrealloc () with XRESIZEVEC ().\n\t* gengtype-yacc.y: Likewise.  Replace free() with XDELETE ().\n\t* c-typeck.c (PUSH_SPELLING): Remove redundant NULL-pointer\n\tcheck on invocation of XRESIZEVEC ().\n\nFrom-SVN: r85177", "tree": {"sha": "2c323cc3545b18cb0361f9382cb56f7cddeec8d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2c323cc3545b18cb0361f9382cb56f7cddeec8d2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cca8ead2b904e26000eb1582326ad70843515739", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cca8ead2b904e26000eb1582326ad70843515739", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cca8ead2b904e26000eb1582326ad70843515739", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cca8ead2b904e26000eb1582326ad70843515739/comments", "author": {"login": "codewiz", "id": 1184492, "node_id": "MDQ6VXNlcjExODQ0OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1184492?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codewiz", "html_url": "https://github.com/codewiz", "followers_url": "https://api.github.com/users/codewiz/followers", "following_url": "https://api.github.com/users/codewiz/following{/other_user}", "gists_url": "https://api.github.com/users/codewiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/codewiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codewiz/subscriptions", "organizations_url": "https://api.github.com/users/codewiz/orgs", "repos_url": "https://api.github.com/users/codewiz/repos", "events_url": "https://api.github.com/users/codewiz/events{/privacy}", "received_events_url": "https://api.github.com/users/codewiz/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1ad463f4932ebb6224f1155bced2dda6aedd686f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ad463f4932ebb6224f1155bced2dda6aedd686f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ad463f4932ebb6224f1155bced2dda6aedd686f"}], "stats": {"total": 20, "additions": 12, "deletions": 8}, "files": [{"sha": "a44180fe3c82f72abc76288a7e27acc7f739d06b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cca8ead2b904e26000eb1582326ad70843515739/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cca8ead2b904e26000eb1582326ad70843515739/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cca8ead2b904e26000eb1582326ad70843515739", "patch": "@@ -1,3 +1,10 @@\n+2004-07-26  Bernardo Innocenti  <bernie@develer.com>\n+\n+\t* gengtype.c (oprintf): Replace xrealloc () with XRESIZEVEC ().\n+\t* gengtype-yacc.y: Likewise.  Replace free() with XDELETE ().\n+\t* c-typeck.c (PUSH_SPELLING): Remove redundant NULL-pointer\n+\tcheck on invocation of XRESIZEVEC ().\n+\n 2004-07-26  Bernardo Innocenti  <bernie@develer.com>\n \n \t* c-common.c (disable_builtin_function): Rename variable n to"}, {"sha": "9f88d6fc05b6e61f49f3b39bdfd037a7f23b685f", "filename": "gcc/c-typeck.c", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cca8ead2b904e26000eb1582326ad70843515739/gcc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cca8ead2b904e26000eb1582326ad70843515739/gcc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-typeck.c?ref=cca8ead2b904e26000eb1582326ad70843515739", "patch": "@@ -3755,11 +3755,8 @@ static int spelling_size;\t\t/* Size of the spelling stack.  */\n   if (depth >= spelling_size)\t\t\t\t\t\t\\\n     {\t\t\t\t\t\t\t\t\t\\\n       spelling_size += 10;\t\t\t\t\t\t\\\n-      if (spelling_base == 0)\t\t\t\t\t\t\\\n-\tspelling_base = XNEWVEC (struct spelling, spelling_size);\t\\\n-      else\t\t\t\t\t\t\t\t\\\n-        spelling_base = XRESIZEVEC (struct spelling, spelling_base,\t\\\n-\t\t\t\t    spelling_size);\t\t\t\\\n+      spelling_base = XRESIZEVEC (struct spelling, spelling_base,\t\\\n+\t\t\t\t  spelling_size);\t\t\t\\\n       RESTORE_SPELLING_DEPTH (depth);\t\t\t\t\t\\\n     }\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\\"}, {"sha": "403e23f1f38abfc05b8426a9e4a1fe682048d8a3", "filename": "gcc/gengtype-yacc.y", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cca8ead2b904e26000eb1582326ad70843515739/gcc%2Fgengtype-yacc.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cca8ead2b904e26000eb1582326ad70843515739/gcc%2Fgengtype-yacc.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgengtype-yacc.y?ref=cca8ead2b904e26000eb1582326ad70843515739", "patch": "@@ -314,9 +314,9 @@ stringseq: STRING\n \t     {\n \t       size_t l1 = strlen ($1);\n \t       size_t l2 = strlen ($2);\n-\t       char *s = (char *) xrealloc ((char *)$1, l1 + l2 + 1);\n+\t       char *s = XRESIZEVEC (char, $1, l1 + l2 + 1);\n \t       memcpy (s + l1, $2, l2 + 1);\n-\t       free ((void *)$2);\n+\t       XDELETE ($2);\n \t       $$ = s;\n \t     }\n \t   ;"}, {"sha": "76f39fa98730a3244ac4c9862ad5082d8d4ccf7b", "filename": "gcc/gengtype.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cca8ead2b904e26000eb1582326ad70843515739/gcc%2Fgengtype.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cca8ead2b904e26000eb1582326ad70843515739/gcc%2Fgengtype.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgengtype.c?ref=cca8ead2b904e26000eb1582326ad70843515739", "patch": "@@ -1028,7 +1028,7 @@ oprintf (outf_p o, const char *format, ...)\n       do {\n \tnew_len *= 2;\n       } while (o->bufused + slength >= new_len);\n-      o->buf = (char *) xrealloc (o->buf, new_len);\n+      o->buf = XRESIZEVEC (char, o->buf, new_len);\n       o->buflength = new_len;\n     }\n   memcpy (o->buf + o->bufused, s, slength);"}]}