{"sha": "3616a8c52ecaf7980d1bd7a66289a63516c9d8fe", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzYxNmE4YzUyZWNhZjc5ODBkMWJkN2E2NjI4OWE2MzUxNmM5ZDhmZQ==", "commit": {"author": {"name": "Cesar Philippidis", "email": "cesar@codesourcery.com", "date": "2016-06-01T20:37:44Z"}, "committer": {"name": "Cesar Philippidis", "email": "cesar@gcc.gnu.org", "date": "2016-06-01T20:37:44Z"}, "message": "re PR c/70688 (bogus OpenACC data clause errors involving reductions)\n\n\tPR c/70688\n\t* pr70688.c: New file.\n\nFrom-SVN: r237011", "tree": {"sha": "d618152a17ef24e0340ec6c83a5f4d306230df4d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d618152a17ef24e0340ec6c83a5f4d306230df4d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3616a8c52ecaf7980d1bd7a66289a63516c9d8fe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3616a8c52ecaf7980d1bd7a66289a63516c9d8fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3616a8c52ecaf7980d1bd7a66289a63516c9d8fe", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3616a8c52ecaf7980d1bd7a66289a63516c9d8fe/comments", "author": {"login": "cesarjp", "id": 4576177, "node_id": "MDQ6VXNlcjQ1NzYxNzc=", "avatar_url": "https://avatars.githubusercontent.com/u/4576177?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cesarjp", "html_url": "https://github.com/cesarjp", "followers_url": "https://api.github.com/users/cesarjp/followers", "following_url": "https://api.github.com/users/cesarjp/following{/other_user}", "gists_url": "https://api.github.com/users/cesarjp/gists{/gist_id}", "starred_url": "https://api.github.com/users/cesarjp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cesarjp/subscriptions", "organizations_url": "https://api.github.com/users/cesarjp/orgs", "repos_url": "https://api.github.com/users/cesarjp/repos", "events_url": "https://api.github.com/users/cesarjp/events{/privacy}", "received_events_url": "https://api.github.com/users/cesarjp/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "880ce6a8a45e0a354142d83ac3807c99182077fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/880ce6a8a45e0a354142d83ac3807c99182077fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/880ce6a8a45e0a354142d83ac3807c99182077fe"}], "stats": {"total": 32, "additions": 32, "deletions": 0}, "files": [{"sha": "eebbb27c5669c7974fd2bfb320d49cf28eb9a07b", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3616a8c52ecaf7980d1bd7a66289a63516c9d8fe/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3616a8c52ecaf7980d1bd7a66289a63516c9d8fe/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=3616a8c52ecaf7980d1bd7a66289a63516c9d8fe", "patch": "@@ -1,3 +1,8 @@\n+2016-06-01  Cesar Philippidis  <cesar@codesourcery.com>\n+\n+\tPR c/70688\n+\t* pr70688.c: New file.\n+\n 2016-05-26  Jakub Jelinek  <jakub@redhat.com>\n \n \t* testsuite/libgomp.c/doacross-1.c (main): Use schedule(static)"}, {"sha": "f9556e34a46ae7e0546d2e5bdcc74e18d8fe6216", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/pr70688.c", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3616a8c52ecaf7980d1bd7a66289a63516c9d8fe/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fpr70688.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3616a8c52ecaf7980d1bd7a66289a63516c9d8fe/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fpr70688.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fpr70688.c?ref=3616a8c52ecaf7980d1bd7a66289a63516c9d8fe", "patch": "@@ -0,0 +1,27 @@\n+/* Verify that reduction variables can appear in data clause.  */\n+\n+#include <assert.h>\n+\n+const int n = 100;\n+\n+int\n+main ()\n+{\n+  int s = 0;\n+  int array[n];\n+\n+  for (int i = 0; i < n; i++)\n+    array[i] = i+1;\n+\n+#pragma acc parallel loop num_gangs (10) copy (s) reduction (+:s)\n+  for (int i = 0; i < n; i++)\n+    s += array[i];\n+\n+#pragma acc parallel loop num_gangs (10) reduction (+:s) copy (s)\n+  for (int i = 0; i < n; i++)\n+    s += array[i];\n+\n+  assert (s == n * (n + 1));\n+\n+  return 0;\n+}"}]}