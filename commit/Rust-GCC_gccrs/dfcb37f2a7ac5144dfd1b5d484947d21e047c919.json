{"sha": "dfcb37f2a7ac5144dfd1b5d484947d21e047c919", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGZjYjM3ZjJhN2FjNTE0NGRmZDFiNWQ0ODQ5NDdkMjFlMDQ3YzkxOQ==", "commit": {"author": {"name": "Carlo Wood", "email": "carlo@runaway.xs4all.nl", "date": "1998-06-27T23:01:34Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-06-27T23:01:34Z"}, "message": "libstdc++.exp: Use global variable ld_library_path (not local) that is a lot more persistent...\n\n        * lib/libstdc++.exp: Use global variable ld_library_path (not local)\n\tthat is a lot more persistent; dejagnu-980528 needs this.\n\t* lib/libstdc++.exp (test_stdc++): Use regular expression \" -lstdc..\"\n\tto remove -lstdc++ arguments (not \" -lstdc.*\").\n\nFrom-SVN: r20768", "tree": {"sha": "2ce84a3666266670e197050d243f70e343fc1825", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2ce84a3666266670e197050d243f70e343fc1825"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dfcb37f2a7ac5144dfd1b5d484947d21e047c919", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dfcb37f2a7ac5144dfd1b5d484947d21e047c919", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dfcb37f2a7ac5144dfd1b5d484947d21e047c919", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dfcb37f2a7ac5144dfd1b5d484947d21e047c919/comments", "author": null, "committer": null, "parents": [{"sha": "442b2e8635a8cb124d3f5ec6ab2ac8d55a109438", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/442b2e8635a8cb124d3f5ec6ab2ac8d55a109438", "html_url": "https://github.com/Rust-GCC/gccrs/commit/442b2e8635a8cb124d3f5ec6ab2ac8d55a109438"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "2e4fd608ff7a05adedb86b575a4a14c7b589569a", "filename": "libstdc++/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dfcb37f2a7ac5144dfd1b5d484947d21e047c919/libstdc%2B%2B%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dfcb37f2a7ac5144dfd1b5d484947d21e047c919/libstdc%2B%2B%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B%2Ftestsuite%2FChangeLog?ref=dfcb37f2a7ac5144dfd1b5d484947d21e047c919", "patch": "@@ -1,3 +1,10 @@\n+Sun Jun 28 00:00:10 1998   Carlo Wood  <carlo@runaway.xs4all.nl>\n+\n+        * lib/libstdc++.exp: Use global variable ld_library_path (not local)\n+\tthat is a lot more persistent; dejagnu-980528 needs this.\n+\t* lib/libstdc++.exp (test_stdc++): Use regular expression \" -lstdc..\"\n+\tto remove -lstdc++ arguments (not \" -lstdc.*\").\n+\n Thu Dec 25 00:34:03 1997  Jeffrey A Law  (law@cygnus.com)\n \n \t* lib/libstdc++.exp (test_libstdc++): Set LD_LIBRARY_PATH"}, {"sha": "3333ddad6c781966709acce20a577173eb3d87c5", "filename": "libstdc++/testsuite/lib/libstdc++.exp", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dfcb37f2a7ac5144dfd1b5d484947d21e047c919/libstdc%2B%2B%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dfcb37f2a7ac5144dfd1b5d484947d21e047c919/libstdc%2B%2B%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp?ref=dfcb37f2a7ac5144dfd1b5d484947d21e047c919", "patch": "@@ -56,6 +56,7 @@ proc test_libstdc++ { options srcfile compile_args inpfile resultfile exec_args\n     global LIBSTDCPP\n     global srcdir subdir objdir\n     global TOOL_OPTIONS\n+    global ld_library_path\n \n     if [info exists LIBSTDCPP] {\n \tset libstdcpp $LIBSTDCPP;\n@@ -81,15 +82,12 @@ proc test_libstdc++ { options srcfile compile_args inpfile resultfile exec_args\n     regsub -all -- \"-L\" $libstdcpp \"\" ld_library_path\n \n     # Then remove any -lstdc++ argument.\n-    regsub -all -- \" -lstdc.*\" $ld_library_path \"\" ld_library_path\n+    regsub -all -- \" -lstdc..\" $ld_library_path \"\" ld_library_path\n \n     # That's enough to make things work for the normal case.\n     # If we wanted to handle an arbitrary value of libstdcpp,\n     # then we'd have to do a lot more work.\n \n-    # Set variables the dynamic linker looks at.\n-    setenv LD_LIBRARY_PATH $ld_library_path\n-    setenv SHLIB_PATH $ld_library_path\n     if { $compile_args != \"\" } {\n \tlappend args \"additional_flags=$compile_args\"\n     }"}]}