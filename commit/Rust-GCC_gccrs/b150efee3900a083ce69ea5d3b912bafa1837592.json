{"sha": "b150efee3900a083ce69ea5d3b912bafa1837592", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjE1MGVmZWUzOTAwYTA4M2NlNjllYTVkM2I5MTJiYWZhMTgzNzU5Mg==", "commit": {"author": {"name": "Franz Sirl", "email": "Franz.Sirl-kernel@lauterbach.com", "date": "2002-02-11T18:10:05Z"}, "committer": {"name": "Franz Sirl", "email": "sirl@gcc.gnu.org", "date": "2002-02-11T18:10:05Z"}, "message": "re PR libobjc/4039 (installation location of libobjc is wrong)\n\n\t2002-02-11  Franz Sirl  <Franz.Sirl-kernel@lauterbach.com>\n\n\tPR libobjc/4039\n\t* aclocal.m4: Replace with version copied from libstdc++-v3.\n\t* configure.in: Update for changes to aclocal and Makefile.\n\t* configure: Regenerate.\n\t* Makefile.in: Correct install of multilibs and shared libs, use\n\tINSTALL_DATA for include files.\n\nFrom-SVN: r49680", "tree": {"sha": "ba208a5ccf922ea2180b4d9334a96cfaf835ad60", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ba208a5ccf922ea2180b4d9334a96cfaf835ad60"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b150efee3900a083ce69ea5d3b912bafa1837592", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b150efee3900a083ce69ea5d3b912bafa1837592", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b150efee3900a083ce69ea5d3b912bafa1837592", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b150efee3900a083ce69ea5d3b912bafa1837592/comments", "author": {"login": "jinkama-san", "id": 1462162, "node_id": "MDQ6VXNlcjE0NjIxNjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1462162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jinkama-san", "html_url": "https://github.com/jinkama-san", "followers_url": "https://api.github.com/users/jinkama-san/followers", "following_url": "https://api.github.com/users/jinkama-san/following{/other_user}", "gists_url": "https://api.github.com/users/jinkama-san/gists{/gist_id}", "starred_url": "https://api.github.com/users/jinkama-san/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jinkama-san/subscriptions", "organizations_url": "https://api.github.com/users/jinkama-san/orgs", "repos_url": "https://api.github.com/users/jinkama-san/repos", "events_url": "https://api.github.com/users/jinkama-san/events{/privacy}", "received_events_url": "https://api.github.com/users/jinkama-san/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "515342a8f0ac837756a6b29d46d6a6e9846bf372", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/515342a8f0ac837756a6b29d46d6a6e9846bf372", "html_url": "https://github.com/Rust-GCC/gccrs/commit/515342a8f0ac837756a6b29d46d6a6e9846bf372"}], "stats": {"total": 2206, "additions": 1404, "deletions": 802}, "files": [{"sha": "6f4d400134bdc8c7c592499b558c6f33ad890408", "filename": "libobjc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b150efee3900a083ce69ea5d3b912bafa1837592/libobjc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b150efee3900a083ce69ea5d3b912bafa1837592/libobjc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2FChangeLog?ref=b150efee3900a083ce69ea5d3b912bafa1837592", "patch": "@@ -1,3 +1,12 @@\n+2002-02-11  Franz Sirl  <Franz.Sirl-kernel@lauterbach.com>\n+\n+\tPR libobjc/4039\n+\t* aclocal.m4: Replace with version copied from libstdc++-v3.\n+\t* configure.in: Update for changes to aclocal and Makefile.\n+\t* configure: Regenerate.\n+\t* Makefile.in: Correct install of multilibs and shared libs, use\n+\tINSTALL_DATA for include files.\n+\n Mon Dec 17 17:02:12 2001  Nicola Pero  <nicola@brainstorm.co.uk>\n \n \t* init.c (__objc_exec_class): Fixed bug in the loop on unclaimed"}, {"sha": "2faf269f101193c23a2d4cebefe3b490d66277b6", "filename": "libobjc/Makefile.in", "status": "modified", "additions": 24, "deletions": 15, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b150efee3900a083ce69ea5d3b912bafa1837592/libobjc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b150efee3900a083ce69ea5d3b912bafa1837592/libobjc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2FMakefile.in?ref=b150efee3900a083ce69ea5d3b912bafa1837592", "patch": "@@ -23,20 +23,27 @@\n #worthless.\n \n SHELL = /bin/sh\n+MAKEOVERRIDES=\n \n #### Start of system configuration section. ####\n \n-srcdir = @srcdir@\n-VPATH = @srcdir@\n+srcdir = @glibcpp_srcdir@\n+VPATH = @glibcpp_srcdir@\n prefix = @prefix@\n exec_prefix = @exec_prefix@\n target_alias = @target_alias@\n gcc_version = @gcc_version@\n gcc_version_trigger = @gcc_version_trigger@\n+top_srcdir = @top_srcdir@\n+toplevel_srcdir = @toplevel_srcdir@\n+toolexecdir = @glibcpp_toolexecdir@\n+glibcpp_toolexecdir = @glibcpp_toolexecdir@\n+glibcpp_toolexeclibdir = @glibcpp_toolexeclibdir@\n+\n+top_builddir = .\n \n libdir = $(exec_prefix)/lib\n libsubdir = $(libdir)/gcc-lib/$(target_alias)/$(gcc_version)\n-incinstalldir = $(libsubdir)/include\n \n # Multilib support variables.\n MULTISRCTOP =\n@@ -253,11 +260,13 @@ $(OBJC_THREAD_FILE)_gc.lo: $(OBJC_THREAD_FILE).c\n doc: info dvi html\n \n libobjc.la: $(OBJS)\n-\t$(LIBTOOL_LINK) $(CC) -o $@ $(OBJS) -rpath $(libsubdir) \\\n+\t$(LIBTOOL_LINK) $(CC) -o $@ $(OBJS) \\\n+\t\t-rpath $(glibcpp_toolexeclibdir) \\\n \t\t-version-info $(LIBOBJC_VERSION)\n \n libobjc_gc.la: $(OBJS_GC)\n-\t$(LIBTOOL_LINK) $(CC) -o $@ $(OBJS_GC) -rpath $(libsubdir) \\\n+\t$(LIBTOOL_LINK) $(CC) -o $@ $(OBJS_GC) \\\n+\t\t-rpath $(glibcpp_toolexeclibdir) \\\n \t\t-version-info $(LIBOBJC_GC_VERSION)\n \n #\n@@ -305,24 +314,24 @@ ${srcdir}/configure: configure.in\n \trm -f config.cache\n \tcd ${srcdir} && autoconf\n \n-install: install-libs copy-headers\n+install: install-libs install-headers\n \n install-libs: installdirs\n-\t$(LIBTOOL_INSTALL) $(INSTALL_DATA) libobjc.la $(libsubdir)/libobjc.la;\n+\t$(SHELL) $(toplevel_srcdir)/mkinstalldirs $(glibcpp_toolexeclibdir)\n+\t$(LIBTOOL_INSTALL) $(INSTALL) libobjc.la $(glibcpp_toolexeclibdir);\n \tif [ \"$(OBJC_BOEHM_GC)\" ]; then \\\n-\t  $(LIBTOOL_INSTALL) $(INSTALL_DATA) libobjc_gc.la \\\n-\t\t\t\t$(libsubdir)/libobjc_gc.la;\\\n+\t  $(LIBTOOL_INSTALL) $(INSTALL) libobjc_gc.la \\\n+\t\t\t\t$(glibcpp_toolexeclibdir);\\\n \tfi\n+\t$(MULTIDO) $(FLAGS_TO_PASS) multi-do DO=\"$@\"\n+\t@-$(LIBTOOL) --mode=finish $(glibcpp_toolexeclibdir)\n \n # Copy Objective C headers to installation include directory.\n-copy-headers:\n-\t-rm -rf $(incinstalldir)/objc\n-\t-mkdir $(incinstalldir)/objc\n-\t-chmod a+rx $(incinstalldir)/objc\n+install-headers:\n+\t$(SHELL) $(toplevel_srcdir)/mkinstalldirs $(libsubdir)/include/objc\n \tfor file in $(OBJC_H); do \\\n \t  realfile=$(srcdir)/objc/$${file}; \\\n-\t  cp $${realfile} $(incinstalldir)/objc; \\\n-\t  chmod a+r $(incinstalldir)/objc/$${file}; \\\n+\t  $(INSTALL_DATA) $${realfile} $(libsubdir)/include/objc; \\\n \tdone\n \n check uninstall install-strip dist installcheck installdirs:"}, {"sha": "0dfc1d3017eaa2144e09cb0c86dcc2528fb3b306", "filename": "libobjc/aclocal.m4", "status": "modified", "additions": 223, "deletions": 1, "changes": 224, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b150efee3900a083ce69ea5d3b912bafa1837592/libobjc%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b150efee3900a083ce69ea5d3b912bafa1837592/libobjc%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Faclocal.m4?ref=b150efee3900a083ce69ea5d3b912bafa1837592", "patch": "@@ -1,2 +1,224 @@\n-# Just a clone of ../libtool.m4.\n+dnl Copyright (C) 1994, 1995-8, 1999, 2001 Free Software Foundation, Inc.\n+dnl This file is free software; the Free Software Foundation\n+dnl gives unlimited permission to copy and/or distribute it,\n+dnl with or without modifications, as long as this notice is preserved.\n+\n+dnl This program is distributed in the hope that it will be useful,\n+dnl but WITHOUT ANY WARRANTY, to the extent permitted by law; without\n+dnl even the implied warranty of MERCHANTABILITY or FITNESS FOR A\n+dnl PARTICULAR PURPOSE.\n+\n+dnl\n+dnl Initialize configure bits.\n+dnl\n+dnl GLIBCPP_CONFIGURE\n+AC_DEFUN(GLIBCPP_CONFIGURE, [\n+  dnl Default to --enable-multilib\n+  AC_ARG_ENABLE(multilib,\n+  [  --enable-multilib       build hella library versions (default)],\n+  [case \"${enableval}\" in\n+    yes) multilib=yes ;;\n+    no)  multilib=no ;;\n+    *)   AC_MSG_ERROR(bad value ${enableval} for multilib option) ;;\n+   esac], [multilib=yes])dnl\n+\n+# When building with srcdir == objdir, links to the source files will\n+# be created in directories within the target_subdir.  We have to\n+# adjust toplevel_srcdir accordingly, so that configure finds\n+# install-sh and other auxiliary files that live in the top-level\n+# source directory.\n+if test \"${srcdir}\" = \".\"; then\n+  if test -z \"${with_target_subdir}\"; then\n+    toprel=\"..\"\n+  else\n+    if test \"${with_target_subdir}\" != \".\"; then\n+      toprel=\"${with_multisrctop}../..\"\n+    else\n+      toprel=\"${with_multisrctop}..\"\n+    fi\n+  fi\n+else\n+  toprel=\"..\"\n+fi\n+AC_CONFIG_AUX_DIR(${srcdir}/$toprel)\n+toplevel_srcdir=\\${top_srcdir}/$toprel\n+AC_SUBST(toplevel_srcdir)\n+\n+# Export build and source directories.\n+# These need to be absolute paths, yet at the same time need to\n+# canonicalize only relative paths, because then amd will not unmount\n+# drives. Thus the use of PWDCMD: set it to 'pawd' or 'amq -w' if using amd.\n+glibcpp_builddir=`pwd`\n+case $srcdir in\n+[\\\\/$]* | ?:[\\\\/]*) glibcpp_srcdir=${srcdir} ;;\n+*) glibcpp_srcdir=`cd \"$srcdir\" && ${PWDCMD-pwd} || echo \"$srcdir\"` ;;\n+esac\n+AC_SUBST(glibcpp_builddir)\n+AC_SUBST(glibcpp_srcdir)\n+\n+dnl This is here just to satisfy automake.\n+ifelse(not,equal,[AC_CONFIG_AUX_DIR(..)])\n+\n+# Will set LN_S to either 'ln -s' or 'ln'.  With autoconf 2.50+, can also\n+# be 'cp -p' if linking isn't available.\n+#ac_cv_prog_LN_S='cp -p'\n+AC_PROG_LN_S\n+\n+# We use these options to decide which functions to include.\n+AC_ARG_WITH(target-subdir,\n+[  --with-target-subdir=SUBDIR\n+                           configuring in a subdirectory])\n+AC_ARG_WITH(cross-host,\n+[  --with-cross-host=HOST  configuring with a cross compiler])\n+\n+  # Never versions of autoconf add an underscore to these functions.\n+  # Prevent future problems ...\n+  ifdef([AC_PROG_CC_G],[],[define([AC_PROG_CC_G],defn([_AC_PROG_CC_G]))])\n+  ifdef([AC_PROG_CC_GNU],[],[define([AC_PROG_CC_GNU],defn([_AC_PROG_CC_GNU]))])\n+  ifdef([AC_PROG_CXX_G],[],[define([AC_PROG_CXX_G],defn([_AC_PROG_CXX_G]))])\n+  ifdef([AC_PROG_CXX_GNU],[],[define([AC_PROG_CXX_GNU],defn([_AC_PROG_CXX_GNU]))])\n+\n+#  AC_PROG_CC\n+\n+# FIXME: We temporarily define our own version of AC_PROG_CC.  This is\n+# copied from autoconf 2.12, but does not call AC_PROG_CC_WORKS.  We\n+# are probably using a cross compiler, which will not be able to fully\n+# link an executable.  This should really be fixed in autoconf\n+# itself.\n+\n+AC_DEFUN(LIB_AC_PROG_CC,\n+[AC_BEFORE([$0], [AC_PROG_CPP])dnl\n+dnl Fool anybody using AC_PROG_CC.\n+AC_PROVIDE([AC_PROG_CC])\n+AC_CHECK_PROG(CC, gcc, gcc)\n+if test -z \"$CC\"; then\n+  AC_CHECK_PROG(CC, cc, cc, , , /usr/ucb/cc)\n+  test -z \"$CC\" && AC_MSG_ERROR([no acceptable cc found in \\$PATH])\n+fi\n+\n+AC_PROG_CC_GNU\n+\n+if test $ac_cv_prog_gcc = yes; then\n+  GCC=yes\n+dnl Check whether -g works, even if CFLAGS is set, in case the package\n+dnl plays around with CFLAGS (such as to build both debugging and\n+dnl normal versions of a library), tasteless as that idea is.\n+  ac_test_CFLAGS=\"${CFLAGS+set}\"\n+  ac_save_CFLAGS=\"$CFLAGS\"\n+  CFLAGS=\n+  AC_PROG_CC_G\n+  if test \"$ac_test_CFLAGS\" = set; then\n+    CFLAGS=\"$ac_save_CFLAGS\"\n+  elif test $ac_cv_prog_cc_g = yes; then\n+    CFLAGS=\"-g -O2\"\n+  else\n+    CFLAGS=\"-O2\"\n+  fi\n+else\n+  GCC=\n+  test \"${CFLAGS+set}\" = set || CFLAGS=\"-g\"\n+fi\n+])\n+\n+LIB_AC_PROG_CC\n+\n+  AC_CHECK_TOOL(AS, as)\n+  AC_CHECK_TOOL(AR, ar)\n+  AC_CHECK_TOOL(RANLIB, ranlib, ranlib-not-found-in-path-error)\n+  AC_PROG_INSTALL\n+\n+  # We need AC_EXEEXT to keep automake happy in cygnus mode.  However,\n+  # at least currently, we never actually build a program, so we never\n+  # need to use $(EXEEXT).  Moreover, the test for EXEEXT normally\n+  # fails, because we are probably configuring with a cross compiler\n+  # which can't create executables.  So we include AC_EXEEXT to keep\n+  # automake happy, but we don't execute it, since we don't care about\n+  # the result.\n+  if false; then\n+    # autoconf 2.50 runs AC_EXEEXT by default, and the macro expands\n+    # to nothing, so nothing would remain between `then' and `fi' if it\n+    # were not for the `:' below.\n+    :\n+    AC_EXEEXT\n+  fi\n+])\n+\n+\n+dnl\n+dnl  GLIBCPP_EXPORT_INSTALL_INFO\n+dnl  calculates gxx_install_dir\n+dnl  exports glibcpp_toolexecdir\n+dnl  exports glibcpp_toolexeclibdir\n+dnl  exports glibcpp_prefixdir\n+dnl\n+dnl Assumes cross_compiling bits already done, and with_cross_host in\n+dnl particular\n+dnl\n+dnl GLIBCPP_EXPORT_INSTALL_INFO\n+AC_DEFUN(GLIBCPP_EXPORT_INSTALL_INFO, [\n+# Assumes glibcpp_builddir, glibcpp_srcdir are alreay set up and\n+# exported correctly in GLIBCPP_CONFIGURE.\n+glibcpp_toolexecdir=no\n+glibcpp_toolexeclibdir=no\n+glibcpp_prefixdir=${prefix}\n+\n+AC_MSG_CHECKING([for interface version number])\n+libstdcxx_interface=$INTERFACE\n+AC_MSG_RESULT($libstdcxx_interface)\n+\n+# Process the option \"--enable-version-specific-runtime-libs\"\n+AC_MSG_CHECKING([for --enable-version-specific-runtime-libs])\n+AC_ARG_ENABLE(version-specific-runtime-libs,\n+[  --enable-version-specific-runtime-libs    Specify that runtime libraries should be installed in a compiler-specific directory ],\n+[case \"$enableval\" in\n+ yes) version_specific_libs=yes ;;\n+ no)  version_specific_libs=no ;;\n+ *)   AC_MSG_ERROR([Unknown argument to enable/disable version-specific libs]);;\n+ esac],\n+version_specific_libs=no)dnl\n+# Option set, now we can test it.\n+AC_MSG_RESULT($version_specific_libs)\n+\n+gcc_version_trigger=${srcdir}/../gcc/version.c\n+gcc_version_full=`grep version_string ${gcc_version_trigger} | sed -e 's/.*\\\"\\([[^ \\\"]]*\\)[[ \\\"]].*/\\1/'`\n+gcc_version=`echo ${gcc_version_full} | sed -e 's/\\([^ ]*\\) .*/\\1/'`\n+AC_SUBST(gcc_version)\n+AC_SUBST(gcc_version_trigger)\n+\n+if test $version_specific_libs = yes; then\n+  # Need the gcc compiler version to know where to install libraries\n+  # and header files if --enable-version-specific-runtime-libs option\n+  # is selected.\n+  changequote(,)dnl\n+  glibcpp_toolexecdir='$(libdir)/gcc-lib/$(target_alias)'\n+  glibcpp_toolexeclibdir='$(toolexecdir)/'${gcc_version}'$(MULTISUBDIR)'\n+  changequote([,])dnl\n+fi\n+\n+# Calculate glibcpp_toolexecdir, glibcpp_toolexeclibdir\n+# Install a library built with a cross compiler in tooldir, not libdir.\n+if test x\"$glibcpp_toolexecdir\" = x\"no\"; then \n+  if test -n \"$with_cross_host\" &&\n+     test x\"$with_cross_host\" != x\"no\"; then\n+    glibcpp_toolexecdir='$(exec_prefix)/$(target_alias)'\n+    glibcpp_toolexeclibdir='$(toolexecdir)/lib$(MULTISUBDIR)'\n+  else\n+    glibcpp_toolexecdir='$(libdir)/gcc-lib/$(target_alias)'\n+    glibcpp_toolexeclibdir='$(libdir)$(MULTISUBDIR)'\n+  fi\n+fi\n+\n+AC_SUBST(glibcpp_prefixdir)\n+AC_SUBST(glibcpp_toolexecdir)\n+AC_SUBST(glibcpp_toolexeclibdir)\n+])\n+\n sinclude(../libtool.m4)\n+dnl The lines below arrange for aclocal not to bring an installed\n+dnl libtool.m4 into aclocal.m4, while still arranging for automake to\n+dnl add a definition of LIBTOOL to Makefile.in.\n+ifelse(,,,[AC_SUBST(LIBTOOL)\n+AC_DEFUN([AM_PROG_LIBTOOL])\n+AC_DEFUN([AC_LIBTOOL_DLOPEN])\n+AC_DEFUN([AC_PROG_LD])\n+])"}, {"sha": "014c27d3f9420c92ab31525dd22f33843e31f747", "filename": "libobjc/configure", "status": "modified", "additions": 1130, "deletions": 741, "changes": 1871, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b150efee3900a083ce69ea5d3b912bafa1837592/libobjc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b150efee3900a083ce69ea5d3b912bafa1837592/libobjc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fconfigure?ref=b150efee3900a083ce69ea5d3b912bafa1837592", "patch": "@@ -11,6 +11,15 @@\n ac_help=\n ac_default_prefix=/usr/local\n # Any additions from configure.in:\n+ac_help=\"$ac_help\n+  --enable-multilib       build hella library versions (default)\"\n+ac_help=\"$ac_help\n+  --with-target-subdir=SUBDIR\n+                           configuring in a subdirectory\"\n+ac_help=\"$ac_help\n+  --with-cross-host=HOST  configuring with a cross compiler\"\n+ac_help=\"$ac_help\n+  --enable-version-specific-runtime-libs    Specify that runtime libraries should be installed in a compiler-specific directory \"\n ac_help=\"$ac_help\n   --enable-shared[=PKGS]  build shared libraries [default=no]\"\n ac_help=\"$ac_help\n@@ -43,7 +52,6 @@ program_suffix=NONE\n program_transform_name=s,x,x,\n silent=\n site=\n-sitefile=\n srcdir=\n target=NONE\n verbose=\n@@ -158,7 +166,6 @@ Configuration:\n   --help                  print this message\n   --no-create             do not create output files\n   --quiet, --silent       do not print \\`checking...' messages\n-  --site-file=FILE        use FILE as the site file\n   --version               print the version of autoconf that created configure\n Directory and file names:\n   --prefix=PREFIX         install architecture-independent files in PREFIX\n@@ -329,11 +336,6 @@ EOF\n   -site=* | --site=* | --sit=*)\n     site=\"$ac_optarg\" ;;\n \n-  -site-file | --site-file | --site-fil | --site-fi | --site-f)\n-    ac_prev=sitefile ;;\n-  -site-file=* | --site-file=* | --site-fil=* | --site-fi=* | --site-f=*)\n-    sitefile=\"$ac_optarg\" ;;\n-\n   -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)\n     ac_prev=srcdir ;;\n   -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)\n@@ -499,16 +501,12 @@ fi\n srcdir=`echo \"${srcdir}\" | sed 's%\\([^/]\\)/*$%\\1%'`\n \n # Prefer explicitly selected file to automatically selected ones.\n-if test -z \"$sitefile\"; then\n-  if test -z \"$CONFIG_SITE\"; then\n-    if test \"x$prefix\" != xNONE; then\n-      CONFIG_SITE=\"$prefix/share/config.site $prefix/etc/config.site\"\n-    else\n-      CONFIG_SITE=\"$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site\"\n-    fi\n+if test -z \"$CONFIG_SITE\"; then\n+  if test \"x$prefix\" != xNONE; then\n+    CONFIG_SITE=\"$prefix/share/config.site $prefix/etc/config.site\"\n+  else\n+    CONFIG_SITE=\"$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site\"\n   fi\n-else\n-  CONFIG_SITE=\"$sitefile\"\n fi\n for ac_site_file in $CONFIG_SITE; do\n   if test -r \"$ac_site_file\"; then\n@@ -549,17 +547,218 @@ fi\n \n \n \n-if test \"${srcdir}\" = \".\" ; then\n-  if test \"${with_target_subdir}\" != \".\" ; then\n-    topsrcdir=${with_multisrctop}../..\n+ac_aux_dir=\n+for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do\n+  if test -f $ac_dir/install-sh; then\n+    ac_aux_dir=$ac_dir\n+    ac_install_sh=\"$ac_aux_dir/install-sh -c\"\n+    break\n+  elif test -f $ac_dir/install.sh; then\n+    ac_aux_dir=$ac_dir\n+    ac_install_sh=\"$ac_aux_dir/install.sh -c\"\n+    break\n+  fi\n+done\n+if test -z \"$ac_aux_dir\"; then\n+  { echo \"configure: error: can not find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../..\" 1>&2; exit 1; }\n+fi\n+ac_config_guess=$ac_aux_dir/config.guess\n+ac_config_sub=$ac_aux_dir/config.sub\n+ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.\n+\n+\n+# Do some error checking and defaulting for the host and target type.\n+# The inputs are:\n+#    configure --host=HOST --target=TARGET --build=BUILD NONOPT\n+#\n+# The rules are:\n+# 1. You are not allowed to specify --host, --target, and nonopt at the\n+#    same time.\n+# 2. Host defaults to nonopt.\n+# 3. If nonopt is not specified, then host defaults to the current host,\n+#    as determined by config.guess.\n+# 4. Target and build default to nonopt.\n+# 5. If nonopt is not specified, then target and build default to host.\n+\n+# The aliases save the names the user supplied, while $host etc.\n+# will get canonicalized.\n+case $host---$target---$nonopt in\n+NONE---*---* | *---NONE---* | *---*---NONE) ;;\n+*) { echo \"configure: error: can only configure for one host and one target at a time\" 1>&2; exit 1; } ;;\n+esac\n+\n+\n+# Make sure we can run config.sub.\n+if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :\n+else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n+fi\n+\n+echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n+echo \"configure:598: checking host system type\" >&5\n+\n+host_alias=$host\n+case \"$host_alias\" in\n+NONE)\n+  case $nonopt in\n+  NONE)\n+    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :\n+    else { echo \"configure: error: can not guess host type; you must specify one\" 1>&2; exit 1; }\n+    fi ;;\n+  *) host_alias=$nonopt ;;\n+  esac ;;\n+esac\n+\n+host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`\n+host_cpu=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n+host_vendor=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n+host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n+echo \"$ac_t\"\"$host\" 1>&6\n+\n+echo $ac_n \"checking target system type\"\"... $ac_c\" 1>&6\n+echo \"configure:619: checking target system type\" >&5\n+\n+target_alias=$target\n+case \"$target_alias\" in\n+NONE)\n+  case $nonopt in\n+  NONE) target_alias=$host_alias ;;\n+  *) target_alias=$nonopt ;;\n+  esac ;;\n+esac\n+\n+target=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $target_alias`\n+target_cpu=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n+target_vendor=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n+target_os=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n+echo \"$ac_t\"\"$target\" 1>&6\n+\n+echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n+echo \"configure:637: checking build system type\" >&5\n+\n+build_alias=$build\n+case \"$build_alias\" in\n+NONE)\n+  case $nonopt in\n+  NONE) build_alias=$host_alias ;;\n+  *) build_alias=$nonopt ;;\n+  esac ;;\n+esac\n+\n+build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`\n+build_cpu=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n+build_vendor=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n+build_os=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n+echo \"$ac_t\"\"$build\" 1>&6\n+\n+test \"$host_alias\" != \"$target_alias\" &&\n+  test \"$program_prefix$program_suffix$program_transform_name\" = \\\n+    NONENONEs,x,x, &&\n+  program_prefix=${target_alias}-\n+\n+target_alias=${target_alias-$target}\n+\n+\n+if test $host != $build; then\n+  ac_tool_prefix=${host_alias}-\n+else\n+  ac_tool_prefix=\n+fi\n+\n+echo $ac_n \"checking for Cygwin environment\"\"... $ac_c\" 1>&6\n+echo \"configure:669: checking for Cygwin environment\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_cygwin'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 674 \"configure\"\n+#include \"confdefs.h\"\n+\n+int main() {\n+\n+#ifndef __CYGWIN__\n+#define __CYGWIN__ __CYGWIN32__\n+#endif\n+return __CYGWIN__;\n+; return 0; }\n+EOF\n+if { (eval echo configure:685: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  ac_cv_cygwin=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  ac_cv_cygwin=no\n+fi\n+rm -f conftest*\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_cygwin\" 1>&6\n+CYGWIN=\n+test \"$ac_cv_cygwin\" = yes && CYGWIN=yes\n+echo $ac_n \"checking for mingw32 environment\"\"... $ac_c\" 1>&6\n+echo \"configure:702: checking for mingw32 environment\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_mingw32'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 707 \"configure\"\n+#include \"confdefs.h\"\n+\n+int main() {\n+return __MINGW32__;\n+; return 0; }\n+EOF\n+if { (eval echo configure:714: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  ac_cv_mingw32=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  ac_cv_mingw32=no\n+fi\n+rm -f conftest*\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_mingw32\" 1>&6\n+MINGW32=\n+test \"$ac_cv_mingw32\" = yes && MINGW32=yes\n+\n+    # Check whether --enable-multilib or --disable-multilib was given.\n+if test \"${enable_multilib+set}\" = set; then\n+  enableval=\"$enable_multilib\"\n+  case \"${enableval}\" in\n+    yes) multilib=yes ;;\n+    no)  multilib=no ;;\n+    *)   { echo \"configure: error: bad value ${enableval} for multilib option\" 1>&2; exit 1; } ;;\n+   esac\n+else\n+  multilib=yes\n+fi\n+\n+# When building with srcdir == objdir, links to the source files will\n+# be created in directories within the target_subdir.  We have to\n+# adjust toplevel_srcdir accordingly, so that configure finds\n+# install-sh and other auxiliary files that live in the top-level\n+# source directory.\n+if test \"${srcdir}\" = \".\"; then\n+  if test -z \"${with_target_subdir}\"; then\n+    toprel=\"..\"\n   else\n-    topsrcdir=${with_multisrctop}..\n+    if test \"${with_target_subdir}\" != \".\"; then\n+      toprel=\"${with_multisrctop}../..\"\n+    else\n+      toprel=\"${with_multisrctop}..\"\n+    fi\n   fi\n else\n-  topsrcdir=${srcdir}/..\n+  toprel=\"..\"\n fi\n ac_aux_dir=\n-for ac_dir in $topsrcdir $srcdir/$topsrcdir; do\n+for ac_dir in ${srcdir}/$toprel $srcdir/${srcdir}/$toprel; do\n   if test -f $ac_dir/install-sh; then\n     ac_aux_dir=$ac_dir\n     ac_install_sh=\"$ac_aux_dir/install-sh -c\"\n@@ -571,55 +770,90 @@ for ac_dir in $topsrcdir $srcdir/$topsrcdir; do\n   fi\n done\n if test -z \"$ac_aux_dir\"; then\n-  { echo \"configure: error: can not find install-sh or install.sh in $topsrcdir $srcdir/$topsrcdir\" 1>&2; exit 1; }\n+  { echo \"configure: error: can not find install-sh or install.sh in ${srcdir}/$toprel $srcdir/${srcdir}/$toprel\" 1>&2; exit 1; }\n fi\n ac_config_guess=$ac_aux_dir/config.guess\n ac_config_sub=$ac_aux_dir/config.sub\n ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.\n \n+toplevel_srcdir=\\${top_srcdir}/$toprel\n \n-# If the language specific compiler does not exist, but the \"gcc\" directory \n-# does, we do not build anything. Note, $r is set by the top-level Makefile.\n-# Note that when we look for the compiler, we search both with and without\n-# extension to handle cross and canadian cross builds. \n-compiler_name=cc1obj\n-rm -f skip-this-dir\n-echo $ac_n \"checking if compiler $compiler_name has been built\"\"... $ac_c\" 1>&6\n-echo \"configure:589: checking if compiler $compiler_name has been built\" >&5\n-if eval \"test \\\"`echo '$''{'objc_cv_compiler_exists'+set}'`\\\" = set\"; then\n+\n+# Export build and source directories.\n+# These need to be absolute paths, yet at the same time need to\n+# canonicalize only relative paths, because then amd will not unmount\n+# drives. Thus the use of PWDCMD: set it to 'pawd' or 'amq -w' if using amd.\n+glibcpp_builddir=`pwd`\n+case $srcdir in\n+\\\\/$* | ?:\\\\/*) glibcpp_srcdir=${srcdir} ;;\n+*) glibcpp_srcdir=`cd \"$srcdir\" && ${PWDCMD-pwd} || echo \"$srcdir\"` ;;\n+esac\n+\n+\n+\n+\n+\n+# Will set LN_S to either 'ln -s' or 'ln'.  With autoconf 2.50+, can also\n+# be 'cp -p' if linking isn't available.\n+#ac_cv_prog_LN_S='cp -p'\n+echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n+echo \"configure:801: checking whether ln -s works\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_LN_S'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  objc_cv_compiler_exists=yes\n-if test -n \"$r\"; then\n-  if test -d \"$r\"/gcc; then\n-    if test -f \"$r\"/gcc/$compiler_name \\\n-       || test -f \"$r\"/gcc/$compiler_name.exe; then\n-      true\n-    else\n-      objc_cv_compiler_exists=no\n-      echo \"rm -f config.cache config.log multilib.out\" > skip-this-dir\n-    fi\n-  fi\n+  rm -f conftestdata\n+if ln -s X conftestdata 2>/dev/null\n+then\n+  rm -f conftestdata\n+  ac_cv_prog_LN_S=\"ln -s\"\n+else\n+  ac_cv_prog_LN_S=ln\n+fi\n+fi\n+LN_S=\"$ac_cv_prog_LN_S\"\n+if test \"$ac_cv_prog_LN_S\" = \"ln -s\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n fi\n \n+\n+# We use these options to decide which functions to include.\n+# Check whether --with-target-subdir or --without-target-subdir was given.\n+if test \"${with_target_subdir+set}\" = set; then\n+  withval=\"$with_target_subdir\"\n+  :\n fi\n \n-echo \"$ac_t\"\"$objc_cv_compiler_exists\" 1>&6\n-if test x$objc_cv_compiler_exists = xno\n-then\n-  rm -f Makefile conftest* confdefs* core\n-  exit 0\n+# Check whether --with-cross-host or --without-cross-host was given.\n+if test \"${with_cross_host+set}\" = set; then\n+  withval=\"$with_cross_host\"\n+  :\n fi\n \n \n+  # Never versions of autoconf add an underscore to these functions.\n+  # Prevent future problems ...\n+  \n+  \n+  \n+  \n+\n+#  AC_PROG_CC\n+\n+# FIXME: We temporarily define our own version of AC_PROG_CC.  This is\n+# copied from autoconf 2.12, but does not call AC_PROG_CC_WORKS.  We\n+# are probably using a cross compiler, which will not be able to fully\n+# link an executable.  This should really be fixed in autoconf\n+# itself.\n+\n+\n \n \n-# For ObjC we'll set CC to point at the built gcc, but this will get it into\n-# the makefiles\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:623: checking for $ac_word\" >&5\n+echo \"configure:857: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -649,7 +883,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:653: checking for $ac_word\" >&5\n+echo \"configure:887: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -694,46 +928,11 @@ else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n \n-  if test -z \"$CC\"; then\n-    case \"`uname -s`\" in\n-    *win32* | *WIN32*)\n-      # Extract the first word of \"cl\", so it can be a program name with args.\n-set dummy cl; ac_word=$2\n-echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:704: checking for $ac_word\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  if test -n \"$CC\"; then\n-  ac_cv_prog_CC=\"$CC\" # Let the user override the test.\n-else\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n-  ac_dummy=\"$PATH\"\n-  for ac_dir in $ac_dummy; do\n-    test -z \"$ac_dir\" && ac_dir=.\n-    if test -f $ac_dir/$ac_word; then\n-      ac_cv_prog_CC=\"cl\"\n-      break\n-    fi\n-  done\n-  IFS=\"$ac_save_ifs\"\n-fi\n-fi\n-CC=\"$ac_cv_prog_CC\"\n-if test -n \"$CC\"; then\n-  echo \"$ac_t\"\"$CC\" 1>&6\n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n-fi\n- ;;\n-    esac\n-  fi\n   test -z \"$CC\" && { echo \"configure: error: no acceptable cc found in \\$PATH\" 1>&2; exit 1; }\n fi\n \n-\n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:737: checking whether we are using GNU C\" >&5\n+echo \"configure:936: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -742,7 +941,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:746: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:945: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -753,15 +952,11 @@ echo \"$ac_t\"\"$ac_cv_prog_gcc\" 1>&6\n \n if test $ac_cv_prog_gcc = yes; then\n   GCC=yes\n-else\n-  GCC=\n-fi\n-\n-ac_test_CFLAGS=\"${CFLAGS+set}\"\n-ac_save_CFLAGS=\"$CFLAGS\"\n-CFLAGS=\n-echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:765: checking whether ${CC-cc} accepts -g\" >&5\n+  ac_test_CFLAGS=\"${CFLAGS+set}\"\n+  ac_save_CFLAGS=\"$CFLAGS\"\n+  CFLAGS=\n+  echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n+echo \"configure:960: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -776,37 +971,124 @@ rm -f conftest*\n fi\n \n echo \"$ac_t\"\"$ac_cv_prog_cc_g\" 1>&6\n-if test \"$ac_test_CFLAGS\" = set; then\n-  CFLAGS=\"$ac_save_CFLAGS\"\n-elif test $ac_cv_prog_cc_g = yes; then\n-  if test \"$GCC\" = yes; then\n+  if test \"$ac_test_CFLAGS\" = set; then\n+    CFLAGS=\"$ac_save_CFLAGS\"\n+  elif test $ac_cv_prog_cc_g = yes; then\n     CFLAGS=\"-g -O2\"\n   else\n-    CFLAGS=\"-g\"\n-  fi\n-else\n-  if test \"$GCC\" = yes; then\n     CFLAGS=\"-O2\"\n-  else\n-    CFLAGS=\n   fi\n+else\n+  GCC=\n+  test \"${CFLAGS+set}\" = set || CFLAGS=\"-g\"\n fi\n \n \n-test \"$AR\" || AR=ar\n-\n-if test \"$RANLIB\"; then :\n-  \n-else\n-  # Extract the first word of \"ranlib\", so it can be a program name with args.\n-set dummy ranlib; ac_word=$2\n+  # Extract the first word of \"${ac_tool_prefix}as\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:805: checking for $ac_word\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n+echo \"configure:991: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  if test -n \"$RANLIB\"; then\n-  ac_cv_prog_RANLIB=\"$RANLIB\" # Let the user override the test.\n+  if test -n \"$AS\"; then\n+  ac_cv_prog_AS=\"$AS\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_AS=\"${ac_tool_prefix}as\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_prog_AS\" && ac_cv_prog_AS=\"as\"\n+fi\n+fi\n+AS=\"$ac_cv_prog_AS\"\n+if test -n \"$AS\"; then\n+  echo \"$ac_t\"\"$AS\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+\n+\n+  # Extract the first word of \"${ac_tool_prefix}ar\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}ar; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:1023: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_AR'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$AR\"; then\n+  ac_cv_prog_AR=\"$AR\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_AR=\"${ac_tool_prefix}ar\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_prog_AR\" && ac_cv_prog_AR=\"ar\"\n+fi\n+fi\n+AR=\"$ac_cv_prog_AR\"\n+if test -n \"$AR\"; then\n+  echo \"$ac_t\"\"$AR\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+\n+\n+  # Extract the first word of \"${ac_tool_prefix}ranlib\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}ranlib; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:1055: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$RANLIB\"; then\n+  ac_cv_prog_RANLIB=\"$RANLIB\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_RANLIB=\"${ac_tool_prefix}ranlib\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+fi\n+fi\n+RANLIB=\"$ac_cv_prog_RANLIB\"\n+if test -n \"$RANLIB\"; then\n+  echo \"$ac_t\"\"$RANLIB\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+\n+if test -z \"$ac_cv_prog_RANLIB\"; then\n+if test -n \"$ac_tool_prefix\"; then\n+  # Extract the first word of \"ranlib\", so it can be a program name with args.\n+set dummy ranlib; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:1087: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$RANLIB\"; then\n+  ac_cv_prog_RANLIB=\"$RANLIB\" # Let the user override the test.\n else\n   IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n   ac_dummy=\"$PATH\"\n@@ -818,7 +1100,7 @@ else\n     fi\n   done\n   IFS=\"$ac_save_ifs\"\n-  test -z \"$ac_cv_prog_RANLIB\" && ac_cv_prog_RANLIB=\":\"\n+  test -z \"$ac_cv_prog_RANLIB\" && ac_cv_prog_RANLIB=\"ranlib-not-found-in-path-error\"\n fi\n fi\n RANLIB=\"$ac_cv_prog_RANLIB\"\n@@ -828,8 +1110,12 @@ else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n \n+else\n+  RANLIB=\"ranlib-not-found-in-path-error\"\n fi\n-# Find a good install program.  We prefer a C program (faster),\n+fi\n+\n+  # Find a good install program.  We prefer a C program (faster),\n # so one script is as good as another.  But avoid the broken or\n # incompatible versions:\n # SysV /etc/install, /usr/sbin/install\n@@ -841,7 +1127,7 @@ fi\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:845: checking for a BSD compatible install\" >&5\n+echo \"configure:1131: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -894,84 +1180,22 @@ test -z \"$INSTALL_SCRIPT\" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'\n test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n \n-# We need AC_EXEEXT to keep automake happy in cygnus mode.  However,\n-# at least currently, we never actually build a program, so we never\n-# need to use $(EXEEXT).  Moreover, the test for EXEEXT normally\n-# fails, because we are probably configuring with a cross compiler\n-# which cant create executables.  So we include AC_EXEEXT to keep\n-# automake happy, but we dont execute it, since we dont care about\n-# the result.\n-if false; then\n-  # autoconf 2.50 runs AC_EXEEXT by default, and the macro expands\n-  # to nothing, so nothing would remain between `then' and `fi' if it\n-  # were not for the `:' below.\n-  :\n-  echo $ac_n \"checking for Cygwin environment\"\"... $ac_c\" 1>&6\n-echo \"configure:911: checking for Cygwin environment\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_cygwin'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  cat > conftest.$ac_ext <<EOF\n-#line 916 \"configure\"\n-#include \"confdefs.h\"\n-\n-int main() {\n-\n-#ifndef __CYGWIN__\n-#define __CYGWIN__ __CYGWIN32__\n-#endif\n-return __CYGWIN__;\n-; return 0; }\n-EOF\n-if { (eval echo configure:927: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n-  rm -rf conftest*\n-  ac_cv_cygwin=yes\n-else\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -rf conftest*\n-  ac_cv_cygwin=no\n-fi\n-rm -f conftest*\n-rm -f conftest*\n-fi\n-\n-echo \"$ac_t\"\"$ac_cv_cygwin\" 1>&6\n-CYGWIN=\n-test \"$ac_cv_cygwin\" = yes && CYGWIN=yes\n-echo $ac_n \"checking for mingw32 environment\"\"... $ac_c\" 1>&6\n-echo \"configure:944: checking for mingw32 environment\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_mingw32'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  cat > conftest.$ac_ext <<EOF\n-#line 949 \"configure\"\n-#include \"confdefs.h\"\n-\n-int main() {\n-return __MINGW32__;\n-; return 0; }\n-EOF\n-if { (eval echo configure:956: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n-  rm -rf conftest*\n-  ac_cv_mingw32=yes\n-else\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -rf conftest*\n-  ac_cv_mingw32=no\n-fi\n-rm -f conftest*\n-rm -f conftest*\n-fi\n-\n-echo \"$ac_t\"\"$ac_cv_mingw32\" 1>&6\n-MINGW32=\n-test \"$ac_cv_mingw32\" = yes && MINGW32=yes\n-\n+  # We need AC_EXEEXT to keep automake happy in cygnus mode.  However,\n+  # at least currently, we never actually build a program, so we never\n+  # need to use $(EXEEXT).  Moreover, the test for EXEEXT normally\n+  # fails, because we are probably configuring with a cross compiler\n+  # which can't create executables.  So we include AC_EXEEXT to keep\n+  # automake happy, but we don't execute it, since we don't care about\n+  # the result.\n+  if false; then\n+    # autoconf 2.50 runs AC_EXEEXT by default, and the macro expands\n+    # to nothing, so nothing would remain between `then' and `fi' if it\n+    # were not for the `:' below.\n+    :\n+    \n \n echo $ac_n \"checking for executable suffix\"\"... $ac_c\" 1>&6\n-echo \"configure:975: checking for executable suffix\" >&5\n+echo \"configure:1199: checking for executable suffix\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_exeext'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -981,10 +1205,10 @@ else\n   rm -f conftest*\n   echo 'int main () { return 0; }' > conftest.$ac_ext\n   ac_cv_exeext=\n-  if { (eval echo configure:985: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n+  if { (eval echo configure:1209: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n     for file in conftest.*; do\n       case $file in\n-      *.c | *.o | *.obj | *.ilk | *.pdb) ;;\n+      *.c | *.o | *.obj) ;;\n       *) ac_cv_exeext=`echo $file | sed -e s/conftest//` ;;\n       esac\n     done\n@@ -1001,292 +1225,101 @@ test x\"${ac_cv_exeext}\" != xno && EXEEXT=${ac_cv_exeext}\n echo \"$ac_t\"\"${ac_cv_exeext}\" 1>&6\n ac_exeext=$EXEEXT\n \n+  fi\n+\n+\n+# Assumes glibcpp_builddir, glibcpp_srcdir are alreay set up and\n+# exported correctly in GLIBCPP_CONFIGURE.\n+glibcpp_toolexecdir=no\n+glibcpp_toolexeclibdir=no\n+glibcpp_prefixdir=${prefix}\n+\n+echo $ac_n \"checking for interface version number\"\"... $ac_c\" 1>&6\n+echo \"configure:1239: checking for interface version number\" >&5\n+libstdcxx_interface=$INTERFACE\n+echo \"$ac_t\"\"$libstdcxx_interface\" 1>&6\n+\n+# Process the option \"--enable-version-specific-runtime-libs\"\n+echo $ac_n \"checking for --enable-version-specific-runtime-libs\"\"... $ac_c\" 1>&6\n+echo \"configure:1245: checking for --enable-version-specific-runtime-libs\" >&5\n+# Check whether --enable-version-specific-runtime-libs or --disable-version-specific-runtime-libs was given.\n+if test \"${enable_version_specific_runtime_libs+set}\" = set; then\n+  enableval=\"$enable_version_specific_runtime_libs\"\n+  case \"$enableval\" in\n+ yes) version_specific_libs=yes ;;\n+ no)  version_specific_libs=no ;;\n+ *)   { echo \"configure: error: Unknown argument to enable/disable version-specific libs\" 1>&2; exit 1; };;\n+ esac\n+else\n+  version_specific_libs=no\n fi\n+# Option set, now we can test it.\n+echo \"$ac_t\"\"$version_specific_libs\" 1>&6\n \n+gcc_version_trigger=${srcdir}/../gcc/version.c\n+gcc_version_full=`grep version_string ${gcc_version_trigger} | sed -e 's/.*\\\"\\([^ \\\"]*\\)[ \\\"].*/\\1/'`\n+gcc_version=`echo ${gcc_version_full} | sed -e 's/\\(^ *\\) .*/\\1/'`\n \n-# Sanity check for the cross-compilation case:\n-echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:1010: checking how to run the C preprocessor\" >&5\n-# On Suns, sometimes $CPP names a directory.\n-if test -n \"$CPP\" && test -d \"$CPP\"; then\n-  CPP=\n+\n+\n+if test $version_specific_libs = yes; then\n+  # Need the gcc compiler version to know where to install libraries\n+  # and header files if --enable-version-specific-runtime-libs option\n+  # is selected.\n+    glibcpp_toolexecdir='$(libdir)/gcc-lib/$(target_alias)'\n+  glibcpp_toolexeclibdir='$(toolexecdir)/'${gcc_version}'$(MULTISUBDIR)'\n+  fi\n+\n+# Calculate glibcpp_toolexecdir, glibcpp_toolexeclibdir\n+# Install a library built with a cross compiler in tooldir, not libdir.\n+if test x\"$glibcpp_toolexecdir\" = x\"no\"; then \n+  if test -n \"$with_cross_host\" &&\n+     test x\"$with_cross_host\" != x\"no\"; then\n+    glibcpp_toolexecdir='$(exec_prefix)/$(target_alias)'\n+    glibcpp_toolexeclibdir='$(toolexecdir)/lib$(MULTISUBDIR)'\n+  else\n+    glibcpp_toolexecdir='$(libdir)/gcc-lib/$(target_alias)'\n+    glibcpp_toolexeclibdir='$(libdir)$(MULTISUBDIR)'\n+  fi\n fi\n-if test -z \"$CPP\"; then\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_CPP'+set}'`\\\" = set\"; then\n+\n+\n+\n+\n+\n+\n+# If the language specific compiler does not exist, but the \"gcc\" directory \n+# does, we do not build anything. Note, $r is set by the top-level Makefile.\n+# Note that when we look for the compiler, we search both with and without\n+# extension to handle cross and canadian cross builds. \n+compiler_name=cc1obj\n+rm -f skip-this-dir\n+echo $ac_n \"checking if compiler $compiler_name has been built\"\"... $ac_c\" 1>&6\n+echo \"configure:1299: checking if compiler $compiler_name has been built\" >&5\n+if eval \"test \\\"`echo '$''{'objc_cv_compiler_exists'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-    # This must be in double quotes, not single quotes, because CPP may get\n-  # substituted into the Makefile and \"${CC-cc}\" will confuse make.\n-  CPP=\"${CC-cc} -E\"\n-  # On the NeXT, cc -E runs the code through the compiler's parser,\n-  # not just through cpp.\n-  cat > conftest.$ac_ext <<EOF\n-#line 1025 \"configure\"\n-#include \"confdefs.h\"\n-#include <assert.h>\n-Syntax Error\n-EOF\n-ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1031: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n-ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n-if test -z \"$ac_err\"; then\n-  :\n-else\n-  echo \"$ac_err\" >&5\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -rf conftest*\n-  CPP=\"${CC-cc} -E -traditional-cpp\"\n-  cat > conftest.$ac_ext <<EOF\n-#line 1042 \"configure\"\n-#include \"confdefs.h\"\n-#include <assert.h>\n-Syntax Error\n-EOF\n-ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1048: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n-ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n-if test -z \"$ac_err\"; then\n-  :\n-else\n-  echo \"$ac_err\" >&5\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -rf conftest*\n-  CPP=\"${CC-cc} -nologo -E\"\n-  cat > conftest.$ac_ext <<EOF\n-#line 1059 \"configure\"\n-#include \"confdefs.h\"\n-#include <assert.h>\n-Syntax Error\n-EOF\n-ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1065: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n-ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n-if test -z \"$ac_err\"; then\n-  :\n-else\n-  echo \"$ac_err\" >&5\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -rf conftest*\n-  CPP=/lib/cpp\n-fi\n-rm -f conftest*\n-fi\n-rm -f conftest*\n+  objc_cv_compiler_exists=yes\n+if test -n \"$r\"; then\n+  if test -d \"$r\"/gcc; then\n+    if test -f \"$r\"/gcc/$compiler_name \\\n+       || test -f \"$r\"/gcc/$compiler_name.exe; then\n+      true\n+    else\n+      objc_cv_compiler_exists=no\n+      echo \"rm -f config.cache config.log multilib.out\" > skip-this-dir\n+    fi\n+  fi\n fi\n-rm -f conftest*\n-  ac_cv_prog_CPP=\"$CPP\"\n+\n fi\n-  CPP=\"$ac_cv_prog_CPP\"\n-else\n-  ac_cv_prog_CPP=\"$CPP\"\n+\n+echo \"$ac_t\"\"$objc_cv_compiler_exists\" 1>&6\n+if test x$objc_cv_compiler_exists = xno\n+then\n+  rm -f Makefile conftest* confdefs* core\n+  exit 0\n fi\n-echo \"$ac_t\"\"$CPP\" 1>&6\n-\n-ac_safe=`echo \"stdio.h\" | sed 'y%./+-%__p_%'`\n-echo $ac_n \"checking for stdio.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1091: checking for stdio.h\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  cat > conftest.$ac_ext <<EOF\n-#line 1096 \"configure\"\n-#include \"confdefs.h\"\n-#include <stdio.h>\n-EOF\n-ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1101: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n-ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n-if test -z \"$ac_err\"; then\n-  rm -rf conftest*\n-  eval \"ac_cv_header_$ac_safe=yes\"\n-else\n-  echo \"$ac_err\" >&5\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -rf conftest*\n-  eval \"ac_cv_header_$ac_safe=no\"\n-fi\n-rm -f conftest*\n-fi\n-if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n-  echo \"$ac_t\"\"yes\" 1>&6\n-  :\n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n-{ echo \"configure: error: Can't find stdio.h.\n-You must have a usable C system for the target already installed, at least\n-including headers and, preferably, the library, before you can configure\n-the Objective C runtime system.  If necessary, install gcc now with \n-\\`LANGUAGES=c', then the target library, then build with \\`LANGUAGES=objc'.\" 1>&2; exit 1; }\n-fi\n-\n-\n-echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:1129: checking for ANSI C header files\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  cat > conftest.$ac_ext <<EOF\n-#line 1134 \"configure\"\n-#include \"confdefs.h\"\n-#include <stdlib.h>\n-#include <stdarg.h>\n-#include <string.h>\n-#include <float.h>\n-EOF\n-ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1142: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n-ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n-if test -z \"$ac_err\"; then\n-  rm -rf conftest*\n-  ac_cv_header_stdc=yes\n-else\n-  echo \"$ac_err\" >&5\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -rf conftest*\n-  ac_cv_header_stdc=no\n-fi\n-rm -f conftest*\n-\n-if test $ac_cv_header_stdc = yes; then\n-  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n-cat > conftest.$ac_ext <<EOF\n-#line 1159 \"configure\"\n-#include \"confdefs.h\"\n-#include <string.h>\n-EOF\n-if (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n-  egrep \"memchr\" >/dev/null 2>&1; then\n-  :\n-else\n-  rm -rf conftest*\n-  ac_cv_header_stdc=no\n-fi\n-rm -f conftest*\n-\n-fi\n-\n-if test $ac_cv_header_stdc = yes; then\n-  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n-cat > conftest.$ac_ext <<EOF\n-#line 1177 \"configure\"\n-#include \"confdefs.h\"\n-#include <stdlib.h>\n-EOF\n-if (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n-  egrep \"free\" >/dev/null 2>&1; then\n-  :\n-else\n-  rm -rf conftest*\n-  ac_cv_header_stdc=no\n-fi\n-rm -f conftest*\n-\n-fi\n-\n-if test $ac_cv_header_stdc = yes; then\n-  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.\n-if test \"$cross_compiling\" = yes; then\n-  :\n-else\n-  cat > conftest.$ac_ext <<EOF\n-#line 1198 \"configure\"\n-#include \"confdefs.h\"\n-#include <ctype.h>\n-#define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n-#define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))\n-#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))\n-int main () { int i; for (i = 0; i < 256; i++)\n-if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n-exit (0); }\n-\n-EOF\n-if { (eval echo configure:1209: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n-then\n-  :\n-else\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -fr conftest*\n-  ac_cv_header_stdc=no\n-fi\n-rm -fr conftest*\n-fi\n-\n-fi\n-fi\n-\n-echo \"$ac_t\"\"$ac_cv_header_stdc\" 1>&6\n-if test $ac_cv_header_stdc = yes; then\n-  cat >> confdefs.h <<\\EOF\n-#define STDC_HEADERS 1\n-EOF\n-\n-fi\n-\n-\n-for ac_hdr in sched.h\n-do\n-ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n-echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:1237: checking for $ac_hdr\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  cat > conftest.$ac_ext <<EOF\n-#line 1242 \"configure\"\n-#include \"confdefs.h\"\n-#include <$ac_hdr>\n-EOF\n-ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1247: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n-ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n-if test -z \"$ac_err\"; then\n-  rm -rf conftest*\n-  eval \"ac_cv_header_$ac_safe=yes\"\n-else\n-  echo \"$ac_err\" >&5\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -rf conftest*\n-  eval \"ac_cv_header_$ac_safe=no\"\n-fi\n-rm -f conftest*\n-fi\n-if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n-  echo \"$ac_t\"\"yes\" 1>&6\n-    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`\n-  cat >> confdefs.h <<EOF\n-#define $ac_tr_hdr 1\n-EOF\n- \n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n-fi\n-done\n-\n-\n-# Determine CFLAGS for gthread.\n-\n-echo $ac_n \"checking for gthread cflags\"\"... $ac_c\" 1>&6\n-echo \"configure:1277: checking for gthread cflags\" >&5\n-if eval \"test \\\"`echo '$''{'objc_cv_gthread_flags'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  if test -f \"$r\"/gcc/Makefile\n-then\n-  objc_cv_gthread_flags=`grep \\^GTHREAD_FLAGS \"$r\"/gcc/Makefile | awk -F= '{ print $2 }'`\n-else\n-  { echo \"configure: error: not found\" 1>&2; exit 1; }\n-fi\n-fi\n-\n-echo \"$ac_t\"\"$objc_cv_gthread_flags\" 1>&6\n-GTHREAD_FLAGS=$objc_cv_gthread_flags\n \n \n # Disable shared libs by default\n@@ -1315,7 +1348,7 @@ fi\n \n # Enable Win32 DLL on MS Windows - FIXME \n  \n-# Use libtool\n+\n # Check whether --enable-static or --disable-static was given.\n if test \"${enable_static+set}\" = set; then\n   enableval=\"$enable_static\"\n@@ -1362,51 +1395,6 @@ else\n   enable_fast_install=yes\n fi\n \n-\n-# Make sure we can run config.sub.\n-if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :\n-else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n-fi\n-\n-echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:1373: checking host system type\" >&5\n-\n-host_alias=$host\n-case \"$host_alias\" in\n-NONE)\n-  case $nonopt in\n-  NONE)\n-    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :\n-    else { echo \"configure: error: can not guess host type; you must specify one\" 1>&2; exit 1; }\n-    fi ;;\n-  *) host_alias=$nonopt ;;\n-  esac ;;\n-esac\n-\n-host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`\n-host_cpu=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n-host_vendor=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n-host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n-echo \"$ac_t\"\"$host\" 1>&6\n-\n-echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:1394: checking build system type\" >&5\n-\n-build_alias=$build\n-case \"$build_alias\" in\n-NONE)\n-  case $nonopt in\n-  NONE) build_alias=$host_alias ;;\n-  *) build_alias=$nonopt ;;\n-  esac ;;\n-esac\n-\n-build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`\n-build_cpu=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n-build_vendor=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n-build_os=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n-echo \"$ac_t\"\"$build\" 1>&6\n-\n # Check whether --with-gnu-ld or --without-gnu-ld was given.\n if test \"${with_gnu_ld+set}\" = set; then\n   withval=\"$with_gnu_ld\"\n@@ -1419,7 +1407,7 @@ ac_prog=ld\n if test \"$GCC\" = yes; then\n   # Check if gcc -print-prog-name=ld gives a path.\n   echo $ac_n \"checking for ld used by GCC\"\"... $ac_c\" 1>&6\n-echo \"configure:1423: checking for ld used by GCC\" >&5\n+echo \"configure:1411: checking for ld used by GCC\" >&5\n   case $host in\n   *-*-mingw*)\n     # gcc leaves a trailing carriage return which upsets mingw\n@@ -1449,10 +1437,10 @@ echo \"configure:1423: checking for ld used by GCC\" >&5\n   esac\n elif test \"$with_gnu_ld\" = yes; then\n   echo $ac_n \"checking for GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1453: checking for GNU ld\" >&5\n+echo \"configure:1441: checking for GNU ld\" >&5\n else\n   echo $ac_n \"checking for non-GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1456: checking for non-GNU ld\" >&5\n+echo \"configure:1444: checking for non-GNU ld\" >&5\n fi\n if eval \"test \\\"`echo '$''{'lt_cv_path_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1487,7 +1475,7 @@ else\n fi\n test -z \"$LD\" && { echo \"configure: error: no acceptable ld found in \\$PATH\" 1>&2; exit 1; }\n echo $ac_n \"checking if the linker ($LD) is GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1491: checking if the linker ($LD) is GNU ld\" >&5\n+echo \"configure:1479: checking if the linker ($LD) is GNU ld\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_prog_gnu_ld'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1504,7 +1492,7 @@ with_gnu_ld=$lt_cv_prog_gnu_ld\n \n \n echo $ac_n \"checking for $LD option to reload object files\"\"... $ac_c\" 1>&6\n-echo \"configure:1508: checking for $LD option to reload object files\" >&5\n+echo \"configure:1496: checking for $LD option to reload object files\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_ld_reload_flag'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1516,7 +1504,7 @@ reload_flag=$lt_cv_ld_reload_flag\n test -n \"$reload_flag\" && reload_flag=\" $reload_flag\"\n \n echo $ac_n \"checking for BSD-compatible nm\"\"... $ac_c\" 1>&6\n-echo \"configure:1520: checking for BSD-compatible nm\" >&5\n+echo \"configure:1508: checking for BSD-compatible nm\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_path_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1553,29 +1541,8 @@ fi\n NM=\"$lt_cv_path_NM\"\n echo \"$ac_t\"\"$NM\" 1>&6\n \n-echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n-echo \"configure:1558: checking whether ln -s works\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_LN_S'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  rm -f conftestdata\n-if ln -s X conftestdata 2>/dev/null\n-then\n-  rm -f conftestdata\n-  ac_cv_prog_LN_S=\"ln -s\"\n-else\n-  ac_cv_prog_LN_S=ln\n-fi\n-fi\n-LN_S=\"$ac_cv_prog_LN_S\"\n-if test \"$ac_cv_prog_LN_S\" = \"ln -s\"; then\n-  echo \"$ac_t\"\"yes\" 1>&6\n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n-fi\n-\n echo $ac_n \"checking how to recognise dependant libraries\"\"... $ac_c\" 1>&6\n-echo \"configure:1579: checking how to recognise dependant libraries\" >&5\n+echo \"configure:1546: checking how to recognise dependant libraries\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_deplibs_check_method'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1739,13 +1706,13 @@ file_magic_cmd=$lt_cv_file_magic_cmd\n deplibs_check_method=$lt_cv_deplibs_check_method\n \n echo $ac_n \"checking for object suffix\"\"... $ac_c\" 1>&6\n-echo \"configure:1743: checking for object suffix\" >&5\n+echo \"configure:1710: checking for object suffix\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_objext'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   rm -f conftest*\n echo 'int i = 1;' > conftest.$ac_ext\n-if { (eval echo configure:1749: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1716: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   for ac_file in conftest.*; do\n     case $ac_file in\n     *.c) ;;\n@@ -1762,20 +1729,14 @@ echo \"$ac_t\"\"$ac_cv_objext\" 1>&6\n OBJEXT=$ac_cv_objext\n ac_objext=$ac_cv_objext\n \n-if test $host != $build; then\n-  ac_tool_prefix=${host_alias}-\n-else\n-  ac_tool_prefix=\n-fi\n-\n # Autoconf 2.13's AC_OBJEXT and AC_EXEEXT macros only works for C compilers!\n \n # Only perform the check for file, if the check method requires it\n case $deplibs_check_method in\n file_magic*)\n   if test \"$file_magic_cmd\" = '$MAGIC_CMD'; then\n     echo $ac_n \"checking for ${ac_tool_prefix}file\"\"... $ac_c\" 1>&6\n-echo \"configure:1779: checking for ${ac_tool_prefix}file\" >&5\n+echo \"configure:1740: checking for ${ac_tool_prefix}file\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_path_MAGIC_CMD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1837,7 +1798,7 @@ fi\n if test -z \"$lt_cv_path_MAGIC_CMD\"; then\n   if test -n \"$ac_tool_prefix\"; then\n     echo $ac_n \"checking for file\"\"... $ac_c\" 1>&6\n-echo \"configure:1841: checking for file\" >&5\n+echo \"configure:1802: checking for file\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_path_MAGIC_CMD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1908,7 +1869,7 @@ esac\n # Extract the first word of \"${ac_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1912: checking for $ac_word\" >&5\n+echo \"configure:1873: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1940,7 +1901,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1944: checking for $ac_word\" >&5\n+echo \"configure:1905: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1975,7 +1936,7 @@ fi\n # Extract the first word of \"${ac_tool_prefix}strip\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}strip; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1979: checking for $ac_word\" >&5\n+echo \"configure:1940: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_STRIP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2007,7 +1968,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"strip\", so it can be a program name with args.\n set dummy strip; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2011: checking for $ac_word\" >&5\n+echo \"configure:1972: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_STRIP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2074,8 +2035,8 @@ test x\"$pic_mode\" = xno && libtool_flags=\"$libtool_flags --prefer-non-pic\"\n case $host in\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 2078 \"configure\"' > conftest.$ac_ext\n-  if { (eval echo configure:2079: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  echo '#line 2039 \"configure\"' > conftest.$ac_ext\n+  if { (eval echo configure:2040: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n     case `/usr/bin/file conftest.$ac_objext` in\n     *32-bit*)\n       LD=\"${LD-ld} -32\"\n@@ -2096,7 +2057,7 @@ case $host in\n   SAVE_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\"$CFLAGS -belf\"\n   echo $ac_n \"checking whether the C compiler needs -belf\"\"... $ac_c\" 1>&6\n-echo \"configure:2100: checking whether the C compiler needs -belf\" >&5\n+echo \"configure:2061: checking whether the C compiler needs -belf\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_cc_needs_belf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2109,14 +2070,14 @@ ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$a\n cross_compiling=$ac_cv_prog_cc_cross\n \n      cat > conftest.$ac_ext <<EOF\n-#line 2113 \"configure\"\n+#line 2074 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2120: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2081: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   lt_cv_cc_needs_belf=yes\n else\n@@ -2146,7 +2107,7 @@ echo \"$ac_t\"\"$lt_cv_cc_needs_belf\" 1>&6\n   # Extract the first word of \"${ac_tool_prefix}dlltool\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2150: checking for $ac_word\" >&5\n+echo \"configure:2111: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2178,7 +2139,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"dlltool\", so it can be a program name with args.\n set dummy dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2182: checking for $ac_word\" >&5\n+echo \"configure:2143: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2213,7 +2174,7 @@ fi\n   # Extract the first word of \"${ac_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2217: checking for $ac_word\" >&5\n+echo \"configure:2178: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2245,7 +2206,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"as\", so it can be a program name with args.\n set dummy as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2249: checking for $ac_word\" >&5\n+echo \"configure:2210: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2280,7 +2241,7 @@ fi\n   # Extract the first word of \"${ac_tool_prefix}objdump\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}objdump; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2284: checking for $ac_word\" >&5\n+echo \"configure:2245: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJDUMP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2306,203 +2267,616 @@ else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n \n-\n-if test -z \"$ac_cv_prog_OBJDUMP\"; then\n-if test -n \"$ac_tool_prefix\"; then\n-  # Extract the first word of \"objdump\", so it can be a program name with args.\n-set dummy objdump; ac_word=$2\n-echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2316: checking for $ac_word\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJDUMP'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  if test -n \"$OBJDUMP\"; then\n-  ac_cv_prog_OBJDUMP=\"$OBJDUMP\" # Let the user override the test.\n+\n+if test -z \"$ac_cv_prog_OBJDUMP\"; then\n+if test -n \"$ac_tool_prefix\"; then\n+  # Extract the first word of \"objdump\", so it can be a program name with args.\n+set dummy objdump; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:2277: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJDUMP'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$OBJDUMP\"; then\n+  ac_cv_prog_OBJDUMP=\"$OBJDUMP\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_OBJDUMP=\"objdump\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_prog_OBJDUMP\" && ac_cv_prog_OBJDUMP=\"false\"\n+fi\n+fi\n+OBJDUMP=\"$ac_cv_prog_OBJDUMP\"\n+if test -n \"$OBJDUMP\"; then\n+  echo \"$ac_t\"\"$OBJDUMP\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+else\n+  OBJDUMP=\"false\"\n+fi\n+fi\n+\n+\n+  # recent cygwin and mingw systems supply a stub DllMain which the user\n+  # can override, but on older systems we have to supply one\n+  echo $ac_n \"checking if libtool should supply DllMain function\"\"... $ac_c\" 1>&6\n+echo \"configure:2313: checking if libtool should supply DllMain function\" >&5\n+if eval \"test \\\"`echo '$''{'lt_cv_need_dllmain'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 2318 \"configure\"\n+#include \"confdefs.h\"\n+\n+int main() {\n+extern int __attribute__((__stdcall__)) DllMain(void*, int, void*);\n+      DllMain (0, 0, 0);\n+; return 0; }\n+EOF\n+if { (eval echo configure:2326: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+  rm -rf conftest*\n+  lt_cv_need_dllmain=no\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  lt_cv_need_dllmain=yes\n+fi\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$lt_cv_need_dllmain\" 1>&6\n+\n+  case $host/$CC in\n+  *-*-cygwin*/gcc*-mno-cygwin*|*-*-mingw*)\n+    # old mingw systems require \"-dll\" to link a DLL, while more recent ones\n+    # require \"-mdll\"\n+    SAVE_CFLAGS=\"$CFLAGS\"\n+    CFLAGS=\"$CFLAGS -mdll\"\n+    echo $ac_n \"checking how to link DLLs\"\"... $ac_c\" 1>&6\n+echo \"configure:2347: checking how to link DLLs\" >&5\n+if eval \"test \\\"`echo '$''{'lt_cv_cc_dll_switch'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 2352 \"configure\"\n+#include \"confdefs.h\"\n+\n+int main() {\n+\n+; return 0; }\n+EOF\n+if { (eval echo configure:2359: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+  rm -rf conftest*\n+  lt_cv_cc_dll_switch=-mdll\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  lt_cv_cc_dll_switch=-dll\n+fi\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$lt_cv_cc_dll_switch\" 1>&6\n+    CFLAGS=\"$SAVE_CFLAGS\" ;;\n+  *-*-cygwin* | *-*-pw32*)\n+    # cygwin systems need to pass --dll to the linker, and not link\n+    # crt.o which will require a WinMain@16 definition.\n+    lt_cv_cc_dll_switch=\"-Wl,--dll -nostartfiles\" ;;\n+  esac\n+  ;;\n+  \n+esac\n+\n+\n+# Save cache, so that ltconfig can load it\n+cat > confcache <<\\EOF\n+# This file is a shell script that caches the results of configure\n+# tests run on this system so they can be shared between configure\n+# scripts and configure runs.  It is not useful on other systems.\n+# If it contains results you don't want to keep, you may remove or edit it.\n+#\n+# By default, configure uses ./config.cache as the cache file,\n+# creating it if it does not exist already.  You can give configure\n+# the --cache-file=FILE option to use a different cache file; that is\n+# what configure does when it calls configure scripts in\n+# subdirectories, so they share the cache.\n+# Giving --cache-file=/dev/null disables caching, for debugging configure.\n+# config.status only pays attention to the cache file if you give it the\n+# --recheck option to rerun configure.\n+#\n+EOF\n+# The following way of writing the cache mishandles newlines in values,\n+# but we know of no workaround that is simple, portable, and efficient.\n+# So, don't put newlines in cache variables' values.\n+# Ultrix sh set writes to stderr and can't be redirected directly,\n+# and sets the high bit in the cache file unless we assign to the vars.\n+(set) 2>&1 |\n+  case `(ac_space=' '; set | grep ac_space) 2>&1` in\n+  *ac_space=\\ *)\n+    # `set' does not quote correctly, so add quotes (double-quote substitution\n+    # turns \\\\\\\\ into \\\\, and sed turns \\\\ into \\).\n+    sed -n \\\n+      -e \"s/'/'\\\\\\\\''/g\" \\\n+      -e \"s/^\\\\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\\\\)=\\\\(.*\\\\)/\\\\1=\\${\\\\1='\\\\2'}/p\"\n+    ;;\n+  *)\n+    # `set' quotes correctly as required by POSIX, so do not add quotes.\n+    sed -n -e 's/^\\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\\)=\\(.*\\)/\\1=${\\1=\\2}/p'\n+    ;;\n+  esac >> confcache\n+if cmp -s $cache_file confcache; then\n+  :\n+else\n+  if test -w $cache_file; then\n+    echo \"updating cache $cache_file\"\n+    cat confcache > $cache_file\n+  else\n+    echo \"not updating unwritable cache $cache_file\"\n+  fi\n+fi\n+rm -f confcache\n+\n+\n+# Actually configure libtool.  ac_aux_dir is where install-sh is found.\n+AR=\"$AR\" LTCC=\"$CC\" CC=\"$CC\" CFLAGS=\"$CFLAGS\" CPPFLAGS=\"$CPPFLAGS\" \\\n+MAGIC_CMD=\"$MAGIC_CMD\" LD=\"$LD\" LDFLAGS=\"$LDFLAGS\" LIBS=\"$LIBS\" \\\n+LN_S=\"$LN_S\" NM=\"$NM\" RANLIB=\"$RANLIB\" STRIP=\"$STRIP\" \\\n+AS=\"$AS\" DLLTOOL=\"$DLLTOOL\" OBJDUMP=\"$OBJDUMP\" \\\n+objext=\"$OBJEXT\" exeext=\"$EXEEXT\" reload_flag=\"$reload_flag\" \\\n+deplibs_check_method=\"$deplibs_check_method\" file_magic_cmd=\"$file_magic_cmd\" \\\n+${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig --no-reexec \\\n+$libtool_flags --no-verify --build=\"$build\" $ac_aux_dir/ltmain.sh $host \\\n+|| { echo \"configure: error: libtool configure failed\" 1>&2; exit 1; }\n+\n+# Reload cache, that may have been modified by ltconfig\n+if test -r \"$cache_file\"; then\n+  echo \"loading cache $cache_file\"\n+  . $cache_file\n+else\n+  echo \"creating cache $cache_file\"\n+  > $cache_file\n+fi\n+\n+\n+# This can be used to rebuild libtool when needed\n+LIBTOOL_DEPS=\"$ac_aux_dir/ltconfig $ac_aux_dir/ltmain.sh $ac_aux_dir/ltcf-c.sh\"\n+\n+# Always use our own libtool.\n+LIBTOOL='$(SHELL) $(top_builddir)/libtool'\n+\n+# Redirect the config.log output again, so that the ltconfig log is not\n+# clobbered by the next message.\n+exec 5>>./config.log\n+\n+  \n+\n+  \n+\t \n+\t \n+\n+test \"$AR\" || AR=ar\n+\n+if test \"$RANLIB\"; then :\n+  \n+else\n+  # Extract the first word of \"ranlib\", so it can be a program name with args.\n+set dummy ranlib; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:2477: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$RANLIB\"; then\n+  ac_cv_prog_RANLIB=\"$RANLIB\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_RANLIB=\"ranlib\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_prog_RANLIB\" && ac_cv_prog_RANLIB=\":\"\n+fi\n+fi\n+RANLIB=\"$ac_cv_prog_RANLIB\"\n+if test -n \"$RANLIB\"; then\n+  echo \"$ac_t\"\"$RANLIB\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+fi\n+# Find a good install program.  We prefer a C program (faster),\n+# so one script is as good as another.  But avoid the broken or\n+# incompatible versions:\n+# SysV /etc/install, /usr/sbin/install\n+# SunOS /usr/etc/install\n+# IRIX /sbin/install\n+# AIX /bin/install\n+# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag\n+# AFS /usr/afsws/bin/install, which mishandles nonexistent args\n+# SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n+# ./install, which can be erroneously created by make from ./install.sh.\n+echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n+echo \"configure:2517: checking for a BSD compatible install\" >&5\n+if test -z \"$INSTALL\"; then\n+if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+    IFS=\"${IFS= \t}\"; ac_save_IFS=\"$IFS\"; IFS=\":\"\n+  for ac_dir in $PATH; do\n+    # Account for people who put trailing slashes in PATH elements.\n+    case \"$ac_dir/\" in\n+    /|./|.//|/etc/*|/usr/sbin/*|/usr/etc/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;\n+    *)\n+      # OSF1 and SCO ODT 3.0 have their own names for install.\n+      # Don't use installbsd from OSF since it installs stuff as root\n+      # by default.\n+      for ac_prog in ginstall scoinst install; do\n+        if test -f $ac_dir/$ac_prog; then\n+\t  if test $ac_prog = install &&\n+            grep dspmsg $ac_dir/$ac_prog >/dev/null 2>&1; then\n+\t    # AIX install.  It has an incompatible calling convention.\n+\t    :\n+\t  else\n+\t    ac_cv_path_install=\"$ac_dir/$ac_prog -c\"\n+\t    break 2\n+\t  fi\n+\tfi\n+      done\n+      ;;\n+    esac\n+  done\n+  IFS=\"$ac_save_IFS\"\n+\n+fi\n+  if test \"${ac_cv_path_install+set}\" = set; then\n+    INSTALL=\"$ac_cv_path_install\"\n+  else\n+    # As a last resort, use the slow shell script.  We don't cache a\n+    # path for INSTALL within a source directory, because that will\n+    # break other packages using the cache if that directory is\n+    # removed, or if the path is relative.\n+    INSTALL=\"$ac_install_sh\"\n+  fi\n+fi\n+echo \"$ac_t\"\"$INSTALL\" 1>&6\n+\n+# Use test -z because SunOS4 sh mishandles braces in ${var-val}.\n+# It thinks the first close brace ends the variable substitution.\n+test -z \"$INSTALL_PROGRAM\" && INSTALL_PROGRAM='${INSTALL}'\n+\n+test -z \"$INSTALL_SCRIPT\" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'\n+\n+test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n+\n+echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n+echo \"configure:2570: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftestmake <<\\EOF\n+all:\n+\t@echo 'ac_maketemp=\"${MAKE}\"'\n+EOF\n+# GNU make sometimes prints \"make[1]: Entering...\", which would confuse us.\n+eval `${MAKE-make} -f conftestmake 2>/dev/null | grep temp=`\n+if test -n \"$ac_maketemp\"; then\n+  eval ac_cv_prog_make_${ac_make}_set=yes\n+else\n+  eval ac_cv_prog_make_${ac_make}_set=no\n+fi\n+rm -f conftestmake\n+fi\n+if eval \"test \\\"`echo '$ac_cv_prog_make_'${ac_make}_set`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+  SET_MAKE=\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+  SET_MAKE=\"MAKE=${MAKE-make}\"\n+fi\n+\n+\n+# Sanity check for the cross-compilation case:\n+echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n+echo \"configure:2599: checking how to run the C preprocessor\" >&5\n+# On Suns, sometimes $CPP names a directory.\n+if test -n \"$CPP\" && test -d \"$CPP\"; then\n+  CPP=\n+fi\n+if test -z \"$CPP\"; then\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_CPP'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+    # This must be in double quotes, not single quotes, because CPP may get\n+  # substituted into the Makefile and \"${CC-cc}\" will confuse make.\n+  CPP=\"${CC-cc} -E\"\n+  # On the NeXT, cc -E runs the code through the compiler's parser,\n+  # not just through cpp.\n+  cat > conftest.$ac_ext <<EOF\n+#line 2614 \"configure\"\n+#include \"confdefs.h\"\n+#include <assert.h>\n+Syntax Error\n+EOF\n+ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n+{ (eval echo configure:2620: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n+if test -z \"$ac_err\"; then\n+  :\n+else\n+  echo \"$ac_err\" >&5\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  CPP=\"${CC-cc} -E -traditional-cpp\"\n+  cat > conftest.$ac_ext <<EOF\n+#line 2631 \"configure\"\n+#include \"confdefs.h\"\n+#include <assert.h>\n+Syntax Error\n+EOF\n+ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n+{ (eval echo configure:2637: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n+if test -z \"$ac_err\"; then\n+  :\n+else\n+  echo \"$ac_err\" >&5\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  CPP=\"${CC-cc} -nologo -E\"\n+  cat > conftest.$ac_ext <<EOF\n+#line 2648 \"configure\"\n+#include \"confdefs.h\"\n+#include <assert.h>\n+Syntax Error\n+EOF\n+ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n+{ (eval echo configure:2654: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n+if test -z \"$ac_err\"; then\n+  :\n+else\n+  echo \"$ac_err\" >&5\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  CPP=/lib/cpp\n+fi\n+rm -f conftest*\n+fi\n+rm -f conftest*\n+fi\n+rm -f conftest*\n+  ac_cv_prog_CPP=\"$CPP\"\n+fi\n+  CPP=\"$ac_cv_prog_CPP\"\n+else\n+  ac_cv_prog_CPP=\"$CPP\"\n+fi\n+echo \"$ac_t\"\"$CPP\" 1>&6\n+\n+ac_safe=`echo \"stdio.h\" | sed 'y%./+-%__p_%'`\n+echo $ac_n \"checking for stdio.h\"\"... $ac_c\" 1>&6\n+echo \"configure:2680: checking for stdio.h\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 2685 \"configure\"\n+#include \"confdefs.h\"\n+#include <stdio.h>\n+EOF\n+ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n+{ (eval echo configure:2690: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n+if test -z \"$ac_err\"; then\n+  rm -rf conftest*\n+  eval \"ac_cv_header_$ac_safe=yes\"\n+else\n+  echo \"$ac_err\" >&5\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  eval \"ac_cv_header_$ac_safe=no\"\n+fi\n+rm -f conftest*\n+fi\n+if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+  :\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+{ echo \"configure: error: Can't find stdio.h.\n+You must have a usable C system for the target already installed, at least\n+including headers and, preferably, the library, before you can configure\n+the Objective C runtime system.  If necessary, install gcc now with \n+\\`LANGUAGES=c', then the target library, then build with \\`LANGUAGES=objc'.\" 1>&2; exit 1; }\n+fi\n+\n+\n+echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n+echo \"configure:2718: checking for ANSI C header files\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 2723 \"configure\"\n+#include \"confdefs.h\"\n+#include <stdlib.h>\n+#include <stdarg.h>\n+#include <string.h>\n+#include <float.h>\n+EOF\n+ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n+{ (eval echo configure:2731: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n+if test -z \"$ac_err\"; then\n+  rm -rf conftest*\n+  ac_cv_header_stdc=yes\n+else\n+  echo \"$ac_err\" >&5\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  ac_cv_header_stdc=no\n+fi\n+rm -f conftest*\n+\n+if test $ac_cv_header_stdc = yes; then\n+  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n+cat > conftest.$ac_ext <<EOF\n+#line 2748 \"configure\"\n+#include \"confdefs.h\"\n+#include <string.h>\n+EOF\n+if (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n+  egrep \"memchr\" >/dev/null 2>&1; then\n+  :\n else\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n-  ac_dummy=\"$PATH\"\n-  for ac_dir in $ac_dummy; do\n-    test -z \"$ac_dir\" && ac_dir=.\n-    if test -f $ac_dir/$ac_word; then\n-      ac_cv_prog_OBJDUMP=\"objdump\"\n-      break\n-    fi\n-  done\n-  IFS=\"$ac_save_ifs\"\n-  test -z \"$ac_cv_prog_OBJDUMP\" && ac_cv_prog_OBJDUMP=\"false\"\n-fi\n+  rm -rf conftest*\n+  ac_cv_header_stdc=no\n fi\n-OBJDUMP=\"$ac_cv_prog_OBJDUMP\"\n-if test -n \"$OBJDUMP\"; then\n-  echo \"$ac_t\"\"$OBJDUMP\" 1>&6\n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n+rm -f conftest*\n+\n fi\n \n+if test $ac_cv_header_stdc = yes; then\n+  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n+cat > conftest.$ac_ext <<EOF\n+#line 2766 \"configure\"\n+#include \"confdefs.h\"\n+#include <stdlib.h>\n+EOF\n+if (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n+  egrep \"free\" >/dev/null 2>&1; then\n+  :\n else\n-  OBJDUMP=\"false\"\n-fi\n+  rm -rf conftest*\n+  ac_cv_header_stdc=no\n fi\n+rm -f conftest*\n \n+fi\n \n-  # recent cygwin and mingw systems supply a stub DllMain which the user\n-  # can override, but on older systems we have to supply one\n-  echo $ac_n \"checking if libtool should supply DllMain function\"\"... $ac_c\" 1>&6\n-echo \"configure:2352: checking if libtool should supply DllMain function\" >&5\n-if eval \"test \\\"`echo '$''{'lt_cv_need_dllmain'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n+if test $ac_cv_header_stdc = yes; then\n+  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.\n+if test \"$cross_compiling\" = yes; then\n+  :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2357 \"configure\"\n+#line 2787 \"configure\"\n #include \"confdefs.h\"\n+#include <ctype.h>\n+#define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n+#define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))\n+#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))\n+int main () { int i; for (i = 0; i < 256; i++)\n+if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n+exit (0); }\n \n-int main() {\n-extern int __attribute__((__stdcall__)) DllMain(void*, int, void*);\n-      DllMain (0, 0, 0);\n-; return 0; }\n EOF\n-if { (eval echo configure:2365: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n-  rm -rf conftest*\n-  lt_cv_need_dllmain=no\n+if { (eval echo configure:2798: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+then\n+  :\n else\n   echo \"configure: failed program was:\" >&5\n   cat conftest.$ac_ext >&5\n-  rm -rf conftest*\n-  lt_cv_need_dllmain=yes\n+  rm -fr conftest*\n+  ac_cv_header_stdc=no\n fi\n-rm -f conftest*\n+rm -fr conftest*\n fi\n \n-echo \"$ac_t\"\"$lt_cv_need_dllmain\" 1>&6\n+fi\n+fi\n \n-  case $host/$CC in\n-  *-*-cygwin*/gcc*-mno-cygwin*|*-*-mingw*)\n-    # old mingw systems require \"-dll\" to link a DLL, while more recent ones\n-    # require \"-mdll\"\n-    SAVE_CFLAGS=\"$CFLAGS\"\n-    CFLAGS=\"$CFLAGS -mdll\"\n-    echo $ac_n \"checking how to link DLLs\"\"... $ac_c\" 1>&6\n-echo \"configure:2386: checking how to link DLLs\" >&5\n-if eval \"test \\\"`echo '$''{'lt_cv_cc_dll_switch'+set}'`\\\" = set\"; then\n+echo \"$ac_t\"\"$ac_cv_header_stdc\" 1>&6\n+if test $ac_cv_header_stdc = yes; then\n+  cat >> confdefs.h <<\\EOF\n+#define STDC_HEADERS 1\n+EOF\n+\n+fi\n+\n+\n+for ac_hdr in sched.h\n+do\n+ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n+echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n+echo \"configure:2826: checking for $ac_hdr\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2391 \"configure\"\n+#line 2831 \"configure\"\n #include \"confdefs.h\"\n-\n-int main() {\n-\n-; return 0; }\n+#include <$ac_hdr>\n EOF\n-if { (eval echo configure:2398: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n+{ (eval echo configure:2836: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n+if test -z \"$ac_err\"; then\n   rm -rf conftest*\n-  lt_cv_cc_dll_switch=-mdll\n+  eval \"ac_cv_header_$ac_safe=yes\"\n else\n+  echo \"$ac_err\" >&5\n   echo \"configure: failed program was:\" >&5\n   cat conftest.$ac_ext >&5\n   rm -rf conftest*\n-  lt_cv_cc_dll_switch=-dll\n+  eval \"ac_cv_header_$ac_safe=no\"\n fi\n rm -f conftest*\n fi\n-\n-echo \"$ac_t\"\"$lt_cv_cc_dll_switch\" 1>&6\n-    CFLAGS=\"$SAVE_CFLAGS\" ;;\n-  *-*-cygwin* | *-*-pw32*)\n-    # cygwin systems need to pass --dll to the linker, and not link\n-    # crt.o which will require a WinMain@16 definition.\n-    lt_cv_cc_dll_switch=\"-Wl,--dll -nostartfiles\" ;;\n-  esac\n-  ;;\n-  \n-esac\n-\n-\n-# Save cache, so that ltconfig can load it\n-cat > confcache <<\\EOF\n-# This file is a shell script that caches the results of configure\n-# tests run on this system so they can be shared between configure\n-# scripts and configure runs.  It is not useful on other systems.\n-# If it contains results you don't want to keep, you may remove or edit it.\n-#\n-# By default, configure uses ./config.cache as the cache file,\n-# creating it if it does not exist already.  You can give configure\n-# the --cache-file=FILE option to use a different cache file; that is\n-# what configure does when it calls configure scripts in\n-# subdirectories, so they share the cache.\n-# Giving --cache-file=/dev/null disables caching, for debugging configure.\n-# config.status only pays attention to the cache file if you give it the\n-# --recheck option to rerun configure.\n-#\n+if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`\n+  cat >> confdefs.h <<EOF\n+#define $ac_tr_hdr 1\n EOF\n-# The following way of writing the cache mishandles newlines in values,\n-# but we know of no workaround that is simple, portable, and efficient.\n-# So, don't put newlines in cache variables' values.\n-# Ultrix sh set writes to stderr and can't be redirected directly,\n-# and sets the high bit in the cache file unless we assign to the vars.\n-(set) 2>&1 |\n-  case `(ac_space=' '; set | grep ac_space) 2>&1` in\n-  *ac_space=\\ *)\n-    # `set' does not quote correctly, so add quotes (double-quote substitution\n-    # turns \\\\\\\\ into \\\\, and sed turns \\\\ into \\).\n-    sed -n \\\n-      -e \"s/'/'\\\\\\\\''/g\" \\\n-      -e \"s/^\\\\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\\\\)=\\\\(.*\\\\)/\\\\1=\\${\\\\1='\\\\2'}/p\"\n-    ;;\n-  *)\n-    # `set' quotes correctly as required by POSIX, so do not add quotes.\n-    sed -n -e 's/^\\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\\)=\\(.*\\)/\\1=${\\1=\\2}/p'\n-    ;;\n-  esac >> confcache\n-if cmp -s $cache_file confcache; then\n-  :\n+ \n else\n-  if test -w $cache_file; then\n-    echo \"updating cache $cache_file\"\n-    cat confcache > $cache_file\n-  else\n-    echo \"not updating unwritable cache $cache_file\"\n-  fi\n+  echo \"$ac_t\"\"no\" 1>&6\n fi\n-rm -f confcache\n+done\n \n \n-# Actually configure libtool.  ac_aux_dir is where install-sh is found.\n-AR=\"$AR\" LTCC=\"$CC\" CC=\"$CC\" CFLAGS=\"$CFLAGS\" CPPFLAGS=\"$CPPFLAGS\" \\\n-MAGIC_CMD=\"$MAGIC_CMD\" LD=\"$LD\" LDFLAGS=\"$LDFLAGS\" LIBS=\"$LIBS\" \\\n-LN_S=\"$LN_S\" NM=\"$NM\" RANLIB=\"$RANLIB\" STRIP=\"$STRIP\" \\\n-AS=\"$AS\" DLLTOOL=\"$DLLTOOL\" OBJDUMP=\"$OBJDUMP\" \\\n-objext=\"$OBJEXT\" exeext=\"$EXEEXT\" reload_flag=\"$reload_flag\" \\\n-deplibs_check_method=\"$deplibs_check_method\" file_magic_cmd=\"$file_magic_cmd\" \\\n-${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig --no-reexec \\\n-$libtool_flags --no-verify --build=\"$build\" $ac_aux_dir/ltmain.sh $host \\\n-|| { echo \"configure: error: libtool configure failed\" 1>&2; exit 1; }\n+# Determine CFLAGS for gthread.\n \n-# Reload cache, that may have been modified by ltconfig\n-if test -r \"$cache_file\"; then\n-  echo \"loading cache $cache_file\"\n-  . $cache_file\n+echo $ac_n \"checking for gthread cflags\"\"... $ac_c\" 1>&6\n+echo \"configure:2866: checking for gthread cflags\" >&5\n+if eval \"test \\\"`echo '$''{'objc_cv_gthread_flags'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  echo \"creating cache $cache_file\"\n-  > $cache_file\n+  if test -f \"$r\"/gcc/Makefile\n+then\n+  objc_cv_gthread_flags=`grep \\^GTHREAD_FLAGS \"$r\"/gcc/Makefile | awk -F= '{ print $2 }'`\n+else\n+  { echo \"configure: error: not found\" 1>&2; exit 1; }\n+fi\n fi\n \n+echo \"$ac_t\"\"$objc_cv_gthread_flags\" 1>&6\n+GTHREAD_FLAGS=$objc_cv_gthread_flags\n \n-# This can be used to rebuild libtool when needed\n-LIBTOOL_DEPS=\"$ac_aux_dir/ltconfig $ac_aux_dir/ltmain.sh $ac_aux_dir/ltcf-c.sh\"\n-\n-# Always use our own libtool.\n-LIBTOOL='$(SHELL) $(top_builddir)/libtool'\n-\n-# Redirect the config.log output again, so that the ltconfig log is not\n-# clobbered by the next message.\n-exec 5>>./config.log\n-\n-  \n-\n-  \n-\t \n-\t \n \n # Check whether --enable-objc-gc or --disable-objc-gc was given.\n if test \"${enable_objc_gc+set}\" = set; then\n@@ -2653,32 +3027,46 @@ s%@includedir@%$includedir%g\n s%@oldincludedir@%$oldincludedir%g\n s%@infodir@%$infodir%g\n s%@mandir@%$mandir%g\n-s%@CC@%$CC%g\n-s%@AR@%$AR%g\n-s%@RANLIB@%$RANLIB%g\n-s%@INSTALL_PROGRAM@%$INSTALL_PROGRAM%g\n-s%@INSTALL_SCRIPT@%$INSTALL_SCRIPT%g\n-s%@INSTALL_DATA@%$INSTALL_DATA%g\n-s%@EXEEXT@%$EXEEXT%g\n-s%@CPP@%$CPP%g\n-s%@GTHREAD_FLAGS@%$GTHREAD_FLAGS%g\n s%@host@%$host%g\n s%@host_alias@%$host_alias%g\n s%@host_cpu@%$host_cpu%g\n s%@host_vendor@%$host_vendor%g\n s%@host_os@%$host_os%g\n+s%@target@%$target%g\n+s%@target_alias@%$target_alias%g\n+s%@target_cpu@%$target_cpu%g\n+s%@target_vendor@%$target_vendor%g\n+s%@target_os@%$target_os%g\n s%@build@%$build%g\n s%@build_alias@%$build_alias%g\n s%@build_cpu@%$build_cpu%g\n s%@build_vendor@%$build_vendor%g\n s%@build_os@%$build_os%g\n+s%@toplevel_srcdir@%$toplevel_srcdir%g\n+s%@glibcpp_builddir@%$glibcpp_builddir%g\n+s%@glibcpp_srcdir@%$glibcpp_srcdir%g\n s%@LN_S@%$LN_S%g\n+s%@CC@%$CC%g\n+s%@AS@%$AS%g\n+s%@AR@%$AR%g\n+s%@RANLIB@%$RANLIB%g\n+s%@INSTALL_PROGRAM@%$INSTALL_PROGRAM%g\n+s%@INSTALL_SCRIPT@%$INSTALL_SCRIPT%g\n+s%@INSTALL_DATA@%$INSTALL_DATA%g\n+s%@EXEEXT@%$EXEEXT%g\n+s%@gcc_version@%$gcc_version%g\n+s%@gcc_version_trigger@%$gcc_version_trigger%g\n+s%@glibcpp_prefixdir@%$glibcpp_prefixdir%g\n+s%@glibcpp_toolexecdir@%$glibcpp_toolexecdir%g\n+s%@glibcpp_toolexeclibdir@%$glibcpp_toolexeclibdir%g\n s%@OBJEXT@%$OBJEXT%g\n s%@STRIP@%$STRIP%g\n s%@DLLTOOL@%$DLLTOOL%g\n-s%@AS@%$AS%g\n s%@OBJDUMP@%$OBJDUMP%g\n s%@LIBTOOL@%$LIBTOOL%g\n+s%@SET_MAKE@%$SET_MAKE%g\n+s%@CPP@%$CPP%g\n+s%@GTHREAD_FLAGS@%$GTHREAD_FLAGS%g\n s%@OBJC_BOEHM_GC@%$OBJC_BOEHM_GC%g\n \n CEOF\n@@ -2895,8 +3283,8 @@ target=${target}\n with_target_subdir=${with_target_subdir}\n with_multisubdir=${with_multisubdir}\n ac_configure_args=\"--enable-multilib ${ac_configure_args}\"\n+toplevel_srcdir=${toplevel_srcdir}\n CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}\n-topsrcdir=${topsrcdir}\n \n EOF\n cat >> $CONFIG_STATUS <<\\EOF\n@@ -2905,7 +3293,7 @@ if test -n \"$CONFIG_FILES\"; then\n   if test -n \"${with_target_subdir}\"; then\n     # FIXME: We shouldn't need to set ac_file\n     ac_file=Makefile\n-    . ${topsrcdir}/config-ml.in\n+    . ${toplevel_srcdir}/config-ml.in\n   fi\n fi\n exit 0\n@@ -2915,3 +3303,4 @@ rm -fr confdefs* $ac_clean_files\n test \"$no_create\" = yes || ${CONFIG_SHELL-/bin/sh} $CONFIG_STATUS || exit 1\n \n \n+"}, {"sha": "2f74898310371da82f9076b0aa181ccecd48da4d", "filename": "libobjc/configure.in", "status": "modified", "additions": 18, "deletions": 45, "changes": 63, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b150efee3900a083ce69ea5d3b912bafa1837592/libobjc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b150efee3900a083ce69ea5d3b912bafa1837592/libobjc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fconfigure.in?ref=b150efee3900a083ce69ea5d3b912bafa1837592", "patch": "@@ -23,18 +23,12 @@ AC_PREREQ(2.13)\n AC_INIT(objc/objc.h)\n AC_CONFIG_HEADER(config.h)\n \n-if test \"${srcdir}\" = \".\" ; then\n-  if test \"${with_target_subdir}\" != \".\" ; then\n-    topsrcdir=${with_multisrctop}../..\n-  else\n-    topsrcdir=${with_multisrctop}..\n-  fi\n-else\n-  topsrcdir=${srcdir}/..\n-fi\n-dnl This is needed for a multilibbed build in the source tree so\n-dnl that install-sh and config.sub get found.\n-AC_CONFIG_AUX_DIR($topsrcdir)\n+AC_CANONICAL_SYSTEM\n+target_alias=${target_alias-$target}\n+AC_SUBST(target_alias)\n+\n+GLIBCPP_CONFIGURE(.)\n+GLIBCPP_EXPORT_INSTALL_INFO\n \n # If the language specific compiler does not exist, but the \"gcc\" directory \n # does, we do not build anything. Note, $r is set by the top-level Makefile.\n@@ -66,14 +60,15 @@ fi\n \n dnl Checks for programs.\n \n-dnl FIXME AC_PROG_CC wants CC to be able to link things, but it may\n-dnl not be able to.\n-define([AC_PROG_CC_WORKS],[])\n+# Disable shared libs by default\n+AC_DISABLE_SHARED\n+# Enable Win32 DLL on MS Windows - FIXME \n+AC_LIBTOOL_WIN32_DLL \n \n-# For ObjC we'll set CC to point at the built gcc, but this will get it into\n-# the makefiles\n-AC_PROG_CC\n+AC_PROG_LIBTOOL\n \n+dnl These should be inherited in the recursive make, but ensure they are\n+dnl defined:\n test \"$AR\" || AR=ar\n AC_SUBST(AR)\n if test \"$RANLIB\"; then :\n@@ -82,23 +77,7 @@ else\n   AC_PROG_RANLIB\n fi\n AC_PROG_INSTALL\n-\n-# We need AC_EXEEXT to keep automake happy in cygnus mode.  However,\n-# at least currently, we never actually build a program, so we never\n-# need to use $(EXEEXT).  Moreover, the test for EXEEXT normally\n-# fails, because we are probably configuring with a cross compiler\n-# which cant create executables.  So we include AC_EXEEXT to keep\n-# automake happy, but we dont execute it, since we dont care about\n-# the result.\n-if false; then\n-  # autoconf 2.50 runs AC_EXEEXT by default, and the macro expands\n-  # to nothing, so nothing would remain between `then' and `fi' if it\n-  # were not for the `:' below.\n-  :\n-  AC_EXEEXT\n-fi\n-\n-dnl Checks for libraries.\n+AC_PROG_MAKE_SET\n \n dnl Checks for header files.\n # Sanity check for the cross-compilation case:\n@@ -125,13 +104,6 @@ fi])\n GTHREAD_FLAGS=$objc_cv_gthread_flags\n AC_SUBST(GTHREAD_FLAGS)\n \n-# Disable shared libs by default\n-AC_DISABLE_SHARED\n-# Enable Win32 DLL on MS Windows - FIXME \n-AC_LIBTOOL_WIN32_DLL \n-# Use libtool\n-AC_PROG_LIBTOOL\n-\n AC_ARG_ENABLE(objc-gc,\n [  --enable-objc-gc       enable the use of Boehm's garbage collector with\n                           the GNU Objective-C runtime.],\n@@ -146,12 +118,12 @@ AC_SUBST(OBJC_BOEHM_GC)\n \n # We need multilib support, but only if configuring for the target.\n AC_OUTPUT(Makefile,\n-[test -z \"$CONFIG_HEADERS\" || echo timestamp > stamp-h\n+ [test -z \"$CONFIG_HEADERS\" || echo timestamp > stamp-h\n if test -n \"$CONFIG_FILES\"; then\n   if test -n \"${with_target_subdir}\"; then\n     # FIXME: We shouldn't need to set ac_file\n     ac_file=Makefile\n-    . ${topsrcdir}/config-ml.in\n+    . ${toplevel_srcdir}/config-ml.in\n   fi\n fi],\n srcdir=${srcdir}\n@@ -160,10 +132,11 @@ target=${target}\n with_target_subdir=${with_target_subdir}\n with_multisubdir=${with_multisubdir}\n ac_configure_args=\"--enable-multilib ${ac_configure_args}\"\n+toplevel_srcdir=${toplevel_srcdir}\n CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}\n-topsrcdir=${topsrcdir}\n )\n \n+\n dnl Local Variables:\n dnl comment-start: \"dnl \"\n dnl comment-end: \"\""}]}