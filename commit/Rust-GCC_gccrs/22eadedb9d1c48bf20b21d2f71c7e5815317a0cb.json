{"sha": "22eadedb9d1c48bf20b21d2f71c7e5815317a0cb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjJlYWRlZGI5ZDFjNDhiZjIwYjIxZDJmNzFjN2U1ODE1MzE3YTBjYg==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2002-08-13T16:36:26Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2002-08-13T16:36:26Z"}, "message": "decl.c (pushdecl_class_level): Honor requests to bind names to OVERLOADs.\n\n\t* decl.c (pushdecl_class_level): Honor requests to bind names to\n\tOVERLOADs.\n\nFrom-SVN: r56258", "tree": {"sha": "918dfcbcce0be450af8791c23f979284209cbe84", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/918dfcbcce0be450af8791c23f979284209cbe84"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/22eadedb9d1c48bf20b21d2f71c7e5815317a0cb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22eadedb9d1c48bf20b21d2f71c7e5815317a0cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/22eadedb9d1c48bf20b21d2f71c7e5815317a0cb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22eadedb9d1c48bf20b21d2f71c7e5815317a0cb/comments", "author": null, "committer": null, "parents": [{"sha": "b2659518d10f5943c3d90ecbc5263e0288766c43", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2659518d10f5943c3d90ecbc5263e0288766c43", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b2659518d10f5943c3d90ecbc5263e0288766c43"}], "stats": {"total": 38, "additions": 30, "deletions": 8}, "files": [{"sha": "0ab00f6c2b98a011ea2e0513124645a69b9154d0", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22eadedb9d1c48bf20b21d2f71c7e5815317a0cb/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22eadedb9d1c48bf20b21d2f71c7e5815317a0cb/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=22eadedb9d1c48bf20b21d2f71c7e5815317a0cb", "patch": "@@ -1,3 +1,8 @@\n+2002-08-13  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* decl.c (pushdecl_class_level): Honor requests to bind names to\n+\tOVERLOADs.\n+\n 2002-08-11  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* decl2.c (build_call_from_tree): Fix uninitialized variable."}, {"sha": "bb0abbdf83fe3dbe62eeafec634be3eff748a958", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22eadedb9d1c48bf20b21d2f71c7e5815317a0cb/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22eadedb9d1c48bf20b21d2f71c7e5815317a0cb/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=22eadedb9d1c48bf20b21d2f71c7e5815317a0cb", "patch": "@@ -4259,13 +4259,13 @@ void\n pushdecl_class_level (x)\n      tree x;\n {\n-  /* Don't use DECL_ASSEMBLER_NAME here!  Everything that looks in class\n-     scope looks for the pre-mangled name.  */\n-  register tree name;\n+  tree name;\n \n+  /* Get the name of X.  */\n   if (TREE_CODE (x) == OVERLOAD)\n-    x = OVL_CURRENT (x);\n-  name = DECL_NAME (x);\n+    name = DECL_NAME (get_first_fn (x));\n+  else\n+    name = DECL_NAME (x);\n \n   if (name)\n     {\n@@ -4275,11 +4275,12 @@ pushdecl_class_level (x)\n     }\n   else if (ANON_AGGR_TYPE_P (TREE_TYPE (x)))\n     {\n+      /* If X is an anonymous aggregate, all of its members are\n+\t treated as if they were members of the class containing the\n+\t aggregate, for naming purposes.  */\n       tree f;\n \n-      for (f = TYPE_FIELDS (TREE_TYPE (x));\n-\t   f;\n-\t   f = TREE_CHAIN (f))\n+      for (f = TYPE_FIELDS (TREE_TYPE (x)); f; f = TREE_CHAIN (f))\n \tpushdecl_class_level (f);\n     }\n }"}, {"sha": "a6d3d69b59ff04e4c00d798340979826307e44ab", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22eadedb9d1c48bf20b21d2f71c7e5815317a0cb/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22eadedb9d1c48bf20b21d2f71c7e5815317a0cb/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=22eadedb9d1c48bf20b21d2f71c7e5815317a0cb", "patch": "@@ -1,3 +1,7 @@\n+2002-08-13  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* g++.dg/template/inherit3: New test.\n+\n 2002-08-10  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* gcc.dg/bitfld-4.c: Add blank options."}, {"sha": "97b9e5b3eaac91899ddd0f8b0d2aa51519005458", "filename": "gcc/testsuite/g++.dg/template/inherit3.C", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22eadedb9d1c48bf20b21d2f71c7e5815317a0cb/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Finherit3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22eadedb9d1c48bf20b21d2f71c7e5815317a0cb/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Finherit3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Finherit3.C?ref=22eadedb9d1c48bf20b21d2f71c7e5815317a0cb", "patch": "@@ -0,0 +1,12 @@\n+template <typename T>\n+struct set {\n+  void insert (const T&);\n+  template <class X>\n+  void insert  (X, X);\n+};\n+\n+struct C : public set<int> {\n+  void f (const int i) {\n+    insert (i);\n+  }\n+};"}]}