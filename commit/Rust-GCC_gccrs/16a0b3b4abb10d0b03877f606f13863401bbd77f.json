{"sha": "16a0b3b4abb10d0b03877f606f13863401bbd77f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTZhMGIzYjRhYmIxMGQwYjAzODc3ZjYwNmYxMzg2MzQwMWJiZDc3Zg==", "commit": {"author": {"name": "Aleksandra Pasek", "email": "pasek@adacore.com", "date": "2021-04-14T14:44:04Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2021-06-29T14:23:49Z"}, "message": "[Ada] Add support for Aarch64 in System.Object_Reader\n\ngcc/ada/\n\n\t* libgnat/s-objrea.adb (EM_AARCH64): New Constant.\n\t(Initialize): Handle EM_AARCH64 case.\n\t(Read_Address): Handle AARCH64 case.\n\t* libgnat/s-objrea.ads (Object_Arch): Add AARCH64 record\n\tcomponent.", "tree": {"sha": "845d0bb556a3e3599cfa6001609d64a23d21cf27", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/845d0bb556a3e3599cfa6001609d64a23d21cf27"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/16a0b3b4abb10d0b03877f606f13863401bbd77f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/16a0b3b4abb10d0b03877f606f13863401bbd77f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/16a0b3b4abb10d0b03877f606f13863401bbd77f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/16a0b3b4abb10d0b03877f606f13863401bbd77f/comments", "author": null, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bfe2554f052b11ecf07d93cb04137f3fca5c6e6d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfe2554f052b11ecf07d93cb04137f3fca5c6e6d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bfe2554f052b11ecf07d93cb04137f3fca5c6e6d"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "9dd8c1f098e7c0082b41b40e4249bfcfb74d29ab", "filename": "gcc/ada/libgnat/s-objrea.adb", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/16a0b3b4abb10d0b03877f606f13863401bbd77f/gcc%2Fada%2Flibgnat%2Fs-objrea.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/16a0b3b4abb10d0b03877f606f13863401bbd77f/gcc%2Fada%2Flibgnat%2Fs-objrea.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-objrea.adb?ref=16a0b3b4abb10d0b03877f606f13863401bbd77f", "patch": "@@ -78,6 +78,7 @@ package body System.Object_Reader is\n       EM_SPARCV9     : constant := 43; --  SPARC v9 64-bit\n       EM_IA_64       : constant := 50; --  Intel Merced\n       EM_X86_64      : constant := 62; --  AMD x86-64 architecture\n+      EM_AARCH64     : constant := 183; --  Aarch64\n \n       EN_NIDENT  : constant := 16;\n \n@@ -648,6 +649,9 @@ package body System.Object_Reader is\n             when EM_ARM =>\n                Res.Arch := ARM;\n \n+            when EM_AARCH64 =>\n+               Res.Arch := AARCH64;\n+\n             when others =>\n                raise Format_Error with \"unrecognized architecture\";\n          end case;\n@@ -2038,7 +2042,8 @@ package body System.Object_Reader is\n             Address_32 := Read (S);\n             return uint64 (Address_32);\n \n-         when IA64\n+         when AARCH64\n+            | IA64\n             | PPC64\n             | SPARC64\n             | x86_64"}, {"sha": "a83ca53d2572a70fd5d4a9890b8f2b892f4c3270", "filename": "gcc/ada/libgnat/s-objrea.ads", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/16a0b3b4abb10d0b03877f606f13863401bbd77f/gcc%2Fada%2Flibgnat%2Fs-objrea.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/16a0b3b4abb10d0b03877f606f13863401bbd77f/gcc%2Fada%2Flibgnat%2Fs-objrea.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-objrea.ads?ref=16a0b3b4abb10d0b03877f606f13863401bbd77f", "patch": "@@ -120,9 +120,12 @@ package System.Object_Reader is\n       PPC64,\n       --  64-bit PowerPC\n \n-      ARM);\n+      ARM,\n       --  32-bit ARM\n \n+      AARCH64);\n+      --  64-bit ARM\n+\n    ------------------\n    -- Target types --\n    ------------------"}]}