{"sha": "46ab17dbae559b0823d43f6f8ffb12f9dc0d10d5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDZhYjE3ZGJhZTU1OWIwODIzZDQzZjZmOGZmYjEyZjlkYzBkMTBkNQ==", "commit": {"author": {"name": "Patrick Palka", "email": "ppalka@gcc.gnu.org", "date": "2015-12-18T23:16:33Z"}, "committer": {"name": "Patrick Palka", "email": "ppalka@gcc.gnu.org", "date": "2015-12-18T23:16:33Z"}, "message": "Fix PR c++/68978 (bogus error: lvalue required as left operand of assignment)\n\ngcc/cp/ChangeLog:\n\n\tPR c++/68978\n\t* tree.c (lvalue_kind) [MODOP_EXPR]: New case.\n\ngcc/testsuite/ChangeLog:\n\n\tPR c++/68978\n\t* g++.dg/template/pr68978.C: New test.\n\nFrom-SVN: r231841", "tree": {"sha": "d70634f8a7d6de99b9abe294ea742c5f7f0cd04b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d70634f8a7d6de99b9abe294ea742c5f7f0cd04b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/46ab17dbae559b0823d43f6f8ffb12f9dc0d10d5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46ab17dbae559b0823d43f6f8ffb12f9dc0d10d5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/46ab17dbae559b0823d43f6f8ffb12f9dc0d10d5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46ab17dbae559b0823d43f6f8ffb12f9dc0d10d5/comments", "author": null, "committer": null, "parents": [{"sha": "a49de7a463519e8e3c7e903caef9e78604fd637d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a49de7a463519e8e3c7e903caef9e78604fd637d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a49de7a463519e8e3c7e903caef9e78604fd637d"}], "stats": {"total": 55, "additions": 55, "deletions": 0}, "files": [{"sha": "9b8c2ffc6f49579e3219c69d1251236d4c6bfcac", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46ab17dbae559b0823d43f6f8ffb12f9dc0d10d5/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46ab17dbae559b0823d43f6f8ffb12f9dc0d10d5/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=46ab17dbae559b0823d43f6f8ffb12f9dc0d10d5", "patch": "@@ -1,3 +1,8 @@\n+2015-12-18  Patrick Palka  <ppalka@gcc.gnu.org>\n+\n+\tPR c++/68978\n+\t* tree.c (lvalue_kind) [MODOP_EXPR]: New case.\n+\n 2015-12-18  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/67592"}, {"sha": "250fe274669afcebf7504c84a3c25cd4153d7301", "filename": "gcc/cp/tree.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46ab17dbae559b0823d43f6f8ffb12f9dc0d10d5/gcc%2Fcp%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46ab17dbae559b0823d43f6f8ffb12f9dc0d10d5/gcc%2Fcp%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftree.c?ref=46ab17dbae559b0823d43f6f8ffb12f9dc0d10d5", "patch": "@@ -185,6 +185,12 @@ lvalue_kind (const_tree ref)\n       op2_lvalue_kind = lvalue_kind (TREE_OPERAND (ref, 2));\n       break;\n \n+    case MODOP_EXPR:\n+      /* We expect to see unlowered MODOP_EXPRs only during\n+\t template processing.  */\n+      gcc_assert (processing_template_decl);\n+      return clk_ordinary;\n+\n     case MODIFY_EXPR:\n     case TYPEID_EXPR:\n       return clk_ordinary;"}, {"sha": "20ac322ae5da00f1e1e81b6ee2cda159fb68a735", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46ab17dbae559b0823d43f6f8ffb12f9dc0d10d5/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46ab17dbae559b0823d43f6f8ffb12f9dc0d10d5/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=46ab17dbae559b0823d43f6f8ffb12f9dc0d10d5", "patch": "@@ -1,3 +1,8 @@\n+2015-12-18  Patrick Palka  <ppalka@gcc.gnu.org>\n+\n+\tPR c++/68978\n+\t* g++.dg/template/pr68978.C: New test.\n+\n 2015-12-18  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR debug/68860"}, {"sha": "19045329f01259ec34da5cce11189f67cc1f92a7", "filename": "gcc/testsuite/g++.dg/template/pr68978.C", "status": "added", "additions": 39, "deletions": 0, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46ab17dbae559b0823d43f6f8ffb12f9dc0d10d5/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fpr68978.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46ab17dbae559b0823d43f6f8ffb12f9dc0d10d5/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fpr68978.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fpr68978.C?ref=46ab17dbae559b0823d43f6f8ffb12f9dc0d10d5", "patch": "@@ -0,0 +1,39 @@\n+// PR c++/68978\n+\n+int i = 0, c = 0, radix = 10, max = 0x7fffffff;\n+\n+template <typename T> int toi_1() {\n+  if (max < ((i *= radix) += c))\n+    return 0;\n+  return i;\n+}\n+\n+template <typename T> int toi_2() {\n+  if (max < ((i = radix) = c))\n+    return 0;\n+  return i;\n+}\n+\n+template <typename T> int toi_3() {\n+  if (max < ((i = radix) += c))\n+    return 0;\n+  return i;\n+}\n+\n+template <typename T> int toi_4() {\n+  if (max < ((i += radix) = c))\n+    return 0;\n+  return i;\n+}\n+\n+template <typename T> int toi_5() {\n+  if (max < (((i = radix) += (c += 5)) *= 30))\n+    return 0;\n+  return i;\n+}\n+\n+int x = toi_1<int> ();\n+int y = toi_2<int> ();\n+int z = toi_3<int> ();\n+int w = toi_4<int> ();\n+int r = toi_5<int> ();"}]}