{"sha": "4d731f1702c373c4ce2efcd1adb2b4720cc223d5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGQ3MzFmMTcwMmMzNzNjNGNlMmVmY2QxYWRiMmI0NzIwY2MyMjNkNQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2008-10-29T15:19:24Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2008-10-29T15:19:24Z"}, "message": "re PR middle-end/37913 (ICE: Segmentation fault in link_block, cfg.c:153)\n\n\tPR middle-end/37913\n\t* tree-cfgcleanup.c (split_bbs_on_noreturn_calls): Only split bbs\n\tthat haven't been removed yet.\n\n\t* gcc.c-torture/compile/pr37913.c: New test.\n\nFrom-SVN: r141426", "tree": {"sha": "b4c49a7a8cdfe8442ec39b009e7cc9cd2ea509f0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b4c49a7a8cdfe8442ec39b009e7cc9cd2ea509f0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4d731f1702c373c4ce2efcd1adb2b4720cc223d5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d731f1702c373c4ce2efcd1adb2b4720cc223d5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d731f1702c373c4ce2efcd1adb2b4720cc223d5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d731f1702c373c4ce2efcd1adb2b4720cc223d5/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a848cf52b5e71ebeb05a23888ff3660c4f5012b8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a848cf52b5e71ebeb05a23888ff3660c4f5012b8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a848cf52b5e71ebeb05a23888ff3660c4f5012b8"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "80e06ce896464f1552991abb664aadc60fab1b45", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d731f1702c373c4ce2efcd1adb2b4720cc223d5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d731f1702c373c4ce2efcd1adb2b4720cc223d5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4d731f1702c373c4ce2efcd1adb2b4720cc223d5", "patch": "@@ -1,3 +1,9 @@\n+2008-10-29  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR middle-end/37913\n+\t* tree-cfgcleanup.c (split_bbs_on_noreturn_calls): Only split bbs\n+\tthat haven't been removed yet.\n+\n 2008-10-29  Bernd Schmidt  <bernd.schmidt@analog.com>\n \n \t* config/bfin/bfin.c (struct machine_function): New member"}, {"sha": "2e23d6d4a1e0ab2016a3e1d62fea0318e8c0b072", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d731f1702c373c4ce2efcd1adb2b4720cc223d5/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d731f1702c373c4ce2efcd1adb2b4720cc223d5/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4d731f1702c373c4ce2efcd1adb2b4720cc223d5", "patch": "@@ -1,3 +1,8 @@\n+2008-10-28  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR middle-end/37913\n+\t* gcc.c-torture/compile/pr37913.c: New test.\n+\n 2008-10-28  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/37663"}, {"sha": "98b8f647871f9bc6f45f386fb561d8d73542ab41", "filename": "gcc/testsuite/gcc.c-torture/compile/pr37913.c", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d731f1702c373c4ce2efcd1adb2b4720cc223d5/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr37913.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d731f1702c373c4ce2efcd1adb2b4720cc223d5/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr37913.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr37913.c?ref=4d731f1702c373c4ce2efcd1adb2b4720cc223d5", "patch": "@@ -0,0 +1,15 @@\n+/* PR middle-end/37913 */\n+\n+void foo (void) __attribute__ ((noreturn));\n+\n+static int __attribute__ ((noreturn))\n+bar (void)\n+{\n+  foo ();\n+}\n+\n+void\n+baz (void)\n+{\n+  int i = bar ();\n+}"}, {"sha": "ba1854aae0fd359e52c2f4fdec9b30d412c2b63e", "filename": "gcc/tree-cfgcleanup.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d731f1702c373c4ce2efcd1adb2b4720cc223d5/gcc%2Ftree-cfgcleanup.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d731f1702c373c4ce2efcd1adb2b4720cc223d5/gcc%2Ftree-cfgcleanup.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-cfgcleanup.c?ref=4d731f1702c373c4ce2efcd1adb2b4720cc223d5", "patch": "@@ -483,7 +483,12 @@ split_bbs_on_noreturn_calls (void)\n       {\n \tstmt = VEC_pop (gimple, MODIFIED_NORETURN_CALLS (cfun));\n \tbb = gimple_bb (stmt);\n+\t/* BB might be deleted at this point, so verify first\n+\t   BB is present in the cfg.  */\n \tif (bb == NULL\n+\t    || bb->index < NUM_FIXED_BLOCKS\n+\t    || bb->index >= n_basic_blocks\n+\t    || BASIC_BLOCK (bb->index) != bb\n \t    || last_stmt (bb) == stmt\n \t    || !gimple_call_noreturn_p (stmt))\n \t  continue;"}]}