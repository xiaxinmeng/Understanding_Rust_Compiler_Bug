{"sha": "c3fa5d78ba83b91ca82195aa32d918f2c6fd3a37", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzNmYTVkNzhiYTgzYjkxY2E4MjE5NWFhMzJkOTE4ZjJjNmZkM2EzNw==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2015-10-19T21:09:21Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2015-10-19T21:09:21Z"}, "message": "re PR fortran/68019 (ICE on rank mismatch of implied-shape array of user-defined type)\n\n2015-10-19  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/68019\n\t* decl.c (add_init_expr_to_sym): Remove an assert() to allow an error\n\tmessage to be issued.\n\n2015-10-19  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/68019\n\t* gfortran.dg/pr68019.f90: new test.\n\nFrom-SVN: r229003", "tree": {"sha": "93f141628a852376fd51de9a9ed520697a62622f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/93f141628a852376fd51de9a9ed520697a62622f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c3fa5d78ba83b91ca82195aa32d918f2c6fd3a37", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c3fa5d78ba83b91ca82195aa32d918f2c6fd3a37", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c3fa5d78ba83b91ca82195aa32d918f2c6fd3a37", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c3fa5d78ba83b91ca82195aa32d918f2c6fd3a37/comments", "author": null, "committer": null, "parents": [{"sha": "a2f6018f329c3629795c2006ba6684b083c19fcb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a2f6018f329c3629795c2006ba6684b083c19fcb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a2f6018f329c3629795c2006ba6684b083c19fcb"}], "stats": {"total": 25, "additions": 24, "deletions": 1}, "files": [{"sha": "0b94ad70658656fb127ca173a9e2d9124a5bdedf", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3fa5d78ba83b91ca82195aa32d918f2c6fd3a37/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3fa5d78ba83b91ca82195aa32d918f2c6fd3a37/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=c3fa5d78ba83b91ca82195aa32d918f2c6fd3a37", "patch": "@@ -1,3 +1,9 @@\n+2015-10-19  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/68019\n+\t* decl.c (add_init_expr_to_sym): Remove an assert() to allow an error\n+\tmessage to be issued.\n+\n 2015-10-18  Mikael Morin  <mikael@gcc.gnu.org>\n \n \tPR fortran/67758"}, {"sha": "c7526772e800995e7e949372aa23289bb3dd78bb", "filename": "gcc/fortran/decl.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3fa5d78ba83b91ca82195aa32d918f2c6fd3a37/gcc%2Ffortran%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3fa5d78ba83b91ca82195aa32d918f2c6fd3a37/gcc%2Ffortran%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fdecl.c?ref=c3fa5d78ba83b91ca82195aa32d918f2c6fd3a37", "patch": "@@ -1486,7 +1486,6 @@ add_init_expr_to_sym (const char *name, gfc_expr **initp, locus *var_locus)\n \t\t\t \" with scalar\", &sym->declared_at);\n \t      return false;\n \t    }\n-\t  gcc_assert (sym->as->rank == init->rank);\n \n \t  /* Shape should be present, we get an initialization expression.  */\n \t  gcc_assert (init->shape);"}, {"sha": "9130c7daddaf41627ab0bc53f370a83bf7e055bc", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3fa5d78ba83b91ca82195aa32d918f2c6fd3a37/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3fa5d78ba83b91ca82195aa32d918f2c6fd3a37/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c3fa5d78ba83b91ca82195aa32d918f2c6fd3a37", "patch": "@@ -1,3 +1,8 @@\n+2015-10-19  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/68019\n+\t* gfortran.dg/pr68019.f90: new test.\n+\n 2015-10-19  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/67975"}, {"sha": "2e304c3a26063da26d659e552106120b1176c425", "filename": "gcc/testsuite/gfortran.dg/pr68019.f90", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3fa5d78ba83b91ca82195aa32d918f2c6fd3a37/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr68019.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3fa5d78ba83b91ca82195aa32d918f2c6fd3a37/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr68019.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr68019.f90?ref=c3fa5d78ba83b91ca82195aa32d918f2c6fd3a37", "patch": "@@ -0,0 +1,13 @@\n+! { dg-do compile }\n+! Original code from Gerhard Steinmetz\n+! Gerhard dot Steinmetz for fortran at t-online dot de\n+! PR fortran/68019\n+!\n+program p\n+   integer :: i\n+   type t\n+      integer :: n\n+   end type\n+   type(t), parameter :: vec(*) = [(t(i), i = 1, 4)]\n+   type(t), parameter :: arr(*) = reshape(vec, [2, 2])   ! { dg-error \"ranks 1 and 2 in assignment\" }\n+end"}]}