{"sha": "320785323832777de9ad6161462dbcf3ab27e67f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzIwNzg1MzIzODMyNzc3ZGU5YWQ2MTYxNDYyZGJjZjNhYjI3ZTY3Zg==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2004-09-01T16:27:05Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2004-09-01T16:27:05Z"}, "message": "config.gcc (--with-cpu on ARM): Preserve the canonical cpu name for use in configargs.h.\n\n* config.gcc (--with-cpu on ARM): Preserve the canonical cpu name\nfor use in configargs.h.  Put the cname in a separate variable.  Use\nthat to set target_cpu_default2.\n\nFrom-SVN: r86903", "tree": {"sha": "440e31716559532a2d376dd25f932d9ab25130eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/440e31716559532a2d376dd25f932d9ab25130eb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/320785323832777de9ad6161462dbcf3ab27e67f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/320785323832777de9ad6161462dbcf3ab27e67f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/320785323832777de9ad6161462dbcf3ab27e67f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/320785323832777de9ad6161462dbcf3ab27e67f/comments", "author": null, "committer": null, "parents": [{"sha": "5f6e6a1c4124fbb8fcd5bb015023432fe5f919d8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f6e6a1c4124fbb8fcd5bb015023432fe5f919d8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f6e6a1c4124fbb8fcd5bb015023432fe5f919d8"}], "stats": {"total": 24, "additions": 13, "deletions": 11}, "files": [{"sha": "12183328e21b0086b21cf2dd44fb6ca1edd682d9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/320785323832777de9ad6161462dbcf3ab27e67f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/320785323832777de9ad6161462dbcf3ab27e67f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=320785323832777de9ad6161462dbcf3ab27e67f", "patch": "@@ -1,3 +1,9 @@\n+2004-09-01  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\t* config.gcc (--with-cpu on ARM): Preserve the canonical cpu name\n+\tfor use in configargs.h.  Put the cname in a separate variable.  Use\n+\tthat to set target_cpu_default2.\n+\n 2004-09-01  J\"orn Rennecke <joern.rennecke@superh.com>\n \t    Nick Clifton  <nickc@redhat.com>\n "}, {"sha": "dd07eea8d0bd200352db571141ef4035d16d39e9", "filename": "gcc/config.gcc", "status": "modified", "additions": 7, "deletions": 11, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/320785323832777de9ad6161462dbcf3ab27e67f/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/320785323832777de9ad6161462dbcf3ab27e67f/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=320785323832777de9ad6161462dbcf3ab27e67f", "patch": "@@ -2274,7 +2274,7 @@ fi\n \t\t\t\t${srcdir}/config/arm/arm-cores.def | \\\n \t\t\t\tsed -e 's/^[^,]*,[ \t]*//' | \\\n \t\t\t\tsed -e 's/,.*$//'`\n-\t\t\t  eval \"with_$which=$new_val\"\n+\t\t\t  eval \"target_${which}_cname=$new_val\"\n \t\t\techo \"For $val real value is $new_val\"\n \t\t\t  true\n \t\t\telse\n@@ -2557,16 +2557,12 @@ fi\n \t\t;;\n \n \tarm*-*-*)\n-\t\tcase \"x$with_cpu\" in\n-\t\tx)\n-\t\t\t# The most generic\n-\t\t\ttarget_cpu_default2=\"TARGET_CPU_generic\"\n-\t\t\t;;\n-\n-\t\t*)\n-\t\t\ttarget_cpu_default2=\"TARGET_CPU_$with_cpu\"\n-\t\t\t;;\n-\t\tesac\n+\t\tif test x$target_cpu_cname = x\n+\t\tthen\n+\t\t\ttarget_cpu_default2=TARGET_CPU_generic\n+\t\telse\n+\t\t\ttarget_cpu_default2=TARGET_CPU_$target_cpu_cname\n+\t\tfi\n \t\t;;\n \n \tm68k*-linux*)"}]}