{"sha": "53ef271f84dcf405c5e58ea7b1ef2211f073d3c1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTNlZjI3MWY4NGRjZjQwNWM1ZTU4ZWE3YjFlZjIyMTFmMDczZDNjMQ==", "commit": {"author": {"name": "Michael Koch", "email": "konqueror@gmx.de", "date": "2004-06-03T10:23:12Z"}, "committer": {"name": "Michael Koch", "email": "mkoch@gcc.gnu.org", "date": "2004-06-03T10:23:12Z"}, "message": "2004-06-03  Michael Koch  <konqueror@gmx.de>\n\n\t* gnu/java/awt/peer/gtk/GtkComponentPeer.java\n\t(requestFocus): Revert last changes.\n\t(gtkRequestFocus): Removed.\n\t* jni/gtk-peer/gnu_java_awt_peer_gtk_GtkComponentPeer.c\n\t(Java_gnu_java_awt_peer_gtk_GtkComponentPeer_gtkRequestFocus):\n\tRenamed to ...\n\t(Java_gnu_java_awt_peer_gtk_GtkComponentPeer_gtkWidgetRequestFocus):\n\tReverted last patch.\n\t* jni/gtk-peer/gnu_java_awt_peer_gtk_GtkPopupMenuPeer.c\n\t(Java_gnu_java_awt_peer_gtk_GtkPopupMenuPeer_setupAccelGroup):\n\tReverted comment change.\n\nFrom-SVN: r82596", "tree": {"sha": "e1ae2760d85c02bed796d0a6bc2c43aee4cc9470", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e1ae2760d85c02bed796d0a6bc2c43aee4cc9470"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/53ef271f84dcf405c5e58ea7b1ef2211f073d3c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53ef271f84dcf405c5e58ea7b1ef2211f073d3c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/53ef271f84dcf405c5e58ea7b1ef2211f073d3c1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53ef271f84dcf405c5e58ea7b1ef2211f073d3c1/comments", "author": null, "committer": null, "parents": [{"sha": "5607edfd0812ffe8cd63d1ba6f18df8474fa7b75", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5607edfd0812ffe8cd63d1ba6f18df8474fa7b75", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5607edfd0812ffe8cd63d1ba6f18df8474fa7b75"}], "stats": {"total": 27, "additions": 18, "deletions": 9}, "files": [{"sha": "eeab79e01b26a56d45aacc77a0089dd6d857a87b", "filename": "libjava/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53ef271f84dcf405c5e58ea7b1ef2211f073d3c1/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53ef271f84dcf405c5e58ea7b1ef2211f073d3c1/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=53ef271f84dcf405c5e58ea7b1ef2211f073d3c1", "patch": "@@ -1,3 +1,17 @@\n+2004-06-03  Michael Koch  <konqueror@gmx.de>\n+\n+\t* gnu/java/awt/peer/gtk/GtkComponentPeer.java\n+\t(requestFocus): Revert last changes.\n+\t(gtkRequestFocus): Removed.\n+\t* jni/gtk-peer/gnu_java_awt_peer_gtk_GtkComponentPeer.c\n+\t(Java_gnu_java_awt_peer_gtk_GtkComponentPeer_gtkRequestFocus):\n+\tRenamed to ...\n+\t(Java_gnu_java_awt_peer_gtk_GtkComponentPeer_gtkWidgetRequestFocus):\n+\tReverted last patch.\n+\t* jni/gtk-peer/gnu_java_awt_peer_gtk_GtkPopupMenuPeer.c\n+\t(Java_gnu_java_awt_peer_gtk_GtkPopupMenuPeer_setupAccelGroup):\n+\tReverted comment change.\n+\n 2004-06-02  Olga Rodimina  <rodimina@redhat.com>\n \n \t* javax/swing/JCheckBoxMenuItem.java:"}, {"sha": "7d80e3626c98ec44e3252165eae1b93f0584f5cd", "filename": "libjava/gnu/java/awt/peer/gtk/GtkComponentPeer.java", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53ef271f84dcf405c5e58ea7b1ef2211f073d3c1/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkComponentPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53ef271f84dcf405c5e58ea7b1ef2211f073d3c1/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkComponentPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkComponentPeer.java?ref=53ef271f84dcf405c5e58ea7b1ef2211f073d3c1", "patch": "@@ -353,14 +353,10 @@ public void repaint (long tm, int x, int y, int width, int height)\n \n   public void requestFocus ()\n   {\n-    gtkRequestFocus();\n+    gtkWidgetRequestFocus();\n+    postFocusEvent(FocusEvent.FOCUS_GAINED, false);\n   }\n \n-  // Called from requestFocus, we don't want to make requestFocus itself\n-  // native since several JNI header generators have difficulties with\n-  // overridden and/or miranda methods. (Bug in gcjh < 3.5.)\n-  native private void gtkRequestFocus ();\n-\n   public void reshape (int x, int y, int width, int height) \n   {\n     setBounds (x, y, width, height);"}, {"sha": "09711726cd68e820e0d6e87672dd56e4c43b71b3", "filename": "libjava/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkComponentPeer.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53ef271f84dcf405c5e58ea7b1ef2211f073d3c1/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkComponentPeer.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53ef271f84dcf405c5e58ea7b1ef2211f073d3c1/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkComponentPeer.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkComponentPeer.c?ref=53ef271f84dcf405c5e58ea7b1ef2211f073d3c1", "patch": "@@ -472,7 +472,7 @@ Java_gnu_java_awt_peer_gtk_GtkComponentPeer_gtkWidgetSetCursor\n }\n \n JNIEXPORT void JNICALL\n-Java_gnu_java_awt_peer_gtk_GtkComponentPeer_gtkRequestFocus\n+Java_gnu_java_awt_peer_gtk_GtkComponentPeer_gtkWidgetRequestFocus\n   (JNIEnv *env, jobject obj)\n {\n   void *ptr;"}, {"sha": "c5fffdc343fdb226648db9d1f70accbbd107847c", "filename": "libjava/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkPopupMenuPeer.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53ef271f84dcf405c5e58ea7b1ef2211f073d3c1/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkPopupMenuPeer.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53ef271f84dcf405c5e58ea7b1ef2211f073d3c1/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkPopupMenuPeer.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkPopupMenuPeer.c?ref=53ef271f84dcf405c5e58ea7b1ef2211f073d3c1", "patch": "@@ -91,8 +91,7 @@ Java_gnu_java_awt_peer_gtk_GtkPopupMenuPeer_setupAccelGroup\n   gdk_threads_enter ();\n   menu = GTK_MENU (GTK_MENU_ITEM (ptr1)->submenu);\n   gtk_menu_set_accel_group (menu, gtk_accel_group_new ());\n-  /* FIXME: _gtk_accel_group_attach is a GTK-private function, so\n-     we'll need a different approach here: */\n+  /* FIXME: update this to use GTK-2.4 GtkActions. */\n #if 0\n   _gtk_accel_group_attach (gtk_menu_get_accel_group (menu),\n \t\t\t   G_OBJECT (gtk_widget_get_toplevel (ptr2)));"}]}