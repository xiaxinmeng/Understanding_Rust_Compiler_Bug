{"sha": "bc0bf7e935cf83f7cd68d09af7375f54cf950569", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmMwYmY3ZTkzNWNmODNmN2NkNjhkMDlhZjczNzVmNTRjZjk1MDU2OQ==", "commit": {"author": {"name": "Joseph Myers", "email": "joseph@codesourcery.com", "date": "2009-10-23T17:37:13Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2009-10-23T17:37:13Z"}, "message": "re PR testsuite/31342 (testsuite i386/pic-1.c FAILed for warning -fPIC ignored)\n\n\t* g++.dg/abi/rtti3.C, g++.dg/abi/thunk4.C: Skip for *-*-mingw* and\n\t*-*-cygwin.\n\t* g++.dg/cpp0x/lambda/lambda-mangle.C: Disable weak symbols tests\n\tfor *-*-mingw* and *-*-cygwin.\n\t* g++.dg/opt/vt1.C: Skip for *-*-mingw* and *-*_cygwin.\n\t* g++.dg/template/spec35.C: Disable weak symbol test for\n\t*-*-mingw* and *-*-cygwin.\n\n\tPR testsuite/31342\n\t* gcc.target/i386/pic-1.c: Skip for *-*-mingw* and *-*-cygwin.\n\nFrom-SVN: r153506", "tree": {"sha": "710d16798193d83e5f7a8e0982a9b63109485d8d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/710d16798193d83e5f7a8e0982a9b63109485d8d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bc0bf7e935cf83f7cd68d09af7375f54cf950569", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bc0bf7e935cf83f7cd68d09af7375f54cf950569", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bc0bf7e935cf83f7cd68d09af7375f54cf950569", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bc0bf7e935cf83f7cd68d09af7375f54cf950569/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "566df91a821dd06954011f491f2b7f0a2f253bef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/566df91a821dd06954011f491f2b7f0a2f253bef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/566df91a821dd06954011f491f2b7f0a2f253bef"}], "stats": {"total": 25, "additions": 21, "deletions": 4}, "files": [{"sha": "8c26eb01dd4742d148f88e274b689a656de08d7c", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc0bf7e935cf83f7cd68d09af7375f54cf950569/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc0bf7e935cf83f7cd68d09af7375f54cf950569/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=bc0bf7e935cf83f7cd68d09af7375f54cf950569", "patch": "@@ -1,3 +1,16 @@\n+2009-10-23  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* g++.dg/abi/rtti3.C, g++.dg/abi/thunk4.C: Skip for *-*-mingw* and\n+\t*-*-cygwin.\n+\t* g++.dg/cpp0x/lambda/lambda-mangle.C: Disable weak symbols tests\n+\tfor *-*-mingw* and *-*-cygwin.\n+\t* g++.dg/opt/vt1.C: Skip for *-*-mingw* and *-*_cygwin.\n+\t* g++.dg/template/spec35.C: Disable weak symbol test for\n+\t*-*-mingw* and *-*-cygwin.\n+\n+\tPR testsuite/31342\n+\t* gcc.target/i386/pic-1.c: Skip for *-*-mingw* and *-*-cygwin.\n+\n 2009-10-23  Janus Weil  <janus@gcc.gnu.org>\n \n \tPR fortran/41800"}, {"sha": "c03e4611c0b47dee8e18826f4a235fd2125d8957", "filename": "gcc/testsuite/g++.dg/abi/rtti3.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc0bf7e935cf83f7cd68d09af7375f54cf950569/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Frtti3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc0bf7e935cf83f7cd68d09af7375f54cf950569/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Frtti3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Frtti3.C?ref=bc0bf7e935cf83f7cd68d09af7375f54cf950569", "patch": "@@ -2,6 +2,7 @@\n // necessarily the type info object\n \n // { dg-require-weak \"\" }\n+// { dg-skip-if \"Linkonce not weak\" { *-*-mingw* *-*-cygwin } { \"*\" } { \"\" } }\n // { dg-final { scan-assembler \".weak\\[ \\t\\]_?_ZTSPP1A\" { target { ! { *-*-darwin* } } } } }\n // { dg-final { scan-assembler-not \".weak\\[ \\t\\]_?_ZTIPP1A\" { target { ! { *-*-darwin* } } } } }\n // { dg-final { scan-assembler \".weak_definition\\[ \\t\\]_?_ZTSPP1A\" { target { *-*-darwin* } } } }"}, {"sha": "fa5fbd4327714d323b7f0012100bd34226ba9855", "filename": "gcc/testsuite/g++.dg/abi/thunk4.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc0bf7e935cf83f7cd68d09af7375f54cf950569/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Fthunk4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc0bf7e935cf83f7cd68d09af7375f54cf950569/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Fthunk4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Fthunk4.C?ref=bc0bf7e935cf83f7cd68d09af7375f54cf950569", "patch": "@@ -1,4 +1,5 @@\n // { dg-require-weak \"\" }\n+// { dg-skip-if \"Linkonce not weak\" { *-*-mingw* *-*-cygwin } { \"*\" } { \"\" } }\n // { dg-final { scan-assembler \".weak\\[ \\t\\]_?_ZThn._N7Derived3FooEv\" { target { ! { *-*-darwin* } } } } }\n // { dg-final { scan-assembler \".weak_definition\\[ \\t\\]_?_ZThn._N7Derived3FooEv\" { target { *-*-darwin* } } } }\n "}, {"sha": "9f7d5f3b2a96b9750460a0a2b73c688538c11c4a", "filename": "gcc/testsuite/g++.dg/cpp0x/lambda/lambda-mangle.C", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc0bf7e935cf83f7cd68d09af7375f54cf950569/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Flambda%2Flambda-mangle.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc0bf7e935cf83f7cd68d09af7375f54cf950569/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Flambda%2Flambda-mangle.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Flambda%2Flambda-mangle.C?ref=bc0bf7e935cf83f7cd68d09af7375f54cf950569", "patch": "@@ -10,7 +10,7 @@ inline void g(int n) {\n   // The call operator of that type is _ZZ1giENKUlvE_clEv.\n \n // { dg-final { scan-assembler \"_ZZ1giENKUlvE_clEv\" } }\n-// { dg-final { scan-assembler \"weak\\[ \\t\\]*_?_ZZ1giENKUlvE_clEv\" { target { ! { *-*-darwin* } } } } }\n+// { dg-final { scan-assembler \"weak\\[ \\t\\]*_?_ZZ1giENKUlvE_clEv\" { target { ! { *-*-darwin* *-*-mingw* *-*-cygwin } } } } }\n \n   algo([=]{return n+bef();});\n   // The captured entities do not participate in <lambda-sig>\n@@ -32,7 +32,7 @@ struct S {\n \t // Type: ZN1S1fEiiEd0_UlvE_\n \t // Operator: _ZZN1S1fEiiEd0_NKUlvE_clEv\n // { dg-final { scan-assembler \"_ZZN1S1fEiiEd0_NKUlvE_clEv\" } }\n-// { dg-final { scan-assembler \"weak\\[ \\t\\]*_?_ZZN1S1fEiiEd0_NKUlvE_clEv\" { target { ! { *-*-darwin* } } } } }\n+// { dg-final { scan-assembler \"weak\\[ \\t\\]*_?_ZZN1S1fEiiEd0_NKUlvE_clEv\" { target { ! { *-*-darwin* *-*-mingw* *-*-cygwin } } } } }\n \t []{return 1;}()\n \t // Type: ZN1S1fEiiEd0_UlvE0_\n \t // Operator: _ZZN1S1fEiiEd0_NKUlvE0_clEv\n@@ -53,7 +53,7 @@ template int R<int>::x;\n // Type of lambda in intializer of R<int>::x: N1RIiE1xMUlvE_E\n // Corresponding operator(): _ZNK1RIiE1xMUlvE_clEv\n // { dg-final { scan-assembler \"_ZNK1RIiE1xMUlvE_clEv\" } }\n-// { dg-final { scan-assembler \"weak\\[ \\t\\]*_?_ZNK1RIiE1xMUlvE_clEv\" } }\n+// { dg-final { scan-assembler \"weak\\[ \\t\\]*_?_ZNK1RIiE1xMUlvE_clEv\" { target { ! { *-*-mingw* *-*-cygwin } } } } }\n \n void bar()\n {"}, {"sha": "ba871fba2d84212272ae2bc2afe24cf03d770e8c", "filename": "gcc/testsuite/g++.dg/opt/vt1.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc0bf7e935cf83f7cd68d09af7375f54cf950569/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fvt1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc0bf7e935cf83f7cd68d09af7375f54cf950569/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fvt1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fvt1.C?ref=bc0bf7e935cf83f7cd68d09af7375f54cf950569", "patch": "@@ -2,6 +2,7 @@\n // { dg-do compile { target fpic } }\n // { dg-options \"-O2 -fpic -fno-rtti\" }\n // { dg-skip-if \"requires unsupported run-time relocation\" { spu-*-* } { \"*\" } { \"\" } }\n+// { dg-skip-if \"No Windows PIC\" { *-*-mingw* *-*-cygwin } { \"*\" } { \"\" } }\n // Origin: Jakub Jelinek <jakub@redhat.com>\n \n struct S"}, {"sha": "709ece5dd90bbdca7b02809f40d2363828fcfb09", "filename": "gcc/testsuite/g++.dg/template/spec35.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc0bf7e935cf83f7cd68d09af7375f54cf950569/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fspec35.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc0bf7e935cf83f7cd68d09af7375f54cf950569/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fspec35.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fspec35.C?ref=bc0bf7e935cf83f7cd68d09af7375f54cf950569", "patch": "@@ -24,6 +24,6 @@ void instantiator ()\n   // { dg-final { scan-assembler-not \".glob(a|)l\\[\\t \\]*_?_Z2f1IiEvT_\" } }\n   f1(0);  // Expected to have static linkage\n \n-  // { dg-final { scan-assembler \".weak(_definition)?\\[\\t \\]*_?_Z2f2IiEvT_\" } }\n+  // { dg-final { scan-assembler \".weak(_definition)?\\[\\t \\]*_?_Z2f2IiEvT_\" { target { ! { *-*-mingw* *-*-cygwin } } } } }\n   f2(0);  // Expected to have weak global linkage\n }"}, {"sha": "bdf6267c7d8f850c41801cb0b03e073558494b22", "filename": "gcc/testsuite/gcc.target/i386/pic-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc0bf7e935cf83f7cd68d09af7375f54cf950569/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpic-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc0bf7e935cf83f7cd68d09af7375f54cf950569/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpic-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpic-1.c?ref=bc0bf7e935cf83f7cd68d09af7375f54cf950569", "patch": "@@ -2,6 +2,7 @@\n /* { dg-do compile } */\n /* { dg-require-effective-target ilp32 } */\n /* { dg-require-effective-target fpic } */\n+/* { dg-skip-if \"No Windows PIC\" { *-*-mingw* *-*-cygwin } { \"*\" } { \"\" } } */\n /* { dg-options \"-fPIC\" } */\n \n int foo ()"}]}