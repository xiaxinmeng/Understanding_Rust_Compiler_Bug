{"sha": "fe9208efaf5a745526539330b3353418ab711d7d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmU5MjA4ZWZhZjVhNzQ1NTI2NTM5MzMwYjMzNTM0MThhYjcxMWQ3ZA==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2014-04-15T14:31:40Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2014-04-15T14:31:40Z"}, "message": "decl.c (duplicate_decls): Remove redundant TYPE_NAME use.\n\n2014-04-15  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\t* decl.c (duplicate_decls): Remove redundant TYPE_NAME use.\n\t* name-lookup.c (pushdecl_maybe_friend_1): Likewise.\n\t(do_class_using_decl): Likewise.\n\t* mangle.c (dump_substitution_candidates): Use TYPE_NAME_STRING.\n\nFrom-SVN: r209420", "tree": {"sha": "170963879feb2a359bfeff0ed79a4cc04f0f1f53", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/170963879feb2a359bfeff0ed79a4cc04f0f1f53"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fe9208efaf5a745526539330b3353418ab711d7d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe9208efaf5a745526539330b3353418ab711d7d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fe9208efaf5a745526539330b3353418ab711d7d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe9208efaf5a745526539330b3353418ab711d7d/comments", "author": null, "committer": null, "parents": [{"sha": "98a2fdfba6290cc34485d77edfd0a092871ae7fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/98a2fdfba6290cc34485d77edfd0a092871ae7fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/98a2fdfba6290cc34485d77edfd0a092871ae7fc"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "4a50a2db39a2375d43485283ac6f61bf36deacb8", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe9208efaf5a745526539330b3353418ab711d7d/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe9208efaf5a745526539330b3353418ab711d7d/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=fe9208efaf5a745526539330b3353418ab711d7d", "patch": "@@ -1,3 +1,10 @@\n+2014-04-15  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\t* decl.c (duplicate_decls): Remove redundant TYPE_NAME use.\n+\t* name-lookup.c (pushdecl_maybe_friend_1): Likewise.\n+\t(do_class_using_decl): Likewise.\n+\t* mangle.c (dump_substitution_candidates): Use TYPE_NAME_STRING.\n+\n 2014-04-15  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR plugins/59335"}, {"sha": "f80f94a5f928a68739d03444a839879251650c09", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe9208efaf5a745526539330b3353418ab711d7d/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe9208efaf5a745526539330b3353418ab711d7d/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=fe9208efaf5a745526539330b3353418ab711d7d", "patch": "@@ -1380,7 +1380,6 @@ duplicate_decls (tree newdecl, tree olddecl, bool newdecl_is_friend)\n \t\t    tree t = TREE_VALUE (t1);\n \n \t\t    if (TYPE_PTR_P (t)\n-\t\t\t&& TYPE_NAME (TREE_TYPE (t))\n \t\t\t&& TYPE_IDENTIFIER (TREE_TYPE (t))\n \t\t\t   == get_identifier (\"FILE\")\n \t\t\t&& compparms (TREE_CHAIN (t1), TREE_CHAIN (t2)))"}, {"sha": "84d10a077c9df9bdf1e8f4b259ec3b97c77a08bf", "filename": "gcc/cp/mangle.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe9208efaf5a745526539330b3353418ab711d7d/gcc%2Fcp%2Fmangle.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe9208efaf5a745526539330b3353418ab711d7d/gcc%2Fcp%2Fmangle.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fmangle.c?ref=fe9208efaf5a745526539330b3353418ab711d7d", "patch": "@@ -323,7 +323,7 @@ dump_substitution_candidates (void)\n       else if (TREE_CODE (el) == TREE_LIST)\n \tname = IDENTIFIER_POINTER (DECL_NAME (TREE_VALUE (el)));\n       else if (TYPE_NAME (el))\n-\tname = IDENTIFIER_POINTER (TYPE_IDENTIFIER (el));\n+\tname = TYPE_NAME_STRING (el);\n       fprintf (stderr, \" S%d_ = \", i - 1);\n       if (TYPE_P (el) &&\n \t  (CP_TYPE_RESTRICT_P (el)"}, {"sha": "d900560490e3487a4e28c04e9f26b4c57aec7d14", "filename": "gcc/cp/name-lookup.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe9208efaf5a745526539330b3353418ab711d7d/gcc%2Fcp%2Fname-lookup.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe9208efaf5a745526539330b3353418ab711d7d/gcc%2Fcp%2Fname-lookup.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fname-lookup.c?ref=fe9208efaf5a745526539330b3353418ab711d7d", "patch": "@@ -945,7 +945,6 @@ pushdecl_maybe_friend_1 (tree x, bool is_friend)\n \t    set_underlying_type (x);\n \n \t  if (type != error_mark_node\n-\t      && TYPE_NAME (type)\n \t      && TYPE_IDENTIFIER (type))\n \t    set_identifier_type_value (DECL_NAME (x), x);\n \n@@ -3333,7 +3332,7 @@ do_class_using_decl (tree scope, tree name)\n     }\n   /* Using T::T declares inheriting ctors, even if T is a typedef.  */\n   if (MAYBE_CLASS_TYPE_P (scope)\n-      && ((TYPE_NAME (scope) && name == TYPE_IDENTIFIER (scope))\n+      && (name == TYPE_IDENTIFIER (scope)\n \t  || constructor_name_p (name, scope)))\n     {\n       maybe_warn_cpp0x (CPP0X_INHERITING_CTORS);"}]}