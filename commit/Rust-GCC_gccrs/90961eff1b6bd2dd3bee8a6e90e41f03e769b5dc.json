{"sha": "90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTA5NjFlZmYxYjZiZDJkZDNiZWU4YTZlOTBlNDFmMDNlNzY5YjVkYw==", "commit": {"author": {"name": "Andreas Jaeger", "email": "aj@gcc.gnu.org", "date": "2003-01-09T08:00:41Z"}, "committer": {"name": "Andreas Jaeger", "email": "aj@gcc.gnu.org", "date": "2003-01-09T08:00:41Z"}, "message": "Makefile.in (ORDINARY_FLAGS_TO_PASS): Also pass DESTDIR.\n\n\n\t* Makefile.in (ORDINARY_FLAGS_TO_PASS): Also pass DESTDIR.\n\t(install-gcc-tooldir, install-cpp, installdirs,\n\tinstall-common, install-driver, install-info, install-man,\n\tinstall-headers, install-include-dir, install-headers-tar,\n\tinstall-headers-cpio, install-headers-cp, install-mkheaders,\n\tinstall-collect2, uninstall): Prepend $(DESTDIR) to\n\tdestination paths in all (un)installation commands.\n\t(install-driver): Rewrite $(LN) commands to support DESTDIR\n\twith \"ln\" as well as with \"ln -s\".\n\t(installdirs): Simply use mkinstalldirs.\n\t(install-libgcc, install-multilib): Also pass DESTDIR.\n\t* mklibgcc.in: Prepend $(DESTDIR) to $(libsubdir) in the\n\tinstallation destination variable ldir.\n\t* config/alpha/t-osf4, config/arm/t-netbsd,\n\tconfig/ia64/t-hpux, config/mips/t-iris5-6,\n\tconfig/pa/t-hpux-shlib, config/rs6000/t-aix43,\n\tconfig/rs6000/t-aix52, config/t-slibgcc-elf-ver,\n\tconfig/t-slibgcc-sld: Prepend $$(DESTDIR) to $$(slibdir)\n\tin the definition of SHLIB_INSTALL.\n\t* config/arc/t-arc (install-multilib-arc): Prepend $(DESTDIR) to\n\t$(libsubdir) in the installation commands.\n\nFrom-SVN: r61076", "tree": {"sha": "9503bacb1a1c02eac18becc8060a8260c3c91907", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9503bacb1a1c02eac18becc8060a8260c3c91907"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/comments", "author": null, "committer": null, "parents": [{"sha": "8b26829f59398c76364c6c6275cabbda4aee5b0a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b26829f59398c76364c6c6275cabbda4aee5b0a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8b26829f59398c76364c6c6275cabbda4aee5b0a"}], "stats": {"total": 383, "additions": 200, "deletions": 183}, "files": [{"sha": "efdc0b46a47672bcb1a43a6c10ca94140f4de2f5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 25, "deletions": 1, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc", "patch": "@@ -1,3 +1,27 @@\n+2003-01-09  Christian Cornelssen  <ccorn@cs.tu-berlin.de>\n+\n+\t* Makefile.in (ORDINARY_FLAGS_TO_PASS): Also pass DESTDIR.\n+\t(install-gcc-tooldir, install-cpp, installdirs,\n+\tinstall-common, install-driver, install-info, install-man,\n+\tinstall-headers, install-include-dir, install-headers-tar,\n+\tinstall-headers-cpio, install-headers-cp, install-mkheaders,\n+\tinstall-collect2, uninstall): Prepend $(DESTDIR) to\n+\tdestination paths in all (un)installation commands.\n+\t(install-driver): Rewrite $(LN) commands to support DESTDIR\n+\twith \"ln\" as well as with \"ln -s\".\n+\t(installdirs): Simply use mkinstalldirs.\n+\t(install-libgcc, install-multilib): Also pass DESTDIR.\n+\t* mklibgcc.in: Prepend $(DESTDIR) to $(libsubdir) in the\n+\tinstallation destination variable ldir.\n+\t* config/alpha/t-osf4, config/arm/t-netbsd,\n+\tconfig/ia64/t-hpux, config/mips/t-iris5-6,\n+\tconfig/pa/t-hpux-shlib, config/rs6000/t-aix43,\n+\tconfig/rs6000/t-aix52, config/t-slibgcc-elf-ver,\n+\tconfig/t-slibgcc-sld: Prepend $$(DESTDIR) to $$(slibdir)\n+\tin the definition of SHLIB_INSTALL.\n+\t* config/arc/t-arc (install-multilib-arc): Prepend $(DESTDIR) to\n+\t$(libsubdir) in the installation commands.\n+\n 2003-01-08  Kaz Kojima  <kkojima@gcc.gnu.org>\n \n \t* config/sh/sh.h (CASE_VECTOR_MODE): Use SImode for a\n@@ -391,7 +415,7 @@ Tue Jan  7 21:46:57 CET 2003  Jan Hubicka  <jh@suse.cz>\n \t* fixinc/fixfixes.c(wrap_fix): the wrapper guard must be a function\n \tof *both* the file name and the fix name.\n \n-2002-01-04  John David Anglin  <dave.anglin@nrc.ca>\n+2003-01-04  John David Anglin  <dave.anglin@nrc.ca>\n \n \t* config.gcc (hppa*64*-*-hpux11*): Define extra_parts.  Don't use\n \tcollect2."}, {"sha": "01b3f4b6edc0f922968d5fd8a1b73b26065d102f", "filename": "gcc/Makefile.in", "status": "modified", "additions": 138, "deletions": 145, "changes": 283, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc", "patch": "@@ -690,6 +690,7 @@ ORDINARY_FLAGS_TO_PASS = \\\n \t\"BISON=$(BISON)\" \\\n \t\"BISONFLAGS=$(BISONFLAGS)\" \\\n \t\"CFLAGS=$(CFLAGS) $(WARN_CFLAGS)\" \\\n+\t\"DESTDIR=$(DESTDIR)\" \\\n \t\"GCC_FOR_TARGET=$(GCC_FOR_TARGET)\" \\\n \t\"LDFLAGS=$(LDFLAGS)\" \\\n \t\"FLEX=$(FLEX)\" \\\n@@ -2388,7 +2389,7 @@ fixinc.sh: $(FIXINCSRCDIR)/mkfixinc.sh $(FIXINCSRCDIR)/fixincl.c \\\n \n .PHONY: install-gcc-tooldir\n install-gcc-tooldir:\n-\t$(SHELL) ${srcdir}/mkinstalldirs $(gcc_tooldir)\n+\t$(SHELL) ${srcdir}/mkinstalldirs $(DESTDIR)$(gcc_tooldir)\n \n # Build fixed copies of system files.\n stmp-fixinc: fixinc.sh gsyslimits.h\n@@ -2778,173 +2779,163 @@ install: install-common $(INSTALL_HEADERS) $(INSTALL_LIBGCC) \\\n # Handle cpp installation.\n install-cpp: cpp$(exeext)\n \t-if [ -f gcc-cross$(exeext) ] ; then \\\n-\t  rm -f $(bindir)/$(CPP_CROSS_NAME)$(exeext); \\\n-\t  $(INSTALL_PROGRAM) -m 755 cpp$(exeext) $(bindir)/$(CPP_CROSS_NAME)$(exeext); \\\n+\t  rm -f $(DESTDIR)$(bindir)/$(CPP_CROSS_NAME)$(exeext); \\\n+\t  $(INSTALL_PROGRAM) -m 755 cpp$(exeext) $(DESTDIR)$(bindir)/$(CPP_CROSS_NAME)$(exeext); \\\n \t  if [ x$(cpp_install_dir) != x ]; then \\\n-\t    rm -f $(prefix)/$(cpp_install_dir)/$(CPP_CROSS_NAME)$(exeext); \\\n-\t    $(INSTALL_PROGRAM) -m 755 cpp$(exeext) $(prefix)/$(cpp_install_dir)/$(CPP_CROSS_NAME)$(exeext); \\\n+\t    rm -f $(DESTDIR)$(prefix)/$(cpp_install_dir)/$(CPP_CROSS_NAME)$(exeext); \\\n+\t    $(INSTALL_PROGRAM) -m 755 cpp$(exeext) $(DESTDIR)$(prefix)/$(cpp_install_dir)/$(CPP_CROSS_NAME)$(exeext); \\\n \t  else true; fi; \\\n \telse \\\n-\t  rm -f $(bindir)/$(CPP_INSTALL_NAME)$(exeext); \\\n-\t  $(INSTALL_PROGRAM) -m 755 cpp$(exeext) $(bindir)/$(CPP_INSTALL_NAME)$(exeext); \\\n+\t  rm -f $(DESTDIR)$(bindir)/$(CPP_INSTALL_NAME)$(exeext); \\\n+\t  $(INSTALL_PROGRAM) -m 755 cpp$(exeext) $(DESTDIR)$(bindir)/$(CPP_INSTALL_NAME)$(exeext); \\\n \t  if [ x$(cpp_install_dir) != x ]; then \\\n-\t    rm -f $(prefix)/$(cpp_install_dir)/$(CPP_INSTALL_NAME)$(exeext); \\\n-\t    $(INSTALL_PROGRAM) -m 755 cpp$(exeext) $(prefix)/$(cpp_install_dir)/$(CPP_INSTALL_NAME)$(exeext); \\\n+\t    rm -f $(DESTDIR)$(prefix)/$(cpp_install_dir)/$(CPP_INSTALL_NAME)$(exeext); \\\n+\t    $(INSTALL_PROGRAM) -m 755 cpp$(exeext) $(DESTDIR)$(prefix)/$(cpp_install_dir)/$(CPP_INSTALL_NAME)$(exeext); \\\n \t  else true; fi; \\\n \tfi\n \n # Create the installation directories.\n+# $(libdir)/gcc-lib/include isn't currently searched by cpp.\n installdirs:\n-\t-if [ -d $(prefix) ] ; then true ; else mkdir $(prefix) ; chmod a+rx $(prefix) ; fi\n-\t-if [ -d $(exec_prefix) ] ; then true ; else mkdir $(exec_prefix) ; chmod a+rx $(exec_prefix) ; fi\n-\t-if [ -d $(libdir) ] ; then true ; else mkdir $(libdir) ; chmod a+rx $(libdir) ; fi\n-\t-if [ -d $(libdir)/gcc-lib ] ; then true ; else mkdir $(libdir)/gcc-lib ; chmod a+rx $(libdir)/gcc-lib ; fi\n-# This dir isn't currently searched by cpp.\n-#\t-if [ -d $(libdir)/gcc-lib/include ] ; then true ; else mkdir $(libdir)/gcc-lib/include ; chmod a+rx $(libdir)/gcc-lib/include ; fi\n-\t-fdir= ; for dir in `echo $(libsubdir) | tr '/' ' '`; do \\\n-\t  fdir=$${fdir}/$${dir}; \\\n-\t  if [ -d $${fdir} ] ; then true ; else mkdir $${fdir}; chmod a+rx $${fdir}; fi ; \\\n-\tdone\n-\t-if [ -d $(bindir) ] ; then true ; else mkdir $(bindir) ; chmod a+rx $(bindir) ; fi\n-\t-if [ -d $(includedir) ] ; then true ; else mkdir $(includedir) ; chmod a+rx $(includedir) ; fi\n-\t-if [ -d $(infodir) ] ; then true ; else mkdir $(infodir) ; chmod a+rx $(infodir) ; fi\n-\t-if [ -d $(slibdir) ] ; then true ; else mkdir $(slibdir) ; chmod a+rx $(slibdir) ; fi\n-# We don't use mkdir -p to create the parents of man1dir,\n-# because some systems don't support it.\n-# Instead, we use this technique to create the immediate parent of man1dir.\n-\t-parent=`echo $(man1dir)|sed -e 's@/[^/]*$$@@'`; \\\n-\tif [ -d $$parent ] ; then true ; else mkdir $$parent ; chmod a+rx $$parent ; fi\n-\t-if [ -d $(man1dir) ] ; then true ; else mkdir $(man1dir) ; chmod a+rx $(man1dir) ; fi\n-\t-if [ -d $(man7dir) ] ; then true ; else mkdir $(man7dir) ; chmod a+rx $(man7dir) ; fi\n+\t$(SHELL) ${srcdir}/mkinstalldirs $(DESTDIR)$(libsubdir)\n+\t$(SHELL) ${srcdir}/mkinstalldirs $(DESTDIR)$(bindir)\n+\t$(SHELL) ${srcdir}/mkinstalldirs $(DESTDIR)$(includedir)\n+\t$(SHELL) ${srcdir}/mkinstalldirs $(DESTDIR)$(infodir)\n+\t$(SHELL) ${srcdir}/mkinstalldirs $(DESTDIR)$(slibdir)\n+\t$(SHELL) ${srcdir}/mkinstalldirs $(DESTDIR)$(man1dir)\n+\t$(SHELL) ${srcdir}/mkinstalldirs $(DESTDIR)$(man7dir)\n \n # Install the compiler executables built during cross compilation.\n install-common: native $(EXTRA_PARTS) lang.install-common\n \tfor file in $(COMPILERS); do \\\n \t  if [ -f $$file ] ; then \\\n-\t    rm -f $(libsubdir)/$$file; \\\n-\t    $(INSTALL_PROGRAM) $$file $(libsubdir)/$$file; \\\n+\t    rm -f $(DESTDIR)$(libsubdir)/$$file; \\\n+\t    $(INSTALL_PROGRAM) $$file $(DESTDIR)$(libsubdir)/$$file; \\\n \t  else true; \\\n \t  fi; \\\n \tdone\n \tfor file in $(EXTRA_PASSES) $(EXTRA_PROGRAMS) $(USE_COLLECT2) ..; do \\\n \t  if [ x\"$$file\" != x.. ]; then \\\n-\t    rm -f $(libsubdir)/$$file; \\\n-\t    $(INSTALL_PROGRAM) $$file $(libsubdir)/$$file; \\\n+\t    rm -f $(DESTDIR)$(libsubdir)/$$file; \\\n+\t    $(INSTALL_PROGRAM) $$file $(DESTDIR)$(libsubdir)/$$file; \\\n \t  else true; fi; \\\n \tdone\n \tfor file in $(EXTRA_PARTS) ..; do \\\n \t  if [ x\"$$file\" != x.. ]; then \\\n-\t    rm -f $(libsubdir)/$$file; \\\n-\t    $(INSTALL_DATA) $$file $(libsubdir)/$$file; \\\n-\t    chmod a-x $(libsubdir)/$$file; \\\n+\t    rm -f $(DESTDIR)$(libsubdir)/$$file; \\\n+\t    $(INSTALL_DATA) $$file $(DESTDIR)$(libsubdir)/$$file; \\\n+\t    chmod a-x $(DESTDIR)$(libsubdir)/$$file; \\\n \t  else true; fi; \\\n \tdone\n # Don't mess with specs if it doesn't exist yet.\n \t-if [ -f specs ] ; then \\\n-\t  rm -f $(libsubdir)/specs; \\\n-\t  $(INSTALL_DATA) specs $(libsubdir)/specs; \\\n-\t  chmod a-x $(libsubdir)/specs; \\\n+\t  rm -f $(DESTDIR)$(libsubdir)/specs; \\\n+\t  $(INSTALL_DATA) specs $(DESTDIR)$(libsubdir)/specs; \\\n+\t  chmod a-x $(DESTDIR)$(libsubdir)/specs; \\\n \tfi\n # Install protoize if it was compiled.\n \t-if [ -f protoize$(exeext) ]; \\\n \tthen \\\n \t    if [ -f gcc-cross$(exeext) ] ; then \\\n-\t\trm -f $(bindir)/$(PROTOIZE_CROSS_NAME)$(exeext); \\\n-\t\t$(INSTALL_PROGRAM) protoize$(exeext) $(bindir)/$(PROTOIZE_CROSS_NAME)$(exeext); \\\n-\t\trm -f $(bindir)/$(UNPROTOIZE_CROSS_NAME)$(exeext); \\\n-\t\t$(INSTALL_PROGRAM) unprotoize$(exeext) $(bindir)/$(UNPROTOIZE_CROSS_NAME)$(exeext); \\\n+\t\trm -f $(DESTDIR)$(bindir)/$(PROTOIZE_CROSS_NAME)$(exeext); \\\n+\t\t$(INSTALL_PROGRAM) protoize$(exeext) $(DESTDIR)$(bindir)/$(PROTOIZE_CROSS_NAME)$(exeext); \\\n+\t\trm -f $(DESTDIR)$(bindir)/$(UNPROTOIZE_CROSS_NAME)$(exeext); \\\n+\t\t$(INSTALL_PROGRAM) unprotoize$(exeext) $(DESTDIR)$(bindir)/$(UNPROTOIZE_CROSS_NAME)$(exeext); \\\n \t    else \\\n-\t\trm -f $(bindir)/$(PROTOIZE_INSTALL_NAME)$(exeext); \\\n-\t\t$(INSTALL_PROGRAM) protoize$(exeext) $(bindir)/$(PROTOIZE_INSTALL_NAME)$(exeext); \\\n-\t\trm -f $(bindir)/$(UNPROTOIZE_INSTALL_NAME)$(exeext); \\\n-\t\t$(INSTALL_PROGRAM) unprotoize$(exeext) $(bindir)/$(UNPROTOIZE_INSTALL_NAME)$(exeext); \\\n+\t\trm -f $(DESTDIR)$(bindir)/$(PROTOIZE_INSTALL_NAME)$(exeext); \\\n+\t\t$(INSTALL_PROGRAM) protoize$(exeext) $(DESTDIR)$(bindir)/$(PROTOIZE_INSTALL_NAME)$(exeext); \\\n+\t\trm -f $(DESTDIR)$(bindir)/$(UNPROTOIZE_INSTALL_NAME)$(exeext); \\\n+\t\t$(INSTALL_PROGRAM) unprotoize$(exeext) $(DESTDIR)$(bindir)/$(UNPROTOIZE_INSTALL_NAME)$(exeext); \\\n \t    fi ; \\\n-\t    rm -f $(libsubdir)/SYSCALLS.c.X; \\\n-\t    $(INSTALL_DATA) SYSCALLS.c.X $(libsubdir)/SYSCALLS.c.X; \\\n-\t    chmod a-x $(libsubdir)/SYSCALLS.c.X; \\\n+\t    rm -f $(DESTDIR)$(libsubdir)/SYSCALLS.c.X; \\\n+\t    $(INSTALL_DATA) SYSCALLS.c.X $(DESTDIR)$(libsubdir)/SYSCALLS.c.X; \\\n+\t    chmod a-x $(DESTDIR)$(libsubdir)/SYSCALLS.c.X; \\\n \tfi\n # Install gcov if it was compiled.\n \t-if [ -f gcov$(exeext) ]; \\\n \tthen \\\n-\t    rm -f $(bindir)/gcov$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gcov$(exeext) $(bindir)/$(GCOV_INSTALL_NAME)$(exeext); \\\n+\t    rm -f $(DESTDIR)$(bindir)/gcov$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gcov$(exeext) $(DESTDIR)$(bindir)/$(GCOV_INSTALL_NAME)$(exeext); \\\n \tfi\n-\t$(INSTALL_SCRIPT) gccbug $(bindir)/$(GCCBUG_INSTALL_NAME)\n+\t$(INSTALL_SCRIPT) gccbug $(DESTDIR)$(bindir)/$(GCCBUG_INSTALL_NAME)\n \n # Install the driver program as $(target_alias)-gcc, \n # $(target-alias)-gcc-$(version)\n # and also as either gcc (if native) or $(gcc_tooldir)/bin/gcc.\n install-driver: installdirs xgcc$(exeext)\n \t-if [ -f gcc-cross$(exeext) ] ; then \\\n-\t  rm -f $(bindir)/$(GCC_CROSS_NAME)$(exeext); \\\n-\t  $(INSTALL_PROGRAM) gcc-cross$(exeext) $(bindir)/$(GCC_CROSS_NAME)$(exeext); \\\n-\t  rm -f $(bindir)/$(target_alias)-gcc-$(version); \\\n-\t  $(LN) $(bindir)/$(GCC_CROSS_NAME)$(exeext) $(bindir)/$(target_alias)-gcc-$(version) ; \\\n-\t  if [ -d $(gcc_tooldir)/bin/. ] ; then \\\n-\t    rm -f $(gcc_tooldir)/bin/gcc$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gcc-cross$(exeext) $(gcc_tooldir)/bin/gcc$(exeext); \\\n+\t  rm -f $(DESTDIR)$(bindir)/$(GCC_CROSS_NAME)$(exeext); \\\n+\t  $(INSTALL_PROGRAM) gcc-cross$(exeext) $(DESTDIR)$(bindir)/$(GCC_CROSS_NAME)$(exeext); \\\n+\t  rm -f $(DESTDIR)$(bindir)/$(target_alias)-gcc-$(version); \\\n+\t  ( cd $(DESTDIR)$(bindir) && \\\n+\t    $(LN) $(GCC_CROSS_NAME)$(exeext) $(target_alias)-gcc-$(version) ); \\\n+\t  if [ -d $(DESTDIR)$(gcc_tooldir)/bin/. ] ; then \\\n+\t    rm -f $(DESTDIR)$(gcc_tooldir)/bin/gcc$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gcc-cross$(exeext) $(DESTDIR)$(gcc_tooldir)/bin/gcc$(exeext); \\\n \t  else true; fi; \\\n \telse \\\n-\t  rm -f $(bindir)/$(GCC_INSTALL_NAME)$(exeext); \\\n-\t  $(INSTALL_PROGRAM) xgcc$(exeext) $(bindir)/$(GCC_INSTALL_NAME)$(exeext); \\\n-\t  rm -f $(bindir)/$(target_alias)-gcc-$(version); \\\n-\t  $(LN) $(bindir)/$(GCC_INSTALL_NAME)$(exeext) $(bindir)/$(target_alias)-gcc-$(version) ; \\\n-\t  rm -f $(bindir)/$(target_alias)-gcc-tmp$(exeext); \\\n-\t  $(LN) $(bindir)/$(GCC_INSTALL_NAME)$(exeext) $(bindir)/$(target_alias)-gcc-tmp$(exeext); \\\n-\t  mv $(bindir)/$(target_alias)-gcc-tmp$(exeext) $(bindir)/$(GCC_TARGET_INSTALL_NAME)$(exeext); \\\n+\t  rm -f $(DESTDIR)$(bindir)/$(GCC_INSTALL_NAME)$(exeext); \\\n+\t  $(INSTALL_PROGRAM) xgcc$(exeext) $(DESTDIR)$(bindir)/$(GCC_INSTALL_NAME)$(exeext); \\\n+\t  rm -f $(DESTDIR)$(bindir)/$(target_alias)-gcc-$(version); \\\n+\t  ( cd $(DESTDIR)$(bindir) && \\\n+\t    $(LN) $(GCC_INSTALL_NAME)$(exeext) $(target_alias)-gcc-$(version) ); \\\n+\t  rm -f $(DESTDIR)$(bindir)/$(target_alias)-gcc-tmp$(exeext); \\\n+\t  ( cd $(DESTDIR)$(bindir) && \\\n+\t    $(LN) $(GCC_INSTALL_NAME)$(exeext) $(target_alias)-gcc-tmp$(exeext) && \\\n+\t    mv -f $(target_alias)-gcc-tmp$(exeext) $(GCC_TARGET_INSTALL_NAME)$(exeext) ); \\\n \tfi\n \n # Install the info files.\n # $(INSTALL_DATA) might be a relative pathname, so we can't cd into srcdir\n # to do the install.\n install-info: doc installdirs lang.install-info\n-\t-rm -f $(infodir)/cpp.info* $(infodir)/gcc.info*\n-\t-rm -f $(infodir)/cppinternals.info* $(infodir)/gccint.info*\n+\t-rm -f $(DESTDIR)$(infodir)/cpp.info* $(DESTDIR)$(infodir)/gcc.info*\n+\t-rm -f $(DESTDIR)$(infodir)/cppinternals.info* $(DESTDIR)$(infodir)/gccint.info*\n \tif [ -f $(docdir)/gcc.info ]; then \\\n \t  for f in $(docdir)/cpp.info* $(docdir)/gcc.info* \\\n \t\t$(docdir)/cppinternals.info* $(docdir)/gccint.info*; do \\\n \t    realfile=`echo $$f | sed -e 's|.*/\\([^/]*\\)$$|\\1|'`; \\\n-\t    $(INSTALL_DATA) $$f $(infodir)/$$realfile; \\\n+\t    $(INSTALL_DATA) $$f $(DESTDIR)$(infodir)/$$realfile; \\\n \t  done; \\\n \telse true; fi\n \t-if $(SHELL) -c 'install-info --version' >/dev/null 2>&1; then \\\n-\t  if [ -f $(infodir)/dir ] ; then \\\n+\t  if [ -f $(DESTDIR)$(infodir)/dir ] ; then \\\n \t    for f in cpp.info gcc.info gccint.info cppinternals.info; do \\\n-\t\tif [ -f $(infodir)/$$f ]; then \\\n-\t\t  install-info --dir-file=$(infodir)/dir $(infodir)/$$f; \\\n+\t\tif [ -f $(DESTDIR)$(infodir)/$$f ]; then \\\n+\t\t  install-info --dir-file=$(DESTDIR)$(infodir)/dir $(DESTDIR)$(infodir)/$$f; \\\n \t\telse true; fi; \\\n \t    done; \\\n \t  else true; fi; \\\n \telse true; fi;\n-\t-chmod a-x $(infodir)/cpp.info* $(infodir)/gcc.info*\n-\t-chmod a-x $(infodir)/cppinternals.info* $(infodir)/gccint.info*\n+\t-chmod a-x $(DESTDIR)$(infodir)/cpp.info* $(DESTDIR)$(infodir)/gcc.info*\n+\t-chmod a-x $(DESTDIR)$(infodir)/cppinternals.info* $(DESTDIR)$(infodir)/gccint.info*\n \n # Install the man pages.\n install-man: installdirs $(GENERATED_MANPAGES) lang.install-man\n \t-if [ -f gcc-cross$(exeext) ] ; then \\\n-\t  rm -f $(man1dir)/$(GCC_CROSS_NAME)$(man1ext); \\\n-\t  $(INSTALL_DATA) $(docdir)/gcc.1 $(man1dir)/$(GCC_CROSS_NAME)$(man1ext); \\\n-\t  chmod a-x $(man1dir)/$(GCC_CROSS_NAME)$(man1ext); \\\n+\t  rm -f $(DESTDIR)$(man1dir)/$(GCC_CROSS_NAME)$(man1ext); \\\n+\t  $(INSTALL_DATA) $(docdir)/gcc.1 $(DESTDIR)$(man1dir)/$(GCC_CROSS_NAME)$(man1ext); \\\n+\t  chmod a-x $(DESTDIR)$(man1dir)/$(GCC_CROSS_NAME)$(man1ext); \\\n \telse \\\n-\t  rm -f $(man1dir)/$(GCC_INSTALL_NAME)$(man1ext); \\\n-\t  $(INSTALL_DATA) $(docdir)/gcc.1 $(man1dir)/$(GCC_INSTALL_NAME)$(man1ext); \\\n-\t  chmod a-x $(man1dir)/$(GCC_INSTALL_NAME)$(man1ext); \\\n+\t  rm -f $(DESTDIR)$(man1dir)/$(GCC_INSTALL_NAME)$(man1ext); \\\n+\t  $(INSTALL_DATA) $(docdir)/gcc.1 $(DESTDIR)$(man1dir)/$(GCC_INSTALL_NAME)$(man1ext); \\\n+\t  chmod a-x $(DESTDIR)$(man1dir)/$(GCC_INSTALL_NAME)$(man1ext); \\\n \tfi\n-\t-rm -f $(man1dir)/cpp$(man1ext)\n-\t-$(INSTALL_DATA) $(docdir)/cpp.1 $(man1dir)/cpp$(man1ext)\n-\t-chmod a-x $(man1dir)/cpp$(man1ext)\n-\t-rm -f $(man1dir)/gcov$(man1ext)\n-\t-$(INSTALL_DATA) $(docdir)/gcov.1 $(man1dir)/gcov$(man1ext)\n-\t-chmod a-x $(man1dir)/gcov$(man1ext)\n-\t-rm -f $(man7dir)/fsf-funding$(man7ext)\n-\t-$(INSTALL_DATA) $(docdir)/fsf-funding.7 $(man7dir)/fsf-funding$(man7ext)\n-\t-chmod a-x $(man7dir)/fsf-funding$(man7ext)\n-\t-rm -f $(man7dir)/gfdl$(man7ext)\n-\t-$(INSTALL_DATA) $(docdir)/gfdl.7 $(man7dir)/gfdl$(man7ext)\n-\t-chmod a-x $(man7dir)/gfdl$(man7ext)\n-\t-rm -f $(man7dir)/gpl$(man7ext)\n-\t-$(INSTALL_DATA) $(docdir)/gpl.7 $(man7dir)/gpl$(man7ext)\n-\t-chmod a-x $(man7dir)/gpl$(man7ext)\n+\t-rm -f $(DESTDIR)$(man1dir)/cpp$(man1ext)\n+\t-$(INSTALL_DATA) $(docdir)/cpp.1 $(DESTDIR)$(man1dir)/cpp$(man1ext)\n+\t-chmod a-x $(DESTDIR)$(man1dir)/cpp$(man1ext)\n+\t-rm -f $(DESTDIR)$(man1dir)/gcov$(man1ext)\n+\t-$(INSTALL_DATA) $(docdir)/gcov.1 $(DESTDIR)$(man1dir)/gcov$(man1ext)\n+\t-chmod a-x $(DESTDIR)$(man1dir)/gcov$(man1ext)\n+\t-rm -f $(DESTDIR)$(man7dir)/fsf-funding$(man7ext)\n+\t-$(INSTALL_DATA) $(docdir)/fsf-funding.7 $(DESTDIR)$(man7dir)/fsf-funding$(man7ext)\n+\t-chmod a-x $(DESTDIR)$(man7dir)/fsf-funding$(man7ext)\n+\t-rm -f $(DESTDIR)$(man7dir)/gfdl$(man7ext)\n+\t-$(INSTALL_DATA) $(docdir)/gfdl.7 $(DESTDIR)$(man7dir)/gfdl$(man7ext)\n+\t-chmod a-x $(DESTDIR)$(man7dir)/gfdl$(man7ext)\n+\t-rm -f $(DESTDIR)$(man7dir)/gpl$(man7ext)\n+\t-$(INSTALL_DATA) $(docdir)/gpl.7 $(DESTDIR)$(man7dir)/gpl$(man7ext)\n+\t-chmod a-x $(DESTDIR)$(man7dir)/gpl$(man7ext)\n \n # Install the library.\n install-libgcc: libgcc.mk libgcc.a installdirs\n@@ -2968,6 +2959,7 @@ install-libgcc: libgcc.mk libgcc.a installdirs\n \t  MAKEOVERRIDES= \\\n \t  INSTALL_DATA=\"$(INSTALL_DATA)\" \\\n \t  RANLIB_FOR_TARGET=\"$$r_f_t\" \\\n+\t  DESTDIR=\"$(DESTDIR)\" \\\n \t  libsubdir=\"$(libsubdir)\" \\\n \t  slibdir=\"$(slibdir)\" \\\n \t  -f libgcc.mk install\n@@ -2994,6 +2986,7 @@ install-multilib: stmp-multilib installdirs\n \t  MAKEOVERRIDES= \\\n \t  INSTALL_DATA=\"$(INSTALL_DATA)\" \\\n \t  RANLIB_FOR_TARGET=\"$$r_f_t\" \\\n+\t  DESTDIR=\"$(DESTDIR)\" \\\n \t  libsubdir=\"$(libsubdir)\" \\\n \t  slibdir=\"$(slibdir)\" \\\n \t  -f libgcc.mk install\n@@ -3003,23 +2996,23 @@ install-headers: $(INSTALL_HEADERS_DIR)\n # Fix symlinks to absolute paths in the installed include directory to\n # point to the installed directory, not the build directory.\n # Don't need to use LN_S here since we really do need ln -s and no substitutes.\n-\t-files=`cd $(libsubdir)/include; find . -type l -print 2>/dev/null`; \\\n+\t-files=`cd $(DESTDIR)$(libsubdir)/include; find . -type l -print 2>/dev/null`; \\\n \tif [ $$? -eq 0 ]; then \\\n \t  dir=`cd include; ${PWD}`; \\\n \t  for i in $$files; do \\\n-\t    dest=`ls -ld $(libsubdir)/include/$$i | sed -n 's/.*-> //p'`; \\\n+\t    dest=`ls -ld $(DESTDIR)$(libsubdir)/include/$$i | sed -n 's/.*-> //p'`; \\\n \t    if expr \"$$dest\" : \"$$dir.*\" > /dev/null; then \\\n-\t      rm -f $(libsubdir)/include/$$i; \\\n-\t      ln -s `echo $$i | sed \"s|/[^/]*|/..|g\" | sed 's|/..$$||'``echo \"$$dest\" | sed \"s|$$dir||\"` $(libsubdir)/include/$$i; \\\n+\t      rm -f $(DESTDIR)$(libsubdir)/include/$$i; \\\n+\t      ln -s `echo $$i | sed \"s|/[^/]*|/..|g\" | sed 's|/..$$||'``echo \"$$dest\" | sed \"s|$$dir||\"` $(DESTDIR)$(libsubdir)/include/$$i; \\\n \t    fi; \\\n \t  done; \\\n \tfi\n \n # Create or recreate the gcc private include file directory.\n install-include-dir: installdirs\n-\t-rm -rf $(libsubdir)/include\n-\tmkdir $(libsubdir)/include\n-\t-chmod a+rx $(libsubdir)/include\n+\t-rm -rf $(DESTDIR)$(libsubdir)/include\n+\tmkdir $(DESTDIR)$(libsubdir)/include\n+\t-chmod a+rx $(DESTDIR)$(libsubdir)/include\n \n # Install the include directory using tar.\n install-headers-tar: stmp-int-hdrs $(STMP_FIXPROTO) install-include-dir\n@@ -3028,7 +3021,7 @@ install-headers-tar: stmp-int-hdrs $(STMP_FIXPROTO) install-include-dir\n # found in CDPATH, corrupting the output.  We could just redirect the\n # output of `cd', but some shells lose on redirection within `()'s\n \t(cd `${PWD}`/include ; \\\n-\t tar -cf - .; exit 0) | (cd $(libsubdir)/include; tar xpf - )\n+\t tar -cf - .; exit 0) | (cd $(DESTDIR)$(libsubdir)/include; tar xpf - )\n # /bin/sh on some systems returns the status of the first tar,\n # and that can lose with GNU tar which always writes a full block.\n # So use `exit 0' to ignore its exit status.\n@@ -3037,78 +3030,78 @@ install-headers-tar: stmp-int-hdrs $(STMP_FIXPROTO) install-include-dir\n install-headers-cpio: stmp-int-hdrs $(STMP_FIXPROTO) install-include-dir\n # See discussion about the use of `pwd` above\n \tcd `${PWD}`/include ; \\\n-\tfind . -print | cpio -pdum $(libsubdir)/include\n+\tfind . -print | cpio -pdum $(DESTDIR)$(libsubdir)/include\n \n # Install the include directory using cp.\n install-headers-cp: stmp-int-hdrs $(STMP_FIXPROTO) install-include-dir\n-\tcp -p -r include $(libsubdir)\n+\tcp -p -r include $(DESTDIR)$(libsubdir)\n \n itoolsdir = $(libsubdir)/install-tools\n # Don't install the headers.  Instead, install appropriate scripts\n # and supporting files for fixincludes to be run later.\n install-mkheaders: stmp-int-hdrs $(STMP_FIXPROTO) install-include-dir \\\n     mkheaders xlimits.h\n-\t-rm -rf $(itoolsdir)\n-\t$(SHELL) $(srcdir)/mkinstalldirs $(itoolsdir)/include\n+\t-rm -rf $(DESTDIR)$(itoolsdir)\n+\t$(SHELL) $(srcdir)/mkinstalldirs $(DESTDIR)$(itoolsdir)/include\n \tfor file in $(USER_H); do \\\n \t  realfile=`echo $$file | sed -e 's|.*/\\([^/]*\\)$$|\\1|'`; \\\n \t  $(INSTALL_DATA) $$file \\\n-\t    $(itoolsdir)/include/$$realfile ; \\\n+\t    $(DESTDIR)$(itoolsdir)/include/$$realfile ; \\\n \tdone\n-\t$(INSTALL_DATA) xlimits.h $(itoolsdir)/include/limits.h\n+\t$(INSTALL_DATA) xlimits.h $(DESTDIR)$(itoolsdir)/include/limits.h\n \tif [ x$(STMP_FIXINC) != x ] ; then \\\n \t  $(INSTALL_DATA) $(srcdir)/README-fixinc \\\n-\t    $(itoolsdir)/include/README ; \\\n-\t  $(INSTALL_PROGRAM) fixinc.sh $(itoolsdir)/fixinc.sh ; \\\n-\t  $(INSTALL_PROGRAM) fixinc/fixincl $(itoolsdir)/fixincl ; \\\n-\t  $(INSTALL_DATA) $(srcdir)/gsyslimits.h $(itoolsdir)/gsyslimits.h ; \\\n+\t    $(DESTDIR)$(itoolsdir)/include/README ; \\\n+\t  $(INSTALL_PROGRAM) fixinc.sh $(DESTDIR)$(itoolsdir)/fixinc.sh ; \\\n+\t  $(INSTALL_PROGRAM) fixinc/fixincl $(DESTDIR)$(itoolsdir)/fixincl ; \\\n+\t  $(INSTALL_DATA) $(srcdir)/gsyslimits.h $(DESTDIR)$(itoolsdir)/gsyslimits.h ; \\\n \telse :; fi\n \tif [ x$(STMP_FIXPROTO) != x ] ; then \\\n \t  $(INSTALL_PROGRAM) $(srcdir)/mkinstalldirs \\\n-\t\t$(itoolsdir)/mkinstalldirs ; \\\n-\t  $(INSTALL_PROGRAM) $(srcdir)/fixproto $(itoolsdir)/fixproto ; \\\n+\t\t$(DESTDIR)$(itoolsdir)/mkinstalldirs ; \\\n+\t  $(INSTALL_PROGRAM) $(srcdir)/fixproto $(DESTDIR)$(itoolsdir)/fixproto ; \\\n \t  $(INSTALL_PROGRAM) fix-header$(build_exeext) \\\n-\t\t$(itoolsdir)/fix-header$(build_exeext) ; \\\n+\t\t$(DESTDIR)$(itoolsdir)/fix-header$(build_exeext) ; \\\n \telse :; fi\n-\t$(INSTALL_PROGRAM) mkheaders $(itoolsdir)/mkheaders\n+\t$(INSTALL_PROGRAM) mkheaders $(DESTDIR)$(itoolsdir)/mkheaders\n \techo 'SYSTEM_HEADER_DIR=\"'\"$(SYSTEM_HEADER_DIR)\"'\"' \\\n-\t\t> $(itoolsdir)/mkheaders.conf\n+\t\t> $(DESTDIR)$(itoolsdir)/mkheaders.conf\n \techo 'OTHER_FIXINCLUDES_DIRS=\"$(OTHER_FIXINCLUDES_DIRS)\"' \\\n-\t\t>> $(itoolsdir)/mkheaders.conf\n+\t\t>> $(DESTDIR)$(itoolsdir)/mkheaders.conf\n \techo 'FIXPROTO_DEFINES=\"$(FIXPROTO_DEFINES)\"' \\\n-\t\t>> $(itoolsdir)/mkheaders.conf\n-\techo 'STMP_FIXPROTO=\"$(STMP_FIXPROTO)\"' >> $(itoolsdir)/mkheaders.conf\n-\techo 'STMP_FIXINC=\"$(STMP_FIXINC)\"' >> $(itoolsdir)/mkheaders.conf\n+\t\t>> $(DESTDIR)$(itoolsdir)/mkheaders.conf\n+\techo 'STMP_FIXPROTO=\"$(STMP_FIXPROTO)\"' >> $(DESTDIR)$(itoolsdir)/mkheaders.conf\n+\techo 'STMP_FIXINC=\"$(STMP_FIXINC)\"' >> $(DESTDIR)$(itoolsdir)/mkheaders.conf\n \n # Use this target to install the program `collect2' under the name `collect2'.\n install-collect2: collect2 installdirs\n-\t$(INSTALL_PROGRAM) collect2$(exeext) $(libsubdir)/collect2$(exeext)\n+\t$(INSTALL_PROGRAM) collect2$(exeext) $(DESTDIR)$(libsubdir)/collect2$(exeext)\n # Install the driver program as $(libsubdir)/gcc for collect2.\n-\t$(INSTALL_PROGRAM) xgcc$(exeext) $(libsubdir)/gcc$(exeext)\n+\t$(INSTALL_PROGRAM) xgcc$(exeext) $(DESTDIR)$(libsubdir)/gcc$(exeext)\n \n # Cancel installation by deleting the installed files.\n uninstall: intl.uninstall lang.uninstall\n-\t-rm -rf $(libsubdir)\n-\t-rm -rf $(bindir)/$(GCC_INSTALL_NAME)$(exeext)\n-\t-rm -rf $(bindir)/$(GCC_CROSS_NAME)$(exeext)\n-\t-rm -f $(bindir)/$(CPP_INSTALL_NAME)$(exeext)\n-\t-rm -f $(bindir)/$(CPP_CROSS_NAME)$(exeext)\n+\t-rm -rf $(DESTDIR)$(libsubdir)\n+\t-rm -rf $(DESTDIR)$(bindir)/$(GCC_INSTALL_NAME)$(exeext)\n+\t-rm -rf $(DESTDIR)$(bindir)/$(GCC_CROSS_NAME)$(exeext)\n+\t-rm -f $(DESTDIR)$(bindir)/$(CPP_INSTALL_NAME)$(exeext)\n+\t-rm -f $(DESTDIR)$(bindir)/$(CPP_CROSS_NAME)$(exeext)\n \t-if [ x$(cpp_install_dir) != x ]; then \\\n-\t  rm -f $(prefix)/$(cpp_install_dir)/$(CPP_INSTALL_NAME)$(exeext); \\\n-\t  rm -f $(prefix)/$(cpp_install_dir)/$(CPP_CROSS_NAME)$(exeext); \\\n+\t  rm -f $(DESTDIR)$(prefix)/$(cpp_install_dir)/$(CPP_INSTALL_NAME)$(exeext); \\\n+\t  rm -f $(DESTDIR)$(prefix)/$(cpp_install_dir)/$(CPP_CROSS_NAME)$(exeext); \\\n \telse true; fi\n-\t-rm -rf $(bindir)/$(PROTOIZE_INSTALL_NAME)$(exeext)\n-\t-rm -rf $(bindir)/$(PROTOIZE_CROSS_NAME)$(exeext)\n-\t-rm -rf $(bindir)/$(UNPROTOIZE_INSTALL_NAME)$(exeext)\n-\t-rm -rf $(bindir)/$(UNPROTOIZE_CROSS_NAME)$(exeext)\n-\t-rm -rf $(bindir)/$(GCOV_INSTALL_NAME)$(exeext)\n-\t-rm -rf $(man1dir)/$(GCC_INSTALL_NAME)$(man1ext)\n-\t-rm -rf $(man1dir)/$(GCC_CROSS_NAME)$(man1ext)\n-\t-rm -rf $(man1dir)/cpp$(man1ext)\n-\t-rm -rf $(man1dir)/protoize$(man1ext)\n-\t-rm -rf $(man1dir)/unprotoize$(man1ext)\n-\t-rm -f $(infodir)/cpp.info* $(infodir)/gcc.info*\n-\t-rm -f $(infodir)/cppinternals.info* $(infodir)/gccint.info*\n+\t-rm -rf $(DESTDIR)$(bindir)/$(PROTOIZE_INSTALL_NAME)$(exeext)\n+\t-rm -rf $(DESTDIR)$(bindir)/$(PROTOIZE_CROSS_NAME)$(exeext)\n+\t-rm -rf $(DESTDIR)$(bindir)/$(UNPROTOIZE_INSTALL_NAME)$(exeext)\n+\t-rm -rf $(DESTDIR)$(bindir)/$(UNPROTOIZE_CROSS_NAME)$(exeext)\n+\t-rm -rf $(DESTDIR)$(bindir)/$(GCOV_INSTALL_NAME)$(exeext)\n+\t-rm -rf $(DESTDIR)$(man1dir)/$(GCC_INSTALL_NAME)$(man1ext)\n+\t-rm -rf $(DESTDIR)$(man1dir)/$(GCC_CROSS_NAME)$(man1ext)\n+\t-rm -rf $(DESTDIR)$(man1dir)/cpp$(man1ext)\n+\t-rm -rf $(DESTDIR)$(man1dir)/protoize$(man1ext)\n+\t-rm -rf $(DESTDIR)$(man1dir)/unprotoize$(man1ext)\n+\t-rm -f $(DESTDIR)$(infodir)/cpp.info* $(DESTDIR)$(infodir)/gcc.info*\n+\t-rm -f $(DESTDIR)$(infodir)/cppinternals.info* $(DESTDIR)$(infodir)/gccint.info*\n #\f\n # These targets are for the dejagnu testsuites. The file site.exp\n # contains global variables that all the testsuites will use."}, {"sha": "0525d617662f2908df2bb5b77ff7c8456dc91175", "filename": "gcc/config/alpha/t-osf4", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2Fconfig%2Falpha%2Ft-osf4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2Fconfig%2Falpha%2Ft-osf4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Ft-osf4?ref=90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc", "patch": "@@ -17,6 +17,6 @@ SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n \t$(LN_S) $(SHLIB_NAME) $(SHLIB_SONAME)\n # $(slibdir) double quoted to protect it from expansion while building\n # libgcc.mk.  We want this delayed until actual install time.\n-SHLIB_INSTALL = $(INSTALL_DATA) $(SHLIB_NAME) $$(slibdir)/$(SHLIB_SONAME); \\\n-\trm -f $$(slibdir)/$(SHLIB_NAME); \\\n-\t$(LN_S) $(SHLIB_SONAME) $$(slibdir)/$(SHLIB_NAME)\n+SHLIB_INSTALL = $(INSTALL_DATA) $(SHLIB_NAME) $$(DESTDIR)$$(slibdir)/$(SHLIB_SONAME); \\\n+\trm -f $$(DESTDIR)$$(slibdir)/$(SHLIB_NAME); \\\n+\t$(LN_S) $(SHLIB_SONAME) $$(DESTDIR)$$(slibdir)/$(SHLIB_NAME)"}, {"sha": "bbf4257c7b917dda46cd389a532abe33584a5d2c", "filename": "gcc/config/arc/t-arc", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2Fconfig%2Farc%2Ft-arc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2Fconfig%2Farc%2Ft-arc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farc%2Ft-arc?ref=90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc", "patch": "@@ -62,10 +62,10 @@ stmp-multilib-arc: stmp-multilib\n install-multilib-arc: install-multilib\n \tfor i in `$(GCC_FOR_TARGET) --print-multi-lib`; do \\\n \t  dir=`echo $$i | sed -e 's/;.*$$//'`; \\\n-\t  rm -f $(libsubdir)/$${dir}/crtinit.o; \\\n-\t  $(INSTALL_DATA) $${dir}/crtinit.o $(libsubdir)/$${dir}/crtinit.o; \\\n-\t  chmod a-x $(libsubdir)/$${dir}/crtinit.o; \\\n-\t  rm -f $(libsubdir)/$${dir}/crtfini.o; \\\n-\t  $(INSTALL_DATA) $${dir}/crtfini.o $(libsubdir)/$${dir}/crtfini.o; \\\n-\t  chmod a-x $(libsubdir)/$${dir}/crtfini.o; \\\n+\t  rm -f $(DESTDIR)$(libsubdir)/$${dir}/crtinit.o; \\\n+\t  $(INSTALL_DATA) $${dir}/crtinit.o $(DESTDIR)$(libsubdir)/$${dir}/crtinit.o; \\\n+\t  chmod a-x $(DESTDIR)$(libsubdir)/$${dir}/crtinit.o; \\\n+\t  rm -f $(DESTDIR)$(libsubdir)/$${dir}/crtfini.o; \\\n+\t  $(INSTALL_DATA) $${dir}/crtfini.o $(DESTDIR)$(libsubdir)/$${dir}/crtfini.o; \\\n+\t  chmod a-x $(DESTDIR)$(libsubdir)/$${dir}/crtfini.o; \\\n \tdone"}, {"sha": "76e431bfb112d6fcf125724f3be1fa1fc070cf99", "filename": "gcc/config/arm/t-netbsd", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2Fconfig%2Farm%2Ft-netbsd", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2Fconfig%2Farm%2Ft-netbsd", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Ft-netbsd?ref=90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc", "patch": "@@ -16,9 +16,9 @@ SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n \t$(LN_S) $(SHLIB_NAME) $(SHLIB_SONAME)\n # $(slibdir) double quoted to protect it from expansion while building\n # libgcc.mk.  We want this delayed until actual install time.\n-SHLIB_INSTALL = $(INSTALL_DATA) $(SHLIB_NAME) $$(slibdir)/$(SHLIB_SONAME); \\\n-\trm -f $$(slibdir)/$(SHLIB_NAME); \\\n-\t$(LN_S) $(SHLIB_SONAME) $$(slibdir)/$(SHLIB_NAME)\n+SHLIB_INSTALL = $(INSTALL_DATA) $(SHLIB_NAME) $$(DESTDIR)$$(slibdir)/$(SHLIB_SONAME); \\\n+\trm -f $$(DESTDIR)$$(slibdir)/$(SHLIB_NAME); \\\n+\t$(LN_S) $(SHLIB_SONAME) $$(DESTDIR)$$(slibdir)/$(SHLIB_NAME)\n \n # Don't build enquire\n ENQUIRE="}, {"sha": "7b42fe519a254947f05c7f1ef0068738d28a54f4", "filename": "gcc/config/ia64/t-hpux", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2Fconfig%2Fia64%2Ft-hpux", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2Fconfig%2Fia64%2Ft-hpux", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Ft-hpux?ref=90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc", "patch": "@@ -40,9 +40,9 @@ SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n \t$(LN_S) @shlib_base_name@.so @shlib_base_name@.so.0\n # $(slibdir) double quoted to protect it from expansion while building\n # libgcc.mk.  We want this delayed until actual install time.\n-SHLIB_INSTALL = $(INSTALL_DATA) @shlib_base_name@.so $$(slibdir)/@shlib_base_name@.so.0; \\\n-\trm -f $$(slibdir)/@shlib_base_name@.so; \\\n-\t$(LN_S) @shlib_base_name@.so.0 $$(slibdir)/@shlib_base_name@.so; \\\n-\tchmod +x $$(slibdir)/@shlib_base_name@.so\n+SHLIB_INSTALL = $(INSTALL_DATA) @shlib_base_name@.so $$(DESTDIR)$$(slibdir)/@shlib_base_name@.so.0; \\\n+\trm -f $$(DESTDIR)$$(slibdir)/@shlib_base_name@.so; \\\n+\t$(LN_S) @shlib_base_name@.so.0 $$(DESTDIR)$$(slibdir)/@shlib_base_name@.so; \\\n+\tchmod +x $$(DESTDIR)$$(slibdir)/@shlib_base_name@.so\n \n SHLIB_MKMAP = $(srcdir)/mkmap-flat.awk"}, {"sha": "4321b526c411dfe66365db07176239f510419d7d", "filename": "gcc/config/mips/t-iris5-6", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2Fconfig%2Fmips%2Ft-iris5-6", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2Fconfig%2Fmips%2Ft-iris5-6", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Ft-iris5-6?ref=90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc", "patch": "@@ -20,11 +20,11 @@ SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n # $(slibdir) double quoted to protect it from expansion while building\n # libgcc.mk.  We want this delayed until actual install time.\n SHLIB_INSTALL = \\\n-\t$$(SHELL) $$(srcdir)/mkinstalldirs $$(slibdir)$(SHLIB_SLIBDIR_QUAL); \\\n+\t$$(SHELL) $$(srcdir)/mkinstalldirs $$(DESTDIR)$$(slibdir)$(SHLIB_SLIBDIR_QUAL); \\\n \t$(INSTALL_DATA) $(SHLIB_NAME) \\\n-\t  $$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SONAME); \\\n-\trm -f $$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SOLINK); \\\n+\t  $$(DESTDIR)$$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SONAME); \\\n+\trm -f $$(DESTDIR)$$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SOLINK); \\\n \t$(LN_S) $(SHLIB_SONAME) \\\n-\t  $$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SOLINK)\n+\t  $$(DESTDIR)$$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SOLINK)\n SHLIB_MKMAP = $(srcdir)/mkmap-flat.awk\n SHLIB_MAPFILES = $(srcdir)/libgcc-std.ver"}, {"sha": "1c924497c0bea34464c90b5db360ab35a1e6c924", "filename": "gcc/config/pa/t-hpux-shlib", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2Fconfig%2Fpa%2Ft-hpux-shlib", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2Fconfig%2Fpa%2Ft-hpux-shlib", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Ft-hpux-shlib?ref=90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc", "patch": "@@ -13,7 +13,7 @@ SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared  -nodefaultlibs \\\n # $(slibdir) double quoted to protect it from expansion while building\n # libgcc.mk.  We want this delayed until actual install time.\n SHLIB_INSTALL = $(INSTALL_DATA) -m 555 $(SHLIB_NAME) \\\n-\t$$(slibdir)/$(SHLIB_SONAME); \\\n-        rm -f $$(slibdir)/$(SHLIB_NAME); \\\n-        $(LN_S) $(SHLIB_SONAME) $$(slibdir)/$(SHLIB_NAME)\n+\t$$(DESTDIR)$$(slibdir)/$(SHLIB_SONAME); \\\n+        rm -f $$(DESTDIR)$$(slibdir)/$(SHLIB_NAME); \\\n+        $(LN_S) $(SHLIB_SONAME) $$(DESTDIR)$$(slibdir)/$(SHLIB_NAME)\n "}, {"sha": "a716209e9bc95e827d0730d66d5102f5707d95f1", "filename": "gcc/config/rs6000/t-aix43", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2Fconfig%2Frs6000%2Ft-aix43", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2Fconfig%2Frs6000%2Ft-aix43", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Ft-aix43?ref=90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc", "patch": "@@ -55,7 +55,7 @@ SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n \trm -f @multilib_dir@/shr.o\n # $(slibdir) double quoted to protect it from expansion while building\n # libgcc.mk.  We want this delayed until actual install time.\n-SHLIB_INSTALL = $(INSTALL_DATA) @shlib_base_name@.a $$(slibdir)/\n+SHLIB_INSTALL = $(INSTALL_DATA) @shlib_base_name@.a $$(DESTDIR)$$(slibdir)/\n SHLIB_LIBS = -lc `case @shlib_base_name@ in *pthread*) echo -lpthread ;; esac`\n SHLIB_MKMAP = $(srcdir)/mkmap-flat.awk\n SHLIB_MAPFILES = $(srcdir)/libgcc-std.ver"}, {"sha": "bddcdb11490dfbfc4db441c8df9654586b45b2a6", "filename": "gcc/config/rs6000/t-aix52", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2Fconfig%2Frs6000%2Ft-aix52", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2Fconfig%2Frs6000%2Ft-aix52", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Ft-aix52?ref=90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc", "patch": "@@ -36,7 +36,7 @@ SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n \trm -f @multilib_dir@/shr.o\n # $(slibdir) double quoted to protect it from expansion while building\n # libgcc.mk.  We want this delayed until actual install time.\n-SHLIB_INSTALL = $(INSTALL_DATA) @shlib_base_name@.a $$(slibdir)/\n+SHLIB_INSTALL = $(INSTALL_DATA) @shlib_base_name@.a $$(DESTDIR)$$(slibdir)/\n SHLIB_LIBS = -lc `case @shlib_base_name@ in *pthread*) echo -lpthread ;; esac`\n SHLIB_MKMAP = $(srcdir)/mkmap-flat.awk\n SHLIB_MAPFILES = $(srcdir)/libgcc-std.ver"}, {"sha": "a176b10fa0abd044fa40b502342cd440dfd2cca7", "filename": "gcc/config/t-slibgcc-elf-ver", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2Fconfig%2Ft-slibgcc-elf-ver", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2Fconfig%2Ft-slibgcc-elf-ver", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ft-slibgcc-elf-ver?ref=90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc", "patch": "@@ -19,11 +19,11 @@ SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n # $(slibdir) double quoted to protect it from expansion while building\n # libgcc.mk.  We want this delayed until actual install time.\n SHLIB_INSTALL = \\\n-\t$$(SHELL) $$(srcdir)/mkinstalldirs $$(slibdir)$(SHLIB_SLIBDIR_QUAL); \\\n+\t$$(SHELL) $$(srcdir)/mkinstalldirs $$(DESTDIR)$$(slibdir)$(SHLIB_SLIBDIR_QUAL); \\\n \t$(INSTALL_DATA) $(SHLIB_NAME) \\\n-\t  $$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SONAME); \\\n-\trm -f $$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SOLINK); \\\n+\t  $$(DESTDIR)$$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SONAME); \\\n+\trm -f $$(DESTDIR)$$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SOLINK); \\\n \t$(LN_S) $(SHLIB_SONAME) \\\n-\t  $$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SOLINK)\n+\t  $$(DESTDIR)$$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SOLINK)\n SHLIB_MKMAP = $(srcdir)/mkmap-symver.awk\n SHLIB_MAPFILES = $(srcdir)/libgcc-std.ver"}, {"sha": "6bdd521da1be17b5308afb99b97907c5082c9b07", "filename": "gcc/config/t-slibgcc-sld", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2Fconfig%2Ft-slibgcc-sld", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2Fconfig%2Ft-slibgcc-sld", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ft-slibgcc-sld?ref=90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc", "patch": "@@ -17,11 +17,11 @@ SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n # $(slibdir) double quoted to protect it from expansion while building\n # libgcc.mk.  We want this delayed until actual install time.\n SHLIB_INSTALL = \\\n-\t$$(SHELL) $$(srcdir)/mkinstalldirs $$(slibdir)$(SHLIB_SLIBDIR_QUAL); \\\n+\t$$(SHELL) $$(srcdir)/mkinstalldirs $$(DESTDIR)$$(slibdir)$(SHLIB_SLIBDIR_QUAL); \\\n \t$(INSTALL_DATA) $(SHLIB_NAME) \\\n-\t  $$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SONAME); \\\n-\trm -f $$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SOLINK); \\\n+\t  $$(DESTDIR)$$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SONAME); \\\n+\trm -f $$(DESTDIR)$$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SOLINK); \\\n \t$(LN_S) $(SHLIB_SONAME) \\\n-\t  $$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SOLINK)\n+\t  $$(DESTDIR)$$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SOLINK)\n SHLIB_MKMAP = $(srcdir)/mkmap-symver.awk\n SHLIB_MAPFILES = $(srcdir)/libgcc-std.ver"}, {"sha": "671dac19e670e12eebfdfa7e85285551b467a302", "filename": "gcc/mklibgcc.in", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2Fmklibgcc.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc/gcc%2Fmklibgcc.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmklibgcc.in?ref=90961eff1b6bd2dd3bee8a6e90e41f03e769b5dc", "patch": "@@ -436,10 +436,10 @@ for ml in $MULTILIBS; do\n   dir=`echo ${ml} | sed -e 's/;.*$//' -e 's/=/$(EQ)/g'`\n   flags=`echo ${ml} | sed -e 's/^[^;]*;//' -e 's/@/ -/g'`;\n   if [ $dir != . ]; then\n-    ldir='$(libsubdir)'/$dir\n+    ldir='$(DESTDIR)$(libsubdir)'/$dir\n     echo \"\tif [ -d $ldir ]; then true; else mkdir $ldir; chmod a+rx $ldir; fi;\"\n   else\n-    ldir='$(libsubdir)'\n+    ldir='$(DESTDIR)$(libsubdir)'\n   fi\n   echo '\t$(INSTALL_DATA)' ${dir}/libgcc.a ${ldir}/\n   echo '\t$(RANLIB_FOR_TARGET)' ${ldir}/libgcc.a\n@@ -495,10 +495,10 @@ for f in $EXTRA_MULTILIB_PARTS; do\n     dir=`echo ${ml} | sed -e 's/;.*$//' -e 's/=/$(EQ)/g'`\n     if [ $dir != . ]; then\n       out=${dir}/$f\n-      ldir='$(libsubdir)'/$dir\n+      ldir='$(DESTDIR)$(libsubdir)'/$dir\n     else\n       out=$f\n-      ldir='$(libsubdir)'\n+      ldir='$(DESTDIR)$(libsubdir)'\n     fi\n     echo '\t$(INSTALL_DATA)' $out $ldir/\n   done"}]}