{"sha": "fcf4f8311e25eb0fde59e6f6a61b570c4c1068e3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmNmNGY4MzExZTI1ZWIwZmRlNTllNmY2YTYxYjU3MGM0YzEwNjhlMw==", "commit": {"author": {"name": "Jerome Lambourg", "email": "lambourg@adacore.com", "date": "2018-05-17T16:36:36Z"}, "committer": {"name": "Olivier Hainque", "email": "hainque@gcc.gnu.org", "date": "2018-05-17T16:36:36Z"}, "message": "arm_cmse.h (cmse_nsfptr_create, [...]): Remove #include <stdint.h>.\n\n2018-05-17  Jerome Lambourg  <lambourg@adacore.com>\n\n\tgcc/\n\t* config/arm/arm_cmse.h (cmse_nsfptr_create, cmse_is_nsfptr): Remove\n\t#include <stdint.h>.  Replace intptr_t with __INTPTR_TYPE__.\n\n\tlibgcc/\n\t* config/arm/cmse.c (cmse_check_address_range): Replace\n\tUINTPTR_MAX with __UINTPTR_MAX__ and uintptr_t with __UINTPTR_TYPE__.\n\nFrom-SVN: r260330", "tree": {"sha": "afcd5286a3dd380e8c530a839a72004cbf84d59b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/afcd5286a3dd380e8c530a839a72004cbf84d59b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fcf4f8311e25eb0fde59e6f6a61b570c4c1068e3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcf4f8311e25eb0fde59e6f6a61b570c4c1068e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fcf4f8311e25eb0fde59e6f6a61b570c4c1068e3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcf4f8311e25eb0fde59e6f6a61b570c4c1068e3/comments", "author": {"login": "lambourg", "id": 480233, "node_id": "MDQ6VXNlcjQ4MDIzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/480233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lambourg", "html_url": "https://github.com/lambourg", "followers_url": "https://api.github.com/users/lambourg/followers", "following_url": "https://api.github.com/users/lambourg/following{/other_user}", "gists_url": "https://api.github.com/users/lambourg/gists{/gist_id}", "starred_url": "https://api.github.com/users/lambourg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lambourg/subscriptions", "organizations_url": "https://api.github.com/users/lambourg/orgs", "repos_url": "https://api.github.com/users/lambourg/repos", "events_url": "https://api.github.com/users/lambourg/events{/privacy}", "received_events_url": "https://api.github.com/users/lambourg/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ca7584f79af7aa544f72a0d599020d72e06639e6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca7584f79af7aa544f72a0d599020d72e06639e6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca7584f79af7aa544f72a0d599020d72e06639e6"}], "stats": {"total": 20, "additions": 15, "deletions": 5}, "files": [{"sha": "2cc7ae657fad5037c45dc67feca4a48b368576cb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcf4f8311e25eb0fde59e6f6a61b570c4c1068e3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcf4f8311e25eb0fde59e6f6a61b570c4c1068e3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fcf4f8311e25eb0fde59e6f6a61b570c4c1068e3", "patch": "@@ -1,3 +1,8 @@\n+2018-05-17  Jerome Lambourg  <lambourg@adacore.com>\n+\n+\t* config/arm/arm_cmse.h (cmse_nsfptr_create, cmse_is_nsfptr): Remove\n+\t#include <stdint.h>.  Replace intptr_t with __INTPTR_TYPE__.\n+\n 2018-05-17  Pat Haugen  <pthaugen@us.ibm.com>\n \t    Segher Boessenkool  <segher@kernel.crashing.org>\n "}, {"sha": "f972e23659d557728570d7af93d96b0310e4ff47", "filename": "gcc/config/arm/arm_cmse.h", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcf4f8311e25eb0fde59e6f6a61b570c4c1068e3/gcc%2Fconfig%2Farm%2Farm_cmse.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcf4f8311e25eb0fde59e6f6a61b570c4c1068e3/gcc%2Fconfig%2Farm%2Farm_cmse.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm_cmse.h?ref=fcf4f8311e25eb0fde59e6f6a61b570c4c1068e3", "patch": "@@ -35,7 +35,6 @@ extern \"C\" {\n #if __ARM_FEATURE_CMSE & 1\n \n #include <stddef.h>\n-#include <stdint.h>\n \n #ifdef __ARM_BIG_ENDIAN\n \n@@ -174,9 +173,9 @@ cmse_nonsecure_caller (void)\n #define CMSE_MPU_NONSECURE\t16\n #define CMSE_NONSECURE\t\t18\n \n-#define cmse_nsfptr_create(p) ((typeof ((p))) ((intptr_t) (p) & ~1))\n+#define cmse_nsfptr_create(p) ((typeof ((p))) ((__INTPTR_TYPE__) (p) & ~1))\n \n-#define cmse_is_nsfptr(p) (!((intptr_t) (p) & 1))\n+#define cmse_is_nsfptr(p) (!((__INTPTR_TYPE__) (p) & 1))\n \n #endif /* __ARM_FEATURE_CMSE & 2 */\n "}, {"sha": "df3d21aebf61b6f442c0f4b6d0c76618f4ad7cb3", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcf4f8311e25eb0fde59e6f6a61b570c4c1068e3/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcf4f8311e25eb0fde59e6f6a61b570c4c1068e3/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=fcf4f8311e25eb0fde59e6f6a61b570c4c1068e3", "patch": "@@ -1,3 +1,8 @@\n+2018-05-17  Jerome Lambourg  <lambourg@adacore.com>\n+\n+\t* config/arm/cmse.c (cmse_check_address_range): Replace\n+\tUINTPTR_MAX with __UINTPTR_MAX__ and uintptr_t with __UINTPTR_TYPE__.\n+\n 2018-05-17  Olga Makhotina  <olga.makhotina@intel.com>\n \n \t* config/i386/cpuinfo.h (processor_types): Add INTEL_GOLDMONT_PLUS."}, {"sha": "2ad0af2ecd854c81536db52940a232d650d5f74a", "filename": "libgcc/config/arm/cmse.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcf4f8311e25eb0fde59e6f6a61b570c4c1068e3/libgcc%2Fconfig%2Farm%2Fcmse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcf4f8311e25eb0fde59e6f6a61b570c4c1068e3/libgcc%2Fconfig%2Farm%2Fcmse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Farm%2Fcmse.c?ref=fcf4f8311e25eb0fde59e6f6a61b570c4c1068e3", "patch": "@@ -36,7 +36,7 @@ cmse_check_address_range (void *p, size_t size, int flags)\n   char *pb = (char *) p, *pe;\n \n   /* Check if the range wraps around.  */\n-  if (UINTPTR_MAX - (uintptr_t) p < size)\n+  if (__UINTPTR_MAX__ - (__UINTPTR_TYPE__) p < size)\n     return NULL;\n \n   /* Check if an unknown flag is present.  */\n@@ -51,7 +51,8 @@ cmse_check_address_range (void *p, size_t size, int flags)\n \n   /* Execute the right variant of the TT instructions.  */\n   pe = pb + size - 1;\n-  const int singleCheck = (((uintptr_t) pb ^ (uintptr_t) pe) < 32);\n+  const int singleCheck\n+    = (((__UINTPTR_TYPE__) pb ^ (__UINTPTR_TYPE__) pe) < 32);\n   switch (flags & known_secure_level)\n     {\n     case 0:"}]}