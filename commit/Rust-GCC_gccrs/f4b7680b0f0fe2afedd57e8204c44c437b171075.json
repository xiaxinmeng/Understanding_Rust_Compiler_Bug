{"sha": "f4b7680b0f0fe2afedd57e8204c44c437b171075", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjRiNzY4MGIwZjBmZTJhZmVkZDU3ZTgyMDRjNDRjNDM3YjE3MTA3NQ==", "commit": {"author": {"name": "David O'Brien", "email": "obrien@FreeBSD.org", "date": "1999-06-17T12:29:14Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-06-17T12:29:14Z"}, "message": "freebsd-elf.h (FUNCTION_PROFILER): labels are not needed and the reference to `mcount' was not correct for the ELF...\n\n\ufffd\n        * i386/freebsd-elf.h (FUNCTION_PROFILER): labels are not needed and\n        the reference to `mcount' was not correct for the ELF on FreeBSD.\n\nFrom-SVN: r27567", "tree": {"sha": "5d641bd3d616cc2e4b0150442e340ba7babe31c5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5d641bd3d616cc2e4b0150442e340ba7babe31c5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f4b7680b0f0fe2afedd57e8204c44c437b171075", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4b7680b0f0fe2afedd57e8204c44c437b171075", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4b7680b0f0fe2afedd57e8204c44c437b171075", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4b7680b0f0fe2afedd57e8204c44c437b171075/comments", "author": null, "committer": null, "parents": [{"sha": "7723c9581c39dfbdc56688f7a429db2cec38a97c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7723c9581c39dfbdc56688f7a429db2cec38a97c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7723c9581c39dfbdc56688f7a429db2cec38a97c"}], "stats": {"total": 19, "additions": 8, "deletions": 11}, "files": [{"sha": "d6c5093bcbfef1d68bebb5b8a7abaeb48f4bf13f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4b7680b0f0fe2afedd57e8204c44c437b171075/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4b7680b0f0fe2afedd57e8204c44c437b171075/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f4b7680b0f0fe2afedd57e8204c44c437b171075", "patch": "@@ -1,3 +1,8 @@\n+Thu Jun 17 13:28:30 1999  David O'Brien <obrien@FreeBSD.org>\n+\n+\t* i386/freebsd-elf.h (FUNCTION_PROFILER): labels are not needed and\n+\tthe reference to `mcount' was not correct for the ELF on FreeBSD.\n+\n Thu Jun 17 17:22:07 1999  J\"orn Rennecke <amylaar@cygnus.co.uk>\n \n \t* loop.c (strength_reduce): When doing biv->giv conversion, fix up"}, {"sha": "eb58d74d04e51bfee29b3f403d89a07837f42262", "filename": "gcc/config/i386/freebsd-elf.h", "status": "modified", "additions": 3, "deletions": 11, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4b7680b0f0fe2afedd57e8204c44c437b171075/gcc%2Fconfig%2Fi386%2Ffreebsd-elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4b7680b0f0fe2afedd57e8204c44c437b171075/gcc%2Fconfig%2Fi386%2Ffreebsd-elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Ffreebsd-elf.h?ref=f4b7680b0f0fe2afedd57e8204c44c437b171075", "patch": "@@ -135,23 +135,15 @@ Boston, MA 02111-1307, USA.  */\n  : ((n) >= FIRST_STACK_REG && (n) <= LAST_STACK_REG) ? (n)+3 \\\n  : (-1))\n \n-/* Output assembler code to FILE to increment profiler label # LABELNO\n-   for profiling a function entry.  */\n+/* Tell final.c that we don't need a label passed to mcount.  */\n \n #undef FUNCTION_PROFILER\n #define FUNCTION_PROFILER(FILE, LABELNO)  \\\n {\t\t\t\t\t\t\t\t\t\\\n   if (flag_pic)\t\t\t\t\t\t\t\t\\\n-    {\t\t\t\t\t\t\t\t\t\\\n-      fprintf (FILE, \"\\tleal %sP%d@GOTOFF(%%ebx),%%edx\\n\",\t\t\\\n-\t       LPREFIX, (LABELNO));\t\t\t\t\t\\\n-      fprintf (FILE, \"\\tcall *mcount@GOT(%%ebx)\\n\");\t\t\t\\\n-    }\t\t\t\t\t\t\t\t\t\\\n+      fprintf (FILE, \"\\tcall *.mcount@GOT(%%ebx)\\n\");\t\t\t\\\n   else\t\t\t\t\t\t\t\t\t\\\n-    {\t\t\t\t\t\t\t\t\t\\\n-      fprintf (FILE, \"\\tmovl $%sP%d,%%edx\\n\", LPREFIX, (LABELNO));\t\\\n-      fprintf (FILE, \"\\tcall mcount\\n\");\t\t\t\t\\\n-    }\t\t\t\t\t\t\t\t\t\\\n+      fprintf (FILE, \"\\tcall .mcount\\n\");\t\t\t\t\\\n }\n \n #undef SIZE_TYPE"}]}