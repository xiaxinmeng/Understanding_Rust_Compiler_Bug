{"sha": "955ca6dc7723b98029a427b05cfe7707357f4c56", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTU1Y2E2ZGM3NzIzYjk4MDI5YTQyN2IwNWNmZTc3MDczNTdmNGM1Ng==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2016-02-12T19:52:13Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2016-02-12T19:52:13Z"}, "message": "re PR fortran/69668 (Error reading namelist opened with DELIM='NONE')\n\n2016-02-12  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libgfortran/69668\n\t* io/list_read.c (read_character): Remove code related to DELIM_NONE.\n\n\tPR libgfortran/69668\n\t* gfortran.dg/namelist_38.f90: Update test.\n\t* gfortran.dg/namelist_84.f90: Update test.\n\nFrom-SVN: r233387", "tree": {"sha": "3ee4e8839e5f82fbae321cdbee84dd7d75e26a7e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3ee4e8839e5f82fbae321cdbee84dd7d75e26a7e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/955ca6dc7723b98029a427b05cfe7707357f4c56", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/955ca6dc7723b98029a427b05cfe7707357f4c56", "html_url": "https://github.com/Rust-GCC/gccrs/commit/955ca6dc7723b98029a427b05cfe7707357f4c56", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/955ca6dc7723b98029a427b05cfe7707357f4c56/comments", "author": null, "committer": null, "parents": [{"sha": "876217ae71cf0b34490f8f53bb2a12d99d8baa7a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/876217ae71cf0b34490f8f53bb2a12d99d8baa7a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/876217ae71cf0b34490f8f53bb2a12d99d8baa7a"}], "stats": {"total": 45, "additions": 22, "deletions": 23}, "files": [{"sha": "7bed3caf259b6aff8a5261e1675f7db3337e9e44", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/955ca6dc7723b98029a427b05cfe7707357f4c56/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/955ca6dc7723b98029a427b05cfe7707357f4c56/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=955ca6dc7723b98029a427b05cfe7707357f4c56", "patch": "@@ -1,3 +1,9 @@\n+2016-02-12  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libgfortran/69668\n+\t* gfortran.dg/namelist_38.f90: Update test.\n+\t* gfortran.dg/namelist_84.f90: Update test.\n+\n 2016-02-12  David Malcolm  <dmalcolm@redhat.com>\n \n \tPR other/69554"}, {"sha": "b51463cfa8a3d3fcce11822aa16e362a6b447c51", "filename": "gcc/testsuite/gfortran.dg/namelist_38.f90", "status": "modified", "additions": 9, "deletions": 5, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/955ca6dc7723b98029a427b05cfe7707357f4c56/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_38.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/955ca6dc7723b98029a427b05cfe7707357f4c56/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_38.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_38.f90?ref=955ca6dc7723b98029a427b05cfe7707357f4c56", "patch": "@@ -5,6 +5,7 @@\n program main\n   implicit none\n   character(len=3) :: a\n+  character(25) :: b\n   namelist /foo/ a\n \n   open(10, status=\"scratch\", delim=\"quote\")\n@@ -28,9 +29,12 @@ program main\n   open(10, status=\"scratch\", delim=\"none\")\n   a = \"a'a\"\n   write(10,foo) \n-  rewind 10\n-  a = \"\"\n-  read (10,foo)\n-  if (a.ne.\"a'a\") call abort\n-  close (10)\n+  rewind (10)\n+  read(10,\"(a)\") b\n+  if (b .ne. \"&FOO\") call abort\n+  read(10,\"(a)\") b\n+  if (b .ne. \" A=a'a\") call abort\n+  read(10,\"(a)\") b\n+  if (b .ne. \" /\") call abort\n+  close(10)\n end program main"}, {"sha": "14b68a44e8a340d1ebc39d38ee6e71b95684d640", "filename": "gcc/testsuite/gfortran.dg/namelist_84.f90", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/955ca6dc7723b98029a427b05cfe7707357f4c56/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_84.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/955ca6dc7723b98029a427b05cfe7707357f4c56/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_84.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_84.f90?ref=955ca6dc7723b98029a427b05cfe7707357f4c56", "patch": "@@ -17,12 +17,11 @@ program namelist_delim_none\n    write(10, mylist)\n    rewind(10)\n    mystring = \"xxxxx\"\n-   read(10,mylist)\n-   if (any(mystring /= (/ 'mon', 'tue', 'wed', 'thu', 'fri' /))) call abort\n    rewind(10)\n    do i=1,5\n      read(10,'(a)') internal_unit\n-     if (scan(internal_unit,\"\"\"'\").ne.0) call abort\n+     if (i.eq.2 .and. internal_unit .ne. \" MYSTRING=mon  tue  wed  thu  fri  ,\") call abort\n+     if (scan(internal_unit,\"\"\"'\").ne.0) print *, internal_unit\n    end do\n    close(10)\n end program"}, {"sha": "7d0cb66ac589e7d9e031d246d57ba616c39b3e14", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/955ca6dc7723b98029a427b05cfe7707357f4c56/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/955ca6dc7723b98029a427b05cfe7707357f4c56/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=955ca6dc7723b98029a427b05cfe7707357f4c56", "patch": "@@ -1,3 +1,8 @@\n+2016-02-12  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libgfortran/69668\n+\t* io/list_read.c (read_character): Remove code related to DELIM_NONE.\n+\n 2016-01-23  John David Anglin  <danglin@gcc.gnu.org>\n \n \tPR libfortran/68744"}, {"sha": "efbbcb6c5c3d85a5b63fcf3c973bc873b09f9f83", "filename": "libgfortran/io/list_read.c", "status": "modified", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/955ca6dc7723b98029a427b05cfe7707357f4c56/libgfortran%2Fio%2Flist_read.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/955ca6dc7723b98029a427b05cfe7707357f4c56/libgfortran%2Fio%2Flist_read.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Flist_read.c?ref=955ca6dc7723b98029a427b05cfe7707357f4c56", "patch": "@@ -1131,21 +1131,6 @@ read_character (st_parameter_dt *dtp, int length __attribute__ ((unused)))\n     default:\n       if (dtp->u.p.namelist_mode)\n \t{\n-\t  if (dtp->u.p.current_unit->delim_status == DELIM_NONE)\n-\t    {\n-\t      /* No delimiters so finish reading the string now.  */\n-\t      int i;\n-\t      push_char (dtp, c);\n-\t      for (i = dtp->u.p.ionml->string_length; i > 1; i--)\n-\t\t{\n-\t\t  if ((c = next_char (dtp)) == EOF)\n-\t\t    goto done_eof;\n-\t\t  push_char (dtp, c);\n-\t\t}\n-\t      dtp->u.p.saved_type = BT_CHARACTER;\n-\t      free_line (dtp);\n-\t      return;\n-\t    }\n \t  unget_char (dtp, c);\n \t  return;\n \t}"}]}