{"sha": "638b724c5f6a875f384226036191a490eb961cfc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjM4YjcyNGM1ZjZhODc1ZjM4NDIyNjAzNjE5MWE0OTBlYjk2MWNmYw==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1993-10-07T21:35:28Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1993-10-07T21:35:28Z"}, "message": "Add FINALIZE_PIC to indicate %ebx needs to be set up if profiling.\n\nFrom-SVN: r5664", "tree": {"sha": "7972a0de0c2857a725f6d6fe3564defb11740114", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7972a0de0c2857a725f6d6fe3564defb11740114"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/638b724c5f6a875f384226036191a490eb961cfc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/638b724c5f6a875f384226036191a490eb961cfc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/638b724c5f6a875f384226036191a490eb961cfc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/638b724c5f6a875f384226036191a490eb961cfc/comments", "author": null, "committer": null, "parents": [{"sha": "8d4750f117cc0116d72a1614b6613f49ec634363", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d4750f117cc0116d72a1614b6613f49ec634363", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d4750f117cc0116d72a1614b6613f49ec634363"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "fcfc2df7c2c2658dd556cc51aa7e8ad630ed3980", "filename": "gcc/config/i386/i386.h", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/638b724c5f6a875f384226036191a490eb961cfc/gcc%2Fconfig%2Fi386%2Fi386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/638b724c5f6a875f384226036191a490eb961cfc/gcc%2Fconfig%2Fi386%2Fi386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.h?ref=638b724c5f6a875f384226036191a490eb961cfc", "patch": "@@ -1117,6 +1117,23 @@ while (0)\n    functions. */\n \n #define INIT_EXPANDERS clear_386_stack_locals ()\n+\n+/* The `FINALIZE_PIC' macro serves as a hook to emit these special\n+   codes once the function is being compiled into assembly code, but\n+   not before.  (It is not done before, because in the case of\n+   compiling an inline function, it would lead to multiple PIC\n+   prologues being included in functions which used inline functions\n+   and were compiled to assembly language.)  */\n+\n+#define FINALIZE_PIC\t\t\t\t\t\t\t\\\n+do\t\t\t\t\t\t\t\t\t\\\n+  {\t\t\t\t\t\t\t\t\t\\\n+    extern int current_function_uses_pic_offset_table;\t\t\t\\\n+\t\t\t\t\t\t\t\t\t\\\n+    current_function_uses_pic_offset_table |= profile_flag | profile_block_flag; \\\n+  }\t\t\t\t\t\t\t\t\t\\\n+while (0)\n+\n \f\n /* Specify the machine mode that this machine uses\n    for the index in the tablejump instruction.  */"}]}