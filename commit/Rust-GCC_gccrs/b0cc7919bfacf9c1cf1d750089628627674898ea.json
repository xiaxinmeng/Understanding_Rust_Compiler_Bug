{"sha": "b0cc7919bfacf9c1cf1d750089628627674898ea", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjBjYzc5MTliZmFjZjljMWNmMWQ3NTAwODk2Mjg2Mjc2NzQ4OThlYQ==", "commit": {"author": {"name": "John David Anglin", "email": "dave@hiauly1.hia.nrc.ca", "date": "2001-01-24T05:57:46Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2001-01-24T05:57:46Z"}, "message": "bb-reorder.c (make_reorder_chain_1): Handle case where jump edge goes to the same block as the fallthru edge.\n\n        * bb-reorder.c (make_reorder_chain_1): Handle case where\n        jump edge goes to the same block as the fallthru edge.\n\nFrom-SVN: r39228", "tree": {"sha": "54679aee67da49a83a244ac395cc6c84b0ea26ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/54679aee67da49a83a244ac395cc6c84b0ea26ed"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b0cc7919bfacf9c1cf1d750089628627674898ea", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b0cc7919bfacf9c1cf1d750089628627674898ea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b0cc7919bfacf9c1cf1d750089628627674898ea", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b0cc7919bfacf9c1cf1d750089628627674898ea/comments", "author": null, "committer": null, "parents": [{"sha": "0024a8041f8b3a6b02e81632a9fb4b3c61969ac1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0024a8041f8b3a6b02e81632a9fb4b3c61969ac1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0024a8041f8b3a6b02e81632a9fb4b3c61969ac1"}], "stats": {"total": 26, "additions": 21, "deletions": 5}, "files": [{"sha": "7c1958cd33d42a470c36b58104d165ebcf6373e0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b0cc7919bfacf9c1cf1d750089628627674898ea/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b0cc7919bfacf9c1cf1d750089628627674898ea/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b0cc7919bfacf9c1cf1d750089628627674898ea", "patch": "@@ -1,3 +1,8 @@\n+2001-01-23  John David Anglin  <dave@hiauly1.hia.nrc.ca>\n+\n+\t* bb-reorder.c (make_reorder_chain_1): Handle case where\n+\tjump edge goes to the same block as the fallthru edge.\n+ \n 2001-01-23  Jim Wilson  <wilson@redhat.com>\n \n \t* dwarf2out.c (dwarf2out_line): Make last_file_num be unsigned."}, {"sha": "08d23264632b039904b91d2eb1400f4258859a51", "filename": "gcc/bb-reorder.c", "status": "modified", "additions": 16, "deletions": 5, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b0cc7919bfacf9c1cf1d750089628627674898ea/gcc%2Fbb-reorder.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b0cc7919bfacf9c1cf1d750089628627674898ea/gcc%2Fbb-reorder.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbb-reorder.c?ref=b0cc7919bfacf9c1cf1d750089628627674898ea", "patch": "@@ -397,14 +397,25 @@ make_reorder_chain_1 (bb, prev)\n \n       /* Find the normal taken edge and the normal fallthru edge.\n          Note that there may in fact be other edges due to\n-\t asynchronous_exceptions.  */\n+\t asynchronous_exceptions. \n+\n+\t Note, conditional jumps with other side effects may not\n+\t be fully optimized.  In this case it is possible for\n+\t the conditional jump to branch to the same location as\n+\t the fallthru path.\n+\n+\t We should probably work to improve optimization of that\n+\t case; however, it seems silly not to also deal with such\n+\t problems here if they happen to occur.  */\n \n       e_taken = e_fall = NULL;\n       for (e = bb->succ; e ; e = e->succ_next)\n-\tif (e->flags & EDGE_FALLTHRU)\n-\t  e_fall = e;\n-\telse if (! (e->flags & EDGE_EH))\n-\t  e_taken = e;\n+\t{\n+\t  if (e->flags & EDGE_FALLTHRU)\n+\t    e_fall = e;\n+\t  if (! (e->flags & EDGE_EH))\n+\t    e_taken = e;\n+\t}\n \n       next = (taken ? e_taken : e_fall)->dest;\n     }"}]}