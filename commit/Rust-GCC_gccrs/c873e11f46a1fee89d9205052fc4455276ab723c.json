{"sha": "c873e11f46a1fee89d9205052fc4455276ab723c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yzg3M2UxMWY0NmExZmVlODlkOTIwNTA1MmZjNDQ1NTI3NmFiNzIzYw==", "commit": {"author": {"name": "Ulrich Weigand", "email": "uweigand@de.ibm.com", "date": "2003-06-13T13:04:34Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2003-06-13T13:04:34Z"}, "message": "s390.c (s390_va_arg): Fix alignment when retrieving non-integral types from integer register save...\n\n\t* config/s390/s390.c (s390_va_arg): Fix alignment when retrieving\n\tnon-integral types from integer register save area slots.\n\nFrom-SVN: r67894", "tree": {"sha": "a36f45b1865416e4e4e71bfe03ca5a5f790339d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a36f45b1865416e4e4e71bfe03ca5a5f790339d9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c873e11f46a1fee89d9205052fc4455276ab723c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c873e11f46a1fee89d9205052fc4455276ab723c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c873e11f46a1fee89d9205052fc4455276ab723c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c873e11f46a1fee89d9205052fc4455276ab723c/comments", "author": null, "committer": null, "parents": [{"sha": "bec3e66d1a37c885eb41556e322e150b6241dfb0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bec3e66d1a37c885eb41556e322e150b6241dfb0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bec3e66d1a37c885eb41556e322e150b6241dfb0"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "0c120196879f89da2270de38a511cc4562e0f197", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c873e11f46a1fee89d9205052fc4455276ab723c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c873e11f46a1fee89d9205052fc4455276ab723c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c873e11f46a1fee89d9205052fc4455276ab723c", "patch": "@@ -1,3 +1,8 @@\n+2003-06-13  Ulrich Weigand  <uweigand@de.ibm.com>\n+\n+\t* config/s390/s390.c (s390_va_arg): Fix alignment when retrieving \n+\tnon-integral types from integer register save area slots.\n+\n 2003-06-13  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n \t* config/i386/svr3dbx.h: GNU CC -> GCC; Intel 385 -> Intel 386."}, {"sha": "9ca394f8dd6cec4eb04ed21fef8e5a2442bcd2c2", "filename": "gcc/config/s390/s390.c", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c873e11f46a1fee89d9205052fc4455276ab723c/gcc%2Fconfig%2Fs390%2Fs390.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c873e11f46a1fee89d9205052fc4455276ab723c/gcc%2Fconfig%2Fs390%2Fs390.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.c?ref=c873e11f46a1fee89d9205052fc4455276ab723c", "patch": "@@ -6073,13 +6073,8 @@ s390_va_arg (valist, type)\n       reg = gpr;\n       n_reg = (size + UNITS_PER_WORD - 1) / UNITS_PER_WORD;\n       sav_ofs = 2 * UNITS_PER_WORD;\n-      if (TARGET_64BIT)\n-\tsav_ofs += TYPE_MODE (type) == SImode ? 4 : \n-\t           TYPE_MODE (type) == HImode ? 6 : \n-\t           TYPE_MODE (type) == QImode ? 7 : 0;\n-      else\n-\tsav_ofs += TYPE_MODE (type) == HImode ? 2 : \n-\t           TYPE_MODE (type) == QImode ? 3 : 0;\n+      if (size < UNITS_PER_WORD)\n+\tsav_ofs += UNITS_PER_WORD - size;\n \n       sav_scale = UNITS_PER_WORD;\n       if (n_reg > 1)"}]}