{"sha": "0de82be51731d649414f86d09f9cd3d672df8dda", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGRlODJiZTUxNzMxZDY0OTQxNGY4NmQwOWY5Y2QzZDY3MmRmOGRkYQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2011-10-28T07:13:44Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2011-10-28T07:13:44Z"}, "message": "re PR ada/50842 (gnatmake fails to link in stage3 with undefined symbol _iconv_close)\n\n\tPR ada/50842\n\t* gcc-interface/Makefile.in (SYMDEPS): Delete.\n\t(LIBICONV): New variable.\n\t(LIBICONV_DEP): Likewise.\n\t(LIBS): Add $(LIBICONV).\n\t(LIBDEPS): Add $(LIBICONV_DEP).\n\t(EXTRA_GNATTOOLS_OBJS): Merge into...\n\t(TOOLS_LIBS): ...this.  Add $(LIBICONV).\n\nFrom-SVN: r180605", "tree": {"sha": "d873b7368731bc70b9faa90a668c03f962ba575f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d873b7368731bc70b9faa90a668c03f962ba575f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0de82be51731d649414f86d09f9cd3d672df8dda", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0de82be51731d649414f86d09f9cd3d672df8dda", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0de82be51731d649414f86d09f9cd3d672df8dda", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0de82be51731d649414f86d09f9cd3d672df8dda/comments", "author": null, "committer": null, "parents": [{"sha": "d303c992f61f5f94aaa314e914b1e27280940de2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d303c992f61f5f94aaa314e914b1e27280940de2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d303c992f61f5f94aaa314e914b1e27280940de2"}], "stats": {"total": 27, "additions": 19, "deletions": 8}, "files": [{"sha": "bacb37129b61f983e4586620bf4ea7c76dd0c034", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0de82be51731d649414f86d09f9cd3d672df8dda/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0de82be51731d649414f86d09f9cd3d672df8dda/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=0de82be51731d649414f86d09f9cd3d672df8dda", "patch": "@@ -1,3 +1,13 @@\n+2011-10-28  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\tPR ada/50842\n+\t* gcc-interface/Makefile.in (SYMDEPS): Delete.\n+\t(LIBICONV): New variable.\n+\t(LIBICONV_DEP): Likewise.\n+\t(LIBS): Add $(LIBICONV).\n+\t(LIBDEPS): Add $(LIBICONV_DEP).\n+\t(EXTRA_GNATTOOLS_OBJS): Merge into...\n+\t(TOOLS_LIBS): ...this.  Add $(LIBICONV).\n \n 2011-10-26  Eric Botcazou  <ebotcazou@adacore.com>\n "}, {"sha": "990a698773635b1f3f2b9647b1aad5fecc180cff", "filename": "gcc/ada/gcc-interface/Makefile.in", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0de82be51731d649414f86d09f9cd3d672df8dda/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0de82be51731d649414f86d09f9cd3d672df8dda/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMakefile.in?ref=0de82be51731d649414f86d09f9cd3d672df8dda", "patch": "@@ -121,7 +121,6 @@ THREAD_KIND = native\n THREADSLIB =\n GMEM_LIB =\n MISCLIB =\n-SYMDEPS = $(LIBINTL_DEP)\n OUTPUT_OPTION = @OUTPUT_OPTION@\n \n objext = .o\n@@ -175,13 +174,13 @@ top_builddir = ../..\n LIBINTL = @LIBINTL@\n LIBINTL_DEP = @LIBINTL_DEP@\n \n+# Character encoding conversion library.\n+LIBICONV = @LIBICONV@\n+LIBICONV_DEP = @LIBICONV_DEP@\n+\n # Any system libraries needed just for GNAT.\n SYSLIBS = @GNAT_LIBEXC@\n \n-# List of extra object files linked in with various programs.\n-EXTRA_GNATTOOLS_OBJS = ../../libcommon-target.a ../../libcommon.a \\\n-\t../../../libcpp/libcpp.a\n-\n # List extra gnattools\n EXTRA_GNATTOOLS =\n \n@@ -242,11 +241,13 @@ LIBIBERTY = ../../libiberty/libiberty.a\n \n # How to link with both our special library facilities\n # and the system's installed libraries.\n-LIBS = $(LIBINTL) $(LIBIBERTY) $(SYSLIBS)\n-LIBDEPS = $(LIBINTL_DEP) $(LIBIBERTY)\n+LIBS = $(LIBINTL) $(LIBICONV) $(LIBIBERTY) $(SYSLIBS)\n+LIBDEPS = $(LIBINTL_DEP) $(LIBICONV_DEP) $(LIBIBERTY)\n # Default is no TGT_LIB; one might be passed down or something\n TGT_LIB =\n-TOOLS_LIBS = $(EXTRA_GNATTOOLS_OBJS) targext.o link.o $(LIBGNAT) $(LIBINTL) ../../../libiberty/libiberty.a $(SYSLIBS) $(TGT_LIB)\n+TOOLS_LIBS = targext.o link.o ../../libcommon-target.a ../../libcommon.a \\\n+  ../../../libcpp/libcpp.a $(LIBGNAT) $(LIBINTL) $(LIBICONV) \\\n+  ../../../libiberty/libiberty.a $(SYSLIBS) $(TGT_LIB)\n \n # Convert the target variable into a space separated list of architecture,\n # manufacturer, and operating system and assign each of those to its own"}]}