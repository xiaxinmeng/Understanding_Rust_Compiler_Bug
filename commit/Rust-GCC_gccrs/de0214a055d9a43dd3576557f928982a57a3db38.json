{"sha": "de0214a055d9a43dd3576557f928982a57a3db38", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGUwMjE0YTA1NWQ5YTQzZGQzNTc2NTU3ZjkyODk4MmE1N2EzZGIzOA==", "commit": {"author": {"name": "Ilya Leoshkevich", "email": "iii@linux.ibm.com", "date": "2021-07-09T11:27:55Z"}, "committer": {"name": "Ilya Leoshkevich", "email": "iii@linux.ibm.com", "date": "2021-07-28T16:01:58Z"}, "message": "IBM Z: Fix 5 tests in 31-bit mode\n\ngcc/testsuite/ChangeLog:\n\n\t* gcc.target/s390/global-array-element-pic2.c: Add -mzarch, add\n\tan expectation for 31-bit mode.\n\t* gcc.target/s390/load-imm64-1.c: Use unsigned long long.\n\t* gcc.target/s390/load-imm64-2.c: Likewise.\n\t* gcc.target/s390/vector/long-double-vx-macro-off-on.c: Use\n\t-mzarch.\n\t* gcc.target/s390/vector/long-double-vx-macro-on-off.c:\n\tLikewise.", "tree": {"sha": "5b5fefd313e31782bb3c978230b7afd95ba5076d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5b5fefd313e31782bb3c978230b7afd95ba5076d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/de0214a055d9a43dd3576557f928982a57a3db38", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de0214a055d9a43dd3576557f928982a57a3db38", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de0214a055d9a43dd3576557f928982a57a3db38", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de0214a055d9a43dd3576557f928982a57a3db38/comments", "author": {"login": "iii-i", "id": 45998171, "node_id": "MDQ6VXNlcjQ1OTk4MTcx", "avatar_url": "https://avatars.githubusercontent.com/u/45998171?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iii-i", "html_url": "https://github.com/iii-i", "followers_url": "https://api.github.com/users/iii-i/followers", "following_url": "https://api.github.com/users/iii-i/following{/other_user}", "gists_url": "https://api.github.com/users/iii-i/gists{/gist_id}", "starred_url": "https://api.github.com/users/iii-i/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iii-i/subscriptions", "organizations_url": "https://api.github.com/users/iii-i/orgs", "repos_url": "https://api.github.com/users/iii-i/repos", "events_url": "https://api.github.com/users/iii-i/events{/privacy}", "received_events_url": "https://api.github.com/users/iii-i/received_events", "type": "User", "site_admin": false}, "committer": {"login": "iii-i", "id": 45998171, "node_id": "MDQ6VXNlcjQ1OTk4MTcx", "avatar_url": "https://avatars.githubusercontent.com/u/45998171?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iii-i", "html_url": "https://github.com/iii-i", "followers_url": "https://api.github.com/users/iii-i/followers", "following_url": "https://api.github.com/users/iii-i/following{/other_user}", "gists_url": "https://api.github.com/users/iii-i/gists{/gist_id}", "starred_url": "https://api.github.com/users/iii-i/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iii-i/subscriptions", "organizations_url": "https://api.github.com/users/iii-i/orgs", "repos_url": "https://api.github.com/users/iii-i/repos", "events_url": "https://api.github.com/users/iii-i/events{/privacy}", "received_events_url": "https://api.github.com/users/iii-i/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3c91efec15af4f922a9af495e178bbb66d2e9d1f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c91efec15af4f922a9af495e178bbb66d2e9d1f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3c91efec15af4f922a9af495e178bbb66d2e9d1f"}], "stats": {"total": 17, "additions": 9, "deletions": 8}, "files": [{"sha": "0ee10841cac5cfefcad3896dae912391a308fe10", "filename": "gcc/testsuite/gcc.target/s390/global-array-element-pic2.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de0214a055d9a43dd3576557f928982a57a3db38/gcc%2Ftestsuite%2Fgcc.target%2Fs390%2Fglobal-array-element-pic2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de0214a055d9a43dd3576557f928982a57a3db38/gcc%2Ftestsuite%2Fgcc.target%2Fs390%2Fglobal-array-element-pic2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fs390%2Fglobal-array-element-pic2.c?ref=de0214a055d9a43dd3576557f928982a57a3db38", "patch": "@@ -1,13 +1,14 @@\n /* Test accesses to global array elements in PIC code.  */\n /* { dg-do compile } */\n-/* { dg-options \"-O1 -march=z10 -fPIC\" } */\n+/* { dg-options \"-O1 -march=z10 -mzarch -fPIC\" } */\n \n extern char a[] __attribute__ ((aligned (2)));\n extern char *b;\n \n void c()\n {\n   b = a + 4;\n-  /* { dg-final { scan-assembler \"(?n)\\n\\tlgrl\\t%r\\\\d+,a@GOTENT\\n\" } } */\n+  /* { dg-final { scan-assembler \"(?n)\\n\\tlgrl\\t%r\\\\d+,a@GOTENT\\n\" { target lp64 } } } */\n+  /* { dg-final { scan-assembler \"(?n)\\n\\tlrl\\t%r\\\\d+,a@GOTENT\\n\" { target { ! lp64 } } } } */\n   /* { dg-final { scan-assembler-not \"(?n)\\n\\tlarl\\t%r\\\\d+,a\\[^@\\]\" } } */\n }"}, {"sha": "8e812f2f01d3b6acdb267a265e3dd360105982a4", "filename": "gcc/testsuite/gcc.target/s390/load-imm64-1.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de0214a055d9a43dd3576557f928982a57a3db38/gcc%2Ftestsuite%2Fgcc.target%2Fs390%2Fload-imm64-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de0214a055d9a43dd3576557f928982a57a3db38/gcc%2Ftestsuite%2Fgcc.target%2Fs390%2Fload-imm64-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fs390%2Fload-imm64-1.c?ref=de0214a055d9a43dd3576557f928982a57a3db38", "patch": "@@ -4,10 +4,10 @@\n /* { dg-do compile } */\n /* { dg-options \"-O3 -march=z9-109\" } */\n \n-unsigned long\n+unsigned long long\n magic (void)\n {\n-  return 0x3f08c5392f756cd;\n+  return 0x3f08c5392f756cdULL;\n }\n \n /* { dg-final { scan-assembler-times {\\n\\tllihf\\t} 1 { target lp64 } } } */"}, {"sha": "c3536b4d03100be17ce50bf006d52c939b0560f8", "filename": "gcc/testsuite/gcc.target/s390/load-imm64-2.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de0214a055d9a43dd3576557f928982a57a3db38/gcc%2Ftestsuite%2Fgcc.target%2Fs390%2Fload-imm64-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de0214a055d9a43dd3576557f928982a57a3db38/gcc%2Ftestsuite%2Fgcc.target%2Fs390%2Fload-imm64-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fs390%2Fload-imm64-2.c?ref=de0214a055d9a43dd3576557f928982a57a3db38", "patch": "@@ -4,10 +4,10 @@\n /* { dg-do compile } */\n /* { dg-options \"-O3 -march=z10\" } */\n \n-unsigned long\n+unsigned long long\n magic (void)\n {\n-  return 0x3f08c5392f756cd;\n+  return 0x3f08c5392f756cdULL;\n }\n \n /* { dg-final { scan-assembler-times {\\n\\tllihf\\t} 1 { target lp64 } } } */"}, {"sha": "513912e669de87e49a86d40a9d2e1a2d2ca841a9", "filename": "gcc/testsuite/gcc.target/s390/vector/long-double-vx-macro-off-on.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de0214a055d9a43dd3576557f928982a57a3db38/gcc%2Ftestsuite%2Fgcc.target%2Fs390%2Fvector%2Flong-double-vx-macro-off-on.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de0214a055d9a43dd3576557f928982a57a3db38/gcc%2Ftestsuite%2Fgcc.target%2Fs390%2Fvector%2Flong-double-vx-macro-off-on.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fs390%2Fvector%2Flong-double-vx-macro-off-on.c?ref=de0214a055d9a43dd3576557f928982a57a3db38", "patch": "@@ -1,6 +1,6 @@\n /* { dg-do compile } */\n /* { dg-require-effective-target target_attribute } */\n-/* { dg-options \"-march=z14\" } */\n+/* { dg-options \"-march=z14 -mzarch\" } */\n #if !defined(__LONG_DOUBLE_VX__)\n #error\n #endif"}, {"sha": "6b3cb32133892603358d892eb3db20a231e4a40a", "filename": "gcc/testsuite/gcc.target/s390/vector/long-double-vx-macro-on-off.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de0214a055d9a43dd3576557f928982a57a3db38/gcc%2Ftestsuite%2Fgcc.target%2Fs390%2Fvector%2Flong-double-vx-macro-on-off.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de0214a055d9a43dd3576557f928982a57a3db38/gcc%2Ftestsuite%2Fgcc.target%2Fs390%2Fvector%2Flong-double-vx-macro-on-off.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fs390%2Fvector%2Flong-double-vx-macro-on-off.c?ref=de0214a055d9a43dd3576557f928982a57a3db38", "patch": "@@ -1,6 +1,6 @@\n /* { dg-do compile } */\n /* { dg-require-effective-target target_attribute } */\n-/* { dg-options \"-march=z13\" } */\n+/* { dg-options \"-march=z13 -mzarch\" } */\n #if defined(__LONG_DOUBLE_VX__)\n #error\n #endif"}]}