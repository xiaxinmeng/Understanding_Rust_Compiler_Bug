{"sha": "cb06a507073e4d6218a70a2d5b0738a0487d6d9a", "node_id": "C_kwDOANBUbNoAKGNiMDZhNTA3MDczZTRkNjIxOGE3MGEyZDViMDczOGEwNDg3ZDZkOWE", "commit": {"author": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2023-03-31T12:28:15Z"}, "committer": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2023-04-11T09:25:33Z"}, "message": "driver: drop flag_var_tracking_assignments flag\n\nThe revision r13-259-g76db543db88727 moved a condition from one\nfile to another, but now we do not drop x_flag_var_tracking_assignments\nas it was done before the mentioned revision.\n\n\tPR driver/108241\n\ngcc/ChangeLog:\n\n\t* opts.cc (finish_options): Drop also\n\tx_flag_var_tracking_assignments.\n\ngcc/testsuite/ChangeLog:\n\n\t* gcc.dg/pr108241.c: New test.\n\t* gcc.dg/pr79570.c: Add also -g option.", "tree": {"sha": "c0b86180049cf144c6495d6824d377fdaec53f35", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c0b86180049cf144c6495d6824d377fdaec53f35"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cb06a507073e4d6218a70a2d5b0738a0487d6d9a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb06a507073e4d6218a70a2d5b0738a0487d6d9a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb06a507073e4d6218a70a2d5b0738a0487d6d9a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb06a507073e4d6218a70a2d5b0738a0487d6d9a/comments", "author": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "58c8c1b383bc3c286d6527fc6e8fb62463f9a877", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58c8c1b383bc3c286d6527fc6e8fb62463f9a877", "html_url": "https://github.com/Rust-GCC/gccrs/commit/58c8c1b383bc3c286d6527fc6e8fb62463f9a877"}], "stats": {"total": 66, "additions": 65, "deletions": 1}, "files": [{"sha": "fb2e5388ab190975759e9ce1795938a0d67153b0", "filename": "gcc/opts.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cb06a507073e4d6218a70a2d5b0738a0487d6d9a/gcc%2Fopts.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cb06a507073e4d6218a70a2d5b0738a0487d6d9a/gcc%2Fopts.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fopts.cc?ref=cb06a507073e4d6218a70a2d5b0738a0487d6d9a", "patch": "@@ -1384,6 +1384,7 @@ finish_options (struct gcc_options *opts, struct gcc_options *opts_set,\n \t}\n       opts->x_flag_var_tracking = 0;\n       opts->x_flag_var_tracking_uninit = 0;\n+      opts->x_flag_var_tracking_assignments = 0;\n     }\n \n   /* One could use EnabledBy, but it would lead to a circular dependency.  */"}, {"sha": "06d210fae681aac756a1a6a8a6ff27f6ca68e0e0", "filename": "gcc/testsuite/gcc.dg/pr108241.c", "status": "added", "additions": 63, "deletions": 0, "changes": 63, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cb06a507073e4d6218a70a2d5b0738a0487d6d9a/gcc%2Ftestsuite%2Fgcc.dg%2Fpr108241.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cb06a507073e4d6218a70a2d5b0738a0487d6d9a/gcc%2Ftestsuite%2Fgcc.dg%2Fpr108241.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr108241.c?ref=cb06a507073e4d6218a70a2d5b0738a0487d6d9a", "patch": "@@ -0,0 +1,63 @@\n+/* PR driver/108241 */\n+/* { dg-options \"-Os -frounding-math -fvar-tracking-assignments -fno-dce -fno-trapping-math -fno-tree-dce -fno-tree-dse\" } */\n+\n+long int n1;\n+int n2, n3, n4;\n+char n5;\n+\n+void\n+foo (long int x1, long int x2, int x3, int x4, int x5, char x6, char x7)\n+{\n+  char a01 = n2, a02 = x4, a03 = 0;\n+  short int a04;\n+  unsigned short int a05 = x5;\n+  int a06, a07, a08 = a05, a09 = x3, a10 = 0;\n+  long int a11, a12 = x4;\n+\n+  if (x1)\n+    {\n+      a07 = x6 + (float)0x1000001;\n+      a03 = a12 = a01 = a06 = ~0;\n+\n+      if (x5)\n+\ta11 = n5;\n+    }\n+  else\n+    {\n+      a10 = x3 = n3;\n+      if (n3)\n+\ta06 = a05 = x7;\n+    }\n+\n+  if (n3 < n5)\n+    {\n+      n4 = (x2 == x4) + !n1;\n+      if (n4 % (n1 % x3))\n+\t{\n+\t  a04 = n4;\n+\t  a02 = n2;\n+\t}\n+\n+      if (x3)\n+\t{\n+\t  a05 = !n1 % n2;\n+\t  a08 = n1;\n+\t  a04 = x5 + a06;\n+\t}\n+\n+      if (a12)\n+\ta09 = n3 + n4;\n+\n+      a12 = a07;\n+      n3 = a11 % x1;\n+      n5 += x6;\n+      n1 = a04;\n+    }\n+\n+  n4 = x2 % x5 % a11;\n+  a06 = a10 + a08 % a02 == n4;\n+  a09 = a09 == a01 * x7;\n+  n4 = x4;\n+  a12 += x4 / 0xc000000000000000 + !a03;\n+  a03 = !a05;\n+}"}, {"sha": "a15be9f201d3494c5f3db037df9413d8601fa762", "filename": "gcc/testsuite/gcc.dg/pr79570.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cb06a507073e4d6218a70a2d5b0738a0487d6d9a/gcc%2Ftestsuite%2Fgcc.dg%2Fpr79570.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cb06a507073e4d6218a70a2d5b0738a0487d6d9a/gcc%2Ftestsuite%2Fgcc.dg%2Fpr79570.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr79570.c?ref=cb06a507073e4d6218a70a2d5b0738a0487d6d9a", "patch": "@@ -1,6 +1,6 @@\n /* PR target/79570 */\n /* { dg-do compile { target powerpc*-*-* ia64-*-* i?86-*-* x86_64-*-* } } */\n-/* { dg-options \"-O2 -fselective-scheduling2 -fvar-tracking-assignments\" } */\n+/* { dg-options \"-O2 -fselective-scheduling2 -fvar-tracking-assignments -g\" } */\n /* { dg-warning \"changes selective scheduling\" \"\" { target *-*-* } 0 } */\n \n #include \"pr69956.c\""}]}