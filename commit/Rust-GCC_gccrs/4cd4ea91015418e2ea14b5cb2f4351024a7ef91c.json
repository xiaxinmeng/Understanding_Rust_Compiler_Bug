{"sha": "4cd4ea91015418e2ea14b5cb2f4351024a7ef91c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGNkNGVhOTEwMTU0MThlMmVhMTRiNWNiMmY0MzUxMDI0YTdlZjkxYw==", "commit": {"author": {"name": "Mumit Khan", "email": "khan@xraylith.wisc.edu", "date": "1999-04-21T09:11:15Z"}, "committer": {"name": "Dave Brolley", "email": "brolley@gcc.gnu.org", "date": "1999-04-21T09:11:15Z"}, "message": "cccp.c (simplify_filename): Always preserve leading double slash.\n\nWed Apr 21 12:09:38 1999  Mumit Khan  <khan@xraylith.wisc.edu>\n\t* cccp.c (simplify_filename): Always preserve leading double slash.\n\nFrom-SVN: r26573", "tree": {"sha": "a4bd385c574b43e02067ad21e7140c59ec5cc449", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a4bd385c574b43e02067ad21e7140c59ec5cc449"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4cd4ea91015418e2ea14b5cb2f4351024a7ef91c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4cd4ea91015418e2ea14b5cb2f4351024a7ef91c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4cd4ea91015418e2ea14b5cb2f4351024a7ef91c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4cd4ea91015418e2ea14b5cb2f4351024a7ef91c/comments", "author": null, "committer": null, "parents": [{"sha": "c540cf3bc9a118f0c5f61af893937bb6308ee7ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c540cf3bc9a118f0c5f61af893937bb6308ee7ca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c540cf3bc9a118f0c5f61af893937bb6308ee7ca"}], "stats": {"total": 17, "additions": 5, "deletions": 12}, "files": [{"sha": "939d8f5a7d2d26054ce861b4e67c9860291547ac", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4cd4ea91015418e2ea14b5cb2f4351024a7ef91c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4cd4ea91015418e2ea14b5cb2f4351024a7ef91c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4cd4ea91015418e2ea14b5cb2f4351024a7ef91c", "patch": "@@ -1,3 +1,7 @@\n+Wed Apr 21 12:09:38 1999  Mumit Khan  <khan@xraylith.wisc.edu>\n+\n+\t* cccp.c (simplify_filename): Always preserve leading double slash.\n+\n Wed Apr 21 18:15:55 1999  Michael Hayes  <m.hayes@elec.canterbury.ac.nz>\n \n \t* config/c4x/c4x.md: Add new peepholes to remove redundant loads."}, {"sha": "e89d00c574b49b94d1e74f9869651c35e9858e06", "filename": "gcc/cccp.c", "status": "modified", "additions": 1, "deletions": 12, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4cd4ea91015418e2ea14b5cb2f4351024a7ef91c/gcc%2Fcccp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4cd4ea91015418e2ea14b5cb2f4351024a7ef91c/gcc%2Fcccp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcccp.c?ref=4cd4ea91015418e2ea14b5cb2f4351024a7ef91c", "patch": "@@ -4832,18 +4832,7 @@ simplify_filename (filename)\n           else\n             {\n \t      /* On some hosts // differs from /; Posix allows this.  */\n-              static int slashslash_vs_slash;\n-              if (slashslash_vs_slash == 0)\n-                {\n-                  struct stat s1, s2;\n-                  slashslash_vs_slash = ((stat (\"/\", &s1) == 0\n-\t\t\t\t\t  && stat (\"//\", &s2) == 0\n-                                          && INO_T_EQ (s1.st_ino, s2.st_ino)\n-                                          && s1.st_dev == s2.st_dev)\n-                                         ? 1 : -1);\n-                }\n-             if (slashslash_vs_slash < 0)\n-               *to++ = DIR_SEPARATOR;\n+\t      *to++ = DIR_SEPARATOR;\n             }\n         }\n     }"}]}