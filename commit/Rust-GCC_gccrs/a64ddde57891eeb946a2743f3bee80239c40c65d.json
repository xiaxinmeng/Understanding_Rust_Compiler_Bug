{"sha": "a64ddde57891eeb946a2743f3bee80239c40c65d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTY0ZGRkZTU3ODkxZWViOTQ2YTI3NDNmM2JlZTgwMjM5YzQwYzY1ZA==", "commit": {"author": {"name": "John Hassey", "email": "hassey@gnu.org", "date": "1993-09-08T15:31:02Z"}, "committer": {"name": "John Hassey", "email": "hassey@gnu.org", "date": "1993-09-08T15:31:02Z"}, "message": "(output_call): Avoid use of jsr.n r1, this loses on\n        the 88110.\n\nFrom-SVN: r5285", "tree": {"sha": "50f6a0a19f285cd4cde5c25011f0cc8708064167", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/50f6a0a19f285cd4cde5c25011f0cc8708064167"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a64ddde57891eeb946a2743f3bee80239c40c65d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a64ddde57891eeb946a2743f3bee80239c40c65d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a64ddde57891eeb946a2743f3bee80239c40c65d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a64ddde57891eeb946a2743f3bee80239c40c65d/comments", "author": null, "committer": null, "parents": [{"sha": "cfb557c4098437f07ac0d079461a29958350e3ef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cfb557c4098437f07ac0d079461a29958350e3ef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cfb557c4098437f07ac0d079461a29958350e3ef"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "8a7420d2c65e0e7b548351bf116f4fca173991bd", "filename": "gcc/config/m88k/m88k.c", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a64ddde57891eeb946a2743f3bee80239c40c65d/gcc%2Fconfig%2Fm88k%2Fm88k.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a64ddde57891eeb946a2743f3bee80239c40c65d/gcc%2Fconfig%2Fm88k%2Fm88k.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm88k%2Fm88k.c?ref=a64ddde57891eeb946a2743f3bee80239c40c65d", "patch": "@@ -868,14 +868,20 @@ output_call (operands, addr)\n \t     If we loose, we must use the non-delay form.  This is unlikely\n \t     to ever happen.  If it becomes a problem, claim that a call\n \t     has two delay slots and only the second can be filled with\n-\t     a jump.  */\n+\t     a jump.  \n+\n+\t     The 88110 can lose when a jsr.n r1 is issued and a page fault\n+\t     occurs accessing the delay slot.  So don't use jsr.n form when\n+\t     jumping thru r1.\n+\t   */\n #ifdef AS_BUG_IMMEDIATE_LABEL /* The assembler restricts immediate values.  */\n \t  if (optimize < 2\n-\t      || ! ADD_INTVAL (delta * 2))\n+\t      || ! ADD_INTVAL (delta * 2)\n #else\n \t  if (optimize < 2\n-\t      || ! ADD_INTVAL (delta))\n+\t      || ! ADD_INTVAL (delta)\n #endif\n+\t      || (REG_P (addr) && REGNO (addr) == 1))\n \t    {\n \t      operands[1] = dest;\n \t      return (REG_P (addr)"}]}