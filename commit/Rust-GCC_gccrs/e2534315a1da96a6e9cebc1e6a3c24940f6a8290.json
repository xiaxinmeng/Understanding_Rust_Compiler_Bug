{"sha": "e2534315a1da96a6e9cebc1e6a3c24940f6a8290", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTI1MzQzMTVhMWRhOTZhNmU5Y2ViYzFlNmEzYzI0OTQwZjZhODI5MA==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2003-11-19T03:09:30Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2003-11-19T03:09:30Z"}, "message": "re PR libgcj/13026 (libgcj verifier failure)\n\n\tPR libgcj/13026:\n\t* verify.cc (state::copy): Only set local_changed if we're in a\n\tsubroutine.  Correctly copy local variables which were modified\n\tby the subroutine.\n\t(push_jump_merge): Added more debugging output.\n\nFrom-SVN: r73722", "tree": {"sha": "d9d70e2070edb10c8d23ae6a2194672dcf82e204", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d9d70e2070edb10c8d23ae6a2194672dcf82e204"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e2534315a1da96a6e9cebc1e6a3c24940f6a8290", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2534315a1da96a6e9cebc1e6a3c24940f6a8290", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e2534315a1da96a6e9cebc1e6a3c24940f6a8290", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2534315a1da96a6e9cebc1e6a3c24940f6a8290/comments", "author": null, "committer": null, "parents": [{"sha": "e2657a67071519e5fc70caa73e5a14d8271ef5b6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2657a67071519e5fc70caa73e5a14d8271ef5b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e2657a67071519e5fc70caa73e5a14d8271ef5b6"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "bcd687e4d1e490882bec76f1f35cd5ace1a7e877", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e2534315a1da96a6e9cebc1e6a3c24940f6a8290/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e2534315a1da96a6e9cebc1e6a3c24940f6a8290/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=e2534315a1da96a6e9cebc1e6a3c24940f6a8290", "patch": "@@ -1,5 +1,11 @@\n 2003-11-18  Tom Tromey  <tromey@redhat.com>\n \n+\tPR libgcj/13026:\n+\t* verify.cc (state::copy): Only set local_changed if we're in a\n+\tsubroutine.  Correctly copy local variables which were modified\n+\tby the subroutine.\n+\t(push_jump_merge): Added more debugging output.\n+\n \t* jni.cc (_Jv_JNI_GetStringUTFChars): Fail gracefully if string\n \tis null.\n "}, {"sha": "34583bdc180e84bbe645d205bb5ce63ab01eca0a", "filename": "libjava/verify.cc", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e2534315a1da96a6e9cebc1e6a3c24940f6a8290/libjava%2Fverify.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e2534315a1da96a6e9cebc1e6a3c24940f6a8290/libjava%2Fverify.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fverify.cc?ref=e2534315a1da96a6e9cebc1e6a3c24940f6a8290", "patch": "@@ -1025,11 +1025,11 @@ class _Jv_BytecodeVerifier\n \t  // See push_jump_merge to understand this case.\n \t  if (ret_semantics)\n \t    locals[i] = type (copy->local_changed[i]\n-\t\t\t      ? unsuitable_type\n+\t\t\t      ? copy->locals[i]\n \t\t\t      : unused_by_subroutine_type);\n \t  else\n \t    locals[i] = copy->locals[i];\n-\t  local_changed[i] = copy->local_changed[i];\n+\t  local_changed[i] = subroutine ? copy->local_changed[i] : false;\n \t}\n \n       clean_subrs ();\n@@ -1465,7 +1465,8 @@ class _Jv_BytecodeVerifier\n \t// which was not modified by the subroutine.\n \tstates[npc] = new state (nstate, current_method->max_stack,\n \t\t\t\t current_method->max_locals, ret_semantics);\n-\tdebug_print (\"== New state in push_jump_merge\\n\");\n+\tdebug_print (\"== New state in push_jump_merge (ret_semantics = %s)\\n\",\n+\t\t     ret_semantics ? \"true\" : \"false\");\n \tstates[npc]->print (\"New\", npc, current_method->max_stack,\n \t\t\t    current_method->max_locals);\n       }"}]}