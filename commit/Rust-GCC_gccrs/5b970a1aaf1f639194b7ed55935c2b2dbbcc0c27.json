{"sha": "5b970a1aaf1f639194b7ed55935c2b2dbbcc0c27", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWI5NzBhMWFhZjFmNjM5MTk0YjdlZDU1OTM1YzJiMmRiYmNjMGMyNw==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2011-09-05T07:32:37Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2011-09-05T07:32:37Z"}, "message": "revert: fold-const.c (extract_muldiv_1): Remove bogus TYPE_IS_SIZETYPE special-casing.\n\n2011-09-05  Richard Guenther  <rguenther@suse.de>\n\n        Revert\n        2011-08-31  Richard Guenther  <rguenther@suse.de>\n\n\t* fold-const.c (extract_muldiv_1): Remove bogus TYPE_IS_SIZETYPE\n\tspecial-casing.\n\nFrom-SVN: r178523", "tree": {"sha": "4ea70cb77d5227acecb181744e322fa9ada5129b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4ea70cb77d5227acecb181744e322fa9ada5129b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5b970a1aaf1f639194b7ed55935c2b2dbbcc0c27", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b970a1aaf1f639194b7ed55935c2b2dbbcc0c27", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5b970a1aaf1f639194b7ed55935c2b2dbbcc0c27", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b970a1aaf1f639194b7ed55935c2b2dbbcc0c27/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1a94ffae3661bae81e3142c6f965939deacf3e72", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a94ffae3661bae81e3142c6f965939deacf3e72", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a94ffae3661bae81e3142c6f965939deacf3e72"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "b106227f2c4886ea961fcce4638e756b899318d8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b970a1aaf1f639194b7ed55935c2b2dbbcc0c27/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b970a1aaf1f639194b7ed55935c2b2dbbcc0c27/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5b970a1aaf1f639194b7ed55935c2b2dbbcc0c27", "patch": "@@ -1,3 +1,11 @@\n+2011-09-04  Richard Guenther  <rguenther@suse.de>\n+\n+\tRevert\n+\t2011-08-31  Richard Guenther  <rguenther@suse.de>\n+\n+\t* fold-const.c (extract_muldiv_1): Remove bogus TYPE_IS_SIZETYPE\n+\tspecial-casing.\n+\n 2011-09-04  Iain Sandoe  <iains@gcc.gnu.org>\n \n \tPR debug/49901"}, {"sha": "5807a5533ba208ae88b5282544068d3b0ed419d6", "filename": "gcc/fold-const.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b970a1aaf1f639194b7ed55935c2b2dbbcc0c27/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b970a1aaf1f639194b7ed55935c2b2dbbcc0c27/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=5b970a1aaf1f639194b7ed55935c2b2dbbcc0c27", "patch": "@@ -5888,9 +5888,11 @@ extract_muldiv_1 (tree t, tree c, enum tree_code code, tree wide_type,\n \t multiple of the other, in which case we replace this with either an\n \t operation or CODE or TCODE.\n \n-\t If we have an unsigned type, we cannot do this since it will change\n-\t the result if the original computation overflowed.  */\n-      if (TYPE_OVERFLOW_UNDEFINED (ctype)\n+\t If we have an unsigned type that is not a sizetype, we cannot do\n+\t this since it will change the result if the original computation\n+\t overflowed.  */\n+      if ((TYPE_OVERFLOW_UNDEFINED (ctype)\n+\t   || (TREE_CODE (ctype) == INTEGER_TYPE && TYPE_IS_SIZETYPE (ctype)))\n \t  && ((code == MULT_EXPR && tcode == EXACT_DIV_EXPR)\n \t      || (tcode == MULT_EXPR\n \t\t  && code != TRUNC_MOD_EXPR && code != CEIL_MOD_EXPR"}]}