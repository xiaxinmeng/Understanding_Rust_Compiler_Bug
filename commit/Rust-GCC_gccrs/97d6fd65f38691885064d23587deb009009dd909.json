{"sha": "97d6fd65f38691885064d23587deb009009dd909", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTdkNmZkNjVmMzg2OTE4ODUwNjRkMjM1ODdkZWIwMDkwMDlkZDkwOQ==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "amylaar@cygnus.co.uk", "date": "1998-04-27T12:25:51Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "1998-04-27T12:25:51Z"}, "message": "* sh.c (gen_ashift_hi): Don't make SUBREG of a SUBREG.\n\nFrom-SVN: r19432", "tree": {"sha": "d6bb76eeaeb16df1cd1f2580e381ba26b4fa21b5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d6bb76eeaeb16df1cd1f2580e381ba26b4fa21b5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/97d6fd65f38691885064d23587deb009009dd909", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97d6fd65f38691885064d23587deb009009dd909", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97d6fd65f38691885064d23587deb009009dd909", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97d6fd65f38691885064d23587deb009009dd909/comments", "author": null, "committer": null, "parents": [{"sha": "5645adf0a2e0dc6ceac2c6fe1fc26e2f210ea5bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5645adf0a2e0dc6ceac2c6fe1fc26e2f210ea5bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5645adf0a2e0dc6ceac2c6fe1fc26e2f210ea5bb"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "601d8fa352e116915424a0ff900c7a66f4354bcd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97d6fd65f38691885064d23587deb009009dd909/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97d6fd65f38691885064d23587deb009009dd909/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=97d6fd65f38691885064d23587deb009009dd909", "patch": "@@ -1,3 +1,7 @@\n+Mon Apr 27 20:22:08 1998  J\"orn Rennecke <amylaar@cygnus.co.uk>\n+\n+\t* sh.c (gen_ashift_hi): Don't make SUBREG of a SUBREG.\n+\n Mon Apr 27 18:23:51 1998  J\"orn Rennecke <amylaar@cygnus.co.uk>\n \n         * sh.c (sh_expand_prologue, sh_expand_epilogue):"}, {"sha": "7e4fa2c93a1dabe8167ffbed4bcd627f90d19e23", "filename": "gcc/config/sh/sh.c", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97d6fd65f38691885064d23587deb009009dd909/gcc%2Fconfig%2Fsh%2Fsh.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97d6fd65f38691885064d23587deb009009dd909/gcc%2Fconfig%2Fsh%2Fsh.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.c?ref=97d6fd65f38691885064d23587deb009009dd909", "patch": "@@ -922,8 +922,16 @@ gen_ashift_hi (type, n, reg)\n \t zero/sign extension.\n \t gen_ashift_hi is only called in contexts where we know that the\n \t sign extension works out correctly.  */\n-      gen_ashift (type, n, gen_rtx_SUBREG (SImode, reg, 0));\n-      break;\n+      {\n+\tint word = 0;\n+\tif (GET_CODE (reg) == SUBREG)\n+\t  {\n+\t    word = SUBREG_WORD (reg);\n+\t    reg = SUBREG_REG (reg);\n+\t  }\n+\tgen_ashift (type, n, gen_rtx_SUBREG (SImode, reg, word));\n+\tbreak;\n+      }\n     case ASHIFT:\n       emit_insn (gen_ashlhi3_k (reg, reg, GEN_INT (n)));\n       break;"}]}