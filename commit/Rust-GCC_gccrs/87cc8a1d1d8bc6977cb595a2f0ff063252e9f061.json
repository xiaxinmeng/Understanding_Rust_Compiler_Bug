{"sha": "87cc8a1d1d8bc6977cb595a2f0ff063252e9f061", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODdjYzhhMWQxZDhiYzY5NzdjYjU5NWEyZjBmZjA2MzI1MmU5ZjA2MQ==", "commit": {"author": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2000-09-23T11:47:05Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2000-09-23T11:47:05Z"}, "message": "20000510-1.S: Rename assembler.S.\n\n        * gcc.dg/cpp/20000510-1.S: Rename assembler.S.  Add test\n        that we continue to preprocess after an unknown directive.\n\t* gcc.dg/cpp/tr-str.c: Run-time test for traditional\n\tstringification.\n\nFrom-SVN: r36577", "tree": {"sha": "adc9adeef7a45dfba85dd5d2a73d2cde0b915040", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/adc9adeef7a45dfba85dd5d2a73d2cde0b915040"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/87cc8a1d1d8bc6977cb595a2f0ff063252e9f061", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87cc8a1d1d8bc6977cb595a2f0ff063252e9f061", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87cc8a1d1d8bc6977cb595a2f0ff063252e9f061", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87cc8a1d1d8bc6977cb595a2f0ff063252e9f061/comments", "author": null, "committer": null, "parents": [{"sha": "c7ef75255b733e857a96b4e55e66a38e0a1d1c0e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7ef75255b733e857a96b4e55e66a38e0a1d1c0e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c7ef75255b733e857a96b4e55e66a38e0a1d1c0e"}], "stats": {"total": 20, "additions": 19, "deletions": 1}, "files": [{"sha": "729162a5120d8eea9b7467848722d538cfb1e1f5", "filename": "gcc/testsuite/gcc.dg/cpp/assembler.S", "status": "renamed", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87cc8a1d1d8bc6977cb595a2f0ff063252e9f061/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fassembler.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87cc8a1d1d8bc6977cb595a2f0ff063252e9f061/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fassembler.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fassembler.S?ref=87cc8a1d1d8bc6977cb595a2f0ff063252e9f061", "patch": "@@ -1,13 +1,18 @@\n /* Regression test - in assembly language, # may have some significance\n    other than 'stringize macro argument' and therefore must be preserved\n    in the output, and should not be warned about.  */\n+\n /* { dg-do preprocess } */\n \n #define foo() mov r0, #5  /* { dg-bogus \"not followed\" \"spurious warning\" } */\n \n entry:\n \tfoo()\n \n+/* Check we don't EOF on an unknown directive.  */\n+#unknown directive\n+#error a later diagnostic\t/* { dg-error \"diagnostic\" } */\n+\t\t\n /*\n    { dg-final { if ![file exists 20000510-1.i] { return }\t} }\n    { dg-final { set tmp [grep 20000510-1.i # line]\t\t} }", "previous_filename": "gcc/testsuite/gcc.dg/cpp/20000510-1.S"}, {"sha": "bc749ba10351364b5f6c824afd34e49c0cff9c3b", "filename": "gcc/testsuite/gcc.dg/cpp/tr-str.c", "status": "modified", "additions": 14, "deletions": 1, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87cc8a1d1d8bc6977cb595a2f0ff063252e9f061/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Ftr-str.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87cc8a1d1d8bc6977cb595a2f0ff063252e9f061/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Ftr-str.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Ftr-str.c?ref=87cc8a1d1d8bc6977cb595a2f0ff063252e9f061", "patch": "@@ -1,4 +1,17 @@\n /* Test whether traditional stringify works.  */\n-/* { dg-do preprocess } */\n+/* { dg-do run } */\n /* { dg-options \"-traditional\" } */\n #define foo(a, b) c=\"a\"; d=\"b\";\n+\n+extern void abort ();\n+\n+int main ()\n+{\n+  char *c, *d;\n+\n+  foo (p, q);\n+  if (c[0] != 'p' || d[0] != 'q')\n+    abort ();\n+\n+  exit (0);\n+}"}]}