{"sha": "480570898d36d1d8e29d2adb35bc7eb46b876092", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDgwNTcwODk4ZDM2ZDFkOGUyOWQyYWRiMzViYzdlYjQ2Yjg3NjA5Mg==", "commit": {"author": {"name": "Kugan Vivekanandarajah", "email": "kuganv@linaro.org", "date": "2016-10-06T19:58:46Z"}, "committer": {"name": "Kugan Vivekanandarajah", "email": "kugan@gcc.gnu.org", "date": "2016-10-06T19:58:46Z"}, "message": "re PR tree-optimization/77862 (ice in add_equivalence)\n\nFix PR77862\ngcc/testsuite/ChangeLog:\n\n2016-10-06  Kugan Vivekanandarajah  <kuganv@linaro.org>\n\n\tPR tree-optimization/77862\n\t* gcc.dg/pr77862.c: New test.\n\ngcc/ChangeLog:\n\n2016-10-06  Kugan Vivekanandarajah  <kuganv@linaro.org>\n\n\tPR tree-optimization/77862\n\t* tree-vrp.c (add_equivalence): Use get_value_range so that\n\tnum_vr_values is checked before accessing vr_values.\n\nFrom-SVN: r240842", "tree": {"sha": "f8ea7c8686765a34e04bf39db0babc1906c6fd7b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f8ea7c8686765a34e04bf39db0babc1906c6fd7b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/480570898d36d1d8e29d2adb35bc7eb46b876092", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/480570898d36d1d8e29d2adb35bc7eb46b876092", "html_url": "https://github.com/Rust-GCC/gccrs/commit/480570898d36d1d8e29d2adb35bc7eb46b876092", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/480570898d36d1d8e29d2adb35bc7eb46b876092/comments", "author": null, "committer": null, "parents": [{"sha": "65b25c9b437d4e8135f9b8fc66827c87a93cf71b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65b25c9b437d4e8135f9b8fc66827c87a93cf71b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/65b25c9b437d4e8135f9b8fc66827c87a93cf71b"}], "stats": {"total": 32, "additions": 31, "deletions": 1}, "files": [{"sha": "55bb91b641a8106d4eb7fbc154fbfe78b469c493", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/480570898d36d1d8e29d2adb35bc7eb46b876092/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/480570898d36d1d8e29d2adb35bc7eb46b876092/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=480570898d36d1d8e29d2adb35bc7eb46b876092", "patch": "@@ -1,3 +1,9 @@\n+2016-10-06  Kugan Vivekanandarajah  <kuganv@linaro.org>\n+\n+\tPR tree-optimization/77862\n+\t* tree-vrp.c (add_equivalence): Use get_value_range so that\n+\tnum_vr_values is checked before accessing vr_values.\n+\n 2016-10-06  Kugan Vivekanandarajah  <kuganv@linaro.org>\n \n \t* tree-vrp.c (evrp_dom_walker::before_dom_children): Handle"}, {"sha": "24026c80d47e155d671f55e6ac6e8326061485ba", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/480570898d36d1d8e29d2adb35bc7eb46b876092/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/480570898d36d1d8e29d2adb35bc7eb46b876092/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=480570898d36d1d8e29d2adb35bc7eb46b876092", "patch": "@@ -1,3 +1,8 @@\n+2016-10-06  Kugan Vivekanandarajah  <kuganv@linaro.org>\n+\n+\tPR tree-optimization/77862\n+\t* gcc.dg/pr77862.c: New test.\n+\n 2016-10-06  Kugan Vivekanandarajah  <kuganv@linaro.org>\n \n \t* gcc.dg/tree-ssa/evrp4.c: New test."}, {"sha": "e9096d2fbee40ab9b70a057f525a381f6efd27b6", "filename": "gcc/testsuite/gcc.dg/pr77862.c", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/480570898d36d1d8e29d2adb35bc7eb46b876092/gcc%2Ftestsuite%2Fgcc.dg%2Fpr77862.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/480570898d36d1d8e29d2adb35bc7eb46b876092/gcc%2Ftestsuite%2Fgcc.dg%2Fpr77862.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr77862.c?ref=480570898d36d1d8e29d2adb35bc7eb46b876092", "patch": "@@ -0,0 +1,19 @@\n+\n+/* PR tree-optimization/77862 */\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -fPIC -w\" } */\n+\n+struct paramed_type\n+{\n+};\n+int a;\n+\n+int memcmp ( int*, void *, long );\n+\n+void\n+cur_token (void)\n+{\n+  if ( 1 != a || memcmp ( cur_token, \"\", a ) )\n+    return;\n+  struct paramed_type b = { };\n+}"}, {"sha": "c9ecf3db740f63caad3c72956a239401aab2b284", "filename": "gcc/tree-vrp.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/480570898d36d1d8e29d2adb35bc7eb46b876092/gcc%2Ftree-vrp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/480570898d36d1d8e29d2adb35bc7eb46b876092/gcc%2Ftree-vrp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vrp.c?ref=480570898d36d1d8e29d2adb35bc7eb46b876092", "patch": "@@ -842,7 +842,7 @@ static void\n add_equivalence (bitmap *equiv, const_tree var)\n {\n   unsigned ver = SSA_NAME_VERSION (var);\n-  value_range *vr = vr_value[ver];\n+  value_range *vr = get_value_range (var);\n \n   if (*equiv == NULL)\n     *equiv = BITMAP_ALLOC (&vrp_equiv_obstack);"}]}