{"sha": "5e95b7c76d58d77028b0cf5fd016da5a05d4bd66", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWU5NWI3Yzc2ZDU4ZDc3MDI4YjBjZjVmZDAxNmRhNWEwNWQ0YmQ2Ng==", "commit": {"author": {"name": "Alexandre Oliva", "email": "oliva@dcc.unicamp.br", "date": "1998-10-03T02:51:23Z"}, "committer": {"name": "Alexandre Oliva", "email": "oliva@gcc.gnu.org", "date": "1998-10-03T02:51:23Z"}, "message": "friend34.C: New test...\n\n\t* g++.old-deja/g++.pt/friend34.C: New test; name injection of\n\tfriend template declared within template class conflicts with\n\tnested class of the same name\n\t* g++.old-deja/g++.other/badopt1.C: New test; post-increment\n \tis ignored\n\t* g++.old-deja/g++.other/decl1.C: New test; incorrect parsing of\n\tobject with direct initializer as function declaration\n\t* g++.old-deja/g++.other/decl2.C: New test; duplicate initializers\n\t* g++.old-deja/g++.other/null2.C: New test; conditional operator\n \tinvolving const pointer and NULL produces incorrect result\n\t* g++.old-deja/g++.other/typename1.C: New test; template-dependent\n \ttype name without `typename' should be rejected with -pedantic\n\nFrom-SVN: r22770", "tree": {"sha": "dfd600556905916f6138e0313dbba8f62939ab8b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dfd600556905916f6138e0313dbba8f62939ab8b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5e95b7c76d58d77028b0cf5fd016da5a05d4bd66", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e95b7c76d58d77028b0cf5fd016da5a05d4bd66", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5e95b7c76d58d77028b0cf5fd016da5a05d4bd66", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e95b7c76d58d77028b0cf5fd016da5a05d4bd66/comments", "author": null, "committer": null, "parents": [{"sha": "c30cc19e56bb5b482ce7bddefe90bd6512ad17a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c30cc19e56bb5b482ce7bddefe90bd6512ad17a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c30cc19e56bb5b482ce7bddefe90bd6512ad17a7"}], "stats": {"total": 100, "additions": 100, "deletions": 0}, "files": [{"sha": "eea6d0c466dfd70ce3f539a7626db1984f583a87", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e95b7c76d58d77028b0cf5fd016da5a05d4bd66/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e95b7c76d58d77028b0cf5fd016da5a05d4bd66/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5e95b7c76d58d77028b0cf5fd016da5a05d4bd66", "patch": "@@ -1,3 +1,23 @@\n+1998-10-03  Alexandre Oliva  <oliva@dcc.unicamp.br>\n+\n+\t* g++.old-deja/g++.pt/friend34.C: New test; name injection of\n+\tfriend template declared within template class conflicts with\n+\tnested class of the same name\n+\n+\t* g++.old-deja/g++.other/badopt1.C: New test; post-increment\n+ \tis ignored\n+\n+\t* g++.old-deja/g++.other/decl1.C: New test; incorrect parsing of\n+\tobject with direct initializer as function declaration\n+\n+\t* g++.old-deja/g++.other/decl2.C: New test; duplicate initializers\n+\n+\t* g++.old-deja/g++.other/null2.C: New test; conditional operator\n+ \tinvolving const pointer and NULL produces incorrect result\n+\n+\t* g++.old-deja/g++.other/typename1.C: New test; template-dependent\n+ \ttype name without `typename' should be rejected with -pedantic\n+\n Fri Oct  2 21:55:58 1998  Richard Henderson  <rth@cygnus.com>\n \n \t* g++.old-deja/g++.other/addrof1.C: New test."}, {"sha": "ea8b6844b680ed7ad62d57c1bc09ac6a15ae8fad", "filename": "gcc/testsuite/g++.old-deja/g++.other/badopt1.C", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e95b7c76d58d77028b0cf5fd016da5a05d4bd66/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fbadopt1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e95b7c76d58d77028b0cf5fd016da5a05d4bd66/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fbadopt1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fbadopt1.C?ref=5e95b7c76d58d77028b0cf5fd016da5a05d4bd66", "patch": "@@ -0,0 +1,17 @@\n+// Based on a testcase by Bryan Weston <bryanw@bluemoon.sps.mot.com>\n+// egcs 1.1 fails to increment count\n+\n+// execution test - XFAIL *-*-*\n+\n+#include <cstdlib>\n+\n+struct Base { Base() {} }; // removing the constructor fixes the problem\n+struct Derived : Base {}; // so does removing the base class\n+\n+int main() {\n+  int count = 0;\n+  Derived* array[1]; // making this Base*[1] does not fix the problem\n+  array[count++] = new Derived (); // but then new Base() does\n+  if (count!=1)\n+    std::abort();\n+}"}, {"sha": "7a55ce0cdeb19309965cb943ead022399ba07989", "filename": "gcc/testsuite/g++.old-deja/g++.other/decl1.C", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e95b7c76d58d77028b0cf5fd016da5a05d4bd66/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fdecl1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e95b7c76d58d77028b0cf5fd016da5a05d4bd66/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fdecl1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fdecl1.C?ref=5e95b7c76d58d77028b0cf5fd016da5a05d4bd66", "patch": "@@ -0,0 +1,10 @@\n+// Build don't link:\n+// Based on a test case by Phil Blecker <tmwg@inxservices.com>\n+\n+// excess errors test - XFAIL *-*-*\n+\n+int foo(int);\n+int bar() {\n+  int baz(int(foo(0)));\n+  int foo = baz;\n+}"}, {"sha": "e50a7e75278313c03b1c99947d0409428480d4bc", "filename": "gcc/testsuite/g++.old-deja/g++.other/decl2.C", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e95b7c76d58d77028b0cf5fd016da5a05d4bd66/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fdecl2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e95b7c76d58d77028b0cf5fd016da5a05d4bd66/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fdecl2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fdecl2.C?ref=5e95b7c76d58d77028b0cf5fd016da5a05d4bd66", "patch": "@@ -0,0 +1,7 @@\n+// Build don't link:\n+// Based on a test-case by Maciej Radziejewski <maciejr@iws.uni-stuttgart.de>\n+\n+int i(0)(1); // ERROR - multiple initialization - XCRASH *-*-*\n+int j(2) = 3; // ERROR - multiple initialization\n+int k(4)(5)(6); // ERROR - multiple initialization\n+int m, n(7)(8); // ERROR - multiple initialization"}, {"sha": "4659655ba9a12b1e9ae01ae9b5c03336e4f57eba", "filename": "gcc/testsuite/g++.old-deja/g++.other/null2.C", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e95b7c76d58d77028b0cf5fd016da5a05d4bd66/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fnull2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e95b7c76d58d77028b0cf5fd016da5a05d4bd66/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fnull2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fnull2.C?ref=5e95b7c76d58d77028b0cf5fd016da5a05d4bd66", "patch": "@@ -0,0 +1,14 @@\n+// Based on a testcase by Eric Dumazet <Eric.Dumazet@COSMOSBAY.COM>\n+\n+// execution test - XFAIL *-*-*\n+\n+#include <cstdlib>\n+\n+const char * const foo = \"\"; // foo is not NULL\n+\n+int main() {\n+  if ((foo == 0) ? 0 : foo)  // so this should evaluate to `foo'\n+    return 0;\n+  else\n+    std::abort();\n+}"}, {"sha": "2921b3d3c0253de5c300ee90eef4ff8449f8fa33", "filename": "gcc/testsuite/g++.old-deja/g++.other/typename1.C", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e95b7c76d58d77028b0cf5fd016da5a05d4bd66/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Ftypename1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e95b7c76d58d77028b0cf5fd016da5a05d4bd66/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Ftypename1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Ftypename1.C?ref=5e95b7c76d58d77028b0cf5fd016da5a05d4bd66", "patch": "@@ -0,0 +1,17 @@\n+// This code snippet should be rejected with -pedantic\n+// Based on a test case by Louidor Erez <s3824888@techst02.technion.ac.il>\n+\n+// Build don't link:\n+// Special g++ Options: -pedantic\n+\n+template<class T>\n+class Vector {\n+public:\n+  typedef T* iterator;\n+};\n+\n+template<class T>\n+void f()\n+{\n+  Vector<T>::iterator i = 0; // ERROR - missing typename - XFAIL *-*-*\n+}"}, {"sha": "8ba2c739d30e606806cf30312b805403a3222d93", "filename": "gcc/testsuite/g++.old-deja/g++.pt/friend34.C", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e95b7c76d58d77028b0cf5fd016da5a05d4bd66/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Ffriend34.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e95b7c76d58d77028b0cf5fd016da5a05d4bd66/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Ffriend34.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Ffriend34.C?ref=5e95b7c76d58d77028b0cf5fd016da5a05d4bd66", "patch": "@@ -0,0 +1,15 @@\n+// Build don't link:\n+// excess errors test - XFAIL *-*-*\n+\n+// This testcase won't fail if class ::foo is forward-declared in the\n+// global namespace, nor if class bar is not a template class.\n+\n+template <typename T = void>\n+class bar {\n+public:\n+  friend class foo; // this is not bar::foo, it forward-declares ::foo\n+  class foo {};\n+  bar() { foo(); } // but this should refer to bar::foo\n+};\n+\n+bar<> baz;"}]}