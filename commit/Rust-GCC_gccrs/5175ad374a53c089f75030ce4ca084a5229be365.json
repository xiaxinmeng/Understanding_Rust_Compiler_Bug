{"sha": "5175ad374a53c089f75030ce4ca084a5229be365", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTE3NWFkMzc0YTUzYzA4OWY3NTAzMGNlNGNhMDg0YTUyMjliZTM2NQ==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1993-07-02T02:51:57Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1993-07-02T02:51:57Z"}, "message": "(find_auto_inc): In *p=expr;q=p+size case, avoid clobbering q if referenced in expr.\n\n* (find_auto_inc): In *p=expr;q=p+size case, avoid clobbering q\nif referenced in expr.\n\nFrom-SVN: r4830", "tree": {"sha": "0f70b8354074b8c9d330e0119b560a77aee567fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0f70b8354074b8c9d330e0119b560a77aee567fe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5175ad374a53c089f75030ce4ca084a5229be365", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5175ad374a53c089f75030ce4ca084a5229be365", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5175ad374a53c089f75030ce4ca084a5229be365", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5175ad374a53c089f75030ce4ca084a5229be365/comments", "author": null, "committer": null, "parents": [{"sha": "f52fba8493b7b300c46909b6cf5b2b9ba8fd0472", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f52fba8493b7b300c46909b6cf5b2b9ba8fd0472", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f52fba8493b7b300c46909b6cf5b2b9ba8fd0472"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "8d4fc6c337b431f4f09e8d1650cc5fbb59cecb5f", "filename": "gcc/flow.c", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5175ad374a53c089f75030ce4ca084a5229be365/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5175ad374a53c089f75030ce4ca084a5229be365/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=5175ad374a53c089f75030ce4ca084a5229be365", "patch": "@@ -1989,11 +1989,14 @@ find_auto_inc (needed, x, insn)\n \n \t  if (dead_or_set_p (incr, addr))\n \t    win = 1;\n-\t  else if (GET_CODE (q) == REG && ! reg_used_between_p (q, insn, incr))\n+\t  else if (GET_CODE (q) == REG\n+\t\t   /* PREV_INSN used here to check the semi-open interval\n+\t\t      [insn,incr).  */\n+\t\t   && ! reg_used_between_p (q,  PREV_INSN (insn), incr))\n \t    {\n-\t      /* We have *p followed by q = p+size.\n+\t      /* We have *p followed sometime later by q = p+size.\n \t\t Both p and q must be live afterward,\n-\t\t and q must be dead before.\n+\t\t and q is not used between INSN and it's assignment.\n \t\t Change it to q = p, ...*q..., q = q+size.\n \t\t Then fall into the usual case.  */\n \t      rtx insns, temp;"}]}