{"sha": "7de9cc38c319240807a7942d7cbd1b0c1933a766", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2RlOWNjMzhjMzE5MjQwODA3YTc5NDJkN2NiZDFiMGMxOTMzYTc2Ng==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2000-07-07T14:29:03Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2000-07-07T14:29:03Z"}, "message": "system.h (UNION_INIT_ZERO): New macro for initializing union members in structs.\n\n\t* system.h (UNION_INIT_ZERO): New macro for initializing union\n\tmembers in structs.\n\n\t* cpplex.c (placemarker_token, eof_token): Use UNION_INIT_ZERO.\n\nFrom-SVN: r34904", "tree": {"sha": "d9356d2f4ae40764d3e91f80189ed3959eb51f8e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d9356d2f4ae40764d3e91f80189ed3959eb51f8e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7de9cc38c319240807a7942d7cbd1b0c1933a766", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7de9cc38c319240807a7942d7cbd1b0c1933a766", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7de9cc38c319240807a7942d7cbd1b0c1933a766", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7de9cc38c319240807a7942d7cbd1b0c1933a766/comments", "author": null, "committer": null, "parents": [{"sha": "d199cba40a43c0a7f6487ebbbe00899b15b45380", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d199cba40a43c0a7f6487ebbbe00899b15b45380", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d199cba40a43c0a7f6487ebbbe00899b15b45380"}], "stats": {"total": 21, "additions": 19, "deletions": 2}, "files": [{"sha": "bac2fdc1ee249b9b8f6aa52dbaa4e97e25950d9d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7de9cc38c319240807a7942d7cbd1b0c1933a766/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7de9cc38c319240807a7942d7cbd1b0c1933a766/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7de9cc38c319240807a7942d7cbd1b0c1933a766", "patch": "@@ -1,3 +1,10 @@\n+2000-07-07  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* system.h (UNION_INIT_ZERO): New macro for initializing union\n+\tmembers in structs.\n+\n+\t* cpplex.c (placemarker_token, eof_token): Use UNION_INIT_ZERO.\n+\n 2000-07-07  Neil Booth  <NeilB@earthling.net>\n \n \t* cpp.texi: Update."}, {"sha": "24e4712d561f28a4ce4ed863ef059b4071b1497d", "filename": "gcc/cpplex.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7de9cc38c319240807a7942d7cbd1b0c1933a766/gcc%2Fcpplex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7de9cc38c319240807a7942d7cbd1b0c1933a766/gcc%2Fcpplex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcpplex.c?ref=7de9cc38c319240807a7942d7cbd1b0c1933a766", "patch": "@@ -1935,8 +1935,8 @@ spell_token (pfile, token, buffer)\n \n /* Macro expansion algorithm.  TODO.  */\n \n-static const cpp_token placemarker_token = {0, 0, CPP_PLACEMARKER, 0, {0}};\n-static const cpp_token eof_token = {0, 0, CPP_EOF, 0, {0}};\n+static const cpp_token placemarker_token = {0, 0, CPP_PLACEMARKER, 0 UNION_INIT_ZERO};\n+static const cpp_token eof_token = {0, 0, CPP_EOF, 0 UNION_INIT_ZERO};\n \n #define IS_ARG_CONTEXT(c) ((c)->flags & CONTEXT_ARG)\n #define CURRENT_CONTEXT(pfile) ((pfile)->contexts + (pfile)->cur_context)"}, {"sha": "d5fb4d231856db6e5626f4df2c2a7cd0d3c2c6f6", "filename": "gcc/system.h", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7de9cc38c319240807a7942d7cbd1b0c1933a766/gcc%2Fsystem.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7de9cc38c319240807a7942d7cbd1b0c1933a766/gcc%2Fsystem.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsystem.h?ref=7de9cc38c319240807a7942d7cbd1b0c1933a766", "patch": "@@ -600,4 +600,14 @@ extern void abort PARAMS ((void));\n #define offsetof(TYPE, MEMBER)\t((size_t) &((TYPE *)0)->MEMBER)\n #endif\n \n+/* Traditional C cannot initialize union members of structs.  Provide\n+   a macro which expands appropriately to handle it.  This only works\n+   if you intend to initalize the union member to zero since it relies\n+   on default initialization to zero in the traditional C case.  */\n+#ifdef __STDC__\n+#define UNION_INIT_ZERO , {0}\n+#else\n+#define UNION_INIT_ZERO\n+#endif\n+\n #endif /* __GCC_SYSTEM_H__ */"}]}