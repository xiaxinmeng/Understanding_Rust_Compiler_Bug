{"sha": "62a37b6f4d5414c26ff36ca46716ee33496fd9db", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjJhMzdiNmY0ZDU0MTRjMjZmZjM2Y2E0NjcxNmVlMzM0OTZmZDlkYg==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@axis.com", "date": "2000-07-10T22:37:54Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2000-07-10T22:37:54Z"}, "message": "inclhack.def (libc1_ifdefd_memx): New fix.\n\n\t* fixinc/inclhack.def (libc1_ifdefd_memx): New fix.\n\t* fixinc/fixincl.x: Regenerate.\n\t* fixinc/tests/base/testing.h: Add testcase.\n\nCo-Authored-By: Bruce Korb <bkorb@gnu.org>\n\nFrom-SVN: r34950", "tree": {"sha": "4d245946f489a5ad590f9f3a001f430f1835c1a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4d245946f489a5ad590f9f3a001f430f1835c1a9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/62a37b6f4d5414c26ff36ca46716ee33496fd9db", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62a37b6f4d5414c26ff36ca46716ee33496fd9db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/62a37b6f4d5414c26ff36ca46716ee33496fd9db", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62a37b6f4d5414c26ff36ca46716ee33496fd9db/comments", "author": {"login": "hpataxisdotcom", "id": 80339731, "node_id": "MDQ6VXNlcjgwMzM5NzMx", "avatar_url": "https://avatars.githubusercontent.com/u/80339731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hpataxisdotcom", "html_url": "https://github.com/hpataxisdotcom", "followers_url": "https://api.github.com/users/hpataxisdotcom/followers", "following_url": "https://api.github.com/users/hpataxisdotcom/following{/other_user}", "gists_url": "https://api.github.com/users/hpataxisdotcom/gists{/gist_id}", "starred_url": "https://api.github.com/users/hpataxisdotcom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hpataxisdotcom/subscriptions", "organizations_url": "https://api.github.com/users/hpataxisdotcom/orgs", "repos_url": "https://api.github.com/users/hpataxisdotcom/repos", "events_url": "https://api.github.com/users/hpataxisdotcom/events{/privacy}", "received_events_url": "https://api.github.com/users/hpataxisdotcom/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ad66df7aa0d0d71c20d634b92b1c0e4c04640351", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad66df7aa0d0d71c20d634b92b1c0e4c04640351", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ad66df7aa0d0d71c20d634b92b1c0e4c04640351"}], "stats": {"total": 258, "additions": 179, "deletions": 79}, "files": [{"sha": "9c94d30a9f73158aa3d6527385f94198fe8e6d8b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62a37b6f4d5414c26ff36ca46716ee33496fd9db/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62a37b6f4d5414c26ff36ca46716ee33496fd9db/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=62a37b6f4d5414c26ff36ca46716ee33496fd9db", "patch": "@@ -1,3 +1,10 @@\n+2000-07-04  Hans-Peter Nilsson  <hp@axis.com>\n+\t    Bruce Korb  <bkorb@gnu.org>\n+\n+\t* fixinc/inclhack.def (libc1_ifdefd_memx): New fix.\n+\t* fixinc/fixincl.x: Regenerate.\n+\t* fixinc/tests/base/testing.h: Add testcase.\n+\n 2000-07-10  Richard Henderson  <rth@cygnus.com>\n \n \t* config/ia64/ia64.c (got_symbolic_operand): New."}, {"sha": "2c2b216d017c57f47efe55dcdf5161545b106809", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 132, "deletions": 79, "changes": 211, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62a37b6f4d5414c26ff36ca46716ee33496fd9db/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62a37b6f4d5414c26ff36ca46716ee33496fd9db/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=62a37b6f4d5414c26ff36ca46716ee33496fd9db", "patch": "@@ -5,7 +5,7 @@\n  * files which are fixed to work correctly with ANSI C and placed in a\n  * directory that GNU C will search.\n  *\n- * This file contains 130 fixup descriptions.\n+ * This file contains 131 fixup descriptions.\n  *\n  * See README-fixinc for more information.\n  *\n@@ -2255,11 +2255,59 @@ const char* apzKandr_ConcatPatch[] = {\n     \"##\",\n     (char*)NULL };\n \n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Libc1_Ifdefd_Memx fix\n+ */\n+#define LIBC1_IFDEFD_MEMX_FIXIDX         54\n+tSCC zLibc1_Ifdefd_MemxName[] =\n+     \"libc1_ifdefd_memx\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zLibc1_Ifdefd_MemxList[] =\n+  \"|testing.h|string.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+#define apzLibc1_Ifdefd_MemxMachs (const char**)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zLibc1_Ifdefd_MemxSelect0[] =\n+       \"' is a built-in function for gcc 2\\\\.x\\\\. \\\\*/\";\n+\n+/*\n+ *  content bypass pattern - skip fix if pattern found\n+ */\n+tSCC zLibc1_Ifdefd_MemxBypass0[] =\n+       \"__cplusplus\";\n+\n+#define    LIBC1_IFDEFD_MEMX_TEST_CT  2\n+tTestDesc aLibc1_Ifdefd_MemxTests[] = {\n+  { TT_NEGREP,   zLibc1_Ifdefd_MemxBypass0, (regex_t*)NULL },\n+  { TT_EGREP,    zLibc1_Ifdefd_MemxSelect0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Libc1_Ifdefd_Memx\n+ */\n+const char* apzLibc1_Ifdefd_MemxPatch[] = {\n+    \"format\",\n+    \"%1 || defined(__cplusplus)\\n\\\n+%2\",\n+    \"/\\\\* `mem...' is a built-in function for gcc 2\\\\.x\\\\. \\\\*/\\n\\\n+(#if defined\\\\(__STDC__\\\\) && __GNUC__ < 2)\\n\\\n+(/\\\\* .* \\\\*/\\n\\\n+extern [a-z_]+ mem)\",\n+    (char*)NULL };\n+\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Limits_Ifndefs fix\n  */\n-#define LIMITS_IFNDEFS_FIXIDX            54\n+#define LIMITS_IFNDEFS_FIXIDX            55\n tSCC zLimits_IfndefsName[] =\n      \"limits_ifndefs\";\n \n@@ -2298,7 +2346,7 @@ const char* apzLimits_IfndefsPatch[] = {\n  *\n  *  Description of Lynx_Void_Int fix\n  */\n-#define LYNX_VOID_INT_FIXIDX             55\n+#define LYNX_VOID_INT_FIXIDX             56\n tSCC zLynx_Void_IntName[] =\n      \"lynx_void_int\";\n \n@@ -2334,7 +2382,7 @@ const char* apzLynx_Void_IntPatch[] = {\n  *\n  *  Description of Lynxos_Fcntl_Proto fix\n  */\n-#define LYNXOS_FCNTL_PROTO_FIXIDX        56\n+#define LYNXOS_FCNTL_PROTO_FIXIDX        57\n tSCC zLynxos_Fcntl_ProtoName[] =\n      \"lynxos_fcntl_proto\";\n \n@@ -2371,7 +2419,7 @@ const char* apzLynxos_Fcntl_ProtoPatch[] = {\n  *\n  *  Description of M88k_Bad_Hypot_Opt fix\n  */\n-#define M88K_BAD_HYPOT_OPT_FIXIDX        57\n+#define M88K_BAD_HYPOT_OPT_FIXIDX        58\n tSCC zM88k_Bad_Hypot_OptName[] =\n      \"m88k_bad_hypot_opt\";\n \n@@ -2420,7 +2468,7 @@ static __inline__ double fake_hypot (x, y)\\n\\\n  *\n  *  Description of M88k_Bad_S_If fix\n  */\n-#define M88K_BAD_S_IF_FIXIDX             58\n+#define M88K_BAD_S_IF_FIXIDX             59\n tSCC zM88k_Bad_S_IfName[] =\n      \"m88k_bad_s_if\";\n \n@@ -2459,7 +2507,7 @@ const char* apzM88k_Bad_S_IfPatch[] = {\n  *\n  *  Description of M88k_Multi_Incl fix\n  */\n-#define M88K_MULTI_INCL_FIXIDX           59\n+#define M88K_MULTI_INCL_FIXIDX           60\n tSCC zM88k_Multi_InclName[] =\n      \"m88k_multi_incl\";\n \n@@ -2496,7 +2544,7 @@ const char* apzM88k_Multi_InclPatch[] = {\n  *\n  *  Description of Machine_Ansi_H_Va_List fix\n  */\n-#define MACHINE_ANSI_H_VA_LIST_FIXIDX    60\n+#define MACHINE_ANSI_H_VA_LIST_FIXIDX    61\n tSCC zMachine_Ansi_H_Va_ListName[] =\n      \"machine_ansi_h_va_list\";\n \n@@ -2540,7 +2588,7 @@ const char* apzMachine_Ansi_H_Va_ListPatch[] = {\n  *\n  *  Description of Machine_Name fix\n  */\n-#define MACHINE_NAME_FIXIDX              61\n+#define MACHINE_NAME_FIXIDX              62\n tSCC zMachine_NameName[] =\n      \"machine_name\";\n \n@@ -2573,7 +2621,7 @@ const char* apzMachine_NamePatch[] = {\n  *\n  *  Description of Math_Exception fix\n  */\n-#define MATH_EXCEPTION_FIXIDX            62\n+#define MATH_EXCEPTION_FIXIDX            63\n tSCC zMath_ExceptionName[] =\n      \"math_exception\";\n \n@@ -2621,7 +2669,7 @@ const char* apzMath_ExceptionPatch[] = {\n  *\n  *  Description of Math_Huge_Val_From_Dbl_Max fix\n  */\n-#define MATH_HUGE_VAL_FROM_DBL_MAX_FIXIDX 63\n+#define MATH_HUGE_VAL_FROM_DBL_MAX_FIXIDX 64\n tSCC zMath_Huge_Val_From_Dbl_MaxName[] =\n      \"math_huge_val_from_dbl_max\";\n \n@@ -2668,7 +2716,7 @@ const char* apzMath_Huge_Val_From_Dbl_MaxPatch[] = { \"sh\", \"-c\",\n  *\n  *  Description of Math_Huge_Val_Ifndef fix\n  */\n-#define MATH_HUGE_VAL_IFNDEF_FIXIDX      64\n+#define MATH_HUGE_VAL_IFNDEF_FIXIDX      65\n tSCC zMath_Huge_Val_IfndefName[] =\n      \"math_huge_val_ifndef\";\n \n@@ -2707,7 +2755,7 @@ const char* apzMath_Huge_Val_IfndefPatch[] = {\n  *\n  *  Description of Nested_Motorola fix\n  */\n-#define NESTED_MOTOROLA_FIXIDX           65\n+#define NESTED_MOTOROLA_FIXIDX           66\n tSCC zNested_MotorolaName[] =\n      \"nested_motorola\";\n \n@@ -2737,7 +2785,7 @@ const char* apzNested_MotorolaPatch[] = { \"sed\",\n  *\n  *  Description of Nested_Sys_Limits fix\n  */\n-#define NESTED_SYS_LIMITS_FIXIDX         66\n+#define NESTED_SYS_LIMITS_FIXIDX         67\n tSCC zNested_Sys_LimitsName[] =\n      \"nested_sys_limits\";\n \n@@ -2773,7 +2821,7 @@ const char* apzNested_Sys_LimitsPatch[] = { \"sed\",\n  *\n  *  Description of Nested_Auth_Des fix\n  */\n-#define NESTED_AUTH_DES_FIXIDX           67\n+#define NESTED_AUTH_DES_FIXIDX           68\n tSCC zNested_Auth_DesName[] =\n      \"nested_auth_des\";\n \n@@ -2809,7 +2857,7 @@ const char* apzNested_Auth_DesPatch[] = {\n  *\n  *  Description of News_Os_Recursion fix\n  */\n-#define NEWS_OS_RECURSION_FIXIDX         68\n+#define NEWS_OS_RECURSION_FIXIDX         69\n tSCC zNews_Os_RecursionName[] =\n      \"news_os_recursion\";\n \n@@ -2847,7 +2895,7 @@ const char* apzNews_Os_RecursionPatch[] = {\n  *\n  *  Description of Next_Math_Prefix fix\n  */\n-#define NEXT_MATH_PREFIX_FIXIDX          69\n+#define NEXT_MATH_PREFIX_FIXIDX          70\n tSCC zNext_Math_PrefixName[] =\n      \"next_math_prefix\";\n \n@@ -2884,7 +2932,7 @@ const char* apzNext_Math_PrefixPatch[] = {\n  *\n  *  Description of Next_Template fix\n  */\n-#define NEXT_TEMPLATE_FIXIDX             70\n+#define NEXT_TEMPLATE_FIXIDX             71\n tSCC zNext_TemplateName[] =\n      \"next_template\";\n \n@@ -2921,7 +2969,7 @@ const char* apzNext_TemplatePatch[] = {\n  *\n  *  Description of Next_Volitile fix\n  */\n-#define NEXT_VOLITILE_FIXIDX             71\n+#define NEXT_VOLITILE_FIXIDX             72\n tSCC zNext_VolitileName[] =\n      \"next_volitile\";\n \n@@ -2958,7 +3006,7 @@ const char* apzNext_VolitilePatch[] = {\n  *\n  *  Description of Next_Wait_Union fix\n  */\n-#define NEXT_WAIT_UNION_FIXIDX           72\n+#define NEXT_WAIT_UNION_FIXIDX           73\n tSCC zNext_Wait_UnionName[] =\n      \"next_wait_union\";\n \n@@ -2994,7 +3042,7 @@ const char* apzNext_Wait_UnionPatch[] = {\n  *\n  *  Description of Nodeent_Syntax fix\n  */\n-#define NODEENT_SYNTAX_FIXIDX            73\n+#define NODEENT_SYNTAX_FIXIDX            74\n tSCC zNodeent_SyntaxName[] =\n      \"nodeent_syntax\";\n \n@@ -3030,7 +3078,7 @@ const char* apzNodeent_SyntaxPatch[] = {\n  *\n  *  Description of Osf_Namespace_A fix\n  */\n-#define OSF_NAMESPACE_A_FIXIDX           74\n+#define OSF_NAMESPACE_A_FIXIDX           75\n tSCC zOsf_Namespace_AName[] =\n      \"osf_namespace_a\";\n \n@@ -3076,7 +3124,7 @@ const char* apzOsf_Namespace_APatch[] = {\n  *\n  *  Description of Osf_Namespace_C fix\n  */\n-#define OSF_NAMESPACE_C_FIXIDX           75\n+#define OSF_NAMESPACE_C_FIXIDX           76\n tSCC zOsf_Namespace_CName[] =\n      \"osf_namespace_c\";\n \n@@ -3131,7 +3179,7 @@ typedef __regmatch_t\\tregmatch_t;\",\n  *\n  *  Description of Pthread_Page_Size fix\n  */\n-#define PTHREAD_PAGE_SIZE_FIXIDX         76\n+#define PTHREAD_PAGE_SIZE_FIXIDX         77\n tSCC zPthread_Page_SizeName[] =\n      \"pthread_page_size\";\n \n@@ -3167,7 +3215,7 @@ const char* apzPthread_Page_SizePatch[] = {\n  *\n  *  Description of Read_Ret_Type fix\n  */\n-#define READ_RET_TYPE_FIXIDX             77\n+#define READ_RET_TYPE_FIXIDX             78\n tSCC zRead_Ret_TypeName[] =\n      \"read_ret_type\";\n \n@@ -3205,7 +3253,7 @@ const char* apzRead_Ret_TypePatch[] = {\n  *\n  *  Description of Rs6000_Double fix\n  */\n-#define RS6000_DOUBLE_FIXIDX             78\n+#define RS6000_DOUBLE_FIXIDX             79\n tSCC zRs6000_DoubleName[] =\n      \"rs6000_double\";\n \n@@ -3244,7 +3292,7 @@ const char* apzRs6000_DoublePatch[] = {\n  *\n  *  Description of Rs6000_Fchmod fix\n  */\n-#define RS6000_FCHMOD_FIXIDX             79\n+#define RS6000_FCHMOD_FIXIDX             80\n tSCC zRs6000_FchmodName[] =\n      \"rs6000_fchmod\";\n \n@@ -3280,7 +3328,7 @@ const char* apzRs6000_FchmodPatch[] = {\n  *\n  *  Description of Rs6000_Param fix\n  */\n-#define RS6000_PARAM_FIXIDX              80\n+#define RS6000_PARAM_FIXIDX              81\n tSCC zRs6000_ParamName[] =\n      \"rs6000_param\";\n \n@@ -3316,7 +3364,7 @@ const char* apzRs6000_ParamPatch[] = {\n  *\n  *  Description of Sco_Static_Func fix\n  */\n-#define SCO_STATIC_FUNC_FIXIDX           81\n+#define SCO_STATIC_FUNC_FIXIDX           82\n tSCC zSco_Static_FuncName[] =\n      \"sco_static_func\";\n \n@@ -3360,7 +3408,7 @@ extern \\\"C\\\" {\\\\\\n\\\n  *\n  *  Description of Sco_Strict_Ansi fix\n  */\n-#define SCO_STRICT_ANSI_FIXIDX           82\n+#define SCO_STRICT_ANSI_FIXIDX           83\n tSCC zSco_Strict_AnsiName[] =\n      \"sco_strict_ansi\";\n \n@@ -3398,7 +3446,7 @@ const char* apzSco_Strict_AnsiPatch[] = {\n  *\n  *  Description of Sco_Utime fix\n  */\n-#define SCO_UTIME_FIXIDX                 83\n+#define SCO_UTIME_FIXIDX                 84\n tSCC zSco_UtimeName[] =\n      \"sco_utime\";\n \n@@ -3436,7 +3484,7 @@ const char* apzSco_UtimePatch[] = {\n  *\n  *  Description of Sony_Include fix\n  */\n-#define SONY_INCLUDE_FIXIDX              84\n+#define SONY_INCLUDE_FIXIDX              85\n tSCC zSony_IncludeName[] =\n      \"sony_include\";\n \n@@ -3471,7 +3519,7 @@ const char* apzSony_IncludePatch[] = { \"sed\",\n  *\n  *  Description of Statsswtch fix\n  */\n-#define STATSSWTCH_FIXIDX                85\n+#define STATSSWTCH_FIXIDX                86\n tSCC zStatsswtchName[] =\n      \"statsswtch\";\n \n@@ -3507,7 +3555,7 @@ const char* apzStatsswtchPatch[] = {\n  *\n  *  Description of Stdio_Stdarg_H fix\n  */\n-#define STDIO_STDARG_H_FIXIDX            86\n+#define STDIO_STDARG_H_FIXIDX            87\n tSCC zStdio_Stdarg_HName[] =\n      \"stdio_stdarg_h\";\n \n@@ -3544,7 +3592,7 @@ const char* apzStdio_Stdarg_HPatch[] = {\n  *\n  *  Description of Stdio_Va_List fix\n  */\n-#define STDIO_VA_LIST_FIXIDX             87\n+#define STDIO_VA_LIST_FIXIDX             88\n tSCC zStdio_Va_ListName[] =\n      \"stdio_va_list\";\n \n@@ -3589,7 +3637,7 @@ s@_Va_LIST@_VA_LIST@\",\n  *\n  *  Description of Struct_File fix\n  */\n-#define STRUCT_FILE_FIXIDX               88\n+#define STRUCT_FILE_FIXIDX               89\n tSCC zStruct_FileName[] =\n      \"struct_file\";\n \n@@ -3626,7 +3674,7 @@ const char* apzStruct_FilePatch[] = {\n  *\n  *  Description of Struct_Sockaddr fix\n  */\n-#define STRUCT_SOCKADDR_FIXIDX           89\n+#define STRUCT_SOCKADDR_FIXIDX           90\n tSCC zStruct_SockaddrName[] =\n      \"struct_sockaddr\";\n \n@@ -3670,7 +3718,7 @@ const char* apzStruct_SockaddrPatch[] = {\n  *\n  *  Description of Sun_Auth_Proto fix\n  */\n-#define SUN_AUTH_PROTO_FIXIDX            90\n+#define SUN_AUTH_PROTO_FIXIDX            91\n tSCC zSun_Auth_ProtoName[] =\n      \"sun_auth_proto\";\n \n@@ -3711,7 +3759,7 @@ const char* apzSun_Auth_ProtoPatch[] = {\n  *\n  *  Description of Sun_Bogus_Ifdef fix\n  */\n-#define SUN_BOGUS_IFDEF_FIXIDX           91\n+#define SUN_BOGUS_IFDEF_FIXIDX           92\n tSCC zSun_Bogus_IfdefName[] =\n      \"sun_bogus_ifdef\";\n \n@@ -3747,7 +3795,7 @@ const char* apzSun_Bogus_IfdefPatch[] = {\n  *\n  *  Description of Sun_Catmacro fix\n  */\n-#define SUN_CATMACRO_FIXIDX              92\n+#define SUN_CATMACRO_FIXIDX              93\n tSCC zSun_CatmacroName[] =\n      \"sun_catmacro\";\n \n@@ -3787,7 +3835,7 @@ const char* apzSun_CatmacroPatch[] = {\n  *\n  *  Description of Sun_Malloc fix\n  */\n-#define SUN_MALLOC_FIXIDX                93\n+#define SUN_MALLOC_FIXIDX                94\n tSCC zSun_MallocName[] =\n      \"sun_malloc\";\n \n@@ -3818,7 +3866,7 @@ const char* apzSun_MallocPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Rusers_Semi fix\n  */\n-#define SUN_RUSERS_SEMI_FIXIDX           94\n+#define SUN_RUSERS_SEMI_FIXIDX           95\n tSCC zSun_Rusers_SemiName[] =\n      \"sun_rusers_semi\";\n \n@@ -3853,7 +3901,7 @@ const char* apzSun_Rusers_SemiPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Signal fix\n  */\n-#define SUN_SIGNAL_FIXIDX                95\n+#define SUN_SIGNAL_FIXIDX                96\n tSCC zSun_SignalName[] =\n      \"sun_signal\";\n \n@@ -3893,7 +3941,7 @@ void\\t(*signal(...))(...);\\n\\\n  *\n  *  Description of Sunos_Matherr_Decl fix\n  */\n-#define SUNOS_MATHERR_DECL_FIXIDX        96\n+#define SUNOS_MATHERR_DECL_FIXIDX        97\n tSCC zSunos_Matherr_DeclName[] =\n      \"sunos_matherr_decl\";\n \n@@ -3936,7 +3984,7 @@ const char* apzSunos_Matherr_DeclPatch[] = {\n  *\n  *  Description of Sunos_Strlen fix\n  */\n-#define SUNOS_STRLEN_FIXIDX              97\n+#define SUNOS_STRLEN_FIXIDX              98\n tSCC zSunos_StrlenName[] =\n      \"sunos_strlen\";\n \n@@ -3972,7 +4020,7 @@ const char* apzSunos_StrlenPatch[] = {\n  *\n  *  Description of Svr4__P fix\n  */\n-#define SVR4__P_FIXIDX                   98\n+#define SVR4__P_FIXIDX                   99\n tSCC zSvr4__PName[] =\n      \"svr4__p\";\n \n@@ -4010,7 +4058,7 @@ const char* apzSvr4__PPatch[] = {\n  *\n  *  Description of Svr4_Getcwd fix\n  */\n-#define SVR4_GETCWD_FIXIDX               99\n+#define SVR4_GETCWD_FIXIDX               100\n tSCC zSvr4_GetcwdName[] =\n      \"svr4_getcwd\";\n \n@@ -4046,7 +4094,7 @@ const char* apzSvr4_GetcwdPatch[] = {\n  *\n  *  Description of Svr4_Profil fix\n  */\n-#define SVR4_PROFIL_FIXIDX               100\n+#define SVR4_PROFIL_FIXIDX               101\n tSCC zSvr4_ProfilName[] =\n      \"svr4_profil\";\n \n@@ -4082,7 +4130,7 @@ const char* apzSvr4_ProfilPatch[] = {\n  *\n  *  Description of Systypes fix\n  */\n-#define SYSTYPES_FIXIDX                  101\n+#define SYSTYPES_FIXIDX                  102\n tSCC zSystypesName[] =\n      \"systypes\";\n \n@@ -4141,7 +4189,7 @@ typedef __SIZE_TYPE__ size_t;\\\\\\n\\\n  *\n  *  Description of Systypes_Stdlib_Size_T fix\n  */\n-#define SYSTYPES_STDLIB_SIZE_T_FIXIDX    102\n+#define SYSTYPES_STDLIB_SIZE_T_FIXIDX    103\n tSCC zSystypes_Stdlib_Size_TName[] =\n      \"systypes_stdlib_size_t\";\n \n@@ -4187,7 +4235,7 @@ const char* apzSystypes_Stdlib_Size_TPatch[] = {\n  *\n  *  Description of Sysv68_String fix\n  */\n-#define SYSV68_STRING_FIXIDX             103\n+#define SYSV68_STRING_FIXIDX             104\n tSCC zSysv68_StringName[] =\n      \"sysv68_string\";\n \n@@ -4224,7 +4272,7 @@ extern unsigned int\\\\\\n\\\n  *\n  *  Description of Sysz_Stdlib_For_Sun fix\n  */\n-#define SYSZ_STDLIB_FOR_SUN_FIXIDX       104\n+#define SYSZ_STDLIB_FOR_SUN_FIXIDX       105\n tSCC zSysz_Stdlib_For_SunName[] =\n      \"sysz_stdlib_for_sun\";\n \n@@ -4260,7 +4308,7 @@ const char* apzSysz_Stdlib_For_SunPatch[] = {\n  *\n  *  Description of Sysz_Stdtypes_For_Sun fix\n  */\n-#define SYSZ_STDTYPES_FOR_SUN_FIXIDX     105\n+#define SYSZ_STDTYPES_FOR_SUN_FIXIDX     106\n tSCC zSysz_Stdtypes_For_SunName[] =\n      \"sysz_stdtypes_for_sun\";\n \n@@ -4301,7 +4349,7 @@ const char* apzSysz_Stdtypes_For_SunPatch[] = { \"sed\",\n  *\n  *  Description of Tinfo_Cplusplus fix\n  */\n-#define TINFO_CPLUSPLUS_FIXIDX           106\n+#define TINFO_CPLUSPLUS_FIXIDX           107\n tSCC zTinfo_CplusplusName[] =\n      \"tinfo_cplusplus\";\n \n@@ -4337,7 +4385,7 @@ const char* apzTinfo_CplusplusPatch[] = {\n  *\n  *  Description of Ultrix_Atof_Param fix\n  */\n-#define ULTRIX_ATOF_PARAM_FIXIDX         107\n+#define ULTRIX_ATOF_PARAM_FIXIDX         108\n tSCC zUltrix_Atof_ParamName[] =\n      \"ultrix_atof_param\";\n \n@@ -4373,7 +4421,7 @@ const char* apzUltrix_Atof_ParamPatch[] = {\n  *\n  *  Description of Ultrix_Const fix\n  */\n-#define ULTRIX_CONST_FIXIDX              108\n+#define ULTRIX_CONST_FIXIDX              109\n tSCC zUltrix_ConstName[] =\n      \"ultrix_const\";\n \n@@ -4410,7 +4458,7 @@ const char* apzUltrix_ConstPatch[] = {\n  *\n  *  Description of Ultrix_Const2 fix\n  */\n-#define ULTRIX_CONST2_FIXIDX             109\n+#define ULTRIX_CONST2_FIXIDX             110\n tSCC zUltrix_Const2Name[] =\n      \"ultrix_const2\";\n \n@@ -4447,7 +4495,7 @@ const char* apzUltrix_Const2Patch[] = {\n  *\n  *  Description of Ultrix_Fix_Fixproto fix\n  */\n-#define ULTRIX_FIX_FIXPROTO_FIXIDX       110\n+#define ULTRIX_FIX_FIXPROTO_FIXIDX       111\n tSCC zUltrix_Fix_FixprotoName[] =\n      \"ultrix_fix_fixproto\";\n \n@@ -4485,7 +4533,7 @@ const char* apzUltrix_Fix_FixprotoPatch[] = {\n  *\n  *  Description of Ultrix_Ifdef fix\n  */\n-#define ULTRIX_IFDEF_FIXIDX              111\n+#define ULTRIX_IFDEF_FIXIDX              112\n tSCC zUltrix_IfdefName[] =\n      \"ultrix_ifdef\";\n \n@@ -4521,7 +4569,7 @@ const char* apzUltrix_IfdefPatch[] = {\n  *\n  *  Description of Ultrix_Math_Ifdef fix\n  */\n-#define ULTRIX_MATH_IFDEF_FIXIDX         112\n+#define ULTRIX_MATH_IFDEF_FIXIDX         113\n tSCC zUltrix_Math_IfdefName[] =\n      \"ultrix_math_ifdef\";\n \n@@ -4557,7 +4605,7 @@ const char* apzUltrix_Math_IfdefPatch[] = {\n  *\n  *  Description of Ultrix_Nested_Ioctl fix\n  */\n-#define ULTRIX_NESTED_IOCTL_FIXIDX       113\n+#define ULTRIX_NESTED_IOCTL_FIXIDX       114\n tSCC zUltrix_Nested_IoctlName[] =\n      \"ultrix_nested_ioctl\";\n \n@@ -4592,7 +4640,7 @@ const char* apzUltrix_Nested_IoctlPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Nested_Svc fix\n  */\n-#define ULTRIX_NESTED_SVC_FIXIDX         114\n+#define ULTRIX_NESTED_SVC_FIXIDX         115\n tSCC zUltrix_Nested_SvcName[] =\n      \"ultrix_nested_svc\";\n \n@@ -4627,7 +4675,7 @@ const char* apzUltrix_Nested_SvcPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Stat fix\n  */\n-#define ULTRIX_STAT_FIXIDX               115\n+#define ULTRIX_STAT_FIXIDX               116\n tSCC zUltrix_StatName[] =\n      \"ultrix_stat\";\n \n@@ -4668,7 +4716,7 @@ const char* apzUltrix_StatPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Static fix\n  */\n-#define ULTRIX_STATIC_FIXIDX             116\n+#define ULTRIX_STATIC_FIXIDX             117\n tSCC zUltrix_StaticName[] =\n      \"ultrix_static\";\n \n@@ -4705,7 +4753,7 @@ const char* apzUltrix_StaticPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Strings fix\n  */\n-#define ULTRIX_STRINGS_FIXIDX            117\n+#define ULTRIX_STRINGS_FIXIDX            118\n tSCC zUltrix_StringsName[] =\n      \"ultrix_strings\";\n \n@@ -4740,7 +4788,7 @@ const char* apzUltrix_StringsPatch[] = {\n  *\n  *  Description of Undefine_Null fix\n  */\n-#define UNDEFINE_NULL_FIXIDX             118\n+#define UNDEFINE_NULL_FIXIDX             119\n tSCC zUndefine_NullName[] =\n      \"undefine_null\";\n \n@@ -4786,7 +4834,7 @@ const char* apzUndefine_NullPatch[] = {\n  *\n  *  Description of Unixware7_Byteorder_Fix fix\n  */\n-#define UNIXWARE7_BYTEORDER_FIX_FIXIDX   119\n+#define UNIXWARE7_BYTEORDER_FIX_FIXIDX   120\n tSCC zUnixware7_Byteorder_FixName[] =\n      \"unixware7_byteorder_fix\";\n \n@@ -4829,7 +4877,7 @@ const char* apzUnixware7_Byteorder_FixPatch[] = { \"sed\",\n  *\n  *  Description of Va_I960_Macro fix\n  */\n-#define VA_I960_MACRO_FIXIDX             120\n+#define VA_I960_MACRO_FIXIDX             121\n tSCC zVa_I960_MacroName[] =\n      \"va_i960_macro\";\n \n@@ -4865,7 +4913,7 @@ const char* apzVa_I960_MacroPatch[] = {\n  *\n  *  Description of Void_Null fix\n  */\n-#define VOID_NULL_FIXIDX                 121\n+#define VOID_NULL_FIXIDX                 122\n tSCC zVoid_NullName[] =\n      \"void_null\";\n \n@@ -4901,7 +4949,7 @@ const char* apzVoid_NullPatch[] = {\n  *\n  *  Description of Vxworks_Gcc_Problem fix\n  */\n-#define VXWORKS_GCC_PROBLEM_FIXIDX       122\n+#define VXWORKS_GCC_PROBLEM_FIXIDX       123\n tSCC zVxworks_Gcc_ProblemName[] =\n      \"vxworks_gcc_problem\";\n \n@@ -4951,7 +4999,7 @@ const char* apzVxworks_Gcc_ProblemPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Needs_Vxtypes fix\n  */\n-#define VXWORKS_NEEDS_VXTYPES_FIXIDX     123\n+#define VXWORKS_NEEDS_VXTYPES_FIXIDX     124\n tSCC zVxworks_Needs_VxtypesName[] =\n      \"vxworks_needs_vxtypes\";\n \n@@ -4987,7 +5035,7 @@ const char* apzVxworks_Needs_VxtypesPatch[] = {\n  *\n  *  Description of Vxworks_Needs_Vxworks fix\n  */\n-#define VXWORKS_NEEDS_VXWORKS_FIXIDX     124\n+#define VXWORKS_NEEDS_VXWORKS_FIXIDX     125\n tSCC zVxworks_Needs_VxworksName[] =\n      \"vxworks_needs_vxworks\";\n \n@@ -5036,7 +5084,7 @@ const char* apzVxworks_Needs_VxworksPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Time fix\n  */\n-#define VXWORKS_TIME_FIXIDX              125\n+#define VXWORKS_TIME_FIXIDX              126\n tSCC zVxworks_TimeName[] =\n      \"vxworks_time\";\n \n@@ -5087,7 +5135,7 @@ typedef void (*__gcc_VOIDFUNCPTR) ();\\n\\\n  *\n  *  Description of X11_Class fix\n  */\n-#define X11_CLASS_FIXIDX                 126\n+#define X11_CLASS_FIXIDX                 127\n tSCC zX11_ClassName[] =\n      \"x11_class\";\n \n@@ -5134,7 +5182,7 @@ const char* apzX11_ClassPatch[] = {\n  *\n  *  Description of X11_Class_Usage fix\n  */\n-#define X11_CLASS_USAGE_FIXIDX           127\n+#define X11_CLASS_USAGE_FIXIDX           128\n tSCC zX11_Class_UsageName[] =\n      \"x11_class_usage\";\n \n@@ -5177,7 +5225,7 @@ const char* apzX11_Class_UsagePatch[] = {\n  *\n  *  Description of X11_New fix\n  */\n-#define X11_NEW_FIXIDX                   128\n+#define X11_NEW_FIXIDX                   129\n tSCC zX11_NewName[] =\n      \"x11_new\";\n \n@@ -5218,7 +5266,7 @@ const char* apzX11_NewPatch[] = { \"sed\",\n  *\n  *  Description of X11_Sprintf fix\n  */\n-#define X11_SPRINTF_FIXIDX               129\n+#define X11_SPRINTF_FIXIDX               130\n tSCC zX11_SprintfName[] =\n      \"x11_sprintf\";\n \n@@ -5257,9 +5305,9 @@ const char* apzX11_SprintfPatch[] = {\n  *\n  *  List of all fixes\n  */\n-#define REGEX_COUNT          130\n+#define REGEX_COUNT          132\n #define MACH_LIST_SIZE_LIMIT 279\n-#define FIX_COUNT            130\n+#define FIX_COUNT            131\n \n tFixDesc fixDescList[ FIX_COUNT ] = {\n   {  zAaa_Ki_IfaceName,    zAaa_Ki_IfaceList,\n@@ -5532,6 +5580,11 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      KANDR_CONCAT_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aKandr_ConcatTests,   apzKandr_ConcatPatch },\n \n+  {  zLibc1_Ifdefd_MemxName,    zLibc1_Ifdefd_MemxList,\n+     apzLibc1_Ifdefd_MemxMachs,\n+     LIBC1_IFDEFD_MEMX_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aLibc1_Ifdefd_MemxTests,   apzLibc1_Ifdefd_MemxPatch },\n+\n   {  zLimits_IfndefsName,    zLimits_IfndefsList,\n      apzLimits_IfndefsMachs,\n      LIMITS_IFNDEFS_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,"}, {"sha": "53e3f884b0c863708e523a21fb1d644d877211f9", "filename": "gcc/fixinc/inclhack.def", "status": "modified", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62a37b6f4d5414c26ff36ca46716ee33496fd9db/gcc%2Ffixinc%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62a37b6f4d5414c26ff36ca46716ee33496fd9db/gcc%2Ffixinc%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.def?ref=62a37b6f4d5414c26ff36ca46716ee33496fd9db", "patch": "@@ -1294,6 +1294,37 @@ fix = {\n };\n \n \n+/* GNU libc1 string.h does not prototype memcpy and memcmp for gcc\n+   versions > 1.  That's a problem.  This fix will expose the prototype\n+   for C++.  */\n+fix = {\n+    hackname  = libc1_ifdefd_memx;\n+\n+    /* The string.h result is overwritten by AAB_ultrix_string when doing\n+       \"make check\" and will fail.  Therefore, we add the following kludgery\n+       to insert the test_text into the special testing header.  :-}  */\n+    files     = testing.h;\n+    files     = string.h;\n+\n+    c_fix     = format;\n+    select    = \"' is a built-in function for gcc 2\\\\.x\\\\. \\\\*/\";\n+    bypass    = __cplusplus;\n+    c_fix_arg = \"%1 || defined(__cplusplus)\\n%2\";\n+    c_fix_arg = \"/\\\\* `mem...' is a built-in function for gcc 2\\\\.x\\\\. \\\\*/\\n\"\n+                \"(#if defined\\\\(__STDC__\\\\) && __GNUC__ < 2)\\n\"\n+                \"(/\\\\* .* \\\\*/\\n\"\n+                \"extern [a-z_]+ mem)\";\n+\n+    test_text =\n+    \"/* \\\\`memcpy' is a built-in function for gcc 2.x. */\\n\"\n+    \"#if defined(__STDC__) && __GNUC__ < 2\\n\"\n+    \"/* Copy N bytes of SRC to DEST.  */\\n\"\n+    \"extern __ptr_t memcpy __P ((__ptr_t __dest, __const __ptr_t __src,\\n\"\n+    \"                         size_t __n));\\n\"\n+    \"#endif\";\n+};\n+\n+\n /*\n  *  In limits.h, put #ifndefs around things that are supposed to be defined\n  *  in float.h to avoid redefinition errors if float.h is included first."}, {"sha": "c979414a6f682d579b684d0ca9daf69bee39b822", "filename": "gcc/fixinc/tests/base/testing.h", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62a37b6f4d5414c26ff36ca46716ee33496fd9db/gcc%2Ffixinc%2Ftests%2Fbase%2Ftesting.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62a37b6f4d5414c26ff36ca46716ee33496fd9db/gcc%2Ffixinc%2Ftests%2Fbase%2Ftesting.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ftests%2Fbase%2Ftesting.h?ref=62a37b6f4d5414c26ff36ca46716ee33496fd9db", "patch": "@@ -22,6 +22,15 @@ BSD43__IOWR('T', 1) /* Some are multi-line */\n #endif  /* IO_QUOTES_USE_CHECK */\n \n \n+#if defined( LIBC1_IFDEFD_MEMX_CHECK )\n+#if defined(__STDC__) && __GNUC__ < 2 || defined(__cplusplus)\n+/* Copy N bytes of SRC to DEST.  */\n+extern __ptr_t memcpy __P ((__ptr_t __dest, __const __ptr_t __src,\n+                         size_t __n));\n+#endif\n+#endif  /* LIBC1_IFDEFD_MEMX_CHECK */\n+\n+\n #if defined( MACHINE_NAME_CHECK )\n /* MACH_DIFF: */\n #if defined( __i386__ ) || defined( sparc ) || defined( vax )"}]}