{"sha": "7989e39224e4be7cdd904dce1cacebfa4a7a7b3b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Nzk4OWUzOTIyNGU0YmU3Y2RkOTA0ZGNlMWNhY2ViZmE0YTdhN2IzYg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2012-04-26T10:49:44Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2012-04-26T10:49:44Z"}, "message": "[multiple changes]\n\n2012-04-26  Tristan Gingold  <gingold@adacore.com>\n\n\t* gcc-interface/Make-lang.in: Update dependencies.\n\tRemove s-traceb and tracebak objects from gnat1 and gnatbind (not used).\n\tRemove s-tasdeb and s-vaflop rules (not used).\n\n2012-04-26  Olivier Hainque  <hainque@adacore.com>\n\n\t* gcc-interface/targtyps.c (WIDEST_HARDWARE_FP_SIZE): Default to\n\tDOUBLE_TYPE_SIZE instead of LONG_DOUBLE_TYPE_SIZE.\n\n2012-04-26  Hristian Kirtchev  <kirtchev@adacore.com>\n\n\t* a-calend.adb (Day_Of_Week): Keep the internal\n\tusage of UTC_Time_Offset consistent with Time_Of and Split.\n\nFrom-SVN: r186872", "tree": {"sha": "07c125838100e1cb99ff72e51f47b6efe1b08a7a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/07c125838100e1cb99ff72e51f47b6efe1b08a7a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7989e39224e4be7cdd904dce1cacebfa4a7a7b3b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7989e39224e4be7cdd904dce1cacebfa4a7a7b3b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7989e39224e4be7cdd904dce1cacebfa4a7a7b3b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7989e39224e4be7cdd904dce1cacebfa4a7a7b3b/comments", "author": null, "committer": null, "parents": [{"sha": "d99ff0f407dadb7b1e576416c5de4dce43151222", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d99ff0f407dadb7b1e576416c5de4dce43151222", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d99ff0f407dadb7b1e576416c5de4dce43151222"}], "stats": {"total": 106, "additions": 55, "deletions": 51}, "files": [{"sha": "68219cc05b1515cbff7bda7723aeb079d8a8ed5e", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7989e39224e4be7cdd904dce1cacebfa4a7a7b3b/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7989e39224e4be7cdd904dce1cacebfa4a7a7b3b/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=7989e39224e4be7cdd904dce1cacebfa4a7a7b3b", "patch": "@@ -1,3 +1,19 @@\n+2012-04-26  Tristan Gingold  <gingold@adacore.com>\n+\n+\t* gcc-interface/Make-lang.in: Update dependencies.\n+\tRemove s-traceb and tracebak objects from gnat1 and gnatbind (not used).\n+\tRemove s-tasdeb and s-vaflop rules (not used).\n+\n+2012-04-26  Olivier Hainque  <hainque@adacore.com>\n+\n+\t* gcc-interface/targtyps.c (WIDEST_HARDWARE_FP_SIZE): Default to\n+\tDOUBLE_TYPE_SIZE instead of LONG_DOUBLE_TYPE_SIZE.\n+\n+2012-04-26  Hristian Kirtchev  <kirtchev@adacore.com>\n+\n+\t* a-calend.adb (Day_Of_Week): Keep the internal\n+\tusage of UTC_Time_Offset consistent with Time_Of and Split.\n+\n 2012-04-26  Hristian Kirtchev  <kirtchev@adacore.com>\n \n \t* sem_ch5.adb (Analyze_Loop_Parameter_Specification): Do not freeze"}, {"sha": "cecbc52d17e815a71ef674559fefdfcff0459988", "filename": "gcc/ada/a-calend.adb", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7989e39224e4be7cdd904dce1cacebfa4a7a7b3b/gcc%2Fada%2Fa-calend.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7989e39224e4be7cdd904dce1cacebfa4a7a7b3b/gcc%2Fada%2Fa-calend.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-calend.adb?ref=7989e39224e4be7cdd904dce1cacebfa4a7a7b3b", "patch": "@@ -1154,8 +1154,12 @@ package body Ada.Calendar is\n       -----------------\n \n       function Day_Of_Week (Date : Time) return Integer is\n-         Date_N    : constant Time_Rep := Time_Rep (Date);\n-         Time_Zone : constant Long_Integer := UTC_Time_Offset (Date, True);\n+         Date_N : constant Time_Rep := Time_Rep (Date);\n+\n+         Time_Zone : constant Long_Integer := UTC_Time_Offset (Date, False);\n+         --  Keep the internal usage of UTC_Time_Offset consistent with Time_Of\n+         --  and Split.\n+\n          Ada_Low_N : Time_Rep;\n          Day_Count : Long_Integer;\n          Day_Dur   : Time_Dur;"}, {"sha": "beb135419655153db3be5bc80d06a80b48d65e50", "filename": "gcc/ada/gcc-interface/Make-lang.in", "status": "modified", "additions": 26, "deletions": 47, "changes": 73, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7989e39224e4be7cdd904dce1cacebfa4a7a7b3b/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7989e39224e4be7cdd904dce1cacebfa4a7a7b3b/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMake-lang.in?ref=7989e39224e4be7cdd904dce1cacebfa4a7a7b3b", "patch": "@@ -177,7 +177,7 @@ GCC_LINK=$(LINKER) $(GCC_LINKERFLAGS) -static-libgcc $(LDFLAGS)\n # Object files for gnat1 from C sources.\n GNAT1_C_OBJS = ada/adadecode.o ada/adaint.o ada/argv.o ada/cio.o \\\n  ada/cstreams.o ada/env.o ada/init.o ada/initialize.o ada/raise.o \\\n- ada/seh_init.o ada/targext.o ada/tracebak.o ada/cuintp.o ada/decl.o \\\n+ ada/seh_init.o ada/targext.o ada/cuintp.o ada/decl.o \\\n  ada/misc.o ada/utils.o ada/utils2.o ada/trans.o ada/targtyps.o\n \n # Object files from Ada sources that are used by gnat1\n@@ -324,7 +324,6 @@ GNAT_ADA_OBJS =\t\\\n  ada/s-strhas.o\t\\\n  ada/s-string.o\t\\\n  ada/s-strops.o\t\\\n- ada/s-traceb.o\t\\\n  ada/s-traent.o\t\\\n  ada/s-unstyp.o\t\\\n  ada/s-utf_32.o\t\\\n@@ -423,7 +422,6 @@ GNATBIND_OBJS = \\\n  ada/raise.o      \\\n  ada/seh_init.o   \\\n  ada/targext.o    \\\n- ada/tracebak.o   \\\n  ada/ada.o        \\\n  ada/a-clrefi.o   \\\n  ada/a-comlin.o   \\\n@@ -505,7 +503,6 @@ GNATBIND_OBJS = \\\n  ada/s-stoele.o   \\\n  ada/s-strhas.o   \\\n  ada/s-strops.o   \\\n- ada/s-traceb.o   \\\n  ada/s-traent.o   \\\n  ada/s-unstyp.o   \\\n  ada/s-utf_32.o   \\\n@@ -1181,18 +1178,6 @@ ADA_TREE_H = ada/gcc-interface/ada-tree.h\n \n # Special flags - see gcc-interface/Makefile.in for the template\n \n-ada/s-traceb.o : ada/s-traceb.adb ada/s-traceb.ads\n-\t$(CC) -c $(ALL_ADAFLAGS) $(FORCE_DEBUG_ADAFLAGS) $(ADA_INCLUDES) \\\n-\t  $< $(OUTPUT_OPTION)\n-\n-ada/s-tasdeb.o  : ada/s-tasdeb.adb ada/s-tasdeb.ads\n-\t$(CC) -c $(ALL_ADAFLAGS) $(FORCE_DEBUG_ADAFLAGS) -O0 $(ADA_INCLUDES) \\\n-\t  $< $(OUTPUT_OPTION)\n-\n-ada/s-vaflop.o  : ada/s-vaflop.adb ada/s-vaflop.ads\n-\t$(CC) -c -O $(ALL_ADAFLAGS) $(FORCE_DEBUG_ADAFLAGS) $(ADA_INCLUDES) \\\n-\t  $< $(OUTPUT_OPTION)\n-\n ada/a-except.o  : ada/a-except.adb ada/a-except.ads\n \t$(CC) -c $(ALL_ADAFLAGS) $(FORCE_DEBUG_ADAFLAGS) -O1 -fno-inline \\\n \t $(ADA_INCLUDES) $< $(OUTPUT_OPTION)\n@@ -1209,10 +1194,6 @@ ada/a-tags.o  : ada/a-tags.adb ada/a-tags.ads\n \t$(CC) -c $(ALL_ADAFLAGS) $(FORCE_DEBUG_ADAFLAGS) $(ADA_INCLUDES) \\\n \t  $< $(OUTPUT_OPTION)\n \n-ada/tracebak.o : ada/tracebak.c $(CONFIG_H) $(SYSTEM_H)\n-\t$(COMPILER) -c $(ALL_COMPILERFLAGS) $(ADA_CFLAGS) $(ALL_CPPFLAGS) \\\n-\t      $(INCLUDES) -fno-omit-frame-pointer $< $(OUTPUT_OPTION)\n-\n # dependencies for windows specific tool (mdll)\n \n ada/mdll.o : ada/mdll.adb ada/mdll.ads ada/mdll-fil.ads ada/mdll-utl.ads\n@@ -2224,31 +2205,31 @@ ada/exp_ch9.o : ada/ada.ads ada/a-except.ads ada/a-unccon.ads \\\n    ada/exp_ch9.adb ada/exp_dbug.ads ada/exp_disp.ads ada/exp_pakd.ads \\\n    ada/exp_sel.ads ada/exp_smem.ads ada/exp_tss.ads ada/exp_util.ads \\\n    ada/exp_util.adb ada/expander.ads ada/fname.ads ada/fname-uf.ads \\\n-   ada/freeze.ads ada/get_targ.ads ada/gnat.ads ada/g-htable.ads \\\n-   ada/gnatvsn.ads ada/hostparm.ads ada/inline.ads ada/interfac.ads \\\n-   ada/itypes.ads ada/lib.ads ada/lib-load.ads ada/lib-util.ads \\\n-   ada/lib-xref.ads ada/namet.ads ada/namet.adb ada/nlists.ads \\\n-   ada/nlists.adb ada/nmake.ads ada/nmake.adb ada/opt.ads ada/opt.adb \\\n-   ada/output.ads ada/put_alfa.ads ada/restrict.ads ada/restrict.adb \\\n-   ada/rident.ads ada/rtsfind.ads ada/scans.ads ada/sem.ads ada/sem.adb \\\n-   ada/sem_attr.ads ada/sem_aux.ads ada/sem_aux.adb ada/sem_ch10.ads \\\n-   ada/sem_ch11.ads ada/sem_ch12.ads ada/sem_ch13.ads ada/sem_ch2.ads \\\n-   ada/sem_ch3.ads ada/sem_ch4.ads ada/sem_ch5.ads ada/sem_ch6.ads \\\n-   ada/sem_ch7.ads ada/sem_ch8.ads ada/sem_ch9.ads ada/sem_disp.ads \\\n-   ada/sem_elab.ads ada/sem_eval.ads ada/sem_prag.ads ada/sem_res.ads \\\n-   ada/sem_type.ads ada/sem_util.ads ada/sem_util.adb ada/sem_warn.ads \\\n-   ada/sinfo.ads ada/sinfo.adb ada/sinput.ads ada/snames.ads \\\n-   ada/sprint.ads ada/stand.ads ada/stringt.ads ada/style.ads \\\n-   ada/styleg.ads ada/styleg.adb ada/stylesw.ads ada/system.ads \\\n-   ada/s-exctab.ads ada/s-htable.ads ada/s-imenne.ads ada/s-memory.ads \\\n-   ada/s-os_lib.ads ada/s-parame.ads ada/s-rident.ads ada/s-secsta.ads \\\n-   ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads \\\n-   ada/s-stoele.adb ada/s-string.ads ada/s-traent.ads ada/s-unstyp.ads \\\n-   ada/s-wchcon.ads ada/table.ads ada/table.adb ada/targparm.ads \\\n-   ada/tbuild.ads ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads \\\n-   ada/types.ads ada/uintp.ads ada/uintp.adb ada/uname.ads \\\n-   ada/unchconv.ads ada/unchdeal.ads ada/urealp.ads ada/validsw.ads \\\n-   ada/widechar.ads \n+   ada/freeze.ads ada/get_targ.ads ada/gnat.ads ada/g-byorma.ads \\\n+   ada/g-htable.ads ada/gnatvsn.ads ada/hostparm.ads ada/inline.ads \\\n+   ada/interfac.ads ada/itypes.ads ada/lib.ads ada/lib-load.ads \\\n+   ada/lib-util.ads ada/lib-xref.ads ada/namet.ads ada/namet.adb \\\n+   ada/nlists.ads ada/nlists.adb ada/nmake.ads ada/nmake.adb ada/opt.ads \\\n+   ada/opt.adb ada/output.ads ada/put_alfa.ads ada/restrict.ads \\\n+   ada/restrict.adb ada/rident.ads ada/rtsfind.ads ada/scans.ads \\\n+   ada/sem.ads ada/sem.adb ada/sem_attr.ads ada/sem_aux.ads \\\n+   ada/sem_aux.adb ada/sem_ch10.ads ada/sem_ch11.ads ada/sem_ch12.ads \\\n+   ada/sem_ch13.ads ada/sem_ch2.ads ada/sem_ch3.ads ada/sem_ch4.ads \\\n+   ada/sem_ch5.ads ada/sem_ch6.ads ada/sem_ch7.ads ada/sem_ch8.ads \\\n+   ada/sem_ch9.ads ada/sem_disp.ads ada/sem_elab.ads ada/sem_eval.ads \\\n+   ada/sem_prag.ads ada/sem_res.ads ada/sem_type.ads ada/sem_util.ads \\\n+   ada/sem_util.adb ada/sem_warn.ads ada/sinfo.ads ada/sinfo.adb \\\n+   ada/sinput.ads ada/sinput.adb ada/snames.ads ada/sprint.ads \\\n+   ada/stand.ads ada/stringt.ads ada/style.ads ada/styleg.ads \\\n+   ada/styleg.adb ada/stylesw.ads ada/system.ads ada/s-exctab.ads \\\n+   ada/s-htable.ads ada/s-imenne.ads ada/s-memory.ads ada/s-os_lib.ads \\\n+   ada/s-parame.ads ada/s-rident.ads ada/s-secsta.ads ada/s-soflin.ads \\\n+   ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads ada/s-stoele.adb \\\n+   ada/s-string.ads ada/s-traent.ads ada/s-unstyp.ads ada/s-wchcon.ads \\\n+   ada/table.ads ada/table.adb ada/targparm.ads ada/tbuild.ads \\\n+   ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads ada/types.ads \\\n+   ada/uintp.ads ada/uintp.adb ada/uname.ads ada/unchconv.ads \\\n+   ada/unchdeal.ads ada/urealp.ads ada/validsw.ads ada/widechar.ads \n \n ada/exp_code.o : ada/ada.ads ada/a-except.ads ada/a-unccon.ads \\\n    ada/a-uncdea.ads ada/alloc.ads ada/aspects.ads ada/atree.ads \\\n@@ -3592,8 +3573,6 @@ ada/s-strops.o : ada/ada.ads ada/a-unccon.ads ada/system.ads \\\n    ada/s-secsta.ads ada/s-stoele.ads ada/s-stoele.adb ada/s-strops.ads \\\n    ada/s-strops.adb \n \n-ada/s-traceb.o : ada/system.ads ada/s-traceb.ads ada/s-traceb.adb \n-\n ada/s-traent.o : ada/system.ads ada/s-traent.ads ada/s-traent.adb \n \n ada/s-unstyp.o : ada/system.ads ada/s-unstyp.ads "}, {"sha": "cfc45e7fe16fa7abd9345f980ef2ed1513e1bc3b", "filename": "gcc/ada/gcc-interface/targtyps.c", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7989e39224e4be7cdd904dce1cacebfa4a7a7b3b/gcc%2Fada%2Fgcc-interface%2Ftargtyps.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7989e39224e4be7cdd904dce1cacebfa4a7a7b3b/gcc%2Fada%2Fgcc-interface%2Ftargtyps.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Ftargtyps.c?ref=7989e39224e4be7cdd904dce1cacebfa4a7a7b3b", "patch": "@@ -6,7 +6,7 @@\n  *                                                                          *\n  *                                  Body                                    *\n  *                                                                          *\n- *          Copyright (C) 1992-2011, Free Software Foundation, Inc.         *\n+ *          Copyright (C) 1992-2012, Free Software Foundation, Inc.         *\n  *                                                                          *\n  * GNAT is free software;  you can  redistribute it  and/or modify it under *\n  * terms of the  GNU General Public License as published  by the Free Soft- *\n@@ -54,8 +54,13 @@\n #define ADA_LONG_TYPE_SIZE LONG_TYPE_SIZE\n #endif\n \n+/* If we don't have a target definition of WIDEST_HARDWARE_FP_SIZE, assume\n+   DOUBLE_TYPE_SIZE.  We used to default to LONG_DOUBLE_TYPE_SIZE, which now\n+   most often maps 128 bits implemented with very inefficient software\n+   emulations so is incorrect as a hardware size estimate.  */\n+\n #ifndef WIDEST_HARDWARE_FP_SIZE\n-#define WIDEST_HARDWARE_FP_SIZE LONG_DOUBLE_TYPE_SIZE\n+#define WIDEST_HARDWARE_FP_SIZE DOUBLE_TYPE_SIZE\n #endif\n \n /* The following provide a functional interface for the front end Ada code"}]}