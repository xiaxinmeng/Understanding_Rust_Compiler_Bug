{"sha": "7873037fd8ad42ad0494cb2f5d7044309381183c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Nzg3MzAzN2ZkOGFkNDJhZDA0OTRjYjJmNWQ3MDQ0MzA5MzgxMTgzYw==", "commit": {"author": {"name": "Thomas Quinot", "email": "quinot@adacore.com", "date": "2012-01-30T11:39:58Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2012-01-30T11:39:58Z"}, "message": "s-rannum.adb, [...] (Get_Seed): Return Unsigned_64 rather than Duration.\n\n2012-01-30  Thomas Quinot  <quinot@adacore.com>\n\n\t* s-rannum.adb, s-ransee.adb, s-ransee.ads (Get_Seed): Return\n\tUnsigned_64 rather than Duration.\n\t(System.Random_Numbers.Reset): Use full value of seed\n\t(do not truncate sub-second bits).\n\n2012-01-30  Thomas Quinot  <quinot@adacore.com>\n\n\t* sem_cat.adb, sem_ch12.adb: Minor reformatting.\n\nFrom-SVN: r183708", "tree": {"sha": "ec6bf83bc929b3be00973cb3f3a43eb911058903", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ec6bf83bc929b3be00973cb3f3a43eb911058903"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7873037fd8ad42ad0494cb2f5d7044309381183c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7873037fd8ad42ad0494cb2f5d7044309381183c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7873037fd8ad42ad0494cb2f5d7044309381183c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7873037fd8ad42ad0494cb2f5d7044309381183c/comments", "author": null, "committer": null, "parents": [{"sha": "6d9e03cb09911ae858fa1522f49a06f4fd852879", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d9e03cb09911ae858fa1522f49a06f4fd852879", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d9e03cb09911ae858fa1522f49a06f4fd852879"}], "stats": {"total": 47, "additions": 32, "deletions": 15}, "files": [{"sha": "40f7e2f3e74c3e520e5925bfdf4ec5e9c9419b53", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7873037fd8ad42ad0494cb2f5d7044309381183c/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7873037fd8ad42ad0494cb2f5d7044309381183c/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=7873037fd8ad42ad0494cb2f5d7044309381183c", "patch": "@@ -1,3 +1,14 @@\n+2012-01-30  Thomas Quinot  <quinot@adacore.com>\n+\n+\t* s-rannum.adb, s-ransee.adb, s-ransee.ads (Get_Seed): Return\n+\tUnsigned_64 rather than Duration.\n+\t(System.Random_Numbers.Reset): Use full value of seed\n+\t(do not truncate sub-second bits).\n+\n+2012-01-30  Thomas Quinot  <quinot@adacore.com>\n+\n+\t* sem_cat.adb, sem_ch12.adb: Minor reformatting.\n+\n 2012-01-30  Yannick Moy  <moy@adacore.com>\n \n \t* gnat_ugn.texi: Minor correction of GNAT UG, to take into"}, {"sha": "ca38408d318b317efa27a35a57184c37f3c258e7", "filename": "gcc/ada/s-rannum.adb", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7873037fd8ad42ad0494cb2f5d7044309381183c/gcc%2Fada%2Fs-rannum.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7873037fd8ad42ad0494cb2f5d7044309381183c/gcc%2Fada%2Fs-rannum.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-rannum.adb?ref=7873037fd8ad42ad0494cb2f5d7044309381183c", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 2007-2011, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2007-2012, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -480,12 +480,8 @@ package body System.Random_Numbers is\n    -----------\n \n    procedure Reset (Gen : Generator) is\n-      X : constant Unsigned_32 :=\n-            Unsigned_32'Mod (Unsigned_64 (Random_Seed.Get_Seed) * 64);\n-      --  Why * 64 ???\n-\n    begin\n-      Init (Gen, X);\n+      Init (Gen, Unsigned_32'Mod (Random_Seed.Get_Seed));\n    end Reset;\n \n    procedure Reset (Gen : Generator; Initiator : Integer_32) is"}, {"sha": "94e585f6f8b7db9c6a139f39f8a9c2e5398503d9", "filename": "gcc/ada/s-ransee.adb", "status": "modified", "additions": 12, "deletions": 4, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7873037fd8ad42ad0494cb2f5d7044309381183c/gcc%2Fada%2Fs-ransee.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7873037fd8ad42ad0494cb2f5d7044309381183c/gcc%2Fada%2Fs-ransee.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-ransee.adb?ref=7873037fd8ad42ad0494cb2f5d7044309381183c", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---               Copyright (C) 2011, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2011-2012, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -32,16 +32,24 @@\n --  Version used on all systems except Ravenscar where Calendar is unavailable\n \n with Ada.Calendar; use Ada.Calendar;\n+with Ada.Unchecked_Conversion;\n \n package body System.Random_Seed is\n \n    Y2K : constant Time :=\n            Time_Of (Year => 2000, Month => 1, Day => 1, Seconds => 0.0);\n-   --  First day of Year 2000, to get a duration.\n+   --  First day of Year 2000, to get a duration\n \n-   function Get_Seed return Duration is\n+   function To_U64 is\n+     new Ada.Unchecked_Conversion (Duration, Interfaces.Unsigned_64);\n+\n+   --------------\n+   -- Get_Seed --\n+   --------------\n+\n+   function Get_Seed return Interfaces.Unsigned_64 is\n    begin\n-      return Clock - Y2K;\n+      return To_U64 (Clock - Y2K);\n    end Get_Seed;\n \n end System.Random_Seed;"}, {"sha": "f627fc9bbaadfab88cc10a1e4b79ad29a79fd385", "filename": "gcc/ada/s-ransee.ads", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7873037fd8ad42ad0494cb2f5d7044309381183c/gcc%2Fada%2Fs-ransee.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7873037fd8ad42ad0494cb2f5d7044309381183c/gcc%2Fada%2Fs-ransee.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-ransee.ads?ref=7873037fd8ad42ad0494cb2f5d7044309381183c", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---            Copyright (C) 2011-2012, Free Software Foundation, Inc.       --\n+--          Copyright (C) 2011-2012, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -39,9 +39,11 @@\n --  This is required because Ada.Calendar cannot be used on Ravenscar, but\n --  Ada.Real_Time drags in the whole tasking runtime on regular platforms.\n \n+with Interfaces;\n+\n package System.Random_Seed is\n \n-   function Get_Seed return Duration;\n+   function Get_Seed return Interfaces.Unsigned_64;\n    --  Get a seed based on the clock\n \n end System.Random_Seed;"}, {"sha": "91d731f14b275c962ba0632ecc0b6ca5222d8d05", "filename": "gcc/ada/sem_cat.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7873037fd8ad42ad0494cb2f5d7044309381183c/gcc%2Fada%2Fsem_cat.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7873037fd8ad42ad0494cb2f5d7044309381183c/gcc%2Fada%2Fsem_cat.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_cat.adb?ref=7873037fd8ad42ad0494cb2f5d7044309381183c", "patch": "@@ -491,8 +491,8 @@ package body Sem_Cat is\n                       Nkind (Unit (Cunit (Current_Sem_Unit)));\n \n    begin\n-      --  There are no constraints on body of remote_call_interface or\n-      --  remote_types packages.\n+      --  There are no constraints on the body of Remote_Call_Interface or\n+      --  Remote_Types packages.\n \n       return (Unit_Entity /= Standard_Standard)\n         and then (Is_Preelaborated (Unit_Entity)"}, {"sha": "690da5c55e1b0f41191ce3f07a80bab2bb15d80d", "filename": "gcc/ada/sem_ch12.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7873037fd8ad42ad0494cb2f5d7044309381183c/gcc%2Fada%2Fsem_ch12.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7873037fd8ad42ad0494cb2f5d7044309381183c/gcc%2Fada%2Fsem_ch12.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch12.adb?ref=7873037fd8ad42ad0494cb2f5d7044309381183c", "patch": "@@ -9410,7 +9410,7 @@ package body Sem_Ch12 is\n \n          Set_Corresponding_Generic_Association (Decl_Node, Act_Assoc);\n \n-         --  The analysis of the actual may produce insert_action nodes, so\n+         --  The analysis of the actual may produce Insert_Action nodes, so\n          --  the declaration must have a context in which to attach them.\n \n          Append (Decl_Node, List);"}]}