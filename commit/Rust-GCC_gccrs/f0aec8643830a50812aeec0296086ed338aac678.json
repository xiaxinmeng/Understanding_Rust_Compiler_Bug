{"sha": "f0aec8643830a50812aeec0296086ed338aac678", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjBhZWM4NjQzODMwYTUwODEyYWVlYzAyOTYwODZlZDMzOGFhYzY3OA==", "commit": {"author": {"name": "Mihail Ionescu", "email": "mihail.ionescu@arm.com", "date": "2020-01-21T10:11:35Z"}, "committer": {"name": "Mihail Ionescu", "email": "mihail.ionescu@arm.com", "date": "2020-01-21T10:11:35Z"}, "message": "[PATCH, GCC/ARM] Fix clear_operation_p uninitialised variable\n\n2020-01-21  Mihail-Calin Ionescu  <mihail.ionescu@arm.com>\n\n\t* gcc/config/arm/arm.c (clear_operation_p):\n\tInitialise last_regno, skip first iteration\n\tbased on the first_set value and use ints instead\n\tof the unnecessary HOST_WIDE_INTs.", "tree": {"sha": "3b7065a1680c6f78266792418d1929f61d6265f5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3b7065a1680c6f78266792418d1929f61d6265f5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f0aec8643830a50812aeec0296086ed338aac678", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f0aec8643830a50812aeec0296086ed338aac678", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f0aec8643830a50812aeec0296086ed338aac678", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f0aec8643830a50812aeec0296086ed338aac678/comments", "author": null, "committer": null, "parents": [{"sha": "51e010b5f75c1fff06425a72702c1bf82a3ab053", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/51e010b5f75c1fff06425a72702c1bf82a3ab053", "html_url": "https://github.com/Rust-GCC/gccrs/commit/51e010b5f75c1fff06425a72702c1bf82a3ab053"}], "stats": {"total": 20, "additions": 14, "deletions": 6}, "files": [{"sha": "8c17e5992d27817292054e7e2f1295a8d5ea6e0d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f0aec8643830a50812aeec0296086ed338aac678/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f0aec8643830a50812aeec0296086ed338aac678/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f0aec8643830a50812aeec0296086ed338aac678", "patch": "@@ -1,3 +1,10 @@\n+2020-01-21  Mihail-Calin Ionescu  <mihail.ionescu@arm.com>\n+\n+\t* gcc/config/arm/arm.c (clear_operation_p):\n+\tInitialise last_regno, skip first iteration\n+\tbased on the first_set value and use ints instead\n+\tof the unnecessary HOST_WIDE_INTs.\n+\n 2020-01-21  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/93073"}, {"sha": "b54382dbff3e589b683447468bc56c4ffae734e3", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f0aec8643830a50812aeec0296086ed338aac678/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f0aec8643830a50812aeec0296086ed338aac678/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=f0aec8643830a50812aeec0296086ed338aac678", "patch": "@@ -13751,13 +13751,14 @@ ldm_stm_operation_p (rtx op, bool load, machine_mode mode,\n bool\n clear_operation_p (rtx op, bool vfp)\n {\n-  unsigned regno, last_regno;\n+  unsigned regno;\n+  unsigned last_regno = INVALID_REGNUM;\n   rtx elt, reg, zero;\n-  HOST_WIDE_INT count = XVECLEN (op, 0);\n-  HOST_WIDE_INT i, first_set = vfp ? 1 : 0;\n+  int count = XVECLEN (op, 0);\n+  int first_set = vfp ? 1 : 0;\n   machine_mode expected_mode = vfp ? E_SFmode : E_SImode;\n \n-  for (i = first_set; i < count; i++)\n+  for (int i = first_set; i < count; i++)\n     {\n       elt = XVECEXP (op, 0, i);\n \n@@ -13790,14 +13791,14 @@ clear_operation_p (rtx op, bool vfp)\n \n       if (vfp)\n \t{\n-\t  if (i != 1 && regno != last_regno + 1)\n+\t  if (i != first_set && regno != last_regno + 1)\n \t    return false;\n \t}\n       else\n \t{\n \t  if (regno == SP_REGNUM || regno == PC_REGNUM)\n \t    return false;\n-\t  if (i != 0 && regno <= last_regno)\n+\t  if (i != first_set && regno <= last_regno)\n \t    return false;\n \t}\n "}]}