{"sha": "d69eea11a43b4ae992ecf0ce780f2f4143be72f8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDY5ZWVhMTFhNDNiNGFlOTkyZWNmMGNlNzgwZjJmNDE0M2JlNzJmOA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-08-04T22:27:48Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-08-04T22:27:48Z"}, "message": "compiler: Use context to determine types of complex expressions.\n\n    \n    When determining the type of a complex expression, it is important\n    to recognize cases where a complex value can be represented as a\n    real number.\n    \n    Fixes golang/go#11572.\n    \n    Reviewed-on: https://go-review.googlesource.com/12541\n\nFrom-SVN: r226596", "tree": {"sha": "1dcdbbe2e9d40efb986d34d7c3a2dd5ee4aaacca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1dcdbbe2e9d40efb986d34d7c3a2dd5ee4aaacca"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d69eea11a43b4ae992ecf0ce780f2f4143be72f8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d69eea11a43b4ae992ecf0ce780f2f4143be72f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d69eea11a43b4ae992ecf0ce780f2f4143be72f8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d69eea11a43b4ae992ecf0ce780f2f4143be72f8/comments", "author": null, "committer": null, "parents": [{"sha": "f12021edbe3e4806ce83c6c1d12b50d7f4f9d528", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f12021edbe3e4806ce83c6c1d12b50d7f4f9d528", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f12021edbe3e4806ce83c6c1d12b50d7f4f9d528"}], "stats": {"total": 7, "additions": 3, "deletions": 4}, "files": [{"sha": "70d19fb20e4a4a0781f0d410458c364618a7fa15", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d69eea11a43b4ae992ecf0ce780f2f4143be72f8/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d69eea11a43b4ae992ecf0ce780f2f4143be72f8/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=d69eea11a43b4ae992ecf0ce780f2f4143be72f8", "patch": "@@ -1,4 +1,4 @@\n-bdd98c601f2c8dbd0bf821548ba09c038f7645c4\n+df080adb06f0e423820f3f6b9604b0c1093ff20a\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "3aabbaba4c53c35b8ad54ff56dd6cdfbd13b469d", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d69eea11a43b4ae992ecf0ce780f2f4143be72f8/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d69eea11a43b4ae992ecf0ce780f2f4143be72f8/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=d69eea11a43b4ae992ecf0ce780f2f4143be72f8", "patch": "@@ -2396,7 +2396,7 @@ class Complex_expression : public Expression\n \n   void\n   do_dump_expression(Ast_dump_context*) const;\n-  \n+\n  private:\n   // The complex value.\n   mpc_t val_;\n@@ -2423,8 +2423,7 @@ Complex_expression::do_determine_type(const Type_context* context)\n {\n   if (this->type_ != NULL && !this->type_->is_abstract())\n     ;\n-  else if (context->type != NULL\n-\t   && context->type->complex_type() != NULL)\n+  else if (context->type != NULL && context->type->is_numeric_type())\n     this->type_ = context->type;\n   else if (!context->may_be_abstract)\n     this->type_ = Type::lookup_complex_type(\"complex128\");"}]}