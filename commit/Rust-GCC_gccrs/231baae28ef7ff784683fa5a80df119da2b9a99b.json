{"sha": "231baae28ef7ff784683fa5a80df119da2b9a99b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjMxYmFhZTI4ZWY3ZmY3ODQ2ODNmYTVhODBkZjExOWRhMmI5YTk5Yg==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2018-04-24T16:56:04Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2018-04-24T16:56:04Z"}, "message": "x86/CET: Remove the -mcet command-lint option\n\nWith revision 259496:\n\ncommit b1384095a7c1d06a44b70853372ebe037b2f7867\nAuthor: hjl <hjl@138bc75d-0d04-0410-961f-82ee72b054a4>\nDate:   Thu Apr 19 15:15:04 2018 +0000\n\n    x86: Enable -fcf-protection with multi-byte NOPs\n\n-fcf-protection no longer depens on -mcet and with revision 259522:\n\ncommit d59cfa9a4064339cf2bd2da828c4c133f13e57f0\nAuthor: hjl <hjl@138bc75d-0d04-0410-961f-82ee72b054a4>\nDate:   Fri Apr 20 13:30:13 2018 +0000\n\n    Define __CET__ for -fcf-protection and remove -mibt\n\n-mcet becomes an alias for -mshstk.  Since all usages of -mcet and\n-mno-cet have either been removed or replaced, we can remove the -mcet\ncommand-lint option.\n\n\tPR target/85485\n\t* common/config/i386/i386-common.c (ix86_handle_option): Don't\n\thandle OPT_mcet.\n\t* config/i386/i386.opt (mcet): Removed.\n\t* doc/install.texi: Remove -mcet documentation.\n\t* doc/invoke.texi: Likewise.\n\nFrom-SVN: r259613", "tree": {"sha": "3852c21cf39e6d4417123ff1080f0a46547068fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3852c21cf39e6d4417123ff1080f0a46547068fe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/231baae28ef7ff784683fa5a80df119da2b9a99b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/231baae28ef7ff784683fa5a80df119da2b9a99b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/231baae28ef7ff784683fa5a80df119da2b9a99b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/231baae28ef7ff784683fa5a80df119da2b9a99b/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d16d033bf98547bf9d616d4f877b795eeefc6f02", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d16d033bf98547bf9d616d4f877b795eeefc6f02", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d16d033bf98547bf9d616d4f877b795eeefc6f02"}], "stats": {"total": 27, "additions": 12, "deletions": 15}, "files": [{"sha": "4421420979610b221db4027a0c6846d3222626ef", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/231baae28ef7ff784683fa5a80df119da2b9a99b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/231baae28ef7ff784683fa5a80df119da2b9a99b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=231baae28ef7ff784683fa5a80df119da2b9a99b", "patch": "@@ -1,3 +1,12 @@\n+2018-04-24  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR target/85485\n+\t* common/config/i386/i386-common.c (ix86_handle_option): Don't\n+\thandle OPT_mcet.\n+\t* config/i386/i386.opt (mcet): Removed.\n+\t* doc/install.texi: Remove -mcet documentation.\n+\t* doc/invoke.texi: Likewise.\n+\n 2018-04-24  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR target/85485"}, {"sha": "2629ae62a2804805f20bf37f4cb64524fab3518a", "filename": "gcc/common/config/i386/i386-common.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/231baae28ef7ff784683fa5a80df119da2b9a99b/gcc%2Fcommon%2Fconfig%2Fi386%2Fi386-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/231baae28ef7ff784683fa5a80df119da2b9a99b/gcc%2Fcommon%2Fconfig%2Fi386%2Fi386-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon%2Fconfig%2Fi386%2Fi386-common.c?ref=231baae28ef7ff784683fa5a80df119da2b9a99b", "patch": "@@ -543,7 +543,6 @@ ix86_handle_option (struct gcc_options *opts,\n \t}\n       return true;\n \n-    case OPT_mcet:\n     case OPT_mshstk:\n       if (value)\n \t{"}, {"sha": "d9bd909a8854f40dca3638ae8117e1d18f8cdd13", "filename": "gcc/config/i386/i386.opt", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/231baae28ef7ff784683fa5a80df119da2b9a99b/gcc%2Fconfig%2Fi386%2Fi386.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/231baae28ef7ff784683fa5a80df119da2b9a99b/gcc%2Fconfig%2Fi386%2Fi386.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.opt?ref=231baae28ef7ff784683fa5a80df119da2b9a99b", "patch": "@@ -1006,11 +1006,6 @@ mgeneral-regs-only\n Target Report RejectNegative Mask(GENERAL_REGS_ONLY) Var(ix86_target_flags) Save\n Generate code which uses only the general registers.\n \n-mcet\n-Target Report Var(flag_cet) Init(0)\n-Enable shadow stack built-in functions from Control-flow Enforcement\n-Technology (CET).\n-\n mshstk\n Target Report Mask(ISA_SHSTK) Var(ix86_isa_flags) Save\n Enable shadow stack built-in functions from Control-flow Enforcement"}, {"sha": "ec20fd266859ef823b340e9e99d51ed2742dc3f6", "filename": "gcc/doc/install.texi", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/231baae28ef7ff784683fa5a80df119da2b9a99b/gcc%2Fdoc%2Finstall.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/231baae28ef7ff784683fa5a80df119da2b9a99b/gcc%2Fdoc%2Finstall.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finstall.texi?ref=231baae28ef7ff784683fa5a80df119da2b9a99b", "patch": "@@ -2107,7 +2107,7 @@ The option is disabled by default.  When @code{--enable-cet=auto}\n is used, it is enabled on Linux/x86 if target binutils\n supports @code{Intel CET} instructions and disabled otherwise.\n In this case the target libraries are configured to get additional\n-@option{-fcf-protection} and @option{-mcet} options.\n+@option{-fcf-protection} option.\n @end table\n \n @subheading Cross-Compiler-Specific Options"}, {"sha": "9c7fe187f4837a4b9f8bdc03bf803af706d274b3", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 2, "deletions": 8, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/231baae28ef7ff784683fa5a80df119da2b9a99b/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/231baae28ef7ff784683fa5a80df119da2b9a99b/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=231baae28ef7ff784683fa5a80df119da2b9a99b", "patch": "@@ -1261,7 +1261,7 @@ See RS/6000 and PowerPC Options.\n -msse4a  -m3dnow  -m3dnowa  -mpopcnt  -mabm  -mbmi  -mtbm  -mfma4  -mxop @gol\n -mlzcnt  -mbmi2  -mfxsr  -mxsave  -mxsaveopt  -mrtm  -mlwp  -mmpx  @gol\n -mmwaitx  -mclzero  -mpku  -mthreads -mgfni  -mvaes  @gol\n--mcet -mshstk -mforce-indirect-call -mavx512vbmi2 @gol\n+-mshstk -mforce-indirect-call -mavx512vbmi2 @gol\n -mvpclmulqdq -mavx512bitalg -mmovdiri -mmovdir64b -mavx512vpopcntdq @gol\n -mms-bitfields  -mno-align-stringops  -minline-all-stringops @gol\n -minline-stringops-dynamically  -mstringop-strategy=@var{alg} @gol\n@@ -27300,9 +27300,6 @@ preferred alignment to @option{-mpreferred-stack-boundary=2}.\n @itemx -mpku\n @opindex mpku\n @need 200\n-@itemx -mcet\n-@opindex mcet\n-@need 200\n @itemx -mavx512vbmi2\n @opindex mavx512vbmi2\n @need 200\n@@ -27447,12 +27444,9 @@ This option enables use of the @code{movbe} instruction to implement\n @code{__builtin_bswap32} and @code{__builtin_bswap64}.\n \n @item -mshstk\n-@itemx -mcet\n @opindex mshstk\n-@opindex mcet\n The @option{-mshstk} option enables shadow stack built-in functions\n-from x86 Control-flow Enforcement Technology (CET).  The @option{-mcet}\n-option is an alias for the @option{-mshstk} option.\n+from x86 Control-flow Enforcement Technology (CET).\n \n @item -mcrc32\n @opindex mcrc32"}]}