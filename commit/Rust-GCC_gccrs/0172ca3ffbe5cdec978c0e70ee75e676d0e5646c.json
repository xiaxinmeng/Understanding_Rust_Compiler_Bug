{"sha": "0172ca3ffbe5cdec978c0e70ee75e676d0e5646c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDE3MmNhM2ZmYmU1Y2RlYzk3OGMwZTcwZWU3NWU2NzZkMGU1NjQ2Yw==", "commit": {"author": {"name": "Jan Brittenson", "email": "bson@gnu.org", "date": "1993-09-22T19:04:33Z"}, "committer": {"name": "Jan Brittenson", "email": "bson@gnu.org", "date": "1993-09-22T19:04:33Z"}, "message": "made bc_emit_trampoline a macro, moved it to m68k.h\n\nFrom-SVN: r5409", "tree": {"sha": "6495812a6084da12afe426d2bc8f409773a6089a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6495812a6084da12afe426d2bc8f409773a6089a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0172ca3ffbe5cdec978c0e70ee75e676d0e5646c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0172ca3ffbe5cdec978c0e70ee75e676d0e5646c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0172ca3ffbe5cdec978c0e70ee75e676d0e5646c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0172ca3ffbe5cdec978c0e70ee75e676d0e5646c/comments", "author": null, "committer": null, "parents": [{"sha": "0aa4232c165a56e5ac39b4d382817493a46b7beb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0aa4232c165a56e5ac39b4d382817493a46b7beb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0aa4232c165a56e5ac39b4d382817493a46b7beb"}], "stats": {"total": 41, "additions": 0, "deletions": 41}, "files": [{"sha": "50e5e03dc9549bd5cb258c6bfed7dcd0eb3a8d6d", "filename": "gcc/config/m68k/m68k.c", "status": "modified", "additions": 0, "deletions": 41, "changes": 41, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0172ca3ffbe5cdec978c0e70ee75e676d0e5646c/gcc%2Fconfig%2Fm68k%2Fm68k.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0172ca3ffbe5cdec978c0e70ee75e676d0e5646c/gcc%2Fconfig%2Fm68k%2Fm68k.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.c?ref=0172ca3ffbe5cdec978c0e70ee75e676d0e5646c", "patch": "@@ -31,10 +31,6 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n #include \"output.h\"\n #include \"insn-attr.h\"\n \n-/* Needed for bytecode function entry trampoline */\n-#include \"bytecode.h\"\n-#include \"bc-emit.h\"\n-\n /* Needed for use_return_insn.  */\n #include \"flags.h\"\n \n@@ -2303,40 +2299,3 @@ strict_low_part_peephole_ok (mode, first_insn, target)\n \n   return 0;\n }\n-\f\n-/* Trampoline code for the function entry.  */\n-extern struct bc_seg *trampoline;\n-extern struct bc_seg *bytecode;\n-extern struct bc_sym *sym_lookup ();\n-\n-/* Emit the machine-code interface trampoline at the beginning of a byte\n-   coded function.  The argument is a label name of the interpreter\n-   bytecode callinfo structure; the return value is a label name for\n-   the beginning of the actual bytecode.  */\n-char *\n-bc_emit_trampoline (callinfo)\n-  char *callinfo;\n-{\n-  short insn;\n-  int zero = 0;\n-  char mylab[256];\n-  static int n;\n-\n-  sprintf (mylab, \"*LB%d\", n++);\n-\n-  /* Push a reference to the callinfo structure.  */\n-  insn = 0x4879;\t\t/* pea xxx.L */\n-  seg_data (trampoline, (char *) &insn, sizeof insn);\n-  seg_refsym (trampoline, callinfo, 0);\n-\n-  /* Call __interp, pop arguments, and return.  */\n-  insn = 0x4EB9;\t\t/* jsr xxx.L  */\n-  seg_data (trampoline, (char *) &insn, sizeof insn);\n-  seg_refsym (trampoline, \"__callint\", 0);\n-  insn = 0x588F;\t\t/* addql #4, sp */\n-  seg_data (trampoline, (char *) &insn, sizeof insn);\n-  insn = 0x4E75;\t\t/* rts */\n-  seg_data (trampoline, (char *) &insn, sizeof insn);\n-  seg_defsym (bytecode, mylab);\n-  return sym_lookup (mylab)->name;\n-}"}]}