{"sha": "6bf7163510fdc0fa77bd4bbcf837ab66e05bb28a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmJmNzE2MzUxMGZkYzBmYTc3YmQ0YmJjZjgzN2FiNjZlMDViYjI4YQ==", "commit": {"author": {"name": "Craig Burley", "email": "burley@gnu.org", "date": "1998-07-13T12:11:43Z"}, "committer": {"name": "Dave Love", "email": "fx@gcc.gnu.org", "date": "1998-07-13T12:11:43Z"}, "message": "com.c (ffecom_push_tempvar): Replace kludge that munged back-end globals directly with proper calls to...\n\nMon Jul 13 11:54:03 1998  Craig Burley  <burley@gnu.org>\n\t* com.c (ffecom_push_tempvar): Replace kludge that\n\tmunged back-end globals directly with proper calls\n\tto push_topmost_sequence and pop_topmost_sequence.\n\nFrom-SVN: r21105", "tree": {"sha": "8da917525f4e16601414b35668568be5a8c22208", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8da917525f4e16601414b35668568be5a8c22208"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6bf7163510fdc0fa77bd4bbcf837ab66e05bb28a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6bf7163510fdc0fa77bd4bbcf837ab66e05bb28a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6bf7163510fdc0fa77bd4bbcf837ab66e05bb28a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6bf7163510fdc0fa77bd4bbcf837ab66e05bb28a/comments", "author": null, "committer": null, "parents": [{"sha": "4d1a91c2bf4e81b4c260a072c411d3bfc5ca6dd8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d1a91c2bf4e81b4c260a072c411d3bfc5ca6dd8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d1a91c2bf4e81b4c260a072c411d3bfc5ca6dd8"}], "stats": {"total": 25, "additions": 16, "deletions": 9}, "files": [{"sha": "0581add690e8519b8c41589e305209be09a996aa", "filename": "gcc/f/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6bf7163510fdc0fa77bd4bbcf837ab66e05bb28a/gcc%2Ff%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6bf7163510fdc0fa77bd4bbcf837ab66e05bb28a/gcc%2Ff%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2FChangeLog?ref=6bf7163510fdc0fa77bd4bbcf837ab66e05bb28a", "patch": "@@ -1,3 +1,9 @@\n+Mon Jul 13 11:54:03 1998  Craig Burley  <burley@gnu.org>\n+\n+\t* com.c (ffecom_push_tempvar): Replace kludge that\n+\tmunged back-end globals directly with proper calls\n+\tto push_topmost_sequence and pop_topmost_sequence.\n+\n 1998-07-12  Dave Love  <d.love@dl.ac.uk>\n \n \t* version.c: Bump version."}, {"sha": "6481642467392add79da214c061da0301ca650f1", "filename": "gcc/f/com.c", "status": "modified", "additions": 10, "deletions": 9, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6bf7163510fdc0fa77bd4bbcf837ab66e05bb28a/gcc%2Ff%2Fcom.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6bf7163510fdc0fa77bd4bbcf837ab66e05bb28a/gcc%2Ff%2Fcom.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fcom.c?ref=6bf7163510fdc0fa77bd4bbcf837ab66e05bb28a", "patch": "@@ -13394,18 +13394,19 @@ ffecom_push_tempvar (tree type, ffetargetCharacterSize size, int elements,\n \t\t  ffecom_get_invented_identifier (\"__g77_expr_%d\", NULL,\n \t\t\t\t\t\t  mynumber++),\n \t\t  type);\n-  {\t/* ~~~~ kludge alert here!!! else temp gets reused outside\n-\t   a compound-statement sequence.... */\n-    extern tree sequence_rtl_expr;\n-    tree back_end_bug = sequence_rtl_expr;\n \n-    sequence_rtl_expr = NULL_TREE;\n+  /* This temp must be put in the same scope as the containing BLOCK\n+     (aka function), but for reasons that should be explained elsewhere,\n+     the GBE normally decides it should be in a \"phantom BLOCK\" associated\n+     with the expand_start_stmt_expr() call.  So push the topmost\n+     sequence back onto the GBE's internal stack before telling it\n+     about the decl, then restore it afterwards.  */\n+  push_topmost_sequence ();\n \n-    t = start_decl (t, FALSE);\n-    finish_decl (t, NULL_TREE, FALSE);\n+  t = start_decl (t, FALSE);\n+  finish_decl (t, NULL_TREE, FALSE);\n \n-    sequence_rtl_expr = back_end_bug;\n-  }\n+  pop_topmost_sequence ();\n \n   resume_momentary (yes);\n "}]}