{"sha": "9bad11e125dadee39cbefe8e52a2fc9fa77ef062", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWJhZDExZTEyNWRhZGVlMzljYmVmZThlNTJhMmZjOWZhNzdlZjA2Mg==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2001-01-24T20:08:50Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2001-01-24T20:08:50Z"}, "message": "ltmain.sh (TAG disable-shared, [...]): Make sure we keep at least one of build_libtool_libs or build_old_libs set to yes.\n\n* ltmain.sh (TAG disable-shared, TAG disable-static): Make sure we\nkeep at least one of build_libtool_libs or build_old_libs set to\nyes.\n\nFrom-SVN: r39245", "tree": {"sha": "56fca5ed516ca4085df64b13616b0718aa080b6e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/56fca5ed516ca4085df64b13616b0718aa080b6e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9bad11e125dadee39cbefe8e52a2fc9fa77ef062", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9bad11e125dadee39cbefe8e52a2fc9fa77ef062", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9bad11e125dadee39cbefe8e52a2fc9fa77ef062", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9bad11e125dadee39cbefe8e52a2fc9fa77ef062/comments", "author": null, "committer": null, "parents": [{"sha": "445c435a52d25ed61ed9698e56d09309c5d949c6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/445c435a52d25ed61ed9698e56d09309c5d949c6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/445c435a52d25ed61ed9698e56d09309c5d949c6"}], "stats": {"total": 20, "additions": 18, "deletions": 2}, "files": [{"sha": "ca34bcb115fa5eb8db0af4a6c26c3be8d8b6b376", "filename": "ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9bad11e125dadee39cbefe8e52a2fc9fa77ef062/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9bad11e125dadee39cbefe8e52a2fc9fa77ef062/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=9bad11e125dadee39cbefe8e52a2fc9fa77ef062", "patch": "@@ -1,5 +1,9 @@\n 2001-01-24  Alexandre Oliva  <aoliva@redhat.com>\n \n+\t* ltmain.sh (TAG disable-shared, TAG disable-static): Make sure we\n+\tkeep at least one of build_libtool_libs or build_old_libs set to\n+\tyes.\n+\n \t* ltcf-gcj.sh (lt_simple_link_test_code): Remove stray `(0)'.\n \t* libtool.m4 (_AC_LIBTOOL_GCJ): Pass $CPPFLAGS on.\n "}, {"sha": "2bccd110f030157d3e3aa72b81d7a55eddb04478", "filename": "ltmain.sh", "status": "modified", "additions": 14, "deletions": 2, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9bad11e125dadee39cbefe8e52a2fc9fa77ef062/ltmain.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9bad11e125dadee39cbefe8e52a2fc9fa77ef062/ltmain.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltmain.sh?ref=9bad11e125dadee39cbefe8e52a2fc9fa77ef062", "patch": "@@ -1,7 +1,7 @@\n # ltmain.sh - Provide generalized library-building support services.\n # NOTE: Changing this file will not affect anything until you rerun ltconfig.\n #\n-# Copyright (C) 1996-2000 Free Software Foundation, Inc.\n+# Copyright (C) 1996-2000, 2001 Free Software Foundation, Inc.\n # Originally by Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996\n #\n # This program is free software; you can redistribute it and/or modify\n@@ -5006,12 +5006,24 @@ $echo \"Try \\`$modename --help' for more information about other modes.\"\n \n exit 0\n \n+# The TAGs below are defined such that we never get into a situation\n+# in which we disable both kinds of libraries.  Given conflicting\n+# choices, we go for a static library, that is the most portable,\n+# since we can't tell whether shared libraries were disabled because\n+# the user asked for that or because the platform doesn't support\n+# them.  This is particularly important on AIX, because we don't\n+# support having both static and shared libraries enabled at the same\n+# time on that platform, so we default to a shared-only configuration.\n+# If a disable-shared tag is given, we'll fallback to a static-only\n+# configuration.  But we'll never go from static-only to shared-only.\n+\n ### BEGIN LIBTOOL TAG CONFIG: disable-shared\n build_libtool_libs=no\n+build_old_libs=yes\n ### END LIBTOOL TAG CONFIG: disable-shared\n \n ### BEGIN LIBTOOL TAG CONFIG: disable-static\n-build_old_libs=no\n+build_old_libs=`case $build_libtool_libs in yes) echo no;; *) echo yes;; esac`\n ### END LIBTOOL TAG CONFIG: disable-static\n \n # Local Variables:"}]}