{"sha": "566bd102f729a3cb90cc680e8b612ad93646d467", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTY2YmQxMDJmNzI5YTNjYjkwY2M2ODBlOGI2MTJhZDkzNjQ2ZDQ2Nw==", "commit": {"author": {"name": "Kirill Yukhin", "email": "kyukhin@gcc.gnu.org", "date": "2017-11-24T06:49:04Z"}, "committer": {"name": "Kirill Yukhin", "email": "kyukhin@gcc.gnu.org", "date": "2017-11-24T06:49:04Z"}, "message": "Add missing hunks from r255121.\n\nFrom-SVN: r255131", "tree": {"sha": "1f8a3b3c93f706fa3465d033dd2285b14cdf005c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1f8a3b3c93f706fa3465d033dd2285b14cdf005c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/566bd102f729a3cb90cc680e8b612ad93646d467", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/566bd102f729a3cb90cc680e8b612ad93646d467", "html_url": "https://github.com/Rust-GCC/gccrs/commit/566bd102f729a3cb90cc680e8b612ad93646d467", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/566bd102f729a3cb90cc680e8b612ad93646d467/comments", "author": null, "committer": null, "parents": [{"sha": "fcb01caa4fe52deae10ff831847dc99cecf8b105", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcb01caa4fe52deae10ff831847dc99cecf8b105", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fcb01caa4fe52deae10ff831847dc99cecf8b105"}], "stats": {"total": 60, "additions": 59, "deletions": 1}, "files": [{"sha": "09d7d70f93f1fc768ae1683614442cf09ff6eb62", "filename": "gcc/config/i386/i386-builtin-types.def", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/566bd102f729a3cb90cc680e8b612ad93646d467/gcc%2Fconfig%2Fi386%2Fi386-builtin-types.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/566bd102f729a3cb90cc680e8b612ad93646d467/gcc%2Fconfig%2Fi386%2Fi386-builtin-types.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386-builtin-types.def?ref=566bd102f729a3cb90cc680e8b612ad93646d467", "patch": "@@ -1219,3 +1219,17 @@ DEF_FUNCTION_TYPE (V64QI, V64QI, V64QI, INT, V64QI, UDI)\n DEF_FUNCTION_TYPE (V32QI, V32QI, V32QI, INT, V32QI, USI)\n DEF_FUNCTION_TYPE (V16QI, V16QI, V16QI, INT, V16QI, UHI)\n DEF_FUNCTION_TYPE (V64QI, V64QI, V64QI)\n+\n+# VBMI2 builtins\n+DEF_FUNCTION_TYPE (VOID, PV64QI, V64QI, UDI)\n+DEF_FUNCTION_TYPE (VOID, PV32HI, V32HI, USI)\n+DEF_FUNCTION_TYPE (VOID, PV32QI, V32QI, USI)\n+DEF_FUNCTION_TYPE (VOID, PV16QI, V16QI, UHI)\n+DEF_FUNCTION_TYPE (VOID, PV16HI, V16HI, UHI)\n+DEF_FUNCTION_TYPE (VOID, PV8HI, V8HI, UQI)\n+DEF_FUNCTION_TYPE (V64QI, PCV64QI, V64QI, UDI)\n+DEF_FUNCTION_TYPE (V32HI, PCV32HI, V32HI, USI)\n+DEF_FUNCTION_TYPE (V32QI, PCV32QI, V32QI, USI)\n+DEF_FUNCTION_TYPE (V16QI, PCV16QI, V16QI, UHI)\n+DEF_FUNCTION_TYPE (V16HI, PCV16HI, V16HI, UHI)\n+DEF_FUNCTION_TYPE (V8HI, PCV8HI, V8HI, UQI)"}, {"sha": "c4c85a0ac30ec92f22453978dfdde342eb86dcab", "filename": "gcc/config/i386/i386-builtin.def", "status": "modified", "additions": 45, "deletions": 1, "changes": 46, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/566bd102f729a3cb90cc680e8b612ad93646d467/gcc%2Fconfig%2Fi386%2Fi386-builtin.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/566bd102f729a3cb90cc680e8b612ad93646d467/gcc%2Fconfig%2Fi386%2Fi386-builtin.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386-builtin.def?ref=566bd102f729a3cb90cc680e8b612ad93646d467", "patch": "@@ -2608,7 +2608,51 @@ BDESC (OPTION_MASK_ISA_AVX512VPOPCNTDQ, CODE_FOR_vpopcountv8di_mask, \"__builtin_\n \n /* RDPID */\n BDESC (OPTION_MASK_ISA_RDPID, CODE_FOR_rdpid, \"__builtin_ia32_rdpid\", IX86_BUILTIN_RDPID, UNKNOWN, (int) UNSIGNED_FTYPE_VOID)\n-BDESC_END (ARGS2, MPX)\n+\n+/* VBMI2 */\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2, CODE_FOR_compressv64qi_mask, \"__builtin_ia32_compressqi512_mask\", IX86_BUILTIN_PCOMPRESSB512, UNKNOWN, (int) V64QI_FTYPE_V64QI_V64QI_UDI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2, CODE_FOR_compressv32hi_mask, \"__builtin_ia32_compresshi512_mask\", IX86_BUILTIN_PCOMPRESSW512, UNKNOWN, (int) V32HI_FTYPE_V32HI_V32HI_USI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2 | OPTION_MASK_ISA_AVX512VL, CODE_FOR_compressv32qi_mask, \"__builtin_ia32_compressqi256_mask\", IX86_BUILTIN_PCOMPRESSB256, UNKNOWN, (int) V32QI_FTYPE_V32QI_V32QI_USI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2 | OPTION_MASK_ISA_AVX512VL, CODE_FOR_compressv16qi_mask, \"__builtin_ia32_compressqi128_mask\", IX86_BUILTIN_PCOMPRESSB128, UNKNOWN, (int) V16QI_FTYPE_V16QI_V16QI_UHI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2 | OPTION_MASK_ISA_AVX512VL, CODE_FOR_compressv16hi_mask, \"__builtin_ia32_compresshi256_mask\", IX86_BUILTIN_PCOMPRESSW256, UNKNOWN, (int) V16HI_FTYPE_V16HI_V16HI_UHI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2 | OPTION_MASK_ISA_AVX512VL, CODE_FOR_compressv8hi_mask, \"__builtin_ia32_compresshi128_mask\", IX86_BUILTIN_PCOMPRESSW128, UNKNOWN, (int) V8HI_FTYPE_V8HI_V8HI_UQI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2, CODE_FOR_expandv64qi_mask, \"__builtin_ia32_expandqi512_mask\", IX86_BUILTIN_PEXPANDB512, UNKNOWN, (int) V64QI_FTYPE_V64QI_V64QI_UDI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2, CODE_FOR_expandv64qi_maskz, \"__builtin_ia32_expandqi512_maskz\", IX86_BUILTIN_PEXPANDB512Z, UNKNOWN, (int) V64QI_FTYPE_V64QI_V64QI_UDI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2, CODE_FOR_expandv32hi_mask, \"__builtin_ia32_expandhi512_mask\", IX86_BUILTIN_PEXPANDW512, UNKNOWN, (int) V32HI_FTYPE_V32HI_V32HI_USI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2, CODE_FOR_expandv32hi_maskz, \"__builtin_ia32_expandhi512_maskz\", IX86_BUILTIN_PEXPANDW512Z, UNKNOWN, (int) V32HI_FTYPE_V32HI_V32HI_USI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2 | OPTION_MASK_ISA_AVX512VL, CODE_FOR_expandv32qi_mask, \"__builtin_ia32_expandqi256_mask\", IX86_BUILTIN_PEXPANDB256, UNKNOWN, (int) V32QI_FTYPE_V32QI_V32QI_USI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2 | OPTION_MASK_ISA_AVX512VL, CODE_FOR_expandv32qi_maskz, \"__builtin_ia32_expandqi256_maskz\", IX86_BUILTIN_PEXPANDB256Z, UNKNOWN, (int) V32QI_FTYPE_V32QI_V32QI_USI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2 | OPTION_MASK_ISA_AVX512VL, CODE_FOR_expandv16qi_mask, \"__builtin_ia32_expandqi128_mask\", IX86_BUILTIN_PEXPANDB128, UNKNOWN, (int) V16QI_FTYPE_V16QI_V16QI_UHI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2 | OPTION_MASK_ISA_AVX512VL, CODE_FOR_expandv16qi_maskz, \"__builtin_ia32_expandqi128_maskz\", IX86_BUILTIN_PEXPANDB128Z, UNKNOWN, (int) V16QI_FTYPE_V16QI_V16QI_UHI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2 | OPTION_MASK_ISA_AVX512VL, CODE_FOR_expandv16hi_mask, \"__builtin_ia32_expandhi256_mask\", IX86_BUILTIN_PEXPANDW256, UNKNOWN, (int) V16HI_FTYPE_V16HI_V16HI_UHI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2 | OPTION_MASK_ISA_AVX512VL, CODE_FOR_expandv16hi_maskz, \"__builtin_ia32_expandhi256_maskz\", IX86_BUILTIN_PEXPANDW256Z, UNKNOWN, (int) V16HI_FTYPE_V16HI_V16HI_UHI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2 | OPTION_MASK_ISA_AVX512VL, CODE_FOR_expandv8hi_mask, \"__builtin_ia32_expandhi128_mask\", IX86_BUILTIN_PEXPANDW128, UNKNOWN, (int) V8HI_FTYPE_V8HI_V8HI_UQI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2 | OPTION_MASK_ISA_AVX512VL, CODE_FOR_expandv8hi_maskz, \"__builtin_ia32_expandhi128_maskz\", IX86_BUILTIN_PEXPANDW128Z, UNKNOWN, (int) V8HI_FTYPE_V8HI_V8HI_UQI)\n+\n+BDESC_END (ARGS2, SPECIAL_ARGS2)\n+\n+BDESC_FIRST (special_args2, SPECIAL_ARGS2, OPTION_MASK_ISA_AVX512VBMI2, CODE_FOR_compressstorev64qi_mask, \"__builtin_ia32_compressstoreuqi512_mask\", IX86_BUILTIN_PCOMPRESSBSTORE512, UNKNOWN, (int) VOID_FTYPE_PV64QI_V64QI_UDI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2, CODE_FOR_compressstorev32hi_mask, \"__builtin_ia32_compressstoreuhi512_mask\", IX86_BUILTIN_PCOMPRESSWSTORE512, UNKNOWN, (int) VOID_FTYPE_PV32HI_V32HI_USI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2 | OPTION_MASK_ISA_AVX512VL, CODE_FOR_compressstorev32qi_mask, \"__builtin_ia32_compressstoreuqi256_mask\", IX86_BUILTIN_PCOMPRESSBSTORE256, UNKNOWN, (int) VOID_FTYPE_PV32QI_V32QI_USI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2 | OPTION_MASK_ISA_AVX512VL, CODE_FOR_compressstorev16qi_mask, \"__builtin_ia32_compressstoreuqi128_mask\", IX86_BUILTIN_PCOMPRESSBSTORE128, UNKNOWN, (int) VOID_FTYPE_PV16QI_V16QI_UHI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2 | OPTION_MASK_ISA_AVX512VL, CODE_FOR_compressstorev16hi_mask, \"__builtin_ia32_compressstoreuhi256_mask\", IX86_BUILTIN_PCOMPRESSWSTORE256, UNKNOWN, (int) VOID_FTYPE_PV16HI_V16HI_UHI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2 | OPTION_MASK_ISA_AVX512VL, CODE_FOR_compressstorev8hi_mask, \"__builtin_ia32_compressstoreuhi128_mask\", IX86_BUILTIN_PCOMPRESSWSTORE128, UNKNOWN, (int) VOID_FTYPE_PV8HI_V8HI_UQI)\n+\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2, CODE_FOR_expandv64qi_mask, \"__builtin_ia32_expandloadqi512_mask\", IX86_BUILTIN_PEXPANDBLOAD512, UNKNOWN, (int) V64QI_FTYPE_PCV64QI_V64QI_UDI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2, CODE_FOR_expandv64qi_maskz, \"__builtin_ia32_expandloadqi512_maskz\", IX86_BUILTIN_PEXPANDBLOAD512Z, UNKNOWN, (int) V64QI_FTYPE_PCV64QI_V64QI_UDI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2, CODE_FOR_expandv32hi_mask, \"__builtin_ia32_expandloadhi512_mask\", IX86_BUILTIN_PEXPANDWLOAD512, UNKNOWN, (int) V32HI_FTYPE_PCV32HI_V32HI_USI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2, CODE_FOR_expandv32hi_maskz, \"__builtin_ia32_expandloadhi512_maskz\", IX86_BUILTIN_PEXPANDWLOAD512Z, UNKNOWN, (int) V32HI_FTYPE_PCV32HI_V32HI_USI)\n+\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2, CODE_FOR_expandv32qi_mask, \"__builtin_ia32_expandloadqi256_mask\", IX86_BUILTIN_PEXPANDBLOAD256, UNKNOWN, (int) V32QI_FTYPE_PCV32QI_V32QI_USI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2, CODE_FOR_expandv32qi_maskz, \"__builtin_ia32_expandloadqi256_maskz\", IX86_BUILTIN_PEXPANDBLOAD256Z, UNKNOWN, (int) V32QI_FTYPE_PCV32QI_V32QI_USI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2, CODE_FOR_expandv16hi_mask, \"__builtin_ia32_expandloadhi256_mask\", IX86_BUILTIN_PEXPANDWLOAD256, UNKNOWN, (int) V16HI_FTYPE_PCV16HI_V16HI_UHI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2, CODE_FOR_expandv16hi_maskz, \"__builtin_ia32_expandloadhi256_maskz\", IX86_BUILTIN_PEXPANDWLOAD256Z, UNKNOWN, (int) V16HI_FTYPE_PCV16HI_V16HI_UHI)\n+\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2, CODE_FOR_expandv16qi_mask, \"__builtin_ia32_expandloadqi128_mask\", IX86_BUILTIN_PEXPANDBLOAD128, UNKNOWN, (int) V16QI_FTYPE_PCV16QI_V16QI_UHI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2, CODE_FOR_expandv16qi_maskz, \"__builtin_ia32_expandloadqi128_maskz\", IX86_BUILTIN_PEXPANDBLOAD128Z, UNKNOWN, (int) V16QI_FTYPE_PCV16QI_V16QI_UHI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2, CODE_FOR_expandv8hi_mask, \"__builtin_ia32_expandloadhi128_mask\", IX86_BUILTIN_PEXPANDWLOAD128, UNKNOWN, (int) V8HI_FTYPE_PCV8HI_V8HI_UQI)\n+BDESC (OPTION_MASK_ISA_AVX512VBMI2, CODE_FOR_expandv8hi_maskz, \"__builtin_ia32_expandloadhi128_maskz\", IX86_BUILTIN_PEXPANDWLOAD128Z, UNKNOWN, (int) V8HI_FTYPE_PCV8HI_V8HI_UQI)\n+BDESC_END (SPECIAL_ARGS2, MPX)\n \n /* Builtins for MPX.  */\n BDESC_FIRST (mpx, MPX,"}]}