{"sha": "8b82c52809e3ed72ae20c7b17725c34370cad1cf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGI4MmM1MjgwOWUzZWQ3MmFlMjBjN2IxNzcyNWMzNDM3MGNhZDFjZg==", "commit": {"author": {"name": "Per Bothner", "email": "pbothner@apple.com", "date": "2003-08-06T19:34:43Z"}, "committer": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "2003-08-06T19:34:43Z"}, "message": "line-map.h (fileline): New typedef.\n\n\n\t* line-map.h (fileline):  New typedef.\n\t(struct line_map, linemap_add, linemap_lookup):  Use it.\n\t* input.h (struct location_s):  Comment notes that long-term we want\n\tto replace it by fileline.\n\nFrom-SVN: r70205", "tree": {"sha": "cd2aed5c69b804274d0c2f5cc4fe4b2cc5f29384", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cd2aed5c69b804274d0c2f5cc4fe4b2cc5f29384"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8b82c52809e3ed72ae20c7b17725c34370cad1cf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b82c52809e3ed72ae20c7b17725c34370cad1cf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8b82c52809e3ed72ae20c7b17725c34370cad1cf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b82c52809e3ed72ae20c7b17725c34370cad1cf/comments", "author": null, "committer": null, "parents": [{"sha": "b869f90433f1efc9849bcd4ac3265985ee2b5d31", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b869f90433f1efc9849bcd4ac3265985ee2b5d31", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b869f90433f1efc9849bcd4ac3265985ee2b5d31"}], "stats": {"total": 20, "additions": 16, "deletions": 4}, "files": [{"sha": "b918929ccc322e2f1494b3705735864a458967c3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b82c52809e3ed72ae20c7b17725c34370cad1cf/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b82c52809e3ed72ae20c7b17725c34370cad1cf/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8b82c52809e3ed72ae20c7b17725c34370cad1cf", "patch": "@@ -1,3 +1,10 @@\n+2003-08-06  Per Bothner  <pbothner@apple.com>\n+\n+\t* line-map.h (fileline):  New typedef.\n+\t(struct line_map, linemap_add, linemap_lookup):  Use it.\t\n+\t* input.h (struct location_s):  Comment notes that long-term we want\n+\tto replace it by fileline.\n+\n 2003-08-06  J\"orn Rennecke <joern.rennecke@superh.com>\n \n \tFix SHcompact exception handling:"}, {"sha": "7d08e11fc5a5a7918f4373ccfaec66db458db746", "filename": "gcc/input.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b82c52809e3ed72ae20c7b17725c34370cad1cf/gcc%2Finput.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b82c52809e3ed72ae20c7b17725c34370cad1cf/gcc%2Finput.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Finput.h?ref=8b82c52809e3ed72ae20c7b17725c34370cad1cf", "patch": "@@ -23,6 +23,7 @@ Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n #define GCC_INPUT_H\n \n /* The data structure used to record a location in a translation unit.  */\n+/* Long-term, we want to get rid of this and typedef fileline location_t. */\n struct location_s GTY (())\n {\n   /* The name of the source file involved.  */"}, {"sha": "983ba699e13bf7b3f3598bdba389795d7543d2d9", "filename": "gcc/line-map.h", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b82c52809e3ed72ae20c7b17725c34370cad1cf/gcc%2Fline-map.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b82c52809e3ed72ae20c7b17725c34370cad1cf/gcc%2Fline-map.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fline-map.h?ref=8b82c52809e3ed72ae20c7b17725c34370cad1cf", "patch": "@@ -30,6 +30,11 @@ Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n    (e.g. a #line directive in C).  */\n enum lc_reason {LC_ENTER = 0, LC_LEAVE, LC_RENAME};\n \n+/* A logical line number, i,e, an \"index\" into a line_map. */\n+/* Long-term, we want to use this to replace struct location_s (in input.h),\n+   and effectively typedef fileline location_t. */\n+typedef unsigned int fileline;\n+\n /* The logical line FROM_LINE maps to physical source file TO_FILE at\n    line TO_LINE, and subsequently one-to-one until the next line_map\n    structure in the set.  INCLUDED_FROM is an index into the set that\n@@ -42,7 +47,7 @@ struct line_map\n {\n   const char *to_file;\n   unsigned int to_line;\n-  unsigned int from_line;\n+  fileline from_line;\n   int included_from;\n   ENUM_BITFIELD (lc_reason) reason : CHAR_BIT;\n   unsigned char sysp;\n@@ -87,12 +92,11 @@ extern void linemap_free (struct line_maps *);\n    maps, so any stored line_map pointers should not be used.  */\n extern const struct line_map *linemap_add\n   (struct line_maps *, enum lc_reason, unsigned int sysp,\n-   unsigned int from_line, const char *to_file, unsigned int to_line);\n+   fileline from_line, const char *to_file, unsigned int to_line);\n \n /* Given a logical line, returns the map from which the corresponding\n    (source file, line) pair can be deduced.  */\n-extern const struct line_map *linemap_lookup (struct line_maps *,\n-\t\t\t\t\t      unsigned int);\n+extern const struct line_map *linemap_lookup (struct line_maps *, fileline);\n \n /* Print the file names and line numbers of the #include commands\n    which led to the map MAP, if any, to stderr.  Nothing is output if"}]}