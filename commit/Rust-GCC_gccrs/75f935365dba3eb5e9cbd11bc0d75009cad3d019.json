{"sha": "75f935365dba3eb5e9cbd11bc0d75009cad3d019", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzVmOTM1MzY1ZGJhM2ViNWU5Y2JkMTFiYzBkNzUwMDljYWQzZDAxOQ==", "commit": {"author": {"name": "Kyrylo Tkachov", "email": "kyrylo.tkachov@arm.com", "date": "2019-09-03T08:06:43Z"}, "committer": {"name": "Kyrylo Tkachov", "email": "ktkachov@gcc.gnu.org", "date": "2019-09-03T08:06:43Z"}, "message": "[AArch64] Add Linux hwcap strings for some extensions\n\nThis patch adds feature strings for some of the extensions. This string is what is read from /proc/cpuinfo on Linux systems\nand used during -march=native detection.\n\nThe strings are taken from the kernel source tree at:\nhttps://github.com/torvalds/linux/blob/master/arch/arm64/kernel/cpuinfo.c#L45\n\n\n\t* config/aarch64/aarch64-option-extensions.def (sb): Add feature\n\tstring.\n\t(ssbs): Likewise.\n\t(sve2): Likewise.\n\t(sve2-sm4): Likewise.\n\t(sveaes): Likewise.\n\t(svesha3): Likewise.\n\t(svebitperm): Likewise.\n\nFrom-SVN: r275331", "tree": {"sha": "31000c7537366a134dc5d5338ba63e9754929335", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/31000c7537366a134dc5d5338ba63e9754929335"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/75f935365dba3eb5e9cbd11bc0d75009cad3d019", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75f935365dba3eb5e9cbd11bc0d75009cad3d019", "html_url": "https://github.com/Rust-GCC/gccrs/commit/75f935365dba3eb5e9cbd11bc0d75009cad3d019", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75f935365dba3eb5e9cbd11bc0d75009cad3d019/comments", "author": {"login": "ktkachov-arm", "id": 74917949, "node_id": "MDQ6VXNlcjc0OTE3OTQ5", "avatar_url": "https://avatars.githubusercontent.com/u/74917949?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ktkachov-arm", "html_url": "https://github.com/ktkachov-arm", "followers_url": "https://api.github.com/users/ktkachov-arm/followers", "following_url": "https://api.github.com/users/ktkachov-arm/following{/other_user}", "gists_url": "https://api.github.com/users/ktkachov-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ktkachov-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ktkachov-arm/subscriptions", "organizations_url": "https://api.github.com/users/ktkachov-arm/orgs", "repos_url": "https://api.github.com/users/ktkachov-arm/repos", "events_url": "https://api.github.com/users/ktkachov-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/ktkachov-arm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "3729852e407e5e1c4f1bbacea1b53e61d7609dad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3729852e407e5e1c4f1bbacea1b53e61d7609dad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3729852e407e5e1c4f1bbacea1b53e61d7609dad"}], "stats": {"total": 25, "additions": 18, "deletions": 7}, "files": [{"sha": "5c4eaf2f656985ce8ee17f62e954e813afc4edd7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75f935365dba3eb5e9cbd11bc0d75009cad3d019/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75f935365dba3eb5e9cbd11bc0d75009cad3d019/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=75f935365dba3eb5e9cbd11bc0d75009cad3d019", "patch": "@@ -1,3 +1,14 @@\n+2019-09-03  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n+\n+\t* config/aarch64/aarch64-option-extensions.def (sb): Add feature\n+\tstring.\n+\t(ssbs): Likewise.\n+\t(sve2): Likewise.\n+\t(sve2-sm4): Likewise.\n+\t(sveaes): Likewise.\n+\t(svesha3): Likewise.\n+\t(svebitperm): Likewise.\n+\n 2019-09-03  Jakub Jelinek  <jakub@redhat.com>\n \t    Richard Biener  <rguenther@suse.de>\n "}, {"sha": "de91550a53d8dae512f2d6c4bd57aae313c13973", "filename": "gcc/config/aarch64/aarch64-option-extensions.def", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75f935365dba3eb5e9cbd11bc0d75009cad3d019/gcc%2Fconfig%2Faarch64%2Faarch64-option-extensions.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75f935365dba3eb5e9cbd11bc0d75009cad3d019/gcc%2Fconfig%2Faarch64%2Faarch64-option-extensions.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64-option-extensions.def?ref=75f935365dba3eb5e9cbd11bc0d75009cad3d019", "patch": "@@ -155,10 +155,10 @@ AARCH64_OPT_EXTENSION(\"rng\", AARCH64_FL_RNG, 0, 0, false, \"\")\n AARCH64_OPT_EXTENSION(\"memtag\", AARCH64_FL_MEMTAG, 0, 0, false, \"\")\n \n /* Enabling/Disabling \"sb\" only changes \"sb\".  */\n-AARCH64_OPT_EXTENSION(\"sb\", AARCH64_FL_SB, 0, 0, false, \"\")\n+AARCH64_OPT_EXTENSION(\"sb\", AARCH64_FL_SB, 0, 0, false, \"sb\")\n \n /* Enabling/Disabling \"ssbs\" only changes \"ssbs\".  */\n-AARCH64_OPT_EXTENSION(\"ssbs\", AARCH64_FL_SSBS, 0, 0, false, \"\")\n+AARCH64_OPT_EXTENSION(\"ssbs\", AARCH64_FL_SSBS, 0, 0, false, \"ssbs\")\n \n /* Enabling/Disabling \"predres\" only changes \"predres\".  */\n AARCH64_OPT_EXTENSION(\"predres\", AARCH64_FL_PREDRES, 0, 0, false, \"\")\n@@ -169,31 +169,31 @@ AARCH64_OPT_EXTENSION(\"predres\", AARCH64_FL_PREDRES, 0, 0, false, \"\")\n AARCH64_OPT_EXTENSION(\"sve2\", AARCH64_FL_SVE2, AARCH64_FL_SVE | \\\n \t\t      AARCH64_FL_FP | AARCH64_FL_SIMD | AARCH64_FL_F16, \\\n \t\t      AARCH64_FL_SVE2_AES | AARCH64_FL_SVE2_SHA3 | \\\n-\t\t      AARCH64_FL_SVE2_SM4 | AARCH64_FL_SVE2_BITPERM, false, \"\")\n+\t\t      AARCH64_FL_SVE2_SM4 | AARCH64_FL_SVE2_BITPERM, false, \"sve2\")\n \n /* Enabling \"sve2-sm4\" also enables \"sm4\", \"simd\", \"fp16\", \"fp\", \"sve\", and\n    \"sve2\". Disabling \"sve2-sm4\" just disables \"sve2-sm4\".  */\n AARCH64_OPT_EXTENSION(\"sve2-sm4\", AARCH64_FL_SVE2_SM4, AARCH64_FL_SM4 | \\\n \t\t      AARCH64_FL_SIMD | AARCH64_FL_F16 | AARCH64_FL_FP | \\\n-\t\t      AARCH64_FL_SVE | AARCH64_FL_SVE2, 0, false, \"\")\n+\t\t      AARCH64_FL_SVE | AARCH64_FL_SVE2, 0, false, \"svesm4\")\n \n /* Enabling \"sve2-aes\" also enables \"aes\", \"simd\", \"fp16\", \"fp\", \"sve\", and\n    \"sve2\". Disabling \"sve2-aes\" just disables \"sve2-aes\".  */\n AARCH64_OPT_EXTENSION(\"sve2-aes\", AARCH64_FL_SVE2_AES, AARCH64_FL_AES | \\\n \t\t      AARCH64_FL_SIMD | AARCH64_FL_F16 | AARCH64_FL_FP | \\\n-\t\t      AARCH64_FL_SVE | AARCH64_FL_SVE2, 0, false, \"\")\n+\t\t      AARCH64_FL_SVE | AARCH64_FL_SVE2, 0, false, \"sveaes\")\n \n /* Enabling \"sve2-sha3\" also enables \"sha3\", \"simd\", \"fp16\", \"fp\", \"sve\", and\n    \"sve2\". Disabling \"sve2-sha3\" just disables \"sve2-sha3\".  */\n AARCH64_OPT_EXTENSION(\"sve2-sha3\", AARCH64_FL_SVE2_SHA3, AARCH64_FL_SHA3 | \\\n \t\t      AARCH64_FL_SIMD | AARCH64_FL_F16 | AARCH64_FL_FP | \\\n-\t\t      AARCH64_FL_SVE | AARCH64_FL_SVE2, 0, false, \"\")\n+\t\t      AARCH64_FL_SVE | AARCH64_FL_SVE2, 0, false, \"svesha3\")\n \n /* Enabling \"sve2-bitperm\" also enables \"simd\", \"fp16\", \"fp\", \"sve\", and\n    \"sve2\".  Disabling \"sve2-bitperm\" just disables \"sve2-bitperm\".  */\n AARCH64_OPT_EXTENSION(\"sve2-bitperm\", AARCH64_FL_SVE2_BITPERM, AARCH64_FL_SIMD | \\\n \t\t      AARCH64_FL_F16 | AARCH64_FL_FP | AARCH64_FL_SVE | \\\n-\t\t      AARCH64_FL_SVE2, 0, false, \"\")\n+\t\t      AARCH64_FL_SVE2, 0, false, \"svebitperm\")\n \n /* Enabling or disabling \"tme\" only changes \"tme\".  */\n AARCH64_OPT_EXTENSION(\"tme\", AARCH64_FL_TME, 0, 0, false, \"\")"}]}