{"sha": "b259d352ca69bed852c775145cdcd5d48bb45d1e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjI1OWQzNTJjYTY5YmVkODUyYzc3NTE0NWNkY2Q1ZDQ4YmI0NWQxZQ==", "commit": {"author": {"name": "J\u00fcrgen Urban", "email": "JuergenUrban@gmx.de", "date": "2013-06-16T09:16:23Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2013-06-16T09:16:23Z"}, "message": "mips.h (ISA_HAS_LL_SC): Exclude TARGET_MIPS5900.\n\ngcc/\n2013-06-16  J\u00fcrgen Urban  <JuergenUrban@gmx.de>\n\n\t* config/mips/mips.h (ISA_HAS_LL_SC): Exclude TARGET_MIPS5900.\n\t* config/mips/mips.c (mips_start_ll_sc_sync_block): Output\n\t\".set mips3\" for 64-bit targets.\n\nFrom-SVN: r200132", "tree": {"sha": "a4181b7ce69e1a7ceb5c0863499b71a9ebfbc83a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a4181b7ce69e1a7ceb5c0863499b71a9ebfbc83a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b259d352ca69bed852c775145cdcd5d48bb45d1e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b259d352ca69bed852c775145cdcd5d48bb45d1e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b259d352ca69bed852c775145cdcd5d48bb45d1e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b259d352ca69bed852c775145cdcd5d48bb45d1e/comments", "author": {"login": "jur", "id": 1646215, "node_id": "MDQ6VXNlcjE2NDYyMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1646215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jur", "html_url": "https://github.com/jur", "followers_url": "https://api.github.com/users/jur/followers", "following_url": "https://api.github.com/users/jur/following{/other_user}", "gists_url": "https://api.github.com/users/jur/gists{/gist_id}", "starred_url": "https://api.github.com/users/jur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jur/subscriptions", "organizations_url": "https://api.github.com/users/jur/orgs", "repos_url": "https://api.github.com/users/jur/repos", "events_url": "https://api.github.com/users/jur/events{/privacy}", "received_events_url": "https://api.github.com/users/jur/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6f9c34459e147040c95fbbab298183073b56ae63", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f9c34459e147040c95fbbab298183073b56ae63", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f9c34459e147040c95fbbab298183073b56ae63"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "3b3044f218930efa783713e76971a96021a9bdea", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b259d352ca69bed852c775145cdcd5d48bb45d1e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b259d352ca69bed852c775145cdcd5d48bb45d1e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b259d352ca69bed852c775145cdcd5d48bb45d1e", "patch": "@@ -1,3 +1,9 @@\n+2013-06-16  J\u00fcrgen Urban  <JuergenUrban@gmx.de>\n+\n+\t* config/mips/mips.h (ISA_HAS_LL_SC): Exclude TARGET_MIPS5900.\n+\t* config/mips/mips.c (mips_start_ll_sc_sync_block): Output\n+\t\".set mips3\" for 64-bit targets.\n+\n 2013-06-15  Dehao Chen  <dehao@google.com>\n \n \t* tree-flow.h (gimple_check_call_matching_types): Add new argument."}, {"sha": "bd1d10b0e4ed363d7381ddece88948b75894aa79", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b259d352ca69bed852c775145cdcd5d48bb45d1e/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b259d352ca69bed852c775145cdcd5d48bb45d1e/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=b259d352ca69bed852c775145cdcd5d48bb45d1e", "patch": "@@ -12463,7 +12463,10 @@ mips_start_ll_sc_sync_block (void)\n   if (!ISA_HAS_LL_SC)\n     {\n       output_asm_insn (\".set\\tpush\", 0);\n-      output_asm_insn (\".set\\tmips2\", 0);\n+      if (TARGET_64BIT)\n+\toutput_asm_insn (\".set\\tmips3\", 0);\n+      else\n+\toutput_asm_insn (\".set\\tmips2\", 0);\n     }\n }\n "}, {"sha": "479bdd4531ce336839dc7d1348d98c8d8537857e", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b259d352ca69bed852c775145cdcd5d48bb45d1e/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b259d352ca69bed852c775145cdcd5d48bb45d1e/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=b259d352ca69bed852c775145cdcd5d48bb45d1e", "patch": "@@ -1063,7 +1063,7 @@ struct mips_cpu_info {\n /* ISA includes ll and sc.  Note that this implies ISA_HAS_SYNC\n    because the expanders use both ISA_HAS_SYNC and ISA_HAS_LL_SC\n    instructions.  */\n-#define ISA_HAS_LL_SC (mips_isa >= 2 && !TARGET_MIPS16)\n+#define ISA_HAS_LL_SC (mips_isa >= 2 && !TARGET_MIPS5900 && !TARGET_MIPS16)\n #define GENERATE_LL_SC\t\t\t\\\n   (target_flags_explicit & MASK_LLSC\t\\\n    ? TARGET_LLSC && !TARGET_MIPS16\t\\"}]}