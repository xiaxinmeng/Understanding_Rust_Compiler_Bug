{"sha": "a30a69c1229cbf5270d2048299da5b9ae171e226", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTMwYTY5YzEyMjljYmY1MjcwZDIwNDgyOTlkYTViOWFlMTcxZTIyNg==", "commit": {"author": {"name": "Yannick Moy", "email": "moy@adacore.com", "date": "2018-09-26T09:19:12Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2018-09-26T09:19:12Z"}, "message": "[Ada] Do not issue by default info messages for inlining in GNATprove\n\nInfo messages about lack of inlining for analysis in GNATprove may be\nconfusing to users. They are now only issued when GNATprove is called\nwith switch --info, which it passes on to gnat2why with switch -gnatd_f.\n\nThere is no effect on compilation.\n\n2018-09-26  Yannick Moy  <moy@adacore.com>\n\ngcc/ada/\n\n\t* debug.adb: Add use for -gnatd_f switch.\n\t* inline.adb (Cannot_Inline): Only issue info message for\n\tfailure to inline in GNATprove mode when switch -gnatd_f is\n\tused.\n\nFrom-SVN: r264629", "tree": {"sha": "07304bcaecb98507dd548408fb8789a6426b2d0f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/07304bcaecb98507dd548408fb8789a6426b2d0f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a30a69c1229cbf5270d2048299da5b9ae171e226", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a30a69c1229cbf5270d2048299da5b9ae171e226", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a30a69c1229cbf5270d2048299da5b9ae171e226", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a30a69c1229cbf5270d2048299da5b9ae171e226/comments", "author": {"login": "yannickmoy", "id": 859440, "node_id": "MDQ6VXNlcjg1OTQ0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/859440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yannickmoy", "html_url": "https://github.com/yannickmoy", "followers_url": "https://api.github.com/users/yannickmoy/followers", "following_url": "https://api.github.com/users/yannickmoy/following{/other_user}", "gists_url": "https://api.github.com/users/yannickmoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/yannickmoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yannickmoy/subscriptions", "organizations_url": "https://api.github.com/users/yannickmoy/orgs", "repos_url": "https://api.github.com/users/yannickmoy/repos", "events_url": "https://api.github.com/users/yannickmoy/events{/privacy}", "received_events_url": "https://api.github.com/users/yannickmoy/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "2d9c4206c9d18b39f4d1c87ddbbda75238b7bf19", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d9c4206c9d18b39f4d1c87ddbbda75238b7bf19", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d9c4206c9d18b39f4d1c87ddbbda75238b7bf19"}], "stats": {"total": 35, "additions": 27, "deletions": 8}, "files": [{"sha": "0ba717d977ab5a1099bf9365227e4cb30fda8641", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a30a69c1229cbf5270d2048299da5b9ae171e226/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a30a69c1229cbf5270d2048299da5b9ae171e226/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=a30a69c1229cbf5270d2048299da5b9ae171e226", "patch": "@@ -1,3 +1,10 @@\n+2018-09-26  Yannick Moy  <moy@adacore.com>\n+\n+\t* debug.adb: Add use for -gnatd_f switch.\n+\t* inline.adb (Cannot_Inline): Only issue info message for\n+\tfailure to inline in GNATprove mode when switch -gnatd_f is\n+\tused.\n+\n 2018-09-26  Javier Miranda  <miranda@adacore.com>\n \n \t* exp_disp.adb (Expand_Interface_Conversion): No displacement of"}, {"sha": "65451a2c18a5f48f3fd9572a2f8cdd9c6cadc11b", "filename": "gcc/ada/debug.adb", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a30a69c1229cbf5270d2048299da5b9ae171e226/gcc%2Fada%2Fdebug.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a30a69c1229cbf5270d2048299da5b9ae171e226/gcc%2Fada%2Fdebug.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdebug.adb?ref=a30a69c1229cbf5270d2048299da5b9ae171e226", "patch": "@@ -150,7 +150,7 @@ package body Debug is\n    --  d_c\n    --  d_d\n    --  d_e  Ignore entry calls and requeue statements for elaboration\n-   --  d_f\n+   --  d_f  Issue info messages related to GNATprove usage\n    --  d_g\n    --  d_h\n    --  d_i  Ignore activations and calls to instances for elaboration\n@@ -831,6 +831,11 @@ package body Debug is\n    --       control, conditional entry calls, timed entry calls, and requeue\n    --       statements in both the static and dynamic elaboration models.\n \n+   --  d_f  Issue info messages related to GNATprove usage to help users\n+   --       understand analysis results. By default these are not issued as\n+   --       beginners find them confusing. Set automatically by GNATprove when\n+   --       switch --info is used.\n+\n    --  d_i  The compiler ignores calls and task activations when they target a\n    --       subprogram or task type defined in an external instance for both\n    --       the static and dynamic elaboration models."}, {"sha": "72991fad03e53075cd55ee899ca1c4250ee498bb", "filename": "gcc/ada/inline.adb", "status": "modified", "additions": 14, "deletions": 7, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a30a69c1229cbf5270d2048299da5b9ae171e226/gcc%2Fada%2Finline.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a30a69c1229cbf5270d2048299da5b9ae171e226/gcc%2Fada%2Finline.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Finline.adb?ref=a30a69c1229cbf5270d2048299da5b9ae171e226", "patch": "@@ -1607,13 +1607,16 @@ package body Inline is\n          then\n             null;\n \n-         --  In GNATprove mode, issue a warning, and indicate that the\n-         --  subprogram is not always inlined by setting flag Is_Inlined_Always\n-         --  to False.\n+         --  In GNATprove mode, issue a warning when -gnatd_f is set, and\n+         --  indicate that the subprogram is not always inlined by setting\n+         --  flag Is_Inlined_Always to False.\n \n          elsif GNATprove_Mode then\n             Set_Is_Inlined_Always (Subp, False);\n-            Error_Msg_NE (Msg & \"p?\", N, Subp);\n+\n+            if Debug_Flag_Underscore_F then\n+               Error_Msg_NE (Msg & \"p?\", N, Subp);\n+            end if;\n \n          elsif Has_Pragma_Inline_Always (Subp) then\n \n@@ -1634,12 +1637,16 @@ package body Inline is\n \n          Error_Msg_NE (Msg (Msg'First .. Msg'Last - 1), N, Subp);\n \n-      --  In GNATprove mode, issue a warning, and indicate that the subprogram\n-      --  is not always inlined by setting flag Is_Inlined_Always to False.\n+      --  In GNATprove mode, issue a warning when -gnatd_f is set, and\n+      --  indicate that the subprogram is not always inlined by setting\n+      --  flag Is_Inlined_Always to False.\n \n       elsif GNATprove_Mode then\n          Set_Is_Inlined_Always (Subp, False);\n-         Error_Msg_NE (Msg & \"p?\", N, Subp);\n+\n+         if Debug_Flag_Underscore_F then\n+            Error_Msg_NE (Msg & \"p?\", N, Subp);\n+         end if;\n \n       else\n "}]}