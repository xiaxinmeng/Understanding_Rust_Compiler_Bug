{"sha": "c40ce8f320df0b2cf23426a9c3da37df10dde3d7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzQwY2U4ZjMyMGRmMGIyY2YyMzQyNmE5YzNkYTM3ZGYxMGRkZTNkNw==", "commit": {"author": {"name": "Mike Stump", "email": "mrs@apple.com", "date": "2007-04-13T17:29:27Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "2007-04-13T17:29:27Z"}, "message": "darwin-c.c (handle_c_option): Handle -fapple-kext here so we can...\n\n\t* config/darwin-c.c (handle_c_option): Handle -fapple-kext here so\n\twe can...\n\t* config/darwin.opt (fapple-kext): Make C++ only.\n\t* config/darwin.c (darwin_override_options): Remove code to ensure\n\t-fapple-kext is given for C++ only.\n\nFrom-SVN: r123792", "tree": {"sha": "c21820976b12cdda5c2b98bc041656a9e1d80487", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c21820976b12cdda5c2b98bc041656a9e1d80487"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c40ce8f320df0b2cf23426a9c3da37df10dde3d7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c40ce8f320df0b2cf23426a9c3da37df10dde3d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c40ce8f320df0b2cf23426a9c3da37df10dde3d7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c40ce8f320df0b2cf23426a9c3da37df10dde3d7/comments", "author": null, "committer": null, "parents": [{"sha": "d6a7a3be7489a8a89f352cc787fa6dbbe73ba85a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d6a7a3be7489a8a89f352cc787fa6dbbe73ba85a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d6a7a3be7489a8a89f352cc787fa6dbbe73ba85a"}], "stats": {"total": 18, "additions": 12, "deletions": 6}, "files": [{"sha": "1c32a95fbb361e980783a23db5239c74b3049689", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c40ce8f320df0b2cf23426a9c3da37df10dde3d7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c40ce8f320df0b2cf23426a9c3da37df10dde3d7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c40ce8f320df0b2cf23426a9c3da37df10dde3d7", "patch": "@@ -1,3 +1,11 @@\n+2007-04-13  Mike Stump  <mrs@apple.com>\n+\n+\t* config/darwin-c.c (handle_c_option): Handle -fapple-kext here so\n+\twe can...\n+\t* config/darwin.opt (fapple-kext): Make C++ only.\n+\t* config/darwin.c (darwin_override_options): Remove code to ensure\n+\t-fapple-kext is given for C++ only.\n+\n 2007-04-13  Richard Sandiford  <richard@codesourcery.com>\n \n \t* config/mips/vxworks.h (SUBTARGET_OVERRIDE_OPTIONS): Define."}, {"sha": "0b3e8200f72c851d06a2a8513a1b99d7c352983f", "filename": "gcc/config/darwin-c.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c40ce8f320df0b2cf23426a9c3da37df10dde3d7/gcc%2Fconfig%2Fdarwin-c.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c40ce8f320df0b2cf23426a9c3da37df10dde3d7/gcc%2Fconfig%2Fdarwin-c.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin-c.c?ref=c40ce8f320df0b2cf23426a9c3da37df10dde3d7", "patch": "@@ -635,6 +635,9 @@ handle_c_option (size_t code,\n     case OPT_iframework:\n       add_system_framework_path (xstrdup (arg));\n       break;\n+\n+    case OPT_fapple_kext:\n+      ;\n     }\n \n   /* We recognized the option.  */"}, {"sha": "73836ae08b06e4e3ffb530d9c6d5a6ab293119b4", "filename": "gcc/config/darwin.c", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c40ce8f320df0b2cf23426a9c3da37df10dde3d7/gcc%2Fconfig%2Fdarwin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c40ce8f320df0b2cf23426a9c3da37df10dde3d7/gcc%2Fconfig%2Fdarwin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin.c?ref=c40ce8f320df0b2cf23426a9c3da37df10dde3d7", "patch": "@@ -1708,11 +1708,6 @@ darwin_kextabi_p (void) {\n void\n darwin_override_options (void)\n {\n-  if (flag_apple_kext && strcmp (lang_hooks.name, \"GNU C++\") != 0)\n-    {\n-      warning (0, \"command line option %<-fapple-kext%> is only valid for C++\");\n-      flag_apple_kext = 0;\n-    }\n   if (flag_mkernel || flag_apple_kext)\n     {\n       /* -mkernel implies -fapple-kext for C++ */"}, {"sha": "0ffc72e754a50716359791af6eb45704296c7d71", "filename": "gcc/config/darwin.opt", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c40ce8f320df0b2cf23426a9c3da37df10dde3d7/gcc%2Fconfig%2Fdarwin.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c40ce8f320df0b2cf23426a9c3da37df10dde3d7/gcc%2Fconfig%2Fdarwin.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin.opt?ref=c40ce8f320df0b2cf23426a9c3da37df10dde3d7", "patch": "@@ -36,7 +36,7 @@ Target RejectNegative Report Var(darwin_one_byte_bool)\n Set sizeof(bool) to 1\n \n fapple-kext\n-Target Report Var(flag_apple_kext)\n+Target Report C++ Var(flag_apple_kext)\n Generate code for darwin loadable kernel extensions\n \n mkernel"}]}