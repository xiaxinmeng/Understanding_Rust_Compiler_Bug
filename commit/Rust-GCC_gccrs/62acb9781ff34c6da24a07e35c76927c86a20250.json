{"sha": "62acb9781ff34c6da24a07e35c76927c86a20250", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjJhY2I5NzgxZmYzNGM2ZGEyNGEwN2UzNWM3NjkyN2M4NmEyMDI1MA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-07-28T23:48:33Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-07-28T23:48:33Z"}, "message": "(expand_expr, case CONJ_EXPR): Use correct mode for parts of a complex\nexpression.\n\nFrom-SVN: r7815", "tree": {"sha": "389d9c87a9b7ce8a57370ce4644a4debf4a5dbb4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/389d9c87a9b7ce8a57370ce4644a4debf4a5dbb4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/62acb9781ff34c6da24a07e35c76927c86a20250", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62acb9781ff34c6da24a07e35c76927c86a20250", "html_url": "https://github.com/Rust-GCC/gccrs/commit/62acb9781ff34c6da24a07e35c76927c86a20250", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62acb9781ff34c6da24a07e35c76927c86a20250/comments", "author": null, "committer": null, "parents": [{"sha": "bb14e22817b7bfb6773adc6945c9350ca8a47f84", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bb14e22817b7bfb6773adc6945c9350ca8a47f84", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bb14e22817b7bfb6773adc6945c9350ca8a47f84"}], "stats": {"total": 10, "additions": 6, "deletions": 4}, "files": [{"sha": "b6c4e554aceb37216b23e0108a0e703c170803f2", "filename": "gcc/expr.c", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62acb9781ff34c6da24a07e35c76927c86a20250/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62acb9781ff34c6da24a07e35c76927c86a20250/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=62acb9781ff34c6da24a07e35c76927c86a20250", "patch": "@@ -6058,6 +6058,7 @@ expand_expr (exp, target, tmode, modifier)\n \n     case CONJ_EXPR:\n       {\n+\tenum machine_mode partmode = TYPE_MODE (TREE_TYPE (TREE_TYPE (exp)));\n \trtx imag_t;\n \trtx insns;\n \t\n@@ -6069,11 +6070,12 @@ expand_expr (exp, target, tmode, modifier)\n \tstart_sequence ();\n \n \t/* Store the realpart and the negated imagpart to target.  */\n-\temit_move_insn (gen_realpart (mode, target), gen_realpart (mode, op0));\n+\temit_move_insn (gen_realpart (partmode, target),\n+\t\t\tgen_realpart (partmode, op0));\n \n-\timag_t = gen_imagpart (mode, target);\n-\ttemp = expand_unop (mode, neg_optab,\n-\t\t\t       gen_imagpart (mode, op0), imag_t, 0);\n+\timag_t = gen_imagpart (partmode, target);\n+\ttemp = expand_unop (partmode, neg_optab,\n+\t\t\t       gen_imagpart (partmode, op0), imag_t, 0);\n \tif (temp != imag_t)\n \t  emit_move_insn (imag_t, temp);\n "}]}