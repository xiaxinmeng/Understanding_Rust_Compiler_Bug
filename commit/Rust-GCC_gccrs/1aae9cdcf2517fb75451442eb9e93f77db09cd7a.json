{"sha": "1aae9cdcf2517fb75451442eb9e93f77db09cd7a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWFhZTljZGNmMjUxN2ZiNzU0NTE0NDJlYjllOTNmNzdkYjA5Y2Q3YQ==", "commit": {"author": {"name": "Bryce McKinlay", "email": "mckinlay@redhat.com", "date": "2004-05-31T14:54:37Z"}, "committer": {"name": "Bryce McKinlay", "email": "bryce@gcc.gnu.org", "date": "2004-05-31T14:54:37Z"}, "message": "jcf-write.c (generate_bytecode_conditional): Correct handling of unordered conditionals.\n\n\t* jcf-write.c (generate_bytecode_conditional): Correct handling\n\tof unordered conditionals. Add comment.\n\nFrom-SVN: r82485", "tree": {"sha": "3cb93076533bb4a350d8633ae40722c3ce1e735c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3cb93076533bb4a350d8633ae40722c3ce1e735c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1aae9cdcf2517fb75451442eb9e93f77db09cd7a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1aae9cdcf2517fb75451442eb9e93f77db09cd7a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1aae9cdcf2517fb75451442eb9e93f77db09cd7a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1aae9cdcf2517fb75451442eb9e93f77db09cd7a/comments", "author": null, "committer": null, "parents": [{"sha": "b47785f4ab321d38c5a25eb2c469c940f73801f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b47785f4ab321d38c5a25eb2c469c940f73801f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b47785f4ab321d38c5a25eb2c469c940f73801f8"}], "stats": {"total": 16, "additions": 12, "deletions": 4}, "files": [{"sha": "0b1585a25264b3af64b46f2d5053015c792bafe0", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1aae9cdcf2517fb75451442eb9e93f77db09cd7a/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1aae9cdcf2517fb75451442eb9e93f77db09cd7a/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=1aae9cdcf2517fb75451442eb9e93f77db09cd7a", "patch": "@@ -1,3 +1,8 @@\n+2004-05-31  Bryce McKinlay  <mckinlay@redhat.com>\n+\n+\t* jcf-write.c (generate_bytecode_conditional): Correct handling\n+\tof unordered conditionals. Add comment.\n+\n 2004-05-29  Ranjit Mathew  <rmathew@hotmail.com>\n             Per Bothner  <per@bothner.com>\n "}, {"sha": "b04d55985d9731fc2b6b79ac9c77f93ab49bbf54", "filename": "gcc/java/jcf-write.c", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1aae9cdcf2517fb75451442eb9e93f77db09cd7a/gcc%2Fjava%2Fjcf-write.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1aae9cdcf2517fb75451442eb9e93f77db09cd7a/gcc%2Fjava%2Fjcf-write.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjcf-write.c?ref=1aae9cdcf2517fb75451442eb9e93f77db09cd7a", "patch": "@@ -1179,25 +1179,25 @@ generate_bytecode_conditional (tree exp,\n       op = OPCODE_if_icmpne;\n       goto compare;\n \n-    case UNLT_EXPR:\n+    case UNLE_EXPR:\n       unordered = 1;\n     case GT_EXPR:\n       op = OPCODE_if_icmpgt;\n       goto compare;\n \n-    case UNGT_EXPR:\n+    case UNGE_EXPR:\n       unordered = 1;\n     case LT_EXPR:\n       op = OPCODE_if_icmplt;\n       goto compare;\n \n-    case UNLE_EXPR:\n+    case UNLT_EXPR:\n       unordered = 1;\n     case GE_EXPR:\n       op = OPCODE_if_icmpge;\n       goto compare;\n \n-    case UNGE_EXPR:\n+    case UNGT_EXPR:\n       unordered = 1;\n     case LE_EXPR:\n       op = OPCODE_if_icmple;\n@@ -1206,6 +1206,9 @@ generate_bytecode_conditional (tree exp,\n     compare:\n       if (unordered)\n         {\n+\t  /* UNLT_EXPR(a, b) means 'a < b || unordered(a, b)'.  This is \n+\t  the same as the Java source expression '!(a >= b)', so handle \n+\t  it that way.  */\n \t  struct jcf_block *tmp = true_label;\n \t  true_label = false_label;\n \t  false_label = tmp;"}]}