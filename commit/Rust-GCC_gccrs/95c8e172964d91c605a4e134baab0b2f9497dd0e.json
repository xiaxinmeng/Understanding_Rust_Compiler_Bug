{"sha": "95c8e172964d91c605a4e134baab0b2f9497dd0e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTVjOGUxNzI5NjRkOTFjNjA1YTRlMTM0YmFhYjBiMmY5NDk3ZGQwZQ==", "commit": {"author": {"name": "Razya Ladelsky", "email": "razya@il.ibm.com", "date": "2006-11-26T10:00:18Z"}, "committer": {"name": "Razya Ladelsky", "email": "razya@gcc.gnu.org", "date": "2006-11-26T10:00:18Z"}, "message": "re PR tree-optimization/29122 (ICE with -ipa-cp and -m64 (tail calls))\n\n2006-11-26  Razya Ladklesky  <razya@il.ibm.com>\n\n        PR tree-optimization/29122\n        * tree-inline.c (tree_function_versioning): Update DECL_ASSEMBLER_NAME\n        for the new version.  Assign NULL to DECL_RTL of the new version.\n\nFrom-SVN: r119220", "tree": {"sha": "c8e818190b015fb7772b4097bfba157526b177ad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c8e818190b015fb7772b4097bfba157526b177ad"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/95c8e172964d91c605a4e134baab0b2f9497dd0e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95c8e172964d91c605a4e134baab0b2f9497dd0e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/95c8e172964d91c605a4e134baab0b2f9497dd0e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95c8e172964d91c605a4e134baab0b2f9497dd0e/comments", "author": null, "committer": null, "parents": [{"sha": "67fdae36e917f7dcea4dbeead421218df36b7ea0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/67fdae36e917f7dcea4dbeead421218df36b7ea0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/67fdae36e917f7dcea4dbeead421218df36b7ea0"}], "stats": {"total": 16, "additions": 9, "deletions": 7}, "files": [{"sha": "8d9eb5333526899b01cb2474325310d57d97fc94", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95c8e172964d91c605a4e134baab0b2f9497dd0e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95c8e172964d91c605a4e134baab0b2f9497dd0e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=95c8e172964d91c605a4e134baab0b2f9497dd0e", "patch": "@@ -1,3 +1,9 @@\n+2006-11-26  Razya Ladklesky  <razya@il.ibm.com>\n+\t\n+\tPR tree-optimization/29122\n+\t* tree-inline.c (tree_function_versioning): Update DECL_ASSEMBLER_NAME \n+\tfor the new version.  Assign NULL to DECL_RTL of the new version. \n+\n 2006-11-25  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* reg-stack.c (get_true_reg): Fix UNSPEC_TRUNC_NOOP handling."}, {"sha": "4b1c70919f5a084c7de68755ec61a61e814b7c13", "filename": "gcc/tree-inline.c", "status": "modified", "additions": 3, "deletions": 7, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95c8e172964d91c605a4e134baab0b2f9497dd0e/gcc%2Ftree-inline.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95c8e172964d91c605a4e134baab0b2f9497dd0e/gcc%2Ftree-inline.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-inline.c?ref=95c8e172964d91c605a4e134baab0b2f9497dd0e", "patch": "@@ -2791,14 +2791,10 @@ tree_function_versioning (tree old_decl, tree new_decl, varray_type tree_map,\n \n   /* Generate a new name for the new version. */\n   if (!update_clones)\n-    DECL_NAME (new_decl) = create_tmp_var_name (NULL);\n-  /* Create a new SYMBOL_REF rtx for the new name. */\n-  if (DECL_RTL (old_decl) != NULL)\n     {\n-      SET_DECL_RTL (new_decl, copy_rtx (DECL_RTL (old_decl)));\n-      XEXP (DECL_RTL (new_decl), 0) =\n-\tgen_rtx_SYMBOL_REF (GET_MODE (XEXP (DECL_RTL (old_decl), 0)),\n-\t\t\t    IDENTIFIER_POINTER (DECL_NAME (new_decl)));\n+      DECL_NAME (new_decl) =  create_tmp_var_name (NULL);\n+      SET_DECL_ASSEMBLER_NAME (new_decl, DECL_NAME (new_decl));\n+      SET_DECL_RTL (new_decl, NULL_RTX);\n     }\n \n   /* Prepare the data structures for the tree copy.  */"}]}