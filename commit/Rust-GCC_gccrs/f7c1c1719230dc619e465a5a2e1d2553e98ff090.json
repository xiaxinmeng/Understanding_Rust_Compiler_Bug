{"sha": "f7c1c1719230dc619e465a5a2e1d2553e98ff090", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjdjMWMxNzE5MjMwZGM2MTllNDY1YTVhMmUxZDI1NTNlOThmZjA5MA==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2015-05-18T19:25:49Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2015-05-18T19:25:49Z"}, "message": "re PR fortran/64925 (ICE with same names for dummy arg and internal procedure)\n\n2015-05-18  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/64925\n\t* symbol.c(check_conflict):  Check for a conflict between a dummy\n\targument and an internal procedure name.\n\n2015-05-18  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/64925\n\t* gfortran.dg/pr64925.f90: New test.\n\nFrom-SVN: r223313", "tree": {"sha": "add9f82c7ef52b397eeafb6323cd7b609c561280", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/add9f82c7ef52b397eeafb6323cd7b609c561280"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f7c1c1719230dc619e465a5a2e1d2553e98ff090", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7c1c1719230dc619e465a5a2e1d2553e98ff090", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f7c1c1719230dc619e465a5a2e1d2553e98ff090", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7c1c1719230dc619e465a5a2e1d2553e98ff090/comments", "author": null, "committer": null, "parents": [{"sha": "87734648c9b07cb1c1c30b1d77a38d4482f61e37", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87734648c9b07cb1c1c30b1d77a38d4482f61e37", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87734648c9b07cb1c1c30b1d77a38d4482f61e37"}], "stats": {"total": 38, "additions": 38, "deletions": 0}, "files": [{"sha": "6913d881b0941e57745b2523f0f09958baa09f6f", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7c1c1719230dc619e465a5a2e1d2553e98ff090/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7c1c1719230dc619e465a5a2e1d2553e98ff090/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=f7c1c1719230dc619e465a5a2e1d2553e98ff090", "patch": "@@ -1,3 +1,9 @@\n+2015-05-18  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/64925\n+\t* symbol.c(check_conflict):  Check for a conflict between a dummy\n+\targument and an internal procedure name.\n+\n 2015-05-16  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \tPR fortran/65903"}, {"sha": "e470cb956a717ea9c4fd95da12b4aee500a4bead", "filename": "gcc/fortran/symbol.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7c1c1719230dc619e465a5a2e1d2553e98ff090/gcc%2Ffortran%2Fsymbol.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7c1c1719230dc619e465a5a2e1d2553e98ff090/gcc%2Ffortran%2Fsymbol.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fsymbol.c?ref=f7c1c1719230dc619e465a5a2e1d2553e98ff090", "patch": "@@ -458,6 +458,11 @@ check_conflict (symbol_attribute *attr, const char *name, locus *where)\n \t}\n     }\n \n+  if (attr->dummy && ((attr->function || attr->subroutine) && \n+\t\t\tgfc_current_state () == COMP_CONTAINS))\n+    gfc_error_now (\"internal procedure '%s' at %L conflicts with \"\n+\t\t   \"DUMMY argument\", name, where);\n+\n   conf (dummy, entry);\n   conf (dummy, intrinsic);\n   conf (dummy, threadprivate);"}, {"sha": "593427cdbf085b0ee84cdeb5084d84449b7e1150", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7c1c1719230dc619e465a5a2e1d2553e98ff090/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7c1c1719230dc619e465a5a2e1d2553e98ff090/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f7c1c1719230dc619e465a5a2e1d2553e98ff090", "patch": "@@ -1,3 +1,8 @@\n+2015-05-18  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/64925\n+\t* gfortran.dg/pr64925.f90: New test.\n+\n 2015-05-18  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \t* gfortran.dg/lto/pr41521_0.f90: Move INTERFACE statement in program"}, {"sha": "612a9c9dbcff6bf67a922ae336d4f689a037cc8c", "filename": "gcc/testsuite/gfortran.dg/pr64925.f90", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7c1c1719230dc619e465a5a2e1d2553e98ff090/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr64925.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7c1c1719230dc619e465a5a2e1d2553e98ff090/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr64925.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr64925.f90?ref=f7c1c1719230dc619e465a5a2e1d2553e98ff090", "patch": "@@ -0,0 +1,22 @@\n+! { dg-do compile }\n+! PR fortran/64925\n+! Original test case provided by Bill Long <longb at cray dot com>\n+!\n+subroutine foo(nnn, aaa, bbb, ccc, ddd)\n+  implicit none\n+  integer :: nnn, aaa, bbb(nnn)\n+  integer :: i\n+  do i=1,nnn\n+     aaa = aaa + bbb(ccc(i))\n+  end do\n+  call ddd(aaa)\n+contains\n+  integer function ccc(i)  ! { dg-error \"conflicts with DUMMY\" }\n+    integer :: i\n+    ccc = i\n+  end function ccc\n+  subroutine ddd(j)        ! { dg-error \"conflicts with DUMMY\" }\n+    integer j\n+    j = j + 1 \n+  end subroutine ddd\n+end subroutine foo"}]}