{"sha": "2b948876d87065efd5c0aeabe828a586b9454cbd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmI5NDg4NzZkODcwNjVlZmQ1YzBhZWFiZTgyOGE1ODZiOTQ1NGNiZA==", "commit": {"author": {"name": "Janis Johnson", "email": "janis187@us.ibm.com", "date": "2005-12-06T20:50:27Z"}, "committer": {"name": "Janis Johnson", "email": "janis@gcc.gnu.org", "date": "2005-12-06T20:50:27Z"}, "message": "* lib/gcc-dg.exp (cleanup-dump): Remove options from test name.\n\nFrom-SVN: r108129", "tree": {"sha": "97fddcf4ee4614e7936cb7e5058528230ebdc48e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/97fddcf4ee4614e7936cb7e5058528230ebdc48e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2b948876d87065efd5c0aeabe828a586b9454cbd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b948876d87065efd5c0aeabe828a586b9454cbd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2b948876d87065efd5c0aeabe828a586b9454cbd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b948876d87065efd5c0aeabe828a586b9454cbd/comments", "author": null, "committer": null, "parents": [{"sha": "9e1700983bb2984bc5ad215ca46df7ad13d256f7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e1700983bb2984bc5ad215ca46df7ad13d256f7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e1700983bb2984bc5ad215ca46df7ad13d256f7"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "45d0af7a9ac675fa05e7e584aa5bde2444bc2abe", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b948876d87065efd5c0aeabe828a586b9454cbd/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b948876d87065efd5c0aeabe828a586b9454cbd/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2b948876d87065efd5c0aeabe828a586b9454cbd", "patch": "@@ -1,3 +1,7 @@\n+2005-12-06  Janis Johnson  <janis187@us.ibm.com>\n+\n+\t* lib/gcc-dg.exp (cleanup-dump): Remove options from test name.\n+\n 2005-12-06  Roger Sayle  <roger@eyesopen.com>\n \n \t* g++.dg/warn/Wstring-literal-comparison-1.C: New test case."}, {"sha": "6fb94e01ec762d48423ddea52206a71fa1fec706", "filename": "gcc/testsuite/lib/gcc-dg.exp", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b948876d87065efd5c0aeabe828a586b9454cbd/gcc%2Ftestsuite%2Flib%2Fgcc-dg.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b948876d87065efd5c0aeabe828a586b9454cbd/gcc%2Ftestsuite%2Flib%2Fgcc-dg.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fgcc-dg.exp?ref=2b948876d87065efd5c0aeabe828a586b9454cbd", "patch": "@@ -367,7 +367,9 @@ proc cleanup-dump { suffix } {\n     # proc that stores the filename of the testcase in a local variable\n     # \"name\".  A cleaner solution would require a new DejaGnu release.\n     upvar 3 name testcase\n-    remove-build-file \"[file tail $testcase].$suffix\"\n+    # The name might include a list of options; extract the file name.\n+    set src [file tail [lindex $testcase 0]]\n+    remove-build-file \"[file tail $src].$suffix\"\n \n     # Clean up dump files for additional source files.\n     if [info exists additional_sources] {"}]}