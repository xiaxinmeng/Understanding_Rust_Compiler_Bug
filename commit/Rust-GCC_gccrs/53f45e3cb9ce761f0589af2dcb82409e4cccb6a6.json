{"sha": "53f45e3cb9ce761f0589af2dcb82409e4cccb6a6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTNmNDVlM2NiOWNlNzYxZjA1ODlhZjJkY2I4MjQwOWU0Y2NjYjZhNg==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2019-05-15T17:47:55Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2019-05-15T17:47:55Z"}, "message": "cp-tree.h (REFERENCE_VLA_OK): Remove.\n\n2019-05-15  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\t* cp-tree.h (REFERENCE_VLA_OK): Remove.\n\t* lambda.c (build_capture_proxy): Remove use of the above.\n\nFrom-SVN: r271258", "tree": {"sha": "5657d3e29b8c166d2a6d167b94c256e2b81a0cd5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5657d3e29b8c166d2a6d167b94c256e2b81a0cd5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/53f45e3cb9ce761f0589af2dcb82409e4cccb6a6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53f45e3cb9ce761f0589af2dcb82409e4cccb6a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/53f45e3cb9ce761f0589af2dcb82409e4cccb6a6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53f45e3cb9ce761f0589af2dcb82409e4cccb6a6/comments", "author": null, "committer": null, "parents": [{"sha": "dc90cc8c23f1e18f67e8f4d4a6da41bf6a04a147", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc90cc8c23f1e18f67e8f4d4a6da41bf6a04a147", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dc90cc8c23f1e18f67e8f4d4a6da41bf6a04a147"}], "stats": {"total": 12, "additions": 5, "deletions": 7}, "files": [{"sha": "7a22c5e039fd6205b13ba5ef4e78b76fb234c847", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53f45e3cb9ce761f0589af2dcb82409e4cccb6a6/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53f45e3cb9ce761f0589af2dcb82409e4cccb6a6/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=53f45e3cb9ce761f0589af2dcb82409e4cccb6a6", "patch": "@@ -1,3 +1,8 @@\n+2019-05-15  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\t* cp-tree.h (REFERENCE_VLA_OK): Remove.\n+\t* lambda.c (build_capture_proxy): Remove use of the above.\n+\n 2019-05-15  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \t* call.c (perform_overload_resolution, build_new_method_call_1):"}, {"sha": "2b19bc116e6cd3fbc68fcadec2ca5660c5278b60", "filename": "gcc/cp/cp-tree.h", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53f45e3cb9ce761f0589af2dcb82409e4cccb6a6/gcc%2Fcp%2Fcp-tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53f45e3cb9ce761f0589af2dcb82409e4cccb6a6/gcc%2Fcp%2Fcp-tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcp-tree.h?ref=53f45e3cb9ce761f0589af2dcb82409e4cccb6a6", "patch": "@@ -482,7 +482,6 @@ extern GTY(()) tree cp_global_trees[CPTI_MAX];\n    5: CLASS_TYPE_P (in RECORD_TYPE and UNION_TYPE)\n       ENUM_FIXED_UNDERLYING_TYPE_P (in ENUMERAL_TYPE)\n       AUTO_IS_DECLTYPE (in TEMPLATE_TYPE_PARM)\n-      REFERENCE_VLA_OK (in REFERENCE_TYPE)\n    6: TYPE_DEPENDENT_P_VALID\n \n    Usage of DECL_LANG_FLAG_?:\n@@ -3714,11 +3713,6 @@ struct GTY(()) lang_decl {\n    && TREE_TYPE (TREE_OPERAND (NODE, 0))\t\t\\\n    && TYPE_REF_P (TREE_TYPE (TREE_OPERAND ((NODE), 0))))\n \n-/* True if NODE is a REFERENCE_TYPE which is OK to instantiate to be a\n-   reference to VLA type, because it's used for VLA capture.  */\n-#define REFERENCE_VLA_OK(NODE) \\\n-  (TYPE_LANG_FLAG_5 (REFERENCE_TYPE_CHECK (NODE)))\n-\n #define NEW_EXPR_USE_GLOBAL(NODE) \\\n   TREE_LANG_FLAG_0 (NEW_EXPR_CHECK (NODE))\n #define DELETE_EXPR_USE_GLOBAL(NODE) \\"}, {"sha": "fb385c62687fe75601fb057f8ca586b29ae36ddd", "filename": "gcc/cp/lambda.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53f45e3cb9ce761f0589af2dcb82409e4cccb6a6/gcc%2Fcp%2Flambda.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53f45e3cb9ce761f0589af2dcb82409e4cccb6a6/gcc%2Fcp%2Flambda.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Flambda.c?ref=53f45e3cb9ce761f0589af2dcb82409e4cccb6a6", "patch": "@@ -420,7 +420,6 @@ build_capture_proxy (tree member, tree init)\n       type = build_cplus_array_type (TREE_TYPE (TREE_TYPE (ptr)),\n \t\t\t\t     build_index_type (max));\n       type = build_reference_type (type);\n-      REFERENCE_VLA_OK (type) = true;\n       object = convert (type, ptr);\n     }\n "}]}