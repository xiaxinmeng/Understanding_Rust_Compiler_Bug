{"sha": "cb3306e5bf82c6a0f6de0c98dabdb15cd7e2529e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2IzMzA2ZTViZjgyYzZhMGY2ZGUwYzk4ZGFiZGIxNWNkN2UyNTI5ZQ==", "commit": {"author": {"name": "Andreas Schwab", "email": "schwab@linux-m68k.org", "date": "2015-07-31T07:08:20Z"}, "committer": {"name": "Andreas Schwab", "email": "schwab@gcc.gnu.org", "date": "2015-07-31T07:08:20Z"}, "message": "go-lang.c (go_langhook_init_options_struct): Don't set x_flag_split_stack.\n\n* go-lang.c (go_langhook_init_options_struct): Don't set\nx_flag_split_stack.\n(go_langhook_post_options): Set it here instead.\n\nFrom-SVN: r226428", "tree": {"sha": "c733df5c8735cfb75d7fb5cbaa28cb7a56a8f195", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c733df5c8735cfb75d7fb5cbaa28cb7a56a8f195"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cb3306e5bf82c6a0f6de0c98dabdb15cd7e2529e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb3306e5bf82c6a0f6de0c98dabdb15cd7e2529e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb3306e5bf82c6a0f6de0c98dabdb15cd7e2529e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb3306e5bf82c6a0f6de0c98dabdb15cd7e2529e/comments", "author": {"login": "andreas-schwab", "id": 2175493, "node_id": "MDQ6VXNlcjIxNzU0OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2175493?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andreas-schwab", "html_url": "https://github.com/andreas-schwab", "followers_url": "https://api.github.com/users/andreas-schwab/followers", "following_url": "https://api.github.com/users/andreas-schwab/following{/other_user}", "gists_url": "https://api.github.com/users/andreas-schwab/gists{/gist_id}", "starred_url": "https://api.github.com/users/andreas-schwab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andreas-schwab/subscriptions", "organizations_url": "https://api.github.com/users/andreas-schwab/orgs", "repos_url": "https://api.github.com/users/andreas-schwab/repos", "events_url": "https://api.github.com/users/andreas-schwab/events{/privacy}", "received_events_url": "https://api.github.com/users/andreas-schwab/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e67d7a1ea15cb266edf4a9ae2315eae6b1e8003a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e67d7a1ea15cb266edf4a9ae2315eae6b1e8003a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e67d7a1ea15cb266edf4a9ae2315eae6b1e8003a"}], "stats": {"total": 15, "additions": 11, "deletions": 4}, "files": [{"sha": "53ae16ba52299c00ad472359c69a8020c4998238", "filename": "gcc/go/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cb3306e5bf82c6a0f6de0c98dabdb15cd7e2529e/gcc%2Fgo%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cb3306e5bf82c6a0f6de0c98dabdb15cd7e2529e/gcc%2Fgo%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2FChangeLog?ref=cb3306e5bf82c6a0f6de0c98dabdb15cd7e2529e", "patch": "@@ -1,3 +1,9 @@\n+2015-07-31  Andreas Schwab  <schwab@linux-m68k.org>\n+\n+\t* go-lang.c (go_langhook_init_options_struct): Don't set\n+\tx_flag_split_stack.\n+\t(go_langhook_post_options): Set it here instead.\n+\n 2015-07-12  Aldy Hernandez  <aldyh@redhat.com>\n \n \t* gofrontend/backend.h: Fix double word typos."}, {"sha": "675b5828b298bd90b6fb67219c7017fc5a589d40", "filename": "gcc/go/go-lang.c", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cb3306e5bf82c6a0f6de0c98dabdb15cd7e2529e/gcc%2Fgo%2Fgo-lang.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cb3306e5bf82c6a0f6de0c98dabdb15cd7e2529e/gcc%2Fgo%2Fgo-lang.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgo-lang.c?ref=cb3306e5bf82c6a0f6de0c98dabdb15cd7e2529e", "patch": "@@ -155,10 +155,6 @@ go_langhook_init_options_struct (struct gcc_options *opts)\n   opts->x_flag_errno_math = 0;\n   opts->frontend_set_flag_errno_math = true;\n \n-  /* We turn on stack splitting if we can.  */\n-  if (targetm_common.supports_split_stack (false, opts))\n-    opts->x_flag_split_stack = 1;\n-\n   /* Exceptions are used to handle recovering from panics.  */\n   opts->x_flag_exceptions = 1;\n   opts->x_flag_non_call_exceptions = 1;\n@@ -292,6 +288,11 @@ go_langhook_post_options (const char **pfilename ATTRIBUTE_UNUSED)\n       && global_options.x_write_symbols == NO_DEBUG)\n     global_options.x_write_symbols = PREFERRED_DEBUGGING_TYPE;\n \n+  /* We turn on stack splitting if we can.  */\n+  if (!global_options_set.x_flag_split_stack\n+      && targetm_common.supports_split_stack (false, &global_options))\n+    global_options.x_flag_split_stack = 1;\n+\n   /* Returning false means that the backend should be used.  */\n   return false;\n }"}]}