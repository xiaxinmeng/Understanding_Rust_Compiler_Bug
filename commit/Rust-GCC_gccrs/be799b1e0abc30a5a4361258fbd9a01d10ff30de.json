{"sha": "be799b1e0abc30a5a4361258fbd9a01d10ff30de", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmU3OTliMWUwYWJjMzBhNWE0MzYxMjU4ZmJkOWEwMWQxMGZmMzBkZQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2004-01-19T22:10:31Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2004-01-19T22:10:31Z"}, "message": "re PR c++/13651 (double error message when using incomplete types in a struct)\n\n\tPR c++/13651\n\t* parser.c (cp_parser_postfix_expression): When encountering\n\tincomplete type on left-hand side of \"->\" or \".\", treat the entire\n\texpression as erroneous.\n\nFrom-SVN: r76180", "tree": {"sha": "d091f90bf427f908e9d01c082bd1926aacd77e10", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d091f90bf427f908e9d01c082bd1926aacd77e10"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/be799b1e0abc30a5a4361258fbd9a01d10ff30de", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be799b1e0abc30a5a4361258fbd9a01d10ff30de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/be799b1e0abc30a5a4361258fbd9a01d10ff30de", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be799b1e0abc30a5a4361258fbd9a01d10ff30de/comments", "author": null, "committer": null, "parents": [{"sha": "9ce79a7a5ee9a5dbf634979dc17534d01459104f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9ce79a7a5ee9a5dbf634979dc17534d01459104f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9ce79a7a5ee9a5dbf634979dc17534d01459104f"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "c6a5f943d4c4a1cf104e91a5f21e86a434e779f8", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be799b1e0abc30a5a4361258fbd9a01d10ff30de/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be799b1e0abc30a5a4361258fbd9a01d10ff30de/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=be799b1e0abc30a5a4361258fbd9a01d10ff30de", "patch": "@@ -1,5 +1,10 @@\n 2004-01-19  Mark Mitchell  <mark@codesourcery.com>\n \n+\tPR c++/13651\n+\t* parser.c (cp_parser_postfix_expression): When encountering\n+\tincomplete type on left-hand side of \"->\" or \".\", treat the entire\n+\texpression as erroneous.\n+\n \tPR c++/13592\n \t* call.c (build_field_call): Remove.\n \t(n_build_method_call): Likewise."}, {"sha": "284afc68c7da41c916a216b6c97281c9a3843075", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be799b1e0abc30a5a4361258fbd9a01d10ff30de/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be799b1e0abc30a5a4361258fbd9a01d10ff30de/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=be799b1e0abc30a5a4361258fbd9a01d10ff30de", "patch": "@@ -3849,6 +3849,11 @@ cp_parser_postfix_expression (cp_parser *parser, bool address_p)\n \t\t   being dependent.  */\n \t\tif (!scope)\n \t\t  scope = error_mark_node;\n+\t\t/* If the SCOPE was erroneous, make the various\n+\t\t   semantic analysis functions exit quickly -- and\n+\t\t   without issuing additional error messages.  */\n+\t\tif (scope == error_mark_node)\n+\t\t  postfix_expression = error_mark_node;\n \t      }\n \n \t    /* Consume the `.' or `->' operator.  */"}]}