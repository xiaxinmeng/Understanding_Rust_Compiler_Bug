{"sha": "def88a88c4a6096e2204ca9b2776f1ef00b762b8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGVmODhhODhjNGE2MDk2ZTIyMDRjYTliMjc3NmYxZWYwMGI3NjJiOA==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2009-02-02T00:41:52Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2009-02-02T00:41:52Z"}, "message": "re PR c++/39053 (ICE with broken function declaration)\n\n/cp\n2009-02-01  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/39053\n\t* parser.c (cp_parser_pure_specifier): If there are no tokens left\n\tdo not call cp_lexer_consume_token.\n\n/testsuite\n2009-02-01  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/39053\n\t* g++.dg/parse/crash52.C: New.\n\nFrom-SVN: r143861", "tree": {"sha": "d570be31ea5606581fa0af5ca3f8f054a51407cf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d570be31ea5606581fa0af5ca3f8f054a51407cf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/def88a88c4a6096e2204ca9b2776f1ef00b762b8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/def88a88c4a6096e2204ca9b2776f1ef00b762b8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/def88a88c4a6096e2204ca9b2776f1ef00b762b8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/def88a88c4a6096e2204ca9b2776f1ef00b762b8/comments", "author": null, "committer": null, "parents": [{"sha": "27c40174aee71acf3a80a3b65d2222ad664981bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/27c40174aee71acf3a80a3b65d2222ad664981bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/27c40174aee71acf3a80a3b65d2222ad664981bb"}], "stats": {"total": 22, "additions": 21, "deletions": 1}, "files": [{"sha": "eeec03d466fe4b8adb78b881771ac9eee626483d", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/def88a88c4a6096e2204ca9b2776f1ef00b762b8/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/def88a88c4a6096e2204ca9b2776f1ef00b762b8/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=def88a88c4a6096e2204ca9b2776f1ef00b762b8", "patch": "@@ -1,3 +1,9 @@\n+2009-02-01  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+        PR c++/39053\n+        * parser.c (cp_parser_pure_specifier): If there are no tokens left\n+        do not call cp_lexer_consume_token.\n+\n 2009-01-30  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c++/39028"}, {"sha": "5675e9bca12a777c702ab63e3d38bfcbd1a43a48", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/def88a88c4a6096e2204ca9b2776f1ef00b762b8/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/def88a88c4a6096e2204ca9b2776f1ef00b762b8/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=def88a88c4a6096e2204ca9b2776f1ef00b762b8", "patch": "@@ -15997,7 +15997,13 @@ cp_parser_pure_specifier (cp_parser* parser)\n   if (!cp_parser_require (parser, CPP_EQ, \"%<=%>\"))\n     return error_mark_node;\n   /* Look for the `0' token.  */\n-  token = cp_lexer_consume_token (parser->lexer);\n+  token = cp_lexer_peek_token (parser->lexer);\n+\n+  if (token->type == CPP_EOF\n+      || token->type == CPP_PRAGMA_EOL)\n+    return error_mark_node;\n+\n+  cp_lexer_consume_token (parser->lexer);\n \n   /* Accept = default or = delete in c++0x mode.  */\n   if (token->keyword == RID_DEFAULT"}, {"sha": "d5040061715f1516e544d51f917f0b0a74963829", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/def88a88c4a6096e2204ca9b2776f1ef00b762b8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/def88a88c4a6096e2204ca9b2776f1ef00b762b8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=def88a88c4a6096e2204ca9b2776f1ef00b762b8", "patch": "@@ -1,3 +1,8 @@\n+2009-02-01  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+        PR c++/39053\n+        * g++.dg/parse/crash52.C: New.\n+\n 2009-01-30  Richard Guenther  <rguenther@suse.de>\n \n \tPR tree-optimization/39041"}, {"sha": "bc7f03c8d972351ee2e00d42b33ee807901c7d18", "filename": "gcc/testsuite/g++.dg/parse/crash52.C", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/def88a88c4a6096e2204ca9b2776f1ef00b762b8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fcrash52.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/def88a88c4a6096e2204ca9b2776f1ef00b762b8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fcrash52.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fcrash52.C?ref=def88a88c4a6096e2204ca9b2776f1ef00b762b8", "patch": "@@ -0,0 +1,3 @@\n+// PR c++/39053\n+\n+void foo() = // { dg-error \"initialized|expected\" }"}]}