{"sha": "d5b5b6bca0e7126a75715c2478a62dd4b5ed8808", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDViNWI2YmNhMGU3MTI2YTc1NzE1YzI0NzhhNjJkZDRiNWVkODgwOA==", "commit": {"author": {"name": "Jeff Law", "email": "law@redhat.com", "date": "2009-10-23T03:43:14Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2009-10-23T03:43:14Z"}, "message": "ira-lives.c (process_single_reg_class_operands): Update the hard reg costs for all the hard registers desired by the single reg...\n\n\t* ira-lives.c (process_single_reg_class_operands): Update the \n\thard reg costs for all the hard registers desired by the single\n\treg class operand.\n\nFrom-SVN: r153487", "tree": {"sha": "4892b18235641740a7dc4b8fb22a1dd5935436b7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4892b18235641740a7dc4b8fb22a1dd5935436b7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d5b5b6bca0e7126a75715c2478a62dd4b5ed8808", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5b5b6bca0e7126a75715c2478a62dd4b5ed8808", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d5b5b6bca0e7126a75715c2478a62dd4b5ed8808", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5b5b6bca0e7126a75715c2478a62dd4b5ed8808/comments", "author": null, "committer": null, "parents": [{"sha": "5ba0d527e18ab35026c308c1e4ca94b732fb705f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5ba0d527e18ab35026c308c1e4ca94b732fb705f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5ba0d527e18ab35026c308c1e4ca94b732fb705f"}], "stats": {"total": 17, "additions": 13, "deletions": 4}, "files": [{"sha": "e5c2679838410647867e7538149b02ab5d9c9308", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5b5b6bca0e7126a75715c2478a62dd4b5ed8808/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5b5b6bca0e7126a75715c2478a62dd4b5ed8808/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d5b5b6bca0e7126a75715c2478a62dd4b5ed8808", "patch": "@@ -1,3 +1,9 @@\n+2009-10-22  Jeff Law  <law@redhat.com>\n+\n+\t* ira-lives.c (process_single_reg_class_operands): Update the \n+\thard reg costs for all the hard registers desired by the\n+\tsingle reg class operand.\n+\n 2009-10-22  Richard Sandiford  <rdsandiford@googlemail.com>\n \n \t* simplify-rtx.c (simplify_replace_fn_rtx): Add a fallback case"}, {"sha": "c67e89cbd792dfd06aadab11000fc6d5898eb471", "filename": "gcc/ira-lives.c", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5b5b6bca0e7126a75715c2478a62dd4b5ed8808/gcc%2Fira-lives.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5b5b6bca0e7126a75715c2478a62dd4b5ed8808/gcc%2Fira-lives.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fira-lives.c?ref=d5b5b6bca0e7126a75715c2478a62dd4b5ed8808", "patch": "@@ -841,17 +841,20 @@ process_single_reg_class_operands (bool in_p, int freq)\n \t\t  [ira_class_hard_regs[cl][0]]) >= 0\n \t      && reg_class_size[cl] <= (unsigned) CLASS_MAX_NREGS (cl, mode))\n \t    {\n+\t      int i, size;\n \t      cost\n \t\t= (freq\n \t\t   * (in_p\n \t\t      ? ira_get_register_move_cost (mode, cover_class, cl)\n \t\t      : ira_get_register_move_cost (mode, cl, cover_class)));\n \t      ira_allocate_and_set_costs\n \t\t(&ALLOCNO_CONFLICT_HARD_REG_COSTS (operand_a), cover_class, 0);\n-\t      ALLOCNO_CONFLICT_HARD_REG_COSTS (operand_a)\n-\t\t[ira_class_hard_reg_index\n-\t\t [cover_class][ira_class_hard_regs[cl][0]]]\n-\t\t-= cost;\n+\t      size = ira_reg_class_nregs[cover_class][mode];\n+\t      for (i = 0; i < size; i++)\n+\t        ALLOCNO_CONFLICT_HARD_REG_COSTS (operand_a)\n+\t\t  [ira_class_hard_reg_index\n+\t\t   [cover_class][ira_class_hard_regs[cl][i]]]\n+\t\t  -= cost;\n \t    }\n \t}\n "}]}