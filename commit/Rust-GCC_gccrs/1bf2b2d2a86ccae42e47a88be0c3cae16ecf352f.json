{"sha": "1bf2b2d2a86ccae42e47a88be0c3cae16ecf352f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWJmMmIyZDJhODZjY2FlNDJlNDdhODhiZTBjM2NhZTE2ZWNmMzUyZg==", "commit": {"author": {"name": "Brendan Kehoe", "email": "brendan@lisa.cygnus.com", "date": "1996-12-20T20:26:35Z"}, "committer": {"name": "Brendan Kehoe", "email": "brendan@gcc.gnu.org", "date": "1996-12-20T20:26:35Z"}, "message": "g++spec.c (lang_specific_driver): Put missing hyphen in front of arguments we compare against.\n\n        * g++spec.c (lang_specific_driver): Put missing hyphen in front of\n        arguments we compare against.  Start the count of I at 1, not 0,\n        since argv[0] is still the command.\n\nFrom-SVN: r13338", "tree": {"sha": "322145e5809e204eae5dce2d235bb10ae6f3b94d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/322145e5809e204eae5dce2d235bb10ae6f3b94d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1bf2b2d2a86ccae42e47a88be0c3cae16ecf352f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1bf2b2d2a86ccae42e47a88be0c3cae16ecf352f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1bf2b2d2a86ccae42e47a88be0c3cae16ecf352f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1bf2b2d2a86ccae42e47a88be0c3cae16ecf352f/comments", "author": null, "committer": null, "parents": [{"sha": "82c6faa8bafe35d63fd906899140eae9d98b9b55", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82c6faa8bafe35d63fd906899140eae9d98b9b55", "html_url": "https://github.com/Rust-GCC/gccrs/commit/82c6faa8bafe35d63fd906899140eae9d98b9b55"}], "stats": {"total": 31, "additions": 17, "deletions": 14}, "files": [{"sha": "e0ad92a9e7b6a28701250868d356dc6cc263e1f2", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1bf2b2d2a86ccae42e47a88be0c3cae16ecf352f/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1bf2b2d2a86ccae42e47a88be0c3cae16ecf352f/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=1bf2b2d2a86ccae42e47a88be0c3cae16ecf352f", "patch": "@@ -1,3 +1,9 @@\n+Fri Dec 20 12:17:12 1996  Brendan Kehoe  <brendan@lisa.cygnus.com>\n+\n+\t* g++spec.c (lang_specific_driver): Put missing hyphen in front of\n+\targuments we compare against.  Start the count of I at 1, not 0,\n+\tsince argv[0] is still the command.\n+\n Mon Dec 16 22:43:31 1996  Brendan Kehoe  <brendan@lisa.cygnus.com>\n \n \t* cp-tree.h (ptr_reasonably_similar): Add decl."}, {"sha": "e4bfc8d6d881db9b40b00401787df1fb4a61421f", "filename": "gcc/cp/g++spec.c", "status": "modified", "additions": 11, "deletions": 14, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1bf2b2d2a86ccae42e47a88be0c3cae16ecf352f/gcc%2Fcp%2Fg%2B%2Bspec.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1bf2b2d2a86ccae42e47a88be0c3cae16ecf352f/gcc%2Fcp%2Fg%2B%2Bspec.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fg%2B%2Bspec.c?ref=1bf2b2d2a86ccae42e47a88be0c3cae16ecf352f", "patch": "@@ -76,8 +76,7 @@ lang_specific_driver (fn, in_argc, in_argv)\n   args = (int *) xmalloc (argc * sizeof (int));\n   bzero ((char *) args, argc * sizeof (int));\n \n-  /* NOTE: We start at 0 now, not 1.  */\n-  for (i = 0; i < argc; i++)\n+  for (i = 1; i < argc; i++)\n     {\n       /* If the previous option took an argument, we swallow it here.  */\n       if (quote)\n@@ -93,13 +92,13 @@ lang_specific_driver (fn, in_argc, in_argv)\n \n       if (argv[i][0] == '-')\n \t{\n-\t  if (library != 0 && (strcmp (argv[i], \"nostdlib\") == 0\n-\t\t\t       || strcmp (argv[i], \"nodefaultlibs\") == 0))\n+\t  if (library != 0 && (strcmp (argv[i], \"-nostdlib\") == 0\n+\t\t\t       || strcmp (argv[i], \"-nodefaultlibs\") == 0))\n \t    {\n \t      library = 0;\n \t    }\n-\t  else if (strcmp (argv[i], \"lm\") == 0\n-\t\t   || strcmp (argv[i], \"lmath\") == 0\n+\t  else if (strcmp (argv[i], \"-lm\") == 0\n+\t\t   || strcmp (argv[i], \"-lmath\") == 0\n #ifdef ALT_LIBM\n \t\t   || strcmp (argv[i], ALT_LIBM) == 0\n #endif\n@@ -108,29 +107,27 @@ lang_specific_driver (fn, in_argc, in_argv)\n \t      args[i] |= MATHLIB;\n \t      need_math = 0;\n \t    }\n-\t  else if (strcmp (argv[i], \"lc\") == 0)\n+\t  else if (strcmp (argv[i], \"-lc\") == 0)\n \t    args[i] |= WITHLIBC;\n-\t  else if (strcmp (argv[i], \"v\") == 0)\n+\t  else if (strcmp (argv[i], \"-v\") == 0)\n \t    {\n \t      saw_verbose_flag = 1;\n-\t      /* We now see if this is 1, since we are doing the switches\n-\t\t differently.  */\n-\t      if (argc == 1)\n+\t      if (argc == 2)\n \t\t{\n \t\t  /* If they only gave us `-v', don't try to link\n \t\t     in libg++.  */ \n \t\t  library = 0;\n \t\t}\n \t    }\n-\t  else if (strncmp (argv[i], \"x\", 2) == 0)\n+\t  else if (strncmp (argv[i], \"-x\", 2) == 0)\n \t    saw_speclang = 1;\n \t  else if (((argv[i][2] == '\\0'\n \t\t     && (char *)strchr (\"bBVDUoeTuIYmLiA\", argv[i][1]) != NULL)\n-\t\t    || strcmp (argv[i], \"Tdata\") == 0))\n+\t\t    || strcmp (argv[i], \"-Tdata\") == 0))\n \t    quote = argv[i];\n \t  else if (library != 0 && ((argv[i][2] == '\\0'\n \t\t     && (char *) strchr (\"cSEM\", argv[i][1]) != NULL)\n-\t\t    || strcmp (argv[i], \"MM\") == 0))\n+\t\t    || strcmp (argv[i], \"-MM\") == 0))\n \t    {\n \t      /* Don't specify libraries if we won't link, since that would\n \t\t cause a warning.  */"}]}