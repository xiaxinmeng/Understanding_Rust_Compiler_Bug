{"sha": "f173837aade126f9e3185425ab4c9fca7f7345dd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjE3MzgzN2FhZGUxMjZmOWUzMTg1NDI1YWI0YzlmY2E3ZjczNDVkZA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2007-02-15T21:43:28Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2007-02-15T21:43:28Z"}, "message": "gimplify.c (gimplify_modify_expr): During gimplification...\n\n\t* gimplify.c (gimplify_modify_expr): During gimplification, attach a\n\tDECL on the rhs to a DECL on the lhs for debug info purposes if the\n\tformer is ignored but not the latter.\n\nFrom-SVN: r122015", "tree": {"sha": "60f67d7b33fd76061676f8017753f64f79016c81", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/60f67d7b33fd76061676f8017753f64f79016c81"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f173837aade126f9e3185425ab4c9fca7f7345dd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f173837aade126f9e3185425ab4c9fca7f7345dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f173837aade126f9e3185425ab4c9fca7f7345dd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f173837aade126f9e3185425ab4c9fca7f7345dd/comments", "author": null, "committer": null, "parents": [{"sha": "befdad071460a1bb49cb37691c73721f2e88c282", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/befdad071460a1bb49cb37691c73721f2e88c282", "html_url": "https://github.com/Rust-GCC/gccrs/commit/befdad071460a1bb49cb37691c73721f2e88c282"}], "stats": {"total": 19, "additions": 19, "deletions": 0}, "files": [{"sha": "2ea38dd90eaee627a94270ceee6aadcb884c472b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f173837aade126f9e3185425ab4c9fca7f7345dd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f173837aade126f9e3185425ab4c9fca7f7345dd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f173837aade126f9e3185425ab4c9fca7f7345dd", "patch": "@@ -1,3 +1,9 @@\n+2007-02-15  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gimplify.c (gimplify_modify_expr): During gimplification, attach a\n+\tDECL on the rhs to a DECL on the lhs for debug info purposes if the\n+\tformer is ignored but not the latter.\n+\n 2007-02-15  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* expr.c (expand_expr_real_1) <normal_inner_ref>: If a temporary"}, {"sha": "d615aa3bbad8cdfe1576e31ea96f0f2e314bd95d", "filename": "gcc/gimplify.c", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f173837aade126f9e3185425ab4c9fca7f7345dd/gcc%2Fgimplify.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f173837aade126f9e3185425ab4c9fca7f7345dd/gcc%2Fgimplify.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimplify.c?ref=f173837aade126f9e3185425ab4c9fca7f7345dd", "patch": "@@ -3654,6 +3654,19 @@ gimplify_modify_expr (tree *expr_p, tree *pre_p, tree *post_p, bool want_value)\n       *to_p = make_ssa_name (*to_p, *expr_p);\n     }\n \n+  /* Try to alleviate the effects of the gimplification creating artificial\n+     temporaries (see for example is_gimple_reg_rhs) on the debug info.  */\n+  if (!gimplify_ctxp->into_ssa\n+      && DECL_P (*from_p) && DECL_IGNORED_P (*from_p)\n+      && DECL_P (*to_p) && !DECL_IGNORED_P (*to_p))\n+    {\n+      if (!DECL_NAME (*from_p) && DECL_NAME (*to_p))\n+\tDECL_NAME (*from_p)\n+\t  = create_tmp_var_name (IDENTIFIER_POINTER (DECL_NAME (*to_p)));\n+      DECL_DEBUG_EXPR_IS_FROM (*from_p) = 1;\n+      SET_DECL_DEBUG_EXPR (*from_p, *to_p);\n+    }\n+\n   if (want_value)\n     {\n       tree_to_gimple_tuple (expr_p);"}]}