{"sha": "51c4eb9bbfd126580e88d86b8d740d2c0c011558", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTFjNGViOWJiZmQxMjY1ODBlODhkODZiOGQ3NDBkMmMwYzAxMTU1OA==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1998-05-24T20:56:17Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-05-24T20:56:17Z"}, "message": "* g++.old-deja/old-deja.exp: Strip leading directories.\n\nFrom-SVN: r20034", "tree": {"sha": "13d68a46287769d5287f96863c78e09873d6f15f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/13d68a46287769d5287f96863c78e09873d6f15f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/51c4eb9bbfd126580e88d86b8d740d2c0c011558", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/51c4eb9bbfd126580e88d86b8d740d2c0c011558", "html_url": "https://github.com/Rust-GCC/gccrs/commit/51c4eb9bbfd126580e88d86b8d740d2c0c011558", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/51c4eb9bbfd126580e88d86b8d740d2c0c011558/comments", "author": null, "committer": null, "parents": [{"sha": "61819ba58e34db133ba00528d96b07feccc154fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61819ba58e34db133ba00528d96b07feccc154fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61819ba58e34db133ba00528d96b07feccc154fc"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "90eca6872105f77b074ccc2e73e66263eab53902", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/51c4eb9bbfd126580e88d86b8d740d2c0c011558/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/51c4eb9bbfd126580e88d86b8d740d2c0c011558/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=51c4eb9bbfd126580e88d86b8d740d2c0c011558", "patch": "@@ -1,5 +1,7 @@\n 1998-05-24  Jason Merrill  <jason@yorick.cygnus.com>\n \n+\t* g++.old-deja/old-deja.exp: Strip leading directories.\n+\n \t* lib/old-dejagnu.exp: All tests fail if we got an internal compiler\n \terror for the line.  Don't run multiple tests for the same line.\n "}, {"sha": "3567f51154f9545fdf27ec75078bf76710093038", "filename": "gcc/testsuite/g++.old-deja/old-deja.exp", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/51c4eb9bbfd126580e88d86b8d740d2c0c011558/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fold-deja.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/51c4eb9bbfd126580e88d86b8d740d2c0c011558/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fold-deja.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fold-deja.exp?ref=51c4eb9bbfd126580e88d86b8d740d2c0c011558", "patch": "@@ -43,10 +43,11 @@ global GXX_UNDER_TEST\n # main test loop\n #\n \n-\n+set dirlen [expr [string length \"$srcdir/$subdir\"] + 1];\n foreach file [lsort [find $srcdir/$subdir *.C]] {\n     # If we're only testing specific files and this isn't one of them, skip it.\n-    if ![runtest_file_p $runtests $file] then {\n+    set tfile [string range $file $dirlen end];\n+    if ![runtest_file_p $runtests $tfile] then {\n \tcontinue\n     }\n     verbose \"Testing $file\""}]}