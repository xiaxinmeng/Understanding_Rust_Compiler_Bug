{"sha": "b0957daf070e13e7c298370996e2db3a6ca3c959", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjA5NTdkYWYwNzBlMTNlN2MyOTgzNzA5OTZlMmRiM2E2Y2EzYzk1OQ==", "commit": {"author": {"name": "Andrew Pinski", "email": "andrew_pinski@playstation.sony.com", "date": "2009-03-27T13:28:44Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2009-03-27T13:28:44Z"}, "message": "re PR c++/36799 ([c++0x] error on va_copy in -std=c++0x mode)\n\ngcc/\n\n2009-03-27  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n\n\tPR c++/36799\n\t* ginclude/stdarg.h (va_copy): Define also for __GXX_EXPERIMENTAL_CXX0X__.\n\ngcc/testsuite/\n\n2009-03-27  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n\n\tPR c++/36799\n\t* g++.dg/other/var_copy-1.C: New test.\n\nFrom-SVN: r145106", "tree": {"sha": "a38451092e158c8419463dbf8921beb19a053478", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a38451092e158c8419463dbf8921beb19a053478"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b0957daf070e13e7c298370996e2db3a6ca3c959", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b0957daf070e13e7c298370996e2db3a6ca3c959", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b0957daf070e13e7c298370996e2db3a6ca3c959", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b0957daf070e13e7c298370996e2db3a6ca3c959/comments", "author": null, "committer": null, "parents": [{"sha": "48b6cd9d20b473886b39b2a206765da747a88484", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/48b6cd9d20b473886b39b2a206765da747a88484", "html_url": "https://github.com/Rust-GCC/gccrs/commit/48b6cd9d20b473886b39b2a206765da747a88484"}], "stats": {"total": 26, "additions": 25, "deletions": 1}, "files": [{"sha": "9245f6b2b47339286314c022939ec1827815ab75", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b0957daf070e13e7c298370996e2db3a6ca3c959/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b0957daf070e13e7c298370996e2db3a6ca3c959/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b0957daf070e13e7c298370996e2db3a6ca3c959", "patch": "@@ -1,3 +1,8 @@\n+2009-03-27  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n+\n+\tPR c++/36799\n+\t* ginclude/stdarg.h (va_copy): Define also for __GXX_EXPERIMENTAL_CXX0X__.\n+\n 2009-03-27  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n \n \tPR c++/35652"}, {"sha": "5061f34e119ddd462040c450564cf9189ecca6c9", "filename": "gcc/ginclude/stdarg.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b0957daf070e13e7c298370996e2db3a6ca3c959/gcc%2Fginclude%2Fstdarg.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b0957daf070e13e7c298370996e2db3a6ca3c959/gcc%2Fginclude%2Fstdarg.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fginclude%2Fstdarg.h?ref=b0957daf070e13e7c298370996e2db3a6ca3c959", "patch": "@@ -50,7 +50,7 @@ typedef __builtin_va_list __gnuc_va_list;\n #define va_start(v,l)\t__builtin_va_start(v,l)\n #define va_end(v)\t__builtin_va_end(v)\n #define va_arg(v,l)\t__builtin_va_arg(v,l)\n-#if !defined(__STRICT_ANSI__) || __STDC_VERSION__ + 0 >= 199900L\n+#if !defined(__STRICT_ANSI__) || __STDC_VERSION__ + 0 >= 199900L || defined(__GXX_EXPERIMENTAL_CXX0X__)\n #define va_copy(d,s)\t__builtin_va_copy(d,s)\n #endif\n #define __va_copy(d,s)\t__builtin_va_copy(d,s)"}, {"sha": "1a3843e3707f7d5cf6d6814a5580e1d34a7f3555", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b0957daf070e13e7c298370996e2db3a6ca3c959/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b0957daf070e13e7c298370996e2db3a6ca3c959/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b0957daf070e13e7c298370996e2db3a6ca3c959", "patch": "@@ -1,3 +1,8 @@\n+2009-03-27  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n+\n+\tPR c++/36799\n+\t* g++.dg/other/var_copy-1.C: New test.\n+\n 2009-03-27  Simon Martin  <simartin@users.sourceforge.net>\n \n \tPR c++/37647"}, {"sha": "2fc6b780e18a7157231d7e4a43d467272e54deda", "filename": "gcc/testsuite/g++.dg/other/var_copy-1.C", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b0957daf070e13e7c298370996e2db3a6ca3c959/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fvar_copy-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b0957daf070e13e7c298370996e2db3a6ca3c959/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fvar_copy-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fvar_copy-1.C?ref=b0957daf070e13e7c298370996e2db3a6ca3c959", "patch": "@@ -0,0 +1,14 @@\n+// { dg-options \"-std=c++0x\" }\n+// { dg-do compile }\n+\n+// Test to allow for va_copy with C++0x standard.\n+\n+#include <cstdarg>\n+\n+va_list x;\n+va_list y;\n+\n+int main ()\n+{\n+    va_copy (y, x);\n+}"}]}