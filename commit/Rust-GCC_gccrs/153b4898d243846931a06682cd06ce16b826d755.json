{"sha": "153b4898d243846931a06682cd06ce16b826d755", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTUzYjQ4OThkMjQzODQ2OTMxYTA2NjgyY2QwNmNlMTZiODI2ZDc1NQ==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@physics.uc.edu", "date": "2005-12-11T06:28:35Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2005-12-11T06:28:35Z"}, "message": "re PR libobjc/25346 (objc_sizeof_type does not handle _Bool at all)\n\n2005-12-11  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR libobjc/25346\n        * objc/objc-api.h (_C_BOOL): New define.\n        * encoding.c (objc_sizeof_type): Handle _C_BOOL.\n        (objc_alignof_type): Likewise.\n        (objc_skip_typespec): Likewise.\n\n2005-12-11  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR libobjc/25346\n        * objc.dg/encode-7.m: New test.\n\nFrom-SVN: r108378", "tree": {"sha": "420342e937a38ecbfb6c217f8abd0a9f255e7a29", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/420342e937a38ecbfb6c217f8abd0a9f255e7a29"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/153b4898d243846931a06682cd06ce16b826d755", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/153b4898d243846931a06682cd06ce16b826d755", "html_url": "https://github.com/Rust-GCC/gccrs/commit/153b4898d243846931a06682cd06ce16b826d755", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/153b4898d243846931a06682cd06ce16b826d755/comments", "author": null, "committer": null, "parents": [{"sha": "b91365538ab86873619628d4f8e2ea692ea5b212", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b91365538ab86873619628d4f8e2ea692ea5b212", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b91365538ab86873619628d4f8e2ea692ea5b212"}], "stats": {"total": 41, "additions": 41, "deletions": 0}, "files": [{"sha": "71286b1cb8ac4dc39edd346eb876c8602a47b77f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/153b4898d243846931a06682cd06ce16b826d755/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/153b4898d243846931a06682cd06ce16b826d755/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=153b4898d243846931a06682cd06ce16b826d755", "patch": "@@ -1,3 +1,8 @@\n+2005-12-11  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR libobjc/25346\n+\t* objc.dg/encode-7.m: New test.\n+\n 2005-12-10  Mark Mitchell  <mark@codesourcery.com>\n \n \tPR c++/25010"}, {"sha": "0b49a415c291d891f1b47d2cbb093de79b351d02", "filename": "gcc/testsuite/objc.dg/encode-7.m", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/153b4898d243846931a06682cd06ce16b826d755/gcc%2Ftestsuite%2Fobjc.dg%2Fencode-7.m", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/153b4898d243846931a06682cd06ce16b826d755/gcc%2Ftestsuite%2Fobjc.dg%2Fencode-7.m", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobjc.dg%2Fencode-7.m?ref=153b4898d243846931a06682cd06ce16b826d755", "patch": "@@ -0,0 +1,18 @@\n+/* { dg-options \"-fgnu-runtime\" } */\n+/* { dg-do run } */\n+\n+#include <objc/encoding.h>\n+#include <stdlib.h>\n+\n+struct f\n+{\n+  _Bool a;\n+};\n+\n+\n+int main(void)\n+{\n+  if (objc_sizeof_type (@encode (struct f)) != sizeof(struct f))\n+   abort ();\n+  return 0;\n+}"}, {"sha": "56f1ef8a8569fbee13d311de4097cc75520ef5e3", "filename": "libobjc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/153b4898d243846931a06682cd06ce16b826d755/libobjc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/153b4898d243846931a06682cd06ce16b826d755/libobjc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2FChangeLog?ref=153b4898d243846931a06682cd06ce16b826d755", "patch": "@@ -1,3 +1,11 @@\n+2005-12-11  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR libobjc/25346\n+\t* objc/objc-api.h (_C_BOOL): New define.\n+\t* encoding.c (objc_sizeof_type): Handle _C_BOOL.\n+\t(objc_alignof_type): Likewise.\n+\t(objc_skip_typespec): Likewise.\n+\n 2005-11-20  David Ayers  <d.ayers@inode.at>\n \n \tPR libobjc/19024"}, {"sha": "7f6004fb9ca436711ed1e33c05be7198abedbb95", "filename": "libobjc/encoding.c", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/153b4898d243846931a06682cd06ce16b826d755/libobjc%2Fencoding.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/153b4898d243846931a06682cd06ce16b826d755/libobjc%2Fencoding.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fencoding.c?ref=153b4898d243846931a06682cd06ce16b826d755", "patch": "@@ -123,6 +123,10 @@ objc_sizeof_type (const char *type)\n     }\n \n   switch (*type) {\n+  case _C_BOOL:\n+    return sizeof (_Bool);\n+    break;\n+\n   case _C_ID:\n     return sizeof (id);\n     break;\n@@ -273,6 +277,10 @@ objc_alignof_type (const char *type)\n \t/* do nothing */;\n     }\n   switch (*type) {\n+  case _C_BOOL:\n+    return __alignof__ (_Bool);\n+    break;\n+\n   case _C_ID:\n     return __alignof__ (id);\n     break;\n@@ -496,6 +504,7 @@ objc_skip_typespec (const char *type)\n   case _C_INT:\n   case _C_UINT:\n   case _C_LNG:\n+  case _C_BOOL:\n   case _C_ULNG:\n   case _C_LNG_LNG:\n   case _C_ULNG_LNG:"}, {"sha": "e393c3952190ea45356a0f5954388013a3f385d8", "filename": "libobjc/objc/objc-api.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/153b4898d243846931a06682cd06ce16b826d755/libobjc%2Fobjc%2Fobjc-api.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/153b4898d243846931a06682cd06ce16b826d755/libobjc%2Fobjc%2Fobjc-api.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fobjc%2Fobjc-api.h?ref=153b4898d243846931a06682cd06ce16b826d755", "patch": "@@ -69,6 +69,7 @@ struct objc_method_description\n #define _C_FLT      'f'\n #define _C_DBL      'd'\n #define _C_BFLD     'b'\n+#define _C_BOOL\t    'B'\n #define _C_VOID     'v'\n #define _C_UNDEF    '?'\n #define _C_PTR      '^'"}]}