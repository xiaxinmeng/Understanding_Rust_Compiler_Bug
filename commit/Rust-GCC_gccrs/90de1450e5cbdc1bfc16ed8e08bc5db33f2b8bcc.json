{"sha": "90de1450e5cbdc1bfc16ed8e08bc5db33f2b8bcc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTBkZTE0NTBlNWNiZGMxYmZjMTZlZDhlMDhiYzVkYjMzZjJiOGJjYw==", "commit": {"author": {"name": "Bob Duff", "email": "duff@adacore.com", "date": "2007-12-13T10:34:11Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2007-12-13T10:34:11Z"}, "message": "s-soflin.ads: Apply new pragma Favor_Top_Level to all access-to-subprogram types in this package.\n\n2007-12-06  Bob Duff  <duff@adacore.com>\n\n\t* s-soflin.ads: Apply new pragma Favor_Top_Level to all\n\taccess-to-subprogram types in this package.\n\nFrom-SVN: r130862", "tree": {"sha": "d0a8d82b9c9b9b6b7830a7724bcc7e5bfa2a46d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d0a8d82b9c9b9b6b7830a7724bcc7e5bfa2a46d0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/90de1450e5cbdc1bfc16ed8e08bc5db33f2b8bcc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90de1450e5cbdc1bfc16ed8e08bc5db33f2b8bcc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/90de1450e5cbdc1bfc16ed8e08bc5db33f2b8bcc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90de1450e5cbdc1bfc16ed8e08bc5db33f2b8bcc/comments", "author": {"login": "bobduff", "id": 29099567, "node_id": "MDQ6VXNlcjI5MDk5NTY3", "avatar_url": "https://avatars.githubusercontent.com/u/29099567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bobduff", "html_url": "https://github.com/bobduff", "followers_url": "https://api.github.com/users/bobduff/followers", "following_url": "https://api.github.com/users/bobduff/following{/other_user}", "gists_url": "https://api.github.com/users/bobduff/gists{/gist_id}", "starred_url": "https://api.github.com/users/bobduff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bobduff/subscriptions", "organizations_url": "https://api.github.com/users/bobduff/orgs", "repos_url": "https://api.github.com/users/bobduff/repos", "events_url": "https://api.github.com/users/bobduff/events{/privacy}", "received_events_url": "https://api.github.com/users/bobduff/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d82d3baadfe0a2bbd44c9dc68da9c30d504edf6a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d82d3baadfe0a2bbd44c9dc68da9c30d504edf6a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d82d3baadfe0a2bbd44c9dc68da9c30d504edf6a"}], "stats": {"total": 24, "additions": 21, "deletions": 3}, "files": [{"sha": "19f851c4bf044884e0473bd7ebb313a8b9b37909", "filename": "gcc/ada/s-soflin.ads", "status": "modified", "additions": 21, "deletions": 3, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90de1450e5cbdc1bfc16ed8e08bc5db33f2b8bcc/gcc%2Fada%2Fs-soflin.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90de1450e5cbdc1bfc16ed8e08bc5db33f2b8bcc/gcc%2Fada%2Fs-soflin.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-soflin.ads?ref=90de1450e5cbdc1bfc16ed8e08bc5db33f2b8bcc", "patch": "@@ -40,16 +40,17 @@\n --  initialized, they are set to the real tasking versions.\n \n pragma Warnings (Off);\n+--  When compiling this package with older compilers, there are many warnings,\n+--  so we suppress them throughout most of this file. Pragmas Compiler_Unit,\n+--  Preelaborate_05, and Favor_Top_Level are not supported by older compilers.\n+\n pragma Compiler_Unit;\n-pragma Warnings (On);\n \n with Ada.Exceptions;\n with System.Stack_Checking;\n \n package System.Soft_Links is\n-   pragma Warnings (Off);\n    pragma Preelaborate_05;\n-   pragma Warnings (On);\n \n    subtype EOA is Ada.Exceptions.Exception_Occurrence_Access;\n    subtype EO is Ada.Exceptions.Exception_Occurrence;\n@@ -64,32 +65,47 @@ package System.Soft_Links is\n    --  values, which by default point to dummy no tasking versions of routines.\n \n    type No_Param_Proc     is access procedure;\n+   pragma Favor_Top_Level (No_Param_Proc);\n    type Addr_Param_Proc   is access procedure (Addr : Address);\n+   pragma Favor_Top_Level (Addr_Param_Proc);\n    type EO_Param_Proc     is access procedure (Excep : EO);\n+   pragma Favor_Top_Level (EO_Param_Proc);\n \n    type Get_Address_Call  is access function return Address;\n+   pragma Favor_Top_Level (Get_Address_Call);\n    type Set_Address_Call  is access procedure (Addr : Address);\n+   pragma Favor_Top_Level (Set_Address_Call);\n    type Set_Address_Call2 is access procedure\n      (Self_ID : Address; Addr : Address);\n+   pragma Favor_Top_Level (Set_Address_Call2);\n \n    type Get_Integer_Call  is access function return Integer;\n+   pragma Favor_Top_Level (Get_Integer_Call);\n    type Set_Integer_Call  is access procedure (Len : Integer);\n+   pragma Favor_Top_Level (Set_Integer_Call);\n \n    type Get_EOA_Call      is access function return EOA;\n+   pragma Favor_Top_Level (Get_EOA_Call);\n    type Set_EOA_Call      is access procedure (Excep : EOA);\n+   pragma Favor_Top_Level (Set_EOA_Call);\n    type Set_EO_Call       is access procedure (Excep : EO);\n+   pragma Favor_Top_Level (Set_EO_Call);\n \n    type Special_EO_Call   is access\n      procedure (Excep : EO := Current_Target_Exception);\n+   pragma Favor_Top_Level (Special_EO_Call);\n \n    type Timed_Delay_Call  is access\n      procedure (Time : Duration; Mode : Integer);\n+   pragma Favor_Top_Level (Timed_Delay_Call);\n \n    type Get_Stack_Access_Call is access\n      function return Stack_Checking.Stack_Access;\n+   pragma Favor_Top_Level (Get_Stack_Access_Call);\n \n    type Task_Name_Call is access\n      function return String;\n+   pragma Favor_Top_Level (Task_Name_Call);\n \n    --  Suppress checks on all these types, since we know the corrresponding\n    --  values can never be null (the soft links are always initialized).\n@@ -115,6 +131,8 @@ package System.Soft_Links is\n      function (Traceback : System.Address;\n                Len       : Natural)\n                return      String;\n+   pragma Favor_Top_Level (Traceback_Decorator_Wrapper_Call);\n+   pragma Warnings (On);\n \n    --  Declarations for the no tasking versions of the required routines\n "}]}