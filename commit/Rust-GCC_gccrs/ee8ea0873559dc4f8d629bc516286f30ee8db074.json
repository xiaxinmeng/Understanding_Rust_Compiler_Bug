{"sha": "ee8ea0873559dc4f8d629bc516286f30ee8db074", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWU4ZWEwODczNTU5ZGM0ZjhkNjI5YmM1MTYyODZmMzBlZThkYjA3NA==", "commit": {"author": {"name": "Manuel L\u00f3pez-Ib\u00e1\u00f1ez", "email": "manu@gcc.gnu.org", "date": "2008-03-04T20:28:52Z"}, "committer": {"name": "Manuel L\u00f3pez-Ib\u00e1\u00f1ez", "email": "manu@gcc.gnu.org", "date": "2008-03-04T20:28:52Z"}, "message": "re PR other/28322 (GCC new warnings and compatibility)\n\n2008-03-04  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n\n\tPR 28322\n\t* opts.c (handle_option): Postpone 'unknown option' errors only for\n\twarning options.\ntestsuite/\n\t* gcc.dg/pr28322-3.c: New.\n\nFrom-SVN: r132870", "tree": {"sha": "a4bcb1a165cff7bf3009a5e1b63f35b6f7e4fdd3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a4bcb1a165cff7bf3009a5e1b63f35b6f7e4fdd3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ee8ea0873559dc4f8d629bc516286f30ee8db074", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee8ea0873559dc4f8d629bc516286f30ee8db074", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee8ea0873559dc4f8d629bc516286f30ee8db074", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee8ea0873559dc4f8d629bc516286f30ee8db074/comments", "author": null, "committer": null, "parents": [{"sha": "b52209728c23e229bb55e858aec048da305e2c42", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b52209728c23e229bb55e858aec048da305e2c42", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b52209728c23e229bb55e858aec048da305e2c42"}], "stats": {"total": 23, "additions": 22, "deletions": 1}, "files": [{"sha": "f0425f8b21999d920e49b7520e5143c316ebdecf", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee8ea0873559dc4f8d629bc516286f30ee8db074/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee8ea0873559dc4f8d629bc516286f30ee8db074/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ee8ea0873559dc4f8d629bc516286f30ee8db074", "patch": "@@ -1,3 +1,9 @@\n+2008-03-04  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n+\n+\tPR 28322\n+\t* opts.c (handle_option): Postpone 'unknown option' errors only for\n+\twarning options.\n+\n 2008-03-04  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR target/35453"}, {"sha": "528c8b83460278cc08147d9d94e5cbc5d8ed57ad", "filename": "gcc/opts.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee8ea0873559dc4f8d629bc516286f30ee8db074/gcc%2Fopts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee8ea0873559dc4f8d629bc516286f30ee8db074/gcc%2Fopts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fopts.c?ref=ee8ea0873559dc4f8d629bc516286f30ee8db074", "patch": "@@ -505,7 +505,7 @@ handle_option (const char **argv, unsigned int lang_mask)\n       opt = dup;\n       value = 0;\n       opt_index = find_opt (opt + 1, lang_mask | CL_COMMON | CL_TARGET);\n-      if (opt_index == cl_options_count)\n+      if (opt_index == cl_options_count && opt[1] == 'W')\n \t{\n \t  /* We don't generate errors for unknown -Wno-* options\n              unless we issue diagnostics.  */"}, {"sha": "da4f3168ca8b3d8ea578b58f75745caa767a65c1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee8ea0873559dc4f8d629bc516286f30ee8db074/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee8ea0873559dc4f8d629bc516286f30ee8db074/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ee8ea0873559dc4f8d629bc516286f30ee8db074", "patch": "@@ -1,3 +1,8 @@\n+2008-03-04  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n+\n+\tPR 28322\n+\t* gcc.dg/pr28322-3.c: New.\n+\n 2008-03-04  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR target/35453"}, {"sha": "7a5a4c5790175278410ae6377d56756b85e05e6d", "filename": "gcc/testsuite/gcc.dg/pr28322-3.c", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee8ea0873559dc4f8d629bc516286f30ee8db074/gcc%2Ftestsuite%2Fgcc.dg%2Fpr28322-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee8ea0873559dc4f8d629bc516286f30ee8db074/gcc%2Ftestsuite%2Fgcc.dg%2Fpr28322-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr28322-3.c?ref=ee8ea0873559dc4f8d629bc516286f30ee8db074", "patch": "@@ -0,0 +1,10 @@\n+/* PR28322: ignore unknown -Wno-* if no warning is emitted.  */\n+/* { dg-do compile } */\n+/* { dg-options \" -fno-foobar -mno-foobar\" } */\n+\n+void foo(void)\n+{\n+  int i =  1;\n+}\n+/* { dg-message \"unrecognized command line option .-fno-foobar.\" \"\" { target *-*-* } 0 } */\n+/* { dg-message \"unrecognized command line option .-mno-foobar.\" \"\" { target *-*-* } 0 } */"}]}