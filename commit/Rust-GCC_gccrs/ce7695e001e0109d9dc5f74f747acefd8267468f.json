{"sha": "ce7695e001e0109d9dc5f74f747acefd8267468f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2U3Njk1ZTAwMWUwMTA5ZDlkYzVmNzRmNzQ3YWNlZmQ4MjY3NDY4Zg==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@acm.org", "date": "1999-10-04T15:13:26Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "1999-10-04T15:13:26Z"}, "message": "decl2.c (grok_alignof): Don't decay lvalues.\n\n\t* decl2.c (grok_alignof): Don't decay lvalues.\n\n\t* init.c (build_new): Remove unused variable.\n\nFrom-SVN: r29805", "tree": {"sha": "f382ba4aee25389cefd0b3c3edf170475a71635a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f382ba4aee25389cefd0b3c3edf170475a71635a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ce7695e001e0109d9dc5f74f747acefd8267468f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce7695e001e0109d9dc5f74f747acefd8267468f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce7695e001e0109d9dc5f74f747acefd8267468f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce7695e001e0109d9dc5f74f747acefd8267468f/comments", "author": {"login": "urnathan", "id": 13103001, "node_id": "MDQ6VXNlcjEzMTAzMDAx", "avatar_url": "https://avatars.githubusercontent.com/u/13103001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/urnathan", "html_url": "https://github.com/urnathan", "followers_url": "https://api.github.com/users/urnathan/followers", "following_url": "https://api.github.com/users/urnathan/following{/other_user}", "gists_url": "https://api.github.com/users/urnathan/gists{/gist_id}", "starred_url": "https://api.github.com/users/urnathan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/urnathan/subscriptions", "organizations_url": "https://api.github.com/users/urnathan/orgs", "repos_url": "https://api.github.com/users/urnathan/repos", "events_url": "https://api.github.com/users/urnathan/events{/privacy}", "received_events_url": "https://api.github.com/users/urnathan/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d38e58a5ab4b0c75a4845f7e570dcced5ca905ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d38e58a5ab4b0c75a4845f7e570dcced5ca905ac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d38e58a5ab4b0c75a4845f7e570dcced5ca905ac"}], "stats": {"total": 24, "additions": 7, "deletions": 17}, "files": [{"sha": "0588f0d047477be2d0f9149c63718ad808f561f0", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce7695e001e0109d9dc5f74f747acefd8267468f/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce7695e001e0109d9dc5f74f747acefd8267468f/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=ce7695e001e0109d9dc5f74f747acefd8267468f", "patch": "@@ -1,3 +1,9 @@\n+1999-10-04  Nathan Sidwell  <nathan@acm.org>\n+\n+\t* decl2.c (grok_alignof): Don't decay lvalues.\n+\t\n+\t* init.c (build_new): Remove unused variable.\n+\n 1999-10-04  Mark Mitchell  <mark@codesourcery.com>\n \n \t* cp-tree.h (struct language_function): Remove static_labelno."}, {"sha": "e128e8c6212ca73e72cff472322cb9657c7a6c9d", "filename": "gcc/cp/decl2.c", "status": "modified", "additions": 1, "deletions": 11, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce7695e001e0109d9dc5f74f747acefd8267468f/gcc%2Fcp%2Fdecl2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce7695e001e0109d9dc5f74f747acefd8267468f/gcc%2Fcp%2Fdecl2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl2.c?ref=ce7695e001e0109d9dc5f74f747acefd8267468f", "patch": "@@ -1050,17 +1050,7 @@ grok_alignof (expr)\n       return c_alignof (TREE_TYPE (TREE_TYPE (best)));\n     }\n   else\n-    {\n-      /* ANSI says arrays and fns are converted inside comma.\n-\t But we can't convert them in build_compound_expr\n-\t because that would break commas in lvalues.\n-\t So do the conversion here if operand was a comma.  */\n-      if (TREE_CODE (expr) == COMPOUND_EXPR\n-\t  && (TREE_CODE (TREE_TYPE (expr)) == ARRAY_TYPE\n-\t      || TREE_CODE (TREE_TYPE (expr)) == FUNCTION_TYPE))\n-\texpr = default_conversion (expr);\n-      return c_alignof (TREE_TYPE (expr));\n-    }\n+    return c_alignof (TREE_TYPE (expr));\n }\n \n /* Create an ARRAY_REF, checking for the user doing things backwards"}, {"sha": "83fd8c53eefce1982c2670eab549e642fe0f74c9", "filename": "gcc/cp/init.c", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce7695e001e0109d9dc5f74f747acefd8267468f/gcc%2Fcp%2Finit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce7695e001e0109d9dc5f74f747acefd8267468f/gcc%2Fcp%2Finit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Finit.c?ref=ce7695e001e0109d9dc5f74f747acefd8267468f", "patch": "@@ -1895,8 +1895,6 @@ build_new (placement, decl, init, use_global_new)\n   tree nelts = NULL_TREE, t;\n   int has_array = 0;\n \n-  tree pending_sizes = NULL_TREE;\n-\n   if (decl == error_mark_node)\n     return error_mark_node;\n \n@@ -2054,10 +2052,6 @@ build_new (placement, decl, init, use_global_new)\n   rval = build1 (NOP_EXPR, TREE_TYPE (rval), rval);\n   TREE_NO_UNUSED_WARNING (rval) = 1;\n \n-  if (pending_sizes)\n-    rval = build_compound_expr (chainon (pending_sizes,\n-\t\t\t\t\t build_expr_list (NULL_TREE, rval)));\n-\n   return rval;\n }\n "}]}