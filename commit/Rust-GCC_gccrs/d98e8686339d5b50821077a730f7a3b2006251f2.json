{"sha": "d98e8686339d5b50821077a730f7a3b2006251f2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDk4ZTg2ODYzMzlkNWI1MDgyMTA3N2E3MzBmN2EzYjIwMDYyNTFmMg==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2009-05-20T16:01:41Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2009-05-20T16:01:41Z"}, "message": "fold-const.c (build_fold_addr_expr_with_type): Take the address of the operand of VIEW_CONVERT_EXPR.\n\n\t* fold-const.c (build_fold_addr_expr_with_type): Take the address of\n\tthe operand of VIEW_CONVERT_EXPR.\n\nFrom-SVN: r147739", "tree": {"sha": "fdab576bb1a6b5daa8c14a1230d6407d28218072", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fdab576bb1a6b5daa8c14a1230d6407d28218072"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d98e8686339d5b50821077a730f7a3b2006251f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d98e8686339d5b50821077a730f7a3b2006251f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d98e8686339d5b50821077a730f7a3b2006251f2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d98e8686339d5b50821077a730f7a3b2006251f2/comments", "author": null, "committer": null, "parents": [{"sha": "37c5043589c8a28e3e2dc64bdc78fa22be5f96e1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37c5043589c8a28e3e2dc64bdc78fa22be5f96e1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/37c5043589c8a28e3e2dc64bdc78fa22be5f96e1"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "dd17f89fce9f77b803484bed0fe3d07eb031269c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d98e8686339d5b50821077a730f7a3b2006251f2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d98e8686339d5b50821077a730f7a3b2006251f2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d98e8686339d5b50821077a730f7a3b2006251f2", "patch": "@@ -1,3 +1,8 @@\n+2009-05-20  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* fold-const.c (build_fold_addr_expr_with_type): Take the address of\n+\tthe operand of VIEW_CONVERT_EXPR.\n+\n 2009-05-20  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* config/i386/driver-i386.c (host_detect_local_cpu): Check"}, {"sha": "0ac9e296c66dba28266c38c3b96cb1f0a218748c", "filename": "gcc/fold-const.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d98e8686339d5b50821077a730f7a3b2006251f2/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d98e8686339d5b50821077a730f7a3b2006251f2/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=d98e8686339d5b50821077a730f7a3b2006251f2", "patch": "@@ -7999,6 +7999,13 @@ build_fold_addr_expr_with_type (tree t, tree ptrtype)\n       if (TREE_TYPE (t) != ptrtype)\n \tt = build1 (NOP_EXPR, ptrtype, t);\n     }\n+  else if (TREE_CODE (t) == VIEW_CONVERT_EXPR)\n+    {\n+      t = build_fold_addr_expr (TREE_OPERAND (t, 0));\n+\n+      if (TREE_TYPE (t) != ptrtype)\n+\tt = fold_convert (ptrtype, t);\n+    }\n   else\n     t = build1 (ADDR_EXPR, ptrtype, t);\n "}]}