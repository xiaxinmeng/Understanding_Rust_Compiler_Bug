{"sha": "2b63596afe456e2e9878f67f286ab501398711a4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmI2MzU5NmFmZTQ1NmUyZTk4NzhmNjdmMjg2YWI1MDEzOTg3MTFhNA==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-02-22T16:31:03Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-02-22T16:31:03Z"}, "message": "configure.in: For *-*-cygwin32*, add a -I for winsup to both XCINCLUDES and XCXXINCLUDES.\n\n\t* configure.in: For *-*-cygwin32*, add a -I for winsup to both\n\tXCINCLUDES and XCXXINCLUDES.\n\t* config.shared: Use ${host_includes} when setting CXXINCLUDES in\n\tthe DOING_LIBGXX case.\n\t* Makefile.in (_G_config.h): Pass $(CINCLUDES) in CC and\n\t$(CXXINCLUDES) in CXX when running gen-params.\n\t* config.shared (THIS_FILE): Really found via TOLIBIO instead\n\tof TOLIBCXX, which is empty when configuring gperf.\n\t(LIBS): When linking gperf, find libstdc++ relative to TO_TOPDIR\n\tinstead of hardcoded \"../\".\n\nFrom-SVN: r18168", "tree": {"sha": "f53740af79d8f51fae42d963c2c277c7f56fd994", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f53740af79d8f51fae42d963c2c277c7f56fd994"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2b63596afe456e2e9878f67f286ab501398711a4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b63596afe456e2e9878f67f286ab501398711a4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2b63596afe456e2e9878f67f286ab501398711a4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b63596afe456e2e9878f67f286ab501398711a4/comments", "author": null, "committer": null, "parents": [{"sha": "9c37957a85c0710725a2ca26f7b9bc9fc6325500", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c37957a85c0710725a2ca26f7b9bc9fc6325500", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9c37957a85c0710725a2ca26f7b9bc9fc6325500"}], "stats": {"total": 53, "additions": 44, "deletions": 9}, "files": [{"sha": "85026d0ca0ea302ed139d3e65355db3113a43d9b", "filename": "libio/ChangeLog", "status": "modified", "additions": 28, "deletions": 1, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b63596afe456e2e9878f67f286ab501398711a4/libio%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b63596afe456e2e9878f67f286ab501398711a4/libio%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libio%2FChangeLog?ref=2b63596afe456e2e9878f67f286ab501398711a4", "patch": "@@ -1,3 +1,9 @@\n+Sun Feb 22 17:24:53 1998  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* config.shared: Bring back changes from Ian and Fred that were\n+\taccidentally clobbered.  Should eliminate the need for Dave's\n+\trecent change.\n+\n Tue Feb 17 21:56:25 1998  H.J. Lu  (hjl@gnu.org)\n \n \t* config/linux.mt (IO_OBJECTS): Add iogetline.o.\n@@ -34,6 +40,11 @@ Fri Feb  6 01:35:56 1998  Manfred Hollstein  <manfred@s-direktnet.de>\n \t(.cc.o): Dito.\n \t(stamp-picdir): Dito.\n \n+Thu Feb  5 17:41:26 1998  Dave Brolley  <brolley@cygnus.com>\n+\n+\t* config.shared (LIBS): Change to -L../../libstdc++ (was -L../libstdc++)\n+\tif ${DOING_GPERF} is true.\n+\n 1998-01-20  Andreas Schwab  (schwab@issan.informatik.uni-dortmund.de)\n \n \t* iostream.cc (istream::operator>>(long double&))\n@@ -107,7 +118,16 @@ Fri Jan 16 00:48:03 1998  Manfred Hollstein  <manfred@lts.sel.alcatel.de>\n \n \t* config.shared (FLAGS_TO_PASS): Add SHELL.\n \n-Tue Jan 13 21:30:33 1998  H.J. Lu  (hjl@gnu.org)\n+Thu Jan 15 00:21:58 1998  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\t* configure.in: For *-*-cygwin32*, add a -I for winsup to both\n+\tXCINCLUDES and XCXXINCLUDES.\n+\t* config.shared: Use ${host_includes} when setting CXXINCLUDES in\n+\tthe DOING_LIBGXX case.\n+\t* Makefile.in (_G_config.h): Pass $(CINCLUDES) in CC and\n+\t$(CXXINCLUDES) in CXX when running gen-params.\n+\n+Tue Jan 13 21:32:08 1998  H.J. Lu  (hjl@gnu.org)\n \n \t* configure.in (CHECK_SUBDIRS): Set to testsuite only if\n \t${srcdir}/../gcc exists.\n@@ -118,6 +138,13 @@ Tue Jan 13 21:30:33 1998  H.J. Lu  (hjl@gnu.org)\n \t* tests/configure.in (CHECK): Set to \"check-iostream\n \tcheck-stdio\" if ${srcdir}/../../gcc doesn't exists.\n \n+Thu Jan  8 18:09:03 1998  Fred Fish  <fnf@cygnus.com>\n+\n+\t* config.shared (THIS_FILE): Really found via TOLIBIO instead\n+\tof TOLIBCXX, which is empty when configuring gperf.\n+\t(LIBS): When linking gperf, find libstdc++ relative to TO_TOPDIR\n+\tinstead of hardcoded \"../\".\n+\n 1997-12-12  Brendan Kehoe  <brendan@lisa.cygnus.com>\n \n \tDon't make gperf depend upon libg++."}, {"sha": "ed597cc1520929bfc50da1a9215d101784d27c52", "filename": "libio/Makefile.in", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b63596afe456e2e9878f67f286ab501398711a4/libio%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b63596afe456e2e9878f67f286ab501398711a4/libio%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libio%2FMakefile.in?ref=2b63596afe456e2e9878f67f286ab501398711a4", "patch": "@@ -1,4 +1,4 @@\n-# Copyright (C) 1993, 1995 Free Software Foundation\n+# Copyright (C) 1993, 1995, 1996, 1997, 1998 Free Software Foundation\n # \n # This file is part of the GNU IO Library.  This library is free\n # software; you can redistribute it and/or modify it under the\n@@ -97,8 +97,8 @@ stmp-stdio:\n \n _G_config.h: ${srcdir}/gen-params\n \trootme=`pwd`/ ; export rootme; \\\n-\tCC=\"$(CC)\"; export CC; \\\n-\tCXX=\"$(CXX) $(NOSTDINC) $(CXXFLAGS)\"; export CXX; \\\n+\tCC=\"$(CC) $(CINCLUDES)\"; export CC; \\\n+\tCXX=\"$(CXX) $(CXXINCLUDES) $(NOSTDINC) $(CXXFLAGS)\"; export CXX; \\\n \tCONFIG_NM=\"$(NM)\"; export CONFIG_NM; \\\n \t$(SHELL) ${srcdir}/gen-params LIB_VERSION=$(VERSION) $(G_CONFIG_ARGS) >tmp-params.h\n \tmv tmp-params.h _G_config.h"}, {"sha": "cbaf2900dfb7619a679c1073861bb71bb9b35aab", "filename": "libio/config.shared", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b63596afe456e2e9878f67f286ab501398711a4/libio%2Fconfig.shared", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b63596afe456e2e9878f67f286ab501398711a4/libio%2Fconfig.shared", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libio%2Fconfig.shared?ref=2b63596afe456e2e9878f67f286ab501398711a4", "patch": "@@ -33,7 +33,7 @@ else\n   TO_REAL_TOPDIR=\"${TO_TOPDIR}\"\n fi\n DOING_LIBGXX=${DOING_LIBGXX-false}\n-THIS_FILE=\"${srcdir}/${TOLIBGXX}config.shared\"\n+THIS_FILE=\"${srcdir}/${TOLIBIO}config.shared\"\n \n echo \"# Start of package fragment generated by ${THIS_FILE}.\"\n echo \"\"\n@@ -164,7 +164,7 @@ if test \"${DOING_LIBGXX}\" = \"true\" ; then\n   echo '# IO_DIR = no-stream'\n elif test \"${DOING_GPERF}\" = \"true\" ; then\n   echo \"IO_DIR = libio\"\n-  echo \"LIBS = -L../libstdc++ -lstdc++\"\n+  echo \"LIBS = -L${TO_TOPDIR}libstdc++ -lstdc++\"\n fi\n \n if [ -z \"${ALL}\" ] ; then\n@@ -241,7 +241,7 @@ echo >&2 'NOSTDINC = -nostdinc++'\n if test -n \"${XCXXINCLUDES}\" ; then\n   echo >&2 \"CXXINCLUDES = ${XCXXINCLUDES} \"'$(NOSTDINC)'\n elif test \"${DOING_LIBGXX}\" = \"true\" ; then\n-  echo >&2 'CXXINCLUDES = $(NOSTDINC) -I. -I'\"${TO_TOPDIR}libio\"' -I$(srcdir) -I$(srcdir)/'\"${TOLIBGXX}\"'$(IO_DIR) -I$(srcdir)/'\"${TOLIBGXX}\"'../libstdc++ -I$(srcdir)/'\"${TOLIBGXX}src\"' $(WRAP_C_INCLUDES)'\n+  echo >&2 'CXXINCLUDES = $(NOSTDINC) -I. -I'\"${TO_TOPDIR}libio\"' -I$(srcdir) -I$(srcdir)/'\"${TOLIBGXX}\"'$(IO_DIR) -I$(srcdir)/'\"${TOLIBGXX}\"'../libstdc++ -I$(srcdir)/'\"${TOLIBGXX}src\"' '\"${host_includes}\"' $(WRAP_C_INCLUDES)'\n fi\n if test -n \"${XCINCLUDES}\" ; then\n   echo >&2 \"CINCLUDES = ${XCINCLUDES}\""}, {"sha": "cbe04c914c96dcd1fa6e13da1c6e56d933d6fec3", "filename": "libio/configure.in", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b63596afe456e2e9878f67f286ab501398711a4/libio%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b63596afe456e2e9878f67f286ab501398711a4/libio%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libio%2Fconfigure.in?ref=2b63596afe456e2e9878f67f286ab501398711a4", "patch": "@@ -107,8 +107,16 @@ ${moveifchange} temp.mt target-mkfrag\n LIBDIR=yes\n TO_TOPDIR=../\n ALL='$(_G_CONFIG_H) libio.a libiostream.a iostream.list'\n-XCINCLUDES='-I. -I$(srcdir)'\n-XCXXINCLUDES='-I. -I$(srcdir)'\n+case \"${target}\" in\n+  *-*-cygwin32*)\n+    XCINCLUDES='-I. -I$(srcdir) -I$(srcdir)/../winsup/include'\n+    XCXXINCLUDES='-I. -I$(srcdir) -I$(srcdir)/../winsup/include'\n+    ;;\n+  *)\n+    XCINCLUDES='-I. -I$(srcdir)'\n+    XCXXINCLUDES='-I. -I$(srcdir)'\n+    ;;\n+esac\n MOSTLYCLEAN='*.o pic stamp-picdir core iostream.list'\n DISTCLEAN='config.status Makefile *~ Make.pack target-mkfrag multilib.out'\n CLEAN='_G_config.h *.a'"}]}