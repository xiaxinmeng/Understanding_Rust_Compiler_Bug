{"sha": "f636ba146a648cf494c4f780d8e73300cb93d13d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjYzNmJhMTQ2YTY0OGNmNDk0YzRmNzgwZDhlNzMzMDBjYjkzZDEzZA==", "commit": {"author": {"name": "Anthony Green", "email": "green@moxielogic.com", "date": "2012-09-13T23:35:48Z"}, "committer": {"name": "Anthony Green", "email": "green@gcc.gnu.org", "date": "2012-09-13T23:35:48Z"}, "message": "Bi-endian support for moxie\n\nFrom-SVN: r191285", "tree": {"sha": "8bd0fde963766978acebadafd751ef93c218c9b8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8bd0fde963766978acebadafd751ef93c218c9b8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f636ba146a648cf494c4f780d8e73300cb93d13d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f636ba146a648cf494c4f780d8e73300cb93d13d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f636ba146a648cf494c4f780d8e73300cb93d13d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f636ba146a648cf494c4f780d8e73300cb93d13d/comments", "author": {"login": "atgreen", "id": 89993, "node_id": "MDQ6VXNlcjg5OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/89993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/atgreen", "html_url": "https://github.com/atgreen", "followers_url": "https://api.github.com/users/atgreen/followers", "following_url": "https://api.github.com/users/atgreen/following{/other_user}", "gists_url": "https://api.github.com/users/atgreen/gists{/gist_id}", "starred_url": "https://api.github.com/users/atgreen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/atgreen/subscriptions", "organizations_url": "https://api.github.com/users/atgreen/orgs", "repos_url": "https://api.github.com/users/atgreen/repos", "events_url": "https://api.github.com/users/atgreen/events{/privacy}", "received_events_url": "https://api.github.com/users/atgreen/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "0ccb505dad0cb34b316c3169fe7f4cd74ab02865", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ccb505dad0cb34b316c3169fe7f4cd74ab02865", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ccb505dad0cb34b316c3169fe7f4cd74ab02865"}], "stats": {"total": 84, "additions": 79, "deletions": 5}, "files": [{"sha": "2af6b3df1cfcf67f86325b9c143edc190c49ee72", "filename": "gcc/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f636ba146a648cf494c4f780d8e73300cb93d13d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f636ba146a648cf494c4f780d8e73300cb93d13d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f636ba146a648cf494c4f780d8e73300cb93d13d", "patch": "@@ -1,3 +1,17 @@\n+2012-09-13  Anthony Green  <green@moxielogic.com>\n+\n+\t* config/moxie/moxie.h (LINK_SPEC): Add bi-endian support.\n+\t(MULTILIB_DEFAULTS): Define.\n+\t(ASM_SPEC): Define.\n+\t(BYTES_BIG_ENDIAN, WORDS_BIG_ENDIAN): Add bi-endian support.\n+\t(TARGET_CPU_CPP_BUILTINS): Add __MOXIE_LITTLE_ENDIAN__ and\n+\t__MOXIE_BIG_ENDIAN__.\n+\t* config/moxie/t-moxie (MULTILIB_DIRNAMES, MULTILIB_OPTIONS):\n+\tDefine.\n+\t* config/moxie/moxie.opt: New file.\n+\t* doc/invoke.texi (Moxie Options): Add section documenting -mel\n+\tand -meb.\n+\n 2012-09-13  Paolo Carlini  <paolo.carlini@oracle.com>\n \t    Manuel L\u00f3pez-Ib\u00e1\u00f1ez  <manu@gcc.gnu.org>\n "}, {"sha": "7604ac427a0e5784c3b239d3a8bc17de5a930463", "filename": "gcc/config/moxie/moxie.h", "status": "modified", "additions": 14, "deletions": 5, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f636ba146a648cf494c4f780d8e73300cb93d13d/gcc%2Fconfig%2Fmoxie%2Fmoxie.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f636ba146a648cf494c4f780d8e73300cb93d13d/gcc%2Fconfig%2Fmoxie%2Fmoxie.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmoxie%2Fmoxie.h?ref=f636ba146a648cf494c4f780d8e73300cb93d13d", "patch": "@@ -41,9 +41,13 @@\n #define LIB_SPEC \"%{!shared:%{!symbolic:-lc}}\"\n \n #undef  LINK_SPEC\n-#define LINK_SPEC \"%{h*} %{v:-V} \\\n+#define LINK_SPEC \"%{h*} %{v:-V} %{!mel:-EB} %{mel:-EL}\\\n \t\t   %{static:-Bstatic} %{shared:-shared} %{symbolic:-Bsymbolic}\"\n \n+#ifndef MULTILIB_DEFAULTS\n+#define MULTILIB_DEFAULTS { \"meb\" }\n+#endif\n+\n /* Layout of Source Language Data Types */\n \n #define INT_TYPE_SIZE 32\n@@ -192,6 +196,7 @@ enum reg_class\n /* The Overall Framework of an Assembler File */\n \n #undef  ASM_SPEC\n+#define ASM_SPEC \"%{!mel:-EB} %{mel:-EL}\"\n #define ASM_COMMENT_START \"#\"\n #define ASM_APP_ON \"\"\n #define ASM_APP_OFF \"\"\n@@ -291,8 +296,8 @@ enum reg_class\n /* Storage Layout */\n \n #define BITS_BIG_ENDIAN 0\n-#define BYTES_BIG_ENDIAN 1\n-#define WORDS_BIG_ENDIAN 1\n+#define BYTES_BIG_ENDIAN ( ! TARGET_LITTLE_ENDIAN )\n+#define WORDS_BIG_ENDIAN ( ! TARGET_LITTLE_ENDIAN )\n \n /* Alignment required for a function entry point, in bits.  */\n #define FUNCTION_BOUNDARY 16\n@@ -473,8 +478,12 @@ enum reg_class\n \n #define TARGET_CPU_CPP_BUILTINS() \\\n   { \\\n-    builtin_define_std (\"moxie\");\t\t\\\n-    builtin_define_std (\"MOXIE\");\t\t\\\n+    builtin_define_std (\"moxie\");\t\t\t\\\n+    builtin_define_std (\"MOXIE\");\t\t\t\\\n+    if (TARGET_LITTLE_ENDIAN)\t\t\t\t\\\n+      builtin_define (\"__MOXIE_LITTLE_ENDIAN__\");\t\\\n+    else\t\t\t\t\t\t\\\n+      builtin_define (\"__MOXIE_BIG_ENDIAN__\");\t\t\\\n   }\n \n #define HAS_LONG_UNCOND_BRANCH true"}, {"sha": "00f3ff82cc8a3e5235425235bce811514f0923f6", "filename": "gcc/config/moxie/moxie.opt", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f636ba146a648cf494c4f780d8e73300cb93d13d/gcc%2Fconfig%2Fmoxie%2Fmoxie.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f636ba146a648cf494c4f780d8e73300cb93d13d/gcc%2Fconfig%2Fmoxie%2Fmoxie.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmoxie%2Fmoxie.opt?ref=f636ba146a648cf494c4f780d8e73300cb93d13d", "patch": "@@ -0,0 +1,27 @@\n+; Options for the moxie compiler port.\n+\n+; Copyright (C) 2012 Free Software Foundation, Inc.\n+;\n+; This file is part of GCC.\n+;\n+; GCC is free software; you can redistribute it and/or modify it under\n+; the terms of the GNU General Public License as published by the Free\n+; Software Foundation; either version 3, or (at your option) any later\n+; version.\n+;\n+; GCC is distributed in the hope that it will be useful, but WITHOUT ANY\n+; WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+; FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+; for more details.\n+;\n+; You should have received a copy of the GNU General Public License\n+; along with GCC; see the file COPYING3.  If not see\n+; <http://www.gnu.org/licenses/>.\n+\n+meb\n+Target RejectNegative Report InverseMask(LITTLE_ENDIAN)\n+Generate big-endian code\n+\n+mel\n+Target RejectNegative Report Mask(LITTLE_ENDIAN)\n+Generate little-endian code"}, {"sha": "9111fd603ab4f38b19482217b5931f12e4bfdcc6", "filename": "gcc/config/moxie/t-moxie", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f636ba146a648cf494c4f780d8e73300cb93d13d/gcc%2Fconfig%2Fmoxie%2Ft-moxie", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f636ba146a648cf494c4f780d8e73300cb93d13d/gcc%2Fconfig%2Fmoxie%2Ft-moxie", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmoxie%2Ft-moxie?ref=f636ba146a648cf494c4f780d8e73300cb93d13d", "patch": "@@ -18,3 +18,6 @@\n # along with GCC; see the file COPYING3.  If not see\n # <http://www.gnu.org/licenses/>.\n \n+MULTILIB_OPTIONS     = meb/mel\n+MULTILIB_DIRNAMES    = eb el\n+"}, {"sha": "9201ff8a326e24e14e8ee0bbb916a4f771e5813a", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f636ba146a648cf494c4f780d8e73300cb93d13d/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f636ba146a648cf494c4f780d8e73300cb93d13d/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=f636ba146a648cf494c4f780d8e73300cb93d13d", "patch": "@@ -776,6 +776,9 @@ Objective-C and Objective-C++ Dialects}.\n -mreturn-pointer-on-d0 @gol\n -mno-crt0  -mrelax -mliw -msetlb}\n \n+@emph{Moxie Options}\n+@gccoptlist{-meb  -mel}\n+\n @emph{PDP-11 Options}\n @gccoptlist{-mfpu  -msoft-float  -mac0  -mno-ac0  -m40  -m45  -m10 @gol\n -mbcopy  -mbcopy-builtin  -mint32  -mno-int16 @gol\n@@ -10529,6 +10532,7 @@ platform.\n * MIPS Options::\n * MMIX Options::\n * MN10300 Options::\n+* Moxie Options::\n * PDP-11 Options::\n * picoChip Options::\n * PowerPC Options::\n@@ -16448,6 +16452,23 @@ instructions.  This option defines the preprocessor macro\n \n @end table\n \n+@node Moxie Options\n+@subsection Moxie Options\n+@cindex Moxie Options\n+\n+@table @gcctabopt\n+\n+@item -meb\n+@opindex meb\n+Generate big-endian code.  This is the default for @samp{moxie-*-*}\n+configurations.\n+\n+@item -mel\n+@opindex mel\n+Generate little-endian code.\n+\n+@end table\n+\n @node PDP-11 Options\n @subsection PDP-11 Options\n @cindex PDP-11 Options"}]}