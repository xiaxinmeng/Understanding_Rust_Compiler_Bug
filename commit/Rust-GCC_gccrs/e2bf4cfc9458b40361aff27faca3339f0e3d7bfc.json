{"sha": "e2bf4cfc9458b40361aff27faca3339f0e3d7bfc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTJiZjRjZmM5NDU4YjQwMzYxYWZmMjdmYWNhMzMzOWYwZTNkN2JmYw==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1993-07-21T01:48:07Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1993-07-21T01:48:07Z"}, "message": "Do not turn on -mhalf-pic if ELF.\n\nFrom-SVN: r4946", "tree": {"sha": "d5125f0893b0b1b490193e5e50db51789434e7e6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d5125f0893b0b1b490193e5e50db51789434e7e6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e2bf4cfc9458b40361aff27faca3339f0e3d7bfc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2bf4cfc9458b40361aff27faca3339f0e3d7bfc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e2bf4cfc9458b40361aff27faca3339f0e3d7bfc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2bf4cfc9458b40361aff27faca3339f0e3d7bfc/comments", "author": null, "committer": null, "parents": [{"sha": "fe2db4fb6820d47967ac08ee7c0545d64ed422ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe2db4fb6820d47967ac08ee7c0545d64ed422ac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fe2db4fb6820d47967ac08ee7c0545d64ed422ac"}], "stats": {"total": 48, "additions": 29, "deletions": 19}, "files": [{"sha": "a5115d3db6d9fcdf9cb6558ceb4b30f70788db55", "filename": "gcc/config/i386/osfelf.h", "status": "modified", "additions": 7, "deletions": 8, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e2bf4cfc9458b40361aff27faca3339f0e3d7bfc/gcc%2Fconfig%2Fi386%2Fosfelf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e2bf4cfc9458b40361aff27faca3339f0e3d7bfc/gcc%2Fconfig%2Fi386%2Fosfelf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fosfelf.h?ref=e2bf4cfc9458b40361aff27faca3339f0e3d7bfc", "patch": "@@ -39,14 +39,13 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n #define CC1_SPEC \"\\\n %{!melf: %{!mrose: %{!mno-elf: -melf }}} \\\n %{gline:%{!g:%{!g0:%{!g1:%{!g2: -g1}}}}} \\\n-%{pic-none:   -mno-half-pic} \\\n-%{fpic:\t      -mno-half-pic} \\\n-%{fPIC:\t      -mno-half-pic} \\\n-%{pic-lib:    -mhalf-pic} \\\n-%{pic-extern: -mhalf-pic} \\\n-%{pic-calls:  -mhalf-pic} \\\n-%{pic-names*: -mhalf-pic} \\\n-%{!pic-*: %{!fpic: %{!fPIC: -mhalf-pic}}}\"\n+%{pic-none: -mno-half-pic} \\\n+%{pic-extern: } %{pic-lib: } %{pic-calls: } %{pic-names*: } \\\n+%{!pic-none: \\\n+\t%{!mno-elf: %{!mrose: -mno-half-pic}} \\\n+\t%{fpic: -mno-half-pic} \\\n+\t%{fPIC: -mno-half-pic} \\\n+\t%{!fpic: %{!fPIC: %{mrose: -mhalf-pic} %{mno-elf: -mhalf-pic}}}}\"\n \n #undef\tASM_SPEC\n #define ASM_SPEC       \"%{v*: -v}\""}, {"sha": "1d676a0737321e948485e133bcd88e22e747cc62", "filename": "gcc/config/i386/osfrose.h", "status": "modified", "additions": 22, "deletions": 11, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e2bf4cfc9458b40361aff27faca3339f0e3d7bfc/gcc%2Fconfig%2Fi386%2Fosfrose.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e2bf4cfc9458b40361aff27faca3339f0e3d7bfc/gcc%2Fconfig%2Fi386%2Fosfrose.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fosfrose.h?ref=e2bf4cfc9458b40361aff27faca3339f0e3d7bfc", "patch": "@@ -82,19 +82,17 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n %{.m:\t-D__LANGUAGE_OBJECTIVE_C} \\\n %{!.S:\t-D__LANGUAGE_C %{!ansi:-DLANGUAGE_C}}\"\n \n-/* Turn on -mpic-extern by default.  */\n+/* Turn on -pic-extern by default.  */\n #undef  CC1_SPEC\n #define CC1_SPEC \"\\\n %{!melf: %{!mrose: %{!mno-elf: -mrose }}} \\\n %{gline:%{!g:%{!g0:%{!g1:%{!g2: -g1}}}}} \\\n-%{pic-none:   -mno-half-pic} \\\n-%{fpic:\t      -mno-half-pic} \\\n-%{fPIC:\t      -mno-half-pic} \\\n-%{pic-lib:    -mhalf-pic} \\\n-%{pic-extern: -mhalf-pic} \\\n-%{pic-calls:  -mhalf-pic} \\\n-%{pic-names*: -mhalf-pic} \\\n-%{!pic-*: %{!fpic: %{!fPIC: -mhalf-pic}}}\"\n+%{pic-none: -mno-half-pic} \\\n+%{pic-extern: } %{pic-lib: } %{pic-calls: } %{pic-names*: } \\\n+%{!pic-none: \\\n+\t%{melf: -mno-half-pic} \\\n+\t%{mno-rose: %{!melf: -mno-half-pic}} \\\n+\t%{!melf: %{!mno-rose: %{!fPIC: %{!fpic: -mhalf-pic}}}}}\"\n \n #undef\tASM_SPEC\n #define ASM_SPEC       \"%{v*: -v}\"\n@@ -451,8 +449,21 @@ do\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\\\n     if (TARGET_IDENT)\t\t\t\t\t\t\t\\\n       {\t\t\t\t\t\t\t\t\t\\\n-\tfprintf ((STREAM), \"\\t%s\\t\\\"GCC: (GNU) %s -O%d\",\t\t\\\n-\t\t IDENT_ASM_OP, version_string, optimize);\t\t\\\n+\tchar *fstart = main_input_filename;\t\t\t\t\\\n+\tchar *fname;\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\t\\\n+\tif (!fstart)\t\t\t\t\t\t\t\\\n+\t  fstart = \"<no file>\";\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\t\\\n+\tfname = fstart + strlen (fstart) - 1;\t\t\t\t\\\n+\twhile (fname > fstart && *fname != '/')\t\t\t\t\\\n+\t  fname--;\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\t\\\n+\tif (*fname == '/')\t\t\t\t\t\t\\\n+\t  fname++;\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\t\\\n+\tfprintf ((STREAM), \"\\t%s\\t\\\"GCC: (GNU) %s %s -O%d\",\t\t\\\n+\t\t IDENT_ASM_OP, version_string, fname, optimize);\t\\\n \t\t\t\t\t\t\t\t\t\\\n \tif (write_symbols == PREFERRED_DEBUGGING_TYPE)\t\t\t\\\n \t  fprintf ((STREAM), \" -g%d\", (int)debug_info_level);\t\t\\"}]}