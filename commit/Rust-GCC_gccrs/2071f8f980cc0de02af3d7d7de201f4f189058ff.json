{"sha": "2071f8f980cc0de02af3d7d7de201f4f189058ff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjA3MWY4Zjk4MGNjMGRlMDJhZjNkN2Q3ZGUyMDFmNGYxODkwNThmZg==", "commit": {"author": {"name": "Naveen H.S", "email": "Naveen.Hurugalawadi@cavium.com", "date": "2017-07-20T03:57:48Z"}, "committer": {"name": "Naveen H.S", "email": "naveenh@gcc.gnu.org", "date": "2017-07-20T03:57:48Z"}, "message": "match.pd (((m1 >/</>=/<= m2) * d -> (m1 >/</>=/<= m2) ? d : 0): New pattern.\n\ngcc\n\t* match.pd (((m1 >/</>=/<= m2) * d -> (m1 >/</>=/<= m2) ? d : 0):\n\tNew pattern.\n\ngcc/testsuite\n\t* gcc.dg/tree-ssa/vrp116.c: New Test.\n\nFrom-SVN: r250377", "tree": {"sha": "6f2da486f3a9a37ededa4f3e319aef56e15e2f7b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6f2da486f3a9a37ededa4f3e319aef56e15e2f7b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2071f8f980cc0de02af3d7d7de201f4f189058ff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2071f8f980cc0de02af3d7d7de201f4f189058ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2071f8f980cc0de02af3d7d7de201f4f189058ff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2071f8f980cc0de02af3d7d7de201f4f189058ff/comments", "author": null, "committer": null, "parents": [{"sha": "b882559a118e6c6b44206a24d2651c2a93ffc86c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b882559a118e6c6b44206a24d2651c2a93ffc86c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b882559a118e6c6b44206a24d2651c2a93ffc86c"}], "stats": {"total": 27, "additions": 27, "deletions": 0}, "files": [{"sha": "499249b7d757707c7aee7108095e29664b0d8e4f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2071f8f980cc0de02af3d7d7de201f4f189058ff/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2071f8f980cc0de02af3d7d7de201f4f189058ff/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2071f8f980cc0de02af3d7d7de201f4f189058ff", "patch": "@@ -1,3 +1,8 @@\n+2017-07-20  Naveen H.S  <Naveen.Hurugalawadi@cavium.com>\n+\n+\t* match.pd (((m1 >/</>=/<= m2) * d -> (m1 >/</>=/<= m2) ? d : 0):\n+\tNew pattern.\n+\n 2017-07-19  Jan Hubicka  <hubicka@ucw.cz>\n \n \tPR middle-end/81331"}, {"sha": "7f5807ce2f197d257cff515c3f783993b68eb143", "filename": "gcc/match.pd", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2071f8f980cc0de02af3d7d7de201f4f189058ff/gcc%2Fmatch.pd", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2071f8f980cc0de02af3d7d7de201f4f189058ff/gcc%2Fmatch.pd", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmatch.pd?ref=2071f8f980cc0de02af3d7d7de201f4f189058ff", "patch": "@@ -1089,6 +1089,12 @@ DEFINE_INT_AND_FLOAT_ROUND_FN (RINT)\n       && tree_nop_conversion_p (type, TREE_TYPE (@1)))\n   (convert (bit_and (bit_not @1) @0))))\n \n+/* (m1 CMP m2) * d -> (m1 CMP m2) ? d : 0  */\n+(for cmp (gt lt ge le)\n+(simplify\n+ (mult (convert (cmp @0 @1)) @2)\n+  (cond (cmp @0 @1) @2 { build_zero_cst (type); })))\n+\n /* For integral types with undefined overflow and C != 0 fold\n    x * C EQ/NE y * C into x EQ/NE y.  */\n (for cmp (eq ne)"}, {"sha": "0a677739c186ee67aded2eb69ffab85510bc217d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2071f8f980cc0de02af3d7d7de201f4f189058ff/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2071f8f980cc0de02af3d7d7de201f4f189058ff/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2071f8f980cc0de02af3d7d7de201f4f189058ff", "patch": "@@ -1,3 +1,7 @@\n+2017-07-20  Naveen H.S  <Naveen.Hurugalawadi@cavium.com>\n+\n+\t* gcc.dg/tree-ssa/vrp116.c: New Test.\n+\n 2017-07-19  Michael Meissner  <meissner@linux.vnet.ibm.com>\n \n \t* gcc.target/powerpc/cpu-builtin-1.c: Change test to use #ifdef"}, {"sha": "d9d7b2394cd2d50299251a6b91a8639ced93d4ae", "filename": "gcc/testsuite/gcc.dg/tree-ssa/vrp116.c", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2071f8f980cc0de02af3d7d7de201f4f189058ff/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fvrp116.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2071f8f980cc0de02af3d7d7de201f4f189058ff/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fvrp116.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fvrp116.c?ref=2071f8f980cc0de02af3d7d7de201f4f189058ff", "patch": "@@ -0,0 +1,12 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -fdump-tree-vrp1\" } */\n+\n+int\n+f (int m1, int m2, int c)\n+{\n+  int d = m1 > m2;\n+  int e = d * c;\n+  return e ? m1 : m2;\n+}\n+\n+/* { dg-final { scan-tree-dump-times \"\\\\? c_\\[0-9\\]\\\\(D\\\\) : 0\" 1 \"vrp1\" } } */"}]}