{"sha": "7ef004023510d0c88e1a8bb718ee2848c1358ea4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2VmMDA0MDIzNTEwZDBjODhlMWE4YmI3MThlZTI4NDhjMTM1OGVhNA==", "commit": {"author": {"name": "Richard Sandiford", "email": "richard.sandiford@arm.com", "date": "2019-07-08T06:20:55Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2019-07-08T06:20:55Z"}, "message": "[riscv] Fix ambiguous .md attribute uses\n\nThis patch is part of a series that fixes ambiguous attribute\nuses in .md files, i.e. cases in which attributes didn't use\n<ITER:ATTR> to specify an iterator, and in which <ATTR> could\nhave different values depending on the iterator chosen.\n\nNo behavioural change -- produces the same code as before.\n\n2019-07-08  Richard Sandiford  <richard.sandiford@arm.com>\n\ngcc/\n\t* config/riscv/pic.md (*local_pic_load_s<mode>)\n\t(*local_pic_load_u<mode>): Explicitly specify the mode iterator\n\treferenced by <mode>, giving...\n\t(*local_pic_load_s<SUBX:mode>, *local_pic_load_u<SUBX:mode>): ...these.\n\t* config/riscv/riscv.md (*sge<u>_<X:mode><GPR:mode>)\n\t(*slt<u>_<X:mode><GPR:mode>, *sle<u>_<X:mode><GPR:mode>): Explicitly\n\tuse <X:MODE> for the mode attribute.\n\nFrom-SVN: r273191", "tree": {"sha": "2d19a8ca1f83db5c8d5722de794b8f0b79d5886d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2d19a8ca1f83db5c8d5722de794b8f0b79d5886d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7ef004023510d0c88e1a8bb718ee2848c1358ea4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ef004023510d0c88e1a8bb718ee2848c1358ea4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ef004023510d0c88e1a8bb718ee2848c1358ea4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ef004023510d0c88e1a8bb718ee2848c1358ea4/comments", "author": {"login": "rsandifo-arm", "id": 28043039, "node_id": "MDQ6VXNlcjI4MDQzMDM5", "avatar_url": "https://avatars.githubusercontent.com/u/28043039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo-arm", "html_url": "https://github.com/rsandifo-arm", "followers_url": "https://api.github.com/users/rsandifo-arm/followers", "following_url": "https://api.github.com/users/rsandifo-arm/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo-arm/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo-arm/orgs", "repos_url": "https://api.github.com/users/rsandifo-arm/repos", "events_url": "https://api.github.com/users/rsandifo-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo-arm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "0b1949603c401f6ad07c0641b6db59efe3140c0e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b1949603c401f6ad07c0641b6db59efe3140c0e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b1949603c401f6ad07c0641b6db59efe3140c0e"}], "stats": {"total": 20, "additions": 15, "deletions": 5}, "files": [{"sha": "96ae53aa8b03575a0ccab36b7f44216365d0f08e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ef004023510d0c88e1a8bb718ee2848c1358ea4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ef004023510d0c88e1a8bb718ee2848c1358ea4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7ef004023510d0c88e1a8bb718ee2848c1358ea4", "patch": "@@ -1,3 +1,13 @@\n+2019-07-08  Richard Sandiford  <richard.sandiford@arm.com>\n+\n+\t* config/riscv/pic.md (*local_pic_load_s<mode>)\n+\t(*local_pic_load_u<mode>): Explicitly specify the mode iterator\n+\treferenced by <mode>, giving...\n+\t(*local_pic_load_s<SUBX:mode>, *local_pic_load_u<SUBX:mode>): ...these.\n+\t* config/riscv/riscv.md (*sge<u>_<X:mode><GPR:mode>)\n+\t(*slt<u>_<X:mode><GPR:mode>, *sle<u>_<X:mode><GPR:mode>): Explicitly\n+\tuse <X:MODE> for the mode attribute.\n+\n 2019-07-07  Jeff Law  <law@redhat.com>\n \n \tPR tree-optimization/91090"}, {"sha": "f16f0547dcd6b6e4d2b1d6b67b0f187c3646068a", "filename": "gcc/config/riscv/pic.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ef004023510d0c88e1a8bb718ee2848c1358ea4/gcc%2Fconfig%2Friscv%2Fpic.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ef004023510d0c88e1a8bb718ee2848c1358ea4/gcc%2Fconfig%2Friscv%2Fpic.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Friscv%2Fpic.md?ref=7ef004023510d0c88e1a8bb718ee2848c1358ea4", "patch": "@@ -29,14 +29,14 @@\n   \"<default_load>\\t%0,%1\"\n   [(set (attr \"length\") (const_int 8))])\n \n-(define_insn \"*local_pic_load_s<mode>\"\n+(define_insn \"*local_pic_load_s<SUBX:mode>\"\n   [(set (match_operand:SUPERQI 0 \"register_operand\" \"=r\")\n \t(sign_extend:SUPERQI (mem:SUBX (match_operand 1 \"absolute_symbolic_operand\" \"\"))))]\n   \"USE_LOAD_ADDRESS_MACRO (operands[1])\"\n   \"<SUBX:load>\\t%0,%1\"\n   [(set (attr \"length\") (const_int 8))])\n \n-(define_insn \"*local_pic_load_u<mode>\"\n+(define_insn \"*local_pic_load_u<SUBX:mode>\"\n   [(set (match_operand:SUPERQI 0 \"register_operand\" \"=r\")\n \t(zero_extend:SUPERQI (mem:SUBX (match_operand 1 \"absolute_symbolic_operand\" \"\"))))]\n   \"USE_LOAD_ADDRESS_MACRO (operands[1])\""}, {"sha": "0f4626656d60c1c9be76e8f56e09ac538dd445ad", "filename": "gcc/config/riscv/riscv.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ef004023510d0c88e1a8bb718ee2848c1358ea4/gcc%2Fconfig%2Friscv%2Friscv.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ef004023510d0c88e1a8bb718ee2848c1358ea4/gcc%2Fconfig%2Friscv%2Friscv.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Friscv%2Friscv.md?ref=7ef004023510d0c88e1a8bb718ee2848c1358ea4", "patch": "@@ -2054,7 +2054,7 @@\n   \"\"\n   \"slt%i2<u>\\t%0,zero,%1\"\n   [(set_attr \"type\" \"slt\")\n-   (set_attr \"mode\" \"<MODE>\")])\n+   (set_attr \"mode\" \"<X:MODE>\")])\n \n (define_insn \"*slt<u>_<X:mode><GPR:mode>\"\n   [(set (match_operand:GPR           0 \"register_operand\" \"= r\")\n@@ -2063,7 +2063,7 @@\n   \"\"\n   \"slt%i2<u>\\t%0,%1,%2\"\n   [(set_attr \"type\" \"slt\")\n-   (set_attr \"mode\" \"<MODE>\")])\n+   (set_attr \"mode\" \"<X:MODE>\")])\n \n (define_insn \"*sle<u>_<X:mode><GPR:mode>\"\n   [(set (match_operand:GPR           0 \"register_operand\" \"=r\")\n@@ -2075,7 +2075,7 @@\n   return \"slt%i2<u>\\t%0,%1,%2\";\n }\n   [(set_attr \"type\" \"slt\")\n-   (set_attr \"mode\" \"<MODE>\")])\n+   (set_attr \"mode\" \"<X:MODE>\")])\n \n ;;\n ;;  ...................."}]}