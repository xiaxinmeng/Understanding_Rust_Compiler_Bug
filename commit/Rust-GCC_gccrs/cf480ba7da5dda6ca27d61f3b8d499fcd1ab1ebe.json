{"sha": "cf480ba7da5dda6ca27d61f3b8d499fcd1ab1ebe", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2Y0ODBiYTdkYTVkZGE2Y2EyN2Q2MWYzYjhkNDk5ZmNkMWFiMWViZQ==", "commit": {"author": {"name": "Michael Sokolov", "email": "msokolov@ivan.Harhan.ORG", "date": "2001-01-25T05:11:38Z"}, "committer": {"name": "Michael Sokolov", "email": "msokolov@gcc.gnu.org", "date": "2001-01-25T05:11:38Z"}, "message": "alarm_.c: Separate the #ifdef KR_headers logic from the G77_alarm_0 function definition.\n\n\t* libU77/alarm_.c: Separate the #ifdef KR_headers logic from the\n\tG77_alarm_0 function definition.  Check for SIG_ERR and provide our own\n\tif missing.\n\nFrom-SVN: r39256", "tree": {"sha": "1957da560db51a4d46f5bf77445f7818371002bd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1957da560db51a4d46f5bf77445f7818371002bd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cf480ba7da5dda6ca27d61f3b8d499fcd1ab1ebe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf480ba7da5dda6ca27d61f3b8d499fcd1ab1ebe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cf480ba7da5dda6ca27d61f3b8d499fcd1ab1ebe", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf480ba7da5dda6ca27d61f3b8d499fcd1ab1ebe/comments", "author": null, "committer": null, "parents": [{"sha": "db353c2c695386e32bd065ff1a99a7e761d64612", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db353c2c695386e32bd065ff1a99a7e761d64612", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db353c2c695386e32bd065ff1a99a7e761d64612"}], "stats": {"total": 20, "additions": 16, "deletions": 4}, "files": [{"sha": "cdf9fd0727d4e02945f3bd2deeb857b3c680cd36", "filename": "libf2c/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf480ba7da5dda6ca27d61f3b8d499fcd1ab1ebe/libf2c%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf480ba7da5dda6ca27d61f3b8d499fcd1ab1ebe/libf2c%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FChangeLog?ref=cf480ba7da5dda6ca27d61f3b8d499fcd1ab1ebe", "patch": "@@ -1,3 +1,9 @@\n+2001-01-24  Michael Sokolov  <msokolov@ivan.Harhan.ORG>\n+\n+\t* libU77/alarm_.c: Separate the #ifdef KR_headers logic from the\n+\tG77_alarm_0 function definition.  Check for SIG_ERR and provide our own\n+\tif missing.\n+\n 2001-01-24  David Billinghurst <David.Billinghurst@riotinto.com>\n \n \t* libU77/Makefile.in:  Explicitly generate a.out for check."}, {"sha": "e7f9c2ddcc4a8869878ccf286a95441a6eeed66f", "filename": "libf2c/libU77/alarm_.c", "status": "modified", "additions": 10, "deletions": 4, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf480ba7da5dda6ca27d61f3b8d499fcd1ab1ebe/libf2c%2FlibU77%2Falarm_.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf480ba7da5dda6ca27d61f3b8d499fcd1ab1ebe/libf2c%2FlibU77%2Falarm_.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibU77%2Falarm_.c?ref=cf480ba7da5dda6ca27d61f3b8d499fcd1ab1ebe", "patch": "@@ -1,4 +1,4 @@\n-/* Copyright (C) 1997 Free Software Foundation, Inc.\n+/* Copyright (C) 1997, 2001 Free Software Foundation, Inc.\n This file is part of GNU Fortran libU77 library.\n \n This library is free software; you can redistribute it and/or modify it\n@@ -39,14 +39,20 @@ typedef RETSIGTYPE (*sig_type)();\n \n #ifdef KR_headers\n extern sig_type signal();\n+#else\n+#include <signal.h>\n+typedef int (*sig_proc)(int);\n+#endif\n+\n+#ifndef SIG_ERR\n+#define SIG_ERR ((sig_type) -1)\n+#endif\n \n+#ifdef KR_headers\n integer G77_alarm_0 (seconds, proc)\n      integer *seconds;\n      sig_type proc;\n #else\n-#include <signal.h>\n-typedef int (*sig_proc)(int);\n-\n integer G77_alarm_0 (integer *seconds, sig_proc proc)\n #endif\n {"}]}