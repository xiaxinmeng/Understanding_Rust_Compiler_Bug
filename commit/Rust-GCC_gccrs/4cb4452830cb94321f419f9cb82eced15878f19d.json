{"sha": "4cb4452830cb94321f419f9cb82eced15878f19d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGNiNDQ1MjgzMGNiOTQzMjFmNDE5ZjljYjgyZWNlZDE1ODc4ZjE5ZA==", "commit": {"author": {"name": "Nathan Froyd", "email": "froydnj@codesourcery.com", "date": "2011-05-03T15:49:22Z"}, "committer": {"name": "Nathan Froyd", "email": "froydnj@gcc.gnu.org", "date": "2011-05-03T15:49:22Z"}, "message": "sh.c (sh_media_init_builtins): Call build_function_type_list instead of build_function_type.\n\n\t* config/sh/sh.c (sh_media_init_builtins): Call\n\tbuild_function_type_list instead of build_function_type.\n\nFrom-SVN: r173318", "tree": {"sha": "ef212ffc4f4acdbabfc2689cfb912213444f3c82", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ef212ffc4f4acdbabfc2689cfb912213444f3c82"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4cb4452830cb94321f419f9cb82eced15878f19d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4cb4452830cb94321f419f9cb82eced15878f19d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4cb4452830cb94321f419f9cb82eced15878f19d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4cb4452830cb94321f419f9cb82eced15878f19d/comments", "author": null, "committer": null, "parents": [{"sha": "4c203a6ab7a2c53dc68538b9fee51a3f4d27db62", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c203a6ab7a2c53dc68538b9fee51a3f4d27db62", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c203a6ab7a2c53dc68538b9fee51a3f4d27db62"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "531d4faf07a89ba3b464bd49ceb102c7bae0da9b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4cb4452830cb94321f419f9cb82eced15878f19d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4cb4452830cb94321f419f9cb82eced15878f19d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4cb4452830cb94321f419f9cb82eced15878f19d", "patch": "@@ -1,3 +1,8 @@\n+2011-05-03  Nathan Froyd  <froydnj@codesourcery.com>\n+\n+\t* config/sh/sh.c (sh_media_init_builtins): Call\n+\tbuild_function_type_list instead of build_function_type.\n+\n 2011-05-03  Nathan Froyd  <froydnj@codesourcery.com>\n \n \t* config/sparc/sparc.c (sparc_file_end): Call"}, {"sha": "d799782181e730a74473a9c1f391e26cc93434d5", "filename": "gcc/config/sh/sh.c", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4cb4452830cb94321f419f9cb82eced15878f19d/gcc%2Fconfig%2Fsh%2Fsh.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4cb4452830cb94321f419f9cb82eced15878f19d/gcc%2Fconfig%2Fsh%2Fsh.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.c?ref=4cb4452830cb94321f419f9cb82eced15878f19d", "patch": "@@ -11231,6 +11231,7 @@ sh_media_init_builtins (void)\n       else\n \t{\n \t  int has_result = signature_args[signature][0] != 0;\n+\t  tree args[3];\n \n \t  if ((signature_args[signature][1] & 8)\n \t      && (((signature_args[signature][1] & 1) && TARGET_SHMEDIA32)\n@@ -11239,7 +11240,8 @@ sh_media_init_builtins (void)\n \t  if (! TARGET_FPU_ANY\n \t      && FLOAT_MODE_P (insn_data[d->icode].operand[0].mode))\n \t    continue;\n-\t  type = void_list_node;\n+\t  for (i = 0; i < (int) ARRAY_SIZE (args); i++)\n+\t    args[i] = NULL_TREE;\n \t  for (i = 3; ; i--)\n \t    {\n \t      int arg = signature_args[signature][i];\n@@ -11257,9 +11259,10 @@ sh_media_init_builtins (void)\n \t\targ_type = void_type_node;\n \t      if (i == 0)\n \t\tbreak;\n-\t      type = tree_cons (NULL_TREE, arg_type, type);\n+\t      args[i-1] = arg_type;\n \t    }\n-\t  type = build_function_type (arg_type, type);\n+\t  type = build_function_type_list (arg_type, args[0], args[1],\n+\t\t\t\t\t   args[2], NULL_TREE);\n \t  if (signature < SH_BLTIN_NUM_SHARED_SIGNATURES)\n \t    shared[signature] = type;\n \t}"}]}