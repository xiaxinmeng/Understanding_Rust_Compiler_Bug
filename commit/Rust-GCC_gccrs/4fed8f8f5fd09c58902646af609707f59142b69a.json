{"sha": "4fed8f8f5fd09c58902646af609707f59142b69a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGZlZDhmOGY1ZmQwOWM1ODkwMjY0NmFmNjA5NzA3ZjU5MTQyYjY5YQ==", "commit": {"author": {"name": "Alan Modra", "email": "amodra@bigpond.net.au", "date": "2005-10-24T01:57:45Z"}, "committer": {"name": "Alan Modra", "email": "amodra@gcc.gnu.org", "date": "2005-10-24T01:57:45Z"}, "message": "rs6000.c (rs6000_legitimize_tls_address): Explain peculiarity of GOT/TOC section usage.\n\n\t* config/rs6000/rs6000.c (rs6000_legitimize_tls_address): Explain\n\tpeculiarity of GOT/TOC section usage.\n\nFrom-SVN: r105836", "tree": {"sha": "61d8fff2f7c41a5dc1bf34f70bf10a28d6974d68", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/61d8fff2f7c41a5dc1bf34f70bf10a28d6974d68"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4fed8f8f5fd09c58902646af609707f59142b69a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4fed8f8f5fd09c58902646af609707f59142b69a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4fed8f8f5fd09c58902646af609707f59142b69a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4fed8f8f5fd09c58902646af609707f59142b69a/comments", "author": null, "committer": null, "parents": [{"sha": "d1589df93773c2d82d328804aad3dd7cc8cbe9d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1589df93773c2d82d328804aad3dd7cc8cbe9d5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d1589df93773c2d82d328804aad3dd7cc8cbe9d5"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "54db2b25b4e0caecdce333f91d32e54581b1988c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fed8f8f5fd09c58902646af609707f59142b69a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fed8f8f5fd09c58902646af609707f59142b69a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4fed8f8f5fd09c58902646af609707f59142b69a", "patch": "@@ -1,3 +1,8 @@\n+2005-10-24  Alan Modra  <amodra@bigpond.net.au>\n+\n+\t* config/rs6000/rs6000.c (rs6000_legitimize_tls_address): Explain\n+\tpeculiarity of GOT/TOC section usage.\n+\n 2005-10-23  Andrew Pinski  <pinskia@physics.uc.edu>\n \n \tPR objc/24435"}, {"sha": "3c33a81c0caaec0b077b60245076c8732830041a", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fed8f8f5fd09c58902646af609707f59142b69a/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fed8f8f5fd09c58902646af609707f59142b69a/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=4fed8f8f5fd09c58902646af609707f59142b69a", "patch": "@@ -2978,6 +2978,11 @@ rs6000_legitimize_tls_address (rtx addr, enum tls_model model)\n     {\n       rtx r3, got, tga, tmp1, tmp2, eqv;\n \n+      /* We currently use relocations like @got@tlsgd for tls, which\n+\t means the linker will handle allocation of tls entries, placing\n+\t them in the .got section.  So use a pointer to the .got section,\n+\t not one to secondary TOC sections used by 64-bit -mminimal-toc,\n+\t or to secondary GOT sections used by 32-bit -fPIC.  */\n       if (TARGET_64BIT)\n \tgot = gen_rtx_REG (Pmode, 2);\n       else"}]}