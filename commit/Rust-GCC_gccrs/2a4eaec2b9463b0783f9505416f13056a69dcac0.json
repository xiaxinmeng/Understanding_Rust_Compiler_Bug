{"sha": "2a4eaec2b9463b0783f9505416f13056a69dcac0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmE0ZWFlYzJiOTQ2M2IwNzgzZjk1MDU0MTZmMTMwNTZhNjlkY2FjMA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2010-12-22T16:27:51Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2010-12-22T16:27:51Z"}, "message": "Don't crash on erroneous channel send or receive.\n\nFrom-SVN: r168174", "tree": {"sha": "4678163e3f474c3ceb25339023562da57ffe37b6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4678163e3f474c3ceb25339023562da57ffe37b6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2a4eaec2b9463b0783f9505416f13056a69dcac0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a4eaec2b9463b0783f9505416f13056a69dcac0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2a4eaec2b9463b0783f9505416f13056a69dcac0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a4eaec2b9463b0783f9505416f13056a69dcac0/comments", "author": null, "committer": null, "parents": [{"sha": "480cc89916ef34ec51c77b894a5e3781545a1e6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/480cc89916ef34ec51c77b894a5e3781545a1e6c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/480cc89916ef34ec51c77b894a5e3781545a1e6c"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "a5fb5f67589219b1c076948ee81a85ff624005da", "filename": "gcc/go/gofrontend/gogo-tree.cc", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a4eaec2b9463b0783f9505416f13056a69dcac0/gcc%2Fgo%2Fgofrontend%2Fgogo-tree.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a4eaec2b9463b0783f9505416f13056a69dcac0/gcc%2Fgo%2Fgofrontend%2Fgogo-tree.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fgogo-tree.cc?ref=2a4eaec2b9463b0783f9505416f13056a69dcac0", "patch": "@@ -2895,6 +2895,9 @@ tree\n Gogo::send_on_channel(tree channel, tree val, bool blocking, bool for_select,\n \t\t      source_location location)\n {\n+  if (channel == error_mark_node || val == error_mark_node)\n+    return error_mark_node;\n+\n   if (int_size_in_bytes(TREE_TYPE(val)) <= 8\n       && !AGGREGATE_TYPE_P(TREE_TYPE(val))\n       && !FLOAT_TYPE_P(TREE_TYPE(val)))\n@@ -3029,6 +3032,9 @@ tree\n Gogo::receive_from_channel(tree type_tree, tree channel, bool for_select,\n \t\t\t   source_location location)\n {\n+  if (type_tree == error_mark_node || channel == error_mark_node)\n+    return error_mark_node;\n+\n   if (int_size_in_bytes(type_tree) <= 8\n       && !AGGREGATE_TYPE_P(type_tree)\n       && !FLOAT_TYPE_P(type_tree))"}]}