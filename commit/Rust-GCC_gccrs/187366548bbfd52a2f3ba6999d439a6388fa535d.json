{"sha": "187366548bbfd52a2f3ba6999d439a6388fa535d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTg3MzY2NTQ4YmJmZDUyYTJmM2JhNjk5OWQ0MzlhNjM4OGZhNTM1ZA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-02-21T10:36:34Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-02-21T10:36:34Z"}, "message": "(compile_file): Initialize input_file_stack before calling lang_init,\n\nnot after.\n\nFrom-SVN: r8975", "tree": {"sha": "4d203c9654bf2113d22fc1938225f002878ec852", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4d203c9654bf2113d22fc1938225f002878ec852"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/187366548bbfd52a2f3ba6999d439a6388fa535d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/187366548bbfd52a2f3ba6999d439a6388fa535d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/187366548bbfd52a2f3ba6999d439a6388fa535d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/187366548bbfd52a2f3ba6999d439a6388fa535d/comments", "author": null, "committer": null, "parents": [{"sha": "4e1bf5f536807466596c2195f7180351e7de89ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e1bf5f536807466596c2195f7180351e7de89ca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4e1bf5f536807466596c2195f7180351e7de89ca"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "04405c35c79e70b3f013cb13ba4d196dfe13d1d6", "filename": "gcc/toplev.c", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/187366548bbfd52a2f3ba6999d439a6388fa535d/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/187366548bbfd52a2f3ba6999d439a6388fa535d/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=187366548bbfd52a2f3ba6999d439a6388fa535d", "patch": "@@ -2204,6 +2204,12 @@ compile_file (name)\n \n   input_filename = name;\n \n+  /* Put an entry on the input file stack for the main input file.  */\n+  input_file_stack\n+    = (struct file_stack *) xmalloc (sizeof (struct file_stack));\n+  input_file_stack->next = 0;\n+  input_file_stack->name = input_filename;\n+\n   /* Perform language-specific initialization.\n      This may set main_input_filename.  */\n   lang_init ();\n@@ -2213,12 +2219,6 @@ compile_file (name)\n   if (main_input_filename == 0)\n     main_input_filename = name;\n \n-  /* Put an entry on the input file stack for the main input file.  */\n-  input_file_stack\n-    = (struct file_stack *) xmalloc (sizeof (struct file_stack));\n-  input_file_stack->next = 0;\n-  input_file_stack->name = input_filename;\n-\n   if (!output_bytecode)\n     {\n       ASM_FILE_START (asm_out_file);"}]}