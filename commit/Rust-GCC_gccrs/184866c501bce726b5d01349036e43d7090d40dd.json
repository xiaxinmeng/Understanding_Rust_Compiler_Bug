{"sha": "184866c501bce726b5d01349036e43d7090d40dd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTg0ODY2YzUwMWJjZTcyNmI1ZDAxMzQ5MDM2ZTQzZDcwOTBkNDBkZA==", "commit": {"author": {"name": "Anatoly Sokolov", "email": "aesok@post.ru", "date": "2010-09-02T18:17:12Z"}, "committer": {"name": "Anatoly Sokolov", "email": "aesok@gcc.gnu.org", "date": "2010-09-02T18:17:12Z"}, "message": "m32c.h (CLASS_LIKELY_SPILLED_P): Remove.\n\n\t* config/m32c/m32c.h (CLASS_LIKELY_SPILLED_P): Remove.\n\t* config/m32c/m32c-protos.h (m32c_class_likely_spilled_p): Remove.\n\t* config/m32c/m32c.c (TARGET_CLASS_LIKELY_SPILLED_P): Define.\n\t(m32c_class_likely_spilled_p): Make static. Change argument type to\n\treg_class_t. Change result type to bool.\n\nFrom-SVN: r163788", "tree": {"sha": "91c4d3540c24692223ee9435809de37ae2dc937b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/91c4d3540c24692223ee9435809de37ae2dc937b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/184866c501bce726b5d01349036e43d7090d40dd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/184866c501bce726b5d01349036e43d7090d40dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/184866c501bce726b5d01349036e43d7090d40dd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/184866c501bce726b5d01349036e43d7090d40dd/comments", "author": null, "committer": null, "parents": [{"sha": "688e49197de88a4d7615eafd2b7691623a8424d1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/688e49197de88a4d7615eafd2b7691623a8424d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/688e49197de88a4d7615eafd2b7691623a8424d1"}], "stats": {"total": 26, "additions": 18, "deletions": 8}, "files": [{"sha": "0e34ff74b296f498d5b9f8cc93d60815e36744ed", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/184866c501bce726b5d01349036e43d7090d40dd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/184866c501bce726b5d01349036e43d7090d40dd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=184866c501bce726b5d01349036e43d7090d40dd", "patch": "@@ -1,3 +1,11 @@\n+2010-09-02  Anatoly Sokolov  <aesok@post.ru>\n+\n+\t* config/m32c/m32c.h (CLASS_LIKELY_SPILLED_P): Remove.\n+\t* config/m32c/m32c-protos.h (m32c_class_likely_spilled_p): Remove.\n+\t* config/m32c/m32c.c (TARGET_CLASS_LIKELY_SPILLED_P): Define.\n+\t(m32c_class_likely_spilled_p): Make static. Change argument type to\n+\treg_class_t. Change result type to bool.\n+\n 2010-09-02  Michael Meissner  <meissner@linux.vnet.ibm.com>\n \n \t* config/rs6000/rs6000.opt (-mfriz): New switch to control whether"}, {"sha": "5d1c3bb9819ca165807cbceb76ef4a78d0955437", "filename": "gcc/config/m32c/m32c-protos.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/184866c501bce726b5d01349036e43d7090d40dd/gcc%2Fconfig%2Fm32c%2Fm32c-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/184866c501bce726b5d01349036e43d7090d40dd/gcc%2Fconfig%2Fm32c%2Fm32c-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm32c%2Fm32c-protos.h?ref=184866c501bce726b5d01349036e43d7090d40dd", "patch": "@@ -22,7 +22,6 @@\n #define MM enum machine_mode\n #define UINT unsigned int\n \n-int  m32c_class_likely_spilled_p (int);\n void m32c_conditional_register_usage (void);\n int  m32c_const_ok_for_constraint_p (HOST_WIDE_INT, char, const char *);\n UINT m32c_dwarf_frame_regnum (int);"}, {"sha": "066d1a8488603807b2af7b35e40771bc721980de", "filename": "gcc/config/m32c/m32c.c", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/184866c501bce726b5d01349036e43d7090d40dd/gcc%2Fconfig%2Fm32c%2Fm32c.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/184866c501bce726b5d01349036e43d7090d40dd/gcc%2Fconfig%2Fm32c%2Fm32c.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm32c%2Fm32c.c?ref=184866c501bce726b5d01349036e43d7090d40dd", "patch": "@@ -823,14 +823,19 @@ m32c_secondary_reload_class (int rclass, enum machine_mode mode, rtx x)\n   return NO_REGS;\n }\n \n-/* Implements CLASS_LIKELY_SPILLED_P.  A_REGS is needed for address\n+/* Implements TARGET_CLASS_LIKELY_SPILLED_P.  A_REGS is needed for address\n    reloads.  */\n-int\n-m32c_class_likely_spilled_p (int regclass)\n+\n+#undef TARGET_CLASS_LIKELY_SPILLED_P\n+#define TARGET_CLASS_LIKELY_SPILLED_P m32c_class_likely_spilled_p\n+\n+static bool\n+m32c_class_likely_spilled_p (reg_class_t regclass)\n {\n   if (regclass == A_REGS)\n-    return 1;\n-  return reg_class_size[regclass] == 1;\n+    return true;\n+\n+  return (reg_class_size[(int) regclass] == 1);\n }\n \n /* Implements CLASS_MAX_NREGS.  We calculate this according to its"}, {"sha": "c0eccb42d4f0f4eae826b469baa84f8c485c0bbc", "filename": "gcc/config/m32c/m32c.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/184866c501bce726b5d01349036e43d7090d40dd/gcc%2Fconfig%2Fm32c%2Fm32c.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/184866c501bce726b5d01349036e43d7090d40dd/gcc%2Fconfig%2Fm32c%2Fm32c.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm32c%2Fm32c.h?ref=184866c501bce726b5d01349036e43d7090d40dd", "patch": "@@ -421,8 +421,6 @@ enum reg_class\n \n #define TARGET_SMALL_REGISTER_CLASSES_FOR_MODE_P hook_bool_mode_true\n \n-#define CLASS_LIKELY_SPILLED_P(C) m32c_class_likely_spilled_p (C)\n-\n #define CLASS_MAX_NREGS(C,M) m32c_class_max_nregs (C, M)\n \n #define CANNOT_CHANGE_MODE_CLASS(F,T,C) m32c_cannot_change_mode_class(F,T,C)"}]}