{"sha": "f826d5952cbea7d361f5e7869868acb7cce47d95", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjgyNmQ1OTUyY2JlYTdkMzYxZjVlNzg2OTg2OGFjYjdjY2U0N2Q5NQ==", "commit": {"author": {"name": "Scott Gilbertson", "email": "scottg@mantatest.com", "date": "2003-01-15T23:53:49Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2003-01-15T23:53:49Z"}, "message": "natGC.cc (fillPolygon): New method.\n\n2003-01-15  Scott Gilbertson  <scottg@mantatest.com>\n\n\t* gnu/gcj/xlib/natGC.cc (fillPolygon): New method.\n\t* gnu/gcj/xlib/GC.java (fillPolygon): Declare.\n\t* gnu/awt/xlib/XGraphics.java (fillPolygon): Added translateX and\n\ttranslateY arguments.  Implement.\n\t* gnu/awt/j2d/IntegerGraphicsState.java (fillPolygon): Pass\n\tdown translation arguments.\n\t(drawPolyline, drawPolygon): Fix incorrect tests.\n\t* gnu/awt/j2d/DirectRasterGraphics.java (fillPolygon): Added\n\ttranslateX and translateY arguments.\n\nFrom-SVN: r61369", "tree": {"sha": "1e952a7c0fcd20a9982a9bf4e674f1ab69fc7826", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1e952a7c0fcd20a9982a9bf4e674f1ab69fc7826"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f826d5952cbea7d361f5e7869868acb7cce47d95", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f826d5952cbea7d361f5e7869868acb7cce47d95", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f826d5952cbea7d361f5e7869868acb7cce47d95", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f826d5952cbea7d361f5e7869868acb7cce47d95/comments", "author": null, "committer": null, "parents": [{"sha": "2af84af57ba04e022a258d99fb7b688017e583a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2af84af57ba04e022a258d99fb7b688017e583a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2af84af57ba04e022a258d99fb7b688017e583a7"}], "stats": {"total": 71, "additions": 52, "deletions": 19}, "files": [{"sha": "62f54b556f968475c37e66d5dfa87491d536dc8c", "filename": "libjava/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f826d5952cbea7d361f5e7869868acb7cce47d95/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f826d5952cbea7d361f5e7869868acb7cce47d95/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=f826d5952cbea7d361f5e7869868acb7cce47d95", "patch": "@@ -1,3 +1,15 @@\n+2003-01-15  Scott Gilbertson  <scottg@mantatest.com>\n+\n+\t* gnu/gcj/xlib/natGC.cc (fillPolygon): New method.\n+\t* gnu/gcj/xlib/GC.java (fillPolygon): Declare.\n+\t* gnu/awt/xlib/XGraphics.java (fillPolygon): Added translateX and\n+\ttranslateY arguments.  Implement.\n+\t* gnu/awt/j2d/IntegerGraphicsState.java (fillPolygon): Pass\n+\tdown translation arguments.\n+\t(drawPolyline, drawPolygon): Fix incorrect tests.\n+\t* gnu/awt/j2d/DirectRasterGraphics.java (fillPolygon): Added\n+\ttranslateX and translateY arguments.\n+\n 2003-01-15  Scott Gilbertson  <scottg@mantatest.com>\n \n \t* Makefile.in: Rebuilt."}, {"sha": "28aad9b040442f8afca6a48e5236f160a04a47f7", "filename": "libjava/gnu/awt/j2d/DirectRasterGraphics.java", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f826d5952cbea7d361f5e7869868acb7cce47d95/libjava%2Fgnu%2Fawt%2Fj2d%2FDirectRasterGraphics.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f826d5952cbea7d361f5e7869868acb7cce47d95/libjava%2Fgnu%2Fawt%2Fj2d%2FDirectRasterGraphics.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fawt%2Fj2d%2FDirectRasterGraphics.java?ref=f826d5952cbea7d361f5e7869868acb7cce47d95", "patch": "@@ -1,4 +1,4 @@\n-/* Copyright (C) 2000  Free Software Foundation\n+/* Copyright (C) 2000, 2003  Free Software Foundation\n \n    This file is part of libgcj.\n \n@@ -61,7 +61,8 @@ public void fillArc(int x, int y, int width, int height,\n   \n   public void drawPolygon(int[] xPoints, int[] yPoints, int nPoints);\n   \n-  public void fillPolygon(int[] xPoints, int[] yPoints, int nPoints);\n+  public void fillPolygon(int[] xPoints, int[] yPoints, int nPoints,\n+\t\t\t  int translateX, int translateY);\n   \n   public void drawString(String str, int x, int y);\n   "}, {"sha": "bfea6611ca56efccac03b1bd28755036d3996563", "filename": "libjava/gnu/awt/j2d/IntegerGraphicsState.java", "status": "modified", "additions": 7, "deletions": 11, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f826d5952cbea7d361f5e7869868acb7cce47d95/libjava%2Fgnu%2Fawt%2Fj2d%2FIntegerGraphicsState.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f826d5952cbea7d361f5e7869868acb7cce47d95/libjava%2Fgnu%2Fawt%2Fj2d%2FIntegerGraphicsState.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fawt%2Fj2d%2FIntegerGraphicsState.java?ref=f826d5952cbea7d361f5e7869868acb7cce47d95", "patch": "@@ -1,4 +1,4 @@\n-/* Copyright (C) 2000  Free Software Foundation\n+/* Copyright (C) 2000, 2003  Free Software Foundation\n \n    This file is part of libgcj.\n \n@@ -212,7 +212,7 @@ public void fillArc(int x, int y,\n   \n   public void drawPolyline(int[] xPoints, int[] yPoints, int nPoints)\n   {\n-    if ((tx == 0) || (ty == 0))\n+    if ((tx == 0) && (ty == 0))\n       {\n \tdirectGfx.drawPolyline(xPoints, yPoints, nPoints);\n \treturn;\n@@ -223,7 +223,7 @@ public void drawPolyline(int[] xPoints, int[] yPoints, int nPoints)\n \n   public void drawPolygon(int[] xPoints, int[] yPoints, int nPoints)\n   {\n-    if ((tx == 0) || (ty == 0))\n+    if ((tx == 0) && (ty == 0))\n       {\n \tdirectGfx.drawPolygon(xPoints, yPoints, nPoints);\n \treturn;\n@@ -232,15 +232,11 @@ public void drawPolygon(int[] xPoints, int[] yPoints, int nPoints)\n     throw new UnsupportedOperationException(\"translate not implemented\");\n   }\n   \n-  public void fillPolygon(int[] xPoints, int[] yPoints, int nPoints)\n+  public void fillPolygon (int[] xPoints, int[] yPoints, int nPoints)\n   {\n-    if ((tx == 0) || (ty == 0))\n-      {\n-\tdirectGfx.fillPolygon(xPoints, yPoints, nPoints);\n-\treturn;\n-      }\n-    \n-    throw new UnsupportedOperationException(\"translate not implemented\");\n+    // FIXME: remove tx & ty args once translation via AffineTransform\n+    // is implemented.\n+    directGfx.fillPolygon (xPoints, yPoints, nPoints, tx, ty);\n   }\n \n   public boolean drawImage(Image image, int x, int y,"}, {"sha": "90f53880e85fcf0fdf63641aff1a919bf79e2118", "filename": "libjava/gnu/awt/xlib/XGraphics.java", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f826d5952cbea7d361f5e7869868acb7cce47d95/libjava%2Fgnu%2Fawt%2Fxlib%2FXGraphics.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f826d5952cbea7d361f5e7869868acb7cce47d95/libjava%2Fgnu%2Fawt%2Fxlib%2FXGraphics.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fawt%2Fxlib%2FXGraphics.java?ref=f826d5952cbea7d361f5e7869868acb7cce47d95", "patch": "@@ -1,4 +1,4 @@\n-/* Copyright (C) 2000  Free Software Foundation\n+/* Copyright (C) 2000, 2003  Free Software Foundation\n \n    This file is part of libgcj.\n \n@@ -176,10 +176,10 @@ public void drawPolygon(int[] xPoints, int[] yPoints, int\n     throw new UnsupportedOperationException(\"not implemented\");\n   }\n     \n-  public void fillPolygon(int[] xPoints, int[] yPoints, int\n-\t\t\t  nPoints)\n+  public void fillPolygon(int[] xPoints, int[] yPoints, int nPoints,\n+\t\t\t  int translateX, int translateY)\n   {\n-    throw new UnsupportedOperationException(\"not implemented\");\n+    context.fillPolygon(xPoints, yPoints, nPoints, translateX, translateY);\n   }\n \n   public void drawString(String str, int x, int y)"}, {"sha": "1806c2ae5694834443282d6067a7f8b2a59dfb82", "filename": "libjava/gnu/gcj/xlib/GC.java", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f826d5952cbea7d361f5e7869868acb7cce47d95/libjava%2Fgnu%2Fgcj%2Fxlib%2FGC.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f826d5952cbea7d361f5e7869868acb7cce47d95/libjava%2Fgnu%2Fgcj%2Fxlib%2FGC.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fgcj%2Fxlib%2FGC.java?ref=f826d5952cbea7d361f5e7869868acb7cce47d95", "patch": "@@ -1,4 +1,4 @@\n-/* Copyright (C) 2000  Free Software Foundation\n+/* Copyright (C) 2000, 2003  Free Software Foundation\n \n    This file is part of libgcj.\n \n@@ -84,6 +84,8 @@ public void setClipRectangles(Rectangle[] rectangles)\n   public native void drawRectangle(int x, int y, int w, int h);\n \n   public native void fillRectangle(int x, int y, int w, int h);\n+  public native void fillPolygon(int[] xPoints, int[] yPoints, int nPoints,\n+\t\t\t\t int translateX, int translateY);\n \n   /** \n    * "}, {"sha": "1a1bd586d8ed8408416573e205e9f29cddeee4ef", "filename": "libjava/gnu/gcj/xlib/natGC.cc", "status": "modified", "additions": 23, "deletions": 1, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f826d5952cbea7d361f5e7869868acb7cce47d95/libjava%2Fgnu%2Fgcj%2Fxlib%2FnatGC.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f826d5952cbea7d361f5e7869868acb7cce47d95/libjava%2Fgnu%2Fgcj%2Fxlib%2FnatGC.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fgcj%2Fxlib%2FnatGC.cc?ref=f826d5952cbea7d361f5e7869868acb7cce47d95", "patch": "@@ -1,4 +1,4 @@\n-/* Copyright (C) 2000  Free Software Foundation\n+/* Copyright (C) 2000, 2003  Free Software Foundation\n \n    This file is part of libgcj.\n \n@@ -11,6 +11,7 @@ details.  */\n #include <X11/Xlib.h>\n \n #include <gcj/cni.h>\n+#include <gcj/array.h>\n #include <gnu/gcj/RawData.h>\n #include <java/lang/String.h>\n #include <java/awt/Rectangle.h>\n@@ -154,6 +155,27 @@ void gnu::gcj::xlib::GC::fillRectangle(jint x, jint y, jint w, jint h)\n   // no fast fail\n }\n \n+void gnu::gcj::xlib::GC::fillPolygon(jintArray xPoints, jintArray yPoints,\n+\t\t\t\t     jint nPoints,\n+\t\t\t\t     jint translateX, jint translateY)\n+{\n+  Display* display = target->getDisplay();\n+  ::Display* dpy = (::Display*) (display->display);\n+  ::Drawable drawableXID = target->getXID();\n+  ::GC gc = (::GC) structure;\n+  typedef ::XPoint xpoint;\n+  std::vector<xpoint> points(nPoints+1);\n+  for (int i=0; i<nPoints; i++)\n+    {\n+      points[i].x = elements(xPoints)[i] + translateX;\n+      points[i].y = elements(yPoints)[i] + translateY;\n+    }\n+  points[nPoints] = points[0];\n+  XFillPolygon(dpy, drawableXID, gc, &(points.front()), nPoints,\n+\t       Complex, CoordModeOrigin);\n+  // no fast fail\n+}\n+\n void gnu::gcj::xlib::GC::clearArea(jint x, jint y, jint w, jint h,\n \t\t\t\t   jboolean exposures)\n {"}]}