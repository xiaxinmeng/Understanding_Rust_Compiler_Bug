{"sha": "608388486a54afe98aed0f105a6101ae7a9ff66c", "node_id": "C_kwDOANBUbNoAKDYwODM4ODQ4NmE1NGFmZTk4YWVkMGYxMDVhNjEwMWFlN2E5ZmY2NmM", "commit": {"author": {"name": "Kito Cheng", "email": "kito.cheng@sifive.com", "date": "2023-03-31T06:40:36Z"}, "committer": {"name": "Kito Cheng", "email": "kito.cheng@sifive.com", "date": "2023-03-31T07:18:07Z"}, "message": "RISC-V: Fix missing file dependency in RISC-V back-end [PR109328]\n\ngcc/ChangeLog:\n\n\tPR target/109328\n\t* config/riscv/t-riscv: Add missing dependencies.\n\nCo-authored-by: Andrew Pinski <pinskia@gmail.com>", "tree": {"sha": "2e91f76ac32fef67804b993fd3805747e64cb860", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2e91f76ac32fef67804b993fd3805747e64cb860"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/608388486a54afe98aed0f105a6101ae7a9ff66c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/608388486a54afe98aed0f105a6101ae7a9ff66c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/608388486a54afe98aed0f105a6101ae7a9ff66c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/608388486a54afe98aed0f105a6101ae7a9ff66c/comments", "author": {"login": "kito-cheng", "id": 2723185, "node_id": "MDQ6VXNlcjI3MjMxODU=", "avatar_url": "https://avatars.githubusercontent.com/u/2723185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kito-cheng", "html_url": "https://github.com/kito-cheng", "followers_url": "https://api.github.com/users/kito-cheng/followers", "following_url": "https://api.github.com/users/kito-cheng/following{/other_user}", "gists_url": "https://api.github.com/users/kito-cheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/kito-cheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kito-cheng/subscriptions", "organizations_url": "https://api.github.com/users/kito-cheng/orgs", "repos_url": "https://api.github.com/users/kito-cheng/repos", "events_url": "https://api.github.com/users/kito-cheng/events{/privacy}", "received_events_url": "https://api.github.com/users/kito-cheng/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kito-cheng", "id": 2723185, "node_id": "MDQ6VXNlcjI3MjMxODU=", "avatar_url": "https://avatars.githubusercontent.com/u/2723185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kito-cheng", "html_url": "https://github.com/kito-cheng", "followers_url": "https://api.github.com/users/kito-cheng/followers", "following_url": "https://api.github.com/users/kito-cheng/following{/other_user}", "gists_url": "https://api.github.com/users/kito-cheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/kito-cheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kito-cheng/subscriptions", "organizations_url": "https://api.github.com/users/kito-cheng/orgs", "repos_url": "https://api.github.com/users/kito-cheng/repos", "events_url": "https://api.github.com/users/kito-cheng/events{/privacy}", "received_events_url": "https://api.github.com/users/kito-cheng/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5de5e977aa0b653e9c4982db5da5e3e428840a22", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5de5e977aa0b653e9c4982db5da5e3e428840a22", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5de5e977aa0b653e9c4982db5da5e3e428840a22"}], "stats": {"total": 43, "additions": 30, "deletions": 13}, "files": [{"sha": "6e326fc7e029583447fef75b81dbd35c35172590", "filename": "gcc/config/riscv/t-riscv", "status": "modified", "additions": 30, "deletions": 13, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/608388486a54afe98aed0f105a6101ae7a9ff66c/gcc%2Fconfig%2Friscv%2Ft-riscv", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/608388486a54afe98aed0f105a6101ae7a9ff66c/gcc%2Fconfig%2Friscv%2Ft-riscv", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Friscv%2Ft-riscv?ref=608388486a54afe98aed0f105a6101ae7a9ff66c", "patch": "@@ -1,6 +1,13 @@\n+RISCV_BUILTINS_H = $(srcdir)/config/riscv/riscv-vector-builtins.h \\\n+\t\t   $(srcdir)/config/riscv/riscv-vector-builtins.def \\\n+\t\t   $(srcdir)/config/riscv/riscv-vector-builtins-functions.def \\\n+\t\t   riscv-vector-type-indexer.gen.def\n+\n riscv-builtins.o: $(srcdir)/config/riscv/riscv-builtins.cc $(CONFIG_H) \\\n   $(SYSTEM_H) coretypes.h $(TM_H) $(RTL_H) $(TREE_H) $(RECOG_H) langhooks.h \\\n-  $(DIAGNOSTIC_CORE_H) $(OPTABS_H) $(srcdir)/config/riscv/riscv-ftypes.def \\\n+  $(DIAGNOSTIC_CORE_H) $(OPTABS_H) $(RISCV_BUILTINS_H) \\\n+  $(srcdir)/config/riscv/riscv-ftypes.def \\\n+  $(srcdir)/config/riscv/riscv-vector-builtins-types.def \\\n   $(srcdir)/config/riscv/riscv-modes.def\n \t$(COMPILER) -c $(ALL_COMPILERFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) \\\n \t\t$(srcdir)/config/riscv/riscv-builtins.cc\n@@ -11,21 +18,20 @@ riscv-vector-builtins.o: $(srcdir)/config/riscv/riscv-vector-builtins.cc \\\n   $(FUNCTION_H) fold-const.h gimplify.h explow.h stor-layout.h $(REGS_H) \\\n   alias.h langhooks.h attribs.h stringpool.h emit-rtl.h basic-block.h \\\n   gimple.h gimple-iterator.h \\\n-  $(srcdir)/config/riscv/riscv-vector-builtins.h \\\n   $(srcdir)/config/riscv/riscv-vector-builtins-shapes.h \\\n   $(srcdir)/config/riscv/riscv-vector-builtins-bases.h \\\n-  $(srcdir)/config/riscv/riscv-vector-builtins.def \\\n   $(srcdir)/config/riscv/riscv-vector-builtins-types.def \\\n-  $(srcdir)/config/riscv/riscv-vector-builtins-functions.def\n+  $(RISCV_BUILTINS_H)\n \t$(COMPILER) -c $(ALL_COMPILERFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) \\\n \t\t$(srcdir)/config/riscv/riscv-vector-builtins.cc\n \n riscv-vector-builtins-shapes.o: \\\n   $(srcdir)/config/riscv/riscv-vector-builtins-shapes.cc \\\n   $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) $(TREE_H) $(RTL_H) \\\n   $(TM_P_H) memmodel.h insn-codes.h $(OPTABS_H) \\\n-  $(srcdir)/config/riscv/riscv-vector-builtins.h \\\n-  $(srcdir)/config/riscv/riscv-vector-builtins-shapes.h\n+  $(srcdir)/config/riscv/riscv-vector-builtins-shapes.h \\\n+  $(srcdir)/config/riscv/riscv-vector-builtins-bases.h \\\n+  $(RISCV_BUILTINS_H)\n \t$(COMPILER) -c $(ALL_COMPILERFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) \\\n \t\t$(srcdir)/config/riscv/riscv-vector-builtins-shapes.cc\n \n@@ -36,9 +42,9 @@ riscv-vector-builtins-bases.o: \\\n   $(EXPR_H) $(BASIC_BLOCK_H) $(FUNCTION_H) fold-const.h $(GIMPLE_H) \\\n   gimple-iterator.h gimplify.h explow.h $(EMIT_RTL_H) tree-vector-builder.h \\\n   rtx-vector-builder.h \\\n-  $(srcdir)/config/riscv/riscv-vector-builtins.h \\\n   $(srcdir)/config/riscv/riscv-vector-builtins-shapes.h \\\n-  $(srcdir)/config/riscv/riscv-vector-builtins-bases.h\n+  $(srcdir)/config/riscv/riscv-vector-builtins-bases.h \\\n+  $(RISCV_BUILTINS_H)\n \t$(COMPILER) -c $(ALL_COMPILERFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) \\\n \t\t$(srcdir)/config/riscv/riscv-vector-builtins-bases.cc\n \n@@ -60,23 +66,33 @@ riscv-vsetvl.o: $(srcdir)/config/riscv/riscv-vsetvl.cc \\\n \t$(COMPILER) -c $(ALL_COMPILERFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) \\\n \t\t$(srcdir)/config/riscv/riscv-vsetvl.cc\n \n-riscv-d.o: $(srcdir)/config/riscv/riscv-d.cc\n+riscv-d.o: $(srcdir)/config/riscv/riscv-d.cc \\\n+  $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H)\n \t$(COMPILE) $<\n \t$(POSTCOMPILE)\n \n-riscv-shorten-memrefs.o: $(srcdir)/config/riscv/riscv-shorten-memrefs.cc\n+riscv-shorten-memrefs.o: $(srcdir)/config/riscv/riscv-shorten-memrefs.cc \\\n+  $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) $(TARGET_H)\n \t$(COMPILE) $<\n \t$(POSTCOMPILE)\n \n-riscv-selftests.o: $(srcdir)/config/riscv/riscv-selftests.cc\n+riscv-selftests.o: $(srcdir)/config/riscv/riscv-selftests.cc \\\n+  $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) $(RTL_H) $(TREE_H) output.h \\\n+  $(C_COMMON_H) $(TARGET_H) $(OPTABS_H) $(EXPR_H) $(INSN_ATTR_H) $(EMIT_RTL_H)\n \t$(COMPILE) $<\n \t$(POSTCOMPILE)\n \n-riscv-v.o: $(srcdir)/config/riscv/riscv-v.cc\n+riscv-v.o: $(srcdir)/config/riscv/riscv-v.cc \\\n+  $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) $(TREE_H) $(RTL_H) \\\n+  $(TM_P_H) $(TARGET_H) memmodel.h insn-codes.h $(OPTABS_H) $(RECOG_H) \\\n+  $(EXPR_H) $(INSN_ATTR_H) explow.h $(EMIT_RTL_H) tree-vector-builder.h \\\n+  rtx-vector-builder.h\n \t$(COMPILE) $<\n \t$(POSTCOMPILE)\n \n-thead.o: $(srcdir)/config/riscv/thead.cc\n+thead.o: $(srcdir)/config/riscv/thead.cc \\\n+  $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TARGET_H) backend.h $(RTL_H) \\\n+  memmodel.h $(EMIT_RTL_H) poly-int.h output.h\n \t$(COMPILE) $<\n \t$(POSTCOMPILE)\n \n@@ -94,6 +110,7 @@ build/genrvv-type-indexer$(build_exeext): build/genrvv-type-indexer.o\n \t    $(filter-out $(BUILD_LIBDEPS), $^) $(BUILD_LIBS)\n \n $(srcdir)/config/riscv/riscv-vector-builtins.def: riscv-vector-type-indexer.gen.def\n+$(srcdir)/config/riscv/riscv-vector-builtins.h: $(srcdir)/config/riscv/riscv-vector-builtins.def\n \n riscv-vector-type-indexer.gen.def: s-riscv-vector-type-indexer.gen.defs ; @true\n "}]}