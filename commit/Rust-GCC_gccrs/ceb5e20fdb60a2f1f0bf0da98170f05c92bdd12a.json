{"sha": "ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2ViNWUyMGZkYjYwYTJmMWYwYmYwZGE5ODE3MGYwNWM5MmJkZDEyYQ==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@redhat.com", "date": "2002-01-29T13:21:08Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2002-01-29T13:21:08Z"}, "message": "aclocal.m4: Replace with version copied from libstdc++-v3.\n\n\t* aclocal.m4: Replace with version copied from libstdc++-v3.\n\t* configure.in: Update for changes to aclocal and Makefile.\n\t* configure: Regenerate.\n\t* Makefile.in: Correct install and uninstall for cross targets.\n\t* libU77/configure: Regenerate.\n\nFrom-SVN: r49316", "tree": {"sha": "a662031f2649944a327cca8b8af5b32b7436bb2e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a662031f2649944a327cca8b8af5b32b7436bb2e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a/comments", "author": null, "committer": null, "parents": [{"sha": "ffdeea47b90c0c898219ac96df667012fe9fb739", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ffdeea47b90c0c898219ac96df667012fe9fb739", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ffdeea47b90c0c898219ac96df667012fe9fb739"}], "stats": {"total": 1529, "additions": 1072, "deletions": 457}, "files": [{"sha": "29144c5ecf6c83af1245f732849ae8d217061429", "filename": "libf2c/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a/libf2c%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a/libf2c%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FChangeLog?ref=ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a", "patch": "@@ -1,3 +1,11 @@\n+2002-01-28  Geoffrey Keating  <geoffk@redhat.com>\n+\n+\t* aclocal.m4: Replace with version copied from libstdc++-v3.\n+\t* configure.in: Update for changes to aclocal and Makefile.\n+\t* configure: Regenerate.\n+\t* Makefile.in: Correct install and uninstall for cross targets.\n+\t* libU77/configure: Regenerate.\n+\n 2002-01-20  Toon Moene  <toon@moene.indiv.nluug.nl>\n \n \t* Makefile.in: $(MULTISUBDIR) has an implied leading `/';"}, {"sha": "36c78269b9ea552cefbb9bcaf134952d846a35a4", "filename": "libf2c/Makefile.in", "status": "modified", "additions": 15, "deletions": 17, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a/libf2c%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a/libf2c%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FMakefile.in?ref=ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a", "patch": "@@ -24,13 +24,18 @@ MAKEOVERRIDES=\n \n #### Start of system configuration section. ####\n \n-srcdir = @srcdir@\n-VPATH = @srcdir@\n+srcdir = @glibcpp_srcdir@\n+VPATH = @glibcpp_srcdir@\n prefix = @prefix@\n exec_prefix = @exec_prefix@\n target_alias = @target_alias@\n gcc_version = @gcc_version@\n gcc_version_trigger = @gcc_version_trigger@\n+top_srcdir = @top_srcdir@\n+toplevel_srcdir = @toplevel_srcdir@\n+toolexecdir = @glibcpp_toolexecdir@\n+glibcpp_toolexecdir = @glibcpp_toolexecdir@\n+glibcpp_toolexeclibdir = @glibcpp_toolexeclibdir@\n \n top_builddir = .\n \n@@ -204,28 +209,21 @@ check:\n \tcd libU77; $(MAKE) G77DIR=../../../gcc/ check\n \n install: all\n-\t$(LIBTOOL) --mode=install $(INSTALL) $(LIBG2C) $(libdir)$(MULTISUBDIR)\n-\t$(INSTALL_DATA) libfrtbegin.a $(libsubdir)$(MULTISUBDIR)\n-\t$(RANLIB) $(libsubdir)$(MULTISUBDIR)/libfrtbegin.a\n+\t$(SHELL) $(toplevel_srcdir)/mkinstalldirs $(glibcpp_toolexeclibdir)\n+\t$(LIBTOOL) --mode=install $(INSTALL) $(LIBG2C) $(glibcpp_toolexeclibdir)\n+\t$(INSTALL_DATA) libfrtbegin.a $(glibcpp_toolexeclibdir)\n+\t$(RANLIB) $(glibcpp_toolexeclibdir)/libfrtbegin.a\n \t$(INSTALL_DATA) g2c.h $(libsubdir)/include/g2c.h\n-\t@if [ -f f2c-install-ok -o -f $(srcdir)/f2c-install-ok ]; then \\\n-\t  echo ''; \\\n-\t  echo 'Warning: g77 no longer installs libf2c.a or f2c.h.'; \\\n-\t  echo '         You must do so yourself.  For more information,'; \\\n-\t  echo '         read \"Distributing Binaries\" in the g77 docs.'; \\\n-\t  echo '         (To turn off this warning, delete the file'; \\\n-\t  echo '         f2c-install-ok in the source or build directory.)'; \\\n-\t  echo ''; \\\n-\telse true; fi\n \t$(MULTIDO) $(FLAGS_TO_PASS) multi-do DO=\"$@\"\n-\t@-$(LIBTOOL) --mode=finish $(prefix)/lib\n+\t@-$(LIBTOOL) --mode=finish $(glibcpp_toolexeclibdir)\n \n install-strip:\n \t$(MAKE) INSTALL_PROGRAM='$(INSTALL_PROGRAM) -s' install\n \n uninstall:\n-\trm -f $(libsubdir)$(MULTISUBDIR)/include/g2c.h\n-\t$(LIBTOOL) --mode=uninstall rm -f $(libdir)$(MULTISUBDIR)/$(LIBG2C_BASE).la\n+\trm -f $(libsubdir)/include/g2c.h\n+\trm -f $(glibcpp_toolexeclibdir)/libfrtbegin.a\n+\t$(LIBTOOL) --mode=uninstall rm -f $(glibcpp_toolexeclibdir)$(LIBG2C_BASE).la\n \t$(MULTIDO) $(FLAGS_TO_PASS) multi-do DO=\"$@\"\n \n mostlyclean:"}, {"sha": "0dfc1d3017eaa2144e09cb0c86dcc2528fb3b306", "filename": "libf2c/aclocal.m4", "status": "modified", "additions": 217, "deletions": 0, "changes": 217, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a/libf2c%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a/libf2c%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2Faclocal.m4?ref=ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a", "patch": "@@ -1,7 +1,224 @@\n+dnl Copyright (C) 1994, 1995-8, 1999, 2001 Free Software Foundation, Inc.\n+dnl This file is free software; the Free Software Foundation\n+dnl gives unlimited permission to copy and/or distribute it,\n+dnl with or without modifications, as long as this notice is preserved.\n+\n+dnl This program is distributed in the hope that it will be useful,\n+dnl but WITHOUT ANY WARRANTY, to the extent permitted by law; without\n+dnl even the implied warranty of MERCHANTABILITY or FITNESS FOR A\n+dnl PARTICULAR PURPOSE.\n+\n+dnl\n+dnl Initialize configure bits.\n+dnl\n+dnl GLIBCPP_CONFIGURE\n+AC_DEFUN(GLIBCPP_CONFIGURE, [\n+  dnl Default to --enable-multilib\n+  AC_ARG_ENABLE(multilib,\n+  [  --enable-multilib       build hella library versions (default)],\n+  [case \"${enableval}\" in\n+    yes) multilib=yes ;;\n+    no)  multilib=no ;;\n+    *)   AC_MSG_ERROR(bad value ${enableval} for multilib option) ;;\n+   esac], [multilib=yes])dnl\n+\n+# When building with srcdir == objdir, links to the source files will\n+# be created in directories within the target_subdir.  We have to\n+# adjust toplevel_srcdir accordingly, so that configure finds\n+# install-sh and other auxiliary files that live in the top-level\n+# source directory.\n+if test \"${srcdir}\" = \".\"; then\n+  if test -z \"${with_target_subdir}\"; then\n+    toprel=\"..\"\n+  else\n+    if test \"${with_target_subdir}\" != \".\"; then\n+      toprel=\"${with_multisrctop}../..\"\n+    else\n+      toprel=\"${with_multisrctop}..\"\n+    fi\n+  fi\n+else\n+  toprel=\"..\"\n+fi\n+AC_CONFIG_AUX_DIR(${srcdir}/$toprel)\n+toplevel_srcdir=\\${top_srcdir}/$toprel\n+AC_SUBST(toplevel_srcdir)\n+\n+# Export build and source directories.\n+# These need to be absolute paths, yet at the same time need to\n+# canonicalize only relative paths, because then amd will not unmount\n+# drives. Thus the use of PWDCMD: set it to 'pawd' or 'amq -w' if using amd.\n+glibcpp_builddir=`pwd`\n+case $srcdir in\n+[\\\\/$]* | ?:[\\\\/]*) glibcpp_srcdir=${srcdir} ;;\n+*) glibcpp_srcdir=`cd \"$srcdir\" && ${PWDCMD-pwd} || echo \"$srcdir\"` ;;\n+esac\n+AC_SUBST(glibcpp_builddir)\n+AC_SUBST(glibcpp_srcdir)\n+\n+dnl This is here just to satisfy automake.\n+ifelse(not,equal,[AC_CONFIG_AUX_DIR(..)])\n+\n+# Will set LN_S to either 'ln -s' or 'ln'.  With autoconf 2.50+, can also\n+# be 'cp -p' if linking isn't available.\n+#ac_cv_prog_LN_S='cp -p'\n+AC_PROG_LN_S\n+\n+# We use these options to decide which functions to include.\n+AC_ARG_WITH(target-subdir,\n+[  --with-target-subdir=SUBDIR\n+                           configuring in a subdirectory])\n+AC_ARG_WITH(cross-host,\n+[  --with-cross-host=HOST  configuring with a cross compiler])\n+\n+  # Never versions of autoconf add an underscore to these functions.\n+  # Prevent future problems ...\n+  ifdef([AC_PROG_CC_G],[],[define([AC_PROG_CC_G],defn([_AC_PROG_CC_G]))])\n+  ifdef([AC_PROG_CC_GNU],[],[define([AC_PROG_CC_GNU],defn([_AC_PROG_CC_GNU]))])\n+  ifdef([AC_PROG_CXX_G],[],[define([AC_PROG_CXX_G],defn([_AC_PROG_CXX_G]))])\n+  ifdef([AC_PROG_CXX_GNU],[],[define([AC_PROG_CXX_GNU],defn([_AC_PROG_CXX_GNU]))])\n+\n+#  AC_PROG_CC\n+\n+# FIXME: We temporarily define our own version of AC_PROG_CC.  This is\n+# copied from autoconf 2.12, but does not call AC_PROG_CC_WORKS.  We\n+# are probably using a cross compiler, which will not be able to fully\n+# link an executable.  This should really be fixed in autoconf\n+# itself.\n+\n+AC_DEFUN(LIB_AC_PROG_CC,\n+[AC_BEFORE([$0], [AC_PROG_CPP])dnl\n+dnl Fool anybody using AC_PROG_CC.\n+AC_PROVIDE([AC_PROG_CC])\n+AC_CHECK_PROG(CC, gcc, gcc)\n+if test -z \"$CC\"; then\n+  AC_CHECK_PROG(CC, cc, cc, , , /usr/ucb/cc)\n+  test -z \"$CC\" && AC_MSG_ERROR([no acceptable cc found in \\$PATH])\n+fi\n+\n+AC_PROG_CC_GNU\n+\n+if test $ac_cv_prog_gcc = yes; then\n+  GCC=yes\n+dnl Check whether -g works, even if CFLAGS is set, in case the package\n+dnl plays around with CFLAGS (such as to build both debugging and\n+dnl normal versions of a library), tasteless as that idea is.\n+  ac_test_CFLAGS=\"${CFLAGS+set}\"\n+  ac_save_CFLAGS=\"$CFLAGS\"\n+  CFLAGS=\n+  AC_PROG_CC_G\n+  if test \"$ac_test_CFLAGS\" = set; then\n+    CFLAGS=\"$ac_save_CFLAGS\"\n+  elif test $ac_cv_prog_cc_g = yes; then\n+    CFLAGS=\"-g -O2\"\n+  else\n+    CFLAGS=\"-O2\"\n+  fi\n+else\n+  GCC=\n+  test \"${CFLAGS+set}\" = set || CFLAGS=\"-g\"\n+fi\n+])\n+\n+LIB_AC_PROG_CC\n+\n+  AC_CHECK_TOOL(AS, as)\n+  AC_CHECK_TOOL(AR, ar)\n+  AC_CHECK_TOOL(RANLIB, ranlib, ranlib-not-found-in-path-error)\n+  AC_PROG_INSTALL\n+\n+  # We need AC_EXEEXT to keep automake happy in cygnus mode.  However,\n+  # at least currently, we never actually build a program, so we never\n+  # need to use $(EXEEXT).  Moreover, the test for EXEEXT normally\n+  # fails, because we are probably configuring with a cross compiler\n+  # which can't create executables.  So we include AC_EXEEXT to keep\n+  # automake happy, but we don't execute it, since we don't care about\n+  # the result.\n+  if false; then\n+    # autoconf 2.50 runs AC_EXEEXT by default, and the macro expands\n+    # to nothing, so nothing would remain between `then' and `fi' if it\n+    # were not for the `:' below.\n+    :\n+    AC_EXEEXT\n+  fi\n+])\n+\n+\n+dnl\n+dnl  GLIBCPP_EXPORT_INSTALL_INFO\n+dnl  calculates gxx_install_dir\n+dnl  exports glibcpp_toolexecdir\n+dnl  exports glibcpp_toolexeclibdir\n+dnl  exports glibcpp_prefixdir\n+dnl\n+dnl Assumes cross_compiling bits already done, and with_cross_host in\n+dnl particular\n+dnl\n+dnl GLIBCPP_EXPORT_INSTALL_INFO\n+AC_DEFUN(GLIBCPP_EXPORT_INSTALL_INFO, [\n+# Assumes glibcpp_builddir, glibcpp_srcdir are alreay set up and\n+# exported correctly in GLIBCPP_CONFIGURE.\n+glibcpp_toolexecdir=no\n+glibcpp_toolexeclibdir=no\n+glibcpp_prefixdir=${prefix}\n+\n+AC_MSG_CHECKING([for interface version number])\n+libstdcxx_interface=$INTERFACE\n+AC_MSG_RESULT($libstdcxx_interface)\n+\n+# Process the option \"--enable-version-specific-runtime-libs\"\n+AC_MSG_CHECKING([for --enable-version-specific-runtime-libs])\n+AC_ARG_ENABLE(version-specific-runtime-libs,\n+[  --enable-version-specific-runtime-libs    Specify that runtime libraries should be installed in a compiler-specific directory ],\n+[case \"$enableval\" in\n+ yes) version_specific_libs=yes ;;\n+ no)  version_specific_libs=no ;;\n+ *)   AC_MSG_ERROR([Unknown argument to enable/disable version-specific libs]);;\n+ esac],\n+version_specific_libs=no)dnl\n+# Option set, now we can test it.\n+AC_MSG_RESULT($version_specific_libs)\n+\n+gcc_version_trigger=${srcdir}/../gcc/version.c\n+gcc_version_full=`grep version_string ${gcc_version_trigger} | sed -e 's/.*\\\"\\([[^ \\\"]]*\\)[[ \\\"]].*/\\1/'`\n+gcc_version=`echo ${gcc_version_full} | sed -e 's/\\([^ ]*\\) .*/\\1/'`\n+AC_SUBST(gcc_version)\n+AC_SUBST(gcc_version_trigger)\n+\n+if test $version_specific_libs = yes; then\n+  # Need the gcc compiler version to know where to install libraries\n+  # and header files if --enable-version-specific-runtime-libs option\n+  # is selected.\n+  changequote(,)dnl\n+  glibcpp_toolexecdir='$(libdir)/gcc-lib/$(target_alias)'\n+  glibcpp_toolexeclibdir='$(toolexecdir)/'${gcc_version}'$(MULTISUBDIR)'\n+  changequote([,])dnl\n+fi\n+\n+# Calculate glibcpp_toolexecdir, glibcpp_toolexeclibdir\n+# Install a library built with a cross compiler in tooldir, not libdir.\n+if test x\"$glibcpp_toolexecdir\" = x\"no\"; then \n+  if test -n \"$with_cross_host\" &&\n+     test x\"$with_cross_host\" != x\"no\"; then\n+    glibcpp_toolexecdir='$(exec_prefix)/$(target_alias)'\n+    glibcpp_toolexeclibdir='$(toolexecdir)/lib$(MULTISUBDIR)'\n+  else\n+    glibcpp_toolexecdir='$(libdir)/gcc-lib/$(target_alias)'\n+    glibcpp_toolexeclibdir='$(libdir)$(MULTISUBDIR)'\n+  fi\n+fi\n+\n+AC_SUBST(glibcpp_prefixdir)\n+AC_SUBST(glibcpp_toolexecdir)\n+AC_SUBST(glibcpp_toolexeclibdir)\n+])\n+\n sinclude(../libtool.m4)\n dnl The lines below arrange for aclocal not to bring an installed\n dnl libtool.m4 into aclocal.m4, while still arranging for automake to\n dnl add a definition of LIBTOOL to Makefile.in.\n ifelse(,,,[AC_SUBST(LIBTOOL)\n AC_DEFUN([AM_PROG_LIBTOOL])\n+AC_DEFUN([AC_LIBTOOL_DLOPEN])\n+AC_DEFUN([AC_PROG_LD])\n ])"}, {"sha": "7f80046a33fa211097b7235fa2559be7544e0d71", "filename": "libf2c/configure", "status": "modified", "additions": 642, "deletions": 388, "changes": 1030, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a/libf2c%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a/libf2c%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2Fconfigure?ref=ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a", "patch": "@@ -11,6 +11,15 @@\n ac_help=\n ac_default_prefix=/usr/local\n # Any additions from configure.in:\n+ac_help=\"$ac_help\n+  --enable-multilib       build hella library versions (default)\"\n+ac_help=\"$ac_help\n+  --with-target-subdir=SUBDIR\n+                           configuring in a subdirectory\"\n+ac_help=\"$ac_help\n+  --with-cross-host=HOST  configuring with a cross compiler\"\n+ac_help=\"$ac_help\n+  --enable-version-specific-runtime-libs    Specify that runtime libraries should be installed in a compiler-specific directory \"\n ac_help=\"$ac_help\n   --enable-shared[=PKGS]  build shared libraries [default=yes]\"\n ac_help=\"$ac_help\n@@ -40,7 +49,6 @@ program_suffix=NONE\n program_transform_name=s,x,x,\n silent=\n site=\n-sitefile=\n srcdir=\n target=NONE\n verbose=\n@@ -155,7 +163,6 @@ Configuration:\n   --help                  print this message\n   --no-create             do not create output files\n   --quiet, --silent       do not print \\`checking...' messages\n-  --site-file=FILE        use FILE as the site file\n   --version               print the version of autoconf that created configure\n Directory and file names:\n   --prefix=PREFIX         install architecture-independent files in PREFIX\n@@ -326,11 +333,6 @@ EOF\n   -site=* | --site=* | --sit=*)\n     site=\"$ac_optarg\" ;;\n \n-  -site-file | --site-file | --site-fil | --site-fi | --site-f)\n-    ac_prev=sitefile ;;\n-  -site-file=* | --site-file=* | --site-fil=* | --site-fi=* | --site-f=*)\n-    sitefile=\"$ac_optarg\" ;;\n-\n   -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)\n     ac_prev=srcdir ;;\n   -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)\n@@ -496,16 +498,12 @@ fi\n srcdir=`echo \"${srcdir}\" | sed 's%\\([^/]\\)/*$%\\1%'`\n \n # Prefer explicitly selected file to automatically selected ones.\n-if test -z \"$sitefile\"; then\n-  if test -z \"$CONFIG_SITE\"; then\n-    if test \"x$prefix\" != xNONE; then\n-      CONFIG_SITE=\"$prefix/share/config.site $prefix/etc/config.site\"\n-    else\n-      CONFIG_SITE=\"$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site\"\n-    fi\n+if test -z \"$CONFIG_SITE\"; then\n+  if test \"x$prefix\" != xNONE; then\n+    CONFIG_SITE=\"$prefix/share/config.site $prefix/etc/config.site\"\n+  else\n+    CONFIG_SITE=\"$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site\"\n   fi\n-else\n-  CONFIG_SITE=\"$sitefile\"\n fi\n for ac_site_file in $CONFIG_SITE; do\n   if test -r \"$ac_site_file\"; then\n@@ -545,17 +543,8 @@ fi\n \n \n \n-if test \"${srcdir}\" = \".\"  ; then\n-  if test \"${with_target_subdir}\" != \".\" ; then\n-    topsrcdir=${with_multisrctop}../..\n-  else\n-    topsrcdir=${with_multisrctop}..\n-  fi\n-else\n-  topsrcdir=${srcdir}/..\n-fi\n ac_aux_dir=\n-for ac_dir in $topsrcdir $srcdir/$topsrcdir; do\n+for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do\n   if test -f $ac_dir/install-sh; then\n     ac_aux_dir=$ac_dir\n     ac_install_sh=\"$ac_aux_dir/install-sh -c\"\n@@ -567,68 +556,117 @@ for ac_dir in $topsrcdir $srcdir/$topsrcdir; do\n   fi\n done\n if test -z \"$ac_aux_dir\"; then\n-  { echo \"configure: error: can not find install-sh or install.sh in $topsrcdir $srcdir/$topsrcdir\" 1>&2; exit 1; }\n+  { echo \"configure: error: can not find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../..\" 1>&2; exit 1; }\n fi\n ac_config_guess=$ac_aux_dir/config.guess\n ac_config_sub=$ac_aux_dir/config.sub\n ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.\n \n \n-# If the language specific compiler does not exist, but the \"gcc\" directory \n-# does, we do not build anything. Note, $r is set by the top-level Makefile.\n-# Note that when we look for the compiler, we search both with and without\n-# extension to handle cross and canadian cross builds. \n-compiler_name=f771\n-rm -f skip-this-dir\n-echo $ac_n \"checking if compiler $compiler_name has been built\"\"... $ac_c\" 1>&6\n-echo \"configure:585: checking if compiler $compiler_name has been built\" >&5\n-if eval \"test \\\"`echo '$''{'g77_cv_compiler_exists'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  g77_cv_compiler_exists=yes\n-if test -n \"$r\"; then\n-  if test -d \"$r\"/gcc; then\n-    if test -f \"$r\"/gcc/$compiler_name \\\n-       || test -f \"$r\"/gcc/$compiler_name.exe; then\n-      true\n-    else\n-      g77_cv_compiler_exists=no\n-      echo \"rm -f config.cache config.log multilib.out\" > skip-this-dir\n-    fi\n-  fi\n-fi\n+# Do some error checking and defaulting for the host and target type.\n+# The inputs are:\n+#    configure --host=HOST --target=TARGET --build=BUILD NONOPT\n+#\n+# The rules are:\n+# 1. You are not allowed to specify --host, --target, and nonopt at the\n+#    same time.\n+# 2. Host defaults to nonopt.\n+# 3. If nonopt is not specified, then host defaults to the current host,\n+#    as determined by config.guess.\n+# 4. Target and build default to nonopt.\n+# 5. If nonopt is not specified, then target and build default to host.\n \n-fi\n+# The aliases save the names the user supplied, while $host etc.\n+# will get canonicalized.\n+case $host---$target---$nonopt in\n+NONE---*---* | *---NONE---* | *---*---NONE) ;;\n+*) { echo \"configure: error: can only configure for one host and one target at a time\" 1>&2; exit 1; } ;;\n+esac\n \n-echo \"$ac_t\"\"$g77_cv_compiler_exists\" 1>&6\n-if test x$g77_cv_compiler_exists = xno\n-then\n-  rm -f Makefile conftest* confdefs* core\n-  exit 0\n+\n+# Make sure we can run config.sub.\n+if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :\n+else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n fi\n \n+echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n+echo \"configure:594: checking host system type\" >&5\n \n+host_alias=$host\n+case \"$host_alias\" in\n+NONE)\n+  case $nonopt in\n+  NONE)\n+    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :\n+    else { echo \"configure: error: can not guess host type; you must specify one\" 1>&2; exit 1; }\n+    fi ;;\n+  *) host_alias=$nonopt ;;\n+  esac ;;\n+esac\n \n+host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`\n+host_cpu=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n+host_vendor=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n+host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n+echo \"$ac_t\"\"$host\" 1>&6\n \n-# We need AC_EXEEXT to keep automake happy in cygnus mode.  However,\n-# at least currently, we never actually build a program, so we never\n-# need to use $(EXEEXT).  Moreover, the test for EXEEXT normally\n-# fails, because we are probably configuring with a cross compiler\n-# which cant create executables.  So we include AC_EXEEXT to keep\n-# automake happy, but we dont execute it, since we dont care about\n-# the result.\n-if false; then\n-  # autoconf 2.50 runs AC_EXEEXT by default, and the macro expands\n-  # to nothing, so nothing would remain between `then' and `fi' if it\n-  # were not for the `:' below.\n-  :\n-  echo $ac_n \"checking for Cygwin environment\"\"... $ac_c\" 1>&6\n-echo \"configure:627: checking for Cygwin environment\" >&5\n+echo $ac_n \"checking target system type\"\"... $ac_c\" 1>&6\n+echo \"configure:615: checking target system type\" >&5\n+\n+target_alias=$target\n+case \"$target_alias\" in\n+NONE)\n+  case $nonopt in\n+  NONE) target_alias=$host_alias ;;\n+  *) target_alias=$nonopt ;;\n+  esac ;;\n+esac\n+\n+target=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $target_alias`\n+target_cpu=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n+target_vendor=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n+target_os=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n+echo \"$ac_t\"\"$target\" 1>&6\n+\n+echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n+echo \"configure:633: checking build system type\" >&5\n+\n+build_alias=$build\n+case \"$build_alias\" in\n+NONE)\n+  case $nonopt in\n+  NONE) build_alias=$host_alias ;;\n+  *) build_alias=$nonopt ;;\n+  esac ;;\n+esac\n+\n+build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`\n+build_cpu=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n+build_vendor=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n+build_os=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n+echo \"$ac_t\"\"$build\" 1>&6\n+\n+test \"$host_alias\" != \"$target_alias\" &&\n+  test \"$program_prefix$program_suffix$program_transform_name\" = \\\n+    NONENONEs,x,x, &&\n+  program_prefix=${target_alias}-\n+\n+target_alias=${target_alias-$target}\n+\n+\n+if test $host != $build; then\n+  ac_tool_prefix=${host_alias}-\n+else\n+  ac_tool_prefix=\n+fi\n+\n+echo $ac_n \"checking for Cygwin environment\"\"... $ac_c\" 1>&6\n+echo \"configure:665: checking for Cygwin environment\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_cygwin'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 632 \"configure\"\n+#line 670 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -639,7 +677,7 @@ int main() {\n return __CYGWIN__;\n ; return 0; }\n EOF\n-if { (eval echo configure:643: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:681: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_cygwin=yes\n else\n@@ -656,19 +694,19 @@ echo \"$ac_t\"\"$ac_cv_cygwin\" 1>&6\n CYGWIN=\n test \"$ac_cv_cygwin\" = yes && CYGWIN=yes\n echo $ac_n \"checking for mingw32 environment\"\"... $ac_c\" 1>&6\n-echo \"configure:660: checking for mingw32 environment\" >&5\n+echo \"configure:698: checking for mingw32 environment\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_mingw32'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 665 \"configure\"\n+#line 703 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n return __MINGW32__;\n ; return 0; }\n EOF\n-if { (eval echo configure:672: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:710: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_mingw32=yes\n else\n@@ -685,47 +723,133 @@ echo \"$ac_t\"\"$ac_cv_mingw32\" 1>&6\n MINGW32=\n test \"$ac_cv_mingw32\" = yes && MINGW32=yes\n \n+    # Check whether --enable-multilib or --disable-multilib was given.\n+if test \"${enable_multilib+set}\" = set; then\n+  enableval=\"$enable_multilib\"\n+  case \"${enableval}\" in\n+    yes) multilib=yes ;;\n+    no)  multilib=no ;;\n+    *)   { echo \"configure: error: bad value ${enableval} for multilib option\" 1>&2; exit 1; } ;;\n+   esac\n+else\n+  multilib=yes\n+fi\n+\n+# When building with srcdir == objdir, links to the source files will\n+# be created in directories within the target_subdir.  We have to\n+# adjust toplevel_srcdir accordingly, so that configure finds\n+# install-sh and other auxiliary files that live in the top-level\n+# source directory.\n+if test \"${srcdir}\" = \".\"; then\n+  if test -z \"${with_target_subdir}\"; then\n+    toprel=\"..\"\n+  else\n+    if test \"${with_target_subdir}\" != \".\"; then\n+      toprel=\"${with_multisrctop}../..\"\n+    else\n+      toprel=\"${with_multisrctop}..\"\n+    fi\n+  fi\n+else\n+  toprel=\"..\"\n+fi\n+ac_aux_dir=\n+for ac_dir in ${srcdir}/$toprel $srcdir/${srcdir}/$toprel; do\n+  if test -f $ac_dir/install-sh; then\n+    ac_aux_dir=$ac_dir\n+    ac_install_sh=\"$ac_aux_dir/install-sh -c\"\n+    break\n+  elif test -f $ac_dir/install.sh; then\n+    ac_aux_dir=$ac_dir\n+    ac_install_sh=\"$ac_aux_dir/install.sh -c\"\n+    break\n+  fi\n+done\n+if test -z \"$ac_aux_dir\"; then\n+  { echo \"configure: error: can not find install-sh or install.sh in ${srcdir}/$toprel $srcdir/${srcdir}/$toprel\" 1>&2; exit 1; }\n+fi\n+ac_config_guess=$ac_aux_dir/config.guess\n+ac_config_sub=$ac_aux_dir/config.sub\n+ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.\n \n-echo $ac_n \"checking for executable suffix\"\"... $ac_c\" 1>&6\n-echo \"configure:691: checking for executable suffix\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_exeext'+set}'`\\\" = set\"; then\n+toplevel_srcdir=\\${top_srcdir}/$toprel\n+\n+\n+# Export build and source directories.\n+# These need to be absolute paths, yet at the same time need to\n+# canonicalize only relative paths, because then amd will not unmount\n+# drives. Thus the use of PWDCMD: set it to 'pawd' or 'amq -w' if using amd.\n+glibcpp_builddir=`pwd`\n+case $srcdir in\n+\\\\/$* | ?:\\\\/*) glibcpp_srcdir=${srcdir} ;;\n+*) glibcpp_srcdir=`cd \"$srcdir\" && ${PWDCMD-pwd} || echo \"$srcdir\"` ;;\n+esac\n+\n+\n+\n+\n+\n+# Will set LN_S to either 'ln -s' or 'ln'.  With autoconf 2.50+, can also\n+# be 'cp -p' if linking isn't available.\n+#ac_cv_prog_LN_S='cp -p'\n+echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n+echo \"configure:797: checking whether ln -s works\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_LN_S'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  if test \"$CYGWIN\" = yes || test \"$MINGW32\" = yes; then\n-  ac_cv_exeext=.exe\n+  rm -f conftestdata\n+if ln -s X conftestdata 2>/dev/null\n+then\n+  rm -f conftestdata\n+  ac_cv_prog_LN_S=\"ln -s\"\n else\n-  rm -f conftest*\n-  echo 'int main () { return 0; }' > conftest.$ac_ext\n-  ac_cv_exeext=\n-  if { (eval echo configure:701: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n-    for file in conftest.*; do\n-      case $file in\n-      *.c | *.o | *.obj | *.ilk | *.pdb) ;;\n-      *) ac_cv_exeext=`echo $file | sed -e s/conftest//` ;;\n-      esac\n-    done\n-  else\n-    { echo \"configure: error: installation or configuration problem: compiler cannot create executables.\" 1>&2; exit 1; }\n-  fi\n-  rm -f conftest*\n-  test x\"${ac_cv_exeext}\" = x && ac_cv_exeext=no\n+  ac_cv_prog_LN_S=ln\n fi\n fi\n+LN_S=\"$ac_cv_prog_LN_S\"\n+if test \"$ac_cv_prog_LN_S\" = \"ln -s\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n \n-EXEEXT=\"\"\n-test x\"${ac_cv_exeext}\" != xno && EXEEXT=${ac_cv_exeext}\n-echo \"$ac_t\"\"${ac_cv_exeext}\" 1>&6\n-ac_exeext=$EXEEXT\n \n+# We use these options to decide which functions to include.\n+# Check whether --with-target-subdir or --without-target-subdir was given.\n+if test \"${with_target_subdir+set}\" = set; then\n+  withval=\"$with_target_subdir\"\n+  :\n fi\n \n-# For g77 we'll set CC to point at the built gcc, but this will get it into\n-# the makefiles\n+# Check whether --with-cross-host or --without-cross-host was given.\n+if test \"${with_cross_host+set}\" = set; then\n+  withval=\"$with_cross_host\"\n+  :\n+fi\n+\n+\n+  # Never versions of autoconf add an underscore to these functions.\n+  # Prevent future problems ...\n+  \n+  \n+  \n+  \n+\n+#  AC_PROG_CC\n+\n+# FIXME: We temporarily define our own version of AC_PROG_CC.  This is\n+# copied from autoconf 2.12, but does not call AC_PROG_CC_WORKS.  We\n+# are probably using a cross compiler, which will not be able to fully\n+# link an executable.  This should really be fixed in autoconf\n+# itself.\n+\n+\n+\n \n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:729: checking for $ac_word\" >&5\n+echo \"configure:853: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -755,7 +879,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:759: checking for $ac_word\" >&5\n+echo \"configure:883: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -800,104 +924,400 @@ else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n \n-  if test -z \"$CC\"; then\n-    case \"`uname -s`\" in\n-    *win32* | *WIN32*)\n-      # Extract the first word of \"cl\", so it can be a program name with args.\n-set dummy cl; ac_word=$2\n+  test -z \"$CC\" && { echo \"configure: error: no acceptable cc found in \\$PATH\" 1>&2; exit 1; }\n+fi\n+\n+echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n+echo \"configure:932: checking whether we are using GNU C\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.c <<EOF\n+#ifdef __GNUC__\n+  yes;\n+#endif\n+EOF\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:941: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+  ac_cv_prog_gcc=yes\n+else\n+  ac_cv_prog_gcc=no\n+fi\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_prog_gcc\" 1>&6\n+\n+if test $ac_cv_prog_gcc = yes; then\n+  GCC=yes\n+  ac_test_CFLAGS=\"${CFLAGS+set}\"\n+  ac_save_CFLAGS=\"$CFLAGS\"\n+  CFLAGS=\n+  echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n+echo \"configure:956: checking whether ${CC-cc} accepts -g\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  echo 'void f(){}' > conftest.c\n+if test -z \"`${CC-cc} -g -c conftest.c 2>&1`\"; then\n+  ac_cv_prog_cc_g=yes\n+else\n+  ac_cv_prog_cc_g=no\n+fi\n+rm -f conftest*\n+\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_prog_cc_g\" 1>&6\n+  if test \"$ac_test_CFLAGS\" = set; then\n+    CFLAGS=\"$ac_save_CFLAGS\"\n+  elif test $ac_cv_prog_cc_g = yes; then\n+    CFLAGS=\"-g -O2\"\n+  else\n+    CFLAGS=\"-O2\"\n+  fi\n+else\n+  GCC=\n+  test \"${CFLAGS+set}\" = set || CFLAGS=\"-g\"\n+fi\n+\n+\n+  # Extract the first word of \"${ac_tool_prefix}as\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}as; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:987: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$AS\"; then\n+  ac_cv_prog_AS=\"$AS\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_AS=\"${ac_tool_prefix}as\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_prog_AS\" && ac_cv_prog_AS=\"as\"\n+fi\n+fi\n+AS=\"$ac_cv_prog_AS\"\n+if test -n \"$AS\"; then\n+  echo \"$ac_t\"\"$AS\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+\n+\n+  # Extract the first word of \"${ac_tool_prefix}ar\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:810: checking for $ac_word\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n+echo \"configure:1019: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  if test -n \"$CC\"; then\n-  ac_cv_prog_CC=\"$CC\" # Let the user override the test.\n+  if test -n \"$AR\"; then\n+  ac_cv_prog_AR=\"$AR\" # Let the user override the test.\n else\n   IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n   ac_dummy=\"$PATH\"\n   for ac_dir in $ac_dummy; do\n     test -z \"$ac_dir\" && ac_dir=.\n     if test -f $ac_dir/$ac_word; then\n-      ac_cv_prog_CC=\"cl\"\n+      ac_cv_prog_AR=\"${ac_tool_prefix}ar\"\n       break\n     fi\n   done\n   IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_prog_AR\" && ac_cv_prog_AR=\"ar\"\n fi\n fi\n-CC=\"$ac_cv_prog_CC\"\n-if test -n \"$CC\"; then\n-  echo \"$ac_t\"\"$CC\" 1>&6\n+AR=\"$ac_cv_prog_AR\"\n+if test -n \"$AR\"; then\n+  echo \"$ac_t\"\"$AR\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+\n+\n+  # Extract the first word of \"${ac_tool_prefix}ranlib\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}ranlib; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:1051: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$RANLIB\"; then\n+  ac_cv_prog_RANLIB=\"$RANLIB\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_RANLIB=\"${ac_tool_prefix}ranlib\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+fi\n+fi\n+RANLIB=\"$ac_cv_prog_RANLIB\"\n+if test -n \"$RANLIB\"; then\n+  echo \"$ac_t\"\"$RANLIB\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+\n+if test -z \"$ac_cv_prog_RANLIB\"; then\n+if test -n \"$ac_tool_prefix\"; then\n+  # Extract the first word of \"ranlib\", so it can be a program name with args.\n+set dummy ranlib; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:1083: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$RANLIB\"; then\n+  ac_cv_prog_RANLIB=\"$RANLIB\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_RANLIB=\"ranlib\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_prog_RANLIB\" && ac_cv_prog_RANLIB=\"ranlib-not-found-in-path-error\"\n+fi\n+fi\n+RANLIB=\"$ac_cv_prog_RANLIB\"\n+if test -n \"$RANLIB\"; then\n+  echo \"$ac_t\"\"$RANLIB\" 1>&6\n else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n- ;;\n+\n+else\n+  RANLIB=\"ranlib-not-found-in-path-error\"\n+fi\n+fi\n+\n+  # Find a good install program.  We prefer a C program (faster),\n+# so one script is as good as another.  But avoid the broken or\n+# incompatible versions:\n+# SysV /etc/install, /usr/sbin/install\n+# SunOS /usr/etc/install\n+# IRIX /sbin/install\n+# AIX /bin/install\n+# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag\n+# AFS /usr/afsws/bin/install, which mishandles nonexistent args\n+# SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n+# ./install, which can be erroneously created by make from ./install.sh.\n+echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n+echo \"configure:1127: checking for a BSD compatible install\" >&5\n+if test -z \"$INSTALL\"; then\n+if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+    IFS=\"${IFS= \t}\"; ac_save_IFS=\"$IFS\"; IFS=\":\"\n+  for ac_dir in $PATH; do\n+    # Account for people who put trailing slashes in PATH elements.\n+    case \"$ac_dir/\" in\n+    /|./|.//|/etc/*|/usr/sbin/*|/usr/etc/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;\n+    *)\n+      # OSF1 and SCO ODT 3.0 have their own names for install.\n+      # Don't use installbsd from OSF since it installs stuff as root\n+      # by default.\n+      for ac_prog in ginstall scoinst install; do\n+        if test -f $ac_dir/$ac_prog; then\n+\t  if test $ac_prog = install &&\n+            grep dspmsg $ac_dir/$ac_prog >/dev/null 2>&1; then\n+\t    # AIX install.  It has an incompatible calling convention.\n+\t    :\n+\t  else\n+\t    ac_cv_path_install=\"$ac_dir/$ac_prog -c\"\n+\t    break 2\n+\t  fi\n+\tfi\n+      done\n+      ;;\n     esac\n+  done\n+  IFS=\"$ac_save_IFS\"\n+\n+fi\n+  if test \"${ac_cv_path_install+set}\" = set; then\n+    INSTALL=\"$ac_cv_path_install\"\n+  else\n+    # As a last resort, use the slow shell script.  We don't cache a\n+    # path for INSTALL within a source directory, because that will\n+    # break other packages using the cache if that directory is\n+    # removed, or if the path is relative.\n+    INSTALL=\"$ac_install_sh\"\n   fi\n-  test -z \"$CC\" && { echo \"configure: error: no acceptable cc found in \\$PATH\" 1>&2; exit 1; }\n fi\n+echo \"$ac_t\"\"$INSTALL\" 1>&6\n+\n+# Use test -z because SunOS4 sh mishandles braces in ${var-val}.\n+# It thinks the first close brace ends the variable substitution.\n+test -z \"$INSTALL_PROGRAM\" && INSTALL_PROGRAM='${INSTALL}'\n+\n+test -z \"$INSTALL_SCRIPT\" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'\n+\n+test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n+\n+\n+  # We need AC_EXEEXT to keep automake happy in cygnus mode.  However,\n+  # at least currently, we never actually build a program, so we never\n+  # need to use $(EXEEXT).  Moreover, the test for EXEEXT normally\n+  # fails, because we are probably configuring with a cross compiler\n+  # which can't create executables.  So we include AC_EXEEXT to keep\n+  # automake happy, but we don't execute it, since we don't care about\n+  # the result.\n+  if false; then\n+    # autoconf 2.50 runs AC_EXEEXT by default, and the macro expands\n+    # to nothing, so nothing would remain between `then' and `fi' if it\n+    # were not for the `:' below.\n+    :\n+    \n+\n+echo $ac_n \"checking for executable suffix\"\"... $ac_c\" 1>&6\n+echo \"configure:1195: checking for executable suffix\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_exeext'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test \"$CYGWIN\" = yes || test \"$MINGW32\" = yes; then\n+  ac_cv_exeext=.exe\n+else\n+  rm -f conftest*\n+  echo 'int main () { return 0; }' > conftest.$ac_ext\n+  ac_cv_exeext=\n+  if { (eval echo configure:1205: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n+    for file in conftest.*; do\n+      case $file in\n+      *.c | *.o | *.obj) ;;\n+      *) ac_cv_exeext=`echo $file | sed -e s/conftest//` ;;\n+      esac\n+    done\n+  else\n+    { echo \"configure: error: installation or configuration problem: compiler cannot create executables.\" 1>&2; exit 1; }\n+  fi\n+  rm -f conftest*\n+  test x\"${ac_cv_exeext}\" = x && ac_cv_exeext=no\n+fi\n+fi\n+\n+EXEEXT=\"\"\n+test x\"${ac_cv_exeext}\" != xno && EXEEXT=${ac_cv_exeext}\n+echo \"$ac_t\"\"${ac_cv_exeext}\" 1>&6\n+ac_exeext=$EXEEXT\n+\n+  fi\n+\n \n+# Assumes glibcpp_builddir, glibcpp_srcdir are alreay set up and\n+# exported correctly in GLIBCPP_CONFIGURE.\n+glibcpp_toolexecdir=no\n+glibcpp_toolexeclibdir=no\n+glibcpp_prefixdir=${prefix}\n \n-echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:843: checking whether we are using GNU C\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  cat > conftest.c <<EOF\n-#ifdef __GNUC__\n-  yes;\n-#endif\n-EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:852: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n-  ac_cv_prog_gcc=yes\n+echo $ac_n \"checking for interface version number\"\"... $ac_c\" 1>&6\n+echo \"configure:1235: checking for interface version number\" >&5\n+libstdcxx_interface=$INTERFACE\n+echo \"$ac_t\"\"$libstdcxx_interface\" 1>&6\n+\n+# Process the option \"--enable-version-specific-runtime-libs\"\n+echo $ac_n \"checking for --enable-version-specific-runtime-libs\"\"... $ac_c\" 1>&6\n+echo \"configure:1241: checking for --enable-version-specific-runtime-libs\" >&5\n+# Check whether --enable-version-specific-runtime-libs or --disable-version-specific-runtime-libs was given.\n+if test \"${enable_version_specific_runtime_libs+set}\" = set; then\n+  enableval=\"$enable_version_specific_runtime_libs\"\n+  case \"$enableval\" in\n+ yes) version_specific_libs=yes ;;\n+ no)  version_specific_libs=no ;;\n+ *)   { echo \"configure: error: Unknown argument to enable/disable version-specific libs\" 1>&2; exit 1; };;\n+ esac\n else\n-  ac_cv_prog_gcc=no\n-fi\n+  version_specific_libs=no\n fi\n+# Option set, now we can test it.\n+echo \"$ac_t\"\"$version_specific_libs\" 1>&6\n \n-echo \"$ac_t\"\"$ac_cv_prog_gcc\" 1>&6\n+gcc_version_trigger=${srcdir}/../gcc/version.c\n+gcc_version_full=`grep version_string ${gcc_version_trigger} | sed -e 's/.*\\\"\\([^ \\\"]*\\)[ \\\"].*/\\1/'`\n+gcc_version=`echo ${gcc_version_full} | sed -e 's/\\(^ *\\) .*/\\1/'`\n \n-if test $ac_cv_prog_gcc = yes; then\n-  GCC=yes\n-else\n-  GCC=\n+\n+\n+if test $version_specific_libs = yes; then\n+  # Need the gcc compiler version to know where to install libraries\n+  # and header files if --enable-version-specific-runtime-libs option\n+  # is selected.\n+    glibcpp_toolexecdir='$(libdir)/gcc-lib/$(target_alias)'\n+  glibcpp_toolexeclibdir='$(toolexecdir)/'${gcc_version}'$(MULTISUBDIR)'\n+  fi\n+\n+# Calculate glibcpp_toolexecdir, glibcpp_toolexeclibdir\n+# Install a library built with a cross compiler in tooldir, not libdir.\n+if test x\"$glibcpp_toolexecdir\" = x\"no\"; then \n+  if test -n \"$with_cross_host\" &&\n+     test x\"$with_cross_host\" != x\"no\"; then\n+    glibcpp_toolexecdir='$(exec_prefix)/$(target_alias)'\n+    glibcpp_toolexeclibdir='$(toolexecdir)/lib$(MULTISUBDIR)'\n+  else\n+    glibcpp_toolexecdir='$(libdir)/gcc-lib/$(target_alias)'\n+    glibcpp_toolexeclibdir='$(libdir)$(MULTISUBDIR)'\n+  fi\n fi\n \n-ac_test_CFLAGS=\"${CFLAGS+set}\"\n-ac_save_CFLAGS=\"$CFLAGS\"\n-CFLAGS=\n-echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:871: checking whether ${CC-cc} accepts -g\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n+\n+\n+\n+\n+\n+# If the language specific compiler does not exist, but the \"gcc\" directory \n+# does, we do not build anything. Note, $r is set by the top-level Makefile.\n+# Note that when we look for the compiler, we search both with and without\n+# extension to handle cross and canadian cross builds. \n+compiler_name=f771\n+rm -f skip-this-dir\n+echo $ac_n \"checking if compiler $compiler_name has been built\"\"... $ac_c\" 1>&6\n+echo \"configure:1295: checking if compiler $compiler_name has been built\" >&5\n+if eval \"test \\\"`echo '$''{'g77_cv_compiler_exists'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  echo 'void f(){}' > conftest.c\n-if test -z \"`${CC-cc} -g -c conftest.c 2>&1`\"; then\n-  ac_cv_prog_cc_g=yes\n-else\n-  ac_cv_prog_cc_g=no\n+  g77_cv_compiler_exists=yes\n+if test -n \"$r\"; then\n+  if test -d \"$r\"/gcc; then\n+    if test -f \"$r\"/gcc/$compiler_name \\\n+       || test -f \"$r\"/gcc/$compiler_name.exe; then\n+      true\n+    else\n+      g77_cv_compiler_exists=no\n+      echo \"rm -f config.cache config.log multilib.out\" > skip-this-dir\n+    fi\n+  fi\n fi\n-rm -f conftest*\n \n fi\n \n-echo \"$ac_t\"\"$ac_cv_prog_cc_g\" 1>&6\n-if test \"$ac_test_CFLAGS\" = set; then\n-  CFLAGS=\"$ac_save_CFLAGS\"\n-elif test $ac_cv_prog_cc_g = yes; then\n-  if test \"$GCC\" = yes; then\n-    CFLAGS=\"-g -O2\"\n-  else\n-    CFLAGS=\"-g\"\n-  fi\n-else\n-  if test \"$GCC\" = yes; then\n-    CFLAGS=\"-O2\"\n-  else\n-    CFLAGS=\n-  fi\n+echo \"$ac_t\"\"$g77_cv_compiler_exists\" 1>&6\n+if test x$g77_cv_compiler_exists = xno\n+then\n+  rm -f Makefile conftest* confdefs* core\n+  exit 0\n fi\n \n+\n # Check whether --enable-shared or --disable-shared was given.\n if test \"${enable_shared+set}\" = set; then\n   enableval=\"$enable_shared\"\n@@ -967,51 +1387,6 @@ else\n   enable_fast_install=yes\n fi\n \n-\n-# Make sure we can run config.sub.\n-if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :\n-else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n-fi\n-\n-echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:978: checking host system type\" >&5\n-\n-host_alias=$host\n-case \"$host_alias\" in\n-NONE)\n-  case $nonopt in\n-  NONE)\n-    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :\n-    else { echo \"configure: error: can not guess host type; you must specify one\" 1>&2; exit 1; }\n-    fi ;;\n-  *) host_alias=$nonopt ;;\n-  esac ;;\n-esac\n-\n-host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`\n-host_cpu=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n-host_vendor=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n-host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n-echo \"$ac_t\"\"$host\" 1>&6\n-\n-echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:999: checking build system type\" >&5\n-\n-build_alias=$build\n-case \"$build_alias\" in\n-NONE)\n-  case $nonopt in\n-  NONE) build_alias=$host_alias ;;\n-  *) build_alias=$nonopt ;;\n-  esac ;;\n-esac\n-\n-build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`\n-build_cpu=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n-build_vendor=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n-build_os=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n-echo \"$ac_t\"\"$build\" 1>&6\n-\n # Check whether --with-gnu-ld or --without-gnu-ld was given.\n if test \"${with_gnu_ld+set}\" = set; then\n   withval=\"$with_gnu_ld\"\n@@ -1024,7 +1399,7 @@ ac_prog=ld\n if test \"$GCC\" = yes; then\n   # Check if gcc -print-prog-name=ld gives a path.\n   echo $ac_n \"checking for ld used by GCC\"\"... $ac_c\" 1>&6\n-echo \"configure:1028: checking for ld used by GCC\" >&5\n+echo \"configure:1403: checking for ld used by GCC\" >&5\n   case $host in\n   *-*-mingw*)\n     # gcc leaves a trailing carriage return which upsets mingw\n@@ -1054,10 +1429,10 @@ echo \"configure:1028: checking for ld used by GCC\" >&5\n   esac\n elif test \"$with_gnu_ld\" = yes; then\n   echo $ac_n \"checking for GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1058: checking for GNU ld\" >&5\n+echo \"configure:1433: checking for GNU ld\" >&5\n else\n   echo $ac_n \"checking for non-GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1061: checking for non-GNU ld\" >&5\n+echo \"configure:1436: checking for non-GNU ld\" >&5\n fi\n if eval \"test \\\"`echo '$''{'lt_cv_path_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1092,7 +1467,7 @@ else\n fi\n test -z \"$LD\" && { echo \"configure: error: no acceptable ld found in \\$PATH\" 1>&2; exit 1; }\n echo $ac_n \"checking if the linker ($LD) is GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1096: checking if the linker ($LD) is GNU ld\" >&5\n+echo \"configure:1471: checking if the linker ($LD) is GNU ld\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_prog_gnu_ld'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1109,7 +1484,7 @@ with_gnu_ld=$lt_cv_prog_gnu_ld\n \n \n echo $ac_n \"checking for $LD option to reload object files\"\"... $ac_c\" 1>&6\n-echo \"configure:1113: checking for $LD option to reload object files\" >&5\n+echo \"configure:1488: checking for $LD option to reload object files\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_ld_reload_flag'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1121,7 +1496,7 @@ reload_flag=$lt_cv_ld_reload_flag\n test -n \"$reload_flag\" && reload_flag=\" $reload_flag\"\n \n echo $ac_n \"checking for BSD-compatible nm\"\"... $ac_c\" 1>&6\n-echo \"configure:1125: checking for BSD-compatible nm\" >&5\n+echo \"configure:1500: checking for BSD-compatible nm\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_path_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1158,29 +1533,8 @@ fi\n NM=\"$lt_cv_path_NM\"\n echo \"$ac_t\"\"$NM\" 1>&6\n \n-echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n-echo \"configure:1163: checking whether ln -s works\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_LN_S'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  rm -f conftestdata\n-if ln -s X conftestdata 2>/dev/null\n-then\n-  rm -f conftestdata\n-  ac_cv_prog_LN_S=\"ln -s\"\n-else\n-  ac_cv_prog_LN_S=ln\n-fi\n-fi\n-LN_S=\"$ac_cv_prog_LN_S\"\n-if test \"$ac_cv_prog_LN_S\" = \"ln -s\"; then\n-  echo \"$ac_t\"\"yes\" 1>&6\n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n-fi\n-\n echo $ac_n \"checking how to recognise dependant libraries\"\"... $ac_c\" 1>&6\n-echo \"configure:1184: checking how to recognise dependant libraries\" >&5\n+echo \"configure:1538: checking how to recognise dependant libraries\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_deplibs_check_method'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1344,13 +1698,13 @@ file_magic_cmd=$lt_cv_file_magic_cmd\n deplibs_check_method=$lt_cv_deplibs_check_method\n \n echo $ac_n \"checking for object suffix\"\"... $ac_c\" 1>&6\n-echo \"configure:1348: checking for object suffix\" >&5\n+echo \"configure:1702: checking for object suffix\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_objext'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   rm -f conftest*\n echo 'int i = 1;' > conftest.$ac_ext\n-if { (eval echo configure:1354: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1708: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   for ac_file in conftest.*; do\n     case $ac_file in\n     *.c) ;;\n@@ -1367,20 +1721,14 @@ echo \"$ac_t\"\"$ac_cv_objext\" 1>&6\n OBJEXT=$ac_cv_objext\n ac_objext=$ac_cv_objext\n \n-if test $host != $build; then\n-  ac_tool_prefix=${host_alias}-\n-else\n-  ac_tool_prefix=\n-fi\n-\n # Autoconf 2.13's AC_OBJEXT and AC_EXEEXT macros only works for C compilers!\n \n # Only perform the check for file, if the check method requires it\n case $deplibs_check_method in\n file_magic*)\n   if test \"$file_magic_cmd\" = '$MAGIC_CMD'; then\n     echo $ac_n \"checking for ${ac_tool_prefix}file\"\"... $ac_c\" 1>&6\n-echo \"configure:1384: checking for ${ac_tool_prefix}file\" >&5\n+echo \"configure:1732: checking for ${ac_tool_prefix}file\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_path_MAGIC_CMD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1442,7 +1790,7 @@ fi\n if test -z \"$lt_cv_path_MAGIC_CMD\"; then\n   if test -n \"$ac_tool_prefix\"; then\n     echo $ac_n \"checking for file\"\"... $ac_c\" 1>&6\n-echo \"configure:1446: checking for file\" >&5\n+echo \"configure:1794: checking for file\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_path_MAGIC_CMD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1513,7 +1861,7 @@ esac\n # Extract the first word of \"${ac_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1517: checking for $ac_word\" >&5\n+echo \"configure:1865: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1545,7 +1893,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1549: checking for $ac_word\" >&5\n+echo \"configure:1897: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1580,7 +1928,7 @@ fi\n # Extract the first word of \"${ac_tool_prefix}strip\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}strip; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1584: checking for $ac_word\" >&5\n+echo \"configure:1932: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_STRIP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1612,7 +1960,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"strip\", so it can be a program name with args.\n set dummy strip; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1616: checking for $ac_word\" >&5\n+echo \"configure:1964: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_STRIP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1679,8 +2027,8 @@ test x\"$pic_mode\" = xno && libtool_flags=\"$libtool_flags --prefer-non-pic\"\n case $host in\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 1683 \"configure\"' > conftest.$ac_ext\n-  if { (eval echo configure:1684: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  echo '#line 2031 \"configure\"' > conftest.$ac_ext\n+  if { (eval echo configure:2032: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n     case `/usr/bin/file conftest.$ac_objext` in\n     *32-bit*)\n       LD=\"${LD-ld} -32\"\n@@ -1701,7 +2049,7 @@ case $host in\n   SAVE_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\"$CFLAGS -belf\"\n   echo $ac_n \"checking whether the C compiler needs -belf\"\"... $ac_c\" 1>&6\n-echo \"configure:1705: checking whether the C compiler needs -belf\" >&5\n+echo \"configure:2053: checking whether the C compiler needs -belf\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_cc_needs_belf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1714,14 +2062,14 @@ ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$a\n cross_compiling=$ac_cv_prog_cc_cross\n \n      cat > conftest.$ac_ext <<EOF\n-#line 1718 \"configure\"\n+#line 2066 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1725: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2073: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   lt_cv_cc_needs_belf=yes\n else\n@@ -1845,7 +2193,7 @@ else\n   # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1849: checking for $ac_word\" >&5\n+echo \"configure:2197: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1885,7 +2233,7 @@ fi\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:1889: checking for a BSD compatible install\" >&5\n+echo \"configure:2237: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1938,7 +2286,7 @@ test -z \"$INSTALL_SCRIPT\" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'\n test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:1942: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:2290: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1967,7 +2315,7 @@ fi\n \n # Sanity check for the cross-compilation case:\n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:1971: checking how to run the C preprocessor\" >&5\n+echo \"configure:2319: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -1982,13 +2330,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 1986 \"configure\"\n+#line 2334 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1992: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2340: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -1999,13 +2347,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2003 \"configure\"\n+#line 2351 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2009: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2357: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2016,13 +2364,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2020 \"configure\"\n+#line 2368 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2026: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2374: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2048,17 +2396,17 @@ echo \"$ac_t\"\"$CPP\" 1>&6\n \n ac_safe=`echo \"stdio.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for stdio.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2052: checking for stdio.h\" >&5\n+echo \"configure:2400: checking for stdio.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2057 \"configure\"\n+#line 2405 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2062: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2410: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2086,12 +2434,12 @@ fi\n \n \n echo $ac_n \"checking for built-in g77 integer types\"\"... $ac_c\" 1>&6\n-echo \"configure:2090: checking for built-in g77 integer types\" >&5\n+echo \"configure:2438: checking for built-in g77 integer types\" >&5\n if eval \"test \\\"`echo '$''{'libf2c_cv_has_g77_builtin_types'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2095 \"configure\"\n+#line 2443 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -2101,7 +2449,7 @@ __g77_longint g77l;\n __g77_ulongint g77ul;\n ; return 0; }\n EOF\n-if { (eval echo configure:2105: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2453: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   libf2c_cv_has_g77_builtin_types=yes\n else\n@@ -2127,107 +2475,6 @@ test -f libF77/makefile && mv libF77/makefile  libF77/makefile.ori\n test -f libI77/makefile && mv libI77/makefile  libI77/makefile.ori\n test -f libU77/makefile && mv libU77/makefile  libU77/makefile.ori\n \n-# Get the version trigger filename from the toplevel\n-if [ \"${with_gcc_version_trigger+set}\" = set ]; then\n-\tgcc_version_trigger=$with_gcc_version_trigger\n-\tgcc_version=`grep version_string ${gcc_version_trigger} | sed -e 's/.*\\\"\\([^ \\\"]*\\)[ \\\"].*/\\1/'`\n-else\n-\tgcc_version_trigger=\n-\tgcc_version=UNKNOWN\n-fi\n-\n-\n-\n-\n-# Do some error checking and defaulting for the host and target type.\n-# The inputs are:\n-#    configure --host=HOST --target=TARGET --build=BUILD NONOPT\n-#\n-# The rules are:\n-# 1. You are not allowed to specify --host, --target, and nonopt at the\n-#    same time.\n-# 2. Host defaults to nonopt.\n-# 3. If nonopt is not specified, then host defaults to the current host,\n-#    as determined by config.guess.\n-# 4. Target and build default to nonopt.\n-# 5. If nonopt is not specified, then target and build default to host.\n-\n-# The aliases save the names the user supplied, while $host etc.\n-# will get canonicalized.\n-case $host---$target---$nonopt in\n-NONE---*---* | *---NONE---* | *---*---NONE) ;;\n-*) { echo \"configure: error: can only configure for one host and one target at a time\" 1>&2; exit 1; } ;;\n-esac\n-\n-\n-# Make sure we can run config.sub.\n-if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :\n-else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n-fi\n-\n-echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:2170: checking host system type\" >&5\n-\n-host_alias=$host\n-case \"$host_alias\" in\n-NONE)\n-  case $nonopt in\n-  NONE)\n-    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :\n-    else { echo \"configure: error: can not guess host type; you must specify one\" 1>&2; exit 1; }\n-    fi ;;\n-  *) host_alias=$nonopt ;;\n-  esac ;;\n-esac\n-\n-host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`\n-host_cpu=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n-host_vendor=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n-host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n-echo \"$ac_t\"\"$host\" 1>&6\n-\n-echo $ac_n \"checking target system type\"\"... $ac_c\" 1>&6\n-echo \"configure:2191: checking target system type\" >&5\n-\n-target_alias=$target\n-case \"$target_alias\" in\n-NONE)\n-  case $nonopt in\n-  NONE) target_alias=$host_alias ;;\n-  *) target_alias=$nonopt ;;\n-  esac ;;\n-esac\n-\n-target=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $target_alias`\n-target_cpu=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n-target_vendor=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n-target_os=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n-echo \"$ac_t\"\"$target\" 1>&6\n-\n-echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:2209: checking build system type\" >&5\n-\n-build_alias=$build\n-case \"$build_alias\" in\n-NONE)\n-  case $nonopt in\n-  NONE) build_alias=$host_alias ;;\n-  *) build_alias=$nonopt ;;\n-  esac ;;\n-esac\n-\n-build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`\n-build_cpu=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n-build_vendor=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n-build_os=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n-echo \"$ac_t\"\"$build\" 1>&6\n-\n-test \"$host_alias\" != \"$target_alias\" &&\n-  test \"$program_prefix$program_suffix$program_transform_name\" = \\\n-    NONENONEs,x,x, &&\n-  program_prefix=${target_alias}-\n-\n-\n subdirs=\"libU77 libI77 libF77\"\n \n # Do Makefile first since g2c.h depends on it and shouldn't get an\n@@ -2378,36 +2625,43 @@ s%@includedir@%$includedir%g\n s%@oldincludedir@%$oldincludedir%g\n s%@infodir@%$infodir%g\n s%@mandir@%$mandir%g\n-s%@EXEEXT@%$EXEEXT%g\n-s%@CC@%$CC%g\n s%@host@%$host%g\n s%@host_alias@%$host_alias%g\n s%@host_cpu@%$host_cpu%g\n s%@host_vendor@%$host_vendor%g\n s%@host_os@%$host_os%g\n+s%@target@%$target%g\n+s%@target_alias@%$target_alias%g\n+s%@target_cpu@%$target_cpu%g\n+s%@target_vendor@%$target_vendor%g\n+s%@target_os@%$target_os%g\n s%@build@%$build%g\n s%@build_alias@%$build_alias%g\n s%@build_cpu@%$build_cpu%g\n s%@build_vendor@%$build_vendor%g\n s%@build_os@%$build_os%g\n+s%@toplevel_srcdir@%$toplevel_srcdir%g\n+s%@glibcpp_builddir@%$glibcpp_builddir%g\n+s%@glibcpp_srcdir@%$glibcpp_srcdir%g\n s%@LN_S@%$LN_S%g\n-s%@OBJEXT@%$OBJEXT%g\n-s%@RANLIB@%$RANLIB%g\n-s%@STRIP@%$STRIP%g\n-s%@LIBTOOL@%$LIBTOOL%g\n+s%@CC@%$CC%g\n+s%@AS@%$AS%g\n s%@AR@%$AR%g\n+s%@RANLIB@%$RANLIB%g\n s%@INSTALL_PROGRAM@%$INSTALL_PROGRAM%g\n s%@INSTALL_SCRIPT@%$INSTALL_SCRIPT%g\n s%@INSTALL_DATA@%$INSTALL_DATA%g\n-s%@SET_MAKE@%$SET_MAKE%g\n-s%@CPP@%$CPP%g\n+s%@EXEEXT@%$EXEEXT%g\n s%@gcc_version@%$gcc_version%g\n s%@gcc_version_trigger@%$gcc_version_trigger%g\n-s%@target@%$target%g\n-s%@target_alias@%$target_alias%g\n-s%@target_cpu@%$target_cpu%g\n-s%@target_vendor@%$target_vendor%g\n-s%@target_os@%$target_os%g\n+s%@glibcpp_prefixdir@%$glibcpp_prefixdir%g\n+s%@glibcpp_toolexecdir@%$glibcpp_toolexecdir%g\n+s%@glibcpp_toolexeclibdir@%$glibcpp_toolexeclibdir%g\n+s%@OBJEXT@%$OBJEXT%g\n+s%@STRIP@%$STRIP%g\n+s%@LIBTOOL@%$LIBTOOL%g\n+s%@SET_MAKE@%$SET_MAKE%g\n+s%@CPP@%$CPP%g\n s%@subdirs@%$subdirs%g\n \n CEOF\n@@ -2517,8 +2771,8 @@ target=${target}\n with_target_subdir=${with_target_subdir}\n with_multisubdir=${with_multisubdir}\n ac_configure_args=\"--enable-multilib ${ac_configure_args}\"\n+toplevel_srcdir=${toplevel_srcdir}\n CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}\n-topsrcdir=${topsrcdir}\n \n EOF\n cat >> $CONFIG_STATUS <<\\EOF\n@@ -2527,7 +2781,7 @@ if test -n \"$CONFIG_FILES\"; then\n   if test -n \"${with_target_subdir}\"; then\n     # FIXME: We shouldn't need to set ac_file\n     ac_file=Makefile\n-    . ${topsrcdir}/config-ml.in\n+    . ${toplevel_srcdir}/config-ml.in\n     touch g2c.h   # to keep it more recent than Makefile\n   fi\n fi"}, {"sha": "ce6ac199b90a49939951f304ae67931f70734a93", "filename": "libf2c/configure.in", "status": "modified", "additions": 8, "deletions": 50, "changes": 58, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a/libf2c%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a/libf2c%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2Fconfigure.in?ref=ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a", "patch": "@@ -22,18 +22,12 @@\n AC_PREREQ(2.13)\n AC_INIT(libF77/Version.c)\n \n-if test \"${srcdir}\" = \".\"  ; then\n-  if test \"${with_target_subdir}\" != \".\" ; then\n-    topsrcdir=${with_multisrctop}../..\n-  else\n-    topsrcdir=${with_multisrctop}..\n-  fi\n-else\n-  topsrcdir=${srcdir}/..\n-fi\n-dnl This is needed for a multilibbed build in the source tree so\n-dnl that install-sh and config.sub get found.\n-AC_CONFIG_AUX_DIR($topsrcdir)\n+AC_CANONICAL_SYSTEM\n+target_alias=${target_alias-$target}\n+AC_SUBST(target_alias)\n+\n+GLIBCPP_CONFIGURE(.)\n+GLIBCPP_EXPORT_INSTALL_INFO\n \n # If the language specific compiler does not exist, but the \"gcc\" directory \n # does, we do not build anything. Note, $r is set by the top-level Makefile.\n@@ -65,29 +59,6 @@ fi\n \n dnl Checks for programs.\n \n-dnl FIXME AC_PROG_CC wants CC to be able to link things, but it may\n-dnl not be able to.\n-define([AC_PROG_CC_WORKS],[])\n-\n-# We need AC_EXEEXT to keep automake happy in cygnus mode.  However,\n-# at least currently, we never actually build a program, so we never\n-# need to use $(EXEEXT).  Moreover, the test for EXEEXT normally\n-# fails, because we are probably configuring with a cross compiler\n-# which cant create executables.  So we include AC_EXEEXT to keep\n-# automake happy, but we dont execute it, since we dont care about\n-# the result.\n-if false; then\n-  # autoconf 2.50 runs AC_EXEEXT by default, and the macro expands\n-  # to nothing, so nothing would remain between `then' and `fi' if it\n-  # were not for the `:' below.\n-  :\n-  AC_EXEEXT\n-fi\n-\n-# For g77 we'll set CC to point at the built gcc, but this will get it into\n-# the makefiles\n-\n-AC_PROG_CC\n AM_PROG_LIBTOOL\n \n dnl These should be inherited in the recursive make, but ensure they are\n@@ -135,19 +106,6 @@ test -f libF77/makefile && mv libF77/makefile  libF77/makefile.ori\n test -f libI77/makefile && mv libI77/makefile  libI77/makefile.ori\n test -f libU77/makefile && mv libU77/makefile  libU77/makefile.ori\n \n-# Get the version trigger filename from the toplevel\n-if [[ \"${with_gcc_version_trigger+set}\" = set ]]; then\n-\tgcc_version_trigger=$with_gcc_version_trigger\n-\tgcc_version=`grep version_string ${gcc_version_trigger} | sed -e 's/.*\\\"\\([[^ \\\"]]*\\)[[ \\\"]].*/\\1/'`\n-else\n-\tgcc_version_trigger=\n-\tgcc_version=UNKNOWN\n-fi\n-\n-AC_SUBST(gcc_version)\n-AC_SUBST(gcc_version_trigger)\n-AC_CANONICAL_SYSTEM\n-AC_SUBST(target_alias)\n AC_CONFIG_SUBDIRS(libU77 libI77 libF77)\n # Do Makefile first since g2c.h depends on it and shouldn't get an\n # earlier timestamp.  Of course, it does when the multilib gunk below\n@@ -158,7 +116,7 @@ if test -n \"$CONFIG_FILES\"; then\n   if test -n \"${with_target_subdir}\"; then\n     # FIXME: We shouldn't need to set ac_file\n     ac_file=Makefile\n-    . ${topsrcdir}/config-ml.in\n+    . ${toplevel_srcdir}/config-ml.in\n     touch g2c.h   # to keep it more recent than Makefile\n   fi\n fi],\n@@ -168,8 +126,8 @@ target=${target}\n with_target_subdir=${with_target_subdir}\n with_multisubdir=${with_multisubdir}\n ac_configure_args=\"--enable-multilib ${ac_configure_args}\"\n+toplevel_srcdir=${toplevel_srcdir}\n CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}\n-topsrcdir=${topsrcdir}\n )\n \n "}, {"sha": "f25748f99f0b462d2d20a96af786ca2ae957c5db", "filename": "libf2c/libU77/configure", "status": "modified", "additions": 182, "deletions": 2, "changes": 184, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a/libf2c%2FlibU77%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a/libf2c%2FlibU77%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibU77%2Fconfigure?ref=ceb5e20fdb60a2f1f0bf0da98170f05c92bdd12a", "patch": "@@ -1085,7 +1085,7 @@ else\n int main() {\n \n /* Ultrix mips cc rejects this.  */\n-typedef int charset[2]; const charset x = {0,0};\n+typedef int charset[2]; const charset x;\n /* SunOS 4.1.1 cc rejects this.  */\n char const *const *ccp;\n char **p;\n@@ -1486,7 +1486,187 @@ fi\n done\n \n \n-LIBU77_GETTIMEOFDAY\n+\n+  for ac_func in gettimeofday\n+do\n+echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n+echo \"configure:1494: checking for $ac_func\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 1499 \"configure\"\n+#include \"confdefs.h\"\n+/* System header to define __stub macros and hopefully few prototypes,\n+    which can conflict with char $ac_func(); below.  */\n+#include <assert.h>\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+/* We use char because int might match the return type of a gcc2\n+    builtin and then its argument prototype would still apply.  */\n+char $ac_func();\n+\n+int main() {\n+\n+/* The GNU C library defines this for functions which it implements\n+    to always fail with ENOSYS.  Some functions are actually named\n+    something starting with __ and the normal name is an alias.  */\n+#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n+choke me\n+#else\n+$ac_func();\n+#endif\n+\n+; return 0; }\n+EOF\n+if { (eval echo configure:1522: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+  rm -rf conftest*\n+  eval \"ac_cv_func_$ac_func=yes\"\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  eval \"ac_cv_func_$ac_func=no\"\n+fi\n+rm -f conftest*\n+fi\n+\n+if eval \"test \\\"`echo '$ac_cv_func_'$ac_func`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n+  cat >> confdefs.h <<EOF\n+#define $ac_tr_func 1\n+EOF\n+ \n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+done\n+\n+  if test \"$ac_cv_func_gettimeofday\" = yes; then\n+    echo $ac_n \"checking for struct timezone\"\"... $ac_c\" 1>&6\n+echo \"configure:1548: checking for struct timezone\" >&5\n+if eval \"test \\\"`echo '$''{'g77_cv_struct_timezone'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 1553 \"configure\"\n+#include \"confdefs.h\"\n+#include <sys/time.h>\n+int main() {\n+struct timezone tz;\n+; return 0; }\n+EOF\n+if { (eval echo configure:1560: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  g77_cv_struct_timezone=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  g77_cv_struct_timezone=no\n+fi\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$g77_cv_struct_timezone\" 1>&6\n+    if test $g77_cv_struct_timezone = yes; then\n+                  if test \"$cross_compiling\" = yes; then\n+  cat >> confdefs.h <<\\EOF\n+#define HAVE_TIMEZONE 1\n+EOF\n+\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 1581 \"configure\"\n+#include \"confdefs.h\"\n+\n+#ifdef TIME_WITH_SYS_TIME\n+#include <sys/time.h>\n+#include <time.h>\n+#else\n+#ifdef HAVE_SYS_TIME_H\n+#include <sys/time.h>\n+#else\n+#include <time.h>\n+#endif\n+#endif\n+main ()\n+{\n+  struct timeval time;\n+  struct timezone dummy;\n+  if (gettimeofday (&time, &dummy))\n+    exit (1);\n+  else\n+    exit (0);\n+}\n+EOF\n+if { (eval echo configure:1604: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+then\n+  cat >> confdefs.h <<\\EOF\n+#define HAVE_TIMEZONE 1\n+EOF\n+\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+fi\n+rm -fr conftest*\n+fi\n+\n+    fi\n+    \n+    echo $ac_n \"checking whether gettimeofday can accept two arguments\"\"... $ac_c\" 1>&6\n+echo \"configure:1620: checking whether gettimeofday can accept two arguments\" >&5\n+if eval \"test \\\"`echo '$''{'emacs_cv_gettimeofday_two_arguments'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 1625 \"configure\"\n+#include \"confdefs.h\"\n+\n+#ifdef TIME_WITH_SYS_TIME\n+#include <sys/time.h>\n+#include <time.h>\n+#else\n+#ifdef HAVE_SYS_TIME_H\n+#include <sys/time.h>\n+#else\n+#include <time.h>\n+#endif\n+#endif\n+      \n+int main() {\n+\n+      struct timeval time;\n+#ifdef HAVE_TIMEZONE\n+      struct timezone dummy;\n+#define DUMMY &dummy\n+#else\n+#define DUMMY NULL\n+#endif\n+      gettimeofday (&time, DUMMY);\n+; return 0; }\n+EOF\n+if { (eval echo configure:1651: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+  rm -rf conftest*\n+  emacs_cv_gettimeofday_two_arguments=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  emacs_cv_gettimeofday_two_arguments=no\n+fi\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$emacs_cv_gettimeofday_two_arguments\" 1>&6\n+    if test $emacs_cv_gettimeofday_two_arguments = no; then\n+      cat >> confdefs.h <<\\EOF\n+#define GETTIMEOFDAY_ONE_ARGUMENT 1\n+EOF\n+\n+    fi\n+  fi\n \n test $ac_cv_func_symlink = yes && MAYBES=\"$MAYBES symlnk_.o\"\n test $ac_cv_func_lstat = yes && MAYBES=\"$MAYBES lstat_.o\""}]}