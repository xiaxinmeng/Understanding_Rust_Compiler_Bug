{"sha": "35f32ad4a7d3e4e0d8d508884d7b2dffb749e759", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzVmMzJhZDRhN2QzZTRlMGQ4ZDUwODg4NGQ3YjJkZmZiNzQ5ZTc1OQ==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2013-09-06T09:06:25Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2013-09-06T09:06:25Z"}, "message": "lto-streamer.h (lto_global_var_decls): Remove.\n\n2013-09-06  Richard Biener  <rguenther@suse.de>\n\n\t* lto-streamer.h (lto_global_var_decls): Remove.\n\t* Makefile.in (OBJS): Remove lto-symtab.o.\n\t(lto-symtab.o): Remove.\n\t(GTFILES): Remove lto-symtab.c\n\t* lto-symtab.c: Move to lto/\n\n\tlto/\n\t* lto-symtab.c: Move from gcc/\n\t* lto.h: Include vec.h.\n\t(lto_global_var_decls): Declare.\n\t* lto.c (lto_global_var_decls): Move definition here.\n\t* Make-lang.in (LTO_OBJS): Add lto-symtab.o.\n\t(lto-symtab.o): Add.\n\t* config-lang.in (gtfiles): Add lto.h.\n\nFrom-SVN: r202313", "tree": {"sha": "852353295684f8092f28c4fd813d395a1e59bd0a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/852353295684f8092f28c4fd813d395a1e59bd0a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/35f32ad4a7d3e4e0d8d508884d7b2dffb749e759", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/35f32ad4a7d3e4e0d8d508884d7b2dffb749e759", "html_url": "https://github.com/Rust-GCC/gccrs/commit/35f32ad4a7d3e4e0d8d508884d7b2dffb749e759", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/35f32ad4a7d3e4e0d8d508884d7b2dffb749e759/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d12a76f3ec0d4f3010be7b3f335136247b44014a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d12a76f3ec0d4f3010be7b3f335136247b44014a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d12a76f3ec0d4f3010be7b3f335136247b44014a"}], "stats": {"total": 41, "additions": 30, "deletions": 11}, "files": [{"sha": "185c8655b944d49ff3bbde9d6ec48ef241a4df7a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35f32ad4a7d3e4e0d8d508884d7b2dffb749e759/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35f32ad4a7d3e4e0d8d508884d7b2dffb749e759/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=35f32ad4a7d3e4e0d8d508884d7b2dffb749e759", "patch": "@@ -1,3 +1,11 @@\n+2013-09-06  Richard Biener  <rguenther@suse.de>\n+\n+\t* lto-streamer.h (lto_global_var_decls): Remove.\n+\t* Makefile.in (OBJS): Remove lto-symtab.o.\n+\t(lto-symtab.o): Remove.\n+\t(GTFILES): Remove lto-symtab.c\n+\t* lto-symtab.c: Move to lto/\n+\n 2013-09-06  Andreas Krebbel  <Andreas.Krebbel@de.ibm.com>\n \n \t* config/s390/s390.md (UNSPEC_FPINT_FLOOR, UNSPEC_FPINT_BTRUNC)"}, {"sha": "4fdf5cbbda01520b650090436e594169eaaa8d53", "filename": "gcc/Makefile.in", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35f32ad4a7d3e4e0d8d508884d7b2dffb749e759/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35f32ad4a7d3e4e0d8d508884d7b2dffb749e759/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=35f32ad4a7d3e4e0d8d508884d7b2dffb749e759", "patch": "@@ -1320,7 +1320,6 @@ OBJS = \\\n \tlto-streamer-out.o \\\n \tlto-section-in.o \\\n \tlto-section-out.o \\\n-\tlto-symtab.o \\\n \tlto-opts.o \\\n \tlto-compress.o \\\n \tmcf.o \\\n@@ -2220,9 +2219,6 @@ lto-section-out.o : lto-section-out.c $(CONFIG_H) $(SYSTEM_H) coretypes.h \\\n    $(CGRAPH_H) $(FUNCTION_H) $(GGC_H) $(EXCEPT_H) pointer-set.h \\\n    $(BITMAP_H) langhooks.h $(LTO_STREAMER_H) lto-compress.h \\\n    $(DATA_STREAMER_H)\n-lto-symtab.o: lto-symtab.c $(CONFIG_H) $(SYSTEM_H) coretypes.h \\\n-   $(TREE_H) $(GIMPLE_H) $(GGC_H) $(HASHTAB_H) \\\n-   $(LTO_STREAMER_H) $(LINKER_PLUGIN_API_H)\n lto-opts.o: lto-opts.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TREE_H) \\\n    $(HASHTAB_H) $(GGC_H) $(BITMAP_H) $(FLAGS_H) $(OPTS_H) $(OPTIONS_H) \\\n    $(COMMON_TARGET_H) $(DIAGNOSTIC_H) $(LTO_STREAMER_H)\n@@ -3839,7 +3835,6 @@ GTFILES = $(CPP_ID_DATA_H) $(srcdir)/input.h $(srcdir)/coretypes.h \\\n   $(srcdir)/cgraphclones.c \\\n   $(srcdir)/tree-ssa-propagate.c \\\n   $(srcdir)/tree-phinodes.c \\\n-  $(srcdir)/lto-symtab.c \\\n   $(srcdir)/tree-ssa-alias.h \\\n   $(srcdir)/ipa-prop.h \\\n   $(srcdir)/trans-mem.c \\"}, {"sha": "13a9593a866597b920fb4cb6beb751f31cea0479", "filename": "gcc/lto-streamer.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35f32ad4a7d3e4e0d8d508884d7b2dffb749e759/gcc%2Flto-streamer.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35f32ad4a7d3e4e0d8d508884d7b2dffb749e759/gcc%2Flto-streamer.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto-streamer.h?ref=35f32ad4a7d3e4e0d8d508884d7b2dffb749e759", "patch": "@@ -903,7 +903,6 @@ lto_symtab_encoder_t compute_ltrans_boundary (lto_symtab_encoder_t encoder);\n extern void lto_symtab_merge_decls (void);\n extern void lto_symtab_merge_symbols (void);\n extern tree lto_symtab_prevailing_decl (tree decl);\n-extern GTY(()) vec<tree, va_gc> *lto_global_var_decls;\n \n \n /* In lto-opts.c.  */"}, {"sha": "8ac0f8d60a40845cb2d4b63bb1b31a6c67028a6b", "filename": "gcc/lto/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35f32ad4a7d3e4e0d8d508884d7b2dffb749e759/gcc%2Flto%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35f32ad4a7d3e4e0d8d508884d7b2dffb749e759/gcc%2Flto%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2FChangeLog?ref=35f32ad4a7d3e4e0d8d508884d7b2dffb749e759", "patch": "@@ -1,3 +1,13 @@\n+2013-09-06  Richard Biener  <rguenther@suse.de>\n+\n+\t* lto-symtab.c: Move from gcc/\n+\t* lto.h: Include vec.h.\n+\t(lto_global_var_decls): Declare.\n+\t* lto.c (lto_global_var_decls): Move definition here.\n+\t* Make-lang.in (LTO_OBJS): Add lto-symtab.o.\n+\t(lto-symtab.o): Add.\n+\t* config-lang.in (gtfiles): Add lto.h.\n+\n 2013-08-31  Jan Hubicka  <jh@suse.cz>\n \n \t* lto.c (mentions_vars_p_field_decl, lto_fixup_prevailing_decls): "}, {"sha": "c67c58e7f8342f3d50b69f68e3de847e4cd9d3fa", "filename": "gcc/lto/Make-lang.in", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35f32ad4a7d3e4e0d8d508884d7b2dffb749e759/gcc%2Flto%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35f32ad4a7d3e4e0d8d508884d7b2dffb749e759/gcc%2Flto%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2FMake-lang.in?ref=35f32ad4a7d3e4e0d8d508884d7b2dffb749e759", "patch": "@@ -22,7 +22,7 @@\n # The name of the LTO compiler.\n LTO_EXE = lto1$(exeext)\n # The LTO-specific object files inclued in $(LTO_EXE).\n-LTO_OBJS = lto/lto-lang.o lto/lto.o lto/lto-object.o attribs.o lto/lto-partition.o\n+LTO_OBJS = lto/lto-lang.o lto/lto.o lto/lto-object.o attribs.o lto/lto-partition.o lto/lto-symtab.o\n LTO_H = lto/lto.h $(HASHTAB_H)\n LINKER_PLUGIN_API_H = $(srcdir)/../include/plugin-api.h\n LTO_TREE_H = lto/lto-tree.h $(LINKER_PLUGIN_API_H)\n@@ -95,6 +95,9 @@ lto/lto-partition.o: lto/lto-partition.c $(CONFIG_H) $(SYSTEM_H) coretypes.h \\\n lto/lto-object.o: lto/lto-object.c $(CONFIG_H) $(SYSTEM_H) coretypes.h \\\n \t$(DIAGNOSTIC_CORE_H) $(LTO_H) $(TM_H) $(LTO_STREAMER_H) \\\n \t../include/simple-object.h\n+lto/lto-symtab.o: lto/lto-symtab.c $(CONFIG_H) $(SYSTEM_H) coretypes.h \\\n+\t$(TREE_H) $(GIMPLE_H) $(GGC_H) $(HASHTAB_H) \\\n+\t$(LTO_STREAMER_H) $(LINKER_PLUGIN_API_H)\n \n # LTO testing is done as part of C/C++/Fortran etc. testing.\n check-lto:"}, {"sha": "9217c5dfbaad864be97a3fa0e398f581a4f92fa5", "filename": "gcc/lto/config-lang.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35f32ad4a7d3e4e0d8d508884d7b2dffb749e759/gcc%2Flto%2Fconfig-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35f32ad4a7d3e4e0d8d508884d7b2dffb749e759/gcc%2Flto%2Fconfig-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2Fconfig-lang.in?ref=35f32ad4a7d3e4e0d8d508884d7b2dffb749e759", "patch": "@@ -21,7 +21,7 @@ language=\"lto\"\n compilers=\"lto1\\$(exeext)\"\n stagestuff=\"lto1\\$(exeext)\"\n \n-gtfiles=\"\\$(srcdir)/lto/lto-tree.h \\$(srcdir)/lto/lto-lang.c \\$(srcdir)/lto/lto.c\"\n+gtfiles=\"\\$(srcdir)/lto/lto-tree.h \\$(srcdir)/lto/lto-lang.c \\$(srcdir)/lto/lto.c \\$(srcdir)/lto/lto.h\"\n \n # LTO is a special front end.  From a user's perspective it is not\n # really a language, but a middle end feature.  However, the GIMPLE"}, {"sha": "b1b7731c830bdfa69eadac9a205ca541bd618291", "filename": "gcc/lto/lto-symtab.c", "status": "renamed", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35f32ad4a7d3e4e0d8d508884d7b2dffb749e759/gcc%2Flto%2Flto-symtab.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35f32ad4a7d3e4e0d8d508884d7b2dffb749e759/gcc%2Flto%2Flto-symtab.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2Flto-symtab.c?ref=35f32ad4a7d3e4e0d8d508884d7b2dffb749e759", "patch": "@@ -30,9 +30,6 @@ along with GCC; see the file COPYING3.  If not see\n #include \"lto-streamer.h\"\n #include \"ipa-utils.h\"\n \n-/* Vector to keep track of external variables we've seen so far.  */\n-vec<tree, va_gc> *lto_global_var_decls;\n-\n /* Replace the cgraph node NODE with PREVAILING_NODE in the cgraph, merging\n    all edges and removing the old node.  */\n ", "previous_filename": "gcc/lto-symtab.c"}, {"sha": "470f3c1d7a7ed2b1fb64c6baf1916fdb9dd75740", "filename": "gcc/lto/lto.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35f32ad4a7d3e4e0d8d508884d7b2dffb749e759/gcc%2Flto%2Flto.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35f32ad4a7d3e4e0d8d508884d7b2dffb749e759/gcc%2Flto%2Flto.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2Flto.c?ref=35f32ad4a7d3e4e0d8d508884d7b2dffb749e759", "patch": "@@ -49,6 +49,9 @@ along with GCC; see the file COPYING3.  If not see\n #include \"context.h\"\n #include \"pass_manager.h\"\n \n+/* Vector to keep track of external variables we've seen so far.  */\n+vec<tree, va_gc> *lto_global_var_decls;\n+\n static GTY(()) tree first_personality_decl;\n \n /* Returns a hash code for P.  */"}, {"sha": "1734fe5def1d1ef97db2b23022cc766601a9f42a", "filename": "gcc/lto/lto.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35f32ad4a7d3e4e0d8d508884d7b2dffb749e759/gcc%2Flto%2Flto.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35f32ad4a7d3e4e0d8d508884d7b2dffb749e759/gcc%2Flto%2Flto.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2Flto.h?ref=35f32ad4a7d3e4e0d8d508884d7b2dffb749e759", "patch": "@@ -22,6 +22,7 @@ along with GCC; see the file COPYING3.  If not see\n #define LTO_H\n \n #include \"hashtab.h\"\n+#include \"vec.h\"\n \n /* A file.  */\n typedef struct lto_file_struct\n@@ -40,6 +41,9 @@ extern tree lto_eh_personality (void);\n extern void lto_main (void);\n extern void lto_read_all_file_options (void);\n \n+/* In lto-symtab.c  */\n+extern GTY(()) vec<tree, va_gc> *lto_global_var_decls;\n+\n /* In lto-elf.c or lto-coff.c  */\n extern lto_file *lto_obj_file_open (const char *filename, bool writable);\n extern void lto_obj_file_close (lto_file *file);"}]}