{"sha": "ca7a5aec06cbaa6683aedc8ebb6273e5d0e64fc6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2E3YTVhZWMwNmNiYWE2NjgzYWVkYzhlYmI2MjczZTVkMGU2NGZjNg==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "joern.rennecke@st.com", "date": "2005-09-27T21:09:28Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "2005-09-27T21:09:28Z"}, "message": "optabs.c (no_conflict_move_test): Check if a result of a to-be-moved insn would be clobbered by an originally...\n\n\t* optabs.c (no_conflict_move_test): Check if a result of a\n\tto-be-moved insn would be clobbered by an originally\n\tpreceding insn.\n\nFrom-SVN: r104709", "tree": {"sha": "0c91c9696e61dce79382b8d1c685a31b922c6dda", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0c91c9696e61dce79382b8d1c685a31b922c6dda"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ca7a5aec06cbaa6683aedc8ebb6273e5d0e64fc6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca7a5aec06cbaa6683aedc8ebb6273e5d0e64fc6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca7a5aec06cbaa6683aedc8ebb6273e5d0e64fc6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca7a5aec06cbaa6683aedc8ebb6273e5d0e64fc6/comments", "author": null, "committer": null, "parents": [{"sha": "dbc6e7b8001e48a3c3f45783244f377ce95d7eb2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dbc6e7b8001e48a3c3f45783244f377ce95d7eb2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dbc6e7b8001e48a3c3f45783244f377ce95d7eb2"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "d1db15ee0910dc0e9cfb0ca91b566629b71ed433", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca7a5aec06cbaa6683aedc8ebb6273e5d0e64fc6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca7a5aec06cbaa6683aedc8ebb6273e5d0e64fc6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ca7a5aec06cbaa6683aedc8ebb6273e5d0e64fc6", "patch": "@@ -1,3 +1,9 @@\n+2005-09-27  J\"orn Rennecke <joern.rennecke@st.com>\n+\n+\t* optabs.c (no_conflict_move_test): Check if a result of a\n+\tto-be-moved insn would be clobbered by an originally\n+\tpreceding insn.\n+\n 2005-09-27  Jeff Law  <law@redhat.com>\n \n \t* passes.c (init_optimization_passes): Replace copy propagation"}, {"sha": "31212cbc007f4056318cc3ad2f6d3c27ec3e0697", "filename": "gcc/optabs.c", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca7a5aec06cbaa6683aedc8ebb6273e5d0e64fc6/gcc%2Foptabs.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca7a5aec06cbaa6683aedc8ebb6273e5d0e64fc6/gcc%2Foptabs.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Foptabs.c?ref=ca7a5aec06cbaa6683aedc8ebb6273e5d0e64fc6", "patch": "@@ -3026,10 +3026,16 @@ no_conflict_move_test (rtx dest, rtx set, void *p0)\n \t   || (CALL_P (p->first) && (find_reg_fusage (p->first, USE, dest)))\n \t   || reg_used_between_p (dest, p->first, p->insn)\n \t   /* Likewise if this insn depends on a register set by a previous\n-\t      insn in the list.  */\n+\t      insn in the list, or if it sets a result (presumably a hard\n+\t      register) that is set or clobbered by a previous insn.\n+\t      N.B. the modified_*_p (SET_DEST...) tests applied to a MEM\n+\t      SET_DEST perform the former check on the address, and the latter\n+\t      check on the MEM.  */\n \t   || (GET_CODE (set) == SET\n \t       && (modified_in_p (SET_SRC (set), p->first)\n-\t\t   || modified_between_p (SET_SRC (set), p->first, p->insn))))\n+\t\t   || modified_in_p (SET_DEST (set), p->first)\n+\t\t   || modified_between_p (SET_SRC (set), p->first, p->insn)\n+\t\t   || modified_between_p (SET_DEST (set), p->first, p->insn))))\n     p->must_stay = true;\n }\n "}]}