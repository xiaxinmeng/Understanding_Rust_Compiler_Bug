{"sha": "de62b72ce74de2f505af7c4918ba26ff470658a2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGU2MmI3MmNlNzRkZTJmNTA1YWY3YzQ5MThiYTI2ZmY0NzA2NThhMg==", "commit": {"author": {"name": "Dale Johannesen", "email": "dalej@apple.com", "date": "2003-01-09T00:53:29Z"}, "committer": {"name": "Dale Johannesen", "email": "dalej@gcc.gnu.org", "date": "2003-01-09T00:53:29Z"}, "message": "function.c (assign_parms): Don't set pretend_args_size if REG_PARM_STACK_SPACE.\n\n2003-01-08  Dale Johannesen  <dalej@apple.com>\n\n        * function.c (assign_parms):  Don't set pretend_args_size if\n          REG_PARM_STACK_SPACE.\n          config/rs6000/rs6000.c (setup_incoming_varargs):  Don't set\n          pretend_args_size.\n\nFrom-SVN: r61063", "tree": {"sha": "efb59c67247b4cedb4349b26a2952948549d354a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/efb59c67247b4cedb4349b26a2952948549d354a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/de62b72ce74de2f505af7c4918ba26ff470658a2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de62b72ce74de2f505af7c4918ba26ff470658a2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de62b72ce74de2f505af7c4918ba26ff470658a2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de62b72ce74de2f505af7c4918ba26ff470658a2/comments", "author": null, "committer": null, "parents": [{"sha": "cdc497ddf971302b88b21d815fbff63db1347b9e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cdc497ddf971302b88b21d815fbff63db1347b9e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cdc497ddf971302b88b21d815fbff63db1347b9e"}], "stats": {"total": 18, "additions": 14, "deletions": 4}, "files": [{"sha": "7e787a384db82c277cd992c6b2be1baf7f30889a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de62b72ce74de2f505af7c4918ba26ff470658a2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de62b72ce74de2f505af7c4918ba26ff470658a2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=de62b72ce74de2f505af7c4918ba26ff470658a2", "patch": "@@ -1,3 +1,10 @@\n+2003-01-08  Dale Johannesen  <dalej@apple.com>\n+ \n+        * function.c (assign_parms):  Don't set pretend_args_size if \n+\t  REG_PARM_STACK_SPACE.\n+          config/rs6000/rs6000.c (setup_incoming_varargs):  Don't set \n+\t  pretend_args_size.\n+\n 2003-01-08  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n \t* gcc.hlp: Delete."}, {"sha": "420085c896faa88b17b3198465c67c6b5a85edcb", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de62b72ce74de2f505af7c4918ba26ff470658a2/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de62b72ce74de2f505af7c4918ba26ff470658a2/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=de62b72ce74de2f505af7c4918ba26ff470658a2", "patch": "@@ -3325,7 +3325,7 @@ setup_incoming_varargs (cum, mode, type, pretend_size, no_rtl)\n      CUMULATIVE_ARGS *cum;\n      enum machine_mode mode;\n      tree type;\n-     int *pretend_size;\n+     int *pretend_size ATTRIBUTE_UNUSED;\n      int no_rtl;\n \n {\n@@ -3380,9 +3380,6 @@ setup_incoming_varargs (cum, mode, type, pretend_size, no_rtl)\n \t(GP_ARG_MIN_REG + first_reg_offset, mem,\n \t GP_ARG_NUM_REG - first_reg_offset,\n \t (GP_ARG_NUM_REG - first_reg_offset) * UNITS_PER_WORD);\n-\n-      /* ??? Does ABI_V4 need this at all?  */\n-      *pretend_size = (GP_ARG_NUM_REG - first_reg_offset) * UNITS_PER_WORD;\n     }\n \n   /* Save FP registers if needed.  */"}, {"sha": "0a0f56d23756f186223d2636454ef4d22e8b8e95", "filename": "gcc/function.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de62b72ce74de2f505af7c4918ba26ff470658a2/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de62b72ce74de2f505af7c4918ba26ff470658a2/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=de62b72ce74de2f505af7c4918ba26ff470658a2", "patch": "@@ -4477,6 +4477,12 @@ assign_parms (fndecl)\n \n \t  if (nregs > 0)\n \t    {\n+#if defined (REG_PARM_STACK_SPACE) && !defined (MAYBE_REG_PARM_STACK_SPACE)\n+\t      /* When REG_PARM_STACK_SPACE is nonzero, stack space for\n+\t\t split parameters was allocated by our caller, so we\n+\t\t won't be pushing it in the prolog.  */\n+\t      if (REG_PARM_STACK_SPACE (fndecl) == 0)\n+#endif\n \t      current_function_pretend_args_size\n \t\t= (((nregs * UNITS_PER_WORD) + (PARM_BOUNDARY / BITS_PER_UNIT) - 1)\n \t\t   / (PARM_BOUNDARY / BITS_PER_UNIT)"}]}