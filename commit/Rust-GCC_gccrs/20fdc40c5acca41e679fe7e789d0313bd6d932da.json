{"sha": "20fdc40c5acca41e679fe7e789d0313bd6d932da", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjBmZGM0MGM1YWNjYTQxZTY3OWZlN2U3ODlkMDMxM2JkNmQ5MzJkYQ==", "commit": {"author": {"name": "Ben Elliston", "email": "bje@au.ibm.com", "date": "2007-02-01T04:04:34Z"}, "committer": {"name": "Ben Elliston", "email": "bje@gcc.gnu.org", "date": "2007-02-01T04:04:34Z"}, "message": "eh_alloc.cc (__cxa_free_exception): Don't refer to the emergency_buffer using `&array[0][0]' notation, use `array'.\n\n\t* libsupc++/eh_alloc.cc (__cxa_free_exception): Don't refer to the\n\temergency_buffer using `&array[0][0]' notation, use `array'.\n\nFrom-SVN: r121456", "tree": {"sha": "f479c94d167e852161402775e4b9df9cf1ef441a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f479c94d167e852161402775e4b9df9cf1ef441a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/20fdc40c5acca41e679fe7e789d0313bd6d932da", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20fdc40c5acca41e679fe7e789d0313bd6d932da", "html_url": "https://github.com/Rust-GCC/gccrs/commit/20fdc40c5acca41e679fe7e789d0313bd6d932da", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20fdc40c5acca41e679fe7e789d0313bd6d932da/comments", "author": null, "committer": null, "parents": [{"sha": "b818de221c8765e9588cfcb54ac6d6f982fac728", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b818de221c8765e9588cfcb54ac6d6f982fac728", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b818de221c8765e9588cfcb54ac6d6f982fac728"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "1718e5db68491cd1fa57aed24cae445712c0872e", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/20fdc40c5acca41e679fe7e789d0313bd6d932da/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/20fdc40c5acca41e679fe7e789d0313bd6d932da/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=20fdc40c5acca41e679fe7e789d0313bd6d932da", "patch": "@@ -1,3 +1,8 @@\n+2007-02-01  Ben Elliston  <bje@au.ibm.com>\n+\n+\t* libsupc++/eh_alloc.cc (__cxa_free_exception): Don't refer to the\n+\temergency_buffer using `&array[0][0]' notation, use `array'.\n+\n 2007-01-30  Benjamin Kosnik  <bkoz@redhat.com>\n \n \tPR libstdc++/30571"}, {"sha": "553c1c1e8580bbc86b0c3e30024ea1f610c3503a", "filename": "libstdc++-v3/libsupc++/eh_alloc.cc", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/20fdc40c5acca41e679fe7e789d0313bd6d932da/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Feh_alloc.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/20fdc40c5acca41e679fe7e789d0313bd6d932da/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Feh_alloc.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Feh_alloc.cc?ref=20fdc40c5acca41e679fe7e789d0313bd6d932da", "patch": "@@ -143,12 +143,13 @@ __cxxabiv1::__cxa_allocate_exception(std::size_t thrown_size) throw()\n extern \"C\" void\n __cxxabiv1::__cxa_free_exception(void *vptr) throw()\n {\n+  char *base = (char *) emergency_buffer;\n   char *ptr = (char *) vptr;\n-  if (ptr >= &emergency_buffer[0][0]\n-      && ptr < &emergency_buffer[0][0] + sizeof (emergency_buffer))\n+  if (ptr >= base\n+      && ptr < base + sizeof (emergency_buffer))\n     {\n       const unsigned int which\n-\t= (unsigned)(ptr - &emergency_buffer[0][0]) / EMERGENCY_OBJ_SIZE;\n+\t= (unsigned) (ptr - base) / EMERGENCY_OBJ_SIZE;\n \n       __gnu_cxx::__scoped_lock sentry(emergency_mutex);\n       emergency_used &= ~((bitmask_type)1 << which);"}]}