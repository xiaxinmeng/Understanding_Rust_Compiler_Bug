{"sha": "e01c66ca3083cf998d7e2f568ff6227f86727499", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTAxYzY2Y2EzMDgzY2Y5OThkN2UyZjU2OGZmNjIyN2Y4NjcyNzQ5OQ==", "commit": {"author": {"name": "Segher Boessenkool", "email": "segher@kernel.crashing.org", "date": "2015-10-01T06:40:01Z"}, "committer": {"name": "Segher Boessenkool", "email": "segher@gcc.gnu.org", "date": "2015-10-01T06:40:01Z"}, "message": "bb-reorder: Documentation updates\n\n\n2015-09-23   Segher Boessenkool  <segher@kernel.crashing.org>\n\n\t* doc/invoke.texi (Optimization Options): Add\n\t-freorder-blocks-algorithm=.\n\t(Optimize Options) <-O>: Add -freorder-blocks.\n\t<-O2>: Remove -freorder-blocks.  Add -freorder-blocks-algorithm=stc.\n\t<-Os>: Add -freorder-blocks-algorithm=stc as not enabled.\n\t<-freorder-blocks>: Also enabled at levels -O and -Os.\n\t<-freorder-blocks-algorithm=>: Document new option.\n\nFrom-SVN: r228319", "tree": {"sha": "9c1dc13c05365ca690189af68f225e26c1906449", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9c1dc13c05365ca690189af68f225e26c1906449"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e01c66ca3083cf998d7e2f568ff6227f86727499", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e01c66ca3083cf998d7e2f568ff6227f86727499", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e01c66ca3083cf998d7e2f568ff6227f86727499", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e01c66ca3083cf998d7e2f568ff6227f86727499/comments", "author": {"login": "segher", "id": 417629, "node_id": "MDQ6VXNlcjQxNzYyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/417629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/segher", "html_url": "https://github.com/segher", "followers_url": "https://api.github.com/users/segher/followers", "following_url": "https://api.github.com/users/segher/following{/other_user}", "gists_url": "https://api.github.com/users/segher/gists{/gist_id}", "starred_url": "https://api.github.com/users/segher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/segher/subscriptions", "organizations_url": "https://api.github.com/users/segher/orgs", "repos_url": "https://api.github.com/users/segher/repos", "events_url": "https://api.github.com/users/segher/events{/privacy}", "received_events_url": "https://api.github.com/users/segher/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "59faab7cc48681d8b2c995bdc466e1f3262839fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59faab7cc48681d8b2c995bdc466e1f3262839fa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/59faab7cc48681d8b2c995bdc466e1f3262839fa"}], "stats": {"total": 33, "additions": 29, "deletions": 4}, "files": [{"sha": "d50f9916613a6e7edd815184c00edefc9927c716", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e01c66ca3083cf998d7e2f568ff6227f86727499/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e01c66ca3083cf998d7e2f568ff6227f86727499/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e01c66ca3083cf998d7e2f568ff6227f86727499", "patch": "@@ -1,3 +1,13 @@\n+2015-10-01  Segher Boessenkool  <segher@kernel.crashing.org>\n+\n+\t* doc/invoke.texi (Optimization Options): Add\n+\t-freorder-blocks-algorithm=.\n+\t(Optimize Options) <-O>: Add -freorder-blocks.\n+\t<-O2>: Remove -freorder-blocks.  Add -freorder-blocks-algorithm=stc.\n+\t<-Os>: Add -freorder-blocks-algorithm=stc as not enabled.\n+\t<-freorder-blocks>: Also enabled at levels -O and -Os.\n+\t<-freorder-blocks-algorithm=>: Document new option.\n+\n 2015-10-01  Segher Boessenkool  <segher@kernel.crashing.org>\n \n \t* bb-reorder.c (reorder_basic_blocks): Use the algorithm selected"}, {"sha": "ebfaaa132fac044dbddc64ed789796eb7631b3f7", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 19, "deletions": 4, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e01c66ca3083cf998d7e2f568ff6227f86727499/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e01c66ca3083cf998d7e2f568ff6227f86727499/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=e01c66ca3083cf998d7e2f568ff6227f86727499", "patch": "@@ -430,6 +430,7 @@ Objective-C and Objective-C++ Dialects}.\n -fprofile-use -fprofile-use=@var{path} -fprofile-values @gol\n -fprofile-reorder-functions @gol\n -freciprocal-math -free -frename-registers -freorder-blocks @gol\n+-freorder-blocks-algorithm=@var{algorithm} @gol\n -freorder-blocks-and-partition -freorder-functions @gol\n -frerun-cse-after-loop -freschedule-modulo-scheduled-loops @gol\n -frounding-math -fsched2-use-superblocks -fsched-pressure @gol\n@@ -7689,6 +7690,7 @@ compilation time.\n -fipa-reference @gol\n -fmerge-constants @gol\n -fmove-loop-invariants @gol\n+-freorder-blocks @gol\n -fshrink-wrap @gol\n -fsplit-wide-types @gol\n -ftree-bit-ccp @gol\n@@ -7745,7 +7747,8 @@ also turns on the following optimization flags:\n -foptimize-strlen @gol\n -fpartial-inlining @gol\n -fpeephole2 @gol\n--freorder-blocks -freorder-blocks-and-partition -freorder-functions @gol\n+-freorder-blocks-algorithm=stc @gol\n+-freorder-blocks-and-partition -freorder-functions @gol\n -frerun-cse-after-loop  @gol\n -fsched-interblock  -fsched-spec @gol\n -fschedule-insns  -fschedule-insns2 @gol\n@@ -7782,8 +7785,8 @@ optimizations designed to reduce code size.\n \n @option{-Os} disables the following optimization flags:\n @gccoptlist{-falign-functions  -falign-jumps  -falign-loops @gol\n--falign-labels  -freorder-blocks  -freorder-blocks-and-partition @gol\n--fprefetch-loop-arrays}\n+-falign-labels  -freorder-blocks  -freorder-blocks-algorithm=stc @gol\n+-freorder-blocks-and-partition  -fprefetch-loop-arrays}\n \n @item -Ofast\n @opindex Ofast\n@@ -9134,7 +9137,19 @@ The default is @option{-fguess-branch-probability} at levels\n Reorder basic blocks in the compiled function in order to reduce number of\n taken branches and improve code locality.\n \n-Enabled at levels @option{-O2}, @option{-O3}.\n+Enabled at levels @option{-O}, @option{-O2}, @option{-O3}, @option{-Os}.\n+\n+@item -freorder-blocks-algorithm=@var{algorithm}\n+@opindex freorder-blocks-algorithm\n+Use the specified algorithm for basic block reordering.  The\n+@var{algorithm} argument can be @samp{simple}, which does not increase\n+code size (except sometimes due to secondary effects like alignment),\n+or @samp{stc}, the ``software trace cache'' algorithm, which tries to\n+put all often executed code together, minimizing the number of branches\n+executed by making extra copies of code.\n+\n+The default is @samp{simple} at levels @option{-O}, @option{-Os}, and\n+@samp{stc} at levels @option{-O2}, @option{-O3}.\n \n @item -freorder-blocks-and-partition\n @opindex freorder-blocks-and-partition"}]}