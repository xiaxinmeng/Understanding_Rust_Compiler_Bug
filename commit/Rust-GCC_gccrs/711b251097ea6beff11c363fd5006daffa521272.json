{"sha": "711b251097ea6beff11c363fd5006daffa521272", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzExYjI1MTA5N2VhNmJlZmYxMWMzNjNmZDUwMDZkYWZmYTUyMTI3Mg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2008-06-11T00:18:49Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2008-06-11T00:18:49Z"}, "message": "c-lex.c (fe_file_change): Pass SOURCE_LINE to start_source_file debug hook.\n\n\t* c-lex.c (fe_file_change): Pass SOURCE_LINE to start_source_file\n\tdebug hook.\n\nFrom-SVN: r136647", "tree": {"sha": "22c2159e94ab06ab309cd8278e78f35ba13d3ebe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/22c2159e94ab06ab309cd8278e78f35ba13d3ebe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/711b251097ea6beff11c363fd5006daffa521272", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/711b251097ea6beff11c363fd5006daffa521272", "html_url": "https://github.com/Rust-GCC/gccrs/commit/711b251097ea6beff11c363fd5006daffa521272", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/711b251097ea6beff11c363fd5006daffa521272/comments", "author": null, "committer": null, "parents": [{"sha": "87a04876a13186c1b346ced5d30a6c81e34dde68", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87a04876a13186c1b346ced5d30a6c81e34dde68", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87a04876a13186c1b346ced5d30a6c81e34dde68"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "90f0ebde511ee5f2eb25f09877cef8e25e11aff9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/711b251097ea6beff11c363fd5006daffa521272/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/711b251097ea6beff11c363fd5006daffa521272/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=711b251097ea6beff11c363fd5006daffa521272", "patch": "@@ -1,3 +1,8 @@\n+2008-06-10  Tom Tromey  <tromey@redhat.com>\n+\n+\t* c-lex.c (fe_file_change): Pass SOURCE_LINE to start_source_file\n+\tdebug hook.\n+\n 2008-06-10  Joseph Myers  <joseph@codesourcery.com>\n \n \t* dfp.c (WORDS_BIGENDIAN): Define to 0 if not defined."}, {"sha": "c2a0fa350b53c070c4b558a9fdda1c861b335dae", "filename": "gcc/c-lex.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/711b251097ea6beff11c363fd5006daffa521272/gcc%2Fc-lex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/711b251097ea6beff11c363fd5006daffa521272/gcc%2Fc-lex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-lex.c?ref=711b251097ea6beff11c363fd5006daffa521272", "patch": "@@ -205,10 +205,13 @@ fe_file_change (const struct line_map *new_map)\n \t we already did in compile_file.  */\n       if (!MAIN_FILE_P (new_map))\n \t{\n-\t  int included_at = LAST_SOURCE_LINE_LOCATION (new_map - 1);\n+\t  unsigned int included_at = LAST_SOURCE_LINE_LOCATION (new_map - 1);\n+\t  int line = 0;\n+\t  if (included_at > BUILTINS_LOCATION)\n+\t    line = SOURCE_LINE (new_map - 1, included_at);\n \n \t  input_location = new_map->start_location;\n-\t  (*debug_hooks->start_source_file) (included_at, new_map->to_file);\n+\t  (*debug_hooks->start_source_file) (line, new_map->to_file);\n #ifndef NO_IMPLICIT_EXTERN_C\n \t  if (c_header_level)\n \t    ++c_header_level;"}]}