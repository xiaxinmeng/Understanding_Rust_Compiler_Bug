{"sha": "228e6ac24512fc77d715b6c59eae96fdfbcc5fa6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjI4ZTZhYzI0NTEyZmM3N2Q3MTViNmM1OWVhZTk2ZmRmYmNjNWZhNg==", "commit": {"author": {"name": "Kaz Kojima", "email": "kkojima@gcc.gnu.org", "date": "2007-01-12T22:27:49Z"}, "committer": {"name": "Kaz Kojima", "email": "kkojima@gcc.gnu.org", "date": "2007-01-12T22:27:49Z"}, "message": "locks.h (read_barrier): New.\n\n\t* sysdep/sh/locks.h (read_barrier): New.\n\t(write_barrier): Likewise.\n\nFrom-SVN: r120735", "tree": {"sha": "c2f9487eca7bc2fce84c29f6f777b6bfd698cf36", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c2f9487eca7bc2fce84c29f6f777b6bfd698cf36"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/228e6ac24512fc77d715b6c59eae96fdfbcc5fa6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/228e6ac24512fc77d715b6c59eae96fdfbcc5fa6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/228e6ac24512fc77d715b6c59eae96fdfbcc5fa6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/228e6ac24512fc77d715b6c59eae96fdfbcc5fa6/comments", "author": null, "committer": null, "parents": [{"sha": "db9d500a22dedb8574dab86475a27d06a3059adf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db9d500a22dedb8574dab86475a27d06a3059adf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db9d500a22dedb8574dab86475a27d06a3059adf"}], "stats": {"total": 19, "additions": 18, "deletions": 1}, "files": [{"sha": "70a158386f5ea37918dae8840f50fcb49ec8d158", "filename": "libjava/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/228e6ac24512fc77d715b6c59eae96fdfbcc5fa6/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/228e6ac24512fc77d715b6c59eae96fdfbcc5fa6/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=228e6ac24512fc77d715b6c59eae96fdfbcc5fa6", "patch": "@@ -1,3 +1,8 @@\n+2007-01-12  Kaz Kojima  <kkojima@gcc.gnu.org>\n+\n+\t* sysdep/sh/locks.h (read_barrier): New.\n+\t(write_barrier): Likewise.\n+\n 2007-01-12  Andrew Haley  <aph@redhat.com>\n \n \t* include/i386-signal.h: Rewrite to use rt_sigaction."}, {"sha": "9a152fb30e58c7159c98556ce92e637bde4479c2", "filename": "libjava/sysdep/sh/locks.h", "status": "modified", "additions": 13, "deletions": 1, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/228e6ac24512fc77d715b6c59eae96fdfbcc5fa6/libjava%2Fsysdep%2Fsh%2Flocks.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/228e6ac24512fc77d715b6c59eae96fdfbcc5fa6/libjava%2Fsysdep%2Fsh%2Flocks.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fsysdep%2Fsh%2Flocks.h?ref=228e6ac24512fc77d715b6c59eae96fdfbcc5fa6", "patch": "@@ -1,6 +1,6 @@\n // locks.h - Thread synchronization primitives. SuperH implementation.\n \n-/* Copyright (C) 2002  Free Software Foundation\n+/* Copyright (C) 2002, 2007  Free Software Foundation\n \n    This file is part of libgcj.\n \n@@ -69,4 +69,16 @@ compare_and_swap_release (volatile obj_addr_t *addr, obj_addr_t old,\n   return compare_and_swap (addr, old, new_val);\n }\n \n+inline static void\n+read_barrier()\n+{\n+  __asm__ __volatile__(\" \" : : : \"memory\");\n+}\n+\n+inline static void\n+write_barrier()\n+{\n+  __asm__ __volatile__(\" \" : : : \"memory\");\n+}\n+\n #endif /* ! __SYSDEP_LOCKS_H__ */"}]}