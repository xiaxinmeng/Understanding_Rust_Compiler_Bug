{"sha": "2450703cc08737027b115c2da82db83a93cd4ecd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjQ1MDcwM2NjMDg3MzcwMjdiMTE1YzJkYTgyZGI4M2E5M2NkNGVjZA==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2001-02-28T16:19:16Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2001-02-28T16:19:16Z"}, "message": "jump.c (reversed_comparison_code_parts): Allow reversal of unordered compares in -ffast-math mode...\n\n\t* jump.c (reversed_comparison_code_parts): Allow reversal of\n\tunordered compares in -ffast-math mode; reverse ordered compares\n\tfor FP even w/o -ffast-math.\n\nFrom-SVN: r40118", "tree": {"sha": "5a65dfb2686e80f00ce9875d6bf3f7024961fc6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5a65dfb2686e80f00ce9875d6bf3f7024961fc6c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2450703cc08737027b115c2da82db83a93cd4ecd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2450703cc08737027b115c2da82db83a93cd4ecd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2450703cc08737027b115c2da82db83a93cd4ecd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2450703cc08737027b115c2da82db83a93cd4ecd/comments", "author": null, "committer": null, "parents": [{"sha": "e5844e6d3984a967559f02386556127d12c8746f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5844e6d3984a967559f02386556127d12c8746f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e5844e6d3984a967559f02386556127d12c8746f"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "b8a2020ca362a00fbd11fd23985690bdd74cb014", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2450703cc08737027b115c2da82db83a93cd4ecd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2450703cc08737027b115c2da82db83a93cd4ecd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2450703cc08737027b115c2da82db83a93cd4ecd", "patch": "@@ -1,3 +1,9 @@\n+Wed Feb 28 17:17:29 CET 2001  Jan Hubicka  <jh@suse.cz>\n+\n+\t* jump.c (reversed_comparison_code_parts): Allow reversal of\n+\tunordered compares in -ffast-math mode; reverse ordered compares\n+\tfor FP even w/o -ffast-math.\n+\n 2001-02-27  Richard Henderson  <rth@redhat.com>\n \n \t* print-rtl.c (print_rtx) [i]: Don't print field five on"}, {"sha": "bda1c6b270dbb6ada0ecf67605924b3fb3685f7d", "filename": "gcc/jump.c", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2450703cc08737027b115c2da82db83a93cd4ecd/gcc%2Fjump.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2450703cc08737027b115c2da82db83a93cd4ecd/gcc%2Fjump.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjump.c?ref=2450703cc08737027b115c2da82db83a93cd4ecd", "patch": "@@ -1782,7 +1782,11 @@ reversed_comparison_code_parts (code, arg0, arg1, insn)\n       case UNLE:\n       case UNGT:\n       case UNGE:\n-\t/* We don't have safe way to reverse these yet.  */\n+\t/* We don't have safe way to reverse these yet - we would need\n+\t   ordered compares that may not trap.  */\n+\tif (TARGET_FLOAT_FORMAT != IEEE_FLOAT_FORMAT\n+\t    || flag_fast_math)\n+\t  return reverse_condition_maybe_unordered (code);\n \treturn UNKNOWN;\n       default:\n \tbreak;\n@@ -1841,6 +1845,12 @@ reversed_comparison_code_parts (code, arg0, arg1, insn)\n \t}\n     }\n \n+  /* In case of floating point modes, we may reverse here, since\n+     we will be always converting an ordered compare to unordered.\n+     The unsafe code has been caught earlier.  */\n+  if (FLOAT_MODE_P (mode))\n+    return reverse_condition_maybe_unordered (code);\n+\n   /* An integer condition.  */\n   if (GET_CODE (arg0) == CONST_INT\n       || (GET_MODE (arg0) != VOIDmode"}]}