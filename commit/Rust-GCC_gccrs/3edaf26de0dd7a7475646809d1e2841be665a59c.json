{"sha": "3edaf26de0dd7a7475646809d1e2841be665a59c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2VkYWYyNmRlMGRkN2E3NDc1NjQ2ODA5ZDFlMjg0MWJlNjY1YTU5Yw==", "commit": {"author": {"name": "Renlin Li", "email": "renlin.li@arm.com", "date": "2014-12-05T15:54:57Z"}, "committer": {"name": "Renlin Li", "email": "renlin@gcc.gnu.org", "date": "2014-12-05T15:54:57Z"}, "message": "[AArch64] Use selected cpu's tuning when no tuning parameter is specified\n\ngcc/\n\n2014-12-05  Renlin Li  <renlin.li@arm.com>\n\n\t* config/aarch64/aarch64.c (aarch64_parse_cpu): Don't define\n\tselected_tune.\n\t(aarch64_override_options): Use selected_cpu's tuning.\n\nFrom-SVN: r218425", "tree": {"sha": "9321b8dc019f441d46ec2e31d4dfebbd3365e81d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9321b8dc019f441d46ec2e31d4dfebbd3365e81d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3edaf26de0dd7a7475646809d1e2841be665a59c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3edaf26de0dd7a7475646809d1e2841be665a59c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3edaf26de0dd7a7475646809d1e2841be665a59c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3edaf26de0dd7a7475646809d1e2841be665a59c/comments", "author": null, "committer": null, "parents": [{"sha": "0b78b90e51560e553211bb5d80bf83bcfc6e23a4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b78b90e51560e553211bb5d80bf83bcfc6e23a4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b78b90e51560e553211bb5d80bf83bcfc6e23a4"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "a8f92da085298e2e32b06d434deebf33e8a8b121", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3edaf26de0dd7a7475646809d1e2841be665a59c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3edaf26de0dd7a7475646809d1e2841be665a59c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3edaf26de0dd7a7475646809d1e2841be665a59c", "patch": "@@ -1,3 +1,9 @@\n+2014-12-05  Renlin Li  <renlin.li@arm.com>\n+\n+\t* config/aarch64/aarch64.c (aarch64_parse_cpu): Don't define\n+\tselected_tune.\n+\t(aarch64_override_options): Use selected_cpu's tuning.\n+\n 2014-12-05  David Edelsohn  <dje.gcc@gmail.com>\n \n \t* config/rs6000/xcoff.h (ASM_OUTPUT_ALIGNED_LOCAL): Append"}, {"sha": "d3ef770a6cbd32059070fc2cdddaa7cce1532955", "filename": "gcc/config/aarch64/aarch64.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3edaf26de0dd7a7475646809d1e2841be665a59c/gcc%2Fconfig%2Faarch64%2Faarch64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3edaf26de0dd7a7475646809d1e2841be665a59c/gcc%2Fconfig%2Faarch64%2Faarch64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.c?ref=3edaf26de0dd7a7475646809d1e2841be665a59c", "patch": "@@ -6625,7 +6625,6 @@ aarch64_parse_cpu (void)\n       if (strlen (cpu->name) == len && strncmp (cpu->name, str, len) == 0)\n \t{\n \t  selected_cpu = cpu;\n-\t  selected_tune = cpu;\n \t  aarch64_isa_flags = selected_cpu->flags;\n \n \t  if (ext != NULL)\n@@ -6721,9 +6720,8 @@ aarch64_override_options (void)\n \n   gcc_assert (selected_cpu);\n \n-  /* The selected cpu may be an architecture, so lookup tuning by core ID.  */\n   if (!selected_tune)\n-    selected_tune = &all_cores[selected_cpu->core];\n+    selected_tune = selected_cpu;\n \n   aarch64_tune_flags = selected_tune->flags;\n   aarch64_tune = selected_tune->core;"}]}