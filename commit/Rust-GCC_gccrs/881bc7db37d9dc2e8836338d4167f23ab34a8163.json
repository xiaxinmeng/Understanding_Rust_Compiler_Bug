{"sha": "881bc7db37d9dc2e8836338d4167f23ab34a8163", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODgxYmM3ZGIzN2Q5ZGMyZTg4MzYzMzhkNDE2N2YyM2FiMzRhODE2Mw==", "commit": {"author": {"name": "Neil Booth", "email": "neilb@earthling.net", "date": "2000-12-03T12:07:40Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2000-12-03T12:07:40Z"}, "message": "* gcc.dg/cpp/macro6.c: New test cases.\n\nFrom-SVN: r37972", "tree": {"sha": "7597f908bb1ae42734096368a61f8092642fc5f6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7597f908bb1ae42734096368a61f8092642fc5f6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/881bc7db37d9dc2e8836338d4167f23ab34a8163", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/881bc7db37d9dc2e8836338d4167f23ab34a8163", "html_url": "https://github.com/Rust-GCC/gccrs/commit/881bc7db37d9dc2e8836338d4167f23ab34a8163", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/881bc7db37d9dc2e8836338d4167f23ab34a8163/comments", "author": null, "committer": null, "parents": [{"sha": "8aaef6e0c9109dd291029f543042900660fae287", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8aaef6e0c9109dd291029f543042900660fae287", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8aaef6e0c9109dd291029f543042900660fae287"}], "stats": {"total": 36, "additions": 36, "deletions": 0}, "files": [{"sha": "c1f0c03c9148e0dbbbcd15e4e2face6098a1e99d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/881bc7db37d9dc2e8836338d4167f23ab34a8163/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/881bc7db37d9dc2e8836338d4167f23ab34a8163/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=881bc7db37d9dc2e8836338d4167f23ab34a8163", "patch": "@@ -1,3 +1,7 @@\n+2000-12-03  Neil Booth  <neilb@earthling.net>\n+\n+        * gcc.dg/cpp/macro6.c: New test cases.\n+\n 2000-12-02  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* gcc.c-torture/execute/string-opt-9.c: New test."}, {"sha": "0fe52ee43f20117b13081b6a1c329062c965cf3e", "filename": "gcc/testsuite/gcc.dg/cpp/macro6.c", "status": "added", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/881bc7db37d9dc2e8836338d4167f23ab34a8163/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fmacro6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/881bc7db37d9dc2e8836338d4167f23ab34a8163/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fmacro6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fmacro6.c?ref=881bc7db37d9dc2e8836338d4167f23ab34a8163", "patch": "@@ -0,0 +1,32 @@\n+/* { dg-do run } */\n+\n+/* Test that, when a macro expansion spills into the source file, we\n+   expand macros we suck in from there, as the standard clearly states\n+   they are not nested.\n+\n+   Submitter: Neil Booth, with minor modifications to the originals. 3\n+   Dec 2000.\n+   Source: PR 962 and Thomas Pornin.  */\n+\n+extern void abort (void);\n+int e = 10, f = 100;\n+\n+#define e(n) 4 + n\n+#define X e\n+#define f(x) x\n+#define h(x) x + f\n+\n+int\n+main ()\n+{\n+  if (X(X) != 14)\t\t/* Should expand to \"4 + e\".  */\n+    abort ();\n+\n+  if (X(X(f)) != 108)\t\t/* Should expand to \"4 + 4 + f\".  */\n+    abort ();\n+\n+  if (h(e)(h(e)) != 120)\t/* Should expand to \"e + e + f\".  */\n+    abort ();\n+\n+  return 0;\n+}"}]}