{"sha": "dd7dc250237e0383a394545bcc87c647aeed9f26", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGQ3ZGMyNTAyMzdlMDM4M2EzOTQ1NDViY2M4N2M2NDdhZWVkOWYyNg==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@apple.com", "date": "2005-09-30T17:55:27Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2005-09-30T17:55:27Z"}, "message": "t-slibgcc-darwin (libgcc_s_%.dylib): Use --print-multi-lib to work out which multilibs are actually being built.\n\n\t* config/t-slibgcc-darwin (libgcc_s_%.dylib): Use --print-multi-lib\n\tto work out which multilibs are actually being built.\n\nFrom-SVN: r104824", "tree": {"sha": "5577ade332f00d3244a52d005d5157af7cf6c0eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5577ade332f00d3244a52d005d5157af7cf6c0eb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dd7dc250237e0383a394545bcc87c647aeed9f26", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd7dc250237e0383a394545bcc87c647aeed9f26", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd7dc250237e0383a394545bcc87c647aeed9f26", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd7dc250237e0383a394545bcc87c647aeed9f26/comments", "author": {"login": "geoffk01", "id": 31905243, "node_id": "MDQ6VXNlcjMxOTA1MjQz", "avatar_url": "https://avatars.githubusercontent.com/u/31905243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geoffk01", "html_url": "https://github.com/geoffk01", "followers_url": "https://api.github.com/users/geoffk01/followers", "following_url": "https://api.github.com/users/geoffk01/following{/other_user}", "gists_url": "https://api.github.com/users/geoffk01/gists{/gist_id}", "starred_url": "https://api.github.com/users/geoffk01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geoffk01/subscriptions", "organizations_url": "https://api.github.com/users/geoffk01/orgs", "repos_url": "https://api.github.com/users/geoffk01/repos", "events_url": "https://api.github.com/users/geoffk01/events{/privacy}", "received_events_url": "https://api.github.com/users/geoffk01/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "18048e65b0aedc1e0e0a60310ab6a93753f3cbf7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18048e65b0aedc1e0e0a60310ab6a93753f3cbf7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/18048e65b0aedc1e0e0a60310ab6a93753f3cbf7"}], "stats": {"total": 16, "additions": 12, "deletions": 4}, "files": [{"sha": "58ed17dffb2002f7af8e15fb87b108a222c2797d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd7dc250237e0383a394545bcc87c647aeed9f26/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd7dc250237e0383a394545bcc87c647aeed9f26/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=dd7dc250237e0383a394545bcc87c647aeed9f26", "patch": "@@ -1,3 +1,8 @@\n+2005-09-30  Geoffrey Keating  <geoffk@apple.com>\n+\n+\t* config/t-slibgcc-darwin (libgcc_s_%.dylib): Use --print-multi-lib\n+\tto work out which multilibs are actually being built.\n+\n 2005-09-30  Kazu Hirata  <kazu@codesourcery.com>\n \n \t* tree-vect-transform.c, config/ms1/ms1.md,"}, {"sha": "3a2fc185c41c5db2f9e6e25d978100bcd9cee188", "filename": "gcc/config/t-slibgcc-darwin", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd7dc250237e0383a394545bcc87c647aeed9f26/gcc%2Fconfig%2Ft-slibgcc-darwin", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd7dc250237e0383a394545bcc87c647aeed9f26/gcc%2Fconfig%2Ft-slibgcc-darwin", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ft-slibgcc-darwin?ref=dd7dc250237e0383a394545bcc87c647aeed9f26", "patch": "@@ -43,18 +43,21 @@ ASM_HIDDEN_OP = .private_extern\n # contain no code, just a list of exported symbols.\n # The actual use of the libraries is controlled by REAL_LIBGCC_SPEC.\n # \n-# This assumes only one level of multilibs.  It also assumes each multilib\n-# corresponds to a different architecture.\n+# This assumes each multilib corresponds to a different architecture.\n libgcc_s.%.dylib : $(SHLIB_VERPFX).%.ver libgcc.a\n-\tfor mlib in '' $(MULTILIB_DIRNAMES:%=_%) ; do \\\n+\tMLIBS=`$(GCC_FOR_TARGET) --print-multi-lib \\\n+\t\t| sed -e 's/;.*$$//' -e '/^\\.$$/d' -e 's/^/_/'` ; \\\n+\tfor mlib in '' $$MLIBS ; do \\\n \t  $(STRIP_FOR_TARGET) -o $(@)_T$${mlib} \\\n \t    -s $(SHLIB_VERPFX).$(*).ver -c -u \\\n \t    libgcc_s$${mlib}.$(SHLIB_SOVERSION)$(SHLIB_EXT) || exit 1 ; \\\n \tdone\n \t$(LIPO_FOR_TARGET) -output $@ -create $(@)_T*\n \t# When builting multilibbed target libraries, all the required\n \t# libraries are expected to exist in the multilib directory.\n-\tfor mlib in $(MULTILIB_DIRNAMES) ; do \\\n+\tMLIBS=`$(GCC_FOR_TARGET) --print-multi-lib \\\n+\t\t| sed -e 's/;.*$$//' -e '/^\\.$$/d'` ; \\\n+\tfor mlib in $$MLIBS ; do \\\n \t  ln -s ../$@ $${mlib}/$@ || exit 1 ; \\\n \tdone\n \trm $(@)_T*"}]}