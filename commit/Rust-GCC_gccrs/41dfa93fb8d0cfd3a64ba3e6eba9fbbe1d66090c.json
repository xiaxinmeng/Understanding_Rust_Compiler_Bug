{"sha": "41dfa93fb8d0cfd3a64ba3e6eba9fbbe1d66090c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDFkZmE5M2ZiOGQwY2ZkM2E2NGJhM2U2ZWJhOWZiYmUxZDY2MDkwYw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2017-09-15T21:07:54Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2017-09-15T21:07:54Z"}, "message": "compiler: check error expression in Array_type::get_backend_length\n    \n    Otherwise, a zero length is created in the backend and the\n    backend doesn't know there is an error.\n    \n    Reviewed-on: https://go-review.googlesource.com/61610\n\nFrom-SVN: r252849", "tree": {"sha": "3241c6cfc5f9b0874103fbef0c9668883028a528", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3241c6cfc5f9b0874103fbef0c9668883028a528"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/41dfa93fb8d0cfd3a64ba3e6eba9fbbe1d66090c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41dfa93fb8d0cfd3a64ba3e6eba9fbbe1d66090c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41dfa93fb8d0cfd3a64ba3e6eba9fbbe1d66090c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41dfa93fb8d0cfd3a64ba3e6eba9fbbe1d66090c/comments", "author": null, "committer": null, "parents": [{"sha": "efc79e1e860fd4fa7df5ba68c14cf59723205274", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efc79e1e860fd4fa7df5ba68c14cf59723205274", "html_url": "https://github.com/Rust-GCC/gccrs/commit/efc79e1e860fd4fa7df5ba68c14cf59723205274"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "a63d921ab577d2a24f21f0db62874eed0b8dd5cc", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41dfa93fb8d0cfd3a64ba3e6eba9fbbe1d66090c/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41dfa93fb8d0cfd3a64ba3e6eba9fbbe1d66090c/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=41dfa93fb8d0cfd3a64ba3e6eba9fbbe1d66090c", "patch": "@@ -1,4 +1,4 @@\n-4e063a8eee636cce17aea48c7183e78431174de3\n+de7b370901c4fc6852eaa7372282bb699429ec4a\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "a00b80a7e6c414e5767133ea94135c2048fed1e1", "filename": "gcc/go/gofrontend/types.cc", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41dfa93fb8d0cfd3a64ba3e6eba9fbbe1d66090c/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41dfa93fb8d0cfd3a64ba3e6eba9fbbe1d66090c/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Ftypes.cc?ref=41dfa93fb8d0cfd3a64ba3e6eba9fbbe1d66090c", "patch": "@@ -7638,6 +7638,11 @@ Array_type::get_backend_length(Gogo* gogo)\n   go_assert(this->length_ != NULL);\n   if (this->blength_ == NULL)\n     {\n+      if (this->length_->is_error_expression())\n+        {\n+          this->blength_ = gogo->backend()->error_expression();\n+          return this->blength_;\n+        }\n       Numeric_constant nc;\n       mpz_t val;\n       if (this->length_->numeric_constant_value(&nc) && nc.to_int(&val))"}]}