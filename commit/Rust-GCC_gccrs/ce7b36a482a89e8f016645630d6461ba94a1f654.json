{"sha": "ce7b36a482a89e8f016645630d6461ba94a1f654", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2U3YjM2YTQ4MmE4OWU4ZjAxNjY0NTYzMGQ2NDYxYmE5NGExZjY1NA==", "commit": {"author": {"name": "James E Wilson", "email": "wilson@specifixinc.com", "date": "2004-02-18T06:49:58Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "2004-02-18T06:49:58Z"}, "message": "Fix rtl sharing problem reported by Daniel Bayer on gcc list.\n\n\t* caller-save.c (insert_restore): Pass mem through copy_rtx.\n\t(insert_save): Likewise.\n\nFrom-SVN: r78010", "tree": {"sha": "5889b804107ce1b2e15ee91100dee56d0c492b8e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5889b804107ce1b2e15ee91100dee56d0c492b8e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ce7b36a482a89e8f016645630d6461ba94a1f654", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce7b36a482a89e8f016645630d6461ba94a1f654", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce7b36a482a89e8f016645630d6461ba94a1f654", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce7b36a482a89e8f016645630d6461ba94a1f654/comments", "author": null, "committer": null, "parents": [{"sha": "4d0bdcd6e134eb0528577abdc446d12d94762ae2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d0bdcd6e134eb0528577abdc446d12d94762ae2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d0bdcd6e134eb0528577abdc446d12d94762ae2"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "00f6effb135a8a0f31cf3230b49608b13dc1e39d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce7b36a482a89e8f016645630d6461ba94a1f654/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce7b36a482a89e8f016645630d6461ba94a1f654/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ce7b36a482a89e8f016645630d6461ba94a1f654", "patch": "@@ -1,3 +1,8 @@\n+2004-02-17  James E Wilson  <wilson@specifixinc.com>\n+\n+\t* caller-save.c (insert_restore): Pass mem through copy_rtx.\n+\t(insert_save): Likewise.\n+\n 2004-02-17  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* config/h8300/h8300.c (h8300_emit_stack_adjustment): Fix a"}, {"sha": "028705b43898eeaa478ec3cc2ad0ee6efe1ecc96", "filename": "gcc/caller-save.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce7b36a482a89e8f016645630d6461ba94a1f654/gcc%2Fcaller-save.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce7b36a482a89e8f016645630d6461ba94a1f654/gcc%2Fcaller-save.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcaller-save.c?ref=ce7b36a482a89e8f016645630d6461ba94a1f654", "patch": "@@ -685,6 +685,8 @@ insert_restore (struct insn_chain *chain, int before_p, int regno,\n       && save_mode [regno] != GET_MODE (mem)\n       && numregs == (unsigned int) hard_regno_nregs[regno][save_mode [regno]])\n     mem = adjust_address (mem, save_mode[regno], 0);\n+  else\n+    mem = copy_rtx (mem);\n   pat = gen_rtx_SET (VOIDmode,\n \t\t     gen_rtx_REG (GET_MODE (mem),\n \t\t\t\t  regno), mem);\n@@ -757,6 +759,8 @@ insert_save (struct insn_chain *chain, int before_p, int regno,\n       && save_mode [regno] != GET_MODE (mem)\n       && numregs == (unsigned int) hard_regno_nregs[regno][save_mode [regno]])\n     mem = adjust_address (mem, save_mode[regno], 0);\n+  else\n+    mem = copy_rtx (mem);\n   pat = gen_rtx_SET (VOIDmode, mem,\n \t\t     gen_rtx_REG (GET_MODE (mem),\n \t\t\t\t  regno));"}]}