{"sha": "0bae56c4603aa45147cac966e83d264df65847e8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGJhZTU2YzQ2MDNhYTQ1MTQ3Y2FjOTY2ZTgzZDI2NGRmNjU4NDdlOA==", "commit": {"author": {"name": "Kenneth Zadeck", "email": "zadeck@naturalbridge.com", "date": "2005-12-19T19:41:35Z"}, "committer": {"name": "Kenneth Zadeck", "email": "zadeck@gcc.gnu.org", "date": "2005-12-19T19:41:35Z"}, "message": "df.c (df_analyze_1, [...]): Corrected basic block number calculations for changes in entry and exit numbering.\n\n2005-12-19  Kenneth Zadeck <zadeck@naturalbridge.com>\n\t* df.c (df_analyze_1, df_analyze_subcfg, iterative_dataflow):\n\tCorrected basic block number calculations for changes in entry and\n\texit numbering.\n2005-12-19  Kenneth Zadeck <zadeck@naturalbridge.com>\n\n\t* gcc.c-torture/compile/pr25483 : New test.\n\nFrom-SVN: r108805", "tree": {"sha": "c46c9b5308e74e071df21b1b6676596c08d9ecfe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c46c9b5308e74e071df21b1b6676596c08d9ecfe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0bae56c4603aa45147cac966e83d264df65847e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0bae56c4603aa45147cac966e83d264df65847e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0bae56c4603aa45147cac966e83d264df65847e8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0bae56c4603aa45147cac966e83d264df65847e8/comments", "author": {"login": "zadeck", "id": 42682403, "node_id": "MDQ6VXNlcjQyNjgyNDAz", "avatar_url": "https://avatars.githubusercontent.com/u/42682403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zadeck", "html_url": "https://github.com/zadeck", "followers_url": "https://api.github.com/users/zadeck/followers", "following_url": "https://api.github.com/users/zadeck/following{/other_user}", "gists_url": "https://api.github.com/users/zadeck/gists{/gist_id}", "starred_url": "https://api.github.com/users/zadeck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zadeck/subscriptions", "organizations_url": "https://api.github.com/users/zadeck/orgs", "repos_url": "https://api.github.com/users/zadeck/repos", "events_url": "https://api.github.com/users/zadeck/events{/privacy}", "received_events_url": "https://api.github.com/users/zadeck/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "780e37d3707df53431bda25acc03a29dd9ae9a0b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/780e37d3707df53431bda25acc03a29dd9ae9a0b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/780e37d3707df53431bda25acc03a29dd9ae9a0b"}], "stats": {"total": 52, "additions": 38, "deletions": 14}, "files": [{"sha": "aeddaca9e0a41a4d6c07194ac74ce82df02e55e9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0bae56c4603aa45147cac966e83d264df65847e8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0bae56c4603aa45147cac966e83d264df65847e8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0bae56c4603aa45147cac966e83d264df65847e8", "patch": "@@ -1,3 +1,8 @@\n+2005-12-19  Kenneth Zadeck <zadeck@naturalbridge.com>\n+\t* df.c (df_analyze_1, df_analyze_subcfg, iterative_dataflow):\n+\tCorrected basic block number calculations for changes in entry and\n+\texit numbering.\n+\t\n 2005-12-19  Zdenek Dvorak <dvorakz@suse.cz>\n \n \t* tree-flow.h (struct var_ann_d): Change type of"}, {"sha": "f2f5749918b0bbeee944f2c822d8982601ecf896", "filename": "gcc/df.c", "status": "modified", "additions": 14, "deletions": 14, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0bae56c4603aa45147cac966e83d264df65847e8/gcc%2Fdf.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0bae56c4603aa45147cac966e83d264df65847e8/gcc%2Fdf.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdf.c?ref=0bae56c4603aa45147cac966e83d264df65847e8", "patch": "@@ -1992,9 +1992,9 @@ df_analyze_1 (struct df *df, bitmap blocks, int flags, int update)\n       df_reg_use_chain_create (df, blocks, false);\n     }\n \n-  df->dfs_order = xmalloc (sizeof (int) * n_basic_blocks);\n-  df->rc_order = xmalloc (sizeof (int) * n_basic_blocks);\n-  df->rts_order = xmalloc (sizeof (int) * n_basic_blocks);\n+  df->dfs_order = xmalloc (sizeof (int) * n_basic_blocks - NUM_FIXED_BLOCKS);\n+  df->rc_order = xmalloc (sizeof (int) * n_basic_blocks - NUM_FIXED_BLOCKS);\n+  df->rts_order = xmalloc (sizeof (int) * n_basic_blocks - NUM_FIXED_BLOCKS);\n \n   flow_depth_first_order_compute (df->dfs_order, df->rc_order);\n   flow_reverse_top_sort_order_compute (df->rts_order);\n@@ -2019,7 +2019,7 @@ df_analyze_1 (struct df *df, bitmap blocks, int flags, int update)\n       dflow.dir = DF_FORWARD;\n       dflow.conf_op = DF_UNION;\n       dflow.transfun = df_rd_transfer_function;\n-      dflow.n_blocks = n_basic_blocks;\n+      dflow.n_blocks = n_basic_blocks - NUM_FIXED_BLOCKS;\n       dflow.order = df->rc_order;\n       dflow.data = NULL;\n \n@@ -2062,7 +2062,7 @@ df_analyze_1 (struct df *df, bitmap blocks, int flags, int update)\n       dflow.dir = DF_BACKWARD;\n       dflow.conf_op = DF_UNION;\n       dflow.transfun = df_ru_transfer_function;\n-      dflow.n_blocks = n_basic_blocks;\n+      dflow.n_blocks = n_basic_blocks - NUM_FIXED_BLOCKS;\n       dflow.order = df->rts_order;\n       dflow.data = NULL;\n \n@@ -2108,7 +2108,7 @@ df_analyze_1 (struct df *df, bitmap blocks, int flags, int update)\n       dflow.dir = DF_BACKWARD;\n       dflow.conf_op = DF_UNION;\n       dflow.transfun = df_lr_transfer_function;\n-      dflow.n_blocks = n_basic_blocks;\n+      dflow.n_blocks = n_basic_blocks - NUM_FIXED_BLOCKS;\n       dflow.order = df->rts_order;\n       dflow.data = NULL;\n \n@@ -2420,16 +2420,16 @@ df_analyze_subcfg (struct df *df, bitmap blocks, int flags)\n       df_reg_use_chain_create (df, blocks, true);\n     }\n \n-  df->dfs_order = xmalloc (sizeof (int) * n_basic_blocks);\n-  df->rc_order = xmalloc (sizeof (int) * n_basic_blocks);\n-  df->rts_order = xmalloc (sizeof (int) * n_basic_blocks);\n+  df->dfs_order = xmalloc (sizeof (int) * n_basic_blocks - NUM_FIXED_BLOCKS);\n+  df->rc_order = xmalloc (sizeof (int) * n_basic_blocks - NUM_FIXED_BLOCKS);\n+  df->rts_order = xmalloc (sizeof (int) * n_basic_blocks - NUM_FIXED_BLOCKS);\n \n   flow_depth_first_order_compute (df->dfs_order, df->rc_order);\n   flow_reverse_top_sort_order_compute (df->rts_order);\n \n-  n_blocks = prune_to_subcfg (df->dfs_order, n_basic_blocks, blocks);\n-  prune_to_subcfg (df->rc_order, n_basic_blocks, blocks);\n-  prune_to_subcfg (df->rts_order, n_basic_blocks, blocks);\n+  n_blocks = prune_to_subcfg (df->dfs_order, n_basic_blocks - NUM_FIXED_BLOCKS, blocks);\n+  prune_to_subcfg (df->rc_order, n_basic_blocks - NUM_FIXED_BLOCKS, blocks);\n+  prune_to_subcfg (df->rts_order, n_basic_blocks - NUM_FIXED_BLOCKS, blocks);\n \n   dflow.in = xmalloc (sizeof (bitmap) * last_basic_block);\n   dflow.out = xmalloc (sizeof (bitmap) * last_basic_block);\n@@ -3925,7 +3925,7 @@ iterative_dataflow (struct dataflow *dataflow)\n   sbitmap_zero (visited);\n   sbitmap_zero (considered);\n \n-  for (i = 0; i < dataflow->n_blocks - NUM_FIXED_BLOCKS; i++)\n+  for (i = 0; i < dataflow->n_blocks; i++)\n     {\n       idx = dataflow->order[i];\n       SET_BIT (pending, idx);\n@@ -3940,7 +3940,7 @@ iterative_dataflow (struct dataflow *dataflow)\n \n   while (1)\n     {\n-      for (i = 0; i < dataflow->n_blocks - NUM_FIXED_BLOCKS ; i++)\n+      for (i = 0; i < dataflow->n_blocks; i++)\n \t{\n \t  idx = dataflow->order[i];\n "}, {"sha": "91b7f637611c0fec46d3fd94a0847a673176f9f0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0bae56c4603aa45147cac966e83d264df65847e8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0bae56c4603aa45147cac966e83d264df65847e8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=0bae56c4603aa45147cac966e83d264df65847e8", "patch": "@@ -1,3 +1,7 @@\n+2005-12-19  Kenneth Zadeck <zadeck@naturalbridge.com>\n+\n+\t* gcc.c-torture/compile/pr25483 : New test.\n+\n 2005-12-19  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n \n \tPR c++/20552"}, {"sha": "c5b7ed8137160b42dbc00e64a2d03073b7a90325", "filename": "gcc/testsuite/gcc.c-torture/compile/pr25483.c", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0bae56c4603aa45147cac966e83d264df65847e8/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr25483.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0bae56c4603aa45147cac966e83d264df65847e8/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr25483.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr25483.c?ref=0bae56c4603aa45147cac966e83d264df65847e8", "patch": "@@ -0,0 +1,15 @@\n+/* { dg-options \"-O -fmove-loop-invariants\" } */\n+\n+static int mdct_win[8];\n+int x;\n+\n+int\n+decode_init (double d)\n+{\n+  int j;\n+  for (j = 4; j; j--)\n+    {\n+      d *= 0.5;\n+      mdct_win[j] = (d * 3);\n+    }\n+}"}]}