{"sha": "aeb54188701e55f555bb8c601fd75a3e0099b91c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWViNTQxODg3MDFlNTVmNTU1YmI4YzYwMWZkNzVhM2UwMDk5YjkxYw==", "commit": {"author": {"name": "Fernando Nasser", "email": "fnasser@redhat.com", "date": "2003-12-16T17:20:34Z"}, "committer": {"name": "Fernando Nasser", "email": "fnasser@gcc.gnu.org", "date": "2003-12-16T17:20:34Z"}, "message": "2003-12-16  Fernando Nasser  <fnasser@redhat.com>\n\n        * jni/gtk-peer/gnu_java_awt_peer_gtk_GtkEvents.c\n        (pre_event_handler): Handle GtkButton widgets differently as events\n        go to its event_window.\n        (connect_awt_hook): Remove compiler warning.\n\nFrom-SVN: r74704", "tree": {"sha": "6034aeefd69ceb462af48daa185e9018d9cc0812", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6034aeefd69ceb462af48daa185e9018d9cc0812"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aeb54188701e55f555bb8c601fd75a3e0099b91c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aeb54188701e55f555bb8c601fd75a3e0099b91c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aeb54188701e55f555bb8c601fd75a3e0099b91c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aeb54188701e55f555bb8c601fd75a3e0099b91c/comments", "author": {"login": "fnasser", "id": 326533, "node_id": "MDQ6VXNlcjMyNjUzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/326533?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fnasser", "html_url": "https://github.com/fnasser", "followers_url": "https://api.github.com/users/fnasser/followers", "following_url": "https://api.github.com/users/fnasser/following{/other_user}", "gists_url": "https://api.github.com/users/fnasser/gists{/gist_id}", "starred_url": "https://api.github.com/users/fnasser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fnasser/subscriptions", "organizations_url": "https://api.github.com/users/fnasser/orgs", "repos_url": "https://api.github.com/users/fnasser/repos", "events_url": "https://api.github.com/users/fnasser/events{/privacy}", "received_events_url": "https://api.github.com/users/fnasser/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "877342e5e0f81abd4eb448a3ad4ccf687de11e87", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/877342e5e0f81abd4eb448a3ad4ccf687de11e87", "html_url": "https://github.com/Rust-GCC/gccrs/commit/877342e5e0f81abd4eb448a3ad4ccf687de11e87"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "0e17095c202bda6b46a428007cbfd4775f7e264a", "filename": "libjava/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aeb54188701e55f555bb8c601fd75a3e0099b91c/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aeb54188701e55f555bb8c601fd75a3e0099b91c/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=aeb54188701e55f555bb8c601fd75a3e0099b91c", "patch": "@@ -1,3 +1,10 @@\n+2003-12-16  Fernando Nasser  <fnasser@redhat.com>\n+\n+\t* jni/gtk-peer/gnu_java_awt_peer_gtk_GtkEvents.c\n+\t(pre_event_handler): Handle GtkButton widgets differently as events\n+\tgo to its event_window.\n+\t(connect_awt_hook): Remove compiler warning.\n+\n i2003-12-16  Guilhem Lavaux <guilhem@kaffe.org>\n \n \t* java/io/ObjectInputStream.java"}, {"sha": "b158e62c52d62040a1cc047b4f80791da1e6666b", "filename": "libjava/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkEvents.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aeb54188701e55f555bb8c601fd75a3e0099b91c/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkEvents.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aeb54188701e55f555bb8c601fd75a3e0099b91c/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkEvents.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkEvents.c?ref=aeb54188701e55f555bb8c601fd75a3e0099b91c", "patch": "@@ -1064,6 +1064,10 @@ pre_event_handler (GtkWidget *widget, GdkEvent *event, jobject peer)\n               {\n                 obj_window = gtk_widget_get_parent (window->focus_widget)->window;\n               }\n+            else if (GTK_IS_BUTTON (window->focus_widget))\n+\t      /* GtkButton events go to the \"event_window\" and this is what\n+\t         we registered when the button was created. */\n+              obj_window = GTK_BUTTON (window->focus_widget)->event_window;\n             else\n               obj_window = window->focus_widget->window;\n \n@@ -1164,7 +1168,7 @@ connect_awt_hook (JNIEnv *env, jobject peer_obj, int nwindows, ...)\n {\n   va_list ap;\n   jobject *obj;\n-void *ptr = NSA_GET_PTR (env, peer_obj);\n+  //void *ptr = NSA_GET_PTR (env, peer_obj);\n \n   obj = NSA_GET_GLOBAL_REF (env, peer_obj);\n   //g_print(\"Connection obj %s\\n\", gtk_widget_get_name (GTK_WIDGET (ptr)));"}]}