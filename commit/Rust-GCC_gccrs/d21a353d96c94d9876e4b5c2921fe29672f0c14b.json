{"sha": "d21a353d96c94d9876e4b5c2921fe29672f0c14b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDIxYTM1M2Q5NmM5NGQ5ODc2ZTRiNWMyOTIxZmUyOTY3MmYwYzE0Yg==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-03-15T19:40:34Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-03-15T19:40:34Z"}, "message": "(zero_extendqisi2+4,+5): Add new patterns for combining a SI->QI mode truncate...\n\n(zero_extendqisi2+4,+5): Add new patterns for combining\na SI->QI mode truncate with an insn that sets the condition codes.\n\nFrom-SVN: r3743", "tree": {"sha": "a863c735a91b64b55877ad54d9f7bc2a0ba25484", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a863c735a91b64b55877ad54d9f7bc2a0ba25484"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d21a353d96c94d9876e4b5c2921fe29672f0c14b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d21a353d96c94d9876e4b5c2921fe29672f0c14b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d21a353d96c94d9876e4b5c2921fe29672f0c14b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d21a353d96c94d9876e4b5c2921fe29672f0c14b/comments", "author": null, "committer": null, "parents": [{"sha": "6f0f06377eb781444f2722ef75e8830ff05af988", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f0f06377eb781444f2722ef75e8830ff05af988", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f0f06377eb781444f2722ef75e8830ff05af988"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "293893db69ec44d91f9f6c5f3c4314a58f00e8c9", "filename": "gcc/config/sparc/sparc.md", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d21a353d96c94d9876e4b5c2921fe29672f0c14b/gcc%2Fconfig%2Fsparc%2Fsparc.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d21a353d96c94d9876e4b5c2921fe29672f0c14b/gcc%2Fconfig%2Fsparc%2Fsparc.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.md?ref=d21a353d96c94d9876e4b5c2921fe29672f0c14b", "patch": "@@ -1418,6 +1418,26 @@\n   \"\"\n   \"andcc %1,0xff,%0\"\n   [(set_attr \"type\" \"unary\")])\n+\n+;; Similarly, handle SI->QI mode truncation followed by a compare.\n+\n+(define_insn \"\"\n+  [(set (reg:CC 0)\n+\t(compare:CC (subreg:QI (match_operand:SI 0 \"register_operand\" \"r\") 0)\n+\t\t    (const_int 0)))]\n+  \"\"\n+  \"andcc %0,0xff,%%g0\"\n+  [(set_attr \"type\" \"compare\")])\n+\n+(define_insn \"\"\n+  [(set (reg:CC 0)\n+\t(compare:CC (subreg:QI (match_operand:SI 1 \"register_operand\" \"r\") 0)\n+\t\t    (const_int 0)))\n+   (set (match_operand:QI 0 \"register_operand\" \"=r\")\n+\t(match_dup 1))]\n+  \"\"\n+  \"andcc %1,0xff,%0\"\n+  [(set_attr \"type\" \"unary\")])\n \f\n ;;- sign extension instructions\n "}]}