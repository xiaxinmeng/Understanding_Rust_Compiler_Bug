{"sha": "dd3b3672c49e3cee97fdd35d5c72c849af952862", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGQzYjM2NzJjNDllM2NlZTk3ZmRkMzVkNWM3MmM4NDlhZjk1Mjg2Mg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2013-04-24T14:35:42Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2013-04-24T14:35:42Z"}, "message": "[multiple changes]\n\n2013-04-24  Robert Dewar  <dewar@adacore.com>\n\n\t* gnatcmd.adb, xref_lib.adb, gnatls.adb, sem_ch13.adb: Minor\n\treformatting.\n\n2013-04-24  Yannick Moy  <moy@adacore.com>\n\n\t* sem_ch6.adb (Analyze_Generic_Subprogram_Body,\n\tAnalyze_Subprogram_Body_Helper): Reset contract node to Empty\n\tbefore setting entity to E_Subprogram_Body.\n\t* sem_ch8.adb (Analyze_Subprogram_Renaming): Reset contract node to\n\tEmpty before setting entity to E_Subprogram_Body.\n\nFrom-SVN: r198238", "tree": {"sha": "1782e3170ebd56b6b27fdee0d0c1e9ddba0ed1dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1782e3170ebd56b6b27fdee0d0c1e9ddba0ed1dc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dd3b3672c49e3cee97fdd35d5c72c849af952862", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd3b3672c49e3cee97fdd35d5c72c849af952862", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd3b3672c49e3cee97fdd35d5c72c849af952862", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd3b3672c49e3cee97fdd35d5c72c849af952862/comments", "author": null, "committer": null, "parents": [{"sha": "b5bdffcc4fc8a8c04662438eee0edc2be7ac15b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5bdffcc4fc8a8c04662438eee0edc2be7ac15b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b5bdffcc4fc8a8c04662438eee0edc2be7ac15b9"}], "stats": {"total": 27, "additions": 20, "deletions": 7}, "files": [{"sha": "91c529c5e87bbfe3002446103be72a477aa385e8", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd3b3672c49e3cee97fdd35d5c72c849af952862/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd3b3672c49e3cee97fdd35d5c72c849af952862/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=dd3b3672c49e3cee97fdd35d5c72c849af952862", "patch": "@@ -1,3 +1,16 @@\n+2013-04-24  Robert Dewar  <dewar@adacore.com>\n+\n+\t* gnatcmd.adb, xref_lib.adb, gnatls.adb, sem_ch13.adb: Minor\n+\treformatting.\n+\n+2013-04-24  Yannick Moy  <moy@adacore.com>\n+\n+\t* sem_ch6.adb (Analyze_Generic_Subprogram_Body,\n+\tAnalyze_Subprogram_Body_Helper): Reset contract node to Empty\n+\tbefore setting entity to E_Subprogram_Body.\n+\t* sem_ch8.adb (Analyze_Subprogram_Renaming): Reset contract node to\n+\tEmpty before setting entity to E_Subprogram_Body.\n+\n 2013-04-24  Vincent Celier  <celier@adacore.com>\n \n \t* gnat_ugn.texi: Document new gnatls switch -aPdir."}, {"sha": "d6fd28e8e47ad8582b51aac0d5a2dcfc65e36989", "filename": "gcc/ada/gnatcmd.adb", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd3b3672c49e3cee97fdd35d5c72c849af952862/gcc%2Fada%2Fgnatcmd.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd3b3672c49e3cee97fdd35d5c72c849af952862/gcc%2Fada%2Fgnatcmd.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatcmd.adb?ref=dd3b3672c49e3cee97fdd35d5c72c849af952862", "patch": "@@ -1766,13 +1766,10 @@ begin\n                        (Root_Environment.Project_Path,\n                         Argv (Argv'First + 3 .. Argv'Last));\n \n-                     --  Pass -aPdir to gnatls\n+                     --  Pass -aPdir to gnatls, but not to other tools\n \n                      if The_Command = List then\n                         Arg_Num := Arg_Num + 1;\n-\n-                     --  but not to other tools\n-\n                      else\n                         Remove_Switch (Arg_Num);\n                      end if;"}, {"sha": "ae623897d6cc51574b56277306eaa864080af23a", "filename": "gcc/ada/gnatls.adb", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd3b3672c49e3cee97fdd35d5c72c849af952862/gcc%2Fada%2Fgnatls.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd3b3672c49e3cee97fdd35d5c72c849af952862/gcc%2Fada%2Fgnatls.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatls.adb?ref=dd3b3672c49e3cee97fdd35d5c72c849af952862", "patch": "@@ -1252,8 +1252,7 @@ procedure Gnatls is\n    procedure Scan_Ls_Arg (Argv : String) is\n       FD  : File_Descriptor;\n       Len : Integer;\n-\n-      OK : Boolean;\n+      OK  : Boolean;\n \n    begin\n       pragma Assert (Argv'First = 1);"}, {"sha": "0d32aff31aa4d300b292269dbfc7523e401c2a5d", "filename": "gcc/ada/sem_ch13.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd3b3672c49e3cee97fdd35d5c72c849af952862/gcc%2Fada%2Fsem_ch13.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd3b3672c49e3cee97fdd35d5c72c849af952862/gcc%2Fada%2Fsem_ch13.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch13.adb?ref=dd3b3672c49e3cee97fdd35d5c72c849af952862", "patch": "@@ -1335,7 +1335,7 @@ package body Sem_Ch13 is\n                       Chars      => Chars (Id),\n                       Expression => Relocate_Node (Expr));\n \n-                  --  If the address is specified we treat the entity as\n+                  --  If the address is specified, then we treat the entity as\n                   --  referenced, to avoid spurious warnings. This is analogous\n                   --  to what is done with an attribute definition clause, but\n                   --  here we don't want to generate a reference because this"}, {"sha": "c6db45270ba9b1770a97a2c75625dd39623e6831", "filename": "gcc/ada/sem_ch6.adb", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd3b3672c49e3cee97fdd35d5c72c849af952862/gcc%2Fada%2Fsem_ch6.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd3b3672c49e3cee97fdd35d5c72c849af952862/gcc%2Fada%2Fsem_ch6.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch6.adb?ref=dd3b3672c49e3cee97fdd35d5c72c849af952862", "patch": "@@ -1107,6 +1107,7 @@ package body Sem_Ch6 is\n          --  Visible generic entity is callable within its own body\n \n          Set_Ekind          (Gen_Id,  Ekind (Body_Id));\n+         Set_Contract       (Body_Id, Empty);\n          Set_Ekind          (Body_Id, E_Subprogram_Body);\n          Set_Convention     (Body_Id, Convention (Gen_Id));\n          Set_Is_Obsolescent (Body_Id, Is_Obsolescent (Gen_Id));\n@@ -2902,6 +2903,7 @@ package body Sem_Ch6 is\n          end if;\n \n          Set_Corresponding_Body (Unit_Declaration_Node (Spec_Id), Body_Id);\n+         Set_Contract (Body_Id, Empty);\n          Set_Ekind (Body_Id, E_Subprogram_Body);\n          Set_Scope (Body_Id, Scope (Spec_Id));\n          Set_Is_Obsolescent (Body_Id, Is_Obsolescent (Spec_Id));"}, {"sha": "4fdef1cdac22ff46e9b979b5a0209187d8e55a88", "filename": "gcc/ada/sem_ch8.adb", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd3b3672c49e3cee97fdd35d5c72c849af952862/gcc%2Fada%2Fsem_ch8.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd3b3672c49e3cee97fdd35d5c72c849af952862/gcc%2Fada%2Fsem_ch8.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch8.adb?ref=dd3b3672c49e3cee97fdd35d5c72c849af952862", "patch": "@@ -2435,6 +2435,7 @@ package body Sem_Ch8 is\n          --  constructed later at the freeze point, so indicate that the\n          --  completion has not been seen yet.\n \n+         Set_Contract (New_S, Empty);\n          Set_Ekind (New_S, E_Subprogram_Body);\n          New_S := Rename_Spec;\n          Set_Has_Completion (Rename_Spec, False);"}, {"sha": "2afec82107965efa83047109aaa6b0c8fd503f0b", "filename": "gcc/ada/xref_lib.adb", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd3b3672c49e3cee97fdd35d5c72c849af952862/gcc%2Fada%2Fxref_lib.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd3b3672c49e3cee97fdd35d5c72c849af952862/gcc%2Fada%2Fxref_lib.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fxref_lib.adb?ref=dd3b3672c49e3cee97fdd35d5c72c849af952862", "patch": "@@ -274,6 +274,7 @@ package body Xref_Lib is\n \n       declare\n          File_Name : String := Entity (File_Start .. Line_Start - 1);\n+\n       begin\n          Osint.Canonical_Case_File_Name (File_Name);\n          File_Ref := Add_To_Xref_File (File_Name, Visited => True);"}]}