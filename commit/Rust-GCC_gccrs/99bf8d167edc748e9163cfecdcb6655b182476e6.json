{"sha": "99bf8d167edc748e9163cfecdcb6655b182476e6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTliZjhkMTY3ZWRjNzQ4ZTkxNjNjZmVjZGNiNjY1NWIxODI0NzZlNg==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2008-08-17T12:30:55Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2008-08-17T12:30:55Z"}, "message": "acinclude.m4 ([AC_LC_MESSAGES]): Use AC_TRY_COMPILE instead of AC_TRY_LINK.\n\n2008-08-17  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\t* acinclude.m4 ([AC_LC_MESSAGES]): Use AC_TRY_COMPILE instead of\n\tAC_TRY_LINK.\n\t* configure.ac: Run unconditionally AC_LC_MESSAGES.\n\t* crossconfig.m4: Adjust.\n\t* configure: Regenerate.\n\nFrom-SVN: r139171", "tree": {"sha": "63d4044cf50cbf93789697cdeaa81f4aadbba87b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/63d4044cf50cbf93789697cdeaa81f4aadbba87b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/99bf8d167edc748e9163cfecdcb6655b182476e6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99bf8d167edc748e9163cfecdcb6655b182476e6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/99bf8d167edc748e9163cfecdcb6655b182476e6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99bf8d167edc748e9163cfecdcb6655b182476e6/comments", "author": null, "committer": null, "parents": [{"sha": "e21d5757ecfd70f55f87bad7c5db48b0e28bd466", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e21d5757ecfd70f55f87bad7c5db48b0e28bd466", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e21d5757ecfd70f55f87bad7c5db48b0e28bd466"}], "stats": {"total": 663, "additions": 217, "deletions": 446}, "files": [{"sha": "e8e6739b5b1d44116ff683a1f607d56110932989", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99bf8d167edc748e9163cfecdcb6655b182476e6/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99bf8d167edc748e9163cfecdcb6655b182476e6/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=99bf8d167edc748e9163cfecdcb6655b182476e6", "patch": "@@ -1,3 +1,11 @@\n+2008-08-17  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\t* acinclude.m4 ([AC_LC_MESSAGES]): Use AC_TRY_COMPILE instead of\n+\tAC_TRY_LINK.\n+\t* configure.ac: Run unconditionally AC_LC_MESSAGES.\n+\t* crossconfig.m4: Adjust.\n+\t* configure: Regenerate.\n+\n 2008-08-17  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \t* acinclude.m4 ([GLIBCXX_CHECK_LFS], [GLIBCXX_CHECK_POLL],"}, {"sha": "2772f5dce6f0bdbaa685c90ec6ce4c09e5c15fdc", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99bf8d167edc748e9163cfecdcb6655b182476e6/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99bf8d167edc748e9163cfecdcb6655b182476e6/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=99bf8d167edc748e9163cfecdcb6655b182476e6", "patch": "@@ -2743,7 +2743,7 @@ AC_DEFUN([GLIBCXX_ENABLE_THREADS], [\n AC_DEFUN([AC_LC_MESSAGES], [\n   AC_CHECK_HEADER(locale.h, [\n     AC_CACHE_CHECK([for LC_MESSAGES], ac_cv_val_LC_MESSAGES,\n-      [AC_TRY_LINK([#include <locale.h>], [return LC_MESSAGES],\n+      [AC_TRY_COMPILE([#include <locale.h>], [return LC_MESSAGES],\n        ac_cv_val_LC_MESSAGES=yes, ac_cv_val_LC_MESSAGES=no)])\n     if test $ac_cv_val_LC_MESSAGES = yes; then\n       AC_DEFINE(HAVE_LC_MESSAGES, 1, "}, {"sha": "8deb763736d42438249100ce354607eb65c8f2be", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 206, "deletions": 437, "changes": 643, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99bf8d167edc748e9163cfecdcb6655b182476e6/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99bf8d167edc748e9163cfecdcb6655b182476e6/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=99bf8d167edc748e9163cfecdcb6655b182476e6", "patch": "@@ -20592,6 +20592,212 @@ _ACEOF\n \n \n \n+\n+  if test \"${ac_cv_header_locale_h+set}\" = set; then\n+  echo \"$as_me:$LINENO: checking for locale.h\" >&5\n+echo $ECHO_N \"checking for locale.h... $ECHO_C\" >&6\n+if test \"${ac_cv_header_locale_h+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+fi\n+echo \"$as_me:$LINENO: result: $ac_cv_header_locale_h\" >&5\n+echo \"${ECHO_T}$ac_cv_header_locale_h\" >&6\n+else\n+  # Is the header compilable?\n+echo \"$as_me:$LINENO: checking locale.h usability\" >&5\n+echo $ECHO_N \"checking locale.h usability... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+$ac_includes_default\n+#include <locale.h>\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_header_compiler=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_header_compiler=no\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_compiler\" >&5\n+echo \"${ECHO_T}$ac_header_compiler\" >&6\n+\n+# Is the header present?\n+echo \"$as_me:$LINENO: checking locale.h presence\" >&5\n+echo $ECHO_N \"checking locale.h presence... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <locale.h>\n+_ACEOF\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_cpp conftest.$ac_ext\\\"\") >&5\n+  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } >/dev/null; then\n+  if test -s conftest.err; then\n+    ac_cpp_err=$ac_c_preproc_warn_flag\n+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag\n+  else\n+    ac_cpp_err=\n+  fi\n+else\n+  ac_cpp_err=yes\n+fi\n+if test -z \"$ac_cpp_err\"; then\n+  ac_header_preproc=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+  ac_header_preproc=no\n+fi\n+rm -f conftest.err conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_preproc\" >&5\n+echo \"${ECHO_T}$ac_header_preproc\" >&6\n+\n+# So?  What about this header?\n+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in\n+  yes:no: )\n+    { echo \"$as_me:$LINENO: WARNING: locale.h: accepted by the compiler, rejected by the preprocessor!\" >&5\n+echo \"$as_me: WARNING: locale.h: accepted by the compiler, rejected by the preprocessor!\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: locale.h: proceeding with the compiler's result\" >&5\n+echo \"$as_me: WARNING: locale.h: proceeding with the compiler's result\" >&2;}\n+    ac_header_preproc=yes\n+    ;;\n+  no:yes:* )\n+    { echo \"$as_me:$LINENO: WARNING: locale.h: present but cannot be compiled\" >&5\n+echo \"$as_me: WARNING: locale.h: present but cannot be compiled\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: locale.h:     check for missing prerequisite headers?\" >&5\n+echo \"$as_me: WARNING: locale.h:     check for missing prerequisite headers?\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: locale.h: see the Autoconf documentation\" >&5\n+echo \"$as_me: WARNING: locale.h: see the Autoconf documentation\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: locale.h:     section \\\"Present But Cannot Be Compiled\\\"\" >&5\n+echo \"$as_me: WARNING: locale.h:     section \\\"Present But Cannot Be Compiled\\\"\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: locale.h: proceeding with the preprocessor's result\" >&5\n+echo \"$as_me: WARNING: locale.h: proceeding with the preprocessor's result\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: locale.h: in the future, the compiler will take precedence\" >&5\n+echo \"$as_me: WARNING: locale.h: in the future, the compiler will take precedence\" >&2;}\n+    (\n+      cat <<\\_ASBOX\n+## ----------------------------------------- ##\n+## Report this to the package-unused lists.  ##\n+## ----------------------------------------- ##\n+_ASBOX\n+    ) |\n+      sed \"s/^/$as_me: WARNING:     /\" >&2\n+    ;;\n+esac\n+echo \"$as_me:$LINENO: checking for locale.h\" >&5\n+echo $ECHO_N \"checking for locale.h... $ECHO_C\" >&6\n+if test \"${ac_cv_header_locale_h+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  ac_cv_header_locale_h=$ac_header_preproc\n+fi\n+echo \"$as_me:$LINENO: result: $ac_cv_header_locale_h\" >&5\n+echo \"${ECHO_T}$ac_cv_header_locale_h\" >&6\n+\n+fi\n+if test $ac_cv_header_locale_h = yes; then\n+\n+    echo \"$as_me:$LINENO: checking for LC_MESSAGES\" >&5\n+echo $ECHO_N \"checking for LC_MESSAGES... $ECHO_C\" >&6\n+if test \"${ac_cv_val_LC_MESSAGES+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <locale.h>\n+int\n+main ()\n+{\n+return LC_MESSAGES\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_cv_val_LC_MESSAGES=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_cv_val_LC_MESSAGES=no\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+fi\n+echo \"$as_me:$LINENO: result: $ac_cv_val_LC_MESSAGES\" >&5\n+echo \"${ECHO_T}$ac_cv_val_LC_MESSAGES\" >&6\n+    if test $ac_cv_val_LC_MESSAGES = yes; then\n+\n+cat >>confdefs.h <<\\_ACEOF\n+#define HAVE_LC_MESSAGES 1\n+_ACEOF\n+\n+    fi\n+\n+fi\n+\n+\n+\n+\n # Check for available headers.\n \n \n@@ -42607,218 +42813,6 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n \n \n-\n-  if test \"${ac_cv_header_locale_h+set}\" = set; then\n-  echo \"$as_me:$LINENO: checking for locale.h\" >&5\n-echo $ECHO_N \"checking for locale.h... $ECHO_C\" >&6\n-if test \"${ac_cv_header_locale_h+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-fi\n-echo \"$as_me:$LINENO: result: $ac_cv_header_locale_h\" >&5\n-echo \"${ECHO_T}$ac_cv_header_locale_h\" >&6\n-else\n-  # Is the header compilable?\n-echo \"$as_me:$LINENO: checking locale.h usability\" >&5\n-echo $ECHO_N \"checking locale.h usability... $ECHO_C\" >&6\n-cat >conftest.$ac_ext <<_ACEOF\n-/* confdefs.h.  */\n-_ACEOF\n-cat confdefs.h >>conftest.$ac_ext\n-cat >>conftest.$ac_ext <<_ACEOF\n-/* end confdefs.h.  */\n-$ac_includes_default\n-#include <locale.h>\n-_ACEOF\n-rm -f conftest.$ac_objext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n-  (eval $ac_compile) 2>conftest.er1\n-  ac_status=$?\n-  grep -v '^ *+' conftest.er1 >conftest.err\n-  rm -f conftest.er1\n-  cat conftest.err >&5\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; } &&\n-\t { ac_try='test -s conftest.$ac_objext'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; }; then\n-  ac_header_compiler=yes\n-else\n-  echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-ac_header_compiler=no\n-fi\n-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n-echo \"$as_me:$LINENO: result: $ac_header_compiler\" >&5\n-echo \"${ECHO_T}$ac_header_compiler\" >&6\n-\n-# Is the header present?\n-echo \"$as_me:$LINENO: checking locale.h presence\" >&5\n-echo $ECHO_N \"checking locale.h presence... $ECHO_C\" >&6\n-cat >conftest.$ac_ext <<_ACEOF\n-/* confdefs.h.  */\n-_ACEOF\n-cat confdefs.h >>conftest.$ac_ext\n-cat >>conftest.$ac_ext <<_ACEOF\n-/* end confdefs.h.  */\n-#include <locale.h>\n-_ACEOF\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_cpp conftest.$ac_ext\\\"\") >&5\n-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1\n-  ac_status=$?\n-  grep -v '^ *+' conftest.er1 >conftest.err\n-  rm -f conftest.er1\n-  cat conftest.err >&5\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); } >/dev/null; then\n-  if test -s conftest.err; then\n-    ac_cpp_err=$ac_c_preproc_warn_flag\n-    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag\n-  else\n-    ac_cpp_err=\n-  fi\n-else\n-  ac_cpp_err=yes\n-fi\n-if test -z \"$ac_cpp_err\"; then\n-  ac_header_preproc=yes\n-else\n-  echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-  ac_header_preproc=no\n-fi\n-rm -f conftest.err conftest.$ac_ext\n-echo \"$as_me:$LINENO: result: $ac_header_preproc\" >&5\n-echo \"${ECHO_T}$ac_header_preproc\" >&6\n-\n-# So?  What about this header?\n-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in\n-  yes:no: )\n-    { echo \"$as_me:$LINENO: WARNING: locale.h: accepted by the compiler, rejected by the preprocessor!\" >&5\n-echo \"$as_me: WARNING: locale.h: accepted by the compiler, rejected by the preprocessor!\" >&2;}\n-    { echo \"$as_me:$LINENO: WARNING: locale.h: proceeding with the compiler's result\" >&5\n-echo \"$as_me: WARNING: locale.h: proceeding with the compiler's result\" >&2;}\n-    ac_header_preproc=yes\n-    ;;\n-  no:yes:* )\n-    { echo \"$as_me:$LINENO: WARNING: locale.h: present but cannot be compiled\" >&5\n-echo \"$as_me: WARNING: locale.h: present but cannot be compiled\" >&2;}\n-    { echo \"$as_me:$LINENO: WARNING: locale.h:     check for missing prerequisite headers?\" >&5\n-echo \"$as_me: WARNING: locale.h:     check for missing prerequisite headers?\" >&2;}\n-    { echo \"$as_me:$LINENO: WARNING: locale.h: see the Autoconf documentation\" >&5\n-echo \"$as_me: WARNING: locale.h: see the Autoconf documentation\" >&2;}\n-    { echo \"$as_me:$LINENO: WARNING: locale.h:     section \\\"Present But Cannot Be Compiled\\\"\" >&5\n-echo \"$as_me: WARNING: locale.h:     section \\\"Present But Cannot Be Compiled\\\"\" >&2;}\n-    { echo \"$as_me:$LINENO: WARNING: locale.h: proceeding with the preprocessor's result\" >&5\n-echo \"$as_me: WARNING: locale.h: proceeding with the preprocessor's result\" >&2;}\n-    { echo \"$as_me:$LINENO: WARNING: locale.h: in the future, the compiler will take precedence\" >&5\n-echo \"$as_me: WARNING: locale.h: in the future, the compiler will take precedence\" >&2;}\n-    (\n-      cat <<\\_ASBOX\n-## ----------------------------------------- ##\n-## Report this to the package-unused lists.  ##\n-## ----------------------------------------- ##\n-_ASBOX\n-    ) |\n-      sed \"s/^/$as_me: WARNING:     /\" >&2\n-    ;;\n-esac\n-echo \"$as_me:$LINENO: checking for locale.h\" >&5\n-echo $ECHO_N \"checking for locale.h... $ECHO_C\" >&6\n-if test \"${ac_cv_header_locale_h+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  ac_cv_header_locale_h=$ac_header_preproc\n-fi\n-echo \"$as_me:$LINENO: result: $ac_cv_header_locale_h\" >&5\n-echo \"${ECHO_T}$ac_cv_header_locale_h\" >&6\n-\n-fi\n-if test $ac_cv_header_locale_h = yes; then\n-\n-    echo \"$as_me:$LINENO: checking for LC_MESSAGES\" >&5\n-echo $ECHO_N \"checking for LC_MESSAGES... $ECHO_C\" >&6\n-if test \"${ac_cv_val_LC_MESSAGES+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n-cat >conftest.$ac_ext <<_ACEOF\n-/* confdefs.h.  */\n-_ACEOF\n-cat confdefs.h >>conftest.$ac_ext\n-cat >>conftest.$ac_ext <<_ACEOF\n-/* end confdefs.h.  */\n-#include <locale.h>\n-int\n-main ()\n-{\n-return LC_MESSAGES\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-rm -f conftest.$ac_objext conftest$ac_exeext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n-  (eval $ac_link) 2>conftest.er1\n-  ac_status=$?\n-  grep -v '^ *+' conftest.er1 >conftest.err\n-  rm -f conftest.er1\n-  cat conftest.err >&5\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; } &&\n-\t { ac_try='test -s conftest$ac_exeext'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; }; then\n-  ac_cv_val_LC_MESSAGES=yes\n-else\n-  echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-ac_cv_val_LC_MESSAGES=no\n-fi\n-rm -f conftest.err conftest.$ac_objext \\\n-      conftest$ac_exeext conftest.$ac_ext\n-fi\n-echo \"$as_me:$LINENO: result: $ac_cv_val_LC_MESSAGES\" >&5\n-echo \"${ECHO_T}$ac_cv_val_LC_MESSAGES\" >&6\n-    if test $ac_cv_val_LC_MESSAGES = yes; then\n-\n-cat >>confdefs.h <<\\_ACEOF\n-#define HAVE_LC_MESSAGES 1\n-_ACEOF\n-\n-    fi\n-\n-fi\n-\n-\n-\n-\n   # For iconv support.\n \n       if test \"X$prefix\" = \"XNONE\"; then\n@@ -84848,11 +84842,6 @@ done\n \n   CXXFLAGS=\"$ac_save_CXXFLAGS\"\n \n-\n-    cat >>confdefs.h <<\\_ACEOF\n-#define HAVE_LC_MESSAGES 1\n-_ACEOF\n-\n     ;;\n \n   *djgpp)\n@@ -85648,10 +85637,6 @@ done\n   fi\n \n \n-    cat >>confdefs.h <<\\_ACEOF\n-#define HAVE_LC_MESSAGES 1\n-_ACEOF\n-\n     cat >>confdefs.h <<\\_ACEOF\n #define HAVE_SETENV 1\n _ACEOF\n@@ -107195,218 +107180,6 @@ done\n _ACEOF\n \n \n-\n-  if test \"${ac_cv_header_locale_h+set}\" = set; then\n-  echo \"$as_me:$LINENO: checking for locale.h\" >&5\n-echo $ECHO_N \"checking for locale.h... $ECHO_C\" >&6\n-if test \"${ac_cv_header_locale_h+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-fi\n-echo \"$as_me:$LINENO: result: $ac_cv_header_locale_h\" >&5\n-echo \"${ECHO_T}$ac_cv_header_locale_h\" >&6\n-else\n-  # Is the header compilable?\n-echo \"$as_me:$LINENO: checking locale.h usability\" >&5\n-echo $ECHO_N \"checking locale.h usability... $ECHO_C\" >&6\n-cat >conftest.$ac_ext <<_ACEOF\n-/* confdefs.h.  */\n-_ACEOF\n-cat confdefs.h >>conftest.$ac_ext\n-cat >>conftest.$ac_ext <<_ACEOF\n-/* end confdefs.h.  */\n-$ac_includes_default\n-#include <locale.h>\n-_ACEOF\n-rm -f conftest.$ac_objext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n-  (eval $ac_compile) 2>conftest.er1\n-  ac_status=$?\n-  grep -v '^ *+' conftest.er1 >conftest.err\n-  rm -f conftest.er1\n-  cat conftest.err >&5\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; } &&\n-\t { ac_try='test -s conftest.$ac_objext'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; }; then\n-  ac_header_compiler=yes\n-else\n-  echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-ac_header_compiler=no\n-fi\n-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n-echo \"$as_me:$LINENO: result: $ac_header_compiler\" >&5\n-echo \"${ECHO_T}$ac_header_compiler\" >&6\n-\n-# Is the header present?\n-echo \"$as_me:$LINENO: checking locale.h presence\" >&5\n-echo $ECHO_N \"checking locale.h presence... $ECHO_C\" >&6\n-cat >conftest.$ac_ext <<_ACEOF\n-/* confdefs.h.  */\n-_ACEOF\n-cat confdefs.h >>conftest.$ac_ext\n-cat >>conftest.$ac_ext <<_ACEOF\n-/* end confdefs.h.  */\n-#include <locale.h>\n-_ACEOF\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_cpp conftest.$ac_ext\\\"\") >&5\n-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1\n-  ac_status=$?\n-  grep -v '^ *+' conftest.er1 >conftest.err\n-  rm -f conftest.er1\n-  cat conftest.err >&5\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); } >/dev/null; then\n-  if test -s conftest.err; then\n-    ac_cpp_err=$ac_c_preproc_warn_flag\n-    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag\n-  else\n-    ac_cpp_err=\n-  fi\n-else\n-  ac_cpp_err=yes\n-fi\n-if test -z \"$ac_cpp_err\"; then\n-  ac_header_preproc=yes\n-else\n-  echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-  ac_header_preproc=no\n-fi\n-rm -f conftest.err conftest.$ac_ext\n-echo \"$as_me:$LINENO: result: $ac_header_preproc\" >&5\n-echo \"${ECHO_T}$ac_header_preproc\" >&6\n-\n-# So?  What about this header?\n-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in\n-  yes:no: )\n-    { echo \"$as_me:$LINENO: WARNING: locale.h: accepted by the compiler, rejected by the preprocessor!\" >&5\n-echo \"$as_me: WARNING: locale.h: accepted by the compiler, rejected by the preprocessor!\" >&2;}\n-    { echo \"$as_me:$LINENO: WARNING: locale.h: proceeding with the compiler's result\" >&5\n-echo \"$as_me: WARNING: locale.h: proceeding with the compiler's result\" >&2;}\n-    ac_header_preproc=yes\n-    ;;\n-  no:yes:* )\n-    { echo \"$as_me:$LINENO: WARNING: locale.h: present but cannot be compiled\" >&5\n-echo \"$as_me: WARNING: locale.h: present but cannot be compiled\" >&2;}\n-    { echo \"$as_me:$LINENO: WARNING: locale.h:     check for missing prerequisite headers?\" >&5\n-echo \"$as_me: WARNING: locale.h:     check for missing prerequisite headers?\" >&2;}\n-    { echo \"$as_me:$LINENO: WARNING: locale.h: see the Autoconf documentation\" >&5\n-echo \"$as_me: WARNING: locale.h: see the Autoconf documentation\" >&2;}\n-    { echo \"$as_me:$LINENO: WARNING: locale.h:     section \\\"Present But Cannot Be Compiled\\\"\" >&5\n-echo \"$as_me: WARNING: locale.h:     section \\\"Present But Cannot Be Compiled\\\"\" >&2;}\n-    { echo \"$as_me:$LINENO: WARNING: locale.h: proceeding with the preprocessor's result\" >&5\n-echo \"$as_me: WARNING: locale.h: proceeding with the preprocessor's result\" >&2;}\n-    { echo \"$as_me:$LINENO: WARNING: locale.h: in the future, the compiler will take precedence\" >&5\n-echo \"$as_me: WARNING: locale.h: in the future, the compiler will take precedence\" >&2;}\n-    (\n-      cat <<\\_ASBOX\n-## ----------------------------------------- ##\n-## Report this to the package-unused lists.  ##\n-## ----------------------------------------- ##\n-_ASBOX\n-    ) |\n-      sed \"s/^/$as_me: WARNING:     /\" >&2\n-    ;;\n-esac\n-echo \"$as_me:$LINENO: checking for locale.h\" >&5\n-echo $ECHO_N \"checking for locale.h... $ECHO_C\" >&6\n-if test \"${ac_cv_header_locale_h+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  ac_cv_header_locale_h=$ac_header_preproc\n-fi\n-echo \"$as_me:$LINENO: result: $ac_cv_header_locale_h\" >&5\n-echo \"${ECHO_T}$ac_cv_header_locale_h\" >&6\n-\n-fi\n-if test $ac_cv_header_locale_h = yes; then\n-\n-    echo \"$as_me:$LINENO: checking for LC_MESSAGES\" >&5\n-echo $ECHO_N \"checking for LC_MESSAGES... $ECHO_C\" >&6\n-if test \"${ac_cv_val_LC_MESSAGES+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n-cat >conftest.$ac_ext <<_ACEOF\n-/* confdefs.h.  */\n-_ACEOF\n-cat confdefs.h >>conftest.$ac_ext\n-cat >>conftest.$ac_ext <<_ACEOF\n-/* end confdefs.h.  */\n-#include <locale.h>\n-int\n-main ()\n-{\n-return LC_MESSAGES\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-rm -f conftest.$ac_objext conftest$ac_exeext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n-  (eval $ac_link) 2>conftest.er1\n-  ac_status=$?\n-  grep -v '^ *+' conftest.er1 >conftest.err\n-  rm -f conftest.er1\n-  cat conftest.err >&5\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; } &&\n-\t { ac_try='test -s conftest$ac_exeext'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; }; then\n-  ac_cv_val_LC_MESSAGES=yes\n-else\n-  echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-ac_cv_val_LC_MESSAGES=no\n-fi\n-rm -f conftest.err conftest.$ac_objext \\\n-      conftest$ac_exeext conftest.$ac_ext\n-fi\n-echo \"$as_me:$LINENO: result: $ac_cv_val_LC_MESSAGES\" >&5\n-echo \"${ECHO_T}$ac_cv_val_LC_MESSAGES\" >&6\n-    if test $ac_cv_val_LC_MESSAGES = yes; then\n-\n-cat >>confdefs.h <<\\_ACEOF\n-#define HAVE_LC_MESSAGES 1\n-_ACEOF\n-\n-    fi\n-\n-fi\n-\n-\n-\n-\n     # For iconv support.\n \n \n@@ -110736,10 +110509,6 @@ echo \"${ECHO_T}$ac_ld_relro\" >&6\n \n          cat >>confdefs.h <<\\_ACEOF\n #define HAVE_MBSTATE_T 1\n-_ACEOF\n-\n-         cat >>confdefs.h <<\\_ACEOF\n-#define HAVE_LC_MESSAGES 1\n _ACEOF\n \n          cat >>confdefs.h <<\\_ACEOF"}, {"sha": "eeed0dbd409171267e6a4b020d014abe6414e947", "filename": "libstdc++-v3/configure.ac", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99bf8d167edc748e9163cfecdcb6655b182476e6/libstdc%2B%2B-v3%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99bf8d167edc748e9163cfecdcb6655b182476e6/libstdc%2B%2B-v3%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure.ac?ref=99bf8d167edc748e9163cfecdcb6655b182476e6", "patch": "@@ -143,6 +143,8 @@ GLIBCXX_CHECK_C99_TR1\n # For common values of EOF, SEEK_CUR, SEEK_END.\n GLIBCXX_CHECK_STDIO_MACROS\n \n+AC_LC_MESSAGES\n+\n # Check for available headers.\n AC_CHECK_HEADERS([endian.h float.h fp.h ieeefp.h inttypes.h locale.h \\\n machine/endian.h machine/param.h nan.h stdint.h stdlib.h string.h \\\n@@ -177,8 +179,6 @@ if $GLIBCXX_IS_NATIVE; then\n   # For _Unwind_GetIPInfo.\n   GCC_CHECK_UNWIND_GETIPINFO\n \n-  AC_LC_MESSAGES\n-\n   # For iconv support.\n   AM_ICONV\n "}, {"sha": "03998eae85e9e6c136b6dd9c8030891bb673f513", "filename": "libstdc++-v3/crossconfig.m4", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99bf8d167edc748e9163cfecdcb6655b182476e6/libstdc%2B%2B-v3%2Fcrossconfig.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99bf8d167edc748e9163cfecdcb6655b182476e6/libstdc%2B%2B-v3%2Fcrossconfig.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fcrossconfig.m4?ref=99bf8d167edc748e9163cfecdcb6655b182476e6", "patch": "@@ -42,8 +42,6 @@ case \"${host}\" in\n     GLIBCXX_CHECK_BUILTIN_MATH_SUPPORT\n     GLIBCXX_CHECK_COMPLEX_MATH_SUPPORT\n     GLIBCXX_CHECK_STDLIB_SUPPORT\n-\n-    AC_DEFINE(HAVE_LC_MESSAGES)\n     ;;\n \n   *djgpp)\n@@ -81,7 +79,6 @@ case \"${host}\" in\n     AC_SUBST(SECTION_FLAGS) \n     GLIBCXX_CHECK_LINKER_FEATURES\n     GLIBCXX_CHECK_COMPLEX_MATH_SUPPORT\n-    AC_DEFINE(HAVE_LC_MESSAGES)\n     AC_DEFINE(HAVE_SETENV)\n     AC_DEFINE(HAVE_COPYSIGN)\n     AC_DEFINE(HAVE_COPYSIGNF)\n@@ -156,8 +153,6 @@ case \"${host}\" in\n \n     AC_DEFINE(_GLIBCXX_USE_RANDOM_TR1)\n \n-    AC_LC_MESSAGES\n-\n     # For iconv support.\n     AM_ICONV\n     ;;\n@@ -220,7 +215,6 @@ case \"${host}\" in\n       *-solaris2.7 | *-solaris2.8 | *-solaris2.9 | *-solaris2.10)\n          GLIBCXX_CHECK_LINKER_FEATURES\n          AC_DEFINE(HAVE_MBSTATE_T)\n-         AC_DEFINE(HAVE_LC_MESSAGES)\n          AC_DEFINE(HAVE_FINITE)\n          AC_DEFINE(HAVE_FPCLASS)\n          # All of the dependencies for wide character support are here, so"}]}