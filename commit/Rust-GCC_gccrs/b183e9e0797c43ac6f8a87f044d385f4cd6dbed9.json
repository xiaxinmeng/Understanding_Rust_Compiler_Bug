{"sha": "b183e9e0797c43ac6f8a87f044d385f4cd6dbed9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjE4M2U5ZTA3OTdjNDNhYzZmOGE4N2YwNDRkMzg1ZjRjZDZkYmVkOQ==", "commit": {"author": {"name": "Michael Matz", "email": "matz@suse.de", "date": "2011-04-17T01:18:51Z"}, "committer": {"name": "Michael Matz", "email": "matz@gcc.gnu.org", "date": "2011-04-17T01:18:51Z"}, "message": "re PR tree-optimization/48622 (ICE: in estimate_size_after_inlining, at ipa-inline-analysis.c:425 with -flto -finline-small-functions -fno-early-inlining)\n\n\tPR tree-optimization/48622\n\tPR lto/48645\n\t* ipa-inline-analysis.c (inline_read_summary): Read size/time\n\tin same order as they're written.\n\ntestsuite/\n\t* gcc.dg/lto/pr48622_0.c: New test.\n\nFrom-SVN: r172603", "tree": {"sha": "17763c3b4220a26d0ae8cfa012b146a94f7fbee0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/17763c3b4220a26d0ae8cfa012b146a94f7fbee0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b183e9e0797c43ac6f8a87f044d385f4cd6dbed9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b183e9e0797c43ac6f8a87f044d385f4cd6dbed9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b183e9e0797c43ac6f8a87f044d385f4cd6dbed9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b183e9e0797c43ac6f8a87f044d385f4cd6dbed9/comments", "author": {"login": "susematz", "id": 4117296, "node_id": "MDQ6VXNlcjQxMTcyOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/4117296?v=4", "gravatar_id": "", "url": "https://api.github.com/users/susematz", "html_url": "https://github.com/susematz", "followers_url": "https://api.github.com/users/susematz/followers", "following_url": "https://api.github.com/users/susematz/following{/other_user}", "gists_url": "https://api.github.com/users/susematz/gists{/gist_id}", "starred_url": "https://api.github.com/users/susematz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/susematz/subscriptions", "organizations_url": "https://api.github.com/users/susematz/orgs", "repos_url": "https://api.github.com/users/susematz/repos", "events_url": "https://api.github.com/users/susematz/events{/privacy}", "received_events_url": "https://api.github.com/users/susematz/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e27f2b58589bc09eafbbbb43fc0c5eae28537de0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e27f2b58589bc09eafbbbb43fc0c5eae28537de0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e27f2b58589bc09eafbbbb43fc0c5eae28537de0"}], "stats": {"total": 110, "additions": 108, "deletions": 2}, "files": [{"sha": "4f85a6531a2213e2ac64e5d287c40f951bdda645", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b183e9e0797c43ac6f8a87f044d385f4cd6dbed9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b183e9e0797c43ac6f8a87f044d385f4cd6dbed9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b183e9e0797c43ac6f8a87f044d385f4cd6dbed9", "patch": "@@ -1,3 +1,10 @@\n+2011-04-17  Michael Matz  <matz@suse.de>\n+\n+\tPR tree-optimization/48622\n+\tPR lto/48645\n+\t* ipa-inline-analysis.c (inline_read_summary): Read size/time\n+\tin same order as they're written.\n+\n 2011-04-16  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* config/i386/sse.md (sseunpackmode): New mode attribute."}, {"sha": "c225778e1ca109513826a9be82031b02f3535299", "filename": "gcc/ipa-inline-analysis.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b183e9e0797c43ac6f8a87f044d385f4cd6dbed9/gcc%2Fipa-inline-analysis.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b183e9e0797c43ac6f8a87f044d385f4cd6dbed9/gcc%2Fipa-inline-analysis.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-inline-analysis.c?ref=b183e9e0797c43ac6f8a87f044d385f4cd6dbed9", "patch": "@@ -612,10 +612,10 @@ inline_read_summary (void)\n \n \t      info->estimated_stack_size\n \t        = info->estimated_self_stack_size = lto_input_uleb128 (ib);\n-\t      info->time = info->self_time = lto_input_uleb128 (ib);\n-\t      info->time_inlining_benefit = lto_input_uleb128 (ib);\n \t      info->size = info->self_size = lto_input_uleb128 (ib);\n \t      info->size_inlining_benefit = lto_input_uleb128 (ib);\n+\t      info->time = info->self_time = lto_input_uleb128 (ib);\n+\t      info->time_inlining_benefit = lto_input_uleb128 (ib);\n \t      info->estimated_growth = INT_MIN;\n \n \t      bp = lto_input_bitpack (ib);"}, {"sha": "ac7833b5953571e1b81e95f46029654d7b9d2dc1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b183e9e0797c43ac6f8a87f044d385f4cd6dbed9/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b183e9e0797c43ac6f8a87f044d385f4cd6dbed9/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b183e9e0797c43ac6f8a87f044d385f4cd6dbed9", "patch": "@@ -1,3 +1,9 @@\n+2011-04-17  Michael Matz  <matz@suse.de>\n+\n+\tPR tree-optimization/48622\n+\tPR lto/48645\n+\t* gcc.dg/lto/pr48622_0.c: New test.\n+\n 2011-04-16  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* gcc.target/i386/avx256-unaligned-load-1.c: Update scan patterns."}, {"sha": "ffb5f62d6a0172527cc499f181ed453a5d41aac1", "filename": "gcc/testsuite/gcc.dg/lto/pr48622_0.c", "status": "added", "additions": 93, "deletions": 0, "changes": 93, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b183e9e0797c43ac6f8a87f044d385f4cd6dbed9/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fpr48622_0.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b183e9e0797c43ac6f8a87f044d385f4cd6dbed9/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fpr48622_0.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fpr48622_0.c?ref=b183e9e0797c43ac6f8a87f044d385f4cd6dbed9", "patch": "@@ -0,0 +1,93 @@\n+/* { dg-lto-do link } */\n+/* { dg-lto-options {{-O -flto -finline-small-functions -fno-early-inlining}} } */\n+\n+void abort(void);\n+void exit(int);\n+\n+typedef unsigned int u8 __attribute__ ((mode (QI)));\n+\n+u8\n+ashift_qi_0 (u8 n)\n+{\n+}\n+\n+u8\n+ashift_qi_2 (u8 n)\n+{\n+}\n+\n+u8\n+ashift_qi_3 (u8 n)\n+{\n+}\n+\n+u8\n+ashift_qi_4 (u8 n)\n+{\n+}\n+\n+u8\n+ashift_qi_5 (u8 n)\n+{\n+}\n+\n+u8\n+ashift_qi_6 (u8 n)\n+{\n+}\n+\n+u8\n+ashift_qi_7 (u8 n)\n+{\n+}\n+\n+u8\n+lshiftrt_qi_0 (u8 n)\n+{\n+}\n+\n+u8\n+lshiftrt_qi_4 (u8 n)\n+{\n+}\n+\n+u8\n+lshiftrt_qi_5 (u8 n)\n+{\n+}\n+\n+u8\n+lshiftrt_qi_7 (u8 n)\n+{\n+}\n+\n+int\n+main ()\n+{\n+  if (ashift_qi_0 (0xff) != (u8) ((u8) 0xff << 0))\n+    abort ();\n+  if (ashift_qi_1 (0xff) != (u8) ((u8) 0xff << 1))\n+    abort ();\n+  if (ashift_qi_2 (0xff) != (u8) ((u8) 0xff << 2))\n+    abort ();\n+  if (ashift_qi_3 (0xff) != (u8) ((u8) 0xff << 3))\n+    abort ();\n+  if (ashift_qi_4 (0xff) != (u8) ((u8) 0xff << 4))\n+    abort ();\n+  if (ashift_qi_5 (0xff) != (u8) ((u8) 0xff << 5))\n+    abort ();\n+  if (ashift_qi_6 (0xff) != (u8) ((u8) 0xff << 6))\n+    abort ();\n+  if (ashift_qi_7 (0xff) != (u8) ((u8) 0xff << 7))\n+    abort ();\n+  if (lshiftrt_qi_0 (0xff) != (u8) ((u8) 0xff >> 0))\n+    abort ();\n+  if (lshiftrt_qi_4 (0xff) != (u8) ((u8) 0xff >> 4))\n+    abort ();\n+  if (lshiftrt_qi_5 (0xff) != (u8) ((u8) 0xff >> 5))\n+    abort ();\n+  if (lshiftrt_qi_7 (0xff) != (u8) ((u8) 0xff >> 7))\n+    abort ();\n+  exit (0);\n+}\n+"}]}