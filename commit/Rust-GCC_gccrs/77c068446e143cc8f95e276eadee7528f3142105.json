{"sha": "77c068446e143cc8f95e276eadee7528f3142105", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzdjMDY4NDQ2ZTE0M2NjOGY5NWUyNzZlYWRlZTc1MjhmMzE0MjEwNQ==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2001-10-21T16:29:13Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2001-10-21T16:29:13Z"}, "message": "aclocal.m4 (AM_WITH_NLS): Also create and substitute INTLDEPS variable, which does not include $LIBICONV.\n\n\t* aclocal.m4 (AM_WITH_NLS): Also create and substitute\n\tINTLDEPS variable, which does not include $LIBICONV.\n\t* Makefile.in: Use INTLDEPS in LIBDEPS.\n\t* configure: Regenerate.\n\nintl:\n\t* dcigettext.c: Don't use #elif.\n\t* gettextP.h: Prototype nls_uint32 and locale_charset here.\n\tAlways define ZERO to 1 to avoid warnings (ZERO is used in\n\tflexible-array-member declarations).\n\t* loadmsgcat.c: Apply __extension__ to structure definitions\n\tusing C99 designated initializer syntax.\n\tDo not prototype locale_charset here.\n\t* localcharset.c: Prototype get_charset_aliases before use.\n\tGet rid of STATIC nonsense.\n\nFrom-SVN: r46394", "tree": {"sha": "dfa7b9988fd3c5fba37514a5565ef80a3a944d04", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dfa7b9988fd3c5fba37514a5565ef80a3a944d04"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/77c068446e143cc8f95e276eadee7528f3142105", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77c068446e143cc8f95e276eadee7528f3142105", "html_url": "https://github.com/Rust-GCC/gccrs/commit/77c068446e143cc8f95e276eadee7528f3142105", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77c068446e143cc8f95e276eadee7528f3142105/comments", "author": null, "committer": null, "parents": [{"sha": "957569499bc92b4c796f0d112a134d90707a47b8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/957569499bc92b4c796f0d112a134d90707a47b8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/957569499bc92b4c796f0d112a134d90707a47b8"}], "stats": {"total": 213, "additions": 126, "deletions": 87}, "files": [{"sha": "056e39d9489a67fff707c4ec660f2f3a0b0b02d1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 14, "deletions": 7, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77c068446e143cc8f95e276eadee7528f3142105/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77c068446e143cc8f95e276eadee7528f3142105/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=77c068446e143cc8f95e276eadee7528f3142105", "patch": "@@ -1,3 +1,10 @@\n+2001-10-21  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* aclocal.m4 (AM_WITH_NLS): Also create and substitute\n+\tINTLDEPS variable, which does not include $LIBICONV.\n+\t* Makefile.in: Use INTLDEPS in LIBDEPS.\n+\t* configure: Regenerate.\n+\n 2001-10-21  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n \t* cpphash.h (struct cpp_buffer): Delete read_ahead and extra_char.\n@@ -172,11 +179,11 @@ Sat Oct 20 12:01:07 CEST 2001  Jan Hubicka  <jh@suse.cz>\n \n 2001-10-19  Catherine Moore  <clm@redhat.com>\n \n-        * config/stormy16/stormy-abi:  Updates to varargs descriptions.\n-        * config/stormy16/stormy16.c (stormy16_build_va_list):  Reverse\n-        base and count fields.\n-        (stormy16_expand_builtin_va_start):  last_reg_count changed to\n-        size_of_reg_args.  Use count + size in first comparison.\n+\t* config/stormy16/stormy-abi:  Updates to varargs descriptions.\n+\t* config/stormy16/stormy16.c (stormy16_build_va_list):  Reverse\n+\tbase and count fields.\n+\t(stormy16_expand_builtin_va_start):  last_reg_count changed to\n+\tsize_of_reg_args.  Use count + size in first comparison.\n \n Fri Oct 19 15:24:39 2001  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \n@@ -267,14 +274,14 @@ Fri Oct 19 15:24:39 2001  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \n 2001-10-19  Catherine Moore  <clm@redhat.com>\n \n-        * config/stormy16/stormy16.h (ASM_COMMENT_START): Define.\n+\t* config/stormy16/stormy16.h (ASM_COMMENT_START): Define.\n \n \t* config/stormy16/stormy16.c (stormy16_split_move):  Make\n \tsure that REG_INC notes are present for auto_inc operands.\n \n 2001-10-19  Andreas Jaeger  <aj@suse.de>\n \n-        * configure: Regenerated.\n+\t* configure: Regenerated.\n \t* configure.in: Add x86_64 to switch statements.\n \n 2001-10-18  Richard Henderson  <rth@redhat.com>"}, {"sha": "85c7d7a68a4e83f315cf7c9d67661c1f3aa9258d", "filename": "gcc/Makefile.in", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77c068446e143cc8f95e276eadee7528f3142105/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77c068446e143cc8f95e276eadee7528f3142105/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=77c068446e143cc8f95e276eadee7528f3142105", "patch": "@@ -335,6 +335,7 @@ USE_NLS = @USE_NLS@\n \n # Internationalization library.\n INTLLIBS = @INTLLIBS@\n+INTLDEPS = @INTLDEPS@\n \n # Character encoding conversion library.\n LIBICONV = @LIBICONV@\n@@ -615,7 +616,7 @@ USE_HOST_STRSTR= ` case \"${HOST_STRSTR}\" in ?*) echo ${HOST_PREFIX}${HOST_STRSTR\n # Dependency on obstack or whatever library facilities\n # are not installed in the system libraries.\n # We don't use USE_* because backquote expansion doesn't work in deps.\n-LIBDEPS= $(INTLLIBS) $(OBSTACK) $(VFPRINTF) $(DOPRINT) $(STRSTR)\n+LIBDEPS= $(INTLDEPS) $(OBSTACK) $(VFPRINTF) $(DOPRINT) $(STRSTR)\n \n # Likewise, for use in the tools that must run on this machine\n # even if we are cross-building GCC."}, {"sha": "5927d4cf3806c27d3fb592ea9f28be2bb82a9bf4", "filename": "gcc/aclocal.m4", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77c068446e143cc8f95e276eadee7528f3142105/gcc%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77c068446e143cc8f95e276eadee7528f3142105/gcc%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Faclocal.m4?ref=77c068446e143cc8f95e276eadee7528f3142105", "patch": "@@ -1381,7 +1381,9 @@ AC_DEFUN([AM_WITH_NLS],\n \n     BUILD_INCLUDED_LIBINTL=no\n     USE_INCLUDED_LIBINTL=no\n+dnl GCC LOCAL: Separate concept of link command line from dependencies.\n     INTLLIBS=\n+    INTLDEPS=\n \n     dnl If we use NLS figure out what method\n     if test \"$USE_NLS\" = \"yes\"; then\n@@ -1487,6 +1489,7 @@ return (int) gettext (\"\")]ifelse([$2], need-ngettext, [ + (int) ngettext (\"\", \"\"\n \tUSE_INCLUDED_LIBINTL=yes\n         CATOBJEXT=.gmo\n \tINTLLIBS=\"ifelse([$3],[],\\$(top_builddir)/intl,[$3])/libintl.ifelse([$1], use-libtool, [l], [])a $LIBICONV\"\n+\tINTLDEPS=\"ifelse([$3],[],\\$(top_builddir)/intl,[$3])/libintl.ifelse([$1], use-libtool, [l], [])a\"\n \tLIBS=`echo \" $LIBS \" | sed -e 's/ -lintl / /' -e 's/^ //' -e 's/ $//'`\n       fi\n \n@@ -1605,6 +1608,7 @@ changequote([,])dnl\n     AC_SUBST(CATOBJEXT)\n     AC_SUBST(GMOFILES)\n     AC_SUBST(INTLLIBS)\n+    AC_SUBST(INTLDEPS)\n     AC_SUBST(INTLOBJS)\n     AC_SUBST(POFILES)\n     AC_SUBST(POSUB)"}, {"sha": "6d77080c12910c30f27b8b7ff5210da930d8fbf3", "filename": "gcc/configure", "status": "modified", "additions": 50, "deletions": 46, "changes": 96, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77c068446e143cc8f95e276eadee7528f3142105/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77c068446e143cc8f95e276eadee7528f3142105/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=77c068446e143cc8f95e276eadee7528f3142105", "patch": "@@ -6079,14 +6079,15 @@ fi\n     BUILD_INCLUDED_LIBINTL=no\n     USE_INCLUDED_LIBINTL=no\n     INTLLIBS=\n+    INTLDEPS=\n \n         if test \"$USE_NLS\" = \"yes\"; then\n       cat >> confdefs.h <<\\EOF\n #define ENABLE_NLS 1\n EOF\n \n       echo $ac_n \"checking whether included gettext is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:6090: checking whether included gettext is requested\" >&5\n+echo \"configure:6091: checking whether included gettext is requested\" >&5\n       # Check whether --with-included-gettext or --without-included-gettext was given.\n if test \"${with_included_gettext+set}\" = set; then\n   withval=\"$with_included_gettext\"\n@@ -6106,17 +6107,17 @@ fi\n \n \tac_safe=`echo \"libintl.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for libintl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:6110: checking for libintl.h\" >&5\n+echo \"configure:6111: checking for libintl.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6115 \"configure\"\n+#line 6116 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:6120: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:6121: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -6137,12 +6138,12 @@ if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n EOF\n \n            echo $ac_n \"checking for GNU gettext in libc\"\"... $ac_c\" 1>&6\n-echo \"configure:6141: checking for GNU gettext in libc\" >&5\n+echo \"configure:6142: checking for GNU gettext in libc\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gnugettext1_libc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6146 \"configure\"\n+#line 6147 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n extern int _nl_msg_cat_cntr;\n@@ -6151,7 +6152,7 @@ bindtextdomain (\"\", \"\");\n return (int) gettext (\"\") + _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:6155: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6156: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gnugettext1_libc=yes\n else\n@@ -6167,14 +6168,14 @@ echo \"$ac_t\"\"$gt_cv_func_gnugettext1_libc\" 1>&6\n \n \t   if test \"$gt_cv_func_gnugettext1_libc\" != \"yes\"; then\n \t     echo $ac_n \"checking for GNU gettext in libintl\"\"... $ac_c\" 1>&6\n-echo \"configure:6171: checking for GNU gettext in libintl\" >&5\n+echo \"configure:6172: checking for GNU gettext in libintl\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gnugettext1_libintl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gt_save_LIBS=\"$LIBS\"\n \t\tLIBS=\"$LIBS -lintl $LIBICONV\"\n \t\tcat > conftest.$ac_ext <<EOF\n-#line 6178 \"configure\"\n+#line 6179 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n extern int _nl_msg_cat_cntr;\n@@ -6183,7 +6184,7 @@ bindtextdomain (\"\", \"\");\n return (int) gettext (\"\") + _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:6187: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6188: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gnugettext1_libintl=yes\n else\n@@ -6216,12 +6217,12 @@ EOF\n \t     for ac_func in dcgettext\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6220: checking for $ac_func\" >&5\n+echo \"configure:6221: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6225 \"configure\"\n+#line 6226 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6244,7 +6245,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6248: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6249: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6273,7 +6274,7 @@ done\n \t     \t     # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6277: checking for $ac_word\" >&5\n+echo \"configure:6278: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6307,7 +6308,7 @@ fi\n \t     # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6311: checking for $ac_word\" >&5\n+echo \"configure:6312: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6344,7 +6345,7 @@ fi\n \t     \t     # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6348: checking for $ac_word\" >&5\n+echo \"configure:6349: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6394,7 +6395,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6398: checking for $ac_word\" >&5\n+echo \"configure:6399: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6428,7 +6429,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6432: checking for $ac_word\" >&5\n+echo \"configure:6433: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6464,7 +6465,7 @@ fi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6468: checking for $ac_word\" >&5\n+echo \"configure:6469: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6500,6 +6501,7 @@ fi\n \tUSE_INCLUDED_LIBINTL=yes\n         CATOBJEXT=.gmo\n \tINTLLIBS=\"\\$(top_builddir)/intl/libintl.a $LIBICONV\"\n+\tINTLDEPS=\"\\$(top_builddir)/intl/libintl.a\"\n \tLIBS=`echo \" $LIBS \" | sed -e 's/ -lintl / /' -e 's/^ //' -e 's/ $//'`\n       fi\n \n@@ -6535,7 +6537,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6539: checking for $ac_word\" >&5\n+echo \"configure:6541: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_INTLBISON'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6568,7 +6570,7 @@ done\n       ac_verc_fail=yes\n     else\n             echo $ac_n \"checking version of bison\"\"... $ac_c\" 1>&6\n-echo \"configure:6572: checking version of bison\" >&5\n+echo \"configure:6574: checking version of bison\" >&5\n       ac_prog_version=`$INTLBISON --version 2>&1 | sed -n 's/^.*GNU Bison.* \\([0-9]*\\.[0-9.]*\\).*$/\\1/p'`\n       case $ac_prog_version in\n         '') ac_prog_version=\"v. ?.??, bad\"; ac_verc_fail=yes;;\n@@ -6596,6 +6598,7 @@ echo \"configure:6572: checking version of bison\" >&5\n     \n     \n     \n+    \n     if test $USE_INCLUDED_LIBINTL = yes; then\n       cat >> confdefs.h <<\\EOF\n #define USE_INCLUDED_LIBINTL 1\n@@ -6621,7 +6624,7 @@ EOF\n        LINGUAS=\n      else\n        echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:6625: checking for catalogs to be installed\" >&5\n+echo \"configure:6628: checking for catalogs to be installed\" >&5\n        NEW_LINGUAS=\n        for presentlang in $ALL_LINGUAS; do\n          useit=no\n@@ -6672,7 +6675,7 @@ fi\n case $host_os in\n \twin32 | pe | cygwin* | mingw32* | uwin*)\n echo $ac_n \"checking whether windows registry support is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:6676: checking whether windows registry support is requested\" >&5\n+echo \"configure:6679: checking whether windows registry support is requested\" >&5\n if test \"x$enable_win32_registry\" != xno; then\n   cat >> confdefs.h <<\\EOF\n #define ENABLE_WIN32_REGISTRY 1\n@@ -6681,14 +6684,14 @@ EOF\n   echo \"$ac_t\"\"yes\" 1>&6\n   \n echo $ac_n \"checking for library containing RegOpenKeyExA\"\"... $ac_c\" 1>&6\n-echo \"configure:6685: checking for library containing RegOpenKeyExA\" >&5\n+echo \"configure:6688: checking for library containing RegOpenKeyExA\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_search_RegOpenKeyExA'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_func_search_save_LIBS=\"$LIBS\"\n ac_cv_search_RegOpenKeyExA=\"no\"\n cat > conftest.$ac_ext <<EOF\n-#line 6692 \"configure\"\n+#line 6695 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -6699,7 +6702,7 @@ int main() {\n RegOpenKeyExA()\n ; return 0; }\n EOF\n-if { (eval echo configure:6703: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6706: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_RegOpenKeyExA=\"none required\"\n else\n@@ -6710,7 +6713,7 @@ rm -f conftest*\n test \"$ac_cv_search_RegOpenKeyExA\" = \"no\" && for i in advapi32; do\n LIBS=\"-l$i  $ac_func_search_save_LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 6714 \"configure\"\n+#line 6717 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -6721,7 +6724,7 @@ int main() {\n RegOpenKeyExA()\n ; return 0; }\n EOF\n-if { (eval echo configure:6725: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6728: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_RegOpenKeyExA=\"-l$i\"\n break\n@@ -6763,7 +6766,7 @@ esac\n \n if test \"x$enable_win32_registry\" != xno; then\n   echo $ac_n \"checking registry key on windows hosts\"\"... $ac_c\" 1>&6\n-echo \"configure:6767: checking registry key on windows hosts\" >&5\n+echo \"configure:6770: checking registry key on windows hosts\" >&5\n   cat >> confdefs.h <<EOF\n #define WIN32_REGISTRY_KEY \"$gcc_cv_win32_registry_key\"\n EOF\n@@ -6946,7 +6949,7 @@ fi\n \n # Figure out what assembler we will be using.\n echo $ac_n \"checking what assembler to use\"\"... $ac_c\" 1>&6\n-echo \"configure:6950: checking what assembler to use\" >&5\n+echo \"configure:6953: checking what assembler to use\" >&5\n gcc_cv_as=\n gcc_cv_gas_major_version=\n gcc_cv_gas_minor_version=\n@@ -7032,7 +7035,7 @@ fi\n \n # Figure out what nm we will be using.\n echo $ac_n \"checking what nm to use\"\"... $ac_c\" 1>&6\n-echo \"configure:7036: checking what nm to use\" >&5\n+echo \"configure:7039: checking what nm to use\" >&5\n if test -x nm$host_exeext; then\n \tgcc_cv_nm=./nm$host_exeext\n elif test x$host = x$target; then\n@@ -7043,7 +7046,7 @@ echo \"$ac_t\"\"$gcc_cv_nm\" 1>&6\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:7047: checking assembler alignment features\" >&5\n+echo \"configure:7050: checking assembler alignment features\" >&5\n gcc_cv_as_alignment_features=none\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n \t# Gas version 2.6 and later support for .balign and .p2align.\n@@ -7091,7 +7094,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:7095: checking assembler subsection support\" >&5\n+echo \"configure:7098: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 9 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7131,7 +7134,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n \n echo $ac_n \"checking assembler weak support\"\"... $ac_c\" 1>&6\n-echo \"configure:7135: checking assembler weak support\" >&5\n+echo \"configure:7138: checking assembler weak support\" >&5\n gcc_cv_as_weak=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 2 -o \"$gcc_cv_gas_major_version\" -gt 2; then\n@@ -7154,7 +7157,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_weak\" 1>&6\n \n echo $ac_n \"checking assembler hidden support\"\"... $ac_c\" 1>&6\n-echo \"configure:7158: checking assembler hidden support\" >&5\n+echo \"configure:7161: checking assembler hidden support\" >&5\n gcc_cv_as_hidden=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 10 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7178,7 +7181,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_hidden\" 1>&6\n \n echo $ac_n \"checking assembler leb128 support\"\"... $ac_c\" 1>&6\n-echo \"configure:7182: checking assembler leb128 support\" >&5\n+echo \"configure:7185: checking assembler leb128 support\" >&5\n gcc_cv_as_leb128=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 11 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7223,7 +7226,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_leb128\" 1>&6\n \n echo $ac_n \"checking assembler eh_frame optimization\"\"... $ac_c\" 1>&6\n-echo \"configure:7227: checking assembler eh_frame optimization\" >&5\n+echo \"configure:7230: checking assembler eh_frame optimization\" >&5\n gcc_cv_as_eh_frame=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 12 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7304,7 +7307,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_eh_frame\" 1>&6\n \n echo $ac_n \"checking assembler section merging support\"\"... $ac_c\" 1>&6\n-echo \"configure:7308: checking assembler section merging support\" >&5\n+echo \"configure:7311: checking assembler section merging support\" >&5\n gcc_cv_as_shf_merge=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 12 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7329,7 +7332,7 @@ echo \"$ac_t\"\"$gcc_cv_as_shf_merge\" 1>&6\n case \"$target\" in \n   sparc*-*-*)\n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:7333: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:7336: checking assembler .register pseudo-op support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_register_pseudo_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7357,7 +7360,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler supports -relax\"\"... $ac_c\" 1>&6\n-echo \"configure:7361: checking assembler supports -relax\" >&5\n+echo \"configure:7364: checking assembler supports -relax\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_relax_opt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7387,7 +7390,7 @@ EOF\n     case \"$tm_file\" in\n     *64*)\n \techo $ac_n \"checking for 64 bit support in assembler ($gcc_cv_as)\"\"... $ac_c\" 1>&6\n-echo \"configure:7391: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n+echo \"configure:7394: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_flags64'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7432,7 +7435,7 @@ EOF\n \n     if test \"x$gcc_cv_as_flags64\" != xno; then\n \techo $ac_n \"checking for assembler offsetable %lo() support\"\"... $ac_c\" 1>&6\n-echo \"configure:7436: checking for assembler offsetable %lo() support\" >&5\n+echo \"configure:7439: checking for assembler offsetable %lo() support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7472,7 +7475,7 @@ EOF\n \n   i[34567]86-*-* | x86_64-*-*)\n     echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:7476: checking assembler instructions\" >&5\n+echo \"configure:7479: checking assembler instructions\" >&5\n     gcc_cv_as_instructions=\n     if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n       if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 9 -o \"$gcc_cv_gas_major_version\" -gt 2; then\n@@ -7499,7 +7502,7 @@ EOF\n     echo \"$ac_t\"\"$gcc_cv_as_instructions\" 1>&6\n \n     echo $ac_n \"checking assembler GOTOFF in data directives\"\"... $ac_c\" 1>&6\n-echo \"configure:7503: checking assembler GOTOFF in data directives\" >&5\n+echo \"configure:7506: checking assembler GOTOFF in data directives\" >&5\n     gcc_cv_as_gotoff_in_data=no\n     if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x\n     then\n@@ -7529,7 +7532,7 @@ EOF\n esac\n \n echo $ac_n \"checking assembler dwarf2 debug_line support\"\"... $ac_c\" 1>&6\n-echo \"configure:7533: checking assembler dwarf2 debug_line support\" >&5\n+echo \"configure:7536: checking assembler dwarf2 debug_line support\" >&5\n gcc_cv_as_dwarf2_debug_line=no\n # ??? Not all targets support dwarf2 debug_line, even within a version\n # of gas.  Moreover, we need to emit a valid instruction to trigger any\n@@ -7721,7 +7724,7 @@ fi\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:7725: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:7728: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -8264,6 +8267,7 @@ s%@CATALOGS@%$CATALOGS%g\n s%@CATOBJEXT@%$CATOBJEXT%g\n s%@GMOFILES@%$GMOFILES%g\n s%@INTLLIBS@%$INTLLIBS%g\n+s%@INTLDEPS@%$INTLDEPS%g\n s%@INTLOBJS@%$INTLOBJS%g\n s%@POFILES@%$POFILES%g\n s%@POSUB@%$POSUB%g"}, {"sha": "f298b2e37ef5e116820d973f9fb6ee3a0d53b479", "filename": "gcc/intl/ChangeLog", "status": "modified", "additions": 29, "deletions": 17, "changes": 46, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77c068446e143cc8f95e276eadee7528f3142105/gcc%2Fintl%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77c068446e143cc8f95e276eadee7528f3142105/gcc%2Fintl%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintl%2FChangeLog?ref=77c068446e143cc8f95e276eadee7528f3142105", "patch": "@@ -1,3 +1,15 @@\n+2001-10-21  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* dcigettext.c: Don't use #elif.\n+\t* gettextP.h: Prototype nls_uint32 and locale_charset here.\n+\tAlways define ZERO to 1 to avoid warnings (ZERO is used in\n+\tflexible-array-member declarations).\n+\t* loadmsgcat.c: Apply __extension__ to structure definitions\n+\tusing C99 designated initializer syntax.\n+\tDo not prototype locale_charset here.\n+\t* localcharset.c: Prototype get_charset_aliases before use.\n+\tGet rid of STATIC nonsense.\n+\n 2001-10-19  Zack Weinberg  <zack@codesourcery.com>\n \n \t* Makefile.in: Don't copy libgnuintl.h anywhere.\n@@ -52,7 +64,7 @@\n \tin call to _nl_normalize_codeset.\n \t* l10nflist.c: Define _GNU_SOURCE before any system header is\n \tincluded.\n-\t\n+\n 1998-04-29  Ulrich Drepper  <drepper@cygnus.com>\n \n \t* intl/localealias.c (read_alias_file): Use unsigned char for\n@@ -228,15 +240,15 @@ Fri Jul 19 00:15:46 1996  Ulrich Drepper  <drepper@cygnus.com>\n Sat Jul 13 18:11:35 1996  Ulrich Drepper  <drepper@cygnus.com>\n \n \t* Makefile.in (install): Split goal.  Now depend on install-exec\n-        and install-data.\n+\tand install-data.\n \t(install-exec, install-data): New goals.  Created from former\n \tinstall goal.\n \tReported by Karl Berry.\n \n Sat Jun 22 04:58:14 1996  Ulrich Drepper  <drepper@cygnus.com>\n \n \t* Makefile.in (MKINSTALLDIRS): New variable.  Path to\n-        mkinstalldirs script.\n+\tmkinstalldirs script.\n \t(install): use MKINSTALLDIRS variable or if the script is not present\n \ttry to find it in the $top_scrdir).\n \n@@ -264,7 +276,7 @@ Tue Jun 11 17:05:13 1996  Ulrich Drepper  <drepper@cygnus.com>\n \tresult to __result to prevent name clash.\n \n \t* l10nflist.c, localealias.c, dcgettext.c: Define _GNU_SOURCE to\n-        get prototype for stpcpy and strcasecmp.\n+\tget prototype for stpcpy and strcasecmp.\n \n \t* intlh.inst.in, libgettext.h: Move declaration of\n \t`_nl_msg_cat_cntr' outside __extension__ block to prevent warning\n@@ -289,7 +301,7 @@ Thu Jun  6 01:49:52 1996  Ulrich Drepper  <drepper@cygnus.com>\n \tPatch by Eric Backus.\n \n \t* localealias.c [!HAVE_ALLOCA]: Define alloca as macro using\n-        malloc.\n+\tmalloc.\n \t(read_alias_file): Rename varriabe alloca_list to block_list as the\n \tmacro calls assume.\n \tPatch by Eric Backus.\n@@ -298,10 +310,10 @@ Thu Jun  6 01:49:52 1996  Ulrich Drepper  <drepper@cygnus.com>\n \tReported by Roland McGrath.\n \n \t* Makefile.in (all): Depend on all-@USE_INCLUDED_LIBINTL@, not\n-        all-@USE_NLS@.\n+\tall-@USE_NLS@.\n \n \t* Makefile.in (install): intlh.inst comes from local dir, not\n-        $(srcdir).\n+\t$(srcdir).\n \n \t* Makefile.in (intlh.inst): Special handling of this goal.  If\n \tused in gettext, this is really a rul to construct this file.  If\n@@ -328,19 +340,19 @@ Tue Jun  4 02:47:49 1996  Ulrich Drepper  <drepper@cygnus.com>\n \t* libintl.inst: Renamed to intlh.inst.in.\n \n \t* localealias.c, dcgettext.c [__GNUC__]: Define HAVE_ALLOCA to 1\n-        because gcc has __buitlin_alloca.\n+\tbecause gcc has __buitlin_alloca.\n \tReported by Roland McGrath.\n \n Mon Jun  3 00:32:16 1996  Ulrich Drepper  <drepper@cygnus.com>\n \n \t* Makefile.in (installcheck): New goal to fulfill needs of\n-        automake's distcheck.\n+\tautomake's distcheck.\n \n \t* Makefile.in (install): Reorder commands so that VERSION is\n-        found.\n+\tfound.\n \n \t* Makefile.in (gettextsrcdir): Now use subdirectory intl/ in\n-        @datadir@/gettext.\n+\t@datadir@/gettext.\n \t(COMSRCS): Add l10nfile.c.\n \t(OBJECTS): Add l10nfile.o.\n \t(DISTFILES): Rename to DISTFILE.normal.  Remove $(DISTFILES.common).\n@@ -356,7 +368,7 @@ Mon Jun  3 00:32:16 1996  Ulrich Drepper  <drepper@cygnus.com>\n Sun Jun  2 17:33:06 1996  Ulrich Drepper  <drepper@cygnus.com>\n \n \t* loadmsgcat.c (_nl_load_domain): Parameter is now comes from\n-        find_l10nfile.\n+\tfind_l10nfile.\n \n Sat Jun  1 02:23:03 1996  Ulrich Drepper  <drepper@cygnus.com>\n \n@@ -366,7 +378,7 @@ Sat Jun  1 02:23:03 1996  Ulrich Drepper  <drepper@cygnus.com>\n \tcode.  Use new l10nfile handling.\n \n \t* localealias.c [!HAVE_ALLOCA]: Add code for handling missing\n-        alloca code.\n+\talloca code.\n \n \t* l10nflist.c: Initial revision.\n \n@@ -385,7 +397,7 @@ Tue Mar 26 12:39:14 1996  Ulrich Drepper  <drepper@myware>\n Sat Mar 23 02:00:35 1996  Ulrich Drepper  <drepper@myware>\n \n \t* finddomain.c (stpcpy): Rename to stpcpy__ to prevent clashing\n-        with external declaration.\n+\twith external declaration.\n \n Sat Mar  2 00:47:09 1996  Ulrich Drepper  <drepper@myware>\n \n@@ -394,7 +406,7 @@ Sat Mar  2 00:47:09 1996  Ulrich Drepper  <drepper@myware>\n Sat Feb 17 00:25:59 1996  Ulrich Drepper  <drepper@myware>\n \n \t* gettextP.h [loaded_domain]: Array `successor' must now contain up\n-        to 63 elements (because of codeset name normalization).\n+\tto 63 elements (because of codeset name normalization).\n \n \t* finddomain.c: Implement codeset name normalization.\n \n@@ -407,7 +419,7 @@ Thu Feb 15 04:39:09 1996  Ulrich Drepper  <drepper@myware>\n Mon Jan 15 21:46:01 1996  Howard Gayle  <howard@hal.com>\n \n \t* localealias.c (alias_compare): Increment string pointers in loop\n-        of strcasecmp replacement.\n+\tof strcasecmp replacement.\n \n Fri Dec 29 21:16:34 1995  Ulrich Drepper  <drepper@myware>\n \n@@ -422,7 +434,7 @@ Fri Dec 29 15:08:16 1995  Ulrich Drepper  <drepper@myware>\n Tue Dec 19 22:09:13 1995  Ulrich Drepper  <drepper@myware>\n \n \t* Makefile.in (Makefile): Explicitly use $(SHELL) for running\n-        shell scripts.\n+\tshell scripts.\n \n Fri Dec 15 17:34:59 1995  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n "}, {"sha": "f829bd3e4d93833629cb55905e18d62951e0cfe1", "filename": "gcc/intl/dcigettext.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77c068446e143cc8f95e276eadee7528f3142105/gcc%2Fintl%2Fdcigettext.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77c068446e143cc8f95e276eadee7528f3142105/gcc%2Fintl%2Fdcigettext.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintl%2Fdcigettext.c?ref=77c068446e143cc8f95e276eadee7528f3142105", "patch": "@@ -123,7 +123,8 @@ extern int errno;\n #ifdef _LIBC\n /* Rename the non ANSI C functions.  This is required by the standard\n    because some ANSI C functions will require linking with this object\n-   file and the name space must not be polluted.  */\n+   file and the name space must not be polluted.\n+   GCC LOCAL: Don't use #elif.  */\n # define getcwd __getcwd\n # ifndef stpcpy\n #  define stpcpy __stpcpy\n@@ -133,8 +134,10 @@ extern int errno;\n # if !defined HAVE_GETCWD\n char *getwd ();\n #  define getcwd(buf, max) getwd (buf)\n-# elif !defined HAVE_DECL_GETCWD\n+# else\n+#  if !defined HAVE_DECL_GETCWD\n char *getcwd ();\n+#  endif\n # endif\n # ifndef HAVE_STPCPY\n static char *stpcpy PARAMS ((char *dest, const char *src));"}, {"sha": "5a925519e567df7a657974179786a9a3cf66a7df", "filename": "gcc/intl/gettextP.h", "status": "modified", "additions": 12, "deletions": 5, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77c068446e143cc8f95e276eadee7528f3142105/gcc%2Fintl%2FgettextP.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77c068446e143cc8f95e276eadee7528f3142105/gcc%2Fintl%2FgettextP.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintl%2FgettextP.h?ref=77c068446e143cc8f95e276eadee7528f3142105", "patch": "@@ -63,6 +63,8 @@\n # include <byteswap.h>\n # define SWAP(i) bswap_32 (i)\n #else\n+/* GCC LOCAL: Prototype first to avoid warnings.  */\n+static inline nls_uint32 SWAP PARAMS ((nls_uint32));\n static inline nls_uint32\n SWAP (i)\n      nls_uint32 i;\n@@ -144,12 +146,13 @@ struct loaded_domain\n };\n \n /* We want to allocate a string at the end of the struct.  But ISO C\n-   doesn't allow zero sized arrays.  */\n-#ifdef __GNUC__\n-# define ZERO 0\n-#else\n+   doesn't allow zero sized arrays.\n+   GCC LOCAL: Always use 1, to avoid warnings.  */\n+/*#ifdef __GNUC__*/\n+/*# define ZERO 0*/\n+/*#else*/\n # define ZERO 1\n-#endif\n+/*#endif*/\n \n /* A set of settings bound to a message domain.  Used to store settings\n    from bindtextdomain() and bind_textdomain_codeset().  */\n@@ -189,6 +192,10 @@ char *_nl_find_msg PARAMS ((struct loaded_l10nfile *domain_file,\n \t\t\t    const char *msgid, size_t *lengthp))\n      internal_function;\n \n+/* GCC LOCAL: This prototype moved here from next to its\n+   use in loadmsgcat.c.  */\n+extern const char *locale_charset PARAMS ((void)) internal_function;\n+     \n #ifdef _LIBC\n extern char *__gettext PARAMS ((const char *__msgid));\n extern char *__dgettext PARAMS ((const char *__domainname,"}, {"sha": "b6b13ff2cada2844f426737dd38e72ae2d26bd87", "filename": "gcc/intl/loadmsgcat.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77c068446e143cc8f95e276eadee7528f3142105/gcc%2Fintl%2Floadmsgcat.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77c068446e143cc8f95e276eadee7528f3142105/gcc%2Fintl%2Floadmsgcat.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintl%2Floadmsgcat.c?ref=77c068446e143cc8f95e276eadee7528f3142105", "patch": "@@ -136,13 +136,14 @@ int _nl_msg_cat_cntr;\n     || (defined __STDC_VERSION__ && __STDC_VERSION__ >= 199901L)\n \n /* These structs are the constant expression for the germanic plural\n-   form determination.  It represents the expression  \"n != 1\".  */\n-static const struct expression plvar =\n+   form determination.  It represents the expression  \"n != 1\".\n+   GCC LOCAL: Use __extension__ to suppress -Wtraditional warnings.  */\n+__extension__ static const struct expression plvar =\n {\n   .nargs = 0,\n   .operation = var,\n };\n-static const struct expression plone =\n+__extension__ static const struct expression plone =\n {\n   .nargs = 0,\n   .operation = num,\n@@ -151,7 +152,7 @@ static const struct expression plone =\n     .num = 1\n   }\n };\n-static struct expression germanic_plural =\n+__extension__ static struct expression germanic_plural =\n {\n   .nargs = 2,\n   .operation = not_equal,\n@@ -271,7 +272,6 @@ _nl_init_domain_conv (domain_file, domain, domainbinding)\n \t\t  outcharset = (*_nl_current[LC_CTYPE])->values[_NL_ITEM_INDEX (CODESET)].string;\n # else\n #  if HAVE_ICONV\n-\t\t  extern const char *locale_charset (void);\n \t\t  outcharset = locale_charset ();\n #  endif\n # endif"}, {"sha": "07c50589ed8276e5cd2ddbff6d8aa6de6d639226", "filename": "gcc/intl/localcharset.c", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77c068446e143cc8f95e276eadee7528f3142105/gcc%2Fintl%2Flocalcharset.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77c068446e143cc8f95e276eadee7528f3142105/gcc%2Fintl%2Flocalcharset.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintl%2Flocalcharset.c?ref=77c068446e143cc8f95e276eadee7528f3142105", "patch": "@@ -77,6 +77,9 @@\n    ALIAS_1 '\\0' CANONICAL_1 '\\0' ... ALIAS_n '\\0' CANONICAL_n '\\0' '\\0'  */\n static const char * volatile charset_aliases;\n \n+/* GCC LOCAL: Static function prototypes.  */\n+static const char *get_charset_aliases PARAMS ((void));\n+\n /* Return a pointer to the contents of the charset.alias file.  */\n static const char *\n get_charset_aliases ()\n@@ -194,11 +197,9 @@ get_charset_aliases ()\n    into one of the canonical names listed in config.charset.\n    The result must not be freed; it is statically allocated.\n    If the canonical name cannot be determined, the result is a non-canonical\n-   name.  */\n+   name.\n+   GCC LOCAL: Get rid of STATIC nonsense. */\n \n-#ifdef STATIC\n-STATIC\n-#endif\n const char *\n locale_charset ()\n {"}]}