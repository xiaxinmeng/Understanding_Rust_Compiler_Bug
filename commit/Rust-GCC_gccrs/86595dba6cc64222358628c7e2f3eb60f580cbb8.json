{"sha": "86595dba6cc64222358628c7e2f3eb60f580cbb8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODY1OTVkYmE2Y2M2NDIyMjM1ODYyOGM3ZTJmM2ViNjBmNTgwY2JiOA==", "commit": {"author": {"name": "Sebastian Pop", "email": "sebastian.pop@amd.com", "date": "2008-01-17T17:54:56Z"}, "committer": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2008-01-17T17:54:56Z"}, "message": "re PR testsuite/34821 (new gcc.dg testsuite failures)\n\n2008-01-17  Sebastian Pop  <sebastian.pop@amd.com>\n\n\tPR testsuite/34821\n\t* gcc.dg/autopar/autopar.exp: New.\n\t* g++.dg/tree-ssa/pr34355.C: Require pthread.\n\t* lib/target-supports.exp (check_effective_target_pthread): New.\n\n\t* gcc.dg/tree-ssa/parallelization-1.c: Moved to gcc.dg/autopar.\n\t* gcc.dg/tree-ssa/reduc-1short.c: Same.\n\t* gcc.dg/tree-ssa/reduc-1.c: Same.\n\t* gcc.dg/tree-ssa/reduc-2short.c: Same.\n\t* gcc.dg/tree-ssa/reduc-2.c: Same\n\t* gcc.dg/tree-ssa/reduc-3.c: Same.\n\t* gcc.dg/tree-ssa/reduc-1char.c: Same.\n\t* gcc.dg/tree-ssa/reduc-6.c: Same.\n\t* gcc.dg/tree-ssa/reduc-7.c: Same.\n\t* gcc.dg/tree-ssa/reduc-2char.c: Same.\n\t* gcc.dg/tree-ssa/reduc-8.c: Same.\n\t* gcc.dg/tree-ssa/reduc-9.c: Same.\n\nFrom-SVN: r131605", "tree": {"sha": "7e88f9026fcfb353f2ecd439fb179020553470ef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7e88f9026fcfb353f2ecd439fb179020553470ef"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/86595dba6cc64222358628c7e2f3eb60f580cbb8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86595dba6cc64222358628c7e2f3eb60f580cbb8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/86595dba6cc64222358628c7e2f3eb60f580cbb8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86595dba6cc64222358628c7e2f3eb60f580cbb8/comments", "author": null, "committer": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "806631075bf64119cd6dfede10d22429266aa514", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/806631075bf64119cd6dfede10d22429266aa514", "html_url": "https://github.com/Rust-GCC/gccrs/commit/806631075bf64119cd6dfede10d22429266aa514"}], "stats": {"total": 70, "additions": 70, "deletions": 0}, "files": [{"sha": "3a460685243b8de44a5cf663510aacba00a8aa90", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=86595dba6cc64222358628c7e2f3eb60f580cbb8", "patch": "@@ -1,3 +1,23 @@\n+2008-01-17  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\tPR testsuite/34821\n+\t* gcc.dg/autopar/autopar.exp: New.\n+\t* g++.dg/tree-ssa/pr34355.C: Require pthread.\n+\t* lib/target-supports.exp (check_effective_target_pthread): New.\n+\n+\t* gcc.dg/tree-ssa/parallelization-1.c: Moved to gcc.dg/autopar.\n+\t* gcc.dg/tree-ssa/reduc-1short.c: Same.\n+\t* gcc.dg/tree-ssa/reduc-1.c: Same.\n+\t* gcc.dg/tree-ssa/reduc-2short.c: Same.\n+\t* gcc.dg/tree-ssa/reduc-2.c: Same\n+\t* gcc.dg/tree-ssa/reduc-3.c: Same.\n+\t* gcc.dg/tree-ssa/reduc-1char.c: Same.\n+\t* gcc.dg/tree-ssa/reduc-6.c: Same.\n+\t* gcc.dg/tree-ssa/reduc-7.c: Same.\n+\t* gcc.dg/tree-ssa/reduc-2char.c: Same.\n+\t* gcc.dg/tree-ssa/reduc-8.c: Same.\n+\t* gcc.dg/tree-ssa/reduc-9.c: Same.\n+\n 2008-01-17  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gnat.dg/discr5.adb: New test."}, {"sha": "414a93746376d587441e4c1576290c85ff7f184c", "filename": "gcc/testsuite/g++.dg/tree-ssa/pr34355.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Fpr34355.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Fpr34355.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Fpr34355.C?ref=86595dba6cc64222358628c7e2f3eb60f580cbb8", "patch": "@@ -1,3 +1,4 @@\n+// { dg-require-effective-target pthread } \n // { dg-do compile }\n // { dg-options \"-O3 -ftree-parallelize-loops=4\" }\n "}, {"sha": "d19e51f7fe07f72a7083dc5e63edc6a4bf2319d1", "filename": "gcc/testsuite/gcc.dg/autopar/autopar.exp", "status": "added", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Fautopar.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Fautopar.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Fautopar.exp?ref=86595dba6cc64222358628c7e2f3eb60f580cbb8", "patch": "@@ -0,0 +1,40 @@\n+#   Copyright (C) 2008 Free Software Foundation, Inc.\n+\n+# This program is free software; you can redistribute it and/or modify\n+# it under the terms of the GNU General Public License as published by\n+# the Free Software Foundation; either version 3 of the License, or\n+# (at your option) any later version.\n+# \n+# This program is distributed in the hope that it will be useful,\n+# but WITHOUT ANY WARRANTY; without even the implied warranty of\n+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+# GNU General Public License for more details.\n+# \n+# You should have received a copy of the GNU General Public License\n+# along with GCC; see the file COPYING3.  If not see\n+# <http://www.gnu.org/licenses/>.\n+\n+# GCC testsuite that uses the `dg.exp' driver.\n+\n+# Load support procs.\n+load_lib gcc-dg.exp\n+\n+if ![check_effective_target_pthread] {\n+  return\n+}\n+\n+# If a testcase doesn't have special options, use these.\n+global DEFAULT_CFLAGS\n+if ![info exists DEFAULT_CFLAGS] then {\n+    set DEFAULT_CFLAGS \" -ansi -pedantic-errors\"\n+}\n+\n+# Initialize `dg'.\n+dg-init\n+\n+# Main loop.\n+dg-runtest [lsort [glob -nocomplain $srcdir/$subdir/*.\\[cS\\]]] \\\n+\t\"\" $DEFAULT_CFLAGS\n+\n+# All done.\n+dg-finish"}, {"sha": "ee62ff666b8b03bc8998e7532fea2da231fbc9d3", "filename": "gcc/testsuite/gcc.dg/autopar/parallelization-1.c", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Fparallelization-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Fparallelization-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Fparallelization-1.c?ref=86595dba6cc64222358628c7e2f3eb60f580cbb8", "previous_filename": "gcc/testsuite/gcc.dg/tree-ssa/parallelization-1.c"}, {"sha": "c7f53e1e50d3b09a3a15de78c353830b89e1bec1", "filename": "gcc/testsuite/gcc.dg/autopar/reduc-1.c", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-1.c?ref=86595dba6cc64222358628c7e2f3eb60f580cbb8", "previous_filename": "gcc/testsuite/gcc.dg/tree-ssa/reduc-1.c"}, {"sha": "87f758a4e462370acd759bf0b6007e39e4776767", "filename": "gcc/testsuite/gcc.dg/autopar/reduc-1char.c", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-1char.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-1char.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-1char.c?ref=86595dba6cc64222358628c7e2f3eb60f580cbb8", "previous_filename": "gcc/testsuite/gcc.dg/tree-ssa/reduc-1char.c"}, {"sha": "75d09544f8c5696ee2aaf4666a3ebd3a6be5ff6a", "filename": "gcc/testsuite/gcc.dg/autopar/reduc-1short.c", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-1short.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-1short.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-1short.c?ref=86595dba6cc64222358628c7e2f3eb60f580cbb8", "previous_filename": "gcc/testsuite/gcc.dg/tree-ssa/reduc-1short.c"}, {"sha": "d462f894f2eac2ca46a5ccd1bd7a8f002ba7ea23", "filename": "gcc/testsuite/gcc.dg/autopar/reduc-2.c", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-2.c?ref=86595dba6cc64222358628c7e2f3eb60f580cbb8", "previous_filename": "gcc/testsuite/gcc.dg/tree-ssa/reduc-2.c"}, {"sha": "15acb3bcc9a52fe8e7b76c8088a5ff3be4131247", "filename": "gcc/testsuite/gcc.dg/autopar/reduc-2char.c", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-2char.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-2char.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-2char.c?ref=86595dba6cc64222358628c7e2f3eb60f580cbb8", "previous_filename": "gcc/testsuite/gcc.dg/tree-ssa/reduc-2char.c"}, {"sha": "f98402ee251e5e36dfe0884a023f1ddad0a62b4d", "filename": "gcc/testsuite/gcc.dg/autopar/reduc-2short.c", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-2short.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-2short.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-2short.c?ref=86595dba6cc64222358628c7e2f3eb60f580cbb8", "previous_filename": "gcc/testsuite/gcc.dg/tree-ssa/reduc-2short.c"}, {"sha": "31ed2bc11c254e79cb4496fb36baf9efc27f3014", "filename": "gcc/testsuite/gcc.dg/autopar/reduc-3.c", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-3.c?ref=86595dba6cc64222358628c7e2f3eb60f580cbb8", "previous_filename": "gcc/testsuite/gcc.dg/tree-ssa/reduc-3.c"}, {"sha": "b3a28a965b5ef3e6344bf267b27a59b01a02f95c", "filename": "gcc/testsuite/gcc.dg/autopar/reduc-6.c", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-6.c?ref=86595dba6cc64222358628c7e2f3eb60f580cbb8", "previous_filename": "gcc/testsuite/gcc.dg/tree-ssa/reduc-6.c"}, {"sha": "90bbc9806c7bd65a47a07a78cbe7e605367c2adf", "filename": "gcc/testsuite/gcc.dg/autopar/reduc-7.c", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-7.c?ref=86595dba6cc64222358628c7e2f3eb60f580cbb8", "previous_filename": "gcc/testsuite/gcc.dg/tree-ssa/reduc-7.c"}, {"sha": "4801dc782ccb30b4f5c0b895ffae2c3c860b86f9", "filename": "gcc/testsuite/gcc.dg/autopar/reduc-8.c", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-8.c?ref=86595dba6cc64222358628c7e2f3eb60f580cbb8", "previous_filename": "gcc/testsuite/gcc.dg/tree-ssa/reduc-8.c"}, {"sha": "68ed1de6175d6d4099db19a6062d1328494dd0cb", "filename": "gcc/testsuite/gcc.dg/autopar/reduc-9.c", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-9.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-9.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Freduc-9.c?ref=86595dba6cc64222358628c7e2f3eb60f580cbb8", "previous_filename": "gcc/testsuite/gcc.dg/tree-ssa/reduc-9.c"}, {"sha": "7ea9ca0ab27e0f6c0686f8ae6b77cae313cabbba", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86595dba6cc64222358628c7e2f3eb60f580cbb8/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=86595dba6cc64222358628c7e2f3eb60f580cbb8", "patch": "@@ -509,6 +509,15 @@ proc check_effective_target_fopenmp {} {\n     } \"-fopenmp\"]\n }\n \n+# Return 1 if compilation with -pthread is error-free for trivial\n+# code, 0 otherwise.\n+\n+proc check_effective_target_pthread {} {\n+    return [check_no_compiler_messages pthread object {\n+\tvoid foo (void) { }\n+    } \"-pthread\"]\n+}\n+\n # Return 1 if the target supports -fstack-protector\n proc check_effective_target_fstack_protector {} {\n     return [check_runtime fstack_protector {"}]}