{"sha": "cee731748f23f6cbdcd7baf8102ac4dc87ca5c52", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2VlNzMxNzQ4ZjIzZjZjYmRjZDdiYWY4MTAyYWM0ZGM4N2NhNWM1Mg==", "commit": {"author": {"name": "Doug Rupp", "email": "rupp@adacore.com", "date": "2021-04-28T14:46:12Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2021-07-05T13:09:14Z"}, "message": "[Ada] The Unix Epochalypse of 2038 (Warn about time_t in the compiler)\n\ngcc/ada/\n\n\t* libgnat/s-os_lib.ads: Add some comments about time_t.\n\t* libgnat/s-os_lib.adb (GM_Split/To_GM_Time): Rename formal to\n\tP_OS_Time.\n\t(GM_Time_Of/To_OS_Time): Likewise.", "tree": {"sha": "53318db60f5f96135afd6d104ada832a7c3dda05", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/53318db60f5f96135afd6d104ada832a7c3dda05"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cee731748f23f6cbdcd7baf8102ac4dc87ca5c52", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cee731748f23f6cbdcd7baf8102ac4dc87ca5c52", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cee731748f23f6cbdcd7baf8102ac4dc87ca5c52", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cee731748f23f6cbdcd7baf8102ac4dc87ca5c52/comments", "author": {"login": "Cementitious", "id": 115579865, "node_id": "U_kgDOBuOb2Q", "avatar_url": "https://avatars.githubusercontent.com/u/115579865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cementitious", "html_url": "https://github.com/Cementitious", "followers_url": "https://api.github.com/users/Cementitious/followers", "following_url": "https://api.github.com/users/Cementitious/following{/other_user}", "gists_url": "https://api.github.com/users/Cementitious/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cementitious/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cementitious/subscriptions", "organizations_url": "https://api.github.com/users/Cementitious/orgs", "repos_url": "https://api.github.com/users/Cementitious/repos", "events_url": "https://api.github.com/users/Cementitious/events{/privacy}", "received_events_url": "https://api.github.com/users/Cementitious/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2644eaa0b91e25d01b5c847131bf7caafc7c4588", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2644eaa0b91e25d01b5c847131bf7caafc7c4588", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2644eaa0b91e25d01b5c847131bf7caafc7c4588"}], "stats": {"total": 64, "additions": 36, "deletions": 28}, "files": [{"sha": "d338450dce632964aff80c8278167c313cae2945", "filename": "gcc/ada/libgnat/s-os_lib.adb", "status": "modified", "additions": 28, "deletions": 28, "changes": 56, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cee731748f23f6cbdcd7baf8102ac4dc87ca5c52/gcc%2Fada%2Flibgnat%2Fs-os_lib.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cee731748f23f6cbdcd7baf8102ac4dc87ca5c52/gcc%2Fada%2Flibgnat%2Fs-os_lib.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-os_lib.adb?ref=cee731748f23f6cbdcd7baf8102ac4dc87ca5c52", "patch": "@@ -1347,13 +1347,13 @@ package body System.OS_Lib is\n       Second : out Second_Type)\n    is\n       procedure To_GM_Time\n-        (P_Time_T : Address;\n-         P_Year   : Address;\n-         P_Month  : Address;\n-         P_Day    : Address;\n-         P_Hours  : Address;\n-         P_Mins   : Address;\n-         P_Secs   : Address);\n+        (P_OS_Time : Address;\n+         P_Year    : Address;\n+         P_Month   : Address;\n+         P_Day     : Address;\n+         P_Hours   : Address;\n+         P_Mins    : Address;\n+         P_Secs    : Address);\n       pragma Import (C, To_GM_Time, \"__gnat_to_gm_time\");\n \n       T  : OS_Time := Date;\n@@ -1385,13 +1385,13 @@ package body System.OS_Lib is\n       Locked_Processing : begin\n          SSL.Lock_Task.all;\n          To_GM_Time\n-           (P_Time_T => T'Address,\n-            P_Year   => Y'Address,\n-            P_Month  => Mo'Address,\n-            P_Day    => D'Address,\n-            P_Hours  => H'Address,\n-            P_Mins   => Mn'Address,\n-            P_Secs   => S'Address);\n+           (P_OS_Time => T'Address,\n+            P_Year    => Y'Address,\n+            P_Month   => Mo'Address,\n+            P_Day     => D'Address,\n+            P_Hours   => H'Address,\n+            P_Mins    => Mn'Address,\n+            P_Secs    => S'Address);\n          SSL.Unlock_Task.all;\n \n       exception\n@@ -1429,26 +1429,26 @@ package body System.OS_Lib is\n       Second : Second_Type) return OS_Time\n    is\n       procedure To_OS_Time\n-        (P_Time_T : Address;\n-         P_Year   : Integer;\n-         P_Month  : Integer;\n-         P_Day    : Integer;\n-         P_Hours  : Integer;\n-         P_Mins   : Integer;\n-         P_Secs   : Integer);\n+        (P_OS_Time : Address;\n+         P_Year    : Integer;\n+         P_Month   : Integer;\n+         P_Day     : Integer;\n+         P_Hours   : Integer;\n+         P_Mins    : Integer;\n+         P_Secs    : Integer);\n       pragma Import (C, To_OS_Time, \"__gnat_to_os_time\");\n \n       Result : OS_Time;\n \n    begin\n       To_OS_Time\n-        (P_Time_T => Result'Address,\n-         P_Year   => Year - 1900,\n-         P_Month  => Month - 1,\n-         P_Day    => Day,\n-         P_Hours  => Hour,\n-         P_Mins   => Minute,\n-         P_Secs   => Second);\n+        (P_OS_Time => Result'Address,\n+         P_Year    => Year - 1900,\n+         P_Month   => Month - 1,\n+         P_Day     => Day,\n+         P_Hours   => Hour,\n+         P_Mins    => Minute,\n+         P_Secs    => Second);\n       return Result;\n    end GM_Time_Of;\n "}, {"sha": "8770d94e4da34f422ed4e0f29635b54dde39748b", "filename": "gcc/ada/libgnat/s-os_lib.ads", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cee731748f23f6cbdcd7baf8102ac4dc87ca5c52/gcc%2Fada%2Flibgnat%2Fs-os_lib.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cee731748f23f6cbdcd7baf8102ac4dc87ca5c52/gcc%2Fada%2Flibgnat%2Fs-os_lib.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-os_lib.ads?ref=cee731748f23f6cbdcd7baf8102ac4dc87ca5c52", "patch": "@@ -164,6 +164,14 @@ package System.OS_Lib is\n    --  component parts to be interpreted in the local time zone, and returns\n    --  an OS_Time. Returns Invalid_Time if the creation fails.\n \n+   ------------------\n+   -- Time_t Stuff --\n+   ------------------\n+\n+   --  Note: Do not use time_t in the compiler and host based tools,\n+   --  instead use OS_Time. These 3 declarations are indended for use only\n+   --  by consumers of the GNAT.OS_Lib renaming of this package.\n+\n    subtype time_t is Long_Integer;\n    --  C time_t type of the time representation\n "}]}