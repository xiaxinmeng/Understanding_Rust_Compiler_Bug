{"sha": "64f66385086e6a957c337eef97aec01cf30c162d", "node_id": "C_kwDOANBUbNoAKDY0ZjY2Mzg1MDg2ZTZhOTU3YzMzN2VlZjk3YWVjMDFjZjMwYzE2MmQ", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2023-01-25T12:28:01Z"}, "committer": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2023-01-25T12:37:23Z"}, "message": "Fixup LTO internal docs for option processing\n\nAndreas noticed that when I removed lto_read_all_file_options I\nfailed to update the internals manual which refers to it.  The\nfollowing attempts to reflect the current situation.\n\n\t* doc/lto.texi (Command line options): Reword and update reference\n\tto removed lto_read_all_file_options.", "tree": {"sha": "c5c145613cfd2d6553450a6cb502e8fd83fc946b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c5c145613cfd2d6553450a6cb502e8fd83fc946b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/64f66385086e6a957c337eef97aec01cf30c162d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64f66385086e6a957c337eef97aec01cf30c162d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/64f66385086e6a957c337eef97aec01cf30c162d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64f66385086e6a957c337eef97aec01cf30c162d/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "da43e287d1917a25594f95c7c519ded637c7ea50", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da43e287d1917a25594f95c7c519ded637c7ea50", "html_url": "https://github.com/Rust-GCC/gccrs/commit/da43e287d1917a25594f95c7c519ded637c7ea50"}], "stats": {"total": 12, "additions": 5, "deletions": 7}, "files": [{"sha": "eb5f54bf90835938ecb09c47c6660d6c08b455c7", "filename": "gcc/doc/lto.texi", "status": "modified", "additions": 5, "deletions": 7, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/64f66385086e6a957c337eef97aec01cf30c162d/gcc%2Fdoc%2Flto.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/64f66385086e6a957c337eef97aec01cf30c162d/gcc%2Fdoc%2Flto.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Flto.texi?ref=64f66385086e6a957c337eef97aec01cf30c162d", "patch": "@@ -170,13 +170,11 @@ object files.  This is used at link time to determine the optimization\n level and other settings when they are not explicitly specified at the\n linker command line.\n \n-Currently, GCC does not support combining LTO object files compiled\n-with different set of the command line options into a single binary.\n-At link time, the options given on the command line and the options\n-saved on all the files in a link-time set are applied globally.  No\n-attempt is made at validating the combination of flags (other than the\n-usual validation done by option processing).  This is implemented in\n-@file{lto/lto.cc}:@code{lto_read_all_file_options}.\n+Most options are recorded at a per function level and their setting\n+restored when processing the functions at link time.  Global options\n+are composed from options specified at compile time and link time.\n+How exactly they are combined or mismatches diagnosed is implemented in\n+@file{lto-wrapper.cc}:@code{find_and_merge_options}.\n \n \n @item Symbol table (@code{.gnu.lto_.symtab})"}]}