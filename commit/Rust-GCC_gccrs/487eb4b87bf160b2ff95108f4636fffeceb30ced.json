{"sha": "487eb4b87bf160b2ff95108f4636fffeceb30ced", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDg3ZWI0Yjg3YmYxNjBiMmZmOTUxMDhmNDYzNmZmZmVjZWIzMGNlZA==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-06-21T00:28:50Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-06-21T00:28:50Z"}, "message": "configure.in (version, [...]): Define.\n\n\ufffd\n\t* configure.in (version, target_alias): Define.\n\t* Makefile.in (version, target_alias, libsubdir): Define.\n\t(install): Remove check for libsubdir.\n\nFrom-SVN: r20634", "tree": {"sha": "3af68ea09564f930c98509eb5104172579f8054a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3af68ea09564f930c98509eb5104172579f8054a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/487eb4b87bf160b2ff95108f4636fffeceb30ced", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/487eb4b87bf160b2ff95108f4636fffeceb30ced", "html_url": "https://github.com/Rust-GCC/gccrs/commit/487eb4b87bf160b2ff95108f4636fffeceb30ced", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/487eb4b87bf160b2ff95108f4636fffeceb30ced/comments", "author": null, "committer": null, "parents": [{"sha": "0f1d4fada4af328f6e4ad1fb0b73af17e04769e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f1d4fada4af328f6e4ad1fb0b73af17e04769e0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f1d4fada4af328f6e4ad1fb0b73af17e04769e0"}], "stats": {"total": 116, "additions": 116, "deletions": 0}, "files": [{"sha": "cef4491239521ea1e6d9a9dfced5d5c87b891751", "filename": "libf2c/configure", "status": "modified", "additions": 110, "deletions": 0, "changes": 110, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/487eb4b87bf160b2ff95108f4636fffeceb30ced/libf2c%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/487eb4b87bf160b2ff95108f4636fffeceb30ced/libf2c%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2Fconfigure?ref=487eb4b87bf160b2ff95108f4636fffeceb30ced", "patch": "@@ -1861,6 +1861,9 @@ test -f libF77/makefile && mv libF77/makefile  libF77/makefile.ori\n test -f libI77/makefile && mv libI77/makefile  libI77/makefile.ori\n test -f libU77/makefile && mv libU77/makefile  libU77/makefile.ori\n \n+# Get the version number from the toplevel\n+version=`sed -e 's/.*\\\"\\([^ \\\"]*\\)[ \\\"].*/\\1/' < ${srcdir}/../gcc/version.c`\n+\n ac_aux_dir=\n for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do\n   if test -f $ac_dir/install-sh; then\n@@ -1880,6 +1883,97 @@ ac_config_guess=$ac_aux_dir/config.guess\n ac_config_sub=$ac_aux_dir/config.sub\n ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.\n \n+\n+# Do some error checking and defaulting for the host and target type.\n+# The inputs are:\n+#    configure --host=HOST --target=TARGET --build=BUILD NONOPT\n+#\n+# The rules are:\n+# 1. You are not allowed to specify --host, --target, and nonopt at the\n+#    same time.\n+# 2. Host defaults to nonopt.\n+# 3. If nonopt is not specified, then host defaults to the current host,\n+#    as determined by config.guess.\n+# 4. Target and build default to nonopt.\n+# 5. If nonopt is not specified, then target and build default to host.\n+\n+# The aliases save the names the user supplied, while $host etc.\n+# will get canonicalized.\n+case $host---$target---$nonopt in\n+NONE---*---* | *---NONE---* | *---*---NONE) ;;\n+*) { echo \"configure: error: can only configure for one host and one target at a time\" 1>&2; exit 1; } ;;\n+esac\n+\n+\n+# Make sure we can run config.sub.\n+if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :\n+else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n+fi\n+\n+echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n+echo \"configure:1915: checking host system type\" >&5\n+\n+host_alias=$host\n+case \"$host_alias\" in\n+NONE)\n+  case $nonopt in\n+  NONE)\n+    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :\n+    else { echo \"configure: error: can not guess host type; you must specify one\" 1>&2; exit 1; }\n+    fi ;;\n+  *) host_alias=$nonopt ;;\n+  esac ;;\n+esac\n+\n+host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`\n+host_cpu=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n+host_vendor=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n+host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n+echo \"$ac_t\"\"$host\" 1>&6\n+\n+echo $ac_n \"checking target system type\"\"... $ac_c\" 1>&6\n+echo \"configure:1936: checking target system type\" >&5\n+\n+target_alias=$target\n+case \"$target_alias\" in\n+NONE)\n+  case $nonopt in\n+  NONE) target_alias=$host_alias ;;\n+  *) target_alias=$nonopt ;;\n+  esac ;;\n+esac\n+\n+target=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $target_alias`\n+target_cpu=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n+target_vendor=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n+target_os=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n+echo \"$ac_t\"\"$target\" 1>&6\n+\n+echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n+echo \"configure:1954: checking build system type\" >&5\n+\n+build_alias=$build\n+case \"$build_alias\" in\n+NONE)\n+  case $nonopt in\n+  NONE) build_alias=$host_alias ;;\n+  *) build_alias=$nonopt ;;\n+  esac ;;\n+esac\n+\n+build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`\n+build_cpu=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n+build_vendor=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n+build_os=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n+echo \"$ac_t\"\"$build\" 1>&6\n+\n+test \"$host_alias\" != \"$target_alias\" &&\n+  test \"$program_prefix$program_suffix$program_transform_name\" = \\\n+    NONENONEs,x,x, &&\n+  program_prefix=${target_alias}-\n+\n+\n+\n subdirs=\"libU77\"\n \n trap '' 1 2 15\n@@ -2032,6 +2126,22 @@ s%@RANLIB_TEST@%$RANLIB_TEST%g\n s%@CPP@%$CPP%g\n s%@F2C_INTEGER@%$F2C_INTEGER%g\n s%@F2C_LONGINT@%$F2C_LONGINT%g\n+s%@version@%$version%g\n+s%@host@%$host%g\n+s%@host_alias@%$host_alias%g\n+s%@host_cpu@%$host_cpu%g\n+s%@host_vendor@%$host_vendor%g\n+s%@host_os@%$host_os%g\n+s%@target@%$target%g\n+s%@target_alias@%$target_alias%g\n+s%@target_cpu@%$target_cpu%g\n+s%@target_vendor@%$target_vendor%g\n+s%@target_os@%$target_os%g\n+s%@build@%$build%g\n+s%@build_alias@%$build_alias%g\n+s%@build_cpu@%$build_cpu%g\n+s%@build_vendor@%$build_vendor%g\n+s%@build_os@%$build_os%g\n s%@subdirs@%$subdirs%g\n \n CEOF"}, {"sha": "291cf21287815a2f27f20101f13a089c8279f7b1", "filename": "libf2c/configure.in", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/487eb4b87bf160b2ff95108f4636fffeceb30ced/libf2c%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/487eb4b87bf160b2ff95108f4636fffeceb30ced/libf2c%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2Fconfigure.in?ref=487eb4b87bf160b2ff95108f4636fffeceb30ced", "patch": "@@ -343,6 +343,12 @@ test -f libF77/makefile && mv libF77/makefile  libF77/makefile.ori\n test -f libI77/makefile && mv libI77/makefile  libI77/makefile.ori\n test -f libU77/makefile && mv libU77/makefile  libU77/makefile.ori\n \n+# Get the version number from the toplevel\n+version=`sed -e 's/.*\\\"\\([[^ \\\"]]*\\)[[ \\\"]].*/\\1/' < ${srcdir}/../gcc/version.c`\n+AC_SUBST(version)\n+AC_CANONICAL_SYSTEM\n+AC_SUBST(target_alias)\n+\n AC_CONFIG_SUBDIRS(libU77)\n AC_OUTPUT(Makefile g2c.h libI77/Makefile libF77/Makefile)\n "}]}