{"sha": "b7c4cd53ab4c40e84073511a84669680e916554e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjdjNGNkNTNhYjRjNDBlODQwNzM1MTFhODQ2Njk2ODBlOTE2NTU0ZQ==", "commit": {"author": {"name": "Michael Ritzert", "email": "Ritzert@t-online.de", "date": "2003-05-06T19:31:39Z"}, "committer": {"name": "Loren J. Rittle", "email": "ljrittle@gcc.gnu.org", "date": "2003-05-06T19:31:39Z"}, "message": "And retweak.\n\nCo-Authored-By: Matt Kraai <kraai@alumni.cmu.edu>\n\nFrom-SVN: r66530", "tree": {"sha": "3aff7bd044e179b58a0771ec530870650482aaaf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3aff7bd044e179b58a0771ec530870650482aaaf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b7c4cd53ab4c40e84073511a84669680e916554e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7c4cd53ab4c40e84073511a84669680e916554e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7c4cd53ab4c40e84073511a84669680e916554e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7c4cd53ab4c40e84073511a84669680e916554e/comments", "author": null, "committer": null, "parents": [{"sha": "8b6891963bc53520c4a1751a1e175c5c37eee441", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b6891963bc53520c4a1751a1e175c5c37eee441", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8b6891963bc53520c4a1751a1e175c5c37eee441"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "9ca9ce1a0eb720c3e29291d5b5ead6fce3204ff5", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7c4cd53ab4c40e84073511a84669680e916554e/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7c4cd53ab4c40e84073511a84669680e916554e/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=b7c4cd53ab4c40e84073511a84669680e916554e", "patch": "@@ -1,6 +1,9 @@\n 2003-05-06  Michael Ritzert <Ritzert@t-online.de>\n+\t    Matt Kraai <kraai@alumni.cmu.edu>\n \n \t* include/ext/stl_rope.h (_Rope_RopeRep<>::_M_c_string_lock): Tweak.\n+\tAnd retweak.\n+\n 2003-05-06  Richard Sandiford  <rsandifo@redhat.com>\n \n \t* configure.target (mips*): Use the generic atomicity.h by default."}, {"sha": "c8ada9ca76602ccb0901a6b62b58cf341a0e400b", "filename": "libstdc++-v3/include/ext/stl_rope.h", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7c4cd53ab4c40e84073511a84669680e916554e/libstdc%2B%2B-v3%2Finclude%2Fext%2Fstl_rope.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7c4cd53ab4c40e84073511a84669680e916554e/libstdc%2B%2B-v3%2Finclude%2Fext%2Fstl_rope.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fext%2Fstl_rope.h?ref=b7c4cd53ab4c40e84073511a84669680e916554e", "patch": "@@ -500,7 +500,11 @@ struct _Rope_RopeRep : public _Rope_rep_base<_CharT,_Alloc>\n #         endif\n           _M_tag(__t), _M_is_balanced(__b), _M_depth(__d), _M_c_string(0)\n #ifdef __GTHREAD_MUTEX_INIT\n-    { _M_c_string_lock = __GTHREAD_MUTEX_INIT; }\n+    {\n+\t// Do not copy a POSIX/gthr mutex once in use.  However, bits are bits.\n+\t__gthread_mutex_t __tmp = __GTHREAD_MUTEX_INIT;\n+\t_M_c_string_lock = __tmp;\n+    }\n #else\n     { __GTHREAD_MUTEX_INIT_FUNCTION (&_M_c_string_lock); }\n #endif"}]}