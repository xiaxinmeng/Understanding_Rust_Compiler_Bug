{"sha": "4d03807362650c1b8d979d8146f602dcaeb532ce", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGQwMzgwNzM2MjY1MGMxYjhkOTc5ZDgxNDZmNjAyZGNhZWI1MzJjZQ==", "commit": {"author": {"name": "Kelley Cook", "email": "kcook@gcc.gnu.org", "date": "2004-03-21T18:38:56Z"}, "committer": {"name": "R. Kelley Cook", "email": "kcook@gcc.gnu.org", "date": "2004-03-21T18:38:56Z"}, "message": "compile: New file imported from automake.\n\n\n2004-03-21  Kelley Cook  <kcook@gcc.gnu.org>\n\n\t* compile: New file imported from automake.\n\nFrom-SVN: r79790", "tree": {"sha": "4d572e5590c37bf5276001453742cad1d6735860", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4d572e5590c37bf5276001453742cad1d6735860"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4d03807362650c1b8d979d8146f602dcaeb532ce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d03807362650c1b8d979d8146f602dcaeb532ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d03807362650c1b8d979d8146f602dcaeb532ce", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d03807362650c1b8d979d8146f602dcaeb532ce/comments", "author": null, "committer": null, "parents": [{"sha": "6fce44af562fae5ad9275e183abdf6cf87a87f6e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6fce44af562fae5ad9275e183abdf6cf87a87f6e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6fce44af562fae5ad9275e183abdf6cf87a87f6e"}], "stats": {"total": 140, "additions": 140, "deletions": 0}, "files": [{"sha": "98813b95c145b802e4a0da6ff20bc7b8d1289801", "filename": "ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d03807362650c1b8d979d8146f602dcaeb532ce/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d03807362650c1b8d979d8146f602dcaeb532ce/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=4d03807362650c1b8d979d8146f602dcaeb532ce", "patch": "@@ -1,3 +1,7 @@\n+2004-03-21  Kelley Cook  <kcook@gcc.gnu.org>\n+\n+\t* compile: New file imported from automake.\n+\n 2004-03-17  Paolo Bonzini  <bonzini@gnu.org>\n \n \t* configure.in: Remove symbolic link section."}, {"sha": "a81e000ae1ac9a495befd876f4713de48bdf00f5", "filename": "compile", "status": "added", "additions": 136, "deletions": 0, "changes": 136, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d03807362650c1b8d979d8146f602dcaeb532ce/compile", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d03807362650c1b8d979d8146f602dcaeb532ce/compile", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/compile?ref=4d03807362650c1b8d979d8146f602dcaeb532ce", "patch": "@@ -0,0 +1,136 @@\n+#! /bin/sh\n+# Wrapper for compilers which do not understand `-c -o'.\n+\n+scriptversion=2003-11-09.00\n+\n+# Copyright (C) 1999, 2000, 2003 Free Software Foundation, Inc.\n+# Written by Tom Tromey <tromey@cygnus.com>.\n+#\n+# This program is free software; you can redistribute it and/or modify\n+# it under the terms of the GNU General Public License as published by\n+# the Free Software Foundation; either version 2, or (at your option)\n+# any later version.\n+#\n+# This program is distributed in the hope that it will be useful,\n+# but WITHOUT ANY WARRANTY; without even the implied warranty of\n+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+# GNU General Public License for more details.\n+#\n+# You should have received a copy of the GNU General Public License\n+# along with this program; if not, write to the Free Software\n+# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n+\n+# As a special exception to the GNU General Public License, if you\n+# distribute this file as part of a program that contains a\n+# configuration script generated by Autoconf, you may include it under\n+# the same distribution terms that you use for the rest of that program.\n+\n+# This file is maintained in Automake, please report\n+# bugs to <bug-automake@gnu.org> or send patches to\n+# <automake-patches@gnu.org>.\n+\n+case $1 in\n+  '')\n+     echo \"$0: No command.  Try \\`$0 --help' for more information.\" 1>&2\n+     exit 1;\n+     ;;\n+  -h | --h*)\n+    cat <<\\EOF\n+Usage: compile [--help] [--version] PROGRAM [ARGS]\n+\n+Wrapper for compilers which do not understand `-c -o'.\n+Remove `-o dest.o' from ARGS, run PROGRAM with the remaining\n+arguments, and rename the output as expected.\n+\n+If you are trying to build a whole package this is not the\n+right script to run: please start by reading the file `INSTALL'.\n+\n+Report bugs to <bug-automake@gnu.org>.\n+EOF\n+    exit 0\n+    ;;\n+  -v | --v*)\n+    echo \"compile $scriptversion\"\n+    exit 0\n+    ;;\n+esac\n+\n+\n+prog=$1\n+shift\n+\n+ofile=\n+cfile=\n+args=\n+while test $# -gt 0; do\n+  case \"$1\" in\n+    -o)\n+      # configure might choose to run compile as `compile cc -o foo foo.c'.\n+      # So we do something ugly here.\n+      ofile=$2\n+      shift\n+      case \"$ofile\" in\n+\t*.o | *.obj)\n+\t  ;;\n+\t*)\n+\t  args=\"$args -o $ofile\"\n+\t  ofile=\n+\t  ;;\n+      esac\n+       ;;\n+    *.c)\n+      cfile=$1\n+      args=\"$args $1\"\n+      ;;\n+    *)\n+      args=\"$args $1\"\n+      ;;\n+  esac\n+  shift\n+done\n+\n+if test -z \"$ofile\" || test -z \"$cfile\"; then\n+  # If no `-o' option was seen then we might have been invoked from a\n+  # pattern rule where we don't need one.  That is ok -- this is a\n+  # normal compilation that the losing compiler can handle.  If no\n+  # `.c' file was seen then we are probably linking.  That is also\n+  # ok.\n+  exec \"$prog\" $args\n+fi\n+\n+# Name of file we expect compiler to create.\n+cofile=`echo $cfile | sed -e 's|^.*/||' -e 's/\\.c$/.o/'`\n+\n+# Create the lock directory.\n+# Note: use `[/.-]' here to ensure that we don't use the same name\n+# that we are using for the .o file.  Also, base the name on the expected\n+# object file name, since that is what matters with a parallel build.\n+lockdir=`echo $cofile | sed -e 's|[/.-]|_|g'`.d\n+while true; do\n+  if mkdir $lockdir > /dev/null 2>&1; then\n+    break\n+  fi\n+  sleep 1\n+done\n+# FIXME: race condition here if user kills between mkdir and trap.\n+trap \"rmdir $lockdir; exit 1\" 1 2 15\n+\n+# Run the compile.\n+\"$prog\" $args\n+status=$?\n+\n+if test -f \"$cofile\"; then\n+  mv \"$cofile\" \"$ofile\"\n+fi\n+\n+rmdir $lockdir\n+exit $status\n+\n+# Local Variables:\n+# mode: shell-script\n+# sh-indentation: 2\n+# eval: (add-hook 'write-file-hooks 'time-stamp)\n+# time-stamp-start: \"scriptversion=\"\n+# time-stamp-format: \"%:y-%02m-%02d.%02H\"\n+# time-stamp-end: \"$\"\n+# End:"}]}