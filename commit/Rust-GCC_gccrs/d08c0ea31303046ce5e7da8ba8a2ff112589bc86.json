{"sha": "d08c0ea31303046ce5e7da8ba8a2ff112589bc86", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDA4YzBlYTMxMzAzMDQ2Y2U1ZTdkYThiYThhMmZmMTEyNTg5YmM4Ng==", "commit": {"author": {"name": "Maciej W. Rozycki", "email": "macro@imgtec.com", "date": "2016-11-16T21:35:02Z"}, "committer": {"name": "Maciej W. Rozycki", "email": "macro@gcc.gnu.org", "date": "2016-11-16T21:35:02Z"}, "message": "MIPS16/GCC: Fix DImode `casesi_internal_mips16_<mode>' assembly instructions\n\n\tgcc/\n\t* config/mips/mips.md (casesi_internal_mips16_<mode>): Add\n\tmissing <d> instruction prefixes throughout.  Correct\n\tformatting.\n\n\tgcc/testsuite/\n\t* gcc.target/mips/code-readable-4.c (dg-final): Expect `dla'\n\trather than `la'.\n\nFrom-SVN: r242514", "tree": {"sha": "4974835cb04e2868ad3d0eb7b5927ced442fd606", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4974835cb04e2868ad3d0eb7b5927ced442fd606"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d08c0ea31303046ce5e7da8ba8a2ff112589bc86", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d08c0ea31303046ce5e7da8ba8a2ff112589bc86", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d08c0ea31303046ce5e7da8ba8a2ff112589bc86", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d08c0ea31303046ce5e7da8ba8a2ff112589bc86/comments", "author": null, "committer": null, "parents": [{"sha": "fc72d1ed3c8b11437981487755a7d6edfaf06d22", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fc72d1ed3c8b11437981487755a7d6edfaf06d22", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fc72d1ed3c8b11437981487755a7d6edfaf06d22"}], "stats": {"total": 25, "additions": 18, "deletions": 7}, "files": [{"sha": "30161a022ea513a6a8823ee2507cc6803ccc63d9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d08c0ea31303046ce5e7da8ba8a2ff112589bc86/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d08c0ea31303046ce5e7da8ba8a2ff112589bc86/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d08c0ea31303046ce5e7da8ba8a2ff112589bc86", "patch": "@@ -1,3 +1,9 @@\n+2016-11-16  Maciej W. Rozycki  <macro@imgtec.com>\n+\n+\t* config/mips/mips.md (casesi_internal_mips16_<mode>): Add\n+\tmissing <d> instruction prefixes throughout.  Correct\n+\tformatting.\n+\n 2016-11-16  Maciej W. Rozycki  <macro@imgtec.com>\n \n \t* config/mips/mips.c (mips_output_jump): Output R_MICROMIPS_JALR"}, {"sha": "0ccee9ead45a729a692a93a13a2632476dcfb89c", "filename": "gcc/config/mips/mips.md", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d08c0ea31303046ce5e7da8ba8a2ff112589bc86/gcc%2Fconfig%2Fmips%2Fmips.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d08c0ea31303046ce5e7da8ba8a2ff112589bc86/gcc%2Fconfig%2Fmips%2Fmips.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.md?ref=d08c0ea31303046ce5e7da8ba8a2ff112589bc86", "patch": "@@ -6424,24 +6424,24 @@\n     {\n     case HImode:\n       output_asm_insn (\"sll\\t%5, %0, 1\", operands);\n-      output_asm_insn (\"la\\t%4, %2\", operands);\n+      output_asm_insn (\"<d>la\\t%4, %2\", operands);\n       output_asm_insn (\"<d>addu\\t%5, %4, %5\", operands);\n       output_asm_insn (\"lh\\t%5, 0(%5)\", operands);\n       break;\n-    \n+\n     case SImode:\n       output_asm_insn (\"sll\\t%5, %0, 2\", operands);\n-      output_asm_insn (\"la\\t%4, %2\", operands);\n+      output_asm_insn (\"<d>la\\t%4, %2\", operands);\n       output_asm_insn (\"<d>addu\\t%5, %4, %5\", operands);\n       output_asm_insn (\"lw\\t%5, 0(%5)\", operands);\n       break;\n \n     default:\n       gcc_unreachable ();\n     }\n-  \n-  output_asm_insn (\"addu\\t%4, %4, %5\", operands);\n-  \n+\n+  output_asm_insn (\"<d>addu\\t%4, %4, %5\", operands);\n+\n   return \"j\\t%4\";\n }\n   [(set_attr \"insn_count\" \"16\")])"}, {"sha": "3707e7c29d2b7948cd8082e185f788bfcfa7f6fa", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d08c0ea31303046ce5e7da8ba8a2ff112589bc86/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d08c0ea31303046ce5e7da8ba8a2ff112589bc86/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d08c0ea31303046ce5e7da8ba8a2ff112589bc86", "patch": "@@ -1,3 +1,8 @@\n+2016-11-16  Maciej W. Rozycki  <macro@imgtec.com>\n+\n+\t* gcc.target/mips/code-readable-4.c (dg-final): Expect `dla'\n+\trather than `la'.\n+\n 2016-11-16  Maciej W. Rozycki  <macro@imgtec.com>\n \n \t* gcc.target/mips/call-1.c (dg-options): Add `-mno-micromips'."}, {"sha": "1a6fdf429be559af1cd655270a20fe5db5a387b9", "filename": "gcc/testsuite/gcc.target/mips/code-readable-4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d08c0ea31303046ce5e7da8ba8a2ff112589bc86/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fcode-readable-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d08c0ea31303046ce5e7da8ba8a2ff112589bc86/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fcode-readable-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fcode-readable-4.c?ref=d08c0ea31303046ce5e7da8ba8a2ff112589bc86", "patch": "@@ -41,7 +41,7 @@ bar (void)\n   return k;\n }\n \n-/* { dg-final { scan-assembler \"\\tla\\t\" } } */\n+/* { dg-final { scan-assembler \"\\tdla\\t\" } } */\n /* { dg-final { scan-assembler \"\\t\\\\.half\\t\" } } */\n /* { dg-final { scan-assembler-not \"%hi\\\\(\\[^)\\]*L\" } } */\n /* { dg-final { scan-assembler-not \"%lo\\\\(\\[^)\\]*L\" } } */"}]}