{"sha": "92777ce4598caa5b17d916e7b0d8bad2fa7a950a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTI3NzdjZTQ1OThjYWE1YjE3ZDkxNmU3YjBkOGJhZDJmYTdhOTUwYQ==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2000-10-06T09:12:44Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2000-10-06T09:12:44Z"}, "message": "pt.c (lookup_template_class): Set current access for enum.\n\n\t* pt.c (lookup_template_class): Set current access for enum.\n\t(tsubst_enum): Set file & line for enum decl.\n\n\t* spew.c (yylex): Remove unused variable.\n\nFrom-SVN: r36755", "tree": {"sha": "764c26a6d5b0fd2a6c60e2278a2693ecbe57aa31", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/764c26a6d5b0fd2a6c60e2278a2693ecbe57aa31"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/92777ce4598caa5b17d916e7b0d8bad2fa7a950a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92777ce4598caa5b17d916e7b0d8bad2fa7a950a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/92777ce4598caa5b17d916e7b0d8bad2fa7a950a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92777ce4598caa5b17d916e7b0d8bad2fa7a950a/comments", "author": null, "committer": null, "parents": [{"sha": "15af0d401a107a3c80981612a5e3711c179a6735", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15af0d401a107a3c80981612a5e3711c179a6735", "html_url": "https://github.com/Rust-GCC/gccrs/commit/15af0d401a107a3c80981612a5e3711c179a6735"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "ef328907259f794e4e81e27bf40876334cf865c2", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/92777ce4598caa5b17d916e7b0d8bad2fa7a950a/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/92777ce4598caa5b17d916e7b0d8bad2fa7a950a/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=92777ce4598caa5b17d916e7b0d8bad2fa7a950a", "patch": "@@ -1,3 +1,10 @@\n+2000-10-06  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* pt.c (lookup_template_class): Set current access for enum.\n+\t(tsubst_enum): Set file & line for enum decl.\n+\t\n+\t* spew.c (yylex): Remove unused variable.\n+\n 2000-10-05  Richard Henderson  <rth@cygnus.com>\n \n \t* semantics.c (genrtl_finish_function): Don't init or check"}, {"sha": "7c12f9c597a64487215426aa5005019e72e5b247", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/92777ce4598caa5b17d916e7b0d8bad2fa7a950a/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/92777ce4598caa5b17d916e7b0d8bad2fa7a950a/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=92777ce4598caa5b17d916e7b0d8bad2fa7a950a", "patch": "@@ -3965,7 +3965,10 @@ lookup_template_class (d1, arglist, in_decl, context, entering_scope)\n       if (TREE_CODE (template_type) == ENUMERAL_TYPE)\n \t{\n \t  if (!is_partial_instantiation)\n-\t    t = start_enum (TYPE_IDENTIFIER (template_type));\n+\t    {\n+\t      set_current_access_from_decl (TYPE_NAME (template_type));\n+\t      t = start_enum (TYPE_IDENTIFIER (template_type));\n+\t    }\n \t  else\n \t    /* We don't want to call start_enum for this type, since\n \t       the values for the enumeration constants may involve\n@@ -9941,6 +9944,8 @@ tsubst_enum (tag, newtag, args)\n     }\n \n   finish_enum (newtag);\n+  DECL_SOURCE_LINE (TYPE_NAME (newtag)) = DECL_SOURCE_LINE (TYPE_NAME (tag));\n+  DECL_SOURCE_FILE (TYPE_NAME (newtag)) = DECL_SOURCE_FILE (TYPE_NAME (tag));\n }\n \n /* DECL is a FUNCTION_DECL that is a template specialization.  Return"}, {"sha": "110fdcaeb23ff6b34b9209ec87283d259b01c13d", "filename": "gcc/cp/spew.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/92777ce4598caa5b17d916e7b0d8bad2fa7a950a/gcc%2Fcp%2Fspew.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/92777ce4598caa5b17d916e7b0d8bad2fa7a950a/gcc%2Fcp%2Fspew.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fspew.c?ref=92777ce4598caa5b17d916e7b0d8bad2fa7a950a", "patch": "@@ -723,7 +723,6 @@ int\n yylex ()\n {\n   int yychr;\n-  tree trrr = NULL_TREE;\n   int old_looking_for_typename = 0;\n \n   timevar_push (TV_LEX);"}]}