{"sha": "b304194493625d75256821be5d2df6a84aaf6cda", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjMwNDE5NDQ5MzYyNWQ3NTI1NjgyMWJlNWQyZGY2YTg0YWFmNmNkYQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2009-05-31T09:36:17Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2009-05-31T09:36:17Z"}, "message": "re PR middle-end/40304 (Revision 147995 breaks stack unwind)\n\n\tPR middle-end/40304\n\t* config/i386/i386.c (pro_epilogue_adjust_stack): Mark insns\n\tframe related even if !set_cfa && style < 0.\n\nFrom-SVN: r148011", "tree": {"sha": "76a15a7310e27e6e605e020b7c59514294aa9cb2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/76a15a7310e27e6e605e020b7c59514294aa9cb2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b304194493625d75256821be5d2df6a84aaf6cda", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b304194493625d75256821be5d2df6a84aaf6cda", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b304194493625d75256821be5d2df6a84aaf6cda", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b304194493625d75256821be5d2df6a84aaf6cda/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e90e03ce50e7037d75dd366c81485e882e092ec0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e90e03ce50e7037d75dd366c81485e882e092ec0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e90e03ce50e7037d75dd366c81485e882e092ec0"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "ef129f57ad88a8cc678fc10d04497b0b1b98bbee", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b304194493625d75256821be5d2df6a84aaf6cda/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b304194493625d75256821be5d2df6a84aaf6cda/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b304194493625d75256821be5d2df6a84aaf6cda", "patch": "@@ -1,3 +1,9 @@\n+2009-05-31  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR middle-end/40304\n+\t* config/i386/i386.c (pro_epilogue_adjust_stack): Mark insns\n+\tframe related even if !set_cfa && style < 0.\n+\n 2009-05-30  Kai Tietz  <kai.tietz@onevision.com>\n \n \t* config/i386/mingw-tls.c: New file."}, {"sha": "c6b388f78b21f4dc3225b0197dc2d274e4ac9915", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b304194493625d75256821be5d2df6a84aaf6cda/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b304194493625d75256821be5d2df6a84aaf6cda/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=b304194493625d75256821be5d2df6a84aaf6cda", "patch": "@@ -8026,6 +8026,8 @@ pro_epilogue_adjust_stack (rtx dest, rtx src, rtx offset,\n       gcc_assert (style);\n       r11 = gen_rtx_REG (DImode, R11_REG);\n       insn = emit_insn (gen_rtx_SET (DImode, r11, offset));\n+      if (style < 0)\n+\tRTX_FRAME_RELATED_P (insn) = 1;\n       insn = emit_insn (gen_pro_epilogue_adjust_stack_rex64_2 (dest, src, r11,\n \t\t\t\t\t\t\t       offset));\n     }\n@@ -8043,6 +8045,8 @@ pro_epilogue_adjust_stack (rtx dest, rtx src, rtx offset,\n       add_reg_note (insn, REG_CFA_ADJUST_CFA, r);\n       RTX_FRAME_RELATED_P (insn) = 1;\n     }\n+  else if (style < 0)\n+    RTX_FRAME_RELATED_P (insn) = 1;\n }\n \n /* Find an available register to be used as dynamic realign argument"}]}