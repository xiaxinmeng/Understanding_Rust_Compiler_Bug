{"sha": "2ee6e04aaecc856bced29711f9765660e0888994", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmVlNmUwNGFhZWNjODU2YmNlZDI5NzExZjk3NjU2NjBlMDg4ODk5NA==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2019-11-09T21:35:35Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2019-11-09T21:35:35Z"}, "message": "ipa-fnsummary.c (evaluate_properties_for_edge): Call IPA_NODE_REF on function symbol.\n\n\n\t* ipa-fnsummary.c (evaluate_properties_for_edge): Call IPA_NODE_REF\n\ton function symbol.\n\t* gcc.dg/tree-ssa/pr46076.c: Make tested code hot.\n\nFrom-SVN: r278009", "tree": {"sha": "a29db5ef16e9a4bbf0e12ba11ad89f0104988425", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a29db5ef16e9a4bbf0e12ba11ad89f0104988425"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2ee6e04aaecc856bced29711f9765660e0888994", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ee6e04aaecc856bced29711f9765660e0888994", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ee6e04aaecc856bced29711f9765660e0888994", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ee6e04aaecc856bced29711f9765660e0888994/comments", "author": null, "committer": null, "parents": [{"sha": "7b22b7cece1c86f75eddc56828b5d9fed5a2ef16", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b22b7cece1c86f75eddc56828b5d9fed5a2ef16", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b22b7cece1c86f75eddc56828b5d9fed5a2ef16"}], "stats": {"total": 22, "additions": 17, "deletions": 5}, "files": [{"sha": "eb80b71668df5e142af39bf5e0b52b017f5ea5bb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ee6e04aaecc856bced29711f9765660e0888994/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ee6e04aaecc856bced29711f9765660e0888994/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2ee6e04aaecc856bced29711f9765660e0888994", "patch": "@@ -1,3 +1,8 @@\n+2019-11-09  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* ipa-fnsummary.c (evaluate_properties_for_edge): Call IPA_NODE_REF\n+\ton function symbol.\n+\n 2019-11-09  Jan Hubicka  <hubicka@ucw.cz>\n \n \t* tree.c (fld_incomplete_type_of): Clear TYPE_FINAL_P, TYPE_EMPTY_P,"}, {"sha": "7b8182766eed7850f15253913d1fb739e8bfa6d0", "filename": "gcc/ipa-fnsummary.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ee6e04aaecc856bced29711f9765660e0888994/gcc%2Fipa-fnsummary.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ee6e04aaecc856bced29711f9765660e0888994/gcc%2Fipa-fnsummary.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-fnsummary.c?ref=2ee6e04aaecc856bced29711f9765660e0888994", "patch": "@@ -474,7 +474,7 @@ evaluate_properties_for_edge (struct cgraph_edge *e, bool inline_p,\n \tcaller_parms_info = IPA_NODE_REF (e->caller->inlined_to);\n       else\n \tcaller_parms_info = IPA_NODE_REF (e->caller);\n-      callee_pi = IPA_NODE_REF (e->callee);\n+      callee_pi = IPA_NODE_REF (callee);\n \n       if (count && (info->conds || known_vals_ptr))\n \tknown_vals.safe_grow_cleared (count);"}, {"sha": "1c9657f36059e8fcf8ccebfbbca0b8c68669e22a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ee6e04aaecc856bced29711f9765660e0888994/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ee6e04aaecc856bced29711f9765660e0888994/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2ee6e04aaecc856bced29711f9765660e0888994", "patch": "@@ -1,3 +1,7 @@\n+2019-11-09  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* gcc.dg/tree-ssa/pr46076.c: Make tested code hot.\n+\n 2019-11-09  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/92401"}, {"sha": "6e5907b499599c2e47c0e3fa5c9790146060f1a5", "filename": "gcc/testsuite/gcc.dg/tree-ssa/pr46076.c", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ee6e04aaecc856bced29711f9765660e0888994/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr46076.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ee6e04aaecc856bced29711f9765660e0888994/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr46076.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr46076.c?ref=2ee6e04aaecc856bced29711f9765660e0888994", "patch": "@@ -19,9 +19,12 @@ main()\n {\n   /* Make sure we perform indirect inlining of one and two and optimize\n      the result to a constant.  */\n-  if (print(one) != 3)\n-    link_error ();\n-  if (print(two) != 5)\n-    link_error ();\n+  for (int i = 0; i < 100; i++)\n+    {\n+      if (print(one) != 3)\n+\tlink_error ();\n+      if (print(two) != 5)\n+\tlink_error ();\n+    }\n   return 0;\n }"}]}