{"sha": "43911ddd18b97d8ebd17d2959f36efa539d359b7", "node_id": "C_kwDOANBUbNoAKDQzOTExZGRkMThiOTdkOGViZDE3ZDI5NTlmMzZlZmE1MzlkMzU5Yjc", "commit": {"author": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2022-03-24T21:34:30Z"}, "committer": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2022-03-26T20:31:30Z"}, "message": "Remove mysterious '-# Defining these options here in addition to common.opt is necessary' command-line option\n\nBefore:\n\n    $ [...]/gcc '-# Defining these options here in addition to common.opt is necessary' -S -x c /dev/null && echo MYSTERIOUS\n    MYSTERIOUS\n\nAfter:\n\n    $ [...]/gcc '-# Defining these options here in addition to common.opt is necessary' -S -x c /dev/null && echo MYSTERIOUS\n    gcc: error: unrecognized command-line option \u2018-# Defining these options here in addition to common.opt is necessary\u2019\n\nThis commit changes:\n\n    --- [...]/build-gcc/gcc/optionlist\t2022-03-24 22:12:07.936746648 +0100\n    +++ [...]/build-gcc/gcc/optionlist\t2022-03-24 22:30:06.976737341 +0100\n    @@ -1,4 +1,3 @@\n    -# Defining these options here in addition to common.opt is necessary\u001c# in order for the default -Wall setting of -Wuse-after-free=2 to take\u001c# effect.\n     ###\u001cDriver\n     -all-warnings\u001cAda AdaWhy AdaSCIL Alias(Wall)\n     -all-warnings\u001cC ObjC C++ ObjC++ Warning Alias(Wall)\n    [...]\n\n    --- [...]/build-gcc/gcc/options.cc\t2022-03-24 22:12:09.548727738 +0100\n    +++ [...]/build-gcc/gcc/options.cc\t2022-03-24 22:30:08.904727249 +0100\n    @@ -3222,15 +3222,6 @@\n     const struct cl_option cl_options[] =\n     {\n      /* [0] = */ {\n    -    \"-# Defining these options here in addition to common.opt is necessary\",\n    -    \"# effect.\",\n    -    NULL,\n    -    NULL,\n    -    NULL, NULL, N_OPTS, N_OPTS, 68, /* .neg_idx = */ -1,\n    -    0,\n    -    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    -    (unsigned short) -1, 0, CLVC_INTEGER, 0, -1, -1 },\n    - /* [1] = */ {\n         \"-###\",\n         NULL,\n         NULL,\n    [...]\n\n..., and re-numbers all following options.\n\n    --- [...]/build-gcc/gcc/options.h\t2022-03-21 23:24:25.894226828 +0100\n    +++ [...]/build-gcc/gcc/options.h\t2022-03-24 22:30:07.288735708 +0100\n    @@ -9753,2118 +9753,2117 @@\n\n     enum opt_code\n     {\n    -  OPT___Defining_these_options_here_in_addition_to_common_opt_is_necessary = 0,/* -# Defining these options here in addition to common.opt is necessary */\n    [...]\n\n..., and likewise re-numbers all following options.\n\nClean-up for commit 671a283636de75f7ed638ee6b01ed2d44361b8b6\n\"Add -Wuse-after-free [PR80532]\".\n\n\tgcc/c-family/\n\t* c.opt: Properly quote comment.", "tree": {"sha": "496207561f39f6ca62b85576ef9e5d4077f86705", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/496207561f39f6ca62b85576ef9e5d4077f86705"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/43911ddd18b97d8ebd17d2959f36efa539d359b7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/43911ddd18b97d8ebd17d2959f36efa539d359b7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/43911ddd18b97d8ebd17d2959f36efa539d359b7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/43911ddd18b97d8ebd17d2959f36efa539d359b7/comments", "author": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "41d1f11f5f693a2a06c65c9467a28dfeb02aed85", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41d1f11f5f693a2a06c65c9467a28dfeb02aed85", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41d1f11f5f693a2a06c65c9467a28dfeb02aed85"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "790d47caf0a2d7ce53e3143d9e6be91d9236e59f", "filename": "gcc/c-family/c.opt", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43911ddd18b97d8ebd17d2959f36efa539d359b7/gcc%2Fc-family%2Fc.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43911ddd18b97d8ebd17d2959f36efa539d359b7/gcc%2Fc-family%2Fc.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2Fc.opt?ref=43911ddd18b97d8ebd17d2959f36efa539d359b7", "patch": "@@ -1377,9 +1377,9 @@ Wunused-const-variable=\n C ObjC C++ ObjC++ Joined RejectNegative UInteger Var(warn_unused_const_variable) Warning LangEnabledBy(C ObjC,Wunused-variable, 1, 0) IntegerRange(0, 2)\n Warn when a const variable is unused.\n \n-# Defining these options here in addition to common.opt is necessary\n-# in order for the default -Wall setting of -Wuse-after-free=2 to take\n-# effect.\n+; Defining these options here in addition to common.opt is necessary\n+; in order for the default -Wall setting of -Wuse-after-free=2 to take\n+; effect.\n \n Wuse-after-free\n LangEnabledBy(C ObjC C++ LTO ObjC++)"}]}