{"sha": "36f1a35f6931f67f7daec5aa7803a6475e8087ca", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzZmMWEzNWY2OTMxZjY3ZjdkYWVjNWFhNzgwM2E2NDc1ZTgwODdjYQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2017-06-21T22:29:58Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2017-06-21T22:29:58Z"}, "message": "compiler: fix missing case in Array_type::get_value_pointer\n    \n    Update the code in Array_type::get_value_pointer that handles\n    \"lvalue\" context to look for both regular var expressions\n    and temp var expressions, since both can appear in array/slice\n    index expressions on the left hand side of assignments.\n    \n    Reviewed-on: https://go-review.googlesource.com/46170\n\nFrom-SVN: r249486", "tree": {"sha": "889baf8014d262a99a61e506c38e8b250ce27e47", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/889baf8014d262a99a61e506c38e8b250ce27e47"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/36f1a35f6931f67f7daec5aa7803a6475e8087ca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36f1a35f6931f67f7daec5aa7803a6475e8087ca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/36f1a35f6931f67f7daec5aa7803a6475e8087ca", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36f1a35f6931f67f7daec5aa7803a6475e8087ca/comments", "author": null, "committer": null, "parents": [{"sha": "3f741f1b6014b8c903e1ddbd8ce1b7394cc301cc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3f741f1b6014b8c903e1ddbd8ce1b7394cc301cc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3f741f1b6014b8c903e1ddbd8ce1b7394cc301cc"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "f6f0c689e766acab1ae1fbe6310dab34678d1dc0", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36f1a35f6931f67f7daec5aa7803a6475e8087ca/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36f1a35f6931f67f7daec5aa7803a6475e8087ca/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=36f1a35f6931f67f7daec5aa7803a6475e8087ca", "patch": "@@ -1,4 +1,4 @@\n-a4b455aa584e0d6e362a88597f11bba1427088e2\n+0b93af68feb0a4135e83dd9e6c11df1563d862a9\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "b9ad41e964414a585b36c5e9aa41acc2d5ac5286", "filename": "gcc/go/gofrontend/types.cc", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36f1a35f6931f67f7daec5aa7803a6475e8087ca/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36f1a35f6931f67f7daec5aa7803a6475e8087ca/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Ftypes.cc?ref=36f1a35f6931f67f7daec5aa7803a6475e8087ca", "patch": "@@ -7635,12 +7635,19 @@ Array_type::get_value_pointer(Gogo*, Expression* array, bool is_lvalue) const\n     {\n       Temporary_reference_expression* tref =\n           array->temporary_reference_expression();\n+      Var_expression* ve = array->var_expression();\n       if (tref != NULL)\n         {\n           tref = tref->copy()->temporary_reference_expression();\n           tref->set_is_lvalue();\n           array = tref;\n         }\n+      else if (ve != NULL)\n+        {\n+          ve = new Var_expression(ve->named_object(), ve->location());\n+          ve->set_in_lvalue_pos();\n+          array = ve;\n+        }\n     }\n \n   return Expression::make_slice_info(array,"}]}