{"sha": "4f0a3098c58f0f9740d3c6f9deb348d04f042575", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGYwYTMwOThjNThmMGY5NzQwZDNjNmY5ZGViMzQ4ZDA0ZjA0MjU3NQ==", "commit": {"author": {"name": "DJ Delorie", "email": "dj@redhat.com", "date": "2001-02-23T23:05:33Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2001-02-23T23:05:33Z"}, "message": "i960.h (FRAME_POINTER_REQUIRED): Revert removal of check for current_function_has_nonlocal_goto from 1999-11-12.\n\n* config/i960/i960.h (FRAME_POINTER_REQUIRED): Revert removal of\ncheck for current_function_has_nonlocal_goto from 1999-11-12.\n\nFrom-SVN: r40018", "tree": {"sha": "b46e91340c6a24eceec2fa21ca053db73308a475", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b46e91340c6a24eceec2fa21ca053db73308a475"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4f0a3098c58f0f9740d3c6f9deb348d04f042575", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f0a3098c58f0f9740d3c6f9deb348d04f042575", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f0a3098c58f0f9740d3c6f9deb348d04f042575", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f0a3098c58f0f9740d3c6f9deb348d04f042575/comments", "author": null, "committer": null, "parents": [{"sha": "fce687f8769fbad7fba74cf9adb985dd5369df01", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fce687f8769fbad7fba74cf9adb985dd5369df01", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fce687f8769fbad7fba74cf9adb985dd5369df01"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "7bb6f8c153609e4dbd124bbfd3675c0b1fe28fd4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0a3098c58f0f9740d3c6f9deb348d04f042575/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0a3098c58f0f9740d3c6f9deb348d04f042575/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4f0a3098c58f0f9740d3c6f9deb348d04f042575", "patch": "@@ -1,3 +1,8 @@\n+2001-02-21  DJ Delorie  <dj@redhat.com>\n+\n+\t* config/i960/i960.h (FRAME_POINTER_REQUIRED): Revert removal of\n+\tcheck for current_function_has_nonlocal_goto from 1999-11-12.\n+\n Fri Feb 23 15:28:39 2001  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \n \t* diagnostic.c (trim_filename): No longer static."}, {"sha": "4c85e95d8e8da921493376a027bba2140c5034ef", "filename": "gcc/config/i960/i960.h", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f0a3098c58f0f9740d3c6f9deb348d04f042575/gcc%2Fconfig%2Fi960%2Fi960.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f0a3098c58f0f9740d3c6f9deb348d04f042575/gcc%2Fconfig%2Fi960%2Fi960.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi960%2Fi960.h?ref=4f0a3098c58f0f9740d3c6f9deb348d04f042575", "patch": "@@ -617,7 +617,12 @@ extern int target_flags;\n /* ??? It isn't clear to me why this is here.  Perhaps because of a bug (since\n    fixed) in the definition of INITIAL_FRAME_POINTER_OFFSET which would have\n    caused this to fail.  */\n-#define FRAME_POINTER_REQUIRED (! leaf_function_p ())\n+/* ??? Must check current_function_has_nonlocal_goto, otherwise frame pointer\n+  elimination messes up nonlocal goto sequences.  I think this works for other\n+  targets because they use indirect jumps for the return which disables fp\n+  elimination.  */\n+#define FRAME_POINTER_REQUIRED \\\n+  (! leaf_function_p () || current_function_has_nonlocal_goto)\n \n /* Definitions for register eliminations.\n "}]}