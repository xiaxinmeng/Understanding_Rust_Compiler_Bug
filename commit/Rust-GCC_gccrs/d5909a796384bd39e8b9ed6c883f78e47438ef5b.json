{"sha": "d5909a796384bd39e8b9ed6c883f78e47438ef5b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDU5MDlhNzk2Mzg0YmQzOWU4YjllZDZjODgzZjc4ZTQ3NDM4ZWY1Yg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2002-09-13T18:01:09Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-09-13T18:01:09Z"}, "message": "alpha.md (attr type): Add callpal.\n\n        * config/alpha/alpha.md (attr type): Add callpal.\n        (imb, trap, load_tp, set_tp): Use it.\n        * config/alpha/ev4.md (ev4_callpal): New.\n        * config/alpha/ev5.md (ev5_callpal): New.\n        * config/alpha/ev6.md (ev6_ibr): Handle callpal.\n        * config/alpha/alpha.c (alphaev4_insn_pipe): Handle TYPE_CALLPAL.\n        (alphaev5_insn_pipe): Likewise.\n\nFrom-SVN: r57113", "tree": {"sha": "7fe0fa0686fd7867ef399d6cfa88c9b1f5d0cba6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7fe0fa0686fd7867ef399d6cfa88c9b1f5d0cba6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d5909a796384bd39e8b9ed6c883f78e47438ef5b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5909a796384bd39e8b9ed6c883f78e47438ef5b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d5909a796384bd39e8b9ed6c883f78e47438ef5b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5909a796384bd39e8b9ed6c883f78e47438ef5b/comments", "author": null, "committer": null, "parents": [{"sha": "e0073fa817569a794f1459b4a41c6da23ac8a7b2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0073fa817569a794f1459b4a41c6da23ac8a7b2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e0073fa817569a794f1459b4a41c6da23ac8a7b2"}], "stats": {"total": 34, "additions": 28, "deletions": 6}, "files": [{"sha": "5a8c3c5215aca35afa0b8ba21a7bf08239f1c5f9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5909a796384bd39e8b9ed6c883f78e47438ef5b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5909a796384bd39e8b9ed6c883f78e47438ef5b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d5909a796384bd39e8b9ed6c883f78e47438ef5b", "patch": "@@ -1,3 +1,13 @@\n+2002-09-13  Richard Henderson  <rth@redhat.com>\n+\n+\t* config/alpha/alpha.md (attr type): Add callpal.\n+\t(imb, trap, load_tp, set_tp): Use it.\n+\t* config/alpha/ev4.md (ev4_callpal): New.\n+\t* config/alpha/ev5.md (ev5_callpal): New.\n+\t* config/alpha/ev6.md (ev6_ibr): Handle callpal.\n+\t* config/alpha/alpha.c (alphaev4_insn_pipe): Handle TYPE_CALLPAL.\n+\t(alphaev5_insn_pipe): Likewise.\n+\n 2002-09-13  Andreas Jaeger  <aj@suse.de>\n \n \t* Makefile.in (print-rtl.o): Depend on CONFIG_H."}, {"sha": "d5b8099718e178de937def8aa6b6e9565fdc6ca3", "filename": "gcc/config/alpha/alpha.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5909a796384bd39e8b9ed6c883f78e47438ef5b/gcc%2Fconfig%2Falpha%2Falpha.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5909a796384bd39e8b9ed6c883f78e47438ef5b/gcc%2Fconfig%2Falpha%2Falpha.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.c?ref=d5909a796384bd39e8b9ed6c883f78e47438ef5b", "patch": "@@ -8376,6 +8376,7 @@ alphaev4_insn_pipe (insn)\n     case TYPE_MISC:\n     case TYPE_IBR:\n     case TYPE_JSR:\n+    case TYPE_CALLPAL:\n     case TYPE_FCPYS:\n     case TYPE_FCMOV:\n     case TYPE_FADD:\n@@ -8418,6 +8419,7 @@ alphaev5_insn_pipe (insn)\n \n     case TYPE_IBR:\n     case TYPE_JSR:\n+    case TYPE_CALLPAL:\n       return EV5_E1;\n \n     case TYPE_FCPYS:"}, {"sha": "b5bc6ff05c4cbfad3343b6ee134c877369529e3f", "filename": "gcc/config/alpha/alpha.md", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5909a796384bd39e8b9ed6c883f78e47438ef5b/gcc%2Fconfig%2Falpha%2Falpha.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5909a796384bd39e8b9ed6c883f78e47438ef5b/gcc%2Fconfig%2Falpha%2Falpha.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.md?ref=d5909a796384bd39e8b9ed6c883f78e47438ef5b", "patch": "@@ -97,7 +97,7 @@\n ;; separately.\n \n (define_attr \"type\"\n-  \"ild,fld,ldsym,ist,fst,ibr,fbr,jsr,iadd,ilog,shift,icmov,fcmov,icmp,imul,\\\n+  \"ild,fld,ldsym,ist,fst,ibr,callpal,fbr,jsr,iadd,ilog,shift,icmov,fcmov,icmp,imul,\\\n fadd,fmul,fcpys,fdiv,fsqrt,misc,mvi,ftoi,itof,multi,none\"\n   (const_string \"iadd\"))\n \n@@ -4866,7 +4866,7 @@ fadd,fmul,fcpys,fdiv,fsqrt,misc,mvi,ftoi,itof,multi,none\"\n   [(unspec_volatile [(const_int 0)] UNSPECV_IMB)]\n   \"\"\n   \"call_pal 0x86\"\n-  [(set_attr \"type\" \"ibr\")])\n+  [(set_attr \"type\" \"callpal\")])\n \n ;; BUGCHK is documented common to OSF/1 and VMS PALcode.\n ;; NT does not document anything at 0x81 -- presumably it would generate\n@@ -4876,7 +4876,7 @@ fadd,fmul,fcpys,fdiv,fsqrt,misc,mvi,ftoi,itof,multi,none\"\n   [(trap_if (const_int 1) (const_int 0))]\n   \"!TARGET_ABI_WINDOWS_NT\"\n   \"call_pal 0x81\"\n-  [(set_attr \"type\" \"ibr\")])\n+  [(set_attr \"type\" \"callpal\")])\n \n ;; For userland, we load the thread pointer from the TCB.\n ;; For the kernel, we load the per-cpu private value.\n@@ -4891,7 +4891,7 @@ fadd,fmul,fcpys,fdiv,fsqrt,misc,mvi,ftoi,itof,multi,none\"\n   else\n     return \"call_pal 0x9e\";\n }\n-  [(set_attr \"type\" \"ibr\")])\n+  [(set_attr \"type\" \"callpal\")])\n \n ;; For completeness, and possibly a __builtin function, here's how to\n ;; set the thread pointer.  Since we don't describe enough of this\n@@ -4913,7 +4913,7 @@ fadd,fmul,fcpys,fdiv,fsqrt,misc,mvi,ftoi,itof,multi,none\"\n   else\n     return \"call_pal 0x9f\";\n }\n-  [(set_attr \"type\" \"ibr\")])\n+  [(set_attr \"type\" \"callpal\")])\n \f\n ;; Finally, we have the basic data motion insns.  The byte and word insns\n ;; are done via define_expand.  Start with the floating-point insns, since"}, {"sha": "41e1efd4cd78394a2e786800155568d3056587be", "filename": "gcc/config/alpha/ev4.md", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5909a796384bd39e8b9ed6c883f78e47438ef5b/gcc%2Fconfig%2Falpha%2Fev4.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5909a796384bd39e8b9ed6c883f78e47438ef5b/gcc%2Fconfig%2Falpha%2Fev4.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Fev4.md?ref=d5909a796384bd39e8b9ed6c883f78e47438ef5b", "patch": "@@ -59,6 +59,11 @@\n        (eq_attr \"type\" \"ibr,jsr\"))\n   \"ev4_ib1+ev4_bbox,ev4_bbox\")\n \n+(define_insn_reservation \"ev4_callpal\" 2\n+  (and (eq_attr \"cpu\" \"ev4\")\n+       (eq_attr \"type\" \"callpal\"))\n+  \"ev4_ib1+ev4_bbox,ev4_bbox\")\n+\n (define_insn_reservation \"ev4_fbr\" 2\n   (and (eq_attr \"cpu\" \"ev4\")\n        (eq_attr \"type\" \"fbr\"))"}, {"sha": "832cf6be8f365a7394d2929c6dbb094ec0d435b0", "filename": "gcc/config/alpha/ev5.md", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5909a796384bd39e8b9ed6c883f78e47438ef5b/gcc%2Fconfig%2Falpha%2Fev5.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5909a796384bd39e8b9ed6c883f78e47438ef5b/gcc%2Fconfig%2Falpha%2Fev5.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Fev5.md?ref=d5909a796384bd39e8b9ed6c883f78e47438ef5b", "patch": "@@ -59,6 +59,11 @@\n        (eq_attr \"type\" \"ibr\"))\n   \"ev5_e1\")\n \n+(define_insn_reservation \"ev5_callpal\" 1\n+  (and (eq_attr \"cpu\" \"ev5\")\n+       (eq_attr \"type\" \"callpal\"))\n+  \"ev5_e1\")\n+\n (define_insn_reservation \"ev5_jsr\" 1\n   (and (eq_attr \"cpu\" \"ev5\")\n        (eq_attr \"type\" \"jsr\"))"}, {"sha": "12204b69d6a7c380763923e5d0a477ada9929223", "filename": "gcc/config/alpha/ev6.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5909a796384bd39e8b9ed6c883f78e47438ef5b/gcc%2Fconfig%2Falpha%2Fev6.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5909a796384bd39e8b9ed6c883f78e47438ef5b/gcc%2Fconfig%2Falpha%2Fev6.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Fev6.md?ref=d5909a796384bd39e8b9ed6c883f78e47438ef5b", "patch": "@@ -113,7 +113,7 @@\n ; Integer branches issue to upper units\n (define_insn_reservation \"ev6_ibr\" 1\n   (and (eq_attr \"cpu\" \"ev6\")\n-       (eq_attr \"type\" \"ibr\"))\n+       (eq_attr \"type\" \"ibr,callpal\"))\n   \"ev6_u\")\n \n ; Calls only issue to L0."}]}