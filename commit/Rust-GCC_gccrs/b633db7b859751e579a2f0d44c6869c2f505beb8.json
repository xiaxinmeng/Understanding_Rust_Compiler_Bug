{"sha": "b633db7b859751e579a2f0d44c6869c2f505beb8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjYzM2RiN2I4NTk3NTFlNTc5YTJmMGQ0NGM2ODY5YzJmNTA1YmViOA==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2006-05-23T00:26:12Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2006-05-23T00:26:12Z"}, "message": "cgraphunit.c (decide_is_function_needed): Also nested functions and functions declared inline can be optimized out at -O0.\n\n\n\t* cgraphunit.c (decide_is_function_needed): Also nested functions\n\tand functions declared inline can be optimized out at -O0.\n\nFrom-SVN: r114008", "tree": {"sha": "ea443ea7cda60dcc11a127388746050b3937dc2e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ea443ea7cda60dcc11a127388746050b3937dc2e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b633db7b859751e579a2f0d44c6869c2f505beb8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b633db7b859751e579a2f0d44c6869c2f505beb8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b633db7b859751e579a2f0d44c6869c2f505beb8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b633db7b859751e579a2f0d44c6869c2f505beb8/comments", "author": null, "committer": null, "parents": [{"sha": "30df044aeafa4d2af106d094b68c1bda78c89839", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30df044aeafa4d2af106d094b68c1bda78c89839", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30df044aeafa4d2af106d094b68c1bda78c89839"}], "stats": {"total": 15, "additions": 12, "deletions": 3}, "files": [{"sha": "988d4f9924ed00ba2ae9e0ab13510401d9602f28", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b633db7b859751e579a2f0d44c6869c2f505beb8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b633db7b859751e579a2f0d44c6869c2f505beb8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b633db7b859751e579a2f0d44c6869c2f505beb8", "patch": "@@ -1,3 +1,8 @@\n+2006-05-23  Jan Hubicka  <jh@suse.cz>\n+\n+\t* cgraphunit.c (decide_is_function_needed): Also nested functions\n+\tand functions declared inline can be optimized out at -O0.\n+\n 2006-05-22  Gerald Pfeifer  <gerald@pfeifer.com>\n \n \t* doc/install.texi (Configuration): Remove reference to CrossGCC"}, {"sha": "8a4d0ec69eb2658303d595d2661f4cd4d9b3506b", "filename": "gcc/cgraphunit.c", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b633db7b859751e579a2f0d44c6869c2f505beb8/gcc%2Fcgraphunit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b633db7b859751e579a2f0d44c6869c2f505beb8/gcc%2Fcgraphunit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraphunit.c?ref=b633db7b859751e579a2f0d44c6869c2f505beb8", "patch": "@@ -219,10 +219,14 @@ decide_is_function_needed (struct cgraph_node *node, tree decl)\n      COMDAT functions that must be output only when they are needed.\n \n      When not optimizing, also output the static functions. (see\n-     PR25962), but don't do so for always_inline functions.\n-     */\n+     PR25962), but don't do so for always_inline functions, functions\n+     declared inline and nested functions.  These was optimized out\n+     in the original implementation and it is unclear whether we want\n+     to change the behaviour here.  */\n   if (((TREE_PUBLIC (decl)\n-\t|| (!optimize && !node->local.disregard_inline_limits))\n+\t|| (!optimize && !node->local.disregard_inline_limits\n+\t    && !DECL_DECLARED_INLINE_P (decl)\n+\t    && !node->origin))\n       && !flag_whole_program)\n       && !DECL_COMDAT (decl) && !DECL_EXTERNAL (decl))\n     return true;"}]}