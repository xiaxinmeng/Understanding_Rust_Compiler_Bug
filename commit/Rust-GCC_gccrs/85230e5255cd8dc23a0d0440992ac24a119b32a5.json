{"sha": "85230e5255cd8dc23a0d0440992ac24a119b32a5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODUyMzBlNTI1NWNkOGRjMjNhMGQwNDQwOTkyYWMyNGExMTliMzJhNQ==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2001-12-13T11:12:56Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2001-12-13T11:12:56Z"}, "message": "locale.cc (locale::locale(const char*)): Deal with locales named \"\".\n\n\n2001-12-13  Benjamin Kosnik  <bkoz@redhat.com>\n\n\tlibstdc++/3679\n\t* src/locale.cc (locale::locale(const char*)): Deal with locales\n\tnamed \"\".\n\t* testsuite/22_locale/ctor_copy_dtor.cc (test01): Modify.\n\nFrom-SVN: r47968", "tree": {"sha": "34053c1f745f059fef6c317154b720c1a1445770", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/34053c1f745f059fef6c317154b720c1a1445770"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/85230e5255cd8dc23a0d0440992ac24a119b32a5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/85230e5255cd8dc23a0d0440992ac24a119b32a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/85230e5255cd8dc23a0d0440992ac24a119b32a5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/85230e5255cd8dc23a0d0440992ac24a119b32a5/comments", "author": null, "committer": null, "parents": [{"sha": "3af44a8e3f77df55f84b12977c1236975ab32b93", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3af44a8e3f77df55f84b12977c1236975ab32b93", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3af44a8e3f77df55f84b12977c1236975ab32b93"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "297034bd1e23a82524eacc36a18707a9514ab8b4", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/85230e5255cd8dc23a0d0440992ac24a119b32a5/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/85230e5255cd8dc23a0d0440992ac24a119b32a5/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=85230e5255cd8dc23a0d0440992ac24a119b32a5", "patch": "@@ -1,3 +1,10 @@\n+2001-12-13  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\tlibstdc++/3679\n+\t* src/locale.cc (locale::locale(const char*)): Deal with locales\n+\tnamed \"\".\n+\t* testsuite/22_locale/ctor_copy_dtor.cc (test01): Modify.\n+\t\n 2001-12-12  Paolo Carlini  <pcarlini@unitus.it>\n \n \t* include/ext/ropeimpl.h (rope::_S_leaf_concat_char_iter,"}, {"sha": "0e899c1d9b3351dc2a1a7ac5623cc527f11a1568", "filename": "libstdc++-v3/src/locale.cc", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/85230e5255cd8dc23a0d0440992ac24a119b32a5/libstdc%2B%2B-v3%2Fsrc%2Flocale.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/85230e5255cd8dc23a0d0440992ac24a119b32a5/libstdc%2B%2B-v3%2Fsrc%2Flocale.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2Flocale.cc?ref=85230e5255cd8dc23a0d0440992ac24a119b32a5", "patch": "@@ -204,6 +204,8 @@ namespace std\n \t_S_initialize(); \n \tif (strcmp(__s, \"C\") == 0 || strcmp(__s, \"POSIX\") == 0)\n \t  (_M_impl = _S_classic)->_M_add_reference();\n+\telse if (strcmp(__s, \"\") == 0)\n+\t  _M_impl = new _Impl(setlocale(LC_ALL, __s), 1);\n \telse\n \t  _M_impl = new _Impl(__s, 1);\n       }"}, {"sha": "bbe3b147ba5c3f1e1421b071d6816ba4b03a670c", "filename": "libstdc++-v3/testsuite/22_locale/ctor_copy_dtor.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/85230e5255cd8dc23a0d0440992ac24a119b32a5/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fctor_copy_dtor.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/85230e5255cd8dc23a0d0440992ac24a119b32a5/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fctor_copy_dtor.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fctor_copy_dtor.cc?ref=85230e5255cd8dc23a0d0440992ac24a119b32a5", "patch": "@@ -126,7 +126,7 @@ void test01()\n   locale loc07(\"\");\n   VERIFY (loc07 != loc01);  \n   VERIFY (loc07 != loc02);  \n-  VERIFY (loc07.name() == \"\");\n+  VERIFY (loc07.name() != \"\");\n   try\n     { locale loc08(static_cast<const char*>(NULL)); }\n   catch(runtime_error& obj)"}]}