{"sha": "0b03b302ae4b9a2785e5011f5fa4c2c198a8eb4b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGIwM2IzMDJhZTRiOWEyNzg1ZTUwMTFmNWZhNGMyYzE5OGE4ZWI0Yg==", "commit": {"author": {"name": "Kai Tietz", "email": "kai.tietz@onevision.com", "date": "2008-04-08T09:38:15Z"}, "committer": {"name": "Kai Tietz", "email": "ktietz@gcc.gnu.org", "date": "2008-04-08T09:38:15Z"}, "message": "Enable trampoline code for nx-protected stack Windows.\n\n\t* config/i386/mingw32.h (ENABLE_EXECUTE_STACK): New.\n\t(MINGW_ENABLE_EXECUTE_STACK): New.\n\t(IN_LIBGCC2): For libgcc include windows.h file for\n\tfunction declarations.\n\nFrom-SVN: r134089", "tree": {"sha": "f19957e71a88b16702e68fd82545ffe23884e346", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f19957e71a88b16702e68fd82545ffe23884e346"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0b03b302ae4b9a2785e5011f5fa4c2c198a8eb4b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b03b302ae4b9a2785e5011f5fa4c2c198a8eb4b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b03b302ae4b9a2785e5011f5fa4c2c198a8eb4b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b03b302ae4b9a2785e5011f5fa4c2c198a8eb4b/comments", "author": null, "committer": null, "parents": [{"sha": "582be0a107e90be99658ff9d7b85b17430cbc864", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/582be0a107e90be99658ff9d7b85b17430cbc864", "html_url": "https://github.com/Rust-GCC/gccrs/commit/582be0a107e90be99658ff9d7b85b17430cbc864"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "05949d1777c7a1772523f9e0e2a9c4d7774c2198", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b03b302ae4b9a2785e5011f5fa4c2c198a8eb4b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b03b302ae4b9a2785e5011f5fa4c2c198a8eb4b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0b03b302ae4b9a2785e5011f5fa4c2c198a8eb4b", "patch": "@@ -1,3 +1,10 @@\n+2008-04-08  Kai Tietz  <kai.tietz@onevision.com>\n+\n+\t* config/i386/mingw32.h (ENABLE_EXECUTE_STACK): New.\n+\t(MINGW_ENABLE_EXECUTE_STACK): New.\n+\t(IN_LIBGCC2): For libgcc include windows.h file for\n+\tfunction declarations.\n+\n 2008-04-08  Hans-Peter Nilsson  <hp@axis.com>\n \n \t* config/cris/cris.c (cris_address_cost): For a PLUS, swap tem1"}, {"sha": "200569ed09065d4d049ee7603641e35fdaa0818b", "filename": "gcc/config/i386/mingw32.h", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b03b302ae4b9a2785e5011f5fa4c2c198a8eb4b/gcc%2Fconfig%2Fi386%2Fmingw32.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b03b302ae4b9a2785e5011f5fa4c2c198a8eb4b/gcc%2Fconfig%2Fi386%2Fmingw32.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fmingw32.h?ref=0b03b302ae4b9a2785e5011f5fa4c2c198a8eb4b", "patch": "@@ -164,6 +164,27 @@ do {\t\t\t\t\t\t         \\\n #undef TARGET_USE_JCR_SECTION\n #define TARGET_USE_JCR_SECTION 1\n \n+#undef MINGW_ENABLE_EXECUTE_STACK\n+#define MINGW_ENABLE_EXECUTE_STACK     \\\n+extern void __enable_execute_stack (void *);    \\\n+void         \\\n+__enable_execute_stack (void *addr)\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\t\\\n+  MEMORY_BASIC_INFORMATION b;\t\t\t\t\t\t\\\n+  if (!VirtualQuery (addr, &b, sizeof(b)))\t\t\t\t\\\n+    abort ();\t\t\t\t\t\t\t\t\\\n+  VirtualProtect (b.BaseAddress, b.RegionSize, PAGE_EXECUTE_READWRITE,\t\\\n+\t\t  &b.Protect);\t\t\t\t\t\t\\\n+}\n+\n+#undef ENABLE_EXECUTE_STACK\n+#define ENABLE_EXECUTE_STACK MINGW_ENABLE_EXECUTE_STACK\n+\n+\n+#ifdef IN_LIBGCC2\n+#include <windows.h>\n+#endif\n+\n #if !TARGET_64BIT\n #define MD_UNWIND_SUPPORT \"config/i386/w32-unwind.h\"\n #endif"}]}