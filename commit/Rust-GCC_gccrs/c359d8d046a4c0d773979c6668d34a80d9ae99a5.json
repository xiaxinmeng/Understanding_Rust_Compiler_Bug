{"sha": "c359d8d046a4c0d773979c6668d34a80d9ae99a5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzM1OWQ4ZDA0NmE0YzBkNzczOTc5YzY2NjhkMzRhODBkOWFlOTlhNQ==", "commit": {"author": {"name": "Dinar Temirbulatov", "email": "dinar@kugelworks.com", "date": "2013-05-31T23:20:17Z"}, "committer": {"name": "Dinar Temirbulatov", "email": "dinar@gcc.gnu.org", "date": "2013-05-31T23:20:17Z"}, "message": "re PR rtl-optimization/57268 (c nested loops hang compiler in sched-deps.c)\n\n2013-05-31  Dinar Temirbulatov  <dinar@kugelworks.com>\n\n        PR rtl-optimization/57268\n        * sched-deps.c (sched_analyze_2): Flush dependence lists if\n        the sum of the read and write lists exceeds MAX_PENDING_LIST_LENGTH.\n\nFrom-SVN: r199564", "tree": {"sha": "edd8376734de32bbfe9406a6aae957335d439222", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/edd8376734de32bbfe9406a6aae957335d439222"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c359d8d046a4c0d773979c6668d34a80d9ae99a5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c359d8d046a4c0d773979c6668d34a80d9ae99a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c359d8d046a4c0d773979c6668d34a80d9ae99a5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c359d8d046a4c0d773979c6668d34a80d9ae99a5/comments", "author": null, "committer": null, "parents": [{"sha": "dc801ca2dea2817571043270854c5c2261fb4874", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc801ca2dea2817571043270854c5c2261fb4874", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dc801ca2dea2817571043270854c5c2261fb4874"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "39f24a65819d843b178a1bdbf921e3636ebc2f2a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c359d8d046a4c0d773979c6668d34a80d9ae99a5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c359d8d046a4c0d773979c6668d34a80d9ae99a5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c359d8d046a4c0d773979c6668d34a80d9ae99a5", "patch": "@@ -1,3 +1,9 @@\n+2013-05-31  Dinar Temirbulatov  <dinar@kugelworks.com>\n+\n+\tPR rtl-optimization/57268\n+\t* sched-deps.c (sched_analyze_2): Flush dependence lists if\n+\tthe sum of the read and write lists exceeds MAX_PENDING_LIST_LENGTH.\n+\n 2013-05-31  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* config/rs6000/predicates.md (rs6000_cbranch_operator): Accept some"}, {"sha": "190fd4eb4bf19ee9b2cebe2f92a306aa599c17f6", "filename": "gcc/sched-deps.c", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c359d8d046a4c0d773979c6668d34a80d9ae99a5/gcc%2Fsched-deps.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c359d8d046a4c0d773979c6668d34a80d9ae99a5/gcc%2Fsched-deps.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsched-deps.c?ref=c359d8d046a4c0d773979c6668d34a80d9ae99a5", "patch": "@@ -2690,8 +2690,14 @@ sched_analyze_2 (struct deps_desc *deps, rtx x, rtx insn)\n \n \t/* Always add these dependencies to pending_reads, since\n \t   this insn may be followed by a write.  */\n-        if (!deps->readonly)\n-          add_insn_mem_dependence (deps, true, insn, x);\n+\tif (!deps->readonly)\n+\t  {\n+\t    if ((deps->pending_read_list_length\n+\t\t + deps->pending_write_list_length)\n+\t\t> MAX_PENDING_LIST_LENGTH)\n+\t      flush_pending_lists (deps, insn, true, true);\n+\t    add_insn_mem_dependence (deps, true, insn, x);\n+\t}\n \n \tsched_analyze_2 (deps, XEXP (x, 0), insn);\n "}]}