{"sha": "78e5ce9f1eb789154f083296ae85a7582bc36a97", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzhlNWNlOWYxZWI3ODkxNTRmMDgzMjk2YWU4NWE3NTgyYmMzNmE5Nw==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2011-10-02T14:28:18Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2011-10-02T14:28:18Z"}, "message": "* ipa-inline-analysis.c (inline_summary_alloc): Bounds check.\n\nFrom-SVN: r179428", "tree": {"sha": "871d28c20325f9dbd041d7fdb47759d76fd6e9a1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/871d28c20325f9dbd041d7fdb47759d76fd6e9a1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/78e5ce9f1eb789154f083296ae85a7582bc36a97", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/78e5ce9f1eb789154f083296ae85a7582bc36a97", "html_url": "https://github.com/Rust-GCC/gccrs/commit/78e5ce9f1eb789154f083296ae85a7582bc36a97", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/78e5ce9f1eb789154f083296ae85a7582bc36a97/comments", "author": null, "committer": null, "parents": [{"sha": "1c52c601483ef72fe462626b373599bb8118e6a0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1c52c601483ef72fe462626b373599bb8118e6a0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1c52c601483ef72fe462626b373599bb8118e6a0"}], "stats": {"total": 22, "additions": 13, "deletions": 9}, "files": [{"sha": "b8eef47ef207c1ee805cf663570c22c4ed141645", "filename": "gcc/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78e5ce9f1eb789154f083296ae85a7582bc36a97/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78e5ce9f1eb789154f083296ae85a7582bc36a97/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=78e5ce9f1eb789154f083296ae85a7582bc36a97", "patch": "@@ -1,5 +1,7 @@\n 2011-10-02  Jan Hubicka  <jh@suse.cz>\n \n+\t* ipa-inline-analysis.c (inline_summary_alloc): Bounds check.\n+\n \t* ipa-inline-analysis.c (reset_inline_edge_summary): New function.\n \t(reset_inline_summary): New function.\n \t(compute_inline_parameters, inline_node_removal_hook,"}, {"sha": "8499cb57f4202dd94c55388aaf24a9ee9a587187", "filename": "gcc/ipa-inline-analysis.c", "status": "modified", "additions": 11, "deletions": 9, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78e5ce9f1eb789154f083296ae85a7582bc36a97/gcc%2Fipa-inline-analysis.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78e5ce9f1eb789154f083296ae85a7582bc36a97/gcc%2Fipa-inline-analysis.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-inline-analysis.c?ref=78e5ce9f1eb789154f083296ae85a7582bc36a97", "patch": "@@ -795,13 +795,17 @@ inline_summary_alloc (void)\n static void\n reset_inline_edge_summary (struct cgraph_edge *e)\n {\n-  struct inline_edge_summary *es = inline_edge_summary (e);\n+  if (e->uid\n+      < (int)VEC_length (inline_edge_summary_t, inline_edge_summary_vec))\n+    {\n+      struct inline_edge_summary *es = inline_edge_summary (e);\n \n-  es->call_stmt_size = es->call_stmt_time =0;\n-  if (es->predicate)\n-    pool_free (edge_predicate_pool, es->predicate);\n-  es->predicate = NULL;\n-  VEC_free (inline_param_summary_t, heap, es->param);\n+      es->call_stmt_size = es->call_stmt_time =0;\n+      if (es->predicate)\n+\tpool_free (edge_predicate_pool, es->predicate);\n+      es->predicate = NULL;\n+      VEC_free (inline_param_summary_t, heap, es->param);\n+    }\n }\n \n /* We are called multiple time for given function; clear\n@@ -1044,9 +1048,7 @@ inline_edge_removal_hook (struct cgraph_edge *edge, void *data ATTRIBUTE_UNUSED)\n {\n   if (edge_growth_cache)\n     reset_edge_growth_cache (edge);\n-  if (edge->uid\n-      < (int)VEC_length (inline_edge_summary_t, inline_edge_summary_vec))\n-    reset_inline_edge_summary (edge);\n+  reset_inline_edge_summary (edge);\n }\n \n "}]}