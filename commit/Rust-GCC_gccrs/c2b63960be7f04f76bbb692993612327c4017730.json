{"sha": "c2b63960be7f04f76bbb692993612327c4017730", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzJiNjM5NjBiZTdmMDRmNzZiYmI2OTI5OTM2MTIzMjdjNDAxNzczMA==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@cygnus.com", "date": "2000-05-20T10:28:17Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2000-05-20T10:28:17Z"}, "message": "fold-const.c (make_range): Handle degenerated intervals.\n\n* fold-const.c (make_range): Handle degenerated intervals.\nFixes c-torture/execute/991221-1.c\n\nFrom-SVN: r34045", "tree": {"sha": "213b9a374f52b0b63a22f2294f698269152ff75d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/213b9a374f52b0b63a22f2294f698269152ff75d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c2b63960be7f04f76bbb692993612327c4017730", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2b63960be7f04f76bbb692993612327c4017730", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2b63960be7f04f76bbb692993612327c4017730", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2b63960be7f04f76bbb692993612327c4017730/comments", "author": null, "committer": null, "parents": [{"sha": "469c2b9cac77f4f8333589cc254d9220e59478e6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/469c2b9cac77f4f8333589cc254d9220e59478e6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/469c2b9cac77f4f8333589cc254d9220e59478e6"}], "stats": {"total": 18, "additions": 16, "deletions": 2}, "files": [{"sha": "72709d2b851fdcc8039be27ab742e32338cdd8ac", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2b63960be7f04f76bbb692993612327c4017730/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2b63960be7f04f76bbb692993612327c4017730/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c2b63960be7f04f76bbb692993612327c4017730", "patch": "@@ -1,3 +1,8 @@\n+Sat May 20 07:27:35 2000  Alexandre Oliva  <aoliva@cygnus.com>\n+\n+\t* fold-const.c (make_range): Handle degenerated intervals.\n+\tFixes c-torture/execute/991221-1.c\n+\n Fri May 19 18:16:31 2000  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \n \t* cse.c (cse_basic_block): Only call find_reg_note if REG_NOTES not 0."}, {"sha": "12a8d1a7a4064d8286a95626ae0164b63eeceff1", "filename": "gcc/fold-const.c", "status": "modified", "additions": 11, "deletions": 2, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2b63960be7f04f76bbb692993612327c4017730/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2b63960be7f04f76bbb692993612327c4017730/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=c2b63960be7f04f76bbb692993612327c4017730", "patch": "@@ -3455,8 +3455,17 @@ make_range (exp, pin_p, plow, phigh)\n \t      low = range_binop (PLUS_EXPR, type, n_high, 0,\n \t\t\t\t integer_one_node, 0);\n \t      high = range_binop (MINUS_EXPR, type, n_low, 0,\n-\t\t\t\t integer_one_node, 0);\n-\t      in_p = ! in_p;\n+\t\t\t\t  integer_one_node, 0);\n+\n+\t      /* If the range is of the form +/- [ x+1, x ], we won't\n+\t\t be able to normalize it.  But then, it represents the\n+\t\t whole range or the empty set, so make it\n+\t\t +/- [ -, - ].  */\n+\t      if (tree_int_cst_equal (n_low, low)\n+\t\t  && tree_int_cst_equal (n_high, high))\n+\t\tlow = high = 0;\n+\t      else\n+\t\tin_p = ! in_p;\n \t    }\n \t  else\n \t    low = n_low, high = n_high;"}]}