{"sha": "ab2fd9953bad95e662e70215b955d13db538fd2d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWIyZmQ5OTUzYmFkOTVlNjYyZTcwMjE1Yjk1NWQxM2RiNTM4ZmQyZA==", "commit": {"author": {"name": "Richard Sandiford", "email": "rdsandiford@googlemail.com", "date": "2011-09-17T06:43:55Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2011-09-17T06:43:55Z"}, "message": "itanium2.md: Use match_test rather than eq/ne symbol_ref throughout file.\n\ngcc/\n\t* config/ia64/itanium2.md: Use match_test rather than eq/ne symbol_ref\n\tthroughout file.\n\nFrom-SVN: r178926", "tree": {"sha": "74d99b4f5e69d31adb0937645b536357176180f7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/74d99b4f5e69d31adb0937645b536357176180f7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ab2fd9953bad95e662e70215b955d13db538fd2d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab2fd9953bad95e662e70215b955d13db538fd2d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab2fd9953bad95e662e70215b955d13db538fd2d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab2fd9953bad95e662e70215b955d13db538fd2d/comments", "author": {"login": "rsandifo", "id": 4235983, "node_id": "MDQ6VXNlcjQyMzU5ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/4235983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo", "html_url": "https://github.com/rsandifo", "followers_url": "https://api.github.com/users/rsandifo/followers", "following_url": "https://api.github.com/users/rsandifo/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo/orgs", "repos_url": "https://api.github.com/users/rsandifo/repos", "events_url": "https://api.github.com/users/rsandifo/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f68bef12ab1efd25ae1a5aebc8438cebb1946f87", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f68bef12ab1efd25ae1a5aebc8438cebb1946f87", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f68bef12ab1efd25ae1a5aebc8438cebb1946f87"}], "stats": {"total": 227, "additions": 116, "deletions": 111}, "files": [{"sha": "3474e297a174b8b9865637d000b9719d1e0d1f8c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab2fd9953bad95e662e70215b955d13db538fd2d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab2fd9953bad95e662e70215b955d13db538fd2d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ab2fd9953bad95e662e70215b955d13db538fd2d", "patch": "@@ -1,3 +1,8 @@\n+2011-09-17  Richard Sandiford  <rdsandiford@googlemail.com>\n+\n+\t* config/ia64/itanium2.md: Use match_test rather than eq/ne symbol_ref\n+\tthroughout file.\n+\n 2011-09-16  David S. Miller  <davem@davemloft.net>\n \n \t* config/sparc/visintrin.h: New file."}, {"sha": "33074f99f6d47b597b764320a504db4d7c4dbcd3", "filename": "gcc/config/ia64/itanium2.md", "status": "modified", "additions": 111, "deletions": 111, "changes": 222, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab2fd9953bad95e662e70215b955d13db538fd2d/gcc%2Fconfig%2Fia64%2Fitanium2.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab2fd9953bad95e662e70215b955d13db538fd2d/gcc%2Fconfig%2Fia64%2Fitanium2.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Fitanium2.md?ref=ab2fd9953bad95e662e70215b955d13db538fd2d", "patch": "@@ -710,294 +710,294 @@\n (define_insn_reservation \"2_stop_bit\" 0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"stop_bit\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_stop|2_m0_stop|2_m1_stop|2_mi0_stop|2_mi1_stop\")\n \n (define_insn_reservation \"2_br\"      0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"br\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0))) \"2_B\")\n+       (not (match_test \"bundling_p\"))) \"2_B\")\n (define_insn_reservation \"2_scall\"   0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"scall\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0))) \"2_B\")\n+       (not (match_test \"bundling_p\"))) \"2_B\")\n (define_insn_reservation \"2_fcmp\"    2\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"fcmp\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0))) \"2_F\")\n+       (not (match_test \"bundling_p\"))) \"2_F\")\n (define_insn_reservation \"2_fcvtfx\"  4\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"fcvtfx\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0))) \"2_F\")\n+       (not (match_test \"bundling_p\"))) \"2_F\")\n (define_insn_reservation \"2_fld\"     6\n   (and (and (and (and (eq_attr \"cpu\" \"itanium2\")\n                       (eq_attr \"itanium_class\" \"fld\"))\n                  (eq_attr \"data_speculative\" \"no\"))\n             (eq_attr \"check_load\" \"no\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_M\")\n (define_insn_reservation \"2_flda\"    6\n   (and (and (and (eq_attr \"cpu\" \"itanium2\")\n                  (eq_attr \"itanium_class\" \"fld\"))\n             (eq_attr \"data_speculative\" \"yes\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_M_only_um01\")\n (define_insn_reservation \"2_fldc\"    0\n   (and (and (and (eq_attr \"cpu\" \"itanium2\")\n                  (eq_attr \"itanium_class\" \"fld\"))\n             (eq_attr \"check_load\" \"yes\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_M_only_um01\")\n \n (define_insn_reservation \"2_fldp\"    6\n   (and (and (and (eq_attr \"cpu\" \"itanium2\")\n \t\t (eq_attr \"itanium_class\" \"fldp\"))\n \t    (eq_attr \"check_load\" \"no\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_M_only_um01\")\n (define_insn_reservation \"2_fldpc\"   0\n   (and (and (and (eq_attr \"cpu\" \"itanium2\")\n \t\t (eq_attr \"itanium_class\" \"fldp\"))\n \t    (eq_attr \"check_load\" \"yes\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_M_only_um01\")\n \n (define_insn_reservation \"2_fmac\"    4\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"fmac\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0))) \"2_F\")\n+       (not (match_test \"bundling_p\"))) \"2_F\")\n (define_insn_reservation \"2_fmisc\"   4\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"fmisc\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0))) \"2_F\")\n+       (not (match_test \"bundling_p\"))) \"2_F\")\n \n ;; There is only one insn `mov = ar.bsp' for frar_i:\n ;; Latency time ???\n (define_insn_reservation \"2_frar_i\" 13\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"frar_i\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_I+2_only_ui0\")\n ;; There is only two insns `mov = ar.unat' or `mov = ar.ccv' for frar_m:\n ;; Latency time ???\n (define_insn_reservation \"2_frar_m\"  6\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"frar_m\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_M_only_um2\")\n (define_insn_reservation \"2_frbr\"    2\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"frbr\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_I+2_only_ui0\")\n (define_insn_reservation \"2_frfr\"    5\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"frfr\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_M_only_um2\")\n (define_insn_reservation \"2_frpr\"    2\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"frpr\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_I+2_only_ui0\")\n \n (define_insn_reservation \"2_ialu\"      1\n     (and (and (eq_attr \"cpu\" \"itanium2\")\n               (eq_attr \"itanium_class\" \"ialu\"))\n-         (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+         (not (match_test \"bundling_p\")))\n     \"2_A\")\n (define_insn_reservation \"2_icmp\"    1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"icmp\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0))) \"2_A\")\n+       (not (match_test \"bundling_p\"))) \"2_A\")\n (define_insn_reservation \"2_ilog\"    1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"ilog\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0))) \"2_A\")\n+       (not (match_test \"bundling_p\"))) \"2_A\")\n (define_insn_reservation \"2_mmalua\"  2\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"mmalua\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0))) \"2_A\")\n+       (not (match_test \"bundling_p\"))) \"2_A\")\n ;; Latency time ???\n (define_insn_reservation \"2_ishf\"    1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"ishf\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_I+2_only_ui0\")\n \n (define_insn_reservation \"2_ld\"      1\n   (and (and (and (eq_attr \"cpu\" \"itanium2\")\n                  (eq_attr \"itanium_class\" \"ld\"))\n             (eq_attr \"check_load\" \"no\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_M_only_um01\")\n (define_insn_reservation \"2_ldc\"     0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"check_load\" \"yes\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_M_only_um01\")\n \n (define_insn_reservation \"2_long_i\"  1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"long_i\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0))) \"2_L\")\n+       (not (match_test \"bundling_p\"))) \"2_L\")\n \n (define_insn_reservation \"2_mmmul\"   2\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"mmmul\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_I+2_only_ui0\")\n ;; Latency time ???\n (define_insn_reservation \"2_mmshf\"   2\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"mmshf\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0))) \"2_I\")\n+       (not (match_test \"bundling_p\"))) \"2_I\")\n ;; Latency time ???\n (define_insn_reservation \"2_mmshfi\"  1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"mmshfi\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0))) \"2_I\")\n+       (not (match_test \"bundling_p\"))) \"2_I\")\n \n ;; Now we have only one insn (flushrs) of such class.  We assume that flushrs\n ;; is the 1st syllable of the bundle after stop bit.\n (define_insn_reservation \"2_rse_m\"   0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"rse_m\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"(2_0m.ii|2_0m.mi|2_0m.fi|2_0m.mf|2_0m.bb\\\n     |2_0m.ib|2_0m.mb|2_0m.fb|2_0m.lx)+2_um0\")\n (define_insn_reservation \"2_sem\"     0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"sem\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_M_only_um23\")\n \n (define_insn_reservation \"2_stf\"     1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"stf\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_M_only_um23\")\n (define_insn_reservation \"2_st\"      1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"st\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_M_only_um23\")\n (define_insn_reservation \"2_syst_m0\" 0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"syst_m0\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_M_only_um2\")\n (define_insn_reservation \"2_syst_m\"  0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"syst_m\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_M_only_um0\")\n ;; Reservation???\n (define_insn_reservation \"2_tbit\"    1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"tbit\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_I+2_only_ui0\")\n \n ;; There is only ony insn `mov ar.pfs =' for toar_i:\n (define_insn_reservation \"2_toar_i\"  0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"toar_i\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_I+2_only_ui0\")\n ;; There are only ony 2 insns `mov ar.ccv =' and `mov ar.unat =' for toar_m:\n ;; Latency time ???\n (define_insn_reservation \"2_toar_m\"  5\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"toar_m\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_M_only_um2\")\n ;; Latency time ???\n (define_insn_reservation \"2_tobr\"    1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"tobr\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_I+2_only_ui0\")\n (define_insn_reservation \"2_tofr\"    5\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"tofr\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_M_only_um23\")\n ;; Latency time ???\n (define_insn_reservation \"2_topr\"    1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"topr\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_I+2_only_ui0\")\n \n (define_insn_reservation \"2_xmpy\"    4\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"xmpy\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0))) \"2_F\")\n+       (not (match_test \"bundling_p\"))) \"2_F\")\n ;; Latency time ???\n (define_insn_reservation \"2_xtd\"     1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"xtd\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0))) \"2_I\")\n+       (not (match_test \"bundling_p\"))) \"2_I\")\n \n (define_insn_reservation \"2_chk_s_i\" 0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"chk_s_i\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_I|2_M_only_um23\")\n (define_insn_reservation \"2_chk_s_f\" 0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"chk_s_f\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_M_only_um23\")\n (define_insn_reservation \"2_chk_a\"   0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"chk_a\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_M_only_um01\")\n \n (define_insn_reservation \"2_lfetch\"  0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"lfetch\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_M_only_um01\")\n \n (define_insn_reservation \"2_nop_m\"   0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"nop_m\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0))) \"2_M0\")\n+       (not (match_test \"bundling_p\"))) \"2_M0\")\n (define_insn_reservation \"2_nop_b\"   0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"nop_b\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0))) \"2_NB\")\n+       (not (match_test \"bundling_p\"))) \"2_NB\")\n (define_insn_reservation \"2_nop_i\"   0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"nop_i\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0))) \"2_I0\")\n+       (not (match_test \"bundling_p\"))) \"2_I0\")\n (define_insn_reservation \"2_nop_f\"   0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"nop_f\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0))) \"2_F0\")\n+       (not (match_test \"bundling_p\"))) \"2_F0\")\n (define_insn_reservation \"2_nop_x\"   0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"nop_x\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0))) \"2_L0\")\n+       (not (match_test \"bundling_p\"))) \"2_L0\")\n \n (define_insn_reservation \"2_unknown\" 1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"unknown\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0))) \"2_empty\")\n+       (not (match_test \"bundling_p\"))) \"2_empty\")\n \n (define_insn_reservation \"2_nop\" 0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"nop\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+       (not (match_test \"bundling_p\")))\n   \"2_M0|2_NB|2_I0|2_F0\")\n \n (define_insn_reservation \"2_ignore\" 0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"ignore\"))\n-       (eq (symbol_ref \"bundling_p\") (const_int 0))) \"nothing\")\n+       (not (match_test \"bundling_p\"))) \"nothing\")\n \n (define_cpu_unit \"2_m_cont_only, 2_b_cont_only\" \"two\")\n (define_cpu_unit \"2_mi_cont_only, 2_mm_cont_only, 2_mf_cont_only\" \"two\")\n@@ -1029,13 +1029,13 @@\n (define_insn_reservation \"2_pre_cycle\" 0\n    (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"pre_cycle\"))\n-        (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+        (not (match_test \"bundling_p\")))\n                          \"nothing\")\n \n ;;(define_insn_reservation \"2_pre_cycle\" 0\n ;;   (and (and (eq_attr \"cpu\" \"itanium2\")\n ;;             (eq_attr \"itanium_class\" \"pre_cycle\"))\n-;;        (eq (symbol_ref \"bundling_p\") (const_int 0)))\n+;;        (not (match_test \"bundling_p\")))\n ;;                         \"(2_0m_bs, 2_m_cont)                     \\\n ;;                          | (2_0mi_bs, (2_mi_cont|nothing))       \\\n ;;                          | (2_0mm_bs, 2_mm_cont)                 \\\n@@ -1565,289 +1565,289 @@\n (define_insn_reservation \"2b_stop_bit\" 0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"stop_bit\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_stop|2b_m0_stop|2b_m1_stop|2b_mi0_stop|2b_mi1_stop\")\n (define_insn_reservation \"2b_br\"      0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"br\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0))) \"2b_B\")\n+       (match_test \"bundling_p\")) \"2b_B\")\n (define_insn_reservation \"2b_scall\"   0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"scall\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0))) \"2b_B\")\n+       (match_test \"bundling_p\")) \"2b_B\")\n (define_insn_reservation \"2b_fcmp\"    2\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"fcmp\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0))) \"2b_F\")\n+       (match_test \"bundling_p\")) \"2b_F\")\n (define_insn_reservation \"2b_fcvtfx\"  4\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"fcvtfx\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0))) \"2b_F\")\n+       (match_test \"bundling_p\")) \"2b_F\")\n (define_insn_reservation \"2b_fld\"     6\n   (and (and (and (and (eq_attr \"cpu\" \"itanium2\")\n                       (eq_attr \"itanium_class\" \"fld\"))\n                  (eq_attr \"data_speculative\" \"no\"))\n             (eq_attr \"check_load\" \"no\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_M\")\n (define_insn_reservation \"2b_flda\"    6\n   (and (and (and (eq_attr \"cpu\" \"itanium2\")\n                  (eq_attr \"itanium_class\" \"fld\"))\n             (eq_attr \"data_speculative\" \"yes\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_M_only_um01\")\n (define_insn_reservation \"2b_fldc\"    0\n   (and (and (and (eq_attr \"cpu\" \"itanium2\")\n                  (eq_attr \"itanium_class\" \"fld\"))\n             (eq_attr \"check_load\" \"yes\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_M_only_um01\")\n \n (define_insn_reservation \"2b_fldp\"    6\n   (and (and (and (eq_attr \"cpu\" \"itanium2\")\n \t\t (eq_attr \"itanium_class\" \"fldp\"))\n \t    (eq_attr \"check_load\" \"no\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_M_only_um01\")\n (define_insn_reservation \"2b_fldpc\"   0\n   (and (and (and (eq_attr \"cpu\" \"itanium2\")\n \t\t (eq_attr \"itanium_class\" \"fldp\"))\n \t    (eq_attr \"check_load\" \"yes\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_M_only_um01\")\n \n (define_insn_reservation \"2b_fmac\"    4\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"fmac\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0))) \"2b_F\")\n+       (match_test \"bundling_p\")) \"2b_F\")\n (define_insn_reservation \"2b_fmisc\"   4\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"fmisc\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0))) \"2b_F\")\n+       (match_test \"bundling_p\")) \"2b_F\")\n \n ;; Latency time ???\n (define_insn_reservation \"2b_frar_i\" 13\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"frar_i\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_I+2b_only_ui0\")\n ;; Latency time ???\n (define_insn_reservation \"2b_frar_m\"  6\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"frar_m\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_M_only_um2\")\n (define_insn_reservation \"2b_frbr\"    2\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"frbr\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_I+2b_only_ui0\")\n (define_insn_reservation \"2b_frfr\"    5\t\t\t\t  \n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"frfr\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_M_only_um2\")\n (define_insn_reservation \"2b_frpr\"    2\t\t\t\t  \n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"frpr\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_I+2b_only_ui0\")\n \n (define_insn_reservation \"2b_ialu\"      1\n     (and (and (eq_attr \"cpu\" \"itanium2\")\n               (eq_attr \"itanium_class\" \"ialu\"))\n-         (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+         (match_test \"bundling_p\"))\n     \"2b_A\")\n (define_insn_reservation \"2b_icmp\"    1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"icmp\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0))) \"2b_A\")\n+       (match_test \"bundling_p\")) \"2b_A\")\n (define_insn_reservation \"2b_ilog\"    1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"ilog\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0))) \"2b_A\")\n+       (match_test \"bundling_p\")) \"2b_A\")\n (define_insn_reservation \"2b_mmalua\"  2\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"mmalua\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0))) \"2b_A\")\n+       (match_test \"bundling_p\")) \"2b_A\")\n ;; Latency time ???\n (define_insn_reservation \"2b_ishf\"    1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"ishf\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_I+2b_only_ui0\")\n \n (define_insn_reservation \"2b_ld\"      1\n   (and (and (and (eq_attr \"cpu\" \"itanium2\")\n                  (eq_attr \"itanium_class\" \"ld\"))\n             (eq_attr \"check_load\" \"no\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_M_only_um01\")\n (define_insn_reservation \"2b_ldc\"     0\n   (and (and (and (eq_attr \"cpu\" \"itanium2\")\n                  (eq_attr \"itanium_class\" \"ld\"))\n             (eq_attr \"check_load\" \"yes\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_M_only_um01\")\n \n (define_insn_reservation \"2b_long_i\"  1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"long_i\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0))) \"2b_L\")\n+       (match_test \"bundling_p\")) \"2b_L\")\n \n ;; Latency time ???\n (define_insn_reservation \"2b_mmmul\"   2\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"mmmul\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_I+2b_only_ui0\")\n ;; Latency time ???\n (define_insn_reservation \"2b_mmshf\"   2\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"mmshf\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0))) \"2b_I\")\n+       (match_test \"bundling_p\")) \"2b_I\")\n ;; Latency time ???\n (define_insn_reservation \"2b_mmshfi\"  1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"mmshfi\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0))) \"2b_I\")\n+       (match_test \"bundling_p\")) \"2b_I\")\n \n (define_insn_reservation \"2b_rse_m\"   0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"rse_m\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n    \"(2b_0m.ii|2b_0m.mi|2b_0m.fi|2b_0m.mf|2b_0m.bb\\\n      |2b_0m.ib|2b_0m.mb|2b_0m.fb|2b_0m.lx)+2_1+2b_um0\")\n (define_insn_reservation \"2b_sem\"     0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"sem\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_M_only_um23\")\n \n (define_insn_reservation \"2b_stf\"     1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"stf\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_M_only_um23\")\n (define_insn_reservation \"2b_st\"      1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"st\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_M_only_um23\")\n (define_insn_reservation \"2b_syst_m0\" 0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"syst_m0\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_M_only_um2\")\n (define_insn_reservation \"2b_syst_m\"  0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"syst_m\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_M_only_um0\")\n ;; Reservation???\n (define_insn_reservation \"2b_tbit\"    1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"tbit\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_I+2b_only_ui0\")\n (define_insn_reservation \"2b_toar_i\"  0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"toar_i\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_I+2b_only_ui0\")\n ;; Latency time ???\n (define_insn_reservation \"2b_toar_m\"  5\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"toar_m\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_M_only_um2\")\n ;; Latency time ???\n (define_insn_reservation \"2b_tobr\"    1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"tobr\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_I+2b_only_ui0\")\n (define_insn_reservation \"2b_tofr\"    5\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"tofr\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_M_only_um23\")\n ;; Latency time ???\n (define_insn_reservation \"2b_topr\"    1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"topr\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_I+2b_only_ui0\")\n \n (define_insn_reservation \"2b_xmpy\"    4\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"xmpy\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0))) \"2b_F\")\n+       (match_test \"bundling_p\")) \"2b_F\")\n ;; Latency time ???\n (define_insn_reservation \"2b_xtd\"     1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"xtd\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0))) \"2b_I\")\n+       (match_test \"bundling_p\")) \"2b_I\")\n \n (define_insn_reservation \"2b_chk_s_i\" 0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"chk_s_i\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_I|2b_M_only_um23\")\n (define_insn_reservation \"2b_chk_s_f\" 0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"chk_s_f\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_M_only_um23\")\n (define_insn_reservation \"2b_chk_a\"   0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"chk_a\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_M_only_um01\")\n \n (define_insn_reservation \"2b_lfetch\"  0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"lfetch\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_M_only_um01\")\n (define_insn_reservation \"2b_nop_m\"   0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"nop_m\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0))) \"2b_M\")\n+       (match_test \"bundling_p\")) \"2b_M\")\n (define_insn_reservation \"2b_nop_b\"   0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"nop_b\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0))) \"2b_NB\")\n+       (match_test \"bundling_p\")) \"2b_NB\")\n (define_insn_reservation \"2b_nop_i\"   0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"nop_i\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0))) \"2b_I\")\n+       (match_test \"bundling_p\")) \"2b_I\")\n (define_insn_reservation \"2b_nop_f\"   0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"nop_f\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0))) \"2b_F\")\n+       (match_test \"bundling_p\")) \"2b_F\")\n (define_insn_reservation \"2b_nop_x\"   0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"nop_x\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0))) \"2b_L\")\n+       (match_test \"bundling_p\")) \"2b_L\")\n (define_insn_reservation \"2b_unknown\" 1\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"unknown\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0))) \"2b_empty\")\n+       (match_test \"bundling_p\")) \"2b_empty\")\n (define_insn_reservation \"2b_nop\" 0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"nop\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+       (match_test \"bundling_p\"))\n   \"2b_M|2b_NB|2b_I|2b_F\")\n (define_insn_reservation \"2b_ignore\" 0\n   (and (and (eq_attr \"cpu\" \"itanium2\")\n             (eq_attr \"itanium_class\" \"ignore\"))\n-       (ne (symbol_ref \"bundling_p\") (const_int 0))) \"nothing\")\n+       (match_test \"bundling_p\")) \"nothing\")\n \n (define_insn_reservation \"2b_pre_cycle\" 0\n    (and (and (eq_attr \"cpu\" \"itanium2\")\n              (eq_attr \"itanium_class\" \"pre_cycle\"))\n-        (ne (symbol_ref \"bundling_p\") (const_int 0)))\n+        (match_test \"bundling_p\"))\n                          \"(2b_0m_bs, 2b_m_cont)     \\\n                           | (2b_0mi_bs, 2b_mi_cont) \\\n                           | (2b_0mm_bs, 2b_mm_cont) \\"}]}