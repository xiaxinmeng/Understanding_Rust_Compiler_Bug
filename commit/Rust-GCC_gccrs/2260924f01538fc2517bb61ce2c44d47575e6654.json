{"sha": "2260924f01538fc2517bb61ce2c44d47575e6654", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjI2MDkyNGYwMTUzOGZjMjUxN2JiNjFjZTJjNDRkNDc1NzVlNjY1NA==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-03-02T20:55:18Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-03-02T20:55:18Z"}, "message": "(immed_double_const, immed_real_const_1): Likewise.\n\nFrom-SVN: r3600", "tree": {"sha": "22509c5dcff009141be51e65de4624ace924f753", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/22509c5dcff009141be51e65de4624ace924f753"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2260924f01538fc2517bb61ce2c44d47575e6654", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2260924f01538fc2517bb61ce2c44d47575e6654", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2260924f01538fc2517bb61ce2c44d47575e6654", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2260924f01538fc2517bb61ce2c44d47575e6654/comments", "author": null, "committer": null, "parents": [{"sha": "02e39be12010054b7fb81aceb731590bf7f44843", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/02e39be12010054b7fb81aceb731590bf7f44843", "html_url": "https://github.com/Rust-GCC/gccrs/commit/02e39be12010054b7fb81aceb731590bf7f44843"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "8e059141af2b0483c6cf95b7fcdd0a0939683f09", "filename": "gcc/varasm.c", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2260924f01538fc2517bb61ce2c44d47575e6654/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2260924f01538fc2517bb61ce2c44d47575e6654/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=2260924f01538fc2517bb61ce2c44d47575e6654", "patch": "@@ -1341,10 +1341,10 @@ immed_double_const (i0, i1, mode)\n      freed memory.  So switch to saveable_obstack for this allocation\n      and then switch back if we were in current_obstack.  */\n \n-  in_current_obstack = rtl_in_saveable_obstack ();\n+  push_obstacks_nochange ();\n+  rtl_in_saveable_obstack ();\n   r = gen_rtx (CONST_DOUBLE, mode, 0, i0, i1);\n-  if (in_current_obstack)\n-    rtl_in_current_obstack ();\n+  pop_obstacks ();\n \n   /* Don't touch const_double_chain in nested function;\n      see force_const_mem.  */\n@@ -1410,12 +1410,12 @@ immed_real_const_1 (d, mode)\n      freed memory.  So switch to saveable_obstack for this allocation\n      and then switch back if we were in current_obstack.  */\n \n-  in_current_obstack = rtl_in_saveable_obstack ();\n+  push_obstacks_nochange ();\n+  rtl_in_saveable_obstack ();\n   r = rtx_alloc (CONST_DOUBLE);\n   PUT_MODE (r, mode);\n   bcopy (&u, &CONST_DOUBLE_LOW (r), sizeof u);\n-  if (in_current_obstack)\n-    rtl_in_current_obstack ();\n+  pop_obstacks ();\n \n   /* Don't touch const_double_chain in nested function;\n      see force_const_mem.  */"}]}