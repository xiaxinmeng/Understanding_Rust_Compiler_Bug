{"sha": "90d43c80aabfbea574ee0435b746f423a62bf3a6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTBkNDNjODBhYWJmYmVhNTc0ZWUwNDM1Yjc0NmY0MjNhNjJiZjNhNg==", "commit": {"author": {"name": "Bin Cheng", "email": "bin.cheng@arm.com", "date": "2017-08-16T15:02:03Z"}, "committer": {"name": "Bin Cheng", "email": "amker@gcc.gnu.org", "date": "2017-08-16T15:02:03Z"}, "message": "re PR middle-end/81832 (ICE in expand_LOOP_DIST_ALIAS, at internal-fn.c:2273)\n\n\tPR tree-optimization/81832\n\t* tree-ssa-loop-ch.c (should_duplicate_loop_header_p): Don't\n\tcopy loop header which has IFN_LOOP_DIST_ALIAS call.\n\n\tgcc/testsuite\n\t* gcc.dg/tree-ssa/pr81832.c: New test.\n\nFrom-SVN: r251123", "tree": {"sha": "bca75064b6f4059c725bbc2111fd8d3488ec00d1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bca75064b6f4059c725bbc2111fd8d3488ec00d1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/90d43c80aabfbea574ee0435b746f423a62bf3a6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90d43c80aabfbea574ee0435b746f423a62bf3a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/90d43c80aabfbea574ee0435b746f423a62bf3a6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90d43c80aabfbea574ee0435b746f423a62bf3a6/comments", "author": null, "committer": null, "parents": [{"sha": "5dd2d9850bfe2159c1f71b25c5451eab2c603ec2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5dd2d9850bfe2159c1f71b25c5451eab2c603ec2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5dd2d9850bfe2159c1f71b25c5451eab2c603ec2"}], "stats": {"total": 38, "additions": 37, "deletions": 1}, "files": [{"sha": "eb3277224b021c6c6636d01faf4b95103109bbff", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90d43c80aabfbea574ee0435b746f423a62bf3a6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90d43c80aabfbea574ee0435b746f423a62bf3a6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=90d43c80aabfbea574ee0435b746f423a62bf3a6", "patch": "@@ -1,3 +1,9 @@\n+2017-08-16  Bin Cheng  <bin.cheng@arm.com>\n+\n+\tPR tree-optimization/81832\n+\t* tree-ssa-loop-ch.c (should_duplicate_loop_header_p): Don't\n+\tcopy loop header which has IFN_LOOP_DIST_ALIAS call.\n+\n 2017-08-16  Marek Polacek  <polacek@redhat.com>\n \n \tPR middle/81695"}, {"sha": "717e951a8ccbe609ae5bfa57c6feacee3033dcf6", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90d43c80aabfbea574ee0435b746f423a62bf3a6/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90d43c80aabfbea574ee0435b746f423a62bf3a6/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=90d43c80aabfbea574ee0435b746f423a62bf3a6", "patch": "@@ -1,3 +1,8 @@\n+2017-08-16  Bin Cheng  <bin.cheng@arm.com>\n+\n+\tPR tree-optimization/81832\n+\t* gcc.dg/tree-ssa/pr81832.c: New test.\n+\n 2017-08-16  Richard Sandiford  <richard.sandiford@linaro.org>\n \n \tPR tree-optimization/81835"}, {"sha": "893124e056e11566b20ceba269620da01ae4b752", "filename": "gcc/testsuite/gcc.dg/tree-ssa/pr81832.c", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90d43c80aabfbea574ee0435b746f423a62bf3a6/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr81832.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90d43c80aabfbea574ee0435b746f423a62bf3a6/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr81832.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr81832.c?ref=90d43c80aabfbea574ee0435b746f423a62bf3a6", "patch": "@@ -0,0 +1,22 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O3\" } */\n+\n+int a, b, *c;\n+void d(void)\n+{\n+    int **e;\n+    for(;;)\n+        for(int f = 1; f <= 6; f++)\n+        {\n+            b = 0;\n+            if(a)\n+g:\n+                while(a++);\n+            if (**e);\n+            else\n+            {\n+                *c = a;\n+                goto g;\n+            }\n+        }\n+}"}, {"sha": "6bb0220f0dc857893390dba376c56ae466111e0f", "filename": "gcc/tree-ssa-loop-ch.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90d43c80aabfbea574ee0435b746f423a62bf3a6/gcc%2Ftree-ssa-loop-ch.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90d43c80aabfbea574ee0435b746f423a62bf3a6/gcc%2Ftree-ssa-loop-ch.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-ch.c?ref=90d43c80aabfbea574ee0435b746f423a62bf3a6", "patch": "@@ -119,7 +119,10 @@ should_duplicate_loop_header_p (basic_block header, struct loop *loop,\n \tcontinue;\n \n       if (gimple_code (last) == GIMPLE_CALL\n-\t  && !gimple_inexpensive_call_p (as_a <gcall *> (last)))\n+\t  && (!gimple_inexpensive_call_p (as_a <gcall *> (last))\n+\t      /* IFN_LOOP_DIST_ALIAS means that inner loop is distributed\n+\t\t at current loop's header.  Don't copy in this case.  */\n+\t      || gimple_call_internal_p (last, IFN_LOOP_DIST_ALIAS)))\n \t{\n \t  if (dump_file && (dump_flags & TDF_DETAILS))\n \t    fprintf (dump_file,"}]}