{"sha": "ee71530f565569b3972c5723b4aef3b6f8613211", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWU3MTUzMGY1NjU1NjliMzk3MmM1NzIzYjRhZWYzYjZmODYxMzIxMQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2011-09-23T00:54:32Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2011-09-23T00:54:32Z"}, "message": "re PR c++/50491 ([C++0x] [4.6/4.7 Regression] \"unexpected ast of kind using_decl\" on call to using'ed grandparent member function)\n\n/cp\n2011-09-22  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/50491\n\t* semantics.c (potential_constant_expression_1): Handle USING_DECL.\n\n/testsuite\n2011-09-22  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/50491\n\t* g++.dg/cpp0x/pr50491.C: New.\n\nFrom-SVN: r179109", "tree": {"sha": "f1571fce2ec69168cc809a1a8256b5db5f9692b2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f1571fce2ec69168cc809a1a8256b5db5f9692b2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ee71530f565569b3972c5723b4aef3b6f8613211", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee71530f565569b3972c5723b4aef3b6f8613211", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee71530f565569b3972c5723b4aef3b6f8613211", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee71530f565569b3972c5723b4aef3b6f8613211/comments", "author": null, "committer": null, "parents": [{"sha": "f8b4d70d01982e40d1670cdb166a320d525b6adf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8b4d70d01982e40d1670cdb166a320d525b6adf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f8b4d70d01982e40d1670cdb166a320d525b6adf"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "249cab60abbd544a883e91af358d876b783ff57c", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee71530f565569b3972c5723b4aef3b6f8613211/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee71530f565569b3972c5723b4aef3b6f8613211/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=ee71530f565569b3972c5723b4aef3b6f8613211", "patch": "@@ -1,3 +1,8 @@\n+2011-09-22  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/50491\n+\t* semantics.c (potential_constant_expression_1): Handle USING_DECL.\n+\n 2011-09-22  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/50371"}, {"sha": "0662b29b61f514d8d8738b726bfa1ee2060c3bf9", "filename": "gcc/cp/semantics.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee71530f565569b3972c5723b4aef3b6f8613211/gcc%2Fcp%2Fsemantics.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee71530f565569b3972c5723b4aef3b6f8613211/gcc%2Fcp%2Fsemantics.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fsemantics.c?ref=ee71530f565569b3972c5723b4aef3b6f8613211", "patch": "@@ -7751,6 +7751,7 @@ potential_constant_expression_1 (tree t, bool want_rval, tsubst_flags_t flags)\n       /* We can see a FIELD_DECL in a pointer-to-member expression.  */\n     case FIELD_DECL:\n     case PARM_DECL:\n+    case USING_DECL:\n       return true;\n \n     case AGGR_INIT_EXPR:"}, {"sha": "c3aa2c1f73ef95e9e060358c8d58da3543216f41", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee71530f565569b3972c5723b4aef3b6f8613211/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee71530f565569b3972c5723b4aef3b6f8613211/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ee71530f565569b3972c5723b4aef3b6f8613211", "patch": "@@ -1,3 +1,8 @@\n+2011-09-22  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/50491\n+\t* g++.dg/cpp0x/pr50491.C: New.\n+\n 2011-09-22  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \tPR testsuite/50487"}, {"sha": "48e7a1f743bef80b82ca923aabcb472292a8e26a", "filename": "gcc/testsuite/g++.dg/cpp0x/pr50491.C", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee71530f565569b3972c5723b4aef3b6f8613211/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr50491.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee71530f565569b3972c5723b4aef3b6f8613211/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr50491.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr50491.C?ref=ee71530f565569b3972c5723b4aef3b6f8613211", "patch": "@@ -0,0 +1,17 @@\n+// { dg-options \"-std=c++0x\" }\n+\n+struct GrandParent {\n+  void *get();\n+};\n+\n+template<class OBJ>\n+struct Parent : public GrandParent{\n+};\n+\n+template<typename T>\n+struct Child : public Parent<T> {\n+  using GrandParent::get;\n+  void Foo() {\n+    void* ex = get();\n+  }\n+};"}]}