{"sha": "0f31a750311079962cb1082bc1202584da491aba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGYzMWE3NTAzMTEwNzk5NjJjYjEwODJiYzEyMDI1ODRkYTQ5MWFiYQ==", "commit": {"author": {"name": "Segher Boessenkool", "email": "segher@kernel.crashing.org", "date": "2018-11-05T21:18:22Z"}, "committer": {"name": "Segher Boessenkool", "email": "segher@gcc.gnu.org", "date": "2018-11-05T21:18:22Z"}, "message": "combine: Don't make an intermediate reg for assigning to sfp (PR87871)\n\nThe code with an intermediate register is perfectly fine, but LRA\napparently cannot handle the resulting code, or perhaps something else\nis wrong.  In either case, making an extra temporary will not likely\nhelp here, so let's just skip it.\n\n\n\tPR rtl-optimization/87871\n\t* combine.c (make_more_copies): Skip if dest is frame_pointer_rtx.\n\nFrom-SVN: r265821", "tree": {"sha": "ae1616cd3a0f335acbde3bf8ab1389e44297c00f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ae1616cd3a0f335acbde3bf8ab1389e44297c00f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0f31a750311079962cb1082bc1202584da491aba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f31a750311079962cb1082bc1202584da491aba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f31a750311079962cb1082bc1202584da491aba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f31a750311079962cb1082bc1202584da491aba/comments", "author": {"login": "segher", "id": 417629, "node_id": "MDQ6VXNlcjQxNzYyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/417629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/segher", "html_url": "https://github.com/segher", "followers_url": "https://api.github.com/users/segher/followers", "following_url": "https://api.github.com/users/segher/following{/other_user}", "gists_url": "https://api.github.com/users/segher/gists{/gist_id}", "starred_url": "https://api.github.com/users/segher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/segher/subscriptions", "organizations_url": "https://api.github.com/users/segher/orgs", "repos_url": "https://api.github.com/users/segher/repos", "events_url": "https://api.github.com/users/segher/events{/privacy}", "received_events_url": "https://api.github.com/users/segher/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7bbdffa22bd3e0d3fcedb13447b33dd9bfef6f7f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7bbdffa22bd3e0d3fcedb13447b33dd9bfef6f7f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7bbdffa22bd3e0d3fcedb13447b33dd9bfef6f7f"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "0e4794ce36f9a0e8875c45944ba2253ce804b217", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f31a750311079962cb1082bc1202584da491aba/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f31a750311079962cb1082bc1202584da491aba/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0f31a750311079962cb1082bc1202584da491aba", "patch": "@@ -1,3 +1,8 @@\n+2018-11-05  Segher Boessenkool  <segher@kernel.crashing.org>\n+\n+\tPR rtl-optimization/87871\n+\t* combine.c (make_more_copies): Skip if dest is frame_pointer_rtx.\n+\n 2018-11-05  Paul Koning  <ni1d@arrl.net>\n \n \t* doc/sourcebuild.texi (target attributes): Document new \"inf\""}, {"sha": "93bd3da26d7bc2f642357fc24bb15cdf90acfde0", "filename": "gcc/combine.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f31a750311079962cb1082bc1202584da491aba/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f31a750311079962cb1082bc1202584da491aba/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=0f31a750311079962cb1082bc1202584da491aba", "patch": "@@ -14959,6 +14959,9 @@ make_more_copies (void)\n \t  rtx dest = SET_DEST (set);\n \t  if (dest == pc_rtx)\n \t    continue;\n+\t  /* See PR87871.  */\n+\t  if (dest == frame_pointer_rtx)\n+\t    continue;\n \t  rtx src = SET_SRC (set);\n \t  if (!(REG_P (src) && HARD_REGISTER_P (src)))\n \t    continue;"}]}