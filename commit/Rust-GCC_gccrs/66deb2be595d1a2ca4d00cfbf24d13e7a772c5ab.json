{"sha": "66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjZkZWIyYmU1OTVkMWEyY2E0ZDAwY2ZiZjI0ZDEzZTdhNzcyYzVhYg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "1999-04-26T14:15:05Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "1999-04-26T14:15:05Z"}, "message": "libtoolized GC library.  See ChangeLog for details.\n\nAlso a couple bug fixes:\n\t* dyn_load.c (GC_FirstDLOpenedLinkMap): Declare _DYNAMIC as\n\t`weak'.\n\t* misc.c (GC_init_inner): If QUICK_THREADS defined, compute\n\tGC_stackbottom.\n\nFrom-SVN: r26650", "tree": {"sha": "419bf5af5475ca11cc989d4c67ec026cfeb18980", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/419bf5af5475ca11cc989d4c67ec026cfeb18980"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab/comments", "author": null, "committer": null, "parents": [{"sha": "01656b25ec4da07ca1470bd2b7c64456e5900f2e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01656b25ec4da07ca1470bd2b7c64456e5900f2e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/01656b25ec4da07ca1470bd2b7c64456e5900f2e"}], "stats": {"total": 1237, "additions": 1098, "deletions": 139}, "files": [{"sha": "6845bb154a1193d53820b7476c5feccc2da600a3", "filename": "boehm-gc/ChangeLog", "status": "modified", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab/boehm-gc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab/boehm-gc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/boehm-gc%2FChangeLog?ref=66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab", "patch": "@@ -1,5 +1,36 @@\n+1999-04-26  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* dyn_load.c (GC_FirstDLOpenedLinkMap): Declare _DYNAMIC as\n+\t`weak'.\n+\n+1999-04-23  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* Makefile.in, configure: Rebuilt.\n+\t* Makefile.am (EXTRA_LIBRARIES): Mention libgcjgc.la.\n+\t(libgcjgc_la_SOURCES): Renamed.\n+\t(libgcjgc_la_LIBADD): Likewise.\n+\t(libgcjgc_la_DEPENDENCIES): Likewise.\n+\t(EXTRA_libgcjgc_la_SOURCES): Likewise.\n+\t(gctest_LDADD): Use libgcjgc.la.\n+\t(all_objs): Mention libgcj_la_OBJECTS.\n+\t(EXTRA_LTLIBRARIES): Renamed.\n+\t(toollib_LTLIBRARIES): Likewise.\n+\t(libgcjgc_la_LDFLAGS): New macro\n+\t(toolexecdir): Renamed.\n+\t(toolexeclibdir): Likewise.\n+\t(toolexeclib_LTLIBRARIES): Likewise.\n+\t(LTCOMPILE): Renamed; added libtool invocation.\n+\t(LINK): Added libtool invocation.\n+\t(.s.o): use LTCOMPILE.\n+\t* configure.in: Call AM_PROG_LIBTOOL.  \n+\t(target_all): Set to libgcjgc.la.\n+\tMention `.lo' forms of object files.\n+\n 1999-04-21  Tom Tromey  <tromey@cygnus.com>\n \n+\t* misc.c (GC_init_inner): If QUICK_THREADS defined, compute\n+\tGC_stackbottom.\n+\n \t* os_dep.c: glibc 2.1 requires asm/sigcontext.h, not\n \tsigcontext.h.  From Matthias Klose <doko@itso.de>.\n "}, {"sha": "cd18abbeed209a0a6d127449003b73e708ed7681", "filename": "boehm-gc/Makefile.am", "status": "modified", "additions": 17, "deletions": 16, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab/boehm-gc%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab/boehm-gc%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/boehm-gc%2FMakefile.am?ref=66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab", "patch": "@@ -14,24 +14,24 @@ MULTISUBDIR =\n MULTIDO = true\n MULTICLEAN = true\n \n-tooldir = $(exec_prefix)/$(target_alias)\n-toollibdir = $(tooldir)/lib$(MULTISUBDIR)\n+toolexecdir = $(exec_prefix)/$(target_alias)\n+toolexeclibdir = $(toolexecdir)/lib$(MULTISUBDIR)\n \n-## FIXME: when native, use libtool to provide shared libraries.\n-toollib_LIBRARIES = $(target_all)\n-EXTRA_LIBRARIES = libgcjgc.a\n-libgcjgc_a_SOURCES = allchblk.c alloc.c blacklst.c checksums.c \\\n+toolexeclib_LTLIBRARIES = $(target_all)\n+EXTRA_LTLIBRARIES = libgcjgc.la\n+libgcjgc_la_SOURCES = allchblk.c alloc.c blacklst.c checksums.c\t\\\n config.h dbg_mlc.c dyn_load.c finalize.c gc.h gc_alloc.h gc_cpp.h \\\n gc_hdrs.h gc_mark.h gc_priv.h gc_private.h gc_typed.h headers.c\t\\\n irix_threads.c linux_threads.c malloc.c mallocx.c mark.c mark_rts.c \\\n misc.c new_hblk.c obj_map.c os_dep.c pcr_interface.c ptr_chck.c\t\\\n quick_threads.c real_malloc.c reclaim.c solaris_pthreads.c \\\n solaris_threads.c solaris_threads.h stubborn.c typd_mlc.c version.h \\\n weakpointer.h\n-libgcjgc_a_LIBADD = @addobjs@\n-libgcjgc_a_DEPENDENCIES = @addobjs@\n+libgcjgc_la_LIBADD = @addobjs@\n+libgcjgc_la_DEPENDENCIES = @addobjs@\n+libgcjgc_la_LDFLAGS = -release $(VERSION) -rpath $(toolexeclibdir)\n \n-EXTRA_libgcjgc_a_SOURCES = alpha_mach_dep.s mips_sgi_mach_dep.s\t\\\n+EXTRA_libgcjgc_la_SOURCES = alpha_mach_dep.s mips_sgi_mach_dep.s \\\n mips_ultrix_mach_dep.s rs6000_mach_dep.s sparc_mach_dep.s \\\n sparc_sunos4_mach_dep.s mach_dep.c ecos.cc\n \n@@ -40,22 +40,23 @@ AM_CFLAGS = @BOEHM_GC_CFLAGS@\n \n check_PROGRAMS = gctest\n gctest_SOURCES = test.c\n-gctest_LDADD = ./libgcjgc.a\n+gctest_LDADD = ./libgcjgc.la\n \n \n ## FIXME: relies on internal code generated by automake.\n-all_objs = @addobjs@ $(libgcjgc_a_OBJECTS)\n+all_objs = @addobjs@ $(libgcjgc_la_OBJECTS)\n $(all_objs) : config.h gc_priv.h gc_hdrs.h gc.h gc_mark.h\n \n ## FIXME: we shouldn't have to do this, but automake forces us to.\n .s.o:\n-\t$(CC) -x assembler-with-cpp $(DEFS) $(INCLUDES) $(CPPFLAGS) $(BOEHM_GC_CFLAGS) \\\n-\t$(MY_CFLAGS) -c $<\n+\t$(LTCOMPILE) -x assembler-with-cpp -c $<\n \n-## We have our own definition of COMPILE because we want to use our\n+## We have our own definition of LTCOMPILE because we want to use our\n ## CFLAGS, not those passed in from the top level make.\n-COMPILE = $(CC) $(DEFS) $(INCLUDES) $(CPPFLAGS) $(MY_CFLAGS) $(BOEHM_GC_CFLAGS) \n-LINK = $(CC) $(AM_CFLAGS) $(MY_CFLAGS) $(LDFLAGS) -o $@\n+LTCOMPILE = $(LIBTOOL) --mode=compile $(CC) $(DEFS) $(INCLUDES) \\\n+\t$(AM_CPPFLAGS) $(CPPFLAGS) \\\n+\t$(AM_CFLAGS) $(MY_CFLAGS) $(BOEHM_GC_CFLAGS) \n+LINK = $(LIBTOOL) --mode=link $(CC) $(AM_CFLAGS) $(MY_CFLAGS) $(LDFLAGS) -o $@\n \n AM_CFLAGS = @BOEHM_GC_CFLAGS@\n "}, {"sha": "250f79a995da35371ed016c8cb79a88a1ad4b0cf", "filename": "boehm-gc/Makefile.in", "status": "modified", "additions": 99, "deletions": 72, "changes": 171, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab/boehm-gc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab/boehm-gc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/boehm-gc%2FMakefile.in?ref=66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab", "patch": "@@ -71,11 +71,16 @@ CPP = @CPP@\n CXX = @CXX@\n CXXCPP = @CXXCPP@\n CXXINCLUDES = @CXXINCLUDES@\n+DLLTOOL = @DLLTOOL@\n EXEEXT = @EXEEXT@\n INCLUDES = @INCLUDES@\n+LD = @LD@\n+LIBTOOL = @LIBTOOL@\n+LN_S = @LN_S@\n MAINT = @MAINT@\n MAKEINFO = @MAKEINFO@\n MY_CFLAGS = @MY_CFLAGS@\n+NM = @NM@\n PACKAGE = @PACKAGE@\n RANLIB = @RANLIB@\n VERSION = @VERSION@\n@@ -93,12 +98,12 @@ MULTISUBDIR =\n MULTIDO = true\n MULTICLEAN = true\n \n-tooldir = $(exec_prefix)/$(target_alias)\n-toollibdir = $(tooldir)/lib$(MULTISUBDIR)\n+toolexecdir = $(exec_prefix)/$(target_alias)\n+toolexeclibdir = $(toolexecdir)/lib$(MULTISUBDIR)\n \n-toollib_LIBRARIES = $(target_all)\n-EXTRA_LIBRARIES = libgcjgc.a\n-libgcjgc_a_SOURCES = allchblk.c alloc.c blacklst.c checksums.c \\\n+toolexeclib_LTLIBRARIES = $(target_all)\n+EXTRA_LTLIBRARIES = libgcjgc.la\n+libgcjgc_la_SOURCES = allchblk.c alloc.c blacklst.c checksums.c\t\\\n config.h dbg_mlc.c dyn_load.c finalize.c gc.h gc_alloc.h gc_cpp.h \\\n gc_hdrs.h gc_mark.h gc_priv.h gc_private.h gc_typed.h headers.c\t\\\n irix_threads.c linux_threads.c malloc.c mallocx.c mark.c mark_rts.c \\\n@@ -107,10 +112,11 @@ quick_threads.c real_malloc.c reclaim.c solaris_pthreads.c \\\n solaris_threads.c solaris_threads.h stubborn.c typd_mlc.c version.h \\\n weakpointer.h\n \n-libgcjgc_a_LIBADD = @addobjs@\n-libgcjgc_a_DEPENDENCIES = @addobjs@\n+libgcjgc_la_LIBADD = @addobjs@\n+libgcjgc_la_DEPENDENCIES = @addobjs@\n+libgcjgc_la_LDFLAGS = -release $(VERSION) -rpath $(toolexeclibdir)\n \n-EXTRA_libgcjgc_a_SOURCES = alpha_mach_dep.s mips_sgi_mach_dep.s\t\\\n+EXTRA_libgcjgc_la_SOURCES = alpha_mach_dep.s mips_sgi_mach_dep.s \\\n mips_ultrix_mach_dep.s rs6000_mach_dep.s sparc_mach_dep.s \\\n sparc_sunos4_mach_dep.s mach_dep.c ecos.cc\n \n@@ -121,12 +127,15 @@ AM_CFLAGS = @BOEHM_GC_CFLAGS@\n \n check_PROGRAMS = gctest\n gctest_SOURCES = test.c\n-gctest_LDADD = ./libgcjgc.a\n+gctest_LDADD = ./libgcjgc.la\n \n-all_objs = @addobjs@ $(libgcjgc_a_OBJECTS)\n+all_objs = @addobjs@ $(libgcjgc_la_OBJECTS)\n \n-COMPILE = $(CC) $(DEFS) $(INCLUDES) $(CPPFLAGS) $(MY_CFLAGS) $(BOEHM_GC_CFLAGS) \n-LINK = $(CC) $(AM_CFLAGS) $(MY_CFLAGS) $(LDFLAGS) -o $@\n+LTCOMPILE = $(LIBTOOL) --mode=compile $(CC) $(DEFS) $(INCLUDES) \\\n+\t$(AM_CPPFLAGS) $(CPPFLAGS) \\\n+\t$(AM_CFLAGS) $(MY_CFLAGS) $(BOEHM_GC_CFLAGS) \n+\n+LINK = $(LIBTOOL) --mode=link $(CC) $(AM_CFLAGS) $(MY_CFLAGS) $(LDFLAGS) -o $@\n \n # Work around what appears to be a GNU make bug handling MAKEFLAGS\n # values defined in terms of make variables, as is the case for CC and\n@@ -176,28 +185,30 @@ MAKEOVERRIDES =\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n mkinstalldirs = $(SHELL) $(top_srcdir)/../mkinstalldirs\n CONFIG_CLEAN_FILES = \n-LIBRARIES =  $(toollib_LIBRARIES)\n+LTLIBRARIES =  $(toolexeclib_LTLIBRARIES)\n \n \n DEFS = @DEFS@ -I. -I$(srcdir) \n CPPFLAGS = @CPPFLAGS@\n LDFLAGS = @LDFLAGS@\n LIBS = @LIBS@\n-libgcjgc_a_OBJECTS =  allchblk.o alloc.o blacklst.o checksums.o \\\n-dbg_mlc.o dyn_load.o finalize.o headers.o irix_threads.o \\\n-linux_threads.o malloc.o mallocx.o mark.o mark_rts.o misc.o new_hblk.o \\\n-obj_map.o os_dep.o pcr_interface.o ptr_chck.o quick_threads.o \\\n-real_malloc.o reclaim.o solaris_pthreads.o solaris_threads.o stubborn.o \\\n-typd_mlc.o\n+libgcjgc_la_OBJECTS =  allchblk.lo alloc.lo blacklst.lo checksums.lo \\\n+dbg_mlc.lo dyn_load.lo finalize.lo headers.lo irix_threads.lo \\\n+linux_threads.lo malloc.lo mallocx.lo mark.lo mark_rts.lo misc.lo \\\n+new_hblk.lo obj_map.lo os_dep.lo pcr_interface.lo ptr_chck.lo \\\n+quick_threads.lo real_malloc.lo reclaim.lo solaris_pthreads.lo \\\n+solaris_threads.lo stubborn.lo typd_mlc.lo\n check_PROGRAMS =  gctest$(EXEEXT)\n gctest_OBJECTS =  test.o\n-gctest_DEPENDENCIES =  ./libgcjgc.a\n+gctest_DEPENDENCIES =  ./libgcjgc.la\n gctest_LDFLAGS = \n CXXFLAGS = @CXXFLAGS@\n CXXCOMPILE = $(CXX) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS)\n+LTCXXCOMPILE = $(LIBTOOL) --mode=compile $(CXX) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS)\n CXXLD = $(CXX)\n-CXXLINK = $(CXXLD) $(AM_CXXFLAGS) $(CXXFLAGS) $(LDFLAGS) -o $@\n+CXXLINK = $(LIBTOOL) --mode=link $(CXXLD) $(AM_CXXFLAGS) $(CXXFLAGS) $(LDFLAGS) -o $@\n CFLAGS = @CFLAGS@\n+COMPILE = $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)\n CCLD = $(CC)\n DIST_COMMON =  README ChangeLog Makefile.am Makefile.in acinclude.m4 \\\n aclocal.m4 configure configure.in\n@@ -207,12 +218,12 @@ DISTFILES = $(DIST_COMMON) $(SOURCES) $(HEADERS) $(TEXINFOS) $(EXTRA_DIST)\n \n TAR = tar\n GZIP_ENV = --best\n-SOURCES = $(libgcjgc_a_SOURCES) $(EXTRA_libgcjgc_a_SOURCES) $(gctest_SOURCES)\n-OBJECTS = $(libgcjgc_a_OBJECTS) $(gctest_OBJECTS)\n+SOURCES = $(libgcjgc_la_SOURCES) $(EXTRA_libgcjgc_la_SOURCES) $(gctest_SOURCES)\n+OBJECTS = $(libgcjgc_la_OBJECTS) $(gctest_OBJECTS)\n \n all: all-redirect\n .SUFFIXES:\n-.SUFFIXES: .S .c .cc .o .s\n+.SUFFIXES: .S .c .cc .lo .o .s\n $(srcdir)/Makefile.in: @MAINTAINER_MODE_TRUE@ Makefile.am $(top_srcdir)/configure.in $(ACLOCAL_M4) \n \tcd $(top_srcdir) && $(AUTOMAKE) --cygnus Makefile\n \n@@ -228,36 +239,29 @@ config.status: $(srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)\n $(srcdir)/configure: @MAINTAINER_MODE_TRUE@$(srcdir)/configure.in $(ACLOCAL_M4) $(CONFIGURE_DEPENDENCIES)\n \tcd $(srcdir) && $(AUTOCONF)\n \n-mostlyclean-toollibLIBRARIES:\n+mostlyclean-toolexeclibLTLIBRARIES:\n \n-clean-toollibLIBRARIES:\n-\t-test -z \"$(toollib_LIBRARIES)\" || rm -f $(toollib_LIBRARIES)\n+clean-toolexeclibLTLIBRARIES:\n+\t-test -z \"$(toolexeclib_LTLIBRARIES)\" || rm -f $(toolexeclib_LTLIBRARIES)\n \n-distclean-toollibLIBRARIES:\n+distclean-toolexeclibLTLIBRARIES:\n \n-maintainer-clean-toollibLIBRARIES:\n+maintainer-clean-toolexeclibLTLIBRARIES:\n \n-install-toollibLIBRARIES: $(toollib_LIBRARIES)\n+install-toolexeclibLTLIBRARIES: $(toolexeclib_LTLIBRARIES)\n \t@$(NORMAL_INSTALL)\n-\t$(mkinstalldirs) $(DESTDIR)$(toollibdir)\n-\t@list='$(toollib_LIBRARIES)'; for p in $$list; do \\\n-\t  if test -f $$p; then \\\n-\t    echo \" $(INSTALL_DATA) $$p $(DESTDIR)$(toollibdir)/$$p\"; \\\n-\t    $(INSTALL_DATA) $$p $(DESTDIR)$(toollibdir)/$$p; \\\n-\t  else :; fi; \\\n-\tdone\n-\t@$(POST_INSTALL)\n-\t@list='$(toollib_LIBRARIES)'; for p in $$list; do \\\n+\t$(mkinstalldirs) $(DESTDIR)$(toolexeclibdir)\n+\t@list='$(toolexeclib_LTLIBRARIES)'; for p in $$list; do \\\n \t  if test -f $$p; then \\\n-\t    echo \" $(RANLIB) $(DESTDIR)$(toollibdir)/$$p\"; \\\n-\t    $(RANLIB) $(DESTDIR)$(toollibdir)/$$p; \\\n+\t    echo \"$(LIBTOOL)  --mode=install $(INSTALL) $$p $(DESTDIR)$(toolexeclibdir)/$$p\"; \\\n+\t    $(LIBTOOL)  --mode=install $(INSTALL) $$p $(DESTDIR)$(toolexeclibdir)/$$p; \\\n \t  else :; fi; \\\n \tdone\n \n-uninstall-toollibLIBRARIES:\n+uninstall-toolexeclibLTLIBRARIES:\n \t@$(NORMAL_UNINSTALL)\n-\tlist='$(toollib_LIBRARIES)'; for p in $$list; do \\\n-\t  rm -f $(DESTDIR)$(toollibdir)/$$p; \\\n+\tlist='$(toolexeclib_LTLIBRARIES)'; for p in $$list; do \\\n+\t  $(LIBTOOL)  --mode=uninstall rm -f $(DESTDIR)$(toolexeclibdir)/$$p; \\\n \tdone\n \n .c.o:\n@@ -276,10 +280,27 @@ distclean-compile:\n \n maintainer-clean-compile:\n \n-libgcjgc.a: $(libgcjgc_a_OBJECTS) $(libgcjgc_a_DEPENDENCIES)\n-\t-rm -f libgcjgc.a\n-\t$(AR) cru libgcjgc.a $(libgcjgc_a_OBJECTS) $(libgcjgc_a_LIBADD)\n-\t$(RANLIB) libgcjgc.a\n+.c.lo:\n+\t$(LIBTOOL) --mode=compile $(COMPILE) -c $<\n+\n+.s.lo:\n+\t$(LIBTOOL) --mode=compile $(COMPILE) -c $<\n+\n+.S.lo:\n+\t$(LIBTOOL) --mode=compile $(COMPILE) -c $<\n+\n+mostlyclean-libtool:\n+\t-rm -f *.lo\n+\n+clean-libtool:\n+\t-rm -rf .libs _libs\n+\n+distclean-libtool:\n+\n+maintainer-clean-libtool:\n+\n+libgcjgc.la: $(libgcjgc_la_OBJECTS) $(libgcjgc_la_DEPENDENCIES)\n+\t$(LINK)  $(libgcjgc_la_LDFLAGS) $(libgcjgc_la_OBJECTS) $(libgcjgc_la_LIBADD) $(LIBS)\n \n mostlyclean-checkPROGRAMS:\n \n@@ -295,6 +316,8 @@ gctest$(EXEEXT): $(gctest_OBJECTS) $(gctest_DEPENDENCIES)\n \t$(LINK) $(gctest_LDFLAGS) $(gctest_OBJECTS) $(gctest_LDADD) $(LIBS)\n .cc.o:\n \t$(CXXCOMPILE) -c $<\n+.cc.lo:\n+\t$(LTCXXCOMPILE) -c $<\n \n tags: TAGS\n \n@@ -383,23 +406,23 @@ installcheck-am:\n installcheck: installcheck-am\n install-info-am: \n install-info: install-info-am\n-install-exec-am:\n+install-exec-am: install-toolexeclibLTLIBRARIES\n install-exec: install-exec-am\n \n-install-data-am: install-toollibLIBRARIES\n+install-data-am:\n install-data: install-data-am\n \n install-am: all-am\n \t@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am\n install: install-am\n-uninstall-am: uninstall-toollibLIBRARIES\n+uninstall-am: uninstall-toolexeclibLTLIBRARIES\n uninstall: uninstall-am\n-all-am: Makefile $(LIBRARIES)\n+all-am: Makefile $(LTLIBRARIES)\n all-redirect: all-am\n install-strip:\n \t$(MAKE) $(AM_MAKEFLAGS) AM_INSTALL_PROGRAM_FLAGS=-s install\n installdirs:\n-\t$(mkinstalldirs)  $(DESTDIR)$(toollibdir)\n+\t$(mkinstalldirs)  $(DESTDIR)$(toolexeclibdir)\n \n \n mostlyclean-generic:\n@@ -411,39 +434,44 @@ distclean-generic:\n \t-rm -f config.cache config.log stamp-h stamp-h[0-9]*\n \n maintainer-clean-generic:\n-mostlyclean-am:  mostlyclean-toollibLIBRARIES mostlyclean-compile \\\n-\t\tmostlyclean-checkPROGRAMS mostlyclean-tags \\\n-\t\tmostlyclean-generic\n+mostlyclean-am:  mostlyclean-toolexeclibLTLIBRARIES mostlyclean-compile \\\n+\t\tmostlyclean-libtool mostlyclean-checkPROGRAMS \\\n+\t\tmostlyclean-tags mostlyclean-generic\n \n mostlyclean: mostlyclean-am\n \n-clean-am:  clean-toollibLIBRARIES clean-compile clean-checkPROGRAMS \\\n-\t\tclean-tags clean-generic mostlyclean-am\n+clean-am:  clean-toolexeclibLTLIBRARIES clean-compile clean-libtool \\\n+\t\tclean-checkPROGRAMS clean-tags clean-generic \\\n+\t\tmostlyclean-am\n \n clean: clean-am\n \n-distclean-am:  distclean-toollibLIBRARIES distclean-compile \\\n-\t\tdistclean-checkPROGRAMS distclean-tags \\\n-\t\tdistclean-generic clean-am\n+distclean-am:  distclean-toolexeclibLTLIBRARIES distclean-compile \\\n+\t\tdistclean-libtool distclean-checkPROGRAMS \\\n+\t\tdistclean-tags distclean-generic clean-am\n+\t-rm -f libtool\n \n distclean: distclean-am\n \t-rm -f config.status\n \n-maintainer-clean-am:  maintainer-clean-toollibLIBRARIES \\\n-\t\tmaintainer-clean-compile maintainer-clean-checkPROGRAMS \\\n-\t\tmaintainer-clean-tags maintainer-clean-generic \\\n-\t\tdistclean-am\n+maintainer-clean-am:  maintainer-clean-toolexeclibLTLIBRARIES \\\n+\t\tmaintainer-clean-compile maintainer-clean-libtool \\\n+\t\tmaintainer-clean-checkPROGRAMS maintainer-clean-tags \\\n+\t\tmaintainer-clean-generic distclean-am\n \t@echo \"This command is intended for maintainers to use;\"\n \t@echo \"it deletes files that may require special tools to rebuild.\"\n \n maintainer-clean: maintainer-clean-am\n \t-rm -f config.status\n \n-.PHONY: mostlyclean-toollibLIBRARIES distclean-toollibLIBRARIES \\\n-clean-toollibLIBRARIES maintainer-clean-toollibLIBRARIES \\\n-uninstall-toollibLIBRARIES install-toollibLIBRARIES mostlyclean-compile \\\n-distclean-compile clean-compile maintainer-clean-compile \\\n-mostlyclean-checkPROGRAMS distclean-checkPROGRAMS clean-checkPROGRAMS \\\n+.PHONY: mostlyclean-toolexeclibLTLIBRARIES \\\n+distclean-toolexeclibLTLIBRARIES clean-toolexeclibLTLIBRARIES \\\n+maintainer-clean-toolexeclibLTLIBRARIES \\\n+uninstall-toolexeclibLTLIBRARIES install-toolexeclibLTLIBRARIES \\\n+mostlyclean-compile distclean-compile clean-compile \\\n+maintainer-clean-compile mostlyclean-libtool distclean-libtool \\\n+clean-libtool maintainer-clean-libtool mostlyclean-checkPROGRAMS \\\n+distclean-checkPROGRAMS clean-checkPROGRAMS \\\n maintainer-clean-checkPROGRAMS tags mostlyclean-tags distclean-tags \\\n clean-tags maintainer-clean-tags distdir info-am info dvi-am dvi check \\\n check-am installcheck-am installcheck install-info-am install-info \\\n@@ -455,8 +483,7 @@ maintainer-clean-generic clean mostlyclean distclean maintainer-clean\n $(all_objs) : config.h gc_priv.h gc_hdrs.h gc.h gc_mark.h\n \n .s.o:\n-\t$(CC) -x assembler-with-cpp $(DEFS) $(INCLUDES) $(CPPFLAGS) $(BOEHM_GC_CFLAGS) \\\n-\t$(MY_CFLAGS) -c $<\n+\t$(LTCOMPILE) -x assembler-with-cpp -c $<\n \n # Multilib support.\n .PHONY: all-multi mostlyclean-multi clean-multi distclean-multi \\"}, {"sha": "82da4b65b1ea979dd9935ef99f237438939c5993", "filename": "boehm-gc/aclocal.m4", "status": "modified", "additions": 251, "deletions": 0, "changes": 251, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab/boehm-gc%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab/boehm-gc%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/boehm-gc%2Faclocal.m4?ref=66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab", "patch": "@@ -289,3 +289,254 @@ else\n   $1_FALSE=\n fi])\n \n+\n+# serial 25 AM_PROG_LIBTOOL\n+AC_DEFUN(AM_PROG_LIBTOOL,\n+[AC_REQUIRE([AM_ENABLE_SHARED])dnl\n+AC_REQUIRE([AM_ENABLE_STATIC])dnl\n+AC_REQUIRE([AC_CANONICAL_HOST])dnl\n+AC_REQUIRE([AC_CANONICAL_BUILD])dnl\n+AC_REQUIRE([AC_PROG_RANLIB])dnl\n+AC_REQUIRE([AC_PROG_CC])dnl\n+AC_REQUIRE([AM_PROG_LD])dnl\n+AC_REQUIRE([AM_PROG_NM])dnl\n+AC_REQUIRE([AC_PROG_LN_S])dnl\n+dnl\n+# Always use our own libtool.\n+LIBTOOL='$(SHELL) $(top_builddir)/libtool'\n+AC_SUBST(LIBTOOL)dnl\n+\n+# Check for any special flags to pass to ltconfig.\n+libtool_flags=\n+test \"$enable_shared\" = no && libtool_flags=\"$libtool_flags --disable-shared\"\n+test \"$enable_static\" = no && libtool_flags=\"$libtool_flags --disable-static\"\n+test \"$silent\" = yes && libtool_flags=\"$libtool_flags --silent\"\n+test \"$ac_cv_prog_gcc\" = yes && libtool_flags=\"$libtool_flags --with-gcc\"\n+test \"$ac_cv_prog_gnu_ld\" = yes && libtool_flags=\"$libtool_flags --with-gnu-ld\"\n+\n+# Some flags need to be propagated to the compiler or linker for good\n+# libtool support.\n+case \"$host\" in\n+*-*-irix6*)\n+  # Find out which ABI we are using.\n+  echo '[#]line __oline__ \"configure\"' > conftest.$ac_ext\n+  if AC_TRY_EVAL(ac_compile); then\n+    case \"`/usr/bin/file conftest.o`\" in\n+    *32-bit*)\n+      LD=\"${LD-ld} -32\"\n+      ;;\n+    *N32*)\n+      LD=\"${LD-ld} -n32\"\n+      ;;\n+    *64-bit*)\n+      LD=\"${LD-ld} -64\"\n+      ;;\n+    esac\n+  fi\n+  rm -rf conftest*\n+  ;;\n+\n+*-*-sco3.2v5*)\n+  # On SCO OpenServer 5, we need -belf to get full-featured binaries.\n+  CFLAGS=\"$CFLAGS -belf\"\n+  ;;\n+\n+*-*-cygwin32*)\n+  AM_SYS_LIBTOOL_CYGWIN32\n+  ;;\n+\n+esac\n+\n+# Actually configure libtool.  ac_aux_dir is where install-sh is found.\n+CC=\"$CC\" CFLAGS=\"$CFLAGS\" CPPFLAGS=\"$CPPFLAGS\" \\\n+LD=\"$LD\" NM=\"$NM\" RANLIB=\"$RANLIB\" LN_S=\"$LN_S\" \\\n+DLLTOOL=\"$DLLTOOL\" AS=\"$AS\" \\\n+${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig --no-reexec \\\n+$libtool_flags --no-verify $ac_aux_dir/ltmain.sh $host \\\n+|| AC_MSG_ERROR([libtool configure failed])\n+\n+# Redirect the config.log output again, so that the ltconfig log is not\n+# clobbered by the next message.\n+exec 5>>./config.log\n+])\n+\n+# AM_ENABLE_SHARED - implement the --enable-shared flag\n+# Usage: AM_ENABLE_SHARED[(DEFAULT)]\n+#   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to\n+#   `yes'.\n+AC_DEFUN(AM_ENABLE_SHARED,\n+[define([AM_ENABLE_SHARED_DEFAULT], ifelse($1, no, no, yes))dnl\n+AC_ARG_ENABLE(shared,\n+changequote(<<, >>)dnl\n+<<  --enable-shared[=PKGS]  build shared libraries [default=>>AM_ENABLE_SHARED_DEFAULT],\n+changequote([, ])dnl\n+[p=${PACKAGE-default}\n+case \"$enableval\" in\n+yes) enable_shared=yes ;;\n+no) enable_shared=no ;;\n+*)\n+  enable_shared=no\n+  # Look at the argument we got.  We use all the common list separators.\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:,\"\n+  for pkg in $enableval; do\n+    if test \"X$pkg\" = \"X$p\"; then\n+      enable_shared=yes\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  ;;\n+esac],\n+enable_shared=AM_ENABLE_SHARED_DEFAULT)dnl\n+])\n+\n+# AM_DISABLE_SHARED - set the default shared flag to --disable-shared\n+AC_DEFUN(AM_DISABLE_SHARED,\n+[AM_ENABLE_SHARED(no)])\n+\n+# AM_DISABLE_STATIC - set the default static flag to --disable-static\n+AC_DEFUN(AM_DISABLE_STATIC,\n+[AM_ENABLE_STATIC(no)])\n+\n+# AM_ENABLE_STATIC - implement the --enable-static flag\n+# Usage: AM_ENABLE_STATIC[(DEFAULT)]\n+#   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to\n+#   `yes'.\n+AC_DEFUN(AM_ENABLE_STATIC,\n+[define([AM_ENABLE_STATIC_DEFAULT], ifelse($1, no, no, yes))dnl\n+AC_ARG_ENABLE(static,\n+changequote(<<, >>)dnl\n+<<  --enable-static[=PKGS]  build static libraries [default=>>AM_ENABLE_STATIC_DEFAULT],\n+changequote([, ])dnl\n+[p=${PACKAGE-default}\n+case \"$enableval\" in\n+yes) enable_static=yes ;;\n+no) enable_static=no ;;\n+*)\n+  enable_static=no\n+  # Look at the argument we got.  We use all the common list separators.\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:,\"\n+  for pkg in $enableval; do\n+    if test \"X$pkg\" = \"X$p\"; then\n+      enable_static=yes\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  ;;\n+esac],\n+enable_static=AM_ENABLE_STATIC_DEFAULT)dnl\n+])\n+\n+\n+# AM_PROG_LD - find the path to the GNU or non-GNU linker\n+AC_DEFUN(AM_PROG_LD,\n+[AC_ARG_WITH(gnu-ld,\n+[  --with-gnu-ld           assume the C compiler uses GNU ld [default=no]],\n+test \"$withval\" = no || with_gnu_ld=yes, with_gnu_ld=no)\n+AC_REQUIRE([AC_PROG_CC])\n+ac_prog=ld\n+if test \"$ac_cv_prog_gcc\" = yes; then\n+  # Check if gcc -print-prog-name=ld gives a path.\n+  AC_MSG_CHECKING([for ld used by GCC])\n+  ac_prog=`($CC -print-prog-name=ld) 2>&5`\n+  case \"$ac_prog\" in\n+  # Accept absolute paths.\n+changequote(,)dnl\n+  /* | [A-Za-z]:\\\\*)\n+changequote([,])dnl\n+    test -z \"$LD\" && LD=\"$ac_prog\"\n+    ;;\n+  \"\")\n+    # If it fails, then pretend we aren't using GCC.\n+    ac_prog=ld\n+    ;;\n+  *)\n+    # If it is relative, then search for the first ld in PATH.\n+    with_gnu_ld=unknown\n+    ;;\n+  esac\n+elif test \"$with_gnu_ld\" = yes; then\n+  AC_MSG_CHECKING([for GNU ld])\n+else\n+  AC_MSG_CHECKING([for non-GNU ld])\n+fi\n+AC_CACHE_VAL(ac_cv_path_LD,\n+[if test -z \"$LD\"; then\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n+  for ac_dir in $PATH; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f \"$ac_dir/$ac_prog\"; then\n+      ac_cv_path_LD=\"$ac_dir/$ac_prog\"\n+      # Check to see if the program is GNU ld.  I'd rather use --version,\n+      # but apparently some GNU ld's only accept -v.\n+      # Break only if it was the GNU/non-GNU ld that we prefer.\n+      if \"$ac_cv_path_LD\" -v 2>&1 < /dev/null | egrep '(GNU|with BFD)' > /dev/null; then\n+\ttest \"$with_gnu_ld\" != no && break\n+      else\n+        test \"$with_gnu_ld\" != yes && break\n+      fi\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+else\n+  ac_cv_path_LD=\"$LD\" # Let the user override the test with a path.\n+fi])\n+LD=\"$ac_cv_path_LD\"\n+if test -n \"$LD\"; then\n+  AC_MSG_RESULT($LD)\n+else\n+  AC_MSG_RESULT(no)\n+fi\n+test -z \"$LD\" && AC_MSG_ERROR([no acceptable ld found in \\$PATH])\n+AC_SUBST(LD)\n+AM_PROG_LD_GNU\n+])\n+\n+AC_DEFUN(AM_PROG_LD_GNU,\n+[AC_CACHE_CHECK([if the linker ($LD) is GNU ld], ac_cv_prog_gnu_ld,\n+[# I'd rather use --version here, but apparently some GNU ld's only accept -v.\n+if $LD -v 2>&1 </dev/null | egrep '(GNU|with BFD)' 1>&5; then\n+  ac_cv_prog_gnu_ld=yes\n+else\n+  ac_cv_prog_gnu_ld=no\n+fi])\n+])\n+\n+# AM_PROG_NM - find the path to a BSD-compatible name lister\n+AC_DEFUN(AM_PROG_NM,\n+[AC_MSG_CHECKING([for BSD-compatible nm])\n+AC_CACHE_VAL(ac_cv_path_NM,\n+[if test -n \"$NM\"; then\n+  # Let the user override the test.\n+  ac_cv_path_NM=\"$NM\"\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n+  for ac_dir in /usr/ucb /usr/ccs/bin $PATH /bin; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/nm; then\n+      # Check to see if the nm accepts a BSD-compat flag.\n+      # Adding the `sed 1q' prevents false positives on HP-UX, which says:\n+      #   nm: unknown option \"B\" ignored\n+      if ($ac_dir/nm -B /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then\n+        ac_cv_path_NM=\"$ac_dir/nm -B\"\n+      elif ($ac_dir/nm -p /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then\n+        ac_cv_path_NM=\"$ac_dir/nm -p\"\n+      else\n+        ac_cv_path_NM=\"$ac_dir/nm\"\n+      fi\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_path_NM\" && ac_cv_path_NM=nm\n+fi])\n+NM=\"$ac_cv_path_NM\"\n+AC_MSG_RESULT([$NM])\n+AC_SUBST(NM)\n+])\n+\n+# AM_SYS_LIBTOOL_CYGWIN32 - find tools needed on cygwin32\n+AC_DEFUN(AM_SYS_LIBTOOL_CYGWIN32,\n+[AC_CHECK_TOOL(DLLTOOL, dlltool, false)\n+AC_CHECK_TOOL(AS, as, false)\n+])\n+"}, {"sha": "be0d6881aaf538f626a405af84673597be4a3b97", "filename": "boehm-gc/configure", "status": "modified", "additions": 686, "deletions": 45, "changes": 731, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab/boehm-gc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab/boehm-gc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/boehm-gc%2Fconfigure?ref=66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab", "patch": "@@ -16,6 +16,12 @@ ac_help=\"$ac_help\n ac_help=\"$ac_help\n   --enable-maintainer-mode enable make rules and dependencies not useful\n                           (and sometimes confusing) to the casual installer\"\n+ac_help=\"$ac_help\n+  --enable-shared[=PKGS]  build shared libraries [default=yes]\"\n+ac_help=\"$ac_help\n+  --enable-static[=PKGS]  build static libraries [default=yes]\"\n+ac_help=\"$ac_help\n+  --with-gnu-ld           assume the C compiler uses GNU ld [default=no]\"\n ac_help=\"$ac_help\n   --with-target-subdir=SUBDIR      Configuring with a cross compiler\"\n ac_help=\"$ac_help\n@@ -588,7 +594,7 @@ else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n fi\n \n echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:592: checking host system type\" >&5\n+echo \"configure:598: checking host system type\" >&5\n \n host_alias=$host\n case \"$host_alias\" in\n@@ -609,7 +615,7 @@ host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$host\" 1>&6\n \n echo $ac_n \"checking target system type\"\"... $ac_c\" 1>&6\n-echo \"configure:613: checking target system type\" >&5\n+echo \"configure:619: checking target system type\" >&5\n \n target_alias=$target\n case \"$target_alias\" in\n@@ -627,7 +633,7 @@ target_os=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$target\" 1>&6\n \n echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:631: checking build system type\" >&5\n+echo \"configure:637: checking build system type\" >&5\n \n build_alias=$build\n case \"$build_alias\" in\n@@ -662,7 +668,7 @@ test \"$host_alias\" != \"$target_alias\" &&\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:666: checking for a BSD compatible install\" >&5\n+echo \"configure:672: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -715,7 +721,7 @@ test -z \"$INSTALL_SCRIPT\" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'\n test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n echo $ac_n \"checking whether build environment is sane\"\"... $ac_c\" 1>&6\n-echo \"configure:719: checking whether build environment is sane\" >&5\n+echo \"configure:725: checking whether build environment is sane\" >&5\n # Just in case\n sleep 1\n echo timestamp > conftestfile\n@@ -772,7 +778,7 @@ test \"$program_suffix\" != NONE &&\n test \"$program_transform_name\" = \"\" && program_transform_name=\"s,x,x,\"\n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:776: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:782: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -805,12 +811,12 @@ else\n fi\n \n echo $ac_n \"checking for Cygwin environment\"\"... $ac_c\" 1>&6\n-echo \"configure:809: checking for Cygwin environment\" >&5\n+echo \"configure:815: checking for Cygwin environment\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_cygwin'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 814 \"configure\"\n+#line 820 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -821,7 +827,7 @@ int main() {\n return __CYGWIN__;\n ; return 0; }\n EOF\n-if { (eval echo configure:825: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:831: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_cygwin=yes\n else\n@@ -838,19 +844,19 @@ echo \"$ac_t\"\"$ac_cv_cygwin\" 1>&6\n CYGWIN=\n test \"$ac_cv_cygwin\" = yes && CYGWIN=yes\n echo $ac_n \"checking for mingw32 environment\"\"... $ac_c\" 1>&6\n-echo \"configure:842: checking for mingw32 environment\" >&5\n+echo \"configure:848: checking for mingw32 environment\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_mingw32'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 847 \"configure\"\n+#line 853 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n return __MINGW32__;\n ; return 0; }\n EOF\n-if { (eval echo configure:854: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:860: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_mingw32=yes\n else\n@@ -898,7 +904,7 @@ else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n fi\n \n echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:902: checking host system type\" >&5\n+echo \"configure:908: checking host system type\" >&5\n \n host_alias=$host\n case \"$host_alias\" in\n@@ -932,7 +938,7 @@ fi\n \n missing_dir=`cd $ac_aux_dir && pwd`\n echo $ac_n \"checking for working aclocal\"\"... $ac_c\" 1>&6\n-echo \"configure:936: checking for working aclocal\" >&5\n+echo \"configure:942: checking for working aclocal\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -945,7 +951,7 @@ else\n fi\n \n echo $ac_n \"checking for working autoconf\"\"... $ac_c\" 1>&6\n-echo \"configure:949: checking for working autoconf\" >&5\n+echo \"configure:955: checking for working autoconf\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -958,7 +964,7 @@ else\n fi\n \n echo $ac_n \"checking for working automake\"\"... $ac_c\" 1>&6\n-echo \"configure:962: checking for working automake\" >&5\n+echo \"configure:968: checking for working automake\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -971,7 +977,7 @@ else\n fi\n \n echo $ac_n \"checking for working autoheader\"\"... $ac_c\" 1>&6\n-echo \"configure:975: checking for working autoheader\" >&5\n+echo \"configure:981: checking for working autoheader\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -984,7 +990,7 @@ else\n fi\n \n echo $ac_n \"checking for working makeinfo\"\"... $ac_c\" 1>&6\n-echo \"configure:988: checking for working makeinfo\" >&5\n+echo \"configure:994: checking for working makeinfo\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -1009,7 +1015,7 @@ fi\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1013: checking for $ac_word\" >&5\n+echo \"configure:1019: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1039,7 +1045,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1043: checking for $ac_word\" >&5\n+echo \"configure:1049: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1088,7 +1094,7 @@ fi\n fi\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:1092: checking whether we are using GNU C\" >&5\n+echo \"configure:1098: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1097,7 +1103,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1101: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1107: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -1112,7 +1118,7 @@ if test $ac_cv_prog_gcc = yes; then\n   ac_save_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\n   echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:1116: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:1122: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1148,7 +1154,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1152: checking for $ac_word\" >&5\n+echo \"configure:1158: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CXX'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1181,7 +1187,7 @@ test -n \"$CXX\" || CXX=\"gcc\"\n test -z \"$CXX\" && { echo \"configure: error: no acceptable c++ found in \\$PATH\" 1>&2; exit 1; }\n \n echo $ac_n \"checking whether we are using GNU C++\"\"... $ac_c\" 1>&6\n-echo \"configure:1185: checking whether we are using GNU C++\" >&5\n+echo \"configure:1191: checking whether we are using GNU C++\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gxx'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1190,7 +1196,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CXX-g++} -E conftest.C'; { (eval echo configure:1194: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CXX-g++} -E conftest.C'; { (eval echo configure:1200: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gxx=yes\n else\n   ac_cv_prog_gxx=no\n@@ -1205,7 +1211,7 @@ if test $ac_cv_prog_gxx = yes; then\n   ac_save_CXXFLAGS=\"$CXXFLAGS\"\n   CXXFLAGS=\n   echo $ac_n \"checking whether ${CXX-g++} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:1209: checking whether ${CXX-g++} accepts -g\" >&5\n+echo \"configure:1215: checking whether ${CXX-g++} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cxx_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1238,7 +1244,7 @@ fi\n # NEWLIB_CONFIGURE, which doesn't work because that means that it will\n # be run before AC_CANONICAL_HOST.\n echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:1242: checking build system type\" >&5\n+echo \"configure:1248: checking build system type\" >&5\n \n build_alias=$build\n case \"$build_alias\" in\n@@ -1259,7 +1265,7 @@ echo \"$ac_t\"\"$build\" 1>&6\n # Extract the first word of \"${ac_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1263: checking for $ac_word\" >&5\n+echo \"configure:1269: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1291,7 +1297,7 @@ fi\n # Extract the first word of \"${ac_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1295: checking for $ac_word\" >&5\n+echo \"configure:1301: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1323,7 +1329,7 @@ fi\n # Extract the first word of \"${ac_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1327: checking for $ac_word\" >&5\n+echo \"configure:1333: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1355,7 +1361,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1359: checking for $ac_word\" >&5\n+echo \"configure:1365: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1400,7 +1406,7 @@ fi\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:1404: checking for a BSD compatible install\" >&5\n+echo \"configure:1410: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1454,7 +1460,7 @@ test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:1458: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:1464: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -1488,7 +1494,7 @@ if false; then\n   \n \n echo $ac_n \"checking for executable suffix\"\"... $ac_c\" 1>&6\n-echo \"configure:1492: checking for executable suffix\" >&5\n+echo \"configure:1498: checking for executable suffix\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_exeext'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1498,7 +1504,7 @@ else\n   rm -f conftest*\n   echo 'int main () { return 0; }' > conftest.$ac_ext\n   ac_cv_exeext=\n-  if { (eval echo configure:1502: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n+  if { (eval echo configure:1508: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n     for file in conftest.*; do\n       case $file in\n       *.c | *.o | *.obj | *.ilk | *.pdb) ;;\n@@ -1540,6 +1546,636 @@ BOEHM_GC_CFLAGS=${boehm_gc_cflags}\n \n \n \n+# Check whether --enable-shared or --disable-shared was given.\n+if test \"${enable_shared+set}\" = set; then\n+  enableval=\"$enable_shared\"\n+  p=${PACKAGE-default}\n+case \"$enableval\" in\n+yes) enable_shared=yes ;;\n+no) enable_shared=no ;;\n+*)\n+  enable_shared=no\n+  # Look at the argument we got.  We use all the common list separators.\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:,\"\n+  for pkg in $enableval; do\n+    if test \"X$pkg\" = \"X$p\"; then\n+      enable_shared=yes\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  ;;\n+esac\n+else\n+  enable_shared=yes\n+fi\n+\n+# Check whether --enable-static or --disable-static was given.\n+if test \"${enable_static+set}\" = set; then\n+  enableval=\"$enable_static\"\n+  p=${PACKAGE-default}\n+case \"$enableval\" in\n+yes) enable_static=yes ;;\n+no) enable_static=no ;;\n+*)\n+  enable_static=no\n+  # Look at the argument we got.  We use all the common list separators.\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:,\"\n+  for pkg in $enableval; do\n+    if test \"X$pkg\" = \"X$p\"; then\n+      enable_static=yes\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  ;;\n+esac\n+else\n+  enable_static=yes\n+fi\n+\n+# Extract the first word of \"ranlib\", so it can be a program name with args.\n+set dummy ranlib; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:1599: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$RANLIB\"; then\n+  ac_cv_prog_RANLIB=\"$RANLIB\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_RANLIB=\"ranlib\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_prog_RANLIB\" && ac_cv_prog_RANLIB=\":\"\n+fi\n+fi\n+RANLIB=\"$ac_cv_prog_RANLIB\"\n+if test -n \"$RANLIB\"; then\n+  echo \"$ac_t\"\"$RANLIB\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+# Extract the first word of \"gcc\", so it can be a program name with args.\n+set dummy gcc; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:1629: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$CC\"; then\n+  ac_cv_prog_CC=\"$CC\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_CC=\"gcc\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+fi\n+fi\n+CC=\"$ac_cv_prog_CC\"\n+if test -n \"$CC\"; then\n+  echo \"$ac_t\"\"$CC\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+if test -z \"$CC\"; then\n+  # Extract the first word of \"cc\", so it can be a program name with args.\n+set dummy cc; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:1659: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$CC\"; then\n+  ac_cv_prog_CC=\"$CC\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_prog_rejected=no\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      if test \"$ac_dir/$ac_word\" = \"/usr/ucb/cc\"; then\n+        ac_prog_rejected=yes\n+\tcontinue\n+      fi\n+      ac_cv_prog_CC=\"cc\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+if test $ac_prog_rejected = yes; then\n+  # We found a bogon in the path, so make sure we never use it.\n+  set dummy $ac_cv_prog_CC\n+  shift\n+  if test $# -gt 0; then\n+    # We chose a different compiler from the bogus one.\n+    # However, it has the same basename, so the bogon will be chosen\n+    # first if we set CC to just the basename; use the full file name.\n+    shift\n+    set dummy \"$ac_dir/$ac_word\" \"$@\"\n+    shift\n+    ac_cv_prog_CC=\"$@\"\n+  fi\n+fi\n+fi\n+fi\n+CC=\"$ac_cv_prog_CC\"\n+if test -n \"$CC\"; then\n+  echo \"$ac_t\"\"$CC\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+  if test -z \"$CC\"; then\n+    case \"`uname -s`\" in\n+    *win32* | *WIN32*)\n+      # Extract the first word of \"cl\", so it can be a program name with args.\n+set dummy cl; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:1710: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$CC\"; then\n+  ac_cv_prog_CC=\"$CC\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_CC=\"cl\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+fi\n+fi\n+CC=\"$ac_cv_prog_CC\"\n+if test -n \"$CC\"; then\n+  echo \"$ac_t\"\"$CC\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+ ;;\n+    esac\n+  fi\n+  test -z \"$CC\" && { echo \"configure: error: no acceptable cc found in \\$PATH\" 1>&2; exit 1; }\n+fi\n+\n+echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n+echo \"configure:1742: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+\n+ac_ext=c\n+# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n+ac_cpp='$CPP $CPPFLAGS'\n+ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'\n+ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'\n+cross_compiling=$ac_cv_prog_cc_cross\n+\n+cat > conftest.$ac_ext << EOF\n+\n+#line 1753 \"configure\"\n+#include \"confdefs.h\"\n+\n+main(){return(0);}\n+EOF\n+if { (eval echo configure:1758: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+  ac_cv_prog_cc_works=yes\n+  # If we can't run a trivial program, we are probably using a cross compiler.\n+  if (./conftest; exit) 2>/dev/null; then\n+    ac_cv_prog_cc_cross=no\n+  else\n+    ac_cv_prog_cc_cross=yes\n+  fi\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  ac_cv_prog_cc_works=no\n+fi\n+rm -fr conftest*\n+ac_ext=c\n+# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n+ac_cpp='$CPP $CPPFLAGS'\n+ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'\n+ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'\n+cross_compiling=$ac_cv_prog_cc_cross\n+\n+echo \"$ac_t\"\"$ac_cv_prog_cc_works\" 1>&6\n+if test $ac_cv_prog_cc_works = no; then\n+  { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n+fi\n+echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n+echo \"configure:1784: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n+cross_compiling=$ac_cv_prog_cc_cross\n+\n+echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n+echo \"configure:1789: checking whether we are using GNU C\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.c <<EOF\n+#ifdef __GNUC__\n+  yes;\n+#endif\n+EOF\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1798: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+  ac_cv_prog_gcc=yes\n+else\n+  ac_cv_prog_gcc=no\n+fi\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_prog_gcc\" 1>&6\n+\n+if test $ac_cv_prog_gcc = yes; then\n+  GCC=yes\n+else\n+  GCC=\n+fi\n+\n+ac_test_CFLAGS=\"${CFLAGS+set}\"\n+ac_save_CFLAGS=\"$CFLAGS\"\n+CFLAGS=\n+echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n+echo \"configure:1817: checking whether ${CC-cc} accepts -g\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  echo 'void f(){}' > conftest.c\n+if test -z \"`${CC-cc} -g -c conftest.c 2>&1`\"; then\n+  ac_cv_prog_cc_g=yes\n+else\n+  ac_cv_prog_cc_g=no\n+fi\n+rm -f conftest*\n+\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_prog_cc_g\" 1>&6\n+if test \"$ac_test_CFLAGS\" = set; then\n+  CFLAGS=\"$ac_save_CFLAGS\"\n+elif test $ac_cv_prog_cc_g = yes; then\n+  if test \"$GCC\" = yes; then\n+    CFLAGS=\"-g -O2\"\n+  else\n+    CFLAGS=\"-g\"\n+  fi\n+else\n+  if test \"$GCC\" = yes; then\n+    CFLAGS=\"-O2\"\n+  else\n+    CFLAGS=\n+  fi\n+fi\n+\n+# Check whether --with-gnu-ld or --without-gnu-ld was given.\n+if test \"${with_gnu_ld+set}\" = set; then\n+  withval=\"$with_gnu_ld\"\n+  test \"$withval\" = no || with_gnu_ld=yes\n+else\n+  with_gnu_ld=no\n+fi\n+\n+\n+ac_prog=ld\n+if test \"$ac_cv_prog_gcc\" = yes; then\n+  # Check if gcc -print-prog-name=ld gives a path.\n+  echo $ac_n \"checking for ld used by GCC\"\"... $ac_c\" 1>&6\n+echo \"configure:1861: checking for ld used by GCC\" >&5\n+  ac_prog=`($CC -print-prog-name=ld) 2>&5`\n+  case \"$ac_prog\" in\n+  # Accept absolute paths.\n+  /* | [A-Za-z]:\\\\*)\n+    test -z \"$LD\" && LD=\"$ac_prog\"\n+    ;;\n+  \"\")\n+    # If it fails, then pretend we aren't using GCC.\n+    ac_prog=ld\n+    ;;\n+  *)\n+    # If it is relative, then search for the first ld in PATH.\n+    with_gnu_ld=unknown\n+    ;;\n+  esac\n+elif test \"$with_gnu_ld\" = yes; then\n+  echo $ac_n \"checking for GNU ld\"\"... $ac_c\" 1>&6\n+echo \"configure:1879: checking for GNU ld\" >&5\n+else\n+  echo $ac_n \"checking for non-GNU ld\"\"... $ac_c\" 1>&6\n+echo \"configure:1882: checking for non-GNU ld\" >&5\n+fi\n+if eval \"test \\\"`echo '$''{'ac_cv_path_LD'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -z \"$LD\"; then\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n+  for ac_dir in $PATH; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f \"$ac_dir/$ac_prog\"; then\n+      ac_cv_path_LD=\"$ac_dir/$ac_prog\"\n+      # Check to see if the program is GNU ld.  I'd rather use --version,\n+      # but apparently some GNU ld's only accept -v.\n+      # Break only if it was the GNU/non-GNU ld that we prefer.\n+      if \"$ac_cv_path_LD\" -v 2>&1 < /dev/null | egrep '(GNU|with BFD)' > /dev/null; then\n+\ttest \"$with_gnu_ld\" != no && break\n+      else\n+        test \"$with_gnu_ld\" != yes && break\n+      fi\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+else\n+  ac_cv_path_LD=\"$LD\" # Let the user override the test with a path.\n+fi\n+fi\n+\n+LD=\"$ac_cv_path_LD\"\n+if test -n \"$LD\"; then\n+  echo \"$ac_t\"\"$LD\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+test -z \"$LD\" && { echo \"configure: error: no acceptable ld found in \\$PATH\" 1>&2; exit 1; }\n+\n+echo $ac_n \"checking if the linker ($LD) is GNU ld\"\"... $ac_c\" 1>&6\n+echo \"configure:1918: checking if the linker ($LD) is GNU ld\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_gnu_ld'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  # I'd rather use --version here, but apparently some GNU ld's only accept -v.\n+if $LD -v 2>&1 </dev/null | egrep '(GNU|with BFD)' 1>&5; then\n+  ac_cv_prog_gnu_ld=yes\n+else\n+  ac_cv_prog_gnu_ld=no\n+fi\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_prog_gnu_ld\" 1>&6\n+\n+\n+echo $ac_n \"checking for BSD-compatible nm\"\"... $ac_c\" 1>&6\n+echo \"configure:1934: checking for BSD-compatible nm\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_path_NM'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$NM\"; then\n+  # Let the user override the test.\n+  ac_cv_path_NM=\"$NM\"\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n+  for ac_dir in /usr/ucb /usr/ccs/bin $PATH /bin; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/nm; then\n+      # Check to see if the nm accepts a BSD-compat flag.\n+      # Adding the `sed 1q' prevents false positives on HP-UX, which says:\n+      #   nm: unknown option \"B\" ignored\n+      if ($ac_dir/nm -B /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then\n+        ac_cv_path_NM=\"$ac_dir/nm -B\"\n+      elif ($ac_dir/nm -p /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then\n+        ac_cv_path_NM=\"$ac_dir/nm -p\"\n+      else\n+        ac_cv_path_NM=\"$ac_dir/nm\"\n+      fi\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_path_NM\" && ac_cv_path_NM=nm\n+fi\n+fi\n+\n+NM=\"$ac_cv_path_NM\"\n+echo \"$ac_t\"\"$NM\" 1>&6\n+\n+\n+echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n+echo \"configure:1969: checking whether ln -s works\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_LN_S'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  rm -f conftestdata\n+if ln -s X conftestdata 2>/dev/null\n+then\n+  rm -f conftestdata\n+  ac_cv_prog_LN_S=\"ln -s\"\n+else\n+  ac_cv_prog_LN_S=ln\n+fi\n+fi\n+LN_S=\"$ac_cv_prog_LN_S\"\n+if test \"$ac_cv_prog_LN_S\" = \"ln -s\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+# Always use our own libtool.\n+LIBTOOL='$(SHELL) $(top_builddir)/libtool'\n+\n+# Check for any special flags to pass to ltconfig.\n+libtool_flags=\n+test \"$enable_shared\" = no && libtool_flags=\"$libtool_flags --disable-shared\"\n+test \"$enable_static\" = no && libtool_flags=\"$libtool_flags --disable-static\"\n+test \"$silent\" = yes && libtool_flags=\"$libtool_flags --silent\"\n+test \"$ac_cv_prog_gcc\" = yes && libtool_flags=\"$libtool_flags --with-gcc\"\n+test \"$ac_cv_prog_gnu_ld\" = yes && libtool_flags=\"$libtool_flags --with-gnu-ld\"\n+\n+# Some flags need to be propagated to the compiler or linker for good\n+# libtool support.\n+case \"$host\" in\n+*-*-irix6*)\n+  # Find out which ABI we are using.\n+  echo '#line 2005 \"configure\"' > conftest.$ac_ext\n+  if { (eval echo configure:2006: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+    case \"`/usr/bin/file conftest.o`\" in\n+    *32-bit*)\n+      LD=\"${LD-ld} -32\"\n+      ;;\n+    *N32*)\n+      LD=\"${LD-ld} -n32\"\n+      ;;\n+    *64-bit*)\n+      LD=\"${LD-ld} -64\"\n+      ;;\n+    esac\n+  fi\n+  rm -rf conftest*\n+  ;;\n+\n+*-*-sco3.2v5*)\n+  # On SCO OpenServer 5, we need -belf to get full-featured binaries.\n+  CFLAGS=\"$CFLAGS -belf\"\n+  ;;\n+\n+*-*-cygwin32*)\n+  # Extract the first word of \"${ac_tool_prefix}dlltool\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}dlltool; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:2031: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$DLLTOOL\"; then\n+  ac_cv_prog_DLLTOOL=\"$DLLTOOL\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_DLLTOOL=\"${ac_tool_prefix}dlltool\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+fi\n+fi\n+DLLTOOL=\"$ac_cv_prog_DLLTOOL\"\n+if test -n \"$DLLTOOL\"; then\n+  echo \"$ac_t\"\"$DLLTOOL\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+\n+if test -z \"$ac_cv_prog_DLLTOOL\"; then\n+if test -n \"$ac_tool_prefix\"; then\n+  # Extract the first word of \"dlltool\", so it can be a program name with args.\n+set dummy dlltool; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:2063: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$DLLTOOL\"; then\n+  ac_cv_prog_DLLTOOL=\"$DLLTOOL\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_DLLTOOL=\"dlltool\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_prog_DLLTOOL\" && ac_cv_prog_DLLTOOL=\"false\"\n+fi\n+fi\n+DLLTOOL=\"$ac_cv_prog_DLLTOOL\"\n+if test -n \"$DLLTOOL\"; then\n+  echo \"$ac_t\"\"$DLLTOOL\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+else\n+  DLLTOOL=\"false\"\n+fi\n+fi\n+\n+# Extract the first word of \"${ac_tool_prefix}as\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}as; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:2098: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$AS\"; then\n+  ac_cv_prog_AS=\"$AS\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_AS=\"${ac_tool_prefix}as\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+fi\n+fi\n+AS=\"$ac_cv_prog_AS\"\n+if test -n \"$AS\"; then\n+  echo \"$ac_t\"\"$AS\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+\n+if test -z \"$ac_cv_prog_AS\"; then\n+if test -n \"$ac_tool_prefix\"; then\n+  # Extract the first word of \"as\", so it can be a program name with args.\n+set dummy as; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:2130: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$AS\"; then\n+  ac_cv_prog_AS=\"$AS\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_AS=\"as\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_prog_AS\" && ac_cv_prog_AS=\"false\"\n+fi\n+fi\n+AS=\"$ac_cv_prog_AS\"\n+if test -n \"$AS\"; then\n+  echo \"$ac_t\"\"$AS\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+else\n+  AS=\"false\"\n+fi\n+fi\n+\n+\n+  ;;\n+\n+esac\n+\n+# Actually configure libtool.  ac_aux_dir is where install-sh is found.\n+CC=\"$CC\" CFLAGS=\"$CFLAGS\" CPPFLAGS=\"$CPPFLAGS\" \\\n+LD=\"$LD\" NM=\"$NM\" RANLIB=\"$RANLIB\" LN_S=\"$LN_S\" \\\n+DLLTOOL=\"$DLLTOOL\" AS=\"$AS\" \\\n+${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig --no-reexec \\\n+$libtool_flags --no-verify $ac_aux_dir/ltmain.sh $host \\\n+|| { echo \"configure: error: libtool configure failed\" 1>&2; exit 1; }\n+\n+# Redirect the config.log output again, so that the ltconfig log is not\n+# clobbered by the next message.\n+exec 5>>./config.log\n+\n+\n # Check whether --with-target-subdir or --without-target-subdir was given.\n if test \"${with_target_subdir+set}\" = set; then\n   withval=\"$with_target_subdir\"\n@@ -1554,7 +2190,7 @@ fi\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:1558: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:2194: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -1583,7 +2219,7 @@ if test \"x\" = \"y\"; then\n    \n \n echo $ac_n \"checking for executable suffix\"\"... $ac_c\" 1>&6\n-echo \"configure:1587: checking for executable suffix\" >&5\n+echo \"configure:2223: checking for executable suffix\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_exeext'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1593,7 +2229,7 @@ else\n   rm -f conftest*\n   echo 'int main () { return 0; }' > conftest.$ac_ext\n   ac_cv_exeext=\n-  if { (eval echo configure:1597: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n+  if { (eval echo configure:2233: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n     for file in conftest.*; do\n       case $file in\n       *.c | *.o | *.obj | *.ilk | *.pdb) ;;\n@@ -1616,7 +2252,7 @@ ac_exeext=$EXEEXT\n fi\n \n echo $ac_n \"checking for threads package to use\"\"... $ac_c\" 1>&6\n-echo \"configure:1620: checking for threads package to use\" >&5\n+echo \"configure:2256: checking for threads package to use\" >&5\n # Check whether --enable-threads or --disable-threads was given.\n if test \"${enable_threads+set}\" = set; then\n   enableval=\"$enable_threads\"\n@@ -1710,7 +2346,7 @@ fi\n \n target_all=\n if test \"$GC\" = \"boehm\"; then\n-   target_all=libgcjgc.a\n+   target_all=libgcjgc.la\n fi\n \n \n@@ -1734,7 +2370,7 @@ case \"$TARGET_ECOS\" in\n EOF\n \n       CXXINCLUDES=\"-I${TARGET_ECOS}/include\"\n-      addobjs=\"$addobjs ecos.o\"\n+      addobjs=\"$addobjs ecos.lo\"\n       ;;\n esac\n \n@@ -1745,10 +2381,10 @@ esac\n machdep=\n case \"$host\" in\n  alpha-*-*)\n-    machdep=\"alpha_mach_dep.o\"\n+    machdep=\"alpha_mach_dep.lo\"\n     ;;\n  mipstx39-*-elf*)\n-    machdep=\"mips_ultrix_mach_dep.o\"\n+    machdep=\"mips_ultrix_mach_dep.lo\"\n     cat >> confdefs.h <<\\EOF\n #define STACKBASE __stackbase\n EOF\n@@ -1766,7 +2402,7 @@ EOF\n     ;;\n esac\n if test x\"$machdep\" = x; then\n-   machdep=\"mach_dep.o\"\n+   machdep=\"mach_dep.lo\"\n fi\n addobjs=\"$addobjs $machdep\"\n \n@@ -2014,6 +2650,11 @@ s%@MAINTAINER_MODE_FALSE@%$MAINTAINER_MODE_FALSE%g\n s%@MAINT@%$MAINT%g\n s%@EXEEXT@%$EXEEXT%g\n s%@BOEHM_GC_CFLAGS@%$BOEHM_GC_CFLAGS%g\n+s%@LD@%$LD%g\n+s%@NM@%$NM%g\n+s%@LN_S@%$LN_S%g\n+s%@LIBTOOL@%$LIBTOOL%g\n+s%@DLLTOOL@%$DLLTOOL%g\n s%@target_all@%$target_all%g\n s%@INCLUDES@%$INCLUDES%g\n s%@CXXINCLUDES@%$CXXINCLUDES%g"}, {"sha": "eb37d7b8d3f30a478d926928d6edfce4063abdc8", "filename": "boehm-gc/configure.in", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab/boehm-gc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab/boehm-gc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/boehm-gc%2Fconfigure.in?ref=66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab", "patch": "@@ -9,6 +9,8 @@ AC_CANONICAL_SYSTEM\n \n BOEHM_CONFIGURE(.)\n \n+AM_PROG_LIBTOOL\n+\n dnl We use these options to decide which functions to include.\n AC_ARG_WITH(target-subdir,\n [  --with-target-subdir=SUBDIR      Configuring with a cross compiler])\n@@ -95,7 +97,7 @@ changequote([,])\n   GC=boehm)\n target_all=\n if test \"$GC\" = \"boehm\"; then\n-   target_all=libgcjgc.a\n+   target_all=libgcjgc.la\n fi\n AC_SUBST(target_all)\n \n@@ -117,7 +119,7 @@ case \"$TARGET_ECOS\" in\n    *)\n       AC_DEFINE(ECOS)\n       CXXINCLUDES=\"-I${TARGET_ECOS}/include\"\n-      addobjs=\"$addobjs ecos.o\"\n+      addobjs=\"$addobjs ecos.lo\"\n       ;;\n esac\n AC_SUBST(CXX)\n@@ -128,10 +130,10 @@ AC_SUBST(CXXINCLUDES)\n machdep=\n case \"$host\" in\n  alpha-*-*)\n-    machdep=\"alpha_mach_dep.o\"\n+    machdep=\"alpha_mach_dep.lo\"\n     ;;\n  mipstx39-*-elf*)\n-    machdep=\"mips_ultrix_mach_dep.o\"\n+    machdep=\"mips_ultrix_mach_dep.lo\"\n     AC_DEFINE(STACKBASE, __stackbase)\n     AC_DEFINE(DATASTART_IS_ETEXT)\n     ;;\n@@ -140,7 +142,7 @@ case \"$host\" in\n     ;;\n esac\n if test x\"$machdep\" = x; then\n-   machdep=\"mach_dep.o\"\n+   machdep=\"mach_dep.lo\"\n fi\n addobjs=\"$addobjs $machdep\"\n AC_SUBST(addobjs)"}, {"sha": "d0f523c340022eaf65a0a6959c13a0428f6822be", "filename": "boehm-gc/dyn_load.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab/boehm-gc%2Fdyn_load.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab/boehm-gc%2Fdyn_load.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/boehm-gc%2Fdyn_load.c?ref=66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab", "patch": "@@ -284,6 +284,11 @@ void GC_register_dynamic_libraries()\n static struct link_map *\n GC_FirstDLOpenedLinkMap()\n {\n+#ifdef __GNUC__\n+  /* On some Linux systems, `_DYNAMIC' will not be defined when a\n+     static link is done.  */\n+# pragma weak _DYNAMIC\n+#endif\n     extern ElfW(Dyn) _DYNAMIC[];\n     ElfW(Dyn) *dp;\n     struct r_debug *r;"}, {"sha": "72c87b0802c0961ebb5479e05ccd3d382c2dcd3c", "filename": "boehm-gc/misc.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab/boehm-gc%2Fmisc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab/boehm-gc%2Fmisc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/boehm-gc%2Fmisc.c?ref=66deb2be595d1a2ca4d00cfbf24d13e7a772c5ab", "patch": "@@ -445,7 +445,8 @@ void GC_init_inner()\n \tGC_thr_init();\n #   endif\n #   if !defined(THREADS) || defined(SOLARIS_THREADS) || defined(WIN32_THREADS) \\\n-       || defined(IRIX_THREADS) || defined(LINUX_THREADS)\n+       || defined(IRIX_THREADS) || defined(LINUX_THREADS) \\\n+       || defined (QUICK_THREADS)\n       if (GC_stackbottom == 0) {\n \t  GC_stackbottom = GC_get_stack_base();\n       }"}]}