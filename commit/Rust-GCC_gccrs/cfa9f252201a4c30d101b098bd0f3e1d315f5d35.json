{"sha": "cfa9f252201a4c30d101b098bd0f3e1d315f5d35", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2ZhOWYyNTIyMDFhNGMzMGQxMDFiMDk4YmQwZjNlMWQzMTVmNWQzNQ==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "1999-12-27T16:52:03Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "1999-12-27T16:52:03Z"}, "message": "diagnostic.c (v_message_with_decl): Use .* format specifier instead of building the format specifier width manually.\n\n       * diagnostic.c (v_message_with_decl): Use .* format specifier\n       instead of building the format specifier width manually.\n\nFrom-SVN: r31101", "tree": {"sha": "3f7c0194301a32d799356810134caa7c38f99e30", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3f7c0194301a32d799356810134caa7c38f99e30"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cfa9f252201a4c30d101b098bd0f3e1d315f5d35", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cfa9f252201a4c30d101b098bd0f3e1d315f5d35", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cfa9f252201a4c30d101b098bd0f3e1d315f5d35", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cfa9f252201a4c30d101b098bd0f3e1d315f5d35/comments", "author": null, "committer": null, "parents": [{"sha": "759af044d472040bebcfbde1ed735d24321a0ff0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/759af044d472040bebcfbde1ed735d24321a0ff0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/759af044d472040bebcfbde1ed735d24321a0ff0"}], "stats": {"total": 12, "additions": 4, "deletions": 8}, "files": [{"sha": "676a52558fed2167706290235d8266d922fbd672", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cfa9f252201a4c30d101b098bd0f3e1d315f5d35/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cfa9f252201a4c30d101b098bd0f3e1d315f5d35/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cfa9f252201a4c30d101b098bd0f3e1d315f5d35", "patch": "@@ -1,5 +1,8 @@\n 1999-12-27  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n+\t* diagnostic.c (v_message_with_decl): Use .* format specifier\n+\tinstead of building the format specifier width manually.\n+\n \t* system.h (strsignal): Don't check HAVE_STRSIGNAL when\n \tdetermining whether to provide a prototype.  Remove the\n \tsys_siglist clause in the conditional."}, {"sha": "1365e714d1929bbf124957cee4862ba480c16f3c", "filename": "gcc/diagnostic.c", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cfa9f252201a4c30d101b098bd0f3e1d315f5d35/gcc%2Fdiagnostic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cfa9f252201a4c30d101b098bd0f3e1d315f5d35/gcc%2Fdiagnostic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdiagnostic.c?ref=cfa9f252201a4c30d101b098bd0f3e1d315f5d35", "patch": "@@ -198,14 +198,7 @@ v_message_with_decl (decl, warn, msgid, ap)\n     }\n \n   if (p > _(msgid))\t\t\t/* Print the left-hand substring.  */\n-    {\n-      char fmt[sizeof \"%.255s\"];\n-      long width = p - _(msgid);\n-             \n-      if (width > 255L) width = 255L;\t/* arbitrary */\n-      sprintf (fmt, \"%%.%lds\", width);\n-      fprintf (stderr, fmt, _(msgid));\n-    }\n+    fprintf (stderr, \"%.*s\", (int)(p - _(msgid)), _(msgid));\n \n   if (*p == '%')\t\t/* Print the name.  */\n     {"}]}