{"sha": "1f0e9e34f557ca2e184e91720429a2fda1988b69", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWYwZTllMzRmNTU3Y2EyZTE4NGU5MTcyMDQyOWEyZmRhMTk4OGI2OQ==", "commit": {"author": {"name": "James Greenhalgh", "email": "james.greenhalgh@arm.com", "date": "2016-06-20T13:40:07Z"}, "committer": {"name": "James Greenhalgh", "email": "jgreenhalgh@gcc.gnu.org", "date": "2016-06-20T13:40:07Z"}, "message": "[Patch AArch64] Fixup to fcvt patterns added in r237200\n\ngcc/\n\n\t* config/aarch64/aarch64.md\n\t(<FCVT_F2FIXED:fcvt_fixed_insn><GPF:mode>3): Add attributes to\n\titerators.\n\t(<FCVT_FIXED2F:fcvt_fixed_insn><GPI:mode>3): Likewise.  Correct\n\tattributes.\n\t* config/aarch64/aarch64-builtins.c\n\t(aarch64_types_binop_uss_qualifiers): Delete.\n\t(TYPES_BINOP_USS): Likewise.\n\t(aarch64_types_binop_sus_qualifiers): Likewise.\n\t(TYPES_BINOP_SUS): Likewise.\n\t(aarch64_types_fcvt_from_unsigned_qualifiers): New.\n\t(TYPES_FCVTIMM_SUS): Likewise.\n\t* config/aarch64/aarch64-simd-builtins.def (scvtf): Use SHIFTIMM\n\trather than BINOP.\n\t(ucvtf): Use FCVTIMM_SUS rather than BINOP_SUS.\n\t(fcvtzs): Use SHIFTIMM rather than BINOP.\n\t(fcvtzu): Use SHIFTIMM_USS rather than BINOP_USS.\n\nFrom-SVN: r237602", "tree": {"sha": "2d522f88f3e748e4025d3223dc9ae90c21bd6083", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2d522f88f3e748e4025d3223dc9ae90c21bd6083"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1f0e9e34f557ca2e184e91720429a2fda1988b69", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f0e9e34f557ca2e184e91720429a2fda1988b69", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f0e9e34f557ca2e184e91720429a2fda1988b69", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f0e9e34f557ca2e184e91720429a2fda1988b69/comments", "author": {"login": "jgreenhalgh-arm", "id": 6104025, "node_id": "MDQ6VXNlcjYxMDQwMjU=", "avatar_url": "https://avatars.githubusercontent.com/u/6104025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jgreenhalgh-arm", "html_url": "https://github.com/jgreenhalgh-arm", "followers_url": "https://api.github.com/users/jgreenhalgh-arm/followers", "following_url": "https://api.github.com/users/jgreenhalgh-arm/following{/other_user}", "gists_url": "https://api.github.com/users/jgreenhalgh-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jgreenhalgh-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jgreenhalgh-arm/subscriptions", "organizations_url": "https://api.github.com/users/jgreenhalgh-arm/orgs", "repos_url": "https://api.github.com/users/jgreenhalgh-arm/repos", "events_url": "https://api.github.com/users/jgreenhalgh-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/jgreenhalgh-arm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b2fb6b750b8de0131569bdb1b1939cf427db7ae2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2fb6b750b8de0131569bdb1b1939cf427db7ae2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b2fb6b750b8de0131569bdb1b1939cf427db7ae2"}], "stats": {"total": 48, "additions": 32, "deletions": 16}, "files": [{"sha": "1e01322952f21b66b374cb89eb650e653bbd3762", "filename": "gcc/ChangeLog", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f0e9e34f557ca2e184e91720429a2fda1988b69/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f0e9e34f557ca2e184e91720429a2fda1988b69/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1f0e9e34f557ca2e184e91720429a2fda1988b69", "patch": "@@ -1,3 +1,23 @@\n+2016-06-20  James Greenhalgh  <james.greenhalgh@arm.com>\n+\n+\t* config/aarch64/aarch64.md\n+\t(<FCVT_F2FIXED:fcvt_fixed_insn><GPF:mode>3): Add attributes to\n+\titerators.\n+\t(<FCVT_FIXED2F:fcvt_fixed_insn><GPI:mode>3): Likewise.  Correct\n+\tattributes.\n+\t* config/aarch64/aarch64-builtins.c\n+\t(aarch64_types_binop_uss_qualifiers): Delete.\n+\t(TYPES_BINOP_USS): Likewise.\n+\t(aarch64_types_binop_sus_qualifiers): Likewise.\n+\t(TYPES_BINOP_SUS): Likewise.\n+\t(aarch64_types_fcvt_from_unsigned_qualifiers): New.\n+\t(TYPES_FCVTIMM_SUS): Likewise.\n+\t* config/aarch64/aarch64-simd-builtins.def (scvtf): Use SHIFTIMM\n+\trather than BINOP.\n+\t(ucvtf): Use FCVTIMM_SUS rather than BINOP_SUS.\n+\t(fcvtzs): Use SHIFTIMM rather than BINOP.\n+\t(fcvtzu): Use SHIFTIMM_USS rather than BINOP_USS.\n+\n 2016-06-20  James Greenhalgh  <james.greenhalgh@arm.com>\n \n \t* config/arm/aarch-cost-tables.h (cortexa57_extra_costs): Make FP"}, {"sha": "6b90b2af5e9d2b5e7f48569ec1ebcb0ef16314ee", "filename": "gcc/config/aarch64/aarch64-builtins.c", "status": "modified", "additions": 4, "deletions": 8, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f0e9e34f557ca2e184e91720429a2fda1988b69/gcc%2Fconfig%2Faarch64%2Faarch64-builtins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f0e9e34f557ca2e184e91720429a2fda1988b69/gcc%2Fconfig%2Faarch64%2Faarch64-builtins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64-builtins.c?ref=1f0e9e34f557ca2e184e91720429a2fda1988b69", "patch": "@@ -139,14 +139,6 @@ aarch64_types_binop_ssu_qualifiers[SIMD_MAX_BUILTIN_ARGS]\n   = { qualifier_none, qualifier_none, qualifier_unsigned };\n #define TYPES_BINOP_SSU (aarch64_types_binop_ssu_qualifiers)\n static enum aarch64_type_qualifiers\n-aarch64_types_binop_uss_qualifiers[SIMD_MAX_BUILTIN_ARGS]\n-  = { qualifier_unsigned, qualifier_none, qualifier_none };\n-#define TYPES_BINOP_USS (aarch64_types_binop_uss_qualifiers)\n-static enum aarch64_type_qualifiers\n-aarch64_types_binop_sus_qualifiers[SIMD_MAX_BUILTIN_ARGS]\n-  = { qualifier_none, qualifier_unsigned, qualifier_none };\n-#define TYPES_BINOP_SUS (aarch64_types_binop_sus_qualifiers)\n-static enum aarch64_type_qualifiers\n aarch64_types_binopp_qualifiers[SIMD_MAX_BUILTIN_ARGS]\n   = { qualifier_poly, qualifier_poly, qualifier_poly };\n #define TYPES_BINOPP (aarch64_types_binopp_qualifiers)\n@@ -181,6 +173,10 @@ aarch64_types_shift_to_unsigned_qualifiers[SIMD_MAX_BUILTIN_ARGS]\n   = { qualifier_unsigned, qualifier_none, qualifier_immediate };\n #define TYPES_SHIFTIMM_USS (aarch64_types_shift_to_unsigned_qualifiers)\n static enum aarch64_type_qualifiers\n+aarch64_types_fcvt_from_unsigned_qualifiers[SIMD_MAX_BUILTIN_ARGS]\n+  = { qualifier_none, qualifier_unsigned, qualifier_immediate };\n+#define TYPES_FCVTIMM_SUS (aarch64_types_fcvt_from_unsigned_qualifiers)\n+static enum aarch64_type_qualifiers\n aarch64_types_unsigned_shift_qualifiers[SIMD_MAX_BUILTIN_ARGS]\n   = { qualifier_unsigned, qualifier_unsigned, qualifier_immediate };\n #define TYPES_USHIFTIMM (aarch64_types_unsigned_shift_qualifiers)"}, {"sha": "02d465b8a0848d2f1676015462478a83e97e6b9b", "filename": "gcc/config/aarch64/aarch64-simd-builtins.def", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f0e9e34f557ca2e184e91720429a2fda1988b69/gcc%2Fconfig%2Faarch64%2Faarch64-simd-builtins.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f0e9e34f557ca2e184e91720429a2fda1988b69/gcc%2Fconfig%2Faarch64%2Faarch64-simd-builtins.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64-simd-builtins.def?ref=1f0e9e34f557ca2e184e91720429a2fda1988b69", "patch": "@@ -447,10 +447,10 @@\n   BUILTIN_VSDQ_HSI (QUADOP_LANE, sqrdmlsh_laneq, 0)\n \n   /* Implemented by <FCVT_F2FIXED/FIXED2F:fcvt_fixed_insn><*><*>3.  */\n-  BUILTIN_VSDQ_SDI (BINOP, scvtf, 3)\n-  BUILTIN_VSDQ_SDI (BINOP_SUS, ucvtf, 3)\n-  BUILTIN_VALLF (BINOP, fcvtzs, 3)\n-  BUILTIN_VALLF (BINOP_USS, fcvtzu, 3)\n+  BUILTIN_VSDQ_SDI (SHIFTIMM, scvtf, 3)\n+  BUILTIN_VSDQ_SDI (FCVTIMM_SUS, ucvtf, 3)\n+  BUILTIN_VALLF (SHIFTIMM, fcvtzs, 3)\n+  BUILTIN_VALLF (SHIFTIMM_USS, fcvtzu, 3)\n \n   /* Implemented by aarch64_rsqrte<mode>.  */\n   BUILTIN_VALLF (UNOP, rsqrte, 0)"}, {"sha": "bcb7db086574683597d58a69a0fff9f2723d569f", "filename": "gcc/config/aarch64/aarch64.md", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f0e9e34f557ca2e184e91720429a2fda1988b69/gcc%2Fconfig%2Faarch64%2Faarch64.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f0e9e34f557ca2e184e91720429a2fda1988b69/gcc%2Fconfig%2Faarch64%2Faarch64.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.md?ref=1f0e9e34f557ca2e184e91720429a2fda1988b69", "patch": "@@ -4638,8 +4638,8 @@\n \t FCVT_F2FIXED))]\n   \"\"\n   \"@\n-   <FCVT_F2FIXED:fcvt_fixed_insn>\\t%<w1>0, %<s>1, #%2\n-   <FCVT_F2FIXED:fcvt_fixed_insn>\\t%<s>0, %<s>1, #%2\"\n+   <FCVT_F2FIXED:fcvt_fixed_insn>\\t%<GPF:w1>0, %<GPF:s>1, #%2\n+   <FCVT_F2FIXED:fcvt_fixed_insn>\\t%<GPF:s>0, %<GPF:s>1, #%2\"\n   [(set_attr \"type\" \"f_cvtf2i, neon_fp_to_int_<GPF:Vetype>\")\n    (set_attr \"fp\" \"yes, *\")\n    (set_attr \"simd\" \"*, yes\")]\n@@ -4652,8 +4652,8 @@\n \t FCVT_FIXED2F))]\n   \"\"\n   \"@\n-   <FCVT_FIXED2F:fcvt_fixed_insn>\\t%<s>0, %<w1>1, #%2\n-   <FCVT_FIXED2F:fcvt_fixed_insn>\\t%<s>0, %<s>1, #%2\"\n+   <FCVT_FIXED2F:fcvt_fixed_insn>\\t%<GPI:v>0, %<GPI:w>1, #%2\n+   <FCVT_FIXED2F:fcvt_fixed_insn>\\t%<GPI:v>0, %<GPI:v>1, #%2\"\n   [(set_attr \"type\" \"f_cvti2f, neon_int_to_fp_<GPI:Vetype>\")\n    (set_attr \"fp\" \"yes, *\")\n    (set_attr \"simd\" \"*, yes\")]"}]}