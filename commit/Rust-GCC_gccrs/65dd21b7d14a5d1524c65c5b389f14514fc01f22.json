{"sha": "65dd21b7d14a5d1524c65c5b389f14514fc01f22", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjVkZDIxYjdkMTRhNWQxNTI0YzY1YzViMzg5ZjE0NTE0ZmMwMWYyMg==", "commit": {"author": {"name": "Loren J. Rittle", "email": "ljrittle@acm.org", "date": "2000-05-15T06:42:53Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2000-05-15T06:42:53Z"}, "message": "ctype_base.h: Add support for plain BSD4.4.\n\n\n2000-05-14  Loren J. Rittle  <ljrittle@acm.org>\n\n        * config/bsd/bits/ctype_base.h: Add support for plain BSD4.4.\n        * acinclude.m4 (GLIBCPP_CHECK_CTYPE): Enhance bsd tests.\n        * aclocal.m4: Regenerate.\n        * configure: Regenerate.\n        * */Makefile.in: Regenerate.\n\nFrom-SVN: r33907", "tree": {"sha": "e778db573e6390c1e2b528d166535b085d9c5e49", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e778db573e6390c1e2b528d166535b085d9c5e49"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/65dd21b7d14a5d1524c65c5b389f14514fc01f22", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65dd21b7d14a5d1524c65c5b389f14514fc01f22", "html_url": "https://github.com/Rust-GCC/gccrs/commit/65dd21b7d14a5d1524c65c5b389f14514fc01f22", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65dd21b7d14a5d1524c65c5b389f14514fc01f22/comments", "author": null, "committer": null, "parents": [{"sha": "6ad50467e7f1435c23fe69ce862f439752e716fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ad50467e7f1435c23fe69ce862f439752e716fa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ad50467e7f1435c23fe69ce862f439752e716fa"}], "stats": {"total": 82, "additions": 47, "deletions": 35}, "files": [{"sha": "5aa93b407143bbe9eb3738e778a8e8353d4858d1", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65dd21b7d14a5d1524c65c5b389f14514fc01f22/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65dd21b7d14a5d1524c65c5b389f14514fc01f22/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=65dd21b7d14a5d1524c65c5b389f14514fc01f22", "patch": "@@ -312,6 +312,7 @@ AC_DEFUN(GLIBCPP_CHECK_CTYPE, [\n     fi\n \n     dnl Test for <ctype> functionality -- FreeBSD 4.0\n+    if test $ctype_default = \"yes\"; then\n     AC_MSG_CHECKING([<ctype> for freebsd 4.0 ])\n     AC_TRY_COMPILE([#include <ctype.h>],\n     [int\n@@ -324,8 +325,10 @@ AC_DEFUN(GLIBCPP_CHECK_CTYPE, [\n       ctype_include_dir=\"config/bsd\"\n       ctype_default=no\n     fi\n+    fi\n \n     dnl Test for <ctype> functionality -- FreeBSD 3.4\n+    if test $ctype_default = \"yes\"; then\n     AC_MSG_CHECKING([<ctype> for freebsd 3.4 ])\n     AC_TRY_COMPILE([#include <ctype.h>],\n     [int\n@@ -338,6 +341,7 @@ AC_DEFUN(GLIBCPP_CHECK_CTYPE, [\n       ctype_include_dir=\"config/bsd\"\n       ctype_default=no\n     fi\n+    fi\n \n     dnl Test for <ctype> functionality -- solaris 2.6 and 2.7\n     if test $ctype_default = \"yes\"; then"}, {"sha": "d53b21de18a7fe730eb58ad0d84398f951dac8e6", "filename": "libstdc++-v3/aclocal.m4", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65dd21b7d14a5d1524c65c5b389f14514fc01f22/libstdc%2B%2B-v3%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65dd21b7d14a5d1524c65c5b389f14514fc01f22/libstdc%2B%2B-v3%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Faclocal.m4?ref=65dd21b7d14a5d1524c65c5b389f14514fc01f22", "patch": "@@ -324,6 +324,7 @@ AC_DEFUN(GLIBCPP_CHECK_CTYPE, [\n     fi\n \n     dnl Test for <ctype> functionality -- FreeBSD 4.0\n+    if test $ctype_default = \"yes\"; then\n     AC_MSG_CHECKING([<ctype> for freebsd 4.0 ])\n     AC_TRY_COMPILE([#include <ctype.h>],\n     [int\n@@ -336,8 +337,10 @@ AC_DEFUN(GLIBCPP_CHECK_CTYPE, [\n       ctype_include_dir=\"config/bsd\"\n       ctype_default=no\n     fi\n+    fi\n \n     dnl Test for <ctype> functionality -- FreeBSD 3.4\n+    if test $ctype_default = \"yes\"; then\n     AC_MSG_CHECKING([<ctype> for freebsd 3.4 ])\n     AC_TRY_COMPILE([#include <ctype.h>],\n     [int\n@@ -350,6 +353,7 @@ AC_DEFUN(GLIBCPP_CHECK_CTYPE, [\n       ctype_include_dir=\"config/bsd\"\n       ctype_default=no\n     fi\n+    fi\n \n     dnl Test for <ctype> functionality -- solaris 2.6 and 2.7\n     if test $ctype_default = \"yes\"; then"}, {"sha": "bc8b4e6236e237394230d5baadd0df1d4200d742", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 39, "deletions": 35, "changes": 74, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65dd21b7d14a5d1524c65c5b389f14514fc01f22/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65dd21b7d14a5d1524c65c5b389f14514fc01f22/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=65dd21b7d14a5d1524c65c5b389f14514fc01f22", "patch": "@@ -3521,10 +3521,11 @@ rm -f conftest*\n       ctype_default=no\n     fi\n \n-        echo $ac_n \"checking <ctype> for freebsd 4.0 \"\"... $ac_c\" 1>&6\n-echo \"configure:3526: checking <ctype> for freebsd 4.0 \" >&5\n+        if test $ctype_default = \"yes\"; then\n+    echo $ac_n \"checking <ctype> for freebsd 4.0 \"\"... $ac_c\" 1>&6\n+echo \"configure:3527: checking <ctype> for freebsd 4.0 \" >&5\n     cat > conftest.$ac_ext <<EOF\n-#line 3528 \"configure\"\n+#line 3529 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n@@ -3534,7 +3535,7 @@ int\n \t+ _CTYPE_D + _CTYPE_P + _CTYPE_X + _CTYPE_G ;}\n ; return 0; }\n EOF\n-if { (eval echo configure:3538: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3539: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n     ctype_bsd=yes\n@@ -3549,12 +3550,14 @@ rm -f conftest*\n     if test $ctype_bsd = \"yes\"; then\n       ctype_include_dir=\"config/bsd\"\n       ctype_default=no\n+    fi\n     fi\n \n-        echo $ac_n \"checking <ctype> for freebsd 3.4 \"\"... $ac_c\" 1>&6\n-echo \"configure:3556: checking <ctype> for freebsd 3.4 \" >&5\n+        if test $ctype_default = \"yes\"; then\n+    echo $ac_n \"checking <ctype> for freebsd 3.4 \"\"... $ac_c\" 1>&6\n+echo \"configure:3559: checking <ctype> for freebsd 3.4 \" >&5\n     cat > conftest.$ac_ext <<EOF\n-#line 3558 \"configure\"\n+#line 3561 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n@@ -3564,7 +3567,7 @@ int\n       + _D + _P + _X + _G + __istype (a, 0);}\n ; return 0; }\n EOF\n-if { (eval echo configure:3568: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3571: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n     ctype_freebsd34=yes\n@@ -3579,13 +3582,14 @@ rm -f conftest*\n     if test $ctype_freebsd34 = \"yes\"; then\n       ctype_include_dir=\"config/bsd\"\n       ctype_default=no\n+    fi\n     fi\n \n         if test $ctype_default = \"yes\"; then\n     echo $ac_n \"checking <ctype> for solaris 2.6,7,8 \"\"... $ac_c\" 1>&6\n-echo \"configure:3587: checking <ctype> for solaris 2.6,7,8 \" >&5\n+echo \"configure:3591: checking <ctype> for solaris 2.6,7,8 \" >&5\n     cat > conftest.$ac_ext <<EOF\n-#line 3589 \"configure\"\n+#line 3593 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n@@ -3596,7 +3600,7 @@ int\n \t+ __trans_lower[a] + __trans_upper[a] + __ctype_mask[a];}\n ; return 0; }\n EOF\n-if { (eval echo configure:3600: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3604: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n     ctype_solaris=yes\n@@ -3611,7 +3615,7 @@ rm -f conftest*\n \n     if test $ctype_solaris = \"yes\"; then\n       echo $ac_n \"checking   for version\"\"... $ac_c\" 1>&6\n-echo \"configure:3615: checking   for version\" >&5\n+echo \"configure:3619: checking   for version\" >&5\n       ac_ext=C\n # CXXFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n ac_cpp='$CXXCPP $CPPFLAGS'\n@@ -3620,14 +3624,14 @@ ac_link='${CXX-g++} -o conftest${ac_exeext} $CXXFLAGS $CPPFLAGS $LDFLAGS conftes\n cross_compiling=$ac_cv_prog_cxx_cross\n  \n       cat > conftest.$ac_ext <<EOF\n-#line 3624 \"configure\"\n+#line 3628 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n typedef long* __to_type; __to_type const& _M_toupper = __trans_upper;\n ; return 0; }\n EOF\n-if { (eval echo configure:3631: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3635: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n       ctype_solaris26=yes\n@@ -3659,9 +3663,9 @@ cross_compiling=$ac_cv_prog_cc_cross\n \n         if test $ctype_default = \"yes\"; then\n     echo $ac_n \"checking <ctype> for solaris 2.5.1 \"\"... $ac_c\" 1>&6\n-echo \"configure:3663: checking <ctype> for solaris 2.5.1 \" >&5\n+echo \"configure:3667: checking <ctype> for solaris 2.5.1 \" >&5\n     cat > conftest.$ac_ext <<EOF\n-#line 3665 \"configure\"\n+#line 3669 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n@@ -3671,7 +3675,7 @@ int\n \t+ __ctype[a];}\n ; return 0; }\n EOF\n-if { (eval echo configure:3675: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3679: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n     ctype_solaris25=yes\n@@ -3691,9 +3695,9 @@ rm -f conftest*\n \n         if test $ctype_default = \"yes\"; then\n     echo $ac_n \"checking <ctype> for aix \"\"... $ac_c\" 1>&6\n-echo \"configure:3695: checking <ctype> for aix \" >&5\n+echo \"configure:3699: checking <ctype> for aix \" >&5\n     cat > conftest.$ac_ext <<EOF\n-#line 3697 \"configure\"\n+#line 3701 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n@@ -3704,7 +3708,7 @@ int\n \t+ _VALC('a') + _IS('c', 0);}\n ; return 0; }\n EOF\n-if { (eval echo configure:3708: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3712: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n     ctype_aix=yes\n@@ -3724,9 +3728,9 @@ rm -f conftest*\n \n         if test $ctype_default = \"yes\"; then\n     echo $ac_n \"checking <ctype> for newlib \"\"... $ac_c\" 1>&6\n-echo \"configure:3728: checking <ctype> for newlib \" >&5\n+echo \"configure:3732: checking <ctype> for newlib \" >&5\n     cat > conftest.$ac_ext <<EOF\n-#line 3730 \"configure\"\n+#line 3734 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n@@ -3736,7 +3740,7 @@ int\n \t+ _ctype_[a];}\n ; return 0; }\n EOF\n-if { (eval echo configure:3740: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3744: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n     ctype_newlib=yes\n@@ -3770,17 +3774,17 @@ fi\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:3774: checking for $ac_hdr\" >&5\n+echo \"configure:3778: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3779 \"configure\"\n+#line 3783 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3784: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3788: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -3809,12 +3813,12 @@ done\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3813: checking for $ac_func\" >&5\n+echo \"configure:3817: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3818 \"configure\"\n+#line 3822 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3837,7 +3841,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3841: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3845: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3862,15 +3866,15 @@ fi\n done\n \n echo $ac_n \"checking for working mmap\"\"... $ac_c\" 1>&6\n-echo \"configure:3866: checking for working mmap\" >&5\n+echo \"configure:3870: checking for working mmap\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_fixed_mapped=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3874 \"configure\"\n+#line 3878 \"configure\"\n #include \"confdefs.h\"\n \n /* Thanks to Mike Haertel and Jim Avera for this test.\n@@ -4010,7 +4014,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:4014: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:4018: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_fixed_mapped=yes\n else\n@@ -4073,19 +4077,19 @@ fi\n \n if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:4077: checking for LC_MESSAGES\" >&5\n+echo \"configure:4081: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4082 \"configure\"\n+#line 4086 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:4089: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4093: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_val_LC_MESSAGES=yes\n else"}]}