{"sha": "bf8b268a4d421d061a1203c15c7d3d90239e2752", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmY4YjI2OGE0ZDQyMWQwNjFhMTIwM2MxNWM3ZDNkOTAyMzllMjc1Mg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1994-09-21T15:33:52Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1994-09-21T15:33:52Z"}, "message": "Don't remove empty directories until after removing DONE files\n\nFrom-SVN: r8113", "tree": {"sha": "169dd66dc64fa4c8c94135084a5bd59d49e93cda", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/169dd66dc64fa4c8c94135084a5bd59d49e93cda"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bf8b268a4d421d061a1203c15c7d3d90239e2752", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf8b268a4d421d061a1203c15c7d3d90239e2752", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bf8b268a4d421d061a1203c15c7d3d90239e2752", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf8b268a4d421d061a1203c15c7d3d90239e2752/comments", "author": null, "committer": null, "parents": [{"sha": "d92f86fee33aaedb41a2135dba26dd0ebe57859a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d92f86fee33aaedb41a2135dba26dd0ebe57859a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d92f86fee33aaedb41a2135dba26dd0ebe57859a"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "7bee49726e1596f5ac952e397c821a74c06f1222", "filename": "gcc/fixincludes", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf8b268a4d421d061a1203c15c7d3d90239e2752/gcc%2Ffixincludes", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf8b268a4d421d061a1203c15c7d3d90239e2752/gcc%2Ffixincludes", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixincludes?ref=bf8b268a4d421d061a1203c15c7d3d90239e2752", "patch": "@@ -1745,13 +1745,6 @@ for file in time.h sys/time.h ; do\n   fi\n done\n \n-echo 'Removing unneeded directories:'\n-cd $LIB\n-files=`find . -type d -print | sort -r`\n-for file in $files; do\n-  rmdir $LIB/$file > /dev/null 2>&1\n-done\n-\n if $LINKS; then\n   echo 'Making internal symbolic non-directory links'\n   cd ${INPUT}\n@@ -1801,4 +1794,11 @@ echo 'Cleaning up DONE files.'\n cd $LIB\n find . -name DONE -exec rm -f '{}' ';'\n \n+echo 'Removing unneeded directories:'\n+cd $LIB\n+files=`find . -type d -print | sort -r`\n+for file in $files; do\n+  rmdir $LIB/$file > /dev/null 2>&1\n+done\n+\n exit 0"}]}