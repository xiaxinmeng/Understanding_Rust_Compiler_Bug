{"sha": "52bfbb69e7e888d8692597e649e9cedc7436083c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTJiZmJiNjllN2U4ODhkODY5MjU5N2U2NDllOWNlZGM3NDM2MDgzYw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2019-01-28T22:34:32Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2019-01-28T22:34:32Z"}, "message": "re PR middle-end/89002 (ICE in scan_omp_1_op, at omp-low.c:3166)\n\n\tPR middle-end/89002\n\t* gimplify.c (gimplify_omp_for): When adding OMP_CLAUSE_*_GIMPLE_SEQ\n\tfor lastprivate/linear IV, push gimplify context around gimplify_assign\n\tand, if it needed any temporaries, pop it into a gimple bind around the\n\tsequence.\n\n\t* testsuite/libgomp.c/pr89002.c: New test.\n\nFrom-SVN: r268346", "tree": {"sha": "597e518b85e9597fc31a0ee247b3ee49b7c876d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/597e518b85e9597fc31a0ee247b3ee49b7c876d0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/52bfbb69e7e888d8692597e649e9cedc7436083c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52bfbb69e7e888d8692597e649e9cedc7436083c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52bfbb69e7e888d8692597e649e9cedc7436083c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52bfbb69e7e888d8692597e649e9cedc7436083c/comments", "author": null, "committer": null, "parents": [{"sha": "be3a87e7b5ff3d284a7663519826f2613dc46f69", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be3a87e7b5ff3d284a7663519826f2613dc46f69", "html_url": "https://github.com/Rust-GCC/gccrs/commit/be3a87e7b5ff3d284a7663519826f2613dc46f69"}], "stats": {"total": 43, "additions": 0, "deletions": 43}, "files": [{"sha": "6d1b16405f2233b7e468ca8cd44e97ba43f66dad", "filename": "libgomp/testsuite/libgomp.c/pr89002.c", "status": "modified", "additions": 0, "deletions": 43, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52bfbb69e7e888d8692597e649e9cedc7436083c/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr89002.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52bfbb69e7e888d8692597e649e9cedc7436083c/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr89002.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr89002.c?ref=52bfbb69e7e888d8692597e649e9cedc7436083c", "patch": "@@ -41,46 +41,3 @@ main ()\n     abort ();\n   return 0;\n }\n-/* PR middle-end/89002 */\n-\n-extern void abort (void);\n-\n-int\n-foo (int x)\n-{\n-  int a;\n-  int *p = &a;\n-\n-#pragma omp taskloop lastprivate (a)\n-  for (a = 0; a < x; ++a)\n-    ;\n-  return *p;\n-}\n-\n-int\n-bar (int x)\n-{\n-  int a;\n-  int *p = &a;\n-\n-#pragma omp parallel\n-#pragma omp single\n-#pragma omp taskloop lastprivate (a)\n-  for (a = 0; a < x; ++a)\n-    ;\n-  return *p;\n-}\n-\n-int\n-main ()\n-{\n-#pragma omp parallel\n-#pragma omp single\n-  {\n-    if (foo (4) != 4)\n-      abort ();\n-  }\n-  if (bar (6) != 6)\n-    abort ();\n-  return 0;\n-}"}]}