{"sha": "ee526ea745a1bfce9524180e05857df14dfd1eae", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWU1MjZlYTc0NWExYmZjZTk1MjQxODBlMDU4NTdkZjE0ZGZkMWVhZQ==", "commit": {"author": {"name": "Paul Eggert", "email": "eggert@cs.ucla.edu", "date": "2014-05-23T10:11:03Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2014-05-23T10:11:03Z"}, "message": "re PR other/56955 (documentation for attribute malloc contradicts itself)\n\n2014-05-22  Paul Eggert  <eggert@cs.ucla.edu>\n\n\tPR other/56955\n\t* doc/extend.texi (Function Attributes): Fix  __attribute__ ((malloc))\n\tdocumentation; the old documentation didn't clearly state the\n\tconstraints on the contents of the pointed-to storage.\n\nFrom-SVN: r210848", "tree": {"sha": "164c14173384077c10ad3af500426be2a8e5259e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/164c14173384077c10ad3af500426be2a8e5259e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ee526ea745a1bfce9524180e05857df14dfd1eae", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee526ea745a1bfce9524180e05857df14dfd1eae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee526ea745a1bfce9524180e05857df14dfd1eae", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee526ea745a1bfce9524180e05857df14dfd1eae/comments", "author": {"login": "eggert", "id": 572024, "node_id": "MDQ6VXNlcjU3MjAyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/572024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eggert", "html_url": "https://github.com/eggert", "followers_url": "https://api.github.com/users/eggert/followers", "following_url": "https://api.github.com/users/eggert/following{/other_user}", "gists_url": "https://api.github.com/users/eggert/gists{/gist_id}", "starred_url": "https://api.github.com/users/eggert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eggert/subscriptions", "organizations_url": "https://api.github.com/users/eggert/orgs", "repos_url": "https://api.github.com/users/eggert/repos", "events_url": "https://api.github.com/users/eggert/events{/privacy}", "received_events_url": "https://api.github.com/users/eggert/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "803e4cbb22f6a09c02443e4ca9c7949e49e08e77", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/803e4cbb22f6a09c02443e4ca9c7949e49e08e77", "html_url": "https://github.com/Rust-GCC/gccrs/commit/803e4cbb22f6a09c02443e4ca9c7949e49e08e77"}], "stats": {"total": 25, "additions": 17, "deletions": 8}, "files": [{"sha": "aedf2d0a099f1afc8b5d1ed75dc273ddccac8515", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee526ea745a1bfce9524180e05857df14dfd1eae/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee526ea745a1bfce9524180e05857df14dfd1eae/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ee526ea745a1bfce9524180e05857df14dfd1eae", "patch": "@@ -1,3 +1,10 @@\n+2014-05-23  Paul Eggert  <eggert@cs.ucla.edu>\n+\n+\tPR other/56955\n+\t* doc/extend.texi (Function Attributes): Fix  __attribute__ ((malloc))\n+\tdocumentation; the old documentation didn't clearly state the\n+\tconstraints on the contents of the pointed-to storage.\n+\n 2014-05-23  Maxim Kuvyrkov  <maxim.kuvyrkov@linaro.org>\n \n \tFix bootstrap error on ia64"}, {"sha": "c54ed6785d609333578c983a1058cea1ff3bab22", "filename": "gcc/doc/extend.texi", "status": "modified", "additions": 10, "deletions": 8, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee526ea745a1bfce9524180e05857df14dfd1eae/gcc%2Fdoc%2Fextend.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee526ea745a1bfce9524180e05857df14dfd1eae/gcc%2Fdoc%2Fextend.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fextend.texi?ref=ee526ea745a1bfce9524180e05857df14dfd1eae", "patch": "@@ -3207,14 +3207,16 @@ efficient @code{jal} instruction.\n \n @item malloc\n @cindex @code{malloc} attribute\n-The @code{malloc} attribute is used to tell the compiler that a function\n-may be treated as if any non-@code{NULL} pointer it returns cannot\n-alias any other pointer valid when the function returns and that the memory\n-has undefined content.\n-This often improves optimization.\n-Standard functions with this property include @code{malloc} and\n-@code{calloc}.  @code{realloc}-like functions do not have this\n-property as the memory pointed to does not have undefined content.\n+This tells the compiler that a function is @code{malloc}-like, i.e.,\n+that the pointer @var{P} returned by the function cannot alias any\n+other pointer valid when the function returns, and moreover no\n+pointers to valid objects occur in any storage addressed by @var{P}.\n+\n+Using this attribute can improve optimization.  Functions like\n+@code{malloc} and @code{calloc} have this property because they return\n+a pointer to uninitialized or zeroed-out storage.  However, functions\n+like @code{realloc} do not have this property, as they can return a\n+pointer to storage containing pointers.\n \n @item mips16/nomips16\n @cindex @code{mips16} attribute"}]}