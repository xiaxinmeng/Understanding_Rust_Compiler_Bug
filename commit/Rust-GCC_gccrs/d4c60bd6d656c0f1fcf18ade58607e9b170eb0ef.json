{"sha": "d4c60bd6d656c0f1fcf18ade58607e9b170eb0ef", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDRjNjBiZDZkNjU2YzBmMWZjZjE4YWRlNTg2MDdlOWIxNzBlYjBlZg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1994-03-14T21:55:07Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1994-03-14T21:55:07Z"}, "message": "Insert newlines for sed 'a' and 'i' commands.\n\nFrom-SVN: r6790", "tree": {"sha": "df138b4204b138929c54a791b66dba85d2d18489", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/df138b4204b138929c54a791b66dba85d2d18489"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d4c60bd6d656c0f1fcf18ade58607e9b170eb0ef", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4c60bd6d656c0f1fcf18ade58607e9b170eb0ef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d4c60bd6d656c0f1fcf18ade58607e9b170eb0ef", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4c60bd6d656c0f1fcf18ade58607e9b170eb0ef/comments", "author": null, "committer": null, "parents": [{"sha": "e1c35cd7411f7d0676f720cac41956f06292e39d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1c35cd7411f7d0676f720cac41956f06292e39d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e1c35cd7411f7d0676f720cac41956f06292e39d"}], "stats": {"total": 99, "additions": 66, "deletions": 33}, "files": [{"sha": "5657f94699e431bbd273fa508ac435aa96ae7b3c", "filename": "gcc/fixincludes", "status": "modified", "additions": 66, "deletions": 33, "changes": 99, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d4c60bd6d656c0f1fcf18ade58607e9b170eb0ef/gcc%2Ffixincludes", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d4c60bd6d656c0f1fcf18ade58607e9b170eb0ef/gcc%2Ffixincludes", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixincludes?ref=d4c60bd6d656c0f1fcf18ade58607e9b170eb0ef", "patch": "@@ -360,7 +360,8 @@ for file in sys/types.h stdlib.h sys/stdtypes.h stddef.h memory.h unistd.h; do\n     sed -e '/typedef[ \t][ \t]*[a-z_][ \ta-z_]*[ \t]size_t/i\\\n #ifndef __SIZE_TYPE__\\\n #define __SIZE_TYPE__ long unsigned int\\\n-#endif' \\\n+#endif\n+' \\\n       -e 's/typedef[ \t][ \t]*[a-z_][ \ta-z_]*[ \t]size_t/typedef __SIZE_TYPE__ size_t/' ${LIB}/$file > ${LIB}/${file}.sed\n     rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n     if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n@@ -429,19 +430,25 @@ if [ -r ${LIB}/$file ]; then\n   echo Fixing $file\n sed -e '/[\t ]size_t.*;/i\\\n #ifndef _GCC_SIZE_T\\\n-#define _GCC_SIZE_T' \\\n+#define _GCC_SIZE_T\n+' \\\n     -e '/[\t ]size_t.*;/a\\\n-#endif' \\\n+#endif\n+' \\\n     -e '/[\t ]ptrdiff_t.*;/i\\\n #ifndef _GCC_PTRDIFF_T\\\n-#define _GCC_PTRDIFF_T' \\\n+#define _GCC_PTRDIFF_T\n+' \\\n     -e '/[\t ]ptrdiff_t.*;/a\\\n-#endif' \\\n+#endif\n+' \\\n     -e '/[\t ]wchar_t.*;/i\\\n #ifndef _GCC_WCHAR_T\\\n-#define _GCC_WCHAR_T' \\\n+#define _GCC_WCHAR_T\n+' \\\n     -e '/[\t ]wchar_t.*;/a\\\n-#endif' ${LIB}/$file > ${LIB}/${file}.sed\n+#endif\n+' ${LIB}/$file > ${LIB}/${file}.sed\n   rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n   if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n     rm ${LIB}/$file\n@@ -482,9 +489,11 @@ if [ -r ${LIB}/$file ]; then\n   echo Fixing $file\n sed -e '/typedef[ \t][ \t]*[A-Za-z_][ \tA-Za-z_]*[ \t]size_t/i\\\n #ifndef _GCC_SIZE_T\\\n-#define _GCC_SIZE_T' \\\n+#define _GCC_SIZE_T\n+' \\\n     -e '/typedef[ \t][ \t]*[A-Za-z_][ \tA-Za-z_]*[ \t]size_t/a\\\n-#endif' ${LIB}/$file > ${LIB}/${file}.sed\n+#endif\n+' ${LIB}/$file > ${LIB}/${file}.sed\n   rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n   if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n     rm ${LIB}/$file\n@@ -731,9 +740,11 @@ if [ -r ${LIB}/$file ]; then\n   -e 's/int\texit/void\texit/g' \\\n   -e '/typedef[ \ta-zA-Z_]*[ \t]size_t[ \t]*;/i\\\n #ifndef _GCC_SIZE_T\\\n-#define _GCC_SIZE_T' \\\n+#define _GCC_SIZE_T\n+' \\\n   -e '/typedef[ \ta-zA-Z_]*[ \t]size_t[ \t]*;/a\\\n-#endif' \\\n+#endif\n+' \\\n       ${LIB}/$file > ${LIB}/${file}.sed\n   rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n   if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n@@ -896,7 +907,8 @@ fi\n if [ -r ${LIB}/$file ]; then\n   echo Fixing $file, undefined type\n   sed -e '/authdes_create.*struct sockaddr/i\\\n-struct sockaddr;' \\\n+struct sockaddr;\n+' \\\n     ${LIB}/$file > ${LIB}/$file.sed\n   rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n   if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n@@ -917,7 +929,8 @@ fi\n if [ -r ${LIB}/$file ]; then\n   echo Fixing $file, undefined type\n   sed -e '/xdrstdio_create.*struct __file_s/i\\\n-struct __file_s;' \\\n+struct __file_s;\n+' \\\n     ${LIB}/$file > ${LIB}/$file.sed\n   rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n   if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n@@ -1027,9 +1040,11 @@ if [ -r ${LIB}/$file ]; then\n   if grep 'class[(]' ${LIB}/$file >/dev/null; then\n     echo Fixing $file\n     sed -e '/class[(]/i\\\n-#ifndef __cplusplus' \\\n+#ifndef __cplusplus\n+' \\\n         -e '/class[(]/a\\\n-#endif' ${LIB}/$file > ${LIB}/${file}.sed\n+#endif\n+' ${LIB}/$file > ${LIB}/${file}.sed\n     rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n     if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n       rm ${LIB}/$file\n@@ -1078,9 +1093,11 @@ if [ -r ${LIB}/$file ]; then\n     sed -e '/char [*]class;/i\\\n #ifdef __cplusplus\\\n \tchar *c_class;\\\n-#else' \\\n+#else\n+' \\\n         -e '/char [*]class;/a\\\n-#endif' ${LIB}/$file > ${LIB}/${file}.sed\n+#endif\n+' ${LIB}/$file > ${LIB}/${file}.sed\n     rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n   fi\n   if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n@@ -1104,9 +1121,11 @@ if [ -r ${LIB}/$file ]; then\n     sed -e '/Widget\told, new;/i\\\n #ifdef __cplusplus\\\n \tWidget\told, c_new;\\\n-#else' \\\n+#else\n+' \\\n         -e '/Widget\told, new;/a\\\n-#endif' \\\n+#endif\n+' \\\n \t-e 's/Widget new,/Widget c_new,/g' ${LIB}/$file > ${LIB}/${file}.sed\n     rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n   fi\n@@ -1297,29 +1316,41 @@ for file in limits.h sys/limits.h; do\n     else\n       echo Fixing $file\n       sed -e '/[ \t]FLT_MIN[ \t]/i\\\n-#ifndef FLT_MIN'\\\n+#ifndef FLT_MIN\n+'\\\n \t  -e '/[ \t]FLT_MIN[ \t]/a\\\n-#endif'\\\n+#endif\n+'\\\n \t  -e '/[ \t]FLT_MAX[ \t]/i\\\n-#ifndef FLT_MAX'\\\n+#ifndef FLT_MAX\n+'\\\n \t  -e '/[ \t]FLT_MAX[ \t]/a\\\n-#endif'\\\n+#endif\n+'\\\n \t  -e '/[ \t]FLT_DIG[ \t]/i\\\n-#ifndef FLT_DIG'\\\n+#ifndef FLT_DIG\n+'\\\n \t  -e '/[ \t]FLT_DIG[ \t]/a\\\n-#endif'\\\n+#endif\n+'\\\n \t  -e '/[ \t]DBL_MIN[ \t]/i\\\n-#ifndef DBL_MIN'\\\n+#ifndef DBL_MIN\n+'\\\n \t  -e '/[ \t]DBL_MIN[ \t]/a\\\n-#endif'\\\n+#endif\n+'\\\n \t  -e '/[ \t]DBL_MAX[ \t]/i\\\n-#ifndef DBL_MAX'\\\n+#ifndef DBL_MAX\n+'\\\n \t  -e '/[ \t]DBL_MAX[ \t]/a\\\n-#endif'\\\n+#endif\n+'\\\n \t  -e '/[ \t]DBL_DIG[ \t]/i\\\n-#ifndef DBL_DIG'\\\n+#ifndef DBL_DIG\n+'\\\n \t  -e '/[ \t]DBL_DIG[ \t]/a\\\n-#endif'\\\n+#endif\n+'\\\n \t${LIB}/$file > ${LIB}/${file}.sed\n       rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n     fi\n@@ -1342,9 +1373,11 @@ fi\n if [ -r ${LIB}/$file ]; then\n   echo Fixing $file\n   sed -e '/define[ \t]HUGE_VAL[ \t]/i\\\n-#ifndef HUGE_VAL'\\\n+#ifndef HUGE_VAL\n+'\\\n       -e '/define[ \t]HUGE_VAL[ \t]/a\\\n-#endif'\\\n+#endif\n+'\\\n     ${LIB}/$file > ${LIB}/${file}.sed\n   rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n   if cmp $file ${LIB}/$file >/dev/null 2>&1; then"}]}