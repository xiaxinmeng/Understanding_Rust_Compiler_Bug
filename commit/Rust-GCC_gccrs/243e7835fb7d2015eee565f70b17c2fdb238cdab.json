{"sha": "243e7835fb7d2015eee565f70b17c2fdb238cdab", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjQzZTc4MzVmYjdkMjAxNWVlZTU2NWY3MGIxN2MyZmRiMjM4Y2RhYg==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@cygnus.com", "date": "1998-06-18T18:19:08Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1998-06-18T18:19:08Z"}, "message": "Fix cygwin32 hosted dwarf2 target problem with line number info.\n\n\t* dwarf2out.c (size_of_string): Do count backslashes.\n\nFrom-SVN: r20562", "tree": {"sha": "2745ccf64e41392c93344cab75e2b9e32b65aedb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2745ccf64e41392c93344cab75e2b9e32b65aedb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/243e7835fb7d2015eee565f70b17c2fdb238cdab", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/243e7835fb7d2015eee565f70b17c2fdb238cdab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/243e7835fb7d2015eee565f70b17c2fdb238cdab", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/243e7835fb7d2015eee565f70b17c2fdb238cdab/comments", "author": null, "committer": null, "parents": [{"sha": "ce56e6ed02d18a4f9f2cf102f10daf64ba96888a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce56e6ed02d18a4f9f2cf102f10daf64ba96888a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce56e6ed02d18a4f9f2cf102f10daf64ba96888a"}], "stats": {"total": 29, "additions": 11, "deletions": 18}, "files": [{"sha": "3263bc0b1e3557c57c99d19ddb524c675a694e32", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/243e7835fb7d2015eee565f70b17c2fdb238cdab/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/243e7835fb7d2015eee565f70b17c2fdb238cdab/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=243e7835fb7d2015eee565f70b17c2fdb238cdab", "patch": "@@ -1,3 +1,7 @@\n+Thu Jun 18 18:16:01 1998  Jim Wilson  <wilson@cygnus.com>\n+\n+\t* dwarf2out.c (size_of_string): Do count backslashes.\n+\n Thu Jun 18 11:43:54 1998  Nick Clifton  <nickc@cygnus.com>\n \n \t* config/arm/thumb.h (GO_IF_LEGITIMATE_ADDRESS): Disallow REG+REG "}, {"sha": "39ad8a663d8acb3e3c8ebedb66db47460591cd91", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 7, "deletions": 18, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/243e7835fb7d2015eee565f70b17c2fdb238cdab/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/243e7835fb7d2015eee565f70b17c2fdb238cdab/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=243e7835fb7d2015eee565f70b17c2fdb238cdab", "patch": "@@ -4451,29 +4451,18 @@ build_abbrev_table (die)\n     build_abbrev_table (c);\n }\n \f\n-/* Return the size of a string, including the null byte.  */\n+/* Return the size of a string, including the null byte.\n+\n+   This used to treat backslashes as escapes, and hence they were not included\n+   in the count.  However, that conflicts with what ASM_OUTPUT_ASCII does,\n+   which treats a backslash as a backslash, escaping it if necessary, and hence\n+   we must include them in the count.  */\n \n static unsigned long\n size_of_string (str)\n      register char *str;\n {\n-  register unsigned long size = 0;\n-  register unsigned long slen = strlen (str);\n-  register unsigned long i;\n-  register unsigned c;\n-\n-  for (i = 0; i < slen; ++i)\n-    {\n-      c = str[i];\n-      if (c == '\\\\')\n-\t++i;\n-\n-      size += 1;\n-    }\n-\n-  /* Null terminator.  */\n-  size += 1;\n-  return size;\n+  return strlen (str) + 1;\n }\n \n /* Return the size of a location descriptor.  */"}]}