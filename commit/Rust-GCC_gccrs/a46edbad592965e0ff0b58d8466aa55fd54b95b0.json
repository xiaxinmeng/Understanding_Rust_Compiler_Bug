{"sha": "a46edbad592965e0ff0b58d8466aa55fd54b95b0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTQ2ZWRiYWQ1OTI5NjVlMGZmMGI1OGQ4NDY2YWE1NWZkNTRiOTViMA==", "commit": {"author": {"name": "Doug Rupp", "email": "rupp@adacore.com", "date": "2005-06-16T08:55:47Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2005-06-16T08:55:47Z"}, "message": "vms_conv.ads, [...]: Remove \"Library\" command.\n\n2005-06-14  Doug Rupp  <rupp@adacore.com>\n\t    Vincent Celier  <celier@adacore.com>\n\n\t* vms_conv.ads, vms_conv.adb: Remove \"Library\" command.\n\tUpdate copyright.\n\n\t* vms_data.ads: Add entry for -gnaty/Y [NO]ADA_2005_COMPATIBILITY\n\tRemove \"Library\" command.\n\tChange keyword for style check -gnatyd from NOCRLF to\n\tDOS_LINE_ENDINGS.\n\tRemove useless second style check keyword NONE\n\tRemove help documentation for inexistent style check keyword\n\tRM_COLUMN_LAYOUT.\n\tAdd help documentation for style check keywords DOS_LINE_ENDINGS,\n\tUNNECESSARY_BLANK_LINES and XTRA_PARENS\n\tAdd UNNECESSARY_BLANK_LINES for -gnatyu\n\tAdd qualifiers /ALL_PROJECTS (-U) for GNAT PRETTY and GNAT METRIC\n\n        * ug_words: Add entry for -gnaty/Y [NO]ADA_2005_COMPATIBILITY\n\nFrom-SVN: r101067", "tree": {"sha": "61eff1a6db6f0af949f01ea3d964121343ee6902", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/61eff1a6db6f0af949f01ea3d964121343ee6902"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a46edbad592965e0ff0b58d8466aa55fd54b95b0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a46edbad592965e0ff0b58d8466aa55fd54b95b0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a46edbad592965e0ff0b58d8466aa55fd54b95b0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a46edbad592965e0ff0b58d8466aa55fd54b95b0/comments", "author": {"login": "Cementitious", "id": 115579865, "node_id": "U_kgDOBuOb2Q", "avatar_url": "https://avatars.githubusercontent.com/u/115579865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cementitious", "html_url": "https://github.com/Cementitious", "followers_url": "https://api.github.com/users/Cementitious/followers", "following_url": "https://api.github.com/users/Cementitious/following{/other_user}", "gists_url": "https://api.github.com/users/Cementitious/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cementitious/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cementitious/subscriptions", "organizations_url": "https://api.github.com/users/Cementitious/orgs", "repos_url": "https://api.github.com/users/Cementitious/repos", "events_url": "https://api.github.com/users/Cementitious/events{/privacy}", "received_events_url": "https://api.github.com/users/Cementitious/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f3d771b30e960aa00eac92f2b8b385f38cc07541", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3d771b30e960aa00eac92f2b8b385f38cc07541", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f3d771b30e960aa00eac92f2b8b385f38cc07541"}], "stats": {"total": 109, "additions": 46, "deletions": 63}, "files": [{"sha": "8203ee546c15b8e999b44a2b37cc65ac50cf516d", "filename": "gcc/ada/ug_words", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a46edbad592965e0ff0b58d8466aa55fd54b95b0/gcc%2Fada%2Fug_words", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a46edbad592965e0ff0b58d8466aa55fd54b95b0/gcc%2Fada%2Fug_words", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fug_words?ref=a46edbad592965e0ff0b58d8466aa55fd54b95b0", "patch": "@@ -142,6 +142,8 @@ gcc -c          ^ GNAT COMPILE\n -gnatwV         ^ /WARNINGS=NOVARIABLES_UNINITIALIZED\n -gnatwx         ^ /WARNINGS=IMPORT_EXPORT_PRAGMAS\n -gnatwX         ^ /WARNINGS=NOIMPORT_EXPORT_PRAGMAS\n+-gnatwy         ^ /WARNINGS=ADA_2005_COMPATIBILITY\n+-gnatwY         ^ /WARNINGS=NOADA_2005_COMPATIBILITY\n -gnatwz         ^ /WARNINGS=UNCHECKED_CONVERSIONS\n -gnatwZ         ^ /WARNINGS=NOUNCHECKED_CONVERSIONS\n -gnatW8         ^ /WIDE_CHARACTER_ENCODING=UTF8"}, {"sha": "77d174fb31bf53db8a89b1682285497cf4151753", "filename": "gcc/ada/vms_conv.adb", "status": "modified", "additions": 0, "deletions": 11, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a46edbad592965e0ff0b58d8466aa55fd54b95b0/gcc%2Fada%2Fvms_conv.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a46edbad592965e0ff0b58d8466aa55fd54b95b0/gcc%2Fada%2Fvms_conv.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fvms_conv.adb?ref=a46edbad592965e0ff0b58d8466aa55fd54b95b0", "patch": "@@ -274,17 +274,6 @@ package body VMS_Conv is\n             Params   => new Parameter_Array'(1 => File),\n             Defext   => \"   \"),\n \n-         Library =>\n-           (Cname    => new S'(\"LIBRARY\"),\n-            Usage    => new S'(\"GNAT LIBRARY /[CREATE | SET | DELETE]\"\n-                               & \"=directory [/CONFIG=file]\"),\n-            VMS_Only => True,\n-            Unixcmd  => new S'(\"gnatlbr\"),\n-            Unixsws  => null,\n-            Switches => Lbr_Switches'Access,\n-            Params   => new Parameter_Array'(1 .. 0 => File),\n-            Defext   => \"   \"),\n-\n          Link =>\n            (Cname    => new S'(\"LINK\"),\n             Usage    => new S'(\"GNAT LINK file[.ali]\""}, {"sha": "3ee0d0290ab16aced95c901eb5087795d60c0734", "filename": "gcc/ada/vms_conv.ads", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a46edbad592965e0ff0b58d8466aa55fd54b95b0/gcc%2Fada%2Fvms_conv.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a46edbad592965e0ff0b58d8466aa55fd54b95b0/gcc%2Fada%2Fvms_conv.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fvms_conv.ads?ref=a46edbad592965e0ff0b58d8466aa55fd54b95b0", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 2003-2004 Free Software Foundation, Inc.          --\n+--          Copyright (C) 2003-2005 Free Software Foundation, Inc.          --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -101,7 +101,6 @@ package VMS_Conv is\n       Elim,\n       Find,\n       Krunch,\n-      Library,\n       Link,\n       List,\n       Make,"}, {"sha": "b970fea1053b4ec609b7501f056648c29656f72e", "filename": "gcc/ada/vms_data.ads", "status": "modified", "additions": 43, "deletions": 50, "changes": 93, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a46edbad592965e0ff0b58d8466aa55fd54b95b0/gcc%2Fada%2Fvms_data.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a46edbad592965e0ff0b58d8466aa55fd54b95b0/gcc%2Fada%2Fvms_data.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fvms_data.ads?ref=a46edbad592965e0ff0b58d8466aa55fd54b95b0", "patch": "@@ -1800,7 +1800,7 @@ package VMS_Data is\n                                                \"-gnatyb \"                  &\n                                             \"COMMENTS \"                    &\n                                                \"-gnatyc \"                  &\n-                                            \"NOCRLF\"                       &\n+                                            \"DOS_LINE_ENDINGS \"            &\n                                                \"-gnatyd \"                  &\n                                             \"END \"                         &\n                                                \"-gnatye \"                  &\n@@ -1824,8 +1824,6 @@ package VMS_Data is\n                                                \"-gnatyn \"                  &\n                                             \"ORDERED_SUBPROGRAMS \"         &\n                                                \"-gnatyo \"                  &\n-                                            \"NONE \"                        &\n-                                               \"!-gnatg,!-gnaty* \"         &\n                                             \"PRAGMA \"                      &\n                                                \"-gnatyp \"                  &\n                                             \"REFERENCES \"                  &\n@@ -1834,6 +1832,8 @@ package VMS_Data is\n                                                \"-gnatys \"                  &\n                                             \"TOKEN \"                       &\n                                                \"-gnatyt \"                  &\n+                                            \"UNNECESSARY_BLANK_LINES \"     &\n+                                               \"-gnatyu \"                  &\n                                             \"XTRA_PARENS \"                 &\n                                                \"-gnatyx \";\n    --        /NOSTYLE_CHECKS (D)\n@@ -1917,6 +1917,11 @@ package VMS_Data is\n    --                               -- This is a box comment --\n    --                               ---------------------------\n    --\n+   --      DOS_LINE_ENDINGS     Check that no DOS line terminators are present\n+   --                           All lines must be terminated by a single\n+   --                           ASCII.LF character. In particular the DOS line\n+   --                           terminator sequence CR / LF is not allowed).\n+   --\n    --      END                  Check end/exit labels.\n    --                           Optional labels on end statements ending\n    --                           subprograms and on exit statements exiting\n@@ -2046,8 +2051,6 @@ package VMS_Data is\n    --                           in the ordering (e.g. Junk2 comes before\n    --                           Junk10).\n    --\n-   --      NONE                 The default behavior.  Same as /NOSTYLE_CHECKS.\n-   --\n    --      PRAGMA               Check pragma casing.\n    --                           Pragma names must be written in mixed case,\n    --                           that is, the initial letter and any letter\n@@ -2061,15 +2064,6 @@ package VMS_Data is\n    --                           identifiers. The only requirement is for\n    --                           consistency of references with declarations.\n    --\n-   --      RM_COLUMN_LAYOUT     Enforce the layout conventions suggested by\n-   --                           the examples and syntax rules of the Ada\n-   --                           Language Reference Manual. For example, an\n-   --                           \"else\" must line up with an \"if\" and code in\n-   --                           the \"then\" and \"else\" parts must be indented.\n-   --                           The compiler considers violations of the\n-   --                           layout rules a syntax error if you specify\n-   --                           this keyword.\n-   --\n    --      SPECS                Check separate specs.\n    --                           Separate declarations (\"specs\") are required\n    --                           for subprograms (a body is not allowed to serve\n@@ -2140,9 +2134,20 @@ package VMS_Data is\n    --                           or as meeting a requirement for no following\n    --                           space.\n    --\n+   --      UNNECESSARY_BLANK_LINES\n+   --                           Check for unnecessary blank lines.\n+   --                           A blank line is considered unnecessary if it\n+   --                           appears at the end of the file, or if more\n+   --                           than one blank line occurs in sequence.\n+   --\n    --      VTABS                No form feeds or vertical tabs.\n    --                           Form feeds or vertical tab characters are not\n    --                           permitted in the source text.\n+   --\n+   --      XTRA_PARENS          Check for the use of an unnecessary extra\n+   --                           level of parentheses (C - style) around\n+   --                           conditions in if statements, while statements\n+   --                           and exit statements.\n \n    S_GCC_StyleX  : aliased constant S := \"/NOSTYLE_CHECKS \"                &\n                                             \"!-gnatg,!-gnaty*\";\n@@ -2439,6 +2444,10 @@ package VMS_Data is\n                                                \"-gnatwx \"                  &\n                                             \"NOIMPORT_EXPORT_PRAGMAS \"     &\n                                                \"-gnatwX \"                  &\n+                                            \"ADA_2005_COMPATIBILITY \"      &\n+                                               \"-gnatwy \"                  &\n+                                            \"NOADA_2005_COMPATIBILITY \"    &\n+                                               \"-gnatwY \"                  &\n                                             \"UNCHECKED_CONVERSIONS \"       &\n                                                \"-gnatwz \"                  &\n                                             \"NOUNCHECKED_CONVERSIONS \"     &\n@@ -3198,40 +3207,6 @@ package VMS_Data is\n    Krunch_Switches : aliased constant Switches  :=\n      (1 .. 1 => S_Krunch_Count  'Access);\n \n-   -------------------------------\n-   -- Switches for GNAT LIBRARY --\n-   -------------------------------\n-\n-   S_Lbr_Config    : aliased constant S := \"/CONFIG=@\"                     &\n-                                            \"--config=@\";\n-   --        /CONFIG=file\n-   --\n-   --   File containing configuration pragmas.\n-\n-   S_Lbr_Create    : aliased constant S := \"/CREATE=%\"                     &\n-                                            \"--create=%\";\n-   --        /CREATE=directory\n-   --\n-   --   Directory to create and build alternate library in.\n-\n-   S_Lbr_Delete    : aliased constant S := \"/DELETE=%\"                     &\n-                                            \"--delete=%\";\n-   --        /DELETE=directory\n-   --\n-   --   Directory containing alternate library to be deleted.\n-\n-   S_Lbr_Set       : aliased constant S := \"/SET=%\"                        &\n-                                            \"--set=%\";\n-   --        /SET=directory\n-   --\n-   --   Directory containing alternate library to be made the current library.\n-\n-   Lbr_Switches : aliased constant Switches  :=\n-     (S_Lbr_Config 'Access,\n-      S_Lbr_Create 'Access,\n-      S_Lbr_Delete 'Access,\n-      S_Lbr_Set    'Access);\n-\n    ----------------------------\n    -- Switches for GNAT LINK --\n    ----------------------------\n@@ -3650,7 +3625,7 @@ package VMS_Data is\n    --\n    --   Implies /Unique.\n    --   When used without project files, it is equivalent to /UNIQUE.\n-   --   When used with a project file wit no main (neither on the command\n+   --   When used with a project file with no main (neither on the command\n    --   line nor in the attribute Main) check every source of every project,\n    --   recompile all sources that are not up to date and rebuild libraries\n    --   if necessary.\n@@ -4074,6 +4049,14 @@ package VMS_Data is\n    -- Switches for GNAT METRIC --\n    ------------------------------\n \n+   S_Metric_All_Prjs : aliased constant S := \"/ALL_PROJECTS \"              &\n+                                               \"-U\";\n+   --        /NOALL_PROJECTS (D)\n+   --        /ALL_PROJECTS\n+   --   When GNAT METRIC is used with a Project File and no source is\n+   --   specified, the underlying tool gnatmetric is called for all the\n+   --   sources of all the Project Files in the project tree.\n+\n    S_Metric_Debug    : aliased constant S := \"/DEBUG_OUTPUT \"               &\n                                              \"-dv\";\n    --      /DEBUG_OUTPUT\n@@ -4294,7 +4277,8 @@ package VMS_Data is\n    --   Place the XML output into the specified file\n \n    Metric_Switches : aliased constant Switches :=\n-     (S_Metric_Debug    'Access,\n+     (S_Metric_All_Prjs 'Access,\n+      S_Metric_Debug    'Access,\n       S_Metric_Direct   'Access,\n       S_Metric_Element  'Access,\n       S_Metric_Ext      'Access,\n@@ -4529,6 +4513,14 @@ package VMS_Data is\n    --   Specifying one of the ON options without first specifying the OFF\n    --   option has no effect, because by default all alignments are set to ON.\n \n+   S_Pretty_All_Prjs : aliased constant S := \"/ALL_PROJECTS \"             &\n+                                              \"-U\";\n+   --        /NOALL_PROJECTS (D)\n+   --        /ALL_PROJECTS\n+   --   When GNAT PRETTY is used with a Project File and no source is\n+   --   specified, the underlying tool gnatpp is called for all the\n+   --   sources of all the Project Files in the project tree.\n+\n    S_Pretty_Attrib : aliased constant S := \"/ATTRIBUTE_CASING=\"            &\n                                            \"MIXED_CASE \"                   &\n                                                \"-aM \"                      &\n@@ -4926,6 +4918,7 @@ package VMS_Data is\n \n    Pretty_Switches : aliased constant Switches :=\n      (S_Pretty_Align     'Access,\n+      S_Pretty_All_Prjs  'Access,\n       S_Pretty_Attrib    'Access,\n       S_Pretty_Comments  'Access,\n       S_Pretty_Config    'Access,"}]}