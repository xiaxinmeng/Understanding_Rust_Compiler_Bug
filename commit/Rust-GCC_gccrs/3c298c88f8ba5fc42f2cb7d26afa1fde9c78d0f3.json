{"sha": "3c298c88f8ba5fc42f2cb7d26afa1fde9c78d0f3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2MyOThjODhmOGJhNWZjNDJmMmNiN2QyNmFmYTFmZGU5Yzc4ZDBmMw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2003-03-16T22:25:59Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2003-03-16T22:25:59Z"}, "message": "i386.md (movstrictqi, [...]): Check optimize_size as well.\n\n        * config/i386/i386.md (movstrictqi, movstrictqi_1): Check\n        optimize_size as well.\n\nFrom-SVN: r64451", "tree": {"sha": "d9df16ee4827df0666aaac42bb57a051a1e7b59d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d9df16ee4827df0666aaac42bb57a051a1e7b59d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3c298c88f8ba5fc42f2cb7d26afa1fde9c78d0f3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c298c88f8ba5fc42f2cb7d26afa1fde9c78d0f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3c298c88f8ba5fc42f2cb7d26afa1fde9c78d0f3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c298c88f8ba5fc42f2cb7d26afa1fde9c78d0f3/comments", "author": null, "committer": null, "parents": [{"sha": "fe91bac51d53c711ce19edb8a1e66e5e9e97fd3b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe91bac51d53c711ce19edb8a1e66e5e9e97fd3b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fe91bac51d53c711ce19edb8a1e66e5e9e97fd3b"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "0b58247506084938d562be623ed37c9dd6fa581e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c298c88f8ba5fc42f2cb7d26afa1fde9c78d0f3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c298c88f8ba5fc42f2cb7d26afa1fde9c78d0f3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3c298c88f8ba5fc42f2cb7d26afa1fde9c78d0f3", "patch": "@@ -1,3 +1,8 @@\n+2003-03-16  Richard Henderson  <rth@redhat.com>\n+\n+        * config/i386/i386.md (movstrictqi, movstrictqi_1): Check\n+        optimize_size as well.\n+\n 2003-03-16  Stephane Carrez  <stcarrez@nerim.fr>\n \n \t* config/m68hc11/m68hc11.c (print_operand): Handle 'b' modifier"}, {"sha": "39b8f6ac12c139a656d6501647cb8772e468ac13", "filename": "gcc/config/i386/i386.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c298c88f8ba5fc42f2cb7d26afa1fde9c78d0f3/gcc%2Fconfig%2Fi386%2Fi386.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c298c88f8ba5fc42f2cb7d26afa1fde9c78d0f3/gcc%2Fconfig%2Fi386%2Fi386.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.md?ref=3c298c88f8ba5fc42f2cb7d26afa1fde9c78d0f3", "patch": "@@ -1578,7 +1578,7 @@\n (define_expand \"movstrictqi\"\n   [(set (strict_low_part (match_operand:QI 0 \"nonimmediate_operand\" \"\"))\n \t(match_operand:QI 1 \"general_operand\" \"\"))]\n-  \"! TARGET_PARTIAL_REG_STALL\"\n+  \"! TARGET_PARTIAL_REG_STALL || optimize_size\"\n {\n   /* Don't generate memory->memory moves, go through a register.  */\n   if (GET_CODE (operands[0]) == MEM && GET_CODE (operands[1]) == MEM)\n@@ -1588,7 +1588,7 @@\n (define_insn \"*movstrictqi_1\"\n   [(set (strict_low_part (match_operand:QI 0 \"nonimmediate_operand\" \"+qm,q\"))\n \t(match_operand:QI 1 \"general_operand\" \"*qn,m\"))]\n-  \"! TARGET_PARTIAL_REG_STALL\n+  \"(! TARGET_PARTIAL_REG_STALL || optimize_size)\n    && (GET_CODE (operands[0]) != MEM || GET_CODE (operands[1]) != MEM)\"\n   \"mov{b}\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"imov\")"}]}