{"sha": "f62b28a93b8c2775fc73315cdc1886fcc8afd80a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjYyYjI4YTkzYjhjMjc3NWZjNzMzMTVjZGMxODg2ZmNjOGFmZDgwYQ==", "commit": {"author": {"name": "Laurent GUERBY", "email": "laurent@guerby.net", "date": "2008-08-29T13:44:25Z"}, "committer": {"name": "Laurent Guerby", "email": "guerby@gcc.gnu.org", "date": "2008-08-29T13:44:25Z"}, "message": "Makefile.in (FLAGS_TO_PASS): renamed to LIBADA_FLAGS_TO_PASS to avoid conflicts.\n\n2008-08-29  Laurent Guerby  <laurent@guerby.net>\n\t\n\t* Makefile.in (FLAGS_TO_PASS): renamed to LIBADA_FLAGS_TO_PASS to\n\tavoid conflicts. Factor more flags to pass.\n\t(libsubdir): New variable.\n\t(install-gnatlib): New target.\n\nFrom-SVN: r139767", "tree": {"sha": "55c616970c63c3648373c6641b227d16a0ad31da", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/55c616970c63c3648373c6641b227d16a0ad31da"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f62b28a93b8c2775fc73315cdc1886fcc8afd80a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f62b28a93b8c2775fc73315cdc1886fcc8afd80a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f62b28a93b8c2775fc73315cdc1886fcc8afd80a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f62b28a93b8c2775fc73315cdc1886fcc8afd80a/comments", "author": {"login": "guerby", "id": 6659329, "node_id": "MDQ6VXNlcjY2NTkzMjk=", "avatar_url": "https://avatars.githubusercontent.com/u/6659329?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guerby", "html_url": "https://github.com/guerby", "followers_url": "https://api.github.com/users/guerby/followers", "following_url": "https://api.github.com/users/guerby/following{/other_user}", "gists_url": "https://api.github.com/users/guerby/gists{/gist_id}", "starred_url": "https://api.github.com/users/guerby/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guerby/subscriptions", "organizations_url": "https://api.github.com/users/guerby/orgs", "repos_url": "https://api.github.com/users/guerby/repos", "events_url": "https://api.github.com/users/guerby/events{/privacy}", "received_events_url": "https://api.github.com/users/guerby/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b1d78dfca1180c48bc47e762b405cc7c53897d44", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1d78dfca1180c48bc47e762b405cc7c53897d44", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b1d78dfca1180c48bc47e762b405cc7c53897d44"}], "stats": {"total": 41, "additions": 24, "deletions": 17}, "files": [{"sha": "4f1c82177841fca0474e65318df274f23fa1f071", "filename": "libada/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f62b28a93b8c2775fc73315cdc1886fcc8afd80a/libada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f62b28a93b8c2775fc73315cdc1886fcc8afd80a/libada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libada%2FChangeLog?ref=f62b28a93b8c2775fc73315cdc1886fcc8afd80a", "patch": "@@ -1,3 +1,10 @@\n+2008-08-29  Laurent Guerby  <laurent@guerby.net>\n+\t\n+\t* Makefile.in (FLAGS_TO_PASS): renamed to LIBADA_FLAGS_TO_PASS to\n+\tavoid conflicts. Factor more flags to pass.\n+\t(libsubdir): New variable.\n+\t(install-gnatlib): New target.\n+\n 2008-08-28  Laurent Guerby  <laurent@guerby.net>\n \n \t* configure: Regenerate."}, {"sha": "05a42335f013f4c28978f94e0105bb29ca2441b9", "filename": "libada/Makefile.in", "status": "modified", "additions": 17, "deletions": 17, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f62b28a93b8c2775fc73315cdc1886fcc8afd80a/libada%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f62b28a93b8c2775fc73315cdc1886fcc8afd80a/libada%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libada%2FMakefile.in?ref=f62b28a93b8c2775fc73315cdc1886fcc8afd80a", "patch": "@@ -51,15 +51,25 @@ host_subdir = @host_subdir@\n GCC_DIR=../../$(host_subdir)/gcc\n include $(GCC_DIR)/libgcc.mvars\n \n+target_noncanonical:=@target_noncanonical@\n+version := $(shell cat $(srcdir)/../gcc/BASE-VER)\n+libsubdir := $(libdir)/gcc/$(target_noncanonical)/$(version)\n+\n # exeext should not be used because it's the *host* exeext.  We're building\n # a *target* library, aren't we?!?  Likewise for CC.  Still, provide bogus\n # definitions just in case something slips through the safety net provided\n # by recursive make invocations in gcc/ada/Makefile.in\n-FLAGS_TO_PASS = \\\n+LIBADA_FLAGS_TO_PASS = \\\n         \"MAKEOVERRIDES=\" \\\n         \"LDFLAGS=$(LDFLAGS)\" \\\n         \"LN_S=$(LN_S)\" \\\n         \"SHELL=$(SHELL)\" \\\n+        \"GNATLIBFLAGS=$(GNATLIBFLAGS)\" \\\n+        \"GNATLIBCFLAGS=$(GNATLIBCFLAGS)\" \\\n+        \"TARGET_LIBGCC2_CFLAGS=$(TARGET_LIBGCC2_CFLAGS)\" \\\n+        \"THREAD_KIND=$(THREAD_KIND)\" \\\n+        \"TRACE=$(TRACE)\" \\\n+        \"libsubdir=$(libsubdir)\" \\\n         \"objext=$(objext)\" \\\n         \"prefix=$(prefix)\" \\\n         \"exeext=.exeext.should.not.be.used \" \\\n@@ -73,29 +83,19 @@ gnatlib: @default_gnatlib_target@\n \n gnatlib-plain: oscons $(GCC_DIR)/ada/Makefile\n \ttest -f stamp-libada || \\\n-\t$(MAKE) -C $(GCC_DIR)/ada $(FLAGS_TO_PASS) \\\n-\t  GNATLIBFLAGS=\"$(GNATLIBFLAGS)\" \\\n-\t  GNATLIBCFLAGS=\"$(GNATLIBCFLAGS)\" \\\n-\t  TARGET_LIBGCC2_CFLAGS=\"$(TARGET_LIBGCC2_CFLAGS)\" \\\n-\t  THREAD_KIND=\"$(THREAD_KIND)\" \\\n-\t  TRACE=\"$(TRACE)\" \\\n-\t  gnatlib \\\n+\t$(MAKE) -C $(GCC_DIR)/ada $(LIBADA_FLAGS_TO_PASS) gnatlib \\\n \t&& touch stamp-libada\n \n gnatlib-sjlj gnatlib-zcx gnatlib-shared: oscons $(GCC_DIR)/ada/Makefile\n \ttest -f stamp-libada || \\\n-\t$(MAKE) -C $(GCC_DIR)/ada $(FLAGS_TO_PASS) \\\n-\t  GNATLIBFLAGS=\"$(GNATLIBFLAGS)\" \\\n-\t  GNATLIBCFLAGS=\"$(GNATLIBCFLAGS)\" \\\n-\t  TARGET_LIBGCC2_CFLAGS=\"$(TARGET_LIBGCC2_CFLAGS)\" \\\n-\t  THREAD_KIND=\"$(THREAD_KIND)\" \\\n-\t  TRACE=\"$(TRACE)\" \\\n-\t  $@ \\\n+\t$(MAKE) -C $(GCC_DIR)/ada $(LIBADA_FLAGS_TO_PASS) $@ \\\n \t&& touch stamp-libada\n \n oscons:\n-\t$(MAKE) -C $(GCC_DIR) THREAD_KIND=\"$(THREAD_KIND)\" \\\n-\t  $(FLAGS_TO_PASS) ada/s-oscons.ads\n+\t$(MAKE) -C $(GCC_DIR) $(LIBADA_FLAGS_TO_PASS) ada/s-oscons.ads\n+\n+install-gnatlib: $(GCC_DIR)/ada/Makefile\n+\t$(MAKE) -C $(GCC_DIR)/ada $(LIBADA_FLAGS_TO_PASS) install-gnatlib\n \n # Check uninstalled version.\n check:"}]}