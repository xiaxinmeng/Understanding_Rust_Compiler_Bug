{"sha": "73737e867f5a4badb12aaecaecadecd5a7f0f27d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzM3MzdlODY3ZjVhNGJhZGIxMmFhZWNhZWNhZGVjZDVhN2YwZjI3ZA==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-05-14T04:22:03Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-05-14T04:22:03Z"}, "message": "(restore_referenced_regs): New variable saveregs which is number of regs to save at a time...\n\n(restore_referenced_regs): New variable saveregs\nwhich is number of regs to save at a time, instead of numregs,\nwhich is total number of registers to save.\n\nFrom-SVN: r4445", "tree": {"sha": "00ce726b077cb3e8bf7bbf8f742d2dbd28b92de9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/00ce726b077cb3e8bf7bbf8f742d2dbd28b92de9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/73737e867f5a4badb12aaecaecadecd5a7f0f27d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73737e867f5a4badb12aaecaecadecd5a7f0f27d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/73737e867f5a4badb12aaecaecadecd5a7f0f27d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73737e867f5a4badb12aaecaecadecd5a7f0f27d/comments", "author": null, "committer": null, "parents": [{"sha": "b542afe93fda0423452106e49574a317f787739e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b542afe93fda0423452106e49574a317f787739e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b542afe93fda0423452106e49574a317f787739e"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "ecdc20aa600d6b290e7ae37dfe02d2657fbfd0ba", "filename": "gcc/caller-save.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73737e867f5a4badb12aaecaecadecd5a7f0f27d/gcc%2Fcaller-save.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73737e867f5a4badb12aaecaecadecd5a7f0f27d/gcc%2Fcaller-save.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcaller-save.c?ref=73737e867f5a4badb12aaecaecadecd5a7f0f27d", "patch": "@@ -605,13 +605,15 @@ restore_referenced_regs (x, insn, insn_mode)\n \n       else if (regno < FIRST_PSEUDO_REGISTER)\n \t{\n-\t  int numregs = MIN (HARD_REGNO_NREGS (regno, GET_MODE (x)),\n-\t\t\t     MOVE_MAX / UNITS_PER_WORD);\n+\t  int numregs = HARD_REGNO_NREGS (regno, GET_MODE (x));\n+\t  /* Save at most SAVEREGS at a time.  This can not be larger than\n+\t     MOVE_MAX, because that causes insert_save_restore to fail.  */\n+\t  int saveregs = MIN (numregs, MOVE_MAX / UNITS_PER_WORD);\n \t  int endregno = regno + numregs;\n \n \t  for (i = regno; i < endregno; i++)\n \t    if (TEST_HARD_REG_BIT (hard_regs_need_restore, i))\n-\t      i += insert_save_restore (insn, 0, i, insn_mode, numregs);\n+\t      i += insert_save_restore (insn, 0, i, insn_mode, saveregs);\n \t}\n \n       return;"}]}