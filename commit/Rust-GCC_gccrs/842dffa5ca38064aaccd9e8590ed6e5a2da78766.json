{"sha": "842dffa5ca38064aaccd9e8590ed6e5a2da78766", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODQyZGZmYTVjYTM4MDY0YWFjY2Q5ZTg1OTBlZDZlNWEyZGE3ODc2Ng==", "commit": {"author": {"name": "Andy Hutchinson", "email": "hutchinsonandy@gcc.gnu.org", "date": "2009-11-21T01:34:51Z"}, "committer": {"name": "Andy Hutchinson", "email": "hutchinsonandy@gcc.gnu.org", "date": "2009-11-21T01:34:51Z"}, "message": "re PR c/42114 (c99-stdint test fails for ptrdiff test)\n\nPR Testsuite/42114\n* gcc-dg/c99-stdint-1.c: Condition test for target without signal.h. XFAIL ptrdiff range test for avr.\n* gcc-dg/c99-stdint-2.c: XFAIL for avr target.\n* gcc-dg/c99-stdint-5.c: Condition test for target without signal.h.\n* gcc-dg/c99-stdint-6.c: Ditto.\n\nFrom-SVN: r154392", "tree": {"sha": "4bf63c1c200a8ecb759fa0800b040f056845057f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4bf63c1c200a8ecb759fa0800b040f056845057f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/842dffa5ca38064aaccd9e8590ed6e5a2da78766", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/842dffa5ca38064aaccd9e8590ed6e5a2da78766", "html_url": "https://github.com/Rust-GCC/gccrs/commit/842dffa5ca38064aaccd9e8590ed6e5a2da78766", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/842dffa5ca38064aaccd9e8590ed6e5a2da78766/comments", "author": null, "committer": null, "parents": [{"sha": "b04602917caf19609b2604ab006fec68c755f8dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b04602917caf19609b2604ab006fec68c755f8dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b04602917caf19609b2604ab006fec68c755f8dd"}], "stats": {"total": 24, "additions": 23, "deletions": 1}, "files": [{"sha": "f88e1a44d262124087172645aa45ed09c708ae35", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/842dffa5ca38064aaccd9e8590ed6e5a2da78766/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/842dffa5ca38064aaccd9e8590ed6e5a2da78766/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=842dffa5ca38064aaccd9e8590ed6e5a2da78766", "patch": "@@ -1,3 +1,12 @@\n+2009-11-19  Andy Hutchinson  <hutchinsonandy@gcc.gnu.org>\n+\n+\tPR Testsuite/42114\n+\t* gcc-dg/c99-stdint-1.c: Condition test for target without signal.h.\n+\tXFAIL ptrdiff range test for avr.\n+\t* gcc-dg/c99-stdint-2.c: XFAIL for avr target.\n+\t* gcc-dg/c99-stdint-5.c: Condition test for target without signal.h.\n+\t* gcc-dg/c99-stdint-6.c: Ditto.\n+\n 2009-11-20  Michael Meissner  <meissner@linux.vnet.ibm.com>\n \n \t* gcc/testsuite/gcc.target/powerpc/vsx-vrsave.c: Delete,"}, {"sha": "37e1203f0aeaad44ce3b928063fd151d3e3b9462", "filename": "gcc/testsuite/gcc.dg/c99-stdint-1.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/842dffa5ca38064aaccd9e8590ed6e5a2da78766/gcc%2Ftestsuite%2Fgcc.dg%2Fc99-stdint-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/842dffa5ca38064aaccd9e8590ed6e5a2da78766/gcc%2Ftestsuite%2Fgcc.dg%2Fc99-stdint-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fc99-stdint-1.c?ref=842dffa5ca38064aaccd9e8590ed6e5a2da78766", "patch": "@@ -14,7 +14,9 @@\n #include <stdint.h>\n /* This and the later SIG_ATOMIC_* tests should be appropriately\n    conditioned for any freestanding targets with no <signal.h>.  */\n+#ifndef SIGNAL_SUPPRESS\n #include <signal.h>\n+#endif\n \n /* Note that some of these conditions assume two's complement and no\n    padding bits; GCC only supports two's complement, and no supported\n@@ -212,8 +214,11 @@ test_max (void)\n void\n test_misc_limits (void)\n {\n+/* { dg-bogus  \"size\" \"ptrdiff is 16bits\" { xfail avr-*-* } 218 } */\n   CHECK_SIGNED_LIMITS_2(__PTRDIFF_TYPE__, PTRDIFF_MIN, PTRDIFF_MAX, -65535L, 65535L);\n+#ifndef SIGNAL_SUPPRESS\n   CHECK_LIMITS_2(sig_atomic_t, SIG_ATOMIC_MIN, SIG_ATOMIC_MAX, -127, 127, 255);\n+#endif\n   CHECK_UNSIGNED_LIMITS_2(__SIZE_TYPE__, SIZE_MAX, 65535U);\n   CHECK_LIMITS_2(__WCHAR_TYPE__, WCHAR_MIN, WCHAR_MAX, -127, 127, 255);\n   CHECK_LIMITS_2(__WINT_TYPE__, WINT_MIN, WINT_MAX, -32767, 32767, 65535);"}, {"sha": "d1be0fb6332fef30549a94500c137b5bf8746b9d", "filename": "gcc/testsuite/gcc.dg/c99-stdint-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/842dffa5ca38064aaccd9e8590ed6e5a2da78766/gcc%2Ftestsuite%2Fgcc.dg%2Fc99-stdint-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/842dffa5ca38064aaccd9e8590ed6e5a2da78766/gcc%2Ftestsuite%2Fgcc.dg%2Fc99-stdint-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fc99-stdint-2.c?ref=842dffa5ca38064aaccd9e8590ed6e5a2da78766", "patch": "@@ -2,7 +2,7 @@\n    Freestanding version.  */\n /* { dg-do compile } */\n /* { dg-options \"-std=iso9899:1999 -pedantic-errors -ffreestanding\" } */\n-\n+/* { dg-xfail-if \"ptrdiff size is 16bits\" { avr-*-* } } */\n /* The test is that there are no diagnostics, so just include the\n    hosted version.  */\n #include \"c99-stdint-1.c\""}, {"sha": "9c224edc1cbc4893f127b6ca74902cb6d1161fad", "filename": "gcc/testsuite/gcc.dg/c99-stdint-5.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/842dffa5ca38064aaccd9e8590ed6e5a2da78766/gcc%2Ftestsuite%2Fgcc.dg%2Fc99-stdint-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/842dffa5ca38064aaccd9e8590ed6e5a2da78766/gcc%2Ftestsuite%2Fgcc.dg%2Fc99-stdint-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fc99-stdint-5.c?ref=842dffa5ca38064aaccd9e8590ed6e5a2da78766", "patch": "@@ -5,7 +5,9 @@\n /* { dg-options \"-std=iso9899:1999 -pedantic-errors\" } */\n \n #include <stdint.h>\n+#ifndef SIGNAL_SUPPRESS\n #include <signal.h>\n+#endif\n \n #define CHECK_TYPES(TYPE1, TYPE2) \\\n   do { TYPE1 a; TYPE2 *b = &a; TYPE2 c; TYPE1 *d = &c; } while (0)\n@@ -61,5 +63,7 @@ check_types (void)\n #endif\n   CHECK_TYPES(__INTMAX_TYPE__, intmax_t);\n   CHECK_TYPES(__UINTMAX_TYPE__, uintmax_t);\n+#ifndef SIGNAL_SUPPRESS\n   CHECK_TYPES(__SIG_ATOMIC_TYPE__, sig_atomic_t);\n+#endif\n }"}, {"sha": "3d554e9b126592b3e034675da299e7ef9f2c7e17", "filename": "gcc/testsuite/gcc.dg/c99-stdint-6.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/842dffa5ca38064aaccd9e8590ed6e5a2da78766/gcc%2Ftestsuite%2Fgcc.dg%2Fc99-stdint-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/842dffa5ca38064aaccd9e8590ed6e5a2da78766/gcc%2Ftestsuite%2Fgcc.dg%2Fc99-stdint-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fc99-stdint-6.c?ref=842dffa5ca38064aaccd9e8590ed6e5a2da78766", "patch": "@@ -6,7 +6,9 @@\n /* { dg-options \"-std=gnu99 -pedantic-errors -DNO_LEAST_TYPES -DNO_FAST_TYPES -DNO_MAX_TYPES\" { target alpha*-dec-osf5* } } */\n \n #include <inttypes.h>\n+#ifndef SIGNAL_SUPPRESS\n #include <signal.h>\n+#endif\n \n #define CHECK_TYPES(TYPE1, TYPE2) \\\n   do { TYPE1 a; TYPE2 *b = &a; TYPE2 c; TYPE1 *d = &c; } while (0)\n@@ -68,5 +70,7 @@ check_types (void)\n   CHECK_TYPES(__INTMAX_TYPE__, intmax_t);\n   CHECK_TYPES(__UINTMAX_TYPE__, uintmax_t);\n #endif\n+#ifndef SIGNAL_SUPPRESS\n   CHECK_TYPES(__SIG_ATOMIC_TYPE__, sig_atomic_t);\n+#endif\n }"}]}