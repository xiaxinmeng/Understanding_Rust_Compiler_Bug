{"sha": "16f30680f403891556da2ad6329fcef9dc9b47db", "node_id": "C_kwDOANBUbNoAKDE2ZjMwNjgwZjQwMzg5MTU1NmRhMmFkNjMyOWZjZWY5ZGM5YjQ3ZGI", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2023-01-27T10:17:35Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2023-01-27T10:17:35Z"}, "message": "doc: Fix up return type of __builtin_va_arg_pack_len [PR108560]\n\n__builtin_va_arg_pack_len as implemented returned int since its introduction\nin 2007.  The initial documentation didn't mention any return type,\nwhich changed in 2010 in r0-103077-gab940b73bfabe2cec4 during some\ndocumentation formatting cleanups\nhttps://gcc.gnu.org/legacy-ml/gcc-patches/2010-09/msg01632.html\nI can understand that for formatting some type was needed there\nbut what exactly hasn't been really discussed.\n\nSo, I think we should change documentation to match the implementation,\nrather than change implementation to match the documentation.\nMost people don't use more than 2147483647 arguments to inline functions,\nand on poor targets with 16-bit ints I bet even having more than 65535\narguments to inline functions would be highly unexpected.\n\n2023-01-27  Jakub Jelinek  <jakub@redhat.com>\n\n\tPR other/108560\n\t* doc/extend.texi: Fix up return type of __builtin_va_arg_pack_len\n\tfrom size_t to int.", "tree": {"sha": "5623cd8485e8031e98217a8920805f520b7ebec3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5623cd8485e8031e98217a8920805f520b7ebec3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/16f30680f403891556da2ad6329fcef9dc9b47db", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/16f30680f403891556da2ad6329fcef9dc9b47db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/16f30680f403891556da2ad6329fcef9dc9b47db", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/16f30680f403891556da2ad6329fcef9dc9b47db/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bd246ac68239d944b01c213c39d6e212362c1b40", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd246ac68239d944b01c213c39d6e212362c1b40", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bd246ac68239d944b01c213c39d6e212362c1b40"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "027a08a2f62767f8c2fe736d39f6c937586fce30", "filename": "gcc/doc/extend.texi", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/16f30680f403891556da2ad6329fcef9dc9b47db/gcc%2Fdoc%2Fextend.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/16f30680f403891556da2ad6329fcef9dc9b47db/gcc%2Fdoc%2Fextend.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fextend.texi?ref=16f30680f403891556da2ad6329fcef9dc9b47db", "patch": "@@ -688,7 +688,7 @@ myprintf (FILE *f, const char *format, ...)\n @end smallexample\n @end deftypefn\n \n-@deftypefn {Built-in Function} {size_t} __builtin_va_arg_pack_len ()\n+@deftypefn {Built-in Function} {int} __builtin_va_arg_pack_len ()\n This built-in function returns the number of anonymous arguments of\n an inline function.  It can be used only in inline functions that\n are always inlined, never compiled as a separate function, such"}]}