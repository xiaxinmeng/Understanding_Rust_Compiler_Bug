{"sha": "ac64120eeb133593a61eb39d71c3baa0907e7c7a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWM2NDEyMGVlYjEzMzU5M2E2MWViMzlkNzFjM2JhYTA5MDdlN2M3YQ==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1997-09-11T20:39:08Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1997-09-11T20:39:08Z"}, "message": "Add Fred Fish's LN/LN_S patch.\n\nFrom-SVN: r15415", "tree": {"sha": "93b7f3c3b69970b2e9f016b8565d78e982265094", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/93b7f3c3b69970b2e9f016b8565d78e982265094"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ac64120eeb133593a61eb39d71c3baa0907e7c7a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac64120eeb133593a61eb39d71c3baa0907e7c7a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ac64120eeb133593a61eb39d71c3baa0907e7c7a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac64120eeb133593a61eb39d71c3baa0907e7c7a/comments", "author": null, "committer": null, "parents": [{"sha": "7f69978172e53d7b484e2ba31eda75b7285b7096", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f69978172e53d7b484e2ba31eda75b7285b7096", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7f69978172e53d7b484e2ba31eda75b7285b7096"}], "stats": {"total": 339, "additions": 224, "deletions": 115}, "files": [{"sha": "85e69325cd80f1a724ff8dd59a82d403f24ff463", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 4, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ac64120eeb133593a61eb39d71c3baa0907e7c7a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ac64120eeb133593a61eb39d71c3baa0907e7c7a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ac64120eeb133593a61eb39d71c3baa0907e7c7a", "patch": "@@ -1,7 +1,3 @@\n-Thu Sep 11 11:09:43 1997  Jeffrey A Law  (law@cygnus.com)\n-\n-\t* loop.c (strength_reduce): Fix typo.\n-\n Wed Sep 10 21:37:30 1997  Jeffrey A Law  (law@cygnus.com)\n \n \t* version.c: Bump for snapshot.\n@@ -14,6 +10,17 @@ Wed Sep 10 17:05:46 1997  H.J. Lu  (hjl@gnu.ai.mit.edu)\n \n \t* config/alpha/elf.h (CPP_PREDEFINES): Remove -D__PIC__ -D__pic__.\n \n+Wed Sep 10 16:37:28 1997  Fred Fish  <fnf@ninemoons.com>\n+\n+\t* Makefile.in (LN, LN_S): New macros, use where appropriate.\n+\t* aclocal.m4 (GCC_PROG_LN_S, GCC_PROG_LN): New tests.\n+\t* configure.in: Use GCC_PROG_LN_S and GCC_PROG_LN.\n+\t* configure: Regenerated.\n+\n+Thu Sep 11 11:09:43 1997  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* loop.c (strength_reduce): Fix typo.\n+\n Wed Sep 10 16:01:15 1997  Jim Wilson  <wilson@cygnus.com>\n \n \t* m88k/m88k.c (struct option): Rename to struct options."}, {"sha": "725a8051efe3547290b2098adfcd4b2602f8a48e", "filename": "gcc/Makefile.in", "status": "modified", "additions": 28, "deletions": 30, "changes": 58, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ac64120eeb133593a61eb39d71c3baa0907e7c7a/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ac64120eeb133593a61eb39d71c3baa0907e7c7a/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=ac64120eeb133593a61eb39d71c3baa0907e7c7a", "patch": "@@ -77,6 +77,10 @@ DLLTOOL = dlltool\n SHELL = /bin/sh\n # on sysV, define this as cp.\n INSTALL = @INSTALL@\n+# Some systems may be missing symbolic links, regular links, or both.\n+# Allow configure to check this and use \"ln -s\", \"ln\", or \"cp\" as appropriate.\n+LN=@LN@\n+LN_S=@LN_S@\n # These permit overriding just for certain files.\n INSTALL_PROGRAM = $(INSTALL)\n INSTALL_DATA = $(INSTALL)\n@@ -530,6 +534,8 @@ FLAGS_TO_PASS = \\\n \t\"LDFLAGS=$(LDFLAGS)\" \\\n \t\"LEX=$(LEX)\" \\\n \t\"LEXFLAGS=$(LEXFLAGS)\" \\\n+\t\"LN=$(LN)\" \\\n+\t\"LN_S=$(LN_S)\" \\\n \t\"MAKEINFO=$(MAKEINFO)\" \\\n \t\"MAKEINFOFLAGS=$(MAKEINFOFLAGS)\" \\\n \t\"RANLIB_FOR_TARGET=$(RANLIB_FOR_TARGET)\" \\\n@@ -1187,8 +1193,7 @@ c-iterate.o: c-iterate.c $(CONFIG_H) $(TREE_H) $(RTL_H) c-tree.h flags.h\n # To make a configuration always use collect2, set USE_COLLECT2 to ld.\n ld: collect2\n \trm -f ld$(exeext)\n-\tln collect2$(exeext) ld$(exeext) > /dev/null 2>&1 \\\n-\t   || cp collect2$(exeext) ld$(exeext)\n+\t$(LN) collect2$(exeext) ld$(exeext)\n \n collect2: collect2.o tlink.o hash.o cplus-dem.o underscore.o version.o \\\n \tchoose-temp.o $(LIBDEPS)\n@@ -1717,8 +1722,7 @@ bytecode.maintainer-clean: bytecode.clean\n # Making the preprocessor\n cpp: $(CCCP)\n \t-rm -f cpp$(exeext)\n-\tln $(CCCP)$(exeext) cpp$(exeext) > /dev/null 2>&1 \\\n-\t || cp $(CCCP)$(exeext) cpp$(exeext)\n+\t$(LN) $(CCCP)$(exeext) cpp$(exeext)\n cccp: cccp.o cexp.o version.o $(LIBDEPS)\n \t$(CC) $(ALL_CFLAGS) $(LDFLAGS) -o $@ cccp.o cexp.o \\\n \t  version.o $(LIBS)\n@@ -2239,9 +2243,7 @@ install-driver: xgcc\n \t  rm -f $(bindir)/$(GCC_INSTALL_NAME)$(exeext); \\\n \t  $(INSTALL_PROGRAM) xgcc$(exeext) $(bindir)/$(GCC_INSTALL_NAME)$(exeext); \\\n \t  rm -f $(bindir)/$(target_alias)-gcc-1$(exeext); \\\n-\t  ln $(bindir)/$(GCC_INSTALL_NAME)$(exeext) $(bindir)/$(target_alias)-gcc-1$(exeext) \\\n-\t    > /dev/null 2>&1 \\\n-\t    || cp $(bindir)/$(GCC_INSTALL_NAME)$(exeext) $(bindir)/$(target_alias)-gcc-1$(exeext); \\\n+\t  $(LN) $(bindir)/$(GCC_INSTALL_NAME)$(exeext) $(bindir)/$(target_alias)-gcc-1$(exeext); \\\n \t  mv $(bindir)/$(target_alias)-gcc-1$(exeext) $(bindir)/$(target_alias)-gcc$(exeext); \\\n \tfi\n \n@@ -2299,6 +2301,7 @@ install-multilib: stmp-multilib installdirs\n install-headers: install-include-dir $(INSTALL_HEADERS_DIR) $(INSTALL_ASSERT_H)\n # Fix symlinks to absolute paths in the installed include directory to\n # point to the installed directory, not the build directory.\n+# Don't need to use LN_S here since we really do need ln -s and no substitutes.\n \t-files=`cd $(libsubdir)/include; find . -type l -print 2>/dev/null`; \\\n \tif [ $$? -eq 0 ]; then \\\n \t  dir=`cd include; pwd`; \\\n@@ -2509,33 +2512,30 @@ distdir-start: doc $(srcdir)/INSTALL $(srcdir)/c-parse.y $(srcdir)/c-gperf.h \\\n \tmkdir tmp/ginclude\n \tmkdir tmp/objc\n \tfor file in *[0-9a-zA-Z+]; do \\\n-\t  ln $$file tmp > /dev/null 2>&1 || cp $$file tmp; \\\n+\t  $(LN) $$file tmp; \\\n \tdone\n \tcd config; \\\n \tfor file in *[0-9a-zA-Z+]; do \\\n \t  if test -d $$file && test \"$$file\" != RCS; then \\\n \t    mkdir ../tmp/config/$$file; \\\n \t    cd $$file; \\\n \t    for subfile in *[0-9a-zA-Z+]; do \\\n-\t      ln $$subfile ../../tmp/config/$$file >/dev/null 2>&1 \\\n-\t      || cp $$subfile ../../tmp/config/$$file; \\\n+\t      $(LN) $$subfile ../../tmp/config/$$file; \\\n \t    done; \\\n \t    cd ..; \\\n \t  else \\\n-\t    ln $$file ../tmp/config >/dev/null 2>&1 \\\n-\t    || cp $$file ../tmp/config; \\\n+\t    $(LN) $$file ../tmp/config; \\\n \t  fi; \\\n \tdone\n \tcd ginclude; \\\n \tfor file in *[0-9a-zA-Z+]; do \\\n-\t  ln $$file ../tmp/ginclude >/dev/null 2>&1 \\\n-\t   || cp $$file ../tmp/ginclude; \\\n+\t  $(LN) $$file ../tmp/ginclude; \\\n \tdone\n \tcd objc; \\\n \tfor file in *[0-9a-zA-Z+]; do \\\n-\t  ln $$file ../tmp/objc >/dev/null 2>&1 || cp $$file ../tmp/objc; \\\n+\t  $(LN) $$file ../tmp/objc; \\\n \tdone\n-\tln .gdbinit tmp\n+\t$(LN) .gdbinit tmp\n \n # Finish making `distdir', after the languages have done their thing.\n distdir-finish:\n@@ -2609,8 +2609,6 @@ compare: force\n \t  exit 1; \\\n \telse true; \\\n \tfi\n-\t\n-\t\n \n # Similar, but compare with stage3 directory\n compare3: force\n@@ -2669,9 +2667,9 @@ stage1-start:\n \t-mv $(STAGESTUFF) stage1\n # Copy as/ld if they exist to stage dir, so that running xgcc from the stage\n # dir will work properly.\n-\t-if [ -f as$(exeext) ] ; then ln -s ../as$(exeext) stage1 || cp as$(exeext) stage1 ; else true ; fi\n-\t-if [ -f ld$(exeext) ] ; then ln -s ../ld$(exeext) stage1 || cp ld$(exeext) stage1 ; else true ; fi\n-\t-if [ -f collect-ld$(exeext) ] ; then ln -s ../collect-ld$(exeext) stage1 || cp collect-ld$(exeext) stage1 ; else true ; fi\n+\t-if [ -f as$(exeext) ] ; then $(LN_S) ../as$(exeext) stage1 ; else true ; fi\n+\t-if [ -f ld$(exeext) ] ; then $(LN_S) ../ld$(exeext) stage1 ; else true ; fi\n+\t-if [ -f collect-ld$(exeext) ] ; then $(LN_S) ../collect-ld$(exeext) stage1 ; else true ; fi\n \t-rm -f stage1/libgcc.a\n \t-cp libgcc.a stage1\n \t-if $(RANLIB_TEST) ; then $(RANLIB) stage1/libgcc.a; else true; fi\n@@ -2690,9 +2688,9 @@ stage2-start:\n \t-mv $(STAGESTUFF) stage2\n # Copy as/ld if they exist to stage dir, so that running xgcc from the stage\n # dir will work properly.\n-\t-if [ -f as$(exeext) ] ; then ln -s ../as$(exeext) stage2 || cp as$(exeext) stage2 ; else true ; fi\n-\t-if [ -f ld$(exeext) ] ; then ln -s ../ld$(exeext) stage2 || cp ld$(exeext) stage2 ; else true ; fi\n-\t-if [ -f collect-ld ] ; then ln -s ../collect-ld$(exeext) stage2 || cp collect-ld$(exeext) stage2 ; else true ; fi\n+\t-if [ -f as$(exeext) ] ; then $(LN_S) ../as$(exeext) stage2 ; else true ; fi\n+\t-if [ -f ld$(exeext) ] ; then $(LN_S) ../ld$(exeext) stage2 ; else true ; fi\n+\t-if [ -f collect-ld ] ; then $(LN_S) ../collect-ld$(exeext) stage2 ; else true ; fi\n \t-rm -f stage2/libgcc.a\n \t-cp libgcc.a stage2\n \t-if $(RANLIB_TEST) ; then $(RANLIB) stage2/libgcc.a; else true; fi\n@@ -2711,9 +2709,9 @@ stage3-start:\n \t-mv $(STAGESTUFF) stage3\n # Copy as/ld if they exist to stage dir, so that running xgcc from the stage\n # dir will work properly.\n-\t-if [ -f as$(exeext) ] ; then ln -s ../as$(exeext) stage3 || cp as$(exeext) stage3 ; else true ; fi\n-\t-if [ -f ld$(exeext) ] ; then ln -s ../ld$(exeext) stage3 || cp ld$(exeext) stage3 ; else true ; fi\n-\t-if [ -f collect-ld$(exeext) ] ; then ln -s ../collect-ld$(exeext) stage3 || cp collect-ld$(exeext) stage3 ; else true ; fi\n+\t-if [ -f as$(exeext) ] ; then $(LN_S) ../as$(exeext) stage3 ; else true ; fi\n+\t-if [ -f ld$(exeext) ] ; then $(LN_S) ../ld$(exeext) stage3 ; else true ; fi\n+\t-if [ -f collect-ld$(exeext) ] ; then $(LN_S) ../collect-ld$(exeext) stage3 ; else true ; fi\n \t-rm -f stage3/libgcc.a\n \t-cp libgcc.a stage3\n \t-if $(RANLIB_TEST) ; then $(RANLIB) stage3/libgcc.a; else true; fi\n@@ -2732,9 +2730,9 @@ stage4-start:\n \t-mv $(STAGESTUFF) stage4\n # Copy as/ld if they exist to stage dir, so that running xgcc from the stage\n # dir will work properly.\n-\t-if [ -f as$(exeext) ] ; then ln -s ../as$(exeext) stage4 || cp as$(exeext) stage4 ; else true ; fi\n-\t-if [ -f ld$(exeext) ] ; then ln -s ../ld$(exeext) stage4 || cp ld$(exeext) stage4 ; else true ; fi\n-\t-if [ -f collect-ld$(exeext) ] ; then ln -s ../collect-ld$(exeext) stage4 || cp collect-ld$(exeext) stage4 ; else true ; fi\n+\t-if [ -f as$(exeext) ] ; then $(LN_S) ../as$(exeext) stage4 ; else true ; fi\n+\t-if [ -f ld$(exeext) ] ; then $(LN_S) ../ld$(exeext) stage4 ; else true ; fi\n+\t-if [ -f collect-ld$(exeext) ] ; then $(LN_S) ../collect-ld$(exeext) stage4 ; else true ; fi\n \t-rm -f stage4/libgcc.a\n \t-cp libgcc.a stage4\n \t-if $(RANLIB_TEST) ; then $(RANLIB) stage4/libgcc.a; else true; fi"}, {"sha": "01be979903c58569aae1c430849e3e71e8f1d677", "filename": "gcc/aclocal.m4", "status": "modified", "additions": 64, "deletions": 0, "changes": 64, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ac64120eeb133593a61eb39d71c3baa0907e7c7a/gcc%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ac64120eeb133593a61eb39d71c3baa0907e7c7a/gcc%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Faclocal.m4?ref=ac64120eeb133593a61eb39d71c3baa0907e7c7a", "patch": "@@ -25,3 +25,67 @@ if test $gcc_cv_decl_needed_$1 = yes; then\n   AC_DEFINE_UNQUOTED($gcc_tr_decl)\n fi\n ])dnl\n+\n+dnl See if symbolic links work and if not, try to substitute either hard links or simple copy.\n+AC_DEFUN(GCC_PROG_LN_S,\n+[AC_MSG_CHECKING(whether ln -s works)\n+AC_CACHE_VAL(gcc_cv_prog_LN_S,\n+[rm -f conftestdata_to\n+echo >conftestdata_from\n+if ln -s conftestdata_from conftestdata_to 2>/dev/null\n+then\n+  gcc_cv_prog_LN_S=\"ln -s\"\n+else\n+  if ln conftestdata_from conftestdata_to 2>/dev/null\n+  then\n+    gcc_cv_prog_LN_S=ln\n+  else\n+    gcc_cv_prog_LN_S=cp\n+  fi\n+fi\n+rm -f conftestdata_from conftestdata_to\n+])dnl\n+LN_S=\"$gcc_cv_prog_LN_S\"\n+if test \"$gcc_cv_prog_LN_S\" = \"ln -s\"; then\n+  AC_MSG_RESULT(yes)\n+else\n+  if test \"$gcc_cv_prog_LN_S\" = \"ln\"; then\n+    AC_MSG_RESULT([no, using ln])\n+  else\n+    AC_MSG_RESULT([no, and neither does ln, so using cp])\n+  fi\n+fi\n+AC_SUBST(LN_S)dnl\n+])\n+\n+dnl See if hard links work and if not, try to substitute either symbolic links or simple copy.\n+AC_DEFUN(GCC_PROG_LN,\n+[AC_MSG_CHECKING(whether ln works)\n+AC_CACHE_VAL(gcc_cv_prog_LN,\n+[rm -f conftestdata_to\n+echo >conftestdata_from\n+if ln conftestdata_from conftestdata_to 2>/dev/null\n+then\n+  gcc_cv_prog_LN=\"ln\"\n+else\n+  if ln -s conftestdata_from conftestdata_to 2>/dev/null\n+  then\n+    gcc_cv_prog_LN=\"ln -s\"\n+  else\n+    gcc_cv_prog_LN=cp\n+  fi\n+fi\n+rm -f conftestdata_from conftestdata_to\n+])dnl\n+LN=\"$gcc_cv_prog_LN\"\n+if test \"$gcc_cv_prog_LN\" = \"ln\"; then\n+  AC_MSG_RESULT(yes)\n+else\n+  if test \"$gcc_cv_prog_LN\" = \"ln -s\"; then\n+    AC_MSG_RESULT([no, using ln -s])\n+  else\n+    AC_MSG_RESULT([no, and neither does ln -s, so using cp])\n+  fi\n+fi\n+AC_SUBST(LN)dnl\n+])"}, {"sha": "5270ece10f5f9231c286501dcfebce84a0f3e945", "filename": "gcc/configure", "status": "modified", "additions": 101, "deletions": 57, "changes": 158, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ac64120eeb133593a61eb39d71c3baa0907e7c7a/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ac64120eeb133593a61eb39d71c3baa0907e7c7a/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=ac64120eeb133593a61eb39d71c3baa0907e7c7a", "patch": "@@ -1,7 +1,7 @@\n #! /bin/sh\n \n # Guess values for system-dependent variables and create Makefiles.\n-# Generated automatically using autoconf version 2.12 \n+# Generated automatically using autoconf version 2.12.1 \n # Copyright (C) 1992, 93, 94, 95, 96 Free Software Foundation, Inc.\n #\n # This configure script is free software; the Free Software Foundation\n@@ -350,7 +350,7 @@ EOF\n     verbose=yes ;;\n \n   -version | --version | --versio | --versi | --vers)\n-    echo \"configure generated by autoconf version 2.12\"\n+    echo \"configure generated by autoconf version 2.12.1\"\n     exit 0 ;;\n \n   -with-* | --with-*)\n@@ -704,7 +704,7 @@ esac\n \n \n # Make sure we can run config.sub.\n-if $ac_config_sub sun4 >/dev/null 2>&1; then :\n+if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :\n else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n fi\n \n@@ -716,14 +716,14 @@ case \"$host_alias\" in\n NONE)\n   case $nonopt in\n   NONE)\n-    if host_alias=`$ac_config_guess`; then :\n+    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :\n     else { echo \"configure: error: can not guess host type; you must specify one\" 1>&2; exit 1; }\n     fi ;;\n   *) host_alias=$nonopt ;;\n   esac ;;\n esac\n \n-host=`$ac_config_sub $host_alias`\n+host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`\n host_cpu=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n host_vendor=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n@@ -741,7 +741,7 @@ NONE)\n   esac ;;\n esac\n \n-target=`$ac_config_sub $target_alias`\n+target=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $target_alias`\n target_cpu=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n target_vendor=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n target_os=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n@@ -759,7 +759,7 @@ NONE)\n   esac ;;\n esac\n \n-build=`$ac_config_sub $build_alias`\n+build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`\n build_cpu=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n build_vendor=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n build_os=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n@@ -882,31 +882,74 @@ fi\n \n fi\n \n+echo $ac_n \"checking whether ln works\"\"... $ac_c\" 1>&6\n+echo \"configure:887: checking whether ln works\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_prog_LN'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  rm -f conftestdata_to\n+echo >conftestdata_from\n+if ln conftestdata_from conftestdata_to 2>/dev/null\n+then\n+  gcc_cv_prog_LN=\"ln\"\n+else\n+  if ln -s conftestdata_from conftestdata_to 2>/dev/null\n+  then\n+    gcc_cv_prog_LN=\"ln -s\"\n+  else\n+    gcc_cv_prog_LN=cp\n+  fi\n+fi\n+rm -f conftestdata_from conftestdata_to\n+\n+fi\n+LN=\"$gcc_cv_prog_LN\"\n+if test \"$gcc_cv_prog_LN\" = \"ln\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+else\n+  if test \"$gcc_cv_prog_LN\" = \"ln -s\"; then\n+    echo \"$ac_t\"\"no, using ln -s\" 1>&6\n+  else\n+    echo \"$ac_t\"\"no, and neither does ln -s, so using cp\" 1>&6\n+  fi\n+fi\n+\n echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n-echo \"configure:887: checking whether ln -s works\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_LN_S'+set}'`\\\" = set\"; then\n+echo \"configure:919: checking whether ln -s works\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_prog_LN_S'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  rm -f conftestdata\n-if ln -s X conftestdata 2>/dev/null\n+  rm -f conftestdata_to\n+echo >conftestdata_from\n+if ln -s conftestdata_from conftestdata_to 2>/dev/null\n then\n-  rm -f conftestdata\n-  ac_cv_prog_LN_S=\"ln -s\"\n+  gcc_cv_prog_LN_S=\"ln -s\"\n else\n-  ac_cv_prog_LN_S=ln\n+  if ln conftestdata_from conftestdata_to 2>/dev/null\n+  then\n+    gcc_cv_prog_LN_S=ln\n+  else\n+    gcc_cv_prog_LN_S=cp\n+  fi\n fi\n+rm -f conftestdata_from conftestdata_to\n+\n fi\n-LN_S=\"$ac_cv_prog_LN_S\"\n-if test \"$ac_cv_prog_LN_S\" = \"ln -s\"; then\n+LN_S=\"$gcc_cv_prog_LN_S\"\n+if test \"$gcc_cv_prog_LN_S\" = \"ln -s\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n else\n-  echo \"$ac_t\"\"no\" 1>&6\n+  if test \"$gcc_cv_prog_LN_S\" = \"ln\"; then\n+    echo \"$ac_t\"\"no, using ln\" 1>&6\n+  else\n+    echo \"$ac_t\"\"no, and neither does ln, so using cp\" 1>&6\n+  fi\n fi\n \n # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:910: checking for $ac_word\" >&5\n+echo \"configure:953: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -937,7 +980,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:941: checking for $ac_word\" >&5\n+echo \"configure:984: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_YACC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -977,7 +1020,7 @@ test -n \"$YACC\" || YACC=\"yacc\"\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:981: checking for a BSD compatible install\" >&5\n+echo \"configure:1024: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1031,7 +1074,7 @@ test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1035: checking for $ac_word\" >&5\n+echo \"configure:1078: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1060,7 +1103,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1064: checking for $ac_word\" >&5\n+echo \"configure:1107: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1108,7 +1151,7 @@ fi\n fi\n \n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:1112: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:1155: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -1118,11 +1161,11 @@ ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS\n cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext <<EOF\n-#line 1122 \"configure\"\n+#line 1165 \"configure\"\n #include \"confdefs.h\"\n main(){return(0);}\n EOF\n-if { (eval echo configure:1126: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1169: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -1142,12 +1185,12 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:1146: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:1189: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:1151: checking whether we are using GNU C\" >&5\n+echo \"configure:1194: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1156,7 +1199,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1160: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1203: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -1171,7 +1214,7 @@ if test $ac_cv_prog_gcc = yes; then\n   ac_save_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\n   echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:1175: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:1218: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1199,7 +1242,7 @@ else\n fi\n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:1203: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:1246: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1227,7 +1270,7 @@ fi\n \n \n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:1231: checking how to run the C preprocessor\" >&5\n+echo \"configure:1274: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -1242,13 +1285,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 1246 \"configure\"\n+#line 1289 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1252: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1295: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   :\n@@ -1259,13 +1302,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 1263 \"configure\"\n+#line 1306 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1269: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1312: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   :\n@@ -1291,17 +1334,17 @@ for ac_hdr in stddef.h string.h strings.h stdlib.h time.h unistd.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:1295: checking for $ac_hdr\" >&5\n+echo \"configure:1338: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1300 \"configure\"\n+#line 1343 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1305: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1348: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1329,12 +1372,12 @@ done\n \n \n echo $ac_n \"checking whether malloc must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:1333: checking whether malloc must be declared\" >&5\n+echo \"configure:1376: checking whether malloc must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_malloc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1338 \"configure\"\n+#line 1381 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -1355,7 +1398,7 @@ int main() {\n char *(*pfn) = (char *(*)) malloc\n ; return 0; }\n EOF\n-if { (eval echo configure:1359: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1402: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_malloc=no\n else\n@@ -1377,12 +1420,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether realloc must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:1381: checking whether realloc must be declared\" >&5\n+echo \"configure:1424: checking whether realloc must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_realloc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1386 \"configure\"\n+#line 1429 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -1403,7 +1446,7 @@ int main() {\n char *(*pfn) = (char *(*)) realloc\n ; return 0; }\n EOF\n-if { (eval echo configure:1407: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1450: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_realloc=no\n else\n@@ -1425,12 +1468,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether calloc must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:1429: checking whether calloc must be declared\" >&5\n+echo \"configure:1472: checking whether calloc must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_calloc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1434 \"configure\"\n+#line 1477 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -1451,7 +1494,7 @@ int main() {\n char *(*pfn) = (char *(*)) calloc\n ; return 0; }\n EOF\n-if { (eval echo configure:1455: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1498: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_calloc=no\n else\n@@ -1473,12 +1516,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether free must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:1477: checking whether free must be declared\" >&5\n+echo \"configure:1520: checking whether free must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_free'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1482 \"configure\"\n+#line 1525 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -1499,7 +1542,7 @@ int main() {\n char *(*pfn) = (char *(*)) free\n ; return 0; }\n EOF\n-if { (eval echo configure:1503: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1546: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_free=no\n else\n@@ -1522,12 +1565,12 @@ fi\n \n \n echo $ac_n \"checking for sys_siglist declaration in signal.h or unistd.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1526: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n+echo \"configure:1569: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_decl_sys_siglist'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1531 \"configure\"\n+#line 1574 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <signal.h>\n@@ -1539,7 +1582,7 @@ int main() {\n char *msg = *(sys_siglist + 1);\n ; return 0; }\n EOF\n-if { (eval echo configure:1543: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1586: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_decl_sys_siglist=yes\n else\n@@ -1563,12 +1606,12 @@ fi\n for ac_func in strerror\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1567: checking for $ac_func\" >&5\n+echo \"configure:1610: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1572 \"configure\"\n+#line 1615 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1591,7 +1634,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1595: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1638: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -4712,7 +4755,7 @@ do\n     echo \"running \\${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion\"\n     exec \\${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion ;;\n   -version | --version | --versio | --versi | --vers | --ver | --ve | --v)\n-    echo \"$CONFIG_STATUS generated by autoconf version 2.12\"\n+    echo \"$CONFIG_STATUS generated by autoconf version 2.12.1\"\n     exit 0 ;;\n   -help | --help | --hel | --he | --h)\n     echo \"\\$ac_cs_usage\"; exit 0 ;;\n@@ -4771,6 +4814,7 @@ s%@build_os@%$build_os%g\n s%@AWK@%$AWK%g\n s%@LEX@%$LEX%g\n s%@LEXLIB@%$LEXLIB%g\n+s%@LN@%$LN%g\n s%@LN_S@%$LN_S%g\n s%@RANLIB@%$RANLIB%g\n s%@YACC@%$YACC%g"}, {"sha": "75e5dba4eb4e44b2d434f0fbeabac5d2847bd536", "filename": "gcc/configure.in", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ac64120eeb133593a61eb39d71c3baa0907e7c7a/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ac64120eeb133593a61eb39d71c3baa0907e7c7a/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=ac64120eeb133593a61eb39d71c3baa0907e7c7a", "patch": "@@ -124,7 +124,8 @@ AC_CANONICAL_SYSTEM\n # Find some useful tools\n AC_PROG_AWK\n AC_PROG_LEX\n-AC_PROG_LN_S\n+GCC_PROG_LN\n+GCC_PROG_LN_S\n AC_PROG_RANLIB\n AC_PROG_YACC\n AC_PROG_INSTALL"}, {"sha": "ddefd5c52fe1a22329415a43ed141a9af7d19c1c", "filename": "gcc/cp/ChangeLog.egcs", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ac64120eeb133593a61eb39d71c3baa0907e7c7a/gcc%2Fcp%2FChangeLog.egcs", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ac64120eeb133593a61eb39d71c3baa0907e7c7a/gcc%2Fcp%2FChangeLog.egcs", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog.egcs?ref=ac64120eeb133593a61eb39d71c3baa0907e7c7a", "patch": "@@ -0,0 +1,4 @@\n+Wed Sep 10 16:39:26 1997  Jim Wilson  <wilson@cygnus.com>\n+\n+\t* Make-lang.in (LN, LN_S): New macros, use where appropriate.\n+"}, {"sha": "3d14dfa329f2c5c65dd10e15d3d52b609681965d", "filename": "gcc/cp/Make-lang.in", "status": "modified", "additions": 5, "deletions": 10, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ac64120eeb133593a61eb39d71c3baa0907e7c7a/gcc%2Fcp%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ac64120eeb133593a61eb39d71c3baa0907e7c7a/gcc%2Fcp%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FMake-lang.in?ref=ac64120eeb133593a61eb39d71c3baa0907e7c7a", "patch": "@@ -74,7 +74,7 @@ C++ c++: cc1plus\n \n g++.c: $(srcdir)/gcc.c\n \t-rm -f $@\n-\tln -s $(srcdir)/gcc.c $@ || cp $(srcdir)/gcc.c $@\n+\t$(LN_S) $(srcdir)/gcc.c $@\n \n g++spec.o: $(srcdir)/cp/g++spec.c\n \t$(CC) -c $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) $(srcdir)/cp/g++spec.c\n@@ -101,8 +101,7 @@ g++-cross$(exeext): g++$(exeext)\n \n cxxmain.o: cplus-dem.c demangle.h\n \trm -f cxxmain.c\n-\tln -s $(srcdir)/cplus-dem.c cxxmain.c > /dev/null 2>&1 \\\n-\t || cp $(srcdir)/cplus-dem.c cxxmain.c\n+\t$(LN_S) $(srcdir)/cplus-dem.c cxxmain.c\n \t$(CC) -c -DMAIN $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) \\\n \t  -DVERSION=\\\"$(version)\\\" cxxmain.c\n \trm -f cxxmain.c\n@@ -199,17 +198,13 @@ c++.install-common:\n \t    $(INSTALL_PROGRAM) g++-cross$(exeext) $(bindir)/$(GXX_CROSS_NAME)$(exeext); \\\n \t    chmod a+x $(bindir)/$(GXX_CROSS_NAME)$(exeext); \\\n \t    rm -f $(bindir)/$(CXX_CROSS_NAME)$(exeext); \\\n-\t    ln $(bindir)/$(GXX_CROSS_NAME)$(exeext) $(bindir)/$(CXX_CROSS_NAME)$(exeext) \\\n-\t      > /dev/null 2>&1 \\\n-\t      || cp $(bindir)/$(GXX_CROSS_NAME)$(exeext) $(bindir)/$(CXX_CROSS_NAME)$(exeext) ; \\\n+\t    $(LN) $(bindir)/$(GXX_CROSS_NAME)$(exeext) $(bindir)/$(CXX_CROSS_NAME)$(exeext); \\\n \t  else \\\n \t    rm -f $(bindir)/$(GXX_INSTALL_NAME)$(exeext); \\\n \t    $(INSTALL_PROGRAM) g++$(exeext) $(bindir)/$(GXX_INSTALL_NAME)$(exeext); \\\n \t    chmod a+x $(bindir)/$(GXX_INSTALL_NAME)$(exeext); \\\n \t    rm -f $(bindir)/$(CXX_INSTALL_NAME)$(exeext); \\\n-\t    ln $(bindir)/$(GXX_INSTALL_NAME)$(exeext) $(bindir)/$(CXX_INSTALL_NAME)$(exeext) \\\n-\t      > /dev/null 2>&1 \\\n-\t      || cp $(bindir)/$(GXX_INSTALL_NAME)$(exeext) $(bindir)/$(CXX_INSTALL_NAME)$(exeext) ; \\\n+\t    $(LN) $(bindir)/$(GXX_INSTALL_NAME)$(exeext) $(bindir)/$(CXX_INSTALL_NAME)$(exeext); \\\n \t  fi ; \\\n \tfi\n \n@@ -273,5 +268,5 @@ c++.distdir:\n \tcd cp ; $(MAKE) $(FLAGS_TO_PASS) $(CXX_FLAGS_TO_PASS) parse.c hash.h\n \tcd cp; \\\n \tfor file in *[0-9a-zA-Z+]; do \\\n-\t  ln $$file ../tmp/cp >/dev/null 2>&1 || cp $$file ../tmp/cp; \\\n+\t  $(LN) $$file ../tmp/cp; \\\n \tdone"}, {"sha": "13be1b8a3d7203f64c025249085b4de52c359203", "filename": "gcc/f/ChangeLog.egcs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ac64120eeb133593a61eb39d71c3baa0907e7c7a/gcc%2Ff%2FChangeLog.egcs", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ac64120eeb133593a61eb39d71c3baa0907e7c7a/gcc%2Ff%2FChangeLog.egcs", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2FChangeLog.egcs?ref=ac64120eeb133593a61eb39d71c3baa0907e7c7a", "patch": "@@ -1,3 +1,7 @@\n+Wed Sep 10 16:39:47 1997  Jim Wilson  <wilson@cygnus.com>\n+\n+\t* Make-lang.in (LN, LN_S): New macros, use where appropriate.\n+\n Tue Sep  9 13:20:40 1997  Jim Wilson  <wilson@cygnus.com>\n \n \t* g77.c (pexecute, doit): Add checks for __CYGWIN32__."}, {"sha": "813a4259328c0c0e5ac9c4a1d38380285a4f720e", "filename": "gcc/f/Make-lang.in", "status": "modified", "additions": 5, "deletions": 13, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ac64120eeb133593a61eb39d71c3baa0907e7c7a/gcc%2Ff%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ac64120eeb133593a61eb39d71c3baa0907e7c7a/gcc%2Ff%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2FMake-lang.in?ref=ac64120eeb133593a61eb39d71c3baa0907e7c7a", "patch": "@@ -450,19 +450,15 @@ f77.install-common:\n \t    chmod a+x $(bindir)/$(G77_CROSS_NAME)$(exeext); \\\n \t    if $(F77_INSTALL_FLAG) ; then \\\n \t      rm -f $(bindir)/$(F77_CROSS_NAME)$(exeext); \\\n-\t      ln $(bindir)/$(G77_CROSS_NAME)$(exeext) $(bindir)/$(F77_CROSS_NAME)$(exeext) \\\n-\t\t> /dev/null 2>&1 \\\n-\t\t|| cp $(bindir)/$(G77_CROSS_NAME)$(exeext) $(bindir)/$(F77_CROSS_NAME)$(exeext) ; \\\n+\t      $(LN) $(bindir)/$(G77_CROSS_NAME)$(exeext) $(bindir)/$(F77_CROSS_NAME)$(exeext); \\\n \t    fi ; \\\n \t  else \\\n \t    rm -f $(bindir)/$(G77_INSTALL_NAME)$(exeext); \\\n \t    $(INSTALL_PROGRAM) g77$(exeext) $(bindir)/$(G77_INSTALL_NAME)$(exeext); \\\n \t    chmod a+x $(bindir)/$(G77_INSTALL_NAME)$(exeext); \\\n \t    if $(F77_INSTALL_FLAG) ; then \\\n \t      rm -f $(bindir)/$(F77_INSTALL_NAME)$(exeext); \\\n-\t      ln $(bindir)/$(G77_INSTALL_NAME)$(exeext) $(bindir)/$(F77_INSTALL_NAME)$(exeext) \\\n-\t\t> /dev/null 2>&1 \\\n-\t\t|| cp $(bindir)/$(G77_INSTALL_NAME)$(exeext) $(bindir)/$(F77_INSTALL_NAME)$(exeext) ; \\\n+\t      $(LN) $(bindir)/$(G77_INSTALL_NAME)$(exeext) $(bindir)/$(F77_INSTALL_NAME)$(exeext); \\\n \t    fi ; \\\n \t  fi ; \\\n \telse true; fi\n@@ -485,19 +481,15 @@ f77.install-man: $(srcdir)/f/g77.1\n \t    chmod a-x $(mandir)/$(G77_CROSS_NAME)$(manext); \\\n \t    if $(F77_INSTALL_FLAG) ; then \\\n \t      rm -f $(mandir)/$(F77_CROSS_NAME)$(manext); \\\n-\t      ln $(mandir)/$(G77_CROSS_NAME)$(manext) $(mandir)/$(F77_CROSS_NAME)$(manext) \\\n-\t\t> /dev/null 2>&1 \\\n-\t\t|| cp $(mandir)/$(F77_CROSS_NAME)$(manext) $(mandir)/$(F77_CROSS_NAME)$(manext) ; \\\n+\t      $(LN) $(mandir)/$(G77_CROSS_NAME)$(manext) $(mandir)/$(F77_CROSS_NAME)$(manext); \\\n \t    fi ;\\\n \t  else \\\n \t    rm -f $(mandir)/$(G77_INSTALL_NAME)$(manext); \\\n \t    $(INSTALL_DATA) $(srcdir)/f/g77.1 $(mandir)/$(G77_INSTALL_NAME)$(manext); \\\n \t    chmod a-x $(mandir)/$(G77_INSTALL_NAME)$(manext); \\\n \t    if $(F77_INSTALL_FLAG) ; then \\\n \t      rm -f $(mandir)/$(F77_INSTALL_NAME)$(manext); \\\n-\t      ln $(mandir)/$(G77_INSTALL_NAME)$(manext) $(mandir)/$(F77_INSTALL_NAME)$(manext) \\\n-\t\t> /dev/null 2>&1 \\\n-\t\t|| cp $(mandir)/$(F77_INSTALL_NAME)$(manext) $(mandir)/$(F77_INSTALL_NAME)$(manext) ; \\\n+\t      $(LN) $(mandir)/$(G77_INSTALL_NAME)$(manext) $(mandir)/$(F77_INSTALL_NAME)$(manext); \\\n \t    fi ;\\\n \t  fi; \\\n \telse true; fi\n@@ -606,5 +598,5 @@ f77.distdir: f77.rebuilt\n \tmkdir tmp/f\n \tcd f; \\\n \tfor file in *[0-9a-zA-Z+]; do \\\n-\t  ln $$file ../tmp/f >/dev/null 2>&1 || cp $$file ../tmp/f; \\\n+\t  ($LN) $$file ../tmp/f\n \tdone"}]}