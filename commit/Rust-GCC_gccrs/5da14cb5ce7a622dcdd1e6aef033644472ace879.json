{"sha": "5da14cb5ce7a622dcdd1e6aef033644472ace879", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWRhMTRjYjVjZTdhNjIyZGNkZDFlNmFlZjAzMzY0NDQ3MmFjZTg3OQ==", "commit": {"author": {"name": "Christian Cornelssen", "email": "ccorn@cs.tu-berlin.de", "date": "2003-02-03T00:55:32Z"}, "committer": {"name": "Christian Cornelssen", "email": "ccorn@gcc.gnu.org", "date": "2003-02-03T00:55:32Z"}, "message": "Make-lang.in (ada.install-info): Let $(DESTDIR)$(infodir) be created if necessary.\n\n\n\t* Make-lang.in (ada.install-info): Let $(DESTDIR)$(infodir)\n\tbe created if necessary.\n\t(ada.install-common): Let $(DESTDIR)$(bindir) be created\n\tif necessary.  Remove erroneous and redundant gnatchop\n\tinstallation commands.\tTest for gnatdll before attempting\n\tto install it.\n\t(ada.uninstall): Also uninstall gnatfind, gnatxref, gnatlbr,\n\tand gnatdll from all plausible locations.\n\nFrom-SVN: r62304", "tree": {"sha": "4f62c8b48fbc817721ff515442d3bf34e72c1d5d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4f62c8b48fbc817721ff515442d3bf34e72c1d5d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5da14cb5ce7a622dcdd1e6aef033644472ace879", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5da14cb5ce7a622dcdd1e6aef033644472ace879", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5da14cb5ce7a622dcdd1e6aef033644472ace879", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5da14cb5ce7a622dcdd1e6aef033644472ace879/comments", "author": null, "committer": null, "parents": [{"sha": "035b2a34758320289bba432ea32320778177ed8a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/035b2a34758320289bba432ea32320778177ed8a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/035b2a34758320289bba432ea32320778177ed8a"}], "stats": {"total": 80, "additions": 41, "deletions": 39}, "files": [{"sha": "3443652f875285cd9a6b8f30ad02d76707418af7", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5da14cb5ce7a622dcdd1e6aef033644472ace879/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5da14cb5ce7a622dcdd1e6aef033644472ace879/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=5da14cb5ce7a622dcdd1e6aef033644472ace879", "patch": "@@ -1,3 +1,14 @@\n+2003-02-03  Christian Cornelssen <ccorn@cs.tu-berlin.de>\n+\n+\t* Make-lang.in (ada.install-info): Let $(DESTDIR)$(infodir)\n+\tbe created if necessary.\n+\t(ada.install-common): Let $(DESTDIR)$(bindir) be created\n+\tif necessary.  Remove erroneous and redundant gnatchop\n+\tinstallation commands.\tTest for gnatdll before attempting\n+\tto install it.\n+\t(ada.uninstall): Also uninstall gnatfind, gnatxref, gnatlbr,\n+\tand gnatdll from all plausible locations.\n+\n 2003-02-01  Richard Sandiford  <rsandifo@redhat.com>\n \n \t* utils2.c (build_unary_op): Don't check flag_volatile."}, {"sha": "ed7d071f6198676096afb9febc9fbe4c29d4df02", "filename": "gcc/ada/Make-lang.in", "status": "modified", "additions": 30, "deletions": 39, "changes": 69, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5da14cb5ce7a622dcdd1e6aef033644472ace879/gcc%2Fada%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5da14cb5ce7a622dcdd1e6aef033644472ace879/gcc%2Fada%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FMake-lang.in?ref=5da14cb5ce7a622dcdd1e6aef033644472ace879", "patch": "@@ -233,11 +233,11 @@ cross-gnattools: force\n \t$(MAKE)  -C ada $(FLAGS_TO_PASS) $(ADA_FLAGS_TO_PASS)\\\n \t   ADA_INCLUDES=\"-I$(RTS_DIR)adainclude -I$(RTS_DIR)adalib\" \\\n \t   GNATMAKE=\"gnatmake\" \\\n-           GNATBIND=\"gnatbind\" \\\n-           GNATLINK=\"gnatlink\" \\\n-           LIBGNAT=\"\" \\\n+\t   GNATBIND=\"gnatbind\" \\\n+\t   GNATLINK=\"gnatlink\" \\\n+\t   LIBGNAT=\"\" \\\n \t   gnattools1-re gnattools2\n-  \n+\n rts-none: force\n \t$(MAKE) -C ada  $(FLAGS_TO_PASS) GNATMAKE=../gnatmake rts-none\n \n@@ -400,6 +400,7 @@ ada.install-info:\n \t-rm -f $(DESTDIR)$(infodir)/gnat_ug_*.info*\n \t-rm -f $(DESTDIR)$(infodir)/gnat_rm.info* \n \t-rm -f $(DESTDIR)$(infodir)/gnat-style.info* \n+\t$(MKDIR) $(DESTDIR)$(infodir)\n \tif [ -f $(srcdir)/ada/gnat_ug_unx.info ]; then \\\n \t  for f in $(srcdir)/ada/gnat_ug_*.info* \\\n \t\t$(srcdir)/ada/gnat_rm.info* \\\n@@ -468,6 +469,7 @@ ada.install-normal:\n # likewise for gnatf, gnatchop, and gnatlink, gnatkr, gnatmake, gnat,\n # gnatprep, gnatbl, gnatls, gnatxref, gnatfind\n ada.install-common:\n+\t$(MKDIR) $(DESTDIR)$(bindir)\n \t-if [ -f gnat1$(exeext) ] ; \\\n \t then \\\n \t  if [ -f gnatbind-cross$(exeext) ] ; \\\n@@ -477,7 +479,7 @@ ada.install-common:\n \t    if [ -d $(DESTDIR)$(tooldir)/bin/. ] ; then \\\n \t      rm -f $(DESTDIR)$(tooldir)/bin/gnatbind$(exeext); \\\n \t      $(INSTALL_PROGRAM) gnatbind-cross$(exeext) $(DESTDIR)$(tooldir)/bin/gnatbind$(exeext); \\\n-            fi; \\\n+\t    fi; \\\n \t  else \\\n \t    $(RM) $(DESTDIR)$(bindir)/gnatbind$(exeext); \\\n \t    $(INSTALL_PROGRAM) gnatbind$(exeext) $(DESTDIR)$(bindir)/gnatbind$(exeext); \\\n@@ -492,28 +494,13 @@ ada.install-common:\n \t    if [ -d $(DESTDIR)$(tooldir)/bin/. ] ; then \\\n \t       rm -f $(DESTDIR)$(tooldir)/bin/gnatbl$(exeext); \\\n \t       $(INSTALL_PROGRAM) gnatbl-cross$(exeext) $(DESTDIR)$(tooldir)/bin/gnatbl$(exeext); \\\n-            fi; \\\n+\t    fi; \\\n \t  else \\\n \t    $(RM) $(DESTDIR)$(bindir)/gnatbl$(exeext); \\\n \t    $(INSTALL_PROGRAM) gnatbl$(exeext) $(DESTDIR)$(bindir)/gnatbl$(exeext); \\\n \t  fi ; \\\n \tfi\n \t-if [ -f gnat1$(exeext) ] ; \\\n-\tthen \\\n-\t  if [ -f gnatchop-cross$(shext) ] ; \\\n-\t  then \\\n-\t    $(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatchop$(shext); \\\n-\t    $(INSTALL_PROGRAM) $(srcdir)/ada/gnatchop$(shext) $(DESTDIR)$(bindir)/$(target_alias)-gnatchop$(shext); \\\n-\t    if [ -d $(DESTDIR)$(tooldir)/bin/. ] ; then \\\n-\t       rm -f $(DESTDIR)$(tooldir)/bin/gnatchop$(shext); \\\n-\t       $(INSTALL_PROGRAM) gnatchop$(shext) $(DESTDIR)$(tooldir)/bin/gnatchop$(exeext); \\\n-            fi; \\\n-\t  else \\\n-\t    $(RM) $(DESTDIR)$(bindir)/gnatchop$(shext); \\\n-\t    $(INSTALL_PROGRAM) $(srcdir)/ada/gnatchop$(shext) $(DESTDIR)$(bindir)/gnatchop$(shext); \\\n-\t  fi ; \\\n-\tfi\n-\t-if [ -f gnat1$(exeext) ] ; \\\n \tthen \\\n \t  if [ -f gnatchop-cross$(exeext) ] ; \\\n \t  then \\\n@@ -522,7 +509,7 @@ ada.install-common:\n \t    if [ -d $(DESTDIR)$(tooldir)/bin/. ] ; then \\\n \t       rm -f $(DESTDIR)$(tooldir)/bin/gnatchop$(exeext); \\\n \t       $(INSTALL_PROGRAM) gnatchop-cross$(exeext) $(DESTDIR)$(tooldir)/bin/gnatchop$(exeext); \\\n-            fi; \\\n+\t    fi; \\\n \t  else \\\n \t    $(RM) $(DESTDIR)$(bindir)/gnatchop$(exeext); \\\n \t    $(INSTALL_PROGRAM) gnatchop$(exeext) $(DESTDIR)$(bindir)/gnatchop$(exeext); \\\n@@ -537,7 +524,7 @@ ada.install-common:\n \t    if [ -d $(DESTDIR)$(tooldir)/bin/. ] ; then \\\n \t       rm -f $(DESTDIR)$(tooldir)/bin/gnat$(exeext); \\\n \t       $(INSTALL_PROGRAM) gnat-cross$(exeext) $(DESTDIR)$(tooldir)/bin/gnat$(exeext); \\\n-            fi; \\\n+\t    fi; \\\n \t  else \\\n \t    $(RM) $(DESTDIR)$(bindir)/gnat$(exeext); \\\n \t    $(INSTALL_PROGRAM) gnat$(exeext) $(DESTDIR)$(bindir)/gnat$(exeext); \\\n@@ -552,7 +539,7 @@ ada.install-common:\n \t    if [ -d $(DESTDIR)$(tooldir)/bin/. ] ; then \\\n \t       rm -f $(DESTDIR)$(tooldir)/bin/gnatkr$(exeext); \\\n \t       $(INSTALL_PROGRAM) gnatkr-cross$(exeext) $(DESTDIR)$(tooldir)/bin/gnatkr$(exeext); \\\n-            fi; \\\n+\t    fi; \\\n \t  else \\\n \t    $(RM) $(DESTDIR)$(bindir)/gnatkr$(exeext); \\\n \t    $(INSTALL_PROGRAM) gnatkr$(exeext) $(DESTDIR)$(bindir)/gnatkr$(exeext); \\\n@@ -567,7 +554,7 @@ ada.install-common:\n \t    if [ -d $(DESTDIR)$(tooldir)/bin/. ] ; then \\\n \t       rm -f $(DESTDIR)$(tooldir)/bin/gnatlink$(exeext); \\\n \t       $(INSTALL_PROGRAM) gnatlink-cross$(exeext) $(DESTDIR)$(tooldir)/bin/gnatlink$(exeext); \\\n-            fi; \\\n+\t    fi; \\\n \t  else \\\n \t    $(RM) $(DESTDIR)$(bindir)/gnatlink$(exeext); \\\n \t    $(INSTALL_PROGRAM) gnatlink$(exeext) $(DESTDIR)$(bindir)/gnatlink$(exeext); \\\n@@ -582,7 +569,7 @@ ada.install-common:\n \t    if [ -d $(DESTDIR)$(tooldir)/bin/. ] ; then \\\n \t       rm -f $(DESTDIR)$(tooldir)/bin/gnatls$(exeext); \\\n \t       $(INSTALL_PROGRAM) gnatls-cross$(exeext) $(DESTDIR)$(tooldir)/bin/gnatls$(exeext); \\\n-            fi; \\\n+\t    fi; \\\n \t  else \\\n \t    $(RM) $(DESTDIR)$(bindir)/gnatls$(exeext); \\\n \t    $(INSTALL_PROGRAM) gnatls$(exeext) $(DESTDIR)$(bindir)/gnatls$(exeext); \\\n@@ -597,7 +584,7 @@ ada.install-common:\n \t    if [ -d $(DESTDIR)$(tooldir)/bin/. ] ; then \\\n \t       rm -f $(DESTDIR)$(tooldir)/bin/gnatmake$(exeext); \\\n \t       $(INSTALL_PROGRAM) gnatmake-cross$(exeext) $(DESTDIR)$(tooldir)/bin/gnatmake$(exeext); \\\n-            fi; \\\n+\t    fi; \\\n \t  else \\\n \t    $(RM) $(DESTDIR)$(bindir)/gnatmake$(exeext); \\\n \t    $(INSTALL_PROGRAM) gnatmake$(exeext) $(DESTDIR)$(bindir)/gnatmake$(exeext); \\\n@@ -634,7 +621,7 @@ ada.install-common:\n \t    if [ -d $(DESTDIR)$(tooldir)/bin/. ] ; then \\\n \t       rm -f $(DESTDIR)$(tooldir)/bin/gnatprep$(exeext); \\\n \t       $(INSTALL_PROGRAM) gnatprep-cross$(exeext) $(DESTDIR)$(tooldir)/bin/gnatprep$(exeext); \\\n-            fi; \\\n+\t    fi; \\\n \t  else \\\n \t    $(RM) $(DESTDIR)$(bindir)/gnatprep$(exeext); \\\n \t    $(INSTALL_PROGRAM) gnatprep$(exeext) $(DESTDIR)$(bindir)/gnatprep$(exeext); \\\n@@ -649,7 +636,7 @@ ada.install-common:\n \t    if [ -d $(DESTDIR)$(tooldir)/bin/. ] ; then \\\n \t       rm -f $(DESTDIR)$(tooldir)/bin/gnatpsta$(exeext); \\\n \t       $(INSTALL_PROGRAM) gnatpsta-cross$(exeext) $(DESTDIR)$(tooldir)/bin/gnatpsta$(exeext); \\\n-            fi; \\\n+\t    fi; \\\n \t  else \\\n \t    $(RM) $(DESTDIR)$(bindir)/gnatpsta$(exeext); \\\n \t    $(INSTALL_PROGRAM) gnatpsta$(exeext) $(DESTDIR)$(bindir)/gnatpsta$(exeext); \\\n@@ -665,7 +652,7 @@ ada.install-common:\n \t    $(RM) $(DESTDIR)$(bindir)/gnatxref$(exeext); \\\n \t    $(INSTALL_PROGRAM) gnatxref$(exeext) $(DESTDIR)$(bindir)/gnatxref$(exeext); \\\n \t  fi ; \\\n-    fi\n+\tfi\n \t-if [ -f gnat1$(exeext) ] ; \\\n \tthen \\\n \t  if [ -f gnatfind-cross$(exeext) ] ; \\\n@@ -677,13 +664,6 @@ ada.install-common:\n \t    $(INSTALL_PROGRAM) gnatfind$(exeext) $(DESTDIR)$(bindir)/gnatfind$(exeext); \\\n \t  fi ; \\\n \tfi\n-\t-if [ -f gnat1$(exeext) ] ; \\\n-\tthen \\\n-\t  if [ -f gnatchop$(exeext) ] ; \\\n-\t  then \\\n-\t    $(RM) $(DESTDIR)$(bindir)/gnatchop$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatchop$(exeext) $(DESTDIR)$(bindir)/gnatchop$(exeext); \\\n-\t  fi ; \\\n #\n # Gnatlbr is only used on VMS.\n #\n@@ -700,8 +680,11 @@ ada.install-common:\n #\n \t-if [ -f gnat1$(exeext) ] ; \\\n \tthen \\\n+\t  if [ -f gnatdll$(exeext) ] ; \\\n+\t  then \\\n \t    $(RM) $(DESTDIR)$(bindir)/gnatdll$(exeext); \\\n \t    $(INSTALL_PROGRAM) gnatdll$(exeext) $(DESTDIR)$(bindir)/gnatdll$(exeext); \\\n+\t  fi ; \\\n \tfi\n #\n # Finally, install the library\n@@ -722,42 +705,50 @@ ada.uninstall:\n \t-$(RM) $(DESTDIR)$(bindir)/gnatbl$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/gnatchop$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/gnat$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/gnatfind$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/gnatdll$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/gnatkr$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/gnatlbr$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/gnatlink$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/gnatls$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/gnatmake$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/gnatmem$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/gnatname$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/gnatprep$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/gnatpsta$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/gnatxref$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatbind$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatbl$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatchop$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnat$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatfind$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatdll$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatkr(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatlbr$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatlink$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatls$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatmake$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatmem$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatname$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatprep$(exeext)\n \t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatpsta$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatxref$(exeext)\n \t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatbind$(exeext)\n \t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatbl$(exeext)\n \t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatchop$(exeext)\n \t-$(RM) $(DESTDIR)$(tooldir)/bin/gnat$(exeext)\n+\t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatfind$(exeext)\n \t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatdll$(exeext)\n \t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatkr$(exeext)\n+\t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatlbr$(exeext)\n \t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatlink$(exeext)\n \t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatls$(exeext)\n \t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatmake$(exeext)\n \t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatmem$(exeext)\n \t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatname$(exeext)\n \t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatprep$(exeext)\n \t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatpsta$(exeext)\n-# Gnatlbr and Gnatchop are only used on VMS\n-\t-$(RM) $(DESTDIR)$(bindir)/gnatlbr$(exeext) $(DESTDIR)$(bindir)/gnatchop$(exeext)\n+\t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatxref$(exeext)\n \n # Clean hooks:\n # A lot of the ancillary files are deleted by the main makefile."}]}