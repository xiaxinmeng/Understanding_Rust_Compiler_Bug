{"sha": "cc33944a7a4ad12e11ce9e278f028be948189575", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2MzMzk0NGE3YTRhZDEyZTExY2U5ZTI3OGYwMjhiZTk0ODE4OTU3NQ==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "1999-03-24T22:48:37Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-03-24T22:48:37Z"}, "message": "fold-const.c (make_range): If orig_type is unset, set it as soon as we know the type.\n\n        * fold-const.c (make_range): If orig_type is unset, set it as soon\n        as we know the type.  Remove now unnecessary set of orig_type for\n        conversions.\n\nCo-Authored-By: Jeffrey A Law <law@cygnus.com>\n\nFrom-SVN: r25959", "tree": {"sha": "66590433696f241a41a1a8d234c661101ea3f66b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/66590433696f241a41a1a8d234c661101ea3f66b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cc33944a7a4ad12e11ce9e278f028be948189575", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc33944a7a4ad12e11ce9e278f028be948189575", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cc33944a7a4ad12e11ce9e278f028be948189575", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc33944a7a4ad12e11ce9e278f028be948189575/comments", "author": null, "committer": null, "parents": [{"sha": "79d868e8879f926db2cdbd314e39d85bd2b5f844", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79d868e8879f926db2cdbd314e39d85bd2b5f844", "html_url": "https://github.com/Rust-GCC/gccrs/commit/79d868e8879f926db2cdbd314e39d85bd2b5f844"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "36dee71a4da1bc31c12e9953022c7822482e355b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc33944a7a4ad12e11ce9e278f028be948189575/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc33944a7a4ad12e11ce9e278f028be948189575/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cc33944a7a4ad12e11ce9e278f028be948189575", "patch": "@@ -1,3 +1,10 @@\n+Tue Mar 23 15:45:25 1999  Richard Earnshaw (rearnsha@arm.com)\n+\t\t\t  Jeff Law <law@cygnus.com>\n+\n+\t* fold-const.c (make_range): If orig_type is unset, set it as soon\n+\tas we know the type.  Remove now unnecessary set of orig_type for\n+\tconversions.\n+\n Wed Mar 24 23:27:25 1999  Mark Elbrecht  <snowball3@usa.net.\n \n \t* i386/djgpp.h: Fix typo."}, {"sha": "1e7bd195ab492fe6a149dd3606e5d843921da5bd", "filename": "gcc/fold-const.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc33944a7a4ad12e11ce9e278f028be948189575/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc33944a7a4ad12e11ce9e278f028be948189575/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=cc33944a7a4ad12e11ce9e278f028be948189575", "patch": "@@ -3140,6 +3140,11 @@ make_range (exp, pin_p, plow, phigh)\n \t    arg1 = TREE_OPERAND (exp, 1);\n \t}\n \n+      /* Set ORIG_TYPE as soon as TYPE is non-null so that we do not\n+\t lose a cast by accident.  */\n+      if (type != NULL_TREE && orig_type == NULL_TREE)\n+\torig_type = type;\n+\n       switch (code)\n \t{\n \tcase TRUTH_NOT_EXPR:\n@@ -3258,8 +3263,6 @@ make_range (exp, pin_p, plow, phigh)\n \t  continue;\n \n \tcase NOP_EXPR:  case NON_LVALUE_EXPR:  case CONVERT_EXPR:\n-\t  if (orig_type == NULL_TREE)\n-\t    orig_type = type;\n \t  if (TYPE_PRECISION (type) > TYPE_PRECISION (orig_type))\n \t    break;\n "}]}