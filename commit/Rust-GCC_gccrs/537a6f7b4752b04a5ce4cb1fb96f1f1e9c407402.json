{"sha": "537a6f7b4752b04a5ce4cb1fb96f1f1e9c407402", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTM3YTZmN2I0NzUyYjA0YTVjZTRjYjFmYjk2ZjFmMWU5YzQwNzQwMg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-08-09T20:51:16Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-08-09T20:51:16Z"}, "message": "net: give C.getaddrinfo a hint that we only want SOCK_STREAM answers\n\nThis should be more efficient everywhere, and appears to be\nrequired on Solaris.\n\nCopied from master repository.\n\nFrom-SVN: r201637", "tree": {"sha": "64e1feace617cc6d508232460f43670bb612c5e2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/64e1feace617cc6d508232460f43670bb612c5e2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/537a6f7b4752b04a5ce4cb1fb96f1f1e9c407402", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/537a6f7b4752b04a5ce4cb1fb96f1f1e9c407402", "html_url": "https://github.com/Rust-GCC/gccrs/commit/537a6f7b4752b04a5ce4cb1fb96f1f1e9c407402", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/537a6f7b4752b04a5ce4cb1fb96f1f1e9c407402/comments", "author": null, "committer": null, "parents": [{"sha": "cc277e8fd925746e6113a533cec3fbac51c6963a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc277e8fd925746e6113a533cec3fbac51c6963a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cc277e8fd925746e6113a533cec3fbac51c6963a"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "ce54d827c8ef9337edf7eff2d51180816c060cd5", "filename": "libgo/go/net/cgo_unix.go", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/537a6f7b4752b04a5ce4cb1fb96f1f1e9c407402/libgo%2Fgo%2Fnet%2Fcgo_unix.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/537a6f7b4752b04a5ce4cb1fb96f1f1e9c407402/libgo%2Fgo%2Fnet%2Fcgo_unix.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fnet%2Fcgo_unix.go?ref=537a6f7b4752b04a5ce4cb1fb96f1f1e9c407402", "patch": "@@ -103,6 +103,7 @@ func cgoLookupIPCNAME(name string) (addrs []IP, cname string, err error, complet\n \tvar hints syscall.Addrinfo\n \n \thints.Ai_flags = int32(cgoAddrInfoFlags())\n+\thints.Ai_socktype = syscall.SOCK_STREAM\n \n \th := syscall.StringBytePtr(name)\n \tsyscall.Entersyscall()\n@@ -130,7 +131,7 @@ func cgoLookupIPCNAME(name string) (addrs []IP, cname string, err error, complet\n \t\t}\n \t}\n \tfor r := res; r != nil; r = r.Ai_next {\n-\t\t// Everything comes back twice, once for UDP and once for TCP.\n+\t\t// We only asked for SOCK_STREAM, but check anyhow.\n \t\tif r.Ai_socktype != syscall.SOCK_STREAM {\n \t\t\tcontinue\n \t\t}"}]}