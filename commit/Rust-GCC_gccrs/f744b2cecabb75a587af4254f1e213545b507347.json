{"sha": "f744b2cecabb75a587af4254f1e213545b507347", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Zjc0NGIyY2VjYWJiNzVhNTg3YWY0MjU0ZjFlMjEzNTQ1YjUwNzM0Nw==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-01-05T02:11:29Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-01-05T02:11:29Z"}, "message": "(making dirs and links): If we already made subdirs for a dir foo and foo turns out to be a symlink outside /usr/include...\n\n(making dirs and links): If we already made subdirs\nfor a dir foo and foo turns out to be a symlink outside /usr/include,\nafter we have made a dir for it in ./root/, make similar subdirs there.\n\nFrom-SVN: r3091", "tree": {"sha": "67de4f51759b6ae250ca18f47645fe497f5ee639", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/67de4f51759b6ae250ca18f47645fe497f5ee639"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f744b2cecabb75a587af4254f1e213545b507347", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f744b2cecabb75a587af4254f1e213545b507347", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f744b2cecabb75a587af4254f1e213545b507347", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f744b2cecabb75a587af4254f1e213545b507347/comments", "author": null, "committer": null, "parents": [{"sha": "d144d602d768c2e9462b9b23a155119b4702c156", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d144d602d768c2e9462b9b23a155119b4702c156", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d144d602d768c2e9462b9b23a155119b4702c156"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "ec8c4ca71bb12f297c73ad156f3f1974592bdee4", "filename": "gcc/fixincludes", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f744b2cecabb75a587af4254f1e213545b507347/gcc%2Ffixincludes", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f744b2cecabb75a587af4254f1e213545b507347/gcc%2Ffixincludes", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixincludes?ref=f744b2cecabb75a587af4254f1e213545b507347", "patch": "@@ -165,6 +165,23 @@ if $LINKS; then\n \t      dirname=`echo $dirname | sed -e 's|[^/]*/||'`\n \t    done\n \t  fi\n+\t  # Duplicate directory structure created in ${LIB}/$file in new\n+\t  # root area.\n+\t  for file2 in $files; do\n+\t    case $file2 in\n+\t      $file/.*)\n+\t\t;;\n+\t      *)\n+\t\tdupdir=${LIB}/root$x/`echo $file2 | sed -n \"s|^${file}/||p\"`\n+\t\techo \"Duplicating ${file}'s ${dupdir}\"\n+\t\tif [ -d ${dupdir} ]\n+\t\tthen true\n+\t\telse\n+\t\t  mkdir ${dupdir}\n+\t\tfi\n+\t\t;;\n+\t    esac\n+          done\n \t  rm -fr ${LIB}/$file > /dev/null 2>&1\n \t  ln -s ${LIB}/root$x ${LIB}/$file > /dev/null 2>&1\n \t  treetops=\"$treetops $x ${LIB}/root$x\""}]}