{"sha": "47768df837de3d5d8e87ea4add0ef859b7b5f8f9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDc3NjhkZjgzN2RlM2Q1ZDhlODdlYTRhZGQwZWY4NTliN2I1ZjhmOQ==", "commit": {"author": {"name": "Marek Polacek", "email": "polacek@redhat.com", "date": "2016-05-17T20:00:41Z"}, "committer": {"name": "Marek Polacek", "email": "mpolacek@gcc.gnu.org", "date": "2016-05-17T20:00:41Z"}, "message": "re PR ipa/71146 (error: __builtin_unreachable or __builtin_trap call with arguments)\n\n\tPR ipa/71146\n\t* tree-inline.c (expand_call_inline): Call\n\tmaybe_remove_unused_call_args.\n\n\t* g++.dg/ipa/pr71146.C: New test.\n\nFrom-SVN: r236343", "tree": {"sha": "f48f41715a53f061b6c1e0b2a6fbfac40a0e26b5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f48f41715a53f061b6c1e0b2a6fbfac40a0e26b5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/47768df837de3d5d8e87ea4add0ef859b7b5f8f9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47768df837de3d5d8e87ea4add0ef859b7b5f8f9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47768df837de3d5d8e87ea4add0ef859b7b5f8f9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47768df837de3d5d8e87ea4add0ef859b7b5f8f9/comments", "author": {"login": "mpolacek", "id": 10496300, "node_id": "MDQ6VXNlcjEwNDk2MzAw", "avatar_url": "https://avatars.githubusercontent.com/u/10496300?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpolacek", "html_url": "https://github.com/mpolacek", "followers_url": "https://api.github.com/users/mpolacek/followers", "following_url": "https://api.github.com/users/mpolacek/following{/other_user}", "gists_url": "https://api.github.com/users/mpolacek/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpolacek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpolacek/subscriptions", "organizations_url": "https://api.github.com/users/mpolacek/orgs", "repos_url": "https://api.github.com/users/mpolacek/repos", "events_url": "https://api.github.com/users/mpolacek/events{/privacy}", "received_events_url": "https://api.github.com/users/mpolacek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6b5423a512421989934071586c9ddb6ee42ac417", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b5423a512421989934071586c9ddb6ee42ac417", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b5423a512421989934071586c9ddb6ee42ac417"}], "stats": {"total": 41, "additions": 41, "deletions": 0}, "files": [{"sha": "76c40aef677d589634f284c1c470a9f6d92599c9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47768df837de3d5d8e87ea4add0ef859b7b5f8f9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47768df837de3d5d8e87ea4add0ef859b7b5f8f9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=47768df837de3d5d8e87ea4add0ef859b7b5f8f9", "patch": "@@ -1,3 +1,9 @@\n+2016-05-17  Marek Polacek  <polacek@redhat.com>\n+\n+\tPR ipa/71146\n+\t* tree-inline.c (expand_call_inline): Call\n+\tmaybe_remove_unused_call_args.\n+\n 2016-05-17  Jim Wilson  <jim.wilson@linaro.org>\n \n \t* doc/cpp.texi (__GNUC__): Major version changes are no longer rare."}, {"sha": "3b4d72c0da8a605f5f80a0faf83658ec1527153b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47768df837de3d5d8e87ea4add0ef859b7b5f8f9/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47768df837de3d5d8e87ea4add0ef859b7b5f8f9/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=47768df837de3d5d8e87ea4add0ef859b7b5f8f9", "patch": "@@ -1,3 +1,8 @@\n+2016-05-17  Marek Polacek  <polacek@redhat.com>\n+\n+\tPR ipa/71146\n+\t* g++.dg/ipa/pr71146.C: New test.\n+\n 2016-05-17  David Malcolm  <dmalcolm@redhat.com>\n \n \t* jit.dg/test-error-array-bounds.c: New test case."}, {"sha": "b6bd64f4e8cc244cc36c36d30032d039570d5a84", "filename": "gcc/testsuite/g++.dg/ipa/pr71146.C", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47768df837de3d5d8e87ea4add0ef859b7b5f8f9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fpr71146.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47768df837de3d5d8e87ea4add0ef859b7b5f8f9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fpr71146.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fpr71146.C?ref=47768df837de3d5d8e87ea4add0ef859b7b5f8f9", "patch": "@@ -0,0 +1,29 @@\n+// PR ipa/71146\n+// { dg-do compile }\n+// { dg-options \"-O3\" }\n+\n+typedef enum { X } E;\n+struct A {\n+  virtual void bar ();\n+};\n+struct B {\n+  virtual E fn (const char *, int, int *) = 0;\n+};\n+struct C : A, B {\n+  E fn (const char *, int, int *);\n+  void fn2 ();\n+  B *foo;\n+};\n+void C::fn2 () {\n+  if (!foo)\n+    return;\n+  foo->fn (0, 0, 0);\n+}\n+E\n+C::fn (const char *, int, int *)\n+{\n+  fn2 ();\n+  foo = 0;\n+  fn (0, 0, 0);\n+  return X;\n+}"}, {"sha": "954dac3048705056d0a230bfabf24d7679a9ce1c", "filename": "gcc/tree-inline.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47768df837de3d5d8e87ea4add0ef859b7b5f8f9/gcc%2Ftree-inline.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47768df837de3d5d8e87ea4add0ef859b7b5f8f9/gcc%2Ftree-inline.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-inline.c?ref=47768df837de3d5d8e87ea4add0ef859b7b5f8f9", "patch": "@@ -4486,6 +4486,7 @@ expand_call_inline (basic_block bb, gimple *stmt, copy_body_data *id)\n       update_stmt (stmt);\n       id->src_node->remove ();\n       expand_call_inline (bb, stmt, id);\n+      maybe_remove_unused_call_args (cfun, stmt);\n       return true;\n     }\n   fn = cg_edge->callee->decl;"}]}