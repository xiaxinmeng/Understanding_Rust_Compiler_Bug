{"sha": "273ccb6d858543fec05d2fc9c0bf5de92a6c6fd1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjczY2NiNmQ4NTg1NDNmZWMwNWQyZmM5YzBiZjVkZTkyYTZjNmZkMQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2012-05-03T10:18:34Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2012-05-03T10:18:34Z"}, "message": "re PR debug/53174 (ICE in expand_debug_expr, verify_ssa failed)\n\n\tPR debug/53174\n\t* tree-predcom.c (remove_stmt): Call reset_debug_uses on stmts being\n\tremoved.\n\n\t* gcc.dg/pr53174.c: New test.\n\nFrom-SVN: r187087", "tree": {"sha": "b4c8e8339f339b9a1f522518b5a467e2b6031771", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b4c8e8339f339b9a1f522518b5a467e2b6031771"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/273ccb6d858543fec05d2fc9c0bf5de92a6c6fd1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/273ccb6d858543fec05d2fc9c0bf5de92a6c6fd1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/273ccb6d858543fec05d2fc9c0bf5de92a6c6fd1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/273ccb6d858543fec05d2fc9c0bf5de92a6c6fd1/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d40a89e7776b2bdfb912f25dfa1cf93df23aa284", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d40a89e7776b2bdfb912f25dfa1cf93df23aa284", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d40a89e7776b2bdfb912f25dfa1cf93df23aa284"}], "stats": {"total": 76, "additions": 76, "deletions": 0}, "files": [{"sha": "75df2531e0276086e83706203846ff44fa023731", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/273ccb6d858543fec05d2fc9c0bf5de92a6c6fd1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/273ccb6d858543fec05d2fc9c0bf5de92a6c6fd1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=273ccb6d858543fec05d2fc9c0bf5de92a6c6fd1", "patch": "@@ -1,5 +1,9 @@\n 2012-05-03  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR debug/53174\n+\t* tree-predcom.c (remove_stmt): Call reset_debug_uses on stmts being\n+\tremoved.\n+\n \tPR target/53187\n \t* config/arm/arm.c (arm_select_cc_mode): If x has MODE_CC class\n \tmode, return that mode."}, {"sha": "776e98841196d572cf7198c29d9932c62a3dd63b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/273ccb6d858543fec05d2fc9c0bf5de92a6c6fd1/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/273ccb6d858543fec05d2fc9c0bf5de92a6c6fd1/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=273ccb6d858543fec05d2fc9c0bf5de92a6c6fd1", "patch": "@@ -1,5 +1,8 @@\n 2012-05-03  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR debug/53174\n+\t* gcc.dg/pr53174.c: New test.\n+\n \tPR target/53187\n \t* gcc.target/arm/pr53187.c: New test.\n \t* gcc.c-torture/compile/pr53187.c: New test."}, {"sha": "37c9390e5f7775a06639e3e063f911ba25e78f54", "filename": "gcc/testsuite/gcc.dg/pr53174.c", "status": "added", "additions": 67, "deletions": 0, "changes": 67, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/273ccb6d858543fec05d2fc9c0bf5de92a6c6fd1/gcc%2Ftestsuite%2Fgcc.dg%2Fpr53174.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/273ccb6d858543fec05d2fc9c0bf5de92a6c6fd1/gcc%2Ftestsuite%2Fgcc.dg%2Fpr53174.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr53174.c?ref=273ccb6d858543fec05d2fc9c0bf5de92a6c6fd1", "patch": "@@ -0,0 +1,67 @@\n+/* PR debug/53174 */\n+/* { dg-do compile } */\n+/* { dg-options \"-Ofast -g\" } */\n+\n+int w, h;\n+\n+void\n+bar (float (*x)[4], int y, int z)\n+{\n+  int a, b, c, d, e, f, g;\n+\n+  a = 2;\n+  b = 2;\n+  c = 274;\n+  d = 274;\n+  if (!z)\n+    a = 12;\n+  if (!y)\n+    b = 12;\n+  if (z + 266 >= h - 2)\n+    c = 8 + h - z;\n+  if (y + 266 >= w - 2)\n+    d = 8 + w - y;\n+  for (e = a; e < c; e++)\n+    for (f = b, g = e * 276 + f; f < d; f++, g++)\n+      {\n+\tfloat (*h)[4] = x + (g - 277);\n+\tfloat k = (*h)[0];\n+\tfloat l = (*h)[1];\n+\tfloat m = (*h)[2];\n+\th++;\n+\tk += (*h)[0];\n+\tl += (*h)[1];\n+\tm += (*h)[2];\n+\th++;\n+\tk += (*h)[0];\n+\tl += (*h)[1];\n+\tm += (*h)[2];\n+\th += 274;\n+\tk += (*h)[0];\n+\tl += (*h)[1];\n+\tm += (*h)[2];\n+\th += 2;\n+\tk += (*h)[0];\n+\tl += (*h)[1];\n+\tm += (*h)[2];\n+\th += 274;\n+\tk += (*h)[0];\n+\tl += (*h)[1];\n+\tm += (*h)[2];\n+\th++;\n+\tk += (*h)[0];\n+\tl += (*h)[1];\n+\tm += (*h)[2];\n+\th++;\n+\tk += (*h)[0];\n+\tl += (*h)[1];\n+\tm += (*h)[2];\n+\tk *= 0.125f;\n+\tl *= 0.125f;\n+\tm *= 0.125f;\n+\tk = k + (x[g][1] - l);\n+\tm = m + (x[g][1] - l);\n+\tx[g][0] = k;\n+\tx[g][2] = m;\n+      }\n+}"}, {"sha": "1566902e3d7f6aef66a74fa4bc39a2b1ef1a4c19", "filename": "gcc/tree-predcom.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/273ccb6d858543fec05d2fc9c0bf5de92a6c6fd1/gcc%2Ftree-predcom.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/273ccb6d858543fec05d2fc9c0bf5de92a6c6fd1/gcc%2Ftree-predcom.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-predcom.c?ref=273ccb6d858543fec05d2fc9c0bf5de92a6c6fd1", "patch": "@@ -1707,6 +1707,7 @@ remove_stmt (gimple stmt)\n     {\n       name = PHI_RESULT (stmt);\n       next = single_nonlooparound_use (name);\n+      reset_debug_uses (stmt);\n       psi = gsi_for_stmt (stmt);\n       remove_phi_node (&psi, true);\n \n@@ -1728,6 +1729,7 @@ remove_stmt (gimple stmt)\n       gcc_assert (TREE_CODE (name) == SSA_NAME);\n \n       next = single_nonlooparound_use (name);\n+      reset_debug_uses (stmt);\n \n       mark_virtual_ops_for_renaming (stmt);\n       gsi_remove (&bsi, true);"}]}