{"sha": "72727cba1319af1c4c7eebf4b80f730d762a4698", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzI3MjdjYmExMzE5YWYxYzRjN2VlYmY0YjgwZjczMGQ3NjJhNDY5OA==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2012-10-11T23:37:48Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2012-10-11T23:37:48Z"}, "message": "re PR c++/51878 (ICE or OOM with decltype + variadic templates + \"indirect\" function call)\n\n2012-10-11  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/51878\n\t* g++.dg/cpp0x/decltype45.C: New.\n\nFrom-SVN: r192381", "tree": {"sha": "22b0279c40b5d8791060d5a2d430c1f5a7bb5be4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/22b0279c40b5d8791060d5a2d430c1f5a7bb5be4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/72727cba1319af1c4c7eebf4b80f730d762a4698", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72727cba1319af1c4c7eebf4b80f730d762a4698", "html_url": "https://github.com/Rust-GCC/gccrs/commit/72727cba1319af1c4c7eebf4b80f730d762a4698", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72727cba1319af1c4c7eebf4b80f730d762a4698/comments", "author": null, "committer": null, "parents": [{"sha": "a13ab2bcf79b87e83bbc44e8c766b1120b875e3c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a13ab2bcf79b87e83bbc44e8c766b1120b875e3c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a13ab2bcf79b87e83bbc44e8c766b1120b875e3c"}], "stats": {"total": 45, "additions": 45, "deletions": 0}, "files": [{"sha": "6923335fad2539f8be222b5c21ea118eb7b551e6", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72727cba1319af1c4c7eebf4b80f730d762a4698/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72727cba1319af1c4c7eebf4b80f730d762a4698/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=72727cba1319af1c4c7eebf4b80f730d762a4698", "patch": "@@ -1,3 +1,8 @@\n+2012-10-11  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/51878\n+\t* g++.dg/cpp0x/decltype45.C: New.\n+\n 2012-10-11  Janus Weil  <janus@gcc.gnu.org>\n \n \tPR fortran/54784"}, {"sha": "f768d8554e1f16263f96b1703c6d42f14cdc758a", "filename": "gcc/testsuite/g++.dg/cpp0x/decltype45.C", "status": "added", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72727cba1319af1c4c7eebf4b80f730d762a4698/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdecltype45.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72727cba1319af1c4c7eebf4b80f730d762a4698/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdecltype45.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdecltype45.C?ref=72727cba1319af1c4c7eebf4b80f730d762a4698", "patch": "@@ -0,0 +1,40 @@\n+// PR c++/51878\n+// { dg-do compile { target c++11 } }\n+\n+template<class F, class... T>\n+auto indirect_call(F f, T... t) -> decltype(f(t...))\n+{\n+  return f(t...);\n+}\n+\n+template<class F, class T>\n+struct VariadicBind\n+{\n+  F f;\n+  T t;\n+\n+  template<class... A>\n+  auto operator()(A... a) -> decltype(indirect_call(f, t, a...))\n+  {\n+    return indirect_call(f, t, a...);\n+  }\n+};\n+\n+template<class F>\n+void apply(F f)\n+{\n+  f();\n+}\n+\n+template<class F, class V1, class... V>\n+void apply(F f, V1 v1, V... v)\n+{\n+  apply(VariadicBind<F, int>{f, v1}, v...);\n+}\n+\n+void func(int, int) { }\n+\n+int main()\n+{\n+  apply(func, 0, 0);\n+}"}]}