{"sha": "3e2fdd240f8000068f78fd76898f4700ed2926ca", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2UyZmRkMjQwZjgwMDAwNjhmNzhmZDc2ODk4ZjQ3MDBlZDI5MjZjYQ==", "commit": {"author": {"name": "Revital Eres", "email": "revital.eres@linaro.org", "date": "2011-04-17T14:32:24Z"}, "committer": {"name": "Revital Eres", "email": "revitale@gcc.gnu.org", "date": "2011-04-17T14:32:24Z"}, "message": "New flag to apply SMS when SC equals 1\n\nFrom-SVN: r172610", "tree": {"sha": "178a2d3b3d6ca230bdeb547cccdce2742154fb11", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/178a2d3b3d6ca230bdeb547cccdce2742154fb11"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3e2fdd240f8000068f78fd76898f4700ed2926ca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e2fdd240f8000068f78fd76898f4700ed2926ca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3e2fdd240f8000068f78fd76898f4700ed2926ca", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e2fdd240f8000068f78fd76898f4700ed2926ca/comments", "author": null, "committer": null, "parents": [{"sha": "4c0f767939eb659b721f9222cf7bdacd0194310b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c0f767939eb659b721f9222cf7bdacd0194310b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c0f767939eb659b721f9222cf7bdacd0194310b"}], "stats": {"total": 22, "additions": 19, "deletions": 3}, "files": [{"sha": "73f304d07885854975519b6a026513181d392f94", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e2fdd240f8000068f78fd76898f4700ed2926ca/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e2fdd240f8000068f78fd76898f4700ed2926ca/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3e2fdd240f8000068f78fd76898f4700ed2926ca", "patch": "@@ -1,3 +1,9 @@\n+2011-04-17  Revital Eres  <revital.eres@linaro.org>\n+\n+\t* params.def (sms-min-sc): New param flag.\n+\t* modulo-sched.c (sms_schedule): Use it.\n+\t* doc/invoke.texi (sms-min-sc): Document it.\n+\n 2011-04-17  Jan Hubicka  <jh@suse.cz>\n \n \t* lto-symtab.c (lto_cgraph_replace_node): When call statement is"}, {"sha": "7ca4405a18f4432e73a58b2edad20f3af0b87b97", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e2fdd240f8000068f78fd76898f4700ed2926ca/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e2fdd240f8000068f78fd76898f4700ed2926ca/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=3e2fdd240f8000068f78fd76898f4700ed2926ca", "patch": "@@ -8700,6 +8700,10 @@ through which the instruction may be pipelined.  The default value is 2.\n The maximum number of best instructions in the ready list that are considered\n for renaming in the selective scheduler.  The default value is 2.\n \n+@item sms-min-sc\n+The minimum value of stage count that swing modulo scheduler will\n+generate.  The default value is 2.\n+\n @item max-last-value-rtl\n The maximum size measured as number of RTLs that can be recorded in an expression\n in combiner for a pseudo register as last known value of that register.  The default"}, {"sha": "f37d743e28792e875770bf771e528cb75691c375", "filename": "gcc/modulo-sched.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e2fdd240f8000068f78fd76898f4700ed2926ca/gcc%2Fmodulo-sched.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e2fdd240f8000068f78fd76898f4700ed2926ca/gcc%2Fmodulo-sched.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmodulo-sched.c?ref=3e2fdd240f8000068f78fd76898f4700ed2926ca", "patch": "@@ -1162,9 +1162,10 @@ sms_schedule (void)\n         gcc_assert(stage_count >= 1);\n       }\n \n-      /* Stage count of 1 means that there is no interleaving between\n-         iterations, let the scheduling passes do the job.  */\n-      if (stage_count <= 1\n+      /* The default value of PARAM_SMS_MIN_SC is 2 as stage count of\n+\t 1 means that there is no interleaving between iterations thus\n+\t we let the scheduling passes do the job in this case.  */\n+      if (stage_count < (unsigned) PARAM_VALUE (PARAM_SMS_MIN_SC)\n \t  || (count_init && (loop_count <= stage_count))\n \t  || (flag_branch_probabilities && (trip_count <= stage_count)))\n \t{"}, {"sha": "5e8be211394ac06831a8009d5ed2fd719b8b607e", "filename": "gcc/params.def", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e2fdd240f8000068f78fd76898f4700ed2926ca/gcc%2Fparams.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e2fdd240f8000068f78fd76898f4700ed2926ca/gcc%2Fparams.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fparams.def?ref=3e2fdd240f8000068f78fd76898f4700ed2926ca", "patch": "@@ -334,6 +334,11 @@ DEFPARAM(PARAM_SMS_MAX_II_FACTOR,\n \t \"sms-max-ii-factor\",\n \t \"A factor for tuning the upper bound that swing modulo scheduler uses for scheduling a loop\",\n \t 100, 0, 0)\n+/* The minimum value of stage count that swing modulo scheduler will generate.  */\n+DEFPARAM(PARAM_SMS_MIN_SC,\n+        \"sms-min-sc\",\n+        \"The minimum value of stage count that swing modulo scheduler will generate.\",\n+        2, 1, 1)\n DEFPARAM(PARAM_SMS_DFA_HISTORY,\n \t \"sms-dfa-history\",\n \t \"The number of cycles the swing modulo scheduler considers when checking conflicts using DFA\","}]}