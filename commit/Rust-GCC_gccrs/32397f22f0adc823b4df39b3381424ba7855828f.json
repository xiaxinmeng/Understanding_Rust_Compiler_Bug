{"sha": "32397f22f0adc823b4df39b3381424ba7855828f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzIzOTdmMjJmMGFkYzgyM2I0ZGYzOWIzMzgxNDI0YmE3ODU1ODI4Zg==", "commit": {"author": {"name": "Manuel L\u00f3pez-Ib\u00e1\u00f1ez", "email": "manu@gcc.gnu.org", "date": "2012-04-25T08:49:23Z"}, "committer": {"name": "Manuel L\u00f3pez-Ib\u00e1\u00f1ez", "email": "manu@gcc.gnu.org", "date": "2012-04-25T08:49:23Z"}, "message": "c-typeck.c (pop_init_level): Improve diagnostics.\n\n2012-04-25  Manuel L\u00f3pez-Ib\u00e1\u00f1ez  <manu@gcc.gnu.org>\n\n\t* c-typeck.c (pop_init_level): Improve diagnostics.\ntestsuite/\n\t* gcc.dg/m-un-2.c: Update.\n\t* gcc.dg/20011021-1.c: Update.\n\nFrom-SVN: r186807", "tree": {"sha": "674dbe8764a9c55be91cd5e7b89d06f328af74d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/674dbe8764a9c55be91cd5e7b89d06f328af74d0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/32397f22f0adc823b4df39b3381424ba7855828f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32397f22f0adc823b4df39b3381424ba7855828f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32397f22f0adc823b4df39b3381424ba7855828f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32397f22f0adc823b4df39b3381424ba7855828f/comments", "author": null, "committer": null, "parents": [{"sha": "f1fb11f1e8322a94b90ea8c1a1cbae79c5f1bab5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f1fb11f1e8322a94b90ea8c1a1cbae79c5f1bab5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f1fb11f1e8322a94b90ea8c1a1cbae79c5f1bab5"}], "stats": {"total": 23, "additions": 17, "deletions": 6}, "files": [{"sha": "a592863fd37e0ecac75034c583283024403ba276", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32397f22f0adc823b4df39b3381424ba7855828f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32397f22f0adc823b4df39b3381424ba7855828f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=32397f22f0adc823b4df39b3381424ba7855828f", "patch": "@@ -1,3 +1,7 @@\n+2012-04-25  Manuel L\u00f3pez-Ib\u00e1\u00f1ez  <manu@gcc.gnu.org>\n+\n+\t* c-typeck.c (pop_init_level): Improve diagnostics.\n+\n 2012-04-25  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* compare-elim.c (try_eliminate_compare): Also handle operands with"}, {"sha": "4e5ffbf19057f42a5d2fd480c3ad4882faf2d886", "filename": "gcc/c-typeck.c", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32397f22f0adc823b4df39b3381424ba7855828f/gcc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32397f22f0adc823b4df39b3381424ba7855828f/gcc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-typeck.c?ref=32397f22f0adc823b4df39b3381424ba7855828f", "patch": "@@ -7060,10 +7060,12 @@ pop_init_level (int implicit, struct obstack * braced_init_obstack)\n \t    /* Do not warn about initializing with ` = {0}'.  */\n \t    && !constructor_zeroinit)\n \t  {\n-\t    push_member_name (constructor_unfilled_fields);\n-\t    warning_init (OPT_Wmissing_field_initializers,\n-                          \"missing initializer\");\n-\t    RESTORE_SPELLING_DEPTH (constructor_depth);\n+\t    if (warning_at (input_location, OPT_Wmissing_field_initializers,\n+\t\t\t    \"missing initializer for field %qD of %qT\",\n+\t\t\t    constructor_unfilled_fields,\n+\t\t\t    constructor_type))\n+\t      inform (DECL_SOURCE_LOCATION (constructor_unfilled_fields),\n+\t\t      \"%qT declared here\", constructor_unfilled_fields);\n \t  }\n     }\n "}, {"sha": "cce98fa75f89a6ffc1fe97e9477e01965cb3c5a7", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32397f22f0adc823b4df39b3381424ba7855828f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32397f22f0adc823b4df39b3381424ba7855828f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=32397f22f0adc823b4df39b3381424ba7855828f", "patch": "@@ -1,3 +1,8 @@\n+2012-04-25  Manuel L\u00f3pez-Ib\u00e1\u00f1ez  <manu@gcc.gnu.org>\n+\n+\t* gcc.dg/m-un-2.c: Update.\n+\t* gcc.dg/20011021-1.c: Update.\n+\n 2012-04-25  Tobias Burnus  <burnus@net-b.de>\n \n \tPR fortran/52196"}, {"sha": "90165c0180c5339f1aaf7f282bc713c3f25beba5", "filename": "gcc/testsuite/gcc.dg/20011021-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32397f22f0adc823b4df39b3381424ba7855828f/gcc%2Ftestsuite%2Fgcc.dg%2F20011021-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32397f22f0adc823b4df39b3381424ba7855828f/gcc%2Ftestsuite%2Fgcc.dg%2F20011021-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2F20011021-1.c?ref=32397f22f0adc823b4df39b3381424ba7855828f", "patch": "@@ -42,4 +42,4 @@ struct multilevel M =\n   { .n = 9 },\t\t\t/* { dg-bogus \"initialization of union\" } */\n   /* \"string here\" */\n };\t\t\t\t/* { dg-warning \"missing init\" } */\n-/* { dg-warning \"near init\" \"near init\" { target *-*-* } 44 } */\n+/* { dg-message \"declared here\" \"near init\" { target *-*-* } 27 } */"}, {"sha": "0b96628355b165b885e06624e21297db1031e215", "filename": "gcc/testsuite/gcc.dg/m-un-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32397f22f0adc823b4df39b3381424ba7855828f/gcc%2Ftestsuite%2Fgcc.dg%2Fm-un-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32397f22f0adc823b4df39b3381424ba7855828f/gcc%2Ftestsuite%2Fgcc.dg%2Fm-un-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fm-un-2.c?ref=32397f22f0adc823b4df39b3381424ba7855828f", "patch": "@@ -16,7 +16,7 @@ struct vtable mtable = {\n   malloc,\n   free\n }; /* { dg-warning \"missing initializer\" \"warning regression\" { target *-*-* } {18} } */\n-   /* { dg-warning \"initialization for 'mtable._realloc'\" \"warning regression 2\" { target *-*-* } {18} } */\n+   /* { dg-message \"declared here\" \"warning regression 2\" { target *-*-* } {12} } */\n \n /* With designated initializers, we assume you meant to leave out the\n    initialization of any blank fields.  */"}]}