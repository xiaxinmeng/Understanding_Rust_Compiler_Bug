{"sha": "ab3b6795050315a7dbedca349f1185050fb73765", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWIzYjY3OTUwNTAzMTVhN2RiZWRjYTM0OWYxMTg1MDUwZmI3Mzc2NQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2004-09-14T20:09:47Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2004-09-14T20:09:47Z"}, "message": "* cfg.c (expunge_block): Revert previous change adding ggc_free call.\n\nFrom-SVN: r87506", "tree": {"sha": "6397ee052aebd577d0f3e62905e7359b951f1ba2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6397ee052aebd577d0f3e62905e7359b951f1ba2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ab3b6795050315a7dbedca349f1185050fb73765", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab3b6795050315a7dbedca349f1185050fb73765", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab3b6795050315a7dbedca349f1185050fb73765", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab3b6795050315a7dbedca349f1185050fb73765/comments", "author": null, "committer": null, "parents": [{"sha": "72826319ff3c180fd7c549a31b16167128c8945a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72826319ff3c180fd7c549a31b16167128c8945a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/72826319ff3c180fd7c549a31b16167128c8945a"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "0b65dda714416aae28c676344d98e3887b6fd2ba", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab3b6795050315a7dbedca349f1185050fb73765/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab3b6795050315a7dbedca349f1185050fb73765/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ab3b6795050315a7dbedca349f1185050fb73765", "patch": "@@ -1,3 +1,7 @@\n+2004-09-14  Jan Hubicka  <jh@suse.cz>\n+\n+\t* cfg.c (expunge_block): Revert previous change adding ggc_free call.\n+\n 2004-09-14  Mark Mitchell  <mark@codesourcery.com>\n \n \t* config.gcc: Do not build a shared libgcc for arm-none-eabi."}, {"sha": "3c2ef48d884ba2e5a0caf6ddfb67a5f263ef90ca", "filename": "gcc/cfg.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab3b6795050315a7dbedca349f1185050fb73765/gcc%2Fcfg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab3b6795050315a7dbedca349f1185050fb73765/gcc%2Fcfg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfg.c?ref=ab3b6795050315a7dbedca349f1185050fb73765", "patch": "@@ -266,7 +266,11 @@ expunge_block (basic_block b)\n   unlink_block (b);\n   BASIC_BLOCK (b->index) = NULL;\n   n_basic_blocks--;\n-  ggc_free (b);\n+  /* We should be able to ggc_free here, but we are not.\n+     The dead SSA_NAMES are left pointing to dead statements that are pointing\n+     to dead basic blocks making garbage collector to die.\n+     We should be able to release all dead SSA_NAMES and at the same time we should\n+     clear out BB pointer of dead statements consistently.  */\n }\n \f\n /* Create an edge connecting SRC and DEST with flags FLAGS.  Return newly"}]}