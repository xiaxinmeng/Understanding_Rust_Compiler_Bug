{"sha": "e4a9c55ade081438460f6b0db8afbaad34b05d35", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTRhOWM1NWFkZTA4MTQzODQ2MGY2YjBkYjhhZmJhYWQzNGIwNWQzNQ==", "commit": {"author": {"name": "Wilco Dijkstra", "email": "wdijkstr@arm.com", "date": "2014-09-12T09:46:25Z"}, "committer": {"name": "Jiong Wang", "email": "jiwang@gcc.gnu.org", "date": "2014-09-12T09:46:25Z"}, "message": "[AArch64] Add regmove_costs for Cortex-A57 and A53\n\n2014-09-12  Wilco Dijkstra  <wdijkstr@arm.com>\n\n  * gcc/config/aarch64/aarch64.c: (cortexa57_regmove_cost): New cost table for\n  A57.\n  (cortexa53_regmove_cost): New cost table for A53.  Increase GP2FP/FP2GP cost\n  to spilling from integer to FP registers.\n\nFrom-SVN: r215208", "tree": {"sha": "960db3b92fcf2f2580c754dcf7514432511585ad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/960db3b92fcf2f2580c754dcf7514432511585ad"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e4a9c55ade081438460f6b0db8afbaad34b05d35", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4a9c55ade081438460f6b0db8afbaad34b05d35", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e4a9c55ade081438460f6b0db8afbaad34b05d35", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4a9c55ade081438460f6b0db8afbaad34b05d35/comments", "author": null, "committer": null, "parents": [{"sha": "20b32e50e22de63de27708dfe50c5f51cb29eaac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20b32e50e22de63de27708dfe50c5f51cb29eaac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/20b32e50e22de63de27708dfe50c5f51cb29eaac"}], "stats": {"total": 31, "additions": 29, "deletions": 2}, "files": [{"sha": "af000040028f6845122fa0e0f815a6b3d22202ab", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e4a9c55ade081438460f6b0db8afbaad34b05d35/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e4a9c55ade081438460f6b0db8afbaad34b05d35/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e4a9c55ade081438460f6b0db8afbaad34b05d35", "patch": "@@ -1,3 +1,10 @@\n+2014-09-12  Wilco Dijkstra  <wilco.dijkstra@arm.com>\n+\n+\t* gcc/config/aarch64/aarch64.c (cortexa57_regmove_cost): New cost table\n+\tfor A57.\n+\t(cortexa53_regmove_cost): New cost table for A53.  Increase GP2FP/FP2GP\n+\tcost to spilling from integer to FP registers.\n+\n 2014-09-12  Wilco Dijkstra  <wilco.dijkstra@arm.com>\n \n \t* config/aarch64/aarch64.c (aarch64_register_move_cost): Fix Q register"}, {"sha": "15c7be697d35b5e03424911141667ecd2aeb9653", "filename": "gcc/config/aarch64/aarch64.c", "status": "modified", "additions": 22, "deletions": 2, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e4a9c55ade081438460f6b0db8afbaad34b05d35/gcc%2Fconfig%2Faarch64%2Faarch64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e4a9c55ade081438460f6b0db8afbaad34b05d35/gcc%2Fconfig%2Faarch64%2Faarch64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.c?ref=e4a9c55ade081438460f6b0db8afbaad34b05d35", "patch": "@@ -218,6 +218,26 @@ static const struct cpu_regmove_cost generic_regmove_cost =\n   NAMED_PARAM (FP2FP, 2)\n };\n \n+static const struct cpu_regmove_cost cortexa57_regmove_cost =\n+{\n+  NAMED_PARAM (GP2GP, 1),\n+  /* Avoid the use of slow int<->fp moves for spilling by setting\n+     their cost higher than memmov_cost.  */\n+  NAMED_PARAM (GP2FP, 5),\n+  NAMED_PARAM (FP2GP, 5),\n+  NAMED_PARAM (FP2FP, 2)\n+};\n+\n+static const struct cpu_regmove_cost cortexa53_regmove_cost =\n+{\n+  NAMED_PARAM (GP2GP, 1),\n+  /* Avoid the use of slow int<->fp moves for spilling by setting\n+     their cost higher than memmov_cost.  */\n+  NAMED_PARAM (GP2FP, 5),\n+  NAMED_PARAM (FP2GP, 5),\n+  NAMED_PARAM (FP2FP, 2)\n+};\n+\n /* Generic costs for vector insn classes.  */\n #if HAVE_DESIGNATED_INITIALIZERS && GCC_VERSION >= 2007\n __extension__\n@@ -275,7 +295,7 @@ static const struct tune_params cortexa53_tunings =\n {\n   &cortexa53_extra_costs,\n   &generic_addrcost_table,\n-  &generic_regmove_cost,\n+  &cortexa53_regmove_cost,\n   &generic_vector_cost,\n   NAMED_PARAM (memmov_cost, 4),\n   NAMED_PARAM (issue_rate, 2)\n@@ -285,7 +305,7 @@ static const struct tune_params cortexa57_tunings =\n {\n   &cortexa57_extra_costs,\n   &cortexa57_addrcost_table,\n-  &generic_regmove_cost,\n+  &cortexa57_regmove_cost,\n   &cortexa57_vector_cost,\n   NAMED_PARAM (memmov_cost, 4),\n   NAMED_PARAM (issue_rate, 3)"}]}