{"sha": "c141e4992b90316b43ab14b6f2a2d739479bd220", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzE0MWU0OTkyYjkwMzE2YjQzYWIxNGI2ZjJhMmQ3Mzk0NzliZDIyMA==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2007-04-09T23:06:16Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2007-04-09T23:06:16Z"}, "message": "re PR target/27869 (\"-O -fregmove\" handles SSE scalar instructions incorrectly)\n\n\n\tPR target/27869\n\t* config/i386/sse.md\n\t(sse_vmaddv4sf3, sse_vmmulv4sf3): Remove '%' modifier.\n\t(sse_vmsmaxv4sf3_finite, sse_vmsminv4sf3_finite): Remove.\n\t(sse2_vmaddv2df3, sse2_vmmulv2df3): Remove '%' modifier.\n\t(sse2_vmsmaxv2df3_finite, sse2_vmsminv2df3_finite): Remove.\n\nFrom-SVN: r123682", "tree": {"sha": "e813daf76f148e5d7c6c4acb3749f147f9fdef67", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e813daf76f148e5d7c6c4acb3749f147f9fdef67"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c141e4992b90316b43ab14b6f2a2d739479bd220", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c141e4992b90316b43ab14b6f2a2d739479bd220", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c141e4992b90316b43ab14b6f2a2d739479bd220", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c141e4992b90316b43ab14b6f2a2d739479bd220/comments", "author": null, "committer": null, "parents": [{"sha": "b1bdab7eb5e02ff0457c023da6a79b77c3d0ccb8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1bdab7eb5e02ff0457c023da6a79b77c3d0ccb8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b1bdab7eb5e02ff0457c023da6a79b77c3d0ccb8"}], "stats": {"total": 69, "additions": 13, "deletions": 56}, "files": [{"sha": "62061c35fbd15fad700788abeb370743db34c6fe", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c141e4992b90316b43ab14b6f2a2d739479bd220/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c141e4992b90316b43ab14b6f2a2d739479bd220/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c141e4992b90316b43ab14b6f2a2d739479bd220", "patch": "@@ -1,3 +1,12 @@\n+2007-04-09  Jan Hubicka  <jh@suse.cz>\n+\n+\tPR target/27869\n+\t* config/i386/sse.md\n+\t(sse_vmaddv4sf3, sse_vmmulv4sf3): Remove '%' modifier.\n+\t(sse_vmsmaxv4sf3_finite, sse_vmsminv4sf3_finite): Remove.\n+\t(sse2_vmaddv2df3, sse2_vmmulv2df3): Remove '%' modifier.\n+\t(sse2_vmsmaxv2df3_finite, sse2_vmsminv2df3_finite): Remove.\n+\n 2007-04-09  Jan Hubicka  <jh@suse.cz>\n \n \t* tree-ssa-ccp (maybe_fold_offset_to_component_ref): Recurse into"}, {"sha": "181dd1437f08dc7ee580be238839ae8af3b90171", "filename": "gcc/config/i386/sse.md", "status": "modified", "additions": 4, "deletions": 56, "changes": 60, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c141e4992b90316b43ab14b6f2a2d739479bd220/gcc%2Fconfig%2Fi386%2Fsse.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c141e4992b90316b43ab14b6f2a2d739479bd220/gcc%2Fconfig%2Fi386%2Fsse.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fsse.md?ref=c141e4992b90316b43ab14b6f2a2d739479bd220", "patch": "@@ -351,7 +351,7 @@\n (define_insn \"sse_vmaddv4sf3\"\n   [(set (match_operand:V4SF 0 \"register_operand\" \"=x\")\n \t(vec_merge:V4SF\n-\t  (plus:V4SF (match_operand:V4SF 1 \"nonimmediate_operand\" \"%0\")\n+\t  (plus:V4SF (match_operand:V4SF 1 \"nonimmediate_operand\" \"0\")\n \t\t     (match_operand:V4SF 2 \"nonimmediate_operand\" \"xm\"))\n \t  (match_dup 1)\n \t  (const_int 1)))]\n@@ -407,7 +407,7 @@\n (define_insn \"sse_vmmulv4sf3\"\n   [(set (match_operand:V4SF 0 \"register_operand\" \"=x\")\n \t(vec_merge:V4SF\n-\t  (mult:V4SF (match_operand:V4SF 1 \"nonimmediate_operand\" \"%0\")\n+\t  (mult:V4SF (match_operand:V4SF 1 \"nonimmediate_operand\" \"0\")\n \t\t     (match_operand:V4SF 2 \"nonimmediate_operand\" \"xm\"))\n \t  (match_dup 1)\n \t  (const_int 1)))]\n@@ -539,19 +539,6 @@\n   [(set_attr \"type\" \"sse\")\n    (set_attr \"mode\" \"V4SF\")])\n \n-(define_insn \"*sse_vmsmaxv4sf3_finite\"\n-  [(set (match_operand:V4SF 0 \"register_operand\" \"=x\")\n-\t(vec_merge:V4SF\n-\t (smax:V4SF (match_operand:V4SF 1 \"nonimmediate_operand\" \"%0\")\n-\t\t    (match_operand:V4SF 2 \"nonimmediate_operand\" \"xm\"))\n-\t (match_dup 1)\n-\t (const_int 1)))]\n-  \"TARGET_SSE && flag_finite_math_only\n-   && ix86_binary_operator_ok (SMAX, V4SFmode, operands)\"\n-  \"maxss\\t{%2, %0|%0, %2}\"\n-  [(set_attr \"type\" \"sse\")\n-   (set_attr \"mode\" \"SF\")])\n-\n (define_insn \"sse_vmsmaxv4sf3\"\n   [(set (match_operand:V4SF 0 \"register_operand\" \"=x\")\n \t(vec_merge:V4SF\n@@ -594,19 +581,6 @@\n   [(set_attr \"type\" \"sse\")\n    (set_attr \"mode\" \"V4SF\")])\n \n-(define_insn \"*sse_vmsminv4sf3_finite\"\n-  [(set (match_operand:V4SF 0 \"register_operand\" \"=x\")\n-\t(vec_merge:V4SF\n-\t (smin:V4SF (match_operand:V4SF 1 \"nonimmediate_operand\" \"%0\")\n-\t\t    (match_operand:V4SF 2 \"nonimmediate_operand\" \"xm\"))\n-\t (match_dup 1)\n-\t (const_int 1)))]\n-  \"TARGET_SSE && flag_finite_math_only\n-   && ix86_binary_operator_ok (SMIN, V4SFmode, operands)\"\n-  \"minss\\t{%2, %0|%0, %2}\"\n-  [(set_attr \"type\" \"sse\")\n-   (set_attr \"mode\" \"SF\")])\n-\n (define_insn \"sse_vmsminv4sf3\"\n   [(set (match_operand:V4SF 0 \"register_operand\" \"=x\")\n \t(vec_merge:V4SF\n@@ -1481,7 +1455,7 @@\n (define_insn \"sse2_vmaddv2df3\"\n   [(set (match_operand:V2DF 0 \"register_operand\" \"=x\")\n \t(vec_merge:V2DF\n-\t  (plus:V2DF (match_operand:V2DF 1 \"nonimmediate_operand\" \"%0\")\n+\t  (plus:V2DF (match_operand:V2DF 1 \"nonimmediate_operand\" \"0\")\n \t\t     (match_operand:V2DF 2 \"nonimmediate_operand\" \"xm\"))\n \t  (match_dup 1)\n \t  (const_int 1)))]\n@@ -1537,7 +1511,7 @@\n (define_insn \"sse2_vmmulv2df3\"\n   [(set (match_operand:V2DF 0 \"register_operand\" \"=x\")\n \t(vec_merge:V2DF\n-\t  (mult:V2DF (match_operand:V2DF 1 \"nonimmediate_operand\" \"%0\")\n+\t  (mult:V2DF (match_operand:V2DF 1 \"nonimmediate_operand\" \"0\")\n \t\t     (match_operand:V2DF 2 \"nonimmediate_operand\" \"xm\"))\n \t  (match_dup 1)\n \t  (const_int 1)))]\n@@ -1627,19 +1601,6 @@\n   [(set_attr \"type\" \"sseadd\")\n    (set_attr \"mode\" \"V2DF\")])\n \n-(define_insn \"*sse2_vmsmaxv2df3_finite\"\n-  [(set (match_operand:V2DF 0 \"register_operand\" \"=x\")\n-\t(vec_merge:V2DF\n-\t  (smax:V2DF (match_operand:V2DF 1 \"nonimmediate_operand\" \"%0\")\n-\t\t     (match_operand:V2DF 2 \"nonimmediate_operand\" \"xm\"))\n-\t  (match_dup 1)\n-\t  (const_int 1)))]\n-  \"TARGET_SSE2 && flag_finite_math_only\n-   && ix86_binary_operator_ok (SMAX, V2DFmode, operands)\"\n-  \"maxsd\\t{%2, %0|%0, %2}\"\n-  [(set_attr \"type\" \"sseadd\")\n-   (set_attr \"mode\" \"DF\")])\n-\n (define_insn \"sse2_vmsmaxv2df3\"\n   [(set (match_operand:V2DF 0 \"register_operand\" \"=x\")\n \t(vec_merge:V2DF\n@@ -1682,19 +1643,6 @@\n   [(set_attr \"type\" \"sseadd\")\n    (set_attr \"mode\" \"V2DF\")])\n \n-(define_insn \"*sse2_vmsminv2df3_finite\"\n-  [(set (match_operand:V2DF 0 \"register_operand\" \"=x\")\n-\t(vec_merge:V2DF\n-\t  (smin:V2DF (match_operand:V2DF 1 \"nonimmediate_operand\" \"%0\")\n-\t\t     (match_operand:V2DF 2 \"nonimmediate_operand\" \"xm\"))\n-\t  (match_dup 1)\n-\t  (const_int 1)))]\n-  \"TARGET_SSE2 && flag_finite_math_only\n-   && ix86_binary_operator_ok (SMIN, V2DFmode, operands)\"\n-  \"minsd\\t{%2, %0|%0, %2}\"\n-  [(set_attr \"type\" \"sseadd\")\n-   (set_attr \"mode\" \"DF\")])\n-\n (define_insn \"sse2_vmsminv2df3\"\n   [(set (match_operand:V2DF 0 \"register_operand\" \"=x\")\n \t(vec_merge:V2DF"}]}