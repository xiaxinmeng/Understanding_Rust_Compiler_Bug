{"sha": "2af6483634c6f369731a6de07631921a570ff178", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmFmNjQ4MzYzNGM2ZjM2OTczMWE2ZGUwNzYzMTkyMWE1NzBmZjE3OA==", "commit": {"author": {"name": "Jeff Law", "email": "law@redhat.com", "date": "2018-01-19T18:42:30Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2018-01-19T18:42:30Z"}, "message": "stack-check-16.c: New test.\n\n\t* gcc.dg/stack-check-16.c: New test.\n\nCo-Authored-By: Jakub Jelinek <jakub@redhat.com>\n\nFrom-SVN: r256896", "tree": {"sha": "ce8c15ad9cabf9636192e7116b8731e08c29396c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ce8c15ad9cabf9636192e7116b8731e08c29396c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2af6483634c6f369731a6de07631921a570ff178", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2af6483634c6f369731a6de07631921a570ff178", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2af6483634c6f369731a6de07631921a570ff178", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2af6483634c6f369731a6de07631921a570ff178/comments", "author": null, "committer": null, "parents": [{"sha": "47c699f52a0a226abc93e7e5ecf78569cc4291fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47c699f52a0a226abc93e7e5ecf78569cc4291fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47c699f52a0a226abc93e7e5ecf78569cc4291fe"}], "stats": {"total": 41, "additions": 41, "deletions": 0}, "files": [{"sha": "2d0e317602b6e634c558238abe4a585ba3278b4e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2af6483634c6f369731a6de07631921a570ff178/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2af6483634c6f369731a6de07631921a570ff178/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2af6483634c6f369731a6de07631921a570ff178", "patch": "@@ -1,3 +1,8 @@\n+2018-01-19  Jeff Law  <law@redhat.com>\n+\t    Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* gcc.dg/stack-check-16.c: New test.\n+\n 2018-01-19  Cesar Philippidis  <cesar@codesourcery.com>\n \n \tPR target/83790"}, {"sha": "9f89a79fc019e70b7312c9ce1f967e22143744d0", "filename": "gcc/testsuite/gcc.dg/stack-check-16.c", "status": "added", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2af6483634c6f369731a6de07631921a570ff178/gcc%2Ftestsuite%2Fgcc.dg%2Fstack-check-16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2af6483634c6f369731a6de07631921a570ff178/gcc%2Ftestsuite%2Fgcc.dg%2Fstack-check-16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fstack-check-16.c?ref=2af6483634c6f369731a6de07631921a570ff178", "patch": "@@ -0,0 +1,36 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-fstack-clash-protection\" } */\n+/* { dg-require-effective-target supports_stack_clash_protection } */\n+\n+int printf (const char *, ...);\n+void blah (char *space) { }\n+void mtrace (void);\n+\n+int do_test (void)\n+{\n+    blah (__builtin_alloca (10));\n+    mtrace ();\n+    printf (\n+#define A(a) \"%\" #a \"$s\"\n+#define B(a) A(a)\n+#define C(a,b,c,d) B(a##b##c##d)\n+#define D(a,b,c) C(a,b,c,1) C(a,b,c,2) C(a,b,c,3) C(a,b,c,4) C(a,b,c,5) \\\n+\t\t C(a,b,c,6) C(a,b,c,7) C(a,b,c,8) C(a,b,c,9)\n+#define E(a,b,c) C(a,b,c,0) D(a,b,c)\n+#define F(a,b) E(a,b,1) E(a,b,2) E(a,b,3) E(a,b,4) E(a,b,5) \\\n+\t       E(a,b,6) E(a,b,7) E(a,b,8) E(a,b,9)\n+#define G(a,b) E(a,b,0) F(a,b)\n+#define H(a) G(a,1) G(a,2) G(a,3) G(a,4) G(a,5) G(a,6) G(a,7) G(a,8) G(a,9)\n+#define I(a) G(a,0) H(a)\n+#define J I(1) I(2) I(3) I(4) I(5) I(6) I(7) I(8) I(9)\n+\t    D(,,)\n+\t    F(,)\n+\t    H()\n+\t    J\n+\t    C(10,0,0,0) C(10,0,0,1),\n+#undef A\n+#define A(a) \"a\",\n+\t    I(0) J\n+\t    \"\\n\");\n+  return 0;\n+}"}]}