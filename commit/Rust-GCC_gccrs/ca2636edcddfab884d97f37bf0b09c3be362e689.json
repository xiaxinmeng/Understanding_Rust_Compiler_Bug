{"sha": "ca2636edcddfab884d97f37bf0b09c3be362e689", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2EyNjM2ZWRjZGRmYWI4ODRkOTdmMzdiZjBiMDljM2JlMzYyZTY4OQ==", "commit": {"author": {"name": "David S. Miller", "email": "davem@pierdol.cobaltmicro.com", "date": "1998-10-04T01:29:21Z"}, "committer": {"name": "David S. Miller", "email": "davem@gcc.gnu.org", "date": "1998-10-04T01:29:21Z"}, "message": "function.c (purge_addressof_1): If trying to take a sub-word integral piece of a floating point mode...\n\n\t* function.c (purge_addressof_1): If trying to take a sub-word\n\tintegral piece of a floating point mode, put it on the stack.\n\nFrom-SVN: r22804", "tree": {"sha": "3f76ee96771621d9a87913e2091b0df0a156e184", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3f76ee96771621d9a87913e2091b0df0a156e184"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ca2636edcddfab884d97f37bf0b09c3be362e689", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca2636edcddfab884d97f37bf0b09c3be362e689", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca2636edcddfab884d97f37bf0b09c3be362e689", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca2636edcddfab884d97f37bf0b09c3be362e689/comments", "author": null, "committer": null, "parents": [{"sha": "223bd5493d0f647ee2e968b53ff3b3555513a5d6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/223bd5493d0f647ee2e968b53ff3b3555513a5d6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/223bd5493d0f647ee2e968b53ff3b3555513a5d6"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "44610f309ada92adebd1d2a8d32eee578f18f892", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca2636edcddfab884d97f37bf0b09c3be362e689/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca2636edcddfab884d97f37bf0b09c3be362e689/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ca2636edcddfab884d97f37bf0b09c3be362e689", "patch": "@@ -1,3 +1,8 @@\n+Sun Oct  4 00:23:00 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>\n+\n+\t* function.c (purge_addressof_1): If trying to take a sub-word\n+\tintegral piece of a floating point mode, put it on the stack.\n+\n Sat Oct  3 19:01:03 1998  Richard Henderson  <rth@cygnus.com>\n \n \t* alpha/linux.h (CPP_PREDEFINES): Define __alpha__ for imake."}, {"sha": "5e607597f4f6cd8cf91237973a9ca3d1d630ebbf", "filename": "gcc/function.c", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca2636edcddfab884d97f37bf0b09c3be362e689/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca2636edcddfab884d97f37bf0b09c3be362e689/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=ca2636edcddfab884d97f37bf0b09c3be362e689", "patch": "@@ -2881,6 +2881,17 @@ purge_addressof_1 (loc, insn, force, store)\n \n \t      rtx val, seq;\n \n+\t      /* We cannot do this if we are trying to pick out\n+\t\t an integral piece, smaller than a word, of a\n+\t\t floating point value.  */\n+\t      if (INTEGRAL_MODE_P (GET_MODE (x))\n+\t\t  && GET_MODE_SIZE (GET_MODE (x)) < UNITS_PER_WORD\n+\t\t  && FLOAT_MODE_P (GET_MODE (sub)))\n+\t\t{\n+\t\t  put_addressof_into_stack (XEXP (x, 0));\n+\t\t  return;\n+\t\t}\n+\n \t      if (store)\n \t\t{\n \t\t  /* If we can't replace with a register, be afraid.  */"}]}