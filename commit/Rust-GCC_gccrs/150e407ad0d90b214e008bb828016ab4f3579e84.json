{"sha": "150e407ad0d90b214e008bb828016ab4f3579e84", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTUwZTQwN2FkMGQ5MGIyMTRlMDA4YmI4MjgwMTZhYjRmMzU3OWU4NA==", "commit": {"author": {"name": "Nick Clifton", "email": "nickc@redhat.com", "date": "2004-04-30T05:59:06Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "2004-04-30T05:59:06Z"}, "message": "Patch from Nick Clifton.\n\nBug 14093\n* config/sh/sh-protos.h (sh_promote_prototypes): Declare.\n* config/sh/sh.c (sh_promote_prototypes): Remove declaration.\nDelete static from definition.\n* config/sh/sh.h (FUNCTION_VALUE): Add sh_promote_prototypes call.\n\nFrom-SVN: r81325", "tree": {"sha": "14f3c2a29a8ee6dce28bb943069f76dcab5e9415", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/14f3c2a29a8ee6dce28bb943069f76dcab5e9415"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/150e407ad0d90b214e008bb828016ab4f3579e84", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/150e407ad0d90b214e008bb828016ab4f3579e84", "html_url": "https://github.com/Rust-GCC/gccrs/commit/150e407ad0d90b214e008bb828016ab4f3579e84", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/150e407ad0d90b214e008bb828016ab4f3579e84/comments", "author": {"login": "nickclifton", "id": 31441682, "node_id": "MDQ6VXNlcjMxNDQxNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nickclifton", "html_url": "https://github.com/nickclifton", "followers_url": "https://api.github.com/users/nickclifton/followers", "following_url": "https://api.github.com/users/nickclifton/following{/other_user}", "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}", "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions", "organizations_url": "https://api.github.com/users/nickclifton/orgs", "repos_url": "https://api.github.com/users/nickclifton/repos", "events_url": "https://api.github.com/users/nickclifton/events{/privacy}", "received_events_url": "https://api.github.com/users/nickclifton/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6862f97f4535814a0ceba6134f86b869a6377a1d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6862f97f4535814a0ceba6134f86b869a6377a1d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6862f97f4535814a0ceba6134f86b869a6377a1d"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "080affc413ad4271d3cb01312bb37909bb141e3c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/150e407ad0d90b214e008bb828016ab4f3579e84/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/150e407ad0d90b214e008bb828016ab4f3579e84/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=150e407ad0d90b214e008bb828016ab4f3579e84", "patch": "@@ -1,3 +1,11 @@\n+2004-04-29  Nick Clifton  <nickc@redhat.com>\n+\n+\tBug 14093\n+\t* config/sh/sh-protos.h (sh_promote_prototypes): Declare.\n+\t* config/sh/sh.c (sh_promote_prototypes): Remove declaration.\n+\tDelete static from definition.\n+\t* config/sh/sh.h (FUNCTION_VALUE): Add sh_promote_prototypes call.\n+\n 2004-04-30  Uros Bizjak  <uros@kss-loka.si>\n \n         * reg-stack.c (subst_stack_regs_pat): <UNSPEC_SIN, UNSPEC_COS,"}, {"sha": "082d7941838a92d59880c75d32c6f1c55434cd20", "filename": "gcc/config/sh/sh-protos.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/150e407ad0d90b214e008bb828016ab4f3579e84/gcc%2Fconfig%2Fsh%2Fsh-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/150e407ad0d90b214e008bb828016ab4f3579e84/gcc%2Fconfig%2Fsh%2Fsh-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh-protos.h?ref=150e407ad0d90b214e008bb828016ab4f3579e84", "patch": "@@ -141,5 +141,6 @@ extern rtx sh_function_arg (CUMULATIVE_ARGS *, enum machine_mode, tree, int);\n extern void sh_function_arg_advance (CUMULATIVE_ARGS *, enum machine_mode, tree, int);\n extern int sh_pass_in_reg_p (CUMULATIVE_ARGS *, enum machine_mode, tree);\n extern const char *sh_pch_valid_p (const void *data_p, size_t sz);\n+extern bool sh_promote_prototypes (tree);\n \n #endif /* ! GCC_SH_PROTOS_H */"}, {"sha": "66a7da47e1ef6ddc3871c32b89d070da552461ff", "filename": "gcc/config/sh/sh.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/150e407ad0d90b214e008bb828016ab4f3579e84/gcc%2Fconfig%2Fsh%2Fsh.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/150e407ad0d90b214e008bb828016ab4f3579e84/gcc%2Fconfig%2Fsh%2Fsh.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.c?ref=150e407ad0d90b214e008bb828016ab4f3579e84", "patch": "@@ -272,7 +272,6 @@ struct save_schedule_s;\n static struct save_entry_s *sh5_schedule_saves (HARD_REG_SET *,\n \t\t\t\t\t\tstruct save_schedule_s *, int);\n \n-static bool sh_promote_prototypes (tree);\n static rtx sh_struct_value_rtx (tree, int);\n static bool sh_return_in_memory (tree, tree);\n static rtx sh_builtin_saveregs (void);\n@@ -6352,7 +6351,7 @@ sh_va_arg (tree valist, tree type)\n   return result;\n }\n \n-static bool\n+bool\n sh_promote_prototypes (tree type)\n {\n   if (TARGET_HITACHI)"}, {"sha": "32cbb2c24383201e212b94b57fddc2ec2be5add3", "filename": "gcc/config/sh/sh.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/150e407ad0d90b214e008bb828016ab4f3579e84/gcc%2Fconfig%2Fsh%2Fsh.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/150e407ad0d90b214e008bb828016ab4f3579e84/gcc%2Fconfig%2Fsh%2Fsh.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.h?ref=150e407ad0d90b214e008bb828016ab4f3579e84", "patch": "@@ -1644,6 +1644,7 @@ extern enum reg_class reg_class_from_letter[];\n \t\t || TREE_CODE (VALTYPE) == CHAR_TYPE\t\t\t\\\n \t\t || TREE_CODE (VALTYPE) == REAL_TYPE\t\t\t\\\n \t\t || TREE_CODE (VALTYPE) == OFFSET_TYPE))\t\t\\\n+             && sh_promote_prototypes (VALTYPE)\t\t\t\t\\\n \t    ? (TARGET_SHMEDIA ? DImode : SImode) : TYPE_MODE (VALTYPE)), \\\n \t   BASE_RETURN_VALUE_REG (TYPE_MODE (VALTYPE)))\n "}]}