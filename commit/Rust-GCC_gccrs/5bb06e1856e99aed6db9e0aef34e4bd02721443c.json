{"sha": "5bb06e1856e99aed6db9e0aef34e4bd02721443c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWJiMDZlMTg1NmU5OWFlZDZkYjllMGFlZjM0ZTRiZDAyNzIxNDQzYw==", "commit": {"author": {"name": "Golovanevsky Olga", "email": "olga@il.ibm.com", "date": "2007-12-13T11:11:57Z"}, "committer": {"name": "Olga Golovanevsky", "email": "olga@gcc.gnu.org", "date": "2007-12-13T11:11:57Z"}, "message": "invoke.texi (Optimiza Options): Document new -fipa-struct-reorg option and struct-reorg-cold-struct-ratio parameter.\n\n2007-12-13  Golovanevsky Olga  <olga@il.ibm.com>\n\n\t* doc/invoke.texi (Optimiza Options): Document new -fipa-struct-reorg\n\toption and struct-reorg-cold-struct-ratio parameter.\n\nFrom-SVN: r130890", "tree": {"sha": "60b5db4b98b77ade3f5b287659a6d1ddac7cc95c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/60b5db4b98b77ade3f5b287659a6d1ddac7cc95c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5bb06e1856e99aed6db9e0aef34e4bd02721443c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5bb06e1856e99aed6db9e0aef34e4bd02721443c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5bb06e1856e99aed6db9e0aef34e4bd02721443c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5bb06e1856e99aed6db9e0aef34e4bd02721443c/comments", "author": null, "committer": null, "parents": [{"sha": "b446725a8ad50e83d6024dea0fea93a7be60506b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b446725a8ad50e83d6024dea0fea93a7be60506b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b446725a8ad50e83d6024dea0fea93a7be60506b"}], "stats": {"total": 30, "additions": 29, "deletions": 1}, "files": [{"sha": "952bb9a763420ae4f767a41c5c7d9d2f97769c4e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5bb06e1856e99aed6db9e0aef34e4bd02721443c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5bb06e1856e99aed6db9e0aef34e4bd02721443c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5bb06e1856e99aed6db9e0aef34e4bd02721443c", "patch": "@@ -1,3 +1,8 @@\n+2007-12-13  Golovanevsky Olga  <olga@il.ibm.com>\n+\n+\t* doc/invoke.texi (Optimiza Options): Document new -fipa-struct-reorg\n+\toption and struct-reorg-cold-struct-ratio parameter.\n+\t\n 2007-12-13  Torbjorn Granlund  <tege@swox.com>\n \n \t* config/i386/i386.c (ix86_rtx_costs) [MULT]: Check op0 for"}, {"sha": "e8431da467ebcffa827dffa009d289a2617ee848", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 24, "deletions": 1, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5bb06e1856e99aed6db9e0aef34e4bd02721443c/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5bb06e1856e99aed6db9e0aef34e4bd02721443c/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=5bb06e1856e99aed6db9e0aef34e4bd02721443c", "patch": "@@ -329,7 +329,7 @@ Objective-C and Objective-C++ Dialects}.\n -fgcse-sm -fif-conversion -fif-conversion2 -finline-functions @gol\n -finline-functions-called-once -finline-limit=@var{n} @gol\n -finline-small-functions -fipa-cp -fipa-marix-reorg -fipa-pta @gol \n--fipa-pure-const -fipa-reference @gol\n+-fipa-pure-const -fipa-reference -fipa-struct-reorg @gol\n -fipa-type-escape -fivopts -fkeep-inline-functions -fkeep-static-consts @gol\n -fmerge-all-constants -fmerge-constants -fmodulo-sched @gol\n -fmodulo-sched-allow-regmoves -fmove-loop-invariants -fmudflap @gol\n@@ -5707,6 +5707,20 @@ Discover which static variables do not escape cannot escape the\n compilation unit.\n Enabled by default at @option{-O} and higher.\n \n+@item -fipa-struct-reorg\n+@opindex fipa-struct-reorg\n+Perform structure reorganization optimization, that change C-like structures \n+layout in order to better utilize spatial locality.  This transformation is \n+affective for programs containing arrays of structures.  Available in two \n+compilation modes: profile-based (enabled with @option{-fprofile-generate})\n+or static (which uses built-in heuristics).  Require @option{-fipa-type-escape}\n+to provide the safety of this transformation.  It works only in whole program\n+mode, so it requires @option{-fwhole-program} and @option{-combine} to be\n+enabled.  Structures considered @samp{cold} by this transformation are not\n+affected (see @option{--param struct-reorg-cold-struct-ratio=@var{value}}).\n+\n+With this flag, the program debug info reflects a new structure layout.\n+\n @item -fipa-pta\n @opindex fipa-pta\n Perform interprocedural pointer analysis.\n@@ -6643,6 +6657,15 @@ of bytes in instantiated fields to the number of bytes in the complete\n structure exceeds this parameter, then block copies are not used.  The\n default is 75.\n \n+@item struct-reorg-cold-struct-ratio\n+The threshold ratio (as a percentage) between a structure frequency\n+and the frequency of the hottest structure in the program.  This parameter\n+is used by struct-reorg optimization enabled by @option{-fipa-struct-reorg}.\n+We say that if the ratio of a structure frequency, calculated by profiling, \n+to the hottest structure frequency in the program is less than this \n+parameter, then structure reorganization is not applied to this structure.\n+The default is 10.\n+\n @item max-crossjump-edges\n The maximum number of incoming edges to consider for crossjumping.\n The algorithm used by @option{-fcrossjumping} is @math{O(N^2)} in"}]}