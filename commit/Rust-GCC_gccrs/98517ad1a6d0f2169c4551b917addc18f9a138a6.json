{"sha": "98517ad1a6d0f2169c4551b917addc18f9a138a6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTg1MTdhZDFhNmQwZjIxNjljNDU1MWI5MTdhZGRjMThmOWExMzhhNg==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-08-21T06:26:49Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-08-21T06:26:49Z"}, "message": "(CC,CFLAGS,LIBS): Add commented command variants for bootstrapping gcc-cpp and gcc-cc1 with VAXC.\n\n(CC,CFLAGS,LIBS): Add commented command\nvariants for bootstrapping gcc-cpp and gcc-cc1 with VAXC.\n(alloca): Build alloca.obj from alloca.c if LIBS needs it.\n\nFrom-SVN: r1923", "tree": {"sha": "29c735105e400adab20b63673538ba7e80151213", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/29c735105e400adab20b63673538ba7e80151213"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/98517ad1a6d0f2169c4551b917addc18f9a138a6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/98517ad1a6d0f2169c4551b917addc18f9a138a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/98517ad1a6d0f2169c4551b917addc18f9a138a6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/98517ad1a6d0f2169c4551b917addc18f9a138a6/comments", "author": null, "committer": null, "parents": [{"sha": "e0a5c5eb0ac20dfb9a0df30728f2bcd82fc17f31", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0a5c5eb0ac20dfb9a0df30728f2bcd82fc17f31", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e0a5c5eb0ac20dfb9a0df30728f2bcd82fc17f31"}], "stats": {"total": 17, "additions": 12, "deletions": 5}, "files": [{"sha": "c455b3af6c6252db7255f927e8b485aa12feb9ac", "filename": "gcc/make-cccp.com", "status": "modified", "additions": 12, "deletions": 5, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/98517ad1a6d0f2169c4551b917addc18f9a138a6/gcc%2Fmake-cccp.com", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/98517ad1a6d0f2169c4551b917addc18f9a138a6/gcc%2Fmake-cccp.com", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmake-cccp.com?ref=98517ad1a6d0f2169c4551b917addc18f9a138a6", "patch": "@@ -4,26 +4,33 @@ $set default 'f$parse(flnm,,,\"DEVICE\")''f$parse(flnm,,,\"DIRECTORY\")'\n $!\n $!\tBuild the GNU \"C\" pre-processor on VMS\n $!\n+$!  Note:  to build with DEC's VAX C compiler, uncomment the 2nd CC, CFLAGS,\n+$!\t   and LIBS alternatives, and also execute the following command:\n+$!\tDEFINE SYS SYS$LIBRARY:\n $\n $!\n $!\tC compiler\n $!\n $ CC\t:=\tgcc\n+$! CC\t:=\tcc\t!uncomment for VAXC\n $ BISON\t:=\tbison\n $ RENAME :=\trename\n $ LINK\t:=\tlink\n $!\n $!\tCompiler options\n $!\n-$ CFLAGS =\t\"/debug/inc=([],[.config])\"\n+$ CFLAGS =\t\"/debug/incl=([],[.config])\"\n+$! CFLAGS =\t\"/noopt/incl=([],[.config])\"\t!uncomment for VAXC\n $!\n $!\tLink options\n $!\n $ LDFLAGS :=\t/nomap\n $!\n $!\tLink libraries\n $!\n-$ LIBS :=\tgnu_cc:[000000]gcclib/libr,sys$share:vaxcrtl/libr\n+$ LIBS :=\tgnu_cc:[000000]gcclib.olb/libr,sys$library:vaxcrtl.olb/libr\n+$! LIBS :=\talloca.obj,sys$library:vaxcrtl.olb/libr\t!uncomment for VAXC\n+$\n $ if \"''p1'\" .eqs. \"LINK\" then goto Link\n $ 'CC 'CFLAGS cccp.c\n $ t1:='f$search(\"CEXP.C\")'\n@@ -38,14 +45,14 @@ $ bison cexp.y\n $ rename cexp_tab.c cexp.c\n $ 20$:\n $!\n+$ if f$locate(\"alloca.obj\",f$edit(LIBS,\"lowercase\")).lt.f$length(LIBS) then -\n+  'CC 'CFLAGS /define=\"STACK_DIRECTION=(-1)\" alloca.c\n+$!\n $ 'CC 'CFLAGS cexp.c\n $ 'CC 'CFLAGS version.c\n $ Link:\n $ link 'LDFLAGS /exe=gcc-cpp cccp,cexp,version,version.opt/opt,'LIBS'\n $!\n-$! CAUTION: If you want to link gcc-cpp to the sharable image library\n-$! VAXCRTL, see the notes in gcc.texinfo (or INSTALL) first.\n-$!\n $!\tDone\n $!\n $ exit"}]}