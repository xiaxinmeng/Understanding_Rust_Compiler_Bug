{"sha": "a2d0c46dae1644d114496b8a288142ec02a0cb56", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTJkMGM0NmRhZTE2NDRkMTE0NDk2YjhhMjg4MTQyZWMwMmEwY2I1Ng==", "commit": {"author": {"name": "Andrew Pinski", "email": "andrew_pinski@playstation.sony.com", "date": "2007-09-28T01:02:30Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2007-09-28T01:02:30Z"}, "message": "re PR rtl-optimization/7003 ([ppc] address of array loaded int register twice without any need)\n\n2007-09-27  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n\n        PR middle-end/7003\n        * gcc.target/powerpc/gcse-1.c: New test.\n\nFrom-SVN: r128856", "tree": {"sha": "2d38657323a3d2e67b703e150a05bfd52921735d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2d38657323a3d2e67b703e150a05bfd52921735d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a2d0c46dae1644d114496b8a288142ec02a0cb56", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a2d0c46dae1644d114496b8a288142ec02a0cb56", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a2d0c46dae1644d114496b8a288142ec02a0cb56", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a2d0c46dae1644d114496b8a288142ec02a0cb56/comments", "author": null, "committer": null, "parents": [{"sha": "7cefcade5d36495c8c0611cddff1f63c2a6e4b1b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7cefcade5d36495c8c0611cddff1f63c2a6e4b1b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7cefcade5d36495c8c0611cddff1f63c2a6e4b1b"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "fba430413ecd44e49167cace5f569e8b0616a41a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a2d0c46dae1644d114496b8a288142ec02a0cb56/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a2d0c46dae1644d114496b8a288142ec02a0cb56/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a2d0c46dae1644d114496b8a288142ec02a0cb56", "patch": "@@ -1,3 +1,8 @@\n+2007-09-27  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n+\n+\tPR middle-end/7003\n+\t* gcc.target/powerpc/gcse-1.c: New test.\n+\n 2007-09-27  Tobias Schl\ufffdter  <tobi@gcc.gnu.org>\n \n \t* gfortran.dg/array_initializer_3.f90: Adapt error annotations for"}, {"sha": "799cde1dd0e7fe7a74c5c15744366a7acd5dceb9", "filename": "gcc/testsuite/gcc.target/powerpc/gcse-1.c", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a2d0c46dae1644d114496b8a288142ec02a0cb56/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fgcse-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a2d0c46dae1644d114496b8a288142ec02a0cb56/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fgcse-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fgcse-1.c?ref=a2d0c46dae1644d114496b8a288142ec02a0cb56", "patch": "@@ -0,0 +1,15 @@\n+/* { dg-do compile { target { *-*-linux* && ilp32 } } } */\n+/* { dg-options \"-O2\" } */\n+/* { dg-final { scan-assembler-times \"@ha\" 1 } } */\n+\n+\n+/* Test for PR 7003, address of array loaded int register\n+   twice without any need. */\n+\n+extern const char flags [256];\n+\n+unsigned char * f (unsigned char * s) {\n+  while (flags[*++s]);\n+  while (!flags[*++s]);\n+  return s;\n+}"}]}