{"sha": "2c92b94d0f1c7c54182770327784e8cb84e65b95", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmM5MmI5NGQwZjFjN2M1NDE4Mjc3MDMyNzc4NGU4Y2I4NGU2NWI5NQ==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2000-11-30T09:36:29Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2000-11-30T09:36:29Z"}, "message": "call.c (build_over_call): Use VOID_TYPE_P.\n\ncp:\n\t* call.c (build_over_call): Use VOID_TYPE_P. Don't die on\n\tincomplete return type.\ntestsuite:\n\t* g++.old-deja/g++.other/crash38.C: New test.\n\nFrom-SVN: r37872", "tree": {"sha": "77a0df71d9a4d8a168c292158be11c4ee6650d0c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/77a0df71d9a4d8a168c292158be11c4ee6650d0c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2c92b94d0f1c7c54182770327784e8cb84e65b95", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c92b94d0f1c7c54182770327784e8cb84e65b95", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c92b94d0f1c7c54182770327784e8cb84e65b95", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c92b94d0f1c7c54182770327784e8cb84e65b95/comments", "author": null, "committer": null, "parents": [{"sha": "47f18b4f1352369e26f885f51605c3d824d3dbee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47f18b4f1352369e26f885f51605c3d824d3dbee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47f18b4f1352369e26f885f51605c3d824d3dbee"}], "stats": {"total": 32, "additions": 31, "deletions": 1}, "files": [{"sha": "32b01515b229412e8e5bd43b9dfd02a23215aef4", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c92b94d0f1c7c54182770327784e8cb84e65b95/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c92b94d0f1c7c54182770327784e8cb84e65b95/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=2c92b94d0f1c7c54182770327784e8cb84e65b95", "patch": "@@ -1,3 +1,8 @@\n+2000-11-30  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* call.c (build_over_call): Use VOID_TYPE_P. Don't die on\n+\tincomplete return type.\n+\n 2000-11-28  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* parse.y (base_class.1): Produce a _TYPE not a _DECL."}, {"sha": "ecd3d22347e90717d045e65a9cb8429e172e90e6", "filename": "gcc/cp/call.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c92b94d0f1c7c54182770327784e8cb84e65b95/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c92b94d0f1c7c54182770327784e8cb84e65b95/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=2c92b94d0f1c7c54182770327784e8cb84e65b95", "patch": "@@ -4189,9 +4189,11 @@ build_over_call (cand, args, flags)\n     }\n \n   fn = fold (build_call (fn, converted_args));\n-  if (TREE_CODE (TREE_TYPE (fn)) == VOID_TYPE)\n+  if (VOID_TYPE_P (TREE_TYPE (fn)))\n     return fn;\n   fn = require_complete_type (fn);\n+  if (fn == error_mark_node)\n+    return error_mark_node;\n   if (IS_AGGR_TYPE (TREE_TYPE (fn)))\n     fn = build_cplus_new (TREE_TYPE (fn), fn);\n   return convert_from_reference (fn);"}, {"sha": "90c92c91f784a933e0e5f746d4afc96887122bf5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c92b94d0f1c7c54182770327784e8cb84e65b95/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c92b94d0f1c7c54182770327784e8cb84e65b95/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2c92b94d0f1c7c54182770327784e8cb84e65b95", "patch": "@@ -1,3 +1,7 @@\n+2000-11-30  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* g++.old-deja/g++.other/crash38.C: New test.\n+\n 2000-11-29  Toon Moene  <toon@moene.indiv.nluug.nl>\n \n \t* g77.f-torture/execute/20001111.x: Test fixed - remove XFAIL."}, {"sha": "5faab45b5706b68d8507a7f2681677de12d2b3c2", "filename": "gcc/testsuite/g++.old-deja/g++.other/crash38.C", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c92b94d0f1c7c54182770327784e8cb84e65b95/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fcrash38.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c92b94d0f1c7c54182770327784e8cb84e65b95/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fcrash38.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fcrash38.C?ref=2c92b94d0f1c7c54182770327784e8cb84e65b95", "patch": "@@ -0,0 +1,19 @@\n+// Build don't link:\n+\n+// Copyright (C) 2000 Free Software Foundation, Inc.\n+// Contributed by Nathan Sidwell 28 Nov 2000 <nathan@codesourcery.com>\n+\n+// Bug 611. We ICEd when calling a member function returning an incomplete\n+// type by value.\n+\n+struct X;   // ERROR - forward ref\n+\n+struct Y\n+{\n+  X foo ();\n+};\n+\n+void baz (Y *p)\n+{\n+  p->foo ();    // ERROR - incomplete\n+}"}]}