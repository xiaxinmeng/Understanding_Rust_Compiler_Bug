{"sha": "12ba3f8f9a0118440b5f6d75a6fe15d05399442d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTJiYTNmOGY5YTAxMTg0NDBiNWY2ZDc1YTZmZTE1ZDA1Mzk5NDQyZA==", "commit": {"author": {"name": "Ziemowit Laski", "email": "zlaski@apple.com", "date": "2004-06-02T19:48:49Z"}, "committer": {"name": "Ziemowit Laski", "email": "zlaski@gcc.gnu.org", "date": "2004-06-02T19:48:49Z"}, "message": "objc.exp (objc_target_compile): When running tests on Darwin (Mac OS X)...\n\n[gcc/testsuite/ChangeLog]\n2004-06-02  Ziemowit Laski  <zlaski@apple.com>\n\n        * lib/objc.exp (objc_target_compile): When running tests on\n        Darwin (Mac OS X), inform the linker about '-framework\n        'Foundation'.\n\nFrom-SVN: r82578", "tree": {"sha": "58eb5ead1184375ad4552d86a93b1981270152ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/58eb5ead1184375ad4552d86a93b1981270152ed"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/12ba3f8f9a0118440b5f6d75a6fe15d05399442d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12ba3f8f9a0118440b5f6d75a6fe15d05399442d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/12ba3f8f9a0118440b5f6d75a6fe15d05399442d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12ba3f8f9a0118440b5f6d75a6fe15d05399442d/comments", "author": null, "committer": null, "parents": [{"sha": "3aeb3655cf89356c86726d49316dcb957859971f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3aeb3655cf89356c86726d49316dcb957859971f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3aeb3655cf89356c86726d49316dcb957859971f"}], "stats": {"total": 15, "additions": 15, "deletions": 0}, "files": [{"sha": "1bf6dd468c188ee7d678e0425cb3b49b0568ad18", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12ba3f8f9a0118440b5f6d75a6fe15d05399442d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12ba3f8f9a0118440b5f6d75a6fe15d05399442d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=12ba3f8f9a0118440b5f6d75a6fe15d05399442d", "patch": "@@ -1,3 +1,9 @@\n+2004-06-02  Ziemowit Laski  <zlaski@apple.com>\n+\n+\t* lib/objc.exp (objc_target_compile): When running tests on\n+\tDarwin (Mac OS X), inform the linker about '-framework\n+\t'Foundation'.\n+\n 2004-06-02  Eric Christopher  <echristo@redhat.com>\n \n \t* gcc.c-torture/compile/20040602-1.c: New."}, {"sha": "d75f6f582ab8fff9ac6c06c81a0de643ea9d3077", "filename": "gcc/testsuite/lib/objc.exp", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12ba3f8f9a0118440b5f6d75a6fe15d05399442d/gcc%2Ftestsuite%2Flib%2Fobjc.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12ba3f8f9a0118440b5f6d75a6fe15d05399442d/gcc%2Ftestsuite%2Flib%2Fobjc.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fobjc.exp?ref=12ba3f8f9a0118440b5f6d75a6fe15d05399442d", "patch": "@@ -144,6 +144,7 @@ proc objc_target_compile { source dest type options } {\n     global TOOL_OPTIONS\n     global ld_library_path\n     global objc_libgcc_s_path\n+    global target_triplet\n \n     set ld_library_path \".:${objc_libgcc_s_path}\"\n     lappend options \"libs=-lobjc\"\n@@ -182,6 +183,14 @@ proc objc_target_compile { source dest type options } {\n \tlappend options \"additional_flags=${objc_link_flags}\"\n \tappend ld_library_path \":${libobjc_dir}\"\n     }\n+\n+    # If we are running on Darwin, we'll need to point the linker at \n+    # the Foundation framework, where many goodies (e.g., NSConstantString)\n+    # reside.\n+    if { [string match \"*-*-darwin*\" $target_triplet] } {\n+\tlappend options \"libs=-framework Foundation\"\n+    }\n+\n     lappend options \"compiler=$OBJC_UNDER_TEST\"\n \n     # On IRIX 6, we have to set variables akin to LD_LIBRARY_PATH, but"}]}