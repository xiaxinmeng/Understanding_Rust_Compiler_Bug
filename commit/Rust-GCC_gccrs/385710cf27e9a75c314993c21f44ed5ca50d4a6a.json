{"sha": "385710cf27e9a75c314993c21f44ed5ca50d4a6a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mzg1NzEwY2YyN2U5YTc1YzMxNDk5M2MyMWY0NGVkNWNhNTBkNGE2YQ==", "commit": {"author": {"name": "Jack Howarth", "email": "howarth@bromo.med.uc.edu", "date": "2012-10-26T17:34:59Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-10-26T17:34:59Z"}, "message": "re PR target/55061 (libbacktrace build fails during bootstrap on powerpc-apple-darwin9)\n\n\tPR target/55061\n\t* configure.ac: Check for _Unwind_GetIPInfo function declaration.\n\t* configure: Regenerate.\n\nFrom-SVN: r192853", "tree": {"sha": "5246f8eb551abdd7c816a0ada36100751a6995ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5246f8eb551abdd7c816a0ada36100751a6995ac"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/385710cf27e9a75c314993c21f44ed5ca50d4a6a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/385710cf27e9a75c314993c21f44ed5ca50d4a6a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/385710cf27e9a75c314993c21f44ed5ca50d4a6a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/385710cf27e9a75c314993c21f44ed5ca50d4a6a/comments", "author": null, "committer": null, "parents": [{"sha": "24db014b404691782133ca6717bf73f26047341d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24db014b404691782133ca6717bf73f26047341d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/24db014b404691782133ca6717bf73f26047341d"}], "stats": {"total": 45, "additions": 40, "deletions": 5}, "files": [{"sha": "7a39adccecd2ec0e9e204ccadadca2ae89c4b211", "filename": "libbacktrace/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/385710cf27e9a75c314993c21f44ed5ca50d4a6a/libbacktrace%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/385710cf27e9a75c314993c21f44ed5ca50d4a6a/libbacktrace%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2FChangeLog?ref=385710cf27e9a75c314993c21f44ed5ca50d4a6a", "patch": "@@ -1,3 +1,9 @@\n+2012-10-26  Jack Howarth  <howarth@bromo.med.uc.edu>\n+\n+\tPR target/55061\n+\t* configure.ac: Check for _Unwind_GetIPInfo function declaration.\n+\t* configure: Regenerate.\n+\n 2012-10-24  Ian Lance Taylor  <iant@google.com>\n \n \tPR target/55061"}, {"sha": "1f6a97b34aec9d20f28389177a7d78b7ca7fc227", "filename": "libbacktrace/configure", "status": "modified", "additions": 22, "deletions": 3, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/385710cf27e9a75c314993c21f44ed5ca50d4a6a/libbacktrace%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/385710cf27e9a75c314993c21f44ed5ca50d4a6a/libbacktrace%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2Fconfigure?ref=385710cf27e9a75c314993c21f44ed5ca50d4a6a", "patch": "@@ -11619,13 +11619,32 @@ $as_echo \"#define HAVE_GETIPINFO 1\" >>confdefs.h\n   fi\n \n else\n-  ac_fn_c_check_func \"$LINENO\" \"_Unwind_GetIPInfo\" \"ac_cv_func__Unwind_GetIPInfo\"\n-if test \"x$ac_cv_func__Unwind_GetIPInfo\" = x\"\"yes; then :\n+  ac_save_CFFLAGS=\"$CFLAGS\"\n+  CFLAGS=\"$CFLAGS -Werror-implicit-function-declaration\"\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for _Unwind_GetIPInfo\" >&5\n+$as_echo_n \"checking for _Unwind_GetIPInfo... \" >&6; }\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#include \"unwind.h\"\n+\tstruct _Unwind_Context *context;\n+\tint ip_before_insn = 0;\n+int\n+main ()\n+{\n+return _Unwind_GetIPInfo (context, &ip_before_insn);\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_c_try_compile \"$LINENO\"; then :\n   have_unwind_getipinfo=yes\n else\n   have_unwind_getipinfo=no\n fi\n-\n+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n+  CFLAGS=\"$ac_save_CFLAGS\"\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $have_unwind_getipinfo\" >&5\n+$as_echo \"$have_unwind_getipinfo\" >&6; }\n   if test \"$have_unwind_getipinfo\" = \"yes\"; then\n \n $as_echo \"#define HAVE_GETIPINFO 1\" >>confdefs.h"}, {"sha": "534f9276cdbe055fdc8654b0a04ba0d6a963dddb", "filename": "libbacktrace/configure.ac", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/385710cf27e9a75c314993c21f44ed5ca50d4a6a/libbacktrace%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/385710cf27e9a75c314993c21f44ed5ca50d4a6a/libbacktrace%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2Fconfigure.ac?ref=385710cf27e9a75c314993c21f44ed5ca50d4a6a", "patch": "@@ -129,8 +129,18 @@ AC_SUBST(WARN_FLAGS)\n if test -n \"${with_target_subdir}\"; then\n   GCC_CHECK_UNWIND_GETIPINFO\n else\n-  AC_CHECK_FUNC(_Unwind_GetIPInfo, [have_unwind_getipinfo=yes],\n-\t\t[have_unwind_getipinfo=no])\n+  ac_save_CFFLAGS=\"$CFLAGS\"\n+  CFLAGS=\"$CFLAGS -Werror-implicit-function-declaration\"\n+  AC_MSG_CHECKING([for _Unwind_GetIPInfo])\n+  AC_COMPILE_IFELSE(\n+    [AC_LANG_PROGRAM(\n+       [#include \"unwind.h\"\n+\tstruct _Unwind_Context *context;\n+\tint ip_before_insn = 0;],\n+\t[return _Unwind_GetIPInfo (context, &ip_before_insn);])],\n+\t[have_unwind_getipinfo=yes], [have_unwind_getipinfo=no])\n+  CFLAGS=\"$ac_save_CFLAGS\"\n+  AC_MSG_RESULT([$have_unwind_getipinfo])\n   if test \"$have_unwind_getipinfo\" = \"yes\"; then\n     AC_DEFINE(HAVE_GETIPINFO, 1, [Define if _Unwind_GetIPInfo is available.])\n   fi"}]}