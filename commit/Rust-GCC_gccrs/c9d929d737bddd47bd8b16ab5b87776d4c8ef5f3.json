{"sha": "c9d929d737bddd47bd8b16ab5b87776d4c8ef5f3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzlkOTI5ZDczN2JkZGQ0N2JkOGIxNmFiNWI4Nzc3NmQ0YzhlZjVmMw==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-10-07T07:50:32Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-10-07T07:50:32Z"}, "message": "(install-common-headers): Avoid ! operator, for assert.h.\n\nFrom-SVN: r2347", "tree": {"sha": "78bd1387dd2eb72ba9afe91f8a415dcc15c71ae7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/78bd1387dd2eb72ba9afe91f8a415dcc15c71ae7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c9d929d737bddd47bd8b16ab5b87776d4c8ef5f3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c9d929d737bddd47bd8b16ab5b87776d4c8ef5f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c9d929d737bddd47bd8b16ab5b87776d4c8ef5f3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c9d929d737bddd47bd8b16ab5b87776d4c8ef5f3/comments", "author": null, "committer": null, "parents": [{"sha": "84c29ce456e5b3acd527054353dfee6fcb1d64ff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84c29ce456e5b3acd527054353dfee6fcb1d64ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84c29ce456e5b3acd527054353dfee6fcb1d64ff"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "aca0377f4ea0f93a89b09d4c0b820d7828f1dca1", "filename": "gcc/Makefile.in", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c9d929d737bddd47bd8b16ab5b87776d4c8ef5f3/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c9d929d737bddd47bd8b16ab5b87776d4c8ef5f3/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=c9d929d737bddd47bd8b16ab5b87776d4c8ef5f3", "patch": "@@ -1491,8 +1491,16 @@ install-common-headers: install-dir $(USER_H) gvarargs.h gstdarg.h gstddef.h\n \tdone\n # Put assert.h in /usr/local/include, so it won't override GNU libc's assert.h.\n # Don't replace the assert.h already there if it is not from GCC.\n-\tif [ -f $(assertdir)/assert.h ] && ! grep \"__eprintf\" $(assertdir)/assert.h; \\\n-\tthen true; \\\n+# This code would be simpler if it tested for -f ... && ! grep ...\n+# but supposedly the ! operator is missing in sh on some systems.\n+\tif [ -f $(assertdir)/assert.h ]; \\\n+\tthen \\\n+\t  if grep \"__eprintf\" $(assertdir)/assert.h; \\\n+\t    rm -f $(assertdir)/assert.h; \\\n+\t    $(INSTALL_DATA) $(srcdir)/assert.h $(assertdir)/assert.h; \\\n+\t    chmod a-x $(assertdir)/include/assert.h; \\\n+\t  else true; \\\n+\t  fi; \\\n \telse \\\n \t  rm -f $(assertdir)/assert.h; \\\n \t  $(INSTALL_DATA) $(srcdir)/assert.h $(assertdir)/assert.h; \\"}]}