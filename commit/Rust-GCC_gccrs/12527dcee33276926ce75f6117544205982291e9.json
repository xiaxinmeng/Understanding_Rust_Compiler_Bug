{"sha": "12527dcee33276926ce75f6117544205982291e9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTI1MjdkY2VlMzMyNzY5MjZjZTc1ZjYxMTc1NDQyMDU5ODIyOTFlOQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2005-03-30T22:07:51Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2005-03-30T22:07:51Z"}, "message": "cgraph.h (struct cgraph_node): Add alias.\n\n        * cgraph.h (struct cgraph_node): Add alias.\n        * varasm.c (assemble_alias): Set it.\n        * cgraphunit.c (cgraph_assemble_pending_functions): Check it and\n        avoid calling cgraph_expand_function.\n\nFrom-SVN: r97284", "tree": {"sha": "2703a1a2856c88be6ea09ad01570de46dd943419", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2703a1a2856c88be6ea09ad01570de46dd943419"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/12527dcee33276926ce75f6117544205982291e9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12527dcee33276926ce75f6117544205982291e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/12527dcee33276926ce75f6117544205982291e9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12527dcee33276926ce75f6117544205982291e9/comments", "author": null, "committer": null, "parents": [{"sha": "7efa52a3e519324350c2d649264191c7b51344a6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7efa52a3e519324350c2d649264191c7b51344a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7efa52a3e519324350c2d649264191c7b51344a6"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "be4f8c255e447c42fec8995754eaf6dbaffcd4e2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12527dcee33276926ce75f6117544205982291e9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12527dcee33276926ce75f6117544205982291e9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=12527dcee33276926ce75f6117544205982291e9", "patch": "@@ -1,3 +1,10 @@\n+2005-03-30  Richard Henderson  <rth@redhat.com>\n+\n+\t* cgraph.h (struct cgraph_node): Add alias.\n+\t* varasm.c (assemble_alias): Set it.\n+\t* cgraphunit.c (cgraph_assemble_pending_functions): Check it and\n+\tavoid calling cgraph_expand_function.\n+\n 2005-03-30  Tom Tromey  <tromey@redhat.com>\n \n \t* tree.def (FILE_TYPE): Removed."}, {"sha": "b9a8d6e319fa3536be3d23592fb0d0240e3ffbde", "filename": "gcc/cgraph.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12527dcee33276926ce75f6117544205982291e9/gcc%2Fcgraph.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12527dcee33276926ce75f6117544205982291e9/gcc%2Fcgraph.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraph.h?ref=12527dcee33276926ce75f6117544205982291e9", "patch": "@@ -118,6 +118,8 @@ struct cgraph_node GTY((chain_next (\"%h.next\"), chain_prev (\"%h.previous\")))\n   bool analyzed;\n   /* Set when function is scheduled to be assembled.  */\n   bool output;\n+  /* Set for aliases once they got through assemble_alias.  */\n+  bool alias;\n };\n \n struct cgraph_edge GTY((chain_next (\"%h.next_caller\"), chain_prev (\"%h.prev_caller\")))"}, {"sha": "9fef33e9557f922b26c46153855f9d721724b0bc", "filename": "gcc/cgraphunit.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12527dcee33276926ce75f6117544205982291e9/gcc%2Fcgraphunit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12527dcee33276926ce75f6117544205982291e9/gcc%2Fcgraphunit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraphunit.c?ref=12527dcee33276926ce75f6117544205982291e9", "patch": "@@ -300,7 +300,9 @@ cgraph_assemble_pending_functions (void)\n \n       cgraph_nodes_queue = cgraph_nodes_queue->next_needed;\n       n->next_needed = NULL;\n-      if (!n->global.inlined_to && !DECL_EXTERNAL (n->decl))\n+      if (!n->global.inlined_to\n+\t  && !n->alias\n+\t  && !DECL_EXTERNAL (n->decl))\n \t{\n \t  cgraph_expand_function (n);\n \t  output = true;"}, {"sha": "cf323f4c31f206459a1a166d00a3d895d0e1012e", "filename": "gcc/varasm.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12527dcee33276926ce75f6117544205982291e9/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12527dcee33276926ce75f6117544205982291e9/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=12527dcee33276926ce75f6117544205982291e9", "patch": "@@ -4516,7 +4516,7 @@ assemble_alias (tree decl, tree target)\n \n   /* Allow aliases to aliases.  */\n   if (TREE_CODE (decl) == FUNCTION_DECL)\n-    cgraph_node (decl);\n+    cgraph_node (decl)->alias = true;\n   else\n     cgraph_varpool_node (decl)->alias = true;\n "}]}