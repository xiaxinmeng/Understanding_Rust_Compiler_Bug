{"sha": "9a8de998867158ee90e708f4545fbb5d1b6d3ccd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWE4ZGU5OTg4NjcxNThlZTkwZTcwOGY0NTQ1ZmJiNWQxYjZkM2NjZA==", "commit": {"author": {"name": "Bryce McKinlay", "email": "bryce@waitaki.otago.ac.nz", "date": "2001-12-16T06:09:46Z"}, "committer": {"name": "Bryce McKinlay", "email": "bryce@gcc.gnu.org", "date": "2001-12-16T06:09:46Z"}, "message": "decl.c (java_init_decl_processing): Build otable_type correctly.\n\n\t* decl.c (java_init_decl_processing): Build otable_type correctly.\n\totable_decl is an otable_type.\n\nFrom-SVN: r48062", "tree": {"sha": "25a5e2a5910a8a940426f11917da46314a2e3260", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/25a5e2a5910a8a940426f11917da46314a2e3260"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9a8de998867158ee90e708f4545fbb5d1b6d3ccd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a8de998867158ee90e708f4545fbb5d1b6d3ccd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9a8de998867158ee90e708f4545fbb5d1b6d3ccd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a8de998867158ee90e708f4545fbb5d1b6d3ccd/comments", "author": null, "committer": null, "parents": [{"sha": "97feffc2431bd5d94e162f8eeb583e28fcd2ab4c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97feffc2431bd5d94e162f8eeb583e28fcd2ab4c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97feffc2431bd5d94e162f8eeb583e28fcd2ab4c"}], "stats": {"total": 14, "additions": 9, "deletions": 5}, "files": [{"sha": "18970fa1e45b5d200e238ddea317b69df5d239ad", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a8de998867158ee90e708f4545fbb5d1b6d3ccd/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a8de998867158ee90e708f4545fbb5d1b6d3ccd/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=9a8de998867158ee90e708f4545fbb5d1b6d3ccd", "patch": "@@ -1,3 +1,8 @@\n+2001-12-16  Bryce McKinlay  <bryce@waitaki.otago.ac.nz>\n+\n+\t* decl.c (java_init_decl_processing): Build otable_type correctly.\n+\totable_decl is an otable_type.\n+\n 2001-12-15  Bryce McKinlay  <bryce@waitaki.otago.ac.nz>\n \n \t* java-tree.h (otable_methods, otable_decl, otable_syms_decl,"}, {"sha": "edf437c4184262cef9b96290dc70a0ecf430fa80", "filename": "gcc/java/decl.c", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a8de998867158ee90e708f4545fbb5d1b6d3ccd/gcc%2Fjava%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a8de998867158ee90e708f4545fbb5d1b6d3ccd/gcc%2Fjava%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fdecl.c?ref=9a8de998867158ee90e708f4545fbb5d1b6d3ccd", "patch": "@@ -614,7 +614,9 @@ java_init_decl_processing ()\n   dtable_type = make_node (RECORD_TYPE);\n   dtable_ptr_type = build_pointer_type (dtable_type);\n \n-  otable_type = make_node (RECORD_TYPE);\n+  one_elt_array_domain_type = build_index_type (integer_one_node);\n+  otable_type = build_array_type (integer_type_node, \n+\t\t\t\t  one_elt_array_domain_type);\n   otable_ptr_type = build_pointer_type (otable_type);\n \n   method_symbol_type = make_node (RECORD_TYPE);\n@@ -623,15 +625,12 @@ java_init_decl_processing ()\n   PUSH_FIELD (method_symbol_type, field, \"signature\", utf8const_ptr_type);\n   FINISH_RECORD (method_symbol_type);\n \n-  one_elt_array_domain_type = build_index_type (integer_one_node);\n   method_symbols_array_type = build_array_type (method_symbol_type, \n \t\t\t\t\t\tone_elt_array_domain_type);\n   method_symbols_array_ptr_type = build_pointer_type \n \t\t\t\t  (method_symbols_array_type);\n \n-  otable_decl = build_decl (VAR_DECL, get_identifier (\"otable\"), \n-\t\t\t    build_array_type (integer_type_node, \n-\t\t\t    one_elt_array_domain_type));\n+  otable_decl = build_decl (VAR_DECL, get_identifier (\"otable\"), otable_type);\n   DECL_EXTERNAL (otable_decl) = 1;\n   TREE_STATIC (otable_decl) = 1;\n   TREE_READONLY (otable_decl) = 1;"}]}