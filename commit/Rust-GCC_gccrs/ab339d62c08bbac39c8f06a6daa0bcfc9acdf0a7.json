{"sha": "ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWIzMzlkNjJjMDhiYmFjMzljOGYwNmE2ZGFhMGJjZmM5YWNkZjBhNw==", "commit": {"author": {"name": "Alexandre Oliva", "email": "oliva@dcc.unicamp.br", "date": "1998-09-28T15:52:01Z"}, "committer": {"name": "Alexandre Oliva", "email": "oliva@gcc.gnu.org", "date": "1998-09-28T15:52:01Z"}, "message": "configure.in: new flags --with-ld and --with-as...\n\n\t* configure.in: new flags --with-ld and --with-as, equivalent\n\tto setting LD and AS environment variables.  Test whether\n\tspecified arguments are GNU commands, and report them with\n\tchecking messages.  Use the specified AS for configure\n\ttests too.\n\t* configure: ditto\n\t* acconfig.h: add DEFAULT_ASSEMBLER and DEFAULT_LINKER\n\t* config.in: ditto\n\t* gcc.c (find_a_file): when looking for `as' and `ld', return\n\tthe DEFAULT program if it exists\n\t* collect2.c (main): use DEFAULT_LINKER if it exists\n\t* gcc.c (find_a_file): the test for existence of a full\n\tpathname was reversed\n\nFrom-SVN: r22629", "tree": {"sha": "2bad8419651e95a4a3dc2aec3bd669571187570a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2bad8419651e95a4a3dc2aec3bd669571187570a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7/comments", "author": null, "committer": null, "parents": [{"sha": "42820a49ddba6a9dc0d9acbde04adcf23a733619", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42820a49ddba6a9dc0d9acbde04adcf23a733619", "html_url": "https://github.com/Rust-GCC/gccrs/commit/42820a49ddba6a9dc0d9acbde04adcf23a733619"}], "stats": {"total": 350, "additions": 261, "deletions": 89}, "files": [{"sha": "19c29091dee8d03a9cd9619dc48bc17934047269", "filename": "gcc/ChangeLog", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7", "patch": "@@ -1,3 +1,20 @@\n+Mon Sep 28 19:41:24 1998  Alexandre Oliva  <oliva@dcc.unicamp.br>\n+\n+\t* configure.in: new flags --with-ld and --with-as, equivalent\n+\tto setting LD and AS environment variables.  Test whether\n+\tspecified arguments are GNU commands, and report them with\n+\tchecking messages.  Use the specified AS for configure\n+\ttests too.\n+\t* configure: ditto\n+\t* acconfig.h: add DEFAULT_ASSEMBLER and DEFAULT_LINKER\n+\t* config.in: ditto\n+\t* gcc.c (find_a_file): when looking for `as' and `ld', return\n+\tthe DEFAULT program if it exists\n+\t* collect2.c (main): use DEFAULT_LINKER if it exists\n+\n+\t* gcc.c (find_a_file): the test for existence of a full\n+\tpathname was reversed\n+\n Mon Sep 28 17:34:35 1998  Michael Meissner  <meissner@cygnus.com>\n \n \t* rs6000.h (ASM_OUTPUT_MI_THUNK): Only define on ELF systems."}, {"sha": "04875706983c8a15a7be397c96b20b7d4f259a7f", "filename": "gcc/acconfig.h", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7/gcc%2Facconfig.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7/gcc%2Facconfig.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Facconfig.h?ref=ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7", "patch": "@@ -86,4 +86,11 @@\n \n /* Define if you want expensive run-time checks. */\n #undef ENABLE_CHECKING\n+\n+/* Define to enable the use of a default assembler. */\n+#undef DEFAULT_ASSEMBLER\n+\n+/* Define to enable the use of a default linker. */\n+#undef DEFAULT_LINKER\n+\n @TOP@"}, {"sha": "7d2a5705eec224689bca6b55cb20ce2aaecab2fa", "filename": "gcc/collect2.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7/gcc%2Fcollect2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7/gcc%2Fcollect2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcollect2.c?ref=ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7", "patch": "@@ -1075,6 +1075,11 @@ main (argc, argv)\n   /* Try to discover a valid linker/nm/strip to use.  */\n \n   /* Maybe we know the right file to use (if not cross).  */\n+#ifdef DEFAULT_LINKER\n+  if (access (DEFAULT_LINKER, X_OK) == 0)\n+    ld_file_name = DEFAULT_LINKER;\n+  if (ld_file_name == 0)\n+#endif\n #ifdef REAL_LD_FILE_NAME\n   ld_file_name = find_a_file (&path, REAL_LD_FILE_NAME);\n   if (ld_file_name == 0)"}, {"sha": "05b300231b1ff21329db10be09f3dfbc0f95013a", "filename": "gcc/config.in", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7/gcc%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7/gcc%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.in?ref=ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7", "patch": "@@ -88,6 +88,13 @@\n /* Define if you want expensive run-time checks. */\n #undef ENABLE_CHECKING\n \n+/* Define to enable the use of a default assembler. */\n+#undef DEFAULT_ASSEMBLER\n+\n+/* Define to enable the use of a default linker. */\n+#undef DEFAULT_LINKER\n+\n+\n /* Define if you don't have vprintf but do have _doprnt.  */\n #undef HAVE_DOPRNT\n "}, {"sha": "3f952e0d56cf359ce1853954e944595776739e75", "filename": "gcc/configure", "status": "modified", "additions": 154, "deletions": 87, "changes": 241, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7", "patch": "@@ -13,8 +13,12 @@ ac_default_prefix=/usr/local\n # Any additions from configure.in:\n ac_help=\"$ac_help\n   --with-gnu-ld           arrange to work with GNU ld.\"\n+ac_help=\"$ac_help\n+  --with-ld               arrange to use the specified ld (full pathname).\"\n ac_help=\"$ac_help\n   --with-gnu-as           arrange to work with GNU as.\"\n+ac_help=\"$ac_help\n+  --with-as               arrange to use the specified as (full pathname).\"\n ac_help=\"$ac_help\n   --with-stabs            arrange to use stabs instead of host debug format.\"\n ac_help=\"$ac_help\n@@ -570,7 +574,7 @@ copy=cp\n # - two terminals occur directly after each other\n # - the path contains an element with a dot in it\n echo $ac_n \"checking LIBRARY_PATH variable\"\"... $ac_c\" 1>&6\n-echo \"configure:574: checking LIBRARY_PATH variable\" >&5\n+echo \"configure:578: checking LIBRARY_PATH variable\" >&5\n case ${LIBRARY_PATH} in\n   [:\\;]* | *[:\\;] | *[:\\;][:\\;]* |  *[:\\;]. | .[:\\;]*| . | *[:\\;].[:\\;]* )\n     library_path_setting=\"contains current directory\"\n@@ -595,7 +599,7 @@ fi\n # - two terminals occur directly after each other\n # - the path contains an element with a dot in it\n echo $ac_n \"checking GCC_EXEC_PREFIX variable\"\"... $ac_c\" 1>&6\n-echo \"configure:599: checking GCC_EXEC_PREFIX variable\" >&5\n+echo \"configure:603: checking GCC_EXEC_PREFIX variable\" >&5\n case ${GCC_EXEC_PREFIX} in\n   [:\\;]* | *[:\\;] | *[:\\;][:\\;]* |  *[:\\;]. | .[:\\;]*| . | *[:\\;].[:\\;]* )\n     gcc_exec_prefix_setting=\"contains current directory\"\n@@ -624,6 +628,25 @@ else\n fi\n \n \n+# With pre-defined ld\n+# Check whether --with-ld or --without-ld was given.\n+if test \"${with_ld+set}\" = set; then\n+  withval=\"$with_ld\"\n+  LD=\"$with_ld\"\n+fi\n+\n+if test x\"${LD+set}\" = x\"set\"; then\n+  if test ! -x \"$LD\"; then\n+    echo \"configure: warning: cannot execute: $LD: check --with-ld or env. var. LD\" 1>&2\n+  elif test \"GNU\" = `$LD -v </dev/null 2>&1 | sed '1s/^GNU.*/GNU/;q'`; then\n+    gnu_ld_flag=yes\n+  fi\n+  cat >> confdefs.h <<EOF\n+#define DEFAULT_LINKER \"$LD\"\n+EOF\n+\n+fi\n+\n # With GNU as\n # Check whether --with-gnu-as or --without-gnu-as was given.\n if test \"${with_gnu_as+set}\" = set; then\n@@ -634,6 +657,24 @@ else\n fi\n \n \n+# Check whether --with-as or --without-as was given.\n+if test \"${with_as+set}\" = set; then\n+  withval=\"$with_as\"\n+  AS=\"$with_as\"\n+fi\n+\n+if test x\"${AS+set}\" = x\"set\"; then\n+  if test ! -x \"$AS\"; then\n+    echo \"configure: warning: cannot execute: $AS: check --with-as or env. var. AS\" 1>&2\n+  elif test \"GNU\" = `$AS -v </dev/null 2>&1 | sed '1s/^GNU.*/GNU/;q'`; then\n+    gas_flag=yes\n+  fi\n+  cat >> confdefs.h <<EOF\n+#define DEFAULT_ASSEMBLER \"$AS\"\n+EOF\n+\n+fi\n+\n # With stabs\n # Check whether --with-stabs or --without-stabs was given.\n if test \"${with_stabs+set}\" = set; then\n@@ -859,7 +900,7 @@ else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n fi\n \n echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:863: checking host system type\" >&5\n+echo \"configure:904: checking host system type\" >&5\n \n host_alias=$host\n case \"$host_alias\" in\n@@ -880,7 +921,7 @@ host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$host\" 1>&6\n \n echo $ac_n \"checking target system type\"\"... $ac_c\" 1>&6\n-echo \"configure:884: checking target system type\" >&5\n+echo \"configure:925: checking target system type\" >&5\n \n target_alias=$target\n case \"$target_alias\" in\n@@ -898,7 +939,7 @@ target_os=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$target\" 1>&6\n \n echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:902: checking build system type\" >&5\n+echo \"configure:943: checking build system type\" >&5\n \n build_alias=$build\n case \"$build_alias\" in\n@@ -925,7 +966,7 @@ test \"$host_alias\" != \"$target_alias\" &&\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:929: checking for $ac_word\" >&5\n+echo \"configure:970: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -954,7 +995,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:958: checking for $ac_word\" >&5\n+echo \"configure:999: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1002,7 +1043,7 @@ fi\n fi\n \n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:1006: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:1047: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -1012,11 +1053,11 @@ ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS\n cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext <<EOF\n-#line 1016 \"configure\"\n+#line 1057 \"configure\"\n #include \"confdefs.h\"\n main(){return(0);}\n EOF\n-if { (eval echo configure:1020: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1061: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -1036,12 +1077,12 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:1040: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:1081: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:1045: checking whether we are using GNU C\" >&5\n+echo \"configure:1086: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1050,7 +1091,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1054: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1095: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -1065,7 +1106,7 @@ if test $ac_cv_prog_gcc = yes; then\n   ac_save_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\n   echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:1069: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:1110: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1104,7 +1145,7 @@ fi\n \n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:1108: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:1149: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1131,13 +1172,37 @@ else\n fi\n \n \n+echo $ac_n \"checking whether a default assembler was specified\"\"... $ac_c\" 1>&6\n+echo \"configure:1177: checking whether a default assembler was specified\" >&5\n+if test x\"${AS+set}\" = x\"set\"; then\n+    if test x\"$with_gas\" = x\"no\"; then\n+    \techo \"$ac_t\"\"yes ($AS)\" 1>&6\n+    else\n+\techo \"$ac_t\"\"yes ($AS - GNU as)\" 1>&6\n+    fi\n+else\n+    echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+echo $ac_n \"checking whether a default linker was specified\"\"... $ac_c\" 1>&6\n+echo \"configure:1189: checking whether a default linker was specified\" >&5\n+if test x\"${LD+set}\" = x\"set\"; then\n+    if test x\"$with_gnu_ld\" = x\"no\"; then\n+\techo \"$ac_t\"\"yes ($LD)\" 1>&6\n+    else\n+\techo \"$ac_t\"\"yes ($LD - GNU ld)\" 1>&6\n+    fi\n+else\n+    echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n # Find some useful tools\n for ac_prog in mawk gawk nawk awk\n do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1141: checking for $ac_word\" >&5\n+echo \"configure:1206: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AWK'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1168,7 +1233,7 @@ done\n # Extract the first word of \"flex\", so it can be a program name with args.\n set dummy flex; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1172: checking for $ac_word\" >&5\n+echo \"configure:1237: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LEX'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1201,15 +1266,15 @@ then\n   *) ac_lib=l ;;\n   esac\n   echo $ac_n \"checking for yywrap in -l$ac_lib\"\"... $ac_c\" 1>&6\n-echo \"configure:1205: checking for yywrap in -l$ac_lib\" >&5\n+echo \"configure:1270: checking for yywrap in -l$ac_lib\" >&5\n ac_lib_var=`echo $ac_lib'_'yywrap | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-l$ac_lib  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 1213 \"configure\"\n+#line 1278 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -1220,7 +1285,7 @@ int main() {\n yywrap()\n ; return 0; }\n EOF\n-if { (eval echo configure:1224: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1289: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -1243,7 +1308,7 @@ fi\n fi\n \n echo $ac_n \"checking whether ln works\"\"... $ac_c\" 1>&6\n-echo \"configure:1247: checking whether ln works\" >&5\n+echo \"configure:1312: checking whether ln works\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_LN'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1275,7 +1340,7 @@ else\n fi\n \n echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n-echo \"configure:1279: checking whether ln -s works\" >&5\n+echo \"configure:1344: checking whether ln -s works\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_LN_S'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1307,19 +1372,19 @@ else\n fi\n \n echo $ac_n \"checking for volatile\"\"... $ac_c\" 1>&6\n-echo \"configure:1311: checking for volatile\" >&5\n+echo \"configure:1376: checking for volatile\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_c_volatile'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1316 \"configure\"\n+#line 1381 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n volatile int foo;\n ; return 0; }\n EOF\n-if { (eval echo configure:1323: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1388: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_c_volatile=yes\n else\n@@ -1342,7 +1407,7 @@ fi\n # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1346: checking for $ac_word\" >&5\n+echo \"configure:1411: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1373,7 +1438,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1377: checking for $ac_word\" >&5\n+echo \"configure:1442: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_YACC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1413,7 +1478,7 @@ test -n \"$YACC\" || YACC=\"yacc\"\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:1417: checking for a BSD compatible install\" >&5\n+echo \"configure:1482: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1464,7 +1529,7 @@ test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n \n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:1468: checking how to run the C preprocessor\" >&5\n+echo \"configure:1533: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -1479,13 +1544,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 1483 \"configure\"\n+#line 1548 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1489: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1554: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   :\n@@ -1496,13 +1561,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 1500 \"configure\"\n+#line 1565 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1506: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1571: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   :\n@@ -1525,20 +1590,20 @@ fi\n echo \"$ac_t\"\"$CPP\" 1>&6\n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:1529: checking for ANSI C header files\" >&5\n+echo \"configure:1594: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1534 \"configure\"\n+#line 1599 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1542: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1607: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1555,7 +1620,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1559 \"configure\"\n+#line 1624 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -1573,7 +1638,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1577 \"configure\"\n+#line 1642 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -1594,7 +1659,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1598 \"configure\"\n+#line 1663 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -1605,7 +1670,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:1609: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1674: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -1629,12 +1694,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether time.h and sys/time.h may both be included\"\"... $ac_c\" 1>&6\n-echo \"configure:1633: checking whether time.h and sys/time.h may both be included\" >&5\n+echo \"configure:1698: checking whether time.h and sys/time.h may both be included\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_time'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1638 \"configure\"\n+#line 1703 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/time.h>\n@@ -1643,7 +1708,7 @@ int main() {\n struct tm *tp;\n ; return 0; }\n EOF\n-if { (eval echo configure:1647: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1712: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_header_time=yes\n else\n@@ -1664,20 +1729,20 @@ EOF\n fi\n \n echo $ac_n \"checking whether string.h and strings.h may both be included\"\"... $ac_c\" 1>&6\n-echo \"configure:1668: checking whether string.h and strings.h may both be included\" >&5\n+echo \"configure:1733: checking whether string.h and strings.h may both be included\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_header_string'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1673 \"configure\"\n+#line 1738 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n #include <strings.h>\n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1681: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1746: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_header_string=yes\n else\n@@ -1701,17 +1766,17 @@ for ac_hdr in limits.h stddef.h string.h strings.h stdlib.h time.h fcntl.h unist\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:1705: checking for $ac_hdr\" >&5\n+echo \"configure:1770: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1710 \"configure\"\n+#line 1775 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1715: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1780: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1741,17 +1806,17 @@ done\n # Check for thread headers.\n ac_safe=`echo \"thread.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for thread.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1745: checking for thread.h\" >&5\n+echo \"configure:1810: checking for thread.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1750 \"configure\"\n+#line 1815 \"configure\"\n #include \"confdefs.h\"\n #include <thread.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1755: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1820: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1775,17 +1840,17 @@ fi\n \n ac_safe=`echo \"pthread.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for pthread.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1779: checking for pthread.h\" >&5\n+echo \"configure:1844: checking for pthread.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1784 \"configure\"\n+#line 1849 \"configure\"\n #include \"confdefs.h\"\n #include <pthread.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1789: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1854: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1812,7 +1877,7 @@ fi\n # Extract the first word of \"gnatbind\", so it can be a program name with args.\n set dummy gnatbind; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1816: checking for $ac_word\" >&5\n+echo \"configure:1881: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gnat'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1842,20 +1907,20 @@ fi\n # See if the system preprocessor understands the ANSI C preprocessor\n # stringification operator.\n echo $ac_n \"checking whether cpp understands the stringify operator\"\"... $ac_c\" 1>&6\n-echo \"configure:1846: checking whether cpp understands the stringify operator\" >&5\n+echo \"configure:1911: checking whether cpp understands the stringify operator\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_c_have_stringify'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1851 \"configure\"\n+#line 1916 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n #define S(x)   #x\n char *test = S(foo);\n ; return 0; }\n EOF\n-if { (eval echo configure:1859: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1924: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_c_have_stringify=yes\n else\n@@ -1878,20 +1943,20 @@ fi\n # Use <inttypes.h> only if it exists,\n # doesn't clash with <sys/types.h>, and declares intmax_t.\n echo $ac_n \"checking for inttypes.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1882: checking for inttypes.h\" >&5\n+echo \"configure:1947: checking for inttypes.h\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_header_inttypes_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1887 \"configure\"\n+#line 1952 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <inttypes.h>\n int main() {\n intmax_t i = -1;\n ; return 0; }\n EOF\n-if { (eval echo configure:1895: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1960: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<EOF\n #define HAVE_INTTYPES_H 1\n@@ -1914,12 +1979,12 @@ for ac_func in strtoul bsearch strerror putenv popen bcopy bzero bcmp \\\n \tsysconf isascii gettimeofday strsignal\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1918: checking for $ac_func\" >&5\n+echo \"configure:1983: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1923 \"configure\"\n+#line 1988 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1942,7 +2007,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1946: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2011: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1971,12 +2036,12 @@ done\n #AC_CHECK_TYPE(wchar_t, unsigned int)\n \n echo $ac_n \"checking for vprintf\"\"... $ac_c\" 1>&6\n-echo \"configure:1975: checking for vprintf\" >&5\n+echo \"configure:2040: checking for vprintf\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vprintf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1980 \"configure\"\n+#line 2045 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vprintf(); below.  */\n@@ -1999,7 +2064,7 @@ vprintf();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2003: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2068: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vprintf=yes\"\n else\n@@ -2023,12 +2088,12 @@ fi\n \n if test \"$ac_cv_func_vprintf\" != yes; then\n echo $ac_n \"checking for _doprnt\"\"... $ac_c\" 1>&6\n-echo \"configure:2027: checking for _doprnt\" >&5\n+echo \"configure:2092: checking for _doprnt\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func__doprnt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2032 \"configure\"\n+#line 2097 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char _doprnt(); below.  */\n@@ -2051,7 +2116,7 @@ _doprnt();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2055: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2120: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func__doprnt=yes\"\n else\n@@ -2087,15 +2152,15 @@ fi\n \n \n echo $ac_n \"checking whether the printf functions support %p\"\"... $ac_c\" 1>&6\n-echo \"configure:2091: checking whether the printf functions support %p\" >&5\n+echo \"configure:2156: checking whether the printf functions support %p\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_func_printf_ptr'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   gcc_cv_func_printf_ptr=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2099 \"configure\"\n+#line 2164 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n \n@@ -2108,7 +2173,7 @@ main()\n   exit (p != q);\n }\n EOF\n-if { (eval echo configure:2112: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2177: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n then\n   gcc_cv_func_printf_ptr=yes\n else\n@@ -2137,12 +2202,12 @@ for ac_func in malloc realloc calloc free bcopy bzero bcmp \\\n \tstrsignal\n do\n echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2141: checking whether $ac_func must be declared\" >&5\n+echo \"configure:2206: checking whether $ac_func must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2146 \"configure\"\n+#line 2211 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2175,7 +2240,7 @@ int main() {\n char *(*pfn) = (char *(*)) $ac_func\n ; return 0; }\n EOF\n-if { (eval echo configure:2179: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2244: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_decl_needed_$ac_func=no\"\n else\n@@ -2204,12 +2269,12 @@ done\n for ac_func in getrlimit setrlimit\n do\n echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2208: checking whether $ac_func must be declared\" >&5\n+echo \"configure:2273: checking whether $ac_func must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2213 \"configure\"\n+#line 2278 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2246,7 +2311,7 @@ int main() {\n char *(*pfn) = (char *(*)) $ac_func\n ; return 0; }\n EOF\n-if { (eval echo configure:2250: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2315: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_decl_needed_$ac_func=no\"\n else\n@@ -2273,12 +2338,12 @@ done\n \n \n echo $ac_n \"checking for sys_siglist declaration in signal.h or unistd.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2277: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n+echo \"configure:2342: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_decl_sys_siglist'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2282 \"configure\"\n+#line 2347 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <signal.h>\n@@ -2290,7 +2355,7 @@ int main() {\n char *msg = *(sys_siglist + 1);\n ; return 0; }\n EOF\n-if { (eval echo configure:2294: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2359: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_decl_sys_siglist=yes\n else\n@@ -5474,11 +5539,13 @@ fi\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:5478: checking assembler alignment features\" >&5\n+echo \"configure:5543: checking assembler alignment features\" >&5\n gcc_cv_as=\n gcc_cv_as_alignment_features=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n-if test -x as$host_exeext; then\n+if test -x \"$AS\"; then\n+\tgcc_cv_as=$AS\n+elif test -x as$host_exeext; then\n \t# Build using assembler in the current directory.\n \tgcc_cv_as=./as$host_exeext\n elif test -f $gcc_cv_as_gas_srcdir/configure.in; then\n@@ -5543,7 +5610,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:5547: checking assembler subsection support\" >&5\n+echo \"configure:5614: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .subsection\n@@ -5779,7 +5846,7 @@ fi\n \n # Warn if using init_priority.\n echo $ac_n \"checking whether to enable init_priority by default\"\"... $ac_c\" 1>&6\n-echo \"configure:5783: checking whether to enable init_priority by default\" >&5\n+echo \"configure:5850: checking whether to enable init_priority by default\" >&5\n if test x$enable_init_priority != xyes; then\n   enable_init_priority=no\n fi"}, {"sha": "3010ed0a8551bdf32a0ad717464511cda8e3e0f3", "filename": "gcc/configure.in", "status": "modified", "additions": 50, "deletions": 1, "changes": 51, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7", "patch": "@@ -90,12 +90,37 @@ AC_ARG_WITH(gnu-ld,\n gnu_ld_flag=\"$with_gnu_ld\",\n gnu_ld_flag=no)\n \n+# With pre-defined ld\n+AC_ARG_WITH(ld,\n+[  --with-ld               arrange to use the specified ld (full pathname).],\n+LD=\"$with_ld\")\n+if test x\"${LD+set}\" = x\"set\"; then\n+  if test ! -x \"$LD\"; then\n+    AC_MSG_WARN([cannot execute: $LD: check --with-ld or env. var. LD])\n+  elif test \"GNU\" = `$LD -v </dev/null 2>&1 | sed '1s/^GNU.*/GNU/;q'`; then\n+    gnu_ld_flag=yes\n+  fi\n+  AC_DEFINE_UNQUOTED(DEFAULT_LINKER,\"$LD\")\n+fi\n+\n # With GNU as\n AC_ARG_WITH(gnu-as,\n [  --with-gnu-as           arrange to work with GNU as.],\n gas_flag=\"$with_gnu_as\",\n gas_flag=no)\n \n+AC_ARG_WITH(as,\n+[  --with-as               arrange to use the specified as (full pathname).],\n+AS=\"$with_as\")\n+if test x\"${AS+set}\" = x\"set\"; then\n+  if test ! -x \"$AS\"; then\n+    AC_MSG_WARN([cannot execute: $AS: check --with-as or env. var. AS])\n+  elif test \"GNU\" = `$AS -v </dev/null 2>&1 | sed '1s/^GNU.*/GNU/;q'`; then\n+    gas_flag=yes\n+  fi\n+  AC_DEFINE_UNQUOTED(DEFAULT_ASSEMBLER,\"$AS\")\n+fi\n+\n # With stabs\n AC_ARG_WITH(stabs,\n [  --with-stabs            arrange to use stabs instead of host debug format.],\n@@ -254,6 +279,28 @@ AC_SUBST(stage1_warn_cflags)\n \n AC_PROG_MAKE_SET\n \n+AC_MSG_CHECKING([whether a default assembler was specified])\n+if test x\"${AS+set}\" = x\"set\"; then\n+    if test x\"$with_gas\" = x\"no\"; then\n+    \tAC_MSG_RESULT([yes ($AS)])\n+    else\n+\tAC_MSG_RESULT([yes ($AS - GNU as)])\n+    fi\n+else\n+    AC_MSG_RESULT(no)\n+fi\n+\n+AC_MSG_CHECKING([whether a default linker was specified])\n+if test x\"${LD+set}\" = x\"set\"; then\n+    if test x\"$with_gnu_ld\" = x\"no\"; then\n+\tAC_MSG_RESULT([yes ($LD)])\n+    else\n+\tAC_MSG_RESULT([yes ($LD - GNU ld)])\n+    fi\n+else\n+    AC_MSG_RESULT(no)\n+fi\n+\n # Find some useful tools\n AC_PROG_AWK\n AC_PROG_LEX\n@@ -3621,7 +3668,9 @@ AC_MSG_CHECKING(assembler alignment features)\n gcc_cv_as=\n gcc_cv_as_alignment_features=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n-if test -x as$host_exeext; then\n+if test -x \"$AS\"; then\n+\tgcc_cv_as=$AS\n+elif test -x as$host_exeext; then\n \t# Build using assembler in the current directory.\n \tgcc_cv_as=./as$host_exeext\n elif test -f $gcc_cv_as_gas_srcdir/configure.in; then"}, {"sha": "64fa16db3e50c8d51e73b04db862b6d698e8016e", "filename": "gcc/gcc.c", "status": "modified", "additions": 21, "deletions": 1, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=ab339d62c08bbac39c8f06a6daa0bcfc9acdf0a7", "patch": "@@ -1983,6 +1983,26 @@ find_a_file (pprefix, name, mode)\n   struct prefix_list *pl;\n   int len = pprefix->max_len + strlen (name) + strlen (file_suffix) + 1;\n \n+#ifdef DEFAULT_ASSEMBLER\n+  if (! strcmp(name, \"as\") && access (DEFAULT_ASSEMBLER, mode) == 0) {\n+    name = DEFAULT_ASSEMBLER;\n+    len = strlen(name)+1;\n+    temp = xmalloc (len);\n+    strcpy (temp, name);\n+    return temp;\n+  }\n+#endif\n+\n+#ifdef DEFAULT_LINKER\n+  if (! strcmp(name, \"ld\") && access (DEFAULT_LINKER, mode) == 0) {\n+    name = DEFAULT_LINKER;\n+    len = strlen(name)+1;\n+    temp = xmalloc (len);\n+    strcpy (temp, name);\n+    return temp;\n+  }\n+#endif\n+\n   if (machine_suffix)\n     len += strlen (machine_suffix);\n \n@@ -1995,7 +2015,7 @@ find_a_file (pprefix, name, mode)\n       || (DIR_SEPARATOR == '\\\\' && name[1] == ':'\n \t  && (name[2] == DIR_SEPARATOR || name[2] == '/')))\n     {\n-      if (access (name, mode))\n+      if (access (name, mode) == 0)\n \t{\n \t  strcpy (temp, name);\n \t  return temp;"}]}