{"sha": "103bc4db7665a03bf2390ccc8ceca0dc5a7a81b7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTAzYmM0ZGI3NjY1YTAzYmYyMzkwY2NjOGNlY2EwZGM1YTdhODFiNw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2020-02-25T08:05:57Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2020-02-25T08:05:57Z"}, "message": "testsuite: Fix recently added ipa testcases [PR93763]\n\nSeems the test has been badly reduced (if the original doesn't emit\nwarnings, it is always better in the reduction script avoid introducing new\nones).\nAlso, the g++.dg/ipa/ test fails with -std=c++98 because it is written in\nC++11.\n\n2020-02-25  Jakub Jelinek  <jakub@redhat.com>\n\n\tPR ipa/93763\n\t* gcc.dg/ipa/pr93763.c: Adjust the test so that it compiles without\n\twarnings and still ICEs before the ipa-cp.c fix.\n\t* g++.dg/ipa/pr93763.C: Require c++11 effective target.", "tree": {"sha": "79cefa33fb6642c6faf6ec1626ac1f789ba7a7c6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/79cefa33fb6642c6faf6ec1626ac1f789ba7a7c6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/103bc4db7665a03bf2390ccc8ceca0dc5a7a81b7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/103bc4db7665a03bf2390ccc8ceca0dc5a7a81b7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/103bc4db7665a03bf2390ccc8ceca0dc5a7a81b7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/103bc4db7665a03bf2390ccc8ceca0dc5a7a81b7/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7b60f3ba7660ad8697843ed8d0198449b9ea0a90", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b60f3ba7660ad8697843ed8d0198449b9ea0a90", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b60f3ba7660ad8697843ed8d0198449b9ea0a90"}], "stats": {"total": 35, "additions": 22, "deletions": 13}, "files": [{"sha": "153e4ee10e772fcdb9e5a26dbabc5db911b86503", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/103bc4db7665a03bf2390ccc8ceca0dc5a7a81b7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/103bc4db7665a03bf2390ccc8ceca0dc5a7a81b7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=103bc4db7665a03bf2390ccc8ceca0dc5a7a81b7", "patch": "@@ -1,5 +1,10 @@\n 2020-02-25  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR ipa/93763\n+\t* gcc.dg/ipa/pr93763.c: Adjust the test so that it compiles without\n+\twarnings and still ICEs before the ipa-cp.c fix.\n+\t* g++.dg/ipa/pr93763.C: Require c++11 effective target.\n+\n \tPR translation/93864\n \t* objc.dg/encode-2.m: Fix comment typo paramter -> parameter.\n \t* obj-c++.dg/encode-4.mm: Likewise."}, {"sha": "13ab2d57f603500e4a94b786ba9da338cbfaae5f", "filename": "gcc/testsuite/g++.dg/ipa/pr93763.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/103bc4db7665a03bf2390ccc8ceca0dc5a7a81b7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fpr93763.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/103bc4db7665a03bf2390ccc8ceca0dc5a7a81b7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fpr93763.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fpr93763.C?ref=103bc4db7665a03bf2390ccc8ceca0dc5a7a81b7", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-do compile } */\n+/* { dg-do compile { target c++11 } } */\n /* { dg-options \"-O3\" } */\n \n struct search_param {"}, {"sha": "aa2e60c5fc70a6299c485d2dc3d812a719f69efb", "filename": "gcc/testsuite/gcc.dg/ipa/pr93763.c", "status": "modified", "additions": 16, "deletions": 12, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/103bc4db7665a03bf2390ccc8ceca0dc5a7a81b7/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpr93763.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/103bc4db7665a03bf2390ccc8ceca0dc5a7a81b7/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpr93763.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpr93763.c?ref=103bc4db7665a03bf2390ccc8ceca0dc5a7a81b7", "patch": "@@ -3,44 +3,48 @@\n \n typedef struct a a;\n struct a {\n-  a *b\n+  a *b;\n } d;\n-e, k, ah, al;\n-f(aa) {\n+int e, k, ah, al;\n+void h(void);\n+void\n+f(aa) int aa; {\n   if (aa & 1)\n     goto g;\n   f(aa | 2);\n g:\n   h();\n }\n+void i();\n+void\n l() {\n-  {\n     f(072);\n     i(e, d, 92);\n-  }\n }\n+void\n ag() {\n-  { i(e, d, 36); }\n+  i(e, d, 36);\n }\n+void j();\n+void\n ai(a *m, a *n, unsigned aa) {\n   f(aa);\n   j(k, l, ah, 1);\n }\n+void\n j(int c, a m, int aj, int aa) {\n   int ak = aa;\n-  { i(e, d, ak); }\n+  i(e, d, ak);\n }\n+void\n i(int c, a *m, unsigned aa) {\n-  {\n-    {             i(c, (*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(\n+  i(c, (*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(\n *(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(\n *(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*(*m).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b)\n .b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b)\n .b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b)\n .b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b)\n .b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b).b, 0);\n-    }\n-  }\n   int am = aa;\n-  ai(ag, al, am);\n+  ai((a *) (void *) ag, (a *) (__INTPTR_TYPE__) al, am);\n }"}]}