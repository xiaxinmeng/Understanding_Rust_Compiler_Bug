{"sha": "34c10b3bbde4bb401d78c8230bfce893e08f6dce", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzRjMTBiM2JiZGU0YmI0MDFkNzhjODIzMGJmY2U4OTNlMDhmNmRjZQ==", "commit": {"author": {"name": "Janus Weil", "email": "janus@gcc.gnu.org", "date": "2011-02-18T22:34:34Z"}, "committer": {"name": "Janus Weil", "email": "janus@gcc.gnu.org", "date": "2011-02-18T22:34:34Z"}, "message": "re PR fortran/47789 ([F03] Structure constructor of type extending DT with no components)\n\n2011-02-18  Janus Weil  <janus@gcc.gnu.org>\n\n\tPR fortran/47789\n\t* primary.c (gfc_match_structure_constructor): Handle empty parent\n\ttypes.\n\n2011-02-18  Janus Weil  <janus@gcc.gnu.org>\n\n\tPR fortran/47789\n\t* gfortran.dg/derived_constructor_comps_4.f90: New.\n\nFrom-SVN: r170291", "tree": {"sha": "ade38c5085e9549d56a88b49e9e81a2e8612d7bc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ade38c5085e9549d56a88b49e9e81a2e8612d7bc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/34c10b3bbde4bb401d78c8230bfce893e08f6dce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/34c10b3bbde4bb401d78c8230bfce893e08f6dce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/34c10b3bbde4bb401d78c8230bfce893e08f6dce", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/34c10b3bbde4bb401d78c8230bfce893e08f6dce/comments", "author": {"login": "janusw", "id": 484108, "node_id": "MDQ6VXNlcjQ4NDEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/484108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janusw", "html_url": "https://github.com/janusw", "followers_url": "https://api.github.com/users/janusw/followers", "following_url": "https://api.github.com/users/janusw/following{/other_user}", "gists_url": "https://api.github.com/users/janusw/gists{/gist_id}", "starred_url": "https://api.github.com/users/janusw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janusw/subscriptions", "organizations_url": "https://api.github.com/users/janusw/orgs", "repos_url": "https://api.github.com/users/janusw/repos", "events_url": "https://api.github.com/users/janusw/events{/privacy}", "received_events_url": "https://api.github.com/users/janusw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "janusw", "id": 484108, "node_id": "MDQ6VXNlcjQ4NDEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/484108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janusw", "html_url": "https://github.com/janusw", "followers_url": "https://api.github.com/users/janusw/followers", "following_url": "https://api.github.com/users/janusw/following{/other_user}", "gists_url": "https://api.github.com/users/janusw/gists{/gist_id}", "starred_url": "https://api.github.com/users/janusw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janusw/subscriptions", "organizations_url": "https://api.github.com/users/janusw/orgs", "repos_url": "https://api.github.com/users/janusw/repos", "events_url": "https://api.github.com/users/janusw/events{/privacy}", "received_events_url": "https://api.github.com/users/janusw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "56ee2f5a356d5e0067cb233c759315b1f6fa51ff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56ee2f5a356d5e0067cb233c759315b1f6fa51ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56ee2f5a356d5e0067cb233c759315b1f6fa51ff"}], "stats": {"total": 35, "additions": 35, "deletions": 0}, "files": [{"sha": "d7dff6d435d640a7077c33dfe2e8c08e21e23a9c", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/34c10b3bbde4bb401d78c8230bfce893e08f6dce/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/34c10b3bbde4bb401d78c8230bfce893e08f6dce/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=34c10b3bbde4bb401d78c8230bfce893e08f6dce", "patch": "@@ -1,3 +1,9 @@\n+2011-02-18  Janus Weil  <janus@gcc.gnu.org>\n+\n+\tPR fortran/47789\n+\t* primary.c (gfc_match_structure_constructor): Handle empty parent\n+\ttypes.\n+\n 2011-02-18  Tobias Burnus\n \n \tPR fortran/47775"}, {"sha": "4cda7a183d8ac585d37e10d45e694a43f49bcb76", "filename": "gcc/fortran/primary.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/34c10b3bbde4bb401d78c8230bfce893e08f6dce/gcc%2Ffortran%2Fprimary.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/34c10b3bbde4bb401d78c8230bfce893e08f6dce/gcc%2Ffortran%2Fprimary.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fprimary.c?ref=34c10b3bbde4bb401d78c8230bfce893e08f6dce", "patch": "@@ -2310,6 +2310,12 @@ gfc_match_structure_constructor (gfc_symbol *sym, gfc_expr **result,\n \t{\n \t  gfc_component *this_comp = NULL;\n \n+\t  if (comp == sym->components && sym->attr.extension\n+\t      && comp->ts.type == BT_DERIVED\n+\t      && comp->ts.u.derived->attr.zero_comp)\n+\t    /* Skip empty parents.  */ \n+\t    comp = comp->next;\n+\n \t  if (!comp_head)\n \t    comp_tail = comp_head = gfc_get_structure_ctor_component ();\n \t  else"}, {"sha": "54665c4fc459a9fbc82506b0ffdfcfa1dc3bf280", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/34c10b3bbde4bb401d78c8230bfce893e08f6dce/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/34c10b3bbde4bb401d78c8230bfce893e08f6dce/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=34c10b3bbde4bb401d78c8230bfce893e08f6dce", "patch": "@@ -1,3 +1,8 @@\n+2011-02-18  Janus Weil  <janus@gcc.gnu.org>\n+\n+\tPR fortran/47789\n+\t* gfortran.dg/derived_constructor_comps_4.f90: New.\n+\n 2011-02-18  Tobias Burnus\n \n \tPR fortran/47775"}, {"sha": "e70551838ae643fb424f496f1b374116309913ee", "filename": "gcc/testsuite/gfortran.dg/derived_constructor_comps_4.f90", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/34c10b3bbde4bb401d78c8230bfce893e08f6dce/gcc%2Ftestsuite%2Fgfortran.dg%2Fderived_constructor_comps_4.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/34c10b3bbde4bb401d78c8230bfce893e08f6dce/gcc%2Ftestsuite%2Fgfortran.dg%2Fderived_constructor_comps_4.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fderived_constructor_comps_4.f90?ref=34c10b3bbde4bb401d78c8230bfce893e08f6dce", "patch": "@@ -0,0 +1,18 @@\n+! { dg-do run }\n+!\n+! PR 47789: [F03] Structure constructor of type extending DT with no components\n+!\n+! Contributed by eddyg_61-bugzilla@yahoo.it\n+\n+type:: one\n+end type\n+\n+type, extends(one) :: two\n+  integer :: a\n+end type\n+\n+type(two) :: wo = two(6)\n+\n+if (wo%a /= 6) call abort()\n+\n+end"}]}