{"sha": "217d5beaff9987a9845155fc796322b5f8bb876d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjE3ZDViZWFmZjk5ODdhOTg0NTE1NWZjNzk2MzIyYjVmOGJiODc2ZA==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2020-12-17T16:03:07Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2020-12-17T16:19:20Z"}, "message": "libstdc++: Test errno macros directly for all targets [PR 93151]\n\nThis applies the same changes to the djgpp and mingw versions of\nerror_constants.h as r11-6137 did for the generic version.\n\nAll of these constants are defined as macros by <errno.h> on these\ntargets, so we can just test the macro directly instead of checking for\nit at configure time.\n\nlibstdc++-v3/ChangeLog:\n\n\t* config/os/djgpp/error_constants.h: Test POSIX errno macros\n\tdirectly, instead of corresponding _GLIBCXX_HAVE_EXXX macros.\n\t* config/os/mingw32-w64/error_constants.h: Likewise.\n\t* config/os/mingw32/error_constants.h: Likewise.", "tree": {"sha": "ce7eb7eca4aec61d38aea8fd60de2145afce9150", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ce7eb7eca4aec61d38aea8fd60de2145afce9150"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/217d5beaff9987a9845155fc796322b5f8bb876d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/217d5beaff9987a9845155fc796322b5f8bb876d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/217d5beaff9987a9845155fc796322b5f8bb876d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/217d5beaff9987a9845155fc796322b5f8bb876d/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b2bc1bb6cabf30f332938d648fe6432a3a9d27b6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2bc1bb6cabf30f332938d648fe6432a3a9d27b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b2bc1bb6cabf30f332938d648fe6432a3a9d27b6"}], "stats": {"total": 78, "additions": 39, "deletions": 39}, "files": [{"sha": "8f947e69e37c8db7d68d71db8355a3315a724f5f", "filename": "libstdc++-v3/config/os/djgpp/error_constants.h", "status": "modified", "additions": 14, "deletions": 14, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/217d5beaff9987a9845155fc796322b5f8bb876d/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fdjgpp%2Ferror_constants.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/217d5beaff9987a9845155fc796322b5f8bb876d/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fdjgpp%2Ferror_constants.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fdjgpp%2Ferror_constants.h?ref=217d5beaff9987a9845155fc796322b5f8bb876d", "patch": "@@ -48,7 +48,7 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       bad_address = \t\t\t\tEFAULT,\n       bad_file_descriptor = \t\t\tEBADF,\n \n-#ifdef _GLIBCXX_HAVE_EBADMSG\n+#ifdef EBADMSG\n       bad_message = \t\t\t\tEBADMSG,\n #endif\n \n@@ -68,7 +68,7 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       function_not_supported = \t\t\tENOSYS,\n //    host_unreachable = \t\t\tEHOSTUNREACH,\n \n-#ifdef _GLIBCXX_HAVE_EIDRM\n+#ifdef EIDRM\n       identifier_removed = \t\t\tEIDRM,\n #endif\n \n@@ -86,21 +86,21 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n //    no_buffer_space = \t\t\tENOBUFS,\n       no_child_process = \t\t\tECHILD,\n \n-#ifdef _GLIBCXX_HAVE_ENOLINK\n+#ifdef ENOLINK\n       no_link = \t\t\t\tENOLINK,\n #endif\n \n       no_lock_available = \t\t\tENOLCK,\n \n-#ifdef _GLIBCXX_HAVE_ENODATA\n+#ifdef ENODATA\n       no_message_available = \t\t\tENODATA,\n #endif\n \n //    no_message = \t\t\t\tENOMSG,\n //    no_protocol_option = \t\t\tENOPROTOOPT,\n       no_space_on_device = \t\t\tENOSPC,\n \n-#ifdef _GLIBCXX_HAVE_ENOSR\n+#ifdef ENOSR\n       no_stream_resources = \t\t\tENOSR,\n #endif\n \n@@ -111,18 +111,18 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       not_a_directory = \t\t\tENOTDIR,\n //    not_a_socket = \t\t\t\tENOTSOCK,\n \n-#ifdef _GLIBCXX_HAVE_ENOSTR\n+#ifdef ENOSTR\n       not_a_stream = \t\t\t\tENOSTR,\n #endif\n \n //    not_connected = \t\t\t\tENOTCONN,\n       not_enough_memory = \t\t\tENOMEM,\n \n-#ifdef _GLIBCXX_HAVE_ENOTSUP\n+#ifdef ENOTSUP\n       not_supported = \t\t\t\tENOTSUP,\n #endif\n \n-#ifdef _GLIBCXX_HAVE_ECANCELED\n+#ifdef ECANCELED\n       operation_canceled = \t\t\tECANCELED,\n #endif\n \n@@ -131,13 +131,13 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n //    operation_not_supported = \t\tEOPNOTSUPP,\n //    operation_would_block = \t\t\tEWOULDBLOCK,\n \n-#ifdef _GLIBCXX_HAVE_EOWNERDEAD\n+#ifdef EOWNERDEAD\n       owner_dead = \t\t\t\tEOWNERDEAD,\n #endif\n \n       permission_denied = \t\t\tEACCES,\n \n-#ifdef _GLIBCXX_HAVE_EPROTO\n+#ifdef EPROTO\n       protocol_error = \t\t\t\tEPROTO,\n #endif\n \n@@ -147,15 +147,15 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       resource_unavailable_try_again = \t\tEAGAIN,\n       result_out_of_range = \t\t\tERANGE,\n \n-#ifdef _GLIBCXX_HAVE_ENOTRECOVERABLE\n+#ifdef ENOTRECOVERABLE\n       state_not_recoverable = \t\t\tENOTRECOVERABLE,\n #endif\n \n-#ifdef _GLIBCXX_HAVE_ETIME\n+#ifdef ETIME\n       stream_timeout = \t\t\t\tETIME,\n #endif\n \n-#ifdef _GLIBCXX_HAVE_ETXTBSY\n+#ifdef ETXTBSY\n       text_file_busy = \t\t\t\tETXTBSY,\n #endif\n \n@@ -165,7 +165,7 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       too_many_links = \t\t\t\tEMLINK,\n       too_many_symbolic_link_levels = \t\tELOOP,\n \n-#ifdef _GLIBCXX_HAVE_EOVERFLOW\n+#ifdef EOVERFLOW\n       value_too_large = \t\t\tEOVERFLOW,\n #endif\n "}, {"sha": "3534c3e11b7f5828dccc0e284727a34ea4cbd8f2", "filename": "libstdc++-v3/config/os/mingw32-w64/error_constants.h", "status": "modified", "additions": 18, "deletions": 18, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/217d5beaff9987a9845155fc796322b5f8bb876d/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fmingw32-w64%2Ferror_constants.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/217d5beaff9987a9845155fc796322b5f8bb876d/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fmingw32-w64%2Ferror_constants.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fmingw32-w64%2Ferror_constants.h?ref=217d5beaff9987a9845155fc796322b5f8bb876d", "patch": "@@ -49,7 +49,7 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       argument_out_of_domain = \t\t\tEDOM,\n       bad_address = \t\t\t\tEFAULT,\n       bad_file_descriptor = \t\t\tEBADF,\n-#ifdef _GLIBCXX_HAVE_EBADMSG\n+#ifdef EBADMSG\n       bad_message = \t\t\t\tEBADMSG,\n #endif\n       broken_pipe = \t\t\t\tEPIPE,\n@@ -67,7 +67,7 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       filename_too_long = \t\t\tENAMETOOLONG,\n       function_not_supported = \t\t\tENOSYS,\n       host_unreachable = \t\t\tEHOSTUNREACH,\n-#ifdef _GLIBCXX_HAVE_EIDRM\n+#ifdef EIDRM\n       identifier_removed = \t\t\tEIDRM,\n #endif\n       illegal_byte_sequence = \t\t\tEILSEQ,\n@@ -82,24 +82,24 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       network_reset = \t\t\t\tENETRESET,\n       network_unreachable = \t\t\tENETUNREACH,\n       no_buffer_space = \t\t\tENOBUFS,\n-#ifdef _GLIBCXX_HAVE_ECHILD\n+#ifdef ECHILD\n       no_child_process = \t\t\tECHILD,\n #endif\n-#ifdef _GLIBCXX_HAVE_ENOLINK\n+#ifdef ENOLINK\n       no_link = \t\t\t\tENOLINK,\n #endif\n       no_lock_available = \t\t\tENOLCK,\n-#ifdef _GLIBCXX_HAVE_ENODATA\n+#ifdef ENODATA\n       no_message_available = \t\t\tENODATA,\n #endif\n-#ifdef _GLIBCXX_HAVE_ENOMSG\n+#ifdef ENOMSG\n       no_message = \t\t\t\tENOMSG,\n #endif\n       no_protocol_option = \t\t\tENOPROTOOPT,\n-#ifdef _GLIBCXX_HAVE_ENOSPC\n+#ifdef ENOSPC\n       no_space_on_device = \t\t\tENOSPC,\n #endif\n-#ifdef _GLIBCXX_HAVE_ENOSR\n+#ifdef ENOSR\n       no_stream_resources = \t\t\tENOSR,\n #endif\n       no_such_device_or_address = \t\tENXIO,\n@@ -108,24 +108,24 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       no_such_process = \t\t\tESRCH,\n       not_a_directory = \t\t\tENOTDIR,\n       not_a_socket = \t\t\t\tENOTSOCK,\n-#ifdef _GLIBCXX_HAVE_ENOSTR\n+#ifdef ENOSTR\n       not_a_stream = \t\t\t\tENOSTR,\n #endif\n       not_connected = \t\t\t\tENOTCONN,\n       not_enough_memory = \t\t\tENOMEM,\n-#ifdef _GLIBCXX_HAVE_ENOTSUP\n+#ifdef ENOTSUP\n       not_supported = \t\t\t\tENOTSUP,\n #endif\n       operation_canceled = \t\t\tECANCELED,\n       operation_in_progress = \t\t\tEINPROGRESS,\n-#ifdef _GLIBCXX_HAVE_EPERM\n+#ifdef EPERM\n       operation_not_permitted = \t\tEPERM,\n #endif\n       operation_not_supported = \t\tEOPNOTSUPP,\n-#ifdef _GLIBCXX_HAVE_EWOULDBLOCK\n+#ifdef EWOULDBLOCK\n       operation_would_block = \t\t\tEWOULDBLOCK,\n #endif\n-#ifdef _GLIBCXX_HAVE_EOWNERDEAD\n+#ifdef EOWNERDEAD\n       owner_dead = \t\t\t\tEOWNERDEAD,\n #endif\n       permission_denied = \t\t\tEACCES,\n@@ -135,23 +135,23 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       resource_deadlock_would_occur = \t\tEDEADLK,\n       resource_unavailable_try_again = \t\tEAGAIN,\n       result_out_of_range = \t\t\tERANGE,\n-#ifdef _GLIBCXX_HAVE_ENOTRECOVERABLE\n+#ifdef ENOTRECOVERABLE\n       state_not_recoverable = \t\t\tENOTRECOVERABLE,\n #endif\n-#ifdef _GLIBCXX_HAVE_ETIME\n+#ifdef ETIME\n       stream_timeout = \t\t\t\tETIME,\n #endif\n-#ifdef _GLIBCXX_HAVE_ETXTBSY\n+#ifdef ETXTBSY\n       text_file_busy = \t\t\t\tETXTBSY,\n #endif\n-#ifdef _GLIBCXX_HAVE_ETIMEDOUT\n+#ifdef ETIMEDOUT\n       timed_out = \t\t\t\tETIMEDOUT,\n #endif\n       too_many_files_open_in_system = \t\tENFILE,\n       too_many_files_open = \t\t\tEMFILE,\n       too_many_links = \t\t\t\tEMLINK,\n       too_many_symbolic_link_levels = \t\tELOOP,\n-#ifdef _GLIBCXX_HAVE_EOVERFLOW\n+#ifdef EOVERFLOW\n       value_too_large = \t\t\tEOVERFLOW,\n #endif\n       wrong_protocol_type = \t\t\tEPROTOTYPE"}, {"sha": "2222c5227c4eb2ca3bfc2dca6acf918d9253a1b9", "filename": "libstdc++-v3/config/os/mingw32/error_constants.h", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/217d5beaff9987a9845155fc796322b5f8bb876d/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fmingw32%2Ferror_constants.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/217d5beaff9987a9845155fc796322b5f8bb876d/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fmingw32%2Ferror_constants.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fmingw32%2Ferror_constants.h?ref=217d5beaff9987a9845155fc796322b5f8bb876d", "patch": "@@ -78,15 +78,15 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n //    network_reset = \t\t\t\tENETRESET,\n //    network_unreachable = \t\t\tENETUNREACH,\n //    no_buffer_space = \t\t\tENOBUFS,\n-#ifdef _GLIBCXX_HAVE_ECHILD\n+#ifdef ECHILD\n       no_child_process = \t\t\tECHILD,\n #endif\n //    no_link = \t\t\t\tENOLINK,\n       no_lock_available = \t\t\tENOLCK,\n //    no_message_available = \t\t\tENODATA,\n //    no_message = \t\t\t\tENOMSG,\n //    no_protocol_option = \t\t\tENOPROTOOPT,\n-#ifdef _GLIBCXX_HAVE_ENOSPC\n+#ifdef ENOSPC\n       no_space_on_device = \t\t\tENOSPC,\n #endif\n //    no_stream_resources = \t\t\tENOSR,\n@@ -99,16 +99,16 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n //    not_a_stream = \t\t\t\tENOSTR,\n //    not_connected = \t\t\t\tENOTCONN,\n       not_enough_memory = \t\t\tENOMEM,\n-#ifdef _GLIBCXX_HAVE_ENOTSUP\n+#ifdef ENOTSUP\n       not_supported = \t\t\t\tENOTSUP,\n #endif\n //    operation_canceled = \t\t\tECANCELED,\n //    operation_in_progress = \t\t\tEINPROGRESS,\n-#ifdef _GLIBCXX_HAVE_EPERM\n+#ifdef EPERM\n       operation_not_permitted = \t\tEPERM,\n #endif\n //    operation_not_supported = \t\tEOPNOTSUPP,\n-#ifdef _GLIBCXX_HAVE_EWOULDBLOCK\n+#ifdef EWOULDBLOCK\n       operation_would_block = \t\t\tEWOULDBLOCK,\n #endif\n //    owner_dead = \t\t\t\tEOWNERDEAD,\n@@ -122,14 +122,14 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n //    state_not_recoverable = \t\t\tENOTRECOVERABLE,\n //    stream_timeout = \t\t\t\tETIME,\n //    text_file_busy = \t\t\t\tETXTBSY,\n-#ifdef _GLIBCXX_HAVE_ETIMEDOUT\n+#ifdef ETIMEDOUT\n       timed_out = \t\t\t\tETIMEDOUT,\n #endif\n       too_many_files_open_in_system = \t\tENFILE,\n       too_many_files_open = \t\t\tEMFILE,\n       too_many_links = \t\t\t\tEMLINK\n //    too_many_symbolic_link_levels = \t\tELOOP,\n-#ifdef _GLIBCXX_HAVE_EOVERFLOW\n+#ifdef EOVERFLOW\n \t,\n       value_too_large = \t\t\tEOVERFLOW\n #endif"}]}