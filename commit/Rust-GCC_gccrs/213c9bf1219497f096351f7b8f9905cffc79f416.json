{"sha": "213c9bf1219497f096351f7b8f9905cffc79f416", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjEzYzliZjEyMTk0OTdmMDk2MzUxZjdiOGY5OTA1Y2ZmYzc5ZjQxNg==", "commit": {"author": {"name": "Claudiu Zissulescu", "email": "claziss@synopsys.com", "date": "2017-04-14T11:40:54Z"}, "committer": {"name": "Claudiu Zissulescu", "email": "claziss@gcc.gnu.org", "date": "2017-04-14T11:40:54Z"}, "message": "[ARC] DWARF emitting cleanup.\n\nThe use of CFA_FRAME_BASE_OFFSET and ARG_POINTER_CFA_OFFSET macros\nleads to wrong offset calculation for DW_OP_fbreg constructions.\nRemove them.\n\ngcc/\n2017-04-14  Claudiu Zissulescu  <claziss@synopsys.com>\n\n\t* config/arc/arc-protos.h (arc_decl_pretend_args): Remove.\n\t* config/arc/arc.c (arc_decl_pretend_args): Likewise.\n\t* config/arc/arc.h (CFA_FRAME_BASE_OFFSET): Likewise.\n\t(ARG_POINTER_CFA_OFFSET): Likewise.\n\nFrom-SVN: r246926", "tree": {"sha": "3afef82a9791e35082c3f7fb123eab557add6814", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3afef82a9791e35082c3f7fb123eab557add6814"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/213c9bf1219497f096351f7b8f9905cffc79f416", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/213c9bf1219497f096351f7b8f9905cffc79f416", "html_url": "https://github.com/Rust-GCC/gccrs/commit/213c9bf1219497f096351f7b8f9905cffc79f416", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/213c9bf1219497f096351f7b8f9905cffc79f416/comments", "author": {"login": "claziss", "id": 2761368, "node_id": "MDQ6VXNlcjI3NjEzNjg=", "avatar_url": "https://avatars.githubusercontent.com/u/2761368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/claziss", "html_url": "https://github.com/claziss", "followers_url": "https://api.github.com/users/claziss/followers", "following_url": "https://api.github.com/users/claziss/following{/other_user}", "gists_url": "https://api.github.com/users/claziss/gists{/gist_id}", "starred_url": "https://api.github.com/users/claziss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/claziss/subscriptions", "organizations_url": "https://api.github.com/users/claziss/orgs", "repos_url": "https://api.github.com/users/claziss/repos", "events_url": "https://api.github.com/users/claziss/events{/privacy}", "received_events_url": "https://api.github.com/users/claziss/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1fccdd40cf7a4802a3e78c0e5197332c69be3b5e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1fccdd40cf7a4802a3e78c0e5197332c69be3b5e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1fccdd40cf7a4802a3e78c0e5197332c69be3b5e"}], "stats": {"total": 24, "additions": 7, "deletions": 17}, "files": [{"sha": "312ef8d7ba491d26e3b54d8c80b0e06a2fd990eb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/213c9bf1219497f096351f7b8f9905cffc79f416/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/213c9bf1219497f096351f7b8f9905cffc79f416/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=213c9bf1219497f096351f7b8f9905cffc79f416", "patch": "@@ -1,3 +1,10 @@\n+2017-04-14  Claudiu Zissulescu  <claziss@synopsys.com>\n+\n+\t* config/arc/arc-protos.h (arc_decl_pretend_args): Remove.\n+\t* config/arc/arc.c (arc_decl_pretend_args): Likewise.\n+\t* config/arc/arc.h (CFA_FRAME_BASE_OFFSET): Likewise.\n+\t(ARG_POINTER_CFA_OFFSET): Likewise.\n+\n 2017-04-14  Claudiu Zissulescu  <claziss@synopsys.com>\n \n \t* config/arc/arc.c (arc_mode_dependent_address_p): Relax"}, {"sha": "93a64cfebacd50660c4559706b4251152c016910", "filename": "gcc/config/arc/arc-protos.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/213c9bf1219497f096351f7b8f9905cffc79f416/gcc%2Fconfig%2Farc%2Farc-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/213c9bf1219497f096351f7b8f9905cffc79f416/gcc%2Fconfig%2Farc%2Farc-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farc%2Farc-protos.h?ref=213c9bf1219497f096351f7b8f9905cffc79f416", "patch": "@@ -111,7 +111,6 @@ extern int arc_label_align (rtx_insn *label);\n extern bool arc_need_delay (rtx_insn *insn);\n extern bool arc_text_label (rtx_insn *insn);\n \n-extern int arc_decl_pretend_args (tree decl);\n extern bool arc_short_comparison_p (rtx, int);\n extern bool arc_epilogue_uses (int regno);\n extern bool arc_eh_uses (int regno);"}, {"sha": "c8ffa1aa105552401dcabc6697db90389e495806", "filename": "gcc/config/arc/arc.c", "status": "modified", "additions": 0, "deletions": 11, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/213c9bf1219497f096351f7b8f9905cffc79f416/gcc%2Fconfig%2Farc%2Farc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/213c9bf1219497f096351f7b8f9905cffc79f416/gcc%2Fconfig%2Farc%2Farc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farc%2Farc.c?ref=213c9bf1219497f096351f7b8f9905cffc79f416", "patch": "@@ -9338,17 +9338,6 @@ arc_text_label (rtx_insn *label)\n   return false;\n }\n \n-/* Return the size of the pretend args for DECL.  */\n-\n-int\n-arc_decl_pretend_args (tree decl)\n-{\n-  /* struct function is in DECL_STRUCT_FUNCTION (decl), but no\n-     pretend_args there...  See PR38391.  */\n-  gcc_assert (decl == current_function_decl);\n-  return crtl->args.pretend_args_size;\n-}\n-\n /* Without this, gcc.dg/tree-prof/bb-reorg.c fails to assemble\n   when compiling with -O2 -freorder-blocks-and-partition -fprofile-use\n   -D_PROFILE_USE; delay branch scheduling then follows a crossing jump"}, {"sha": "2706a85f023adfb7cf7beb484b392f3829c11343", "filename": "gcc/config/arc/arc.h", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/213c9bf1219497f096351f7b8f9905cffc79f416/gcc%2Fconfig%2Farc%2Farc.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/213c9bf1219497f096351f7b8f9905cffc79f416/gcc%2Fconfig%2Farc%2Farc.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farc%2Farc.h?ref=213c9bf1219497f096351f7b8f9905cffc79f416", "patch": "@@ -1581,11 +1581,6 @@ extern enum arc_function_type arc_compute_function_type (struct function *);\n \n #define INIT_EXPANDERS arc_init_expanders ()\n \n-#define CFA_FRAME_BASE_OFFSET(FUNDECL) (-arc_decl_pretend_args ((FUNDECL)))\n-\n-#define ARG_POINTER_CFA_OFFSET(FNDECL) \\\n-  (FIRST_PARM_OFFSET (FNDECL) + arc_decl_pretend_args ((FNDECL)))\n-\n enum\n {\n   ARC_LRA_PRIORITY_NONE, ARC_LRA_PRIORITY_NONCOMPACT, ARC_LRA_PRIORITY_COMPACT"}]}