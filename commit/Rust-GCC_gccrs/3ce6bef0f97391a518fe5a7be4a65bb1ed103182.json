{"sha": "3ce6bef0f97391a518fe5a7be4a65bb1ed103182", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2NlNmJlZjBmOTczOTFhNTE4ZmU1YTdiZTRhNjViYjFlZDEwMzE4Mg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2003-03-23T01:40:04Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2003-03-23T01:40:04Z"}, "message": "cfgcleanup.c (insns_match_p): Do not do EQUIV substitution after reload.\n\n        * cfgcleanup.c (insns_match_p): Do not do EQUIV substitution\n        after reload.\n\nFrom-SVN: r64738", "tree": {"sha": "a74d627ef14953efdc3431beb769188b0728e42b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a74d627ef14953efdc3431beb769188b0728e42b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3ce6bef0f97391a518fe5a7be4a65bb1ed103182", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ce6bef0f97391a518fe5a7be4a65bb1ed103182", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3ce6bef0f97391a518fe5a7be4a65bb1ed103182", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ce6bef0f97391a518fe5a7be4a65bb1ed103182/comments", "author": null, "committer": null, "parents": [{"sha": "de32716c0dc0a842db46ab4ebba49be4b0763b62", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de32716c0dc0a842db46ab4ebba49be4b0763b62", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de32716c0dc0a842db46ab4ebba49be4b0763b62"}], "stats": {"total": 19, "additions": 15, "deletions": 4}, "files": [{"sha": "cf3c258ce61ae18ab2c2cc965eb19dd07ff44e50", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ce6bef0f97391a518fe5a7be4a65bb1ed103182/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ce6bef0f97391a518fe5a7be4a65bb1ed103182/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3ce6bef0f97391a518fe5a7be4a65bb1ed103182", "patch": "@@ -1,3 +1,8 @@\n+2003-03-22  Richard Henderson <rth@redhat.com>\n+\n+\t* cfgcleanup.c (insns_match_p): Do not do EQUIV substitution\n+\tafter reload.\n+\n 2003-03-22  DJ Delorie  <dj at redhat dot com>,\n \tBruce Korb  <bkorb at gnu dot org>\n "}, {"sha": "42dc0a9e4c5f508d826113da24ef61d7bbc9cb47", "filename": "gcc/cfgcleanup.c", "status": "modified", "additions": 10, "deletions": 4, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ce6bef0f97391a518fe5a7be4a65bb1ed103182/gcc%2Fcfgcleanup.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ce6bef0f97391a518fe5a7be4a65bb1ed103182/gcc%2Fcfgcleanup.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgcleanup.c?ref=3ce6bef0f97391a518fe5a7be4a65bb1ed103182", "patch": "@@ -967,7 +967,15 @@ insns_match_p (mode, i1, i2)\n #endif\n \n   if (reload_completed\n-      ? ! rtx_renumbered_equal_p (p1, p2) : ! rtx_equal_p (p1, p2))\n+      ? rtx_renumbered_equal_p (p1, p2) : rtx_equal_p (p1, p2))\n+    return true;\n+\n+  /* Do not do EQUIV substitution after reload.  First, we're undoing the\n+     work of reload_cse.  Second, we may be undoing the work of the post-\n+     reload splitting pass.  */\n+  /* ??? Possibly add a new phase switch variable that can be used by\n+     targets to disallow the troublesome insns after splitting.  */\n+  if (!reload_completed)\n     {\n       /* The following code helps take care of G++ cleanups.  */\n       rtx equiv1 = find_reg_equal_equiv_note (i1);\n@@ -994,11 +1002,9 @@ insns_match_p (mode, i1, i2)\n \t\treturn true;\n \t    }\n \t}\n-\n-      return false;\n     }\n \n-  return true;\n+  return false;\n }\n \f\n /* Look through the insns at the end of BB1 and BB2 and find the longest"}]}