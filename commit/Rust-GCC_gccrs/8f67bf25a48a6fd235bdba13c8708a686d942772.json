{"sha": "8f67bf25a48a6fd235bdba13c8708a686d942772", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGY2N2JmMjVhNDhhNmZkMjM1YmRiYTEzYzg3MDhhNjg2ZDk0Mjc3Mg==", "commit": {"author": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2021-05-10T12:13:53Z"}, "committer": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2021-05-11T08:55:07Z"}, "message": "gcc-changelog: Remove non-strict mode.\n\ncontrib/ChangeLog:\n\n\t* gcc-changelog/git_check_commit.py: Remove --non-strict-mode.\n\t* gcc-changelog/git_commit.py: Remove strict mode.\n\t* gcc-changelog/git_email.py: Likewise.\n\t* gcc-changelog/git_repository.py: Likewise.\n\t* gcc-changelog/test_email.py: Likewise.\n\t* gcc-changelog/test_patches.txt: Update patches so that they\n\tdon't contain a ChangeLog file changes.", "tree": {"sha": "29cae2404259bd1d79cc1ca6a7e6dd2ff01de169", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/29cae2404259bd1d79cc1ca6a7e6dd2ff01de169"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8f67bf25a48a6fd235bdba13c8708a686d942772", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f67bf25a48a6fd235bdba13c8708a686d942772", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8f67bf25a48a6fd235bdba13c8708a686d942772", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f67bf25a48a6fd235bdba13c8708a686d942772/comments", "author": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "772e5e82e3114f6faccb549cfcc30c06b4678354", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/772e5e82e3114f6faccb549cfcc30c06b4678354", "html_url": "https://github.com/Rust-GCC/gccrs/commit/772e5e82e3114f6faccb549cfcc30c06b4678354"}], "stats": {"total": 438, "additions": 132, "deletions": 306}, "files": [{"sha": "9a4c5d448fb1ceff095539381707e2af86754ed6", "filename": "contrib/gcc-changelog/git_check_commit.py", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f67bf25a48a6fd235bdba13c8708a686d942772/contrib%2Fgcc-changelog%2Fgit_check_commit.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f67bf25a48a6fd235bdba13c8708a686d942772/contrib%2Fgcc-changelog%2Fgit_check_commit.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc-changelog%2Fgit_check_commit.py?ref=8f67bf25a48a6fd235bdba13c8708a686d942772", "patch": "@@ -29,14 +29,10 @@\n                     help='Path to git repository')\n parser.add_argument('-p', '--print-changelog', action='store_true',\n                     help='Print final changelog entires')\n-parser.add_argument('-n', '--non-strict-mode', action='store_true',\n-                    help='Use non-strict mode (allow changes in ChangeLog and '\n-                    'other automatically updated files).')\n args = parser.parse_args()\n \n retval = 0\n-for git_commit in parse_git_revisions(args.git_path, args.revisions,\n-                                      not args.non_strict_mode):\n+for git_commit in parse_git_revisions(args.git_path, args.revisions):\n     res = 'OK' if git_commit.success else 'FAILED'\n     print('Checking %s: %s' % (git_commit.original_info.hexsha, res))\n     if git_commit.success:"}, {"sha": "c70279e25048c69421fddc501467be93d843b29a", "filename": "contrib/gcc-changelog/git_commit.py", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f67bf25a48a6fd235bdba13c8708a686d942772/contrib%2Fgcc-changelog%2Fgit_commit.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f67bf25a48a6fd235bdba13c8708a686d942772/contrib%2Fgcc-changelog%2Fgit_commit.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc-changelog%2Fgit_commit.py?ref=8f67bf25a48a6fd235bdba13c8708a686d942772", "patch": "@@ -288,7 +288,7 @@ def __init__(self, hexsha, date, author, lines, modified_files):\n \n \n class GitCommit:\n-    def __init__(self, info, strict=True, commit_to_info_hook=None, ref_name=None):\n+    def __init__(self, info, commit_to_info_hook=None, ref_name=None):\n         self.original_info = info\n         self.info = info\n         self.message = None\n@@ -325,7 +325,7 @@ def __init__(self, info, strict=True, commit_to_info_hook=None, ref_name=None):\n         if len(project_files) == len(self.info.modified_files):\n             # All modified files are only MISC files\n             return\n-        elif project_files and strict:\n+        elif project_files:\n             self.errors.append(Error('ChangeLog, DATESTAMP, BASE-VER and '\n                                      'DEV-PHASE updates should be done '\n                                      'separately from normal commits'))"}, {"sha": "6933e3d71fe531e0d49577f344527130f65c7227", "filename": "contrib/gcc-changelog/git_email.py", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f67bf25a48a6fd235bdba13c8708a686d942772/contrib%2Fgcc-changelog%2Fgit_email.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f67bf25a48a6fd235bdba13c8708a686d942772/contrib%2Fgcc-changelog%2Fgit_email.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc-changelog%2Fgit_email.py?ref=8f67bf25a48a6fd235bdba13c8708a686d942772", "patch": "@@ -32,7 +32,7 @@\n \n \n class GitEmail(GitCommit):\n-    def __init__(self, filename, strict=False):\n+    def __init__(self, filename):\n         self.filename = filename\n         diff = PatchSet.from_filename(filename)\n         date = None\n@@ -68,7 +68,7 @@ def __init__(self, filename, strict=False):\n                 t = 'M'\n             modified_files.append((target if t != 'D' else source, t))\n         git_info = GitInfo(None, date, author, body, modified_files)\n-        super().__init__(git_info, strict=strict,\n+        super().__init__(git_info,\n                          commit_to_info_hook=lambda x: None)\n \n "}, {"sha": "2d688826ff84d006050e690c38e4b416872bba5f", "filename": "contrib/gcc-changelog/git_repository.py", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f67bf25a48a6fd235bdba13c8708a686d942772/contrib%2Fgcc-changelog%2Fgit_repository.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f67bf25a48a6fd235bdba13c8708a686d942772/contrib%2Fgcc-changelog%2Fgit_repository.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc-changelog%2Fgit_repository.py?ref=8f67bf25a48a6fd235bdba13c8708a686d942772", "patch": "@@ -29,7 +29,7 @@\n from git_commit import GitCommit, GitInfo, decode_path\n \n \n-def parse_git_revisions(repo_path, revisions, strict=True, ref_name=None):\n+def parse_git_revisions(repo_path, revisions, ref_name=None):\n     repo = Repo(repo_path)\n \n     def commit_to_info(commit):\n@@ -72,7 +72,7 @@ def commit_to_info(commit):\n         commits = [repo.commit(revisions)]\n \n     for commit in commits:\n-        git_commit = GitCommit(commit_to_info(commit.hexsha), strict=strict,\n+        git_commit = GitCommit(commit_to_info(commit.hexsha),\n                                commit_to_info_hook=commit_to_info,\n                                ref_name=ref_name)\n         parsed_commits.append(git_commit)"}, {"sha": "7472762e66da1e08e82bbc04649c22835d20ed17", "filename": "contrib/gcc-changelog/test_email.py", "status": "modified", "additions": 9, "deletions": 10, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f67bf25a48a6fd235bdba13c8708a686d942772/contrib%2Fgcc-changelog%2Ftest_email.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f67bf25a48a6fd235bdba13c8708a686d942772/contrib%2Fgcc-changelog%2Ftest_email.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc-changelog%2Ftest_email.py?ref=8f67bf25a48a6fd235bdba13c8708a686d942772", "patch": "@@ -62,17 +62,17 @@ def tearDown(self):\n             assert t.endswith('.patch')\n             os.remove(t)\n \n-    def get_git_email(self, filename, strict=False):\n+    def get_git_email(self, filename):\n         with tempfile.NamedTemporaryFile(mode='w+', suffix='.patch',\n                                          delete=False) as f:\n             f.write('\\n'.join(self.patches[filename]))\n             self.temps.append(f.name)\n-        return GitEmail(f.name, strict)\n+        return GitEmail(f.name)\n \n-    def from_patch_glob(self, name, strict=False):\n+    def from_patch_glob(self, name):\n         files = [f for f in self.patches.keys() if f.startswith(name)]\n         assert len(files) == 1\n-        return self.get_git_email(files[0], strict)\n+        return self.get_git_email(files[0])\n \n     def test_simple_patch_format(self):\n         email = self.get_git_email('0577-aarch64-Add-an-and.patch')\n@@ -247,26 +247,25 @@ def test_unique_prs(self):\n         assert email.changelog_entries[1].prs == []\n \n     def test_multiple_prs_not_added(self):\n-        email = self.from_patch_glob('0001-Add-patch_are')\n+        email = self.from_patch_glob('0002-Add-patch_are')\n         assert not email.errors\n         assert email.changelog_entries[0].prs == ['PR target/93492']\n         assert email.changelog_entries[1].prs == ['PR target/12345']\n         assert email.changelog_entries[2].prs == []\n         assert email.changelog_entries[2].folder == 'gcc/testsuite'\n \n     def test_strict_mode(self):\n-        email = self.from_patch_glob('0001-Add-patch_are',\n-                                     True)\n+        email = self.from_patch_glob('0001-Add-patch_are')\n         msg = 'ChangeLog, DATESTAMP, BASE-VER and DEV-PHASE updates should ' \\\n               'be done separately from normal commits'\n         assert email.errors[0].message == msg\n \n     def test_strict_mode_normal_patch(self):\n-        email = self.get_git_email('0001-Just-test-it.patch', True)\n+        email = self.get_git_email('0001-Just-test-it.patch')\n         assert not email.errors\n \n     def test_strict_mode_datestamp_only(self):\n-        email = self.get_git_email('0002-Bump-date.patch', True)\n+        email = self.get_git_email('0002-Bump-date.patch')\n         assert not email.errors\n \n     def test_wrong_changelog_entry(self):\n@@ -418,7 +417,7 @@ def test_multiline_bad_parentheses(self):\n         assert email.errors[0].message == 'bad parentheses wrapping'\n \n     def test_changelog_removal(self):\n-        email = self.from_patch_glob('0001-ChangeLog-removal.patch', strict=True)\n+        email = self.from_patch_glob('0001-ChangeLog-removal.patch')\n         assert not email.errors\n \n     def test_long_filenames(self):"}, {"sha": "39d40b88618291b1cc5a5a8dfe6f8213a2483f43", "filename": "contrib/gcc-changelog/test_patches.txt", "status": "modified", "additions": 116, "deletions": 285, "changes": 401, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f67bf25a48a6fd235bdba13c8708a686d942772/contrib%2Fgcc-changelog%2Ftest_patches.txt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f67bf25a48a6fd235bdba13c8708a686d942772/contrib%2Fgcc-changelog%2Ftest_patches.txt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc-changelog%2Ftest_patches.txt?ref=8f67bf25a48a6fd235bdba13c8708a686d942772", "patch": "@@ -68,13 +68,6 @@ xxxx-xx-xx  Claudiu Zissulescu  <claziss@synopsys.com>\n  create mode 100644 gcc/testsuite/gcc.target/arc/uncached-7.c\n  create mode 100644 gcc/testsuite/gcc.target/arc/uncached-8.c\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 91dfcd71a4b..2cc61d68cf3 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/config/arc/arc.c b/gcc/config/arc/arc.c\n index 22475f2732e..e1a865f02e6 100644\n --- a/gcc/config/arc/arc.c\n@@ -88,13 +81,6 @@ index cf7aa8d83c9..46cb254ed28 100644\n +++ b/gcc/config/arc/arc.md\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 16ddef07516..991934272e0 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/testsuite/gcc.target/arc/arc.exp b/gcc/testsuite/gcc.target/arc/arc.exp\n index 8d1844edd22..501d4589c53 100644\n@@ -199,20 +185,6 @@ without any data fields.\n  4 files changed, 36 insertions(+)\n  create mode 100644 gcc/testsuite/g++.dg/tree-ssa/pr93667.C\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 77c2a9ad810..6b53f9a2f07 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 9b4fe11a6f6..8033fa0a3bb 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/testsuite/g++.dg/tree-ssa/pr93667.C b/gcc/testsuite/g++.dg/tree-ssa/pr93667.C\n new file mode 100644\n index 00000000000..d875f53d9ec\n@@ -275,20 +247,6 @@ Subject: [PATCH 0413/2034] SRA: Total scalarization after access propagation\n  5 files changed, 537 insertions(+), 184 deletions(-)\n  create mode 100644 gcc/testsuite/gcc.dg/tree-ssa/pr92706-2.c\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 16247a59304..61da54df346 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 05518848829..38758207989 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/testsuite/gcc.dg/guality/pr59776.c b/gcc/testsuite/gcc.dg/guality/pr59776.c\n index 382abb622bb..6c1c8165b70 100644\n --- a/gcc/testsuite/gcc.dg/guality/pr59776.c\n@@ -333,26 +291,12 @@ Subject: [PATCH 0334/2034] Do not generate a unique fnname for resolver.\n  gcc/testsuite/gcc.target/i386/pr81213.c |  4 ++--\n  4 files changed, 19 insertions(+), 17 deletions(-)\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 45075840824..59806baa757 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/config/i386/i386-features.c b/gcc/config/i386/i386-features.c\n index e580b26b995..b49e6f8d408 100644\n --- a/gcc/config/i386/i386-features.c\n +++ b/gcc/config/i386/i386-features.c\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 2de060843d9..22a37dd1ab2 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/testsuite/gcc.target/i386/pr81213.c b/gcc/testsuite/gcc.target/i386/pr81213.c\n index 13e15d5fef0..89c47529861 100644\n@@ -396,26 +340,12 @@ Co-Authored-By: Jakub Jelinek <jakub@redhat.com>\n  8 files changed, 142 insertions(+), 22 deletions(-)\n  create mode 100644 gcc/testsuite/g++.dg/pr94314-4.C\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 74dbeeb44c6..9e499ec9c86 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/cgraphclones.c b/gcc/cgraphclones.c\n index c73b8f810f0..8f541a28b6e 100644\n --- a/gcc/cgraphclones.c\n +++ b/gcc/cgraphclones.c\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 756f1d759e6..94d2312022d 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/testsuite/g++.dg/pr94314-2.C b/gcc/testsuite/g++.dg/pr94314-2.C\n index 36b93ed6d4d..998ce601767 100644\n@@ -492,13 +422,6 @@ https://gcc.gnu.org/ml/gcc-patches/2020-01/msg00809.html\n  3 files changed, 24 insertions(+), 5 deletions(-)\n  create mode 100644 gcc/testsuite/g++.dg/template/pr90916.C\n \n-diff --git a/gcc/cp/ChangeLog b/gcc/cp/ChangeLog\n-index 004ce0fdcdf..3cc7c48b490 100644\n---- a/gcc/cp/ChangeLog\n-+++ b/gcc/cp/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/cp/pt.c b/gcc/cp/pt.c\n index fa82ecad233..4fdc74f9ca8 100644\n --- a/gcc/cp/pt.c\n@@ -539,13 +462,6 @@ not broken, but this is both safer and satisfies static analysis.\n  libgomp/plugin/plugin-gcn.c | 8 ++++++++\n  2 files changed, 17 insertions(+)\n \n-diff --git a/libgomp/ChangeLog b/libgomp/ChangeLog\n-index c524abbbfb6..ee1764d4ae3 100644\n---- a/libgomp/ChangeLog\n-+++ b/libgomp/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/libgomp/plugin/plugin-gcn.c b/libgomp/plugin/plugin-gcn.c\n index dc72c90962c..4c6a4c03b6e 100644\n --- a/libgomp/plugin/plugin-gcn.c\n@@ -578,13 +494,6 @@ ChangeLog:\n  gcc/tree-into-ssa.c | 59 ++++++++++++++++++++++++++++++++++++---------\n  2 files changed, 55 insertions(+), 12 deletions(-)\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 8c17e5992d2..262f0d6506f 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/tree-into-ssa.c b/gcc/tree-into-ssa.c\n index c27bf2ce121..6528acac31a 100644\n --- a/gcc/tree-into-ssa.c\n@@ -683,26 +592,12 @@ just the C-family ones that defined a forwarding macro.\n  17 files changed, 146 insertions(+), 95 deletions(-)\n  create mode 100644 gcc/testsuite/g++.dg/cpp/pr80005.C\n \n-diff --git a/gcc/c-family/ChangeLog b/gcc/c-family/ChangeLog\n-index 09ba2c8b40f..fdddb98a74d 100644\n---- a/gcc/c-family/ChangeLog\n-+++ b/gcc/c-family/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/c-family/c-cppbuiltin.c b/gcc/c-family/c-cppbuiltin.c\n index a6308921dc9..70a12055e27 100644\n --- a/gcc/c-family/c-cppbuiltin.c\n +++ b/gcc/c-family/c-cppbuiltin.c\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index a526e32ac89..67d5f2e9e28 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/testsuite/g++.dg/cpp/pr80005.C b/gcc/testsuite/g++.dg/cpp/pr80005.C\n new file mode 100644\n@@ -731,13 +626,6 @@ index dd15cd6af3c..82fd602f9f1 100644\n +++ b/gcc/testsuite/g++.dg/cpp2a/feat-cxx2a.C\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/libcpp/ChangeLog b/libcpp/ChangeLog\n-index 3249b93fe88..27a841bbdce 100644\n---- a/libcpp/ChangeLog\n-+++ b/libcpp/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/libcpp/directives.c b/libcpp/directives.c\n index 983206a5838..10735c8c668 100644\n@@ -825,13 +713,6 @@ Subject: [PATCH 0004/2034] tree-opt: Fix bootstrap failure in\n  gcc/tree-ssa-forwprop.c | 6 +++---\n  2 files changed, 12 insertions(+), 3 deletions(-)\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index a195863212e..f7df07343d1 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/tree-ssa-forwprop.c b/gcc/tree-ssa-forwprop.c\n index aac31d02b6c..56c470f6ecf 100644\n --- a/gcc/tree-ssa-forwprop.c\n@@ -898,13 +779,6 @@ Subject: [PATCH 0735/2034] PR 87488: Add --with-diagnostics-urls configuration\n  gcc/pretty-print.h     |   5 +-\n  11 files changed, 328 insertions(+), 26 deletions(-)\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index e6eb6ab4c21..22f990a3088 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/config.in b/gcc/config.in\n index 48292861842..01fb18dbbb5 100644\n --- a/gcc/config.in\n@@ -1000,13 +874,6 @@ gcc/ChangeLog\n  gcc/cfgloopanal.c | 5 ++++-\n  2 files changed, 9 insertions(+), 1 deletion(-)\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 07e5bebe909..f3301b16464 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/cfgloopanal.c b/gcc/cfgloopanal.c\n index 392b1c337c4..0b33e8272a7 100644\n --- a/gcc/cfgloopanal.c\n@@ -1073,13 +940,6 @@ Subject: [PATCH 0735/2034] PR 87488: Add --with-diagnostics-urls configuration\n  gcc/pretty-print.h     |   5 +-\n  11 files changed, 328 insertions(+), 26 deletions(-)\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index e6eb6ab4c21..22f990a3088 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/config.in b/gcc/config.in\n index 48292861842..01fb18dbbb5 100644\n --- a/gcc/config.in\n@@ -1187,26 +1047,12 @@ co-authored-by: John Miller2 <jm2@example.com>\n  8 files changed, 142 insertions(+), 22 deletions(-)\n  create mode 100644 gcc/testsuite/g++.dg/pr94314-4.C\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 74dbeeb44c6..9e499ec9c86 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/cgraphclones.c b/gcc/cgraphclones.c\n index c73b8f810f0..8f541a28b6e 100644\n --- a/gcc/cgraphclones.c\n +++ b/gcc/cgraphclones.c\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 756f1d759e6..94d2312022d 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/testsuite/g++.dg/pr94314-2.C b/gcc/testsuite/g++.dg/pr94314-2.C\n index 36b93ed6d4d..998ce601767 100644\n@@ -1299,26 +1145,12 @@ if it isn't a REG or SUBREG of REG.\n  4 files changed, 51 insertions(+), 19 deletions(-)\n  create mode 100644 gcc/testsuite/gcc.dg/pr94291.c\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index a1ab9fb4ef3..12803e90b0a 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/combine.c b/gcc/combine.c\n index 58366a6d331..cff76cd3303 100644\n --- a/gcc/combine.c\n +++ b/gcc/combine.c\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 71b5a14bcbe..3cbf891d58d 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/testsuite/gcc.dg/pr94291.c b/gcc/testsuite/gcc.dg/pr94291.c\n new file mode 100644\n@@ -1389,13 +1221,6 @@ index e85a8e8813e..fb776ba5a0e 100644\n +++ b/gcc/ChangeLog\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/c-family/ChangeLog b/gcc/c-family/ChangeLog\n-index c429b49e68c..69ea1fdc4f3 100644\n---- a/gcc/c-family/ChangeLog\n-+++ b/gcc/c-family/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/c-family/c-attribs.c b/gcc/c-family/c-attribs.c\n index ac936d5bbbb..a101312c581 100644\n@@ -1432,10 +1257,122 @@ index c212a1a57dc..3dccef39701 100644\n @@ -1 +1,2 @@\n \n +\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 176aa117904..185f9ea725e 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n+diff --git a/gcc/testsuite/c-c++-common/patchable_function_entry-error-1.c b/gcc/testsuite/c-c++-common/patchable_function_entry-error-1.c\n+new file mode 100644\n+index 00000000000..f60bf46cfe3\n+--- /dev/null\n++++ b/gcc/testsuite/c-c++-common/patchable_function_entry-error-1.c\n+@@ -0,0 +1 @@\n++\n+diff --git a/gcc/testsuite/c-c++-common/patchable_function_entry-error-2.c b/gcc/testsuite/c-c++-common/patchable_function_entry-error-2.c\n+new file mode 100644\n+index 00000000000..90f88c78be7\n+--- /dev/null\n++++ b/gcc/testsuite/c-c++-common/patchable_function_entry-error-2.c\n+@@ -0,0 +1 @@\n++\n+diff --git a/gcc/testsuite/c-c++-common/patchable_function_entry-error-3.c b/gcc/testsuite/c-c++-common/patchable_function_entry-error-3.c\n+new file mode 100644\n+index 00000000000..4490e5c15ca\n+--- /dev/null\n++++ b/gcc/testsuite/c-c++-common/patchable_function_entry-error-3.c\n+@@ -0,0 +1 @@\n++\n+diff --git a/gcc/varasm.c b/gcc/varasm.c\n+index 271a67abf56..f062e48071f 100644\n+--- a/gcc/varasm.c\n++++ b/gcc/varasm.c\n+@@ -1 +1,2 @@\n+\n++\n+-- \n+2.26.2\n+\n+=== 0002-Add-patch_area_size-and-patch_area_entry-to-crtl.patch ===\n+From 6607bdd99994c834f92fce924abdaea3405f62dc Mon Sep 17 00:00:00 2001\n+From: \"H.J. Lu\" <hjl.tools@gmail.com>\n+Date: Fri, 1 May 2020 21:03:10 -0700\n+Subject: [PATCH] Add patch_area_size and patch_area_entry to crtl\n+\n+Currently patchable area is at the wrong place.  It is placed immediately\n+after function label and before .cfi_startproc.  A backend should be able\n+to add a pseudo patchable area instruction durectly into RTL.  This patch\n+adds patch_area_size and patch_area_entry to crtl so that the patchable\n+area info is available in RTL passes.\n+\n+It also limits patch_area_size and patch_area_entry to 65535, which is\n+a reasonable maximum size for patchable area.\n+\n+gcc/\n+\n+\tPR target/93492\n+\t* cfgexpand.c (pass_expand::execute): Set crtl->patch_area_size\n+\tand crtl->patch_area_entry.\n+\t* emit-rtl.h (rtl_data): Add patch_area_size and patch_area_entry.\n+\t* opts.c (common_handle_option): Limit\n+\tfunction_entry_patch_area_size and function_entry_patch_area_start\n+\tto USHRT_MAX.  Fix a typo in error message.\n+\t* varasm.c (assemble_start_function): Use crtl->patch_area_size\n+\tand crtl->patch_area_entry.\n+\t* doc/invoke.texi: Document the maximum value for\n+\t-fpatchable-function-entry.\n+\n+gcc/c-family/\n+\n+\tPR target/12345\n+\t* c-attribs.c (handle_patchable_function_entry_attribute): Limit\n+\tvalue to USHRT_MAX (65535).\n+\n+---\n+ gcc/ChangeLog                                 | 14 ++++++++\n+ gcc/c-family/ChangeLog                        |  6 ++++\n+ gcc/c-family/c-attribs.c                      |  9 +++++\n+ gcc/cfgexpand.c                               | 33 +++++++++++++++++++\n+ gcc/doc/invoke.texi                           |  1 +\n+ gcc/emit-rtl.h                                |  6 ++++\n+ gcc/opts.c                                    |  4 ++-\n+ gcc/testsuite/ChangeLog                       |  7 ++++\n+ .../patchable_function_entry-error-1.c        |  9 +++++\n+ .../patchable_function_entry-error-2.c        |  9 +++++\n+ .../patchable_function_entry-error-3.c        | 17 ++++++++++\n+ gcc/varasm.c                                  | 30 ++---------------\n+ 12 files changed, 116 insertions(+), 29 deletions(-)\n+ create mode 100644 gcc/testsuite/c-c++-common/patchable_function_entry-error-1.c\n+ create mode 100644 gcc/testsuite/c-c++-common/patchable_function_entry-error-2.c\n+ create mode 100644 gcc/testsuite/c-c++-common/patchable_function_entry-error-3.c\n+\n+diff --git a/gcc/c-family/c-attribs.c b/gcc/c-family/c-attribs.c\n+index ac936d5bbbb..a101312c581 100644\n+--- a/gcc/c-family/c-attribs.c\n++++ b/gcc/c-family/c-attribs.c\n+@@ -1 +1,2 @@\n+\n++\n+diff --git a/gcc/cfgexpand.c b/gcc/cfgexpand.c\n+index a7ec77d5c85..86efa22bf60 100644\n+--- a/gcc/cfgexpand.c\n++++ b/gcc/cfgexpand.c\n+@@ -1 +1,2 @@\n+\n++\n+diff --git a/gcc/doc/invoke.texi b/gcc/doc/invoke.texi\n+index 527d362533a..767d1f07801 100644\n+--- a/gcc/doc/invoke.texi\n++++ b/gcc/doc/invoke.texi\n+@@ -1 +1,2 @@\n+\n++\n+diff --git a/gcc/emit-rtl.h b/gcc/emit-rtl.h\n+index a878efe3cf7..3d6565c8a30 100644\n+--- a/gcc/emit-rtl.h\n++++ b/gcc/emit-rtl.h\n+@@ -1 +1,2 @@\n+\n++\n+diff --git a/gcc/opts.c b/gcc/opts.c\n+index c212a1a57dc..3dccef39701 100644\n+--- a/gcc/opts.c\n++++ b/gcc/opts.c\n @@ -1 +1,2 @@\n \n +\n@@ -1497,13 +1434,6 @@ gcc/cp/ChangeLog\n  3 files changed, 40 insertions(+), 18 deletions(-)\n  create mode 100644 gcc/testsuite/g++.dg/cpp2a/lambda-generic-variadic20.C\n \n-diff --git a/gcc/cp/ChangeLog b/gcc/cp/ChangeLog\n-index 640e4948130..4b6691a77f0 100644\n---- a/gcc/cp/ChangeLog\n-+++ b/gcc/cp/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/cp/pt.c b/gcc/cp/pt.c\n index 7bf249cee5c..2fe7b66707c 100644\n --- a/gcc/cp/pt.c\n@@ -1539,13 +1469,6 @@ concepts.\n  3 files changed, 11 insertions(+)\n  create mode 100644 gcc/testsuite/g++.dg/concepts/fn-concept3.C\n \n-diff --git a/gcc/cp/ChangeLog b/gcc/cp/ChangeLog\n-index 59646c70fa4..4729e3d331d 100644\n---- a/gcc/cp/ChangeLog\n-+++ b/gcc/cp/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/cp/except.c b/gcc/cp/except.c\n index e073bd4d2bc..55b4b6af442 100644\n --- a/gcc/cp/except.c\n@@ -1573,13 +1496,6 @@ Subject: [PATCH 0129/2034] Add PR number to change log\n  gcc/ChangeLog | 1 +\n  1 file changed, 1 insertion(+)\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 6c6d586ca75..49ca5f92dec 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n -- \n 2.26.1\n \n@@ -1616,13 +1532,6 @@ gcc/testsuite/\n  6 files changed, 132 insertions(+)\n  create mode 100644 gcc/testsuite/gcc.target/aarch64/movk_2.c\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index efbbbf08225..cea8ffee99c 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/config/aarch64/aarch64-protos.h b/gcc/config/aarch64/aarch64-protos.h\n index 24cc65a383a..d29975a8921 100644\n --- a/gcc/config/aarch64/aarch64-protos.h\n@@ -1643,13 +1552,6 @@ index 90eebce85c0..9c1f17d0f85 100644\n +++ b/gcc/config/aarch64/aarch64.md\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 601bc336290..cdb26581b9c 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/testsuite/gcc.target/aarch64/movk_2.c b/gcc/testsuite/gcc.target/aarch64/movk_2.c\n new file mode 100644\n@@ -1836,26 +1738,12 @@ already).\n  gcc/testsuite/g++.dg/tree-ssa/pr27830.C |  2 ++\n  4 files changed, 47 insertions(+), 5 deletions(-)\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 06f7eda0033..93c3076eb86 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/config/rs6000/rs6000-call.c b/gcc/config/rs6000/rs6000-call.c\n index e08621ace27..a9ae7ab70ca 100644\n --- a/gcc/config/rs6000/rs6000-call.c\n +++ b/gcc/config/rs6000/rs6000-call.c\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 684e408c1a5..245c1512c76 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/testsuite/g++.dg/tree-ssa/pr27830.C b/gcc/testsuite/g++.dg/tree-ssa/pr27830.C\n index 01c7fc18783..551ebc428cd 100644\n@@ -1968,13 +1856,6 @@ index c212a1a57dc..3dccef39701 100644\n +++ b/gcc/opts.c\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 176aa117904..185f9ea725e 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/testsuite/c-c++-common/patchable_function_entry-error-1.c b/gcc/testsuite/c-c++-common/patchable_function_entry-error-1.c\n new file mode 100644\n@@ -2082,13 +1963,6 @@ Subject: [PATCH 0004/2034] tree-opt: Fix bootstrap failure in\n  gcc/tree-ssa-forwprop.c | 6 +++---\n  2 files changed, 12 insertions(+), 3 deletions(-)\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index a195863212e..f7df07343d1 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/tree-ssa-forwprop.c b/gcc/tree-ssa-forwprop.c\n index aac31d02b6c..56c470f6ecf 100644\n --- a/gcc/tree-ssa-forwprop.c\n@@ -2125,13 +1999,6 @@ gcc/testsuite/ChangeLog:\n  3 files changed, 89 insertions(+), 7 deletions(-)\n  create mode 100644 gcc/testsuite/g++.dg/ext/is_constructible4.C\n \n-diff --git a/gcc/cp/ChangeLog b/gcc/cp/ChangeLog\n-index 3ca5d7a11b4..c37e461bcc5 100644\n---- a/gcc/cp/ChangeLog\n-+++ b/gcc/cp/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/cp/pt.c b/gcc/cp/pt.c\n index 9bb8cc13e5f..872f8ff8f52 100644\n --- a/gcc/cp/pt.c\n@@ -2210,26 +2077,12 @@ Subject: [PATCH 0043/2034] Compare TREE_ADDRESSABLE and TYPE_MODE when ODR\n  create mode 100644 gcc/testsuite/g++.dg/lto/odr-8_0.C\n  create mode 100644 gcc/testsuite/g++.dg/lto/odr-8_1.C\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 38165123654..33ca91a6467 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/ipa-devirt.c b/gcc/ipa-devirt.c\n index f0031957375..b609a77701d 100644\n --- a/gcc/ipa-devirt.c\n +++ b/gcc/ipa-devirt.c\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 8e3b9105188..dc42601794b 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/testsuite/g++.dg/lto/odr-8_0.C b/gcc/testsuite/g++.dg/lto/odr-8_0.C\n new file mode 100644\n@@ -2302,13 +2155,6 @@ gcc/testsuite/ChangeLog:\n  create mode 100755 gcc/testsuite/gcc.target/aarch64/advsimd-intrinsics/vdot-3-3.c\n  create mode 100755 gcc/testsuite/gcc.target/aarch64/advsimd-intrinsics/vdot-3-4.c\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 9a949980699..49dcecb6777 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/config/aarch64/aarch64-builtins.c b/gcc/config/aarch64/aarch64-builtins.c\n index f0e0461b7f0..f50c4857e1c 100644\n --- a/gcc/config/aarch64/aarch64-builtins.c\n@@ -2343,13 +2189,6 @@ index b9843b83c5f..83720d9802a 100644\n +++ b/gcc/config/aarch64/iterators.md\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 0d8aa6063a7..8b01aa06a40 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/testsuite/gcc.target/aarch64/advsimd-intrinsics/vdot-3-1.c b/gcc/testsuite/gcc.target/aarch64/advsimd-intrinsics/vdot-3-1.c\n new file mode 100755\n@@ -3408,14 +3247,6 @@ Subject: [PATCH] Fix a changelog.\n  gcc/ChangeLog-2020 | 1 +\n  1 file changed, 1 insertion(+)\n \n-diff --git a/gcc/ChangeLog-2020 b/gcc/ChangeLog-2020\n-index 6553720acad..2c170ef014a 100644\n---- a/gcc/ChangeLog-2020\n-+++ b/gcc/ChangeLog-2020\n-@@ -1 +1,2 @@\n- \n-+\n- \n -- \n 2.29.2\n === 0001-Add-macro.patch ==="}]}