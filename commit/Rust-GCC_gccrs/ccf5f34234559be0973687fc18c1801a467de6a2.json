{"sha": "ccf5f34234559be0973687fc18c1801a467de6a2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2NmNWYzNDIzNDU1OWJlMDk3MzY4N2ZjMThjMTgwMWE0NjdkZTZhMg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-09-06T17:27:49Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-09-06T17:27:49Z"}, "message": "(emit_libcall_block): Don't move insns that reference things set in\nprevious insns.\n\nFrom-SVN: r5268", "tree": {"sha": "82d33fecadde63b56050ff0555b5d2453b36ad97", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/82d33fecadde63b56050ff0555b5d2453b36ad97"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ccf5f34234559be0973687fc18c1801a467de6a2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ccf5f34234559be0973687fc18c1801a467de6a2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ccf5f34234559be0973687fc18c1801a467de6a2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ccf5f34234559be0973687fc18c1801a467de6a2/comments", "author": null, "committer": null, "parents": [{"sha": "f8163c9219d854d89c9f46eab38e650596c7e9a6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8163c9219d854d89c9f46eab38e650596c7e9a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f8163c9219d854d89c9f46eab38e650596c7e9a6"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "cc742a405182afe1424517dc91a526bbe953a789", "filename": "gcc/optabs.c", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ccf5f34234559be0973687fc18c1801a467de6a2/gcc%2Foptabs.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ccf5f34234559be0973687fc18c1801a467de6a2/gcc%2Foptabs.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Foptabs.c?ref=ccf5f34234559be0973687fc18c1801a467de6a2", "patch": "@@ -2295,9 +2295,10 @@ emit_libcall_block (insns, target, result, equiv)\n   rtx prev, next, first, last, insn;\n \n   /* First emit all insns that set pseudos.  Remove them from the list as\n-     we go.  Avoid insns that set pseudo which were referenced in previous\n+     we go.  Avoid insns that set pseudos which were referenced in previous\n      insns.  These can be generated by move_by_pieces, for example,\n-     to update an address.  */\n+     to update an address.  Similarly, avoid insns that reference things\n+     set in previous insns.  */\n \n   for (insn = insns; insn; insn = next)\n     {\n@@ -2309,7 +2310,9 @@ emit_libcall_block (insns, target, result, equiv)\n \t  && REGNO (SET_DEST (set)) >= FIRST_PSEUDO_REGISTER\n \t  && (insn == insns\n \t      || (! reg_mentioned_p (SET_DEST (set), PATTERN (insns))\n-\t\t  && ! reg_used_between_p (SET_DEST (set), insns, insn))))\n+\t\t  && ! reg_used_between_p (SET_DEST (set), insns, insn)\n+\t\t  && ! modified_in_p (SET_SRC (set), insns)\n+\t\t  && ! modified_between_p (SET_SRC (set), insns, insn))))\n \t{\n \t  if (PREV_INSN (insn))\n \t    NEXT_INSN (PREV_INSN (insn)) = next;"}]}