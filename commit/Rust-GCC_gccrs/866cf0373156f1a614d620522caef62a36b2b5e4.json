{"sha": "866cf0373156f1a614d620522caef62a36b2b5e4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODY2Y2YwMzczMTU2ZjFhNjE0ZDYyMDUyMmNhZWY2MmEzNmIyYjVlNA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2004-08-06T07:54:19Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2004-08-06T07:54:19Z"}, "message": "symbian.h (CC1_SPEC): Add -fno-short-enums.\n\n\t* config/arm/symbian.h (CC1_SPEC): Add -fno-short-enums.\n\t(CC1PLUS_SPEC): Define it to be the same as CC1_SPEC.\n\n\t* gcc.dg/enum2.c: New test.\n\t* gcc.dg/symbian3.c: Likewise.\n\t* gcc.dg/symbian4.c: Likewise.\n\t* gcc.dg/wchar_t-2.c: Likewise.\n\nFrom-SVN: r85632", "tree": {"sha": "9c0095eed3486fdf32af542fc27c8ed79d2e43c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9c0095eed3486fdf32af542fc27c8ed79d2e43c8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/866cf0373156f1a614d620522caef62a36b2b5e4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/866cf0373156f1a614d620522caef62a36b2b5e4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/866cf0373156f1a614d620522caef62a36b2b5e4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/866cf0373156f1a614d620522caef62a36b2b5e4/comments", "author": null, "committer": null, "parents": [{"sha": "9652c5316a476e5e85ebf416602c4ac61a75fef0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9652c5316a476e5e85ebf416602c4ac61a75fef0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9652c5316a476e5e85ebf416602c4ac61a75fef0"}], "stats": {"total": 42, "additions": 40, "deletions": 2}, "files": [{"sha": "53bfd1f46e3304104474acdadf1a0f2508a167c0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/866cf0373156f1a614d620522caef62a36b2b5e4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/866cf0373156f1a614d620522caef62a36b2b5e4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=866cf0373156f1a614d620522caef62a36b2b5e4", "patch": "@@ -1,3 +1,8 @@\n+2004-08-06  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* config/arm/symbian.h (CC1_SPEC): Add -fno-short-enums.\n+\t(CC1PLUS_SPEC): Define it to be the same as CC1_SPEC.\n+\n 2004-08-06  Roman Zippel  <zippel@linux-m68k.org>\n  \n         * config/m68k/m68k.c (post_inc_operand,pre_dec_operand): New."}, {"sha": "4ad4f46b74a47ee3debad66b0fbf31be3fe6fd71", "filename": "gcc/config/arm/symbian.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/866cf0373156f1a614d620522caef62a36b2b5e4/gcc%2Fconfig%2Farm%2Fsymbian.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/866cf0373156f1a614d620522caef62a36b2b5e4/gcc%2Fconfig%2Farm%2Fsymbian.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fsymbian.h?ref=866cf0373156f1a614d620522caef62a36b2b5e4", "patch": "@@ -35,8 +35,8 @@\n    Make all symbols hidden by default.  Symbian OS expects that all\n    exported symbols will be explicitly marked with\n    \"__declspec(dllexport)\".  */\n-#define CC1_SPEC \"-fno-builtin -fvisibility=hidden\"\n-#define CC1PLUS_SPEC \"-fno-builtin -fvisibility=hidden\"\n+#define CC1_SPEC \"-fno-builtin -fvisibility=hidden -fno-short-enums\"\n+#define CC1PLUS_SPEC CC1_SPEC\n \n /* Symbian OS does not use crt0.o, unlike the generic unknown-elf\n    configuration.  */"}, {"sha": "480bdcf24e1bf357dc0b7acdfa0750cac0bc99f9", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/866cf0373156f1a614d620522caef62a36b2b5e4/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/866cf0373156f1a614d620522caef62a36b2b5e4/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=866cf0373156f1a614d620522caef62a36b2b5e4", "patch": "@@ -1,3 +1,10 @@\n+2004-08-06  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* gcc.dg/enum2.c: New test.\n+\t* gcc.dg/symbian3.c: Likewise.\n+\t* gcc.dg/symbian4.c: Likewise.\n+\t* gcc.dg/wchar_t-2.c: Likewise.\n+\n 2004-08-05  Mark Mitchell  <mark@codesourcery.com>\n \n \t* g++.dg/ext/visibility/visibility-8.C: Add constructor and"}, {"sha": "575cc5ce08680a84836d6621bdb16597d3253763", "filename": "gcc/testsuite/gcc.dg/enum2.c", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/866cf0373156f1a614d620522caef62a36b2b5e4/gcc%2Ftestsuite%2Fgcc.dg%2Fenum2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/866cf0373156f1a614d620522caef62a36b2b5e4/gcc%2Ftestsuite%2Fgcc.dg%2Fenum2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fenum2.c?ref=866cf0373156f1a614d620522caef62a36b2b5e4", "patch": "@@ -0,0 +1,8 @@\n+/* { dg-options \"-fshort-enums\" } */\n+/* Check that \"-fshort-enums\" packs enumeration tyes into a minimal\n+   number of bytes..  */\n+\n+enum e { e_1 };\n+\n+extern int i[sizeof (enum e)];\n+int i[1];"}, {"sha": "2f11d355b4dc5287482562b8ca39b5b0e3d006ea", "filename": "gcc/testsuite/gcc.dg/symbian3.c", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/866cf0373156f1a614d620522caef62a36b2b5e4/gcc%2Ftestsuite%2Fgcc.dg%2Fsymbian3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/866cf0373156f1a614d620522caef62a36b2b5e4/gcc%2Ftestsuite%2Fgcc.dg%2Fsymbian3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fsymbian3.c?ref=866cf0373156f1a614d620522caef62a36b2b5e4", "patch": "@@ -0,0 +1,7 @@\n+/* { dg-do compile { target arm*-*-symbianelf* } } */\n+/* Check that enumeration types are 4-byte types.  */\n+\n+enum e { e_1 };\n+\n+extern int i[sizeof (enum e)];\n+int i[4];"}, {"sha": "20585a713208c42afc5d6b142bb7860f2adf655a", "filename": "gcc/testsuite/gcc.dg/symbian4.c", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/866cf0373156f1a614d620522caef62a36b2b5e4/gcc%2Ftestsuite%2Fgcc.dg%2Fsymbian4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/866cf0373156f1a614d620522caef62a36b2b5e4/gcc%2Ftestsuite%2Fgcc.dg%2Fsymbian4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fsymbian4.c?ref=866cf0373156f1a614d620522caef62a36b2b5e4", "patch": "@@ -0,0 +1,5 @@\n+/* { dg-do compile { target arm*-*-symbianelf* } } */\n+/* Check that wchar_t is a 4-byte type.  */\n+\n+extern int i[sizeof (L'a')];\n+int i[4];"}, {"sha": "c51f252a38c343fdd0f7fdd3ab8b345de7196bc1", "filename": "gcc/testsuite/gcc.dg/wchar_t-2.c", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/866cf0373156f1a614d620522caef62a36b2b5e4/gcc%2Ftestsuite%2Fgcc.dg%2Fwchar_t-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/866cf0373156f1a614d620522caef62a36b2b5e4/gcc%2Ftestsuite%2Fgcc.dg%2Fwchar_t-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fwchar_t-2.c?ref=866cf0373156f1a614d620522caef62a36b2b5e4", "patch": "@@ -0,0 +1,6 @@\n+/* { dg-options \"-fshort-wchar\" } */\n+/* Check that \"-fshort-wchar\" makes wchar_t the same size as \"unsigned\n+   short\".  /\n+\n+extern int i[sizeof (L'a')];\n+int i[sizeof (unsigned short)];"}]}