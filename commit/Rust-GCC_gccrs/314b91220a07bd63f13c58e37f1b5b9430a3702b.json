{"sha": "314b91220a07bd63f13c58e37f1b5b9430a3702b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzE0YjkxMjIwYTA3YmQ2M2YxM2M1OGUzN2YxYjViOTQzMGEzNzAyYg==", "commit": {"author": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2020-03-09T13:13:04Z"}, "committer": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2020-03-09T13:13:04Z"}, "message": "Restore alignment in rs6000 target.\n\n\tPR target/93800\n\t* config/rs6000/rs6000.c (rs6000_option_override_internal):\n\tRemove set of str_align_loops and str_align_jumps as these\n\tshould be set in previous 2 conditions in the function.\n\tPR target/93800\n\t* gcc.target/powerpc/pr93800.c: New test.", "tree": {"sha": "1e79580940744bb941c649eac52a1016ce67c2eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1e79580940744bb941c649eac52a1016ce67c2eb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/314b91220a07bd63f13c58e37f1b5b9430a3702b", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEE6I4wzqqylQBfXaRhTcGC3A+nN4UFAl5mQOAACgkQTcGC3A+n\nN4XNagf+IOPZcPYl/odTnSFCJoKbXU4FFCkaWRPJbUye1jUGwri28T6qm1f09pN+\n/69XnHtmSruQbTweQoJ3hv/q4eh8PJpfUeNByxhC+cdUqtPn4sV5z6DqBQmNr9A4\nXwVyu9JMu4XYsBp7u4SCfupPY3Z4ED+NYR2bOYdpDqcPGb1fl+5a8dvkDz+6fG40\niwpMUCufTYabkWL5n5hKwokTl6H0lnFl7Pj7uy07vzO9tQFnUB5jr71MrzRweUdQ\n2NiQKdrhxGEn4t/3ws+ZMjzwRK5c05TOVgv9/wnRjZV5Zwb1IRDfDrUOWV1rrFC9\n0e9t/O78gVXYNlMj5yiMgMmpKuqrTQ==\n=UVIn\n-----END PGP SIGNATURE-----", "payload": "tree 1e79580940744bb941c649eac52a1016ce67c2eb\nparent 2e94d3ee47be0742df843d95e3d1bf1da11e4796\nauthor Martin Liska <mliska@suse.cz> 1583759584 +0100\ncommitter Martin Liska <mliska@suse.cz> 1583759584 +0100\n\nRestore alignment in rs6000 target.\n\n\tPR target/93800\n\t* config/rs6000/rs6000.c (rs6000_option_override_internal):\n\tRemove set of str_align_loops and str_align_jumps as these\n\tshould be set in previous 2 conditions in the function.\n\tPR target/93800\n\t* gcc.target/powerpc/pr93800.c: New test.\n"}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/314b91220a07bd63f13c58e37f1b5b9430a3702b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/314b91220a07bd63f13c58e37f1b5b9430a3702b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/314b91220a07bd63f13c58e37f1b5b9430a3702b/comments", "author": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2e94d3ee47be0742df843d95e3d1bf1da11e4796", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e94d3ee47be0742df843d95e3d1bf1da11e4796", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e94d3ee47be0742df843d95e3d1bf1da11e4796"}], "stats": {"total": 31, "additions": 26, "deletions": 5}, "files": [{"sha": "6c4a5053f444c2b0aa59d895190d556856e096fe", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/314b91220a07bd63f13c58e37f1b5b9430a3702b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/314b91220a07bd63f13c58e37f1b5b9430a3702b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=314b91220a07bd63f13c58e37f1b5b9430a3702b", "patch": "@@ -1,3 +1,10 @@\n+2020-03-09  Martin Liska  <mliska@suse.cz>\n+\n+\tPR target/93800\n+\t* config/rs6000/rs6000.c (rs6000_option_override_internal):\n+\tRemove set of str_align_loops and str_align_jumps as these\n+\tshould be set in previous 2 conditions in the function.\n+\n 2020-03-09  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR rtl-optimization/94045"}, {"sha": "848a4ef451e49b1463732667cfbbea1af1751a4c", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/314b91220a07bd63f13c58e37f1b5b9430a3702b/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/314b91220a07bd63f13c58e37f1b5b9430a3702b/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=314b91220a07bd63f13c58e37f1b5b9430a3702b", "patch": "@@ -4363,11 +4363,6 @@ rs6000_option_override_internal (bool global_init_p)\n \t\t  str_align_loops = \"16\";\n \t\t}\n \t    }\n-\n-\t  if (flag_align_jumps && !str_align_jumps)\n-\t    str_align_jumps = \"16\";\n-\t  if (flag_align_loops && !str_align_loops)\n-\t    str_align_loops = \"16\";\n \t}\n \n       /* Arrange to save and restore machine status around nested functions.  */"}, {"sha": "e4885b2b1edf73771876009c5b92c7bb8542138d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/314b91220a07bd63f13c58e37f1b5b9430a3702b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/314b91220a07bd63f13c58e37f1b5b9430a3702b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=314b91220a07bd63f13c58e37f1b5b9430a3702b", "patch": "@@ -1,3 +1,8 @@\n+2020-03-09  Martin Liska  <mliska@suse.cz>\n+\n+\tPR target/93800\n+\t* gcc.target/powerpc/pr93800.c: New test.\n+\n 2020-03-09  Bin Cheng  <bin.cheng@linux.alibaba.com>\n \n \t* g++.dg/coroutines/torture/co-ret-15-default-return_void.C: New."}, {"sha": "f8dfbe7c0822bd49221f71a2e5d4d2a5cfd9168c", "filename": "gcc/testsuite/gcc.target/powerpc/pr93800.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/314b91220a07bd63f13c58e37f1b5b9430a3702b/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr93800.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/314b91220a07bd63f13c58e37f1b5b9430a3702b/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr93800.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr93800.c?ref=314b91220a07bd63f13c58e37f1b5b9430a3702b", "patch": "@@ -0,0 +1,14 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-mcpu=860 -O2\" } */\n+/* { dg-require-effective-target ilp32 } */\n+/* { dg-final { scan-assembler-not \"\\\\.p2align 4\" } } */\n+\n+volatile int g;\n+int f(int a, int b)\n+{\n+\tint i;\n+\n+\tfor (i = 0; i < b; i++)\n+\t\ta += g;\n+\treturn a;\n+}"}]}