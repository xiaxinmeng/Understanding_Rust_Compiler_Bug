{"sha": "a03ea89be35173d7ec33cc329fbb565382c18418", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTAzZWE4OWJlMzUxNzNkN2VjMzNjYzMyOWZiYjU2NTM4MmMxODQxOA==", "commit": {"author": {"name": "Bryce McKinlay", "email": "mckinlay@redhat.com", "date": "2004-10-20T21:36:47Z"}, "committer": {"name": "Bryce McKinlay", "email": "bryce@gcc.gnu.org", "date": "2004-10-20T21:36:47Z"}, "message": "re PR java/15575 (HAVE_LANGINFO_CODESET never defined)\n\n2004-10-20  Bryce McKinlay  <mckinlay@redhat.com>\n\n\tPR java/15575\n\t* configure.ac: Declare AM_LANGINFO_CODESET.\n\t* aclocal.m4: Define AM_LANGINFO_CODESET.\n\t* configure, config.in: Rebuilt.\n\nFrom-SVN: r89345", "tree": {"sha": "fce1781edbf9acb00fb268e3b247868f4fc209db", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fce1781edbf9acb00fb268e3b247868f4fc209db"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a03ea89be35173d7ec33cc329fbb565382c18418", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a03ea89be35173d7ec33cc329fbb565382c18418", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a03ea89be35173d7ec33cc329fbb565382c18418", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a03ea89be35173d7ec33cc329fbb565382c18418/comments", "author": null, "committer": null, "parents": [{"sha": "d99d0f209ccbe2513d41226a9e1ab06394526867", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d99d0f209ccbe2513d41226a9e1ab06394526867", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d99d0f209ccbe2513d41226a9e1ab06394526867"}], "stats": {"total": 93, "additions": 93, "deletions": 0}, "files": [{"sha": "5ecd023d91f1bfbcc2c23bac17c181f9caa05b05", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a03ea89be35173d7ec33cc329fbb565382c18418/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a03ea89be35173d7ec33cc329fbb565382c18418/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a03ea89be35173d7ec33cc329fbb565382c18418", "patch": "@@ -1,3 +1,10 @@\n+2004-10-20  Bryce McKinlay  <mckinlay@redhat.com>\n+\n+\tPR java/15575\n+\t* configure.ac: Declare AM_LANGINFO_CODESET.\n+\t* aclocal.m4: Define AM_LANGINFO_CODESET.\n+\t* configure, config.in: Rebuilt.\n+\n 2004-10-20  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* expr.c (store_expr): Remove code that is run when"}, {"sha": "dfcc20be148fce21ba5b50e353d267ff31e88a98", "filename": "gcc/aclocal.m4", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a03ea89be35173d7ec33cc329fbb565382c18418/gcc%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a03ea89be35173d7ec33cc329fbb565382c18418/gcc%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Faclocal.m4?ref=a03ea89be35173d7ec33cc329fbb565382c18418", "patch": "@@ -433,6 +433,22 @@ AC_CACHE_CHECK(for __int64, ac_cv_c___int64,\n   fi\n ])\n \n+dnl From Bruno Haible.\n+\n+AC_DEFUN([AM_LANGINFO_CODESET],\n+[\n+  AC_CACHE_CHECK([for nl_langinfo and CODESET], am_cv_langinfo_codeset,\n+    [AC_TRY_LINK([#include <langinfo.h>],\n+      [char* cs = nl_langinfo(CODESET);],\n+      am_cv_langinfo_codeset=yes,\n+      am_cv_langinfo_codeset=no)\n+    ])\n+  if test $am_cv_langinfo_codeset = yes; then\n+    AC_DEFINE(HAVE_LANGINFO_CODESET, 1,\n+      [Define if you have <langinfo.h> and nl_langinfo(CODESET).])\n+  fi\n+])\n+\n AC_DEFUN([gcc_AC_INITFINI_ARRAY],\n [AC_ARG_ENABLE(initfini-array,\n \t[  --enable-initfini-array\tuse .init_array/.fini_array sections],"}, {"sha": "d819cf74cacad75a2f7703b6a143ee889d5a9577", "filename": "gcc/config.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a03ea89be35173d7ec33cc329fbb565382c18418/gcc%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a03ea89be35173d7ec33cc329fbb565382c18418/gcc%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.in?ref=a03ea89be35173d7ec33cc329fbb565382c18418", "patch": "@@ -336,6 +336,9 @@\n /* Define to 1 if you have the `kill' function. */\n #undef HAVE_KILL\n \n+/* Define if you have <langinfo.h> and nl_langinfo(CODESET). */\n+#undef HAVE_LANGINFO_CODESET\n+\n /* Define to 1 if you have the <langinfo.h> header file. */\n #undef HAVE_LANGINFO_H\n "}, {"sha": "402585e5b0fee7f3b6eef1d2efb8ebc0a0ddf93f", "filename": "gcc/configure", "status": "modified", "additions": 65, "deletions": 0, "changes": 65, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a03ea89be35173d7ec33cc329fbb565382c18418/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a03ea89be35173d7ec33cc329fbb565382c18418/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=a03ea89be35173d7ec33cc329fbb565382c18418", "patch": "@@ -11039,6 +11039,71 @@ _ACEOF\n   fi\n \n \n+\n+  echo \"$as_me:$LINENO: checking for nl_langinfo and CODESET\" >&5\n+echo $ECHO_N \"checking for nl_langinfo and CODESET... $ECHO_C\" >&6\n+if test \"${am_cv_langinfo_codeset+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <langinfo.h>\n+int\n+main ()\n+{\n+char* cs = nl_langinfo(CODESET);\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  am_cv_langinfo_codeset=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+am_cv_langinfo_codeset=no\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+\n+fi\n+echo \"$as_me:$LINENO: result: $am_cv_langinfo_codeset\" >&5\n+echo \"${ECHO_T}$am_cv_langinfo_codeset\" >&6\n+  if test $am_cv_langinfo_codeset = yes; then\n+\n+cat >>confdefs.h <<\\_ACEOF\n+#define HAVE_LANGINFO_CODESET 1\n+_ACEOF\n+\n+  fi\n+\n+\n # We will need to find libiberty.h and ansidecl.h\n saved_CFLAGS=\"$CFLAGS\"\n CFLAGS=\"$CFLAGS -I${srcdir} -I${srcdir}/../include\""}, {"sha": "7f943c6b7f948a9c65ae5c09e60d8a27aa6bad57", "filename": "gcc/configure.ac", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a03ea89be35173d7ec33cc329fbb565382c18418/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a03ea89be35173d7ec33cc329fbb565382c18418/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=a03ea89be35173d7ec33cc329fbb565382c18418", "patch": "@@ -1024,6 +1024,8 @@ AC_SUBST(LIBICONV_DEP)\n \n AM_LC_MESSAGES\n \n+AM_LANGINFO_CODESET\n+\n # We will need to find libiberty.h and ansidecl.h\n saved_CFLAGS=\"$CFLAGS\"\n CFLAGS=\"$CFLAGS -I${srcdir} -I${srcdir}/../include\""}]}