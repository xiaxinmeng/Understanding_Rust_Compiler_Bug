{"sha": "ff70d83cea614853f2d893b39e0d69fd62a93af6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmY3MGQ4M2NlYTYxNDg1M2YyZDg5M2IzOWUwZDY5ZmQ2MmE5M2FmNg==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2015-12-09T19:40:10Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2015-12-09T19:40:10Z"}, "message": "re PR lto/61886 (LTO breaks fread with _FORTIFY_SOURCE=2)\n\n\n\tPR ipa/61886\n\t* ipa-visibility.c (function_and_variable_visibility): Fix vtable\n\trewritting guard.\n\nFrom-SVN: r231474", "tree": {"sha": "410d9638982b7e45c8fcee215281d3e4081516e6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/410d9638982b7e45c8fcee215281d3e4081516e6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ff70d83cea614853f2d893b39e0d69fd62a93af6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff70d83cea614853f2d893b39e0d69fd62a93af6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ff70d83cea614853f2d893b39e0d69fd62a93af6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff70d83cea614853f2d893b39e0d69fd62a93af6/comments", "author": null, "committer": null, "parents": [{"sha": "378004b9d2633f4817da26feb2e07ba739b2eba1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/378004b9d2633f4817da26feb2e07ba739b2eba1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/378004b9d2633f4817da26feb2e07ba739b2eba1"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "44f621b73f2dbd7ca1885c90e101cb11e2c2c63f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff70d83cea614853f2d893b39e0d69fd62a93af6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff70d83cea614853f2d893b39e0d69fd62a93af6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ff70d83cea614853f2d893b39e0d69fd62a93af6", "patch": "@@ -1,3 +1,9 @@\n+2015-12-08  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\tPR ipa/61886\n+\t* ipa-visibility.c (function_and_variable_visibility): Fix vtable\n+\trewritting guard.\n+\n 2015-12-08  Jan Hubicka  <hubicka@ucw.cz>\n \n \tPR ipa/61886\n@@ -135,7 +141,6 @@\n \t* tree-vectorizer.h (set_vinfo_for_stmt): Assert we don't\n \toverwrite an existing entry.\n \n->>>>>>> .r231469\n 2015-12-09  Chung-Lin Tang  <cltang@codesourcery.com>\n \n \t* c-family/c-omp.c (c_finish_oacc_wait): Remove add_stmt() call."}, {"sha": "7ce8266c46612506c00d7f83bb468d4970a4c921", "filename": "gcc/ipa-visibility.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff70d83cea614853f2d893b39e0d69fd62a93af6/gcc%2Fipa-visibility.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff70d83cea614853f2d893b39e0d69fd62a93af6/gcc%2Fipa-visibility.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-visibility.c?ref=ff70d83cea614853f2d893b39e0d69fd62a93af6", "patch": "@@ -720,7 +720,7 @@ function_and_variable_visibility (bool whole_program)\n \t  bool found = false;\n \n \t  /* See if there is something to update.  */\n-\t  for (i = 0; vnode->iterate_referring (i, ref); i++)\n+\t  for (i = 0; vnode->iterate_reference (i, ref); i++)\n \t    if (ref->use == IPA_REF_ADDR\n \t\t&& can_replace_by_local_alias_in_vtable (ref->referred))\n \t      {"}]}