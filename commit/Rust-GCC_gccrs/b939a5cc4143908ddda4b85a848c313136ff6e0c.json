{"sha": "b939a5cc4143908ddda4b85a848c313136ff6e0c", "node_id": "C_kwDOANBUbNoAKGI5MzlhNWNjNDE0MzkwOGRkZGE0Yjg1YTg0OGMzMTMxMzZmZjZlMGM", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2022-09-27T10:29:46Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2022-09-27T10:33:23Z"}, "message": "fixincludes: FIx up for Debian/Ubuntu includes\n\nAs reported by Tobias, my C++ _Float{16,32,64,128,32x,64x,128x} support\npatch broke Debian/Ubuntu bootstraps.  The problem is that there\nglibc bits/floatn.h and bits/floatn-common.h isn't in /usr/include/\ndirectly, but in a subdirectory like /usr/include/x86_64-linux-gnu/\nSeems other fixinclude rules for bits/* headers use\nfiles = bits/whatever.h, \"*/bits/whatever.h\";\nso this patch just follows the suit.\n\n2022-06-27  Jakub Jelinek  <jakub@redhat.com>\n\n\t* inclhack.def (glibc_cxx_floatn_1, glibc_cxx_floatn_2,\n\tglibc_cxx_floatn_3): Add to files also \"*/bits/floatn.h\"\n\tand \"*/bits/floatn-common.h\".\n\t* fixincl.x: Regenerated.", "tree": {"sha": "914748a369d1124f85f1b13b21e38d4527ac7824", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/914748a369d1124f85f1b13b21e38d4527ac7824"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b939a5cc4143908ddda4b85a848c313136ff6e0c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b939a5cc4143908ddda4b85a848c313136ff6e0c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b939a5cc4143908ddda4b85a848c313136ff6e0c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b939a5cc4143908ddda4b85a848c313136ff6e0c/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c8dfa79c9948ce09a7b4071f8059294b1972aef6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8dfa79c9948ce09a7b4071f8059294b1972aef6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c8dfa79c9948ce09a7b4071f8059294b1972aef6"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "630972367f093981cc8dab2ca45d78e85306069f", "filename": "fixincludes/fixincl.x", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b939a5cc4143908ddda4b85a848c313136ff6e0c/fixincludes%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b939a5cc4143908ddda4b85a848c313136ff6e0c/fixincludes%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fixincludes%2Ffixincl.x?ref=b939a5cc4143908ddda4b85a848c313136ff6e0c", "patch": "@@ -2,11 +2,11 @@\n  *\n  * DO NOT EDIT THIS FILE   (fixincl.x)\n  *\n- * It has been AutoGen-ed  September 27, 2022 at 12:49:21 AM by AutoGen 5.18.16\n+ * It has been AutoGen-ed  September 27, 2022 at 12:21:44 PM by AutoGen 5.18.16\n  * From the definitions    inclhack.def\n  * and the template file   fixincl\n  */\n-/* DO NOT SVN-MERGE THIS FILE, EITHER Tue Sep 27 00:49:21 CEST 2022\n+/* DO NOT SVN-MERGE THIS FILE, EITHER Tue Sep 27 12:21:44 CEST 2022\n  *\n  * You must regenerate it.  Use the ./genfixes script.\n  *\n@@ -4116,7 +4116,7 @@ tSCC zGlibc_Cxx_Floatn_1Name[] =\n  *  File name selection pattern\n  */\n tSCC zGlibc_Cxx_Floatn_1List[] =\n-  \"bits/floatn.h\\0bits/floatn-common.h\\0\";\n+  \"bits/floatn.h\\0bits/floatn-common.h\\0*/bits/floatn.h\\0*/bits/floatn-common.h\\0\";\n /*\n  *  Machine/OS name selection pattern\n  */\n@@ -4157,7 +4157,7 @@ tSCC zGlibc_Cxx_Floatn_2Name[] =\n  *  File name selection pattern\n  */\n tSCC zGlibc_Cxx_Floatn_2List[] =\n-  \"bits/floatn.h\\0bits/floatn-common.h\\0\";\n+  \"bits/floatn.h\\0bits/floatn-common.h\\0*/bits/floatn.h\\0*/bits/floatn-common.h\\0\";\n /*\n  *  Machine/OS name selection pattern\n  */\n@@ -4197,7 +4197,7 @@ tSCC zGlibc_Cxx_Floatn_3Name[] =\n  *  File name selection pattern\n  */\n tSCC zGlibc_Cxx_Floatn_3List[] =\n-  \"bits/floatn.h\\0bits/floatn-common.h\\0\";\n+  \"bits/floatn.h\\0bits/floatn-common.h\\0*/bits/floatn.h\\0*/bits/floatn-common.h\\0\";\n /*\n  *  Machine/OS name selection pattern\n  */"}, {"sha": "88bf28fb58ccf1569945cc3edf7e623235297918", "filename": "fixincludes/inclhack.def", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b939a5cc4143908ddda4b85a848c313136ff6e0c/fixincludes%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b939a5cc4143908ddda4b85a848c313136ff6e0c/fixincludes%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fixincludes%2Finclhack.def?ref=b939a5cc4143908ddda4b85a848c313136ff6e0c", "patch": "@@ -2021,7 +2021,7 @@ fix = {\n  */\n fix = {\n     hackname  = glibc_cxx_floatn_1;\n-    files     = bits/floatn.h, bits/floatn-common.h;\n+    files     = bits/floatn.h, bits/floatn-common.h, \"*/bits/floatn.h\", \"*/bits/floatn-common.h\";\n     select    = \"^([ \\t]*#[ \\t]*if !__GNUC_PREREQ \\\\(7, 0\\\\) \\\\|\\\\| )defined __cplusplus\\n\"\n \t\t\"(([ \\t]*/\\\\*[^\\n]*\\\\*/\\n)?\"\n \t\t\"([ \\t]*#[ \\t]*if[^\\n]*\\n)?\"\n@@ -2059,7 +2059,7 @@ fix = {\n \n fix = {\n     hackname  = glibc_cxx_floatn_2;\n-    files     = bits/floatn.h, bits/floatn-common.h;\n+    files     = bits/floatn.h, bits/floatn-common.h, \"*/bits/floatn.h\", \"*/bits/floatn-common.h\";\n     select    = \"^([ \\t]*#[ \\t]*if !__GNUC_PREREQ \\\\(7, 0\\\\) \\\\|\\\\| )defined __cplusplus\\n\"\n \t\t\"(([ \\t]*/\\\\*[^\\n]*\\\\*/\\n)?\"\n \t\t\"[ \\t]*typedef[ \\t]+[^\\n]*[ \\t]+_Float(16|32|64|128)x?([ \\t]+__attribute__ \\\\(\\\\(__mode__ \\\\(__HF__\\\\)\\\\)\\\\))?;)\";\n@@ -2077,7 +2077,7 @@ fix = {\n \n fix = {\n     hackname  = glibc_cxx_floatn_3;\n-    files     = bits/floatn.h, bits/floatn-common.h;\n+    files     = bits/floatn.h, bits/floatn-common.h, \"*/bits/floatn.h\", \"*/bits/floatn-common.h\";\n     select    = \"^([ \\t]*#[ \\t]*if !__GNUC_PREREQ \\\\(7, 0\\\\) \\\\|\\\\| )defined __cplusplus\\n\"\n \t\t\"(([ \\t]*/\\\\*[^\\n]*\\n?[^\\n]*\\\\*/\\n)?\"\n \t\t\"([ \\t]*#[ \\t]*if[^\\n]*\\n)?\""}]}