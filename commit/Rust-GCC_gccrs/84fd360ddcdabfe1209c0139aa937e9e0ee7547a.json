{"sha": "84fd360ddcdabfe1209c0139aa937e9e0ee7547a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODRmZDM2MGRkY2RhYmZlMTIwOWMwMTM5YWE5MzdlOWUwZWU3NTQ3YQ==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@physics.uc.edu", "date": "2005-07-26T14:27:33Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2005-07-26T14:27:33Z"}, "message": "re PR libobjc/22606 (Exceptions cannot be thrown from -forward::)\n\n2005-07-26  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR libobjc/22606\n        * Makefile.in (ALL_CFLAGS): Add -fexceptions.\n2005-07-26  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR libobjc/22606\n        * objc.dg/try-catch-11.m: New test.\n\nFrom-SVN: r102386", "tree": {"sha": "66e7ece37d4f807569dcb1cffb5e42711da37e1d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/66e7ece37d4f807569dcb1cffb5e42711da37e1d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/84fd360ddcdabfe1209c0139aa937e9e0ee7547a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84fd360ddcdabfe1209c0139aa937e9e0ee7547a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84fd360ddcdabfe1209c0139aa937e9e0ee7547a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84fd360ddcdabfe1209c0139aa937e9e0ee7547a/comments", "author": null, "committer": null, "parents": [{"sha": "a4174ebf41fcfc398b6868b1c71f3172993f76da", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a4174ebf41fcfc398b6868b1c71f3172993f76da", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a4174ebf41fcfc398b6868b1c71f3172993f76da"}], "stats": {"total": 54, "additions": 53, "deletions": 1}, "files": [{"sha": "c4df73c93069e6bf696ebe94574c59269f96e47c", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84fd360ddcdabfe1209c0139aa937e9e0ee7547a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84fd360ddcdabfe1209c0139aa937e9e0ee7547a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=84fd360ddcdabfe1209c0139aa937e9e0ee7547a", "patch": "@@ -1,3 +1,8 @@\n+2005-07-26  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR libobjc/22606\n+\t* objc.dg/try-catch-11.m: New test.\n+\n 2005-07-26  Richard Guenther  <rguenther@suse.de>\n \n \tPR tree-optimization/22486"}, {"sha": "745deca7c1d0813f1694afb93b35bef17afeb768", "filename": "gcc/testsuite/objc.dg/try-catch-11.m", "status": "added", "additions": 42, "deletions": 0, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84fd360ddcdabfe1209c0139aa937e9e0ee7547a/gcc%2Ftestsuite%2Fobjc.dg%2Ftry-catch-11.m", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84fd360ddcdabfe1209c0139aa937e9e0ee7547a/gcc%2Ftestsuite%2Fobjc.dg%2Ftry-catch-11.m", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobjc.dg%2Ftry-catch-11.m?ref=84fd360ddcdabfe1209c0139aa937e9e0ee7547a", "patch": "@@ -0,0 +1,42 @@\n+/* Check that throwing an exception from a -forward:: works.  */\n+/* Developed by Marcin Koziej <creep@desk.pl>.  */\n+\n+/* { dg-do run } */\n+/* { dg-options \"-fobjc-exceptions -w\" } */\n+\n+#import <objc/Object.h>\n+#import <objc/objc-api.h>\n+#include <stdlib.h>\n+\n+static int i;\n+\n+@interface Thrower : Object\n+- forward: (SEL) s : (void*) a;\n+@end\n+\n+@implementation Thrower\n+- forward: (SEL) s : (void*) a\n+{\n+  i++;\n+  @throw [Object new];\n+}\n+@end\n+int\n+main()\n+{\n+  id t = [Thrower new];\n+  @try\n+  {\n+    [t doesnotexist];\n+  }\n+  @catch (id error)\n+  {\n+    i++;\n+    [error free];\n+  }\n+  \n+  if (i != 2)\n+    abort ();\n+  \n+  return 0;\n+}\n\\ No newline at end of file"}, {"sha": "4456989fafd20c2f21ff4559e0fc1952531229e6", "filename": "libobjc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84fd360ddcdabfe1209c0139aa937e9e0ee7547a/libobjc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84fd360ddcdabfe1209c0139aa937e9e0ee7547a/libobjc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2FChangeLog?ref=84fd360ddcdabfe1209c0139aa937e9e0ee7547a", "patch": "@@ -1,3 +1,8 @@\n+2005-07-26  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR libobjc/22606\n+\t* Makefile.in (ALL_CFLAGS): Add -fexceptions.\n+\n 2005-06-08  David Ayers  <d.ayers@inode.at>\n \n \t* objc/NXConstStr.h, objc/Object.h, objc/Protocol.h,"}, {"sha": "4dd1f9d3f5e53caacc2dbce0647809738f1dd525", "filename": "libobjc/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84fd360ddcdabfe1209c0139aa937e9e0ee7547a/libobjc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84fd360ddcdabfe1209c0139aa937e9e0ee7547a/libobjc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2FMakefile.in?ref=84fd360ddcdabfe1209c0139aa937e9e0ee7547a", "patch": "@@ -73,7 +73,7 @@ CC = @CC@\n CFLAGS = @CFLAGS@\n WARN_CFLAGS = -W -Wall -Wwrite-strings -Wstrict-prototypes\n ALL_CFLAGS = -I. -I$(srcdir) $(CPPFLAGS) $(DEFS) $(CFLAGS) $(WARN_CFLAGS) \\\n-\t-DIN_GCC -DIN_TARGET_LIBS -fno-strict-aliasing\n+\t-DIN_GCC -DIN_TARGET_LIBS -fno-strict-aliasing -fexceptions\n \n # Libtool\n # The following strings describe the version of the obj-C library "}]}