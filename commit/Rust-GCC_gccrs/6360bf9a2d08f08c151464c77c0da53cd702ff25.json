{"sha": "6360bf9a2d08f08c151464c77c0da53cd702ff25", "node_id": "C_kwDOANBUbNoAKDYzNjBiZjlhMmQwOGYwOGMxNTE0NjRjNzdjMGRhNTNjZDcwMmZmMjU", "commit": {"author": {"name": "Max Filippov", "email": "jcmvbkbc@gmail.com", "date": "2023-03-02T17:45:41Z"}, "committer": {"name": "Max Filippov", "email": "jcmvbkbc@gmail.com", "date": "2023-03-13T20:42:18Z"}, "message": "xtensa: add .note.GNU-stack section on linux\n\ngcc/\n\t* config/xtensa/linux.h (TARGET_ASM_FILE_END): New macro.\n\nlibgcc/\n\t* config/xtensa/crti.S: Add .note.GNU-stack section on linux.\n\t* config/xtensa/crtn.S: Likewise.\n\t* config/xtensa/lib1funcs.S: Likewise.\n\t* config/xtensa/lib2funcs.S: Likewise.", "tree": {"sha": "931ee8d0c5b0b6e0c773555ec01b3ef7cda70ebf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/931ee8d0c5b0b6e0c773555ec01b3ef7cda70ebf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6360bf9a2d08f08c151464c77c0da53cd702ff25", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6360bf9a2d08f08c151464c77c0da53cd702ff25", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6360bf9a2d08f08c151464c77c0da53cd702ff25", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6360bf9a2d08f08c151464c77c0da53cd702ff25/comments", "author": {"login": "jcmvbkbc", "id": 166731, "node_id": "MDQ6VXNlcjE2NjczMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/166731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcmvbkbc", "html_url": "https://github.com/jcmvbkbc", "followers_url": "https://api.github.com/users/jcmvbkbc/followers", "following_url": "https://api.github.com/users/jcmvbkbc/following{/other_user}", "gists_url": "https://api.github.com/users/jcmvbkbc/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcmvbkbc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcmvbkbc/subscriptions", "organizations_url": "https://api.github.com/users/jcmvbkbc/orgs", "repos_url": "https://api.github.com/users/jcmvbkbc/repos", "events_url": "https://api.github.com/users/jcmvbkbc/events{/privacy}", "received_events_url": "https://api.github.com/users/jcmvbkbc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jcmvbkbc", "id": 166731, "node_id": "MDQ6VXNlcjE2NjczMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/166731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcmvbkbc", "html_url": "https://github.com/jcmvbkbc", "followers_url": "https://api.github.com/users/jcmvbkbc/followers", "following_url": "https://api.github.com/users/jcmvbkbc/following{/other_user}", "gists_url": "https://api.github.com/users/jcmvbkbc/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcmvbkbc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcmvbkbc/subscriptions", "organizations_url": "https://api.github.com/users/jcmvbkbc/orgs", "repos_url": "https://api.github.com/users/jcmvbkbc/repos", "events_url": "https://api.github.com/users/jcmvbkbc/events{/privacy}", "received_events_url": "https://api.github.com/users/jcmvbkbc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "538a0d0f29b12cff05681b6de2e0a3d7b33f3ef0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/538a0d0f29b12cff05681b6de2e0a3d7b33f3ef0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/538a0d0f29b12cff05681b6de2e0a3d7b33f3ef0"}], "stats": {"total": 26, "additions": 26, "deletions": 0}, "files": [{"sha": "e684e7deebf924aa54f6d5086f375a89d7396b69", "filename": "gcc/config/xtensa/linux.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6360bf9a2d08f08c151464c77c0da53cd702ff25/gcc%2Fconfig%2Fxtensa%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6360bf9a2d08f08c151464c77c0da53cd702ff25/gcc%2Fconfig%2Fxtensa%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Flinux.h?ref=6360bf9a2d08f08c151464c77c0da53cd702ff25", "patch": "@@ -69,3 +69,5 @@ along with GCC; see the file COPYING3.  If not see\n #define XTENSA_ALWAYS_PIC 1\n \n #undef DEBUGGER_REGNO\n+\n+#define TARGET_ASM_FILE_END file_end_indicate_exec_stack"}, {"sha": "637203500c41c5f1eff3cd63f58fbe378d9f4365", "filename": "libgcc/config/xtensa/crti.S", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6360bf9a2d08f08c151464c77c0da53cd702ff25/libgcc%2Fconfig%2Fxtensa%2Fcrti.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6360bf9a2d08f08c151464c77c0da53cd702ff25/libgcc%2Fconfig%2Fxtensa%2Fcrti.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fxtensa%2Fcrti.S?ref=6360bf9a2d08f08c151464c77c0da53cd702ff25", "patch": "@@ -26,6 +26,12 @@\n \n #include \"xtensa-config-builtin.h\"\n \n+/* An executable stack is *not* required for these functions.  */\n+#if defined(__ELF__) && defined(__linux__)\n+.section .note.GNU-stack,\"\",%progbits\n+.previous\n+#endif\n+\n \t.section .init\n \t.globl _init\n \t.type _init,@function"}, {"sha": "15c13ea03d0ddf502d149d9100f2cf90b39a4ac6", "filename": "libgcc/config/xtensa/crtn.S", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6360bf9a2d08f08c151464c77c0da53cd702ff25/libgcc%2Fconfig%2Fxtensa%2Fcrtn.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6360bf9a2d08f08c151464c77c0da53cd702ff25/libgcc%2Fconfig%2Fxtensa%2Fcrtn.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fxtensa%2Fcrtn.S?ref=6360bf9a2d08f08c151464c77c0da53cd702ff25", "patch": "@@ -27,6 +27,12 @@\n \n #include \"xtensa-config-builtin.h\"\n \n+/* An executable stack is *not* required for these functions.  */\n+#if defined(__ELF__) && defined(__linux__)\n+.section .note.GNU-stack,\"\",%progbits\n+.previous\n+#endif\n+\n \t.section .init\n #if XCHAL_HAVE_WINDOWED && !__XTENSA_CALL0_ABI__\n \tretw"}, {"sha": "5baf2df1d20e96c5a078e7cd3c57e2f1714ed717", "filename": "libgcc/config/xtensa/lib1funcs.S", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6360bf9a2d08f08c151464c77c0da53cd702ff25/libgcc%2Fconfig%2Fxtensa%2Flib1funcs.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6360bf9a2d08f08c151464c77c0da53cd702ff25/libgcc%2Fconfig%2Fxtensa%2Flib1funcs.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fxtensa%2Flib1funcs.S?ref=6360bf9a2d08f08c151464c77c0da53cd702ff25", "patch": "@@ -25,6 +25,12 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n \n #include \"xtensa-config-builtin.h\"\n \n+/* An executable stack is *not* required for these functions.  */\n+#if defined(__ELF__) && defined(__linux__)\n+.section .note.GNU-stack,\"\",%progbits\n+.previous\n+#endif\n+\n /* Define macros for the ABS and ADDX* instructions to handle cases\n    where they are not included in the Xtensa processor configuration.  */\n "}, {"sha": "992f712238c430d88cc3b4911518e7de492a79ff", "filename": "libgcc/config/xtensa/lib2funcs.S", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6360bf9a2d08f08c151464c77c0da53cd702ff25/libgcc%2Fconfig%2Fxtensa%2Flib2funcs.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6360bf9a2d08f08c151464c77c0da53cd702ff25/libgcc%2Fconfig%2Fxtensa%2Flib2funcs.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fxtensa%2Flib2funcs.S?ref=6360bf9a2d08f08c151464c77c0da53cd702ff25", "patch": "@@ -25,6 +25,12 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n \n #include \"xtensa-config-builtin.h\"\n \n+/* An executable stack is *not* required for these functions.  */\n+#if defined(__ELF__) && defined(__linux__)\n+.section .note.GNU-stack,\"\",%progbits\n+.previous\n+#endif\n+\n /* __xtensa_libgcc_window_spill: This function flushes out all but the\n    current register window.  This is used to set up the stack so that\n    arbitrary frames can be accessed.  */"}]}