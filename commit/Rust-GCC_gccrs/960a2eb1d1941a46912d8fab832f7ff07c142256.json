{"sha": "960a2eb1d1941a46912d8fab832f7ff07c142256", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTYwYTJlYjFkMTk0MWE0NjkxMmQ4ZmFiODMyZjdmZjA3YzE0MjI1Ng==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-07-05T21:12:43Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-07-05T21:12:43Z"}, "message": "(duplicate_decls): Don't warn about disagreement in `inline' except when...\n\n(duplicate_decls): Don't warn about disagreement in `inline'\nexcept when non-inline fn is made inline after a call or definition.\n(finish_function): Set BLOCK_SUPERCONTEXT of outer block.\n\nFrom-SVN: r1449", "tree": {"sha": "3a9e58446f104f17444efe99e5762ca186e2ffea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3a9e58446f104f17444efe99e5762ca186e2ffea"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/960a2eb1d1941a46912d8fab832f7ff07c142256", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/960a2eb1d1941a46912d8fab832f7ff07c142256", "html_url": "https://github.com/Rust-GCC/gccrs/commit/960a2eb1d1941a46912d8fab832f7ff07c142256", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/960a2eb1d1941a46912d8fab832f7ff07c142256/comments", "author": null, "committer": null, "parents": [{"sha": "d3d6669e17de7aa0c7d5bf32954fc1fa7d70606e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3d6669e17de7aa0c7d5bf32954fc1fa7d70606e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d3d6669e17de7aa0c7d5bf32954fc1fa7d70606e"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "f5a996a3918a25de89e86c3563bd2d6a79c16823", "filename": "gcc/c-decl.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/960a2eb1d1941a46912d8fab832f7ff07c142256/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/960a2eb1d1941a46912d8fab832f7ff07c142256/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=960a2eb1d1941a46912d8fab832f7ff07c142256", "patch": "@@ -1391,10 +1391,10 @@ duplicate_decls (newdecl, olddecl)\n \t    warning_with_decl (newdecl,\n \t\t\t       \"`%s' declared inline after being called\");\n \t  if (TREE_CODE (olddecl) == FUNCTION_DECL\n-\t      && TREE_INLINE (olddecl) != TREE_INLINE (newdecl)\n-\t      && ! (TREE_EXTERNAL (olddecl) && TREE_EXTERNAL (newdecl)))\n+\t      && ! TREE_INLINE (olddecl) && TREE_INLINE (newdecl)\n+\t      && DECL_INITIAL (olddecl) != 0)\n \t    warning_with_decl (newdecl,\n-\t\t\t       \"`%s' declarations disagree about `inline'\");\n+\t\t\t       \"`%s' declared inline after its definition\");\n \t  /* It is nice to warn when a function is declared\n \t     global first and then static.  */\n \t  if (TREE_CODE (olddecl) == FUNCTION_DECL\n@@ -5754,6 +5754,7 @@ finish_function (nested)\n     which then got a warning when stored in a ptr-to-function variable.  */\n \n   poplevel (1, 0, 1);\n+  BLOCK_SUPERCONTEXT (DECL_INITIAL (fndecl)) = fndecl;\n \n   /* Must mark the RESULT_DECL as being in this function.  */\n "}]}