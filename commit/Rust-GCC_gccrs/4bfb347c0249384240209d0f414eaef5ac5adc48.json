{"sha": "4bfb347c0249384240209d0f414eaef5ac5adc48", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGJmYjM0N2MwMjQ5Mzg0MjQwMjA5ZDBmNDE0ZWFlZjVhYzVhZGM0OA==", "commit": {"author": {"name": "Robin Dapp", "email": "rdapp@linux.vnet.ibm.com", "date": "2017-05-30T11:00:50Z"}, "committer": {"name": "Andreas Krebbel", "email": "krebbel@gcc.gnu.org", "date": "2017-05-30T11:00:50Z"}, "message": "Vector peeling cost model 5/6\n\ngcc/testsuite/ChangeLog:\n\n2017-05-30  Robin Dapp  <rdapp@linux.vnet.ibm.com>\n\n\t* gcc.target/s390/vector/vec-nopeel-2.c: New test.\n\nFrom-SVN: r248679", "tree": {"sha": "9584fb6cea628b9683ce40cdbfa6a9990e8347a3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9584fb6cea628b9683ce40cdbfa6a9990e8347a3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4bfb347c0249384240209d0f414eaef5ac5adc48", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4bfb347c0249384240209d0f414eaef5ac5adc48", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4bfb347c0249384240209d0f414eaef5ac5adc48", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4bfb347c0249384240209d0f414eaef5ac5adc48/comments", "author": {"login": "rdapp1", "id": 22046046, "node_id": "MDQ6VXNlcjIyMDQ2MDQ2", "avatar_url": "https://avatars.githubusercontent.com/u/22046046?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rdapp1", "html_url": "https://github.com/rdapp1", "followers_url": "https://api.github.com/users/rdapp1/followers", "following_url": "https://api.github.com/users/rdapp1/following{/other_user}", "gists_url": "https://api.github.com/users/rdapp1/gists{/gist_id}", "starred_url": "https://api.github.com/users/rdapp1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rdapp1/subscriptions", "organizations_url": "https://api.github.com/users/rdapp1/orgs", "repos_url": "https://api.github.com/users/rdapp1/repos", "events_url": "https://api.github.com/users/rdapp1/events{/privacy}", "received_events_url": "https://api.github.com/users/rdapp1/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "64812d33ac6c0f23a3f4c25bc5497d7bb00e0f24", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64812d33ac6c0f23a3f4c25bc5497d7bb00e0f24", "html_url": "https://github.com/Rust-GCC/gccrs/commit/64812d33ac6c0f23a3f4c25bc5497d7bb00e0f24"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "79bb197a1304f32b9fd39d95babadd4b6b0f7556", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4bfb347c0249384240209d0f414eaef5ac5adc48/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4bfb347c0249384240209d0f414eaef5ac5adc48/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4bfb347c0249384240209d0f414eaef5ac5adc48", "patch": "@@ -1,3 +1,7 @@\n+2017-05-30  Robin Dapp  <rdapp@linux.vnet.ibm.com>\n+\n+\t* gcc.target/s390/vector/vec-nopeel-2.c: New test.\n+\n 2017-05-30  Jozef Lawrynowicz  <jozef.l@somniumtech.com>\n \n \tPR target/78838"}, {"sha": "9b67793e6f4fe4558a563402f9c43fcd65bab2fb", "filename": "gcc/testsuite/gcc.target/s390/vector/vec-nopeel-2.c", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4bfb347c0249384240209d0f414eaef5ac5adc48/gcc%2Ftestsuite%2Fgcc.target%2Fs390%2Fvector%2Fvec-nopeel-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4bfb347c0249384240209d0f414eaef5ac5adc48/gcc%2Ftestsuite%2Fgcc.target%2Fs390%2Fvector%2Fvec-nopeel-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fs390%2Fvector%2Fvec-nopeel-2.c?ref=4bfb347c0249384240209d0f414eaef5ac5adc48", "patch": "@@ -0,0 +1,12 @@\n+/* { dg-do compile } */\n+/* { dg-require-effective-target s390_vx } */\n+/* { dg-options \"-O2 -mzarch -march=z13 -ftree-vectorize -fdump-tree-vect-details -fvect-cost-model=dynamic\" } */\n+\n+void foo(int *restrict a, int *restrict b, unsigned int n)\n+{\n+  for (unsigned int i = 0; i < n; i++)\n+    b[i] = a[i] * 2 + 1;\n+}\n+\n+/* { dg-final { scan-tree-dump-times \"vectorized 1 loops\" 1 \"vect\" } } */\n+/* { dg-final { scan-tree-dump-times \"Vectorizing an unaligned access\" 2 \"vect\" } } */"}]}