{"sha": "7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2IxZTgyNzI0YTlmMmFiYzQ3ZjUyYjU4OThjY2Q4YjAyZWEyZGQzMA==", "commit": {"author": {"name": "Paul Eggert", "email": "eggert@gnu.org", "date": "1993-09-28T00:23:58Z"}, "committer": {"name": "Paul Eggert", "email": "eggert@gnu.org", "date": "1993-09-28T00:23:58Z"}, "message": "(ASM_FILE_START): Quote special characters in file names.\n\nFrom-SVN: r5497", "tree": {"sha": "83a86d9e83d06424fd2fb415b739788a6e2b6f2d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/83a86d9e83d06424fd2fb415b739788a6e2b6f2d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30/comments", "author": null, "committer": null, "parents": [{"sha": "73e2c65036612b9886b57d974b49de4507df06db", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73e2c65036612b9886b57d974b49de4507df06db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/73e2c65036612b9886b57d974b49de4507df06db"}], "stats": {"total": 41, "additions": 23, "deletions": 18}, "files": [{"sha": "640ad2d095ee8503f10f565d9a66f3570328d160", "filename": "gcc/config/a29k/a29k.h", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30/gcc%2Fconfig%2Fa29k%2Fa29k.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30/gcc%2Fconfig%2Fa29k%2Fa29k.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fa29k%2Fa29k.h?ref=7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30", "patch": "@@ -1311,7 +1311,9 @@ extern char *a29k_function_name;\n   for (p = main_input_filename; *p; p++)\t\t\t\\\n     if (*p == '/')\t\t\t\t\t\t\\\n       after_dir = p + 1;\t\t\t\t\t\\\n-  fprintf (FILE, \"\\t.file \\\"%s\\\"\\n\", after_dir);\t\t\\\n+  fprintf (FILE, \"\\t.file \");\t\t\t\t\t\\\n+  output_quoted_string (FILE, after_dir);\t\t\t\\\n+  fprintf (FILE, \"\\n\");\t\t\t\t\t\t\\\n   fprintf (FILE, \"\\t.sect .lit,lit\\n\"); }\n \n /* Output to assembler file text saying following lines"}, {"sha": "ca77015437f9046351e5a0d2075d1a6ef5753d48", "filename": "gcc/config/a29k/unix.h", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30/gcc%2Fconfig%2Fa29k%2Funix.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30/gcc%2Fconfig%2Fa29k%2Funix.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fa29k%2Funix.h?ref=7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30", "patch": "@@ -61,7 +61,9 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n   for (p = main_input_filename; *p; p++)\t\t\t\\\n     if (*p == '/')\t\t\t\t\t\t\\\n       after_dir = p + 1;\t\t\t\t\t\\\n-  fprintf (FILE, \"\\t.file \\\"%s\\\"\\n\", after_dir);\t\t\\\n+  fprintf (FILE, \"\\t.file \");\t\t\t\t\t\\\n+  output_quoted_string (FILE, after_dir);\t\t\t\\\n+  fprintf (FILE, \"\\n\");\t\t\t\t\t\t\\\n   if (flag_shared_data)\t\t\t\t\t\t\\\n     fprintf (FILE, \"\\t.sect .shdata,data\\n\");\t\t\t\\\n   fprintf (FILE, \"\\t.sect .lit,lit\\n\");  }"}, {"sha": "4e63134f950833b9b9cc4b7d7bfa47ce1e4c9079", "filename": "gcc/config/alpha/alpha.h", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30/gcc%2Fconfig%2Falpha%2Falpha.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30/gcc%2Fconfig%2Falpha%2Falpha.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.h?ref=7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30", "patch": "@@ -1354,7 +1354,9 @@ extern char *current_function_name;\n   for (p = main_input_filename; *p; p++)\t\t\t\\\n     if (*p == '/')\t\t\t\t\t\t\\\n       after_dir = p + 1;\t\t\t\t\t\\\n-  fprintf (FILE, \"\\n\\t.file 2 \\\"%s\\\"\\n\", after_dir);\t        \\\n+  fprintf (FILE, \"\\n\\t.file 2 \");\t\t\t        \\\n+  output_quoted_string (FILE, after_dir);\t\t        \\\n+  fprintf (FILE, \"\\n\");\t\t\t\t\t        \\\n }\n \n /* Output to assembler file text saying following lines"}, {"sha": "16d687540e317efbe0057b7ca9c7b195d0ad464d", "filename": "gcc/config/i386/aix386ng.h", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30/gcc%2Fconfig%2Fi386%2Faix386ng.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30/gcc%2Fconfig%2Fi386%2Faix386ng.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Faix386ng.h?ref=7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30", "patch": "@@ -57,7 +57,9 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n \n #undef ASM_FILE_START\n #define ASM_FILE_START(FILE) \t\t\t\t\t\\\n-  do { fprintf (FILE, \"\\t.file\\t\\\"%s\\\"\\n\", dump_base_name);\t\\\n+  do { fprintf (FILE, \"\\t.file\\t\");\t\t\t\t\\\n+       output_quoted_string (FILE, dump_base_name);\t\t\\\n+       fprintf (FILE, \"\\n\");\t\t\t\t\t\\\n        if (optimize)\t\t\t\t\t\t\\\n           ASM_FILE_START_1 (FILE); \t\t\t\t\\\n        else\t\t\t\t\t\t\t\\"}, {"sha": "c0f8d9db59e619366af02e0ab550879a2c2b6dd1", "filename": "gcc/config/i386/bsd.h", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30/gcc%2Fconfig%2Fi386%2Fbsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30/gcc%2Fconfig%2Fi386%2Fbsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fbsd.h?ref=7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30", "patch": "@@ -48,7 +48,10 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n    ??? I am skeptical of this -- RMS.  */\n \n #define ASM_FILE_START(FILE) \\\n-  fprintf (FILE, \"\\t.file\\t\\\"%s\\\"\\n\", dump_base_name);\n+  do {\tfprintf (FILE, \"\\t.file\\t\");\t\t\t\t\\\n+\toutput_quoted_string (FILE, dump_base_name);\t\t\\\n+\tfprintf (FILE, \"\\n\");\t\t\t\t\t\\\n+  } while (0)\n \n /* This was suggested, but it shouldn't be right for DBX output. -- RMS\n    #define ASM_OUTPUT_SOURCE_FILENAME(FILE, NAME) */"}, {"sha": "7dc3da061afbfec1dfa5f60c38e0406495536ebe", "filename": "gcc/config/i386/gas.h", "status": "modified", "additions": 4, "deletions": 12, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30/gcc%2Fconfig%2Fi386%2Fgas.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30/gcc%2Fconfig%2Fi386%2Fgas.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fgas.h?ref=7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30", "patch": "@@ -93,19 +93,11 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n      fprintf ((FILE), \"\\t.align 2,0x90\\n\");  /* Use log of 4 as arg.  */\n \f\n #undef ASM_FILE_START\n-/* ASM_FILE_START(FILE) used to be defined as:\n-     fprintf (FILE, \"\\t.file\\t\\\"%s\\\"\\n\", dump_base_name);\n-   However, the string dump_base_name may contain backslashes.  (This may often\n-   be the case when gcc is run under operating systems such as DOS and OS/2.)\n-   Each backslash in dump_base_name must be converted to two consecutive\n-   backslashes on output.  */\n #define ASM_FILE_START(FILE) \\\n-  { char *p; \\\n-    fprintf (FILE, \"\\t.file\\t\\\"\"); \\\n-    for (p = dump_base_name; *p != '\\0'; p++) \\\n-      if (*p == '\\\\') fprintf (FILE, \"\\\\\\\\\");  \\\n-      else fprintf (FILE, \"%c\", *p); \\\n-    fprintf (FILE, \"\\\"\\n\"); }\n+  do {\tfprintf (FILE, \"\\t.file\\t\");\t\t\t\\\n+\toutput_quoted_string (FILE, dump_base_name);\t\\\n+\tfprintf (FILE, \"\\n\");\t\t\t\t\\\n+  } while (0)\n \n /* A C statement or statements which output an assembler instruction\n    opcode to the stdio stream STREAM.  The macro-operand PTR is a"}, {"sha": "df247229e3d4390a3e73cc73c764f863c019a9aa", "filename": "gcc/config/i386/sun386.h", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30/gcc%2Fconfig%2Fi386%2Fsun386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30/gcc%2Fconfig%2Fi386%2Fsun386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fsun386.h?ref=7b1e82724a9f2abc47f52b5898ccd8b02ea2dd30", "patch": "@@ -70,7 +70,9 @@ do\t\t\t\t\t\t\t\t\\\n \t}\t\t\t\t\t\t\\\n       strncpy (shorter, na, 14);\t\t\t\\\n       shorter[14] = 0;\t\t\t\t\t\\\n-      fprintf (FILE, \"\\t.file\\t\\\"%s\\\"\\n\", shorter);\t\\\n+      fprintf (FILE, \"\\t.file\\t\");\t\t\t\\\n+      output_quoted_string (FILE, shorter);\t\t\\\n+      fprintf (FILE, \"\\n\");\t\t\t\t\\\n     }\t\t\t\t\t\t\t\\\n     fprintf (FILE, \"\\t.version\\t\\\"%s %s\\\"\\n\",\t\t\\\n \t     language_string, version_string);\t\t\\"}]}