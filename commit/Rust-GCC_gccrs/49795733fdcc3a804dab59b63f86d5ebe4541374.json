{"sha": "49795733fdcc3a804dab59b63f86d5ebe4541374", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDk3OTU3MzNmZGNjM2E4MDRkYWI1OWI2M2Y4NmQ1ZWJlNDU0MTM3NA==", "commit": {"author": {"name": "Fritz Reese", "email": "foreese@gcc.gnu.org", "date": "2020-04-15T15:44:40Z"}, "committer": {"name": "Fritz Reese", "email": "foreese@gcc.gnu.org", "date": "2020-04-15T15:44:40Z"}, "message": "Simplify recently introduced check to simplify_bound.\n\ngcc/fortran/ChangeLog:\n\n2020-04-15  Fritz Reese  <foreese@gcc.gnu.org>\n\tLinus Koenig <link@sig-st.de>\n\n\tPR fortran/94192\n\t* simplify.c (simplify_bound): Simplify condition for error check.", "tree": {"sha": "1ce951a765fb58f85c6a97c998bdd3c2414eaa0a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1ce951a765fb58f85c6a97c998bdd3c2414eaa0a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/49795733fdcc3a804dab59b63f86d5ebe4541374", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/49795733fdcc3a804dab59b63f86d5ebe4541374", "html_url": "https://github.com/Rust-GCC/gccrs/commit/49795733fdcc3a804dab59b63f86d5ebe4541374", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/49795733fdcc3a804dab59b63f86d5ebe4541374/comments", "author": null, "committer": null, "parents": [{"sha": "d4f655724c6e19ef0aeb5ac9e8d04abd962ccde7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4f655724c6e19ef0aeb5ac9e8d04abd962ccde7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d4f655724c6e19ef0aeb5ac9e8d04abd962ccde7"}], "stats": {"total": 14, "additions": 10, "deletions": 4}, "files": [{"sha": "515b91210f49a03650de2b7dcc93af30801643c0", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/49795733fdcc3a804dab59b63f86d5ebe4541374/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/49795733fdcc3a804dab59b63f86d5ebe4541374/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=49795733fdcc3a804dab59b63f86d5ebe4541374", "patch": "@@ -1,3 +1,9 @@\n+2020-04-15  Fritz Reese  <foreese@gcc.gnu.org>\n+\tLinus Koenig <link@sig-st.de>\n+\n+\tPR fortran/94192\n+\t* simplify.c (simplify_bound): Simplify condition for error check.\n+\n 2020-04-14  Tobias Burnus  <tobias@codesourcery.com>\n \n \t* module.c (gfc_match_use): Fix name-conflict check for use-associating"}, {"sha": "d5703e38251b3a06f3472e247be9aade63290bdd", "filename": "gcc/fortran/simplify.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/49795733fdcc3a804dab59b63f86d5ebe4541374/gcc%2Ffortran%2Fsimplify.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/49795733fdcc3a804dab59b63f86d5ebe4541374/gcc%2Ffortran%2Fsimplify.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fsimplify.c?ref=49795733fdcc3a804dab59b63f86d5ebe4541374", "patch": "@@ -4159,10 +4159,6 @@ simplify_bound (gfc_expr *array, gfc_expr *dim, gfc_expr *kind, int upper)\n   gfc_array_spec *as;\n   int d;\n \n-  /* Do not attempt to resolve if error has already been issued.  */\n-  if (array->symtree && array->symtree->n.sym->error)\n-    return NULL;\n-\n   if (array->ts.type == BT_CLASS)\n     return NULL;\n \n@@ -4173,6 +4169,10 @@ simplify_bound (gfc_expr *array, gfc_expr *dim, gfc_expr *kind, int upper)\n       goto done;\n     }\n \n+  /* Do not attempt to resolve if error has already been issued.  */\n+  if (array->symtree->n.sym->error)\n+    return NULL;\n+\n   /* Follow any component references.  */\n   as = array->symtree->n.sym->as;\n   for (ref = array->ref; ref; ref = ref->next)"}]}