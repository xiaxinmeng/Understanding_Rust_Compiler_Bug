{"sha": "a23eff1bd04ebdca503376ae6198d95c737dc3de", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTIzZWZmMWJkMDRlYmRjYTUwMzM3NmFlNjE5OGQ5NWM3MzdkYzNkZQ==", "commit": {"author": {"name": "Patrick Palka", "email": "ppalka@redhat.com", "date": "2020-03-20T17:06:21Z"}, "committer": {"name": "Patrick Palka", "email": "ppalka@redhat.com", "date": "2020-03-20T17:06:21Z"}, "message": "c++: Add testcases from PR c++/69694\n\nThese testcases are compiling successfully since 7.1.\n\ngcc/testsuite/ChangeLog:\n\n\tPR c++/69694\n\t* g++.dg/cpp0x/decltype74.C: New test.\n\t* g++.dg/cpp0x/decltype75.C: New test.", "tree": {"sha": "dcf338e190266c3a96f485fb3e8ce03757de196f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dcf338e190266c3a96f485fb3e8ce03757de196f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a23eff1bd04ebdca503376ae6198d95c737dc3de", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a23eff1bd04ebdca503376ae6198d95c737dc3de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a23eff1bd04ebdca503376ae6198d95c737dc3de", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a23eff1bd04ebdca503376ae6198d95c737dc3de/comments", "author": null, "committer": null, "parents": [{"sha": "1dfcc3b541c52174e0d7d7f30e7e092d02000a7f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1dfcc3b541c52174e0d7d7f30e7e092d02000a7f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1dfcc3b541c52174e0d7d7f30e7e092d02000a7f"}], "stats": {"total": 60, "additions": 60, "deletions": 0}, "files": [{"sha": "76b93b570bb184491c09f5e7ee7c1169f67ab094", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a23eff1bd04ebdca503376ae6198d95c737dc3de/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a23eff1bd04ebdca503376ae6198d95c737dc3de/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a23eff1bd04ebdca503376ae6198d95c737dc3de", "patch": "@@ -1,3 +1,9 @@\n+2020-03-20  Patrick Palka  <ppalka@redhat.com>\n+\n+\tPR c++/69694\n+\t* g++.dg/cpp0x/decltype74.C: New test.\n+\t* g++.dg/cpp0x/decltype75.C: New test.\n+\n 2020-03-20  Srinath Parvathaneni  <srinath.parvathaneni@arm.com>\n             Andre Vieira  <andre.simoesdiasvieira@arm.com>\n             Mihail Ionescu  <mihail.ionescu@arm.com>"}, {"sha": "9ddd1c13e4ff6e894f7ae433c23b2088c91d7657", "filename": "gcc/testsuite/g++.dg/cpp0x/decltype74.C", "status": "added", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a23eff1bd04ebdca503376ae6198d95c737dc3de/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdecltype74.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a23eff1bd04ebdca503376ae6198d95c737dc3de/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdecltype74.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdecltype74.C?ref=a23eff1bd04ebdca503376ae6198d95c737dc3de", "patch": "@@ -0,0 +1,30 @@\n+// PR c++/69694\n+// { dg-do compile { target c++11 } }\n+\n+// n3911: TransformationTrait Alias `void_t`\n+template<typename...> struct make_void { using type = void; };\n+template<typename... Ts> using void_t = typename make_void<Ts...>::type;\n+\n+// std::declval<void*&>\n+void*& declval_void();\n+\n+template<typename, typename = void> struct Fun;\n+template<typename R>\n+  struct Fun<R(), void>\n+{\n+  void fun();\n+};\n+template<typename Desc>\n+  struct Fun<Desc, void_t<decltype (declval_void() = Desc::name)>>\n+    : Fun<void()>\n+{\n+};\n+\n+struct Tag { static constexpr void* name = 0; };\n+\n+template<typename> void a()\n+{\n+  Fun<Tag>{}.fun();\n+}\n+\n+void b() { a<int>(); }"}, {"sha": "0e97411af8b43a35f12697fc89fd33f5ab218ca9", "filename": "gcc/testsuite/g++.dg/cpp0x/decltype75.C", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a23eff1bd04ebdca503376ae6198d95c737dc3de/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdecltype75.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a23eff1bd04ebdca503376ae6198d95c737dc3de/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdecltype75.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdecltype75.C?ref=a23eff1bd04ebdca503376ae6198d95c737dc3de", "patch": "@@ -0,0 +1,24 @@\n+// PR c++/69694\n+// This is a reduced version of decltype74.C.\n+// { dg-do compile { target c++11 } }\n+\n+template<typename... Ts> using void_t = void;\n+\n+extern void *declval_void;\n+\n+template<typename, typename> struct Fun { };\n+\n+template<typename Desc>\n+struct Fun<Desc, void_t<decltype (declval_void = Desc::name)>>\n+{\n+  void fun();\n+};\n+\n+struct Tag { static constexpr void* name = 0; };\n+\n+template<typename> void a()\n+{\n+  Fun<Tag, void>{}.fun();\n+}\n+\n+void b() { a<int>(); }"}]}