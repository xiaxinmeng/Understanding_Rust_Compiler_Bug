{"sha": "9e4ef69ef80e6ef91c4897f0d6c0f7e47fdfd279", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWU0ZWY2OWVmODBlNmVmOTFjNDg5N2YwZDZjMGY3ZTQ3ZmRmZDI3OQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@google.com", "date": "2011-09-23T14:28:13Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-09-23T14:28:13Z"}, "message": "godump.c (go_define): Treat a single character in single quotes, or a string, as an operand.\n\n\t* godump.c (go_define): Treat a single character in single quotes,\n\tor a string, as an operand.\n\nFrom-SVN: r179118", "tree": {"sha": "d772d9109c88179366bd7fa7753cb5600bb2d081", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d772d9109c88179366bd7fa7753cb5600bb2d081"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9e4ef69ef80e6ef91c4897f0d6c0f7e47fdfd279", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e4ef69ef80e6ef91c4897f0d6c0f7e47fdfd279", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e4ef69ef80e6ef91c4897f0d6c0f7e47fdfd279", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e4ef69ef80e6ef91c4897f0d6c0f7e47fdfd279/comments", "author": null, "committer": null, "parents": [{"sha": "c75732496d9ad114b50a9a94b71d028bf4168059", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c75732496d9ad114b50a9a94b71d028bf4168059", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c75732496d9ad114b50a9a94b71d028bf4168059"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "424404f40f4e53f4c2c8427651219bd012fd39de", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e4ef69ef80e6ef91c4897f0d6c0f7e47fdfd279/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e4ef69ef80e6ef91c4897f0d6c0f7e47fdfd279/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9e4ef69ef80e6ef91c4897f0d6c0f7e47fdfd279", "patch": "@@ -1,3 +1,8 @@\n+2011-09-23  Ian Lance Taylor  <iant@google.com>\n+\n+\t* godump.c (go_define): Treat a single character in single quotes,\n+\tor a string, as an operand.\n+\n 2011-09-23  Martin Jambor  <mjambor@suse.cz>\n \n \t* ipa-prop.h (jump_func_type): Updated comments."}, {"sha": "11cd32998ec92f737e225e5cbcd4e1d2759116f8", "filename": "gcc/godump.c", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e4ef69ef80e6ef91c4897f0d6c0f7e47fdfd279/gcc%2Fgodump.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e4ef69ef80e6ef91c4897f0d6c0f7e47fdfd279/gcc%2Fgodump.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgodump.c?ref=9e4ef69ef80e6ef91c4897f0d6c0f7e47fdfd279", "patch": "@@ -301,18 +301,22 @@ go_define (unsigned int lineno, const char *buffer)\n \tcase '\\'':\n \t  {\n \t    char quote;\n+\t    int count;\n \n \t    if (saw_operand)\n \t      goto unknown;\n \t    quote = *p;\n \t    *q++ = *p++;\n+\t    count = 0;\n \t    while (*p != quote)\n \t      {\n \t\tint c;\n \n \t\tif (*p == '\\0')\n \t\t  goto unknown;\n \n+\t\t++count;\n+\n \t\tif (*p != '\\\\')\n \t\t  {\n \t\t    *q++ = *p++;\n@@ -358,7 +362,15 @@ go_define (unsigned int lineno, const char *buffer)\n \t\t    goto unknown;\n \t\t  }\n \t      }\n+\n \t    *q++ = *p++;\n+\n+\t    if (quote == '\\'' && count != 1)\n+\t      goto unknown;\n+\n+\t    saw_operand = true;\n+\t    need_operand = false;\n+\n \t    break;\n \t  }\n "}]}