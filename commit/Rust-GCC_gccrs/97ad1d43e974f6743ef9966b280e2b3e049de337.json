{"sha": "97ad1d43e974f6743ef9966b280e2b3e049de337", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTdhZDFkNDNlOTc0ZjY3NDNlZjk5NjZiMjgwZTJiM2UwNDlkZTMzNw==", "commit": {"author": {"name": "Donn Terry", "email": "donn@interix.com", "date": "1999-04-10T05:15:27Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-04-10T05:15:27Z"}, "message": "t-interix: Use mostly system headers unchanged.\n\n        * i386/t-interix: Use mostly system headers unchanged.\n        Use system assert.h\n        * fixinc/fixinc.interix: Ditto (make almost no-op).\n        * config/x-interix.h (_ALL_SOURCE): add -D\n        * config/x-interix.h (crti.o): Delete dependency.\n        * config/xm-interix.h (ONLY_INT_FIELDS): Define only when bootstrapping.\n        * i386/xm-i386-interix.h: New file.\n        * i386/interix.h (ASM_OUTPUT_LIMITED_STRING): Fix warnings.\n        * i386/i386-interix.h: Renamed from interix.h.\n        * configure.in (interix): Use new files.\n        * configure: Rebuilt.\n\nFrom-SVN: r26332", "tree": {"sha": "1658d02bdb0e2ff49b0121f63d37ea8e973a87d8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1658d02bdb0e2ff49b0121f63d37ea8e973a87d8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/97ad1d43e974f6743ef9966b280e2b3e049de337", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97ad1d43e974f6743ef9966b280e2b3e049de337", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97ad1d43e974f6743ef9966b280e2b3e049de337", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97ad1d43e974f6743ef9966b280e2b3e049de337/comments", "author": null, "committer": null, "parents": [{"sha": "e6cfbc9e44bf8ef7c28c40765308455163ce4abc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6cfbc9e44bf8ef7c28c40765308455163ce4abc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e6cfbc9e44bf8ef7c28c40765308455163ce4abc"}], "stats": {"total": 79, "additions": 65, "deletions": 14}, "files": [{"sha": "566eb70fa106931e47f74cf1dc909812cd4ea97f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97ad1d43e974f6743ef9966b280e2b3e049de337/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97ad1d43e974f6743ef9966b280e2b3e049de337/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=97ad1d43e974f6743ef9966b280e2b3e049de337", "patch": "@@ -1,3 +1,17 @@\n+Sat Apr 10 06:04:50 1999 Donn Terry (donn@interix.com) \n+\n+\t* i386/t-interix: Use mostly system headers unchanged.\n+\tUse system assert.h\n+\t* fixinc/fixinc.interix: Ditto (make almost no-op).\n+\t* config/x-interix.h (_ALL_SOURCE): add -D\n+\t* config/x-interix.h (crti.o): Delete dependency.\n+\t* config/xm-interix.h (ONLY_INT_FIELDS): Define only when bootstrapping.\n+\t* i386/xm-i386-interix.h: New file.\n+\t* i386/interix.h (ASM_OUTPUT_LIMITED_STRING): Fix warnings.\n+\t* i386/i386-interix.h: Renamed from interix.h.\n+\t* configure.in (interix): Use new files.\n+\t* configure: Rebuilt.\n+\n Sat Apr 10 05:25:28 1999  Daniel Jacobowitz <dan@debian.org>\n \n \t* rs6000/sysv4.h (CPP_OS_LINUX_SPEC): Fix conditions"}, {"sha": "d665844f8872d50010a414895203d8b5808be1d1", "filename": "gcc/config/i386/i386-interix.h", "status": "renamed", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97ad1d43e974f6743ef9966b280e2b3e049de337/gcc%2Fconfig%2Fi386%2Fi386-interix.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97ad1d43e974f6743ef9966b280e2b3e049de337/gcc%2Fconfig%2Fi386%2Fi386-interix.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386-interix.h?ref=97ad1d43e974f6743ef9966b280e2b3e049de337", "patch": "@@ -157,10 +157,10 @@ Boston, MA 02111-1307, USA.  */\n       register unsigned char *_limited_str = (unsigned char *) (STR);\t\\\n       register unsigned ch;\t\t\t\t\t\t\\\n       fprintf ((FILE), \"\\t%s\\t\\\"\", STRING_ASM_OP);\t\t\t\\\n-      for (; ch = *_limited_str; _limited_str++)\t\t\t\\\n+      for (; (ch = *_limited_str); _limited_str++)\t\t\t\\\n         {\t\t\t\t\t\t\t\t\\\n-\t  register int escape;\t\t\t\t\t\t\\\n-\t  switch (escape = ESCAPES[ch])\t\t\t\t\t\\\n+\t  register int escape = ESCAPES[ch];\t\t\t\t\\\n+\t  switch (escape)\t\t\t\t\t\t\\\n \t    {\t\t\t\t\t\t\t\t\\\n \t    case 0:\t\t\t\t\t\t\t\\\n \t      putc (ch, (FILE));\t\t\t\t\t\\", "previous_filename": "gcc/config/i386/interix.h"}, {"sha": "4c6d84f1b3918d303ad21672bbd73e4ef80ab6d7", "filename": "gcc/config/i386/t-interix", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97ad1d43e974f6743ef9966b280e2b3e049de337/gcc%2Fconfig%2Fi386%2Ft-interix", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97ad1d43e974f6743ef9966b280e2b3e049de337/gcc%2Fconfig%2Fi386%2Ft-interix", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Ft-interix?ref=97ad1d43e974f6743ef9966b280e2b3e049de337", "patch": "@@ -8,3 +8,9 @@ LIB1ASMFUNCS = _chkstk\n interix.o: $(srcdir)/config/i386/interix.c\n \t$(CC) -c $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) $(srcdir)/config/i386/interix.c\n \n+# System headers will track gcc's needs.\n+# Even LANG_EXTRA_HEADERS may be temporary.\n+USER_H=$(LANG_EXTRA_HEADERS)\n+\n+# We don't want this one either.\n+INSTALL_ASSERT_H="}, {"sha": "8bfd5e2d915d7a20a69b153c93da2a559054bf43", "filename": "gcc/config/i386/xm-i386-interix.h", "status": "added", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97ad1d43e974f6743ef9966b280e2b3e049de337/gcc%2Fconfig%2Fi386%2Fxm-i386-interix.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97ad1d43e974f6743ef9966b280e2b3e049de337/gcc%2Fconfig%2Fi386%2Fxm-i386-interix.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fxm-i386-interix.h?ref=97ad1d43e974f6743ef9966b280e2b3e049de337", "patch": "@@ -0,0 +1,34 @@\n+/* Configuration for GNU compiler\n+   for an Intel i386 or later processor running Interix.\n+   Copyright (C) 1999 Free Software Foundation, Inc.\n+   Contributed by Donn Terry (donn@interix.com)\n+     Derived from code by Douglas B. Rupp (drupp@cs.washington.edu)\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#include <i386/xm-i386.h>\n+\n+#define HOST_BITS_PER_WIDEST_INT HOST_BITS_PER_LONGLONG\n+#ifdef __GNUC__\n+#   define HOST_WIDEST_INT long long\n+#else\n+#   define HOST_WIDEST_INT __int64\n+#endif\n+#define HOST_WIDEST_INT_PRINT_DEC \"%lld\"\n+#define HOST_WIDEST_INT_PRINT_UNSIGNED \"%llu\"\n+#define HOST_WIDEST_INT_PRINT_HEX \"0x%llx\""}, {"sha": "afdfe76c7f76e9001f1b3a9c012e13169ac9ca02", "filename": "gcc/config/x-interix", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97ad1d43e974f6743ef9966b280e2b3e049de337/gcc%2Fconfig%2Fx-interix", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97ad1d43e974f6743ef9966b280e2b3e049de337/gcc%2Fconfig%2Fx-interix", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fx-interix?ref=97ad1d43e974f6743ef9966b280e2b3e049de337", "patch": "@@ -16,14 +16,9 @@ RANLIB_TEST = false\n SHELL = sh\n \n # Existing CC/GCC may not define -D__INTERIX, so need this here.\n-X_CFLAGS= -D__INTERIX\n+# Since we want to configure with _ALL_SOURCE, we need to build that way too\n+X_CFLAGS= -D__INTERIX -D_ALL_SOURCE\n \n LIBGCC2_INCLUDES = -idirafter $${INTERIX_ROOT}/usr/include\n # Headers come from a funny place\n SYSTEM_HEADER_DIR=$${INTERIX_ROOT}/usr/include\n-\n-EXTRA_PARTS += crti.o\n-\n-crti.o: $(srcdir)/crti.c\n-\t$(GCC_FOR_TARGET) -c $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) $(srcdir)/crti.c\n-"}, {"sha": "756fb5d465f23730dd3747849f30156803908ce0", "filename": "gcc/config/xm-interix.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97ad1d43e974f6743ef9966b280e2b3e049de337/gcc%2Fconfig%2Fxm-interix.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97ad1d43e974f6743ef9966b280e2b3e049de337/gcc%2Fconfig%2Fxm-interix.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxm-interix.h?ref=97ad1d43e974f6743ef9966b280e2b3e049de337", "patch": "@@ -26,8 +26,10 @@ Boston, MA 02111-1307, USA.  */\n #endif\n \n #ifndef ONLY_INT_FIELDS\n+#ifndef __GNUC__\n #define ONLY_INT_FIELDS 1\n #endif\n+#endif\n \n #ifndef USE_PROTOTYPES\n #define USE_PROTOTYPES 1"}, {"sha": "f3c48854d19c6bd40b32b0c1987b5a035666d56f", "filename": "gcc/configure", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97ad1d43e974f6743ef9966b280e2b3e049de337/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97ad1d43e974f6743ef9966b280e2b3e049de337/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=97ad1d43e974f6743ef9966b280e2b3e049de337", "patch": "@@ -3782,8 +3782,8 @@ for machine in $build $host $target; do\n \t\texeext=.exe\n \t\t;;\n \ti[34567]86-*-interix*)\n-\t\ttm_file=i386/interix.h\n-\t\txm_file=\"${xm_file} xm-interix.h\"\n+\t\ttm_file=i386/i386-interix.h\n+\t\txm_file=\"i386/xm-i386-interix.h xm-interix.h\"\n \t\txm_defines=\"USG NO_SYS_SIGLIST\"\n \t\ttmake_file=\"i386/t-interix\"\n \t\textra_objs=interix.o"}, {"sha": "07e8c75a9d92a5505be6bd0fcdd3d860817938b6", "filename": "gcc/configure.in", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97ad1d43e974f6743ef9966b280e2b3e049de337/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97ad1d43e974f6743ef9966b280e2b3e049de337/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=97ad1d43e974f6743ef9966b280e2b3e049de337", "patch": "@@ -1510,8 +1510,8 @@ changequote([,])dnl\n changequote(,)dnl\n \ti[34567]86-*-interix*)\n changequote([,])dnl\n-\t\ttm_file=i386/interix.h\n-\t\txm_file=\"${xm_file} xm-interix.h\"\n+\t\ttm_file=i386/i386-interix.h\n+\t\txm_file=\"i386/xm-i386-interix.h xm-interix.h\"\n \t\txm_defines=\"USG NO_SYS_SIGLIST\"\n \t\ttmake_file=\"i386/t-interix\"\n \t\textra_objs=interix.o"}]}