{"sha": "3157880f5368588bfadae12c4ba1b52c4fdee75a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzE1Nzg4MGY1MzY4NTg4YmZhZGFlMTJjNGJhMWI1MmM0ZmRlZTc1YQ==", "commit": {"author": {"name": "Jack Howarth", "email": "howarth@bromo.med.uc.edu", "date": "2012-12-06T14:49:44Z"}, "committer": {"name": "Kostya Serebryany", "email": "kcc@gcc.gnu.org", "date": "2012-12-06T14:49:44Z"}, "message": "Fix PR55599/sanitizer by disabling static libasan on darwin\n\nFrom-SVN: r194257", "tree": {"sha": "e0909cffc6a0662e5db1d547a7e862206ec46366", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e0909cffc6a0662e5db1d547a7e862206ec46366"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3157880f5368588bfadae12c4ba1b52c4fdee75a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3157880f5368588bfadae12c4ba1b52c4fdee75a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3157880f5368588bfadae12c4ba1b52c4fdee75a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3157880f5368588bfadae12c4ba1b52c4fdee75a/comments", "author": null, "committer": null, "parents": [{"sha": "9e04d8a2a0619f682eb318cd132ef9d62d142815", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e04d8a2a0619f682eb318cd132ef9d62d142815", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e04d8a2a0619f682eb318cd132ef9d62d142815"}], "stats": {"total": 19, "additions": 14, "deletions": 5}, "files": [{"sha": "7da4e1fc89e5b3f9e332925906c78b2c52f8b180", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3157880f5368588bfadae12c4ba1b52c4fdee75a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3157880f5368588bfadae12c4ba1b52c4fdee75a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3157880f5368588bfadae12c4ba1b52c4fdee75a", "patch": "@@ -1,3 +1,8 @@\n+2012-12-06  Jack Howarth <howarth@bromo.med.uc.edu>\n+\n+\tPR 55599/sanitizer\n+        * config/darwin.h (LINK_COMMAND_SPEC_A): Remove static libasan support.\n+\n 2012-12-06  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR middle-end/43631"}, {"sha": "3a996705abefd807388e1cff6c9725d3310a7e08", "filename": "gcc/config/darwin.h", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3157880f5368588bfadae12c4ba1b52c4fdee75a/gcc%2Fconfig%2Fdarwin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3157880f5368588bfadae12c4ba1b52c4fdee75a/gcc%2Fconfig%2Fdarwin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin.h?ref=3157880f5368588bfadae12c4ba1b52c4fdee75a", "patch": "@@ -180,9 +180,7 @@ extern GTY(()) int darwin_ms_struct;\n     %{L*} %(link_libgcc) %o %{fprofile-arcs|fprofile-generate*|coverage:-lgcov} \\\n     %{fopenmp|ftree-parallelize-loops=*: \\\n       %{static|static-libgcc|static-libstdc++|static-libgfortran: libgomp.a%s; : -lgomp } } \\\n-    %{fsanitize=address: \\\n-      %{static|static-libasan|static-libgcc|static-libgfortran: -framework CoreFoundation -lstdc++ libasan.a%s; \\\n-      static-libstdc++: -framework CoreFoundation libstdc++.a%s libasan.a%s; : -framework CoreFoundation -lasan } } \\\n+    %{fsanitize=address: -framework CoreFoundation -lasan } \\\n     %{fgnu-tm: \\\n       %{static|static-libgcc|static-libstdc++|static-libgfortran: libitm.a%s; : -litm } } \\\n     %{!nostdlib:%{!nodefaultlibs:\\"}, {"sha": "b2a4b2999a604d1f98c20c0f9dfd1772859db130", "filename": "libsanitizer/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3157880f5368588bfadae12c4ba1b52c4fdee75a/libsanitizer%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3157880f5368588bfadae12c4ba1b52c4fdee75a/libsanitizer%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2FChangeLog?ref=3157880f5368588bfadae12c4ba1b52c4fdee75a", "patch": "@@ -1,3 +1,9 @@\n+2012-12-06  Jack Howarth <howarth@bromo.med.uc.edu>\n+\n+\tPR 55599/sanitizer\n+        * configure.ac: Set enable_static=no on darwin.\n+        * configure: Regenerated.\n+\n 2012-12-06  Kostya Serebryany  <kcc@google.com>\n \n \t* All files: Merge from upstream r169392."}, {"sha": "51bb795213316c9da8b344648142247568a82824", "filename": "libsanitizer/configure", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3157880f5368588bfadae12c4ba1b52c4fdee75a/libsanitizer%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3157880f5368588bfadae12c4ba1b52c4fdee75a/libsanitizer%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fconfigure?ref=3157880f5368588bfadae12c4ba1b52c4fdee75a", "patch": "@@ -14497,7 +14497,7 @@ fi\n \n \n case \"$host\" in\n-  *-*-darwin*) MAC_INTERPOSE=true ;;\n+  *-*-darwin*) MAC_INTERPOSE=true ; enable_static=no ;;\n   *) MAC_INTERPOSE=false ;;\n esac\n  if $MAC_INTERPOSE; then"}, {"sha": "30614e566a4399a7d050ebcb35a304d9eb7e8e03", "filename": "libsanitizer/configure.ac", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3157880f5368588bfadae12c4ba1b52c4fdee75a/libsanitizer%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3157880f5368588bfadae12c4ba1b52c4fdee75a/libsanitizer%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fconfigure.ac?ref=3157880f5368588bfadae12c4ba1b52c4fdee75a", "patch": "@@ -81,7 +81,7 @@ unset TSAN_SUPPORTED\n AM_CONDITIONAL(TSAN_SUPPORTED, [test \"x$TSAN_SUPPORTED\" = \"xyes\"])\n \n case \"$host\" in\n-  *-*-darwin*) MAC_INTERPOSE=true ;;\n+  *-*-darwin*) MAC_INTERPOSE=true ; enable_static=no ;;\n   *) MAC_INTERPOSE=false ;;\n esac\n AM_CONDITIONAL(USING_MAC_INTERPOSE, $MAC_INTERPOSE)"}]}