{"sha": "e55674b86a10e695cea2f45c0472402b97cc2dfb", "node_id": "C_kwDOANBUbNoAKGU1NTY3NGI4NmExMGU2OTVjZWEyZjQ1YzA0NzI0MDJiOTdjYzJkZmI", "commit": {"author": {"name": "Prathamesh Kulkarni", "email": "prathamesh.kulkarni@linaro.org", "date": "2022-09-06T09:48:04Z"}, "committer": {"name": "Prathamesh Kulkarni", "email": "prathamesh.kulkarni@linaro.org", "date": "2022-09-06T09:48:22Z"}, "message": "tree-ssa-forwprop.cc: Adjust res_type when operands have differing vector lengths.\n\ngcc/\n\t* tree-ssa-forwprop.cc (simplify_permutation): Set res_type to a vector\n\ttype with same element type as arg0, and length as op2.", "tree": {"sha": "c89931a33909d8011833e8c6cbf1962d6e65dda2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c89931a33909d8011833e8c6cbf1962d6e65dda2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e55674b86a10e695cea2f45c0472402b97cc2dfb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e55674b86a10e695cea2f45c0472402b97cc2dfb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e55674b86a10e695cea2f45c0472402b97cc2dfb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e55674b86a10e695cea2f45c0472402b97cc2dfb/comments", "author": null, "committer": null, "parents": [{"sha": "1a4e1425f8498580994e32ceb3c50bd52616a82d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a4e1425f8498580994e32ceb3c50bd52616a82d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a4e1425f8498580994e32ceb3c50bd52616a82d"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "4b693ef095c514ce303472a7e92123ba80ca71bf", "filename": "gcc/tree-ssa-forwprop.cc", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e55674b86a10e695cea2f45c0472402b97cc2dfb/gcc%2Ftree-ssa-forwprop.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e55674b86a10e695cea2f45c0472402b97cc2dfb/gcc%2Ftree-ssa-forwprop.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-forwprop.cc?ref=e55674b86a10e695cea2f45c0472402b97cc2dfb", "patch": "@@ -2661,7 +2661,9 @@ simplify_permutation (gimple_stmt_iterator *gsi)\n \n       /* Shuffle of a constructor.  */\n       bool ret = false;\n-      tree res_type = TREE_TYPE (arg0);\n+      tree res_type\n+\t= build_vector_type (TREE_TYPE (TREE_TYPE (arg0)),\n+\t\t\t     TYPE_VECTOR_SUBPARTS (TREE_TYPE (op2)));\n       tree opt = fold_ternary (VEC_PERM_EXPR, res_type, arg0, arg1, op2);\n       if (!opt\n \t  || (TREE_CODE (opt) != CONSTRUCTOR && TREE_CODE (opt) != VECTOR_CST))"}]}