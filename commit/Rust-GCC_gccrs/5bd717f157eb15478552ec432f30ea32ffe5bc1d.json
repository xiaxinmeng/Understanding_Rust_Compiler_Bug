{"sha": "5bd717f157eb15478552ec432f30ea32ffe5bc1d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWJkNzE3ZjE1N2ViMTU0Nzg1NTJlYzQzMmYzMGVhMzJmZmU1YmMxZA==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2002-11-06T22:10:30Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2002-11-06T22:10:30Z"}, "message": "gjavah.c (print_stub_or_jni): Include JNIEXPORT and JNICALL in a JNI header.\n\n\t* gjavah.c (print_stub_or_jni): Include JNIEXPORT and JNICALL in\n\ta JNI header.\n\nFrom-SVN: r58867", "tree": {"sha": "51d9ea13b5da145b0680aa5f857cd9a6c613f535", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/51d9ea13b5da145b0680aa5f857cd9a6c613f535"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5bd717f157eb15478552ec432f30ea32ffe5bc1d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5bd717f157eb15478552ec432f30ea32ffe5bc1d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5bd717f157eb15478552ec432f30ea32ffe5bc1d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5bd717f157eb15478552ec432f30ea32ffe5bc1d/comments", "author": null, "committer": null, "parents": [{"sha": "fa123c5309ba13c7a941e7fc0d35149a5e3243f3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa123c5309ba13c7a941e7fc0d35149a5e3243f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa123c5309ba13c7a941e7fc0d35149a5e3243f3"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "74bb4e548b8c0426ded9546755ace8b863fb5a02", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5bd717f157eb15478552ec432f30ea32ffe5bc1d/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5bd717f157eb15478552ec432f30ea32ffe5bc1d/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=5bd717f157eb15478552ec432f30ea32ffe5bc1d", "patch": "@@ -1,3 +1,8 @@\n+2002-11-06  Tom Tromey  <tromey@redhat.com>\n+\n+\t* gjavah.c (print_stub_or_jni): Include JNIEXPORT and JNICALL in\n+\ta JNI header.\n+\n 2002-11-05  Tom Tromey  <tromey@redhat.com>\n \n \tFix for PR java/6388."}, {"sha": "1e8c701e24eed0e41542a9aee1f298548faba195", "filename": "gcc/java/gjavah.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5bd717f157eb15478552ec432f30ea32ffe5bc1d/gcc%2Fjava%2Fgjavah.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5bd717f157eb15478552ec432f30ea32ffe5bc1d/gcc%2Fjava%2Fgjavah.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fgjavah.c?ref=5bd717f157eb15478552ec432f30ea32ffe5bc1d", "patch": "@@ -1565,7 +1565,7 @@ DEFUN(print_stub_or_jni, (stream, jcf, name_index, signature_index, is_init,\n \treturn;\n \n       if (flag_jni && ! stubs)\n-\tfputs (\"extern \", stream);\n+\tfputs (\"extern JNIEXPORT \", stream);\n \n       /* If printing a method, skip to the return signature and print\n \t that first.  However, there is no return value if this is a\n@@ -1597,6 +1597,9 @@ DEFUN(print_stub_or_jni, (stream, jcf, name_index, signature_index, is_init,\n       /* When printing a JNI header we need to respect the space.  In\n \t other cases we're just going to insert a newline anyway.  */\n       fputs (need_space && ! stubs ? \" \" : \"\\n\", stream);\n+\n+      if (flag_jni && ! stubs)\n+\tfputs (\"JNICALL \", stream);\n       \n       /* Now print the name of the thing.  */\n       print_name_for_stub_or_jni (stream, jcf, name_index,"}]}