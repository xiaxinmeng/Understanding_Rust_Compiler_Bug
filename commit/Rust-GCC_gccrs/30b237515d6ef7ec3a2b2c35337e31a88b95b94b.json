{"sha": "30b237515d6ef7ec3a2b2c35337e31a88b95b94b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzBiMjM3NTE1ZDZlZjdlYzNhMmIyYzM1MzM3ZTMxYTg4Yjk1Yjk0Yg==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1998-08-29T13:54:24Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-08-29T13:54:24Z"}, "message": "m68k.md (beq0_di): Generate correct (and more efficient) code when...\n\n        * m68k.md (beq0_di): Generate correct (and more efficient) code when\n        the clobbered operand overlaps with an input.\n        (bne0_di): Similarly.\n\nFrom-SVN: r22082", "tree": {"sha": "142f5fac2e0981a46e369014a5423c4ce1aff904", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/142f5fac2e0981a46e369014a5423c4ce1aff904"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/30b237515d6ef7ec3a2b2c35337e31a88b95b94b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30b237515d6ef7ec3a2b2c35337e31a88b95b94b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30b237515d6ef7ec3a2b2c35337e31a88b95b94b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30b237515d6ef7ec3a2b2c35337e31a88b95b94b/comments", "author": null, "committer": null, "parents": [{"sha": "b4ea9a9d44af39ea7d95387b84c977fa30c37f4a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4ea9a9d44af39ea7d95387b84c977fa30c37f4a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b4ea9a9d44af39ea7d95387b84c977fa30c37f4a"}], "stats": {"total": 42, "additions": 42, "deletions": 0}, "files": [{"sha": "e363da48ad321928f569f433ae89bef32c827261", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/30b237515d6ef7ec3a2b2c35337e31a88b95b94b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/30b237515d6ef7ec3a2b2c35337e31a88b95b94b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=30b237515d6ef7ec3a2b2c35337e31a88b95b94b", "patch": "@@ -1,5 +1,9 @@\n Sat Aug 29 12:39:56 1998  Jeffrey A Law  (law@cygnus.com)\n \n+        * m68k.md (beq0_di): Generate correct (and more efficient) code when\n+        the clobbered operand overlaps with an input.\n+        (bne0_di): Similarly.\n+\n \t* Makefile.in (INSTALL): Remove \"--no-header\" argument.\n \n         * NEWS: Various updates."}, {"sha": "4abcdeb80f4deef48d13804035ad80e774c3004e", "filename": "gcc/config/m68k/m68k.md", "status": "modified", "additions": 38, "deletions": 0, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/30b237515d6ef7ec3a2b2c35337e31a88b95b94b/gcc%2Fconfig%2Fm68k%2Fm68k.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/30b237515d6ef7ec3a2b2c35337e31a88b95b94b/gcc%2Fconfig%2Fm68k%2Fm68k.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.md?ref=30b237515d6ef7ec3a2b2c35337e31a88b95b94b", "patch": "@@ -5958,6 +5958,25 @@\n     operands[3] = adj_offsettable_operand (operands[0], 4);\n   if (! ADDRESS_REG_P (operands[0]))\n     {\n+      if (reg_overlap_mentioned_p (operands[2], operands[0]))\n+\t{\n+\t  if (reg_overlap_mentioned_p (operands[2], operands[3]))\n+\t    {\n+#ifdef MOTOROLA\n+\t      return \\\"or%.l %0,%2\\;jbeq %l1\\\";\n+#else\n+\t      return \\\"or%.l %0,%2\\;jeq %l1\\\";\n+#endif\n+\t    }\n+\t  else\n+\t    {\n+#ifdef MOTOROLA\n+\t      return \\\"or%.l %3,%2\\;jbeq %l1\\\";\n+#else\n+\t      return \\\"or%.l %3,%2\\;jeq %l1\\\";\n+#endif\n+\t    }\n+\t}\n #ifdef MOTOROLA\n       return \\\"move%.l %0,%2\\;or%.l %3,%2\\;jbeq %l1\\\";\n #else\n@@ -6019,6 +6038,25 @@\n     operands[3] = adj_offsettable_operand (operands[0], 4);\n   if (!ADDRESS_REG_P (operands[0]))\n     {\n+      if (reg_overlap_mentioned_p (operands[2], operands[0]))\n+\t{\n+\t  if (reg_overlap_mentioned_p (operands[2], operands[3]))\n+\t    {\n+#ifdef MOTOROLA\n+\t      return \\\"or%.l %0,%2\\;jbne %l1\\\";\n+#else\n+\t      return \\\"or%.l %0,%2\\;jne %l1\\\";\n+#endif\n+\t    }\n+\t  else\n+\t    {\n+#ifdef MOTOROLA\n+\t      return \\\"or%.l %3,%2\\;jbne %l1\\\";\n+#else\n+\t      return \\\"or%.l %3,%2\\;jne %l1\\\";\n+#endif\n+\t    }\n+\t}\n #ifdef MOTOROLA\n       return \\\"move%.l %0,%2\\;or%.l %3,%2\\;jbne %l1\\\";\n #else"}]}