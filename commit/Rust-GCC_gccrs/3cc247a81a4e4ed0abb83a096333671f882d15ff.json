{"sha": "3cc247a81a4e4ed0abb83a096333671f882d15ff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2NjMjQ3YTgxYTRlNGVkMGFiYjgzYTA5NjMzMzY3MWY4ODJkMTVmZg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@vlsi1.ultra.nyu.edu", "date": "2001-02-23T21:10:35Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "2001-02-23T21:10:35Z"}, "message": "convert.c (convert_to_integer): Don't do unsigned unless result or both inputs are unsigned.\n\n\t* convert.c (convert_to_integer): Don't do unsigned unless result or\n\tboth inputs are unsigned.\n\nFrom-SVN: r40014", "tree": {"sha": "08fee81497a15c508d229f0af6f7c1ba4ea059d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/08fee81497a15c508d229f0af6f7c1ba4ea059d2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3cc247a81a4e4ed0abb83a096333671f882d15ff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3cc247a81a4e4ed0abb83a096333671f882d15ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3cc247a81a4e4ed0abb83a096333671f882d15ff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3cc247a81a4e4ed0abb83a096333671f882d15ff/comments", "author": null, "committer": null, "parents": [{"sha": "ac50176d22e5a67355cde8740a2acac344c0e35d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac50176d22e5a67355cde8740a2acac344c0e35d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ac50176d22e5a67355cde8740a2acac344c0e35d"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "1daa849639900fc6a69a5b7673e1a59e856bf8e7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3cc247a81a4e4ed0abb83a096333671f882d15ff/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3cc247a81a4e4ed0abb83a096333671f882d15ff/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3cc247a81a4e4ed0abb83a096333671f882d15ff", "patch": "@@ -1,5 +1,8 @@\n Fri Feb 23 15:28:39 2001  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \n+\t* convert.c (convert_to_integer): Don't do unsigned unless result or\n+\tboth inputs are unsigned.\n+\n \t* fold-const.c (fold_convert): Don't call size_int_type_wide if\n \tinput overflows.\n "}, {"sha": "b97d08fa4f7a544838c9571cbac8852dab174a25", "filename": "gcc/convert.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3cc247a81a4e4ed0abb83a096333671f882d15ff/gcc%2Fconvert.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3cc247a81a4e4ed0abb83a096333671f882d15ff/gcc%2Fconvert.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconvert.c?ref=3cc247a81a4e4ed0abb83a096333671f882d15ff", "patch": "@@ -310,13 +310,13 @@ convert_to_integer (type, expr)\n \t\t  {\n \t\t    /* Don't do unsigned arithmetic where signed was wanted,\n \t\t       or vice versa.\n-\t\t       Exception: if either of the original operands were\n+\t\t       Exception: if both of the original operands were\n \t\t       unsigned then can safely do the work as unsigned.\n \t\t       And we may need to do it as unsigned\n \t\t       if we truncate to the original size.  */\n \t\t    typex = ((TREE_UNSIGNED (TREE_TYPE (expr))\n-\t\t\t      || TREE_UNSIGNED (TREE_TYPE (arg0))\n-\t\t\t      || TREE_UNSIGNED (TREE_TYPE (arg1)))\n+\t\t\t      || (TREE_UNSIGNED (TREE_TYPE (arg0))\n+\t\t\t\t  && TREE_UNSIGNED (TREE_TYPE (arg1))))\n \t\t\t     ? unsigned_type (typex) : signed_type (typex));\n \t\t    return convert (type,\n \t\t\t\t    fold (build (ex_form, typex,"}]}