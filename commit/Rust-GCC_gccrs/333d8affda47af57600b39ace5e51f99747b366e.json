{"sha": "333d8affda47af57600b39ace5e51f99747b366e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzMzZDhhZmZkYTQ3YWY1NzYwMGIzOWFjZTVlNTFmOTk3NDdiMzY2ZQ==", "commit": {"author": {"name": "Kai Tietz", "email": "ktietz@redhat.com", "date": "2011-03-28T11:07:00Z"}, "committer": {"name": "Kai Tietz", "email": "ktietz@gcc.gnu.org", "date": "2011-03-28T11:07:00Z"}, "message": "Makefile.in (SO_LIB): Handle multilib build for native windows targets.\n\n2011-03-28  Kai Tietz  <ktietz@redhat.com>\n\n        * gcc-interface/Makefile.in (SO_LIB): Handle multilib build for native\n        windows targets.\n        (EH_MECHANISM): Make sure we use gcc's exception mechanism for all\n        native windows target.\n        * system-mingw.ads (System): Change ZCX_By_Default default to\n        True.\n\nFrom-SVN: r171599", "tree": {"sha": "61996fcc937a3096795a34123ae37a7c3a96b620", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/61996fcc937a3096795a34123ae37a7c3a96b620"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/333d8affda47af57600b39ace5e51f99747b366e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/333d8affda47af57600b39ace5e51f99747b366e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/333d8affda47af57600b39ace5e51f99747b366e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/333d8affda47af57600b39ace5e51f99747b366e/comments", "author": null, "committer": null, "parents": [{"sha": "dd350eba538e72107948333b2540d059a096563a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd350eba538e72107948333b2540d059a096563a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd350eba538e72107948333b2540d059a096563a"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "03eb1368e08bb90d7551dbf67c3d321ba1131595", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/333d8affda47af57600b39ace5e51f99747b366e/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/333d8affda47af57600b39ace5e51f99747b366e/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=333d8affda47af57600b39ace5e51f99747b366e", "patch": "@@ -1,5 +1,12 @@\n 2011-03-28  Kai Tietz  <ktietz@redhat.com>\n \n+\t* gcc-interface/Makefile.in (SO_LIB): Handle multilib build for native\n+\twindows targets.\n+\t(EH_MECHANISM): Make sure we use gcc's exception mechanism for all\n+\tnative windows target.\n+\t* system-mingw.ads (System): Change ZCX_By_Default default to\n+\tTrue.\n+\n \t* raise-gcc.c (PERSONALITY_FUNCTION): Add prototype to\n \tprevent warning.\n "}, {"sha": "246b401c8a9c5c3cdbd2f622f8ec25d413ec786d", "filename": "gcc/ada/gcc-interface/Makefile.in", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/333d8affda47af57600b39ace5e51f99747b366e/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/333d8affda47af57600b39ace5e51f99747b366e/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMakefile.in?ref=333d8affda47af57600b39ace5e51f99747b366e", "patch": "@@ -1634,21 +1634,26 @@ ifeq ($(strip $(filter-out cygwin32% mingw32% pe,$(osys))),)\n     s-osprim.adb<s-osprim-mingw.adb \\\n     s-taprop.adb<s-taprop-mingw.adb\n \n+    EH_MECHANISM=-gcc\n     ifeq ($(strip $(filter-out x86_64%,$(arch))),)\n       ifeq ($(strip $(MULTISUBDIR)),/32)\n \tLIBGNAT_TARGET_PAIRS += \\\n \t  system.ads<system-mingw.ads\n+\tSO_OPTS= -m32 -Wl,-soname,\n       else\n \tLIBGNAT_TARGET_PAIRS += \\\n \t  system.ads<system-mingw-x86_64.ads\n+\tSO_OPTS = -m64 -Wl,-soname,\n       endif\n     else\n       ifeq ($(strip $(MULTISUBDIR)),/64)\n \tLIBGNAT_TARGET_PAIRS += \\\n \t  system.ads<system-mingw-x86_64.ads\n+\tSO_OPTS = -m64 -Wl,-soname,\n       else\n \tLIBGNAT_TARGET_PAIRS += \\\n \t  system.ads<system-mingw.ads\n+\tSO_OPTS = -m32 -Wl,-soname,\n       endif\n     endif\n "}, {"sha": "b9ab72407a27b774a421169883db12277e3f9a1a", "filename": "gcc/ada/system-mingw.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/333d8affda47af57600b39ace5e51f99747b366e/gcc%2Fada%2Fsystem-mingw.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/333d8affda47af57600b39ace5e51f99747b366e/gcc%2Fada%2Fsystem-mingw.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsystem-mingw.ads?ref=333d8affda47af57600b39ace5e51f99747b366e", "patch": "@@ -139,7 +139,7 @@ private\n    Always_Compatible_Rep     : constant Boolean := False;\n    Suppress_Standard_Library : constant Boolean := False;\n    Use_Ada_Main_Program_Name : constant Boolean := False;\n-   ZCX_By_Default            : constant Boolean := False;\n+   ZCX_By_Default            : constant Boolean := True;\n    GCC_ZCX_Support           : constant Boolean := True;\n \n    ---------------------------"}]}