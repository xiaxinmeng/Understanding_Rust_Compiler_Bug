{"sha": "627b82f2143faa7f229347c463fda5968661d14f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjI3YjgyZjIxNDNmYWE3ZjIyOTM0N2M0NjNmZGE1OTY4NjYxZDE0Zg==", "commit": {"author": {"name": "Janus Weil", "email": "janus@gcc.gnu.org", "date": "2013-11-23T09:14:11Z"}, "committer": {"name": "Janus Weil", "email": "janus@gcc.gnu.org", "date": "2013-11-23T09:14:11Z"}, "message": "re PR fortran/59228 (ICE-on-invalid with assumed type and ASYNCHRONOUS)\n\n2013-11-23  Janus Weil  <janus@gcc.gnu.org>\n\n\tPR fortran/59228\n\t* interface.c (compare_parameter): Check for array spec.\n\n2013-11-23  Janus Weil  <janus@gcc.gnu.org>\n\n\tPR fortran/59228\n\t* gfortran.dg/asynchronous_4.f90: New.\n\nFrom-SVN: r205304", "tree": {"sha": "0ea54065bf2fff2f2c2cf709150b6afe1bf2152e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0ea54065bf2fff2f2c2cf709150b6afe1bf2152e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/627b82f2143faa7f229347c463fda5968661d14f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/627b82f2143faa7f229347c463fda5968661d14f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/627b82f2143faa7f229347c463fda5968661d14f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/627b82f2143faa7f229347c463fda5968661d14f/comments", "author": {"login": "janusw", "id": 484108, "node_id": "MDQ6VXNlcjQ4NDEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/484108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janusw", "html_url": "https://github.com/janusw", "followers_url": "https://api.github.com/users/janusw/followers", "following_url": "https://api.github.com/users/janusw/following{/other_user}", "gists_url": "https://api.github.com/users/janusw/gists{/gist_id}", "starred_url": "https://api.github.com/users/janusw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janusw/subscriptions", "organizations_url": "https://api.github.com/users/janusw/orgs", "repos_url": "https://api.github.com/users/janusw/repos", "events_url": "https://api.github.com/users/janusw/events{/privacy}", "received_events_url": "https://api.github.com/users/janusw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "janusw", "id": 484108, "node_id": "MDQ6VXNlcjQ4NDEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/484108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janusw", "html_url": "https://github.com/janusw", "followers_url": "https://api.github.com/users/janusw/followers", "following_url": "https://api.github.com/users/janusw/following{/other_user}", "gists_url": "https://api.github.com/users/janusw/gists{/gist_id}", "starred_url": "https://api.github.com/users/janusw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janusw/subscriptions", "organizations_url": "https://api.github.com/users/janusw/orgs", "repos_url": "https://api.github.com/users/janusw/repos", "events_url": "https://api.github.com/users/janusw/events{/privacy}", "received_events_url": "https://api.github.com/users/janusw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5ed182049ba26a74641616c57829fa900aecd4e2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5ed182049ba26a74641616c57829fa900aecd4e2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5ed182049ba26a74641616c57829fa900aecd4e2"}], "stats": {"total": 34, "additions": 33, "deletions": 1}, "files": [{"sha": "61c02100a563726ddd4f229bcbf68bb1a546978d", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/627b82f2143faa7f229347c463fda5968661d14f/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/627b82f2143faa7f229347c463fda5968661d14f/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=627b82f2143faa7f229347c463fda5968661d14f", "patch": "@@ -1,3 +1,8 @@\n+2013-11-23  Janus Weil  <janus@gcc.gnu.org>\n+\n+\tPR fortran/59228\n+\t* interface.c (compare_parameter): Check for array spec.\n+\n 2013-11-22  Andrew MacLeod  <amacleod@redhat.com>\n \n \t* trans.c: Add required include files from gimple.h."}, {"sha": "5a0aa2677079830004587900dec9d4c2a8e534fd", "filename": "gcc/fortran/interface.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/627b82f2143faa7f229347c463fda5968661d14f/gcc%2Ffortran%2Finterface.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/627b82f2143faa7f229347c463fda5968661d14f/gcc%2Ffortran%2Finterface.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Finterface.c?ref=627b82f2143faa7f229347c463fda5968661d14f", "patch": "@@ -2092,7 +2092,7 @@ compare_parameter (gfc_symbol *formal, gfc_expr *actual,\n       && (actual->symtree->n.sym->attr.asynchronous\n          || actual->symtree->n.sym->attr.volatile_)\n       &&  (formal->attr.asynchronous || formal->attr.volatile_)\n-      && actual->rank && !gfc_is_simply_contiguous (actual, true)\n+      && actual->rank && formal->as && !gfc_is_simply_contiguous (actual, true)\n       && ((formal->as->type != AS_ASSUMED_SHAPE\n \t   && formal->as->type != AS_ASSUMED_RANK && !formal->attr.pointer)\n \t  || formal->attr.contiguous))"}, {"sha": "dc8909259e246b5fd36171ac5a634037c386b600", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/627b82f2143faa7f229347c463fda5968661d14f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/627b82f2143faa7f229347c463fda5968661d14f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=627b82f2143faa7f229347c463fda5968661d14f", "patch": "@@ -1,3 +1,8 @@\n+2013-11-23  Janus Weil  <janus@gcc.gnu.org>\n+\n+\tPR fortran/59228\n+\t* gfortran.dg/asynchronous_4.f90: New.\n+\n 2013-11-22  Jakub Jelinek  <jakub@redhat.com>\n \n \t* c-c++-common/asan/no-redundant-instrumentation-7.c: Fix"}, {"sha": "ca6cd6c02654bc90a3c15ba001343c5dd2b31e26", "filename": "gcc/testsuite/gfortran.dg/asynchronous_4.f90", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/627b82f2143faa7f229347c463fda5968661d14f/gcc%2Ftestsuite%2Fgfortran.dg%2Fasynchronous_4.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/627b82f2143faa7f229347c463fda5968661d14f/gcc%2Ftestsuite%2Fgfortran.dg%2Fasynchronous_4.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fasynchronous_4.f90?ref=627b82f2143faa7f229347c463fda5968661d14f", "patch": "@@ -0,0 +1,22 @@\n+! { dg-do compile }\n+!\n+! PR 59228: ICE with assumed type and ASYNCHRONOUS\n+!\n+! Contributed by Valery Weber <valeryweber@hotmail.com>\n+\n+  IMPLICIT NONE\n+\n+  interface\n+     subroutine test(base)\n+       TYPE(*), ASYNCHRONOUS :: base\n+     end subroutine\n+  end interface\n+\n+CONTAINS\n+\n+  SUBROUTINE foo ( data )\n+    REAL, DIMENSION( : ), ASYNCHRONOUS :: data\n+    CALL test ( data )                ! { dg-error \"Rank mismatch in argument\" }\n+  END SUBROUTINE\n+\n+END"}]}