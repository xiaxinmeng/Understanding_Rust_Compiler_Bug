{"sha": "f2ce60b88d09c376e9862b78e5d37045b2e92351", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjJjZTYwYjg4ZDA5YzM3NmU5ODYyYjc4ZTVkMzcwNDViMmU5MjM1MQ==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2003-01-28T17:36:11Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2003-01-28T17:36:11Z"}, "message": "re PR c++/3902 ([parser] ambiguous 8.2/7)\n\ncp:\n\tPR c++/3902\n\t* parser.c (cp_parser_decl_specifier_seq): Cannot have constructor\n\tinside a declarator.\ntestsuite:\n\tPR c++/3902\n\t* g++.dg/parse/template5.C: New test.\n\nFrom-SVN: r61987", "tree": {"sha": "6b16cc4f776bde31d9b1c094a319842c484192b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6b16cc4f776bde31d9b1c094a319842c484192b3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f2ce60b88d09c376e9862b78e5d37045b2e92351", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2ce60b88d09c376e9862b78e5d37045b2e92351", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f2ce60b88d09c376e9862b78e5d37045b2e92351", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2ce60b88d09c376e9862b78e5d37045b2e92351/comments", "author": null, "committer": null, "parents": [{"sha": "f42aadd8561dc4c3da4843536a5f9a0af142c26d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f42aadd8561dc4c3da4843536a5f9a0af142c26d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f42aadd8561dc4c3da4843536a5f9a0af142c26d"}], "stats": {"total": 34, "additions": 32, "deletions": 2}, "files": [{"sha": "09445a066a7d8198977d85831df630a02c914096", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2ce60b88d09c376e9862b78e5d37045b2e92351/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2ce60b88d09c376e9862b78e5d37045b2e92351/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=f2ce60b88d09c376e9862b78e5d37045b2e92351", "patch": "@@ -1,3 +1,9 @@\n+2003-01-28  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\tPR c++/3902\n+\t* parser.c (cp_parser_decl_specifier_seq): Cannot have constructor\n+\tinside a declarator.\n+\n 2003-01-27  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* class.c (update_vtable_entry_for_fn): Add index parameter."}, {"sha": "1561f4ce0344bad1df2283f053b651a87b8da49a", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2ce60b88d09c376e9862b78e5d37045b2e92351/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2ce60b88d09c376e9862b78e5d37045b2e92351/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=f2ce60b88d09c376e9862b78e5d37045b2e92351", "patch": "@@ -6518,8 +6518,8 @@ cp_parser_decl_specifier_seq (cp_parser* parser,\n {\n   tree decl_specs = NULL_TREE;\n   bool friend_p = false;\n-  bool constructor_possible_p = true;\n-\n+  bool constructor_possible_p = !parser->in_declarator_p;\n+  \n   /* Assume no class or enumeration type is declared.  */\n   *declares_class_or_enum = false;\n "}, {"sha": "cc38d837c65ae4a95f4ac1a383ea87fcbcd3e710", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2ce60b88d09c376e9862b78e5d37045b2e92351/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2ce60b88d09c376e9862b78e5d37045b2e92351/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f2ce60b88d09c376e9862b78e5d37045b2e92351", "patch": "@@ -1,3 +1,8 @@\n+2003-01-28  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\tPR c++/3902\n+\t* g++.dg/parse/template5.C: New test.\n+\n 2003-01-28  Toon Moene  <toon@moene.indiv.nluug.nl>\n \n \tPR fortran/9258"}, {"sha": "adc598672605b712085749b42c188b42a22da359", "filename": "gcc/testsuite/g++.dg/parse/template5.C", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2ce60b88d09c376e9862b78e5d37045b2e92351/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ftemplate5.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2ce60b88d09c376e9862b78e5d37045b2e92351/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ftemplate5.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ftemplate5.C?ref=f2ce60b88d09c376e9862b78e5d37045b2e92351", "patch": "@@ -0,0 +1,19 @@\n+// { dg-do compile }\n+\n+// Copyright (C) 2003 Free Software Foundation, Inc.\n+// Contributed by Nathan Sidwell 28 Jan 2003 <nathan@codesourcery.com>\n+\n+// PR 3902. More type/decl confusion.\n+\n+template <class T>\n+struct S\n+{\n+  S foo (T (T));\n+  S foo (T(const T&));\n+};\n+\n+int main ()\n+{\n+  S<int> (S<int>::*pf1)(int (int)) = &S<int>::foo;\n+  S<int> (S<int>::*pf2)(int (const int&)) = &S<int>::foo;\n+}"}]}