{"sha": "ecbda48438f5bbdc95104785e61d81855f05db1b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWNiZGE0ODQzOGY1YmJkYzk1MTA0Nzg1ZTYxZDgxODU1ZjA1ZGIxYg==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernds@codesourcery.com", "date": "2013-10-15T10:36:03Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2013-10-15T10:36:03Z"}, "message": "Fix a miscompilation where a reload reg is reused after it has been clobbered.\n\n\t* reload1.c (reloads_unique_chain_p): Ensure that r1 is the input for\n\tr2.\n\nFrom-SVN: r203596", "tree": {"sha": "7369119b9e35e9bf57ac39662d8575c34356256e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7369119b9e35e9bf57ac39662d8575c34356256e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ecbda48438f5bbdc95104785e61d81855f05db1b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ecbda48438f5bbdc95104785e61d81855f05db1b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ecbda48438f5bbdc95104785e61d81855f05db1b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ecbda48438f5bbdc95104785e61d81855f05db1b/comments", "author": null, "committer": null, "parents": [{"sha": "ef163a0a6343e7baf9767105a8e0c0553c89f7f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ef163a0a6343e7baf9767105a8e0c0553c89f7f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ef163a0a6343e7baf9767105a8e0c0553c89f7f2"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "6bf624ee9cca5aacbd3ad68cf3337622d27767b7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ecbda48438f5bbdc95104785e61d81855f05db1b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ecbda48438f5bbdc95104785e61d81855f05db1b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ecbda48438f5bbdc95104785e61d81855f05db1b", "patch": "@@ -1,3 +1,8 @@\n+2013-10-15  Bernd Schmidt  <bernds@codesourcery.com>\n+\n+\t* reload1.c (reloads_unique_chain_p): Ensure that r1 is the input for\n+\tr2.\n+\n 2013-10-15  Richard Biener  <rguenther@suse.de>\n \n \t* tree-loop-distribution.c (build_empty_rdg): Inline into"}, {"sha": "d56c554b10db3bbf01bd77a90fa729e0cb7ad334", "filename": "gcc/reload1.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ecbda48438f5bbdc95104785e61d81855f05db1b/gcc%2Freload1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ecbda48438f5bbdc95104785e61d81855f05db1b/gcc%2Freload1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload1.c?ref=ecbda48438f5bbdc95104785e61d81855f05db1b", "patch": "@@ -5560,6 +5560,14 @@ reloads_unique_chain_p (int r1, int r2)\n \t    || reg_mentioned_p (rld[r2].in, rld[r1].in)))\n     return false;\n \n+  /* The following loop assumes that r1 is the reload that feeds r2.  */\n+  if (r1 > r2)\n+    {\n+      int tmp = r2;\n+      r2 = r1;\n+      r1 = tmp;\n+    }\n+\n   for (i = 0; i < n_reloads; i ++)\n     /* Look for input reloads that aren't our two */\n     if (i != r1 && i != r2 && rld[i].in)"}]}