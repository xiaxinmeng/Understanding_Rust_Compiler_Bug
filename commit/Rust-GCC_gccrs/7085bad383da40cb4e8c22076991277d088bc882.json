{"sha": "7085bad383da40cb4e8c22076991277d088bc882", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzA4NWJhZDM4M2RhNDBjYjRlOGMyMjA3Njk5MTI3N2QwODhiYzg4Mg==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1996-05-19T00:16:38Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1996-05-19T00:16:38Z"}, "message": "(copy_loop_body): When update split DEST_ADDR giv,\n\ncheck to make sure it was split.\n(find_splittable_givs): Fix reversed test of verify_addresses result.\n\nFrom-SVN: r12034", "tree": {"sha": "8c58b1761dbddf008c6c7dc8474cf08000bb2111", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8c58b1761dbddf008c6c7dc8474cf08000bb2111"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7085bad383da40cb4e8c22076991277d088bc882", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7085bad383da40cb4e8c22076991277d088bc882", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7085bad383da40cb4e8c22076991277d088bc882", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7085bad383da40cb4e8c22076991277d088bc882/comments", "author": null, "committer": null, "parents": [{"sha": "bb431b7a6c9aa811ff416a4535d6abee8985a48a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bb431b7a6c9aa811ff416a4535d6abee8985a48a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bb431b7a6c9aa811ff416a4535d6abee8985a48a"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "377f046a82211e399233d4debb2ef519f1e89e98", "filename": "gcc/unroll.c", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7085bad383da40cb4e8c22076991277d088bc882/gcc%2Funroll.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7085bad383da40cb4e8c22076991277d088bc882/gcc%2Funroll.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Funroll.c?ref=7085bad383da40cb4e8c22076991277d088bc882", "patch": "@@ -1606,10 +1606,15 @@ copy_loop_body (copy_start, copy_end, map, exit_label, last_iteration,\n \t      for (tv = bl->giv; tv; tv = tv->next_iv)\n \t\tif (tv->giv_type == DEST_ADDR && tv->same == v)\n \t\t  {\n-\t\t    int this_giv_inc = INTVAL (giv_inc);\n+\t\t    int this_giv_inc;\n+\n+\t\t    /* If this DEST_ADDR giv was not split, then ignore it.  */\n+\t\t    if (*tv->location != tv->dest_reg)\n+\t\t      continue;\n \n \t\t    /* Scale this_giv_inc if the multiplicative factors of\n \t\t       the two givs are different.  */\n+\t\t    this_giv_inc = INTVAL (giv_inc);\n \t\t    if (tv->mult_val != v->mult_val)\n \t\t      this_giv_inc = (this_giv_inc / INTVAL (v->mult_val)\n \t\t\t\t      * INTVAL (tv->mult_val));\n@@ -2780,7 +2785,7 @@ find_splittable_givs (bl, unroll_type, loop_start, loop_end, increment,\n \t\t\t Try to validate both the first and the last\n \t\t\t address resulting from loop unrolling, if\n \t\t\t one fails, then can't do const elim here.  */\n-\t\t      if (! verify_addresses (v, giv_inc, unroll_number))\n+\t\t      if (verify_addresses (v, giv_inc, unroll_number))\n \t\t\t{\n \t\t\t  /* Save the negative of the eliminated const, so\n \t\t\t     that we can calculate the dest_reg's increment"}]}