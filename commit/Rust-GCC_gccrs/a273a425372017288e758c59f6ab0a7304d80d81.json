{"sha": "a273a425372017288e758c59f6ab0a7304d80d81", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTI3M2E0MjUzNzIwMTcyODhlNzU4YzU5ZjZhYjBhNzMwNGQ4MGQ4MQ==", "commit": {"author": {"name": "Johannes Singler", "email": "singler@ira.uka.de", "date": "2008-05-07T11:14:05Z"}, "committer": {"name": "Johannes Singler", "email": "singler@gcc.gnu.org", "date": "2008-05-07T11:14:05Z"}, "message": "quicksort.h: (parallel_sort_qs_conquer) Explicitly request number of threads in the parallel...\n\n2008-05-07  Johannes Singler  <singler@ira.uka.de>\n\n       * include/parallel/quicksort.h:\n       (parallel_sort_qs_conquer) Explicitly request number of threads\n       in the parallel clause.\n       (parallel_sort_qs) Remove setting the number of threads globally.\n\nFrom-SVN: r135038", "tree": {"sha": "89c3ec8aa2638ff06b7dc346c1f67655066c1736", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/89c3ec8aa2638ff06b7dc346c1f67655066c1736"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a273a425372017288e758c59f6ab0a7304d80d81", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a273a425372017288e758c59f6ab0a7304d80d81", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a273a425372017288e758c59f6ab0a7304d80d81", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a273a425372017288e758c59f6ab0a7304d80d81/comments", "author": null, "committer": null, "parents": [{"sha": "9562228040b6fc80870b2d7bd60d67af7870390e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9562228040b6fc80870b2d7bd60d67af7870390e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9562228040b6fc80870b2d7bd60d67af7870390e"}], "stats": {"total": 12, "additions": 8, "deletions": 4}, "files": [{"sha": "6bc43b87a58effb3b4a24062f29cccfddb7e9134", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a273a425372017288e758c59f6ab0a7304d80d81/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a273a425372017288e758c59f6ab0a7304d80d81/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=a273a425372017288e758c59f6ab0a7304d80d81", "patch": "@@ -1,3 +1,10 @@\n+2008-05-07  Johannes Singler  <singler@ira.uka.de>\n+\n+       * include/parallel/quicksort.h:\n+       (parallel_sort_qs_conquer) Explicitly request number of threads\n+       in the parallel clause.\n+       (parallel_sort_qs) Remove setting the number of threads globally. \n+\n 2008-05-06  Benjamin Kosnik  <bkoz@redhat.com>\n \n \t* include/std/mutex (mutex::mutex): Fix usage of initializing macro."}, {"sha": "844a5bf3ccd6ce3388679060574429a4b4e2cff4", "filename": "libstdc++-v3/include/parallel/quicksort.h", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a273a425372017288e758c59f6ab0a7304d80d81/libstdc%2B%2B-v3%2Finclude%2Fparallel%2Fquicksort.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a273a425372017288e758c59f6ab0a7304d80d81/libstdc%2B%2B-v3%2Finclude%2Fparallel%2Fquicksort.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fparallel%2Fquicksort.h?ref=a273a425372017288e758c59f6ab0a7304d80d81", "patch": "@@ -138,7 +138,7 @@ namespace __gnu_parallel\n \t\t\t\t_Settings::get().sort_qs_num_samples_preset,\n \t\t\t\tnum_threads);\n \n-#pragma omp parallel sections\n+#pragma omp parallel sections num_threads(2)\n       {\n #pragma omp section\n \tparallel_sort_qs_conquer(begin, begin + split,\n@@ -177,9 +177,6 @@ namespace __gnu_parallel\n       if (num_threads > n)\n         num_threads = static_cast<thread_index_t>(n);\n \n-      // Hard to avoid.\n-      omp_set_num_threads(num_threads);\n-\n       parallel_sort_qs_conquer(begin, begin + n, comp, num_threads);\n     }\n "}]}