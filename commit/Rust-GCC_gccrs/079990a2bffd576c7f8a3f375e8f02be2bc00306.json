{"sha": "079990a2bffd576c7f8a3f375e8f02be2bc00306", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDc5OTkwYTJiZmZkNTc2YzdmOGEzZjM3NWU4ZjAyYmUyYmMwMDMwNg==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2008-08-31T15:54:54Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2008-08-31T15:54:54Z"}, "message": "tree-ssa-loop-unswitch.c (tree_unswitch_single_loop): Check that loop is optimized for speed.\n\n\n\t* tree-ssa-loop-unswitch.c (tree_unswitch_single_loop): Check that\n\tloop is optimized for speed.\n\nFrom-SVN: r139834", "tree": {"sha": "c38c8aeaed04648e997fe6aa19893da9484d71c2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c38c8aeaed04648e997fe6aa19893da9484d71c2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/079990a2bffd576c7f8a3f375e8f02be2bc00306", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/079990a2bffd576c7f8a3f375e8f02be2bc00306", "html_url": "https://github.com/Rust-GCC/gccrs/commit/079990a2bffd576c7f8a3f375e8f02be2bc00306", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/079990a2bffd576c7f8a3f375e8f02be2bc00306/comments", "author": null, "committer": null, "parents": [{"sha": "f885a45b90b1a06a12aed90273d5f16c9baabccf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f885a45b90b1a06a12aed90273d5f16c9baabccf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f885a45b90b1a06a12aed90273d5f16c9baabccf"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "e046003da7a52f914ca88a4082f8a5ad0978b42e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/079990a2bffd576c7f8a3f375e8f02be2bc00306/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/079990a2bffd576c7f8a3f375e8f02be2bc00306/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=079990a2bffd576c7f8a3f375e8f02be2bc00306", "patch": "@@ -1,3 +1,8 @@\n+2008-08-31  Jan Hubicka  <jh@suse.cz>\n+\n+\t* tree-ssa-loop-unswitch.c (tree_unswitch_single_loop): Check that\n+\tloop is optimized for speed.\n+\n 2008-08-31  Richard Guenther  <rguenther@suse.de>\n \n \tPR middle-end/37289"}, {"sha": "26abed2dd8fd223383d7d4ea7ee14c98bccfb97b", "filename": "gcc/tree-ssa-loop-unswitch.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/079990a2bffd576c7f8a3f375e8f02be2bc00306/gcc%2Ftree-ssa-loop-unswitch.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/079990a2bffd576c7f8a3f375e8f02be2bc00306/gcc%2Ftree-ssa-loop-unswitch.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-unswitch.c?ref=079990a2bffd576c7f8a3f375e8f02be2bc00306", "patch": "@@ -198,6 +198,14 @@ tree_unswitch_single_loop (struct loop *loop, int num)\n       return false;\n     }\n \n+  /* Do not unswitch in cold regions.  */\n+  if (optimize_loop_for_size_p (loop))\n+    {\n+      if (dump_file && (dump_flags & TDF_DETAILS))\n+\tfprintf (dump_file, \";; Not unswitching cold loops\\n\");\n+      return false;\n+    }\n+\n   /* The loop should not be too large, to limit code growth.  */\n   if (tree_num_loop_insns (loop, &eni_size_weights)\n       > (unsigned) PARAM_VALUE (PARAM_MAX_UNSWITCH_INSNS))"}]}