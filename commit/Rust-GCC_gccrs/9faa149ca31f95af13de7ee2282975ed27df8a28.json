{"sha": "9faa149ca31f95af13de7ee2282975ed27df8a28", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWZhYTE0OWNhMzFmOTVhZjEzZGU3ZWUyMjgyOTc1ZWQyN2RmOGEyOA==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2003-07-30T23:47:59Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2003-07-30T23:47:59Z"}, "message": "decl2.c (maybe_make_one_only): Use mark_referenced.\n\n\t* decl2.c (maybe_make_one_only): Use mark_referenced.\n\t* method.c (use_thunk): Likewsie.\n\nFrom-SVN: r69979", "tree": {"sha": "39767d20f2b69f48e2ddd5cc28e75b117fd7b0e3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/39767d20f2b69f48e2ddd5cc28e75b117fd7b0e3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9faa149ca31f95af13de7ee2282975ed27df8a28", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9faa149ca31f95af13de7ee2282975ed27df8a28", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9faa149ca31f95af13de7ee2282975ed27df8a28", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9faa149ca31f95af13de7ee2282975ed27df8a28/comments", "author": null, "committer": null, "parents": [{"sha": "10bbf137cf8103f09ce049a71f8e98dc92f821ab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10bbf137cf8103f09ce049a71f8e98dc92f821ab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/10bbf137cf8103f09ce049a71f8e98dc92f821ab"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "9f0593398e72a724d5af4f76db40cdeb519ef838", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9faa149ca31f95af13de7ee2282975ed27df8a28/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9faa149ca31f95af13de7ee2282975ed27df8a28/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=9faa149ca31f95af13de7ee2282975ed27df8a28", "patch": "@@ -1,3 +1,8 @@\n+Thu Jul 31 01:07:41 CEST 2003  Jan Hubicka  <jh@suse.cz>\n+\n+\t* decl2.c (maybe_make_one_only): Use mark_referenced.\n+\t* method.c (use_thunk): Likewsie.\n+\n Wed Jul 30 19:12:48 CEST 2003  Jan Hubicka  <jh@suse.cz>\n \n \t* class.c (build_vtable_entry_ref): Kill."}, {"sha": "bd51bd1c136a9fe774aef2078a56661a01b910e0", "filename": "gcc/cp/decl2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9faa149ca31f95af13de7ee2282975ed27df8a28/gcc%2Fcp%2Fdecl2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9faa149ca31f95af13de7ee2282975ed27df8a28/gcc%2Fcp%2Fdecl2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl2.c?ref=9faa149ca31f95af13de7ee2282975ed27df8a28", "patch": "@@ -1517,7 +1517,7 @@ maybe_make_one_only (tree decl)\n     {\n       DECL_COMDAT (decl) = 1;\n       /* Mark it needed so we don't forget to emit it.  */\n-      TREE_SYMBOL_REFERENCED (DECL_ASSEMBLER_NAME (decl)) = 1;\n+      mark_referenced (DECL_ASSEMBLER_NAME (decl));\n     }\n }\n "}, {"sha": "c49af5175c189c6fb61af57c79865e9c34ea55c7", "filename": "gcc/cp/method.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9faa149ca31f95af13de7ee2282975ed27df8a28/gcc%2Fcp%2Fmethod.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9faa149ca31f95af13de7ee2282975ed27df8a28/gcc%2Fcp%2Fmethod.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fmethod.c?ref=9faa149ca31f95af13de7ee2282975ed27df8a28", "patch": "@@ -323,7 +323,7 @@ use_thunk (tree thunk_fndecl, bool emit_p)\n      this translation unit.  */\n   TREE_ADDRESSABLE (function) = 1;\n   mark_used (function);\n-  TREE_SYMBOL_REFERENCED (DECL_ASSEMBLER_NAME (function)) = 1;\n+  mark_referenced (DECL_ASSEMBLER_NAME (function));\n   if (!emit_p)\n     return;\n \n@@ -460,7 +460,7 @@ use_thunk (tree thunk_fndecl, bool emit_p)\n \n       /* Since we want to emit the thunk, we explicitly mark its name as\n \t referenced.  */\n-      TREE_SYMBOL_REFERENCED (DECL_ASSEMBLER_NAME (thunk_fndecl)) = 1;\n+      mark_referenced (DECL_ASSEMBLER_NAME (thunk_fndecl));\n \n       /* But we don't want debugging information about it.  */\n       DECL_IGNORED_P (thunk_fndecl) = 1;"}]}