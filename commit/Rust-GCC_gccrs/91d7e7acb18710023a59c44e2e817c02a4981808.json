{"sha": "91d7e7acb18710023a59c44e2e817c02a4981808", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTFkN2U3YWNiMTg3MTAwMjNhNTljNDRlMmU4MTdjMDJhNDk4MTgwOA==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "amylaar@cygnus.co.uk", "date": "1998-07-09T10:29:03Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "1998-07-09T10:29:03Z"}, "message": "reload1.c (choose_reload_regs): If using an equivalence from find_equiv_reg and reg_reloaded_valid is not set...\n\n\t* reload1.c (choose_reload_regs): If using an equivalence from\n\tfind_equiv_reg and reg_reloaded_valid is not set for this register,\n\tclear the associated spill_reg_store.\n\nFrom-SVN: r21035", "tree": {"sha": "bf7692a96aea2b675910f908e67952e0063a9885", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bf7692a96aea2b675910f908e67952e0063a9885"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/91d7e7acb18710023a59c44e2e817c02a4981808", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/91d7e7acb18710023a59c44e2e817c02a4981808", "html_url": "https://github.com/Rust-GCC/gccrs/commit/91d7e7acb18710023a59c44e2e817c02a4981808", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/91d7e7acb18710023a59c44e2e817c02a4981808/comments", "author": null, "committer": null, "parents": [{"sha": "9da4652288c52297d6bbbd3d205c295f4814878e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9da4652288c52297d6bbbd3d205c295f4814878e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9da4652288c52297d6bbbd3d205c295f4814878e"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "6d81369c7a9cb7463d62abecfdebae7159df9ea4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91d7e7acb18710023a59c44e2e817c02a4981808/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91d7e7acb18710023a59c44e2e817c02a4981808/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=91d7e7acb18710023a59c44e2e817c02a4981808", "patch": "@@ -1,3 +1,9 @@\n+Thu Jul  9 18:24:56 1998  J\"orn Rennecke <amylaar@cygnus.co.uk>\n+\n+\t* reload1.c (choose_reload_regs): If using an equivalence from\n+\tfind_equiv_reg and reg_reloaded_valid is not set for this register,\n+\tclear the associated spill_reg_store.\n+\n Thu Jul  9 18:12:49 1998  J\"orn Rennecke <amylaar@cygnus.co.uk>\n \n \t* reload1.c (emit_reload_insns): If an output reload copies only"}, {"sha": "3b1fd5665e970d29e93022a61a2bbcb2ca084c0c", "filename": "gcc/reload1.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91d7e7acb18710023a59c44e2e817c02a4981808/gcc%2Freload1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91d7e7acb18710023a59c44e2e817c02a4981808/gcc%2Freload1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload1.c?ref=91d7e7acb18710023a59c44e2e817c02a4981808", "patch": "@@ -5861,6 +5861,12 @@ choose_reload_regs (insn, avoid_return_reg)\n \t\t  reload_reg_rtx[r] = equiv;\n \t\t  reload_inherited[r] = 1;\n \n+\t\t  /* If reg_reloaded_valid is not set for this register,\n+\t\t     there might be a stale spill_reg_store lying around.\n+\t\t     We must clear it, since otherwise emit_reload_insns\n+\t\t     might delete the store.  */\n+\t\t  if (! TEST_HARD_REG_BIT (reg_reloaded_valid, regno))\n+\t\t    spill_reg_store[regno] = NULL_RTX;\n \t\t  /* If any of the hard registers in EQUIV are spill\n \t\t     registers, mark them as in use for this insn.  */\n \t\t  for (k = 0; k < nr; k++)"}]}