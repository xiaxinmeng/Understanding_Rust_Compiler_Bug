{"sha": "610de68dbe2c55bad224111693e12cdb00aa87b8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjEwZGU2OGRiZTJjNTViYWQyMjQxMTE2OTNlMTJjZGIwMGFhODdiOA==", "commit": {"author": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2010-03-15T13:05:05Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2010-03-15T13:05:05Z"}, "message": "re PR tree-optimization/43317 (ICE: Segmentation fault with -fipa-struct-reorg -g)\n\n2010-03-15  Richard Guenther  <rguenther@suse.de>\n\n\tPR tree-optimization/43317\n\t* ipa-struct-reorg.c (create_new_general_access): Update stmt.\n\n\t* gcc.dg/pr43317.c: New testcase.\n\nFrom-SVN: r157457", "tree": {"sha": "22a8bc701235da3d07736bdd2f28c95976de8b73", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/22a8bc701235da3d07736bdd2f28c95976de8b73"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/610de68dbe2c55bad224111693e12cdb00aa87b8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/610de68dbe2c55bad224111693e12cdb00aa87b8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/610de68dbe2c55bad224111693e12cdb00aa87b8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/610de68dbe2c55bad224111693e12cdb00aa87b8/comments", "author": null, "committer": null, "parents": [{"sha": "932e2e64b1f6bcdca46f9a65362a91e4147e3435", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/932e2e64b1f6bcdca46f9a65362a91e4147e3435", "html_url": "https://github.com/Rust-GCC/gccrs/commit/932e2e64b1f6bcdca46f9a65362a91e4147e3435"}], "stats": {"total": 28, "additions": 27, "deletions": 1}, "files": [{"sha": "bd0736436c83753de31bfb7d47d12ba7b7c53a7b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/610de68dbe2c55bad224111693e12cdb00aa87b8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/610de68dbe2c55bad224111693e12cdb00aa87b8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=610de68dbe2c55bad224111693e12cdb00aa87b8", "patch": "@@ -1,6 +1,11 @@\n+2010-03-15  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR tree-optimization/43317\n+\t* ipa-struct-reorg.c (create_new_general_access): Update stmt.\n+\n 2010-03-15  Martin Jambor  <mjambor@suse.cz>\n \n-\tPR tree/optimization/43141\n+\tPR tree-optimization/43141\n \t* tree-sra.c (create_abstract_origin): New function.\n \t(modify_function): Call create_abstract_origin.\n "}, {"sha": "24b42e3ed035e6c3225aca80754949b4194d4652", "filename": "gcc/ipa-struct-reorg.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/610de68dbe2c55bad224111693e12cdb00aa87b8/gcc%2Fipa-struct-reorg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/610de68dbe2c55bad224111693e12cdb00aa87b8/gcc%2Fipa-struct-reorg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-struct-reorg.c?ref=610de68dbe2c55bad224111693e12cdb00aa87b8", "patch": "@@ -1389,6 +1389,7 @@ create_new_general_access (struct access_site *acc, d_str str)\n \t for now just reset all debug stmts referencing objects that have\n \t been peeled.  */\n       gimple_debug_bind_reset_value (stmt);\n+      update_stmt (stmt);\n       break;\n \n     default:"}, {"sha": "65c465fa02b4953ebf03f140f04624740a2ec218", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/610de68dbe2c55bad224111693e12cdb00aa87b8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/610de68dbe2c55bad224111693e12cdb00aa87b8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=610de68dbe2c55bad224111693e12cdb00aa87b8", "patch": "@@ -1,3 +1,8 @@\n+2010-03-15  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR tree-optimization/43317\n+\t* gcc.dg/pr43317.c: New testcase.\n+\n 2010-03-14  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* g++.dg/abi/packed1.C: Expect warning on the alpha*-*-*."}, {"sha": "3ee3ed5493196361251ff60f619505e47963caae", "filename": "gcc/testsuite/gcc.dg/pr43317.c", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/610de68dbe2c55bad224111693e12cdb00aa87b8/gcc%2Ftestsuite%2Fgcc.dg%2Fpr43317.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/610de68dbe2c55bad224111693e12cdb00aa87b8/gcc%2Ftestsuite%2Fgcc.dg%2Fpr43317.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr43317.c?ref=610de68dbe2c55bad224111693e12cdb00aa87b8", "patch": "@@ -0,0 +1,15 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O -fipa-struct-reorg -fwhole-program -fipa-type-escape -g\" } */\n+\n+extern void *malloc(__SIZE_TYPE__);\n+\n+struct S {\n+  int i;\n+};\n+\n+int main(int argc, char *argv[])\n+{\n+  int i = argc;\n+  struct S *p = malloc(sizeof (struct S));\n+  return p[i].i;\n+}"}]}