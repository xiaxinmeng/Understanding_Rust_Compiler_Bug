{"sha": "de2c775d6602860eb235bf0da5171cb2e4bdd305", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGUyYzc3NWQ2NjAyODYwZWIyMzViZjBkYTUxNzFjYjJlNGJkZDMwNQ==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2012-06-26T20:33:32Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2012-06-26T20:33:32Z"}, "message": "var-tracking.c (vt_add_function_parameter): Use a preserved VALUE for the MEM address of an incoming parameter.\n\n* var-tracking.c (vt_add_function_parameter): Use a preserved\nVALUE for the MEM address of an incoming parameter.\n\nFrom-SVN: r188998", "tree": {"sha": "06e0c257d326fe0d68b2efc38267a1f3ef9be00a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/06e0c257d326fe0d68b2efc38267a1f3ef9be00a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/de2c775d6602860eb235bf0da5171cb2e4bdd305", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de2c775d6602860eb235bf0da5171cb2e4bdd305", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de2c775d6602860eb235bf0da5171cb2e4bdd305", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de2c775d6602860eb235bf0da5171cb2e4bdd305/comments", "author": null, "committer": null, "parents": [{"sha": "2ef1bce664881cd59dac7db6c3f3b5709d858bfe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ef1bce664881cd59dac7db6c3f3b5709d858bfe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ef1bce664881cd59dac7db6c3f3b5709d858bfe"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "307a315e1cba73c7bec4e0e586c7ec1ca9ed01d0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de2c775d6602860eb235bf0da5171cb2e4bdd305/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de2c775d6602860eb235bf0da5171cb2e4bdd305/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=de2c775d6602860eb235bf0da5171cb2e4bdd305", "patch": "@@ -1,3 +1,8 @@\n+2012-06-26  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* var-tracking.c (vt_add_function_parameter): Use a preserved\n+\tVALUE for the MEM address of an incoming parameter.\n+\n 2012-06-26  Sterling Augustine <saugustine@google.com>\n \n \t* dwarf2out.c (output_pubnames): Add check for DW_TAG_enumerator."}, {"sha": "be638d7ca25c38149fc8a861edba372d006bb86f", "filename": "gcc/var-tracking.c", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de2c775d6602860eb235bf0da5171cb2e4bdd305/gcc%2Fvar-tracking.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de2c775d6602860eb235bf0da5171cb2e4bdd305/gcc%2Fvar-tracking.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvar-tracking.c?ref=de2c775d6602860eb235bf0da5171cb2e4bdd305", "patch": "@@ -9454,6 +9454,17 @@ vt_add_function_parameter (tree parm)\n \t\t\t     VAR_INIT_STATUS_INITIALIZED, NULL, INSERT);\n \t  dv = dv_from_value (val->val_rtx);\n \t}\n+\n+      if (MEM_P (incoming))\n+\t{\n+\t  val = cselib_lookup_from_insn (XEXP (incoming, 0), mode, true,\n+\t\t\t\t\t VOIDmode, get_insns ());\n+\t  if (val)\n+\t    {\n+\t      preserve_value (val);\n+\t      incoming = replace_equiv_address_nv (incoming, val->val_rtx);\n+\t    }\n+\t}\n     }\n \n   if (REG_P (incoming))"}]}