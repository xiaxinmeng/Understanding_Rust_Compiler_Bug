{"sha": "81043a94e942985760486076a4c880a57d71ae8f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODEwNDNhOTRlOTQyOTg1NzYwNDg2MDc2YTRjODgwYTU3ZDcxYWU4Zg==", "commit": {"author": {"name": "Gary Benson", "email": "gbenson@redhat.com", "date": "2005-05-25T15:25:38Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2005-05-25T15:25:38Z"}, "message": "re PR libgcj/21736 (MessageFormat(\"{0,time,medium}\") fails)\n\n2005-05-24  Gary Benson  <gbenson@redhat.com>\n\n\tPR libgcj/21736:\n\t* java/text/MessageFormat.java (MessageFormatElement.setLocale):\n\tHandle DateFormat.DEFAULT case correctly.\n\nFrom-SVN: r100154", "tree": {"sha": "ff76bbfb820a2300dc36aa9e4ebcca8dbb77c147", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ff76bbfb820a2300dc36aa9e4ebcca8dbb77c147"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/81043a94e942985760486076a4c880a57d71ae8f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/81043a94e942985760486076a4c880a57d71ae8f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/81043a94e942985760486076a4c880a57d71ae8f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/81043a94e942985760486076a4c880a57d71ae8f/comments", "author": null, "committer": null, "parents": [{"sha": "93f8e21b71a52f12a70eb8556c244ed886612bbd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/93f8e21b71a52f12a70eb8556c244ed886612bbd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/93f8e21b71a52f12a70eb8556c244ed886612bbd"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "be3a5351fd5727347fda01ca0dfe9d88a3d0b2ea", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81043a94e942985760486076a4c880a57d71ae8f/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81043a94e942985760486076a4c880a57d71ae8f/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=81043a94e942985760486076a4c880a57d71ae8f", "patch": "@@ -1,3 +1,9 @@\n+2005-05-24  Gary Benson  <gbenson@redhat.com>\n+\n+\tPR libgcj/21736:\n+\t* java/text/MessageFormat.java (MessageFormatElement.setLocale):\n+\tHandle DateFormat.DEFAULT case correctly.\n+\n 2005-05-21  Tom Tromey  <tromey@redhat.com>\n \n \tPR libgcj/21703:"}, {"sha": "4a24afd1f44ba4f3632925014905f2d00927d35e", "filename": "libjava/java/text/MessageFormat.java", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81043a94e942985760486076a4c880a57d71ae8f/libjava%2Fjava%2Ftext%2FMessageFormat.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81043a94e942985760486076a4c880a57d71ae8f/libjava%2Fjava%2Ftext%2FMessageFormat.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Ftext%2FMessageFormat.java?ref=81043a94e942985760486076a4c880a57d71ae8f", "patch": "@@ -113,6 +113,7 @@ else if (type.equals(\"time\") || type.equals(\"date\"))\n \t  formatClass = java.util.Date.class;\n \n \t  int val = DateFormat.DEFAULT;\n+\t  boolean styleIsPattern = false;\n \t  if (style == null)\n \t    ;\n \t  else if (style.equals(\"short\"))\n@@ -123,13 +124,15 @@ else if (style.equals(\"long\"))\n \t    val = DateFormat.LONG;\n \t  else if (style.equals(\"full\"))\n \t    val = DateFormat.FULL;\n+\t  else\n+\t    styleIsPattern = true;\n \n \t  if (type.equals(\"time\"))\n \t    format = DateFormat.getTimeInstance(val, loc);\n \t  else\n \t    format = DateFormat.getDateInstance(val, loc);\n \n-\t  if (style != null && val == DateFormat.DEFAULT)\n+\t  if (styleIsPattern)\n \t    {\n \t      SimpleDateFormat sdf = (SimpleDateFormat) format;\n \t      sdf.applyPattern(style);"}]}