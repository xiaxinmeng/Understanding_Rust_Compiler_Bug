{"sha": "5d9d05d349e55217a11841377fda0646d86e17ba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWQ5ZDA1ZDM0OWU1NTIxN2ExMTg0MTM3N2ZkYTA2NDZkODZlMTdiYQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2011-12-13T20:10:36Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2011-12-13T20:10:36Z"}, "message": "rwlock.cc (gtm_rwlock::write_lock_generic): Fix signed/unsigned comparison werror.\n\n        * config/posix/rwlock.cc (gtm_rwlock::write_lock_generic): Fix\n        signed/unsigned comparison werror.\n\nFrom-SVN: r182302", "tree": {"sha": "aa1ae8558fc24b547193b7ff868195bd8bd45526", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aa1ae8558fc24b547193b7ff868195bd8bd45526"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5d9d05d349e55217a11841377fda0646d86e17ba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d9d05d349e55217a11841377fda0646d86e17ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d9d05d349e55217a11841377fda0646d86e17ba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d9d05d349e55217a11841377fda0646d86e17ba/comments", "author": null, "committer": null, "parents": [{"sha": "b826bea7f3a828f9a8d23a0828572452101ced42", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b826bea7f3a828f9a8d23a0828572452101ced42", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b826bea7f3a828f9a8d23a0828572452101ced42"}], "stats": {"total": 5, "additions": 4, "deletions": 1}, "files": [{"sha": "1b5966ecdbe1e84adaf145d83ee25a40a6b642f9", "filename": "libitm/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d9d05d349e55217a11841377fda0646d86e17ba/libitm%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d9d05d349e55217a11841377fda0646d86e17ba/libitm%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libitm%2FChangeLog?ref=5d9d05d349e55217a11841377fda0646d86e17ba", "patch": "@@ -1,5 +1,8 @@\n 2011-12-13  Richard Henderson  <rth@redhat.com>\n \n+\t* config/posix/rwlock.cc (gtm_rwlock::write_lock_generic): Fix\n+\tsigned/unsigned comparison werror.\n+\n \t* local_atomic: New file.\n \t* libitm_i.h: Include it.\n \t(gtm_thread::shared_state): Use atomic template."}, {"sha": "2464f041c5a10cbb1ad1b3617e2edbf7357f18bf", "filename": "libitm/config/posix/rwlock.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d9d05d349e55217a11841377fda0646d86e17ba/libitm%2Fconfig%2Fposix%2Frwlock.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d9d05d349e55217a11841377fda0646d86e17ba/libitm%2Fconfig%2Fposix%2Frwlock.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libitm%2Fconfig%2Fposix%2Frwlock.cc?ref=5d9d05d349e55217a11841377fda0646d86e17ba", "patch": "@@ -193,7 +193,7 @@ gtm_rwlock::write_lock_generic (gtm_thread *tx)\n \t  it = it->next_thread)\n \t{\n \t  // Don't count ourself if this is an upgrade.\n-\t  if (it->shared_state.load(memory_order_relaxed) != -1)\n+\t  if (it->shared_state.load(memory_order_relaxed) != (gtm_word)-1)\n \t    readers++;\n \t}\n "}]}