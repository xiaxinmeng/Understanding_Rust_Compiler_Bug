{"sha": "b45f3a91b911ec93cc9dd386e911b5771a637c3f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjQ1ZjNhOTFiOTExZWM5M2NjOWRkMzg2ZTkxMWI1NzcxYTYzN2MzZg==", "commit": {"author": {"name": "H.J. Lu", "email": "hjl@gnu.org", "date": "1998-02-09T22:54:34Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-02-09T22:54:34Z"}, "message": "* lib/g77.exp (g77_target_compile): Fix multilibs for libf2c.\n\nFrom-SVN: r17818", "tree": {"sha": "0b6b9417bcbfe70026fdcda0097fd2c285ac45fd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0b6b9417bcbfe70026fdcda0097fd2c285ac45fd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b45f3a91b911ec93cc9dd386e911b5771a637c3f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b45f3a91b911ec93cc9dd386e911b5771a637c3f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b45f3a91b911ec93cc9dd386e911b5771a637c3f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b45f3a91b911ec93cc9dd386e911b5771a637c3f/comments", "author": null, "committer": null, "parents": [{"sha": "2fd0af53a1498e221236a5f63cb1700420006c67", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2fd0af53a1498e221236a5f63cb1700420006c67", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2fd0af53a1498e221236a5f63cb1700420006c67"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "39043d329b1ae33841422f4c894ce60e16fe2e18", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b45f3a91b911ec93cc9dd386e911b5771a637c3f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b45f3a91b911ec93cc9dd386e911b5771a637c3f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b45f3a91b911ec93cc9dd386e911b5771a637c3f", "patch": "@@ -1,5 +1,8 @@\n+\n Mon Feb  9 02:08:47 1998  H.J. Lu  (hjl@gnu.org)\n \n+\t* lib/g77.exp (g77_target_compile): Fix multilibs for libf2c.\n+\n         * lib/old-dejagnu.exp (old-dejagnu): Added the\n         \"execution test - XFAIL *-*-*\" handling in the spirit of\n         \"excess errors test -\". Changed the \"execution test fails\""}, {"sha": "ba46a9f5499382b460362bc9f1ea43073ef3ffbc", "filename": "gcc/testsuite/lib/g77.exp", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b45f3a91b911ec93cc9dd386e911b5771a637c3f/gcc%2Ftestsuite%2Flib%2Fg77.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b45f3a91b911ec93cc9dd386e911b5771a637c3f/gcc%2Ftestsuite%2Flib%2Fg77.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fg77.exp?ref=b45f3a91b911ec93cc9dd386e911b5771a637c3f", "patch": "@@ -141,6 +141,14 @@ proc g77_target_compile { source dest type options } {\n     if [target_info exists g77,no_varargs] {\n \tlappend options \"additional_flags=-DNO_VARARGS\"\n     }\n+    if ![is_remote host] {\n+      set gccpath \"[get_multilibs]\"\n+      set libf2c_dir [lookfor_file ${gccpath} libf2c/libf2c.a]\n+      if { $libf2c_dir != \"\" } {\n+\tset libf2c_link_flags \"-L[file dirname ${libf2c_dir}]\"\n+\tlappend options \"additional_flags=${libf2c_link_flags}\"\n+      }\n+    }\n     lappend options \"compiler=$G77_UNDER_TEST\"\n     return [target_compile $source $dest $type $options]\n }"}]}