{"sha": "727bd5d478ff8035e4f26e939d690fd3752d4133", "node_id": "C_kwDOANBUbNoAKDcyN2JkNWQ0NzhmZjgwMzVlNGYyNmU5MzlkNjkwZmQzNzUyZDQxMzM", "commit": {"author": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2023-01-07T18:40:04Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2023-01-07T18:40:04Z"}, "message": "Fix compilation of gcc.dg/atomic/c11-atomic-exec-[45].c on hpux.\n\n_HPUX_SOURCE needs to be defined to provide various types needed\nfor pthreads.\n\n2023-01-07  John David Anglin  <danglin@gcc.gnu.org>\n\ngcc/testsuite/ChangeLog:\n\n\t* gcc.dg/atomic/c11-atomic-exec-4.c: Add \"-D_HPUX_SOURCE\" option\n\ton *-*-hpux*.\n\t* gcc.dg/atomic/c11-atomic-exec-5.c: Likewise.", "tree": {"sha": "b749a1ee83a1488fc298e794ee7bc1fbfac8de94", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b749a1ee83a1488fc298e794ee7bc1fbfac8de94"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/727bd5d478ff8035e4f26e939d690fd3752d4133", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/727bd5d478ff8035e4f26e939d690fd3752d4133", "html_url": "https://github.com/Rust-GCC/gccrs/commit/727bd5d478ff8035e4f26e939d690fd3752d4133", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/727bd5d478ff8035e4f26e939d690fd3752d4133/comments", "author": null, "committer": null, "parents": [{"sha": "902c755930326cb4405672aa3ea13c35c653cbff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/902c755930326cb4405672aa3ea13c35c653cbff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/902c755930326cb4405672aa3ea13c35c653cbff"}], "stats": {"total": 2, "additions": 2, "deletions": 0}, "files": [{"sha": "a7e158f14e8ddb62e8acd1cfbee6d236213f5881", "filename": "gcc/testsuite/gcc.dg/atomic/c11-atomic-exec-4.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/727bd5d478ff8035e4f26e939d690fd3752d4133/gcc%2Ftestsuite%2Fgcc.dg%2Fatomic%2Fc11-atomic-exec-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/727bd5d478ff8035e4f26e939d690fd3752d4133/gcc%2Ftestsuite%2Fgcc.dg%2Fatomic%2Fc11-atomic-exec-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fatomic%2Fc11-atomic-exec-4.c?ref=727bd5d478ff8035e4f26e939d690fd3752d4133", "patch": "@@ -4,6 +4,7 @@\n /* { dg-do run } */\n /* { dg-options \"-std=c11 -pedantic-errors -pthread -U_POSIX_C_SOURCE -D_POSIX_C_SOURCE=200809L\" } */\n /* { dg-additional-options \"-D_XOPEN_SOURCE=600\" { target *-*-solaris2* } } */\n+/* { dg-additional-options \"-D_HPUX_SOURCE\" { target *-*-hpux* } } */\n /* { dg-require-effective-target pthread } */\n \n #include <stdint.h>"}, {"sha": "299d6ab904b7aa4dc65f2a0cf141fe3c68791d04", "filename": "gcc/testsuite/gcc.dg/atomic/c11-atomic-exec-5.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/727bd5d478ff8035e4f26e939d690fd3752d4133/gcc%2Ftestsuite%2Fgcc.dg%2Fatomic%2Fc11-atomic-exec-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/727bd5d478ff8035e4f26e939d690fd3752d4133/gcc%2Ftestsuite%2Fgcc.dg%2Fatomic%2Fc11-atomic-exec-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fatomic%2Fc11-atomic-exec-5.c?ref=727bd5d478ff8035e4f26e939d690fd3752d4133", "patch": "@@ -7,6 +7,7 @@\n /* { dg-add-options ieee } */\n /* { dg-additional-options \"-mfp-trap-mode=sui\" { target alpha*-*-* } } */\n /* { dg-additional-options \"-D_XOPEN_SOURCE=600\" { target *-*-solaris2* } } */\n+/* { dg-additional-options \"-D_HPUX_SOURCE\" { target *-*-hpux* } } */\n /* { dg-require-effective-target fenv_exceptions } */\n /* { dg-require-effective-target pthread } */\n /* { dg-timeout-factor 2 } */"}]}