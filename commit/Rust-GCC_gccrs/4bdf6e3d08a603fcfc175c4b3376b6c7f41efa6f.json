{"sha": "4bdf6e3d08a603fcfc175c4b3376b6c7f41efa6f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGJkZjZlM2QwOGE2MDNmY2ZjMTc1YzRiMzM3NmI2YzdmNDFlZmE2Zg==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1992-12-03T06:44:37Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1992-12-03T06:44:37Z"}, "message": "(ASM_SPEC): Pass \"-K PIC\" to assembler when pic.\n\n(JUMP_TABLES_IN_TEXT_SECTION): Define.\n(SELECT_RTX_SECTION): Define.\n\nFrom-SVN: r2832", "tree": {"sha": "4928a38dec8a352f8834e2dc533d8dd958cade48", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4928a38dec8a352f8834e2dc533d8dd958cade48"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4bdf6e3d08a603fcfc175c4b3376b6c7f41efa6f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4bdf6e3d08a603fcfc175c4b3376b6c7f41efa6f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4bdf6e3d08a603fcfc175c4b3376b6c7f41efa6f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4bdf6e3d08a603fcfc175c4b3376b6c7f41efa6f/comments", "author": null, "committer": null, "parents": [{"sha": "c4eb2bd742db1fc8b6edca92717a42d06de8f557", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c4eb2bd742db1fc8b6edca92717a42d06de8f557", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c4eb2bd742db1fc8b6edca92717a42d06de8f557"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "edd5d6056347cd2d22bcf4d639ce040237e1b465", "filename": "gcc/config/sparc/sol2.h", "status": "modified", "additions": 17, "deletions": 1, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4bdf6e3d08a603fcfc175c4b3376b6c7f41efa6f/gcc%2Fconfig%2Fsparc%2Fsol2.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4bdf6e3d08a603fcfc175c4b3376b6c7f41efa6f/gcc%2Fconfig%2Fsparc%2Fsol2.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsol2.h?ref=4bdf6e3d08a603fcfc175c4b3376b6c7f41efa6f", "patch": "@@ -30,7 +30,8 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n    It's safe to pass -s always, even if -g is not used. */\n #undef ASM_SPEC\n #define ASM_SPEC \\\n-  \"%{V} %{v:%{!V:-V}} %{Qy:} %{!Qn:-Qy} %{n} %{T} %{Ym,*} %{Wa,*:%*} -s\"\n+  \"%{V} %{v:%{!V:-V}} %{Qy:} %{!Qn:-Qy} %{n} %{T} %{Ym,*} %{Wa,*:%*} -s \\\n+   %{fpic:-K PIC} %{fPIC:-K PIC}\"\n \n /* However it appears that Solaris 2.0 uses the same reg numbering as\n    the old BSD-style system did. */\n@@ -77,6 +78,21 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n #define CTORS_SECTION_ASM_OP\t\"\\t.section\\t\\\".ctors\\\",#alloc,#execinstr\\n\"\n #define DTORS_SECTION_ASM_OP\t\"\\t.section\\t\\\".dtors\\\",#alloc,#execinstr\\n\"\n \n+/* The native assembler can't compute differences between symbols in different\n+   sections when generating pic code, so we must put jump tables in the\n+   text section.  */\n+#define JUMP_TABLES_IN_TEXT_SECTION 1\n+\n+/* Must use data section for relocatable constants when pic.  */\n+#undef SELECT_RTX_SECTION\n+#define SELECT_RTX_SECTION(MODE,RTX)\t\t\\\n+{\t\t\t\t\t\t\\\n+  if (flag_pic && symbolic_operand (RTX))\t\\\n+    data_section ();\t\t\t\t\\\n+  else\t\t\t\t\t\t\\\n+    const_section ();\t\t\t\t\\\n+}\n+\n /* The Solaris 2 assembler uses .skip, not .zero, so put this back. */\n #undef ASM_OUTPUT_SKIP\n #define ASM_OUTPUT_SKIP(FILE,SIZE)  \\"}]}