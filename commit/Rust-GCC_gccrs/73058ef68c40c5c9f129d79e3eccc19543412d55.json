{"sha": "73058ef68c40c5c9f129d79e3eccc19543412d55", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzMwNThlZjY4YzQwYzVjOWYxMjlkNzllM2VjY2MxOTU0MzQxMmQ1NQ==", "commit": {"author": {"name": "Mohan Embar", "email": "gnustuff@thisiscool.com", "date": "2003-03-01T23:02:18Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2003-03-01T23:02:18Z"}, "message": "natWin32Process.cc (startProcess): Double-quote each program array element passed to CreateProcess.\n\n2003-03-01  Mohan Embar  <gnustuff@thisiscool.com>\n\n\t* java/lang/natWin32Process.cc (startProcess): Double-quote each\n\tprogram array element passed to CreateProcess.\n\nFrom-SVN: r63633", "tree": {"sha": "e3fa0eb5bcc69f0243ad11f82c51c326a1b67581", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e3fa0eb5bcc69f0243ad11f82c51c326a1b67581"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/73058ef68c40c5c9f129d79e3eccc19543412d55", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73058ef68c40c5c9f129d79e3eccc19543412d55", "html_url": "https://github.com/Rust-GCC/gccrs/commit/73058ef68c40c5c9f129d79e3eccc19543412d55", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73058ef68c40c5c9f129d79e3eccc19543412d55/comments", "author": null, "committer": null, "parents": [{"sha": "f857509881fd80094c00dabbf94f64dd4d64c53b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f857509881fd80094c00dabbf94f64dd4d64c53b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f857509881fd80094c00dabbf94f64dd4d64c53b"}], "stats": {"total": 22, "additions": 14, "deletions": 8}, "files": [{"sha": "c340717c02e1d6fc3b0768d05bae7f17e57a69aa", "filename": "libjava/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73058ef68c40c5c9f129d79e3eccc19543412d55/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73058ef68c40c5c9f129d79e3eccc19543412d55/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=73058ef68c40c5c9f129d79e3eccc19543412d55", "patch": "@@ -1,3 +1,8 @@\n+2003-03-01  Mohan Embar  <gnustuff@thisiscool.com>\n+\n+\t* java/lang/natWin32Process.cc (startProcess): Double-quote each\n+\tprogram array element passed to CreateProcess.\n+\n 2003-03-01  Tom Tromey  <tromey@redhat.com>\n \n \t* java/rmi/registry/RegistryHandler.java: Deprecate."}, {"sha": "ff7ddb5f50a91f5b0e8858232e3136b039e68b1f", "filename": "libjava/java/lang/natWin32Process.cc", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73058ef68c40c5c9f129d79e3eccc19543412d55/libjava%2Fjava%2Flang%2FnatWin32Process.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73058ef68c40c5c9f129d79e3eccc19543412d55/libjava%2Fjava%2Flang%2FnatWin32Process.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FnatWin32Process.cc?ref=73058ef68c40c5c9f129d79e3eccc19543412d55", "patch": "@@ -136,21 +136,22 @@ java::lang::ConcreteProcess::startProcess (jstringArray progarray,\n   int cmdLineLen = 0;\n \n   for (int i = 0; i < progarray->length; ++i)\n-    cmdLineLen += (_Jv_GetStringUTFLength (elts[i]) + 1);\n+    cmdLineLen += (_Jv_GetStringUTFLength (elts[i]) + 3);\n \n   char *cmdLine = (char *) _Jv_Malloc (cmdLineLen + 1);\n+  char *cmdLineCurPos = cmdLine;\n \n-  int j = 0;\n   for (int i = 0; i < progarray->length; ++i)\n     {\n+      if (i > 0)\n+        *cmdLineCurPos++ = ' ';\n+      *cmdLineCurPos++ = '\\\"';\n       jsize s = _Jv_GetStringUTFLength (elts[i]);\n-      _Jv_GetStringUTFRegion (elts[i], 0, s, (cmdLine + j));\n-\n-      j += s;\n-      *(cmdLine + j) = ' ';\n-      j++;\n+      _Jv_GetStringUTFRegion (elts[i], 0, s, cmdLineCurPos);\n+      cmdLineCurPos += s;\n+      *cmdLineCurPos++ = '\\\"';\n     }\n-  *(cmdLine + j) = '\\0';\n+  *cmdLineCurPos = '\\0';\n \n   // Get the environment, if any.\n   char *env = NULL;"}]}