{"sha": "11b25716763ef8ca1c8b8f05f11e9e7d0c093ead", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTFiMjU3MTY3NjNlZjhjYTFjOGI4ZjA1ZjExZTllN2QwYzA5M2VhZA==", "commit": {"author": {"name": "Fariborz Jahanian", "email": "fjahanian@gcc.gnu.org", "date": "2004-01-26T17:38:51Z"}, "committer": {"name": "Fariborz Jahanian", "email": "fjahanian@gcc.gnu.org", "date": "2004-01-26T17:38:51Z"}, "message": "Use adjust_address_nv directly with appropriate mode.\n\nOKed by David Edelsohn.\n\nFrom-SVN: r76645", "tree": {"sha": "932fc381f381f9e22a0143b15151d5258b7dac5f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/932fc381f381f9e22a0143b15151d5258b7dac5f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/11b25716763ef8ca1c8b8f05f11e9e7d0c093ead", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11b25716763ef8ca1c8b8f05f11e9e7d0c093ead", "html_url": "https://github.com/Rust-GCC/gccrs/commit/11b25716763ef8ca1c8b8f05f11e9e7d0c093ead", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11b25716763ef8ca1c8b8f05f11e9e7d0c093ead/comments", "author": null, "committer": null, "parents": [{"sha": "4c45af42f5eada2603b45faa0903307be09122d4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c45af42f5eada2603b45faa0903307be09122d4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c45af42f5eada2603b45faa0903307be09122d4"}], "stats": {"total": 15, "additions": 8, "deletions": 7}, "files": [{"sha": "4353e8acfc1afe94f7e24de4e9dee791a736e817", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 8, "deletions": 7, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11b25716763ef8ca1c8b8f05f11e9e7d0c093ead/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11b25716763ef8ca1c8b8f05f11e9e7d0c093ead/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=11b25716763ef8ca1c8b8f05f11e9e7d0c093ead", "patch": "@@ -9898,13 +9898,13 @@\n   \"\n {\n   rtx temp = gen_reg_rtx (Pmode);\n+  int units_per_word = (TARGET_32BIT) ? 4 : 8;\n+  enum machine_mode wmode = (TARGET_32BIT) ? SImode : word_mode;\n \n   /* Copy the backchain to the first word, sp to the second.  */\n   emit_move_insn (temp, gen_rtx_MEM (Pmode, operands[1]));\n-  emit_move_insn (operand_subword (operands[0], 0, 0,\n-\t\t\t\t   (TARGET_32BIT ? DImode : TImode)),\n-\t\t  temp);\n-  emit_move_insn (operand_subword (operands[0], 1, 0, (TARGET_32BIT ? DImode : TImode)),\n+  emit_move_insn (adjust_address_nv (operands[0], wmode, 0), temp);\n+  emit_move_insn (adjust_address_nv (operands[0], wmode, units_per_word),\n \t\t  operands[1]);\n   DONE;\n }\")\n@@ -9916,13 +9916,14 @@\n   \"\n {\n   rtx temp = gen_reg_rtx (Pmode);\n+  int units_per_word = (TARGET_32BIT) ? 4 : 8;\n+  enum machine_mode wmode = (TARGET_32BIT) ? SImode : word_mode;\n \n   /* Restore the backchain from the first word, sp from the second.  */\n   emit_move_insn (temp,\n-\t\t  operand_subword (operands[1], 0, 0, (TARGET_32BIT ? DImode : TImode)));\n+\t\t  adjust_address_nv (operands[1], wmode, 0));\n   emit_move_insn (operands[0],\n-\t\t  operand_subword (operands[1], 1, 0,\n-\t\t\t\t   (TARGET_32BIT ? DImode : TImode)));\n+\t\t  adjust_address_nv (operands[1], wmode, units_per_word));\n   emit_move_insn (gen_rtx_MEM (Pmode, operands[0]), temp);\n   DONE;\n }\")"}]}