{"sha": "d3f6e07b9a129f1f090e4290c54448cacc0e0eb1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDNmNmUwN2I5YTEyOWYxZjA5MGU0MjkwYzU0NDQ4Y2FjYzBlMGViMQ==", "commit": {"author": {"name": "Jan Beulich", "email": "jbeulich@novell.com", "date": "2005-01-11T08:57:24Z"}, "committer": {"name": "Jan Beulich", "email": "jbeulich@gcc.gnu.org", "date": "2005-01-11T08:57:24Z"}, "message": "ia64.md (zero_extendsidi2): Replace zxt4 by addp4.\n\ngcc/\n2005-01-11  Jan Beulich  <jbeulich@novell.com>\n\t* config/ia64/ia64.md (zero_extendsidi2): Replace zxt4 by addp4.\n\tChange respective itanium_class attribute to ialu.\n\t(shladdp4_internal): New.\n\t* config/ia64/predicates.md (shladd_log2_operand): New.\n\nFrom-SVN: r93178", "tree": {"sha": "aad1291a450f97a162364c0fcab22912ff8800e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aad1291a450f97a162364c0fcab22912ff8800e0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d3f6e07b9a129f1f090e4290c54448cacc0e0eb1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3f6e07b9a129f1f090e4290c54448cacc0e0eb1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d3f6e07b9a129f1f090e4290c54448cacc0e0eb1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3f6e07b9a129f1f090e4290c54448cacc0e0eb1/comments", "author": null, "committer": null, "parents": [{"sha": "201dd46b9827597fdc60534fd9de31f36f998be3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/201dd46b9827597fdc60534fd9de31f36f998be3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/201dd46b9827597fdc60534fd9de31f36f998be3"}], "stats": {"total": 24, "additions": 22, "deletions": 2}, "files": [{"sha": "a525f323d788b99a0ca75266e2eda91efade26bd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3f6e07b9a129f1f090e4290c54448cacc0e0eb1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3f6e07b9a129f1f090e4290c54448cacc0e0eb1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d3f6e07b9a129f1f090e4290c54448cacc0e0eb1", "patch": "@@ -1,3 +1,9 @@\n+2005-01-11  Jan Beulich  <jbeulich@novell.com>\n+\t* config/ia64/ia64.md (zero_extendsidi2): Replace zxt4 by addp4.\n+\tChange respective itanium_class attribute to ialu.\n+\t(shladdp4_internal): New.\n+\t* config/ia64/predicates.md (shladd_log2_operand): New.\n+\n 2005-01-11  Richard Henderson  <rth@redhat.com>\n \n \t* expr.c (store_constructor): Use rtvec_alloc instead of"}, {"sha": "a41398d1cd8b6c8cbf3c0c19e3a5ad815559b7c9", "filename": "gcc/config/ia64/ia64.md", "status": "modified", "additions": 11, "deletions": 2, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3f6e07b9a129f1f090e4290c54448cacc0e0eb1/gcc%2Fconfig%2Fia64%2Fia64.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3f6e07b9a129f1f090e4290c54448cacc0e0eb1/gcc%2Fconfig%2Fia64%2Fia64.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Fia64.md?ref=d3f6e07b9a129f1f090e4290c54448cacc0e0eb1", "patch": "@@ -866,10 +866,10 @@\n \t  (match_operand:SI 1 \"grfr_nonimmediate_operand\" \"r,m,f\")))]\n   \"\"\n   \"@\n-   zxt4 %0 = %1\n+   addp4 %0 = %1, r0\n    ld4%O1 %0 = %1%P1\n    fmix.r %0 = f0, %1\"\n-  [(set_attr \"itanium_class\" \"xtd,ld,fmisc\")])\n+  [(set_attr \"itanium_class\" \"ialu,ld,fmisc\")])\n \n ;; Convert between floating point types of different sizes.\n \n@@ -1138,6 +1138,15 @@\n   [(set_attr \"itanium_class\" \"ishf\")])\n \n ;; Combine doesn't like to create bit-field insertions into zero.\n+(define_insn \"*shladdp4_internal\"\n+  [(set (match_operand:DI 0 \"gr_register_operand\" \"=r\")\n+\t(and:DI (ashift:DI (match_operand:DI 1 \"gr_register_operand\" \"r\")\n+\t\t\t   (match_operand:DI 2 \"shladd_log2_operand\" \"n\"))\n+\t\t(match_operand:DI 3 \"const_int_operand\" \"n\")))]\n+  \"ia64_depz_field_mask (operands[3], operands[2]) + INTVAL (operands[2]) == 32\"\n+  \"shladdp4 %0 = %1, %2, r0\"\n+  [(set_attr \"itanium_class\" \"ialu\")])\n+\n (define_insn \"*depz_internal\"\n   [(set (match_operand:DI 0 \"gr_register_operand\" \"=r\")\n \t(and:DI (ashift:DI (match_operand:DI 1 \"gr_register_operand\" \"r\")"}, {"sha": "fc94d82b0f3c3244ed974972220abcb5939e079d", "filename": "gcc/config/ia64/predicates.md", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3f6e07b9a129f1f090e4290c54448cacc0e0eb1/gcc%2Fconfig%2Fia64%2Fpredicates.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3f6e07b9a129f1f090e4290c54448cacc0e0eb1/gcc%2Fconfig%2Fia64%2Fpredicates.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Fpredicates.md?ref=d3f6e07b9a129f1f090e4290c54448cacc0e0eb1", "patch": "@@ -312,6 +312,11 @@\n        (match_test \"INTVAL (op) == 2 || INTVAL (op) == 4 ||\n \t            INTVAL (op) == 8 || INTVAL (op) == 16\")))\n \n+;; True if OP is one of the immediate values 1, 2, 3, or 4.\n+(define_predicate \"shladd_log2_operand\"\n+  (and (match_code \"const_int\")\n+       (match_test \"INTVAL (op) >= 1 && INTVAL (op) <= 4\")))\n+\n ;; True if OP is one of the immediate values  -16, -8, -4, -1, 1, 4, 8, 16.\n (define_predicate \"fetchadd_operand\"\n   (and (match_code \"const_int\")"}]}