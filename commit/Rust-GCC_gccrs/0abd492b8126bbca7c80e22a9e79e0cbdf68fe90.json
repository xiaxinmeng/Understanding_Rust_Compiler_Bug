{"sha": "0abd492b8126bbca7c80e22a9e79e0cbdf68fe90", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGFiZDQ5MmI4MTI2YmJjYTdjODBlMjJhOWU3OWUwY2JkZjY4ZmU5MA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-05-16T03:05:24Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-05-16T03:05:24Z"}, "message": "Initial revision\n\nFrom-SVN: r9699", "tree": {"sha": "4288f031681b5118675407d44501617ee8b55f8e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4288f031681b5118675407d44501617ee8b55f8e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0abd492b8126bbca7c80e22a9e79e0cbdf68fe90", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0abd492b8126bbca7c80e22a9e79e0cbdf68fe90", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0abd492b8126bbca7c80e22a9e79e0cbdf68fe90", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0abd492b8126bbca7c80e22a9e79e0cbdf68fe90/comments", "author": null, "committer": null, "parents": [{"sha": "e787a350fd7a5eb87dcbc810c74d93ee8915d640", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e787a350fd7a5eb87dcbc810c74d93ee8915d640", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e787a350fd7a5eb87dcbc810c74d93ee8915d640"}], "stats": {"total": 238, "additions": 238, "deletions": 0}, "files": [{"sha": "58719246f0407f315fccac407d19c3ef49e6fad1", "filename": "gcc/install.sh", "status": "added", "additions": 238, "deletions": 0, "changes": 238, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0abd492b8126bbca7c80e22a9e79e0cbdf68fe90/gcc%2Finstall.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0abd492b8126bbca7c80e22a9e79e0cbdf68fe90/gcc%2Finstall.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Finstall.sh?ref=0abd492b8126bbca7c80e22a9e79e0cbdf68fe90", "patch": "@@ -0,0 +1,238 @@\n+#! /bin/sh\n+#\n+# install - install a program, script, or datafile\n+# This comes from X11R5.\n+#\n+# Calling this script install-sh is preferred over install.sh, to prevent\n+# `make' implicit rules from creating a file called install from it\n+# when there is no Makefile.\n+#\n+# This script is compatible with the BSD install script, but was written\n+# from scratch.\n+#\n+\n+\n+# set DOITPROG to echo to test this script\n+\n+# Don't use :- since 4.3BSD and earlier shells don't like it.\n+doit=\"${DOITPROG-}\"\n+\n+\n+# put in absolute paths if you don't have them in your path; or use env. vars.\n+\n+mvprog=\"${MVPROG-mv}\"\n+cpprog=\"${CPPROG-cp}\"\n+chmodprog=\"${CHMODPROG-chmod}\"\n+chownprog=\"${CHOWNPROG-chown}\"\n+chgrpprog=\"${CHGRPPROG-chgrp}\"\n+stripprog=\"${STRIPPROG-strip}\"\n+rmprog=\"${RMPROG-rm}\"\n+mkdirprog=\"${MKDIRPROG-mkdir}\"\n+\n+transformbasename=\"\"\n+transform_arg=\"\"\n+instcmd=\"$mvprog\"\n+chmodcmd=\"$chmodprog 0755\"\n+chowncmd=\"\"\n+chgrpcmd=\"\"\n+stripcmd=\"\"\n+rmcmd=\"$rmprog -f\"\n+mvcmd=\"$mvprog\"\n+src=\"\"\n+dst=\"\"\n+dir_arg=\"\"\n+\n+while [ x\"$1\" != x ]; do\n+    case $1 in\n+\t-c) instcmd=\"$cpprog\"\n+\t    shift\n+\t    continue;;\n+\n+\t-d) dir_arg=true\n+\t    shift\n+\t    continue;;\n+\n+\t-m) chmodcmd=\"$chmodprog $2\"\n+\t    shift\n+\t    shift\n+\t    continue;;\n+\n+\t-o) chowncmd=\"$chownprog $2\"\n+\t    shift\n+\t    shift\n+\t    continue;;\n+\n+\t-g) chgrpcmd=\"$chgrpprog $2\"\n+\t    shift\n+\t    shift\n+\t    continue;;\n+\n+\t-s) stripcmd=\"$stripprog\"\n+\t    shift\n+\t    continue;;\n+\n+\t-t=*) transformarg=`echo $1 | sed 's/-t=//'`\n+\t    shift\n+\t    continue;;\n+\n+\t-b=*) transformbasename=`echo $1 | sed 's/-b=//'`\n+\t    shift\n+\t    continue;;\n+\n+\t*)  if [ x\"$src\" = x ]\n+\t    then\n+\t\tsrc=$1\n+\t    else\n+\t\t# this colon is to work around a 386BSD /bin/sh bug\n+\t\t:\n+\t\tdst=$1\n+\t    fi\n+\t    shift\n+\t    continue;;\n+    esac\n+done\n+\n+if [ x\"$src\" = x ]\n+then\n+\techo \"install:\tno input file specified\"\n+\texit 1\n+else\n+\ttrue\n+fi\n+\n+if [ x\"$dir_arg\" != x ]; then\n+\tdst=$src\n+\tsrc=\"\"\n+\t\n+\tif [ -d $dst ]; then\n+\t\tinstcmd=:\n+\telse\n+\t\tinstcmd=mkdir\n+\tfi\n+else\n+\n+# Waiting for this to be detected by the \"$instcmd $src $dsttmp\" command\n+# might cause directories to be created, which would be especially bad \n+# if $src (and thus $dsttmp) contains '*'.\n+\n+\tif [ -f $src -o -d $src ]\n+\tthen\n+\t\ttrue\n+\telse\n+\t\techo \"install:  $src does not exist\"\n+\t\texit 1\n+\tfi\n+\t\n+\tif [ x\"$dst\" = x ]\n+\tthen\n+\t\techo \"install:\tno destination specified\"\n+\t\texit 1\n+\telse\n+\t\ttrue\n+\tfi\n+\n+# If destination is a directory, append the input filename; if your system\n+# does not like double slashes in filenames, you may need to add some logic\n+\n+\tif [ -d $dst ]\n+\tthen\n+\t\tdst=\"$dst\"/`basename $src`\n+\telse\n+\t\ttrue\n+\tfi\n+fi\n+\n+## this sed command emulates the dirname command\n+dstdir=`echo $dst | sed -e 's,[^/]*$,,;s,/$,,;s,^$,.,'`\n+\n+# Make sure that the destination directory exists.\n+#  this part is taken from Noah Friedman's mkinstalldirs script\n+\n+# Skip lots of stat calls in the usual case.\n+if [ ! -d \"$dstdir\" ]; then\n+defaultIFS='\t\n+'\n+IFS=\"${IFS-${defaultIFS}}\"\n+\n+oIFS=\"${IFS}\"\n+# Some sh's can't handle IFS=/ for some reason.\n+IFS='%'\n+set - `echo ${dstdir} | sed -e 's@/@%@g' -e 's@^%@/@'`\n+IFS=\"${oIFS}\"\n+\n+pathcomp=''\n+\n+while [ $# -ne 0 ] ; do\n+\tpathcomp=\"${pathcomp}${1}\"\n+\tshift\n+\n+\tif [ ! -d \"${pathcomp}\" ] ;\n+        then\n+\t\t$mkdirprog \"${pathcomp}\"\n+\telse\n+\t\ttrue\n+\tfi\n+\n+\tpathcomp=\"${pathcomp}/\"\n+done\n+fi\n+\n+if [ x\"$dir_arg\" != x ]\n+then\n+\t$doit $instcmd $dst &&\n+\n+\tif [ x\"$chowncmd\" != x ]; then $doit $chowncmd $dst; else true ; fi &&\n+\tif [ x\"$chgrpcmd\" != x ]; then $doit $chgrpcmd $dst; else true ; fi &&\n+\tif [ x\"$stripcmd\" != x ]; then $doit $stripcmd $dst; else true ; fi &&\n+\tif [ x\"$chmodcmd\" != x ]; then $doit $chmodcmd $dst; else true ; fi\n+else\n+\n+# If we're going to rename the final executable, determine the name now.\n+\n+\tif [ x\"$transformarg\" = x ] \n+\tthen\n+\t\tdstfile=`basename $dst`\n+\telse\n+\t\tdstfile=`basename $dst $transformbasename | \n+\t\t\tsed $transformarg`$transformbasename\n+\tfi\n+\n+# don't allow the sed command to completely eliminate the filename\n+\n+\tif [ x\"$dstfile\" = x ] \n+\tthen\n+\t\tdstfile=`basename $dst`\n+\telse\n+\t\ttrue\n+\tfi\n+\n+# Make a temp file name in the proper directory.\n+\n+\tdsttmp=$dstdir/#inst.$$#\n+\n+# Move or copy the file name to the temp name\n+\n+\t$doit $instcmd $src $dsttmp &&\n+\n+\ttrap \"rm -f ${dsttmp}\" 0 &&\n+\n+# and set any options; do chmod last to preserve setuid bits\n+\n+# If any of these fail, we abort the whole thing.  If we want to\n+# ignore errors from any of these, just make sure not to ignore\n+# errors from the above \"$doit $instcmd $src $dsttmp\" command.\n+\n+\tif [ x\"$chowncmd\" != x ]; then $doit $chowncmd $dsttmp; else true;fi &&\n+\tif [ x\"$chgrpcmd\" != x ]; then $doit $chgrpcmd $dsttmp; else true;fi &&\n+\tif [ x\"$stripcmd\" != x ]; then $doit $stripcmd $dsttmp; else true;fi &&\n+\tif [ x\"$chmodcmd\" != x ]; then $doit $chmodcmd $dsttmp; else true;fi &&\n+\n+# Now rename the file to the real destination.\n+\n+\t$doit $rmcmd -f $dstdir/$dstfile &&\n+\t$doit $mvcmd $dsttmp $dstdir/$dstfile \n+\n+fi &&\n+\n+\n+exit 0"}]}