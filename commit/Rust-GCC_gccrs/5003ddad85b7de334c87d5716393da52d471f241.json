{"sha": "5003ddad85b7de334c87d5716393da52d471f241", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTAwM2RkYWQ4NWI3ZGUzMzRjODdkNTcxNjM5M2RhNTJkNDcxZjI0MQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-05-05T20:56:59Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-05-05T20:56:59Z"}, "message": "compiler: Don't make temporaries for constant string concatentation.\n\nFixes golang/go#10642.\n\nFrom-SVN: r222828", "tree": {"sha": "2e477c359a77ed28cac697fb3572c2a90c5d32cc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2e477c359a77ed28cac697fb3572c2a90c5d32cc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5003ddad85b7de334c87d5716393da52d471f241", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5003ddad85b7de334c87d5716393da52d471f241", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5003ddad85b7de334c87d5716393da52d471f241", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5003ddad85b7de334c87d5716393da52d471f241/comments", "author": null, "committer": null, "parents": [{"sha": "21c0a521e4c1059b59ec2f15fad7469134126d7c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21c0a521e4c1059b59ec2f15fad7469134126d7c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/21c0a521e4c1059b59ec2f15fad7469134126d7c"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "e811a8d2a447ab83a0eb6c69f71d7f9dbde74aaa", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5003ddad85b7de334c87d5716393da52d471f241/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5003ddad85b7de334c87d5716393da52d471f241/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=5003ddad85b7de334c87d5716393da52d471f241", "patch": "@@ -5120,13 +5120,15 @@ Binary_expression::do_flatten(Gogo* gogo, Named_object*,\n   if (this->left_->type()->is_string_type()\n       && this->op_ == OPERATOR_PLUS)\n     {\n-      if (!this->left_->is_variable())\n+      if (!this->left_->is_variable()\n+\t  && !this->left_->is_constant())\n         {\n           temp = Statement::make_temporary(NULL, this->left_, loc);\n           inserter->insert(temp);\n           this->left_ = Expression::make_temporary_reference(temp, loc);\n         }\n-      if (!this->right_->is_variable())\n+      if (!this->right_->is_variable()\n+\t  && !this->right_->is_constant())\n         {\n           temp =\n               Statement::make_temporary(this->left_->type(), this->right_, loc);"}]}