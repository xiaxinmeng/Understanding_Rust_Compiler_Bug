{"sha": "977eef43d8891a481186c971a46cec0c619c8e2d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTc3ZWVmNDNkODg5MWE0ODExODZjOTcxYTQ2Y2VjMGM2MTljOGUyZA==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1997-04-14T21:57:14Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1997-04-14T21:57:14Z"}, "message": "(xtrct_left, xtrct_right): New patterns.\n\nFrom-SVN: r13904", "tree": {"sha": "1f1db43e6e37c3b0ab98b2105f9451357a06c5c6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1f1db43e6e37c3b0ab98b2105f9451357a06c5c6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/977eef43d8891a481186c971a46cec0c619c8e2d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/977eef43d8891a481186c971a46cec0c619c8e2d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/977eef43d8891a481186c971a46cec0c619c8e2d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/977eef43d8891a481186c971a46cec0c619c8e2d/comments", "author": null, "committer": null, "parents": [{"sha": "460f4b9dddad212b224cca2516c7116406910650", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/460f4b9dddad212b224cca2516c7116406910650", "html_url": "https://github.com/Rust-GCC/gccrs/commit/460f4b9dddad212b224cca2516c7116406910650"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "e5ee8685df038511414dcb0d3c1988db7356e699", "filename": "gcc/config/sh/sh.md", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/977eef43d8891a481186c971a46cec0c619c8e2d/gcc%2Fconfig%2Fsh%2Fsh.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/977eef43d8891a481186c971a46cec0c619c8e2d/gcc%2Fconfig%2Fsh%2Fsh.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.md?ref=977eef43d8891a481186c971a46cec0c619c8e2d", "patch": "@@ -1296,6 +1296,26 @@\n \t      (const_string \"14\")))\n     (set_attr \"type\" \"arith\")])\n \n+;; These patterns are found in expansions of DImode shifts by 16, and\n+;; allow the xtrct instruction to be generated from C source.\n+\n+(define_insn \"xtrct_left\"\n+  [(set (match_operand:SI 0 \"arith_reg_operand\" \"=r\")\n+        (ior:SI (ashift:SI (match_operand:SI 1 \"arith_reg_operand\" \"r\")\n+\t\t\t   (const_int 16))\n+ \t        (lshiftrt:SI (match_operand:SI 2 \"arith_reg_operand\" \"0\")\n+\t\t\t     (const_int 16))))]\n+  \"\"\n+  \"xtrct\t%1,%0\")\n+\n+(define_insn \"xtrct_right\"\n+  [(set (match_operand:SI 0 \"arith_reg_operand\" \"=r\")\n+        (ior:SI (lshiftrt:SI (match_operand:SI 1 \"arith_reg_operand\" \"0\")\n+\t\t\t     (const_int 16))\n+ \t        (ashift:SI (match_operand:SI 2 \"arith_reg_operand\" \"r\")\n+\t\t\t   (const_int 16))))]\n+  \"\"\n+  \"xtrct\t%2,%0\")\n \f\n ;; -------------------------------------------------------------------------\n ;; Unary arithmetic"}]}