{"sha": "c4603e7ce0b0e007db25abc234a85d1562a9c988", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzQ2MDNlN2NlMGIwZTAwN2RiMjVhYmMyMzRhODVkMTU2MmE5Yzk4OA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2011-07-07T19:11:27Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2011-07-07T19:11:27Z"}, "message": "re PR c/49644 (post-increment of promoted operand is incorrect.)\n\n\tPR c/49644\n\t* c-typeck.c (build_binary_op): For MULT_EXPR and TRUNC_DIV_EXPR with\n\tone non-complex and one complex argument, call c_save_expr on both\n\toperands.\n\n\t* gcc.c-torture/execute/pr49644.c: New test.\n\nFrom-SVN: r176004", "tree": {"sha": "0b97ba80ee1dfb0fc4d489e1971200c80e0c2519", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0b97ba80ee1dfb0fc4d489e1971200c80e0c2519"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c4603e7ce0b0e007db25abc234a85d1562a9c988", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c4603e7ce0b0e007db25abc234a85d1562a9c988", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c4603e7ce0b0e007db25abc234a85d1562a9c988", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c4603e7ce0b0e007db25abc234a85d1562a9c988/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "489319d5aa1448a8d9ce9062247c6c48f9cd745f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/489319d5aa1448a8d9ce9062247c6c48f9cd745f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/489319d5aa1448a8d9ce9062247c6c48f9cd745f"}], "stats": {"total": 30, "additions": 30, "deletions": 0}, "files": [{"sha": "a93f5a1a0e607b263fa57f8c03a7cbe75a70f168", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c4603e7ce0b0e007db25abc234a85d1562a9c988/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c4603e7ce0b0e007db25abc234a85d1562a9c988/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c4603e7ce0b0e007db25abc234a85d1562a9c988", "patch": "@@ -1,3 +1,10 @@\n+2011-07-07  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR c/49644\n+\t* c-typeck.c (build_binary_op): For MULT_EXPR and TRUNC_DIV_EXPR with\n+\tone non-complex and one complex argument, call c_save_expr on both\n+\toperands.\n+\n 2011-07-07  Martin Jambor  <mjambor@suse.cz>\n \n \tPR middle-end/49495"}, {"sha": "bd2d685f8bc2548020ea703d0d7b77eee080c254", "filename": "gcc/c-typeck.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c4603e7ce0b0e007db25abc234a85d1562a9c988/gcc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c4603e7ce0b0e007db25abc234a85d1562a9c988/gcc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-typeck.c?ref=c4603e7ce0b0e007db25abc234a85d1562a9c988", "patch": "@@ -10040,6 +10040,7 @@ build_binary_op (location_t location, enum tree_code code,\n \t\t{\n \t\tcase MULT_EXPR:\n \t\tcase TRUNC_DIV_EXPR:\n+\t\t  op1 = c_save_expr (op1);\n \t\t  imag = build2 (resultcode, real_type, imag, op1);\n \t\t  /* Fall through.  */\n \t\tcase PLUS_EXPR:\n@@ -10060,6 +10061,7 @@ build_binary_op (location_t location, enum tree_code code,\n \t      switch (code)\n \t\t{\n \t\tcase MULT_EXPR:\n+\t\t  op0 = c_save_expr (op0);\n \t\t  imag = build2 (resultcode, real_type, op0, imag);\n \t\t  /* Fall through.  */\n \t\tcase PLUS_EXPR:"}, {"sha": "a7eda91c69e25fc9039c0c2cf03e5f3756250473", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c4603e7ce0b0e007db25abc234a85d1562a9c988/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c4603e7ce0b0e007db25abc234a85d1562a9c988/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c4603e7ce0b0e007db25abc234a85d1562a9c988", "patch": "@@ -1,3 +1,8 @@\n+2011-07-07  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR c/49644\n+\t* gcc.c-torture/execute/pr49644.c: New test.\n+\n 2011-07-07  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* lib/target-supports.exp (check_effective_target_ia32): New."}, {"sha": "88be23c40a9fa1726569f4ceca35267c4f2af42a", "filename": "gcc/testsuite/gcc.c-torture/execute/pr49644.c", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c4603e7ce0b0e007db25abc234a85d1562a9c988/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr49644.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c4603e7ce0b0e007db25abc234a85d1562a9c988/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr49644.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr49644.c?ref=c4603e7ce0b0e007db25abc234a85d1562a9c988", "patch": "@@ -0,0 +1,16 @@\n+/* PR c/49644 */\n+\n+extern void abort (void);\n+\n+int\n+main ()\n+{\n+  _Complex double a[12], *c = a, s = 3.0 + 1.0i;\n+  double b[12] = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 }, *d = b;\n+  int i;\n+  for (i = 0; i < 6; i++)\n+    *c++ = *d++ * s;\n+  if (c != a + 6 || d != b + 6)\n+    abort ();\n+  return 0;\n+}"}]}