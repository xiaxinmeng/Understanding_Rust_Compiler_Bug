{"sha": "eadbc96110328dd5ccab01c9e4dfb478aa0a1c6b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWFkYmM5NjExMDMyOGRkNWNjYWIwMWM5ZTRkZmI0NzhhYTBhMWM2Yg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-03-10T20:23:01Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-03-10T20:23:01Z"}, "message": "(dup2): Catch dup() failure.  Return correct value.\n\nFrom-SVN: r6740", "tree": {"sha": "835b877e5e01adb9a437b31db55de6063f303d4f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/835b877e5e01adb9a437b31db55de6063f303d4f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/eadbc96110328dd5ccab01c9e4dfb478aa0a1c6b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eadbc96110328dd5ccab01c9e4dfb478aa0a1c6b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eadbc96110328dd5ccab01c9e4dfb478aa0a1c6b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eadbc96110328dd5ccab01c9e4dfb478aa0a1c6b/comments", "author": null, "committer": null, "parents": [{"sha": "4b19dee8c649b7083f946f242dba1a02ffedd40d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b19dee8c649b7083f946f242dba1a02ffedd40d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4b19dee8c649b7083f946f242dba1a02ffedd40d"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "9f097a9ae4bdad6c6320ba06745ef093accea7e9", "filename": "gcc/collect2.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eadbc96110328dd5ccab01c9e4dfb478aa0a1c6b/gcc%2Fcollect2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eadbc96110328dd5ccab01c9e4dfb478aa0a1c6b/gcc%2Fcollect2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcollect2.c?ref=eadbc96110328dd5ccab01c9e4dfb478aa0a1c6b", "patch": "@@ -277,14 +277,14 @@ dup2 (oldfd, newfd)\n   int fd;\n  \n   if (oldfd == newfd)\n-    return 0;\n+    return oldfd;\n   close (newfd);\n-  while ((fd = dup (oldfd)) != newfd) /* good enough for low fd's */\n+  while ((fd = dup (oldfd)) != newfd && fd >= 0) /* good enough for low fd's */\n     fdtmp[fdx++] = fd;\n   while (fdx > 0)\n     close (fdtmp[--fdx]);\n \n-  return 0;\n+  return fd;\n }\n #endif\n "}]}