{"sha": "944258ebc661d4e3ade20c12dfa5ae5101b87db4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTQ0MjU4ZWJjNjYxZDRlM2FkZTIwYzEyZGZhNWFlNTEwMWI4N2RiNA==", "commit": {"author": {"name": "Richard Sandiford", "email": "rdsandiford@googlemail.com", "date": "2008-10-06T19:08:04Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2008-10-06T19:08:04Z"}, "message": "rs6000-protos.h (rs6000_find_base_term): Declare.\n\ngcc/\n\t* config/rs6000/rs6000-protos.h (rs6000_find_base_term): Declare.\n\t* config/rs6000/rs6000.h (FIND_BASE_TERM): New macro.\n\t* config/rs6000/rs6000.c (rs6000_find_base_term): New function.\n\nFrom-SVN: r140912", "tree": {"sha": "873b04eb6022557d9e36c8ab48d15fc6900a6c22", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/873b04eb6022557d9e36c8ab48d15fc6900a6c22"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/944258ebc661d4e3ade20c12dfa5ae5101b87db4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/944258ebc661d4e3ade20c12dfa5ae5101b87db4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/944258ebc661d4e3ade20c12dfa5ae5101b87db4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/944258ebc661d4e3ade20c12dfa5ae5101b87db4/comments", "author": {"login": "rsandifo", "id": 4235983, "node_id": "MDQ6VXNlcjQyMzU5ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/4235983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo", "html_url": "https://github.com/rsandifo", "followers_url": "https://api.github.com/users/rsandifo/followers", "following_url": "https://api.github.com/users/rsandifo/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo/orgs", "repos_url": "https://api.github.com/users/rsandifo/repos", "events_url": "https://api.github.com/users/rsandifo/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "08a6a74b917d3a7b0070c264374cd076edfacc9e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08a6a74b917d3a7b0070c264374cd076edfacc9e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/08a6a74b917d3a7b0070c264374cd076edfacc9e"}], "stats": {"total": 30, "additions": 30, "deletions": 0}, "files": [{"sha": "cbafd381198909ec6ccde924aa2c1e4939f2fea5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/944258ebc661d4e3ade20c12dfa5ae5101b87db4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/944258ebc661d4e3ade20c12dfa5ae5101b87db4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=944258ebc661d4e3ade20c12dfa5ae5101b87db4", "patch": "@@ -1,3 +1,9 @@\n+2008-10-06  Richard Sandiford  <rdsandiford@googlemail.com>\n+\n+\t* config/rs6000/rs6000-protos.h (rs6000_find_base_term): Declare.\n+\t* config/rs6000/rs6000.h (FIND_BASE_TERM): New macro.\n+\t* config/rs6000/rs6000.c (rs6000_find_base_term): New function.\n+\n 2008-10-06  Richard Sandiford  <rdsandiford@googlemail.com>\n \n \t* config/darwin-protos.h (machopic_function_base_name): Delete."}, {"sha": "13e7becc526c24f14848e12f0e86b912a945bc8b", "filename": "gcc/config/rs6000/rs6000-protos.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/944258ebc661d4e3ade20c12dfa5ae5101b87db4/gcc%2Fconfig%2Frs6000%2Frs6000-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/944258ebc661d4e3ade20c12dfa5ae5101b87db4/gcc%2Fconfig%2Frs6000%2Frs6000-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000-protos.h?ref=944258ebc661d4e3ade20c12dfa5ae5101b87db4", "patch": "@@ -112,6 +112,7 @@ extern rtx rs6000_legitimize_reload_address (rtx, enum machine_mode,\n extern int rs6000_legitimate_address (enum machine_mode, rtx, int);\n extern bool rs6000_legitimate_offset_address_p (enum machine_mode, rtx, int);\n extern bool rs6000_mode_dependent_address (rtx);\n+extern rtx rs6000_find_base_term (rtx);\n extern bool rs6000_offsettable_memref_p (rtx);\n extern rtx rs6000_return_addr (int, rtx);\n extern void rs6000_output_symbol_ref (FILE*, rtx);"}, {"sha": "9f48b611e6f88ca5748840d6a19a7d912b393723", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/944258ebc661d4e3ade20c12dfa5ae5101b87db4/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/944258ebc661d4e3ade20c12dfa5ae5101b87db4/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=944258ebc661d4e3ade20c12dfa5ae5101b87db4", "patch": "@@ -4455,6 +4455,27 @@ rs6000_mode_dependent_address (rtx addr)\n   return false;\n }\n \n+/* Implement FIND_BASE_TERM.  */\n+\n+rtx\n+rs6000_find_base_term (rtx op)\n+{\n+  rtx base, offset;\n+\n+  split_const (op, &base, &offset);\n+  if (GET_CODE (base) == UNSPEC)\n+    switch (XINT (base, 1))\n+      {\n+      case UNSPEC_TOCREL:\n+      case UNSPEC_MACHOPIC_OFFSET:\n+\t/* OP represents SYM [+ OFFSET] - ANCHOR.  SYM is the base term\n+\t   for aliasing purposes.  */\n+\treturn XVECEXP (base, 0, 0);\n+      }\n+\n+  return op;\n+}\n+\n /* More elaborate version of recog's offsettable_memref_p predicate\n    that works around the ??? note of rs6000_mode_dependent_address.\n    In particular it accepts"}, {"sha": "39fc0f6c9b68d1ff38984ec2793c2c5321a9a4b7", "filename": "gcc/config/rs6000/rs6000.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/944258ebc661d4e3ade20c12dfa5ae5101b87db4/gcc%2Fconfig%2Frs6000%2Frs6000.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/944258ebc661d4e3ade20c12dfa5ae5101b87db4/gcc%2Fconfig%2Frs6000%2Frs6000.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.h?ref=944258ebc661d4e3ade20c12dfa5ae5101b87db4", "patch": "@@ -1856,6 +1856,8 @@ do {\t\t\t\t\t\t\t\t\\\n   if (rs6000_mode_dependent_address (ADDR))\t\t\t\\\n     goto LABEL;\t\t\t\t\t\t\t\\\n } while (0)\n+\n+#define FIND_BASE_TERM rs6000_find_base_term\n \f\n /* The register number of the register used to address a table of\n    static data addresses in memory.  In some cases this register is"}]}