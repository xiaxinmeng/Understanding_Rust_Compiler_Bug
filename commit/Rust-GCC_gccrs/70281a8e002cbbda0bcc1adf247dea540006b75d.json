{"sha": "70281a8e002cbbda0bcc1adf247dea540006b75d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzAyODFhOGUwMDJjYmJkYTBiY2MxYWRmMjQ3ZGVhNTQwMDA2Yjc1ZA==", "commit": {"author": {"name": "Sandra Loosemore", "email": "sandra@codesourcery.com", "date": "2015-01-04T04:07:45Z"}, "committer": {"name": "Sandra Loosemore", "email": "sandra@gcc.gnu.org", "date": "2015-01-04T04:07:45Z"}, "message": "invoke.texi ([-fprofile-generate], [...]): Fix markup, light copy-editing.\n\n2015-01-03  Sandra Loosemore  <sandra@codesourcery.com>\n\n\tgcc/\n\t* doc/invoke.texi ([-fprofile-generate], [-fprofile-use]):\n\tFix markup, light copy-editing.\n\t([-fauto-profile]): Rewrite to fix formatting and content\n\tproblems.\n\nFrom-SVN: r219172", "tree": {"sha": "6c28a63ef932a4c7a35dc429359128361ed00338", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6c28a63ef932a4c7a35dc429359128361ed00338"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/70281a8e002cbbda0bcc1adf247dea540006b75d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70281a8e002cbbda0bcc1adf247dea540006b75d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/70281a8e002cbbda0bcc1adf247dea540006b75d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70281a8e002cbbda0bcc1adf247dea540006b75d/comments", "author": {"login": "SandraLoosemore", "id": 104087111, "node_id": "U_kgDOBjQ-Rw", "avatar_url": "https://avatars.githubusercontent.com/u/104087111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SandraLoosemore", "html_url": "https://github.com/SandraLoosemore", "followers_url": "https://api.github.com/users/SandraLoosemore/followers", "following_url": "https://api.github.com/users/SandraLoosemore/following{/other_user}", "gists_url": "https://api.github.com/users/SandraLoosemore/gists{/gist_id}", "starred_url": "https://api.github.com/users/SandraLoosemore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SandraLoosemore/subscriptions", "organizations_url": "https://api.github.com/users/SandraLoosemore/orgs", "repos_url": "https://api.github.com/users/SandraLoosemore/repos", "events_url": "https://api.github.com/users/SandraLoosemore/events{/privacy}", "received_events_url": "https://api.github.com/users/SandraLoosemore/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "3fd99bca7a81dfd46d4b86ad429cd730484f1689", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3fd99bca7a81dfd46d4b86ad429cd730484f1689", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3fd99bca7a81dfd46d4b86ad429cd730484f1689"}], "stats": {"total": 75, "additions": 42, "deletions": 33}, "files": [{"sha": "533219414a09d25ff81ff2c2ab9805f1a2d19220", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70281a8e002cbbda0bcc1adf247dea540006b75d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70281a8e002cbbda0bcc1adf247dea540006b75d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=70281a8e002cbbda0bcc1adf247dea540006b75d", "patch": "@@ -1,3 +1,10 @@\n+2015-01-03  Sandra Loosemore  <sandra@codesourcery.com>\n+\n+\t* doc/invoke.texi ([-fprofile-generate], [-fprofile-use]):\n+\tFix markup, light copy-editing.\n+\t([-fauto-profile]): Rewrite to fix formatting and content\n+\tproblems.\n+\n 2015-01-03  Sandra Loosemore  <sandra@codesourcery.com>\n \n \t* doc/invoke.texi ([-fisolate-erroneous-paths-dereference]):"}, {"sha": "52cd0d84230463cd2c0c728c60d39768320b5b62", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 35, "deletions": 33, "changes": 68, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70281a8e002cbbda0bcc1adf247dea540006b75d/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70281a8e002cbbda0bcc1adf247dea540006b75d/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=70281a8e002cbbda0bcc1adf247dea540006b75d", "patch": "@@ -9325,20 +9325,20 @@ profile useful for later recompilation with profile feedback based\n optimization.  You must use @option{-fprofile-generate} both when\n compiling and when linking your program.\n \n-The following options are enabled: @code{-fprofile-arcs}, @code{-fprofile-values}, @code{-fvpt}.\n+The following options are enabled: @option{-fprofile-arcs}, @option{-fprofile-values}, @option{-fvpt}.\n \n If @var{path} is specified, GCC looks at the @var{path} to find\n the profile feedback data files. See @option{-fprofile-dir}.\n \n @item -fprofile-use\n @itemx -fprofile-use=@var{path}\n @opindex fprofile-use\n-Enable profile feedback directed optimizations, and optimizations\n-generally profitable only with profile feedback available.\n-\n-The following options are enabled: @code{-fbranch-probabilities}, @code{-fvpt},\n-@code{-funroll-loops}, @code{-fpeel-loops}, @code{-ftracer}, @code{-ftree-vectorize},\n-@code{ftree-loop-distribute-patterns}\n+Enable profile feedback-directed optimizations, \n+and the following optimizations\n+which are generally profitable only with profile feedback available:\n+@option{-fbranch-probabilities}, @option{-fvpt},\n+@option{-funroll-loops}, @option{-fpeel-loops}, @option{-ftracer}, \n+@option{-ftree-vectorize}, and @option{ftree-loop-distribute-patterns}.\n \n By default, GCC emits an error message if the feedback profiles do not\n match the source code.  This error can be turned into a warning by using\n@@ -9351,37 +9351,39 @@ the profile feedback data files. See @option{-fprofile-dir}.\n @item -fauto-profile\n @itemx -fauto-profile=@var{path}\n @opindex fauto-profile\n-Enable sampling based feedback directed optimizations, and optimizations\n-generally profitable only with profile feedback available.\n-\n-The following options are enabled: @code{-fbranch-probabilities}, @code{-fvpt},\n-@code{-funroll-loops}, @code{-fpeel-loops}, @code{-ftracer}, @code{-ftree-vectorize},\n-@code{-finline-functions}, @code{-fipa-cp}, @code{-fipa-cp-clone},\n-@code{-fpredictive-commoning}, @code{-funswitch-loops},\n-@code{-fgcse-after-reload}, @code{-ftree-loop-distribute-patterns},\n-\n-If @var{path} is specified, GCC looks at the @var{path} to find\n-the profile feedback data files.\n-\n-In order to collect AutoFDO profile, you need to have:\n-\n-1. A linux system with linux perf support\n-2. (optional) An Intel processor with last branch record (LBR) support. This is\n-   to guarantee accurate instruction level profile, which is important for\n-   AutoFDO performance.\n-\n-To collect the profile, first use linux perf to collect raw profile\n-(see @uref{https://perf.wiki.kernel.org/}).\n+Enable sampling-based feedback-directed optimizations, \n+and the following optimizations\n+which are generally profitable only with profile feedback available:\n+@option{-fbranch-probabilities}, @option{-fvpt},\n+@option{-funroll-loops}, @option{-fpeel-loops}, @option{-ftracer}, \n+@option{-ftree-vectorize},\n+@option{-finline-functions}, @option{-fipa-cp}, @option{-fipa-cp-clone},\n+@option{-fpredictive-commoning}, @option{-funswitch-loops},\n+@option{-fgcse-after-reload}, and @option{-ftree-loop-distribute-patterns}.\n+\n+@var{path} is the name of a file containing AutoFDO profile information.\n+If omitted, it defaults to @file{fbdata.afdo} in the current directory.\n+\n+Producing an AutoFDO profile data file requires running your program\n+with the @command{perf} utility on a supported GNU/Linux target system.\n+For more information, see @uref{https://perf.wiki.kernel.org/}.\n \n E.g.\n-@code{perf record -e br_inst_retired:near_taken -b -o perf.data -- your_program}\n+@smallexample\n+perf record -e br_inst_retired:near_taken -b -o perf.data \\\n+    -- your_program\n+@end smallexample\n \n-Then use create_gcov tool, which takes raw profile and unstripped binary to\n-generate AutoFDO profile that can be used by GCC.\n-(see @uref{https://github.com/google/autofdo}).\n+Then use the @command{create_gcov} tool to convert the raw profile data\n+to a format that can be used by GCC.@  You must also supply the \n+unstripped binary for your program to this tool.  \n+See @uref{https://github.com/google/autofdo}.\n \n E.g.\n-@code{create_gcov --binary=your_program.unstripped --profile=perf.data --gcov=profile.afdo}\n+@smallexample\n+create_gcov --binary=your_program.unstripped --profile=perf.data \\\n+    --gcov=profile.afdo\n+@end smallexample\n @end table\n \n The following options control compiler behavior regarding floating-point "}]}