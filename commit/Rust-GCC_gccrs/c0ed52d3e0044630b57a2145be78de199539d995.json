{"sha": "c0ed52d3e0044630b57a2145be78de199539d995", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzBlZDUyZDNlMDA0NDYzMGI1N2EyMTQ1YmU3OGRlMTk5NTM5ZDk5NQ==", "commit": {"author": {"name": "Prathamesh Kulkarni", "email": "prathamesh.kulkarni@linaro.org", "date": "2020-12-08T17:52:11Z"}, "committer": {"name": "Prathamesh Kulkarni", "email": "prathamesh.kulkarni@linaro.org", "date": "2020-12-08T17:52:50Z"}, "message": "arm: Replace calls to __builtin_vmvn* by ~ in vmvn intrinsics in arm_neon.h [PR66791]\n\ngcc/\n2020-12-08  Prathamesh Kulkarni  <prathamesh.kulkarni@linaro.org>\n\n\tPR target/66791\n\t* config/arm/arm_neon.h: Replace calls to __builtin_vmvn* by ~\n\tin vmvn intrinsics.\n\t* config/arm/arm_neon_builtins.def: Remove entry for vmvn.", "tree": {"sha": "bbaf6cfe1244a7cce078f3dbeaab8f97bb67f098", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bbaf6cfe1244a7cce078f3dbeaab8f97bb67f098"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c0ed52d3e0044630b57a2145be78de199539d995", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0ed52d3e0044630b57a2145be78de199539d995", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c0ed52d3e0044630b57a2145be78de199539d995", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0ed52d3e0044630b57a2145be78de199539d995/comments", "author": null, "committer": null, "parents": [{"sha": "d04f3df82b737317c2759c314e28ee6243779252", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d04f3df82b737317c2759c314e28ee6243779252", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d04f3df82b737317c2759c314e28ee6243779252"}], "stats": {"total": 29, "additions": 14, "deletions": 15}, "files": [{"sha": "6c600b3eba3ee48c7e8237bcbaab004ca3f43fb8", "filename": "gcc/config/arm/arm_neon.h", "status": "modified", "additions": 14, "deletions": 14, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0ed52d3e0044630b57a2145be78de199539d995/gcc%2Fconfig%2Farm%2Farm_neon.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0ed52d3e0044630b57a2145be78de199539d995/gcc%2Fconfig%2Farm%2Farm_neon.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm_neon.h?ref=c0ed52d3e0044630b57a2145be78de199539d995", "patch": "@@ -5812,98 +5812,98 @@ __extension__ extern __inline int8x8_t\n __attribute__  ((__always_inline__, __gnu_inline__, __artificial__))\n vmvn_s8 (int8x8_t __a)\n {\n-  return (int8x8_t)__builtin_neon_vmvnv8qi (__a);\n+  return ~__a;\n }\n \n __extension__ extern __inline int16x4_t\n __attribute__  ((__always_inline__, __gnu_inline__, __artificial__))\n vmvn_s16 (int16x4_t __a)\n {\n-  return (int16x4_t)__builtin_neon_vmvnv4hi (__a);\n+  return ~__a;\n }\n \n __extension__ extern __inline int32x2_t\n __attribute__  ((__always_inline__, __gnu_inline__, __artificial__))\n vmvn_s32 (int32x2_t __a)\n {\n-  return (int32x2_t)__builtin_neon_vmvnv2si (__a);\n+  return ~__a;\n }\n \n __extension__ extern __inline uint8x8_t\n __attribute__  ((__always_inline__, __gnu_inline__, __artificial__))\n vmvn_u8 (uint8x8_t __a)\n {\n-  return (uint8x8_t)__builtin_neon_vmvnv8qi ((int8x8_t) __a);\n+  return ~__a;\n }\n \n __extension__ extern __inline uint16x4_t\n __attribute__  ((__always_inline__, __gnu_inline__, __artificial__))\n vmvn_u16 (uint16x4_t __a)\n {\n-  return (uint16x4_t)__builtin_neon_vmvnv4hi ((int16x4_t) __a);\n+  return ~__a;\n }\n \n __extension__ extern __inline uint32x2_t\n __attribute__  ((__always_inline__, __gnu_inline__, __artificial__))\n vmvn_u32 (uint32x2_t __a)\n {\n-  return (uint32x2_t)__builtin_neon_vmvnv2si ((int32x2_t) __a);\n+  return ~__a;\n }\n \n __extension__ extern __inline poly8x8_t\n __attribute__  ((__always_inline__, __gnu_inline__, __artificial__))\n vmvn_p8 (poly8x8_t __a)\n {\n-  return (poly8x8_t)__builtin_neon_vmvnv8qi ((int8x8_t) __a);\n+  return (poly8x8_t) ~((int8x8_t) __a);\n }\n \n __extension__ extern __inline int8x16_t\n __attribute__  ((__always_inline__, __gnu_inline__, __artificial__))\n vmvnq_s8 (int8x16_t __a)\n {\n-  return (int8x16_t)__builtin_neon_vmvnv16qi (__a);\n+  return ~__a;\n }\n \n __extension__ extern __inline int16x8_t\n __attribute__  ((__always_inline__, __gnu_inline__, __artificial__))\n vmvnq_s16 (int16x8_t __a)\n {\n-  return (int16x8_t)__builtin_neon_vmvnv8hi (__a);\n+  return ~__a;\n }\n \n __extension__ extern __inline int32x4_t\n __attribute__  ((__always_inline__, __gnu_inline__, __artificial__))\n vmvnq_s32 (int32x4_t __a)\n {\n-  return (int32x4_t)__builtin_neon_vmvnv4si (__a);\n+  return ~__a;\n }\n \n __extension__ extern __inline uint8x16_t\n __attribute__  ((__always_inline__, __gnu_inline__, __artificial__))\n vmvnq_u8 (uint8x16_t __a)\n {\n-  return (uint8x16_t)__builtin_neon_vmvnv16qi ((int8x16_t) __a);\n+  return ~__a;\n }\n \n __extension__ extern __inline uint16x8_t\n __attribute__  ((__always_inline__, __gnu_inline__, __artificial__))\n vmvnq_u16 (uint16x8_t __a)\n {\n-  return (uint16x8_t)__builtin_neon_vmvnv8hi ((int16x8_t) __a);\n+  return ~__a;\n }\n \n __extension__ extern __inline uint32x4_t\n __attribute__  ((__always_inline__, __gnu_inline__, __artificial__))\n vmvnq_u32 (uint32x4_t __a)\n {\n-  return (uint32x4_t)__builtin_neon_vmvnv4si ((int32x4_t) __a);\n+  return ~__a;\n }\n \n __extension__ extern __inline poly8x16_t\n __attribute__  ((__always_inline__, __gnu_inline__, __artificial__))\n vmvnq_p8 (poly8x16_t __a)\n {\n-  return (poly8x16_t)__builtin_neon_vmvnv16qi ((int8x16_t) __a);\n+  return (poly8x16_t) ~((int8x16_t) __a);\n }\n \n __extension__ extern __inline int8x8_t"}, {"sha": "1a1a851ba4381c1ca2e4ea736e2bd8bee07edfee", "filename": "gcc/config/arm/arm_neon_builtins.def", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0ed52d3e0044630b57a2145be78de199539d995/gcc%2Fconfig%2Farm%2Farm_neon_builtins.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0ed52d3e0044630b57a2145be78de199539d995/gcc%2Fconfig%2Farm%2Farm_neon_builtins.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm_neon_builtins.def?ref=c0ed52d3e0044630b57a2145be78de199539d995", "patch": "@@ -205,7 +205,6 @@ VAR4 (UNOP, vrecpe, v2si, v2sf, v4si, v4sf)\n VAR2 (UNOP, vrecpe, v8hf, v4hf)\n VAR4 (UNOP, vrsqrte, v2si, v2sf, v4si, v4sf)\n VAR2 (UNOP, vrsqrte, v4hf, v8hf)\n-VAR6 (UNOP, vmvn, v8qi, v4hi, v2si, v16qi, v8hi, v4si)\n VAR2 (UNOP, vrnd, v8hf, v4hf)\n VAR2 (UNOP, vrnda, v8hf, v4hf)\n VAR2 (UNOP, vrndm, v8hf, v4hf)"}]}