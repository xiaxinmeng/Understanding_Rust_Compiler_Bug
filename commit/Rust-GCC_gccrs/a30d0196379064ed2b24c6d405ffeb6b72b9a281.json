{"sha": "a30d0196379064ed2b24c6d405ffeb6b72b9a281", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTMwZDAxOTYzNzkwNjRlZDJiMjRjNmQ0MDVmZmViNmI3MmI5YTI4MQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2019-01-14T20:12:11Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2019-01-14T20:12:11Z"}, "message": "c-cppbuiltin.c (c_cpp_builtin): Define __cpp_guaranteed_copy_elision and __cpp_nontype_template_parameter_auto.\n\n\t* c-cppbuiltin.c (c_cpp_builtin): Define __cpp_guaranteed_copy_elision\n\tand __cpp_nontype_template_parameter_auto.  Add a comment that\n\t__cpp_template_auto is deprecated.\n\n\t* g++.dg/cpp1z/feat-cxx1z.C: Add tests for\n\t__cpp_guaranteed_copy_elision and __cpp_nontype_template_parameter_auto\n\tfeature test macros.\n\t* g++.dg/cpp2a/feat-cxx2a.C: Likewise.\n\nFrom-SVN: r267925", "tree": {"sha": "3f256df585de45681096786a19ee5c494dbab351", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3f256df585de45681096786a19ee5c494dbab351"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a30d0196379064ed2b24c6d405ffeb6b72b9a281", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a30d0196379064ed2b24c6d405ffeb6b72b9a281", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a30d0196379064ed2b24c6d405ffeb6b72b9a281", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a30d0196379064ed2b24c6d405ffeb6b72b9a281/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "345364cf7fa2a675d954ab4982bec6d664ee96e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/345364cf7fa2a675d954ab4982bec6d664ee96e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/345364cf7fa2a675d954ab4982bec6d664ee96e8"}], "stats": {"total": 41, "additions": 41, "deletions": 0}, "files": [{"sha": "10e5cc131e980b240a282a66a3a6e33657d61be9", "filename": "gcc/c-family/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a30d0196379064ed2b24c6d405ffeb6b72b9a281/gcc%2Fc-family%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a30d0196379064ed2b24c6d405ffeb6b72b9a281/gcc%2Fc-family%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2FChangeLog?ref=a30d0196379064ed2b24c6d405ffeb6b72b9a281", "patch": "@@ -1,3 +1,9 @@\n+2019-01-14  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* c-cppbuiltin.c (c_cpp_builtin): Define __cpp_guaranteed_copy_elision\n+\tand __cpp_nontype_template_parameter_auto.  Add a comment that\n+\t__cpp_template_auto is deprecated.\n+\n 2019-01-14  Tom Honermann  <tom@honermann.net>\n \n \tImplement P0482R5, char8_t: A type for UTF-8 characters and strings"}, {"sha": "d389f8ca4a02651ee899185fcd3bdfdf4d0393b2", "filename": "gcc/c-family/c-cppbuiltin.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a30d0196379064ed2b24c6d405ffeb6b72b9a281/gcc%2Fc-family%2Fc-cppbuiltin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a30d0196379064ed2b24c6d405ffeb6b72b9a281/gcc%2Fc-family%2Fc-cppbuiltin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2Fc-cppbuiltin.c?ref=a30d0196379064ed2b24c6d405ffeb6b72b9a281", "patch": "@@ -974,9 +974,13 @@ c_cpp_builtins (cpp_reader *pfile)\n \t  cpp_define (pfile, \"__cpp_aggregate_bases=201603\");\n \t  cpp_define (pfile, \"__cpp_deduction_guides=201703\");\n \t  cpp_define (pfile, \"__cpp_noexcept_function_type=201510\");\n+\t  /* Old macro, superseded by\n+\t     __cpp_nontype_template_parameter_auto.  */\n \t  cpp_define (pfile, \"__cpp_template_auto=201606\");\n \t  cpp_define (pfile, \"__cpp_structured_bindings=201606\");\n \t  cpp_define (pfile, \"__cpp_variadic_using=201611\");\n+\t  cpp_define (pfile, \"__cpp_guaranteed_copy_elision=201606\");\n+\t  cpp_define (pfile, \"__cpp_nontype_template_parameter_auto=201606\");\n \t}\n       if (cxx_dialect > cxx17)\n \t{"}, {"sha": "13bb87208a04d45598ee816c638d3aa09b473fc0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a30d0196379064ed2b24c6d405ffeb6b72b9a281/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a30d0196379064ed2b24c6d405ffeb6b72b9a281/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a30d0196379064ed2b24c6d405ffeb6b72b9a281", "patch": "@@ -1,3 +1,10 @@\n+2019-01-14  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* g++.dg/cpp1z/feat-cxx1z.C: Add tests for\n+\t__cpp_guaranteed_copy_elision and __cpp_nontype_template_parameter_auto\n+\tfeature test macros.\n+\t* g++.dg/cpp2a/feat-cxx2a.C: Likewise.\n+\n 2019-01-14  Marek Polacek  <polacek@redhat.com>\n \n \tPR c++/88830 - ICE with abstract class."}, {"sha": "da372dca8cb1ca7aac34d144dcb3a623a34a1d11", "filename": "gcc/testsuite/g++.dg/cpp1z/feat-cxx1z.C", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a30d0196379064ed2b24c6d405ffeb6b72b9a281/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Ffeat-cxx1z.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a30d0196379064ed2b24c6d405ffeb6b72b9a281/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Ffeat-cxx1z.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Ffeat-cxx1z.C?ref=a30d0196379064ed2b24c6d405ffeb6b72b9a281", "patch": "@@ -417,6 +417,18 @@\n #  error \"__cpp_variadic_using != 201611\"\n #endif\n \n+#ifndef __cpp_guaranteed_copy_elision\n+#  error \"__cpp_guaranteed_copy_elision\"\n+#elif __cpp_guaranteed_copy_elision != 201606\n+#  error \"__cpp_guaranteed_copy_elision != 201606\"\n+#endif\n+\n+#ifndef __cpp_nontype_template_parameter_auto\n+#  error \"__cpp_nontype_template_parameter_auto\"\n+#elif __cpp_nontype_template_parameter_auto != 201606\n+#  error \"__cpp_nontype_template_parameter_auto != 201606\"\n+#endif\n+\n #ifdef __has_cpp_attribute\n \n #  if ! __has_cpp_attribute(maybe_unused)"}, {"sha": "8ee7b82914b5fc51a43a23ae2a7795f661e02100", "filename": "gcc/testsuite/g++.dg/cpp2a/feat-cxx2a.C", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a30d0196379064ed2b24c6d405ffeb6b72b9a281/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp2a%2Ffeat-cxx2a.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a30d0196379064ed2b24c6d405ffeb6b72b9a281/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp2a%2Ffeat-cxx2a.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp2a%2Ffeat-cxx2a.C?ref=a30d0196379064ed2b24c6d405ffeb6b72b9a281", "patch": "@@ -416,6 +416,18 @@\n #  error \"__cpp_variadic_using != 201611\"\n #endif\n \n+#ifndef __cpp_guaranteed_copy_elision\n+#  error \"__cpp_guaranteed_copy_elision\"\n+#elif __cpp_guaranteed_copy_elision != 201606\n+#  error \"__cpp_guaranteed_copy_elision != 201606\"\n+#endif\n+\n+#ifndef __cpp_nontype_template_parameter_auto\n+#  error \"__cpp_nontype_template_parameter_auto\"\n+#elif __cpp_nontype_template_parameter_auto != 201606\n+#  error \"__cpp_nontype_template_parameter_auto != 201606\"\n+#endif\n+\n // C++20 features\n \n #if __cpp_conditional_explicit != 201806"}]}