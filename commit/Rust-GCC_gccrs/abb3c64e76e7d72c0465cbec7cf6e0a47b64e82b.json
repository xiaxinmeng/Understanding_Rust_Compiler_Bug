{"sha": "abb3c64e76e7d72c0465cbec7cf6e0a47b64e82b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWJiM2M2NGU3NmU3ZDcyYzA0NjVjYmVjN2NmNmUwYTQ3YjY0ZTgyYg==", "commit": {"author": {"name": "Ramana Radhakrishnan", "email": "ramana.radhakrishnan@arm.com", "date": "2019-04-30T11:22:11Z"}, "committer": {"name": "Ramana Radhakrishnan", "email": "ramana@gcc.gnu.org", "date": "2019-04-30T11:22:11Z"}, "message": "[Patch AArch64] Add __ARM_FEATURE_ATOMICS\n\n\nThis keeps coming up repeatedly and the ACLE has finally added\n__ARM_FEATURE_ATOMICS for the LSE feature in GCC. This is now part of\nthe latest ACLE release\n(https://developer.arm.com/docs/101028/latest/5-feature-test-macros)\n\nI know it's late for GCC-9 but this is a simple macro which need not\nwait  for another year.\n\nOk for trunk and to backport to all release branches ?\n\nTested with a simple build and a smoke test.\n\nPR target/86538\n* config/aarch64/aarch64-c.c (aarch64_update_cpp_builtins): Define\n__ARM_FEATURE_ATOMICS\n\nFrom-SVN: r270686", "tree": {"sha": "1a6ba8d5fcc1fc66b75818a112913773c0f8858d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1a6ba8d5fcc1fc66b75818a112913773c0f8858d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/abb3c64e76e7d72c0465cbec7cf6e0a47b64e82b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/abb3c64e76e7d72c0465cbec7cf6e0a47b64e82b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/abb3c64e76e7d72c0465cbec7cf6e0a47b64e82b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/abb3c64e76e7d72c0465cbec7cf6e0a47b64e82b/comments", "author": null, "committer": null, "parents": [{"sha": "95767c6597e32256b3850c9bed4fd8ce1f0da089", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95767c6597e32256b3850c9bed4fd8ce1f0da089", "html_url": "https://github.com/Rust-GCC/gccrs/commit/95767c6597e32256b3850c9bed4fd8ce1f0da089"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "471a96f4f65b213e3be9548569c45998abc88207", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/abb3c64e76e7d72c0465cbec7cf6e0a47b64e82b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/abb3c64e76e7d72c0465cbec7cf6e0a47b64e82b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=abb3c64e76e7d72c0465cbec7cf6e0a47b64e82b", "patch": "@@ -1,3 +1,9 @@\n+2019-04-30  Ramana Radhakrishnan  <ramana.radhakrishnan@arm.com>\n+\n+\tPR target/86538\n+\t* config/aarch64/aarch64-c.c (aarch64_update_cpp_builtins):\n+\tDefine __ARM_FEATURE_ATOMICS\n+\n 2019-04-30  Martin Liska  <mliska@suse.cz>\n \n \t* gimple-fold.c (gimple_fold_builtin_memory_op): Change endp"}, {"sha": "6d5acb02fc6c0bdecde8561121d9469e85802d9b", "filename": "gcc/config/aarch64/aarch64-c.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/abb3c64e76e7d72c0465cbec7cf6e0a47b64e82b/gcc%2Fconfig%2Faarch64%2Faarch64-c.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/abb3c64e76e7d72c0465cbec7cf6e0a47b64e82b/gcc%2Fconfig%2Faarch64%2Faarch64-c.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64-c.c?ref=abb3c64e76e7d72c0465cbec7cf6e0a47b64e82b", "patch": "@@ -147,6 +147,7 @@ aarch64_update_cpp_builtins (cpp_reader *pfile)\n       builtin_define_with_int_value (\"__ARM_FEATURE_SVE_BITS\", bits);\n     }\n \n+  aarch64_def_or_undef (TARGET_LSE, \"__ARM_FEATURE_ATOMICS\", pfile);\n   aarch64_def_or_undef (TARGET_AES, \"__ARM_FEATURE_AES\", pfile);\n   aarch64_def_or_undef (TARGET_SHA2, \"__ARM_FEATURE_SHA2\", pfile);\n   aarch64_def_or_undef (TARGET_SHA3, \"__ARM_FEATURE_SHA3\", pfile);"}]}