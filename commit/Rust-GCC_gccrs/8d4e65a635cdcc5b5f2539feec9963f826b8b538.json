{"sha": "8d4e65a635cdcc5b5f2539feec9963f826b8b538", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGQ0ZTY1YTYzNWNkY2M1YjVmMjUzOWZlZWM5OTYzZjgyNmI4YjUzOA==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1997-10-31T16:30:48Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-10-31T16:30:48Z"}, "message": "dwarf2out.c (output_call_frame_info): Use ASM_OUTPUT_ASCII to output ASCII by default.\n\n        * dwarf2out.c (output_call_frame_info): Use ASM_OUTPUT_ASCII to\n        output ASCII by default.  Only use ASM_OUTPUT_DWARF_STRING if\n        flag_debug_asm is on.\n        (output_die, output_pubnames, output_line_info): Likewise.\n\nFrom-SVN: r16251", "tree": {"sha": "a2edff1049a249ba060e69600c7bc28aa13826b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a2edff1049a249ba060e69600c7bc28aa13826b3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8d4e65a635cdcc5b5f2539feec9963f826b8b538", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d4e65a635cdcc5b5f2539feec9963f826b8b538", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d4e65a635cdcc5b5f2539feec9963f826b8b538", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d4e65a635cdcc5b5f2539feec9963f826b8b538/comments", "author": null, "committer": null, "parents": [{"sha": "ec907dd81e8cc1b3eafae5f8c53a13af541c7e5d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec907dd81e8cc1b3eafae5f8c53a13af541c7e5d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec907dd81e8cc1b3eafae5f8c53a13af541c7e5d"}], "stats": {"total": 46, "additions": 38, "deletions": 8}, "files": [{"sha": "8c1104c9cf9ef71ec2658ed942e407dc6cdbea18", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d4e65a635cdcc5b5f2539feec9963f826b8b538/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d4e65a635cdcc5b5f2539feec9963f826b8b538/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8d4e65a635cdcc5b5f2539feec9963f826b8b538", "patch": "@@ -1,5 +1,10 @@\n Fri Oct 31 07:10:09 1997  Jeffrey A Law  (law@cygnus.com)\n \n+\t* dwarf2out.c (output_call_frame_info): Use ASM_OUTPUT_ASCII to\n+\toutput ASCII by default.  Only use ASM_OUTPUT_DWARF_STRING if\n+\tflag_debug_asm is on.\n+\t(output_die, output_pubnames, output_line_info): Likewise.\n+\n \t* alias.c (init_alias_analysis): Add struct_value_incoming_rtx\n \tand static_chain_rtx into the potential base values array if\n \tthey are registers."}, {"sha": "dbc4366cdd808bb89985a859088c97e11f334ae2", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 33, "deletions": 8, "changes": 41, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d4e65a635cdcc5b5f2539feec9963f826b8b538/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d4e65a635cdcc5b5f2539feec9963f826b8b538/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=8d4e65a635cdcc5b5f2539feec9963f826b8b538", "patch": "@@ -1560,9 +1560,15 @@ output_call_frame_info (for_eh)\n          frame.  Make the augmentation string three bytes (including the\n          trailing null) so the pointer is 4-byte aligned.  The Solaris ld\n          can't handle unaligned relocs.  */\n-      ASM_OUTPUT_DWARF_STRING (asm_out_file, \"eh\");\n       if (flag_debug_asm)\n-\tfprintf (asm_out_file, \"\\t%s CIE Augmentation\", ASM_COMMENT_START);\n+\t{\n+\t  ASM_OUTPUT_DWARF_STRING (asm_out_file, \"eh\");\n+\t  fprintf (asm_out_file, \"\\t%s CIE Augmentation\", ASM_COMMENT_START);\n+\t}\n+      else\n+\t{\n+\t  ASM_OUTPUT_ASCII (asm_out_file, \"eh\", 2);\n+\t}\n       fputc ('\\n', asm_out_file);\n \n       ASM_OUTPUT_DWARF_ADDR (asm_out_file, \"__EXCEPTION_TABLE__\");\n@@ -5147,7 +5153,12 @@ output_die (die)\n \t  break;\n \n \tcase dw_val_class_str:\n-\t  ASM_OUTPUT_DWARF_STRING (asm_out_file, a->dw_attr_val.v.val_str);\n+\t  if (flag_debug_asm)\n+\t    ASM_OUTPUT_DWARF_STRING (asm_out_file, a->dw_attr_val.v.val_str);\n+\t  else\n+\t    ASM_OUTPUT_ASCII (asm_out_file,\n+\t\t\t      a->dw_attr_val.v.val_str,\n+\t\t\t      strlen (a->dw_attr_val.v.val_str));\n \t  break;\n \n \tdefault:\n@@ -5292,9 +5303,15 @@ output_pubnames ()\n \n       fputc ('\\n', asm_out_file);\n \n-      ASM_OUTPUT_DWARF_STRING (asm_out_file, pub->name);\n       if (flag_debug_asm)\n-\tfprintf (asm_out_file, \"%s external name\", ASM_COMMENT_START);\n+\t{\n+\t  ASM_OUTPUT_DWARF_STRING (asm_out_file, pub->name);\n+\t  fprintf (asm_out_file, \"%s external name\", ASM_COMMENT_START);\n+\t}\n+      else\n+\t{\n+\t  ASM_OUTPUT_ASCII (asm_out_file, pub->name, strlen (pub->name));\n+\t}\n \n       fputc ('\\n', asm_out_file);\n     }\n@@ -5519,10 +5536,18 @@ output_line_info ()\n \n   for (ft_index = 1; ft_index < file_table_in_use; ++ft_index)\n     {\n-      ASM_OUTPUT_DWARF_STRING (asm_out_file, file_table[ft_index]);\n       if (flag_debug_asm)\n-\tfprintf (asm_out_file, \"%s File Entry: 0x%x\",\n-\t\t ASM_COMMENT_START, ft_index);\n+\t{\n+\t  ASM_OUTPUT_DWARF_STRING (asm_out_file, file_table[ft_index]);\n+\t  fprintf (asm_out_file, \"%s File Entry: 0x%x\",\n+\t\t   ASM_COMMENT_START, ft_index);\n+\t}\n+      else\n+\t{\n+\t  ASM_OUTPUT_ASCII (asm_out_file,\n+\t\t\t    file_table[ft_index],\n+\t\t\t    strlen (file_table[ft_index]));\n+\t}\n \n       fputc ('\\n', asm_out_file);\n "}]}