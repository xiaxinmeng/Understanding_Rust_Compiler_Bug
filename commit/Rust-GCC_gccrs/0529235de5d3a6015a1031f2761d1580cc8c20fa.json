{"sha": "0529235de5d3a6015a1031f2761d1580cc8c20fa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDUyOTIzNWRlNWQzYTYwMTVhMTAzMWYyNzYxZDE1ODBjYzhjMjBmYQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2016-03-12T11:32:54Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2016-03-12T11:32:54Z"}, "message": "re PR ada/70017 (c52103x and c52104x test failure on s390x)\n\n\tPR ada/70017\n\t* calls.c (emit_library_call_value_1): Clear the ECF_NOTHROW flag if\n\tthe libcall is LCT_THROW.\n\t* explow.c (probe_stack_range): Pass LCT_THROW to emit_library_call\n\tfor the checking routine.\n\nFrom-SVN: r234160", "tree": {"sha": "aa5518b7e4f38b4b97980697060af4ff059ecb56", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aa5518b7e4f38b4b97980697060af4ff059ecb56"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0529235de5d3a6015a1031f2761d1580cc8c20fa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0529235de5d3a6015a1031f2761d1580cc8c20fa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0529235de5d3a6015a1031f2761d1580cc8c20fa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0529235de5d3a6015a1031f2761d1580cc8c20fa/comments", "author": null, "committer": null, "parents": [{"sha": "3f1e5d3afe4d01a277747fe74fc01859139576ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3f1e5d3afe4d01a277747fe74fc01859139576ca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3f1e5d3afe4d01a277747fe74fc01859139576ca"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "0ee79e0c0a4a921696f79d3c08dbe154eab66716", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0529235de5d3a6015a1031f2761d1580cc8c20fa/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0529235de5d3a6015a1031f2761d1580cc8c20fa/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0529235de5d3a6015a1031f2761d1580cc8c20fa", "patch": "@@ -1,3 +1,11 @@\n+2016-03-12  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\tPR ada/70017\n+\t* calls.c (emit_library_call_value_1): Clear the ECF_NOTHROW flag if\n+\tthe libcall is LCT_THROW.\n+\t* explow.c (probe_stack_range): Pass LCT_THROW to emit_library_call\n+\tfor the checking routine.\n+\n 2016-03-11  Michael Meissner  <meissner@linux.vnet.ibm.com>\n \n \tPR target/70131"}, {"sha": "7b28f4315ab59655d3af67b00bbc42863248e76a", "filename": "gcc/calls.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0529235de5d3a6015a1031f2761d1580cc8c20fa/gcc%2Fcalls.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0529235de5d3a6015a1031f2761d1580cc8c20fa/gcc%2Fcalls.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcalls.c?ref=0529235de5d3a6015a1031f2761d1580cc8c20fa", "patch": "@@ -3852,7 +3852,7 @@ emit_library_call_value_1 (int retval, rtx orgfun, rtx value,\n   reg_parm_stack_space = REG_PARM_STACK_SPACE ((tree) 0);\n #endif\n \n-  /* By default, library functions can not throw.  */\n+  /* By default, library functions cannot throw.  */\n   flags = ECF_NOTHROW;\n \n   switch (fn_type)\n@@ -3869,7 +3869,7 @@ emit_library_call_value_1 (int retval, rtx orgfun, rtx value,\n       flags |= ECF_NORETURN;\n       break;\n     case LCT_THROW:\n-      flags = ECF_NORETURN;\n+      flags &= ~ECF_NOTHROW;\n       break;\n     case LCT_RETURNS_TWICE:\n       flags = ECF_RETURNS_TWICE;"}, {"sha": "249318f44b588d924deb491cd8e1abac62bf1d90", "filename": "gcc/explow.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0529235de5d3a6015a1031f2761d1580cc8c20fa/gcc%2Fexplow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0529235de5d3a6015a1031f2761d1580cc8c20fa/gcc%2Fexplow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexplow.c?ref=0529235de5d3a6015a1031f2761d1580cc8c20fa", "patch": "@@ -1566,7 +1566,7 @@ probe_stack_range (HOST_WIDE_INT first, rtx size)\n \t\t\t\t\t         stack_pointer_rtx,\n \t\t\t\t\t         plus_constant (Pmode,\n \t\t\t\t\t\t\t\tsize, first)));\n-      emit_library_call (stack_check_libfunc, LCT_NORMAL, VOIDmode, 1, addr,\n+      emit_library_call (stack_check_libfunc, LCT_THROW, VOIDmode, 1, addr,\n \t\t\t Pmode);\n     }\n "}]}