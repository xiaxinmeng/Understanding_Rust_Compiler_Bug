{"sha": "2cbfaba60661ebbdfcffe725ab55fbb323e2a187", "node_id": "C_kwDOANBUbNoAKDJjYmZhYmE2MDY2MWViYmRmY2ZmZTcyNWFiNTVmYmIzMjNlMmExODc", "commit": {"author": {"name": "Tamar Christina", "email": "tamar.christina@arm.com", "date": "2021-10-25T14:14:04Z"}, "committer": {"name": "Tamar Christina", "email": "tamar.christina@arm.com", "date": "2021-10-25T14:14:04Z"}, "message": "AArch64 testsuite: Force shrn-combine-*.c to use NEON.\n\nThese tests are testing Advanced SIMD codegen, so if the compiler or the\ntestsuite is forcing SVE they will fail.\n\nThis adds +nosve so that we always generate Advanced SIMD codegen.\n\ngcc/testsuite/ChangeLog:\n\n\tPR target/102907\n\t* gcc.target/aarch64/shrn-combine-1.c: Disable SVE.\n\t* gcc.target/aarch64/shrn-combine-2.c: Likewise.\n\t* gcc.target/aarch64/shrn-combine-3.c: Likewise.\n\t* gcc.target/aarch64/shrn-combine-4.c: Likewise.\n\t* gcc.target/aarch64/shrn-combine-5.c: Likewise.\n\t* gcc.target/aarch64/shrn-combine-6.c: Likewise.\n\t* gcc.target/aarch64/shrn-combine-7.c: Likewise.", "tree": {"sha": "b70bb8900c7efaf39e948a1b8a0de1ea7124d06f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b70bb8900c7efaf39e948a1b8a0de1ea7124d06f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2cbfaba60661ebbdfcffe725ab55fbb323e2a187", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2cbfaba60661ebbdfcffe725ab55fbb323e2a187", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2cbfaba60661ebbdfcffe725ab55fbb323e2a187", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2cbfaba60661ebbdfcffe725ab55fbb323e2a187/comments", "author": {"login": "TamarChristinaArm", "id": 48126768, "node_id": "MDQ6VXNlcjQ4MTI2NzY4", "avatar_url": "https://avatars.githubusercontent.com/u/48126768?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TamarChristinaArm", "html_url": "https://github.com/TamarChristinaArm", "followers_url": "https://api.github.com/users/TamarChristinaArm/followers", "following_url": "https://api.github.com/users/TamarChristinaArm/following{/other_user}", "gists_url": "https://api.github.com/users/TamarChristinaArm/gists{/gist_id}", "starred_url": "https://api.github.com/users/TamarChristinaArm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TamarChristinaArm/subscriptions", "organizations_url": "https://api.github.com/users/TamarChristinaArm/orgs", "repos_url": "https://api.github.com/users/TamarChristinaArm/repos", "events_url": "https://api.github.com/users/TamarChristinaArm/events{/privacy}", "received_events_url": "https://api.github.com/users/TamarChristinaArm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "TamarChristinaArm", "id": 48126768, "node_id": "MDQ6VXNlcjQ4MTI2NzY4", "avatar_url": "https://avatars.githubusercontent.com/u/48126768?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TamarChristinaArm", "html_url": "https://github.com/TamarChristinaArm", "followers_url": "https://api.github.com/users/TamarChristinaArm/followers", "following_url": "https://api.github.com/users/TamarChristinaArm/following{/other_user}", "gists_url": "https://api.github.com/users/TamarChristinaArm/gists{/gist_id}", "starred_url": "https://api.github.com/users/TamarChristinaArm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TamarChristinaArm/subscriptions", "organizations_url": "https://api.github.com/users/TamarChristinaArm/orgs", "repos_url": "https://api.github.com/users/TamarChristinaArm/repos", "events_url": "https://api.github.com/users/TamarChristinaArm/events{/privacy}", "received_events_url": "https://api.github.com/users/TamarChristinaArm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f217e87972a2a207e793101fc05cfc9dd095c678", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f217e87972a2a207e793101fc05cfc9dd095c678", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f217e87972a2a207e793101fc05cfc9dd095c678"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "334e94aa76e030d18cfbda2febe3200f0ccb7b5e", "filename": "gcc/testsuite/gcc.target/aarch64/shrn-combine-1.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2cbfaba60661ebbdfcffe725ab55fbb323e2a187/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fshrn-combine-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2cbfaba60661ebbdfcffe725ab55fbb323e2a187/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fshrn-combine-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fshrn-combine-1.c?ref=2cbfaba60661ebbdfcffe725ab55fbb323e2a187", "patch": "@@ -1,6 +1,8 @@\n /* { dg-do assemble } */\n /* { dg-options \"-O3 --save-temps --param=vect-epilogues-nomask=0\" } */\n \n+#pragma GCC target \"+nosve\"\n+\n #define TYPE char\n \n void foo (unsigned TYPE * restrict a, TYPE * restrict d, int n)"}, {"sha": "c90de72e9c39e2cac22264004015b4be62c38110", "filename": "gcc/testsuite/gcc.target/aarch64/shrn-combine-2.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2cbfaba60661ebbdfcffe725ab55fbb323e2a187/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fshrn-combine-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2cbfaba60661ebbdfcffe725ab55fbb323e2a187/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fshrn-combine-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fshrn-combine-2.c?ref=2cbfaba60661ebbdfcffe725ab55fbb323e2a187", "patch": "@@ -1,6 +1,8 @@\n /* { dg-do assemble } */\n /* { dg-options \"-O3 --save-temps --param=vect-epilogues-nomask=0\" } */\n \n+#pragma GCC target \"+nosve\"\n+\n #define TYPE short\n \n void foo (unsigned TYPE * restrict a, TYPE * restrict d, int n)"}, {"sha": "a05ecbb373a55d39e07bb1d8f887485d73740638", "filename": "gcc/testsuite/gcc.target/aarch64/shrn-combine-3.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2cbfaba60661ebbdfcffe725ab55fbb323e2a187/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fshrn-combine-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2cbfaba60661ebbdfcffe725ab55fbb323e2a187/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fshrn-combine-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fshrn-combine-3.c?ref=2cbfaba60661ebbdfcffe725ab55fbb323e2a187", "patch": "@@ -1,6 +1,8 @@\n /* { dg-do assemble } */\n /* { dg-options \"-O3 --save-temps --param=vect-epilogues-nomask=0\" } */\n \n+#pragma GCC target \"+nosve\"\n+\n #define TYPE int\n \n void foo (unsigned long long * restrict a, TYPE * restrict d, int n)"}, {"sha": "36ebab7b742add831403f6d2000c14f6a7714770", "filename": "gcc/testsuite/gcc.target/aarch64/shrn-combine-4.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2cbfaba60661ebbdfcffe725ab55fbb323e2a187/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fshrn-combine-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2cbfaba60661ebbdfcffe725ab55fbb323e2a187/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fshrn-combine-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fshrn-combine-4.c?ref=2cbfaba60661ebbdfcffe725ab55fbb323e2a187", "patch": "@@ -1,6 +1,8 @@\n /* { dg-do assemble } */\n /* { dg-options \"-O3 --save-temps --param=vect-epilogues-nomask=0\" } */\n \n+#pragma GCC target \"+nosve\"\n+\n #define TYPE long long\n \n void foo (unsigned TYPE * restrict a, TYPE * restrict d, int n)"}, {"sha": "973e577e938198fb8ab5ee8662bb16fa695a6842", "filename": "gcc/testsuite/gcc.target/aarch64/shrn-combine-5.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2cbfaba60661ebbdfcffe725ab55fbb323e2a187/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fshrn-combine-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2cbfaba60661ebbdfcffe725ab55fbb323e2a187/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fshrn-combine-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fshrn-combine-5.c?ref=2cbfaba60661ebbdfcffe725ab55fbb323e2a187", "patch": "@@ -1,6 +1,8 @@\n /* { dg-do assemble } */\n /* { dg-options \"-O3 --save-temps --param=vect-epilogues-nomask=0\" } */\n \n+#pragma GCC target \"+nosve\"\n+\n #define TYPE1 char\n #define TYPE2 short\n #define SHIFT 8"}, {"sha": "db36a9c421815987778d1427be232d9264bf7094", "filename": "gcc/testsuite/gcc.target/aarch64/shrn-combine-6.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2cbfaba60661ebbdfcffe725ab55fbb323e2a187/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fshrn-combine-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2cbfaba60661ebbdfcffe725ab55fbb323e2a187/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fshrn-combine-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fshrn-combine-6.c?ref=2cbfaba60661ebbdfcffe725ab55fbb323e2a187", "patch": "@@ -1,6 +1,8 @@\n /* { dg-do assemble } */\n /* { dg-options \"-O3 --save-temps --param=vect-epilogues-nomask=0\" } */\n \n+#pragma GCC target \"+nosve\"\n+\n #define TYPE1 short\n #define TYPE2 int\n #define SHIFT 16"}, {"sha": "e7caf3c7587a7df15889760a2090e3fa264bc66e", "filename": "gcc/testsuite/gcc.target/aarch64/shrn-combine-7.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2cbfaba60661ebbdfcffe725ab55fbb323e2a187/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fshrn-combine-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2cbfaba60661ebbdfcffe725ab55fbb323e2a187/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fshrn-combine-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fshrn-combine-7.c?ref=2cbfaba60661ebbdfcffe725ab55fbb323e2a187", "patch": "@@ -1,6 +1,8 @@\n /* { dg-do assemble } */\n /* { dg-options \"-O3 --save-temps --param=vect-epilogues-nomask=0\" } */\n \n+#pragma GCC target \"+nosve\"\n+\n #define TYPE1 int\n #define TYPE2 long long\n #define SHIFT 32"}]}