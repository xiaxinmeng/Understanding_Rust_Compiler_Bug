{"sha": "50fed7bf1a09778cc0cc75e270f2092cb71690da", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTBmZWQ3YmYxYTA5Nzc4Y2MwY2M3NWUyNzBmMjA5MmNiNzE2OTBkYQ==", "commit": {"author": {"name": "Ramana Radhakrishnan", "email": "ramana@gcc.gnu.org", "date": "2011-05-26T08:07:45Z"}, "committer": {"name": "Ramana Radhakrishnan", "email": "ramana@gcc.gnu.org", "date": "2011-05-26T08:07:45Z"}, "message": "Fix generation of vorn and vbic for Neon.\n\nFrom-SVN: r174266", "tree": {"sha": "7eb42d8ca038a56eab00fee758f3b36e42a5caf0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7eb42d8ca038a56eab00fee758f3b36e42a5caf0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/50fed7bf1a09778cc0cc75e270f2092cb71690da", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50fed7bf1a09778cc0cc75e270f2092cb71690da", "html_url": "https://github.com/Rust-GCC/gccrs/commit/50fed7bf1a09778cc0cc75e270f2092cb71690da", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50fed7bf1a09778cc0cc75e270f2092cb71690da/comments", "author": null, "committer": null, "parents": [{"sha": "48df3fa66cf86d6da365a459aae689bb937128a3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/48df3fa66cf86d6da365a459aae689bb937128a3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/48df3fa66cf86d6da365a459aae689bb937128a3"}], "stats": {"total": 43, "additions": 37, "deletions": 6}, "files": [{"sha": "7f333e99f44c1d886576f677dc0ad641679342a5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50fed7bf1a09778cc0cc75e270f2092cb71690da/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50fed7bf1a09778cc0cc75e270f2092cb71690da/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=50fed7bf1a09778cc0cc75e270f2092cb71690da", "patch": "@@ -1,3 +1,9 @@\n+2011-05-26  Ramana Radhakrishnan  <ramana.radhakrishnan@linaro.org>\n+\n+\t* config/arm/neon.md (\"orn<mode>3_neon\"): Canonicalize not.\n+\t(\"orndi3_neon\"): Likewise.\n+\t(\"bic<mode>3_neon\"): Likewise.\n+\n 2011-05-26  Ira Rosen  <ira.rosen@linaro.org>\n \n \tPR tree-optimization/49038\n@@ -185,6 +191,7 @@\n \t* ipa.c (function_and_variable_visibility): Only add to same\n \tcomdat group list if DECL_ONE_ONLY.\n \n+>>>>>>> .r174265\n 2011-05-25  Andrey Belevantsev  <abel@ispras.ru>\n \n \tPR rtl-optimization/49014"}, {"sha": "2dfa9c14ef33dc8acb9116f53dcecb85895ede51", "filename": "gcc/config/arm/neon.md", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50fed7bf1a09778cc0cc75e270f2092cb71690da/gcc%2Fconfig%2Farm%2Fneon.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50fed7bf1a09778cc0cc75e270f2092cb71690da/gcc%2Fconfig%2Farm%2Fneon.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fneon.md?ref=50fed7bf1a09778cc0cc75e270f2092cb71690da", "patch": "@@ -794,17 +794,17 @@\n \n (define_insn \"orn<mode>3_neon\"\n   [(set (match_operand:VDQ 0 \"s_register_operand\" \"=w\")\n-\t(ior:VDQ (match_operand:VDQ 1 \"s_register_operand\" \"w\")\n-\t\t (not:VDQ (match_operand:VDQ 2 \"s_register_operand\" \"w\"))))]\n+\t(ior:VDQ (not:VDQ (match_operand:VDQ 2 \"s_register_operand\" \"w\"))\n+\t\t (match_operand:VDQ 1 \"s_register_operand\" \"w\")))]\n   \"TARGET_NEON\"\n   \"vorn\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set_attr \"neon_type\" \"neon_int_1\")]\n )\n \n (define_insn \"orndi3_neon\"\n   [(set (match_operand:DI 0 \"s_register_operand\" \"=w,?=&r,?&r\")\n-\t(ior:DI (match_operand:DI 1 \"s_register_operand\" \"w,r,0\")\n-\t         (not:DI (match_operand:DI 2 \"s_register_operand\" \"w,0,r\"))))]\n+\t(ior:DI (not:DI (match_operand:DI 2 \"s_register_operand\" \"w,0,r\"))\n+\t\t(match_operand:DI 1 \"s_register_operand\" \"w,r,0\")))]\n   \"TARGET_NEON\"\n   \"@\n    vorn\\t%P0, %P1, %P2\n@@ -816,8 +816,8 @@\n \n (define_insn \"bic<mode>3_neon\"\n   [(set (match_operand:VDQ 0 \"s_register_operand\" \"=w\")\n-\t(and:VDQ (match_operand:VDQ 1 \"s_register_operand\" \"w\")\n-\t\t  (not:VDQ (match_operand:VDQ 2 \"s_register_operand\" \"w\"))))]\n+\t(and:VDQ (not:VDQ (match_operand:VDQ 2 \"s_register_operand\" \"w\"))\n+\t\t (match_operand:VDQ 1 \"s_register_operand\" \"w\")))]\n   \"TARGET_NEON\"\n   \"vbic\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set_attr \"neon_type\" \"neon_int_1\")]"}, {"sha": "bf6a2eeed0305d57ed0e1fdc5e871a37c034f461", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50fed7bf1a09778cc0cc75e270f2092cb71690da/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50fed7bf1a09778cc0cc75e270f2092cb71690da/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=50fed7bf1a09778cc0cc75e270f2092cb71690da", "patch": "@@ -1,3 +1,7 @@\n+2011-05-26  Ramana Radhakrishnan  <ramana.radhakrishnan@linaro.org>\n+\n+\t* gcc.target/arm/neon-vorn-vbic.c: New test.\n+\n 2011-05-26  Ira Rosen  <ira.rosen@linaro.org>\n \n \tPR tree-optimization/49038"}, {"sha": "6f2d20b6dbd46fea9648e007ead8eb16c7f5d124", "filename": "gcc/testsuite/gcc.target/arm/neon-vorn-vbic.c", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50fed7bf1a09778cc0cc75e270f2092cb71690da/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fneon-vorn-vbic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50fed7bf1a09778cc0cc75e270f2092cb71690da/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fneon-vorn-vbic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fneon-vorn-vbic.c?ref=50fed7bf1a09778cc0cc75e270f2092cb71690da", "patch": "@@ -0,0 +1,20 @@\n+/* { dg-do compile } */\n+/* { dg-require-effective-target arm_neon_ok } */\n+/* { dg-options \"-O2 -ftree-vectorize\" } */\n+/* { dg-add-options arm_neon } */\n+\n+void bor (int *__restrict__ c, int *__restrict__ a, int *__restrict__ b)\n+{\n+  int i;\n+  for (i = 0; i < 9; i++)\n+    c[i] = b[i] | (~a[i]);\n+}\n+void bic (int *__restrict__ c, int *__restrict__ a, int *__restrict__ b)\n+{\n+  int i;\n+  for (i = 0; i < 9; i++)\n+    c[i] = b[i] & (~a[i]);\n+}\n+\n+/* { dg-final { scan-assembler \"vorn\\\\t\" } } */\n+/* { dg-final { scan-assembler \"vbic\\\\t\" } } */"}]}