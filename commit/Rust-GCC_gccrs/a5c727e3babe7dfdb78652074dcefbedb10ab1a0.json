{"sha": "a5c727e3babe7dfdb78652074dcefbedb10ab1a0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTVjNzI3ZTNiYWJlN2RmZGI3ODY1MjA3NGRjZWZiZWRiMTBhYjFhMA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2011-01-11T18:26:16Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2011-01-11T18:26:16Z"}, "message": "mn10300: Add attribute enabled.\n\nThis will allow merging am33 and mn103 patterns for which the\nset of alternatives can't be merged via constraint letters.\n\nFrom-SVN: r168674", "tree": {"sha": "fbc32e2691ce42505226d2ccaa4712315ecc27f5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fbc32e2691ce42505226d2ccaa4712315ecc27f5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a5c727e3babe7dfdb78652074dcefbedb10ab1a0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a5c727e3babe7dfdb78652074dcefbedb10ab1a0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a5c727e3babe7dfdb78652074dcefbedb10ab1a0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a5c727e3babe7dfdb78652074dcefbedb10ab1a0/comments", "author": null, "committer": null, "parents": [{"sha": "0d9e23f4eee0ad4c8932e099cbed6233106fe0bf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d9e23f4eee0ad4c8932e099cbed6233106fe0bf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0d9e23f4eee0ad4c8932e099cbed6233106fe0bf"}], "stats": {"total": 25, "additions": 25, "deletions": 0}, "files": [{"sha": "8d5fb422d7795992c97f2ea2ece53a3ecfdabea6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5c727e3babe7dfdb78652074dcefbedb10ab1a0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5c727e3babe7dfdb78652074dcefbedb10ab1a0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a5c727e3babe7dfdb78652074dcefbedb10ab1a0", "patch": "@@ -1,5 +1,8 @@\n 2011-01-11  Richard Henderson  <rth@redhat.com>\n \n+\t* config/mn10300/mn10300.md (isa): New attribute.\n+\t(enabled): New attribute.\n+\n \t* config/mn10300/mn10300.md (absdf2, negdf2): Remove.\n \t(abssf2, negsf2): Define only for hardware fp.\n \t(sqrtsf2): Reformat."}, {"sha": "bfa453f17c088b6a209da5d9a821f3f346d5d51b", "filename": "gcc/config/mn10300/mn10300.md", "status": "modified", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5c727e3babe7dfdb78652074dcefbedb10ab1a0/gcc%2Fconfig%2Fmn10300%2Fmn10300.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5c727e3babe7dfdb78652074dcefbedb10ab1a0/gcc%2Fconfig%2Fmn10300%2Fmn10300.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmn10300%2Fmn10300.md?ref=a5c727e3babe7dfdb78652074dcefbedb10ab1a0", "patch": "@@ -46,6 +46,28 @@\n (define_attr \"cpu\" \"mn10300,am33,am33_2,am34\"\n   (const (symbol_ref \"(enum attr_cpu) mn10300_tune_cpu\")))\n \n+;; Used to control the \"enabled\" attribute on a per-instruction basis.\n+(define_attr \"isa\" \"base,am33,am33_2,am34\"\n+  (const_string \"base\"))\n+\n+(define_attr \"enabled\" \"\"\n+  (cond [(eq_attr \"isa\" \"base\")\n+         (const_int 1)\n+\n+         (and (eq_attr \"isa\" \"am33\")\n+\t      (ne (symbol_ref \"TARGET_AM33\") (const_int 0)))\n+         (const_int 1)\n+\n+         (and (eq_attr \"isa\" \"am33_2\")\n+\t      (ne (symbol_ref \"TARGET_AM33_2\") (const_int 0)))\n+         (const_int 1)\n+        \n+         (and (eq_attr \"isa\" \"am34\")\n+\t      (ne (symbol_ref \"TARGET_AM34\") (const_int 0)))\n+         (const_int 1)\n+\t]\n+\t(const_int 0))\n+)\n \f\n ;; Pipeline description.\n "}]}