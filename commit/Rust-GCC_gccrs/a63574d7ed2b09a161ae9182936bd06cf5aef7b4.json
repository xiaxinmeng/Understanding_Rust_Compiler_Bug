{"sha": "a63574d7ed2b09a161ae9182936bd06cf5aef7b4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTYzNTc0ZDdlZDJiMDlhMTYxYWU5MTgyOTM2YmQwNmNmNWFlZjdiNA==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2019-12-08T14:02:43Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2019-12-08T14:02:43Z"}, "message": "Silence overactive sanity check with -fpartial-profile-training\n\ndo_estimate_edge_time tests that cached and real values matches. This test\nis not working precisely for global profiles because of roundoff issues when\nprofile of clones is subtracted from profile of offline body.  This is checked\nby presence of ipa counter. This breaks with partial profile training because\nwe turn IPA profiles to local when they drop to 0.\n\n\t* ipa-inline-analysis.c (do_estimate_edge_time): Silence overactive\n\tsanity check.\n\nFrom-SVN: r279090", "tree": {"sha": "ac2a879cc437164e8df3beffcdabdd26631f11e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ac2a879cc437164e8df3beffcdabdd26631f11e8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a63574d7ed2b09a161ae9182936bd06cf5aef7b4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a63574d7ed2b09a161ae9182936bd06cf5aef7b4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a63574d7ed2b09a161ae9182936bd06cf5aef7b4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a63574d7ed2b09a161ae9182936bd06cf5aef7b4/comments", "author": null, "committer": null, "parents": [{"sha": "ad74bc8ca4095e4bf58a4069105469e1c6a620f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad74bc8ca4095e4bf58a4069105469e1c6a620f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ad74bc8ca4095e4bf58a4069105469e1c6a620f8"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "f051c233c77196e0a5b1a3ce37d6e32a034b3627", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a63574d7ed2b09a161ae9182936bd06cf5aef7b4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a63574d7ed2b09a161ae9182936bd06cf5aef7b4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a63574d7ed2b09a161ae9182936bd06cf5aef7b4", "patch": "@@ -1,3 +1,8 @@\n+2019-12-07  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* ipa-inline-analysis.c (do_estimate_edge_time): Silence overactive\n+\tsanity check.\n+\n 2019-12-07  Jan Hubicka  <hubicka@ucw.cz>\n \n \tPR tree-optimization/92860"}, {"sha": "711b85bd1a94354641e3137c90fa7fcf693b7805", "filename": "gcc/ipa-inline-analysis.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a63574d7ed2b09a161ae9182936bd06cf5aef7b4/gcc%2Fipa-inline-analysis.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a63574d7ed2b09a161ae9182936bd06cf5aef7b4/gcc%2Fipa-inline-analysis.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-inline-analysis.c?ref=a63574d7ed2b09a161ae9182936bd06cf5aef7b4", "patch": "@@ -209,6 +209,7 @@ do_estimate_edge_time (struct cgraph_edge *edge, sreal *ret_nonspec_time)\n \t  nonspec_time = e->entry.nonspec_time;\n \t  hints = e->entry.hints;\n \t  if (flag_checking\n+\t      && !opt_for_fn (callee->decl, flag_profile_partial_training)\n \t      && !callee->count.ipa_p ())\n \t    {\n \t      sreal chk_time, chk_nonspec_time;"}]}