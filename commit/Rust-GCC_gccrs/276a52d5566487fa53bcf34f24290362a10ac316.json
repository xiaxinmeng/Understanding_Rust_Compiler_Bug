{"sha": "276a52d5566487fa53bcf34f24290362a10ac316", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjc2YTUyZDU1NjY0ODdmYTUzYmNmMzRmMjQyOTAzNjJhMTBhYzMxNg==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2019-10-02T22:31:58Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2019-10-02T22:31:58Z"}, "message": "constexpr.c (cxx_eval_store_expression): Formatting fix.\n\n\t* constexpr.c (cxx_eval_store_expression): Formatting fix.  Handle\n\tconst_object_being_modified with array type.\n\nFrom-SVN: r276493", "tree": {"sha": "3e73647db951b063af573a56b42b19d3e9f78c0f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3e73647db951b063af573a56b42b19d3e9f78c0f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/276a52d5566487fa53bcf34f24290362a10ac316", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/276a52d5566487fa53bcf34f24290362a10ac316", "html_url": "https://github.com/Rust-GCC/gccrs/commit/276a52d5566487fa53bcf34f24290362a10ac316", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/276a52d5566487fa53bcf34f24290362a10ac316/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "bead578432b67889c2700c7f0eafa72d74bf197b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bead578432b67889c2700c7f0eafa72d74bf197b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bead578432b67889c2700c7f0eafa72d74bf197b"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "f2c1aa2363da3988900e2b25fd0d8a85e05631e6", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/276a52d5566487fa53bcf34f24290362a10ac316/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/276a52d5566487fa53bcf34f24290362a10ac316/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=276a52d5566487fa53bcf34f24290362a10ac316", "patch": "@@ -1,3 +1,8 @@\n+2019-10-03  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* constexpr.c (cxx_eval_store_expression): Formatting fix.  Handle\n+\tconst_object_being_modified with array type.\n+\n 2019-10-02  Jason Merrill  <jason@redhat.com>\n \n \t* typeck2.c (store_init_value): Only clear_cv_and_fold_caches if the"}, {"sha": "a6a55b940dd691a18ba10ce61d152a414249557c", "filename": "gcc/cp/constexpr.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/276a52d5566487fa53bcf34f24290362a10ac316/gcc%2Fcp%2Fconstexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/276a52d5566487fa53bcf34f24290362a10ac316/gcc%2Fcp%2Fconstexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fconstexpr.c?ref=276a52d5566487fa53bcf34f24290362a10ac316", "patch": "@@ -3895,7 +3895,7 @@ cxx_eval_store_expression (const constexpr_ctx *ctx, tree t,\n   bool no_zero_init = true;\n \n   releasing_vec ctors;\n-  while (!refs->is_empty())\n+  while (!refs->is_empty ())\n     {\n       if (*valp == NULL_TREE)\n \t{\n@@ -4036,7 +4036,9 @@ cxx_eval_store_expression (const constexpr_ctx *ctx, tree t,\n   if (const_object_being_modified)\n     {\n       bool fail = false;\n-      if (!CLASS_TYPE_P (TREE_TYPE (const_object_being_modified)))\n+      tree const_objtype\n+\t= strip_array_types (TREE_TYPE (const_object_being_modified));\n+      if (!CLASS_TYPE_P (const_objtype))\n \tfail = true;\n       else\n \t{"}]}