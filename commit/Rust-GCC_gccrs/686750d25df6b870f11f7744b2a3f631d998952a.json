{"sha": "686750d25df6b870f11f7744b2a3f631d998952a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njg2NzUwZDI1ZGY2Yjg3MGYxMWY3NzQ0YjJhM2Y2MzFkOTk4OTUyYQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-10-05T13:44:40Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-10-05T13:44:40Z"}, "message": "runtime: Use argv[0] to get executable name for backtrace.\n\nFrom-SVN: r192123", "tree": {"sha": "042cdf673fe73fbd7eee478b145e55873f39db18", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/042cdf673fe73fbd7eee478b145e55873f39db18"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/686750d25df6b870f11f7744b2a3f631d998952a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/686750d25df6b870f11f7744b2a3f631d998952a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/686750d25df6b870f11f7744b2a3f631d998952a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/686750d25df6b870f11f7744b2a3f631d998952a/comments", "author": null, "committer": null, "parents": [{"sha": "4f60bf181ef50a8c3b6fd9a15682782922c49633", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f60bf181ef50a8c3b6fd9a15682782922c49633", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f60bf181ef50a8c3b6fd9a15682782922c49633"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "843adf6f00dce03fb3fd216de7344337a282f622", "filename": "libgo/runtime/go-caller.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/686750d25df6b870f11f7744b2a3f631d998952a/libgo%2Fruntime%2Fgo-caller.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/686750d25df6b870f11f7744b2a3f631d998952a/libgo%2Fruntime%2Fgo-caller.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fgo-caller.c?ref=686750d25df6b870f11f7744b2a3f631d998952a", "patch": "@@ -98,7 +98,12 @@ __go_get_backtrace_state ()\n {\n   runtime_lock (&back_state_lock);\n   if (back_state == NULL)\n-    back_state = backtrace_create_state (NULL, 1, error_callback, NULL);\n+    {\n+      const char *filename;\n+\n+      filename = (const char *) runtime_progname ();\n+      back_state = backtrace_create_state (filename, 1, error_callback, NULL);\n+    }\n   runtime_unlock (&back_state_lock);\n   return back_state;\n }"}, {"sha": "86115965734ab9f981dc55503b692d3a1a776ca9", "filename": "libgo/runtime/runtime.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/686750d25df6b870f11f7744b2a3f631d998952a/libgo%2Fruntime%2Fruntime.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/686750d25df6b870f11f7744b2a3f631d998952a/libgo%2Fruntime%2Fruntime.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fruntime.c?ref=686750d25df6b870f11f7744b2a3f631d998952a", "patch": "@@ -117,6 +117,12 @@ runtime_args(int32 c, byte **v)\n \t\truntime_sysargs(c, v);\n }\n \n+byte*\n+runtime_progname()\n+{\n+  return argc == 0 ? nil : argv[0];\n+}\n+\n void\n runtime_goargs(void)\n {"}, {"sha": "74050da9e98c1e6c3d27d711cfb2a570541dc41d", "filename": "libgo/runtime/runtime.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/686750d25df6b870f11f7744b2a3f631d998952a/libgo%2Fruntime%2Fruntime.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/686750d25df6b870f11f7744b2a3f631d998952a/libgo%2Fruntime%2Fruntime.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fruntime.h?ref=686750d25df6b870f11f7744b2a3f631d998952a", "patch": "@@ -520,5 +520,6 @@ extern uintptr runtime_stacks_sys;\n struct backtrace_state;\n extern struct backtrace_state *__go_get_backtrace_state(void);\n extern _Bool __go_file_line(uintptr, String*, String*, int *);\n+extern byte* runtime_progname();\n \n int32 getproccount(void);"}]}