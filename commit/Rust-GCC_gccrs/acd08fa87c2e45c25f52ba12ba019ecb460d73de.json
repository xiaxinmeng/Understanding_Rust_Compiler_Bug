{"sha": "acd08fa87c2e45c25f52ba12ba019ecb460d73de", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWNkMDhmYTg3YzJlNDVjMjVmNTJiYTEyYmEwMTllY2I0NjBkNzNkZQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2008-12-19T14:55:42Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2008-12-19T14:55:42Z"}, "message": "re PR bootstrap/37739 (bootstrap broken with core gcc > gcc-4.2.x)\n\n\tPR bootstrap/37739\n\t* config.host: For powerpc*-*-linux* host with 32-bit GCC,\n\tuse rs6000/x-linux-relax snippet if ld is new enough,\n\totherwise use rs6000/x-linux-O1.\n\t* config/rs6000/x-linux-relax: New file.\n\t* config/x-cflags-O1: New file.\n\nFrom-SVN: r142833", "tree": {"sha": "cf5c7224efe9bcccb76478acaed7d423f3ca80be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cf5c7224efe9bcccb76478acaed7d423f3ca80be"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/acd08fa87c2e45c25f52ba12ba019ecb460d73de", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/acd08fa87c2e45c25f52ba12ba019ecb460d73de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/acd08fa87c2e45c25f52ba12ba019ecb460d73de", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/acd08fa87c2e45c25f52ba12ba019ecb460d73de/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "dd88bc97473ecad755657a587123e6da2653949a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd88bc97473ecad755657a587123e6da2653949a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd88bc97473ecad755657a587123e6da2653949a"}], "stats": {"total": 37, "additions": 37, "deletions": 0}, "files": [{"sha": "8575c25054b1f4288f255d74f55cecbf1ec198c6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/acd08fa87c2e45c25f52ba12ba019ecb460d73de/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/acd08fa87c2e45c25f52ba12ba019ecb460d73de/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=acd08fa87c2e45c25f52ba12ba019ecb460d73de", "patch": "@@ -1,3 +1,12 @@\n+2008-12-19  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR bootstrap/37739\n+\t* config.host: For powerpc*-*-linux* host with 32-bit GCC,\n+\tuse rs6000/x-linux-relax snippet if ld is new enough,\n+\totherwise use rs6000/x-linux-O1.\n+\t* config/rs6000/x-linux-relax: New file.\n+\t* config/x-cflags-O1: New file.\n+\n 2008-12-18  Joseph Myers  <joseph@codesourcery.com>\n \n \t* config/rs6000/rs6000.c (rs6000_generate_compare): Condition"}, {"sha": "939cc1536ca6343cb022a08e4dbe53aa2554eff6", "filename": "gcc/config.host", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/acd08fa87c2e45c25f52ba12ba019ecb460d73de/gcc%2Fconfig.host", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/acd08fa87c2e45c25f52ba12ba019ecb460d73de/gcc%2Fconfig.host", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.host?ref=acd08fa87c2e45c25f52ba12ba019ecb460d73de", "patch": "@@ -124,6 +124,27 @@ case ${host} in\n         host_xmake_file=\"${host_xmake_file} rs6000/x-rs6000\"\n         ;;\n     esac\n+    case ${host} in\n+      *-*-linux* )\n+\tif test \"${GCC}:${ac_cv_sizeof_long}\" = yes:4; then\n+\t  # On powerpc*-*-linux* use -Wl,--relax to link cc1,\n+\t  # if ld is new enough, otherwise force -O1 in CFLAGS.\n+\t  host_ppc_relax_xmake_file=\n+\t  host_ld_ver=`${CC} -Wl,--version 2>/dev/null | sed 1q`\n+\t  if echo \"$host_ld_ver\" | grep GNU > /dev/null; then\n+\t    host_ld_date=`echo $host_ld_ver \\\n+\t\t\t  | sed -n 's,^.*\\([2-9][0-9][0-9][0-9]\\)[-]*\\([01][0-9]\\)[-]*\\([0-3][0-9]\\).*$,\\1\\2\\3,p'`\n+\t    if test 0\"$host_ld_date\" -gt 20080806; then\n+\t      host_ppc_relax_xmake_file=rs6000/x-linux-relax\n+\t    fi\n+\t  fi\n+\t  if test -z \"${host_ppc_relax_xmake_file}\"; then\n+\t    host_ppc_relax_xmake_file=x-cflags-O1\n+\t  fi\n+\t  host_xmake_file=\"${host_xmake_file} ${host_ppc_relax_xmake_file}\"\n+\tfi\n+\t;;\n+    esac\n     ;;\n esac\n "}, {"sha": "2743a94e43d1be012ef5806c787be17e398e5e94", "filename": "gcc/config/rs6000/x-linux-relax", "status": "added", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/acd08fa87c2e45c25f52ba12ba019ecb460d73de/gcc%2Fconfig%2Frs6000%2Fx-linux-relax", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/acd08fa87c2e45c25f52ba12ba019ecb460d73de/gcc%2Fconfig%2Frs6000%2Fx-linux-relax", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fx-linux-relax?ref=acd08fa87c2e45c25f52ba12ba019ecb460d73de", "patch": "@@ -0,0 +1,2 @@\n+# At -O0 cc1 etc. are too large and -Wl,--relax is needed\n+$(COMPILERS) : override LDFLAGS += -Wl,--relax"}, {"sha": "9ba1e7496cfb675893c5ed43e7ce269a6c874ced", "filename": "gcc/config/x-cflags-O1", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/acd08fa87c2e45c25f52ba12ba019ecb460d73de/gcc%2Fconfig%2Fx-cflags-O1", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/acd08fa87c2e45c25f52ba12ba019ecb460d73de/gcc%2Fconfig%2Fx-cflags-O1", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fx-cflags-O1?ref=acd08fa87c2e45c25f52ba12ba019ecb460d73de", "patch": "@@ -0,0 +1,5 @@\n+# At -O0 cc1 etc. are too large on some targets for successful\n+# link; force building libbackend.a with -O1.\n+ifeq ($(filter-out -O0,$(lastword $(filter -O%,$(CFLAGS)))),)\n+$(OBJS) : override CFLAGS += -O1\n+endif"}]}