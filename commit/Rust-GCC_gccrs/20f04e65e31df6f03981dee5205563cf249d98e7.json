{"sha": "20f04e65e31df6f03981dee5205563cf249d98e7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjBmMDRlNjVlMzFkZjZmMDM5ODFkZWU1MjA1NTYzY2YyNDlkOThlNw==", "commit": {"author": {"name": "Andreas Krebbel", "email": "krebbel1@de.ibm.com", "date": "2006-10-26T06:58:29Z"}, "committer": {"name": "Andreas Krebbel", "email": "krebbel@gcc.gnu.org", "date": "2006-10-26T06:58:29Z"}, "message": "s390.c (s390_init_frame_layout): Check positive frame_size.\n\n2006-10-26  Andreas Krebbel  <krebbel1@de.ibm.com>\n\n\t* config/s390/s390.c (s390_init_frame_layout): Check positive\n\tframe_size.\n\n2006-10-26  Andreas Krebbel  <krebbel1@de.ibm.com>\n\n\t* gcc.dg/20061026.c: New testcase.\n\nFrom-SVN: r118062", "tree": {"sha": "b91da3b78fce1e51a4021d7e2f24b190e44ea968", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b91da3b78fce1e51a4021d7e2f24b190e44ea968"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/20f04e65e31df6f03981dee5205563cf249d98e7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20f04e65e31df6f03981dee5205563cf249d98e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/20f04e65e31df6f03981dee5205563cf249d98e7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20f04e65e31df6f03981dee5205563cf249d98e7/comments", "author": null, "committer": null, "parents": [{"sha": "ac2de15d44197a721aeaa92affa5b64c7540cd54", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac2de15d44197a721aeaa92affa5b64c7540cd54", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ac2de15d44197a721aeaa92affa5b64c7540cd54"}], "stats": {"total": 26, "additions": 24, "deletions": 2}, "files": [{"sha": "554a22c1ef665ec9facdb7cb684f0626a461defb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/20f04e65e31df6f03981dee5205563cf249d98e7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/20f04e65e31df6f03981dee5205563cf249d98e7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=20f04e65e31df6f03981dee5205563cf249d98e7", "patch": "@@ -1,3 +1,8 @@\n+2006-10-26  Andreas Krebbel  <krebbel1@de.ibm.com>\n+\n+\t* config/s390/s390.c (s390_init_frame_layout): Check positive\n+\tframe_size.\n+\n 2006-10-26  Ben Elliston  <bje@au.ibm.com>\n \n \t* gimplify.c (get_name): Remove extraneous break."}, {"sha": "59baba9f3de5950618f71f7e37f7de4bf4798840", "filename": "gcc/config/s390/s390.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/20f04e65e31df6f03981dee5205563cf249d98e7/gcc%2Fconfig%2Fs390%2Fs390.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/20f04e65e31df6f03981dee5205563cf249d98e7/gcc%2Fconfig%2Fs390%2Fs390.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.c?ref=20f04e65e31df6f03981dee5205563cf249d98e7", "patch": "@@ -6718,8 +6718,8 @@ s390_init_frame_layout (void)\n       /* Try to predict whether we'll need the base register.  */\n       base_used = cfun->machine->split_branches_pending_p\n \t\t  || current_function_uses_const_pool\n-\t\t  || (!DISP_IN_RANGE (-frame_size)\n-\t\t      && !CONST_OK_FOR_K (-frame_size));\n+\t\t  || (!DISP_IN_RANGE (frame_size)\n+\t\t      && !CONST_OK_FOR_K (frame_size));\n \n       /* Decide which register to use as literal pool base.  In small\n \t leaf functions, try to use an unused call-clobbered register"}, {"sha": "ad0ca6f7ec84968b734c397996a351e46f156245", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/20f04e65e31df6f03981dee5205563cf249d98e7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/20f04e65e31df6f03981dee5205563cf249d98e7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=20f04e65e31df6f03981dee5205563cf249d98e7", "patch": "@@ -1,3 +1,7 @@\n+2006-10-26  Andreas Krebbel  <krebbel1@de.ibm.com>\n+\n+\t* gcc.dg/20061026.c: New testcase.\n+\n 2006-10-26  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \tPR libgfortran/29563"}, {"sha": "fb3de2375e547470548ee30a8a17f16630c6ea48", "filename": "gcc/testsuite/gcc.dg/20061026.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/20f04e65e31df6f03981dee5205563cf249d98e7/gcc%2Ftestsuite%2Fgcc.dg%2F20061026.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/20f04e65e31df6f03981dee5205563cf249d98e7/gcc%2Ftestsuite%2Fgcc.dg%2F20061026.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2F20061026.c?ref=20f04e65e31df6f03981dee5205563cf249d98e7", "patch": "@@ -0,0 +1,13 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O1\" } */\n+\n+/* This testcase failed on s390.  The frame size for function f will be\n+   exactly 32768 bytes.  The back end has to recognize that this is to\n+   large for a 16bit constant and therefore should reserve the literal\n+   pool base pointer.  */\n+\n+int f () {\n+  char a[32608];\n+\n+  g (a);\n+}"}]}