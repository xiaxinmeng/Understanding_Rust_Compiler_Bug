{"sha": "0e061da69187b6f2eb49e8513ee380dc3295f94a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGUwNjFkYTY5MTg3YjZmMmViNDllODUxM2VlMzgwZGMzMjk1Zjk0YQ==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2001-03-10T01:36:23Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2001-03-10T01:36:23Z"}, "message": "[multiple changes]\n\n\n2001-03-09  Gabriel Dos Reis  <gdr@merlin.codesourcery.com>\n\n\t* include/bits/istream.tcc ( basic_istream<_CharT, _Traits>&\n\toperator>>(basic_istream<_CharT, _Traits>& __in, _CharT* __s)):\n\tUse streamsize, not int_type.\n\n2001-03-08  Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* testsuite/27_io/streambuf.cc (test06): New test, disabled at the\n\tmoment.\n\nFrom-SVN: r40358", "tree": {"sha": "45fa7d50dd90da3ed8d23836b59c14a79fee0a1d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/45fa7d50dd90da3ed8d23836b59c14a79fee0a1d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0e061da69187b6f2eb49e8513ee380dc3295f94a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e061da69187b6f2eb49e8513ee380dc3295f94a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e061da69187b6f2eb49e8513ee380dc3295f94a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e061da69187b6f2eb49e8513ee380dc3295f94a/comments", "author": null, "committer": null, "parents": [{"sha": "4698d2cf4b494cfa72c9f5bdb73caf1d69cd7941", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4698d2cf4b494cfa72c9f5bdb73caf1d69cd7941", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4698d2cf4b494cfa72c9f5bdb73caf1d69cd7941"}], "stats": {"total": 28, "additions": 25, "deletions": 3}, "files": [{"sha": "62af63c0ff5a6b1ad8f18eefc4d602ce5ed49219", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e061da69187b6f2eb49e8513ee380dc3295f94a/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e061da69187b6f2eb49e8513ee380dc3295f94a/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=0e061da69187b6f2eb49e8513ee380dc3295f94a", "patch": "@@ -1,3 +1,14 @@\n+2001-03-09  Gabriel Dos Reis  <gdr@merlin.codesourcery.com>\n+\n+\t* include/bits/istream.tcc ( basic_istream<_CharT, _Traits>&\n+\toperator>>(basic_istream<_CharT, _Traits>& __in, _CharT* __s)):\n+\tUse streamsize, not int_type.\n+\n+2001-03-08  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\t* testsuite/27_io/streambuf.cc (test06): New test, disabled at the\n+\tmoment.\n+\t\n 2001-03-08  Andreas Schwab  <schwab@suse.de>\n \n \t* acinclude.m4 (GLIBCPP_EXPORT_INSTALL_INFO): Fix syntax in test"}, {"sha": "0ea81cf5f23cbc607ba4453118d8ba4d30951cff", "filename": "libstdc++-v3/include/bits/istream.tcc", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e061da69187b6f2eb49e8513ee380dc3295f94a/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fistream.tcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e061da69187b6f2eb49e8513ee380dc3295f94a/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fistream.tcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fistream.tcc?ref=0e061da69187b6f2eb49e8513ee380dc3295f94a", "patch": "@@ -984,9 +984,9 @@ namespace std {\n \t{\n \t  try {\n \t    // Figure out how many characters to extract.\n-\t    int_type __num = static_cast<int_type>(__in.width());\n-\t    if (__num <= 0)\n-\t      __num = basic_string<_CharT, _Traits>::npos;\n+\t    streamsize __num = __in.width();\n+\t    if (__num == 0)\n+\t      __num = numeric_limits<streamsize>::max();\n \n \t    __streambuf_type* __sb = __in.rdbuf();\n \t    const __ctype_type* __ctype = __in._M_get_fctype_ios();"}, {"sha": "30a449979c88828d4258dc76bba209af8fc7c69e", "filename": "libstdc++-v3/testsuite/27_io/streambuf.cc", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e061da69187b6f2eb49e8513ee380dc3295f94a/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fstreambuf.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e061da69187b6f2eb49e8513ee380dc3295f94a/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fstreambuf.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fstreambuf.cc?ref=0e061da69187b6f2eb49e8513ee380dc3295f94a", "patch": "@@ -326,6 +326,17 @@ void test05()\n     nsp.sputc('a');\n }\n \n+// test06\n+// XXX this should work, doesn't due to compiler limitations.\n+#if 0\n+namespace gnu \n+{\n+  class something_derived;\n+}\n+\n+class gnu::something_derived : std::streambuf { };\n+#endif\n+\n int main() \n {\n   test01();"}]}