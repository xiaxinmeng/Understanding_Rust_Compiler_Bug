{"sha": "b82c4660a5f2cdd720d5b68c29006294245d75c7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjgyYzQ2NjBhNWYyY2RkNzIwZDViNjhjMjkwMDYyOTQyNDVkNzVjNw==", "commit": {"author": {"name": "Carlo Wood", "email": "carlo@alinoe.com", "date": "2003-09-29T23:09:12Z"}, "committer": {"name": "Carlo Wood", "email": "carlo@gcc.gnu.org", "date": "2003-09-29T23:09:12Z"}, "message": "re PR debug/12319 (Wrong DW_AT_low_pc and DW_AT_high_pc for DW_TAG_inlined_subroutine)\n\nPR debug/12319\n* cfglayout.c (insn_scope):  Use prologue_locator and\nepilogue_locator; return the outer function scope for\npro- and epilogue insns.\n\nFrom-SVN: r71926", "tree": {"sha": "c72cbbd2ca46ce5cae76146e9dad49e168fb7c79", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c72cbbd2ca46ce5cae76146e9dad49e168fb7c79"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b82c4660a5f2cdd720d5b68c29006294245d75c7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b82c4660a5f2cdd720d5b68c29006294245d75c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b82c4660a5f2cdd720d5b68c29006294245d75c7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b82c4660a5f2cdd720d5b68c29006294245d75c7/comments", "author": {"login": "CarloWood", "id": 590303, "node_id": "MDQ6VXNlcjU5MDMwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/590303?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CarloWood", "html_url": "https://github.com/CarloWood", "followers_url": "https://api.github.com/users/CarloWood/followers", "following_url": "https://api.github.com/users/CarloWood/following{/other_user}", "gists_url": "https://api.github.com/users/CarloWood/gists{/gist_id}", "starred_url": "https://api.github.com/users/CarloWood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CarloWood/subscriptions", "organizations_url": "https://api.github.com/users/CarloWood/orgs", "repos_url": "https://api.github.com/users/CarloWood/repos", "events_url": "https://api.github.com/users/CarloWood/events{/privacy}", "received_events_url": "https://api.github.com/users/CarloWood/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6fe2eacc481af458ce1001ef56cf70e21825f1f0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6fe2eacc481af458ce1001ef56cf70e21825f1f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6fe2eacc481af458ce1001ef56cf70e21825f1f0"}], "stats": {"total": 19, "additions": 19, "deletions": 0}, "files": [{"sha": "c2f690187e832f32aaf18f510489ace588fce282", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b82c4660a5f2cdd720d5b68c29006294245d75c7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b82c4660a5f2cdd720d5b68c29006294245d75c7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b82c4660a5f2cdd720d5b68c29006294245d75c7", "patch": "@@ -1,3 +1,10 @@\n+2003-09-30  Carlo Wood  <carlo@alinoe.com>\n+\n+\tPR debug/12319\n+        * cfglayout.c (insn_scope):  Use prologue_locator and\n+\tepilogue_locator; return the outer function scope for\n+\tpro- and epilogue insns.\n+\n 2003-09-29  Zack Weinberg  <zack@codesourcery.com>\n \n \t* objc/objc-act.c (encode_type): Encode INTEGER_TYPEs and"}, {"sha": "f713eb16651facfb5f8d51e9b236d2351b642091", "filename": "gcc/cfglayout.c", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b82c4660a5f2cdd720d5b68c29006294245d75c7/gcc%2Fcfglayout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b82c4660a5f2cdd720d5b68c29006294245d75c7/gcc%2Fcfglayout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfglayout.c?ref=b82c4660a5f2cdd720d5b68c29006294245d75c7", "patch": "@@ -415,6 +415,18 @@ insn_scope (rtx insn)\n   int min = 0;\n   int loc = INSN_LOCATOR (insn);\n \n+  /* When block_locators_locs was initialized, the pro- and epilogue\n+     insns didn't exist yet and can therefore not be found this way.\n+     But we know that they belong to the outer most block of the\n+     current function.\n+     Without this test, the prologue would be put inside the block of\n+     the first valid instruction in the function and when that first\n+     insn is part of an inlined function then the low_pc of that\n+     inlined function is messed up.  Likewise for the epilogue and\n+     the last valid instruction. */\n+  if (loc == prologue_locator || loc == epilogue_locator)\n+    return DECL_INITIAL (cfun->decl);\n+\n   if (!max || !loc)\n     return NULL;\n   while (1)"}]}