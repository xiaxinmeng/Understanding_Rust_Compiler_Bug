{"sha": "bcd7edfe5ee015bf0975d934a7a9924041be7b0f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmNkN2VkZmU1ZWUwMTViZjA5NzVkOTM0YTdhOTkyNDA0MWJlN2IwZg==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernds@redhat.com", "date": "2001-02-07T10:24:22Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2001-02-07T10:24:22Z"}, "message": "Avoid scheduling builtin setjmp receivers\n\nFrom-SVN: r39515", "tree": {"sha": "b23d5df0e9bf6fbfdad54bc32f946648fd2b7011", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b23d5df0e9bf6fbfdad54bc32f946648fd2b7011"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bcd7edfe5ee015bf0975d934a7a9924041be7b0f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bcd7edfe5ee015bf0975d934a7a9924041be7b0f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bcd7edfe5ee015bf0975d934a7a9924041be7b0f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bcd7edfe5ee015bf0975d934a7a9924041be7b0f/comments", "author": null, "committer": null, "parents": [{"sha": "b3eda2ff9c86c4199ce423e3ee35188471f5f8a6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3eda2ff9c86c4199ce423e3ee35188471f5f8a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3eda2ff9c86c4199ce423e3ee35188471f5f8a6"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "baa60ba67786424ee0df347fc8dfa6f535a68657", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bcd7edfe5ee015bf0975d934a7a9924041be7b0f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bcd7edfe5ee015bf0975d934a7a9924041be7b0f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bcd7edfe5ee015bf0975d934a7a9924041be7b0f", "patch": "@@ -1,3 +1,8 @@\n+2001-02-07  Bernd Schmidt  <bernds@redhat.com>\n+\n+\t* builtins.c (expand_builtin_setjmp_receiver): Emit an ASM_INPUT as\n+\ta scheduling barrier at the end.\n+\n 2001-02-07  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* config/sh/sh.md (reload_outsf): Removed."}, {"sha": "3dedc5b336aa7361cb62d5040271c11a27e5f4fb", "filename": "gcc/builtins.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bcd7edfe5ee015bf0975d934a7a9924041be7b0f/gcc%2Fbuiltins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bcd7edfe5ee015bf0975d934a7a9924041be7b0f/gcc%2Fbuiltins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.c?ref=bcd7edfe5ee015bf0975d934a7a9924041be7b0f", "patch": "@@ -581,6 +581,13 @@ expand_builtin_setjmp_receiver (receiver_label)\n     else\n #endif\n       { /* Nothing */ }\n+\n+  /* @@@ This is a kludge.  Not all machine descriptions define a blockage\n+     insn, but we must not allow the code we just generated to be reordered\n+     by scheduling.  Specifically, the update of the frame pointer must\n+     happen immediately, not later.  So emit an ASM_INPUT to act as blockage\n+     insn.  */\n+  emit_insn (gen_rtx_ASM_INPUT (VOIDmode, \"\"));\n }\n \n /* __builtin_setjmp is passed a pointer to an array of five words (not"}]}