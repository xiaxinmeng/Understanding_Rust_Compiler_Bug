{"sha": "703201ea4e783cc787be9fc2077382bc5e90d697", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzAzMjAxZWE0ZTc4M2NjNzg3YmU5ZmMyMDc3MzgyYmM1ZTkwZDY5Nw==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@cs.umass.edu", "date": "2004-11-06T19:16:59Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2004-11-06T19:16:59Z"}, "message": "fold-const.c (non_lvalue): Don't construct NON_LVALUE_EXPR if we are in GIMPLE.\n\n\t* fold-const.c (non_lvalue): Don't construct NON_LVALUE_EXPR\n\tif we are in GIMPLE.\n\nFrom-SVN: r90187", "tree": {"sha": "18d4db7d94a72a005e9573b5fdcc75f34cd59b0f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/18d4db7d94a72a005e9573b5fdcc75f34cd59b0f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/703201ea4e783cc787be9fc2077382bc5e90d697", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/703201ea4e783cc787be9fc2077382bc5e90d697", "html_url": "https://github.com/Rust-GCC/gccrs/commit/703201ea4e783cc787be9fc2077382bc5e90d697", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/703201ea4e783cc787be9fc2077382bc5e90d697/comments", "author": null, "committer": null, "parents": [{"sha": "e78980b724dc1ad0689c40f5936c26356033797a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e78980b724dc1ad0689c40f5936c26356033797a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e78980b724dc1ad0689c40f5936c26356033797a"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "76bab59a888bb37a0f69e5aa07a2f9b201493451", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/703201ea4e783cc787be9fc2077382bc5e90d697/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/703201ea4e783cc787be9fc2077382bc5e90d697/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=703201ea4e783cc787be9fc2077382bc5e90d697", "patch": "@@ -1,3 +1,8 @@\n+2004-11-06  Kazu Hirata  <kazu@cs.umass.edu>\n+\n+\t* fold-const.c (non_lvalue): Don't construct NON_LVALUE_EXPR\n+\tif we are in GIMPLE.\n+\n 2004-11-06  Hans-Peter Nilsson  <hp@bitrange.com>\n \n \tPR rtl-optimization/17933"}, {"sha": "00840205979b84905828880ae58b85a99ddcce72", "filename": "gcc/fold-const.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/703201ea4e783cc787be9fc2077382bc5e90d697/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/703201ea4e783cc787be9fc2077382bc5e90d697/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=703201ea4e783cc787be9fc2077382bc5e90d697", "patch": "@@ -1978,6 +1978,11 @@ fold_convert (tree type, tree arg)\n tree\n non_lvalue (tree x)\n {\n+  /* While we are in GIMPLE, NON_LVALUE_EXPR doesn't mean anything to\n+     us.  */\n+  if (in_gimple_form)\n+    return x;\n+\n   /* We only need to wrap lvalue tree codes.  */\n   switch (TREE_CODE (x))\n   {"}]}