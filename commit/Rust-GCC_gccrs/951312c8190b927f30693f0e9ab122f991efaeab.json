{"sha": "951312c8190b927f30693f0e9ab122f991efaeab", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTUxMzEyYzgxOTBiOTI3ZjMwNjkzZjBlOWFiMTIyZjk5MWVmYWVhYg==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2003-03-20T02:30:42Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2003-03-20T02:30:42Z"}, "message": "atomicity.h (__exchange_and_add, [...]): Only .set mips2 for the o32 ABI.\n\n* config/cpu/mips/atomicity.h (__exchange_and_add, __atomic_add):\nOnly .set mips2 for the o32 ABI.\n\nFrom-SVN: r64604", "tree": {"sha": "548e4002de23467f30bee91264c5d12ec021db38", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/548e4002de23467f30bee91264c5d12ec021db38"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/951312c8190b927f30693f0e9ab122f991efaeab", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/951312c8190b927f30693f0e9ab122f991efaeab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/951312c8190b927f30693f0e9ab122f991efaeab", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/951312c8190b927f30693f0e9ab122f991efaeab/comments", "author": null, "committer": null, "parents": [{"sha": "7e9268dbee9c162d649efb285c5822785ac84635", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e9268dbee9c162d649efb285c5822785ac84635", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7e9268dbee9c162d649efb285c5822785ac84635"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "1d7d2d84aef1c52aa62d1a8b947f4ef22917114e", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/951312c8190b927f30693f0e9ab122f991efaeab/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/951312c8190b927f30693f0e9ab122f991efaeab/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=951312c8190b927f30693f0e9ab122f991efaeab", "patch": "@@ -1,3 +1,8 @@\n+2003-03-19  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* config/cpu/mips/atomicity.h (__exchange_and_add, __atomic_add):\n+\tOnly .set mips2 for the o32 ABI.\n+\n 2003-03-19  Paolo Carlini  <pcarlini@unitus.it>\n \n \t* testsuite/21_strings/char_traits/requirements/char/1.cc:"}, {"sha": "098d06309ace7e58d2ba2dd89f00122948e015bb", "filename": "libstdc++-v3/config/cpu/mips/atomicity.h", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/951312c8190b927f30693f0e9ab122f991efaeab/libstdc%2B%2B-v3%2Fconfig%2Fcpu%2Fmips%2Fatomicity.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/951312c8190b927f30693f0e9ab122f991efaeab/libstdc%2B%2B-v3%2Fconfig%2Fcpu%2Fmips%2Fatomicity.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fcpu%2Fmips%2Fatomicity.h?ref=951312c8190b927f30693f0e9ab122f991efaeab", "patch": "@@ -1,6 +1,6 @@\n // Low-level functions for atomic operations.\n \n-// Copyright (C) 2001, 2002 Free Software Foundation, Inc.\n+// Copyright (C) 2001, 2002, 2003 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -42,7 +42,9 @@ __exchange_and_add (volatile _Atomic_word *__mem, int __val)\n     (\"/* Inline exchange & add */\\n\\t\"\n      \"1:\\n\\t\"\n      \".set\tpush\\n\\t\"\n+#if _MIPS_SIM == _MIPS_SIM_ABI32\n      \".set\tmips2\\n\\t\"\n+#endif\n      \"ll\t%0,%3\\n\\t\"\n      \"addu\t%1,%4,%0\\n\\t\"\n      \"sc\t%1,%2\\n\\t\"\n@@ -66,7 +68,9 @@ __atomic_add (volatile _Atomic_word *__mem, int __val)\n     (\"/* Inline atomic add */\\n\\t\"\n      \"1:\\n\\t\"\n      \".set\tpush\\n\\t\"\n+#if _MIPS_SIM == _MIPS_SIM_ABI32\n      \".set\tmips2\\n\\t\"\n+#endif\n      \"ll\t%0,%2\\n\\t\"\n      \"addu\t%0,%3,%0\\n\\t\"\n      \"sc\t%0,%1\\n\\t\""}]}