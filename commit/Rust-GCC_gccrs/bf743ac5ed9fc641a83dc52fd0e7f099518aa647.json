{"sha": "bf743ac5ed9fc641a83dc52fd0e7f099518aa647", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmY3NDNhYzVlZDlmYzY0MWE4M2RjNTJmZDBlN2YwOTk1MThhYTY0Nw==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-01-28T00:22:17Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-01-28T00:22:17Z"}, "message": "(compare_from_rtx): Only swap operand if first is a constant and\nsecond is not.\n\nFrom-SVN: r3370", "tree": {"sha": "2b5c7ad54ea13220edfae3d661ef421c23629146", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2b5c7ad54ea13220edfae3d661ef421c23629146"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bf743ac5ed9fc641a83dc52fd0e7f099518aa647", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf743ac5ed9fc641a83dc52fd0e7f099518aa647", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bf743ac5ed9fc641a83dc52fd0e7f099518aa647", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf743ac5ed9fc641a83dc52fd0e7f099518aa647/comments", "author": null, "committer": null, "parents": [{"sha": "c81fe25de970cfe3e5570df9bfb5625660e723df", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c81fe25de970cfe3e5570df9bfb5625660e723df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c81fe25de970cfe3e5570df9bfb5625660e723df"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "6b4a57a35264de5ffd62c86cd216218c26ef48e9", "filename": "gcc/expr.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf743ac5ed9fc641a83dc52fd0e7f099518aa647/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf743ac5ed9fc641a83dc52fd0e7f099518aa647/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=bf743ac5ed9fc641a83dc52fd0e7f099518aa647", "patch": "@@ -7116,9 +7116,11 @@ compare_from_rtx (op0, op1, code, unsignedp, mode, size, align)\n {\n   rtx tem;\n \n-  /* If one operand is constant, make it the second one.  */\n+  /* If one operand is constant, make it the second one.  Only do this\n+     if the other operand is not constant as well.  */\n \n-  if (GET_CODE (op0) == CONST_INT || GET_CODE (op0) == CONST_DOUBLE)\n+  if ((CONSTANT_P (op0) && ! CONSTANT_P (op1))\n+      || (GET_CODE (op0) == CONST_INT && GET_CODE (op1) != CONST_INT))\n     {\n       tem = op0;\n       op0 = op1;"}]}