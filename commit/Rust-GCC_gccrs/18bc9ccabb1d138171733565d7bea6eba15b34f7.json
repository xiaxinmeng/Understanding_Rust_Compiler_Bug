{"sha": "18bc9ccabb1d138171733565d7bea6eba15b34f7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MThiYzljY2FiYjFkMTM4MTcxNzMzNTY1ZDdiZWE2ZWJhMTViMzRmNw==", "commit": {"author": {"name": "Samuel Tardieu", "email": "sam@rfc1149.net", "date": "2007-12-27T13:04:14Z"}, "committer": {"name": "Samuel Tardieu", "email": "sam@gcc.gnu.org", "date": "2007-12-27T13:04:14Z"}, "message": "re PR ada/34553 (Unsafe calls to mktemp and tmpname)\n\n    gcc/ada/\n\tPR ada/34553\n\t* adaint.c (__gnat_open_new_temp, __gnat_tmp_name): Use mkstemp()\n\tinstead of mktemp() or tmpnam() on NetBSD.\n\nFrom-SVN: r131201", "tree": {"sha": "b1d2ee6448a086ef5fc45cd56d440b21b96d1e11", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b1d2ee6448a086ef5fc45cd56d440b21b96d1e11"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/18bc9ccabb1d138171733565d7bea6eba15b34f7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18bc9ccabb1d138171733565d7bea6eba15b34f7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/18bc9ccabb1d138171733565d7bea6eba15b34f7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18bc9ccabb1d138171733565d7bea6eba15b34f7/comments", "author": {"login": "samueltardieu", "id": 44656, "node_id": "MDQ6VXNlcjQ0NjU2", "avatar_url": "https://avatars.githubusercontent.com/u/44656?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samueltardieu", "html_url": "https://github.com/samueltardieu", "followers_url": "https://api.github.com/users/samueltardieu/followers", "following_url": "https://api.github.com/users/samueltardieu/following{/other_user}", "gists_url": "https://api.github.com/users/samueltardieu/gists{/gist_id}", "starred_url": "https://api.github.com/users/samueltardieu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samueltardieu/subscriptions", "organizations_url": "https://api.github.com/users/samueltardieu/orgs", "repos_url": "https://api.github.com/users/samueltardieu/repos", "events_url": "https://api.github.com/users/samueltardieu/events{/privacy}", "received_events_url": "https://api.github.com/users/samueltardieu/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "83588991c1d625a7127af35abeee9b094df95dc6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83588991c1d625a7127af35abeee9b094df95dc6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/83588991c1d625a7127af35abeee9b094df95dc6"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "5c260387cebb65845c65df867706e0f0f70a67e1", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18bc9ccabb1d138171733565d7bea6eba15b34f7/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18bc9ccabb1d138171733565d7bea6eba15b34f7/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=18bc9ccabb1d138171733565d7bea6eba15b34f7", "patch": "@@ -1,3 +1,9 @@\n+2007-12-27  Samuel Tardieu  <sam@rfc1149.net>\n+\n+\tPR ada/34553\n+\t* adaint.c (__gnat_open_new_temp, __gnat_tmp_name): Use mkstemp()\n+\tinstead of mktemp() or tmpnam() on NetBSD.\n+\n 2007-12-23  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* trans.c (call_to_gnu): Make the temporary for non-addressable"}, {"sha": "1556b28ffdf303c5ff3970a82e0db5f8aa9e4a11", "filename": "gcc/ada/adaint.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18bc9ccabb1d138171733565d7bea6eba15b34f7/gcc%2Fada%2Fadaint.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18bc9ccabb1d138171733565d7bea6eba15b34f7/gcc%2Fada%2Fadaint.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fadaint.c?ref=18bc9ccabb1d138171733565d7bea6eba15b34f7", "patch": "@@ -887,7 +887,8 @@ __gnat_open_new_temp (char *path, int fmode)\n \n   strcpy (path, \"GNAT-XXXXXX\");\n \n-#if (defined (__FreeBSD__) || defined (linux)) && !defined (__vxworks)\n+#if (defined (__FreeBSD__) || defined (__NetBSD__) || defined (linux)) && \\\n+  !defined (__vxworks)\n   return mkstemp (path);\n #elif defined (__Lynx__)\n   mktemp (path);\n@@ -979,7 +980,7 @@ __gnat_tmp_name (char *tmp_filename)\n     free (pname);\n   }\n \n-#elif defined (linux) || defined (__FreeBSD__)\n+#elif defined (linux) || defined (__FreeBSD__) || defined (__NetBSD__)\n #define MAX_SAFE_PATH 1000\n   char *tmpdir = getenv (\"TMPDIR\");\n "}]}