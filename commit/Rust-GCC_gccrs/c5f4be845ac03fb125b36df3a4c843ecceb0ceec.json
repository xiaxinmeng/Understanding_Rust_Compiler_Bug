{"sha": "c5f4be845ac03fb125b36df3a4c843ecceb0ceec", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzVmNGJlODQ1YWMwM2ZiMTI1YjM2ZGYzYTRjODQzZWNjZWIwY2VlYw==", "commit": {"author": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2013-01-31T20:16:07Z"}, "committer": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2013-01-31T20:16:07Z"}, "message": "re PR c/56113 (out of memory when compiling a function with many goto labels (50k > ))\n\n\tPR middle-end/56113\n\t* fwprop.c (fwprop_init): Set up loops without CFG modifications.\n\nFrom-SVN: r195632", "tree": {"sha": "139f3a4ed01812de1a59d784b01a1469f698cd0e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/139f3a4ed01812de1a59d784b01a1469f698cd0e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c5f4be845ac03fb125b36df3a4c843ecceb0ceec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c5f4be845ac03fb125b36df3a4c843ecceb0ceec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c5f4be845ac03fb125b36df3a4c843ecceb0ceec", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c5f4be845ac03fb125b36df3a4c843ecceb0ceec/comments", "author": null, "committer": null, "parents": [{"sha": "7c81527e48c72ac3409f3bf848eca64bf69015e5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c81527e48c72ac3409f3bf848eca64bf69015e5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c81527e48c72ac3409f3bf848eca64bf69015e5"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "b8b116a1a0f834ec44789cd7a15bbd4442063b32", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c5f4be845ac03fb125b36df3a4c843ecceb0ceec/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c5f4be845ac03fb125b36df3a4c843ecceb0ceec/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c5f4be845ac03fb125b36df3a4c843ecceb0ceec", "patch": "@@ -1,3 +1,8 @@\n+2013-01-31  Steven Bosscher  <steven@gcc.gnu.org>\n+\n+\tPR middle-end/56113\n+\t* fwprop.c (fwprop_init): Set up loops without CFG modifications.\n+\n 2013-01-31  Hiroyuki Ono  <hiroyuki.ono.jc@renesas.com>\n \t    Nick Clifton  <nickc@redhat.com>\n "}, {"sha": "6a82deabfd10a0a9a828664331117b4e4e44eb0d", "filename": "gcc/fwprop.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c5f4be845ac03fb125b36df3a4c843ecceb0ceec/gcc%2Ffwprop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c5f4be845ac03fb125b36df3a4c843ecceb0ceec/gcc%2Ffwprop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffwprop.c?ref=c5f4be845ac03fb125b36df3a4c843ecceb0ceec", "patch": "@@ -1404,10 +1404,10 @@ fwprop_init (void)\n   calculate_dominance_info (CDI_DOMINATORS);\n \n   /* We do not always want to propagate into loops, so we have to find\n-     loops and be careful about them.  But we have to call flow_loops_find\n-     before df_analyze, because flow_loops_find may introduce new jump\n-     insns (sadly) if we are not working in cfglayout mode.  */\n-  loop_optimizer_init (0);\n+     loops and be careful about them.  Avoid CFG modifications so that\n+     we don't have to update dominance information afterwards for\n+     build_single_def_use_links.  */\n+  loop_optimizer_init (AVOID_CFG_MODIFICATIONS);\n \n   build_single_def_use_links ();\n   df_set_flags (DF_DEFER_INSN_RESCAN);"}]}