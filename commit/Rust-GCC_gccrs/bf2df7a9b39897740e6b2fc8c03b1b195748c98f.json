{"sha": "bf2df7a9b39897740e6b2fc8c03b1b195748c98f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmYyZGY3YTliMzk4OTc3NDBlNmIyZmM4YzAzYjFiMTk1NzQ4Yzk4Zg==", "commit": {"author": {"name": "Martin Liska", "email": "marxin@gcc.gnu.org", "date": "2016-11-24T11:26:12Z"}, "committer": {"name": "Martin Liska", "email": "marxin@gcc.gnu.org", "date": "2016-11-24T11:26:12Z"}, "message": "cp_parser_range_for: use safe_push instead of quick_push (PR\n\n\tPR bootstrap/78493\n\t* parser.c (cp_parser_range_for): Use safe_push instead of quick_push.\n\tPR bootstrap/78493\n\t* g++.dg/cpp1z/decomp18.C: New test.\n\nFrom-SVN: r242828", "tree": {"sha": "d7ecca64a0d573aae0f2467ce321f213a81c21be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d7ecca64a0d573aae0f2467ce321f213a81c21be"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bf2df7a9b39897740e6b2fc8c03b1b195748c98f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf2df7a9b39897740e6b2fc8c03b1b195748c98f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bf2df7a9b39897740e6b2fc8c03b1b195748c98f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf2df7a9b39897740e6b2fc8c03b1b195748c98f/comments", "author": null, "committer": null, "parents": [{"sha": "adf86091b134fdfa5aadfd3d2b375f63a50d4ca8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/adf86091b134fdfa5aadfd3d2b375f63a50d4ca8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/adf86091b134fdfa5aadfd3d2b375f63a50d4ca8"}], "stats": {"total": 30, "additions": 26, "deletions": 4}, "files": [{"sha": "20b356ff3dbe5b07dfcd11d121c88be11dd53efd", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf2df7a9b39897740e6b2fc8c03b1b195748c98f/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf2df7a9b39897740e6b2fc8c03b1b195748c98f/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=bf2df7a9b39897740e6b2fc8c03b1b195748c98f", "patch": "@@ -1,3 +1,8 @@\n+2016-11-24  Martin Liska  <mliska@suse.cz>\n+\n+\tPR bootstrap/78493\n+\t* parser.c (cp_parser_range_for): Use safe_push instead of quick_push.\n+\n 2016-11-23  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c++/77907"}, {"sha": "843cbe2849404b193534090793c1204a2442417a", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf2df7a9b39897740e6b2fc8c03b1b195748c98f/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf2df7a9b39897740e6b2fc8c03b1b195748c98f/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=bf2df7a9b39897740e6b2fc8c03b1b195748c98f", "patch": "@@ -11503,8 +11503,8 @@ cp_parser_range_for (cp_parser *parser, tree scope, tree init, tree range_decl,\n \t      for (unsigned int i = 0; i < decomp_cnt; i++, d = DECL_CHAIN (d))\n \t\t{\n \t\t  tree name = DECL_NAME (d);\n-\t\t  names.quick_push (name);\n-\t\t  bindings.quick_push (IDENTIFIER_BINDING (name));\n+\t\t  names.safe_push (name);\n+\t\t  bindings.safe_push (IDENTIFIER_BINDING (name));\n \t\t  IDENTIFIER_BINDING (name)\n \t\t    = IDENTIFIER_BINDING (name)->previous;\n \t\t}\n@@ -11513,8 +11513,8 @@ cp_parser_range_for (cp_parser *parser, tree scope, tree init, tree range_decl,\n       if (names.is_empty ())\n \t{\n \t  tree name = DECL_NAME (range_decl);\n-\t  names.quick_push (name);\n-\t  bindings.quick_push (IDENTIFIER_BINDING (name));\n+\t  names.safe_push (name);\n+\t  bindings.safe_push (IDENTIFIER_BINDING (name));\n \t  IDENTIFIER_BINDING (name) = IDENTIFIER_BINDING (name)->previous;\n \t}\n     }"}, {"sha": "99412e21d469d181b11c6ad1c6352777e7b4bc35", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf2df7a9b39897740e6b2fc8c03b1b195748c98f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf2df7a9b39897740e6b2fc8c03b1b195748c98f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=bf2df7a9b39897740e6b2fc8c03b1b195748c98f", "patch": "@@ -1,3 +1,8 @@\n+2016-11-24  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR bootstrap/78493\n+\t* g++.dg/cpp1z/decomp18.C: New test.\n+\n 2016-11-23  Naveen H.S  <Naveen.Hurugalawadi@caviumnetworks.com>\n \n \t* gcc.target/aarch64/ldp_stp_1.c : Add -mcpu=generic."}, {"sha": "d5c68a26891ddd11e2a42cd598c7378a7b1af402", "filename": "gcc/testsuite/g++.dg/cpp1z/decomp18.C", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf2df7a9b39897740e6b2fc8c03b1b195748c98f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Fdecomp18.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf2df7a9b39897740e6b2fc8c03b1b195748c98f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Fdecomp18.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Fdecomp18.C?ref=bf2df7a9b39897740e6b2fc8c03b1b195748c98f", "patch": "@@ -0,0 +1,12 @@\n+// { dg-do compile { target c++11 } }\n+// { dg-options \"\" }\n+\n+struct A { char a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r; } a[64];\n+\n+void\n+foo ()\n+{\n+  int z = 0;\n+  for (auto & [ b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s ] : a)\t// { dg-warning \"decomposition declaration only available with\" \"\" { target c++14_down } }\n+    z += b + c + d + e + f + g + h + i + j + k + l + m + n + o + p + q + r + s;\n+}"}]}