{"sha": "a688adc783671b2c37665f866fbc9e519c0ba376", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTY4OGFkYzc4MzY3MWIyYzM3NjY1Zjg2NmZiYzllNTE5YzBiYTM3Ng==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1995-12-04T01:58:44Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1995-12-04T01:58:44Z"}, "message": "pa.h (ASM_OUTPUT_FUNCTION_PREFIX): Handle arbitrary sections.\n\n        * pa.h (ASM_OUTPUT_FUNCTION_PREFIX): Handle arbitrary sections.\n        (ASM_OUTPUT_SECTION_NAME): Define.\n\nFrom-SVN: r10667", "tree": {"sha": "5ac2562ddc25df4baf03f0c5f6c19a94cfbe9690", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5ac2562ddc25df4baf03f0c5f6c19a94cfbe9690"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a688adc783671b2c37665f866fbc9e519c0ba376", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a688adc783671b2c37665f866fbc9e519c0ba376", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a688adc783671b2c37665f866fbc9e519c0ba376", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a688adc783671b2c37665f866fbc9e519c0ba376/comments", "author": null, "committer": null, "parents": [{"sha": "8b68935bb75a13ef98360d79fde7488805b29c2d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b68935bb75a13ef98360d79fde7488805b29c2d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8b68935bb75a13ef98360d79fde7488805b29c2d"}], "stats": {"total": 33, "additions": 32, "deletions": 1}, "files": [{"sha": "c3952018c51a9a921c26800346835690addde578", "filename": "gcc/config/pa/pa.h", "status": "modified", "additions": 32, "deletions": 1, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a688adc783671b2c37665f866fbc9e519c0ba376/gcc%2Fconfig%2Fpa%2Fpa.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a688adc783671b2c37665f866fbc9e519c0ba376/gcc%2Fconfig%2Fpa%2Fpa.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.h?ref=a688adc783671b2c37665f866fbc9e519c0ba376", "patch": "@@ -1016,7 +1016,10 @@ extern enum cmp_type hppa_branch_type;\n \n #define ASM_OUTPUT_FUNCTION_PREFIX(FILE, NAME) \\\n   if (!TARGET_PORTABLE_RUNTIME && TARGET_GAS && in_section == in_text) \\\n-    fputs (\"\\t.NSUBSPA $CODE$,QUAD=0,ALIGN=8,ACCESS=44,CODE_ONLY\\n\", FILE);\n+    fputs (\"\\t.NSUBSPA $CODE$,QUAD=0,ALIGN=8,ACCESS=44,CODE_ONLY\\n\", FILE); \\\n+  else if (TARGET_PORTABLE_RUNTIME && TARGET_GAS)\t\t\t\\\n+    fprintf (FILE,\t\t\t\t\t\t\t\\\n+\t     \"\\t.SUBSPA $%s$\\n\", NAME);\n     \n #define ASM_DECLARE_FUNCTION_NAME(FILE, NAME, DECL) \\\n     do { tree fntype = TREE_TYPE (TREE_TYPE (DECL));\t\t\t\\\n@@ -1815,6 +1818,34 @@ do { fputs (\"\\t.SPACE $PRIVATE$\\n\\\n #define EXTRA_SECTIONS in_bss, in_readonly_data, in_ctors, in_dtors\n #endif\n \n+/* Switch into a generic section.\n+   This is currently only used to support section attributes.\n+\n+   We make the section read-only and executable for a function decl,\n+   read-only for a const data decl, and writable for a non-const data decl.  */\n+#define ASM_OUTPUT_SECTION_NAME(FILE, DECL, NAME) \\\n+  if (DECL && TREE_CODE (DECL) == FUNCTION_DECL)\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      fputs (\"\\t.SPACE $TEXT$\\n\", FILE);\t\t\t\\\n+      fprintf (FILE,\t\t\t\t\t\t\\\n+\t       \"\\t.SUBSPA $%s$,QUAD=0,ALIGN=8,ACCESS=44,CODE_ONLY,SORT=24\\n\", \\\n+\t       NAME);\t\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\\\n+  else if (DECL && TREE_READONLY (DECL))\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      fputs (\"\\t.SPACE $TEXT$\\n\", FILE);\t\t\t\\\n+      fprintf (FILE,\t\t\t\t\t\t\\\n+\t       \"\\t.SUBSPA $%s$,QUAD=0,ALIGN=8,ACCESS=44,SORT=16\\n\", \\\n+\t       NAME);\t\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\\\n+  else\t\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      fputs (\"\\t.SPACE $PRIVATE$\\n\", FILE);\t\t\t\\\n+      fprintf (FILE,\t\t\t\t\t\t\\\n+\t       \"\\t.SUBSPA $%s$,QUAD=1,ALIGN=8,ACCESS=31,SORT=16\\n\", \\\n+\t       NAME);\t\t\t\t\t\t\\\n+    }\n+\n /* FIXME: HPUX ld generates incorrect GOT entries for \"T\" fixups\n    which reference data within the $TEXT$ space (for example constant\n    strings in the $LIT$ subspace)."}]}