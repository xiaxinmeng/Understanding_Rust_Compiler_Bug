{"sha": "720981287ad1de4e5763c2787220cbf788c22eaa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzIwOTgxMjg3YWQxZGU0ZTU3NjNjMjc4NzIyMGNiZjc4OGMyMmVhYQ==", "commit": {"author": {"name": "James E Wilson", "email": "wilson@specifixinc.com", "date": "2005-11-03T22:13:03Z"}, "committer": {"name": "Laurent Guerby", "email": "guerby@gcc.gnu.org", "date": "2005-11-03T22:13:03Z"}, "message": "re PR ada/23427 (latent bug with array type size check)\n\n2005-11-03  James E Wilson  <wilson@specifix.com>\n\n\tPR ada/23427\n        * trans.c (gnat_to_gnu): Use TYPE_SIZE_UNIT not TYPE_SIZE in\n        TREE_OVERFLOW check.\n\nFrom-SVN: r106452", "tree": {"sha": "4f2019b171e1a4b825fa2f3f83eaeee2ee9835bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4f2019b171e1a4b825fa2f3f83eaeee2ee9835bb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/720981287ad1de4e5763c2787220cbf788c22eaa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/720981287ad1de4e5763c2787220cbf788c22eaa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/720981287ad1de4e5763c2787220cbf788c22eaa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/720981287ad1de4e5763c2787220cbf788c22eaa/comments", "author": null, "committer": null, "parents": [{"sha": "f2bd1eb944f85f1bc930791445213f4ce8fae773", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2bd1eb944f85f1bc930791445213f4ce8fae773", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f2bd1eb944f85f1bc930791445213f4ce8fae773"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "3239df20cd4898fe7e9ceb79d1178f2d2410bbbb", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/720981287ad1de4e5763c2787220cbf788c22eaa/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/720981287ad1de4e5763c2787220cbf788c22eaa/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=720981287ad1de4e5763c2787220cbf788c22eaa", "patch": "@@ -1,3 +1,9 @@\n+2005-11-03  James E Wilson  <wilson@specifix.com>\n+\n+\tPR ada/23427\n+        * trans.c (gnat_to_gnu): Use TYPE_SIZE_UNIT not TYPE_SIZE in\n+        TREE_OVERFLOW check.\n+\n 2005-09-21  Olivier Hainque  <hainque@adacore.com>\n \n \tPR ada/22418"}, {"sha": "cd91a368328fcbadb7ef792dd9ea8decea65cf64", "filename": "gcc/ada/trans.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/720981287ad1de4e5763c2787220cbf788c22eaa/gcc%2Fada%2Ftrans.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/720981287ad1de4e5763c2787220cbf788c22eaa/gcc%2Fada%2Ftrans.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ftrans.c?ref=720981287ad1de4e5763c2787220cbf788c22eaa", "patch": "@@ -3423,8 +3423,8 @@ gnat_to_gnu (Node_Id gnat_node)\n \n       /* If the type has a size that overflows, convert this into raise of\n \t Storage_Error: execution shouldn't have gotten here anyway.  */\n-      if (TREE_CODE (TYPE_SIZE (TREE_TYPE (gnu_lhs))) == INTEGER_CST\n-\t   && TREE_OVERFLOW (TYPE_SIZE (TREE_TYPE (gnu_lhs))))\n+      if (TREE_CODE (TYPE_SIZE_UNIT (TREE_TYPE (gnu_lhs))) == INTEGER_CST\n+\t  && TREE_OVERFLOW (TYPE_SIZE_UNIT (TREE_TYPE (gnu_lhs))))\n \tgnu_result = build_call_raise (SE_Object_Too_Large);\n       else if (Nkind (Expression (gnat_node)) == N_Function_Call\n \t       && !Do_Range_Check (Expression (gnat_node)))"}]}