{"sha": "c8b90a13c729f6fb33a97c4f4cd8116e5ef7fdf1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzhiOTBhMTNjNzI5ZjZmYjMzYTk3YzRmNGNkODExNmU1ZWY3ZmRmMQ==", "commit": {"author": {"name": "Segher Boessenkool", "email": "segher@kernel.crashing.org", "date": "2015-01-22T00:35:44Z"}, "committer": {"name": "Segher Boessenkool", "email": "segher@gcc.gnu.org", "date": "2015-01-22T00:35:44Z"}, "message": "re PR rtl-optimization/64682 (wrong code at -O2 and -O3 on x86_64-linux-gnu)\n\n\tPR rtl-optimization/64682\n\t* combine.c (distribute_notes): When moving a death note for\n\ta register that is set in the new I2, make sure to put it\n\tbefore that new I2.\n\n\tPR rtl-optimization/64682\n\t* gcc.c-torture/execute/pr64682.c: New file.\n\nFrom-SVN: r219981", "tree": {"sha": "c47c1b96b38857c0eb607f3b89455c8b7cd40939", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c47c1b96b38857c0eb607f3b89455c8b7cd40939"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c8b90a13c729f6fb33a97c4f4cd8116e5ef7fdf1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8b90a13c729f6fb33a97c4f4cd8116e5ef7fdf1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c8b90a13c729f6fb33a97c4f4cd8116e5ef7fdf1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8b90a13c729f6fb33a97c4f4cd8116e5ef7fdf1/comments", "author": {"login": "segher", "id": 417629, "node_id": "MDQ6VXNlcjQxNzYyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/417629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/segher", "html_url": "https://github.com/segher", "followers_url": "https://api.github.com/users/segher/followers", "following_url": "https://api.github.com/users/segher/following{/other_user}", "gists_url": "https://api.github.com/users/segher/gists{/gist_id}", "starred_url": "https://api.github.com/users/segher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/segher/subscriptions", "organizations_url": "https://api.github.com/users/segher/orgs", "repos_url": "https://api.github.com/users/segher/repos", "events_url": "https://api.github.com/users/segher/events{/privacy}", "received_events_url": "https://api.github.com/users/segher/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a393438f272e85f4ec2b69dce9e82448312d4bce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a393438f272e85f4ec2b69dce9e82448312d4bce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a393438f272e85f4ec2b69dce9e82448312d4bce"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "c292bfc1b8c0b8e6b2f051f9ea12ee2990c3212a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8b90a13c729f6fb33a97c4f4cd8116e5ef7fdf1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8b90a13c729f6fb33a97c4f4cd8116e5ef7fdf1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c8b90a13c729f6fb33a97c4f4cd8116e5ef7fdf1", "patch": "@@ -1,3 +1,10 @@\n+2015-01-21  Segher Boessenkool  <segher@kernel.crashing.org>\n+\n+\tPR rtl-optimization/64682\n+\t* combine.c (distribute_notes): When moving a death note for\n+\ta register that is set in the new I2, make sure to put it\n+\tbefore that new I2.\n+\n 2015-01-21  David Edelsohn  <dje.gcc@gmail.com>\n \n \t* config/rs6000/rs6000.c (rs6000_file_start): Use rs6000_isa_flags"}, {"sha": "5c763b4a1d5c3f5680708d4e81baac3972437925", "filename": "gcc/combine.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8b90a13c729f6fb33a97c4f4cd8116e5ef7fdf1/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8b90a13c729f6fb33a97c4f4cd8116e5ef7fdf1/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=c8b90a13c729f6fb33a97c4f4cd8116e5ef7fdf1", "patch": "@@ -13684,6 +13684,11 @@ distribute_notes (rtx notes, rtx_insn *from_insn, rtx_insn *i3, rtx_insn *i2,\n \t\t       || rtx_equal_p (XEXP (note, 0), elim_i0))\n \t\tbreak;\n \t      tem_insn = i3;\n+\t      /* If the new I2 sets the same register that is marked dead\n+\t\t in the note, the note now should not be put on I2, as the\n+\t\t note refers to a previous incarnation of the reg.  */\n+\t      if (i2 != 0 && reg_set_p (XEXP (note, 0), PATTERN (i2)))\n+\t\ttem_insn = i2;\n \t    }\n \n \t  if (place == 0)"}, {"sha": "2a54aff7fca4df441b73dad538a0a42be1431b03", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8b90a13c729f6fb33a97c4f4cd8116e5ef7fdf1/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8b90a13c729f6fb33a97c4f4cd8116e5ef7fdf1/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c8b90a13c729f6fb33a97c4f4cd8116e5ef7fdf1", "patch": "@@ -1,3 +1,8 @@\n+2015-01-21  Segher Boessenkool  <segher@kernel.crashing.org>\n+\n+\tPR rtl-optimization/64682\n+\t* gcc.c-torture/execute/pr64682.c: New file.\n+\n 2015-01-21  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR debug/64511"}]}