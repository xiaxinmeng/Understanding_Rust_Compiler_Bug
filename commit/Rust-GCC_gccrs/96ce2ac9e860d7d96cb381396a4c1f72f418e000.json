{"sha": "96ce2ac9e860d7d96cb381396a4c1f72f418e000", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTZjZTJhYzllODYwZDdkOTZjYjM4MTM5NmE0YzFmNzJmNDE4ZTAwMA==", "commit": {"author": {"name": "James E Wilson", "email": "wilson@specifixinc.com", "date": "2005-08-22T23:52:22Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "2005-08-22T23:52:22Z"}, "message": "Partial fix for too large arrays.\n\nPR tree-optimization/21105\n* decl.c (grokdeclarator): Use TYPE_SIZE_UNIT not TYPE_SIZE for\narray size check.\n\nFrom-SVN: r103363", "tree": {"sha": "331294c1c74dc846b9a76b0b2c81043ccc082808", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/331294c1c74dc846b9a76b0b2c81043ccc082808"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/96ce2ac9e860d7d96cb381396a4c1f72f418e000", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96ce2ac9e860d7d96cb381396a4c1f72f418e000", "html_url": "https://github.com/Rust-GCC/gccrs/commit/96ce2ac9e860d7d96cb381396a4c1f72f418e000", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96ce2ac9e860d7d96cb381396a4c1f72f418e000/comments", "author": null, "committer": null, "parents": [{"sha": "10cbe699ce996e5586dd69e449a828db700f910d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10cbe699ce996e5586dd69e449a828db700f910d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/10cbe699ce996e5586dd69e449a828db700f910d"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "2501f5825c4efc21b19bf0accb3ebac966d8c4aa", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96ce2ac9e860d7d96cb381396a4c1f72f418e000/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96ce2ac9e860d7d96cb381396a4c1f72f418e000/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=96ce2ac9e860d7d96cb381396a4c1f72f418e000", "patch": "@@ -1,3 +1,9 @@\n+2005-08-22  James E Wilson  <wilson@specifix.com>\n+\n+\tPR tree-optimization/21105\n+\t* decl.c (grokdeclarator): Use TYPE_SIZE_UNIT not TYPE_SIZE for\n+\tarray size check.\n+\n 2005-08-22  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n \n \tPR c++/22233"}, {"sha": "4199b241b9b80ad21c888e65a503b1e35361f6a3", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96ce2ac9e860d7d96cb381396a4c1f72f418e000/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96ce2ac9e860d7d96cb381396a4c1f72f418e000/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=96ce2ac9e860d7d96cb381396a4c1f72f418e000", "patch": "@@ -7556,8 +7556,8 @@ grokdeclarator (const cp_declarator *declarator,\n \n   if (TREE_CODE (type) == ARRAY_TYPE\n       && COMPLETE_TYPE_P (type)\n-      && TREE_CODE (TYPE_SIZE (type)) == INTEGER_CST\n-      && TREE_OVERFLOW (TYPE_SIZE (type)))\n+      && TREE_CODE (TYPE_SIZE_UNIT (type)) == INTEGER_CST\n+      && TREE_OVERFLOW (TYPE_SIZE_UNIT (type)))\n     {\n       error (\"size of array %qs is too large\", name);\n       /* If we proceed with the array type as it is, we'll eventually"}]}