{"sha": "b927dc22376b479fd49cc5488d6adc347c05a738", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjkyN2RjMjIzNzZiNDc5ZmQ0OWNjNTQ4OGQ2YWRjMzQ3YzA1YTczOA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@vlsi1.ultra.nyu.edu", "date": "2001-06-15T22:08:42Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "2001-06-15T22:08:42Z"}, "message": "* function.c (gen_mem_addressof): Handle case where DECL is SAVE_EXPR.\n\nFrom-SVN: r43408", "tree": {"sha": "e331f7ff1aa0108162768b18f93bd570fa838f40", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e331f7ff1aa0108162768b18f93bd570fa838f40"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b927dc22376b479fd49cc5488d6adc347c05a738", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b927dc22376b479fd49cc5488d6adc347c05a738", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b927dc22376b479fd49cc5488d6adc347c05a738", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b927dc22376b479fd49cc5488d6adc347c05a738/comments", "author": null, "committer": null, "parents": [{"sha": "f6261a8a6fdda7ea84b9d1ae025f57721230f21f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6261a8a6fdda7ea84b9d1ae025f57721230f21f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f6261a8a6fdda7ea84b9d1ae025f57721230f21f"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "b0704674fa5fdc30d4a92bc3c0b8b0bf6bf4d8e9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b927dc22376b479fd49cc5488d6adc347c05a738/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b927dc22376b479fd49cc5488d6adc347c05a738/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b927dc22376b479fd49cc5488d6adc347c05a738", "patch": "@@ -1,5 +1,7 @@\n Fri Jun 15 18:05:22 2001  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \n+\t* function.c (gen_mem_addressof): Handle case where DECL is SAVE_EXPR.\n+\n \t* explow.c (expr_size): If DECL and size specified, use it.\n \n 2001-06-15  Zack Weinberg  <zackw@stanford.edu>"}, {"sha": "2e493f32efdc01dd45e30d9866fa3c81e66b6ff9", "filename": "gcc/function.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b927dc22376b479fd49cc5488d6adc347c05a738/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b927dc22376b479fd49cc5488d6adc347c05a738/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=b927dc22376b479fd49cc5488d6adc347c05a738", "patch": "@@ -2873,8 +2873,11 @@ gen_mem_addressof (reg, decl)\n   if (decl)\n     {\n       tree type = TREE_TYPE (decl);\n+      enum machine_mode decl_mode\n+\t= (TREE_CODE (decl) == SAVE_EXPR ? TYPE_MODE (TREE_TYPE (decl))\n+\t   : DECL_MODE (decl));\n \n-      PUT_MODE (reg, DECL_MODE (decl));\n+      PUT_MODE (reg, decl_mode);\n       MEM_VOLATILE_P (reg) = TREE_SIDE_EFFECTS (decl);\n       MEM_SET_IN_STRUCT_P (reg, AGGREGATE_TYPE_P (type));\n       MEM_ALIAS_SET (reg) = get_alias_set (decl);"}]}