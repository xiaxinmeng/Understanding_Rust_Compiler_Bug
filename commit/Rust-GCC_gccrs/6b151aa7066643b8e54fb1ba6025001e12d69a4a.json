{"sha": "6b151aa7066643b8e54fb1ba6025001e12d69a4a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmIxNTFhYTcwNjY2NDNiOGU1NGZiMWJhNjAyNTAwMWUxMmQ2OWE0YQ==", "commit": {"author": {"name": "Bruce Korb", "email": "bkorb@gnu.org", "date": "2000-05-04T14:55:00Z"}, "committer": {"name": "Bruce Korb", "email": "korbb@gcc.gnu.org", "date": "2000-05-04T14:55:00Z"}, "message": "Remove BOGOSITY code, and Remove code for installing \"shell\" version\n\nFrom-SVN: r33669", "tree": {"sha": "f4ac64578bef6a617be2469625dc2b8798720c07", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f4ac64578bef6a617be2469625dc2b8798720c07"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6b151aa7066643b8e54fb1ba6025001e12d69a4a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b151aa7066643b8e54fb1ba6025001e12d69a4a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b151aa7066643b8e54fb1ba6025001e12d69a4a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b151aa7066643b8e54fb1ba6025001e12d69a4a/comments", "author": {"login": "brkorb", "id": 1242936, "node_id": "MDQ6VXNlcjEyNDI5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1242936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brkorb", "html_url": "https://github.com/brkorb", "followers_url": "https://api.github.com/users/brkorb/followers", "following_url": "https://api.github.com/users/brkorb/following{/other_user}", "gists_url": "https://api.github.com/users/brkorb/gists{/gist_id}", "starred_url": "https://api.github.com/users/brkorb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brkorb/subscriptions", "organizations_url": "https://api.github.com/users/brkorb/orgs", "repos_url": "https://api.github.com/users/brkorb/repos", "events_url": "https://api.github.com/users/brkorb/events{/privacy}", "received_events_url": "https://api.github.com/users/brkorb/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "872f37f91215eb7e737c4e7662aa829e6032be60", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/872f37f91215eb7e737c4e7662aa829e6032be60", "html_url": "https://github.com/Rust-GCC/gccrs/commit/872f37f91215eb7e737c4e7662aa829e6032be60"}], "stats": {"total": 110, "additions": 4, "deletions": 106}, "files": [{"sha": "60153d62e85a183260a8ad8f1f1eeb567ef828dd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b151aa7066643b8e54fb1ba6025001e12d69a4a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b151aa7066643b8e54fb1ba6025001e12d69a4a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6b151aa7066643b8e54fb1ba6025001e12d69a4a", "patch": "@@ -4,6 +4,8 @@\n \tRemove `extern double cabs' declarations from math.h\n \t* fixincl/inclhack.sh: regen\n \t* fixincl/fixincl.x: regen\n+\t* fixincl/fixincl.c: Remove BOGOSITY code\n+\t* fixincl/mkfixinc.sh: Remove code for installing \"shell\" version\n \n Thu May  4 09:45:12 2000  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n "}, {"sha": "d69368232b5aa6f2e6479fe8c91142a6a75a4ae6", "filename": "gcc/fixinc/fixincl.c", "status": "modified", "additions": 1, "deletions": 102, "changes": 103, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b151aa7066643b8e54fb1ba6025001e12d69a4a/gcc%2Ffixinc%2Ffixincl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b151aa7066643b8e54fb1ba6025001e12d69a4a/gcc%2Ffixinc%2Ffixincl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.c?ref=6b151aa7066643b8e54fb1ba6025001e12d69a4a", "patch": "@@ -33,13 +33,6 @@ Boston, MA 02111-1307, USA.  */\n \n #include \"server.h\"\n \n-#define NO_BOGOSITY\n-\n-/*  Quality Assurance Marker  :-)\n-\n-    Any file that contains this string is presumed to have\n-    been carefully constructed and will not be fixed  */\n-\n /*  The contents of this string are not very important.  It is mostly\n     just used as part of the \"I am alive and working\" test.  */\n \n@@ -244,33 +237,7 @@ main (argc, argv)\n         continue;\n       *pz_end = NUL;\n \n-#ifdef NO_BOGOSITY\n       process ();\n-#else\n-      /*  Prevent duplicate output by child process  */\n-\n-      fflush (stdout);\n-      fflush (stderr);\n-\n-      {\n-        void wait_for_pid _P_(( pid_t ));\n-        pid_t child = fork ();\n-        if (child == NULLPROCESS)\n-          {\n-            process ();\n-            return EXIT_SUCCESS;\n-          }\n-\n-        if (child == NOPROCESS)\n-          {\n-            fprintf (stderr, \"Error %d (%s) forking in main\\n\",\n-                     errno, xstrerror (errno));\n-            exit (EXIT_FAILURE);\n-          }\n-\n-        wait_for_pid( child );\n-      }\n-#endif\n     } /*  for (;;) */\n \n #ifdef DO_STATS\n@@ -302,7 +269,7 @@ do_version ()\n   */\n   run_compiles ();\n   sprintf (zBuf, zFmt, program_id);\n-  fputs (zBuf + 5, stdout);\n+  puts (zBuf + 5);\n   exit (strcmp (run_shell (zBuf), program_id));\n }\n \n@@ -405,75 +372,7 @@ initialize ()\n   signal (SIGPIPE, SIG_IGN);\n   signal (SIGALRM, SIG_IGN);\n   signal (SIGTERM, SIG_IGN);\n-#ifndef NO_BOGOSITY\n-  /*\n-     Make sure that if we opened a server process, we close it now.\n-     This is the grandparent process.  We don't need the server anymore\n-     and our children should make their own.  */\n-\n-  close_server ();\n-  (void)wait ( (int*)NULL );\n-#endif\n-}\n-\n-#ifndef NO_BOGOSITY\n-/* * * * * * * * * * * * *\n-\n-   wait_for_pid  -  Keep calling `wait(2)' until it returns\n-   the process id we are looking for.  Not every system has\n-   `waitpid(2)'.  We also ensure that the children exit with success. */\n-\n-void\n-wait_for_pid(child)\n-     pid_t child;\n-{\n-  for (;;) {\n-    int status;\n-    pid_t dead_kid = wait (&status);\n-\n-    if (dead_kid == child)\n-      {\n-        if (! WIFEXITED( status ))\n-          {\n-            if (WSTOPSIG( status ) == 0)\n-              break;\n-\n-            fprintf (stderr, \"child process %d is hung on signal %d\\n\",\n-                     child, WSTOPSIG( status ));\n-            exit (EXIT_FAILURE);\n-          }\n-        if (WEXITSTATUS( status ) != 0)\n-          {\n-            fprintf (stderr, \"child process %d exited with status %d\\n\",\n-                     child, WEXITSTATUS( status ));\n-            exit (EXIT_FAILURE);\n-          }\n-        break; /* normal child completion */\n-      }\n-\n-    /*\n-       IF there is an error, THEN see if it is retryable.\n-       If it is not retryable, then break out of this loop.  */\n-    if (dead_kid == NOPROCESS)\n-      {\n-        switch (errno) {\n-        case EINTR:\n-        case EAGAIN:\n-          break;\n-\n-        default:\n-          if (NOT_SILENT)\n-            fprintf (stderr, \"Error %d (%s) waiting for %d to finish\\n\",\n-                     errno, xstrerror( errno ), child );\n-          /* FALLTHROUGH */\n-\n-        case ECHILD: /* no children to wait for?? */\n-          return;\n-        }\n-      }\n-  } done_waiting:;\n }\n-#endif /* NO_BOGOSITY */\n \n /* * * * * * * * * * * * *\n "}, {"sha": "62fff111e66c33a444a172b7d6796d8512442c48", "filename": "gcc/fixinc/mkfixinc.sh", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b151aa7066643b8e54fb1ba6025001e12d69a4a/gcc%2Ffixinc%2Fmkfixinc.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b151aa7066643b8e54fb1ba6025001e12d69a4a/gcc%2Ffixinc%2Fmkfixinc.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Fmkfixinc.sh?ref=6b151aa7066643b8e54fb1ba6025001e12d69a4a", "patch": "@@ -121,7 +121,4 @@ echo $MAKE SHELL=\\\"$SHELL\\\" install-bin\n \n #  make and install either the binary or the default script\n #\n-$MAKE SHELL=\"$SHELL\" install-bin && exit 0\n-\n-echo $MAKE SHELL=\\\"$SHELL\\\" install-sh\n-$MAKE SHELL=\"$SHELL\" install-sh\n+$MAKE SHELL=\"$SHELL\" install-bin"}]}