{"sha": "8a98812c685222768f27f9abb7255352d94eb9ab", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGE5ODgxMmM2ODUyMjI3NjhmMjdmOWFiYjcyNTUzNTJkOTRlYjlhYg==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@libertysurf.fr", "date": "2004-01-22T11:15:37Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2004-01-22T11:15:37Z"}, "message": "sparc.c (function_arg_slotno): Use FLOAT_TYPE_P to detect FP fields in structures.\n\n\t* config/sparc/sparc.c (function_arg_slotno): Use\n\tFLOAT_TYPE_P to detect FP fields in structures.\n\t(function_arg_record_value_1): Likewise.\n\t(function_arg_record_value_2): Likewise.\n\nFrom-SVN: r76346", "tree": {"sha": "4f0415a4673c20028e8ec093fba373d22b74b32f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4f0415a4673c20028e8ec093fba373d22b74b32f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8a98812c685222768f27f9abb7255352d94eb9ab", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a98812c685222768f27f9abb7255352d94eb9ab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8a98812c685222768f27f9abb7255352d94eb9ab", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a98812c685222768f27f9abb7255352d94eb9ab/comments", "author": {"login": "ebotcazou", "id": 48091907, "node_id": "MDQ6VXNlcjQ4MDkxOTA3", "avatar_url": "https://avatars.githubusercontent.com/u/48091907?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebotcazou", "html_url": "https://github.com/ebotcazou", "followers_url": "https://api.github.com/users/ebotcazou/followers", "following_url": "https://api.github.com/users/ebotcazou/following{/other_user}", "gists_url": "https://api.github.com/users/ebotcazou/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebotcazou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebotcazou/subscriptions", "organizations_url": "https://api.github.com/users/ebotcazou/orgs", "repos_url": "https://api.github.com/users/ebotcazou/repos", "events_url": "https://api.github.com/users/ebotcazou/events{/privacy}", "received_events_url": "https://api.github.com/users/ebotcazou/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "0de456a50fb90ad9056d6582cdb4803df5f2c86b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0de456a50fb90ad9056d6582cdb4803df5f2c86b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0de456a50fb90ad9056d6582cdb4803df5f2c86b"}], "stats": {"total": 32, "additions": 16, "deletions": 16}, "files": [{"sha": "89136b310b518f2e039298c82c9a1d9646e706ae", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a98812c685222768f27f9abb7255352d94eb9ab/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a98812c685222768f27f9abb7255352d94eb9ab/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8a98812c685222768f27f9abb7255352d94eb9ab", "patch": "@@ -1,3 +1,10 @@\n+2004-01-22  Eric Botcazou  <ebotcazou@libertysurf.fr>\n+\n+\t* config/sparc/sparc.c (function_arg_slotno): Use\n+\tFLOAT_TYPE_P to detect FP fields in structures.\n+\t(function_arg_record_value_1): Likewise.\n+\t(function_arg_record_value_2): Likewise.\n+\n 2004-01-22  Jan Hubicka  <jh@suse.cz>\n \n \t* function.c (allocate_struct_function): Do not initialize expr, emit"}, {"sha": "9fd63cdbabba73277b7ab64a7b364efd3f42d36f", "filename": "gcc/config/sparc/sparc.c", "status": "modified", "additions": 9, "deletions": 16, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a98812c685222768f27f9abb7255352d94eb9ab/gcc%2Fconfig%2Fsparc%2Fsparc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a98812c685222768f27f9abb7255352d94eb9ab/gcc%2Fconfig%2Fsparc%2Fsparc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.c?ref=8a98812c685222768f27f9abb7255352d94eb9ab", "patch": "@@ -4928,8 +4928,7 @@ function_arg_slotno (const struct sparc_args *cum, enum machine_mode mode,\n \t    {\n \t      if (TREE_CODE (field) == FIELD_DECL)\n \t\t{\n-\t\t  if (TREE_CODE (TREE_TYPE (field)) == REAL_TYPE\n-\t\t      && TARGET_FPU)\n+\t\t  if (FLOAT_TYPE_P (TREE_TYPE (field)) && TARGET_FPU)\n \t\t    fpregs_p = 1;\n \t\t  else\n \t\t    intregs_p = 1;\n@@ -5029,13 +5028,10 @@ function_arg_record_value_1 (tree type, HOST_WIDE_INT startbitpos,\n \t    \t\t\t\t bitpos,\n \t\t\t\t\t parms,\n \t\t\t\t\t packed_p);\n-\t  else if ((TREE_CODE (TREE_TYPE (field)) == REAL_TYPE\n-\t\t    || (TREE_CODE (TREE_TYPE (field)) == COMPLEX_TYPE\n-\t\t\t&& (TREE_CODE (TREE_TYPE (TREE_TYPE (field)))\n-\t\t\t    == REAL_TYPE)))\n-\t           && TARGET_FPU\n-\t           && ! packed_p\n-\t           && parms->named)\n+\t  else if (FLOAT_TYPE_P (TREE_TYPE (field))\n+\t\t   && TARGET_FPU\n+\t\t   && parms->named\n+\t\t   && ! packed_p)\n \t    {\n \t      if (parms->intoffset != -1)\n \t\t{\n@@ -5170,13 +5166,10 @@ function_arg_record_value_2 (tree type, HOST_WIDE_INT startbitpos,\n \t    \t\t\t\t bitpos,\n \t\t\t\t\t parms,\n \t\t\t\t\t packed_p);\n-\t  else if ((TREE_CODE (TREE_TYPE (field)) == REAL_TYPE\n-\t\t    || (TREE_CODE (TREE_TYPE (field)) == COMPLEX_TYPE\n-\t\t\t&& (TREE_CODE (TREE_TYPE (TREE_TYPE (field)))\n-\t\t\t    == REAL_TYPE)))\n-\t           && TARGET_FPU\n-\t           && ! packed_p\n-\t           && parms->named)\n+\t  else if (FLOAT_TYPE_P (TREE_TYPE (field))\n+\t\t   && TARGET_FPU\n+\t\t   && parms->named\n+\t\t   && ! packed_p)\n \t    {\n \t      int this_slotno = parms->slotno + bitpos / BITS_PER_WORD;\n \t      int regno;"}]}