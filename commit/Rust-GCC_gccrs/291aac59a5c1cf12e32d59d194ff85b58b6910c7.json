{"sha": "291aac59a5c1cf12e32d59d194ff85b58b6910c7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjkxYWFjNTlhNWMxY2YxMmUzMmQ1OWQxOTRmZjg1YjU4YjY5MTBjNw==", "commit": {"author": {"name": "Denis Chertykov", "email": "denisc@overta.ru", "date": "2003-05-28T19:18:29Z"}, "committer": {"name": "Denis Chertykov", "email": "denisc@gcc.gnu.org", "date": "2003-05-28T19:18:29Z"}, "message": "cselib.c (cselib_invalidate_regno): Abort if hardreg have a VOIDmode.\n\n\t* cselib.c (cselib_invalidate_regno): Abort if hardreg have a\n\tVOIDmode.\n\t* cselib.c (cselib_process_insn): Pass reg_raw_mode for hardreg in\n\tcall of cselib_invalidate_regno.\n\nFrom-SVN: r67210", "tree": {"sha": "ecc12a827471d53fa04c4dd50e247c3d3a8d0d57", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ecc12a827471d53fa04c4dd50e247c3d3a8d0d57"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/291aac59a5c1cf12e32d59d194ff85b58b6910c7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/291aac59a5c1cf12e32d59d194ff85b58b6910c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/291aac59a5c1cf12e32d59d194ff85b58b6910c7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/291aac59a5c1cf12e32d59d194ff85b58b6910c7/comments", "author": null, "committer": null, "parents": [{"sha": "afc2b62daeeb6b93bfc08fcd5f6a8857841ac6d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afc2b62daeeb6b93bfc08fcd5f6a8857841ac6d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/afc2b62daeeb6b93bfc08fcd5f6a8857841ac6d7"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "a3be29d3842659bd67951da46dd8eba2b0473ca5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/291aac59a5c1cf12e32d59d194ff85b58b6910c7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/291aac59a5c1cf12e32d59d194ff85b58b6910c7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=291aac59a5c1cf12e32d59d194ff85b58b6910c7", "patch": "@@ -1,3 +1,10 @@\n+2003-05-27  Denis Chertykov  <denisc@overta.ru>\n+\n+\t* cselib.c (cselib_invalidate_regno): Abort if hardreg have a\n+\tVOIDmode.\n+\t* cselib.c (cselib_process_insn): Pass reg_raw_mode for hardreg in\n+\tcall of cselib_invalidate_regno.\n+\n 2003-05-28  Daniel Jacobowitz  <drow@mvista.com>\n \n \t* config/mips/linux.h (LIB_SPEC): Add missing -lc and correct"}, {"sha": "3ea7c236abdb126b6d5f0ce2801f863815d61f4a", "filename": "gcc/cselib.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/291aac59a5c1cf12e32d59d194ff85b58b6910c7/gcc%2Fcselib.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/291aac59a5c1cf12e32d59d194ff85b58b6910c7/gcc%2Fcselib.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcselib.c?ref=291aac59a5c1cf12e32d59d194ff85b58b6910c7", "patch": "@@ -1019,8 +1019,11 @@ cselib_invalidate_regno (regno, mode)\n      pseudos, only REGNO is affected.  For hard regs, we must take MODE\n      into account, and we must also invalidate lower register numbers\n      if they contain values that overlap REGNO.  */\n-  if (regno < FIRST_PSEUDO_REGISTER && mode != VOIDmode) \n+  if (regno < FIRST_PSEUDO_REGISTER)\n     {\n+      if (mode == VOIDmode)\n+\tabort ();\n+      \n       if (regno < max_value_regs)\n \ti = 0;\n       else\n@@ -1427,7 +1430,7 @@ cselib_process_insn (insn)\n     {\n       for (i = 0; i < FIRST_PSEUDO_REGISTER; i++)\n \tif (call_used_regs[i])\n-\t  cselib_invalidate_regno (i, VOIDmode);\n+\t  cselib_invalidate_regno (i, reg_raw_mode[i]);\n \n       if (! CONST_OR_PURE_CALL_P (insn))\n \tcselib_invalidate_mem (callmem);"}]}