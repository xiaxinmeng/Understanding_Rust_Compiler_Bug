{"sha": "62d285ff3a32b4999ef861b181ac32a3460e226d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjJkMjg1ZmYzYTMyYjQ5OTllZjg2MWIxODFhYzMyYTM0NjBlMjI2ZA==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "2001-06-29T20:35:53Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2001-06-29T20:35:53Z"}, "message": "ssa-dce.c (ssa_eliminate_dead_code): Renamed from eliminate_date_code.\n\n        * ssa-dce.c (ssa_eliminate_dead_code): Renamed from\n        eliminate_date_code.\n        * ssa.h (ssa_eliminate_dead_code): Corresponding changes.\n        * timevar.def (TV_SSA_DCE): Renamed from TV_DEAD_CODE_ELIM.\n        * toplev.c (DFI_ssa_dce): Renamed from DFI_dce.\n        (dump_file_info): Similar changes.\n        (flag_ssa_dce): Similarly\n        (f_options): Similar changes.\n        (rest_of_compilation): Corresponding changes.\n        * doc/invoke.texi: Update as option is now -fssa-dce instead\n        of -fdce.  Update dump file name.\n\nFrom-SVN: r43658", "tree": {"sha": "a352b398d8afc1b79e9974c69ece53ed4991ee1c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a352b398d8afc1b79e9974c69ece53ed4991ee1c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/62d285ff3a32b4999ef861b181ac32a3460e226d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62d285ff3a32b4999ef861b181ac32a3460e226d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/62d285ff3a32b4999ef861b181ac32a3460e226d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62d285ff3a32b4999ef861b181ac32a3460e226d/comments", "author": null, "committer": null, "parents": [{"sha": "8f2f6da110c5233aa7bde22e86df7d23a175b05d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f2f6da110c5233aa7bde22e86df7d23a175b05d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8f2f6da110c5233aa7bde22e86df7d23a175b05d"}], "stats": {"total": 54, "additions": 33, "deletions": 21}, "files": [{"sha": "407ae100a2239acb8e3256402bfd390f34a7c4c3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62d285ff3a32b4999ef861b181ac32a3460e226d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62d285ff3a32b4999ef861b181ac32a3460e226d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=62d285ff3a32b4999ef861b181ac32a3460e226d", "patch": "@@ -1,5 +1,17 @@\n Fri Jun 29 12:27:24 2001  Jeffrey A Law  (law@cygnus.com)\n \n+\t* ssa-dce.c (ssa_eliminate_dead_code): Renamed from\n+\teliminate_date_code.\n+\t* ssa.h (ssa_eliminate_dead_code): Corresponding changes.\n+\t* timevar.def (TV_SSA_DCE): Renamed from TV_DEAD_CODE_ELIM.\n+\t* toplev.c (DFI_ssa_dce): Renamed from DFI_dce.\n+\t(dump_file_info): Similar changes.\n+\t(flag_ssa_dce): Similarly\n+\t(f_options): Similar changes.\n+\t(rest_of_compilation): Corresponding changes.\n+\t* doc/invoke.texi: Update as option is now -fssa-dce instead\n+\tof -fdce.  Update dump file name.\n+\n \t* ssa-dce.c (note_inherently_necessary_set): New function.\n \t(find_inherently_necessary): Use it.  Do not consider\n \tNOTEs, CODE_LABELs or BARRIERS are necessary.  Improve"}, {"sha": "6b2413394df68f6729567ce68c175f72ab71826f", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62d285ff3a32b4999ef861b181ac32a3460e226d/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62d285ff3a32b4999ef861b181ac32a3460e226d/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=62d285ff3a32b4999ef861b181ac32a3460e226d", "patch": "@@ -254,7 +254,7 @@ in the following sections.\n -falign-functions=@var{n}  -falign-jumps=@var{n} @gol\n -falign-labels=@var{n}  -falign-loops=@var{n}  @gol\n -fbranch-probabilities  -fcaller-saves @gol\n--fcse-follow-jumps  -fcse-skip-blocks  -fdata-sections  -fdce @gol\n+-fcse-follow-jumps  -fcse-skip-blocks  -fdata-sections @gol\n -fdelayed-branch  -fdelete-null-pointer-checks @gol\n -fexpensive-optimizations  -ffast-math  -ffloat-store @gol\n -fforce-addr  -fforce-mem  -ffunction-sections @gol\n@@ -270,7 +270,7 @@ in the following sections.\n -fregmove  -frename-registers @gol\n -frerun-cse-after-loop  -frerun-loop-opt @gol\n -fschedule-insns  -fschedule-insns2 @gol\n--fsingle-precision-constant  -fssa @gol\n+-fsingle-precision-constant  -fssa -fssa-dce @gol\n -fstrength-reduce  -fstrict-aliasing  -fthread-jumps  -ftrapv @gol\n -funroll-all-loops  -funroll-loops  @gol\n --param @var{name}=@var{value}\n@@ -2946,7 +2946,7 @@ sometimes follows CSE), to @file{@var{file}.10.cse2}.\n Dump after the second flow pass, to @file{@var{file}.21.flow2}.\n @item X\n @opindex dX\n-Dump after dead code elimination, to @file{@var{file}.06.dce}.\n+Dump after SSA aggressive dead code elimination, to @file{@var{file}.06.ssadce}.\n @item z\n @opindex dz\n Dump after the peephole pass, to @file{@var{file}.22.peephole2}.\n@@ -3732,10 +3732,10 @@ flow graph is translated into SSA form, optimizations are performed, and\n the flow graph is translated back from SSA form.  Users should not\n specify this option, since it is not yet ready for production use.\n \n-@item -fdce\n-@opindex fdce\n-Perform dead-code elimination in SSA form.  Requires @option{-fssa}.  Like\n-@option{-fssa}, this is an experimental feature.\n+@item -fssa-dce\n+@opindex fssa-dce\n+Perform aggressive dead-code elimination in SSA form.  Requires @option{-fssa}.\n+Like @option{-fssa}, this is an experimental feature.\n \n @item -fsingle-precision-constant\n @opindex fsingle-precision-constant"}, {"sha": "9e384c4ea958879974869af5e9de2e34cc9ac7db", "filename": "gcc/ssa-dce.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62d285ff3a32b4999ef861b181ac32a3460e226d/gcc%2Fssa-dce.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62d285ff3a32b4999ef861b181ac32a3460e226d/gcc%2Fssa-dce.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fssa-dce.c?ref=62d285ff3a32b4999ef861b181ac32a3460e226d", "patch": "@@ -503,7 +503,7 @@ delete_insn_bb (insn)\n /* Perform the dead-code elimination.  */\n \n void\n-eliminate_dead_code ()\n+ssa_eliminate_dead_code ()\n {\n   int i;\n   rtx insn;"}, {"sha": "a5655958d42589ee09db88debb255b8b0f92f451", "filename": "gcc/ssa.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62d285ff3a32b4999ef861b181ac32a3460e226d/gcc%2Fssa.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62d285ff3a32b4999ef861b181ac32a3460e226d/gcc%2Fssa.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fssa.h?ref=62d285ff3a32b4999ef861b181ac32a3460e226d", "patch": "@@ -33,7 +33,7 @@ extern int remove_phi_alternative\tPARAMS ((rtx, basic_block));\n \n /* Optimizations.  */\n /* In ssa-dce.c */\n-extern void eliminate_dead_code\t\tPARAMS ((void));\n+extern void ssa_eliminate_dead_code\tPARAMS ((void));\n \n /* SSA definitions and uses.  */\n /* This flag is set when the CFG is in SSA form.  */"}, {"sha": "884eedb2e04f2f2d2b44dc5c984a754ae89da704", "filename": "gcc/timevar.def", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62d285ff3a32b4999ef861b181ac32a3460e226d/gcc%2Ftimevar.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62d285ff3a32b4999ef861b181ac32a3460e226d/gcc%2Ftimevar.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftimevar.def?ref=62d285ff3a32b4999ef861b181ac32a3460e226d", "patch": "@@ -70,7 +70,7 @@ DEFTIMEVAR (TV_REORDER_BLOCKS        , \"reorder blocks\")\n DEFTIMEVAR (TV_SHORTEN_BRANCH        , \"shorten branches\")\n DEFTIMEVAR (TV_REG_STACK             , \"reg stack\")\n DEFTIMEVAR (TV_TO_SSA                , \"convert to SSA\")\n-DEFTIMEVAR (TV_DEAD_CODE_ELIM        , \"eliminate dead code\")\n+DEFTIMEVAR (TV_SSA_DCE               , \"SSA aggressive DCE\")\n DEFTIMEVAR (TV_FROM_SSA              , \"convert from SSA\")\n DEFTIMEVAR (TV_FINAL                 , \"final\")\n DEFTIMEVAR (TV_SYMOUT                , \"symout\")"}, {"sha": "6532c731f07855f3f1cc55b787a94fd1a24b5d8a", "filename": "gcc/toplev.c", "status": "modified", "additions": 11, "deletions": 11, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62d285ff3a32b4999ef861b181ac32a3460e226d/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62d285ff3a32b4999ef861b181ac32a3460e226d/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=62d285ff3a32b4999ef861b181ac32a3460e226d", "patch": "@@ -256,7 +256,7 @@ enum dump_file_index\n   DFI_cse,\n   DFI_addressof,\n   DFI_ssa,\n-  DFI_dce,\n+  DFI_ssa_dce,\n   DFI_ussa,\n   DFI_gcse,\n   DFI_loop,\n@@ -302,7 +302,7 @@ struct dump_file_info dump_file[DFI_MAX] =\n   { \"cse\",\t's', 0, 0, 0 },\n   { \"addressof\", 'F', 0, 0, 0 },\n   { \"ssa\",\t'e', 1, 0, 0 },\n-  { \"dce\",\t'X', 1, 0, 0 },\n+  { \"ssadce\",\t'X', 1, 0, 0 },\n   { \"ussa\",\t'e', 1, 0, 0 },\t/* Yes, duplicate enable switch.  */\n   { \"gcse\",\t'G', 1, 0, 0 },\n   { \"loop\",\t'L', 1, 0, 0 },\n@@ -819,7 +819,7 @@ int flag_gnu_linker = 1;\n int flag_ssa = 0;\n \n /* Enable dead code elimination. */\n-int flag_dce = 0;\n+int flag_ssa_dce = 0;\n \n /* Tag all structures with __attribute__(packed).  */\n int flag_pack_struct = 0;\n@@ -1142,8 +1142,8 @@ lang_independent_options f_options[] =\n    N_(\"Instrument function entry/exit with profiling calls\") },\n   {\"ssa\", &flag_ssa, 1,\n    N_(\"Enable SSA optimizations\") },\n-  {\"dce\", &flag_dce, 1,\n-   N_(\"Enable dead code elimination\") },\n+  {\"ssa-dce\", &flag_ssa_dce, 1,\n+   N_(\"Enable aggressive SSA dead code elimination\") },\n   {\"leading-underscore\", &flag_leading_underscore, 1,\n    N_(\"External symbols have a leading underscore\") },\n   {\"ident\", &flag_no_ident, 0,\n@@ -3064,18 +3064,18 @@ rest_of_compilation (decl)\n \t blocks, e.g., calling find_basic_blocks () or cleanup_cfg (),\n \t may cause problems.  */\n \n-      if (flag_dce)\n+      if (flag_ssa_dce)\n \t{\n \t  /* Remove dead code. */\n \n-\t  timevar_push (TV_DEAD_CODE_ELIM);\n-\t  open_dump_file (DFI_dce, decl);\n+\t  timevar_push (TV_SSA_DCE);\n+\t  open_dump_file (DFI_ssa_dce, decl);\n \n \t  insns = get_insns ();\n-\t  eliminate_dead_code();\n+\t  ssa_eliminate_dead_code();\n \n-\t  close_dump_file (DFI_dce, print_rtl_with_bb, insns);\n-\t  timevar_pop (TV_DEAD_CODE_ELIM);\n+\t  close_dump_file (DFI_ssa_dce, print_rtl_with_bb, insns);\n+\t  timevar_pop (TV_SSA_DCE);\n \t}\n \n       /* Convert from SSA form.  */"}]}