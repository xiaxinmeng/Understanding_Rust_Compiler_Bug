{"sha": "487b97e0564e46f876d040a2246290ba47aaf579", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDg3Yjk3ZTA1NjRlNDZmODc2ZDA0MGEyMjQ2MjkwYmE0N2FhZjU3OQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2001-08-21T08:50:36Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2001-08-21T08:50:36Z"}, "message": "ia64.c (ia64_return_in_memory): True for variable sized types.\n\n        * config/ia64/ia64.c (ia64_return_in_memory): True for variable\n        sized types.\n\nFrom-SVN: r45073", "tree": {"sha": "05ad125f735812d7a4f21dd6adcd256826c8a20c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/05ad125f735812d7a4f21dd6adcd256826c8a20c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/487b97e0564e46f876d040a2246290ba47aaf579", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/487b97e0564e46f876d040a2246290ba47aaf579", "html_url": "https://github.com/Rust-GCC/gccrs/commit/487b97e0564e46f876d040a2246290ba47aaf579", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/487b97e0564e46f876d040a2246290ba47aaf579/comments", "author": null, "committer": null, "parents": [{"sha": "08b3bb93ec89ba59d9abf17192f4a06ef8fa27e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08b3bb93ec89ba59d9abf17192f4a06ef8fa27e0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/08b3bb93ec89ba59d9abf17192f4a06ef8fa27e0"}], "stats": {"total": 17, "additions": 13, "deletions": 4}, "files": [{"sha": "175f627af310ae5d27c2149238589748eb951569", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/487b97e0564e46f876d040a2246290ba47aaf579/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/487b97e0564e46f876d040a2246290ba47aaf579/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=487b97e0564e46f876d040a2246290ba47aaf579", "patch": "@@ -1,3 +1,8 @@\n+2001-08-21  Richard Henderson  <rth@redhat.com>\n+\n+\t* config/ia64/ia64.c (ia64_return_in_memory): True for variable\n+\tsized types.\n+\n 2001-08-21  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n \t* cpphash.h (_cpp_push_next_buffer): New."}, {"sha": "2c539fe7616e3a7a333fb858ff3d69985f3e8cff", "filename": "gcc/config/ia64/ia64.c", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/487b97e0564e46f876d040a2246290ba47aaf579/gcc%2Fconfig%2Fia64%2Fia64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/487b97e0564e46f876d040a2246290ba47aaf579/gcc%2Fconfig%2Fia64%2Fia64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Fia64.c?ref=487b97e0564e46f876d040a2246290ba47aaf579", "patch": "@@ -3206,11 +3206,16 @@ ia64_return_in_memory (valtype)\n {\n   enum machine_mode mode;\n   enum machine_mode hfa_mode;\n-  int byte_size;\n+  HOST_WIDE_INT byte_size;\n \n   mode = TYPE_MODE (valtype);\n-  byte_size = ((mode == BLKmode)\n-\t       ? int_size_in_bytes (valtype) : GET_MODE_SIZE (mode));\n+  byte_size = GET_MODE_SIZE (mode);\n+  if (mode == BLKmode)\n+    {\n+      byte_size = int_size_in_bytes (valtype);\n+      if (byte_size < 0)\n+\treturn 1;\n+    }\n \n   /* Hfa's with up to 8 elements are returned in the FP argument registers.  */\n \n@@ -3224,7 +3229,6 @@ ia64_return_in_memory (valtype)\n       else\n \treturn 0;\n     }\n-\n   else if (byte_size > UNITS_PER_WORD * MAX_INT_RETURN_SLOTS)\n     return 1;\n   else"}]}