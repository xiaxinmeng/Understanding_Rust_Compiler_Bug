{"sha": "17bbab26bbe9481fda74e2f6ccfd68ff5842774b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTdiYmFiMjZiYmU5NDgxZmRhNzRlMmY2Y2NmZDY4ZmY1ODQyNzc0Yg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-04-06T11:48:06Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-04-06T11:48:06Z"}, "message": "(expand_builtin): Allow builtin_next_arg for varargs functions as\nwell.\n\nFrom-SVN: r6984", "tree": {"sha": "b7c89d48a7a401baed37d9b699bab128ac35b48d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b7c89d48a7a401baed37d9b699bab128ac35b48d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/17bbab26bbe9481fda74e2f6ccfd68ff5842774b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17bbab26bbe9481fda74e2f6ccfd68ff5842774b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/17bbab26bbe9481fda74e2f6ccfd68ff5842774b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17bbab26bbe9481fda74e2f6ccfd68ff5842774b/comments", "author": null, "committer": null, "parents": [{"sha": "3b69d50e4d2746d462dc656e44a6f8c872daf943", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b69d50e4d2746d462dc656e44a6f8c872daf943", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b69d50e4d2746d462dc656e44a6f8c872daf943"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "6339b459941da6f53d627ccdddf4500da29db3d5", "filename": "gcc/expr.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17bbab26bbe9481fda74e2f6ccfd68ff5842774b/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17bbab26bbe9481fda74e2f6ccfd68ff5842774b/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=17bbab26bbe9481fda74e2f6ccfd68ff5842774b", "patch": "@@ -6957,8 +6957,7 @@ expand_builtin (exp, target, subtarget, mode, ignore)\n #endif\n       }\n \n-      /* Return the address of the first anonymous stack arg.\n-\t This should only be used for stdarg functions.  */\n+      /* Return the address of the first anonymous stack arg.  */\n     case BUILT_IN_NEXT_ARG:\n       {\n \ttree fntype = TREE_TYPE (current_function_decl);\n@@ -6967,7 +6966,8 @@ expand_builtin (exp, target, subtarget, mode, ignore)\n \n \tif (TYPE_ARG_TYPES (fntype) == 0\n \t    || (TREE_VALUE (tree_last (TYPE_ARG_TYPES (fntype)))\n-\t\t== void_type_node))\n+\t\t== void_type_node)\n+\t    || current_function_varargs)\n \t  {\n \t    error (\"`va_start' used in function with fixed args\");\n \t    return const0_rtx;"}]}