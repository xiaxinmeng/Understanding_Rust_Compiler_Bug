{"sha": "2501b16706f1e920917035d6c63f6ed6b840a9df", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjUwMWIxNjcwNmYxZTkyMDkxNzAzNWQ2YzYzZjZlZDZiODQwYTlkZg==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@physics.uc.edu", "date": "2005-08-24T01:50:54Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2005-08-24T01:50:54Z"}, "message": "re PR target/20799 (bad relocs for new/delete overrides)\n\n2005-08-23  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR target/20799\n        * config/darwin.c (machopic_select_section): Remove the hack to\n        mark \"::operator new\" and \"::operator delete\" for coalescing\n        even though they are not weak.\n\nFrom-SVN: r103426", "tree": {"sha": "44f8276a093a295a62ff69d2c364f2fa1ae874af", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/44f8276a093a295a62ff69d2c364f2fa1ae874af"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2501b16706f1e920917035d6c63f6ed6b840a9df", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2501b16706f1e920917035d6c63f6ed6b840a9df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2501b16706f1e920917035d6c63f6ed6b840a9df", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2501b16706f1e920917035d6c63f6ed6b840a9df/comments", "author": null, "committer": null, "parents": [{"sha": "d82bf747536f0e61ac960c718980f26fdf447a43", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d82bf747536f0e61ac960c718980f26fdf447a43", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d82bf747536f0e61ac960c718980f26fdf447a43"}], "stats": {"total": 29, "additions": 7, "deletions": 22}, "files": [{"sha": "7aeeacdc39149f0dfc372dfd7be4d71939ff2b2c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2501b16706f1e920917035d6c63f6ed6b840a9df/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2501b16706f1e920917035d6c63f6ed6b840a9df/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2501b16706f1e920917035d6c63f6ed6b840a9df", "patch": "@@ -1,3 +1,10 @@\n+2005-08-23  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR target/20799\n+\t* config/darwin.c (machopic_select_section): Remove the hack to\n+\tmark \"::operator new\" and \"::operator delete\" for coalescing\n+\teven though they are not weak.\n+\n 2005-08-24  Alan Modra  <amodra@bigpond.net.au>\n \n \t* configure.ac (HAVE_LD_NO_DOT_SYMS): Set for powerpc-linux biarch."}, {"sha": "c7cd1a352879bc64297123467293be13091bc602", "filename": "gcc/config/darwin.c", "status": "modified", "additions": 0, "deletions": 22, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2501b16706f1e920917035d6c63f6ed6b840a9df/gcc%2Fconfig%2Fdarwin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2501b16706f1e920917035d6c63f6ed6b840a9df/gcc%2Fconfig%2Fdarwin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin.c?ref=2501b16706f1e920917035d6c63f6ed6b840a9df", "patch": "@@ -1118,28 +1118,6 @@ machopic_select_section (tree exp, int reloc,\n       else\n \tbase_function ();\n     }\n-  /* ::operator new and ::operator delete must be coalesced, even\n-     if not weak.  There are 8 variants that we look for.  */\n-  else if (TREE_CODE (exp) == FUNCTION_DECL\n-\t   && ! DECL_ONE_ONLY (exp))\n-    {\n-      const char * name = IDENTIFIER_POINTER (DECL_ASSEMBLER_NAME (exp));\n-      if (name[0] == '_' && name[1] == 'Z'\n-\t  && ((name[2] == 'n' && (name[3] == 'a' || name[3] == 'w')\n-\t       && name[4] == 'm')\n-\t      || (name[2] == 'd' && (name[3] == 'a' || name[3] == 'l')\n-\t\t  && name[4] == 'P' && name[5] == 'v')))\n-\t{\n-\t  bool delete_p = name[2] == 'd';\n-\t  if (name[5 + delete_p] == 0\n-\t      || strcmp (name + 5 + delete_p, \"KSt9nothrow_t\") == 0)\n-\t    base_funs[reloc][1] ();\n-\t  else\n-\t    base_function ();\n-\t}\n-      else\n-\tbase_function ();\n-    }\n   else\n     base_function ();\n }"}]}