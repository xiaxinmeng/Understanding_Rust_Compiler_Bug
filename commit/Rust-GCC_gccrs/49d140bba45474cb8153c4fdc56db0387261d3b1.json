{"sha": "49d140bba45474cb8153c4fdc56db0387261d3b1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDlkMTQwYmJhNDU0NzRjYjgxNTNjNGZkYzU2ZGIwMzg3MjYxZDNiMQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-06-14T09:17:14Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-06-14T09:17:14Z"}, "message": "[multiple changes]\n\n2010-06-14  Gary Dismukes  <dismukes@adacore.com>\n\n\t* sem_ch4.adb: Fix typo.\n\n2010-06-14  Vasiliy Fofanov  <fofanov@adacore.com>\n\n\t* s-oscons-tmplt.c (IOV_MAX): redefine on Tru64 and VMS since the\n\tvector IO doesn't work at default value properly.\n\n2010-06-14  Doug Rupp  <rupp@adacore.com>\n\n\t* s-stoele.adb: Remove unnecessary qualification of To_Address for VMS.\n\n2010-06-14  Vincent Celier  <celier@adacore.com>\n\n\t* gnatcmd.adb (Check_Files): Do not invoke the tool with all the\n\tsources of the project if a switch -files= is used.\n\n2010-06-14  Thomas Quinot  <quinot@adacore.com>\n\n\t* exp_attr.adb: Minor reformatting\n\nFrom-SVN: r160714", "tree": {"sha": "39555a32d97d8aa76cd5dfed85f43175bb185629", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/39555a32d97d8aa76cd5dfed85f43175bb185629"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/49d140bba45474cb8153c4fdc56db0387261d3b1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/49d140bba45474cb8153c4fdc56db0387261d3b1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/49d140bba45474cb8153c4fdc56db0387261d3b1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/49d140bba45474cb8153c4fdc56db0387261d3b1/comments", "author": null, "committer": null, "parents": [{"sha": "7415029d47f49954c09bd16c1b7d948dfc67c127", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7415029d47f49954c09bd16c1b7d948dfc67c127", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7415029d47f49954c09bd16c1b7d948dfc67c127"}], "stats": {"total": 79, "additions": 60, "deletions": 19}, "files": [{"sha": "926c7af469806dd2d2635beec00729509f4fef07", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/49d140bba45474cb8153c4fdc56db0387261d3b1/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/49d140bba45474cb8153c4fdc56db0387261d3b1/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=49d140bba45474cb8153c4fdc56db0387261d3b1", "patch": "@@ -1,5 +1,26 @@\n 2010-06-14  Gary Dismukes  <dismukes@adacore.com>\n \n+\t* sem_ch4.adb: Fix typo.\n+\n+2010-06-14  Vasiliy Fofanov  <fofanov@adacore.com>\n+\n+\t* s-oscons-tmplt.c (IOV_MAX): redefine on Tru64 and VMS since the\n+\tvector IO doesn't work at default value properly.\n+\n+2010-06-14  Doug Rupp  <rupp@adacore.com>\n+\n+\t* s-stoele.adb: Remove unnecessary qualification of To_Address for VMS.\n+\n+2010-06-14  Vincent Celier  <celier@adacore.com>\n+\n+\t* gnatcmd.adb (Check_Files): Do not invoke the tool with all the\n+\tsources of the project if a switch -files= is used.\n+\n+2010-06-14  Thomas Quinot  <quinot@adacore.com>\n+\n+\t* exp_attr.adb: Minor reformatting\n+2010-06-14  Gary Dismukes  <dismukes@adacore.com>\n+\n \t* gnat_ugn.texi: Minor typo fixes and wording changes\n \n 2010-06-14  Ed Schonberg  <schonberg@adacore.com>"}, {"sha": "7f7e1d1cc82d690a5365de990d44e54c64cb30eb", "filename": "gcc/ada/exp_attr.adb", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/49d140bba45474cb8153c4fdc56db0387261d3b1/gcc%2Fada%2Fexp_attr.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/49d140bba45474cb8153c4fdc56db0387261d3b1/gcc%2Fada%2Fexp_attr.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_attr.adb?ref=49d140bba45474cb8153c4fdc56db0387261d3b1", "patch": "@@ -3586,8 +3586,7 @@ package body Exp_Attr is\n                             Attribute_Name => Name_First,\n                             Prefix => New_Occurrence_Of (Ptyp, Loc))))),\n \n-                Right_Opnd =>\n-                  Make_Integer_Literal (Loc, 1)));\n+                Right_Opnd => Make_Integer_Literal (Loc, 1)));\n \n             Analyze_And_Resolve (N, Typ);\n \n@@ -3707,7 +3706,7 @@ package body Exp_Attr is\n \n                   Rewrite (N,\n                     Make_Assignment_Statement (Loc,\n-                      Name => Lhs,\n+                      Name       => Lhs,\n                       Expression => Rhs));\n \n                   Analyze (N);\n@@ -3785,9 +3784,7 @@ package body Exp_Attr is\n       --  the context of a _Postcondition function with a _Result parameter.\n \n       when Attribute_Result =>\n-         Rewrite (N,\n-           Make_Identifier (Loc,\n-            Chars => Name_uResult));\n+         Rewrite (N, Make_Identifier (Loc, Chars => Name_uResult));\n          Analyze_And_Resolve (N, Typ);\n \n       -----------"}, {"sha": "c462806225bc009c38d144ededd11bc827dd7ecf", "filename": "gcc/ada/gnatcmd.adb", "status": "modified", "additions": 14, "deletions": 7, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/49d140bba45474cb8153c4fdc56db0387261d3b1/gcc%2Fada%2Fgnatcmd.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/49d140bba45474cb8153c4fdc56db0387261d3b1/gcc%2Fada%2Fgnatcmd.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatcmd.adb?ref=49d140bba45474cb8153c4fdc56db0387261d3b1", "patch": "@@ -209,9 +209,9 @@ procedure GNATCmd is\n \n    procedure Check_Files;\n    --  For GNAT LIST, GNAT PRETTY, GNAT METRIC, and GNAT STACK, check if a\n-   --  project file is specified, without any file arguments. If it is the\n-   --  case, invoke the GNAT tool with the proper list of files, derived from\n-   --  the sources of the project.\n+   --  project file is specified, without any file arguments and without a\n+   --  switch -files=. If it is the case, invoke the GNAT tool with the proper\n+   --  list of files, derived from the sources of the project.\n \n    function Check_Project\n      (Project      : Project_Id;\n@@ -314,10 +314,17 @@ procedure GNATCmd is\n       Success     : Boolean;\n \n    begin\n-      --  Check if there is at least one argument that is not a switch\n+      --  Check if there is at least one argument that is not a switch or if\n+      --  there is a -files= switch.\n \n       for Index in 1 .. Last_Switches.Last loop\n-         if Last_Switches.Table (Index) (1) /= '-' then\n+         if Last_Switches.Table (Index).all'Length > 7 and then\n+           Last_Switches.Table (Index) (1 .. 7) = \"-files=\"\n+         then\n+            Add_Sources := False;\n+            exit;\n+\n+         elsif Last_Switches.Table (Index) (1) /= '-' then\n             if Index = 1\n               or else\n                 (The_Command = Check\n@@ -346,8 +353,8 @@ procedure GNATCmd is\n          end if;\n       end loop;\n \n-      --  If all arguments were switches, add the path names of all the sources\n-      --  of the main project.\n+      --  If all arguments are switchesand there is no switch -files=, add the\n+      --  path names of all the sources of the main project.\n \n       if Add_Sources then\n "}, {"sha": "a7ca809bf945de50b60ce26ead14469afecbc598", "filename": "gcc/ada/s-oscons-tmplt.c", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/49d140bba45474cb8153c4fdc56db0387261d3b1/gcc%2Fada%2Fs-oscons-tmplt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/49d140bba45474cb8153c4fdc56db0387261d3b1/gcc%2Fada%2Fs-oscons-tmplt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-oscons-tmplt.c?ref=49d140bba45474cb8153c4fdc56db0387261d3b1", "patch": "@@ -98,6 +98,22 @@ pragma Style_Checks (\"M32766\");\n #include <limits.h>\n #include <fcntl.h>\n \n+#if defined (__alpha__) && defined (__osf__)\n+/** Tru64 is unable to do vector IO operations with default value of IOV_MAX,\n+ ** so its value is redefined to a small one which is known to work properly.\n+ **/\n+#undef IOV_MAX\n+#define IOV_MAX 16\n+#endif\n+\n+#if defined (__VMS)\n+/** VMS is unable to do vector IO operations with default value of IOV_MAX,\n+ ** so its value is redefined to a small one which is known to work properly.\n+ **/\n+#undef IOV_MAX\n+#define IOV_MAX 16\n+#endif\n+\n #if ! (defined (__vxworks) || defined (__VMS) || defined (__MINGW32__) || \\\n        defined (__nucleus__))\n # define HAVE_TERMIOS"}, {"sha": "776aacb94268043ba6058c792ae7ce17fa86d4b1", "filename": "gcc/ada/s-stoele.adb", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/49d140bba45474cb8153c4fdc56db0387261d3b1/gcc%2Fada%2Fs-stoele.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/49d140bba45474cb8153c4fdc56db0387261d3b1/gcc%2Fada%2Fs-stoele.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-stoele.adb?ref=49d140bba45474cb8153c4fdc56db0387261d3b1", "patch": "@@ -39,7 +39,7 @@ package body System.Storage_Elements is\n \n    --  Conversion to/from address\n \n-   --  Note full qualification below of To_Address to avoid ambiguities on VMS.\n+   --  Note qualification below of To_Address to avoid ambiguities on VMS.\n \n    function To_Address is\n      new Ada.Unchecked_Conversion (Storage_Offset, Address);\n@@ -65,25 +65,25 @@ package body System.Storage_Elements is\n \n    function \"+\" (Left : Address; Right : Storage_Offset) return Address is\n    begin\n-      return System.Storage_Elements.To_Address\n+      return Storage_Elements.To_Address\n         (To_Integer (Left) + To_Integer (To_Address (Right)));\n    end \"+\";\n \n    function \"+\" (Left : Storage_Offset; Right : Address) return Address is\n    begin\n-      return System.Storage_Elements.To_Address\n+      return Storage_Elements.To_Address\n         (To_Integer (To_Address (Left)) + To_Integer (Right));\n    end \"+\";\n \n    function \"-\" (Left : Address; Right : Storage_Offset) return Address is\n    begin\n-      return System.Storage_Elements.To_Address\n+      return Storage_Elements.To_Address\n         (To_Integer (Left) - To_Integer (To_Address (Right)));\n    end \"-\";\n \n    function \"-\" (Left, Right : Address) return Storage_Offset is\n    begin\n-      return To_Offset (System.Storage_Elements.To_Address\n+      return To_Offset (Storage_Elements.To_Address\n                          (To_Integer (Left) - To_Integer (Right)));\n    end \"-\";\n "}, {"sha": "126b003d14867714415db8b3f974c15093ae2f59", "filename": "gcc/ada/sem_ch4.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/49d140bba45474cb8153c4fdc56db0387261d3b1/gcc%2Fada%2Fsem_ch4.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/49d140bba45474cb8153c4fdc56db0387261d3b1/gcc%2Fada%2Fsem_ch4.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch4.adb?ref=49d140bba45474cb8153c4fdc56db0387261d3b1", "patch": "@@ -6094,7 +6094,7 @@ package body Sem_Ch4 is\n          First_Actual : Node_Id;\n \n       begin\n-         --  Place the name of the operation, with its innterpretations,\n+         --  Place the name of the operation, with its interpretations,\n          --  on the rewritten call.\n \n          Set_Name (Call_Node, Subprog);"}]}