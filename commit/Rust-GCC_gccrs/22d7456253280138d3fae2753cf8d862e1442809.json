{"sha": "22d7456253280138d3fae2753cf8d862e1442809", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjJkNzQ1NjI1MzI4MDEzOGQzZmFlMjc1M2NmOGQ4NjJlMTQ0MjgwOQ==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1994-05-31T23:15:01Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1994-05-31T23:15:01Z"}, "message": "(v_pedwarn_with_decl): Don't even issue warnings from\npedantic errors in system header files.\n\nFrom-SVN: r7398", "tree": {"sha": "947c379e1f01662310ce3ca3c73ce8fea7f4be77", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/947c379e1f01662310ce3ca3c73ce8fea7f4be77"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/22d7456253280138d3fae2753cf8d862e1442809", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22d7456253280138d3fae2753cf8d862e1442809", "html_url": "https://github.com/Rust-GCC/gccrs/commit/22d7456253280138d3fae2753cf8d862e1442809", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22d7456253280138d3fae2753cf8d862e1442809/comments", "author": null, "committer": null, "parents": [{"sha": "2bee044942515a73cab6f6f71593cc145235a132", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2bee044942515a73cab6f6f71593cc145235a132", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2bee044942515a73cab6f6f71593cc145235a132"}], "stats": {"total": 16, "additions": 9, "deletions": 7}, "files": [{"sha": "0cdc52077a42e8f682a50ea2e3200bb0d2d04f8e", "filename": "gcc/toplev.c", "status": "modified", "additions": 9, "deletions": 7, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22d7456253280138d3fae2753cf8d862e1442809/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22d7456253280138d3fae2753cf8d862e1442809/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=22d7456253280138d3fae2753cf8d862e1442809", "patch": "@@ -1560,14 +1560,16 @@ v_pedwarn_with_decl (decl, s, ap)\n      \"errors\" in system header files.  Sometimes fixincludes can't fix what's\n      broken (eg: unsigned char bitfields - fixing it may change the alignment\n      which will cause programs to mysteriously fail because the C library\n-     or kernel uses the original layout).\n+     or kernel uses the original layout).  There's no point in issuing a\n+     warning either, it's just unnecessary noise.  */\n \n-     ??? In fact, we may wish not to issue any message in this case.  */\n-\n-  if (flag_pedantic_errors && ! DECL_IN_SYSTEM_HEADER (decl))\n-    v_error_with_decl (decl, s, ap);\n-  else\n-    v_warning_with_decl (decl, s, ap);\n+  if (! DECL_IN_SYSTEM_HEADER (decl))\n+    {\n+      if (flag_pedantic_errors)\n+\tv_error_with_decl (decl, s, ap);\n+      else\n+\tv_warning_with_decl (decl, s, ap);\n+    }\n }\n \n void"}]}