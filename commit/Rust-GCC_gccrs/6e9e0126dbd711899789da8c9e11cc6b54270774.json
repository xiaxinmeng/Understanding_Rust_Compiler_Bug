{"sha": "6e9e0126dbd711899789da8c9e11cc6b54270774", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmU5ZTAxMjZkYmQ3MTE4OTk3ODlkYThjOWUxMWNjNmI1NDI3MDc3NA==", "commit": {"author": {"name": "Nathan Froyd", "email": "froydnj@codesourcery.com", "date": "2010-06-08T00:21:53Z"}, "committer": {"name": "Nathan Froyd", "email": "froydnj@gcc.gnu.org", "date": "2010-06-08T00:21:53Z"}, "message": "mips-protos.h (mips_print_operand): Delete.\n\n        * config/mips/mips-protos.h (mips_print_operand): Delete.\n\t(mips_print_operand_address): Delete.\n\t* config/mips/mips.h (mips_print_operand_punct): Delete.\n\t(PRINT_OPERAND): Delete.\n\t(PRINT_OPERAND_PUNCT_VALID_P): Delete.\n\t(PRINT_OPERAND_ADDRESS): Delete.\n\t* config/mips/mips.c (mips_print_operand_punct): Make static.\n\t(mips_print_operand_address): Make static.\n\t(mips_print_operand): Make static.  Call\n\tmips_print_operand_punct_valid_p.\n\t(mips_print_operand_punct_valid_p): New function.\n\t(TARGET_PRINT_OPERAND, TARGET_PRINT_OPERAND_ADDRESS): Define.\n\t(TARGET_PRINT_OPERAND_PUNCT_VALID_P): Define.\n\nFrom-SVN: r160415", "tree": {"sha": "e143c767a3715e730bbc941d585b7431e57d53a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e143c767a3715e730bbc941d585b7431e57d53a9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6e9e0126dbd711899789da8c9e11cc6b54270774", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e9e0126dbd711899789da8c9e11cc6b54270774", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6e9e0126dbd711899789da8c9e11cc6b54270774", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e9e0126dbd711899789da8c9e11cc6b54270774/comments", "author": null, "committer": null, "parents": [{"sha": "25667c7d5b6488ba8160ad86f9836d35fd87502b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25667c7d5b6488ba8160ad86f9836d35fd87502b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/25667c7d5b6488ba8160ad86f9836d35fd87502b"}], "stats": {"total": 50, "additions": 37, "deletions": 13}, "files": [{"sha": "86791613454d9b08701f9e7b43259b2f90318903", "filename": "gcc/ChangeLog", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6e9e0126dbd711899789da8c9e11cc6b54270774/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6e9e0126dbd711899789da8c9e11cc6b54270774/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6e9e0126dbd711899789da8c9e11cc6b54270774", "patch": "@@ -1,3 +1,19 @@\n+2010-06-07  Nathan Froyd  <froydnj@codesourcery.com>\n+\n+        * config/mips/mips-protos.h (mips_print_operand): Delete.\n+\t(mips_print_operand_address): Delete.\n+\t* config/mips/mips.h (mips_print_operand_punct): Delete.\n+\t(PRINT_OPERAND): Delete.\n+\t(PRINT_OPERAND_PUNCT_VALID_P): Delete.\n+\t(PRINT_OPERAND_ADDRESS): Delete.\n+\t* config/mips/mips.c (mips_print_operand_punct): Make static.\n+\t(mips_print_operand_address): Make static.\n+\t(mips_print_operand): Make static.  Call\n+\tmips_print_operand_punct_valid_p.\n+\t(mips_print_operand_punct_valid_p): New function.\n+\t(TARGET_PRINT_OPERAND, TARGET_PRINT_OPERAND_ADDRESS): Define.\n+\t(TARGET_PRINT_OPERAND_PUNCT_VALID_P): Define.\n+\n 2010-06-07  Jan Hubicka  <jh@suse.cz>\n \n \tPR middle-end/44454"}, {"sha": "70920fd64a0cb590dcf81394d13f5f11f5aed9c5", "filename": "gcc/config/mips/mips-protos.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6e9e0126dbd711899789da8c9e11cc6b54270774/gcc%2Fconfig%2Fmips%2Fmips-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6e9e0126dbd711899789da8c9e11cc6b54270774/gcc%2Fconfig%2Fmips%2Fmips-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips-protos.h?ref=6e9e0126dbd711899789da8c9e11cc6b54270774", "patch": "@@ -260,8 +260,6 @@ extern HOST_WIDE_INT mips_debugger_offset (rtx, HOST_WIDE_INT);\n \n extern void mips_push_asm_switch (struct mips_asm_switch *);\n extern void mips_pop_asm_switch (struct mips_asm_switch *);\n-extern void mips_print_operand (FILE *, rtx, int);\n-extern void mips_print_operand_address (FILE *, rtx);\n extern void mips_output_external (FILE *, tree, const char *);\n extern void mips_output_filename (FILE *, const char *);\n extern void mips_output_ascii (FILE *, const char *, size_t);"}, {"sha": "33f6047e166c91ad0f25a0326c3002b0744ba51e", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 21, "deletions": 6, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6e9e0126dbd711899789da8c9e11cc6b54270774/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6e9e0126dbd711899789da8c9e11cc6b54270774/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=6e9e0126dbd711899789da8c9e11cc6b54270774", "patch": "@@ -548,7 +548,7 @@ bool mips_hard_regno_mode_ok[(int) MAX_MACHINE_MODE][FIRST_PSEUDO_REGISTER];\n \n /* Index C is true if character C is a valid PRINT_OPERAND punctation\n    character.  */\n-bool mips_print_operand_punct[256];\n+static bool mips_print_operand_punct[256];\n \n static GTY (()) int mips_output_filename_first_time = 1;\n \n@@ -7446,7 +7446,15 @@ mips_print_float_branch_condition (FILE *file, enum rtx_code code, int letter)\n     }\n }\n \n-/* Implement the PRINT_OPERAND macro.  The MIPS-specific operand codes are:\n+/* Implement TARGET_PRINT_OPERAND_PUNCT_VALID_P.  */\n+\n+static bool\n+mips_print_operand_punct_valid_p (unsigned char code)\n+{\n+  return mips_print_operand_punct[code];\n+}\n+\n+/* Implement TARGET_PRINT_OPERAND.  The MIPS-specific operand codes are:\n \n    'X'\tPrint CONST_INT OP in hexadecimal format.\n    'x'\tPrint the low 16 bits of CONST_INT OP in hexadecimal format.\n@@ -7470,12 +7478,12 @@ mips_print_float_branch_condition (FILE *file, enum rtx_code code, int letter)\n    'M'\tPrint high-order register in a double-word register operand.\n    'z'\tPrint $0 if OP is zero, otherwise print OP normally.  */\n \n-void\n+static void\n mips_print_operand (FILE *file, rtx op, int letter)\n {\n   enum rtx_code code;\n \n-  if (PRINT_OPERAND_PUNCT_VALID_P (letter))\n+  if (mips_print_operand_punct_valid_p (letter))\n     {\n       mips_print_operand_punctuation (file, letter);\n       return;\n@@ -7617,9 +7625,9 @@ mips_print_operand (FILE *file, rtx op, int letter)\n     }\n }\n \n-/* Output address operand X to FILE.  */\n+/* Implement TARGET_PRINT_OPERAND_ADDRESS.  */\n \n-void\n+static void\n mips_print_operand_address (FILE *file, rtx x)\n {\n   struct mips_address_info addr;\n@@ -16377,6 +16385,13 @@ void mips_function_profiler (FILE *file)\n #undef TARGET_ASM_CAN_OUTPUT_MI_THUNK\n #define TARGET_ASM_CAN_OUTPUT_MI_THUNK hook_bool_const_tree_hwi_hwi_const_tree_true\n \n+#undef TARGET_PRINT_OPERAND\n+#define TARGET_PRINT_OPERAND mips_print_operand\n+#undef TARGET_PRINT_OPERAND_ADDRESS\n+#define TARGET_PRINT_OPERAND_ADDRESS mips_print_operand_address\n+#undef TARGET_PRINT_OPERAND_PUNCT_VALID_P\n+#define TARGET_PRINT_OPERAND_PUNCT_VALID_P mips_print_operand_punct_valid_p\n+\n #undef TARGET_SETUP_INCOMING_VARARGS\n #define TARGET_SETUP_INCOMING_VARARGS mips_setup_incoming_varargs\n #undef TARGET_STRICT_ARGUMENT_NAMING"}, {"sha": "5ecd59dfd741d634844efea0437275319e782d2a", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6e9e0126dbd711899789da8c9e11cc6b54270774/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6e9e0126dbd711899789da8c9e11cc6b54270774/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=6e9e0126dbd711899789da8c9e11cc6b54270774", "patch": "@@ -2704,10 +2704,6 @@ typedef struct mips_args {\n \n #define ALL_COP_ADDITIONAL_REGISTER_NAMES\n \n-#define PRINT_OPERAND mips_print_operand\n-#define PRINT_OPERAND_PUNCT_VALID_P(CODE) mips_print_operand_punct[CODE]\n-#define PRINT_OPERAND_ADDRESS mips_print_operand_address\n-\n #define DBR_OUTPUT_SEQEND(STREAM)\t\t\t\t\t\\\n do\t\t\t\t\t\t\t\t\t\\\n   {\t\t\t\t\t\t\t\t\t\\\n@@ -3060,7 +3056,6 @@ struct mips_asm_switch {\n \n extern const enum reg_class mips_regno_to_class[];\n extern bool mips_hard_regno_mode_ok[][FIRST_PSEUDO_REGISTER];\n-extern bool mips_print_operand_punct[256];\n extern const char *current_function_file; /* filename current function is in */\n extern int num_source_filenames;\t/* current .file # */\n extern struct mips_asm_switch mips_noreorder;"}]}