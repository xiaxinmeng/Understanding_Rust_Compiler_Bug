{"sha": "5f013ee9ee215402cacf65fa34d09d7d0314c950", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWYwMTNlZTllZTIxNTQwMmNhY2Y2NWZhMzRkMDlkN2QwMzE0Yzk1MA==", "commit": {"author": {"name": "Hartmut Penner", "email": "hpenner@de.ibm.com", "date": "2004-02-11T15:43:28Z"}, "committer": {"name": "Hartmut Penner", "email": "hpenner@gcc.gnu.org", "date": "2004-02-11T15:43:28Z"}, "message": "* g++.dg/simd-2.C: Set -maltivec for ppc64.\n\nFrom-SVN: r77664", "tree": {"sha": "869afabae8a8a47e9a44745c7a0123f99a82e16f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/869afabae8a8a47e9a44745c7a0123f99a82e16f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5f013ee9ee215402cacf65fa34d09d7d0314c950", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f013ee9ee215402cacf65fa34d09d7d0314c950", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f013ee9ee215402cacf65fa34d09d7d0314c950", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f013ee9ee215402cacf65fa34d09d7d0314c950/comments", "author": null, "committer": null, "parents": [{"sha": "12f9df4ec55a2004a9c9201886440d9503b6a858", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12f9df4ec55a2004a9c9201886440d9503b6a858", "html_url": "https://github.com/Rust-GCC/gccrs/commit/12f9df4ec55a2004a9c9201886440d9503b6a858"}], "stats": {"total": 25, "additions": 23, "deletions": 2}, "files": [{"sha": "be07e1ff45b7919d24d249a304bdf743c3a47dcd", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f013ee9ee215402cacf65fa34d09d7d0314c950/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f013ee9ee215402cacf65fa34d09d7d0314c950/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5f013ee9ee215402cacf65fa34d09d7d0314c950", "patch": "@@ -2,6 +2,10 @@\n \n \t* gcc.dg/pr14092-1.c: Use intptr_t for the cast.\n \n+2004-02-11  Hartmut Penner  <hpenner@de.ibm.com>\n+\n+        * g++.dg/simd-2.C: Set -maltivec for ppc64.\n+\n 2004-02-11  Hartmut Penner  <hpenner@de.ibm.com>\n \n         * gcc.dg/ppc64-abi-3.c: New test."}, {"sha": "55f603aa3589aa349453842d0f696cd4145e6efb", "filename": "gcc/testsuite/g++.dg/eh/simd-2.C", "status": "modified", "additions": 19, "deletions": 2, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f013ee9ee215402cacf65fa34d09d7d0314c950/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Feh%2Fsimd-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f013ee9ee215402cacf65fa34d09d7d0314c950/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Feh%2Fsimd-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Feh%2Fsimd-2.C?ref=5f013ee9ee215402cacf65fa34d09d7d0314c950", "patch": "@@ -2,10 +2,21 @@\n // Contributed by Aldy Hernandez (aldy@quesejoda.com).\n // { dg-options \"-O\" }\n // { dg-options \"-O -w\" { target i?86-*-* } }\n+// { dg-options \"-O -maltivec\" { target powerpc64-*-linux* } }\n // { dg-do run }\n-// { dg-error \"\" \"PR target/12916\" { target sparc64-*-* sparcv9-*-* } 12 }\n-// { dg-error \"\" \"PR target/12916\" { target sparc-*-* } 14 }\n+// { dg-error \"\" \"PR target/12916\" { target sparc64-*-* sparcv9-*-* } 23 }\n+// { dg-error \"\" \"PR target/12916\" { target sparc-*-* } 25 }\n+#ifdef __powerpc64__\n+#include <signal.h>\n+extern void\n+exit (int);\n \n+void \n+sig_ill_handler (int sig)\n+{\n+    exit(0);\n+}\n+#endif\n typedef int __attribute__((mode(V4SI))) vecint;\n \n vecint vecfunc (vecint beachbum)\n@@ -44,6 +55,12 @@ void f1 (void)\n \n int main ()\n {\n+#ifdef __powerpc64__\n+  /* Exit on systems without altivec.  */\n+  signal (SIGILL, sig_ill_handler);\n+  asm volatile (\".long 0x10000484\");  \n+  signal (SIGILL, SIG_DFL);\n+#endif\n   f1 ();\n   return 0;\n }"}]}