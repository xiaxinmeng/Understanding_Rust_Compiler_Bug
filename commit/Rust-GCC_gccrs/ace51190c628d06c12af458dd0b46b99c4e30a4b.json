{"sha": "ace51190c628d06c12af458dd0b46b99c4e30a4b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWNlNTExOTBjNjI4ZDA2YzEyYWY0NThkZDBiNDZiOTljNGUzMGE0Yg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@adacore.com", "date": "2020-12-11T08:57:08Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2021-04-29T08:00:43Z"}, "message": "[Ada] AI12-0407: Fixups on Big_Integers and Big_Reals\n\ngcc/ada/\n\n\t* libgnat/a-nbnbin.ads (From_Universal_Image): New.\n\t(Big_Integer): Update definition.\n\t* libgnat/a-nbnbre.ads, libgnat/a-nbnbre.adb\n\t(From_Universal_Image): New.\n\t(From_String): Remove alternate body, replaced by\n\tFrom_Universal_Image.\n\t(Big_Real): Update definition.", "tree": {"sha": "e29b924361927e81d5b4f04879e3be65c4b5cc88", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e29b924361927e81d5b4f04879e3be65c4b5cc88"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ace51190c628d06c12af458dd0b46b99c4e30a4b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ace51190c628d06c12af458dd0b46b99c4e30a4b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ace51190c628d06c12af458dd0b46b99c4e30a4b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ace51190c628d06c12af458dd0b46b99c4e30a4b/comments", "author": {"login": "ArnaudCharlet", "id": 30291825, "node_id": "MDQ6VXNlcjMwMjkxODI1", "avatar_url": "https://avatars.githubusercontent.com/u/30291825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArnaudCharlet", "html_url": "https://github.com/ArnaudCharlet", "followers_url": "https://api.github.com/users/ArnaudCharlet/followers", "following_url": "https://api.github.com/users/ArnaudCharlet/following{/other_user}", "gists_url": "https://api.github.com/users/ArnaudCharlet/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArnaudCharlet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArnaudCharlet/subscriptions", "organizations_url": "https://api.github.com/users/ArnaudCharlet/orgs", "repos_url": "https://api.github.com/users/ArnaudCharlet/repos", "events_url": "https://api.github.com/users/ArnaudCharlet/events{/privacy}", "received_events_url": "https://api.github.com/users/ArnaudCharlet/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2d98b9a9a8a4a5eb3f361b7e5fc06b7041ba45e6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d98b9a9a8a4a5eb3f361b7e5fc06b7041ba45e6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d98b9a9a8a4a5eb3f361b7e5fc06b7041ba45e6"}], "stats": {"total": 23, "additions": 12, "deletions": 11}, "files": [{"sha": "31a8bc956cfb9823576ee3d80b670021eeafea85", "filename": "gcc/ada/libgnat/a-nbnbin.ads", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ace51190c628d06c12af458dd0b46b99c4e30a4b/gcc%2Fada%2Flibgnat%2Fa-nbnbin.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ace51190c628d06c12af458dd0b46b99c4e30a4b/gcc%2Fada%2Flibgnat%2Fa-nbnbin.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fa-nbnbin.ads?ref=ace51190c628d06c12af458dd0b46b99c4e30a4b", "patch": "@@ -22,7 +22,7 @@ package Ada.Numerics.Big_Numbers.Big_Integers\n   with Preelaborate\n is\n    type Big_Integer is private\n-     with Integer_Literal => From_String,\n+     with Integer_Literal => From_Universal_Image,\n           Put_Image       => Put_Image;\n \n    function Is_Valid (Arg : Big_Integer) return Boolean\n@@ -116,6 +116,9 @@ is\n    function From_String (Arg : String) return Valid_Big_Integer\n      with Global => null;\n \n+   function From_Universal_Image (Arg : String) return Valid_Big_Integer\n+     renames From_String;\n+\n    procedure Put_Image (S : in out Sink'Class; V : Big_Integer);\n \n    function \"+\" (L : Valid_Big_Integer) return Valid_Big_Integer"}, {"sha": "d475b86a4ac781e9fde0a2bd90bbf650851dede0", "filename": "gcc/ada/libgnat/a-nbnbre.adb", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ace51190c628d06c12af458dd0b46b99c4e30a4b/gcc%2Fada%2Flibgnat%2Fa-nbnbre.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ace51190c628d06c12af458dd0b46b99c4e30a4b/gcc%2Fada%2Flibgnat%2Fa-nbnbre.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fa-nbnbre.adb?ref=ace51190c628d06c12af458dd0b46b99c4e30a4b", "patch": "@@ -593,13 +593,6 @@ package body Ada.Numerics.Big_Numbers.Big_Reals is\n       end;\n    end From_String;\n \n-   function From_String\n-     (Numerator, Denominator : String) return Valid_Big_Real is\n-   begin\n-      return Big_Integers.From_String (Numerator) /\n-        Big_Integers.From_String (Denominator);\n-   end From_String;\n-\n    --------------------------\n    -- From_Quotient_String --\n    --------------------------"}, {"sha": "eb7c8a7e572e82f0143914ab477fb4f40dbe8d29", "filename": "gcc/ada/libgnat/a-nbnbre.ads", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ace51190c628d06c12af458dd0b46b99c4e30a4b/gcc%2Fada%2Flibgnat%2Fa-nbnbre.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ace51190c628d06c12af458dd0b46b99c4e30a4b/gcc%2Fada%2Flibgnat%2Fa-nbnbre.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fa-nbnbre.ads?ref=ace51190c628d06c12af458dd0b46b99c4e30a4b", "patch": "@@ -21,7 +21,7 @@ package Ada.Numerics.Big_Numbers.Big_Reals\n   with Preelaborate\n is\n    type Big_Real is private with\n-     Real_Literal => From_String,\n+     Real_Literal => From_Universal_Image,\n      Put_Image    => Put_Image;\n \n    function Is_Valid (Arg : Big_Real) return Boolean\n@@ -122,8 +122,13 @@ is\n \n    function From_String (Arg : String) return Valid_Big_Real\n      with Global => null;\n-   function From_String (Numerator, Denominator : String) return Valid_Big_Real\n-     with Global => null;\n+\n+   function From_Universal_Image (Arg : String) return Valid_Big_Real\n+     renames From_String;\n+   function From_Universal_Image (Num, Den : String) return Valid_Big_Real is\n+     (Big_Integers.From_Universal_Image (Num) /\n+      Big_Integers.From_Universal_Image (Den))\n+      with Global => null;\n \n    function To_Quotient_String (Arg : Big_Real) return String is\n      (Big_Integers.To_String (Numerator (Arg)) & \" / \""}]}