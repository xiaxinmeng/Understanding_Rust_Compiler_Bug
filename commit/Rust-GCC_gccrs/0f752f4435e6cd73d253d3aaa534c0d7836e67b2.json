{"sha": "0f752f4435e6cd73d253d3aaa534c0d7836e67b2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGY3NTJmNDQzNWU2Y2Q3M2QyNTNkM2FhYTUzNGMwZDc4MzZlNjdiMg==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2010-03-04T02:55:08Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2010-03-04T02:55:08Z"}, "message": "Makefile.am: Re-organize xml sources.\n\n2010-03-03  Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* doc/Makefile.am: Re-organize xml sources.\n\t(doc-latex-doxygen): New.\n\t(doc-pdf-doxygen): New.\n\t(stamp-xml-doxygen, stamp-latex-doxygen): New.\n\t* doc/Makefile.in: Regenerate.\n\t* doc/doxygen/user.cfg.in: Add support here.\n\t* doc/xml/manual/appendix_contributing.xml: Add specifics.\n\n\t* doc/xml/manual/concurrency.xml: New.\n\t* doc/xml/manual/atomics.xml: New.\n\t* doc/xml/manual/spine.xml: Adjust.\n\t* doc/xml/manual/diagnostics.xml: Adjust.\n\nFrom-SVN: r157214", "tree": {"sha": "6fe79f2c9f8f83b222b4c4e7514d057df3f5db6d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6fe79f2c9f8f83b222b4c4e7514d057df3f5db6d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0f752f4435e6cd73d253d3aaa534c0d7836e67b2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f752f4435e6cd73d253d3aaa534c0d7836e67b2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f752f4435e6cd73d253d3aaa534c0d7836e67b2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f752f4435e6cd73d253d3aaa534c0d7836e67b2/comments", "author": null, "committer": null, "parents": [{"sha": "c05a5e2992d4445ce19f9d6761ac6deed122e9bf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c05a5e2992d4445ce19f9d6761ac6deed122e9bf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c05a5e2992d4445ce19f9d6761ac6deed122e9bf"}], "stats": {"total": 709, "additions": 496, "deletions": 213}, "files": [{"sha": "c97dbf074f982a1a66e3d68df3f273a4f2909dce", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f752f4435e6cd73d253d3aaa534c0d7836e67b2/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f752f4435e6cd73d253d3aaa534c0d7836e67b2/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=0f752f4435e6cd73d253d3aaa534c0d7836e67b2", "patch": "@@ -1,3 +1,18 @@\n+2010-03-03  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\t* doc/Makefile.am: Re-organize xml sources.\n+\t(doc-latex-doxygen): New.\n+\t(doc-pdf-doxygen): New.\n+\t(stamp-xml-doxygen, stamp-latex-doxygen): New.\n+\t* doc/Makefile.in: Regenerate.\n+\t* doc/doxygen/user.cfg.in: Add support here.\n+\t* doc/xml/manual/appendix_contributing.xml: Add specifics.\n+\n+\t* doc/xml/manual/concurrency.xml: New.\n+\t* doc/xml/manual/atomics.xml: New.\n+\t* doc/xml/manual/spine.xml: Adjust.\n+\t* doc/xml/manual/diagnostics.xml: Adjust.\n+\n 2010-03-03  Paolo Carlini  <paolo.carlini@oracle.com>\n \t    Jonathan Wakely  <jwakely.gcc@gmail.com>\n "}, {"sha": "52ac78da8c04eb7775aa729f5a98cfcf74f62683", "filename": "libstdc++-v3/doc/Makefile.am", "status": "modified", "additions": 108, "deletions": 64, "changes": 172, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f752f4435e6cd73d253d3aaa534c0d7836e67b2/libstdc%2B%2B-v3%2Fdoc%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f752f4435e6cd73d253d3aaa534c0d7836e67b2/libstdc%2B%2B-v3%2Fdoc%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2FMakefile.am?ref=0f752f4435e6cd73d253d3aaa534c0d7836e67b2", "patch": "@@ -41,7 +41,7 @@ doc-html: doc-html-docbook\n \n \n # Doxygen configuration\n-# Assumes doxygen, graphviz (with dot) installed\n+# Assumes doxygen, graphviz (with dot), pdflatex installed\n doxygen_script=${top_srcdir}/scripts/run_doxygen\n doxygen_outdir = ${glibcxx_builddir}/doc/doxygen\n doc-html-doxygen:\n@@ -56,85 +56,129 @@ doc-man-doxygen:\n \t  ${SHELL} ${doxygen_script} \\\n \t  --host_alias=${host_alias} --mode=man $${srcdir} $${builddir} YES)\n \n-doc-xml-doxygen: \n+doc-xml-doxygen:\n \t-(srcdir=`cd ${top_srcdir}; ${PWD_COMMAND}`; \\\n \t  builddir=`cd ..; ${PWD_COMMAND}`; \\\n \t  ${SHELL} ${doxygen_script} \\\n \t  --host_alias=${host_alias} --mode=xml $${srcdir} $${builddir} NO)\n \n-doc-xml-single-doxygen:\n+doc-xml-single-doxygen: doc-xml-doxygen\n \t@echo \"Generating doxygen xml single file...\"\n \t$(XSLTPROC) ${doxygen_outdir}/xml/combine.xslt \\\n-\t${doxygen_outdir}/xml/spine.xml > ${doxygen_outdir}/xml/all.xml;\n+\t${doxygen_outdir}/xml/index.xml > ${doxygen_outdir}/xml/api-spine.xml;\n \n+doc-latex-doxygen:\n+\t-(srcdir=`cd ${top_srcdir}; ${PWD_COMMAND}`; \\\n+\t  builddir=`cd ..; ${PWD_COMMAND}`; \\\n+\t  ${SHELL} ${doxygen_script} \\\n+\t  --host_alias=${host_alias} --mode=latex $${srcdir} $${builddir} NO)\n+\n+# Chance of loooooonnggg wait time when creating this file.\n+doxygen_pdf = ${doxygen_outdir}/latex/refman.pdf\n+\n+doc-pdf-doxygen: stamp-latex-doxygen\n+\t-(cd ${doxygen_outdir}/latex && $(MAKE) -i pdf;)\n+\techo \"Generating doxygen pdf file...\";\n+\tif [ -f ${doxygen_pdf} ]; then \\\n+\t  echo \"... ${doxygen_pdf}\"; \\\n+\telse \\\n+\t  echo \"... error\"; \\\n+\t  exit 12; \\\n+\tfi\n+\n+stamp-xml-doxygen:\n+\t@if [ ! -f stamp-xml-doxygen ]; then \\\n+\t  $(MAKE) doc-xml-single-doxygen; \\\n+\tfi\n+\t$(STAMP) stamp-xml-doxygen\n+\n+stamp-latex-doxygen:\n+\t@if [ ! -f stamp-latex-doxygen ]; then \\\n+\t  $(MAKE) doc-latex-doxygen; \\\n+\tfi\n+\t$(STAMP) stamp-latex-doxygen\n \n # Docbook configuration.\n # Assumes\n # libxslt\n+# dblatex\n+# pdflatex\n # docbook-style-xsl\n-# emacs-nxml-mode \n+# emacs-nxml-mode\n # xmlto passivetex\n docbook_outdir = ${glibcxx_builddir}/doc/docbook\n-xml_srcdir = ${glibcxx_srcdir}/doc/xml\n-xml_sources = \\\n-\t${xml_srcdir}/spine.xml \\\n-\t${xml_srcdir}/authors.xml \\\n-\t${xml_srcdir}/manual/abi.xml \\\n-\t${xml_srcdir}/manual/algorithms.xml \\\n-\t${xml_srcdir}/manual/allocator.xml \\\n-\t${xml_srcdir}/manual/auto_ptr.xml \\\n-\t${xml_srcdir}/manual/backwards_compatibility.xml \\\n-\t${xml_srcdir}/manual/bitmap_allocator.xml \\\n-\t${xml_srcdir}/manual/build_hacking.xml \\\n-\t${xml_srcdir}/manual/codecvt.xml \\\n-\t${xml_srcdir}/manual/concurrency_extensions.xml \\\n-\t${xml_srcdir}/manual/configure.xml \\\n-\t${xml_srcdir}/manual/containers.xml \\\n-\t${xml_srcdir}/manual/ctype.xml \\\n-\t${xml_srcdir}/manual/debug_mode.xml \\\n-\t${xml_srcdir}/manual/debug.xml \\\n-\t${xml_srcdir}/manual/diagnostics.xml \\\n-\t${xml_srcdir}/manual/evolution.xml \\\n-\t${xml_srcdir}/manual/extensions.xml \\\n-\t${xml_srcdir}/manual/internals.xml \\\n-\t${xml_srcdir}/manual/intro.xml \\\n-\t${xml_srcdir}/manual/io.xml \\\n-\t${xml_srcdir}/manual/iterators.xml \\\n-\t${xml_srcdir}/manual/locale.xml \\\n-\t${xml_srcdir}/manual/localization.xml \\\n-\t${xml_srcdir}/manual/messages.xml \\\n-\t${xml_srcdir}/manual/mt_allocator.xml \\\n-\t${xml_srcdir}/manual/numerics.xml \\\n-\t${xml_srcdir}/manual/parallel_mode.xml \\\n-\t${xml_srcdir}/manual/prerequisites.xml \\\n-\t${xml_srcdir}/manual/profile_mode.xml \\\n-\t${xml_srcdir}/manual/internals.xml \\\n-\t${xml_srcdir}/manual/shared_ptr.xml \\\n-\t${xml_srcdir}/manual/spine.xml \\\n-\t${xml_srcdir}/manual/status_cxx1998.xml \\\n-\t${xml_srcdir}/manual/status_cxx200x.xml \\\n-\t${xml_srcdir}/manual/status_cxxtr1.xml \\\n-\t${xml_srcdir}/manual/status_cxxtr24733.xml \\\n-\t${xml_srcdir}/manual/strings.xml \\\n-\t${xml_srcdir}/manual/support.xml \\\n-\t${xml_srcdir}/manual/test.xml \\\n-\t${xml_srcdir}/manual/using.xml \\\n-\t${xml_srcdir}/manual/using_exceptions.xml \\\n-\t${xml_srcdir}/manual/utilities.xml \\\n-\t${xml_srcdir}/manual/appendix_free.xml \\\n-\t${xml_srcdir}/manual/appendix_contributing.xml \\\n-\t${xml_srcdir}/manual/appendix_porting.xml \\\n-\t${xml_srcdir}/api.xml \\\n-\t${xml_srcdir}/faq.xml\n+xml_dir = ${glibcxx_srcdir}/doc/xml\n+\n+xml_sources_basic = \\\n+\t${xml_dir}/spine.xml \\\n+\t${xml_dir}/authors.xml \\\n+\t${xml_dir}/api.xml \\\n+\t${xml_dir}/faq.xml\n+\n+xml_sources_manual = \\\n+\t${xml_dir}/manual/abi.xml \\\n+\t${xml_dir}/manual/algorithms.xml \\\n+\t${xml_dir}/manual/allocator.xml \\\n+\t${xml_dir}/manual/auto_ptr.xml \\\n+\t${xml_dir}/manual/atomics.xml \\\n+\t${xml_dir}/manual/backwards_compatibility.xml \\\n+\t${xml_dir}/manual/bitmap_allocator.xml \\\n+\t${xml_dir}/manual/build_hacking.xml \\\n+\t${xml_dir}/manual/codecvt.xml \\\n+\t${xml_dir}/manual/concurrency.xml \\\n+\t${xml_dir}/manual/concurrency_extensions.xml \\\n+\t${xml_dir}/manual/configure.xml \\\n+\t${xml_dir}/manual/containers.xml \\\n+\t${xml_dir}/manual/ctype.xml \\\n+\t${xml_dir}/manual/debug_mode.xml \\\n+\t${xml_dir}/manual/debug.xml \\\n+\t${xml_dir}/manual/diagnostics.xml \\\n+\t${xml_dir}/manual/evolution.xml \\\n+\t${xml_dir}/manual/extensions.xml \\\n+\t${xml_dir}/manual/internals.xml \\\n+\t${xml_dir}/manual/intro.xml \\\n+\t${xml_dir}/manual/io.xml \\\n+\t${xml_dir}/manual/iterators.xml \\\n+\t${xml_dir}/manual/locale.xml \\\n+\t${xml_dir}/manual/localization.xml \\\n+\t${xml_dir}/manual/messages.xml \\\n+\t${xml_dir}/manual/mt_allocator.xml \\\n+\t${xml_dir}/manual/numerics.xml \\\n+\t${xml_dir}/manual/parallel_mode.xml \\\n+\t${xml_dir}/manual/prerequisites.xml \\\n+\t${xml_dir}/manual/profile_mode.xml \\\n+\t${xml_dir}/manual/shared_ptr.xml \\\n+\t${xml_dir}/manual/spine.xml \\\n+\t${xml_dir}/manual/status_cxx1998.xml \\\n+\t${xml_dir}/manual/status_cxx200x.xml \\\n+\t${xml_dir}/manual/status_cxxtr1.xml \\\n+\t${xml_dir}/manual/status_cxxtr24733.xml \\\n+\t${xml_dir}/manual/strings.xml \\\n+\t${xml_dir}/manual/support.xml \\\n+\t${xml_dir}/manual/test.xml \\\n+\t${xml_dir}/manual/using.xml \\\n+\t${xml_dir}/manual/using_exceptions.xml \\\n+\t${xml_dir}/manual/utilities.xml \\\n+\t${xml_dir}/manual/appendix_free.xml \\\n+\t${xml_dir}/manual/appendix_contributing.xml \\\n+\t${xml_dir}/manual/appendix_porting.xml\n \n xml_sources_extra = \\\n-\t${xml_srcdir}/gnu/fdl-1.2.xml \\\n-\t${xml_srcdir}/gnu/gpl-2.0.xml\n+\t${xml_dir}/gnu/fdl-1.2.xml \\\n+\t${xml_dir}/gnu/gpl-2.0.xml\n+\n+xml_sources = \\\n+\t${xml_sources_basic} \\\n+\t${xml_sources_manual} \\\n+\t${xml_sources_extra}\n \n xml_noinst = \\\n-\t${xml_srcdir}/book.txml \\\n-\t${xml_srcdir}/chapter.txml \\\n-\t${xml_srcdir}/class.txml\n+\t${xml_dir}/book.txml \\\n+\t${xml_dir}/chapter.txml \\\n+\t${xml_dir}/class.txml \\\n+\t${xsl_dir}/doxygen2boostbook.xsl \\\n+\t${xsl_dir}/boostbook2docbook.xsl \\\n+\t${xsl_dir}/lookup.xsl\n \n \n XSLTPROC       = xsltproc\n@@ -159,7 +203,7 @@ ${docbook_outdir}/xml:\n \n # Validate existing XML structure.\n XMLLINT = xmllint\n-#LINT_FLAGS = --debug --nonet --xinclude --nsclean --postvalid --nowarning \n+#LINT_FLAGS = --debug --nonet --xinclude --nsclean --postvalid --nowarning\n #LINT_FLAGS = --noblanks --noout --xinclude --postvalid --noent\n LINT_FLAGS = --postvalid --debug --xinclude --noent --noblanks  --nonet --noout\n VALID_FLAGS = --dtdvalid http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd\n@@ -196,7 +240,7 @@ doc-fo-docbook: $(xml_sources) ${docbook_outdir}/fo\n # fop\n FOP = fop\n FOP_FLAGS = -d -r\n-doc-pdf-fop-xml-docbook: $(xml_sources) ${glibcxx_builddir}/doc/pdf \n+doc-pdf-fop-xml-docbook: $(xml_sources) ${glibcxx_builddir}/doc/pdf\n \t@echo \"Generating pdf fop files from xml...\"\n \t$(FOP) $(FOP_FLAGS) -xml ${top_srcdir}/doc/xml/spine.xml \\\n \t-xsl $(XSL_FO_STYLE) -pdf ${docbook_outdir}/pdf/spine.pdf\n@@ -256,4 +300,4 @@ CLEANFILES = *.log\n \n # To remove directories.\n clean-local:\n-\trm -rf man html pdf fo xml doxygen docbook\n+\trm -rf man html pdf fo xml doxygen docbook stamp*"}, {"sha": "40548cd8b4ff7798bd5ae12c44d7cefe9051df1b", "filename": "libstdc++-v3/doc/Makefile.in", "status": "modified", "additions": 108, "deletions": 64, "changes": 172, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f752f4435e6cd73d253d3aaa534c0d7836e67b2/libstdc%2B%2B-v3%2Fdoc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f752f4435e6cd73d253d3aaa534c0d7836e67b2/libstdc%2B%2B-v3%2Fdoc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2FMakefile.in?ref=0f752f4435e6cd73d253d3aaa534c0d7836e67b2", "patch": "@@ -264,77 +264,93 @@ WARN_CXXFLAGS = \\\n AM_CPPFLAGS = $(GLIBCXX_INCLUDES)\n \n # Doxygen configuration\n-# Assumes doxygen, graphviz (with dot) installed\n+# Assumes doxygen, graphviz (with dot), pdflatex installed\n doxygen_script = ${top_srcdir}/scripts/run_doxygen\n doxygen_outdir = ${glibcxx_builddir}/doc/doxygen\n \n+# Chance of loooooonnggg wait time when creating this file.\n+doxygen_pdf = ${doxygen_outdir}/latex/refman.pdf\n+\n # Docbook configuration.\n # Assumes\n # libxslt\n+# dblatex\n+# pdflatex\n # docbook-style-xsl\n-# emacs-nxml-mode \n+# emacs-nxml-mode\n # xmlto passivetex\n docbook_outdir = ${glibcxx_builddir}/doc/docbook\n-xml_srcdir = ${glibcxx_srcdir}/doc/xml\n-xml_sources = \\\n-\t${xml_srcdir}/spine.xml \\\n-\t${xml_srcdir}/authors.xml \\\n-\t${xml_srcdir}/manual/abi.xml \\\n-\t${xml_srcdir}/manual/algorithms.xml \\\n-\t${xml_srcdir}/manual/allocator.xml \\\n-\t${xml_srcdir}/manual/auto_ptr.xml \\\n-\t${xml_srcdir}/manual/backwards_compatibility.xml \\\n-\t${xml_srcdir}/manual/bitmap_allocator.xml \\\n-\t${xml_srcdir}/manual/build_hacking.xml \\\n-\t${xml_srcdir}/manual/codecvt.xml \\\n-\t${xml_srcdir}/manual/concurrency_extensions.xml \\\n-\t${xml_srcdir}/manual/configure.xml \\\n-\t${xml_srcdir}/manual/containers.xml \\\n-\t${xml_srcdir}/manual/ctype.xml \\\n-\t${xml_srcdir}/manual/debug_mode.xml \\\n-\t${xml_srcdir}/manual/debug.xml \\\n-\t${xml_srcdir}/manual/diagnostics.xml \\\n-\t${xml_srcdir}/manual/evolution.xml \\\n-\t${xml_srcdir}/manual/extensions.xml \\\n-\t${xml_srcdir}/manual/internals.xml \\\n-\t${xml_srcdir}/manual/intro.xml \\\n-\t${xml_srcdir}/manual/io.xml \\\n-\t${xml_srcdir}/manual/iterators.xml \\\n-\t${xml_srcdir}/manual/locale.xml \\\n-\t${xml_srcdir}/manual/localization.xml \\\n-\t${xml_srcdir}/manual/messages.xml \\\n-\t${xml_srcdir}/manual/mt_allocator.xml \\\n-\t${xml_srcdir}/manual/numerics.xml \\\n-\t${xml_srcdir}/manual/parallel_mode.xml \\\n-\t${xml_srcdir}/manual/prerequisites.xml \\\n-\t${xml_srcdir}/manual/profile_mode.xml \\\n-\t${xml_srcdir}/manual/internals.xml \\\n-\t${xml_srcdir}/manual/shared_ptr.xml \\\n-\t${xml_srcdir}/manual/spine.xml \\\n-\t${xml_srcdir}/manual/status_cxx1998.xml \\\n-\t${xml_srcdir}/manual/status_cxx200x.xml \\\n-\t${xml_srcdir}/manual/status_cxxtr1.xml \\\n-\t${xml_srcdir}/manual/status_cxxtr24733.xml \\\n-\t${xml_srcdir}/manual/strings.xml \\\n-\t${xml_srcdir}/manual/support.xml \\\n-\t${xml_srcdir}/manual/test.xml \\\n-\t${xml_srcdir}/manual/using.xml \\\n-\t${xml_srcdir}/manual/using_exceptions.xml \\\n-\t${xml_srcdir}/manual/utilities.xml \\\n-\t${xml_srcdir}/manual/appendix_free.xml \\\n-\t${xml_srcdir}/manual/appendix_contributing.xml \\\n-\t${xml_srcdir}/manual/appendix_porting.xml \\\n-\t${xml_srcdir}/api.xml \\\n-\t${xml_srcdir}/faq.xml\n+xml_dir = ${glibcxx_srcdir}/doc/xml\n+xml_sources_basic = \\\n+\t${xml_dir}/spine.xml \\\n+\t${xml_dir}/authors.xml \\\n+\t${xml_dir}/api.xml \\\n+\t${xml_dir}/faq.xml\n+\n+xml_sources_manual = \\\n+\t${xml_dir}/manual/abi.xml \\\n+\t${xml_dir}/manual/algorithms.xml \\\n+\t${xml_dir}/manual/allocator.xml \\\n+\t${xml_dir}/manual/auto_ptr.xml \\\n+\t${xml_dir}/manual/atomics.xml \\\n+\t${xml_dir}/manual/backwards_compatibility.xml \\\n+\t${xml_dir}/manual/bitmap_allocator.xml \\\n+\t${xml_dir}/manual/build_hacking.xml \\\n+\t${xml_dir}/manual/codecvt.xml \\\n+\t${xml_dir}/manual/concurrency.xml \\\n+\t${xml_dir}/manual/concurrency_extensions.xml \\\n+\t${xml_dir}/manual/configure.xml \\\n+\t${xml_dir}/manual/containers.xml \\\n+\t${xml_dir}/manual/ctype.xml \\\n+\t${xml_dir}/manual/debug_mode.xml \\\n+\t${xml_dir}/manual/debug.xml \\\n+\t${xml_dir}/manual/diagnostics.xml \\\n+\t${xml_dir}/manual/evolution.xml \\\n+\t${xml_dir}/manual/extensions.xml \\\n+\t${xml_dir}/manual/internals.xml \\\n+\t${xml_dir}/manual/intro.xml \\\n+\t${xml_dir}/manual/io.xml \\\n+\t${xml_dir}/manual/iterators.xml \\\n+\t${xml_dir}/manual/locale.xml \\\n+\t${xml_dir}/manual/localization.xml \\\n+\t${xml_dir}/manual/messages.xml \\\n+\t${xml_dir}/manual/mt_allocator.xml \\\n+\t${xml_dir}/manual/numerics.xml \\\n+\t${xml_dir}/manual/parallel_mode.xml \\\n+\t${xml_dir}/manual/prerequisites.xml \\\n+\t${xml_dir}/manual/profile_mode.xml \\\n+\t${xml_dir}/manual/shared_ptr.xml \\\n+\t${xml_dir}/manual/spine.xml \\\n+\t${xml_dir}/manual/status_cxx1998.xml \\\n+\t${xml_dir}/manual/status_cxx200x.xml \\\n+\t${xml_dir}/manual/status_cxxtr1.xml \\\n+\t${xml_dir}/manual/status_cxxtr24733.xml \\\n+\t${xml_dir}/manual/strings.xml \\\n+\t${xml_dir}/manual/support.xml \\\n+\t${xml_dir}/manual/test.xml \\\n+\t${xml_dir}/manual/using.xml \\\n+\t${xml_dir}/manual/using_exceptions.xml \\\n+\t${xml_dir}/manual/utilities.xml \\\n+\t${xml_dir}/manual/appendix_free.xml \\\n+\t${xml_dir}/manual/appendix_contributing.xml \\\n+\t${xml_dir}/manual/appendix_porting.xml\n \n xml_sources_extra = \\\n-\t${xml_srcdir}/gnu/fdl-1.2.xml \\\n-\t${xml_srcdir}/gnu/gpl-2.0.xml\n+\t${xml_dir}/gnu/fdl-1.2.xml \\\n+\t${xml_dir}/gnu/gpl-2.0.xml\n+\n+xml_sources = \\\n+\t${xml_sources_basic} \\\n+\t${xml_sources_manual} \\\n+\t${xml_sources_extra}\n \n xml_noinst = \\\n-\t${xml_srcdir}/book.txml \\\n-\t${xml_srcdir}/chapter.txml \\\n-\t${xml_srcdir}/class.txml\n+\t${xml_dir}/book.txml \\\n+\t${xml_dir}/chapter.txml \\\n+\t${xml_dir}/class.txml \\\n+\t${xsl_dir}/doxygen2boostbook.xsl \\\n+\t${xsl_dir}/boostbook2docbook.xsl \\\n+\t${xsl_dir}/lookup.xsl\n \n XSLTPROC = xsltproc\n XSLTPROC_FLAGS = --nonet --xinclude\n@@ -346,7 +362,7 @@ XSL_HTML_SINGLE_STYLE = $(XSL_STYLE_DIR)/xhtml/docbook.xsl\n \n # Validate existing XML structure.\n XMLLINT = xmllint\n-#LINT_FLAGS = --debug --nonet --xinclude --nsclean --postvalid --nowarning \n+#LINT_FLAGS = --debug --nonet --xinclude --nsclean --postvalid --nowarning\n #LINT_FLAGS = --noblanks --noout --xinclude --postvalid --noent\n LINT_FLAGS = --postvalid --debug --xinclude --noent --noblanks  --nonet --noout\n VALID_FLAGS = --dtdvalid http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd\n@@ -598,16 +614,44 @@ doc-man-doxygen:\n \t  ${SHELL} ${doxygen_script} \\\n \t  --host_alias=${host_alias} --mode=man $${srcdir} $${builddir} YES)\n \n-doc-xml-doxygen: \n+doc-xml-doxygen:\n \t-(srcdir=`cd ${top_srcdir}; ${PWD_COMMAND}`; \\\n \t  builddir=`cd ..; ${PWD_COMMAND}`; \\\n \t  ${SHELL} ${doxygen_script} \\\n \t  --host_alias=${host_alias} --mode=xml $${srcdir} $${builddir} NO)\n \n-doc-xml-single-doxygen:\n+doc-xml-single-doxygen: doc-xml-doxygen\n \t@echo \"Generating doxygen xml single file...\"\n \t$(XSLTPROC) ${doxygen_outdir}/xml/combine.xslt \\\n-\t${doxygen_outdir}/xml/spine.xml > ${doxygen_outdir}/xml/all.xml;\n+\t${doxygen_outdir}/xml/index.xml > ${doxygen_outdir}/xml/api-spine.xml;\n+\n+doc-latex-doxygen:\n+\t-(srcdir=`cd ${top_srcdir}; ${PWD_COMMAND}`; \\\n+\t  builddir=`cd ..; ${PWD_COMMAND}`; \\\n+\t  ${SHELL} ${doxygen_script} \\\n+\t  --host_alias=${host_alias} --mode=latex $${srcdir} $${builddir} NO)\n+\n+doc-pdf-doxygen: stamp-latex-doxygen\n+\t-(cd ${doxygen_outdir}/latex && $(MAKE) -i pdf;)\n+\techo \"Generating doxygen pdf file...\";\n+\tif [ -f ${doxygen_pdf} ]; then \\\n+\t  echo \"... ${doxygen_pdf}\"; \\\n+\telse \\\n+\t  echo \"... error\"; \\\n+\t  exit 12; \\\n+\tfi\n+\n+stamp-xml-doxygen:\n+\t@if [ ! -f stamp-xml-doxygen ]; then \\\n+\t  $(MAKE) doc-xml-single-doxygen; \\\n+\tfi\n+\t$(STAMP) stamp-xml-doxygen\n+\n+stamp-latex-doxygen:\n+\t@if [ ! -f stamp-latex-doxygen ]; then \\\n+\t  $(MAKE) doc-latex-doxygen; \\\n+\tfi\n+\t$(STAMP) stamp-latex-doxygen\n \n ${docbook_outdir}/html:\n \tmkdir -p ${docbook_outdir}/html\n@@ -647,7 +691,7 @@ doc-fo-docbook: $(xml_sources) ${docbook_outdir}/fo\n \t@echo \"Generating FO files...\"\n \t$(XSLTPROC) $(XSLTPROC_FLAGS) -o ${docbook_outdir}/fo/spine.fo \\\n \t$(XSL_FO_STYLE) ${top_srcdir}/doc/xml/spine.xml\n-doc-pdf-fop-xml-docbook: $(xml_sources) ${glibcxx_builddir}/doc/pdf \n+doc-pdf-fop-xml-docbook: $(xml_sources) ${glibcxx_builddir}/doc/pdf\n \t@echo \"Generating pdf fop files from xml...\"\n \t$(FOP) $(FOP_FLAGS) -xml ${top_srcdir}/doc/xml/spine.xml \\\n \t-xsl $(XSL_FO_STYLE) -pdf ${docbook_outdir}/pdf/spine.pdf\n@@ -679,7 +723,7 @@ doc-html-performance:\n \n # To remove directories.\n clean-local:\n-\trm -rf man html pdf fo xml doxygen docbook\n+\trm -rf man html pdf fo xml doxygen docbook stamp*\n \n # Tell versions [3.59,3.63) of GNU make to not export all variables.\n # Otherwise a system limit (for SysV at least) may be exceeded."}, {"sha": "197c642e3215d2ad2a28ece2a23bc17ea42e980f", "filename": "libstdc++-v3/doc/doxygen/user.cfg.in", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f752f4435e6cd73d253d3aaa534c0d7836e67b2/libstdc%2B%2B-v3%2Fdoc%2Fdoxygen%2Fuser.cfg.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f752f4435e6cd73d253d3aaa534c0d7836e67b2/libstdc%2B%2B-v3%2Fdoc%2Fdoxygen%2Fuser.cfg.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2Fdoxygen%2Fuser.cfg.in?ref=0f752f4435e6cd73d253d3aaa534c0d7836e67b2", "patch": "@@ -1169,7 +1169,7 @@ SEARCHENGINE           = NO\n # If the GENERATE_LATEX tag is set to YES (the default) Doxygen will\n # generate Latex output.\n \n-GENERATE_LATEX         = NO\n+GENERATE_LATEX         = @do_latex@\n \n # The LATEX_OUTPUT tag is used to specify where the LaTeX docs will be put.\n # If a relative path is entered the value of OUTPUT_DIRECTORY will be\n@@ -1180,7 +1180,7 @@ LATEX_OUTPUT           = latex\n # The LATEX_CMD_NAME tag can be used to specify the LaTeX command name to be\n # invoked. If left blank `latex' will be used as the default command name.\n \n-LATEX_CMD_NAME         = latex\n+LATEX_CMD_NAME         = pdflatex\n \n # The MAKEINDEX_CMD_NAME tag can be used to specify the command name to\n # generate index for LaTeX. If left blank `makeindex' will be used as the\n@@ -1217,27 +1217,27 @@ LATEX_HEADER           =\n # contain links (just like the HTML output) instead of page references\n # This makes the output suitable for online browsing using a pdf viewer.\n \n-PDF_HYPERLINKS         = NO\n+PDF_HYPERLINKS         = YES\n \n # If the USE_PDFLATEX tag is set to YES, pdflatex will be used instead of\n # plain latex in the generated Makefile. Set this option to YES to get a\n # higher quality PDF documentation.\n \n-USE_PDFLATEX           = NO\n+USE_PDFLATEX           = YES\n \n # If the LATEX_BATCHMODE tag is set to YES, doxygen will add the\n # \\\\batchmode.  command to the generated LaTeX files. This will\n # instruct LaTeX to keep running if errors occur, instead of asking\n # the user for help.  This option is also used when generating\n # formulas in HTML.\n \n-LATEX_BATCHMODE        = NO\n+LATEX_BATCHMODE        = YES\n \n # If LATEX_HIDE_INDICES is set to YES then doxygen will not\n # include the index chapters (such as File Index, Compound Index, etc.)\n # in the output.\n \n-LATEX_HIDE_INDICES     = NO\n+LATEX_HIDE_INDICES     = YES\n \n # If LATEX_SOURCE_CODE is set to YES then doxygen will include source\n # code with syntax highlighting in the LaTeX output. Note that which"}, {"sha": "279e7038a9bc6d7d9eadd359d965c5cf0a12a006", "filename": "libstdc++-v3/doc/xml/manual/appendix_contributing.xml", "status": "modified", "additions": 17, "deletions": 24, "changes": 41, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f752f4435e6cd73d253d3aaa534c0d7836e67b2/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fappendix_contributing.xml", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f752f4435e6cd73d253d3aaa534c0d7836e67b2/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fappendix_contributing.xml", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fappendix_contributing.xml?ref=0f752f4435e6cd73d253d3aaa534c0d7836e67b2", "patch": "@@ -925,22 +925,24 @@ indicate a place that may require attention for multi-thread safety.\n \tthe <ulink url=\"http://www.gnu.org/software/coreutils/\">GNU\n \tcoreutils</ulink>. (GNU versions of find, xargs, and possibly\n \tsed and grep are used, just because the GNU versions make\n-\tthings very easy.)\n+\tthings very easy.) \n       </para>\n \n       <para>\n \tTo generate the pretty pictures and hierarchy\n \tgraphs, the\n-\t<ulink url=\"http://www.graphviz.org\">Graphviz</ulink>\n-\tpackage will need to be installed.\n+\t<ulink url=\"http://www.graphviz.org\">Graphviz</ulink> package\n+\twill need to be installed. For PDF\n+\toutput, <ulink url=\"http://www.tug.org/applications/pdftex/\">\n+\tpdflatex</ulink> is required.\n       </para>\n     </sect3>\n \n     <sect3 id=\"doxygen.rules\">\n       <title>Generating the Doxygen Files</title>\n       <para>\n \tThe following Makefile rules run Doxygen to generate HTML\n-\tdocs, XML docs, and the man pages.\n+\tdocs, XML docs, PDF docs, and the man pages.\n       </para>\n \n       <para>\n@@ -951,6 +953,10 @@ indicate a place that may require attention for multi-thread safety.\n       <screen><userinput>make doc-xml-doxygen</userinput></screen>\n       </para>\n \n+      <para>\n+      <screen><userinput>make doc-pdf-doxygen</userinput></screen>\n+      </para>\n+\n       <para>\n       <screen><userinput>make doc-man-doxygen</userinput></screen>\n       </para>\n@@ -1199,13 +1205,14 @@ indicate a place that may require attention for multi-thread safety.\n \n       <para>\n \tFor PDF output, something that transforms valid XML to PDF is\n-\trequired. Possible solutions include <command>xmlto</command>,\n-\t<ulink url=\"http://xmlgraphics.apache.org/fop/\">Apache\n-\tFOP</ulink>, or <command>prince</command>. Other options are\n-\tlisted on the DocBook web <ulink\n-\turl=\"http://wiki.docbook.org/topic/DocBookPublishingTools\">pages</ulink>. Please\n+\trequired. Possible solutions include \n+\t<ulink url=\"http://dblatex.sourceforge.net\">dblatex</ulink>, \n+\t<command>xmlto</command>, or <command>prince</command>. Other\n+\toptions are listed on the DocBook\n+\tweb <ulink url=\"http://wiki.docbook.org/topic/DocBookPublishingTools\">pages</ulink>. Please\n \tconsult the <email>libstdc++@gcc.gnu.org</email> list when\n-\tpreparing printed manuals for current best practice and suggestions.\n+\tpreparing printed manuals for current best practice and\n+\tsuggestions.\n       </para>\n \n       <para>\n@@ -1499,20 +1506,6 @@ xmllint --noout --valid <filename>xml/index.xml</filename>\n       <para>\n       <screen><userinput>make doc-pdf</userinput></screen>\n       </para>\n-\n-      <para>\n-\tThe following Makefile rules generate (in order): an HTML\n-\tversion of all the DocBook documentation with links into an\n-\tlocal Doxygen cache, and a PDF version of the same.\n-      </para>\n-\n-      <para>\n-      <screen><userinput>make doc-html-combine</userinput></screen>\n-      </para>\n-\n-      <para>\n-      <screen><userinput>make doc-pdf-combine</userinput></screen>\n-      </para>\n   </sect3>\n   </sect2>\n </sect1>"}, {"sha": "345b2b7f6c106354391da549894d6f778a09e54e", "filename": "libstdc++-v3/doc/xml/manual/atomics.xml", "status": "added", "additions": 61, "deletions": 0, "changes": 61, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f752f4435e6cd73d253d3aaa534c0d7836e67b2/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fatomics.xml", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f752f4435e6cd73d253d3aaa534c0d7836e67b2/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fatomics.xml", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fatomics.xml?ref=0f752f4435e6cd73d253d3aaa534c0d7836e67b2", "patch": "@@ -0,0 +1,61 @@\n+<?xml version='1.0'?>\n+<!DOCTYPE chapter PUBLIC \"-//OASIS//DTD DocBook XML V4.5//EN\"\n+ \"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd\"\n+[ ]>\n+\n+<chapter id=\"std.atomics\" xreflabel=\"Atomics\">\n+<?dbhtml filename=\"atomics.html\"?>\n+\n+<chapterinfo>\n+  <keywordset>\n+    <keyword>\n+      ISO C++\n+    </keyword>\n+    <keyword>\n+      library\n+    </keyword>\n+    <keyword>\n+      atomic\n+    </keyword>\n+  </keywordset>\n+</chapterinfo>\n+\n+<title>\n+  Atomics\n+  <indexterm><primary>Atomics</primary></indexterm>\n+</title>\n+\n+<para>\n+  Facilities for atomic operations.\n+</para>\n+\n+<!-- Sect1 01 : API -->\n+<sect1 id=\"std.atomics.api\">\n+  <title>API Reference</title>\n+\n+  <para>\n+    All items are declared in the standard header\n+    file <filename>atomic</filename>.\n+  </para>\n+\n+  <para>\n+    Set of typedefs that map <type>int</type> to\n+    <classname>atomic_int</classname>, and so on for all builtin\n+    integral types. Global enumeration <type>memory_order</type> to\n+    control memory ordering. Also includes\n+    <classname>atomic</classname>, a class template with member\n+    functions such as <function>load</function> and\n+    <function>store</function> that is instantiable such that\n+    <classname>atomic_int</classname> is the base class of\n+    <classname>atomic&lt;int&gt;</classname>.\n+  </para>\n+\n+  <para>\n+    Full API details.\n+  </para>\n+\n+  <!-- Doxygen XML: api/group__atomics.xml -->\n+\n+</sect1>\n+\n+</chapter>"}, {"sha": "f6a7366ff0d06ad03f181213df98eaa02ad5dfd3", "filename": "libstdc++-v3/doc/xml/manual/concurrency.xml", "status": "added", "additions": 85, "deletions": 0, "changes": 85, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f752f4435e6cd73d253d3aaa534c0d7836e67b2/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fconcurrency.xml", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f752f4435e6cd73d253d3aaa534c0d7836e67b2/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fconcurrency.xml", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fconcurrency.xml?ref=0f752f4435e6cd73d253d3aaa534c0d7836e67b2", "patch": "@@ -0,0 +1,85 @@\n+<?xml version='1.0'?>\n+<!DOCTYPE chapter PUBLIC \"-//OASIS//DTD DocBook XML V4.5//EN\"\n+ \"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd\"\n+[ ]>\n+\n+<chapter id=\"std.concurrency\" xreflabel=\"Concurrency\">\n+<?dbhtml filename=\"concurrency.html\"?>\n+\n+<chapterinfo>\n+  <keywordset>\n+    <keyword>\n+      ISO C++\n+    </keyword>\n+    <keyword>\n+      library\n+    </keyword>\n+    <keyword>\n+      mutex\n+    </keyword>\n+    <keyword>\n+      thread\n+    </keyword>\n+    <keyword>\n+      future\n+    </keyword>\n+    <keyword>\n+      condition_variable\n+    </keyword>\n+  </keywordset>\n+</chapterinfo>\n+\n+<title>\n+  Concurrency\n+  <indexterm><primary>Concurrency</primary></indexterm>\n+</title>\n+\n+<para>\n+  Facilities for concurrent operation, and control thereof.\n+</para>\n+\n+\n+<!-- Sect1 01 : API -->\n+<sect1 id=\"std.concurrency.api\">\n+  <title>API Reference</title>\n+\n+  <para>\n+    All items are declared in one of four standard header files.\n+  </para>\n+\n+  <para>\n+    In header <filename>mutex</filename>, class\n+    template <classname>mutex</classname> and variants,\n+    class <classname>once_flag</classname>, and class\n+    template <classname>unique_lock</classname>.\n+  </para>\n+\n+  <para>\n+    In header <filename>condition_variable</filename>,\n+    classes <classname>condition_variable</classname>\n+    and <classname>condition_variable_any</classname>.\n+  </para>\n+\n+  <para>\n+    In header <filename>thread</filename>,\n+    class <classname>thread</classname> and\n+    namespace <code>this_thread</code>.\n+  </para>\n+\n+  <para>\n+    In header <filename>future</filename>, class\n+    template <classname>future</classname> and class\n+    template <classname>shared_future</classname>, class\n+    template <classname>promise</classname>,\n+    and <classname>packaged_task</classname>.\n+  </para>\n+\n+  <para>\n+    Full API details.\n+  </para>\n+\n+  <!-- Doxygen XML: api/group__concurrency.xml -->\n+\n+</sect1>\n+\n+</chapter>"}, {"sha": "271477e3712022f512c87309d1ced04cb2dddca5", "filename": "libstdc++-v3/doc/xml/manual/diagnostics.xml", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f752f4435e6cd73d253d3aaa534c0d7836e67b2/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fdiagnostics.xml", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f752f4435e6cd73d253d3aaa534c0d7836e67b2/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fdiagnostics.xml", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fdiagnostics.xml?ref=0f752f4435e6cd73d253d3aaa534c0d7836e67b2", "patch": "@@ -26,8 +26,8 @@\n   <?dbhtml filename=\"exceptions.html\"?>\n   <title>Exceptions</title>\n \n-  <sect2 id=\"std.diagnostics.exceptions.hierarchy\" xreflabel=\"Exception Classes\">\n-    <title>Exception Classes</title>\n+  <sect2 id=\"std.diagnostics.exceptions.api\">\n+    <title>API Reference</title>\n     <para>\n       All exception objects are defined in one of the standard header\n       files: <filename>exception</filename>,\n@@ -44,12 +44,18 @@\n     <para>\n       Derived from this are several classes that may have a\n       <classname>string</classname> member: a full hierarchy can be\n-      found in the <ulink url=\"http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a00460.html\">source documentation</ulink>.\n+      found in the source documentation.\n     </para>\n-\n+    \n+    <para>\n+      Full API details.\n+    </para>\n+    \n+    <!-- Doxygen XML: api/group__exceptions.xml -->\n+      \n   </sect2>\n   <sect2 id=\"std.diagnostics.exceptions.data\" xreflabel=\"Adding Data to Exceptions\">\n-    <title>Adding Data to Exceptions</title>\n+    <title>Adding Data to <classname>exception</classname></title>\n     <para>\n       The standard exception classes carry with them a single string as\n       data (usually describing what went wrong or where the 'throw' took"}, {"sha": "1c806ca18b8756b957cbf8ae47768e8434b41f28", "filename": "libstdc++-v3/doc/xml/manual/spine.xml", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f752f4435e6cd73d253d3aaa534c0d7836e67b2/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fspine.xml", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f752f4435e6cd73d253d3aaa534c0d7836e67b2/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fspine.xml", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fspine.xml?ref=0f752f4435e6cd73d253d3aaa534c0d7836e67b2", "patch": "@@ -85,6 +85,16 @@\n \t    parse=\"xml\" href=\"io.xml\">\n </xi:include>\n \n+<!-- Chapter 11 : Atomics -->\n+<xi:include xmlns:xi=\"http://www.w3.org/2001/XInclude\"\n+\t    parse=\"xml\" href=\"atomics.xml\">\n+</xi:include>\n+\n+<!-- Chapter 12 : Concurrency -->\n+<xi:include xmlns:xi=\"http://www.w3.org/2001/XInclude\"\n+\t    parse=\"xml\" href=\"concurrency.xml\">\n+</xi:include>\n+\n </part>\n \n <!-- Part 03 : Extensions -->"}, {"sha": "39a2e95ad89713538a25fa90c5f79424f3144019", "filename": "libstdc++-v3/scripts/run_doxygen", "status": "modified", "additions": 75, "deletions": 50, "changes": 125, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f752f4435e6cd73d253d3aaa534c0d7836e67b2/libstdc%2B%2B-v3%2Fscripts%2Frun_doxygen", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f752f4435e6cd73d253d3aaa534c0d7836e67b2/libstdc%2B%2B-v3%2Fscripts%2Frun_doxygen", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fscripts%2Frun_doxygen?ref=0f752f4435e6cd73d253d3aaa534c0d7836e67b2", "patch": "@@ -1,10 +1,10 @@\n #!/bin/bash\n \n # Runs doxygen and massages the output files.\n-# Copyright (C) 2001, 2002, 2003, 2004, 2008, 2009 \n+# Copyright (C) 2001, 2002, 2003, 2004, 2008, 2009, 2010\n # Free Software Foundation, Inc.\n #\n-# Synopsis:  run_doxygen --mode=[html|man|xml] --host_alias=<alias> \\\n+# Synopsis:  run_doxygen --mode=[html|latex|man|xml] --host_alias=<alias> \\\n #                        v3srcdir \\\n #                        v3builddir \\\n #                        shortname\n@@ -17,7 +17,7 @@ DOXYVER=1.6.1\n \n find_doxygen() {\n     local -r v_required=`echo $DOXYVER |  \\\n-                awk -F. '{if(NF<3)$3=0;print ($1*100+$2)*100+$3}'`\n+\t\tawk -F. '{if(NF<3)$3=0;print ($1*100+$2)*100+$3}'`\n     local testing_version doxygen maybedoxy v_found\n     # thank you goat book\n     set `IFS=:; X=\"$PATH:/usr/local/bin:/bin:/usr/bin\"; echo $X`\n@@ -28,16 +28,16 @@ find_doxygen() {\n       test -f \"$maybedoxy\" && testing_version=`$maybedoxy --version`\n       if test -n \"$testing_version\"; then\n        v_found=`echo $testing_version |  \\\n-                awk -F. '{if(NF<3)$3=0;print ($1*100+$2)*100+$3}'`\n+\t\tawk -F. '{if(NF<3)$3=0;print ($1*100+$2)*100+$3}'`\n        if test $v_found -ge $v_required; then\n-         doxygen=\"$maybedoxy\"\n-         break\n+\t doxygen=\"$maybedoxy\"\n+\t break\n        fi\n       fi\n     done\n     if test -z \"$doxygen\"; then\n-        echo run_doxygen error:  Could not find Doxygen $DOXYVER in path. 1>&2\n-        print_usage\n+\techo run_doxygen error:  Could not find Doxygen $DOXYVER in path. 1>&2\n+\tprint_usage\n     fi\n     # We need to use other tools from the same package/version.\n     echo :: Using Doxygen tools from ${dir}.\n@@ -48,11 +48,12 @@ find_doxygen() {\n print_usage() {\n     cat 1>&2 <<EOF\n Usage:  run_doxygen --mode=MODE --host_alias=BUILD_ALIAS [<options>]\n-                    <v3-src-dir> <v3-build-dir> <shortnamesp>\n+\t\t    <v3-src-dir> <v3-build-dir> <shortnamesp>\n       MODE is one of:\n-          html           Generate user-level HTML library documentation.\n-          man            Generate user-level man pages.\n-          xml            Generate user-level XML pages.\n+\t  html           Generate user-level HTML library documentation.\n+\t  man            Generate user-level man pages.\n+\t  xml            Generate user-level XML pages.\n+\t  latex          Generate user-level LaTeX pages.\n \n       BUILD_ALIAS is the GCC build alias set at configure time.\n \n@@ -75,25 +76,25 @@ parse_options() {\n \n     case \"$o\" in\n       --mode=*)\n-        mode=$arg ;;\n+\tmode=$arg ;;\n       --host_alias=*)\n-        host_alias=$arg ;;\n+\thost_alias=$arg ;;\n       --mode | --host_alias | --help | -h)\n-        print_usage ;;\n+\tprint_usage ;;\n       *)\n-        # this turned out to be a mess, maybe change to --srcdir=, etc\n-        if test $srcdir = unset; then\n-          srcdir=$o\n-        elif test $outdir = unset; then\n-          builddir=${o}\n-          outdir=${o}/doc/doxygen\n-        elif test $shortname = unset; then\n-          shortname=$o\n-        else\n-          echo run_doxygen error:  Too many arguments 1>&2\n-          exit 1\n-        fi\n-        ;;\n+\t# this turned out to be a mess, maybe change to --srcdir=, etc\n+\tif test $srcdir = unset; then\n+\t  srcdir=$o\n+\telif test $outdir = unset; then\n+\t  builddir=${o}\n+\t  outdir=${o}/doc/doxygen\n+\telif test $shortname = unset; then\n+\t  shortname=$o\n+\telse\n+\t  echo run_doxygen error:  Too many arguments 1>&2\n+\t  exit 1\n+\tfi\n+\t;;\n       esac\n   done\n }\n@@ -106,8 +107,9 @@ srcdir=unset\n outdir=unset\n shortname=unset\n do_html=false\n-do_man=false \n-do_xml=false \n+do_man=false\n+do_xml=false\n+do_latex=false\n enabled_sections=\n generate_tagfile=\n DATEtext=`date '+%Y-%m-%d'`\n@@ -130,6 +132,10 @@ case x\"$mode\" in\n       enabled_sections=maint\n       generate_tagfile=\"$outdir/html/libstdc++.tag\"\n       ;;\n+    xlatex)\n+      do_latex=true\n+      enabled_sections=maint\n+      ;;\n     xman)\n       do_man=true\n       ;;\n@@ -156,12 +162,6 @@ esac\n mkdir -p $outdir\n chmod u+w $outdir\n \n-# work around a stupid doxygen bug\n-if $do_man; then\n-    mkdir -p $outdir/man/man3/ext\n-    chmod -R u+w $outdir/man/man3/ext\n-fi\n-\n if $do_xml; then\n     mkdir -p $outdir/xml\n fi\n@@ -176,14 +176,49 @@ fi\n       -e \"s=@host_alias@=${host_alias}=g\" \\\n       -e \"s=@enabled_sections@=${enabled_sections}=\" \\\n       -e \"s=@do_html@=${do_html}=\" \\\n+      -e \"s=@do_latex@=${do_latex}=\" \\\n+      -e \"s=@do_man@=${do_man}=\" \\\n+     -e \"s=@do_xml@=${do_xml}=\" \\\n+      -e \"s=@generate_tagfile@=${generate_tagfile}=\" \\\n+      ${srcdir}/doc/doxygen/user.cfg.in > ${outdir}/${mode}.cfg\n+  echo :: NOTE that this may take some time...\n+  echo doxygen ${outdir}/${mode}.cfg\n+  doxygen ${outdir}/${mode}.cfg\n+  echo :: Finished, exit code was $?\n+)\n+ret=$?\n+test $ret -ne 0 && exit $ret\n+\n+if $do_latex; then\n+    mkdir -p $outdir/latex\n+fi\n+\n+(\n+  set -e\n+  cd $builddir\n+  sed -e \"s=@outdir@=${outdir}=g\" \\\n+      -e \"s=@srcdir@=${srcdir}=g\" \\\n+      -e \"s=@shortname@=${shortname}=g\" \\\n+      -e \"s=@builddir@=${builddir}=g\" \\\n+      -e \"s=@host_alias@=${host_alias}=g\" \\\n+      -e \"s=@enabled_sections@=${enabled_sections}=\" \\\n+      -e \"s=@do_html@=${do_html}=\" \\\n+      -e \"s=@do_latex@=${do_latex}=\" \\\n       -e \"s=@do_man@=${do_man}=\" \\\n      -e \"s=@do_xml@=${do_xml}=\" \\\n       -e \"s=@generate_tagfile@=${generate_tagfile}=\" \\\n       ${srcdir}/doc/doxygen/user.cfg.in > ${outdir}/${mode}.cfg\n   echo :: NOTE that this may take some time...\n   echo doxygen ${outdir}/${mode}.cfg\n   doxygen ${outdir}/${mode}.cfg\n+\n+  # Also drop in the header file and style sheet\n+  cd ${outdir}/${mode}\n+  doxygen -w latex header.tex doxygen.sty\n   echo :: Finished, exit code was $?\n+  echo ::\n+  echo :: LaTeX pages begin with\n+  echo :: ${outdir}/latex/refman.tex\n )\n ret=$?\n test $ret -ne 0 && exit $ret\n@@ -206,13 +241,6 @@ if $do_html; then\n   sed -e 's=\\(::[[:alnum:]_]*\\)&lt; .* &gt;=\\1=' annotated.html > annstrip.html\n   mv annstrip.html annotated.html\n \n-  # Work around a bug in doxygen 1.3.\n-#  for f in class*html struct*html; do\n-  for f in class*html; do\n-      sed '1,10s!^<title> Template!<title>Template !' $f > TEMP\n-      mv TEMP $f\n-  done\n-\n   cp ${srcdir}/doc/doxygen/tables.html tables.html\n   echo ::\n   echo :: HTML pages begin with\n@@ -229,9 +257,6 @@ echo ::\n echo :: Fixing up the man pages...\n cd $outdir/man/man3\n \n-# here's the other end of the \"stupid doxygen bug\" mentioned above\n-rm -rf ext\n-\n # File names with embedded spaces (EVIL!) need to be....?  renamed or removed?\n find . -name \"* *\" -print0 | xargs -0r rm        # requires GNU tools\n \n@@ -370,18 +395,18 @@ done\n # Generic removal bits, where there are things in the generated man\n # pages that need to be killed.\n for f in *_libstdc__-v3_*; do\n-    rm $f \n+    rm $f\n done\n \n for f in *_src_*; do\n-    rm $f \n+    rm $f\n done\n \n \n # Also, for some reason, typedefs don't get their own man pages.  Sigh.\n for f in ios streambuf istream ostream iostream stringbuf \\\n-         istringstream ostringstream stringstream filebuf ifstream \\\n-         ofstream fstream string;\n+\t istringstream ostringstream stringstream filebuf ifstream \\\n+\t ofstream fstream string;\n do\n     echo \".so man3/std::basic_${f}.3\" > std::${f}.3\n     echo \".so man3/std::basic_${f}.3\" > std::w${f}.3"}]}