{"sha": "64dd539571685b9a8b052352241b1f110f6d7002", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjRkZDUzOTU3MTY4NWI5YThiMDUyMzUyMjQxYjFmMTEwZjZkNzAwMg==", "commit": {"author": {"name": "Thomas Quinot", "email": "quinot@adacore.com", "date": "2005-07-04T13:27:43Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2005-07-04T13:27:43Z"}, "message": "exp_dist.adb (Build_TypeCode_Call): Remove incorrect processing for Itypes.\n\n2005-07-04  Thomas Quinot  <quinot@adacore.com>\n\n\t* exp_dist.adb (Build_TypeCode_Call): Remove incorrect processing for\n\tItypes. Itypes are really unexpected there.\n\t(Build_TypeCode_Function): Generalise special processing for Itypes to\n\thandle the case of numeric implicit base types as well as enumerated\n\tones.\n\nFrom-SVN: r101578", "tree": {"sha": "57f6cd3f5dd0a284b7b210cd135226b39aaa9d60", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/57f6cd3f5dd0a284b7b210cd135226b39aaa9d60"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/64dd539571685b9a8b052352241b1f110f6d7002", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64dd539571685b9a8b052352241b1f110f6d7002", "html_url": "https://github.com/Rust-GCC/gccrs/commit/64dd539571685b9a8b052352241b1f110f6d7002", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64dd539571685b9a8b052352241b1f110f6d7002/comments", "author": null, "committer": null, "parents": [{"sha": "3b641023b36ac88164d64851ee5e45fc365937cc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b641023b36ac88164d64851ee5e45fc365937cc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b641023b36ac88164d64851ee5e45fc365937cc"}], "stats": {"total": 15, "additions": 2, "deletions": 13}, "files": [{"sha": "b3801f61d8858b29ec2e2d8183d4914019cc71b7", "filename": "gcc/ada/exp_dist.adb", "status": "modified", "additions": 2, "deletions": 13, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/64dd539571685b9a8b052352241b1f110f6d7002/gcc%2Fada%2Fexp_dist.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/64dd539571685b9a8b052352241b1f110f6d7002/gcc%2Fada%2Fexp_dist.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_dist.adb?ref=64dd539571685b9a8b052352241b1f110f6d7002", "patch": "@@ -9638,11 +9638,6 @@ package body Exp_Dist is\n                   U_Type := Base_Type (U_Type);\n                end if;\n \n-               if Is_Itype (U_Type) then\n-                  return Build_TypeCode_Call\n-                    (Loc, Associated_Node_For_Itype (U_Type), Decls);\n-               end if;\n-\n                if U_Type = Standard_Boolean then\n                   Lib_RE := RE_TC_B;\n \n@@ -10105,18 +10100,12 @@ package body Exp_Dist is\n               and then not Is_Tagged_Type (Typ)\n             then\n                declare\n-                  D_Node : constant Node_Id := Declaration_Node (Typ);\n                   Parent_Type : Entity_Id := Etype (Typ);\n                begin\n \n-                  if Is_Enumeration_Type (Typ)\n-                    and then Nkind (D_Node) = N_Subtype_Declaration\n-                    and then Nkind (Original_Node (D_Node))\n-                    /= N_Subtype_Declaration\n-                  then\n+                  if Is_Itype (Parent_Type) then\n \n-                     --  Parent_Type is the implicit intermediate base type\n-                     --  created by Build_Derived_Enumeration_Type.\n+                     --  Skip implicit base type\n \n                      Parent_Type := Etype (Parent_Type);\n                   end if;"}]}