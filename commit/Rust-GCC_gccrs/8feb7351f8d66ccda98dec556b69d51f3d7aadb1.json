{"sha": "8feb7351f8d66ccda98dec556b69d51f3d7aadb1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGZlYjczNTFmOGQ2NmNjZGE5OGRlYzU1NmI2OWQ1MWYzZDdhYWRiMQ==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1998-09-10T01:03:02Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-09-10T01:03:02Z"}, "message": "reg-stack.c (straighten_stack): Do nothing if the virtual stack is empty or has a single entry.\n\n        * reg-stack.c (straighten_stack): Do nothing if the virtual stack is\n        empty or has a single entry.\n\nFrom-SVN: r22376", "tree": {"sha": "04b5cc79c2157ea596f0752fa023d8245f787941", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/04b5cc79c2157ea596f0752fa023d8245f787941"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8feb7351f8d66ccda98dec556b69d51f3d7aadb1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8feb7351f8d66ccda98dec556b69d51f3d7aadb1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8feb7351f8d66ccda98dec556b69d51f3d7aadb1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8feb7351f8d66ccda98dec556b69d51f3d7aadb1/comments", "author": null, "committer": null, "parents": [{"sha": "0c6bac90e719e5d67595a9662c8ac20472eb4236", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c6bac90e719e5d67595a9662c8ac20472eb4236", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0c6bac90e719e5d67595a9662c8ac20472eb4236"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "dfcb9b571760d468f7468e2f872777114cab6504", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8feb7351f8d66ccda98dec556b69d51f3d7aadb1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8feb7351f8d66ccda98dec556b69d51f3d7aadb1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8feb7351f8d66ccda98dec556b69d51f3d7aadb1", "patch": "@@ -1,5 +1,8 @@\n Thu Sep 10 01:38:05 1998  Jeffrey A Law  (law@cygnus.com)\n \n+\t* reg-stack.c (straighten_stack): Do nothing if the virtual stack is\n+\tempty or has a single entry.\n+\n \t* toplev.c (rest_of_compilation): Open up the dump file for reg-stack\n \tbefore calling reg_to_stack.\n "}, {"sha": "a7a5fb7cd9022042df90ea8c6e26e6ee70987d70", "filename": "gcc/reg-stack.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8feb7351f8d66ccda98dec556b69d51f3d7aadb1/gcc%2Freg-stack.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8feb7351f8d66ccda98dec556b69d51f3d7aadb1/gcc%2Freg-stack.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freg-stack.c?ref=8feb7351f8d66ccda98dec556b69d51f3d7aadb1", "patch": "@@ -309,6 +309,13 @@ straighten_stack (insn, regstack)\n   struct stack_def temp_stack;\n   int top;\n \n+  /* If there is only a single register on the stack, then the stack is\n+     already in increasing order and no reorganization is needed.\n+\n+     Similarly if the stack is empty.  */\n+  if (regstack->top <= 0)\n+    return;\n+\n   temp_stack.reg_set = regstack->reg_set;\n \n   for (top = temp_stack.top = regstack->top; top >= 0; top--)"}]}