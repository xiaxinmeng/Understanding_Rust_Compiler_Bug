{"sha": "9fc7757408ad0d8bbd69bb93bdf07b3b83496d53", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWZjNzc1NzQwOGFkMGQ4YmJkNjliYjkzYmRmMDdiM2I4MzQ5NmQ1Mw==", "commit": {"author": {"name": "Kaz Kojima", "email": "kkojima@gcc.gnu.org", "date": "2009-07-30T22:56:08Z"}, "committer": {"name": "Kaz Kojima", "email": "kkojima@gcc.gnu.org", "date": "2009-07-30T22:56:08Z"}, "message": "configure.host: Define ieee_flags and set it to -mieee for sh.\n\n\t* configure.host: Define ieee_flags and set it to -mieee for sh.\n\t* configure.ac: Set IEEE_FLAGS with ieee_flags.\n\t* Makefile.am: Add IEEE_FLAGS to AM_CFLAGS.\n\t* configure: Regenerate.\n\t* Makefile.in: Regenerate.\n\nFrom-SVN: r150280", "tree": {"sha": "c0341ab70cbdddbaf622a2b595066d636cb8e984", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c0341ab70cbdddbaf622a2b595066d636cb8e984"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9fc7757408ad0d8bbd69bb93bdf07b3b83496d53", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9fc7757408ad0d8bbd69bb93bdf07b3b83496d53", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9fc7757408ad0d8bbd69bb93bdf07b3b83496d53", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9fc7757408ad0d8bbd69bb93bdf07b3b83496d53/comments", "author": null, "committer": null, "parents": [{"sha": "930e51379c14283045d7df3f561ad815f7334c34", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/930e51379c14283045d7df3f561ad815f7334c34", "html_url": "https://github.com/Rust-GCC/gccrs/commit/930e51379c14283045d7df3f561ad815f7334c34"}], "stats": {"total": 36, "additions": 34, "deletions": 2}, "files": [{"sha": "1412b0b980dd4c522dd6867949c39cb22f3dbbdd", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9fc7757408ad0d8bbd69bb93bdf07b3b83496d53/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9fc7757408ad0d8bbd69bb93bdf07b3b83496d53/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=9fc7757408ad0d8bbd69bb93bdf07b3b83496d53", "patch": "@@ -1,3 +1,11 @@\n+2009-07-30  Kaz Kojima  <kkojima@gcc.gnu.org>\n+\n+\t* configure.host: Define ieee_flags and set it to -mieee for sh.\n+\t* configure.ac: Set IEEE_FLAGS with ieee_flags.\n+\t* Makefile.am: Add IEEE_FLAGS to AM_CFLAGS.\n+\t* configure: Regenerate.\n+\t* Makefile.in: Regenerate.\n+\n 2009-07-30  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n \n \t* configure.ac (_AC_ARG_VAR_PRECIOUS): Use m4_rename_force."}, {"sha": "ee969d069367e8aff111e4fabf32251bc6b1f2b0", "filename": "libgfortran/Makefile.am", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9fc7757408ad0d8bbd69bb93bdf07b3b83496d53/libgfortran%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9fc7757408ad0d8bbd69bb93bdf07b3b83496d53/libgfortran%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FMakefile.am?ref=9fc7757408ad0d8bbd69bb93bdf07b3b83496d53", "patch": "@@ -37,6 +37,10 @@ AM_CFLAGS += -fcx-fortran-rules\n SECTION_FLAGS = @SECTION_FLAGS@\n AM_CFLAGS += $(SECTION_FLAGS)\n \n+# Some targets require additional compiler options for IEEE compatibility.\n+IEEE_FLAGS = @IEEE_FLAGS@\n+AM_CFLAGS += $(IEEE_FLAGS)\n+\n gfor_io_src= \\\n io/close.c \\\n io/file_pos.c \\"}, {"sha": "d7742ff73029db5eabb6105e331ccacf6a8ede3f", "filename": "libgfortran/Makefile.in", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9fc7757408ad0d8bbd69bb93bdf07b3b83496d53/libgfortran%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9fc7757408ad0d8bbd69bb93bdf07b3b83496d53/libgfortran%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FMakefile.in?ref=9fc7757408ad0d8bbd69bb93bdf07b3b83496d53", "patch": "@@ -815,7 +815,8 @@ AMDEP_TRUE = @AMDEP_TRUE@\n AMTAR = @AMTAR@\n \n # Fortran rules for complex multiplication and division\n-AM_CFLAGS = @AM_CFLAGS@ -fcx-fortran-rules $(SECTION_FLAGS)\n+AM_CFLAGS = @AM_CFLAGS@ -fcx-fortran-rules $(SECTION_FLAGS) \\\n+\t$(IEEE_FLAGS)\n AM_FCFLAGS = @AM_FCFLAGS@\n AR = @AR@\n AS = @AS@\n@@ -843,6 +844,9 @@ FCFLAGS = @FCFLAGS@\n FGREP = @FGREP@\n FPU_HOST_HEADER = @FPU_HOST_HEADER@\n GREP = @GREP@\n+\n+# Some targets require additional compiler options for IEEE compatibility.\n+IEEE_FLAGS = @IEEE_FLAGS@\n INSTALL_DATA = @INSTALL_DATA@\n INSTALL_PROGRAM = @INSTALL_PROGRAM@\n INSTALL_SCRIPT = @INSTALL_SCRIPT@"}, {"sha": "9091071e0112518e3947ad5ab1262a81445a3a3e", "filename": "libgfortran/configure", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9fc7757408ad0d8bbd69bb93bdf07b3b83496d53/libgfortran%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9fc7757408ad0d8bbd69bb93bdf07b3b83496d53/libgfortran%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure?ref=9fc7757408ad0d8bbd69bb93bdf07b3b83496d53", "patch": "@@ -457,7 +457,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os build_libsubdir build_subdir host_subdir target_subdir onestep_TRUE onestep_FALSE onestep host host_cpu host_vendor host_os target target_cpu target_vendor target_os INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT multi_basedir toolexecdir toolexeclibdir CC ac_ct_CC EXEEXT OBJEXT DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE AM_FCFLAGS AM_CFLAGS CFLAGS LIBGFOR_USE_SYMVER_TRUE LIBGFOR_USE_SYMVER_FALSE SECTION_FLAGS AS ac_ct_AS AR ac_ct_AR RANLIB ac_ct_RANLIB LIBTOOL SED EGREP FGREP GREP LD DUMPBIN ac_ct_DUMPBIN NM LN_S OBJDUMP ac_ct_OBJDUMP lt_ECHO DSYMUTIL ac_ct_DSYMUTIL NMEDIT ac_ct_NMEDIT LIPO ac_ct_LIPO OTOOL ac_ct_OTOOL OTOOL64 ac_ct_OTOOL64 CPP CPPFLAGS enable_shared enable_static FC FCFLAGS LDFLAGS ac_ct_FC extra_ldflags_libgfortran FPU_HOST_HEADER LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os build_libsubdir build_subdir host_subdir target_subdir onestep_TRUE onestep_FALSE onestep host host_cpu host_vendor host_os target target_cpu target_vendor target_os INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT multi_basedir toolexecdir toolexeclibdir CC ac_ct_CC EXEEXT OBJEXT DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE AM_FCFLAGS AM_CFLAGS CFLAGS LIBGFOR_USE_SYMVER_TRUE LIBGFOR_USE_SYMVER_FALSE SECTION_FLAGS AS ac_ct_AS AR ac_ct_AR RANLIB ac_ct_RANLIB LIBTOOL SED EGREP FGREP GREP LD DUMPBIN ac_ct_DUMPBIN NM LN_S OBJDUMP ac_ct_OBJDUMP lt_ECHO DSYMUTIL ac_ct_DSYMUTIL NMEDIT ac_ct_NMEDIT LIPO ac_ct_LIPO OTOOL ac_ct_OTOOL OTOOL64 ac_ct_OTOOL64 CPP CPPFLAGS enable_shared enable_static FC FCFLAGS LDFLAGS ac_ct_FC extra_ldflags_libgfortran FPU_HOST_HEADER IEEE_FLAGS LIBOBJS LTLIBOBJS'\n ac_subst_files=''\n ac_pwd=`pwd`\n \n@@ -33816,6 +33816,10 @@ echo \"$as_me: FPU dependent file will be ${fpu_host}.h\" >&6;}\n FPU_HOST_HEADER=config/${fpu_host}.h\n \n \n+# Some targets require additional compiler options for IEEE compatibility.\n+IEEE_FLAGS=\"${ieee_flags}\"\n+\n+\n # Check out attribute support.\n \n   echo \"$as_me:$LINENO: checking whether the target supports hidden visibility\" >&5\n@@ -35568,6 +35572,7 @@ s,@LDFLAGS@,$LDFLAGS,;t t\n s,@ac_ct_FC@,$ac_ct_FC,;t t\n s,@extra_ldflags_libgfortran@,$extra_ldflags_libgfortran,;t t\n s,@FPU_HOST_HEADER@,$FPU_HOST_HEADER,;t t\n+s,@IEEE_FLAGS@,$IEEE_FLAGS,;t t\n s,@LIBOBJS@,$LIBOBJS,;t t\n s,@LTLIBOBJS@,$LTLIBOBJS,;t t\n CEOF"}, {"sha": "2d0dff0c68cbe06b8780eb41b8dfa33f0e31ac6d", "filename": "libgfortran/configure.ac", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9fc7757408ad0d8bbd69bb93bdf07b3b83496d53/libgfortran%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9fc7757408ad0d8bbd69bb93bdf07b3b83496d53/libgfortran%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure.ac?ref=9fc7757408ad0d8bbd69bb93bdf07b3b83496d53", "patch": "@@ -448,6 +448,10 @@ AC_MSG_NOTICE([FPU dependent file will be ${fpu_host}.h])\n FPU_HOST_HEADER=config/${fpu_host}.h\n AC_SUBST(FPU_HOST_HEADER)\n \n+# Some targets require additional compiler options for IEEE compatibility.\n+IEEE_FLAGS=\"${ieee_flags}\"\n+AC_SUBST(IEEE_FLAGS)\n+\n # Check out attribute support.\n LIBGFOR_CHECK_ATTRIBUTE_VISIBILITY\n LIBGFOR_CHECK_ATTRIBUTE_DLLEXPORT"}, {"sha": "eb68c934c39d575c60b0c91a16870f7394fdcddd", "filename": "libgfortran/configure.host", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9fc7757408ad0d8bbd69bb93bdf07b3b83496d53/libgfortran%2Fconfigure.host", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9fc7757408ad0d8bbd69bb93bdf07b3b83496d53/libgfortran%2Fconfigure.host", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure.host?ref=9fc7757408ad0d8bbd69bb93bdf07b3b83496d53", "patch": "@@ -38,3 +38,10 @@ fi\n if test \"x${have_fp_enable}\" = \"xyes\" && test \"x${have_fp_trap}\" = \"xyes\"; then\n   fpu_host='fpu-aix'\n fi\n+\n+# Some targets require additional compiler options for NaN/Inf.\n+ieee_flags=\n+case \"${host_cpu}\" in\n+  sh*)\n+    ieee_flags=\"-mieee\" ;;\n+esac"}]}