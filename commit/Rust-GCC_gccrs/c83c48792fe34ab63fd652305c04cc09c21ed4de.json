{"sha": "c83c48792fe34ab63fd652305c04cc09c21ed4de", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzgzYzQ4NzkyZmUzNGFiNjNmZDY1MjMwNWMwNGNjMDljMjFlZDRkZQ==", "commit": {"author": {"name": "Daniel Berlin", "email": "dberlin@dberlin.org", "date": "2007-07-12T18:51:35Z"}, "committer": {"name": "Daniel Berlin", "email": "dberlin@gcc.gnu.org", "date": "2007-07-12T18:51:35Z"}, "message": "tree-ssa-pre.c (get_expression_vuses): Move out side-effect.\n\n2007-07-12  Daniel Berlin  <dberlin@dberlin.org>\n\n\t* tree-ssa-pre.c (get_expression_vuses): Move out side-effect.\n\t(set_expression_vuses): Ditto.\n\t(init_pre): Initialize expression_vuses.\n\nFrom-SVN: r126595", "tree": {"sha": "f5d5ed5dba2f2e8019c1abf8954c82ea7201324f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f5d5ed5dba2f2e8019c1abf8954c82ea7201324f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c83c48792fe34ab63fd652305c04cc09c21ed4de", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c83c48792fe34ab63fd652305c04cc09c21ed4de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c83c48792fe34ab63fd652305c04cc09c21ed4de", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c83c48792fe34ab63fd652305c04cc09c21ed4de/comments", "author": {"login": "dberlin", "id": 324715, "node_id": "MDQ6VXNlcjMyNDcxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/324715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dberlin", "html_url": "https://github.com/dberlin", "followers_url": "https://api.github.com/users/dberlin/followers", "following_url": "https://api.github.com/users/dberlin/following{/other_user}", "gists_url": "https://api.github.com/users/dberlin/gists{/gist_id}", "starred_url": "https://api.github.com/users/dberlin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dberlin/subscriptions", "organizations_url": "https://api.github.com/users/dberlin/orgs", "repos_url": "https://api.github.com/users/dberlin/repos", "events_url": "https://api.github.com/users/dberlin/events{/privacy}", "received_events_url": "https://api.github.com/users/dberlin/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "019b9fdbb30b5f8b385d9543e85124db5dfe614d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/019b9fdbb30b5f8b385d9543e85124db5dfe614d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/019b9fdbb30b5f8b385d9543e85124db5dfe614d"}], "stats": {"total": 15, "additions": 11, "deletions": 4}, "files": [{"sha": "8502ba0d0218b6a62e87cec7798cf0b086aa4ab9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c83c48792fe34ab63fd652305c04cc09c21ed4de/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c83c48792fe34ab63fd652305c04cc09c21ed4de/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c83c48792fe34ab63fd652305c04cc09c21ed4de", "patch": "@@ -1,3 +1,9 @@\n+2007-07-12  Daniel Berlin  <dberlin@dberlin.org>\n+\n+\t* tree-ssa-pre.c (get_expression_vuses): Move out side-effect.\n+\t(set_expression_vuses): Ditto.\n+\t(init_pre): Initialize expression_vuses.\n+\n 2007-07-12  Zdenek Dvorak  <dvorakz@suse.cz>\n \n \t* config/i386/sse.md (storentdf, storentsf): New."}, {"sha": "792f6a7627d1d94483f2ea8be27b1eb3257b2038", "filename": "gcc/tree-ssa-pre.c", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c83c48792fe34ab63fd652305c04cc09c21ed4de/gcc%2Ftree-ssa-pre.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c83c48792fe34ab63fd652305c04cc09c21ed4de/gcc%2Ftree-ssa-pre.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-pre.c?ref=c83c48792fe34ab63fd652305c04cc09c21ed4de", "patch": "@@ -252,17 +252,17 @@ expression_for_id (unsigned int id)\n static inline vuse_vec\n get_expression_vuses (tree expr)\n {\n-  return VEC_index (vuse_vec, expression_vuses,\n-\t\t    get_or_alloc_expression_id (expr));\n+  unsigned int expr_id = get_or_alloc_expression_id (expr);\n+  return VEC_index (vuse_vec, expression_vuses, expr_id);\n }\n \n /* Set the expression vuses for EXPR to VUSES.  */\n \n static inline void\n set_expression_vuses (tree expr, vuse_vec vuses)\n {\n-  VEC_replace (vuse_vec, expression_vuses,\n-\t       get_or_alloc_expression_id (expr), vuses);\n+  unsigned int expr_id = get_or_alloc_expression_id (expr);\n+  VEC_replace (vuse_vec, expression_vuses, expr_id, vuses);\n }\n \n \n@@ -3795,6 +3795,7 @@ init_pre (bool do_fre)\n   \n   next_expression_id = 0;\n   expressions = NULL;\n+  expression_vuses = NULL;\n   in_fre = do_fre;\n \n   inserted_exprs = NULL;"}]}