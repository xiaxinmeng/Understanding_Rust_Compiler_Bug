{"sha": "0d66cee51db569b3b4c4de2cb4b2292f9df4eaa5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGQ2NmNlZTUxZGI1NjliM2I0YzRkZTJjYjRiMjI5MmY5ZGY0ZWFhNQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2014-01-29T15:39:03Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2014-01-29T15:39:03Z"}, "message": "[multiple changes]\n\n2014-01-29  Robert Dewar  <dewar@adacore.com>\n\n\t* expander.adb: Minor reformatting.\n\n2014-01-29  Javier Miranda  <miranda@adacore.com>\n\n\t* exp_ch3.adb (Predefined_Primitive_Bodies): Adding documentation to\n\tprevious patch.\n\nFrom-SVN: r207257", "tree": {"sha": "75f8bc4a9ebb56b89c85738dd56b3ebce809e23f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/75f8bc4a9ebb56b89c85738dd56b3ebce809e23f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0d66cee51db569b3b4c4de2cb4b2292f9df4eaa5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d66cee51db569b3b4c4de2cb4b2292f9df4eaa5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0d66cee51db569b3b4c4de2cb4b2292f9df4eaa5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d66cee51db569b3b4c4de2cb4b2292f9df4eaa5/comments", "author": null, "committer": null, "parents": [{"sha": "b7cb4a617fd5fd4ec69eedf3790f5c9ef836f0d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7cb4a617fd5fd4ec69eedf3790f5c9ef836f0d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7cb4a617fd5fd4ec69eedf3790f5c9ef836f0d7"}], "stats": {"total": 26, "additions": 20, "deletions": 6}, "files": [{"sha": "f0b7109dd1d9696e8551254dd7a7bbf34559b1f3", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d66cee51db569b3b4c4de2cb4b2292f9df4eaa5/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d66cee51db569b3b4c4de2cb4b2292f9df4eaa5/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=0d66cee51db569b3b4c4de2cb4b2292f9df4eaa5", "patch": "@@ -1,3 +1,12 @@\n+2014-01-29  Robert Dewar  <dewar@adacore.com>\n+\n+\t* expander.adb: Minor reformatting.\n+\n+2014-01-29  Javier Miranda  <miranda@adacore.com>\n+\n+\t* exp_ch3.adb (Predefined_Primitive_Bodies): Adding documentation to\n+\tprevious patch.\n+\n 2014-01-29  Javier Miranda  <miranda@adacore.com>\n \n \t* exp_ch3.adb (Predefined_Primitive_Bodies): Complete the code"}, {"sha": "4f3846fbd0b4fa5478876c5b0f22768cedbc7e15", "filename": "gcc/ada/exp_ch3.adb", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d66cee51db569b3b4c4de2cb4b2292f9df4eaa5/gcc%2Fada%2Fexp_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d66cee51db569b3b4c4de2cb4b2292f9df4eaa5/gcc%2Fada%2Fexp_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch3.adb?ref=0d66cee51db569b3b4c4de2cb4b2292f9df4eaa5", "patch": "@@ -9632,7 +9632,8 @@ package body Exp_Ch3 is\n \n       --  If the parent is an interface type then it has defined all the\n       --  predefined primitives abstract and we need to check if the type\n-      --  has some user defined \"=\" function to avoid generating it.\n+      --  has some user defined \"=\" function which matches the profile of\n+      --  the Ada predefined equality operator to avoid generating it.\n \n       elsif Is_Interface (Etype (Tag_Typ)) then\n          Eq_Needed := True;\n@@ -9644,7 +9645,8 @@ package body Exp_Ch3 is\n               and then not Is_Internal (Node (Prim))\n               and then Present (First_Entity (Node (Prim)))\n \n-              --  Following tests need a comment ???\n+              --  The predefined equality primitive must have exactly two\n+              --  formals whose type is this tagged type\n \n               and then Present (Last_Entity (Node (Prim)))\n               and then Next_Entity (First_Entity (Node (Prim)))"}, {"sha": "9f57cda26a844eeaa2dbe244d2ac8b3c1a04171b", "filename": "gcc/ada/expander.adb", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d66cee51db569b3b4c4de2cb4b2292f9df4eaa5/gcc%2Fada%2Fexpander.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d66cee51db569b3b4c4de2cb4b2292f9df4eaa5/gcc%2Fada%2Fexpander.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexpander.adb?ref=0d66cee51db569b3b4c4de2cb4b2292f9df4eaa5", "patch": "@@ -57,7 +57,7 @@ package body Expander is\n    --  The following table is used to save values of the Expander_Active flag\n    --  when they are saved by Expander_Mode_Save_And_Set. We use an extendible\n    --  table (which is a bit of overkill) because it is easier than figuring\n-   --  out a maximum value or bothering with range checks!\n+   --  out a maximum value or bothering with range checks.\n \n    package Expander_Flags is new Table.Table (\n      Table_Component_Type => Boolean,\n@@ -129,13 +129,16 @@ package body Expander is\n             --  In GNATprove mode we only need a very limited subset of\n             --  the usual expansions. This limited subset is implemented\n             --  in Expand_SPARK.\n-            --  Regular expansion is followed by special handling for transient\n-            --  scopes for unconstrained results, etc. but this is not needed,\n-            --  and in general cannot be done correctly, in this mode.\n \n             if GNATprove_Mode then\n                Expand_SPARK (N);\n                Set_Analyzed (N);\n+\n+               --  Regular expansion is normally followed by special handling\n+               --  for transient scopes for unconstrained results, etc. but\n+               --  this is not needed, and in general cannot be done correctly,\n+               --  in this mode, so we are all done.\n+\n                return;\n \n             --  Here for normal non-SPARK mode"}]}