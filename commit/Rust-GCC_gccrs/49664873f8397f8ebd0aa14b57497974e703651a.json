{"sha": "49664873f8397f8ebd0aa14b57497974e703651a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDk2NjQ4NzNmODM5N2Y4ZWJkMGFhMTRiNTc0OTc5NzRlNzAzNjUxYQ==", "commit": {"author": {"name": "Olivier Hainque", "email": "hainque@adacore.com", "date": "2014-05-28T09:51:07Z"}, "committer": {"name": "Olivier Hainque", "email": "hainque@gcc.gnu.org", "date": "2014-05-28T09:51:07Z"}, "message": "vxworks.h (VXCPU_FOR_8548): New.\n\n2014-05-28  Olivier Hainque  <hainque@adacore.com>\n\n        * config/rs6000/vxworks.h (VXCPU_FOR_8548): New. Default to PPC85XX.\n        (CPP_SPEC): Add entry for -mcpu=8548.\n        * config/rs6000/vxworksae.h: Reinstate. Override VXCPU_FOR_8548.\n        * config.gcc (powerpc-wrs-vxworksae, tm_file): Add back vxworksae.h.\n\nFrom-SVN: r211011", "tree": {"sha": "70da356dd95d0cee811c80f82e63a7cd23e3339e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/70da356dd95d0cee811c80f82e63a7cd23e3339e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/49664873f8397f8ebd0aa14b57497974e703651a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/49664873f8397f8ebd0aa14b57497974e703651a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/49664873f8397f8ebd0aa14b57497974e703651a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/49664873f8397f8ebd0aa14b57497974e703651a/comments", "author": {"login": "hainque", "id": 18735142, "node_id": "MDQ6VXNlcjE4NzM1MTQy", "avatar_url": "https://avatars.githubusercontent.com/u/18735142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hainque", "html_url": "https://github.com/hainque", "followers_url": "https://api.github.com/users/hainque/followers", "following_url": "https://api.github.com/users/hainque/following{/other_user}", "gists_url": "https://api.github.com/users/hainque/gists{/gist_id}", "starred_url": "https://api.github.com/users/hainque/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hainque/subscriptions", "organizations_url": "https://api.github.com/users/hainque/orgs", "repos_url": "https://api.github.com/users/hainque/repos", "events_url": "https://api.github.com/users/hainque/events{/privacy}", "received_events_url": "https://api.github.com/users/hainque/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b8c6a45ab7a0a6c8c7a6315f255312b32b5a8403", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8c6a45ab7a0a6c8c7a6315f255312b32b5a8403", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b8c6a45ab7a0a6c8c7a6315f255312b32b5a8403"}], "stats": {"total": 39, "additions": 38, "deletions": 1}, "files": [{"sha": "f2534a86cfa2f3de60824efb3c2ab7938764a4d0", "filename": "ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/49664873f8397f8ebd0aa14b57497974e703651a/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/49664873f8397f8ebd0aa14b57497974e703651a/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=49664873f8397f8ebd0aa14b57497974e703651a", "patch": "@@ -1,3 +1,10 @@\n+2014-05-28  Olivier Hainque  <hainque@adacore.com>\n+\n+\t* config/rs6000/vxworks.h (VXCPU_FOR_8548): New. Default to PPC85XX.\n+\t(CPP_SPEC): Add entry for -mcpu=8548.\n+\t* config/rs6000/vxworksae.h: Reinstate. Override\tVXCPU_FOR_8548.\n+\t* config.gcc (powerpc-wrs-vxworksae, tm_file): Add back vxworksae.h.\n+\n 2014-05-26  Richard Sandiford  <rdsandiford@googlemail.com>\n \t    Olivier Hainque  <hainque@adacore.com>\n "}, {"sha": "c3f3ea6646c0de13792829734c0ed8f14ae603f2", "filename": "gcc/config.gcc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/49664873f8397f8ebd0aa14b57497974e703651a/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/49664873f8397f8ebd0aa14b57497974e703651a/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=49664873f8397f8ebd0aa14b57497974e703651a", "patch": "@@ -2313,7 +2313,7 @@ powerpc-wrs-vxworks|powerpc-wrs-vxworksae)\n \textra_headers=ppc-asm.h\n \tcase ${target} in\n \t  *-vxworksae*)\n-\t    tm_file=\"${tm_file} vx-common.h vxworksae.h rs6000/vxworks.h rs6000/e500.h\"\n+\t    tm_file=\"${tm_file} vx-common.h vxworksae.h rs6000/vxworks.h rs6000/e500.h rs6000/vxworksae.h\"\n \t    tmake_file=\"${tmake_file} rs6000/t-vxworksae\"\n \t    ;;\n \t  *-vxworks*)"}, {"sha": "a9ddea22dbab3c56fe5e0330ee8185c5179db08b", "filename": "gcc/config/rs6000/vxworks.h", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/49664873f8397f8ebd0aa14b57497974e703651a/gcc%2Fconfig%2Frs6000%2Fvxworks.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/49664873f8397f8ebd0aa14b57497974e703651a/gcc%2Fconfig%2Frs6000%2Fvxworks.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fvxworks.h?ref=49664873f8397f8ebd0aa14b57497974e703651a", "patch": "@@ -60,6 +60,12 @@ along with GCC; see the file COPYING3.  If not see\n \n #define SUBTARGET_EXTRA_SPECS /* none needed */\n \n+/* VxWorks and VxWorksAE (aka 653) expect different CPU values to designate\n+   SPE on 8548.  We define a dedicated macro for the base VxWorks here, which\n+   the AE configuration will override.  */\n+\n+#define VXCPU_FOR_8548 \"PPC85XX\"\n+\n /* FIXME: The only reason we allow no -mcpu switch at all is because\n    config-ml.in insists on a \".\" multilib. */\n #define CPP_SPEC \\\n@@ -73,6 +79,7 @@ along with GCC; see the file COPYING3.  If not see\n      mcpu=604 : -DCPU=PPC604  ; \\\n      mcpu=860 : -DCPU=PPC860  ; \\\n      mcpu=8540: -DCPU=PPC85XX ; \\\n+     mcpu=8548: -DCPU=\" VXCPU_FOR_8548 \"; \\\n               : -DCPU=PPC604  }}\" \\\n VXWORKS_ADDITIONAL_CPP_SPEC\n "}, {"sha": "95a2a7c46326c5f4f620167f25281c9f782188c6", "filename": "gcc/config/rs6000/vxworksae.h", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/49664873f8397f8ebd0aa14b57497974e703651a/gcc%2Fconfig%2Frs6000%2Fvxworksae.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/49664873f8397f8ebd0aa14b57497974e703651a/gcc%2Fconfig%2Frs6000%2Fvxworksae.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fvxworksae.h?ref=49664873f8397f8ebd0aa14b57497974e703651a", "patch": "@@ -0,0 +1,23 @@\n+/* Definitions of target machine for GNU compiler.  PowerPC VxworksAE version.\n+   Copyright (C) 2005-2014 Free Software Foundation, Inc.\n+   Contributed by CodeSourcery, LLC.\n+\n+This file is part of GCC.\n+\n+GCC is free software; you can redistribute it and/or modify it under\n+the terms of the GNU General Public License as published by the Free\n+Software Foundation; either version 3, or (at your option) any later\n+version.\n+\n+GCC is distributed in the hope that it will be useful, but WITHOUT ANY\n+WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GCC; see the file COPYING3.  If not see\n+<http://www.gnu.org/licenses/>.  */\n+\n+/* VxWorksAE for E500V2 expects a specific CPU value to designate 8548.  */\n+#undef VXCPU_FOR_8548\n+#define VXCPU_FOR_8548 \"PPCE500V2\""}]}