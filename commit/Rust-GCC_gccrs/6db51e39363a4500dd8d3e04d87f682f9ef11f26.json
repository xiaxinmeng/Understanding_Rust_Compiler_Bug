{"sha": "6db51e39363a4500dd8d3e04d87f682f9ef11f26", "node_id": "C_kwDOANBUbNoAKDZkYjUxZTM5MzYzYTQ1MDBkZDhkM2UwNGQ4N2Y2ODJmOWVmMTFmMjY", "commit": {"author": {"name": "Arthur Cohen", "email": "arthur.cohen@embecosm.com", "date": "2022-02-21T14:03:18Z"}, "committer": {"name": "Arthur Cohen", "email": "arthur.cohen@embecosm.com", "date": "2022-02-22T11:06:27Z"}, "message": "subs_repetition: Add simple test cases", "tree": {"sha": "d1a876127ff2bc1b978b89544d1cb60c8d71f0d1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d1a876127ff2bc1b978b89544d1cb60c8d71f0d1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6db51e39363a4500dd8d3e04d87f682f9ef11f26", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6db51e39363a4500dd8d3e04d87f682f9ef11f26", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6db51e39363a4500dd8d3e04d87f682f9ef11f26", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6db51e39363a4500dd8d3e04d87f682f9ef11f26/comments", "author": {"login": "CohenArthur", "id": 43524065, "node_id": "MDQ6VXNlcjQzNTI0MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/43524065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CohenArthur", "html_url": "https://github.com/CohenArthur", "followers_url": "https://api.github.com/users/CohenArthur/followers", "following_url": "https://api.github.com/users/CohenArthur/following{/other_user}", "gists_url": "https://api.github.com/users/CohenArthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/CohenArthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CohenArthur/subscriptions", "organizations_url": "https://api.github.com/users/CohenArthur/orgs", "repos_url": "https://api.github.com/users/CohenArthur/repos", "events_url": "https://api.github.com/users/CohenArthur/events{/privacy}", "received_events_url": "https://api.github.com/users/CohenArthur/received_events", "type": "User", "site_admin": false}, "committer": {"login": "CohenArthur", "id": 43524065, "node_id": "MDQ6VXNlcjQzNTI0MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/43524065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CohenArthur", "html_url": "https://github.com/CohenArthur", "followers_url": "https://api.github.com/users/CohenArthur/followers", "following_url": "https://api.github.com/users/CohenArthur/following{/other_user}", "gists_url": "https://api.github.com/users/CohenArthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/CohenArthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CohenArthur/subscriptions", "organizations_url": "https://api.github.com/users/CohenArthur/orgs", "repos_url": "https://api.github.com/users/CohenArthur/repos", "events_url": "https://api.github.com/users/CohenArthur/events{/privacy}", "received_events_url": "https://api.github.com/users/CohenArthur/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ded1aca9022faa4a72a97f117ace085ecb34487f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ded1aca9022faa4a72a97f117ace085ecb34487f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ded1aca9022faa4a72a97f117ace085ecb34487f"}], "stats": {"total": 82, "additions": 82, "deletions": 0}, "files": [{"sha": "f1fc34eab908da4ad2c00a464af8acc9f755d48c", "filename": "gcc/testsuite/rust/execute/torture/macros10.rs", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6db51e39363a4500dd8d3e04d87f682f9ef11f26/gcc%2Ftestsuite%2Frust%2Fexecute%2Ftorture%2Fmacros10.rs", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6db51e39363a4500dd8d3e04d87f682f9ef11f26/gcc%2Ftestsuite%2Frust%2Fexecute%2Ftorture%2Fmacros10.rs", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Frust%2Fexecute%2Ftorture%2Fmacros10.rs?ref=6db51e39363a4500dd8d3e04d87f682f9ef11f26", "patch": "@@ -0,0 +1,20 @@\n+// { dg-output \"18\\n\" }\n+extern \"C\" {\n+    fn printf(s: *const i8, ...);\n+}\n+\n+fn print_int(value: i32) {\n+    let s = \"%d\\n\\0\" as *const str as *const i8;\n+    printf(s, value);\n+}\n+\n+macro_rules! add_exprs {\n+    ($($e:expr)*) => (0 $(+ $e)*)\n+}\n+\n+fn main() -> i32 {\n+    // 1 + 2 + 15 => 18\n+    print_int(add_exprs!(1 2 15));\n+\n+    0\n+}"}, {"sha": "7ce7d800f47582185ff1e85b4fb4e9a2646c64d0", "filename": "gcc/testsuite/rust/execute/torture/macros11.rs", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6db51e39363a4500dd8d3e04d87f682f9ef11f26/gcc%2Ftestsuite%2Frust%2Fexecute%2Ftorture%2Fmacros11.rs", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6db51e39363a4500dd8d3e04d87f682f9ef11f26/gcc%2Ftestsuite%2Frust%2Fexecute%2Ftorture%2Fmacros11.rs", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Frust%2Fexecute%2Ftorture%2Fmacros11.rs?ref=6db51e39363a4500dd8d3e04d87f682f9ef11f26", "patch": "@@ -0,0 +1,22 @@\n+// { dg-output \"2\" }\n+extern \"C\" {\n+    fn printf(s: *const i8, ...);\n+}\n+\n+fn print_int(value: i32) {\n+    let s = \"%d\\n\\0\";\n+    let s_p = s as *const str;\n+    let c_p = s_p as *const i8;\n+    unsafe { printf(c_p, value); }\n+}\n+\n+macro_rules! add_exprs {\n+    ($($e:expr)?) => (0 $(+ $e)?)\n+}\n+\n+fn main() -> i32 {\n+    // 2\n+    print_int(add_exprs!(2));\n+\n+    0\n+}"}, {"sha": "ff4a862fe606c8145008b985486560a825baccc6", "filename": "gcc/testsuite/rust/execute/torture/macros12.rs", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6db51e39363a4500dd8d3e04d87f682f9ef11f26/gcc%2Ftestsuite%2Frust%2Fexecute%2Ftorture%2Fmacros12.rs", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6db51e39363a4500dd8d3e04d87f682f9ef11f26/gcc%2Ftestsuite%2Frust%2Fexecute%2Ftorture%2Fmacros12.rs", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Frust%2Fexecute%2Ftorture%2Fmacros12.rs?ref=6db51e39363a4500dd8d3e04d87f682f9ef11f26", "patch": "@@ -0,0 +1,20 @@\n+// { dg-output \"0\\n\" }\n+extern \"C\" {\n+    fn printf(s: *const i8, ...);\n+}\n+\n+fn print_int(value: i32) {\n+    let s = \"%d\\n\\0\" as *const str as *const i8;\n+    printf(s, value);\n+}\n+\n+macro_rules! add_exprs {\n+    ($($e:expr)?) => (0 $(+ $e)?)\n+}\n+\n+fn main() -> i32 {\n+    // 0\n+    print_int(add_exprs!());\n+\n+    0\n+}"}, {"sha": "af5dfe84ee3860f73cb633212bc0d480b45a1b29", "filename": "gcc/testsuite/rust/execute/torture/macros13.rs", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6db51e39363a4500dd8d3e04d87f682f9ef11f26/gcc%2Ftestsuite%2Frust%2Fexecute%2Ftorture%2Fmacros13.rs", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6db51e39363a4500dd8d3e04d87f682f9ef11f26/gcc%2Ftestsuite%2Frust%2Fexecute%2Ftorture%2Fmacros13.rs", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Frust%2Fexecute%2Ftorture%2Fmacros13.rs?ref=6db51e39363a4500dd8d3e04d87f682f9ef11f26", "patch": "@@ -0,0 +1,20 @@\n+// { dg-output \"18\\n\" }\n+extern \"C\" {\n+    fn printf(s: *const i8, ...);\n+}\n+\n+fn print_int(value: i32) {\n+    let s = \"%d\\n\\0\" as *const str as *const i8;\n+    printf(s, value);\n+}\n+\n+macro_rules! add_exprs {\n+    ($($e:expr)+) => (0 $(+ $e)+)\n+}\n+\n+fn main() -> i32 {\n+    // 1 + 2 + 15 => 18\n+    print_int(add_exprs!(1 2 15));\n+\n+    0\n+}"}]}