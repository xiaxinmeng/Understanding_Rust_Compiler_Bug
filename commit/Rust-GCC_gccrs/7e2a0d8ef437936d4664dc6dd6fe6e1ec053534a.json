{"sha": "7e2a0d8ef437936d4664dc6dd6fe6e1ec053534a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2UyYTBkOGVmNDM3OTM2ZDQ2NjRkYzZkZDZmZTZlMWVjMDUzNTM0YQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-12-27T13:47:14Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-12-27T13:47:14Z"}, "message": "(subst, case MINUS): Allow some FP simplifications if -ffast-math.\n\n(reversible_comparison_p): FP comparisons reversible with -ffast-math.\n\nFrom-SVN: r6333", "tree": {"sha": "c992b4a3c4ddde3f3c3d2d58dd89d9c01438bc79", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c992b4a3c4ddde3f3c3d2d58dd89d9c01438bc79"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7e2a0d8ef437936d4664dc6dd6fe6e1ec053534a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e2a0d8ef437936d4664dc6dd6fe6e1ec053534a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7e2a0d8ef437936d4664dc6dd6fe6e1ec053534a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e2a0d8ef437936d4664dc6dd6fe6e1ec053534a/comments", "author": null, "committer": null, "parents": [{"sha": "60614fddd4e527bb9861dd7c5669114ef6661a6b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/60614fddd4e527bb9861dd7c5669114ef6661a6b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/60614fddd4e527bb9861dd7c5669114ef6661a6b"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "cd3585a783166bc529b751bc2903aaead089b1be", "filename": "gcc/combine.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e2a0d8ef437936d4664dc6dd6fe6e1ec053534a/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e2a0d8ef437936d4664dc6dd6fe6e1ec053534a/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=7e2a0d8ef437936d4664dc6dd6fe6e1ec053534a", "patch": "@@ -3335,7 +3335,8 @@ subst (x, from, to, in_dest, unique_copy)\n       if (GET_CODE (XEXP (x, 0)) == MINUS\n \t  && (! FLOAT_MODE_P (mode)\n \t      /* x-y != -(y-x) with IEEE floating point. */\n-\t      || TARGET_FLOAT_FORMAT != IEEE_FLOAT_FORMAT))\n+\t      || TARGET_FLOAT_FORMAT != IEEE_FLOAT_FORMAT\n+\t      || flag_fast_math))\n \t{\n \t  x = gen_binary (MINUS, mode, XEXP (XEXP (x, 0), 1),\n \t\t\t  XEXP (XEXP (x, 0), 0));\n@@ -3428,7 +3429,8 @@ subst (x, from, to, in_dest, unique_copy)\n \n       /* In IEEE floating point, x-0 is not the same as x.  */\n       if ((TARGET_FLOAT_FORMAT != IEEE_FLOAT_FORMAT\n-\t   || ! FLOAT_MODE_P (GET_MODE (XEXP (x, 0))))\n+\t   || ! FLOAT_MODE_P (GET_MODE (XEXP (x, 0)))\n+\t   || flag_fast_math)\n \t  && XEXP (x, 1) == CONST0_RTX (GET_MODE (XEXP (x, 0))))\n \treturn XEXP (x, 0);\n       break;\n@@ -9198,6 +9200,7 @@ reversible_comparison_p (x)\n      rtx x;\n {\n   if (TARGET_FLOAT_FORMAT != IEEE_FLOAT_FORMAT\n+      || flag_fast_math\n       || GET_CODE (x) == NE || GET_CODE (x) == EQ)\n     return 1;\n "}]}