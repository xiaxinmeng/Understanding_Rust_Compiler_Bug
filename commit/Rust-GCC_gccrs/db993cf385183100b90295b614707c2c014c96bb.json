{"sha": "db993cf385183100b90295b614707c2c014c96bb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGI5OTNjZjM4NTE4MzEwMGI5MDI5NWI2MTQ3MDdjMmMwMTRjOTZiYg==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@bitrange.com", "date": "2002-01-01T20:48:31Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2002-01-01T20:48:31Z"}, "message": "* gcc.dg/mmix-1.c: New test.\n\nFrom-SVN: r48447", "tree": {"sha": "a16aa7e9cb733f0acbdba7ec8e8eb8f81fdc78fd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a16aa7e9cb733f0acbdba7ec8e8eb8f81fdc78fd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/db993cf385183100b90295b614707c2c014c96bb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db993cf385183100b90295b614707c2c014c96bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db993cf385183100b90295b614707c2c014c96bb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db993cf385183100b90295b614707c2c014c96bb/comments", "author": null, "committer": null, "parents": [{"sha": "709f271858a43c04832a06de3d38e2da10c7328a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/709f271858a43c04832a06de3d38e2da10c7328a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/709f271858a43c04832a06de3d38e2da10c7328a"}], "stats": {"total": 46, "additions": 46, "deletions": 0}, "files": [{"sha": "eb39eea7740683a6308b1fa948b88b832e58388e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db993cf385183100b90295b614707c2c014c96bb/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db993cf385183100b90295b614707c2c014c96bb/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=db993cf385183100b90295b614707c2c014c96bb", "patch": "@@ -1,3 +1,7 @@\n+2002-01-01  Hans-Peter Nilsson  <hp@bitrange.com>\n+\n+\t* gcc.dg/mmix-1.c: New test.\n+\n 2001-12-31  Richard Henderson  <rth@redhat.com>\n \n \t* gcc.dg/asm-5.c: New."}, {"sha": "802ae18ff657fac7812b833a65ffa13088d92f72", "filename": "gcc/testsuite/gcc.dg/mmix-1.c", "status": "added", "additions": 42, "deletions": 0, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db993cf385183100b90295b614707c2c014c96bb/gcc%2Ftestsuite%2Fgcc.dg%2Fmmix-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db993cf385183100b90295b614707c2c014c96bb/gcc%2Ftestsuite%2Fgcc.dg%2Fmmix-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fmmix-1.c?ref=db993cf385183100b90295b614707c2c014c96bb", "patch": "@@ -0,0 +1,42 @@\n+/* Origin: <hp@bitrange.com>\n+   Test that MMIX -mtoplevel-symbols cause a \":\" to be prepended on the\n+   right symbols and only there.  */\n+/* { dg-do compile { target mmix-*-* } } */\n+/* { dg-options \"-mtoplevel-symbols\" } */\n+\n+static int static_variable = 1;\n+int global_initialized_variable = 2;\n+extern int extern_declared_variable;\n+int common_variable;\n+extern int extern_declared_function (void);\n+static int static_function (void);\n+\n+int global_defined_function ()\n+{\n+  static int static_variable_in_function = 2009;\n+  return\n+    static_variable\n+    + static_variable_in_function++\n+    + global_initialized_variable\n+    + common_variable\n+    + extern_declared_function ()\n+    + static_function ();\n+}\n+\n+static int\n+static_function (void)\n+{\n+  if (extern_declared_variable)\n+    return 42;\n+  else\n+    return 42 + global_defined_function ();\n+}\n+\n+/* { dg-final { scan-assembler-not \":static_variable\" } } */\n+/* { dg-final { scan-assembler-not \"(^|\\[^:\\])global_initialized_variable\" } } */\n+/* { dg-final { scan-assembler-not \"\\[^:\\]extern_declared_variable\" } } */\n+/* { dg-final { scan-assembler-not \"\\[^:\\]common_variable\" } } */\n+/* { dg-final { scan-assembler-not \"\\[^:\\]extern_declared_function\" } } */\n+/* { dg-final { scan-assembler-not \":static_function\" } } */\n+/* { dg-final { scan-assembler-not \"(^|\\[^:\\])global_defined_function\" } } */\n+/* { dg-final { scan-assembler-not \"\\[^:\\]extern_declared_variable\" } } */"}]}