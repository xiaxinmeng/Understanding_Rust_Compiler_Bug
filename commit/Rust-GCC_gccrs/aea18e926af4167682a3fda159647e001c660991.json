{"sha": "aea18e926af4167682a3fda159647e001c660991", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWVhMThlOTI2YWY0MTY3NjgyYTNmZGExNTk2NDdlMDAxYzY2MDk5MQ==", "commit": {"author": {"name": "Janus Weil", "email": "janus@gcc.gnu.org", "date": "2010-08-03T11:08:50Z"}, "committer": {"name": "Janus Weil", "email": "janus@gcc.gnu.org", "date": "2010-08-03T11:08:50Z"}, "message": "re PR fortran/44584 (Invalid memory access with gfortran.dg/typebound_proc_15.f03)\n\n2010-08-03  Janus Weil  <janus@gcc.gnu.org>\n\n\tPR fortran/44584\n\tPR fortran/45161\n\t* class.c (add_procs_to_declared_vtab1): Don't add erroneous procedures.\n\t* resolve.c (resolve_tb_generic_targets): Check for errors.\n\n\n2010-08-03  Janus Weil  <janus@gcc.gnu.org>\n\n\tPR fortran/44584\n\tPR fortran/45161\n\t* gfortran.dg/typebound_call_9.f03: Modified.\n\t* gfortran.dg/typebound_generic_1.f03: Modified.\n\nFrom-SVN: r162840", "tree": {"sha": "b7729d1d740cd150207608722bafb1e916f855c5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b7729d1d740cd150207608722bafb1e916f855c5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aea18e926af4167682a3fda159647e001c660991", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aea18e926af4167682a3fda159647e001c660991", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aea18e926af4167682a3fda159647e001c660991", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aea18e926af4167682a3fda159647e001c660991/comments", "author": {"login": "janusw", "id": 484108, "node_id": "MDQ6VXNlcjQ4NDEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/484108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janusw", "html_url": "https://github.com/janusw", "followers_url": "https://api.github.com/users/janusw/followers", "following_url": "https://api.github.com/users/janusw/following{/other_user}", "gists_url": "https://api.github.com/users/janusw/gists{/gist_id}", "starred_url": "https://api.github.com/users/janusw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janusw/subscriptions", "organizations_url": "https://api.github.com/users/janusw/orgs", "repos_url": "https://api.github.com/users/janusw/repos", "events_url": "https://api.github.com/users/janusw/events{/privacy}", "received_events_url": "https://api.github.com/users/janusw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "janusw", "id": 484108, "node_id": "MDQ6VXNlcjQ4NDEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/484108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janusw", "html_url": "https://github.com/janusw", "followers_url": "https://api.github.com/users/janusw/followers", "following_url": "https://api.github.com/users/janusw/following{/other_user}", "gists_url": "https://api.github.com/users/janusw/gists{/gist_id}", "starred_url": "https://api.github.com/users/janusw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janusw/subscriptions", "organizations_url": "https://api.github.com/users/janusw/orgs", "repos_url": "https://api.github.com/users/janusw/repos", "events_url": "https://api.github.com/users/janusw/events{/privacy}", "received_events_url": "https://api.github.com/users/janusw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1890bccc84b42bf84137be7ffbc8a61bc8463046", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1890bccc84b42bf84137be7ffbc8a61bc8463046", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1890bccc84b42bf84137be7ffbc8a61bc8463046"}], "stats": {"total": 31, "additions": 22, "deletions": 9}, "files": [{"sha": "23c0a1ef1ff30bd685f05aa9ce9fd416f46f7a58", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aea18e926af4167682a3fda159647e001c660991/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aea18e926af4167682a3fda159647e001c660991/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=aea18e926af4167682a3fda159647e001c660991", "patch": "@@ -1,3 +1,10 @@\n+2010-08-03  Janus Weil  <janus@gcc.gnu.org>\n+\n+\tPR fortran/44584\n+\tPR fortran/45161\n+\t* class.c (add_procs_to_declared_vtab1): Don't add erroneous procedures.\n+\t* resolve.c (resolve_tb_generic_targets): Check for errors.\n+\n 2010-08-02  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR fortran/45159"}, {"sha": "558fda2fcf3dea252cfdb879353b7bd09600658c", "filename": "gcc/fortran/class.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aea18e926af4167682a3fda159647e001c660991/gcc%2Ffortran%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aea18e926af4167682a3fda159647e001c660991/gcc%2Ffortran%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fclass.c?ref=aea18e926af4167682a3fda159647e001c660991", "patch": "@@ -257,10 +257,8 @@ add_procs_to_declared_vtab1 (gfc_symtree *st, gfc_symbol *vtype)\n   if (st->right)\n     add_procs_to_declared_vtab1 (st->right, vtype);\n \n-  if (!st->n.tb)\n-    return;\n-\n-  if (!st->n.tb->is_generic && st->n.tb->u.specific)\n+  if (st->n.tb && !st->n.tb->error \n+      && !st->n.tb->is_generic && st->n.tb->u.specific)\n     add_proc_comp (vtype, st->name, st->n.tb);\n }\n "}, {"sha": "90d193cb14a9020a4887910e9477e8e0ba70fb5d", "filename": "gcc/fortran/resolve.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aea18e926af4167682a3fda159647e001c660991/gcc%2Ffortran%2Fresolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aea18e926af4167682a3fda159647e001c660991/gcc%2Ffortran%2Fresolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fresolve.c?ref=aea18e926af4167682a3fda159647e001c660991", "patch": "@@ -10261,7 +10261,7 @@ resolve_tb_generic_targets (gfc_symbol* super_type,\n \ttarget_name = target->specific_st->name;\n \n \t/* Defined for this type directly.  */\n-\tif (target->specific_st->n.tb)\n+\tif (target->specific_st->n.tb && !target->specific_st->n.tb->error)\n \t  {\n \t    target->specific = target->specific_st->n.tb;\n \t    goto specific_found;"}, {"sha": "ffb64744955efb87e58366a9c1922026f1038df1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aea18e926af4167682a3fda159647e001c660991/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aea18e926af4167682a3fda159647e001c660991/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=aea18e926af4167682a3fda159647e001c660991", "patch": "@@ -1,3 +1,10 @@\n+2010-08-03  Janus Weil  <janus@gcc.gnu.org>\n+\n+\tPR fortran/44584\n+\tPR fortran/45161\n+\t* gfortran.dg/typebound_call_9.f03: Modified.\n+\t* gfortran.dg/typebound_generic_1.f03: Modified.\n+\n 2010-08-02  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR fortran/45159"}, {"sha": "4863f07eb596709ff736639da6eeb3979a622643", "filename": "gcc/testsuite/gfortran.dg/typebound_call_9.f03", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aea18e926af4167682a3fda159647e001c660991/gcc%2Ftestsuite%2Fgfortran.dg%2Ftypebound_call_9.f03", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aea18e926af4167682a3fda159647e001c660991/gcc%2Ftestsuite%2Fgfortran.dg%2Ftypebound_call_9.f03", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Ftypebound_call_9.f03?ref=aea18e926af4167682a3fda159647e001c660991", "patch": "@@ -17,7 +17,7 @@ module foo_mod\n   contains\n \n     procedure, pass(a) :: makenull ! { dg-error \"has no argument 'a'\" }\n-    generic :: null2 => makenull\n+    generic :: null2 => makenull   ! { dg-error \"Undefined specific binding\" }\n \n   end type base_foo_type\n \n@@ -50,7 +50,7 @@ subroutine foo_free(a,info)\n     endif\n \n     call a%makenull()\n-    call a%null2 () ! { dg-error \"no matching specific binding\" }\n+    call a%null2 () ! { dg-error \"should be a SUBROUTINE\" }\n \n     Return\n   End Subroutine foo_free"}, {"sha": "fb1dfaec663d5c7ff220a739192c898f5f8f6643", "filename": "gcc/testsuite/gfortran.dg/typebound_generic_1.f03", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aea18e926af4167682a3fda159647e001c660991/gcc%2Ftestsuite%2Fgfortran.dg%2Ftypebound_generic_1.f03", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aea18e926af4167682a3fda159647e001c660991/gcc%2Ftestsuite%2Fgfortran.dg%2Ftypebound_generic_1.f03", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Ftypebound_generic_1.f03?ref=aea18e926af4167682a3fda159647e001c660991", "patch": "@@ -18,7 +18,7 @@ MODULE m\n     GENERIC :: gen1 => p1a ! { dg-error \"are ambiguous\" }\n \n     GENERIC, PUBLIC :: gen1 => p1, p2\n-    GENERIC :: gen1 => p3 ! Implicitelly PUBLIC.\n+    GENERIC :: gen1 => p3 ! Implicitly PUBLIC.\n     GENERIC, PRIVATE :: gen2 => p1\n \n     GENERIC :: gen2 => p2 ! { dg-error \"same access\" }\n@@ -29,7 +29,8 @@ MODULE m\n     GENERIC :: gen3 => ! { dg-error \"specific binding\" }\n     GENERIC :: gen4 => p1 x ! { dg-error \"Junk after\" }\n     GENERIC :: gen5 => p_notthere ! { dg-error \"Undefined specific binding\" }\n-    GENERIC :: gen6 => gen1 ! { dg-error \"must target a specific binding\" }\n+    GENERIC :: gen6 => p1\n+    GENERIC :: gen7 => gen6 ! { dg-error \"must target a specific binding\" }\n \n     GENERIC :: gensubr => p2 ! { dg-error \"mixed FUNCTION/SUBROUTINE\" }\n     GENERIC :: gensubr => subr"}]}