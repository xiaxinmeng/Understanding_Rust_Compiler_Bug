{"sha": "43dbd3e338b914681b7d8d90daef7caf5ea6b9fd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDNkYmQzZTMzOGI5MTQ2ODFiN2Q4ZDkwZGFlZjdjYWY1ZWE2YjlmZA==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2013-10-14T13:50:16Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2013-10-14T13:50:16Z"}, "message": "[multiple changes]\n\n2013-10-14  Robert Dewar  <dewar@adacore.com>\n\n\t* sem_aux.adb, sem_aux.ads, sem_prag.adb: Minor reformatting.\n\n2013-10-14  Ed Schonberg  <schonberg@adacore.com>\n\n\t* sem_res.adb (Resolve_Actuals): Add error message for a\n\tsubprogram with an in-out parameter when used in a predicate,\n\tto clarify subsequent error at the point of call.\n\nFrom-SVN: r203558", "tree": {"sha": "00f2cf694b13182947ff6c464c02656376e618d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/00f2cf694b13182947ff6c464c02656376e618d9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/43dbd3e338b914681b7d8d90daef7caf5ea6b9fd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/43dbd3e338b914681b7d8d90daef7caf5ea6b9fd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/43dbd3e338b914681b7d8d90daef7caf5ea6b9fd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/43dbd3e338b914681b7d8d90daef7caf5ea6b9fd/comments", "author": null, "committer": null, "parents": [{"sha": "4248145849940945d7c74d0f86876f220bbab8a1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4248145849940945d7c74d0f86876f220bbab8a1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4248145849940945d7c74d0f86876f220bbab8a1"}], "stats": {"total": 27, "additions": 22, "deletions": 5}, "files": [{"sha": "d155557eff5a299e0b1719fd492a38d40465e373", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43dbd3e338b914681b7d8d90daef7caf5ea6b9fd/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43dbd3e338b914681b7d8d90daef7caf5ea6b9fd/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=43dbd3e338b914681b7d8d90daef7caf5ea6b9fd", "patch": "@@ -1,3 +1,13 @@\n+2013-10-14  Robert Dewar  <dewar@adacore.com>\n+\n+\t* sem_aux.adb, sem_aux.ads, sem_prag.adb: Minor reformatting.\n+\n+2013-10-14  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* sem_res.adb (Resolve_Actuals): Add error message for a\n+\tsubprogram with an in-out parameter when used in a predicate,\n+\tto clarify subsequent error at the point of call.\n+\n 2013-10-14  Hristian Kirtchev  <kirtchev@adacore.com>\n \n \t* sem_prag.adb (Is_Matching_Input): Consume a matching null input."}, {"sha": "5c2b5df89b656ccce3cb778dfe8df570a3e246a7", "filename": "gcc/ada/sem_aux.adb", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43dbd3e338b914681b7d8d90daef7caf5ea6b9fd/gcc%2Fada%2Fsem_aux.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43dbd3e338b914681b7d8d90daef7caf5ea6b9fd/gcc%2Fada%2Fsem_aux.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_aux.adb?ref=43dbd3e338b914681b7d8d90daef7caf5ea6b9fd", "patch": "@@ -1160,7 +1160,6 @@ package body Sem_Aux is\n \n    begin\n       N := Parent (Pack_Id);\n-\n       while Nkind (N) /= N_Package_Specification loop\n          N := Parent (N);\n "}, {"sha": "a4b1a673bce9c01080170b13cac57cf61dcfb8f5", "filename": "gcc/ada/sem_aux.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43dbd3e338b914681b7d8d90daef7caf5ea6b9fd/gcc%2Fada%2Fsem_aux.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43dbd3e338b914681b7d8d90daef7caf5ea6b9fd/gcc%2Fada%2Fsem_aux.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_aux.ads?ref=43dbd3e338b914681b7d8d90daef7caf5ea6b9fd", "patch": "@@ -351,5 +351,5 @@ package Sem_Aux is\n    function Package_Specification (Pack_Id : Entity_Id) return Node_Id;\n    --  Given an entity for a package or generic package, return corresponding\n    --  package specification. Simplifies handling of child units, and better\n-   --  than the old idiom: Specification (Unit_Declaration_Node (Pack_Id).\n+   --  than the old idiom: Specification (Unit_Declaration_Node (Pack_Id)).\n end Sem_Aux;"}, {"sha": "69df1759b55ba0ff89795f1240a49d8fa47528f2", "filename": "gcc/ada/sem_prag.adb", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43dbd3e338b914681b7d8d90daef7caf5ea6b9fd/gcc%2Fada%2Fsem_prag.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43dbd3e338b914681b7d8d90daef7caf5ea6b9fd/gcc%2Fada%2Fsem_prag.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_prag.adb?ref=43dbd3e338b914681b7d8d90daef7caf5ea6b9fd", "patch": "@@ -19971,16 +19971,15 @@ package body Sem_Prag is\n \n                   if Nkind (Ref_Input) = N_Null then\n                      Remove (Ref_Input);\n-\n                      return True;\n+\n                   else\n                      Match_Error\n                        (\"null input cannot be matched in corresponding \"\n                         & \"refinement clause\", Dep_Input);\n                   end if;\n \n-               --  The remaining cases are formal parameters, variables and\n-               --  states.\n+               --  Remaining cases are formal parameters, variables, and states\n \n                else\n                   Dep_Id := Entity_Of (Dep_Input);"}, {"sha": "3cb49f416a78e3a99b79057602b111f928cdd48d", "filename": "gcc/ada/sem_res.adb", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43dbd3e338b914681b7d8d90daef7caf5ea6b9fd/gcc%2Fada%2Fsem_res.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43dbd3e338b914681b7d8d90daef7caf5ea6b9fd/gcc%2Fada%2Fsem_res.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_res.adb?ref=43dbd3e338b914681b7d8d90daef7caf5ea6b9fd", "patch": "@@ -3933,6 +3933,15 @@ package body Sem_Res is\n                  and then not Is_Init_Proc (Nam)\n                then\n                   Error_Msg_NE (\"actual for& must be a variable\", A, F);\n+\n+                  if Is_Subprogram (Current_Scope)\n+                    and then\n+                      (Is_Invariant_Procedure (Current_Scope)\n+                         or else Is_Predicate_Function (Current_Scope))\n+                  then\n+                     Error_Msg_N (\"function used in predicate cannot \" &\n+                       \"modify its argument\", F);\n+                  end if;\n                end if;\n \n                --  What's the following about???"}]}