{"sha": "7dd689869298beb490a6c84cc04e1f2a2686649b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2RkNjg5ODY5Mjk4YmViNDkwYTZjODRjYzA0ZTFmMmEyNjg2NjQ5Yg==", "commit": {"author": {"name": "Nick Clifton", "email": "nickc@redhat.com", "date": "2008-04-22T09:49:43Z"}, "committer": {"name": "Nick Clifton", "email": "nickc@gcc.gnu.org", "date": "2008-04-22T09:49:43Z"}, "message": "frv.c (frv_stack_info): Use crtl instead of cfun.\n\n* config/frv/frv.c (frv_stack_info): Use crtl instead of cfun.\n  (frv_expand_builtin_va_start): Likewise.\n\nFrom-SVN: r134554", "tree": {"sha": "6101c089c7a1f971d9370e3ad7b65e056db99e26", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6101c089c7a1f971d9370e3ad7b65e056db99e26"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7dd689869298beb490a6c84cc04e1f2a2686649b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7dd689869298beb490a6c84cc04e1f2a2686649b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7dd689869298beb490a6c84cc04e1f2a2686649b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7dd689869298beb490a6c84cc04e1f2a2686649b/comments", "author": {"login": "nickclifton", "id": 31441682, "node_id": "MDQ6VXNlcjMxNDQxNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nickclifton", "html_url": "https://github.com/nickclifton", "followers_url": "https://api.github.com/users/nickclifton/followers", "following_url": "https://api.github.com/users/nickclifton/following{/other_user}", "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}", "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions", "organizations_url": "https://api.github.com/users/nickclifton/orgs", "repos_url": "https://api.github.com/users/nickclifton/repos", "events_url": "https://api.github.com/users/nickclifton/events{/privacy}", "received_events_url": "https://api.github.com/users/nickclifton/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f6d2671ea9645cffba6f1e85d7a6bf1ccb6ba551", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6d2671ea9645cffba6f1e85d7a6bf1ccb6ba551", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f6d2671ea9645cffba6f1e85d7a6bf1ccb6ba551"}], "stats": {"total": 13, "additions": 8, "deletions": 5}, "files": [{"sha": "7c659d4cddd263072295590eb4227db28e084fa7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7dd689869298beb490a6c84cc04e1f2a2686649b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7dd689869298beb490a6c84cc04e1f2a2686649b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7dd689869298beb490a6c84cc04e1f2a2686649b", "patch": "@@ -1,5 +1,8 @@\n 2008-04-22  Nick Clifton  <nickc@redhat.com>\n \n+\t* config/frv/frv.c (frv_stack_info): Use crtl instead of cfun.\n+\t(frv_expand_builtin_va_start): Likewise.\n+\n \t* config/arm/arm.c (thumb_find_work_register): Fix location of\n \targument register count.\n "}, {"sha": "badc45e7ab63075cdbb298bf434654a810553bbd", "filename": "gcc/config/frv/frv.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7dd689869298beb490a6c84cc04e1f2a2686649b/gcc%2Fconfig%2Ffrv%2Ffrv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7dd689869298beb490a6c84cc04e1f2a2686649b/gcc%2Fconfig%2Ffrv%2Ffrv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffrv%2Ffrv.c?ref=7dd689869298beb490a6c84cc04e1f2a2686649b", "patch": "@@ -1208,7 +1208,7 @@ frv_stack_info (void)\n \t      /* If this is a stdarg function with a non varardic\n \t\t argument split between registers and the stack,\n \t\t adjust the saved registers downward.  */\n-\t      last -= (ADDR_ALIGN (cfun->pretend_args_size, UNITS_PER_WORD)\n+\t      last -= (ADDR_ALIGN (crtl->args.pretend_args_size, UNITS_PER_WORD)\n \t\t       / UNITS_PER_WORD);\n \n \t      for (regno = first; regno <= last; regno++)\n@@ -1268,13 +1268,13 @@ frv_stack_info (void)\n      be used, or the size of a word otherwise.  */\n   alignment = (TARGET_DWORD? 2 * UNITS_PER_WORD : UNITS_PER_WORD);\n \n-  info_ptr->parameter_size = ADDR_ALIGN (cfun->outgoing_args_size, alignment);\n+  info_ptr->parameter_size = ADDR_ALIGN (crtl->outgoing_args_size, alignment);\n   info_ptr->regs_size = ADDR_ALIGN (info_ptr->regs_size_2words\n \t\t\t\t    + info_ptr->regs_size_1word,\n \t\t\t\t    alignment);\n   info_ptr->vars_size = ADDR_ALIGN (get_frame_size (), alignment);\n \n-  info_ptr->pretend_size = cfun->pretend_args_size;\n+  info_ptr->pretend_size = crtl->args.pretend_args_size;\n \n   /* Work out the size of the frame, excluding the header.  Both the frame\n      body and register parameter area will be dword-aligned.  */\n@@ -2194,15 +2194,15 @@ static void\n frv_expand_builtin_va_start (tree valist, rtx nextarg)\n {\n   tree t;\n-  int num = cfun->args_info - FIRST_ARG_REGNUM - FRV_NUM_ARG_REGS;\n+  int num = crtl->args.info - FIRST_ARG_REGNUM - FRV_NUM_ARG_REGS;\n \n   nextarg = gen_rtx_PLUS (Pmode, virtual_incoming_args_rtx,\n \t\t\t  GEN_INT (UNITS_PER_WORD * num));\n \n   if (TARGET_DEBUG_ARG)\n     {\n       fprintf (stderr, \"va_start: args_info = %d, num = %d\\n\",\n-\t       cfun->args_info, num);\n+\t       crtl->args.info, num);\n \n       debug_rtx (nextarg);\n     }"}]}