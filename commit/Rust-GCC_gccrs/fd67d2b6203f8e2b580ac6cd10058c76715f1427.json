{"sha": "fd67d2b6203f8e2b580ac6cd10058c76715f1427", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmQ2N2QyYjYyMDNmOGUyYjU4MGFjNmNkMTAwNThjNzY3MTVmMTQyNw==", "commit": {"author": {"name": "Jason Merrill", "email": "merrill@gnu.org", "date": "1994-08-05T19:02:42Z"}, "committer": {"name": "Jason Merrill", "email": "merrill@gnu.org", "date": "1994-08-05T19:02:42Z"}, "message": "(expand_expr...\n\n (expand_expr, COND_EXPR case): Use truthvalue_conversion\n        to make the condition for running cleanups acceptable to\n        invert_truthvalue.\n\nFrom-SVN: r7861", "tree": {"sha": "0c52d0d3266e251174896b99714790cc61ec578e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0c52d0d3266e251174896b99714790cc61ec578e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fd67d2b6203f8e2b580ac6cd10058c76715f1427", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd67d2b6203f8e2b580ac6cd10058c76715f1427", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd67d2b6203f8e2b580ac6cd10058c76715f1427", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd67d2b6203f8e2b580ac6cd10058c76715f1427/comments", "author": null, "committer": null, "parents": [{"sha": "ceb1d26880ef6ccf4528f8e11ba611c0ff886933", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ceb1d26880ef6ccf4528f8e11ba611c0ff886933", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ceb1d26880ef6ccf4528f8e11ba611c0ff886933"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "a657e82a55e11a766a794b50e9fcc4d5e49c2ee7", "filename": "gcc/expr.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd67d2b6203f8e2b580ac6cd10058c76715f1427/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd67d2b6203f8e2b580ac6cd10058c76715f1427/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=fd67d2b6203f8e2b580ac6cd10058c76715f1427", "patch": "@@ -5738,7 +5738,8 @@ expand_expr (exp, target, tmode, modifier)\n \t      left_cleanups = integer_zero_node;\n \t    if (! right_cleanups)\n \t      right_cleanups = integer_zero_node;\n-\t    new_cleanups = build (COND_EXPR, void_type_node, cond,\n+\t    new_cleanups = build (COND_EXPR, void_type_node,\n+\t\t\t\t  truthvalue_conversion (cond),\n \t\t\t\t  left_cleanups, right_cleanups);\n \t    new_cleanups = fold (new_cleanups);\n "}]}