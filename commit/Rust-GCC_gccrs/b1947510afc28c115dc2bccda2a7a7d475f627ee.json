{"sha": "b1947510afc28c115dc2bccda2a7a7d475f627ee", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjE5NDc1MTBhZmMyOGMxMTVkYzJiY2NkYTJhN2E3ZDQ3NWY2MjdlZQ==", "commit": {"author": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2017-12-03T23:18:10Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2017-12-03T23:18:10Z"}, "message": "pa.c (pa_legitimate_address_p): For scaled indexing...\n\n\t* config/pa/pa.c (pa_legitimate_address_p): For scaled indexing,\n\trequire base operand is a REG_POINTER prior to reload on targets\n\twith non-equivalent space registers.\n\nFrom-SVN: r255369", "tree": {"sha": "574680cb6c2c7592e84a5e7acb9b32b1959b4a3d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/574680cb6c2c7592e84a5e7acb9b32b1959b4a3d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b1947510afc28c115dc2bccda2a7a7d475f627ee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1947510afc28c115dc2bccda2a7a7d475f627ee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b1947510afc28c115dc2bccda2a7a7d475f627ee", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1947510afc28c115dc2bccda2a7a7d475f627ee/comments", "author": null, "committer": null, "parents": [{"sha": "0ac7425470a37554aa4dd017afb5f90b7328c9b0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ac7425470a37554aa4dd017afb5f90b7328c9b0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ac7425470a37554aa4dd017afb5f90b7328c9b0"}], "stats": {"total": 15, "additions": 14, "deletions": 1}, "files": [{"sha": "0940c186448ec5d9d7975fbd8897a8277367599f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b1947510afc28c115dc2bccda2a7a7d475f627ee/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b1947510afc28c115dc2bccda2a7a7d475f627ee/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b1947510afc28c115dc2bccda2a7a7d475f627ee", "patch": "@@ -1,3 +1,9 @@\n+2017-12-03  John David Anglin  <danglin@gcc.gnu.org>\n+\n+\t* config/pa/pa.c (pa_legitimate_address_p): For scaled indexing,\n+\trequire base operand is a REG_POINTER prior to reload on targets\n+\twith non-equivalent space registers.\n+\n 2017-12-01  Jan Hubicka  <hubicka@ucw.cz>\n \n \t* ipa-cp.c (ipcp_lattice<valtype>::print): Update dumping."}, {"sha": "5d28ecda2edffac2ff2cbd9d017ac9e2d499f66d", "filename": "gcc/config/pa/pa.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b1947510afc28c115dc2bccda2a7a7d475f627ee/gcc%2Fconfig%2Fpa%2Fpa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b1947510afc28c115dc2bccda2a7a7d475f627ee/gcc%2Fconfig%2Fpa%2Fpa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.c?ref=b1947510afc28c115dc2bccda2a7a7d475f627ee", "patch": "@@ -10544,9 +10544,16 @@ pa_legitimate_address_p (machine_mode mode, rtx x, bool strict)\n \n       if (!TARGET_DISABLE_INDEXING\n \t  && GET_CODE (index) == MULT\n-\t  && MODE_OK_FOR_SCALED_INDEXING_P (mode)\n+\t  /* Only accept base operands with the REG_POINTER flag prior to\n+\t     reload on targets with non-equivalent space registers.  */\n+\t  && (TARGET_NO_SPACE_REGS\n+\t      || (base == XEXP (x, 1)\n+\t\t  && (reload_completed\n+\t\t      || (reload_in_progress && HARD_REGISTER_P (base))\n+\t\t      || REG_POINTER (base))))\n \t  && REG_P (XEXP (index, 0))\n \t  && GET_MODE (XEXP (index, 0)) == Pmode\n+\t  && MODE_OK_FOR_SCALED_INDEXING_P (mode)\n \t  && (strict ? STRICT_REG_OK_FOR_INDEX_P (XEXP (index, 0))\n \t\t     : REG_OK_FOR_INDEX_P (XEXP (index, 0)))\n \t  && GET_CODE (XEXP (index, 1)) == CONST_INT"}]}