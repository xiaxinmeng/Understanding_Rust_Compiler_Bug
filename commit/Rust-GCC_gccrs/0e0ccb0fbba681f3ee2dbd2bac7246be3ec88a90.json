{"sha": "0e0ccb0fbba681f3ee2dbd2bac7246be3ec88a90", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGUwY2NiMGZiYmE2ODFmM2VlMmRiZDJiYWM3MjQ2YmUzZWM4OGE5MA==", "commit": {"author": {"name": "Janis Johnson", "email": "janisjo@codesourcery.com", "date": "2011-06-27T18:39:21Z"}, "committer": {"name": "Janis Johnson", "email": "janis@gcc.gnu.org", "date": "2011-06-27T18:39:21Z"}, "message": "scanasm.exp (dg-scan, [...]): For missing file...\n\n\t* lib/scanasm.exp (dg-scan, scan-assembler-times, scan-assembler-dem,\n\tscan-assembler-dem-not): For missing file, report unresolved with\n\tsame message as for pass/fail, with reason reported in log file.\n\nFrom-SVN: r175546", "tree": {"sha": "7c9ac7477cef8397c29dae5fca2eb5a57f592865", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7c9ac7477cef8397c29dae5fca2eb5a57f592865"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0e0ccb0fbba681f3ee2dbd2bac7246be3ec88a90", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e0ccb0fbba681f3ee2dbd2bac7246be3ec88a90", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e0ccb0fbba681f3ee2dbd2bac7246be3ec88a90", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e0ccb0fbba681f3ee2dbd2bac7246be3ec88a90/comments", "author": null, "committer": null, "parents": [{"sha": "cf0a9c20a41a9758389a8a4399b2578b06170aa3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf0a9c20a41a9758389a8a4399b2578b06170aa3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cf0a9c20a41a9758389a8a4399b2578b06170aa3"}], "stats": {"total": 50, "additions": 41, "deletions": 9}, "files": [{"sha": "462765229df876ed539a2053adab63abb51446b4", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e0ccb0fbba681f3ee2dbd2bac7246be3ec88a90/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e0ccb0fbba681f3ee2dbd2bac7246be3ec88a90/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=0e0ccb0fbba681f3ee2dbd2bac7246be3ec88a90", "patch": "@@ -1,5 +1,9 @@\n 2011-06-27  Janis Johnson  <janisjo@codesourcery.com>\n \n+\t* lib/scanasm.exp (dg-scan, scan-assembler-times, scan-assembler-dem,\n+\tscan-assembler-dem-not): For missing file, report unresolved with\n+\tsame message as for pass/fail, with reason reported in log file.\n+\n \t* lib/target-supports.exp (add_options_for_arm_fp16): Renamed\n \tfrom add_options_for_arm_neon_fp16.\n \t(check_effective_target_arm_fp16_ok_nocache): Renamed from"}, {"sha": "73eb396b2c3c31b60af7b01786f8f3b65401ddf8", "filename": "gcc/testsuite/lib/scanasm.exp", "status": "modified", "additions": 37, "deletions": 9, "changes": 46, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e0ccb0fbba681f3ee2dbd2bac7246be3ec88a90/gcc%2Ftestsuite%2Flib%2Fscanasm.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e0ccb0fbba681f3ee2dbd2bac7246be3ec88a90/gcc%2Ftestsuite%2Flib%2Fscanasm.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fscanasm.exp?ref=0e0ccb0fbba681f3ee2dbd2bac7246be3ec88a90", "patch": "@@ -50,16 +50,22 @@ proc dg-scan { name positive testcase output_file orig_args } {\n \t}\n     }\n \n+    set pattern [lindex $orig_args 0]\n+    set printable_pattern [make_pattern_printable $pattern]\n+\n     if { [is_remote host] } {\n \tremote_upload host \"$output_file\"\n     } \n+    set files [glob -nocomplain $output_file]\n+    if { $files == \"\" } {\n+\tverbose -log \"$testcase: output file does not exist\"\n+\tunresolved \"$testcase $name $printable_pattern\"\n+\treturn\n+    }\n     set fd [open $output_file r]\n     set text [read $fd]\n     close $fd\n \n-    set pattern [lindex $orig_args 0]\n-    set printable_pattern [make_pattern_printable $pattern]\n-\n     set match [regexp -- $pattern $text]\n     if { $match == $positive } {\n \tpass \"$testcase $name $printable_pattern\"\n@@ -202,15 +208,23 @@ proc scan-assembler-times { args } {\n     upvar 2 name testcase\n     set testcase [lindex $testcase 0]\n \n+    set pattern [lindex $args 0]\n+    set pp_pattern [make_pattern_printable $pattern]\n+\n     # This must match the rule in gcc-dg.exp.\n     set output_file \"[file rootname [file tail $testcase]].s\"\n \n+    set files [glob -nocomplain $output_file]\n+    if { $files == \"\" } {\n+\tverbose -log \"$testcase: output file does not exist\"\n+\tunresolved \"$testcase scan-assembler-times $pp_pattern [lindex $args 1]\"\n+\treturn\n+    }\n+\n     set fd [open $output_file r]\n     set text [read $fd]\n     close $fd\n \n-    set pattern [lindex $args 0]\n-    set pp_pattern [make_pattern_printable $pattern]\n     if { [llength [regexp -inline -all -- $pattern $text]] == [lindex $args 1]} {\n \tpass \"$testcase scan-assembler-times $pp_pattern [lindex $args 1]\"\n     } else {\n@@ -253,13 +267,20 @@ proc scan-assembler-dem { args } {\n \n     upvar 2 name testcase\n     set testcase [lindex $testcase 0]\n+    set pattern [lindex $args 0]\n+    set pp_pattern [make_pattern_printable $pattern]\n     set output_file \"[file rootname [file tail $testcase]].s\"\n \n+    set files [glob -nocomplain $output_file]\n+    if { $files == \"\" } {\n+\tverbose -log \"$testcase: output file does not exist\"\n+\tunresolved \"$testcase scan-assembler-dem $pp_pattern\"\n+\treturn\n+    }\n+\n     set output [remote_exec host \"$cxxfilt\" \"\" \"$output_file\"]\n     set text [lindex $output 1]\n \n-    set pattern [lindex $args 0]\n-    set pp_pattern [make_pattern_printable $pattern]\n     if [regexp -- $pattern $text] {\n \tpass \"$testcase scan-assembler-dem $pp_pattern\"\n     } else {\n@@ -301,13 +322,20 @@ proc scan-assembler-dem-not { args } {\n \n     upvar 2 name testcase\n     set testcase [lindex $testcase 0]\n+    set pattern [lindex $args 0]\n+    set pp_pattern [make_pattern_printable $pattern]\n     set output_file \"[file rootname [file tail $testcase]].s\"\n \n+    set files [glob -nocomplain $output_file]\n+    if { $files == \"\" } {\n+\tverbose -log \"$testcase: output file does not exist\"\n+\tunresolved \"$testcase scan-assembler-dem-not $pp_pattern\"\n+\treturn\n+    }\n+\n     set output [remote_exec host \"$cxxfilt\" \"\" \"$output_file\"]\n     set text [lindex $output 1]\n \n-    set pattern [lindex $args 0]\n-    set pp_pattern [make_pattern_printable $pattern]\n     if ![regexp -- $pattern $text] {\n \tpass \"$testcase scan-assembler-dem-not $pp_pattern\"\n     } else {"}]}