{"sha": "e9f13564bb2cd1147517bcee06e2de0aefeb4af1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTlmMTM1NjRiYjJjZDExNDc1MTdiY2VlMDZlMmRlMGFlZmViNGFmMQ==", "commit": {"author": {"name": "Stephane Carrez", "email": "stcarrez@nerim.fr", "date": "2003-01-19T11:09:08Z"}, "committer": {"name": "Stephane Carrez", "email": "ciceron@gcc.gnu.org", "date": "2003-01-19T11:09:08Z"}, "message": "m68hc11.c (stack_push_word, [...]): Declare static and GTY().\n\n\t* config/m68hc11/m68hc11.c (stack_push_word, stack_pop_word,\n\tz_reg, z_reg_qi): Declare static and GTY().\n\t(da_reg): Remove.\n\t(create_regs_rtx): Don't create da_reg.\n\t(\"gt-m68hc11.h\"): Include for GTY roots.\n\t* config/m68hc11/m68hc11.h (ix_reg, iy_reg, d_reg): Declare extern\n\tand GTY() here.\n\t(m68hc11_compare_op0, m68hc11_compare_op1): Likewise.\n\t(m68hc11_soft_tmp_reg): Likewise.\n\t* config/m68hc11/m68hc11-protos.h: Remove above declarations.\n\nFrom-SVN: r61479", "tree": {"sha": "2467827c7524e3cc1df91ff3803a63e9e1b04d2d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2467827c7524e3cc1df91ff3803a63e9e1b04d2d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e9f13564bb2cd1147517bcee06e2de0aefeb4af1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e9f13564bb2cd1147517bcee06e2de0aefeb4af1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e9f13564bb2cd1147517bcee06e2de0aefeb4af1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e9f13564bb2cd1147517bcee06e2de0aefeb4af1/comments", "author": null, "committer": null, "parents": [{"sha": "32dd366d5eb66118ffa3d59e4cc43df8c1452d18", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32dd366d5eb66118ffa3d59e4cc43df8c1452d18", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32dd366d5eb66118ffa3d59e4cc43df8c1452d18"}], "stats": {"total": 48, "additions": 27, "deletions": 21}, "files": [{"sha": "d0f96adbbc451ba86254f5f2130c8becef978c25", "filename": "gcc/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e9f13564bb2cd1147517bcee06e2de0aefeb4af1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e9f13564bb2cd1147517bcee06e2de0aefeb4af1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e9f13564bb2cd1147517bcee06e2de0aefeb4af1", "patch": "@@ -1,3 +1,16 @@\n+2003-01-19  Stephane Carrez  <stcarrez@nerim.fr>\n+\n+\t* config/m68hc11/m68hc11.c (stack_push_word, stack_pop_word,\n+\tz_reg, z_reg_qi): Declare static and GTY().\n+\t(da_reg): Remove.\n+\t(create_regs_rtx): Don't create da_reg.\n+\t(\"gt-m68hc11.h\"): Include for GTY roots.\n+\t* config/m68hc11/m68hc11.h (ix_reg, iy_reg, d_reg): Declare extern\n+\tand GTY() here.\n+\t(m68hc11_compare_op0, m68hc11_compare_op1): Likewise.\n+\t(m68hc11_soft_tmp_reg): Likewise.\n+\t* config/m68hc11/m68hc11-protos.h: Remove above declarations.\n+\n 2003-01-18  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* basic-block.h: Fix comment formatting."}, {"sha": "7b1ca5654c8d8c92e4076bd2892b77a12cd3befd", "filename": "gcc/config/m68hc11/m68hc11-protos.h", "status": "modified", "additions": 0, "deletions": 12, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e9f13564bb2cd1147517bcee06e2de0aefeb4af1/gcc%2Fconfig%2Fm68hc11%2Fm68hc11-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e9f13564bb2cd1147517bcee06e2de0aefeb4af1/gcc%2Fconfig%2Fm68hc11%2Fm68hc11-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68hc11%2Fm68hc11-protos.h?ref=e9f13564bb2cd1147517bcee06e2de0aefeb4af1", "patch": "@@ -42,18 +42,6 @@ extern void m68hc11_function_arg_advance PARAMS((CUMULATIVE_ARGS*,\n #endif\n \n #ifdef RTX_CODE\n-extern rtx m68hc11_compare_op0;\n-extern rtx m68hc11_compare_op1;\n-extern GTY(()) rtx m68hc11_soft_tmp_reg;\n-extern GTY(()) rtx ix_reg;\n-extern GTY(()) rtx iy_reg;\n-extern GTY(()) rtx d_reg;\n-extern GTY(()) rtx da_reg;\n-extern GTY(()) rtx stack_push_word;\n-extern GTY(()) rtx stack_pop_word;\n-extern GTY(()) rtx z_reg;\n-extern GTY(()) rtx z_reg_qi;\n-\n extern void m68hc11_initialize_trampoline PARAMS((rtx, rtx, rtx));\n \n extern rtx m68hc11_expand_compare_and_branch PARAMS((enum rtx_code,"}, {"sha": "57562e148a4ec14a4fa83d37914ee8b101b90c09", "filename": "gcc/config/m68hc11/m68hc11.c", "status": "modified", "additions": 7, "deletions": 9, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e9f13564bb2cd1147517bcee06e2de0aefeb4af1/gcc%2Fconfig%2Fm68hc11%2Fm68hc11.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e9f13564bb2cd1147517bcee06e2de0aefeb4af1/gcc%2Fconfig%2Fm68hc11%2Fm68hc11.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68hc11%2Fm68hc11.c?ref=e9f13564bb2cd1147517bcee06e2de0aefeb4af1", "patch": "@@ -82,8 +82,6 @@ static void m68hc11_encode_section_info PARAMS((tree, int));\n static int autoinc_mode PARAMS((rtx));\n static int m68hc11_make_autoinc_notes PARAMS((rtx *, void *));\n \n-rtx m68hc11_soft_tmp_reg;\n-\n /* Must be set to 1 to produce debug messages.  */\n int debug_m6811 = 0;\n \n@@ -92,11 +90,12 @@ extern FILE *asm_out_file;\n rtx ix_reg;\n rtx iy_reg;\n rtx d_reg;\n-rtx da_reg;\n-rtx stack_push_word;\n-rtx stack_pop_word;\n+rtx m68hc11_soft_tmp_reg;\n+static GTY(()) rtx stack_push_word;\n+static GTY(()) rtx stack_pop_word;\n+static GTY(()) rtx z_reg;\n+static GTY(()) rtx z_reg_qi;\n static int regs_inited = 0;\n-rtx z_reg;\n \n /* Set to 1 by expand_prologue() when the function is an interrupt handler.  */\n int current_function_interrupt;\n@@ -338,7 +337,6 @@ create_regs_rtx ()\n   ix_reg = gen_rtx (REG, HImode, HARD_X_REGNUM);\n   iy_reg = gen_rtx (REG, HImode, HARD_Y_REGNUM);\n   d_reg = gen_rtx (REG, HImode, HARD_D_REGNUM);\n-  da_reg = gen_rtx (REG, QImode, HARD_A_REGNUM);\n   m68hc11_soft_tmp_reg = gen_rtx (REG, HImode, SOFT_TMP_REGNUM);\n \n   stack_push_word = gen_rtx (MEM, HImode,\n@@ -4106,8 +4104,6 @@ struct replace_info\n   int z_loaded_with_sp;\n };\n \n-rtx z_reg_qi;\n-\n static int m68hc11_check_z_replacement PARAMS ((rtx, struct replace_info *));\n static void m68hc11_find_z_replacement PARAMS ((rtx, struct replace_info *));\n static void m68hc11_z_replacement PARAMS ((rtx));\n@@ -5554,3 +5550,5 @@ m68hc11_asm_out_destructor (symbol, priority)\n   default_dtor_section_asm_out_destructor (symbol, priority);\n   fprintf (asm_out_file, \"\\t.globl\\t__do_global_dtors\\n\");\n }\n+\n+#include \"gt-m68hc11.h\""}, {"sha": "346392174bc18b8024b72c3e9d3394efceb2f4b3", "filename": "gcc/config/m68hc11/m68hc11.h", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e9f13564bb2cd1147517bcee06e2de0aefeb4af1/gcc%2Fconfig%2Fm68hc11%2Fm68hc11.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e9f13564bb2cd1147517bcee06e2de0aefeb4af1/gcc%2Fconfig%2Fm68hc11%2Fm68hc11.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68hc11%2Fm68hc11.h?ref=e9f13564bb2cd1147517bcee06e2de0aefeb4af1", "patch": "@@ -1757,3 +1757,10 @@ extern int z_replacement_completed;\n extern int current_function_interrupt;\n extern int current_function_trap;\n extern int current_function_far;\n+\n+extern GTY(()) rtx m68hc11_compare_op0;\n+extern GTY(()) rtx m68hc11_compare_op1;\n+extern GTY(()) rtx m68hc11_soft_tmp_reg;\n+extern GTY(()) rtx ix_reg;\n+extern GTY(()) rtx iy_reg;\n+extern GTY(()) rtx d_reg;"}]}