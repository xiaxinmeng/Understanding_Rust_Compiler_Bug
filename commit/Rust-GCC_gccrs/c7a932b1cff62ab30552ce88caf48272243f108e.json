{"sha": "c7a932b1cff62ab30552ce88caf48272243f108e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzdhOTMyYjFjZmY2MmFiMzA1NTJjZTg4Y2FmNDgyNzIyNDNmMTA4ZQ==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1999-01-28T09:47:48Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1999-01-28T09:47:48Z"}, "message": "cp-tree.h (struct tree_binding): Replace scope field with a union.\n\n\t* cp-tree.h (struct tree_binding): Replace scope field with a union.\n\t(BINDING_SCOPE): Adjust.\n\t* decl.c (BINDING_LEVEL): Adjust.\n\nFrom-SVN: r24894", "tree": {"sha": "89ab4ee01fa8c681348331c5294486d66cf3e8cc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/89ab4ee01fa8c681348331c5294486d66cf3e8cc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c7a932b1cff62ab30552ce88caf48272243f108e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7a932b1cff62ab30552ce88caf48272243f108e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c7a932b1cff62ab30552ce88caf48272243f108e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7a932b1cff62ab30552ce88caf48272243f108e/comments", "author": null, "committer": null, "parents": [{"sha": "661c7909597d5da70b9c428247bcf451b95a3557", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/661c7909597d5da70b9c428247bcf451b95a3557", "html_url": "https://github.com/Rust-GCC/gccrs/commit/661c7909597d5da70b9c428247bcf451b95a3557"}], "stats": {"total": 15, "additions": 12, "deletions": 3}, "files": [{"sha": "d1154ef77625f03306cae14a5b32a96edcfc5ffd", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7a932b1cff62ab30552ce88caf48272243f108e/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7a932b1cff62ab30552ce88caf48272243f108e/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=c7a932b1cff62ab30552ce88caf48272243f108e", "patch": "@@ -1,3 +1,9 @@\n+1999-01-28  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* cp-tree.h (struct tree_binding): Replace scope field with a union.\n+\t(BINDING_SCOPE): Adjust.\n+\t* decl.c (BINDING_LEVEL): Adjust.\n+\n 1999-01-26  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* pt.c (instantiate_class_template): Set up the DECL_INITIAL of"}, {"sha": "0471be4f8078cf165cf740c4aa62535809b5820e", "filename": "gcc/cp/cp-tree.h", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7a932b1cff62ab30552ce88caf48272243f108e/gcc%2Fcp%2Fcp-tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7a932b1cff62ab30552ce88caf48272243f108e/gcc%2Fcp%2Fcp-tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcp-tree.h?ref=c7a932b1cff62ab30552ce88caf48272243f108e", "patch": "@@ -138,7 +138,7 @@ typedef struct ptrmem_cst\n    _TYPE node, or a NAMESPACE_DECL.)  This macro should be used only\n    for namespace-level bindings; on the IDENTIFIER_BINDING list\n    BINDING_LEVEL is used instead.  */\n-#define BINDING_SCOPE(NODE) ((tree) ((struct tree_binding*)NODE)->scope)\n+#define BINDING_SCOPE(NODE) (((struct tree_binding*)NODE)->scope.scope)\n \n /* This is the declaration bound to the name. Possible values:\n    variable, overloaded function, namespace, template, enumerator.  */\n@@ -159,7 +159,10 @@ typedef struct ptrmem_cst\n struct tree_binding\n {\n   char common[sizeof (struct tree_common)];\n-  void* scope;\n+  union {\n+    tree scope;\n+    struct binding_level *level;\n+  } scope;\n   tree value;\n };\n "}, {"sha": "95b16d29abee394b697543523a4a58b5513b09a9", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7a932b1cff62ab30552ce88caf48272243f108e/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7a932b1cff62ab30552ce88caf48272243f108e/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=c7a932b1cff62ab30552ce88caf48272243f108e", "patch": "@@ -1039,7 +1039,7 @@ pushlevel_temporary (tag_transparent)\n /* For a binding between a name and an entity at a block scope,\n    this is the `struct binding_level' for the block.  */\n #define BINDING_LEVEL(NODE) \\\n-   ((struct binding_level*) ((struct tree_binding*)NODE)->scope)\n+   (((struct tree_binding*)NODE)->scope.level)\n \n /* These are currently unused, but permanent, CPLUS_BINDING nodes.\n    They are kept here because they are allocated from the permanent"}]}