{"sha": "7e8b33d90609e7738a4cba6b69df7a0c532285b6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2U4YjMzZDkwNjA5ZTc3MzhhNGNiYTZiNjlkZjdhMGM1MzIyODViNg==", "commit": {"author": {"name": "Torbjorn Granlund", "email": "tege@gnu.org", "date": "1993-01-14T19:34:47Z"}, "committer": {"name": "Torbjorn Granlund", "email": "tege@gnu.org", "date": "1993-01-14T19:34:47Z"}, "message": "(CONST_OK_FOR_LETTER_P): Change meaning of 'K'.\n\n(CONST_OK_FOR_LETTER_P): Change meaning of 'K'.  Add new\nalternative 'N'.  Use VAL_*_BITS_P macros when possible.\n(LEGITIMATE_CONSTANT_P) Fix comment.\n(FITS_14_BITS): Remove.\n(SMALL_INT): Remove.\n\nFrom-SVN: r3241", "tree": {"sha": "c6938b0d1628dc45e070bb628fddcf244854f1d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c6938b0d1628dc45e070bb628fddcf244854f1d5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7e8b33d90609e7738a4cba6b69df7a0c532285b6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e8b33d90609e7738a4cba6b69df7a0c532285b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7e8b33d90609e7738a4cba6b69df7a0c532285b6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e8b33d90609e7738a4cba6b69df7a0c532285b6/comments", "author": null, "committer": null, "parents": [{"sha": "19197caa01838a74533deb7882344b7252f17e3a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19197caa01838a74533deb7882344b7252f17e3a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/19197caa01838a74533deb7882344b7252f17e3a"}], "stats": {"total": 25, "additions": 12, "deletions": 13}, "files": [{"sha": "0e4442766d122b98b2cdbd815a350275f390eed7", "filename": "gcc/config/pa/pa.h", "status": "modified", "additions": 12, "deletions": 13, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e8b33d90609e7738a4cba6b69df7a0c532285b6/gcc%2Fconfig%2Fpa%2Fpa.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e8b33d90609e7738a4cba6b69df7a0c532285b6/gcc%2Fconfig%2Fpa%2Fpa.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.h?ref=7e8b33d90609e7738a4cba6b69df7a0c532285b6", "patch": "@@ -590,18 +590,22 @@ HP-PA immediate field sizes:\n \n    `I' is used for the 11 bit constants.\n    `J' is used for the 14 bit constants.\n-   `K' is used for unsigned 5 bit constants (extract/deposit operands).\n+   `K' is used for values that can be moved with a zdepi insn.\n    `L' is used for the 5 bit constants.\n-   `M' is used for 0.  */\n+   `M' is used for 0.\n+   `N' is used for values with the least significant 11 bits equal to zero.\n+   `O' is used for numbers n such that n+1 is a power of 2.\n+   */\n \n #define CONST_OK_FOR_LETTER_P(VALUE, C)  \\\n-  ((C) == 'I' ? (unsigned) ((VALUE) + 0x400) < 0x800\t\t\\\n-   : (C) == 'J' ? (unsigned) ((VALUE) + 0x2000) < 0x4000\t\\\n-   : (C) == 'K' ? (unsigned) (VALUE) < 0x20\t\t\t\\\n-   : (C) == 'L' ? (unsigned) ((VALUE) + 0x10) < 0x20\t\t\\\n+  ((C) == 'I' ? VAL_11_BITS_P (VALUE)\t\t\t\t\\\n+   : (C) == 'J' ? VAL_14_BITS_P (VALUE)\t\t\t\t\\\n+   : (C) == 'K' ? zdepi_cint_p (VALUE)\t\t\t\t\\\n+   : (C) == 'L' ? VAL_5_BITS_P (VALUE)\t\t\t\t\\\n    : (C) == 'M' ? (VALUE) == 0\t\t\t\t\t\\\n+   : (C) == 'N' ? ((VALUE) & 0x7ff) == 0\t\t\t\\\n    : (C) == 'O' ? (((VALUE) & ((VALUE) + 1)) == 0)\t\t\\\n-   : (C) == 'P' ? consec_zeros_p (VALUE)\t\t\t\\\n+   : (C) == 'P' ? and_mask_p (VALUE)\t\t\t\t\\\n    : 0)\n \n /* Similar, but for floating constants, and defining letters G and H.\n@@ -1059,9 +1063,8 @@ extern union tree_node *current_function_decl;\n #define CONSTANT_ADDRESS_P(X)  CONSTANT_P (X)\n \n /* Nonzero if the constant value X is a legitimate general operand.\n-   It is given that X satisfies CONSTANT_P or is a CONST_DOUBLE.  */\n+   It is given that X satisfies CONSTANT_P.  */\n \n-/*#define LEGITIMATE_CONSTANT_P(X) (1)*/\n #define LEGITIMATE_CONSTANT_P(X)\t\t\\\n  (GET_CODE (X) != CONST_DOUBLE)\n \n@@ -1163,9 +1166,6 @@ extern union tree_node *current_function_decl;\n #define VAL_14_BITS_P(X) ((unsigned)(X) + 0x2000 < 0x4000)\n #define INT_14_BITS(X) VAL_14_BITS_P (INTVAL (X))\n \n-#define FITS_14_BITS(X)\t\\\n-   (GET_CODE (X) == CONST_INT && INT_14_BITS (X))\n-\n #define GO_IF_LEGITIMATE_ADDRESS(MODE, X, ADDR)  \\\n {\t\t\t\t\t\t\t\\\n   if ((REG_P (X) && REG_OK_FOR_BASE_P (X))\t\t\\\n@@ -1805,7 +1805,6 @@ bss_section ()\t\t\t\t\t\t\t\t\\\n     }}\n \n \f\n-#define SMALL_INT(OP) INT_14_BITS (OP)\n /* Define functions in pa.c and used in insn-output.c.  */\n \n extern char *output_and ();"}]}