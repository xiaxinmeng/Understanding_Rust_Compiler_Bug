{"sha": "7b8ee2f629801241697a61ef140df073f551d330", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2I4ZWUyZjYyOTgwMTI0MTY5N2E2MWVmMTQwZGYwNzNmNTUxZDMzMA==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@adacore.com", "date": "2005-03-18T11:50:30Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2005-03-18T11:50:30Z"}, "message": "re PR ada/19519 (GNAT Bug Box when reading a program with UTF-8 encoded enumeration literals)\n\n2005-03-17  Robert Dewar  <dewar@adacore.com>\n\n\tPR ada/19519\n\n\t* namet.adb (Copy_One_Character): Set proper wide character encoding\n\tfor upper half character if we have upper half encoding.\n\nFrom-SVN: r96671", "tree": {"sha": "ecf70d7e3f03e330ec5235afe8351127a8fadc31", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ecf70d7e3f03e330ec5235afe8351127a8fadc31"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7b8ee2f629801241697a61ef140df073f551d330", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b8ee2f629801241697a61ef140df073f551d330", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b8ee2f629801241697a61ef140df073f551d330", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b8ee2f629801241697a61ef140df073f551d330/comments", "author": null, "committer": null, "parents": [{"sha": "e50713c04aed8b0038e9a48bac85de389466a6b4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e50713c04aed8b0038e9a48bac85de389466a6b4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e50713c04aed8b0038e9a48bac85de389466a6b4"}], "stats": {"total": 16, "additions": 15, "deletions": 1}, "files": [{"sha": "b10696dc863915b0308a8700a03481eda15bf45b", "filename": "gcc/ada/namet.adb", "status": "modified", "additions": 15, "deletions": 1, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b8ee2f629801241697a61ef140df073f551d330/gcc%2Fada%2Fnamet.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b8ee2f629801241697a61ef140df073f551d330/gcc%2Fada%2Fnamet.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fnamet.adb?ref=7b8ee2f629801241697a61ef140df073f551d330", "patch": "@@ -36,6 +36,7 @@\n --  which is created manually from namet.ads and namet.adb.\n \n with Debug;    use Debug;\n+with Opt;      use Opt;\n with Output;   use Output;\n with Tree_IO;  use Tree_IO;\n with Widechar; use Widechar;\n@@ -299,7 +300,20 @@ package body Namet is\n               and then Name_Buffer (Old + 1) /= '_'\n             then\n                Old := Old + 1;\n-               Insert_Character (Character'Val (Hex (2)));\n+\n+               --  If we have upper half encoding, then we have to set an\n+               --  appropriate wide character sequence for this character.\n+\n+               if Upper_Half_Encoding then\n+                  Widechar.Set_Wide (Char_Code (Hex (2)), New_Buf, New_Len);\n+\n+                  --  For other encoding methods, upper half characters can\n+                  --  simply use their normal representation.\n+\n+               else\n+                  Insert_Character (Character'Val (Hex (2)));\n+               end if;\n+\n \n             --  WW (wide wide character insertion)\n "}]}