{"sha": "16bf8ab165ba1739c99c7dc5abb1f8a17d2ddd89", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTZiZjhhYjE2NWJhMTczOWM5OWM3ZGM1YWJiMWY4YTE3ZDJkZGQ4OQ==", "commit": {"author": {"name": "Sebastian Pop", "email": "sebastian.pop@amd.com", "date": "2009-11-25T05:14:24Z"}, "committer": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2009-11-25T05:14:24Z"}, "message": "graphite-dependences.c (dependence_polyhedron_1): Add the context to the dependence polyhedron.\n\n2009-10-17  Sebastian Pop  <sebastian.pop@amd.com>\n\n\t* graphite-dependences.c (dependence_polyhedron_1): Add the\n\tcontext to the dependence polyhedron.\n\nFrom-SVN: r154603", "tree": {"sha": "74f03cfa36b221d73044d5955b012d47314293c9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/74f03cfa36b221d73044d5955b012d47314293c9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/16bf8ab165ba1739c99c7dc5abb1f8a17d2ddd89", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/16bf8ab165ba1739c99c7dc5abb1f8a17d2ddd89", "html_url": "https://github.com/Rust-GCC/gccrs/commit/16bf8ab165ba1739c99c7dc5abb1f8a17d2ddd89", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/16bf8ab165ba1739c99c7dc5abb1f8a17d2ddd89/comments", "author": null, "committer": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d422adfa00ff189eb2a83d53e209b6d9a594ed8c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d422adfa00ff189eb2a83d53e209b6d9a594ed8c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d422adfa00ff189eb2a83d53e209b6d9a594ed8c"}], "stats": {"total": 26, "additions": 24, "deletions": 2}, "files": [{"sha": "38e6a1aa9b795d547f2b80bc53685f7a5b312a57", "filename": "gcc/ChangeLog.graphite", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/16bf8ab165ba1739c99c7dc5abb1f8a17d2ddd89/gcc%2FChangeLog.graphite", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/16bf8ab165ba1739c99c7dc5abb1f8a17d2ddd89/gcc%2FChangeLog.graphite", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog.graphite?ref=16bf8ab165ba1739c99c7dc5abb1f8a17d2ddd89", "patch": "@@ -1,3 +1,8 @@\n+2009-10-17  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\t* graphite-dependences.c (dependence_polyhedron_1): Add the\n+\tcontext to the dependence polyhedron.\n+\n 2009-10-17  Sebastian Pop  <sebastian.pop@amd.com>\n \n \t* graphite-poly.c (pbb_remove_duplicate_pdrs): Initialize"}, {"sha": "ab08789c150817ae7cbb00cebacd9f5e9ecfb495", "filename": "gcc/graphite-dependences.c", "status": "modified", "additions": 19, "deletions": 2, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/16bf8ab165ba1739c99c7dc5abb1f8a17d2ddd89/gcc%2Fgraphite-dependences.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/16bf8ab165ba1739c99c7dc5abb1f8a17d2ddd89/gcc%2Fgraphite-dependences.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-dependences.c?ref=16bf8ab165ba1739c99c7dc5abb1f8a17d2ddd89", "patch": "@@ -121,7 +121,7 @@ pddr_is_empty (poly_ddr_p pddr)\n \n /* Returns a polyhedron of dimension DIM.\n \n-   Maps the dimensions [0, ..., cut - 1] of polyhedron P to OFFSET0\n+   Maps the dimensions [0, ..., cut - 1] of polyhedron P to OFFSET\n    and the dimensions [cut, ..., nb_dim] to DIM - GDIM.  */\n \n static ppl_Pointset_Powerset_C_Polyhedron_t\n@@ -388,7 +388,16 @@ build_lexicographically_gt_constraint (ppl_Pointset_Powerset_C_Polyhedron_t *res\n     }\n }\n \n-/* Build the dependence polyhedron for data references PDR1 and PDR2.  */\n+/* Build the dependence polyhedron for data references PDR1 and PDR2.\n+   The layout of the dependence polyhedron is:\n+\n+   T1|I1|T2|I2|S1|S2|G\n+\n+   with\n+   | T1 and T2 the scattering dimensions for PDR1 and PDR2\n+   | I1 and I2 the iteration domains\n+   | S1 and S2 the subscripts\n+   | G the global parameters.  */\n \n static poly_ddr_p\n dependence_polyhedron_1 (poly_bb_p pbb1, poly_bb_p pbb2,\n@@ -414,8 +423,14 @@ dependence_polyhedron_1 (poly_bb_p pbb1, poly_bb_p pbb2,\n   ppl_Pointset_Powerset_C_Polyhedron_t res;\n   ppl_Pointset_Powerset_C_Polyhedron_t id1, id2, isc1, isc2, idr1, idr2;\n   ppl_Pointset_Powerset_C_Polyhedron_t sc1, sc2, dreq;\n+  ppl_Pointset_Powerset_C_Polyhedron_t context;\n \n   gcc_assert (PBB_SCOP (pbb1) == PBB_SCOP (pbb2));\n+\n+  ppl_new_Pointset_Powerset_C_Polyhedron_from_Pointset_Powerset_C_Polyhedron\n+    (&context, SCOP_CONTEXT (scop));\n+  ppl_insert_dimensions_pointset (context, 0, dim - gdim);\n+\n   ppl_new_Pointset_Powerset_C_Polyhedron_from_C_Polyhedron (&sc1, s1);\n   ppl_new_Pointset_Powerset_C_Polyhedron_from_C_Polyhedron (&sc2, s2);\n \n@@ -433,13 +448,15 @@ dependence_polyhedron_1 (poly_bb_p pbb1, poly_bb_p pbb2,\n   dreq = dr_equality_constraints (dim, tdim1 + ddim1 + tdim2 + ddim2, sdim1);\n \n   ppl_new_Pointset_Powerset_C_Polyhedron_from_space_dimension (&res, dim, 0);\n+  ppl_Pointset_Powerset_C_Polyhedron_intersection_assign (res, context);\n   ppl_Pointset_Powerset_C_Polyhedron_intersection_assign (res, id1);\n   ppl_Pointset_Powerset_C_Polyhedron_intersection_assign (res, id2);\n   ppl_Pointset_Powerset_C_Polyhedron_intersection_assign (res, isc1);\n   ppl_Pointset_Powerset_C_Polyhedron_intersection_assign (res, isc2);\n   ppl_Pointset_Powerset_C_Polyhedron_intersection_assign (res, idr1);\n   ppl_Pointset_Powerset_C_Polyhedron_intersection_assign (res, idr2);\n   ppl_Pointset_Powerset_C_Polyhedron_intersection_assign (res, dreq);\n+  ppl_delete_Pointset_Powerset_C_Polyhedron (context);\n   ppl_delete_Pointset_Powerset_C_Polyhedron (id1);\n   ppl_delete_Pointset_Powerset_C_Polyhedron (id2);\n   ppl_delete_Pointset_Powerset_C_Polyhedron (sc1);"}]}