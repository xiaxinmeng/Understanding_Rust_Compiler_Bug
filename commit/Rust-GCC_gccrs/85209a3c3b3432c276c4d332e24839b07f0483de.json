{"sha": "85209a3c3b3432c276c4d332e24839b07f0483de", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODUyMDlhM2MzYjM0MzJjMjc2YzRkMzMyZTI0ODM5YjA3ZjA0ODNkZQ==", "commit": {"author": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2003-05-01T14:39:37Z"}, "committer": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2003-05-01T14:39:37Z"}, "message": "cp-tree.h (struct lang_id2): Remove.\n\n\t* cp-tree.h (struct lang_id2): Remove.  Move fields from here...\n\t(struct lang_identifier): ... to here.\n\t(LANG_ID_FIELD): Remove.\n\t(SET_LANG_ID): Remove.\n\t(IDENTIFIER_LABEL_VALUE): Adjust for new lang_identifier.\n\t(SET_IDENTIFIER_LABEL_VALUE): Likewise.\n\t(IDENTIFIER_IMPLICIT_DECL): Likewise.\n\t(SET_IDENTIFIERL_IMPLICIT_DECL): Likewise.\n\t(IDENTIFIER_ERROR_LOCUS): Likewise.\n\t(SET_IDENTIFIER_ERROR_LOCUS): Likewise.\n\nFrom-SVN: r66328", "tree": {"sha": "c91b1eedeace3317db7f085a74ab6ec1cda4b3e3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c91b1eedeace3317db7f085a74ab6ec1cda4b3e3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/85209a3c3b3432c276c4d332e24839b07f0483de", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/85209a3c3b3432c276c4d332e24839b07f0483de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/85209a3c3b3432c276c4d332e24839b07f0483de", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/85209a3c3b3432c276c4d332e24839b07f0483de/comments", "author": null, "committer": null, "parents": [{"sha": "4f9335cdd957ddfc4a25c6713843fccba7ec4c29", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f9335cdd957ddfc4a25c6713843fccba7ec4c29", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f9335cdd957ddfc4a25c6713843fccba7ec4c29"}], "stats": {"total": 46, "additions": 22, "deletions": 24}, "files": [{"sha": "15cca9a72ad9544ae21613d7bbb2a8315bf7d16d", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/85209a3c3b3432c276c4d332e24839b07f0483de/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/85209a3c3b3432c276c4d332e24839b07f0483de/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=85209a3c3b3432c276c4d332e24839b07f0483de", "patch": "@@ -1,3 +1,16 @@\n+2003-05-01  Steven Bosscher  <steven@gcc.gnu.org>\n+\n+\t* cp-tree.h (struct lang_id2): Remove.  Move fields from here...\n+\t(struct lang_identifier): ... to here.\n+\t(LANG_ID_FIELD): Remove.\n+\t(SET_LANG_ID): Remove.\n+\t(IDENTIFIER_LABEL_VALUE): Adjust for new lang_identifier.\n+\t(SET_IDENTIFIER_LABEL_VALUE): Likewise.\n+\t(IDENTIFIER_IMPLICIT_DECL): Likewise.\n+\t(SET_IDENTIFIERL_IMPLICIT_DECL): Likewise.\n+\t(IDENTIFIER_ERROR_LOCUS): Likewise.\n+\t(SET_IDENTIFIER_ERROR_LOCUS): Likewise.\n+\n 2003-05-01  Kriang Lerdsuwanakij  <lerdsuwa@users.sourceforge.net>\n \n \tPR c++/8772"}, {"sha": "2da12e2cf4c663002401695825591c5de397d510", "filename": "gcc/cp/cp-tree.h", "status": "modified", "additions": 9, "deletions": 24, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/85209a3c3b3432c276c4d332e24839b07f0483de/gcc%2Fcp%2Fcp-tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/85209a3c3b3432c276c4d332e24839b07f0483de/gcc%2Fcp%2Fcp-tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcp-tree.h?ref=85209a3c3b3432c276c4d332e24839b07f0483de", "patch": "@@ -224,7 +224,9 @@ struct lang_identifier GTY(())\n   cxx_binding *bindings;\n   tree class_value;\n   tree class_template_info;\n-  struct lang_id2 *x;\n+  tree label_value;\n+  tree implicit_decl;\n+  tree error_locus;\n };\n \n /* In an IDENTIFIER_NODE, nonzero if this identifier is actually a\n@@ -236,13 +238,6 @@ struct lang_identifier GTY(())\n #define LANG_IDENTIFIER_CAST(NODE) \\\n \t((struct lang_identifier*)IDENTIFIER_NODE_CHECK (NODE))\n \n-struct lang_id2 GTY(())\n-{\n-  tree label_value;\n-  tree implicit_decl;\n-  tree error_locus;\n-};\n-\n typedef struct template_parm_index_s GTY(())\n {\n   struct tree_common common;\n@@ -392,30 +387,20 @@ struct tree_wrapper GTY(())\n #define SET_IDENTIFIER_TYPE_VALUE(NODE,TYPE) (TREE_TYPE (NODE) = (TYPE))\n #define IDENTIFIER_HAS_TYPE_VALUE(NODE) (IDENTIFIER_TYPE_VALUE (NODE) ? 1 : 0)\n \n-#define LANG_ID_FIELD(NAME, NODE)\t\t\t\\\n-  (LANG_IDENTIFIER_CAST (NODE)->x\t\t\t\\\n-   ? LANG_IDENTIFIER_CAST (NODE)->x->NAME : 0)\n-\n-#define SET_LANG_ID(NODE, VALUE, NAME)\t\t\t\t\t     \\\n-  (LANG_IDENTIFIER_CAST (NODE)->x == 0\t\t\t\t\t     \\\n-   ? LANG_IDENTIFIER_CAST (NODE)->x\t\t\t\t\t     \\\n-      = (struct lang_id2 *)ggc_alloc_cleared (sizeof (struct lang_id2)) : 0, \\\n-   LANG_IDENTIFIER_CAST (NODE)->x->NAME = (VALUE))\n-\n #define IDENTIFIER_LABEL_VALUE(NODE) \\\n-  LANG_ID_FIELD (label_value, NODE)\n+  (LANG_IDENTIFIER_CAST (NODE)->label_value)\n #define SET_IDENTIFIER_LABEL_VALUE(NODE, VALUE)   \\\n-  SET_LANG_ID (NODE, VALUE, label_value)\n+  IDENTIFIER_LABEL_VALUE (NODE) = (VALUE)\n \n #define IDENTIFIER_IMPLICIT_DECL(NODE) \\\n-  LANG_ID_FIELD (implicit_decl, NODE)\n+  (LANG_IDENTIFIER_CAST (NODE)->implicit_decl)\n #define SET_IDENTIFIER_IMPLICIT_DECL(NODE, VALUE) \\\n-  SET_LANG_ID (NODE, VALUE, implicit_decl)\n+  IDENTIFIER_IMPLICIT_DECL (NODE) = (VALUE)\n \n #define IDENTIFIER_ERROR_LOCUS(NODE) \\\n-  LANG_ID_FIELD (error_locus, NODE)\n+  (LANG_IDENTIFIER_CAST (NODE)->error_locus)\n #define SET_IDENTIFIER_ERROR_LOCUS(NODE, VALUE)\t\\\n-  SET_LANG_ID (NODE, VALUE, error_locus)\n+  IDENTIFIER_ERROR_LOCUS (NODE) = (VALUE)\n \n /* Nonzero if this identifier is used as a virtual function name somewhere\n    (optimizes searches).  */"}]}