{"sha": "597bb9db4ac508410b42b53480451c7b521b8661", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTk3YmI5ZGI0YWM1MDg0MTBiNDJiNTM0ODA0NTFjN2I1MjFiODY2MQ==", "commit": {"author": {"name": "Andre Vieira", "email": "andre.simoesdiasvieira@arm.com", "date": "2015-10-22T05:12:32Z"}, "committer": {"name": "Ramana Radhakrishnan", "email": "ramana@gcc.gnu.org", "date": "2015-10-22T05:12:32Z"}, "message": "[PATCH][ARM] Fix for testcase after r228661\n\n\nThis patch addresses PR-67948 by changing the xor-and.c test,\ninitially written for a simplify-rtx pattern, to make it pass post\nr228661 (see\nhttps://gcc.gnu.org/ml/gcc-patches/2015-10/msg00676.html). This test\nno longer triggered the simplify-rtx pattern it was written for prior\nto r228661, though other optimizations did lead to the same assembly\nthe test checked for. The optimization added with r228661 matches the\npattern used in the test and optimizes it to a better and still valid\nsequence. Being unable to easily change the test to trigger the\noriginal simplify-rtx pattern, I chose to change it to pass with the\nnew produced assembly sequence.\n\nThis is correct because the transformation is valid and it yields a\nmore efficient pattern. However, as I pointed out before this test\ndoesn't test the optimization it originally was intended for.\n\nTested by running regression tests for armv6.\n\nIs this OK to commit?\n\nThanks, Andre\n\n2015-10-22  Andre Vieira  <andre.simoesdiasvieira@arm.com>\n\n\tPR testsuite/67948\n\t* gcc.target/arm/xor-and.c: Adjust test to check for eor\n\tinstead of orr.\n\nFrom-SVN: r229161", "tree": {"sha": "01975beb47c87cde85fb64dbcc5a2ac7874f666a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/01975beb47c87cde85fb64dbcc5a2ac7874f666a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/597bb9db4ac508410b42b53480451c7b521b8661", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/597bb9db4ac508410b42b53480451c7b521b8661", "html_url": "https://github.com/Rust-GCC/gccrs/commit/597bb9db4ac508410b42b53480451c7b521b8661", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/597bb9db4ac508410b42b53480451c7b521b8661/comments", "author": {"login": "avieira-arm", "id": 68072104, "node_id": "MDQ6VXNlcjY4MDcyMTA0", "avatar_url": "https://avatars.githubusercontent.com/u/68072104?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avieira-arm", "html_url": "https://github.com/avieira-arm", "followers_url": "https://api.github.com/users/avieira-arm/followers", "following_url": "https://api.github.com/users/avieira-arm/following{/other_user}", "gists_url": "https://api.github.com/users/avieira-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/avieira-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avieira-arm/subscriptions", "organizations_url": "https://api.github.com/users/avieira-arm/orgs", "repos_url": "https://api.github.com/users/avieira-arm/repos", "events_url": "https://api.github.com/users/avieira-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/avieira-arm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1be3429587ab561a658cf1e90fcf00a7a51a645a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1be3429587ab561a658cf1e90fcf00a7a51a645a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1be3429587ab561a658cf1e90fcf00a7a51a645a"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "3bcbe96c5f1d842360a9bd0c81edc7534a6afcd9", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/597bb9db4ac508410b42b53480451c7b521b8661/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/597bb9db4ac508410b42b53480451c7b521b8661/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=597bb9db4ac508410b42b53480451c7b521b8661", "patch": "@@ -1,3 +1,9 @@\n+2015-10-22  Andre Vieira  <andre.simoesdiasvieira@arm.com>\n+\n+\tPR testsuite/67948\n+\t* gcc.target/arm/xor-and.c: Adjust test to check for eor\n+\tinstead of orr.\n+\n 2015-10-22  Jiong Wang  <jiong.wang@arm.com>\n \t    Ramana Radhakrishnan  <ramana.radhakrishnan@arm.com>\n "}, {"sha": "3715530cd7bf9ad8abb24cb21cd51ae3802079e8", "filename": "gcc/testsuite/gcc.target/arm/xor-and.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/597bb9db4ac508410b42b53480451c7b521b8661/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fxor-and.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/597bb9db4ac508410b42b53480451c7b521b8661/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fxor-and.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fxor-and.c?ref=597bb9db4ac508410b42b53480451c7b521b8661", "patch": "@@ -10,6 +10,6 @@ unsigned short foo (unsigned short x)\n   return x;\n }\n \n-/* { dg-final { scan-assembler \"orr\" } } */\n+/* { dg-final { scan-assembler \"eor\" } } */\n /* { dg-final { scan-assembler-not \"mvn\" } } */\n /* { dg-final { scan-assembler-not \"uxth\" } } */"}]}