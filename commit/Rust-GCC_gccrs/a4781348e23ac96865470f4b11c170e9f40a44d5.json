{"sha": "a4781348e23ac96865470f4b11c170e9f40a44d5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTQ3ODEzNDhlMjNhYzk2ODY1NDcwZjRiMTFjMTcwZTlmNDBhNDRkNQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2008-12-04T11:44:41Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2008-12-04T11:44:41Z"}, "message": "* cse.c (equiv_constant): Fix pasto.\n\nFrom-SVN: r142432", "tree": {"sha": "287c5b2cb3bf4278623bdb6568ad1d8e4d862b07", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/287c5b2cb3bf4278623bdb6568ad1d8e4d862b07"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a4781348e23ac96865470f4b11c170e9f40a44d5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a4781348e23ac96865470f4b11c170e9f40a44d5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a4781348e23ac96865470f4b11c170e9f40a44d5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a4781348e23ac96865470f4b11c170e9f40a44d5/comments", "author": null, "committer": null, "parents": [{"sha": "5ab9749e294898d1185384624f312ec32b4ba9f1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5ab9749e294898d1185384624f312ec32b4ba9f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5ab9749e294898d1185384624f312ec32b4ba9f1"}], "stats": {"total": 33, "additions": 32, "deletions": 1}, "files": [{"sha": "49d2b33fdb080457c706959cf82e374120addaea", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4781348e23ac96865470f4b11c170e9f40a44d5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4781348e23ac96865470f4b11c170e9f40a44d5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a4781348e23ac96865470f4b11c170e9f40a44d5", "patch": "@@ -1,3 +1,7 @@\n+2008-12-04  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* cse.c (equiv_constant): Fix pasto.\n+\n 2008-12-04  Nick Clifton  <nickc@redhat.com>\n \n \t* config/stormy16/stormy16.md: Remove extraneous spaces and"}, {"sha": "f52f0a9c93d06366c6f3335c2e1608c7e0538f6c", "filename": "gcc/cse.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4781348e23ac96865470f4b11c170e9f40a44d5/gcc%2Fcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4781348e23ac96865470f4b11c170e9f40a44d5/gcc%2Fcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcse.c?ref=a4781348e23ac96865470f4b11c170e9f40a44d5", "patch": "@@ -3651,7 +3651,7 @@ equiv_constant (rtx x)\n \n       if (REG_P (SUBREG_REG (x))\n \t  && (new_rtx = equiv_constant (SUBREG_REG (x))) != 0)\n-        return simplify_subreg (GET_MODE (x), SUBREG_REG (x),\n+        return simplify_subreg (GET_MODE (x), new_rtx,\n \t\t\t\tGET_MODE (SUBREG_REG (x)), SUBREG_BYTE (x));\n \n       return 0;"}, {"sha": "e54d5eabefe40013568c26f999d72d4a513636e8", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4781348e23ac96865470f4b11c170e9f40a44d5/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4781348e23ac96865470f4b11c170e9f40a44d5/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a4781348e23ac96865470f4b11c170e9f40a44d5", "patch": "@@ -1,3 +1,7 @@\n+2008-12-04  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc.dg/union-4.c: New test.\n+\n 2008-12-03  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* g++.old-deja/g++.eh/badalloc1.C: Add the missing \"}\"."}, {"sha": "df9f36da09b5dffe8c82e380e8ac438c6bc73a92", "filename": "gcc/testsuite/gcc.dg/union-4.c", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4781348e23ac96865470f4b11c170e9f40a44d5/gcc%2Ftestsuite%2Fgcc.dg%2Funion-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4781348e23ac96865470f4b11c170e9f40a44d5/gcc%2Ftestsuite%2Fgcc.dg%2Funion-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Funion-4.c?ref=a4781348e23ac96865470f4b11c170e9f40a44d5", "patch": "@@ -0,0 +1,23 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O -fdump-rtl-cse1\" } */\n+\n+extern void abort(void);\n+\n+typedef unsigned int uint32;\n+typedef unsigned long long uint64;\n+\n+typedef union {\n+  uint32 i32;\n+  uint64 i64;\n+} u64;\n+\n+void foo(void)\n+{\n+  u64 data;\n+  data.i64 = 1;\n+  if (data.i32 != 1)\n+    abort ();\n+}\n+\n+/* { dg-final { scan-rtl-dump-not \"abort\" \"cse1\" { target i?86-*-* } } } */\n+/* { dg-final { cleanup-rtl-dump \"cse1\" } } */"}]}