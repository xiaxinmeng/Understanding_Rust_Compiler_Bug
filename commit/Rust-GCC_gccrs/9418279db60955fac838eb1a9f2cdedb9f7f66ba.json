{"sha": "9418279db60955fac838eb1a9f2cdedb9f7f66ba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTQxODI3OWRiNjA5NTVmYWM4MzhlYjFhOWYyY2RlZGI5ZjdmNjZiYQ==", "commit": {"author": {"name": "Gregor Richards", "email": "gregor.richards@uwaterloo.ca", "date": "2015-10-15T19:12:15Z"}, "committer": {"name": "Szabolcs Nagy", "email": "nsz@gcc.gnu.org", "date": "2015-10-15T19:12:15Z"}, "message": "microblaze musl support\n\n\t* config/microblaze/linux.h (MUSL_DYNAMIC_LINKER): Define.\n\t(DYNAMIC_LINKER): Renamed to ...\n\t(GLIBC_DYNAMIC_LINKER): This.\n\t(SUBTARGET_EXTRA_SPECS): Use GNU_USER_DYNAMIC_LINKER.\n\n\nCo-Authored-By: Szabolcs Nagy <szabolcs.nagy@arm.com>\n\nFrom-SVN: r228850", "tree": {"sha": "72145932c17d6e3ca437a087f78c344f55e2a0f7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/72145932c17d6e3ca437a087f78c344f55e2a0f7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9418279db60955fac838eb1a9f2cdedb9f7f66ba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9418279db60955fac838eb1a9f2cdedb9f7f66ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9418279db60955fac838eb1a9f2cdedb9f7f66ba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9418279db60955fac838eb1a9f2cdedb9f7f66ba/comments", "author": null, "committer": null, "parents": [{"sha": "17a44a82edfadbcf323ca5ad23b1c1c020699ab7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17a44a82edfadbcf323ca5ad23b1c1c020699ab7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/17a44a82edfadbcf323ca5ad23b1c1c020699ab7"}], "stats": {"total": 22, "additions": 20, "deletions": 2}, "files": [{"sha": "fbe7fabcb1573494dfe84d3026343d82ffc1a14c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9418279db60955fac838eb1a9f2cdedb9f7f66ba/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9418279db60955fac838eb1a9f2cdedb9f7f66ba/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9418279db60955fac838eb1a9f2cdedb9f7f66ba", "patch": "@@ -1,3 +1,11 @@\n+2015-10-15  Gregor Richards  <gregor.richards@uwaterloo.ca>\n+\t    Szabolcs Nagy  <szabolcs.nagy@arm.com>\n+\n+\t* config/microblaze/linux.h (MUSL_DYNAMIC_LINKER): Define.\n+\t(DYNAMIC_LINKER): Renamed to ...\n+\t(GLIBC_DYNAMIC_LINKER): This.\n+\t(SUBTARGET_EXTRA_SPECS): Use GNU_USER_DYNAMIC_LINKER.\n+\n 2015-10-15  Marek Polacek  <polacek@redhat.com>\n \n \t* tree-ssa-reassoc.c (attempt_builtin_copysign): Call"}, {"sha": "a8a3f3e3bd73f0d43c9063556a7520c1cf8a8a78", "filename": "gcc/config/microblaze/linux.h", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9418279db60955fac838eb1a9f2cdedb9f7f66ba/gcc%2Fconfig%2Fmicroblaze%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9418279db60955fac838eb1a9f2cdedb9f7f66ba/gcc%2Fconfig%2Fmicroblaze%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmicroblaze%2Flinux.h?ref=9418279db60955fac838eb1a9f2cdedb9f7f66ba", "patch": "@@ -28,10 +28,20 @@\n #undef TLS_NEEDS_GOT\n #define TLS_NEEDS_GOT 1\n \n-#define DYNAMIC_LINKER \"/lib/ld.so.1\"\n+#define GLIBC_DYNAMIC_LINKER \"/lib/ld.so.1\"\n+\n+#if TARGET_BIG_ENDIAN_DEFAULT == 0 /* LE */\n+#define MUSL_DYNAMIC_LINKER_E \"%{mbig-endian:;:el}\"\n+#else\n+#define MUSL_DYNAMIC_LINKER_E \"%{mlittle-endian:el}\"\n+#endif\n+\n+#undef MUSL_DYNAMIC_LINKER\n+#define MUSL_DYNAMIC_LINKER \"/lib/ld-musl-microblaze\" MUSL_DYNAMIC_LINKER_E \".so.1\"\n+\n #undef  SUBTARGET_EXTRA_SPECS\n #define SUBTARGET_EXTRA_SPECS \\\n-  { \"dynamic_linker\", DYNAMIC_LINKER }\n+  { \"dynamic_linker\", GNU_USER_DYNAMIC_LINKER }\n \n #undef LINK_SPEC\n #define LINK_SPEC \"%{shared:-shared} \\"}]}