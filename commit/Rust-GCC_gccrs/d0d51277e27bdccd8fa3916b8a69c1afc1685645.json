{"sha": "d0d51277e27bdccd8fa3916b8a69c1afc1685645", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDBkNTEyNzdlMjdiZGNjZDhmYTM5MTZiOGE2OWMxYWZjMTY4NTY0NQ==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2008-05-06T04:00:38Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2008-05-06T04:00:38Z"}, "message": "re PR libfortran/36131 (wrong IO)\n\n2008-05-05  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libfortran/36131\n\t* io/transfer.c (formatted_transfer_scalar): Revert patch for PR34974.\n\t(next_record_w): Likewise.\n\nFrom-SVN: r134973", "tree": {"sha": "0729570978d55aa8e9152738691e48fed7796ac9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0729570978d55aa8e9152738691e48fed7796ac9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d0d51277e27bdccd8fa3916b8a69c1afc1685645", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d0d51277e27bdccd8fa3916b8a69c1afc1685645", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d0d51277e27bdccd8fa3916b8a69c1afc1685645", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d0d51277e27bdccd8fa3916b8a69c1afc1685645/comments", "author": null, "committer": null, "parents": [{"sha": "1aee3ab6f3ee78281b71429bf2bc2613922fd4fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1aee3ab6f3ee78281b71429bf2bc2613922fd4fb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1aee3ab6f3ee78281b71429bf2bc2613922fd4fb"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "26ad0395b6418dcfe0d316d22eb08cde736bf1a2", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d0d51277e27bdccd8fa3916b8a69c1afc1685645/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d0d51277e27bdccd8fa3916b8a69c1afc1685645/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=d0d51277e27bdccd8fa3916b8a69c1afc1685645", "patch": "@@ -1,3 +1,9 @@\n+2008-05-05  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libfortran/36131\n+\t* io/transfer.c (formatted_transfer_scalar): Revert patch for PR34974.\n+\t(next_record_w): Likewise.\n+\n 2008-05-04  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR libfortran/35995"}, {"sha": "7071ab9128aa5454b18d02fb58c6679cee63e33d", "filename": "libgfortran/io/transfer.c", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d0d51277e27bdccd8fa3916b8a69c1afc1685645/libgfortran%2Fio%2Ftransfer.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d0d51277e27bdccd8fa3916b8a69c1afc1685645/libgfortran%2Fio%2Ftransfer.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Ftransfer.c?ref=d0d51277e27bdccd8fa3916b8a69c1afc1685645", "patch": "@@ -1303,11 +1303,6 @@ formatted_transfer_scalar (st_parameter_dt *dtp, bt type, void *p, int len,\n \t      else\n \t\tread_x (dtp, dtp->u.p.skips);\n \t    }\n-\t  else\n-\t    {\n-\t      if (dtp->u.p.skips < 0)\n-\t\tflush (dtp->u.p.current_unit->s);\n-\t    }\n \n \t  break;\n \n@@ -2682,8 +2677,7 @@ next_record_w (st_parameter_dt *dtp, int done)\n \t  if (max_pos > m)\n \t    {\n \t      length = (int) (max_pos - m);\n-\t      sseek (dtp->u.p.current_unit->s,\n-\t\t     file_position (dtp->u.p.current_unit->s) + length);\n+\t      p = salloc_w (dtp->u.p.current_unit->s, &length);\n \t    }\n #ifdef HAVE_CRLF\n \t  len = 2;"}]}