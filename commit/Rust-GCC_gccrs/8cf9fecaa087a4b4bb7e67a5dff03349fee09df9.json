{"sha": "8cf9fecaa087a4b4bb7e67a5dff03349fee09df9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGNmOWZlY2FhMDg3YTRiNGJiN2U2N2E1ZGZmMDMzNDlmZWUwOWRmOQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2010-06-26T11:38:57Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2010-06-26T11:38:57Z"}, "message": "re PR middle-end/44671 (Partial inlining breaks C++)\n\n\tPR middle-end/44671\n\t* cgraphunit.c (cgraph_function_versioning): Remove wrong cgraph_make_decl_local\n\tcall; fix typo copying RTL data.\n\nFrom-SVN: r161428", "tree": {"sha": "dfcfb7afcad4018c78ee6f751c41404991ecaed5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dfcfb7afcad4018c78ee6f751c41404991ecaed5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8cf9fecaa087a4b4bb7e67a5dff03349fee09df9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8cf9fecaa087a4b4bb7e67a5dff03349fee09df9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8cf9fecaa087a4b4bb7e67a5dff03349fee09df9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8cf9fecaa087a4b4bb7e67a5dff03349fee09df9/comments", "author": null, "committer": null, "parents": [{"sha": "e4814b3971419e80fbe2e3bf62830434924d3b1b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4814b3971419e80fbe2e3bf62830434924d3b1b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e4814b3971419e80fbe2e3bf62830434924d3b1b"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "857bb1e79d4639ec5b23bffce88dc87688f2ac74", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8cf9fecaa087a4b4bb7e67a5dff03349fee09df9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8cf9fecaa087a4b4bb7e67a5dff03349fee09df9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8cf9fecaa087a4b4bb7e67a5dff03349fee09df9", "patch": "@@ -1,3 +1,9 @@\n+2010-06-26  Jan Hubicka  <jh@suse.cz>\n+\n+\tPR middle-end/44671\n+\t* cgraphunit.c (cgraph_function_versioning): Remove wrong cgraph_make_decl_local\n+\tcall; fix typo copying RTL data.\n+\n 2010-06-25  DJ Delorie  <dj@redhat.com>\n \n \t* config/m32c/m32c-protos.h (m32c_note_pragma_address): Declare."}, {"sha": "27faead140333b0cc1c2259398ab4634e22a70bc", "filename": "gcc/cgraphunit.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8cf9fecaa087a4b4bb7e67a5dff03349fee09df9/gcc%2Fcgraphunit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8cf9fecaa087a4b4bb7e67a5dff03349fee09df9/gcc%2Fcgraphunit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraphunit.c?ref=8cf9fecaa087a4b4bb7e67a5dff03349fee09df9", "patch": "@@ -2128,7 +2128,7 @@ cgraph_copy_node_for_versioning (struct cgraph_node *old_version,\n    new_version->local.local = true;\n    new_version->local.vtable_method = false;\n    new_version->global = old_version->global;\n-   new_version->rtl = new_version->rtl;\n+   new_version->rtl = old_version->rtl;\n    new_version->reachable = true;\n    new_version->count = old_version->count;\n \n@@ -2196,7 +2196,6 @@ cgraph_function_versioning (struct cgraph_node *old_version_node,\n   else\n     new_decl = build_function_decl_skip_args (old_decl, args_to_skip);\n \n-  cgraph_make_decl_local (new_decl);\n   /* Generate a new name for the new version. */\n   DECL_NAME (new_decl) = clone_function_name (old_decl, clone_name);\n   SET_DECL_ASSEMBLER_NAME (new_decl, DECL_NAME (new_decl));"}]}