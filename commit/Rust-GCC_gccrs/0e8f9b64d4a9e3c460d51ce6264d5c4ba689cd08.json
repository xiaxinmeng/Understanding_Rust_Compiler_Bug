{"sha": "0e8f9b64d4a9e3c460d51ce6264d5c4ba689cd08", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGU4ZjliNjRkNGE5ZTNjNDYwZDUxY2U2MjY0ZDVjNGJhNjg5Y2QwOA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-04-16T20:58:11Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-04-16T20:58:11Z"}, "message": "Instead of redefining INITIALIZE_TRAMPOLINE, make use of the new FINISH_INIT_TRAMPOLINE.\n\nInstead of redefining INITIALIZE_TRAMPOLINE, make use of the new\nFINISH_INIT_TRAMPOLINE.\n(FINISH_INIT_TRAMPOLINE): Rename to FINALIZE_TRAMPOLINE\n\nFrom-SVN: r11825", "tree": {"sha": "e49ab911219b9a0d7a4a0a4353bd471de6985130", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e49ab911219b9a0d7a4a0a4353bd471de6985130"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0e8f9b64d4a9e3c460d51ce6264d5c4ba689cd08", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e8f9b64d4a9e3c460d51ce6264d5c4ba689cd08", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e8f9b64d4a9e3c460d51ce6264d5c4ba689cd08", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e8f9b64d4a9e3c460d51ce6264d5c4ba689cd08/comments", "author": null, "committer": null, "parents": [{"sha": "27a55d6bddbc98e1dc45811e138fa735e14d20b7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/27a55d6bddbc98e1dc45811e138fa735e14d20b7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/27a55d6bddbc98e1dc45811e138fa735e14d20b7"}], "stats": {"total": 21, "additions": 7, "deletions": 14}, "files": [{"sha": "2163519ca2e282a9d8eaeb7df67e14a25edc6086", "filename": "gcc/config/m68k/next.h", "status": "modified", "additions": 7, "deletions": 14, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e8f9b64d4a9e3c460d51ce6264d5c4ba689cd08/gcc%2Fconfig%2Fm68k%2Fnext.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e8f9b64d4a9e3c460d51ce6264d5c4ba689cd08/gcc%2Fconfig%2Fm68k%2Fnext.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fnext.h?ref=0e8f9b64d4a9e3c460d51ce6264d5c4ba689cd08", "patch": "@@ -183,20 +183,13 @@ Boston, MA 02111-1307, USA.  */\n #define OBJC_FORWARDING_STACK_OFFSET 8\n #define OBJC_FORWARDING_MIN_OFFSET 8\n \n-/* INITIALIZE_TRAMPOLINE is changed so that it also enables executable\n-   stack.  The __enable_execute_stack also clears the insn cache. */\n-\n-/* NOTE: part of this is copied from m68k.h */\n-#undef INITIALIZE_TRAMPOLINE\n-#define INITIALIZE_TRAMPOLINE(TRAMP, FNADDR, CXT)                          \\\n-{                                                                          \\\n-  rtx _addr, _func;                                                        \\\n-  emit_move_insn (gen_rtx (MEM, SImode, plus_constant (TRAMP, 10)), CXT);    \\\n-  emit_move_insn (gen_rtx (MEM, SImode, plus_constant (TRAMP, 14)), FNADDR); \\\n-  _addr = memory_address (SImode, (TRAMP));                                  \\\n-  _func =  gen_rtx (SYMBOL_REF, Pmode, \"__enable_execute_stack\");          \\\n-  emit_library_call (_func, 0, VOIDmode, 1, _addr, Pmode);                   \\\n-}\n+/* FINALIZE_TRAMPOLINE enables executable stack.  The\n+   __enable_execute_stack also clears the insn cache. */\n+\n+#undef FINALIZE_TRAMPOLINE\n+#define FINALIZE_TRAMPOLINE(TRAMP)\n+  emit_library_call(gen_rtx(SYMBOL_REF, Pmode, \"__enable_execute_stack\"),\n+\t\t    0, VOIDmode, 1, memory_address(SImode, (TRAMP)), Pmode)\n \n /* A C expression used to clear the instruction cache from \n    address BEG to address END.   On NeXTSTEP this i a system trap. */"}]}