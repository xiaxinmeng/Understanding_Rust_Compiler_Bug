{"sha": "38ac6be772b39c41aa4dee3446ed776084683d62", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzhhYzZiZTc3MmIzOWM0MWFhNGRlZTM0NDZlZDc3NjA4NDY4M2Q2Mg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2010-12-24T00:33:49Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2010-12-24T00:33:49Z"}, "message": "Avoid endless loop checking whether type is pointer.\n\nFrom-SVN: r168221", "tree": {"sha": "d64cfad05b1b25773003424d2de53567e39b5a26", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d64cfad05b1b25773003424d2de53567e39b5a26"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/38ac6be772b39c41aa4dee3446ed776084683d62", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38ac6be772b39c41aa4dee3446ed776084683d62", "html_url": "https://github.com/Rust-GCC/gccrs/commit/38ac6be772b39c41aa4dee3446ed776084683d62", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38ac6be772b39c41aa4dee3446ed776084683d62/comments", "author": null, "committer": null, "parents": [{"sha": "4cc3ef613998834c7a81386f166494a8f50309a5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4cc3ef613998834c7a81386f166494a8f50309a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4cc3ef613998834c7a81386f166494a8f50309a5"}], "stats": {"total": 18, "additions": 15, "deletions": 3}, "files": [{"sha": "6ea529717281a8105be9f71911724f63f8bea2d1", "filename": "gcc/go/gofrontend/types.cc", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/38ac6be772b39c41aa4dee3446ed776084683d62/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/38ac6be772b39c41aa4dee3446ed776084683d62/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Ftypes.cc?ref=38ac6be772b39c41aa4dee3446ed776084683d62", "patch": "@@ -6853,6 +6853,19 @@ Named_type::do_verify()\n   return true;\n }\n \n+// Return whether this type is or contains a pointer.\n+\n+bool\n+Named_type::do_has_pointer() const\n+{\n+  if (this->seen_ > 0)\n+    return false;\n+  ++this->seen_;\n+  bool ret = this->type_->has_pointer();\n+  --this->seen_;\n+  return ret;\n+}\n+\n // Return a hash code.  This is used for method lookup.  We simply\n // hash on the name itself.\n "}, {"sha": "cecf106e448d77333dc504d91c52a9a8f1f6662d", "filename": "gcc/go/gofrontend/types.h", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/38ac6be772b39c41aa4dee3446ed776084683d62/gcc%2Fgo%2Fgofrontend%2Ftypes.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/38ac6be772b39c41aa4dee3446ed776084683d62/gcc%2Fgo%2Fgofrontend%2Ftypes.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Ftypes.h?ref=38ac6be772b39c41aa4dee3446ed776084683d62", "patch": "@@ -2552,8 +2552,7 @@ class Named_type : public Type\n   do_verify();\n \n   bool\n-  do_has_pointer() const\n-  { return this->type_->has_pointer(); }\n+  do_has_pointer() const;\n \n   unsigned int\n   do_hash_for_method(Gogo*) const;\n@@ -2677,7 +2676,7 @@ class Forward_declaration_type : public Type\n \n   bool\n   do_has_pointer() const\n-  { return this->base()->has_pointer(); }\n+  { return this->real_type()->has_pointer(); }\n \n   unsigned int\n   do_hash_for_method(Gogo* gogo) const"}]}