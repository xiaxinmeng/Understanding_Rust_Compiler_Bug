{"sha": "c4a6c0f353b4e56359f0bfc8733ab390efa2416f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzRhNmMwZjM1M2I0ZTU2MzU5ZjBiZmM4NzMzYWIzOTBlZmEyNDE2Zg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@vlsi1.ultra.nyu.edu", "date": "2000-08-22T06:24:13Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "2000-08-22T06:24:13Z"}, "message": "stmt.c (expand_goto_internal, [...]): Only check TYPE_RETURNS_STACK_DEPRESSED for FUNCTION_TYPE.\n\n\t* stmt.c (expand_goto_internal, fixup_gotos): Only check\n\tTYPE_RETURNS_STACK_DEPRESSED for FUNCTION_TYPE.\n\nFrom-SVN: r35865", "tree": {"sha": "b198fa1a4b2bc8518ff978411e8d111d61f87cf5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b198fa1a4b2bc8518ff978411e8d111d61f87cf5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c4a6c0f353b4e56359f0bfc8733ab390efa2416f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c4a6c0f353b4e56359f0bfc8733ab390efa2416f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c4a6c0f353b4e56359f0bfc8733ab390efa2416f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c4a6c0f353b4e56359f0bfc8733ab390efa2416f/comments", "author": null, "committer": null, "parents": [{"sha": "5b0e9d296c0096d7d3f72deacea9ea828335b9ae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b0e9d296c0096d7d3f72deacea9ea828335b9ae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5b0e9d296c0096d7d3f72deacea9ea828335b9ae"}], "stats": {"total": 17, "additions": 13, "deletions": 4}, "files": [{"sha": "f78083dbcbb6ef315c8b0083bb2525fb30b31d1f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c4a6c0f353b4e56359f0bfc8733ab390efa2416f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c4a6c0f353b4e56359f0bfc8733ab390efa2416f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c4a6c0f353b4e56359f0bfc8733ab390efa2416f", "patch": "@@ -1,3 +1,8 @@\n+Tue Aug 22 02:31:26 2000  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n+\n+\t* stmt.c (expand_goto_internal, fixup_gotos): Only check\n+\tTYPE_RETURNS_STACK_DEPRESSED for FUNCTION_TYPE.\n+\n 2000-08-21  Richard Henderson  <rth@cygnus.com>\n \n \t* flow.c (calculate_global_regs_live): Mark frame pointer live"}, {"sha": "7ea077dd9ecf085e73842297ffd80e6cdadf935b", "filename": "gcc/stmt.c", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c4a6c0f353b4e56359f0bfc8733ab390efa2416f/gcc%2Fstmt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c4a6c0f353b4e56359f0bfc8733ab390efa2416f/gcc%2Fstmt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fstmt.c?ref=c4a6c0f353b4e56359f0bfc8733ab390efa2416f", "patch": "@@ -907,8 +907,10 @@ expand_goto_internal (body, label, last_insn)\n \t  /* Don't do this adjust if it's to the end label and this function\n \t     is to return with a depressed stack pointer.  */\n \t  if (label == return_label\n-\t      && (TYPE_RETURNS_STACK_DEPRESSED\n-\t\t  (TREE_TYPE (current_function_decl))))\n+\t      && (((TREE_CODE (TREE_TYPE (current_function_decl))\n+\t\t   == FUNCTION_TYPE)\n+\t\t   && (TYPE_RETURNS_STACK_DEPRESSED\n+\t\t       (TREE_TYPE (current_function_decl))))))\n \t    ;\n \t  else\n \t    emit_stack_restore (SAVE_BLOCK, stack_level, NULL_RTX);\n@@ -1192,8 +1194,10 @@ fixup_gotos (thisblock, stack_level, cleanup_list, first_insn, dont_jump_in)\n \t     jump jumps out of.  */\n \t  if (f->stack_level\n \t      && ! (f->target_rtl == return_label\n-\t\t    && (TYPE_RETURNS_STACK_DEPRESSED \n-\t\t\t(TREE_TYPE (current_function_decl)))))\n+\t\t    && ((TREE_CODE (TREE_TYPE (current_function_decl))\n+\t\t\t == FUNCTION_TYPE)\n+\t\t\t&& (TYPE_RETURNS_STACK_DEPRESSED \n+\t\t\t    (TREE_TYPE (current_function_decl))))))\n \t    emit_stack_restore (SAVE_BLOCK, f->stack_level, f->before_jump);\n \n \t  /* Finish up the sequence containing the insns which implement the"}]}