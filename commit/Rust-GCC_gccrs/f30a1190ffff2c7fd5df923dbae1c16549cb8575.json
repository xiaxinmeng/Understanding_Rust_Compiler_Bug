{"sha": "f30a1190ffff2c7fd5df923dbae1c16549cb8575", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjMwYTExOTBmZmZmMmM3ZmQ1ZGY5MjNkYmFlMWMxNjU0OWNiODU3NQ==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2017-04-24T11:57:53Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2017-04-24T11:57:53Z"}, "message": "re PR fortran/80494 (ICE in wide_int_to_tree)\n\n2017-04-24  Richard Biener  <rguenther@suse.de>\n\n\tPR tree-optimization/80494\n\t* tree-scalar-evolution.c (analyze_scalar_evolution_1): Bail\n\tout for complex types.\n\n\t* gfortran.dg/pr80494.f90: New testcase.\n\nFrom-SVN: r247095", "tree": {"sha": "e1cde05c251163ddd6694c368d86b0bd3421e9b2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e1cde05c251163ddd6694c368d86b0bd3421e9b2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f30a1190ffff2c7fd5df923dbae1c16549cb8575", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f30a1190ffff2c7fd5df923dbae1c16549cb8575", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f30a1190ffff2c7fd5df923dbae1c16549cb8575", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f30a1190ffff2c7fd5df923dbae1c16549cb8575/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6e2e575a032dfc4f6a3c88dfc71282bf38cd8890", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e2e575a032dfc4f6a3c88dfc71282bf38cd8890", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6e2e575a032dfc4f6a3c88dfc71282bf38cd8890"}], "stats": {"total": 47, "additions": 46, "deletions": 1}, "files": [{"sha": "1a6f0006f935b4c9590f418faaa3ea3e696c5b4f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f30a1190ffff2c7fd5df923dbae1c16549cb8575/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f30a1190ffff2c7fd5df923dbae1c16549cb8575/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f30a1190ffff2c7fd5df923dbae1c16549cb8575", "patch": "@@ -1,3 +1,9 @@\n+2017-04-24  Richard Biener  <rguenther@suse.de>\n+\n+\tPR tree-optimization/80494\n+\t* tree-scalar-evolution.c (analyze_scalar_evolution_1): Bail\n+\tout for complex types.\n+\n 2017-04-24  Richard Biener  <rguenther@suse.de>\n \n \t* tree-ssa-sccvn.h (run_scc_vn): Adjust prototype."}, {"sha": "740de777e1cb8c4131cd78d28e2bf2b35424f1e1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f30a1190ffff2c7fd5df923dbae1c16549cb8575/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f30a1190ffff2c7fd5df923dbae1c16549cb8575/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f30a1190ffff2c7fd5df923dbae1c16549cb8575", "patch": "@@ -1,3 +1,8 @@\n+2017-04-24  Richard Biener  <rguenther@suse.de>\n+\n+\tPR tree-optimization/80494\n+\t* gfortran.dg/pr80494.f90: New testcase.\n+\n 2017-04-24  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/79725"}, {"sha": "c619c0a06c953f0c40205a0c0add0607b4164bad", "filename": "gcc/testsuite/gfortran.dg/pr80494.f90", "status": "added", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f30a1190ffff2c7fd5df923dbae1c16549cb8575/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr80494.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f30a1190ffff2c7fd5df923dbae1c16549cb8575/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr80494.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr80494.f90?ref=f30a1190ffff2c7fd5df923dbae1c16549cb8575", "patch": "@@ -0,0 +1,32 @@\n+! { dg-do compile }\n+! { dg-options \"-std=gnu -O2\" }\n+\n+subroutine CalcCgr(C,rmax,ordgr_max)\n+  integer, intent(in) :: rmax,ordgr_max\n+  double complex :: Zadj(2,2), Zadj2(2,2)\n+  double complex, intent(out) :: C(0:rmax,0:rmax,0:rmax)\n+  double complex, allocatable :: Cexpgr(:,:,:,:)\n+  double complex :: Caux\n+  integer :: rmaxB,rmaxExp,r,n0,n1,n2,k,l,i,j,m,n,nn\n+\n+  rmaxB = 2*rmax\n+  rmaxExp = rmaxB\n+  allocate(Cexpgr(0:rmaxExp/2,0:rmaxExp,0:rmaxExp,0:ordgr_max))\n+   \n+  rloop: do r=0,rmaxExp/2\n+    do n0=r,1,-1\n+      do nn=r-n0,0,-1\n+        do i=1,2\n+          Caux = Caux - Zadj(i,l)\n+        end do\n+        Cexpgr(n0,0,0,0) = Caux/(2*(nn+1))\n+      end do\n+    end do\n+    do n1=0,r\n+      n2 = r-n1\n+      if (r.le.rmax) then\n+        C(0,n1,n2) = Cexpgr(0,n1,n2,0)\n+      end if\n+    end do\n+  end do rloop\n+end subroutine CalcCgr"}, {"sha": "7327d4eed6b4ab8fd5639cbaa06ef7cd646e5e71", "filename": "gcc/tree-scalar-evolution.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f30a1190ffff2c7fd5df923dbae1c16549cb8575/gcc%2Ftree-scalar-evolution.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f30a1190ffff2c7fd5df923dbae1c16549cb8575/gcc%2Ftree-scalar-evolution.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-scalar-evolution.c?ref=f30a1190ffff2c7fd5df923dbae1c16549cb8575", "patch": "@@ -2049,7 +2049,9 @@ analyze_scalar_evolution_1 (struct loop *loop, tree var, tree res)\n   basic_block bb;\n   struct loop *def_loop;\n \n-  if (loop == NULL || TREE_CODE (type) == VECTOR_TYPE)\n+  if (loop == NULL\n+      || TREE_CODE (type) == VECTOR_TYPE\n+      || TREE_CODE (type) == COMPLEX_TYPE)\n     return chrec_dont_know;\n \n   if (TREE_CODE (var) != SSA_NAME)"}]}