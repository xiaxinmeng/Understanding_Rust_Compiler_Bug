{"sha": "48d1ce967f40e221db7afb6496ba34c190e3d9fd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDhkMWNlOTY3ZjQwZTIyMWRiN2FmYjY0OTZiYTM0YzE5MGUzZDlmZA==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2003-02-06T00:33:26Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2003-02-06T00:33:26Z"}, "message": "20020227-1.x: Update specific XFAIL conditions for SPARC targets.\n\n\t* gcc.c-torture/execute/20020227-1.x: Update specific XFAIL\n\tconditions for SPARC targets.\n\nFrom-SVN: r62463", "tree": {"sha": "a12f10e978c922638ff239d4f802a9fe3c74458b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a12f10e978c922638ff239d4f802a9fe3c74458b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/48d1ce967f40e221db7afb6496ba34c190e3d9fd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/48d1ce967f40e221db7afb6496ba34c190e3d9fd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/48d1ce967f40e221db7afb6496ba34c190e3d9fd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/48d1ce967f40e221db7afb6496ba34c190e3d9fd/comments", "author": null, "committer": null, "parents": [{"sha": "2113479c7dad95359fb08179bc3ed3c5706be480", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2113479c7dad95359fb08179bc3ed3c5706be480", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2113479c7dad95359fb08179bc3ed3c5706be480"}], "stats": {"total": 43, "additions": 30, "deletions": 13}, "files": [{"sha": "2c9a9ee8dc534cf5fea59cad921a3ebc8aa0b8a2", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/48d1ce967f40e221db7afb6496ba34c190e3d9fd/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/48d1ce967f40e221db7afb6496ba34c190e3d9fd/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=48d1ce967f40e221db7afb6496ba34c190e3d9fd", "patch": "@@ -1,3 +1,8 @@\n+2003-02-05  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* gcc.c-torture/execute/20020227-1.x: Update specific XFAIL\n+\tconditions for SPARC targets.\n+\n 2003-02-05  Jakub Jelinek  <jakub@redhat.com>\n \n \t* gcc.dg/20030204-1.c: New test."}, {"sha": "67afb822088b3c63e5da2ed4fcaacb859bd48e6a", "filename": "gcc/testsuite/gcc.c-torture/execute/20020227-1.x", "status": "modified", "additions": 25, "deletions": 13, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/48d1ce967f40e221db7afb6496ba34c190e3d9fd/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20020227-1.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/48d1ce967f40e221db7afb6496ba34c190e3d9fd/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20020227-1.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20020227-1.x?ref=48d1ce967f40e221db7afb6496ba34c190e3d9fd", "patch": "@@ -2,20 +2,32 @@\n # been observed to fail on at least mips-irix6, alpha, ia64, hppa64,\n # sparc64/sparcv9 and mmix during April 2002.\n \n-if { [istarget \"*64*-*-*\"] || [istarget \"alpha*-*-*\"] || [istarget \"mmix-*-*\"]\n-     || [istarget \"sparcv9-*-*\"] || [istarget \"mips*-*-irix6*\"] } {\n-    set torture_execute_xfail [istarget]\n-}\n-\n-# Regular sparc- also fails with -m64.\n-set torture_eval_before_execute {\n-    global compiler_conditional_xfail_data\n-    set compiler_conditional_xfail_data {\n-        \"This test fails on 64-bit targets, see PR6221.\" \\\n-        { \"sparc-*-*\" } \\\n-        { \"-m64\" } \\\n-        { \"\" }\n+if { [istarget \"sparc64-*-*\"] || [istarget \"sparcv9-*-*\"] } {\n+    # On sparc64/sparcv9 it doesn't fail at -O0/-O1, or at all with -m32.\n+    set torture_eval_before_execute {\n+        global compiler_conditional_xfail_data\n+        set compiler_conditional_xfail_data {\n+            \"This test fails on 64-bit targets, see PR6221.\" \\\n+            { \"*-*-*\" } \\\n+            { \"-O2\" \"-O3\" \"-Os\" } \\\n+            { \"-m32\" }\n+        }\n     }\n+} elseif { [istarget \"sparc-*-*\"] } {\n+    # Regular sparc fails with -m64, but not with -O0/-O1.\n+    set torture_eval_before_execute {\n+        global compiler_conditional_xfail_data\n+        set compiler_conditional_xfail_data {\n+            \"This test fails on 64-bit targets, see PR6221.\" \\\n+            { \"*-*-*\" } \\\n+            { \"-m64\" } \\\n+            { \"-O0\" \"-O1\" }\n+        }\n+    }\n+} elseif { [istarget \"*64*-*-*\"] || [istarget \"alpha*-*-*\"]\n+        || [istarget \"mmix-*-*\"] || [istarget \"mips*-*-irix6*\"] } {\n+    # Other 64-bit targets fail at all optimization levels.\n+    set torture_execute_xfail [istarget]\n }\n \n return 0"}]}