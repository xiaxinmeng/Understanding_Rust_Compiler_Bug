{"sha": "04b6b884cdb9370ace48a0f685f06e951711802a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDRiNmI4ODRjZGI5MzcwYWNlNDhhMGY2ODVmMDZlOTUxNzExODAyYQ==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2007-09-28T16:55:07Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2007-09-28T16:55:07Z"}, "message": "re PR fortran/33400 (Formatted read fails if line ends without line break)\n\n2007-09-28  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libfortran/33400\n\t* io/list_read.c (next_char): Interpret encountering the end of file the\n\tfirst time as an end of line.  Subsequent reads give EOF error.\n\nFrom-SVN: r128868", "tree": {"sha": "e3f51a88f8c0f0e33f80754e7747ac1bace2f145", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e3f51a88f8c0f0e33f80754e7747ac1bace2f145"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/04b6b884cdb9370ace48a0f685f06e951711802a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04b6b884cdb9370ace48a0f685f06e951711802a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/04b6b884cdb9370ace48a0f685f06e951711802a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04b6b884cdb9370ace48a0f685f06e951711802a/comments", "author": null, "committer": null, "parents": [{"sha": "80d860132a4c15fa2f614d1c557ab2f8ba207f3e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80d860132a4c15fa2f614d1c557ab2f8ba207f3e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/80d860132a4c15fa2f614d1c557ab2f8ba207f3e"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "aaa37a4a5030f443a5628df2af732f31a445e33a", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04b6b884cdb9370ace48a0f685f06e951711802a/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04b6b884cdb9370ace48a0f685f06e951711802a/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=04b6b884cdb9370ace48a0f685f06e951711802a", "patch": "@@ -1,3 +1,9 @@\n+2007-09-28  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libfortran/33400\n+\t* io/list_read.c (next_char): Interpret encountering the end of file the\n+\tfirst time as an end of line.  Subsequent reads give EOF error.\n+\n 2007-09-27  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \tPR libfortran/33421"}, {"sha": "0eb1845849d627f9e1b05eed4b74dfd14b86f85d", "filename": "libgfortran/io/list_read.c", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04b6b884cdb9370ace48a0f685f06e951711802a/libgfortran%2Fio%2Flist_read.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04b6b884cdb9370ace48a0f685f06e951711802a/libgfortran%2Fio%2Flist_read.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Flist_read.c?ref=04b6b884cdb9370ace48a0f685f06e951711802a", "patch": "@@ -232,8 +232,14 @@ next_char (st_parameter_dt *dtp)\n \t  return '\\0';\n \t}\n       if (length == 0)\n-\tlongjmp (*dtp->u.p.eof_jump, 1);\n-      c = *p;\n+\t{\n+\t  if (dtp->u.p.current_unit->endfile == AT_ENDFILE)\n+\t    longjmp (*dtp->u.p.eof_jump, 1);\n+\t  dtp->u.p.current_unit->endfile = AT_ENDFILE;\n+\t  c = '\\n';\n+\t}\n+      else\n+\tc = *p;\n     }\n done:\n   dtp->u.p.at_eol = (c == '\\n' || c == '\\r');"}]}