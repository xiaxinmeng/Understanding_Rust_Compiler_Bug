{"sha": "28cf078dd291012375a886c646b108becd2ad710", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjhjZjA3OGRkMjkxMDEyMzc1YTg4NmM2NDZiMTA4YmVjZDJhZDcxMA==", "commit": {"author": {"name": "James Van Artsdalen", "email": "jrv@gnu.org", "date": "1992-08-28T01:22:53Z"}, "committer": {"name": "James Van Artsdalen", "email": "jrv@gnu.org", "date": "1992-08-28T01:22:53Z"}, "message": "(sin_optab,cos_optab): Define optabs for sin and cos.\n\n(init_optabs): Initialize them.\n\nFrom-SVN: r1978", "tree": {"sha": "ba0d1d1568eb92c82478ada370f15ab51b6e80b4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ba0d1d1568eb92c82478ada370f15ab51b6e80b4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/28cf078dd291012375a886c646b108becd2ad710", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28cf078dd291012375a886c646b108becd2ad710", "html_url": "https://github.com/Rust-GCC/gccrs/commit/28cf078dd291012375a886c646b108becd2ad710", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28cf078dd291012375a886c646b108becd2ad710/comments", "author": null, "committer": null, "parents": [{"sha": "d70326a5e8a944f67760cdc2f4ffc602f4100d05", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d70326a5e8a944f67760cdc2f4ffc602f4100d05", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d70326a5e8a944f67760cdc2f4ffc602f4100d05"}], "stats": {"total": 34, "additions": 34, "deletions": 0}, "files": [{"sha": "7b883cbccb63df35f9761cf95a5509198c2336eb", "filename": "gcc/optabs.c", "status": "modified", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28cf078dd291012375a886c646b108becd2ad710/gcc%2Foptabs.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28cf078dd291012375a886c646b108becd2ad710/gcc%2Foptabs.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Foptabs.c?ref=28cf078dd291012375a886c646b108becd2ad710", "patch": "@@ -73,6 +73,8 @@ optab abs_optab;\n optab one_cmpl_optab;\n optab ffs_optab;\n optab sqrt_optab;\n+optab sin_optab;\n+optab cos_optab;\n \n optab cmp_optab;\n optab ucmp_optab;  /* Used only for libcalls for unsigned comparisons.  */\n@@ -3355,6 +3357,8 @@ init_optabs ()\n   one_cmpl_optab = init_optab (NOT);\n   ffs_optab = init_optab (FFS);\n   sqrt_optab = init_optab (SQRT);\n+  sin_optab = init_optab (UNKNOWN);\n+  cos_optab = init_optab (UNKNOWN);\n   strlen_optab = init_optab (UNKNOWN);\n \n #ifdef HAVE_addqi3\n@@ -4250,6 +4254,36 @@ init_optabs ()\n   /* No library calls here!  If there is no sqrt instruction expand_builtin\n      should force the library call.  */\n \n+#ifdef HAVE_sinsf2\n+  if (HAVE_sinsf2)\n+    sin_optab->handlers[(int) SFmode].insn_code = CODE_FOR_sinsf2;\n+#endif\n+#ifdef HAVE_sindf2\n+  if (HAVE_sindf2)\n+    sin_optab->handlers[(int) DFmode].insn_code = CODE_FOR_sindf2;\n+#endif\n+#ifdef HAVE_sintf2\n+  if (HAVE_sintf2)\n+    sin_optab->handlers[(int) TFmode].insn_code = CODE_FOR_sintf2;\n+#endif\n+  /* No library calls here!  If there is no sin instruction expand_builtin\n+     should force the library call.  */\n+\n+#ifdef HAVE_cossf2\n+  if (HAVE_cossf2)\n+    cos_optab->handlers[(int) SFmode].insn_code = CODE_FOR_cossf2;\n+#endif\n+#ifdef HAVE_cosdf2\n+  if (HAVE_cosdf2)\n+    cos_optab->handlers[(int) DFmode].insn_code = CODE_FOR_cosdf2;\n+#endif\n+#ifdef HAVE_costf2\n+  if (HAVE_costf2)\n+    cos_optab->handlers[(int) TFmode].insn_code = CODE_FOR_costf2;\n+#endif\n+  /* No library calls here!  If there is no cos instruction expand_builtin\n+     should force the library call.  */\n+\n #ifdef HAVE_strlenqi\n   if (HAVE_strlenqi)\n     strlen_optab->handlers[(int) QImode].insn_code = CODE_FOR_strlenqi;"}]}