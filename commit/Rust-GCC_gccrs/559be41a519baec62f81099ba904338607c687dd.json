{"sha": "559be41a519baec62f81099ba904338607c687dd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTU5YmU0MWE1MTliYWVjNjJmODEwOTliYTkwNDMzODYwN2M2ODdkZA==", "commit": {"author": {"name": "Ulrich Weigand", "email": "uweigand@de.ibm.com", "date": "2005-04-14T08:25:00Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2005-04-14T08:25:00Z"}, "message": "re PR target/20927 (ICE in smallest_mode_for_size, at stor-layout.c:221 (s390x))\n\nChangeLog:\n\n\tPR target/20927\n\t* config/s390/s390-modes.def: Define TFmode.\n\ntestsuite/ChangeLog:\n\n\tPR target/20927\n\t* gcc.dg/pr20927.c: New test.\n\nFrom-SVN: r98128", "tree": {"sha": "abdff75b27cb386799a39d99ca1f8608fad2a5fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/abdff75b27cb386799a39d99ca1f8608fad2a5fa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/559be41a519baec62f81099ba904338607c687dd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/559be41a519baec62f81099ba904338607c687dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/559be41a519baec62f81099ba904338607c687dd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/559be41a519baec62f81099ba904338607c687dd/comments", "author": null, "committer": null, "parents": [{"sha": "907d22fd4489e480f815f926db9fe5115354b95b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/907d22fd4489e480f815f926db9fe5115354b95b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/907d22fd4489e480f815f926db9fe5115354b95b"}], "stats": {"total": 36, "additions": 36, "deletions": 0}, "files": [{"sha": "f96cfbd45061b69aaa8d0a497b3f90a79a74dc76", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/559be41a519baec62f81099ba904338607c687dd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/559be41a519baec62f81099ba904338607c687dd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=559be41a519baec62f81099ba904338607c687dd", "patch": "@@ -1,3 +1,8 @@\n+2005-04-14  Ulrich Weigand  <uweigand@de.ibm.com>\n+\n+\tPR target/20927\n+\t* config/s390/s390-modes.def: Define TFmode.\n+\n 2005-04-13  Richard Sandiford  <rsandifo@redhat.com>\n \n \t* config/mips/mips.h (ASM_OUTPUT_CASE_LABEL): Delete."}, {"sha": "6520dda8e9052510e1c296adc3bc90123f44b082", "filename": "gcc/config/s390/s390-modes.def", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/559be41a519baec62f81099ba904338607c687dd/gcc%2Fconfig%2Fs390%2Fs390-modes.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/559be41a519baec62f81099ba904338607c687dd/gcc%2Fconfig%2Fs390%2Fs390-modes.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390-modes.def?ref=559be41a519baec62f81099ba904338607c687dd", "patch": "@@ -23,6 +23,9 @@ Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n /* 256-bit integer mode is needed for STACK_SAVEAREA_MODE.  */\n INT_MODE (OI, 32);\n \n+/* Define TFmode to work around reload problem PR 20927.  */\n+FLOAT_MODE (TF, 16, ieee_quad_format);\n+\n /* Add any extra modes needed to represent the condition code.  */\n \n /*"}, {"sha": "70a01265b71f382b6ed85eedf776b8241b990550", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/559be41a519baec62f81099ba904338607c687dd/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/559be41a519baec62f81099ba904338607c687dd/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=559be41a519baec62f81099ba904338607c687dd", "patch": "@@ -1,3 +1,8 @@\n+2005-04-14  Ulrich Weigand  <uweigand@de.ibm.com>\n+\n+\tPR target/20927\n+\t* gcc.dg/pr20927.c: New test.\n+\n 2005-04-13  Richard Sandiford  <rsandifo@redhat.com>\n \n \t* gcc.dg/torture/pr19683-1.c: Guard with #ifndef __mips16."}, {"sha": "55cda33e8c4beeb671e83db1049e78b2eb222e0d", "filename": "gcc/testsuite/gcc.dg/pr20927.c", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/559be41a519baec62f81099ba904338607c687dd/gcc%2Ftestsuite%2Fgcc.dg%2Fpr20927.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/559be41a519baec62f81099ba904338607c687dd/gcc%2Ftestsuite%2Fgcc.dg%2Fpr20927.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr20927.c?ref=559be41a519baec62f81099ba904338607c687dd", "patch": "@@ -0,0 +1,23 @@\n+/* This caused an ICE on s390x due to a reload inheritance bug.  */\n+\n+/* { dg-do compile { target s390*-*-* } } */\n+/* { dg-options \"-O2\" } */\n+\n+struct point { double x, y; };\n+extern void use (struct point);\n+\n+void test (struct point *pc, struct point p1)\n+{\n+  struct point p0 = *pc;\n+\n+  if (p0.x == p1.x && p0.y == p1.y)\n+    use (p0);\n+\n+  asm (\"\" : : : \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\");\n+\n+  p1.y -= p0.y;\n+\n+  use (p0);\n+  use (p1);\n+}\n+"}]}