{"sha": "6a556ad682aac6fa2ba6569f918ea82d55f6340a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmE1NTZhZDY4MmFhYzZmYTJiYTY1NjlmOTE4ZWE4MmQ1NWY2MzQwYQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2001-03-07T22:51:02Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2001-03-07T22:51:02Z"}, "message": "configure.in: Allow config-lang.in to set `lang_requires' to list of other required languages.\n\n\t* configure.in: Allow config-lang.in to set `lang_requires' to list\n\tof other required languages.\n\nFrom-SVN: r40309", "tree": {"sha": "e741d53ebab5d85238da74ceed237bf02e498a5d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e741d53ebab5d85238da74ceed237bf02e498a5d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6a556ad682aac6fa2ba6569f918ea82d55f6340a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a556ad682aac6fa2ba6569f918ea82d55f6340a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6a556ad682aac6fa2ba6569f918ea82d55f6340a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a556ad682aac6fa2ba6569f918ea82d55f6340a/comments", "author": null, "committer": null, "parents": [{"sha": "75382c6dc69d08d46d1a7b2abef34e89c96e4bd8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75382c6dc69d08d46d1a7b2abef34e89c96e4bd8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/75382c6dc69d08d46d1a7b2abef34e89c96e4bd8"}], "stats": {"total": 39, "additions": 38, "deletions": 1}, "files": [{"sha": "cd62f0bb46121993c41eb6581c964d2afea9014e", "filename": "ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a556ad682aac6fa2ba6569f918ea82d55f6340a/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a556ad682aac6fa2ba6569f918ea82d55f6340a/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=6a556ad682aac6fa2ba6569f918ea82d55f6340a", "patch": "@@ -1,3 +1,8 @@\n+2001-03-07  Tom Tromey  <tromey@redhat.com>\n+\n+\t* configure.in: Allow config-lang.in to set `lang_requires' to list\n+\tof other required languages.\n+\n 2001-03-06  Laurynas Biveinis  <lauras@softhome.net>\n \n \t* Makefile.in: Remove RANLIB definition. Use RANLIB"}, {"sha": "649df368ddf0b504f25ad7975dcc71f52d5fb5e7", "filename": "configure.in", "status": "modified", "additions": 33, "deletions": 1, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a556ad682aac6fa2ba6569f918ea82d55f6340a/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a556ad682aac6fa2ba6569f918ea82d55f6340a/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=6a556ad682aac6fa2ba6569f918ea82d55f6340a", "patch": "@@ -993,6 +993,39 @@ else\n \t\texit 1\n \tfi\n fi\n+\n+# First scan to see if an enabled language requires some other language.\n+# We assume that a given config-lang.in will list all the language\n+# front ends it requires, even if some are required indirectly.\n+for lang in ${srcdir}/gcc/*/config-lang.in ..\n+do\n+   case $lang in\n+    ..)\n+       ;;\n+    # The odd quoting in the next line works around\n+    # an apparent bug in bash 1.12 on linux.\n+    ${srcdir}/gcc/[*]/config-lang.in)\n+       ;;\n+    *)\n+       lang_alias=`sed -n -e 's,^language=['\"'\"'\"'\"]\\(.*\\)[\"'\"'\"'\"'].*$,\\1,p' -e 's,^language=\\([^ \t]*\\).*$,\\1,p' $lang`\n+       this_lang_requires=`sed -n -e 's,^lang_requires=['\"'\"'\"'\"]\\(.*\\)[\"'\"'\"'\"'].*$,\\1,p' -e 's,^lang_requires=\\([^ \t]*\\).*$,\\1,p' $lang`\n+       for other in $this_lang_requires\n+       do\n+\t  case ,${enable_languages}, in\n+\t   *,$other,*)\n+\t      ;;\n+\t   *,all,*)\n+\t      ;;\n+\t   *)\n+\t      echo \" \\`$other' language required by \\`$lang_alias'; enabling\" 1>&2\n+\t      enable_languages=\"$enable_languages,$other\"\n+\t      ;;\n+\t  esac\n+       done\n+       ;;\n+   esac\n+done\n+\n subdirs=\n for lang in ${srcdir}/gcc/*/config-lang.in ..\n do\n@@ -1026,7 +1059,6 @@ do\n \tesac\n done\n \n-\n # Remove the entries in $skipdirs and $noconfigdirs from $configdirs and\n # $target_configdirs.\n # If we have the source for $noconfigdirs entries, add them to $notsupp."}]}