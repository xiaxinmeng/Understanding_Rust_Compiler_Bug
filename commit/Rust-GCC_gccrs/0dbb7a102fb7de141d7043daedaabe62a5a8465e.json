{"sha": "0dbb7a102fb7de141d7043daedaabe62a5a8465e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGRiYjdhMTAyZmI3ZGUxNDFkNzA0M2RhZWRhYWJlNjJhNWE4NDY1ZQ==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1998-09-24T18:54:38Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-09-24T18:54:38Z"}, "message": "sdbout.c (sdbout_field_types): Don't emit the types of fields we won't be emitting.\n\n\t* sdbout.c (sdbout_field_types): Don't emit the types of fields we\n\twon't be emitting.\n\nFrom-SVN: r22576", "tree": {"sha": "34725d61b86dbb0c36c55cadfa707a870a6dc57b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/34725d61b86dbb0c36c55cadfa707a870a6dc57b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0dbb7a102fb7de141d7043daedaabe62a5a8465e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0dbb7a102fb7de141d7043daedaabe62a5a8465e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0dbb7a102fb7de141d7043daedaabe62a5a8465e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0dbb7a102fb7de141d7043daedaabe62a5a8465e/comments", "author": null, "committer": null, "parents": [{"sha": "03d368760cbb45d5af56242d8819bb4357f46655", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03d368760cbb45d5af56242d8819bb4357f46655", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03d368760cbb45d5af56242d8819bb4357f46655"}], "stats": {"total": 21, "additions": 17, "deletions": 4}, "files": [{"sha": "ea3ff4f5cdf648deb4619d449255d8e67d9cfeb4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0dbb7a102fb7de141d7043daedaabe62a5a8465e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0dbb7a102fb7de141d7043daedaabe62a5a8465e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0dbb7a102fb7de141d7043daedaabe62a5a8465e", "patch": "@@ -1,3 +1,8 @@\n+Thu Sep 24 18:53:20 1998  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* sdbout.c (sdbout_field_types): Don't emit the types of fields we\n+\twon't be emitting.\n+\n Thu Sep 24 17:05:30 1998  Nick Clifton  <nickc@cygnus.com>\n \n \t* config/arm/arm.md (insv): Add comment.  In CONST_INT case, and"}, {"sha": "791bd75a57896d0035ccf01b6e6a50409e9701f8", "filename": "gcc/sdbout.c", "status": "modified", "additions": 12, "deletions": 4, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0dbb7a102fb7de141d7043daedaabe62a5a8465e/gcc%2Fsdbout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0dbb7a102fb7de141d7043daedaabe62a5a8465e/gcc%2Fsdbout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsdbout.c?ref=0dbb7a102fb7de141d7043daedaabe62a5a8465e", "patch": "@@ -1082,10 +1082,18 @@ sdbout_field_types (type)\n   tree tail;\n \n   for (tail = TYPE_FIELDS (type); tail; tail = TREE_CHAIN (tail))\n-    if (POINTER_TYPE_P (TREE_TYPE (tail)))\n-      sdbout_one_type (TREE_TYPE (TREE_TYPE (tail)));\n-    else\n-      sdbout_one_type (TREE_TYPE (tail));\n+    /* This condition should match the one for emitting the actual members\n+       below.  */\n+    if (TREE_CODE (tail) == FIELD_DECL\n+\t&& DECL_NAME (tail) != 0\n+\t&& TREE_CODE (DECL_SIZE (tail)) == INTEGER_CST\n+\t&& TREE_CODE (DECL_FIELD_BITPOS (tail)) == INTEGER_CST)\n+      {\n+\tif (POINTER_TYPE_P (TREE_TYPE (tail)))\n+\t  sdbout_one_type (TREE_TYPE (TREE_TYPE (tail)));\n+\telse\n+\t  sdbout_one_type (TREE_TYPE (tail));\n+      }\n }\n \n /* Use this to put out the top level defined record and union types"}]}