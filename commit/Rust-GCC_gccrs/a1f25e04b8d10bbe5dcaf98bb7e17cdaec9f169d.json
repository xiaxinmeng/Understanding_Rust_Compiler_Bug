{"sha": "a1f25e04b8d10bbe5dcaf98bb7e17cdaec9f169d", "node_id": "C_kwDOANBUbNoAKGExZjI1ZTA0YjhkMTBiYmU1ZGNhZjk4YmI3ZTE3Y2RhZWM5ZjE2OWQ", "commit": {"author": {"name": "Jiufu Guo", "email": "guojiufu@linux.ibm.com", "date": "2023-04-14T02:50:28Z"}, "committer": {"name": "Jiufu Guo", "email": "guojiufu@linux.ibm.com", "date": "2023-04-17T02:39:26Z"}, "message": "testsuite: update builtins-5-p9-runnable.c for BE\n\nHi,\n\nAs PR108809 mentioned, vec_xl_len_r and vec_xst_len_r are tested\nin gcc.target/powerpc/builtins-5-p9-runnable.c.\nThe vector operand of these two bifs are different from the view\nof v16_int8 between BE and LE, even it is same from the view of\n128bits(uint128/V1TI).\n\nThe test case gcc.target/powerpc/builtins-5-p9-runnable.c was\nwritten for LE environment, this patch updates it for BE.\n\nTested on ppc64 BE and LE.\nIs this ok for trunk?\n\nBR,\nJeff (Jiufu)\n\ngcc/testsuite/ChangeLog:\n\n\tPR testsuite/108809\n\t* gcc.target/powerpc/builtins-5-p9-runnable.c: Update for BE.", "tree": {"sha": "d076ebd3755b744b1a6de4e9112b821f58c289ea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d076ebd3755b744b1a6de4e9112b821f58c289ea"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a1f25e04b8d10bbe5dcaf98bb7e17cdaec9f169d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a1f25e04b8d10bbe5dcaf98bb7e17cdaec9f169d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a1f25e04b8d10bbe5dcaf98bb7e17cdaec9f169d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a1f25e04b8d10bbe5dcaf98bb7e17cdaec9f169d/comments", "author": null, "committer": null, "parents": [{"sha": "2e6b57196dd0e1f4b308abb958f5f905f0ba6aba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e6b57196dd0e1f4b308abb958f5f905f0ba6aba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e6b57196dd0e1f4b308abb958f5f905f0ba6aba"}], "stats": {"total": 35, "additions": 35, "deletions": 0}, "files": [{"sha": "1a5f1d6383abb0dac8f484680fd8d2fcfd54a634", "filename": "gcc/testsuite/gcc.target/powerpc/builtins-5-p9-runnable.c", "status": "modified", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a1f25e04b8d10bbe5dcaf98bb7e17cdaec9f169d/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fbuiltins-5-p9-runnable.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a1f25e04b8d10bbe5dcaf98bb7e17cdaec9f169d/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fbuiltins-5-p9-runnable.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fbuiltins-5-p9-runnable.c?ref=a1f25e04b8d10bbe5dcaf98bb7e17cdaec9f169d", "patch": "@@ -78,8 +78,13 @@ int main() {\n    size = 8;\n    vec_uc_result1 = vec_xl_len_r(data_uc, size);\n \n+#ifdef __LITTLE_ENDIAN__\n    vec_uc_expected1 = (vector unsigned char){8, 7, 6, 5, 4, 3, 2, 1,\n \t\t\t\t\t     0, 0, 0, 0, 0, 0, 0, 0,};\n+#else\n+   vec_uc_expected1 = (vector unsigned char){0, 0, 0, 0, 0, 0, 0, 0,\n+\t\t\t\t\t     1, 2, 3, 4, 5, 6, 7, 8,};\n+#endif\n    \n    if (result_wrong (vec_uc_expected1, vec_uc_result1))\n      {\n@@ -107,8 +112,13 @@ int main() {\n    size = 4;\n    vec_uc_result1 = vec_xl_len_r(data_uc, size);\n \n+#ifdef __LITTLE_ENDIAN__\n    vec_uc_expected1 = (vector unsigned char){ 4, 3, 2, 1, 0, 0, 0, 0,\n                                               0, 0, 0, 0, 0, 0, 0, 0 };\n+#else\n+   vec_uc_expected1 = (vector unsigned char){ 0, 0, 0, 0, 0, 0, 0, 0,\n+                                              0, 0, 0, 0, 1, 2, 3, 4 };\n+#endif\n    \n    if (result_wrong (vec_uc_expected1, vec_uc_result1))\n      {\n@@ -135,8 +145,13 @@ int main() {\n    size = 2;\n    vec_uc_result1 = vec_xl_len_r(data_uc, size);\n \n+#ifdef __LITTLE_ENDIAN__\n    vec_uc_expected1 = (vector unsigned char){ 2, 1, 0, 0, 0, 0, 0, 0,\n                                               0, 0, 0, 0, 0, 0, 0, 0 };\n+#else\n+   vec_uc_expected1 = (vector unsigned char){ 0, 0, 0, 0, 0, 0, 0, 0,\n+                                              0, 0, 0, 0, 0, 0, 1, 2 };\n+#endif\n    \n    if (result_wrong (vec_uc_expected1, vec_uc_result1))\n      {\n@@ -231,8 +246,13 @@ int main() {\n      }\n \n    /* VEC_XST_LEN_R */\n+#ifdef __LITTLE_ENDIAN__\n    vec_uc_expected1 = (vector unsigned char){ 16, 15, 14, 13, 12, 11, 10, 9,\n \t\t\t\t\t      8, 7, 6, 5, 4, 3, 2, 1 };\n+#else\n+   vec_uc_expected1 = (vector unsigned char){ 1, 2, 3, 4, 5, 6, 7, 8,\n+\t\t\t\t\t      9, 10, 11, 12, 13, 14, 15, 16 };\n+#endif\n    store_data_uc = (vector unsigned char){ 1, 2, 3, 4, 5, 6, 7, 8,\n \t\t\t\t\t   9, 10, 11, 12, 13, 14, 15, 16 };\n    vec_uc_result1 = (vector unsigned char){ 0, 0, 0, 0, 0, 0, 0, 0,\n@@ -265,8 +285,13 @@ int main() {\n #endif\n      }\n \n+#ifdef __LITTLE_ENDIAN__\n    vec_uc_expected1 = (vector unsigned char){ 2, 1, 0, 0, 0, 0, 0, 0,\n                                               0, 0, 0, 0, 0, 0, 0, 0 };\n+#else\n+   vec_uc_expected1 = (vector unsigned char){ 15, 16, 0, 0, 0, 0, 0, 0,\n+                                              0, 0, 0, 0, 0, 0, 0, 0 };\n+#endif\n    store_data_uc = (vector unsigned char){ 1, 2, 3, 4, 5, 6, 7, 8,\n \t\t\t\t\t   9, 10, 11, 12, 13, 14, 15, 16 };\n    vec_uc_result1 = (vector unsigned char){ 0, 0, 0, 0, 0, 0, 0, 0, \n@@ -299,8 +324,13 @@ int main() {\n #endif\n      }\n \n+#ifdef __LITTLE_ENDIAN__\n    vec_uc_expected1 = (vector unsigned char){ 16, 15, 14, 13, 12, 11, 10, 9,\n                                               8, 7, 6, 5, 4, 3, 2, 1 };\n+#else\n+   vec_uc_expected1 = (vector unsigned char){ 1, 2, 3, 4, 5, 6, 7, 8,\n+\t\t\t\t\t      9, 10, 11, 12, 13, 14, 15, 16 };\n+#endif\n    store_data_uc = (vector unsigned char){ 1, 2, 3, 4, 5, 6, 7, 8,\n \t\t\t\t\t   9, 10, 11, 12, 13, 14, 15, 16 };\n    vec_uc_result1 = (vector unsigned char){ 0, 0, 0, 0, 0, 0, 0, 0, \n@@ -333,8 +363,13 @@ int main() {\n #endif\n      }\n \n+#ifdef __LITTLE_ENDIAN__\n    vec_uc_expected1 = (vector unsigned char){ 14, 13, 12, 11, 10, 9, 8, 7,\n                                               6, 5, 4, 3, 2, 1, 0, 0 };\n+#else\n+   vec_uc_expected1 = (vector unsigned char){ 3, 4, 5, 6, 7, 8, 9, 10,\n+                                              11, 12, 13, 14, 15, 16, 0, 0 };\n+#endif\n    store_data_uc = (vector unsigned char){ 1, 2, 3, 4, 5, 6, 7, 8,\n \t\t\t\t\t   9, 10, 11, 12, 13, 14, 15, 16 };\n    vec_uc_result1 = (vector unsigned char){ 0, 0, 0, 0, 0, 0, 0, 0, "}]}