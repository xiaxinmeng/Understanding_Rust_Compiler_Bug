{"sha": "ce417b8f3fd61e8cbf0bc5cbedac464b009458d4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2U0MTdiOGYzZmQ2MWU4Y2JmMGJjNWNiZWRhYzQ2NGIwMDk0NThkNA==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-10-05T10:30:15Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-10-05T10:30:15Z"}, "message": "[multiple changes]\n\n2010-10-05  Robert Dewar  <dewar@adacore.com>\n\n\t* par-ch5.adb (Test_Statement_Required): Allow all pragmas in Ada 2012\n\tmode.\n\n2010-10-05  Pascal Obry  <obry@adacore.com>\n\n\t* gnat_rm.texi: Fix typo.\n\n2010-10-05  Arnaud Charlet  <charlet@adacore.com>\n\n\t* gnat_ugn.texi: Add note about identifiers with same name and\n\t-fdump-ada-spec.\n\nFrom-SVN: r164983", "tree": {"sha": "9190178a47cd0fd3cb4320d67c4362206056744c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9190178a47cd0fd3cb4320d67c4362206056744c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ce417b8f3fd61e8cbf0bc5cbedac464b009458d4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce417b8f3fd61e8cbf0bc5cbedac464b009458d4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce417b8f3fd61e8cbf0bc5cbedac464b009458d4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce417b8f3fd61e8cbf0bc5cbedac464b009458d4/comments", "author": null, "committer": null, "parents": [{"sha": "947430d5feb1e7b6fab4fe22155fcd899f85e3f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/947430d5feb1e7b6fab4fe22155fcd899f85e3f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/947430d5feb1e7b6fab4fe22155fcd899f85e3f2"}], "stats": {"total": 50, "additions": 47, "deletions": 3}, "files": [{"sha": "679a3350ba10d01d4bf4c0e2b7d84c566dde9029", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce417b8f3fd61e8cbf0bc5cbedac464b009458d4/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce417b8f3fd61e8cbf0bc5cbedac464b009458d4/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=ce417b8f3fd61e8cbf0bc5cbedac464b009458d4", "patch": "@@ -1,3 +1,17 @@\n+2010-10-05  Robert Dewar  <dewar@adacore.com>\n+\n+\t* par-ch5.adb (Test_Statement_Required): Allow all pragmas in Ada 2012\n+\tmode.\n+\n+2010-10-05  Pascal Obry  <obry@adacore.com>\n+\n+\t* gnat_rm.texi: Fix typo.\n+\n+2010-10-05  Arnaud Charlet  <charlet@adacore.com>\n+\n+\t* gnat_ugn.texi: Add note about identifiers with same name and\n+\t-fdump-ada-spec.\n+\n 2010-10-05  Robert Dewar  <dewar@adacore.com>\n \n \t* sem_ch4.adb: Minor reformatting."}, {"sha": "aca8c0420b8f9efe329181f7f1422166e2aee667", "filename": "gcc/ada/gnat_rm.texi", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce417b8f3fd61e8cbf0bc5cbedac464b009458d4/gcc%2Fada%2Fgnat_rm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce417b8f3fd61e8cbf0bc5cbedac464b009458d4/gcc%2Fada%2Fgnat_rm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_rm.texi?ref=ce417b8f3fd61e8cbf0bc5cbedac464b009458d4", "patch": "@@ -5688,7 +5688,7 @@ and implementation of the @code{Bit} attribute.\n @unnumberedsec Bit_Position\n @findex Bit_Position\n @noindent\n-@code{@var{R.C}'Bit}, where @var{R} is a record object and C is one\n+@code{@var{R.C}'Bit_Position}, where @var{R} is a record object and C is one\n of the fields of the record type, yields the bit\n offset within the record contains the first bit of\n storage allocated for the object.  The value of this attribute is of the"}, {"sha": "03d0976168a5909e4a815f8acf445173e75cc571", "filename": "gcc/ada/gnat_ugn.texi", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce417b8f3fd61e8cbf0bc5cbedac464b009458d4/gcc%2Fada%2Fgnat_ugn.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce417b8f3fd61e8cbf0bc5cbedac464b009458d4/gcc%2Fada%2Fgnat_ugn.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_ugn.texi?ref=ce417b8f3fd61e8cbf0bc5cbedac464b009458d4", "patch": "@@ -18107,6 +18107,8 @@ constants. Function macros (macros with arguments) are partially translated\n as comments, to be completed manually if needed.\n @item some extensions (e.g. vector types) are not supported\n @item pointers to pointers or complex structures are mapped to System.Address\n+@item identifiers with identical name (except casing) will generate compilation\n+      errors (e.g. @code{shm_get} vs @code{SHM_GET}).\n @end itemize\n \n The code generated is using the Ada 2005 syntax, which makes it"}, {"sha": "428dc7890aa71a3d346e27bcf68c79cd78b35aeb", "filename": "gcc/ada/par-ch5.adb", "status": "modified", "additions": 30, "deletions": 2, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce417b8f3fd61e8cbf0bc5cbedac464b009458d4/gcc%2Fada%2Fpar-ch5.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce417b8f3fd61e8cbf0bc5cbedac464b009458d4/gcc%2Fada%2Fpar-ch5.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fpar-ch5.adb?ref=ce417b8f3fd61e8cbf0bc5cbedac464b009458d4", "patch": "@@ -190,14 +190,40 @@ package body Ch5 is\n       -----------------------------\n \n       procedure Test_Statement_Required is\n+         function All_Pragmas return Boolean;\n+         --  Return True if statement list is all pragmas\n+\n+         -----------------\n+         -- All_Pragmas --\n+         -----------------\n+\n+         function All_Pragmas return Boolean is\n+            S : Node_Id;\n+         begin\n+            S := First (Statement_List);\n+            while Present (S) loop\n+               if Nkind (S) /= N_Pragma then\n+                  return False;\n+               else\n+                  Next (S);\n+               end if;\n+            end loop;\n+\n+            return True;\n+         end All_Pragmas;\n+\n+      --  Start of processing for Test_Statement_Required\n+\n       begin\n          if Statement_Required then\n \n-            --  Check no statement required after label in Ada 2012\n+            --  Check no statement required after label in Ada 2012, and that\n+            --  it is OK to have nothing but pragmas in a statement sequence.\n \n             if Ada_Version >= Ada_2012\n               and then not Is_Empty_List (Statement_List)\n-              and then Nkind (Last (Statement_List)) = N_Label\n+              and then (Nkind (Last (Statement_List)) = N_Label\n+                          or else All_Pragmas)\n             then\n                declare\n                   Null_Stm : constant Node_Id :=\n@@ -207,6 +233,8 @@ package body Ch5 is\n                   Append_To (Statement_List, Null_Stm);\n                end;\n \n+            --  All pragmas is OK on\n+\n             --  If not Ada 2012, or not special case above, give error message\n \n             else"}]}