{"sha": "4821f3090c0edaacc5f2730ac79d30612ec6b4b6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDgyMWYzMDkwYzBlZGFhY2M1ZjI3MzBhYzc5ZDMwNjEyZWM2YjRiNg==", "commit": {"author": {"name": "Roman Kennke", "email": "roman@kennke.org", "date": "2005-04-19T06:36:27Z"}, "committer": {"name": "Michael Koch", "email": "mkoch@gcc.gnu.org", "date": "2005-04-19T06:36:27Z"}, "message": "UIManager.java: Make the UIManager respect the swing.defaultlaf system property.\n\n2005-04-19  Roman Kennke  <roman@kennke.org>\n\n\t* javax/swing/UIManager.java:\n\tMake the UIManager respect the swing.defaultlaf system\n\tproperty.\n\nFrom-SVN: r98389", "tree": {"sha": "b0596663de7a931911104fcb08e7ade656cec8e2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b0596663de7a931911104fcb08e7ade656cec8e2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4821f3090c0edaacc5f2730ac79d30612ec6b4b6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4821f3090c0edaacc5f2730ac79d30612ec6b4b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4821f3090c0edaacc5f2730ac79d30612ec6b4b6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4821f3090c0edaacc5f2730ac79d30612ec6b4b6/comments", "author": null, "committer": null, "parents": [{"sha": "8fe0225bf820ca31efe6f5b348866b93fe2c387b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8fe0225bf820ca31efe6f5b348866b93fe2c387b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8fe0225bf820ca31efe6f5b348866b93fe2c387b"}], "stats": {"total": 27, "additions": 26, "deletions": 1}, "files": [{"sha": "fefa1be073210bfac803ad495dcf9a5586ca02d3", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4821f3090c0edaacc5f2730ac79d30612ec6b4b6/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4821f3090c0edaacc5f2730ac79d30612ec6b4b6/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=4821f3090c0edaacc5f2730ac79d30612ec6b4b6", "patch": "@@ -1,3 +1,9 @@\n+2005-04-19  Roman Kennke  <roman@kennke.org>\n+\n+\t* javax/swing/UIManager.java:\n+\tMake the UIManager respect the swing.defaultlaf system\n+\tproperty.\n+\n 2005-04-19  Tom Tromey  <tromey@redhat.com>\n \n \t* java/lang/natVMClassLoader.cc (loadClass): Call resolveClass,"}, {"sha": "dee67d9762eebd08a77f19acfcb2ee181365510d", "filename": "libjava/javax/swing/UIManager.java", "status": "modified", "additions": 20, "deletions": 1, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4821f3090c0edaacc5f2730ac79d30612ec6b4b6/libjava%2Fjavax%2Fswing%2FUIManager.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4821f3090c0edaacc5f2730ac79d30612ec6b4b6/libjava%2Fjavax%2Fswing%2FUIManager.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjavax%2Fswing%2FUIManager.java?ref=4821f3090c0edaacc5f2730ac79d30612ec6b4b6", "patch": "@@ -83,7 +83,26 @@ public String getClassName()\n   static LookAndFeel[] aux_installed;\n   \n   static LookAndFeel look_and_feel = new MetalLookAndFeel();\n-    \n+\n+  static\n+  {\n+    String defaultlaf = System.getProperty(\"swing.defaultlaf\");\n+    try {\n+      if (defaultlaf != null)\n+        {\n+          Class lafClass = Class.forName(defaultlaf);\n+          LookAndFeel laf = (LookAndFeel) lafClass.newInstance();\n+          setLookAndFeel(laf);\n+        }\n+    }\n+    catch (Exception ex)\n+      {\n+        System.err.println(\"cannot initialize Look and Feel: \" + defaultlaf);\n+        System.err.println(\"errot: \" + ex.getMessage());\n+        System.err.println(\"falling back to Metal Look and Feel\");\n+      }\n+  }\n+\n   public UIManager()\n   {\n     // Do nothing here."}]}