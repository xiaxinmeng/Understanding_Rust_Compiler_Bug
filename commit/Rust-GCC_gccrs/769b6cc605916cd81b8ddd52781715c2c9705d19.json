{"sha": "769b6cc605916cd81b8ddd52781715c2c9705d19", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzY5YjZjYzYwNTkxNmNkODFiOGRkZDUyNzgxNzE1YzJjOTcwNWQxOQ==", "commit": {"author": {"name": "Kyle Galloway", "email": "kgallowa@redhat.com", "date": "2007-05-17T18:53:10Z"}, "committer": {"name": "Kyle Galloway", "email": "kgallowa@gcc.gnu.org", "date": "2007-05-17T18:53:10Z"}, "message": "natVMMethod.cc (getModifiers): Check for native classes and mark methods as native appropriately.\n\n2007-05-17  Kyle Galloway  <kgallowa@redhat.com>\n\n\t* gnu/classpath/jdwp/natVMMethod.cc (getModifiers): Check for native\n\tclasses and mark methods as native appropriately.\n\nFrom-SVN: r124807", "tree": {"sha": "d6c87dd47999aa1805d4ff883e69d49f93804206", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d6c87dd47999aa1805d4ff883e69d49f93804206"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/769b6cc605916cd81b8ddd52781715c2c9705d19", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/769b6cc605916cd81b8ddd52781715c2c9705d19", "html_url": "https://github.com/Rust-GCC/gccrs/commit/769b6cc605916cd81b8ddd52781715c2c9705d19", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/769b6cc605916cd81b8ddd52781715c2c9705d19/comments", "author": null, "committer": null, "parents": [{"sha": "538639f4ab33f1a9f8c347a8f1e2369fdc4989e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/538639f4ab33f1a9f8c347a8f1e2369fdc4989e4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/538639f4ab33f1a9f8c347a8f1e2369fdc4989e4"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "16b82dc50a31df879386a2da1132c5910f6c06d6", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/769b6cc605916cd81b8ddd52781715c2c9705d19/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/769b6cc605916cd81b8ddd52781715c2c9705d19/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=769b6cc605916cd81b8ddd52781715c2c9705d19", "patch": "@@ -1,4 +1,9 @@\n-2007-05-17  Kyle Galloway <kgallowa@redhat.com>\n+2007-05-17  Kyle Galloway  <kgallowa@redhat.com>\n+\n+\t* gnu/classpath/jdwp/natVMMethod.cc (getModifiers): Check for native\n+\tclasses and mark methods as native appropriately.\n+\n+2007-05-17  Kyle Galloway  <kgallowa@redhat.com>\n \n \t* gnu/classpath/jdwp/VMFrame.java (<init>): Add parameter for \"this\"\n \tpointer."}, {"sha": "1cea54dae9d61b06135f71cf1055f18f5b144bc2", "filename": "libjava/gnu/classpath/jdwp/natVMMethod.cc", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/769b6cc605916cd81b8ddd52781715c2c9705d19/libjava%2Fgnu%2Fclasspath%2Fjdwp%2FnatVMMethod.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/769b6cc605916cd81b8ddd52781715c2c9705d19/libjava%2Fgnu%2Fclasspath%2Fjdwp%2FnatVMMethod.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fclasspath%2Fjdwp%2FnatVMMethod.cc?ref=769b6cc605916cd81b8ddd52781715c2c9705d19", "patch": "@@ -14,6 +14,7 @@ details.  */\n #include <jvmti.h>\n #include \"jvmti-int.h\"\n \n+#include <java/lang/reflect/Modifier.h>\n #include <gnu/classpath/jdwp/VMMethod.h>\n #include <gnu/classpath/jdwp/exception/AbsentInformationException.h>\n #include <gnu/classpath/jdwp/exception/InvalidMethodException.h>\n@@ -65,6 +66,12 @@ gnu::classpath::jdwp::VMMethod::getModifiers ()\n   jmethodID method = reinterpret_cast<jmethodID> (_methodId);\n   jint flags;\n   env->GetMethodModifiers (method, &flags);\n+\n+  // If this class is compiled, as far as JDWP is concerned, its methods are \n+  // native.  This will set the native flag for these methods.\n+  if (!_Jv_IsInterpretedClass (getDeclaringClass ()))\n+    flags |= ::java::lang::reflect::Modifier::NATIVE;\n+\n   return flags;\n }\n "}]}