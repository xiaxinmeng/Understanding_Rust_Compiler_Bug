{"sha": "6bf8c157bf8121f26182fc05182ec6c0c6ecf9e0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmJmOGMxNTdiZjgxMjFmMjYxODJmYzA1MTgyZWM2YzBjNmVjZjllMA==", "commit": {"author": {"name": "Tristan Gingold", "email": "gingold@adacore.com", "date": "2015-10-20T12:15:46Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2015-10-20T12:15:46Z"}, "message": "s-rident.ads: No_Task_At_Interrupt_Priority: New restriction.\n\n2015-10-20  Tristan Gingold  <gingold@adacore.com>\n\n\t* s-rident.ads: No_Task_At_Interrupt_Priority: New restriction.\n\t* sem_prag.adb (Analyze_Pragma): Check the restriction.\n\t* sem_ch13.adb (Analyze_Attribute_Definition_Clause):\n\tCheck the restriction (for aspects).\n\nFrom-SVN: r229063", "tree": {"sha": "e0ac56de57bdf0b086a199dc03aafbe995537020", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e0ac56de57bdf0b086a199dc03aafbe995537020"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6bf8c157bf8121f26182fc05182ec6c0c6ecf9e0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6bf8c157bf8121f26182fc05182ec6c0c6ecf9e0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6bf8c157bf8121f26182fc05182ec6c0c6ecf9e0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6bf8c157bf8121f26182fc05182ec6c0c6ecf9e0/comments", "author": {"login": "gingold-adacore", "id": 16334725, "node_id": "MDQ6VXNlcjE2MzM0NzI1", "avatar_url": "https://avatars.githubusercontent.com/u/16334725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gingold-adacore", "html_url": "https://github.com/gingold-adacore", "followers_url": "https://api.github.com/users/gingold-adacore/followers", "following_url": "https://api.github.com/users/gingold-adacore/following{/other_user}", "gists_url": "https://api.github.com/users/gingold-adacore/gists{/gist_id}", "starred_url": "https://api.github.com/users/gingold-adacore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gingold-adacore/subscriptions", "organizations_url": "https://api.github.com/users/gingold-adacore/orgs", "repos_url": "https://api.github.com/users/gingold-adacore/repos", "events_url": "https://api.github.com/users/gingold-adacore/events{/privacy}", "received_events_url": "https://api.github.com/users/gingold-adacore/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "da16002615ce7908f1599313dddc2e72702fcba9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da16002615ce7908f1599313dddc2e72702fcba9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/da16002615ce7908f1599313dddc2e72702fcba9"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "3461bd862591f8a595053202ca68941506604c3b", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6bf8c157bf8121f26182fc05182ec6c0c6ecf9e0/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6bf8c157bf8121f26182fc05182ec6c0c6ecf9e0/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=6bf8c157bf8121f26182fc05182ec6c0c6ecf9e0", "patch": "@@ -1,3 +1,10 @@\n+2015-10-20  Tristan Gingold  <gingold@adacore.com>\n+\n+\t* s-rident.ads: No_Task_At_Interrupt_Priority: New restriction.\n+\t* sem_prag.adb (Analyze_Pragma): Check the restriction.\n+\t* sem_ch13.adb (Analyze_Attribute_Definition_Clause):\n+\tCheck the restriction (for aspects).\n+\n 2015-10-20  Gary Dismukes  <dismukes@adacore.com>\n \n \t* sem_prag.adb: Minor reformatting."}, {"sha": "4fd71eb9badd2eb4f35dc009fdf651140fa23047", "filename": "gcc/ada/s-rident.ads", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6bf8c157bf8121f26182fc05182ec6c0c6ecf9e0/gcc%2Fada%2Fs-rident.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6bf8c157bf8121f26182fc05182ec6c0c6ecf9e0/gcc%2Fada%2Fs-rident.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-rident.ads?ref=6bf8c157bf8121f26182fc05182ec6c0c6ecf9e0", "patch": "@@ -144,6 +144,7 @@ package System.Rident is\n       No_Streams,                                -- GNAT\n       No_Task_Allocators,                        -- (RM D.7(7))\n       No_Task_Attributes_Package,                -- GNAT\n+      No_Task_At_Interrupt_Priority,             -- GNAT\n       No_Task_Hierarchy,                         -- (RM D.7(3), H.4(3))\n       No_Task_Termination,                       -- GNAT (Ravenscar)\n       No_Tasking,                                -- GNAT"}, {"sha": "7b5e1b84a151948eb98b8d95c12bbf9371fc1b00", "filename": "gcc/ada/sem_ch13.adb", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6bf8c157bf8121f26182fc05182ec6c0c6ecf9e0/gcc%2Fada%2Fsem_ch13.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6bf8c157bf8121f26182fc05182ec6c0c6ecf9e0/gcc%2Fada%2Fsem_ch13.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch13.adb?ref=6bf8c157bf8121f26182fc05182ec6c0c6ecf9e0", "patch": "@@ -5266,6 +5266,12 @@ package body Sem_Ch13 is\n                     (Expr, RTE (RE_Interrupt_Priority));\n \n                   Uninstall_Discriminants_And_Pop_Scope (U_Ent);\n+\n+                  --  Check the No_Task_At_Interrupt_Priority restriction\n+\n+                  if Is_Task_Type (U_Ent) then\n+                     Check_Restriction (No_Task_At_Interrupt_Priority, N);\n+                  end if;\n                end if;\n \n             else"}, {"sha": "46fbbe406fbf05656840251da858038e1c126622", "filename": "gcc/ada/sem_prag.adb", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6bf8c157bf8121f26182fc05182ec6c0c6ecf9e0/gcc%2Fada%2Fsem_prag.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6bf8c157bf8121f26182fc05182ec6c0c6ecf9e0/gcc%2Fada%2Fsem_prag.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_prag.adb?ref=6bf8c157bf8121f26182fc05182ec6c0c6ecf9e0", "patch": "@@ -15566,6 +15566,12 @@ package body Sem_Prag is\n \n                Check_Duplicate_Pragma (Ent);\n                Record_Rep_Item (Ent, N);\n+\n+               --  Check the No_Task_At_Interrupt_Priority restriction\n+\n+               if Nkind (P) = N_Task_Definition then\n+                  Check_Restriction (No_Task_At_Interrupt_Priority, N);\n+               end if;\n             end if;\n          end Interrupt_Priority;\n "}]}