{"sha": "2dbe8b7088abd37757aaa91d3cdacd3630b4438f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmRiZThiNzA4OGFiZDM3NzU3YWFhOTFkM2NkYWNkMzYzMGI0NDM4Zg==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2014-02-19T07:33:45Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2014-02-19T07:33:45Z"}, "message": "cgraph.c (cgraph_update_edges_for_call_stmt_node): Also remove inline clones when edge disappears.\n\n\t* cgraph.c (cgraph_update_edges_for_call_stmt_node): Also remove\n\tinline clones when edge disappears.\n\nFrom-SVN: r207875", "tree": {"sha": "593566aed076aafa66fb0f340d68322e073c0ab2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/593566aed076aafa66fb0f340d68322e073c0ab2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2dbe8b7088abd37757aaa91d3cdacd3630b4438f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2dbe8b7088abd37757aaa91d3cdacd3630b4438f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2dbe8b7088abd37757aaa91d3cdacd3630b4438f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2dbe8b7088abd37757aaa91d3cdacd3630b4438f/comments", "author": null, "committer": null, "parents": [{"sha": "cc28fc7fe9d488a5d5afb94038eea11f0c9a7d44", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc28fc7fe9d488a5d5afb94038eea11f0c9a7d44", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cc28fc7fe9d488a5d5afb94038eea11f0c9a7d44"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "315691a06b89f6433e460bc2004b96d0f9065c39", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2dbe8b7088abd37757aaa91d3cdacd3630b4438f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2dbe8b7088abd37757aaa91d3cdacd3630b4438f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2dbe8b7088abd37757aaa91d3cdacd3630b4438f", "patch": "@@ -1,3 +1,8 @@\n+2014-02-18  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* cgraph.c (cgraph_update_edges_for_call_stmt_node): Also remove\n+\tinline clones when edge disappears.\n+\n 2014-02-18  Michael Meissner  <meissner@linux.vnet.ibm.com>\n \n \tPR target/60203"}, {"sha": "a15b6bc7cfcbdfa525a3b314e51ca05ae9952321", "filename": "gcc/cgraph.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2dbe8b7088abd37757aaa91d3cdacd3630b4438f/gcc%2Fcgraph.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2dbe8b7088abd37757aaa91d3cdacd3630b4438f/gcc%2Fcgraph.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraph.c?ref=2dbe8b7088abd37757aaa91d3cdacd3630b4438f", "patch": "@@ -1529,7 +1529,10 @@ cgraph_update_edges_for_call_stmt_node (struct cgraph_node *node,\n \t     attached to edge is invalid.  */\n \t  count = e->count;\n \t  frequency = e->frequency;\n-\t  cgraph_remove_edge (e);\n+ \t  if (e->indirect_unknown_callee || e->inline_failed)\n+\t    cgraph_remove_edge (e);\n+\t  else\n+\t    cgraph_remove_node_and_inline_clones (e->callee, NULL);\n \t}\n       else if (new_call)\n \t{"}]}