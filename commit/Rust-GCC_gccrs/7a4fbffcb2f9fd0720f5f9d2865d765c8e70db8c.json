{"sha": "7a4fbffcb2f9fd0720f5f9d2865d765c8e70db8c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2E0ZmJmZmNiMmY5ZmQwNzIwZjVmOWQyODY1ZDc2NWM4ZTcwZGI4Yw==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2009-02-09T06:18:23Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2009-02-09T06:18:23Z"}, "message": "revert: tree-ssa-loop-ivopts.c (may_be_nonaddressable_p): Make case self-contained.\n\nRevert:\n\n\t* tree-ssa-loop-ivopts.c (may_be_nonaddressable_p) <VIEW_CONVERT_EXPR>:\n\tMake case self-contained.\n\t<ARRAY_REF>: Test TYPE_NONALIASED_COMPONENT flag.\n\nFrom-SVN: r144028", "tree": {"sha": "ad0c5bd754752c0be921db642d8bf8cd6fbb8ae7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ad0c5bd754752c0be921db642d8bf8cd6fbb8ae7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7a4fbffcb2f9fd0720f5f9d2865d765c8e70db8c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a4fbffcb2f9fd0720f5f9d2865d765c8e70db8c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a4fbffcb2f9fd0720f5f9d2865d765c8e70db8c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a4fbffcb2f9fd0720f5f9d2865d765c8e70db8c/comments", "author": null, "committer": null, "parents": [{"sha": "afbe166081f901f40dc35ba0141a42ac452d56ee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afbe166081f901f40dc35ba0141a42ac452d56ee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/afbe166081f901f40dc35ba0141a42ac452d56ee"}], "stats": {"total": 17, "additions": 6, "deletions": 11}, "files": [{"sha": "11c3612ee4ff61c35c68989542a3039faac297a1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a4fbffcb2f9fd0720f5f9d2865d765c8e70db8c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a4fbffcb2f9fd0720f5f9d2865d765c8e70db8c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7a4fbffcb2f9fd0720f5f9d2865d765c8e70db8c", "patch": "@@ -1,9 +1,3 @@\n-2009-02-08  Eric Botcazou  <ebotcazou@adacore.com>\n-\n-\t* tree-ssa-loop-ivopts.c (may_be_nonaddressable_p) <VIEW_CONVERT_EXPR>:\n-\tMake case self-contained.\n-\t<ARRAY_REF>: Test TYPE_NONALIASED_COMPONENT flag.\n-\n 2009-02-07  Anatoly Sokolov  <aesok@post.ru>\n \n \t* config/avr/avr.c (avr_mcu_t): Add ata6289 device."}, {"sha": "ca1ab98b85af6b6879918cad08ccf93c494d7e3b", "filename": "gcc/tree-ssa-loop-ivopts.c", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a4fbffcb2f9fd0720f5f9d2865d765c8e70db8c/gcc%2Ftree-ssa-loop-ivopts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a4fbffcb2f9fd0720f5f9d2865d765c8e70db8c/gcc%2Ftree-ssa-loop-ivopts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-ivopts.c?ref=7a4fbffcb2f9fd0720f5f9d2865d765c8e70db8c", "patch": "@@ -1562,14 +1562,15 @@ may_be_nonaddressable_p (tree expr)\n \t and make them look addressable.  After some processing the\n \t non-addressability may be uncovered again, causing ADDR_EXPRs\n \t of inappropriate objects to be built.  */\n-      return is_gimple_reg (TREE_OPERAND (expr, 0))\n-\t     || !is_gimple_addressable (TREE_OPERAND (expr, 0))\n-\t     || may_be_nonaddressable_p (TREE_OPERAND (expr, 0));\n+      if (is_gimple_reg (TREE_OPERAND (expr, 0))\n+\t  || !is_gimple_addressable (TREE_OPERAND (expr, 0)))\n+\treturn true;\n+\n+      /* ... fall through ... */\n \n     case ARRAY_REF:\n     case ARRAY_RANGE_REF:\n-      return TYPE_NONALIASED_COMPONENT (TREE_TYPE (TREE_OPERAND (expr, 0)))\n-\t     || may_be_nonaddressable_p (TREE_OPERAND (expr, 0));\n+      return may_be_nonaddressable_p (TREE_OPERAND (expr, 0));\n \n     CASE_CONVERT:\n       return true;"}]}