{"sha": "83c290e2d426bc1ee3ed4a91758738e0197cdff2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODNjMjkwZTJkNDI2YmMxZWUzZWQ0YTkxNzU4NzM4ZTAxOTdjZGZmMg==", "commit": {"author": {"name": "Ed Smith-Rowland", "email": "3dw4rd@verizon.net", "date": "2010-02-08T17:42:12Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2010-02-08T17:42:12Z"}, "message": "random.tcc (uniform_int_distribution<>:: operator()(_UniformRandomNumberGenerator&, const param_type&)): Use make_unsigned instead of __add_unsigned and conditional instead of...\n\n2010-02-08  Ed Smith-Rowland  <3dw4rd@verizon.net>\n\n\t* include/bits/random.tcc (uniform_int_distribution<>::\n\toperator()(_UniformRandomNumberGenerator&, const param_type&)):\n\tUse make_unsigned instead of __add_unsigned and conditional\n\tinstead of __conditional_type.\n\t* include/std/random: Do not include <ext/type_traits.h> and\n\t<ext/numeric_traits.h>.\n\nFrom-SVN: r156608", "tree": {"sha": "0a01259d2ec5d6e05a673e332f5e5a5912810a14", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0a01259d2ec5d6e05a673e332f5e5a5912810a14"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/83c290e2d426bc1ee3ed4a91758738e0197cdff2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83c290e2d426bc1ee3ed4a91758738e0197cdff2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/83c290e2d426bc1ee3ed4a91758738e0197cdff2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83c290e2d426bc1ee3ed4a91758738e0197cdff2/comments", "author": {"login": "emsr", "id": 1936479, "node_id": "MDQ6VXNlcjE5MzY0Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1936479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emsr", "html_url": "https://github.com/emsr", "followers_url": "https://api.github.com/users/emsr/followers", "following_url": "https://api.github.com/users/emsr/following{/other_user}", "gists_url": "https://api.github.com/users/emsr/gists{/gist_id}", "starred_url": "https://api.github.com/users/emsr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emsr/subscriptions", "organizations_url": "https://api.github.com/users/emsr/orgs", "repos_url": "https://api.github.com/users/emsr/repos", "events_url": "https://api.github.com/users/emsr/events{/privacy}", "received_events_url": "https://api.github.com/users/emsr/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "783b008c606ae86ca76a703e3e3491bdc956be6a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/783b008c606ae86ca76a703e3e3491bdc956be6a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/783b008c606ae86ca76a703e3e3491bdc956be6a"}], "stats": {"total": 25, "additions": 15, "deletions": 10}, "files": [{"sha": "4365a432a28a78acdf19c4b4318a9379e5814ec0", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83c290e2d426bc1ee3ed4a91758738e0197cdff2/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83c290e2d426bc1ee3ed4a91758738e0197cdff2/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=83c290e2d426bc1ee3ed4a91758738e0197cdff2", "patch": "@@ -1,3 +1,12 @@\n+2010-02-08  Ed Smith-Rowland  <3dw4rd@verizon.net>\n+\n+\t* include/bits/random.tcc (uniform_int_distribution<>::\n+\toperator()(_UniformRandomNumberGenerator&, const param_type&)):\n+\tUse make_unsigned instead of __add_unsigned and conditional\n+\tinstead of __conditional_type.\n+\t* include/std/random: Do not include <ext/type_traits.h> and\n+\t<ext/numeric_traits.h>.\n+\n 2010-02-07  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR libstdc++/16896"}, {"sha": "080a1dad88d491481bc318a5215599183e7754f2", "filename": "libstdc++-v3/include/bits/random.tcc", "status": "modified", "additions": 5, "deletions": 7, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83c290e2d426bc1ee3ed4a91758738e0197cdff2/libstdc%2B%2B-v3%2Finclude%2Fbits%2Frandom.tcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83c290e2d426bc1ee3ed4a91758738e0197cdff2/libstdc%2B%2B-v3%2Finclude%2Fbits%2Frandom.tcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Frandom.tcc?ref=83c290e2d426bc1ee3ed4a91758738e0197cdff2", "patch": "@@ -822,13 +822,11 @@ namespace std\n \t// __urng.min(), __param.b(), __param.a().  Currently works fine only\n \t// in the most common case __urng.max() - __urng.min() >=\n \t// __param.b() - __param.a(), with __urng.max() > __urng.min() >= 0.\n-\ttypedef typename __gnu_cxx::__add_unsigned<typename\n-\t  _UniformRandomNumberGenerator::result_type>::__type __urntype;\n-\ttypedef typename __gnu_cxx::__add_unsigned<result_type>::__type\n-\t\t\t\t\t\t\t      __utype;\n-\ttypedef typename __gnu_cxx::__conditional_type<(sizeof(__urntype)\n-\t\t\t\t\t\t\t> sizeof(__utype)),\n-\t  __urntype, __utype>::__type                         __uctype;\n+\ttypedef typename std::make_unsigned<typename\n+\t  _UniformRandomNumberGenerator::result_type>::type __urntype;\n+\ttypedef typename std::make_unsigned<result_type>::type __utype;\n+\ttypedef typename std::conditional<(sizeof(__urntype) > sizeof(__utype)),\n+\t  __urntype, __utype>::type __uctype;\n \n \tresult_type __ret;\n "}, {"sha": "c1c7cdfda4560afb743087f5014df62a302a1b22", "filename": "libstdc++-v3/include/std/random", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83c290e2d426bc1ee3ed4a91758738e0197cdff2/libstdc%2B%2B-v3%2Finclude%2Fstd%2Frandom", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83c290e2d426bc1ee3ed4a91758738e0197cdff2/libstdc%2B%2B-v3%2Finclude%2Fstd%2Frandom", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Frandom?ref=83c290e2d426bc1ee3ed4a91758738e0197cdff2", "patch": "@@ -1,6 +1,6 @@\n // <random> -*- C++ -*-\n \n-// Copyright (C) 2007, 2008, 2009 Free Software Foundation, Inc.\n+// Copyright (C) 2007, 2008, 2009, 2010 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -41,8 +41,6 @@\n #include <string>\n #include <iosfwd>\n #include <limits>\n-#include <ext/type_traits.h>\n-#include <ext/numeric_traits.h>\n #include <debug/debug.h>\n #include <type_traits>\n "}]}