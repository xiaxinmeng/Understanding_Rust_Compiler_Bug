{"sha": "34520c98a161ccde675d8cf90365eaf653e8c762", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzQ1MjBjOThhMTYxY2NkZTY3NWQ4Y2Y5MDM2NWVhZjY1M2U4Yzc2Mg==", "commit": {"author": {"name": "Eric Christopher", "email": "echristo@gcc.gnu.org", "date": "2007-03-28T23:08:26Z"}, "committer": {"name": "Eric Christopher", "email": "echristo@gcc.gnu.org", "date": "2007-03-28T23:08:26Z"}, "message": "target-supports.exp (check_effective_target_fstack_protector): New.\n\n2007-03-28  Eric Christopher  <echristo@apple.com>\n\n        * lib/target-supports.exp (check_effective_target_fstack_protector): New.\n        * gcc.dg/ssp-1.c: Use.\n        * gcc.dg/ssp-2.c: Ditto.\n\nFrom-SVN: r123314", "tree": {"sha": "681a2987ea634275619dd4486e59cb7312346c68", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/681a2987ea634275619dd4486e59cb7312346c68"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/34520c98a161ccde675d8cf90365eaf653e8c762", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/34520c98a161ccde675d8cf90365eaf653e8c762", "html_url": "https://github.com/Rust-GCC/gccrs/commit/34520c98a161ccde675d8cf90365eaf653e8c762", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/34520c98a161ccde675d8cf90365eaf653e8c762/comments", "author": null, "committer": null, "parents": [{"sha": "aafc814c7bbf7c176d50a99a3bbf898bc1c2c5dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aafc814c7bbf7c176d50a99a3bbf898bc1c2c5dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aafc814c7bbf7c176d50a99a3bbf898bc1c2c5dd"}], "stats": {"total": 36, "additions": 27, "deletions": 9}, "files": [{"sha": "a869fb60fbef4f015ab1614039e0e704f0f7d50a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 15, "deletions": 9, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/34520c98a161ccde675d8cf90365eaf653e8c762/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/34520c98a161ccde675d8cf90365eaf653e8c762/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=34520c98a161ccde675d8cf90365eaf653e8c762", "patch": "@@ -1,3 +1,9 @@\n+2007-03-28  Eric Christopher  <echristo@apple.com>\n+\n+\t* lib/target-supports.exp (check_effective_target_fstack_protector): New.\n+\t* gcc.dg/ssp-1.c: Use.\n+\t* gcc.dg/ssp-2.c: Ditto.\n+\n 2007-03-28  Simon Martin  <simartin@users.sourceforge.net>\n \n \tPR c++/29077\n@@ -25,7 +31,7 @@\n \n \tPR c++/29993\n \t* g++.dg/other/cv_func2.C: New.\n-\t\n+\n 2007-03-27  Janis Johnson  <janis187@us.ibm.com>\n \n \t* gcc.dg/dfp/func-vararg-alternate.h: New file.\n@@ -36,7 +42,7 @@\n \t* gcc.dg/dfp/func-vararg-mixed.c: Add optional debugging output.\n \t* gcc.dg/dfp/func-vararg-dfp.c: Ditto.\n \n-\t* gcc.dg/dfp/operator-cond.c: Call init, fix typo.\t\n+\t* gcc.dg/dfp/operator-cond.c: Call init, fix typo.\n \n \t* lib/compat.exp (compat-execute): Fix processing of file names.\n \n@@ -57,7 +63,7 @@\n \t* g++.dg/warn/pragma-system_header1.C: New test.\n \t* g++.dg/warn/pragma-system_header2.C: New test.\n \t* g++.dg/warn/pragma-system_header1.h. New.\n-\t* g++.dg/warn/pragma-system_header2.h. New.\t\n+\t* g++.dg/warn/pragma-system_header2.h. New.\n \n 2007-03-26  Ian Lance Taylor  <iant@google.com>\n \n@@ -176,7 +182,7 @@\n \t* gcc.dg/float-range-1.c: Update. Test for a warning.\n \t* gcc.dg/float-range-3.c: New.\n \t* gcc.dg/float-range-5.c: New.\n-\t\n+\n 2007-03-22  Francois-Xavier Coudert  <coudert@clipper.ens.fr>\n \n \tPR fortran/31262\n@@ -300,7 +306,7 @@\n \t* g++.old-deja/g++.eh/cleanup1.C: Likewise.\n \t* g++.old-deja/g++.bob/template3.C: Likewise.\n \t* g++.old-deja/g++.bob/inherit1.C: Likewise.\n-\t\n+\n 2007-03-22  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/31193\n@@ -394,7 +400,7 @@\n \n \t* gcc.dg/vect/no-tree-dom-vect-bug.c: New test.\n \t* gcc.dg/vect/vect.exp: Compile tests with -fno-tree-dominator-opts.\n- \n+\n 2007-03-17  Francois-Xavier Coudert  <coudert@clipper.ens.fr>\n \n \tPR fortran/31120\n@@ -411,7 +417,7 @@\n \t* g++.dg/warn/Wconversion-real.C: New.\n \t* g++.dg/warn/Wconversion-real-integer.C: New.\n \t* g++.dg/warn/conv2.C: Updated.\n-\t\n+\n 2007-03-16  Richard Sandiford  <richard@codesourcery.com>\n \n \t* gcc.dg/intmax_t-1.c: Restrict XFAIL to VxWorks kernels;\n@@ -450,13 +456,13 @@\n \n \tPR c++/30891\n \t* g++.dg/parse/namespace-definition.C: New.\n-\t\n+\n 2007-03-15  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n \n \tPR c++/24924\n \t* g++.dg/cpp/pedantic-errors.C: New.\n \t* g++.dg/cpp/permissive.C: New.\n-\t\n+\n 2007-03-15  Richard Sandiford  <richard@codesourcery.com>\n \n \t* g++.dg/opt/mmx1.C: Only use the PIC options for fpic targets."}, {"sha": "e71522bbfd3363b5f0a707821b9874067f0e508c", "filename": "gcc/testsuite/gcc.dg/ssp-1.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/34520c98a161ccde675d8cf90365eaf653e8c762/gcc%2Ftestsuite%2Fgcc.dg%2Fssp-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/34520c98a161ccde675d8cf90365eaf653e8c762/gcc%2Ftestsuite%2Fgcc.dg%2Fssp-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fssp-1.c?ref=34520c98a161ccde675d8cf90365eaf653e8c762", "patch": "@@ -1,5 +1,7 @@\n /* { dg-do run { target native } } */\n /* { dg-options \"-fstack-protector\" } */\n+/* { dg-require-effective-target fstack_protector } */\n+\n #include <stdlib.h>\n \n static void"}, {"sha": "493f3c92d3a567cf492a6065507c7226a615e6e8", "filename": "gcc/testsuite/gcc.dg/ssp-2.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/34520c98a161ccde675d8cf90365eaf653e8c762/gcc%2Ftestsuite%2Fgcc.dg%2Fssp-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/34520c98a161ccde675d8cf90365eaf653e8c762/gcc%2Ftestsuite%2Fgcc.dg%2Fssp-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fssp-2.c?ref=34520c98a161ccde675d8cf90365eaf653e8c762", "patch": "@@ -1,5 +1,7 @@\n /* { dg-do run { target native } } */\n /* { dg-options \"-fstack-protector\" } */\n+/* { dg-require-effective-target fstack_protector } */\n+\n #include <stdlib.h>\n \n void"}, {"sha": "47e6ba9e8317a752c5563cda4c9e5c33d1856e77", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/34520c98a161ccde675d8cf90365eaf653e8c762/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/34520c98a161ccde675d8cf90365eaf653e8c762/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=34520c98a161ccde675d8cf90365eaf653e8c762", "patch": "@@ -491,6 +491,14 @@ proc check_effective_target_fopenmp {} {\n     } \"-fopenmp\"]\n }\n \n+# Return 1 if the target supports -fstack-protector\n+\n+proc check_effective_target_fstack_protector {} {\n+    return [check_no_compiler_messages fstack_protector assembly {\n+        void foo (void) { }\n+    } \"-fstack-protector\"]\n+}\n+\n # Return 1 if compilation with -freorder-blocks-and-partition is error-free\n # for trivial code, 0 otherwise.\n "}]}