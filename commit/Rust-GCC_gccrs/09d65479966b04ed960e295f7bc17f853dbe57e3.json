{"sha": "09d65479966b04ed960e295f7bc17f853dbe57e3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDlkNjU0Nzk5NjZiMDRlZDk2MGUyOTVmN2JjMTdmODUzZGJlNTdlMw==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-06-12T17:43:42Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-06-12T17:43:42Z"}, "message": "(add_dependence): Reject CODE_LABELs when searching for\nlast insn of a sched group.\n\nFrom-SVN: r4667", "tree": {"sha": "38c3f161a3402b74fc0012e7c4cdb572f78a9b5a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/38c3f161a3402b74fc0012e7c4cdb572f78a9b5a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/09d65479966b04ed960e295f7bc17f853dbe57e3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/09d65479966b04ed960e295f7bc17f853dbe57e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/09d65479966b04ed960e295f7bc17f853dbe57e3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/09d65479966b04ed960e295f7bc17f853dbe57e3/comments", "author": null, "committer": null, "parents": [{"sha": "785e6a26dace53cebed12db30f33169d25c0c719", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/785e6a26dace53cebed12db30f33169d25c0c719", "html_url": "https://github.com/Rust-GCC/gccrs/commit/785e6a26dace53cebed12db30f33169d25c0c719"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "2fec9bcf9bbbd808f12e14f0f7a608f9333c7b08", "filename": "gcc/sched.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/09d65479966b04ed960e295f7bc17f853dbe57e3/gcc%2Fsched.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/09d65479966b04ed960e295f7bc17f853dbe57e3/gcc%2Fsched.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsched.c?ref=09d65479966b04ed960e295f7bc17f853dbe57e3", "patch": "@@ -844,7 +844,12 @@ add_dependence (insn, elem, dep_type)\n     {\n       /* Notes will never intervene here though, so don't bother checking\n \t for them.  */\n-      while (NEXT_INSN (next) && SCHED_GROUP_P (NEXT_INSN (next)))\n+      /* We must reject CODE_LABELs, so that we don't get confused by one\n+\t that has LABEL_PRESERVE_P set, which is represented by the same\n+\t bit in the rtl as SCHED_GROUP_P.  A CODE_LABEL can never be\n+\t SCHED_GROUP_P.  */\n+      while (NEXT_INSN (next) && SCHED_GROUP_P (NEXT_INSN (next))\n+\t     && GET_CODE (NEXT_INSN (next)) != CODE_LABEL)\n \tnext = NEXT_INSN (next);\n \n       /* Again, don't depend an insn on itself.  */"}]}