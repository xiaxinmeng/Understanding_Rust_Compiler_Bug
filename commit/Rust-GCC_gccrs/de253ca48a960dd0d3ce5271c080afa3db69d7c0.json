{"sha": "de253ca48a960dd0d3ce5271c080afa3db69d7c0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGUyNTNjYTQ4YTk2MGRkMGQzY2U1MjcxYzA4MGFmYTNkYjY5ZDdjMA==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@apple.com", "date": "2004-11-02T21:16:51Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2004-11-02T21:16:51Z"}, "message": "configure.ac: Don't clear STMP_FIXINC or STMP_FIXPROTO just because we don't want to run them...\n\n\t* configure.ac: Don't clear STMP_FIXINC or STMP_FIXPROTO just\n\tbecause we don't want to run them now; instead, set them to\n\tstmp-install-fixproto or stmp-install-fixinc.\n\t* Makefile.in (stmp-install-fixproto): New.\n\t(stmp-install-fixinc): New.\n\t* configure: Regenerate.\n\nFrom-SVN: r89999", "tree": {"sha": "31305602cb10fa28129751b17c518d6490193999", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/31305602cb10fa28129751b17c518d6490193999"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/de253ca48a960dd0d3ce5271c080afa3db69d7c0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de253ca48a960dd0d3ce5271c080afa3db69d7c0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de253ca48a960dd0d3ce5271c080afa3db69d7c0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de253ca48a960dd0d3ce5271c080afa3db69d7c0/comments", "author": {"login": "geoffk01", "id": 31905243, "node_id": "MDQ6VXNlcjMxOTA1MjQz", "avatar_url": "https://avatars.githubusercontent.com/u/31905243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geoffk01", "html_url": "https://github.com/geoffk01", "followers_url": "https://api.github.com/users/geoffk01/followers", "following_url": "https://api.github.com/users/geoffk01/following{/other_user}", "gists_url": "https://api.github.com/users/geoffk01/gists{/gist_id}", "starred_url": "https://api.github.com/users/geoffk01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geoffk01/subscriptions", "organizations_url": "https://api.github.com/users/geoffk01/orgs", "repos_url": "https://api.github.com/users/geoffk01/repos", "events_url": "https://api.github.com/users/geoffk01/events{/privacy}", "received_events_url": "https://api.github.com/users/geoffk01/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f7569f3a0f8f97141b08bb5c8ac58fcbc7eeccf2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7569f3a0f8f97141b08bb5c8ac58fcbc7eeccf2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f7569f3a0f8f97141b08bb5c8ac58fcbc7eeccf2"}], "stats": {"total": 37, "additions": 31, "deletions": 6}, "files": [{"sha": "51cf826969409f8346389afd17323fcf4652cbbd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de253ca48a960dd0d3ce5271c080afa3db69d7c0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de253ca48a960dd0d3ce5271c080afa3db69d7c0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=de253ca48a960dd0d3ce5271c080afa3db69d7c0", "patch": "@@ -1,3 +1,12 @@\n+2004-11-02  Geoffrey Keating  <geoffk@apple.com>\n+\n+\t* configure.ac: Don't clear STMP_FIXINC or STMP_FIXPROTO just\n+\tbecause we don't want to run them now; instead, set them to\n+\tstmp-install-fixproto or stmp-install-fixinc.\n+\t* Makefile.in (stmp-install-fixproto): New.\n+\t(stmp-install-fixinc): New.\n+\t* configure: Regenerate.\n+\n 2004-11-02  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* flow.c (init_propagate_block_info): Use bitmap_empty_p on result"}, {"sha": "125dee4fec156bd302e06966b01ece4974017fb4", "filename": "gcc/Makefile.in", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de253ca48a960dd0d3ce5271c080afa3db69d7c0/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de253ca48a960dd0d3ce5271c080afa3db69d7c0/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=de253ca48a960dd0d3ce5271c080afa3db69d7c0", "patch": "@@ -2829,6 +2829,12 @@ stmp-fixinc: fixinc.sh gsyslimits.h specs.ready\n \tchmod a+r include/syslimits.h)\n \t$(STAMP) stmp-fixinc\n \n+# We can't run fixinc (it's being built for a different host), but we still\n+# need to install it so that the user can run it when the compiler is\n+# installed.\n+stmp-install-fixinc: fixinc.sh gsyslimits.h\n+\t$(STAMP) $@\n+\n # Files related to the fixproto script.\n # gen-protos and fix-header are compiled with CC_FOR_BUILD, but they are only\n # used in native and host-x-target builds, so it's safe to link them with\n@@ -2909,6 +2915,12 @@ stmp-fixproto: fixhdr.ready fixproto stmp-int-hdrs\n \t  $(STAMP) include/fixed; \\\n \tfi\n \t$(STAMP) stmp-fixproto\n+\n+# We can't run fixproto (it's being built for a different host), but we still\n+# need to install it so that the user can run it when the compiler is\n+# installed.\n+stmp-install-fixproto: fixproto\n+\t$(STAMP) $@\n #\f\n # Remake the info files.\n "}, {"sha": "2b71fedfb65ed34860fc8549ccdb37349c795efb", "filename": "gcc/configure", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de253ca48a960dd0d3ce5271c080afa3db69d7c0/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de253ca48a960dd0d3ce5271c080afa3db69d7c0/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=de253ca48a960dd0d3ce5271c080afa3db69d7c0", "patch": "@@ -12683,15 +12683,17 @@ then\n     BUILD_CFLAGS='$(INTERNAL_CFLAGS) $(T_CFLAGS) $(CFLAGS_FOR_BUILD)'\n \n     if test \"x$TARGET_SYSTEM_ROOT\" = x; then\n-\tSTMP_FIXINC=\n-\tSTMP_FIXPROTO=\n+\tSTMP_FIXINC=stmp-install-fixinc\n+\tif  \"x$STMP_FIXPROTO\" != x  ; then\n+\t  STMP_FIXPROTO=stmp-install-fixproto\n+\tfi\n     fi\n fi\n \n # When bootstrapping from the toplevel, only run fixincludes during stage1\n if test -d ../prev-gcc\n then\n-    STMP_FIXINC=\n+    STMP_FIXINC=stmp-install-fixinc\n     cp -R ../prev-gcc/include include\n fi\n "}, {"sha": "e5be4eefcc5d516fb051768e8fd3c0e78b131714", "filename": "gcc/configure.ac", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de253ca48a960dd0d3ce5271c080afa3db69d7c0/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de253ca48a960dd0d3ce5271c080afa3db69d7c0/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=de253ca48a960dd0d3ce5271c080afa3db69d7c0", "patch": "@@ -1684,15 +1684,17 @@ then\n     BUILD_CFLAGS='$(INTERNAL_CFLAGS) $(T_CFLAGS) $(CFLAGS_FOR_BUILD)'\n \n     if test \"x$TARGET_SYSTEM_ROOT\" = x; then\n-\tSTMP_FIXINC=\n-\tSTMP_FIXPROTO=\n+\tSTMP_FIXINC=stmp-install-fixinc\n+\tif [ \"x$STMP_FIXPROTO\" != x ] ; then\n+\t  STMP_FIXPROTO=stmp-install-fixproto\n+\tfi\n     fi\n fi\n \n # When bootstrapping from the toplevel, only run fixincludes during stage1\n if test -d ../prev-gcc\n then\n-    STMP_FIXINC=\n+    STMP_FIXINC=stmp-install-fixinc\n     cp -R ../prev-gcc/include include\n fi\n "}]}