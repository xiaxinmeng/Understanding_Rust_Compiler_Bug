{"sha": "d0c3e4f4987cc0e0e0a8880554593ebace217b00", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDBjM2U0ZjQ5ODdjYzBlMGUwYTg4ODA1NTQ1OTNlYmFjZTIxN2IwMA==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@bitrange.com", "date": "2000-11-23T11:30:46Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2000-11-23T11:30:46Z"}, "message": "os_defines.h: Include <features.h>.\n\n\t* config/os/gnu-linux/bits/os_defines.h: Include <features.h>.\n\tIf not glibc 2.1 or higher, include <gnu/types.h> and define\n\t__off64_t as __loff_t and #define __THROW as empty.\n\n\t* libio/libio.h [__P]: Move __THROW and __PMT into their own\n\tifndef:s.\n\nFrom-SVN: r37695", "tree": {"sha": "139f6032bf8661cbe50be0e498bf661949702035", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/139f6032bf8661cbe50be0e498bf661949702035"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d0c3e4f4987cc0e0e0a8880554593ebace217b00", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d0c3e4f4987cc0e0e0a8880554593ebace217b00", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d0c3e4f4987cc0e0e0a8880554593ebace217b00", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d0c3e4f4987cc0e0e0a8880554593ebace217b00/comments", "author": null, "committer": null, "parents": [{"sha": "99a9c9460d48b857f4aca5667724e3dbf920a114", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99a9c9460d48b857f4aca5667724e3dbf920a114", "html_url": "https://github.com/Rust-GCC/gccrs/commit/99a9c9460d48b857f4aca5667724e3dbf920a114"}], "stats": {"total": 38, "additions": 36, "deletions": 2}, "files": [{"sha": "0f6c3fdb1833f63a5805a304a9c45d5ba0246d4c", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d0c3e4f4987cc0e0e0a8880554593ebace217b00/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d0c3e4f4987cc0e0e0a8880554593ebace217b00/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=d0c3e4f4987cc0e0e0a8880554593ebace217b00", "patch": "@@ -1,3 +1,12 @@\n+2000-11-23  Hans-Peter Nilsson  <hp@bitrange.com>\n+\n+\t* config/os/gnu-linux/bits/os_defines.h: Include <features.h>.\n+\tIf not glibc 2.1 or higher, include <gnu/types.h> and define\n+\t__off64_t as __loff_t and #define __THROW as empty.\n+\n+\t* libio/libio.h [__P]: Move __THROW and __PMT into their own\n+\tifndef:s.\n+\n 2000-11-23  David Edelsohn  <edelsohn@gnu.org>\n \n \t* porting.texi: Expand libtool information."}, {"sha": "3289d0c5ad4750ac960a1fe2eede34b9f5f1f204", "filename": "libstdc++-v3/config/os/gnu-linux/bits/os_defines.h", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d0c3e4f4987cc0e0e0a8880554593ebace217b00/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fgnu-linux%2Fbits%2Fos_defines.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d0c3e4f4987cc0e0e0a8880554593ebace217b00/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fgnu-linux%2Fbits%2Fos_defines.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fgnu-linux%2Fbits%2Fos_defines.h?ref=d0c3e4f4987cc0e0e0a8880554593ebace217b00", "patch": "@@ -40,6 +40,25 @@\n // This keeps isanum, et al from being propagated as macros.\n #define __NO_CTYPE 1\n \n+#include <features.h>\n+\n+#if !defined (__GLIBC__) || (__GLIBC__ == 2 && __GLIBC_MINOR__+0 == 0)\n+\n+// The types __off_t and __off64_t are not defined through <sys/types.h>\n+// as _G_config assumes.  For libc5 and glibc 2.0 instead use\n+// <gnu/types.h> and the old name for __off64_t.\n+#include <gnu/types.h>\n+typedef __loff_t __off64_t;\n+\n+// These systems have declarations mismatching those in libio.h by\n+// omitting throw qualifiers.  Cleanest way out is to not provide\n+// throw-qualifiers at all.  Defining it as empty here will make libio.h\n+// not define it.\n+#undef __THROW\n+#define __THROW\n+\n+#endif /* not glibc 2.1 or higher.  */\n+\n # if defined __GLIBC__ && __GLIBC__ >= 2\n // We must not see the optimized string functions GNU libc defines.\n #  define __NO_STRING_INLINES"}, {"sha": "68525a7de6b1c1a1cf0e9061c54808fa3eb40dc0", "filename": "libstdc++-v3/libio/libio.h", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d0c3e4f4987cc0e0e0a8880554593ebace217b00/libstdc%2B%2B-v3%2Flibio%2Flibio.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d0c3e4f4987cc0e0e0a8880554593ebace217b00/libstdc%2B%2B-v3%2Flibio%2Flibio.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Flibio%2Flibio.h?ref=d0c3e4f4987cc0e0e0a8880554593ebace217b00", "patch": "@@ -55,15 +55,21 @@\n # endif /* __GNUC_VA_LIST */\n #endif\n \n-#ifndef __P\n+#ifndef __THROW\n # ifdef __cplusplus\n #  define __THROW throw ()\n # else\n #  define __THROW\n # endif\n+#endif /* not __THROW */\n+\n+#ifndef __P\n # define __P(p) p __THROW\n+#endif /* not __P */\n+\n+#ifndef __PMT\n # define __PMT(p) p\n-#endif /*!__P*/\n+#endif /* not __PMT */\n \n /* For backward compatibility */\n #ifndef _PARAMS"}]}