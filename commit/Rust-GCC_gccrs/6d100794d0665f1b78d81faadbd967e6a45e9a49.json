{"sha": "6d100794d0665f1b78d81faadbd967e6a45e9a49", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmQxMDA3OTRkMDY2NWYxYjc4ZDgxZmFhZGJkOTY3ZTZhNDVlOWE0OQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-05-11T20:23:11Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-05-11T20:23:11Z"}, "message": "(expand_builtin_apply): Put new function usage data at end of any data\nalready there.\n\nFrom-SVN: r7274", "tree": {"sha": "0f41ff986aaf9d88c4a665b347b9bc54e9a0ce01", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0f41ff986aaf9d88c4a665b347b9bc54e9a0ce01"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6d100794d0665f1b78d81faadbd967e6a45e9a49", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d100794d0665f1b78d81faadbd967e6a45e9a49", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d100794d0665f1b78d81faadbd967e6a45e9a49", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d100794d0665f1b78d81faadbd967e6a45e9a49/comments", "author": null, "committer": null, "parents": [{"sha": "e59e60a78f6e12dabf8b71a44465e9b91422ce3b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e59e60a78f6e12dabf8b71a44465e9b91422ce3b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e59e60a78f6e12dabf8b71a44465e9b91422ce3b"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "244a84c57eeca497d8e7b867b4b83b170bac848e", "filename": "gcc/expr.c", "status": "modified", "additions": 14, "deletions": 2, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6d100794d0665f1b78d81faadbd967e6a45e9a49/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6d100794d0665f1b78d81faadbd967e6a45e9a49/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=6d100794d0665f1b78d81faadbd967e6a45e9a49", "patch": "@@ -7817,8 +7817,20 @@ expand_builtin_apply (function, arguments, argsize)\n   if (! call_insn)\n     abort ();\n \n-  /* Put the register usage information on the CALL.  */\n-  CALL_INSN_FUNCTION_USAGE (call_insn) = call_fusage;\n+  /* Put the register usage information on the CALL.  If there is already\n+     some usage information, put ours at the end.  */\n+  if (CALL_INSN_FUNCTION_USAGE (call_insn))\n+    {\n+      rtx link;\n+\n+      for (link = CALL_INSN_FUNCTION_USAGE (call_insn); XEXP (link, 1) != 0;\n+\t   link = XEXP (link, 1))\n+\t;\n+\n+      XEXP (link, 1) = call_fusage;\n+    }\n+  else\n+    CALL_INSN_FUNCTION_USAGE (call_insn) = call_fusage;\n \n   /* Restore the stack.  */\n   emit_stack_restore (SAVE_BLOCK, old_stack_level, NULL_RTX);"}]}