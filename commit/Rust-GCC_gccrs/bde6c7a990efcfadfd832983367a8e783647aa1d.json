{"sha": "bde6c7a990efcfadfd832983367a8e783647aa1d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmRlNmM3YTk5MGVmY2ZhZGZkODMyOTgzMzY3YThlNzgzNjQ3YWExZA==", "commit": {"author": {"name": "Keith Seitz", "email": "keiths@redhat.com", "date": "2007-03-13T19:27:13Z"}, "committer": {"name": "Keith Seitz", "email": "kseitz@gcc.gnu.org", "date": "2007-03-13T19:27:13Z"}, "message": "java-interp.h (_Jv_InterpClass): Declare friend function _Jv_GetInterpClassSourceFile.\n\n        * include/java-interp.h (_Jv_InterpClass): Declare\n        friend function _Jv_GetInterpClassSourceFile.\n        * java/lang/Class.h (Class): Likewise.\n        * java/lang/natClass.cc (_Jv_GetInterpClassSourceFile):\n        New function.\n        * gnu/classpath/jdwp/natVMVirtualMachine.cc\n        (getSourceFile): Implement.\n\nFrom-SVN: r122882", "tree": {"sha": "84c60497e614863868aee45041d96dd1611f3f1f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/84c60497e614863868aee45041d96dd1611f3f1f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bde6c7a990efcfadfd832983367a8e783647aa1d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bde6c7a990efcfadfd832983367a8e783647aa1d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bde6c7a990efcfadfd832983367a8e783647aa1d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bde6c7a990efcfadfd832983367a8e783647aa1d/comments", "author": {"login": "shtiek", "id": 107581324, "node_id": "U_kgDOBmmPjA", "avatar_url": "https://avatars.githubusercontent.com/u/107581324?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shtiek", "html_url": "https://github.com/shtiek", "followers_url": "https://api.github.com/users/shtiek/followers", "following_url": "https://api.github.com/users/shtiek/following{/other_user}", "gists_url": "https://api.github.com/users/shtiek/gists{/gist_id}", "starred_url": "https://api.github.com/users/shtiek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shtiek/subscriptions", "organizations_url": "https://api.github.com/users/shtiek/orgs", "repos_url": "https://api.github.com/users/shtiek/repos", "events_url": "https://api.github.com/users/shtiek/events{/privacy}", "received_events_url": "https://api.github.com/users/shtiek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "03943c05c123b301f978f2c5f56fc692a03586cb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03943c05c123b301f978f2c5f56fc692a03586cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03943c05c123b301f978f2c5f56fc692a03586cb"}], "stats": {"total": 29, "additions": 27, "deletions": 2}, "files": [{"sha": "4d349a7c7315ab4792bd56756db2cb71f23865f0", "filename": "libjava/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bde6c7a990efcfadfd832983367a8e783647aa1d/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bde6c7a990efcfadfd832983367a8e783647aa1d/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=bde6c7a990efcfadfd832983367a8e783647aa1d", "patch": "@@ -1,3 +1,13 @@\n+2007-03-13  Keith Seitz  <keiths@redhat.com>\n+\n+\t* include/java-interp.h (_Jv_InterpClass): Declare\n+\tfriend function _Jv_GetInterpClassSourceFile.\n+\t* java/lang/Class.h (Class): Likewise.\n+\t* java/lang/natClass.cc (_Jv_GetInterpClassSourceFile):\n+\tNew function.\n+\t* gnu/classpath/jdwp/natVMVirtualMachine.cc\n+\t(getSourceFile): Implement.\n+\n 2007-03-13  Thomas Fitzsimmons  <fitzsim@redhat.com>\n \n \t* Makefile.am (AM_CXXFLAGS): Define ECJ_JAR_FILE."}, {"sha": "2229a451771161c6c46bdf3348fd507ce253dedb", "filename": "libjava/gnu/classpath/jdwp/natVMVirtualMachine.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bde6c7a990efcfadfd832983367a8e783647aa1d/libjava%2Fgnu%2Fclasspath%2Fjdwp%2FnatVMVirtualMachine.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bde6c7a990efcfadfd832983367a8e783647aa1d/libjava%2Fgnu%2Fclasspath%2Fjdwp%2FnatVMVirtualMachine.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fclasspath%2Fjdwp%2FnatVMVirtualMachine.cc?ref=bde6c7a990efcfadfd832983367a8e783647aa1d", "patch": "@@ -644,9 +644,9 @@ executeMethod (MAYBE_UNUSED jobject obj, MAYBE_UNUSED Thread *thread,\n \n jstring\n gnu::classpath::jdwp::VMVirtualMachine::\n-getSourceFile (MAYBE_UNUSED jclass clazz)\n+getSourceFile (jclass clazz)\n {\n-  return NULL;\n+  return _Jv_GetInterpClassSourceFile (clazz);\n }\n \n // A simple caching function used while single-stepping"}, {"sha": "ee45faa18d895c95f27a37e6a806e9b3070629a1", "filename": "libjava/include/java-interp.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bde6c7a990efcfadfd832983367a8e783647aa1d/libjava%2Finclude%2Fjava-interp.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bde6c7a990efcfadfd832983367a8e783647aa1d/libjava%2Finclude%2Fjava-interp.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2Fjava-interp.h?ref=bde6c7a990efcfadfd832983367a8e783647aa1d", "patch": "@@ -306,6 +306,7 @@ class _Jv_InterpClass\n #endif\n \n   friend _Jv_MethodBase ** _Jv_GetFirstMethod (_Jv_InterpClass *klass);\n+  friend jstring _Jv_GetInterpClassSourceFile (jclass);\n };\n \n extern inline _Jv_MethodBase **"}, {"sha": "af0219892f1ec102f2779a3ba994a4e8f1cd11c3", "filename": "libjava/java/lang/Class.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bde6c7a990efcfadfd832983367a8e783647aa1d/libjava%2Fjava%2Flang%2FClass.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bde6c7a990efcfadfd832983367a8e783647aa1d/libjava%2Fjava%2Flang%2FClass.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FClass.h?ref=bde6c7a990efcfadfd832983367a8e783647aa1d", "patch": "@@ -267,6 +267,7 @@ _Jv_Utf8Const *_Jv_GetClassNameUtf8 (jclass);\n // Finds a desired interpreter method in the given class or NULL if not found\n class _Jv_MethodBase;\n _Jv_MethodBase *_Jv_FindInterpreterMethod (jclass, jmethodID);\n+jstring _Jv_GetInterpClassSourceFile (jclass);\n #endif\n \n jbyte _Jv_GetClassState (jclass);\n@@ -568,6 +569,7 @@ class java::lang::Class : public java::lang::Object\n #ifdef INTERPRETER\n   friend _Jv_MethodBase *(::_Jv_FindInterpreterMethod) (jclass klass,\n \t\t\t\t\t\t\tjmethodID desired_method);\n+  friend jstring ::_Jv_GetInterpClassSourceFile (jclass);\n #endif\n   friend jbyte (::_Jv_GetClassState) (jclass klass);\n "}, {"sha": "a6b353f2a957158e65fb40226ca0e289e1393ddd", "filename": "libjava/java/lang/natClass.cc", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bde6c7a990efcfadfd832983367a8e783647aa1d/libjava%2Fjava%2Flang%2FnatClass.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bde6c7a990efcfadfd832983367a8e783647aa1d/libjava%2Fjava%2Flang%2FnatClass.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FnatClass.cc?ref=bde6c7a990efcfadfd832983367a8e783647aa1d", "patch": "@@ -2064,3 +2064,15 @@ _Jv_GetClassState (jclass klass)\n   return klass->state;\n }\n \n+jstring\n+_Jv_GetInterpClassSourceFile (jclass klass)\n+{\n+  if (_Jv_IsInterpretedClass (klass))\n+    {\n+      _Jv_InterpClass *iclass =\n+\treinterpret_cast<_Jv_InterpClass *> (klass->aux_info);\n+      return iclass->source_file_name;\n+    }\n+\n+  return NULL;\n+}"}]}