{"sha": "d315f859f89dc925cc60c6df53a615b97be110e5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDMxNWY4NTlmODlkYzkyNWNjNjBjNmRmNTNhNjE1Yjk3YmUxMTBlNQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@adacore.com", "date": "2021-04-01T15:35:07Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2021-06-21T10:45:15Z"}, "message": "[Ada] Add Return_Statement field\n\ngcc/ada/\n\n\t* einfo.ads (Return_Statement): Add documentation.\n\t* exp_ch6.adb (Expand_N_Extended_Return_Statement): Set it.\n\t* gen_il-fields.ads: Add it.\n\t* gen_il-gen-gen_entities.adb: Add it.", "tree": {"sha": "67b5da1d6de4e17799cfe553e99fc42c49cf024d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/67b5da1d6de4e17799cfe553e99fc42c49cf024d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d315f859f89dc925cc60c6df53a615b97be110e5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d315f859f89dc925cc60c6df53a615b97be110e5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d315f859f89dc925cc60c6df53a615b97be110e5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d315f859f89dc925cc60c6df53a615b97be110e5/comments", "author": {"login": "richardkenner", "id": 56170968, "node_id": "MDQ6VXNlcjU2MTcwOTY4", "avatar_url": "https://avatars.githubusercontent.com/u/56170968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richardkenner", "html_url": "https://github.com/richardkenner", "followers_url": "https://api.github.com/users/richardkenner/followers", "following_url": "https://api.github.com/users/richardkenner/following{/other_user}", "gists_url": "https://api.github.com/users/richardkenner/gists{/gist_id}", "starred_url": "https://api.github.com/users/richardkenner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richardkenner/subscriptions", "organizations_url": "https://api.github.com/users/richardkenner/orgs", "repos_url": "https://api.github.com/users/richardkenner/repos", "events_url": "https://api.github.com/users/richardkenner/events{/privacy}", "received_events_url": "https://api.github.com/users/richardkenner/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9418d3d41f581edd9acfdc4f359d37f948c1671e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9418d3d41f581edd9acfdc4f359d37f948c1671e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9418d3d41f581edd9acfdc4f359d37f948c1671e"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "4c5a2daa2f76602d1f84bcc9e771c555ff80f7d8", "filename": "gcc/ada/einfo.ads", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d315f859f89dc925cc60c6df53a615b97be110e5/gcc%2Fada%2Feinfo.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d315f859f89dc925cc60c6df53a615b97be110e5/gcc%2Fada%2Feinfo.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Feinfo.ads?ref=d315f859f89dc925cc60c6df53a615b97be110e5", "patch": "@@ -4206,6 +4206,11 @@ package Einfo is\n --       entities (for convenience in setting it), but is only tested\n --       for the function case.\n \n+--    Return_Statement\n+--       Defined in E_Variable. Set when Is_Return_Object is set, in which\n+--       case it points to the N_Simple_Return_Statement made from the\n+--       extended return statement.\n+\n --    Returns_By_Ref\n --       Defined in subprogram type entities and functions. Set if a function\n --       (or an access-to-function type) returns a result by reference, either"}, {"sha": "38d78b08ef2bcaae414865c969173144c1437c2b", "filename": "gcc/ada/exp_ch6.adb", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d315f859f89dc925cc60c6df53a615b97be110e5/gcc%2Fada%2Fexp_ch6.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d315f859f89dc925cc60c6df53a615b97be110e5/gcc%2Fada%2Fexp_ch6.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch6.adb?ref=d315f859f89dc925cc60c6df53a615b97be110e5", "patch": "@@ -6033,6 +6033,7 @@ package body Exp_Ch6 is\n       --  Set the flag to prevent infinite recursion\n \n       Set_Comes_From_Extended_Return_Statement (Return_Stmt);\n+      Set_Return_Statement (Ret_Obj_Id, Return_Stmt);\n \n       Rewrite (N, Result);\n "}, {"sha": "603f08a7d9f984462b61d5fbfe914eb13b2cfd5f", "filename": "gcc/ada/gen_il-fields.ads", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d315f859f89dc925cc60c6df53a615b97be110e5/gcc%2Fada%2Fgen_il-fields.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d315f859f89dc925cc60c6df53a615b97be110e5/gcc%2Fada%2Fgen_il-fields.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgen_il-fields.ads?ref=d315f859f89dc925cc60c6df53a615b97be110e5", "patch": "@@ -874,6 +874,7 @@ package Gen_IL.Fields is\n       Requires_Overriding,\n       Return_Applies_To,\n       Return_Present,\n+      Return_Statement,\n       Returns_By_Ref,\n       Reverse_Bit_Order,\n       Reverse_Storage_Order,"}, {"sha": "9fe9012abb57ef008d20e842ea7d3fd565e5b168", "filename": "gcc/ada/gen_il-gen-gen_entities.adb", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d315f859f89dc925cc60c6df53a615b97be110e5/gcc%2Fada%2Fgen_il-gen-gen_entities.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d315f859f89dc925cc60c6df53a615b97be110e5/gcc%2Fada%2Fgen_il-gen-gen_entities.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgen_il-gen-gen_entities.adb?ref=d315f859f89dc925cc60c6df53a615b97be110e5", "patch": "@@ -350,6 +350,7 @@ begin -- Gen_IL.Gen.Gen_Entities\n         Sm (Prival_Link, Node_Id),\n         Sm (Related_Expression, Node_Id),\n         Sm (Related_Type, Node_Id),\n+        Sm (Return_Statement, Node_Id),\n         Sm (Size_Check_Code, Node_Id),\n         Sm (SPARK_Pragma, Node_Id),\n         Sm (SPARK_Pragma_Inherited, Flag),\n@@ -421,6 +422,7 @@ begin -- Gen_IL.Gen.Gen_Entities\n         Sm (Prival_Link, Node_Id),\n         Sm (Related_Expression, Node_Id),\n         Sm (Related_Type, Node_Id),\n+        Sm (Return_Statement, Node_Id),\n         Sm (Shared_Var_Procs_Instance, Node_Id),\n         Sm (Size_Check_Code, Node_Id),\n         Sm (SPARK_Pragma, Node_Id),"}]}