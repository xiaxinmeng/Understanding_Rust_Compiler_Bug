{"sha": "6ba4d630f6bcede0ccfd73baa99c1f964d188d43", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmJhNGQ2MzBmNmJjZWRlMGNjZmQ3M2JhYTk5YzFmOTY0ZDE4OGQ0Mw==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2002-01-07T11:00:39Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2002-01-07T11:00:39Z"}, "message": "unroll.c (copy_loop_body): Always properly update JUMP_LABEL and LABEL_NUSES.\n\n\t* unroll.c (copy_loop_body): Always properly update JUMP_LABEL and\n\tLABEL_NUSES.\n\nFrom-SVN: r48600", "tree": {"sha": "e8c22bda345dccb8f6afa5302ff1bacc8d728799", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e8c22bda345dccb8f6afa5302ff1bacc8d728799"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6ba4d630f6bcede0ccfd73baa99c1f964d188d43", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ba4d630f6bcede0ccfd73baa99c1f964d188d43", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ba4d630f6bcede0ccfd73baa99c1f964d188d43", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ba4d630f6bcede0ccfd73baa99c1f964d188d43/comments", "author": null, "committer": null, "parents": [{"sha": "b34c06e332d1360bf0761d089533602965c858e3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b34c06e332d1360bf0761d089533602965c858e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b34c06e332d1360bf0761d089533602965c858e3"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "ebae515e68a15ae303e493a2405a948854a45703", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ba4d630f6bcede0ccfd73baa99c1f964d188d43/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ba4d630f6bcede0ccfd73baa99c1f964d188d43/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6ba4d630f6bcede0ccfd73baa99c1f964d188d43", "patch": "@@ -1,3 +1,8 @@\n+Mon Jan  7 11:59:34 CET 2002  Jan Hubicka  <jh@suse.cz>\n+\n+\t* unroll.c (copy_loop_body): Always properly update JUMP_LABEL and\n+\tLABEL_NUSES.\n+\n 2002-01-07  Graham Stott  <grahams@redhat.com>\n \n         * config/i386/i386.h: Update copyright date."}, {"sha": "f9fd669cde7252c9917b51d700b89d145d9e7041", "filename": "gcc/unroll.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ba4d630f6bcede0ccfd73baa99c1f964d188d43/gcc%2Funroll.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ba4d630f6bcede0ccfd73baa99c1f964d188d43/gcc%2Funroll.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Funroll.c?ref=6ba4d630f6bcede0ccfd73baa99c1f964d188d43", "patch": "@@ -2073,14 +2073,16 @@ copy_loop_body (loop, copy_start, copy_end, map, exit_label, last_iteration,\n \t  copy = emit_jump_insn (pattern);\n \t  REG_NOTES (copy) = initial_reg_note_copy (REG_NOTES (insn), map);\n \n-\t  if (JUMP_LABEL (insn) == start_label && insn == copy_end\n-\t      && ! last_iteration)\n+\t  if (JUMP_LABEL (insn))\n \t    {\n-\t      /* Update JUMP_LABEL make invert_jump work correctly.  */\n \t      JUMP_LABEL (copy) = get_label_from_map (map,\n \t\t\t\t\t\t      CODE_LABEL_NUMBER\n \t\t\t\t\t\t      (JUMP_LABEL (insn)));\n \t      LABEL_NUSES (JUMP_LABEL (copy))++;\n+\t    }\n+\t  if (JUMP_LABEL (insn) == start_label && insn == copy_end\n+\t      && ! last_iteration)\n+\t    {\n \n \t      /* This is a branch to the beginning of the loop; this is the\n \t\t last insn being copied; and this is not the last iteration."}]}