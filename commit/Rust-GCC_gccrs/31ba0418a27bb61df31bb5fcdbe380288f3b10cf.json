{"sha": "31ba0418a27bb61df31bb5fcdbe380288f3b10cf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzFiYTA0MThhMjdiYjYxZGYzMWJiNWZjZGJlMzgwMjg4ZjNiMTBjZg==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2019-03-13T10:32:29Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2019-03-13T10:32:29Z"}, "message": "re PR c++/85558 (ICE in make_rtl_for_nonlocal_decl when using static member of template class)\n\n2019-03-13  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/85558\n\t* g++.dg/other/friend16.C: New.\n\t* g++.dg/other/friend17.C: Likewise.\n\nFrom-SVN: r269644", "tree": {"sha": "68fa1e8617343a631884bed369c423f6a79a0bf9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/68fa1e8617343a631884bed369c423f6a79a0bf9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/31ba0418a27bb61df31bb5fcdbe380288f3b10cf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31ba0418a27bb61df31bb5fcdbe380288f3b10cf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/31ba0418a27bb61df31bb5fcdbe380288f3b10cf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31ba0418a27bb61df31bb5fcdbe380288f3b10cf/comments", "author": null, "committer": null, "parents": [{"sha": "7a26e2739d3f21d6765eedd097a4b58e9cb82bd1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a26e2739d3f21d6765eedd097a4b58e9cb82bd1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a26e2739d3f21d6765eedd097a4b58e9cb82bd1"}], "stats": {"total": 30, "additions": 30, "deletions": 0}, "files": [{"sha": "2439836d647417b6f74d25a1ed8cb4fa0d56af2f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31ba0418a27bb61df31bb5fcdbe380288f3b10cf/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31ba0418a27bb61df31bb5fcdbe380288f3b10cf/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=31ba0418a27bb61df31bb5fcdbe380288f3b10cf", "patch": "@@ -1,3 +1,9 @@\n+2019-03-13  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/85558\n+\t* g++.dg/other/friend16.C: New.\n+\t* g++.dg/other/friend17.C: Likewise.\n+\n 2019-03-13  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR middle-end/88588"}, {"sha": "8c62ef69ec1e6cd37c1fefb9d928d3445f25a3ac", "filename": "gcc/testsuite/g++.dg/other/friend16.C", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31ba0418a27bb61df31bb5fcdbe380288f3b10cf/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Ffriend16.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31ba0418a27bb61df31bb5fcdbe380288f3b10cf/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Ffriend16.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Ffriend16.C?ref=31ba0418a27bb61df31bb5fcdbe380288f3b10cf", "patch": "@@ -0,0 +1,12 @@\n+// PR c++/85558\n+\n+template <typename T>\n+struct triggerBug {\n+  friend void doInitUser(bool = triggerBug::doInit);  // { dg-error \"definition\" }\n+  static bool doInit;\n+};\n+\n+template <class T>\n+bool triggerBug<T>::doInit = true;\n+\n+triggerBug<int> bug;"}, {"sha": "81269afde4dc6ac775a87562521149bca4ac4252", "filename": "gcc/testsuite/g++.dg/other/friend17.C", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31ba0418a27bb61df31bb5fcdbe380288f3b10cf/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Ffriend17.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31ba0418a27bb61df31bb5fcdbe380288f3b10cf/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Ffriend17.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Ffriend17.C?ref=31ba0418a27bb61df31bb5fcdbe380288f3b10cf", "patch": "@@ -0,0 +1,12 @@\n+// PR c++/85558\n+\n+template <typename T>\n+struct triggerBug {\n+  friend void doInitUser(bool = triggerBug::doInit) {}\n+  static bool doInit;\n+};\n+\n+template <class T>\n+bool triggerBug<T>::doInit = true;\n+\n+triggerBug<int> bug;"}]}