{"sha": "43fe47ca785b524496e2082eddfd00b50b68b281", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDNmZTQ3Y2E3ODViNTI0NDk2ZTIwODJlZGRmZDAwYjUwYjY4YjI4MQ==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@redhat.com", "date": "2001-09-07T23:25:01Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "2001-09-07T23:25:01Z"}, "message": "re PR rtl-optimization/3783 (gcc3.0/ia64 ICE on linux kernel file fs/ufs/super.c)\n\nFix for PR 3783.\n\t* alias.c (clear_reg_alias_info): New.\n\t* flow.c (attempt_auto_inc): Call clear_reg_alias_info.\n\t* rtl.h (clear_reg_alias_info): Declare.\n\nFrom-SVN: r45482", "tree": {"sha": "944330803f51ba791ebf2256c7196203c46cdef1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/944330803f51ba791ebf2256c7196203c46cdef1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/43fe47ca785b524496e2082eddfd00b50b68b281", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/43fe47ca785b524496e2082eddfd00b50b68b281", "html_url": "https://github.com/Rust-GCC/gccrs/commit/43fe47ca785b524496e2082eddfd00b50b68b281", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/43fe47ca785b524496e2082eddfd00b50b68b281/comments", "author": null, "committer": null, "parents": [{"sha": "177b41ebf31068a9423718b445d08181295d8c87", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/177b41ebf31068a9423718b445d08181295d8c87", "html_url": "https://github.com/Rust-GCC/gccrs/commit/177b41ebf31068a9423718b445d08181295d8c87"}], "stats": {"total": 24, "additions": 24, "deletions": 0}, "files": [{"sha": "c3dc8f418d2a00f55d387e465b1075fd6c89c201", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43fe47ca785b524496e2082eddfd00b50b68b281/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43fe47ca785b524496e2082eddfd00b50b68b281/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=43fe47ca785b524496e2082eddfd00b50b68b281", "patch": "@@ -1,3 +1,9 @@\n+2001-09-07  Jim Wilson  <wilson@redhat.com>\n+\n+\t* alias.c (clear_reg_alias_info): New.\n+\t* flow.c (attempt_auto_inc): Call clear_reg_alias_info.\n+\t* rtl.h (clear_reg_alias_info): Declare.\n+\n 2001-09-07  Roman Lechtchinsky  <rl@cs.tu-berlin.de>\n \n \t* real.c (EMUSHORT,EMUSHORT_SIZE): Use HImode if no 16-bit type is"}, {"sha": "8c6ad5f0eb33384cbfcfa0be661cb16307ef2d5d", "filename": "gcc/alias.c", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43fe47ca785b524496e2082eddfd00b50b68b281/gcc%2Falias.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43fe47ca785b524496e2082eddfd00b50b68b281/gcc%2Falias.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Falias.c?ref=43fe47ca785b524496e2082eddfd00b50b68b281", "patch": "@@ -960,6 +960,20 @@ record_base_value (regno, val, invariant)\n   reg_base_value[regno] = find_base_value (val);\n }\n \n+/* Clear alias info for a register.  This is used if an RTL transformation\n+   changes the value of a register.  This is used in flow by AUTO_INC_DEC\n+   optimizations.  We don't need to clear reg_base_value, since flow only\n+   changes the offset.  */\n+\n+void\n+clear_reg_alias_info (rtx reg)\n+{\n+  int regno = REGNO (reg);\n+\n+  if (regno < reg_known_value_size)\n+    reg_known_value[regno] = reg;\n+}\n+\n /* Returns a canonical version of X, from the point of view alias\n    analysis.  (For example, if X is a MEM whose address is a register,\n    and the register has a known value (say a SYMBOL_REF), then a MEM"}, {"sha": "1cbb0f8f82a698eeda3081abef2bbf16d31341ef", "filename": "gcc/flow.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43fe47ca785b524496e2082eddfd00b50b68b281/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43fe47ca785b524496e2082eddfd00b50b68b281/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=43fe47ca785b524496e2082eddfd00b50b68b281", "patch": "@@ -7027,6 +7027,9 @@ attempt_auto_inc (pbi, inc, insn, mem, incr, incr_reg)\n       for (temp = insn; temp != incr; temp = NEXT_INSN (temp))\n \tif (GET_CODE (temp) == CALL_INSN)\n \t  REG_N_CALLS_CROSSED (regno)++;\n+\n+      /* Invalidate alias info for Q since we just changed its value.  */\n+      clear_reg_alias_info (q);\n     }\n   else\n     return;"}, {"sha": "d99388866e0119e581e2b87a9e6311b1abdcba15", "filename": "gcc/rtl.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43fe47ca785b524496e2082eddfd00b50b68b281/gcc%2Frtl.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43fe47ca785b524496e2082eddfd00b50b68b281/gcc%2Frtl.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtl.h?ref=43fe47ca785b524496e2082eddfd00b50b68b281", "patch": "@@ -1988,6 +1988,7 @@ extern void fancy_abort PARAMS ((const char *, int, const char *))\n #define abort() fancy_abort (__FILE__, __LINE__, __FUNCTION__)\n \n /* In alias.c */\n+extern void clear_reg_alias_info\tPARAMS ((rtx));\n extern rtx canon_rtx                    PARAMS ((rtx));\n extern int true_dependence\t\tPARAMS ((rtx, enum machine_mode, rtx,\n \t\t\t\t\t\tint (*)(rtx, int)));"}]}