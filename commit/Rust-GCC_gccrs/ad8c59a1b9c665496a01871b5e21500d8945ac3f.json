{"sha": "ad8c59a1b9c665496a01871b5e21500d8945ac3f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWQ4YzU5YTFiOWM2NjU0OTZhMDE4NzFiNWUyMTUwMGQ4OTQ1YWMzZg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@google.com", "date": "2013-01-04T19:00:06Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-01-04T19:00:06Z"}, "message": "re PR other/54800 (libiberty/simple-object-mach-o.c:704: possible optimisation ?)\n\n\tPR other/54800\n\t* simple-object-mach-o.c (simple_object_mach_o_segment): Don't\n\tbother to zero out a buffer we are about to set anyhow.\n\nFrom-SVN: r194914", "tree": {"sha": "78e3ea101be60bad4f19246b67a10237c11f3eaf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/78e3ea101be60bad4f19246b67a10237c11f3eaf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ad8c59a1b9c665496a01871b5e21500d8945ac3f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad8c59a1b9c665496a01871b5e21500d8945ac3f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ad8c59a1b9c665496a01871b5e21500d8945ac3f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad8c59a1b9c665496a01871b5e21500d8945ac3f/comments", "author": null, "committer": null, "parents": [{"sha": "918d445f1fe08cb05228e1b12052a55dfcd5401a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/918d445f1fe08cb05228e1b12052a55dfcd5401a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/918d445f1fe08cb05228e1b12052a55dfcd5401a"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "4479c77f27489915673a4845f7719d51d796fd24", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ad8c59a1b9c665496a01871b5e21500d8945ac3f/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ad8c59a1b9c665496a01871b5e21500d8945ac3f/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=ad8c59a1b9c665496a01871b5e21500d8945ac3f", "patch": "@@ -1,3 +1,9 @@\n+2013-01-04  Ian Lance Taylor  <iant@google.com>\n+\n+\tPR other/54800\n+\t* simple-object-mach-o.c (simple_object_mach_o_segment): Don't\n+\tbother to zero out a buffer we are about to set anyhow.\n+\n 2013-01-01  David Edelsohn  <dje.gcc@gmail.com>\n \n \t* simple-object-xcoff.c: New file."}, {"sha": "6fde6722bef415b87f273986ffa4b4922b5a2456", "filename": "libiberty/simple-object-mach-o.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ad8c59a1b9c665496a01871b5e21500d8945ac3f/libiberty%2Fsimple-object-mach-o.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ad8c59a1b9c665496a01871b5e21500d8945ac3f/libiberty%2Fsimple-object-mach-o.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fsimple-object-mach-o.c?ref=ad8c59a1b9c665496a01871b5e21500d8945ac3f", "patch": "@@ -1,5 +1,5 @@\n /* simple-object-mach-o.c -- routines to manipulate Mach-O object files.\n-   Copyright 2010, 2011 Free Software Foundation, Inc.\n+   Copyright 2010, 2011, 2013 Free Software Foundation, Inc.\n    Written by Ian Lance Taylor, Google.\n \n This program is free software; you can redistribute it and/or modify it\n@@ -701,12 +701,13 @@ simple_object_mach_o_segment (simple_object_read *sobj, off_t offset,\n \t   /* Otherwise, make a name like __segment,__section as per the\n \t      convention in mach-o asm.  */\n \t  name = &namebuf[0];\n-\t  memset (namebuf, 0, MACH_O_NAME_LEN * 2 + 2);\n \t  memcpy (namebuf, (char *) sechdr + segname_offset, MACH_O_NAME_LEN);\n+\t  namebuf[MACH_O_NAME_LEN] = '\\0';\n \t  l = strlen (namebuf);\n \t  namebuf[l] = ',';\n \t  memcpy (namebuf + l + 1, (char *) sechdr + sectname_offset,\n \t\t  MACH_O_NAME_LEN);\n+\t  namebuf[l + 1 + MACH_O_NAME_LEN] = '\\0';\n \t}\n \n       simple_object_mach_o_section_info (omr->is_big_endian, is_32, sechdr,"}]}