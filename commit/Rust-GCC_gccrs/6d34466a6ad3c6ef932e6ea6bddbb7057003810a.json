{"sha": "6d34466a6ad3c6ef932e6ea6bddbb7057003810a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmQzNDQ2NmE2YWQzYzZlZjkzMmU2ZWE2YmRkYmI3MDU3MDAzODEwYQ==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-03-02T21:17:19Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-03-02T21:17:19Z"}, "message": "(do_include): Warn if find unreadable header file.\n\n(errno.h): Move outside VMS specific section.\n\nFrom-SVN: r3611", "tree": {"sha": "d8e6eb98c252ddd538b7da606490141d66068bcc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d8e6eb98c252ddd538b7da606490141d66068bcc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6d34466a6ad3c6ef932e6ea6bddbb7057003810a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d34466a6ad3c6ef932e6ea6bddbb7057003810a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d34466a6ad3c6ef932e6ea6bddbb7057003810a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d34466a6ad3c6ef932e6ea6bddbb7057003810a/comments", "author": null, "committer": null, "parents": [{"sha": "b3b1e8bd9c49e29c496d178bb69e42f04859a9a0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3b1e8bd9c49e29c496d178bb69e42f04859a9a0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3b1e8bd9c49e29c496d178bb69e42f04859a9a0"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "3dcbf2abb1fd0da679334cbf607b760015670a98", "filename": "gcc/cccp.c", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6d34466a6ad3c6ef932e6ea6bddbb7057003810a/gcc%2Fcccp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6d34466a6ad3c6ef932e6ea6bddbb7057003810a/gcc%2Fcccp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcccp.c?ref=6d34466a6ad3c6ef932e6ea6bddbb7057003810a", "patch": "@@ -87,10 +87,12 @@ typedef unsigned char U_CHAR;\n #endif /* USG */\n #endif /* not VMS */\n \n+/* This defines \"errno\" properly for VMS, and gives us EACCES. */\n+#include <errno.h>\n+\n /* VMS-specific definitions */\n #ifdef VMS\n #include <time.h>\n-#include <errno.h>\t\t/* This defines \"errno\" properly */\n #include <perror.h>\t\t/* This defines sys_errlist/sys_nerr properly */\n #include <descrip.h>\n #define O_RDONLY\t0\t/* Open arg for Read/Only  */\n@@ -3957,6 +3959,10 @@ do_include (buf, limit, op, keyword)\n \tf = open (fname, O_RDONLY, 0666);\n       if (f == -2)\n \treturn 0;\t\t\t/* Already included this file */\n+#ifdef EACCES\n+      else if (f == -1 && errno == EACCES)\n+\twarning (\"Header file %s exists, but is not readable\", fname);\n+#endif\n       if (redundant_include_p (fname)) {\n \tclose (f);\n \treturn 0;"}]}