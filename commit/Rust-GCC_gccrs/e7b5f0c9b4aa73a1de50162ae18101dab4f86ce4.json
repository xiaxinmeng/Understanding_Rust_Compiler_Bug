{"sha": "e7b5f0c9b4aa73a1de50162ae18101dab4f86ce4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTdiNWYwYzliNGFhNzNhMWRlNTAxNjJhZTE4MTAxZGFiNGY4NmNlNA==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2003-05-03T16:43:17Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2003-05-03T16:43:17Z"}, "message": "trans.c (tree_transform): Use location_t and input_location directly.\n\n\t* trans.c (tree_transform): Use location_t and input_location\n\tdirectly.\n\t(build_unit_elab): Likewise.\n\t* utils.c (create_label_decl): Likewise.\n\nFrom-SVN: r66433", "tree": {"sha": "9abc9de1f1b6b0136c4e077b95cc8d3d4278504a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9abc9de1f1b6b0136c4e077b95cc8d3d4278504a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e7b5f0c9b4aa73a1de50162ae18101dab4f86ce4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7b5f0c9b4aa73a1de50162ae18101dab4f86ce4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e7b5f0c9b4aa73a1de50162ae18101dab4f86ce4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7b5f0c9b4aa73a1de50162ae18101dab4f86ce4/comments", "author": null, "committer": null, "parents": [{"sha": "31423e30eeeb688c09434451706da181ad17ac2b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31423e30eeeb688c09434451706da181ad17ac2b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/31423e30eeeb688c09434451706da181ad17ac2b"}], "stats": {"total": 16, "additions": 10, "deletions": 6}, "files": [{"sha": "cadce12ca8515a2eacfaab01aae89e75beb2b40c", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7b5f0c9b4aa73a1de50162ae18101dab4f86ce4/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7b5f0c9b4aa73a1de50162ae18101dab4f86ce4/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=e7b5f0c9b4aa73a1de50162ae18101dab4f86ce4", "patch": "@@ -1,3 +1,10 @@\n+2003-05-03  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* trans.c (tree_transform): Use location_t and input_location\n+\tdirectly.\n+\t(build_unit_elab): Likewise.\n+\t* utils.c (create_label_decl): Likewise.\n+\n 2003-05-01  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* trans.c (tree_transform, build_unit_elab,"}, {"sha": "d14d2372360b15c4ba1339e4b3c775dccfb851ba", "filename": "gcc/ada/trans.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7b5f0c9b4aa73a1de50162ae18101dab4f86ce4/gcc%2Fada%2Ftrans.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7b5f0c9b4aa73a1de50162ae18101dab4f86ce4/gcc%2Fada%2Ftrans.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ftrans.c?ref=e7b5f0c9b4aa73a1de50162ae18101dab4f86ce4", "patch": "@@ -2619,8 +2619,7 @@ tree_transform (gnat_node)\n \t   the body so that the line number notes are written \n \t   correctly.  */\n \tset_lineno (gnat_node, 0);\n-\tDECL_SOURCE_FILE (gnu_subprog_decl) = input_filename;\n-\tDECL_SOURCE_LINE (gnu_subprog_decl) = input_line;\n+\tDECL_SOURCE_LOCATION (gnu_subprog_decl) = input_location;\n \n \tbegin_subprog_body (gnu_subprog_decl);\n \tset_lineno (gnat_node, 1);\n@@ -5342,8 +5341,7 @@ build_unit_elab (gnat_unit, body_p, gnu_elab_list)\n       {\n \ttree lhs = TREE_PURPOSE (gnu_elab_list);\n \n-\tinput_filename = DECL_SOURCE_FILE (lhs);\n-\tinput_line = DECL_SOURCE_LINE (lhs);\n+\tinput_location = DECL_SOURCE_LOCATION (lhs);\n \n \t/* If LHS has a padded type, convert it to the unpadded type\n \t   so the assignment is done properly.  */"}, {"sha": "d57994368e39b902f4750a2bd0ff50e0735a404c", "filename": "gcc/ada/utils.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7b5f0c9b4aa73a1de50162ae18101dab4f86ce4/gcc%2Fada%2Futils.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7b5f0c9b4aa73a1de50162ae18101dab4f86ce4/gcc%2Fada%2Futils.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Futils.c?ref=e7b5f0c9b4aa73a1de50162ae18101dab4f86ce4", "patch": "@@ -1663,8 +1663,7 @@ create_label_decl (label_name)\n \n   DECL_CONTEXT (label_decl)     = current_function_decl;\n   DECL_MODE (label_decl)        = VOIDmode;\n-  DECL_SOURCE_LINE (label_decl) = input_line;\n-  DECL_SOURCE_FILE (label_decl) = input_filename;\n+  DECL_SOURCE_LOCATION (label_decl) = input_location;\n \n   return label_decl;\n }"}]}