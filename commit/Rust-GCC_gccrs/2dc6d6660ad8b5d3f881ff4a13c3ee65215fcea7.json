{"sha": "2dc6d6660ad8b5d3f881ff4a13c3ee65215fcea7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmRjNmQ2NjYwYWQ4YjVkM2Y4ODFmZjRhMTNjM2VlNjUyMTVmY2VhNw==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2009-03-06T09:10:46Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2009-03-06T09:10:46Z"}, "message": "decl.c (record_builtin_java_type): Use canonicalized integer types.\n\n* decl.c (record_builtin_java_type): Use canonicalized integer\ntypes.\n\nFrom-SVN: r144664", "tree": {"sha": "6413f929ee7d705cbadc88abe114c1e1a026488b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6413f929ee7d705cbadc88abe114c1e1a026488b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2dc6d6660ad8b5d3f881ff4a13c3ee65215fcea7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2dc6d6660ad8b5d3f881ff4a13c3ee65215fcea7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2dc6d6660ad8b5d3f881ff4a13c3ee65215fcea7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2dc6d6660ad8b5d3f881ff4a13c3ee65215fcea7/comments", "author": null, "committer": null, "parents": [{"sha": "47ed69db7ee9361910c539b35256315ee04e1186", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47ed69db7ee9361910c539b35256315ee04e1186", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47ed69db7ee9361910c539b35256315ee04e1186"}], "stats": {"total": 19, "additions": 16, "deletions": 3}, "files": [{"sha": "720663918d41f903610a466915d1b2a92adc9d14", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2dc6d6660ad8b5d3f881ff4a13c3ee65215fcea7/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2dc6d6660ad8b5d3f881ff4a13c3ee65215fcea7/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=2dc6d6660ad8b5d3f881ff4a13c3ee65215fcea7", "patch": "@@ -1,3 +1,8 @@\n+2009-03-06  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* decl.c (record_builtin_java_type): Use canonicalized integer\n+\ttypes.\n+\n 2009-03-04  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/38908"}, {"sha": "4ed342514b84b52b9c29a216be4a527316b5498a", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 11, "deletions": 3, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2dc6d6660ad8b5d3f881ff4a13c3ee65215fcea7/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2dc6d6660ad8b5d3f881ff4a13c3ee65215fcea7/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=2dc6d6660ad8b5d3f881ff4a13c3ee65215fcea7", "patch": "@@ -3168,10 +3168,18 @@ record_builtin_java_type (const char* name, int size)\n {\n   tree type, decl;\n   if (size > 0)\n-    type = make_signed_type (size);\n+    type = build_nonstandard_integer_type (size, 0);\n   else if (size > -32)\n-    { /* \"__java_char\" or \"\"__java_boolean\".  */\n-      type = make_unsigned_type (-size);\n+    {\n+      tree stype;\n+      /* \"__java_char\" or \"\"__java_boolean\".  */\n+      type = build_nonstandard_integer_type (-size, 1);\n+      /* Get the signed type cached and attached to the unsigned type,\n+\t so it doesn't get garbage-collected at \"random\" times,\n+\t causing potential codegen differences out of different UIDs\n+\t and different alias set numbers.  */\n+      stype = build_nonstandard_integer_type (-size, 0);\n+      TREE_CHAIN (type) = stype;\n       /*if (size == -1)\tTREE_SET_CODE (type, BOOLEAN_TYPE);*/\n     }\n   else"}]}