{"sha": "e87b9d8b7ad4941bf2c33d42467569568d18ca5c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTg3YjlkOGI3YWQ0OTQxYmYyYzMzZDQyNDY3NTY5NTY4ZDE4Y2E1Yw==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2003-06-15T05:47:39Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2003-06-15T05:47:39Z"}, "message": "libgcc2.c: Delete sysV68 L_trampoline section.\n\n\t* libgcc2.c: Delete sysV68 L_trampoline section.\n\t* config/m68k/mot3300-crt0.S: Delete file.\n\t* config/m68k/mot3300Mcrt0.S: Likewise.\n\nFrom-SVN: r67965", "tree": {"sha": "a026af8e466d7d8ffc1e767e3c6e833b5442690e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a026af8e466d7d8ffc1e767e3c6e833b5442690e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e87b9d8b7ad4941bf2c33d42467569568d18ca5c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e87b9d8b7ad4941bf2c33d42467569568d18ca5c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e87b9d8b7ad4941bf2c33d42467569568d18ca5c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e87b9d8b7ad4941bf2c33d42467569568d18ca5c/comments", "author": null, "committer": null, "parents": [{"sha": "ad9b8af6f94fb3b66bad2ae20e826f4196fb2578", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad9b8af6f94fb3b66bad2ae20e826f4196fb2578", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ad9b8af6f94fb3b66bad2ae20e826f4196fb2578"}], "stats": {"total": 291, "additions": 6, "deletions": 285}, "files": [{"sha": "770098a0d7f816b4cffdf252f4e13792d80041e2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e87b9d8b7ad4941bf2c33d42467569568d18ca5c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e87b9d8b7ad4941bf2c33d42467569568d18ca5c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e87b9d8b7ad4941bf2c33d42467569568d18ca5c", "patch": "@@ -1,3 +1,9 @@\n+2003-06-15  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* libgcc2.c: Delete sysV68 L_trampoline section.\n+\t* config/m68k/mot3300-crt0.S: Delete file.\n+\t* config/m68k/mot3300Mcrt0.S: Likewise.\n+\n 2003-06-15  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n \t* config/aoutos.h: Remove."}, {"sha": "3574a72962a939d35ba0c42ac9f2c663b31d291d", "filename": "gcc/config/m68k/mot3300-crt0.S", "status": "removed", "additions": 0, "deletions": 98, "changes": 98, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ad9b8af6f94fb3b66bad2ae20e826f4196fb2578/gcc%2Fconfig%2Fm68k%2Fmot3300-crt0.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ad9b8af6f94fb3b66bad2ae20e826f4196fb2578/gcc%2Fconfig%2Fm68k%2Fmot3300-crt0.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fmot3300-crt0.S?ref=ad9b8af6f94fb3b66bad2ae20e826f4196fb2578", "patch": "@@ -1,98 +0,0 @@\n-/* The start module crt0.s for the SysV68 Motorola 3300 Delta Series.\n-   Copyright (C) 1996 Free Software Foundation, Inc.\n-   Contributed by Manfred Hollstein (manfred@lts.sel.alcatel.de).\n-\n-This file is part of GNU CC.\n-\n-GNU CC is free software; you can redistribute it and/or modify\n-it under the terms of the GNU General Public License as published by\n-the Free Software Foundation; either version 2, or (at your option)\n-any later version.\n-\n-GNU CC is distributed in the hope that it will be useful,\n-but WITHOUT ANY WARRANTY; without even the implied warranty of\n-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-GNU General Public License for more details.\n-\n-You should have received a copy of the GNU General Public License\n-along with GNU CC; see the file COPYING.  If not, write to\n-the Free Software Foundation, 59 Temple Place - Suite 330,\n-Boston, MA 02111-1307, USA.  */\n-\n-#ifdef MOTOROLA\n-# define COMM\t\tcomm\n-# define DATA\t\tdata\n-# define EVEN\t\teven\n-# define FILE(n)\tfile\tn\n-# define GLOBAL_SYM(s)\tglobal\ts\n-# define LOCAL_LABEL(l)\tL%##l\n-# define IDENT(s)\tident\ts\n-# define TEXT\t\ttext\n-#else /* Assume we are using GNU as.  */\n-# define COMM\t\t.comm\n-# define DATA\t\t.data\n-# define EVEN\t\t.even\n-# define FILE(name)\t.file\tname\n-# define GLOBAL_SYM(s)\t.globl\ts\n-# define LOCAL_LABEL(l)\t.L.##l\n-# define IDENT(s)\t.section .comment;.asciz s\n-# define TEXT\t\t.text\n-#endif\n-\n-\tFILE (\"crt0.s\")\n-\tTEXT\n-\tGLOBAL_SYM (_start)\n-_start:\tmov.l\t%d0,splimit%\n-\tsubq.w\t&8,%sp\n-\tmov.l\t8(%sp),(%sp)\n-\tlea\t12(%sp),%a0\n-\tmov.l\t%a0,4(%sp)\n-\tmov.l\t%a0,%a1\n-LOCAL_LABEL(0):\n-\ttst.l\t(%a0)+\n-\tbne.b\tLOCAL_LABEL(0)\n-#ifdef SGS_CMP_ORDER\n-\tcmpa.l\t%a0,(%a1)\n-#else\n-\tcmpa.l\t(%a1),%a0\n-#endif\n-\tblt.b\tLOCAL_LABEL(1)\n-\tsubq.w\t&4,%a0\n-LOCAL_LABEL(1):\n-\tmov.l\t%a0,8(%sp)\n-\tmov.l\t%a0,environ\n-\tjsr\tinitfpu\n-\t\n-\tsubq.w\t&8,%sp\n-\tclr.l\t%d0\t\t/* if (! isatty (fileno (stderr))) */\n-\tmov.b\t_iob+27,%d0\n-\tmov.l\t%d0,-(%sp)\n-\tjsr\tisatty\n-\taddq.w\t&4,%sp\n-\ttst.l\t%d0\n-\tbne.b\tLOCAL_LABEL(isatty)\n-\tclr.l\t-(%sp)\t\t/*\tsetbuf (stderr, NULL) */\n-\tpea\t_iob+28\n-\tjsr\tsetbuf\n-\taddq.w\t&8,%sp\n-LOCAL_LABEL(isatty):\n-\taddq.w\t&8,%sp\n-\n-\tjsr\tmain\n-\tmov.l\t%d0,(%sp)\n-\tjsr\texit\n-\tmoveq.l\t&1,%d0\n-\ttrap\t&0\n-\tnop\n-\n-\tGLOBAL_SYM (__stop_monitor)\n-__stop_monitor:\n-\trts\n-\tEVEN\n-\n-\tCOMM\tsplimit%,4\n-\tCOMM\tenviron,4\n-\n-\tIDENT (\"$Id: mot3300-crt0.S,v 1.1.1.2 1998/01/14 19:39:06 law Exp $\")\n-\tIDENT (\"Contributed by Manfred Hollstein (manfred@lts.sel.alcatel.de)\")\n-\tIDENT (\"Corrections by Philippe De Muyter (phdm@macqel.be)\")"}, {"sha": "c0844616abb93046ca412e60bae954f31edf179c", "filename": "gcc/config/m68k/mot3300Mcrt0.S", "status": "removed", "additions": 0, "deletions": 142, "changes": 142, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ad9b8af6f94fb3b66bad2ae20e826f4196fb2578/gcc%2Fconfig%2Fm68k%2Fmot3300Mcrt0.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ad9b8af6f94fb3b66bad2ae20e826f4196fb2578/gcc%2Fconfig%2Fm68k%2Fmot3300Mcrt0.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fmot3300Mcrt0.S?ref=ad9b8af6f94fb3b66bad2ae20e826f4196fb2578", "patch": "@@ -1,142 +0,0 @@\n-/* The start module mcrt0.s for the SysV68 Motorola 3300 Delta Series.\n-   Copyright (C) 1996, 1997 Free Software Foundation, Inc.\n-   Contributed by Manfred Hollstein (manfred@lts.sel.alcatel.de).\n-\n-This file is part of GNU CC.\n-\n-GNU CC is free software; you can redistribute it and/or modify\n-it under the terms of the GNU General Public License as published by\n-the Free Software Foundation; either version 2, or (at your option)\n-any later version.\n-\n-GNU CC is distributed in the hope that it will be useful,\n-but WITHOUT ANY WARRANTY; without even the implied warranty of\n-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-GNU General Public License for more details.\n-\n-You should have received a copy of the GNU General Public License\n-along with GNU CC; see the file COPYING.  If not, write to\n-the Free Software Foundation, 59 Temple Place - Suite 330,\n-Boston, MA 02111-1307, USA.  */\n-\n-#ifdef MOTOROLA\n-# define COMM\t\tcomm\n-# define DATA\t\tdata\n-# define EVEN\t\teven\n-# define FILE(n)\tfile\tn\n-# define GLOBAL_SYM(s)\tglobal\ts\n-# define LOCAL_LABEL(l)\tL%##l\n-# define IDENT(s)\tident\ts\n-# define TEXT\t\ttext\n-#else /* Assume we are using GNU as.  */\n-# define COMM\t\t.comm\n-# define DATA\t\t.data\n-# define EVEN\t\t.even\n-# define FILE(name)\t.file\tname\n-# define GLOBAL_SYM(s)\t.globl\ts\n-# define LOCAL_LABEL(l)\t.L.##l\n-# define IDENT(s)\t.section .comment;.asciz s\n-# define TEXT\t\t.text\n-#endif\n-\n-\tFILE (\"mcrt0.s\")\n-\tTEXT\n-\tGLOBAL_SYM (_start)\n-_start:\tmov.l\t%d0,splimit%\n-\tsubq.w\t&8,%sp\n-\tmov.l\t8(%sp),(%sp)\n-\tlea\t12(%sp),%a0\n-\tmov.l\t%a0,___Argv\n-\tmov.l\t%a0,4(%sp)\n-\tmov.l\t%a0,%a1\n-LOCAL_LABEL(0):\n-\ttst.l\t(%a0)+\n-\tbne.b\tLOCAL_LABEL(0)\n-#ifdef SGS_CMP_ORDER\n-\tcmpa.l\t%a0,(%a1)\n-#else\n-\tcmpa.l\t(%a1),%a0\n-#endif\n-\tblt.b\tLOCAL_LABEL(1)\n-\tsubq.w\t&4,%a0\n-LOCAL_LABEL(1):\n-\tmov.l\t%a0,8(%sp)\n-\tmov.l\t%a0,environ\n-\tjsr\tinitfpu\n-\t\n-\tsub\t&8,%sp\n-\tclr.l\t%d0\t\t/* if (! isatty (fileno (stderr))) */\n-\tmov.b\t_iob+27,%d0\n-\tmov.l\t%d0,-(%sp)\n-\tjsr\tisatty\n-\taddq.w\t&4,%sp\n-\ttst.l\t%d0\n-\tbne.b\tLOCAL_LABEL(isatty)\n-\tclr.l\t-(%sp)\t\t/*\tsetbuf (stderr, NULL) */\n-\tpea\t_iob+28\n-\tjsr\tsetbuf\n-\taddq.w\t&8,%sp\n-LOCAL_LABEL(isatty):\n-\taddq.w\t&8,%sp\n-\n-\tmov.l\t&600,-(%sp)\n-\tmov.l\t&etext,%d1\n-\tsubi.l\t&LOCAL_LABEL(endofstart),%d1\n-\taddq.l\t&1,%d1\n-\tbclr\t&0,%d1\n-\taddi.l\t&4812,%d1\n-\tasr.l\t&1,%d1\n-\tmov.l\t%d1,-(%sp)\n-\tadd.l\t%d1,%d1\n-\tmov.l\t%d1,-(%sp)\n-\tjsr\tsbrk\n-\taddq.w\t&4,%sp\n-#ifdef SGS_CMP_ORDER\n-\tcmpa.l\t%a0,&-1\n-#else\n-\tcmpa.l\t&-1,%a0\n-#endif\n-\tbeq.b\tLOCAL_LABEL(3)\n-\tmov.l\t%a0,-(%sp)\n-\tadd.l\t&12,%a0\n-\tmov.l\t%a0,_countbase\n-\tmov.l\t&etext,-(%sp)\n-\tmov.l\t&LOCAL_LABEL(endofstart),-(%sp)\n-\tjsr\tmonitor\n-\tlea\t20(%sp),%sp\n-\tjsr\tmain\n-\tmov.l\t%d0,(%sp)\n-\tjsr\texit\n-_exit:\tmoveq\t&1,%d0\n-\ttrap\t&0\n-\n-\tGLOBAL_SYM (__stop_monitor)\n-__stop_monitor:\n-\tclr.l\t-(%sp)\n-\tjsr\tmonitor\n-\tadd.w\t&4,%sp\n-\trts\n-\n-LOCAL_LABEL(errtxt):\n-\tbyte\t'N,'o,' ,'s,'p,'a,'c,'e,' ,'f,'o,'r,' ,'m,'o,'n\n-\tbyte\t'i,'t,'o,'r,' ,'b,'u,'f,'f,'e,'r,'\\n\n-LOCAL_LABEL(errtxt_end):\n-\n-\tEVEN\n-LOCAL_LABEL(3):\n-\tpea\tLOCAL_LABEL(errtxt_end)-LOCAL_LABEL(errtxt)\n-\tpea\tLOCAL_LABEL(errtxt)(%pc)\n-\tpea\t2\n-\tjsr\twrite\n-\tbra.b\t_exit\n-LOCAL_LABEL(endofstart):\n-\t\n-\tEVEN\n-\n-\tCOMM\tsplimit%,4\n-\tCOMM\tenviron,4\n-\tCOMM\t_countbase,4\n-\n-\tIDENT (\"$Id: mot3300Mcrt0.S,v 1.1.1.2 1998/01/14 19:39:08 law Exp $\")\n-\tIDENT (\"Contributed by Manfred Hollstein (manfred@lts.sel.alcatel.de)\")\n-\tIDENT (\"Corrections by Philippe De Muyter (phdm@macqel.be)\")"}, {"sha": "f898ba979126d7a8cce753eed64022a025dd8043", "filename": "gcc/libgcc2.c", "status": "modified", "additions": 0, "deletions": 45, "changes": 45, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e87b9d8b7ad4941bf2c33d42467569568d18ca5c/gcc%2Flibgcc2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e87b9d8b7ad4941bf2c33d42467569568d18ca5c/gcc%2Flibgcc2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flibgcc2.c?ref=e87b9d8b7ad4941bf2c33d42467569568d18ca5c", "patch": "@@ -1496,51 +1496,6 @@ mprotect (char *addr, int len, int prot)\n #ifdef TRANSFER_FROM_TRAMPOLINE\n TRANSFER_FROM_TRAMPOLINE\n #endif\n-\n-#ifdef __sysV68__\n-\n-#include <sys/signal.h>\n-#include <errno.h>\n-\n-/* Motorola forgot to put memctl.o in the libp version of libc881.a,\n-   so define it here, because we need it in __clear_insn_cache below */\n-/* On older versions of this OS, no memctl or MCT_TEXT are defined;\n-   hence we enable this stuff only if MCT_TEXT is #define'd.  */\n-\n-#ifdef MCT_TEXT\n-asm(\"\\n\\\n-\tglobal memctl\\n\\\n-memctl:\\n\\\n-\tmovq &75,%d0\\n\\\n-\ttrap &0\\n\\\n-\tbcc.b noerror\\n\\\n-\tjmp cerror%\\n\\\n-noerror:\\n\\\n-\tmovq &0,%d0\\n\\\n-\trts\");\n-#endif\n-\n-/* Clear instruction cache so we can call trampolines on stack.\n-   This is called from FINALIZE_TRAMPOLINE in mot3300.h.  */\n-\n-void\n-__clear_insn_cache (void)\n-{\n-#ifdef MCT_TEXT\n-  int save_errno;\n-\n-  /* Preserve errno, because users would be surprised to have\n-  errno changing without explicitly calling any system-call.  */\n-  save_errno = errno;\n-\n-  /* Keep it simple : memctl (MCT_TEXT) always fully clears the insn cache.\n-     No need to use an address derived from _start or %sp, as 0 works also.  */\n-  memctl(0, 4096, MCT_TEXT);\n-  errno = save_errno;\n-#endif\n-}\n-\n-#endif /* __sysV68__ */\n #endif /* L_trampoline */\n \f\n #ifndef __CYGWIN__"}]}