{"sha": "540d92ae9b629eb40dc45a5d76b0f0d0222bf4e0", "node_id": "C_kwDOANBUbNoAKDU0MGQ5MmFlOWI2MjllYjQwZGM0NWE1ZDc2YjBmMGQwMjIyYmY0ZTA", "commit": {"author": {"name": "Aldy Hernandez", "email": "aldyh@redhat.com", "date": "2021-11-15T08:56:48Z"}, "committer": {"name": "Aldy Hernandez", "email": "aldyh@redhat.com", "date": "2021-11-15T12:16:56Z"}, "message": "path solver: Default to global range if nothing found.\n\nThis has been a long time coming, but we weren't able to make the\nchange because of some unrelated regressions.\n\nTested on x86-64 & ppc64le Linux.\n\ngcc/ChangeLog:\n\n\t* gimple-range-path.cc (path_range_query::internal_range_of_expr):\n\tDefault to global range if nothing found.\n\ngcc/testsuite/ChangeLog:\n\n\t* g++.dg/tree-ssa/pr31146-2.C: Add -fno-thread-jumps.", "tree": {"sha": "7424fd513b5bc2584bf3c64f947e6307adb91542", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7424fd513b5bc2584bf3c64f947e6307adb91542"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/540d92ae9b629eb40dc45a5d76b0f0d0222bf4e0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/540d92ae9b629eb40dc45a5d76b0f0d0222bf4e0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/540d92ae9b629eb40dc45a5d76b0f0d0222bf4e0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/540d92ae9b629eb40dc45a5d76b0f0d0222bf4e0/comments", "author": {"login": "aldyh", "id": 12937877, "node_id": "MDQ6VXNlcjEyOTM3ODc3", "avatar_url": "https://avatars.githubusercontent.com/u/12937877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aldyh", "html_url": "https://github.com/aldyh", "followers_url": "https://api.github.com/users/aldyh/followers", "following_url": "https://api.github.com/users/aldyh/following{/other_user}", "gists_url": "https://api.github.com/users/aldyh/gists{/gist_id}", "starred_url": "https://api.github.com/users/aldyh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aldyh/subscriptions", "organizations_url": "https://api.github.com/users/aldyh/orgs", "repos_url": "https://api.github.com/users/aldyh/repos", "events_url": "https://api.github.com/users/aldyh/events{/privacy}", "received_events_url": "https://api.github.com/users/aldyh/received_events", "type": "User", "site_admin": false}, "committer": {"login": "aldyh", "id": 12937877, "node_id": "MDQ6VXNlcjEyOTM3ODc3", "avatar_url": "https://avatars.githubusercontent.com/u/12937877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aldyh", "html_url": "https://github.com/aldyh", "followers_url": "https://api.github.com/users/aldyh/followers", "following_url": "https://api.github.com/users/aldyh/following{/other_user}", "gists_url": "https://api.github.com/users/aldyh/gists{/gist_id}", "starred_url": "https://api.github.com/users/aldyh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aldyh/subscriptions", "organizations_url": "https://api.github.com/users/aldyh/orgs", "repos_url": "https://api.github.com/users/aldyh/repos", "events_url": "https://api.github.com/users/aldyh/events{/privacy}", "received_events_url": "https://api.github.com/users/aldyh/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "220bd61874cf114667b44f9ded76ed0639eb278b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/220bd61874cf114667b44f9ded76ed0639eb278b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/220bd61874cf114667b44f9ded76ed0639eb278b"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "f6e319992937c9871841c27261ee41135d57a6c0", "filename": "gcc/gimple-range-path.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/540d92ae9b629eb40dc45a5d76b0f0d0222bf4e0/gcc%2Fgimple-range-path.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/540d92ae9b629eb40dc45a5d76b0f0d0222bf4e0/gcc%2Fgimple-range-path.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-range-path.cc?ref=540d92ae9b629eb40dc45a5d76b0f0d0222bf4e0", "patch": "@@ -212,7 +212,7 @@ path_range_query::internal_range_of_expr (irange &r, tree name, gimple *stmt)\n       return true;\n     }\n \n-  r.set_varying (TREE_TYPE (name));\n+  r = gimple_range_global (name);\n   return true;\n }\n "}, {"sha": "fc268578f6920565d11a76c2684cebd112679a8e", "filename": "gcc/testsuite/g++.dg/tree-ssa/pr31146-2.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/540d92ae9b629eb40dc45a5d76b0f0d0222bf4e0/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Fpr31146-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/540d92ae9b629eb40dc45a5d76b0f0d0222bf4e0/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Fpr31146-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Fpr31146-2.C?ref=540d92ae9b629eb40dc45a5d76b0f0d0222bf4e0", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O -fcheck-new -fno-tree-vrp -fdump-tree-forwprop1\" } */\n+/* { dg-options \"-O -fcheck-new -fno-tree-vrp -fdump-tree-forwprop1 -fno-thread-jumps\" } */\n \n #include <new>\n "}]}