{"sha": "fae25b37f20b5015e494b7314b1d29136b88c5c7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmFlMjViMzdmMjBiNTAxNWU0OTRiNzMxNGIxZDI5MTM2Yjg4YzVjNw==", "commit": {"author": {"name": "Andrew MacLeod", "email": "amacleod@redhat.com", "date": "2008-01-17T21:37:14Z"}, "committer": {"name": "Andrew Macleod", "email": "amacleod@gcc.gnu.org", "date": "2008-01-17T21:37:14Z"}, "message": "Teach SCCVN that throwing expressions are not to be regenerated.\n\nhttp://gcc.gnu.org/ml/gcc-patches/2008-01/msg00764.html\n\nTeach SCCVN that throwing expressions are not to be regenerated.\n\n2008-01-17  Andrew MacLeod  <amacleod@redhat.com>\n\n\t* tree-ssa-sccvn.c (visit_use): Expressions which can throw are varying.\t* gcc.c-torture/compile/pr34648.c: New testcase.\n\nFrom-SVN: r131610", "tree": {"sha": "e495590c621364970717dfc05ae84e3e64453da3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e495590c621364970717dfc05ae84e3e64453da3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fae25b37f20b5015e494b7314b1d29136b88c5c7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fae25b37f20b5015e494b7314b1d29136b88c5c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fae25b37f20b5015e494b7314b1d29136b88c5c7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fae25b37f20b5015e494b7314b1d29136b88c5c7/comments", "author": null, "committer": null, "parents": [{"sha": "2e152e16873f3774cbaf228cfdba670b18af51a0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e152e16873f3774cbaf228cfdba670b18af51a0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e152e16873f3774cbaf228cfdba670b18af51a0"}], "stats": {"total": 52, "additions": 51, "deletions": 1}, "files": [{"sha": "91874635b8b3c0facea1940cf2b4d1f85dc17cde", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fae25b37f20b5015e494b7314b1d29136b88c5c7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fae25b37f20b5015e494b7314b1d29136b88c5c7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fae25b37f20b5015e494b7314b1d29136b88c5c7", "patch": "@@ -1,3 +1,8 @@\n+2008-01-17  Andrew MacLeod  <amacleod@redhat.com>\n+\n+\tPR tree-optimization/34648\n+\t* tree-ssa-sccvn.c (visit_use): Expressions which can throw are varying.\n+\n 2008-01-17  Anatoly Sokolov <aesok@post.ru>\n \n \t* config/avr/avr.h (LINK_SPEC): Support -mrelax and -mpmem-wrap-around."}, {"sha": "eb8a26cf610f15ac886e902e6c70b2004b52ad63", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fae25b37f20b5015e494b7314b1d29136b88c5c7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fae25b37f20b5015e494b7314b1d29136b88c5c7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=fae25b37f20b5015e494b7314b1d29136b88c5c7", "patch": "@@ -1,3 +1,8 @@\n+2008-01-17  Andrew MacLeod  <amacleod@redhat.com>\n+\n+\tPR tree-optimization/34648\n+\t* gcc.c-torture/compile/pr34648.c: New testcase.\n+\n 2008-01-17  Sebastian Pop  <sebastian.pop@amd.com>\n \n \tPR testsuite/34821"}, {"sha": "1f7472fe76deb5b7e21d6925e1a8d0fcd55b9a4d", "filename": "gcc/testsuite/gcc.c-torture/compile/pr34648.c", "status": "added", "additions": 39, "deletions": 0, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fae25b37f20b5015e494b7314b1d29136b88c5c7/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr34648.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fae25b37f20b5015e494b7314b1d29136b88c5c7/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr34648.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr34648.c?ref=fae25b37f20b5015e494b7314b1d29136b88c5c7", "patch": "@@ -0,0 +1,39 @@\n+/* PR tree-optimization/34648 */\n+\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -fexceptions\" } */\n+\n+extern const unsigned short int **bar (void) __attribute__ ((const));\n+const char *a;\n+int b;\n+char c;\n+\n+char\n+foo (int *x)\n+{\n+  char r;\n+\n+  c = '\\0';\n+  if (!b)\n+    {\n+      while (((*bar ())[a[*x]] & 0x2000) != 0)\n+        (*x)++;\n+      if (a[++(*x)] == '-')\n+        {\n+          (*x)++;\n+          if (a[*x] && !((*bar ())[a[*x]] & 0x2000))\n+            return '?';\n+        }\n+      if (!a[*x] || ((*bar ())[a[*x]] & 0x2000))\n+        {\n+          while (((*bar ())[a[*x]] & 0x2000))\n+            ++(*x);\n+          return '\\0';\n+        }\n+    }\n+\n+  r = a[*x];\n+  b = a[*x] && !((*bar ())[a[*x]] & 0x2000);\n+  return r;\n+}\n+"}, {"sha": "d7b8c8a72d7fb990d1f24e868f787dd6a6953b6c", "filename": "gcc/tree-ssa-sccvn.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fae25b37f20b5015e494b7314b1d29136b88c5c7/gcc%2Ftree-ssa-sccvn.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fae25b37f20b5015e494b7314b1d29136b88c5c7/gcc%2Ftree-ssa-sccvn.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-sccvn.c?ref=fae25b37f20b5015e494b7314b1d29136b88c5c7", "patch": "@@ -1609,7 +1609,8 @@ visit_use (tree use)\n \t  changed = visit_phi (stmt);\n \t}\n       else if (TREE_CODE (stmt) != GIMPLE_MODIFY_STMT\n-\t       || (ann && ann->has_volatile_ops))\n+\t       || (ann && ann->has_volatile_ops)\n+\t       || tree_could_throw_p (stmt))\n \t{\n \t  changed = defs_to_varying (stmt);\n \t}"}]}