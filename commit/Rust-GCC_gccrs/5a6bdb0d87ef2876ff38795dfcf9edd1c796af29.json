{"sha": "5a6bdb0d87ef2876ff38795dfcf9edd1c796af29", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWE2YmRiMGQ4N2VmMjg3NmZmMzg3OTVkZmNmOWVkZDFjNzk2YWYyOQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2011-12-04T01:40:36Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2011-12-04T01:40:36Z"}, "message": "re PR c++/51313 ([C++0x] ICE: tree check: expected class 'constant', have 'unary' (nop_expr) in null_ptr_cst_p, at cp/call.c:556)\n\n/cp\n2011-12-03  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/51313\n\t* call.c (null_ptr_cst_p): STRIP_NOPS in c++11 mode too.\n\n/testsuite\n2011-12-03  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/51313\n\t* g++.dg/cpp0x/pr51313.C: New.\n\nFrom-SVN: r181980", "tree": {"sha": "929367c326e2fc7938b66f3a6e764d6b4965f9df", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/929367c326e2fc7938b66f3a6e764d6b4965f9df"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5a6bdb0d87ef2876ff38795dfcf9edd1c796af29", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a6bdb0d87ef2876ff38795dfcf9edd1c796af29", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a6bdb0d87ef2876ff38795dfcf9edd1c796af29", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a6bdb0d87ef2876ff38795dfcf9edd1c796af29/comments", "author": null, "committer": null, "parents": [{"sha": "9c3a724411cee39a7bca5b159fcd43d1f93d44db", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c3a724411cee39a7bca5b159fcd43d1f93d44db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9c3a724411cee39a7bca5b159fcd43d1f93d44db"}], "stats": {"total": 34, "additions": 30, "deletions": 4}, "files": [{"sha": "8f26f239ffd20fa1c14af62015da6353a43d08a6", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a6bdb0d87ef2876ff38795dfcf9edd1c796af29/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a6bdb0d87ef2876ff38795dfcf9edd1c796af29/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=5a6bdb0d87ef2876ff38795dfcf9edd1c796af29", "patch": "@@ -1,3 +1,8 @@\n+2011-12-03  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/51313\n+\t* call.c (null_ptr_cst_p): STRIP_NOPS in c++11 mode too.\n+\n 2011-12-01  Jason Merrill  <jason@redhat.com>\n \n \t* call.c (build_new_method_call_1): Handle aggregate initialization."}, {"sha": "93d14be257bec2d4477ab4f4c658e7c01ad723b3", "filename": "gcc/cp/call.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a6bdb0d87ef2876ff38795dfcf9edd1c796af29/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a6bdb0d87ef2876ff38795dfcf9edd1c796af29/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=5a6bdb0d87ef2876ff38795dfcf9edd1c796af29", "patch": "@@ -549,10 +549,8 @@ null_ptr_cst_p (tree t)\n     {\n       /* Core issue 903 says only literal 0 is a null pointer constant.  */\n       if (cxx_dialect < cxx0x)\n-\t{\n-\t  t = integral_constant_value (t);\n-\t  STRIP_NOPS (t);\n-\t}\n+\tt = integral_constant_value (t);\n+      STRIP_NOPS (t);\n       if (integer_zerop (t) && !TREE_OVERFLOW (t))\n \treturn true;\n     }"}, {"sha": "17e21792bb2e976c9b5fbb7489562efea733f804", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a6bdb0d87ef2876ff38795dfcf9edd1c796af29/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a6bdb0d87ef2876ff38795dfcf9edd1c796af29/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5a6bdb0d87ef2876ff38795dfcf9edd1c796af29", "patch": "@@ -1,3 +1,8 @@\n+2011-12-03  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/51313\n+\t* g++.dg/cpp0x/pr51313.C: New.\n+\n 2011-12-03  Tobias Burnus  <burnus@net-b.de>\n \n \tPR fortran/48887"}, {"sha": "ff078e02d6785b4b6a2d1a76b603f44555beb41d", "filename": "gcc/testsuite/g++.dg/cpp0x/pr51313.C", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a6bdb0d87ef2876ff38795dfcf9edd1c796af29/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr51313.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a6bdb0d87ef2876ff38795dfcf9edd1c796af29/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr51313.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr51313.C?ref=5a6bdb0d87ef2876ff38795dfcf9edd1c796af29", "patch": "@@ -0,0 +1,18 @@\n+// PR c++/51313\n+// { dg-options \"-std=c++0x\" }\n+\n+class ostream;\n+\n+extern \"C\" {\n+  extern int isdigit (int);\n+}\n+\n+ostream&\n+operator<<(ostream&, const unsigned char*);\n+\n+extern ostream cout;\n+\n+int main()\n+{\n+  cout << isdigit(0);\n+}"}]}