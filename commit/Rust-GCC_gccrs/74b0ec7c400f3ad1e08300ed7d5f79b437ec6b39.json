{"sha": "74b0ec7c400f3ad1e08300ed7d5f79b437ec6b39", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzRiMGVjN2M0MDBmM2FkMWUwODMwMGVkN2Q1Zjc5YjQzN2VjNmIzOQ==", "commit": {"author": {"name": "Joseph Myers", "email": "joseph@codesourcery.com", "date": "2008-06-26T15:40:56Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2008-06-26T15:40:56Z"}, "message": "c-decl.c (merge_decls): Use !current_function_decl to check for extern declaration of C99 inline...\n\n\t* c-decl.c (merge_decls): Use !current_function_decl to check for\n\textern declaration of C99 inline function being at file scope.\n\ntestsuite:\n\t* gcc.dg/inline-32.c, gcc.dg/inline-32a.c: New tests.\n\nFrom-SVN: r137149", "tree": {"sha": "711e931b0478d086e57364a8c0a134cb4a3301d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/711e931b0478d086e57364a8c0a134cb4a3301d7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/74b0ec7c400f3ad1e08300ed7d5f79b437ec6b39", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74b0ec7c400f3ad1e08300ed7d5f79b437ec6b39", "html_url": "https://github.com/Rust-GCC/gccrs/commit/74b0ec7c400f3ad1e08300ed7d5f79b437ec6b39", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74b0ec7c400f3ad1e08300ed7d5f79b437ec6b39/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "30551d999a73fe2451dde20159132e87b7c33e91", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30551d999a73fe2451dde20159132e87b7c33e91", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30551d999a73fe2451dde20159132e87b7c33e91"}], "stats": {"total": 26, "additions": 24, "deletions": 2}, "files": [{"sha": "525895866728f95b6b30afcd9a249e6f7722ed35", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74b0ec7c400f3ad1e08300ed7d5f79b437ec6b39/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74b0ec7c400f3ad1e08300ed7d5f79b437ec6b39/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=74b0ec7c400f3ad1e08300ed7d5f79b437ec6b39", "patch": "@@ -1,3 +1,8 @@\n+2008-06-26  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* c-decl.c (merge_decls): Use !current_function_decl to check for\n+\textern declaration of C99 inline function being at file scope.\n+\n 2008-06-25  John David Anglin  <dave.anglin@gcc-cnrc.gc.ca>\n \n \t* config.gcc (hppa[12]*-*-hpux10*): Don't use fixproto."}, {"sha": "18ad11901f97962da9b9b42e50121cd51ed607ca", "filename": "gcc/c-decl.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74b0ec7c400f3ad1e08300ed7d5f79b437ec6b39/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74b0ec7c400f3ad1e08300ed7d5f79b437ec6b39/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=74b0ec7c400f3ad1e08300ed7d5f79b437ec6b39", "patch": "@@ -1764,8 +1764,7 @@ merge_decls (tree newdecl, tree olddecl, tree newtype, tree oldtype)\n \t  || !DECL_EXTERNAL (olddecl))\n       && DECL_EXTERNAL (newdecl)\n       && !lookup_attribute (\"gnu_inline\", DECL_ATTRIBUTES (newdecl))\n-      && (DECL_CONTEXT (newdecl) == NULL_TREE\n-\t  || TREE_CODE (DECL_CONTEXT (newdecl)) != FUNCTION_DECL))\n+      && !current_function_decl)\n     DECL_EXTERNAL (newdecl) = 0;\n \n   if (DECL_EXTERNAL (newdecl))"}, {"sha": "01a008f3c186d545bb1acfc7d5f1b0d97cf6d33b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74b0ec7c400f3ad1e08300ed7d5f79b437ec6b39/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74b0ec7c400f3ad1e08300ed7d5f79b437ec6b39/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=74b0ec7c400f3ad1e08300ed7d5f79b437ec6b39", "patch": "@@ -1,3 +1,7 @@\n+2008-06-26  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* gcc.dg/inline-32.c, gcc.dg/inline-32a.c: New tests.\n+\n 2008-06-26  Ira Rosen  <irar@il.ibm.com>\n \n \t* testsuite/lib/target-supports.exp"}, {"sha": "bfcafd5dbba0912bf5444ab313f838b49470c125", "filename": "gcc/testsuite/gcc.dg/inline-32.c", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74b0ec7c400f3ad1e08300ed7d5f79b437ec6b39/gcc%2Ftestsuite%2Fgcc.dg%2Finline-32.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74b0ec7c400f3ad1e08300ed7d5f79b437ec6b39/gcc%2Ftestsuite%2Fgcc.dg%2Finline-32.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Finline-32.c?ref=74b0ec7c400f3ad1e08300ed7d5f79b437ec6b39", "patch": "@@ -0,0 +1,11 @@\n+/* { dg-do link } */\n+/* { dg-options \"-std=c99 -pedantic-errors\" } */\n+/* { dg-additional-sources inline-32a.c } */\n+inline int f (void) { return 0; }\n+\n+int\n+main (void)\n+{\n+  extern int f();\n+  return f ();\n+}"}, {"sha": "a2bde0aac4b2856851ae3d5fd394b6168af22725", "filename": "gcc/testsuite/gcc.dg/inline-32a.c", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74b0ec7c400f3ad1e08300ed7d5f79b437ec6b39/gcc%2Ftestsuite%2Fgcc.dg%2Finline-32a.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74b0ec7c400f3ad1e08300ed7d5f79b437ec6b39/gcc%2Ftestsuite%2Fgcc.dg%2Finline-32a.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Finline-32a.c?ref=74b0ec7c400f3ad1e08300ed7d5f79b437ec6b39", "patch": "@@ -0,0 +1,3 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-std=c99 -pedantic-errors\" } */\n+int f (void) { return 0; }"}]}