{"sha": "1abdf5e7476e4390edf3556d43a5601870cd3418", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWFiZGY1ZTc0NzZlNDM5MGVkZjM1NTZkNDNhNTYwMTg3MGNkMzQxOA==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernds@redhat.com", "date": "2001-03-01T13:35:13Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2001-03-01T13:35:13Z"}, "message": "Fix register elimination problem\n\nFrom-SVN: r40147", "tree": {"sha": "afb09d973d05147c11f6bcb3ce6acac977769bc5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/afb09d973d05147c11f6bcb3ce6acac977769bc5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1abdf5e7476e4390edf3556d43a5601870cd3418", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1abdf5e7476e4390edf3556d43a5601870cd3418", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1abdf5e7476e4390edf3556d43a5601870cd3418", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1abdf5e7476e4390edf3556d43a5601870cd3418/comments", "author": null, "committer": null, "parents": [{"sha": "21e4c9a8db052486c9baf381279d1725048a56f0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21e4c9a8db052486c9baf381279d1725048a56f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/21e4c9a8db052486c9baf381279d1725048a56f0"}], "stats": {"total": 4, "additions": 4, "deletions": 0}, "files": [{"sha": "879827b9f163142199816193c2151edf644bdd30", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1abdf5e7476e4390edf3556d43a5601870cd3418/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1abdf5e7476e4390edf3556d43a5601870cd3418/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1abdf5e7476e4390edf3556d43a5601870cd3418", "patch": "@@ -1,5 +1,8 @@\n 2001-03-01  Bernd Schmidt  <bernds@redhat.com>\n \n+\t* reload1.c (eliminate_regs_in_insn): Restrict the special case\n+\tcode not to try to optimize adds with anything but a REG destination.\n+\n \t* sched-int.h (struct haifa_insn_data): Add new member priority_known.\n \t(INSN_PRIORITY_KNOWN): New accessor macro.\n \t* haifa-sched.c (priority): Use it instead of testing priority against"}, {"sha": "077c410d82586d7d3603d5bfb1a22e48b2d3e479", "filename": "gcc/reload1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1abdf5e7476e4390edf3556d43a5601870cd3418/gcc%2Freload1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1abdf5e7476e4390edf3556d43a5601870cd3418/gcc%2Freload1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload1.c?ref=1abdf5e7476e4390edf3556d43a5601870cd3418", "patch": "@@ -3016,6 +3016,7 @@ eliminate_regs_in_insn (insn, replace)\n      currently support: a single set with the source being a PLUS of an\n      eliminable register and a constant.  */\n   if (old_set\n+      && GET_CODE (SET_DEST (old_set)) == REG\n       && GET_CODE (SET_SRC (old_set)) == PLUS\n       && GET_CODE (XEXP (SET_SRC (old_set), 0)) == REG\n       && GET_CODE (XEXP (SET_SRC (old_set), 1)) == CONST_INT"}]}