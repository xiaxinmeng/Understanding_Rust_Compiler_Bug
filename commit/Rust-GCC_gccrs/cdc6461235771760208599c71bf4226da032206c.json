{"sha": "cdc6461235771760208599c71bf4226da032206c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2RjNjQ2MTIzNTc3MTc2MDIwODU5OWM3MWJmNDIyNmRhMDMyMjA2Yw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@google.com", "date": "2007-08-21T21:35:06Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2007-08-21T21:35:06Z"}, "message": "re PR tree-optimization/33134 (ICE in set_value_range, at tree-vrp.c:325)\n\n./:\tPR tree-optimization/33134\n\t* tree-vrp.c (adjust_range_with_scev): Call\n\tset_value_range_to_value.\ntestsuite/:\n\tPR tree-optimization/33134\n\t* g++.dg/tree-ssa/pr33134.C: New test.\n\nFrom-SVN: r127679", "tree": {"sha": "098804a4e5c928e5b899665e47c37477b03613e1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/098804a4e5c928e5b899665e47c37477b03613e1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cdc6461235771760208599c71bf4226da032206c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cdc6461235771760208599c71bf4226da032206c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cdc6461235771760208599c71bf4226da032206c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cdc6461235771760208599c71bf4226da032206c/comments", "author": null, "committer": null, "parents": [{"sha": "958ea87b6ac26c5c90e0e0f6a5cc6d30da382db0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/958ea87b6ac26c5c90e0e0f6a5cc6d30da382db0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/958ea87b6ac26c5c90e0e0f6a5cc6d30da382db0"}], "stats": {"total": 34, "additions": 33, "deletions": 1}, "files": [{"sha": "486b3d0fefb50720bac97e444e1c64b467c25ac5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cdc6461235771760208599c71bf4226da032206c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cdc6461235771760208599c71bf4226da032206c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cdc6461235771760208599c71bf4226da032206c", "patch": "@@ -1,3 +1,9 @@\n+2007-08-21  Ian Lance Taylor  <iant@google.com>\n+\n+\tPR tree-optimization/33134\n+\t* tree-vrp.c (adjust_range_with_scev): Call\n+\tset_value_range_to_value.\n+\n 2007-08-21  Aldy Hernandez  <aldyh@redhat.com>\n \n \t* value-prof.h (gimple_remove_histogram_value): Remove duplicate"}, {"sha": "3d3ed01b0210bfcd1a77087fc31c02bcdc0c1618", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cdc6461235771760208599c71bf4226da032206c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cdc6461235771760208599c71bf4226da032206c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=cdc6461235771760208599c71bf4226da032206c", "patch": "@@ -1,3 +1,8 @@\n+2007-08-21  Ian Lance Taylor  <iant@google.com>\n+\n+\tPR tree-optimization/33134\n+\t* g++.dg/tree-ssa/pr33134.C: New test.\n+\n 2007-08-21  Nathan Froyd  <froydnj@codesourcery.com>\n \n \t* gcc.target/powerpc/spe-vector-memset.c: New testcase."}, {"sha": "43482c7fc04c453b592e3f5a7d1f194cf294b166", "filename": "gcc/testsuite/g++.dg/tree-ssa/pr33134.C", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cdc6461235771760208599c71bf4226da032206c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Fpr33134.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cdc6461235771760208599c71bf4226da032206c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Fpr33134.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Fpr33134.C?ref=cdc6461235771760208599c71bf4226da032206c", "patch": "@@ -0,0 +1,21 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2\" } */\n+\n+/* Used to crash in VRP.  */\n+/* Testcase by Martin Michlmayr <tbm@cyrius.com> */\n+\n+class FXObject;\n+class FXStream\n+{\n+  public:FXStream (const FXObject *cont = __null);\n+  FXStream & operator<< (const unsigned char &v);\n+};\n+\n+bool fxsaveGIF (FXStream &store)\n+{\n+  int bitsperpixel;\n+  unsigned char c1;\n+  c1 = 0x80;\n+  c1 |= (bitsperpixel - 1) << 4;\n+  store << c1;\n+}"}, {"sha": "40d2264dfdd00e35407855bd3c95ebd5ccae1476", "filename": "gcc/tree-vrp.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cdc6461235771760208599c71bf4226da032206c/gcc%2Ftree-vrp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cdc6461235771760208599c71bf4226da032206c/gcc%2Ftree-vrp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vrp.c?ref=cdc6461235771760208599c71bf4226da032206c", "patch": "@@ -2641,7 +2641,7 @@ adjust_range_with_scev (value_range_t *vr, struct loop *loop, tree stmt,\n   /* Like in PR19590, scev can return a constant function.  */\n   if (is_gimple_min_invariant (chrec))\n     {\n-      set_value_range (vr, VR_RANGE, chrec, chrec, vr->equiv);\n+      set_value_range_to_value (vr, chrec, vr->equiv);\n       return;\n     }\n "}]}