{"sha": "9282f2f99b5ea1442fc568bd96eab0bd34e05c97", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTI4MmYyZjk5YjVlYTE0NDJmYzU2OGJkOTZlYWIwYmQzNGUwNWM5Nw==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-07-25T08:06:54Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-07-25T08:06:54Z"}, "message": "(shadow_tag_warned): New function.\n\nFrom-SVN: r1684", "tree": {"sha": "7acc632524fb274d57dfdb39219915859cbaefaf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7acc632524fb274d57dfdb39219915859cbaefaf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9282f2f99b5ea1442fc568bd96eab0bd34e05c97", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9282f2f99b5ea1442fc568bd96eab0bd34e05c97", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9282f2f99b5ea1442fc568bd96eab0bd34e05c97", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9282f2f99b5ea1442fc568bd96eab0bd34e05c97/comments", "author": null, "committer": null, "parents": [{"sha": "5fe86b8b83f384152d6701c5ce21ab7c22039521", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5fe86b8b83f384152d6701c5ce21ab7c22039521", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5fe86b8b83f384152d6701c5ce21ab7c22039521"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "096ce321d1e3a723732801ff88f7ecfc76225adb", "filename": "gcc/c-decl.c", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9282f2f99b5ea1442fc568bd96eab0bd34e05c97/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9282f2f99b5ea1442fc568bd96eab0bd34e05c97/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=9282f2f99b5ea1442fc568bd96eab0bd34e05c97", "patch": "@@ -385,6 +385,7 @@ static struct binding_level *label_level_chain;\n static tree grokparms (), grokdeclarator ();\n tree pushdecl ();\n tree builtin_function ();\n+void shadow_tag_warned ();\n \n static tree lookup_tag ();\n static tree lookup_tag_reverse ();\n@@ -2789,9 +2790,16 @@ builtin_function (name, type, function_code, library_name)\n void\n shadow_tag (declspecs)\n      tree declspecs;\n+{\n+  shadow_tag_warned (declspecs, 0);\n+}\n+\n+void\n+shadow_tag_warned (declspecs, warned)\n+     tree declspecs;\n+     int warned;\n {\n   int found_tag = 0;\n-  int warned = 0;\n   register tree link;\n \n   pending_invalid_xref = 0;\n@@ -2812,7 +2820,7 @@ shadow_tag (declspecs)\n \n \t  if (name == 0)\n \t    {\n-\t      if (code != ENUMERAL_TYPE)\t/* Empty unnamed enum OK */\n+\t      if (!warned && code != ENUMERAL_TYPE) /* Empty unnamed enum OK */\n \t\t{\n \t\t  pedwarn (\"unnamed struct/union that defines no instances\");\n \t\t  warned = 1;"}]}