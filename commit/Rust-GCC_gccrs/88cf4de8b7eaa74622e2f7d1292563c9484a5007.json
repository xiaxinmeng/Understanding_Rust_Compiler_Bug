{"sha": "88cf4de8b7eaa74622e2f7d1292563c9484a5007", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODhjZjRkZThiN2VhYTc0NjIyZTJmN2QxMjkyNTYzYzk0ODRhNTAwNw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-11-10T21:38:30Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-11-10T21:38:30Z"}, "message": "libgo: use Solaris sendfile lib, fix Solaris _in6_addr_t fields\n    \n    Before Solaris 12 the sendfile function is found in -lsendfile, so look\n    for it there.\n    \n    Solaris 12 adds some more types that use _in6_addr_t, that need to be\n    edited in mksysinfo.\n    \n    Patch by Rainer Orth.\n    \n    Reviewed-on: https://go-review.googlesource.com/16779\n\nFrom-SVN: r230132", "tree": {"sha": "e38fc2fdc0a9b1da894862589e730173bb0f4948", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e38fc2fdc0a9b1da894862589e730173bb0f4948"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/88cf4de8b7eaa74622e2f7d1292563c9484a5007", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88cf4de8b7eaa74622e2f7d1292563c9484a5007", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88cf4de8b7eaa74622e2f7d1292563c9484a5007", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88cf4de8b7eaa74622e2f7d1292563c9484a5007/comments", "author": null, "committer": null, "parents": [{"sha": "732ea6d11de9ab398e14e6e2057c06835716fc0b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/732ea6d11de9ab398e14e6e2057c06835716fc0b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/732ea6d11de9ab398e14e6e2057c06835716fc0b"}], "stats": {"total": 65, "additions": 64, "deletions": 1}, "files": [{"sha": "d23a6cb5f58bf32f44394230c8f344e89dbe0b68", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88cf4de8b7eaa74622e2f7d1292563c9484a5007/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88cf4de8b7eaa74622e2f7d1292563c9484a5007/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=88cf4de8b7eaa74622e2f7d1292563c9484a5007", "patch": "@@ -1,4 +1,4 @@\n-0c07751d139ef90a43ef7f299f925622a8792a9f\n+e3aef41ce0c5be81e2589e60d9cb0db1516e9e2d\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "eb37e29d2f8e29c6f6e0988f4a43abee9bb8296a", "filename": "libgo/configure", "status": "modified", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88cf4de8b7eaa74622e2f7d1292563c9484a5007/libgo%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88cf4de8b7eaa74622e2f7d1292563c9484a5007/libgo%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fconfigure?ref=88cf4de8b7eaa74622e2f7d1292563c9484a5007", "patch": "@@ -14249,6 +14249,46 @@ fi\n fi\n \n    unset ac_cv_func_gethostbyname\n+   ac_fn_c_check_func \"$LINENO\" \"sendfile\" \"ac_cv_func_sendfile\"\n+if test \"x$ac_cv_func_sendfile\" = x\"\"yes; then :\n+\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for main in -lsendfile\" >&5\n+$as_echo_n \"checking for main in -lsendfile... \" >&6; }\n+if test \"${ac_cv_lib_sendfile_main+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  ac_check_lib_save_LIBS=$LIBS\n+LIBS=\"-lsendfile  $LIBS\"\n+cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+\n+\n+int\n+main ()\n+{\n+return main ();\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_c_try_link \"$LINENO\"; then :\n+  ac_cv_lib_sendfile_main=yes\n+else\n+  ac_cv_lib_sendfile_main=no\n+fi\n+rm -f core conftest.err conftest.$ac_objext \\\n+    conftest$ac_exeext conftest.$ac_ext\n+LIBS=$ac_check_lib_save_LIBS\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_sendfile_main\" >&5\n+$as_echo \"$ac_cv_lib_sendfile_main\" >&6; }\n+if test \"x$ac_cv_lib_sendfile_main\" = x\"\"yes; then :\n+  libgo_cv_lib_sockets=\"$libgo_cv_lib_sockets -lsendfile\"\n+fi\n+\n+fi\n+\n    LIBS=$libgo_old_libs\n \n fi"}, {"sha": "6e23a85fa6d698fbeadf3edb1baf90626c52b038", "filename": "libgo/configure.ac", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88cf4de8b7eaa74622e2f7d1292563c9484a5007/libgo%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88cf4de8b7eaa74622e2f7d1292563c9484a5007/libgo%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fconfigure.ac?ref=88cf4de8b7eaa74622e2f7d1292563c9484a5007", "patch": "@@ -473,6 +473,9 @@ AC_CACHE_CHECK([for socket libraries], libgo_cv_lib_sockets,\n \t\t [AC_CHECK_LIB(nsl, main,\n \t\t \t[libgo_cv_lib_sockets=\"$libgo_cv_lib_sockets -lnsl\"])])\n    unset ac_cv_func_gethostbyname\n+   AC_CHECK_FUNC(sendfile, ,\n+\t\t [AC_CHECK_LIB(sendfile, main,\n+\t\t \t[libgo_cv_lib_sockets=\"$libgo_cv_lib_sockets -lsendfile\"])])\n    LIBS=$libgo_old_libs\n ])\n NET_LIBS=\"$libgo_cv_lib_sockets\""}, {"sha": "662619f2076290f1416bf2ae7a560064f48300b7", "filename": "libgo/mksysinfo.sh", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88cf4de8b7eaa74622e2f7d1292563c9484a5007/libgo%2Fmksysinfo.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88cf4de8b7eaa74622e2f7d1292563c9484a5007/libgo%2Fmksysinfo.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fmksysinfo.sh?ref=88cf4de8b7eaa74622e2f7d1292563c9484a5007", "patch": "@@ -1488,4 +1488,24 @@ grep '^type _zone_net_addr_t ' gen-sysinfo.go | \\\n     sed -e 's/_in6_addr/[16]byte/' \\\n     >> ${OUT}\n \n+# The Solaris 12 _flow_arp_desc_t struct.\n+grep '^type _flow_arp_desc_t ' gen-sysinfo.go | \\\n+    sed -e 's/_in6_addr_t/[16]byte/g' \\\n+    >> ${OUT}\n+\n+# The Solaris 12 _flow_l3_desc_t struct.\n+grep '^type _flow_l3_desc_t ' gen-sysinfo.go | \\\n+    sed -e 's/_in6_addr_t/[16]byte/g' \\\n+    >> ${OUT}\n+\n+# The Solaris 12 _mac_ipaddr_t struct.\n+grep '^type _mac_ipaddr_t ' gen-sysinfo.go | \\\n+    sed -e 's/_in6_addr_t/[16]byte/g' \\\n+    >> ${OUT}\n+\n+# The Solaris 12 _mactun_info_t struct.\n+grep '^type _mactun_info_t ' gen-sysinfo.go | \\\n+    sed -e 's/_in6_addr_t/[16]byte/g' \\\n+    >> ${OUT}\n+\n exit $?"}]}