{"sha": "fc4538e41ef500b68485407afaeecdac48bc8e5f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmM0NTM4ZTQxZWY1MDBiNjg0ODU0MDdhZmFlZWNkYWM0OGJjOGU1Zg==", "commit": {"author": {"name": "Steve Ellcey", "email": "sje@cup.hp.com", "date": "2011-05-05T15:49:28Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2011-05-05T15:49:28Z"}, "message": "config.gcc (hppa*64*-*-hpux11*): Modify tm_file and extra_options for 11.31.\n\n2011-05-05  Steve Ellcey  <sje@cup.hp.com>\n\n\t* config.gcc (hppa*64*-*-hpux11*): Modify tm_file and extra_options\n\tfor 11.31.\n\t(hppa[12]*-*-hpux11*): Ditto.\n\t(ia64*-*-hpux*): Add ia64/hpux-unix2003.h to tm_file.\n\t* config/ia64/hpux-unix2003.h: New.\n\t* config/pa/pa-hpux1131.opt: New.\n\t* config/pa/pa-hpux1131.h: New.\n\t* config/pa/pa64-hpux.h (STARTFILE_SPEC): Use unix2003.o if requested.\n\t* config/pa/pa-hpux.opt (flag_pa_unix): Check TARGET_HPUX_11_31 value.\n\tconfig/pa/pa.h (TARGET_HPUX_11_31): Provide default (0) value.\n\nFrom-SVN: r173437", "tree": {"sha": "093c86f1d4211a2ec44bdf0615c16fe84199759d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/093c86f1d4211a2ec44bdf0615c16fe84199759d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fc4538e41ef500b68485407afaeecdac48bc8e5f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fc4538e41ef500b68485407afaeecdac48bc8e5f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fc4538e41ef500b68485407afaeecdac48bc8e5f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fc4538e41ef500b68485407afaeecdac48bc8e5f/comments", "author": null, "committer": null, "parents": [{"sha": "1e30c57853f8dd58129daee2b88a18b8a78c9832", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e30c57853f8dd58129daee2b88a18b8a78c9832", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1e30c57853f8dd58129daee2b88a18b8a78c9832"}], "stats": {"total": 101, "additions": 97, "deletions": 4}, "files": [{"sha": "3e2129a37c771beb815303fb925bde89fb4a9a4e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fc4538e41ef500b68485407afaeecdac48bc8e5f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fc4538e41ef500b68485407afaeecdac48bc8e5f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fc4538e41ef500b68485407afaeecdac48bc8e5f", "patch": "@@ -1,3 +1,16 @@\n+2011-05-05  Steve Ellcey  <sje@cup.hp.com>\n+\n+\t* config.gcc (hppa*64*-*-hpux11*): Modify tm_file and extra_options\n+\tfor 11.31.\n+\t(hppa[12]*-*-hpux11*): Ditto.\n+\t(ia64*-*-hpux*): Add ia64/hpux-unix2003.h to tm_file.\n+\t* config/ia64/hpux-unix2003.h: New.\n+\t* config/pa/pa-hpux1131.opt: New.\n+\t* config/pa/pa-hpux1131.h: New.\n+\t* config/pa/pa64-hpux.h (STARTFILE_SPEC): Use unix2003.o if requested.\n+\t* config/pa/pa-hpux.opt (flag_pa_unix): Check TARGET_HPUX_11_31 value.\n+\tconfig/pa/pa.h (TARGET_HPUX_11_31): Provide default (0) value.\n+\n 2011-05-05  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR debug/48853"}, {"sha": "385e78eb700a17ea0438a58143c764572465e263", "filename": "gcc/config.gcc", "status": "modified", "additions": 15, "deletions": 2, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fc4538e41ef500b68485407afaeecdac48bc8e5f/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fc4538e41ef500b68485407afaeecdac48bc8e5f/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=fc4538e41ef500b68485407afaeecdac48bc8e5f", "patch": "@@ -1065,10 +1065,14 @@ hppa*64*-*-hpux11*)\n \t\t pa/pa64-regs.h pa/pa-hpux.h pa/pa-hpux1010.h \\\n \t\t pa/pa-hpux11.h\"\n \tcase ${target} in\n-\t*-*-hpux11.[1-9]*)\n+\t*-*-hpux11.[12]*)\n \t\ttm_file=\"${tm_file} pa/pa-hpux1111.h pa/pa-64.h pa/pa64-hpux.h\"\n \t\textra_options=\"${extra_options} pa/pa-hpux1111.opt\"\n \t\t;;\n+\t*-*-hpux11.[3-9]*)\n+\t\ttm_file=\"${tm_file} pa/pa-hpux1131.h pa/pa-64.h pa/pa64-hpux.h\"\n+\t\textra_options=\"${extra_options} pa/pa-hpux1131.opt\"\n+\t\t;;\n \t*)\n \t\ttm_file=\"${tm_file} pa/pa-64.h pa/pa64-hpux.h\"\n \t\t;;\n@@ -1113,10 +1117,14 @@ hppa[12]*-*-hpux11*)\n \textra_options=\"${extra_options} pa/pa-hpux.opt pa/pa-hpux1010.opt \\\n \t\t       hpux11.opt\"\n \tcase ${target} in\n-\t*-*-hpux11.[1-9]*)\n+\t*-*-hpux11.[12]*)\n \t\ttm_file=\"${tm_file} pa/pa-hpux1111.h\"\n \t\textra_options=\"${extra_options} pa/pa-hpux1111.opt\"\n \t\t;;\n+\t*-*-hpux11.[3-9]*)\n+\t\ttm_file=\"${tm_file} pa/pa-hpux1131.h\"\n+\t\textra_options=\"${extra_options} pa/pa-hpux1131.opt\"\n+\t\t;;\n \tesac\n \ttmake_file=\"pa/t-pa-hpux11 pa/t-pa-hpux pa/t-hpux-shlib\"\n \t# Set the libgcc version number\n@@ -1582,6 +1590,11 @@ ia64*-*-hpux*)\n \textra_options=\"${extra_options} ia64/ilp32.opt hpux11.opt\"\n \tuse_gcc_stdint=wrap\n \ttm_file=\"${tm_file} hpux-stdint.h\"\n+\tcase ${target} in\n+\t*-*-hpux11.3*)\n+\t\ttm_file=\"${tm_file} ia64/hpux-unix2003.h\"\n+\t\t;;\n+\tesac\n \t;;\n ia64-hp-*vms*)\n \ttm_file=\"${tm_file} elfos.h ia64/sysv4.h ia64/elf.h ia64/vms.h ia64/vms64.h\""}, {"sha": "36418be000e916c1830318899ffc4731074829c4", "filename": "gcc/config/ia64/hpux-unix2003.h", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fc4538e41ef500b68485407afaeecdac48bc8e5f/gcc%2Fconfig%2Fia64%2Fhpux-unix2003.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fc4538e41ef500b68485407afaeecdac48bc8e5f/gcc%2Fconfig%2Fia64%2Fhpux-unix2003.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Fhpux-unix2003.h?ref=fc4538e41ef500b68485407afaeecdac48bc8e5f", "patch": "@@ -0,0 +1,8 @@\n+\n+/* For HP-UX 11.31 and greater, use unix2003.o instead of unix98.o to\n+   get correct C99 snprintf behaviour with buffer overflow.  */\n+\n+#undef STARTFILE_SPEC\n+#define STARTFILE_SPEC \"%{!shared:%{static:crt0%O%s} \\\n+\t\t\t  %{mlp64:/usr/lib/hpux64/unix2003%O%s} \\\n+\t\t\t  %{!mlp64:/usr/lib/hpux32/unix2003%O%s}}\""}, {"sha": "ed5d6a4bd795eb4b5d5fc40a5f54dea9c2393baf", "filename": "gcc/config/pa/pa-hpux.opt", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fc4538e41ef500b68485407afaeecdac48bc8e5f/gcc%2Fconfig%2Fpa%2Fpa-hpux.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fc4538e41ef500b68485407afaeecdac48bc8e5f/gcc%2Fconfig%2Fpa%2Fpa-hpux.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa-hpux.opt?ref=fc4538e41ef500b68485407afaeecdac48bc8e5f", "patch": "@@ -20,7 +20,7 @@\n \n ; The UNIX standard to use for predefines and linking.\n Variable\n-int flag_pa_unix = TARGET_HPUX_11_11 ? 1998 : TARGET_HPUX_10_10 ? 1995 : 1993\n+int flag_pa_unix = TARGET_HPUX_11_31 ? 2003 : TARGET_HPUX_11_11 ? 1998 : TARGET_HPUX_10_10 ? 1995 : 1993\n \n msio\n Target RejectNegative Mask(SIO) MaskExists"}, {"sha": "bc4549bc0fd60cdfe7045ee5e9e895c13c3ae522", "filename": "gcc/config/pa/pa-hpux1131.h", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fc4538e41ef500b68485407afaeecdac48bc8e5f/gcc%2Fconfig%2Fpa%2Fpa-hpux1131.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fc4538e41ef500b68485407afaeecdac48bc8e5f/gcc%2Fconfig%2Fpa%2Fpa-hpux1131.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa-hpux1131.h?ref=fc4538e41ef500b68485407afaeecdac48bc8e5f", "patch": "@@ -0,0 +1,29 @@\n+/* Definitions of target machine for GNU compiler, for HP PA-RISC\n+   Copyright (C) 2004, 2007 Free Software Foundation, Inc.\n+\n+This file is part of GCC.\n+\n+GCC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 3, or (at your option)\n+any later version.\n+\n+GCC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GCC; see the file COPYING3.  If not see\n+<http://www.gnu.org/licenses/>.  */\n+\n+/* HP-UX 11i multibyte and UNIX 98 extensions.  */\n+#undef TARGET_HPUX_11_11\n+#define TARGET_HPUX_11_11 1\n+#undef TARGET_HPUX_11_31\n+#define TARGET_HPUX_11_31 1\n+\n+#undef STARTFILE_SPEC\n+#define STARTFILE_SPEC \\\n+  \"%{!shared:%{pg:gcrt0%O%s}%{!pg:%{p:mcrt0%O%s}%{!p:crt0%O%s}} \\\n+     %{munix=95:unix95%O%s}%{munix=98:unix98%O%s}%{!munix=93:%{!munix=95:%{!munix=98:unix2003%O%s}}}}\""}, {"sha": "c909f2270b14914305e1138fb63b28e534ce862a", "filename": "gcc/config/pa/pa-hpux1131.opt", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fc4538e41ef500b68485407afaeecdac48bc8e5f/gcc%2Fconfig%2Fpa%2Fpa-hpux1131.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fc4538e41ef500b68485407afaeecdac48bc8e5f/gcc%2Fconfig%2Fpa%2Fpa-hpux1131.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa-hpux1131.opt?ref=fc4538e41ef500b68485407afaeecdac48bc8e5f", "patch": "@@ -0,0 +1,23 @@\n+; Options for the HP PA-RISC port of the compiler.\n+\n+; Copyright (C) 2005, 2007, 2011 Free Software Foundation, Inc.\n+;\n+; This file is part of GCC.\n+;\n+; GCC is free software; you can redistribute it and/or modify it under\n+; the terms of the GNU General Public License as published by the Free\n+; Software Foundation; either version 3, or (at your option) any later\n+; version.\n+;\n+; GCC is distributed in the hope that it will be useful, but WITHOUT ANY\n+; WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+; FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+; for more details.\n+;\n+; You should have received a copy of the GNU General Public License\n+; along with GCC; see the file COPYING3.  If not see\n+; <http://www.gnu.org/licenses/>.\n+\n+munix=2003\n+Target RejectNegative Var(flag_pa_unix, 2003)\n+Specify UNIX standard for predefines and linking"}, {"sha": "37c4cb2ccfac2e37640dbc008cf023dafbeaadf5", "filename": "gcc/config/pa/pa64-hpux.h", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fc4538e41ef500b68485407afaeecdac48bc8e5f/gcc%2Fconfig%2Fpa%2Fpa64-hpux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fc4538e41ef500b68485407afaeecdac48bc8e5f/gcc%2Fconfig%2Fpa%2Fpa64-hpux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa64-hpux.h?ref=fc4538e41ef500b68485407afaeecdac48bc8e5f", "patch": "@@ -304,7 +304,14 @@ do {\t\t\t\t\t\t\t\t\\\n /* The following STARTFILE_SPEC and ENDFILE_SPEC defines provide the\n    magic needed to run initializers and finalizers.  */\n #undef STARTFILE_SPEC\n-#if TARGET_HPUX_11_11\n+#if TARGET_HPUX_11_31\n+#define STARTFILE_SPEC \\\n+  \"%{!shared: %{!symbolic: crt0%O%s} \\\n+     %{munix=95:unix95.o%s} %{munix=98:unix98.o%s} \\\n+     %{!munix=93:%{!munix=95:%{!munix=98:unix2003%O%s}}}} \\\n+     %{static:crtbeginT%O%s} \\\n+   %{!static:%{!shared:crtbegin%O%s} %{shared:crtbeginS%O%s}}\"\n+#elif TARGET_HPUX_11_11\n #define STARTFILE_SPEC \\\n   \"%{!shared: %{!symbolic: crt0%O%s} %{munix=95:unix95.o%s} \\\n      %{!munix=93:%{!munix=95:unix98%O%s}}} %{static:crtbeginT%O%s} \\"}]}