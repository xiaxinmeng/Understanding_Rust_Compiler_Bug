{"sha": "d92693b4190b173e71b241fb8f631ae4fa7c3bdc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDkyNjkzYjQxOTBiMTczZTcxYjI0MWZiOGY2MzFhZTRmYTdjM2JkYw==", "commit": {"author": {"name": "Daniel Franke", "email": "franke.daniel@gmail.com", "date": "2007-08-01T13:51:37Z"}, "committer": {"name": "Daniel Franke", "email": "dfranke@gcc.gnu.org", "date": "2007-08-01T13:51:37Z"}, "message": "trans-decl.c (generate_local_decl): Emit warning on unused parameter on \"-Wall -Wextra\" or \"-Wunused-parameter\" but...\n\ngcc/fortran:\n2007-08-01  Daniel Franke  <franke.daniel@gmail.com>\n\n\t* trans-decl.c (generate_local_decl): Emit warning on unused parameter\n\ton \"-Wall -Wextra\" or \"-Wunused-parameter\" but not on \"-Wall\", changed\n\tmessages that start with lower case to upper case.\n\t* invoke.texi (-Wparameter-unused): Document differences between gcc\n\tand gfortran regarding this option.\n\ngcc/testsuite:\n2007-08-01  Daniel Franke  <franke.daniel@gmail.com>\n\n\t* gfortran.dg/parameter_unused.f90: Adjusted dg-options and\n\terror message text.\n\nFrom-SVN: r127126", "tree": {"sha": "26c163078c255bb5354f9a49d77f7a154187884d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/26c163078c255bb5354f9a49d77f7a154187884d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d92693b4190b173e71b241fb8f631ae4fa7c3bdc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d92693b4190b173e71b241fb8f631ae4fa7c3bdc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d92693b4190b173e71b241fb8f631ae4fa7c3bdc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d92693b4190b173e71b241fb8f631ae4fa7c3bdc/comments", "author": {"login": "dfranke76", "id": 15729164, "node_id": "MDQ6VXNlcjE1NzI5MTY0", "avatar_url": "https://avatars.githubusercontent.com/u/15729164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dfranke76", "html_url": "https://github.com/dfranke76", "followers_url": "https://api.github.com/users/dfranke76/followers", "following_url": "https://api.github.com/users/dfranke76/following{/other_user}", "gists_url": "https://api.github.com/users/dfranke76/gists{/gist_id}", "starred_url": "https://api.github.com/users/dfranke76/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dfranke76/subscriptions", "organizations_url": "https://api.github.com/users/dfranke76/orgs", "repos_url": "https://api.github.com/users/dfranke76/repos", "events_url": "https://api.github.com/users/dfranke76/events{/privacy}", "received_events_url": "https://api.github.com/users/dfranke76/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d05360a6128c8ba1e2c616bc94d23a5c686b92db", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d05360a6128c8ba1e2c616bc94d23a5c686b92db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d05360a6128c8ba1e2c616bc94d23a5c686b92db"}], "stats": {"total": 39, "additions": 31, "deletions": 8}, "files": [{"sha": "5db8979973b0aabd966b8371bb44942c38e2f694", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d92693b4190b173e71b241fb8f631ae4fa7c3bdc/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d92693b4190b173e71b241fb8f631ae4fa7c3bdc/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=d92693b4190b173e71b241fb8f631ae4fa7c3bdc", "patch": "@@ -1,3 +1,11 @@\n+2007-08-01  Daniel Franke  <franke.daniel@gmail.com>\n+\n+\t* trans-decl.c (generate_local_decl): Emit warning on unused parameter\n+\ton \"-Wall -Wextra\" or \"-Wunused-parameter\" but not on \"-Wall\", changed\n+\tmessages that start with lower case to upper case.\n+\t* invoke.texi (-Wparameter-unused): Document differences between gcc\n+\tand gfortran regarding this option.\n+\n 2007-08-01  Daniel Franke  <franke.daniel@gmail.com>\n \n \tPR fortran/32945"}, {"sha": "e52bff85dbf4d492220e22e5ceac6f9dfa023672", "filename": "gcc/fortran/invoke.texi", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d92693b4190b173e71b241fb8f631ae4fa7c3bdc/gcc%2Ffortran%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d92693b4190b173e71b241fb8f631ae4fa7c3bdc/gcc%2Ffortran%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Finvoke.texi?ref=d92693b4190b173e71b241fb8f631ae4fa7c3bdc", "patch": "@@ -130,7 +130,7 @@ and warnings}.\n -fsyntax-only  -pedantic  -pedantic-errors @gol\n -Wall  -Waliasing  -Wampersand  -Wcharacter-truncation  -Wconversion @gol\n -Wimplicit-interface  -Wline-truncation  -Wnonstd-intrinsics  -Wsurprising @gol\n--Wno-tabs  -Wunderflow}\n+-Wno-tabs  -Wunderflow -Wunused-parameter}\n \n @item Debugging Options\n @xref{Debugging Options,,Options for debugging your program or GNU Fortran}.\n@@ -488,6 +488,16 @@ for @option{-pedantic}, @option{-std=f95}, @option{-std=f2003}, and\n Produce a warning when numerical constant expressions are\n encountered, which yield an UNDERFLOW during compilation.\n \n+@item -Wunused-parameter\n+@opindex @code{Wunused-parameter}\n+@cindex warnings, unused parameter\n+@cindex unused parameter\n+Contrary to @command{gcc}'s meaning of @option{-Wunused-parameter},\n+@command{gfortran}'s implementation of this option does not warn\n+about unused dummy arguments, but about unused @code{PARAMETER} values.\n+@option{-Wunused-parameter} is not included in @option{-Wall} but is\n+implied by @option{-Wall -Wextra}.\n+\n @item -Werror\n @opindex @code{Werror}\n @cindex warnings, to errors"}, {"sha": "97d6e5c72bfcf9b591ed416499ab66cdeb66c909", "filename": "gcc/fortran/trans-decl.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d92693b4190b173e71b241fb8f631ae4fa7c3bdc/gcc%2Ffortran%2Ftrans-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d92693b4190b173e71b241fb8f631ae4fa7c3bdc/gcc%2Ffortran%2Ftrans-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-decl.c?ref=d92693b4190b173e71b241fb8f631ae4fa7c3bdc", "patch": "@@ -2998,17 +2998,17 @@ generate_local_decl (gfc_symbol * sym)\n       else if (warn_unused_variable\n \t       && sym->attr.dummy\n \t       && sym->attr.intent == INTENT_OUT)\n-\tgfc_warning (\"dummy argument '%s' at %L was declared INTENT(OUT) but was not set\",\n+\tgfc_warning (\"Dummy argument '%s' at %L was declared INTENT(OUT) but was not set\",\n \t\t     sym->name, &sym->declared_at);\n       /* Specific warning for unused dummy arguments. */\n       else if (warn_unused_variable && sym->attr.dummy)\n-\tgfc_warning (\"unused dummy argument '%s' at %L\", sym->name,\n+\tgfc_warning (\"Unused dummy argument '%s' at %L\", sym->name,\n \t\t     &sym->declared_at);\n       /* Warn for unused variables, but not if they're inside a common\n \t block or are use-associated.  */\n       else if (warn_unused_variable\n \t       && !(sym->attr.in_common || sym->attr.use_assoc))\n-\tgfc_warning (\"unused variable '%s' declared at %L\", sym->name,\n+\tgfc_warning (\"Unused variable '%s' declared at %L\", sym->name,\n \t\t     &sym->declared_at);\n       /* For variable length CHARACTER parameters, the PARM_DECL already\n \t references the length variable, so force gfc_get_symbol_decl\n@@ -3031,10 +3031,10 @@ generate_local_decl (gfc_symbol * sym)\n     }\n   else if (sym->attr.flavor == FL_PARAMETER)\n     {\n-      if (warn_unused_variable \n+      if (warn_unused_parameter\n            && !sym->attr.referenced\n            && !sym->attr.use_assoc)\n-\tgfc_warning (\"unused parameter '%s' declared at %L\", sym->name,\n+\tgfc_warning (\"Unused parameter '%s' declared at %L\", sym->name,\n \t\t     &sym->declared_at);\n     }\n "}, {"sha": "641db860de554902437441f27439def301d010ac", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d92693b4190b173e71b241fb8f631ae4fa7c3bdc/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d92693b4190b173e71b241fb8f631ae4fa7c3bdc/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d92693b4190b173e71b241fb8f631ae4fa7c3bdc", "patch": "@@ -1,3 +1,8 @@\n+2007-08-01  Daniel Franke  <franke.daniel@gmail.com>\n+\n+\t* gfortran.dg/parameter_unused.f90: Adjusted dg-options and\n+\terror message text.\n+\n 2007-08-01  Daniel Franke  <franke.daniel@gmail.com>\n \n \tPR fortran/32945"}, {"sha": "86d50851a133ac982e6dc3fb7fa345096b512202", "filename": "gcc/testsuite/gfortran.dg/parameter_unused.f90", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d92693b4190b173e71b241fb8f631ae4fa7c3bdc/gcc%2Ftestsuite%2Fgfortran.dg%2Fparameter_unused.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d92693b4190b173e71b241fb8f631ae4fa7c3bdc/gcc%2Ftestsuite%2Fgfortran.dg%2Fparameter_unused.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fparameter_unused.f90?ref=d92693b4190b173e71b241fb8f631ae4fa7c3bdc", "patch": "@@ -1,9 +1,9 @@\n ! { dg-do compile }\n-! { dg-options \"-Wunused\" }\n+! { dg-options \"-Wunused-parameter\" }\n !\n ! PR fortran/31129 - No warning on unused parameters\n !\n program fred\n-integer,parameter :: j = 9     ! { dg-warning \"unused parameter\" }\n+integer,parameter :: j = 9     ! { dg-warning \"Unused parameter\" }\n end\n "}]}