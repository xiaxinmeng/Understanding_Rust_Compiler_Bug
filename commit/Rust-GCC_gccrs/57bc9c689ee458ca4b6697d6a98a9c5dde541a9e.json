{"sha": "57bc9c689ee458ca4b6697d6a98a9c5dde541a9e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTdiYzljNjg5ZWU0NThjYTRiNjY5N2Q2YTk4YTljNWRkZTU0MWE5ZQ==", "commit": {"author": {"name": "John Hassey", "email": "hassey@gnu.org", "date": "1993-07-23T01:08:12Z"}, "committer": {"name": "John Hassey", "email": "hassey@gnu.org", "date": "1993-07-23T01:08:12Z"}, "message": "Don't use fldcr to serialize it is broken on the 88110...\n\nDon't use fldcr to serialize it is broken on the 88110, use tb1 instead\nMade serialize-volatile the default for all models.\n\nFrom-SVN: r4966", "tree": {"sha": "80eca9d3a6b28f5f5feae59b7ea424745b2cc5c6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/80eca9d3a6b28f5f5feae59b7ea424745b2cc5c6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/57bc9c689ee458ca4b6697d6a98a9c5dde541a9e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57bc9c689ee458ca4b6697d6a98a9c5dde541a9e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/57bc9c689ee458ca4b6697d6a98a9c5dde541a9e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57bc9c689ee458ca4b6697d6a98a9c5dde541a9e/comments", "author": null, "committer": null, "parents": [{"sha": "19d63af99df0f21b65c1e5c2d8682f6416f1c178", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19d63af99df0f21b65c1e5c2d8682f6416f1c178", "html_url": "https://github.com/Rust-GCC/gccrs/commit/19d63af99df0f21b65c1e5c2d8682f6416f1c178"}], "stats": {"total": 14, "additions": 3, "deletions": 11}, "files": [{"sha": "2885e3999be34a014725e498d33e314e56140d94", "filename": "gcc/config/m88k/m88k.h", "status": "modified", "additions": 3, "deletions": 11, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/57bc9c689ee458ca4b6697d6a98a9c5dde541a9e/gcc%2Fconfig%2Fm88k%2Fm88k.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/57bc9c689ee458ca4b6697d6a98a9c5dde541a9e/gcc%2Fconfig%2Fm88k%2Fm88k.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm88k%2Fm88k.h?ref=57bc9c689ee458ca4b6697d6a98a9c5dde541a9e", "patch": "@@ -241,13 +241,11 @@ extern char * reg_names[];\n #define MASK_IDENTIFY_REVISION\t0x00001000 /* Emit ident, with GCC rev */\n #define MASK_WARN_PASS_STRUCT\t0x00002000 /* Warn about passed structs */\n #define MASK_OPTIMIZE_ARG_AREA\t0x00004000 /* Save stack space */\n-#define MASK_SERIALIZE_VOLATILE 0x00008000 /* Serialize volatile refs */\n-#define MASK_NO_SERIALIZE_VOLATILE 0x00010000 /* Don't serialize */\n+#define MASK_NO_SERIALIZE_VOLATILE 0x00008000 /* Serialize volatile refs */\n \n #define MASK_88000 (MASK_88100 | MASK_88110)\n #define MASK_EITHER_LARGE_SHIFT\t(MASK_TRAP_LARGE_SHIFT | \\\n \t\t\t\t MASK_HANDLE_LARGE_SHIFT)\n-#define MASK_SERIALIZE (MASK_SERIALIZE_VOLATILE | MASK_NO_SERIALIZE_VOLATILE)\n \n #define TARGET_88100   \t\t ((target_flags & MASK_88000) == MASK_88100)\n #define TARGET_88110\t\t ((target_flags & MASK_88000) == MASK_88110)\n@@ -265,7 +263,7 @@ extern char * reg_names[];\n #define TARGET_IDENTIFY_REVISION  (target_flags & MASK_IDENTIFY_REVISION)\n #define TARGET_WARN_PASS_STRUCT   (target_flags & MASK_WARN_PASS_STRUCT)\n #define TARGET_OPTIMIZE_ARG_AREA  (target_flags & MASK_OPTIMIZE_ARG_AREA)\n-#define TARGET_SERIALIZE_VOLATILE (target_flags & MASK_SERIALIZE_VOLATILE)\n+#define TARGET_SERIALIZE_VOLATILE (!(target_flags & MASK_NO_SERIALIZE_VOLATILE))\n \n #define TARGET_EITHER_LARGE_SHIFT (target_flags & MASK_EITHER_LARGE_SHIFT)\n \n@@ -295,8 +293,8 @@ extern char * reg_names[];\n     { \"warn-passed-structs\",\t\t MASK_WARN_PASS_STRUCT }, \\\n     { \"optimize-arg-area\",\t\t MASK_OPTIMIZE_ARG_AREA }, \\\n     { \"no-optimize-arg-area\",\t\t-MASK_OPTIMIZE_ARG_AREA }, \\\n-    { \"serialize-volatile\",\t\t MASK_SERIALIZE_VOLATILE }, \\\n     { \"no-serialize-volatile\",\t\t MASK_NO_SERIALIZE_VOLATILE }, \\\n+    { \"serialize-volatile\",\t\t-MASK_NO_SERIALIZE_VOLATILE }, \\\n     SUBTARGET_SWITCHES \\\n     /* Default switches */ \\\n     { \"\",\t\t\t\t TARGET_DEFAULT }, \\\n@@ -322,12 +320,6 @@ extern char * reg_names[];\n     m88k_cpu = (TARGET_88000 ? CPU_M88000\t\t\t\t     \\\n \t\t: (TARGET_88100 ? CPU_M88100 : CPU_M88110));\t\t     \\\n \t\t\t\t\t\t\t\t\t     \\\n-    if (! TARGET_88100 && (target_flags & MASK_SERIALIZE) == 0)\t\t     \\\n-      target_flags |= MASK_SERIALIZE_VOLATILE;\t\t\t\t     \\\n-\t\t\t\t\t\t\t\t\t     \\\n-    if ((target_flags & MASK_NO_SERIALIZE_VOLATILE) != 0)\t\t     \\\n-      target_flags &= ~MASK_SERIALIZE_VOLATILE;\t\t\t\t     \\\n-\t\t\t\t\t\t\t\t\t     \\\n     if (TARGET_BIG_PIC)\t\t\t\t\t\t\t     \\\n       flag_pic = 2;\t\t\t\t\t\t\t     \\\n \t\t\t\t\t\t\t\t\t     \\"}]}