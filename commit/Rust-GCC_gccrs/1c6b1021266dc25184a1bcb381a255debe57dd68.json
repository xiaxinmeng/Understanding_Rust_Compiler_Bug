{"sha": "1c6b1021266dc25184a1bcb381a255debe57dd68", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWM2YjEwMjEyNjZkYzI1MTg0YTFiY2IzODFhMjU1ZGViZTU3ZGQ2OA==", "commit": {"author": {"name": "DJ Delorie", "email": "dj@redhat.com", "date": "2012-08-10T00:45:29Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2012-08-10T00:45:29Z"}, "message": "rl78.c (rl78_alloc_physical_registers): Check for SET before extracting SET_SRC.\n\n* config/rl78/rl78.c (rl78_alloc_physical_registers): Check for\nSET before extracting SET_SRC.\n(rl78_remove_unused_sets): Check for REG before extractnig REGNO.\n\nFrom-SVN: r190278", "tree": {"sha": "425717510a60f82cd8827e87b1a2e662e4741d27", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/425717510a60f82cd8827e87b1a2e662e4741d27"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1c6b1021266dc25184a1bcb381a255debe57dd68", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1c6b1021266dc25184a1bcb381a255debe57dd68", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1c6b1021266dc25184a1bcb381a255debe57dd68", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1c6b1021266dc25184a1bcb381a255debe57dd68/comments", "author": null, "committer": null, "parents": [{"sha": "23459cbecdf506d5b96981a4dbfdb3bcda051689", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/23459cbecdf506d5b96981a4dbfdb3bcda051689", "html_url": "https://github.com/Rust-GCC/gccrs/commit/23459cbecdf506d5b96981a4dbfdb3bcda051689"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "e978842929e346babb495033a56fb44a6ad0e26c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c6b1021266dc25184a1bcb381a255debe57dd68/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c6b1021266dc25184a1bcb381a255debe57dd68/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1c6b1021266dc25184a1bcb381a255debe57dd68", "patch": "@@ -1,3 +1,9 @@\n+2012-08-09  DJ Delorie  <dj@redhat.com>\n+\n+\t* config/rl78/rl78.c (rl78_alloc_physical_registers): Check for\n+\tSET before extracting SET_SRC.\n+\t(rl78_remove_unused_sets): Check for REG before extractnig REGNO.\n+\n 2012-08-09  Oleg Endo  <olegendo@gcc.gnu.org>\n \n \tPR target/54089"}, {"sha": "990c1bb813922b9acc7626c15d76d9f53af2caa0", "filename": "gcc/config/rl78/rl78.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c6b1021266dc25184a1bcb381a255debe57dd68/gcc%2Fconfig%2Frl78%2Frl78.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c6b1021266dc25184a1bcb381a255debe57dd68/gcc%2Fconfig%2Frl78%2Frl78.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frl78%2Frl78.c?ref=1c6b1021266dc25184a1bcb381a255debe57dd68", "patch": "@@ -2217,7 +2217,8 @@ rl78_alloc_physical_registers (void)\n \t  && GET_CODE (PATTERN (insn)) != CALL)\n \t  continue;\n \n-      if (GET_CODE (SET_SRC (PATTERN (insn))) == ASM_OPERANDS)\n+      if (GET_CODE (PATTERN (insn)) == SET\n+\t  && GET_CODE (SET_SRC (PATTERN (insn))) == ASM_OPERANDS)\n \tcontinue;\n \n       valloc_method = get_attr_valloc (insn);\n@@ -2644,7 +2645,7 @@ rl78_remove_unused_sets (void)\n \n       dest = SET_DEST (insn);\n \n-      if (REGNO (dest) > 23)\n+      if (GET_CODE (dest) != REG || REGNO (dest) > 23)\n \tcontinue;\n \n       if (find_regno_note (insn, REG_UNUSED, REGNO (dest)))"}]}