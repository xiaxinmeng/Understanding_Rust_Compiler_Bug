{"sha": "442c0874ea857deaed375a626f848ac97a4fbcaf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDQyYzA4NzRlYTg1N2RlYWVkMzc1YTYyNmY4NDhhYzk3YTRmYmNhZg==", "commit": {"author": {"name": "Jerry Quinn", "email": "jlquinn@optonline.net", "date": "2003-03-22T04:57:46Z"}, "committer": {"name": "Jerry Quinn", "email": "jlquinn@gcc.gnu.org", "date": "2003-03-22T04:57:46Z"}, "message": "re PR libstdc++/5730 (complex<double>::norm() -- huge slowdown from egcs-2.91.66)\n\n2003-03-21  Jerry Quinn  <jlquinn@optonline.net>\n\n\tPR libstdc++/5730\n\t* include/bits/c++config (_GLIBCPP_FAST_MATH): Define.\n        * include/std/std_complex.h (norm):  Use faster,\n        less accurate computation for builtin float types under --fast-math.\n\nFrom-SVN: r64701", "tree": {"sha": "f76ebc4c815b88c0e3338e18655c64f0fec362b2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f76ebc4c815b88c0e3338e18655c64f0fec362b2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/442c0874ea857deaed375a626f848ac97a4fbcaf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/442c0874ea857deaed375a626f848ac97a4fbcaf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/442c0874ea857deaed375a626f848ac97a4fbcaf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/442c0874ea857deaed375a626f848ac97a4fbcaf/comments", "author": {"login": "jlquinn", "id": 826841, "node_id": "MDQ6VXNlcjgyNjg0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/826841?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jlquinn", "html_url": "https://github.com/jlquinn", "followers_url": "https://api.github.com/users/jlquinn/followers", "following_url": "https://api.github.com/users/jlquinn/following{/other_user}", "gists_url": "https://api.github.com/users/jlquinn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jlquinn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jlquinn/subscriptions", "organizations_url": "https://api.github.com/users/jlquinn/orgs", "repos_url": "https://api.github.com/users/jlquinn/repos", "events_url": "https://api.github.com/users/jlquinn/events{/privacy}", "received_events_url": "https://api.github.com/users/jlquinn/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d9b2742a3d4bfc03500e14e4e9bcc7ae9275a079", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d9b2742a3d4bfc03500e14e4e9bcc7ae9275a079", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d9b2742a3d4bfc03500e14e4e9bcc7ae9275a079"}], "stats": {"total": 16, "additions": 15, "deletions": 1}, "files": [{"sha": "30583b0d7adcf4153dfe586421c42d92ef50b97d", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/442c0874ea857deaed375a626f848ac97a4fbcaf/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/442c0874ea857deaed375a626f848ac97a4fbcaf/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=442c0874ea857deaed375a626f848ac97a4fbcaf", "patch": "@@ -1,3 +1,10 @@\n+2003-03-21  Jerry Quinn  <jlquinn@optonline.net>\n+\n+\tPR libstdc++/5730\n+\t* include/bits/c++config (_GLIBCPP_FAST_MATH): Define.\n+        * include/std/std_complex.h (norm):  Use faster,\n+        less accurate computation for builtin float types under --fast-math.\n+\n 2003-03-21  Magnus Fromreide  <gnats@magfr.user.lysator.liu.se>\n \n \t* testsuite/testsuite_hooks.h: Fix warning nits."}, {"sha": "829fe7eca261c5337702ef6cfd11b781ffea8bfe", "filename": "libstdc++-v3/include/bits/c++config", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/442c0874ea857deaed375a626f848ac97a4fbcaf/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fc%2B%2Bconfig", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/442c0874ea857deaed375a626f848ac97a4fbcaf/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fc%2B%2Bconfig", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fc%2B%2Bconfig?ref=442c0874ea857deaed375a626f848ac97a4fbcaf", "patch": "@@ -87,6 +87,13 @@\n #error __USE_MALLOC should never be defined.  Read the release notes.\n #endif\n \n+// Create a boolean flag to be used to determine if --fast-math is set.\n+#ifdef __FAST_MATH__\n+#define _GLIBCPP_FAST_MATH 1\n+#else\n+#define _GLIBCPP_FAST_MATH 0\n+#endif\n+\n // The remainder of the prewritten config is mostly automatic; all the\n // user hooks are listed above.\n "}, {"sha": "87e4bcb4d26bcf5300999ef21651c16bdaf574ea", "filename": "libstdc++-v3/include/std/std_complex.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/442c0874ea857deaed375a626f848ac97a4fbcaf/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fstd_complex.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/442c0874ea857deaed375a626f848ac97a4fbcaf/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fstd_complex.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fstd_complex.h?ref=442c0874ea857deaed375a626f848ac97a4fbcaf", "patch": "@@ -456,7 +456,7 @@ namespace std\n     inline _Tp\n     norm(const complex<_Tp>& __z)\n     {\n-      return _Norm_helper<__is_floating<_Tp>::_M_type>::_S_do_it(__z);\n+      return _Norm_helper<__is_floating<_Tp>::_M_type && !_GLIBCPP_FAST_MATH>::_S_do_it(__z);\n     }\n \n   template<typename _Tp>"}]}