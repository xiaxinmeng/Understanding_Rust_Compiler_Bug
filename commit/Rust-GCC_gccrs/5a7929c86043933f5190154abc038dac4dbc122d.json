{"sha": "5a7929c86043933f5190154abc038dac4dbc122d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWE3OTI5Yzg2MDQzOTMzZjUxOTAxNTRhYmMwMzhkYWM0ZGJjMTIyZA==", "commit": {"author": {"name": "Aldy Hernandez", "email": "aldyh@redhat.com", "date": "2015-06-06T15:16:02Z"}, "committer": {"name": "Aldy Hernandez", "email": "aldyh@gcc.gnu.org", "date": "2015-06-06T15:16:02Z"}, "message": "* dwarf2out.c (gen_lexical_block_die): Initialize stmt_die.\n\nFrom-SVN: r224189", "tree": {"sha": "c89d19e8eb7b4aa0c0ae266a9dab1176e1d303de", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c89d19e8eb7b4aa0c0ae266a9dab1176e1d303de"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5a7929c86043933f5190154abc038dac4dbc122d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a7929c86043933f5190154abc038dac4dbc122d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a7929c86043933f5190154abc038dac4dbc122d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a7929c86043933f5190154abc038dac4dbc122d/comments", "author": {"login": "aldyh", "id": 12937877, "node_id": "MDQ6VXNlcjEyOTM3ODc3", "avatar_url": "https://avatars.githubusercontent.com/u/12937877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aldyh", "html_url": "https://github.com/aldyh", "followers_url": "https://api.github.com/users/aldyh/followers", "following_url": "https://api.github.com/users/aldyh/following{/other_user}", "gists_url": "https://api.github.com/users/aldyh/gists{/gist_id}", "starred_url": "https://api.github.com/users/aldyh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aldyh/subscriptions", "organizations_url": "https://api.github.com/users/aldyh/orgs", "repos_url": "https://api.github.com/users/aldyh/repos", "events_url": "https://api.github.com/users/aldyh/events{/privacy}", "received_events_url": "https://api.github.com/users/aldyh/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e67d1102e0d55effe57427369957351d206f6475", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e67d1102e0d55effe57427369957351d206f6475", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e67d1102e0d55effe57427369957351d206f6475"}], "stats": {"total": 18, "additions": 11, "deletions": 7}, "files": [{"sha": "4d578087dc30622ca9b6a41d6718ace80e21ff44", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a7929c86043933f5190154abc038dac4dbc122d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a7929c86043933f5190154abc038dac4dbc122d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5a7929c86043933f5190154abc038dac4dbc122d", "patch": "@@ -1,3 +1,7 @@\n+2015-06-06  Aldy Hernandez  <aldyh@redhat.com>\n+\n+\t* dwarf2out.c (gen_lexical_block_die): Initialize stmt_die.\n+\n 2015-06-06  Richard Sandiford  <richard.sandiford@arm.com>\n \n \t* emit-rtl.c, expr.c, gcse.c, optabs.c, optabs.h, print-rtl.c,"}, {"sha": "23cf120bee9d1a4b1bdf9a53cba67d08bf1f9de3", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a7929c86043933f5190154abc038dac4dbc122d/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a7929c86043933f5190154abc038dac4dbc122d/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=5a7929c86043933f5190154abc038dac4dbc122d", "patch": "@@ -19818,7 +19818,7 @@ static void\n gen_lexical_block_die (tree stmt, dw_die_ref context_die)\n {\n   dw_die_ref old_die = BLOCK_DIE (stmt);\n-  dw_die_ref stmt_die;\n+  dw_die_ref stmt_die = NULL;\n   if (!old_die)\n     {\n       stmt_die = new_die (DW_TAG_lexical_block, context_die, stmt);\n@@ -19859,13 +19859,13 @@ gen_lexical_block_die (tree stmt, dw_die_ref context_die)\n   if (old_die)\n     stmt_die = old_die;\n \n-  if (!early_dwarf)\n+  /* A non abstract block whose blocks have already been reordered\n+     should have the instruction range for this block.  If so, set the\n+     high/low attributes.  */\n+  if (!early_dwarf && !BLOCK_ABSTRACT (stmt) && TREE_ASM_WRITTEN (stmt))\n     {\n-      /* A non abstract block whose blocks have already been reordered\n-\t should have the instruction range for this block.  If so, set the\n-\t high/low attributes.  */\n-      if (! BLOCK_ABSTRACT (stmt) && TREE_ASM_WRITTEN (stmt))\n-\tadd_high_low_attributes (stmt, stmt_die);\n+      gcc_assert (stmt_die);\n+      add_high_low_attributes (stmt, stmt_die);\n     }\n \n   decls_for_scope (stmt, stmt_die);"}]}