{"sha": "d6d9561c2ed4eec77a7d23a8928ee407264086a1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDZkOTU2MWMyZWQ0ZWVjNzdhN2QyM2E4OTI4ZWU0MDcyNjQwODZhMQ==", "commit": {"author": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2020-11-16T19:26:28Z"}, "committer": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2020-11-16T19:26:28Z"}, "message": "mklog: support unidiff 0.5.4\n\ncontrib/ChangeLog:\n\n\t* mklog.py: Do not call read on an input stream.\n\tFix some flake8 issues.", "tree": {"sha": "88e6b60edb4cb4688005a3e186c3316a3dd95bae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/88e6b60edb4cb4688005a3e186c3316a3dd95bae"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d6d9561c2ed4eec77a7d23a8928ee407264086a1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d6d9561c2ed4eec77a7d23a8928ee407264086a1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d6d9561c2ed4eec77a7d23a8928ee407264086a1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d6d9561c2ed4eec77a7d23a8928ee407264086a1/comments", "author": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "85ebbabd85e03bdc3afc190aeb29250606d18322", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/85ebbabd85e03bdc3afc190aeb29250606d18322", "html_url": "https://github.com/Rust-GCC/gccrs/commit/85ebbabd85e03bdc3afc190aeb29250606d18322"}], "stats": {"total": 9, "additions": 4, "deletions": 5}, "files": [{"sha": "57be299507036eb97f4dd03a65dfa044ee61008e", "filename": "contrib/mklog.py", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d6d9561c2ed4eec77a7d23a8928ee407264086a1/contrib%2Fmklog.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d6d9561c2ed4eec77a7d23a8928ee407264086a1/contrib%2Fmklog.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fmklog.py?ref=d6d9561c2ed4eec77a7d23a8928ee407264086a1", "patch": "@@ -50,7 +50,7 @@\n bugzilla_url = 'https://gcc.gnu.org/bugzilla/rest.cgi/bug?id=%s&' \\\n                'include_fields=summary'\n \n-function_extensions = set(['.c', '.cpp', '.C', '.cc', '.h', '.inc', '.def'])\n+function_extensions = {'.c', '.cpp', '.C', '.cc', '.h', '.inc', '.def'}\n \n help_message = \"\"\"\\\n Generate ChangeLog template for PATCH.\n@@ -111,8 +111,8 @@ def sort_changelog_files(changed_file):\n def get_pr_titles(prs):\n     output = ''\n     for pr in prs:\n-        id = pr.split('/')[-1]\n-        r = requests.get(bugzilla_url % id)\n+        pr_id = pr.split('/')[-1]\n+        r = requests.get(bugzilla_url % pr_id)\n         bugs = r.json()['bugs']\n         if len(bugs) == 1:\n             output += '%s - %s\\n' % (pr, bugs[0]['summary'])\n@@ -242,8 +242,7 @@ def generate_changelog(data, no_functions=False, fill_pr_titles=False):\n     if args.input == '-':\n         args.input = None\n \n-    input = open(args.input) if args.input else sys.stdin\n-    data = input.read()\n+    data = open(args.input) if args.input else sys.stdin\n     output = generate_changelog(data, args.no_functions,\n                                 args.fill_up_bug_titles)\n     if args.changelog:"}]}