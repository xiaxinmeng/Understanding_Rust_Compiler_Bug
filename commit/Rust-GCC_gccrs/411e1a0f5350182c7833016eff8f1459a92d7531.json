{"sha": "411e1a0f5350182c7833016eff8f1459a92d7531", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDExZTFhMGY1MzUwMTgyYzc4MzMwMTZlZmY4ZjE0NTlhOTJkNzUzMQ==", "commit": {"author": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-10-18T14:59:07Z"}, "committer": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-10-18T14:59:07Z"}, "message": "re PR fortran/50420 ([Coarray] lcobound doesn't accept coarray subcomponents)\n\n\tPR fortran/50420\n\t* trans-intrinsic.c (walk_coarray): Allow subreferences after a\n\tcoarray object reference.\n\nFrom-SVN: r180146", "tree": {"sha": "782e5e6b8a8037324df9a9edab0435621ed3cf7e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/782e5e6b8a8037324df9a9edab0435621ed3cf7e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/411e1a0f5350182c7833016eff8f1459a92d7531", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/411e1a0f5350182c7833016eff8f1459a92d7531", "html_url": "https://github.com/Rust-GCC/gccrs/commit/411e1a0f5350182c7833016eff8f1459a92d7531", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/411e1a0f5350182c7833016eff8f1459a92d7531/comments", "author": null, "committer": null, "parents": [{"sha": "6b81e94de1454dbe12edac8ba9192b8da01783e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b81e94de1454dbe12edac8ba9192b8da01783e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b81e94de1454dbe12edac8ba9192b8da01783e8"}], "stats": {"total": 18, "additions": 15, "deletions": 3}, "files": [{"sha": "819369c2adc15d135769f898e30002d8ebcabe24", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/411e1a0f5350182c7833016eff8f1459a92d7531/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/411e1a0f5350182c7833016eff8f1459a92d7531/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=411e1a0f5350182c7833016eff8f1459a92d7531", "patch": "@@ -1,3 +1,9 @@\n+2011-10-18  Mikael Morin  <mikael@gcc.gnu.org>\n+\n+\tPR fortran/50420\n+\t* trans-intrinsic.c (walk_coarray): Allow subreferences after a\n+\tcoarray object reference.\n+\n 2011-10-18  Mikael Morin  <mikael@gcc.gnu.org>\n \n \tPR fortran/50420"}, {"sha": "82bbb69f70d8d884fcbfc2ae92479a9415eb3581", "filename": "gcc/fortran/trans-intrinsic.c", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/411e1a0f5350182c7833016eff8f1459a92d7531/gcc%2Ffortran%2Ftrans-intrinsic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/411e1a0f5350182c7833016eff8f1459a92d7531/gcc%2Ffortran%2Ftrans-intrinsic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-intrinsic.c?ref=411e1a0f5350182c7833016eff8f1459a92d7531", "patch": "@@ -943,10 +943,16 @@ walk_coarray (gfc_expr *e)\n       ss = gfc_get_array_ss (gfc_ss_terminator, e, 0, GFC_SS_SECTION);\n \n       ref = e->ref;\n-      while (ref->next)\n-\tref = ref->next;\n+      while (ref)\n+\t{\n+\t  if (ref->type == REF_ARRAY\n+\t      && ref->u.ar.codimen > 0)\n+\t    break;\n+\n+\t  ref = ref->next;\n+\t}\n \n-      gcc_assert (ref->type == REF_ARRAY && ref->u.ar.codimen > 0);\n+      gcc_assert (ref != NULL);\n       ref->u.ar.type = AR_FULL;\n       ss->data.info.ref = ref;\n     }"}]}