{"sha": "22f8a068527c072cc53956db18f3ef94d5224fbd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjJmOGEwNjg1MjdjMDcyY2M1Mzk1NmRiMThmM2VmOTRkNTIyNGZiZA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2005-02-01T17:13:08Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2005-02-01T17:13:08Z"}, "message": "revert: gjavah.c (print_field_info): Mark static data members of floating-point type with \"__extension__\".\n\n\tRevert:\n\t2005-01-31  Mark Mitchell  <mark@codesourcery.com>\n\t* gjavah.c (print_field_info): Mark static data members of\n\tfloating-point type with \"__extension__\".\n\nFrom-SVN: r94547", "tree": {"sha": "570b2ca9bbce834d23751689dafc028ad425e844", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/570b2ca9bbce834d23751689dafc028ad425e844"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/22f8a068527c072cc53956db18f3ef94d5224fbd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22f8a068527c072cc53956db18f3ef94d5224fbd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/22f8a068527c072cc53956db18f3ef94d5224fbd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22f8a068527c072cc53956db18f3ef94d5224fbd/comments", "author": null, "committer": null, "parents": [{"sha": "d1c8addb269554ac66f494db4f844ca7817a5a27", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1c8addb269554ac66f494db4f844ca7817a5a27", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d1c8addb269554ac66f494db4f844ca7817a5a27"}], "stats": {"total": 25, "additions": 13, "deletions": 12}, "files": [{"sha": "50d79e5289b6a07f2c4b2ba879fd40466621c982", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22f8a068527c072cc53956db18f3ef94d5224fbd/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22f8a068527c072cc53956db18f3ef94d5224fbd/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=22f8a068527c072cc53956db18f3ef94d5224fbd", "patch": "@@ -1,3 +1,10 @@\n+2005-02-01  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tRevert:\n+\t2005-01-31  Mark Mitchell  <mark@codesourcery.com>\n+\t* gjavah.c (print_field_info): Mark static data members of\n+\tfloating-point type with \"__extension__\".\n+\n 2005-01-31  Mark Mitchell  <mark@codesourcery.com>\n \n \t* gjavah.c (print_field_info): Mark static data members of"}, {"sha": "1f25ce62610c19251670ec08fee492a27f705d9b", "filename": "gcc/java/gjavah.c", "status": "modified", "additions": 6, "deletions": 12, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22f8a068527c072cc53956db18f3ef94d5224fbd/gcc%2Fjava%2Fgjavah.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22f8a068527c072cc53956db18f3ef94d5224fbd/gcc%2Fjava%2Fgjavah.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fgjavah.c?ref=22f8a068527c072cc53956db18f3ef94d5224fbd", "patch": "@@ -768,6 +768,8 @@ print_field_info (FILE *stream, JCF* jcf, int name_index, int sig_index,\n \t  print_cxx_classname (stream, \"#define \", jcf, jcf->this_class, 1);\n \t  fputs (\"_\", stream);\n \t}\n+      else\n+\tfputs (\"static \", stream);\n \n       if ((flags & ACC_FINAL) && current_field_value > 0)\n \t{\n@@ -781,7 +783,7 @@ print_field_info (FILE *stream, JCF* jcf, int name_index, int sig_index,\n \t\tjint num;\n \t\tint most_negative = 0;\n \t\tif (! flag_jni)\n-\t\t  fputs (\"static const jint \", stream);\n+\t\t  fputs (\"const jint \", stream);\n \t\tprint_field_name (stream, jcf, name_index, 0);\n \t\tfputs (flag_jni ? \" \" : \" = \", stream);\n \t\tnum = JPOOL_INT (jcf, current_field_value);\n@@ -803,7 +805,7 @@ print_field_info (FILE *stream, JCF* jcf, int name_index, int sig_index,\n \t\tjlong num;\n \t\tint most_negative = 0;\n \t\tif (! flag_jni)\n-\t\t  fputs (\"static const jlong \", stream);\n+\t\t  fputs (\"const jlong \", stream);\n \t\tprint_field_name (stream, jcf, name_index, 0);\n \t\tfputs (flag_jni ? \" \" : \" = \", stream);\n \t\tnum = JPOOL_LONG (jcf, current_field_value);\n@@ -824,11 +826,7 @@ print_field_info (FILE *stream, JCF* jcf, int name_index, int sig_index,\n \t      {\n \t\tjfloat fnum = JPOOL_FLOAT (jcf, current_field_value);\n \t\tif (! flag_jni)\n-\t\t  /* ISO C++ does not allow initialization of a static\n-\t\t     data member of floating-point type.  Thus, this\n-\t\t     code is making use of an undocumented GNU C++\n-\t\t     extension.  */\n-\t\t  fputs (\"__extension__ static const jfloat \", stream);\n+\t\t  fputs (\"const jfloat \", stream);\n \t\tprint_field_name (stream, jcf, name_index, 0);\n \t\tjni_print_float (stream, fnum);\n \t      }\n@@ -837,11 +835,7 @@ print_field_info (FILE *stream, JCF* jcf, int name_index, int sig_index,\n \t      {\n \t\tjdouble dnum = JPOOL_DOUBLE (jcf, current_field_value);\n \t\tif (! flag_jni)\n-\t\t  /* ISO C++ does not allow initialization of a static\n-\t\t     data member of floating-point type.  Thus, this\n-\t\t     code is making use of an undocumented GNU C++\n-\t\t     extension.  */\n-\t\t  fputs (\"__extension__ static const jdouble \", stream);\n+\t\t  fputs (\"const jdouble \", stream);\n \t\tprint_field_name (stream, jcf, name_index, 0);\n \t\tjni_print_double (stream, dnum);\n \t      }"}]}