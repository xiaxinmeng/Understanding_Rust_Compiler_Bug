{"sha": "965c3f43f9e5e017da24f17b8a5c539147b4279c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTY1YzNmNDNmOWU1ZTAxN2RhMjRmMTdiOGE1YzUzOTE0N2I0Mjc5Yw==", "commit": {"author": {"name": "Alexandre Oliva", "email": "oliva@dcc.unicamp.br", "date": "1999-04-03T13:01:48Z"}, "committer": {"name": "Alexandre Oliva", "email": "oliva@gcc.gnu.org", "date": "1999-04-03T13:01:48Z"}, "message": "Makefile.in (install-headers-tar, [...]): avoid problems with CDPATH Reported by Ralf Canis <canis@bigfoot.com>\n\n* Makefile.in (install-headers-tar, install-headers-cpio): avoid\nproblems with CDPATH\nReported by Ralf Canis <canis@bigfoot.com>\n\nFrom-SVN: r26157", "tree": {"sha": "ba2196bae5303cb72b14d332e1393b0106567ae2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ba2196bae5303cb72b14d332e1393b0106567ae2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/965c3f43f9e5e017da24f17b8a5c539147b4279c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/965c3f43f9e5e017da24f17b8a5c539147b4279c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/965c3f43f9e5e017da24f17b8a5c539147b4279c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/965c3f43f9e5e017da24f17b8a5c539147b4279c/comments", "author": null, "committer": null, "parents": [{"sha": "ebc7e094e168aa1d2ab1a2f25f14f411fc20b79e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ebc7e094e168aa1d2ab1a2f25f14f411fc20b79e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ebc7e094e168aa1d2ab1a2f25f14f411fc20b79e"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "fdb72eb5b0bc5fc7a494de47ad04b2124880078f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/965c3f43f9e5e017da24f17b8a5c539147b4279c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/965c3f43f9e5e017da24f17b8a5c539147b4279c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=965c3f43f9e5e017da24f17b8a5c539147b4279c", "patch": "@@ -1,3 +1,9 @@\n+Sat Apr  3 17:57:35 1999  Alexandre Oliva  <oliva@dcc.unicamp.br>\n+\n+\t* Makefile.in (install-headers-tar, install-headers-cpio): avoid\n+\tproblems with CDPATH\n+\tReported by Ralf Canis <canis@bigfoot.com>\n+\n Sat Apr  3 13:50:16 1999  Jeffrey A Law  (law@cygnus.com)\n \n \t* fixinc.x86-linux-gnu: Deleted."}, {"sha": "121b4dea6ddca4cbb2bcbd6dc8e6b0bd0d8e304c", "filename": "gcc/Makefile.in", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/965c3f43f9e5e017da24f17b8a5c539147b4279c/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/965c3f43f9e5e017da24f17b8a5c539147b4279c/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=965c3f43f9e5e017da24f17b8a5c539147b4279c", "patch": "@@ -2636,15 +2636,21 @@ install-include-dir: installdirs\n \n # Install the include directory using tar.\n install-headers-tar: stmp-headers $(STMP_FIXPROTO) install-include-dir\n-\t(cd include; \\\n+# We use `pwd`/include instead of just include to problems with CDPATH\n+# Unless a full pathname is provided, some shells would print the new CWD,\n+# found in CDPATH, corrupting the output.  We could just redirect the\n+# output of `cd', but some shells lose on redirection within `()'s\n+\t(cd `pwd`/include ; \\\n \t tar -cf - .; exit 0) | (cd $(libsubdir)/include; tar $(TAROUTOPTS) - )\n # /bin/sh on some systems returns the status of the first tar,\n # and that can lose with GNU tar which always writes a full block.\n # So use `exit 0' to ignore its exit status.\n \n # Install the include directory using cpio.\n install-headers-cpio: stmp-headers $(STMP_FIXPROTO) install-include-dir\n-\t(cd include; find . -print) | (cd include; cpio -pdum $(libsubdir)/include)\n+# See discussion about the use of `pwd` above\n+\tcd `pwd`/include ; \\\n+\tfind . -print | cpio -pdum $(libsubdir)/include\n \n # Put assert.h where it won't override GNU libc's assert.h.\n # It goes in a dir that is searched after GNU libc's headers;"}]}