{"sha": "da34ca3f122f369f1121608c726c33400f0aced5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGEzNGNhM2YxMjJmMzY5ZjExMjE2MDhjNzI2YzMzNDAwZjBhY2VkNQ==", "commit": {"author": {"name": "Alexandre Oliva", "email": "oliva@adacore.com", "date": "2018-06-30T02:47:29Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2018-06-30T02:47:29Z"}, "message": "Introduce @unless/@endunless and postbootstrap Makefile targets\n\nThis patch turns dependencies of non-bootstrap targets on bootstrap\ntargets for bootstrap builds into dependencies on stage_last.  This\narrangement gets stage1-bubble to run from stage_last if we haven't\nstarted a bootstrap yet, and to use the current stage otherwise.  This\nwas already the case of target libs, just not of non-bootstrapped host\nmodules.\n\nIn order to retain preexisting dependencies in non-bootstrap builds,\nor in gcc-less builds, this introduces support for @unless/@endunless\npairs in Makefile.in.\n\nThere is a remaining possibility of problem if activating, in a tree\nconfigured for bootstrap, a parallel build of two or more modules, at\nleast one bootstrapped and one not.  In this case, make might decide\nto build stage_current and stage_last in parallel, the latter will\nstart a submake to build stage1 while the initial make, having\nsatisfied stage_current, proceeds to build the bootstrapped module in\nnon-bootstrapped configurations.  The two builds will overlap and will\nlikely conflict.  This situation does NOT arise in normal settings,\nhowever: a post-bootstrap build of all-host all-target will indeed\nactivate such targets concurrently, but only after building all\nbootstrapped modules successfully, and it will have both stage_last\nand stage_current targets already satisfied, so the potential race\nbetween builds will not arise.\n\nAnother remaining problem, that is slightly expanded with this patch,\nis that of an interrupted build in a tree configured for bootstrap,\ncontinued with a non-bootstrapped target.  Target modules that were\nnot bootstrapped would already fail to complete the current stage when\nactivated explicitly in the command line for a retry; host modules,\nhowever, would attempt to build their bootstrapped dependencies, which\nis what led to the problem of concurrent builds addressed with this\npatch.  An interrupted or failed build might still recover correctly,\nif the non-bootstrapped target is activated in both builds, because\nthen make will remove stage_last when its build command is\ninterrupted, so that it will attempt to recreate it with stage1-bubble\nin the second try.  A bootstrap build, however, will not be attempting\nto build stage_last, so the file will remain and the retry won't go\nthrough stage1-bubble.  We have lived with that for target modules, so\nwe can probably live with that for host modules too.\n\nAnother undesirable consequence of this change is that non-boostrapped\nhost modules, in a tree configured for bootstrap, when activated as\nmake all-<module>, will build all of stage1 instead of only the\nmodule's usual dependencies.  This is intentional and necessary to fix\nthe parallel-build problem.  If it's not desirable, disabling the\nunnecessary bootstrap configuration will suffice to restore the\noriginal set of dependencies.\n\n\nfor  ChangeLog\n\n\t* configure.ac: Introduce support for @unless/@endunless.\n\t* Makefile.tpl (dep-kind): Rewrite with cond; return\n\tpostbootstrap in some cases.\n\t(make-postboot-dep, postboot-targets): New.\n\t(dependencies): Do not output postbootstrap dependencies at\n\tfirst.  Output non-target ones changed for configure to depend\n\ton stage_last @if gcc-bootstrap, and the original deps @unless\n\tgcc-bootstrap.\n\t* configure.in, Makefile.in: Rebuilt.\n\nFrom-SVN: r262267", "tree": {"sha": "ce48181f8de5821b31f9c9f23b88cf84040decca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ce48181f8de5821b31f9c9f23b88cf84040decca"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/da34ca3f122f369f1121608c726c33400f0aced5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da34ca3f122f369f1121608c726c33400f0aced5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/da34ca3f122f369f1121608c726c33400f0aced5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da34ca3f122f369f1121608c726c33400f0aced5/comments", "author": null, "committer": null, "parents": [{"sha": "6662eec399c0579d0c873e9ec9e01b7a0256c2c3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6662eec399c0579d0c873e9ec9e01b7a0256c2c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6662eec399c0579d0c873e9ec9e01b7a0256c2c3"}], "stats": {"total": 311, "additions": 146, "deletions": 165}, "files": [{"sha": "aef8e315f1469988c222a12794762b11f3e9a202", "filename": "ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da34ca3f122f369f1121608c726c33400f0aced5/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da34ca3f122f369f1121608c726c33400f0aced5/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=da34ca3f122f369f1121608c726c33400f0aced5", "patch": "@@ -1,3 +1,15 @@\n+2018-06-29  Alexandre Oliva <oliva@adacore.com>\n+\n+\t* configure.ac: Introduce support for @unless/@endunless.\n+\t* Makefile.tpl (dep-kind): Rewrite with cond; return\n+\tpostbootstrap in some cases.\n+\t(make-postboot-dep, postboot-targets): New.\n+\t(dependencies): Do not output postbootstrap dependencies at\n+\tfirst.  Output non-target ones changed for configure to depend\n+\ton stage_last @if gcc-bootstrap, and the original deps @unless\n+\tgcc-bootstrap.\n+\t* configure.in, Makefile.in: Rebuilt.\n+\n 2018-06-28  Jackson Woodruff  <jackson.woodruff@arm.com>\n \n \t* MAINTAINERS (write after approval): Add myself."}, {"sha": "e0dfad337a6cab955508eafd76e93166e956b423", "filename": "Makefile.in", "status": "modified", "additions": 52, "deletions": 129, "changes": 181, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da34ca3f122f369f1121608c726c33400f0aced5/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da34ca3f122f369f1121608c726c33400f0aced5/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=da34ca3f122f369f1121608c726c33400f0aced5", "patch": "@@ -55594,7 +55594,6 @@ all-build-m4: maybe-all-build-texinfo\n all-build-fixincludes: maybe-all-build-libiberty\n all-build-libcpp: maybe-all-build-libiberty\n configure-gcc: maybe-configure-intl\n-\n configure-stage1-gcc: maybe-configure-stage1-intl\n configure-stage2-gcc: maybe-configure-stage2-intl\n configure-stage3-gcc: maybe-configure-stage3-intl\n@@ -55605,7 +55604,6 @@ configure-stagefeedback-gcc: maybe-configure-stagefeedback-intl\n configure-stageautoprofile-gcc: maybe-configure-stageautoprofile-intl\n configure-stageautofeedback-gcc: maybe-configure-stageautofeedback-intl\n configure-gcc: maybe-all-gmp\n-\n configure-stage1-gcc: maybe-all-stage1-gmp\n configure-stage2-gcc: maybe-all-stage2-gmp\n configure-stage3-gcc: maybe-all-stage3-gmp\n@@ -55616,7 +55614,6 @@ configure-stagefeedback-gcc: maybe-all-stagefeedback-gmp\n configure-stageautoprofile-gcc: maybe-all-stageautoprofile-gmp\n configure-stageautofeedback-gcc: maybe-all-stageautofeedback-gmp\n configure-gcc: maybe-all-mpfr\n-\n configure-stage1-gcc: maybe-all-stage1-mpfr\n configure-stage2-gcc: maybe-all-stage2-mpfr\n configure-stage3-gcc: maybe-all-stage3-mpfr\n@@ -55627,7 +55624,6 @@ configure-stagefeedback-gcc: maybe-all-stagefeedback-mpfr\n configure-stageautoprofile-gcc: maybe-all-stageautoprofile-mpfr\n configure-stageautofeedback-gcc: maybe-all-stageautofeedback-mpfr\n configure-gcc: maybe-all-mpc\n-\n configure-stage1-gcc: maybe-all-stage1-mpc\n configure-stage2-gcc: maybe-all-stage2-mpc\n configure-stage3-gcc: maybe-all-stage3-mpc\n@@ -55638,7 +55634,6 @@ configure-stagefeedback-gcc: maybe-all-stagefeedback-mpc\n configure-stageautoprofile-gcc: maybe-all-stageautoprofile-mpc\n configure-stageautofeedback-gcc: maybe-all-stageautofeedback-mpc\n configure-gcc: maybe-all-isl\n-\n configure-stage1-gcc: maybe-all-stage1-isl\n configure-stage2-gcc: maybe-all-stage2-isl\n configure-stage3-gcc: maybe-all-stage3-isl\n@@ -55649,7 +55644,6 @@ configure-stagefeedback-gcc: maybe-all-stagefeedback-isl\n configure-stageautoprofile-gcc: maybe-all-stageautoprofile-isl\n configure-stageautofeedback-gcc: maybe-all-stageautofeedback-isl\n configure-gcc: maybe-all-lto-plugin\n-\n configure-stage1-gcc: maybe-all-stage1-lto-plugin\n configure-stage2-gcc: maybe-all-stage2-lto-plugin\n configure-stage3-gcc: maybe-all-stage3-lto-plugin\n@@ -55660,7 +55654,6 @@ configure-stagefeedback-gcc: maybe-all-stagefeedback-lto-plugin\n configure-stageautoprofile-gcc: maybe-all-stageautoprofile-lto-plugin\n configure-stageautofeedback-gcc: maybe-all-stageautofeedback-lto-plugin\n configure-gcc: maybe-all-binutils\n-\n configure-stage1-gcc: maybe-all-stage1-binutils\n configure-stage2-gcc: maybe-all-stage2-binutils\n configure-stage3-gcc: maybe-all-stage3-binutils\n@@ -55671,7 +55664,6 @@ configure-stagefeedback-gcc: maybe-all-stagefeedback-binutils\n configure-stageautoprofile-gcc: maybe-all-stageautoprofile-binutils\n configure-stageautofeedback-gcc: maybe-all-stageautofeedback-binutils\n configure-gcc: maybe-all-gas\n-\n configure-stage1-gcc: maybe-all-stage1-gas\n configure-stage2-gcc: maybe-all-stage2-gas\n configure-stage3-gcc: maybe-all-stage3-gas\n@@ -55682,7 +55674,6 @@ configure-stagefeedback-gcc: maybe-all-stagefeedback-gas\n configure-stageautoprofile-gcc: maybe-all-stageautoprofile-gas\n configure-stageautofeedback-gcc: maybe-all-stageautofeedback-gas\n configure-gcc: maybe-all-ld\n-\n configure-stage1-gcc: maybe-all-stage1-ld\n configure-stage2-gcc: maybe-all-stage2-ld\n configure-stage3-gcc: maybe-all-stage3-ld\n@@ -55693,7 +55684,6 @@ configure-stagefeedback-gcc: maybe-all-stagefeedback-ld\n configure-stageautoprofile-gcc: maybe-all-stageautoprofile-ld\n configure-stageautofeedback-gcc: maybe-all-stageautofeedback-ld\n configure-gcc: maybe-all-gold\n-\n configure-stage1-gcc: maybe-all-stage1-gold\n configure-stage2-gcc: maybe-all-stage2-gold\n configure-stage3-gcc: maybe-all-stage3-gold\n@@ -55704,7 +55694,6 @@ configure-stagefeedback-gcc: maybe-all-stagefeedback-gold\n configure-stageautoprofile-gcc: maybe-all-stageautoprofile-gold\n configure-stageautofeedback-gcc: maybe-all-stageautofeedback-gold\n configure-gcc: maybe-all-libelf\n-\n configure-stage1-gcc: maybe-all-stage1-libelf\n configure-stage2-gcc: maybe-all-stage2-libelf\n configure-stage3-gcc: maybe-all-stage3-libelf\n@@ -55715,7 +55704,6 @@ configure-stagefeedback-gcc: maybe-all-stagefeedback-libelf\n configure-stageautoprofile-gcc: maybe-all-stageautoprofile-libelf\n configure-stageautofeedback-gcc: maybe-all-stageautofeedback-libelf\n configure-gcc: maybe-all-libiconv\n-\n configure-stage1-gcc: maybe-all-stage1-libiconv\n configure-stage2-gcc: maybe-all-stage2-libiconv\n configure-stage3-gcc: maybe-all-stage3-libiconv\n@@ -55726,7 +55714,6 @@ configure-stagefeedback-gcc: maybe-all-stagefeedback-libiconv\n configure-stageautoprofile-gcc: maybe-all-stageautoprofile-libiconv\n configure-stageautofeedback-gcc: maybe-all-stageautofeedback-libiconv\n all-gcc: all-libiberty\n-\n all-stage1-gcc: all-stage1-libiberty\n all-stage2-gcc: all-stage2-libiberty\n all-stage3-gcc: all-stage3-libiberty\n@@ -55737,7 +55724,6 @@ all-stagefeedback-gcc: all-stagefeedback-libiberty\n all-stageautoprofile-gcc: all-stageautoprofile-libiberty\n all-stageautofeedback-gcc: all-stageautofeedback-libiberty\n all-gcc: maybe-all-intl\n-\n all-stage1-gcc: maybe-all-stage1-intl\n all-stage2-gcc: maybe-all-stage2-intl\n all-stage3-gcc: maybe-all-stage3-intl\n@@ -55748,7 +55734,6 @@ all-stagefeedback-gcc: maybe-all-stagefeedback-intl\n all-stageautoprofile-gcc: maybe-all-stageautoprofile-intl\n all-stageautofeedback-gcc: maybe-all-stageautofeedback-intl\n all-gcc: maybe-all-mpfr\n-\n all-stage1-gcc: maybe-all-stage1-mpfr\n all-stage2-gcc: maybe-all-stage2-mpfr\n all-stage3-gcc: maybe-all-stage3-mpfr\n@@ -55759,7 +55744,6 @@ all-stagefeedback-gcc: maybe-all-stagefeedback-mpfr\n all-stageautoprofile-gcc: maybe-all-stageautoprofile-mpfr\n all-stageautofeedback-gcc: maybe-all-stageautofeedback-mpfr\n all-gcc: maybe-all-mpc\n-\n all-stage1-gcc: maybe-all-stage1-mpc\n all-stage2-gcc: maybe-all-stage2-mpc\n all-stage3-gcc: maybe-all-stage3-mpc\n@@ -55770,7 +55754,6 @@ all-stagefeedback-gcc: maybe-all-stagefeedback-mpc\n all-stageautoprofile-gcc: maybe-all-stageautoprofile-mpc\n all-stageautofeedback-gcc: maybe-all-stageautofeedback-mpc\n all-gcc: maybe-all-isl\n-\n all-stage1-gcc: maybe-all-stage1-isl\n all-stage2-gcc: maybe-all-stage2-isl\n all-stage3-gcc: maybe-all-stage3-isl\n@@ -55781,7 +55764,6 @@ all-stagefeedback-gcc: maybe-all-stagefeedback-isl\n all-stageautoprofile-gcc: maybe-all-stageautoprofile-isl\n all-stageautofeedback-gcc: maybe-all-stageautofeedback-isl\n all-gcc: maybe-all-build-texinfo\n-\n all-stage1-gcc: maybe-all-build-texinfo\n all-stage2-gcc: maybe-all-build-texinfo\n all-stage3-gcc: maybe-all-build-texinfo\n@@ -55792,7 +55774,6 @@ all-stagefeedback-gcc: maybe-all-build-texinfo\n all-stageautoprofile-gcc: maybe-all-build-texinfo\n all-stageautofeedback-gcc: maybe-all-build-texinfo\n all-gcc: maybe-all-build-bison\n-\n all-stage1-gcc: maybe-all-build-bison\n all-stage2-gcc: maybe-all-build-bison\n all-stage3-gcc: maybe-all-build-bison\n@@ -55803,7 +55784,6 @@ all-stagefeedback-gcc: maybe-all-build-bison\n all-stageautoprofile-gcc: maybe-all-build-bison\n all-stageautofeedback-gcc: maybe-all-build-bison\n all-gcc: maybe-all-build-flex\n-\n all-stage1-gcc: maybe-all-build-flex\n all-stage2-gcc: maybe-all-build-flex\n all-stage3-gcc: maybe-all-build-flex\n@@ -55814,7 +55794,6 @@ all-stagefeedback-gcc: maybe-all-build-flex\n all-stageautoprofile-gcc: maybe-all-build-flex\n all-stageautofeedback-gcc: maybe-all-build-flex\n all-gcc: maybe-all-build-libiberty\n-\n all-stage1-gcc: maybe-all-build-libiberty\n all-stage2-gcc: maybe-all-build-libiberty\n all-stage3-gcc: maybe-all-build-libiberty\n@@ -55825,7 +55804,6 @@ all-stagefeedback-gcc: maybe-all-build-libiberty\n all-stageautoprofile-gcc: maybe-all-build-libiberty\n all-stageautofeedback-gcc: maybe-all-build-libiberty\n all-gcc: maybe-all-build-fixincludes\n-\n all-stage1-gcc: maybe-all-build-fixincludes\n all-stage2-gcc: maybe-all-build-fixincludes\n all-stage3-gcc: maybe-all-build-fixincludes\n@@ -55836,7 +55814,6 @@ all-stagefeedback-gcc: maybe-all-build-fixincludes\n all-stageautoprofile-gcc: maybe-all-build-fixincludes\n all-stageautofeedback-gcc: maybe-all-build-fixincludes\n all-gcc: maybe-all-build-libcpp\n-\n all-stage1-gcc: maybe-all-build-libcpp\n all-stage2-gcc: maybe-all-build-libcpp\n all-stage3-gcc: maybe-all-build-libcpp\n@@ -55847,7 +55824,6 @@ all-stagefeedback-gcc: maybe-all-build-libcpp\n all-stageautoprofile-gcc: maybe-all-build-libcpp\n all-stageautofeedback-gcc: maybe-all-build-libcpp\n all-gcc: maybe-all-zlib\n-\n all-stage1-gcc: maybe-all-stage1-zlib\n all-stage2-gcc: maybe-all-stage2-zlib\n all-stage3-gcc: maybe-all-stage3-zlib\n@@ -55858,7 +55834,6 @@ all-stagefeedback-gcc: maybe-all-stagefeedback-zlib\n all-stageautoprofile-gcc: maybe-all-stageautoprofile-zlib\n all-stageautofeedback-gcc: maybe-all-stageautofeedback-zlib\n all-gcc: all-libbacktrace\n-\n all-stage1-gcc: all-stage1-libbacktrace\n all-stage2-gcc: all-stage2-libbacktrace\n all-stage3-gcc: all-stage3-libbacktrace\n@@ -55869,7 +55844,6 @@ all-stagefeedback-gcc: all-stagefeedback-libbacktrace\n all-stageautoprofile-gcc: all-stageautoprofile-libbacktrace\n all-stageautofeedback-gcc: all-stageautofeedback-libbacktrace\n all-gcc: all-libcpp\n-\n all-stage1-gcc: all-stage1-libcpp\n all-stage2-gcc: all-stage2-libcpp\n all-stage3-gcc: all-stage3-libcpp\n@@ -55880,7 +55854,6 @@ all-stagefeedback-gcc: all-stagefeedback-libcpp\n all-stageautoprofile-gcc: all-stageautoprofile-libcpp\n all-stageautofeedback-gcc: all-stageautofeedback-libcpp\n all-gcc: all-libdecnumber\n-\n all-stage1-gcc: all-stage1-libdecnumber\n all-stage2-gcc: all-stage2-libdecnumber\n all-stage3-gcc: all-stage3-libdecnumber\n@@ -55891,7 +55864,6 @@ all-stagefeedback-gcc: all-stagefeedback-libdecnumber\n all-stageautoprofile-gcc: all-stageautoprofile-libdecnumber\n all-stageautofeedback-gcc: all-stageautofeedback-libdecnumber\n all-gcc: maybe-all-libiberty\n-\n all-stage1-gcc: maybe-all-stage1-libiberty\n all-stage2-gcc: maybe-all-stage2-libiberty\n all-stage3-gcc: maybe-all-stage3-libiberty\n@@ -55902,7 +55874,6 @@ all-stagefeedback-gcc: maybe-all-stagefeedback-libiberty\n all-stageautoprofile-gcc: maybe-all-stageautoprofile-libiberty\n all-stageautofeedback-gcc: maybe-all-stageautofeedback-libiberty\n all-gcc: maybe-all-fixincludes\n-\n all-stage1-gcc: maybe-all-stage1-fixincludes\n all-stage2-gcc: maybe-all-stage2-fixincludes\n all-stage3-gcc: maybe-all-stage3-fixincludes\n@@ -55913,7 +55884,6 @@ all-stagefeedback-gcc: maybe-all-stagefeedback-fixincludes\n all-stageautoprofile-gcc: maybe-all-stageautoprofile-fixincludes\n all-stageautofeedback-gcc: maybe-all-stageautofeedback-fixincludes\n all-gcc: maybe-all-lto-plugin\n-\n all-stage1-gcc: maybe-all-stage1-lto-plugin\n all-stage2-gcc: maybe-all-stage2-lto-plugin\n all-stage3-gcc: maybe-all-stage3-lto-plugin\n@@ -55924,7 +55894,6 @@ all-stagefeedback-gcc: maybe-all-stagefeedback-lto-plugin\n all-stageautoprofile-gcc: maybe-all-stageautoprofile-lto-plugin\n all-stageautofeedback-gcc: maybe-all-stageautofeedback-lto-plugin\n all-gcc: maybe-all-libiconv\n-\n all-stage1-gcc: maybe-all-stage1-libiconv\n all-stage2-gcc: maybe-all-stage2-libiconv\n all-stage3-gcc: maybe-all-stage3-libiconv\n@@ -55935,7 +55904,6 @@ all-stagefeedback-gcc: maybe-all-stagefeedback-libiconv\n all-stageautoprofile-gcc: maybe-all-stageautoprofile-libiconv\n all-stageautofeedback-gcc: maybe-all-stageautofeedback-libiconv\n info-gcc: maybe-all-build-libiberty\n-\n info-stage1-gcc: maybe-all-build-libiberty\n info-stage2-gcc: maybe-all-build-libiberty\n info-stage3-gcc: maybe-all-build-libiberty\n@@ -55946,7 +55914,6 @@ info-stagefeedback-gcc: maybe-all-build-libiberty\n info-stageautoprofile-gcc: maybe-all-build-libiberty\n info-stageautofeedback-gcc: maybe-all-build-libiberty\n dvi-gcc: maybe-all-build-libiberty\n-\n dvi-stage1-gcc: maybe-all-build-libiberty\n dvi-stage2-gcc: maybe-all-build-libiberty\n dvi-stage3-gcc: maybe-all-build-libiberty\n@@ -55957,7 +55924,6 @@ dvi-stagefeedback-gcc: maybe-all-build-libiberty\n dvi-stageautoprofile-gcc: maybe-all-build-libiberty\n dvi-stageautofeedback-gcc: maybe-all-build-libiberty\n pdf-gcc: maybe-all-build-libiberty\n-\n pdf-stage1-gcc: maybe-all-build-libiberty\n pdf-stage2-gcc: maybe-all-build-libiberty\n pdf-stage3-gcc: maybe-all-build-libiberty\n@@ -55968,7 +55934,6 @@ pdf-stagefeedback-gcc: maybe-all-build-libiberty\n pdf-stageautoprofile-gcc: maybe-all-build-libiberty\n pdf-stageautofeedback-gcc: maybe-all-build-libiberty\n html-gcc: maybe-all-build-libiberty\n-\n html-stage1-gcc: maybe-all-build-libiberty\n html-stage2-gcc: maybe-all-build-libiberty\n html-stage3-gcc: maybe-all-build-libiberty\n@@ -55983,7 +55948,6 @@ install-gcc: maybe-install-lto-plugin\n install-strip-gcc: maybe-install-strip-fixincludes\n install-strip-gcc: maybe-install-strip-lto-plugin\n configure-libcpp: configure-libiberty\n-\n configure-stage1-libcpp: configure-stage1-libiberty\n configure-stage2-libcpp: configure-stage2-libiberty\n configure-stage3-libcpp: configure-stage3-libiberty\n@@ -55994,7 +55958,6 @@ configure-stagefeedback-libcpp: configure-stagefeedback-libiberty\n configure-stageautoprofile-libcpp: configure-stageautoprofile-libiberty\n configure-stageautofeedback-libcpp: configure-stageautofeedback-libiberty\n configure-libcpp: maybe-configure-intl\n-\n configure-stage1-libcpp: maybe-configure-stage1-intl\n configure-stage2-libcpp: maybe-configure-stage2-intl\n configure-stage3-libcpp: maybe-configure-stage3-intl\n@@ -56005,7 +55968,6 @@ configure-stagefeedback-libcpp: maybe-configure-stagefeedback-intl\n configure-stageautoprofile-libcpp: maybe-configure-stageautoprofile-intl\n configure-stageautofeedback-libcpp: maybe-configure-stageautofeedback-intl\n configure-libcpp: maybe-all-libiconv\n-\n configure-stage1-libcpp: maybe-all-stage1-libiconv\n configure-stage2-libcpp: maybe-all-stage2-libiconv\n configure-stage3-libcpp: maybe-all-stage3-libiconv\n@@ -56016,7 +55978,6 @@ configure-stagefeedback-libcpp: maybe-all-stagefeedback-libiconv\n configure-stageautoprofile-libcpp: maybe-all-stageautoprofile-libiconv\n configure-stageautofeedback-libcpp: maybe-all-stageautofeedback-libiconv\n all-libcpp: all-libiberty\n-\n all-stage1-libcpp: all-stage1-libiberty\n all-stage2-libcpp: all-stage2-libiberty\n all-stage3-libcpp: all-stage3-libiberty\n@@ -56027,7 +55988,6 @@ all-stagefeedback-libcpp: all-stagefeedback-libiberty\n all-stageautoprofile-libcpp: all-stageautoprofile-libiberty\n all-stageautofeedback-libcpp: all-stageautofeedback-libiberty\n all-libcpp: maybe-all-intl\n-\n all-stage1-libcpp: maybe-all-stage1-intl\n all-stage2-libcpp: maybe-all-stage2-intl\n all-stage3-libcpp: maybe-all-stage3-intl\n@@ -56038,7 +55998,6 @@ all-stagefeedback-libcpp: maybe-all-stagefeedback-intl\n all-stageautoprofile-libcpp: maybe-all-stageautoprofile-intl\n all-stageautofeedback-libcpp: maybe-all-stageautofeedback-intl\n all-libcpp: maybe-all-libiconv\n-\n all-stage1-libcpp: maybe-all-stage1-libiconv\n all-stage2-libcpp: maybe-all-stage2-libiconv\n all-stage3-libcpp: maybe-all-stage3-libiconv\n@@ -56049,7 +56008,6 @@ all-stagefeedback-libcpp: maybe-all-stagefeedback-libiconv\n all-stageautoprofile-libcpp: maybe-all-stageautoprofile-libiconv\n all-stageautofeedback-libcpp: maybe-all-stageautofeedback-libiconv\n all-fixincludes: maybe-all-libiberty\n-\n all-stage1-fixincludes: maybe-all-stage1-libiberty\n all-stage2-fixincludes: maybe-all-stage2-libiberty\n all-stage3-fixincludes: maybe-all-stage3-libiberty\n@@ -56060,9 +56018,7 @@ all-stagefeedback-fixincludes: maybe-all-stagefeedback-libiberty\n all-stageautoprofile-fixincludes: maybe-all-stageautoprofile-libiberty\n all-stageautofeedback-fixincludes: maybe-all-stageautofeedback-libiberty\n all-gnattools: maybe-all-target-libada\n-all-gnattools: maybe-all-target-libstdc++-v3\n all-lto-plugin: maybe-all-libiberty\n-\n all-stage1-lto-plugin: maybe-all-stage1-libiberty\n all-stage2-lto-plugin: maybe-all-stage2-libiberty\n all-stage3-lto-plugin: maybe-all-stage3-libiberty\n@@ -56073,7 +56029,6 @@ all-stagefeedback-lto-plugin: maybe-all-stagefeedback-libiberty\n all-stageautoprofile-lto-plugin: maybe-all-stageautoprofile-libiberty\n all-stageautofeedback-lto-plugin: maybe-all-stageautofeedback-libiberty\n all-lto-plugin: maybe-all-libiberty-linker-plugin\n-\n all-stage1-lto-plugin: maybe-all-stage1-libiberty-linker-plugin\n all-stage2-lto-plugin: maybe-all-stage2-libiberty-linker-plugin\n all-stage3-lto-plugin: maybe-all-stage3-libiberty-linker-plugin\n@@ -56083,12 +56038,8 @@ all-stagetrain-lto-plugin: maybe-all-stagetrain-libiberty-linker-plugin\n all-stagefeedback-lto-plugin: maybe-all-stagefeedback-libiberty-linker-plugin\n all-stageautoprofile-lto-plugin: maybe-all-stageautoprofile-libiberty-linker-plugin\n all-stageautofeedback-lto-plugin: maybe-all-stageautofeedback-libiberty-linker-plugin\n-configure-libcc1: maybe-configure-gcc\n-all-libcc1: maybe-all-gcc\n all-gotools: maybe-all-target-libgo\n-all-utils: maybe-all-libiberty\n configure-intl: maybe-all-libiconv\n-\n configure-stage1-intl: maybe-all-stage1-libiconv\n configure-stage2-intl: maybe-all-stage2-libiconv\n configure-stage3-intl: maybe-all-stage3-libiconv\n@@ -56099,7 +56050,6 @@ configure-stagefeedback-intl: maybe-all-stagefeedback-libiconv\n configure-stageautoprofile-intl: maybe-all-stageautoprofile-libiconv\n configure-stageautofeedback-intl: maybe-all-stageautofeedback-libiconv\n configure-mpfr: maybe-all-gmp\n-\n configure-stage1-mpfr: maybe-all-stage1-gmp\n configure-stage2-mpfr: maybe-all-stage2-gmp\n configure-stage3-mpfr: maybe-all-stage3-gmp\n@@ -56110,7 +56060,6 @@ configure-stagefeedback-mpfr: maybe-all-stagefeedback-gmp\n configure-stageautoprofile-mpfr: maybe-all-stageautoprofile-gmp\n configure-stageautofeedback-mpfr: maybe-all-stageautofeedback-gmp\n configure-mpc: maybe-all-mpfr\n-\n configure-stage1-mpc: maybe-all-stage1-mpfr\n configure-stage2-mpc: maybe-all-stage2-mpfr\n configure-stage3-mpc: maybe-all-stage3-mpfr\n@@ -56121,7 +56070,6 @@ configure-stagefeedback-mpc: maybe-all-stagefeedback-mpfr\n configure-stageautoprofile-mpc: maybe-all-stageautoprofile-mpfr\n configure-stageautofeedback-mpc: maybe-all-stageautofeedback-mpfr\n configure-isl: maybe-all-gmp\n-\n configure-stage1-isl: maybe-all-stage1-gmp\n configure-stage2-isl: maybe-all-stage2-gmp\n configure-stage3-isl: maybe-all-stage3-gmp\n@@ -56132,7 +56080,6 @@ configure-stagefeedback-isl: maybe-all-stagefeedback-gmp\n configure-stageautoprofile-isl: maybe-all-stageautoprofile-gmp\n configure-stageautofeedback-isl: maybe-all-stageautofeedback-gmp\n all-intl: maybe-all-libiconv\n-\n all-stage1-intl: maybe-all-stage1-libiconv\n all-stage2-intl: maybe-all-stage2-libiconv\n all-stage3-intl: maybe-all-stage3-libiconv\n@@ -56142,25 +56089,17 @@ all-stagetrain-intl: maybe-all-stagetrain-libiconv\n all-stagefeedback-intl: maybe-all-stagefeedback-libiconv\n all-stageautoprofile-intl: maybe-all-stageautoprofile-libiconv\n all-stageautofeedback-intl: maybe-all-stageautofeedback-libiconv\n-configure-gdb: maybe-all-intl\n configure-gdb: maybe-configure-sim\n-configure-gdb: maybe-all-bfd\n-configure-gdb: maybe-all-libiconv\n-all-gdb: maybe-all-libiberty\n-all-gdb: maybe-all-libiconv\n-all-gdb: maybe-all-opcodes\n all-gdb: maybe-all-readline\n all-gdb: maybe-all-build-bison\n all-gdb: maybe-all-sim\n-all-gdb: maybe-all-libdecnumber\n all-gdb: maybe-all-libtermcap\n configure-libgui: maybe-configure-tcl\n configure-libgui: maybe-configure-tk\n all-libgui: maybe-all-tcl\n all-libgui: maybe-all-tk\n all-libgui: maybe-all-itcl\n configure-bfd: configure-libiberty\n-\n configure-stage1-bfd: configure-stage1-libiberty\n configure-stage2-bfd: configure-stage2-libiberty\n configure-stage3-bfd: configure-stage3-libiberty\n@@ -56171,7 +56110,6 @@ configure-stagefeedback-bfd: configure-stagefeedback-libiberty\n configure-stageautoprofile-bfd: configure-stageautoprofile-libiberty\n configure-stageautofeedback-bfd: configure-stageautofeedback-libiberty\n configure-bfd: maybe-configure-intl\n-\n configure-stage1-bfd: maybe-configure-stage1-intl\n configure-stage2-bfd: maybe-configure-stage2-intl\n configure-stage3-bfd: maybe-configure-stage3-intl\n@@ -56182,7 +56120,6 @@ configure-stagefeedback-bfd: maybe-configure-stagefeedback-intl\n configure-stageautoprofile-bfd: maybe-configure-stageautoprofile-intl\n configure-stageautofeedback-bfd: maybe-configure-stageautofeedback-intl\n all-bfd: maybe-all-libiberty\n-\n all-stage1-bfd: maybe-all-stage1-libiberty\n all-stage2-bfd: maybe-all-stage2-libiberty\n all-stage3-bfd: maybe-all-stage3-libiberty\n@@ -56193,7 +56130,6 @@ all-stagefeedback-bfd: maybe-all-stagefeedback-libiberty\n all-stageautoprofile-bfd: maybe-all-stageautoprofile-libiberty\n all-stageautofeedback-bfd: maybe-all-stageautofeedback-libiberty\n all-bfd: maybe-all-intl\n-\n all-stage1-bfd: maybe-all-stage1-intl\n all-stage2-bfd: maybe-all-stage2-intl\n all-stage3-bfd: maybe-all-stage3-intl\n@@ -56204,7 +56140,6 @@ all-stagefeedback-bfd: maybe-all-stagefeedback-intl\n all-stageautoprofile-bfd: maybe-all-stageautoprofile-intl\n all-stageautofeedback-bfd: maybe-all-stageautofeedback-intl\n all-bfd: maybe-all-zlib\n-\n all-stage1-bfd: maybe-all-stage1-zlib\n all-stage2-bfd: maybe-all-stage2-zlib\n all-stage3-bfd: maybe-all-stage3-zlib\n@@ -56215,7 +56150,6 @@ all-stagefeedback-bfd: maybe-all-stagefeedback-zlib\n all-stageautoprofile-bfd: maybe-all-stageautoprofile-zlib\n all-stageautofeedback-bfd: maybe-all-stageautofeedback-zlib\n configure-opcodes: configure-libiberty\n-\n configure-stage1-opcodes: configure-stage1-libiberty\n configure-stage2-opcodes: configure-stage2-libiberty\n configure-stage3-opcodes: configure-stage3-libiberty\n@@ -56226,7 +56160,6 @@ configure-stagefeedback-opcodes: configure-stagefeedback-libiberty\n configure-stageautoprofile-opcodes: configure-stageautoprofile-libiberty\n configure-stageautofeedback-opcodes: configure-stageautofeedback-libiberty\n all-opcodes: maybe-all-libiberty\n-\n all-stage1-opcodes: maybe-all-stage1-libiberty\n all-stage2-opcodes: maybe-all-stage2-libiberty\n all-stage3-opcodes: maybe-all-stage3-libiberty\n@@ -56237,7 +56170,6 @@ all-stagefeedback-opcodes: maybe-all-stagefeedback-libiberty\n all-stageautoprofile-opcodes: maybe-all-stageautoprofile-libiberty\n all-stageautofeedback-opcodes: maybe-all-stageautofeedback-libiberty\n configure-binutils: maybe-configure-intl\n-\n configure-stage1-binutils: maybe-configure-stage1-intl\n configure-stage2-binutils: maybe-configure-stage2-intl\n configure-stage3-binutils: maybe-configure-stage3-intl\n@@ -56248,7 +56180,6 @@ configure-stagefeedback-binutils: maybe-configure-stagefeedback-intl\n configure-stageautoprofile-binutils: maybe-configure-stageautoprofile-intl\n configure-stageautofeedback-binutils: maybe-configure-stageautofeedback-intl\n all-binutils: maybe-all-libiberty\n-\n all-stage1-binutils: maybe-all-stage1-libiberty\n all-stage2-binutils: maybe-all-stage2-libiberty\n all-stage3-binutils: maybe-all-stage3-libiberty\n@@ -56259,7 +56190,6 @@ all-stagefeedback-binutils: maybe-all-stagefeedback-libiberty\n all-stageautoprofile-binutils: maybe-all-stageautoprofile-libiberty\n all-stageautofeedback-binutils: maybe-all-stageautofeedback-libiberty\n all-binutils: maybe-all-opcodes\n-\n all-stage1-binutils: maybe-all-stage1-opcodes\n all-stage2-binutils: maybe-all-stage2-opcodes\n all-stage3-binutils: maybe-all-stage3-opcodes\n@@ -56270,7 +56200,6 @@ all-stagefeedback-binutils: maybe-all-stagefeedback-opcodes\n all-stageautoprofile-binutils: maybe-all-stageautoprofile-opcodes\n all-stageautofeedback-binutils: maybe-all-stageautofeedback-opcodes\n all-binutils: maybe-all-bfd\n-\n all-stage1-binutils: maybe-all-stage1-bfd\n all-stage2-binutils: maybe-all-stage2-bfd\n all-stage3-binutils: maybe-all-stage3-bfd\n@@ -56281,7 +56210,6 @@ all-stagefeedback-binutils: maybe-all-stagefeedback-bfd\n all-stageautoprofile-binutils: maybe-all-stageautoprofile-bfd\n all-stageautofeedback-binutils: maybe-all-stageautofeedback-bfd\n all-binutils: maybe-all-build-flex\n-\n all-stage1-binutils: maybe-all-build-flex\n all-stage2-binutils: maybe-all-build-flex\n all-stage3-binutils: maybe-all-build-flex\n@@ -56292,7 +56220,6 @@ all-stagefeedback-binutils: maybe-all-build-flex\n all-stageautoprofile-binutils: maybe-all-build-flex\n all-stageautofeedback-binutils: maybe-all-build-flex\n all-binutils: maybe-all-build-bison\n-\n all-stage1-binutils: maybe-all-build-bison\n all-stage2-binutils: maybe-all-build-bison\n all-stage3-binutils: maybe-all-build-bison\n@@ -56303,7 +56230,6 @@ all-stagefeedback-binutils: maybe-all-build-bison\n all-stageautoprofile-binutils: maybe-all-build-bison\n all-stageautofeedback-binutils: maybe-all-build-bison\n all-binutils: maybe-all-intl\n-\n all-stage1-binutils: maybe-all-stage1-intl\n all-stage2-binutils: maybe-all-stage2-intl\n all-stage3-binutils: maybe-all-stage3-intl\n@@ -56314,7 +56240,6 @@ all-stagefeedback-binutils: maybe-all-stagefeedback-intl\n all-stageautoprofile-binutils: maybe-all-stageautoprofile-intl\n all-stageautofeedback-binutils: maybe-all-stageautofeedback-intl\n all-binutils: maybe-all-gas\n-\n all-stage1-binutils: maybe-all-stage1-gas\n all-stage2-binutils: maybe-all-stage2-gas\n all-stage3-binutils: maybe-all-stage3-gas\n@@ -56329,7 +56254,6 @@ install-strip-binutils: maybe-install-strip-opcodes\n install-opcodes: maybe-install-bfd\n install-strip-opcodes: maybe-install-strip-bfd\n configure-gas: maybe-configure-intl\n-\n configure-stage1-gas: maybe-configure-stage1-intl\n configure-stage2-gas: maybe-configure-stage2-intl\n configure-stage3-gas: maybe-configure-stage3-intl\n@@ -56340,7 +56264,6 @@ configure-stagefeedback-gas: maybe-configure-stagefeedback-intl\n configure-stageautoprofile-gas: maybe-configure-stageautoprofile-intl\n configure-stageautofeedback-gas: maybe-configure-stageautofeedback-intl\n all-gas: maybe-all-libiberty\n-\n all-stage1-gas: maybe-all-stage1-libiberty\n all-stage2-gas: maybe-all-stage2-libiberty\n all-stage3-gas: maybe-all-stage3-libiberty\n@@ -56351,7 +56274,6 @@ all-stagefeedback-gas: maybe-all-stagefeedback-libiberty\n all-stageautoprofile-gas: maybe-all-stageautoprofile-libiberty\n all-stageautofeedback-gas: maybe-all-stageautofeedback-libiberty\n all-gas: maybe-all-opcodes\n-\n all-stage1-gas: maybe-all-stage1-opcodes\n all-stage2-gas: maybe-all-stage2-opcodes\n all-stage3-gas: maybe-all-stage3-opcodes\n@@ -56362,7 +56284,6 @@ all-stagefeedback-gas: maybe-all-stagefeedback-opcodes\n all-stageautoprofile-gas: maybe-all-stageautoprofile-opcodes\n all-stageautofeedback-gas: maybe-all-stageautofeedback-opcodes\n all-gas: maybe-all-bfd\n-\n all-stage1-gas: maybe-all-stage1-bfd\n all-stage2-gas: maybe-all-stage2-bfd\n all-stage3-gas: maybe-all-stage3-bfd\n@@ -56373,7 +56294,6 @@ all-stagefeedback-gas: maybe-all-stagefeedback-bfd\n all-stageautoprofile-gas: maybe-all-stageautoprofile-bfd\n all-stageautofeedback-gas: maybe-all-stageautofeedback-bfd\n all-gas: maybe-all-intl\n-\n all-stage1-gas: maybe-all-stage1-intl\n all-stage2-gas: maybe-all-stage2-intl\n all-stage3-gas: maybe-all-stage3-intl\n@@ -56383,14 +56303,7 @@ all-stagetrain-gas: maybe-all-stagetrain-intl\n all-stagefeedback-gas: maybe-all-stagefeedback-intl\n all-stageautoprofile-gas: maybe-all-stageautoprofile-intl\n all-stageautofeedback-gas: maybe-all-stageautofeedback-intl\n-configure-gprof: maybe-configure-intl\n-all-gprof: maybe-all-libiberty\n-all-gprof: maybe-all-bfd\n-all-gprof: maybe-all-opcodes\n-all-gprof: maybe-all-intl\n-all-gprof: maybe-all-gas\n configure-ld: maybe-configure-intl\n-\n configure-stage1-ld: maybe-configure-stage1-intl\n configure-stage2-ld: maybe-configure-stage2-intl\n configure-stage3-ld: maybe-configure-stage3-intl\n@@ -56401,7 +56314,6 @@ configure-stagefeedback-ld: maybe-configure-stagefeedback-intl\n configure-stageautoprofile-ld: maybe-configure-stageautoprofile-intl\n configure-stageautofeedback-ld: maybe-configure-stageautofeedback-intl\n all-ld: maybe-all-libiberty\n-\n all-stage1-ld: maybe-all-stage1-libiberty\n all-stage2-ld: maybe-all-stage2-libiberty\n all-stage3-ld: maybe-all-stage3-libiberty\n@@ -56412,7 +56324,6 @@ all-stagefeedback-ld: maybe-all-stagefeedback-libiberty\n all-stageautoprofile-ld: maybe-all-stageautoprofile-libiberty\n all-stageautofeedback-ld: maybe-all-stageautofeedback-libiberty\n all-ld: maybe-all-bfd\n-\n all-stage1-ld: maybe-all-stage1-bfd\n all-stage2-ld: maybe-all-stage2-bfd\n all-stage3-ld: maybe-all-stage3-bfd\n@@ -56423,7 +56334,6 @@ all-stagefeedback-ld: maybe-all-stagefeedback-bfd\n all-stageautoprofile-ld: maybe-all-stageautoprofile-bfd\n all-stageautofeedback-ld: maybe-all-stageautofeedback-bfd\n all-ld: maybe-all-opcodes\n-\n all-stage1-ld: maybe-all-stage1-opcodes\n all-stage2-ld: maybe-all-stage2-opcodes\n all-stage3-ld: maybe-all-stage3-opcodes\n@@ -56434,7 +56344,6 @@ all-stagefeedback-ld: maybe-all-stagefeedback-opcodes\n all-stageautoprofile-ld: maybe-all-stageautoprofile-opcodes\n all-stageautofeedback-ld: maybe-all-stageautofeedback-opcodes\n all-ld: maybe-all-build-bison\n-\n all-stage1-ld: maybe-all-build-bison\n all-stage2-ld: maybe-all-build-bison\n all-stage3-ld: maybe-all-build-bison\n@@ -56445,7 +56354,6 @@ all-stagefeedback-ld: maybe-all-build-bison\n all-stageautoprofile-ld: maybe-all-build-bison\n all-stageautofeedback-ld: maybe-all-build-bison\n all-ld: maybe-all-build-flex\n-\n all-stage1-ld: maybe-all-build-flex\n all-stage2-ld: maybe-all-build-flex\n all-stage3-ld: maybe-all-build-flex\n@@ -56456,7 +56364,6 @@ all-stagefeedback-ld: maybe-all-build-flex\n all-stageautoprofile-ld: maybe-all-build-flex\n all-stageautofeedback-ld: maybe-all-build-flex\n all-ld: maybe-all-intl\n-\n all-stage1-ld: maybe-all-stage1-intl\n all-stage2-ld: maybe-all-stage2-intl\n all-stage3-ld: maybe-all-stage3-intl\n@@ -56467,7 +56374,6 @@ all-stagefeedback-ld: maybe-all-stagefeedback-intl\n all-stageautoprofile-ld: maybe-all-stageautoprofile-intl\n all-stageautofeedback-ld: maybe-all-stageautofeedback-intl\n all-ld: maybe-all-gas\n-\n all-stage1-ld: maybe-all-stage1-gas\n all-stage2-ld: maybe-all-stage2-gas\n all-stage3-ld: maybe-all-stage3-gas\n@@ -56478,7 +56384,6 @@ all-stagefeedback-ld: maybe-all-stagefeedback-gas\n all-stageautoprofile-ld: maybe-all-stageautoprofile-gas\n all-stageautofeedback-ld: maybe-all-stageautofeedback-gas\n all-ld: maybe-all-binutils\n-\n all-stage1-ld: maybe-all-stage1-binutils\n all-stage2-ld: maybe-all-stage2-binutils\n all-stage3-ld: maybe-all-stage3-binutils\n@@ -56491,7 +56396,6 @@ all-stageautofeedback-ld: maybe-all-stageautofeedback-binutils\n install-ld: maybe-install-gold\n install-strip-ld: maybe-install-strip-gold\n configure-gold: maybe-configure-intl\n-\n configure-stage1-gold: maybe-configure-stage1-intl\n configure-stage2-gold: maybe-configure-stage2-intl\n configure-stage3-gold: maybe-configure-stage3-intl\n@@ -56502,7 +56406,6 @@ configure-stagefeedback-gold: maybe-configure-stagefeedback-intl\n configure-stageautoprofile-gold: maybe-configure-stageautoprofile-intl\n configure-stageautofeedback-gold: maybe-configure-stageautofeedback-intl\n all-gold: maybe-all-libiberty\n-\n all-stage1-gold: maybe-all-stage1-libiberty\n all-stage2-gold: maybe-all-stage2-libiberty\n all-stage3-gold: maybe-all-stage3-libiberty\n@@ -56513,7 +56416,6 @@ all-stagefeedback-gold: maybe-all-stagefeedback-libiberty\n all-stageautoprofile-gold: maybe-all-stageautoprofile-libiberty\n all-stageautofeedback-gold: maybe-all-stageautofeedback-libiberty\n all-gold: maybe-all-intl\n-\n all-stage1-gold: maybe-all-stage1-intl\n all-stage2-gold: maybe-all-stage2-intl\n all-stage3-gold: maybe-all-stage3-intl\n@@ -56524,7 +56426,6 @@ all-stagefeedback-gold: maybe-all-stagefeedback-intl\n all-stageautoprofile-gold: maybe-all-stageautoprofile-intl\n all-stageautofeedback-gold: maybe-all-stageautofeedback-intl\n all-gold: maybe-all-bfd\n-\n all-stage1-gold: maybe-all-stage1-bfd\n all-stage2-gold: maybe-all-stage2-bfd\n all-stage3-gold: maybe-all-stage3-bfd\n@@ -56535,7 +56436,6 @@ all-stagefeedback-gold: maybe-all-stagefeedback-bfd\n all-stageautoprofile-gold: maybe-all-stageautoprofile-bfd\n all-stageautofeedback-gold: maybe-all-stageautofeedback-bfd\n all-gold: maybe-all-build-bison\n-\n all-stage1-gold: maybe-all-build-bison\n all-stage2-gold: maybe-all-build-bison\n all-stage3-gold: maybe-all-build-bison\n@@ -56546,7 +56446,6 @@ all-stagefeedback-gold: maybe-all-build-bison\n all-stageautoprofile-gold: maybe-all-build-bison\n all-stageautofeedback-gold: maybe-all-build-bison\n all-gold: maybe-all-gas\n-\n all-stage1-gold: maybe-all-stage1-gas\n all-stage2-gold: maybe-all-stage2-gas\n all-stage3-gold: maybe-all-stage3-gas\n@@ -56557,7 +56456,6 @@ all-stagefeedback-gold: maybe-all-stagefeedback-gas\n all-stageautoprofile-gold: maybe-all-stageautoprofile-gas\n all-stageautofeedback-gold: maybe-all-stageautofeedback-gas\n check-gold: maybe-all-binutils\n-\n check-stage1-gold: maybe-all-stage1-binutils\n check-stage2-gold: maybe-all-stage2-binutils\n check-stage3-gold: maybe-all-stage3-binutils\n@@ -56568,7 +56466,6 @@ check-stagefeedback-gold: maybe-all-stagefeedback-binutils\n check-stageautoprofile-gold: maybe-all-stageautoprofile-binutils\n check-stageautofeedback-gold: maybe-all-stageautofeedback-binutils\n check-gold: maybe-all-gas\n-\n check-stage1-gold: maybe-all-stage1-gas\n check-stage2-gold: maybe-all-stage2-gas\n check-stage3-gold: maybe-all-stage3-gas\n@@ -56579,7 +56476,6 @@ check-stagefeedback-gold: maybe-all-stagefeedback-gas\n check-stageautoprofile-gold: maybe-all-stageautoprofile-gas\n check-stageautofeedback-gold: maybe-all-stageautofeedback-gas\n configure-opcodes: maybe-configure-intl\n-\n configure-stage1-opcodes: maybe-configure-stage1-intl\n configure-stage2-opcodes: maybe-configure-stage2-intl\n configure-stage3-opcodes: maybe-configure-stage3-intl\n@@ -56590,7 +56486,6 @@ configure-stagefeedback-opcodes: maybe-configure-stagefeedback-intl\n configure-stageautoprofile-opcodes: maybe-configure-stageautoprofile-intl\n configure-stageautofeedback-opcodes: maybe-configure-stageautofeedback-intl\n all-opcodes: maybe-all-bfd\n-\n all-stage1-opcodes: maybe-all-stage1-bfd\n all-stage2-opcodes: maybe-all-stage2-bfd\n all-stage3-opcodes: maybe-all-stage3-bfd\n@@ -56601,7 +56496,6 @@ all-stagefeedback-opcodes: maybe-all-stagefeedback-bfd\n all-stageautoprofile-opcodes: maybe-all-stageautoprofile-bfd\n all-stageautofeedback-opcodes: maybe-all-stageautofeedback-bfd\n all-opcodes: maybe-all-libiberty\n-\n all-stage1-opcodes: maybe-all-stage1-libiberty\n all-stage2-opcodes: maybe-all-stage2-libiberty\n all-stage3-opcodes: maybe-all-stage3-libiberty\n@@ -56612,7 +56506,6 @@ all-stagefeedback-opcodes: maybe-all-stagefeedback-libiberty\n all-stageautoprofile-opcodes: maybe-all-stageautoprofile-libiberty\n all-stageautofeedback-opcodes: maybe-all-stageautofeedback-libiberty\n all-opcodes: maybe-all-intl\n-\n all-stage1-opcodes: maybe-all-stage1-intl\n all-stage2-opcodes: maybe-all-stage2-intl\n all-stage3-opcodes: maybe-all-stage3-intl\n@@ -56637,42 +56530,27 @@ install-itcl: maybe-install-tcl\n install-strip-itcl: maybe-install-strip-tcl\n configure-tk: maybe-configure-tcl\n all-tk: maybe-all-tcl\n-all-sid: maybe-all-libiberty\n-all-sid: maybe-all-bfd\n-all-sid: maybe-all-opcodes\n all-sid: maybe-all-tcl\n all-sid: maybe-all-tk\n install-sid: maybe-install-tcl\n install-strip-sid: maybe-install-strip-tcl\n install-sid: maybe-install-tk\n install-strip-sid: maybe-install-strip-tk\n-configure-sim: maybe-configure-intl\n-all-sim: maybe-all-intl\n-all-sim: maybe-all-libiberty\n-all-sim: maybe-all-bfd\n-all-sim: maybe-all-opcodes\n all-sim: maybe-all-readline\n all-sim: maybe-configure-gdb\n-all-fastjar: maybe-all-zlib\n all-fastjar: maybe-all-build-texinfo\n-all-fastjar: maybe-all-libiberty\n-all-bison: maybe-all-intl\n all-bison: maybe-all-build-texinfo\n all-flex: maybe-all-build-bison\n-all-flex: maybe-all-intl\n all-flex: maybe-all-m4\n all-flex: maybe-all-build-texinfo\n-all-m4: maybe-all-intl\n all-m4: maybe-all-build-texinfo\n configure-target-fastjar: maybe-configure-target-zlib\n all-target-fastjar: maybe-all-target-zlib\n configure-target-libgo: maybe-configure-target-libffi\n-configure-target-libgo: maybe-all-target-libstdc++-v3\n all-target-libgo: maybe-all-target-libbacktrace\n all-target-libgo: maybe-all-target-libffi\n all-target-libgo: maybe-all-target-libatomic\n configure-target-libstdc++-v3: maybe-configure-target-libgomp\n-\n configure-stage1-target-libstdc++-v3: maybe-configure-stage1-target-libgomp\n configure-stage2-target-libstdc++-v3: maybe-configure-stage2-target-libgomp\n configure-stage3-target-libstdc++-v3: maybe-configure-stage3-target-libgomp\n@@ -56682,9 +56560,7 @@ configure-stagetrain-target-libstdc++-v3: maybe-configure-stagetrain-target-libg\n configure-stagefeedback-target-libstdc++-v3: maybe-configure-stagefeedback-target-libgomp\n configure-stageautoprofile-target-libstdc++-v3: maybe-configure-stageautoprofile-target-libgomp\n configure-stageautofeedback-target-libstdc++-v3: maybe-configure-stageautofeedback-target-libgomp\n-configure-target-liboffloadmic: maybe-configure-target-libgomp\n configure-target-libsanitizer: maybe-all-target-libstdc++-v3\n-\n configure-stage1-target-libsanitizer: maybe-all-stage1-target-libstdc++-v3\n configure-stage2-target-libsanitizer: maybe-all-stage2-target-libstdc++-v3\n configure-stage3-target-libsanitizer: maybe-all-stage3-target-libstdc++-v3\n@@ -56695,7 +56571,6 @@ configure-stagefeedback-target-libsanitizer: maybe-all-stagefeedback-target-libs\n configure-stageautoprofile-target-libsanitizer: maybe-all-stageautoprofile-target-libstdc++-v3\n configure-stageautofeedback-target-libsanitizer: maybe-all-stageautofeedback-target-libstdc++-v3\n configure-target-libvtv: maybe-all-target-libstdc++-v3\n-\n configure-stage1-target-libvtv: maybe-all-stage1-target-libstdc++-v3\n configure-stage2-target-libvtv: maybe-all-stage2-target-libstdc++-v3\n configure-stage3-target-libvtv: maybe-all-stage3-target-libstdc++-v3\n@@ -56706,7 +56581,6 @@ configure-stagefeedback-target-libvtv: maybe-all-stagefeedback-target-libstdc++-\n configure-stageautoprofile-target-libvtv: maybe-all-stageautoprofile-target-libstdc++-v3\n configure-stageautofeedback-target-libvtv: maybe-all-stageautofeedback-target-libstdc++-v3\n all-target-libstdc++-v3: maybe-configure-target-libgomp\n-\n all-stage1-target-libstdc++-v3: maybe-configure-stage1-target-libgomp\n all-stage2-target-libstdc++-v3: maybe-configure-stage2-target-libgomp\n all-stage3-target-libstdc++-v3: maybe-configure-stage3-target-libgomp\n@@ -56716,7 +56590,6 @@ all-stagetrain-target-libstdc++-v3: maybe-configure-stagetrain-target-libgomp\n all-stagefeedback-target-libstdc++-v3: maybe-configure-stagefeedback-target-libgomp\n all-stageautoprofile-target-libstdc++-v3: maybe-configure-stageautoprofile-target-libgomp\n all-stageautofeedback-target-libstdc++-v3: maybe-configure-stageautofeedback-target-libgomp\n-all-target-liboffloadmic: maybe-all-target-libgomp\n install-target-libgo: maybe-install-target-libatomic\n install-target-libgfortran: maybe-install-target-libquadmath\n install-target-libgfortran: maybe-install-target-libgcc\n@@ -56731,12 +56604,62 @@ install-target-libobjc: maybe-install-target-libgcc\n install-target-libstdc++-v3: maybe-install-target-libgcc\n all-target-libgloss: maybe-all-target-newlib\n all-target-winsup: maybe-all-target-libtermcap\n-configure-target-newlib: maybe-all-binutils\n-configure-target-newlib: maybe-all-ld\n configure-target-libgfortran: maybe-all-target-libquadmath\n configure-target-libgfortran: maybe-all-target-libbacktrace\n \n \n+@if gcc-bootstrap\n+configure-gnattools: stage_last\n+configure-libcc1: stage_last\n+configure-utils: stage_last\n+configure-gdb: stage_last\n+configure-gprof: stage_last\n+configure-sid: stage_last\n+configure-sim: stage_last\n+configure-fastjar: stage_last\n+configure-bison: stage_last\n+configure-flex: stage_last\n+configure-m4: stage_last\n+@endif gcc-bootstrap\n+\n+@unless gcc-bootstrap\n+all-gnattools: maybe-all-target-libstdc++-v3\n+configure-libcc1: maybe-configure-gcc\n+all-libcc1: maybe-all-gcc\n+all-utils: maybe-all-libiberty\n+configure-gdb: maybe-all-intl\n+configure-gdb: maybe-all-bfd\n+configure-gdb: maybe-all-libiconv\n+all-gdb: maybe-all-libiberty\n+all-gdb: maybe-all-libiconv\n+all-gdb: maybe-all-opcodes\n+all-gdb: maybe-all-libdecnumber\n+configure-gprof: maybe-configure-intl\n+all-gprof: maybe-all-libiberty\n+all-gprof: maybe-all-bfd\n+all-gprof: maybe-all-opcodes\n+all-gprof: maybe-all-intl\n+all-gprof: maybe-all-gas\n+all-sid: maybe-all-libiberty\n+all-sid: maybe-all-bfd\n+all-sid: maybe-all-opcodes\n+configure-sim: maybe-configure-intl\n+all-sim: maybe-all-intl\n+all-sim: maybe-all-libiberty\n+all-sim: maybe-all-bfd\n+all-sim: maybe-all-opcodes\n+all-fastjar: maybe-all-zlib\n+all-fastjar: maybe-all-libiberty\n+all-bison: maybe-all-intl\n+all-flex: maybe-all-intl\n+all-m4: maybe-all-intl\n+configure-target-libgo: maybe-all-target-libstdc++-v3\n+configure-target-liboffloadmic: maybe-configure-target-libgomp\n+all-target-liboffloadmic: maybe-all-target-libgomp\n+configure-target-newlib: maybe-all-binutils\n+configure-target-newlib: maybe-all-ld\n+@endunless gcc-bootstrap\n+\n # Dependencies for target modules on other target modules are\n # described by lang_env_dependencies; the defaults apply to anything\n # not mentioned there."}, {"sha": "447d324595fe0deb9151446f2ac8048c71333e13", "filename": "Makefile.tpl", "status": "modified", "additions": 52, "deletions": 26, "changes": 78, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da34ca3f122f369f1121608c726c33400f0aced5/Makefile.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da34ca3f122f369f1121608c726c33400f0aced5/Makefile.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.tpl?ref=da34ca3f122f369f1121608c726c33400f0aced5", "patch": "@@ -1828,25 +1828,46 @@ configure-target-[+module+]: maybe-all-gcc[+\n    (define dep-maybe (lambda ()\n       (if (exist? \"hard\") \"\" \"maybe-\")))\n \n-   ;; dep-kind returns \"normal\" if the dependency is on an \"install\" target,\n-   ;; or if either module is not bootstrapped.  It returns \"bootstrap\" for\n-   ;; configure or build dependencies between bootstrapped modules; it returns\n-   ;; \"prebootstrap\" for configure or build dependencies of bootstrapped\n-   ;; modules on a build module (e.g. all-gcc on all-build-bison).  All this\n-   ;; is only necessary for host modules.\n+   ;; dep-kind returns returns \"prebootstrap\" for configure or build\n+   ;; dependencies of bootstrapped modules on a build module\n+   ;; (e.g. all-gcc on all-build-bison); \"normal\" if the dependency is\n+   ;; on an \"install\" target, or if the dependence module is not\n+   ;; bootstrapped; otherwise, it returns \"bootstrap\" or\n+   ;; \"postbootstrap\" depending on whether the dependent module is\n+   ;; bootstrapped.  All this is only necessary for host and target\n+   ;; modules.  It might seem like, in order to avoid build races, we\n+   ;; might need more elaborate detection between prebootstrap and\n+   ;; postbootstrap modules, but there are no host prebootstrap\n+   ;; modules.  If there were any non-bootstrap host modules that\n+   ;; bootstrap modules depended on, we'd get unsatisfied per-stage\n+   ;; dependencies on them, which would be immediately noticed.\n    (define dep-kind (lambda ()\n-      (if (and (hash-ref boot-modules (dep-module \"module\"))\n-\t       (=* (dep-module \"on\") \"build-\"))\n-\t  \"prebootstrap\"\n+      (cond\n+       ((and (hash-ref boot-modules (dep-module \"module\"))\n+\t     (=* (dep-module \"on\") \"build-\"))\n+\t\"prebootstrap\")\n \n-\t  (if (or (= (dep-subtarget \"on\") \"install-\")\n-\t\t  (not (hash-ref boot-modules (dep-module \"module\")))\n-\t\t  (not (hash-ref boot-modules (dep-module \"on\"))))\n-              \"normal\"\n-\t      \"bootstrap\"))))\n+       ((or (= (dep-subtarget \"on\") \"install-\")\n+\t    (not (hash-ref boot-modules (dep-module \"on\"))))\n+\t\"normal\")\n+\n+       ((hash-ref boot-modules (dep-module \"module\"))\n+\t\"bootstrap\")\n+\n+       (1 \"postbootstrap\"))))\n+\n+   (define make-postboot-dep (lambda ()\n+     (let ((target (dep-module \"module\")) (dep \"stage_last\"))\n+       (unless (= (hash-ref postboot-targets target) dep)\n+\t (hash-create-handle! postboot-targets target dep)\n+\t ;; All non-bootstrap modules' configure target already\n+\t ;; depend on dep.\n+\t (unless (=* target \"target-\")\n+           (string-append \"configure-\" target \": \" dep \"\\n\"))))))\n \n    ;; We now build the hash table that is used by dep-kind.\n    (define boot-modules (make-hash-table 113))\n+   (define postboot-targets (make-hash-table 113))\n +]\n \n [+ FOR host_modules +][+\n@@ -1863,18 +1884,23 @@ configure-target-[+module+]: maybe-all-gcc[+\n # to check for bootstrap/prebootstrap dependencies.  To resolve\n # prebootstrap dependencies, prebootstrap modules are gathered in\n # a hash table.\n-[+ FOR dependencies +][+ (make-dep \"\" \"\") +]\n-[+ CASE (dep-kind) +]\n-[+ == \"prebootstrap\"\n-     +][+ FOR bootstrap_stage +]\n-[+ (make-dep (dep-stage) \"\") +][+\n-       ENDFOR bootstrap_stage +]\n-[+ == \"bootstrap\"\n-     +][+ FOR bootstrap_stage +]\n-[+ (make-dep (dep-stage) (dep-stage)) +][+\n-       ENDFOR bootstrap_stage +]\n-[+ ESAC +][+\n-ENDFOR dependencies +]\n+[+ FOR dependencies +][+ CASE (dep-kind) +]\n+[+ == \"prebootstrap\" +][+ (make-dep \"\" \"\") +][+ FOR bootstrap_stage +]\n+[+ (make-dep (dep-stage) \"\") +][+ ENDFOR bootstrap_stage +]\n+[+ == \"bootstrap\" +][+ (make-dep \"\" \"\") +][+ FOR bootstrap_stage +]\n+[+ (make-dep (dep-stage) (dep-stage)) +][+ ENDFOR bootstrap_stage +]\n+[+ == \"normal\" +][+ (make-dep \"\" \"\") +]\n+[+ ESAC +][+ ENDFOR dependencies +]\n+\n+@if gcc-bootstrap\n+[+ FOR dependencies +][+ CASE (dep-kind) +]\n+[+ == \"postbootstrap\" +][+ (make-postboot-dep) +][+ ESAC +][+\n+ENDFOR dependencies +]@endif gcc-bootstrap\n+\n+@unless gcc-bootstrap\n+[+ FOR dependencies +][+ CASE (dep-kind) +]\n+[+ == \"postbootstrap\" +][+ (make-dep \"\" \"\") +]\n+[+ ESAC +][+ ENDFOR dependencies +]@endunless gcc-bootstrap\n \n # Dependencies for target modules on other target modules are\n # described by lang_env_dependencies; the defaults apply to anything"}, {"sha": "dd9fbe4d3229095304913b7b13387314856a40dc", "filename": "configure", "status": "modified", "additions": 15, "deletions": 5, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da34ca3f122f369f1121608c726c33400f0aced5/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da34ca3f122f369f1121608c726c33400f0aced5/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=da34ca3f122f369f1121608c726c33400f0aced5", "patch": "@@ -7130,7 +7130,9 @@ INSTALL_GDB_TK=`echo ${GDB_TK} | sed s/-all-/-install-/g`\n # extrasub-{build,host,target} not because there is any reason to split\n # the substitutions up that way, but only to remain below the limit of\n # 99 commands in a script, for HP-UX sed.\n-# Do not nest @if/@endif pairs, because configure will not warn you at all.\n+\n+# Do not nest @if/@endif or @unless/@endunless pairs, because\n+# configure will not warn you at all.\n \n case \"$enable_bootstrap:$ENABLE_GOLD: $configdirs :,$stage1_languages,\" in\n   yes:yes:*\\ gold\\ *:*,c++,*) ;;\n@@ -7149,8 +7151,10 @@ for module in ${build_configdirs} ; do\n   extrasub_build=\"$extrasub_build\n /^@if build-$module\\$/d\n /^@endif build-$module\\$/d\n+/^@unless build-$module\\$/,/^@endunless build-$module\\$/d\n /^@if build-$module-$bootstrap_suffix\\$/d\n-/^@endif build-$module-$bootstrap_suffix\\$/d\"\n+/^@endif build-$module-$bootstrap_suffix\\$/d\n+/^@unless build-$module-$bootstrap_suffix\\$/,/^@endunless build-$module-$bootstrap_suffix\\$/d\"\n done\n extrasub_host=\n for module in ${configdirs} ; do\n@@ -7169,8 +7173,10 @@ for module in ${configdirs} ; do\n   extrasub_host=\"$extrasub_host\n /^@if $module\\$/d\n /^@endif $module\\$/d\n+/^@unless $module\\$/,/^@endunless $module\\$/d\n /^@if $module-$host_bootstrap_suffix\\$/d\n-/^@endif $module-$host_bootstrap_suffix\\$/d\"\n+/^@endif $module-$host_bootstrap_suffix\\$/d\n+/^@unless $module-$host_bootstrap_suffix\\$/,/^@endunless $module-$host_bootstrap_suffix\\$/d\"\n done\n extrasub_target=\n for module in ${target_configdirs} ; do\n@@ -7189,13 +7195,17 @@ for module in ${target_configdirs} ; do\n   extrasub_target=\"$extrasub_target\n /^@if target-$module\\$/d\n /^@endif target-$module\\$/d\n+/^@unless target-$module\\$/,/^@endunless target-$module\\$/d\n /^@if target-$module-$target_bootstrap_suffix\\$/d\n-/^@endif target-$module-$target_bootstrap_suffix\\$/d\"\n+/^@endif target-$module-$target_bootstrap_suffix\\$/d\n+/^@unless target-$module-$target_bootstrap_suffix\\$/,/^@endunless target-$module-$target_bootstrap_suffix\\$/d\"\n done\n \n # Do the final fixup along with target modules.\n extrasub_target=\"$extrasub_target\n-/^@if /,/^@endif /d\"\n+/^@if /,/^@endif /d\n+/^@unless /d\n+/^@endunless /d\"\n \n # Create the serialization dependencies.  This uses a temporary file.\n "}, {"sha": "a0b0917dd556074b5983e8f89808482672bd63c3", "filename": "configure.ac", "status": "modified", "additions": 15, "deletions": 5, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da34ca3f122f369f1121608c726c33400f0aced5/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da34ca3f122f369f1121608c726c33400f0aced5/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=da34ca3f122f369f1121608c726c33400f0aced5", "patch": "@@ -2719,7 +2719,9 @@ INSTALL_GDB_TK=`echo ${GDB_TK} | sed s/-all-/-install-/g`\n # extrasub-{build,host,target} not because there is any reason to split\n # the substitutions up that way, but only to remain below the limit of\n # 99 commands in a script, for HP-UX sed.\n-# Do not nest @if/@endif pairs, because configure will not warn you at all.\n+\n+# Do not nest @if/@endif or @unless/@endunless pairs, because\n+# configure will not warn you at all.\n \n case \"$enable_bootstrap:$ENABLE_GOLD: $configdirs :,$stage1_languages,\" in\n   yes:yes:*\\ gold\\ *:*,c++,*) ;;\n@@ -2738,8 +2740,10 @@ for module in ${build_configdirs} ; do\n   extrasub_build=\"$extrasub_build\n /^@if build-$module\\$/d\n /^@endif build-$module\\$/d\n+/^@unless build-$module\\$/,/^@endunless build-$module\\$/d\n /^@if build-$module-$bootstrap_suffix\\$/d\n-/^@endif build-$module-$bootstrap_suffix\\$/d\"\n+/^@endif build-$module-$bootstrap_suffix\\$/d\n+/^@unless build-$module-$bootstrap_suffix\\$/,/^@endunless build-$module-$bootstrap_suffix\\$/d\"\n done\n extrasub_host=\n for module in ${configdirs} ; do\n@@ -2758,8 +2762,10 @@ for module in ${configdirs} ; do\n   extrasub_host=\"$extrasub_host\n /^@if $module\\$/d\n /^@endif $module\\$/d\n+/^@unless $module\\$/,/^@endunless $module\\$/d\n /^@if $module-$host_bootstrap_suffix\\$/d\n-/^@endif $module-$host_bootstrap_suffix\\$/d\"\n+/^@endif $module-$host_bootstrap_suffix\\$/d\n+/^@unless $module-$host_bootstrap_suffix\\$/,/^@endunless $module-$host_bootstrap_suffix\\$/d\"\n done\n extrasub_target=\n for module in ${target_configdirs} ; do\n@@ -2778,13 +2784,17 @@ for module in ${target_configdirs} ; do\n   extrasub_target=\"$extrasub_target\n /^@if target-$module\\$/d\n /^@endif target-$module\\$/d\n+/^@unless target-$module\\$/,/^@endunless target-$module\\$/d\n /^@if target-$module-$target_bootstrap_suffix\\$/d\n-/^@endif target-$module-$target_bootstrap_suffix\\$/d\"\n+/^@endif target-$module-$target_bootstrap_suffix\\$/d\n+/^@unless target-$module-$target_bootstrap_suffix\\$/,/^@endunless target-$module-$target_bootstrap_suffix\\$/d\"\n done\n \n # Do the final fixup along with target modules.\n extrasub_target=\"$extrasub_target\n-/^@if /,/^@endif /d\"\n+/^@if /,/^@endif /d\n+/^@unless /d\n+/^@endunless /d\"\n \n # Create the serialization dependencies.  This uses a temporary file.\n "}]}