{"sha": "71f965110840291535b1301a65a92c9d586fc7cf", "node_id": "C_kwDOANBUbNoAKDcxZjk2NTExMDg0MDI5MTUzNWIxMzAxYTY1YTkyYzlkNTg2ZmM3Y2Y", "commit": {"author": {"name": "Andrew Burgess", "email": "andrew.burgess@embecosm.com", "date": "2021-09-07T14:46:31Z"}, "committer": {"name": "Andrew Burgess", "email": "andrew.burgess@embecosm.com", "date": "2021-09-24T17:16:55Z"}, "message": "top-level: merge Makefile.def patches from binutils-gdb repository\n\nThis commit back-ports two patches to Makefile.def from the\nbinutils-gdb repository, these patches were committed over there\nwithout first being merged in to the gcc repository.\n\nThese commits all relate to dependencies for binutils-gdb modules, so\nshould have no impact on gcc, I tested a gcc build/install on x86-64\nGNU/Linux, and everything looked OK.\n\nThe two patches being backported are binutils-gdb commits:\n\n  commit ba4d88ad892fe29c6ca7938c8861f8edef5f7a3f (gdb-gnulib-issues)\n  Date:   Mon Oct 12 16:04:32 2020 +0100\n\n      gdb/gdbserver: add dependencies for distclean-gnulib\n\nAnd\n\n  commit 755ba58ebef02e1be9fc6770d00243ba6ed0223c\n  Date:   Thu Mar 18 12:37:52 2021 +0000\n\n      Add install dependencies for ld -> bfd and libctf -> bfd\n\n2021-09-07  Andrew Burgess  <andrew.burgess@embecosm.com>\n\n\t* Makefile.def: Back-port commits ba4d88ad892f and\n\t755ba58ebef0 from binutils-gdb repository.\n\t* Makefile.in: Regenerated.", "tree": {"sha": "ff56b6b28d2b03f09291a8d719144204b682f82a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ff56b6b28d2b03f09291a8d719144204b682f82a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/71f965110840291535b1301a65a92c9d586fc7cf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71f965110840291535b1301a65a92c9d586fc7cf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/71f965110840291535b1301a65a92c9d586fc7cf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71f965110840291535b1301a65a92c9d586fc7cf/comments", "author": {"login": "T-J-Teru", "id": 475372, "node_id": "MDQ6VXNlcjQ3NTM3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/T-J-Teru", "html_url": "https://github.com/T-J-Teru", "followers_url": "https://api.github.com/users/T-J-Teru/followers", "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}", "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}", "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions", "organizations_url": "https://api.github.com/users/T-J-Teru/orgs", "repos_url": "https://api.github.com/users/T-J-Teru/repos", "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}", "received_events_url": "https://api.github.com/users/T-J-Teru/received_events", "type": "User", "site_admin": false}, "committer": {"login": "T-J-Teru", "id": 475372, "node_id": "MDQ6VXNlcjQ3NTM3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/T-J-Teru", "html_url": "https://github.com/T-J-Teru", "followers_url": "https://api.github.com/users/T-J-Teru/followers", "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}", "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}", "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions", "organizations_url": "https://api.github.com/users/T-J-Teru/orgs", "repos_url": "https://api.github.com/users/T-J-Teru/repos", "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}", "received_events_url": "https://api.github.com/users/T-J-Teru/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "84cccff60a978174271a30042bf7841d2ae436eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84cccff60a978174271a30042bf7841d2ae436eb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84cccff60a978174271a30042bf7841d2ae436eb"}], "stats": {"total": 22, "additions": 22, "deletions": 0}, "files": [{"sha": "e015a7aaeb76555b929c8694f748f5cdd4facdcd", "filename": "Makefile.def", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71f965110840291535b1301a65a92c9d586fc7cf/Makefile.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71f965110840291535b1301a65a92c9d586fc7cf/Makefile.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.def?ref=71f965110840291535b1301a65a92c9d586fc7cf", "patch": "@@ -471,6 +471,14 @@ dependencies = { module=all-ld; on=all-libctf; };\n dependencies = { module=install-binutils; on=install-opcodes; };\n dependencies = { module=install-strip-binutils; on=install-strip-opcodes; };\n \n+// Likewise for ld, libctf, and bfd.\n+dependencies = { module=install-libctf; on=install-bfd; };\n+dependencies = { module=install-ld; on=install-bfd; };\n+dependencies = { module=install-ld; on=install-libctf; };\n+dependencies = { module=install-strip-libctf; on=install-strip-bfd; };\n+dependencies = { module=install-strip-ld; on=install-strip-bfd; };\n+dependencies = { module=install-strip-ld; on=install-strip-libctf; };\n+\n // libopcodes depends on libbfd\n dependencies = { module=install-opcodes; on=install-bfd; };\n dependencies = { module=install-strip-opcodes; on=install-strip-bfd; };\n@@ -564,6 +572,12 @@ dependencies = { module=configure-libctf; on=all-zlib; };\n dependencies = { module=configure-libctf; on=all-libiconv; };\n dependencies = { module=check-libctf; on=all-ld; };\n \n+// The Makefiles in gdb and gdbserver pull in a file that configure\n+// generates in the gnulib directory, so distclean gnulib only after\n+// gdb and gdbserver.\n+dependencies = { module=distclean-gnulib; on=distclean-gdb; };\n+dependencies = { module=distclean-gnulib; on=distclean-gdbserver; };\n+\n // Warning, these are not well tested.\n dependencies = { module=all-bison; on=all-intl; };\n dependencies = { module=all-bison; on=all-build-texinfo; };"}, {"sha": "9219ebfb02b6f44d0b16f80317f2d43375cac384", "filename": "Makefile.in", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71f965110840291535b1301a65a92c9d586fc7cf/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71f965110840291535b1301a65a92c9d586fc7cf/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=71f965110840291535b1301a65a92c9d586fc7cf", "patch": "@@ -60771,6 +60771,12 @@ all-stageautoprofile-ld: maybe-all-stageautoprofile-libctf\n all-stageautofeedback-ld: maybe-all-stageautofeedback-libctf\n install-binutils: maybe-install-opcodes\n install-strip-binutils: maybe-install-strip-opcodes\n+install-libctf: maybe-install-bfd\n+install-ld: maybe-install-bfd\n+install-ld: maybe-install-libctf\n+install-strip-libctf: maybe-install-strip-bfd\n+install-strip-ld: maybe-install-strip-bfd\n+install-strip-ld: maybe-install-strip-libctf\n install-opcodes: maybe-install-bfd\n install-strip-opcodes: maybe-install-strip-bfd\n configure-gas: maybe-configure-intl\n@@ -61139,6 +61145,8 @@ check-stagetrain-libctf: maybe-all-stagetrain-ld\n check-stagefeedback-libctf: maybe-all-stagefeedback-ld\n check-stageautoprofile-libctf: maybe-all-stageautoprofile-ld\n check-stageautofeedback-libctf: maybe-all-stageautofeedback-ld\n+distclean-gnulib: maybe-distclean-gdb\n+distclean-gnulib: maybe-distclean-gdbserver\n all-bison: maybe-all-build-texinfo\n all-flex: maybe-all-build-bison\n all-flex: maybe-all-m4"}]}