{"sha": "360e353587b4c3f654598babb476aed69f760b51", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzYwZTM1MzU4N2I0YzNmNjU0NTk4YmFiYjQ3NmFlZDY5Zjc2MGI1MQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@vlsi1.ultra.nyu.edu", "date": "2004-11-27T01:01:12Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "2004-11-27T01:01:12Z"}, "message": "expmed.c (extract_bit_field): When extracting from non-integer mode...\n\n\t* expmed.c (extract_bit_field): When extracting from non-integer mode,\n\tforce a SUBREG into a register because we may be taking a further\n\tSUBREG of it.\n\nFrom-SVN: r91361", "tree": {"sha": "8d0dff310443267538186659b8b0d591fe1694bc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8d0dff310443267538186659b8b0d591fe1694bc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/360e353587b4c3f654598babb476aed69f760b51", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/360e353587b4c3f654598babb476aed69f760b51", "html_url": "https://github.com/Rust-GCC/gccrs/commit/360e353587b4c3f654598babb476aed69f760b51", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/360e353587b4c3f654598babb476aed69f760b51/comments", "author": null, "committer": null, "parents": [{"sha": "23d5143200c72cf31613060bd22b5abc12fad0c2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/23d5143200c72cf31613060bd22b5abc12fad0c2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/23d5143200c72cf31613060bd22b5abc12fad0c2"}], "stats": {"total": 19, "additions": 12, "deletions": 7}, "files": [{"sha": "3ec691ebf7e472c3595274777eb9e9e857ada4b3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/360e353587b4c3f654598babb476aed69f760b51/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/360e353587b4c3f654598babb476aed69f760b51/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=360e353587b4c3f654598babb476aed69f760b51", "patch": "@@ -1,3 +1,9 @@\n+2004-11-26  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n+\n+\t* expmed.c (extract_bit_field): When extracting from non-integer mode,\n+\tforce a SUBREG into a register because we may be taking a further\n+\tSUBREG of it.\n+\n 2004-11-27  Di-an Jan  <dianj@freeshell.org>\n \n \t* doc/contrib.texi (Tim Josling): Remove nesting quotation marks."}, {"sha": "37d6768b266196bd9956a53c210ad31fca3d700d", "filename": "gcc/expmed.c", "status": "modified", "additions": 6, "deletions": 7, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/360e353587b4c3f654598babb476aed69f760b51/gcc%2Fexpmed.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/360e353587b4c3f654598babb476aed69f760b51/gcc%2Fexpmed.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpmed.c?ref=360e353587b4c3f654598babb476aed69f760b51", "patch": "@@ -1163,13 +1163,12 @@ extract_bit_field (rtx str_rtx, unsigned HOST_WIDE_INT bitsize,\n     enum machine_mode imode = int_mode_for_mode (GET_MODE (op0));\n     if (imode != GET_MODE (op0))\n       {\n-\tif (MEM_P (op0))\n-\t  op0 = adjust_address (op0, imode, 0);\n-\telse\n-\t  {\n-\t    gcc_assert (imode != BLKmode);\n-\t    op0 = gen_lowpart (imode, op0);\n-\t  }\n+\top0 = gen_lowpart (imode, op0);\n+\n+\t/* If we got a SUBREG, force it into a register since we aren't going\n+\t   to be able to do another SUBREG on it.  */\n+\tif (GET_CODE (op0) == SUBREG)\n+\t  op0 = force_reg (imode, op0);\n       }\n   }\n "}]}