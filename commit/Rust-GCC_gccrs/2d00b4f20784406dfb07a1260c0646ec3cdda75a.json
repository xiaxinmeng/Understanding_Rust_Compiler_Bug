{"sha": "2d00b4f20784406dfb07a1260c0646ec3cdda75a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmQwMGI0ZjIwNzg0NDA2ZGZiMDdhMTI2MGMwNjQ2ZWMzY2RkYTc1YQ==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@physics.uc.edu", "date": "2005-10-28T14:57:30Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2005-10-28T14:57:30Z"}, "message": "re PR c++/23426 (Too large array problem gives two error message)\n\n2005-10-28  Andrew Pinski  <pinskia@physics.uc.edu>\n\n\tPR C++/23426\n\t* decl.c (start_decl): Check that the decl is an\n\terror_mark_node before getting the type.\n\tRemove the check for the decl's type being an\n\terror_mark_node.  \n\n2005-10-28  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR C++/23426\n        * g++.dg/other/large-size-array.C: New test.\n\nFrom-SVN: r105936", "tree": {"sha": "2b9e21405b7812352bdee2a9f35ca85a99a701b0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2b9e21405b7812352bdee2a9f35ca85a99a701b0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2d00b4f20784406dfb07a1260c0646ec3cdda75a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d00b4f20784406dfb07a1260c0646ec3cdda75a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d00b4f20784406dfb07a1260c0646ec3cdda75a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d00b4f20784406dfb07a1260c0646ec3cdda75a/comments", "author": null, "committer": null, "parents": [{"sha": "1b9f940b0c10e9694dfc15c1822d44eb04dbce3c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b9f940b0c10e9694dfc15c1822d44eb04dbce3c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b9f940b0c10e9694dfc15c1822d44eb04dbce3c"}], "stats": {"total": 42, "additions": 38, "deletions": 4}, "files": [{"sha": "d2ec158c9058c03b5876f4b54ef8f65036b1a5e1", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d00b4f20784406dfb07a1260c0646ec3cdda75a/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d00b4f20784406dfb07a1260c0646ec3cdda75a/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=2d00b4f20784406dfb07a1260c0646ec3cdda75a", "patch": "@@ -1,3 +1,11 @@\n+2005-10-28  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR C++/23426\n+\t* decl.c (start_decl): Check that the decl is an\n+\terror_mark_node before getting the type.\n+\tRemove the check for the decl's type being an\n+\terror_mark_node.  \n+\n 2005-10-21  Mark Mitchell  <mark@codesourcery.com>\n \n \tPR c++/24260"}, {"sha": "ef61d1745f15e91f97eacc0ea7f00d996128dd08", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d00b4f20784406dfb07a1260c0646ec3cdda75a/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d00b4f20784406dfb07a1260c0646ec3cdda75a/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=2d00b4f20784406dfb07a1260c0646ec3cdda75a", "patch": "@@ -3640,14 +3640,12 @@ start_decl (const cp_declarator *declarator,\n \n   deprecated_state = DEPRECATED_NORMAL;\n \n-  if (decl == NULL_TREE || TREE_CODE (decl) == VOID_TYPE)\n+  if (decl == NULL_TREE || TREE_CODE (decl) == VOID_TYPE\n+      || decl == error_mark_node)\n     return error_mark_node;\n \n   type = TREE_TYPE (decl);\n \n-  if (type == error_mark_node)\n-    return error_mark_node;\n-\n   context = DECL_CONTEXT (decl);\n \n   if (context)"}, {"sha": "bd5ff267abcdfc1e1d73817591d9dbf04f207471", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d00b4f20784406dfb07a1260c0646ec3cdda75a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d00b4f20784406dfb07a1260c0646ec3cdda75a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2d00b4f20784406dfb07a1260c0646ec3cdda75a", "patch": "@@ -1,3 +1,8 @@\n+2005-10-28  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR C++/23426\n+\t* g++.dg/other/large-size-array.C: New test.\n+\n 2005-10-28  Andrew Pinski  <pinskia@physics.uc.edu>\n \n \tPR middle-end/24362"}, {"sha": "900c50331697ac0176b208d4136dcfc077459812", "filename": "gcc/testsuite/g++.dg/other/large-size-array.C", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d00b4f20784406dfb07a1260c0646ec3cdda75a/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Flarge-size-array.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d00b4f20784406dfb07a1260c0646ec3cdda75a/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Flarge-size-array.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Flarge-size-array.C?ref=2d00b4f20784406dfb07a1260c0646ec3cdda75a", "patch": "@@ -0,0 +1,23 @@\n+/* { dg-do compile } */\n+#include <limits.h>\n+\n+#ifdef __LP64__\n+#define DIM UINT_MAX>>1\n+#else\n+#define DIM USHRT_MAX>>1\n+#endif\n+\n+int\n+sub (int *a)\n+{\n+  return a[0];\n+}\n+\n+int\n+main (void)\n+{\n+  int a[DIM][DIM];  /* { dg-error \"size of array 'a' is too large\" } */\n+  return sub (&a[0][0]);\n+}\n+\n+"}]}