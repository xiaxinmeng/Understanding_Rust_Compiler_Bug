{"sha": "7ce74c5e5e401108e8b7667e7cc33318947cde41", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2NlNzRjNWU1ZTQwMTEwOGU4Yjc2NjdlN2NjMzMzMTg5NDdjZGU0MQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "1999-08-20T06:11:48Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1999-08-20T06:11:48Z"}, "message": "pt.c (redeclare_class_template): Merge default template arguments in both directions.\n\n\t* pt.c (redeclare_class_template): Merge default template\n\targuments in both directions.\n\n\t* typeck.c (common_type): Undo 1999-08-18 change.  Remove\n\tcompiler_error message.\n\nFrom-SVN: r28774", "tree": {"sha": "254e30b4c2fc8baa50829dee4b5f3e38c1e77732", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/254e30b4c2fc8baa50829dee4b5f3e38c1e77732"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7ce74c5e5e401108e8b7667e7cc33318947cde41", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ce74c5e5e401108e8b7667e7cc33318947cde41", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ce74c5e5e401108e8b7667e7cc33318947cde41", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ce74c5e5e401108e8b7667e7cc33318947cde41/comments", "author": null, "committer": null, "parents": [{"sha": "efe0774e6a86cea1bd68e045eb67ea8c4b90431b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efe0774e6a86cea1bd68e045eb67ea8c4b90431b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/efe0774e6a86cea1bd68e045eb67ea8c4b90431b"}], "stats": {"total": 24, "additions": 18, "deletions": 6}, "files": [{"sha": "74395d4ce67c139406e49a59c099eaec5c5ad8e7", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ce74c5e5e401108e8b7667e7cc33318947cde41/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ce74c5e5e401108e8b7667e7cc33318947cde41/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=7ce74c5e5e401108e8b7667e7cc33318947cde41", "patch": "@@ -1,3 +1,11 @@\n+1999-08-19  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* pt.c (redeclare_class_template): Merge default template\n+\targuments in both directions.\n+\n+\t* typeck.c (common_type): Undo 1999-08-18 change.  Remove\n+\tcompiler_error message.\n+\n 1999-08-19  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* cp-tree.h: Declare flag_use_repository."}, {"sha": "1940cfe0d6f8f22db0568498b5290c52aba940d0", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ce74c5e5e401108e8b7667e7cc33318947cde41/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ce74c5e5e401108e8b7667e7cc33318947cde41/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=7ce74c5e5e401108e8b7667e7cc33318947cde41", "patch": "@@ -2666,6 +2666,10 @@ redeclare_class_template (type, parms)\n \t/* Update the previous template parameters (which are the ones\n \t   that will really count) with the new default value.  */\n \tTREE_PURPOSE (TREE_VEC_ELT (tmpl_parms, i)) = parm_default;\n+      else if (tmpl_default != NULL_TREE)\n+\t/* Update the new parameters, too; they'll be used as the\n+\t   parameters for any members.  */\n+\tTREE_PURPOSE (TREE_VEC_ELT (parms, i)) = tmpl_default;\n     }\n }\n "}, {"sha": "8ebeed3fa45df0438c561458ecf32a0d6be7d755", "filename": "gcc/cp/typeck.c", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ce74c5e5e401108e8b7667e7cc33318947cde41/gcc%2Fcp%2Ftypeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ce74c5e5e401108e8b7667e7cc33318947cde41/gcc%2Fcp%2Ftypeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftypeck.c?ref=7ce74c5e5e401108e8b7667e7cc33318947cde41", "patch": "@@ -698,13 +698,8 @@ common_type (t1, t2)\n \ttt1 = TYPE_MAIN_VARIANT (tt1);\n \ttt2 = TYPE_MAIN_VARIANT (tt2);\n \n-\tif (same_type_p (tt1, tt2))\n+\tif (tt1 == tt2)\n \t  target = tt1;\n-\telse if (b1)\n-\t  {\n-\t    compiler_error (\"common_type called with uncommon member types\");\n-\t    target = tt1;\n-\t  }\n \telse if (tt1 == void_type_node || tt2 == void_type_node)\n \t  target = void_type_node;\n \telse if (tt1 == unknown_type_node)"}, {"sha": "bdc25011abf94541cdcf8ef12622789ae59a92ca", "filename": "gcc/testsuite/g++.old-deja/g++.pt/decl3.C", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ce74c5e5e401108e8b7667e7cc33318947cde41/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fdecl3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ce74c5e5e401108e8b7667e7cc33318947cde41/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fdecl3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fdecl3.C?ref=7ce74c5e5e401108e8b7667e7cc33318947cde41", "patch": "@@ -0,0 +1,5 @@\n+// Build don't link:\n+// Origin: Jason Merrill <jason@cygnus.com>\n+\n+template <class T, class U = int> struct A;\n+template <class T = int, class U> struct A { };"}]}