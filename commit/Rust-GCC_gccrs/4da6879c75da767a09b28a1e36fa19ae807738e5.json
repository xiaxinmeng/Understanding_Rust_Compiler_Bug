{"sha": "4da6879c75da767a09b28a1e36fa19ae807738e5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGRhNjg3OWM3NWRhNzY3YTA5YjI4YTFlMzZmYTE5YWU4MDc3MzhlNQ==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@apple.com", "date": "2003-08-14T03:10:49Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2003-08-14T03:10:49Z"}, "message": "gengtype.c (walk_type): Process a subobject before processing the pointer that points to the subobject.\n\n\t* gengtype.c (walk_type): Process a subobject before processing\n\tthe pointer that points to the subobject.\n\nFrom-SVN: r70427", "tree": {"sha": "f2335aeef6d79bb09b972a151a81ec8655d36c8b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f2335aeef6d79bb09b972a151a81ec8655d36c8b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4da6879c75da767a09b28a1e36fa19ae807738e5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4da6879c75da767a09b28a1e36fa19ae807738e5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4da6879c75da767a09b28a1e36fa19ae807738e5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4da6879c75da767a09b28a1e36fa19ae807738e5/comments", "author": {"login": "geoffk01", "id": 31905243, "node_id": "MDQ6VXNlcjMxOTA1MjQz", "avatar_url": "https://avatars.githubusercontent.com/u/31905243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geoffk01", "html_url": "https://github.com/geoffk01", "followers_url": "https://api.github.com/users/geoffk01/followers", "following_url": "https://api.github.com/users/geoffk01/following{/other_user}", "gists_url": "https://api.github.com/users/geoffk01/gists{/gist_id}", "starred_url": "https://api.github.com/users/geoffk01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geoffk01/subscriptions", "organizations_url": "https://api.github.com/users/geoffk01/orgs", "repos_url": "https://api.github.com/users/geoffk01/repos", "events_url": "https://api.github.com/users/geoffk01/events{/privacy}", "received_events_url": "https://api.github.com/users/geoffk01/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "2842011664f2dd313ab8f5784fadc36ecb9f57cf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2842011664f2dd313ab8f5784fadc36ecb9f57cf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2842011664f2dd313ab8f5784fadc36ecb9f57cf"}], "stats": {"total": 20, "additions": 13, "deletions": 7}, "files": [{"sha": "c6a192725522338156c74014510e4cd7b7f484ca", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4da6879c75da767a09b28a1e36fa19ae807738e5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4da6879c75da767a09b28a1e36fa19ae807738e5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4da6879c75da767a09b28a1e36fa19ae807738e5", "patch": "@@ -1,3 +1,8 @@\n+2003-08-13  Geoffrey Keating  <geoffk@apple.com>\n+\n+\t* gengtype.c (walk_type): Process a subobject before processing\n+\tthe pointer that points to the subobject.\n+\n 2003-08-13  Per Bothner  <pbothner@apple.com>\n \n \t* regclass.c (init_reg_modes):  Make non-static."}, {"sha": "67063ecb1c619da2a36320536f3a0473a23ea024", "filename": "gcc/gengtype.c", "status": "modified", "additions": 8, "deletions": 7, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4da6879c75da767a09b28a1e36fa19ae807738e5/gcc%2Fgengtype.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4da6879c75da767a09b28a1e36fa19ae807738e5/gcc%2Fgengtype.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgengtype.c?ref=4da6879c75da767a09b28a1e36fa19ae807738e5", "patch": "@@ -1480,12 +1480,13 @@ output_escaped_param (struct walk_type_data *d, const char *param,\n /* Call D->PROCESS_FIELD for every field (or subfield) of D->VAL,\n    which is of type T.  Write code to D->OF to constrain execution (at\n    the point that D->PROCESS_FIELD is called) to the appropriate\n-   cases.  D->PREV_VAL lists the objects containing the current object,\n-   D->OPT is a list of options to apply, D->INDENT is the current\n-   indentation level, D->LINE is used to print error messages,\n-   D->BITMAP indicates which languages to print the structure for, and\n-   D->PARAM is the current parameter (from an enclosing param_is\n-   option).  */\n+   cases.  Call D->PROCESS_FIELD on subobjects before calling it on\n+   pointers to those objects.  D->PREV_VAL lists the objects\n+   containing the current object, D->OPT is a list of options to\n+   apply, D->INDENT is the current indentation level, D->LINE is used\n+   to print error messages, D->BITMAP indicates which languages to\n+   print the structure for, and D->PARAM is the current parameter\n+   (from an enclosing param_is option).  */\n \n static void\n walk_type (type_p t, struct walk_type_data *d)\n@@ -1622,7 +1623,6 @@ walk_type (type_p t, struct walk_type_data *d)\n \t    oprintf (d->of, \"%*sif (%s != NULL) {\\n\", d->indent, \"\", d->val);\n \t    d->indent += 2;\n \t    oprintf (d->of, \"%*ssize_t i%d;\\n\", d->indent, \"\", loopcounter);\n-\t    d->process_field(t, d);\n \t    oprintf (d->of, \"%*sfor (i%d = 0; i%d < (size_t)(\", d->indent, \"\",\n \t\t     loopcounter, loopcounter);\n \t    output_escaped_param (d, length, \"length\");\n@@ -1638,6 +1638,7 @@ walk_type (type_p t, struct walk_type_data *d)\n \t    d->used_length = 0;\n \t    d->indent -= 2;\n \t    oprintf (d->of, \"%*s}\\n\", d->indent, \"\");\n+\t    d->process_field(t, d);\n \t    d->indent -= 2;\n \t    oprintf (d->of, \"%*s}\\n\", d->indent, \"\");\n \t  }"}]}