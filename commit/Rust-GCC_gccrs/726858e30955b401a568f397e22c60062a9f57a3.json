{"sha": "726858e30955b401a568f397e22c60062a9f57a3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzI2ODU4ZTMwOTU1YjQwMWE1NjhmMzk3ZTIyYzYwMDYyYTlmNTdhMw==", "commit": {"author": {"name": "Richard Sandiford", "email": "richard.sandiford@arm.com", "date": "2015-07-28T20:06:57Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2015-07-28T20:06:57Z"}, "message": "target-insns.def (reload_load_address): New targetm instruction pattern.\n\ngcc/\n\t* target-insns.def (reload_load_address): New targetm instruction\n\tpattern.\n\t* reload1.c (gen_reload): Use it instead of HAVE_*/gen_* interface.\n\nFrom-SVN: r226326", "tree": {"sha": "98755151d7ab3ab3e6c214347cdcbe9d199f253f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/98755151d7ab3ab3e6c214347cdcbe9d199f253f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/726858e30955b401a568f397e22c60062a9f57a3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/726858e30955b401a568f397e22c60062a9f57a3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/726858e30955b401a568f397e22c60062a9f57a3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/726858e30955b401a568f397e22c60062a9f57a3/comments", "author": {"login": "rsandifo-arm", "id": 28043039, "node_id": "MDQ6VXNlcjI4MDQzMDM5", "avatar_url": "https://avatars.githubusercontent.com/u/28043039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo-arm", "html_url": "https://github.com/rsandifo-arm", "followers_url": "https://api.github.com/users/rsandifo-arm/followers", "following_url": "https://api.github.com/users/rsandifo-arm/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo-arm/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo-arm/orgs", "repos_url": "https://api.github.com/users/rsandifo-arm/repos", "events_url": "https://api.github.com/users/rsandifo-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo-arm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "3d00045080bdf31878936a5766dbad85f8ad6efe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d00045080bdf31878936a5766dbad85f8ad6efe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3d00045080bdf31878936a5766dbad85f8ad6efe"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "449df03ec7ee23573af316f961e61637285e82bb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/726858e30955b401a568f397e22c60062a9f57a3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/726858e30955b401a568f397e22c60062a9f57a3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=726858e30955b401a568f397e22c60062a9f57a3", "patch": "@@ -1,3 +1,9 @@\n+2015-07-28  Richard Sandiford  <richard.sandiford@arm.com>\n+\n+\t* target-insns.def (reload_load_address): New targetm instruction\n+\tpattern.\n+\t* reload1.c (gen_reload): Use it instead of HAVE_*/gen_* interface.\n+\n 2015-07-28  Richard Sandiford  <richard.sandiford@arm.com>\n \n \t* target-insns.def (atomic_test_and_set): New targetm instruction"}, {"sha": "ce06e0696e42a7ba85de6f96c80aa51efb52f3ba", "filename": "gcc/reload1.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/726858e30955b401a568f397e22c60062a9f57a3/gcc%2Freload1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/726858e30955b401a568f397e22c60062a9f57a3/gcc%2Freload1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload1.c?ref=726858e30955b401a568f397e22c60062a9f57a3", "patch": "@@ -8803,10 +8803,8 @@ gen_reload (rtx out, rtx in, int opnum, enum reload_type type)\n       mark_jump_label (in, tem, 0);\n     }\n \n-#ifdef HAVE_reload_load_address\n-  else if (HAVE_reload_load_address)\n-    emit_insn (gen_reload_load_address (out, in));\n-#endif\n+  else if (targetm.have_reload_load_address ())\n+    emit_insn (targetm.gen_reload_load_address (out, in));\n \n   /* Otherwise, just write (set OUT IN) and hope for the best.  */\n   else"}, {"sha": "0c64a6b2c7f27a5358f9d936dc28cf57ddebaf73", "filename": "gcc/target-insns.def", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/726858e30955b401a568f397e22c60062a9f57a3/gcc%2Ftarget-insns.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/726858e30955b401a568f397e22c60062a9f57a3/gcc%2Ftarget-insns.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftarget-insns.def?ref=726858e30955b401a568f397e22c60062a9f57a3", "patch": "@@ -61,6 +61,7 @@ DEF_TARGET_INSN (probe_stack, (rtx x0))\n DEF_TARGET_INSN (probe_stack_address, (rtx x0))\n DEF_TARGET_INSN (prologue, (void))\n DEF_TARGET_INSN (ptr_extend, (rtx x0, rtx x1))\n+DEF_TARGET_INSN (reload_load_address, (rtx x0, rtx x1))\n DEF_TARGET_INSN (restore_stack_block, (rtx x0, rtx x1))\n DEF_TARGET_INSN (restore_stack_function, (rtx x0, rtx x1))\n DEF_TARGET_INSN (restore_stack_nonlocal, (rtx x0, rtx x1))"}]}