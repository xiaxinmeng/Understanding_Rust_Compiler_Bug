{"sha": "2c65142a27eb0e8574767fb05addc850811ea291", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmM2NTE0MmEyN2ViMGU4NTc0NzY3ZmIwNWFkZGM4NTA4MTFlYTI5MQ==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2010-08-17T12:25:24Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2010-08-17T12:25:24Z"}, "message": "re PR target/45296 (register long double ICE at -O2, -Os, -O3)\n\n\tPR target/45296\n\t* reginfo.c (globalize_reg): Reject stack registers.\n\ntestsuite/ChangeLog:\n\n\tPR target/45296\n\t* gcc.target/i386/pr45296.c: New test.\n\nFrom-SVN: r163303", "tree": {"sha": "96abe492a5c663c3d4d71b55c14ef2b3b23e4498", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/96abe492a5c663c3d4d71b55c14ef2b3b23e4498"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2c65142a27eb0e8574767fb05addc850811ea291", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c65142a27eb0e8574767fb05addc850811ea291", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c65142a27eb0e8574767fb05addc850811ea291", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c65142a27eb0e8574767fb05addc850811ea291/comments", "author": null, "committer": null, "parents": [{"sha": "fd4a760e5e1c85e7ca49a1afe604059cd4e228e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd4a760e5e1c85e7ca49a1afe604059cd4e228e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd4a760e5e1c85e7ca49a1afe604059cd4e228e9"}], "stats": {"total": 27, "additions": 24, "deletions": 3}, "files": [{"sha": "29e5007c1622a659161bfc00b4d9b329de1cdccb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c65142a27eb0e8574767fb05addc850811ea291/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c65142a27eb0e8574767fb05addc850811ea291/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2c65142a27eb0e8574767fb05addc850811ea291", "patch": "@@ -1,3 +1,8 @@\n+2010-08-17  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\tPR target/45296\n+\t* reginfo.c (globalize_reg): Reject stack registers.\n+\n 2010-08-17  Richard Guenther  <rguenther@suse.de>\n \n \t* tree-ssa-dom.c (struct edge_info): Use a VEC for the\n@@ -24,7 +29,7 @@\n \t* c-decl.c (diagnose_uninitialized_cst_member): New function.\n \t(finish_decl): Use it to issue a -Wc++-compat warning about\n \tuninitialized const field in struct or union.\n-\t\n+\n \t(finish_struct): Use strip_array_types.\n \n 2010-08-17  Jakub Jelinek  <jakub@redhat.com>\n@@ -112,8 +117,7 @@\n \t(decode_options): Update call to decode_cmdline_options_to_array.\n \t(print_filtered_help): Ignore driver-only options.\n \t(print_specific_help): Ignore CL_DRIVER.\n-\t(common_handle_option): Don't call print_specific_help for\n-\tCL_DRIVER.\n+\t(common_handle_option): Don't call print_specific_help for CL_DRIVER.\n \t* opts.h (CL_DRIVER, CL_REJECT_DRIVER): Define.\n \t(CL_PARAMS, CL_WARNING, CL_OPTIMIZATION, CL_TARGET, CL_COMMON):\n \tUpdate values."}, {"sha": "1510ce84ec5df13e4b1b16040dc5d3d55896fa5f", "filename": "gcc/reginfo.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c65142a27eb0e8574767fb05addc850811ea291/gcc%2Freginfo.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c65142a27eb0e8574767fb05addc850811ea291/gcc%2Freginfo.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freginfo.c?ref=2c65142a27eb0e8574767fb05addc850811ea291", "patch": "@@ -798,6 +798,14 @@ fix_register (const char *name, int fixed, int call_used)\n void\n globalize_reg (int i)\n {\n+#ifdef STACK_REGS\n+  if (IN_RANGE (i, FIRST_STACK_REG, LAST_STACK_REG))\n+    {\n+      error (\"stack register used for global register variable\");\n+      return;\n+    }\n+#endif\n+\n   if (fixed_regs[i] == 0 && no_global_reg_vars)\n     error (\"global register variable follows a function definition\");\n "}, {"sha": "a4c99b89d5b1e158574bfd29e5f273aafd53cc04", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c65142a27eb0e8574767fb05addc850811ea291/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c65142a27eb0e8574767fb05addc850811ea291/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2c65142a27eb0e8574767fb05addc850811ea291", "patch": "@@ -1,3 +1,8 @@\n+2010-08-17  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\tPR target/45296\n+\t* gcc.target/i386/pr45296.c: New test.\n+\n 2010-08-17  Kai Tietz  <kai.tietz@onevision.com>\n \n \t* g++.dg/ext/uow-1.C: New."}, {"sha": "307ee012aeb25e1a9952139204dbd35785a47588", "filename": "gcc/testsuite/gcc.target/i386/pr45296.c", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c65142a27eb0e8574767fb05addc850811ea291/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr45296.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c65142a27eb0e8574767fb05addc850811ea291/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr45296.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr45296.c?ref=2c65142a27eb0e8574767fb05addc850811ea291", "patch": "@@ -0,0 +1,4 @@\n+/* { dg-do compile } */\n+/* { dg-options \"\" } */\n+\n+register long double F80 asm(\"st\"); /* { dg-error \"stack register\" } */"}]}