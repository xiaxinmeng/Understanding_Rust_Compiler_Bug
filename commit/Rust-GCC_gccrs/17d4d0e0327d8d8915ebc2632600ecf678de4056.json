{"sha": "17d4d0e0327d8d8915ebc2632600ecf678de4056", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTdkNGQwZTAzMjdkOGQ4OTE1ZWJjMjYzMjYwMGVjZjY3OGRlNDA1Ng==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-10-13T05:07:59Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-10-13T05:07:59Z"}, "message": "(install-common): Put - on cmd that handles protoize.\n\n(gcc.o, cccp.o): Define TOOLDIR for the compilation.\n(all HOST_PREFIX_1 targets): Fix typos.\n\nFrom-SVN: r2422", "tree": {"sha": "3715250f7b6176b80c443df9e055beb3457994d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3715250f7b6176b80c443df9e055beb3457994d2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/17d4d0e0327d8d8915ebc2632600ecf678de4056", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17d4d0e0327d8d8915ebc2632600ecf678de4056", "html_url": "https://github.com/Rust-GCC/gccrs/commit/17d4d0e0327d8d8915ebc2632600ecf678de4056", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17d4d0e0327d8d8915ebc2632600ecf678de4056/comments", "author": null, "committer": null, "parents": [{"sha": "1cf549b1feb729537016c2eb062f654be4bf10ef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1cf549b1feb729537016c2eb062f654be4bf10ef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1cf549b1feb729537016c2eb062f654be4bf10ef"}], "stats": {"total": 14, "additions": 8, "deletions": 6}, "files": [{"sha": "3c702bef8a33fa9c06d6f8335455c62ecd7c7731", "filename": "gcc/Makefile.in", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17d4d0e0327d8d8915ebc2632600ecf678de4056/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17d4d0e0327d8d8915ebc2632600ecf678de4056/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=17d4d0e0327d8d8915ebc2632600ecf678de4056", "patch": "@@ -776,6 +776,7 @@ gcc.o: gcc.c $(CONFIG_H) gvarargs.h obstack.h\n   -DSTANDARD_STARTFILE_PREFIX=\\\"$(libdir)/\\\" \\\n   -DSTANDARD_EXEC_PREFIX=\\\"$(libdir)/gcc-lib/\\\" \\\n   -DDEFAULT_TARGET_MACHINE=\\\"$(target)\\\" \\\n+  -DTOOLDIR=\\\"$(tooldir)/\\\" \\\n   -c `echo $(srcdir)/gcc.c | sed 's,^\\./,,'`\n \n dumpvers: dumpvers.c\n@@ -1083,17 +1084,17 @@ genoutput.o : genoutput.c $(RTL_H) config.h\n # with the rules for rtl.o, alloca.o, etc.\n $(HOST_PREFIX_1)rtl.o: $(srcdir)/rtl.c $(CONFIG_H) $(RTL_H)\n \trm -f $(HOST_PREFIX)rtl.c\n-\tsed -e 's/config[.]/hconfig[.]h/' $(srcdir)/rtlanal.c > $(HOST_PREFIX)rtlanal.c\n+\tsed -e 's/config[.]/hconfig.h/' $(srcdir)/rtl.c > $(HOST_PREFIX)rtl.c\n \t$(HOST_CC) -c $(HOST_CFLAGS) $(HOST_CPPFLAGS) $(INCLUDES) $(HOST_PREFIX)rtl.c\n \n $(HOST_PREFIX_1)print-rtl.o: $(srcdir)/print-rtl.c $(CONFIG_H) $(RTL_H)\n \trm -f $(HOST_PREFIX)print-rtl.c\n-\tsed -e 's/config[.]/hconfig[.]h/' $(srcdir)/rtlanal.c > $(HOST_PREFIX)rtlanal.c\n+\tsed -e 's/config[.]/hconfig.h/' $(srcdir)/print-rtl.c > $(HOST_PREFIX)print-rtl.c\n \t$(HOST_CC) -c $(HOST_CFLAGS) $(HOST_CPPFLAGS) $(INCLUDES) $(HOST_PREFIX)print-rtl.c\n \n $(HOST_PREFIX_1)rtlanal.o: $(srcdir)/rtlanal.c $(CONFIG_H) $(RTL_H)\n \trm -f $(HOST_PREFIX)rtlanal.c\n-\tsed -e 's/config[.]/hconfig[.]h/' $(srcdir)/rtlanal.c > $(HOST_PREFIX)rtlanal.c\n+\tsed -e 's/config[.]/hconfig.h/' $(srcdir)/rtlanal.c > $(HOST_PREFIX)rtlanal.c\n \t$(HOST_CC) -c $(HOST_CFLAGS) $(HOST_CPPFLAGS) $(INCLUDES) $(HOST_PREFIX)rtlanal.c\n \n $(HOST_PREFIX_1)alloca.o: alloca.c\n@@ -1103,12 +1104,12 @@ $(HOST_PREFIX_1)alloca.o: alloca.c\n \n $(HOST_PREFIX_1)obstack.o: obstack.c\n \trm -f $(HOST_PREFIX)obstack.c\n-\tsed -e 's/config[.]/hconfig[.]h/' $(srcdir)/obstack.c > $(HOST_PREFIX)obstack.c\n+\tsed -e 's/config[.]/hconfig.h/' $(srcdir)/obstack.c > $(HOST_PREFIX)obstack.c\n \t$(HOST_CC) -c $(HOST_CFLAGS) $(HOST_CPPFLAGS) $(INCLUDES) $(HOST_PREFIX)obstack.c\n \n $(HOST_PREFIX_1)malloc.o: malloc.c\n \trm -f $(HOST_PREFIX)malloc.c\n-\tsed -e 's/config[.]/hconfig[.]h/' $(srcdir)/malloc.c > $(HOST_PREFIX)malloc.c\n+\tsed -e 's/config[.]/hconfig.h/' $(srcdir)/malloc.c > $(HOST_PREFIX)malloc.c\n \t$(HOST_CC) -c $(HOST_CFLAGS) $(HOST_CPPFLAGS) $(INCLUDES) $(HOST_PREFIX)malloc.c\n \n # This satisfies the dependency that we get if you cross-compile a compiler\n@@ -1136,6 +1137,7 @@ cccp.o: cccp.c $(CONFIG_H) pcp.h version.c\n \t  -DGPLUSPLUS_INCLUDE_DIR=\\\"$(libdir)/g++-include\\\" \\\n \t  -DLOCAL_INCLUDE_DIR=\\\"$(prefix)/include\\\" \\\n \t  -DCROSS_INCLUDE_DIR=\\\"$(libsubdir)/sys-include\\\" \\\n+\t  -DTOOLDIR=\\\"$(tooldir)/\\\" \\\n \t  -c `echo $(srcdir)/cccp.c | sed 's,^\\./,,'`\n \n proto: config.status protoize unprotoize SYSCALLS.c.X\n@@ -1424,7 +1426,7 @@ install-common: native install-dir xgcc $(srcdir)/g++ $(srcdir)/c++ $(EXTRA_PART\n \t  mv $(bindir)/gcc-$(target)-1 $(bindir)/gcc-$(target); \\\n \tfi\n # Install protoize if it was compiled.\n-\tif [ -f protoize ]; \\\n+\t-if [ -f protoize ]; \\\n \tthen \\\n \t    rm -f $(bindir)/protoize; \\\n \t    $(INSTALL_PROGRAM) protoize $(bindir)/protoize; \\"}]}