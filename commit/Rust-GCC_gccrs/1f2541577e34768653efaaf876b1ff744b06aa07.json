{"sha": "1f2541577e34768653efaaf876b1ff744b06aa07", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWYyNTQxNTc3ZTM0NzY4NjUzZWZhYWY4NzZiMWZmNzQ0YjA2YWEwNw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2013-11-26T20:55:39Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2013-11-26T20:55:39Z"}, "message": "re PR middle-end/59273 (ICE in expand_expr_real_2, at expr.c:9188 on alpha)\n\n\tPR middle-end/59273\n\t* tree-vect-generic.c (optimize_vector_constructor): Don't optimize\n\tif there isn't optab handler for the corresponding vector PLUS_EXPR.\n\nFrom-SVN: r205414", "tree": {"sha": "d99a9242d8cf95d13f1607da9d029fec2d1ad48f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d99a9242d8cf95d13f1607da9d029fec2d1ad48f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1f2541577e34768653efaaf876b1ff744b06aa07", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f2541577e34768653efaaf876b1ff744b06aa07", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f2541577e34768653efaaf876b1ff744b06aa07", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f2541577e34768653efaaf876b1ff744b06aa07/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "9e3de74cdf7b5c6f3b762299a6492889429931c1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e3de74cdf7b5c6f3b762299a6492889429931c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e3de74cdf7b5c6f3b762299a6492889429931c1"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "4f2edd445c00120d49678165fad072377bb950b8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f2541577e34768653efaaf876b1ff744b06aa07/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f2541577e34768653efaaf876b1ff744b06aa07/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1f2541577e34768653efaaf876b1ff744b06aa07", "patch": "@@ -1,5 +1,9 @@\n 2013-11-26  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR middle-end/59273\n+\t* tree-vect-generic.c (optimize_vector_constructor): Don't optimize\n+\tif there isn't optab handler for the corresponding vector PLUS_EXPR.\n+\n \tPR rtl-optimization/59166\n \t* ira.c (find_moveable_pseudos): Use DF_REF_REAL_LOC instead of\n \tDF_REF_LOC in validate_change call."}, {"sha": "d55485dbeaa0ea5efb0ba7fe10b2dc8386ff932e", "filename": "gcc/tree-vect-generic.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f2541577e34768653efaaf876b1ff744b06aa07/gcc%2Ftree-vect-generic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f2541577e34768653efaaf876b1ff744b06aa07/gcc%2Ftree-vect-generic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-generic.c?ref=1f2541577e34768653efaaf876b1ff744b06aa07", "patch": "@@ -1015,9 +1015,14 @@ optimize_vector_constructor (gimple_stmt_iterator *gsi)\n   tree *cst;\n   gimple g;\n   tree base = NULL_TREE;\n+  optab op;\n \n   if (nelts <= 2 || CONSTRUCTOR_NELTS (rhs) != nelts)\n     return;\n+  op = optab_for_tree_code (PLUS_EXPR, type, optab_default);\n+  if (op == unknown_optab\n+      || optab_handler (op, TYPE_MODE (type)) == CODE_FOR_nothing)\n+    return;\n   FOR_EACH_VEC_SAFE_ELT (CONSTRUCTOR_ELTS (rhs), i, elt)\n     if (TREE_CODE (elt->value) != SSA_NAME\n \t|| TREE_CODE (TREE_TYPE (elt->value)) == VECTOR_TYPE)"}]}