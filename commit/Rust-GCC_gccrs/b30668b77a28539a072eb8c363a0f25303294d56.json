{"sha": "b30668b77a28539a072eb8c363a0f25303294d56", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjMwNjY4Yjc3YTI4NTM5YTA3MmViOGMzNjNhMGYyNTMwMzI5NGQ1Ng==", "commit": {"author": {"name": "Vincent Celier", "email": "celier@gnat.com", "date": "2001-10-11T01:02:03Z"}, "committer": {"name": "Geert Bosch", "email": "bosch@gcc.gnu.org", "date": "2001-10-11T01:02:03Z"}, "message": "* make.adb:\n\n\t(Add_Switches): reflect the changes for the switches attributes\n\tDefault_Switches indexed by the programming language,\n\tSwitches indexed by the file name.\n\t(Collect_Arguments_And_Compile): Idem.\n\tReflect the attribute name changes.\n\n\t* prj-attr.adb:\n\t(Initialisation_Data): Change the names of some packages and\n\tattributes.\n\t(Initialize): process case insensitive associative arrays.\n\n\t* prj-attr.ads:\n\t(Attribute_Kind): Remove Both, add Case_Insensitive_Associative_Array.\n\n\t* prj-dect.adb:\n\t(Parse_Attribute_Declaration): For case insensitive associative\n\t arrays, set the index string to lower case.\n\n\t* prj-env.adb:\n\tReflect the changes of the project attributes.\n\n\t* prj-nmsc.adb:\n\tReplace Check_Naming_Scheme by Ada_Check and\n\tLanguage_Independent_Check.\n\n\t* prj-nmsc.ads:\n\tReplaced Check_Naming_Scheme by 2 procedures:\n\tAda_Check and Language_Independent_Check.\n\n\t* prj-proc.adb:\n\t(Process_Declarative_Items): For case-insensitive associative\n\tarrays, set the index string to lower case.\n\t(Recursive_Check): Call Prj.Nmsc.Ada_Check, instead of\n\tPrj.Nmsc.Check_Naming_Scheme.\n\n\t* prj-tree.adb:\n\t(Case_Insensitive): New function\n\t(Set_Case_Insensitive): New procedure\n\n\t* prj-tree.ads:\n\t(Case_Insensitive): New function\n\t(Set_Case_Insensitive): New procedure\n\t(Project_Node_Record): New flag Case_Insensitive.\n\n\t* prj-util.adb:\n\t(Value_Of): new function to get the string value of a single\n\tstring variable or attribute.\n\n\t* prj-util.ads:\n\t(Value_Of): new function to get the string value of a single\n\tstring variable or attribute.\n\n\t* prj.adb:\n\t(Ada_Default_Spec_Suffix): New function\n\t(Ada_Default_Impl_Suffix): New function\n\tChange definitions of several constants to reflect\n\tnew components of record types.\n\n\t* prj.ads:\n\t(Naming_Data): Change several components to reflect new\n\telements of naming schemes.\n\t(Project_Data): New flags Sources_Present and\n\tLanguage_Independent_Checked.\n\t(Ada_Default_Spec_Suffix): New function.\n\t(Ada_Default_Impl_Suffix): New function.\n\n\t* snames.ads:\n\tModification of predefined names for project manager: added\n\tImplementation, Specification_Exceptions, Implementation_Exceptions,\n\tSpecification_Suffix, Implementation_Suffix, Separate_Suffix,\n\tDefault_Switches, _Languages, Builder, Cross_Reference,\n\tFinder. Removed Body_Part, Specification_Append, Body_Append,\n\tSeparate_Append, Gnatmake, Gnatxref, Gnatfind, Gnatbind,\n\tGnatlink.\n\n\t* prj.ads: (Ada_Default_Spec_Suffix, Ada_Default_Impl_Suffix):\n\tAdd comments.\n\n\t* prj-nmsc.adb (Ada_Check): Test that Separate_Suffix is defaulted,\n\tnot that it is Nil_Variable_Value.\n\n\t* prj.ads: Add ??? for uncommented declarations\n\nFrom-SVN: r46169", "tree": {"sha": "a7dd7bd90b833295e4cdd24ca2443617ba4bd34c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a7dd7bd90b833295e4cdd24ca2443617ba4bd34c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b30668b77a28539a072eb8c363a0f25303294d56", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b30668b77a28539a072eb8c363a0f25303294d56", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b30668b77a28539a072eb8c363a0f25303294d56", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b30668b77a28539a072eb8c363a0f25303294d56/comments", "author": null, "committer": null, "parents": [{"sha": "662e57b435994d4b54ce4a6ad5487a406b514adc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/662e57b435994d4b54ce4a6ad5487a406b514adc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/662e57b435994d4b54ce4a6ad5487a406b514adc"}], "stats": {"total": 3525, "additions": 1977, "deletions": 1548}, "files": [{"sha": "3593fd6f29bc33a5fd2386baee23955dd60b2f69", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 86, "deletions": 0, "changes": 86, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=b30668b77a28539a072eb8c363a0f25303294d56", "patch": "@@ -1,3 +1,89 @@\n+2001-10-10  Vincent Celier <celier@gnat.com>\n+\n+\t* make.adb:\n+\t(Add_Switches): reflect the changes for the switches attributes\n+\tDefault_Switches indexed by the programming language,\n+\tSwitches indexed by the file name.\n+\t(Collect_Arguments_And_Compile): Idem.\n+\tReflect the attribute name changes.\n+\t\n+\t* prj-attr.adb:\n+\t(Initialisation_Data): Change the names of some packages and\n+\tattributes.\n+\t(Initialize): process case insensitive associative arrays.\n+\t\n+\t* prj-attr.ads:\n+\t(Attribute_Kind): Remove Both, add Case_Insensitive_Associative_Array.\n+\t\n+\t* prj-dect.adb:\n+\t(Parse_Attribute_Declaration): For case insensitive associative\n+\t arrays, set the index string to lower case.\n+\t\n+\t* prj-env.adb:\n+\tReflect the changes of the project attributes.\n+\t\n+\t* prj-nmsc.adb:\n+\tReplace Check_Naming_Scheme by Ada_Check and\n+\tLanguage_Independent_Check.\n+\t\n+\t* prj-nmsc.ads:\n+\tReplaced Check_Naming_Scheme by 2 procedures:\n+\tAda_Check and Language_Independent_Check.\n+\t\n+\t* prj-proc.adb:\n+\t(Process_Declarative_Items): For case-insensitive associative\n+\tarrays, set the index string to lower case.\n+\t(Recursive_Check): Call Prj.Nmsc.Ada_Check, instead of\n+\tPrj.Nmsc.Check_Naming_Scheme.\n+\t\n+\t* prj-tree.adb:\n+\t(Case_Insensitive): New function\n+\t(Set_Case_Insensitive): New procedure\n+\t\n+\t* prj-tree.ads:\n+\t(Case_Insensitive): New function\n+\t(Set_Case_Insensitive): New procedure\n+\t(Project_Node_Record): New flag Case_Insensitive.\n+\t\n+\t* prj-util.adb:\n+\t(Value_Of): new function to get the string value of a single\n+\tstring variable or attribute.\n+\t\n+\t* prj-util.ads:\n+\t(Value_Of): new function to get the string value of a single\n+\tstring variable or attribute.\n+\t\n+\t* prj.adb:\n+\t(Ada_Default_Spec_Suffix): New function\n+\t(Ada_Default_Impl_Suffix): New function\n+\tChange definitions of several constants to reflect\n+\tnew components of record types.\n+\t\n+\t* prj.ads:\n+\t(Naming_Data): Change several components to reflect new\n+\telements of naming schemes.\n+\t(Project_Data): New flags Sources_Present and\n+\tLanguage_Independent_Checked.\n+\t(Ada_Default_Spec_Suffix): New function.\n+\t(Ada_Default_Impl_Suffix): New function.\n+\t\n+\t* snames.ads:\n+\tModification of predefined names for project manager: added\n+\tImplementation, Specification_Exceptions, Implementation_Exceptions,\n+\tSpecification_Suffix, Implementation_Suffix, Separate_Suffix,\n+\tDefault_Switches, _Languages, Builder, Cross_Reference,\n+\tFinder. Removed Body_Part, Specification_Append, Body_Append,\n+\tSeparate_Append, Gnatmake, Gnatxref, Gnatfind, Gnatbind,\n+\tGnatlink.\n+\t\n+\t* prj.ads: (Ada_Default_Spec_Suffix, Ada_Default_Impl_Suffix):\n+\tAdd comments.\n+\t\n+\t* prj-nmsc.adb (Ada_Check): Test that Separate_Suffix is defaulted,\n+\tnot that it is Nil_Variable_Value.\n+\t\n+\t* prj.ads: Add ??? for uncommented declarations\n+\n 2001-10-10  Ed Schonberg <schonber@gnat.com>\n \n \t* sem_prag.adb: (Analyze_Pragma, case External): If entity is a "}, {"sha": "7bf6eeda61a671146b6bde87eb27401a9ac239bf", "filename": "gcc/ada/make.adb", "status": "modified", "additions": 50, "deletions": 16, "changes": 66, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fmake.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fmake.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fmake.adb?ref=b30668b77a28539a072eb8c363a0f25303294d56", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---                            $Revision: 1.172 $\n+--                            $Revision$\n --                                                                          --\n --          Copyright (C) 1992-2001 Free Software Foundation, Inc.          --\n --                                                                          --\n@@ -623,15 +623,27 @@ package body Make is\n       Switch_List   : String_List_Id;\n       Element       : String_Element;\n \n+      Switches_Array : constant Array_Element_Id :=\n+        Prj.Util.Value_Of\n+        (Name => Name_Switches,\n+         In_Arrays => Packages.Table (The_Package).Decl.Arrays);\n+      Default_Switches_Array : constant Array_Element_Id :=\n+        Prj.Util.Value_Of\n+        (Name => Name_Default_Switches,\n+         In_Arrays => Packages.Table (The_Package).Decl.Arrays);\n+\n    begin\n       if File_Name'Length > 0 then\n          Name_Len := File_Name'Length;\n          Name_Buffer (1 .. Name_Len) := File_Name;\n          Switches :=\n-           Prj.Util.Value_Of\n-             (Name                    => Name_Find,\n-              Attribute_Or_Array_Name => Name_Switches,\n-              In_Package              => The_Package);\n+           Prj.Util.Value_Of (Index => Name_Find, In_Array => Switches_Array);\n+\n+         if Switches = Nil_Variable_Value then\n+            Switches := Prj.Util.Value_Of\n+              (Index => Name_Ada,\n+               In_Array => Default_Switches_Array);\n+         end if;\n \n          case Switches.Kind is\n             when Undefined =>\n@@ -1660,11 +1672,32 @@ package body Make is\n                      --  the specific switches for the current source,\n                      --  or the global switches, if any.\n \n-                     Switches :=\n-                       Prj.Util.Value_Of\n-                       (Name                    => Source_File,\n-                        Attribute_Or_Array_Name => Name_Switches,\n-                        In_Package              => Compiler_Package);\n+                     declare\n+                        Defaults : constant Array_Element_Id :=\n+                          Prj.Util.Value_Of\n+                           (Name => Name_Default_Switches,\n+                            In_Arrays => Packages.Table\n+                                          (Compiler_Package).Decl.Arrays);\n+                        Switches_Array : constant Array_Element_Id :=\n+                          Prj.Util.Value_Of\n+                           (Name => Name_Switches,\n+                            In_Arrays => Packages.Table\n+                                          (Compiler_Package).Decl.Arrays);\n+\n+                     begin\n+                        Switches :=\n+                          Prj.Util.Value_Of\n+                             (Index => Source_File,\n+                              In_Array => Switches_Array);\n+\n+                        if Switches = Nil_Variable_Value then\n+                           Switches :=\n+                             Prj.Util.Value_Of\n+                               (Index => Name_Ada, In_Array => Defaults);\n+                        end if;\n+\n+                     end;\n+\n                   end if;\n \n                   case Switches.Kind is\n@@ -2609,17 +2642,17 @@ package body Make is\n \n             Gnatmake : constant Prj.Package_Id :=\n                          Prj.Util.Value_Of\n-                           (Name        => Name_Gnatmake,\n+                           (Name        => Name_Builder,\n                             In_Packages => The_Packages);\n \n             Binder_Package : constant Prj.Package_Id :=\n                          Prj.Util.Value_Of\n-                           (Name        => Name_Gnatbind,\n+                           (Name        => Name_Binder,\n                             In_Packages => The_Packages);\n \n             Linker_Package : constant Prj.Package_Id :=\n                          Prj.Util.Value_Of\n-                           (Name       => Name_Gnatlink,\n+                           (Name       => Name_Linker,\n                            In_Packages => The_Packages);\n \n          begin\n@@ -2924,12 +2957,13 @@ package body Make is\n                      Body_Append : constant String :=\n                                      Get_Name_String\n                                        (Projects.Table\n-                                         (Main_Project).Naming.Body_Append);\n+                                        (Main_Project).\n+                                         Naming.Current_Impl_Suffix);\n                      Spec_Append : constant String :=\n                                      Get_Name_String\n                                        (Projects.Table\n                                          (Main_Project).\n-                                           Naming.Specification_Append);\n+                                           Naming.Current_Spec_Suffix);\n \n                   begin\n                      Get_Name_String (Main_Source_File);\n@@ -3444,7 +3478,7 @@ package body Make is\n \n          --  Avoid looking in the current directory for ALI files\n \n-         Opt.Look_In_Primary_Dir := False;\n+         --  Opt.Look_In_Primary_Dir := False;\n \n          --  Set the project parsing verbosity to whatever was specified\n          --  by a possible -vP switch."}, {"sha": "3840b9c6a1c8db8b6ae39d8d1feddd256229a185", "filename": "gcc/ada/prj-attr.adb", "status": "modified", "additions": 38, "deletions": 18, "changes": 56, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj-attr.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj-attr.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-attr.adb?ref=b30668b77a28539a072eb8c363a0f25303294d56", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---                            $Revision: 1.4 $\n+--                            $Revision$\n --                                                                          --\n --             Copyright (C) 2001 Free Software Foundation, Inc.            --\n --                                                                          --\n@@ -36,7 +36,8 @@ package body Prj.Attr is\n    --  Package names are preceded by 'P'\n    --  Attribute names are preceded by two capital letters:\n    --    'S' for Single or 'L' for list, then\n-   --    'V' for single variable, 'A' for associative array, or 'B' for both.\n+   --    'V' for single variable, 'A' for associative array or\n+   --     'a' for case insensitive associative array.\n    --  End is indicated by two consecutive '#'.\n \n    Initialisation_Data : constant String :=\n@@ -53,44 +54,63 @@ package body Prj.Attr is\n      \"SVlibrary_elaboration#\" &\n      \"SVlibrary_version#\" &\n      \"LVmain#\" &\n+     \"LVlanguages#\" &\n \n    --  package Naming\n \n      \"Pnaming#\" &\n-     \"SVspecification_append#\" &\n-     \"SVbody_append#\" &\n-     \"SVseparate_append#\" &\n+     \"Saspecification_suffix#\" &\n+     \"Saimplementation_suffix#\" &\n+     \"SVseparate_suffix#\" &\n      \"SVcasing#\" &\n      \"SVdot_replacement#\" &\n      \"SAspecification#\" &\n-     \"SAbody_part#\" &\n+     \"SAimplementation#\" &\n+     \"LAspecification_exceptions#\" &\n+     \"LAimplementation_exceptions#\" &\n \n    --  package Compiler\n \n      \"Pcompiler#\" &\n-     \"LBswitches#\" &\n+     \"Ladefault_switches#\" &\n+     \"LAswitches#\" &\n      \"SVlocal_configuration_pragmas#\" &\n \n-   --  package gnatmake\n+   --  package Builder\n \n-     \"Pgnatmake#\" &\n-     \"LBswitches#\" &\n+     \"Pbuilder#\" &\n+     \"Ladefault_switches#\" &\n+     \"LAswitches#\" &\n      \"SVglobal_configuration_pragmas#\" &\n \n    --  package gnatls\n \n      \"Pgnatls#\" &\n      \"LVswitches#\" &\n \n-   --  package gnatbind\n+   --  package Binder\n \n-     \"Pgnatbind#\" &\n-     \"LBswitches#\" &\n+     \"Pbinder#\" &\n+     \"Ladefault_switches#\" &\n+     \"LAswitches#\" &\n \n-   --  package gnatlink\n+   --  package Linker\n \n-     \"Pgnatlink#\" &\n-     \"LBswitches#\" &\n+     \"Plinker#\" &\n+     \"Ladefault_switches#\" &\n+     \"LAswitches#\" &\n+\n+   --  package Cross_Reference\n+\n+     \"Pcross_reference#\" &\n+     \"Ladefault_switches#\" &\n+     \"LAswitches#\" &\n+\n+   --  package Finder\n+\n+     \"Pfinder#\" &\n+     \"Ladefault_switches#\" &\n+     \"LAswitches#\" &\n \n      \"#\";\n \n@@ -162,8 +182,8 @@ package body Prj.Attr is\n                   Kind_2 := Single;\n                when 'A' =>\n                   Kind_2 := Associative_Array;\n-               when 'B' =>\n-                  Kind_2 := Both;\n+               when 'a' =>\n+                  Kind_2 := Case_Insensitive_Associative_Array;\n                when others =>\n                   raise Program_Error;\n             end case;"}, {"sha": "5c91719ca85a31084a8e097d37fc650adb6c45ac", "filename": "gcc/ada/prj-attr.ads", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj-attr.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj-attr.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-attr.ads?ref=b30668b77a28539a072eb8c363a0f25303294d56", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---                            $Revision: 1.1 $\n+--                            $Revision$\n --                                                                          --\n --             Copyright (C) 2001 Free Software Foundation, Inc.            --\n --                                                                          --\n@@ -51,7 +51,10 @@ package Prj.Attr is\n    Empty_Attribute : constant Attribute_Node_Id\n      := Attribute_Node_Low_Bound;\n \n-   type Attribute_Kind is (Single, Associative_Array, Both);\n+   type Attribute_Kind is\n+     (Single,\n+      Associative_Array,\n+      Case_Insensitive_Associative_Array);\n \n    type Attribute_Record is record\n       Name     : Name_Id;"}, {"sha": "df5528d094592302788c09ee60501ba09996ea1d", "filename": "gcc/ada/prj-dect.adb", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj-dect.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj-dect.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-dect.adb?ref=b30668b77a28539a072eb8c363a0f25303294d56", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---                            $Revision: 1.5 $\n+--                            $Revision$\n --                                                                          --\n --             Copyright (C) 2001 Free Software Foundation, Inc.            --\n --                                                                          --\n@@ -131,6 +131,13 @@ package body Prj.Dect is\n       if Token = Tok_Identifier then\n          Set_Name_Of (Attribute, To => Token_Name);\n          Set_Location_Of (Attribute, To => Token_Ptr);\n+\n+         if Attributes.Table (Current_Attribute).Kind_2 =\n+                            Case_Insensitive_Associative_Array\n+         then\n+            Set_Case_Insensitive (Attribute, To => True);\n+         end if;\n+\n          while Current_Attribute /= Empty_Attribute\n            and then\n              Attributes.Table (Current_Attribute).Name /= Token_Name"}, {"sha": "cc812e958eb5076df4f6be4ea522e9893872cee8", "filename": "gcc/ada/prj-env.adb", "status": "modified", "additions": 12, "deletions": 10, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj-env.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj-env.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-env.adb?ref=b30668b77a28539a072eb8c363a0f25303294d56", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---                            $Revision: 1.17 $\n+--                            $Revision$\n --                                                                          --\n --             Copyright (C) 2001 Free Software Foundation, Inc.            --\n --                                                                          --\n@@ -470,7 +470,7 @@ package body Prj.Env is\n                  (File, \"pragma Source_File_Name\");\n                Put_Line\n                  (File, \"  (Spec_File_Name  => \"\"*\" &\n-                  Namet.Get_Name_String (Data.Naming.Specification_Append) &\n+                  Namet.Get_Name_String (Data.Naming.Current_Spec_Suffix) &\n                   \"\"\",\");\n                Put_Line\n                  (File, \"   Casing          => \" &\n@@ -486,7 +486,7 @@ package body Prj.Env is\n                  (File, \"pragma Source_File_Name\");\n                Put_Line\n                  (File, \"  (Body_File_Name  => \"\"*\" &\n-                  Namet.Get_Name_String (Data.Naming.Body_Append) &\n+                  Namet.Get_Name_String (Data.Naming.Current_Impl_Suffix) &\n                   \"\"\",\");\n                Put_Line\n                  (File, \"   Casing          => \" &\n@@ -498,12 +498,14 @@ package body Prj.Env is\n \n                --  and maybe separate\n \n-               if Data.Naming.Body_Append /= Data.Naming.Separate_Append then\n+               if\n+                 Data.Naming.Current_Impl_Suffix /= Data.Naming.Separate_Suffix\n+               then\n                   Put_Line\n                     (File, \"pragma Source_File_Name\");\n                   Put_Line\n                     (File, \"  (Subunit_File_Name  => \"\"*\" &\n-                     Namet.Get_Name_String (Data.Naming.Separate_Append) &\n+                     Namet.Get_Name_String (Data.Naming.Separate_Suffix) &\n                      \"\"\",\");\n                   Put_Line\n                     (File, \"   Casing          => \" &\n@@ -714,7 +716,7 @@ package body Prj.Env is\n          The_Packages := Projects.Table (Main_Project).Decl.Packages;\n          Gnatmake :=\n            Prj.Util.Value_Of\n-           (Name        => Name_Gnatmake,\n+           (Name        => Name_Builder,\n             In_Packages => The_Packages);\n \n          if Gnatmake /= No_Package then\n@@ -800,10 +802,10 @@ package body Prj.Env is\n \n       Extended_Spec_Name : String :=\n                              Name & Namet.Get_Name_String\n-                                      (Data.Naming.Specification_Append);\n+                                      (Data.Naming.Current_Spec_Suffix);\n       Extended_Body_Name : String :=\n                              Name & Namet.Get_Name_String\n-                                      (Data.Naming.Body_Append);\n+                                      (Data.Naming.Current_Impl_Suffix);\n \n       Unit : Unit_Data;\n \n@@ -1252,10 +1254,10 @@ package body Prj.Env is\n \n       Extended_Spec_Name : String :=\n                              Name & Namet.Get_Name_String\n-                                     (Data.Naming.Specification_Append);\n+                                     (Data.Naming.Current_Spec_Suffix);\n       Extended_Body_Name : String :=\n                              Name & Namet.Get_Name_String\n-                                     (Data.Naming.Body_Append);\n+                                     (Data.Naming.Current_Impl_Suffix);\n \n       First   : Unit_Id := Units.First;\n       Current : Unit_Id;"}, {"sha": "777c99d95c81eaf31b1c48958f99023b7e6c5948", "filename": "gcc/ada/prj-nmsc.adb", "status": "modified", "additions": 1454, "deletions": 1335, "changes": 2789, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj-nmsc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj-nmsc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-nmsc.adb?ref=b30668b77a28539a072eb8c363a0f25303294d56"}, {"sha": "9a3e14915b7709dc47b08a29dc47710ab4b017b5", "filename": "gcc/ada/prj-nmsc.ads", "status": "modified", "additions": 14, "deletions": 5, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj-nmsc.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj-nmsc.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-nmsc.ads?ref=b30668b77a28539a072eb8c363a0f25303294d56", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---                            $Revision: 1.3 $\n+--                            $Revision$\n --                                                                          --\n --             Copyright (C) 2000-2001 Free Software Foundation, Inc.       --\n --                                                                          --\n@@ -31,12 +31,21 @@\n \n private package Prj.Nmsc is\n \n-   procedure Check_Naming_Scheme\n+   procedure Ada_Check\n      (Project      : Project_Id;\n       Report_Error : Put_Line_Access);\n-   --  Check that the Naming Scheme of a project is legal. Find the\n-   --  object directory, the source directories, and the source files.\n-   --  Check the source files against the Naming Scheme.\n+   --  Call Language_Independent_Check.\n+   --  Check the naming scheme for Ada.\n+   --  Find the Ada source files if any.\n+   --  If Report_Error is null , use the standard error reporting mechanism\n+   --  (Errout). Otherwise, report errors using Report_Error.\n+\n+   procedure Language_Independent_Check\n+     (Project      : Project_Id;\n+      Report_Error : Put_Line_Access);\n+   --  Check the object directory and the source directories.\n+   --  Check the library attributes, including the library directory if any.\n+   --  Get the set of specification and implementation suffixs, if any.\n    --  If Report_Error is null , use the standard error reporting mechanism\n    --  (Errout). Otherwise, report errors using Report_Error.\n "}, {"sha": "eece34c9f6a03a03b675170c076e003a86d32a91", "filename": "gcc/ada/prj-proc.adb", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj-proc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj-proc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-proc.adb?ref=b30668b77a28539a072eb8c363a0f25303294d56", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---                            $Revision: 1.16 $\n+--                            $Revision$\n --                                                                          --\n --             Copyright (C) 2001 Free Software Foundation, Inc.            --\n --                                                                          --\n@@ -27,6 +27,7 @@\n ------------------------------------------------------------------------------\n \n with Errout;   use Errout;\n+with GNAT.Case_Util;\n with Namet;    use Namet;\n with Opt;\n with Output;   use Output;\n@@ -1015,6 +1016,10 @@ package body Prj.Proc is\n                      String_To_Name_Buffer\n                        (Associative_Array_Index_Of (Current_Item));\n \n+                     if Case_Insensitive (Current_Item) then\n+                        GNAT.Case_Util.To_Lower (Name_Buffer (1 .. Name_Len));\n+                     end if;\n+\n                      declare\n                         The_Array : Array_Id;\n \n@@ -1260,7 +1265,7 @@ package body Prj.Proc is\n             Write_Line (\"\"\"\");\n          end if;\n \n-         Prj.Nmsc.Check_Naming_Scheme (Project, Error_Report);\n+         Prj.Nmsc.Ada_Check (Project, Error_Report);\n       end if;\n \n    end Recursive_Check;"}, {"sha": "9f0df4851fd3747bd9a9e7698ad04a98b5ccc340", "filename": "gcc/ada/prj-tree.adb", "status": "modified", "additions": 44, "deletions": 14, "changes": 58, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj-tree.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj-tree.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-tree.adb?ref=b30668b77a28539a072eb8c363a0f25303294d56", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---                            $Revision: 1.7 $\n+--                            $Revision$\n --                                                                          --\n --             Copyright (C) 2001 Free Software Foundation, Inc.            --\n --                                                                          --\n@@ -48,6 +48,19 @@ package body Prj.Tree is\n       return Project_Nodes.Table (Node).Value;\n    end Associative_Array_Index_Of;\n \n+   ----------------------\n+   -- Case_Insensitive --\n+   ----------------------\n+\n+   function Case_Insensitive (Node : Project_Node_Id) return Boolean is\n+   begin\n+      pragma Assert\n+        (Node /= Empty_Node\n+          and then\n+            (Project_Nodes.Table (Node).Kind = N_Attribute_Declaration));\n+      return Project_Nodes.Table (Node).Case_Insensitive;\n+   end Case_Insensitive;\n+\n    --------------------------------\n    -- Case_Variable_Reference_Of --\n    --------------------------------\n@@ -108,19 +121,20 @@ package body Prj.Tree is\n    begin\n       Project_Nodes.Increment_Last;\n       Project_Nodes.Table (Project_Nodes.Last) :=\n-           (Kind       => Of_Kind,\n-            Location   => No_Location,\n-            Directory  => No_Name,\n-            Expr_Kind  => And_Expr_Kind,\n-            Variables  => Empty_Node,\n-            Packages   => Empty_Node,\n-            Pkg_Id     => Empty_Package,\n-            Name       => No_Name,\n-            Path_Name  => No_Name,\n-            Value      => No_String,\n-            Field1     => Empty_Node,\n-            Field2     => Empty_Node,\n-            Field3     => Empty_Node);\n+           (Kind             => Of_Kind,\n+            Location         => No_Location,\n+            Directory        => No_Name,\n+            Expr_Kind        => And_Expr_Kind,\n+            Variables        => Empty_Node,\n+            Packages         => Empty_Node,\n+            Pkg_Id           => Empty_Package,\n+            Name             => No_Name,\n+            Path_Name        => No_Name,\n+            Value            => No_String,\n+            Field1           => Empty_Node,\n+            Field2           => Empty_Node,\n+            Field3           => Empty_Node,\n+            Case_Insensitive => False);\n       return Project_Nodes.Last;\n    end Default_Project_Node;\n \n@@ -723,6 +737,22 @@ package body Prj.Tree is\n       Project_Nodes.Table (Node).Value := To;\n    end Set_Associative_Array_Index_Of;\n \n+   --------------------------\n+   -- Set_Case_Insensitive --\n+   --------------------------\n+\n+   procedure Set_Case_Insensitive\n+     (Node : Project_Node_Id;\n+      To   : Boolean)\n+   is\n+   begin\n+      pragma Assert\n+        (Node /= Empty_Node\n+          and then\n+            Project_Nodes.Table (Node).Kind = N_Attribute_Declaration);\n+      Project_Nodes.Table (Node).Case_Insensitive := To;\n+   end Set_Case_Insensitive;\n+\n    ------------------------------------\n    -- Set_Case_Variable_Reference_Of --\n    ------------------------------------"}, {"sha": "6cc7c6b99d8a9ad16a1f8447d245fc21cf761e05", "filename": "gcc/ada/prj-tree.ads", "status": "modified", "additions": 25, "deletions": 14, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj-tree.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj-tree.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-tree.ads?ref=b30668b77a28539a072eb8c363a0f25303294d56", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---                            $Revision: 1.9 $\n+--                            $Revision$\n --                                                                          --\n --             Copyright (C) 2001 Free Software Foundation, Inc.            --\n --                                                                          --\n@@ -306,6 +306,9 @@ package Prj.Tree is\n       return  Project_Node_Id;\n    --  Only valid for N_Case_Item nodes\n \n+   function Case_Insensitive (Node : Project_Node_Id) return Boolean;\n+   --  Only valid for N_Attribute_Declaration nodes\n+\n    --------------------\n    -- Set Procedures --\n    --------------------\n@@ -480,6 +483,10 @@ package Prj.Tree is\n      (Node : Project_Node_Id;\n       To   : Project_Node_Id);\n \n+   procedure Set_Case_Insensitive\n+     (Node : Project_Node_Id;\n+      To   : Boolean);\n+\n    -------------------------------\n    -- Restricted Access Section --\n    -------------------------------\n@@ -491,43 +498,47 @@ package Prj.Tree is\n \n       type Project_Node_Record is record\n \n-         Kind        : Project_Node_Kind;\n+         Kind             : Project_Node_Kind;\n \n-         Location    : Source_Ptr    := No_Location;\n+         Location         : Source_Ptr    := No_Location;\n \n-         Directory   : Name_Id       := No_Name;\n+         Directory        : Name_Id       := No_Name;\n          --  Only for N_Project\n \n-         Expr_Kind   : Variable_Kind := Undefined;\n+         Expr_Kind        : Variable_Kind := Undefined;\n          --  See below for what Project_Node_Kind it is used\n \n-         Variables   : Variable_Node_Id := Empty_Node;\n+         Variables        : Variable_Node_Id := Empty_Node;\n          --  First variable in a project or a package\n \n-         Packages    : Package_Declaration_Id := Empty_Node;\n+         Packages         : Package_Declaration_Id := Empty_Node;\n          --  First package declaration in a project\n \n-         Pkg_Id      : Package_Node_Id := Empty_Package;\n+         Pkg_Id           : Package_Node_Id := Empty_Package;\n          --  Only use in Package_Declaration\n \n-         Name        : Name_Id         := No_Name;\n+         Name             : Name_Id         := No_Name;\n          --  See below for what Project_Node_Kind it is used\n \n-         Path_Name   : Name_Id         := No_Name;\n+         Path_Name        : Name_Id         := No_Name;\n          --  See below for what Project_Node_Kind it is used\n \n-         Value       : String_Id       := No_String;\n+         Value            : String_Id       := No_String;\n          --  See below for what Project_Node_Kind it is used\n \n-         Field1      : Project_Node_Id := Empty_Node;\n+         Field1           : Project_Node_Id := Empty_Node;\n          --  See below the meaning for each Project_Node_Kind\n \n-         Field2      : Project_Node_Id := Empty_Node;\n+         Field2           : Project_Node_Id := Empty_Node;\n          --  See below the meaning for each Project_Node_Kind\n \n-         Field3      : Project_Node_Id := Empty_Node;\n+         Field3           : Project_Node_Id := Empty_Node;\n          --  See below the meaning for each Project_Node_Kind\n \n+         Case_Insensitive : Boolean         := False;\n+         --  Indicates, for an associative array attribute, that the\n+         --  index is case insensitive.\n+\n       end record;\n \n       --  type Project_Node_Kind is"}, {"sha": "5188a21ca1052066bd503711935d2ec31bf9016a", "filename": "gcc/ada/prj-util.adb", "status": "modified", "additions": 17, "deletions": 1, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj-util.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj-util.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-util.adb?ref=b30668b77a28539a072eb8c363a0f25303294d56", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---                            $Revision: 1.8 $                              --\n+--                            $Revision$                              --\n --                                                                          --\n --             Copyright (C) 2001 Free Software Foundation, Inc.            --\n --                                                                          --\n@@ -187,6 +187,22 @@ package body Prj.Util is\n    -- Value_Of --\n    --------------\n \n+   function Value_Of\n+     (Variable : Variable_Value;\n+      Default  : String)\n+      return     String is\n+   begin\n+      if Variable.Kind /= Single\n+        or else Variable.Default\n+        or else Variable.Value = No_String then\n+         return Default;\n+\n+      else\n+         String_To_Name_Buffer (Variable.Value);\n+         return Name_Buffer (1 .. Name_Len);\n+      end if;\n+   end Value_Of;\n+\n    function Value_Of\n      (Index    : Name_Id;\n       In_Array : Array_Element_Id)"}, {"sha": "cec6f9e1b3232f9fda4cd6dfd706640039ea57a1", "filename": "gcc/ada/prj-util.ads", "status": "modified", "additions": 22, "deletions": 20, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj-util.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj-util.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-util.ads?ref=b30668b77a28539a072eb8c363a0f25303294d56", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---                            $Revision: 1.6 $\n+--                            $Revision$\n --                                                                          --\n --             Copyright (C) 2001 Free Software Foundation, Inc.            --\n --                                                                          --\n@@ -33,6 +33,13 @@ with Types;       use Types;\n \n package Prj.Util is\n \n+   function Value_Of\n+     (Variable : Variable_Value;\n+      Default  : String)\n+      return     String;\n+   --  Get the value of a single string variable. If Variable is\n+   --  Nil_Variable_Value, is a string list or is defaulted, return Default.\n+\n    function Value_Of\n      (Index    : Name_Id;\n       In_Array : Array_Element_Id)\n@@ -53,7 +60,7 @@ package Prj.Util is\n      (Name                    : Name_Id;\n       Attribute_Or_Array_Name : Name_Id;\n       In_Package              : Package_Id)\n-      return                   Variable_Value;\n+      return                    Variable_Value;\n    --  In a specific package,\n    --   - if there exists an array Variable_Or_Array_Name with an index\n    --     Name, returns the corresponding component,\n@@ -76,41 +83,36 @@ package Prj.Util is\n      (Name      : Name_Id;\n       In_Arrays : Array_Id)\n       return      Array_Element_Id;\n-   --  Returns a specified array in an array list.\n-   --  Returns No_Array_Element if In_Arrays is null or if Name is not the\n-   --  name of an array in In_Arrays.\n-   --  Assumption: Name is in lower case.\n+   --  Returns a specified array in an array list. Returns No_Array_Element\n+   --  if In_Arrays is null or if Name is not the name of an array in\n+   --  In_Arrays. The caller must ensure that Name is in lower case.\n \n    function Value_Of\n      (Name        : Name_Id;\n       In_Packages : Package_Id)\n       return        Package_Id;\n-   --  Returns a specified package in a package list.\n-   --  Returns No_Package if In_Packages is null or if Name is not the\n-   --  name of a package in Package_List.\n-   --  Assumption: Name is in lower case.\n+   --  Returns a specified package in a package list. Returns No_Package\n+   --  if In_Packages is null or if Name is not the name of a package in\n+   --  Package_List. The caller must ensure that Name is in lower case.\n \n    function Value_Of\n      (Variable_Name : Name_Id;\n       In_Variables  : Variable_Id)\n       return          Variable_Value;\n-   --  Returns a specified variable in a variable list.\n-   --  Returns null if In_Variables is null or if Variable_Name\n-   --  is not the name of a variable in In_Variables.\n-   --  Assumption: Variable_Name is in lower case.\n+   --  Returns a specified variable in a variable list. Returns null if\n+   --  In_Variables is null or if Variable_Name is not the name of a\n+   --  variable in In_Variables. Caller must ensure that Name is lower case.\n \n    procedure Write_Str\n      (S          : String;\n       Max_Length : Positive;\n       Separator  : Character);\n-   --  Output string S using Output.Write_Str.\n-   --  If S is too long to fit in one line of Max_Length, cut it in\n-   --  several lines, using Separator as the last character of each line,\n-   --  if possible.\n+   --  Output string S using Output.Write_Str. If S is too long to fit in\n+   --  one line of Max_Length, cut it in several lines, using Separator as\n+   --  the last character of each line, if possible.\n \n    type Text_File is limited private;\n-   --  Represents a text file.\n-   --  Default is invalid text file.\n+   --  Represents a text file. Default is invalid text file.\n \n    function Is_Valid (File : Text_File) return Boolean;\n    --  Returns True if File designates an open text file that"}, {"sha": "5f4cf46ef8b5c6aa4e30f2fbc017e900472e7b62", "filename": "gcc/ada/prj.adb", "status": "modified", "additions": 81, "deletions": 59, "changes": 140, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj.adb?ref=b30668b77a28539a072eb8c363a0f25303294d56", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---                            $Revision: 1.16 $\n+--                            $Revision$\n --                                                                          --\n --             Copyright (C) 2001 Free Software Foundation, Inc.            --\n --                                                                          --\n@@ -30,7 +30,6 @@ with Ada.Characters.Handling; use Ada.Characters.Handling;\n with Errout;      use Errout;\n with GNAT.OS_Lib; use GNAT.OS_Lib;\n with Namet;       use Namet;\n-with Osint;       use Osint;\n with Prj.Attr;\n with Prj.Com;\n with Prj.Env;\n@@ -42,7 +41,10 @@ with Snames;      use Snames;\n \n package body Prj is\n \n-   The_Empty_String : String_Id;\n+   The_Empty_String        : String_Id;\n+\n+   Default_Ada_Spec_Suffix : Name_Id := No_Name;\n+   Default_Ada_Impl_Suffix : Name_Id := No_Name;\n \n    subtype Known_Casing is Casing_Type range All_Upper_Case .. Mixed_Case;\n \n@@ -55,52 +57,74 @@ package body Prj is\n \n    Standard_Dot_Replacement      : constant Name_Id :=\n      First_Name_Id + Character'Pos ('-');\n-   Standard_Specification_Append : Name_Id;\n-   Standard_Body_Append          : Name_Id;\n \n    Std_Naming_Data : Naming_Data :=\n-     (Dot_Replacement      => Standard_Dot_Replacement,\n-      Dot_Repl_Loc         => No_Location,\n-      Casing               => All_Lower_Case,\n-      Specification_Append => No_Name,\n-      Spec_Append_Loc      => No_Location,\n-      Body_Append          => No_Name,\n-      Body_Append_Loc      => No_Location,\n-      Separate_Append      => No_Name,\n-      Sep_Append_Loc       => No_Location,\n-      Specifications       => No_Array_Element,\n-      Bodies               => No_Array_Element);\n-\n-   Project_Empty : Project_Data :=\n-     (First_Referred_By  => No_Project,\n-      Name               => No_Name,\n-      Path_Name          => No_Name,\n-      Location           => No_Location,\n-      Directory          => No_Name,\n-      File_Name          => No_Name,\n-      Library            => False,\n-      Library_Dir        => No_Name,\n-      Library_Name       => No_Name,\n-      Library_Kind       => Static,\n-      Lib_Internal_Name  => No_Name,\n-      Lib_Elaboration    => False,\n-      Sources            => Nil_String,\n-      Source_Dirs        => Nil_String,\n-      Object_Directory   => No_Name,\n-      Modifies           => No_Project,\n-      Modified_By        => No_Project,\n-      Naming             => Std_Naming_Data,\n-      Decl               => No_Declarations,\n-      Imported_Projects  => Empty_Project_List,\n-      Include_Path       => null,\n-      Objects_Path       => null,\n-      Config_File_Name   => No_Name,\n-      Config_File_Temp   => False,\n-      Config_Checked     => False,\n-      Checked            => False,\n-      Seen               => False,\n-      Flag1              => False,\n-      Flag2              => False);\n+     (Current_Language          => No_Name,\n+      Dot_Replacement           => Standard_Dot_Replacement,\n+      Dot_Repl_Loc              => No_Location,\n+      Casing                    => All_Lower_Case,\n+      Specification_Suffix      => No_Array_Element,\n+      Current_Spec_Suffix       => No_Name,\n+      Spec_Suffix_Loc           => No_Location,\n+      Implementation_Suffix     => No_Array_Element,\n+      Current_Impl_Suffix       => No_Name,\n+      Impl_Suffix_Loc           => No_Location,\n+      Separate_Suffix           => No_Name,\n+      Sep_Suffix_Loc            => No_Location,\n+      Specifications            => No_Array_Element,\n+      Bodies                    => No_Array_Element,\n+      Specification_Exceptions  => No_Array_Element,\n+      Implementation_Exceptions => No_Array_Element);\n+\n+   Project_Empty : constant Project_Data :=\n+     (First_Referred_By            => No_Project,\n+      Name                         => No_Name,\n+      Path_Name                    => No_Name,\n+      Location                     => No_Location,\n+      Directory                    => No_Name,\n+      Library                      => False,\n+      Library_Dir                  => No_Name,\n+      Library_Name                 => No_Name,\n+      Library_Kind                 => Static,\n+      Lib_Internal_Name            => No_Name,\n+      Lib_Elaboration              => False,\n+      Sources_Present              => True,\n+      Sources                      => Nil_String,\n+      Source_Dirs                  => Nil_String,\n+      Object_Directory             => No_Name,\n+      Modifies                     => No_Project,\n+      Modified_By                  => No_Project,\n+      Naming                       => Std_Naming_Data,\n+      Decl                         => No_Declarations,\n+      Imported_Projects            => Empty_Project_List,\n+      Include_Path                 => null,\n+      Objects_Path                 => null,\n+      Config_File_Name             => No_Name,\n+      Config_File_Temp             => False,\n+      Config_Checked               => False,\n+      Language_Independent_Checked => False,\n+      Checked                      => False,\n+      Seen                         => False,\n+      Flag1                        => False,\n+      Flag2                        => False);\n+\n+   -----------------------------\n+   -- Ada_Default_Spec_Suffix --\n+   -----------------------------\n+\n+   function Ada_Default_Spec_Suffix return Name_Id is\n+   begin\n+      return Default_Ada_Spec_Suffix;\n+   end Ada_Default_Spec_Suffix;\n+\n+   -----------------------------\n+   -- Ada_Default_Impl_Suffix --\n+   -----------------------------\n+\n+   function Ada_Default_Impl_Suffix return Name_Id is\n+   begin\n+      return Default_Ada_Impl_Suffix;\n+   end Ada_Default_Impl_Suffix;\n \n    -------------------\n    -- Empty_Project --\n@@ -192,15 +216,13 @@ package body Prj is\n          The_Empty_String := End_String;\n          Name_Len := 4;\n          Name_Buffer (1 .. 4) := \".ads\";\n-         Canonical_Case_File_Name (Name_Buffer (1 .. 4));\n-         Standard_Specification_Append := Name_Find;\n-         Name_Buffer (4) := 'b';\n-         Canonical_Case_File_Name (Name_Buffer (1 .. 4));\n-         Standard_Body_Append := Name_Find;\n-         Std_Naming_Data.Specification_Append := Standard_Specification_Append;\n-         Std_Naming_Data.Body_Append          := Standard_Body_Append;\n-         Std_Naming_Data.Separate_Append      := Standard_Body_Append;\n-         Project_Empty.Naming                 := Std_Naming_Data;\n+         Default_Ada_Spec_Suffix := Name_Find;\n+         Name_Len := 4;\n+         Name_Buffer (1 .. 4) := \".adb\";\n+         Default_Ada_Impl_Suffix := Name_Find;\n+         Std_Naming_Data.Current_Spec_Suffix := Default_Ada_Spec_Suffix;\n+         Std_Naming_Data.Current_Impl_Suffix := Default_Ada_Impl_Suffix;\n+         Std_Naming_Data.Separate_Suffix     := Default_Ada_Impl_Suffix;\n          Prj.Env.Initialize;\n          Prj.Attr.Initialize;\n          Set_Name_Table_Byte (Name_Project,   Token_Type'Pos (Tok_Project));\n@@ -236,9 +258,9 @@ package body Prj is\n    begin\n       return Left.Dot_Replacement = Right.Dot_Replacement\n         and then Left.Casing = Right.Casing\n-        and then Left.Specification_Append = Right.Specification_Append\n-        and then Left.Body_Append = Right.Body_Append\n-        and then Left.Separate_Append = Right.Separate_Append;\n+        and then Left.Current_Spec_Suffix = Right.Current_Spec_Suffix\n+        and then Left.Current_Impl_Suffix = Right.Current_Impl_Suffix\n+        and then Left.Separate_Suffix = Right.Separate_Suffix;\n    end Same_Naming_Scheme;\n \n    ----------"}, {"sha": "f59216577d39c6f5f85db49bf3f58d41d6f13e2b", "filename": "gcc/ada/prj.ads", "status": "modified", "additions": 88, "deletions": 27, "changes": 115, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fprj.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj.ads?ref=b30668b77a28539a072eb8c363a0f25303294d56", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---                            $Revision: 1.18 $\n+--                            $Revision$\n --                                                                          --\n --             Copyright (C) 2001 Free Software Foundation, Inc.            --\n --                                                                          --\n@@ -195,47 +195,66 @@ package Prj is\n    --  Raises Constraint_Error if not a Casing_Type image.\n \n    type Naming_Data is record\n-      Dot_Replacement      : Name_Id          := No_Name;\n-      --  The string to replace '.' in the source file name.\n+      Current_Language          : Name_Id          := No_Name;\n+      --  The programming language being currently considered\n \n-      Dot_Repl_Loc         : Source_Ptr       := No_Location;\n+      Dot_Replacement           : Name_Id          := No_Name;\n+      --  The string to replace '.' in the source file name (for Ada).\n+\n+      Dot_Repl_Loc              : Source_Ptr       := No_Location;\n       --  The position in the project file source where\n       --  Dot_Replacement is defined.\n \n-      Casing               : Casing_Type      := All_Lower_Case;\n-      --  The casing of the source file name.\n+      Casing                    : Casing_Type      := All_Lower_Case;\n+      --  The casing of the source file name (for Ada).\n \n-      Specification_Append : Name_Id          := No_Name;\n+      Specification_Suffix      : Array_Element_Id := No_Array_Element;\n       --  The string to append to the unit name for the\n       --  source file name of a specification.\n+      --  Indexed by the programming language.\n+\n+      Current_Spec_Suffix       : Name_Id          := No_Name;\n+      --  The specification suffix of the current programming language\n \n-      Spec_Append_Loc      : Source_Ptr       := No_Location;\n+      Spec_Suffix_Loc           : Source_Ptr       := No_Location;\n       --  The position in the project file source where\n-      --  Specification_Append is defined.\n+      --  Current_Spec_Suffix is defined.\n \n-      Body_Append          : Name_Id          := No_Name;\n+      Implementation_Suffix     : Array_Element_Id := No_Array_Element;\n       --  The string to append to the unit name for the\n       --  source file name of a body.\n+      --  Indexed by the programming language.\n+\n+      Current_Impl_Suffix       : Name_Id          := No_Name;\n+      --  The implementation suffix of the current programming language\n \n-      Body_Append_Loc      : Source_Ptr       := No_Location;\n+      Impl_Suffix_Loc           : Source_Ptr       := No_Location;\n       --  The position in the project file source where\n-      --  Body_Append is defined.\n+      --  Current_Impl_Suffix is defined.\n \n-      Separate_Append      : Name_Id          := No_Name;\n+      Separate_Suffix           : Name_Id          := No_Name;\n       --  The string to append to the unit name for the\n-      --  source file name of a subunit.\n+      --  source file name of an Ada subunit.\n \n-      Sep_Append_Loc       : Source_Ptr       := No_Location;\n+      Sep_Suffix_Loc            : Source_Ptr       := No_Location;\n       --  The position in the project file source where\n-      --  Separate_Append is defined.\n+      --  Separate_Suffix is defined.\n+\n+      Specifications            : Array_Element_Id := No_Array_Element;\n+      --  An associative array mapping individual specifications\n+      --  to source file names. Specific to Ada.\n+\n+      Bodies                    : Array_Element_Id := No_Array_Element;\n+      --  An associative array mapping individual bodies\n+      --  to source file names. Specific to Ada.\n \n-      Specifications       : Array_Element_Id := No_Array_Element;\n+      Specification_Exceptions  : Array_Element_Id := No_Array_Element;\n       --  An associative array mapping individual specifications\n-      --  to source file names.\n+      --  to source file names. Indexed by the programming language name.\n \n-      Bodies               : Array_Element_Id := No_Array_Element;\n+      Implementation_Exceptions : Array_Element_Id := No_Array_Element;\n       --  An associative array mapping individual bodies\n-      --  to source file names.\n+      --  to source file names. Indexed by the programming language name.\n \n    end record;\n    --  A naming scheme.\n@@ -278,88 +297,122 @@ package Prj is\n       First_Referred_By  : Project_Id     := No_Project;\n       --  The project, if any, that was the first to be known\n       --  as importing or modifying this project.\n+      --  Set by Prj.Proc.Process.\n \n       Name               : Name_Id        := No_Name;\n       --  The name of the project.\n+      --  Set by Prj.Proc.Process.\n \n       Path_Name          : Name_Id        := No_Name;\n       --  The path name of the project file.\n+      --  Set by Prj.Proc.Process.\n \n       Location           : Source_Ptr     := No_Location;\n       --  The location in the project file source of the\n       --  reserved word project.\n+      --  Set by Prj.Proc.Process.\n \n       Directory          : Name_Id        := No_Name;\n       --  The directory where the project file resides.\n-\n-      File_Name          : Name_Id        := No_Name;\n-      --  The file name of the project file.\n+      --  Set by Prj.Proc.Process.\n \n       Library            : Boolean        := False;\n-      --  True if this is a library project\n+      --  True if this is a library project.\n+      --  Set by Prj.Nmsc.Check_Naming_Scheme.\n \n       Library_Dir        : Name_Id        := No_Name;\n       --  If a library project, directory where resides the library\n+      --  Set by Prj.Nmsc.Check_Naming_Scheme.\n \n       Library_Name       : Name_Id        := No_Name;\n       --  If a library project, name of the library\n+      --  Set by Prj.Nmsc.Check_Naming_Scheme.\n \n       Library_Kind       : Lib_Kind       := Static;\n       --  If a library project, kind of library\n+      --  Set by Prj.Nmsc.Check_Naming_Scheme.\n \n       Lib_Internal_Name  : Name_Id        := No_Name;\n       --  If a library project, internal name store inside the library\n+      --  Set by Prj.Nmsc.Check_Naming_Scheme.\n \n       Lib_Elaboration    : Boolean        := False;\n       --  If a library project, indicate if <lib>init and <lib>final\n       --  procedures need to be defined.\n+      --  Set by Prj.Nmsc.Check_Naming_Scheme.\n+\n+      Sources_Present    : Boolean        := True;\n+      --  A flag that indicates if there are sources in this project file.\n+      --  There are no sources if 1) Source_Dirs is specified as an\n+      --  empty list, 2) Source_Files is specified as an empty list, or\n+      --  3) the current language is not in the list of the specified\n+      --  Languages.\n \n       Sources            : String_List_Id := Nil_String;\n       --  The list of all the source file names.\n+      --  Set by Prj.Nmsc.Check_Naming_Scheme.\n \n       Source_Dirs        : String_List_Id := Nil_String;\n       --  The list of all the source directories.\n+      --  Set by Prj.Nmsc.Check_Naming_Scheme.\n \n       Object_Directory   : Name_Id        := No_Name;\n       --  The object directory of this project file.\n+      --  Set by Prj.Nmsc.Check_Naming_Scheme.\n \n       Modifies           : Project_Id     := No_Project;\n       --  The reference of the project file, if any, that this\n       --  project file modifies.\n+      --  Set by Prj.Proc.Process.\n \n       Modified_By        : Project_Id     := No_Project;\n       --  The reference of the project file, if any, that\n       --  modifies this project file.\n+      --  Set by Prj.Proc.Process.\n \n       Naming             : Naming_Data    := Standard_Naming_Data;\n       --  The naming scheme of this project file.\n+      --  Set by Prj.Nmsc.Check_Naming_Scheme.\n \n       Decl               : Declarations   := No_Declarations;\n       --  The declarations (variables, attributes and packages)\n       --  of this project file.\n+      --  Set by Prj.Proc.Process.\n \n       Imported_Projects  : Project_List   := Empty_Project_List;\n       --  The list of all directly imported projects, if any.\n+      --  Set by Prj.Proc.Process.\n \n       Include_Path       : String_Access  := null;\n       --  The cached value of ADA_INCLUDE_PATH for this project file.\n+      --  Set by gnatmake (prj.Env.Set_Ada_Paths).\n \n       Objects_Path       : String_Access  := null;\n       --  The cached value of ADA_OBJECTS_PATH for this project file.\n+      --  Set by gnatmake (prj.Env.Set_Ada_Paths).\n \n       Config_File_Name   : Name_Id        := No_Name;\n       --  The name of the configuration pragmas file, if any.\n+      --  Set by gnatmage (Prj.Env.Create_Config_Pragmas_File).\n \n       Config_File_Temp   : Boolean        := False;\n       --  An indication that the configuration pragmas file is\n       --  a temporary file that must be deleted at the end.\n+      --  Set by gnatmage (Prj.Env.Create_Config_Pragmas_File).\n \n       Config_Checked     : Boolean        := False;\n-      --  A flag to avoid checking repetively the configuration pragmas file.\n+      --  A flag to avoid checking repetitively the configuration pragmas file.\n+      --  Set by gnatmage (Prj.Env.Create_Config_Pragmas_File).\n+\n+      Language_Independent_Checked : Boolean := False;\n+      --  A flag that indicates that the project file has been checked\n+      --  for language independent features: Object_Directory,\n+      --  Source_Directories, Library, non empty Naming Suffixs.\n \n       Checked            : Boolean        := False;\n-      --  A flag to avoid checking repetively the naming scheme of\n+      --  A flag to avoid checking repetitively the naming scheme of\n       --  this project file.\n+      --  Set by Prj.Nmsc.Check_Naming_Scheme.\n \n       --  Various flags that are used in an ad hoc manner\n \n@@ -403,11 +456,19 @@ package Prj is\n      (By         : Project_Id;\n       With_State : in out State);\n    --  Call Action for each project imported directly or indirectly by project\n-   --  By.--  Action is called according to the order of importation: if A\n+   --  By. Action is called according to the order of importation: if A\n    --  imports B, directly or indirectly, Action will be called for A before\n    --  it is called for B. With_State may be used by Action to choose a\n    --  behavior or to report some global result.\n \n+   function Ada_Default_Spec_Suffix return Name_Id;\n+   --  Return the Name_Id for the standard GNAT suffix for Ada spec source\n+   --  file name \".ads\".\n+\n+   function Ada_Default_Impl_Suffix return Name_Id;\n+   --  Return the Name_Id for the standard GNAT suffix for Ada body source\n+   --  file name \".adb\".\n+\n private\n \n    procedure Scan;"}, {"sha": "c98c25f585391b496aa541c34586b7dde5bd55ef", "filename": "gcc/ada/snames.ads", "status": "modified", "additions": 26, "deletions": 24, "changes": 50, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fsnames.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b30668b77a28539a072eb8c363a0f25303294d56/gcc%2Fada%2Fsnames.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsnames.ads?ref=b30668b77a28539a072eb8c363a0f25303294d56", "patch": "@@ -862,40 +862,42 @@ package Snames is\n \n    Name_Project                        : constant Name_Id := N + 523;\n    Name_Modifying                      : constant Name_Id := N + 524;\n-   --  Name_External is already declared as N + 243\n+   --  Name_External is already declared as N + 161\n \n    --  Names used in GNAT Project Files\n \n    Name_Naming                         : constant Name_Id := N + 525;\n    Name_Object_Dir                     : constant Name_Id := N + 526;\n    Name_Source_Dirs                    : constant Name_Id := N + 527;\n    Name_Specification                  : constant Name_Id := N + 528;\n-   Name_Body_Part                      : constant Name_Id := N + 529;\n-   Name_Specification_Append           : constant Name_Id := N + 530;\n-   Name_Body_Append                    : constant Name_Id := N + 531;\n-   Name_Separate_Append                : constant Name_Id := N + 532;\n-   Name_Source_Files                   : constant Name_Id := N + 533;\n-   Name_Source_List_File               : constant Name_Id := N + 534;\n-   Name_Switches                       : constant Name_Id := N + 535;\n-   Name_Library_Dir                    : constant Name_Id := N + 536;\n-   Name_Library_Name                   : constant Name_Id := N + 537;\n-   Name_Library_Kind                   : constant Name_Id := N + 538;\n-   Name_Library_Version                : constant Name_Id := N + 539;\n-   Name_Library_Elaboration            : constant Name_Id := N + 540;\n-\n-   Name_Gnatmake                       : constant Name_Id := N + 541;\n-   Name_Gnatls                         : constant Name_Id := N + 542;\n-   Name_Gnatxref                       : constant Name_Id := N + 543;\n-   Name_Gnatfind                       : constant Name_Id := N + 544;\n-   Name_Gnatbind                       : constant Name_Id := N + 545;\n-   Name_Gnatlink                       : constant Name_Id := N + 546;\n-   Name_Compiler                       : constant Name_Id := N + 547;\n-   Name_Binder                         : constant Name_Id := N + 548;\n-   Name_Linker                         : constant Name_Id := N + 549;\n+   Name_Implementation                 : constant Name_Id := N + 529;\n+   Name_Specification_Exceptions       : constant Name_Id := N + 530;\n+   Name_Implementation_Exceptions      : constant Name_Id := N + 531;\n+   Name_Specification_Suffix           : constant Name_Id := N + 532;\n+   Name_Implementation_Suffix          : constant Name_Id := N + 533;\n+   Name_Separate_Suffix                : constant Name_Id := N + 534;\n+   Name_Source_Files                   : constant Name_Id := N + 535;\n+   Name_Source_List_File               : constant Name_Id := N + 536;\n+   Name_Default_Switches               : constant Name_Id := N + 537;\n+   Name_Switches                       : constant Name_Id := N + 538;\n+   Name_Library_Dir                    : constant Name_Id := N + 539;\n+   Name_Library_Name                   : constant Name_Id := N + 540;\n+   Name_Library_Kind                   : constant Name_Id := N + 541;\n+   Name_Library_Version                : constant Name_Id := N + 542;\n+   Name_Library_Elaboration            : constant Name_Id := N + 543;\n+   Name_Languages                      : constant Name_Id := N + 544;\n+\n+   Name_Builder                        : constant Name_Id := N + 545;\n+   Name_Gnatls                         : constant Name_Id := N + 546;\n+   Name_Cross_Reference                : constant Name_Id := N + 547;\n+   Name_Finder                         : constant Name_Id := N + 548;\n+   Name_Binder                         : constant Name_Id := N + 549;\n+   Name_Linker                         : constant Name_Id := N + 550;\n+   Name_Compiler                       : constant Name_Id := N + 551;\n \n    --  Mark last defined name for consistency check in Snames body\n \n-   Last_Predefined_Name                : constant Name_Id := N + 549;\n+   Last_Predefined_Name                : constant Name_Id := N + 551;\n \n    subtype Any_Operator_Name is Name_Id range\n      First_Operator_Name .. Last_Operator_Name;"}]}