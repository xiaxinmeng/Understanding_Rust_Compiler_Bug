{"sha": "f7546fa716b5617bd46712f6b042b1f40c31fe68", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Zjc1NDZmYTcxNmI1NjE3YmQ0NjcxMmY2YjA0MmIxZjQwYzMxZmU2OA==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2008-04-21T18:41:04Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2008-04-21T18:41:04Z"}, "message": "re PR target/26445 (SSE byte-by-byte load instruction fails to compile)\n\n        PR target/26445\n        * g++.dg/other/i386-4.C: New test.\n\nFrom-SVN: r134522", "tree": {"sha": "61e183903cfb47fb4fec80d674111e2ec379ea05", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/61e183903cfb47fb4fec80d674111e2ec379ea05"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f7546fa716b5617bd46712f6b042b1f40c31fe68", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7546fa716b5617bd46712f6b042b1f40c31fe68", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f7546fa716b5617bd46712f6b042b1f40c31fe68", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7546fa716b5617bd46712f6b042b1f40c31fe68/comments", "author": null, "committer": null, "parents": [{"sha": "d05739f8c4cb1eb3e10170d08391c01fdfe2aa35", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d05739f8c4cb1eb3e10170d08391c01fdfe2aa35", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d05739f8c4cb1eb3e10170d08391c01fdfe2aa35"}], "stats": {"total": 36, "additions": 35, "deletions": 1}, "files": [{"sha": "5cbca72b0f86d9491ec12078a97c29e744c7c135", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7546fa716b5617bd46712f6b042b1f40c31fe68/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7546fa716b5617bd46712f6b042b1f40c31fe68/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f7546fa716b5617bd46712f6b042b1f40c31fe68", "patch": "@@ -1,3 +1,8 @@\n+2008-04-21  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\tPR target/26445\n+\t* g++.dg/other/i386-4.C: New test.\n+\n 2008-04-21  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/35325\n@@ -18,7 +23,7 @@\n 2008-04-20  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \tPR fortran/35991\n-\tgfortran.dg/zero-sized_4.f90: New test.\n+\t* gfortran.dg/zero-sized_4.f90: New test.\n \n 2008-04-20  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n "}, {"sha": "3e0d94e952cd4c12ddae14e733980235be6174f2", "filename": "gcc/testsuite/g++.dg/other/i386-4.C", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7546fa716b5617bd46712f6b042b1f40c31fe68/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fi386-4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7546fa716b5617bd46712f6b042b1f40c31fe68/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fi386-4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fi386-4.C?ref=f7546fa716b5617bd46712f6b042b1f40c31fe68", "patch": "@@ -0,0 +1,29 @@\n+/* { dg-do compile { target i?86-*-* x86_64-*-* } } */\n+/* { dg-options \"-O1 -msse2\" } */\n+\n+#include <xmmintrin.h>\n+\n+void ConvertFloatSSE (void *inBuff, void *outBuff, int len)\n+{\n+  unsigned char *inByteBuffer = reinterpret_cast < unsigned char *>(inBuff);\n+  float *outFloatBuffer = reinterpret_cast < float *>(outBuff);\n+\n+  for (int i = 0; i < len / 4; i++)\n+    {\n+      __m128i register1 =\n+\t_mm_set_epi8 (*inByteBuffer, *(inByteBuffer + 1),\n+\t\t      *(inByteBuffer + 2), 0,\n+\t\t      *(inByteBuffer + 3), *(inByteBuffer + 4),\n+\t\t      *(inByteBuffer + 5), 0,\n+\t\t      *(inByteBuffer + 6), *(inByteBuffer + 7),\n+\t\t      *(inByteBuffer + 8), 0,\n+\t\t      *(inByteBuffer + 9), *(inByteBuffer + 10),\n+\t\t      *(inByteBuffer + 11), 0);\n+      __m128i register2 = _mm_srai_epi32 (register1, 8);\n+      __m128 register3 = _mm_cvtepi32_ps (register2);\n+\n+      _mm_store_ps (outFloatBuffer, register3);\n+      outFloatBuffer += 4;\n+      inByteBuffer += 12;\n+    }\n+}"}]}