{"sha": "b99f39de82511c02ee2e11a7a2889747cda71772", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yjk5ZjM5ZGU4MjUxMWMwMmVlMmUxMWE3YTI4ODk3NDdjZGE3MTc3Mg==", "commit": {"author": {"name": "Gerald Pfeifer", "email": "pfeifer@dbai.tuwien.ac.at", "date": "2003-07-19T12:12:39Z"}, "committer": {"name": "Gerald Pfeifer", "email": "gerald@gcc.gnu.org", "date": "2003-07-19T12:12:39Z"}, "message": "gcc_release (announce_snapshot): Use ${RELEASE} instead of ${BRANCH}-${DATE} to refer to the snapshot directory.\n\n\t* gcc_release (announce_snapshot): Use ${RELEASE} instead\n\tof ${BRANCH}-${DATE} to refer to the snapshot directory.\n\tPut README file into the snapshot directory.\n\n\t(RELEASE): Define as ${BRANCH}-${DATE} for snapshots.\n\t(FTP_PATH): Use ${RELEASE} in case of snapshots.\n\t(TAG): Ditto.\n\t(OLD_TARS): Adjust to new directory scheme for snapshots.\n\nFrom-SVN: r69584", "tree": {"sha": "4abdda0d0ef8bdfcfd3ac70ea12e3f7b65c6549d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4abdda0d0ef8bdfcfd3ac70ea12e3f7b65c6549d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b99f39de82511c02ee2e11a7a2889747cda71772", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b99f39de82511c02ee2e11a7a2889747cda71772", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b99f39de82511c02ee2e11a7a2889747cda71772", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b99f39de82511c02ee2e11a7a2889747cda71772/comments", "author": null, "committer": null, "parents": [{"sha": "94b32725fa2a5182dbf430c74748644e6c766cc6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94b32725fa2a5182dbf430c74748644e6c766cc6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/94b32725fa2a5182dbf430c74748644e6c766cc6"}], "stats": {"total": 26, "additions": 19, "deletions": 7}, "files": [{"sha": "66c53a20af2c2066ca17f02ad7dcb6eea7e35f9a", "filename": "maintainer-scripts/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b99f39de82511c02ee2e11a7a2889747cda71772/maintainer-scripts%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b99f39de82511c02ee2e11a7a2889747cda71772/maintainer-scripts%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2FChangeLog?ref=b99f39de82511c02ee2e11a7a2889747cda71772", "patch": "@@ -1,3 +1,14 @@\n+2003-07-19  Gerald Pfeifer  <pfeifer@dbai.tuwien.ac.at>\n+\n+\t* gcc_release (announce_snapshot): Use ${RELEASE} instead\n+\tof ${BRANCH}-${DATE} to refer to the snapshot directory.\n+\tPut README file into the snapshot directory.\n+\n+\t(RELEASE): Define as ${BRANCH}-${DATE} for snapshots.\n+\t(FTP_PATH): Use ${RELEASE} in case of snapshots.\n+\t(TAG): Ditto.\n+\t(OLD_TARS): Adjust to new directory scheme for snapshots.\n+\n 2003-07-14  Gerald Pfeifer  <pfeifer@dbai.tuwien.ac.at>\n \n \t* gcc_release (announce_snapshot): Add substitution of @RELEASE@"}, {"sha": "3417abb08722388faf0e95de1415550bf3442e09", "filename": "maintainer-scripts/gcc_release", "status": "modified", "additions": 8, "deletions": 7, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b99f39de82511c02ee2e11a7a2889747cda71772/maintainer-scripts%2Fgcc_release", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b99f39de82511c02ee2e11a7a2889747cda71772/maintainer-scripts%2Fgcc_release", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fgcc_release?ref=b99f39de82511c02ee2e11a7a2889747cda71772", "patch": "@@ -382,21 +382,21 @@ announce_snapshot() {\n     -e \"s%@BRANCH@%${BRANCH}%g\" \\\n     -e \"s%@RELEASE@%${RELEASE}%g\" \\\n     -e \"s%@TEXT_DATE@%$TEXT_DATE%g\" < ~/scripts/snapshot-README > $$\n-  mv $$ README\n+  mv $$ ${RELEASE}/README\n   sed -e \"s%@DATE@%$DATE%g\" \\\n      -e \"s%@LAST_DATE@%$LAST_DATE%g\" \\\n     -e \"s%@BRANCH@%${BRANCH}%g\" \\\n     -e \"s%@RELEASE@%${RELEASE}%g\" \\\n     -e \"s%@TEXT_DATE@%$TEXT_DATE%g\" < ~/scripts/snapshot-index.html > $$\n-  mv $$ ${BRANCH}-${DATE}/index.html\n+  mv $$ ${RELEASE}/index.html\n \n   touch LATEST-IS-${BRANCH}-${DATE}\n   rm -f LATEST-IS-${BRANCH}-${LAST_DATE}\n \n   inform \"Sending mail\"\n \n   export QMAILHOST=gcc.gnu.org\n-  mail -s \"gcc-ss-${BRANCH}-${DATE} is now available\" gccadmin@gcc.gnu.org < ~ftp/pub/gcc/snapshots/README\n+  mail -s \"gcc-ss-${RELEASE} is now available\" gcc@gcc.gnu.org < ~ftp/pub/gcc/snapshots/${RELEASE}/README\n }\n \n ########################################################################\n@@ -585,19 +585,20 @@ if [ $SNAPSHOT -eq 0 ]; then\n     FTP_PATH=\"${FTP_PATH}/releases/gcc-${RELEASE}/\"\n   fi\n else\n-  RELEASE=$DATE\n   # For now snapshots come from the 3.3 branch.\n   BRANCH=\"3.3\"\n   CVSBRANCH=gcc-3_3-branch\n-  FTP_PATH=\"${FTP_PATH}/snapshots/${BRANCH}-${DATE}\"\n-  TAG=gcc-ss-`echo ${BRANCH} | tr '.' '_'`-${DATE}\n+\n+  RELEASE=${BRANCH}-${DATE}\n+  FTP_PATH=\"${FTP_PATH}/snapshots/${RELEASE}\"\n+  TAG=gcc-ss-`echo ${RELEASE} | tr '.' '_'`\n \n   # Building locally on gcc.gnu.org, we know what the last snapshot date\n   # was.\n   if [ $MODE_DIFFS -ne 0 ] && [ $LOCAL -ne 0 ]; then\n     LAST_DATE=`cat ~/.snapshot_date-${BRANCH}`\n     LAST_DIR=~ftp/pub/gcc/snapshots/${BRANCH}-${LAST_DATE}\n-    OLD_TARS=${LAST_DIR}/gcc-${LAST_DATE}.tar.bz2\n+    OLD_TARS=${LAST_DIR}/gcc-${BRANCH}-${LAST_DATE}.tar.bz2\n   fi\n fi\n "}]}