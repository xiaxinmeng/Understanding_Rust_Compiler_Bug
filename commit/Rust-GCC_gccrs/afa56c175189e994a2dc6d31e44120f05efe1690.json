{"sha": "afa56c175189e994a2dc6d31e44120f05efe1690", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWZhNTZjMTc1MTg5ZTk5NGEyZGM2ZDMxZTQ0MTIwZjA1ZWZlMTY5MA==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2017-04-19T10:49:12Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2017-04-19T10:49:12Z"}, "message": "PR libstdc++/80446 cope with libc defining __has_builtin\n\n\tPR libstdc++/80446\n\t* include/std/type_traits (is_aggregate): Change __has_builtin checks.\n\t* libsupc++/new (launder): Likewise.\n\nFrom-SVN: r246992", "tree": {"sha": "00247857d20b0ee79b7526558721043dbf20a03d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/00247857d20b0ee79b7526558721043dbf20a03d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/afa56c175189e994a2dc6d31e44120f05efe1690", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afa56c175189e994a2dc6d31e44120f05efe1690", "html_url": "https://github.com/Rust-GCC/gccrs/commit/afa56c175189e994a2dc6d31e44120f05efe1690", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afa56c175189e994a2dc6d31e44120f05efe1690/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fd1ca3fe77e7cde6a8aa3ffdb833bf9a8b2b9974", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd1ca3fe77e7cde6a8aa3ffdb833bf9a8b2b9974", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd1ca3fe77e7cde6a8aa3ffdb833bf9a8b2b9974"}], "stats": {"total": 34, "additions": 22, "deletions": 12}, "files": [{"sha": "3d0561ba36e7633b175834c6de5837257c54a600", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/afa56c175189e994a2dc6d31e44120f05efe1690/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/afa56c175189e994a2dc6d31e44120f05efe1690/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=afa56c175189e994a2dc6d31e44120f05efe1690", "patch": "@@ -1,3 +1,9 @@\n+2017-04-19  Jonathan Wakely  <jwakely@redhat.com>\n+\n+\tPR libstdc++/80446\n+\t* include/std/type_traits (is_aggregate): Change __has_builtin checks.\n+\t* libsupc++/new (launder): Likewise.\n+\n 2017-04-18  Jonathan Wakely  <jwakely@redhat.com>\n \n \t* include/std/functional (default_searcher, __boyer_moore_array_base)"}, {"sha": "aac7cff6cf617df9d4f836584a249725c3f738cd", "filename": "libstdc++-v3/include/std/type_traits", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/afa56c175189e994a2dc6d31e44120f05efe1690/libstdc%2B%2B-v3%2Finclude%2Fstd%2Ftype_traits", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/afa56c175189e994a2dc6d31e44120f05efe1690/libstdc%2B%2B-v3%2Finclude%2Fstd%2Ftype_traits", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Ftype_traits?ref=afa56c175189e994a2dc6d31e44120f05efe1690", "patch": "@@ -3062,14 +3062,16 @@ template <typename _From, typename _To>\n #endif\n #undef _GLIBCXX_NO_BUILTIN_HAS_UNIQ_OBJ_REP\n \n-#ifdef __has_builtin\n-# if !__has_builtin(__is_aggregate)\n-// Try not to break non-GNU compilers that don't support the built-in:\n-#  define _GLIBCXX_NO_BUILTIN_IS_AGGREGATE 1\n+#if __GNUC__ >= 7\n+# define _GLIBCXX_HAVE_BUILTIN_IS_AGGREGATE 1\n+#elif defined __has_builtin\n+// For non-GNU compilers:\n+# if __has_builtin(__is_aggregate)\n+#  define _GLIBCXX_HAVE_BUILTIN_IS_AGGREGATE 1\n # endif\n #endif\n \n-#ifndef _GLIBCXX_NO_BUILTIN_IS_AGGREGATE\n+#ifdef _GLIBCXX_HAVE_BUILTIN_IS_AGGREGATE\n #define __cpp_lib_is_aggregate 201703\n   /// is_aggregate\n   template<typename _Tp>\n@@ -3080,7 +3082,7 @@ template <typename _From, typename _To>\n   template<typename _Tp>\n     inline constexpr bool is_aggregate_v = is_aggregate<_Tp>::value;\n #endif\n-#undef _GLIBCXX_NO_BUILTIN_IS_AGGREGATE\n+#undef _GLIBCXX_HAVE_BUILTIN_IS_AGGREGATE\n \n #endif // C++17\n "}, {"sha": "2de77525c218b5b127d3732913b2dd1819ab31d6", "filename": "libstdc++-v3/libsupc++/new", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/afa56c175189e994a2dc6d31e44120f05efe1690/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Fnew", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/afa56c175189e994a2dc6d31e44120f05efe1690/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Fnew", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Fnew?ref=afa56c175189e994a2dc6d31e44120f05efe1690", "patch": "@@ -177,14 +177,16 @@ inline void operator delete[](void*, void*) _GLIBCXX_USE_NOEXCEPT { }\n } // extern \"C++\"\n \n #if __cplusplus > 201402L\n-#ifdef __has_builtin\n-# if !__has_builtin(__builtin_launder)\n-// Try not to break non-GNU compilers that don't support the built-in:\n-#  define _GLIBCXX_NO_BUILTIN_LAUNDER 1\n+#if __GNUC__ >= 7\n+#  define _GLIBCXX_HAVE_BUILTIN_LAUNDER 1\n+#elif defined __has_builtin\n+// For non-GNU compilers:\n+# if __has_builtin(__builtin_launder)\n+#  define _GLIBCXX_HAVE_BUILTIN_LAUNDER 1\n # endif\n #endif\n \n-#ifndef _GLIBCXX_NO_BUILTIN_LAUNDER\n+#ifdef _GLIBCXX_HAVE_BUILTIN_LAUNDER\n namespace std\n {\n #define __cpp_lib_launder 201606\n@@ -208,7 +210,7 @@ namespace std\n   void launder(const volatile void*) = delete;\n }\n #endif // _GLIBCXX_NO_BUILTIN_LAUNDER\n-#undef _GLIBCXX_NO_BUILTIN_LAUNDER\n+#undef _GLIBCXX_HAVE_BUILTIN_LAUNDER\n #endif // C++17\n \n #pragma GCC visibility pop"}]}