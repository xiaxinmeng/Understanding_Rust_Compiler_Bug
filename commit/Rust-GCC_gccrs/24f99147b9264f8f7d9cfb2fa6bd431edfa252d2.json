{"sha": "24f99147b9264f8f7d9cfb2fa6bd431edfa252d2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjRmOTkxNDdiOTI2NGY4ZjdkOWNmYjJmYTZiZDQzMWVkZmEyNTJkMg==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2021-09-20T09:20:19Z"}, "committer": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2021-09-20T09:25:18Z"}, "message": "Avoid premature alignment setting in vect_duplicate_ssa_name_ptr_info\n\nThis removes adjusting alignment based on the vectorized accesses\nand instead keeps what was set on the original access.  The\ncode generating the actual accesses make sure to properly align\nthe vectorized accesses based on the generated pointer already\nand the vectorizers alignment is always based of the desired\nalignment of a vector type and thus will reset alignment to\nunknown this way for example when doing strided accesses.\n\n2021-09-20  Richard Biener  <rguenther@suse.de>\n\n\t* tree-vect-data-refs.c (vect_duplicate_ssa_name_ptr_info):\n\tDo not compute alignment of the vectorized access here.", "tree": {"sha": "3932745f52a365368f62e0247385d80d9ac6b5da", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3932745f52a365368f62e0247385d80d9ac6b5da"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/24f99147b9264f8f7d9cfb2fa6bd431edfa252d2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24f99147b9264f8f7d9cfb2fa6bd431edfa252d2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/24f99147b9264f8f7d9cfb2fa6bd431edfa252d2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24f99147b9264f8f7d9cfb2fa6bd431edfa252d2/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f55c8db019af13851ba92cd39086658e39800acd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f55c8db019af13851ba92cd39086658e39800acd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f55c8db019af13851ba92cd39086658e39800acd"}], "stats": {"total": 7, "additions": 0, "deletions": 7}, "files": [{"sha": "a57700f2c1b4df94e0a49bfc42568036f14c7c77", "filename": "gcc/tree-vect-data-refs.c", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/24f99147b9264f8f7d9cfb2fa6bd431edfa252d2/gcc%2Ftree-vect-data-refs.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/24f99147b9264f8f7d9cfb2fa6bd431edfa252d2/gcc%2Ftree-vect-data-refs.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-data-refs.c?ref=24f99147b9264f8f7d9cfb2fa6bd431edfa252d2", "patch": "@@ -4635,13 +4635,6 @@ static void\n vect_duplicate_ssa_name_ptr_info (tree name, dr_vec_info *dr_info)\n {\n   duplicate_ssa_name_ptr_info (name, DR_PTR_INFO (dr_info->dr));\n-  int misalign = DR_MISALIGNMENT (dr_info);\n-  if (misalign == DR_MISALIGNMENT_UNKNOWN)\n-    mark_ptr_info_alignment_unknown (SSA_NAME_PTR_INFO (name));\n-  else\n-    set_ptr_info_alignment (SSA_NAME_PTR_INFO (name),\n-\t\t\t    known_alignment (DR_TARGET_ALIGNMENT (dr_info)),\n-\t\t\t    misalign);\n }\n \n /* Function vect_create_addr_base_for_vector_ref."}]}