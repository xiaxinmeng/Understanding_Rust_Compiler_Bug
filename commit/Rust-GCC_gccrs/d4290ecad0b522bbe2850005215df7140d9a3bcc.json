{"sha": "d4290ecad0b522bbe2850005215df7140d9a3bcc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDQyOTBlY2FkMGI1MjJiYmUyODUwMDA1MjE1ZGY3MTQwZDlhM2JjYw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-01-22T04:09:04Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-01-22T04:09:04Z"}, "message": "compiler: Prohibit use of ellipsis operator on multi-valued calls.\n\nFixes golang/go#9525.\n\nFrom-SVN: r219984", "tree": {"sha": "e74687ac05ead0fd2cff7c9955ddd16a4dfc124c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e74687ac05ead0fd2cff7c9955ddd16a4dfc124c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d4290ecad0b522bbe2850005215df7140d9a3bcc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4290ecad0b522bbe2850005215df7140d9a3bcc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d4290ecad0b522bbe2850005215df7140d9a3bcc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4290ecad0b522bbe2850005215df7140d9a3bcc/comments", "author": null, "committer": null, "parents": [{"sha": "fad513aa8881cc181c6a5601c3de9fac3a84e05e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fad513aa8881cc181c6a5601c3de9fac3a84e05e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fad513aa8881cc181c6a5601c3de9fac3a84e05e"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "a8bed0b66e1e74eeb65d01c17034bb81e85d108f", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d4290ecad0b522bbe2850005215df7140d9a3bcc/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d4290ecad0b522bbe2850005215df7140d9a3bcc/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=d4290ecad0b522bbe2850005215df7140d9a3bcc", "patch": "@@ -8580,6 +8580,17 @@ Call_expression::do_lower(Gogo* gogo, Named_object* function,\n \t{\n \t  Call_expression* call = this->args_->front()->call_expression();\n \t  call->set_is_multi_value_arg();\n+\t  if (this->is_varargs_)\n+\t    {\n+\t      // It is not clear which result of a multiple result call\n+\t      // the ellipsis operator should be applied to.  If we unpack the\n+\t      // the call into its individual results here, the ellipsis will be\n+\t      // applied to the last result.\n+\t      error_at(call->location(),\n+\t\t       _(\"multiple-value argument in single-value context\"));\n+\t      return Expression::make_error(call->location());\n+\t    }\n+\n \t  Expression_list* args = new Expression_list;\n \t  for (size_t i = 0; i < rc; ++i)\n \t    args->push_back(Expression::make_call_result(call, i));"}]}