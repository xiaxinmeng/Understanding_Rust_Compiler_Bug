{"sha": "f2834ebc00d847dcac85c44640a2c7fb2cdd340e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjI4MzRlYmMwMGQ4NDdkY2FjODVjNDQ2NDBhMmM3ZmIyY2RkMzQwZQ==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@linux.vnet.ibm.com", "date": "2016-11-03T23:32:07Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "2016-11-03T23:32:07Z"}, "message": "re PR target/78192 (extract from vector registers to int results in wrong data order)\n\n2016-11-03  Michael Meissner  <meissner@linux.vnet.ibm.com>\n\n\tPR target/78192\n\t* config/rs6000/vsx.md (vsx_extract_<mode>_di): The element number\n\thas already been adjusted for endianness, so don't adjust it any\n\tfurther.\n\nFrom-SVN: r241834", "tree": {"sha": "c9942ab81dd9456b420d9c144bde4c23c85ee2bf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c9942ab81dd9456b420d9c144bde4c23c85ee2bf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f2834ebc00d847dcac85c44640a2c7fb2cdd340e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2834ebc00d847dcac85c44640a2c7fb2cdd340e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f2834ebc00d847dcac85c44640a2c7fb2cdd340e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2834ebc00d847dcac85c44640a2c7fb2cdd340e/comments", "author": null, "committer": null, "parents": [{"sha": "0bc36dec0f6a5d73b79e78c549533261b76602ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0bc36dec0f6a5d73b79e78c549533261b76602ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0bc36dec0f6a5d73b79e78c549533261b76602ec"}], "stats": {"total": 12, "additions": 8, "deletions": 4}, "files": [{"sha": "9222baaa498387de6ecbfe4c1cd23a6ef906e153", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2834ebc00d847dcac85c44640a2c7fb2cdd340e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2834ebc00d847dcac85c44640a2c7fb2cdd340e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f2834ebc00d847dcac85c44640a2c7fb2cdd340e", "patch": "@@ -1,5 +1,10 @@\n 2016-11-03  Michael Meissner  <meissner@linux.vnet.ibm.com>\n \n+\tPR target/78192\n+\t* config/rs6000/vsx.md (vsx_extract_<mode>_di): The element number\n+\thas already been adjusted for endianness, so don't adjust it any\n+\tfurther.\n+\n \tPR target/77993\n \t* config/rs6000/rs6000.h (FLOAT128_IBM_P): Do not allow IFmode or\n \tICmode unless we have standard PowerPC floating point."}, {"sha": "2c74a8ebbe2da55b7bcf49d5c3eebd35c5530890", "filename": "gcc/config/rs6000/vsx.md", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2834ebc00d847dcac85c44640a2c7fb2cdd340e/gcc%2Fconfig%2Frs6000%2Fvsx.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2834ebc00d847dcac85c44640a2c7fb2cdd340e/gcc%2Fconfig%2Frs6000%2Fvsx.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fvsx.md?ref=f2834ebc00d847dcac85c44640a2c7fb2cdd340e", "patch": "@@ -2586,11 +2586,10 @@\n \t  (parallel [(match_operand:QI 2 \"<VSX_EXTRACT_PREDICATE>\" \"n\")]))))]\n   \"VECTOR_MEM_VSX_P (<MODE>mode) && TARGET_VEXTRACTUB\"\n {\n-  int element = INTVAL (operands[2]);\n+  /* Note, the element number has already been adjusted for endianness, so we\n+     don't have to adjust it here.  */\n   int unit_size = GET_MODE_UNIT_SIZE (<MODE>mode);\n-  int offset = ((VECTOR_ELT_ORDER_BIG)\n-\t\t? unit_size * element\n-\t\t: unit_size * (GET_MODE_NUNITS (<MODE>mode) - 1 - element));\n+  HOST_WIDE_INT offset = unit_size * INTVAL (operands[2]);\n \n   operands[2] = GEN_INT (offset);\n   if (unit_size == 4)"}]}