{"sha": "1fcfac9834ccf59d8997749cf80e9351709c29d7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWZjZmFjOTgzNGNjZjU5ZDg5OTc3NDljZjgwZTkzNTE3MDljMjlkNw==", "commit": {"author": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2004-04-09T11:50:51Z"}, "committer": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2004-04-09T11:50:51Z"}, "message": "configure.in: Move PACKAGE and VERSION settings up top.\n\n\t* configure.in: Move PACKAGE and VERSION settings up top.  Remove\n\tunused call to AC_PROG_LN_S.  Default RANLIB to ':'.  Remove\n\tredundant checks for values of RANLIB, AR, INSTALL.\n\t* configure: Regenerate.\n\nFrom-SVN: r80547", "tree": {"sha": "1f4bb2b905a090d6e244a20bc51088da4d1908d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1f4bb2b905a090d6e244a20bc51088da4d1908d9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1fcfac9834ccf59d8997749cf80e9351709c29d7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1fcfac9834ccf59d8997749cf80e9351709c29d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1fcfac9834ccf59d8997749cf80e9351709c29d7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1fcfac9834ccf59d8997749cf80e9351709c29d7/comments", "author": null, "committer": null, "parents": [{"sha": "9c01f3959321c173aeabab180a947b7a4a57795d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c01f3959321c173aeabab180a947b7a4a57795d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9c01f3959321c173aeabab180a947b7a4a57795d"}], "stats": {"total": 280, "additions": 83, "deletions": 197}, "files": [{"sha": "341852b6cfad1905d2733c6e3794330beb230360", "filename": "libobjc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1fcfac9834ccf59d8997749cf80e9351709c29d7/libobjc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1fcfac9834ccf59d8997749cf80e9351709c29d7/libobjc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2FChangeLog?ref=1fcfac9834ccf59d8997749cf80e9351709c29d7", "patch": "@@ -1,5 +1,10 @@\n 2004-04-09  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n+\t* configure.in: Move PACKAGE and VERSION settings up top.  Remove\n+\tunused call to AC_PROG_LN_S.  Default RANLIB to ':'.  Remove\n+\tredundant checks for values of RANLIB, AR, INSTALL.\n+\t* configure: Regenerate.\n+\n \t* configure.in: Clean up handling of\n \t--enable-version-specific-runtime-libs and related variables;\n \treplace 'if test' with 'case' where reasonable.  Fix comments."}, {"sha": "0de56e039603758d369ec7be5ea103c4132551a3", "filename": "libobjc/configure", "status": "modified", "additions": 71, "deletions": 175, "changes": 246, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1fcfac9834ccf59d8997749cf80e9351709c29d7/libobjc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1fcfac9834ccf59d8997749cf80e9351709c29d7/libobjc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fconfigure?ref=1fcfac9834ccf59d8997749cf80e9351709c29d7", "patch": "@@ -609,6 +609,10 @@ test \"$ac_cv_mingw32\" = yes && MINGW32=yes\n \n \n \n+PACKAGE=libobjc\n+VERSION=1:0:0\n+\n+\n # This works around the fact that libtool configuration may change LD\n # for this particular configuration, but some shells, instead of\n # keeping the changes in LD private, export them just because LD is\n@@ -695,7 +699,7 @@ else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n fi\n \n echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:699: checking host system type\" >&5\n+echo \"configure:703: checking host system type\" >&5\n \n host_alias=$host\n case \"$host_alias\" in\n@@ -716,7 +720,7 @@ host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$host\" 1>&6\n \n echo $ac_n \"checking target system type\"\"... $ac_c\" 1>&6\n-echo \"configure:720: checking target system type\" >&5\n+echo \"configure:724: checking target system type\" >&5\n \n target_alias=$target\n case \"$target_alias\" in\n@@ -734,7 +738,7 @@ target_os=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$target\" 1>&6\n \n echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:738: checking build system type\" >&5\n+echo \"configure:742: checking build system type\" >&5\n \n build_alias=$build\n case \"$build_alias\" in\n@@ -785,31 +789,6 @@ esac\n \n \n \n-# Will set LN_S to either 'ln -s' or 'ln'.  With autoconf 2.50+, can also\n-# be 'cp -p' if linking isn't available.\n-#ac_cv_prog_LN_S='cp -p'\n-echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n-echo \"configure:793: checking whether ln -s works\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_LN_S'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  rm -f conftestdata\n-if ln -s X conftestdata 2>/dev/null\n-then\n-  rm -f conftestdata\n-  ac_cv_prog_LN_S=\"ln -s\"\n-else\n-  ac_cv_prog_LN_S=ln\n-fi\n-fi\n-LN_S=\"$ac_cv_prog_LN_S\"\n-if test \"$ac_cv_prog_LN_S\" = \"ln -s\"; then\n-  echo \"$ac_t\"\"yes\" 1>&6\n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n-fi\n-\n-\n # We use these options to decide which functions to include.\n # Check whether --with-target-subdir or --without-target-subdir was given.\n if test \"${with_target_subdir+set}\" = set; then\n@@ -845,7 +824,7 @@ fi\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:849: checking for $ac_word\" >&5\n+echo \"configure:828: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -875,7 +854,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:879: checking for $ac_word\" >&5\n+echo \"configure:858: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -924,7 +903,7 @@ fi\n fi\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:928: checking whether we are using GNU C\" >&5\n+echo \"configure:907: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -933,7 +912,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:937: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:916: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -948,7 +927,7 @@ if test $ac_cv_prog_gcc = yes; then\n   ac_save_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\n   echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:952: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:931: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -985,7 +964,7 @@ fi\n # Extract the first word of \"${ac_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:989: checking for $ac_word\" >&5\n+echo \"configure:968: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1017,7 +996,7 @@ fi\n # Extract the first word of \"${ac_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1021: checking for $ac_word\" >&5\n+echo \"configure:1000: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1049,7 +1028,7 @@ fi\n # Extract the first word of \"${ac_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1053: checking for $ac_word\" >&5\n+echo \"configure:1032: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1081,7 +1060,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1085: checking for $ac_word\" >&5\n+echo \"configure:1064: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1098,7 +1077,7 @@ else\n     fi\n   done\n   IFS=\"$ac_save_ifs\"\n-  test -z \"$ac_cv_prog_RANLIB\" && ac_cv_prog_RANLIB=\"ranlib-not-found-in-path-error\"\n+  test -z \"$ac_cv_prog_RANLIB\" && ac_cv_prog_RANLIB=\":\"\n fi\n fi\n RANLIB=\"$ac_cv_prog_RANLIB\"\n@@ -1109,7 +1088,7 @@ else\n fi\n \n else\n-  RANLIB=\"ranlib-not-found-in-path-error\"\n+  RANLIB=\":\"\n fi\n fi\n \n@@ -1125,7 +1104,7 @@ fi\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:1129: checking for a BSD compatible install\" >&5\n+echo \"configure:1108: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1181,7 +1160,7 @@ test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n # Process the option \"--enable-version-specific-runtime-libs\"\n echo $ac_n \"checking for --enable-version-specific-runtime-libs\"\"... $ac_c\" 1>&6\n-echo \"configure:1185: checking for --enable-version-specific-runtime-libs\" >&5\n+echo \"configure:1164: checking for --enable-version-specific-runtime-libs\" >&5\n # Check whether --enable-version-specific-runtime-libs or --disable-version-specific-runtime-libs was given.\n if test \"${enable_version_specific_runtime_libs+set}\" = set; then\n   enableval=\"$enable_version_specific_runtime_libs\"\n@@ -1321,7 +1300,7 @@ ac_prog=ld\n if test \"$GCC\" = yes; then\n   # Check if gcc -print-prog-name=ld gives a path.\n   echo $ac_n \"checking for ld used by GCC\"\"... $ac_c\" 1>&6\n-echo \"configure:1325: checking for ld used by GCC\" >&5\n+echo \"configure:1304: checking for ld used by GCC\" >&5\n   case $host in\n   *-*-mingw*)\n     # gcc leaves a trailing carriage return which upsets mingw\n@@ -1351,10 +1330,10 @@ echo \"configure:1325: checking for ld used by GCC\" >&5\n   esac\n elif test \"$with_gnu_ld\" = yes; then\n   echo $ac_n \"checking for GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1355: checking for GNU ld\" >&5\n+echo \"configure:1334: checking for GNU ld\" >&5\n else\n   echo $ac_n \"checking for non-GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1358: checking for non-GNU ld\" >&5\n+echo \"configure:1337: checking for non-GNU ld\" >&5\n fi\n if eval \"test \\\"`echo '$''{'lt_cv_path_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1389,7 +1368,7 @@ else\n fi\n test -z \"$LD\" && { echo \"configure: error: no acceptable ld found in \\$PATH\" 1>&2; exit 1; }\n echo $ac_n \"checking if the linker ($LD) is GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1393: checking if the linker ($LD) is GNU ld\" >&5\n+echo \"configure:1372: checking if the linker ($LD) is GNU ld\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_prog_gnu_ld'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1406,7 +1385,7 @@ with_gnu_ld=$lt_cv_prog_gnu_ld\n \n \n echo $ac_n \"checking for $LD option to reload object files\"\"... $ac_c\" 1>&6\n-echo \"configure:1410: checking for $LD option to reload object files\" >&5\n+echo \"configure:1389: checking for $LD option to reload object files\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_ld_reload_flag'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1418,7 +1397,7 @@ reload_flag=$lt_cv_ld_reload_flag\n test -n \"$reload_flag\" && reload_flag=\" $reload_flag\"\n \n echo $ac_n \"checking for BSD-compatible nm\"\"... $ac_c\" 1>&6\n-echo \"configure:1422: checking for BSD-compatible nm\" >&5\n+echo \"configure:1401: checking for BSD-compatible nm\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_path_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1455,6 +1434,27 @@ fi\n NM=\"$lt_cv_path_NM\"\n echo \"$ac_t\"\"$NM\" 1>&6\n \n+echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n+echo \"configure:1439: checking whether ln -s works\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_LN_S'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  rm -f conftestdata\n+if ln -s X conftestdata 2>/dev/null\n+then\n+  rm -f conftestdata\n+  ac_cv_prog_LN_S=\"ln -s\"\n+else\n+  ac_cv_prog_LN_S=ln\n+fi\n+fi\n+LN_S=\"$ac_cv_prog_LN_S\"\n+if test \"$ac_cv_prog_LN_S\" = \"ln -s\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n echo $ac_n \"checking how to recognise dependant libraries\"\"... $ac_c\" 1>&6\n echo \"configure:1460: checking how to recognise dependant libraries\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_deplibs_check_method'+set}'`\\\" = set\"; then\n@@ -2495,108 +2495,8 @@ exec 5>>./config.log\n \t \n \t \n \n-test \"$AR\" || AR=ar\n-\n-if test \"$RANLIB\"; then :\n-  \n-else\n-  # Extract the first word of \"ranlib\", so it can be a program name with args.\n-set dummy ranlib; ac_word=$2\n-echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2507: checking for $ac_word\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  if test -n \"$RANLIB\"; then\n-  ac_cv_prog_RANLIB=\"$RANLIB\" # Let the user override the test.\n-else\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n-  ac_dummy=\"$PATH\"\n-  for ac_dir in $ac_dummy; do\n-    test -z \"$ac_dir\" && ac_dir=.\n-    if test -f $ac_dir/$ac_word; then\n-      ac_cv_prog_RANLIB=\"ranlib\"\n-      break\n-    fi\n-  done\n-  IFS=\"$ac_save_ifs\"\n-  test -z \"$ac_cv_prog_RANLIB\" && ac_cv_prog_RANLIB=\":\"\n-fi\n-fi\n-RANLIB=\"$ac_cv_prog_RANLIB\"\n-if test -n \"$RANLIB\"; then\n-  echo \"$ac_t\"\"$RANLIB\" 1>&6\n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n-fi\n-\n-fi\n-# Find a good install program.  We prefer a C program (faster),\n-# so one script is as good as another.  But avoid the broken or\n-# incompatible versions:\n-# SysV /etc/install, /usr/sbin/install\n-# SunOS /usr/etc/install\n-# IRIX /sbin/install\n-# AIX /bin/install\n-# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag\n-# AFS /usr/afsws/bin/install, which mishandles nonexistent args\n-# SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n-# ./install, which can be erroneously created by make from ./install.sh.\n-echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:2547: checking for a BSD compatible install\" >&5\n-if test -z \"$INSTALL\"; then\n-if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-    IFS=\"${IFS= \t}\"; ac_save_IFS=\"$IFS\"; IFS=\":\"\n-  for ac_dir in $PATH; do\n-    # Account for people who put trailing slashes in PATH elements.\n-    case \"$ac_dir/\" in\n-    /|./|.//|/etc/*|/usr/sbin/*|/usr/etc/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;\n-    *)\n-      # OSF1 and SCO ODT 3.0 have their own names for install.\n-      # Don't use installbsd from OSF since it installs stuff as root\n-      # by default.\n-      for ac_prog in ginstall scoinst install; do\n-        if test -f $ac_dir/$ac_prog; then\n-\t  if test $ac_prog = install &&\n-            grep dspmsg $ac_dir/$ac_prog >/dev/null 2>&1; then\n-\t    # AIX install.  It has an incompatible calling convention.\n-\t    :\n-\t  else\n-\t    ac_cv_path_install=\"$ac_dir/$ac_prog -c\"\n-\t    break 2\n-\t  fi\n-\tfi\n-      done\n-      ;;\n-    esac\n-  done\n-  IFS=\"$ac_save_IFS\"\n-\n-fi\n-  if test \"${ac_cv_path_install+set}\" = set; then\n-    INSTALL=\"$ac_cv_path_install\"\n-  else\n-    # As a last resort, use the slow shell script.  We don't cache a\n-    # path for INSTALL within a source directory, because that will\n-    # break other packages using the cache if that directory is\n-    # removed, or if the path is relative.\n-    INSTALL=\"$ac_install_sh\"\n-  fi\n-fi\n-echo \"$ac_t\"\"$INSTALL\" 1>&6\n-\n-# Use test -z because SunOS4 sh mishandles braces in ${var-val}.\n-# It thinks the first close brace ends the variable substitution.\n-test -z \"$INSTALL_PROGRAM\" && INSTALL_PROGRAM='${INSTALL}'\n-\n-test -z \"$INSTALL_SCRIPT\" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'\n-\n-test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n-\n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:2600: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:2500: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -2623,13 +2523,9 @@ else\n fi\n \n \n-PACKAGE=libobjc\n-VERSION=1:0:0\n-\n-\n # Sanity check for the cross-compilation case:\n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:2633: checking how to run the C preprocessor\" >&5\n+echo \"configure:2529: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -2644,13 +2540,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 2648 \"configure\"\n+#line 2544 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2654: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2550: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2661,13 +2557,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2665 \"configure\"\n+#line 2561 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2671: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2567: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2678,13 +2574,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2682 \"configure\"\n+#line 2578 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2688: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2584: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2710,17 +2606,17 @@ echo \"$ac_t\"\"$CPP\" 1>&6\n \n ac_safe=`echo \"stdio.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for stdio.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2714: checking for stdio.h\" >&5\n+echo \"configure:2610: checking for stdio.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2719 \"configure\"\n+#line 2615 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2724: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2620: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2748,20 +2644,20 @@ fi\n \n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:2752: checking for ANSI C header files\" >&5\n+echo \"configure:2648: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2757 \"configure\"\n+#line 2653 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2765: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2661: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2778,7 +2674,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 2782 \"configure\"\n+#line 2678 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -2796,7 +2692,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 2800 \"configure\"\n+#line 2696 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -2817,7 +2713,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2821 \"configure\"\n+#line 2717 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -2828,7 +2724,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:2832: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2728: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -2856,17 +2752,17 @@ for ac_hdr in sched.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:2860: checking for $ac_hdr\" >&5\n+echo \"configure:2756: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2865 \"configure\"\n+#line 2761 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2870: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2766: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2896,7 +2792,7 @@ done\n # Determine CFLAGS for gthread.\n \n echo $ac_n \"checking for gthread cflags\"\"... $ac_c\" 1>&6\n-echo \"configure:2900: checking for gthread cflags\" >&5\n+echo \"configure:2796: checking for gthread cflags\" >&5\n if eval \"test \\\"`echo '$''{'objc_cv_gthread_flags'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3061,6 +2957,7 @@ s%@includedir@%$includedir%g\n s%@oldincludedir@%$oldincludedir%g\n s%@infodir@%$infodir%g\n s%@mandir@%$mandir%g\n+s%@VERSION@%$VERSION%g\n s%@toplevel_srcdir@%$toplevel_srcdir%g\n s%@host@%$host%g\n s%@host_alias@%$host_alias%g\n@@ -3080,7 +2977,6 @@ s%@build_os@%$build_os%g\n s%@target_noncanonical@%$target_noncanonical%g\n s%@glibcpp_builddir@%$glibcpp_builddir%g\n s%@glibcpp_srcdir@%$glibcpp_srcdir%g\n-s%@LN_S@%$LN_S%g\n s%@CC@%$CC%g\n s%@AS@%$AS%g\n s%@AR@%$AR%g\n@@ -3093,14 +2989,14 @@ s%@gcc_version_trigger@%$gcc_version_trigger%g\n s%@glibcpp_toolexecdir@%$glibcpp_toolexecdir%g\n s%@glibcpp_toolexeclibdir@%$glibcpp_toolexeclibdir%g\n s%@glibcpp_prefixdir@%$glibcpp_prefixdir%g\n+s%@LN_S@%$LN_S%g\n s%@OBJEXT@%$OBJEXT%g\n s%@EXEEXT@%$EXEEXT%g\n s%@STRIP@%$STRIP%g\n s%@DLLTOOL@%$DLLTOOL%g\n s%@OBJDUMP@%$OBJDUMP%g\n s%@LIBTOOL@%$LIBTOOL%g\n s%@SET_MAKE@%$SET_MAKE%g\n-s%@VERSION@%$VERSION%g\n s%@CPP@%$CPP%g\n s%@GTHREAD_FLAGS@%$GTHREAD_FLAGS%g\n s%@OBJC_BOEHM_GC@%$OBJC_BOEHM_GC%g"}, {"sha": "ccc0cc8e98b96fc3fee88e93c8e506d8dbff20ed", "filename": "libobjc/configure.in", "status": "modified", "additions": 7, "deletions": 22, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1fcfac9834ccf59d8997749cf80e9351709c29d7/libobjc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1fcfac9834ccf59d8997749cf80e9351709c29d7/libobjc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fconfigure.in?ref=1fcfac9834ccf59d8997749cf80e9351709c29d7", "patch": "@@ -24,6 +24,12 @@ AC_PREREQ(2.13)\n AC_INIT(objc/objc.h)\n AC_CONFIG_HEADER(config.h)\n \n+dnl We need the following definitions because AC_PROG_LIBTOOL relies on them\n+PACKAGE=libobjc\n+dnl Version is pulled out to make it a bit easier to change using sed.\n+VERSION=1:0:0\n+AC_SUBST(VERSION)\n+\n # This works around the fact that libtool configuration may change LD\n # for this particular configuration, but some shells, instead of\n # keeping the changes in LD private, export them just because LD is\n@@ -77,11 +83,6 @@ esac\n AC_SUBST(glibcpp_builddir)\n AC_SUBST(glibcpp_srcdir)\n \n-# Will set LN_S to either 'ln -s' or 'ln'.  With autoconf 2.50+, can also\n-# be 'cp -p' if linking isn't available.\n-#ac_cv_prog_LN_S='cp -p'\n-AC_PROG_LN_S\n-\n # We use these options to decide which functions to include.\n AC_ARG_WITH(target-subdir,\n [  --with-target-subdir=SUBDIR\n@@ -142,7 +143,7 @@ LIB_AC_PROG_CC\n \n AC_CHECK_TOOL(AS, as)\n AC_CHECK_TOOL(AR, ar)\n-AC_CHECK_TOOL(RANLIB, ranlib, ranlib-not-found-in-path-error)\n+AC_CHECK_TOOL(RANLIB, ranlib, :)\n AC_PROG_INSTALL\n \n \n@@ -206,24 +207,8 @@ AC_LIBTOOL_WIN32_DLL\n \n AC_PROG_LIBTOOL\n \n-dnl These should be inherited in the recursive make, but ensure they are\n-dnl defined:\n-test \"$AR\" || AR=ar\n-AC_SUBST(AR)\n-if test \"$RANLIB\"; then :\n-  AC_SUBST(RANLIB)\n-else\n-  AC_PROG_RANLIB\n-fi\n-AC_PROG_INSTALL\n AC_PROG_MAKE_SET\n \n-dnl we need the following definitions because AC_PROG_LIBTOOL relies on them\n-PACKAGE=libobjc\n-dnl version is pulled out to make it a bit easier to change using sed.\n-VERSION=1:0:0\n-AC_SUBST(VERSION)\n-\n dnl Checks for header files.\n # Sanity check for the cross-compilation case:\n AC_CHECK_HEADER(stdio.h,:,"}]}