{"sha": "62801a96da9c80f7347b45f4b3613e815a5c09b8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjI4MDFhOTZkYTljODBmNzM0N2I0NWY0YjM2MTNlODE1YTVjMDliOA==", "commit": {"author": {"name": "Howard Hinnant", "email": "hhinnant@apple.com", "date": "2006-12-02T17:06:57Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2006-12-02T17:06:57Z"}, "message": "acinclude.m4: Allow OPTIMIZE_CXXFLAGS to be set by configure.host.\n\n2006-12-02  Howard Hinnant  <hhinnant@apple.com>\n\n\t* acinclude.m4: Allow OPTIMIZE_CXXFLAGS to be set by configure.host.\n\t* configure.host: Set OPTIMIZE_CXXFLAGS to -fvisibility-inlines-hidden\n\tfor x86/darwin.\n\t* configure: Regenerate.\n\nFrom-SVN: r119450", "tree": {"sha": "63f0192910afa6b6123bc021825023581450915d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/63f0192910afa6b6123bc021825023581450915d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/62801a96da9c80f7347b45f4b3613e815a5c09b8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62801a96da9c80f7347b45f4b3613e815a5c09b8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/62801a96da9c80f7347b45f4b3613e815a5c09b8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62801a96da9c80f7347b45f4b3613e815a5c09b8/comments", "author": null, "committer": null, "parents": [{"sha": "54e67af0ad12989e986b54f096d944709bb8649a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/54e67af0ad12989e986b54f096d944709bb8649a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/54e67af0ad12989e986b54f096d944709bb8649a"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "1031465d422b4108c4ff8b60b3b6ba98a8c6e129", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62801a96da9c80f7347b45f4b3613e815a5c09b8/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62801a96da9c80f7347b45f4b3613e815a5c09b8/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=62801a96da9c80f7347b45f4b3613e815a5c09b8", "patch": "@@ -1,3 +1,10 @@\n+2006-12-02  Howard Hinnant  <hhinnant@apple.com>\n+\n+\t* acinclude.m4: Allow OPTIMIZE_CXXFLAGS to be set by configure.host.\n+\t* configure.host: Set OPTIMIZE_CXXFLAGS to -fvisibility-inlines-hidden\n+\tfor x86/darwin.\n+\t* configure: Regenerate.\n+\n 2006-12-01  Paolo Carlini  <pcarlini@suse.de>\n \n \t* include/ext/mt_allocator.h (__pool_base::_M_get_align): Remove"}, {"sha": "38345fa2e32a2d5d0af3614b1bfc6e5e412ace3d", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62801a96da9c80f7347b45f4b3613e815a5c09b8/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62801a96da9c80f7347b45f4b3613e815a5c09b8/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=62801a96da9c80f7347b45f4b3613e815a5c09b8", "patch": "@@ -653,8 +653,8 @@ dnl\n AC_DEFUN([GLIBCXX_EXPORT_FLAGS], [\n   # Optimization flags that are probably a good idea for thrill-seekers. Just\n   # uncomment the lines below and make, everything else is ready to go...\n+  # Alternatively OPTIMIZE_CXXFLAGS can be set in configure.host.\n   # OPTIMIZE_CXXFLAGS = -O3 -fstrict-aliasing -fvtable-gc\n-  OPTIMIZE_CXXFLAGS=\n   AC_SUBST(OPTIMIZE_CXXFLAGS)\n \n   WARN_FLAGS='-Wall -Wextra -Wwrite-strings -Wcast-qual'"}, {"sha": "ae4e09e15dcdad3fb20507656430d7ae1ea8c607", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62801a96da9c80f7347b45f4b3613e815a5c09b8/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62801a96da9c80f7347b45f4b3613e815a5c09b8/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=62801a96da9c80f7347b45f4b3613e815a5c09b8", "patch": "@@ -110313,8 +110313,8 @@ echo \"${ECHO_T}$gxx_include_dir\" >&6\n \n   # Optimization flags that are probably a good idea for thrill-seekers. Just\n   # uncomment the lines below and make, everything else is ready to go...\n+  # Alternatively OPTIMIZE_CXXFLAGS can be set in configure.host.\n   # OPTIMIZE_CXXFLAGS = -O3 -fstrict-aliasing -fvtable-gc\n-  OPTIMIZE_CXXFLAGS=\n \n \n   WARN_FLAGS='-Wall -Wextra -Wwrite-strings -Wcast-qual'"}, {"sha": "ef4d1de4c0216e26a2f4bed8b16e6708a1cf466f", "filename": "libstdc++-v3/configure.host", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62801a96da9c80f7347b45f4b3613e815a5c09b8/libstdc%2B%2B-v3%2Fconfigure.host", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62801a96da9c80f7347b45f4b3613e815a5c09b8/libstdc%2B%2B-v3%2Fconfigure.host", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure.host?ref=62801a96da9c80f7347b45f4b3613e815a5c09b8", "patch": "@@ -202,6 +202,11 @@ case \"${host_os}\" in\n     # On Darwin, performance is improved if libstdc++ is single-module,\n     # and on 8+ compatibility is better if not -flat_namespace.\n     OPT_LDFLAGS=\"${OPT_LDFLAGS} -Wl,-single_module\"\n+    case \"${host_cpu}\" in\n+      i[34567]86 | x86_64)\n+        OPTIMIZE_CXXFLAGS=\"${OPTIMIZE_CXXFLAGS} -fvisibility-inlines-hidden\"\n+        ;;\n+    esac\n     os_include_dir=\"os/bsd/darwin\"\n     ;;\n   *djgpp*)      # leading * picks up \"msdosdjgpp\""}]}