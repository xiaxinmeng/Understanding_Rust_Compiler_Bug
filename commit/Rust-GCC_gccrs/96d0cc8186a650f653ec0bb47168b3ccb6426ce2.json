{"sha": "96d0cc8186a650f653ec0bb47168b3ccb6426ce2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTZkMGNjODE4NmE2NTBmNjUzZWMwYmI0NzE2OGIzY2NiNjQyNmNlMg==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2006-07-27T16:03:22Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2006-07-27T16:03:22Z"}, "message": "re PR middle-end/28071 (A file that can not be compiled in reasonable time/space)\n\n\tPR rtl-optimization/28071\n\t* cselib.c (cselib_process_insn): Don't remove useless values too\n\toften for very large hashtables.\n\nFrom-SVN: r115777", "tree": {"sha": "77a6d486ea57a6b544ceda3cd1825bfda772ecac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/77a6d486ea57a6b544ceda3cd1825bfda772ecac"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/96d0cc8186a650f653ec0bb47168b3ccb6426ce2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96d0cc8186a650f653ec0bb47168b3ccb6426ce2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/96d0cc8186a650f653ec0bb47168b3ccb6426ce2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96d0cc8186a650f653ec0bb47168b3ccb6426ce2/comments", "author": null, "committer": null, "parents": [{"sha": "69bfd3c9ba12e99eabd826d507f1c11419e5606a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69bfd3c9ba12e99eabd826d507f1c11419e5606a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/69bfd3c9ba12e99eabd826d507f1c11419e5606a"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "c5c0d6ff5a5562054456af16b0e5c2cab7bcaa04", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96d0cc8186a650f653ec0bb47168b3ccb6426ce2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96d0cc8186a650f653ec0bb47168b3ccb6426ce2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=96d0cc8186a650f653ec0bb47168b3ccb6426ce2", "patch": "@@ -1,3 +1,9 @@\n+2006-07-27  Jan Hubicka  <jh@suse.cz>\n+\n+\tPR rtl-optimization/28071\n+\t* cselib.c (cselib_process_insn): Don't remove useless values too\n+\toften for very large hashtables.\n+\n 2006-07-27  Jan Hubicka  <jh@suse.cz>\n \n \tPR rtl-optimization/28071"}, {"sha": "edfc328c0d84cd65d77719c9ae4cbfa21205ba09", "filename": "gcc/cselib.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96d0cc8186a650f653ec0bb47168b3ccb6426ce2/gcc%2Fcselib.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96d0cc8186a650f653ec0bb47168b3ccb6426ce2/gcc%2Fcselib.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcselib.c?ref=96d0cc8186a650f653ec0bb47168b3ccb6426ce2", "patch": "@@ -1437,7 +1437,11 @@ cselib_process_insn (rtx insn)\n     cselib_current_insn_in_libcall = false;\n   cselib_current_insn = 0;\n \n-  if (n_useless_values > MAX_USELESS_VALUES)\n+  if (n_useless_values > MAX_USELESS_VALUES\n+      /* remove_useless_values is linear in the hash table size.  Avoid\n+         quadratic behaviour for very large hashtables with very few\n+\t useless elements.  */\n+      && (unsigned int)n_useless_values > cselib_hash_table->n_elements / 4)\n     remove_useless_values ();\n }\n "}]}