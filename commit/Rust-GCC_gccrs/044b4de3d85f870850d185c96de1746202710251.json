{"sha": "044b4de3d85f870850d185c96de1746202710251", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDQ0YjRkZTNkODVmODcwODUwZDE4NWM5NmRlMTc0NjIwMjcxMDI1MQ==", "commit": {"author": {"name": "Ulrich Weigand", "email": "uweigand@de.ibm.com", "date": "2003-01-21T14:54:21Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2003-01-21T14:54:21Z"}, "message": "dwarf2out.c (fde_table_in_use): Mark GTY.\n\n\t* dwarf2out.c (fde_table_in_use): Mark GTY.\n\t(dwarf2out_cfi_label_num): New variable, marked GTY.\n\t(dwarf2out_cfi_label): Use it instead of static label_num.\n\t* emit-rtl.c (label_num): Mark GTY.\n\nFrom-SVN: r61547", "tree": {"sha": "0e679a850248c2589d48211575201caa1d2cf465", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0e679a850248c2589d48211575201caa1d2cf465"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/044b4de3d85f870850d185c96de1746202710251", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/044b4de3d85f870850d185c96de1746202710251", "html_url": "https://github.com/Rust-GCC/gccrs/commit/044b4de3d85f870850d185c96de1746202710251", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/044b4de3d85f870850d185c96de1746202710251/comments", "author": null, "committer": null, "parents": [{"sha": "cfedf91bdca924f7ec8a558333d179351a794c2c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cfedf91bdca924f7ec8a558333d179351a794c2c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cfedf91bdca924f7ec8a558333d179351a794c2c"}], "stats": {"total": 17, "additions": 11, "deletions": 6}, "files": [{"sha": "42e48675d5f33cdfabea41cc5a16efc87fa25e84", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/044b4de3d85f870850d185c96de1746202710251/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/044b4de3d85f870850d185c96de1746202710251/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=044b4de3d85f870850d185c96de1746202710251", "patch": "@@ -1,3 +1,10 @@\n+2003-01-21  Ulrich Weigand  <uweigand@de.ibm.com>\n+\n+\t* dwarf2out.c (fde_table_in_use): Mark GTY.\n+\t(dwarf2out_cfi_label_num): New variable, marked GTY.\n+\t(dwarf2out_cfi_label): Use it instead of static label_num.\n+\t* emit-rtl.c (label_num): Mark GTY.\n+\n 2003-01-21  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* config/h8300/h8300.c (output_plussi): Support H8/300."}, {"sha": "12e6fde24e3db6ef778a192f36ed7ab5193e5ef3", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 3, "deletions": 5, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/044b4de3d85f870850d185c96de1746202710251/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/044b4de3d85f870850d185c96de1746202710251/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=044b4de3d85f870850d185c96de1746202710251", "patch": "@@ -279,10 +279,8 @@ static GTY((length (\"fde_table_allocated\"))) dw_fde_ref fde_table;\n /* Number of elements currently allocated for fde_table.  */\n static unsigned fde_table_allocated;\n \n-#if defined (DWARF2_DEBUGGING_INFO) || defined (DWARF2_UNWIND_INFO)\n /* Number of elements in fde_table currently in use.  */\n-static unsigned fde_table_in_use;\n-#endif\n+static GTY(()) unsigned fde_table_in_use;\n \n /* Size (in elements) of increments by which we may expand the\n    fde_table.  */\n@@ -310,6 +308,7 @@ struct indirect_string_node GTY(())\n static GTY ((param_is (struct indirect_string_node))) htab_t debug_str_hash;\n \n static GTY(()) int dw2_string_counter;\n+static GTY(()) unsigned long dwarf2out_cfi_label_num;\n \n #if defined (DWARF2_DEBUGGING_INFO) || defined (DWARF2_UNWIND_INFO)\n \n@@ -561,9 +560,8 @@ char *\n dwarf2out_cfi_label ()\n {\n   static char label[20];\n-  static unsigned long label_num = 0;\n \n-  ASM_GENERATE_INTERNAL_LABEL (label, \"LCFI\", label_num++);\n+  ASM_GENERATE_INTERNAL_LABEL (label, \"LCFI\", dwarf2out_cfi_label_num++);\n   ASM_OUTPUT_LABEL (asm_out_file, label);\n   return label;\n }"}, {"sha": "5dd599a8599b79e825b32a7f6863cdd391f2e23e", "filename": "gcc/emit-rtl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/044b4de3d85f870850d185c96de1746202710251/gcc%2Femit-rtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/044b4de3d85f870850d185c96de1746202710251/gcc%2Femit-rtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Femit-rtl.c?ref=044b4de3d85f870850d185c96de1746202710251", "patch": "@@ -69,7 +69,7 @@ enum machine_mode ptr_mode;\t/* Mode whose width is POINTER_SIZE.  */\n /* This is *not* reset after each function.  It gives each CODE_LABEL\n    in the entire compilation a unique label number.  */\n \n-static int label_num = 1;\n+static GTY(()) int label_num = 1;\n \n /* Highest label number in current function.\n    Zero means use the value of label_num instead."}]}