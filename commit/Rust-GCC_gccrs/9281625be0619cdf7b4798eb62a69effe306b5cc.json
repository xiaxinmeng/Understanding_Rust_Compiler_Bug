{"sha": "9281625be0619cdf7b4798eb62a69effe306b5cc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTI4MTYyNWJlMDYxOWNkZjdiNDc5OGViNjJhNjllZmZlMzA2YjVjYw==", "commit": {"author": {"name": "Bud Davis", "email": "jmdavis@link.com", "date": "2013-05-27T14:16:36Z"}, "committer": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2013-05-27T14:16:36Z"}, "message": "re PR fortran/50405 (allocation LOOP or SIGSEGV)\n\n2013-05-27  Bud Davis  <jmdavis@link.com>\n\n        PR fortran/50405\n        * resolve.c (resolve_formal_arglist): Detect error when an\n        * argument\n        has the same name as the function.\n\n2013-05-27  Bud Davis  <jmdavis@link.com>\n\n        PR fortran/50405\n        * gfortran.dg/stfunc_8.f90: New.\n\nFrom-SVN: r199358", "tree": {"sha": "8886892cdd7087fe400d463ceb19f471dfdf749e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8886892cdd7087fe400d463ceb19f471dfdf749e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9281625be0619cdf7b4798eb62a69effe306b5cc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9281625be0619cdf7b4798eb62a69effe306b5cc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9281625be0619cdf7b4798eb62a69effe306b5cc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9281625be0619cdf7b4798eb62a69effe306b5cc/comments", "author": null, "committer": null, "parents": [{"sha": "5a892248232ee56f20a202b23049a344ab2c4517", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a892248232ee56f20a202b23049a344ab2c4517", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a892248232ee56f20a202b23049a344ab2c4517"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "e13a46b5f5dac0586ff678abcff5dfe127d4c516", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9281625be0619cdf7b4798eb62a69effe306b5cc/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9281625be0619cdf7b4798eb62a69effe306b5cc/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=9281625be0619cdf7b4798eb62a69effe306b5cc", "patch": "@@ -1,3 +1,9 @@\n+2013-05-27  Bud Davis  <jmdavis@link.com>\n+\n+\tPR fortran/50405\n+\t* resolve.c (resolve_formal_arglist): Detect error when an argument\n+\thas the same name as the function.\n+\n 2013-05-27  Tobias Burnus  <burnus@net-b.de>\n \n \t* expr.c (gfc_build_intrinsic_call): Make symbol as attr.artificial."}, {"sha": "78a1038009b5157863c742e55d14f55f05653932", "filename": "gcc/fortran/resolve.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9281625be0619cdf7b4798eb62a69effe306b5cc/gcc%2Ffortran%2Fresolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9281625be0619cdf7b4798eb62a69effe306b5cc/gcc%2Ffortran%2Fresolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fresolve.c?ref=9281625be0619cdf7b4798eb62a69effe306b5cc", "patch": "@@ -306,6 +306,14 @@ resolve_formal_arglist (gfc_symbol *proc)\n \t       && !resolve_procedure_interface (sym))\n \treturn;\n \n+      if (strcmp (proc->name, sym->name) == 0)\n+        {\n+          gfc_error (\"Self-referential argument \"\n+                     \"'%s' at %L is not allowed\", sym->name,\n+                     &proc->declared_at);\n+          return;\n+        }\n+\n       if (sym->attr.if_source != IFSRC_UNKNOWN)\n \tresolve_formal_arglist (sym);\n "}, {"sha": "95330b7af9d7c6e764fbca99138d91a864272f27", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9281625be0619cdf7b4798eb62a69effe306b5cc/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9281625be0619cdf7b4798eb62a69effe306b5cc/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=9281625be0619cdf7b4798eb62a69effe306b5cc", "patch": "@@ -1,3 +1,8 @@\n+2013-05-27  Bud Davis  <jmdavis@link.com>\n+\n+\tPR fortran/50405\n+\t* gfortran.dg/stfunc_8.f90: New.\n+\n 2013-05-27  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/57343"}, {"sha": "f13cacaeb8f7e66b95ed1ebd54cbc94dd131f699", "filename": "gcc/testsuite/gfortran.dg/stfunc_8.f90", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9281625be0619cdf7b4798eb62a69effe306b5cc/gcc%2Ftestsuite%2Fgfortran.dg%2Fstfunc_8.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9281625be0619cdf7b4798eb62a69effe306b5cc/gcc%2Ftestsuite%2Fgfortran.dg%2Fstfunc_8.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fstfunc_8.f90?ref=9281625be0619cdf7b4798eb62a69effe306b5cc", "patch": "@@ -0,0 +1,9 @@\n+! { dg-do compile }\n+! { dg-options \"\" }\n+!\n+! PR fortran/50405\n+!\n+! Submitted by zeccav@gmail.com\n+!\n+       f(f) = 0 ! { dg-error \"Self-referential argument\" }\n+       end"}]}