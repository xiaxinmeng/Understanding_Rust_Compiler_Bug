{"sha": "7e2fe9d8a171c50b39b985fb0f9d9721f4f42656", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2UyZmU5ZDhhMTcxYzUwYjM5Yjk4NWZiMGY5ZDk3MjFmNGY0MjY1Ng==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@physics.uc.edu", "date": "2006-05-20T22:35:02Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2006-05-20T22:35:02Z"}, "message": "re PR middle-end/25776 (ICE in cgraph after error at -O1 and above)\n\n2006-05-20  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR middle-end/25776\n        * cgraphunit.c (cgraph_optimize): Don't run ipa passes if error\n        or sorry count is non zero.\n\n2006-05-20  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR middle-end/25776\n        * g++.dg/other/error11.C: New test.\n\nFrom-SVN: r113941", "tree": {"sha": "9ae8d54e49e1bd1ea366d26f5cfdeb46a7893f20", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9ae8d54e49e1bd1ea366d26f5cfdeb46a7893f20"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7e2fe9d8a171c50b39b985fb0f9d9721f4f42656", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e2fe9d8a171c50b39b985fb0f9d9721f4f42656", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7e2fe9d8a171c50b39b985fb0f9d9721f4f42656", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e2fe9d8a171c50b39b985fb0f9d9721f4f42656/comments", "author": null, "committer": null, "parents": [{"sha": "0323103130bfbabe742046a857737ae6bcc5dc4c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0323103130bfbabe742046a857737ae6bcc5dc4c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0323103130bfbabe742046a857737ae6bcc5dc4c"}], "stats": {"total": 34, "additions": 33, "deletions": 1}, "files": [{"sha": "f05e632982e6ad213497a8af4a573d8512c1b55b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e2fe9d8a171c50b39b985fb0f9d9721f4f42656/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e2fe9d8a171c50b39b985fb0f9d9721f4f42656/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7e2fe9d8a171c50b39b985fb0f9d9721f4f42656", "patch": "@@ -1,3 +1,9 @@\n+2006-05-20  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR middle-end/25776\n+\t* cgraphunit.c (cgraph_optimize): Don't run ipa passes if error\n+\tor sorry count is non zero.\n+\n 2006-05-20  Andreas Schwab  <schwab@suse.de>\n \n \t* config/pa/pa-linux.h (STRING_ASM_OP): Prepend and append a tab."}, {"sha": "44b3d4f05d4eee3b285e4bd23e82e1f7eba4db03", "filename": "gcc/cgraphunit.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e2fe9d8a171c50b39b985fb0f9d9721f4f42656/gcc%2Fcgraphunit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e2fe9d8a171c50b39b985fb0f9d9721f4f42656/gcc%2Fcgraphunit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraphunit.c?ref=7e2fe9d8a171c50b39b985fb0f9d9721f4f42656", "patch": "@@ -1410,7 +1410,11 @@ cgraph_optimize (void)\n       fprintf (cgraph_dump_file, \"Marked \");\n       dump_cgraph (cgraph_dump_file);\n     }\n-  ipa_passes ();\n+    \n+  /* Don't run the IPA passes if there was any error or sorry messages.  */\n+  if (errorcount == 0 && sorrycount == 0)\n+    ipa_passes ();\n+\n   /* This pass remove bodies of extern inline functions we never inlined.\n      Do this later so other IPA passes see what is really going on.  */\n   cgraph_remove_unreachable_nodes (false, dump_file);"}, {"sha": "d558ee28521a7596d7b568e8768281078874c557", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e2fe9d8a171c50b39b985fb0f9d9721f4f42656/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e2fe9d8a171c50b39b985fb0f9d9721f4f42656/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7e2fe9d8a171c50b39b985fb0f9d9721f4f42656", "patch": "@@ -1,3 +1,8 @@\n+2006-05-20  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR middle-end/25776\n+\t* g++.dg/other/error11.C: New test. \n+\n 2006-05-20  Richard Sandiford  <richard@codesourcery.com>\n \n \t* gcc.target/mips/pr26765.c: Add -w to options."}, {"sha": "d8a641c2b4ec556beb5963870040d907c8d733f3", "filename": "gcc/testsuite/g++.dg/other/error11.C", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e2fe9d8a171c50b39b985fb0f9d9721f4f42656/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Ferror11.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e2fe9d8a171c50b39b985fb0f9d9721f4f42656/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Ferror11.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Ferror11.C?ref=7e2fe9d8a171c50b39b985fb0f9d9721f4f42656", "patch": "@@ -0,0 +1,17 @@\n+/* { dg-options \"-O1\" } */\n+struct A\n+{\n+  ERROR; /* { dg-error \"ERROR\" } */\n+  ~A();\n+};\n+\n+struct B\n+{\n+  virtual ~B();\n+};\n+\n+struct C : B, A {};\n+\n+struct D : C {};\n+\n+D d;"}]}