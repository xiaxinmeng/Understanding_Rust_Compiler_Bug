{"sha": "d430cbe706e3c8bc6fa98102ec5f7480b60d3180", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDQzMGNiZTcwNmUzYzhiYzZmYTk4MTAyZWM1Zjc0ODBiNjBkMzE4MA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2005-09-15T06:15:36Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2005-09-15T06:15:36Z"}, "message": "tree-nested.c (get_frame_type): Mark the \"non-local frame structure\" as addressable.\n\n\t* tree-nested.c (get_frame_type): Mark the \"non-local frame structure\"\n\tas addressable.\n\nFrom-SVN: r104300", "tree": {"sha": "7007efb84974a63a0490230243152fae4ffec932", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7007efb84974a63a0490230243152fae4ffec932"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d430cbe706e3c8bc6fa98102ec5f7480b60d3180", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d430cbe706e3c8bc6fa98102ec5f7480b60d3180", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d430cbe706e3c8bc6fa98102ec5f7480b60d3180", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d430cbe706e3c8bc6fa98102ec5f7480b60d3180/comments", "author": null, "committer": null, "parents": [{"sha": "fca59ed2c97e622bd51cdd67911bae5c347eb399", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fca59ed2c97e622bd51cdd67911bae5c347eb399", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fca59ed2c97e622bd51cdd67911bae5c347eb399"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "d901c8c49bc01ab77e9d593e5acd9c296b45a738", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d430cbe706e3c8bc6fa98102ec5f7480b60d3180/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d430cbe706e3c8bc6fa98102ec5f7480b60d3180/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d430cbe706e3c8bc6fa98102ec5f7480b60d3180", "patch": "@@ -1,3 +1,8 @@\n+2005-09-15  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* tree-nested.c (get_frame_type): Mark the \"non-local frame structure\"\n+\tas addressable.\n+\n 2005-09-15  Michael Matz  <matz@suse.de>\n \n \t* tree-vrp.c (vrp_int_const_binop <MINUS_EXPR>): Handle 0 - -INF."}, {"sha": "d42c583ce518328770cbed2eb418460ed399ee11", "filename": "gcc/tree-nested.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d430cbe706e3c8bc6fa98102ec5f7480b60d3180/gcc%2Ftree-nested.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d430cbe706e3c8bc6fa98102ec5f7480b60d3180/gcc%2Ftree-nested.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-nested.c?ref=d430cbe706e3c8bc6fa98102ec5f7480b60d3180", "patch": "@@ -220,6 +220,14 @@ get_frame_type (struct nesting_info *info)\n \n       info->frame_type = type;\n       info->frame_decl = create_tmp_var_for (info, type, \"FRAME\");\n+\n+      /* ??? Always make it addressable for now, since it is meant to\n+\t be pointed to by the static chain pointer.  This pessimizes\n+\t when it turns out that no static chains are needed because\n+\t the nested functions referencing non-local variables are not\n+\t reachable, but the true pessimization is to create the non-\n+\t local frame structure in the first place.  */\n+      TREE_ADDRESSABLE (info->frame_decl) = 1;\n     }\n   return type;\n }"}]}