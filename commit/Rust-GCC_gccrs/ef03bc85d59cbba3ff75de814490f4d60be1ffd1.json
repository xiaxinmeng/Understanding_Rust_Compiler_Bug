{"sha": "ef03bc85d59cbba3ff75de814490f4d60be1ffd1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWYwM2JjODVkNTljYmJhM2ZmNzVkZTgxNDQ5MGY0ZDYwYmUxZmZkMQ==", "commit": {"author": {"name": "Charles Hannum", "email": "mycroft@gnu.org", "date": "1992-07-08T22:35:25Z"}, "committer": {"name": "Charles Hannum", "email": "mycroft@gnu.org", "date": "1992-07-08T22:35:25Z"}, "message": "*** empty log message ***\n\nFrom-SVN: r1530", "tree": {"sha": "9d6bf17af7170f903f04c318d24887ef4e4a583b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9d6bf17af7170f903f04c318d24887ef4e4a583b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ef03bc85d59cbba3ff75de814490f4d60be1ffd1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ef03bc85d59cbba3ff75de814490f4d60be1ffd1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ef03bc85d59cbba3ff75de814490f4d60be1ffd1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ef03bc85d59cbba3ff75de814490f4d60be1ffd1/comments", "author": null, "committer": null, "parents": [{"sha": "c5caa35076b08db79b363624678265ec9a1d1ec9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c5caa35076b08db79b363624678265ec9a1d1ec9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c5caa35076b08db79b363624678265ec9a1d1ec9"}], "stats": {"total": 21, "additions": 17, "deletions": 4}, "files": [{"sha": "0836855f17a9fef19d6a3c1ed693d8a0a1cf45c7", "filename": "gcc/calls.c", "status": "modified", "additions": 17, "deletions": 4, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ef03bc85d59cbba3ff75de814490f4d60be1ffd1/gcc%2Fcalls.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ef03bc85d59cbba3ff75de814490f4d60be1ffd1/gcc%2Fcalls.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcalls.c?ref=ef03bc85d59cbba3ff75de814490f4d60be1ffd1", "patch": "@@ -138,10 +138,23 @@ calls_alloca (exp)\n       break;\n \n     case BLOCK:\n-      /* Must not look at BLOCK_SUPERCONTEXT since it will point back to\n-\t us.  */\n-      length = 3;\n-      break;\n+      {\n+\tregister tree local;\n+\n+\tfor (local = BLOCK_VARS (exp); local; local = TREE_CHAIN (local))\n+\t  if (calls_alloca (DECL_INITIAL (local)))\n+\t    return 1;\n+      }\n+      {\n+\tregister tree subblock;\n+\n+\tfor (subblock = BLOCK_SUBBLOCKS (exp);\n+\t     subblock;\n+\t     subblock = TREE_CHAIN (subblock))\n+\t  if (calls_alloca (subblock))\n+\t    return 1;\n+      }\n+      return 0;\n \n     case METHOD_CALL_EXPR:\n       length = 3;"}]}