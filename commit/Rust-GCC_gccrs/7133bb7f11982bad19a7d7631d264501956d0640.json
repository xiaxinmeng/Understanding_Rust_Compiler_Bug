{"sha": "7133bb7f11982bad19a7d7631d264501956d0640", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzEzM2JiN2YxMTk4MmJhZDE5YTdkNzYzMWQyNjQ1MDE5NTZkMDY0MA==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-08-17T07:44:30Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-08-17T07:44:30Z"}, "message": "(casesi1): Renamed from casesi.\n\n(casesi): New trivial define_expand invokes casesi1.\n(movstrhi, movstrhi1): Analogous change.\n\nFrom-SVN: r1863", "tree": {"sha": "e379063db0ee713726eda97d22f29bb69dce68a4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e379063db0ee713726eda97d22f29bb69dce68a4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7133bb7f11982bad19a7d7631d264501956d0640", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7133bb7f11982bad19a7d7631d264501956d0640", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7133bb7f11982bad19a7d7631d264501956d0640", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7133bb7f11982bad19a7d7631d264501956d0640/comments", "author": null, "committer": null, "parents": [{"sha": "f2e663b6979fd71e55bc5e8e670e42556517f89c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2e663b6979fd71e55bc5e8e670e42556517f89c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f2e663b6979fd71e55bc5e8e670e42556517f89c"}], "stats": {"total": 39, "additions": 37, "deletions": 2}, "files": [{"sha": "2555780755e200f8ba51025fd9722f7681557530", "filename": "gcc/config/vax/vax.md", "status": "modified", "additions": 37, "deletions": 2, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7133bb7f11982bad19a7d7631d264501956d0640/gcc%2Fconfig%2Fvax%2Fvax.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7133bb7f11982bad19a7d7631d264501956d0640/gcc%2Fconfig%2Fvax%2Fvax.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fvax%2Fvax.md?ref=7133bb7f11982bad19a7d7631d264501956d0640", "patch": "@@ -333,11 +333,24 @@\n   return \\\"movb %1,%0\\\";\n }\")\n \n+;; This is here to accept 4 arguments and pass the first 3 along\n+;; to the movstrhi1 pattern that really does the work.\n+(define_expand \"movstrhi\"\n+  [(set (match_operand:BLK 0 \"general_operand\" \"=g\")\n+\t(match_operand:BLK 1 \"general_operand\" \"g\"))\n+   (use (match_operand:HI 2 \"general_operand\" \"g\"))\n+   (match_operand 3 \"\" \"\")]\n+  \"\"\n+  \"\n+  emit_insn (gen_movstrhi1 (operands[0], operands[1], operands[2]));\n+  DONE;\n+\")\n+\n ;; The definition of this insn does not really explain what it does,\n ;; but it should suffice\n ;; that anything generated as this insn will be recognized as one\n ;; and that it won't successfully combine with anything.\n-(define_insn \"movstrhi\"\n+(define_insn \"movstrhi1\"\n   [(set (match_operand:BLK 0 \"general_operand\" \"=g\")\n \t(match_operand:BLK 1 \"general_operand\" \"g\"))\n    (use (match_operand:HI 2 \"general_operand\" \"g\"))\n@@ -1853,7 +1866,29 @@\n   \"\"\n   \"jmp (%0)\")\n \n-(define_insn \"casesi\"\n+;; This is here to accept 5 arguments (as passed by expand_end_case)\n+;; and pass the first 4 along to the casesi1 pattern that really does the work.\n+(define_expand \"casesi\"\n+  [(set (pc)\n+\t(if_then_else (leu (minus:SI (match_operand:SI 0 \"general_operand\" \"g\")\n+\t\t\t\t     (match_operand:SI 1 \"general_operand\" \"g\"))\n+\t\t\t   (match_operand:SI 2 \"general_operand\" \"g\"))\n+\t\t      (plus:SI (sign_extend:SI\n+\t\t\t\t(mem:HI\n+\t\t\t\t (plus:SI (pc)\n+\t\t\t\t\t  (mult:SI (minus:SI (match_dup 0)\n+\t\t\t\t\t\t\t     (match_dup 1))\n+\t\t\t\t\t\t   (const_int 2)))))\n+\t\t\t       (label_ref:SI (match_operand 3 \"\" \"\")))\n+\t\t      (pc)))\n+   (match_operand 4 \"\" \"\")]\n+  \"\"\n+  \"\n+  emit_insn (gen_casesi1 (operands[0], operands[1], operands[2], operands[3]));\n+  DONE;\n+\")\n+\n+(define_insn \"casesi1\"\n   [(set (pc)\n \t(if_then_else (leu (minus:SI (match_operand:SI 0 \"general_operand\" \"g\")\n \t\t\t\t     (match_operand:SI 1 \"general_operand\" \"g\"))"}]}