{"sha": "f4926e194af6731b14aadb181cf7aa0d1f331e52", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjQ5MjZlMTk0YWY2NzMxYjE0YWFkYjE4MWNmN2FhMGQxZjMzMWU1Mg==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "amylaar@redhat.com", "date": "2001-08-30T18:20:33Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "2001-08-30T18:20:33Z"}, "message": "config.gcc (h8300-*-elf*): New case.\n\n\t* config.gcc (h8300-*-elf*): New case.\n\t* h8300.h (CPP_SPEC): Add subtarget_cpp_spec.\n\t(SUBTARGET_CPP_SPEC): Define.\n\t(EXTRA_SPECS): Define.\n\t(SUBTARGET_EXTRA_SPECS): Define.\n\t* config/h8300/crti.asm, config/h8300/crtn.asm: New files.\n\t* config/h8300/elf.h, config/h8300/t-elf: Likewise.\n\nFrom-SVN: r45293", "tree": {"sha": "a6487aa848a0a3c0324defb5115d079d731ee13f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a6487aa848a0a3c0324defb5115d079d731ee13f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f4926e194af6731b14aadb181cf7aa0d1f331e52", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4926e194af6731b14aadb181cf7aa0d1f331e52", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4926e194af6731b14aadb181cf7aa0d1f331e52", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4926e194af6731b14aadb181cf7aa0d1f331e52/comments", "author": null, "committer": null, "parents": [{"sha": "8c062645a6f2df8913a706149a8181e021e4aea6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c062645a6f2df8913a706149a8181e021e4aea6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8c062645a6f2df8913a706149a8181e021e4aea6"}], "stats": {"total": 159, "additions": 158, "deletions": 1}, "files": [{"sha": "23b7a1e3c1d753f58893dd6af8a1d7a5be4102fd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4926e194af6731b14aadb181cf7aa0d1f331e52/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4926e194af6731b14aadb181cf7aa0d1f331e52/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f4926e194af6731b14aadb181cf7aa0d1f331e52", "patch": "@@ -1,3 +1,13 @@\n+Thu Aug 30 16:22:41 2001  J\"orn Rennecke <amylaar@redhat.com>\n+\n+\t* config.gcc (h8300-*-elf*): New case.\n+\t* h8300.h (CPP_SPEC): Add subtarget_cpp_spec.\n+\t(SUBTARGET_CPP_SPEC): Define.\n+\t(EXTRA_SPECS): Define.\n+\t(SUBTARGET_EXTRA_SPECS): Define.\n+\t* config/h8300/crti.asm, config/h8300/crtn.asm: New files.\n+\t* config/h8300/elf.h, config/h8300/t-elf: Likewise.\n+\n Thu Aug 30 18:50:37 2001  J\"orn Rennecke <amylaar@redhat.com>\n \n \t* t-h8300 (LIB1ASMFUNCS): Add _fixunssfdi and _fixunssfsi_asm."}, {"sha": "2ebd15f007533bc20b5ba90ab20645989d152936", "filename": "gcc/config/h8300/crti.asm", "status": "added", "additions": 53, "deletions": 0, "changes": 53, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4926e194af6731b14aadb181cf7aa0d1f331e52/gcc%2Fconfig%2Fh8300%2Fcrti.asm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4926e194af6731b14aadb181cf7aa0d1f331e52/gcc%2Fconfig%2Fh8300%2Fcrti.asm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Fcrti.asm?ref=f4926e194af6731b14aadb181cf7aa0d1f331e52", "patch": "@@ -0,0 +1,53 @@\n+/* Copyright (C) 2001 Free Software Foundation, Inc.\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify it\n+under the terms of the GNU General Public License as published by the\n+Free Software Foundation; either version 2, or (at your option) any\n+later version.\n+\n+In addition to the permissions in the GNU General Public License, the\n+Free Software Foundation gives you unlimited permission to link the\n+compiled version of this file into combinations with other programs,\n+and to distribute those combinations without any restriction coming\n+from the use of this file.  (The General Public License restrictions\n+do apply in other respects; for example, they cover modification of\n+the file, and distribution when not linked into a combine\n+executable.)\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with this program; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+/* The code in sections .init and .fini is supposed to be a single\n+   regular function.  The function in .init is called directly from\n+   start in crt1.asm.  The function in .fini is atexit()ed in crt1.asm\n+   too.\n+\n+   crti.asm contributes the prologue of a function to these sections,\n+   and crtn.asm comes up the epilogue.  STARTFILE_SPEC should list\n+   crti.o before any other object files that might add code to .init\n+   or .fini sections, and ENDFILE_SPEC should list crtn.o after any\n+   such object files.  */\n+\n+#ifdef __H8300H__\n+\t.h8300h\n+#endif\n+\n+#ifdef __H8300S__\n+\t.h8300s\n+#endif\n+\n+\t.section .init\n+        .global  __init\n+__init:\n+        .section .fini\n+        .global  __fini\n+__fini:  "}, {"sha": "fe29fe64d4cc084f25bbd8b786c8277ba92ff69b", "filename": "gcc/config/h8300/crtn.asm", "status": "added", "additions": 43, "deletions": 0, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4926e194af6731b14aadb181cf7aa0d1f331e52/gcc%2Fconfig%2Fh8300%2Fcrtn.asm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4926e194af6731b14aadb181cf7aa0d1f331e52/gcc%2Fconfig%2Fh8300%2Fcrtn.asm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Fcrtn.asm?ref=f4926e194af6731b14aadb181cf7aa0d1f331e52", "patch": "@@ -0,0 +1,43 @@\n+/* Copyright (C) 2001 Free Software Foundation, Inc.\n+   This file was adapted from glibc sources.\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify it\n+under the terms of the GNU General Public License as published by the\n+Free Software Foundation; either version 2, or (at your option) any\n+later version.\n+\n+In addition to the permissions in the GNU General Public License, the\n+Free Software Foundation gives you unlimited permission to link the\n+compiled version of this file into combinations with other programs,\n+and to distribute those combinations without any restriction coming\n+from the use of this file.  (The General Public License restrictions\n+do apply in other respects; for example, they cover modification of\n+the file, and distribution when not linked into a combine\n+executable.)\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with this program; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+/* See an explanation about .init and .fini in crti.asm.  */\n+\n+#ifdef __H8300H__\n+\t.h8300h\n+#endif\n+\n+#ifdef __H8300S__\n+\t.h8300s\n+#endif\n+\t.section .init\n+\trts\n+\n+\t.section .fini\n+\trts"}, {"sha": "e23af4a4024e1ed38a2ee85424f45b6fd3d6743e", "filename": "gcc/config/h8300/elf.h", "status": "added", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4926e194af6731b14aadb181cf7aa0d1f331e52/gcc%2Fconfig%2Fh8300%2Felf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4926e194af6731b14aadb181cf7aa0d1f331e52/gcc%2Fconfig%2Fh8300%2Felf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Felf.h?ref=f4926e194af6731b14aadb181cf7aa0d1f331e52", "patch": "@@ -0,0 +1,36 @@\n+#undef SUBTARGET_CPP_SPEC\n+#define SUBTARGET_CPP_SPEC \"-D__ELF__\"\n+\n+/* Undefine some macros defined in h8300 that conflict with elfos.h .  */\n+#undef SDB_DEBUGGING_INFO\n+#undef DBX_DEBUGGING_INFO\n+#undef ASM_OUTPUT_IDENT\n+#undef IDENT_ASM_OP\n+#undef CTORS_SECTION_ASM_OP\n+#undef DTORS_SECTION_ASM_OP\n+#undef INIT_SECTION_ASM_OP\n+#undef READONLY_DATA_SECTION\n+#undef ASM_OUTPUT_CONSTRUCTOR\n+#undef ASM_OUTPUT_DESTRUCTOR\n+#undef TARGET_ASM_NAMED_SECTION\n+#undef TARGET_MEM_FUNCTIONS\n+#undef PREFERRED_DEBUGGING_TYPE\n+/* ??? h8300.h defines PCC_BITFIELD_TYPE_MATTERS to 0, but it\n+   doesn't define STRUCTURE_SIZE_BOUNDARY, nor does h8300.md\n+   have a full set of bit field instructions.  */\n+#undef PCC_BITFIELD_TYPE_MATTERS\n+\n+#define PREFERRED_DEBUGGING_TYPE DWARF2_DEBUG\n+\n+#include \"elfos.h\"\n+\n+/* Output at beginning/end of assembler file.  */\n+#undef ASM_FILE_START\n+#define ASM_FILE_START(FILE)                            \\\n+  (output_file_directive ((FILE), main_input_filename), \\\n+   asm_file_start (FILE))\n+\n+#undef USER_LABEL_PREFIX\n+#define USER_LABEL_PREFIX \"_\"\n+\n+#define JUMP_TABLES_IN_TEXT_SECTION (flag_pic)"}, {"sha": "6ec826e096003bacb81341d563fd82088217ecc5", "filename": "gcc/config/h8300/h8300.h", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4926e194af6731b14aadb181cf7aa0d1f331e52/gcc%2Fconfig%2Fh8300%2Fh8300.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4926e194af6731b14aadb181cf7aa0d1f331e52/gcc%2Fconfig%2Fh8300%2Fh8300.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Fh8300.h?ref=f4926e194af6731b14aadb181cf7aa0d1f331e52", "patch": "@@ -50,12 +50,21 @@ extern const char * const *h8_reg_names;\n    %{!mh:%{!ms:-Acpu=h8300 -Amachine=h8300}} \\\n    %{mh:-Acpu=h8300h -Amachine=h8300h} \\\n    %{ms:-Acpu=h8300s -Amachine=h8300s} \\\n-   %{!mint32:-D__INT_MAX__=32767} %{mint32:-D__INT_MAX__=2147483647}\"\n+   %{!mint32:-D__INT_MAX__=32767} %{mint32:-D__INT_MAX__=2147483647} \\\n+   %(subtarget_cpp_spec)\"\n+\n+#define SUBTARGET_CPP_SPEC \"\"\n \n #define LINK_SPEC \"%{mh:-m h8300h} %{ms:-m h8300s}\"\n \n #define LIB_SPEC \"%{mrelax:-relax} %{g:-lg} %{!p:%{!pg:-lc}}%{p:-lc_p}%{pg:-lc_p}\"\n \n+#define EXTRA_SPECS\t\t\t\t\t\t\\\n+  { \"subtarget_cpp_spec\", SUBTARGET_CPP_SPEC },\t\\\n+  SUBTARGET_EXTRA_SPECS\n+\n+#define SUBTARGET_EXTRA_SPECS\n+\n /* Print subsidiary information on the compiler version in use.  */\n \n #define TARGET_VERSION fprintf (stderr, \" (Hitachi H8/300)\");"}, {"sha": "c1f1dac32c79d7336dded6b6092dd4e072eca58f", "filename": "gcc/config/h8300/t-elf", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4926e194af6731b14aadb181cf7aa0d1f331e52/gcc%2Fconfig%2Fh8300%2Ft-elf", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4926e194af6731b14aadb181cf7aa0d1f331e52/gcc%2Fconfig%2Fh8300%2Ft-elf", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Ft-elf?ref=f4926e194af6731b14aadb181cf7aa0d1f331e52", "patch": "@@ -0,0 +1,6 @@\n+EXTRA_MULTILIB_PARTS= crti.o crtn.o crtbegin.o crtend.o\n+\n+$(T)crti.o: $(srcdir)/config/h8300/crti.asm $(GCC_PASSES)\n+\t$(GCC_FOR_TARGET) $(MULTILIB_CFLAGS) -c -o $(T)crti.o -x assembler-with-cpp $(srcdir)/config/h8300/crti.asm\n+$(T)crtn.o: $(srcdir)/config/h8300/crtn.asm $(GCC_PASSES)\n+\t$(GCC_FOR_TARGET) $(MULTILIB_CFLAGS) -c -o $(T)crtn.o -x assembler-with-cpp $(srcdir)/config/h8300/crtn.asm"}]}