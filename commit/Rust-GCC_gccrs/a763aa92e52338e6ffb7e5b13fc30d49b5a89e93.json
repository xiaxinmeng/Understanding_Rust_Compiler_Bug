{"sha": "a763aa92e52338e6ffb7e5b13fc30d49b5a89e93", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTc2M2FhOTJlNTIzMzhlNmZmYjdlNWIxM2ZjMzBkNDliNWE4OWU5Mw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-02-01T00:02:58Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-02-01T00:02:58Z"}, "message": "compiler: Don't crash on type switch case nil with selector.\n\nFrom-SVN: r183782", "tree": {"sha": "7a4e86ee3eebcb79ef218195e079b012dade5d34", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7a4e86ee3eebcb79ef218195e079b012dade5d34"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a763aa92e52338e6ffb7e5b13fc30d49b5a89e93", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a763aa92e52338e6ffb7e5b13fc30d49b5a89e93", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a763aa92e52338e6ffb7e5b13fc30d49b5a89e93", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a763aa92e52338e6ffb7e5b13fc30d49b5a89e93/comments", "author": null, "committer": null, "parents": [{"sha": "7d18953823ddbc315831578e6a7038a6138036c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d18953823ddbc315831578e6a7038a6138036c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7d18953823ddbc315831578e6a7038a6138036c8"}], "stats": {"total": 21, "additions": 19, "deletions": 2}, "files": [{"sha": "c65e47f67451c57532630c45ce77873c5ba6bd64", "filename": "gcc/go/gofrontend/gogo.cc", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a763aa92e52338e6ffb7e5b13fc30d49b5a89e93/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a763aa92e52338e6ffb7e5b13fc30d49b5a89e93/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fgogo.cc?ref=a763aa92e52338e6ffb7e5b13fc30d49b5a89e93", "patch": "@@ -3848,6 +3848,24 @@ Variable::add_preinit_statement(Gogo* gogo, Statement* s)\n   b->set_end_location(s->location());\n }\n \n+// Whether this variable has a type.\n+\n+bool\n+Variable::has_type() const\n+{\n+  if (this->type_ == NULL)\n+    return false;\n+\n+  // A variable created in a type switch case nil does not actually\n+  // have a type yet.  It will be changed to use the initializer's\n+  // type in determine_type.\n+  if (this->is_type_switch_var_\n+      && this->type_->is_nil_constant_as_type())\n+    return false;\n+\n+  return true;\n+}\n+\n // In an assignment which sets a variable to a tuple of EXPR, return\n // the type of the first element of the tuple.\n "}, {"sha": "2231e5dba5ba9e5fb60cbd32d7af1358397d78cf", "filename": "gcc/go/gofrontend/gogo.h", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a763aa92e52338e6ffb7e5b13fc30d49b5a89e93/gcc%2Fgo%2Fgofrontend%2Fgogo.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a763aa92e52338e6ffb7e5b13fc30d49b5a89e93/gcc%2Fgo%2Fgofrontend%2Fgogo.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fgogo.h?ref=a763aa92e52338e6ffb7e5b13fc30d49b5a89e93", "patch": "@@ -1154,8 +1154,7 @@ class Variable\n \n   // Return whether the type is defined yet.\n   bool\n-  has_type() const\n-  { return this->type_ != NULL; }\n+  has_type() const;\n \n   // Get the initial value.\n   Expression*"}]}