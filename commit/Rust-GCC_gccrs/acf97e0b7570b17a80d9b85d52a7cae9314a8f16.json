{"sha": "acf97e0b7570b17a80d9b85d52a7cae9314a8f16", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWNmOTdlMGI3NTcwYjE3YTgwZDliODVkNTJhN2NhZTkzMTRhOGYxNg==", "commit": {"author": {"name": "John David Anglin", "email": "dave@hiauly1.hia.nrc.ca", "date": "2001-06-06T17:10:52Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2001-06-06T17:10:52Z"}, "message": "call.c (convert_default_arg): Use INTEGRAL_TYPE_P.\n\n\t* call.c (convert_default_arg): Use INTEGRAL_TYPE_P.\n\t(build_over_call): Likewise.\n\t* decl.c (grokparms): Likewise.\n\t* pt.c (tsubst_decl): Likewise.\n\t* typeck.c (convert_arguments): Likewise.\n\nFrom-SVN: r42947", "tree": {"sha": "8720a33770a18fc19865846a2f4da64d2589f425", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8720a33770a18fc19865846a2f4da64d2589f425"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/acf97e0b7570b17a80d9b85d52a7cae9314a8f16", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/acf97e0b7570b17a80d9b85d52a7cae9314a8f16", "html_url": "https://github.com/Rust-GCC/gccrs/commit/acf97e0b7570b17a80d9b85d52a7cae9314a8f16", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/acf97e0b7570b17a80d9b85d52a7cae9314a8f16/comments", "author": null, "committer": null, "parents": [{"sha": "ef6257cdab743c387b512bfaec9d8fa7db79d6c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ef6257cdab743c387b512bfaec9d8fa7db79d6c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ef6257cdab743c387b512bfaec9d8fa7db79d6c8"}], "stats": {"total": 23, "additions": 13, "deletions": 10}, "files": [{"sha": "4e458c549caf0690c54b49fd2496b12fb0b7b464", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/acf97e0b7570b17a80d9b85d52a7cae9314a8f16/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/acf97e0b7570b17a80d9b85d52a7cae9314a8f16/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=acf97e0b7570b17a80d9b85d52a7cae9314a8f16", "patch": "@@ -1,3 +1,11 @@\n+2001-06-06  John David Anglin  <dave@hiauly1.hia.nrc.ca>\n+\n+\t* call.c (convert_default_arg): Use INTEGRAL_TYPE_P.\n+\t(build_over_call): Likewise.\n+\t* decl.c (grokparms): Likewise.\n+\t* pt.c (tsubst_decl): Likewise.\n+\t* typeck.c (convert_arguments): Likewise.\n+\n 2001-06-05  Mark Mitchell  <mark@codesourcery.com>\n \n \t* semantics.c (begin_class_definition): Robustify."}, {"sha": "f09659acbcc3bf57d6b933c967fcad427874d086", "filename": "gcc/cp/call.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/acf97e0b7570b17a80d9b85d52a7cae9314a8f16/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/acf97e0b7570b17a80d9b85d52a7cae9314a8f16/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=acf97e0b7570b17a80d9b85d52a7cae9314a8f16", "patch": "@@ -4054,8 +4054,7 @@ convert_default_arg (type, arg, fn, parmnum)\n       arg = convert_for_initialization (0, type, arg, LOOKUP_NORMAL,\n \t\t\t\t\t\"default argument\", fn, parmnum);\n       if (PROMOTE_PROTOTYPES\n-\t  && (TREE_CODE (type) == INTEGER_TYPE\n-\t      || TREE_CODE (type) == ENUMERAL_TYPE)\n+\t  && INTEGRAL_TYPE_P (type)\n \t  && (TYPE_PRECISION (type) < TYPE_PRECISION (integer_type_node)))\n \targ = default_conversion (arg);\n     }\n@@ -4171,8 +4170,7 @@ build_over_call (cand, args, flags)\n \t}\n \n       if (PROMOTE_PROTOTYPES\n-\t  && (TREE_CODE (type) == INTEGER_TYPE\n-\t      || TREE_CODE (type) == ENUMERAL_TYPE)\n+\t  && INTEGRAL_TYPE_P (type)\n \t  && (TYPE_PRECISION (type) < TYPE_PRECISION (integer_type_node)))\n \tval = default_conversion (val);\n       converted_args = tree_cons (NULL_TREE, val, converted_args);"}, {"sha": "ed5686c501f486656561f25dc63f5be944134e6f", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/acf97e0b7570b17a80d9b85d52a7cae9314a8f16/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/acf97e0b7570b17a80d9b85d52a7cae9314a8f16/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=acf97e0b7570b17a80d9b85d52a7cae9314a8f16", "patch": "@@ -11970,8 +11970,7 @@ grokparms (first_parm)\n \n \t  DECL_ARG_TYPE (decl) = TREE_TYPE (decl);\n \t  if (PROMOTE_PROTOTYPES\n-\t      && (TREE_CODE (type) == INTEGER_TYPE\n-\t\t  || TREE_CODE (type) == ENUMERAL_TYPE)\n+\t      && INTEGRAL_TYPE_P (type)\n \t      && TYPE_PRECISION (type) < TYPE_PRECISION (integer_type_node))\n \t    DECL_ARG_TYPE (decl) = integer_type_node;\n \t  if (!any_error && init)"}, {"sha": "1c9e6593a3062edc87a3c7414b2b6f3732a23e3d", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/acf97e0b7570b17a80d9b85d52a7cae9314a8f16/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/acf97e0b7570b17a80d9b85d52a7cae9314a8f16/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=acf97e0b7570b17a80d9b85d52a7cae9314a8f16", "patch": "@@ -5883,8 +5883,7 @@ tsubst_decl (t, args, type)\n \n \tDECL_CONTEXT (r) = NULL_TREE;\n \tif (PROMOTE_PROTOTYPES\n-\t    && (TREE_CODE (type) == INTEGER_TYPE\n-\t\t|| TREE_CODE (type) == ENUMERAL_TYPE)\n+\t    && INTEGRAL_TYPE_P (type)\n \t    && TYPE_PRECISION (type) < TYPE_PRECISION (integer_type_node))\n \t  DECL_ARG_TYPE (r) = integer_type_node;\n \tif (TREE_CHAIN (t))"}, {"sha": "01805c664faac8864ff10757f8c2209aa7a76d5b", "filename": "gcc/cp/typeck.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/acf97e0b7570b17a80d9b85d52a7cae9314a8f16/gcc%2Fcp%2Ftypeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/acf97e0b7570b17a80d9b85d52a7cae9314a8f16/gcc%2Fcp%2Ftypeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftypeck.c?ref=acf97e0b7570b17a80d9b85d52a7cae9314a8f16", "patch": "@@ -3234,8 +3234,7 @@ convert_arguments (typelist, values, fndecl, flags)\n \t\t(NULL_TREE, type, val, flags,\n \t\t \"argument passing\", fndecl, i);\n \t      if (PROMOTE_PROTOTYPES\n-\t\t  && (TREE_CODE (type) == INTEGER_TYPE\n-\t\t      || TREE_CODE (type) == ENUMERAL_TYPE)\n+\t\t  && INTEGRAL_TYPE_P (type)\n \t\t  && (TYPE_PRECISION (type)\n \t\t      < TYPE_PRECISION (integer_type_node)))\n \t\tparmval = default_conversion (parmval);"}]}