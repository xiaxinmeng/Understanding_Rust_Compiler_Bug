{"sha": "f3f735eb70c33e4659e9d101c10492d6ff2aec23", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjNmNzM1ZWI3MGMzM2U0NjU5ZTlkMTAxYzEwNDkyZDZmZjJhZWMyMw==", "commit": {"author": {"name": "Robert Abeles", "email": "rabeles@archaelogic.com", "date": "2003-06-18T05:58:55Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2003-06-18T05:58:55Z"}, "message": "re PR debug/4252 (cc1: Invalid option `-fdump-translation-unit')\n\n\tPR debug/4252\n\t* c-opts.c (c_common_handle_option): Pass -fdump argument suffix\n\tto dump_switch_p().\n\t* tree-dump.c (dump_switch_p): Remove redundant 'dump-' prefix\n\tfrom static strings in dump_files.\ncp:\n\t* optimize.c (dump_function): Form complete flag name by\n\tprefixing 'fdump-' to string returned by dump_flag_name().\njava:\n\t* lang.c (java_handle_option): Likewise.\n\nFrom-SVN: r68137", "tree": {"sha": "3f54ce2377191943369a5c1d59ec499eec18a0bc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3f54ce2377191943369a5c1d59ec499eec18a0bc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f3f735eb70c33e4659e9d101c10492d6ff2aec23", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3f735eb70c33e4659e9d101c10492d6ff2aec23", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f3f735eb70c33e4659e9d101c10492d6ff2aec23", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3f735eb70c33e4659e9d101c10492d6ff2aec23/comments", "author": null, "committer": null, "parents": [{"sha": "a1af4623ea5217822d3029c131d3f08904d914e1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a1af4623ea5217822d3029c131d3f08904d914e1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a1af4623ea5217822d3029c131d3f08904d914e1"}], "stats": {"total": 35, "additions": 26, "deletions": 9}, "files": [{"sha": "c92cd9dfae31aa39605d0784290a44e83c12767d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3f735eb70c33e4659e9d101c10492d6ff2aec23/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3f735eb70c33e4659e9d101c10492d6ff2aec23/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f3f735eb70c33e4659e9d101c10492d6ff2aec23", "patch": "@@ -1,3 +1,11 @@\n+2003-06-17  Robert Abeles  <rabeles@archaelogic.com>\n+\n+\tPR debug/4252\n+\t* c-opts.c (c_common_handle_option): Pass -fdump argument suffix\n+\tto dump_switch_p().\n+\t* tree-dump.c (dump_switch_p): Remove redundant 'dump-' prefix\n+\tfrom static strings in dump_files.\n+\n 2003-06-17  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* system.h (ANSI_PROTOTYPES, PTR_CONST, LONG_DOUBLE, VPARAMS,"}, {"sha": "4d6ccd2932acb6c4d9487c2f55600a21f4d74a8f", "filename": "gcc/c-opts.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3f735eb70c33e4659e9d101c10492d6ff2aec23/gcc%2Fc-opts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3f735eb70c33e4659e9d101c10492d6ff2aec23/gcc%2Fc-opts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-opts.c?ref=f3f735eb70c33e4659e9d101c10492d6ff2aec23", "patch": "@@ -740,7 +740,7 @@ c_common_handle_option (size_t scode, const char *arg, int value)\n       break;\n \n     case OPT_fdump_:\n-      if (!dump_switch_p (option->opt_text + strlen (\"f\")))\n+      if (!dump_switch_p (arg))\n \tresult = 0;\n       break;\n "}, {"sha": "96b21ffd3ed61e037b421a1c2970b08ec9447bd9", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3f735eb70c33e4659e9d101c10492d6ff2aec23/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3f735eb70c33e4659e9d101c10492d6ff2aec23/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=f3f735eb70c33e4659e9d101c10492d6ff2aec23", "patch": "@@ -1,3 +1,8 @@\n+2003-06-17  Robert Abeles  <rabeles@archaelogic.com>\n+\n+\t* optimize.c (dump_function): Form complete flag name by\n+\tprefixing 'fdump-' to string returned by dump_flag_name().\n+\n 2003-06-17  Mark Mitchell  <mark@codesourcery.com>\n \n \t* mangle.c (mangle_conv_op_name_for_type): Correct sprintf format"}, {"sha": "b5d0f8f28ded297d98fdaaf95ccbe401e216488a", "filename": "gcc/cp/optimize.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3f735eb70c33e4659e9d101c10492d6ff2aec23/gcc%2Fcp%2Foptimize.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3f735eb70c33e4659e9d101c10492d6ff2aec23/gcc%2Fcp%2Foptimize.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Foptimize.c?ref=f3f735eb70c33e4659e9d101c10492d6ff2aec23", "patch": "@@ -288,7 +288,7 @@ dump_function (enum tree_dump_index phase, tree fn)\n \t       decl_as_string (fn, TFF_DECL_SPECIFIERS));\n       fprintf (stream, \" (%s)\\n\",\n \t       decl_as_string (DECL_ASSEMBLER_NAME (fn), 0));\n-      fprintf (stream, \";; enabled by -%s\\n\", dump_flag_name (phase));\n+      fprintf (stream, \";; enabled by -fdump-%s\\n\", dump_flag_name (phase));\n       fprintf (stream, \"\\n\");\n       \n       dump_node (fn, TDF_SLIM | flags, stream);"}, {"sha": "b370870e7c9cd38d5bd1b1e52f289f2b1429ae83", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3f735eb70c33e4659e9d101c10492d6ff2aec23/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3f735eb70c33e4659e9d101c10492d6ff2aec23/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=f3f735eb70c33e4659e9d101c10492d6ff2aec23", "patch": "@@ -1,3 +1,7 @@\n+2003-06-17  Robert Abeles  <rabeles@archaelogic.com>\n+\n+\t* lang.c (java_handle_option): Likewise.\n+\n 2003-06-16  Neil Booth  <neil@daikokuya.co.uk>\n \n \t* lang.c (java_handle_option): Special-casing of optional"}, {"sha": "e389ddc665025c3720820cb3b31f139688510219", "filename": "gcc/java/lang.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3f735eb70c33e4659e9d101c10492d6ff2aec23/gcc%2Fjava%2Flang.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3f735eb70c33e4659e9d101c10492d6ff2aec23/gcc%2Fjava%2Flang.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Flang.c?ref=f3f735eb70c33e4659e9d101c10492d6ff2aec23", "patch": "@@ -376,7 +376,7 @@ java_handle_option (size_t scode, const char *arg, int value)\n       break;\n \n     case OPT_fdump_:\n-      if (!dump_switch_p (option->opt_text + strlen (\"f\")))\n+      if (!dump_switch_p (arg))\n \treturn 0;\n       break;\n "}, {"sha": "c6e92e65c1ff4a6c37f0abc1ae4f0373ea64c795", "filename": "gcc/tree-dump.c", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3f735eb70c33e4659e9d101c10492d6ff2aec23/gcc%2Ftree-dump.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3f735eb70c33e4659e9d101c10492d6ff2aec23/gcc%2Ftree-dump.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-dump.c?ref=f3f735eb70c33e4659e9d101c10492d6ff2aec23", "patch": "@@ -646,11 +646,11 @@ struct dump_file_info\n    TREE_DUMP_INDEX enumeration in tree.h */\n static struct dump_file_info dump_files[TDI_end] =\n {\n-  {\".tu\", \"dump-translation-unit\", 0, 0},\n-  {\".class\", \"dump-class-hierarchy\", 0, 0},\n-  {\".original\", \"dump-tree-original\", 0, 0},\n-  {\".optimized\", \"dump-tree-optimized\", 0, 0},\n-  {\".inlined\", \"dump-tree-inlined\", 0, 0},\n+  {\".tu\", \"translation-unit\", 0, 0},\n+  {\".class\", \"class-hierarchy\", 0, 0},\n+  {\".original\", \"tree-original\", 0, 0},\n+  {\".optimized\", \"tree-optimized\", 0, 0},\n+  {\".inlined\", \"tree-inlined\", 0, 0},\n };\n \n /* Define a name->number mapping for a dump flag value.  */\n@@ -758,7 +758,7 @@ dump_switch_p (const char *arg)\n \t\t  flags |= option_ptr->value;\n \t\t  goto found;\n \t\t}\n-\t    warning (\"ignoring unknown option `%.*s' in `-f%s'\",\n+\t    warning (\"ignoring unknown option `%.*s' in `-fdump-%s'\",\n \t\t     length, ptr, dump_files[ix].swtch);\n \t  found:;\n \t    ptr = end_ptr;"}]}