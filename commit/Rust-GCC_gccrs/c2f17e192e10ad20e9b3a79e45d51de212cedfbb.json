{"sha": "c2f17e192e10ad20e9b3a79e45d51de212cedfbb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzJmMTdlMTkyZTEwYWQyMGU5YjNhNzllNDVkNTFkZTIxMmNlZGZiYg==", "commit": {"author": {"name": "Uros Bizjak", "email": "ubizjak@gmail.com", "date": "2007-11-14T14:14:13Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2007-11-14T14:14:13Z"}, "message": "i386.h (TARGET_CPU_DEFAULT_*): Substitute with ...\n\n\t* config/i386/i386.h (TARGET_CPU_DEFAULT_*): Substitute with ...\n\t(enum target_cpu_default): ... this enum.\n\t(TARGET_CPU_DEFAULT_NAMES): Remove macro.  Move initializer to ...\n\t* config/i386/i386.c (override_options): ... here.\n\t* config/i386/i386-interix.h (TARGET_CPU_DEFAULT): Use\n\tTARGET_CPU_DEFAULT_i486.\n\nFrom-SVN: r130177", "tree": {"sha": "4c418231cfed4e0ffcb9aacbe5d00230724912d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4c418231cfed4e0ffcb9aacbe5d00230724912d5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c2f17e192e10ad20e9b3a79e45d51de212cedfbb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2f17e192e10ad20e9b3a79e45d51de212cedfbb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2f17e192e10ad20e9b3a79e45d51de212cedfbb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2f17e192e10ad20e9b3a79e45d51de212cedfbb/comments", "author": {"login": "ubizjak", "id": 55479990, "node_id": "MDQ6VXNlcjU1NDc5OTkw", "avatar_url": "https://avatars.githubusercontent.com/u/55479990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubizjak", "html_url": "https://github.com/ubizjak", "followers_url": "https://api.github.com/users/ubizjak/followers", "following_url": "https://api.github.com/users/ubizjak/following{/other_user}", "gists_url": "https://api.github.com/users/ubizjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubizjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubizjak/subscriptions", "organizations_url": "https://api.github.com/users/ubizjak/orgs", "repos_url": "https://api.github.com/users/ubizjak/repos", "events_url": "https://api.github.com/users/ubizjak/events{/privacy}", "received_events_url": "https://api.github.com/users/ubizjak/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "359125444fe8f0205ae6d262eb23acde027f6602", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/359125444fe8f0205ae6d262eb23acde027f6602", "html_url": "https://github.com/Rust-GCC/gccrs/commit/359125444fe8f0205ae6d262eb23acde027f6602"}], "stats": {"total": 95, "additions": 64, "deletions": 31}, "files": [{"sha": "bff34b257ebec540088be4383fa120f187e88161", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2f17e192e10ad20e9b3a79e45d51de212cedfbb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2f17e192e10ad20e9b3a79e45d51de212cedfbb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c2f17e192e10ad20e9b3a79e45d51de212cedfbb", "patch": "@@ -1,3 +1,12 @@\n+2007-11-14  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\t* config/i386/i386.h (TARGET_CPU_DEFAULT_*): Substitute with ...\n+\t(enum target_cpu_default): ... this enum.\n+\t(TARGET_CPU_DEFAULT_NAMES): Remove macro.  Move initializer to ...\n+\t* config/i386/i386.c (override_options): ... here.\n+\t* config/i386/i386-interix.h (TARGET_CPU_DEFAULT): Use\n+\tTARGET_CPU_DEFAULT_i486.\n+\n 2007-11-14  Rask Ingemann Lambertsen  <rask@sygehus.dk>\n \n \t* global.c (rest_of_handle_global_alloc): Fix comment typos."}, {"sha": "701536049e3df40d3848692c6fa247505bb57917", "filename": "gcc/config/i386/i386-interix.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2f17e192e10ad20e9b3a79e45d51de212cedfbb/gcc%2Fconfig%2Fi386%2Fi386-interix.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2f17e192e10ad20e9b3a79e45d51de212cedfbb/gcc%2Fconfig%2Fi386%2Fi386-interix.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386-interix.h?ref=c2f17e192e10ad20e9b3a79e45d51de212cedfbb", "patch": "@@ -43,7 +43,7 @@ along with GCC; see the file COPYING3.  If not see\n     MASK_ALIGN_DOUBLE | MASK_MS_BITFIELD_LAYOUT)\n \n #undef TARGET_CPU_DEFAULT\n-#define TARGET_CPU_DEFAULT 2 /* 486 */\n+#define TARGET_CPU_DEFAULT TARGET_CPU_DEFAULT_i486\n \n #define WCHAR_TYPE_SIZE 16\n #define WCHAR_TYPE \"short unsigned int\""}, {"sha": "f3bbf72e6e3c94b1d60129aeb929f6bdd04ee0b3", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 26, "deletions": 2, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2f17e192e10ad20e9b3a79e45d51de212cedfbb/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2f17e192e10ad20e9b3a79e45d51de212cedfbb/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=c2f17e192e10ad20e9b3a79e45d51de212cedfbb", "patch": "@@ -1963,7 +1963,31 @@ override_options (void)\n       {&amdfam10_cost, 32, 24, 32, 7, 32}\n     };\n \n-  static const char * const cpu_names[] = TARGET_CPU_DEFAULT_NAMES;\n+  static const char *const cpu_names[TARGET_CPU_DEFAULT_max] =\n+    {\n+      \"generic\",\n+      \"i386\",\n+      \"i486\",\n+      \"pentium\",\n+      \"pentium-mmx\",\n+      \"pentiumpro\",\n+      \"pentium2\",\n+      \"pentium3\",\n+      \"pentium4\",\n+      \"pentium-m\",\n+      \"prescott\",\n+      \"nocona\",\n+      \"core2\",\n+      \"geode\",\n+      \"k6\",\n+      \"k6-2\",\n+      \"k6-3\",\n+      \"athlon\",\n+      \"athlon-4\",\n+      \"k8\",\n+      \"amdfam10\"\n+    };\n+\n   enum pta_flags\n     {\n       PTA_SSE = 1 << 0,\n@@ -2138,7 +2162,7 @@ override_options (void)\n \tix86_tune_string = ix86_arch_string;\n       if (!ix86_tune_string)\n \t{\n-\t  ix86_tune_string = cpu_names [TARGET_CPU_DEFAULT];\n+\t  ix86_tune_string = cpu_names[TARGET_CPU_DEFAULT];\n \t  ix86_tune_defaulted = 1;\n \t}\n "}, {"sha": "872425e4b5f86ee2fad8771d1fb3234e3236dc68", "filename": "gcc/config/i386/i386.h", "status": "modified", "additions": 28, "deletions": 28, "changes": 56, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2f17e192e10ad20e9b3a79e45d51de212cedfbb/gcc%2Fconfig%2Fi386%2Fi386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2f17e192e10ad20e9b3a79e45d51de212cedfbb/gcc%2Fconfig%2Fi386%2Fi386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.h?ref=c2f17e192e10ad20e9b3a79e45d51de212cedfbb", "patch": "@@ -688,34 +688,34 @@ extern const char *host_detect_local_cpu (int argc, const char **argv);\n     }\t\t\t\t\t\t\t\t\\\n   while (0)\n \n-#define TARGET_CPU_DEFAULT_i386 0\n-#define TARGET_CPU_DEFAULT_i486 1\n-#define TARGET_CPU_DEFAULT_pentium 2\n-#define TARGET_CPU_DEFAULT_pentium_mmx 3\n-#define TARGET_CPU_DEFAULT_pentiumpro 4\n-#define TARGET_CPU_DEFAULT_pentium2 5\n-#define TARGET_CPU_DEFAULT_pentium3 6\n-#define TARGET_CPU_DEFAULT_pentium4 7\n-#define TARGET_CPU_DEFAULT_geode 8\n-#define TARGET_CPU_DEFAULT_k6 9\n-#define TARGET_CPU_DEFAULT_k6_2 10\n-#define TARGET_CPU_DEFAULT_k6_3 11\n-#define TARGET_CPU_DEFAULT_athlon 12\n-#define TARGET_CPU_DEFAULT_athlon_sse 13\n-#define TARGET_CPU_DEFAULT_k8 14\n-#define TARGET_CPU_DEFAULT_pentium_m 15\n-#define TARGET_CPU_DEFAULT_prescott 16\n-#define TARGET_CPU_DEFAULT_nocona 17\n-#define TARGET_CPU_DEFAULT_core2 18\n-#define TARGET_CPU_DEFAULT_generic 19\n-#define TARGET_CPU_DEFAULT_amdfam10 20\n-\n-#define TARGET_CPU_DEFAULT_NAMES {\"i386\", \"i486\", \"pentium\", \"pentium-mmx\",\\\n-\t\t\t\t  \"pentiumpro\", \"pentium2\", \"pentium3\", \\\n-                                  \"pentium4\", \"geode\", \"k6\", \"k6-2\", \"k6-3\", \\\n-\t\t\t\t  \"athlon\", \"athlon-4\", \"k8\", \\\n-\t\t\t\t  \"pentium-m\", \"prescott\", \"nocona\", \\\n-\t\t\t\t  \"core2\", \"generic\", \"amdfam10\"}\n+enum target_cpu_default\n+{\n+  TARGET_CPU_DEFAULT_generic = 0,\n+\n+  TARGET_CPU_DEFAULT_i386,\n+  TARGET_CPU_DEFAULT_i486,\n+  TARGET_CPU_DEFAULT_pentium,\n+  TARGET_CPU_DEFAULT_pentium_mmx,\n+  TARGET_CPU_DEFAULT_pentiumpro,\n+  TARGET_CPU_DEFAULT_pentium2,\n+  TARGET_CPU_DEFAULT_pentium3,\n+  TARGET_CPU_DEFAULT_pentium4,\n+  TARGET_CPU_DEFAULT_pentium_m,\n+  TARGET_CPU_DEFAULT_prescott,\n+  TARGET_CPU_DEFAULT_nocona,\n+  TARGET_CPU_DEFAULT_core2,\n+\n+  TARGET_CPU_DEFAULT_geode,\n+  TARGET_CPU_DEFAULT_k6,\n+  TARGET_CPU_DEFAULT_k6_2,\n+  TARGET_CPU_DEFAULT_k6_3,\n+  TARGET_CPU_DEFAULT_athlon,\n+  TARGET_CPU_DEFAULT_athlon_sse,\n+  TARGET_CPU_DEFAULT_k8,\n+  TARGET_CPU_DEFAULT_amdfam10,\n+\n+  TARGET_CPU_DEFAULT_max\n+};\n \n #ifndef CC1_SPEC\n #define CC1_SPEC \"%(cc1_cpu) \""}]}