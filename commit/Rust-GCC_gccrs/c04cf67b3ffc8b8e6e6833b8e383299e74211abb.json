{"sha": "c04cf67b3ffc8b8e6e6833b8e383299e74211abb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzA0Y2Y2N2IzZmZjOGI4ZTZlNjgzM2I4ZTM4MzI5OWU3NDIxMWFiYg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2001-12-17T18:21:36Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2001-12-17T18:21:36Z"}, "message": "cfgcleanup.c (outgoing_edges_match): Check for insn match with a single outgoing edge too.\n\n        * cfgcleanup.c (outgoing_edges_match): Check for insn match with\n        a single outgoing edge too.\n\nFrom-SVN: r48114", "tree": {"sha": "413a06c281d1569f06425c84cdf18e23f84456a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/413a06c281d1569f06425c84cdf18e23f84456a7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c04cf67b3ffc8b8e6e6833b8e383299e74211abb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c04cf67b3ffc8b8e6e6833b8e383299e74211abb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c04cf67b3ffc8b8e6e6833b8e383299e74211abb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c04cf67b3ffc8b8e6e6833b8e383299e74211abb/comments", "author": null, "committer": null, "parents": [{"sha": "25b44be580d5a9dd0bde5802c82c758890a057ab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25b44be580d5a9dd0bde5802c82c758890a057ab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/25b44be580d5a9dd0bde5802c82c758890a057ab"}], "stats": {"total": 16, "additions": 12, "deletions": 4}, "files": [{"sha": "e508636e3b23eb0fd9dc113640c249caf7b32175", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c04cf67b3ffc8b8e6e6833b8e383299e74211abb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c04cf67b3ffc8b8e6e6833b8e383299e74211abb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c04cf67b3ffc8b8e6e6833b8e383299e74211abb", "patch": "@@ -1,3 +1,8 @@\n+2001-12-17  Richard Henderson  <rth@redhat.com>\n+\n+\t* cfgcleanup.c (outgoing_edges_match): Check for insn match with\n+\ta single outgoing edge too.\n+\n Mon Dec 17 18:27:52 CET 2001  Jan Hubicka  <jh@suse.cz>\n \n \t* cfgrtl.c (redirect_edge_and_branch):  Do simplify abnormal"}, {"sha": "b23def8b3bc328ffe2f1ca3d39df88d81beafea8", "filename": "gcc/cfgcleanup.c", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c04cf67b3ffc8b8e6e6833b8e383299e74211abb/gcc%2Fcfgcleanup.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c04cf67b3ffc8b8e6e6833b8e383299e74211abb/gcc%2Fcfgcleanup.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgcleanup.c?ref=c04cf67b3ffc8b8e6e6833b8e383299e74211abb", "patch": "@@ -956,11 +956,14 @@ outgoing_edges_match (mode, bb1, bb2)\n   edge fallthru1 = 0, fallthru2 = 0;\n   edge e1, e2;\n \n-  /* If BB1 has only one successor, we must be looking at an unconditional\n-     jump.  Which, by the assumption above, means that we only need to check\n-     that BB2 has one successor.  */\n+  /* If BB1 has only one successor, we may be looking at either an\n+     unconditional jump, or a fake edge to exit.  */\n   if (bb1->succ && !bb1->succ->succ_next)\n-    return (bb2->succ && !bb2->succ->succ_next);\n+    {\n+      if (! bb2->succ || bb2->succ->succ_next)\n+\treturn false;\n+      return insns_match_p (mode, bb1->end, bb2->end);\n+    }\n \n   /* Match conditional jumps - this may get tricky when fallthru and branch\n      edges are crossed.  */"}]}