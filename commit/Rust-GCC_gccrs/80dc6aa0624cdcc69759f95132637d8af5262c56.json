{"sha": "80dc6aa0624cdcc69759f95132637d8af5262c56", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODBkYzZhYTA2MjRjZGNjNjk3NTlmOTUxMzI2MzdkOGFmNTI2MmM1Ng==", "commit": {"author": {"name": "Robert Millan", "email": "robertmh@gnu.org", "date": "2004-04-27T06:14:30Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "2004-04-27T06:14:30Z"}, "message": "Patch from Robert Millan.\n\nAdd patches from libtool CVS.\n* libtool.m4: Add kfreebsd*-gnu and knetbsd*-gnu.\n* ltconfig: Likewise.\n* ltcf-c.sh: Likewise.\n* ltcf-cxx.sh: Likewise.\n* ltcf-gcj.sh: Likewise.\n\nFrom-SVN: r81213", "tree": {"sha": "e64b0130d1ae56cd5986c8c2906fbc5b187a7793", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e64b0130d1ae56cd5986c8c2906fbc5b187a7793"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/80dc6aa0624cdcc69759f95132637d8af5262c56", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80dc6aa0624cdcc69759f95132637d8af5262c56", "html_url": "https://github.com/Rust-GCC/gccrs/commit/80dc6aa0624cdcc69759f95132637d8af5262c56", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80dc6aa0624cdcc69759f95132637d8af5262c56/comments", "author": null, "committer": null, "parents": [{"sha": "c9b93377e33eae49365491dbee843aa7880f218e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c9b93377e33eae49365491dbee843aa7880f218e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c9b93377e33eae49365491dbee843aa7880f218e"}], "stats": {"total": 42, "additions": 31, "deletions": 11}, "files": [{"sha": "22aa6ff48bebb60726d496acecfbe6739672997e", "filename": "ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80dc6aa0624cdcc69759f95132637d8af5262c56/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80dc6aa0624cdcc69759f95132637d8af5262c56/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=80dc6aa0624cdcc69759f95132637d8af5262c56", "patch": "@@ -1,3 +1,12 @@\n+2004-04-26  Robert Millan  <robertmh@gnu.org>\n+\n+\tAdd patches from libtool CVS.\n+\t* libtool.m4: Add kfreebsd*-gnu and knetbsd*-gnu.\n+\t* ltconfig: Likewise.\n+\t* ltcf-c.sh: Likewise.\n+\t* ltcf-cxx.sh: Likewise.\n+\t* ltcf-gcj.sh: Likewise.\n+\n 2004-04-26  Paolo Bonzini  <bonzini@gnu.org>\n \n \t* Makefile.def (host_modules): Mark with the bootstrap"}, {"sha": "91ceb2db5fab7dce45b94bbbb9c189f0ff3f82a8", "filename": "libtool.m4", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80dc6aa0624cdcc69759f95132637d8af5262c56/libtool.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80dc6aa0624cdcc69759f95132637d8af5262c56/libtool.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libtool.m4?ref=80dc6aa0624cdcc69759f95132637d8af5262c56", "patch": "@@ -621,7 +621,7 @@ darwin* | rhapsody*)\n   lt_cv_deplibs_check_method=pass_all\n   ;;\n \n-freebsd* )\n+freebsd* | kfreebsd*-gnu)\n   if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then\n     case $host_cpu in\n     i*86 )\n@@ -689,7 +689,7 @@ linux-gnu*)\n   lt_cv_file_magic_test_file=`echo /lib/libc.so* /lib/libc-*.so`\n   ;;\n \n-netbsd*)\n+netbsd* | knetbsd*-gnu)\n   if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then\n     [lt_cv_deplibs_check_method='match_pattern /lib[^/\\.]+\\.so\\.[0-9]+\\.[0-9]+$']\n   else"}, {"sha": "7cc273d36ff2cf9761f0fc01961454f2156f9154", "filename": "ltcf-c.sh", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80dc6aa0624cdcc69759f95132637d8af5262c56/ltcf-c.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80dc6aa0624cdcc69759f95132637d8af5262c56/ltcf-c.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltcf-c.sh?ref=80dc6aa0624cdcc69759f95132637d8af5262c56", "patch": "@@ -175,7 +175,7 @@ EOF\n       $CC $output_objdir/$soname-exp '$lt_cv_cc_dll_switch' -Wl,-e,'$dll_entry' -o $output_objdir/$soname '$ltdll_obj'$libobjs $deplibs $compiler_flags'\n     ;;\n \n-  netbsd*)\n+  netbsd* | knetbsd*-gnu)\n     if echo __ELF__ | $CC -E - | grep __ELF__ >/dev/null; then\n       archive_cmds='$LD -Bshareable $libobjs $deplibs $linker_flags -o $lib'\n       wlarc=\n@@ -442,7 +442,7 @@ else\n     ;;\n \n   # FreeBSD 3 and greater uses gcc -shared to do shared libraries.\n-  freebsd*)\n+  freebsd* | kfreebsd*-gnu)\n     archive_cmds='$CC -shared -o $lib $libobjs $deplibs $compiler_flags'\n     hardcode_libdir_flag_spec='-R$libdir'\n     hardcode_direct=yes\n@@ -489,7 +489,7 @@ else\n     link_all_deplibs=yes\n     ;;\n \n-  netbsd*)\n+  netbsd* | knetbsd*-gnu)\n     if echo __ELF__ | $CC -E - | grep __ELF__ >/dev/null; then\n       archive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'  # a.out\n     else"}, {"sha": "ce28177ee11b86a3d66798e743ab77e1aeb043fa", "filename": "ltcf-cxx.sh", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80dc6aa0624cdcc69759f95132637d8af5262c56/ltcf-cxx.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80dc6aa0624cdcc69759f95132637d8af5262c56/ltcf-cxx.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltcf-cxx.sh?ref=80dc6aa0624cdcc69759f95132637d8af5262c56", "patch": "@@ -289,7 +289,7 @@ case $host_os in\n     # C++ shared libraries reported to be fairly broken before switch to ELF\n     ld_shlibs=no\n     ;;\n-  freebsd*)\n+  freebsd* | kfreebsd*-gnu)\n     # FreeBSD 3 and later use GNU C++ and GNU ld with standard ELF\n     # conventions\n     ld_shlibs=yes\n@@ -449,7 +449,7 @@ case $host_os in\n         ;;\n     esac\n     ;;\n-  netbsd*)\n+  netbsd* | knetbsd*-gnu)\n     # NetBSD uses g++ - do we need to do anything?\n     ;;\n   osf3*)\n@@ -804,7 +804,7 @@ else\n           ;;\n       esac\n       ;;\n-    freebsd*)\n+    freebsd* | kfreebsd*-gnu)\n       # FreeBSD uses GNU C++\n       ;;\n     gnu*)"}, {"sha": "950dd00317735e6e7a1f7544d798fe4220971834", "filename": "ltcf-gcj.sh", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80dc6aa0624cdcc69759f95132637d8af5262c56/ltcf-gcj.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80dc6aa0624cdcc69759f95132637d8af5262c56/ltcf-gcj.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltcf-gcj.sh?ref=80dc6aa0624cdcc69759f95132637d8af5262c56", "patch": "@@ -178,7 +178,7 @@ EOF\n       $CC $output_objdir/$soname-exp '$lt_cv_cc_dll_switch' -Wl,-e,'$dll_entry' -o $output_objdir/$soname '$ltdll_obj'$libobjs $deplibs $compiler_flags'\n     ;;\n \n-  netbsd*)\n+  netbsd* | knetbsd*-gnu)\n     if echo __ELF__ | $CC -E - | grep __ELF__ >/dev/null; then\n       archive_cmds='$LD -Bshareable $libobjs $deplibs $linker_flags -o $lib'\n       wlarc=\n@@ -445,7 +445,7 @@ else\n     ;;\n \n   # FreeBSD 3 and greater uses gcc -shared to do shared libraries.\n-  freebsd*)\n+  freebsd* | kfreebsd*-gnu)\n     archive_cmds='$CC -shared -o $lib $libobjs $deplibs $compiler_flags'\n     hardcode_libdir_flag_spec='-R$libdir'\n     hardcode_direct=yes\n@@ -476,7 +476,7 @@ else\n     link_all_deplibs=yes\n     ;;\n \n-  netbsd*)\n+  netbsd* | knetbsd*-gnu)\n     if echo __ELF__ | $CC -E - | grep __ELF__ >/dev/null; then\n       archive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'  # a.out\n     else"}, {"sha": "03204787a3dcc96856b88bbe437e0338b2b7edaa", "filename": "ltconfig", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80dc6aa0624cdcc69759f95132637d8af5262c56/ltconfig", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80dc6aa0624cdcc69759f95132637d8af5262c56/ltconfig", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltconfig?ref=80dc6aa0624cdcc69759f95132637d8af5262c56", "patch": "@@ -1168,6 +1168,17 @@ gnu*)\n   hardcode_into_libs=yes\n   ;;\n \n+kfreebsd*-gnu | knetbsd*-gnu)\n+  version_type=linux\n+  need_lib_prefix=no\n+  need_version=no\n+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so${major} ${libname}.so'\n+  soname_spec='${libname}${release}.so$major'\n+  shlibpath_var=LD_LIBRARY_PATH\n+  shlibpath_overrides_runpath=yes\n+  hardcode_into_libs=yes\n+  ;;\n+\n hpux9* | hpux10* | hpux11*)\n   # Give a soname corresponding to the major version so that dld.sl refuses to\n   # link against other versions."}]}