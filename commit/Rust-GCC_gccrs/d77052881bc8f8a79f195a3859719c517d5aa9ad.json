{"sha": "d77052881bc8f8a79f195a3859719c517d5aa9ad", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDc3MDUyODgxYmM4ZjhhNzlmMTk1YTM4NTk3MTljNTE3ZDVhYTlhZA==", "commit": {"author": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2015-02-18T08:31:18Z"}, "committer": {"name": "Thomas Schwinge", "email": "tschwinge@gcc.gnu.org", "date": "2015-02-18T08:31:18Z"}, "message": "Begin documenting the nvptx backend.\n\n\tgcc/\n\t* doc/install.texi (nvptx-*-none): New section.\n\t* doc/invoke.texi (Nvidia PTX Options): Likewise.\n\t* config/nvptx/nvptx.opt: Update.\n\nFrom-SVN: r220783", "tree": {"sha": "cce6c2f4e362dd6bf1704def0e61e4a744529d9a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cce6c2f4e362dd6bf1704def0e61e4a744529d9a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d77052881bc8f8a79f195a3859719c517d5aa9ad", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d77052881bc8f8a79f195a3859719c517d5aa9ad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d77052881bc8f8a79f195a3859719c517d5aa9ad", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d77052881bc8f8a79f195a3859719c517d5aa9ad/comments", "author": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "865fc32a92526433bc9a39a246827ed47c67a669", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/865fc32a92526433bc9a39a246827ed47c67a669", "html_url": "https://github.com/Rust-GCC/gccrs/commit/865fc32a92526433bc9a39a246827ed47c67a669"}], "stats": {"total": 63, "additions": 58, "deletions": 5}, "files": [{"sha": "16153aef603ca178a7b72f0c20abcd61e7d0376b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d77052881bc8f8a79f195a3859719c517d5aa9ad/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d77052881bc8f8a79f195a3859719c517d5aa9ad/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d77052881bc8f8a79f195a3859719c517d5aa9ad", "patch": "@@ -1,5 +1,9 @@\n 2015-02-18  Thomas Schwinge  <thomas@codesourcery.com>\n \n+\t* doc/install.texi (nvptx-*-none): New section.\n+\t* doc/invoke.texi (Nvidia PTX Options): Likewise.\n+\t* config/nvptx/nvptx.opt: Update.\n+\n \t* config/nvptx/mkoffload.c (parse_env_var, free_array_of_ptrs)\n \t(access_check): New functions, copied from\n \tconfig/i386/intelmic-mkoffload.c."}, {"sha": "249a61d3d747218ea365c192537841d96b46f12b", "filename": "gcc/config/nvptx/nvptx.opt", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d77052881bc8f8a79f195a3859719c517d5aa9ad/gcc%2Fconfig%2Fnvptx%2Fnvptx.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d77052881bc8f8a79f195a3859719c517d5aa9ad/gcc%2Fconfig%2Fnvptx%2Fnvptx.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnvptx%2Fnvptx.opt?ref=d77052881bc8f8a79f195a3859719c517d5aa9ad", "patch": "@@ -17,13 +17,13 @@\n ; along with GCC; see the file COPYING3.  If not see\n ; <http://www.gnu.org/licenses/>.\n \n-m64\n-Target Report RejectNegative Mask(ABI64)\n-Generate code for a 64 bit ABI\n-\n m32\n Target Report RejectNegative InverseMask(ABI64)\n-Generate code for a 32 bit ABI\n+Generate code for a 32-bit ABI\n+\n+m64\n+Target Report RejectNegative Mask(ABI64)\n+Generate code for a 64-bit ABI\n \n mmainkernel\n Target Report RejectNegative"}, {"sha": "dca0d85096581bf71ced9b62c982843c8fc47f21", "filename": "gcc/doc/install.texi", "status": "modified", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d77052881bc8f8a79f195a3859719c517d5aa9ad/gcc%2Fdoc%2Finstall.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d77052881bc8f8a79f195a3859719c517d5aa9ad/gcc%2Fdoc%2Finstall.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finstall.texi?ref=d77052881bc8f8a79f195a3859719c517d5aa9ad", "patch": "@@ -3304,6 +3304,8 @@ information have to.\n @item\n @uref{#nds32be-x-elf,,nds32be-*-elf}\n @item\n+@uref{#nvptx-x-none,,nvptx-*-none}\n+@item\n @uref{#powerpc-x-x,,powerpc*-*-*}\n @item\n @uref{#powerpc-x-darwin,,powerpc-*-darwin*}\n@@ -4268,6 +4270,27 @@ Andes NDS32 target in little endian mode.\n @heading nds32be-*-elf\n Andes NDS32 target in big endian mode.\n \n+@html\n+<hr />\n+@end html\n+@anchor{nvptx-x-none}\n+@heading nvptx-*-none\n+Nvidia PTX target.\n+\n+Instead of GNU binutils, you will need to install\n+@uref{https://github.com/MentorEmbedded/nvptx-tools/,,nvptx-tools}.\n+Tell GCC where to find it:\n+@option{--with-build-time-tools=[install-nvptx-tools]/nvptx-none/bin}.\n+\n+A nvptx port of newlib is available at\n+@uref{https://github.com/MentorEmbedded/nvptx-newlib/,,nvptx-newlib}.\n+It can be automatically built together with GCC@.  For this, add a\n+symbolic link to nvptx-newlib's @file{newlib} directory to the\n+directory containing the GCC sources.\n+\n+Use the @option{--disable-sjlj-exceptions} and\n+@option{--enable-newlib-io-long-long} options when configuring.\n+\n @html\n <hr />\n @end html"}, {"sha": "4a79b48dfafc50bf7700dce7c970d31a4d0f5529", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d77052881bc8f8a79f195a3859719c517d5aa9ad/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d77052881bc8f8a79f195a3859719c517d5aa9ad/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=d77052881bc8f8a79f195a3859719c517d5aa9ad", "patch": "@@ -840,6 +840,9 @@ Objective-C and Objective-C++ Dialects}.\n -mcustom-fpu-cfg=@var{name} @gol\n -mhal -msmallc -msys-crt0=@var{name} -msys-lib=@var{name}}\n \n+@emph{Nvidia PTX Options}\n+@gccoptlist{-m32 -m64 -mmainkernel}\n+\n @emph{PDP-11 Options}\n @gccoptlist{-mfpu  -msoft-float  -mac0  -mno-ac0  -m40  -m45  -m10 @gol\n -mbcopy  -mbcopy-builtin  -mint32  -mno-int16 @gol\n@@ -11989,6 +11992,7 @@ platform.\n * MSP430 Options::\n * NDS32 Options::\n * Nios II Options::\n+* Nvidia PTX Options::\n * PDP-11 Options::\n * picoChip Options::\n * PowerPC Options::\n@@ -18301,6 +18305,28 @@ This option is typically used to link with a library provided by a HAL BSP.\n \n @end table\n \n+@node Nvidia PTX Options\n+@subsection Nvidia PTX Options\n+@cindex Nvidia PTX options\n+@cindex nvptx options\n+\n+These options are defined for Nvidia PTX:\n+\n+@table @gcctabopt\n+\n+@item -m32\n+@itemx -m64\n+@opindex m32\n+@opindex m64\n+Generate code for 32-bit or 64-bit ABI.\n+\n+@item -mmainkernel\n+@opindex mmainkernel\n+Link in code for a __main kernel.  This is for stand-alone instead of\n+offloading execution.\n+\n+@end table\n+\n @node PDP-11 Options\n @subsection PDP-11 Options\n @cindex PDP-11 Options"}]}