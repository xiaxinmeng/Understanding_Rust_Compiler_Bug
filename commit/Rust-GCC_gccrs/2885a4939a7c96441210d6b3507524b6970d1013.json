{"sha": "2885a4939a7c96441210d6b3507524b6970d1013", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjg4NWE0OTM5YTdjOTY0NDEyMTBkNmIzNTA3NTI0YjY5NzBkMTAxMw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2018-04-27T18:01:00Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2018-04-27T18:01:00Z"}, "message": "re PR go/85429 (Several gotools tests FAIL with Solaris as)\n\n\tPR go/85429\n    cmd/go: add Solaris assembler syntax for gccgo buildid file\n    \n    The Solaris assembler uses a different syntax for section directives.\n    \n    This is https://golang.org/cl/109140 ported over to gccgo.\n    \n    Reviewed-on: https://go-review.googlesource.com/109141\n\nFrom-SVN: r259719", "tree": {"sha": "823cc61081c6ebb58903fd906f7014cb09caf29d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/823cc61081c6ebb58903fd906f7014cb09caf29d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2885a4939a7c96441210d6b3507524b6970d1013", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2885a4939a7c96441210d6b3507524b6970d1013", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2885a4939a7c96441210d6b3507524b6970d1013", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2885a4939a7c96441210d6b3507524b6970d1013/comments", "author": null, "committer": null, "parents": [{"sha": "4c8906c942eccf5243489d0c855892c3936f8a4b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c8906c942eccf5243489d0c855892c3936f8a4b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c8906c942eccf5243489d0c855892c3936f8a4b"}], "stats": {"total": 14, "additions": 10, "deletions": 4}, "files": [{"sha": "24592d26a10e3ff65c8b06fca82a77bf8e1b2d66", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2885a4939a7c96441210d6b3507524b6970d1013/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2885a4939a7c96441210d6b3507524b6970d1013/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=2885a4939a7c96441210d6b3507524b6970d1013", "patch": "@@ -1,4 +1,4 @@\n-7b37b9c3f9338a1387ee1e2301de89c3d2d87d2b\n+32861fd0acb0f3232f66be4791388b27e71c9990\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "7f1ee50632964b56c946e375d20a3c0f3d6d6050", "filename": "libgo/go/cmd/go/internal/work/buildid.go", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2885a4939a7c96441210d6b3507524b6970d1013/libgo%2Fgo%2Fcmd%2Fgo%2Finternal%2Fwork%2Fbuildid.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2885a4939a7c96441210d6b3507524b6970d1013/libgo%2Fgo%2Fcmd%2Fgo%2Finternal%2Fwork%2Fbuildid.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fcmd%2Fgo%2Finternal%2Fwork%2Fbuildid.go?ref=2885a4939a7c96441210d6b3507524b6970d1013", "patch": "@@ -309,7 +309,11 @@ func (b *Builder) gccgoBuildIDELFFile(a *Action) (string, error) {\n \tsfile := a.Objdir + \"_buildid.s\"\n \n \tvar buf bytes.Buffer\n-\tfmt.Fprintf(&buf, \"\\t\"+`.section .go.buildid,\"e\"`+\"\\n\")\n+\tif cfg.Goos != \"solaris\" {\n+\t\tfmt.Fprintf(&buf, \"\\t\"+`.section .go.buildid,\"e\"`+\"\\n\")\n+\t} else {\n+\t\tfmt.Fprintf(&buf, \"\\t\"+`.section \".go.buildid\",#exclude`+\"\\n\")\n+\t}\n \tfmt.Fprintf(&buf, \"\\t.byte \")\n \tfor i := 0; i < len(a.buildID); i++ {\n \t\tif i > 0 {\n@@ -322,8 +326,10 @@ func (b *Builder) gccgoBuildIDELFFile(a *Action) (string, error) {\n \t\tfmt.Fprintf(&buf, \"%#02x\", a.buildID[i])\n \t}\n \tfmt.Fprintf(&buf, \"\\n\")\n-\tfmt.Fprintf(&buf, \"\\t\"+`.section .note.GNU-stack,\"\",@progbits`+\"\\n\")\n-\tfmt.Fprintf(&buf, \"\\t\"+`.section .note.GNU-split-stack,\"\",@progbits`+\"\\n\")\n+\tif cfg.Goos != \"solaris\" {\n+\t\tfmt.Fprintf(&buf, \"\\t\"+`.section .note.GNU-stack,\"\",@progbits`+\"\\n\")\n+\t\tfmt.Fprintf(&buf, \"\\t\"+`.section .note.GNU-split-stack,\"\",@progbits`+\"\\n\")\n+\t}\n \n \tif cfg.BuildN || cfg.BuildX {\n \t\tfor _, line := range bytes.Split(buf.Bytes(), []byte(\"\\n\")) {"}]}