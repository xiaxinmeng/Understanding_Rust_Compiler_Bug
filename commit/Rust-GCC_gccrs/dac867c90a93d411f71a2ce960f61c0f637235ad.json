{"sha": "dac867c90a93d411f71a2ce960f61c0f637235ad", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGFjODY3YzkwYTkzZDQxMWY3MWEyY2U5NjBmNjFjMGY2MzcyMzVhZA==", "commit": {"author": {"name": "Uros Bizjak", "email": "ubizjak@gmail.com", "date": "2018-01-18T19:52:16Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2018-01-18T19:52:16Z"}, "message": "configure.ac (AC_CHECK_HEADERS): Add linux/types.h.\n\n\t* configure.ac (AC_CHECK_HEADERS): Add linux/types.h.  Conditionally\n\tinclude linux/types.h when checking linux/random.h header.\n\t* config.h.in: Regenerate.\n\t* configure: Ditto.\n\t* src/c++11/random.cc: Conditionally include linux/types.h.\n\nFrom-SVN: r256859", "tree": {"sha": "9894307aa5495f8e4695837b7ae2d961ee18b277", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9894307aa5495f8e4695837b7ae2d961ee18b277"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dac867c90a93d411f71a2ce960f61c0f637235ad", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dac867c90a93d411f71a2ce960f61c0f637235ad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dac867c90a93d411f71a2ce960f61c0f637235ad", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dac867c90a93d411f71a2ce960f61c0f637235ad/comments", "author": {"login": "ubizjak", "id": 55479990, "node_id": "MDQ6VXNlcjU1NDc5OTkw", "avatar_url": "https://avatars.githubusercontent.com/u/55479990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubizjak", "html_url": "https://github.com/ubizjak", "followers_url": "https://api.github.com/users/ubizjak/followers", "following_url": "https://api.github.com/users/ubizjak/following{/other_user}", "gists_url": "https://api.github.com/users/ubizjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubizjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubizjak/subscriptions", "organizations_url": "https://api.github.com/users/ubizjak/orgs", "repos_url": "https://api.github.com/users/ubizjak/repos", "events_url": "https://api.github.com/users/ubizjak/events{/privacy}", "received_events_url": "https://api.github.com/users/ubizjak/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "50b27938f70819e2453bcd72a80a6a4c2b9e2fcb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50b27938f70819e2453bcd72a80a6a4c2b9e2fcb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/50b27938f70819e2453bcd72a80a6a4c2b9e2fcb"}], "stats": {"total": 42, "additions": 40, "deletions": 2}, "files": [{"sha": "bf1d4d43769d1509a7588e0c19b6f05c7ca15748", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dac867c90a93d411f71a2ce960f61c0f637235ad/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dac867c90a93d411f71a2ce960f61c0f637235ad/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=dac867c90a93d411f71a2ce960f61c0f637235ad", "patch": "@@ -1,3 +1,11 @@\n+2018-01-18  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\t* configure.ac (AC_CHECK_HEADERS): Add linux/types.h.  Conditionally\n+\tinclude linux/types.h when checking linux/random.h header.\n+\t* config.h.in: Regenerate.\n+\t* configure: Ditto.\n+\t* src/c++11/random.cc: Conditionally include linux/types.h.\n+\n 2018-01-16  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* testsuite/17_intro/names.cc: Undefine 'y' on SPARC/Linux."}, {"sha": "5a0f0678439ba4a8f2834d5f5aab8874e1f317d3", "filename": "libstdc++-v3/config.h.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dac867c90a93d411f71a2ce960f61c0f637235ad/libstdc%2B%2B-v3%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dac867c90a93d411f71a2ce960f61c0f637235ad/libstdc%2B%2B-v3%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig.h.in?ref=dac867c90a93d411f71a2ce960f61c0f637235ad", "patch": "@@ -270,6 +270,9 @@\n /* Define to 1 if you have the <linux/random.h> header file. */\n #undef HAVE_LINUX_RANDOM_H\n \n+/* Define to 1 if you have the <linux/types.h> header file. */\n+#undef HAVE_LINUX_TYPES_H\n+\n /* Define to 1 if you have the <locale.h> header file. */\n #undef HAVE_LOCALE_H\n "}, {"sha": "69845f486f07f8bdb9e41b9372adc4dcc9628a84", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 18, "deletions": 1, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dac867c90a93d411f71a2ce960f61c0f637235ad/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dac867c90a93d411f71a2ce960f61c0f637235ad/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=dac867c90a93d411f71a2ce960f61c0f637235ad", "patch": "@@ -21799,7 +21799,7 @@ for ac_header in endian.h execinfo.h float.h fp.h ieeefp.h inttypes.h \\\n locale.h machine/endian.h machine/param.h nan.h stdint.h stdlib.h string.h \\\n strings.h sys/ipc.h sys/isa_defs.h sys/machine.h sys/param.h \\\n sys/resource.h sys/sem.h sys/stat.h sys/time.h sys/types.h unistd.h \\\n-wchar.h wctype.h linux/random.h\n+wchar.h wctype.h linux/types.h\n do :\n   as_ac_Header=`$as_echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n ac_fn_c_check_header_mongrel \"$LINENO\" \"$ac_header\" \"$as_ac_Header\" \"$ac_includes_default\"\n@@ -21814,6 +21814,23 @@ fi\n done\n \n \n+for ac_header in linux/random.h\n+do :\n+  ac_fn_c_check_header_compile \"$LINENO\" \"linux/random.h\" \"ac_cv_header_linux_random_h\" \"#ifdef HAVE_LINUX_TYPES_H\n+# include <linux/types.h>\n+#endif\n+\n+\"\n+if test \"x$ac_cv_header_linux_random_h\" = x\"\"yes; then :\n+  cat >>confdefs.h <<_ACEOF\n+#define HAVE_LINUX_RANDOM_H 1\n+_ACEOF\n+\n+fi\n+\n+done\n+\n+\n # Only do link tests if native. Else, hardcode.\n if $GLIBCXX_IS_NATIVE; then\n "}, {"sha": "e110f5799176d5a64963603a283feca271734ffd", "filename": "libstdc++-v3/configure.ac", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dac867c90a93d411f71a2ce960f61c0f637235ad/libstdc%2B%2B-v3%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dac867c90a93d411f71a2ce960f61c0f637235ad/libstdc%2B%2B-v3%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure.ac?ref=dac867c90a93d411f71a2ce960f61c0f637235ad", "patch": "@@ -237,7 +237,13 @@ AC_CHECK_HEADERS([endian.h execinfo.h float.h fp.h ieeefp.h inttypes.h \\\n locale.h machine/endian.h machine/param.h nan.h stdint.h stdlib.h string.h \\\n strings.h sys/ipc.h sys/isa_defs.h sys/machine.h sys/param.h \\\n sys/resource.h sys/sem.h sys/stat.h sys/time.h sys/types.h unistd.h \\\n-wchar.h wctype.h linux/random.h])\n+wchar.h wctype.h linux/types.h])\n+\n+AC_CHECK_HEADERS([linux/random.h], [], [],\n+[[#ifdef HAVE_LINUX_TYPES_H\n+# include <linux/types.h>\n+#endif\n+]])\n \n # Only do link tests if native. Else, hardcode.\n if $GLIBCXX_IS_NATIVE; then"}, {"sha": "19daf6d6319a6eaee161040610b5c64e0d0f3ba9", "filename": "libstdc++-v3/src/c++11/random.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dac867c90a93d411f71a2ce960f61c0f637235ad/libstdc%2B%2B-v3%2Fsrc%2Fc%2B%2B11%2Frandom.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dac867c90a93d411f71a2ce960f61c0f637235ad/libstdc%2B%2B-v3%2Fsrc%2Fc%2B%2B11%2Frandom.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2Fc%2B%2B11%2Frandom.cc?ref=dac867c90a93d411f71a2ce960f61c0f637235ad", "patch": "@@ -42,6 +42,10 @@\n # include <sys/ioctl.h>\n #endif\n \n+#ifdef _GLIBCXX_HAVE_LINUX_TYPES_H\n+# include <linux/types.h>\n+#endif\n+\n #ifdef _GLIBCXX_HAVE_LINUX_RANDOM_H\n # include <linux/random.h>\n #endif"}]}