{"sha": "4111f1c9b2a59ad85c9d26bb83153eff887960af", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDExMWYxYzliMmE1OWFkODVjOWQyNmJiODMxNTNlZmY4ODc5NjBhZg==", "commit": {"author": {"name": "Nikolai Bozhenov", "email": "n.bozhenov@samsung.com", "date": "2015-11-09T23:26:15Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2015-11-09T23:26:15Z"}, "message": "Change behavior of -fsched-verbose option\n\n\t* haifa-sched.c (setup_sched_dump): Don't redirect output to stderr.\n\t* common.opt (-fsched-verbose): Set default value to 1.\n\t* invoke.texi (-fsched-verbose): Update the option's description.\n\nFrom-SVN: r230061", "tree": {"sha": "8ea20b317bfbe70fa411cbe8a661e766d404c0c6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8ea20b317bfbe70fa411cbe8a661e766d404c0c6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4111f1c9b2a59ad85c9d26bb83153eff887960af", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4111f1c9b2a59ad85c9d26bb83153eff887960af", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4111f1c9b2a59ad85c9d26bb83153eff887960af", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4111f1c9b2a59ad85c9d26bb83153eff887960af/comments", "author": null, "committer": null, "parents": [{"sha": "01e83ff2d5fed202e66ed1d8b9d12e6f5fdca5e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01e83ff2d5fed202e66ed1d8b9d12e6f5fdca5e4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/01e83ff2d5fed202e66ed1d8b9d12e6f5fdca5e4"}], "stats": {"total": 35, "additions": 15, "deletions": 20}, "files": [{"sha": "dc2b11df49f60e809a0167372a6a5421351efeb7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4111f1c9b2a59ad85c9d26bb83153eff887960af/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4111f1c9b2a59ad85c9d26bb83153eff887960af/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4111f1c9b2a59ad85c9d26bb83153eff887960af", "patch": "@@ -1,3 +1,9 @@\n+2015-11-09  Nikolai Bozhenov  <n.bozhenov@samsung.com>\n+\n+\t* haifa-sched.c (setup_sched_dump): Don't redirect output to stderr.\n+\t* common.opt (-fsched-verbose): Set default value to 1.\n+\t* invoke.texi (-fsched-verbose): Update the option's description.\n+\n 2015-11-09  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* config/visium/visium.h (PRINT_OPERAND): Delete."}, {"sha": "757ce85873503326f28fa7d449edea1d8a366ed1", "filename": "gcc/common.opt", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4111f1c9b2a59ad85c9d26bb83153eff887960af/gcc%2Fcommon.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4111f1c9b2a59ad85c9d26bb83153eff887960af/gcc%2Fcommon.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon.opt?ref=4111f1c9b2a59ad85c9d26bb83153eff887960af", "patch": "@@ -1972,7 +1972,7 @@ Common Report Var(flag_schedule_speculative_load_dangerous) Optimization\n Allow speculative motion of more loads.\n \n fsched-verbose=\n-Common RejectNegative Joined UInteger Var(sched_verbose_param)\n+Common RejectNegative Joined UInteger Var(sched_verbose_param) Init(1)\n -fsched-verbose=<number>\tSet the verbosity level of the scheduler.\n \n fsched2-use-superblocks"}, {"sha": "e2620a57c8b918c85432f92f980f628080a34273", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4111f1c9b2a59ad85c9d26bb83153eff887960af/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4111f1c9b2a59ad85c9d26bb83153eff887960af/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=4111f1c9b2a59ad85c9d26bb83153eff887960af", "patch": "@@ -7447,12 +7447,7 @@ The @var{number} should be different for every file you compile.\n @item -fsched-verbose=@var{n}\n @opindex fsched-verbose\n On targets that use instruction scheduling, this option controls the\n-amount of debugging output the scheduler prints.  This information is\n-written to standard error, unless @option{-fdump-rtl-sched1} or\n-@option{-fdump-rtl-sched2} is specified, in which case it is output\n-to the usual dump listing file, @file{.sched1} or @file{.sched2}\n-respectively.  However for @var{n} greater than nine, the output is\n-always printed to standard error.\n+amount of debugging output the scheduler prints to the dump files.\n \n For @var{n} greater than zero, @option{-fsched-verbose} outputs the\n same information as @option{-fdump-rtl-sched1} and @option{-fdump-rtl-sched2}."}, {"sha": "835648b688a2a9ca94c793a62d50cf55c858eb7d", "filename": "gcc/haifa-sched.c", "status": "modified", "additions": 7, "deletions": 13, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4111f1c9b2a59ad85c9d26bb83153eff887960af/gcc%2Fhaifa-sched.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4111f1c9b2a59ad85c9d26bb83153eff887960af/gcc%2Fhaifa-sched.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fhaifa-sched.c?ref=4111f1c9b2a59ad85c9d26bb83153eff887960af", "patch": "@@ -203,17 +203,14 @@ static int modulo_last_stage;\n \n /* sched-verbose controls the amount of debugging output the\n    scheduler prints.  It is controlled by -fsched-verbose=N:\n-   N>0 and no -DSR : the output is directed to stderr.\n-   N>=10 will direct the printouts to stderr (regardless of -dSR).\n-   N=1: same as -dSR.\n+   N=0: no debugging output.\n+   N=1: default value.\n    N=2: bb's probabilities, detailed ready list info, unit/insn info.\n    N=3: rtl at abort point, control-flow, regions info.\n    N=5: dependences info.  */\n-\n int sched_verbose = 0;\n \n-/* Debugging file.  All printouts are sent to dump, which is always set,\n-   either to stderr, or to the dump listing file (-dRS).  */\n+/* Debugging file.  All printouts are sent to dump. */\n FILE *sched_dump = 0;\n \n /* This is a placeholder for the scheduler parameters common\n@@ -7219,17 +7216,14 @@ set_priorities (rtx_insn *head, rtx_insn *tail)\n   return n_insn;\n }\n \n-/* Set dump and sched_verbose for the desired debugging output.  If no\n-   dump-file was specified, but -fsched-verbose=N (any N), print to stderr.\n-   For -fsched-verbose=N, N>=10, print everything to stderr.  */\n+/* Set sched_dump and sched_verbose for the desired debugging output. */\n void\n setup_sched_dump (void)\n {\n   sched_verbose = sched_verbose_param;\n-  if (sched_verbose_param == 0 && dump_file)\n-    sched_verbose = 1;\n-  sched_dump = ((sched_verbose_param >= 10 || !dump_file)\n-\t\t? stderr : dump_file);\n+  sched_dump = dump_file;\n+  if (!dump_file)\n+    sched_verbose = 0;\n }\n \n /* Allocate data for register pressure sensitive scheduling.  */"}]}