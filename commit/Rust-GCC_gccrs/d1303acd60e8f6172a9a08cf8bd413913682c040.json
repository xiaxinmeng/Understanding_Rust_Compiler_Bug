{"sha": "d1303acd60e8f6172a9a08cf8bd413913682c040", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDEzMDNhY2Q2MGU4ZjYxNzJhOWEwOGNmOGJkNDEzOTEzNjgyYzA0MA==", "commit": {"author": {"name": "Tobias Schl\u00fcter", "email": "tobias.schlueter@physik.uni-muenchen.de", "date": "2005-02-23T20:56:58Z"}, "committer": {"name": "Tobias Schl\u00fcter", "email": "tobi@gcc.gnu.org", "date": "2005-02-23T20:56:58Z"}, "message": "gfortran.h (symbol_attribute): New 'untyped' field, fix comment formatting.\n\nfortran/\n* gfortran.h (symbol_attribute): New 'untyped' field, fix comment\nformatting.\n* symbol.c (gfc_set_default_type): Issue error only once, by setting\nand checking 'untyped' attribute.\n\ntestsuite/\n* gfortran.dg/deftype_1.f90: New test.\n\nFrom-SVN: r95469", "tree": {"sha": "1d2841bcbe6e62af3ddb540efc81f110a19226d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1d2841bcbe6e62af3ddb540efc81f110a19226d5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d1303acd60e8f6172a9a08cf8bd413913682c040", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1303acd60e8f6172a9a08cf8bd413913682c040", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d1303acd60e8f6172a9a08cf8bd413913682c040", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1303acd60e8f6172a9a08cf8bd413913682c040/comments", "author": {"login": "TobiSchluter", "id": 11887541, "node_id": "MDQ6VXNlcjExODg3NTQx", "avatar_url": "https://avatars.githubusercontent.com/u/11887541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TobiSchluter", "html_url": "https://github.com/TobiSchluter", "followers_url": "https://api.github.com/users/TobiSchluter/followers", "following_url": "https://api.github.com/users/TobiSchluter/following{/other_user}", "gists_url": "https://api.github.com/users/TobiSchluter/gists{/gist_id}", "starred_url": "https://api.github.com/users/TobiSchluter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TobiSchluter/subscriptions", "organizations_url": "https://api.github.com/users/TobiSchluter/orgs", "repos_url": "https://api.github.com/users/TobiSchluter/repos", "events_url": "https://api.github.com/users/TobiSchluter/events{/privacy}", "received_events_url": "https://api.github.com/users/TobiSchluter/received_events", "type": "User", "site_admin": false}, "committer": {"login": "TobiSchluter", "id": 11887541, "node_id": "MDQ6VXNlcjExODg3NTQx", "avatar_url": "https://avatars.githubusercontent.com/u/11887541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TobiSchluter", "html_url": "https://github.com/TobiSchluter", "followers_url": "https://api.github.com/users/TobiSchluter/followers", "following_url": "https://api.github.com/users/TobiSchluter/following{/other_user}", "gists_url": "https://api.github.com/users/TobiSchluter/gists{/gist_id}", "starred_url": "https://api.github.com/users/TobiSchluter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TobiSchluter/subscriptions", "organizations_url": "https://api.github.com/users/TobiSchluter/orgs", "repos_url": "https://api.github.com/users/TobiSchluter/repos", "events_url": "https://api.github.com/users/TobiSchluter/events{/privacy}", "received_events_url": "https://api.github.com/users/TobiSchluter/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0366dfe99326220dbcb8e046d7e1e77e9c4ac12d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0366dfe99326220dbcb8e046d7e1e77e9c4ac12d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0366dfe99326220dbcb8e046d7e1e77e9c4ac12d"}], "stats": {"total": 25, "additions": 21, "deletions": 4}, "files": [{"sha": "b28e7070f63b57b69d428d9b8502e9be5877506a", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1303acd60e8f6172a9a08cf8bd413913682c040/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1303acd60e8f6172a9a08cf8bd413913682c040/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=d1303acd60e8f6172a9a08cf8bd413913682c040", "patch": "@@ -11,6 +11,11 @@\n \t(gfc_symbol_init_2): Pass second argument to gfc_get_namespace.\n \t* trans-common.c (build_common_decl): Likewise.\n \n+\t* gfortran.h (symbol_attribute): New 'untyped' field, fix comment\n+\tformatting.\n+\t* symbol.c (gfc_set_default_type): Issue error only once, by setting\n+\tand checking 'untyped' attribute.\n+\n 2005-02-23  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* intrinsic.h, st.c: Update copyright."}, {"sha": "f96cff10ddebb03688eca2a1a3b54282fd5ba1c0", "filename": "gcc/fortran/gfortran.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1303acd60e8f6172a9a08cf8bd413913682c040/gcc%2Ffortran%2Fgfortran.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1303acd60e8f6172a9a08cf8bd413913682c040/gcc%2Ffortran%2Fgfortran.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fgfortran.h?ref=d1303acd60e8f6172a9a08cf8bd413913682c040", "patch": "@@ -408,7 +408,8 @@ typedef struct\n \n   unsigned in_namelist:1, in_common:1;\n   unsigned function:1, subroutine:1, generic:1;\n-  unsigned implicit_type:1;\t/* Type defined via implicit rules */\n+  unsigned implicit_type:1;\t/* Type defined via implicit rules.  */\n+  unsigned untyped:1;           /* No implicit type could be found.  */\n \n   /* Function/subroutine attributes */\n   unsigned sequence:1, elemental:1, pure:1, recursive:1;"}, {"sha": "77d3f1a3a2d79ea832ffd6c475e95ab63f2c841f", "filename": "gcc/fortran/symbol.c", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1303acd60e8f6172a9a08cf8bd413913682c040/gcc%2Ffortran%2Fsymbol.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1303acd60e8f6172a9a08cf8bd413913682c040/gcc%2Ffortran%2Fsymbol.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fsymbol.c?ref=d1303acd60e8f6172a9a08cf8bd413913682c040", "patch": "@@ -213,9 +213,12 @@ gfc_set_default_type (gfc_symbol * sym, int error_flag, gfc_namespace * ns)\n \n   if (ts->type == BT_UNKNOWN)\n     {\n-      if (error_flag)\n-\tgfc_error (\"Symbol '%s' at %L has no IMPLICIT type\", sym->name,\n-\t\t   &sym->declared_at);\n+      if (error_flag && !sym->attr.untyped)\n+\t{\n+\t  gfc_error (\"Symbol '%s' at %L has no IMPLICIT type\",\n+\t\t     sym->name, &sym->declared_at);\n+\t  sym->attr.untyped = 1; /* Ensure we only give an error once.  */\n+\t}\n \n       return FAILURE;\n     }"}, {"sha": "199acc114b74c1cce69dd8673c6c4fe516a7a60f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1303acd60e8f6172a9a08cf8bd413913682c040/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1303acd60e8f6172a9a08cf8bd413913682c040/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d1303acd60e8f6172a9a08cf8bd413913682c040", "patch": "@@ -2,6 +2,8 @@\n \n \t* gfortran.dg/implicit_3.f90: New test.\n \n+\t* gfortran.dg/deftype_1.f90: New test.\n+\n 2005-02-23  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* g++.dg/lookup/anon2.C: Don't let access checks make it look like"}, {"sha": "e0476d02e58909c4e6a66941794d4cfc86b50944", "filename": "gcc/testsuite/gfortran.dg/deftype_1.f90", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1303acd60e8f6172a9a08cf8bd413913682c040/gcc%2Ftestsuite%2Fgfortran.dg%2Fdeftype_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1303acd60e8f6172a9a08cf8bd413913682c040/gcc%2Ftestsuite%2Fgfortran.dg%2Fdeftype_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fdeftype_1.f90?ref=d1303acd60e8f6172a9a08cf8bd413913682c040", "patch": "@@ -0,0 +1,6 @@\n+! { dg-do compile }\n+! Checks for excess errors.\n+implicit none\n+dimension i(10) ! { dg-error \"has no IMPLICIT type\" }\n+i = 2\n+end"}]}