{"sha": "79c282037d19cfd0c9cb1de06dc019a66c8e0d8b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzljMjgyMDM3ZDE5Y2ZkMGM5Y2IxZGUwNmRjMDE5YTY2YzhlMGQ4Yg==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2000-07-18T17:53:35Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2000-07-18T17:53:35Z"}, "message": "c-decl.c (duplicate_decls): Do not call make_var_volatile() in case of invalid volatile re-declaration.\n\n* c-decl.c (duplicate_decls): Do not call make_var_volatile() in\ncase of invalid volatile re-declaration.\n\nFrom-SVN: r35119", "tree": {"sha": "6154740f732e8db899e1935b6c2436ff0fdcab1b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6154740f732e8db899e1935b6c2436ff0fdcab1b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/79c282037d19cfd0c9cb1de06dc019a66c8e0d8b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79c282037d19cfd0c9cb1de06dc019a66c8e0d8b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/79c282037d19cfd0c9cb1de06dc019a66c8e0d8b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79c282037d19cfd0c9cb1de06dc019a66c8e0d8b/comments", "author": null, "committer": null, "parents": [{"sha": "a306451c69c32c01b8c498d321502a5a595fdd41", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a306451c69c32c01b8c498d321502a5a595fdd41", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a306451c69c32c01b8c498d321502a5a595fdd41"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "a8cd839fd917dad39344e96fecfc168907e3f3cd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79c282037d19cfd0c9cb1de06dc019a66c8e0d8b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79c282037d19cfd0c9cb1de06dc019a66c8e0d8b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=79c282037d19cfd0c9cb1de06dc019a66c8e0d8b", "patch": "@@ -1,3 +1,8 @@\n+2000-07-18  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* c-decl.c (duplicate_decls): Do not call make_var_volatile() in\n+\tcase of invalid volatile re-declaration.\n+\n 2000-07-18  Jakub Jelinek  <jakub@redhat.com>\n \n \t* calls.c (store_arg): Return non-zero if sibcall_failure is"}, {"sha": "c2bbb95c5fedcba3deff1e903ec8f61c896f630e", "filename": "gcc/c-decl.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79c282037d19cfd0c9cb1de06dc019a66c8e0d8b/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79c282037d19cfd0c9cb1de06dc019a66c8e0d8b/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=79c282037d19cfd0c9cb1de06dc019a66c8e0d8b", "patch": "@@ -1843,7 +1843,14 @@ duplicate_decls (newdecl, olddecl, different_binding_level)\n       if (TREE_THIS_VOLATILE (newdecl))\n \t{\n \t  TREE_THIS_VOLATILE (write_olddecl) = 1;\n-\t  if (TREE_CODE (newdecl) == VAR_DECL)\n+\t  if (TREE_CODE (newdecl) == VAR_DECL\n+\t      /* If an automatic variable is re-declared in the same\n+\t\t function scope, but the old declaration was not\n+\t\t volatile, make_var_volatile() would crash because the\n+\t\t variable would have been assigned to a pseudo, not a\n+\t\t MEM.  Since this duplicate declaration is invalid\n+\t\t anyway, we just skip the call.  */\n+\t      && errmsg == 0)\n \t    make_var_volatile (newdecl);\n \t}\n "}]}