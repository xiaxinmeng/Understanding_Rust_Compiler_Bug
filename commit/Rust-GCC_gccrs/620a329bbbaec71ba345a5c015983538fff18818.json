{"sha": "620a329bbbaec71ba345a5c015983538fff18818", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjIwYTMyOWJiYmFlYzcxYmEzNDVhNWMwMTU5ODM1MzhmZmYxODgxOA==", "commit": {"author": {"name": "Roger Sayle", "email": "roger@eyesopen.com", "date": "2003-07-31T11:55:06Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2003-07-31T11:55:06Z"}, "message": "configure.in: Add new THREADCXXFLAGS variable.\n\n\t* configure.in: Add new THREADCXXFLAGS variable.\n  \tHandle POSIX threads on alpha*-dec-osf*.\n\t* configure: Regenerate.\n\t* Makefile.am: Add THREADCXXFLAGS to AM_CXXFLAGS.\n\t* Makefile.in: Regenerate.\n\nCo-Authored-By: Rainer Orth <ro@TechFak.Uni-Bielefeld.DE>\n\nFrom-SVN: r69997", "tree": {"sha": "5117323524650baf6f27d7e6c17b0db782833e8a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5117323524650baf6f27d7e6c17b0db782833e8a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/620a329bbbaec71ba345a5c015983538fff18818", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/620a329bbbaec71ba345a5c015983538fff18818", "html_url": "https://github.com/Rust-GCC/gccrs/commit/620a329bbbaec71ba345a5c015983538fff18818", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/620a329bbbaec71ba345a5c015983538fff18818/comments", "author": null, "committer": null, "parents": [{"sha": "689a714d9f2e05d43e50f78316569ce8acfa7338", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/689a714d9f2e05d43e50f78316569ce8acfa7338", "html_url": "https://github.com/Rust-GCC/gccrs/commit/689a714d9f2e05d43e50f78316569ce8acfa7338"}], "stats": {"total": 833, "additions": 450, "deletions": 383}, "files": [{"sha": "4fceb4f85ed5daf8f8b228a155a72a265a149670", "filename": "libjava/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/620a329bbbaec71ba345a5c015983538fff18818/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/620a329bbbaec71ba345a5c015983538fff18818/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=620a329bbbaec71ba345a5c015983538fff18818", "patch": "@@ -1,3 +1,12 @@\n+2003-07-31  Roger Sayle  <roger@eyesopen.com>\n+\t    Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n+\n+\t* configure.in: Add new THREADCXXFLAGS variable.\n+  \tHandle POSIX threads on alpha*-dec-osf*.\n+\t* configure: Regenerate.\n+\t* Makefile.am: Add THREADCXXFLAGS to AM_CXXFLAGS.\n+\t* Makefile.in: Regenerate.\n+\n 2003-07-08  Andrew Haley  <aph@redhat.com>\n \n         * include/i386-signal.h (RESTORE): New."}, {"sha": "b9baa8322c7848f65da47154ed30bf605e1af438", "filename": "libjava/Makefile.am", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/620a329bbbaec71ba345a5c015983538fff18818/libjava%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/620a329bbbaec71ba345a5c015983538fff18818/libjava%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.am?ref=620a329bbbaec71ba345a5c015983538fff18818", "patch": "@@ -95,7 +95,7 @@ GCC_UNWIND_INCLUDE = @GCC_UNWIND_INCLUDE@\n WARNINGS = -W -Wall\n ## We need _GNU_SOURCE defined for some Linux builds.  It doesn't hurt\n ## to always define it.\n-AM_CXXFLAGS = -fno-rtti -fnon-call-exceptions \\\n+AM_CXXFLAGS = -fno-rtti -fnon-call-exceptions $(THREADCXXFLAGS) \\\n ## Some systems don't allow `$' in identifiers by default, so we force it.\n \t-fdollars-in-identifiers \\\n ## Detect bugs in the verifier implementation, and maybe other places."}, {"sha": "13912d010e9b649d81cd9d461ed7d4b8b90df3b0", "filename": "libjava/Makefile.in", "status": "modified", "additions": 71, "deletions": 19, "changes": 90, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/620a329bbbaec71ba345a5c015983538fff18818/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/620a329bbbaec71ba345a5c015983538fff18818/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=620a329bbbaec71ba345a5c015983538fff18818", "patch": "@@ -123,6 +123,7 @@ STRIP = @STRIP@\n SYSDEP_SOURCES = @SYSDEP_SOURCES@\n SYSTEMSPEC = @SYSTEMSPEC@\n SYS_ZLIBS = @SYS_ZLIBS@\n+THREADCXXFLAGS = @THREADCXXFLAGS@\n THREADDEPS = @THREADDEPS@\n THREADINCS = @THREADINCS@\n THREADLDFLAGS = @THREADLDFLAGS@\n@@ -193,7 +194,7 @@ JAVAC = $(GCJ_WITH_FLAGS) -C\n GCC_UNWIND_INCLUDE = @GCC_UNWIND_INCLUDE@\n \n WARNINGS = -W -Wall\n-AM_CXXFLAGS = -fno-rtti -fnon-call-exceptions \\\n+AM_CXXFLAGS = -fno-rtti -fnon-call-exceptions $(THREADCXXFLAGS) \\\n \t-fdollars-in-identifiers \\\n \t-Wswitch-enum \\\n \t@LIBGCJ_CXXFLAGS@ @X_CFLAGS@ $(WARNINGS) -D_GNU_SOURCE \\\n@@ -2686,13 +2687,14 @@ LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(LDFLAGS) -o $@\n DATA =  $(jar_DATA) $(pkgconfig_DATA) $(toolexecmainlib_DATA)\n \n DIST_COMMON =  README COPYING ChangeLog Makefile.am Makefile.in NEWS \\\n-THANKS acinclude.m4 aclocal.m4 configure configure.in \\\n-libgcj-test.spec.in libgcj.pc.in libgcj.spec.in\n+THANKS acconfig.h acinclude.m4 aclocal.m4 configure configure.in \\\n+gcj/libgcj-config.h.in gcj/stamp-h2.in include/config.h.in \\\n+include/stamp-h1.in libgcj-test.spec.in libgcj.pc.in libgcj.spec.in\n \n \n DISTFILES = $(DIST_COMMON) $(SOURCES) $(HEADERS) $(TEXINFOS) $(EXTRA_DIST)\n \n-TAR = gtar\n+TAR = tar\n GZIP_ENV = --best\n DIST_SUBDIRS =  @DIRLTDL@ testsuite gcj include @DIRLTDL@ gcj include\n DEP_FILES =  .deps/$(srcdir)/$(CONVERT_DIR)/gen-from-JIS.P \\\n@@ -4315,6 +4317,53 @@ config.status: $(srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)\n \t$(SHELL) ./config.status --recheck\n $(srcdir)/configure: @MAINTAINER_MODE_TRUE@$(srcdir)/configure.in $(ACLOCAL_M4) $(CONFIGURE_DEPENDENCIES)\n \tcd $(srcdir) && $(AUTOCONF)\n+\n+include/config.h: include/stamp-h1\n+\t@if test ! -f $@; then \\\n+\t\trm -f include/stamp-h1; \\\n+\t\t$(MAKE) include/stamp-h1; \\\n+\telse :; fi\n+include/stamp-h1: $(srcdir)/include/config.h.in $(top_builddir)/config.status\n+\tcd $(top_builddir) \\\n+\t  && CONFIG_FILES= CONFIG_HEADERS=include/config.h \\\n+\t     $(SHELL) ./config.status\n+\t@echo timestamp > include/stamp-h1 2> /dev/null\n+$(srcdir)/include/config.h.in: @MAINTAINER_MODE_TRUE@$(srcdir)/include/stamp-h1.in\n+\t@if test ! -f $@; then \\\n+\t\trm -f $(srcdir)/include/stamp-h1.in; \\\n+\t\t$(MAKE) $(srcdir)/include/stamp-h1.in; \\\n+\telse :; fi\n+$(srcdir)/include/stamp-h1.in: $(top_srcdir)/configure.in $(ACLOCAL_M4) acconfig.h\n+\tcd $(top_srcdir) && $(AUTOHEADER)\n+\t@echo timestamp > $(srcdir)/include/stamp-h1.in 2> /dev/null\n+\n+gcj/libgcj-config.h: gcj/stamp-h2\n+\t@if test ! -f $@; then \\\n+\t\trm -f gcj/stamp-h2; \\\n+\t\t$(MAKE) gcj/stamp-h2; \\\n+\telse :; fi\n+gcj/stamp-h2: $(srcdir)/gcj/libgcj-config.h.in $(top_builddir)/config.status\n+\tcd $(top_builddir) \\\n+\t  && CONFIG_FILES= CONFIG_HEADERS=gcj/libgcj-config.h \\\n+\t     $(SHELL) ./config.status\n+\t@echo timestamp > gcj/stamp-h2 2> /dev/null\n+$(srcdir)/gcj/libgcj-config.h.in: @MAINTAINER_MODE_TRUE@$(srcdir)/gcj/stamp-h2.in\n+\t@if test ! -f $@; then \\\n+\t\trm -f $(srcdir)/gcj/stamp-h2.in; \\\n+\t\t$(MAKE) $(srcdir)/gcj/stamp-h2.in; \\\n+\telse :; fi\n+$(srcdir)/gcj/stamp-h2.in: $(top_srcdir)/configure.in $(ACLOCAL_M4) acconfig.h\n+\tcd $(top_srcdir) && $(AUTOHEADER)\n+\t@echo timestamp > $(srcdir)/gcj/stamp-h2.in 2> /dev/null\n+\n+mostlyclean-hdr:\n+\n+clean-hdr:\n+\n+distclean-hdr:\n+\t-rm -f include/config.h gcj/libgcj-config.h\n+\n+maintainer-clean-hdr:\n libgcj.pc: $(top_builddir)/config.status libgcj.pc.in\n \tcd $(top_builddir) && CONFIG_FILES=$@ CONFIG_HEADERS= $(SHELL) ./config.status\n libgcj.spec: $(top_builddir)/config.status libgcj.spec.in\n@@ -4779,29 +4828,32 @@ distclean-generic:\n \t-rm -f config.cache config.log stamp-h stamp-h[0-9]*\n \n maintainer-clean-generic:\n-mostlyclean-am:  mostlyclean-toolexeclibLTLIBRARIES mostlyclean-compile \\\n-\t\tmostlyclean-libtool mostlyclean-binPROGRAMS \\\n-\t\tmostlyclean-noinstPROGRAMS mostlyclean-tags \\\n-\t\tmostlyclean-depend mostlyclean-generic\n+mostlyclean-am:  mostlyclean-hdr mostlyclean-toolexeclibLTLIBRARIES \\\n+\t\tmostlyclean-compile mostlyclean-libtool \\\n+\t\tmostlyclean-binPROGRAMS mostlyclean-noinstPROGRAMS \\\n+\t\tmostlyclean-tags mostlyclean-depend mostlyclean-generic\n \n mostlyclean: mostlyclean-recursive\n \n-clean-am:  clean-toolexeclibLTLIBRARIES clean-compile clean-libtool \\\n-\t\tclean-binPROGRAMS clean-noinstPROGRAMS clean-tags \\\n-\t\tclean-depend clean-generic mostlyclean-am clean-local\n+clean-am:  clean-hdr clean-toolexeclibLTLIBRARIES clean-compile \\\n+\t\tclean-libtool clean-binPROGRAMS clean-noinstPROGRAMS \\\n+\t\tclean-tags clean-depend clean-generic mostlyclean-am \\\n+\t\tclean-local\n \n clean: clean-recursive\n \n-distclean-am:  distclean-toolexeclibLTLIBRARIES distclean-compile \\\n-\t\tdistclean-libtool distclean-binPROGRAMS \\\n-\t\tdistclean-noinstPROGRAMS distclean-tags \\\n-\t\tdistclean-depend distclean-generic clean-am\n+distclean-am:  distclean-hdr distclean-toolexeclibLTLIBRARIES \\\n+\t\tdistclean-compile distclean-libtool \\\n+\t\tdistclean-binPROGRAMS distclean-noinstPROGRAMS \\\n+\t\tdistclean-tags distclean-depend distclean-generic \\\n+\t\tclean-am\n \t-rm -f libtool\n \n distclean: distclean-recursive\n \t-rm -f config.status\n \n-maintainer-clean-am:  maintainer-clean-toolexeclibLTLIBRARIES \\\n+maintainer-clean-am:  maintainer-clean-hdr \\\n+\t\tmaintainer-clean-toolexeclibLTLIBRARIES \\\n \t\tmaintainer-clean-compile maintainer-clean-libtool \\\n \t\tmaintainer-clean-binPROGRAMS \\\n \t\tmaintainer-clean-noinstPROGRAMS maintainer-clean-tags \\\n@@ -4813,9 +4865,9 @@ maintainer-clean-am:  maintainer-clean-toolexeclibLTLIBRARIES \\\n maintainer-clean: maintainer-clean-recursive\n \t-rm -f config.status\n \n-.PHONY: mostlyclean-toolexeclibLTLIBRARIES \\\n-distclean-toolexeclibLTLIBRARIES clean-toolexeclibLTLIBRARIES \\\n-maintainer-clean-toolexeclibLTLIBRARIES \\\n+.PHONY: mostlyclean-hdr distclean-hdr clean-hdr maintainer-clean-hdr \\\n+mostlyclean-toolexeclibLTLIBRARIES distclean-toolexeclibLTLIBRARIES \\\n+clean-toolexeclibLTLIBRARIES maintainer-clean-toolexeclibLTLIBRARIES \\\n uninstall-toolexeclibLTLIBRARIES install-toolexeclibLTLIBRARIES \\\n mostlyclean-compile distclean-compile clean-compile \\\n maintainer-clean-compile mostlyclean-libtool distclean-libtool \\"}, {"sha": "9d4f7be940a720d8aadf57bbbb781f8e988f71a0", "filename": "libjava/configure", "status": "modified", "additions": 361, "deletions": 363, "changes": 724, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/620a329bbbaec71ba345a5c015983538fff18818/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/620a329bbbaec71ba345a5c015983538fff18818/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=620a329bbbaec71ba345a5c015983538fff18818"}, {"sha": "4021ae3bdfbfd7ba1bcc8e76e471581a45e7ca8d", "filename": "libjava/configure.in", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/620a329bbbaec71ba345a5c015983538fff18818/libjava%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/620a329bbbaec71ba345a5c015983538fff18818/libjava%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.in?ref=620a329bbbaec71ba345a5c015983538fff18818", "patch": "@@ -432,6 +432,7 @@ case \"$THREADS\" in\n     ;;\n esac\n \n+THREADCXXFLAGS=\n THREADLDFLAGS=\n THREADLIBS=\n THREADINCS=\n@@ -466,6 +467,12 @@ changequote([,])\n \tTHREADLDFLAGS=-pthread\n \tTHREADSPEC=-lc_r\n \t;;\n+     alpha*-dec-osf*)\n+\tTHREADCXXFLAGS=-pthread\n+\t# boehm-gc needs some functions from librt, so link that too.\n+\tTHREADLIBS='-lpthread -lrt'\n+\tTHREADSPEC='-lpthread -lrt'\n+\t;;\n      *)\n \tTHREADLIBS=-lpthread\n \tTHREADSPEC=-lpthread\n@@ -503,6 +510,7 @@ AC_SUBST(THREADDEPS)\n AC_SUBST(THREADOBJS)\n AC_SUBST(THREADSPEC)\n AC_SUBST(THREADLDFLAGS)\n+AC_SUBST(THREADCXXFLAGS)\n \n if test -d sysdep; then true; else mkdir sysdep; fi\n AC_LINK_FILES(sysdep/$sysdeps_dir/locks.h, sysdep/locks.h)"}]}