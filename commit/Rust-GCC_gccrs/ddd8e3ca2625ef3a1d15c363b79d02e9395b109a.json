{"sha": "ddd8e3ca2625ef3a1d15c363b79d02e9395b109a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGRkOGUzY2EyNjI1ZWYzYTFkMTVjMzYzYjc5ZDAyZTkzOTViMTA5YQ==", "commit": {"author": {"name": "James E Wilson", "email": "wilson@specifixinc.com", "date": "2004-11-05T21:38:33Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "2004-11-05T21:38:33Z"}, "message": "Stop staying that -fno-guess-branch-probability produces random code changes.\n\n* invoke.texi (-fno-guess-branch-probability): Rewrite.\n\nFrom-SVN: r90144", "tree": {"sha": "a996ed86e9009ed6efba820c24b382189842e22d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a996ed86e9009ed6efba820c24b382189842e22d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ddd8e3ca2625ef3a1d15c363b79d02e9395b109a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ddd8e3ca2625ef3a1d15c363b79d02e9395b109a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ddd8e3ca2625ef3a1d15c363b79d02e9395b109a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ddd8e3ca2625ef3a1d15c363b79d02e9395b109a/comments", "author": null, "committer": null, "parents": [{"sha": "ea595d4ff3ce2b7ac10ceb665abd22bead716217", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea595d4ff3ce2b7ac10ceb665abd22bead716217", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea595d4ff3ce2b7ac10ceb665abd22bead716217"}], "stats": {"total": 26, "additions": 13, "deletions": 13}, "files": [{"sha": "a1a60e7d22ca88a25efc4e91b589213a73d68279", "filename": "gcc/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ddd8e3ca2625ef3a1d15c363b79d02e9395b109a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ddd8e3ca2625ef3a1d15c363b79d02e9395b109a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ddd8e3ca2625ef3a1d15c363b79d02e9395b109a", "patch": "@@ -1,5 +1,7 @@\n 2004-11-05  James E Wilson  <wilson@specifixinc.com>\n \n+\t* invoke.texi (-fno-guess-branch-probability): Rewrite.\n+\n \t* config/ia64/ia64.c (rtx_needs_barrier, case UNSPEC_GR_SPILL): Change\n \t1 to UNSPEC_GR_SPILL.\n "}, {"sha": "d6391dda24dddfc7ffde3dc255021dfd152b8572", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 11, "deletions": 13, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ddd8e3ca2625ef3a1d15c363b79d02e9395b109a/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ddd8e3ca2625ef3a1d15c363b79d02e9395b109a/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=ddd8e3ca2625ef3a1d15c363b79d02e9395b109a", "patch": "@@ -4758,19 +4758,17 @@ other, a few use both.\n \n @item -fno-guess-branch-probability\n @opindex fno-guess-branch-probability\n-Do not guess branch probabilities using a randomized model.\n-\n-Sometimes GCC will opt to use a randomized model to guess branch\n-probabilities, when none are available from either profiling feedback\n-(@option{-fprofile-arcs}) or @samp{__builtin_expect}.  This means that\n-different runs of the compiler on the same program may produce different\n-object code.\n-\n-In a hard real-time system, people don't want different runs of the\n-compiler to produce code that has different behavior; minimizing\n-non-determinism is of paramount import.  This switch allows users to\n-reduce non-determinism, possibly at the expense of inferior\n-optimization.\n+Do not guess branch probabilities using heuristics.\n+\n+GCC will use heuristics to guess branch probabilities if they are\n+not provided by profiling feedback (@option{-fprofile-arcs}).  These\n+heuristics are based on the control flow graph.  If some branch probabilities\n+are specified by @samp{__builtin_expect}, then the heuristics will be\n+used to guess branch probabilities for the rest of the control flow graph,\n+taking the @samp{__builtin_expect} info into account.  The interactions\n+between the heuristics and @samp{__builtin_expect} can be complex, and in\n+some cases, it may be useful to disable the heuristics so that the effects\n+of @samp{__builtin_expect} are easier to understand.\n \n The default is @option{-fguess-branch-probability} at levels\n @option{-O}, @option{-O2}, @option{-O3}, @option{-Os}."}]}