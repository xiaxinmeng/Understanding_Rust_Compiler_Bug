{"sha": "accf94329d61933e6c58c1d7815fb08d8fc2afa5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWNjZjk0MzI5ZDYxOTMzZTZjNThjMWQ3ODE1ZmIwOGQ4ZmMyYWZhNQ==", "commit": {"author": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2021-09-01T14:48:55Z"}, "committer": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2021-09-13T16:38:50Z"}, "message": "Simplify 'gcc/diagnostic-spec.h:nowarn_map' setup\n\nIf we've just read something from the map, we can be sure that it exists.\n\n\tgcc/\n\t* warning-control.cc (copy_warning): Remove 'nowarn_map' setup.", "tree": {"sha": "58c94c836fd718989e4fc07591a49778d9b8a2c0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/58c94c836fd718989e4fc07591a49778d9b8a2c0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/accf94329d61933e6c58c1d7815fb08d8fc2afa5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/accf94329d61933e6c58c1d7815fb08d8fc2afa5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/accf94329d61933e6c58c1d7815fb08d8fc2afa5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/accf94329d61933e6c58c1d7815fb08d8fc2afa5/comments", "author": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "76b75018b3d053a890ebe155e47814de14b3c9fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/76b75018b3d053a890ebe155e47814de14b3c9fb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/76b75018b3d053a890ebe155e47814de14b3c9fb"}], "stats": {"total": 4, "additions": 1, "deletions": 3}, "files": [{"sha": "9c506e163d676f2532862fdff52e7184a813d334", "filename": "gcc/warning-control.cc", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/accf94329d61933e6c58c1d7815fb08d8fc2afa5/gcc%2Fwarning-control.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/accf94329d61933e6c58c1d7815fb08d8fc2afa5/gcc%2Fwarning-control.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fwarning-control.cc?ref=accf94329d61933e6c58c1d7815fb08d8fc2afa5", "patch": "@@ -188,9 +188,7 @@ void copy_warning (ToType to, FromType from)\n       /* If there's an entry in the map the no-warning bit must be set.  */\n       gcc_assert (get_no_warning_bit (from));\n \n-      if (!nowarn_map)\n-\tnowarn_map = xint_hash_map_t::create_ggc (32);\n-\n+      gcc_checking_assert (nowarn_map);\n       nowarn_map->put (to_key, *from_map);\n       set_no_warning_bit (to, true);\n     }"}]}