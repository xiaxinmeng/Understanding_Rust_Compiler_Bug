{"sha": "95bcd2a700d3284d3606ddedf18eec22243c1239", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTViY2QyYTcwMGQzMjg0ZDM2MDZkZGVkZjE4ZWVjMjIyNDNjMTIzOQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@adacore.com", "date": "2015-11-12T12:00:56Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2015-11-12T12:00:56Z"}, "message": "switch-c.adb, [...]: Reserve -gnateg for generation of C headers.\n\n2015-11-12  Arnaud Charlet  <charlet@adacore.com>\n\n\t* switch-c.adb, gnat1drv.adb, opt.ads: Reserve -gnateg for generation\n\tof C headers.\n\nFrom-SVN: r230248", "tree": {"sha": "df81795285fd0f55eadd887033fef7be91a57474", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/df81795285fd0f55eadd887033fef7be91a57474"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/95bcd2a700d3284d3606ddedf18eec22243c1239", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95bcd2a700d3284d3606ddedf18eec22243c1239", "html_url": "https://github.com/Rust-GCC/gccrs/commit/95bcd2a700d3284d3606ddedf18eec22243c1239", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95bcd2a700d3284d3606ddedf18eec22243c1239/comments", "author": {"login": "ArnaudCharlet", "id": 30291825, "node_id": "MDQ6VXNlcjMwMjkxODI1", "avatar_url": "https://avatars.githubusercontent.com/u/30291825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArnaudCharlet", "html_url": "https://github.com/ArnaudCharlet", "followers_url": "https://api.github.com/users/ArnaudCharlet/followers", "following_url": "https://api.github.com/users/ArnaudCharlet/following{/other_user}", "gists_url": "https://api.github.com/users/ArnaudCharlet/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArnaudCharlet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArnaudCharlet/subscriptions", "organizations_url": "https://api.github.com/users/ArnaudCharlet/orgs", "repos_url": "https://api.github.com/users/ArnaudCharlet/repos", "events_url": "https://api.github.com/users/ArnaudCharlet/events{/privacy}", "received_events_url": "https://api.github.com/users/ArnaudCharlet/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d1915cb82c1319af3267e9617fd81ecbeef01a2c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1915cb82c1319af3267e9617fd81ecbeef01a2c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d1915cb82c1319af3267e9617fd81ecbeef01a2c"}], "stats": {"total": 20, "additions": 18, "deletions": 2}, "files": [{"sha": "51448ed271f15d39e68f0407b825ab02c68d7560", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95bcd2a700d3284d3606ddedf18eec22243c1239/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95bcd2a700d3284d3606ddedf18eec22243c1239/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=95bcd2a700d3284d3606ddedf18eec22243c1239", "patch": "@@ -1,3 +1,8 @@\n+2015-11-12  Arnaud Charlet  <charlet@adacore.com>\n+\n+\t* switch-c.adb, gnat1drv.adb, opt.ads: Reserve -gnateg for generation\n+\tof C headers.\n+\n 2015-11-12  Arnaud Charlet  <charlet@adacore.com>\n \n \t* back_end.adb, opt.ads (Debugger_Level): Update comment."}, {"sha": "7e5b0671685ccda0f3c618c9c4aff849f58e65c1", "filename": "gcc/ada/gnat1drv.adb", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95bcd2a700d3284d3606ddedf18eec22243c1239/gcc%2Fada%2Fgnat1drv.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95bcd2a700d3284d3606ddedf18eec22243c1239/gcc%2Fada%2Fgnat1drv.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat1drv.adb?ref=95bcd2a700d3284d3606ddedf18eec22243c1239", "patch": "@@ -142,10 +142,15 @@ procedure Gnat1drv is\n          Modify_Tree_For_C := True;\n       end if;\n \n-      --  Set all flags required when generating C code (-gnatd.V)\n+      --  -gnatd.V enables C generation\n \n       if Debug_Flag_Dot_VV then\n          Generate_C_Code := True;\n+      end if;\n+\n+      --  Set all flags required when generating C code\n+\n+      if Generate_C_Code then\n          Modify_Tree_For_C := True;\n          Unnest_Subprogram_Mode := True;\n "}, {"sha": "9e0acdc317ea4e9c924074c1637e48c180259ca2", "filename": "gcc/ada/opt.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95bcd2a700d3284d3606ddedf18eec22243c1239/gcc%2Fada%2Fopt.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95bcd2a700d3284d3606ddedf18eec22243c1239/gcc%2Fada%2Fopt.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fopt.ads?ref=95bcd2a700d3284d3606ddedf18eec22243c1239", "patch": "@@ -704,7 +704,7 @@ package Opt is\n    Generate_C_Code : Boolean := False;\n    --  GNAT\n    --  If True, the Cprint circuitry to generate C code output is activated.\n-   --  Set True by use of -gnatd.V.\n+   --  Set True by use of -gnateg or -gnatd.V.\n \n    Generate_CodePeer_Messages : Boolean := False;\n    --  GNAT"}, {"sha": "4f565ceb2f4b7bac9b02635197d81281d18e22de", "filename": "gcc/ada/switch-c.adb", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95bcd2a700d3284d3606ddedf18eec22243c1239/gcc%2Fada%2Fswitch-c.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95bcd2a700d3284d3606ddedf18eec22243c1239/gcc%2Fada%2Fswitch-c.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fswitch-c.adb?ref=95bcd2a700d3284d3606ddedf18eec22243c1239", "patch": "@@ -585,6 +585,12 @@ package body Switch.C is\n                      Ptr := Ptr + 1;\n                      Check_Float_Overflow := not Machine_Overflows_On_Target;\n \n+                  --  -gnateg (generate C code)\n+\n+                  when 'g' =>\n+                     Generate_C_Code := True;\n+                     Ptr := Ptr + 1;\n+\n                   --  -gnateG (save preprocessor output)\n \n                   when 'G' =>"}]}