{"sha": "2096c147c7848b17b44f7f15eaf1862984fc698b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjA5NmMxNDdjNzg0OGIxN2I0NGY3ZjE1ZWFmMTg2Mjk4NGZjNjk4Yg==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1996-05-17T16:18:45Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1996-05-17T16:18:45Z"}, "message": "mips.c (target_switches, [...]): Delete.\n\n\t* mips/mips.c (target_switches, print_options): Delete.\n\t(mips_asm_file_start): Put output of -G,Cpu,ISA here.\n\nFrom-SVN: r11996", "tree": {"sha": "aff7c5a55fd2ca17c16caa8b50f3078f7a4313fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aff7c5a55fd2ca17c16caa8b50f3078f7a4313fa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2096c147c7848b17b44f7f15eaf1862984fc698b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2096c147c7848b17b44f7f15eaf1862984fc698b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2096c147c7848b17b44f7f15eaf1862984fc698b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2096c147c7848b17b44f7f15eaf1862984fc698b/comments", "author": null, "committer": null, "parents": [{"sha": "0f1da36e575ccf47feeb0d53b1888057ccc55fb4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f1da36e575ccf47feeb0d53b1888057ccc55fb4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f1da36e575ccf47feeb0d53b1888057ccc55fb4"}], "stats": {"total": 83, "additions": 5, "deletions": 78}, "files": [{"sha": "26a36bdffb7beb9a841b2977b519d1c95efa799c", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 5, "deletions": 78, "changes": 83, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2096c147c7848b17b44f7f15eaf1862984fc698b/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2096c147c7848b17b44f7f15eaf1862984fc698b/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=2096c147c7848b17b44f7f15eaf1862984fc698b", "patch": "@@ -1,5 +1,5 @@\n /* Subroutines for insn-output.c for MIPS\n-   Copyright (C) 1989, 90, 91, 93, 94, 1995 Free Software Foundation, Inc.\n+   Copyright (C) 1989, 90, 91, 93-95, 1996 Free Software Foundation, Inc.\n    Contributed by A. Lichnewsky, lich@inria.inria.fr.\n    Changes by Michael Meissner, meissner@osf.org.\n    64 bit r4000 support by Ian Lance Taylor, ian@cygnus.com, and\n@@ -3033,82 +3033,6 @@ function_arg_partial_nregs (cum, mode, type, named)\n \n   return 0;\n }\n-\n-\f\n-/* Print the options used in the assembly file.  */\n-\n-static struct {char *name; int value;} target_switches []\n-  = TARGET_SWITCHES;\n-\n-void\n-print_options (out)\n-     FILE *out;\n-{\n-  int line_len;\n-  int len;\n-  int j;\n-  char **p;\n-  int mask = TARGET_DEFAULT;\n-\n-  /* Allow assembly language comparisons with -mdebug eliminating the\n-     compiler version number and switch lists.  */\n-\n-  if (TARGET_DEBUG_MODE)\n-    return;\n-\n-  fprintf (out, \"\\n # %s %s\", language_string, version_string);\n-#ifdef TARGET_VERSION_INTERNAL\n-  TARGET_VERSION_INTERNAL (out);\n-#endif\n-#ifdef __GNUC__\n-  fprintf (out, \" compiled by GNU C\\n\\n\");\n-#else\n-  fprintf (out, \" compiled by CC\\n\\n\");\n-#endif\n-\n-  fprintf (out, \" # Cc1 defaults:\");\n-  line_len = 32767;\n-  for (j = 0; j < sizeof target_switches / sizeof target_switches[0]; j++)\n-    {\n-      if (target_switches[j].name[0] != '\\0'\n-\t  && target_switches[j].value > 0\n-\t  && (target_switches[j].value & mask) == target_switches[j].value)\n-\t{\n-\t  mask &= ~ target_switches[j].value;\n-\t  len = strlen (target_switches[j].name) + 1;\n-\t  if (len + line_len > 79)\n-\t    {\n-\t      line_len = 2;\n-\t      fputs (\"\\n #\", out);\n-\t    }\n-\t  fprintf (out, \" -m%s\", target_switches[j].name);\n-\t  line_len += len;\n-\t}\n-    }\n-\n-  fprintf (out, \"\\n\\n # Cc1 arguments (-G value = %d, Cpu = %s, ISA = %d):\",\n-\t   mips_section_threshold, mips_cpu_string, mips_isa);\n-\n-  line_len = 32767;\n-  for (p = &save_argv[1]; *p != (char *)0; p++)\n-    {\n-      char *arg = *p;\n-      if (*arg == '-')\n-\t{\n-\t  len = strlen (arg) + 1;\n-\t  if (len + line_len > 79)\n-\t    {\n-\t      line_len = 2;\n-\t      fputs (\"\\n #\", out);\n-\t    }\n-\t  fprintf (out, \" %s\", *p);\n-\t  line_len += len;\n-\t}\n-    }\n-\n-  fputs (\"\\n\\n\", out);\n-}\n-\n \f\n /* Abort after printing out a specific insn.  */\n \n@@ -4194,7 +4118,10 @@ mips_asm_file_start (stream)\n   else\n     asm_out_data_file = asm_out_text_file = stream;\n \n-  print_options (stream);\n+  if (flag_verbose_asm)\n+    fprintf (stream, \"\\n%s -G value = %d, Cpu = %s, ISA = %d\\n\",\n+\t     ASM_COMMENT_START,\n+\t     mips_section_threshold, mips_cpu_string, mips_isa);\n }\n \n \f"}]}