{"sha": "c1cb31a74fcf4c286d32e75ef88945a1d1d467db", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzFjYjMxYTc0ZmNmNGMyODZkMzJlNzVlZjg4OTQ1YTFkMWQ0NjdkYg==", "commit": {"author": {"name": "Balaji V. Iyer", "email": "balaji.v.iyer@intel.com", "date": "2013-10-31T23:55:21Z"}, "committer": {"name": "Balaji V. Iyer", "email": "bviyer@gcc.gnu.org", "date": "2013-10-31T23:55:21Z"}, "message": "Fix for PR other/58925 +2013-10-31 Balaji V.\n\nFix for PR other/58925\n+2013-10-31  Balaji V. Iyer  <balaji.v.iyer@intel.com>\n+\n+       PR other/58925\n+       * configure.ac: Added target_alias and GCC_LIBSTDCXX_RAW_CXX_FLAGS\n+       fields.\n+       * configure: Regenerated.\n+       * aclocal.m4: Likewise.\n+       * Makefile.in: Likewise.\n+       * Makefile.am: Added gcc_version field.\n+\n\nFrom-SVN: r204280", "tree": {"sha": "5c964b38105977ef3615479ab6f324b9c85bb7f6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5c964b38105977ef3615479ab6f324b9c85bb7f6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c1cb31a74fcf4c286d32e75ef88945a1d1d467db", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1cb31a74fcf4c286d32e75ef88945a1d1d467db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c1cb31a74fcf4c286d32e75ef88945a1d1d467db", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1cb31a74fcf4c286d32e75ef88945a1d1d467db/comments", "author": null, "committer": null, "parents": [{"sha": "5e20cdc96e65d712b5149af59e4580873d7928b7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e20cdc96e65d712b5149af59e4580873d7928b7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5e20cdc96e65d712b5149af59e4580873d7928b7"}], "stats": {"total": 69, "additions": 64, "deletions": 5}, "files": [{"sha": "f87be655c216b5413e21ed4436dc92c111b59b2f", "filename": "libcilkrts/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1cb31a74fcf4c286d32e75ef88945a1d1d467db/libcilkrts%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1cb31a74fcf4c286d32e75ef88945a1d1d467db/libcilkrts%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcilkrts%2FChangeLog?ref=c1cb31a74fcf4c286d32e75ef88945a1d1d467db", "patch": "@@ -1,3 +1,13 @@\n+2013-10-31  Balaji V. Iyer  <balaji.v.iyer@intel.com>\n+\n+\tPR other/58925\n+\t* configure.ac: Added target_alias and GCC_LIBSTDCXX_RAW_CXX_FLAGS\n+\tfields.\n+\t* configure: Regenerated.\n+\t* aclocal.m4: Likewise.\n+\t* Makefile.in: Likewise.\n+\t* Makefile.am: Added gcc_version field.\n+\n 2013-10-30  Balaji V. Iyer  <balaji.v.iyer@intel.com>\n \n \t* configure.ac: Changed a case statement to include i386."}, {"sha": "a3b07efb68b47e3940641df5bb69ddacc42623e5", "filename": "libcilkrts/Makefile.am", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1cb31a74fcf4c286d32e75ef88945a1d1d467db/libcilkrts%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1cb31a74fcf4c286d32e75ef88945a1d1d467db/libcilkrts%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcilkrts%2FMakefile.am?ref=c1cb31a74fcf4c286d32e75ef88945a1d1d467db", "patch": "@@ -47,6 +47,9 @@ AM_CFLAGS = $(GENERAL_FLAGS) -std=c99\n AM_CPPFLAGS = $(GENERAL_FLAGS)\n AM_LDFLAGS = -lpthread -ldl\n \n+# May be used by toolexeclibdir.\n+gcc_version := $(shell cat $(top_srcdir)/../gcc/BASE-VER)\n+\n # Target list.\n toolexeclib_LTLIBRARIES = libcilkrts.la\n "}, {"sha": "9f459cccf16ebe81705d8696550fea3b39964e09", "filename": "libcilkrts/Makefile.in", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1cb31a74fcf4c286d32e75ef88945a1d1d467db/libcilkrts%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1cb31a74fcf4c286d32e75ef88945a1d1d467db/libcilkrts%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcilkrts%2FMakefile.in?ref=c1cb31a74fcf4c286d32e75ef88945a1d1d467db", "patch": "@@ -122,8 +122,10 @@ DIST_COMMON = $(srcdir)/include/internal/rev.mk README ChangeLog \\\n @MAC_LINKER_SCRIPT_TRUE@am__append_2 = -Wl,-exported_symbols_list,$(srcdir)/runtime/mac-symbols.txt\n subdir = .\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n-am__aclocal_m4_deps = $(top_srcdir)/../config/depstand.m4 \\\n+am__aclocal_m4_deps = $(top_srcdir)/../config/acx.m4 \\\n+\t$(top_srcdir)/../config/depstand.m4 \\\n \t$(top_srcdir)/../config/lead-dot.m4 \\\n+\t$(top_srcdir)/../config/libstdc++-raw-cxx.m4 \\\n \t$(top_srcdir)/../config/multi.m4 \\\n \t$(top_srcdir)/../config/override.m4 \\\n \t$(top_srcdir)/../libtool.m4 $(top_srcdir)/../ltoptions.m4 \\\n@@ -243,6 +245,8 @@ LD = @LD@\n LDFLAGS = @LDFLAGS@\n LIBOBJS = @LIBOBJS@\n LIBS = @LIBS@\n+LIBSTDCXX_RAW_CXX_CXXFLAGS = @LIBSTDCXX_RAW_CXX_CXXFLAGS@\n+LIBSTDCXX_RAW_CXX_LDFLAGS = @LIBSTDCXX_RAW_CXX_LDFLAGS@\n LIBTOOL = @LIBTOOL@\n LIPO = @LIPO@\n LN_S = @LN_S@\n@@ -323,6 +327,7 @@ sysconfdir = @sysconfdir@\n target = @target@\n target_alias = @target_alias@\n target_cpu = @target_cpu@\n+target_noncanonical = @target_noncanonical@\n target_os = @target_os@\n target_vendor = @target_vendor@\n toolexecdir = @toolexecdir@\n@@ -346,6 +351,9 @@ AM_CFLAGS = $(GENERAL_FLAGS) -std=c99\n AM_CPPFLAGS = $(GENERAL_FLAGS)\n AM_LDFLAGS = -lpthread -ldl\n \n+# May be used by toolexeclibdir.\n+gcc_version := $(shell cat $(top_srcdir)/../gcc/BASE-VER)\n+\n # Target list.\n toolexeclib_LTLIBRARIES = libcilkrts.la\n libcilkrts_la_SOURCES = \\"}, {"sha": "c24d0b604153d9362d1f82bcb31f4438a849e17c", "filename": "libcilkrts/aclocal.m4", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1cb31a74fcf4c286d32e75ef88945a1d1d467db/libcilkrts%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1cb31a74fcf4c286d32e75ef88945a1d1d467db/libcilkrts%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcilkrts%2Faclocal.m4?ref=c1cb31a74fcf4c286d32e75ef88945a1d1d467db", "patch": "@@ -968,8 +968,10 @@ AC_SUBST([am__tar])\n AC_SUBST([am__untar])\n ]) # _AM_PROG_TAR\n \n+m4_include([../config/acx.m4])\n m4_include([../config/depstand.m4])\n m4_include([../config/lead-dot.m4])\n+m4_include([../config/libstdc++-raw-cxx.m4])\n m4_include([../config/multi.m4])\n m4_include([../config/override.m4])\n m4_include([../libtool.m4])"}, {"sha": "41deb9fcc46b7c32caa2be944ab4b7299078c4ce", "filename": "libcilkrts/configure", "status": "modified", "additions": 36, "deletions": 3, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1cb31a74fcf4c286d32e75ef88945a1d1d467db/libcilkrts%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1cb31a74fcf4c286d32e75ef88945a1d1d467db/libcilkrts%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcilkrts%2Fconfigure?ref=c1cb31a74fcf4c286d32e75ef88945a1d1d467db", "patch": "@@ -681,6 +681,9 @@ am__isrc\n INSTALL_DATA\n INSTALL_SCRIPT\n INSTALL_PROGRAM\n+LIBSTDCXX_RAW_CXX_LDFLAGS\n+LIBSTDCXX_RAW_CXX_CXXFLAGS\n+target_noncanonical\n target_os\n target_vendor\n target_cpu\n@@ -2366,6 +2369,36 @@ test -n \"$target_alias\" &&\n     NONENONEs,x,x, &&\n   program_prefix=${target_alias}-\n \n+target_alias=${target_alias-$host_alias}\n+\n+ case ${build_alias} in\n+  \"\") build_noncanonical=${build} ;;\n+  *) build_noncanonical=${build_alias} ;;\n+esac\n+\n+ case ${host_alias} in\n+  \"\") host_noncanonical=${build_noncanonical} ;;\n+  *) host_noncanonical=${host_alias} ;;\n+esac\n+\n+ case ${target_alias} in\n+  \"\") target_noncanonical=${host_noncanonical} ;;\n+  *) target_noncanonical=${target_alias} ;;\n+esac\n+\n+\n+\n+\n+\n+  LIBSTDCXX_RAW_CXX_CXXFLAGS=\"\\\n+    -I\\$(top_builddir)/../libstdc++-v3/include \\\n+    -I\\$(top_builddir)/../libstdc++-v3/include/\\$(target_noncanonical) \\\n+    -I\\$(top_srcdir)/../libstdc++-v3/libsupc++\"\n+  LIBSTDCXX_RAW_CXX_LDFLAGS=\"\\\n+    \\$(top_builddir)/../libstdc++-v3/src/libstdc++.la\"\n+\n+\n+\n am__api_version='1.11'\n \n # Find a good install program.  We prefer a C program (faster),\n@@ -4878,7 +4911,7 @@ case ${enable_version_specific_runtime_libs} in\n     # and header files if --enable-version-specific-runtime-libs option\n     # is selected.\n     toolexecdir='$(libdir)/gcc/$(target_alias)'\n-   toolexeclibdir='$(toolexecdir)/$(gcc_version)$(MULTISUBDIR)'\n+    toolexeclibdir='$(toolexecdir)/$(gcc_version)$(MULTISUBDIR)'\n     ;;\n   no)\n     if test -n \"$with_cross_host\" &&\n@@ -11024,7 +11057,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11027 \"configure\"\n+#line 11060 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -11130,7 +11163,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11133 \"configure\"\n+#line 11166 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H"}, {"sha": "4582d80c4520bd248282fdda892548363b452435", "filename": "libcilkrts/configure.ac", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1cb31a74fcf4c286d32e75ef88945a1d1d467db/libcilkrts%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1cb31a74fcf4c286d32e75ef88945a1d1d467db/libcilkrts%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcilkrts%2Fconfigure.ac?ref=c1cb31a74fcf4c286d32e75ef88945a1d1d467db", "patch": "@@ -37,6 +37,9 @@ AC_PREREQ([2.64])\n # Needed to define ${target}.  Needs to be very early to avoid annoying\n # warning about calling AC_ARG_PROGRAM before AC_CANONICAL_SYSTEM\n AC_CANONICAL_SYSTEM\n+target_alias=${target_alias-$host_alias}\n+AC_SUBST(target_alias)\n+GCC_LIBSTDCXX_RAW_CXX_FLAGS\n AM_INIT_AUTOMAKE(foreign no-dist)\n \n AM_MAINTAINER_MODE\n@@ -86,7 +89,7 @@ case ${enable_version_specific_runtime_libs} in\n     # and header files if --enable-version-specific-runtime-libs option\n     # is selected.\n     toolexecdir='$(libdir)/gcc/$(target_alias)'\n-   toolexeclibdir='$(toolexecdir)/$(gcc_version)$(MULTISUBDIR)'\n+    toolexeclibdir='$(toolexecdir)/$(gcc_version)$(MULTISUBDIR)'\n     ;;\n   no)\n     if test -n \"$with_cross_host\" &&"}]}