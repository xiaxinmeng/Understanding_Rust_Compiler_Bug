{"sha": "d8204b12f67e69835e793d6700b09bf7e1a474a8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDgyMDRiMTJmNjdlNjk4MzVlNzkzZDY3MDBiMDliZjdlMWE0NzRhOA==", "commit": {"author": {"name": "Kyrylo Tkachov", "email": "kyrylo.tkachov@arm.com", "date": "2015-06-12T13:18:17Z"}, "committer": {"name": "Kyrylo Tkachov", "email": "ktkachov@gcc.gnu.org", "date": "2015-06-12T13:18:17Z"}, "message": "[ifcvt][obvious] Use std::swap instead of manually swapping\n\n\t* ifcvt.c (noce_try_store_flag_constants): Use std::swap instead of\n\tmanually swapping.\n\t(noce_try_cmove_arith): Likewise.\n\t(noce_get_alt_condition): Likewise.\n\nFrom-SVN: r224429", "tree": {"sha": "1b1da174b1651e19470693536e4c4f14643d99df", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1b1da174b1651e19470693536e4c4f14643d99df"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d8204b12f67e69835e793d6700b09bf7e1a474a8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8204b12f67e69835e793d6700b09bf7e1a474a8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d8204b12f67e69835e793d6700b09bf7e1a474a8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8204b12f67e69835e793d6700b09bf7e1a474a8/comments", "author": {"login": "ktkachov-arm", "id": 74917949, "node_id": "MDQ6VXNlcjc0OTE3OTQ5", "avatar_url": "https://avatars.githubusercontent.com/u/74917949?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ktkachov-arm", "html_url": "https://github.com/ktkachov-arm", "followers_url": "https://api.github.com/users/ktkachov-arm/followers", "following_url": "https://api.github.com/users/ktkachov-arm/following{/other_user}", "gists_url": "https://api.github.com/users/ktkachov-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ktkachov-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ktkachov-arm/subscriptions", "organizations_url": "https://api.github.com/users/ktkachov-arm/orgs", "repos_url": "https://api.github.com/users/ktkachov-arm/repos", "events_url": "https://api.github.com/users/ktkachov-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/ktkachov-arm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7388ee9e9b9e899ec7939e84716af40c43d7d6d4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7388ee9e9b9e899ec7939e84716af40c43d7d6d4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7388ee9e9b9e899ec7939e84716af40c43d7d6d4"}], "stats": {"total": 19, "additions": 11, "deletions": 8}, "files": [{"sha": "efa166a112eeb49c10f921039a0cc18933e07464", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d8204b12f67e69835e793d6700b09bf7e1a474a8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d8204b12f67e69835e793d6700b09bf7e1a474a8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d8204b12f67e69835e793d6700b09bf7e1a474a8", "patch": "@@ -1,3 +1,10 @@\n+2015-06-12  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n+\n+\t* ifcvt.c (noce_try_store_flag_constants): Use std::swap instead of\n+\tmanually swapping.\n+\t(noce_try_cmove_arith): Likewise.\n+\t(noce_get_alt_condition): Likewise.\n+\n 2015-06-12  Venkataramanan Kumar  <venkataramanan.kumar@amd.com>\n \n \t* common/config/i386/i386-common.c"}, {"sha": "50ccaa11f0bd9361c0ce7d044b084b1f0baaaf12", "filename": "gcc/ifcvt.c", "status": "modified", "additions": 4, "deletions": 8, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d8204b12f67e69835e793d6700b09bf7e1a474a8/gcc%2Fifcvt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d8204b12f67e69835e793d6700b09bf7e1a474a8/gcc%2Fifcvt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fifcvt.c?ref=d8204b12f67e69835e793d6700b09bf7e1a474a8", "patch": "@@ -1217,7 +1217,7 @@ noce_try_store_flag_constants (struct noce_if_info *if_info)\n \n       if (reversep)\n \t{\n-\t  tmp = itrue; itrue = ifalse; ifalse = tmp;\n+\t  std::swap (itrue, ifalse);\n \t  diff = trunc_int_for_mode (-(unsigned HOST_WIDE_INT) diff, mode);\n \t}\n \n@@ -1679,11 +1679,9 @@ noce_try_cmove_arith (struct noce_if_info *if_info)\n \n       if (reversep)\n \t{\n-\t  rtx tmp;\n-\t  rtx_insn *tmp_insn;\n \t  code = reversed_comparison_code (if_info->cond, if_info->jump);\n-\t  tmp = a, a = b, b = tmp;\n-\t  tmp_insn = insn_a, insn_a = insn_b, insn_b = tmp_insn;\n+\t  std::swap (a, b);\n+\t  std::swap (insn_a, insn_b);\n \t}\n     }\n \n@@ -1865,9 +1863,7 @@ noce_get_alt_condition (struct noce_if_info *if_info, rtx target,\n \n \t      if (CONST_INT_P (op_a))\n \t\t{\n-\t\t  rtx tmp = op_a;\n-\t\t  op_a = op_b;\n-\t\t  op_b = tmp;\n+\t\t  std::swap (op_a, op_b);\n \t\t  code = swap_condition (code);\n \t\t}\n \t    }"}]}