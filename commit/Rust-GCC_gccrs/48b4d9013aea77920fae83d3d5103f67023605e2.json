{"sha": "48b4d9013aea77920fae83d3d5103f67023605e2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDhiNGQ5MDEzYWVhNzc5MjBmYWU4M2QzZDUxMDNmNjcwMjM2MDVlMg==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2001-01-30T22:27:44Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2001-01-30T22:27:44Z"}, "message": "combine.c (try_combine): Fix SUBREG setting for HOST_BITS_PER_WIDE_INT >= 2 * BITS_PER_WORD.\n\n* combine.c (try_combine): Fix SUBREG setting for\nHOST_BITS_PER_WIDE_INT >= 2 * BITS_PER_WORD.\n\nFrom-SVN: r39355", "tree": {"sha": "983c1a7912b85c8b1399ed734fd64afee06afddc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/983c1a7912b85c8b1399ed734fd64afee06afddc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/48b4d9013aea77920fae83d3d5103f67023605e2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/48b4d9013aea77920fae83d3d5103f67023605e2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/48b4d9013aea77920fae83d3d5103f67023605e2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/48b4d9013aea77920fae83d3d5103f67023605e2/comments", "author": null, "committer": null, "parents": [{"sha": "cab1f90abff5825c2d10bc120c89b68344349505", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cab1f90abff5825c2d10bc120c89b68344349505", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cab1f90abff5825c2d10bc120c89b68344349505"}], "stats": {"total": 32, "additions": 30, "deletions": 2}, "files": [{"sha": "abc714195af418458c73f35269cf1b03d07fa89b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/48b4d9013aea77920fae83d3d5103f67023605e2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/48b4d9013aea77920fae83d3d5103f67023605e2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=48b4d9013aea77920fae83d3d5103f67023605e2", "patch": "@@ -1,3 +1,8 @@\n+2001-01-30  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* combine.c (try_combine): Fix SUBREG setting for\n+\tHOST_BITS_PER_WIDE_INT >= 2 * BITS_PER_WORD.\n+\n 2001-01-30  Franz Sirl  <Franz.Sirl-kernel@lauterbach.com>\n \n \t* jump.c (comparison_dominates_p): Don't try to handle UNKNOWN"}, {"sha": "74b02b55a472a99cd56a68b94950dac85a95a2e1", "filename": "gcc/combine.c", "status": "modified", "additions": 25, "deletions": 2, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/48b4d9013aea77920fae83d3d5103f67023605e2/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/48b4d9013aea77920fae83d3d5103f67023605e2/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=48b4d9013aea77920fae83d3d5103f67023605e2", "patch": "@@ -1661,9 +1661,32 @@ try_combine (i3, i2, i1, new_direct_jump_p)\n \t}\n \n       if (subreg_lowpart_p (SET_DEST (PATTERN (i3))))\n-\tlo = INTVAL (SET_SRC (PATTERN (i3)));\n-      else\n+\t{\n+\t  /* We don't handle the case of the target word being wider\n+\t     than a host wide int.  */\n+\t  if (HOST_BITS_PER_WIDE_INT < BITS_PER_WORD)\n+\t    abort ();\n+\n+\t  lo &= ~(((unsigned HOST_WIDE_INT)1 << BITS_PER_WORD) - 1);\n+\t  lo |= INTVAL (SET_SRC (PATTERN (i3)));\n+\t}\n+      else if (HOST_BITS_PER_WIDE_INT == BITS_PER_WORD)\n \thi = INTVAL (SET_SRC (PATTERN (i3)));\n+      else if (HOST_BITS_PER_WIDE_INT >= 2 * BITS_PER_WORD)\n+\t{\n+\t  int sign = -(int) ((unsigned HOST_WIDE_INT) lo\n+\t\t\t     >> (HOST_BITS_PER_WIDE_INT - 1));\n+\n+\t  lo &= ~((((unsigned HOST_WIDE_INT)1 << BITS_PER_WORD) - 1)\n+\t\t  << BITS_PER_WORD);\n+\t  lo |= INTVAL (SET_SRC (PATTERN (i3))) << BITS_PER_WORD;\n+\t  if (hi == sign)\n+\t    hi = lo < 0 ? -1 : 0;\n+\t}\n+      else\n+\t/* We don't handle the case of the higher word not fitting\n+\t   entirely in either hi or lo.  */\n+\tabort ();\n \n       combine_merges++;\n       subst_insn = i3;"}]}