{"sha": "c13af44bcc9d9435b4a537d189e5d3b6edffe7fe", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzEzYWY0NGJjYzlkOTQzNWI0YTUzN2QxODllNWQzYjZlZGZmZTdmZQ==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2010-05-14T21:02:26Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2010-05-14T21:02:26Z"}, "message": "re PR fortran/44135 (Negative array bounds lead to spurious warning)\n\n2010-05-14  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/44135\n\t* gfortran.dg/actual_array_interface_2.f90: New test.\n\n2010-05-14  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/44135\n\t* fortran/interface.c (get_sym_storage_size): Use signed instead of\n\tunsigned mpz_get_?i routines.\n\nFrom-SVN: r159415", "tree": {"sha": "6266668ab1db306def0cb9225197661fe247de58", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6266668ab1db306def0cb9225197661fe247de58"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c13af44bcc9d9435b4a537d189e5d3b6edffe7fe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c13af44bcc9d9435b4a537d189e5d3b6edffe7fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c13af44bcc9d9435b4a537d189e5d3b6edffe7fe", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c13af44bcc9d9435b4a537d189e5d3b6edffe7fe/comments", "author": null, "committer": null, "parents": [{"sha": "c4e64f39d9f8ce4af60222415b522a4b07f8b86c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c4e64f39d9f8ce4af60222415b522a4b07f8b86c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c4e64f39d9f8ce4af60222415b522a4b07f8b86c"}], "stats": {"total": 28, "additions": 26, "deletions": 2}, "files": [{"sha": "a95d16d6dd24b1ee6e8b238f9ad22ffef9cac6ff", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c13af44bcc9d9435b4a537d189e5d3b6edffe7fe/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c13af44bcc9d9435b4a537d189e5d3b6edffe7fe/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=c13af44bcc9d9435b4a537d189e5d3b6edffe7fe", "patch": "@@ -1,3 +1,9 @@\n+2010-05-14  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/44135\n+\t* fortran/interface.c (get_sym_storage_size): Use signed instead of\n+\tunsigned mpz_get_?i routines.\n+\n 2010-05-14  Jakub Jelinek  <jakub@redhat.com>\n \n \t* trans.c (trans_code): Set backend locus early."}, {"sha": "4bcc63e1963cd9d5293b201de6ba63c356de61a1", "filename": "gcc/fortran/interface.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c13af44bcc9d9435b4a537d189e5d3b6edffe7fe/gcc%2Ffortran%2Finterface.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c13af44bcc9d9435b4a537d189e5d3b6edffe7fe/gcc%2Ffortran%2Finterface.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Finterface.c?ref=c13af44bcc9d9435b4a537d189e5d3b6edffe7fe", "patch": "@@ -1645,8 +1645,8 @@ get_sym_storage_size (gfc_symbol *sym)\n \t  || sym->as->lower[i]->expr_type != EXPR_CONSTANT)\n \treturn 0;\n \n-      elements *= mpz_get_ui (sym->as->upper[i]->value.integer)\n-\t\t  - mpz_get_ui (sym->as->lower[i]->value.integer) + 1L;\n+      elements *= mpz_get_si (sym->as->upper[i]->value.integer)\n+\t\t  - mpz_get_si (sym->as->lower[i]->value.integer) + 1L;\n     }\n \n   return strlen*elements;"}, {"sha": "4cf711266f27f1e6d1f4fbcb2131890121d90779", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c13af44bcc9d9435b4a537d189e5d3b6edffe7fe/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c13af44bcc9d9435b4a537d189e5d3b6edffe7fe/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c13af44bcc9d9435b4a537d189e5d3b6edffe7fe", "patch": "@@ -1,3 +1,8 @@\n+2010-05-14  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/44135\n+\t* gfortran.dg/actual_array_interface_2.f90: New test.\n+\n 2010-05-14  Richard Guenther  <rguenther@suse.de>\n \n \tPR tree-optimization/44119"}, {"sha": "ae429b7d9a98addc31c32876b0a587ad1d822b94", "filename": "gcc/testsuite/gfortran.dg/actual_array_interface_2.f90", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c13af44bcc9d9435b4a537d189e5d3b6edffe7fe/gcc%2Ftestsuite%2Fgfortran.dg%2Factual_array_interface_2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c13af44bcc9d9435b4a537d189e5d3b6edffe7fe/gcc%2Ftestsuite%2Fgfortran.dg%2Factual_array_interface_2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Factual_array_interface_2.f90?ref=c13af44bcc9d9435b4a537d189e5d3b6edffe7fe", "patch": "@@ -0,0 +1,13 @@\n+! { dg-do compile }\n+program gprogram\n+   implicit none\n+   real, dimension(-2:0) :: my_arr\n+   call fill_array(my_arr)\n+   contains\n+      subroutine  fill_array(arr)\n+         implicit none\n+         real, dimension(-2:0), intent(out) :: arr\n+         arr = 42\n+      end subroutine fill_array\n+end program gprogram\n+"}]}