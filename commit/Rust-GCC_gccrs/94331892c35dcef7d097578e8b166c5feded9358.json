{"sha": "94331892c35dcef7d097578e8b166c5feded9358", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTQzMzE4OTJjMzVkY2VmN2QwOTc1NzhlOGIxNjZjNWZlZGVkOTM1OA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2016-11-24T15:30:17Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2016-11-24T15:30:17Z"}, "message": "sparc-common.c (sparc_option_optimization_table): Enable REE at -O2 and higher.\n\n\t* common/config/sparc/sparc-common.c (sparc_option_optimization_table):\n\tEnable REE at -O2 and higher.\n\t* config/sparc/sparc.c (sparc_option_override): Disable it by default\n\tin 32-bit mode.\n\nFrom-SVN: r242841", "tree": {"sha": "60a991d2053ed8ebeab1b44f7a44ee9d1e4273e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/60a991d2053ed8ebeab1b44f7a44ee9d1e4273e8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/94331892c35dcef7d097578e8b166c5feded9358", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94331892c35dcef7d097578e8b166c5feded9358", "html_url": "https://github.com/Rust-GCC/gccrs/commit/94331892c35dcef7d097578e8b166c5feded9358", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94331892c35dcef7d097578e8b166c5feded9358/comments", "author": null, "committer": null, "parents": [{"sha": "33a002b0ab6f8827631cc50eddaa2b2d4aa1bd35", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33a002b0ab6f8827631cc50eddaa2b2d4aa1bd35", "html_url": "https://github.com/Rust-GCC/gccrs/commit/33a002b0ab6f8827631cc50eddaa2b2d4aa1bd35"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "c1469f53ff3a53f772e01ff5652398e60f55c48c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/94331892c35dcef7d097578e8b166c5feded9358/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/94331892c35dcef7d097578e8b166c5feded9358/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=94331892c35dcef7d097578e8b166c5feded9358", "patch": "@@ -1,3 +1,10 @@\n+2016-11-24  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* common/config/sparc/sparc-common.c (sparc_option_optimization_table):\n+\tEnable REE at -O2 and higher.\n+\t* config/sparc/sparc.c (sparc_option_override): Disable it by default\n+\tin 32-bit mode.\n+\n 2016-11-24  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n \n \tPR target/48863"}, {"sha": "721c8b355c26a7532f5cfe693ee938b58b2ec328", "filename": "gcc/common/config/sparc/sparc-common.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/94331892c35dcef7d097578e8b166c5feded9358/gcc%2Fcommon%2Fconfig%2Fsparc%2Fsparc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/94331892c35dcef7d097578e8b166c5feded9358/gcc%2Fcommon%2Fconfig%2Fsparc%2Fsparc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon%2Fconfig%2Fsparc%2Fsparc-common.c?ref=94331892c35dcef7d097578e8b166c5feded9358", "patch": "@@ -28,6 +28,8 @@ along with GCC; see the file COPYING3.  If not see\n static const struct default_options sparc_option_optimization_table[] =\n   {\n     { OPT_LEVELS_1_PLUS, OPT_fomit_frame_pointer, NULL, 1 },\n+    /* Enable redundant extension instructions removal at -O2 and higher.  */\n+    { OPT_LEVELS_2_PLUS, OPT_free, NULL, 1 },\n     { OPT_LEVELS_NONE, 0, NULL, 0 }\n   };\n "}, {"sha": "a70a0ad7b02adc498ae84f06210d126a61065078", "filename": "gcc/config/sparc/sparc.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/94331892c35dcef7d097578e8b166c5feded9358/gcc%2Fconfig%2Fsparc%2Fsparc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/94331892c35dcef7d097578e8b166c5feded9358/gcc%2Fconfig%2Fsparc%2Fsparc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.c?ref=94331892c35dcef7d097578e8b166c5feded9358", "patch": "@@ -1713,6 +1713,11 @@ sparc_option_override (void)\n      pessimizes for double floating-point registers.  */\n   if (!global_options_set.x_flag_ira_share_save_slots)\n     flag_ira_share_save_slots = 0;\n+\n+  /* Only enable REE by default in 64-bit mode where it helps to eliminate\n+     redundant 32-to-64-bit extensions.  */\n+  if (!global_options_set.x_flag_ree && TARGET_ARCH32)\n+    flag_ree = 0;\n }\n \f\n /* Miscellaneous utilities.  */"}]}