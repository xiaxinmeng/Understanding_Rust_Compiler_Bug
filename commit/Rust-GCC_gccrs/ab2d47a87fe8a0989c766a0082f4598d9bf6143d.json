{"sha": "ab2d47a87fe8a0989c766a0082f4598d9bf6143d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWIyZDQ3YTg3ZmU4YTA5ODljNzY2YTAwODJmNDU5OGQ5YmY2MTQzZA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-09-19T00:03:25Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-09-19T00:03:25Z"}, "message": "libgo: support gollvm build on arm64 linux\n    \n    This CL serves as part of an initial change for enabling gollvm\n    building on arm64 linux, the rest of the change will be covered by\n    another one to the gollvm repo.\n    \n    Incorporate type definition of 'uint128' to 'runtime' and 'syscall'\n    packges, the change is not specific to arm64 linux but made available\n    for all platforms.\n    \n    Verified by building and unit-testing gollvm on linux x86-64 and arm64.\n    \n    Verified by building and checking gccgo on linux x86-64 and arm64.\n    \n    Fixes golang/go#33711\n    \n    Change-Id: I4720c7d810cfd4ef720962fb4104c5641b2459c0\n\nFrom-SVN: r275919", "tree": {"sha": "69a7779b1a17281ce09c8a3563f601cd6a526063", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/69a7779b1a17281ce09c8a3563f601cd6a526063"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ab2d47a87fe8a0989c766a0082f4598d9bf6143d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab2d47a87fe8a0989c766a0082f4598d9bf6143d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab2d47a87fe8a0989c766a0082f4598d9bf6143d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab2d47a87fe8a0989c766a0082f4598d9bf6143d/comments", "author": null, "committer": null, "parents": [{"sha": "1ea956609a5a4ac12841ef86353995bd434fa1ef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ea956609a5a4ac12841ef86353995bd434fa1ef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ea956609a5a4ac12841ef86353995bd434fa1ef"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "330c458ec8c6f5879b03973da530e6b31a31de97", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab2d47a87fe8a0989c766a0082f4598d9bf6143d/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab2d47a87fe8a0989c766a0082f4598d9bf6143d/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=ab2d47a87fe8a0989c766a0082f4598d9bf6143d", "patch": "@@ -1,4 +1,4 @@\n-09ca3c1ea8a52b5d3d6c4331c59d44e0b6bfab57\n+d81ff42c367cce2110ccf5ddbadb6cc9bdf94e28\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "c28f0e5f1f695009b3d6ce2d8b529bedc0eaa539", "filename": "libgo/mkrsysinfo.sh", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab2d47a87fe8a0989c766a0082f4598d9bf6143d/libgo%2Fmkrsysinfo.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab2d47a87fe8a0989c766a0082f4598d9bf6143d/libgo%2Fmkrsysinfo.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fmkrsysinfo.sh?ref=ab2d47a87fe8a0989c766a0082f4598d9bf6143d", "patch": "@@ -209,3 +209,9 @@ grep '^type _kevent ' gen-sysinfo.go | \\\n     sed -e s'/_kevent/keventt/' \\\n       -e 's/ udata [^;}]*/ udata *byte/' \\\n     >> ${OUT}\n+\n+# Type 'uint128' is needed in a couple of type definitions on arm64,such\n+# as _user_fpsimd_struct, _elf_fpregset_t, etc.\n+if ! grep '^type uint128' ${OUT} > /dev/null 2>&1; then\n+    echo \"type uint128 [16]byte\" >> ${OUT}\n+fi"}, {"sha": "488b223b434f20805d6af8483d7f8e8351c18a07", "filename": "libgo/mksysinfo.sh", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab2d47a87fe8a0989c766a0082f4598d9bf6143d/libgo%2Fmksysinfo.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab2d47a87fe8a0989c766a0082f4598d9bf6143d/libgo%2Fmksysinfo.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fmksysinfo.sh?ref=ab2d47a87fe8a0989c766a0082f4598d9bf6143d", "patch": "@@ -1393,4 +1393,10 @@ grep '^type _mactun_info_t ' gen-sysinfo.go | \\\n     sed -e 's/_in6_addr_t/[16]byte/g' \\\n     >> ${OUT}\n \n+# Type 'uint128' is needed in a couple of type definitions on arm64,such\n+# as _user_fpsimd_struct, _elf_fpregset_t, etc.\n+if ! grep '^type uint128' ${OUT} > /dev/null 2>&1; then\n+    echo \"type uint128 [16]byte\" >> ${OUT}\n+fi\n+\n exit $?"}, {"sha": "0692fd41eb791d5135652e48dc1fe7b1701e6f19", "filename": "libgo/sysinfo.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab2d47a87fe8a0989c766a0082f4598d9bf6143d/libgo%2Fsysinfo.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab2d47a87fe8a0989c766a0082f4598d9bf6143d/libgo%2Fsysinfo.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fsysinfo.c?ref=ab2d47a87fe8a0989c766a0082f4598d9bf6143d", "patch": "@@ -424,7 +424,11 @@ EREF(MNT_FORCE);\n \n #if defined(HAVE_SYS_PTRACE_H)\n // From <sys/ptrace.h>\n+#if defined (__aarch64__)\n+SREF(user_pt_regs);\n+#else\n SREF(pt_regs);\n+#endif\n EREF(PTRACE_PEEKTEXT);\n #endif\n "}]}