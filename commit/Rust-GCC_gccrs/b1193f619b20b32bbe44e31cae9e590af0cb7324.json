{"sha": "b1193f619b20b32bbe44e31cae9e590af0cb7324", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjExOTNmNjE5YjIwYjMyYmJlNDRlMzFjYWU5ZTU5MGFmMGNiNzMyNA==", "commit": {"author": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2010-12-21T15:02:02Z"}, "committer": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2010-12-21T15:02:02Z"}, "message": "re PR middle-end/45310 (ICE: verify_stmts failed: Dead STMT in EH table with -O1 -fnon-call-exceptions)\n\ngcc/\n\tPR middle-end/45310\n\t* tree-ssa-phiprop.c (propagate_with_phi): Remove statement\n\tcompletely from the function, including EH traces.\n\ntestsuite/\n\tPR middle-end/45310\n\t* g++.dg/pr45310.C: New test.\n\nFrom-SVN: r168120", "tree": {"sha": "379265a74d8187f00d436884b76e07311e57493c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/379265a74d8187f00d436884b76e07311e57493c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b1193f619b20b32bbe44e31cae9e590af0cb7324", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1193f619b20b32bbe44e31cae9e590af0cb7324", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b1193f619b20b32bbe44e31cae9e590af0cb7324", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1193f619b20b32bbe44e31cae9e590af0cb7324/comments", "author": null, "committer": null, "parents": [{"sha": "df0820da970383d46a7e5fb0a04d504a8b280553", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/df0820da970383d46a7e5fb0a04d504a8b280553", "html_url": "https://github.com/Rust-GCC/gccrs/commit/df0820da970383d46a7e5fb0a04d504a8b280553"}], "stats": {"total": 33, "additions": 32, "deletions": 1}, "files": [{"sha": "335c782570f4972af95a680a341fa584af05fe30", "filename": "gcc/testsuite/g++.dg/pr45310.C", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b1193f619b20b32bbe44e31cae9e590af0cb7324/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr45310.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b1193f619b20b32bbe44e31cae9e590af0cb7324/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr45310.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr45310.C?ref=b1193f619b20b32bbe44e31cae9e590af0cb7324", "patch": "@@ -0,0 +1,31 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O1 -fnon-call-exceptions\" }  */\n+\n+static inline const int &\n+max (const int &a, const int &b)\n+{\n+  return a ? a : b;\n+}\n+\n+static inline int\n+baz ()\n+{\n+  return max (0, 0);\n+}\n+\n+struct S\n+{\n+  ~S ()\n+  {\n+    baz ();\n+  }\n+};\n+\n+void bar ();\n+void\n+foo ()\n+{\n+  S s;\n+  bar ();\n+}\n+"}, {"sha": "a38e6962f951597f058d7e76e359f4541e32edea", "filename": "gcc/tree-ssa-phiprop.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b1193f619b20b32bbe44e31cae9e590af0cb7324/gcc%2Ftree-ssa-phiprop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b1193f619b20b32bbe44e31cae9e590af0cb7324/gcc%2Ftree-ssa-phiprop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-phiprop.c?ref=b1193f619b20b32bbe44e31cae9e590af0cb7324", "patch": "@@ -352,7 +352,7 @@ propagate_with_phi (basic_block bb, gimple phi, struct phiprop_d *phivn,\n \t     want to delete it here we also have to delete all intermediate\n \t     copies.  */\n \t  gsi = gsi_for_stmt (use_stmt);\n-\t  gsi_remove (&gsi, false);\n+\t  gsi_remove (&gsi, true);\n \n \t  phi_inserted = true;\n \t}"}]}