{"sha": "80aea554a701f35a6b53fcd9d9fb89d1430fe983", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODBhZWE1NTRhNzAxZjM1YTZiNTNmY2Q5ZDlmYjg5ZDE0MzBmZTk4Mw==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2007-09-30T14:36:40Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2007-09-30T14:36:40Z"}, "message": "re PR fortran/33400 (Formatted read fails if line ends without line break)\n\n2007-09-30  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libfortran/33400\n\t* gfortran.dg/PR19872.f: Fix test condition.\n\t* gfortran.dg/list_read_7.f90: New test.\n\nFrom-SVN: r128892", "tree": {"sha": "0162a18c2ab07180e4f32e11928963554d55b2b4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0162a18c2ab07180e4f32e11928963554d55b2b4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/80aea554a701f35a6b53fcd9d9fb89d1430fe983", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80aea554a701f35a6b53fcd9d9fb89d1430fe983", "html_url": "https://github.com/Rust-GCC/gccrs/commit/80aea554a701f35a6b53fcd9d9fb89d1430fe983", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80aea554a701f35a6b53fcd9d9fb89d1430fe983/comments", "author": null, "committer": null, "parents": [{"sha": "94a73152cc79020dbcb1f6874bdd0661c2a4a30b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94a73152cc79020dbcb1f6874bdd0661c2a4a30b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/94a73152cc79020dbcb1f6874bdd0661c2a4a30b"}], "stats": {"total": 29, "additions": 26, "deletions": 3}, "files": [{"sha": "45a3afbe9de6b0d4b36a5137a1fb8a5e2a22d382", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80aea554a701f35a6b53fcd9d9fb89d1430fe983/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80aea554a701f35a6b53fcd9d9fb89d1430fe983/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=80aea554a701f35a6b53fcd9d9fb89d1430fe983", "patch": "@@ -1,3 +1,9 @@\n+2007-09-30  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libfortran/33400\n+\t* gfortran.dg/PR19872.f: Fix test condition.\n+\t* gfortran.dg/list_read_7.f90: New test.\n+\n 2007-09-30  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR tree-optimization/33597"}, {"sha": "12bba3352a2e7c5cbccea19a3c2c062e9f36bef9", "filename": "gcc/testsuite/gfortran.dg/PR19872.f", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80aea554a701f35a6b53fcd9d9fb89d1430fe983/gcc%2Ftestsuite%2Fgfortran.dg%2FPR19872.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80aea554a701f35a6b53fcd9d9fb89d1430fe983/gcc%2Ftestsuite%2Fgfortran.dg%2FPR19872.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2FPR19872.f?ref=80aea554a701f35a6b53fcd9d9fb89d1430fe983", "patch": "@@ -11,10 +11,10 @@\n       close(1)\n       open(1,form='FORMATTED')\n       read(1,*)i\n-      if(i(1).ne.9.and.i(2).ne.8.and.i(3).ne.7.and.i(4).ne.9)call abort\n-      read(1,*,end=200)i\n+      if(i(1).ne.9.or.i(2).ne.8.or.i(3).ne.7.or.i(4).ne.6)call abort\n+      read(1,*, end=200)i\n ! should only be able to read one line from the file\n       call abort\n  200  continue\n-      close(1,STATUS='DELETE')\n+      close(1,STATUS='delete')\n       end"}, {"sha": "5db89959e87b4ee1090d126fef26b5e0b28f0d84", "filename": "gcc/testsuite/gfortran.dg/list_read_7.f90", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80aea554a701f35a6b53fcd9d9fb89d1430fe983/gcc%2Ftestsuite%2Fgfortran.dg%2Flist_read_7.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80aea554a701f35a6b53fcd9d9fb89d1430fe983/gcc%2Ftestsuite%2Fgfortran.dg%2Flist_read_7.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Flist_read_7.f90?ref=80aea554a701f35a6b53fcd9d9fb89d1430fe983", "patch": "@@ -0,0 +1,17 @@\n+! { dg-do run }\n+! PR33400 Formatted read fails if line ends without line break\n+! Test case modified from that in PR by <jvdelisle@gcc.gnu.org>\n+integer, parameter :: fgsl_strmax = 128\n+character(len=fgsl_strmax) :: ieee_str1, ieee_str2\n+open(unit=20, file='test.dat',form='FORMATTED')\n+write(20,'(a)',advance=\"no\") ' 1.01010101010101010101010101010101&\n+       &01010101010101010101*2^-2 1.01010101010101010101011*2^-2'\n+rewind(20)\n+read(20, fmt=*) ieee_str1, ieee_str2\n+if (trim(ieee_str1) /= &\n+    '1.0101010101010101010101010101010101010101010101010101*2^-2') &\n+  call abort\n+if (trim(ieee_str2) /= &\n+     '1.01010101010101010101011*2^-2') &\n+  call abort\n+end"}]}