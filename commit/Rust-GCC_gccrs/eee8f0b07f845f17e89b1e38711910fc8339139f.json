{"sha": "eee8f0b07f845f17e89b1e38711910fc8339139f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWVlOGYwYjA3Zjg0NWYxN2U4OWIxZTM4NzExOTEwZmM4MzM5MTM5Zg==", "commit": {"author": {"name": "Andrew Senkevich", "email": "andrew.senkevich@intel.com", "date": "2016-10-05T22:08:48Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2016-10-05T22:08:48Z"}, "message": "Delete x86 deprecated pcommit instruction support\n\nDelete x86 pcommit instruction support, which has been deprecated:\n\nhttps://software.intel.com/en-us/blogs/2016/09/12/deprecate-pcommit-instruction\n\ngcc/\n\n\t* common/config/i386/i386-common.c (OPTION_MASK_ISA_PCOMMIT_UNSET,\n\tOPTION_MASK_ISA_PCOMMIT_SET): Deleted definitions.\n\t(ix86_handle_option): Deleted handle of OPT_mpcommit.\n\t* config.gcc: Deleted pcommitintrin.h\n\t* config/i386/pcommitintrin.h: Deleted file.\n\t* config/i386/cpuid.h (bit_PCOMMIT): Deleted.\n\t* config/i386/driver-i386.c (host_detect_local_cpu): Deleted pcommit\n\tdetection.\n\t* config/i386/i386-c.c (ix86_target_macros_internal): Deleted define\n\t__PCOMMIT__.\n\t* config/i386/i386.c (ix86_target_string): Deleted -mpcommit.\n\t(PTA_PCOMMIT): Deleted define.\n\t(ix86_option_override_internal): Deleted handle of option.\n\t(ix86_valid_target_attribute_inner_p): Deleted pcommit.\n\t* config/i386/i386-builtin.def (IX86_BUILTIN_PCOMMIT,\n\t__builtin_ia32_pcommit): Deleted.\n\t* config/i386/i386.h (TARGET_PCOMMIT, TARGET_PCOMMIT_P): Deleted.\n\t* config/i386/i386.md (unspecv): Deleted UNSPECV_PCOMMIT.\n\t(pcommit): Deleted instruction.\n\t* config/i386/i386.opt: Mention -mpcommit deprecation.\n\t* config/i386/x86intrin.h: Deleted inclusion of pcommitintrin.h.\n\ngcc/testsuite/\n\n\t* gcc.target/i386/pcommit-1.c: Deleted.\n\t* gcc.target/i386/sse-12.c: Deleted -pcommit option.\n\t* gcc.target/i386/sse-13.c: Ditto.\n\t* gcc.target/i386/sse-14.c: Ditto.\n\t* gcc.target/i386/sse-22.c: Ditto.\n\t* gcc.target/i386/sse-23.c: Ditto.\n\t* g++.dg/other/i386-2.C: Ditto.\n\nFrom-SVN: r240816", "tree": {"sha": "cc2e9a2e460c54ab7a4988b368ed8d2e1713b306", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cc2e9a2e460c54ab7a4988b368ed8d2e1713b306"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/eee8f0b07f845f17e89b1e38711910fc8339139f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eee8f0b07f845f17e89b1e38711910fc8339139f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eee8f0b07f845f17e89b1e38711910fc8339139f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eee8f0b07f845f17e89b1e38711910fc8339139f/comments", "author": null, "committer": null, "parents": [{"sha": "b48042bb4045f0f1b2b171d2632dae4b85131d02", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b48042bb4045f0f1b2b171d2632dae4b85131d02", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b48042bb4045f0f1b2b171d2632dae4b85131d02"}], "stats": {"total": 176, "additions": 53, "deletions": 123}, "files": [{"sha": "18020cac141a625dddaea9c3a1c0aa4a811450b1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=eee8f0b07f845f17e89b1e38711910fc8339139f", "patch": "@@ -1,3 +1,27 @@\n+2016-10-05  Andrew Senkevich  <andrew.senkevich@intel.com>\n+\n+\t* common/config/i386/i386-common.c (OPTION_MASK_ISA_PCOMMIT_UNSET,\n+\tOPTION_MASK_ISA_PCOMMIT_SET): Deleted definitions.\n+\t(ix86_handle_option): Deleted handle of OPT_mpcommit.\n+\t* config.gcc: Deleted pcommitintrin.h\n+\t* config/i386/pcommitintrin.h: Deleted file.\n+\t* config/i386/cpuid.h (bit_PCOMMIT): Deleted.\n+\t* config/i386/driver-i386.c (host_detect_local_cpu): Deleted pcommit\n+\tdetection.\n+\t* config/i386/i386-c.c (ix86_target_macros_internal): Deleted define\n+\t__PCOMMIT__.\n+\t* config/i386/i386.c (ix86_target_string): Deleted -mpcommit.\n+\t(PTA_PCOMMIT): Deleted define.\n+\t(ix86_option_override_internal): Deleted handle of option.\n+\t(ix86_valid_target_attribute_inner_p): Deleted pcommit.\n+\t* config/i386/i386-builtin.def (IX86_BUILTIN_PCOMMIT,\n+\t__builtin_ia32_pcommit): Deleted.\n+\t* config/i386/i386.h (TARGET_PCOMMIT, TARGET_PCOMMIT_P): Deleted.\n+\t* config/i386/i386.md (unspecv): Deleted UNSPECV_PCOMMIT.\n+\t(pcommit): Deleted instruction.\n+\t* config/i386/i386.opt: Mention -mpcommit deprecation.\n+\t* config/i386/x86intrin.h: Deleted inclusion of pcommitintrin.h.\n+\n 2016-10-05  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR target/77874"}, {"sha": "ce1b5f74d9fccbbba8d0c3804233a76c93115cac", "filename": "gcc/common/config/i386/i386-common.c", "status": "modified", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Fcommon%2Fconfig%2Fi386%2Fi386-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Fcommon%2Fconfig%2Fi386%2Fi386-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon%2Fconfig%2Fi386%2Fi386-common.c?ref=eee8f0b07f845f17e89b1e38711910fc8339139f", "patch": "@@ -86,7 +86,6 @@ along with GCC; see the file COPYING3.  If not see\n #define OPTION_MASK_ISA_XSAVEC_SET \\\n   (OPTION_MASK_ISA_XSAVEC | OPTION_MASK_ISA_XSAVE)\n #define OPTION_MASK_ISA_CLWB_SET OPTION_MASK_ISA_CLWB\n-#define OPTION_MASK_ISA_PCOMMIT_SET OPTION_MASK_ISA_PCOMMIT\n \n /* SSE4 includes both SSE4.1 and SSE4.2. -msse4 should be the same\n    as -msse4.2.  */\n@@ -187,7 +186,6 @@ along with GCC; see the file COPYING3.  If not see\n #define OPTION_MASK_ISA_CLFLUSHOPT_UNSET OPTION_MASK_ISA_CLFLUSHOPT\n #define OPTION_MASK_ISA_XSAVEC_UNSET OPTION_MASK_ISA_XSAVEC\n #define OPTION_MASK_ISA_XSAVES_UNSET OPTION_MASK_ISA_XSAVES\n-#define OPTION_MASK_ISA_PCOMMIT_UNSET OPTION_MASK_ISA_PCOMMIT\n #define OPTION_MASK_ISA_CLWB_UNSET OPTION_MASK_ISA_CLWB\n #define OPTION_MASK_ISA_MWAITX_UNSET OPTION_MASK_ISA_MWAITX\n #define OPTION_MASK_ISA_CLZERO_UNSET OPTION_MASK_ISA_CLZERO\n@@ -933,19 +931,6 @@ ix86_handle_option (struct gcc_options *opts,\n \t}\n       return true;\n \n-    case OPT_mpcommit:\n-      if (value)\n-\t{\n-\t  opts->x_ix86_isa_flags |= OPTION_MASK_ISA_PCOMMIT_SET;\n-\t  opts->x_ix86_isa_flags_explicit |= OPTION_MASK_ISA_PCOMMIT_SET;\n-\t}\n-      else\n-\t{\n-\t  opts->x_ix86_isa_flags &= ~OPTION_MASK_ISA_PCOMMIT_UNSET;\n-\t  opts->x_ix86_isa_flags_explicit |= OPTION_MASK_ISA_PCOMMIT_UNSET;\n-\t}\n-      return true;\n-\n     case OPT_mclwb:\n       if (value)\n \t{"}, {"sha": "8fd07c5ce8cb026cb4b35c22f5be495becd126fb", "filename": "gcc/config.gcc", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=eee8f0b07f845f17e89b1e38711910fc8339139f", "patch": "@@ -373,8 +373,8 @@ i[34567]86-*-*)\n \t\t       xsavesintrin.h avx512dqintrin.h avx512bwintrin.h\n \t\t       avx512vlintrin.h avx512vlbwintrin.h avx512vldqintrin.h\n \t\t       avx512ifmaintrin.h avx512ifmavlintrin.h avx512vbmiintrin.h\n-\t\t       avx512vbmivlintrin.h clwbintrin.h pcommitintrin.h\n-\t\t       mwaitxintrin.h clzerointrin.h pkuintrin.h\"\n+\t\t       avx512vbmivlintrin.h clwbintrin.h mwaitxintrin.h\n+\t\t       clzerointrin.h pkuintrin.h\"\n \t;;\n x86_64-*-*)\n \tcpu_type=i386\n@@ -395,8 +395,8 @@ x86_64-*-*)\n \t\t       xsavesintrin.h avx512dqintrin.h avx512bwintrin.h\n \t\t       avx512vlintrin.h avx512vlbwintrin.h avx512vldqintrin.h\n \t\t       avx512ifmaintrin.h avx512ifmavlintrin.h avx512vbmiintrin.h\n-\t\t       avx512vbmivlintrin.h clwbintrin.h pcommitintrin.h\n-\t\t       mwaitxintrin.h clzerointrin.h pkuintrin.h\"\n+\t\t       avx512vbmivlintrin.h clwbintrin.h mwaitxintrin.h\n+\t\t       clzerointrin.h pkuintrin.h\"\n \t;;\n ia64-*-*)\n \textra_headers=ia64intrin.h"}, {"sha": "2a946bf611a1e1574e965de6cab257901599ffe3", "filename": "gcc/config/i386/cpuid.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Fconfig%2Fi386%2Fcpuid.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Fconfig%2Fi386%2Fcpuid.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fcpuid.h?ref=eee8f0b07f845f17e89b1e38711910fc8339139f", "patch": "@@ -82,7 +82,6 @@\n #define bit_RDSEED\t(1 << 18)\n #define bit_ADX\t(1 << 19)\n #define bit_AVX512IFMA\t(1 << 21)\n-#define bit_PCOMMIT\t(1 << 22)\n #define bit_CLFLUSHOPT\t(1 << 23)\n #define bit_CLWB\t(1 << 24)\n #define bit_AVX512PF\t(1 << 26)"}, {"sha": "e026482fd8cdc9e34efb4ff66e75c341aa6acc27", "filename": "gcc/config/i386/driver-i386.c", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Fconfig%2Fi386%2Fdriver-i386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Fconfig%2Fi386%2Fdriver-i386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fdriver-i386.c?ref=eee8f0b07f845f17e89b1e38711910fc8339139f", "patch": "@@ -413,8 +413,7 @@ const char *host_detect_local_cpu (int argc, const char **argv)\n   unsigned int has_clflushopt = 0, has_xsavec = 0, has_xsaves = 0;\n   unsigned int has_avx512dq = 0, has_avx512bw = 0, has_avx512vl = 0;\n   unsigned int has_avx512vbmi = 0, has_avx512ifma = 0, has_clwb = 0;\n-  unsigned int has_pcommit = 0, has_mwaitx = 0;\n-  unsigned int has_clzero = 0, has_pku = 0;\n+  unsigned int has_mwaitx = 0, has_clzero = 0, has_pku = 0;\n \n   bool arch;\n \n@@ -492,7 +491,6 @@ const char *host_detect_local_cpu (int argc, const char **argv)\n       has_avx512pf = ebx & bit_AVX512PF;\n       has_avx512cd = ebx & bit_AVX512CD;\n       has_sha = ebx & bit_SHA;\n-      has_pcommit = ebx & bit_PCOMMIT;\n       has_clflushopt = ebx & bit_CLFLUSHOPT;\n       has_clwb = ebx & bit_CLWB;\n       has_avx512dq = ebx & bit_AVX512DQ;\n@@ -1024,7 +1022,6 @@ const char *host_detect_local_cpu (int argc, const char **argv)\n       const char *avx512ifma = has_avx512ifma ? \" -mavx512ifma\" : \" -mno-avx512ifma\";\n       const char *avx512vbmi = has_avx512vbmi ? \" -mavx512vbmi\" : \" -mno-avx512vbmi\";\n       const char *clwb = has_clwb ? \" -mclwb\" : \" -mno-clwb\";\n-      const char *pcommit = has_pcommit ? \" -mpcommit\" : \" -mno-pcommit\";\n       const char *mwaitx  = has_mwaitx  ? \" -mmwaitx\"  : \" -mno-mwaitx\"; \n       const char *clzero  = has_clzero  ? \" -mclzero\"  : \" -mno-clzero\";\n       const char *pku = has_pku ? \" -mpku\" : \" -mno-pku\";\n@@ -1036,7 +1033,7 @@ const char *host_detect_local_cpu (int argc, const char **argv)\n \t\t\tfxsr, xsave, xsaveopt, avx512f, avx512er,\n \t\t\tavx512cd, avx512pf, prefetchwt1, clflushopt,\n \t\t\txsavec, xsaves, avx512dq, avx512bw, avx512vl,\n-\t\t\tavx512ifma, avx512vbmi, clwb, pcommit, mwaitx,\n+\t\t\tavx512ifma, avx512vbmi, clwb, mwaitx,\n \t\t\tclzero, pku, NULL);\n     }\n "}, {"sha": "8518b7445deb192a201f8ced351d6781b72ab5dc", "filename": "gcc/config/i386/i386-builtin.def", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Fconfig%2Fi386%2Fi386-builtin.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Fconfig%2Fi386%2Fi386-builtin.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386-builtin.def?ref=eee8f0b07f845f17e89b1e38711910fc8339139f", "patch": "@@ -377,9 +377,6 @@ BDESC (OPTION_MASK_ISA_AVX512VL, CODE_FOR_avx512vl_ss_truncatev4siv4hi2_mask_sto\n BDESC (OPTION_MASK_ISA_AVX512VL, CODE_FOR_avx512vl_us_truncatev8siv8hi2_mask_store, \"__builtin_ia32_pmovusdw256mem_mask\", IX86_BUILTIN_PMOVUSDW256_MEM, UNKNOWN, (int) VOID_FTYPE_PV8HI_V8SI_UQI)\n BDESC (OPTION_MASK_ISA_AVX512VL, CODE_FOR_avx512vl_us_truncatev4siv4hi2_mask_store, \"__builtin_ia32_pmovusdw128mem_mask\", IX86_BUILTIN_PMOVUSDW128_MEM, UNKNOWN, (int) VOID_FTYPE_PV8HI_V4SI_UQI)\n \n-/* PCOMMIT.  */\n-BDESC (OPTION_MASK_ISA_PCOMMIT, CODE_FOR_pcommit, \"__builtin_ia32_pcommit\", IX86_BUILTIN_PCOMMIT, UNKNOWN, (int) VOID_FTYPE_VOID)\n-\n /* RDPKRU and WRPKRU.  */\n BDESC (OPTION_MASK_ISA_PKU, CODE_FOR_rdpkru,  \"__builtin_ia32_rdpkru\", IX86_BUILTIN_RDPKRU, UNKNOWN, (int) UNSIGNED_FTYPE_VOID)\n BDESC (OPTION_MASK_ISA_PKU, CODE_FOR_wrpkru,  \"__builtin_ia32_wrpkru\", IX86_BUILTIN_WRPKRU, UNKNOWN, (int) VOID_FTYPE_UNSIGNED)"}, {"sha": "d4d2674eb643a626869367949ae6ec6ff0b39bd0", "filename": "gcc/config/i386/i386-c.c", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Fconfig%2Fi386%2Fi386-c.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Fconfig%2Fi386%2Fi386-c.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386-c.c?ref=eee8f0b07f845f17e89b1e38711910fc8339139f", "patch": "@@ -433,8 +433,6 @@ ix86_target_macros_internal (HOST_WIDE_INT isa_flag,\n     def_or_undef (parse_in, \"__XSAVES__\");\n   if (isa_flag & OPTION_MASK_ISA_MPX)\n     def_or_undef (parse_in, \"__MPX__\");\n-  if (isa_flag & OPTION_MASK_ISA_PCOMMIT)\n-    def_or_undef (parse_in, \"__PCOMMIT__\");\n   if (isa_flag & OPTION_MASK_ISA_CLWB)\n     def_or_undef (parse_in, \"__CLWB__\");\n   if (isa_flag & OPTION_MASK_ISA_MWAITX)"}, {"sha": "5d0917a153a7cd903518806b55702bf2e2dd4f60", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 4, "deletions": 10, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=eee8f0b07f845f17e89b1e38711910fc8339139f", "patch": "@@ -4212,7 +4212,6 @@ ix86_target_string (HOST_WIDE_INT isa, int flags, int ix86_flags,\n     { \"-mxsaves\",\tOPTION_MASK_ISA_XSAVES },\n     { \"-mmpx\",          OPTION_MASK_ISA_MPX },\n     { \"-mclwb\",\t\tOPTION_MASK_ISA_CLWB },\n-    { \"-mpcommit\",\tOPTION_MASK_ISA_PCOMMIT },\n     { \"-mmwaitx\",\tOPTION_MASK_ISA_MWAITX  },\n     { \"-mclzero\",\tOPTION_MASK_ISA_CLZERO  },\n     { \"-mpku\",\t\tOPTION_MASK_ISA_PKU  },\n@@ -4800,11 +4799,10 @@ ix86_option_override_internal (bool main_args_p,\n #define PTA_AVX512IFMA\t\t(HOST_WIDE_INT_1 << 53)\n #define PTA_AVX512VBMI\t\t(HOST_WIDE_INT_1 << 54)\n #define PTA_CLWB\t\t(HOST_WIDE_INT_1 << 55)\n-#define PTA_PCOMMIT\t\t(HOST_WIDE_INT_1 << 56)\n-#define PTA_MWAITX\t\t(HOST_WIDE_INT_1 << 57)\n-#define PTA_CLZERO\t\t(HOST_WIDE_INT_1 << 58)\n-#define PTA_NO_80387\t\t(HOST_WIDE_INT_1 << 59)\n-#define PTA_PKU\t\t(HOST_WIDE_INT_1 << 60)\n+#define PTA_MWAITX\t\t(HOST_WIDE_INT_1 << 56)\n+#define PTA_CLZERO\t\t(HOST_WIDE_INT_1 << 57)\n+#define PTA_NO_80387\t\t(HOST_WIDE_INT_1 << 58)\n+#define PTA_PKU\t\t(HOST_WIDE_INT_1 << 59)\n \n #define PTA_CORE2 \\\n   (PTA_64BIT | PTA_MMX | PTA_SSE | PTA_SSE2 | PTA_SSE3 | PTA_SSSE3 \\\n@@ -5427,9 +5425,6 @@ ix86_option_override_internal (bool main_args_p,\n \tif (processor_alias_table[i].flags & PTA_PREFETCHWT1\n \t    && !(opts->x_ix86_isa_flags_explicit & OPTION_MASK_ISA_PREFETCHWT1))\n \t  opts->x_ix86_isa_flags |= OPTION_MASK_ISA_PREFETCHWT1;\n-\tif (processor_alias_table[i].flags & PTA_PCOMMIT\n-\t    && !(opts->x_ix86_isa_flags_explicit & OPTION_MASK_ISA_PCOMMIT))\n-\t  opts->x_ix86_isa_flags |= OPTION_MASK_ISA_PCOMMIT;\n \tif (processor_alias_table[i].flags & PTA_CLWB\n \t    && !(opts->x_ix86_isa_flags_explicit & OPTION_MASK_ISA_CLWB))\n \t  opts->x_ix86_isa_flags |= OPTION_MASK_ISA_CLWB;\n@@ -6559,7 +6554,6 @@ ix86_valid_target_attribute_inner_p (tree args, char *p_strings[],\n     IX86_ATTR_ISA (\"avx512vbmi\",\tOPT_mavx512vbmi),\n     IX86_ATTR_ISA (\"avx512ifma\",\tOPT_mavx512ifma),\n     IX86_ATTR_ISA (\"clwb\",\tOPT_mclwb),\n-    IX86_ATTR_ISA (\"pcommit\",\tOPT_mpcommit),\n     IX86_ATTR_ISA (\"mwaitx\",\tOPT_mmwaitx),\n     IX86_ATTR_ISA (\"clzero\",    OPT_mclzero),\n     IX86_ATTR_ISA (\"pku\",\tOPT_mpku),"}, {"sha": "add7a64778f0b722cf186901f08e4e807cd56b7a", "filename": "gcc/config/i386/i386.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Fconfig%2Fi386%2Fi386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Fconfig%2Fi386%2Fi386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.h?ref=eee8f0b07f845f17e89b1e38711910fc8339139f", "patch": "@@ -152,8 +152,6 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n #define TARGET_PREFETCHWT1_P(x)\tTARGET_ISA_PREFETCHWT1_P(x)\n #define TARGET_MPX\tTARGET_ISA_MPX\n #define TARGET_MPX_P(x)\tTARGET_ISA_MPX_P(x)\n-#define TARGET_PCOMMIT\tTARGET_ISA_PCOMMIT\n-#define TARGET_PCOMMIT_P(x)\tTARGET_ISA_PCOMMIT_P(x)\n #define TARGET_CLWB\tTARGET_ISA_CLWB\n #define TARGET_CLWB_P(x)\tTARGET_ISA_CLWB_P(x)\n #define TARGET_MWAITX\tTARGET_ISA_MWAITX"}, {"sha": "32794ac30eda16ebc22970912451d5ac289f31a6", "filename": "gcc/config/i386/i386.md", "status": "modified", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Fconfig%2Fi386%2Fi386.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Fconfig%2Fi386%2Fi386.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.md?ref=eee8f0b07f845f17e89b1e38711910fc8339139f", "patch": "@@ -259,9 +259,6 @@\n   ;; For CLWB support\n   UNSPECV_CLWB\n \n-  ;; For PCOMMIT support\n-  UNSPECV_PCOMMIT\n-\n   ;; For CLFLUSHOPT support\n   UNSPECV_CLFLUSHOPT\n \n@@ -19369,13 +19366,6 @@\n   [(set_attr \"type\" \"other\")\n    (set_attr \"length\" \"3\")])\n \n-(define_insn \"pcommit\"\n-  [(unspec_volatile [(const_int 0)] UNSPECV_PCOMMIT)]\n-  \"TARGET_PCOMMIT\"\n-  \"pcommit\"\n-  [(set_attr \"type\" \"other\")\n-   (set_attr \"length\" \"4\")])\n-\n (define_insn \"clwb\"\n   [(unspec_volatile [(match_operand 0 \"address_operand\" \"p\")]\n                    UNSPECV_CLWB)]"}, {"sha": "9eef558940f5908dfbd45b37dea00c1fcfb3711f", "filename": "gcc/config/i386/i386.opt", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Fconfig%2Fi386%2Fi386.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Fconfig%2Fi386%2Fi386.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.opt?ref=eee8f0b07f845f17e89b1e38711910fc8339139f", "patch": "@@ -752,8 +752,8 @@ Target Report Mask(ISA_CLWB) Var(ix86_isa_flags) Save\n Support CLWB instruction.\n \n mpcommit\n-Target Report Mask(ISA_PCOMMIT) Var(ix86_isa_flags) Save\n-Support PCOMMIT instruction.\n+Target Undocumented Warn(%<-mpcommit%> was deprecated)\n+;; Deprecated\n \n mfxsr\n Target Report Mask(ISA_FXSR) Var(ix86_isa_flags) Save"}, {"sha": "44e7a779909d990fdd6d8b1b981daa774187b61d", "filename": "gcc/config/i386/pcommitintrin.h", "status": "removed", "additions": 0, "deletions": 49, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b48042bb4045f0f1b2b171d2632dae4b85131d02/gcc%2Fconfig%2Fi386%2Fpcommitintrin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b48042bb4045f0f1b2b171d2632dae4b85131d02/gcc%2Fconfig%2Fi386%2Fpcommitintrin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fpcommitintrin.h?ref=b48042bb4045f0f1b2b171d2632dae4b85131d02", "patch": "@@ -1,49 +0,0 @@\n-/* Copyright (C) 2013-2016 Free Software Foundation, Inc.\n-\n-   This file is part of GCC.\n-\n-   GCC is free software; you can redistribute it and/or modify\n-   it under the terms of the GNU General Public License as published by\n-   the Free Software Foundation; either version 3, or (at your option)\n-   any later version.\n-\n-   GCC is distributed in the hope that it will be useful,\n-   but WITHOUT ANY WARRANTY; without even the implied warranty of\n-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-   GNU General Public License for more details.\n-\n-   Under Section 7 of GPL version 3, you are granted additional\n-   permissions described in the GCC Runtime Library Exception, version\n-   3.1, as published by the Free Software Foundation.\n-\n-   You should have received a copy of the GNU General Public License and\n-   a copy of the GCC Runtime Library Exception along with this program;\n-   see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n-   <http://www.gnu.org/licenses/>.  */\n-\n-#if !defined _X86INTRIN_H_INCLUDED\n-# error \"Never use <pcommitintrin.h> directly; include <x86intrin.h> instead.\"\n-#endif\n-\n-#ifndef _PCOMMITINTRIN_H_INCLUDED\n-#define _PCOMMITINTRIN_H_INCLUDED\n-\n-#ifndef __PCOMMIT__\n-#pragma GCC push_options\n-#pragma GCC target(\"pcommit\")\n-#define __DISABLE_PCOMMIT__\n-#endif /* __PCOMMIT__ */\n-\n-extern __inline void\n-__attribute__((__gnu_inline__, __always_inline__, __artificial__))\n-_mm_pcommit (void)\n-{\n-  __builtin_ia32_pcommit ();\n-}\n-\n-#ifdef __DISABLE_PCOMMIT__\n-#undef __DISABLE_PCOMMIT__\n-#pragma GCC pop_options\n-#endif /* __DISABLE_PCOMMIT__ */\n-\n-#endif /* _PCOMMITINTRIN_H_INCLUDED */"}, {"sha": "ee5c38a73b73ab5a5390eb4c8a5c1e96d2cd231c", "filename": "gcc/config/i386/x86intrin.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Fconfig%2Fi386%2Fx86intrin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Fconfig%2Fi386%2Fx86intrin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fx86intrin.h?ref=eee8f0b07f845f17e89b1e38711910fc8339139f", "patch": "@@ -83,8 +83,6 @@\n \n #include <clwbintrin.h>\n \n-#include <pcommitintrin.h>\n-\n #include <clflushoptintrin.h>\n \n #include <xsavesintrin.h>"}, {"sha": "a0659f2a51301dbc8d96d4f8349809b7f61f73cc", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=eee8f0b07f845f17e89b1e38711910fc8339139f", "patch": "@@ -1,3 +1,13 @@\n+2016-10-05  Andrew Senkevich  <andrew.senkevich@intel.com>\n+\n+\t* gcc.target/i386/pcommit-1.c: Deleted.\n+\t* gcc.target/i386/sse-12.c: Deleted -pcommit option.\n+\t* gcc.target/i386/sse-13.c: Ditto.\n+\t* gcc.target/i386/sse-14.c: Ditto.\n+\t* gcc.target/i386/sse-22.c: Ditto.\n+\t* gcc.target/i386/sse-23.c: Ditto.\n+\t* g++.dg/other/i386-2.C: Ditto.\n+\n 2016-10-05  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* gcc.target/i386/pr77833.c: Require int128 effective target."}, {"sha": "b6b3559e8d5fb6b6c5b42f1fc66b0da7a1c57b12", "filename": "gcc/testsuite/g++.dg/other/i386-2.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fi386-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fi386-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fi386-2.C?ref=eee8f0b07f845f17e89b1e38711910fc8339139f", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target i?86-*-* x86_64-*-* } } */\n-/* { dg-options \"-O -pedantic-errors -march=k8 -msse4a -m3dnow -mavx -mavx2 -mfma4 -mxop -maes -mpclmul -mpopcnt -mabm -mlzcnt -mbmi -mbmi2 -mtbm -mlwp -mfsgsbase -mrdrnd -mf16c -mfma -mrtm -mrdseed -mprfchw -madx -mfxsr -mxsaveopt -mavx512f -mavx512er -mavx512cd -mavx512pf -msha -mprefetchwt1 -mxsavec -mxsaves -mclflushopt  -mavx512dq -mavx512bw -mavx512vl -mavx512ifma -mavx512vbmi -mclwb -mpcommit -mmwaitx -mclzero -mpku\" } */\n+/* { dg-options \"-O -pedantic-errors -march=k8 -msse4a -m3dnow -mavx -mavx2 -mfma4 -mxop -maes -mpclmul -mpopcnt -mabm -mlzcnt -mbmi -mbmi2 -mtbm -mlwp -mfsgsbase -mrdrnd -mf16c -mfma -mrtm -mrdseed -mprfchw -madx -mfxsr -mxsaveopt -mavx512f -mavx512er -mavx512cd -mavx512pf -msha -mprefetchwt1 -mxsavec -mxsaves -mclflushopt  -mavx512dq -mavx512bw -mavx512vl -mavx512ifma -mavx512vbmi -mclwb -mmwaitx -mclzero -mpku\" } */\n \n /* Test that {,x,e,p,t,s,w,a,b,i}mmintrin.h, mm3dnow.h, fma4intrin.h,\n    xopintrin.h, abmintrin.h, bmiintrin.h, tbmintrin.h, lwpintrin.h,"}, {"sha": "994ed286079673575b8a03d9a3967eb2f2b11555", "filename": "gcc/testsuite/g++.dg/other/i386-3.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fi386-3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fi386-3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fi386-3.C?ref=eee8f0b07f845f17e89b1e38711910fc8339139f", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target i?86-*-* x86_64-*-* } } */\n-/* { dg-options \"-O -fkeep-inline-functions -march=k8 -msse4a -m3dnow -mavx -mavx2 -mfma4 -mxop -maes -mpclmul -mpopcnt -mabm -mlzcnt -mbmi -mbmi2 -mtbm -mlwp -mfsgsbase -mrdrnd -mf16c -mfma -mrtm -mrdseed -mprfchw -madx -mfxsr -mxsaveopt -mavx512f -mavx512er -mavx512cd -mavx512pf -msha -mprefetchwt1 -mxsavec -mxsaves -mclflushopt -mavx512dq -mavx512bw -mavx512vl -mavx512ifma -mavx512vbmi -mclwb -mpcommit -mmwaitx -mclzero -mpku\" } */\n+/* { dg-options \"-O -fkeep-inline-functions -march=k8 -msse4a -m3dnow -mavx -mavx2 -mfma4 -mxop -maes -mpclmul -mpopcnt -mabm -mlzcnt -mbmi -mbmi2 -mtbm -mlwp -mfsgsbase -mrdrnd -mf16c -mfma -mrtm -mrdseed -mprfchw -madx -mfxsr -mxsaveopt -mavx512f -mavx512er -mavx512cd -mavx512pf -msha -mprefetchwt1 -mxsavec -mxsaves -mclflushopt -mavx512dq -mavx512bw -mavx512vl -mavx512ifma -mavx512vbmi -mclwb -mmwaitx -mclzero -mpku\" } */\n \n /* Test that {,x,e,p,t,s,w,a,b,i}mmintrin.h, mm3dnow.h, fma4intrin.h,\n    xopintrin.h, abmintrin.h, bmiintrin.h, tbmintrin.h, lwpintrin.h,"}, {"sha": "dc4bc9dbd601233070a92fabeea287bec20ccab0", "filename": "gcc/testsuite/gcc.target/i386/pcommit-1.c", "status": "removed", "additions": 0, "deletions": 11, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b48042bb4045f0f1b2b171d2632dae4b85131d02/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpcommit-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b48042bb4045f0f1b2b171d2632dae4b85131d02/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpcommit-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpcommit-1.c?ref=b48042bb4045f0f1b2b171d2632dae4b85131d02", "patch": "@@ -1,11 +0,0 @@\n-/* { dg-do compile } */\n-/* { dg-options \"-O2 -mpcommit\" } */\n-/* { dg-final { scan-assembler \"pcommit\" } } */\n-\n-#include \"x86intrin.h\"\n-\n-void\n-test_pcommit ()\n-{\n-  _mm_pcommit ();\n-}"}, {"sha": "f0f545774b891fba322da4b71f3e2521dfb3e72a", "filename": "gcc/testsuite/gcc.target/i386/sse-12.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse-12.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse-12.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse-12.c?ref=eee8f0b07f845f17e89b1e38711910fc8339139f", "patch": "@@ -3,7 +3,7 @@\n    popcntintrin.h and mm_malloc.h are usable\n    with -O -std=c89 -pedantic-errors.  */\n /* { dg-do compile } */\n-/* { dg-options \"-O -std=c89 -pedantic-errors -march=k8 -msse4a -m3dnow -mavx -mavx2 -mfma4 -mxop -maes -mpclmul -mpopcnt -mabm -mlzcnt -mbmi -mbmi2 -mtbm -mlwp -mfsgsbase -mrdrnd -mf16c -mfma -mrtm -mrdseed -mprfchw -madx -mfxsr -mxsaveopt -mavx512f -mavx512er -mavx512cd -mavx512pf -msha -mprefetchwt1 -mxsavec -mxsaves -mclflushopt -mavx512bw -mavx512dq -mavx512vl -mavx512vbmi -mavx512ifma -mclwb -mpcommit -mmwaitx -mclzero -mpku\" } */\n+/* { dg-options \"-O -std=c89 -pedantic-errors -march=k8 -msse4a -m3dnow -mavx -mavx2 -mfma4 -mxop -maes -mpclmul -mpopcnt -mabm -mlzcnt -mbmi -mbmi2 -mtbm -mlwp -mfsgsbase -mrdrnd -mf16c -mfma -mrtm -mrdseed -mprfchw -madx -mfxsr -mxsaveopt -mavx512f -mavx512er -mavx512cd -mavx512pf -msha -mprefetchwt1 -mxsavec -mxsaves -mclflushopt -mavx512bw -mavx512dq -mavx512vl -mavx512vbmi -mavx512ifma -mclwb -mmwaitx -mclzero -mpku\" } */\n \n #include <x86intrin.h>\n "}, {"sha": "80d8c20d4e4eec7e355501915a38c04bf563dc79", "filename": "gcc/testsuite/gcc.target/i386/sse-13.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse-13.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse-13.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse-13.c?ref=eee8f0b07f845f17e89b1e38711910fc8339139f", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -Werror-implicit-function-declaration -march=k8 -msse4a -m3dnow -mavx -mavx2 -mfma4 -mxop -maes -mpclmul -mpopcnt -mabm -mlzcnt -mbmi -mbmi2 -mtbm -mlwp -mfsgsbase -mrdrnd -mf16c -mfma -mrtm -mrdseed -mprfchw -madx -mfxsr -mxsaveopt -mavx512f -mavx512er -mavx512cd -mavx512pf -msha -mprefetchwt1 -mxsavec -mxsaves -mclflushopt -mavx512vl -mavx512dq -mavx512bw -mavx512vbmi -mavx512ifma -mclwb -mpcommit -mmwaitx -mclzero -mpku\" } */\n+/* { dg-options \"-O2 -Werror-implicit-function-declaration -march=k8 -msse4a -m3dnow -mavx -mavx2 -mfma4 -mxop -maes -mpclmul -mpopcnt -mabm -mlzcnt -mbmi -mbmi2 -mtbm -mlwp -mfsgsbase -mrdrnd -mf16c -mfma -mrtm -mrdseed -mprfchw -madx -mfxsr -mxsaveopt -mavx512f -mavx512er -mavx512cd -mavx512pf -msha -mprefetchwt1 -mxsavec -mxsaves -mclflushopt -mavx512vl -mavx512dq -mavx512bw -mavx512vbmi -mavx512ifma -mclwb -mmwaitx -mclzero -mpku\" } */\n /* { dg-add-options bind_pic_locally } */\n \n #include <mm_malloc.h>"}, {"sha": "3370d07cbc3e8e28c5a023f82a829f469e10b1d5", "filename": "gcc/testsuite/gcc.target/i386/sse-14.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse-14.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse-14.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse-14.c?ref=eee8f0b07f845f17e89b1e38711910fc8339139f", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O0 -Werror-implicit-function-declaration -march=k8 -msse4a -m3dnow -mavx -mavx2 -mfma4 -mxop -maes -mpclmul -mpopcnt -mabm -mlzcnt -mbmi -mbmi2 -mtbm -mlwp -mfsgsbase -mrdrnd -mf16c -mfma -mrtm -mrdseed -mprfchw -madx -mfxsr -mxsaveopt -mavx512f -mavx512er -mavx512cd -mavx512pf -msha -mprefetchwt1 -mxsavec -mxsaves -mclflushopt -mavx512dq -mavx512bw -mavx512vl -mavx512ifma -mavx512vbmi -mclwb -mpcommit -mmwaitx -mclzero\" } */\n+/* { dg-options \"-O0 -Werror-implicit-function-declaration -march=k8 -msse4a -m3dnow -mavx -mavx2 -mfma4 -mxop -maes -mpclmul -mpopcnt -mabm -mlzcnt -mbmi -mbmi2 -mtbm -mlwp -mfsgsbase -mrdrnd -mf16c -mfma -mrtm -mrdseed -mprfchw -madx -mfxsr -mxsaveopt -mavx512f -mavx512er -mavx512cd -mavx512pf -msha -mprefetchwt1 -mxsavec -mxsaves -mclflushopt -mavx512dq -mavx512bw -mavx512vl -mavx512ifma -mavx512vbmi -mclwb -mmwaitx -mclzero\" } */\n /* { dg-add-options bind_pic_locally } */\n \n #include <mm_malloc.h>"}, {"sha": "924249332e85e91042d4bec7c0943d1bb673f303", "filename": "gcc/testsuite/gcc.target/i386/sse-22.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse-22.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse-22.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse-22.c?ref=eee8f0b07f845f17e89b1e38711910fc8339139f", "patch": "@@ -699,7 +699,7 @@ test_2 (_mm_clmulepi64_si128, __m128i, __m128i, __m128i, 1)\n \n /* x86intrin.h (FMA4/XOP/LWP/BMI/BMI2/TBM/LZCNT/FMA). */\n #ifdef DIFFERENT_PRAGMAS\n-#pragma GCC target (\"fma4,xop,lwp,bmi,bmi2,tbm,lzcnt,fma,rdseed,prfchw,adx,fxsr,xsaveopt,xsavec,xsaves,clflushopt,clwb,pcommit,pku\")\n+#pragma GCC target (\"fma4,xop,lwp,bmi,bmi2,tbm,lzcnt,fma,rdseed,prfchw,adx,fxsr,xsaveopt,xsavec,xsaves,clflushopt,clwb,pku\")\n #endif\n #include <x86intrin.h>\n /* xopintrin.h */"}, {"sha": "4635fb0c0bcbf33e6ed60873cb5d8f77df419036", "filename": "gcc/testsuite/gcc.target/i386/sse-23.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse-23.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eee8f0b07f845f17e89b1e38711910fc8339139f/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse-23.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse-23.c?ref=eee8f0b07f845f17e89b1e38711910fc8339139f", "patch": "@@ -594,6 +594,6 @@\n #define __builtin_ia32_extracti64x2_256_mask(A, E, C, D) __builtin_ia32_extracti64x2_256_mask(A, 1, C, D)\n #define __builtin_ia32_extractf64x2_256_mask(A, E, C, D) __builtin_ia32_extractf64x2_256_mask(A, 1, C, D)\n \n-#pragma GCC target (\"sse4a,3dnow,avx,avx2,fma4,xop,aes,pclmul,popcnt,abm,lzcnt,bmi,bmi2,tbm,lwp,fsgsbase,rdrnd,f16c,fma,rtm,rdseed,prfchw,adx,fxsr,xsaveopt,avx512f,avx512er,avx512cd,avx512pf,sha,prefetchwt1,xsavec,xsaves,clflushopt,avx512bw,avx512dq,avx512vl,avx512vbmi,avx512ifma,clwb,pcommit,mwaitx,clzero,pku\")\n+#pragma GCC target (\"sse4a,3dnow,avx,avx2,fma4,xop,aes,pclmul,popcnt,abm,lzcnt,bmi,bmi2,tbm,lwp,fsgsbase,rdrnd,f16c,fma,rtm,rdseed,prfchw,adx,fxsr,xsaveopt,avx512f,avx512er,avx512cd,avx512pf,sha,prefetchwt1,xsavec,xsaves,clflushopt,avx512bw,avx512dq,avx512vl,avx512vbmi,avx512ifma,clwb,mwaitx,clzero,pku\")\n \n #include <x86intrin.h>"}]}