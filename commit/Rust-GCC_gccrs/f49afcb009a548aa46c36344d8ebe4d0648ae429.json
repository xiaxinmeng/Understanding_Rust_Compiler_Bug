{"sha": "f49afcb009a548aa46c36344d8ebe4d0648ae429", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjQ5YWZjYjAwOWE1NDhhYTQ2YzM2MzQ0ZDhlYmU0ZDA2NDhhZTQyOQ==", "commit": {"author": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-11-03T23:28:25Z"}, "committer": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-11-03T23:28:25Z"}, "message": "trans-array.c (set_vector_loop_bounds): Loop over the parents.\n\n\t* trans-array.c (set_vector_loop_bounds): Loop over the parents.\n\nFrom-SVN: r180892", "tree": {"sha": "024f6e9768a09ecece8f3d11bcff9d4a7a43f140", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/024f6e9768a09ecece8f3d11bcff9d4a7a43f140"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f49afcb009a548aa46c36344d8ebe4d0648ae429", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f49afcb009a548aa46c36344d8ebe4d0648ae429", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f49afcb009a548aa46c36344d8ebe4d0648ae429", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f49afcb009a548aa46c36344d8ebe4d0648ae429/comments", "author": null, "committer": null, "parents": [{"sha": "fa168d9ff4f07bde598f8d924f5c854127598f6e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa168d9ff4f07bde598f8d924f5c854127598f6e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa168d9ff4f07bde598f8d924f5c854127598f6e"}], "stats": {"total": 18, "additions": 13, "deletions": 5}, "files": [{"sha": "47c4938f8e0416f9643b24339558cdc779ce589e", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f49afcb009a548aa46c36344d8ebe4d0648ae429/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f49afcb009a548aa46c36344d8ebe4d0648ae429/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=f49afcb009a548aa46c36344d8ebe4d0648ae429", "patch": "@@ -1,3 +1,7 @@\n+2011-11-03  Mikael Morin  <mikael@gcc.gnu.org>\n+\n+\t* trans-array.c (set_vector_loop_bounds): Loop over the parents.\n+\n 2011-11-03  Mikael Morin  <mikael@gcc.gnu.org>\n \n \t* trans-array.c (gfc_trans_array_constructor): Loop over the parents."}, {"sha": "25d9a37675c119e5cadc533dbf932fa00db087ab", "filename": "gcc/fortran/trans-array.c", "status": "modified", "additions": 9, "deletions": 5, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f49afcb009a548aa46c36344d8ebe4d0648ae429/gcc%2Ffortran%2Ftrans-array.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f49afcb009a548aa46c36344d8ebe4d0648ae429/gcc%2Ffortran%2Ftrans-array.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-array.c?ref=f49afcb009a548aa46c36344d8ebe4d0648ae429", "patch": "@@ -2197,14 +2197,18 @@ set_vector_loop_bounds (gfc_ss * ss)\n   int dim;\n \n   info = &ss->info->data.array;\n-  loop = ss->loop;\n \n-  for (n = 0; n < loop->dimen; n++)\n+  for (; ss; ss = ss->parent)\n     {\n-      dim = ss->dim[n];\n-      if (info->ref->u.ar.dimen_type[dim] == DIMEN_VECTOR\n-\t  && loop->to[n] == NULL)\n+      loop = ss->loop;\n+\n+      for (n = 0; n < loop->dimen; n++)\n \t{\n+\t  dim = ss->dim[n];\n+\t  if (info->ref->u.ar.dimen_type[dim] != DIMEN_VECTOR\n+\t      || loop->to[n] != NULL)\n+\t    continue;\n+\n \t  /* Loop variable N indexes vector dimension DIM, and we don't\n \t     yet know the upper bound of loop variable N.  Set it to the\n \t     difference between the vector's upper and lower bounds.  */"}]}