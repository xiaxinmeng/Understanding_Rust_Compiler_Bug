{"sha": "044ed7ecf6f07beb86a90f7d79b3f5b9424764db", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDQ0ZWQ3ZWNmNmYwN2JlYjg2YTkwZjdkNzliM2Y1Yjk0MjQ3NjRkYg==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2005-07-25T07:38:58Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2005-07-25T07:38:58Z"}, "message": "re PR c/20303 ([4.0 only] Can't push more than 16 nested visibility)\n\n\tPR middle-end/20303\n\t* gcc.dg/visibility-d.c: New test.\n\nFrom-SVN: r102348", "tree": {"sha": "3cc1792c5b1975142deea34967a2cd794e27db72", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3cc1792c5b1975142deea34967a2cd794e27db72"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/044ed7ecf6f07beb86a90f7d79b3f5b9424764db", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/044ed7ecf6f07beb86a90f7d79b3f5b9424764db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/044ed7ecf6f07beb86a90f7d79b3f5b9424764db", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/044ed7ecf6f07beb86a90f7d79b3f5b9424764db/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d13d9eae7d2ab592378093b12f004126c7728e59", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d13d9eae7d2ab592378093b12f004126c7728e59", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d13d9eae7d2ab592378093b12f004126c7728e59"}], "stats": {"total": 210, "additions": 210, "deletions": 0}, "files": [{"sha": "7de213d183eba0c768fd4bc8cd2258f2ca42562d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/044ed7ecf6f07beb86a90f7d79b3f5b9424764db/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/044ed7ecf6f07beb86a90f7d79b3f5b9424764db/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=044ed7ecf6f07beb86a90f7d79b3f5b9424764db", "patch": "@@ -1,3 +1,8 @@\n+2005-07-25  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR middle-end/20303\n+\t* gcc.dg/visibility-d.c: New test.\n+\n 2005-07-25  Feng Wang  <fengwang@nudt.edu.cn>\n \n \t* gfortran.dg/reshape_rank7.f90: Fix dejagnu commands."}, {"sha": "6f8851b621a6595356e7b8a5e6148958d6f45041", "filename": "gcc/testsuite/gcc.dg/visibility-d.c", "status": "added", "additions": 205, "deletions": 0, "changes": 205, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/044ed7ecf6f07beb86a90f7d79b3f5b9424764db/gcc%2Ftestsuite%2Fgcc.dg%2Fvisibility-d.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/044ed7ecf6f07beb86a90f7d79b3f5b9424764db/gcc%2Ftestsuite%2Fgcc.dg%2Fvisibility-d.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvisibility-d.c?ref=044ed7ecf6f07beb86a90f7d79b3f5b9424764db", "patch": "@@ -0,0 +1,205 @@\n+/* PR middle-end/20303 */\n+/* Test nesting of #pragma GCC visibility. */\n+/* { dg-do compile } */\n+/* { dg-require-visibility \"\" } */\n+/* { dg-final { scan-not-hidden \"foo00\" } } */\n+/* { dg-final { scan-hidden \"foo01\" } } */\n+/* { dg-final { scan-not-hidden \"foo02\" } } */\n+/* { dg-final { scan-hidden \"foo03\" } } */\n+/* { dg-final { scan-not-hidden \"foo04\" } } */\n+/* { dg-final { scan-not-hidden \"foo05\" } } */\n+/* { dg-final { scan-not-hidden \"foo06\" } } */\n+/* { dg-final { scan-hidden \"foo07\" } } */\n+/* { dg-final { scan-not-hidden \"foo08\" } } */\n+/* { dg-final { scan-hidden \"foo09\" } } */\n+/* { dg-final { scan-not-hidden \"foo10\" } } */\n+/* { dg-final { scan-hidden \"foo11\" } } */\n+/* { dg-final { scan-hidden \"foo12\" } } */\n+/* { dg-final { scan-hidden \"foo13\" } } */\n+/* { dg-final { scan-not-hidden \"foo14\" } } */\n+/* { dg-final { scan-hidden \"foo15\" } } */\n+/* { dg-final { scan-not-hidden \"foo16\" } } */\n+/* { dg-final { scan-hidden \"foo17\" } } */\n+/* { dg-final { scan-not-hidden \"foo18\" } } */\n+/* { dg-final { scan-hidden \"foo19\" } } */\n+/* { dg-final { scan-not-hidden \"foo20\" } } */\n+/* { dg-final { scan-hidden \"foo21\" } } */\n+/* { dg-final { scan-not-hidden \"foo22\" } } */\n+/* { dg-final { scan-hidden \"foo23\" } } */\n+/* { dg-final { scan-not-hidden \"foo24\" } } */\n+/* { dg-final { scan-hidden \"foo25\" } } */\n+/* { dg-final { scan-not-hidden \"foo26\" } } */\n+/* { dg-final { scan-hidden \"foo27\" } } */\n+/* { dg-final { scan-not-hidden \"foo28\" } } */\n+/* { dg-final { scan-hidden \"foo29\" } } */\n+/* { dg-final { scan-not-hidden \"foo30\" } } */\n+/* { dg-final { scan-hidden \"foo31\" } } */\n+/* { dg-final { scan-not-hidden \"foo32\" } } */\n+/* { dg-final { scan-hidden \"foo33\" } } */\n+/* { dg-final { scan-not-hidden \"foo34\" } } */\n+/* { dg-final { scan-hidden \"foo35\" } } */\n+/* { dg-final { scan-not-hidden \"foo36\" } } */\n+/* { dg-final { scan-hidden \"foo37\" } } */\n+/* { dg-final { scan-not-hidden \"foo38\" } } */\n+/* { dg-final { scan-hidden \"foo39\" } } */\n+/* { dg-final { scan-not-hidden \"foo40\" } } */\n+/* { dg-final { scan-hidden \"foo41\" } } */\n+/* { dg-final { scan-not-hidden \"foo42\" } } */\n+/* { dg-final { scan-hidden \"foo43\" } } */\n+/* { dg-final { scan-not-hidden \"foo44\" } } */\n+/* { dg-final { scan-hidden \"foo45\" } } */\n+/* { dg-final { scan-hidden \"foo46\" } } */\n+/* { dg-final { scan-hidden \"foo47\" } } */\n+/* { dg-final { scan-not-hidden \"foo48\" } } */\n+/* { dg-final { scan-hidden \"foo49\" } } */\n+/* { dg-final { scan-not-hidden \"foo50\" } } */\n+/* { dg-final { scan-hidden \"foo51\" } } */\n+/* { dg-final { scan-not-hidden \"foo52\" } } */\n+/* { dg-final { scan-not-hidden \"foo53\" } } */\n+/* { dg-final { scan-not-hidden \"foo54\" } } */\n+/* { dg-final { scan-hidden \"foo55\" } } */\n+/* { dg-final { scan-not-hidden \"foo56\" } } */\n+/* { dg-final { scan-hidden \"foo57\" } } */\n+/* { dg-final { scan-not-hidden \"foo58\" } } */\n+/* { dg-final { scan-hidden \"foo59\" } } */\n+\n+#pragma GCC visibility push(default)\n+void foo00();\n+#pragma GCC visibility push(hidden)\n+void foo01();\n+#pragma GCC visibility push(default)\n+void foo02();\n+#pragma GCC visibility push(hidden)\n+void foo03();\n+#pragma GCC visibility push(default)\n+void foo04();\n+#pragma GCC visibility push(default)\n+void foo05();\n+#pragma GCC visibility push(default)\n+void foo06();\n+#pragma GCC visibility push(hidden)\n+void foo07();\n+#pragma GCC visibility push(default)\n+void foo08();\n+#pragma GCC visibility push(hidden)\n+void foo09();\n+#pragma GCC visibility push(default)\n+void foo10();\n+#pragma GCC visibility push(hidden)\n+void foo11();\n+#pragma GCC visibility push(hidden)\n+void foo12();\n+#pragma GCC visibility push(hidden)\n+void foo13();\n+#pragma GCC visibility push(default)\n+void foo14();\n+#pragma GCC visibility push(hidden)\n+void foo15();\n+#pragma GCC visibility push(default)\n+void foo16();\n+#pragma GCC visibility push(hidden)\n+void foo17();\n+#pragma GCC visibility push(default)\n+void foo18();\n+#pragma GCC visibility push(hidden)\n+void foo19();\n+#pragma GCC visibility push(default)\n+void foo20();\n+#pragma GCC visibility push(hidden)\n+void foo21();\n+#pragma GCC visibility push(default)\n+void foo22();\n+#pragma GCC visibility push(hidden)\n+void foo23();\n+#pragma GCC visibility push(default)\n+void foo24();\n+#pragma GCC visibility push(hidden)\n+void foo25();\n+#pragma GCC visibility push(default)\n+void foo26();\n+#pragma GCC visibility push(hidden)\n+void foo27();\n+#pragma GCC visibility push(default)\n+void foo28();\n+#pragma GCC visibility push(hidden)\n+void foo29();\n+#pragma GCC visibility pop\n+void foo30();\n+#pragma GCC visibility pop\n+void foo31();\n+#pragma GCC visibility pop\n+void foo32();\n+#pragma GCC visibility pop\n+void foo33();\n+#pragma GCC visibility pop\n+void foo34();\n+#pragma GCC visibility pop\n+void foo35();\n+#pragma GCC visibility pop\n+void foo36();\n+#pragma GCC visibility pop\n+void foo37();\n+#pragma GCC visibility pop\n+void foo38();\n+#pragma GCC visibility pop\n+void foo39();\n+#pragma GCC visibility pop\n+void foo40();\n+#pragma GCC visibility pop\n+void foo41();\n+#pragma GCC visibility pop\n+void foo42();\n+#pragma GCC visibility pop\n+void foo43();\n+#pragma GCC visibility pop\n+void foo44();\n+#pragma GCC visibility pop\n+void foo45();\n+#pragma GCC visibility pop\n+void foo46();\n+#pragma GCC visibility pop\n+void foo47();\n+#pragma GCC visibility pop\n+void foo48();\n+#pragma GCC visibility pop\n+void foo49();\n+#pragma GCC visibility pop\n+void foo50();\n+#pragma GCC visibility pop\n+void foo51();\n+#pragma GCC visibility pop\n+void foo52();\n+#pragma GCC visibility pop\n+void foo53();\n+#pragma GCC visibility pop\n+void foo54();\n+#pragma GCC visibility pop\n+void foo55();\n+#pragma GCC visibility pop\n+void foo56();\n+#pragma GCC visibility pop\n+void foo57();\n+#pragma GCC visibility pop\n+void foo58();\n+#pragma GCC visibility push (hidden)\n+void foo59();\n+#pragma GCC visibility pop\n+#pragma GCC visibility pop\n+\n+#define D(N) \\\n+void foo##N##0() { } \\\n+void foo##N##1() { } \\\n+void foo##N##2() { } \\\n+void foo##N##3() { } \\\n+void foo##N##4() { } \\\n+void foo##N##5() { } \\\n+void foo##N##6() { } \\\n+void foo##N##7() { } \\\n+void foo##N##8() { } \\\n+void foo##N##9() { }\n+D(0)\n+D(1)\n+D(2)\n+D(3)\n+D(4)\n+D(5)"}]}