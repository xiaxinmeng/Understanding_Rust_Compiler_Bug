{"sha": "6c5222c607862b61ddc715dd208b470a89109cdd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmM1MjIyYzYwNzg2MmI2MWRkYzcxNWRkMjA4YjQ3MGE4OTEwOWNkZA==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2009-11-25T02:41:20Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2009-11-25T02:41:20Z"}, "message": "re PR fortran/42008 (Wrongly rejected derived types with default initializers in PURE procedures)\n\n2009-11-24  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR fortran/42008\n\t* gfortran.dg/pure_initializer_2.f90: New test.\n\nFrom-SVN: r154530", "tree": {"sha": "01c1a5c8989f1bb8f43552511a793979768af2ce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/01c1a5c8989f1bb8f43552511a793979768af2ce"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6c5222c607862b61ddc715dd208b470a89109cdd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c5222c607862b61ddc715dd208b470a89109cdd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c5222c607862b61ddc715dd208b470a89109cdd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c5222c607862b61ddc715dd208b470a89109cdd/comments", "author": null, "committer": null, "parents": [{"sha": "26d3d4f4dcb61b68e996ee7b7016c22ffb667b3c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26d3d4f4dcb61b68e996ee7b7016c22ffb667b3c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/26d3d4f4dcb61b68e996ee7b7016c22ffb667b3c"}], "stats": {"total": 51, "additions": 51, "deletions": 0}, "files": [{"sha": "8a7e55678f2678bade43d545dae30449ae363b7b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6c5222c607862b61ddc715dd208b470a89109cdd/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6c5222c607862b61ddc715dd208b470a89109cdd/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=6c5222c607862b61ddc715dd208b470a89109cdd", "patch": "@@ -1,3 +1,8 @@\n+2009-11-24  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR fortran/42008\n+\t* gfortran.dg/pure_initializer_2.f90: New test.\n+\n 2009-11-23  Jason Merrill  <jason@redhat.com>\n \n \t* g++.dg/tc1/dr147.C: Check for helpful messages. Add DR 318 tests."}, {"sha": "4fd2556efca6d205e76647d1a3a85e037ab693a3", "filename": "gcc/testsuite/gfortran.dg/pure_initializer_2.f90", "status": "added", "additions": 46, "deletions": 0, "changes": 46, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6c5222c607862b61ddc715dd208b470a89109cdd/gcc%2Ftestsuite%2Fgfortran.dg%2Fpure_initializer_2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6c5222c607862b61ddc715dd208b470a89109cdd/gcc%2Ftestsuite%2Fgfortran.dg%2Fpure_initializer_2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpure_initializer_2.f90?ref=6c5222c607862b61ddc715dd208b470a89109cdd", "patch": "@@ -0,0 +1,46 @@\n+! { dg-do compile }\n+! PR42008 Wrongly rejected derived types with default initializers\n+! in PURE procedures\n+module mod_xyz\n+ implicit none\n+contains\n+ pure subroutine psub()\n+  type ilist\n+    type(ilist), pointer :: next => null() ! Valid\n+    integer :: i\n+  end type ilist\n+ end subroutine psub\n+end module mod_xyz\n+\n+module mod_xyz2\n+ implicit none\n+contains\n+ pure subroutine psub()\n+  type ilist\n+    type(ilist), pointer :: next\n+    integer, pointer :: p => null() ! Valid\n+    integer :: i\n+  end type ilist\n+  type(ilist) :: var ! Valid\n+  var%next => null()\n+ end subroutine psub\n+end module mod_xyz2\n+\n+module mod_xyz3\n+ implicit none\n+ type ilist\n+   type(ilist), pointer :: next => null() ! Valid\n+   integer :: i\n+ end type ilist\n+contains\n+ pure subroutine psub()\n+  type(ilist) :: var ! Valid\n+ end subroutine psub\n+end module mod_xyz3\n+\n+pure function test()\n+  integer,pointer :: p => null() !{ dg-error \"not allowed in a PURE procedure\" }\n+  integer :: test\n+  test = p\n+end function test\n+! { dg-final { cleanup-modules \"mod_xyz mod_xyz2 mod_xyz3\" } }"}]}