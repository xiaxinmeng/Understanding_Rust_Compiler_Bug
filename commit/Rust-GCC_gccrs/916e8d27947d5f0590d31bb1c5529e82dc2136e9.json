{"sha": "916e8d27947d5f0590d31bb1c5529e82dc2136e9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTE2ZThkMjc5NDdkNWYwNTkwZDMxYmIxYzU1MjllODJkYzIxMzZlOQ==", "commit": {"author": {"name": "Tristan Gingold", "email": "gingold@adacore.com", "date": "2011-12-21T09:44:27Z"}, "committer": {"name": "Tristan Gingold", "email": "gingold@gcc.gnu.org", "date": "2011-12-21T09:44:27Z"}, "message": "vms-protos.h (vms_function_section): New prototype.\n\n2011-12-21  Tristan Gingold  <gingold@adacore.com>\n\n\t* config/vms/vms-protos.h (vms_function_section): New prototype.\n\t* config/vms/vms.c (vms_function_section): New function.\n\t* config/vms/vms.h (TARGET_ASM_FUNCTION_SECTION): Define.\n\nFrom-SVN: r182571", "tree": {"sha": "93c9158835058ddb90e9d29550850560a8a0716e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/93c9158835058ddb90e9d29550850560a8a0716e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/916e8d27947d5f0590d31bb1c5529e82dc2136e9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/916e8d27947d5f0590d31bb1c5529e82dc2136e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/916e8d27947d5f0590d31bb1c5529e82dc2136e9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/916e8d27947d5f0590d31bb1c5529e82dc2136e9/comments", "author": {"login": "gingold-adacore", "id": 16334725, "node_id": "MDQ6VXNlcjE2MzM0NzI1", "avatar_url": "https://avatars.githubusercontent.com/u/16334725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gingold-adacore", "html_url": "https://github.com/gingold-adacore", "followers_url": "https://api.github.com/users/gingold-adacore/followers", "following_url": "https://api.github.com/users/gingold-adacore/following{/other_user}", "gists_url": "https://api.github.com/users/gingold-adacore/gists{/gist_id}", "starred_url": "https://api.github.com/users/gingold-adacore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gingold-adacore/subscriptions", "organizations_url": "https://api.github.com/users/gingold-adacore/orgs", "repos_url": "https://api.github.com/users/gingold-adacore/repos", "events_url": "https://api.github.com/users/gingold-adacore/events{/privacy}", "received_events_url": "https://api.github.com/users/gingold-adacore/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b200cc3fccb049b5335c3e9310b4ab7cf4b0075c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b200cc3fccb049b5335c3e9310b4ab7cf4b0075c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b200cc3fccb049b5335c3e9310b4ab7cf4b0075c"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "8cded1cf1787bc789e8c3b37b8ada83beac46f30", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/916e8d27947d5f0590d31bb1c5529e82dc2136e9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/916e8d27947d5f0590d31bb1c5529e82dc2136e9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=916e8d27947d5f0590d31bb1c5529e82dc2136e9", "patch": "@@ -1,3 +1,9 @@\n+2011-12-21  Tristan Gingold  <gingold@adacore.com>\n+\n+\t* config/vms/vms-protos.h (vms_function_section): New prototype.\n+\t* config/vms/vms.c (vms_function_section): New function.\n+\t* config/vms/vms.h (TARGET_ASM_FUNCTION_SECTION): Define.\n+\n 2011-12-21  Richard Guenther  <rguenther@suse.de>\n \n \tPR lto/41159"}, {"sha": "a7ca3469cdb8ecc3b6a2eade19fc6ea7a06ba621", "filename": "gcc/config/vms/vms-protos.h", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/916e8d27947d5f0590d31bb1c5529e82dc2136e9/gcc%2Fconfig%2Fvms%2Fvms-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/916e8d27947d5f0590d31bb1c5529e82dc2136e9/gcc%2Fconfig%2Fvms%2Fvms-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fvms%2Fvms-protos.h?ref=916e8d27947d5f0590d31bb1c5529e82dc2136e9", "patch": "@@ -22,3 +22,10 @@ extern void vms_c_register_pragma (void);\n \n /* vms.c  */\n void vms_patch_builtins (void);\n+\n+#ifdef TREE_CODE\n+extern section *vms_function_section (tree decl ATTRIBUTE_UNUSED,\n+                                      enum node_frequency freq ATTRIBUTE_UNUSED,\n+                                      bool startup ATTRIBUTE_UNUSED,\n+                                      bool exit ATTRIBUTE_UNUSED);\n+#endif /* TREE_CODE */"}, {"sha": "95cc5defd6385569a91268b2faed69557c0dca06", "filename": "gcc/config/vms/vms.c", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/916e8d27947d5f0590d31bb1c5529e82dc2136e9/gcc%2Fconfig%2Fvms%2Fvms.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/916e8d27947d5f0590d31bb1c5529e82dc2136e9/gcc%2Fconfig%2Fvms%2Fvms.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fvms%2Fvms.c?ref=916e8d27947d5f0590d31bb1c5529e82dc2136e9", "patch": "@@ -180,4 +180,15 @@ vms_patch_builtins (void)\n     }\n }\n \n+/* Always default to .text section.  */\n+\n+section *\n+vms_function_section (tree decl ATTRIBUTE_UNUSED,\n+                      enum node_frequency freq ATTRIBUTE_UNUSED,\n+                      bool startup ATTRIBUTE_UNUSED,\n+                      bool exit ATTRIBUTE_UNUSED)\n+{\n+  return NULL;\n+}\n+\n #include \"gt-vms.h\""}, {"sha": "ab8f6e0dc4ed4a69ddf61e865c52ce64f3768e05", "filename": "gcc/config/vms/vms.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/916e8d27947d5f0590d31bb1c5529e82dc2136e9/gcc%2Fconfig%2Fvms%2Fvms.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/916e8d27947d5f0590d31bb1c5529e82dc2136e9/gcc%2Fconfig%2Fvms%2Fvms.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fvms%2Fvms.h?ref=916e8d27947d5f0590d31bb1c5529e82dc2136e9", "patch": "@@ -61,3 +61,7 @@ extern void vms_c_register_includes (const char *, const char *, int);\n #define SIZE_TYPE \"unsigned int\"\n #undef PTRDIFF_TYPE\n #define PTRDIFF_TYPE \"int\"\n+\n+/* VMS doesn't support other sections than .text for code.  */\n+\n+#define TARGET_ASM_FUNCTION_SECTION vms_function_section"}]}