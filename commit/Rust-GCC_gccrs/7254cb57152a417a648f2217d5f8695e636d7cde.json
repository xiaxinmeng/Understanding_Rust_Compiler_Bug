{"sha": "7254cb57152a417a648f2217d5f8695e636d7cde", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzI1NGNiNTcxNTJhNDE3YTY0OGYyMjE3ZDVmODY5NWU2MzZkN2NkZQ==", "commit": {"author": {"name": "Michael Matz", "email": "matz@suse.de", "date": "2011-04-18T21:53:08Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2011-04-18T21:53:08Z"}, "message": "expr.c (expand_expr_real_2): Use GET_MODE instead of TYPE_MODE.\n\n2011-05-18  Michael Matz  <matz@suse.de>\n\t    Steve Ellcey  <sje@cup.hp.com>\n\n\t* expr.c (expand_expr_real_2): Use GET_MODE instead of TYPE_MODE.\n\nCo-Authored-By: Steve Ellcey <sje@cup.hp.com>\n\nFrom-SVN: r172673", "tree": {"sha": "a729868be5c4ccb93ba85b1e17e36fafa8e8ca3b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a729868be5c4ccb93ba85b1e17e36fafa8e8ca3b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7254cb57152a417a648f2217d5f8695e636d7cde", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7254cb57152a417a648f2217d5f8695e636d7cde", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7254cb57152a417a648f2217d5f8695e636d7cde", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7254cb57152a417a648f2217d5f8695e636d7cde/comments", "author": {"login": "susematz", "id": 4117296, "node_id": "MDQ6VXNlcjQxMTcyOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/4117296?v=4", "gravatar_id": "", "url": "https://api.github.com/users/susematz", "html_url": "https://github.com/susematz", "followers_url": "https://api.github.com/users/susematz/followers", "following_url": "https://api.github.com/users/susematz/following{/other_user}", "gists_url": "https://api.github.com/users/susematz/gists{/gist_id}", "starred_url": "https://api.github.com/users/susematz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/susematz/subscriptions", "organizations_url": "https://api.github.com/users/susematz/orgs", "repos_url": "https://api.github.com/users/susematz/repos", "events_url": "https://api.github.com/users/susematz/events{/privacy}", "received_events_url": "https://api.github.com/users/susematz/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "474e8e70a6a64862810d906161d1f5919ebd5f29", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/474e8e70a6a64862810d906161d1f5919ebd5f29", "html_url": "https://github.com/Rust-GCC/gccrs/commit/474e8e70a6a64862810d906161d1f5919ebd5f29"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "fb7509c2537a92dc5d592b9fdc39e531a6061480", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7254cb57152a417a648f2217d5f8695e636d7cde/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7254cb57152a417a648f2217d5f8695e636d7cde/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7254cb57152a417a648f2217d5f8695e636d7cde", "patch": "@@ -1,3 +1,8 @@\n+2011-05-18  Michael Matz  <matz@suse.de>\n+\t    Steve Ellcey  <sje@cup.hp.com>\n+\n+\t* expr.c (expand_expr_real_2): Use GET_MODE instead of TYPE_MODE.\n+\n 2011-04-18  Dennis, CHENG Renquan  <crquan@fedoraproject.org>\n \n \t* doc/passes.texi: Fill crossref nodes."}, {"sha": "1bafe6a2d04f15ba2fc20857fba540a3215cdc6c", "filename": "gcc/expr.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7254cb57152a417a648f2217d5f8695e636d7cde/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7254cb57152a417a648f2217d5f8695e636d7cde/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=7254cb57152a417a648f2217d5f8695e636d7cde", "patch": "@@ -7360,7 +7360,10 @@ expand_expr_real_2 (sepops ops, rtx target, enum machine_mode tmode,\n       else if (CONSTANT_P (op0))\n \t{\n \t  tree inner_type = TREE_TYPE (treeop0);\n-\t  enum machine_mode inner_mode = TYPE_MODE (inner_type);\n+\t  enum machine_mode inner_mode = GET_MODE (op0);\n+\n+\t  if (inner_mode == VOIDmode)\n+\t    inner_mode = TYPE_MODE (inner_type);\n \n \t  if (modifier == EXPAND_INITIALIZER)\n \t    op0 = simplify_gen_subreg (mode, op0, inner_mode,"}]}