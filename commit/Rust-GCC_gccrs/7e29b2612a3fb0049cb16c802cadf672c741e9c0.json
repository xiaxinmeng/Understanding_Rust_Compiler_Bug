{"sha": "7e29b2612a3fb0049cb16c802cadf672c741e9c0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2UyOWIyNjEyYTNmYjAwNDljYjE2YzgwMmNhZGY2NzJjNzQxZTljMA==", "commit": {"author": {"name": "Toon Moene", "email": "toon@moene.indiv.nluug.nl", "date": "2001-07-07T18:51:58Z"}, "committer": {"name": "Toon Moene", "email": "toon@gcc.gnu.org", "date": "2001-07-07T18:51:58Z"}, "message": "Makefile.in: Update config.h dependencies.\n\n2001-07-07  Toon Moene  <toon@moene.indiv.nluug.nl>\n\n\t* libI77/Makefile.in: Update config.h dependencies.\n\t* libI77/configure.in: Define _XOPEN_SOURCE and\n\t_FILE_OFFSET_BITS unconditionally.\n\t* libI77/configure: Rebuilt.\n\t* libI77/config.h.in: Rebuilt.\n\t* libI77/endfile.c (t_runc): Replace rewind by FSEEK.\n\t* libI77/err.c (f__nowwriting): The type of `loc' is off_t.\n\t* libI77/open.c (f_open): Replace rewind by FSEEK.\n\t* libI77/rewind.c: Include config.h.  (f_rew): Replace\n\trewind by FSEEK.\n\t* libI77/sfe.c: Include config.h.\n\t* libI77/wsfe.c: Ditto.\n\t* libU77/configure.in: Define _XOPEN_SOURCE and\n\t_FILE_OFFSET_BITS unconditionally.\n\t* libU77/configure: Rebuilt.\n\t* libU77/config.hin: Rebuilt.\n\nFrom-SVN: r43841", "tree": {"sha": "0e9048262cf61415ec252824aa1caef619989bdb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0e9048262cf61415ec252824aa1caef619989bdb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7e29b2612a3fb0049cb16c802cadf672c741e9c0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e29b2612a3fb0049cb16c802cadf672c741e9c0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7e29b2612a3fb0049cb16c802cadf672c741e9c0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e29b2612a3fb0049cb16c802cadf672c741e9c0/comments", "author": null, "committer": null, "parents": [{"sha": "74d04dd13b38cadf338049f187c4960693172aaa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74d04dd13b38cadf338049f187c4960693172aaa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/74d04dd13b38cadf338049f187c4960693172aaa"}], "stats": {"total": 85, "additions": 77, "deletions": 8}, "files": [{"sha": "906d430b12938922f05af87029fbc8eea45902ff", "filename": "libf2c/ChangeLog", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FChangeLog?ref=7e29b2612a3fb0049cb16c802cadf672c741e9c0", "patch": "@@ -1,3 +1,22 @@\n+2001-07-07  Toon Moene  <toon@moene.indiv.nluug.nl>\n+\n+\t* libI77/Makefile.in: Update config.h dependencies.\n+\t* libI77/configure.in: Define _XOPEN_SOURCE and\n+\t_FILE_OFFSET_BITS unconditionally.\n+\t* libI77/configure: Rebuilt.\n+\t* libI77/config.h.in: Rebuilt.\n+\t* libI77/endfile.c (t_runc): Replace rewind by FSEEK.\n+\t* libI77/err.c (f__nowwriting): The type of `loc' is off_t.\n+\t* libI77/open.c (f_open): Replace rewind by FSEEK.\n+\t* libI77/rewind.c: Include config.h.  (f_rew): Replace\n+\trewind by FSEEK.\n+\t* libI77/sfe.c: Include config.h.\n+\t* libI77/wsfe.c: Ditto.\n+\t* libU77/configure.in: Define _XOPEN_SOURCE and\n+\t_FILE_OFFSET_BITS unconditionally.\n+\t* libU77/configure: Rebuilt.\n+\t* libU77/config.hin: Rebuilt.\n+\n 2001-07-07  Toon Moene  <toon@moene.indiv.nluug.nl>\n \n \t* libI77/Makefile.in: Add necessary dependencies on config.h."}, {"sha": "8cccf8550c96218dcc7f7a81fcdede7ad5f2b6fa", "filename": "libf2c/libI77/Makefile.in", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibI77%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibI77%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2FMakefile.in?ref=7e29b2612a3fb0049cb16c802cadf672c741e9c0", "patch": "@@ -124,14 +124,14 @@ open.o:\t\topen.c fio.h rawio.h config.h\n rdfmt.o:\tfio.h config.h\n rdfmt.o:\tfmt.h\n rdfmt.o:\trdfmt.c fp.h\n-rewind.o:\trewind.c fio.h\n+rewind.o:\trewind.c fio.h config.h\n rsfe.o:\t\tfio.h config.h\n rsfe.o:\t\trsfe.c fmt.h\n rsli.o:\t\tfio.h\n rsli.o:\t\trsli.c lio.h\n rsne.o:\t\tfio.h config.h\n rsne.o:\t\trsne.c lio.h\n-sfe.o:\t\tsfe.c fio.h\n+sfe.o:\t\tsfe.c fio.h config.h\n sue.o:\t\tsue.c fio.h config.h\n typesize.o:\ttypesize.c config.h\n uio.o:\t\tuio.c fio.h\n@@ -141,7 +141,7 @@ wref.o:\t\tfmt.h\n wref.o:\t\twref.c fp.h\n wrtfmt.o:\tfio.h config.h\n wrtfmt.o:\twrtfmt.c fmt.h\n-wsfe.o:\t\tfio.h\n+wsfe.o:\t\tfio.h config.h\n wsfe.o:\t\twsfe.c fmt.h\n wsle.o:\t\tfio.h config.h\n wsle.o:\t\tfmt.h"}, {"sha": "c784d105f6e937db4f5da61bfbfce3827f0e9a48", "filename": "libf2c/libI77/config.h.in", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibI77%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibI77%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2Fconfig.h.in?ref=7e29b2612a3fb0049cb16c802cadf672c741e9c0", "patch": "@@ -51,3 +51,9 @@\n /* Define to skip f2c undefs. */\n #undef Skip_f2c_Undefs\n \n+/* Get Single Unix Specification semantics */\n+#undef _XOPEN_SOURCE\n+\n+/* Get 64-bit file size support */\n+#undef _FILE_OFFSET_BITS\n+"}, {"sha": "8defe25d1d191bd492aa29e051f83088febb46d5", "filename": "libf2c/libI77/configure", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibI77%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibI77%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2Fconfigure?ref=7e29b2612a3fb0049cb16c802cadf672c741e9c0", "patch": "@@ -1706,6 +1706,17 @@ cat >> confdefs.h <<\\EOF\n EOF\n \n \n+# These defines are necessary to get 64-bit file size support.\n+\n+cat >> confdefs.h <<\\EOF\n+#define _XOPEN_SOURCE 500L\n+EOF\n+\n+cat >> confdefs.h <<\\EOF\n+#define _FILE_OFFSET_BITS 64\n+EOF\n+\n+\n trap '' 1 2 15\n cat > confcache <<\\EOF\n # This file is a shell script that caches the results of configure"}, {"sha": "5ac1b622361d7e4e008109cae256537e1e391063", "filename": "libf2c/libI77/configure.in", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibI77%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibI77%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2Fconfigure.in?ref=7e29b2612a3fb0049cb16c802cadf672c741e9c0", "patch": "@@ -201,6 +201,11 @@ AC_TYPE_OFF_T\n \n AC_DEFINE(Skip_f2c_Undefs, 1, [Define to skip f2c undefs.])\n \n+# These defines are necessary to get 64-bit file size support.\n+\n+AC_DEFINE(_XOPEN_SOURCE, 500L, [Get Single Unix Specification semantics])\n+AC_DEFINE(_FILE_OFFSET_BITS, 64, [Get 64-bit file size support])\n+\n AC_OUTPUT(Makefile)\n \n dnl We might have configuration options to:"}, {"sha": "14b51f043c4a92800e2fc2dae4d2cfa825715320", "filename": "libf2c/libI77/endfile.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibI77%2Fendfile.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibI77%2Fendfile.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2Fendfile.c?ref=7e29b2612a3fb0049cb16c802cadf672c741e9c0", "patch": "@@ -111,7 +111,7 @@ t_runc(alist *a)\n \t\t}\n \tif (!(bf = freopen(b->ufnm, f__w_mode[0], bf)))\n \t\tgoto bad1;\n-\trewind(tf);\n+\tFSEEK(tf, 0, SEEK_SET);\n \tif (copy(tf, loc, bf))\n \t\tgoto bad1;\n \tb->uwrt = 1;"}, {"sha": "1c21f198cdbc7e97885a5a83540a03b8861cf6ad", "filename": "libf2c/libI77/err.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibI77%2Ferr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibI77%2Ferr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2Ferr.c?ref=7e29b2612a3fb0049cb16c802cadf672c741e9c0", "patch": "@@ -241,7 +241,7 @@ f__nowwriting(x) unit *x;\n f__nowwriting(unit *x)\n #endif\n {\n-\tlong loc;\n+\toff_t loc;\n \tint ufmt;\n \textern char *f__w_mode[];\n "}, {"sha": "75c8971b7b7a6f8157bd789bb746121cd31ef826", "filename": "libf2c/libI77/open.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibI77%2Fopen.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibI77%2Fopen.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2Fopen.c?ref=7e29b2612a3fb0049cb16c802cadf672c741e9c0", "patch": "@@ -281,7 +281,7 @@ integer f_open(olist *a)\n #endif\n \tif(b->useek)\n \t\tif (a->orl)\n-\t\t\trewind(b->ufd);\n+\t\t\tFSEEK(b->ufd, 0, SEEK_SET);\n \t\telse if ((s = a->oacc) && (*s == 'a' || *s == 'A')\n \t\t\t&& FSEEK(b->ufd, 0, SEEK_END))\n \t\t\t\topnerr(a->oerr,129,\"open\");"}, {"sha": "06915195d67030190a8fb263b05df4055ccc4c07", "filename": "libf2c/libI77/rewind.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibI77%2Frewind.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibI77%2Frewind.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2Frewind.c?ref=7e29b2612a3fb0049cb16c802cadf672c741e9c0", "patch": "@@ -1,3 +1,4 @@\n+#include \"config.h\"\n #include \"f2c.h\"\n #include \"fio.h\"\n #ifdef KR_headers\n@@ -20,7 +21,7 @@ integer f_rew(alist *a)\n \t\t(void) t_runc(a);\n \t\tb->uwrt = 3;\n \t\t}\n-\trewind(b->ufd);\n+\tFSEEK(b->ufd, 0, SEEK_SET);\n \tb->uend=0;\n \treturn(0);\n }"}, {"sha": "b67d823cf7c6015ef9cad7eaefb3b2b2b8e93f57", "filename": "libf2c/libI77/sfe.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibI77%2Fsfe.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibI77%2Fsfe.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2Fsfe.c?ref=7e29b2612a3fb0049cb16c802cadf672c741e9c0", "patch": "@@ -1,4 +1,5 @@\n /* sequential formatted external common routines*/\n+#include \"config.h\"\n #include \"f2c.h\"\n #include \"fio.h\"\n "}, {"sha": "490231ac75ad37b749ce4a230c30196d5fa19acf", "filename": "libf2c/libI77/wsfe.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibI77%2Fwsfe.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibI77%2Fwsfe.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2Fwsfe.c?ref=7e29b2612a3fb0049cb16c802cadf672c741e9c0", "patch": "@@ -1,4 +1,5 @@\n /*write sequential formatted external*/\n+#include \"config.h\"\n #include \"f2c.h\"\n #include \"fio.h\"\n #include \"fmt.h\""}, {"sha": "d0fc0adf6587d673e2701db846bef3839680e6a7", "filename": "libf2c/libU77/config.hin", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibU77%2Fconfig.hin", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibU77%2Fconfig.hin", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibU77%2Fconfig.hin?ref=7e29b2612a3fb0049cb16c802cadf672c741e9c0", "patch": "@@ -110,3 +110,10 @@\n \n /* Define if you have the <unistd.h> header file.  */\n #undef HAVE_UNISTD_H\n+\n+/* Get Single Unix Specification semantics */\n+#undef _XOPEN_SOURCE\n+\n+/* Get 64-bit file size support */\n+#undef _FILE_OFFSET_BITS\n+"}, {"sha": "e0095463ae744d162645448fb7f8b33f8a6fa1c1", "filename": "libf2c/libU77/configure", "status": "modified", "additions": 13, "deletions": 1, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibU77%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibU77%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibU77%2Fconfigure?ref=7e29b2612a3fb0049cb16c802cadf672c741e9c0", "patch": "@@ -1060,7 +1060,7 @@ else\n int main() {\n \n /* Ultrix mips cc rejects this.  */\n-typedef int charset[2]; const charset x;\n+typedef int charset[2]; const charset x = {0,0};\n /* SunOS 4.1.1 cc rejects this.  */\n char const *const *ccp;\n char **p;\n@@ -1652,6 +1652,18 @@ test $ac_cv_func_clock = yes && MAYBES=\"$MAYBES mclock_.o\"\n \n \n \n+\n+# These defines are necessary to get 64-bit file size support.\n+\n+cat >> confdefs.h <<\\EOF\n+#define _XOPEN_SOURCE 500L\n+EOF\n+\n+cat >> confdefs.h <<\\EOF\n+#define _FILE_OFFSET_BITS 64\n+EOF\n+\n+\n trap '' 1 2 15\n cat > confcache <<\\EOF\n # This file is a shell script that caches the results of configure"}, {"sha": "d5cecee4185a5a0b82c30f99169cb4dd70f4dd98", "filename": "libf2c/libU77/configure.in", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibU77%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e29b2612a3fb0049cb16c802cadf672c741e9c0/libf2c%2FlibU77%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibU77%2Fconfigure.in?ref=7e29b2612a3fb0049cb16c802cadf672c741e9c0", "patch": "@@ -107,4 +107,10 @@ AC_SUBST(MAYBES)\n AC_SUBST(CROSS)\n AC_SUBST(RANLIB)\n AC_SUBST(RANLIB_TEST)\n+\n+# These defines are necessary to get 64-bit file size support.\n+\n+AC_DEFINE(_XOPEN_SOURCE, 500L, [Get Single Unix Specification semantics])\n+AC_DEFINE(_FILE_OFFSET_BITS, 64, [Get 64-bit file size support])\n+\n AC_OUTPUT(Makefile)"}]}