{"sha": "25389f3de489c25a6983db96428a6bf06aedc829", "node_id": "C_kwDOANBUbNoAKDI1Mzg5ZjNkZTQ4OWMyNWE2OTgzZGI5NjQyOGE2YmYwNmFlZGM4Mjk", "commit": {"author": {"name": "Alexandre Oliva", "email": "oliva@adacore.com", "date": "2022-05-03T17:57:15Z"}, "committer": {"name": "Alexandre Oliva", "email": "oliva@gnu.org", "date": "2022-05-03T17:57:15Z"}, "message": "[PR105324] libstdc++: testsuite: pr105324 requires FP from_char\n\nThe floating-point overloads of from_char are only declared if\n_GLIBCXX_HAVE_USELOCALE is #defined as nonzero.  That's exposed from\ncharconv as __cpp_lib_to_chars >= 201611L, so guard the test body with\nthat.\n\n\nfor  libstdc++-v3/ChangeLog\n\n\tPR c++/105324\n\t* testsuite/20_util/from_chars/pr105324.cc: Guard test body\n\twith conditional for floating-point overloads of from_char.", "tree": {"sha": "3cf65fb525849e888290d2ee1078a66bd113bcae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3cf65fb525849e888290d2ee1078a66bd113bcae"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/25389f3de489c25a6983db96428a6bf06aedc829", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25389f3de489c25a6983db96428a6bf06aedc829", "html_url": "https://github.com/Rust-GCC/gccrs/commit/25389f3de489c25a6983db96428a6bf06aedc829", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25389f3de489c25a6983db96428a6bf06aedc829/comments", "author": null, "committer": null, "parents": [{"sha": "2680f5eec23805ab8a344f942ca5a7e180d57905", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2680f5eec23805ab8a344f942ca5a7e180d57905", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2680f5eec23805ab8a344f942ca5a7e180d57905"}], "stats": {"total": 2, "additions": 2, "deletions": 0}, "files": [{"sha": "ef24b4c5c7b71e5da0a29910971d6f76f5f7046c", "filename": "libstdc++-v3/testsuite/20_util/from_chars/pr105324.cc", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25389f3de489c25a6983db96428a6bf06aedc829/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Ffrom_chars%2Fpr105324.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25389f3de489c25a6983db96428a6bf06aedc829/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Ffrom_chars%2Fpr105324.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Ffrom_chars%2Fpr105324.cc?ref=25389f3de489c25a6983db96428a6bf06aedc829", "patch": "@@ -5,10 +5,12 @@\n \n int main()\n {\n+#if __cpp_lib_to_chars >= 201611L // FP from_char not available otherwise.\n   // PR libstdc++/105324\n   // std::from_chars() assertion at floating_from_chars.cc:78\n   std::string s(512, '1');\n   s[1] = '.';\n   long double d;\n   std::from_chars(s.data(), s.data() + s.size(), d);\n+#endif\n }"}]}