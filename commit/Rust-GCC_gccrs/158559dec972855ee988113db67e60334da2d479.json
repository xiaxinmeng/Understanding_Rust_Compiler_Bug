{"sha": "158559dec972855ee988113db67e60334da2d479", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTU4NTU5ZGVjOTcyODU1ZWU5ODgxMTNkYjY3ZTYwMzM0ZGEyZDQ3OQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-02-15T19:53:36Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-02-15T19:53:36Z"}, "message": "Don't crash on interface loop with forwarding types.\n\nFrom-SVN: r170198", "tree": {"sha": "00cb52cdf464b0aa0ba317a596014f5fe95ba0c3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/00cb52cdf464b0aa0ba317a596014f5fe95ba0c3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/158559dec972855ee988113db67e60334da2d479", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/158559dec972855ee988113db67e60334da2d479", "html_url": "https://github.com/Rust-GCC/gccrs/commit/158559dec972855ee988113db67e60334da2d479", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/158559dec972855ee988113db67e60334da2d479/comments", "author": null, "committer": null, "parents": [{"sha": "4e380b8e008d8e8d2e2d8033fdbea3ee88c2665d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e380b8e008d8e8d2e2d8033fdbea3ee88c2665d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4e380b8e008d8e8d2e2d8033fdbea3ee88c2665d"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "0d17ab4773fb5c9338adc8d6b35706b7a6d31101", "filename": "gcc/go/gofrontend/types.cc", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/158559dec972855ee988113db67e60334da2d479/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/158559dec972855ee988113db67e60334da2d479/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Ftypes.cc?ref=158559dec972855ee988113db67e60334da2d479", "patch": "@@ -5659,15 +5659,16 @@ Interface_type::finalize_methods()\n \t{\n \t  if (q->name().empty())\n \t    {\n-\t      if (q->type() == p->type())\n+\t      if (q->type()->forwarded() == p->type()->forwarded())\n \t\terror_at(p->location(), \"interface inheritance loop\");\n \t      else\n \t\t{\n \t\t  size_t i;\n \t\t  for (i = from + 1; i < this->methods_->size(); ++i)\n \t\t    {\n \t\t      const Typed_identifier* r = &this->methods_->at(i);\n-\t\t      if (r->name().empty() && r->type() == q->type())\n+\t\t      if (r->name().empty()\n+\t\t\t  && r->type()->forwarded() == q->type()->forwarded())\n \t\t\t{\n \t\t\t  error_at(p->location(),\n \t\t\t\t   \"inherited interface listed twice\");"}]}