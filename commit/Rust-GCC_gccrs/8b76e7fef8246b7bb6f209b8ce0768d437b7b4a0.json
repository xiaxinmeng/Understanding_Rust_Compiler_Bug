{"sha": "8b76e7fef8246b7bb6f209b8ce0768d437b7b4a0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGI3NmU3ZmVmODI0NmI3YmI2ZjIwOWI4Y2UwNzY4ZDQzN2I3YjRhMA==", "commit": {"author": {"name": "Aditya Kumar", "email": "aditya.k7@samsung.com", "date": "2015-10-21T21:18:17Z"}, "committer": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2015-10-21T21:18:17Z"}, "message": "add an upper limit on the number of array references\n\n\t* graphite-scop-detection.c (build_scops): Do not handle scops with more\n\tthan PARAM_GRAPHITE_MAX_ARRAYS_PER_SCOP arrays.\n\t* params.def (PARAM_GRAPHITE_MAX_ARRAYS_PER_SCOP): New.\n\nCo-Authored-By: Sebastian Pop <s.pop@samsung.com>\n\nFrom-SVN: r229150", "tree": {"sha": "d69a131c4e1ebc4d17844685161bbfde2a5cd128", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d69a131c4e1ebc4d17844685161bbfde2a5cd128"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8b76e7fef8246b7bb6f209b8ce0768d437b7b4a0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b76e7fef8246b7bb6f209b8ce0768d437b7b4a0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8b76e7fef8246b7bb6f209b8ce0768d437b7b4a0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b76e7fef8246b7bb6f209b8ce0768d437b7b4a0/comments", "author": null, "committer": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7ec491c07be298679b27d5939accc30de01d62d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ec491c07be298679b27d5939accc30de01d62d0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ec491c07be298679b27d5939accc30de01d62d0"}], "stats": {"total": 25, "additions": 25, "deletions": 0}, "files": [{"sha": "2c5af316d9e315cf26b43333ec8be661f39d520f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b76e7fef8246b7bb6f209b8ce0768d437b7b4a0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b76e7fef8246b7bb6f209b8ce0768d437b7b4a0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8b76e7fef8246b7bb6f209b8ce0768d437b7b4a0", "patch": "@@ -1,3 +1,10 @@\n+2015-10-21  Aditya Kumar  <aditya.k7@samsung.com>\n+\t    Sebastian Pop  <s.pop@samsung.com>\n+\n+\t* graphite-scop-detection.c (build_scops): Do not handle scops with more\n+\tthan PARAM_GRAPHITE_MAX_ARRAYS_PER_SCOP arrays.\n+\t* params.def (PARAM_GRAPHITE_MAX_ARRAYS_PER_SCOP): New.\n+\n 2015-10-21  Mikhail Maltsev  <maltsevm@gmail.com>\n \n \t* config.in: Regenerate."}, {"sha": "08c7b3abd83eeabc177b3cd6a520a970d3108941", "filename": "gcc/graphite-scop-detection.c", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b76e7fef8246b7bb6f209b8ce0768d437b7b4a0/gcc%2Fgraphite-scop-detection.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b76e7fef8246b7bb6f209b8ce0768d437b7b4a0/gcc%2Fgraphite-scop-detection.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-scop-detection.c?ref=8b76e7fef8246b7bb6f209b8ce0768d437b7b4a0", "patch": "@@ -1777,6 +1777,17 @@ build_scops (vec<scop_p> *scops)\n \t  continue;\n \t}\n \n+      unsigned max_arrays = PARAM_VALUE (PARAM_GRAPHITE_MAX_ARRAYS_PER_SCOP);\n+      if (scop->drs.length () >= max_arrays)\n+\t{\n+\t  DEBUG_PRINT (dp << \"[scop-detection-fail] too many data references: \"\n+\t\t       << scop->drs.length ()\n+\t\t       << \" is larger than --param graphite-max-arrays-per-scop=\"\n+\t\t       << max_arrays << \".\\n\");\n+\t  free_scop (scop);\n+\t  continue;\n+\t}\n+\n       build_sese_loop_nests (scop->scop_info);\n \n       find_scop_parameters (scop);"}, {"sha": "2df47d7add30284e3cb66c5af646694c92424682", "filename": "gcc/params.def", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b76e7fef8246b7bb6f209b8ce0768d437b7b4a0/gcc%2Fparams.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b76e7fef8246b7bb6f209b8ce0768d437b7b4a0/gcc%2Fparams.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fparams.def?ref=8b76e7fef8246b7bb6f209b8ce0768d437b7b4a0", "patch": "@@ -849,6 +849,13 @@ DEFPARAM (PARAM_GRAPHITE_MAX_BBS_PER_FUNCTION,\n \t  \"maximum number of basic blocks per function to be analyzed by Graphite\",\n \t  100, 0, 0)\n \n+/* Maximal number of array references in a scop.  */\n+\n+DEFPARAM (PARAM_GRAPHITE_MAX_ARRAYS_PER_SCOP,\n+\t  \"graphite-max-arrays-per-scop\",\n+\t  \"maximum number of arrays per scop\",\n+\t  100, 0, 0)\n+\n /* Maximal number of basic blocks in the functions analyzed by Graphite.  */\n \n DEFPARAM (PARAM_GRAPHITE_MIN_LOOPS_PER_FUNCTION,"}]}