{"sha": "9381bbc998366a7d255d2ad86d3f87b64b22ba22", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTM4MWJiYzk5ODM2NmE3ZDI1NWQyYWQ4NmQzZjg3YjY0YjIyYmEyMg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2003-02-15T21:01:48Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2003-02-15T21:01:48Z"}, "message": "recog.c (split_all_insns): Include new blocks in life update; do a global life update.\n\n        * recog.c (split_all_insns): Include new blocks in life update;\n        do a global life update.\n\nFrom-SVN: r62941", "tree": {"sha": "140f465ad8335a004a10374f9d56037902ccc56a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/140f465ad8335a004a10374f9d56037902ccc56a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9381bbc998366a7d255d2ad86d3f87b64b22ba22", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9381bbc998366a7d255d2ad86d3f87b64b22ba22", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9381bbc998366a7d255d2ad86d3f87b64b22ba22", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9381bbc998366a7d255d2ad86d3f87b64b22ba22/comments", "author": null, "committer": null, "parents": [{"sha": "86ac05753c9d7fcf27375fe17e70cda5333ab50e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86ac05753c9d7fcf27375fe17e70cda5333ab50e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/86ac05753c9d7fcf27375fe17e70cda5333ab50e"}], "stats": {"total": 26, "additions": 19, "deletions": 7}, "files": [{"sha": "2315a03cc60dd13dbec4b81b5f0ecf15e7940a25", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9381bbc998366a7d255d2ad86d3f87b64b22ba22/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9381bbc998366a7d255d2ad86d3f87b64b22ba22/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9381bbc998366a7d255d2ad86d3f87b64b22ba22", "patch": "@@ -1,3 +1,8 @@\n+2003-02-15  Richard Henderson  <rth@redhat.com>\n+\n+        * recog.c (split_all_insns): Include new blocks in life update;\n+        do a global life update.\n+\n 2003-02-15  Danny Smith  <dannysmith@users.sourceforge.net>\n \n \t* config/i386/mingw32.h (LIBGCC_SPEC): Add libmingwex.a."}, {"sha": "bfa988b4b167c77a4323e47a69b53b89b3baf08f", "filename": "gcc/recog.c", "status": "modified", "additions": 14, "deletions": 7, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9381bbc998366a7d255d2ad86d3f87b64b22ba22/gcc%2Frecog.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9381bbc998366a7d255d2ad86d3f87b64b22ba22/gcc%2Frecog.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frecog.c?ref=9381bbc998366a7d255d2ad86d3f87b64b22ba22", "patch": "@@ -2840,12 +2840,12 @@ split_all_insns (upd_life)\n      int upd_life;\n {\n   sbitmap blocks;\n-  int changed;\n+  bool changed;\n   basic_block bb;\n \n   blocks = sbitmap_alloc (last_basic_block);\n   sbitmap_zero (blocks);\n-  changed = 0;\n+  changed = false;\n \n   FOR_EACH_BB_REVERSE (bb)\n     {\n@@ -2870,22 +2870,29 @@ split_all_insns (upd_life)\n \t      while (GET_CODE (last) == BARRIER)\n \t\tlast = PREV_INSN (last);\n \t      SET_BIT (blocks, bb->index);\n-\t      changed = 1;\n+\t      changed = true;\n \t      insn = last;\n \t    }\n \t}\n     }\n \n   if (changed)\n     {\n+      int old_last_basic_block = last_basic_block;\n+\n       find_many_sub_basic_blocks (blocks);\n+\n+      while (old_last_basic_block < last_basic_block)\n+\t{\n+\t  SET_BIT (blocks, old_last_basic_block);\n+\t  old_last_basic_block++;\n+\t}\n     }\n \n   if (changed && upd_life)\n-    {\n-      count_or_remove_death_notes (blocks, 1);\n-      update_life_info (blocks, UPDATE_LIFE_LOCAL, PROP_DEATH_NOTES);\n-    }\n+    update_life_info (blocks, UPDATE_LIFE_GLOBAL_RM_NOTES,\n+\t\t      PROP_DEATH_NOTES | PROP_REG_INFO);\n+\n #ifdef ENABLE_CHECKING\n   verify_flow_info ();\n #endif"}]}