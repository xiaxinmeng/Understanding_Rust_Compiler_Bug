{"sha": "dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGFjOTM3NmFlZWJjNjAyMWUzYTczYzM0ZjViOGJjN2U4N2UwOWZjNw==", "commit": {"author": {"name": "Bernd Edlinger", "email": "bernd.edlinger@hotmail.de", "date": "2016-11-04T15:30:52Z"}, "committer": {"name": "Bernd Edlinger", "email": "edlinger@gcc.gnu.org", "date": "2016-11-04T15:30:52Z"}, "message": "re PR c++/71973 (c++ handles built-in functions inconsistently)\n\n2016-11-04  Bernd Edlinger  <bernd.edlinger@hotmail.de>\n\n        PR c++/71973\n        * g++.dg/cpp1y/lambda-generic-udt.C: Fix builtin function declaration.\n        * g++.dg/init/new15.C: Likewise.\n        * g++.dg/ipa/inline-1.C: Likewise.\n        * g++.dg/ipa/inline-2.C: Likewise.\n        * g++.dg/lto/20080908-1_0.C: Likewise.\n        * g++.dg/tc1/dr20.C: Likewise.\n        * g++.dg/tree-ssa/inline-1.C: Likewise.\n        * g++.dg/tree-ssa/inline-2.C: Likewise.\n        * g++.old-deja/g++.law/except1.C: Likewise.\n        * g++.old-deja/g++.other/vbase5.C: Likewise.\n        * obj-c++.dg/lto/trivial-1_0.mm: Likewise.\n\nFrom-SVN: r241846", "tree": {"sha": "f6cc0edfd00a874b7396e969b92f3036088e4811", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f6cc0edfd00a874b7396e969b92f3036088e4811"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/comments", "author": {"login": "bernd-edlinger", "id": 17638929, "node_id": "MDQ6VXNlcjE3NjM4OTI5", "avatar_url": "https://avatars.githubusercontent.com/u/17638929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bernd-edlinger", "html_url": "https://github.com/bernd-edlinger", "followers_url": "https://api.github.com/users/bernd-edlinger/followers", "following_url": "https://api.github.com/users/bernd-edlinger/following{/other_user}", "gists_url": "https://api.github.com/users/bernd-edlinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/bernd-edlinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bernd-edlinger/subscriptions", "organizations_url": "https://api.github.com/users/bernd-edlinger/orgs", "repos_url": "https://api.github.com/users/bernd-edlinger/repos", "events_url": "https://api.github.com/users/bernd-edlinger/events{/privacy}", "received_events_url": "https://api.github.com/users/bernd-edlinger/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b210df469e439aa11519a167bd1f1f6390b07c59", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b210df469e439aa11519a167bd1f1f6390b07c59", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b210df469e439aa11519a167bd1f1f6390b07c59"}], "stats": {"total": 37, "additions": 26, "deletions": 11}, "files": [{"sha": "10e6a57474f8d8afb11ee1acab27e29b2bc0dd28", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7", "patch": "@@ -1,3 +1,18 @@\n+2016-11-04  Bernd Edlinger  <bernd.edlinger@hotmail.de>\n+\n+\tPR c++/71973\n+\t* g++.dg/cpp1y/lambda-generic-udt.C: Fix builtin function declaration.\n+\t* g++.dg/init/new15.C: Likewise.\n+\t* g++.dg/ipa/inline-1.C: Likewise.\n+\t* g++.dg/ipa/inline-2.C: Likewise.\n+\t* g++.dg/lto/20080908-1_0.C: Likewise.\n+\t* g++.dg/tc1/dr20.C: Likewise.\n+\t* g++.dg/tree-ssa/inline-1.C: Likewise.\n+\t* g++.dg/tree-ssa/inline-2.C: Likewise.\n+\t* g++.old-deja/g++.law/except1.C: Likewise.\n+\t* g++.old-deja/g++.other/vbase5.C: Likewise.\n+\t* obj-c++.dg/lto/trivial-1_0.mm: Likewise.\n+\n 2016-11-04  Bill Schmidt  <wschmidt@linux.vnet.ibm.com>\n \n \tPR tree-optimization/78210"}, {"sha": "1b0f65e638175ba8549b96a8a11e6d8f7b75805a", "filename": "gcc/testsuite/g++.dg/cpp1y/lambda-generic-udt.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1y%2Flambda-generic-udt.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1y%2Flambda-generic-udt.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1y%2Flambda-generic-udt.C?ref=dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7", "patch": "@@ -14,7 +14,7 @@ struct S\n   bool shadow = false;\n };\n \n-extern \"C\" void printf(...);\n+extern \"C\" int printf(const char*, ...);\n #define assert(e) if (e); else \\\n \t\t printf (\"%s:%d: !(%s)\\n\", __FILE__, __LINE__, #e), __builtin_abort ();\n "}, {"sha": "1f57f07dfc3097aff4635d63a6dfbe1f85b04ea3", "filename": "gcc/testsuite/g++.dg/init/new15.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Finit%2Fnew15.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Finit%2Fnew15.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Finit%2Fnew15.C?ref=dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7", "patch": "@@ -1,6 +1,6 @@\n // PR c++/9782\n \n-extern \"C\" void printf(const char*, ...);\n+extern \"C\" int printf(const char*, ...);\n \n template <int>\n struct A {"}, {"sha": "d570dc67e28fec975538cb2a8f10f12df1c486c7", "filename": "gcc/testsuite/g++.dg/ipa/inline-1.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Finline-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Finline-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Finline-1.C?ref=dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7", "patch": "@@ -3,7 +3,7 @@\n /* { dg-add-options bind_pic_locally } */\n \n namespace std {\n-  extern \"C\" void puts(const char *s);\n+  extern \"C\" int puts(const char *s);\n }\n \n template <class T, class E> void"}, {"sha": "eb0f21b12471cd1f7e016f7f4d45a3edb8769980", "filename": "gcc/testsuite/g++.dg/ipa/inline-2.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Finline-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Finline-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Finline-2.C?ref=dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7", "patch": "@@ -3,7 +3,7 @@\n /* { dg-add-options bind_pic_locally } */\n \n namespace std {\n-  extern \"C\" void puts(const char *s);\n+  extern \"C\" int puts(const char *s);\n }\n \n template <class T, class E> void"}, {"sha": "42b20cb3b3a0d053cb5a22b6a4e1aafeeed121e7", "filename": "gcc/testsuite/g++.dg/lto/20080908-1_0.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20080908-1_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20080908-1_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20080908-1_0.C?ref=dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7", "patch": "@@ -1,5 +1,5 @@\n /* { dg-lto-do run }  */\n-extern \"C\" { extern void *memcpy (void *, const void *, unsigned); }\n+extern \"C\" { extern void *memcpy (void *, const void *, __SIZE_TYPE__); }\n \n inline int\n bci (const float &source)"}, {"sha": "93338518190ecd5ee649865b7c942688b7884b45", "filename": "gcc/testsuite/g++.dg/tc1/dr20.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftc1%2Fdr20.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftc1%2Fdr20.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftc1%2Fdr20.C?ref=dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7", "patch": "@@ -2,7 +2,7 @@\n // Origin: Giovanni Bajo <giovannibajo at gcc dot gnu dot org>\n // DR20: Some clarifications needed for 12.8 para 15 \n \n-extern \"C\" void printf(const char*, ...);\n+extern \"C\" int printf(const char*, ...);\n extern \"C\" void abort(void);\n \n int count = 0;"}, {"sha": "4497facb87b8e9a34e44d32462bc584fe602d69f", "filename": "gcc/testsuite/g++.dg/tree-ssa/inline-1.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Finline-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Finline-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Finline-1.C?ref=dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7", "patch": "@@ -3,7 +3,7 @@\n /* { dg-add-options bind_pic_locally } */\n \n namespace std {\n-  extern \"C\" void puts(const char *s);\n+  extern \"C\" int puts(const char *s);\n }\n \n template <class T, class E> void"}, {"sha": "79f807cd2204a3a728c4a69ed2e38138e18b7b39", "filename": "gcc/testsuite/g++.dg/tree-ssa/inline-2.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Finline-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Finline-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Finline-2.C?ref=dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7", "patch": "@@ -3,7 +3,7 @@\n /* { dg-add-options bind_pic_locally } */\n \n namespace std {\n-  extern \"C\" void puts(const char *s);\n+  extern \"C\" int puts(const char *s);\n }\n \n template <class T, class E> void"}, {"sha": "d11afc8b64fb5ebfadbe01523a60c8b8ae5832f6", "filename": "gcc/testsuite/g++.old-deja/g++.law/except1.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.law%2Fexcept1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.law%2Fexcept1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.law%2Fexcept1.C?ref=dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7", "patch": "@@ -7,7 +7,7 @@\n // Subject: Bugs\n // Date: Wed, 22 Jul 92 08:29:30 EDT\n \n-extern \"C\" void puts(const char *);\n+extern \"C\" int puts(const char *);\n \n class foo {\n public:"}, {"sha": "3d22ff50dff4ac6068fd959f5dde3f014c1018db", "filename": "gcc/testsuite/g++.old-deja/g++.other/vbase5.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fvbase5.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fvbase5.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fvbase5.C?ref=dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7", "patch": "@@ -6,7 +6,7 @@\n // vbases. Normally that's just a pessimization, unfortunately during\n // constructoring it leads to uninitialized reads.\n \n-extern \"C\" int printf (...);\n+extern \"C\" int printf (const char*,...);\n \n int fail = 0;\n "}, {"sha": "744a017bef6e55cf9ae5c8d7c0314dab21c33cba", "filename": "gcc/testsuite/obj-c++.dg/lto/trivial-1_0.mm", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Flto%2Ftrivial-1_0.mm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Flto%2Ftrivial-1_0.mm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Flto%2Ftrivial-1_0.mm?ref=dac9376aeebc6021e3a73c34f5b8bc7e87e09fc7", "patch": "@@ -1,7 +1,7 @@\n /* { dg-lto-do run } */\n /* { dg-skip-if \"Needs OBJC2 ABI\" { \"*-*-darwin*\" && lp64 } { \"*\" } { \"\" } } */\n extern \"C\" {\n-extern int printf (char *,...) ;\n+extern int printf (const char *,...) ;\n extern void abort (void) ;\n } \n "}]}