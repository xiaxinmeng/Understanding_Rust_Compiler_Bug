{"sha": "4c9034c5e50f63d501f0c170852957d6251e72b6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGM5MDM0YzVlNTBmNjNkNTAxZjBjMTcwODUyOTU3ZDYyNTFlNzJiNg==", "commit": {"author": {"name": "Kaz Kojima", "email": "kkojima@gcc.gnu.org", "date": "2007-02-10T06:47:49Z"}, "committer": {"name": "Kaz Kojima", "email": "kkojima@gcc.gnu.org", "date": "2007-02-10T06:47:49Z"}, "message": "re PR rtl-optimization/29599 (ICE when building the kernel on SH4)\n\n\tPR rtl-optimization/29599\n\t* reload1.c (eliminate_regs_in_insn): Take the destination\n\tmode into account when computing the offset.\n\nFrom-SVN: r121792", "tree": {"sha": "f9d27499e3eec21b7fe6ac9e28ed4040bbb01f57", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f9d27499e3eec21b7fe6ac9e28ed4040bbb01f57"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4c9034c5e50f63d501f0c170852957d6251e72b6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c9034c5e50f63d501f0c170852957d6251e72b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c9034c5e50f63d501f0c170852957d6251e72b6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c9034c5e50f63d501f0c170852957d6251e72b6/comments", "author": null, "committer": null, "parents": [{"sha": "076e8e8d94dd4c989e2578717b298aed9b06063e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/076e8e8d94dd4c989e2578717b298aed9b06063e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/076e8e8d94dd4c989e2578717b298aed9b06063e"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "584726dbebed79c3df2e6af88c2741d3fc1bc9cf", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c9034c5e50f63d501f0c170852957d6251e72b6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c9034c5e50f63d501f0c170852957d6251e72b6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4c9034c5e50f63d501f0c170852957d6251e72b6", "patch": "@@ -1,3 +1,9 @@\n+2007-02-10  Kaz Kojima  <kkojima@gcc.gnu.org>\n+\n+\tPR rtl-optimization/29599\n+\t* reload1.c (eliminate_regs_in_insn): Take the destination\n+\tmode into account when computing the offset.\n+\n 2007-02-09  Stuart Hastings  <stuart@apple.com>\n \tRichard Henderson  <rth@redhat.com>\n "}, {"sha": "01e0657a448917cd12a8e6d91ce29c9033df176d", "filename": "gcc/reload1.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c9034c5e50f63d501f0c170852957d6251e72b6/gcc%2Freload1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c9034c5e50f63d501f0c170852957d6251e72b6/gcc%2Freload1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload1.c?ref=4c9034c5e50f63d501f0c170852957d6251e72b6", "patch": "@@ -1,7 +1,7 @@\n /* Reload pseudo regs into hard regs for insns that require hard regs.\n    Copyright (C) 1987, 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,\n-   1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006 Free Software Foundation,\n-   Inc.\n+   1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007\n+   Free Software Foundation, Inc.\n \n This file is part of GCC.\n \n@@ -3100,6 +3100,7 @@ eliminate_regs_in_insn (rtx insn, int replace)\n \t  {\n \t    rtx to_rtx = ep->to_rtx;\n \t    offset += ep->offset;\n+\t    offset = trunc_int_for_mode (offset, GET_MODE (reg));\n \n \t    if (GET_CODE (XEXP (plus_cst_src, 0)) == SUBREG)\n \t      to_rtx = gen_lowpart (GET_MODE (XEXP (plus_cst_src, 0)),"}]}