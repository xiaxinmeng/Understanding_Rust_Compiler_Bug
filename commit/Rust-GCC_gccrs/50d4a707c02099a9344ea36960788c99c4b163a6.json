{"sha": "50d4a707c02099a9344ea36960788c99c4b163a6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTBkNGE3MDdjMDIwOTlhOTM0NGVhMzY5NjA3ODhjOTljNGIxNjNhNg==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@physics.uc.edu", "date": "2005-02-03T15:13:45Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2005-02-03T15:13:45Z"}, "message": "re PR tree-optimization/19736 (ICE with type mismatch between SSA_NAME and its symbol)\n\n2005-02-03  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR tree-opt/19763\n        * gcc.c-torture/compile/pr19736.c: New test.\n\n2005-02-03  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR tree-opt/19736\n        * tree-ssa.c (replace_immediate_uses): Update the immediate_uses\n        information for the new statement.\n\nFrom-SVN: r94658", "tree": {"sha": "be6a57b1e00235e43445d3077e021776d553eeba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/be6a57b1e00235e43445d3077e021776d553eeba"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/50d4a707c02099a9344ea36960788c99c4b163a6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50d4a707c02099a9344ea36960788c99c4b163a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/50d4a707c02099a9344ea36960788c99c4b163a6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50d4a707c02099a9344ea36960788c99c4b163a6/comments", "author": null, "committer": null, "parents": [{"sha": "cd21f044758d49ece1d54376aac465154f46dbab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd21f044758d49ece1d54376aac465154f46dbab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cd21f044758d49ece1d54376aac465154f46dbab"}], "stats": {"total": 34, "additions": 34, "deletions": 0}, "files": [{"sha": "b0561fd03c8b94563f19138f14f52461051d8760", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50d4a707c02099a9344ea36960788c99c4b163a6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50d4a707c02099a9344ea36960788c99c4b163a6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=50d4a707c02099a9344ea36960788c99c4b163a6", "patch": "@@ -1,3 +1,9 @@\n+2005-02-03  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR tree-opt/19736\n+\t* tree-ssa.c (replace_immediate_uses): Update the immediate_uses\n+\tinformation for the new statement.\n+\n 2005-02-03  Joseph S. Myers  <joseph@codesourcery.com>\n \n \tPR driver/19117"}, {"sha": "f1c5ab234828640939f02183964bb9b6d0e3483f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50d4a707c02099a9344ea36960788c99c4b163a6/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50d4a707c02099a9344ea36960788c99c4b163a6/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=50d4a707c02099a9344ea36960788c99c4b163a6", "patch": "@@ -1,3 +1,8 @@\n+2005-02-03  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR tree-opt/19763\n+\t* gcc.c-torture/compile/pr19736.c: New test.\n+\n 2005-02-03  Giovanni Bajo  <giovannibajo@gcc.gnu.org>\n \n \tPR c++/17401"}, {"sha": "0b618b126975c69ec1bea7997df2d8dad6ad4e3e", "filename": "gcc/testsuite/gcc.c-torture/compile/pr19736.c", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50d4a707c02099a9344ea36960788c99c4b163a6/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr19736.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50d4a707c02099a9344ea36960788c99c4b163a6/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr19736.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr19736.c?ref=50d4a707c02099a9344ea36960788c99c4b163a6", "patch": "@@ -0,0 +1,21 @@\n+/* We used to ICE because we had forgot to update the immediate_uses\n+   information after foldding the last strcpy in Reduce PHI.\n+   This was PR tree-opt/19763. */\n+\n+extern char *strcpy (char *, const char *);\n+void sdbout_one_type (char *p)\n+{\n+  int i, t = 1;\n+  char *q;\n+  for (i = 0; i < 2; i++)\n+    {\n+      strcpy (p, \"1\");\n+      p += sizeof (\"1\");\n+    }\n+  if (t)\n+    q = \"2\";\n+  else\n+    q = \"3\";\n+  strcpy (p, q);\n+}\n+"}, {"sha": "de4006d21870e22cb9d3b6b66e136053b4890180", "filename": "gcc/tree-ssa.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50d4a707c02099a9344ea36960788c99c4b163a6/gcc%2Ftree-ssa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50d4a707c02099a9344ea36960788c99c4b163a6/gcc%2Ftree-ssa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa.c?ref=50d4a707c02099a9344ea36960788c99c4b163a6", "patch": "@@ -1108,6 +1108,8 @@ replace_immediate_uses (tree var, tree repl)\n \t  if (tmp != stmt)\n \t    {\n \t      block_stmt_iterator si = bsi_for_stmt (stmt);\n+\t      mark_new_vars_to_rename (tmp, vars_to_rename);\n+\t      redirect_immediate_uses (stmt, tmp);\n \t      bsi_replace (&si, tmp, true);\n \t      stmt = bsi_stmt (si);\n \t    }"}]}