{"sha": "88e7d85fba68f0f9f3d87f14899dbcb6018a2844", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODhlN2Q4NWZiYTY4ZjBmOWYzZDg3ZjE0ODk5ZGJjYjYwMThhMjg0NA==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2015-03-27T10:33:17Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2015-03-27T10:33:17Z"}, "message": "re PR middle-end/65595 (Linux kernel build failure: ICE: in as_a, at is-a.h:192)\n\n\n\tPR middle-end/65595\n\t* cgraph.c (cgraph_update_edges_for_call_stmt_node): Only\n\tdo redirection if the call is not optimized out.\n\n\t* gcc.c-torture/compile/pr65595.c: New testcase.\n\nFrom-SVN: r221726", "tree": {"sha": "c1ce668914cf00b1275c64a65327a0726e2009a2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c1ce668914cf00b1275c64a65327a0726e2009a2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/88e7d85fba68f0f9f3d87f14899dbcb6018a2844", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88e7d85fba68f0f9f3d87f14899dbcb6018a2844", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88e7d85fba68f0f9f3d87f14899dbcb6018a2844", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88e7d85fba68f0f9f3d87f14899dbcb6018a2844/comments", "author": null, "committer": null, "parents": [{"sha": "79d64904522c8ba0b1f14f54fa2db8f2a38a441f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79d64904522c8ba0b1f14f54fa2db8f2a38a441f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/79d64904522c8ba0b1f14f54fa2db8f2a38a441f"}], "stats": {"total": 32, "additions": 31, "deletions": 1}, "files": [{"sha": "5cee0a5c9c6b9c236c60f4fc8b4e15a208b2fe7d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88e7d85fba68f0f9f3d87f14899dbcb6018a2844/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88e7d85fba68f0f9f3d87f14899dbcb6018a2844/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=88e7d85fba68f0f9f3d87f14899dbcb6018a2844", "patch": "@@ -1,3 +1,9 @@\n+2015-03-26  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\tPR middle-end/65595\n+\t* cgraph.c (cgraph_update_edges_for_call_stmt_node): Only\n+\tdo redirection if the call is not optimized out.\n+\n 2015-03-27  Ilya Enkovich  <ilya.enkovich@intel.com>\n \n \tPR target/65495"}, {"sha": "96f5f40b801eff4d47e2f9e49fa8584a119e965c", "filename": "gcc/cgraph.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88e7d85fba68f0f9f3d87f14899dbcb6018a2844/gcc%2Fcgraph.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88e7d85fba68f0f9f3d87f14899dbcb6018a2844/gcc%2Fcgraph.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraph.c?ref=88e7d85fba68f0f9f3d87f14899dbcb6018a2844", "patch": "@@ -1516,7 +1516,7 @@ cgraph_update_edges_for_call_stmt_node (cgraph_node *node,\n       if (e)\n \t{\n \t  /* Keep calls marked as dead dead.  */\n-\t  if (e->callee\n+\t  if (new_call && e->callee\n \t      && DECL_BUILT_IN_CLASS (e->callee->decl) == BUILT_IN_NORMAL\n \t      && DECL_FUNCTION_CODE (e->callee->decl) == BUILT_IN_UNREACHABLE)\n \t    {"}, {"sha": "03c4be4bc383a8c94549127b56261878159ba44d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88e7d85fba68f0f9f3d87f14899dbcb6018a2844/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88e7d85fba68f0f9f3d87f14899dbcb6018a2844/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=88e7d85fba68f0f9f3d87f14899dbcb6018a2844", "patch": "@@ -1,3 +1,8 @@\n+2015-03-26  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\tPR middle-end/65595\n+\t* gcc.c-torture/compile/pr65595.c: New testcase.\n+\n 2015-03-27  Marek Polacek  <polacek@redhat.com>\n \n \tPR sanitizer/65583"}, {"sha": "0ab716120c9e37736a6d40e6b9f7f9dcad7b77e0", "filename": "gcc/testsuite/gcc.c-torture/compile/pr65595.c", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88e7d85fba68f0f9f3d87f14899dbcb6018a2844/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr65595.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88e7d85fba68f0f9f3d87f14899dbcb6018a2844/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr65595.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr65595.c?ref=88e7d85fba68f0f9f3d87f14899dbcb6018a2844", "patch": "@@ -0,0 +1,19 @@\n+extern void *memcpy(void *, const void *, unsigned long);\n+struct in6_addr {\n+  struct {\n+    int u6_addr32[4];\n+  };\n+};\n+struct foo {\n+  struct in6_addr daddr;\n+  struct in6_addr saddr;\n+} a;\n+extern void ip6_route_output(struct foo, int);\n+int b;\n+static void find_route_ipv6(struct in6_addr *p1) {\n+  if (p1)\n+    memcpy(0, p1, sizeof(struct in6_addr));\n+  ip6_route_output(a, b);\n+}\n+void cxgbi_ep_connect() { find_route_ipv6(0); }\n+"}]}