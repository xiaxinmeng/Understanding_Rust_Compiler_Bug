{"sha": "986dc4e5c484406ad0024de79feb8905602542b4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTg2ZGM0ZTVjNDg0NDA2YWQwMDI0ZGU3OWZlYjg5MDU2MDI1NDJiNA==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2004-03-23T17:54:02Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2004-03-23T17:54:02Z"}, "message": "re PR java/14315 ([3.4 only]: Java compiler is not parallel make safe)\n\n\tPR java/14315:\n\t* jcf-write.c (make_class_file_name): Don't report if mkdir\n\tfailed with EEXIST.\n\nFrom-SVN: r79868", "tree": {"sha": "52748eb4dfb3adf092fda65d6d860d57d9176c57", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/52748eb4dfb3adf092fda65d6d860d57d9176c57"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/986dc4e5c484406ad0024de79feb8905602542b4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/986dc4e5c484406ad0024de79feb8905602542b4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/986dc4e5c484406ad0024de79feb8905602542b4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/986dc4e5c484406ad0024de79feb8905602542b4/comments", "author": null, "committer": null, "parents": [{"sha": "37214c415f81fa7519af4f4530e8a6fc5270a257", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37214c415f81fa7519af4f4530e8a6fc5270a257", "html_url": "https://github.com/Rust-GCC/gccrs/commit/37214c415f81fa7519af4f4530e8a6fc5270a257"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "833d494c832290b27fa87d049b9af629d9be532b", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/986dc4e5c484406ad0024de79feb8905602542b4/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/986dc4e5c484406ad0024de79feb8905602542b4/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=986dc4e5c484406ad0024de79feb8905602542b4", "patch": "@@ -1,3 +1,9 @@\n+2004-03-23  Tom Tromey  <tromey@redhat.com>\n+\n+\tPR java/14315:\n+\t* jcf-write.c (make_class_file_name): Don't report if mkdir\n+\tfailed with EEXIST.\n+\n 2004-03-23  Tom Tromey  <tromey@redhat.com>\n \n \t* gcj.texi (Extensions): Document GCJ_PROPERTIES."}, {"sha": "9492396bc872a8cf25357510072264ba3b1e14d2", "filename": "gcc/java/jcf-write.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/986dc4e5c484406ad0024de79feb8905602542b4/gcc%2Fjava%2Fjcf-write.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/986dc4e5c484406ad0024de79feb8905602542b4/gcc%2Fjava%2Fjcf-write.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjcf-write.c?ref=986dc4e5c484406ad0024de79feb8905602542b4", "patch": "@@ -1,5 +1,5 @@\n /* Write out a Java(TM) class file.\n-   Copyright (C) 1998, 1999, 2000, 2001, 2002, 2003\n+   Copyright (C) 1998, 1999, 2000, 2001, 2002, 2003, 2004\n    Free Software Foundation, Inc.\n \n This file is part of GCC.\n@@ -3392,9 +3392,11 @@ make_class_file_name (tree clas)\n       if (s == NULL)\n \tbreak;\n       *s = '\\0';\n+      /* Try to make directory if it doesn't already exist.  */\n       if (stat (r, &sb) == -1\n-\t  /* Try to make it.  */\n-\t  && mkdir (r, 0755) == -1)\n+\t  && mkdir (r, 0755) == -1\n+\t  /* The directory might have been made by another process.  */\n+\t  && errno != EEXIST)\n \tfatal_error (\"can't create directory %s: %m\", r);\n \n       *s = sep;"}]}