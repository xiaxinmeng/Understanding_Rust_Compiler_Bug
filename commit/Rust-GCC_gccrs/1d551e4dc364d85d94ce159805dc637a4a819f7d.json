{"sha": "1d551e4dc364d85d94ce159805dc637a4a819f7d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWQ1NTFlNGRjMzY0ZDg1ZDk0Y2UxNTk4MDVkYzYzN2E0YTgxOWY3ZA==", "commit": {"author": {"name": "Alan Modra", "email": "amodra@gmail.com", "date": "2011-11-24T02:45:21Z"}, "committer": {"name": "Alan Modra", "email": "amodra@gcc.gnu.org", "date": "2011-11-24T02:45:21Z"}, "message": "c-decl.c (warn_if_shadowing): Don't warn if shadowed identifier is from system header.\n\n\t* c-decl.c (warn_if_shadowing): Don't warn if shadowed\n\tidentifier is from system header.\n\nFrom-SVN: r181684", "tree": {"sha": "ea7ebecd24444c9f07bd7452ae3f97d624d6297f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ea7ebecd24444c9f07bd7452ae3f97d624d6297f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1d551e4dc364d85d94ce159805dc637a4a819f7d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d551e4dc364d85d94ce159805dc637a4a819f7d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d551e4dc364d85d94ce159805dc637a4a819f7d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d551e4dc364d85d94ce159805dc637a4a819f7d/comments", "author": {"login": "amodra", "id": 6006325, "node_id": "MDQ6VXNlcjYwMDYzMjU=", "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amodra", "html_url": "https://github.com/amodra", "followers_url": "https://api.github.com/users/amodra/followers", "following_url": "https://api.github.com/users/amodra/following{/other_user}", "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}", "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amodra/subscriptions", "organizations_url": "https://api.github.com/users/amodra/orgs", "repos_url": "https://api.github.com/users/amodra/repos", "events_url": "https://api.github.com/users/amodra/events{/privacy}", "received_events_url": "https://api.github.com/users/amodra/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "58494d501ee754d286d85ff03d12bf177d757841", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58494d501ee754d286d85ff03d12bf177d757841", "html_url": "https://github.com/Rust-GCC/gccrs/commit/58494d501ee754d286d85ff03d12bf177d757841"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "6787a7c141d899d6f0fffb71de78815fc32faf09", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d551e4dc364d85d94ce159805dc637a4a819f7d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d551e4dc364d85d94ce159805dc637a4a819f7d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1d551e4dc364d85d94ce159805dc637a4a819f7d", "patch": "@@ -1,3 +1,8 @@\n+2011-11-24  Alan Modra  <amodra@gmail.com>\n+\n+\t* c-decl.c (warn_if_shadowing): Don't warn if shadowed\n+\tidentifier is from system header.\n+\n 2011-11-23  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/51261\n@@ -104,7 +109,7 @@\n \n \tPR c++/51264\n \t* tree.c (iterative_hash_expr): Remove break after return.\n-\t\n+\n 2011-11-22  Iain Sandoe  <iains@gcc.gnu.org>\n \n \t* target.def (tm_clone_table_section): New hook."}, {"sha": "44358a8c15e960e669b90b61e4328c22e14b4f1a", "filename": "gcc/c-decl.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d551e4dc364d85d94ce159805dc637a4a819f7d/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d551e4dc364d85d94ce159805dc637a4a819f7d/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=1d551e4dc364d85d94ce159805dc637a4a819f7d", "patch": "@@ -2534,7 +2534,10 @@ warn_if_shadowing (tree new_decl)\n \n   /* Is anything being shadowed?  Invisible decls do not count.  */\n   for (b = I_SYMBOL_BINDING (DECL_NAME (new_decl)); b; b = b->shadowed)\n-    if (b->decl && b->decl != new_decl && !b->invisible)\n+    if (b->decl && b->decl != new_decl && !b->invisible\n+\t&& (b->decl == error_mark_node\n+\t    || diagnostic_report_warnings_p (global_dc,\n+\t\t\t\t\t     DECL_SOURCE_LOCATION (b->decl))))\n       {\n \ttree old_decl = b->decl;\n "}]}