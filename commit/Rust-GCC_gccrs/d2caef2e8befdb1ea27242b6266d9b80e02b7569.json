{"sha": "d2caef2e8befdb1ea27242b6266d9b80e02b7569", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDJjYWVmMmU4YmVmZGIxZWEyNzI0MmI2MjY2ZDliODBlMDJiNzU2OQ==", "commit": {"author": {"name": "Phil Edwards", "email": "pme@gcc.gnu.org", "date": "2002-03-18T21:41:02Z"}, "committer": {"name": "Phil Edwards", "email": "pme@gcc.gnu.org", "date": "2002-03-18T21:41:02Z"}, "message": "acinclude.m4 (GLIBCPP_CONFIGURE): Make indentation/spacing uniform.\n\n2002-03-18  Phil Edwards  <pme@gcc.gnu.org>\n\n\t* acinclude.m4 (GLIBCPP_CONFIGURE):  Make indentation/spacing uniform.\n\t* configure.in:  Add comments pointing the way for autoconf 2.5x.\n\t* aclocal.m4, config.h.in, configure:  Regenerate.\n\nFrom-SVN: r51007", "tree": {"sha": "83cafdc074bc2c91fcff464ab2d6150d889c526e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/83cafdc074bc2c91fcff464ab2d6150d889c526e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d2caef2e8befdb1ea27242b6266d9b80e02b7569", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2caef2e8befdb1ea27242b6266d9b80e02b7569", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d2caef2e8befdb1ea27242b6266d9b80e02b7569", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2caef2e8befdb1ea27242b6266d9b80e02b7569/comments", "author": null, "committer": null, "parents": [{"sha": "6a4ed6c8a9866e7e467467cbe2f70be3457a189e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a4ed6c8a9866e7e467467cbe2f70be3457a189e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6a4ed6c8a9866e7e467467cbe2f70be3457a189e"}], "stats": {"total": 3552, "additions": 1685, "deletions": 1867}, "files": [{"sha": "92dfd018bfbc8ddb0e80e416ee07c4cf6ac78dd3", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2caef2e8befdb1ea27242b6266d9b80e02b7569/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2caef2e8befdb1ea27242b6266d9b80e02b7569/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=d2caef2e8befdb1ea27242b6266d9b80e02b7569", "patch": "@@ -1,3 +1,9 @@\n+2002-03-18  Phil Edwards  <pme@gcc.gnu.org>\n+\n+\t* acinclude.m4 (GLIBCPP_CONFIGURE):  Make indentation/spacing uniform.\n+\t* configure.in:  Add comments pointing the way for autoconf 2.5x.\n+\t* aclocal.m4, config.h.in, configure:  Regenerate.\n+\n 2002-03-15  Philipp Thomas  <pthomas@suse.de>\n \n \t* include/backward/hash_map.h: hash, hashtable, hash_map and"}, {"sha": "65894e64bc4ee911d84099db24ac991f2f22690d", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 121, "deletions": 126, "changes": 247, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2caef2e8befdb1ea27242b6266d9b80e02b7569/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2caef2e8befdb1ea27242b6266d9b80e02b7569/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=d2caef2e8befdb1ea27242b6266d9b80e02b7569", "patch": "@@ -12,55 +12,55 @@ AC_DEFUN(GLIBCPP_CONFIGURE, [\n     *)   AC_MSG_ERROR(bad value ${enableval} for multilib option) ;;\n    esac], [multilib=yes])dnl\n \n-# When building with srcdir == objdir, links to the source files will\n-# be created in directories within the target_subdir.  We have to\n-# adjust toplevel_srcdir accordingly, so that configure finds\n-# install-sh and other auxiliary files that live in the top-level\n-# source directory.\n-if test \"${srcdir}\" = \".\"; then\n-  if test -z \"${with_target_subdir}\"; then\n-    toprel=\"..\"\n-  else\n-    if test \"${with_target_subdir}\" != \".\"; then\n-      toprel=\"${with_multisrctop}../..\"\n+  # When building with srcdir == objdir, links to the source files will\n+  # be created in directories within the target_subdir.  We have to\n+  # adjust toplevel_srcdir accordingly, so that configure finds\n+  # install-sh and other auxiliary files that live in the top-level\n+  # source directory.\n+  if test \"${srcdir}\" = \".\"; then\n+    if test -z \"${with_target_subdir}\"; then\n+      toprel=\"..\"\n     else\n-      toprel=\"${with_multisrctop}..\"\n+      if test \"${with_target_subdir}\" != \".\"; then\n+        toprel=\"${with_multisrctop}../..\"\n+      else\n+        toprel=\"${with_multisrctop}..\"\n+      fi\n     fi\n+  else\n+    toprel=\"..\"\n   fi\n-else\n-  toprel=\"..\"\n-fi\n-AC_CONFIG_AUX_DIR(${srcdir}/$toprel)\n-toplevel_srcdir=\\${top_srcdir}/$toprel\n-AC_SUBST(toplevel_srcdir)\n-\n-# Export build and source directories.\n-# These need to be absolute paths, yet at the same time need to\n-# canonicalize only relative paths, because then amd will not unmount\n-# drives. Thus the use of PWDCMD: set it to 'pawd' or 'amq -w' if using amd.\n-glibcpp_builddir=`pwd`\n-case $srcdir in\n-[\\\\/$]* | ?:[\\\\/]*) glibcpp_srcdir=${srcdir} ;;\n-*) glibcpp_srcdir=`cd \"$srcdir\" && ${PWDCMD-pwd} || echo \"$srcdir\"` ;;\n-esac\n-AC_SUBST(glibcpp_builddir)\n-AC_SUBST(glibcpp_srcdir)\n+  AC_CONFIG_AUX_DIR(${srcdir}/$toprel)\n+  toplevel_srcdir=\\${top_srcdir}/$toprel\n+  AC_SUBST(toplevel_srcdir)\n+\n+  # Export build and source directories.\n+  # These need to be absolute paths, yet at the same time need to\n+  # canonicalize only relative paths, because then amd will not unmount\n+  # drives. Thus the use of PWDCMD: set it to 'pawd' or 'amq -w' if using amd.\n+  glibcpp_builddir=`pwd`\n+  case $srcdir in\n+  [\\\\/$]* | ?:[\\\\/]*) glibcpp_srcdir=${srcdir} ;;\n+  *) glibcpp_srcdir=`cd \"$srcdir\" && ${PWDCMD-pwd} || echo \"$srcdir\"` ;;\n+  esac\n+  AC_SUBST(glibcpp_builddir)\n+  AC_SUBST(glibcpp_srcdir)\n \n-dnl This is here just to satisfy automake.\n-ifelse(not,equal,[AC_CONFIG_AUX_DIR(..)])\n+  dnl This is here just to satisfy automake.\n+  ifelse(not,equal,[AC_CONFIG_AUX_DIR(..)])\n \n-AC_PROG_AWK\n-# Will set LN_S to either 'ln -s' or 'ln'.  With autoconf 2.50+, can also\n-# be 'cp -p' if linking isn't available.\n-#ac_cv_prog_LN_S='cp -p'\n-AC_PROG_LN_S\n+  AC_PROG_AWK\n+  # Will set LN_S to either 'ln -s' or 'ln'.  With autoconf 2.5x, can also\n+  # be 'cp -p' if linking isn't available.\n+  #ac_cv_prog_LN_S='cp -p'\n+  AC_PROG_LN_S\n \n-# We use these options to decide which functions to include.\n-AC_ARG_WITH(target-subdir,\n-[  --with-target-subdir=SUBDIR\n-                           configuring in a subdirectory])\n-AC_ARG_WITH(cross-host,\n-[  --with-cross-host=HOST  configuring with a cross compiler])\n+  # We use these options to decide which functions to include.\n+  AC_ARG_WITH(target-subdir,\n+  [  --with-target-subdir=SUBDIR\n+                          configuring in a subdirectory])\n+  AC_ARG_WITH(cross-host,\n+  [  --with-cross-host=HOST  configuring with a cross compiler])\n \n   glibcpp_basedir=$srcdir/$toprel/$1/libstdc++-v3\n   AC_SUBST(glibcpp_basedir)\n@@ -72,96 +72,92 @@ AC_ARG_WITH(cross-host,\n   ifdef([AC_PROG_CXX_G],[],[define([AC_PROG_CXX_G],defn([_AC_PROG_CXX_G]))])\n   ifdef([AC_PROG_CXX_GNU],[],[define([AC_PROG_CXX_GNU],defn([_AC_PROG_CXX_GNU]))])\n \n-#  AC_PROG_CC\n-\n-# FIXME: We temporarily define our own version of AC_PROG_CC.  This is\n-# copied from autoconf 2.12, but does not call AC_PROG_CC_WORKS.  We\n-# are probably using a cross compiler, which will not be able to fully\n-# link an executable.  This should really be fixed in autoconf\n-# itself.\n-\n-AC_DEFUN(LIB_AC_PROG_CC,\n-[AC_BEFORE([$0], [AC_PROG_CPP])dnl\n-dnl Fool anybody using AC_PROG_CC.\n-AC_PROVIDE([AC_PROG_CC])\n-AC_CHECK_PROG(CC, gcc, gcc)\n-if test -z \"$CC\"; then\n-  AC_CHECK_PROG(CC, cc, cc, , , /usr/ucb/cc)\n-  test -z \"$CC\" && AC_MSG_ERROR([no acceptable cc found in \\$PATH])\n-fi\n+  # AC_PROG_CC\n+  # FIXME: We temporarily define our own version of AC_PROG_CC.  This is\n+  # copied from autoconf 2.12, but does not call AC_PROG_CC_WORKS.  We\n+  # are probably using a cross compiler, which will not be able to fully\n+  # link an executable.  This is addressed in later versions of autoconf.\n+\n+  AC_DEFUN(LIB_AC_PROG_CC,\n+  [AC_BEFORE([$0], [AC_PROG_CPP])dnl\n+  dnl Fool anybody using AC_PROG_CC.\n+  AC_PROVIDE([AC_PROG_CC])\n+  AC_CHECK_PROG(CC, gcc, gcc)\n+  if test -z \"$CC\"; then\n+    AC_CHECK_PROG(CC, cc, cc, , , /usr/ucb/cc)\n+    test -z \"$CC\" && AC_MSG_ERROR([no acceptable cc found in \\$PATH])\n+  fi\n+\n+  AC_PROG_CC_GNU\n \n-AC_PROG_CC_GNU\n-\n-if test $ac_cv_prog_gcc = yes; then\n-  GCC=yes\n-dnl Check whether -g works, even if CFLAGS is set, in case the package\n-dnl plays around with CFLAGS (such as to build both debugging and\n-dnl normal versions of a library), tasteless as that idea is.\n-  ac_test_CFLAGS=\"${CFLAGS+set}\"\n-  ac_save_CFLAGS=\"$CFLAGS\"\n-  CFLAGS=\n-  AC_PROG_CC_G\n-  if test \"$ac_test_CFLAGS\" = set; then\n-    CFLAGS=\"$ac_save_CFLAGS\"\n-  elif test $ac_cv_prog_cc_g = yes; then\n-    CFLAGS=\"-g -O2\"\n+  if test $ac_cv_prog_gcc = yes; then\n+    GCC=yes\n+  dnl Check whether -g works, even if CFLAGS is set, in case the package\n+  dnl plays around with CFLAGS (such as to build both debugging and\n+  dnl normal versions of a library), tasteless as that idea is.\n+    ac_test_CFLAGS=\"${CFLAGS+set}\"\n+    ac_save_CFLAGS=\"$CFLAGS\"\n+    CFLAGS=\n+    AC_PROG_CC_G\n+    if test \"$ac_test_CFLAGS\" = set; then\n+      CFLAGS=\"$ac_save_CFLAGS\"\n+    elif test $ac_cv_prog_cc_g = yes; then\n+      CFLAGS=\"-g -O2\"\n+    else\n+      CFLAGS=\"-O2\"\n+    fi\n   else\n-    CFLAGS=\"-O2\"\n+    GCC=\n+    test \"${CFLAGS+set}\" = set || CFLAGS=\"-g\"\n   fi\n-else\n-  GCC=\n-  test \"${CFLAGS+set}\" = set || CFLAGS=\"-g\"\n-fi\n-])\n+  ])\n \n-LIB_AC_PROG_CC\n-\n-# Can't just call these here as g++ requires libstc++ to be built....\n-#  AC_PROG_CXX\n-\n-# Likewise for AC_PROG_CXX.\n-AC_DEFUN(LIB_AC_PROG_CXX,\n-[AC_BEFORE([$0], [AC_PROG_CXXCPP])dnl\n-dnl Fool anybody using AC_PROG_CXX.\n-AC_PROVIDE([AC_PROG_CXX])\n-# Use glibcpp_CXX so that we do not cause CXX to be cached with the\n-# flags that come in CXX while configuring libstdc++.  They're different\n-# from those used for all other target libraries.  If CXX is set in\n-# the environment, respect that here.\n-glibcpp_CXX=$CXX\n-AC_CHECK_PROGS(glibcpp_CXX, $CCC c++ g++ gcc CC cxx cc++, gcc)\n-AC_SUBST(glibcpp_CXX)\n-CXX=$glibcpp_CXX\n-test -z \"$glibcpp_CXX\" && AC_MSG_ERROR([no acceptable c++ found in \\$PATH])\n-\n-AC_PROG_CXX_GNU\n-\n-if test $ac_cv_prog_gxx = yes; then\n-  GXX=yes\n-dnl Check whether -g works, even if CXXFLAGS is set, in case the package\n-dnl plays around with CXXFLAGS (such as to build both debugging and\n-dnl normal versions of a library), tasteless as that idea is.\n-  ac_test_CXXFLAGS=\"${CXXFLAGS+set}\"\n-  ac_save_CXXFLAGS=\"$CXXFLAGS\"\n-  CXXFLAGS=\n-  AC_PROG_CXX_G\n-  if test \"$ac_test_CXXFLAGS\" = set; then\n-    CXXFLAGS=\"$ac_save_CXXFLAGS\"\n-  elif test $ac_cv_prog_cxx_g = yes; then\n-    CXXFLAGS=\"-g -O2\"\n+  LIB_AC_PROG_CC\n+\n+  # Likewise for AC_PROG_CXX.  We can't just call it directly because g++\n+  # will try to link in libstdc++.\n+  AC_DEFUN(LIB_AC_PROG_CXX,\n+  [AC_BEFORE([$0], [AC_PROG_CXXCPP])dnl\n+  dnl Fool anybody using AC_PROG_CXX.\n+  AC_PROVIDE([AC_PROG_CXX])\n+  # Use glibcpp_CXX so that we do not cause CXX to be cached with the\n+  # flags that come in CXX while configuring libstdc++.  They're different\n+  # from those used for all other target libraries.  If CXX is set in\n+  # the environment, respect that here.\n+  glibcpp_CXX=$CXX\n+  AC_CHECK_PROGS(glibcpp_CXX, $CCC c++ g++ gcc CC cxx cc++, gcc)\n+  AC_SUBST(glibcpp_CXX)\n+  CXX=$glibcpp_CXX\n+  test -z \"$glibcpp_CXX\" && AC_MSG_ERROR([no acceptable c++ found in \\$PATH])\n+\n+  AC_PROG_CXX_GNU\n+\n+  if test $ac_cv_prog_gxx = yes; then\n+    GXX=yes\n+    dnl Check whether -g works, even if CXXFLAGS is set, in case the package\n+    dnl plays around with CXXFLAGS (such as to build both debugging and\n+    dnl normal versions of a library), tasteless as that idea is.\n+    ac_test_CXXFLAGS=\"${CXXFLAGS+set}\"\n+    ac_save_CXXFLAGS=\"$CXXFLAGS\"\n+    CXXFLAGS=\n+    AC_PROG_CXX_G\n+    if test \"$ac_test_CXXFLAGS\" = set; then\n+      CXXFLAGS=\"$ac_save_CXXFLAGS\"\n+    elif test $ac_cv_prog_cxx_g = yes; then\n+      CXXFLAGS=\"-g -O2\"\n+    else\n+      CXXFLAGS=\"-O2\"\n+    fi\n   else\n-    CXXFLAGS=\"-O2\"\n+    GXX=\n+    test \"${CXXFLAGS+set}\" = set || CXXFLAGS=\"-g\"\n   fi\n-else\n-  GXX=\n-  test \"${CXXFLAGS+set}\" = set || CXXFLAGS=\"-g\"\n-fi\n-])\n+  ])\n \n-LIB_AC_PROG_CXX\n+  LIB_AC_PROG_CXX\n \n-   # For some reason, gettext needs this.\n-   AC_ISC_POSIX\n+  # For some reason, gettext needs this.\n+  AC_ISC_POSIX\n \n   AC_CHECK_TOOL(AS, as)\n   AC_CHECK_TOOL(AR, ar)\n@@ -196,7 +192,6 @@ LIB_AC_PROG_CXX\n   # addition to possibly modifying the same flags, it also sets up symlinks.\n   GLIBCPP_CHECK_TARGET\n \n-  # \n ])\n \n "}, {"sha": "336322e36b5a8a25bee4b2b53e47cf8ebe113e85", "filename": "libstdc++-v3/aclocal.m4", "status": "modified", "additions": 307, "deletions": 485, "changes": 792, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2caef2e8befdb1ea27242b6266d9b80e02b7569/libstdc%2B%2B-v3%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2caef2e8befdb1ea27242b6266d9b80e02b7569/libstdc%2B%2B-v3%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Faclocal.m4?ref=d2caef2e8befdb1ea27242b6266d9b80e02b7569", "patch": "@@ -1,6 +1,6 @@\n-dnl aclocal.m4 generated automatically by aclocal 1.4-p5\n+dnl aclocal.m4 generated automatically by aclocal 1.4\n \n-dnl Copyright (C) 1994, 1995-8, 1999, 2001 Free Software Foundation, Inc.\n+dnl Copyright (C) 1994, 1995-8, 1999 Free Software Foundation, Inc.\n dnl This file is free software; the Free Software Foundation\n dnl gives unlimited permission to copy and/or distribute it,\n dnl with or without modifications, as long as this notice is preserved.\n@@ -24,55 +24,55 @@ AC_DEFUN(GLIBCPP_CONFIGURE, [\n     *)   AC_MSG_ERROR(bad value ${enableval} for multilib option) ;;\n    esac], [multilib=yes])dnl\n \n-# When building with srcdir == objdir, links to the source files will\n-# be created in directories within the target_subdir.  We have to\n-# adjust toplevel_srcdir accordingly, so that configure finds\n-# install-sh and other auxiliary files that live in the top-level\n-# source directory.\n-if test \"${srcdir}\" = \".\"; then\n-  if test -z \"${with_target_subdir}\"; then\n-    toprel=\"..\"\n-  else\n-    if test \"${with_target_subdir}\" != \".\"; then\n-      toprel=\"${with_multisrctop}../..\"\n+  # When building with srcdir == objdir, links to the source files will\n+  # be created in directories within the target_subdir.  We have to\n+  # adjust toplevel_srcdir accordingly, so that configure finds\n+  # install-sh and other auxiliary files that live in the top-level\n+  # source directory.\n+  if test \"${srcdir}\" = \".\"; then\n+    if test -z \"${with_target_subdir}\"; then\n+      toprel=\"..\"\n     else\n-      toprel=\"${with_multisrctop}..\"\n+      if test \"${with_target_subdir}\" != \".\"; then\n+        toprel=\"${with_multisrctop}../..\"\n+      else\n+        toprel=\"${with_multisrctop}..\"\n+      fi\n     fi\n+  else\n+    toprel=\"..\"\n   fi\n-else\n-  toprel=\"..\"\n-fi\n-AC_CONFIG_AUX_DIR(${srcdir}/$toprel)\n-toplevel_srcdir=\\${top_srcdir}/$toprel\n-AC_SUBST(toplevel_srcdir)\n-\n-# Export build and source directories.\n-# These need to be absolute paths, yet at the same time need to\n-# canonicalize only relative paths, because then amd will not unmount\n-# drives. Thus the use of PWDCMD: set it to 'pawd' or 'amq -w' if using amd.\n-glibcpp_builddir=`pwd`\n-case $srcdir in\n-[\\\\/$]* | ?:[\\\\/]*) glibcpp_srcdir=${srcdir} ;;\n-*) glibcpp_srcdir=`cd \"$srcdir\" && ${PWDCMD-pwd} || echo \"$srcdir\"` ;;\n-esac\n-AC_SUBST(glibcpp_builddir)\n-AC_SUBST(glibcpp_srcdir)\n+  AC_CONFIG_AUX_DIR(${srcdir}/$toprel)\n+  toplevel_srcdir=\\${top_srcdir}/$toprel\n+  AC_SUBST(toplevel_srcdir)\n+\n+  # Export build and source directories.\n+  # These need to be absolute paths, yet at the same time need to\n+  # canonicalize only relative paths, because then amd will not unmount\n+  # drives. Thus the use of PWDCMD: set it to 'pawd' or 'amq -w' if using amd.\n+  glibcpp_builddir=`pwd`\n+  case $srcdir in\n+  [\\\\/$]* | ?:[\\\\/]*) glibcpp_srcdir=${srcdir} ;;\n+  *) glibcpp_srcdir=`cd \"$srcdir\" && ${PWDCMD-pwd} || echo \"$srcdir\"` ;;\n+  esac\n+  AC_SUBST(glibcpp_builddir)\n+  AC_SUBST(glibcpp_srcdir)\n \n-dnl This is here just to satisfy automake.\n-ifelse(not,equal,[AC_CONFIG_AUX_DIR(..)])\n+  dnl This is here just to satisfy automake.\n+  ifelse(not,equal,[AC_CONFIG_AUX_DIR(..)])\n \n-AC_PROG_AWK\n-# Will set LN_S to either 'ln -s' or 'ln'.  With autoconf 2.50+, can also\n-# be 'cp -p' if linking isn't available.\n-#ac_cv_prog_LN_S='cp -p'\n-AC_PROG_LN_S\n+  AC_PROG_AWK\n+  # Will set LN_S to either 'ln -s' or 'ln'.  With autoconf 2.5x, can also\n+  # be 'cp -p' if linking isn't available.\n+  #ac_cv_prog_LN_S='cp -p'\n+  AC_PROG_LN_S\n \n-# We use these options to decide which functions to include.\n-AC_ARG_WITH(target-subdir,\n-[  --with-target-subdir=SUBDIR\n-                           configuring in a subdirectory])\n-AC_ARG_WITH(cross-host,\n-[  --with-cross-host=HOST  configuring with a cross compiler])\n+  # We use these options to decide which functions to include.\n+  AC_ARG_WITH(target-subdir,\n+  [  --with-target-subdir=SUBDIR\n+                          configuring in a subdirectory])\n+  AC_ARG_WITH(cross-host,\n+  [  --with-cross-host=HOST  configuring with a cross compiler])\n \n   glibcpp_basedir=$srcdir/$toprel/$1/libstdc++-v3\n   AC_SUBST(glibcpp_basedir)\n@@ -84,96 +84,92 @@ AC_ARG_WITH(cross-host,\n   ifdef([AC_PROG_CXX_G],[],[define([AC_PROG_CXX_G],defn([_AC_PROG_CXX_G]))])\n   ifdef([AC_PROG_CXX_GNU],[],[define([AC_PROG_CXX_GNU],defn([_AC_PROG_CXX_GNU]))])\n \n-#  AC_PROG_CC\n-\n-# FIXME: We temporarily define our own version of AC_PROG_CC.  This is\n-# copied from autoconf 2.12, but does not call AC_PROG_CC_WORKS.  We\n-# are probably using a cross compiler, which will not be able to fully\n-# link an executable.  This should really be fixed in autoconf\n-# itself.\n-\n-AC_DEFUN(LIB_AC_PROG_CC,\n-[AC_BEFORE([$0], [AC_PROG_CPP])dnl\n-dnl Fool anybody using AC_PROG_CC.\n-AC_PROVIDE([AC_PROG_CC])\n-AC_CHECK_PROG(CC, gcc, gcc)\n-if test -z \"$CC\"; then\n-  AC_CHECK_PROG(CC, cc, cc, , , /usr/ucb/cc)\n-  test -z \"$CC\" && AC_MSG_ERROR([no acceptable cc found in \\$PATH])\n-fi\n+  # AC_PROG_CC\n+  # FIXME: We temporarily define our own version of AC_PROG_CC.  This is\n+  # copied from autoconf 2.12, but does not call AC_PROG_CC_WORKS.  We\n+  # are probably using a cross compiler, which will not be able to fully\n+  # link an executable.  This is addressed in later versions of autoconf.\n+\n+  AC_DEFUN(LIB_AC_PROG_CC,\n+  [AC_BEFORE([$0], [AC_PROG_CPP])dnl\n+  dnl Fool anybody using AC_PROG_CC.\n+  AC_PROVIDE([AC_PROG_CC])\n+  AC_CHECK_PROG(CC, gcc, gcc)\n+  if test -z \"$CC\"; then\n+    AC_CHECK_PROG(CC, cc, cc, , , /usr/ucb/cc)\n+    test -z \"$CC\" && AC_MSG_ERROR([no acceptable cc found in \\$PATH])\n+  fi\n+\n+  AC_PROG_CC_GNU\n \n-AC_PROG_CC_GNU\n-\n-if test $ac_cv_prog_gcc = yes; then\n-  GCC=yes\n-dnl Check whether -g works, even if CFLAGS is set, in case the package\n-dnl plays around with CFLAGS (such as to build both debugging and\n-dnl normal versions of a library), tasteless as that idea is.\n-  ac_test_CFLAGS=\"${CFLAGS+set}\"\n-  ac_save_CFLAGS=\"$CFLAGS\"\n-  CFLAGS=\n-  AC_PROG_CC_G\n-  if test \"$ac_test_CFLAGS\" = set; then\n-    CFLAGS=\"$ac_save_CFLAGS\"\n-  elif test $ac_cv_prog_cc_g = yes; then\n-    CFLAGS=\"-g -O2\"\n+  if test $ac_cv_prog_gcc = yes; then\n+    GCC=yes\n+  dnl Check whether -g works, even if CFLAGS is set, in case the package\n+  dnl plays around with CFLAGS (such as to build both debugging and\n+  dnl normal versions of a library), tasteless as that idea is.\n+    ac_test_CFLAGS=\"${CFLAGS+set}\"\n+    ac_save_CFLAGS=\"$CFLAGS\"\n+    CFLAGS=\n+    AC_PROG_CC_G\n+    if test \"$ac_test_CFLAGS\" = set; then\n+      CFLAGS=\"$ac_save_CFLAGS\"\n+    elif test $ac_cv_prog_cc_g = yes; then\n+      CFLAGS=\"-g -O2\"\n+    else\n+      CFLAGS=\"-O2\"\n+    fi\n   else\n-    CFLAGS=\"-O2\"\n+    GCC=\n+    test \"${CFLAGS+set}\" = set || CFLAGS=\"-g\"\n   fi\n-else\n-  GCC=\n-  test \"${CFLAGS+set}\" = set || CFLAGS=\"-g\"\n-fi\n-])\n+  ])\n \n-LIB_AC_PROG_CC\n-\n-# Can't just call these here as g++ requires libstc++ to be built....\n-#  AC_PROG_CXX\n-\n-# Likewise for AC_PROG_CXX.\n-AC_DEFUN(LIB_AC_PROG_CXX,\n-[AC_BEFORE([$0], [AC_PROG_CXXCPP])dnl\n-dnl Fool anybody using AC_PROG_CXX.\n-AC_PROVIDE([AC_PROG_CXX])\n-# Use glibcpp_CXX so that we do not cause CXX to be cached with the\n-# flags that come in CXX while configuring libstdc++.  They're different\n-# from those used for all other target libraries.  If CXX is set in\n-# the environment, respect that here.\n-glibcpp_CXX=$CXX\n-AC_CHECK_PROGS(glibcpp_CXX, $CCC c++ g++ gcc CC cxx cc++, gcc)\n-AC_SUBST(glibcpp_CXX)\n-CXX=$glibcpp_CXX\n-test -z \"$glibcpp_CXX\" && AC_MSG_ERROR([no acceptable c++ found in \\$PATH])\n-\n-AC_PROG_CXX_GNU\n-\n-if test $ac_cv_prog_gxx = yes; then\n-  GXX=yes\n-dnl Check whether -g works, even if CXXFLAGS is set, in case the package\n-dnl plays around with CXXFLAGS (such as to build both debugging and\n-dnl normal versions of a library), tasteless as that idea is.\n-  ac_test_CXXFLAGS=\"${CXXFLAGS+set}\"\n-  ac_save_CXXFLAGS=\"$CXXFLAGS\"\n-  CXXFLAGS=\n-  AC_PROG_CXX_G\n-  if test \"$ac_test_CXXFLAGS\" = set; then\n-    CXXFLAGS=\"$ac_save_CXXFLAGS\"\n-  elif test $ac_cv_prog_cxx_g = yes; then\n-    CXXFLAGS=\"-g -O2\"\n+  LIB_AC_PROG_CC\n+\n+  # Likewise for AC_PROG_CXX.  We can't just call it directly because g++\n+  # will try to link in libstdc++.\n+  AC_DEFUN(LIB_AC_PROG_CXX,\n+  [AC_BEFORE([$0], [AC_PROG_CXXCPP])dnl\n+  dnl Fool anybody using AC_PROG_CXX.\n+  AC_PROVIDE([AC_PROG_CXX])\n+  # Use glibcpp_CXX so that we do not cause CXX to be cached with the\n+  # flags that come in CXX while configuring libstdc++.  They're different\n+  # from those used for all other target libraries.  If CXX is set in\n+  # the environment, respect that here.\n+  glibcpp_CXX=$CXX\n+  AC_CHECK_PROGS(glibcpp_CXX, $CCC c++ g++ gcc CC cxx cc++, gcc)\n+  AC_SUBST(glibcpp_CXX)\n+  CXX=$glibcpp_CXX\n+  test -z \"$glibcpp_CXX\" && AC_MSG_ERROR([no acceptable c++ found in \\$PATH])\n+\n+  AC_PROG_CXX_GNU\n+\n+  if test $ac_cv_prog_gxx = yes; then\n+    GXX=yes\n+    dnl Check whether -g works, even if CXXFLAGS is set, in case the package\n+    dnl plays around with CXXFLAGS (such as to build both debugging and\n+    dnl normal versions of a library), tasteless as that idea is.\n+    ac_test_CXXFLAGS=\"${CXXFLAGS+set}\"\n+    ac_save_CXXFLAGS=\"$CXXFLAGS\"\n+    CXXFLAGS=\n+    AC_PROG_CXX_G\n+    if test \"$ac_test_CXXFLAGS\" = set; then\n+      CXXFLAGS=\"$ac_save_CXXFLAGS\"\n+    elif test $ac_cv_prog_cxx_g = yes; then\n+      CXXFLAGS=\"-g -O2\"\n+    else\n+      CXXFLAGS=\"-O2\"\n+    fi\n   else\n-    CXXFLAGS=\"-O2\"\n+    GXX=\n+    test \"${CXXFLAGS+set}\" = set || CXXFLAGS=\"-g\"\n   fi\n-else\n-  GXX=\n-  test \"${CXXFLAGS+set}\" = set || CXXFLAGS=\"-g\"\n-fi\n-])\n+  ])\n \n-LIB_AC_PROG_CXX\n+  LIB_AC_PROG_CXX\n \n-   # For some reason, gettext needs this.\n-   AC_ISC_POSIX\n+  # For some reason, gettext needs this.\n+  AC_ISC_POSIX\n \n   AC_CHECK_TOOL(AS, as)\n   AC_CHECK_TOOL(AR, ar)\n@@ -208,7 +204,6 @@ LIB_AC_PROG_CXX\n   # addition to possibly modifying the same flags, it also sets up symlinks.\n   GLIBCPP_CHECK_TARGET\n \n-  # \n ])\n \n \n@@ -2139,30 +2134,12 @@ AC_MSG_RESULT($enable_symvers)\n ])\n \n \n-#serial 1\n-# This test replaces the one in autoconf.\n-# Currently this macro should have the same name as the autoconf macro\n-# because gettext's gettext.m4 (distributed in the automake package)\n-# still uses it.  Otherwise, the use in gettext.m4 makes autoheader\n-# give these diagnostics:\n-#   configure.in:556: AC_TRY_COMPILE was called before AC_ISC_POSIX\n-#   configure.in:556: AC_TRY_RUN was called before AC_ISC_POSIX\n-\n-undefine([AC_ISC_POSIX])\n-\n-AC_DEFUN([AC_ISC_POSIX],\n-  [\n-    dnl This test replaces the obsolescent AC_ISC_POSIX kludge.\n-    AC_CHECK_LIB(cposix, strerror, [LIBS=\"$LIBS -lcposix\"])\n-  ]\n-)\n-\n # Add --enable-maintainer-mode option to configure.\n # From Jim Meyering\n \n # serial 1\n \n-AC_DEFUN([AM_MAINTAINER_MODE],\n+AC_DEFUN(AM_MAINTAINER_MODE,\n [AC_MSG_CHECKING([whether to enable maintainer-specific portions of Makefiles])\n   dnl maintainer-mode is disabled by default\n   AC_ARG_ENABLE(maintainer-mode,\n@@ -2179,7 +2156,7 @@ AC_DEFUN([AM_MAINTAINER_MODE],\n \n # Define a conditional.\n \n-AC_DEFUN([AM_CONDITIONAL],\n+AC_DEFUN(AM_CONDITIONAL,\n [AC_SUBST($1_TRUE)\n AC_SUBST($1_FALSE)\n if $2; then\n@@ -2193,42 +2170,14 @@ fi])\n # Macro to add for using GNU gettext.\n # Ulrich Drepper <drepper@cygnus.com>, 1995.\n #\n-# This file can be copied and used freely without restrictions.  It can\n+# This file file be copied and used freely without restrictions.  It can\n # be used in projects which are not available under the GNU Public License\n # but which still want to provide support for the GNU gettext functionality.\n # Please note that the actual code is *not* freely available.\n \n-# serial 9\n-\n-dnl Usage: AM_WITH_NLS([TOOLSYMBOL], [NEEDSYMBOL], [LIBDIR]).\n-dnl If TOOLSYMBOL is specified and is 'use-libtool', then a libtool library\n-dnl    $(top_builddir)/intl/libintl.la will be created (shared and/or static,\n-dnl    depending on --{enable,disable}-{shared,static} and on the presence of\n-dnl    AM-DISABLE-SHARED). Otherwise, a static library\n-dnl    $(top_builddir)/intl/libintl.a will be created.\n-dnl If NEEDSYMBOL is specified and is 'need-ngettext', then GNU gettext\n-dnl    implementations (in libc or libintl) without the ngettext() function\n-dnl    will be ignored.\n-dnl LIBDIR is used to find the intl libraries.  If empty,\n-dnl    the value `$(top_builddir)/intl/' is used.\n-dnl\n-dnl The result of the configuration is one of three cases:\n-dnl 1) GNU gettext, as included in the intl subdirectory, will be compiled\n-dnl    and used.\n-dnl    Catalog format: GNU --> install in $(datadir)\n-dnl    Catalog extension: .mo after installation, .gmo in source tree\n-dnl 2) GNU gettext has been found in the system's C library.\n-dnl    Catalog format: GNU --> install in $(datadir)\n-dnl    Catalog extension: .mo after installation, .gmo in source tree\n-dnl 3) No internationalization, always use English msgid.\n-dnl    Catalog format: none\n-dnl    Catalog extension: none\n-dnl The use of .gmo is historical (it was needed to avoid overwriting the\n-dnl GNU format catalogs when building on a platform with an X/Open gettext),\n-dnl but we keep it in order not to force irrelevant filename changes on the\n-dnl maintainers.\n-dnl\n-AC_DEFUN([AM_WITH_NLS],\n+# serial 3\n+\n+AC_DEFUN(AM_WITH_NLS,\n   [AC_MSG_CHECKING([whether NLS is requested])\n     dnl Default is enabled NLS\n     AC_ARG_ENABLE(nls,\n@@ -2237,15 +2186,11 @@ AC_DEFUN([AM_WITH_NLS],\n     AC_MSG_RESULT($USE_NLS)\n     AC_SUBST(USE_NLS)\n \n-    BUILD_INCLUDED_LIBINTL=no\n     USE_INCLUDED_LIBINTL=no\n-    INTLLIBS=\n \n     dnl If we use NLS figure out what method\n     if test \"$USE_NLS\" = \"yes\"; then\n-      AC_DEFINE(ENABLE_NLS, 1,\n-        [Define to 1 if translation of program messages to the user's native language\n-   is requested.])\n+      AC_DEFINE(ENABLE_NLS)\n       AC_MSG_CHECKING([whether included gettext is requested])\n       AC_ARG_WITH(included-gettext,\n         [  --with-included-gettext use the GNU gettext library included here],\n@@ -2256,74 +2201,85 @@ AC_DEFUN([AM_WITH_NLS],\n       nls_cv_use_gnu_gettext=\"$nls_cv_force_use_gnu_gettext\"\n       if test \"$nls_cv_force_use_gnu_gettext\" != \"yes\"; then\n         dnl User does not insist on using GNU NLS library.  Figure out what\n-        dnl to use.  If GNU gettext is available we use this.  Else we have\n-        dnl to fall back to GNU NLS library.\n+        dnl to use.  If gettext or catgets are available (in this order) we\n+        dnl use this.  Else we have to fall back to GNU NLS library.\n+\tdnl catgets is only used if permitted by option --with-catgets.\n+\tnls_cv_header_intl=\n+\tnls_cv_header_libgt=\n \tCATOBJEXT=NONE\n \n-        dnl Add a version number to the cache macros.\n-        define(gt_cv_func_gnugettext_libc, [gt_cv_func_gnugettext]ifelse([$2], need-ngettext, 2, 1)[_libc])\n-        define(gt_cv_func_gnugettext_libintl, [gt_cv_func_gnugettext]ifelse([$2], need-ngettext, 2, 1)[_libintl])\n-\n \tAC_CHECK_HEADER(libintl.h,\n-\t  [AC_CACHE_CHECK([for GNU gettext in libc], gt_cv_func_gnugettext_libc,\n-\t    [AC_TRY_LINK([#include <libintl.h>\n-extern int _nl_msg_cat_cntr;],\n-\t       [bindtextdomain (\"\", \"\");\n-return (int) gettext (\"\")]ifelse([$2], need-ngettext, [ + (int) ngettext (\"\", \"\", 0)], [])[ + _nl_msg_cat_cntr],\n-\t       gt_cv_func_gnugettext_libc=yes,\n-\t       gt_cv_func_gnugettext_libc=no)])\n-\n-\t   if test \"$gt_cv_func_gnugettext_libc\" != \"yes\"; then\n-\t     AC_CACHE_CHECK([for GNU gettext in libintl],\n-\t       gt_cv_func_gnugettext_libintl,\n-\t       [gt_save_LIBS=\"$LIBS\"\n-\t\tLIBS=\"$LIBS -lintl $LIBICONV\"\n-\t\tAC_TRY_LINK([#include <libintl.h>\n-extern int _nl_msg_cat_cntr;],\n-\t\t  [bindtextdomain (\"\", \"\");\n-return (int) gettext (\"\")]ifelse([$2], need-ngettext, [ + (int) ngettext (\"\", \"\", 0)], [])[ + _nl_msg_cat_cntr],\n-\t\t  gt_cv_func_gnugettext_libintl=yes,\n-\t\t  gt_cv_func_gnugettext_libintl=no)\n-\t\tLIBS=\"$gt_save_LIBS\"])\n+\t  [AC_CACHE_CHECK([for gettext in libc], gt_cv_func_gettext_libc,\n+\t    [AC_TRY_LINK([#include <libintl.h>], [return (int) gettext (\"\")],\n+\t       gt_cv_func_gettext_libc=yes, gt_cv_func_gettext_libc=no)])\n+\n+\t   if test \"$gt_cv_func_gettext_libc\" != \"yes\"; then\n+\t     AC_CHECK_LIB(intl, bindtextdomain,\n+\t       [AC_CACHE_CHECK([for gettext in libintl],\n+\t\t gt_cv_func_gettext_libintl,\n+\t\t [AC_TRY_LINK([], [return (int) gettext (\"\")],\n+\t\t gt_cv_func_gettext_libintl=yes,\n+\t\t gt_cv_func_gettext_libintl=no)])])\n \t   fi\n \n-\t   dnl If an already present or preinstalled GNU gettext() is found,\n-\t   dnl use it.  But if this macro is used in GNU gettext, and GNU\n-\t   dnl gettext is already preinstalled in libintl, we update this\n-\t   dnl libintl.  (Cf. the install rule in intl/Makefile.in.)\n-\t   if test \"$gt_cv_func_gnugettext_libc\" = \"yes\" \\\n-\t      || { test \"$gt_cv_func_gnugettext_libintl\" = \"yes\" \\\n-\t\t   && test \"$PACKAGE\" != gettext; }; then\n-\t     AC_DEFINE(HAVE_GETTEXT, 1,\n-               [Define if the GNU gettext() function is already present or preinstalled.])\n-\n-\t     if test \"$gt_cv_func_gnugettext_libintl\" = \"yes\"; then\n-\t       dnl If iconv() is in a separate libiconv library, then anyone\n-\t       dnl linking with libintl{.a,.so} also needs to link with\n-\t       dnl libiconv.\n-\t       INTLLIBS=\"-lintl $LIBICONV\"\n-\t     fi\n-\n-\t     gt_save_LIBS=\"$LIBS\"\n-\t     LIBS=\"$LIBS $INTLLIBS\"\n-\t     AC_CHECK_FUNCS(dcgettext)\n-\t     LIBS=\"$gt_save_LIBS\"\n-\n-\t     AM_PATH_PROG_WITH_TEST(MSGFMT, msgfmt,\n-\t       [test -z \"`$ac_dir/$ac_word -h 2>&1 | grep 'dv '`\"], no)dnl\n-\t     if test \"$MSGFMT\" != \"no\"; then\n-\t       AC_PATH_PROG(GMSGFMT, gmsgfmt, $MSGFMT)\n-\t     fi\n-\n-\t     AM_PATH_PROG_WITH_TEST(XGETTEXT, xgettext,\n-\t       [test -z \"`$ac_dir/$ac_word -h 2>&1 | grep '(HELP)'`\"], :)\n-\n-\t     CATOBJEXT=.gmo\n-\t   fi\n+\t   if test \"$gt_cv_func_gettext_libc\" = \"yes\" \\\n+\t      || test \"$gt_cv_func_gettext_libintl\" = \"yes\"; then\n+\t      AC_DEFINE(HAVE_GETTEXT)\n+\t      AM_PATH_PROG_WITH_TEST(MSGFMT, msgfmt,\n+\t\t[test -z \"`$ac_dir/$ac_word -h 2>&1 | grep 'dv '`\"], no)dnl\n+\t      if test \"$MSGFMT\" != \"no\"; then\n+\t\tAC_CHECK_FUNCS(dcgettext)\n+\t\tAC_PATH_PROG(GMSGFMT, gmsgfmt, $MSGFMT)\n+\t\tAM_PATH_PROG_WITH_TEST(XGETTEXT, xgettext,\n+\t\t  [test -z \"`$ac_dir/$ac_word -h 2>&1 | grep '(HELP)'`\"], :)\n+\t\tAC_TRY_LINK(, [extern int _nl_msg_cat_cntr;\n+\t\t\t       return _nl_msg_cat_cntr],\n+\t\t  [CATOBJEXT=.gmo\n+\t\t   DATADIRNAME=share],\n+\t\t  [CATOBJEXT=.mo\n+\t\t   DATADIRNAME=lib])\n+\t\tINSTOBJEXT=.mo\n+\t      fi\n+\t    fi\n \t])\n \n         if test \"$CATOBJEXT\" = \"NONE\"; then\n-\t  dnl GNU gettext is not found in the C library.\n+\t  AC_MSG_CHECKING([whether catgets can be used])\n+\t  AC_ARG_WITH(catgets,\n+\t    [  --with-catgets          use catgets functions if available],\n+\t    nls_cv_use_catgets=$withval, nls_cv_use_catgets=no)\n+\t  AC_MSG_RESULT($nls_cv_use_catgets)\n+\n+\t  if test \"$nls_cv_use_catgets\" = \"yes\"; then\n+\t    dnl No gettext in C library.  Try catgets next.\n+\t    AC_CHECK_LIB(i, main)\n+\t    AC_CHECK_FUNC(catgets,\n+\t      [AC_DEFINE(HAVE_CATGETS)\n+\t       INTLOBJS=\"\\$(CATOBJS)\"\n+\t       AC_PATH_PROG(GENCAT, gencat, no)dnl\n+\t       if test \"$GENCAT\" != \"no\"; then\n+\t\t AC_PATH_PROG(GMSGFMT, gmsgfmt, no)\n+\t\t if test \"$GMSGFMT\" = \"no\"; then\n+\t\t   AM_PATH_PROG_WITH_TEST(GMSGFMT, msgfmt,\n+\t\t    [test -z \"`$ac_dir/$ac_word -h 2>&1 | grep 'dv '`\"], no)\n+\t\t fi\n+\t\t AM_PATH_PROG_WITH_TEST(XGETTEXT, xgettext,\n+\t\t   [test -z \"`$ac_dir/$ac_word -h 2>&1 | grep '(HELP)'`\"], :)\n+\t\t USE_INCLUDED_LIBINTL=yes\n+\t\t CATOBJEXT=.cat\n+\t\t INSTOBJEXT=.cat\n+\t\t DATADIRNAME=lib\n+\t\t INTLDEPS='$(top_builddir)/intl/libintl.a'\n+\t\t INTLLIBS=$INTLDEPS\n+\t\t LIBS=`echo $LIBS | sed -e 's/-lintl//'`\n+\t\t nls_cv_header_intl=intl/libintl.h\n+\t\t nls_cv_header_libgt=intl/libgettext.h\n+\t       fi])\n+\t  fi\n+        fi\n+\n+        if test \"$CATOBJEXT\" = \"NONE\"; then\n+\t  dnl Neither gettext nor catgets in included in the C library.\n \t  dnl Fall back on GNU gettext library.\n \t  nls_cv_use_gnu_gettext=yes\n         fi\n@@ -2338,11 +2294,15 @@ return (int) gettext (\"\")]ifelse([$2], need-ngettext, [ + (int) ngettext (\"\", \"\"\n         AM_PATH_PROG_WITH_TEST(XGETTEXT, xgettext,\n \t  [test -z \"`$ac_dir/$ac_word -h 2>&1 | grep '(HELP)'`\"], :)\n         AC_SUBST(MSGFMT)\n-\tBUILD_INCLUDED_LIBINTL=yes\n \tUSE_INCLUDED_LIBINTL=yes\n         CATOBJEXT=.gmo\n-\tINTLLIBS=\"ifelse([$3],[],\\$(top_builddir)/intl,[$3])/libintl.ifelse([$1], use-libtool, [l], [])a $LIBICONV\"\n-\tLIBS=`echo \" $LIBS \" | sed -e 's/ -lintl / /' -e 's/^ //' -e 's/ $//'`\n+        INSTOBJEXT=.mo\n+        DATADIRNAME=share\n+\tINTLDEPS='$(top_builddir)/intl/libintl.a'\n+\tINTLLIBS=$INTLDEPS\n+\tLIBS=`echo $LIBS | sed -e 's/-lintl//'`\n+        nls_cv_header_intl=intl/libintl.h\n+        nls_cv_header_libgt=intl/libgettext.h\n       fi\n \n       dnl Test whether we really found GNU xgettext.\n@@ -2353,78 +2313,24 @@ return (int) gettext (\"\")]ifelse([$2], need-ngettext, [ + (int) ngettext (\"\", \"\"\n \t  : ;\n \telse\n \t  AC_MSG_RESULT(\n-\t    [found xgettext program is not GNU xgettext; ignore it])\n+\t    [found xgettext programs is not GNU xgettext; ignore it])\n \t  XGETTEXT=\":\"\n \tfi\n       fi\n \n-      dnl We need to process the po/ directory.\n+      # We need to process the po/ directory.\n       POSUB=po\n+    else\n+      DATADIRNAME=share\n+      nls_cv_header_intl=intl/libintl.h\n+      nls_cv_header_libgt=intl/libgettext.h\n     fi\n-    AC_OUTPUT_COMMANDS(\n-     [for ac_file in $CONFIG_FILES; do\n-        # Support \"outfile[:infile[:infile...]]\"\n-        case \"$ac_file\" in\n-          *:*) ac_file=`echo \"$ac_file\"|sed 's%:.*%%'` ;;\n-        esac\n-        # PO directories have a Makefile.in generated from Makefile.in.in.\n-        case \"$ac_file\" in */Makefile.in)\n-          # Adjust a relative srcdir.\n-          ac_dir=`echo \"$ac_file\"|sed 's%/[^/][^/]*$%%'`\n-          ac_dir_suffix=\"/`echo \"$ac_dir\"|sed 's%^\\./%%'`\"\n-          ac_dots=`echo \"$ac_dir_suffix\"|sed 's%/[^/]*%../%g'`\n-          case \"$ac_given_srcdir\" in\n-            .)  top_srcdir=`echo $ac_dots|sed 's%/$%%'` ;;\n-            /*) top_srcdir=\"$ac_given_srcdir\" ;;\n-            *)  top_srcdir=\"$ac_dots$ac_given_srcdir\" ;;\n-          esac\n-          if test -f \"$ac_given_srcdir/$ac_dir/POTFILES.in\"; then\n-            rm -f \"$ac_dir/POTFILES\"\n-            echo creating \"$ac_dir/POTFILES\"\n-            sed -e \"/^#/d\" -e \"/^[ \t]*\\$/d\" -e \"s,.*,     $top_srcdir/& \\\\\\\\,\" -e \"\\$s/\\(.*\\) \\\\\\\\/\\1/\" < \"$ac_given_srcdir/$ac_dir/POTFILES.in\" > \"$ac_dir/POTFILES\"\n-            echo creating \"$ac_dir/Makefile\"\n-            sed -e \"/POTFILES =/r $ac_dir/POTFILES\" \"$ac_dir/Makefile.in\" > \"$ac_dir/Makefile\"\n-          fi\n-          ;;\n-        esac\n-      done])\n-\n \n-    dnl If this is used in GNU gettext we have to set BUILD_INCLUDED_LIBINTL\n-    dnl to 'yes' because some of the testsuite requires it.\n+    # If this is used in GNU gettext we have to set USE_NLS to `yes'\n+    # because some of the sources are only built for this goal.\n     if test \"$PACKAGE\" = gettext; then\n-      BUILD_INCLUDED_LIBINTL=yes\n-    fi\n-\n-    dnl intl/plural.c is generated from intl/plural.y. It requires bison,\n-    dnl because plural.y uses bison specific features. It requires at least\n-    dnl bison-1.26 because earlier versions generate a plural.c that doesn't\n-    dnl compile.\n-    dnl bison is only needed for the maintainer (who touches plural.y). But in\n-    dnl order to avoid separate Makefiles or --enable-maintainer-mode, we put\n-    dnl the rule in general Makefile. Now, some people carelessly touch the\n-    dnl files or have a broken \"make\" program, hence the plural.c rule will\n-    dnl sometimes fire. To avoid an error, defines BISON to \":\" if it is not\n-    dnl present or too old.\n-    AC_CHECK_PROGS([INTLBISON], [bison])\n-    if test -z \"$INTLBISON\"; then\n-      ac_verc_fail=yes\n-    else\n-      dnl Found it, now check the version.\n-      AC_MSG_CHECKING([version of bison])\n-changequote(<<,>>)dnl\n-      ac_prog_version=`$INTLBISON --version 2>&1 | sed -n 's/^.*GNU Bison .* \\([0-9]*\\.[0-9.]*\\).*$/\\1/p'`\n-      case $ac_prog_version in\n-        '') ac_prog_version=\"v. ?.??, bad\"; ac_verc_fail=yes;;\n-        1.2[6-9]* | 1.[3-9][0-9]* | [2-9].*)\n-changequote([,])dnl\n-           ac_prog_version=\"$ac_prog_version, ok\"; ac_verc_fail=no;;\n-        *) ac_prog_version=\"$ac_prog_version, bad\"; ac_verc_fail=yes;;\n-      esac\n-      AC_MSG_RESULT([$ac_prog_version])\n-    fi\n-    if test $ac_verc_fail = yes; then\n-      INTLBISON=:\n+      USE_NLS=yes\n+      USE_INCLUDED_LIBINTL=yes\n     fi\n \n     dnl These rules are solely for the distribution goal.  While doing this\n@@ -2436,38 +2342,22 @@ changequote([,])dnl\n     done\n \n     dnl Make all variables we use known to autoconf.\n-    AC_SUBST(BUILD_INCLUDED_LIBINTL)\n     AC_SUBST(USE_INCLUDED_LIBINTL)\n     AC_SUBST(CATALOGS)\n     AC_SUBST(CATOBJEXT)\n+    AC_SUBST(DATADIRNAME)\n     AC_SUBST(GMOFILES)\n+    AC_SUBST(INSTOBJEXT)\n+    AC_SUBST(INTLDEPS)\n     AC_SUBST(INTLLIBS)\n     AC_SUBST(INTLOBJS)\n     AC_SUBST(POFILES)\n     AC_SUBST(POSUB)\n-\n-    dnl For backward compatibility. Some configure.ins may be using this.\n-    nls_cv_header_intl=\n-    nls_cv_header_libgt=\n-\n-    dnl For backward compatibility. Some Makefiles may be using this.\n-    DATADIRNAME=share\n-    AC_SUBST(DATADIRNAME)\n-\n-    dnl For backward compatibility. Some Makefiles may be using this.\n-    INSTOBJEXT=.mo\n-    AC_SUBST(INSTOBJEXT)\n-\n-    dnl For backward compatibility. Some Makefiles may be using this.\n-    GENCAT=gencat\n-    AC_SUBST(GENCAT)\n   ])\n \n-dnl Usage: Just like AM_WITH_NLS, which see.\n-AC_DEFUN([AM_GNU_GETTEXT],\n+AC_DEFUN(AM_GNU_GETTEXT,\n   [AC_REQUIRE([AC_PROG_MAKE_SET])dnl\n    AC_REQUIRE([AC_PROG_CC])dnl\n-   AC_REQUIRE([AC_CANONICAL_HOST])dnl\n    AC_REQUIRE([AC_PROG_RANLIB])dnl\n    AC_REQUIRE([AC_ISC_POSIX])dnl\n    AC_REQUIRE([AC_HEADER_STDC])dnl\n@@ -2477,40 +2367,32 @@ AC_DEFUN([AM_GNU_GETTEXT],\n    AC_REQUIRE([AC_TYPE_SIZE_T])dnl\n    AC_REQUIRE([AC_FUNC_ALLOCA])dnl\n    AC_REQUIRE([AC_FUNC_MMAP])dnl\n-   AC_REQUIRE([jm_GLIBC21])dnl\n \n-   AC_CHECK_HEADERS([argz.h limits.h locale.h nl_types.h malloc.h stddef.h \\\n-stdlib.h string.h unistd.h sys/param.h])\n-   AC_CHECK_FUNCS([feof_unlocked fgets_unlocked getcwd getegid geteuid \\\n-getgid getuid mempcpy munmap putenv setenv setlocale stpcpy strchr strcasecmp \\\n-strdup strtoul tsearch __argz_count __argz_stringify __argz_next])\n+   AC_CHECK_HEADERS([argz.h limits.h locale.h nl_types.h malloc.h string.h \\\n+unistd.h values.h sys/param.h])\n+   AC_CHECK_FUNCS([getcwd munmap putenv setenv setlocale strchr strcasecmp \\\n+__argz_count __argz_stringify __argz_next])\n+\n+   if test \"${ac_cv_func_stpcpy+set}\" != \"set\"; then\n+     AC_CHECK_FUNCS(stpcpy)\n+   fi\n+   if test \"${ac_cv_func_stpcpy}\" = \"yes\"; then\n+     AC_DEFINE(HAVE_STPCPY)\n+   fi\n \n-   AM_ICONV\n-   AM_LANGINFO_CODESET\n    AM_LC_MESSAGES\n-   AM_WITH_NLS([$1],[$2],[$3])\n+   AM_WITH_NLS\n \n    if test \"x$CATOBJEXT\" != \"x\"; then\n      if test \"x$ALL_LINGUAS\" = \"x\"; then\n        LINGUAS=\n      else\n        AC_MSG_CHECKING(for catalogs to be installed)\n        NEW_LINGUAS=\n-       for presentlang in $ALL_LINGUAS; do\n-         useit=no\n-         for desiredlang in ${LINGUAS-$ALL_LINGUAS}; do\n-           # Use the presentlang catalog if desiredlang is\n-           #   a. equal to presentlang, or\n-           #   b. a variant of presentlang (because in this case,\n-           #      presentlang can be used as a fallback for messages\n-           #      which are not translated in the desiredlang catalog).\n-           case \"$desiredlang\" in\n-             \"$presentlang\"*) useit=yes;;\n-           esac\n-         done\n-         if test $useit = yes; then\n-           NEW_LINGUAS=\"$NEW_LINGUAS $presentlang\"\n-         fi\n+       for lang in ${LINGUAS=$ALL_LINGUAS}; do\n+         case \"$ALL_LINGUAS\" in\n+          *$lang*) NEW_LINGUAS=\"$NEW_LINGUAS $lang\" ;;\n+         esac\n        done\n        LINGUAS=$NEW_LINGUAS\n        AC_MSG_RESULT($LINGUAS)\n@@ -2522,8 +2404,47 @@ strdup strtoul tsearch __argz_count __argz_stringify __argz_next])\n      fi\n    fi\n \n+   dnl The reference to <locale.h> in the installed <libintl.h> file\n+   dnl must be resolved because we cannot expect the users of this\n+   dnl to define HAVE_LOCALE_H.\n+   if test $ac_cv_header_locale_h = yes; then\n+     INCLUDE_LOCALE_H=\"#include <locale.h>\"\n+   else\n+     INCLUDE_LOCALE_H=\"\\\n+/* The system does not provide the header <locale.h>.  Take care yourself.  */\"\n+   fi\n+   AC_SUBST(INCLUDE_LOCALE_H)\n+\n+   dnl Determine which catalog format we have (if any is needed)\n+   dnl For now we know about two different formats:\n+   dnl   Linux libc-5 and the normal X/Open format\n+   test -d intl || mkdir intl\n+   if test \"$CATOBJEXT\" = \".cat\"; then\n+     AC_CHECK_HEADER(linux/version.h, msgformat=linux, msgformat=xopen)\n+\n+     dnl Transform the SED scripts while copying because some dumb SEDs\n+     dnl cannot handle comments.\n+     sed -e '/^#/d' $srcdir/intl/$msgformat-msg.sed > intl/po2msg.sed\n+   fi\n+   dnl po2tbl.sed is always needed.\n+   sed -e '/^#.*[^\\\\]$/d' -e '/^#$/d' \\\n+     $srcdir/intl/po2tbl.sed.in > intl/po2tbl.sed\n+\n+   dnl In the intl/Makefile.in we have a special dependency which makes\n+   dnl only sense for gettext.  We comment this out for non-gettext\n+   dnl packages.\n+   if test \"$PACKAGE\" = \"gettext\"; then\n+     GT_NO=\"#NO#\"\n+     GT_YES=\n+   else\n+     GT_NO=\n+     GT_YES=\"#YES#\"\n+   fi\n+   AC_SUBST(GT_NO)\n+   AC_SUBST(GT_YES)\n+\n    dnl If the AC_CONFIG_AUX_DIR macro for autoconf is used we possibly\n-   dnl find the mkinstalldirs script in another subdir but $(top_srcdir).\n+   dnl find the mkinstalldirs script in another subdir but ($top_srcdir).\n    dnl Try to locate is.\n    MKINSTALLDIRS=\n    if test -n \"$ac_aux_dir\"; then\n@@ -2534,15 +2455,31 @@ strdup strtoul tsearch __argz_count __argz_stringify __argz_next])\n    fi\n    AC_SUBST(MKINSTALLDIRS)\n \n-   dnl Enable libtool support if the surrounding package wishes it.\n-   INTL_LIBTOOL_SUFFIX_PREFIX=ifelse([$1], use-libtool, [l], [])\n-   AC_SUBST(INTL_LIBTOOL_SUFFIX_PREFIX)\n+   dnl *** For now the libtool support in intl/Makefile is not for real.\n+   l=\n+   AC_SUBST(l)\n+\n+   dnl Generate list of files to be processed by xgettext which will\n+   dnl be included in po/Makefile.\n+   test -d po || mkdir po\n+   if test \"x$srcdir\" != \"x.\"; then\n+     if test \"x`echo $srcdir | sed 's@/.*@@'`\" = \"x\"; then\n+       posrcprefix=\"$srcdir/\"\n+     else\n+       posrcprefix=\"../$srcdir/\"\n+     fi\n+   else\n+     posrcprefix=\"../\"\n+   fi\n+   rm -f po/POTFILES\n+   sed -e \"/^#/d\" -e \"/^\\$/d\" -e \"s,.*,\t$posrcprefix& \\\\\\\\,\" -e \"\\$s/\\(.*\\) \\\\\\\\/\\1/\" \\\n+\t< $srcdir/po/POTFILES.in > po/POTFILES\n   ])\n \n # Search path for a program which passes the given test.\n # Ulrich Drepper <drepper@cygnus.com>, 1996.\n #\n-# This file can be copied and used freely without restrictions.  It can\n+# This file file be copied and used freely without restrictions.  It can\n # be used in projects which are not available under the GNU Public License\n # but which still want to provide support for the GNU gettext functionality.\n # Please note that the actual code is *not* freely available.\n@@ -2551,7 +2488,7 @@ strdup strtoul tsearch __argz_count __argz_stringify __argz_next])\n \n dnl AM_PATH_PROG_WITH_TEST(VARIABLE, PROG-TO-CHECK-FOR,\n dnl   TEST-PERFORMED-ON-FOUND_PROGRAM [, VALUE-IF-NOT-FOUND [, PATH]])\n-AC_DEFUN([AM_PATH_PROG_WITH_TEST],\n+AC_DEFUN(AM_PATH_PROG_WITH_TEST,\n [# Extract the first word of \"$2\", so it can be a program name with args.\n set dummy $2; ac_word=[$]2\n AC_MSG_CHECKING([for $ac_word])\n@@ -2587,139 +2524,24 @@ fi\n AC_SUBST($1)dnl\n ])\n \n-#serial 2\n-\n-# Test for the GNU C Library, version 2.1 or newer.\n-# From Bruno Haible.\n-\n-AC_DEFUN([jm_GLIBC21],\n-  [\n-    AC_CACHE_CHECK(whether we are using the GNU C Library 2.1 or newer,\n-      ac_cv_gnu_library_2_1,\n-      [AC_EGREP_CPP([Lucky GNU user],\n-\t[\n-#include <features.h>\n-#ifdef __GNU_LIBRARY__\n- #if (__GLIBC__ == 2 && __GLIBC_MINOR__ >= 1) || (__GLIBC__ > 2)\n-  Lucky GNU user\n- #endif\n-#endif\n-\t],\n-\tac_cv_gnu_library_2_1=yes,\n-\tac_cv_gnu_library_2_1=no)\n-      ]\n-    )\n-    AC_SUBST(GLIBC21)\n-    GLIBC21=\"$ac_cv_gnu_library_2_1\"\n-  ]\n-)\n-\n-#serial AM2\n-\n-dnl From Bruno Haible.\n-\n-AC_DEFUN([AM_ICONV],\n-[\n-  dnl Some systems have iconv in libc, some have it in libiconv (OSF/1 and\n-  dnl those with the standalone portable GNU libiconv installed).\n-\n-  AC_ARG_WITH([libiconv-prefix],\n-[  --with-libiconv-prefix=DIR  search for libiconv in DIR/include and DIR/lib], [\n-    for dir in `echo \"$withval\" | tr : ' '`; do\n-      if test -d $dir/include; then CPPFLAGS=\"$CPPFLAGS -I$dir/include\"; fi\n-      if test -d $dir/lib; then LDFLAGS=\"$LDFLAGS -L$dir/lib\"; fi\n-    done\n-   ])\n-\n-  AC_CACHE_CHECK(for iconv, am_cv_func_iconv, [\n-    am_cv_func_iconv=\"no, consider installing GNU libiconv\"\n-    am_cv_lib_iconv=no\n-    AC_TRY_LINK([#include <stdlib.h>\n-#include <iconv.h>],\n-      [iconv_t cd = iconv_open(\"\",\"\");\n-       iconv(cd,NULL,NULL,NULL,NULL);\n-       iconv_close(cd);],\n-      am_cv_func_iconv=yes)\n-    if test \"$am_cv_func_iconv\" != yes; then\n-      am_save_LIBS=\"$LIBS\"\n-      LIBS=\"$LIBS -liconv\"\n-      AC_TRY_LINK([#include <stdlib.h>\n-#include <iconv.h>],\n-        [iconv_t cd = iconv_open(\"\",\"\");\n-         iconv(cd,NULL,NULL,NULL,NULL);\n-         iconv_close(cd);],\n-        am_cv_lib_iconv=yes\n-        am_cv_func_iconv=yes)\n-      LIBS=\"$am_save_LIBS\"\n-    fi\n-  ])\n-  if test \"$am_cv_func_iconv\" = yes; then\n-    AC_DEFINE(HAVE_ICONV, 1, [Define if you have the iconv() function.])\n-    AC_MSG_CHECKING([for iconv declaration])\n-    AC_CACHE_VAL(am_cv_proto_iconv, [\n-      AC_TRY_COMPILE([\n-#include <stdlib.h>\n-#include <iconv.h>\n-extern\n-#ifdef __cplusplus\n-\"C\"\n-#endif\n-#if defined(__STDC__) || defined(__cplusplus)\n-size_t iconv (iconv_t cd, char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);\n-#else\n-size_t iconv();\n-#endif\n-], [], am_cv_proto_iconv_arg1=\"\", am_cv_proto_iconv_arg1=\"const\")\n-      am_cv_proto_iconv=\"extern size_t iconv (iconv_t cd, $am_cv_proto_iconv_arg1 char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);\"])\n-    am_cv_proto_iconv=`echo \"[$]am_cv_proto_iconv\" | tr -s ' ' | sed -e 's/( /(/'`\n-    AC_MSG_RESULT([$]{ac_t:-\n-         }[$]am_cv_proto_iconv)\n-    AC_DEFINE_UNQUOTED(ICONV_CONST, $am_cv_proto_iconv_arg1,\n-      [Define as const if the declaration of iconv() needs const.])\n-  fi\n-  LIBICONV=\n-  if test \"$am_cv_lib_iconv\" = yes; then\n-    LIBICONV=\"-liconv\"\n-  fi\n-  AC_SUBST(LIBICONV)\n-])\n-\n-#serial AM1\n-\n-dnl From Bruno Haible.\n-\n-AC_DEFUN([AM_LANGINFO_CODESET],\n-[\n-  AC_CACHE_CHECK([for nl_langinfo and CODESET], am_cv_langinfo_codeset,\n-    [AC_TRY_LINK([#include <langinfo.h>],\n-      [char* cs = nl_langinfo(CODESET);],\n-      am_cv_langinfo_codeset=yes,\n-      am_cv_langinfo_codeset=no)\n-    ])\n-  if test $am_cv_langinfo_codeset = yes; then\n-    AC_DEFINE(HAVE_LANGINFO_CODESET, 1,\n-      [Define if you have <langinfo.h> and nl_langinfo(CODESET).])\n-  fi\n-])\n-\n # Check whether LC_MESSAGES is available in <locale.h>.\n # Ulrich Drepper <drepper@cygnus.com>, 1995.\n #\n-# This file can be copied and used freely without restrictions.  It can\n+# This file file be copied and used freely without restrictions.  It can\n # be used in projects which are not available under the GNU Public License\n # but which still want to provide support for the GNU gettext functionality.\n # Please note that the actual code is *not* freely available.\n \n-# serial 2\n+# serial 1\n \n-AC_DEFUN([AM_LC_MESSAGES],\n+AC_DEFUN(AM_LC_MESSAGES,\n   [if test $ac_cv_header_locale_h = yes; then\n     AC_CACHE_CHECK([for LC_MESSAGES], am_cv_val_LC_MESSAGES,\n       [AC_TRY_LINK([#include <locale.h>], [return LC_MESSAGES],\n        am_cv_val_LC_MESSAGES=yes, am_cv_val_LC_MESSAGES=no)])\n     if test $am_cv_val_LC_MESSAGES = yes; then\n       AC_DEFINE(HAVE_LC_MESSAGES, 1,\n-        [Define if your <locale.h> file defines LC_MESSAGES.])\n+\t\t[Define if your locale.h file contains LC_MESSAGES.])\n     fi\n   fi])\n \n@@ -2732,7 +2554,7 @@ AC_DEFUN([AM_LC_MESSAGES],\n dnl Usage:\n dnl AM_INIT_AUTOMAKE(package,version, [no-define])\n \n-AC_DEFUN([AM_INIT_AUTOMAKE],\n+AC_DEFUN(AM_INIT_AUTOMAKE,\n [AC_REQUIRE([AC_PROG_INSTALL])\n PACKAGE=[$1]\n AC_SUBST(PACKAGE)\n@@ -2760,7 +2582,7 @@ AC_REQUIRE([AC_PROG_MAKE_SET])])\n # Check to make sure that the build environment is sane.\n #\n \n-AC_DEFUN([AM_SANITY_CHECK],\n+AC_DEFUN(AM_SANITY_CHECK,\n [AC_MSG_CHECKING([whether build environment is sane])\n # Just in case\n sleep 1\n@@ -2801,7 +2623,7 @@ AC_MSG_RESULT(yes)])\n \n dnl AM_MISSING_PROG(NAME, PROGRAM, DIRECTORY)\n dnl The program must properly implement --version.\n-AC_DEFUN([AM_MISSING_PROG],\n+AC_DEFUN(AM_MISSING_PROG,\n [AC_MSG_CHECKING(for working $2)\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n@@ -2817,7 +2639,7 @@ AC_SUBST($1)])\n \n # Like AC_CONFIG_HEADER, but automatically create stamp file.\n \n-AC_DEFUN([AM_CONFIG_HEADER],\n+AC_DEFUN(AM_CONFIG_HEADER,\n [AC_PREREQ([2.12])\n AC_CONFIG_HEADER([$1])\n dnl When config.status generates a header, we must update the stamp-h file."}, {"sha": "ca70d5e9d0083275d5faa7e86d77cd50c13d5d38", "filename": "libstdc++-v3/config.h.in", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2caef2e8befdb1ea27242b6266d9b80e02b7569/libstdc%2B%2B-v3%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2caef2e8befdb1ea27242b6266d9b80e02b7569/libstdc%2B%2B-v3%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig.h.in?ref=d2caef2e8befdb1ea27242b6266d9b80e02b7569", "patch": "@@ -3,6 +3,9 @@\n /* Define if you have a working `mmap' system call.  */\n #undef HAVE_MMAP\n \n+/* Define if you need to in order for stat and other things to work.  */\n+#undef _POSIX_SOURCE\n+\n // Define if GCC supports weak symbols.\n #undef _GLIBCPP_SUPPORTS_WEAK\n \n@@ -699,9 +702,6 @@\n /* Define if you have the <nan.h> header file.  */\n #undef HAVE_NAN_H\n \n-/* Define if you have the <stdlib.h> header file.  */\n-#undef HAVE_STDLIB_H\n-\n /* Define if you have the <sys/isa_defs.h> header file.  */\n #undef HAVE_SYS_ISA_DEFS_H\n \n@@ -711,9 +711,6 @@\n /* Define if you have the <sys/resource.h> header file.  */\n #undef HAVE_SYS_RESOURCE_H\n \n-/* Define if you have the <sys/stat.h> header file.  */\n-#undef HAVE_SYS_STAT_H\n-\n /* Define if you have the <sys/types.h> header file.  */\n #undef HAVE_SYS_TYPES_H\n "}, {"sha": "62a5f7d466726ce2f81d4d2717cbde18e90ecfd8", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 1218, "deletions": 1246, "changes": 2464, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2caef2e8befdb1ea27242b6266d9b80e02b7569/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2caef2e8befdb1ea27242b6266d9b80e02b7569/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=d2caef2e8befdb1ea27242b6266d9b80e02b7569"}, {"sha": "33748644ff21b6d4167d7da23e86f3a3ca4c0943", "filename": "libstdc++-v3/configure.in", "status": "modified", "additions": 30, "deletions": 4, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2caef2e8befdb1ea27242b6266d9b80e02b7569/libstdc%2B%2B-v3%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2caef2e8befdb1ea27242b6266d9b80e02b7569/libstdc%2B%2B-v3%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure.in?ref=d2caef2e8befdb1ea27242b6266d9b80e02b7569", "patch": "@@ -1,5 +1,5 @@\n # Process this file with autoconf to produce a configure script, like so:\n-# aclocal, autoconf, autoheader, automake\n+# aclocal && autoconf && autoheader && automake\n \n AC_PREREQ(2.13)\n AC_INIT(src/ios.cc)\n@@ -14,8 +14,9 @@ libtool_VERSION=4:0:0\n AC_SUBST(libtool_VERSION)\n \n # Gets build, host, target, *_vendor, *_cpu, *_os, etc.\n-# AC 2.50 sets target_alias iff the user specified --target, but we use it\n-# everywhere, so we set it here just to be sure.\n+# AC 2.5x sets target_alias iff the user specified --target, but we use it\n+# everywhere, so we set it here just to be sure.  In AC 2.13\n+# AC_CANONICAL_TARGET was known as AC_CANONICAL_SYSTEM.\n AC_CANONICAL_SYSTEM\n target_alias=${target_alias-$target}\n AC_SUBST(target_alias)\n@@ -24,7 +25,7 @@ AM_INIT_AUTOMAKE($PACKAGE, $release_VERSION)\n AM_CONFIG_HEADER(config.h)\n \n # Runs configure.host and configure.target, as well as finds CC, CXX\n-# and assorted other critical bits. Have to run this before the\n+# and assorted other critical bits.  Have to run this before the\n # GLIBCPP_ENABLE_* macros below.\n GLIBCPP_CONFIGURE(.)\n \n@@ -331,6 +332,31 @@ glibcpp_basedir=${glibcpp_basedir}\n CC=\"${CC}\"\n CXX=\"${CXX}\"\n )\n+dnl  In autoconf 2.5x, AC_OUTPUT is replaced by three AC_ macros:\n+dnl  AC_CONFIG_FILES(Makefile \\\n+dnl      include/Makefile src/Makefile \\\n+dnl      libmath/Makefile libio/Makefile libsupc++/Makefile \\\n+dnl      po/Makefile testsuite/Makefile mkcheck testsuite_flags)\n+dnl  AC_CONFIG_COMMANDS([default],\n+dnl  [if test -n \"$CONFIG_FILES\"; then\n+dnl    ac_file=Makefile . ${glibcpp_basedir}/../config-ml.in\n+dnl    grep '^MULTISUBDIR =' Makefile >> src/Makefile\n+dnl    grep '^MULTISUBDIR =' Makefile >> libsupc++/Makefile\n+dnl  fi\n+dnl  chmod +x mkcheck\n+dnl  chmod +x testsuite_flags\n+dnl  ],\n+dnl  srcdir=${srcdir}\n+dnl  host=${host}\n+dnl  target=${target}\n+dnl  with_multisubdir=${with_multisubdir}\n+dnl  ac_configure_args=\"${multilib_arg} ${ac_configure_args}\"\n+dnl  CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}\n+dnl  glibcpp_basedir=${glibcpp_basedir}\n+dnl  CC=\"${CC}\"\n+dnl  CXX=\"${CXX}\"\n+dnl  )\n+dnl  AC_OUTPUT\n \n \n # Sanity checking & User-visible messages."}]}