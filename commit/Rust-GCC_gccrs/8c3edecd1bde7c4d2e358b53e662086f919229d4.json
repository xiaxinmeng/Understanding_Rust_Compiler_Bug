{"sha": "8c3edecd1bde7c4d2e358b53e662086f919229d4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGMzZWRlY2QxYmRlN2M0ZDJlMzU4YjUzZTY2MjA4NmY5MTkyMjlkNA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-08-14T01:26:00Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-08-14T01:26:00Z"}, "message": "(INIT_SECTION_ASM_OP): Don't define.\n\n(LD_INIT_SWITCH, LD_FINI_SWITCH, HAS_INIT_SECTION): Don't undef.\n(ASM_OUTPUT_CONSTRUCTOR, ASM_OUTPUT_DESTRUCTOR): Ifdef out.\n\nFrom-SVN: r10226", "tree": {"sha": "c20710a9730e2019506feacefa177d2047be568d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c20710a9730e2019506feacefa177d2047be568d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8c3edecd1bde7c4d2e358b53e662086f919229d4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c3edecd1bde7c4d2e358b53e662086f919229d4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8c3edecd1bde7c4d2e358b53e662086f919229d4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c3edecd1bde7c4d2e358b53e662086f919229d4/comments", "author": null, "committer": null, "parents": [{"sha": "fabd69e8324a8aa1c5ba70e133b0c19aa01b6d58", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fabd69e8324a8aa1c5ba70e133b0c19aa01b6d58", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fabd69e8324a8aa1c5ba70e133b0c19aa01b6d58"}], "stats": {"total": 18, "additions": 11, "deletions": 7}, "files": [{"sha": "e07b38bfb18b712bb54f59fe9ad713459e9f4fc3", "filename": "gcc/config/mips/iris6.h", "status": "modified", "additions": 11, "deletions": 7, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c3edecd1bde7c4d2e358b53e662086f919229d4/gcc%2Fconfig%2Fmips%2Firis6.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c3edecd1bde7c4d2e358b53e662086f919229d4/gcc%2Fconfig%2Fmips%2Firis6.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Firis6.h?ref=8c3edecd1bde7c4d2e358b53e662086f919229d4", "patch": "@@ -1,5 +1,5 @@\n /* Definitions of target machine for GNU compiler.  Iris version 6.\n-   Copyright (C) 1994 Free Software Foundation, Inc.\n+   Copyright (C) 1994, 1995 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -57,12 +57,6 @@ Boston, MA 02111-1307, USA.  */\n \n #define POPSECTION_ASM_OP\t\".popsection\"\n \n-/* To enable use of init and fini sections.  */\n-#define INIT_SECTION_ASM_OP\t\".section\\t.init\"\n-#undef LD_INIT_SWITCH\n-#undef LD_FINI_SWITCH\n-#undef HAS_INIT_SECTION\n-\n #define DEBUG_SECTION\t\t\".debug,1,0,0,1\"\n #define LINE_SECTION\t\t\".line,1,0,0,1\"\n #define SFNAMES_SECTION\t\t\".debug_sfnames,1,0,0,1\"\n@@ -111,6 +105,12 @@ Boston, MA 02111-1307, USA.  */\n \n /* Stuff for constructors.  Start here.  */\n \n+/* The assembler now accepts .section pseudo-ops, but it does not allow\n+   one to change the section in the middle of a function.  crtstuff relies\n+   on this hack, and thus crtstuff won't work here.  So, we do init and\n+   fini sections exactly the same way as they are done for Irix 5, and\n+   we ifdef out the ASM_OUTPUT_{CON,DE}STRUCTOR macros below.  */\n+\n #define CONST_SECTION_ASM_OP_32\t\"\\t.rdata\"\n #define CONST_SECTION_ASM_OP_64\t\".section\\t.rodata\"\n #define CTORS_SECTION_ASM_OP\t\".section\\t.ctors,1,2,0,4\"\n@@ -185,6 +185,8 @@ dtors_section ()\t\t\t\t\t\t\t\\\n     }\t\t\t\t\t\t\t\t\t\\\n }\n \n+#if 0\n+\n /* A C statement (sans semicolon) to output an element in the table of\n    global constructors.  */\n #define ASM_OUTPUT_CONSTRUCTOR(FILE,NAME)\t\t\t\t\\\n@@ -205,6 +207,8 @@ dtors_section ()\t\t\t\t\t\t\t\\\n     fprintf (FILE, \"\\n\");\t\t\t\t\t\t\\\n   } while (0)\n \n+#endif\n+\n /* Stuff for constructors.  End here.  */\n \n /* ??? Perhaps just include svr4.h in this file?  */"}]}