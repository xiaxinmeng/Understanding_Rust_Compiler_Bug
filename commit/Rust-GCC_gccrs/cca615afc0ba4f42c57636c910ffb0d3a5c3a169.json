{"sha": "cca615afc0ba4f42c57636c910ffb0d3a5c3a169", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2NhNjE1YWZjMGJhNGY0MmM1NzYzNmM5MTBmZmIwZDNhNWMzYTE2OQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2014-02-19T22:27:40Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2014-02-19T22:27:40Z"}, "message": "re PR c/37743 (Bogus printf format warning with __builtin_bswap32.)\n\n\tPR c/37743\n\t* c-common.c (c_common_nodes_and_builtins): When initializing\n\tc_uint{16,32,64}_type_node, also set corresponding\n\tuint{16,32,64}_type_node to the same value.\n\n\t* g++.dg/ext/builtin-bswap1.C: New test.\n\t* c-c++-common/pr37743.c: New test.\n\nFrom-SVN: r207924", "tree": {"sha": "ca2875d388e570e95882bcfda1b550dd08df156b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ca2875d388e570e95882bcfda1b550dd08df156b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cca615afc0ba4f42c57636c910ffb0d3a5c3a169", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cca615afc0ba4f42c57636c910ffb0d3a5c3a169", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cca615afc0ba4f42c57636c910ffb0d3a5c3a169", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cca615afc0ba4f42c57636c910ffb0d3a5c3a169/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "9254148e5b99e09b9f1da76f74a42bed3d88a2dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9254148e5b99e09b9f1da76f74a42bed3d88a2dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9254148e5b99e09b9f1da76f74a42bed3d88a2dc"}], "stats": {"total": 52, "additions": 49, "deletions": 3}, "files": [{"sha": "2bb59357cb41f170aee41d54b0543a96827fd72e", "filename": "gcc/c-family/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cca615afc0ba4f42c57636c910ffb0d3a5c3a169/gcc%2Fc-family%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cca615afc0ba4f42c57636c910ffb0d3a5c3a169/gcc%2Fc-family%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2FChangeLog?ref=cca615afc0ba4f42c57636c910ffb0d3a5c3a169", "patch": "@@ -1,5 +1,10 @@\n 2014-02-19  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR c/37743\n+\t* c-common.c (c_common_nodes_and_builtins): When initializing\n+\tc_uint{16,32,64}_type_node, also set corresponding\n+\tuint{16,32,64}_type_node to the same value.\n+\n \tPR c++/60267\n \t* c-pragma.c (init_pragma): Don't call cpp_register_deferred_pragma\n \tfor PRAGMA_IVDEP if flag_preprocess_only."}, {"sha": "e23a9df23c7ead5a83f6744fd25488f8a0358f9d", "filename": "gcc/c-family/c-common.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cca615afc0ba4f42c57636c910ffb0d3a5c3a169/gcc%2Fc-family%2Fc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cca615afc0ba4f42c57636c910ffb0d3a5c3a169/gcc%2Fc-family%2Fc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2Fc-common.c?ref=cca615afc0ba4f42c57636c910ffb0d3a5c3a169", "patch": "@@ -5610,13 +5610,13 @@ c_common_nodes_and_builtins (void)\n     uint8_type_node =\n       TREE_TYPE (identifier_global_value (c_get_ident (UINT8_TYPE)));\n   if (UINT16_TYPE)\n-    c_uint16_type_node =\n+    c_uint16_type_node = uint16_type_node =\n       TREE_TYPE (identifier_global_value (c_get_ident (UINT16_TYPE)));\n   if (UINT32_TYPE)\n-    c_uint32_type_node =\n+    c_uint32_type_node = uint32_type_node =\n       TREE_TYPE (identifier_global_value (c_get_ident (UINT32_TYPE)));\n   if (UINT64_TYPE)\n-    c_uint64_type_node =\n+    c_uint64_type_node = uint64_type_node =\n       TREE_TYPE (identifier_global_value (c_get_ident (UINT64_TYPE)));\n   if (INT_LEAST8_TYPE)\n     int_least8_type_node ="}, {"sha": "fd796d7179fd26d1e2436e308260c6ee38887860", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cca615afc0ba4f42c57636c910ffb0d3a5c3a169/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cca615afc0ba4f42c57636c910ffb0d3a5c3a169/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=cca615afc0ba4f42c57636c910ffb0d3a5c3a169", "patch": "@@ -1,3 +1,9 @@\n+2014-02-19  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR c/37743\n+\t* g++.dg/ext/builtin-bswap1.C: New test.\n+\t* c-c++-common/pr37743.c: New test.\n+\n 2014-02-19  Prathamesh Kulkarni  <bilbotheelffriend@gmail.com>\n \n \t* gcc.dg/decl-10.c: New test."}, {"sha": "2ea678e09a752f7a78a8413cf0db4dd0595bdcb2", "filename": "gcc/testsuite/c-c++-common/pr37743.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cca615afc0ba4f42c57636c910ffb0d3a5c3a169/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fpr37743.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cca615afc0ba4f42c57636c910ffb0d3a5c3a169/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fpr37743.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fpr37743.c?ref=cca615afc0ba4f42c57636c910ffb0d3a5c3a169", "patch": "@@ -0,0 +1,13 @@\n+/* PR c/37743 */\n+/* This needs to be run only on targets where __UINT32_TYPE__ is defined\n+   to unsigned int.  */\n+/* { dg-do compile { target *-*-linux-gnu* } } */\n+/* { dg-options \"-Wformat\" } */\n+\n+int foo (const char *, ...) __attribute__ ((format (printf, 1, 2)));\n+\n+void\n+bar (unsigned int x)\n+{\n+  foo (\"%x\", __builtin_bswap32 (x));\n+}"}, {"sha": "787ecba43ad9cd5804def14458be85b33a8e015f", "filename": "gcc/testsuite/g++.dg/ext/builtin-bswap1.C", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cca615afc0ba4f42c57636c910ffb0d3a5c3a169/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fbuiltin-bswap1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cca615afc0ba4f42c57636c910ffb0d3a5c3a169/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fbuiltin-bswap1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fbuiltin-bswap1.C?ref=cca615afc0ba4f42c57636c910ffb0d3a5c3a169", "patch": "@@ -0,0 +1,22 @@\n+// PR c/37743\n+// { dg-do compile }\n+\n+#if defined(__UINT32_TYPE__) && defined(__INT32_TYPE__)\n+\n+void foo (__UINT32_TYPE__);\n+void foo (__INT32_TYPE__);\n+\n+void\n+bar (__UINT32_TYPE__ x)\n+{\n+  foo (__builtin_bswap32 (x));\n+}\n+\n+#else\n+\n+void\n+bar ()\n+{\n+}\n+\n+#endif"}]}