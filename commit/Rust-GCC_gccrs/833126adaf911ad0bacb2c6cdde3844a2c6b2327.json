{"sha": "833126adaf911ad0bacb2c6cdde3844a2c6b2327", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODMzMTI2YWRhZjkxMWFkMGJhY2IyYzZjZGRlMzg0NGEyYzZiMjMyNw==", "commit": {"author": {"name": "David Edelsohn", "email": "edelsohn@gnu.org", "date": "2005-11-16T15:59:27Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2005-11-16T15:59:27Z"}, "message": "re PR target/24772 (Lots of ICEs in vrsave_operation_1 while running the testsuite on powerpc)\n\n        PR target/24772\n        * config/rs6000/predicates.md (vrsave_operation): SET_SRC is a VEC.\n\n        * config/rs6000/rs6000.md (btruncsf2, ceilsf2, floorsf2,\n        roundsf2): Remove \"s\" from mnemonic.\n\nFrom-SVN: r107085", "tree": {"sha": "c17d43e8a7bb3ce4036e30bc924f210bb0efa6c0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c17d43e8a7bb3ce4036e30bc924f210bb0efa6c0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/833126adaf911ad0bacb2c6cdde3844a2c6b2327", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/833126adaf911ad0bacb2c6cdde3844a2c6b2327", "html_url": "https://github.com/Rust-GCC/gccrs/commit/833126adaf911ad0bacb2c6cdde3844a2c6b2327", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/833126adaf911ad0bacb2c6cdde3844a2c6b2327/comments", "author": null, "committer": null, "parents": [{"sha": "0d88914b25756f154732e2bf12b8d37b58ddd2de", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d88914b25756f154732e2bf12b8d37b58ddd2de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0d88914b25756f154732e2bf12b8d37b58ddd2de"}], "stats": {"total": 23, "additions": 15, "deletions": 8}, "files": [{"sha": "c7f4f79140e331c8ad9f3813baeb54774032ff50", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/833126adaf911ad0bacb2c6cdde3844a2c6b2327/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/833126adaf911ad0bacb2c6cdde3844a2c6b2327/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=833126adaf911ad0bacb2c6cdde3844a2c6b2327", "patch": "@@ -1,3 +1,11 @@\n+2005-11-16  David Edelsohn  <edelsohn@gnu.org>\n+\n+\tPR target/24772\n+\t* config/rs6000/predicates.md (vrsave_operation): SET_SRC is a VEC.\n+\n+\t* config/rs6000/rs6000.md (btruncsf2, ceilsf2, floorsf2,\n+\troundsf2): Remove \"s\" from mnemonic.\n+\n 2005-11-16  Bernd Schmidt  <bernd.schmidt@analog.com>\n \n \t* config/bfin/crti.s (__init, __fini): Use appropriate prologue if"}, {"sha": "0ede69dcd1f4c3409566edf56aa8c640c25d2e8c", "filename": "gcc/config/rs6000/predicates.md", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/833126adaf911ad0bacb2c6cdde3844a2c6b2327/gcc%2Fconfig%2Frs6000%2Fpredicates.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/833126adaf911ad0bacb2c6cdde3844a2c6b2327/gcc%2Fconfig%2Frs6000%2Fpredicates.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fpredicates.md?ref=833126adaf911ad0bacb2c6cdde3844a2c6b2327", "patch": "@@ -1038,10 +1038,9 @@\n     return 0;\n \n   dest_regno = REGNO (SET_DEST (XVECEXP (op, 0, 0)));\n-  src_regno  = REGNO (SET_SRC (XVECEXP (op, 0, 0)));\n+  src_regno  = REGNO (XVECEXP (SET_SRC (XVECEXP (op, 0, 0)), 0, 1));\n \n-  if (dest_regno != VRSAVE_REGNO\n-      && src_regno != VRSAVE_REGNO)\n+  if (dest_regno != VRSAVE_REGNO || src_regno != VRSAVE_REGNO)\n     return 0;\n \n   for (i = 1; i < count; i++)"}, {"sha": "935775aef3f4b585414b9b0f8fcc53033538308f", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/833126adaf911ad0bacb2c6cdde3844a2c6b2327/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/833126adaf911ad0bacb2c6cdde3844a2c6b2327/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=833126adaf911ad0bacb2c6cdde3844a2c6b2327", "patch": "@@ -5332,7 +5332,7 @@\n   [(set (match_operand:SF 0 \"gpc_reg_operand\" \"=f\")\n \t(unspec:SF [(match_operand:SF 1 \"gpc_reg_operand\" \"f\")] UNSPEC_FRIZ))]\n   \"TARGET_FPRND && TARGET_HARD_FLOAT && TARGET_FPRS\"\n-  \"frizs %0,%1\"\n+  \"friz %0,%1\"\n   [(set_attr \"type\" \"fp\")])\n \n (define_insn \"ceildf2\"\n@@ -5343,10 +5343,10 @@\n   [(set_attr \"type\" \"fp\")])\n \n (define_insn \"ceilsf2\"\n-  [(set (match_operand:SF 0 \"gpc_reg_operand\" \"=f\")\n+ [(set (match_operand:SF 0 \"gpc_reg_operand\" \"=f\")\n \t(unspec:SF [(match_operand:SF 1 \"gpc_reg_operand\" \"f\")] UNSPEC_FRIP))]\n   \"TARGET_FPRND && TARGET_HARD_FLOAT && TARGET_FPRS\"\n-  \"frips %0,%1\"\n+  \"frip %0,%1\"\n   [(set_attr \"type\" \"fp\")])\n \n (define_insn \"floordf2\"\n@@ -5360,7 +5360,7 @@\n   [(set (match_operand:SF 0 \"gpc_reg_operand\" \"=f\")\n \t(unspec:SF [(match_operand:SF 1 \"gpc_reg_operand\" \"f\")] UNSPEC_FRIM))]\n   \"TARGET_FPRND && TARGET_HARD_FLOAT && TARGET_FPRS\"\n-  \"frims %0,%1\"\n+  \"frim %0,%1\"\n   [(set_attr \"type\" \"fp\")])\n \n (define_insn \"rounddf2\"\n@@ -5374,7 +5374,7 @@\n   [(set (match_operand:SF 0 \"gpc_reg_operand\" \"=f\")\n \t(unspec:SF [(match_operand:SF 1 \"gpc_reg_operand\" \"f\")] UNSPEC_FRIN))]\n   \"TARGET_FPRND && TARGET_HARD_FLOAT && TARGET_FPRS\"\n-  \"frins %0,%1\"\n+  \"frin %0,%1\"\n   [(set_attr \"type\" \"fp\")])\n \n ; An UNSPEC is used so we don't have to support SImode in FP registers."}]}