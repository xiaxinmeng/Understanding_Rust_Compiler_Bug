{"sha": "870a5b8a905c9beb84ba07dd3dc5297bd00b47cf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODcwYTViOGE5MDVjOWJlYjg0YmEwN2RkM2RjNTI5N2JkMDBiNDdjZg==", "commit": {"author": {"name": "Alexandre Petit-Bianco", "email": "apbianco@redhat.com", "date": "2001-09-22T05:03:35Z"}, "committer": {"name": "Alexandre Petit-Bianco", "email": "apbianco@gcc.gnu.org", "date": "2001-09-22T05:03:35Z"}, "message": "re PR java/4366 (java class initialization bug)\n\n2001-09-20  Alexandre Petit-Bianco  <apbianco@redhat.com>\n\n\t* parse.y (patch_method_invocation): Build class initialization\n\twhen static finals are used to qualify method invocation.\n\tFixes PR java/4366.\n\n( http://gcc.gnu.org/ml/gcc-patches/2001-09/msg00880.html )\n\nFrom-SVN: r45743", "tree": {"sha": "ce02214a3f412baa56820b7257afbab217b7a5f3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ce02214a3f412baa56820b7257afbab217b7a5f3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/870a5b8a905c9beb84ba07dd3dc5297bd00b47cf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/870a5b8a905c9beb84ba07dd3dc5297bd00b47cf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/870a5b8a905c9beb84ba07dd3dc5297bd00b47cf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/870a5b8a905c9beb84ba07dd3dc5297bd00b47cf/comments", "author": null, "committer": null, "parents": [{"sha": "e5eac8efac636afeb0bef8df817cd7d8b54445f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5eac8efac636afeb0bef8df817cd7d8b54445f4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e5eac8efac636afeb0bef8df817cd7d8b54445f4"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "837900855cec3d34bbe9ff5bcd0133b1ccd3f880", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/870a5b8a905c9beb84ba07dd3dc5297bd00b47cf/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/870a5b8a905c9beb84ba07dd3dc5297bd00b47cf/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=870a5b8a905c9beb84ba07dd3dc5297bd00b47cf", "patch": "@@ -4,6 +4,12 @@\n \t(build_dtable_decl): Likewise.\n \t* expr.c (build_invokevirtual): Likewise.\n \n+2001-09-20  Alexandre Petit-Bianco  <apbianco@redhat.com>\n+\n+\t* parse.y (patch_method_invocation): Build class initialization\n+\twhen static finals are used to qualify method invocation.\n+\tFixes PR java/4366.\n+\n 2001-09-19  Alexandre Petit-Bianco  <apbianco@redhat.com>\n \n \t* parse.h: (WFL_STRIP_BRACKET): Re-written using"}, {"sha": "9a0656a3e628950bd15c8868343f7329a26684ea", "filename": "gcc/java/parse.y", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/870a5b8a905c9beb84ba07dd3dc5297bd00b47cf/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/870a5b8a905c9beb84ba07dd3dc5297bd00b47cf/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=870a5b8a905c9beb84ba07dd3dc5297bd00b47cf", "patch": "@@ -10096,6 +10096,12 @@ patch_method_invocation (patch, primary, where, from_super,\n       qualify_ambiguous_name (wfl);\n       resolved = resolve_field_access (wfl, NULL, NULL);\n \n+      if (TREE_CODE (resolved) == VAR_DECL && FIELD_STATIC (resolved)\n+         && FIELD_FINAL (resolved) \n+         && !inherits_from_p (DECL_CONTEXT (resolved), current_class)\n+         && !flag_emit_class_files && !flag_emit_xref)\n+       resolved = build_class_init (DECL_CONTEXT (resolved), resolved);\n+\n       if (resolved == error_mark_node)\n \tPATCH_METHOD_RETURN_ERROR ();\n "}]}