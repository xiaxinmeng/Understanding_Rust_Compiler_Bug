{"sha": "45ed58a81f8f391e20bafd289f62da8b494b8c79", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDVlZDU4YTgxZjhmMzkxZTIwYmFmZDI4OWY2MmRhOGI0OTRiOGM3OQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2009-12-17T11:09:05Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2009-12-17T11:09:05Z"}, "message": "re PR libstdc++/42198 ([C++0x] Using std::thread without -pthread causes immediate crash)\n\n2009-12-17  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR libstdc++/42198\n\t* src/thread.cc (thread::_M_start_thread): Throw system_error\n\timmediately if the thread system is inactive.\n\nFrom-SVN: r155308", "tree": {"sha": "ee676cacfbbfecabc6570e5b31cd51212b1c1355", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ee676cacfbbfecabc6570e5b31cd51212b1c1355"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/45ed58a81f8f391e20bafd289f62da8b494b8c79", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/45ed58a81f8f391e20bafd289f62da8b494b8c79", "html_url": "https://github.com/Rust-GCC/gccrs/commit/45ed58a81f8f391e20bafd289f62da8b494b8c79", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/45ed58a81f8f391e20bafd289f62da8b494b8c79/comments", "author": null, "committer": null, "parents": [{"sha": "19c006ff7f5595d57b9021c262450c75583ddad9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19c006ff7f5595d57b9021c262450c75583ddad9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/19c006ff7f5595d57b9021c262450c75583ddad9"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "05b0c1ec89eb4535aba277c29a79fb83aa6f25a9", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45ed58a81f8f391e20bafd289f62da8b494b8c79/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45ed58a81f8f391e20bafd289f62da8b494b8c79/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=45ed58a81f8f391e20bafd289f62da8b494b8c79", "patch": "@@ -1,3 +1,9 @@\n+2009-12-17  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR libstdc++/42198\n+\t* src/thread.cc (thread::_M_start_thread): Throw system_error\n+\timmediately if the thread system is inactive.\n+\n 2009-12-16  Benjamin Kosnik  <bkoz@redhat.com>\n \n \tPR libstdc++/21772 part 2"}, {"sha": "879e864edd4bfbe459d2150eec77057f3722c8b5", "filename": "libstdc++-v3/src/thread.cc", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45ed58a81f8f391e20bafd289f62da8b494b8c79/libstdc%2B%2B-v3%2Fsrc%2Fthread.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45ed58a81f8f391e20bafd289f62da8b494b8c79/libstdc%2B%2B-v3%2Fsrc%2Fthread.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2Fthread.cc?ref=45ed58a81f8f391e20bafd289f62da8b494b8c79", "patch": "@@ -83,6 +83,9 @@ namespace std\n   void\n   thread::_M_start_thread(__shared_base_type __b)\n   {\n+    if (!__gthread_active_p())\n+      __throw_system_error(int(errc::operation_not_permitted));\n+\n     __b->_M_this_ptr = __b;\n     int __e = __gthread_create(&_M_id._M_thread,\n \t\t\t       &execute_native_thread_routine, __b.get());"}]}