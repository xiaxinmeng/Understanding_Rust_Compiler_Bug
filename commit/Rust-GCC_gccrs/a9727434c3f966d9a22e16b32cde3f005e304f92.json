{"sha": "a9727434c3f966d9a22e16b32cde3f005e304f92", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTk3Mjc0MzRjM2Y5NjZkOWEyMmUxNmIzMmNkZTNmMDA1ZTMwNGY5Mg==", "commit": {"author": {"name": "Fabien Ch\u00eane", "email": "fabien@gcc.gnu.org", "date": "2011-12-05T22:04:40Z"}, "committer": {"name": "Fabien Ch\u00eane", "email": "fabien@gcc.gnu.org", "date": "2011-12-05T22:04:40Z"}, "message": "re PR c++/51319 (Eigen3 enums not accepted)\n\ngcc/testsuite/ChangeLog\n\n2011-12-05  Fabien Chene  <fabien@gcc.gnu.org>\n\n\tPR c++/51319\n\t* g++.dg/lookup/using50.C: New.\n\t* g++.dg/lookup/using51.C: New.\n\ngcc/cp/ChangeLog\n\n2011-12-05  Fabien Chene  <fabien@gcc.gnu.org>\n\n\tPR c++/51319\n\t* semantics.c (finish_id_expression): Strip using declarations\n\tearly in the function.\n\nFrom-SVN: r182029", "tree": {"sha": "2d3527a5b38e2c5f40bce11ac0febc39cf39c7fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2d3527a5b38e2c5f40bce11ac0febc39cf39c7fc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a9727434c3f966d9a22e16b32cde3f005e304f92", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a9727434c3f966d9a22e16b32cde3f005e304f92", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a9727434c3f966d9a22e16b32cde3f005e304f92", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a9727434c3f966d9a22e16b32cde3f005e304f92/comments", "author": null, "committer": null, "parents": [{"sha": "0fb808ea7a0f30531e9a1495b9aafa5267c2f0b5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0fb808ea7a0f30531e9a1495b9aafa5267c2f0b5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0fb808ea7a0f30531e9a1495b9aafa5267c2f0b5"}], "stats": {"total": 40, "additions": 40, "deletions": 0}, "files": [{"sha": "9a1043a1a9b69c03484938656b2221c4a4cf7c74", "filename": "gcc/cp/semantics.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9727434c3f966d9a22e16b32cde3f005e304f92/gcc%2Fcp%2Fsemantics.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9727434c3f966d9a22e16b32cde3f005e304f92/gcc%2Fcp%2Fsemantics.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fsemantics.c?ref=a9727434c3f966d9a22e16b32cde3f005e304f92", "patch": "@@ -2893,6 +2893,8 @@ finish_id_expression (tree id_expression,\n \t\t      const char **error_msg,\n \t\t      location_t location)\n {\n+  decl = strip_using_decl (decl);\n+\n   /* Initialize the output parameters.  */\n   *idk = CP_ID_KIND_NONE;\n   *error_msg = NULL;"}, {"sha": "12709b770b77ed08d2b7d2a772aa06f4e1620bbf", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9727434c3f966d9a22e16b32cde3f005e304f92/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9727434c3f966d9a22e16b32cde3f005e304f92/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a9727434c3f966d9a22e16b32cde3f005e304f92", "patch": "@@ -1,3 +1,9 @@\n+2011-12-05  Fabien Ch\u00eane  <fabien@gcc.gnu.org>\n+\n+\tPR c++/51319\n+\t* g++.dg/lookup/using50.C: New.\n+\t* g++.dg/lookup/using51.C: New.\n+\n 2011-12-05  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/51396"}, {"sha": "d525a472b6109c6f6c34ca7bb7f761f9392939c1", "filename": "gcc/testsuite/g++.dg/lookup/using50.C", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9727434c3f966d9a22e16b32cde3f005e304f92/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flookup%2Fusing50.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9727434c3f966d9a22e16b32cde3f005e304f92/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flookup%2Fusing50.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flookup%2Fusing50.C?ref=a9727434c3f966d9a22e16b32cde3f005e304f92", "patch": "@@ -0,0 +1,15 @@\n+// PR c++/51319\n+// { dg-do compile }\n+\n+template<int> struct X {};\n+\n+struct Base \n+{\n+    enum { a = 1 };\n+};\n+\n+struct Der : Base \n+{\n+    using Base::a;\n+    typedef X<(int)a> Y;\n+};"}, {"sha": "8438f7f2cc80fd130466aeeda04565996867ce85", "filename": "gcc/testsuite/g++.dg/lookup/using51.C", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9727434c3f966d9a22e16b32cde3f005e304f92/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flookup%2Fusing51.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9727434c3f966d9a22e16b32cde3f005e304f92/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flookup%2Fusing51.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flookup%2Fusing51.C?ref=a9727434c3f966d9a22e16b32cde3f005e304f92", "patch": "@@ -0,0 +1,17 @@\n+// PR c++/51382\n+// { dg-do compile }\n+\n+template< int Value >\n+struct Base\n+{\n+   enum { b_e = Value };\n+};\n+\n+template< typename Type >\n+struct Derived : Type\n+{\n+   Type::b_e;\n+   enum { d_e = b_e };\n+};\n+\n+int v = (int)Derived< Base< 3 > >::d_e;"}]}