{"sha": "5f40cc2da4ba2f44be72bd35a03c3270061472e9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWY0MGNjMmRhNGJhMmY0NGJlNzJiZDM1YTAzYzMyNzAwNjE0NzJlOQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-05-27T17:32:13Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-05-27T17:32:13Z"}, "message": "(reload_as_needed): Update spill_reg_order once we sort spill_regs.\n\nFrom-SVN: r7362", "tree": {"sha": "805b2d384e9951615522164e3b30e8d87a226724", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/805b2d384e9951615522164e3b30e8d87a226724"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5f40cc2da4ba2f44be72bd35a03c3270061472e9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f40cc2da4ba2f44be72bd35a03c3270061472e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f40cc2da4ba2f44be72bd35a03c3270061472e9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f40cc2da4ba2f44be72bd35a03c3270061472e9/comments", "author": null, "committer": null, "parents": [{"sha": "fc0e5bd00e5a1f8573937fddf850d03e7d78d31c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fc0e5bd00e5a1f8573937fddf850d03e7d78d31c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fc0e5bd00e5a1f8573937fddf850d03e7d78d31c"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "0b355b548bcb999c6bafbeb969bba7207fdb5752", "filename": "gcc/reload1.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f40cc2da4ba2f44be72bd35a03c3270061472e9/gcc%2Freload1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f40cc2da4ba2f44be72bd35a03c3270061472e9/gcc%2Freload1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload1.c?ref=5f40cc2da4ba2f44be72bd35a03c3270061472e9", "patch": "@@ -3647,7 +3647,11 @@ reload_as_needed (first, live_known)\n   /* Order the spilled regs, so that allocate_reload_regs can guarantee to\n      pack registers with group needs.  */\n   if (n_spills > 1)\n-    qsort (spill_regs, n_spills, sizeof (short), compare_spill_regs);\n+    {\n+      qsort (spill_regs, n_spills, sizeof (short), compare_spill_regs);\n+      for (i = 0; i < n_spills; i++)\n+\tspill_reg_order[spill_regs[i]] = i;\n+    }\n \n   for (insn = first; insn;)\n     {"}]}