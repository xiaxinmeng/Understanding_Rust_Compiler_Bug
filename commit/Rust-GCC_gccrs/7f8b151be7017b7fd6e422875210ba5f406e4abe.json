{"sha": "7f8b151be7017b7fd6e422875210ba5f406e4abe", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2Y4YjE1MWJlNzAxN2I3ZmQ2ZTQyMjg3NTIxMGJhNWY0MDZlNGFiZQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2005-03-07T20:16:25Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2005-03-07T20:16:25Z"}, "message": "gcj.texi (Invoking gcj-dbtool): Document '-f'.\n\ngcc/java:\n\t* gcj.texi (Invoking gcj-dbtool): Document '-f'.\nlibjava:\n\t* gnu/gcj/tools/gcj_dbtool/Main.java (main): Recognize '-f'.\n\t(usage): Document '-f'.\n\nFrom-SVN: r96041", "tree": {"sha": "2ec4abec89652053f890da26b60bf7b63d1158b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2ec4abec89652053f890da26b60bf7b63d1158b9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7f8b151be7017b7fd6e422875210ba5f406e4abe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f8b151be7017b7fd6e422875210ba5f406e4abe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7f8b151be7017b7fd6e422875210ba5f406e4abe", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f8b151be7017b7fd6e422875210ba5f406e4abe/comments", "author": null, "committer": null, "parents": [{"sha": "088a1762744ea428d83cd5d91bed0e89103683ba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/088a1762744ea428d83cd5d91bed0e89103683ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/088a1762744ea428d83cd5d91bed0e89103683ba"}], "stats": {"total": 23, "additions": 19, "deletions": 4}, "files": [{"sha": "a03c6605091adae3f71ec747d97732baa8b4a59a", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f8b151be7017b7fd6e422875210ba5f406e4abe/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f8b151be7017b7fd6e422875210ba5f406e4abe/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=7f8b151be7017b7fd6e422875210ba5f406e4abe", "patch": "@@ -1,3 +1,7 @@\n+2005-03-07  Tom Tromey  <tromey@redhat.com>\n+\n+\t* gcj.texi (Invoking gcj-dbtool): Document '-f'.\n+\n 2005-03-06  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* jcf-dump.c, jcf-io.c, jcf-reader.c, lang.c, parse.h,"}, {"sha": "227c230b9d7ccc3e3a95d647f32b7aea076d64c8", "filename": "gcc/java/gcj.texi", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f8b151be7017b7fd6e422875210ba5f406e4abe/gcc%2Fjava%2Fgcj.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f8b151be7017b7fd6e422875210ba5f406e4abe/gcc%2Fjava%2Fgcj.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fgcj.texi?ref=7f8b151be7017b7fd6e422875210ba5f406e4abe", "patch": "@@ -990,7 +990,8 @@ Each time a class is initialized, print a short message on standard error.\n @c man begin SYNOPSIS gcj-dbtool\n gcj-dbtool @option{OPTION} @var{DBFILE} [@option{MORE}] @dots{}\n \n-gcj-dbtool [@option{-n}] [@option{-a}] [@option{-t}] [@option{-l}]\n+gcj-dbtool [@option{-n}] [@option{-a}] [@option{-f}]\n+  [@option{-t}] [@option{-l}]\n   [@option{-v}] [@option{--version}] [@option{--help}]\n \n @c man end\n@@ -1027,11 +1028,14 @@ you can choose a larger initial size if desired.  The default size is\n 32,749.\n \n @item -a @var{DBFILE} @var{JARFILE} @var{LIB}\n+@itemx -f @var{DBFILE} @var{JARFILE} @var{LIB}\n This adds a jar file to the database.  For each class file in the jar,\n a cryptographic signature of the bytecode representation of the class\n is recorded in the database.  At runtime, a class is looked up by its\n signature and the compiled form of the class is looked for in the\n-corresponding shared library.\n+corresponding shared library.  The @option{-a} option will verify\n+that @var{LIB} exists before adding it to the database; @option{-f}\n+skips this check.\n \n @item -t @var{DBFILE}\n Test a database."}, {"sha": "941ef2c1e737aa9eaeedc0b587c291145a1ef41a", "filename": "libjava/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f8b151be7017b7fd6e422875210ba5f406e4abe/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f8b151be7017b7fd6e422875210ba5f406e4abe/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=7f8b151be7017b7fd6e422875210ba5f406e4abe", "patch": "@@ -1,3 +1,8 @@\n+2005-03-07  Tom Tromey  <tromey@redhat.com>\n+\n+\t* gnu/gcj/tools/gcj_dbtool/Main.java (main): Recognize '-f'.\n+\t(usage): Document '-f'.\n+\n 2005-03-07  Tom Tromey  <tromey@redhat.com>\n \n \t* java/lang/VMCompiler.java (md5Digest): New field."}, {"sha": "c918ad893f20c048033b40dd05019affa77806d6", "filename": "libjava/gnu/gcj/tools/gcj_dbtool/Main.java", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f8b151be7017b7fd6e422875210ba5f406e4abe/libjava%2Fgnu%2Fgcj%2Ftools%2Fgcj_dbtool%2FMain.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f8b151be7017b7fd6e422875210ba5f406e4abe/libjava%2Fgnu%2Fgcj%2Ftools%2Fgcj_dbtool%2FMain.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fgcj%2Ftools%2Fgcj_dbtool%2FMain.java?ref=7f8b151be7017b7fd6e422875210ba5f406e4abe", "patch": "@@ -75,7 +75,7 @@ public static void main (String[] s)\n \treturn;\n       }\n \n-    if (s[0].equals(\"-a\"))\n+    if (s[0].equals(\"-a\") || s[0].equals(\"-f\"))\n       {\n \t// Add a jar file to a database, creating it if necessary.\n \t// Copies the database, adds the jar file to the copy, and\n@@ -94,7 +94,7 @@ public static void main (String[] s)\n \t      map = PersistentByteMap.emptyPersistentByteMap(database, \n \t\t\t\t\t\t\t     100, 100*32);\n \t    File soFile = new File(s[3]);\n-\t    if (! soFile.isFile())\n+\t    if (! s[0].equals(\"-f\") && ! soFile.isFile())\n \t      throw new IllegalArgumentException(s[3] + \" is not a file\");\n  \t    map = addJar(jar, map, soFile);\n \t  }\n@@ -279,6 +279,8 @@ private static void usage(PrintStream out)\n        + \"    gcj-dbtool -n file.gcjdb [size]     - Create a new gcj map database\\n\"\n        + \"    gcj-dbtool -a file.gcjdb file.jar file.so\\n\"\n        + \"            - Add the contents of file.jar to a new gcj map database\\n\"\n+       + \"    gcj-dbtool -f file.gcjdb file.jar file.so\\n\"\n+       + \"            - Add the contents of file.jar to a new gcj map database\\n\"\n        + \"    gcj-dbtool -t file.gcjdb            - Test a gcj map database\\n\"\n        + \"    gcj-dbtool -l file.gcjdb            - List a gcj map database\\n\"\n        + \"    gcj-dbtool -m dest.gcjdb [source.gcjdb]...\\n\""}]}