{"sha": "7c7e841806aecf4187c69fc2ff07813c7be09582", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2M3ZTg0MTgwNmFlY2Y0MTg3YzY5ZmMyZmYwNzgxM2M3YmUwOTU4Mg==", "commit": {"author": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2020-10-07T13:59:10Z"}, "committer": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2020-10-07T13:59:10Z"}, "message": "This patch fixes PR47469 - a trivial bit of tidying up.\n\n2020-07-10  Paul Thomas  <pault@gcc.gnu.org>\n\ngcc/fortran\n\tPR fortran/47469\n\t* trans-expr.c (arrayfunc_assign_needs_temporary): Tidy detection\n\tof pointer and allocatable functions.", "tree": {"sha": "a12073cd20d36b50c0d5fad3433ed88e81e415e1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a12073cd20d36b50c0d5fad3433ed88e81e415e1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7c7e841806aecf4187c69fc2ff07813c7be09582", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c7e841806aecf4187c69fc2ff07813c7be09582", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c7e841806aecf4187c69fc2ff07813c7be09582", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c7e841806aecf4187c69fc2ff07813c7be09582/comments", "author": null, "committer": null, "parents": [{"sha": "2f7c50b7091c09d665aaf27173aacf34c9904e4c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f7c50b7091c09d665aaf27173aacf34c9904e4c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2f7c50b7091c09d665aaf27173aacf34c9904e4c"}], "stats": {"total": 8, "additions": 2, "deletions": 6}, "files": [{"sha": "2167de455b881be297a95f34a719d7a0912f4738", "filename": "gcc/fortran/trans-expr.c", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c7e841806aecf4187c69fc2ff07813c7be09582/gcc%2Ffortran%2Ftrans-expr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c7e841806aecf4187c69fc2ff07813c7be09582/gcc%2Ffortran%2Ftrans-expr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-expr.c?ref=7c7e841806aecf4187c69fc2ff07813c7be09582", "patch": "@@ -9810,12 +9810,8 @@ arrayfunc_assign_needs_temporary (gfc_expr * expr1, gfc_expr * expr2)\n     return true;\n \n   /* Functions returning pointers or allocatables need temporaries.  */\n-  c = expr2->value.function.esym\n-      ? (expr2->value.function.esym->attr.pointer\n-\t || expr2->value.function.esym->attr.allocatable)\n-      : (expr2->symtree->n.sym->attr.pointer\n-\t || expr2->symtree->n.sym->attr.allocatable);\n-  if (c)\n+  if (gfc_expr_attr (expr2).pointer\n+      || gfc_expr_attr (expr2).allocatable)\n     return true;\n \n   /* Character array functions need temporaries unless the"}]}