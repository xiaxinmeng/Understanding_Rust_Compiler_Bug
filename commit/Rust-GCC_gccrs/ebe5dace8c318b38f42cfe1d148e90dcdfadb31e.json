{"sha": "ebe5dace8c318b38f42cfe1d148e90dcdfadb31e", "node_id": "C_kwDOANBUbNoAKGViZTVkYWNlOGMzMThiMzhmNDJjZmUxZDE0OGU5MGRjZGZhZGIzMWU", "commit": {"author": {"name": "Tobias Burnus", "email": "tobias@codesourcery.com", "date": "2022-05-17T13:48:40Z"}, "committer": {"name": "Tobias Burnus", "email": "tobias@codesourcery.com", "date": "2022-05-17T13:54:23Z"}, "message": "gcn/t-omp-device: Add 'amdgcn' as 'arch' [PR105602]\n\nImprove cross-compiler handling.\n\ngcc/ChangeLog:\n\n\tPR target/105602\n\t* config/gcn/t-omp-device (arch): Add 'amdgcn' besides existing 'gcn'.\n\t* config/gcn/gcn.cc (gcn_omp_device_kind_arch_isa): Likewise.", "tree": {"sha": "413505e4392c9a976cd3ae4399a63a685ff819c0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/413505e4392c9a976cd3ae4399a63a685ff819c0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ebe5dace8c318b38f42cfe1d148e90dcdfadb31e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ebe5dace8c318b38f42cfe1d148e90dcdfadb31e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ebe5dace8c318b38f42cfe1d148e90dcdfadb31e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ebe5dace8c318b38f42cfe1d148e90dcdfadb31e/comments", "author": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2c16eb3157f86ae561468c540caf8eb326106b5f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c16eb3157f86ae561468c540caf8eb326106b5f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c16eb3157f86ae561468c540caf8eb326106b5f"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "76b27c49d76ba07d94ec3914cadd866b386ea518", "filename": "gcc/config/gcn/gcn.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ebe5dace8c318b38f42cfe1d148e90dcdfadb31e/gcc%2Fconfig%2Fgcn%2Fgcn.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ebe5dace8c318b38f42cfe1d148e90dcdfadb31e/gcc%2Fconfig%2Fgcn%2Fgcn.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fgcn%2Fgcn.cc?ref=ebe5dace8c318b38f42cfe1d148e90dcdfadb31e", "patch": "@@ -2632,7 +2632,7 @@ gcn_omp_device_kind_arch_isa (enum omp_device_kind_arch_isa trait,\n     case omp_device_kind:\n       return strcmp (name, \"gpu\") == 0;\n     case omp_device_arch:\n-      return strcmp (name, \"gcn\") == 0;\n+      return strcmp (name, \"amdgcn\") == 0 || strcmp (name, \"gcn\") == 0;\n     case omp_device_isa:\n       if (strcmp (name, \"fiji\") == 0)\n \treturn gcn_arch == PROCESSOR_FIJI;"}, {"sha": "e1d9e0d2a1e8d0b1bd311cf72092027d47732c52", "filename": "gcc/config/gcn/t-omp-device", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ebe5dace8c318b38f42cfe1d148e90dcdfadb31e/gcc%2Fconfig%2Fgcn%2Ft-omp-device", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ebe5dace8c318b38f42cfe1d148e90dcdfadb31e/gcc%2Fconfig%2Fgcn%2Ft-omp-device", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fgcn%2Ft-omp-device?ref=ebe5dace8c318b38f42cfe1d148e90dcdfadb31e", "patch": "@@ -1,4 +1,4 @@\n omp-device-properties-gcn: $(srcdir)/config/gcn/gcn.cc\n \techo kind: gpu > $@\n-\techo arch: gcn >> $@\n+\techo arch: amdgcn gcn >> $@\n \techo isa: fiji gfx900 gfx906 gfx908 >> $@"}]}