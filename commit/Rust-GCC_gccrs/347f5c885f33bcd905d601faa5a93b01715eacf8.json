{"sha": "347f5c885f33bcd905d601faa5a93b01715eacf8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzQ3ZjVjODg1ZjMzYmNkOTA1ZDYwMWZhYTVhOTNiMDE3MTVlYWNmOA==", "commit": {"author": {"name": "Iain Buclaw", "email": "ibuclaw@gcc.gnu.org", "date": "2019-06-16T07:47:46Z"}, "committer": {"name": "Iain Buclaw", "email": "ibuclaw@gcc.gnu.org", "date": "2019-06-16T07:47:46Z"}, "message": "re PR d/90651 (ICE in FuncDeclaration::semantic3, at d/dmd/func.c:1524)\n\n\tPR d/90651\nd/dmd: Merge upstream dmd 78dc31152\n\nFixes bug where the object module was not always implicitly imported.\n\nReviewed-on: https://github.com/dlang/dmd/pull/9999\n\nFrom-SVN: r272340", "tree": {"sha": "6760a7d898787cef46c9f38a1b72f72f71202000", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6760a7d898787cef46c9f38a1b72f72f71202000"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/347f5c885f33bcd905d601faa5a93b01715eacf8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/347f5c885f33bcd905d601faa5a93b01715eacf8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/347f5c885f33bcd905d601faa5a93b01715eacf8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/347f5c885f33bcd905d601faa5a93b01715eacf8/comments", "author": null, "committer": null, "parents": [{"sha": "e62b9f8e0881f96c5555b18527041aef4e94a3d1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e62b9f8e0881f96c5555b18527041aef4e94a3d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e62b9f8e0881f96c5555b18527041aef4e94a3d1"}], "stats": {"total": 53, "additions": 51, "deletions": 2}, "files": [{"sha": "e100264fed851328c69b44bc4b4c56b66c2399e6", "filename": "gcc/d/dmd/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/347f5c885f33bcd905d601faa5a93b01715eacf8/gcc%2Fd%2Fdmd%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/347f5c885f33bcd905d601faa5a93b01715eacf8/gcc%2Fd%2Fdmd%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fd%2Fdmd%2FMERGE?ref=347f5c885f33bcd905d601faa5a93b01715eacf8", "patch": "@@ -1,4 +1,4 @@\n-bbc5ea66ab41ebd14abd9a0fbb9ca6ef6b2dcb14\n+78dc311524341a76008b341ff6427e5a16e285db\n \n The first line of this file holds the git revision number of the last\n merge done from the dlang/dmd repository."}, {"sha": "bf1c0c1f0d901aa1d0ec4835f342a2e5f5b061db", "filename": "gcc/d/dmd/dmodule.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/347f5c885f33bcd905d601faa5a93b01715eacf8/gcc%2Fd%2Fdmd%2Fdmodule.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/347f5c885f33bcd905d601faa5a93b01715eacf8/gcc%2Fd%2Fdmd%2Fdmodule.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fd%2Fdmd%2Fdmodule.c?ref=347f5c885f33bcd905d601faa5a93b01715eacf8", "patch": "@@ -679,7 +679,8 @@ void Module::importAll(Scope *)\n     // If it isn't there, some compiler rewrites, like\n     //    classinst == classinst -> .object.opEquals(classinst, classinst)\n     // would fail inside object.d.\n-    if (members->dim == 0 || ((*members)[0])->ident != Id::object)\n+    if (members->dim == 0 || ((*members)[0])->ident != Id::object ||\n+        (*members)[0]->isImport() == NULL)\n     {\n         Import *im = new Import(Loc(), NULL, Id::object, NULL, 0);\n         members->shift(im);"}, {"sha": "7a6bc9eb0634e1db8b6710b70cc41b235993bcf0", "filename": "gcc/testsuite/gdc.test/compilable/test19912.d", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/347f5c885f33bcd905d601faa5a93b01715eacf8/gcc%2Ftestsuite%2Fgdc.test%2Fcompilable%2Ftest19912.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/347f5c885f33bcd905d601faa5a93b01715eacf8/gcc%2Ftestsuite%2Fgdc.test%2Fcompilable%2Ftest19912.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgdc.test%2Fcompilable%2Ftest19912.d?ref=347f5c885f33bcd905d601faa5a93b01715eacf8", "patch": "@@ -0,0 +1,3 @@\n+// PERMUTE_ARGS:\n+import object;\n+void fun(string) { }"}, {"sha": "47d3cf2e5bcdbb21914d7b0b62afcfb72ef4bcef", "filename": "gcc/testsuite/gdc.test/fail_compilation/fail19912a.d", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/347f5c885f33bcd905d601faa5a93b01715eacf8/gcc%2Ftestsuite%2Fgdc.test%2Ffail_compilation%2Ffail19912a.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/347f5c885f33bcd905d601faa5a93b01715eacf8/gcc%2Ftestsuite%2Fgdc.test%2Ffail_compilation%2Ffail19912a.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgdc.test%2Ffail_compilation%2Ffail19912a.d?ref=347f5c885f33bcd905d601faa5a93b01715eacf8", "patch": "@@ -0,0 +1,9 @@\n+// PERMUTE_ARGS:\n+/*\n+TEST_OUTPUT:\n+---\n+fail_compilation/fail19912a.d(8): Error: struct `fail19912a.object` conflicts with import `fail19912a.object` at fail_compilation/fail19912a.d\n+---\n+*/\n+struct object { }\n+void fun(string) { }"}, {"sha": "b3bd56dde4676e1731835e7ea3f952dd0a0850af", "filename": "gcc/testsuite/gdc.test/fail_compilation/fail19912b.d", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/347f5c885f33bcd905d601faa5a93b01715eacf8/gcc%2Ftestsuite%2Fgdc.test%2Ffail_compilation%2Ffail19912b.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/347f5c885f33bcd905d601faa5a93b01715eacf8/gcc%2Ftestsuite%2Fgdc.test%2Ffail_compilation%2Ffail19912b.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgdc.test%2Ffail_compilation%2Ffail19912b.d?ref=347f5c885f33bcd905d601faa5a93b01715eacf8", "patch": "@@ -0,0 +1,9 @@\n+// PERMUTE_ARGS:\n+/*\n+TEST_OUTPUT:\n+---\n+fail_compilation/fail19912b.d(8): Error: class `fail19912b.object` conflicts with import `fail19912b.object` at fail_compilation/fail19912b.d\n+---\n+*/\n+class object { }\n+void fun(string) { }"}, {"sha": "a4656cc856b4495a15a6004dd37b14c3c94fea6e", "filename": "gcc/testsuite/gdc.test/fail_compilation/fail19912c.d", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/347f5c885f33bcd905d601faa5a93b01715eacf8/gcc%2Ftestsuite%2Fgdc.test%2Ffail_compilation%2Ffail19912c.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/347f5c885f33bcd905d601faa5a93b01715eacf8/gcc%2Ftestsuite%2Fgdc.test%2Ffail_compilation%2Ffail19912c.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgdc.test%2Ffail_compilation%2Ffail19912c.d?ref=347f5c885f33bcd905d601faa5a93b01715eacf8", "patch": "@@ -0,0 +1,9 @@\n+// PERMUTE_ARGS:\n+/*\n+TEST_OUTPUT:\n+---\n+fail_compilation/fail19912c.d(8): Error: alias `fail19912c.object` conflicts with import `fail19912c.object` at fail_compilation/fail19912c.d\n+---\n+*/\n+alias object = int;\n+void fun(string) { }"}, {"sha": "fdc8dcb9244fb3a9afa6248e54ab277535e60aad", "filename": "gcc/testsuite/gdc.test/fail_compilation/fail19912d.d", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/347f5c885f33bcd905d601faa5a93b01715eacf8/gcc%2Ftestsuite%2Fgdc.test%2Ffail_compilation%2Ffail19912d.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/347f5c885f33bcd905d601faa5a93b01715eacf8/gcc%2Ftestsuite%2Fgdc.test%2Ffail_compilation%2Ffail19912d.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgdc.test%2Ffail_compilation%2Ffail19912d.d?ref=347f5c885f33bcd905d601faa5a93b01715eacf8", "patch": "@@ -0,0 +1,9 @@\n+// PERMUTE_ARGS:\n+/*\n+TEST_OUTPUT:\n+---\n+fail_compilation/fail19912d.d(8): Error: enum `fail19912d.object` conflicts with import `fail19912d.object` at fail_compilation/fail19912d.d\n+---\n+*/\n+enum object { }\n+void fun(string) { }"}, {"sha": "19cc9a619d1e7f87d902eb7082886ef2774f231e", "filename": "gcc/testsuite/gdc.test/fail_compilation/fail19912e.d", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/347f5c885f33bcd905d601faa5a93b01715eacf8/gcc%2Ftestsuite%2Fgdc.test%2Ffail_compilation%2Ffail19912e.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/347f5c885f33bcd905d601faa5a93b01715eacf8/gcc%2Ftestsuite%2Fgdc.test%2Ffail_compilation%2Ffail19912e.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgdc.test%2Ffail_compilation%2Ffail19912e.d?ref=347f5c885f33bcd905d601faa5a93b01715eacf8", "patch": "@@ -0,0 +1,9 @@\n+// PERMUTE_ARGS:\n+/*\n+TEST_OUTPUT:\n+---\n+fail_compilation/fail19912e.d(8): Error: function `fail19912e.object` conflicts with import `fail19912e.object` at fail_compilation/fail19912e.d\n+---\n+*/\n+void object() { }\n+void fun(string) { }"}]}