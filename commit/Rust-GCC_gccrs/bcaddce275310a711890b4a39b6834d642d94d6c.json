{"sha": "bcaddce275310a711890b4a39b6834d642d94d6c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmNhZGRjZTI3NTMxMGE3MTE4OTBiNGEzOWI2ODM0ZDY0MmQ5NGQ2Yw==", "commit": {"author": {"name": "Steve Ellcey", "email": "sellcey@imgtec.com", "date": "2015-12-07T20:39:04Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2015-12-07T20:39:04Z"}, "message": "wrap-delay.c: New test.\n\n2015-12-07  Steve Ellcey  <sellcey@imgtec.com>\n\n\t* gcc.target/mips/wrap-delay.c: New test.\n\nFrom-SVN: r231383", "tree": {"sha": "2f3e0384df7d3b4f15916eb1420fe7fa3b8efbcd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2f3e0384df7d3b4f15916eb1420fe7fa3b8efbcd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bcaddce275310a711890b4a39b6834d642d94d6c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bcaddce275310a711890b4a39b6834d642d94d6c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bcaddce275310a711890b4a39b6834d642d94d6c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bcaddce275310a711890b4a39b6834d642d94d6c/comments", "author": null, "committer": null, "parents": [{"sha": "1167d047bce1b342c82f18195247d218942b0262", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1167d047bce1b342c82f18195247d218942b0262", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1167d047bce1b342c82f18195247d218942b0262"}], "stats": {"total": 46, "additions": 46, "deletions": 0}, "files": [{"sha": "9361cee8a70f7d32b4c64b3a9537d7ad08ded259", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bcaddce275310a711890b4a39b6834d642d94d6c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bcaddce275310a711890b4a39b6834d642d94d6c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=bcaddce275310a711890b4a39b6834d642d94d6c", "patch": "@@ -1,3 +1,7 @@\n+2015-12-07  Steve Ellcey  <sellcey@imgtec.com>\n+\n+\t* gcc.target/mips/wrap-delay.c: New test.\n+\n 2015-12-07  Jason Merrill  <jason@redhat.com>\n \n \t* lib/g++.exp: Also find -std list in GXX_TESTSUITE_STDS"}, {"sha": "1332a6841fe992a21a63140f1f0b7fa938560396", "filename": "gcc/testsuite/gcc.target/mips/wrap-delay.c", "status": "added", "additions": 42, "deletions": 0, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bcaddce275310a711890b4a39b6834d642d94d6c/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fwrap-delay.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bcaddce275310a711890b4a39b6834d642d94d6c/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fwrap-delay.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fwrap-delay.c?ref=bcaddce275310a711890b4a39b6834d642d94d6c", "patch": "@@ -0,0 +1,42 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-g -mframe-header-opt -mbranch-likely\" } */\n+\n+/* GCC was generating an ICE with the above options and -Os because\n+   it was putting the save of $31 in two annulled delay slots but\n+   there was only one restore since only one of the two saves could be\n+   executed.  This was correct code but it confused dwarf2cfi and\n+   caused it to ICE when using the -g option.  */\n+\n+\n+enum demangle_component_type\n+{\n+\tDEMANGLE_COMPONENT_TRINARY_ARG2,\n+};\n+struct demangle_component\n+{\n+  enum demangle_component_type type;\n+};\n+struct d_info\n+{\n+  int next_comp;\n+  int num_comps;\n+};\n+struct demangle_component * d_make_empty (struct d_info *di)\n+{\n+  if (di->next_comp >= di->num_comps) return ((void *)0);\n+  ++di->next_comp;\n+}\n+struct demangle_component *d_make_comp (\n+\tstruct d_info *di,\n+\tenum demangle_component_type type,\n+\tstruct demangle_component *left)\n+{\n+  struct demangle_component *p;\n+  switch (type)\n+    {\n+    case DEMANGLE_COMPONENT_TRINARY_ARG2:\n+      if (left == ((void *)0)) return ((void *)0);\n+    }\n+  p = d_make_empty (di);\n+  p->type = type;\n+}"}]}