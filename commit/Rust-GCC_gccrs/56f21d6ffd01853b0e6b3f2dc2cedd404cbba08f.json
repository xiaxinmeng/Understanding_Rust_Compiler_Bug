{"sha": "56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTZmMjFkNmZmZDAxODUzYjBlNmIzZjJkYzJjZWRkNDA0Y2JiYTA4Zg==", "commit": {"author": {"name": "Philippe De Muyter", "email": "phdm@info.ucl.ac.be", "date": "1997-10-01T07:43:22Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-10-01T07:43:22Z"}, "message": "sys_clock_.c: File renamed from system_clock_.c.\n\n        * libU77/sys_clock_.c: File renamed from system_clock_.c.\n        libU77/Makefile.in, Makefile.in : Reference sys_clock_.*, not\n        system_clock_.*.\n        * libU77/dtime_.c (clk_tck): Try also HZ macro.\n        * libU77/access.c (G77_access_0): Check malloc return value against 0,\n        not NULL.\n        libU77/getlog_.c, libU77/ttynam_.c, libU77/chdir_.c: Ditto.\n        libU77/chmod_.c, libU77/rename_.c: Ditto.\n\nFrom-SVN: r15821", "tree": {"sha": "f343790725696c22fa4815011ca44303aff4a056", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f343790725696c22fa4815011ca44303aff4a056"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/comments", "author": null, "committer": null, "parents": [{"sha": "3c8f617e2fbc78f0aad5aa8aa5ca2a90720e8205", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c8f617e2fbc78f0aad5aa8aa5ca2a90720e8205", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3c8f617e2fbc78f0aad5aa8aa5ca2a90720e8205"}], "stats": {"total": 42, "additions": 33, "deletions": 9}, "files": [{"sha": "5523b1e19a96475c4d1d15eaad56166b58af322b", "filename": "gcc/f/runtime/ChangeLog.egcs", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FChangeLog.egcs", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FChangeLog.egcs", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fruntime%2FChangeLog.egcs?ref=56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f", "patch": "@@ -1,3 +1,14 @@\n+Wed Oct  1 01:46:16 1997  Philippe De Muyter  <phdm@info.ucl.ac.be>\n+\n+\t* libU77/sys_clock_.c: File renamed from system_clock_.c.\n+\tlibU77/Makefile.in, Makefile.in : Reference sys_clock_.*, not\n+\tsystem_clock_.*.\n+\t* libU77/dtime_.c (clk_tck): Try also HZ macro.\n+\t* libU77/access.c (G77_access_0): Check malloc return value against 0,\n+\tnot NULL.\n+\tlibU77/getlog_.c, libU77/ttynam_.c, libU77/chdir_.c: Ditto.\n+\tlibU77/chmod_.c, libU77/rename_.c: Ditto.\n+\n 1997-09-19  Dave Love  <d.love@dl.ac.uk>\n \n \t* libU77/dtime_.c (G77_dtime_0): Fix types in HAVE_GETRUSAGE case"}, {"sha": "53275b918e39daffe4184aae78e899a70fefac8d", "filename": "gcc/f/runtime/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fruntime%2FMakefile.in?ref=56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f", "patch": "@@ -131,7 +131,7 @@ UOBJ =  libU77/VersionU.o libU77/gerror_.o libU77/perror_.o libU77/ierrno_.o \\\n \tlibU77/vxtidate_.o libU77/gmtime_.o libU77/fdate_.o libU77/secnds_.o \\\n \tlibU77/bes.o libU77/dbes.o libU77/chdir_.o libU77/chmod_.o \\\n \tlibU77/lnblnk_.o libU77/hostnm_.o libU77/rename_.o libU77/fgetc_.o \\\n-\tlibU77/fputc_.o libU77/umask_.o libU77/system_clock_.o libU77/date_.o \\\n+\tlibU77/fputc_.o libU77/umask_.o libU77/sys_clock_.o libU77/date_.o \\\n \tlibU77/second_.o libU77/flush1_.o libU77/alarm_.o libU77/mclock_.o \\\n \tlibU77/symlnk_.o\n "}, {"sha": "c307bedfa38630858fc5f894809d27719fe4f972", "filename": "gcc/f/runtime/libU77/Makefile.in", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FlibU77%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FlibU77%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fruntime%2FlibU77%2FMakefile.in?ref=56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f", "patch": "@@ -58,7 +58,7 @@ OBJS =  VersionU.o gerror_.o perror_.o ierrno_.o itime_.o time_.o \\\n         vxttime_.o vxtidate_.o gmtime_.o fdate_.o secnds_.o \\\n \tbes.o dbes.o \\\n \tchdir_.o chmod_.o lnblnk_.o hostnm_.o rename_.o fgetc_.o fputc_.o \\\n-        umask_.o system_clock_.o date_.o second_.o flush1_.o mclock_.o \\\n+        umask_.o sys_clock_.o date_.o second_.o flush1_.o mclock_.o \\\n \talarm_.o\n SRCS =  Version.c gerror_.c perror_.c ierrno_.c itime_.c time_.c \\\n \tunlink_.c fnum_.c getpid_.c getuid_.c getgid_.c kill_.c rand_.c \\\n@@ -68,7 +68,7 @@ SRCS =  Version.c gerror_.c perror_.c ierrno_.c itime_.c time_.c \\\n         vxttime_.c vxtidate_.c gmtime_.c fdate_.c secnds_.c \\\n \tbes.c dbes.c \\\n \tchdir_.c chmod_.c lnblnk_.c hostnm_.c rename_.c fgetc_.c fputc_.c \\\n-\tumask_.c system_clock_.c date_.c second_.c flush1_.c mclock_.c \\\n+\tumask_.c sys_clock_.c date_.c second_.c flush1_.c mclock_.c \\\n \talarm_.c\n \n F2C_H = ../../../include/f2c.h\n@@ -146,7 +146,7 @@ hostnm_.o: hostnm_.c\n rename_.o: rename_.c\n fputc_.o: fputc_.c\n fgetc_.o: fgetc_.c\n-system_clock_.o: system_clock_.c\n+sys_clock_.o: sys_clock_.c\n umask_.o: umask_.c\n flush1_.o: flush1_.c\n mclock_.o: mclock_.c"}, {"sha": "fefdebb0d8dcb87b7df2b8ed4abc93930b5c10f6", "filename": "gcc/f/runtime/libU77/access_.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FlibU77%2Faccess_.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FlibU77%2Faccess_.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fruntime%2FlibU77%2Faccess_.c?ref=56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f", "patch": "@@ -25,7 +25,7 @@ Boston, MA 02111-1307, USA.  */\n #if HAVE_STDLIB_H\n #  include <stdlib.h>\n #else\n-#  include <stdio.h>\t\t/* for NULL */\n+#  include <stdio.h>\n #endif\n \n #include <errno.h>\n@@ -62,7 +62,7 @@ integer G77_access_0 (const char *name, const char *mode, ftnlen Lname, ftnlen L\n   int amode, i;\n \n   buff = malloc (Lname+1);\n-  if (buff == NULL) return -1;\n+  if (!buff) return -1;\n   g_char (name, Lname, buff);\n   amode = 0;\n   for (i=0;i<Lmode;i++) {"}, {"sha": "9bd53fb95d7f86c76dc66789aba6a1080ad21d07", "filename": "gcc/f/runtime/libU77/chdir_.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FlibU77%2Fchdir_.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FlibU77%2Fchdir_.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fruntime%2FlibU77%2Fchdir_.c?ref=56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f", "patch": "@@ -49,7 +49,7 @@ integer G77_chdir_0 (const char *name, const ftnlen Lname)\n   int i;\n \n   buff = malloc (Lname+1);\n-  if (buff == NULL) return -1;\n+  if (!buff) return -1;\n   g_char (name, Lname, buff);\n   i = chdir (buff);\n   free (buff);"}, {"sha": "7ca05b7604d0608fb33699dece96c40dff9531cf", "filename": "gcc/f/runtime/libU77/chmod_.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FlibU77%2Fchmod_.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FlibU77%2Fchmod_.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fruntime%2FlibU77%2Fchmod_.c?ref=56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f", "patch": "@@ -29,7 +29,7 @@ Boston, MA 02111-1307, USA.  */\n #if HAVE_STDLIB_H\n #  include <stdlib.h>\n #else\n-#  include <stdio.h>\t\t/* for NULL */\n+#  include <stdio.h>\n #endif\n \n #include \"f2c.h\"\n@@ -62,7 +62,7 @@ integer G77_chmod_0 (/* const */ char *name, /* const */ char *mode, const ftnle\n   char chmod_path [] = CHMOD_PATH;\n   l = strlen (chmod_path);\n   buff = malloc (Lname+Lmode+l+3+13+1);\n-  if (buff == NULL) return -1;\n+  if (!buff) return -1;\n   ii[0] = l; a[0] = chmod_path;\n   ii[1] = 1; a[1] = \" \";\n   ii[2] = Lmode; a[2] = mode;"}, {"sha": "dfc3fde34cf0777dc1f45c1c0a5fbc65fd2bc651", "filename": "gcc/f/runtime/libU77/dtime_.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FlibU77%2Fdtime_.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FlibU77%2Fdtime_.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fruntime%2FlibU77%2Fdtime_.c?ref=56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f", "patch": "@@ -22,7 +22,9 @@ Boston, MA 02111-1307, USA.  */\n #if HAVE_UNISTD_H\n #  include <unistd.h>\n #endif\n+#include <sys/types.h>\n #include <sys/times.h>\n+#include <sys/param.h>\n #if HAVE_GETRUSAGE\n #  include <sys/time.h>\n #  include <sys/resource.h>\n@@ -70,6 +72,8 @@ double G77_dtime_0 (real tarray[2])\n   if (! clk_tck) clk_tck = CLOCKS_PER_SECOND;\n #  elif defined CLK_TCK\n   if (! clk_tck) clk_tck = CLK_TCK;\n+#  elif defined HZ\n+  if (! clk_tck) clk_tck = HZ;\n #  elif defined HAVE_GETRUSAGE\n #  else\n   #error Dont know clock tick length"}, {"sha": "625d3d06d2a9a5af4899ff48fae098f61c2d10d8", "filename": "gcc/f/runtime/libU77/etime_.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FlibU77%2Fetime_.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FlibU77%2Fetime_.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fruntime%2FlibU77%2Fetime_.c?ref=56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f", "patch": "@@ -66,6 +66,8 @@ double G77_etime_0 (real tarray[2])\n   if (! clk_tck) clk_tck = CLOCKS_PER_SECOND;\n #  elif defined CLK_TCK\n   if (! clk_tck) clk_tck = CLK_TCK;\n+#  elif defined HZ\n+  if (! clk_tck) clk_tck = HZ;\n #  elif defined HAVE_GETRUSAGE\n #  else\n   #error Dont know clock tick length"}, {"sha": "1c2f7db1ce1962a8246891f469f9a484ef49ae73", "filename": "gcc/f/runtime/libU77/getlog_.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FlibU77%2Fgetlog_.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FlibU77%2Fgetlog_.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fruntime%2FlibU77%2Fgetlog_.c?ref=56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f", "patch": "@@ -19,6 +19,7 @@ Boston, MA 02111-1307, USA.  */\n #ifdef HAVE_CONFIG_H\n #include \"config.h\"\n #endif\n+#include <sys/types.h>\n #if HAVE_STDLIB_H\n #  include <stdlib.h>\n #else"}, {"sha": "9583001c42184e7452f1c44041018ac18ec4aa67", "filename": "gcc/f/runtime/libU77/rename_.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FlibU77%2Frename_.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FlibU77%2Frename_.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fruntime%2FlibU77%2Frename_.c?ref=56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f", "patch": "@@ -19,6 +19,9 @@ Boston, MA 02111-1307, USA.  */\n #ifdef HAVE_CONFIG_H\n #include \"config.h\"\n #endif\n+#if HAVE_UNISTD_H\n+#  include <unistd.h>\n+#endif\n #if HAVE_STDLIB_H\n #  include <stdlib.h>\n #endif"}, {"sha": "5644d497906f1bde2d57f374a2398f791ee57e03", "filename": "gcc/f/runtime/libU77/sys_clock_.c", "status": "renamed", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FlibU77%2Fsys_clock_.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FlibU77%2Fsys_clock_.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fruntime%2FlibU77%2Fsys_clock_.c?ref=56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f", "patch": "@@ -51,6 +51,8 @@ int G77_system_clock_0 (integer *count, integer *count_rate, integer *count_max)\n   *count_rate = CLOCKS_PER_SECOND;\n #elif defined CLK_TCK\n   *count_rate = CLK_TCK;\n+#elif defined HZ\n+  *count_rate = HZ;\n #else\n   #error Dont know clock tick length\n #endif", "previous_filename": "gcc/f/runtime/libU77/system_clock_.c"}, {"sha": "12b50191fe382c1a51cade9b1410cde4dab19b42", "filename": "gcc/f/runtime/libU77/ttynam_.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FlibU77%2Fttynam_.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f/gcc%2Ff%2Fruntime%2FlibU77%2Fttynam_.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fruntime%2FlibU77%2Fttynam_.c?ref=56f21d6ffd01853b0e6b3f2dc2cedd404cbba08f", "patch": "@@ -19,6 +19,7 @@ Boston, MA 02111-1307, USA.  */\n #ifdef HAVE_CONFIG_H\n #include \"config.h\"\n #endif\n+#include <sys/types.h>\n #if STDC_HEADERS\n #  include <stdlib.h>\n #endif"}]}