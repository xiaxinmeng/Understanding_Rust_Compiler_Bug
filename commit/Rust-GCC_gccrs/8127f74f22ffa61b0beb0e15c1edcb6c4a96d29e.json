{"sha": "8127f74f22ffa61b0beb0e15c1edcb6c4a96d29e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODEyN2Y3NGYyMmZmYTYxYjBiZWIwZTE1YzFlZGNiNmM0YTk2ZDI5ZQ==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@cygnus.com", "date": "1998-09-02T14:49:17Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1998-09-02T14:49:17Z"}, "message": "Fix miscompilation of MIPS cross assembler on sparc host.\n\n\t* jump.c (jump_optimize): In if/then/else transformations, add\n\tanother call to modified_between_p for the jump insn.\n\nFrom-SVN: r22187", "tree": {"sha": "429dba3df1233b77782298b7c98a242d483d96ce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/429dba3df1233b77782298b7c98a242d483d96ce"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8127f74f22ffa61b0beb0e15c1edcb6c4a96d29e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8127f74f22ffa61b0beb0e15c1edcb6c4a96d29e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8127f74f22ffa61b0beb0e15c1edcb6c4a96d29e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8127f74f22ffa61b0beb0e15c1edcb6c4a96d29e/comments", "author": null, "committer": null, "parents": [{"sha": "f0da48d27d1de0cd475908fe408d568315edb387", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f0da48d27d1de0cd475908fe408d568315edb387", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f0da48d27d1de0cd475908fe408d568315edb387"}], "stats": {"total": 15, "additions": 14, "deletions": 1}, "files": [{"sha": "415830a157bf8caf371342545e98356933ef9470", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8127f74f22ffa61b0beb0e15c1edcb6c4a96d29e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8127f74f22ffa61b0beb0e15c1edcb6c4a96d29e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8127f74f22ffa61b0beb0e15c1edcb6c4a96d29e", "patch": "@@ -1,3 +1,8 @@\n+Wed Sep  2 14:47:36 1998  Jim Wilson  <wilson@cygnus.com>\n+\n+\t* jump.c (jump_optimize): In if/then/else transformations, add\n+\tanother call to modified_between_p for the jump insn.\n+\n Wed Sep  2 14:16:49 1998  Jeffrey A Law  (law@cygnus.com)\n \n \t* fix-header.c (symlink): Treat like readlink."}, {"sha": "77c3556a8b7fbd5fcc778f613e450381b701c490", "filename": "gcc/jump.c", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8127f74f22ffa61b0beb0e15c1edcb6c4a96d29e/gcc%2Fjump.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8127f74f22ffa61b0beb0e15c1edcb6c4a96d29e/gcc%2Fjump.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjump.c?ref=8127f74f22ffa61b0beb0e15c1edcb6c4a96d29e", "patch": "@@ -855,7 +855,11 @@ jump_optimize (f, cross_jump, noop_moves, after_regscan)\n \t\t  && ! reg_referenced_between_p (temp1, p, NEXT_INSN (temp3))\n \t\t  && ! reg_set_between_p (temp1, p, temp3)\n \t\t  && (GET_CODE (SET_SRC (temp4)) == CONST_INT\n-\t\t      || ! modified_between_p (SET_SRC (temp4), p, temp2)))\n+\t\t      || ! modified_between_p (SET_SRC (temp4), p, temp2))\n+\t\t  /* Verify that registers used by the jump are not clobbered\n+\t\t     by the instruction being moved.  */\n+\t\t  && ! modified_between_p (PATTERN (temp), temp2,\n+\t\t\t\t\t   NEXT_INSN (temp2)))\n \t\t{\n \t\t  emit_insn_after_with_line_notes (PATTERN (temp2), p, temp2);\n \t\t  delete_insn (temp2);\n@@ -953,6 +957,10 @@ jump_optimize (f, cross_jump, noop_moves, after_regscan)\n \t\t\t\t\t\t NEXT_INSN (temp2))\n \t\t  && ! reg_set_between_p (temp1, insert_after, temp)\n \t\t  && ! modified_between_p (SET_SRC (temp4), insert_after, temp)\n+\t\t  /* Verify that registers used by the jump are not clobbered\n+\t\t     by the instruction being moved.  */\n+\t\t  && ! modified_between_p (PATTERN (temp), temp3,\n+\t\t\t\t\t   NEXT_INSN (temp3))\n \t\t  && invert_jump (temp, JUMP_LABEL (insn)))\n \t\t{\n \t\t  emit_insn_after_with_line_notes (PATTERN (temp3),"}]}