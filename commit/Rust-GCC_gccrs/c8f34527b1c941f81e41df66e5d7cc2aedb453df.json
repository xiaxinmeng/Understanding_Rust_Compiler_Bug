{"sha": "c8f34527b1c941f81e41df66e5d7cc2aedb453df", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzhmMzQ1MjdiMWM5NDFmODFlNDFkZjY2ZTVkN2NjMmFlZGI0NTNkZg==", "commit": {"author": {"name": "Jonathan Yong", "email": "10walls@gmail.com", "date": "2017-08-07T11:40:08Z"}, "committer": {"name": "Jonathan Yong", "email": "jyong@gcc.gnu.org", "date": "2017-08-07T11:40:08Z"}, "message": "Share mingw fset-stack-executable with cygwin\n\nThis patch is in use by Cygwin for years, upstream to GCC.\n\n\t* gcc/config/i386/mingw.opt (fset-stack-executable): Removed.\n\t* gcc/config/i386/cygming.opt (fset-stack-executable): Moved\n\tfrom mingw.opt.\n\t* gcc/config/i386/cygwin.h: Define CHECK_EXECUTE_STACK_ENABLED.\n\t* ligcc/config.host (*-cygwin): Include file from mingw\n\tconfig/i386/enable-execute-stack-mingw32.c\n\nFrom-SVN: r250914", "tree": {"sha": "29c6f2d9190db98aa9783ebf47a8f4c11067f070", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/29c6f2d9190db98aa9783ebf47a8f4c11067f070"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c8f34527b1c941f81e41df66e5d7cc2aedb453df", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8f34527b1c941f81e41df66e5d7cc2aedb453df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c8f34527b1c941f81e41df66e5d7cc2aedb453df", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8f34527b1c941f81e41df66e5d7cc2aedb453df/comments", "author": {"login": "jon-y", "id": 4688224, "node_id": "MDQ6VXNlcjQ2ODgyMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4688224?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jon-y", "html_url": "https://github.com/jon-y", "followers_url": "https://api.github.com/users/jon-y/followers", "following_url": "https://api.github.com/users/jon-y/following{/other_user}", "gists_url": "https://api.github.com/users/jon-y/gists{/gist_id}", "starred_url": "https://api.github.com/users/jon-y/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jon-y/subscriptions", "organizations_url": "https://api.github.com/users/jon-y/orgs", "repos_url": "https://api.github.com/users/jon-y/repos", "events_url": "https://api.github.com/users/jon-y/events{/privacy}", "received_events_url": "https://api.github.com/users/jon-y/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d5e2c91a26b85184400e3881baaeda27ade84ef9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5e2c91a26b85184400e3881baaeda27ade84ef9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d5e2c91a26b85184400e3881baaeda27ade84ef9"}], "stats": {"total": 27, "additions": 23, "deletions": 4}, "files": [{"sha": "440f6dac03b0bd065dc2d4e103cb09131aaa2f72", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8f34527b1c941f81e41df66e5d7cc2aedb453df/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8f34527b1c941f81e41df66e5d7cc2aedb453df/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c8f34527b1c941f81e41df66e5d7cc2aedb453df", "patch": "@@ -1,3 +1,10 @@\n+2017-08-07  Jonathan Yong  <10walls@gmail.com>\n+\n+\t* config/i386/mingw.opt (fset-stack-executable): Removed.\n+\t* config/i386/cygming.opt (fset-stack-executable): Moved\n+\tfrom mingw.opt.\n+\t* config/i386/cygwin.h: Define CHECK_EXECUTE_STACK_ENABLED.\n+\n 2017-08-07  Segher Boessenkool  <segher@kernel.crashing.org>\n \n \t* print-rtl.c (print_exp): Print NOT as \"~\" instead of as \"!\"."}, {"sha": "abe59321040712573b4cc92440232012252bbdb3", "filename": "gcc/config/i386/cygming.opt", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8f34527b1c941f81e41df66e5d7cc2aedb453df/gcc%2Fconfig%2Fi386%2Fcygming.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8f34527b1c941f81e41df66e5d7cc2aedb453df/gcc%2Fconfig%2Fi386%2Fcygming.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fcygming.opt?ref=c8f34527b1c941f81e41df66e5d7cc2aedb453df", "patch": "@@ -50,6 +50,10 @@ muse-libstdc-wrappers\n Target Condition({defined (USE_CYGWIN_LIBSTDCXX_WRAPPERS)})\n Compile code that relies on Cygwin DLL wrappers to support C++ operator new/delete replacement.\n \n+fset-stack-executable\n+Common Report Var(flag_setstackexecutable) Init(1) Optimization\n+For nested functions on stack executable permission is set.\n+\n posix\n Driver\n "}, {"sha": "7e34bb799c336893df5edd4a28b4abd3ea208bfb", "filename": "gcc/config/i386/cygwin.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8f34527b1c941f81e41df66e5d7cc2aedb453df/gcc%2Fconfig%2Fi386%2Fcygwin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8f34527b1c941f81e41df66e5d7cc2aedb453df/gcc%2Fconfig%2Fi386%2Fcygwin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fcygwin.h?ref=c8f34527b1c941f81e41df66e5d7cc2aedb453df", "patch": "@@ -153,3 +153,7 @@ along with GCC; see the file COPYING3.  If not see\n #endif\n #define LIBGCC_SONAME \"cyggcc_s\" LIBGCC_EH_EXTN \"-1.dll\"\n \n+/* Make stack executable to avoid DEP problems with trampolines.  */\n+#define HAVE_ENABLE_EXECUTE_STACK\n+#undef  CHECK_EXECUTE_STACK_ENABLED\n+#define CHECK_EXECUTE_STACK_ENABLED flag_setstackexecutable"}, {"sha": "97a9baa6d7a4f0b5857e571b9fabb9869fee42c1", "filename": "gcc/config/i386/mingw.opt", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8f34527b1c941f81e41df66e5d7cc2aedb453df/gcc%2Fconfig%2Fi386%2Fmingw.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8f34527b1c941f81e41df66e5d7cc2aedb453df/gcc%2Fconfig%2Fi386%2Fmingw.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fmingw.opt?ref=c8f34527b1c941f81e41df66e5d7cc2aedb453df", "patch": "@@ -28,8 +28,4 @@ Wpedantic-ms-format\n C ObjC C++ ObjC++ Var(warn_pedantic_ms_format) Init(1) Warning\n Warn about none ISO msvcrt scanf/printf width extensions.\n \n-fset-stack-executable\n-Common Report Var(flag_setstackexecutable) Init(1) Optimization\n-For nested functions on stack executable permission is set.\n-\n ; Need to retain blank line above."}, {"sha": "14d20fbfac8a00c52dd71043da767c1da851c7ba", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8f34527b1c941f81e41df66e5d7cc2aedb453df/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8f34527b1c941f81e41df66e5d7cc2aedb453df/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=c8f34527b1c941f81e41df66e5d7cc2aedb453df", "patch": "@@ -1,3 +1,8 @@\n+2017-08-07  Jonathan Yong  <10walls@gmail.com>\n+\n+\t* config.host (*-cygwin): Include file from mingw\n+\tconfig/i386/enable-execute-stack-mingw32.c\n+\n 2017-08-01  Jerome Lambourg  <lambourg@adacore.com>\n             Doug Rupp  <rupp@adacore.com>\n             Olivier Hainque  <hainque@adacore.com>"}, {"sha": "546b12b59713d97f4b72bef8043f14ea9ee3f02b", "filename": "libgcc/config.host", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8f34527b1c941f81e41df66e5d7cc2aedb453df/libgcc%2Fconfig.host", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8f34527b1c941f81e41df66e5d7cc2aedb453df/libgcc%2Fconfig.host", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig.host?ref=c8f34527b1c941f81e41df66e5d7cc2aedb453df", "patch": "@@ -324,6 +324,9 @@ case ${host} in\n i[34567]86-*-mingw* | x86_64-*-mingw*)\n   enable_execute_stack=config/i386/enable-execute-stack-mingw32.c\n   ;;\n+i[34567]86-*-cygwin* | x86_64-*-cygwin*)\n+  enable_execute_stack=config/i386/enable-execute-stack-mingw32.c\n+  ;;\n *)\n   enable_execute_stack=enable-execute-stack-empty.c;\n   ;;"}]}