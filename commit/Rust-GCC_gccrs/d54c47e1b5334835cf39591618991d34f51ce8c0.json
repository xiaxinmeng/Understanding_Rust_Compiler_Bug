{"sha": "d54c47e1b5334835cf39591618991d34f51ce8c0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDU0YzQ3ZTFiNTMzNDgzNWNmMzk1OTE2MTg5OTFkMzRmNTFjZThjMA==", "commit": {"author": {"name": "David Edelsohn", "email": "edelsohn@gnu.org", "date": "2005-07-09T01:13:03Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2005-07-09T01:13:03Z"}, "message": "sync.md (load_locked_<mode>): Use Z for memory_operand constraint.\n\n        * config/rs6000/sync.md (load_locked_<mode>): Use Z for\n        memory_operand constraint.\n        (store_conditional_<mode>): Same.\n        (sync_compare_and_swap<mode>): Same.\n        (sync_lock_test_and_set<mode>): Same.\n\nFrom-SVN: r101813", "tree": {"sha": "efa59b788fe2e584d7ef67ab924ae090dad17200", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/efa59b788fe2e584d7ef67ab924ae090dad17200"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d54c47e1b5334835cf39591618991d34f51ce8c0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d54c47e1b5334835cf39591618991d34f51ce8c0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d54c47e1b5334835cf39591618991d34f51ce8c0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d54c47e1b5334835cf39591618991d34f51ce8c0/comments", "author": null, "committer": null, "parents": [{"sha": "c00fc5cf8b1979cd4a9200ec05593f2dba9f1eb0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c00fc5cf8b1979cd4a9200ec05593f2dba9f1eb0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c00fc5cf8b1979cd4a9200ec05593f2dba9f1eb0"}], "stats": {"total": 16, "additions": 12, "deletions": 4}, "files": [{"sha": "ed5f975e44fdbdd9874056fb024de7b04559cdb5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d54c47e1b5334835cf39591618991d34f51ce8c0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d54c47e1b5334835cf39591618991d34f51ce8c0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d54c47e1b5334835cf39591618991d34f51ce8c0", "patch": "@@ -1,3 +1,11 @@\n+2005-07-08  David Edelsohn  <edelsohn@gnu.org>\n+\n+\t* config/rs6000/sync.md (load_locked_<mode>): Use Z for\n+\tmemory_operand constraint.\n+\t(store_conditional_<mode>): Same.\n+\t(sync_compare_and_swap<mode>): Same.\n+\t(sync_lock_test_and_set<mode>): Same.\n+\n 2005-07-08  Hans-Peter Nilsson  <hp@axis.com>\n \n \tRewrite PIC support to more closely model actual instructions."}, {"sha": "cef64787b14b01e9501e519f1e46f13eddde9303", "filename": "gcc/config/rs6000/sync.md", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d54c47e1b5334835cf39591618991d34f51ce8c0/gcc%2Fconfig%2Frs6000%2Fsync.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d54c47e1b5334835cf39591618991d34f51ce8c0/gcc%2Fconfig%2Frs6000%2Fsync.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fsync.md?ref=d54c47e1b5334835cf39591618991d34f51ce8c0", "patch": "@@ -41,23 +41,23 @@\n (define_insn \"load_locked_<mode>\"\n   [(set (match_operand:GPR 0 \"gpc_reg_operand\" \"=r\")\n \t(unspec_volatile:GPR\n-\t  [(match_operand:GPR 1 \"memory_operand\" \"m\")] UNSPECV_LL))]\n+\t  [(match_operand:GPR 1 \"memory_operand\" \"Z\")] UNSPECV_LL))]\n   \"TARGET_POWERPC\"\n   \"<larx> %0,%y1\"\n   [(set_attr \"type\" \"load_l\")])\n \n (define_insn \"store_conditional_<mode>\"\n   [(set (match_operand:CC 0 \"cc_reg_operand\" \"=x\")\n \t(unspec_volatile:CC [(const_int 0)] UNSPECV_SC))\n-   (set (match_operand:GPR 1 \"memory_operand\" \"=m\")\n+   (set (match_operand:GPR 1 \"memory_operand\" \"=Z\")\n \t(match_operand:GPR 2 \"gpc_reg_operand\" \"r\"))]\n   \"TARGET_POWERPC\"\n   \"<stcx> %2,%y1\"\n   [(set_attr \"type\" \"store_c\")])\n \n (define_insn_and_split \"sync_compare_and_swap<mode>\"\n   [(set (match_operand:GPR 0 \"gpc_reg_operand\" \"=&r\")\n-\t(match_operand:GPR 1 \"memory_operand\" \"+m\"))\n+\t(match_operand:GPR 1 \"memory_operand\" \"+Z\"))\n    (set (match_dup 1)\n \t(unspec_volatile:GPR\n \t  [(match_operand:GPR 2 \"reg_or_short_operand\" \"rI\")\n@@ -77,7 +77,7 @@\n \n (define_insn_and_split \"sync_lock_test_and_set<mode>\"\n   [(set (match_operand:GPR 0 \"gpc_reg_operand\" \"=&r\")\n-        (match_operand:GPR 1 \"memory_operand\" \"+m\"))\n+        (match_operand:GPR 1 \"memory_operand\" \"+Z\"))\n    (set (match_dup 1)\n \t(unspec_volatile:GPR\n \t  [(match_operand:GPR 2 \"reg_or_short_operand\" \"rL\")]"}]}