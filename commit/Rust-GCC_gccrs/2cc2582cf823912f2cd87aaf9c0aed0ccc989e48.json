{"sha": "2cc2582cf823912f2cd87aaf9c0aed0ccc989e48", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmNjMjU4MmNmODIzOTEyZjJjZDg3YWFmOWMwYWVkMGNjYzk4OWU0OA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2018-11-13T09:56:46Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2018-11-13T09:56:46Z"}, "message": "toplev.c (output_stack_usage): Turn test on flag_stack_usage into test on stack_usage_file.\n\n\t* toplev.c (output_stack_usage): Turn test on flag_stack_usage into\n\ttest on stack_usage_file.\n\t(lang_dependent_init): Do not open the .su file if generating LTO.\n\nFrom-SVN: r266063", "tree": {"sha": "1ff9666a95980239791bf97e15508a5e1e8c6806", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1ff9666a95980239791bf97e15508a5e1e8c6806"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2cc2582cf823912f2cd87aaf9c0aed0ccc989e48", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2cc2582cf823912f2cd87aaf9c0aed0ccc989e48", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2cc2582cf823912f2cd87aaf9c0aed0ccc989e48", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2cc2582cf823912f2cd87aaf9c0aed0ccc989e48/comments", "author": null, "committer": null, "parents": [{"sha": "6bddea17a0464f674bf71d019af4c50c44ed6ed6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6bddea17a0464f674bf71d019af4c50c44ed6ed6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6bddea17a0464f674bf71d019af4c50c44ed6ed6"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "ce95921107b1d9af1b7776d91cb4f55aa97f2c9b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2cc2582cf823912f2cd87aaf9c0aed0ccc989e48/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2cc2582cf823912f2cd87aaf9c0aed0ccc989e48/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2cc2582cf823912f2cd87aaf9c0aed0ccc989e48", "patch": "@@ -1,3 +1,9 @@\n+2018-11-13  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* toplev.c (output_stack_usage): Turn test on flag_stack_usage into\n+\ttest on stack_usage_file.\n+\t(lang_dependent_init): Do not open the .su file if generating LTO.\n+\n 2018-11-13  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR rtl-optimization/87918"}, {"sha": "3fd4ec4565a97c42932fb2ac660b06933ecc0630", "filename": "gcc/toplev.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2cc2582cf823912f2cd87aaf9c0aed0ccc989e48/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2cc2582cf823912f2cd87aaf9c0aed0ccc989e48/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=2cc2582cf823912f2cd87aaf9c0aed0ccc989e48", "patch": "@@ -989,7 +989,7 @@ output_stack_usage (void)\n       stack_usage += current_function_dynamic_stack_size;\n     }\n \n-  if (flag_stack_usage)\n+  if (stack_usage_file)\n     {\n       expanded_location loc\n \t= expand_location (DECL_SOURCE_LOCATION (current_function_decl));\n@@ -1934,7 +1934,7 @@ lang_dependent_init (const char *name)\n       init_asm_output (name);\n \n       /* If stack usage information is desired, open the output file.  */\n-      if (flag_stack_usage)\n+      if (flag_stack_usage && !flag_generate_lto)\n \tstack_usage_file = open_auxiliary_file (\"su\");\n     }\n "}]}