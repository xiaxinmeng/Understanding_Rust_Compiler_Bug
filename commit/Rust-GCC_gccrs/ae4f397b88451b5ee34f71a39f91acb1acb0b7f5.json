{"sha": "ae4f397b88451b5ee34f71a39f91acb1acb0b7f5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWU0ZjM5N2I4ODQ1MWI1ZWUzNGY3MWEzOWY5MWFjYjFhY2IwYjdmNQ==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "joern.rennecke@superh.com", "date": "2003-05-15T15:06:01Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "2003-05-15T15:06:01Z"}, "message": "string-asm-1.c: Take __USER_LABEL_PREFIX__ into account.\n\n\t* gcc.c-torture/execute/builtins/string-asm-1.c: Take\n\t__USER_LABEL_PREFIX__ into account.\n\t* gcc.c-torture/execute/builtins/string-asm-2.c: Likewise.\n\nFrom-SVN: r66827", "tree": {"sha": "867041e1203ec74a3c2c066da5d221d264c9853e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/867041e1203ec74a3c2c066da5d221d264c9853e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ae4f397b88451b5ee34f71a39f91acb1acb0b7f5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae4f397b88451b5ee34f71a39f91acb1acb0b7f5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae4f397b88451b5ee34f71a39f91acb1acb0b7f5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae4f397b88451b5ee34f71a39f91acb1acb0b7f5/comments", "author": null, "committer": null, "parents": [{"sha": "ce000d1eec7bc89409426551325a1ac6ba233193", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce000d1eec7bc89409426551325a1ac6ba233193", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce000d1eec7bc89409426551325a1ac6ba233193"}], "stats": {"total": 24, "additions": 19, "deletions": 5}, "files": [{"sha": "2497dfd56e33888e6e52ef6d862810c038537e13", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae4f397b88451b5ee34f71a39f91acb1acb0b7f5/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae4f397b88451b5ee34f71a39f91acb1acb0b7f5/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ae4f397b88451b5ee34f71a39f91acb1acb0b7f5", "patch": "@@ -1,3 +1,9 @@\n+2003-05-15  J\"orn Rennecke <joern.rennecke@superh.com>\n+\n+\t* gcc.c-torture/execute/builtins/string-asm-1.c: Take\n+\t__USER_LABEL_PREFIX__ into account.\n+\t* gcc.c-torture/execute/builtins/string-asm-2.c: Likewise.\n+\n 2003-05-14  Roger Sayle  <roger@eyesopen.com>\n \n \t* gcc.dg/builtins-15.c: New test case."}, {"sha": "3c3e45dfa5d551c1302186ed42e05191fd18f83b", "filename": "gcc/testsuite/gcc.c-torture/execute/builtins/string-asm-1.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae4f397b88451b5ee34f71a39f91acb1acb0b7f5/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2Fstring-asm-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae4f397b88451b5ee34f71a39f91acb1acb0b7f5/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2Fstring-asm-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2Fstring-asm-1.c?ref=ae4f397b88451b5ee34f71a39f91acb1acb0b7f5", "patch": "@@ -3,10 +3,14 @@\n    Ensure all expected transformations of builtin strstr occur and\n    perform correctly in presence of redirect.  */\n \n+#define ASMNAME(cname)  ASMNAME2 (__USER_LABEL_PREFIX__, cname)\n+#define ASMNAME2(prefix, cname) STRING (prefix) cname\n+#define STRING(x)    #x\n+\n typedef __SIZE_TYPE__ size_t;\n extern void abort (void);\n extern char *strstr (const char *, const char *)\n-  __asm (\"my_strstr\");\n+  __asm (ASMNAME (\"my_strstr\"));\n \n const char *p = \"rld\", *q = \"hello world\";\n "}, {"sha": "e793778053acfc46bd152a5666da10d409cffba4", "filename": "gcc/testsuite/gcc.c-torture/execute/builtins/string-asm-2.c", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae4f397b88451b5ee34f71a39f91acb1acb0b7f5/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2Fstring-asm-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae4f397b88451b5ee34f71a39f91acb1acb0b7f5/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2Fstring-asm-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltins%2Fstring-asm-2.c?ref=ae4f397b88451b5ee34f71a39f91acb1acb0b7f5", "patch": "@@ -2,16 +2,20 @@\n \n    Test memcpy and memset in presence of redirect.  */\n \n+#define ASMNAME(cname)  ASMNAME2 (__USER_LABEL_PREFIX__, cname)\n+#define ASMNAME2(prefix, cname) STRING (prefix) cname\n+#define STRING(x)    #x\n+\n typedef __SIZE_TYPE__ size_t;\n extern void abort (void);\n extern void *memcpy (void *, const void *, size_t)\n-  __asm (\"my_memcpy\");\n+  __asm (ASMNAME (\"my_memcpy\"));\n extern void bcopy (const void *, void *, size_t)\n-  __asm (\"my_bcopy\");\n+  __asm (ASMNAME (\"my_bcopy\"));\n extern void *memset (void *, int, size_t)\n-  __asm (\"my_memset\");\n+  __asm (ASMNAME (\"my_memset\"));\n extern void bzero (void *, size_t)\n-  __asm (\"my_bzero\");\n+  __asm (ASMNAME (\"my_bzero\"));\n extern int memcmp (const void *, const void *, size_t);\n \n struct A { char c[32]; } a = { \"foobar\" };"}]}