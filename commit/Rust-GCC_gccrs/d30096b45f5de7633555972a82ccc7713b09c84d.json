{"sha": "d30096b45f5de7633555972a82ccc7713b09c84d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDMwMDk2YjQ1ZjVkZTc2MzM1NTU5NzJhODJjY2M3NzEzYjA5Yzg0ZA==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2018-10-16T11:14:37Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2018-10-16T11:14:37Z"}, "message": "PR libstdc++/87618 fix typos in linker script\n\n\tPR libstdc++/87618\n\t* config/abi/pre/gnu.ver: Fix typos in patterns for basic_stringbuf.\n\t* testsuite/27_io/basic_stringbuf/cons/char/default.cc: Disable\n\toptimisation to check constructor definition can be linked to.\n\t* testsuite/27_io/basic_stringbuf/cons/wchar_t/default.cc: Likewise.\n\nFrom-SVN: r265188", "tree": {"sha": "045f472d333d5d0ed76ff5ef15fe27efc483c64e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/045f472d333d5d0ed76ff5ef15fe27efc483c64e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d30096b45f5de7633555972a82ccc7713b09c84d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d30096b45f5de7633555972a82ccc7713b09c84d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d30096b45f5de7633555972a82ccc7713b09c84d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d30096b45f5de7633555972a82ccc7713b09c84d/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "92a7f46b09d825e9c18b3f7e9154495f82b01e5c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92a7f46b09d825e9c18b3f7e9154495f82b01e5c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/92a7f46b09d825e9c18b3f7e9154495f82b01e5c"}], "stats": {"total": 34, "additions": 30, "deletions": 4}, "files": [{"sha": "1b4179ee6d5c69a294185802506b7a0910e0f0ac", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d30096b45f5de7633555972a82ccc7713b09c84d/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d30096b45f5de7633555972a82ccc7713b09c84d/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=d30096b45f5de7633555972a82ccc7713b09c84d", "patch": "@@ -1,3 +1,11 @@\n+2018-10-16  Jonathan Wakely  <jwakely@redhat.com>\n+\n+\tPR libstdc++/87618\n+\t* config/abi/pre/gnu.ver: Fix typos in patterns for basic_stringbuf.\n+\t* testsuite/27_io/basic_stringbuf/cons/char/default.cc: Disable\n+\toptimisation to check constructor definition can be linked to.\n+\t* testsuite/27_io/basic_stringbuf/cons/wchar_t/default.cc: Likewise.\n+\n 2018-10-15  Jonathan Wakely  <jwakely@redhat.com>\n \n \t* testsuite/22_locale/numpunct/members/char/3.cc: Adjust test to"}, {"sha": "f90ead30dd181434d0631ff6008a1998a77779b9", "filename": "libstdc++-v3/config/abi/pre/gnu.ver", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d30096b45f5de7633555972a82ccc7713b09c84d/libstdc%2B%2B-v3%2Fconfig%2Fabi%2Fpre%2Fgnu.ver", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d30096b45f5de7633555972a82ccc7713b09c84d/libstdc%2B%2B-v3%2Fconfig%2Fabi%2Fpre%2Fgnu.ver", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fabi%2Fpre%2Fgnu.ver?ref=d30096b45f5de7633555972a82ccc7713b09c84d", "patch": "@@ -2032,10 +2032,10 @@ GLIBCXX_3.4.26 {\n     _ZNSt13runtime_erroraSEOS_;\n \n     # Default constructors for stringstreams\n-    _ZNSt15basic_stringbuf[cw]St11char_traitsI[cw]ESaI[cw]EEC[12]Ev;\n+    _ZNSt15basic_stringbufI[cw]St11char_traitsI[cw]ESaI[cw]EEC[12]Ev;\n     _ZNSt18basic_stringstreamI[cw]St11char_traitsI[cw]ESaI[cw]EEC[12]Ev;\n     _ZNSt19basic_[io]stringstreamI[cw]St11char_traitsI[cw]ESaI[cw]EEC[12]Ev;\n-    _ZNSt7__cxx1115basic_stringbuf[cw]St11char_traitsI[cw]ESaI[cw]EEC[12]Ev;\n+    _ZNSt7__cxx1115basic_stringbufI[cw]St11char_traitsI[cw]ESaI[cw]EEC[12]Ev;\n     _ZNSt7__cxx1118basic_stringstreamI[cw]St11char_traitsI[cw]ESaI[cw]EEC[12]Ev;\n     _ZNSt7__cxx1119basic_[io]stringstreamI[cw]St11char_traitsI[cw]ESaI[cw]EEC[12]Ev;\n "}, {"sha": "44a8c4f8da6fb86b705c82552bbfc3403da5e66a", "filename": "libstdc++-v3/testsuite/27_io/basic_stringbuf/cons/char/default.cc", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d30096b45f5de7633555972a82ccc7713b09c84d/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_stringbuf%2Fcons%2Fchar%2Fdefault.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d30096b45f5de7633555972a82ccc7713b09c84d/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_stringbuf%2Fcons%2Fchar%2Fdefault.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_stringbuf%2Fcons%2Fchar%2Fdefault.cc?ref=d30096b45f5de7633555972a82ccc7713b09c84d", "patch": "@@ -17,6 +17,7 @@\n \n // C++11 27.8.2.1  basic_stringbuf constructors  [stringbuf.cons]\n \n+// { dg-options \"-O0\" }\n // { dg-do run { target c++11 } }\n \n #include <sstream>\n@@ -29,7 +30,15 @@ void test01()\n   test.operator()<std::stringbuf>();\n }\n \n-int main() \n+void test02()\n+{\n+  // PR libstdc++/87618\n+  // Compiled without optimisation to check this constructor is exported.\n+  std::stringbuf sb;\n+}\n+\n+int main()\n {\n   test01();\n+  test02();\n }"}, {"sha": "e51154e54b67db5201f87c6e43ebad5140d131f8", "filename": "libstdc++-v3/testsuite/27_io/basic_stringbuf/cons/wchar_t/default.cc", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d30096b45f5de7633555972a82ccc7713b09c84d/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_stringbuf%2Fcons%2Fwchar_t%2Fdefault.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d30096b45f5de7633555972a82ccc7713b09c84d/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_stringbuf%2Fcons%2Fwchar_t%2Fdefault.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_stringbuf%2Fcons%2Fwchar_t%2Fdefault.cc?ref=d30096b45f5de7633555972a82ccc7713b09c84d", "patch": "@@ -17,6 +17,7 @@\n \n // C++11 27.8.2.1  basic_stringbuf constructors  [stringbuf.cons]\n \n+// { dg-options \"-O0\" }\n // { dg-do run { target c++11 } }\n \n #include <sstream>\n@@ -29,7 +30,15 @@ void test01()\n   test.operator()<std::wstringbuf>();\n }\n \n-int main() \n+void test02()\n+{\n+  // PR libstdc++/87618\n+  // Compiled without optimisation to check this constructor is exported.\n+  std::wstringbuf sb;\n+}\n+\n+int main()\n {\n   test01();\n+  test02();\n }"}]}