{"sha": "830465c6ea14fa89df9b74106674d7ecf5b4ab31", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODMwNDY1YzZlYTE0ZmE4OWRmOWI3NDEwNjY3NGQ3ZWNmNWI0YWIzMQ==", "commit": {"author": {"name": "Markus Milleder", "email": "markus.milleder@generali.at", "date": "2008-03-06T18:08:40Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2008-03-06T18:08:40Z"}, "message": "re PR preprocessor/35458 (Dependency generation (-M) does not quote '#' in filenames)\n\nlibcpp\n2008-03-06  Markus Milleder  <markus.milleder@generali.at>\n\tPR preprocessor/35458\n\t* mkdeps.c (munge): Quote '#' with a '\\'.\ngcc/testsuite\n2008-03-06  Markus Milleder  <markus.milleder@generali.at>\n\tPR preprocessor/35458\n\t* gcc.dg/cpp/cmdlne-M-2.c: New file.\n\t* gcc.dg/cpp/cmdlne-M-2#.h: New file.\n\t* gcc.dg/cpp/#cmdlne-M-2.h: New file.\n\nFrom-SVN: r132982", "tree": {"sha": "8b7e254009342f3af78130f33b14aea49e98ddcf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8b7e254009342f3af78130f33b14aea49e98ddcf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/830465c6ea14fa89df9b74106674d7ecf5b4ab31", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/830465c6ea14fa89df9b74106674d7ecf5b4ab31", "html_url": "https://github.com/Rust-GCC/gccrs/commit/830465c6ea14fa89df9b74106674d7ecf5b4ab31", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/830465c6ea14fa89df9b74106674d7ecf5b4ab31/comments", "author": null, "committer": null, "parents": [{"sha": "48081aae38aa3f86d1c398e70563baf779b0054f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/48081aae38aa3f86d1c398e70563baf779b0054f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/48081aae38aa3f86d1c398e70563baf779b0054f"}], "stats": {"total": 37, "additions": 37, "deletions": 0}, "files": [{"sha": "38bf08d7db928e38d9142e0823c7f81fbc558f1d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/830465c6ea14fa89df9b74106674d7ecf5b4ab31/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/830465c6ea14fa89df9b74106674d7ecf5b4ab31/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=830465c6ea14fa89df9b74106674d7ecf5b4ab31", "patch": "@@ -1,3 +1,10 @@\n+2008-03-06  Markus Milleder  <markus.milleder@generali.at>\n+\n+\tPR preprocessor/35458\n+\t* gcc.dg/cpp/cmdlne-M-2.c: New file.\n+\t* gcc.dg/cpp/cmdlne-M-2#.h: New file.\n+\t* gcc.dg/cpp/#cmdlne-M-2.h: New file.\n+\n 2008-03-06  Tom Tromey  <tromey@redhat.com>\n \n \t* lib/treelang-dg.exp, lib/treelang.exp: Delete."}, {"sha": "40a8c178f10d9e85a2873c83247c3f2fe553f408", "filename": "gcc/testsuite/gcc.dg/cpp/#cmdlne-M-2.h", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/830465c6ea14fa89df9b74106674d7ecf5b4ab31/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2F%23cmdlne-M-2.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/830465c6ea14fa89df9b74106674d7ecf5b4ab31/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2F%23cmdlne-M-2.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2F%23cmdlne-M-2.h?ref=830465c6ea14fa89df9b74106674d7ecf5b4ab31", "patch": "@@ -0,0 +1 @@\n+/* empty */"}, {"sha": "40a8c178f10d9e85a2873c83247c3f2fe553f408", "filename": "gcc/testsuite/gcc.dg/cpp/cmdlne-M-2#.h", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/830465c6ea14fa89df9b74106674d7ecf5b4ab31/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fcmdlne-M-2%23.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/830465c6ea14fa89df9b74106674d7ecf5b4ab31/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fcmdlne-M-2%23.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fcmdlne-M-2%23.h?ref=830465c6ea14fa89df9b74106674d7ecf5b4ab31", "patch": "@@ -0,0 +1 @@\n+/* empty */"}, {"sha": "6479822f9631530302b6669ea94cbd6fc8ae7f59", "filename": "gcc/testsuite/gcc.dg/cpp/cmdlne-M-2.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/830465c6ea14fa89df9b74106674d7ecf5b4ab31/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fcmdlne-M-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/830465c6ea14fa89df9b74106674d7ecf5b4ab31/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fcmdlne-M-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fcmdlne-M-2.c?ref=830465c6ea14fa89df9b74106674d7ecf5b4ab31", "patch": "@@ -0,0 +1,14 @@\n+/* Copyright (C) 2008 Free Software Foundation, Inc.  */\n+\n+/* { dg-do preprocess } */\n+/* { dg-options \"-M\" } */\n+\n+/* Test that dependency output suppresses warnings by implying -w.  */\n+\n+#include \"#cmdlne-M-2.h\"\n+#include \"cmdlne-M-2#.h\"\n+\n+/* { dg-final { scan-file cmdlne-M-2.i \"(^|\\\\n)cmdlne-M-2.o:\" } }\n+   { dg-final { scan-file cmdlne-M-2.i \"cmdlne-M-2.c\" } }\n+   { dg-final { scan-file cmdlne-M-2.i \"\\\\\\\\#cmdlne-M-2.h\" } }\n+   { dg-final { scan-file cmdlne-M-2.i \"cmdlne-M-2\\\\\\\\#.h\" } } */"}, {"sha": "a6be847c5461ed6e3a0b02e2340b226938f6113c", "filename": "libcpp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/830465c6ea14fa89df9b74106674d7ecf5b4ab31/libcpp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/830465c6ea14fa89df9b74106674d7ecf5b4ab31/libcpp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcpp%2FChangeLog?ref=830465c6ea14fa89df9b74106674d7ecf5b4ab31", "patch": "@@ -1,3 +1,8 @@\n+2008-03-06  Markus Milleder  <markus.milleder@generali.at>\n+\n+\tPR preprocessor/35458\n+\t* mkdeps.c (munge): Quote '#' with a '\\'.\n+\n 2008-02-27  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n \n \tPR preprocessor/35379"}, {"sha": "23d9dc1653d40e0a4a8836c0b209943aaa352777", "filename": "libcpp/mkdeps.c", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/830465c6ea14fa89df9b74106674d7ecf5b4ab31/libcpp%2Fmkdeps.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/830465c6ea14fa89df9b74106674d7ecf5b4ab31/libcpp%2Fmkdeps.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcpp%2Fmkdeps.c?ref=830465c6ea14fa89df9b74106674d7ecf5b4ab31", "patch": "@@ -79,6 +79,11 @@ munge (const char *filename)\n \t  /* '$' is quoted by doubling it.  */\n \t  len++;\n \t  break;\n+\n+\tcase '#':\n+\t  /* '#' is quoted with a backslash.  */\n+\t  len++;\n+\t  break;\n \t}\n     }\n \n@@ -100,6 +105,10 @@ munge (const char *filename)\n \t  *dst++ = '$';\n \t  break;\n \n+\tcase '#':\n+\t  *dst++ = '\\\\';\n+\t  break;\n+\n \tdefault:\n \t  /* nothing */;\n \t}"}]}