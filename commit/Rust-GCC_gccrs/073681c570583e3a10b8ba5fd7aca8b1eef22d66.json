{"sha": "073681c570583e3a10b8ba5fd7aca8b1eef22d66", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDczNjgxYzU3MDU4M2UzYTEwYjhiYTVmZDdhY2E4YjFlZWYyMmQ2Ng==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2002-03-29T00:42:54Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2002-03-29T00:42:54Z"}, "message": "re PR java/5986 (SIGSEGV in __gcj_personality_v0)\n\n\t* except.c (expand_end_java_handler): If the handler type is NULL,\n\tuse java.lang.Throwable.  Fixes PR java/5986.\n\nFrom-SVN: r51539", "tree": {"sha": "4f95fed9108777c9014fb71f501071ba622709fd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4f95fed9108777c9014fb71f501071ba622709fd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/073681c570583e3a10b8ba5fd7aca8b1eef22d66", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/073681c570583e3a10b8ba5fd7aca8b1eef22d66", "html_url": "https://github.com/Rust-GCC/gccrs/commit/073681c570583e3a10b8ba5fd7aca8b1eef22d66", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/073681c570583e3a10b8ba5fd7aca8b1eef22d66/comments", "author": null, "committer": null, "parents": [{"sha": "c75e51ed689ecbb88390f2a2da496492efee7f41", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c75e51ed689ecbb88390f2a2da496492efee7f41", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c75e51ed689ecbb88390f2a2da496492efee7f41"}], "stats": {"total": 19, "additions": 17, "deletions": 2}, "files": [{"sha": "21be2063c834cd0371e2f1c2d565208909e3e0c3", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/073681c570583e3a10b8ba5fd7aca8b1eef22d66/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/073681c570583e3a10b8ba5fd7aca8b1eef22d66/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=073681c570583e3a10b8ba5fd7aca8b1eef22d66", "patch": "@@ -1,3 +1,8 @@\n+2002-03-28  Tom Tromey  <tromey@redhat.com>\n+\n+\t* except.c (expand_end_java_handler): If the handler type is NULL,\n+\tuse java.lang.Throwable.  Fixes PR java/5986.\n+\n 2002-03-28  Alexandre Petit-Bianco  <apbianco@redhat.com>\n \n \tFix for PR java/4715:"}, {"sha": "5b315185807aa3d425ba08dcbad7be3d6246302c", "filename": "gcc/java/except.c", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/073681c570583e3a10b8ba5fd7aca8b1eef22d66/gcc%2Fjava%2Fexcept.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/073681c570583e3a10b8ba5fd7aca8b1eef22d66/gcc%2Fjava%2Fexcept.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fexcept.c?ref=073681c570583e3a10b8ba5fd7aca8b1eef22d66", "patch": "@@ -1,5 +1,5 @@\n /* Handle exceptions for GNU compiler for the Java(TM) language.\n-   Copyright (C) 1997, 1998, 1999, 2000 Free Software Foundation, Inc.\n+   Copyright (C) 1997, 1998, 1999, 2000, 2002 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -372,7 +372,17 @@ expand_end_java_handler (range)\n   expand_start_all_catch ();\n   for ( ; handler != NULL_TREE; handler = TREE_CHAIN (handler))\n     {\n-      expand_start_catch (TREE_PURPOSE (handler));\n+      /* For bytecode we treat exceptions a little unusually.  A\n+\t `finally' clause looks like an ordinary exception handler for\n+\t Throwable.  The reason for this is that the bytecode has\n+\t already expanded the finally logic, and we would have to do\n+\t extra (and difficult) work to get this to look like a\n+\t gcc-style finally clause.  */\n+      tree type = TREE_PURPOSE (handler);\n+      if (type == NULL)\n+\ttype = throwable_type_node;\n+\n+      expand_start_catch (type);\n       expand_goto (TREE_VALUE (handler));\n       expand_end_catch ();\n     }"}]}