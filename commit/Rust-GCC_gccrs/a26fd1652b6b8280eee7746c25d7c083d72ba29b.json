{"sha": "a26fd1652b6b8280eee7746c25d7c083d72ba29b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTI2ZmQxNjUyYjZiODI4MGVlZTc3NDZjMjVkN2MwODNkNzJiYTI5Yg==", "commit": {"author": {"name": "Manfred Hollstein", "email": "manfred@gcc.gnu.org", "date": "1998-03-31T22:35:25Z"}, "committer": {"name": "Manfred Hollstein", "email": "manfred@gcc.gnu.org", "date": "1998-03-31T22:35:25Z"}, "message": "fixincludes (limits.h): Fix nested comments in Motorola's limits.h and sys/limits.h.\n\n8\n\t* fixincludes (limits.h): Fix nested comments in Motorola's\n\tlimits.h and sys/limits.h.\n\nFrom-SVN: r18923", "tree": {"sha": "304933e6f61fc6369823795cf6549a5dacc3797f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/304933e6f61fc6369823795cf6549a5dacc3797f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a26fd1652b6b8280eee7746c25d7c083d72ba29b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a26fd1652b6b8280eee7746c25d7c083d72ba29b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a26fd1652b6b8280eee7746c25d7c083d72ba29b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a26fd1652b6b8280eee7746c25d7c083d72ba29b/comments", "author": null, "committer": null, "parents": [{"sha": "b5026c5068e0c23a8229829e8f23ab7833223e6f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5026c5068e0c23a8229829e8f23ab7833223e6f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b5026c5068e0c23a8229829e8f23ab7833223e6f"}], "stats": {"total": 25, "additions": 25, "deletions": 0}, "files": [{"sha": "9320094b04fd5086e71807151590be6057bf535a", "filename": "gcc/fixincludes", "status": "modified", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a26fd1652b6b8280eee7746c25d7c083d72ba29b/gcc%2Ffixincludes", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a26fd1652b6b8280eee7746c25d7c083d72ba29b/gcc%2Ffixincludes", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixincludes?ref=a26fd1652b6b8280eee7746c25d7c083d72ba29b", "patch": "@@ -2166,6 +2166,31 @@ if [ -r ${LIB}/$file ]; then\n   fi\n fi\n \n+# Fix nested comments in Motorola's <limits.h> and <sys/limits.h>\n+for file in limits.h sys/limits.h; do\n+  if [ $target_canonical = m88k-motorola-sysv3 -o \\\n+       $target_canonical = m68k-motorola-sysv ]; then\n+\n+    if [ -r $file ] && [ ! -r ${LIB}/$file ]; then\n+      cp $file ${LIB}/$file >/dev/null 2>&1 || echo \"Can't copy $file\"\n+      chmod +w ${LIB}/$file 2>/dev/null\n+      chmod a+r ${LIB}/$file 2>/dev/null\n+    fi\n+\n+    if [ -r ${LIB}/$file ]; then\n+      echo \"Fixing nested comments in Motorola's $file\"\n+      sed \\\n+        -e 's@^\\(#undef[ \t][ \t]*PIPE_BUF[ \t]*/\\* max # bytes atomic in write to a\\)$@\\1 */@' \\\n+        -e 's@\\(/\\*#define\tHUGE_VAL\t3.40282346638528860e+38 \\)\\(/\\*error value returned by Math lib\\*/\\)$@\\1*/ \\2@'\t\\\n+  \t  < ${LIB}/$file > ${LIB}/${file}.sed\n+      rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n+      if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n+        rm -f ${LIB}/$file\n+      fi\n+    fi\n+  fi\n+done\n+\n # Fix getopt declarations in stdio.h and stdlib.h on Alpha OSF/1 and AIX.\n for file in stdio.h stdlib.h; do\n   if [ -r $file ] && [ ! -r ${LIB}/$file ]; then"}]}