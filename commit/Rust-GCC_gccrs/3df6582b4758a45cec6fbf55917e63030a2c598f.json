{"sha": "3df6582b4758a45cec6fbf55917e63030a2c598f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2RmNjU4MmI0NzU4YTQ1Y2VjNmZiZjU1OTE3ZTYzMDMwYTJjNTk4Zg==", "commit": {"author": {"name": "John David Anglin", "email": "dave.anglin@nrc-cnrc.gc.ca", "date": "2006-02-04T00:44:53Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2006-02-04T00:44:53Z"}, "message": "re PR target/25926 (A87B59A SIGABRT)\n\n\tPR target/25926\n\t* ada/initialize.c (__gnat_initialize): Provide HP-UX 10 host and target\n\timplementation that calls __main.\n\t* pa/x-ada (X_ADA_CFLAGS): Define _X_HPUX10 on HP-UX 10.\n\t* pa/t-pa (TARGET_LIBGCC2_CFLAGS): Define _T_HPUX10 on HP-UX 10.\n\nFrom-SVN: r110580", "tree": {"sha": "3da1d8792c133e6dc8356c5b0c6e85b93756432d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3da1d8792c133e6dc8356c5b0c6e85b93756432d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3df6582b4758a45cec6fbf55917e63030a2c598f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3df6582b4758a45cec6fbf55917e63030a2c598f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3df6582b4758a45cec6fbf55917e63030a2c598f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3df6582b4758a45cec6fbf55917e63030a2c598f/comments", "author": null, "committer": null, "parents": [{"sha": "74a88f62d13fd952202dec580cfa243b4a419798", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74a88f62d13fd952202dec580cfa243b4a419798", "html_url": "https://github.com/Rust-GCC/gccrs/commit/74a88f62d13fd952202dec580cfa243b4a419798"}], "stats": {"total": 40, "additions": 38, "deletions": 2}, "files": [{"sha": "75b786bb25ac3562d214502a3677b194474a9075", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3df6582b4758a45cec6fbf55917e63030a2c598f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3df6582b4758a45cec6fbf55917e63030a2c598f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3df6582b4758a45cec6fbf55917e63030a2c598f", "patch": "@@ -1,3 +1,9 @@\n+2006-02-03  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n+\n+\tPR target/25926\n+\t* pa/x-ada (X_ADA_CFLAGS): Define _X_HPUX10 on HP-UX 10.\n+\t* pa/t-pa (TARGET_LIBGCC2_CFLAGS): Define _T_HPUX10 on HP-UX 10.\n+\n 2006-02-03  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/25979"}, {"sha": "04e522d88eecda69bb5e487f7193db19017085e8", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3df6582b4758a45cec6fbf55917e63030a2c598f/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3df6582b4758a45cec6fbf55917e63030a2c598f/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=3df6582b4758a45cec6fbf55917e63030a2c598f", "patch": "@@ -1,3 +1,9 @@\n+2006-02-03  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n+\n+\tPR target/25926\n+\t* initialize.c (__gnat_initialize): Provide HP-UX 10 host and target\n+\timplementation that calls __main.\n+\n 2006-01-25  Peter O'Gorman  <peter@pogma.com>\n \n \tPR bootstrap/25859"}, {"sha": "58d8ca88af6bb0ac493b2236057efc7999acfe6e", "filename": "gcc/ada/initialize.c", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3df6582b4758a45cec6fbf55917e63030a2c598f/gcc%2Fada%2Finitialize.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3df6582b4758a45cec6fbf55917e63030a2c598f/gcc%2Fada%2Finitialize.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Finitialize.c?ref=3df6582b4758a45cec6fbf55917e63030a2c598f", "patch": "@@ -170,6 +170,20 @@ __gnat_initialize (void *eh)\n #endif\n }\n \n+#elif defined(_T_HPUX10) || (!defined(IN_RTS) && defined(_X_HPUX10))\n+\n+/************************************************/\n+/* __gnat_initialize (PA-RISC HP-UX 10 Version) */\n+/************************************************/\n+\n+extern void __main (void);\n+\n+void\n+__gnat_initialize (void *eh ATTRIBUTE_UNUSED)\n+{\n+  __main ();\n+}\n+\n #else\n \n /* For all other versions of GNAT, the initialize routine and handler"}, {"sha": "5b1a0f911b31912c4b596443a3af4a4dd9459dbd", "filename": "gcc/config/pa/t-pa", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3df6582b4758a45cec6fbf55917e63030a2c598f/gcc%2Fconfig%2Fpa%2Ft-pa", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3df6582b4758a45cec6fbf55917e63030a2c598f/gcc%2Fconfig%2Fpa%2Ft-pa", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Ft-pa?ref=3df6582b4758a45cec6fbf55917e63030a2c598f", "patch": "@@ -8,4 +8,8 @@ quadlib.c: $(srcdir)/config/pa/quadlib.c\n \trm -f quadlib.c\n \tcp $(srcdir)/config/pa/quadlib.c .\n \n-TARGET_LIBGCC2_CFLAGS = -fPIC\n+ifeq ($(strip $(filter-out hppa% hp hpux10%,$(targ))),)\n+  TARGET_LIBGCC2_CFLAGS = -fPIC -D_T_HPUX10\n+else\n+  TARGET_LIBGCC2_CFLAGS = -fPIC\n+endif"}, {"sha": "1e1ba698ec0e67f214ac272777de2c17481f472a", "filename": "gcc/config/pa/x-ada", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3df6582b4758a45cec6fbf55917e63030a2c598f/gcc%2Fconfig%2Fpa%2Fx-ada", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3df6582b4758a45cec6fbf55917e63030a2c598f/gcc%2Fconfig%2Fpa%2Fx-ada", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fx-ada?ref=3df6582b4758a45cec6fbf55917e63030a2c598f", "patch": "@@ -1,4 +1,10 @@\n # The ada virtual array implementation requires that indexing be disabled on\n # hosts such as hpux that use a segmented memory architecture.  Both the c\n # and ada files need to be compiled with this option for correct operation.\n-X_ADA_CFLAGS=-mdisable-indexing\n+# On HP-UX 10 hosts, we define _X_HPUX10 to cause __main () to be called at\n+# startup.\n+ifeq ($(strip $(filter-out hppa% hp hpux10%,$(targ))),)\n+  X_ADA_CFLAGS = -mdisable-indexing -D_X_HPUX10\n+else\n+  X_ADA_CFLAGS = -mdisable-indexing\n+endif"}]}