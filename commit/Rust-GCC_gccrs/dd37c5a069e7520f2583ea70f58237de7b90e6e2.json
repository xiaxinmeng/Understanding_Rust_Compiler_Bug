{"sha": "dd37c5a069e7520f2583ea70f58237de7b90e6e2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGQzN2M1YTA2OWU3NTIwZjI1ODNlYTcwZjU4MjM3ZGU3YjkwZTZlMg==", "commit": {"author": {"name": "DJ Delorie", "email": "dj@redhat.com", "date": "2003-09-05T02:12:29Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2003-09-05T02:12:29Z"}, "message": "* targhooks.c: Add comment explaining the migration process.\n\nFrom-SVN: r71103", "tree": {"sha": "d3b6bc747096abd1bc3bf15000bbd9184230d82c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d3b6bc747096abd1bc3bf15000bbd9184230d82c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dd37c5a069e7520f2583ea70f58237de7b90e6e2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd37c5a069e7520f2583ea70f58237de7b90e6e2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd37c5a069e7520f2583ea70f58237de7b90e6e2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd37c5a069e7520f2583ea70f58237de7b90e6e2/comments", "author": null, "committer": null, "parents": [{"sha": "09edb093551d1b5f01a7eb2b9636265ffbe5ab8b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/09edb093551d1b5f01a7eb2b9636265ffbe5ab8b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/09edb093551d1b5f01a7eb2b9636265ffbe5ab8b"}], "stats": {"total": 33, "additions": 33, "deletions": 0}, "files": [{"sha": "8ecc67dff6c78710120a78fabd1cc585e2fff3b9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd37c5a069e7520f2583ea70f58237de7b90e6e2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd37c5a069e7520f2583ea70f58237de7b90e6e2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=dd37c5a069e7520f2583ea70f58237de7b90e6e2", "patch": "@@ -1,3 +1,7 @@\n+2003-09-04  DJ Delorie  <dj@redhat.com>\n+\n+\t* targhooks.c: Add comment explaining the migration process.\n+\n 2003-09-04  Eric Christopher  <echristo@redhat.com>\n \n \t* config/frv/t-frv: Fix path for frv-abi.h."}, {"sha": "97d0642540be16f7dacd8b3a66f005ebafa87567", "filename": "gcc/targhooks.c", "status": "modified", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd37c5a069e7520f2583ea70f58237de7b90e6e2/gcc%2Ftarghooks.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd37c5a069e7520f2583ea70f58237de7b90e6e2/gcc%2Ftarghooks.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftarghooks.c?ref=dd37c5a069e7520f2583ea70f58237de7b90e6e2", "patch": "@@ -18,6 +18,35 @@ along with GCC; see the file COPYING.  If not, write to the Free\n Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n 02111-1307, USA.  */\n \n+/* The migration of target macros to target hooks works as follows:\n+\n+   1. Create a target hook that uses the existing target macros to\n+      implement the same functionality.\n+\n+   2. Convert all the MI files to use the hook instead of the macro.\n+\n+   3. Repeat for a majority of the remaining target macros.  This will\n+      take some time.\n+\n+   4. Tell target maintainers to start migrating.\n+\n+   5. Eventually convert the backends to override the hook instead of\n+      defining the macros.  This will take some time too.\n+\n+   6. TBD when, poison the macros.  Unmigrated targets will break at\n+      this point.\n+\n+   Note that we expect steps 1-3 to be done by the people that\n+   understand what the MI does with each macro, and step 5 to be done\n+   by the target maintainers for their respective targets.\n+\n+   Note that steps 1 and 2 don't have to be done together, but no\n+   target can override the new hook until step 2 is complete for it.\n+\n+   Once the macros are poisoned, we will revert to the old migration\n+   rules - migrate the macro, callers, and targets all at once.  This\n+   comment can thus be removed at that point.  */\n+\n #include \"config.h\"\n #include \"system.h\"\n #include \"coretypes.h\""}]}