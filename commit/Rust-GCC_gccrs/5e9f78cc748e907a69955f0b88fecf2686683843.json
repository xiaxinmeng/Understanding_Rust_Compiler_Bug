{"sha": "5e9f78cc748e907a69955f0b88fecf2686683843", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWU5Zjc4Y2M3NDhlOTA3YTY5OTU1ZjBiODhmZWNmMjY4NjY4Mzg0Mw==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2004-08-29T19:40:20Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2004-08-29T19:40:20Z"}, "message": "re PR rtl-optimization/16590 (Incorrect execution when compiling with -O2)\n\n\tPR rtl-optimization/16590\n\t* gcse.c (pre_delete): Do not create invalid REG_EQUAL notes.\n\n\tPR rtl-optimization/16590\n\t* g++.dg/opt/loop1.C: New test.\n\nFrom-SVN: r86732", "tree": {"sha": "645bc4e2cc150466118e298ff666849d6252a5c7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/645bc4e2cc150466118e298ff666849d6252a5c7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5e9f78cc748e907a69955f0b88fecf2686683843", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e9f78cc748e907a69955f0b88fecf2686683843", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5e9f78cc748e907a69955f0b88fecf2686683843", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e9f78cc748e907a69955f0b88fecf2686683843/comments", "author": null, "committer": null, "parents": [{"sha": "477a21f7f9b31c687d45f1001dd93c90df52cf29", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/477a21f7f9b31c687d45f1001dd93c90df52cf29", "html_url": "https://github.com/Rust-GCC/gccrs/commit/477a21f7f9b31c687d45f1001dd93c90df52cf29"}], "stats": {"total": 38, "additions": 37, "deletions": 1}, "files": [{"sha": "b168aa3285113a1e795f953dd3f67479652fa479", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e9f78cc748e907a69955f0b88fecf2686683843/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e9f78cc748e907a69955f0b88fecf2686683843/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5e9f78cc748e907a69955f0b88fecf2686683843", "patch": "@@ -1,3 +1,8 @@\n+2004-08-29  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR rtl-optimization/16590\n+\t* gcse.c (pre_delete): Do not create invalid REG_EQUAL notes.\n+\n 2004-08-29  Diego Novillo  <dnovillo@redhat.com>\n \n \t* tree-ssa-ccp.c (ccp_visit_stmt): Remove #if 0 guards."}, {"sha": "0d602801594dab7dc803a3e02611d1fb03812568", "filename": "gcc/gcse.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e9f78cc748e907a69955f0b88fecf2686683843/gcc%2Fgcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e9f78cc748e907a69955f0b88fecf2686683843/gcc%2Fgcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcse.c?ref=5e9f78cc748e907a69955f0b88fecf2686683843", "patch": "@@ -4463,7 +4463,9 @@ pre_delete (void)\n \t\t  expr->reaching_reg\n \t\t    = gen_reg_rtx (GET_MODE (SET_DEST (set)));\n \n-\t\tgcse_emit_move_after (expr->reaching_reg, SET_DEST (set), insn);\n+\t\temit_insn_after (gen_move_insn (SET_DEST (set), \n+\t\t\t\t\t\texpr->reaching_reg), \n+\t\t\t\t insn);\n \t\tdelete_insn (insn);\n \t\toccr->deleted_p = 1;\n \t\tSET_BIT (pre_redundant_insns, INSN_CUID (insn));"}, {"sha": "4fcbd8b44385cd0d1c6cc41ad8d84dda8100dc8d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e9f78cc748e907a69955f0b88fecf2686683843/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e9f78cc748e907a69955f0b88fecf2686683843/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5e9f78cc748e907a69955f0b88fecf2686683843", "patch": "@@ -1,3 +1,8 @@\n+2004-08-29  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR rtl-optimization/16590\n+\t* g++.dg/opt/loop1.C: New test.\n+\n 2004-08-29  Tobias Schlueter  <tobias.schlueter@physik.uni-muenchen.de>\n \n \tPR fortran/13910"}, {"sha": "ad0308e7f959879b6c933064c8fa82e8f80ffef6", "filename": "gcc/testsuite/g++.dg/opt/loop1.C", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e9f78cc748e907a69955f0b88fecf2686683843/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Floop1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e9f78cc748e907a69955f0b88fecf2686683843/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Floop1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Floop1.C?ref=5e9f78cc748e907a69955f0b88fecf2686683843", "patch": "@@ -0,0 +1,24 @@\n+// PR rtl-optimization/16590\n+// { dg-do run }\n+// { dg-options \"-O2\" }\n+\n+extern \"C\" void abort(); \n+ \n+struct iterator { \n+  char * p; \n+  int *dummy; \n+}; \n+ \n+static iterator pend(char * start) { \n+  iterator p = {start, 0}; \n+  if (p.p == start) p.p = start+5; \n+  --p.p; \n+  return p; \n+} \n+ \n+int main() { \n+  char mem[4+1]; \n+ \n+  if(pend(mem).p != mem+4) \n+    abort (); \n+} "}]}