{"sha": "7371aff837fcf6b21f6b12aec587819e621d46f6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzM3MWFmZjgzN2ZjZjZiMjFmNmIxMmFlYzU4NzgxOWU2MjFkNDZmNg==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2008-03-01T19:15:17Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2008-03-01T19:15:17Z"}, "message": "gnu.ver: Remove _ZNKSt3tr14hashIgEclEg@@GLIBCXX_3.4.10 and...\n\n\t* config/abi/pre/gnu.ver: Remove\n\t_ZNKSt3tr14hashIgEclEg@@GLIBCXX_3.4.10 and\n\t_ZNKSt4hashIgEclEg@@GLIBCXX_3.4.10 export.\n\t* config/os/gnu-linux/ldbl-extra.ver: Export\n\t_ZNKSt3tr14hashIgEclEg@@GLIBCXX_LDBL_3.4.10\n\tand _ZNKSt4hashIgEclEg@@GLIBCXX_LDBL_3.4.10.\n\t* src/hash.cc: Only define long double hash specialization if\n\t_GLIBCXX_LONG_DOUBLE_COMPAT_IMPL is defined.\n\t* src/compatibility-ldbl.cc: Include \"hash.cc\".\n\t(_GLIBCXX_LONG_DOUBLE_COMPAT_IMPL): Define.\n\t(_ZNKSt4hashIeEclEe): New alias.\n\t* testsuite/util/testsuite_abi.cc (check_version): Support\n\tGLIBCXX_LDBL_3.4.10.\n\nFrom-SVN: r132804", "tree": {"sha": "78cd74b433fb088ae0b5e6944674d57d1ef429ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/78cd74b433fb088ae0b5e6944674d57d1ef429ed"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7371aff837fcf6b21f6b12aec587819e621d46f6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7371aff837fcf6b21f6b12aec587819e621d46f6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7371aff837fcf6b21f6b12aec587819e621d46f6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7371aff837fcf6b21f6b12aec587819e621d46f6/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "89c3cbc686697a14bfb603da5e187331464e696b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89c3cbc686697a14bfb603da5e187331464e696b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/89c3cbc686697a14bfb603da5e187331464e696b"}], "stats": {"total": 46, "additions": 41, "deletions": 5}, "files": [{"sha": "516043db8ae1f538e744f1b14c65043aaf382dcb", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7371aff837fcf6b21f6b12aec587819e621d46f6/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7371aff837fcf6b21f6b12aec587819e621d46f6/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=7371aff837fcf6b21f6b12aec587819e621d46f6", "patch": "@@ -1,3 +1,19 @@\n+2008-02-29  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* config/abi/pre/gnu.ver: Remove\n+\t_ZNKSt3tr14hashIgEclEg@@GLIBCXX_3.4.10 and\n+\t_ZNKSt4hashIgEclEg@@GLIBCXX_3.4.10 export.\n+\t* config/os/gnu-linux/ldbl-extra.ver: Export\n+\t_ZNKSt3tr14hashIgEclEg@@GLIBCXX_LDBL_3.4.10\n+\tand _ZNKSt4hashIgEclEg@@GLIBCXX_LDBL_3.4.10.\n+\t* src/hash.cc: Only define long double hash specialization if\n+\t_GLIBCXX_LONG_DOUBLE_COMPAT_IMPL is defined.\n+\t* src/compatibility-ldbl.cc: Include \"hash.cc\".\n+\t(_GLIBCXX_LONG_DOUBLE_COMPAT_IMPL): Define.\n+\t(_ZNKSt4hashIeEclEe): New alias.\n+\t* testsuite/util/testsuite_abi.cc (check_version): Support\n+\tGLIBCXX_LDBL_3.4.10. \n+\n 2008-02-25  Jan Beulich  <jbeulich@novell.com>\n \n \t* acinclude.m4: Also check for EIDRM and ETXTBSY."}, {"sha": "3bcbde317c833d3562088f8b8fa43262cf12e518", "filename": "libstdc++-v3/config/abi/pre/gnu.ver", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7371aff837fcf6b21f6b12aec587819e621d46f6/libstdc%2B%2B-v3%2Fconfig%2Fabi%2Fpre%2Fgnu.ver", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7371aff837fcf6b21f6b12aec587819e621d46f6/libstdc%2B%2B-v3%2Fconfig%2Fabi%2Fpre%2Fgnu.ver", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fabi%2Fpre%2Fgnu.ver?ref=7371aff837fcf6b21f6b12aec587819e621d46f6", "patch": "@@ -770,14 +770,14 @@ GLIBCXX_3.4.10 {\n     _ZNKSt3tr14hashIRKSsEclES2_;\n     _ZNKSt3tr14hashISbIwSt11char_traitsIwESaIwEEEclES4_;\n     _ZNKSt3tr14hashISsEclESs;\n-    _ZNKSt3tr14hashI[eg]EclE[eg];\n+    _ZNKSt3tr14hashIeEclEe;\n \n     _ZNKSt4hashIRKSbIwSt11char_traitsIwESaIwEEEclES5_;\n     _ZNKSt4hashIRKSsEclES1_;\n     _ZNKSt4hashISbIwSt11char_traitsIwESaIwEEEclES3_;\n     _ZNKSt4hashISsEclESs;\n     _ZNKSt4hashISt10error_codeEclES0_;\n-    _ZNKSt4hashI[eg]EclE[eg];\n+    _ZNKSt4hashIeEclEe;\n \n     _ZSt17__verify_grouping*;\n     "}, {"sha": "0d634e83babcce9fff09d6dad963d7b2b10d0bdd", "filename": "libstdc++-v3/config/os/gnu-linux/ldbl-extra.ver", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7371aff837fcf6b21f6b12aec587819e621d46f6/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fgnu-linux%2Fldbl-extra.ver", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7371aff837fcf6b21f6b12aec587819e621d46f6/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fgnu-linux%2Fldbl-extra.ver", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fgnu-linux%2Fldbl-extra.ver?ref=7371aff837fcf6b21f6b12aec587819e621d46f6", "patch": "@@ -12,13 +12,19 @@ GLIBCXX_LDBL_3.4 {\n   *__gnu_cxx_ldbl128*;\n };\n \n+# Corresponding to exports in GLIBCXX_3.4.9, not GLIBCXX_3.4.7\n GLIBCXX_LDBL_3.4.7 {\n   _ZNSi10_M_extractIgEERSiRT_;\n   _ZNSt13basic_istreamIwSt11char_traitsIwEE10_M_extractIgEERS2_RT_;\n   _ZNSo9_M_insertIgEERSoT_;\n   _ZNSt13basic_ostreamIwSt11char_traitsIwEE9_M_insertIgEERS2_T_;\n } GLIBCXX_LDBL_3.4;\n \n+GLIBCXX_LDBL_3.4.10 {\n+  _ZNKSt3tr14hashIgEclEg;\n+  _ZNKSt4hashIgEclEg;\n+} GLIBCXX_LDBL_3.4.7;\n+\n CXXABI_LDBL_1.3 {\n   _ZT[IS]g;\n   _ZT[IS]Pg;"}, {"sha": "a94b227bdae584b918bbccd24411c8332b164d9a", "filename": "libstdc++-v3/src/compatibility-ldbl.cc", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7371aff837fcf6b21f6b12aec587819e621d46f6/libstdc%2B%2B-v3%2Fsrc%2Fcompatibility-ldbl.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7371aff837fcf6b21f6b12aec587819e621d46f6/libstdc%2B%2B-v3%2Fsrc%2Fcompatibility-ldbl.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2Fcompatibility-ldbl.cc?ref=7371aff837fcf6b21f6b12aec587819e621d46f6", "patch": "@@ -1,6 +1,6 @@\n // Compatibility symbols for -mlong-double-64 compatibility -*- C++ -*-\n \n-// Copyright (C) 2006\n+// Copyright (C) 2006, 2008\n // Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n@@ -36,6 +36,8 @@\n #error \"compatibility-ldbl.cc must be compiled with -mlong-double-64\"\n #endif\n \n+#define _GLIBCXX_LONG_DOUBLE_COMPAT_IMPL\n+\n namespace std\n {\n #define C char\n@@ -70,4 +72,13 @@ namespace std\n #endif\n }\n \n+// For std::tr1::hash<long double>::operator ()\n+#include \"hash.cc\"\n+\n+// std::tr1::hash<long double>::operator ()\n+// and std::hash<long double>::operator ()\n+// are the same, no need to duplicate them.\n+extern \"C\" void _ZNKSt4hashIeEclEe (void)\n+  __attribute__((alias (\"_ZNKSt3tr14hashIeEclEe\")));\n+\n #endif"}, {"sha": "372dbf23ccce7c634bbbc91af9597bc5012a10bb", "filename": "libstdc++-v3/src/hash.cc", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7371aff837fcf6b21f6b12aec587819e621d46f6/libstdc%2B%2B-v3%2Fsrc%2Fhash.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7371aff837fcf6b21f6b12aec587819e621d46f6/libstdc%2B%2B-v3%2Fsrc%2Fhash.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2Fhash.cc?ref=7371aff837fcf6b21f6b12aec587819e621d46f6", "patch": "@@ -1,6 +1,6 @@\n //  std::hash and std::tr1::hash definitions -*- C++ -*-\n \n-// Copyright (C) 2007 Free Software Foundation, Inc.\n+// Copyright (C) 2007, 2008 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -74,6 +74,7 @@ _GLIBCXX_BEGIN_NAMESPACE_TR1\n       return __result;\n     };\n \n+#ifndef _GLIBCXX_LONG_DOUBLE_COMPAT_IMPL\n   template<>\n     size_t\n     hash<string>::operator()(string __s) const\n@@ -101,6 +102,7 @@ _GLIBCXX_BEGIN_NAMESPACE_TR1\n       return _Fnv_hash<>::hash(__p, __s.length() * sizeof(wchar_t));\n     }\n #endif\n+#endif\n \n _GLIBCXX_END_NAMESPACE_TR1\n }"}, {"sha": "67c1e5294e990e3e79cb05d284377b5d0831553e", "filename": "libstdc++-v3/testsuite/util/testsuite_abi.cc", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7371aff837fcf6b21f6b12aec587819e621d46f6/libstdc%2B%2B-v3%2Ftestsuite%2Futil%2Ftestsuite_abi.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7371aff837fcf6b21f6b12aec587819e621d46f6/libstdc%2B%2B-v3%2Ftestsuite%2Futil%2Ftestsuite_abi.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Futil%2Ftestsuite_abi.cc?ref=7371aff837fcf6b21f6b12aec587819e621d46f6", "patch": "@@ -1,6 +1,6 @@\n // -*- C++ -*-\n \n-// Copyright (C) 2004, 2005, 2006, 2007 Free Software Foundation, Inc.\n+// Copyright (C) 2004, 2005, 2006, 2007, 2008 Free Software Foundation, Inc.\n \n // This library is free software; you can redistribute it and/or\n // modify it under the terms of the GNU General Public License as\n@@ -194,6 +194,7 @@ check_version(symbol& test, bool added)\n       known_versions.push_back(\"GLIBCXX_3.4.10\");\n       known_versions.push_back(\"GLIBCXX_LDBL_3.4\");\n       known_versions.push_back(\"GLIBCXX_LDBL_3.4.7\");\n+      known_versions.push_back(\"GLIBCXX_LDBL_3.4.10\");\n       known_versions.push_back(\"CXXABI_1.3\");\n       known_versions.push_back(\"CXXABI_1.3.1\");\n       known_versions.push_back(\"CXXABI_1.3.2\");"}]}