{"sha": "b7a80862349bb9df5143ad83308bc1c7e6df331d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjdhODA4NjIzNDliYjlkZjUxNDNhZDgzMzA4YmMxYzdlNmRmMzMxZA==", "commit": {"author": {"name": "Andy Vaught", "email": "andy@maxwell.la.asu.edu", "date": "2000-02-17T10:06:03Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2000-02-17T10:06:03Z"}, "message": "Andy Vaught  <andy@maxwell.la.asu.edu>\n\n        * com.c (ffecom_member_phase2_): Re-enable COMMON debug code.\n        (ffecom_finish_symbol_transform_): Likewise.\n        (ffecom_transform_common_): Call ffestorag_set_hook.\n\nFrom-SVN: r32034", "tree": {"sha": "9468e43005522e015f71e843acfaf593183ae8a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9468e43005522e015f71e843acfaf593183ae8a7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b7a80862349bb9df5143ad83308bc1c7e6df331d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7a80862349bb9df5143ad83308bc1c7e6df331d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7a80862349bb9df5143ad83308bc1c7e6df331d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7a80862349bb9df5143ad83308bc1c7e6df331d/comments", "author": null, "committer": null, "parents": [{"sha": "ee8d66f79529a789cf0dbfbc82f8eca84178d660", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee8d66f79529a789cf0dbfbc82f8eca84178d660", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee8d66f79529a789cf0dbfbc82f8eca84178d660"}], "stats": {"total": 17, "additions": 10, "deletions": 7}, "files": [{"sha": "f9ae0163eb9aca3ca966b54b8068b6593a889331", "filename": "gcc/f/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7a80862349bb9df5143ad83308bc1c7e6df331d/gcc%2Ff%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7a80862349bb9df5143ad83308bc1c7e6df331d/gcc%2Ff%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2FChangeLog?ref=b7a80862349bb9df5143ad83308bc1c7e6df331d", "patch": "@@ -1,3 +1,9 @@\n+2000-02-17  Andy Vaught  <andy@maxwell.la.asu.edu>\n+\n+\t* com.c (ffecom_member_phase2_): Re-enable COMMON debug code.\n+\t(ffecom_finish_symbol_transform_): Likewise.\n+\t(ffecom_transform_common_): Call ffestorag_set_hook.\n+\n Wed Feb 16 11:09:38 2000  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* Make-lang.in (g77spec.o): Depend on $(GCC_H), not gcc.h."}, {"sha": "49560ac92c471da9d6206d944cd11e150c2875c9", "filename": "gcc/f/com.c", "status": "modified", "additions": 4, "deletions": 7, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7a80862349bb9df5143ad83308bc1c7e6df331d/gcc%2Ff%2Fcom.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7a80862349bb9df5143ad83308bc1c7e6df331d/gcc%2Ff%2Fcom.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fcom.c?ref=b7a80862349bb9df5143ad83308bc1c7e6df331d", "patch": "@@ -421,9 +421,7 @@ static void ffecom_let_char_ (tree dest_tree,\n \t\t\t      ffebld source);\n static void ffecom_make_gfrt_ (ffecomGfrt ix);\n static void ffecom_member_phase1_ (ffestorag mst, ffestorag st);\n-#ifdef SOMEONE_GETS_DEBUG_SUPPORT_WORKING\n static void ffecom_member_phase2_ (ffestorag mst, ffestorag st);\n-#endif\n static void ffecom_prepare_let_char_ (ffetargetCharacterSize dest_size,\n \t\t\t\t      ffebld source);\n static void ffecom_push_dummy_decls_ (ffebld dumlist,\n@@ -6146,7 +6144,6 @@ ffecom_finish_symbol_transform_ (ffesymbol s)\n   if ((ffesymbol_where (s) == FFEINFO_whereCOMMON)\n       && (ffesymbol_hook (s).decl_tree != error_mark_node))\n     {\n-#ifdef SOMEONE_GETS_DEBUG_SUPPORT_WORKING\n       int yes = suspend_momentary ();\n \n       /* This isn't working, at least for dbxout.  The .s file looks\n@@ -6159,7 +6156,6 @@ ffecom_finish_symbol_transform_ (ffesymbol s)\n \t\t\t     ffesymbol_storage (s));\n \n       resume_momentary (yes);\n-#endif\n     }\n \n   return s;\n@@ -7107,7 +7103,6 @@ ffecom_member_phase1_ (ffestorag mst UNUSED, ffestorag st)\n    referencing the member.  */\n \n #if FFECOM_targetCURRENT == FFECOM_targetGCC\n-#ifdef SOMEONE_GETS_DEBUG_SUPPORT_WORKING\n static void\n ffecom_member_phase2_ (ffestorag mst, ffestorag st)\n {\n@@ -7151,7 +7146,6 @@ ffecom_member_phase2_ (ffestorag mst, ffestorag st)\n   finish_decl (t, NULL_TREE, FALSE);\n }\n \n-#endif\n #endif\n /* Prepare source expression for assignment into a destination perhaps known\n    to be of a specific size.  */\n@@ -8729,7 +8723,10 @@ ffecom_transform_common_ (ffesymbol s)\n   if ((cbt != NULL_TREE)\n       && (!is_init\n \t  || !DECL_EXTERNAL (cbt)))\n-    return;\n+    {\n+      if (st->hook == NULL) ffestorag_set_hook (st, cbt);\n+      return;\n+    }\n \n   /* Process inits.  */\n "}]}