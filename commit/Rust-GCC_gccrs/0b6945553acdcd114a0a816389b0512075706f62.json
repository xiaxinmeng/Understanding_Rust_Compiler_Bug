{"sha": "0b6945553acdcd114a0a816389b0512075706f62", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGI2OTQ1NTUzYWNkY2QxMTRhMGE4MTYzODliMDUxMjA3NTcwNmY2Mg==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2005-03-23T21:46:07Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2005-03-23T21:46:07Z"}, "message": "libstdc++.exp (libstdc++_wchar_t): Rename to ...\n\n\t* testsuite/lib/libstdc++.exp (libstdc++_wchar_t): Rename to ...\n\t(v3-wchar_t): ... this.\n\t(libstdc++_threads): Rename to ...\n\t(v3-threads): ... this.\n\t(libstdc++_test_objs): Rename to ...\n\t(v3-test_objs): ... this.\n\t(libstdc++_build_support): Rename to ...\n\t(v3-build_support): ... this.\n\t* testsuite/libstdc++-dg/normal.exp: Adjust to use new names.\n\nFrom-SVN: r96957", "tree": {"sha": "14e91857b6d234ab67eba3cbe0384182378d60f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/14e91857b6d234ab67eba3cbe0384182378d60f4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0b6945553acdcd114a0a816389b0512075706f62", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b6945553acdcd114a0a816389b0512075706f62", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b6945553acdcd114a0a816389b0512075706f62", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b6945553acdcd114a0a816389b0512075706f62/comments", "author": null, "committer": null, "parents": [{"sha": "2852cd64d82f0ec40c0a5a0d2a6b48841aa3d825", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2852cd64d82f0ec40c0a5a0d2a6b48841aa3d825", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2852cd64d82f0ec40c0a5a0d2a6b48841aa3d825"}], "stats": {"total": 48, "additions": 29, "deletions": 19}, "files": [{"sha": "33b9873cfe138267bf9930a32084fa4531c333b5", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b6945553acdcd114a0a816389b0512075706f62/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b6945553acdcd114a0a816389b0512075706f62/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=0b6945553acdcd114a0a816389b0512075706f62", "patch": "@@ -1,5 +1,15 @@\n 2005-03-23  Mark Mitchell  <mark@codesourcery.com>\n \n+\t* testsuite/lib/libstdc++.exp (libstdc++_wchar_t): Rename to ...\n+\t(v3-wchar_t): ... this.\n+\t(libstdc++_threads): Rename to ...\n+\t(v3-threads): ... this.\n+\t(libstdc++_test_objs): Rename to ...\n+\t(v3-test_objs): ... this.\n+\t(libstdc++_build_support): Rename to ...\n+\t(v3-build_support): ... this.\n+\t* testsuite/libstdc++-dg/normal.exp: Adjust to use new names.\n+\n \t* testsuite/lib/libstdc++.exp (libstdc++_init): Improve handling\n \tof compilers not in the build directory.\n \t(libstdc++_wchar_t): New variable."}, {"sha": "0b870a531bca95f92a5a7531602425fa1786c648", "filename": "libstdc++-v3/testsuite/lib/libstdc++.exp", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b6945553acdcd114a0a816389b0512075706f62/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b6945553acdcd114a0a816389b0512075706f62/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp?ref=0b6945553acdcd114a0a816389b0512075706f62", "patch": "@@ -248,13 +248,13 @@ proc libstdc++-dg-test { prog do_what extra_tool_flags } {\n }\n \n # True if the library supports wchar_t.\n-set libstdc++_wchar_t 0\n+set v3-wchar_t 0\n \n # True if the library supports threads.\n-set libstdc++_threads 0\n+set v3-threads 0\n \n # A string naming object files to be linked into all tests.\n-set libstdc++_test_objs \"\"\n+set v3-test_objs \"\"\n \n # Called from libstdc++-dg-test above.  Calls back into system's\n # target_compile to actually do the work.\n@@ -265,7 +265,7 @@ proc v3_target_compile { source dest type options } {\n     global cxxflags\n     global includes\n     global blddir\n-    global libstdc++_test_objs\n+    global v3-test_objs\n \n     if { [target_info needs_status_wrapper] != \"\" && [info exists gluefile] } {\n         lappend options \"libs=${gluefile}\"\n@@ -279,7 +279,7 @@ proc v3_target_compile { source dest type options } {\n     set cxx_final [concat $cxx_final $includes]\n     # Link the support objects into executables.\n     if { $type == \"executable\" } {\n-\tset cxx_final [concat $cxx_final ${libstdc++_test_objs}]\n+\tset cxx_final [concat $cxx_final ${v3-test_objs}]\n     }\n \n     lappend options \"compiler=$cxx_final\"\n@@ -288,18 +288,18 @@ proc v3_target_compile { source dest type options } {\n }\n \n # Build the support objects linked in with the libstdc++ tests.  In\n-# addition, set libstdc++_wchar_t, libstdc++_threads, and libstdc++_test_objs\n+# addition, set v3-wchar_t, v3-threads, and v3-test_objs\n # appropriately.\n-proc libstdc++_build_support {} {\n+proc v3-build_support {} {\n     global srcdir\n-    global libstdc++_wchar_t\n-    global libstdc++_threads\n-    global libstdc++_test_objs\n+    global v3-wchar_t\n+    global v3-threads\n+    global v3-test_objs\n \n     # Figure out whether or not the library supports certain features.\n-    set libstdc++_wchar_t 0\n-    set libstdc++_threads 0\n-    set libstdc++_test_objs \"\"\n+    set v3-wchar_t 0\n+    set v3-threads 0\n+    set v3-test_objs \"\"\n \n     set config_src \"config.cc\"\n     set f [open $config_src \"w\"]\n@@ -310,10 +310,10 @@ proc libstdc++_build_support {} {\n     foreach l $preprocessed {\n \tif { [string first \"_GLIBCXX_USE_WCHAR_T\" $l] != -1 } {\n \t    verbose -log \"wchar_t support detected\"\n-\t    set libstdc++_wchar_t 1\n+\t    set v3-wchar_t 1\n \t} elseif { [string first \"_GLIBCXX_HAVE_GTHR_DEFAULT\" $l] != -1 } {\n \t    verbose -log \"thread support detected\"\n-\t    set libstdc++_threads 1\n+\t    set v3-threads 1\n \t}\n     }\n \n@@ -327,6 +327,6 @@ proc libstdc++_build_support {} {\n \t     != \"\" } {\n \t    error \"could not compile $f\"\n \t}\n-\tappend libstdc++_test_objs \"$object_file \"\n+\tappend v3-test_objs \"$object_file \"\n     }\n }"}, {"sha": "29b16f2a8939af9ba34b5b4e1dce9f9953a20d40", "filename": "libstdc++-v3/testsuite/libstdc++-dg/normal.exp", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b6945553acdcd114a0a816389b0512075706f62/libstdc%2B%2B-v3%2Ftestsuite%2Flibstdc%2B%2B-dg%2Fnormal.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b6945553acdcd114a0a816389b0512075706f62/libstdc%2B%2B-v3%2Ftestsuite%2Flibstdc%2B%2B-dg%2Fnormal.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Flibstdc%2B%2B-dg%2Fnormal.exp?ref=0b6945553acdcd114a0a816389b0512075706f62", "patch": "@@ -22,7 +22,7 @@\n dg-init\n \n # Build the support objects.\n-libstdc++_build_support\n+v3-build_support\n \n # Find directories that might have tests.\n set subdirs [glob \"$srcdir/\\[0-9\\]\\[0-9\\]*\"]\n@@ -51,8 +51,8 @@ foreach s $subdirs {\n \t# 4. thread tests, if not supported. \n \tif { [string first _xin $t] == -1\n \t     && [string first performance $t] == -1\n-\t     && (${libstdc++_wchar_t} || [string first wchar_t $t] == -1) \n-             && (${libstdc++_threads} || [string first thread $t] == -1) } {\n+\t     && (${v3-wchar_t} || [string first wchar_t $t] == -1) \n+             && (${v3-threads} || [string first thread $t] == -1) } {\n \t    lappend tests $t\n \t}\n     }"}]}