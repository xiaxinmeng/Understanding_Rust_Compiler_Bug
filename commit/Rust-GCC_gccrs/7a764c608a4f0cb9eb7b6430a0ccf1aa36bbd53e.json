{"sha": "7a764c608a4f0cb9eb7b6430a0ccf1aa36bbd53e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2E3NjRjNjA4YTRmMGNiOWViN2I2NDMwYTBjY2YxYWEzNmJiZDUzZQ==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2013-08-30T07:47:54Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2013-08-30T07:47:54Z"}, "message": "re PR tree-optimization/58010 (ICE in vect_create_epilog_for_reduction, at tree-vect-loop.c:4378)\n\n2013-08-30  Richard Biener  <rguenther@suse.de>\n\n\tPR tree-optimization/58010\n\t* tree-vect-loop.c (vect_create_epilog_for_reduction): Remove\n\tassert that we have a loop-closed PHI.\n\n\t* gcc.dg/pr58010.c: New testcase.\n\nFrom-SVN: r202095", "tree": {"sha": "2bb2dc21225ff64d9bd30536685b130abb71793c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2bb2dc21225ff64d9bd30536685b130abb71793c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7a764c608a4f0cb9eb7b6430a0ccf1aa36bbd53e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a764c608a4f0cb9eb7b6430a0ccf1aa36bbd53e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a764c608a4f0cb9eb7b6430a0ccf1aa36bbd53e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a764c608a4f0cb9eb7b6430a0ccf1aa36bbd53e/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "82e9d6426cfbfd4765d2d10b1a4c097a83ca264f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82e9d6426cfbfd4765d2d10b1a4c097a83ca264f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/82e9d6426cfbfd4765d2d10b1a4c097a83ca264f"}], "stats": {"total": 31, "additions": 28, "deletions": 3}, "files": [{"sha": "3c46e54135efc8e3aff5c0fad80a73675c34042e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a764c608a4f0cb9eb7b6430a0ccf1aa36bbd53e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a764c608a4f0cb9eb7b6430a0ccf1aa36bbd53e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7a764c608a4f0cb9eb7b6430a0ccf1aa36bbd53e", "patch": "@@ -1,3 +1,9 @@\n+2013-08-30  Richard Biener  <rguenther@suse.de>\n+\n+\tPR tree-optimization/58010\n+\t* tree-vect-loop.c (vect_create_epilog_for_reduction): Remove\n+\tassert that we have a loop-closed PHI.\n+\n 2013-08-29  Jan Hubicka  <jh@suse.cz>\n \n \t* lto-symtab.c (lto_cgraph_replace_node): Free decl_in_state."}, {"sha": "8d93f2ef9936226eb5440317117c534055f39aa1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a764c608a4f0cb9eb7b6430a0ccf1aa36bbd53e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a764c608a4f0cb9eb7b6430a0ccf1aa36bbd53e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7a764c608a4f0cb9eb7b6430a0ccf1aa36bbd53e", "patch": "@@ -1,3 +1,8 @@\n+2013-08-30  Richard Biener  <rguenther@suse.de>\n+\n+\tPR tree-optimization/58010\n+\t* gcc.dg/pr58010.c: New testcase.\n+\n 2013-08-29  Xinliang DavidLi  <davidxl@google.com>\n \t\n \t* gcc.dg/unroll_3.c: Message change."}, {"sha": "a0fbd31f4958ef6a4c161cb16d15e1f2b7ac80d4", "filename": "gcc/testsuite/gcc.dg/pr58010.c", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a764c608a4f0cb9eb7b6430a0ccf1aa36bbd53e/gcc%2Ftestsuite%2Fgcc.dg%2Fpr58010.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a764c608a4f0cb9eb7b6430a0ccf1aa36bbd53e/gcc%2Ftestsuite%2Fgcc.dg%2Fpr58010.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr58010.c?ref=7a764c608a4f0cb9eb7b6430a0ccf1aa36bbd53e", "patch": "@@ -0,0 +1,15 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -funswitch-loops -ftree-vectorize\" } */\n+\n+short a, b, c, d;\n+\n+void f(void)\n+{\n+  short e;\n+\n+  for(; e; e++)\n+    for(; b; b++);\n+\n+  for(d = 0; d < 4; d++)\n+    a ^= (e ^= 1) || c ? : e;\n+}"}, {"sha": "e8a4ac1643b06f91871ddb2e68de89b51d4c2b7e", "filename": "gcc/tree-vect-loop.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a764c608a4f0cb9eb7b6430a0ccf1aa36bbd53e/gcc%2Ftree-vect-loop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a764c608a4f0cb9eb7b6430a0ccf1aa36bbd53e/gcc%2Ftree-vect-loop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-loop.c?ref=7a764c608a4f0cb9eb7b6430a0ccf1aa36bbd53e", "patch": "@@ -4373,9 +4373,8 @@ vect_create_epilog_for_reduction (vec<tree> vect_defs, gimple stmt,\n         if (!flow_bb_inside_loop_p (loop, gimple_bb (USE_STMT (use_p))))\n           phis.safe_push (USE_STMT (use_p));\n \n-      /* We expect to have found an exit_phi because of loop-closed-ssa\n-         form.  */\n-      gcc_assert (!phis.is_empty ());\n+      /* While we expect to have found an exit_phi because of loop-closed-ssa\n+         form we can end up without one if the scalar cycle is dead.  */\n \n       FOR_EACH_VEC_ELT (phis, i, exit_phi)\n         {"}]}