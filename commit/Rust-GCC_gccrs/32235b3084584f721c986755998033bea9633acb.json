{"sha": "32235b3084584f721c986755998033bea9633acb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzIyMzViMzA4NDU4NGY3MjFjOTg2NzU1OTk4MDMzYmVhOTYzM2FjYg==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-04-17T22:17:33Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-04-17T22:17:33Z"}, "message": "*** empty log message ***\n\nFrom-SVN: r766", "tree": {"sha": "6456359f1da77741038977191faddb49c71f285a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6456359f1da77741038977191faddb49c71f285a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/32235b3084584f721c986755998033bea9633acb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32235b3084584f721c986755998033bea9633acb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32235b3084584f721c986755998033bea9633acb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32235b3084584f721c986755998033bea9633acb/comments", "author": null, "committer": null, "parents": [{"sha": "2e1dbf228dab2af6b51f8bd87a5e811b20059e58", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e1dbf228dab2af6b51f8bd87a5e811b20059e58", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e1dbf228dab2af6b51f8bd87a5e811b20059e58"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "34a7e2912d88bbc6a023aca9cfa9923680d23eda", "filename": "gcc/toplev.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32235b3084584f721c986755998033bea9633acb/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32235b3084584f721c986755998033bea9633acb/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=32235b3084584f721c986755998033bea9633acb", "patch": "@@ -2032,7 +2032,8 @@ rest_of_compilation (decl)\n      functions.  */\n   rtx_equal_function_value_matters = 0;\n \n-  if (rtl_dump_and_exit || flag_syntax_only)\n+  /* Don't return yet if -Wreturn-type; we need to do jump_optimize.  */\n+  if ((rtl_dump_and_exit || flag_syntax_only) && !warn_return_type)\n     {\n       goto exit_rest_of_compilation;\n     }\n@@ -2080,6 +2081,10 @@ rest_of_compilation (decl)\n       TIMEVAR (jump_time, jump_optimize (insns, 0, 0, 1));\n     }\n \n+  /* Now is when we stop if -fsyntax-only and -Wreturn-type.  */\n+  if (rtl_dump_and_exit || flag_syntax_only)\n+    goto exit_rest_of_compilation;\n+\n   /* Dump rtl code after jump, if we are doing that.  */\n \n   if (jump_opt_dump)"}]}