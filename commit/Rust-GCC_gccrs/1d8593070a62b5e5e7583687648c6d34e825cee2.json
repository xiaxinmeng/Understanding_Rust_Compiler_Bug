{"sha": "1d8593070a62b5e5e7583687648c6d34e825cee2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWQ4NTkzMDcwYTYyYjVlNWU3NTgzNjg3NjQ4YzZkMzRlODI1Y2VlMg==", "commit": {"author": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2020-01-28T09:27:16Z"}, "committer": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2020-01-28T09:27:16Z"}, "message": "Add couple of auto_diagnostic_group in redeclare_class_template.\n\n\tPR c++/92440\n\t* pt.c (redeclare_class_template): Group couple of\n\terrors and inform messages with auto_diagnostic_group.", "tree": {"sha": "bf63e3cf1892d3eb9668a27ed082b0d13a244ee2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bf63e3cf1892d3eb9668a27ed082b0d13a244ee2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1d8593070a62b5e5e7583687648c6d34e825cee2", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEE6I4wzqqylQBfXaRhTcGC3A+nN4UFAl4v/nQACgkQTcGC3A+n\nN4WQVQf9Fg7jjJAv++xOWewb4Fz6t1YMglIUL/wci1F8d67DeMvZm/a7qHgmgToa\nvwufQWChgNvl50HLBWP1m6+cYuugzj2akr+m1i65Fp5R9Om5Bl1heLuuVc8IlWvI\n/h1mN+w5c0W8xmcR+h/QL3T/ugGTpL5STZbykdq+6p/rjadniPw+1UogdCRbdSxu\n8dUJEISS8GuZwPI0TSHOGAyOTE5cx/aX7T0S6t5dkYdg70PTG3dtEa8/7gD7whT/\nB44k0DCxSEugYi5wug+fjwyl3/0AgoHEsaA5C/0xhoco2eC6Jvx6cuu7I9Te3qwT\nQCj8k8jDlITmQ0NhYCX7C8rtKStVHQ==\n=0S8X\n-----END PGP SIGNATURE-----", "payload": "tree bf63e3cf1892d3eb9668a27ed082b0d13a244ee2\nparent d3c00969fe619ae116dfbc07e6b364558acb6e3f\nauthor Martin Liska <mliska@suse.cz> 1580203636 +0100\ncommitter Martin Liska <mliska@suse.cz> 1580203636 +0100\n\nAdd couple of auto_diagnostic_group in redeclare_class_template.\n\n\tPR c++/92440\n\t* pt.c (redeclare_class_template): Group couple of\n\terrors and inform messages with auto_diagnostic_group.\n"}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d8593070a62b5e5e7583687648c6d34e825cee2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d8593070a62b5e5e7583687648c6d34e825cee2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d8593070a62b5e5e7583687648c6d34e825cee2/comments", "author": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d3c00969fe619ae116dfbc07e6b364558acb6e3f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3c00969fe619ae116dfbc07e6b364558acb6e3f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d3c00969fe619ae116dfbc07e6b364558acb6e3f"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "3d5c9a14492dc36bf0ed92903a1252692885b89f", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d8593070a62b5e5e7583687648c6d34e825cee2/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d8593070a62b5e5e7583687648c6d34e825cee2/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=1d8593070a62b5e5e7583687648c6d34e825cee2", "patch": "@@ -1,3 +1,9 @@\n+2020-01-28  Martin Liska  <mliska@suse.cz>\n+\n+\tPR c++/92440\n+\t* pt.c (redeclare_class_template): Group couple of\n+\terrors and inform messages with auto_diagnostic_group.\n+\n 2020-01-28  Martin Liska  <mliska@suse.cz>\n \n \tPR c++/92440"}, {"sha": "e889c800acacb84f691045388542726447758fbb", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d8593070a62b5e5e7583687648c6d34e825cee2/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d8593070a62b5e5e7583687648c6d34e825cee2/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=1d8593070a62b5e5e7583687648c6d34e825cee2", "patch": "@@ -6148,6 +6148,7 @@ redeclare_class_template (tree type, tree parms, tree cons)\n \t      && (TEMPLATE_PARM_PARAMETER_PACK (DECL_INITIAL (tmpl_parm))\n \t\t  != TEMPLATE_PARM_PARAMETER_PACK (DECL_INITIAL (parm)))))\n \t{\n+\t  auto_diagnostic_group d;\n \t  error (\"template parameter %q+#D\", tmpl_parm);\n \t  inform (input_location, \"redeclared here as %q#D\", parm);\n \t  return false;\n@@ -6159,6 +6160,7 @@ redeclare_class_template (tree type, tree parms, tree cons)\n       tree p2 = TREE_VEC_ELT (parms, i);\n       if (!template_parameter_constraints_equivalent_p (p1, p2))\n \t{\n+\t  auto_diagnostic_group d;\n \t  error (\"declaration of template parameter %q+#D with different \"\n \t\t \"constraints\", parm);\n \t  inform (DECL_SOURCE_LOCATION (tmpl_parm),\n@@ -6172,6 +6174,7 @@ redeclare_class_template (tree type, tree parms, tree cons)\n \n \t     A template-parameter may not be given default arguments\n \t     by two different declarations in the same scope.  */\n+\t  auto_diagnostic_group d;\n \t  error_at (input_location, \"redefinition of default argument for %q#D\", parm);\n \t  inform (DECL_SOURCE_LOCATION (tmpl_parm),\n \t\t  \"original definition appeared here\");\n@@ -6206,6 +6209,7 @@ redeclare_class_template (tree type, tree parms, tree cons)\n   /* Two classes with different constraints declare different entities.  */\n   if (!cp_tree_equal (req1, req2))\n     {\n+      auto_diagnostic_group d;\n       error_at (input_location, \"redeclaration %q#D with different \"\n                                 \"constraints\", tmpl);\n       inform (DECL_SOURCE_LOCATION (tmpl),"}]}