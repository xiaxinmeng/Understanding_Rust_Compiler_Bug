{"sha": "2babb33b576139065880a94bcedb6fbc49bad8a0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmJhYmIzM2I1NzYxMzkwNjU4ODBhOTRiY2VkYjZmYmM0OWJhZDhhMA==", "commit": {"author": {"name": "Jason Merrill", "email": "merrill@gnu.org", "date": "1994-04-04T21:21:02Z"}, "committer": {"name": "Jason Merrill", "email": "merrill@gnu.org", "date": "1994-04-04T21:21:02Z"}, "message": "scan-types.sh: Use __WCHAR_TYPE__, __PTRDIFF_TYPE__, and __SIZE_TYPE__.\n\n        * scan-types.sh: Use __WCHAR_TYPE__, __PTRDIFF_TYPE__, and\n        __SIZE_TYPE__.  Still deduce size_t so that it can be used for\n        ssize_t if necessary.\n\nFrom-SVN: r6963", "tree": {"sha": "3283b850970bfa60c08935f7d984ad9156acdc51", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3283b850970bfa60c08935f7d984ad9156acdc51"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2babb33b576139065880a94bcedb6fbc49bad8a0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2babb33b576139065880a94bcedb6fbc49bad8a0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2babb33b576139065880a94bcedb6fbc49bad8a0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2babb33b576139065880a94bcedb6fbc49bad8a0/comments", "author": null, "committer": null, "parents": [{"sha": "3ff2f6ea9bca3cf98a822f87cdaf988d8e5f1888", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ff2f6ea9bca3cf98a822f87cdaf988d8e5f1888", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3ff2f6ea9bca3cf98a822f87cdaf988d8e5f1888"}], "stats": {"total": 18, "additions": 4, "deletions": 14}, "files": [{"sha": "a2d460dc8a8b13add397c04d9379c23832d4f4ad", "filename": "gcc/scan-types.sh", "status": "modified", "additions": 4, "deletions": 14, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2babb33b576139065880a94bcedb6fbc49bad8a0/gcc%2Fscan-types.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2babb33b576139065880a94bcedb6fbc49bad8a0/gcc%2Fscan-types.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fscan-types.sh?ref=2babb33b576139065880a94bcedb6fbc49bad8a0", "patch": "@@ -25,16 +25,6 @@ typedef size_t Xsize_t;\n #elif defined(__SIZE_TYPE__)\n typedef __SIZE_TYPE__ Xsize_t;\n #endif\n-#ifdef ptrdiff_t\n-typedef ptrdiff_t Xptrdiff_t;\n-#elif defined(__PTRDIFF_TYPE__)\n-typedef __PTRDIFF_TYPE__ Xptrdiff_t;\n-#endif\n-#ifdef wchar_t\n-typedef wchar_t Xwchar_t;\n-#elif defined(__WCHAR_TYPE__)\n-typedef __WCHAR_TYPE__ Xwchar_t;\n-#endif\n #ifdef va_list\n typedef va_list XXXva_list;\n #endif\n@@ -46,7 +36,7 @@ else\n fi\n tr '\t' ' ' <TMP >dummy.out\n \n-for TYPE in dev_t clock_t fpos_t gid_t ino_t mode_t nlink_t off_t pid_t ptrdiff_t size_t ssize_t time_t uid_t va_list wchar_t int32_t uint_32_t ; do\n+for TYPE in dev_t clock_t fpos_t gid_t ino_t mode_t nlink_t off_t pid_t size_t ssize_t time_t uid_t va_list int32_t uint_32_t ; do\n     IMPORTED=`eval 'echo $'\"$TYPE\"`\n     if [ -n \"${IMPORTED}\" ] ; then\n \teval \"$TYPE='$IMPORTED\"\n@@ -84,11 +74,11 @@ cat <<!EOF!\n #define ${macro_prefix}nlink_t ${nlink_t-int /* default */}\n #define ${macro_prefix}off_t ${off_t-long /* default */}\n #define ${macro_prefix}pid_t ${pid_t-int /* default */}\n-#define ${macro_prefix}ptrdiff_t ${ptrdiff_t-long int /* default */}\n-#define ${macro_prefix}size_t ${size_t-unsigned long /* default */}\n+#define ${macro_prefix}ptrdiff_t __PTRDIFF_TYPE__\n+#define ${macro_prefix}size_t __SIZE_TYPE__\n #define ${macro_prefix}time_t ${time_t-int /* default */}\n #define ${macro_prefix}uid_t ${uid_t-int /* default */}\n-#define ${macro_prefix}wchar_t ${wchar_t-int /* default */}\n+#define ${macro_prefix}wchar_t __WCHAR_TYPE__\n #define ${macro_prefix}int32_t ${int32_t-int /* default */}\n #define ${macro_prefix}uint32_t ${uint32_t-unsigned int /* default */}\n !EOF!"}]}