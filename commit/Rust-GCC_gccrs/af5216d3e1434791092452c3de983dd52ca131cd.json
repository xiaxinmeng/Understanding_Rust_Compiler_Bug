{"sha": "af5216d3e1434791092452c3de983dd52ca131cd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWY1MjE2ZDNlMTQzNDc5MTA5MjQ1MmMzZGU5ODNkZDUyY2ExMzFjZA==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2008-07-09T15:45:50Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2008-07-09T15:45:50Z"}, "message": "re PR c++/36760 (Simple std::bind use causes warnings with -Wextra)\n\n/cp\n2008-07-09  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/36760\n\t* pt.c (tsubst_function_type): Don't warn for type qualifiers\n\ton function return type in case of system header.\n\n/testsuite\n2008-07-09  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/36760\n\t* g++.dg/warn/pragma-system_header5.C: New.\n\t* g++.dg/warn/pragma-system_header5.h: Likewise.\n\nFrom-SVN: r137660", "tree": {"sha": "98a09d1bcf6bafdf1d157cc33d04782be90ba063", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/98a09d1bcf6bafdf1d157cc33d04782be90ba063"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/af5216d3e1434791092452c3de983dd52ca131cd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/af5216d3e1434791092452c3de983dd52ca131cd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/af5216d3e1434791092452c3de983dd52ca131cd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/af5216d3e1434791092452c3de983dd52ca131cd/comments", "author": null, "committer": null, "parents": [{"sha": "361eefe75db3b115f4a33d8b5bdd04996df4c4d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/361eefe75db3b115f4a33d8b5bdd04996df4c4d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/361eefe75db3b115f4a33d8b5bdd04996df4c4d9"}], "stats": {"total": 26, "additions": 26, "deletions": 0}, "files": [{"sha": "b68a7951fd977d8f247bb9bbbf43551de7d332d0", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af5216d3e1434791092452c3de983dd52ca131cd/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af5216d3e1434791092452c3de983dd52ca131cd/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=af5216d3e1434791092452c3de983dd52ca131cd", "patch": "@@ -1,3 +1,9 @@\n+2008-07-09  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/36760\n+\t* pt.c (tsubst_function_type): Don't warn for type qualifiers\n+\ton function return type in case of system header.\n+\n 2008-07-09  Raksit Ashok <raksit@google.com>\n \n \t* parser.c (cp_parser_postfix_expression): New warning based on flag"}, {"sha": "3fee994a368861e9b1d6d858bc3091756aecaaef", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af5216d3e1434791092452c3de983dd52ca131cd/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af5216d3e1434791092452c3de983dd52ca131cd/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=af5216d3e1434791092452c3de983dd52ca131cd", "patch": "@@ -8768,6 +8768,7 @@ tsubst_function_type (tree t,\n   if (TYPE_QUALS (return_type) != TYPE_UNQUALIFIED\n       && in_decl != NULL_TREE\n       && !TREE_NO_WARNING (in_decl)\n+      && !DECL_IN_SYSTEM_HEADER (in_decl)\n       && (SCALAR_TYPE_P (return_type) || VOID_TYPE_P (return_type)))\n     warning (OPT_Wignored_qualifiers,\n             \"type qualifiers ignored on function return type\");"}, {"sha": "196c3fa2f87fc92c98d67125761cc59e4177ed56", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af5216d3e1434791092452c3de983dd52ca131cd/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af5216d3e1434791092452c3de983dd52ca131cd/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=af5216d3e1434791092452c3de983dd52ca131cd", "patch": "@@ -1,3 +1,9 @@\n+2008-07-09  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/36760\n+\t* g++.dg/warn/pragma-system_header5.C: New.\n+\t* g++.dg/warn/pragma-system_header5.h: Likewise.\n+\n 2008-07-09  Raksit Ashok <raksit@google.com>\n \n \t* gcc.dg/wdisallowed-functions-1.c: New test."}, {"sha": "771db3d7ce769317023563e4341cf2c81159db27", "filename": "gcc/testsuite/g++.dg/warn/pragma-system_header5.C", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af5216d3e1434791092452c3de983dd52ca131cd/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Fpragma-system_header5.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af5216d3e1434791092452c3de983dd52ca131cd/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Fpragma-system_header5.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Fpragma-system_header5.C?ref=af5216d3e1434791092452c3de983dd52ca131cd", "patch": "@@ -0,0 +1,10 @@\n+// PR c++/36760\n+// { dg-options \"-Wextra\" }\n+\n+#include \"pragma-system_header5.h\"\n+\n+void f()\n+{\n+  g<const double>();\n+  g<volatile void>();\n+}"}, {"sha": "5732e4afd3a8f612c1d79ad0f554acfa8a74678c", "filename": "gcc/testsuite/g++.dg/warn/pragma-system_header5.h", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af5216d3e1434791092452c3de983dd52ca131cd/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Fpragma-system_header5.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af5216d3e1434791092452c3de983dd52ca131cd/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Fpragma-system_header5.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Fpragma-system_header5.h?ref=af5216d3e1434791092452c3de983dd52ca131cd", "patch": "@@ -0,0 +1,3 @@\n+#pragma GCC system_header\n+\n+template <typename T> T g();"}]}