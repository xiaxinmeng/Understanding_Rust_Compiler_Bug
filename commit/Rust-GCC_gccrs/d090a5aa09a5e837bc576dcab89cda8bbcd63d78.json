{"sha": "d090a5aa09a5e837bc576dcab89cda8bbcd63d78", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDA5MGE1YWEwOWE1ZTgzN2JjNTc2ZGNhYjg5Y2RhOGJiY2Q2M2Q3OA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2011-03-22T16:02:59Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2011-03-22T16:02:59Z"}, "message": "* dwarf2out.c (dwarf2out_frame_debug_expr) [rule 11]: Handle post_dec.\n\nFrom-SVN: r171296", "tree": {"sha": "b90c4ecdc21a7addd4ca7397dd066011704138f3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b90c4ecdc21a7addd4ca7397dd066011704138f3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d090a5aa09a5e837bc576dcab89cda8bbcd63d78", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d090a5aa09a5e837bc576dcab89cda8bbcd63d78", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d090a5aa09a5e837bc576dcab89cda8bbcd63d78", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d090a5aa09a5e837bc576dcab89cda8bbcd63d78/comments", "author": null, "committer": null, "parents": [{"sha": "bdfe906f8c3dcce2fe349c97eb1b9d448b0f495e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bdfe906f8c3dcce2fe349c97eb1b9d448b0f495e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bdfe906f8c3dcce2fe349c97eb1b9d448b0f495e"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "3fff7d69741cc10b09009355919be8a882558086", "filename": "gcc/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d090a5aa09a5e837bc576dcab89cda8bbcd63d78/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d090a5aa09a5e837bc576dcab89cda8bbcd63d78/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d090a5aa09a5e837bc576dcab89cda8bbcd63d78", "patch": "@@ -16,6 +16,8 @@\n \t(*pushhi, *pushsi, *pushsf, popqi): Likewise.\n \t(pophi): Remove.\n \n+\t* dwarf2out.c (dwarf2out_frame_debug_expr) [rule 11]: Handle post_dec.\n+\n 2011-03-22  Nathan Froyd  <froydnj@codesourcery.com>\n \n \t* tree.c (build_call_1): New function."}, {"sha": "32ffe1b6d6291d211e824f0cad2841f95fbf0aef", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d090a5aa09a5e837bc576dcab89cda8bbcd63d78/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d090a5aa09a5e837bc576dcab89cda8bbcd63d78/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=d090a5aa09a5e837bc576dcab89cda8bbcd63d78", "patch": "@@ -2239,7 +2239,7 @@ dwarf2out_frame_debug_cfa_restore (rtx reg, const char *label)\n \t   cfa.base_offset = -cfa_store.offset\n \n   Rule 11:\n-  (set (mem ({pre_inc,pre_dec} sp:cfa_store.reg)) <reg>)\n+  (set (mem ({pre_inc,pre_dec,post_dec} sp:cfa_store.reg)) <reg>)\n   effects: cfa_store.offset += -/+ mode_size(mem)\n \t   cfa.offset = cfa_store.offset if cfa.reg == sp\n \t   cfa.reg = sp\n@@ -2258,7 +2258,7 @@ dwarf2out_frame_debug_cfa_restore (rtx reg, const char *label)\n \t   cfa.base_offset = -{cfa_store,cfa_temp}.offset\n \n   Rule 14:\n-  (set (mem (postinc <reg1>:cfa_temp <const_int>)) <reg2>)\n+  (set (mem (post_inc <reg1>:cfa_temp <const_int>)) <reg2>)\n   effects: cfa.reg = <reg1>\n \t   cfa.base_offset = -cfa_temp.offset\n \t   cfa_temp.offset -= mode_size(mem)\n@@ -2591,6 +2591,7 @@ dwarf2out_frame_debug_expr (rtx expr, const char *label)\n \t  /* Rule 11 */\n \tcase PRE_INC:\n \tcase PRE_DEC:\n+\tcase POST_DEC:\n \t  offset = GET_MODE_SIZE (GET_MODE (dest));\n \t  if (GET_CODE (XEXP (dest, 0)) == PRE_INC)\n \t    offset = -offset;\n@@ -2615,7 +2616,10 @@ dwarf2out_frame_debug_expr (rtx expr, const char *label)\n \t  if (cfa.reg == STACK_POINTER_REGNUM)\n \t    cfa.offset = cfa_store.offset;\n \n-\t  offset = -cfa_store.offset;\n+\t  if (GET_CODE (XEXP (dest, 0)) == POST_DEC)\n+\t    offset += -cfa_store.offset;\n+\t  else\n+\t    offset = -cfa_store.offset;\n \t  break;\n \n \t  /* Rule 12 */"}]}