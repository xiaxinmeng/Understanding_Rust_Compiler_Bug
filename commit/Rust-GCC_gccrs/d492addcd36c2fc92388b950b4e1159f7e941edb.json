{"sha": "d492addcd36c2fc92388b950b4e1159f7e941edb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDQ5MmFkZGNkMzZjMmZjOTIzODhiOTUwYjRlMTE1OWY3ZTk0MWVkYg==", "commit": {"author": {"name": "Daniel Berlin", "email": "dberlin@dberlin.org", "date": "2005-11-05T18:41:06Z"}, "committer": {"name": "Daniel Berlin", "email": "dberlin@gcc.gnu.org", "date": "2005-11-05T18:41:06Z"}, "message": "gcc_release: Make tags go in /tags.\n\n2005-11-05  Daniel Berlin  <dberlin@dberlin.org>\n\n\t* gcc_release: Make tags go in /tags.\n\tDon't tag for snapshots.\n\tDetermine revision number of export and put into snapshot\n\tannouncement.\n\nFrom-SVN: r106531", "tree": {"sha": "0f6947dfc6766d76c351324276d4236a1e67e895", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0f6947dfc6766d76c351324276d4236a1e67e895"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d492addcd36c2fc92388b950b4e1159f7e941edb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d492addcd36c2fc92388b950b4e1159f7e941edb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d492addcd36c2fc92388b950b4e1159f7e941edb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d492addcd36c2fc92388b950b4e1159f7e941edb/comments", "author": {"login": "dberlin", "id": 324715, "node_id": "MDQ6VXNlcjMyNDcxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/324715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dberlin", "html_url": "https://github.com/dberlin", "followers_url": "https://api.github.com/users/dberlin/followers", "following_url": "https://api.github.com/users/dberlin/following{/other_user}", "gists_url": "https://api.github.com/users/dberlin/gists{/gist_id}", "starred_url": "https://api.github.com/users/dberlin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dberlin/subscriptions", "organizations_url": "https://api.github.com/users/dberlin/orgs", "repos_url": "https://api.github.com/users/dberlin/repos", "events_url": "https://api.github.com/users/dberlin/events{/privacy}", "received_events_url": "https://api.github.com/users/dberlin/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "304afda64b71d7db8236375440c79ff0a7c3a748", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/304afda64b71d7db8236375440c79ff0a7c3a748", "html_url": "https://github.com/Rust-GCC/gccrs/commit/304afda64b71d7db8236375440c79ff0a7c3a748"}], "stats": {"total": 26, "additions": 17, "deletions": 9}, "files": [{"sha": "82ab4393d01e0ebdcba3df2fe50ea5fb19913052", "filename": "maintainer-scripts/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d492addcd36c2fc92388b950b4e1159f7e941edb/maintainer-scripts%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d492addcd36c2fc92388b950b4e1159f7e941edb/maintainer-scripts%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2FChangeLog?ref=d492addcd36c2fc92388b950b4e1159f7e941edb", "patch": "@@ -1,3 +1,10 @@\n+2005-11-05  Daniel Berlin  <dberlin@dberlin.org>\n+\n+\t* gcc_release: Make tags go in /tags.\n+\tDon't tag for snapshots.\n+\tDetermine revision number of export and put into snapshot\n+\tannouncement.\n+\n 2005-11-03  Daniel Berlin  <dberlin@dberlin.org>\n \n \t* gcc_release: Update for SVN"}, {"sha": "c5e69a36433d9fc166d3baf1cee6754f1832f70f", "filename": "maintainer-scripts/gcc_release", "status": "modified", "additions": 10, "deletions": 9, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d492addcd36c2fc92388b950b4e1159f7e941edb/maintainer-scripts%2Fgcc_release", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d492addcd36c2fc92388b950b4e1159f7e941edb/maintainer-scripts%2Fgcc_release", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fgcc_release?ref=d492addcd36c2fc92388b950b4e1159f7e941edb", "patch": "@@ -160,7 +160,7 @@ EOF\n     fi\n \n     # Make sure we tag the sources for a final release.\n-    TAG=\"gcc_`echo ${RELEASE} | tr . _`_release\"\n+    TAG=\"tags/gcc_`echo ${RELEASE} | tr . _`_release\"\n \n     rm -rf ${SOURCE_DIRECTORY}\n   fi\n@@ -180,10 +180,9 @@ EOF\n     if ${SVN} ls \"${SVNROOT}/${EXPORTTAG}/ChangeLog\"; then \n       error \"Tag ${TAG} already exists\"\n     fi\n-    echo \"Would execute ${SVN} cp ${SVNROOT}/${SVNBRANCH} ${SVNROOT}/${TAG}\"\n-    #${SVN} -m \"Tagging source as ${TAG}\" cp \"${SVNROOT}/${SVNBRANCH}\" \"${SVNROOT}/${TAG}\" || \\\n+    ${SVN} -m \"Tagging source as ${TAG}\" cp \"${SVNROOT}/${SVNBRANCH}\" \"${SVNROOT}/${TAG}\" || \\\n     #  error \"Could not tag sources\"\n-    EXPORTTAG=\"${SVNBRANCH}\"\n+    #EXPORTTAG=\"${SVNBRANCH}\"\n   else\n     if [ ${SVNBRANCH} != \"/trunk\" ]; then\n       EXPORTTAG=\"/branches/${SVNBRANCH}\"\n@@ -202,9 +201,11 @@ EOF\n   if [ -z \"${EXPORTTAG}\" ]; then\n     ${SVN} -q export ${EXPORTDATE} \"${SVNROOT}/trunk\" \"`basename ${SOURCE_DIRECTORY}`\" ||\\\n       error \"Could not retrieve sources\"\n+    SVNREV = `${SVN} info ${EXPORTDATE} \"${SVNROOT}/trunk\"|grep \"Revision:\"|awk '{print $2}'`\n   elif [ -z \"${EXPORTDATE}\" ]; then\n     ${SVN} -q export \"${SVNROOT}/${EXPORTTAG}\" \"`basename ${SOURCE_DIRECTORY}`/\" ||\\\n       error \"Could not retrieve sources\"\n+    SVNREV = `${SVN} info \"${SVNROOT}/${EXPORTTAG}\"|grep \"Revision:\"|awk '{print $2}'`\n   else\n     error \"Cannot specify -r and -D at the same time\"\n   fi\n@@ -462,7 +463,7 @@ announce_snapshot() {\n and on various mirrors, see http://gcc.gnu.org/mirrors.html for details.\n \n This snapshot has been generated from the GCC \"${BRANCH}\" SVN branch\n-with the following options: \"${EXPORTTAG} ${EXPORTDATE}\"\n+with the following options: \"svn://gcc.gnu.org/svn/gcc/${SVNBRANCH} revision ${SVNREV}\"\n \n You'll find:\n \" > ${SNAPSHOT_README}\n@@ -486,7 +487,7 @@ we highly recommend you join the GCC developers list.  Details for\n how to sign up can be found on the GCC project home page.</p>\n \n <p>This snapshot has been generated from the GCC \"${BRANCH}\" SVN branch\n-with the following options: <code>\"svn://gcc.gnu.org/svn/gcc/${EXPORTTAG} ${EXPORTDATE}\"</code></p>\n+with the following options: <code>\"svn://gcc.gnu.org/svn/gcc/${SVNBRANCH} revision ${SVNREV}\"</code></p>\n \n <table>\" > ${SNAPSHOT_INDEX}\n        \n@@ -728,9 +729,9 @@ if [ $SNAPSHOT -eq 0 ]; then\n else\n   RELEASE=${BRANCH}-${DATE}\n   FTP_PATH=\"${FTP_PATH}/snapshots/${RELEASE}\"\n-  if [ ${SVNBRANCH} != \"HEAD\" ]; then\n-    TAG=tags/gcc-ss-`echo ${RELEASE} | tr '.' '_'`\n-  fi\n+#  if [ ${SVNBRANCH} != \"/trunk\" ]; then\n+#    TAG=tags/gcc-ss-`echo ${RELEASE} | tr '.' '_'`\n+#  fi\n \n   # If diffs are requested when building locally on gcc.gnu.org, we (usually)\n   # know what the last snapshot date was and take the corresponding tarballs,"}]}