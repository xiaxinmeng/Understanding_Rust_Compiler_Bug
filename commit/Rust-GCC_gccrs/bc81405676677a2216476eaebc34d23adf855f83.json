{"sha": "bc81405676677a2216476eaebc34d23adf855f83", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmM4MTQwNTY3NjY3N2EyMjE2NDc2ZWFlYmMzNGQyM2FkZjg1NWY4Mw==", "commit": {"author": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2008-01-28T19:02:47Z"}, "committer": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2008-01-28T19:02:47Z"}, "message": "re PR libfortran/34980 (Segfault in shape given a scalar)\n\n2008-01-27  Thomas Koenig  <tkoenig@gcc.gnu.org>\n\n\tPR libfortran/34980\n\t* m4/shape.m4:  If return array is empty, return early.\n\t* generated/shape_i4.c:  Regenerated.\n\t* generated/shape_i8.c:  Regenerated.\n\t* generated/shape_i16.c:  Regenerated.\n\nFrom-SVN: r131915", "tree": {"sha": "f3defc970bf3f58cf76fd6a1f8460b336a94a3f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f3defc970bf3f58cf76fd6a1f8460b336a94a3f8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bc81405676677a2216476eaebc34d23adf855f83", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bc81405676677a2216476eaebc34d23adf855f83", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bc81405676677a2216476eaebc34d23adf855f83", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bc81405676677a2216476eaebc34d23adf855f83/comments", "author": null, "committer": null, "parents": [{"sha": "2aa42e6e3bc7853d53a8231664a6efb0e87f944e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2aa42e6e3bc7853d53a8231664a6efb0e87f944e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2aa42e6e3bc7853d53a8231664a6efb0e87f944e"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "b71eb30065eaad8afd7b6e86824cb782aed637cd", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc81405676677a2216476eaebc34d23adf855f83/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc81405676677a2216476eaebc34d23adf855f83/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=bc81405676677a2216476eaebc34d23adf855f83", "patch": "@@ -1,3 +1,11 @@\n+2008-01-27  Thomas Koenig  <tkoenig@gcc.gnu.org>\n+\n+\tPR libfortran/34980\n+\t* m4/shape.m4:  If return array is empty, return early.\n+\t* generated/shape_i4.c:  Regenerated.\n+\t* generated/shape_i8.c:  Regenerated.\n+\t* generated/shape_i16.c:  Regenerated.\n+\n 2008-01-26  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR libfofortran/34887"}, {"sha": "77274d6002a8404b0a87943af4e108e6a1338b6f", "filename": "libgfortran/generated/shape_i16.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc81405676677a2216476eaebc34d23adf855f83/libgfortran%2Fgenerated%2Fshape_i16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc81405676677a2216476eaebc34d23adf855f83/libgfortran%2Fgenerated%2Fshape_i16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fshape_i16.c?ref=bc81405676677a2216476eaebc34d23adf855f83", "patch": "@@ -48,6 +48,9 @@ shape_16 (gfc_array_i16 * const restrict ret,\n \n   stride = ret->dim[0].stride;\n \n+  if (ret->dim[0].ubound < ret->dim[0].lbound)\n+    return;\n+\n   for (n = 0; n < GFC_DESCRIPTOR_RANK (array); n++)\n     {\n       ret->data[n * stride] ="}, {"sha": "787ba544c21f7fa3a9a5ab78e8ae843810acc916", "filename": "libgfortran/generated/shape_i4.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc81405676677a2216476eaebc34d23adf855f83/libgfortran%2Fgenerated%2Fshape_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc81405676677a2216476eaebc34d23adf855f83/libgfortran%2Fgenerated%2Fshape_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fshape_i4.c?ref=bc81405676677a2216476eaebc34d23adf855f83", "patch": "@@ -48,6 +48,9 @@ shape_4 (gfc_array_i4 * const restrict ret,\n \n   stride = ret->dim[0].stride;\n \n+  if (ret->dim[0].ubound < ret->dim[0].lbound)\n+    return;\n+\n   for (n = 0; n < GFC_DESCRIPTOR_RANK (array); n++)\n     {\n       ret->data[n * stride] ="}, {"sha": "f318b170ab9e4a2cd50d49bd2fb335d163c3f5e6", "filename": "libgfortran/generated/shape_i8.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc81405676677a2216476eaebc34d23adf855f83/libgfortran%2Fgenerated%2Fshape_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc81405676677a2216476eaebc34d23adf855f83/libgfortran%2Fgenerated%2Fshape_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fshape_i8.c?ref=bc81405676677a2216476eaebc34d23adf855f83", "patch": "@@ -48,6 +48,9 @@ shape_8 (gfc_array_i8 * const restrict ret,\n \n   stride = ret->dim[0].stride;\n \n+  if (ret->dim[0].ubound < ret->dim[0].lbound)\n+    return;\n+\n   for (n = 0; n < GFC_DESCRIPTOR_RANK (array); n++)\n     {\n       ret->data[n * stride] ="}, {"sha": "3bda0ad8cbb18114428a5aa02de849f22f64903b", "filename": "libgfortran/m4/shape.m4", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc81405676677a2216476eaebc34d23adf855f83/libgfortran%2Fm4%2Fshape.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc81405676677a2216476eaebc34d23adf855f83/libgfortran%2Fm4%2Fshape.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fm4%2Fshape.m4?ref=bc81405676677a2216476eaebc34d23adf855f83", "patch": "@@ -49,6 +49,9 @@ shape_'rtype_kind` ('rtype` * const restrict ret,\n \n   stride = ret->dim[0].stride;\n \n+  if (ret->dim[0].ubound < ret->dim[0].lbound)\n+    return;\n+\n   for (n = 0; n < GFC_DESCRIPTOR_RANK (array); n++)\n     {\n       ret->data[n * stride] ="}]}