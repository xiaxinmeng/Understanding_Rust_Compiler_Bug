{"sha": "cac16ef9dadc3db4529dbcc204d13101f3e131b4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2FjMTZlZjlkYWRjM2RiNDUyOWRiY2MyMDRkMTMxMDFmM2UxMzFiNA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2000-11-22T01:52:14Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2000-11-22T01:52:14Z"}, "message": "varasm.c (record_constant): Pad the constructed constant_descriptor appropriately.\n\n        * varasm.c (record_constant): Pad the constructed\n        constant_descriptor appropriately.\n\nFrom-SVN: r37638", "tree": {"sha": "515408a85dcc15bfa2477e35305b6f015906427b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/515408a85dcc15bfa2477e35305b6f015906427b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cac16ef9dadc3db4529dbcc204d13101f3e131b4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cac16ef9dadc3db4529dbcc204d13101f3e131b4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cac16ef9dadc3db4529dbcc204d13101f3e131b4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cac16ef9dadc3db4529dbcc204d13101f3e131b4/comments", "author": null, "committer": null, "parents": [{"sha": "033b8a0cdb692bbd6ec2ad2dd4ccc883c878cc09", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/033b8a0cdb692bbd6ec2ad2dd4ccc883c878cc09", "html_url": "https://github.com/Rust-GCC/gccrs/commit/033b8a0cdb692bbd6ec2ad2dd4ccc883c878cc09"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "215f3c85b26cfedffd9e65305dbc483c40afe638", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cac16ef9dadc3db4529dbcc204d13101f3e131b4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cac16ef9dadc3db4529dbcc204d13101f3e131b4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cac16ef9dadc3db4529dbcc204d13101f3e131b4", "patch": "@@ -1,3 +1,8 @@\n+2000-11-21  Richard Henderson  <rth@redhat.com>\n+\n+\t* varasm.c (record_constant): Pad the constructed\n+\tconstant_descriptor appropriately.\n+\n Wed Nov 22 00:52:55 2000  J\"orn Rennecke <amylaar@redhat.com>\n \n \t* rtl.h (traverse_md_constants): Declare."}, {"sha": "e9925bfd6bf3c69d87dae7b2a7eb463c6c0421fe", "filename": "gcc/varasm.c", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cac16ef9dadc3db4529dbcc204d13101f3e131b4/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cac16ef9dadc3db4529dbcc204d13101f3e131b4/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=cac16ef9dadc3db4529dbcc204d13101f3e131b4", "patch": "@@ -2797,13 +2797,22 @@ record_constant (exp)\n   struct constant_descriptor *next = 0;\n   char *label = 0;\n   rtx rtl = 0;\n+  int pad;\n \n   /* Make a struct constant_descriptor.  The first three pointers will\n      be filled in later.  Here we just leave space for them.  */\n \n   obstack_grow (&permanent_obstack, (char *) &next, sizeof next);\n   obstack_grow (&permanent_obstack, (char *) &label, sizeof label);\n   obstack_grow (&permanent_obstack, (char *) &rtl, sizeof rtl);\n+\n+  /* Align the descriptor for the data payload.  */\n+  pad = (offsetof (struct constant_descriptor, u)\n+\t - offsetof(struct constant_descriptor, rtl)\n+\t - sizeof(next->rtl));\n+  if (pad > 0)\n+    obstack_blank (&permanent_obstack, pad);\n+\n   record_constant_1 (exp);\n   return (struct constant_descriptor *) obstack_finish (&permanent_obstack);\n }"}]}