{"sha": "2ebb6f6e5162f2c759a883a30c3a49fbedbf5892", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmViYjZmNmU1MTYyZjJjNzU5YTg4M2EzMGMzYTQ5ZmJlZGJmNTg5Mg==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2021-09-10T06:18:45Z"}, "committer": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2021-09-13T09:17:33Z"}, "message": "Always default to DWARF2 debug for cygwin and mingw\n\nThis removes the fallback to STABS as default for cygwin and mingw\nwhen the assembler does not support .secrel32 and the default is\nto emit 32bit code.  Support for .secrel32 was added to binutils 2.16\nreleased in 2005 so instead document that as requirement.\n\nI left the now unused check for .secrel32 in configure around\nin case somebody wants to turn that into an error or warning.\n\n2021-09-10  Richard Biener  <rguenther@suse.de>\n\n\t* config/i386/cygming.h: Always default to DWARF2 debugging.\n\tDo not define DBX_DEBUGGING_INFO, that's done via dbxcoff.h\n\talready.\n\t* doc/install.texi: Document binutils 2.16 as minimum\n\trequirement for mingw.", "tree": {"sha": "717175e6525cc756433fb18e34b7f0816cf26e97", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/717175e6525cc756433fb18e34b7f0816cf26e97"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2ebb6f6e5162f2c759a883a30c3a49fbedbf5892", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ebb6f6e5162f2c759a883a30c3a49fbedbf5892", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ebb6f6e5162f2c759a883a30c3a49fbedbf5892", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ebb6f6e5162f2c759a883a30c3a49fbedbf5892/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fc4a29c0781186269dc5f668e76ecea82030dde3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fc4a29c0781186269dc5f668e76ecea82030dde3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fc4a29c0781186269dc5f668e76ecea82030dde3"}], "stats": {"total": 13, "additions": 4, "deletions": 9}, "files": [{"sha": "da872d10cd3f21c857562948a53b6069a4782ceb", "filename": "gcc/config/i386/cygming.h", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ebb6f6e5162f2c759a883a30c3a49fbedbf5892/gcc%2Fconfig%2Fi386%2Fcygming.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ebb6f6e5162f2c759a883a30c3a49fbedbf5892/gcc%2Fconfig%2Fi386%2Fcygming.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fcygming.h?ref=2ebb6f6e5162f2c759a883a30c3a49fbedbf5892", "patch": "@@ -18,17 +18,10 @@ You should have received a copy of the GNU General Public License\n along with GCC; see the file COPYING3.  If not see\n <http://www.gnu.org/licenses/>.  */\n \n-#define DBX_DEBUGGING_INFO 1\n-#if TARGET_64BIT_DEFAULT || defined (HAVE_GAS_PE_SECREL32_RELOC)\n #define DWARF2_DEBUGGING_INFO 1\n-#endif\n \n #undef PREFERRED_DEBUGGING_TYPE\n-#if (DWARF2_DEBUGGING_INFO)\n #define PREFERRED_DEBUGGING_TYPE DWARF2_DEBUG\n-#else\n-#define PREFERRED_DEBUGGING_TYPE DBX_DEBUG\n-#endif\n \n #undef TARGET_SEH\n #define TARGET_SEH  (TARGET_64BIT_MS_ABI && flag_unwind_tables)\n@@ -97,7 +90,6 @@ along with GCC; see the file COPYING3.  If not see\n #undef DWARF_FRAME_REGISTERS\n #define DWARF_FRAME_REGISTERS (TARGET_64BIT ? 33 : 17)\n \n-#ifdef HAVE_GAS_PE_SECREL32_RELOC\n /* Use section relative relocations for debugging offsets.  Unlike\n    other targets that fake this by putting the section VMA at 0, PE\n    won't allow it.  */\n@@ -129,7 +121,6 @@ along with GCC; see the file COPYING3.  If not see\n \tgcc_unreachable ();\t\t\t\t\t\\\n       }\t\t\t\t\t\t\t\t\\\n   } while (0)\n-#endif\n \n #define TARGET_EXECUTABLE_SUFFIX \".exe\"\n "}, {"sha": "88e453c3f6b6714f8ec4bfb1cd01816e15bd1991", "filename": "gcc/doc/install.texi", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ebb6f6e5162f2c759a883a30c3a49fbedbf5892/gcc%2Fdoc%2Finstall.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ebb6f6e5162f2c759a883a30c3a49fbedbf5892/gcc%2Fdoc%2Finstall.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finstall.texi?ref=2ebb6f6e5162f2c759a883a30c3a49fbedbf5892", "patch": "@@ -5131,6 +5131,10 @@ GCC will build with and support only MinGW runtime 3.12 and later.\n Earlier versions of headers are incompatible with the new default semantics\n of @code{extern inline} in @code{-std=c99} and @code{-std=gnu99} modes.\n \n+To support emitting DWARF debugging info you need to use GNU binutils\n+version 2.16 or above containing support for the @code{.secrel32}\n+assembler pseudo-op.\n+\n @html\n <hr />\n @end html"}]}