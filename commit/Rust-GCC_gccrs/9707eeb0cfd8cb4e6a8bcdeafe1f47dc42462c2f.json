{"sha": "9707eeb0cfd8cb4e6a8bcdeafe1f47dc42462c2f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTcwN2VlYjBjZmQ4Y2I0ZTZhOGJjZGVhZmUxZjQ3ZGM0MjQ2MmMyZg==", "commit": {"author": {"name": "Sebastian Pop", "email": "sebastian.pop@amd.com", "date": "2010-08-11T20:31:24Z"}, "committer": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2010-08-11T20:31:24Z"}, "message": "Fix miscompile of 416.gamess.\n\n2010-07-29  Sebastian Pop  <sebastian.pop@amd.com>\n\n\t* graphite-sese-to-poly.c (rewrite_close_phi_out_of_ssa): Add back\n\tthe case removed in the previous patch, when the only phi argument\n\tis defined in the same loop as the phi node itself.  Handle it\n\tseparately from the invariant case by both propagating it outside\n\tthe region and replacing the phi node with an assign.\n\nFrom-SVN: r163169", "tree": {"sha": "0f34ecbaa0b4bd2e13e9761443435279568aedda", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0f34ecbaa0b4bd2e13e9761443435279568aedda"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9707eeb0cfd8cb4e6a8bcdeafe1f47dc42462c2f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9707eeb0cfd8cb4e6a8bcdeafe1f47dc42462c2f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9707eeb0cfd8cb4e6a8bcdeafe1f47dc42462c2f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9707eeb0cfd8cb4e6a8bcdeafe1f47dc42462c2f/comments", "author": null, "committer": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "974335d63c6dc5bf22ac801edccc576f1bb2d7a2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/974335d63c6dc5bf22ac801edccc576f1bb2d7a2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/974335d63c6dc5bf22ac801edccc576f1bb2d7a2"}], "stats": {"total": 26, "additions": 26, "deletions": 0}, "files": [{"sha": "acad602018e308b33821a6e1fc3f0b228b501474", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9707eeb0cfd8cb4e6a8bcdeafe1f47dc42462c2f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9707eeb0cfd8cb4e6a8bcdeafe1f47dc42462c2f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9707eeb0cfd8cb4e6a8bcdeafe1f47dc42462c2f", "patch": "@@ -1,3 +1,11 @@\n+2010-08-02  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\t* graphite-sese-to-poly.c (rewrite_close_phi_out_of_ssa): Add back\n+\tthe case removed in the previous patch, when the only phi argument\n+\tis defined in the same loop as the phi node itself.  Handle it\n+\tseparately from the invariant case by both propagating it outside\n+\tthe region and replacing the phi node with an assign.\n+\n 2010-08-02  Sebastian Pop  <sebastian.pop@amd.com>\n \n \t* graphite-sese-to-poly.c (rewrite_close_phi_out_of_ssa): The only"}, {"sha": "e43d2ce50dbab7d14b556d1417f627db3df5ec05", "filename": "gcc/ChangeLog.graphite", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9707eeb0cfd8cb4e6a8bcdeafe1f47dc42462c2f/gcc%2FChangeLog.graphite", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9707eeb0cfd8cb4e6a8bcdeafe1f47dc42462c2f/gcc%2FChangeLog.graphite", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog.graphite?ref=9707eeb0cfd8cb4e6a8bcdeafe1f47dc42462c2f", "patch": "@@ -1,3 +1,11 @@\n+2010-07-29  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\t* graphite-sese-to-poly.c (rewrite_close_phi_out_of_ssa): Add back\n+\tthe case removed in the previous patch, when the only phi argument\n+\tis defined in the same loop as the phi node itself.  Handle it\n+\tseparately from the invariant case by both propagating it outside\n+\tthe region and replacing the phi node with an assign.\n+\n 2010-07-28  Sebastian Pop  <sebastian.pop@amd.com>\n \n \t* graphite-sese-to-poly.c (rewrite_close_phi_out_of_ssa): The only"}, {"sha": "4b94bcb4e77713657dae3bd8c93597f272a260fb", "filename": "gcc/graphite-sese-to-poly.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9707eeb0cfd8cb4e6a8bcdeafe1f47dc42462c2f/gcc%2Fgraphite-sese-to-poly.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9707eeb0cfd8cb4e6a8bcdeafe1f47dc42462c2f/gcc%2Fgraphite-sese-to-poly.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-sese-to-poly.c?ref=9707eeb0cfd8cb4e6a8bcdeafe1f47dc42462c2f", "patch": "@@ -2249,6 +2249,16 @@ rewrite_close_phi_out_of_ssa (gimple_stmt_iterator *psi, sese region)\n       return;\n     }\n \n+  else if (gimple_bb (SSA_NAME_DEF_STMT (arg))->loop_father == bb->loop_father)\n+    {\n+      propagate_expr_outside_region (res, arg, region);\n+      stmt = gimple_build_assign (res, arg);\n+      remove_phi_node (psi, false);\n+      gsi_insert_before (&gsi, stmt, GSI_NEW_STMT);\n+      SSA_NAME_DEF_STMT (res) = stmt;\n+      return;\n+    }\n+\n   /* If res is scev analyzable and is not a scalar value, it is safe\n      to ignore the close phi node: it will be code generated in the\n      out of Graphite pass.  */"}]}