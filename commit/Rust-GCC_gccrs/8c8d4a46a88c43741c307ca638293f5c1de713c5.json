{"sha": "8c8d4a46a88c43741c307ca638293f5c1de713c5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGM4ZDRhNDZhODhjNDM3NDFjMzA3Y2E2MzgyOTNmNWMxZGU3MTNjNQ==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2009-02-23T22:34:50Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2009-02-23T22:34:50Z"}, "message": "re PR c++/36411 (ICE with invalid template template parameter)\n\ngcc/cp\n\n2009-02-23  H.J. Lu  <hongjiu.lu@intel.com>\n\n\tPR c++/36411\n\t* pt.c (coerce_template_template_parms): Return 0 if parameter\n\tis error_mark_node.\n\ngcc/testsuite/\n\n2009-02-23  H.J. Lu  <hongjiu.lu@intel.com>\n\n\tPR c++/36411\n\t* g++.dg/template/void14.C: New.\n\nFrom-SVN: r144396", "tree": {"sha": "84e54c62e79ee4fc9bb0feb6b374ba881826abb2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/84e54c62e79ee4fc9bb0feb6b374ba881826abb2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8c8d4a46a88c43741c307ca638293f5c1de713c5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c8d4a46a88c43741c307ca638293f5c1de713c5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8c8d4a46a88c43741c307ca638293f5c1de713c5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c8d4a46a88c43741c307ca638293f5c1de713c5/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d8028f2cc34c6fe1f5a8b93762195dcdbbd37b71", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8028f2cc34c6fe1f5a8b93762195dcdbbd37b71", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d8028f2cc34c6fe1f5a8b93762195dcdbbd37b71"}], "stats": {"total": 21, "additions": 21, "deletions": 0}, "files": [{"sha": "0af13722a56c8663aa9c346c28b9beafc27bfc2e", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c8d4a46a88c43741c307ca638293f5c1de713c5/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c8d4a46a88c43741c307ca638293f5c1de713c5/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=8c8d4a46a88c43741c307ca638293f5c1de713c5", "patch": "@@ -1,3 +1,9 @@\n+2009-02-23  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR c++/36411\n+\t* pt.c (coerce_template_template_parms): Return 0 if parameter\n+\tis error_mark_node.\n+\n 2009-02-23  Jason Merrill  <jason@redhat.com>\n \n \t* pt.c (unify): Call maybe_adjust_types_for_deduction when"}, {"sha": "bef6002c4ff6aeca20c989d6cdbcf3ed1207ee6f", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c8d4a46a88c43741c307ca638293f5c1de713c5/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c8d4a46a88c43741c307ca638293f5c1de713c5/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=8c8d4a46a88c43741c307ca638293f5c1de713c5", "patch": "@@ -4756,6 +4756,9 @@ coerce_template_template_parms (tree parm_parms,\n     {\n       parm = TREE_VALUE (TREE_VEC_ELT (parm_parms, nparms - 1));\n       \n+      if (parm == error_mark_node)\n+\treturn 0;\n+\n       switch (TREE_CODE (parm))\n         {\n         case TEMPLATE_DECL:"}, {"sha": "ac5bf2ec57d07ff94d8a12a138f415ec6e5d88c7", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c8d4a46a88c43741c307ca638293f5c1de713c5/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c8d4a46a88c43741c307ca638293f5c1de713c5/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=8c8d4a46a88c43741c307ca638293f5c1de713c5", "patch": "@@ -1,3 +1,8 @@\n+2009-02-23  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR c++/36411\n+\t* g++.dg/template/void14.C: New.\n+\n 2009-02-23  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/38880"}, {"sha": "7781c61877996c98f40e3e8bac78024fee834a43", "filename": "gcc/testsuite/g++.dg/template/void14.C", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c8d4a46a88c43741c307ca638293f5c1de713c5/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fvoid14.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c8d4a46a88c43741c307ca638293f5c1de713c5/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fvoid14.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fvoid14.C?ref=8c8d4a46a88c43741c307ca638293f5c1de713c5", "patch": "@@ -0,0 +1,7 @@\n+// PR c++/36411\n+// { dg-do compile }\n+\n+template<template<void> class> struct A // { dg-error \"not a valid type\" }\n+{\n+  template<template<int> class T> A<T> foo(); // { dg-error \"mismatch|expected|invalid\" }\n+};"}]}