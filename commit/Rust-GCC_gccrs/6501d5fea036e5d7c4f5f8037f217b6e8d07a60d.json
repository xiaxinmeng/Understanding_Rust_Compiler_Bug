{"sha": "6501d5fea036e5d7c4f5f8037f217b6e8d07a60d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjUwMWQ1ZmVhMDM2ZTVkN2M0ZjVmODAzN2YyMTdiNmU4ZDA3YTYwZA==", "commit": {"author": {"name": "Kirill Yukhin", "email": "kirill.yukhin@intel.com", "date": "2015-11-30T10:50:56Z"}, "committer": {"name": "Kirill Yukhin", "email": "kyukhin@gcc.gnu.org", "date": "2015-11-30T10:50:56Z"}, "message": "[AVX-512] Enable QI-mode mask logic patterns on non-AVX-512DQ targets.\n\ngcc/\n\t* config/i386/i386.md (define_mode_iterator SWI1248_AVX512BW): New.\n\t(define_insn \"*k<logic><mode>\"): Use new iterator.\n\nFrom-SVN: r231061", "tree": {"sha": "696fd461b7bb60306be844b0bc7cdd08799892e1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/696fd461b7bb60306be844b0bc7cdd08799892e1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6501d5fea036e5d7c4f5f8037f217b6e8d07a60d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6501d5fea036e5d7c4f5f8037f217b6e8d07a60d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6501d5fea036e5d7c4f5f8037f217b6e8d07a60d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6501d5fea036e5d7c4f5f8037f217b6e8d07a60d/comments", "author": null, "committer": null, "parents": [{"sha": "eadb344f4909ce2c73ee985ef2dd714268917235", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eadb344f4909ce2c73ee985ef2dd714268917235", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eadb344f4909ce2c73ee985ef2dd714268917235"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "29dd741d0e112dbe96a30f12d290db9d680ae7fc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6501d5fea036e5d7c4f5f8037f217b6e8d07a60d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6501d5fea036e5d7c4f5f8037f217b6e8d07a60d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6501d5fea036e5d7c4f5f8037f217b6e8d07a60d", "patch": "@@ -1,3 +1,8 @@\n+2015-11-30  Kirill Yukhin  <kirill.yukhin@intel.com>\n+\n+\t* config/i386/i386.md (define_mode_iterator SWI1248_AVX512BW): New.\n+\t(define_insn \"*k<logic><mode>\"): Use new iterator.\n+\n 2015-11-30  Eric Botcazou  <ebotcazou@adacore.com>\n \n \tPR target/28115"}, {"sha": "cbb9ffd86af5f199768640860e0f1b5cd5d71fe6", "filename": "gcc/config/i386/i386.md", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6501d5fea036e5d7c4f5f8037f217b6e8d07a60d/gcc%2Fconfig%2Fi386%2Fi386.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6501d5fea036e5d7c4f5f8037f217b6e8d07a60d/gcc%2Fconfig%2Fi386%2Fi386.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.md?ref=6501d5fea036e5d7c4f5f8037f217b6e8d07a60d", "patch": "@@ -7996,10 +7996,13 @@\n \t(any_logic:SWI1248x (match_dup 1)\n \t\t\t    (match_dup 2)))])\n \n+(define_mode_iterator SWI1248_AVX512BW\n+  [QI HI (SI \"TARGET_AVX512BW\") (DI \"TARGET_AVX512BW\")])\n+\n (define_insn \"*k<logic><mode>\"\n-  [(set (match_operand:SWI1248_AVX512BWDQ 0 \"mask_reg_operand\" \"=k\")\n-\t(any_logic:SWI1248_AVX512BWDQ (match_operand:SWI1248_AVX512BWDQ 1 \"mask_reg_operand\" \"k\")\n-\t\t\t  (match_operand:SWI1248_AVX512BWDQ 2 \"mask_reg_operand\" \"k\")))]\n+  [(set (match_operand:SWI1248_AVX512BW 0 \"mask_reg_operand\" \"=k\")\n+\t(any_logic:SWI1248_AVX512BW (match_operand:SWI1248_AVX512BW 1 \"mask_reg_operand\" \"k\")\n+\t\t\t\t    (match_operand:SWI1248_AVX512BW 2 \"mask_reg_operand\" \"k\")))]\n   \"TARGET_AVX512F\"\n   {\n     if (!TARGET_AVX512DQ && <MODE>mode == QImode)"}]}