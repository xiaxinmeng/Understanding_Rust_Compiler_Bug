{"sha": "f38057cc118cca4a97eac5c3c5c7c15bee024799", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjM4MDU3Y2MxMThjY2E0YTk3ZWFjNWMzYzVjN2MxNWJlZTAyNDc5OQ==", "commit": {"author": {"name": "Tom de Vries", "email": "tom@codesourcery.com", "date": "2017-08-06T09:56:25Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2017-08-06T09:56:25Z"}, "message": "Add missing edge probability in expand_oacc_for\n\n ;;   basic block 10, loop depth 1, freq 0, maybe hot\n ;;    prev block 9, next block 19, flags: (NEW, REACHABLE)\n ;;    pred:       18 (FALSE_VALUE)\n ;;                9 (FALSE_VALUE)\n   GIMPLE_NOP\n   .chunk_no.7D.1948 = .chunk_no.7D.1948 + 1;\n   if (.chunk_no.7D.1948 < .chunk_max.6D.1949)\n-    goto <bb 18>; [INV] [count: INV]\n+    goto <bb 18>; [80.01%] [count: INV]\n   else\n-    goto <bb 19>; [100.00%] [count: INV]\n+    goto <bb 19>; [19.99%] [count: INV]\n\n2017-08-06  Tom de Vries  <tom@codesourcery.com>\n\n\t* omp-expand.c (expand_oacc_for): Add missing edge probability for chunk\n\tloop.\n\nFrom-SVN: r250899", "tree": {"sha": "c90229e1486a50867c66bff04e2d198839d7f365", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c90229e1486a50867c66bff04e2d198839d7f365"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f38057cc118cca4a97eac5c3c5c7c15bee024799", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f38057cc118cca4a97eac5c3c5c7c15bee024799", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f38057cc118cca4a97eac5c3c5c7c15bee024799", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f38057cc118cca4a97eac5c3c5c7c15bee024799/comments", "author": null, "committer": null, "parents": [{"sha": "4a6ad0832b154c9beba0bedaa1eba411226b0c7a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a6ad0832b154c9beba0bedaa1eba411226b0c7a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a6ad0832b154c9beba0bedaa1eba411226b0c7a"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "c06ef3f3633c3a1ea2dadd293e98d7dc6fa9072c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f38057cc118cca4a97eac5c3c5c7c15bee024799/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f38057cc118cca4a97eac5c3c5c7c15bee024799/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f38057cc118cca4a97eac5c3c5c7c15bee024799", "patch": "@@ -1,3 +1,8 @@\n+2017-08-06  Tom de Vries  <tom@codesourcery.com>\n+\n+\t* omp-expand.c (expand_oacc_for): Add missing edge probability for chunk\n+\tloop.\n+\n 2017-08-04  Yury Gribov  <tetra2005@gmail.com>\n \n \tPR tree-optimization/57371"}, {"sha": "5772bd9e4a3a50a43088b89ac8ec028c6977a98d", "filename": "gcc/omp-expand.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f38057cc118cca4a97eac5c3c5c7c15bee024799/gcc%2Fomp-expand.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f38057cc118cca4a97eac5c3c5c7c15bee024799/gcc%2Fomp-expand.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fomp-expand.c?ref=f38057cc118cca4a97eac5c3c5c7c15bee024799", "patch": "@@ -5718,7 +5718,9 @@ expand_oacc_for (struct omp_region *region, struct omp_for_data *fd)\n \n \t  /* Fixup edges from bottom_bb.  */\n \t  split->flags ^= EDGE_FALLTHRU | EDGE_FALSE_VALUE;\n-\t  make_edge (bottom_bb, head_bb, EDGE_TRUE_VALUE);\n+\t  split->probability = profile_probability::unlikely ().guessed ();\n+\t  edge latch_edge = make_edge (bottom_bb, head_bb, EDGE_TRUE_VALUE);\n+\t  latch_edge->probability = profile_probability::likely ().guessed ();\n \t}\n     }\n "}]}