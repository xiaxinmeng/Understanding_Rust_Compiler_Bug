{"sha": "85e053e9726e3639c11213295645e979e8dfff61", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODVlMDUzZTk3MjZlMzYzOWMxMTIxMzI5NTY0NWU5NzllOGRmZmY2MQ==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2007-06-11T03:06:01Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2007-06-11T03:06:01Z"}, "message": "re PR fortran/32235 (incorrectly position text file after backspace)\n\n2007-06-10  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libgfortran/32235\n\t* gfortran.dg/backspace_9.f: New test.\n\nFrom-SVN: r125611", "tree": {"sha": "fded53bea1594b8a9d463348dcfcb1daac0fff66", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fded53bea1594b8a9d463348dcfcb1daac0fff66"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/85e053e9726e3639c11213295645e979e8dfff61", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/85e053e9726e3639c11213295645e979e8dfff61", "html_url": "https://github.com/Rust-GCC/gccrs/commit/85e053e9726e3639c11213295645e979e8dfff61", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/85e053e9726e3639c11213295645e979e8dfff61/comments", "author": null, "committer": null, "parents": [{"sha": "00af1407c2561e573c7a1f1f47b9b0a0dc141e0d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/00af1407c2561e573c7a1f1f47b9b0a0dc141e0d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/00af1407c2561e573c7a1f1f47b9b0a0dc141e0d"}], "stats": {"total": 60, "additions": 60, "deletions": 0}, "files": [{"sha": "32d88ade40eca5b7e3699dbfdffebdf6925cb01f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/85e053e9726e3639c11213295645e979e8dfff61/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/85e053e9726e3639c11213295645e979e8dfff61/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=85e053e9726e3639c11213295645e979e8dfff61", "patch": "@@ -1,3 +1,8 @@\n+2007-06-10  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libgfortran/32235\n+\t* gfortran.dg/backspace_9.f: New test.\n+\n 2007-06-10  Zdenek Dvorak  <dvorakz@suse.cz>\n \n \t* gcc.dg/tree-ssa/prefetch-7.c: New test."}, {"sha": "fe62ea5a6e0363a782dab7fffca4967655cf640a", "filename": "gcc/testsuite/gfortran.dg/backspace_9.f", "status": "added", "additions": 55, "deletions": 0, "changes": 55, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/85e053e9726e3639c11213295645e979e8dfff61/gcc%2Ftestsuite%2Fgfortran.dg%2Fbackspace_9.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/85e053e9726e3639c11213295645e979e8dfff61/gcc%2Ftestsuite%2Fgfortran.dg%2Fbackspace_9.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fbackspace_9.f?ref=85e053e9726e3639c11213295645e979e8dfff61", "patch": "@@ -0,0 +1,55 @@\n+! { dg-do run }\n+! PR32235 incorrectly position text file after backspace\n+! Test case from PR, prepared by Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+      program main\n+      character*10 a\n+      ncards=2\n+      input=10\n+      write(10,\"(a)\") \"One\"\n+      write(10,\"(a)\") \"Two\"\n+      write(10,\"(a)\") \"Three\"\n+      rewind(10)\n+      read(input,1000)a\n+      read(input,1000)a\n+\n+      call inlist(ncards)\n+\n+      read(input,1000)a\n+      if (a.ne.\"Three\") call abort\n+      close(10,status=\"delete\")\n+      stop\n+ 1000 format(a10)\n+ 2000 format('read =',a10)\n+      end\n+\n+      subroutine inlist(ncards)\n+      character*4 data(20)\n+      input=10\n+c\n+      if (ncards.eq.0) go to 20\n+      do 15 i=1,ncards\n+      backspace input\n+   15 continue\n+c\n+   20 continue\n+      kard  = 0\n+   30 read(input,1000,end=60)   data\n+   40 kard=kard + 1\n+   50 continue\n+      if ((kard .eq. 1) .and. (DATA(1) .ne. \"One\")) call abort\n+      if ((kard .eq. 2) .and. (DATA(1) .ne. \"Two\")) call abort\n+      if ((kard .eq. 3) .and. (DATA(1) .ne. \"Thre\")) call abort\n+\n+      go to 30\n+   60 continue\n+      kard=kard - ncards + 1\n+      do 70   i=1,kard\n+      backspace input\n+   70 continue\n+c\n+      return\n+c\n+ 1000 format (20a4)\n+ 2020 format (8x,i15,8x,20a4)\n+c\n+      end"}]}