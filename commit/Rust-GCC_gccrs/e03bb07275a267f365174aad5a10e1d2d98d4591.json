{"sha": "e03bb07275a267f365174aad5a10e1d2d98d4591", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTAzYmIwNzI3NWEyNjdmMzY1MTc0YWFkNWExMGUxZDJkOThkNDU5MQ==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-10-10T02:50:18Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-10-10T02:50:18Z"}, "message": "(sys/spinlock.h): Don't copy it if it doesn't exist.\n\n(DPS/XDPSlib.h): Change \"XDPS.h\" to <DPS/XDPS.h>, for AIX.\n\nFrom-SVN: r5701", "tree": {"sha": "026b2830636d787a2157f42f5f02ba539cccab80", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/026b2830636d787a2157f42f5f02ba539cccab80"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e03bb07275a267f365174aad5a10e1d2d98d4591", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e03bb07275a267f365174aad5a10e1d2d98d4591", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e03bb07275a267f365174aad5a10e1d2d98d4591", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e03bb07275a267f365174aad5a10e1d2d98d4591/comments", "author": null, "committer": null, "parents": [{"sha": "0ef87f3907b6179c56bd1266c2ecd5c37fb87c00", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ef87f3907b6179c56bd1266c2ecd5c37fb87c00", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ef87f3907b6179c56bd1266c2ecd5c37fb87c00"}], "stats": {"total": 16, "additions": 15, "deletions": 1}, "files": [{"sha": "79473e0fe958e8cbdb11072036c1fc2fa0ec6510", "filename": "gcc/fixincludes", "status": "modified", "additions": 15, "deletions": 1, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e03bb07275a267f365174aad5a10e1d2d98d4591/gcc%2Ffixincludes", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e03bb07275a267f365174aad5a10e1d2d98d4591/gcc%2Ffixincludes", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixincludes?ref=e03bb07275a267f365174aad5a10e1d2d98d4591", "patch": "@@ -462,7 +462,7 @@ fi\n # Fix HP's use of ../machine/inline.h to refer to\n # /usr/include/machine/inline.h\n file=sys/spinlock.h\n-if [ ! -r ${LIB}/$file ] ; then\n+if [ -r $file ] && [ ! -r ${LIB}/$file ]; then\n   cp $file ${LIB}/$file\n fi\n if [ -r ${LIB}/$file ] ; then\n@@ -476,6 +476,20 @@ if [ -r ${LIB}/$file ] ; then\n   fi\n fi\n \n+# Fix AIX use of \"XDPS.h\" to refer to <DPS/XDPS.h>\n+file=DPS/XDPSlib.h\n+if [-r $file] && [ ! -r ${LIB}/$file ] ; then\n+  cp $file ${LIB}/$file\n+fi\n+if [ -r ${LIB}/$file ] ; then\n+  echo Fixing $file\n+  sed -e 's,\"XDPS.h\",<DPS/XDPS.h>,' ${LIB}/$file > ${LIB}/${file}.sed\n+  rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n+  if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n+    rm ${LIB}/$file\n+  fi\n+fi\n+\n # Fix an error in this file: the #if says _cplusplus, not the double\n # underscore __cplusplus that it should be\n file=tinfo.h"}]}