{"sha": "20358adc34ae3d064e5057e5e6ad4e34de868eb4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjAzNThhZGMzNGFlM2QwNjRlNTA1N2U1ZTZhZDRlMzRkZTg2OGViNA==", "commit": {"author": {"name": "Mikael Pettersson", "email": "mikpe@it.uu.se", "date": "2008-11-04T02:16:07Z"}, "committer": {"name": "Danny Smith", "email": "dannysmith@gcc.gnu.org", "date": "2008-11-04T02:16:07Z"}, "message": "re PR target/37989 (PR37528 fix broke --disable-shared on mingw32)\n\n2008-11-03  Mikael Pettersson  <mikpe@it.uu.se>\n\n        PR target/37989\n\t* config/i386/mingw32.h (REAL_LIBGCC_SPEC): Only add libgcc_s.a\n\tor libgcc_eh.a to spec if ENABLE_SHARED_LIBGCC.\n\nFrom-SVN: r141575", "tree": {"sha": "2a7f92893eb089117d2bdefc485d3c26dae00806", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2a7f92893eb089117d2bdefc485d3c26dae00806"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/20358adc34ae3d064e5057e5e6ad4e34de868eb4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20358adc34ae3d064e5057e5e6ad4e34de868eb4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/20358adc34ae3d064e5057e5e6ad4e34de868eb4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20358adc34ae3d064e5057e5e6ad4e34de868eb4/comments", "author": null, "committer": null, "parents": [{"sha": "47b7079004c30f176898711209f770994e53844c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47b7079004c30f176898711209f770994e53844c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47b7079004c30f176898711209f770994e53844c"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "8b28c19f6cc13166b0f1d05e3a8ea7bf8da6b8f9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/20358adc34ae3d064e5057e5e6ad4e34de868eb4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/20358adc34ae3d064e5057e5e6ad4e34de868eb4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=20358adc34ae3d064e5057e5e6ad4e34de868eb4", "patch": "@@ -1,3 +1,9 @@\n+2008-11-03  Mikael Pettersson  <mikpe@it.uu.se>\n+\n+        PR target/37989\n+\t* config/i386/mingw32.h (REAL_LIBGCC_SPEC): Only add libgcc_s.a\n+\tor libgcc_eh.a to spec if ENABLE_SHARED_LIBGCC.\n+\n 2008-11-03  Catherine Moore  <clm@codesourcery.com>\n \n \t* config/mips.c (mips_conditional_register_usage):  Handle the"}, {"sha": "571277edb998835d3e3aade50c1e7505a717fc4e", "filename": "gcc/config/i386/mingw32.h", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/20358adc34ae3d064e5057e5e6ad4e34de868eb4/gcc%2Fconfig%2Fi386%2Fmingw32.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/20358adc34ae3d064e5057e5e6ad4e34de868eb4/gcc%2Fconfig%2Fi386%2Fmingw32.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fmingw32.h?ref=20358adc34ae3d064e5057e5e6ad4e34de868eb4", "patch": "@@ -89,11 +89,15 @@ along with GCC; see the file COPYING3.  If not see\n   %(shared_libgcc_undefs)\"\n \n /* Include in the mingw32 libraries with libgcc */\n+#ifdef ENABLE_SHARED_LIBGCC\n+#define SHARED_LIBGCC_SPEC \"%{shared-libgcc:-lgcc_s} %{!shared-libgcc:-lgcc_eh}\"\n+#else\n+#define SHARED_LIBGCC_SPEC /*empty*/\n+#endif\n #undef REAL_LIBGCC_SPEC\n #define REAL_LIBGCC_SPEC \\\n   \"%{mthreads:-lmingwthrd} -lmingw32 \\\n-   %{shared-libgcc:-lgcc_s} \\\n-   %{!shared-libgcc:-lgcc_eh} \\\n+   \"SHARED_LIBGCC_SPEC\" \\\n    -lgcc \\\n    -lmoldname -lmingwex -lmsvcrt\"\n "}]}