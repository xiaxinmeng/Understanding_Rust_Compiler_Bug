{"sha": "3201f6d9f3f76c18706b159f3e615ded69ec7439", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzIwMWY2ZDlmM2Y3NmMxODcwNmIxNTlmM2U2MTVkZWQ2OWVjNzQzOQ==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1996-08-23T15:48:47Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1996-08-23T15:48:47Z"}, "message": "Make -fPIC the same as -mrelocatable-lib\n\nFrom-SVN: r12670", "tree": {"sha": "9217cbdea02c30d381995fa33a5ab2481d3d3795", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9217cbdea02c30d381995fa33a5ab2481d3d3795"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3201f6d9f3f76c18706b159f3e615ded69ec7439", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3201f6d9f3f76c18706b159f3e615ded69ec7439", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3201f6d9f3f76c18706b159f3e615ded69ec7439", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3201f6d9f3f76c18706b159f3e615ded69ec7439/comments", "author": null, "committer": null, "parents": [{"sha": "60a3d801a806782be418db7589e2f675a6a4909b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/60a3d801a806782be418db7589e2f675a6a4909b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/60a3d801a806782be418db7589e2f675a6a4909b"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "f75ad2b5885e24d476b10c5243f85ca27a0679e5", "filename": "gcc/config/rs6000/sol2.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3201f6d9f3f76c18706b159f3e615ded69ec7439/gcc%2Fconfig%2Frs6000%2Fsol2.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3201f6d9f3f76c18706b159f3e615ded69ec7439/gcc%2Fconfig%2Frs6000%2Fsol2.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fsol2.h?ref=3201f6d9f3f76c18706b159f3e615ded69ec7439", "patch": "@@ -26,7 +26,7 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n #define RS6000_ABI_NAME \"solaris\"\n \n #undef ASM_CPU_SPEC\n-#define ASM_CPU_SPEC \"%{fpic:-K PIC} %{fPIC:-K PIC} -le -s\"\n+#define ASM_CPU_SPEC \"-le -s\"\n \n #undef TARGET_DEFAULT\n #define TARGET_DEFAULT (MASK_POWERPC | \\"}, {"sha": "6954ed7292b06d134a0c87390e7373800c52ffb2", "filename": "gcc/config/rs6000/sysv4.h", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3201f6d9f3f76c18706b159f3e615ded69ec7439/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3201f6d9f3f76c18706b159f3e615ded69ec7439/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fsysv4.h?ref=3201f6d9f3f76c18706b159f3e615ded69ec7439", "patch": "@@ -244,6 +244,14 @@ do {\t\t\t\t\t\t\t\t\t\\\n \t     rs6000_abi_name);\t\t\t\t\t\t\\\n     }\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\\\n+  if (flag_pic > 1 &&\t\t\t\t\t\t\t\\\n+      (rs6000_current_abi == ABI_AIX || rs6000_current_abi == ABI_NT))\t\\\n+    {\t\t\t\t\t\t\t\t\t\\\n+      flag_pic = 0;\t\t\t\t\t\t\t\\\n+      error (\"-fPIC and -mcall-%s are incompatible.\",\t\t\t\\\n+\t     rs6000_abi_name);\t\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\t\\\n   if (rs6000_current_abi == ABI_AIX && TARGET_LITTLE_ENDIAN)\t\t\\\n     {\t\t\t\t\t\t\t\t\t\\\n       target_flags &= ~MASK_LITTLE_ENDIAN;\t\t\t\t\\\n@@ -258,7 +266,7 @@ do {\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\\\n   /* Treat -fPIC the same as -mrelocatable */\t\t\t\t\\\n   if (flag_pic > 1)\t\t\t\t\t\t\t\\\n-    target_flags |= MASK_RELOCATABLE;\t\t\t\t\t\\\n+    target_flags |= MASK_RELOCATABLE | MASK_MINIMAL_TOC | MASK_NO_FP_IN_TOC; \\\n \t\t\t\t\t\t\t\t\t\\\n   else if (TARGET_RELOCATABLE)\t\t\t\t\t\t\\\n     flag_pic = 2;\t\t\t\t\t\t\t\\\n@@ -954,7 +962,7 @@ do {\t\t\t\t\t\t\t\t\t\\\n #undef ASM_SPEC\n #define ASM_SPEC \"%(asm_cpu) %{mregnames} %{mno-regnames} \\\n %{v:-V} %{Qy:} %{!Qn:-Qy} %{n} %{T} %{Ym,*} %{Yd,*} %{Wa,*:%*} \\\n-%{mrelocatable} %{mrelocatable-lib} \\\n+%{mrelocatable} %{mrelocatable-lib} %{fpic:-K PIC} %{fPIC:-K PIC} \\\n %{memb} %{!memb: %{msdata: -memb} %{msdata=eabi: -memb}} \\\n %{mlittle} %{mlittle-endian} %{mbig} %{mbig-endian} \\\n %{!mlittle: %{!mlittle-endian: %{!mbig: %{!mbig-endian: \\"}]}