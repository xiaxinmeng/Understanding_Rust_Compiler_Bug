{"sha": "1d2944a3fe5f08e0588d855e52f5ad14c8241c97", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWQyOTQ0YTNmZTVmMDhlMDU4OGQ4NTVlNTJmNWFkMTRjODI0MWM5Nw==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernds@codesourcery.com", "date": "2012-05-21T21:37:01Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2012-05-21T21:37:01Z"}, "message": "re PR rtl-optimization/53373 (ICE on valid code with -mavx)\n\n\tPR rtl-optimization/53373\n\t* caller-save.c (save_call_clobbered_regs): Look into a possible\n\tPARALLEL manually rather than using single_set on a call insn.\n\nFrom-SVN: r187745", "tree": {"sha": "7115a8e868109f993407bca51ddb1a480c9348a3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7115a8e868109f993407bca51ddb1a480c9348a3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1d2944a3fe5f08e0588d855e52f5ad14c8241c97", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d2944a3fe5f08e0588d855e52f5ad14c8241c97", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d2944a3fe5f08e0588d855e52f5ad14c8241c97", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d2944a3fe5f08e0588d855e52f5ad14c8241c97/comments", "author": null, "committer": null, "parents": [{"sha": "a9a587118e31b4b8571ca1fe65113634aae7b21f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a9a587118e31b4b8571ca1fe65113634aae7b21f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a9a587118e31b4b8571ca1fe65113634aae7b21f"}], "stats": {"total": 18, "additions": 13, "deletions": 5}, "files": [{"sha": "7015fac2809354625e69405e91adae64eb8b87ee", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d2944a3fe5f08e0588d855e52f5ad14c8241c97/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d2944a3fe5f08e0588d855e52f5ad14c8241c97/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1d2944a3fe5f08e0588d855e52f5ad14c8241c97", "patch": "@@ -1,3 +1,9 @@\n+2012-05-21  Bernd Schmidt  <bernds@codesourcery.com>\n+\n+\tPR rtl-optimization/53373\n+\t* caller-save.c (save_call_clobbered_regs): Look into a possible\n+\tPARALLEL manually rather than using single_set on a call insn.\n+\n 2012-05-21  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/53436"}, {"sha": "44131f93efd677f44440edef7f3446053cbe91e3", "filename": "gcc/caller-save.c", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d2944a3fe5f08e0588d855e52f5ad14c8241c97/gcc%2Fcaller-save.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d2944a3fe5f08e0588d855e52f5ad14c8241c97/gcc%2Fcaller-save.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcaller-save.c?ref=1d2944a3fe5f08e0588d855e52f5ad14c8241c97", "patch": "@@ -872,11 +872,13 @@ save_call_clobbered_regs (void)\n \t\t  && HARD_REGISTER_P (cheap)\n \t\t  && TEST_HARD_REG_BIT (call_used_reg_set, REGNO (cheap)))\n \t\t{\n-\t\t  rtx call_set = single_set (insn);\n-\t\t  rtx dest = SET_DEST (call_set);\n-\t\t  rtx pat = gen_rtx_SET (VOIDmode, cheap,\n-\t\t\t\t\t copy_rtx (dest));\n-\t\t  chain = insert_one_insn (chain, 0, -1, pat);\n+\t\t  rtx dest, newpat;\n+\t\t  rtx pat = PATTERN (insn);\n+\t\t  if (GET_CODE (pat) == PARALLEL)\n+\t\t    pat = XVECEXP (pat, 0, 0);\n+\t\t  dest = SET_DEST (pat);\n+\t\t  newpat = gen_rtx_SET (VOIDmode, cheap, copy_rtx (dest));\n+\t\t  chain = insert_one_insn (chain, 0, -1, newpat);\n \t\t}\n \t    }\n           last = chain;"}]}