{"sha": "61d832dee4e62fce2376138f8ab3a05c069237b0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjFkODMyZGVlNGU2MmZjZTIzNzYxMzhmOGFiM2EwNWMwNjkyMzdiMA==", "commit": {"author": {"name": "Patrick Bernardi", "email": "bernardi@adacore.com", "date": "2020-08-17T19:32:01Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2020-10-22T12:11:22Z"}, "message": "[Ada] Add No_Implicit_Task_Allocations and No_Implicit_PO_Allocations to Jorvik\n\ngcc/ada/\n\n\t* libgnat/s-rident.ads (Profile_Info): Use a common profile\n\tdefinition for Jorvik and GNAT Extended Ravenscar, using the\n\tGNAT Extended Ravenscar definition.", "tree": {"sha": "f64c2776541ebbbcaa1a3ca81c74e779acca75b2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f64c2776541ebbbcaa1a3ca81c74e779acca75b2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/61d832dee4e62fce2376138f8ab3a05c069237b0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61d832dee4e62fce2376138f8ab3a05c069237b0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61d832dee4e62fce2376138f8ab3a05c069237b0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61d832dee4e62fce2376138f8ab3a05c069237b0/comments", "author": {"login": "burratoo", "id": 23646118, "node_id": "MDQ6VXNlcjIzNjQ2MTE4", "avatar_url": "https://avatars.githubusercontent.com/u/23646118?v=4", "gravatar_id": "", "url": "https://api.github.com/users/burratoo", "html_url": "https://github.com/burratoo", "followers_url": "https://api.github.com/users/burratoo/followers", "following_url": "https://api.github.com/users/burratoo/following{/other_user}", "gists_url": "https://api.github.com/users/burratoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/burratoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/burratoo/subscriptions", "organizations_url": "https://api.github.com/users/burratoo/orgs", "repos_url": "https://api.github.com/users/burratoo/repos", "events_url": "https://api.github.com/users/burratoo/events{/privacy}", "received_events_url": "https://api.github.com/users/burratoo/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b1f909cfc13f3ea5779e3844509415a54c4b534e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1f909cfc13f3ea5779e3844509415a54c4b534e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b1f909cfc13f3ea5779e3844509415a54c4b534e"}], "stats": {"total": 51, "additions": 9, "deletions": 42}, "files": [{"sha": "662721add9e251711fd2fe77589d3afb26edc143", "filename": "gcc/ada/libgnat/s-rident.ads", "status": "modified", "additions": 9, "deletions": 42, "changes": 51, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61d832dee4e62fce2376138f8ab3a05c069237b0/gcc%2Fada%2Flibgnat%2Fs-rident.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61d832dee4e62fce2376138f8ab3a05c069237b0/gcc%2Fada%2Flibgnat%2Fs-rident.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-rident.ads?ref=61d832dee4e62fce2376138f8ab3a05c069237b0", "patch": "@@ -551,9 +551,10 @@ package System.Rident is\n                            Max_Task_Entries                => 0,\n                            others                          => 0)),\n \n-                     Jorvik  =>\n+                     Jorvik | GNAT_Extended_Ravenscar =>\n \n-                     --  Restrictions for Jorvik profile ..\n+                     --  Restrictions for Jorvik profile, previously known\n+                     --  known as the GNAT_Extended_Ravenscar profile.\n \n                      --  Note: the table entries here only represent the\n                      --  required restriction profile for Jorvik. The\n@@ -567,7 +568,12 @@ package System.Rident is\n                      --  as follows:\n                      --     1) Ravenscar includes restriction Simple_Barriers;\n                      --        Jorvik includes Pure_Barriers instead.\n-                     --     2) The following 6 restrictions are included in\n+                     --     2) The No_Implicit_Heap_Allocations restriction is\n+                     --        lifted and replaced with the following\n+                     --        restrictions:\n+                     --          No_Implicit_Task_Allocations\n+                     --          No_Implicit_Protected_Object_Allocations\n+                     --     3) The following 6 restrictions are included in\n                      --        Ravenscar but not in Jorvik:\n                      --          No_Implicit_Heap_Allocations\n                      --          No_Relative_Delay\n@@ -579,45 +585,6 @@ package System.Rident is\n                      --  The last of those 7 (i.e., No_Dep => Ada.Synch_Bars)\n                      --  is not reflected here (see sem_prag.adb).\n \n-                       (Set   =>\n-                          (No_Abort_Statements             => True,\n-                           No_Asynchronous_Control         => True,\n-                           No_Dynamic_Attachment           => True,\n-                           No_Dynamic_CPU_Assignment       => True,\n-                           No_Dynamic_Priorities           => True,\n-                           No_Local_Protected_Objects      => True,\n-                           No_Protected_Type_Allocators    => True,\n-                           No_Requeue_Statements           => True,\n-                           No_Task_Allocators              => True,\n-                           No_Task_Attributes_Package      => True,\n-                           No_Task_Hierarchy               => True,\n-                           No_Terminate_Alternatives       => True,\n-                           Max_Asynchronous_Select_Nesting => True,\n-                           Max_Select_Alternatives         => True,\n-                           Max_Task_Entries                => True,\n-\n-                           --  plus these additional restrictions:\n-\n-                           No_Local_Timing_Events           => True,\n-                           No_Select_Statements             => True,\n-                           No_Specific_Termination_Handlers => True,\n-                           No_Task_Termination              => True,\n-                           Pure_Barriers                    => True,\n-                           others                           => False),\n-\n-                        --  Value settings for Ravenscar (same as Restricted)\n-\n-                        Value =>\n-                          (Max_Asynchronous_Select_Nesting => 0,\n-                           Max_Select_Alternatives         => 0,\n-                           Max_Task_Entries                => 0,\n-                           others                          => 0)),\n-\n-                     GNAT_Extended_Ravenscar  =>\n-\n-                     --  Restrictions for GNAT_Extended_Ravenscar =\n-                     --    Restricted profile ..\n-\n                        (Set   =>\n                           (No_Abort_Statements             => True,\n                            No_Asynchronous_Control         => True,"}]}