{"sha": "2780d17486479a152560b6173434199dcc685727", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjc4MGQxNzQ4NjQ3OWExNTI1NjBiNjE3MzQzNDE5OWRjYzY4NTcyNw==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2012-11-06T09:59:02Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2012-11-06T09:59:02Z"}, "message": "[multiple changes]\n\n2012-11-06  Ed Schonberg  <schonberg@adacore.com>\n\n\t* sem_ch8.adb (Check_Constrained_Object): Do nothing if the\n\trenamed object is a limited record.\n\n2012-11-06  Bernard Banner  <banner@adacore.com>\n\n\t* sysdep.c (_getpagesize): New. Minor reformatting.\n\nFrom-SVN: r193218", "tree": {"sha": "34e5664bb162ada3f35c5be48280ecdd20060373", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/34e5664bb162ada3f35c5be48280ecdd20060373"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2780d17486479a152560b6173434199dcc685727", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2780d17486479a152560b6173434199dcc685727", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2780d17486479a152560b6173434199dcc685727", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2780d17486479a152560b6173434199dcc685727/comments", "author": null, "committer": null, "parents": [{"sha": "0ce1ec64654b26a2417000c2710c52f6711f9ddb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ce1ec64654b26a2417000c2710c52f6711f9ddb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ce1ec64654b26a2417000c2710c52f6711f9ddb"}], "stats": {"total": 37, "additions": 31, "deletions": 6}, "files": [{"sha": "b1099c3fb0f12b192c446ecf912b7c72d07edb4b", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2780d17486479a152560b6173434199dcc685727/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2780d17486479a152560b6173434199dcc685727/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=2780d17486479a152560b6173434199dcc685727", "patch": "@@ -1,3 +1,12 @@\n+2012-11-06  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* sem_ch8.adb (Check_Constrained_Object): Do nothing if the\n+\trenamed object is a limited record.\n+\n+2012-11-06  Bernard Banner  <banner@adacore.com>\n+\n+\t* sysdep.c (_getpagesize): New. Minor reformatting.\n+\n 2012-11-06  Robert Dewar  <dewar@adacore.com>\n \n \t* sem_prag.adb: Minor reformatting."}, {"sha": "d2bd01d9ba4f4aaceda3015da2b94c8650e97b67", "filename": "gcc/ada/sem_ch8.adb", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2780d17486479a152560b6173434199dcc685727/gcc%2Fada%2Fsem_ch8.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2780d17486479a152560b6173434199dcc685727/gcc%2Fada%2Fsem_ch8.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch8.adb?ref=2780d17486479a152560b6173434199dcc685727", "patch": "@@ -731,6 +731,15 @@ package body Sem_Ch8 is\n             elsif Is_Unchecked_Union (Etype (Nam)) then\n                null;\n \n+            --  If a record is limited its size is invariant. This is the case\n+            --  in particular with record types with an access discirminant\n+            --  that are used in iterators. This is an optimization, but it\n+            --  also prevents typing anomalies when the prefix is further\n+            --  expanded.\n+\n+            elsif Is_Limited_Record (Etype (Nam)) then\n+               null;\n+\n             else\n                Subt := Make_Temporary (Loc, 'T');\n                Remove_Side_Effects (Nam);"}, {"sha": "1eec8b96f8889af52974ffc5038389d25eed0b59", "filename": "gcc/ada/sysdep.c", "status": "modified", "additions": 13, "deletions": 6, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2780d17486479a152560b6173434199dcc685727/gcc%2Fada%2Fsysdep.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2780d17486479a152560b6173434199dcc685727/gcc%2Fada%2Fsysdep.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsysdep.c?ref=2780d17486479a152560b6173434199dcc685727", "patch": "@@ -938,30 +938,37 @@ __gnat_is_file_not_found_error (int errno_val) {\n int\n _sigismember (sigset_t *set, int signum)\n {\n-    return sigismember (set, signum);\n+  return sigismember (set, signum);\n }\n \n int\n _sigaddset (sigset_t *set, int signum)\n {\n-   return sigaddset (set, signum);\n+  return sigaddset (set, signum);\n }\n \n int\n _sigdelset (sigset_t *set, int signum)\n {\n-   return sigdelset (set, signum);\n+  return sigdelset (set, signum);\n }\n \n int\n _sigemptyset (sigset_t *set)\n {\n-    return sigemptyset (set);\n+  return sigemptyset (set);\n }\n \n int\n-_sigfillset(sigset_t *set)\n+_sigfillset (sigset_t *set)\n {\n-    return sigfillset (set);\n+  return sigfillset (set);\n+}\n+\n+#include <unistd.h>\n+int\n+_getpagesize (void)\n+{\n+  return getpagesize ();\n }\n #endif"}]}