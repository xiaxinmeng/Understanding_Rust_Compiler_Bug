{"sha": "cccc4450ce36f171270c0993e4cb58921c65dda8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2NjYzQ0NTBjZTM2ZjE3MTI3MGMwOTkzZTRjYjU4OTIxYzY1ZGRhOA==", "commit": {"author": {"name": "Danny Smith", "email": "dannysmith@users.sourceforge.net", "date": "2007-10-10T23:39:30Z"}, "committer": {"name": "Danny Smith", "email": "dannysmith@gcc.gnu.org", "date": "2007-10-10T23:39:30Z"}, "message": "re PR libstdc++/33578 (__gnu_parallel::yield means what?)\n\n\tPR libstdc++/33578\n\t* include/parallel/compatibility.h.  Use POSIX sched_yield on\n\t__CYGWIN__ \n\t(Sleep): Add prototype for __MINGW32__.\n\nFrom-SVN: r129219", "tree": {"sha": "006ce9f941327d3b9c5e9d5e98f58157eea62c90", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/006ce9f941327d3b9c5e9d5e98f58157eea62c90"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cccc4450ce36f171270c0993e4cb58921c65dda8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cccc4450ce36f171270c0993e4cb58921c65dda8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cccc4450ce36f171270c0993e4cb58921c65dda8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cccc4450ce36f171270c0993e4cb58921c65dda8/comments", "author": null, "committer": null, "parents": [{"sha": "b0bb87a862ce1825dc4fd0092a84c6cb626b52fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b0bb87a862ce1825dc4fd0092a84c6cb626b52fa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b0bb87a862ce1825dc4fd0092a84c6cb626b52fa"}], "stats": {"total": 19, "additions": 17, "deletions": 2}, "files": [{"sha": "cce3db17a065628dfed430eee1baaac02701fd75", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cccc4450ce36f171270c0993e4cb58921c65dda8/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cccc4450ce36f171270c0993e4cb58921c65dda8/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=cccc4450ce36f171270c0993e4cb58921c65dda8", "patch": "@@ -1,3 +1,10 @@\n+2007-10-11  Danny Smith  <dannysmith@users.sourceforge.net>\n+\n+\tPR libstdc++/33578\n+\t* include/parallel/compatibility.h.  Use POSIX sched_yield on\n+\t__CYGWIN__ \n+\t(Sleep): Add prototype for __MINGW32__.\n+\n 2007-10-10  Jason Merrill  <jason@redhat.com>\n \n \t* libsupc++/guard.cc (struct mutex_wrapper): Move into"}, {"sha": "cf8e318aa5ccbb75d9541a36bcba43516ddfd491", "filename": "libstdc++-v3/include/parallel/compatibility.h", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cccc4450ce36f171270c0993e4cb58921c65dda8/libstdc%2B%2B-v3%2Finclude%2Fparallel%2Fcompatibility.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cccc4450ce36f171270c0993e4cb58921c65dda8/libstdc%2B%2B-v3%2Finclude%2Fparallel%2Fcompatibility.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fparallel%2Fcompatibility.h?ref=cccc4450ce36f171270c0993e4cb58921c65dda8", "patch": "@@ -45,7 +45,7 @@\n #include <sys/atomic.h>\n #endif\n \n-#if !defined(_WIN32)\n+#if !defined(_WIN32) || defined (__CYGWIN__)\n #include <sched.h>\n #endif\n \n@@ -56,6 +56,14 @@\n #undef min\n #endif\n \n+#ifdef __MINGW32__\n+// Including <windows.h> will drag in all the windows32 names.  Since\n+// that can cause user code portability problems, we just declare the\n+// one needed function here.\n+extern \"C\"\n+__attribute((dllimport)) void __attribute__((stdcall)) Sleep (unsigned long);\n+#endif\n+\n namespace __gnu_parallel\n {\n #if defined(__ICC)\n@@ -327,7 +335,7 @@ namespace __gnu_parallel\n   inline void\n   yield()\n   {\n-#ifdef _WIN32\n+#if defined (_WIN32) && !defined (__CYGWIN__)\n     Sleep(0);\n #else\n     sched_yield();"}]}