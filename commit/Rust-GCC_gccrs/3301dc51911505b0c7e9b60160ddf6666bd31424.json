{"sha": "3301dc51911505b0c7e9b60160ddf6666bd31424", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzMwMWRjNTE5MTE1MDViMGM3ZTliNjAxNjBkZGY2NjY2YmQzMTQyNA==", "commit": {"author": {"name": "Andrew MacLeod", "email": "amacleod@cygnus.com", "date": "1998-06-17T13:05:54Z"}, "committer": {"name": "Andrew Macleod", "email": "amacleod@gcc.gnu.org", "date": "1998-06-17T13:05:54Z"}, "message": "eh-common.h (struct eh_context): Add comment for hidden use of field dynamic_handler_chain.\n\n       * eh-common.h (struct eh_context): Add comment for hidden use of\n        field dynamic_handler_chain.\n        * except.c (get_dynamic_handler_chain): Comment on, and use the\n        correct offset of the dynamic_handler_chain field.\n\nFrom-SVN: r20540", "tree": {"sha": "22bc8784a037d4b0cfa19fb8c9ca1a0567bf8d46", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/22bc8784a037d4b0cfa19fb8c9ca1a0567bf8d46"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3301dc51911505b0c7e9b60160ddf6666bd31424", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3301dc51911505b0c7e9b60160ddf6666bd31424", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3301dc51911505b0c7e9b60160ddf6666bd31424", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3301dc51911505b0c7e9b60160ddf6666bd31424/comments", "author": null, "committer": null, "parents": [{"sha": "33f264afdaf61ef056db4c94d210c60a50460eca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33f264afdaf61ef056db4c94d210c60a50460eca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/33f264afdaf61ef056db4c94d210c60a50460eca"}], "stats": {"total": 17, "additions": 15, "deletions": 2}, "files": [{"sha": "18888da7aadf87199cf9da41f842f0ab4c9b8b49", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3301dc51911505b0c7e9b60160ddf6666bd31424/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3301dc51911505b0c7e9b60160ddf6666bd31424/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3301dc51911505b0c7e9b60160ddf6666bd31424", "patch": "@@ -1,3 +1,10 @@\n+Wed Jun 17 15:57:48 EDT 1998  Andrew MacLeod  (amacleod@cygnus.com)\n+\n+\t* eh-common.h (struct eh_context): Add comment for hidden use of\n+\tfield dynamic_handler_chain.\n+\t* except.c (get_dynamic_handler_chain): Comment on, and use the\n+\tcorrect offset of the dynamic_handler_chain field.\n+\n 1998-06-17 12:46:56 1998  Jim Wilson  <wilson@cygnus.com>\n \n \t* mips/iris6.h (LINK_SPEC): Add -woff 131."}, {"sha": "c16d66a5008cbdf7be7dcf842e905c42d939c4d0", "filename": "gcc/eh-common.h", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3301dc51911505b0c7e9b60160ddf6666bd31424/gcc%2Feh-common.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3301dc51911505b0c7e9b60160ddf6666bd31424/gcc%2Feh-common.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Feh-common.h?ref=3301dc51911505b0c7e9b60160ddf6666bd31424", "patch": "@@ -20,7 +20,10 @@\n \n /* The handler_label field MUST be the first field in this structure. The \n    __throw()  library routine expects uses __eh_stub() from except.c, which\n-   simply dereferences the context pointer to get the handler */\n+   simply dereferences the context pointer to get the handler.\n+   The routine get_dynamic_handler_chain() also has a dependancy on\n+   the location of 'dynamic_handler_chain'. If its location is changed, \n+   that routine must be modified as well. */\n \n struct eh_context\n {"}, {"sha": "c5c725992d2d3f77ce8a05b0701b61fb7505ab46", "filename": "gcc/except.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3301dc51911505b0c7e9b60160ddf6666bd31424/gcc%2Fexcept.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3301dc51911505b0c7e9b60160ddf6666bd31424/gcc%2Fexcept.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexcept.c?ref=3301dc51911505b0c7e9b60160ddf6666bd31424", "patch": "@@ -1017,7 +1017,10 @@ get_dynamic_handler_chain ()\n   rtx ehc, dhc, result;\n \n   ehc = get_eh_context ();\n-  dhc = ehc;\n+\n+  /* This is the offset of dynamic_handler_chain in the eh_context struct\n+     declared in eh-common.h. If its location is change, change this offset */\n+  dhc = plus_constant (ehc, GET_MODE_SIZE (Pmode));\n \n   result = copy_to_reg (dhc);\n "}]}