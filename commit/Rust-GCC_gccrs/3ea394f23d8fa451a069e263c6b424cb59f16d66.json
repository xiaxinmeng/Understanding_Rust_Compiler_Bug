{"sha": "3ea394f23d8fa451a069e263c6b424cb59f16d66", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2VhMzk0ZjIzZDhmYTQ1MWEwNjllMjYzYzZiNDI0Y2I1OWYxNmQ2Ng==", "commit": {"author": {"name": "Ulrich Weigand", "email": "uweigand@de.ibm.com", "date": "2008-07-02T15:41:38Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2008-07-02T15:41:38Z"}, "message": "nrv3.c (S): Increase size of padding for SPU.\n\n\t* gcc.dg/nrv3.c (S): Increase size of padding for SPU.\n\t* g++.dg/opt/temp1.C (struct T): Likewise.\n\nFrom-SVN: r137363", "tree": {"sha": "db007c40677eae9604872fd11966e53d65daaa02", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/db007c40677eae9604872fd11966e53d65daaa02"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3ea394f23d8fa451a069e263c6b424cb59f16d66", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ea394f23d8fa451a069e263c6b424cb59f16d66", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3ea394f23d8fa451a069e263c6b424cb59f16d66", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ea394f23d8fa451a069e263c6b424cb59f16d66/comments", "author": null, "committer": null, "parents": [{"sha": "0935784671e347118c6bf7629852ba50e9466a85", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0935784671e347118c6bf7629852ba50e9466a85", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0935784671e347118c6bf7629852ba50e9466a85"}], "stats": {"total": 15, "additions": 15, "deletions": 0}, "files": [{"sha": "aa4b11521616dc19dc1488c08caa945eca5ba91d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ea394f23d8fa451a069e263c6b424cb59f16d66/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ea394f23d8fa451a069e263c6b424cb59f16d66/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=3ea394f23d8fa451a069e263c6b424cb59f16d66", "patch": "@@ -1,3 +1,8 @@\n+2008-07-02  Ulrich Weigand  <Ulrich.Weigand@de.ibm.com>\n+\n+\t* gcc.dg/nrv3.c (S): Increase size of padding for SPU.\n+\t* g++.dg/opt/temp1.C (struct T): Likewise.\n+\n 2008-07-02  Ulrich Weigand  <Ulrich.Weigand@de.ibm.com>\n \n \t* gcc.c-torture/execute/20030222-1.x: New file."}, {"sha": "dc13f5162463c8afb3758ed4d3f9fc79591b18ba", "filename": "gcc/testsuite/g++.dg/opt/temp1.C", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ea394f23d8fa451a069e263c6b424cb59f16d66/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Ftemp1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ea394f23d8fa451a069e263c6b424cb59f16d66/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Ftemp1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Ftemp1.C?ref=3ea394f23d8fa451a069e263c6b424cb59f16d66", "patch": "@@ -24,7 +24,12 @@ void *memcpy (void *dest, const void *src, __SIZE_TYPE__ n)\n }\n  \n struct T {\n+#ifdef __SPU__\n+  /* SPU returns aggregates up to 1172 bytes in registers.  */\n+  int a[300];\n+#else\n   int a[128];\n+#endif\n   T &operator+=(T const &v) __attribute__((noinline));\n   T operator+(T const &v) const { T t = *this; t += v; return t; }\n };"}, {"sha": "c28b8ec570dc72a20d8b9860afa697187fe7101d", "filename": "gcc/testsuite/gcc.dg/nrv3.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ea394f23d8fa451a069e263c6b424cb59f16d66/gcc%2Ftestsuite%2Fgcc.dg%2Fnrv3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ea394f23d8fa451a069e263c6b424cb59f16d66/gcc%2Ftestsuite%2Fgcc.dg%2Fnrv3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fnrv3.c?ref=3ea394f23d8fa451a069e263c6b424cb59f16d66", "patch": "@@ -3,7 +3,12 @@\n /* { dg-do compile } */\n /* { dg-options \"-O -fdump-tree-optimized\" } */\n \n+#ifdef __SPU__\n+/* SPU returns aggregates up to 1172 bytes in registers.  */\n+typedef struct { int x[300]; void *y; } S;\n+#else\n typedef struct { int x[20]; void *y; } S;\n+#endif\n typedef struct { int a; S b; } T;\n S nrv_candidate (void);\n void use_result (S, int);"}]}