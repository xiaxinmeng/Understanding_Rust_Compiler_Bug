{"sha": "3147591f604b6ce925c1e7d39e62ec973472af58", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzE0NzU5MWY2MDRiNmNlOTI1YzFlN2QzOWU2MmVjOTczNDcyYWY1OA==", "commit": {"author": {"name": "Mike Stump", "email": "mikestump@comcast.net", "date": "2011-10-21T02:14:32Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "2011-10-21T02:14:32Z"}, "message": "regcprop.c (copyprop_hardreg_forward_1): Update recog_data after validate_change wipes it out.\n\n\t* regcprop.c (copyprop_hardreg_forward_1): Update recog_data\n\tafter validate_change wipes it out.\n\nFrom-SVN: r180284", "tree": {"sha": "a6ae2b06fc3e0bf291089327105908c30f1ea6c6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a6ae2b06fc3e0bf291089327105908c30f1ea6c6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3147591f604b6ce925c1e7d39e62ec973472af58", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3147591f604b6ce925c1e7d39e62ec973472af58", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3147591f604b6ce925c1e7d39e62ec973472af58", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3147591f604b6ce925c1e7d39e62ec973472af58/comments", "author": null, "committer": null, "parents": [{"sha": "b66cf46e4d410cb19a3529efa2ffda289848298d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b66cf46e4d410cb19a3529efa2ffda289848298d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b66cf46e4d410cb19a3529efa2ffda289848298d"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "a76979d8f753bfbf5ec2146438162235013f2934", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3147591f604b6ce925c1e7d39e62ec973472af58/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3147591f604b6ce925c1e7d39e62ec973472af58/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3147591f604b6ce925c1e7d39e62ec973472af58", "patch": "@@ -1,3 +1,8 @@\n+2011-10-20  Mike Stump  <mikestump@comcast.net>\n+\n+\t* regcprop.c (copyprop_hardreg_forward_1): Update recog_data\n+\tafter validate_change wipes it out.\n+\n 2011-10-20  Ulrich Weigand  <Ulrich.Weigand@de.ibm.com>\n \n \t* config/spu/spu.md (\"vec_permv16qi\"): Reduce selector modulo 32"}, {"sha": "ad92a64cc29873a5cfb60f7d99711a96cb952376", "filename": "gcc/regcprop.c", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3147591f604b6ce925c1e7d39e62ec973472af58/gcc%2Fregcprop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3147591f604b6ce925c1e7d39e62ec973472af58/gcc%2Fregcprop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fregcprop.c?ref=3147591f604b6ce925c1e7d39e62ec973472af58", "patch": "@@ -840,6 +840,12 @@ copyprop_hardreg_forward_1 (basic_block bb, struct value_data *vd)\n \t\t  changed = true;\n \t\t  goto did_replacement;\n \t\t}\n+\t      /* We need to re-extract as validate_change clobbers\n+\t\t recog_data.  */\n+\t      extract_insn (insn);\n+\t      if (! constrain_operands (1))\n+\t\tfatal_insn_not_found (insn);\n+\t      preprocess_constraints ();\n \t    }\n \n \t  /* Otherwise, try all valid registers and see if its valid.  */\n@@ -862,6 +868,12 @@ copyprop_hardreg_forward_1 (basic_block bb, struct value_data *vd)\n \t\t      changed = true;\n \t\t      goto did_replacement;\n \t\t    }\n+\t\t  /* We need to re-extract as validate_change clobbers\n+\t\t     recog_data.  */\n+\t\t  extract_insn (insn);\n+\t\t  if (! constrain_operands (1))\n+\t\t    fatal_insn_not_found (insn);\n+\t\t  preprocess_constraints ();\n \t\t}\n \t    }\n \t}"}]}