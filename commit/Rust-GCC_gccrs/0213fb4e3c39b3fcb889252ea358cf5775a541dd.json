{"sha": "0213fb4e3c39b3fcb889252ea358cf5775a541dd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDIxM2ZiNGUzYzM5YjNmY2I4ODkyNTJlYTM1OGNmNTc3NWE1NDFkZA==", "commit": {"author": {"name": "Johannes Kanig", "email": "kanig@adacore.com", "date": "2013-04-11T10:17:18Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2013-04-11T10:17:18Z"}, "message": "debug.adb: Reservation and documentation for -gnatd.G switch.\n\n2013-04-11  Johannes Kanig  <kanig@adacore.com>\n\n\t* debug.adb: Reservation and documentation for -gnatd.G switch.\n\t* gnat1drv.adb (Adjust_Global_Switches) Take into account -gnatd.G\n\tswitch, and set ALI file generation accordingly.\n\nFrom-SVN: r197757", "tree": {"sha": "d7cb3bee821cf19de72d6d13f05aedd55d412baf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d7cb3bee821cf19de72d6d13f05aedd55d412baf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0213fb4e3c39b3fcb889252ea358cf5775a541dd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0213fb4e3c39b3fcb889252ea358cf5775a541dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0213fb4e3c39b3fcb889252ea358cf5775a541dd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0213fb4e3c39b3fcb889252ea358cf5775a541dd/comments", "author": {"login": "kanigsson", "id": 169032, "node_id": "MDQ6VXNlcjE2OTAzMg==", "avatar_url": "https://avatars.githubusercontent.com/u/169032?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kanigsson", "html_url": "https://github.com/kanigsson", "followers_url": "https://api.github.com/users/kanigsson/followers", "following_url": "https://api.github.com/users/kanigsson/following{/other_user}", "gists_url": "https://api.github.com/users/kanigsson/gists{/gist_id}", "starred_url": "https://api.github.com/users/kanigsson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kanigsson/subscriptions", "organizations_url": "https://api.github.com/users/kanigsson/orgs", "repos_url": "https://api.github.com/users/kanigsson/repos", "events_url": "https://api.github.com/users/kanigsson/events{/privacy}", "received_events_url": "https://api.github.com/users/kanigsson/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "0088ba92b6bf944a69843de484a14be7c822713f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0088ba92b6bf944a69843de484a14be7c822713f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0088ba92b6bf944a69843de484a14be7c822713f"}], "stats": {"total": 26, "additions": 24, "deletions": 2}, "files": [{"sha": "dc0dd405be590db0e34276e5fba07fa5ce9f5e44", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0213fb4e3c39b3fcb889252ea358cf5775a541dd/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0213fb4e3c39b3fcb889252ea358cf5775a541dd/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=0213fb4e3c39b3fcb889252ea358cf5775a541dd", "patch": "@@ -1,3 +1,9 @@\n+2013-04-11  Johannes Kanig  <kanig@adacore.com>\n+\n+\t* debug.adb: Reservation and documentation for -gnatd.G switch.\n+\t* gnat1drv.adb (Adjust_Global_Switches) Take into account -gnatd.G\n+\tswitch, and set ALI file generation accordingly.\n+\n 2013-04-11  Robert Dewar  <dewar@adacore.com>\n \n \t* exp_ch4.adb, exp_dist.adb: Minor reformatting."}, {"sha": "183413ff0810d7dbac23332373a1bfe7fc4f61be", "filename": "gcc/ada/debug.adb", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0213fb4e3c39b3fcb889252ea358cf5775a541dd/gcc%2Fada%2Fdebug.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0213fb4e3c39b3fcb889252ea358cf5775a541dd/gcc%2Fada%2Fdebug.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdebug.adb?ref=0213fb4e3c39b3fcb889252ea358cf5775a541dd", "patch": "@@ -124,7 +124,7 @@ package body Debug is\n    --  d.D  Strict Alfa mode\n    --  d.E  Force Alfa mode for gnat2why\n    --  d.F  Alfa mode\n-   --  d.G\n+   --  d.G  Frame condition mode for gnat2why\n    --  d.H  Standard package only mode for gnat2why\n    --  d.I\n    --  d.J  Disable parallel SCIL generation mode\n@@ -603,7 +603,12 @@ package body Debug is\n \n    --  d.F  Alfa mode. Generate AST in a form suitable for formal verification,\n    --       as well as additional cross reference information in ALI files to\n-   --       compute effects of subprograms.\n+   --       compute effects of subprograms. Note that ALI files are only\n+   --       written when option d.G is also given.\n+\n+   --  d.G  Frame condition mode for gnat2why. In this mode, gnat2why will not\n+   --       generate Why code. Instead, it generates ALI files with an extra\n+   --       section which contains the effects of subprograms.\n \n    --  d.H  Standard package only mode for gnat2why. In this mode, gnat2why\n    --       will only generate Why code for package Standard. Any given input"}, {"sha": "47c27da01141360f4c1e265bff1f0c77890a4b19", "filename": "gcc/ada/gnat1drv.adb", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0213fb4e3c39b3fcb889252ea358cf5775a541dd/gcc%2Fada%2Fgnat1drv.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0213fb4e3c39b3fcb889252ea358cf5775a541dd/gcc%2Fada%2Fgnat1drv.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat1drv.adb?ref=0213fb4e3c39b3fcb889252ea358cf5775a541dd", "patch": "@@ -408,6 +408,17 @@ procedure Gnat1drv is\n          --  which is more complex to formally verify than the original source.\n \n          Tagged_Type_Expansion := False;\n+\n+         --  Distinguish between the two modes of gnat2why: frame condition\n+         --  generation (generation of ALI files) and translation of Why (no\n+         --  ALI files generated). This is done with the switch -gnatd.G,\n+         --  which activates frame condition mode. The other changes in\n+         --  behavior depending on this switch are done in gnat2why directly.\n+\n+         if not Debug_Flag_Dot_GG then\n+            Opt.Disable_ALI_File := True;\n+         end if;\n+\n       end if;\n \n       --  Set Configurable_Run_Time mode if system.ads flag set"}]}