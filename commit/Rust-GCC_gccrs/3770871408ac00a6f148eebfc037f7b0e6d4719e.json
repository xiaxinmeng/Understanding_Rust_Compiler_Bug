{"sha": "3770871408ac00a6f148eebfc037f7b0e6d4719e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mzc3MDg3MTQwOGFjMDBhNmYxNDhlZWJmYzAzN2Y3YjBlNmQ0NzE5ZQ==", "commit": {"author": {"name": "Bin Cheng", "email": "bin.cheng@arm.com", "date": "2017-05-11T09:36:05Z"}, "committer": {"name": "Bin Cheng", "email": "amker@gcc.gnu.org", "date": "2017-05-11T09:36:05Z"}, "message": "* tree-ssa-loop-ivopts.c (autoinc_possible_for_pair): Simplify.\n\nFrom-SVN: r247887", "tree": {"sha": "ac3a82a910a152a0febb274557bdda0f895fae51", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ac3a82a910a152a0febb274557bdda0f895fae51"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3770871408ac00a6f148eebfc037f7b0e6d4719e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3770871408ac00a6f148eebfc037f7b0e6d4719e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3770871408ac00a6f148eebfc037f7b0e6d4719e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3770871408ac00a6f148eebfc037f7b0e6d4719e/comments", "author": null, "committer": null, "parents": [{"sha": "c544114fdece1611ab623e71483118c962047b29", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c544114fdece1611ab623e71483118c962047b29", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c544114fdece1611ab623e71483118c962047b29"}], "stats": {"total": 17, "additions": 7, "deletions": 10}, "files": [{"sha": "b363799b7e268cd36fc1cea1736c450c86ddb085", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3770871408ac00a6f148eebfc037f7b0e6d4719e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3770871408ac00a6f148eebfc037f7b0e6d4719e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3770871408ac00a6f148eebfc037f7b0e6d4719e", "patch": "@@ -1,3 +1,7 @@\n+2017-05-11  Bin Cheng  <bin.cheng@arm.com>\n+\n+\t* tree-ssa-loop-ivopts.c (autoinc_possible_for_pair): Simplify.\n+\n 2017-05-11  Bin Cheng  <bin.cheng@arm.com>\n \n \t* tree-ssa-loop-ivopts.c (force_expr_to_var_cost): Handle more"}, {"sha": "3dc6988d31db116efa6ca91aed78ac0551b8745b", "filename": "gcc/tree-ssa-loop-ivopts.c", "status": "modified", "additions": 3, "deletions": 10, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3770871408ac00a6f148eebfc037f7b0e6d4719e/gcc%2Ftree-ssa-loop-ivopts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3770871408ac00a6f148eebfc037f7b0e6d4719e/gcc%2Ftree-ssa-loop-ivopts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-ivopts.c?ref=3770871408ac00a6f148eebfc037f7b0e6d4719e", "patch": "@@ -5229,19 +5229,12 @@ static bool\n autoinc_possible_for_pair (struct ivopts_data *data, struct iv_use *use,\n \t\t\t   struct iv_cand *cand)\n {\n-  bitmap inv_vars;\n-  bool can_autoinc;\n-  comp_cost cost;\n-\n   if (use->type != USE_ADDRESS)\n     return false;\n \n-  cost = get_computation_cost (data, use, cand, true, &inv_vars,\n-\t\t\t       &can_autoinc, NULL);\n-\n-  BITMAP_FREE (inv_vars);\n-\n-  return !cost.infinite_cost_p () && can_autoinc;\n+  bool can_autoinc = false;\n+  get_computation_cost (data, use, cand, true, NULL, &can_autoinc, NULL);\n+  return can_autoinc;\n }\n \n /* Examine IP_ORIGINAL candidates to see if they are incremented next to a"}]}