{"sha": "be2862278a6839e196a06e5e2df8b3c16755bbf9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmUyODYyMjc4YTY4MzllMTk2YTA2ZTVlMmRmOGIzYzE2NzU1YmJmOQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2011-01-05T16:07:09Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2011-01-05T16:07:09Z"}, "message": "lto-wrapper.c (run_gcc): Default to WHOPR mode when none is specified at the command line.\n\n\n\t* lto-wrapper.c (run_gcc): Default to WHOPR mode when none is specified\n\tat the command line.\n\nFrom-SVN: r168520", "tree": {"sha": "e3dcb3fe4f2adfc9a96d3722e0f6179a952cb86d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e3dcb3fe4f2adfc9a96d3722e0f6179a952cb86d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/be2862278a6839e196a06e5e2df8b3c16755bbf9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be2862278a6839e196a06e5e2df8b3c16755bbf9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/be2862278a6839e196a06e5e2df8b3c16755bbf9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be2862278a6839e196a06e5e2df8b3c16755bbf9/comments", "author": null, "committer": null, "parents": [{"sha": "644e637fcad77383a8f5711901f7e629e8a71e5f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/644e637fcad77383a8f5711901f7e629e8a71e5f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/644e637fcad77383a8f5711901f7e629e8a71e5f"}], "stats": {"total": 13, "additions": 7, "deletions": 6}, "files": [{"sha": "0ad56342feff184b063b77a17ec6f3744b48ae6a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be2862278a6839e196a06e5e2df8b3c16755bbf9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be2862278a6839e196a06e5e2df8b3c16755bbf9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=be2862278a6839e196a06e5e2df8b3c16755bbf9", "patch": "@@ -1,3 +1,8 @@\n+2011-01-05  Jan Hubicka  <jh@suse.cz>\n+\n+\t* lto-wrapper.c (run_gcc): Default to WHOPR mode when none is specified\n+\tat the command line.\n+\n 2011-01-05  Martin Jambor  <mjambor@suse.cz>\n \n \tPR lto/47162"}, {"sha": "6f106a31f453e8d11b34d6e2c67c22e40f74d0ed", "filename": "gcc/lto-wrapper.c", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be2862278a6839e196a06e5e2df8b3c16755bbf9/gcc%2Flto-wrapper.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be2862278a6839e196a06e5e2df8b3c16755bbf9/gcc%2Flto-wrapper.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto-wrapper.c?ref=be2862278a6839e196a06e5e2df8b3c16755bbf9", "patch": "@@ -422,7 +422,7 @@ run_gcc (unsigned argc, char *argv[])\n       argv_ptr[1] = \"-o\";\n       argv_ptr[2] = flto_out;\n     }\n-  else if (lto_mode == LTO_MODE_WHOPR)\n+  else \n     {\n       const char *list_option = \"-fltrans-output-list=\";\n       size_t list_option_len = strlen (list_option);\n@@ -457,8 +457,6 @@ run_gcc (unsigned argc, char *argv[])\n \n       argv_ptr[2] = \"-fwpa\";\n     }\n-  else\n-    fatal (\"invalid LTO mode\");\n \n   /* Append the input objects and possible preceeding arguments.  */\n   for (i = 1; i < argc; ++i)\n@@ -473,7 +471,7 @@ run_gcc (unsigned argc, char *argv[])\n       free (flto_out);\n       flto_out = NULL;\n     }\n-  else if (lto_mode == LTO_MODE_WHOPR)\n+  else\n     {\n       FILE *stream = fopen (ltrans_output_file, \"r\");\n       FILE *mstream = NULL;\n@@ -615,8 +613,6 @@ run_gcc (unsigned argc, char *argv[])\n       free (input_names);\n       free (list_option_full);\n     }\n-  else\n-    fatal (\"invalid LTO mode\");\n \n   obstack_free (&env_obstack, NULL);\n }"}]}