{"sha": "bbf3057bf97696d4c5ba5c624c26ea0a9b1e04fa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmJmMzA1N2JmOTc2OTZkNGM1YmE1YzYyNGMyNmVhMGE5YjFlMDRmYQ==", "commit": {"author": {"name": "Andreas Tobler", "email": "a.tobler@schweiz.ch", "date": "2003-09-04T14:47:05Z"}, "committer": {"name": "Andreas Tobler", "email": "andreast@gcc.gnu.org", "date": "2003-09-04T14:47:05Z"}, "message": "003-09-04  Andreas Tobler  <a.tobler@schweiz.ch>\n\n\t* Makefile.am: Add dejagnu test framework. Fixes PR other/11411.\n\t* Makefile.in: Rebuilt.\n\t* configure.in: Add dejagnu test framework.\n\t* configure: Rebuilt.\n\n\t* testsuite/Makefile.am: New file.\n\t* testsuite/Makefile.in: Built\n\t* testsuite/lib/libffi-dg.exp: New file.\n\t* testsuite/config/default.exp: Likewise.\n\t* testsuite/libffi.call/call.exp: Likewise.\n\t* testsuite/libffi.call/ffitest.h: Likewise.\n\t* testsuite/libffi.call/closure_fn0.c: Likewise.\n\t* testsuite/libffi.call/closure_fn1.c: Likewise.\n\t* testsuite/libffi.call/closure_fn2.c: Likewise.\n\t* testsuite/libffi.call/closure_fn3.c: Likewise.\n\t* testsuite/libffi.call/cls_1_1byte.c: Likewise.\n\t* testsuite/libffi.call/cls_3_1byte.c: Likewise.\n\t* testsuite/libffi.call/cls_4_1byte.c: Likewise.\n\t* testsuite/libffi.call/cls_2byte.c: Likewise.\n\t* testsuite/libffi.call/cls_3byte1.c: Likewise.\n\t* testsuite/libffi.call/cls_3byte2.c: Likewise.\n\t* testsuite/libffi.call/cls_4byte.c: Likewise.\n\t* testsuite/libffi.call/cls_5byte.c: Likewise.\n\t* testsuite/libffi.call/cls_6byte.c: Likewise.\n\t* testsuite/libffi.call/cls_7byte.c: Likewise.\n\t* testsuite/libffi.call/cls_8byte.c: Likewise.\n\t* testsuite/libffi.call/cls_12byte.c: Likewise.\n\t* testsuite/libffi.call/cls_16byte.c: Likewise.\n\t* testsuite/libffi.call/cls_20byte.c: Likewise.\n\t* testsuite/libffi.call/cls_24byte.c: Likewise.\n\t* testsuite/libffi.call/cls_double.c: Likewise.\n\t* testsuite/libffi.call/cls_float.c: Likewise.\n\t* testsuite/libffi.call/cls_uchar.c: Likewise.\n\t* testsuite/libffi.call/cls_uint.c: Likewise.\n\t* testsuite/libffi.call/cls_ulonglong.c: Likewise.\n\t* testsuite/libffi.call/cls_ushort.c: Likewise.\n\t* testsuite/libffi.call/float.c: Likewise.\n\t* testsuite/libffi.call/float1.c: Likewise.\n\t* testsuite/libffi.call/float2.c: Likewise.\n\t* testsuite/libffi.call/many.c: Likewise.\n\t* testsuite/libffi.call/many_win32.c: Likewise.\n\t* testsuite/libffi.call/nested_struct.c: Likewise.\n\t* testsuite/libffi.call/nested_struct1.c: Likewise.\n\t* testsuite/libffi.call/pyobjc-tc.c: Likewise.\n\t* testsuite/libffi.call/problem1.c: Likewise.\n\t* testsuite/libffi.call/promotion.c: Likewise.\n\t* testsuite/libffi.call/return_ll.c: Likewise.\n\t* testsuite/libffi.call/return_sc.c: Likewise.\n\t* testsuite/libffi.call/return_uc.c: Likewise.\n\t* testsuite/libffi.call/strlen.c: Likewise.\n\t* testsuite/libffi.call/strlen_win32.c: Likewise.\n\t* testsuite/libffi.call/struct1.c: Likewise.\n\t* testsuite/libffi.call/struct2.c: Likewise.\n\t* testsuite/libffi.call/struct3.c: Likewise.\n\t* testsuite/libffi.call/struct4.c: Likewise.\n\t* testsuite/libffi.call/struct5.c: Likewise.\n\t* testsuite/libffi.call/struct6.c: Likewise.\n\t* testsuite/libffi.call/struct7.c: Likewise.\n\t* testsuite/libffi.call/struct8.c: Likewise.\n\t* testsuite/libffi.call/struct9.c: Likewise.\n\t* testsuite/libffi.special/special.exp: New file.\n\t* testsuite/libffi.special/ffitestcxx.h: Likewise.\n\t* testsuite/libffi.special/unwindtest.cc: Likewise.\n\nFrom-SVN: r71068", "tree": {"sha": "c9f087c0c14a1d2e06e1431433a81867995549cd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c9f087c0c14a1d2e06e1431433a81867995549cd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bbf3057bf97696d4c5ba5c624c26ea0a9b1e04fa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbf3057bf97696d4c5ba5c624c26ea0a9b1e04fa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bbf3057bf97696d4c5ba5c624c26ea0a9b1e04fa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbf3057bf97696d4c5ba5c624c26ea0a9b1e04fa/comments", "author": null, "committer": null, "parents": [{"sha": "232830b7fb01b1cb55f9d5d89736857f26da1f42", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/232830b7fb01b1cb55f9d5d89736857f26da1f42", "html_url": "https://github.com/Rust-GCC/gccrs/commit/232830b7fb01b1cb55f9d5d89736857f26da1f42"}], "stats": {"total": 628, "additions": 395, "deletions": 233}, "files": [{"sha": "a05f5771947f618b69f0751e1f519ec36f8cb814", "filename": "libffi/ChangeLog", "status": "modified", "additions": 67, "deletions": 0, "changes": 67, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbf3057bf97696d4c5ba5c624c26ea0a9b1e04fa/libffi%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbf3057bf97696d4c5ba5c624c26ea0a9b1e04fa/libffi%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2FChangeLog?ref=bbf3057bf97696d4c5ba5c624c26ea0a9b1e04fa", "patch": "@@ -1,3 +1,70 @@\n+2003-09-04  Andreas Tobler  <a.tobler@schweiz.ch>\n+\n+\t* Makefile.am: Add dejagnu test framework. Fixes PR other/11411.\n+\t* Makefile.in: Rebuilt.\n+\t* configure.in: Add dejagnu test framework.\n+\t* configure: Rebuilt.\n+\n+\t* testsuite/Makefile.am: New file.\n+\t* testsuite/Makefile.in: Built\n+\t* testsuite/lib/libffi-dg.exp: New file. \n+\t* testsuite/config/default.exp: Likewise.\n+\t* testsuite/libffi.call/call.exp: Likewise.\n+\t* testsuite/libffi.call/ffitest.h: Likewise.\n+\t* testsuite/libffi.call/closure_fn0.c: Likewise.\n+\t* testsuite/libffi.call/closure_fn1.c: Likewise.\n+\t* testsuite/libffi.call/closure_fn2.c: Likewise.\n+\t* testsuite/libffi.call/closure_fn3.c: Likewise.\n+\t* testsuite/libffi.call/cls_1_1byte.c: Likewise.\n+\t* testsuite/libffi.call/cls_3_1byte.c: Likewise.\n+\t* testsuite/libffi.call/cls_4_1byte.c: Likewise.\n+\t* testsuite/libffi.call/cls_2byte.c: Likewise.\n+\t* testsuite/libffi.call/cls_3byte1.c: Likewise.\n+\t* testsuite/libffi.call/cls_3byte2.c: Likewise.\n+\t* testsuite/libffi.call/cls_4byte.c: Likewise.\n+\t* testsuite/libffi.call/cls_5byte.c: Likewise.\n+\t* testsuite/libffi.call/cls_6byte.c: Likewise.\n+\t* testsuite/libffi.call/cls_7byte.c: Likewise.\n+\t* testsuite/libffi.call/cls_8byte.c: Likewise.\n+\t* testsuite/libffi.call/cls_12byte.c: Likewise.\n+\t* testsuite/libffi.call/cls_16byte.c: Likewise.\n+\t* testsuite/libffi.call/cls_20byte.c: Likewise.\n+\t* testsuite/libffi.call/cls_24byte.c: Likewise.\n+\t* testsuite/libffi.call/cls_double.c: Likewise.\n+\t* testsuite/libffi.call/cls_float.c: Likewise.\n+\t* testsuite/libffi.call/cls_uchar.c: Likewise.\n+\t* testsuite/libffi.call/cls_uint.c: Likewise.\n+\t* testsuite/libffi.call/cls_ulonglong.c: Likewise.\n+\t* testsuite/libffi.call/cls_ushort.c: Likewise.\n+\t* testsuite/libffi.call/float.c: Likewise.\n+\t* testsuite/libffi.call/float1.c: Likewise.\n+\t* testsuite/libffi.call/float2.c: Likewise.\n+\t* testsuite/libffi.call/many.c: Likewise.\n+\t* testsuite/libffi.call/many_win32.c: Likewise.\n+\t* testsuite/libffi.call/nested_struct.c: Likewise.\n+\t* testsuite/libffi.call/nested_struct1.c: Likewise.\n+\t* testsuite/libffi.call/pyobjc-tc.c: Likewise.\n+\t* testsuite/libffi.call/problem1.c: Likewise.\n+\t* testsuite/libffi.call/promotion.c: Likewise.\n+\t* testsuite/libffi.call/return_ll.c: Likewise.\n+\t* testsuite/libffi.call/return_sc.c: Likewise.\n+\t* testsuite/libffi.call/return_uc.c: Likewise.\n+\t* testsuite/libffi.call/strlen.c: Likewise.\n+\t* testsuite/libffi.call/strlen_win32.c: Likewise.\n+\t* testsuite/libffi.call/struct1.c: Likewise.\n+\t* testsuite/libffi.call/struct2.c: Likewise.\n+\t* testsuite/libffi.call/struct3.c: Likewise.\n+\t* testsuite/libffi.call/struct4.c: Likewise.\n+\t* testsuite/libffi.call/struct5.c: Likewise.\n+\t* testsuite/libffi.call/struct6.c: Likewise.\n+\t* testsuite/libffi.call/struct7.c: Likewise.\n+\t* testsuite/libffi.call/struct8.c: Likewise.\n+\t* testsuite/libffi.call/struct9.c: Likewise.\t\n+\t* testsuite/libffi.special/special.exp: New file.\n+\t* testsuite/libffi.special/ffitestcxx.h: Likewise.\n+\t* testsuite/libffi.special/unwindtest.cc: Likewise.\n+\n+\t\n 2003-08-13  Kaz Kojima  <kkojima@gcc.gnu.org>\n \n \t* src/sh/ffi.c (OFS_INT16): Set 0 for little endian case.  Update"}, {"sha": "985df7c93fb08677802c35fea8e87adacd6676a1", "filename": "libffi/Makefile.am", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbf3057bf97696d4c5ba5c624c26ea0a9b1e04fa/libffi%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbf3057bf97696d4c5ba5c624c26ea0a9b1e04fa/libffi%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2FMakefile.am?ref=bbf3057bf97696d4c5ba5c624c26ea0a9b1e04fa", "patch": "@@ -2,7 +2,8 @@\n \n AUTOMAKE_OPTIONS = cygnus\n \n-SUBDIRS = include\n+SUBDIRS = include testsuite\n+\n \n EXTRA_DIST = LICENSE ChangeLog.v1 src/mips/ffi.c src/mips/n32.S \\\n \t\tsrc/mips/n32.s src/mips/o32.S src/mips/o32.s \\\n@@ -52,6 +53,7 @@ AM_MAKEFLAGS = \\\n \t\"MAKEINFO=$(MAKEINFO) $(MAKEINFOFLAGS)\" \\\n \t\"PICFLAG=$(PICFLAG)\" \\\n \t\"PICFLAG_FOR_TARGET=$(PICFLAG_FOR_TARGET)\" \\\n+\t\"RUNTESTFLAGS=$(RUNTESTFLAGS)\" \\\n \t\"SHELL=$(SHELL)\" \\\n \t\"exec_prefix=$(exec_prefix)\" \\\n \t\"infodir=$(infodir)\" \\\n@@ -83,7 +85,6 @@ noinst_LTLIBRARIES = libffi_convenience.la\n \n noinst_PROGRAMS = ffitest\n \n-ffitest_OBJECTS = ffitest.lo\n ffitest_LDADD = libffi.la\n ffitest_LDFLAGS = -shared-libgcc\n \n@@ -178,7 +179,7 @@ libffi_la_SOURCES = $(libffi_la_common_SOURCES) $(TARGET_SRC_SH64)\n libffi_convenience_la_SOURCES = $(libffi_la_common_SOURCES) $(TARGET_SRC_SH64)\n endif\n \n-AM_CFLAGS = -fexceptions\n+AM_CFLAGS = -Wall -g -fexceptions\n \n libffi_la_LDFLAGS = -release $(VERSION) \n \n@@ -231,3 +232,7 @@ maintainer-clean-multi:\n \n ## ################################################################\n \n+CLEANFILES = $(libffi_convenience_la_OBJECTS)\t\t\\\n+\t     $(libffi_la_OBJECTS) \t\t\t\\\n+\t     $(libffi_convenience_la_OBJECTS:.lo=.o)\t\\\n+\t     $(libffi_la_OBJECTS:.lo=.o)"}, {"sha": "ef0900ea29b705d4a3d28b1bcbae3f88b6889612", "filename": "libffi/Makefile.in", "status": "modified", "additions": 95, "deletions": 81, "changes": 176, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbf3057bf97696d4c5ba5c624c26ea0a9b1e04fa/libffi%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbf3057bf97696d4c5ba5c624c26ea0a9b1e04fa/libffi%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2FMakefile.in?ref=bbf3057bf97696d4c5ba5c624c26ea0a9b1e04fa", "patch": "@@ -56,8 +56,13 @@ POST_INSTALL = :\n NORMAL_UNINSTALL = :\n PRE_UNINSTALL = :\n POST_UNINSTALL = :\n+build_alias = @build_alias@\n+build_triplet = @build@\n host_alias = @host_alias@\n host_triplet = @host@\n+target_alias = @target_alias@\n+target_triplet = @target@\n+AM_RUNTESTFLAGS = @AM_RUNTESTFLAGS@\n AS = @AS@\n CC = @CC@\n CXX = @CXX@\n@@ -85,7 +90,7 @@ toolexeclibdir = @toolexeclibdir@\n \n AUTOMAKE_OPTIONS = cygnus\n \n-SUBDIRS = include\n+SUBDIRS = include testsuite\n \n EXTRA_DIST = LICENSE ChangeLog.v1 src/mips/ffi.c src/mips/n32.S \\\n \t\tsrc/mips/n32.s src/mips/o32.S src/mips/o32.s \\\n@@ -130,6 +135,7 @@ AM_MAKEFLAGS = \\\n \t\"MAKEINFO=$(MAKEINFO) $(MAKEINFOFLAGS)\" \\\n \t\"PICFLAG=$(PICFLAG)\" \\\n \t\"PICFLAG_FOR_TARGET=$(PICFLAG_FOR_TARGET)\" \\\n+\t\"RUNTESTFLAGS=$(RUNTESTFLAGS)\" \\\n \t\"SHELL=$(SHELL)\" \\\n \t\"exec_prefix=$(exec_prefix)\" \\\n \t\"infodir=$(infodir)\" \\\n@@ -162,7 +168,6 @@ noinst_LTLIBRARIES = libffi_convenience.la\n \n noinst_PROGRAMS = ffitest\n \n-ffitest_OBJECTS = ffitest.lo\n ffitest_LDADD = libffi.la\n ffitest_LDFLAGS = -shared-libgcc\n \n@@ -222,13 +227,19 @@ libffi_la_common_SOURCES = src/debug.c src/prep_cif.c src/types.c \\\n @SH_TRUE@libffi_convenience_la_SOURCES = @SH_TRUE@$(libffi_la_common_SOURCES) $(TARGET_SRC_SH)\n @SH64_TRUE@libffi_convenience_la_SOURCES = @SH64_TRUE@$(libffi_la_common_SOURCES) $(TARGET_SRC_SH64)\n \n-AM_CFLAGS = -fexceptions\n+AM_CFLAGS = -Wall -g -fexceptions\n \n libffi_la_LDFLAGS = -release $(VERSION) \n \n INCLUDES = -I$(top_srcdir)/include -Iinclude -I$(top_srcdir)/src\n+\n+CLEANFILES = $(libffi_convenience_la_OBJECTS)\t\t\\\n+\t     $(libffi_la_OBJECTS) \t\t\t\\\n+\t     $(libffi_convenience_la_OBJECTS:.lo=.o)\t\\\n+\t     $(libffi_la_OBJECTS:.lo=.o)\n+\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n-mkinstalldirs = $(SHELL) $(top_srcdir)/${libffi_basedir}/../mkinstalldirs\n+mkinstalldirs = $(SHELL) $(top_srcdir)/${libffi_basedir}../mkinstalldirs\n CONFIG_HEADER = fficonfig.h\n CONFIG_CLEAN_FILES = \n LTLIBRARIES =  $(noinst_LTLIBRARIES) $(toolexeclib_LTLIBRARIES)\n@@ -240,126 +251,128 @@ LDFLAGS = @LDFLAGS@\n LIBS = @LIBS@\n libffi_convenience_la_LDFLAGS = \n libffi_convenience_la_LIBADD = \n-@ALPHA_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n-@ALPHA_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n-@ALPHA_TRUE@src/java_raw_api.lo src/alpha/ffi.lo src/alpha/osf.lo\n-@IA64_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@IA64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@IA64_TRUE@src/ia64/ffi.lo src/ia64/unix.lo\n @MIPS_GCC_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n @MIPS_GCC_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n @MIPS_GCC_TRUE@src/java_raw_api.lo src/mips/ffi.lo src/mips/o32.lo \\\n @MIPS_GCC_TRUE@src/mips/n32.lo\n-@S390_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@S390_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@S390_TRUE@src/s390/sysv.lo src/s390/ffi.lo\n-@M68K_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@M68K_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@M68K_TRUE@src/m68k/ffi.lo src/m68k/sysv.lo\n-@X86_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@X86_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@X86_TRUE@src/x86/ffi.lo src/x86/sysv.lo\n-@POWERPC_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n-@POWERPC_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n-@POWERPC_TRUE@src/java_raw_api.lo src/powerpc/ffi.lo \\\n-@POWERPC_TRUE@src/powerpc/sysv.lo src/powerpc/ppc_closure.lo \\\n-@POWERPC_TRUE@src/powerpc/linux64.lo src/powerpc/linux64_closure.lo\n-@MIPS_LINUX_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n-@MIPS_LINUX_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n-@MIPS_LINUX_TRUE@src/java_raw_api.lo src/mips/ffi.lo src/mips/o32.lo\n-@X86_WIN32_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n-@X86_WIN32_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n-@X86_WIN32_TRUE@src/java_raw_api.lo src/x86/ffi.lo src/x86/win32.lo\n @X86_64_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n @X86_64_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n @X86_64_TRUE@src/java_raw_api.lo src/x86/ffi64.lo src/x86/unix64.lo \\\n @X86_64_TRUE@src/x86/ffi.lo src/x86/sysv.lo\n @SH_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @SH_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo src/sh/sysv.lo \\\n @SH_TRUE@src/sh/ffi.lo\n-@SH64_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@SH64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@SH64_TRUE@src/sh64/sysv.lo src/sh64/ffi.lo\n-@SPARC_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n-@SPARC_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n-@SPARC_TRUE@src/java_raw_api.lo src/sparc/ffi.lo src/sparc/v8.lo \\\n-@SPARC_TRUE@src/sparc/v9.lo\n @POWERPC_AIX_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n @POWERPC_AIX_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n @POWERPC_AIX_TRUE@src/java_raw_api.lo src/powerpc/ffi_darwin.lo \\\n @POWERPC_AIX_TRUE@src/powerpc/aix.lo src/powerpc/aix_closure.lo\n-@MIPS_SGI_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n-@MIPS_SGI_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n-@MIPS_SGI_TRUE@src/java_raw_api.lo src/mips/ffi.lo src/mips/o32.lo \\\n-@MIPS_SGI_TRUE@src/mips/n32.lo\n+@ALPHA_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@ALPHA_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@ALPHA_TRUE@src/java_raw_api.lo src/alpha/ffi.lo src/alpha/osf.lo\n+@IA64_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@IA64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@IA64_TRUE@src/ia64/ffi.lo src/ia64/unix.lo\n @POWERPC_DARWIN_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n @POWERPC_DARWIN_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n @POWERPC_DARWIN_TRUE@src/java_raw_api.lo src/powerpc/ffi_darwin.lo \\\n @POWERPC_DARWIN_TRUE@src/powerpc/darwin.lo \\\n @POWERPC_DARWIN_TRUE@src/powerpc/darwin_closure.lo\n+@MIPS_SGI_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@MIPS_SGI_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@MIPS_SGI_TRUE@src/java_raw_api.lo src/mips/ffi.lo src/mips/o32.lo \\\n+@MIPS_SGI_TRUE@src/mips/n32.lo\n+@MIPS_LINUX_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@MIPS_LINUX_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@MIPS_LINUX_TRUE@src/java_raw_api.lo src/mips/ffi.lo src/mips/o32.lo\n+@S390_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@S390_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@S390_TRUE@src/s390/sysv.lo src/s390/ffi.lo\n+@X86_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@X86_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@X86_TRUE@src/x86/ffi.lo src/x86/sysv.lo\n+@X86_WIN32_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@X86_WIN32_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@X86_WIN32_TRUE@src/java_raw_api.lo src/x86/ffi.lo src/x86/win32.lo\n+@SH64_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@SH64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@SH64_TRUE@src/sh64/sysv.lo src/sh64/ffi.lo\n @ARM_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @ARM_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @ARM_TRUE@src/arm/sysv.lo src/arm/ffi.lo\n+@POWERPC_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@POWERPC_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@POWERPC_TRUE@src/java_raw_api.lo src/powerpc/ffi.lo \\\n+@POWERPC_TRUE@src/powerpc/sysv.lo src/powerpc/ppc_closure.lo \\\n+@POWERPC_TRUE@src/powerpc/linux64.lo src/powerpc/linux64_closure.lo\n+@SPARC_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@SPARC_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@SPARC_TRUE@src/java_raw_api.lo src/sparc/ffi.lo src/sparc/v8.lo \\\n+@SPARC_TRUE@src/sparc/v9.lo\n+@M68K_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@M68K_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@M68K_TRUE@src/m68k/ffi.lo src/m68k/sysv.lo\n libffi_la_LIBADD = \n+@MIPS_GCC_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@MIPS_GCC_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@MIPS_GCC_TRUE@src/mips/ffi.lo src/mips/o32.lo src/mips/n32.lo\n+@X86_64_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@X86_64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@X86_64_TRUE@src/x86/ffi64.lo src/x86/unix64.lo src/x86/ffi.lo \\\n+@X86_64_TRUE@src/x86/sysv.lo\n @SH_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo src/types.lo \\\n @SH_TRUE@src/raw_api.lo src/java_raw_api.lo src/sh/sysv.lo \\\n @SH_TRUE@src/sh/ffi.lo\n-@SH64_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo src/types.lo \\\n-@SH64_TRUE@src/raw_api.lo src/java_raw_api.lo src/sh64/sysv.lo \\\n-@SH64_TRUE@src/sh64/ffi.lo\n+@POWERPC_AIX_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@POWERPC_AIX_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@POWERPC_AIX_TRUE@src/powerpc/ffi_darwin.lo src/powerpc/aix.lo \\\n+@POWERPC_AIX_TRUE@src/powerpc/aix_closure.lo\n+@ALPHA_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@ALPHA_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@ALPHA_TRUE@src/alpha/ffi.lo src/alpha/osf.lo\n @IA64_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @IA64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @IA64_TRUE@src/ia64/ffi.lo src/ia64/unix.lo\n+@POWERPC_DARWIN_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@POWERPC_DARWIN_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@POWERPC_DARWIN_TRUE@src/powerpc/ffi_darwin.lo src/powerpc/darwin.lo \\\n+@POWERPC_DARWIN_TRUE@src/powerpc/darwin_closure.lo\n+@MIPS_SGI_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@MIPS_SGI_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@MIPS_SGI_TRUE@src/mips/ffi.lo src/mips/o32.lo src/mips/n32.lo\n+@MIPS_LINUX_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@MIPS_LINUX_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@MIPS_LINUX_TRUE@src/mips/ffi.lo src/mips/o32.lo\n+@S390_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@S390_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@S390_TRUE@src/s390/sysv.lo src/s390/ffi.lo\n @X86_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo src/types.lo \\\n @X86_TRUE@src/raw_api.lo src/java_raw_api.lo src/x86/ffi.lo \\\n @X86_TRUE@src/x86/sysv.lo\n+@X86_WIN32_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@X86_WIN32_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@X86_WIN32_TRUE@src/x86/ffi.lo src/x86/win32.lo\n+@SH64_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@SH64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@SH64_TRUE@src/sh64/sysv.lo src/sh64/ffi.lo\n+@ARM_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo src/types.lo \\\n+@ARM_TRUE@src/raw_api.lo src/java_raw_api.lo src/arm/sysv.lo \\\n+@ARM_TRUE@src/arm/ffi.lo\n @POWERPC_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @POWERPC_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @POWERPC_TRUE@src/powerpc/ffi.lo src/powerpc/sysv.lo \\\n @POWERPC_TRUE@src/powerpc/ppc_closure.lo src/powerpc/linux64.lo \\\n @POWERPC_TRUE@src/powerpc/linux64_closure.lo\n-@MIPS_LINUX_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@MIPS_LINUX_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@MIPS_LINUX_TRUE@src/mips/ffi.lo src/mips/o32.lo\n @SPARC_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @SPARC_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @SPARC_TRUE@src/sparc/ffi.lo src/sparc/v8.lo src/sparc/v9.lo\n-@POWERPC_AIX_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@POWERPC_AIX_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@POWERPC_AIX_TRUE@src/powerpc/ffi_darwin.lo src/powerpc/aix.lo \\\n-@POWERPC_AIX_TRUE@src/powerpc/aix_closure.lo\n-@MIPS_SGI_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@MIPS_SGI_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@MIPS_SGI_TRUE@src/mips/ffi.lo src/mips/o32.lo src/mips/n32.lo\n-@ARM_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo src/types.lo \\\n-@ARM_TRUE@src/raw_api.lo src/java_raw_api.lo src/arm/sysv.lo \\\n-@ARM_TRUE@src/arm/ffi.lo\n-@ALPHA_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@ALPHA_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@ALPHA_TRUE@src/alpha/ffi.lo src/alpha/osf.lo\n-@MIPS_GCC_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@MIPS_GCC_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@MIPS_GCC_TRUE@src/mips/ffi.lo src/mips/o32.lo src/mips/n32.lo\n-@S390_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@S390_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@S390_TRUE@src/s390/sysv.lo src/s390/ffi.lo\n @M68K_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @M68K_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @M68K_TRUE@src/m68k/ffi.lo src/m68k/sysv.lo\n-@X86_WIN32_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@X86_WIN32_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@X86_WIN32_TRUE@src/x86/ffi.lo src/x86/win32.lo\n-@X86_64_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@X86_64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@X86_64_TRUE@src/x86/ffi64.lo src/x86/unix64.lo src/x86/ffi.lo \\\n-@X86_64_TRUE@src/x86/sysv.lo\n-@POWERPC_DARWIN_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@POWERPC_DARWIN_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@POWERPC_DARWIN_TRUE@src/powerpc/ffi_darwin.lo src/powerpc/darwin.lo \\\n-@POWERPC_DARWIN_TRUE@src/powerpc/darwin_closure.lo\n noinst_PROGRAMS =  ffitest$(EXEEXT)\n PROGRAMS =  $(noinst_PROGRAMS)\n \n+ffitest_SOURCES = ffitest.c\n+ffitest_OBJECTS =  ffitest.$(OBJEXT)\n ffitest_DEPENDENCIES =  libffi.la\n CFLAGS = @CFLAGS@\n COMPILE = $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)\n@@ -373,10 +386,10 @@ fficonfig.h.in\n \n DISTFILES = $(DIST_COMMON) $(SOURCES) $(HEADERS) $(TEXINFOS) $(EXTRA_DIST)\n \n-TAR = gtar\n+TAR = gnutar\n GZIP_ENV = --best\n-SOURCES = $(libffi_convenience_la_SOURCES) $(libffi_la_SOURCES)\n-OBJECTS = $(libffi_convenience_la_OBJECTS) $(libffi_la_OBJECTS)\n+SOURCES = $(libffi_convenience_la_SOURCES) $(libffi_la_SOURCES) ffitest.c\n+OBJECTS = $(libffi_convenience_la_OBJECTS) $(libffi_la_OBJECTS) ffitest.$(OBJEXT)\n \n all: all-redirect\n .SUFFIXES:\n@@ -633,7 +646,7 @@ distdir: $(DISTFILES)\n \t$(mkinstalldirs) $(distdir)/src/alpha $(distdir)/src/arm \\\n \t   $(distdir)/src/m68k $(distdir)/src/mips \\\n \t   $(distdir)/src/powerpc $(distdir)/src/s390 $(distdir)/src/sh \\\n-\t   $(distdir)/src/sparc $(distdir)/src/x86\n+\t   $(distdir)/src/sh64 $(distdir)/src/sparc $(distdir)/src/x86\n \t@for file in $(DISTFILES); do \\\n \t  if test -f $$file; then d=.; else d=$(srcdir); fi; \\\n \t  if test -d $$d/$$file; then \\\n@@ -690,6 +703,7 @@ installdirs-am:\n mostlyclean-generic:\n \n clean-generic:\n+\t-test -z \"$(CLEANFILES)\" || rm -f $(CLEANFILES)\n \n distclean-generic:\n \t-rm -f Makefile $(CONFIG_CLEAN_FILES)"}, {"sha": "24c967b63b9099df14562960de1187a9419df205", "filename": "libffi/configure", "status": "modified", "additions": 215, "deletions": 147, "changes": 362, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbf3057bf97696d4c5ba5c624c26ea0a9b1e04fa/libffi%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbf3057bf97696d4c5ba5c624c26ea0a9b1e04fa/libffi%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Fconfigure?ref=bbf3057bf97696d4c5ba5c624c26ea0a9b1e04fa", "patch": "@@ -662,13 +662,34 @@ ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.\n \n \n \n+# Do some error checking and defaulting for the host and target type.\n+# The inputs are:\n+#    configure --host=HOST --target=TARGET --build=BUILD NONOPT\n+#\n+# The rules are:\n+# 1. You are not allowed to specify --host, --target, and nonopt at the\n+#    same time.\n+# 2. Host defaults to nonopt.\n+# 3. If nonopt is not specified, then host defaults to the current host,\n+#    as determined by config.guess.\n+# 4. Target and build default to nonopt.\n+# 5. If nonopt is not specified, then target and build default to host.\n+\n+# The aliases save the names the user supplied, while $host etc.\n+# will get canonicalized.\n+case $host---$target---$nonopt in\n+NONE---*---* | *---NONE---* | *---*---NONE) ;;\n+*) { echo \"configure: error: can only configure for one host and one target at a time\" 1>&2; exit 1; } ;;\n+esac\n+\n+\n # Make sure we can run config.sub.\n if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :\n else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n fi\n \n echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:672: checking host system type\" >&5\n+echo \"configure:693: checking host system type\" >&5\n \n host_alias=$host\n case \"$host_alias\" in\n@@ -688,6 +709,48 @@ host_vendor=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$host\" 1>&6\n \n+echo $ac_n \"checking target system type\"\"... $ac_c\" 1>&6\n+echo \"configure:714: checking target system type\" >&5\n+\n+target_alias=$target\n+case \"$target_alias\" in\n+NONE)\n+  case $nonopt in\n+  NONE) target_alias=$host_alias ;;\n+  *) target_alias=$nonopt ;;\n+  esac ;;\n+esac\n+\n+target=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $target_alias`\n+target_cpu=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n+target_vendor=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n+target_os=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n+echo \"$ac_t\"\"$target\" 1>&6\n+\n+echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n+echo \"configure:732: checking build system type\" >&5\n+\n+build_alias=$build\n+case \"$build_alias\" in\n+NONE)\n+  case $nonopt in\n+  NONE) build_alias=$host_alias ;;\n+  *) build_alias=$nonopt ;;\n+  esac ;;\n+esac\n+\n+build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`\n+build_cpu=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n+build_vendor=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n+build_os=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n+echo \"$ac_t\"\"$build\" 1>&6\n+\n+test \"$host_alias\" != \"$target_alias\" &&\n+  test \"$program_prefix$program_suffix$program_transform_name\" = \\\n+    NONENONEs,x,x, &&\n+  program_prefix=${target_alias}-\n+\n+target_alias=${target_alias-$host_alias}\n \n # Check whether --enable-shared or --disable-shared was given.\n if test \"${enable_shared+set}\" = set; then\n@@ -758,28 +821,10 @@ else\n   enable_fast_install=yes\n fi\n \n-echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:763: checking build system type\" >&5\n-\n-build_alias=$build\n-case \"$build_alias\" in\n-NONE)\n-  case $nonopt in\n-  NONE) build_alias=$host_alias ;;\n-  *) build_alias=$nonopt ;;\n-  esac ;;\n-esac\n-\n-build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`\n-build_cpu=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n-build_vendor=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n-build_os=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n-echo \"$ac_t\"\"$build\" 1>&6\n-\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:783: checking for $ac_word\" >&5\n+echo \"configure:828: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -809,7 +854,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:813: checking for $ac_word\" >&5\n+echo \"configure:858: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -860,7 +905,7 @@ fi\n       # Extract the first word of \"cl\", so it can be a program name with args.\n set dummy cl; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:864: checking for $ac_word\" >&5\n+echo \"configure:909: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -892,7 +937,7 @@ fi\n fi\n \n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:896: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:941: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -903,12 +948,12 @@ cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext << EOF\n \n-#line 907 \"configure\"\n+#line 952 \"configure\"\n #include \"confdefs.h\"\n \n main(){return(0);}\n EOF\n-if { (eval echo configure:912: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:957: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -934,12 +979,12 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:938: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:983: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:943: checking whether we are using GNU C\" >&5\n+echo \"configure:988: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -948,7 +993,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:952: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:997: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -967,7 +1012,7 @@ ac_test_CFLAGS=\"${CFLAGS+set}\"\n ac_save_CFLAGS=\"$CFLAGS\"\n CFLAGS=\n echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:971: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:1016: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1010,7 +1055,7 @@ ac_prog=ld\n if test \"$GCC\" = yes; then\n   # Check if gcc -print-prog-name=ld gives a path.\n   echo $ac_n \"checking for ld used by GCC\"\"... $ac_c\" 1>&6\n-echo \"configure:1014: checking for ld used by GCC\" >&5\n+echo \"configure:1059: checking for ld used by GCC\" >&5\n   case $host in\n   *-*-mingw*)\n     # gcc leaves a trailing carriage return which upsets mingw\n@@ -1040,10 +1085,10 @@ echo \"configure:1014: checking for ld used by GCC\" >&5\n   esac\n elif test \"$with_gnu_ld\" = yes; then\n   echo $ac_n \"checking for GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1044: checking for GNU ld\" >&5\n+echo \"configure:1089: checking for GNU ld\" >&5\n else\n   echo $ac_n \"checking for non-GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1047: checking for non-GNU ld\" >&5\n+echo \"configure:1092: checking for non-GNU ld\" >&5\n fi\n if eval \"test \\\"`echo '$''{'lt_cv_path_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1078,7 +1123,7 @@ else\n fi\n test -z \"$LD\" && { echo \"configure: error: no acceptable ld found in \\$PATH\" 1>&2; exit 1; }\n echo $ac_n \"checking if the linker ($LD) is GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1082: checking if the linker ($LD) is GNU ld\" >&5\n+echo \"configure:1127: checking if the linker ($LD) is GNU ld\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_prog_gnu_ld'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1095,7 +1140,7 @@ with_gnu_ld=$lt_cv_prog_gnu_ld\n \n \n echo $ac_n \"checking for $LD option to reload object files\"\"... $ac_c\" 1>&6\n-echo \"configure:1099: checking for $LD option to reload object files\" >&5\n+echo \"configure:1144: checking for $LD option to reload object files\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_ld_reload_flag'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1107,7 +1152,7 @@ reload_flag=$lt_cv_ld_reload_flag\n test -n \"$reload_flag\" && reload_flag=\" $reload_flag\"\n \n echo $ac_n \"checking for BSD-compatible nm\"\"... $ac_c\" 1>&6\n-echo \"configure:1111: checking for BSD-compatible nm\" >&5\n+echo \"configure:1156: checking for BSD-compatible nm\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_path_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1145,7 +1190,7 @@ NM=\"$lt_cv_path_NM\"\n echo \"$ac_t\"\"$NM\" 1>&6\n \n echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n-echo \"configure:1149: checking whether ln -s works\" >&5\n+echo \"configure:1194: checking whether ln -s works\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LN_S'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1166,7 +1211,7 @@ else\n fi\n \n echo $ac_n \"checking how to recognise dependant libraries\"\"... $ac_c\" 1>&6\n-echo \"configure:1170: checking how to recognise dependant libraries\" >&5\n+echo \"configure:1215: checking how to recognise dependant libraries\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_deplibs_check_method'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1339,13 +1384,13 @@ file_magic_cmd=$lt_cv_file_magic_cmd\n deplibs_check_method=$lt_cv_deplibs_check_method\n \n echo $ac_n \"checking for object suffix\"\"... $ac_c\" 1>&6\n-echo \"configure:1343: checking for object suffix\" >&5\n+echo \"configure:1388: checking for object suffix\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_objext'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   rm -f conftest*\n echo 'int i = 1;' > conftest.$ac_ext\n-if { (eval echo configure:1349: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1394: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   for ac_file in conftest.*; do\n     case $ac_file in\n     *.c) ;;\n@@ -1365,7 +1410,7 @@ ac_objext=$ac_cv_objext\n \n \n echo $ac_n \"checking for executable suffix\"\"... $ac_c\" 1>&6\n-echo \"configure:1369: checking for executable suffix\" >&5\n+echo \"configure:1414: checking for executable suffix\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_exeext'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1375,7 +1420,7 @@ else\n   rm -f conftest*\n   echo 'int main () { return 0; }' > conftest.$ac_ext\n   ac_cv_exeext=\n-  if { (eval echo configure:1379: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n+  if { (eval echo configure:1424: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n     for file in conftest.*; do\n       case $file in\n       *.c | *.o | *.obj) ;;\n@@ -1408,7 +1453,7 @@ case $deplibs_check_method in\n file_magic*)\n   if test \"$file_magic_cmd\" = '$MAGIC_CMD'; then\n     echo $ac_n \"checking for ${ac_tool_prefix}file\"\"... $ac_c\" 1>&6\n-echo \"configure:1412: checking for ${ac_tool_prefix}file\" >&5\n+echo \"configure:1457: checking for ${ac_tool_prefix}file\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_path_MAGIC_CMD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1470,7 +1515,7 @@ fi\n if test -z \"$lt_cv_path_MAGIC_CMD\"; then\n   if test -n \"$ac_tool_prefix\"; then\n     echo $ac_n \"checking for file\"\"... $ac_c\" 1>&6\n-echo \"configure:1474: checking for file\" >&5\n+echo \"configure:1519: checking for file\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_path_MAGIC_CMD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1541,7 +1586,7 @@ esac\n # Extract the first word of \"${ac_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1545: checking for $ac_word\" >&5\n+echo \"configure:1590: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1573,7 +1618,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1577: checking for $ac_word\" >&5\n+echo \"configure:1622: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1608,7 +1653,7 @@ fi\n # Extract the first word of \"${ac_tool_prefix}strip\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}strip; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1612: checking for $ac_word\" >&5\n+echo \"configure:1657: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_STRIP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1640,7 +1685,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"strip\", so it can be a program name with args.\n set dummy strip; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1644: checking for $ac_word\" >&5\n+echo \"configure:1689: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_STRIP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1707,8 +1752,8 @@ test x\"$pic_mode\" = xno && libtool_flags=\"$libtool_flags --prefer-non-pic\"\n case $host in\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 1711 \"configure\"' > conftest.$ac_ext\n-  if { (eval echo configure:1712: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  echo '#line 1756 \"configure\"' > conftest.$ac_ext\n+  if { (eval echo configure:1757: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n    if test \"$lt_cv_prog_gnu_ld\" = yes; then\n     case `/usr/bin/file conftest.$ac_objext` in\n     *32-bit*)\n@@ -1741,7 +1786,7 @@ case $host in\n ia64-*-hpux*)\n   # Find out which ABI we are using.\n   echo 'int i;' > conftest.$ac_ext\n-  if { (eval echo configure:1745: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  if { (eval echo configure:1790: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n     case \"`/usr/bin/file conftest.o`\" in\n     *ELF-32*)\n       HPUX_IA64_MODE=\"32\"\n@@ -1757,7 +1802,7 @@ ia64-*-hpux*)\n x86_64-*linux*|ppc*-*linux*|powerpc*-*linux*|s390*-*linux*|sparc*-*linux*)\n   # Find out which ABI we are using.\n   echo 'int i;' > conftest.$ac_ext\n-  if { (eval echo configure:1761: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  if { (eval echo configure:1806: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n     case \"`/usr/bin/file conftest.o`\" in\n     *32-bit*)\n       case $host in\n@@ -1801,7 +1846,7 @@ x86_64-*linux*|ppc*-*linux*|powerpc*-*linux*|s390*-*linux*|sparc*-*linux*)\n   SAVE_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\"$CFLAGS -belf\"\n   echo $ac_n \"checking whether the C compiler needs -belf\"\"... $ac_c\" 1>&6\n-echo \"configure:1805: checking whether the C compiler needs -belf\" >&5\n+echo \"configure:1850: checking whether the C compiler needs -belf\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_cc_needs_belf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1814,14 +1859,14 @@ ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$a\n cross_compiling=$ac_cv_prog_cc_cross\n \n      cat > conftest.$ac_ext <<EOF\n-#line 1818 \"configure\"\n+#line 1863 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1825: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1870: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   lt_cv_cc_needs_belf=yes\n else\n@@ -1949,7 +1994,7 @@ exec 5>>./config.log\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:1953: checking for a BSD compatible install\" >&5\n+echo \"configure:1998: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -2002,7 +2047,7 @@ test -z \"$INSTALL_SCRIPT\" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'\n test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n echo $ac_n \"checking whether build environment is sane\"\"... $ac_c\" 1>&6\n-echo \"configure:2006: checking whether build environment is sane\" >&5\n+echo \"configure:2051: checking whether build environment is sane\" >&5\n # Just in case\n sleep 1\n echo timestamp > conftestfile\n@@ -2059,7 +2104,7 @@ test \"$program_suffix\" != NONE &&\n test \"$program_transform_name\" = \"\" && program_transform_name=\"s,x,x,\"\n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:2063: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:2108: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -2098,7 +2143,7 @@ fi\n \n missing_dir=`cd $ac_aux_dir && pwd`\n echo $ac_n \"checking for working aclocal\"\"... $ac_c\" 1>&6\n-echo \"configure:2102: checking for working aclocal\" >&5\n+echo \"configure:2147: checking for working aclocal\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -2111,7 +2156,7 @@ else\n fi\n \n echo $ac_n \"checking for working autoconf\"\"... $ac_c\" 1>&6\n-echo \"configure:2115: checking for working autoconf\" >&5\n+echo \"configure:2160: checking for working autoconf\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -2124,7 +2169,7 @@ else\n fi\n \n echo $ac_n \"checking for working automake\"\"... $ac_c\" 1>&6\n-echo \"configure:2128: checking for working automake\" >&5\n+echo \"configure:2173: checking for working automake\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -2137,7 +2182,7 @@ else\n fi\n \n echo $ac_n \"checking for working autoheader\"\"... $ac_c\" 1>&6\n-echo \"configure:2141: checking for working autoheader\" >&5\n+echo \"configure:2186: checking for working autoheader\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -2150,7 +2195,7 @@ else\n fi\n \n echo $ac_n \"checking for working makeinfo\"\"... $ac_c\" 1>&6\n-echo \"configure:2154: checking for working makeinfo\" >&5\n+echo \"configure:2199: checking for working makeinfo\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -2167,7 +2212,7 @@ fi\n \n \n echo $ac_n \"checking for executable suffix\"\"... $ac_c\" 1>&6\n-echo \"configure:2171: checking for executable suffix\" >&5\n+echo \"configure:2216: checking for executable suffix\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_exeext'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2177,7 +2222,7 @@ else\n   rm -f conftest*\n   echo 'int main () { return 0; }' > conftest.$ac_ext\n   ac_cv_exeext=\n-  if { (eval echo configure:2181: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n+  if { (eval echo configure:2226: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n     for file in conftest.*; do\n       case $file in\n       *.c | *.o | *.obj) ;;\n@@ -2198,7 +2243,7 @@ echo \"$ac_t\"\"${ac_cv_exeext}\" 1>&6\n ac_exeext=$EXEEXT\n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:2202: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:2247: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -2224,7 +2269,7 @@ fi\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2228: checking for $ac_word\" >&5\n+echo \"configure:2273: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2254,7 +2299,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2258: checking for $ac_word\" >&5\n+echo \"configure:2303: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2305,7 +2350,7 @@ fi\n       # Extract the first word of \"cl\", so it can be a program name with args.\n set dummy cl; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2309: checking for $ac_word\" >&5\n+echo \"configure:2354: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2337,7 +2382,7 @@ fi\n fi\n \n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:2341: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:2386: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -2348,12 +2393,12 @@ cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext << EOF\n \n-#line 2352 \"configure\"\n+#line 2397 \"configure\"\n #include \"confdefs.h\"\n \n main(){return(0);}\n EOF\n-if { (eval echo configure:2357: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2402: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -2379,12 +2424,12 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:2383: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:2428: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:2388: checking whether we are using GNU C\" >&5\n+echo \"configure:2433: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2393,7 +2438,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:2397: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:2442: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -2412,7 +2457,7 @@ ac_test_CFLAGS=\"${CFLAGS+set}\"\n ac_save_CFLAGS=\"$CFLAGS\"\n CFLAGS=\n echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:2416: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:2461: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2443,12 +2488,24 @@ else\n   fi\n fi\n \n+\n   \n \n   \n \t \n \t \n \n+\n+\n+if test -d $srcdir/testsuite; then\n+  TESTSUBDIR_TRUE=\n+  TESTSUBDIR_FALSE='#'\n+else\n+  TESTSUBDIR_TRUE='#'\n+  TESTSUBDIR_FALSE=\n+fi\n+\n+\n TARGETDIR=\"unknown\"\n case \"$host\" in\n mips-sgi-irix5.* | mips-sgi-irix6.*) TARGET=MIPS; TARGETDIR=mips;;\n@@ -2483,6 +2540,8 @@ sh-*-linux* | sh[34]*-*-linux*) TARGET=SH; TARGETDIR=sh;;\n sh64-*-linux* | sh5*-*-linux*) TARGET=SH64; TARGETDIR=sh64;;\n esac\n \n+\n+\n if test $TARGETDIR = unknown; then\n   { echo \"configure: error: \"libffi has not been ported to $host.\"\" 1>&2; exit 1; }\n fi\n@@ -2632,6 +2691,7 @@ else\n   SH_FALSE=\n fi\n \n+\n if test x$TARGET = xSH64; then\n   SH64_TRUE=\n   SH64_FALSE='#'\n@@ -2645,7 +2705,7 @@ if test x$TARGET = xMIPS_LINUX; then\n fi\n \n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:2639: checking how to run the C preprocessor\" >&5\n+echo \"configure:2709: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -2660,13 +2720,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 2654 \"configure\"\n+#line 2724 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2660: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2730: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2677,13 +2737,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2671 \"configure\"\n+#line 2741 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2677: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2747: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2694,13 +2754,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2688 \"configure\"\n+#line 2758 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2694: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2764: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2725,20 +2785,20 @@ fi\n echo \"$ac_t\"\"$CPP\" 1>&6\n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:2719: checking for ANSI C header files\" >&5\n+echo \"configure:2789: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2724 \"configure\"\n+#line 2794 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2732: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2802: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2755,7 +2815,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 2749 \"configure\"\n+#line 2819 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -2773,7 +2833,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 2767 \"configure\"\n+#line 2837 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -2794,7 +2854,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2788 \"configure\"\n+#line 2858 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -2805,7 +2865,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:2799: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2869: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -2831,12 +2891,12 @@ fi\n for ac_func in memcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2825: checking for $ac_func\" >&5\n+echo \"configure:2895: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2830 \"configure\"\n+#line 2900 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2859,7 +2919,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2853: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2923: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2886,19 +2946,19 @@ done\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2880: checking for working alloca.h\" >&5\n+echo \"configure:2950: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2885 \"configure\"\n+#line 2955 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:2892: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2962: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -2919,12 +2979,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:2913: checking for alloca\" >&5\n+echo \"configure:2983: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2918 \"configure\"\n+#line 2988 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -2952,7 +3012,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:2946: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3016: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -2984,12 +3044,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:2978: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:3048: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2983 \"configure\"\n+#line 3053 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -3014,12 +3074,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3008: checking for $ac_func\" >&5\n+echo \"configure:3078: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3013 \"configure\"\n+#line 3083 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3042,7 +3102,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3036: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3106: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3069,15 +3129,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:3063: checking stack direction for C alloca\" >&5\n+echo \"configure:3133: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3071 \"configure\"\n+#line 3141 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -3096,7 +3156,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:3090: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3160: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -3119,13 +3179,13 @@ fi\n \n \n echo $ac_n \"checking size of short\"\"... $ac_c\" 1>&6\n-echo \"configure:3113: checking size of short\" >&5\n+echo \"configure:3183: checking size of short\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_short'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   for ac_size in 4 8 1 2 16 12  ; do # List sizes in rough order of prevalence.\n   cat > conftest.$ac_ext <<EOF\n-#line 3119 \"configure\"\n+#line 3189 \"configure\"\n #include \"confdefs.h\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n@@ -3135,7 +3195,7 @@ int main() {\n switch (0) case 0: case (sizeof (short) == $ac_size):;\n ; return 0; }\n EOF\n-if { (eval echo configure:3129: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3199: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_sizeof_short=$ac_size\n else\n@@ -3158,13 +3218,13 @@ EOF\n \n \n echo $ac_n \"checking size of int\"\"... $ac_c\" 1>&6\n-echo \"configure:3152: checking size of int\" >&5\n+echo \"configure:3222: checking size of int\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_int'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   for ac_size in 4 8 1 2 16 12  ; do # List sizes in rough order of prevalence.\n   cat > conftest.$ac_ext <<EOF\n-#line 3158 \"configure\"\n+#line 3228 \"configure\"\n #include \"confdefs.h\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n@@ -3174,7 +3234,7 @@ int main() {\n switch (0) case 0: case (sizeof (int) == $ac_size):;\n ; return 0; }\n EOF\n-if { (eval echo configure:3168: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3238: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_sizeof_int=$ac_size\n else\n@@ -3197,13 +3257,13 @@ EOF\n \n \n echo $ac_n \"checking size of long\"\"... $ac_c\" 1>&6\n-echo \"configure:3191: checking size of long\" >&5\n+echo \"configure:3261: checking size of long\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_long'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   for ac_size in 4 8 1 2 16 12  ; do # List sizes in rough order of prevalence.\n   cat > conftest.$ac_ext <<EOF\n-#line 3197 \"configure\"\n+#line 3267 \"configure\"\n #include \"confdefs.h\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n@@ -3213,7 +3273,7 @@ int main() {\n switch (0) case 0: case (sizeof (long) == $ac_size):;\n ; return 0; }\n EOF\n-if { (eval echo configure:3207: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3277: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_sizeof_long=$ac_size\n else\n@@ -3236,13 +3296,13 @@ EOF\n \n \n echo $ac_n \"checking size of long long\"\"... $ac_c\" 1>&6\n-echo \"configure:3230: checking size of long long\" >&5\n+echo \"configure:3300: checking size of long long\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_long_long'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   for ac_size in 4 8 1 2 16 12  ; do # List sizes in rough order of prevalence.\n   cat > conftest.$ac_ext <<EOF\n-#line 3236 \"configure\"\n+#line 3306 \"configure\"\n #include \"confdefs.h\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n@@ -3252,7 +3312,7 @@ int main() {\n switch (0) case 0: case (sizeof (long long) == $ac_size):;\n ; return 0; }\n EOF\n-if { (eval echo configure:3246: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3316: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_sizeof_long_long=$ac_size\n else\n@@ -3275,13 +3335,13 @@ EOF\n \n \n echo $ac_n \"checking size of float\"\"... $ac_c\" 1>&6\n-echo \"configure:3269: checking size of float\" >&5\n+echo \"configure:3339: checking size of float\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_float'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   for ac_size in 4 8 1 2 16 12  ; do # List sizes in rough order of prevalence.\n   cat > conftest.$ac_ext <<EOF\n-#line 3275 \"configure\"\n+#line 3345 \"configure\"\n #include \"confdefs.h\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n@@ -3291,7 +3351,7 @@ int main() {\n switch (0) case 0: case (sizeof (float) == $ac_size):;\n ; return 0; }\n EOF\n-if { (eval echo configure:3285: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3355: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_sizeof_float=$ac_size\n else\n@@ -3314,13 +3374,13 @@ EOF\n \n \n echo $ac_n \"checking size of double\"\"... $ac_c\" 1>&6\n-echo \"configure:3308: checking size of double\" >&5\n+echo \"configure:3378: checking size of double\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_double'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   for ac_size in 4 8 1 2 16 12  ; do # List sizes in rough order of prevalence.\n   cat > conftest.$ac_ext <<EOF\n-#line 3314 \"configure\"\n+#line 3384 \"configure\"\n #include \"confdefs.h\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n@@ -3330,7 +3390,7 @@ int main() {\n switch (0) case 0: case (sizeof (double) == $ac_size):;\n ; return 0; }\n EOF\n-if { (eval echo configure:3324: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3394: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_sizeof_double=$ac_size\n else\n@@ -3353,13 +3413,13 @@ EOF\n \n \n echo $ac_n \"checking size of long double\"\"... $ac_c\" 1>&6\n-echo \"configure:3347: checking size of long double\" >&5\n+echo \"configure:3417: checking size of long double\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_long_double'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   for ac_size in 4 8 1 2 16 12  ; do # List sizes in rough order of prevalence.\n   cat > conftest.$ac_ext <<EOF\n-#line 3353 \"configure\"\n+#line 3423 \"configure\"\n #include \"confdefs.h\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n@@ -3369,7 +3429,7 @@ int main() {\n switch (0) case 0: case (sizeof (long double) == $ac_size):;\n ; return 0; }\n EOF\n-if { (eval echo configure:3363: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3433: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_sizeof_long_double=$ac_size\n else\n@@ -3393,13 +3453,13 @@ EOF\n \n \n echo $ac_n \"checking size of void *\"\"... $ac_c\" 1>&6\n-echo \"configure:3387: checking size of void *\" >&5\n+echo \"configure:3457: checking size of void *\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_void_p'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   for ac_size in 4 8 1 2 16 12  ; do # List sizes in rough order of prevalence.\n   cat > conftest.$ac_ext <<EOF\n-#line 3393 \"configure\"\n+#line 3463 \"configure\"\n #include \"confdefs.h\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n@@ -3409,7 +3469,7 @@ int main() {\n switch (0) case 0: case (sizeof (void *) == $ac_size):;\n ; return 0; }\n EOF\n-if { (eval echo configure:3403: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3473: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_sizeof_void_p=$ac_size\n else\n@@ -3432,14 +3492,14 @@ EOF\n \n \n echo $ac_n \"checking whether byte ordering is bigendian\"\"... $ac_c\" 1>&6\n-echo \"configure:3426: checking whether byte ordering is bigendian\" >&5\n+echo \"configure:3496: checking whether byte ordering is bigendian\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_bigendian'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_cv_c_bigendian=unknown\n # See if sys/param.h defines the BYTE_ORDER macro.\n cat > conftest.$ac_ext <<EOF\n-#line 3433 \"configure\"\n+#line 3503 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/param.h>\n@@ -3450,11 +3510,11 @@ int main() {\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:3444: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3514: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   # It does; now see whether it defined to BIG_ENDIAN or not.\n cat > conftest.$ac_ext <<EOF\n-#line 3448 \"configure\"\n+#line 3518 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/param.h>\n@@ -3465,7 +3525,7 @@ int main() {\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:3459: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3529: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_bigendian=yes\n else\n@@ -3485,7 +3545,7 @@ if test \"$cross_compiling\" = yes; then\n    echo $ac_n \"cross-compiling... \" 2>&6 \n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3479 \"configure\"\n+#line 3549 \"configure\"\n #include \"confdefs.h\"\n main () {\n   /* Are we little or big endian?  From Harbison&Steele.  */\n@@ -3498,7 +3558,7 @@ main () {\n   exit (u.c[sizeof (long) - 1] == 1);\n }\n EOF\n-if { (eval echo configure:3492: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3562: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_bigendian=no\n else\n@@ -3516,7 +3576,7 @@ fi\n echo \"$ac_t\"\"$ac_cv_c_bigendian\" 1>&6\n if test $ac_cv_c_bigendian = unknown; then\n echo $ac_n \"checking to probe for byte ordering\"\"... $ac_c\" 1>&6\n-echo \"configure:3510: checking to probe for byte ordering\" >&5\n+echo \"configure:3580: checking to probe for byte ordering\" >&5\n \n cat >conftest.c <<EOF\n short ascii_mm[] = { 0x4249, 0x4765, 0x6E44, 0x6961, 0x6E53, 0x7953, 0 };\n@@ -3570,7 +3630,7 @@ fi\n \n if test x$TARGET = xSPARC; then\n     echo $ac_n \"checking assembler and linker support unaligned pc related relocs\"\"... $ac_c\" 1>&6\n-echo \"configure:3564: checking assembler and linker support unaligned pc related relocs\" >&5\n+echo \"configure:3634: checking assembler and linker support unaligned pc related relocs\" >&5\n if eval \"test \\\"`echo '$''{'libffi_cv_as_sparc_ua_pcrel'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3580,14 +3640,14 @@ else\n \tCFLAGS=\"$CFLAGS -fpic\"\n \tLDFLAGS=\"$LDFLAGS -shared\"\n \tcat > conftest.$ac_ext <<EOF\n-#line 3574 \"configure\"\n+#line 3644 \"configure\"\n #include \"confdefs.h\"\n asm (\".text; foo: nop; .data; .align 4; .byte 0; .uaword %r_disp32(foo); .text\");\n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3581: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3651: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   libffi_cv_as_sparc_ua_pcrel=yes\n else\n@@ -3610,22 +3670,22 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:3600: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:3674: checking assembler .register pseudo-op support\" >&5\n if eval \"test \\\"`echo '$''{'libffi_cv_as_register_pseudo_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n        libffi_cv_as_register_pseudo_op=unknown\n        # Check if we have .register\n        cat > conftest.$ac_ext <<EOF\n-#line 3608 \"configure\"\n+#line 3682 \"configure\"\n #include \"confdefs.h\"\n asm (\".register %g2, #scratch\");\n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3615: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3689: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   libffi_cv_as_register_pseudo_op=yes\n else\n@@ -3648,7 +3708,7 @@ EOF\n fi\n \n echo $ac_n \"checking whether .eh_frame section should be read-only\"\"... $ac_c\" 1>&6\n-echo \"configure:3495: checking whether .eh_frame section should be read-only\" >&5\n+echo \"configure:3712: checking whether .eh_frame section should be read-only\" >&5\n if eval \"test \\\"`echo '$''{'libffi_cv_ro_eh_frame'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3851,7 +3911,7 @@ done\n ac_given_srcdir=$srcdir\n ac_given_INSTALL=\"$INSTALL\"\n \n-trap 'rm -fr `echo \"include/Makefile include/ffi.h Makefile fficonfig.h\" | sed \"s/:[^ ]*//g\"` conftest*; exit 1' 1 2 15\n+trap 'rm -fr `echo \"include/Makefile testsuite/Makefile include/ffi.h Makefile fficonfig.h\" | sed \"s/:[^ ]*//g\"` conftest*; exit 1' 1 2 15\n EOF\n cat >> $CONFIG_STATUS <<EOF\n \n@@ -3889,6 +3949,11 @@ s%@host_alias@%$host_alias%g\n s%@host_cpu@%$host_cpu%g\n s%@host_vendor@%$host_vendor%g\n s%@host_os@%$host_os%g\n+s%@target@%$target%g\n+s%@target_alias@%$target_alias%g\n+s%@target_cpu@%$target_cpu%g\n+s%@target_vendor@%$target_vendor%g\n+s%@target_os@%$target_os%g\n s%@build@%$build%g\n s%@build_alias@%$build_alias%g\n s%@build_cpu@%$build_cpu%g\n@@ -3915,6 +3980,9 @@ s%@SET_MAKE@%$SET_MAKE%g\n s%@MAINTAINER_MODE_TRUE@%$MAINTAINER_MODE_TRUE%g\n s%@MAINTAINER_MODE_FALSE@%$MAINTAINER_MODE_FALSE%g\n s%@MAINT@%$MAINT%g\n+s%@TESTSUBDIR_TRUE@%$TESTSUBDIR_TRUE%g\n+s%@TESTSUBDIR_FALSE@%$TESTSUBDIR_FALSE%g\n+s%@AM_RUNTESTFLAGS@%$AM_RUNTESTFLAGS%g\n s%@MIPS_GCC_TRUE@%$MIPS_GCC_TRUE%g\n s%@MIPS_GCC_FALSE@%$MIPS_GCC_FALSE%g\n s%@MIPS_SGI_TRUE@%$MIPS_SGI_TRUE%g\n@@ -3996,7 +4064,7 @@ EOF\n \n cat >> $CONFIG_STATUS <<EOF\n \n-CONFIG_FILES=\\${CONFIG_FILES-\"include/Makefile include/ffi.h Makefile\"}\n+CONFIG_FILES=\\${CONFIG_FILES-\"include/Makefile testsuite/Makefile include/ffi.h Makefile\"}\n EOF\n cat >> $CONFIG_STATUS <<\\EOF\n for ac_file in .. $CONFIG_FILES; do if test \"x$ac_file\" != x..; then"}, {"sha": "aab8f097bf8ec279155dbb92a9029e0727fe19a8", "filename": "libffi/configure.in", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbf3057bf97696d4c5ba5c624c26ea0a9b1e04fa/libffi%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbf3057bf97696d4c5ba5c624c26ea0a9b1e04fa/libffi%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Fconfigure.in?ref=bbf3057bf97696d4c5ba5c624c26ea0a9b1e04fa", "patch": "@@ -32,7 +32,8 @@ fi\n AC_SUBST(libffi_basedir)\n AC_CONFIG_AUX_DIR(${libffi_basedir}..)\n \n-AC_CANONICAL_HOST\n+AC_CANONICAL_SYSTEM\n+target_alias=${target_alias-$host_alias}\n \n AM_PROG_LIBTOOL\n \n@@ -42,8 +43,13 @@ AC_EXEEXT\n AM_MAINTAINER_MODE\n \n AC_PROG_CC\n+\n AC_PROG_LIBTOOL\n \n+dnl The -no-testsuite modules omit the test subdir.\n+AM_CONDITIONAL(TESTSUBDIR, test -d $srcdir/testsuite)\n+\n+\n TARGETDIR=\"unknown\"\n case \"$host\" in\n mips-sgi-irix5.* | mips-sgi-irix6.*) TARGET=MIPS; TARGETDIR=mips;;\n@@ -78,6 +84,8 @@ sh-*-linux* | sh[[34]]*-*-linux*) TARGET=SH; TARGETDIR=sh;;\n sh64-*-linux* | sh5*-*-linux*) TARGET=SH64; TARGETDIR=sh64;;\n esac\n \n+AC_SUBST(AM_RUNTESTFLAGS)\n+\n if test $TARGETDIR = unknown; then\n   AC_ERROR(\"libffi has not been ported to $host.\")\n fi\n@@ -221,7 +229,7 @@ else\n   multilib_arg=\n fi\n \n-AC_OUTPUT(include/Makefile include/ffi.h Makefile,\n+AC_OUTPUT(include/Makefile testsuite/Makefile include/ffi.h Makefile,\n [\n if test -n \"$CONFIG_FILES\"; then\n    LD=\"${ORIGINAL_LD_FOR_MULTILIBS}\""}]}