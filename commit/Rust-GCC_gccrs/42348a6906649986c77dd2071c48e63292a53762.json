{"sha": "42348a6906649986c77dd2071c48e63292a53762", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDIzNDhhNjkwNjY0OTk4NmM3N2RkMjA3MWM0OGU2MzI5MmE1Mzc2Mg==", "commit": {"author": {"name": "Paolo Bonzini", "email": "bonzini@gnu.org", "date": "2010-11-13T16:19:33Z"}, "committer": {"name": "Paolo Bonzini", "email": "bonzini@gcc.gnu.org", "date": "2010-11-13T16:19:33Z"}, "message": "re PR c/46462 (Revision 166700 caused new C test failures)\n\n2010-11-13  Paolo Bonzini  <bonzini@gnu.org>\n\n\tPR c/46462\n\t* gcc.dg/gomp/pr34607.c: Adjust errors for unknown typenames.\n\t* gcc.dg/pr35746.c: Likewise.\n\t* gcc.dg/cpp/direct2.c: Likewise.\n\t* gcc.dg/cpp/direct2s.c: Likewise.\n\t* gcc.dg/noncompile/920923-1.c: Likewise.\n\t* gcc.dg/dfp/constants-c99.c: Add -Wno-overflow.\n\nFrom-SVN: r166711", "tree": {"sha": "7ae16a2b74f3a1412c94d702086c624333c744bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7ae16a2b74f3a1412c94d702086c624333c744bb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/42348a6906649986c77dd2071c48e63292a53762", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42348a6906649986c77dd2071c48e63292a53762", "html_url": "https://github.com/Rust-GCC/gccrs/commit/42348a6906649986c77dd2071c48e63292a53762", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42348a6906649986c77dd2071c48e63292a53762/comments", "author": {"login": "bonzini", "id": 42082, "node_id": "MDQ6VXNlcjQyMDgy", "avatar_url": "https://avatars.githubusercontent.com/u/42082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bonzini", "html_url": "https://github.com/bonzini", "followers_url": "https://api.github.com/users/bonzini/followers", "following_url": "https://api.github.com/users/bonzini/following{/other_user}", "gists_url": "https://api.github.com/users/bonzini/gists{/gist_id}", "starred_url": "https://api.github.com/users/bonzini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bonzini/subscriptions", "organizations_url": "https://api.github.com/users/bonzini/orgs", "repos_url": "https://api.github.com/users/bonzini/repos", "events_url": "https://api.github.com/users/bonzini/events{/privacy}", "received_events_url": "https://api.github.com/users/bonzini/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "29be86db00f0034f19879e449931cf89a050d4bc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/29be86db00f0034f19879e449931cf89a050d4bc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/29be86db00f0034f19879e449931cf89a050d4bc"}], "stats": {"total": 41, "additions": 25, "deletions": 16}, "files": [{"sha": "708d31ab1a83444a44441ce7ee07c1caca4b112f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42348a6906649986c77dd2071c48e63292a53762/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42348a6906649986c77dd2071c48e63292a53762/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=42348a6906649986c77dd2071c48e63292a53762", "patch": "@@ -1,3 +1,13 @@\n+2010-11-13  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\tPR c/46462\n+\t* gcc.dg/gomp/pr34607.c: Adjust errors for unknown typenames.\n+\t* gcc.dg/pr35746.c: Likewise.\n+\t* gcc.dg/cpp/direct2.c: Likewise.\n+\t* gcc.dg/cpp/direct2s.c: Likewise.\n+\t* gcc.dg/noncompile/920923-1.c: Likewise.\n+\t* gcc.dg/dfp/constants-c99.c: Add -Wno-overflow.\n+\n 2010-11-13  Nicola Pero  <nicola.pero@meta-innovation.com>\n \n \t* obj-c++.dg/attributes/method-format-1.mm: Adjust."}, {"sha": "858dec7f31efe59afbef333f0c38840afc2075fa", "filename": "gcc/testsuite/gcc.dg/cpp/direct2.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42348a6906649986c77dd2071c48e63292a53762/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fdirect2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42348a6906649986c77dd2071c48e63292a53762/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fdirect2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fdirect2.c?ref=42348a6906649986c77dd2071c48e63292a53762", "patch": "@@ -20,13 +20,13 @@ int resync_parser_2;\n \n void g1 ()\n {\n-HASH define X 1 /* { dg-error \"stray|undeclared|parse|syntax|expected|for each\" \"# from macro\" } */\n+HASH define X 1 /* { dg-error \"stray|unknown|expected\" \"# from macro\" } */\n   int resync_parser_3;\n }\n \n void g2 ()\n {\n-HASHDEFINE  Y 1 /* { dg-error \"stray|undeclared|parse|syntax|expected|for each\" \"#define from macro\" } */\n+HASHDEFINE  Y 1 /* { dg-error \"stray|unknown|expected\" \"#define from macro\" } */\n   int resync_parser_4;\n }\n "}, {"sha": "9d0cc017df7200dcfc00c6ea45b57ea92f7dbc06", "filename": "gcc/testsuite/gcc.dg/cpp/direct2s.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42348a6906649986c77dd2071c48e63292a53762/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fdirect2s.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42348a6906649986c77dd2071c48e63292a53762/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fdirect2s.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fdirect2s.c?ref=42348a6906649986c77dd2071c48e63292a53762", "patch": "@@ -22,13 +22,13 @@ int resync_parser_2;\n \n void g1 ()\n {\n-HASH define X 1 /* { dg-error \"stray|undeclared|parse|syntax|expected|for each\" \"# from macro\" } */\n+HASH define X 1 /* { dg-error \"stray|unknown|expected\" \"# from macro\" } */\n   int resync_parser_3;\n }\n \n void g2 ()\n {\n-HASHDEFINE  Y 1 /* { dg-error \"stray|undeclared|parse|syntax|expected|for each\" \"#define from macro\" } */\n+HASHDEFINE  Y 1 /* { dg-error \"stray|unknown|expected\" \"#define from macro\" } */\n   int resync_parser_4;\n }\n "}, {"sha": "6a48bf501f03c904afb9c222c398f4efee4702f9", "filename": "gcc/testsuite/gcc.dg/dfp/constants-c99.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42348a6906649986c77dd2071c48e63292a53762/gcc%2Ftestsuite%2Fgcc.dg%2Fdfp%2Fconstants-c99.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42348a6906649986c77dd2071c48e63292a53762/gcc%2Ftestsuite%2Fgcc.dg%2Fdfp%2Fconstants-c99.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fdfp%2Fconstants-c99.c?ref=42348a6906649986c77dd2071c48e63292a53762", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-std=c99\" } */\n+/* { dg-options \"-std=c99 -Wno-overflow\" } */\n \n /* N1150 6: Constants.\n    C99 6.4.4.2: Floating constants.  */"}, {"sha": "d64af282f9efd0644b730c18b342d1a4c8b9d8c4", "filename": "gcc/testsuite/gcc.dg/gomp/pr34607.c", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42348a6906649986c77dd2071c48e63292a53762/gcc%2Ftestsuite%2Fgcc.dg%2Fgomp%2Fpr34607.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42348a6906649986c77dd2071c48e63292a53762/gcc%2Ftestsuite%2Fgcc.dg%2Fgomp%2Fpr34607.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fgomp%2Fpr34607.c?ref=42348a6906649986c77dd2071c48e63292a53762", "patch": "@@ -1,18 +1,17 @@\n /* PR c++/34607 */\n /* { dg-do compile } */\n /* { dg-options \"-fopenmp -std=gnu99\" } */\n-/* { dg-message \"undeclared identifier is reported only once\" \"reminder\" { target *-*-* } 0 } */\n void\n foo ()\n {\n #pragma omp for\n   for (int i =; i < 2; ++i)\t/* { dg-error \"expected expression before\" } */\n     ;\n #pragma omp for\n-  for (T i = 54; i < 56; i++)\t/* { dg-error \"expected iteration declaration\" } */\n+  for (T i = 54; i < 56; i++)\t/* { dg-error \"unknown type name\" } */\n     ;\n-  T j;\t\t\t\t/* { dg-error \"undeclared|for each function|expected\" } */\n+  T j;\t\t\t\t/* { dg-error \"unknown type name\" } */\n #pragma omp for\n-  for (j = 1; j < 3; j++)\t/* { dg-error \"undeclared\" } */\n+  for (j = 1; j < 3; j++)\n     ;\n }"}, {"sha": "f586a7c0d0433d34fd67129d4329851e3870bfe2", "filename": "gcc/testsuite/gcc.dg/noncompile/920923-1.c", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42348a6906649986c77dd2071c48e63292a53762/gcc%2Ftestsuite%2Fgcc.dg%2Fnoncompile%2F920923-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42348a6906649986c77dd2071c48e63292a53762/gcc%2Ftestsuite%2Fgcc.dg%2Fnoncompile%2F920923-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fnoncompile%2F920923-1.c?ref=42348a6906649986c77dd2071c48e63292a53762", "patch": "@@ -1,11 +1,12 @@\n+/* { dg-message \"undeclared identifier is reported only once\" \"reminder for mmu_base\" { target *-*-* } 0 } */\n typedef BYTE unsigned char;\t/* { dg-error \"expected\" } */\n typedef int item_n;\n typedef int perm_set;\n struct PENT { caddr_t v_addr; };/* { dg-error \"expected\" } */\n typedef struct PENT prec;\n typedef struct PENT *prec_t;\n prec_t mem_hash;\n-BYTE *mem_base;\t\t\t/* { dg-error \"expected\" } */\n+BYTE *mem_base;\t\t\t/* { dg-error \"unknown type name\" } */\n struct PTE {\n      BYTE *p_page;\t\t/* { dg-error \"expected\" } */\n      perm_set p_perms;\n@@ -24,9 +25,9 @@ int pcount=0;\n \n void\n mmu_walk_find(va)\n-caddr_t va;\t\t\t/* { dg-error \"expected\" } */\n+caddr_t va;\t\t\t/* { dg-error \"unknown type name\" } */\n {\n-     BYTE *page_addr; /* { dg-error \"undeclared|for each function\" } */\n+     BYTE *page_addr; /* { dg-error \"unknown type name\" } */\n      if (mmu_base[Level1(va)]->valid==0x0) { /* { dg-error \"undeclared\" } */\n \t  l1_base = mmu_base[Level1(va)]->(u.p_tablep) = p_alloc(); /* { dg-error \"expected|undeclared\" } */\n \t  mmu_base[Level1(va)]->valid = 0x3;\n@@ -52,7 +53,7 @@ caddr_t va;\t\t\t/* { dg-error \"expected\" } */\n void *\n a_translate(va_op, v_addr)\n int va_op;\n-caddr_t v_addr;\t\t\t/* { dg-error \"expected\" } */\n+caddr_t v_addr;\t\t\t/* { dg-error \"unknown type name\" } */\n {\n      register prec_t bucket;\n      register caddr_t p_addr;\t/* { dg-error \"expected|undeclared\" } */"}, {"sha": "274f4a9682734faeaf3f9370796218d7f62a4748", "filename": "gcc/testsuite/gcc.dg/pr35746.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42348a6906649986c77dd2071c48e63292a53762/gcc%2Ftestsuite%2Fgcc.dg%2Fpr35746.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42348a6906649986c77dd2071c48e63292a53762/gcc%2Ftestsuite%2Fgcc.dg%2Fpr35746.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr35746.c?ref=42348a6906649986c77dd2071c48e63292a53762", "patch": "@@ -6,8 +6,7 @@ int foo(int i);\n void bar()\n {\n   __complex__ int i;\n-  X j;\t\t\t/* { dg-error \"undeclared|expected\" } */\n-                        /* { dg-message \"undeclared identifier is reported only once\" \"reminder\" { target *-*-* } 9 } */\n-  if (i = foo(j))\t/* { dg-error \"undeclared\" } */\n+  X j;\t\t\t/* { dg-error \"unknown\" } */\n+  if (i = foo(j))\n     ;\n }"}]}