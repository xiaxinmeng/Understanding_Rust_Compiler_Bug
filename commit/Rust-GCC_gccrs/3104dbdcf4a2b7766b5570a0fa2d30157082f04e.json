{"sha": "3104dbdcf4a2b7766b5570a0fa2d30157082f04e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzEwNGRiZGNmNGEyYjc3NjZiNTU3MGEwZmEyZDMwMTU3MDgyZjA0ZQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2021-03-02T00:04:10Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2021-03-02T00:05:38Z"}, "message": "Do not call Set_Cloned_Subtype on private type\n\nBuild_Discriminated_Subtype may be invoked on a E_Record_Type_With_Private,\nin which case it builds a E_Record_Subtype_With_Private which does not have\nthe Cloned_Subtype field.\n\ngcc/ada/\n\tPR ada/99020\n\t* sem_ch3.adb (Build_Discriminated_Subtype): Set the Cloned_Subtype\n\tonly if the type is not private.", "tree": {"sha": "f354c8ae313c915897c2f9bd5cf7e0a0b88ce078", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f354c8ae313c915897c2f9bd5cf7e0a0b88ce078"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3104dbdcf4a2b7766b5570a0fa2d30157082f04e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3104dbdcf4a2b7766b5570a0fa2d30157082f04e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3104dbdcf4a2b7766b5570a0fa2d30157082f04e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3104dbdcf4a2b7766b5570a0fa2d30157082f04e/comments", "author": null, "committer": null, "parents": [{"sha": "491d5b3cf8216f9285a67aa213b9a66b0035137b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/491d5b3cf8216f9285a67aa213b9a66b0035137b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/491d5b3cf8216f9285a67aa213b9a66b0035137b"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "4c7b8e7659b6a1b9128c09dcb767b06101e2e86a", "filename": "gcc/ada/sem_ch3.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3104dbdcf4a2b7766b5570a0fa2d30157082f04e/gcc%2Fada%2Fsem_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3104dbdcf4a2b7766b5570a0fa2d30157082f04e/gcc%2Fada%2Fsem_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch3.adb?ref=3104dbdcf4a2b7766b5570a0fa2d30157082f04e", "patch": "@@ -10493,7 +10493,7 @@ package body Sem_Ch3 is\n          then\n             Create_Constrained_Components (Def_Id, Related_Nod, T, Elist);\n \n-         else\n+         elsif not Is_Private_Type (T) then\n             Set_Cloned_Subtype (Def_Id, T);\n          end if;\n       end if;"}]}