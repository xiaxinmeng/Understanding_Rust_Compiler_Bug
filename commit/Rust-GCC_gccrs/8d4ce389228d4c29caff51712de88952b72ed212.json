{"sha": "8d4ce389228d4c29caff51712de88952b72ed212", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGQ0Y2UzODkyMjhkNGMyOWNhZmY1MTcxMmRlODg5NTJiNzJlZDIxMg==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2003-06-26T15:23:54Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2003-06-26T15:23:54Z"}, "message": "call.c (build_op_delete_call): Use strip_array_call.\n\n\t* call.c (build_op_delete_call): Use strip_array_call. Correct\n\terror message to say 'delete' or 'delete[]'.\n\nFrom-SVN: r68536", "tree": {"sha": "41f034d26ab97f8197ec994ec9caf96f75ff05b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/41f034d26ab97f8197ec994ec9caf96f75ff05b9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8d4ce389228d4c29caff51712de88952b72ed212", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d4ce389228d4c29caff51712de88952b72ed212", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d4ce389228d4c29caff51712de88952b72ed212", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d4ce389228d4c29caff51712de88952b72ed212/comments", "author": null, "committer": null, "parents": [{"sha": "d9e674f7f06ca4e3043b3c315fbf557b6575815c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d9e674f7f06ca4e3043b3c315fbf557b6575815c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d9e674f7f06ca4e3043b3c315fbf557b6575815c"}], "stats": {"total": 14, "additions": 9, "deletions": 5}, "files": [{"sha": "9a22768c1a1a0ee863824e2e80966cecadc362de", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d4ce389228d4c29caff51712de88952b72ed212/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d4ce389228d4c29caff51712de88952b72ed212/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=8d4ce389228d4c29caff51712de88952b72ed212", "patch": "@@ -1,3 +1,8 @@\n+2003-06-26  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* call.c (build_op_delete_call): Use strip_array_call. Correct\n+\terror message to say 'delete' or 'delete[]'.\n+\n 2003-06-26  Giovanni Bajo  <giovannibajo@libero.it>\n \n         PR c++/8266"}, {"sha": "ddc6b4b86097ea0aa6510f61e499157c914b7407", "filename": "gcc/cp/call.c", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d4ce389228d4c29caff51712de88952b72ed212/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d4ce389228d4c29caff51712de88952b72ed212/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=8d4ce389228d4c29caff51712de88952b72ed212", "patch": "@@ -3963,9 +3963,7 @@ build_op_delete_call (enum tree_code code, tree addr, tree size,\n   if (addr == error_mark_node)\n     return error_mark_node;\n \n-  type = TREE_TYPE (TREE_TYPE (addr));\n-  while (TREE_CODE (type) == ARRAY_TYPE)\n-    type = TREE_TYPE (type);\n+  type = strip_array_types (TREE_TYPE (TREE_TYPE (addr)));\n \n   fnname = ansi_opname (code);\n \n@@ -4018,7 +4016,7 @@ build_op_delete_call (enum tree_code code, tree addr, tree size,\n   addr = cp_convert (ptr_type_node, addr);\n \n   /* We make two tries at finding a matching `operator delete'.  On\n-     the first pass, we look for an one-operator (or placement)\n+     the first pass, we look for a one-operator (or placement)\n      operator delete.  If we're not doing placement delete, then on\n      the second pass we look for a two-argument delete.  */\n   for (pass = 0; pass < (placement ? 1 : 2); ++pass) \n@@ -4089,7 +4087,8 @@ build_op_delete_call (enum tree_code code, tree addr, tree size,\n   if (placement)\n     return NULL_TREE;\n \n-  error (\"no suitable `operator delete' for `%T'\", type);\n+  error (\"no suitable `operator %s' for `%T'\",\n+\t operator_name_info[(int)code].name, type);\n   return error_mark_node;\n }\n "}]}