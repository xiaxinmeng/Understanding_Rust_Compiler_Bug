{"sha": "5e2b4439e1d2369e9e344eefe45b67d956f9118a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWUyYjQ0MzllMWQyMzY5ZTllMzQ0ZWVmZTQ1YjY3ZDk1NmY5MTE4YQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2005-05-16T18:22:48Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2005-05-16T18:22:48Z"}, "message": "re PR target/21556 (TLS failures on 4.0 branch)\n\n        PR target/21556\n        * config/ia64/ia64.md (load_dtpmod, load_ltoff_dtpmod, load_dtprel,\n        load_dtprel64, load_dtprel22, load_dtprel_gd, load_ltoff_dtprel,\n        add_dtprel, add_dtprel14, add_dtprel22, load_tprel, load_tprel64,\n        load_tprel22, load_tprel_ie, load_ltoff_tprel, add_tprel, add_tprel14,\n        add_tprel22): Remove mode from symbolic operand.\n\nFrom-SVN: r99785", "tree": {"sha": "24172b4c49af886321d984f581bfe2e73251031f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/24172b4c49af886321d984f581bfe2e73251031f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5e2b4439e1d2369e9e344eefe45b67d956f9118a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e2b4439e1d2369e9e344eefe45b67d956f9118a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5e2b4439e1d2369e9e344eefe45b67d956f9118a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e2b4439e1d2369e9e344eefe45b67d956f9118a/comments", "author": null, "committer": null, "parents": [{"sha": "fb664b5a2b7b1d98ae319ef94ff8ee56a94132e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb664b5a2b7b1d98ae319ef94ff8ee56a94132e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fb664b5a2b7b1d98ae319ef94ff8ee56a94132e9"}], "stats": {"total": 45, "additions": 27, "deletions": 18}, "files": [{"sha": "46317a76edafe8687cfc833ae84b869c787ae654", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e2b4439e1d2369e9e344eefe45b67d956f9118a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e2b4439e1d2369e9e344eefe45b67d956f9118a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5e2b4439e1d2369e9e344eefe45b67d956f9118a", "patch": "@@ -1,3 +1,12 @@\n+2005-05-16  Richard Henderson  <rth@redhat.com>\n+\n+\tPR target/21556\n+\t* config/ia64/ia64.md (load_dtpmod, load_ltoff_dtpmod, load_dtprel,\n+\tload_dtprel64, load_dtprel22, load_dtprel_gd, load_ltoff_dtprel,\n+\tadd_dtprel, add_dtprel14, add_dtprel22, load_tprel, load_tprel64,\n+\tload_tprel22, load_tprel_ie, load_ltoff_tprel, add_tprel, add_tprel14,\n+\tadd_tprel22): Remove mode from symbolic operand.\n+\n 2005-05-16  Richard Sandiford  <rsandifo@redhat.com>\n \n \t* optc-gen.awk: Include intl.h after the externally-provided files."}, {"sha": "7260678504babded425fcd24c88acbc807a5cdc5", "filename": "gcc/config/ia64/ia64.md", "status": "modified", "additions": 18, "deletions": 18, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e2b4439e1d2369e9e344eefe45b67d956f9118a/gcc%2Fconfig%2Fia64%2Fia64.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e2b4439e1d2369e9e344eefe45b67d956f9118a/gcc%2Fconfig%2Fia64%2Fia64.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Fia64.md?ref=5e2b4439e1d2369e9e344eefe45b67d956f9118a", "patch": "@@ -471,7 +471,7 @@\n \n (define_insn_and_split \"load_dtpmod\"\n   [(set (match_operand:DI 0 \"register_operand\" \"=r\")\n-\t(unspec:DI [(match_operand:DI 1 \"tls_symbolic_operand\" \"\")]\n+\t(unspec:DI [(match_operand 1 \"tls_symbolic_operand\" \"\")]\n \t\t   UNSPEC_DTPMOD))]\n   \"\"\n   \"#\"\n@@ -487,7 +487,7 @@\n \n (define_insn \"*load_ltoff_dtpmod\"\n   [(set (match_operand:DI 0 \"register_operand\" \"=r\")\n-\t(plus:DI (unspec:DI [(match_operand:DI 1 \"tls_symbolic_operand\" \"\")]\n+\t(plus:DI (unspec:DI [(match_operand 1 \"tls_symbolic_operand\" \"\")]\n \t\t\t    UNSPEC_LTOFF_DTPMOD)\n \t\t (match_operand:DI 2 \"register_operand\" \"a\")))]\n   \"reload_completed\"\n@@ -496,30 +496,30 @@\n \n (define_expand \"load_dtprel\"\n   [(set (match_operand:DI 0 \"register_operand\" \"\")\n-\t(unspec:DI [(match_operand:DI 1 \"tls_symbolic_operand\" \"\")]\n+\t(unspec:DI [(match_operand 1 \"tls_symbolic_operand\" \"\")]\n \t\t   UNSPEC_DTPREL))]\n   \"\"\n   \"\")\n \n (define_insn \"*load_dtprel64\"\n   [(set (match_operand:DI 0 \"register_operand\" \"=r\")\n-\t(unspec:DI [(match_operand:DI 1 \"ld_tls_symbolic_operand\" \"\")]\n+\t(unspec:DI [(match_operand 1 \"ld_tls_symbolic_operand\" \"\")]\n \t\t   UNSPEC_DTPREL))]\n   \"TARGET_TLS64\"\n   \"movl %0 = @dtprel(%1)\"\n   [(set_attr \"itanium_class\" \"long_i\")])\n \n (define_insn \"*load_dtprel22\"\n   [(set (match_operand:DI 0 \"register_operand\" \"=r\")\n-\t(unspec:DI [(match_operand:DI 1 \"ld_tls_symbolic_operand\" \"\")]\n+\t(unspec:DI [(match_operand 1 \"ld_tls_symbolic_operand\" \"\")]\n \t\t   UNSPEC_DTPREL))]\n   \"\"\n   \"addl %0 = @dtprel(%1), r0\"\n   [(set_attr \"itanium_class\" \"ialu\")])\n \n (define_insn_and_split \"*load_dtprel_gd\"\n   [(set (match_operand:DI 0 \"register_operand\" \"=r\")\n-\t(unspec:DI [(match_operand:DI 1 \"tls_symbolic_operand\" \"\")]\n+\t(unspec:DI [(match_operand 1 \"tls_symbolic_operand\" \"\")]\n \t\t   UNSPEC_DTPREL))]\n   \"\"\n   \"#\"\n@@ -535,7 +535,7 @@\n \n (define_insn \"*load_ltoff_dtprel\"\n   [(set (match_operand:DI 0 \"register_operand\" \"=r\")\n-\t(plus:DI (unspec:DI [(match_operand:DI 1 \"tls_symbolic_operand\" \"\")]\n+\t(plus:DI (unspec:DI [(match_operand 1 \"tls_symbolic_operand\" \"\")]\n \t\t\t    UNSPEC_LTOFF_DTPREL)\n \t\t (match_operand:DI 2 \"register_operand\" \"a\")))]\n   \"\"\n@@ -544,15 +544,15 @@\n \n (define_expand \"add_dtprel\"\n   [(set (match_operand:DI 0 \"register_operand\" \"\")\n-\t(plus:DI (unspec:DI [(match_operand:DI 1 \"ld_tls_symbolic_operand\" \"\")]\n+\t(plus:DI (unspec:DI [(match_operand 1 \"ld_tls_symbolic_operand\" \"\")]\n \t\t\t    UNSPEC_DTPREL)\n \t\t (match_operand:DI 2 \"register_operand\" \"\")))]\n   \"!TARGET_TLS64\"\n   \"\")\n \n (define_insn \"*add_dtprel14\"\n   [(set (match_operand:DI 0 \"register_operand\" \"=r\")\n-\t(plus:DI (unspec:DI [(match_operand:DI 1 \"ld_tls_symbolic_operand\" \"\")]\n+\t(plus:DI (unspec:DI [(match_operand 1 \"ld_tls_symbolic_operand\" \"\")]\n \t\t\t    UNSPEC_DTPREL)\n \t\t (match_operand:DI 2 \"register_operand\" \"r\")))]\n   \"TARGET_TLS14\"\n@@ -561,7 +561,7 @@\n \n (define_insn \"*add_dtprel22\"\n   [(set (match_operand:DI 0 \"register_operand\" \"=r\")\n-\t(plus:DI (unspec:DI [(match_operand:DI 1 \"ld_tls_symbolic_operand\" \"\")]\n+\t(plus:DI (unspec:DI [(match_operand 1 \"ld_tls_symbolic_operand\" \"\")]\n \t\t\t    UNSPEC_DTPREL)\n \t\t (match_operand:DI 2 \"register_operand\" \"a\")))]\n   \"TARGET_TLS22\"\n@@ -570,30 +570,30 @@\n \n (define_expand \"load_tprel\"\n   [(set (match_operand:DI 0 \"register_operand\" \"\")\n-\t(unspec:DI [(match_operand:DI 1 \"tls_symbolic_operand\" \"\")]\n+\t(unspec:DI [(match_operand 1 \"tls_symbolic_operand\" \"\")]\n \t\t   UNSPEC_TPREL))]\n   \"\"\n   \"\")\n \n (define_insn \"*load_tprel64\"\n   [(set (match_operand:DI 0 \"register_operand\" \"=r\")\n-\t(unspec:DI [(match_operand:DI 1 \"le_tls_symbolic_operand\" \"\")]\n+\t(unspec:DI [(match_operand 1 \"le_tls_symbolic_operand\" \"\")]\n \t\t   UNSPEC_TPREL))]\n   \"TARGET_TLS64\"\n   \"movl %0 = @tprel(%1)\"\n   [(set_attr \"itanium_class\" \"long_i\")])\n \n (define_insn \"*load_tprel22\"\n   [(set (match_operand:DI 0 \"register_operand\" \"=r\")\n-\t(unspec:DI [(match_operand:DI 1 \"le_tls_symbolic_operand\" \"\")]\n+\t(unspec:DI [(match_operand 1 \"le_tls_symbolic_operand\" \"\")]\n \t\t   UNSPEC_TPREL))]\n   \"\"\n   \"addl %0 = @tprel(%1), r0\"\n   [(set_attr \"itanium_class\" \"ialu\")])\n \n (define_insn_and_split \"*load_tprel_ie\"\n   [(set (match_operand:DI 0 \"register_operand\" \"=r\")\n-\t(unspec:DI [(match_operand:DI 1 \"ie_tls_symbolic_operand\" \"\")]\n+\t(unspec:DI [(match_operand 1 \"ie_tls_symbolic_operand\" \"\")]\n \t\t   UNSPEC_TPREL))]\n   \"\"\n   \"#\"\n@@ -609,7 +609,7 @@\n \n (define_insn \"*load_ltoff_tprel\"\n   [(set (match_operand:DI 0 \"register_operand\" \"=r\")\n-\t(plus:DI (unspec:DI [(match_operand:DI 1 \"ie_tls_symbolic_operand\" \"\")]\n+\t(plus:DI (unspec:DI [(match_operand 1 \"ie_tls_symbolic_operand\" \"\")]\n \t\t\t    UNSPEC_LTOFF_TPREL)\n \t\t (match_operand:DI 2 \"register_operand\" \"a\")))]\n   \"\"\n@@ -618,15 +618,15 @@\n \n (define_expand \"add_tprel\"\n   [(set (match_operand:DI 0 \"register_operand\" \"\")\n-\t(plus:DI (unspec:DI [(match_operand:DI 1 \"le_tls_symbolic_operand\" \"\")]\n+\t(plus:DI (unspec:DI [(match_operand 1 \"le_tls_symbolic_operand\" \"\")]\n \t\t\t    UNSPEC_TPREL)\n \t\t (match_operand:DI 2 \"register_operand\" \"\")))]\n   \"!TARGET_TLS64\"\n   \"\")\n \n (define_insn \"*add_tprel14\"\n   [(set (match_operand:DI 0 \"register_operand\" \"=r\")\n-\t(plus:DI (unspec:DI [(match_operand:DI 1 \"le_tls_symbolic_operand\" \"\")]\n+\t(plus:DI (unspec:DI [(match_operand 1 \"le_tls_symbolic_operand\" \"\")]\n \t\t\t    UNSPEC_TPREL)\n \t\t (match_operand:DI 2 \"register_operand\" \"r\")))]\n   \"TARGET_TLS14\"\n@@ -635,7 +635,7 @@\n \n (define_insn \"*add_tprel22\"\n   [(set (match_operand:DI 0 \"register_operand\" \"=r\")\n-\t(plus:DI (unspec:DI [(match_operand:DI 1 \"le_tls_symbolic_operand\" \"\")]\n+\t(plus:DI (unspec:DI [(match_operand 1 \"le_tls_symbolic_operand\" \"\")]\n \t\t\t    UNSPEC_TPREL)\n \t\t (match_operand:DI 2 \"register_operand\" \"a\")))]\n   \"TARGET_TLS22\""}]}