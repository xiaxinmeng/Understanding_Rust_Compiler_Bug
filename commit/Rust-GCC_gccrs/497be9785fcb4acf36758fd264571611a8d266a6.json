{"sha": "497be9785fcb4acf36758fd264571611a8d266a6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDk3YmU5Nzg1ZmNiNGFjZjM2NzU4ZmQyNjQ1NzE2MTFhOGQyNjZhNg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2004-06-28T22:26:24Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-06-28T22:26:24Z"}, "message": "tree.def (REALPART_EXPR, [...]): Change class to 'r'.\n\n        * tree.def (REALPART_EXPR, IMAGPART_EXPR): Change class to 'r'.\n        * fold-const.c (operand_equal_p <case 'r'>): Add REALPART_EXPR,\n        IMAGPART_EXPR.\n        * tree-dump.c (dequeue_and_dump): Handle REALPART_EXPR and\n        IMAGPART_EXPR explicitly.\n        * tree-inline.c (estimate_num_insns_1): Don't handle REALPART_EXPR\n        and IMAGPART_EXPR specially.\n        * tree.c (build1_stat): Copy TREE_THIS_VOLATILE into class 'r'.\n\nFrom-SVN: r83825", "tree": {"sha": "a549f060a09c40d71ee82fdca3589a607929d2e1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a549f060a09c40d71ee82fdca3589a607929d2e1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/497be9785fcb4acf36758fd264571611a8d266a6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/497be9785fcb4acf36758fd264571611a8d266a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/497be9785fcb4acf36758fd264571611a8d266a6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/497be9785fcb4acf36758fd264571611a8d266a6/comments", "author": null, "committer": null, "parents": [{"sha": "4aaf65cb638562d2151c57eab1a0cc112880e665", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4aaf65cb638562d2151c57eab1a0cc112880e665", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4aaf65cb638562d2151c57eab1a0cc112880e665"}], "stats": {"total": 23, "additions": 19, "deletions": 4}, "files": [{"sha": "5bdb1ded839d18229be63b310d6d04abc1ac4448", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/497be9785fcb4acf36758fd264571611a8d266a6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/497be9785fcb4acf36758fd264571611a8d266a6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=497be9785fcb4acf36758fd264571611a8d266a6", "patch": "@@ -1,3 +1,14 @@\n+2004-06-28  Richard Henderson  <rth@redhat.com>\n+\n+\t* tree.def (REALPART_EXPR, IMAGPART_EXPR): Change class to 'r'.\n+\t* fold-const.c (operand_equal_p <case 'r'>): Add REALPART_EXPR,\n+\tIMAGPART_EXPR.\n+\t* tree-dump.c (dequeue_and_dump): Handle REALPART_EXPR and\n+\tIMAGPART_EXPR explicitly.\n+\t* tree-inline.c (estimate_num_insns_1): Don't handle REALPART_EXPR\n+\tand IMAGPART_EXPR specially.\n+\t* tree.c (build1_stat): Copy TREE_THIS_VOLATILE into class 'r'.\n+\n 2004-06-28  J\"orn Rennecke <joern.rennecke@superh.com>\n \n \t* config.gcc (sh*-*elf*): Remove dead assignment of sh_multilibs."}, {"sha": "66769afd3a89f7587d42efc23de0f520c9c3d026", "filename": "gcc/fold-const.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/497be9785fcb4acf36758fd264571611a8d266a6/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/497be9785fcb4acf36758fd264571611a8d266a6/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=497be9785fcb4acf36758fd264571611a8d266a6", "patch": "@@ -2479,6 +2479,8 @@ operand_equal_p (tree arg0, tree arg1, unsigned int flags)\n       switch (TREE_CODE (arg0))\n \t{\n \tcase INDIRECT_REF:\n+\tcase REALPART_EXPR:\n+\tcase IMAGPART_EXPR:\n \t  return operand_equal_p (TREE_OPERAND (arg0, 0),\n \t\t\t\t  TREE_OPERAND (arg1, 0), flags);\n "}, {"sha": "314c29f8e8eb55ff97cbb3aa7538a735257e563d", "filename": "gcc/tree-dump.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/497be9785fcb4acf36758fd264571611a8d266a6/gcc%2Ftree-dump.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/497be9785fcb4acf36758fd264571611a8d266a6/gcc%2Ftree-dump.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-dump.c?ref=497be9785fcb4acf36758fd264571611a8d266a6", "patch": "@@ -528,6 +528,8 @@ dequeue_and_dump (dump_info_p di)\n     case INDIRECT_REF:\n     case CLEANUP_POINT_EXPR:\n     case SAVE_EXPR:\n+    case REALPART_EXPR:\n+    case IMAGPART_EXPR:\n       /* These nodes are unary, but do not have code class `1'.  */\n       dump_child (\"op 0\", TREE_OPERAND (t, 0));\n       break;"}, {"sha": "ed2afeec2e0eb4a70ccd3de17247595e73104fea", "filename": "gcc/tree-inline.c", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/497be9785fcb4acf36758fd264571611a8d266a6/gcc%2Ftree-inline.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/497be9785fcb4acf36758fd264571611a8d266a6/gcc%2Ftree-inline.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-inline.c?ref=497be9785fcb4acf36758fd264571611a8d266a6", "patch": "@@ -1220,8 +1220,6 @@ estimate_num_insns_1 (tree *tp, int *walk_subtrees, void *data)\n     case ADDR_EXPR:\n     case REFERENCE_EXPR:\n     case COMPLEX_EXPR:\n-    case REALPART_EXPR:\n-    case IMAGPART_EXPR:\n     case EXIT_BLOCK_EXPR:\n     case CASE_LABEL_EXPR:\n     case SSA_NAME:"}, {"sha": "23577a1ee1f16ea977567239ddcfa1afa1eb5a90", "filename": "gcc/tree.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/497be9785fcb4acf36758fd264571611a8d266a6/gcc%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/497be9785fcb4acf36758fd264571611a8d266a6/gcc%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.c?ref=497be9785fcb4acf36758fd264571611a8d266a6", "patch": "@@ -2483,6 +2483,8 @@ build1_stat (enum tree_code code, tree type, tree node MEM_STAT_DECL)\n \tTREE_CONSTANT (t) = 1;\n       if (TREE_CODE_CLASS (code) == '1' && node && TREE_INVARIANT (node))\n \tTREE_INVARIANT (t) = 1;\n+      if (TREE_CODE_CLASS (code) == 'r' && node && TREE_THIS_VOLATILE (node))\n+\tTREE_THIS_VOLATILE (t) = 1;\n       break;\n     }\n "}, {"sha": "d126895369035a5ebce389edcd4b85247854fc7b", "filename": "gcc/tree.def", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/497be9785fcb4acf36758fd264571611a8d266a6/gcc%2Ftree.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/497be9785fcb4acf36758fd264571611a8d266a6/gcc%2Ftree.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.def?ref=497be9785fcb4acf36758fd264571611a8d266a6", "patch": "@@ -776,8 +776,8 @@ DEFTREECODE (CONJ_EXPR, \"conj_expr\", '1', 1)\n \n /* Used only on an operand of complex type, these return\n    a value of the corresponding component type.  */\n-DEFTREECODE (REALPART_EXPR, \"realpart_expr\", '1', 1)\n-DEFTREECODE (IMAGPART_EXPR, \"imagpart_expr\", '1', 1)\n+DEFTREECODE (REALPART_EXPR, \"realpart_expr\", 'r', 1)\n+DEFTREECODE (IMAGPART_EXPR, \"imagpart_expr\", 'r', 1)\n \n /* Nodes for ++ and -- in C.\n    The second arg is how much to increment or decrement by."}]}