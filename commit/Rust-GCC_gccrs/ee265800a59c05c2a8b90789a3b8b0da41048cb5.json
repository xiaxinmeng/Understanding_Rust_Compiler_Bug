{"sha": "ee265800a59c05c2a8b90789a3b8b0da41048cb5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWUyNjU4MDBhNTljMDVjMmE4YjkwNzg5YTNiOGIwZGE0MTA0OGNiNQ==", "commit": {"author": {"name": "Andrew Haley", "email": "aph@cygnus.com", "date": "1999-11-22T14:53:20Z"}, "committer": {"name": "Andrew Haley", "email": "aph@gcc.gnu.org", "date": "1999-11-22T14:53:20Z"}, "message": "emit-rtl.c (gen_sequence): Only return the pattern of an insn if its code is INSN and it has no notes.\n\nFri Nov 12 14:08:40 1999  Andrew Haley  <aph@cygnus.com>\n\n\t* emit-rtl.c (gen_sequence): Only return the pattern of an insn if\n\tits code is INSN and it has no notes.\n\nFrom-SVN: r30612", "tree": {"sha": "1aef890d421b309c06309caea7931fda8a0d45c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1aef890d421b309c06309caea7931fda8a0d45c8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ee265800a59c05c2a8b90789a3b8b0da41048cb5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee265800a59c05c2a8b90789a3b8b0da41048cb5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee265800a59c05c2a8b90789a3b8b0da41048cb5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee265800a59c05c2a8b90789a3b8b0da41048cb5/comments", "author": null, "committer": null, "parents": [{"sha": "6c85df69493ee39a1d611150f00982e1f546491b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c85df69493ee39a1d611150f00982e1f546491b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c85df69493ee39a1d611150f00982e1f546491b"}], "stats": {"total": 19, "additions": 12, "deletions": 7}, "files": [{"sha": "abec23f5f6c507ed2cf48be1963491763ef72d8e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee265800a59c05c2a8b90789a3b8b0da41048cb5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee265800a59c05c2a8b90789a3b8b0da41048cb5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ee265800a59c05c2a8b90789a3b8b0da41048cb5", "patch": "@@ -1,3 +1,8 @@\n+Fri Nov 12 14:08:40 1999  Andrew Haley  <aph@cygnus.com>\n+\n+\t* emit-rtl.c (gen_sequence): Only return the pattern of an insn if\n+\tits code is INSN and it has no notes.\n+\n 1999-11-22  Andrew Haley  <aph@cygnus.com>\n \n         * varasm.c (function_defined): Remove."}, {"sha": "3b485d06f4862a35e685604294504640cff51605", "filename": "gcc/emit-rtl.c", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee265800a59c05c2a8b90789a3b8b0da41048cb5/gcc%2Femit-rtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee265800a59c05c2a8b90789a3b8b0da41048cb5/gcc%2Femit-rtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Femit-rtl.c?ref=ee265800a59c05c2a8b90789a3b8b0da41048cb5", "patch": "@@ -3393,16 +3393,16 @@ gen_sequence ()\n   for (tem = first_insn; tem; tem = NEXT_INSN (tem))\n     len++;\n \n-  /* If only one insn, return its pattern rather than a SEQUENCE.\n+  /* If only one insn, return it rather than a SEQUENCE.\n      (Now that we cache SEQUENCE expressions, it isn't worth special-casing\n-     the case of an empty list.)  */\n+     the case of an empty list.)     \n+     We only return the pattern of an insn if its code is INSN and it\n+     has no notes.  This ensures that no information gets lost.  */\n   if (len == 1\n       && ! RTX_FRAME_RELATED_P (first_insn)\n-      && (GET_CODE (first_insn) == INSN\n-\t  || GET_CODE (first_insn) == JUMP_INSN\n-\t  /* Don't discard the call usage field.  */\n-\t  || (GET_CODE (first_insn) == CALL_INSN\n-\t      && CALL_INSN_FUNCTION_USAGE (first_insn) == NULL_RTX)))\n+      && GET_CODE (first_insn) == INSN\n+      /* Don't throw away any reg notes. */\n+      && REG_NOTES (first_insn) == 0)\n     {\n       if (!ggc_p)\n \t{"}]}