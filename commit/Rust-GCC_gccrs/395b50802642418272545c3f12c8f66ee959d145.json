{"sha": "395b50802642418272545c3f12c8f66ee959d145", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mzk1YjUwODAyNjQyNDE4MjcyNTQ1YzNmMTJjOGY2NmVlOTU5ZDE0NQ==", "commit": {"author": {"name": "Vincent Celier", "email": "celier@adacore.com", "date": "2007-12-13T10:22:25Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2007-12-13T10:22:25Z"}, "message": "opt.ads: Indicate what flags are used by the Project Manager, gprbuild and gprclean.\n\n2007-12-06  Vincent Celier  <celier@adacore.com>\n\n\t* opt.ads: Indicate what flags are used by the Project Manager,\n\tgprbuild and gprclean.\n\t(Opt.Follow_Links_For_Dirs): New flag\n\t(Warn_On_Assertion_Failure): New flag\n\t(Wide_Character_Encoding_Method_Specified): New flag\n\t(Suppress_All_Inlining): New switch set by -fno-inline\n\t(Real_VMS_Target): New flag\n\tNew pragma Fast_Math\n\nFrom-SVN: r130821", "tree": {"sha": "4eec5f9fa1871d68b1f804e4f9a512401c2db2ff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4eec5f9fa1871d68b1f804e4f9a512401c2db2ff"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/395b50802642418272545c3f12c8f66ee959d145", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/395b50802642418272545c3f12c8f66ee959d145", "html_url": "https://github.com/Rust-GCC/gccrs/commit/395b50802642418272545c3f12c8f66ee959d145", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/395b50802642418272545c3f12c8f66ee959d145/comments", "author": {"login": "vcelier", "id": 8888056, "node_id": "MDQ6VXNlcjg4ODgwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/8888056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vcelier", "html_url": "https://github.com/vcelier", "followers_url": "https://api.github.com/users/vcelier/followers", "following_url": "https://api.github.com/users/vcelier/following{/other_user}", "gists_url": "https://api.github.com/users/vcelier/gists{/gist_id}", "starred_url": "https://api.github.com/users/vcelier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vcelier/subscriptions", "organizations_url": "https://api.github.com/users/vcelier/orgs", "repos_url": "https://api.github.com/users/vcelier/repos", "events_url": "https://api.github.com/users/vcelier/events{/privacy}", "received_events_url": "https://api.github.com/users/vcelier/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ac4d64074400613b205bba2e6d21272b4c648bc5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac4d64074400613b205bba2e6d21272b4c648bc5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ac4d64074400613b205bba2e6d21272b4c648bc5"}], "stats": {"total": 106, "additions": 80, "deletions": 26}, "files": [{"sha": "decd1cc4609adb2e9c7ae6f296ec0f485d9ea239", "filename": "gcc/ada/opt.ads", "status": "modified", "additions": 80, "deletions": 26, "changes": 106, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/395b50802642418272545c3f12c8f66ee959d145/gcc%2Fada%2Fopt.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/395b50802642418272545c3f12c8f66ee959d145/gcc%2Fada%2Fopt.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fopt.ads?ref=395b50802642418272545c3f12c8f66ee959d145", "patch": "@@ -36,6 +36,10 @@\n --  other GNAT tools. The comments indicate which options are used by which\n --  programs (GNAT, GNATBIND, GNATLINK, GNATMAKE, GPRMAKE, etc).\n \n+--  Some flags are labelled \"PROJECT MANAGER\". These are used by tools that\n+--  use the Project Manager. These tools include gnatmake, gnatname, the gnat\n+--  driver, gnatclean, gprbuild and gprclean.\n+\n with Debug;\n with Hostparm; use Hostparm;\n with Types;    use Types;\n@@ -177,7 +181,7 @@ package Opt is\n    --  building a library. May be set to True by Gnatbind.Scan_Bind_Arg.\n \n    Bind_Only : Boolean := False;\n-   --  GNATMAKE, GPRMAKE\n+   --  GNATMAKE, GPRMAKE, GPRBUILD\n    --  Set to True to skip compile and link steps\n    --  (except when Compile_Only and/or Link_Only are True).\n \n@@ -222,7 +226,7 @@ package Opt is\n    --  directly modified by gnatmake, to affect the shared binder routines.\n \n    Check_Switches : Boolean := False;\n-   --  GNATMAKE, GPRMAKE\n+   --  GNATMAKE, GPRMAKE, GPBUILD\n    --  Set to True to check compiler options during the make process\n \n    Check_Unreferenced : Boolean := False;\n@@ -250,11 +254,13 @@ package Opt is\n    --  in the output file.\n \n    Compile_Only : Boolean := False;\n-   --  GNATMAKE, GNATCLEAN, GPRMAKE\n-   --  GNATMAKE, GPRMAKE: set to True to skip bind and link steps (except when\n-   --                     Bind_Only is True).\n-   --  GNATCLEAN: set to True to delete only the files produced by the compiler\n-   --             but not the library files or the executable files.\n+   --  GNATMAKE, GNATCLEAN, GPRMAKE, GPBUILD, GPRCLEAN\n+   --  GNATMAKE, GPRMAKE, GPRMAKE:\n+   --    set to True to skip bind and link steps (except when Bind_Only is\n+   --    True).\n+   --  GNATCLEAN, GPRCLEAN:\n+   --    set to True to delete only the files produced by the compiler but not\n+   --    the library files or the executable files.\n \n    Config_File : Boolean := True;\n    --  GNAT\n@@ -323,7 +329,7 @@ package Opt is\n    --  potentially blocking operations are detected from protected actions.\n \n    Display_Compilation_Progress : Boolean := False;\n-   --  GNATMAKE, GPRMAKE\n+   --  GNATMAKE, GPRMAKE, GPRBUILD\n    --  Set True (-d switch) to display information on progress while compiling\n    --  files. Internal flag to be used in conjunction with an IDE (e.g GPS).\n \n@@ -466,6 +472,11 @@ package Opt is\n    --  When True (set by gnatmake switch -x), allow compilation of sources\n    --  that are not part of any project file.\n \n+   Fast_Math : Boolean := False;\n+   --  GNAT\n+   --  Indicates the current setting of Fast_Math mode, as set by the use\n+   --  of a Fast_Math pragma (set on by Fast_Math (On)).\n+\n    Float_Format : Character := ' ';\n    --  GNAT\n    --  A non-blank value indicates that a Float_Format pragma has been\n@@ -491,11 +502,11 @@ package Opt is\n    --  (-F switch set).\n \n    Force_Compilations : Boolean := False;\n-   --  GNATMAKE, GPRMAKE\n+   --  GNATMAKE, GPRMAKE, GPRBUILD\n    --  Set to force recompilations even when the objects are up-to-date.\n \n    Full_Path_Name_For_Brief_Errors : Boolean := False;\n-   --  GNAT, GNATMAKE, GNATCLEAN, GPRMAKE\n+   --  PROJECT MANAGER\n    --  When True, in Brief_Output mode, each error message line\n    --  will start with the full path name of the source.\n    --  When False, only the file name without directory information\n@@ -609,9 +620,19 @@ package Opt is\n    --  generate code even in case of unsupported construct, so that the byte\n    --  code can be used by static analysis tools.\n \n-   Follow_Links : Boolean := False;\n-   --  GNATMAKE\n+   Follow_Links_For_Files : Boolean := False;\n+   --  PROJECT MANAGER\n    --  Set to True (-eL) to process the project files in trusted mode\n+   --  If Follow_Links is False, it is assumed that the project doesn't contain\n+   --  any file duplicated through symbolic links (although the latter are\n+   --  still valid if they point to a file which is outside of the project),\n+   --  and that no directory has a name which is a valid source name.\n+\n+   Follow_Links_For_Dirs : Boolean := True;\n+   --  PROJECT MANAGER\n+   --  Whether directories can be links in this project, and therefore\n+   --  additional system calls should be performed to ensure we always see the\n+   --  same full name for each directory.\n \n    Front_End_Inlining : Boolean := False;\n    --  GNAT\n@@ -630,7 +651,7 @@ package Opt is\n    --  if not.\n \n    Keep_Going : Boolean := False;\n-   --  GNATMAKE, GPRMAKE\n+   --  GNATMAKE, GPRMAKE, GPRBUILD\n    --  When True signals to ignore compilation errors and keep\n    --  processing sources until there is no more work.\n \n@@ -645,7 +666,7 @@ package Opt is\n    --  children.\n \n    Link_Only : Boolean := False;\n-   --  GNATMAKE, GPRMAKE\n+   --  GNATMAKE, GPRMAKE, GPRBUILD\n    --  Set to True to skip compile and bind steps\n    --  (except when Bind_Only is set to True).\n \n@@ -773,7 +794,7 @@ package Opt is\n    --  then this value is initialized by Osint to the appropriate value.\n \n    Maximum_Processes : Positive := 1;\n-   --  GNATMAKE, GPRMAKE\n+   --  GNATMAKE, GPRMAKE, GPRBUILD\n    --  Maximum number of processes that should be spawned to carry out\n    --  compilations.\n \n@@ -920,7 +941,7 @@ package Opt is\n    --  used if the policy is set in package System.\n \n    Quiet_Output : Boolean := False;\n-   --  GNATMAKE, GNATCLEAN, GPRMAKE\n+   --  GNATMAKE, GNATCLEAN, GPRMAKE, GPRBUILD, GPRCLEAN\n    --  Set to True if the tool should not have any output if there are no\n    --  errors or warnings.\n \n@@ -982,6 +1003,11 @@ package Opt is\n    --  in package Style (see body of this package for details of checks)\n    --  This flag is set True by either the -gnatg or -gnaty switches.\n \n+   Suppress_All_Inlining : Boolean := False;\n+   --  GNAT\n+   --  Set by -fno-inline. Suppresses all inlining, both front end and back end\n+   --  regardless of any other switches that are set.\n+\n    System_Extend_Pragma_Arg : Node_Id := Empty;\n    --  GNAT\n    --  Set non-empty if and only if a correct Extend_System pragma was present\n@@ -1064,6 +1090,12 @@ package Opt is\n    --  GNAT\n    --  Set to True (-gnatt) to generate output tree file\n \n+   True_VMS_Target : Boolean := False;\n+   --  Set True if we are on a VMS target. The setting of this flag reflects\n+   --  the true state of the compile, unlike Targparm.OpenVMS_On_Target which\n+   --  can also be true when debug flag m is set (-gnatdm). This is used in the\n+   --  few cases where we do NOT want -gnatdm to trigger the VMS behavior.\n+\n    Try_Semantics : Boolean := False;\n    --  GNAT\n    --  Flag set to force attempt at semantic analysis, even if parser errors\n@@ -1096,12 +1128,12 @@ package Opt is\n    --  corresponding attribute set in GNATBIND.\n \n    Upper_Half_Encoding : Boolean := False;\n-   --  GNAT\n+   --  GNAT, GNATBIND\n    --  Normally set False, indicating that upper half ASCII characters are\n    --  used in the normal way to represent themselves. If the wide character\n    --  encoding method uses the upper bit for this encoding, then this flag is\n    --  set True, and upper half characters in the source indicate the start of\n-   --  a wide character sequence.\n+   --  a wide character sequence. Set by -gnatW or -W switches.\n \n    Usage_Requested : Boolean := False;\n    --  GNAT, GNATBIND, GNATMAKE\n@@ -1129,7 +1161,7 @@ package Opt is\n \n    Verbose_Mode : Boolean := False;\n    --  GNAT, GNATBIND, GNATMAKE, GNATLINK, GNATLS, GNATNAME, GNATCLEAN,\n-   --  GPRMAKE\n+   --  GPRMAKE, GPRBUILD, GPRCLEAN\n    --  Set to True to get verbose mode (full error message text and location\n    --  information sent to standard output, also header, copyright and summary)\n \n@@ -1154,6 +1186,11 @@ package Opt is\n    --  including warnings on Ada 2005 obsolescent features used in Ada 2005\n    --  mode. Set False by -gnatwY.\n \n+   Warn_On_Assertion_Failure : Boolean := True;\n+   --  GNAT\n+   --  Set to True to activate warnings on assertions that can be determined\n+   --  at compile time will always fail. Set false by -gnatw.A.\n+\n    Warn_On_Assumed_Low_Bound : Boolean := True;\n    --  GNAT\n    --  Set to True to activate warnings for string parameters that are indexed\n@@ -1194,13 +1231,16 @@ package Opt is\n    Warn_On_Modified_Unread : Boolean := False;\n    --  GNAT\n    --  Set to True to generate warnings if a variable is assigned but is never\n-   --  read. The default is that this warning is suppressed.\n+   --  read. Also controls warnings for similar cases involving out parameters,\n+   --  but only if there is only one out parameter for the procedure involved.\n+   --  The default is that this warning is suppressed.\n \n-   Warn_On_Out_Parameter_Unread : Boolean := False;\n+   Warn_On_All_Unread_Out_Parameters : Boolean := False;\n    --  GNAT\n-   --  Set to True to generate warnings if a variable is modified by being\n-   --  passed as to an IN OUT or OUT formal, but the resulting value is never\n-   --  read. The default is that this warning is suppressed.\n+   --  Set to True to generate warnings in all cases where a variable is\n+   --  modified by being passed as to an OUT formal, but the resulting value is\n+   --  never read. The default is that this warning is suppressed, except in\n+   --  the case of\n \n    Warn_On_No_Value_Assigned : Boolean := True;\n    --  GNAT\n@@ -1267,15 +1307,21 @@ package Opt is\n    --  are generated and are treated as errors.\n \n    Wide_Character_Encoding_Method : WC_Encoding_Method := WCEM_Brackets;\n-   --  GNAT\n+   --  GNAT, GNATBIND\n    --  Method used for encoding wide characters in the source program. See\n    --  description of type in unit System.WCh_Con for a list of the methods\n    --  that are currently supported. Note that brackets notation is always\n    --  recognized in source programs regardless of the setting of this\n    --  variable. The default setting causes only the brackets notation to be\n    --  recognized. If this is the main unit, this setting also controls the\n    --  output of the W=? parameter in the ALI file, which is used to provide\n-   --  the default for Wide_Text_IO files.\n+   --  the default for encoding [Wide_[Wide_]]Text_IO files. For the binder,\n+   --  the value set here overrides this main unit default.\n+\n+   Wide_Character_Encoding_Method_Specified : Boolean := False;\n+   --  GNAT, GNATBIND\n+   --  Set True if the value in Wide_Character_Encoding_Method was set as\n+   --  a result of an explicit -gnatW? or -W? switch. False otherwise.\n \n    Xref_Active : Boolean := True;\n    --  GNAT\n@@ -1363,6 +1409,13 @@ package Opt is\n    --  however that the setting of this flag is ignored for internal and\n    --  predefined units (which are always compiled with Lowercase mode).\n \n+   Fast_Math_Config : Boolean;\n+   --  GNAT\n+   --  This is the value of the configuration switch that controls Fast_Math\n+   --  mode, as set by a Fast_Math pragma in configuration pragmas. It is\n+   --  used to set the initial value of Fast_Math at the start of each new\n+   --  compilation unit.\n+\n    Persistent_BSS_Mode_Config : Boolean;\n    --  GNAT\n    --  This is the value of the configuration switch that controls whether\n@@ -1499,6 +1552,7 @@ private\n       Extensions_Allowed             : Boolean;\n       External_Name_Exp_Casing       : External_Casing_Type;\n       External_Name_Imp_Casing       : External_Casing_Type;\n+      Fast_Math                      : Boolean;\n       Persistent_BSS_Mode            : Boolean;\n       Polling_Required               : Boolean;\n       Use_VADS_Size                  : Boolean;"}]}