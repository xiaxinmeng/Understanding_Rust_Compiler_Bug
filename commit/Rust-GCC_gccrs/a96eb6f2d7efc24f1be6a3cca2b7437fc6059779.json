{"sha": "a96eb6f2d7efc24f1be6a3cca2b7437fc6059779", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTk2ZWI2ZjJkN2VmYzI0ZjFiZTZhM2NjYTJiNzQzN2ZjNjA1OTc3OQ==", "commit": {"author": {"name": "Tristan Gingold", "email": "gingold@adacore.com", "date": "2017-04-27T13:54:41Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2017-04-27T13:54:41Z"}, "message": "Make-lang.in: Define EH_MECHANISM while building raise-gcc.c.\n\n2017-04-27  Tristan Gingold  <gingold@adacore.com>\n\n\t* gcc-interface/Make-lang.in: Define EH_MECHANISM while building\n\traise-gcc.c. Fix include search path for raise-gcc.c\n\nFrom-SVN: r247339", "tree": {"sha": "2705512ae39b27e5ff34a83c70b3f3a4728e5465", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2705512ae39b27e5ff34a83c70b3f3a4728e5465"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a96eb6f2d7efc24f1be6a3cca2b7437fc6059779", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a96eb6f2d7efc24f1be6a3cca2b7437fc6059779", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a96eb6f2d7efc24f1be6a3cca2b7437fc6059779", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a96eb6f2d7efc24f1be6a3cca2b7437fc6059779/comments", "author": {"login": "gingold-adacore", "id": 16334725, "node_id": "MDQ6VXNlcjE2MzM0NzI1", "avatar_url": "https://avatars.githubusercontent.com/u/16334725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gingold-adacore", "html_url": "https://github.com/gingold-adacore", "followers_url": "https://api.github.com/users/gingold-adacore/followers", "following_url": "https://api.github.com/users/gingold-adacore/following{/other_user}", "gists_url": "https://api.github.com/users/gingold-adacore/gists{/gist_id}", "starred_url": "https://api.github.com/users/gingold-adacore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gingold-adacore/subscriptions", "organizations_url": "https://api.github.com/users/gingold-adacore/orgs", "repos_url": "https://api.github.com/users/gingold-adacore/repos", "events_url": "https://api.github.com/users/gingold-adacore/events{/privacy}", "received_events_url": "https://api.github.com/users/gingold-adacore/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "8ab31c0c31ecf1fa368974dc98196955cb2c25cd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ab31c0c31ecf1fa368974dc98196955cb2c25cd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8ab31c0c31ecf1fa368974dc98196955cb2c25cd"}], "stats": {"total": 18, "additions": 12, "deletions": 6}, "files": [{"sha": "3bab80e278890f2767880de9615a9de4b143daa4", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a96eb6f2d7efc24f1be6a3cca2b7437fc6059779/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a96eb6f2d7efc24f1be6a3cca2b7437fc6059779/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=a96eb6f2d7efc24f1be6a3cca2b7437fc6059779", "patch": "@@ -1,3 +1,8 @@\n+2017-04-27  Tristan Gingold  <gingold@adacore.com>\n+\n+\t* gcc-interface/Make-lang.in: Define EH_MECHANISM while building\n+\traise-gcc.c. Fix include search path for raise-gcc.c\n+\n 2017-04-27  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* fe.h (Warn_On_Questionable_Layout): Declare."}, {"sha": "fa04e80a52dd67dde1b46be6e64de1df2c7e4c60", "filename": "gcc/ada/gcc-interface/Make-lang.in", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a96eb6f2d7efc24f1be6a3cca2b7437fc6059779/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a96eb6f2d7efc24f1be6a3cca2b7437fc6059779/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMake-lang.in?ref=a96eb6f2d7efc24f1be6a3cca2b7437fc6059779", "patch": "@@ -99,8 +99,6 @@ ADA_TOOLS=gnatbind gnatchop gnat gnatkr gnatlink gnatls gnatmake \\\n ada-warn = $(ADA_CFLAGS) $(filter-out -pedantic, $(STRICT_WARN))\n # Unresolved warnings in specific files.\n ada/adaint.o-warn = -Wno-error\n-# For unwind-pe.h\n-CFLAGS-ada/raise-gcc.o += -I$(srcdir)/../libgcc -Iinclude\n \n ada/%.o: ada/gcc-interface/%.c\n \t$(COMPILE) $<\n@@ -611,17 +609,20 @@ TARGET_ADA_SRCS =\n \n # Select the right s-excmac according to exception layout (Itanium or arm)\n host_cpu=$(word 1, $(subst -, ,$(host)))\n-EH_MECHANISM=-gcc\n+EH_MECHANISM=gcc\n ifeq ($(strip $(filter-out arm%,$(host_cpu))),)\n-EH_MECHANISM=-arm\n+EH_MECHANISM=arm\n endif\n \n+# For unwind-pe.h\n+CFLAGS-ada/raise-gcc.o += -I$(srcdir)/../libgcc -DEH_MECHANISM_$(EH_MECHANISM)\n+\n ada/s-excmac.o: ada/s-excmac.ads ada/s-excmac.adb\n \n-ada/s-excmac.ads: $(srcdir)/ada/s-excmac$(EH_MECHANISM).ads\n+ada/s-excmac.ads: $(srcdir)/ada/s-excmac-$(EH_MECHANISM).ads\n \t$(CP) $< $@\n \n-ada/s-excmac.adb: $(srcdir)/ada/s-excmac$(EH_MECHANISM).adb\n+ada/s-excmac.adb: $(srcdir)/ada/s-excmac-$(EH_MECHANISM).adb\n \t$(CP) $< $@\n \n # Needs to be built with CC=gcc"}]}