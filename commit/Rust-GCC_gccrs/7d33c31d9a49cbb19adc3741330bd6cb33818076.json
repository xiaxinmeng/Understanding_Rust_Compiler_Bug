{"sha": "7d33c31d9a49cbb19adc3741330bd6cb33818076", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2QzM2MzMWQ5YTQ5Y2JiMTlhZGMzNzQxMzMwYmQ2Y2IzMzgxODA3Ng==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@codesourcery.com", "date": "2007-04-14T02:15:45Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2007-04-14T02:15:45Z"}, "message": "config.gcc: Recognize fido.\n\ngcc/\n\t* config.gcc: Recognize fido.\n\t* config/m68k/m68k-devices.def (fidoa): New.\n\t* config/m68k/m68k.h (TARGET_CPU_CPP_BUILTINS): Define\n\t__mfido__.\n\t(FL_FIDOA, TARGET_FIDOA): New.\n\t* config/m68k/m68k.opt (mfidoa): New.\n\nlibgcc/\n\t* config.host: Recognize fido.\n\nFrom-SVN: r123811", "tree": {"sha": "c6ac75935c268d887244c68f482eb09fb53b355a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c6ac75935c268d887244c68f482eb09fb53b355a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7d33c31d9a49cbb19adc3741330bd6cb33818076", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d33c31d9a49cbb19adc3741330bd6cb33818076", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7d33c31d9a49cbb19adc3741330bd6cb33818076", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d33c31d9a49cbb19adc3741330bd6cb33818076/comments", "author": null, "committer": null, "parents": [{"sha": "fd86239df046e4082ca74ea793f70d4664ddcc0e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd86239df046e4082ca74ea793f70d4664ddcc0e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd86239df046e4082ca74ea793f70d4664ddcc0e"}], "stats": {"total": 70, "additions": 64, "deletions": 6}, "files": [{"sha": "2067138b3c94debd651eebac53330fa504c66eba", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d33c31d9a49cbb19adc3741330bd6cb33818076/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d33c31d9a49cbb19adc3741330bd6cb33818076/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7d33c31d9a49cbb19adc3741330bd6cb33818076", "patch": "@@ -1,3 +1,12 @@\n+2007-04-14  Kazu Hirata  <kazu@codesourcery.com>\n+\n+\t* config.gcc: Recognize fido.\n+\t* config/m68k/m68k-devices.def (fidoa): New.\n+\t* config/m68k/m68k.h (TARGET_CPU_CPP_BUILTINS): Define\n+\t__mfido__.\n+\t(FL_FIDOA, TARGET_FIDOA): New.\n+\t* config/m68k/m68k.opt (mfidoa): New.\n+\n 2007-04-13  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n \n \tPR middle-end/31322"}, {"sha": "055503f5f7badceb0b929325a122c3f694ed25f7", "filename": "gcc/config.gcc", "status": "modified", "additions": 34, "deletions": 6, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d33c31d9a49cbb19adc3741330bd6cb33818076/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d33c31d9a49cbb19adc3741330bd6cb33818076/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=7d33c31d9a49cbb19adc3741330bd6cb33818076", "patch": "@@ -265,6 +265,10 @@ ep9312*-*-*)\n \t;;\n frv*)\tcpu_type=frv\n \t;;\n+fido-*-*)\n+\tcpu_type=m68k\n+\textra_headers=math-68881.h\n+        ;;\n xscale-*-*)\n \tcpu_type=arm\n \textra_headers=\"mmintrin.h\"\n@@ -1508,12 +1512,36 @@ m68k-*-coff*)\n \ttm_file=\"${tm_file} m68k/m68k-none.h m68k/m68kemb.h dbxcoff.h m68k/coff.h dbx.h\"\n \tuse_fixproto=yes\n \t;;\n-m68020-*-elf* | m68k-*-elf*)\n-\tdefault_m68k_cpu=68020\n-\tdefault_cf_cpu=5206\n+m68020-*-elf* | m68k-*-elf* | fido-*-elf*)\n+\tcase ${target} in\n+\tfido-*-elf*)\n+\t\t# Check that $with_cpu makes sense.\n+\t\tcase $with_cpu in\n+\t\t\"\" | \"fidoa\")\n+\t\t\t;;\n+\t\t*)\n+\t\t\techo \"Cannot accept --with-cpu=$with_cpu\"\n+\t\t\texit 1\n+\t\t\t;;\n+\t\tesac\n+\t\twith_cpu=fidoa\n+\t\t;;\n+\t*)\n+\t\tdefault_m68k_cpu=68020\n+\t\tdefault_cf_cpu=5206\n+\t\t;;\n+\tesac\n \ttm_file=\"${tm_file} m68k/m68k-none.h m68k/m68kelf.h dbxelf.h elfos.h m68k/m68kemb.h m68k/m68020-elf.h\"\n \ttm_defines=\"${tm_defines} MOTOROLA=1 USE_GAS\"\n-\ttmake_file=\"m68k/t-floatlib m68k/t-m68kbare m68k/t-m68kelf m68k/t-mlibs\"\n+\ttmake_file=\"m68k/t-floatlib m68k/t-m68kbare m68k/t-m68kelf\"\n+\t# Add multilibs for targets other than fido.\n+\tcase ${target} in\n+\tfido-*-elf*)\n+\t\t;;\n+\t*)\n+\t\ttmake_file=\"$tmake_file m68k/t-mlibs\"\n+\t\t;;\n+\tesac\n \textra_parts=\"crtbegin.o crtend.o\"\n \t;;\n m68010-*-netbsdelf* | m68k*-*-netbsdelf*)\n@@ -2838,7 +2866,7 @@ case \"${target}\" in\n \t\tesac\n \t\t;;\n \n-\tm680[012]0-*-* | m68k*-*-*)\n+\tfido-*-* | m680[012]0-*-* | m68k*-*-*)\n \t\tsupported_defaults=\"arch cpu\"\n \t\tcase \"$with_arch\" in\n \t\t\"\" | \"m68k\"| \"cf\")\n@@ -3132,7 +3160,7 @@ case ${target} in\n \t\tfi\n \t\t;;\n \n-\tm680[012]0-*-* | m68k*-*-*)\n+\tfido*-*-* | m680[012]0-*-* | m68k*-*-*)\n \t\ttarget_cpu_default2=$m68k_cpu_ident\n \t\tif [ x\"$m68k_arch_family\" != x ]; then\n \t\t        tmake_file=\"m68k/t-$m68k_arch_family $tmake_file\""}, {"sha": "1d47bd0b002f3fe70682faa4977f1d697f935f7d", "filename": "gcc/config/m68k/m68k-devices.def", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d33c31d9a49cbb19adc3741330bd6cb33818076/gcc%2Fconfig%2Fm68k%2Fm68k-devices.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d33c31d9a49cbb19adc3741330bd6cb33818076/gcc%2Fconfig%2Fm68k%2Fm68k-devices.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k-devices.def?ref=7d33c31d9a49cbb19adc3741330bd6cb33818076", "patch": "@@ -142,3 +142,6 @@ M68K_DEVICE (\"5483\",  mcf5483,  \"5485\",  \"5475\",  cfv4e,    isa_b,     FL_CF_USP\n M68K_DEVICE (\"5484\",  mcf5484,  \"5485\",  \"5475\",  cfv4e,    isa_b,     FL_CF_USP | FL_CF_EMAC | FL_CF_FPU | FL_MMU)\n M68K_DEVICE (\"5485\",  mcf5485,  \"5485\",  \"5475\",  cfv4e,    isa_b,     FL_CF_USP | FL_CF_EMAC | FL_CF_FPU | FL_MMU)\n M68K_DEVICE (\"548x\",  mcf548x,  \"5485\",  \"5475\",  cfv4e,    isa_b,     FL_CF_USP | FL_CF_EMAC | FL_CF_FPU | FL_MMU)\n+\n+/* Fido processor.  */\n+M68K_DEVICE (\"fidoa\", fidoa,    \"cpu32\", \"fidoa\", cpu32,    isa_cpu32, FL_FIDOA | FL_MMU)"}, {"sha": "a6c347d80fc61635905d1c09b800f25ec0a4b7f8", "filename": "gcc/config/m68k/m68k.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d33c31d9a49cbb19adc3741330bd6cb33818076/gcc%2Fconfig%2Fm68k%2Fm68k.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d33c31d9a49cbb19adc3741330bd6cb33818076/gcc%2Fconfig%2Fm68k%2Fm68k.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.h?ref=7d33c31d9a49cbb19adc3741330bd6cb33818076", "patch": "@@ -187,6 +187,9 @@ Boston, MA 02110-1301, USA.  */\n       if (TARGET_CF_HWDIV)\t\t\t\t\t\t\\\n \tbuiltin_define (\"__mcfhwdiv__\");\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\\\n+      if (TARGET_FIDOA)\t\t\t\t\t\t\t\\\n+\tbuiltin_define (\"__mfido__\");\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\t\\\n       builtin_assert (\"cpu=m68k\");\t\t\t\t\t\\\n       builtin_assert (\"machine=m68k\");\t\t\t\t\t\\\n     }\t\t\t\t\t\t\t\t\t\\\n@@ -220,6 +223,7 @@ Boston, MA 02110-1301, USA.  */\n #define FL_ISA_APLUS (1 << 14)\n #define FL_ISA_B     (1 << 15)\n #define FL_ISA_C     (1 << 16)\n+#define FL_FIDOA     (1 << 17)\n #define FL_MMU \t     0   /* Used by multilib machinery.  */\n \n #define TARGET_68010\t\t((m68k_cpu_flags & FL_ISA_68010) != 0)\n@@ -228,6 +232,7 @@ Boston, MA 02110-1301, USA.  */\n #define TARGET_COLDFIRE\t\t((m68k_cpu_flags & FL_COLDFIRE) != 0)\n #define TARGET_COLDFIRE_FPU\t(m68k_fpu == FPUTYPE_COLDFIRE)\n #define TARGET_68881\t\t(m68k_fpu == FPUTYPE_68881)\n+#define TARGET_FIDOA\t\t((m68k_cpu_flags & FL_FIDOA) != 0)\n \n /* Size (in bytes) of FPU registers.  */\n #define TARGET_FP_REG_SIZE\t(TARGET_COLDFIRE ? 8 : 12)"}, {"sha": "844fb6e086454dbfc22f10bbdefbb2ae8d564fd8", "filename": "gcc/config/m68k/m68k.opt", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d33c31d9a49cbb19adc3741330bd6cb33818076/gcc%2Fconfig%2Fm68k%2Fm68k.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d33c31d9a49cbb19adc3741330bd6cb33818076/gcc%2Fconfig%2Fm68k%2Fm68k.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.opt?ref=7d33c31d9a49cbb19adc3741330bd6cb33818076", "patch": "@@ -124,6 +124,10 @@ mdiv\n Target Report Mask(CF_HWDIV)\n Use hardware division instructions on ColdFire\n \n+mfidoa\n+Target RejectNegative\n+Generate code for a Fido A\n+\n mhard-float\n Target RejectNegative Mask(HARD_FLOAT) MaskExists\n Generate code which uses hardware floating point instructions"}, {"sha": "7e3afaccbfa7a3db33eecb57417cd4a73d09a71d", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d33c31d9a49cbb19adc3741330bd6cb33818076/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d33c31d9a49cbb19adc3741330bd6cb33818076/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=7d33c31d9a49cbb19adc3741330bd6cb33818076", "patch": "@@ -1,3 +1,7 @@\n+2007-04-14  Kazu Hirata  <kazu@codesourcery.com>\n+\n+\t* config.host: Recognize fido.\n+\n 2007-04-04  Janis Johnson  <janis187@us.ibm.com>\n \n \t* configure: Check host, not target, for decimal float support."}, {"sha": "f43de44bbd6c82575daf33265ddb2533b8080a07", "filename": "libgcc/config.host", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d33c31d9a49cbb19adc3741330bd6cb33818076/libgcc%2Fconfig.host", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d33c31d9a49cbb19adc3741330bd6cb33818076/libgcc%2Fconfig.host", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig.host?ref=7d33c31d9a49cbb19adc3741330bd6cb33818076", "patch": "@@ -83,6 +83,9 @@ bfin*-*)\n ep9312*-*-*)\n \tcpu_type=arm\n \t;;\n+fido-*-*)\n+\tcpu_type=m68k\n+\t;;\n frv*)\tcpu_type=frv\n \t;;\n xscale-*-*)\n@@ -268,6 +271,8 @@ cris-*-linux*)\n \t;;\n crx-*-elf)\n \t;;\n+fido-*-elf)\n+\t;;\n fr30-*-elf)\n \t;;\n frv-*-elf)"}]}