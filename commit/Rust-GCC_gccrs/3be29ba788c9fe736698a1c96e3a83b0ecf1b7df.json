{"sha": "3be29ba788c9fe736698a1c96e3a83b0ecf1b7df", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2JlMjliYTc4OGM5ZmU3MzY2OThhMWM5NmUzYTgzYjBlY2YxYjdkZg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-03-10T10:58:28Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-03-10T10:58:28Z"}, "message": "(sectname): Reverse Init and Normal.\n\n(print_operand_address, case PLUS): Add case for LABEL_REF.\n(print_operand_address, case LABEL_REF): Split fom SYMBOL_REF.\n(print_operand_address, case CODE_LABEL): New case.\n(ASM_FILE_END): Delete.\n\nFrom-SVN: r9155", "tree": {"sha": "588b34d26ecbbee2ddf7e63898794ddf14f0a0c1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/588b34d26ecbbee2ddf7e63898794ddf14f0a0c1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3be29ba788c9fe736698a1c96e3a83b0ecf1b7df", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3be29ba788c9fe736698a1c96e3a83b0ecf1b7df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3be29ba788c9fe736698a1c96e3a83b0ecf1b7df", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3be29ba788c9fe736698a1c96e3a83b0ecf1b7df/comments", "author": null, "committer": null, "parents": [{"sha": "e6e436615854954b26faac2618f8b209cd6770c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6e436615854954b26faac2618f8b209cd6770c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e6e436615854954b26faac2618f8b209cd6770c8"}], "stats": {"total": 42, "additions": 10, "deletions": 32}, "files": [{"sha": "bed69d29a913938678dc365b9ef909b5d5e35711", "filename": "gcc/config/1750a/1750a.c", "status": "modified", "additions": 10, "deletions": 32, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3be29ba788c9fe736698a1c96e3a83b0ecf1b7df/gcc%2Fconfig%2F1750a%2F1750a.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3be29ba788c9fe736698a1c96e3a83b0ecf1b7df/gcc%2Fconfig%2F1750a%2F1750a.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2F1750a%2F1750a.c?ref=3be29ba788c9fe736698a1c96e3a83b0ecf1b7df", "patch": "@@ -39,7 +39,7 @@ int jmplbl_ndx = -1;\n int label_pending = 0, program_counter = 0;\n enum section current_section = Normal;\n char *sectname[4] =\n-{\"Normal\", \"Init\", \"Konst\", \"Static\"};\n+{\"Init\", \"Normal\", \"Konst\", \"Static\"};\n \n int\n notice_update_cc (exp)\n@@ -498,12 +498,18 @@ print_operand_address (file, addr)\n \t\tfprintf (file, \"%s,r%d  ; P_O_A reg + sym\",\n \t\t\t XSTR (y, 0), REGNO (x));\n \t\tbreak;\n+\t      case LABEL_REF:\n+\t\toutput_address (XEXP (y, 0));\n+\t\tfprintf (file, \",r%d  ; P_O_A reg + label\", REGNO (x));\n+\t\tbreak;\n \t      default:\n \t\tfprintf (file, \"[P_O_A reg%d+UFO code=%d]\",\n \t\t\t REGNO (x), GET_CODE (y));\n \t      }\n \t    break;\n \t  case LABEL_REF:\n+\t    output_address (XEXP (x, 0));\n+\t    break;\n \t  case SYMBOL_REF:\n \t    switch (GET_CODE (y))\n \t      {\n@@ -560,41 +566,13 @@ print_operand_address (file, addr)\n       output_address (XEXP (addr, 0));\n       fprintf (file, \" ;P_O_A const\");\n       break;\n+    case CODE_LABEL:\n+      fprintf (file, \"L%d\", XINT (addr, 3));\n+      break;\n     default:\n       fprintf (file, \" p_o_a UFO, code=%d val=0x%x\",\n \t       (int) GET_CODE (addr), INTVAL (addr));\n       break;\n     }\n }\n \n-\n-/*\n-ASM_FILE_END(file)\n-  FILE *file;\n-{\n-      if (datalbl_ndx >= 0) {\n-         int i, cum_size=0;\n-         fprintf(file,\"\\n\\tstatic\\ninit_srel\\n\");\n-         for (i = 0; i <= datalbl_ndx; i++) {\n-\t   if (datalbl[i].name == NULL)\t\n-\t   {\n-\t     fprintf (stderr, \"asm_file_end intern err (datalbl)\\n\");\n-\t     exit (0);\n-\t   }\n-           fprintf(file,\"%s\\t block %d\\n\",\n-                 datalbl[i].name,datalbl[i].size);\n-           cum_size += datalbl[i].size;\n-\t }\n-         fprintf(file,\"\\n\\tinit\\n\");\n-         fprintf(file,\"\\tLIM  R0,init_srel ;dst\\n\");\n-         fprintf(file,\"\\tLIM  R1,%d ;cnt\\n\",cum_size);\n-         fprintf(file,\"\\tLIM  R2,K%s ;src\\n\",datalbl[0].name);\n-         fprintf(file,\"\\tMOV  R0,R2\\n\");\n-         fprintf(file,\"\\n\\tnormal\\n\");\n-         datalbl_ndx = -1;\n-         for (i = 0; i < DATALBL_ARRSIZ; i++)\n-            datalbl[i].size = 0;\n-      }\t\n-      fprintf(file,\"\\n\\tend\\n\");\n-}\n- */"}]}