{"sha": "c6847e25b997c686563a537de5fb9eaa34568730", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzY4NDdlMjViOTk3YzY4NjU2M2E1MzdkZTVmYjllYWEzNDU2ODczMA==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargls@comcast.net", "date": "2004-09-21T12:38:34Z"}, "committer": {"name": "Tobias Schl\u00fcter", "email": "tobi@gcc.gnu.org", "date": "2004-09-21T12:38:34Z"}, "message": "libgfortran.h: define gfc_alloca()\n\n2004-09-21  Steven G. Kargl  <kargls@comcast.net>\n\n* libgfortran.h: define gfc_alloca()\n* intrinsics/env.c (getenv, get_environment_variable_i4): Use it.\n\nFrom-SVN: r87801", "tree": {"sha": "15e69fd9c82b5c56916211a2a3e1f19fbaf48919", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/15e69fd9c82b5c56916211a2a3e1f19fbaf48919"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c6847e25b997c686563a537de5fb9eaa34568730", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c6847e25b997c686563a537de5fb9eaa34568730", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c6847e25b997c686563a537de5fb9eaa34568730", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c6847e25b997c686563a537de5fb9eaa34568730/comments", "author": null, "committer": {"login": "TobiSchluter", "id": 11887541, "node_id": "MDQ6VXNlcjExODg3NTQx", "avatar_url": "https://avatars.githubusercontent.com/u/11887541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TobiSchluter", "html_url": "https://github.com/TobiSchluter", "followers_url": "https://api.github.com/users/TobiSchluter/followers", "following_url": "https://api.github.com/users/TobiSchluter/following{/other_user}", "gists_url": "https://api.github.com/users/TobiSchluter/gists{/gist_id}", "starred_url": "https://api.github.com/users/TobiSchluter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TobiSchluter/subscriptions", "organizations_url": "https://api.github.com/users/TobiSchluter/orgs", "repos_url": "https://api.github.com/users/TobiSchluter/repos", "events_url": "https://api.github.com/users/TobiSchluter/events{/privacy}", "received_events_url": "https://api.github.com/users/TobiSchluter/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "936f1f064115f94425c521a5c94f0957f67a480d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/936f1f064115f94425c521a5c94f0957f67a480d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/936f1f064115f94425c521a5c94f0957f67a480d"}], "stats": {"total": 17, "additions": 13, "deletions": 4}, "files": [{"sha": "4f282d5c854db162ede693d9706ee80c3d737414", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6847e25b997c686563a537de5fb9eaa34568730/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6847e25b997c686563a537de5fb9eaa34568730/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=c6847e25b997c686563a537de5fb9eaa34568730", "patch": "@@ -1,3 +1,8 @@\n+2004-09-21  Steven G. Kargl  <kargls@comcast.net>\n+\n+\t* libgfortran.h: define gfc_alloca()\n+\t* intrinsics/env.c (getenv, get_environment_variable_i4): Use it.\n+\n 2004-09-21  Bud Davis  <bdavis9659@comcast.net>\n \n \tPR fortran/17286"}, {"sha": "ab596fce59c038994fe25276022a03a5d3f63f37", "filename": "libgfortran/intrinsics/env.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6847e25b997c686563a537de5fb9eaa34568730/libgfortran%2Fintrinsics%2Fenv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6847e25b997c686563a537de5fb9eaa34568730/libgfortran%2Fintrinsics%2Fenv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fintrinsics%2Fenv.c?ref=c6847e25b997c686563a537de5fb9eaa34568730", "patch": "@@ -24,7 +24,6 @@ Boston, MA 02111-1307, USA.  */\n #include <sys/types.h>\n #include <stdlib.h>\n #include <string.h>\n-#include <alloca.h>\n #include \"libgfortran.h\"\n \n \n@@ -55,7 +54,7 @@ prefix(getenv) (char * name,\n     name_len--;\n \n   /* Make a null terminated copy of the string.  */\n-  name_nt = alloca (name_len + 1);\n+  name_nt = gfc_alloca (name_len + 1);\n   memcpy (name_nt, name, name_len);\n   name_nt[name_len] = '\\0'; \n \n@@ -131,7 +130,7 @@ prefix(get_environment_variable_i4)\n \tname_len--;\n     }\n   /* Make a null terminated copy of the name.  */\n-  name_nt = alloca (name_len + 1);\n+  name_nt = gfc_alloca (name_len + 1);\n   memcpy (name_nt, name, name_len);\n   name_nt[name_len] = '\\0'; \n   "}, {"sha": "bbe6824770675e34619b74bed6c7bcaba729a887", "filename": "libgfortran/libgfortran.h", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6847e25b997c686563a537de5fb9eaa34568730/libgfortran%2Flibgfortran.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6847e25b997c686563a537de5fb9eaa34568730/libgfortran%2Flibgfortran.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Flibgfortran.h?ref=c6847e25b997c686563a537de5fb9eaa34568730", "patch": "@@ -1,5 +1,5 @@\n /* Common declarations for all of libgfor.\n-   Copyright 2002, 2003 Free Software Foundation, Inc.\n+   Copyright (C) 2002, 2003, 2004 Free Software Foundation, Inc.\n    Contributed by Paul Brook <paul@nowt.org>, and\n    Andy Vaught <andy@xena.eas.asu.edu>\n \n@@ -237,6 +237,11 @@ extern unsigned line;\t\t/* Location of the current libray call (optional).  */\n #define filename prefix(filename)\n extern char *filename;\n \n+/* Avoid conflicting prototypes of alloca() in system headers by using \n+   GCC's builtin alloca().  */\n+\n+#define gfc_alloca(x)  __builtin_alloca(x)\n+\n \n /* main.c */\n "}]}