{"sha": "7898b93b5770c3881bf769a3cec86cc3e0d37fda", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Nzg5OGI5M2I1NzcwYzM4ODFiZjc2OWEzY2VjODZjYzNlMGQzN2ZkYQ==", "commit": {"author": {"name": "Alexander Monakov", "email": "amonakov@ispras.ru", "date": "2010-01-14T11:25:25Z"}, "committer": {"name": "Alexander Monakov", "email": "amonakov@gcc.gnu.org", "date": "2010-01-14T11:25:25Z"}, "message": "sel-sched-ir.c (sel_restore_other_notes): Rename to sel_restore_notes.\n\n2010-01-14  Alexander Monakov  <amonakov@ispras.ru>\n\n\t* sel-sched-ir.c (sel_restore_other_notes): Rename to sel_restore_notes.\n\tUpdate all callers.  Call reemit_notes for all insns.\n\nFrom-SVN: r155901", "tree": {"sha": "fc2c496414a3ff4b62659268cddf82c38f0008bf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fc2c496414a3ff4b62659268cddf82c38f0008bf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7898b93b5770c3881bf769a3cec86cc3e0d37fda", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7898b93b5770c3881bf769a3cec86cc3e0d37fda", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7898b93b5770c3881bf769a3cec86cc3e0d37fda", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7898b93b5770c3881bf769a3cec86cc3e0d37fda/comments", "author": {"login": "amonakov", "id": 1997391, "node_id": "MDQ6VXNlcjE5OTczOTE=", "avatar_url": "https://avatars.githubusercontent.com/u/1997391?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amonakov", "html_url": "https://github.com/amonakov", "followers_url": "https://api.github.com/users/amonakov/followers", "following_url": "https://api.github.com/users/amonakov/following{/other_user}", "gists_url": "https://api.github.com/users/amonakov/gists{/gist_id}", "starred_url": "https://api.github.com/users/amonakov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amonakov/subscriptions", "organizations_url": "https://api.github.com/users/amonakov/orgs", "repos_url": "https://api.github.com/users/amonakov/repos", "events_url": "https://api.github.com/users/amonakov/events{/privacy}", "received_events_url": "https://api.github.com/users/amonakov/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "65b659ff8ae470763e003887546bd7c5cb5d39a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65b659ff8ae470763e003887546bd7c5cb5d39a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/65b659ff8ae470763e003887546bd7c5cb5d39a7"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "4341b94100e91deb4dd4747bb86cf6808760d762", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7898b93b5770c3881bf769a3cec86cc3e0d37fda/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7898b93b5770c3881bf769a3cec86cc3e0d37fda/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7898b93b5770c3881bf769a3cec86cc3e0d37fda", "patch": "@@ -1,3 +1,8 @@\n+2010-01-14  Alexander Monakov  <amonakov@ispras.ru>\n+\n+\t* sel-sched-ir.c (sel_restore_other_notes): Rename to sel_restore_notes.\n+\tUpdate all callers.  Call reemit_notes for all insns.\n+\n 2010-01-14  Andrey Belevantsev  <abel@ispras.ru>\n \n \tPR rtl-optimization/42246"}, {"sha": "29ce554c3f1460ffea72aa69c2be11f4accec244", "filename": "gcc/sel-sched-ir.c", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7898b93b5770c3881bf769a3cec86cc3e0d37fda/gcc%2Fsel-sched-ir.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7898b93b5770c3881bf769a3cec86cc3e0d37fda/gcc%2Fsel-sched-ir.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsel-sched-ir.c?ref=7898b93b5770c3881bf769a3cec86cc3e0d37fda", "patch": "@@ -4417,11 +4417,12 @@ sel_init_bbs (bb_vec_t bbs, basic_block bb)\n   sched_scan (&ssi, bbs, bb, new_insns, NULL);\n }\n \n-/* Restore other notes for the whole region.  */\n+/* Restore notes for the whole region.  */\n static void\n-sel_restore_other_notes (void)\n+sel_restore_notes (void)\n {\n   int bb;\n+  insn_t insn;\n \n   for (bb = 0; bb < current_nr_blocks; bb++)\n     {\n@@ -4436,6 +4437,10 @@ sel_restore_other_notes (void)\n \t  restore_other_notes (NULL, first);\n \t  BB_NOTE_LIST (first) = NULL_RTX;\n \n+\t  FOR_BB_INSNS (first, insn)\n+\t    if (NONDEBUG_INSN_P (insn))\n+\t      reemit_notes (insn);\n+\n           first = first->next_bb;\n \t}\n       while (first != last);\n@@ -4446,7 +4451,7 @@ sel_restore_other_notes (void)\n void\n sel_finish_bbs (void)\n {\n-  sel_restore_other_notes ();\n+  sel_restore_notes ();\n \n   /* Remove current loop preheader from this loop.  */\n   if (current_loop_nest)"}]}