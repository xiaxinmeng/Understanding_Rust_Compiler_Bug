{"sha": "ec83eb53a7956e1948eeaf62b9d14babcdeda4af", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWM4M2ViNTNhNzk1NmUxOTQ4ZWVhZjYyYjlkMTRiYWJjZGVkYTRhZg==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2001-08-29T18:26:31Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2001-08-29T18:26:31Z"}, "message": "* genattrtab.c (attr_printf): Use VA_OPEN/VA_FIXEDARG/VA_CLOSE.\n\nFrom-SVN: r45274", "tree": {"sha": "258e8a05f5a72c95add5de9327fa830b67989a30", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/258e8a05f5a72c95add5de9327fa830b67989a30"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ec83eb53a7956e1948eeaf62b9d14babcdeda4af", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec83eb53a7956e1948eeaf62b9d14babcdeda4af", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec83eb53a7956e1948eeaf62b9d14babcdeda4af", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec83eb53a7956e1948eeaf62b9d14babcdeda4af/comments", "author": null, "committer": null, "parents": [{"sha": "5965bbf846ef6d761af666451ba9c214f123bd87", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5965bbf846ef6d761af666451ba9c214f123bd87", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5965bbf846ef6d761af666451ba9c214f123bd87"}], "stats": {"total": 24, "additions": 10, "deletions": 14}, "files": [{"sha": "9c1b07cba4da161d8800bf00fed61b4e01fbe049", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec83eb53a7956e1948eeaf62b9d14babcdeda4af/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec83eb53a7956e1948eeaf62b9d14babcdeda4af/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ec83eb53a7956e1948eeaf62b9d14babcdeda4af", "patch": "@@ -1,3 +1,7 @@\n+2001-08-29  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* genattrtab.c (attr_printf): Use VA_OPEN/VA_FIXEDARG/VA_CLOSE.\n+\n 2001-08-29  Kazu Hirata  <kazu@hxi.com>\n \n \t* config/h8300/h8300.md (movsi_h8300hs): Make it 64-bit safe."}, {"sha": "55d8adfced1cbc0ccbf50064491ee86bd885fe8e", "filename": "gcc/genattrtab.c", "status": "modified", "additions": 6, "deletions": 14, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec83eb53a7956e1948eeaf62b9d14babcdeda4af/gcc%2Fgenattrtab.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec83eb53a7956e1948eeaf62b9d14babcdeda4af/gcc%2Fgenattrtab.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgenattrtab.c?ref=ec83eb53a7956e1948eeaf62b9d14babcdeda4af", "patch": "@@ -744,25 +744,17 @@ attr_rtx VPARAMS ((enum rtx_code code, ...))\n char *\n attr_printf VPARAMS ((register int len, const char *fmt, ...))\n {\n-#ifndef ANSI_PROTOTYPES\n-  register int len;\n-  const char *fmt;\n-#endif\n-  va_list p;\n   char str[256];\n \n-  VA_START (p, fmt);\n-\n-#ifndef ANSI_PROTOTYPES\n-  len = va_arg (p, int);\n-  fmt = va_arg (p, const char *);\n-#endif\n-\n-  if (len > 255) /* leave room for \\0 */\n+  VA_OPEN (p, fmt);\n+  VA_FIXEDARG (p, int, len);\n+  VA_FIXEDARG (p, const char *, fmt);\n+  \n+  if (len > (sizeof(str) - 1)) /* leave room for \\0 */\n     abort ();\n \n   vsprintf (str, fmt, p);\n-  va_end (p);\n+  VA_CLOSE (p);\n \n   return attr_string (str, strlen (str));\n }"}]}