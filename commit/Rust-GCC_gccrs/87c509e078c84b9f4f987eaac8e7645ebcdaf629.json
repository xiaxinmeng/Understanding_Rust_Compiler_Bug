{"sha": "87c509e078c84b9f4f987eaac8e7645ebcdaf629", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODdjNTA5ZTA3OGM4NGI5ZjRmOTg3ZWFhYzhlNzY0NWViY2RhZjYyOQ==", "commit": {"author": {"name": "Andrew Burgess", "email": "andrew.burgess@embecosm.com", "date": "2016-04-28T16:59:18Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "2016-04-28T16:59:18Z"}, "message": "arc-common.c (arc_handle_option): Add NPS400 support, setup defaults.\n\n2016-04-28  Andrew Burgess  <andrew.burgess@embecosm.com>\n\n        * common/config/arc/arc-common.c (arc_handle_option): Add NPS400\n        support, setup defaults.\n        * config/arc/arc-opts.h (enum processor_type): Add NPS400.\n        * config/arc/arc.c (arc_init): Add NPS400 support.\n        * config/arc/arc.h (CPP_SPEC): Add NPS400 defines.\n        (TARGET_ARC700): NPS400 is also an ARC700.\n        * config/arc/arc.opt: Add NPS400 options to -mcpu=.\n\nFrom-SVN: r235584", "tree": {"sha": "2d50b77f67ae238978dc018663ab8e0676869b67", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2d50b77f67ae238978dc018663ab8e0676869b67"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/87c509e078c84b9f4f987eaac8e7645ebcdaf629", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87c509e078c84b9f4f987eaac8e7645ebcdaf629", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87c509e078c84b9f4f987eaac8e7645ebcdaf629", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87c509e078c84b9f4f987eaac8e7645ebcdaf629/comments", "author": {"login": "T-J-Teru", "id": 475372, "node_id": "MDQ6VXNlcjQ3NTM3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/T-J-Teru", "html_url": "https://github.com/T-J-Teru", "followers_url": "https://api.github.com/users/T-J-Teru/followers", "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}", "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}", "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions", "organizations_url": "https://api.github.com/users/T-J-Teru/orgs", "repos_url": "https://api.github.com/users/T-J-Teru/repos", "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}", "received_events_url": "https://api.github.com/users/T-J-Teru/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "9759608c8989c0609d79d6b600f54745588e57a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9759608c8989c0609d79d6b600f54745588e57a8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9759608c8989c0609d79d6b600f54745588e57a8"}], "stats": {"total": 31, "additions": 30, "deletions": 1}, "files": [{"sha": "e9a6664b862cfdab3e28ee29228f18e146dcbdf1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87c509e078c84b9f4f987eaac8e7645ebcdaf629/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87c509e078c84b9f4f987eaac8e7645ebcdaf629/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=87c509e078c84b9f4f987eaac8e7645ebcdaf629", "patch": "@@ -1,3 +1,13 @@\n+2016-04-28  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* common/config/arc/arc-common.c (arc_handle_option): Add NPS400\n+\tsupport, setup defaults.\n+\t* config/arc/arc-opts.h (enum processor_type): Add NPS400.\n+\t* config/arc/arc.c (arc_init): Add NPS400 support.\n+\t* config/arc/arc.h (CPP_SPEC): Add NPS400 defines.\n+\t(TARGET_ARC700): NPS400 is also an ARC700.\n+\t* config/arc/arc.opt: Add NPS400 options to -mcpu=.\n+\n 2016-04-28  Segher Boessenkool  <segher@kernel.crashing.org>\n \n \tPR target/70668"}, {"sha": "f5b9c6d3cc98296067467bfabfd966833164573e", "filename": "gcc/common/config/arc/arc-common.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87c509e078c84b9f4f987eaac8e7645ebcdaf629/gcc%2Fcommon%2Fconfig%2Farc%2Farc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87c509e078c84b9f4f987eaac8e7645ebcdaf629/gcc%2Fcommon%2Fconfig%2Farc%2Farc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon%2Fconfig%2Farc%2Farc-common.c?ref=87c509e078c84b9f4f987eaac8e7645ebcdaf629", "patch": "@@ -83,6 +83,10 @@ arc_handle_option (struct gcc_options *opts, struct gcc_options *opts_set,\n \n       switch (value)\n \t{\n+\tcase PROCESSOR_NPS400:\n+\t  if (! (opts_set->x_TARGET_CASE_VECTOR_PC_RELATIVE) )\n+\t    opts->x_TARGET_CASE_VECTOR_PC_RELATIVE = 1;\n+\t  /* Fall through */\n \tcase PROCESSOR_ARC600:\n \tcase PROCESSOR_ARC700:\n \t  if (! (opts_set->x_target_flags & MASK_BARREL_SHIFTER) )"}, {"sha": "cbd78985dd8bbbc5fb53c24200633e724af1ed1c", "filename": "gcc/config/arc/arc-opts.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87c509e078c84b9f4f987eaac8e7645ebcdaf629/gcc%2Fconfig%2Farc%2Farc-opts.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87c509e078c84b9f4f987eaac8e7645ebcdaf629/gcc%2Fconfig%2Farc%2Farc-opts.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farc%2Farc-opts.h?ref=87c509e078c84b9f4f987eaac8e7645ebcdaf629", "patch": "@@ -24,6 +24,7 @@ enum processor_type\n   PROCESSOR_ARC600,\n   PROCESSOR_ARC601,\n   PROCESSOR_ARC700,\n+  PROCESSOR_NPS400,\n   PROCESSOR_ARCEM,\n   PROCESSOR_ARCHS\n };"}, {"sha": "e3744b8c971e0f510b5478bb302b599419feb43d", "filename": "gcc/config/arc/arc.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87c509e078c84b9f4f987eaac8e7645ebcdaf629/gcc%2Fconfig%2Farc%2Farc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87c509e078c84b9f4f987eaac8e7645ebcdaf629/gcc%2Fconfig%2Farc%2Farc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farc%2Farc.c?ref=87c509e078c84b9f4f987eaac8e7645ebcdaf629", "patch": "@@ -690,6 +690,11 @@ arc_init (void)\n       tune_dflt = TUNE_ARC700_4_2_STD;\n       break;\n \n+    case PROCESSOR_NPS400:\n+      arc_cpu_string = \"NPS400\";\n+      tune_dflt = TUNE_ARC700_4_2_STD;\n+      break;\n+\n     case PROCESSOR_ARCEM:\n       arc_cpu_string = \"EM\";\n       break;"}, {"sha": "b14352c3e2622fe0950941539501a413cd666628", "filename": "gcc/config/arc/arc.h", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87c509e078c84b9f4f987eaac8e7645ebcdaf629/gcc%2Fconfig%2Farc%2Farc.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87c509e078c84b9f4f987eaac8e7645ebcdaf629/gcc%2Fconfig%2Farc%2Farc.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farc%2Farc.h?ref=87c509e078c84b9f4f987eaac8e7645ebcdaf629", "patch": "@@ -138,6 +138,8 @@ along with GCC; see the file COPYING3.  If not see\n %{mdsp-packa:-D__Xdsp_packa} %{mcrc:-D__Xcrc} %{mdvbf:-D__Xdvbf} \\\n %{mtelephony:-D__Xtelephony} %{mxy:-D__Xxy} %{mmul64: -D__Xmult32} \\\n %{mlock:-D__Xlock} %{mswape:-D__Xswape} %{mrtsc:-D__Xrtsc} \\\n+%{mcpu=NPS400:-D__NPS400__} \\\n+%{mcpu=nps400:-D__NPS400__} \\\n \"\n \n #define CC1_SPEC \"\\\n@@ -305,7 +307,8 @@ along with GCC; see the file COPYING3.  If not see\n \n #define TARGET_ARC600 (arc_cpu == PROCESSOR_ARC600)\n #define TARGET_ARC601 (arc_cpu == PROCESSOR_ARC601)\n-#define TARGET_ARC700 (arc_cpu == PROCESSOR_ARC700)\n+#define TARGET_ARC700 (arc_cpu == PROCESSOR_ARC700\t\\\n+\t\t       || arc_cpu == PROCESSOR_NPS400)\n #define TARGET_EM     (arc_cpu == PROCESSOR_ARCEM)\n #define TARGET_HS     (arc_cpu == PROCESSOR_ARCHS)\n #define TARGET_V2\t\t\t\t\t\t\t\\"}, {"sha": "45bb6a6167d3f8bd61cfeb666c23266e24de428d", "filename": "gcc/config/arc/arc.opt", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87c509e078c84b9f4f987eaac8e7645ebcdaf629/gcc%2Fconfig%2Farc%2Farc.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87c509e078c84b9f4f987eaac8e7645ebcdaf629/gcc%2Fconfig%2Farc%2Farc.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farc%2Farc.opt?ref=87c509e078c84b9f4f987eaac8e7645ebcdaf629", "patch": "@@ -188,6 +188,12 @@ Enum(processor_type) String(ARC700) Value(PROCESSOR_ARC700)\n EnumValue\n Enum(processor_type) String(arc700) Value(PROCESSOR_ARC700)\n \n+EnumValue\n+Enum(processor_type) String(nps400) Value(PROCESSOR_NPS400)\n+\n+EnumValue\n+Enum(processor_type) String(NPS400) Value(PROCESSOR_NPS400)\n+\n EnumValue\n Enum(processor_type) String(ARCEM) Value(PROCESSOR_ARCEM)\n "}]}