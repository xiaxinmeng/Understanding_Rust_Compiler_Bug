{"sha": "9747e84add3340a5be5ba3efcc3d2c75377dd5f8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTc0N2U4NGFkZDMzNDBhNWJlNWJhM2VmY2MzZDJjNzUzNzdkZDVmOA==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1999-03-24T02:41:55Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1999-03-24T02:41:55Z"}, "message": "decl.c (lookup_name_real): Do nested field lookup regardless of TYPE_BEING_DEFINED.\n\n\t* decl.c (lookup_name_real): Do nested field lookup regardless of\n\tTYPE_BEING_DEFINED.\n\nFrom-SVN: r25943", "tree": {"sha": "296069b8e4f47da911e6a64f0a6d3a9dac99d3e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/296069b8e4f47da911e6a64f0a6d3a9dac99d3e7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9747e84add3340a5be5ba3efcc3d2c75377dd5f8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9747e84add3340a5be5ba3efcc3d2c75377dd5f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9747e84add3340a5be5ba3efcc3d2c75377dd5f8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9747e84add3340a5be5ba3efcc3d2c75377dd5f8/comments", "author": null, "committer": null, "parents": [{"sha": "2ced0b14a9235e886f415fd3f2cf312ec3734ab0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ced0b14a9235e886f415fd3f2cf312ec3734ab0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ced0b14a9235e886f415fd3f2cf312ec3734ab0"}], "stats": {"total": 18, "additions": 11, "deletions": 7}, "files": [{"sha": "4a28e4b8ed1c9f7b99d3026874ef22987240fdab", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9747e84add3340a5be5ba3efcc3d2c75377dd5f8/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9747e84add3340a5be5ba3efcc3d2c75377dd5f8/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=9747e84add3340a5be5ba3efcc3d2c75377dd5f8", "patch": "@@ -1,3 +1,8 @@\n+1999-03-24  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* decl.c (lookup_name_real): Do nested field lookup regardless of\n+\tTYPE_BEING_DEFINED.\n+\n 1999-03-24  Mark Mitchell  <mark@codesourcery.com>\n \n \t* cp-tree.h (lang_type): Remove has_assignment and"}, {"sha": "6779045203a36e3f8cc8736011b01ab4c70c27a5", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 6, "deletions": 7, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9747e84add3340a5be5ba3efcc3d2c75377dd5f8/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9747e84add3340a5be5ba3efcc3d2c75377dd5f8/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=9747e84add3340a5be5ba3efcc3d2c75377dd5f8", "patch": "@@ -5503,13 +5503,12 @@ lookup_name_real (name, prefer_type, nonclass, namespaces_only)\n      classes explicitly.  */\n   if (!val && !nonclass \n       && current_class_type && TYPE_BEING_DEFINED (current_class_type))\n-    {\n-      val = qualify_lookup (lookup_field (current_class_type, name, 0, 0),\n-\t\t\t    flags);\n-      if (!val)\n-\tval = qualify_lookup (lookup_nested_field (name, !yylex),\n-\t\t\t      flags);\n-    }\n+    val = qualify_lookup (lookup_field (current_class_type, name, 0, 0),\n+\t\t\t  flags);\n+\n+  /* The name might be from an enclosing class of the current scope.  */\n+  if (!val && !nonclass && current_class_type)\n+    val = qualify_lookup (lookup_nested_field (name, !yylex), flags);\n   \n   /* If we found a type from a dependent base class (using the\n      implicit typename extension) make sure that there's not some"}]}