{"sha": "b93a9a15ee1975ab5aafad34748dec06a74a161d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjkzYTlhMTVlZTE5NzVhYjVhYWZhZDM0NzQ4ZGVjMDZhNzRhMTYxZA==", "commit": {"author": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2017-02-20T14:17:42Z"}, "committer": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2017-02-20T14:17:42Z"}, "message": "re PR fortran/79599 (typo in diagnostic gfc_error (\"DTIO dummy argument at %L be a scalar\")\n\n2017-02-20  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/79599\n\t* interface.c (check_dtio_arg_TKR_intent): Supply 'must'\n\tmissing from error message.\n\n2017-02-20  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/79523\n\t* interface.c (gfc_find_typebound_dtio_proc): Guard test for\n\tflavor attribute by checking that symbol is resolved.\n\nFrom-SVN: r245603", "tree": {"sha": "8bbdbe2e19cce1d964e582a0ca0b4bede3717c98", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8bbdbe2e19cce1d964e582a0ca0b4bede3717c98"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b93a9a15ee1975ab5aafad34748dec06a74a161d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b93a9a15ee1975ab5aafad34748dec06a74a161d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b93a9a15ee1975ab5aafad34748dec06a74a161d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b93a9a15ee1975ab5aafad34748dec06a74a161d/comments", "author": null, "committer": null, "parents": [{"sha": "705d3b776dbf4f447230e6dce2271eec219c89af", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/705d3b776dbf4f447230e6dce2271eec219c89af", "html_url": "https://github.com/Rust-GCC/gccrs/commit/705d3b776dbf4f447230e6dce2271eec219c89af"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "bd4d971b212a931a90091ccb6071d9b710e6e440", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b93a9a15ee1975ab5aafad34748dec06a74a161d/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b93a9a15ee1975ab5aafad34748dec06a74a161d/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=b93a9a15ee1975ab5aafad34748dec06a74a161d", "patch": "@@ -1,3 +1,15 @@\n+2017-02-20  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/79599\n+\t* interface.c (check_dtio_arg_TKR_intent): Supply 'must'\n+\tmissing from error message.\n+\n+2017-02-20  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/79523\n+\t* interface.c (gfc_find_typebound_dtio_proc): Guard test for\n+\tflavor attribute by checking that symbol is resolved.\n+\n 2017-02-16  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/79382"}, {"sha": "53701f2e6ef3c7335b127d04ceaed748c061119a", "filename": "gcc/fortran/interface.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b93a9a15ee1975ab5aafad34748dec06a74a161d/gcc%2Ffortran%2Finterface.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b93a9a15ee1975ab5aafad34748dec06a74a161d/gcc%2Ffortran%2Finterface.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Finterface.c?ref=b93a9a15ee1975ab5aafad34748dec06a74a161d", "patch": "@@ -4615,7 +4615,7 @@ check_dtio_arg_TKR_intent (gfc_symbol *fsym, bool typebound, bt type,\n       && rank == 0\n       && (((type == BT_CLASS) && CLASS_DATA (fsym)->attr.dimension)\n \t  || ((type != BT_CLASS) && fsym->attr.dimension)))\n-    gfc_error (\"DTIO dummy argument at %L be a scalar\",\n+    gfc_error (\"DTIO dummy argument at %L must be a scalar\",\n \t       &fsym->declared_at);\n   else if (rank == 1\n \t   && (fsym->as == NULL || fsym->as->type != AS_ASSUMED_SHAPE))\n@@ -4829,7 +4829,7 @@ gfc_find_typebound_dtio_proc (gfc_symbol *derived, bool write, bool formatted)\n   gfc_symtree *tb_io_st = NULL;\n   bool t = false;\n \n-  if (!derived || derived->attr.flavor != FL_DERIVED)\n+  if (!derived || !derived->resolved || derived->attr.flavor != FL_DERIVED)\n     return NULL;\n \n   /* Try to find a typebound DTIO binding.  */"}]}