{"sha": "bf4563cbf170034779fe9a493eb0c752372fc6f7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmY0NTYzY2JmMTcwMDM0Nzc5ZmU5YTQ5M2ViMGM3NTIzNzJmYzZmNw==", "commit": {"author": {"name": "Gunther Nikl", "email": "gni@gecko.de", "date": "2003-08-20T22:15:57Z"}, "committer": {"name": "Bernardo Innocenti", "email": "bernie@gcc.gnu.org", "date": "2003-08-20T22:15:57Z"}, "message": "m68k.md (anonymous define_insn): remove obsolete code selected by FSGLMUL_USE_S and FSGLDIV_USE_S\n\n\t* config/m68k/m68k.md (anonymous define_insn): remove obsolete code\n\tselected by FSGLMUL_USE_S and FSGLDIV_USE_S\n\t* config/m68k/m68k.c (output_move_himode): remove SGS_NO_LI check\n\t* config/m68k/m68k.md (anonymous define_insn): Likewise\n\t* config/m68k/m68k.md (anonymous define_insn): remove ISI_OV check\n\t* config/m68k/m68k.c (standard_68881_constant_p): remove obsolete\n\tcode selected by NO_ASM_FMOVECR\n\nFrom-SVN: r70622", "tree": {"sha": "34a2358230bde8362a5a5e9557b8b4915534e4a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/34a2358230bde8362a5a5e9557b8b4915534e4a7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bf4563cbf170034779fe9a493eb0c752372fc6f7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf4563cbf170034779fe9a493eb0c752372fc6f7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bf4563cbf170034779fe9a493eb0c752372fc6f7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf4563cbf170034779fe9a493eb0c752372fc6f7/comments", "author": null, "committer": null, "parents": [{"sha": "0fb8241d3758aeb61a9fabce99fb888dbbe7afd8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0fb8241d3758aeb61a9fabce99fb888dbbe7afd8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0fb8241d3758aeb61a9fabce99fb888dbbe7afd8"}], "stats": {"total": 37, "additions": 10, "deletions": 27}, "files": [{"sha": "a93e264a6dc2bd01527feef91e8a55cbe90f8aa0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf4563cbf170034779fe9a493eb0c752372fc6f7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf4563cbf170034779fe9a493eb0c752372fc6f7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bf4563cbf170034779fe9a493eb0c752372fc6f7", "patch": "@@ -1,3 +1,13 @@\n+2003-08-20  Gunther Nikl  <gni@gecko.de>\n+\n+\t* config/m68k/m68k.md (anonymous define_insn): remove obsolete code\n+\tselected by FSGLMUL_USE_S and FSGLDIV_USE_S\n+\t* config/m68k/m68k.c (output_move_himode): remove SGS_NO_LI check\n+\t* config/m68k/m68k.md (anonymous define_insn): Likewise\n+\t* config/m68k/m68k.md (anonymous define_insn): remove ISI_OV check\n+\t* config/m68k/m68k.c (standard_68881_constant_p): remove obsolete\n+\tcode selected by NO_ASM_FMOVECR\n+\n 2003-08-20  Gunther Nikl  <gni@gecko.de>\n \n \t* config/m68k/m68k.c (output_move_const_into_data_reg,"}, {"sha": "40166e3e3494b20bccb3a607ea11a2e1afecdd55", "filename": "gcc/config/m68k/m68k.c", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf4563cbf170034779fe9a493eb0c752372fc6f7/gcc%2Fconfig%2Fm68k%2Fm68k.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf4563cbf170034779fe9a493eb0c752372fc6f7/gcc%2Fconfig%2Fm68k%2Fm68k.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.c?ref=bf4563cbf170034779fe9a493eb0c752372fc6f7", "patch": "@@ -1705,7 +1705,6 @@ output_move_himode (operands)\n     }\n   else if (CONSTANT_P (operands[1]))\n     return \"move%.l %1,%0\";\n-#ifndef SGS_NO_LI\n   /* Recognize the insn before a tablejump, one that refers\n      to a table of offsets.  Such an insn will need to refer\n      to a label on the insn.  So output one.  Use the label-number\n@@ -1736,7 +1735,6 @@ output_move_himode (operands)\n #endif /* SGS_SWITCH_TABLES */\n #endif /* SGS_SWITCH_TABLES or not MOTOROLA */\n     }\n-#endif /* SGS_NO_LI */\n   return \"move%.w %1,%0\";\n }\n \n@@ -2513,10 +2511,6 @@ standard_68881_constant_p (x)\n   REAL_VALUE_TYPE r;\n   int i;\n \n-#ifdef NO_ASM_FMOVECR\n-  return 0;\n-#endif\n-\n   /* fmovecr must be emulated on the 68040 and 68060, so it shouldn't be\n      used at all on those chips.  */\n   if (TARGET_68040 || TARGET_68060)"}, {"sha": "703a8954aa93ba3c105315690abd31079c62adc2", "filename": "gcc/config/m68k/m68k.md", "status": "modified", "additions": 0, "deletions": 21, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf4563cbf170034779fe9a493eb0c752372fc6f7/gcc%2Fconfig%2Fm68k%2Fm68k.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf4563cbf170034779fe9a493eb0c752372fc6f7/gcc%2Fconfig%2Fm68k%2Fm68k.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.md?ref=bf4563cbf170034779fe9a493eb0c752372fc6f7", "patch": "@@ -199,12 +199,7 @@\n   \"\"\n   \"*\n {\n-#ifdef ISI_OV\n-  /* ISI's assembler fails to handle tstl a0.  */\n-  if (! ADDRESS_REG_P (operands[0]))\n-#else\n   if (TARGET_68020 || TARGET_5200 || ! ADDRESS_REG_P (operands[0]))\n-#endif\n     return \\\"tst%.l %0\\\";\n   /* If you think that the 68020 does not support tstl a0,\n      reread page B-167 of the 68020 manual more carefully.  */\n@@ -3018,17 +3013,10 @@\n   \"TARGET_68881\"\n   \"*\n {\n-#ifdef FSGLMUL_USE_S\n-  if (REG_P (operands[2]) && ! DATA_REG_P (operands[2]))\n-    return (TARGET_68040_ONLY\n-\t    ? \\\"fsmul%.s %2,%0\\\"\n-\t    : \\\"fsglmul%.s %2,%0\\\");\n-#else\n   if (REG_P (operands[2]) && ! DATA_REG_P (operands[2]))\n     return (TARGET_68040_ONLY\n \t    ? \\\"fsmul%.x %2,%0\\\"\n \t    : \\\"fsglmul%.x %2,%0\\\");\n-#endif\n   return (TARGET_68040_ONLY\n \t  ? \\\"fsmul%.s %f2,%0\\\"\n \t  : \\\"fsglmul%.s %f2,%0\\\");\n@@ -3126,17 +3114,10 @@\n   \"TARGET_68881\"\n   \"*\n {\n-#ifdef FSGLDIV_USE_S\n-  if (REG_P (operands[2]) && ! DATA_REG_P (operands[2]))\n-    return (TARGET_68040_ONLY\n-\t    ? \\\"fsdiv%.s %2,%0\\\"\n-\t    : \\\"fsgldiv%.s %2,%0\\\");\n-#else\n   if (REG_P (operands[2]) && ! DATA_REG_P (operands[2]))\n     return (TARGET_68040_ONLY\n \t    ? \\\"fsdiv%.x %2,%0\\\"\n \t    : \\\"fsgldiv%.x %2,%0\\\");\n-#endif\n   return (TARGET_68040_ONLY\n \t  ? \\\"fsdiv%.s %f2,%0\\\"\n \t  : \\\"fsgldiv%.s %f2,%0\\\");\n@@ -6997,7 +6978,6 @@\n   \"\"\n   \"*\n {\n-#ifndef SGS_NO_LI\n   /* Recognize an insn that refers to a table of offsets.  Such an insn will\n      need to refer to a label on the insn.  So output one.  Use the\n      label-number of the table of offsets to generate this label.  This code,\n@@ -7026,7 +7006,6 @@\n #endif /* SGS_SWITCH_TABLES */\n #endif /* SGS_SWITCH_TABLES or not MOTOROLA */\n     }\n-#endif /* SGS_NO_LI */\n \n   return \\\"lea %a1,%0\\\";\n }\")"}]}