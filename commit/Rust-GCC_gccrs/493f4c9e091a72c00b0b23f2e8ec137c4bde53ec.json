{"sha": "493f4c9e091a72c00b0b23f2e8ec137c4bde53ec", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDkzZjRjOWUwOTFhNzJjMDBiMGIyM2YyZThlYzEzN2M0YmRlNTNlYw==", "commit": {"author": {"name": "Bill Schmidt", "email": "wschmidt@vnet.linux.ibm.com", "date": "2013-07-24T13:17:31Z"}, "committer": {"name": "William Schmidt", "email": "wschmidt@gcc.gnu.org", "date": "2013-07-24T13:17:31Z"}, "message": "vector.md (vec_realign_load_<mode>): Reorder input operands to vperm for little endian.\n\n2013-07-24  Bill Schmidt  <wschmidt@vnet.linux.ibm.com>\n\t    Anton Blanchard <anton@au1.ibm.com>\n\n\t* vector.md (vec_realign_load_<mode>): Reorder input operands to\n\tvperm for little endian.\n\t* rs6000.c (rs6000_expand_builtin): Use lvsr instead of lvsl to\n\tcreate the control mask for a vperm for little endian.\n\n\nCo-Authored-By: Anton Blanchard <anton@au1.ibm.com>\n\nFrom-SVN: r201208", "tree": {"sha": "78707a88fbda6d08a6211455fc74bb438ff907f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/78707a88fbda6d08a6211455fc74bb438ff907f2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/493f4c9e091a72c00b0b23f2e8ec137c4bde53ec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/493f4c9e091a72c00b0b23f2e8ec137c4bde53ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/493f4c9e091a72c00b0b23f2e8ec137c4bde53ec", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/493f4c9e091a72c00b0b23f2e8ec137c4bde53ec/comments", "author": null, "committer": null, "parents": [{"sha": "017e07a1184c93792a0099b8ec1e242351ebe451", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/017e07a1184c93792a0099b8ec1e242351ebe451", "html_url": "https://github.com/Rust-GCC/gccrs/commit/017e07a1184c93792a0099b8ec1e242351ebe451"}], "stats": {"total": 19, "additions": 16, "deletions": 3}, "files": [{"sha": "11a48301cb1ce9493ce3a551387e012cd020e249", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/493f4c9e091a72c00b0b23f2e8ec137c4bde53ec/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/493f4c9e091a72c00b0b23f2e8ec137c4bde53ec/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=493f4c9e091a72c00b0b23f2e8ec137c4bde53ec", "patch": "@@ -1,3 +1,11 @@\n+2013-07-24  Bill Schmidt  <wschmidt@vnet.linux.ibm.com>\n+\t    Anton Blanchard <anton@au1.ibm.com>\n+\n+\t* vector.md (vec_realign_load_<mode>): Reorder input operands to\n+\tvperm for little endian.\n+\t* rs6000.c (rs6000_expand_builtin): Use lvsr instead of lvsl to\n+\tcreate the control mask for a vperm for little endian.\n+\n 2013-07-23  Bill Schmidt  <wschmidt@linux.vnet.ibm.com>\n \t    Anton Blanchard <anton@au1.ibm.com>\n "}, {"sha": "8b939d8e8269d80d9738b4057300d06eaa39fb45", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/493f4c9e091a72c00b0b23f2e8ec137c4bde53ec/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/493f4c9e091a72c00b0b23f2e8ec137c4bde53ec/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=493f4c9e091a72c00b0b23f2e8ec137c4bde53ec", "patch": "@@ -12351,7 +12351,8 @@ rs6000_expand_builtin (tree exp, rtx target, rtx subtarget ATTRIBUTE_UNUSED,\n     case ALTIVEC_BUILTIN_MASK_FOR_LOAD:\n     case ALTIVEC_BUILTIN_MASK_FOR_STORE:\n       {\n-\tint icode = (int) CODE_FOR_altivec_lvsr;\n+\tint icode = (BYTES_BIG_ENDIAN ? (int) CODE_FOR_altivec_lvsr\n+\t\t     : (int) CODE_FOR_altivec_lvsl);\n \tenum machine_mode tmode = insn_data[icode].operand[0].mode;\n \tenum machine_mode mode = insn_data[icode].operand[1].mode;\n \ttree arg;"}, {"sha": "3faa7983aa880c71e2c80e7c2b854ddb9ed98492", "filename": "gcc/config/rs6000/vector.md", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/493f4c9e091a72c00b0b23f2e8ec137c4bde53ec/gcc%2Fconfig%2Frs6000%2Fvector.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/493f4c9e091a72c00b0b23f2e8ec137c4bde53ec/gcc%2Fconfig%2Frs6000%2Fvector.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fvector.md?ref=493f4c9e091a72c00b0b23f2e8ec137c4bde53ec", "patch": "@@ -936,8 +936,12 @@\n    (match_operand:V16QI 3 \"vlogical_operand\" \"\")]\n   \"VECTOR_MEM_ALTIVEC_OR_VSX_P (<MODE>mode)\"\n {\n-  emit_insn (gen_altivec_vperm_<mode> (operands[0], operands[1], operands[2],\n-\t\t\t\t       operands[3]));\n+  if (BYTES_BIG_ENDIAN)\n+    emit_insn (gen_altivec_vperm_<mode> (operands[0], operands[1],\n+    \t      \t\t\t\t operands[2], operands[3]));\n+  else\n+    emit_insn (gen_altivec_vperm_<mode> (operands[0], operands[2],\n+    \t      \t\t\t\t operands[1], operands[3]));\n   DONE;\n })\n "}]}