{"sha": "284c00e2109c4170bd8fd6f5a6d5e2b3ba7a8d4f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjg0YzAwZTIxMDljNDE3MGJkOGZkNmY1YTZkNWUyYjNiYTdhOGQ0Zg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-02-01T15:00:46Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-02-01T15:00:46Z"}, "message": "compiler: support alias to pointer type as receiver in method declaration\n    \n    Fixes golang/go#27994.\n    \n    Reviewed-on: https://go-review.googlesource.com/c/160459\n\nFrom-SVN: r268450", "tree": {"sha": "c4992f6dab5b24992aeeae1991ce0ef42a287d1f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c4992f6dab5b24992aeeae1991ce0ef42a287d1f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/284c00e2109c4170bd8fd6f5a6d5e2b3ba7a8d4f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/284c00e2109c4170bd8fd6f5a6d5e2b3ba7a8d4f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/284c00e2109c4170bd8fd6f5a6d5e2b3ba7a8d4f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/284c00e2109c4170bd8fd6f5a6d5e2b3ba7a8d4f/comments", "author": null, "committer": null, "parents": [{"sha": "577d65881ef0f90c790093a7e05cc28a14a45a26", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/577d65881ef0f90c790093a7e05cc28a14a45a26", "html_url": "https://github.com/Rust-GCC/gccrs/commit/577d65881ef0f90c790093a7e05cc28a14a45a26"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "b3f7c1be4810ff8f7eeefd8874f5d14118b246b8", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/284c00e2109c4170bd8fd6f5a6d5e2b3ba7a8d4f/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/284c00e2109c4170bd8fd6f5a6d5e2b3ba7a8d4f/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=284c00e2109c4170bd8fd6f5a6d5e2b3ba7a8d4f", "patch": "@@ -1,4 +1,4 @@\n-2206f40fc1e0e1e2ba3eacb7388dd26b72729bde\n+cbcc538adc5177778da5788d1101e16f106a1514\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "6e1f1afb80de6e2f61c6a3adb34e353e9bed13f4", "filename": "gcc/go/gofrontend/gogo.cc", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/284c00e2109c4170bd8fd6f5a6d5e2b3ba7a8d4f/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/284c00e2109c4170bd8fd6f5a6d5e2b3ba7a8d4f/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fgogo.cc?ref=284c00e2109c4170bd8fd6f5a6d5e2b3ba7a8d4f", "patch": "@@ -2096,12 +2096,20 @@ Gogo::declare_function(const std::string& name, Function_type* type,\n       // declarations.\n       Type* rtype = type->receiver()->type();\n \n+      while (rtype->named_type() != NULL\n+\t  && rtype->named_type()->is_alias())\n+\trtype = rtype->named_type()->real_type()->forwarded();\n+\n       // We want to look through the pointer created by the\n       // parser, without getting an error if the type is not yet\n       // defined.\n       if (rtype->classification() == Type::TYPE_POINTER)\n \trtype = rtype->points_to();\n \n+      while (rtype->named_type() != NULL\n+\t  && rtype->named_type()->is_alias())\n+\trtype = rtype->named_type()->real_type()->forwarded();\n+\n       if (rtype->is_error_type())\n \treturn NULL;\n       else if (rtype->named_type() != NULL)"}]}