{"sha": "f58101cf288f731c7ca5598d14254940cd8d0e8a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjU4MTAxY2YyODhmNzMxYzdjYTU1OThkMTQyNTQ5NDBjZDhkMGU4YQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2015-12-04T18:25:54Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2015-12-04T18:25:54Z"}, "message": "re PR middle-end/65958 (-fstack-check breaks alloca on architectures using generic stack checking)\n\n\tPR middle-end/65958\n\t* config/arm/unspecs.md (unspec): Remove UNSPEC_PROBE_STACK_RANGE.\n\t(unspecv): Add VUNSPEC_PROBE_STACK_RANGE.\n\t* config/arm/arm.md (probe_stack_range): Adjust.\n\t* config/aarch64/aarch64.md (unspec): Remove UNSPEC_PROBE_STACK_RANGE.\n\t(unspecv): Add UNSPECV_PROBE_STACK_RANGE.\n\t(probe_stack_range_<PTR:mode>): Adjust.\n\nFrom-SVN: r231295", "tree": {"sha": "ac78085cd4b5b9083ba8297440f00e5a4e546e5b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ac78085cd4b5b9083ba8297440f00e5a4e546e5b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f58101cf288f731c7ca5598d14254940cd8d0e8a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f58101cf288f731c7ca5598d14254940cd8d0e8a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f58101cf288f731c7ca5598d14254940cd8d0e8a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f58101cf288f731c7ca5598d14254940cd8d0e8a/comments", "author": null, "committer": null, "parents": [{"sha": "f0a7c00bfe8a7e2af956eedfbdbb5cf63d28a1dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f0a7c00bfe8a7e2af956eedfbdbb5cf63d28a1dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f0a7c00bfe8a7e2af956eedfbdbb5cf63d28a1dc"}], "stats": {"total": 22, "additions": 16, "deletions": 6}, "files": [{"sha": "39420b13165fe4440dd6251a884f230ef8884eee", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f58101cf288f731c7ca5598d14254940cd8d0e8a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f58101cf288f731c7ca5598d14254940cd8d0e8a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f58101cf288f731c7ca5598d14254940cd8d0e8a", "patch": "@@ -1,3 +1,13 @@\n+2015-12-04  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\tPR middle-end/65958\n+\t* config/arm/unspecs.md (unspec): Remove UNSPEC_PROBE_STACK_RANGE.\n+\t(unspecv): Add VUNSPEC_PROBE_STACK_RANGE.\n+\t* config/arm/arm.md (probe_stack_range): Adjust.\n+\t* config/aarch64/aarch64.md (unspec): Remove UNSPEC_PROBE_STACK_RANGE.\n+\t(unspecv): Add UNSPECV_PROBE_STACK_RANGE.\n+\t(probe_stack_range_<PTR:mode>): Adjust.\n+\n 2015-12-04  David Malcolm  <dmalcolm@redhat.com>\n \n \t* convert.c (convert_to_real_1): When converting from a\n@@ -309,8 +319,8 @@\n \n 2015-12-03  Jan Hubicka  <hubicka@ucw.cz>\n \n-\t* alias.c (alias_set_subset_of, alias_sets_must_conflict_p)\n-\tShort circuit for !flag_strict_aliasing\n+\t* alias.c (alias_set_subset_of, alias_sets_must_conflict_p):\n+\tAdd short circuit for !flag_strict_aliasing\n \t(get_alias_set): Remove flag_strict_aliasing check.\n \t(new_alias_set): Likewise.\n "}, {"sha": "dee757b820774c75ec814f743a071d3abcb58955", "filename": "gcc/config/aarch64/aarch64.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f58101cf288f731c7ca5598d14254940cd8d0e8a/gcc%2Fconfig%2Faarch64%2Faarch64.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f58101cf288f731c7ca5598d14254940cd8d0e8a/gcc%2Fconfig%2Faarch64%2Faarch64.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.md?ref=f58101cf288f731c7ca5598d14254940cd8d0e8a", "patch": "@@ -104,7 +104,6 @@\n     UNSPEC_MB\n     UNSPEC_NOP\n     UNSPEC_PRLG_STK\n-    UNSPEC_PROBE_STACK_RANGE\n     UNSPEC_RBIT\n     UNSPEC_SISD_NEG\n     UNSPEC_SISD_SSHL\n@@ -139,6 +138,7 @@\n     UNSPECV_GET_FPSR\t\t; Represent fetch of FPSR content.\n     UNSPECV_SET_FPSR\t\t; Represent assign of FPSR content.\n     UNSPECV_BLOCKAGE\t\t; Represent a blockage\n+    UNSPECV_PROBE_STACK_RANGE\t; Represent stack range probing.\n   ]\n )\n \n@@ -4968,7 +4968,7 @@\n   [(set (match_operand:PTR 0 \"register_operand\" \"=r\")\n \t(unspec_volatile:PTR [(match_operand:PTR 1 \"register_operand\" \"0\")\n \t\t\t      (match_operand:PTR 2 \"register_operand\" \"r\")]\n-\t\t\t       UNSPEC_PROBE_STACK_RANGE))]\n+\t\t\t       UNSPECV_PROBE_STACK_RANGE))]\n   \"\"\n {\n   return aarch64_output_probe_stack_range (operands[0], operands[2]);"}, {"sha": "a742d8f8cbba800863c4c96797682b8586010f96", "filename": "gcc/config/arm/arm.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f58101cf288f731c7ca5598d14254940cd8d0e8a/gcc%2Fconfig%2Farm%2Farm.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f58101cf288f731c7ca5598d14254940cd8d0e8a/gcc%2Fconfig%2Farm%2Farm.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.md?ref=f58101cf288f731c7ca5598d14254940cd8d0e8a", "patch": "@@ -8149,7 +8149,7 @@\n   [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n \t(unspec_volatile:SI [(match_operand:SI 1 \"register_operand\" \"0\")\n \t\t\t     (match_operand:SI 2 \"register_operand\" \"r\")]\n-\t\t\t     UNSPEC_PROBE_STACK_RANGE))]\n+\t\t\t     VUNSPEC_PROBE_STACK_RANGE))]\n   \"TARGET_32BIT\"\n {\n   return output_probe_stack_range (operands[0], operands[2]);"}, {"sha": "67acafd075fb515a848fbe968a0183e4673ab0cd", "filename": "gcc/config/arm/unspecs.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f58101cf288f731c7ca5598d14254940cd8d0e8a/gcc%2Fconfig%2Farm%2Funspecs.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f58101cf288f731c7ca5598d14254940cd8d0e8a/gcc%2Fconfig%2Farm%2Funspecs.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Funspecs.md?ref=f58101cf288f731c7ca5598d14254940cd8d0e8a", "patch": "@@ -84,7 +84,6 @@\n   UNSPEC_VRINTA         ; Represent a float to integral float rounding\n                         ; towards nearest, ties away from zero.\n   UNSPEC_PROBE_STACK    ; Probe stack memory reference\n-  UNSPEC_PROBE_STACK_RANGE ; Probe stack range\n ])\n \n (define_c_enum \"unspec\" [\n@@ -147,6 +146,7 @@\n   VUNSPEC_STL\t\t; Represent a store-register-release.\n   VUNSPEC_GET_FPSCR\t; Represent fetch of FPSCR content.\n   VUNSPEC_SET_FPSCR\t; Represent assign of FPSCR content.\n+  VUNSPEC_PROBE_STACK_RANGE ; Represent stack range probing.\n ])\n \n ;; Enumerators for NEON unspecs."}]}