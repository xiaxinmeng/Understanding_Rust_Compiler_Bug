{"sha": "28f601ff8ae7fe32f4d11b5cb7489d399bbcc24c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjhmNjAxZmY4YWU3ZmUzMmY0ZDExYjVjYjc0ODlkMzk5YmJjYzI0Yw==", "commit": {"author": {"name": "Jie Zhang", "email": "jie.zhang@analog.com", "date": "2007-05-08T12:33:23Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2007-05-08T12:33:23Z"}, "message": "bfin-protos.h (enum bfin_cpu): Add BFIN_CPU_BF534, BFIN_CPU_BF536 and BFIN_CPU_BF561.\n\n\t* config/bfin/bfin-protos.h (enum bfin_cpu): Add\n\tBFIN_CPU_BF534, BFIN_CPU_BF536 and BFIN_CPU_BF561.\n\t* config/bfin/bfin.c (bfin_handle_option): Handle\n\t-mcpu=bf534, -mcpu=bf536 and -mcpu=bf561.\n\t* config/bfin/bfin.h (TARGET_CPU_CPP_BUILTINS):\n\tSupport bf534, bf536 and bf561.\n\t* doc/invoke.texi (Blackfin Options): Document -mcpu and -msim.\n\nFrom-SVN: r124544", "tree": {"sha": "5542bb0f2ccd3df59357aeb7fbc98b2c4facc3e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5542bb0f2ccd3df59357aeb7fbc98b2c4facc3e8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/28f601ff8ae7fe32f4d11b5cb7489d399bbcc24c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28f601ff8ae7fe32f4d11b5cb7489d399bbcc24c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/28f601ff8ae7fe32f4d11b5cb7489d399bbcc24c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28f601ff8ae7fe32f4d11b5cb7489d399bbcc24c/comments", "author": {"login": "jiez-adi", "id": 103514486, "node_id": "U_kgDOBiuBdg", "avatar_url": "https://avatars.githubusercontent.com/u/103514486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiez-adi", "html_url": "https://github.com/jiez-adi", "followers_url": "https://api.github.com/users/jiez-adi/followers", "following_url": "https://api.github.com/users/jiez-adi/following{/other_user}", "gists_url": "https://api.github.com/users/jiez-adi/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiez-adi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiez-adi/subscriptions", "organizations_url": "https://api.github.com/users/jiez-adi/orgs", "repos_url": "https://api.github.com/users/jiez-adi/repos", "events_url": "https://api.github.com/users/jiez-adi/events{/privacy}", "received_events_url": "https://api.github.com/users/jiez-adi/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "fb8ffd109a098d6682e0687ee083fa1c3b80d0b4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb8ffd109a098d6682e0687ee083fa1c3b80d0b4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fb8ffd109a098d6682e0687ee083fa1c3b80d0b4"}], "stats": {"total": 61, "additions": 54, "deletions": 7}, "files": [{"sha": "18a6965e4ec2c2a8ba7c8fe729f95863a33f3f5d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f601ff8ae7fe32f4d11b5cb7489d399bbcc24c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f601ff8ae7fe32f4d11b5cb7489d399bbcc24c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=28f601ff8ae7fe32f4d11b5cb7489d399bbcc24c", "patch": "@@ -15,6 +15,14 @@\n \t(sibcall_epilogue): Likewise.\n \t(eh_return_internal): Likewise.\n \t\t\n+\t* config/bfin/bfin-protos.h (enum bfin_cpu): Add\n+\tBFIN_CPU_BF534, BFIN_CPU_BF536 and BFIN_CPU_BF561.\n+\t* config/bfin/bfin.c (bfin_handle_option): Handle\n+\t-mcpu=bf534, -mcpu=bf536 and -mcpu=bf561.\n+\t* config/bfin/bfin.h (TARGET_CPU_CPP_BUILTINS):\n+\tSupport bf534, bf536 and bf561.\n+\t* doc/invoke.texi (Blackfin Options): Document -mcpu and -msim.\n+\n 2007-05-08  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR target/31854"}, {"sha": "9495530bbcfb4d6e35c173160608771d2386fa78", "filename": "gcc/config/bfin/bfin-protos.h", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f601ff8ae7fe32f4d11b5cb7489d399bbcc24c/gcc%2Fconfig%2Fbfin%2Fbfin-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f601ff8ae7fe32f4d11b5cb7489d399bbcc24c/gcc%2Fconfig%2Fbfin%2Fbfin-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fbfin%2Fbfin-protos.h?ref=28f601ff8ae7fe32f4d11b5cb7489d399bbcc24c", "patch": "@@ -29,7 +29,10 @@ typedef enum bfin_cpu\n   BFIN_CPU_BF531,\n   BFIN_CPU_BF532,\n   BFIN_CPU_BF533,\n-  BFIN_CPU_BF537\n+  BFIN_CPU_BF534,\n+  BFIN_CPU_BF536,\n+  BFIN_CPU_BF537,\n+  BFIN_CPU_BF561\n } bfin_cpu_t;\n \n /* Value of -mcpu= */"}, {"sha": "a91e488f58a46e1ffe8822d894147becdffd3953", "filename": "gcc/config/bfin/bfin.c", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f601ff8ae7fe32f4d11b5cb7489d399bbcc24c/gcc%2Fconfig%2Fbfin%2Fbfin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f601ff8ae7fe32f4d11b5cb7489d399bbcc24c/gcc%2Fconfig%2Fbfin%2Fbfin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fbfin%2Fbfin.c?ref=28f601ff8ae7fe32f4d11b5cb7489d399bbcc24c", "patch": "@@ -2119,8 +2119,17 @@ bfin_handle_option (size_t code, const char *arg, int value)\n \tbfin_cpu_type = BFIN_CPU_BF532;\n       else if (strcmp (arg, \"bf533\") == 0)\n \tbfin_cpu_type = BFIN_CPU_BF533;\n+      else if (strcmp (arg, \"bf534\") == 0)\n+\tbfin_cpu_type = BFIN_CPU_BF534;\n+      else if (strcmp (arg, \"bf536\") == 0)\n+\tbfin_cpu_type = BFIN_CPU_BF536;\n       else if (strcmp (arg, \"bf537\") == 0)\n \tbfin_cpu_type = BFIN_CPU_BF537;\n+      else if (strcmp (arg, \"bf561\") == 0)\n+\t{\n+\t  warning (0, \"bf561 support is incomplete yet.\");\n+\t  bfin_cpu_type = BFIN_CPU_BF561;\n+\t}\n       else\n \treturn false;\n       return true;"}, {"sha": "c2e75b27a434cf3b48593562208bd41951eeaece", "filename": "gcc/config/bfin/bfin.h", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f601ff8ae7fe32f4d11b5cb7489d399bbcc24c/gcc%2Fconfig%2Fbfin%2Fbfin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f601ff8ae7fe32f4d11b5cb7489d399bbcc24c/gcc%2Fconfig%2Fbfin%2Fbfin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fbfin%2Fbfin.h?ref=28f601ff8ae7fe32f4d11b5cb7489d399bbcc24c", "patch": "@@ -59,9 +59,18 @@ extern int target_flags;\n \tcase BFIN_CPU_BF533:\t\t\t\\\n \t  builtin_define (\"__ADSPBF533__\");\t\\\n \t  break;\t\t\t\t\\\n+\tcase BFIN_CPU_BF534:\t\t\t\\\n+\t  builtin_define (\"__ADSPBF534__\");\t\\\n+\t  break;\t\t\t\t\\\n+\tcase BFIN_CPU_BF536:\t\t\t\\\n+\t  builtin_define (\"__ADSPBF536__\");\t\\\n+\t  break;\t\t\t\t\\\n \tcase BFIN_CPU_BF537:\t\t\t\\\n \t  builtin_define (\"__ADSPBF537__\");\t\\\n \t  break;\t\t\t\t\\\n+\tcase BFIN_CPU_BF561:\t\t\t\\\n+\t  builtin_define (\"__ADSPBF561__\");\t\\\n+\t  break;\t\t\t\t\\\n \t}\t\t\t\t\t\\\n \t\t\t\t\t\t\\\n       if (TARGET_FDPIC)\t\t\t\t\\"}, {"sha": "9e76394146ceb8da439be0182f6f2b7e82727c11", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 24, "deletions": 6, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f601ff8ae7fe32f4d11b5cb7489d399bbcc24c/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f601ff8ae7fe32f4d11b5cb7489d399bbcc24c/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=28f601ff8ae7fe32f4d11b5cb7489d399bbcc24c", "patch": "@@ -439,12 +439,13 @@ Objective-C and Objective-C++ Dialects}.\n -mcall-prologues  -mno-tablejump  -mtiny-stack  -mint8}\n \n @emph{Blackfin Options}\n-@gccoptlist{-momit-leaf-frame-pointer -mno-omit-leaf-frame-pointer @gol\n--mspecld-anomaly -mno-specld-anomaly -mcsync-anomaly -mno-csync-anomaly @gol\n--mlow-64k  -mno-low64k  -mstack-check-l1  -mid-shared-library @gol\n--mno-id-shared-library -mshared-library-id=@var{n} @gol\n--mleaf-id-shared-library  -mno-leaf-id-shared-library @gol\n--msep-data  -mno-sep-data  -mlong-calls  -mno-long-calls}\n+@gccoptlist{-mcpu=@var{cpu}  -msim  -momit-leaf-frame-pointer @gol\n+-mno-omit-leaf-frame-pointer  -mspecld-anomaly  -mno-specld-anomaly @gol\n+-mcsync-anomaly  -mno-csync-anomaly  -mlow-64k  -mno-low64k @gol\n+-mstack-check-l1  -mid-shared-library  -mno-id-shared-library @gol\n+-mshared-library-id=@var{n}  -mleaf-id-shared-library @gol\n+-mno-leaf-id-shared-library  -msep-data  -mno-sep-data  -mlong-calls @gol\n+-mno-long-calls}\n \n @emph{CRIS Options}\n @gccoptlist{-mcpu=@var{cpu}  -march=@var{cpu}  -mtune=@var{cpu} @gol\n@@ -8349,6 +8350,23 @@ size.\n @cindex Blackfin Options\n \n @table @gcctabopt\n+@item -mcpu=@var{cpu}\n+@opindex mcpu=\n+Specifies the name of the target Blackfin processor. Currently, @var{cpu}\n+can be one of @samp{bf531}, @samp{bf532}, @samp{bf533},\n+@samp{bf534}, @samp{bf536}, @samp{bf537}, @samp{bf561}.\n+Without this option, @samp{bf532} is used as the processor by default.\n+The corresponding predefined processor macros for @var{cpu} is to\n+be defined.  For the @samp{bfin-elf} toolchain, this causes the hardware\n+BSP provided by libgloss to be linked in if @samp{-msim} is not given.\n+Support for @samp{bf561} is incomplete; only the processor macro is defined.\n+\n+@item -msim\n+@opindex msim\n+Specifies that the program will be run on the simulator.  This causes\n+the simulator BSP provided by libgloss to be linked in.  This option\n+has effect only for @samp{bfin-elf} toolchain.\n+\n @item -momit-leaf-frame-pointer\n @opindex momit-leaf-frame-pointer\n Don't keep the frame pointer in a register for leaf functions.  This"}]}