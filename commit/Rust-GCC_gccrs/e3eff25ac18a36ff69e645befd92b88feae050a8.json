{"sha": "e3eff25ac18a36ff69e645befd92b88feae050a8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTNlZmYyNWFjMThhMzZmZjY5ZTY0NWJlZmQ5MmI4OGZlYWUwNTBhOA==", "commit": {"author": {"name": "Bryce McKinlay", "email": "bryce@gcc.gnu.org", "date": "2005-04-06T17:42:23Z"}, "committer": {"name": "Bryce McKinlay", "email": "bryce@gcc.gnu.org", "date": "2005-04-06T17:42:23Z"}, "message": "natLogger.cc (getCallerStackFrame): Don't crash on NULL klass and meth values from _Jv_StackTrace::GetCallerInfo().\n\n2005-04-06  Bryce McKinlay  <mckinlay@redhat.com>\n\n\t* java/util/logging/natLogger.cc (getCallerStackFrame): Don't crash\n\ton NULL klass and meth values from _Jv_StackTrace::GetCallerInfo().\n\nFrom-SVN: r97739", "tree": {"sha": "64da2ef03a8adec3a64115e9d2837eeb5a836e68", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/64da2ef03a8adec3a64115e9d2837eeb5a836e68"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e3eff25ac18a36ff69e645befd92b88feae050a8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e3eff25ac18a36ff69e645befd92b88feae050a8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e3eff25ac18a36ff69e645befd92b88feae050a8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e3eff25ac18a36ff69e645befd92b88feae050a8/comments", "author": null, "committer": null, "parents": [{"sha": "55b12f0d74eb9fa1e9da0f0848f9615c7c20a8a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55b12f0d74eb9fa1e9da0f0848f9615c7c20a8a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/55b12f0d74eb9fa1e9da0f0848f9615c7c20a8a7"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "9343748e09d370382ca9269c755bf2482443f9ce", "filename": "libjava/ChangeLog", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e3eff25ac18a36ff69e645befd92b88feae050a8/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e3eff25ac18a36ff69e645befd92b88feae050a8/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=e3eff25ac18a36ff69e645befd92b88feae050a8", "patch": "@@ -43,7 +43,6 @@\n \tHandle error cases.  Added 'endp' argument.\n \t* include/jvm.h (_Jv_FindClassFromSignature): Updated prototype.\n \n->>>>>>> 1.3459\n 2005-04-05  Tom Tromey  <tromey@redhat.com>\n \n \t* Makefile.in: Rebuilt."}, {"sha": "5c68b1722c7b3b660e1bc4849823443dea3cecd6", "filename": "libjava/java/util/logging/natLogger.cc", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e3eff25ac18a36ff69e645befd92b88feae050a8/libjava%2Fjava%2Futil%2Flogging%2FnatLogger.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e3eff25ac18a36ff69e645befd92b88feae050a8/libjava%2Fjava%2Futil%2Flogging%2FnatLogger.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Futil%2Flogging%2FnatLogger.cc?ref=e3eff25ac18a36ff69e645befd92b88feae050a8", "patch": "@@ -34,10 +34,16 @@ java::util::logging::Logger::getCallerStackFrame ()\n   _Jv_Method *meth = NULL;\n   _Jv_StackTrace::GetCallerInfo (&Logger::class$, &klass, &meth);\n \n+  jstring meth_name = NULL;\n+  jstring klass_name = NULL;\n+  if (klass != NULL)\n+    klass_name = klass->getName();\n+  if (meth != NULL)\n+    meth_name = _Jv_NewStringUtf8Const (meth->name);\n+  \n   java::lang::StackTraceElement *e \n     = new java::lang::StackTraceElement\n-    (JvNewStringUTF (\"\"), 0, \n-     klass->getName(), _Jv_NewStringUtf8Const (meth->name), false);\n+    (JvNewStringUTF (\"\"), 0, klass_name, meth_name, false);\n \n   return e;\n }"}]}