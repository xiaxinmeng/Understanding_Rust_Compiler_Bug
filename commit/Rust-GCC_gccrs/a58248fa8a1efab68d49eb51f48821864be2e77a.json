{"sha": "a58248fa8a1efab68d49eb51f48821864be2e77a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTU4MjQ4ZmE4YTFlZmFiNjhkNDllYjUxZjQ4ODIxODY0YmUyZTc3YQ==", "commit": {"author": {"name": "H.J. Lu", "email": "hjl@gnu.org", "date": "1997-12-06T07:32:08Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-12-06T07:32:08Z"}, "message": "streambuf.cc (streambuf::~streambuf): Don't delete _lock for _IO_stdin/_IO_stdout/_IO_stderr.\n\n        * streambuf.cc (streambuf::~streambuf): Don't delete _lock\n        for _IO_stdin/_IO_stdout/_IO_stderr.\n\nFrom-SVN: r16972", "tree": {"sha": "c7997ffcc716eab50b0e84ff6357fe827a036f96", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c7997ffcc716eab50b0e84ff6357fe827a036f96"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a58248fa8a1efab68d49eb51f48821864be2e77a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a58248fa8a1efab68d49eb51f48821864be2e77a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a58248fa8a1efab68d49eb51f48821864be2e77a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a58248fa8a1efab68d49eb51f48821864be2e77a/comments", "author": null, "committer": null, "parents": [{"sha": "7211716df46060793d33a8ec61a5b952007f68e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7211716df46060793d33a8ec61a5b952007f68e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7211716df46060793d33a8ec61a5b952007f68e7"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "3e730b679dbfb22794e6eabe3a36a77de10bfaba", "filename": "libio/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a58248fa8a1efab68d49eb51f48821864be2e77a/libio%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a58248fa8a1efab68d49eb51f48821864be2e77a/libio%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libio%2FChangeLog?ref=a58248fa8a1efab68d49eb51f48821864be2e77a", "patch": "@@ -1,6 +1,11 @@\n+Fri Dec  5 16:22:15 1997  H.J. Lu  (hjl@gnu.org)\n+\n+\t* streambuf.cc (streambuf::~streambuf): Don't delete _lock\n+\tfor _IO_stdin/_IO_stdout/_IO_stderr.\n+\n Thu Nov 27 01:32:43 1997  Jeffrey A Law  (law@cygnus.com)\n \n-\t* Makefile.in (insatll): Change gxx_includedir to gcc_include_dir.\n+\t* Makefile.in (install): Change gxx_includedir to gcc_include_dir.\n \t* config.shared (gxx_includedir): Remove default definition.\n \t* config/linux.mt: Change gxx_includedir to gxx_include_dir.\n \t* config/linuxaxp1.mt: Likewise."}, {"sha": "4393cf08cfd426b82f992ba08d17a8776c5ee957", "filename": "libio/streambuf.cc", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a58248fa8a1efab68d49eb51f48821864be2e77a/libio%2Fstreambuf.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a58248fa8a1efab68d49eb51f48821864be2e77a/libio%2Fstreambuf.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libio%2Fstreambuf.cc?ref=a58248fa8a1efab68d49eb51f48821864be2e77a", "patch": "@@ -220,7 +220,8 @@ streambuf::~streambuf()\n {\n   _IO_default_finish(this,0);\n #ifdef _IO_MTSAFE_IO\n-  delete _lock;\n+  if (this != _IO_stdin && this != _IO_stdout && this != _IO_stderr)\n+    delete _lock;\n #endif\n }\n "}]}