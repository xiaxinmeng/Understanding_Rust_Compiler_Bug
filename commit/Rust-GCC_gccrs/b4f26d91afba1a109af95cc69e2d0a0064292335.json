{"sha": "b4f26d91afba1a109af95cc69e2d0a0064292335", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjRmMjZkOTFhZmJhMWExMDlhZjk1Y2M2OWUyZDBhMDA2NDI5MjMzNQ==", "commit": {"author": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2015-02-25T17:38:09Z"}, "committer": {"name": "Martin Liska", "email": "marxin@gcc.gnu.org", "date": "2015-02-25T17:38:09Z"}, "message": "ICF: Validate correctly hard register variables.\n\n\t* ipa-icf-gimple.c (func_checker::compare_variable_decl): Compare\n\thard register variables.\n\nFrom-SVN: r220985", "tree": {"sha": "2b9ecedd0a575f6e3a193a938f25ac77901653ab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2b9ecedd0a575f6e3a193a938f25ac77901653ab"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b4f26d91afba1a109af95cc69e2d0a0064292335", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4f26d91afba1a109af95cc69e2d0a0064292335", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b4f26d91afba1a109af95cc69e2d0a0064292335", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4f26d91afba1a109af95cc69e2d0a0064292335/comments", "author": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d31ac41c01b3a07479e5c0dd2b007450a03d92e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d31ac41c01b3a07479e5c0dd2b007450a03d92e0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d31ac41c01b3a07479e5c0dd2b007450a03d92e0"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "4d231c3a5ba7b456106d576939680087f90420d6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4f26d91afba1a109af95cc69e2d0a0064292335/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4f26d91afba1a109af95cc69e2d0a0064292335/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b4f26d91afba1a109af95cc69e2d0a0064292335", "patch": "@@ -1,3 +1,8 @@\n+2015-02-25  Martin Liska  <mliska@suse.cz>\n+\n+\t* ipa-icf-gimple.c (func_checker::compare_variable_decl): Compare\n+\thard register variables.\n+\n 2015-02-25  Kai Tietz  <ktietz@redhat.com>\n \n \tPR target/64212"}, {"sha": "53d2c38bc9f08e6792c96d89e4969dd1cd947565", "filename": "gcc/ipa-icf-gimple.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4f26d91afba1a109af95cc69e2d0a0064292335/gcc%2Fipa-icf-gimple.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4f26d91afba1a109af95cc69e2d0a0064292335/gcc%2Fipa-icf-gimple.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-icf-gimple.c?ref=b4f26d91afba1a109af95cc69e2d0a0064292335", "patch": "@@ -575,6 +575,13 @@ func_checker::compare_variable_decl (tree t1, tree t2)\n   if (t1 == t2)\n     return true;\n \n+  if (DECL_HARD_REGISTER (t1) != DECL_HARD_REGISTER (t2))\n+    return return_false_with_msg (\"DECL_HARD_REGISTER are different\");\n+\n+  if (DECL_HARD_REGISTER (t1)\n+      && DECL_ASSEMBLER_NAME (t1) != DECL_ASSEMBLER_NAME (t2))\n+    return return_false_with_msg (\"HARD REGISTERS are different\");\n+\n   if (TREE_CODE (t1) == VAR_DECL && (DECL_EXTERNAL (t1) || TREE_STATIC (t1)))\n     {\n       symtab_node *n1 = symtab_node::get (t1);"}]}