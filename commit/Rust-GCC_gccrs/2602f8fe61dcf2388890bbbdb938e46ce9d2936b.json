{"sha": "2602f8fe61dcf2388890bbbdb938e46ce9d2936b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjYwMmY4ZmU2MWRjZjIzODg4OTBiYmJkYjkzOGU0NmNlOWQyOTM2Yg==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@redhat.com", "date": "2011-06-20T14:40:10Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2011-06-20T14:40:10Z"}, "message": "re PR c++/49205 ([C++0x] Default constructor with pack expansion parameter not detected)\n\n\tPR c++/49205\n\t* call.c (sufficient_parms_p): Allow parameter packs too.\n\nFrom-SVN: r175214", "tree": {"sha": "74980f30878d41612c0e9099dcad2a36e7e9af6a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/74980f30878d41612c0e9099dcad2a36e7e9af6a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2602f8fe61dcf2388890bbbdb938e46ce9d2936b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2602f8fe61dcf2388890bbbdb938e46ce9d2936b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2602f8fe61dcf2388890bbbdb938e46ce9d2936b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2602f8fe61dcf2388890bbbdb938e46ce9d2936b/comments", "author": {"login": "jicama", "id": 266146, "node_id": "MDQ6VXNlcjI2NjE0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/266146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jicama", "html_url": "https://github.com/jicama", "followers_url": "https://api.github.com/users/jicama/followers", "following_url": "https://api.github.com/users/jicama/following{/other_user}", "gists_url": "https://api.github.com/users/jicama/gists{/gist_id}", "starred_url": "https://api.github.com/users/jicama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jicama/subscriptions", "organizations_url": "https://api.github.com/users/jicama/orgs", "repos_url": "https://api.github.com/users/jicama/repos", "events_url": "https://api.github.com/users/jicama/events{/privacy}", "received_events_url": "https://api.github.com/users/jicama/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "dd70e080ff7137c110f80fb43591a2d6796f1903", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd70e080ff7137c110f80fb43591a2d6796f1903", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd70e080ff7137c110f80fb43591a2d6796f1903"}], "stats": {"total": 25, "additions": 22, "deletions": 3}, "files": [{"sha": "87e5164d9b6c5a969864edb55dff6c73084e8320", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2602f8fe61dcf2388890bbbdb938e46ce9d2936b/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2602f8fe61dcf2388890bbbdb938e46ce9d2936b/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=2602f8fe61dcf2388890bbbdb938e46ce9d2936b", "patch": "@@ -1,5 +1,8 @@\n 2011-06-20  Jason Merrill  <jason@redhat.com>\n \n+\tPR c++/49205\n+\t* call.c (sufficient_parms_p): Allow parameter packs too.\n+\n \tPR c++/43321\n \t* semantics.c (describable_type): Remove.\n \t* cp-tree.h: Likewise."}, {"sha": "09d73d0c4c5a4e582099847bbc1d5bfed2a2e69d", "filename": "gcc/cp/call.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2602f8fe61dcf2388890bbbdb938e46ce9d2936b/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2602f8fe61dcf2388890bbbdb938e46ce9d2936b/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=2602f8fe61dcf2388890bbbdb938e46ce9d2936b", "patch": "@@ -534,15 +534,16 @@ null_ptr_cst_p (tree t)\n   return false;\n }\n \n-/* Returns nonzero if PARMLIST consists of only default parms and/or\n-   ellipsis.  */\n+/* Returns nonzero if PARMLIST consists of only default parms,\n+   ellipsis, and/or undeduced parameter packs.  */\n \n bool\n sufficient_parms_p (const_tree parmlist)\n {\n   for (; parmlist && parmlist != void_list_node;\n        parmlist = TREE_CHAIN (parmlist))\n-    if (!TREE_PURPOSE (parmlist))\n+    if (!TREE_PURPOSE (parmlist)\n+\t&& !PACK_EXPANSION_P (TREE_VALUE (parmlist)))\n       return false;\n   return true;\n }"}, {"sha": "abc624597dab6de6abcd60f44a4d655b63679ba3", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2602f8fe61dcf2388890bbbdb938e46ce9d2936b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2602f8fe61dcf2388890bbbdb938e46ce9d2936b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2602f8fe61dcf2388890bbbdb938e46ce9d2936b", "patch": "@@ -1,5 +1,8 @@\n 2011-06-20  Jason Merrill  <jason@redhat.com>\n \n+\tPR c++/49205\n+\t* g++.dg/cpp0x/variadic-default.C: New.\n+\n \tPR c++/43321\n \t* g++.dg/cpp0x/auto26.C: New.\n "}, {"sha": "2625e259f78137807084a41115b534c88aee7809", "filename": "gcc/testsuite/g++.dg/cpp0x/variadic-default.C", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2602f8fe61dcf2388890bbbdb938e46ce9d2936b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fvariadic-default.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2602f8fe61dcf2388890bbbdb938e46ce9d2936b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fvariadic-default.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fvariadic-default.C?ref=2602f8fe61dcf2388890bbbdb938e46ce9d2936b", "patch": "@@ -0,0 +1,12 @@\n+// PR c++/49205\n+// { dg-options -std=c++0x }\n+\n+#include <initializer_list>\n+\n+struct A {\n+  template<typename ...T> A(T...);\n+  A(std::initializer_list<short>);\n+  A(std::initializer_list<long>);\n+};\n+\n+A a{};"}]}