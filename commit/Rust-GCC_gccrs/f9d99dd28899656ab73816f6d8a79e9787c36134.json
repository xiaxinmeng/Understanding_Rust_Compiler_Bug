{"sha": "f9d99dd28899656ab73816f6d8a79e9787c36134", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjlkOTlkZDI4ODk5NjU2YWI3MzgxNmY2ZDhhNzllOTc4N2MzNjEzNA==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2000-09-22T19:10:58Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2000-09-22T19:10:58Z"}, "message": "fix\n\nFrom-SVN: r36574", "tree": {"sha": "aa9e019ab9063aae58e26867fade97bbe9e62fcf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aa9e019ab9063aae58e26867fade97bbe9e62fcf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f9d99dd28899656ab73816f6d8a79e9787c36134", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9d99dd28899656ab73816f6d8a79e9787c36134", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f9d99dd28899656ab73816f6d8a79e9787c36134", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9d99dd28899656ab73816f6d8a79e9787c36134/comments", "author": null, "committer": null, "parents": [{"sha": "f21653969f01b9142c2710cad3c4e91fa6b3fe0a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f21653969f01b9142c2710cad3c4e91fa6b3fe0a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f21653969f01b9142c2710cad3c4e91fa6b3fe0a"}], "stats": {"total": 18, "additions": 13, "deletions": 5}, "files": [{"sha": "18f0822d744de387dba7e6582a04949c14ea9256", "filename": "gcc/dbxout.c", "status": "modified", "additions": 13, "deletions": 5, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9d99dd28899656ab73816f6d8a79e9787c36134/gcc%2Fdbxout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9d99dd28899656ab73816f6d8a79e9787c36134/gcc%2Fdbxout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdbxout.c?ref=f9d99dd28899656ab73816f6d8a79e9787c36134", "patch": "@@ -2215,11 +2215,19 @@ dbxout_symbol_name (decl, suffix, letter)\n      const char *suffix;\n      int letter;\n {\n-  /* One slight hitch: if this is a VAR_DECL which is a static\n-     class member, we must put out the mangled name instead of the\n-     DECL_NAME.  Note also that static member (variable) names DO NOT begin\n-     with underscores in .stabs directives.  */\n-  const char *name = IDENTIFIER_POINTER (DECL_ASSEMBLER_NAME (decl));\n+  const char *name;\n+\n+  if (DECL_CONTEXT (decl) && TYPE_P (DECL_CONTEXT (decl)))\n+    /* One slight hitch: if this is a VAR_DECL which is a static\n+       class member, we must put out the mangled name instead of the\n+       DECL_NAME.  Note also that static member (variable) names DO NOT begin\n+       with underscores in .stabs directives.  */\n+    name = IDENTIFIER_POINTER (DECL_ASSEMBLER_NAME (decl));\n+  else\n+    /* ...but if we're function-local, we don't want to include the junk\n+       added by ASM_FORMAT_PRIVATE_NAME.  */\n+    name = IDENTIFIER_POINTER (DECL_NAME (decl));\n+\n   if (name == 0)\n     name = \"(anon)\";\n   fprintf (asmfile, \"%s \\\"%s%s:\", ASM_STABS_OP, name,"}]}