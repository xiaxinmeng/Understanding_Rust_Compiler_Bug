{"sha": "79a365a71e7f8614265378acf7b7f7b364834724", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzlhMzY1YTcxZTdmODYxNDI2NTM3OGFjZjdiN2Y3YjM2NDgzNDcyNA==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-12-30T07:29:06Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-12-30T07:29:06Z"}, "message": "(emit_reload_insns): Error instead of abort\nif an asm has a VOIDmode output operand.\n\nFrom-SVN: r2990", "tree": {"sha": "405aeb7da83a696da66f78ed27a77211be94b68f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/405aeb7da83a696da66f78ed27a77211be94b68f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/79a365a71e7f8614265378acf7b7f7b364834724", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79a365a71e7f8614265378acf7b7f7b364834724", "html_url": "https://github.com/Rust-GCC/gccrs/commit/79a365a71e7f8614265378acf7b7f7b364834724", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79a365a71e7f8614265378acf7b7f7b364834724/comments", "author": null, "committer": null, "parents": [{"sha": "5488078fdc7570059875dda453fae8da8c802aa7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5488078fdc7570059875dda453fae8da8c802aa7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5488078fdc7570059875dda453fae8da8c802aa7"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "6d66504f04a922c9b65f9c15c6aaa021468054c1", "filename": "gcc/reload1.c", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79a365a71e7f8614265378acf7b7f7b364834724/gcc%2Freload1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79a365a71e7f8614265378acf7b7f7b364834724/gcc%2Freload1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload1.c?ref=79a365a71e7f8614265378acf7b7f7b364834724", "patch": "@@ -5339,7 +5339,16 @@ emit_reload_insns (insn)\n \n \t  mode = GET_MODE (old);\n \t  if (mode == VOIDmode)\n-\t    abort ();\t\t/* Should never happen for an output.  */\n+\t    {\n+\t      /* VOIDmode should never happen for an output.  */\n+\t      if (asm_noperands (PATTERN (insn)) < 0)\n+\t\t/* It's the compiler's fault.  */\n+\t\tabort ();\n+\t      error_for_asm (insn, \"output operand is constant in `asm'\");\n+\t      /* Prevent crash--use something we know is valid.  */\n+\t      mode = word_mode;\n+\t      old = gen_rtx (REG, mode, REGNO (reloadreg));\n+\t    }\n \n \t  /* A strict-low-part output operand needs to be reloaded\n \t     in the mode of the entire value.  */"}]}