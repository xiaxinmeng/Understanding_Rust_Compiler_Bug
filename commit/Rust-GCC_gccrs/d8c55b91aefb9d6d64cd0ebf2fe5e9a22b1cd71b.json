{"sha": "d8c55b91aefb9d6d64cd0ebf2fe5e9a22b1cd71b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDhjNTViOTFhZWZiOWQ2ZDY0Y2QwZWJmMmZlNWU5YTIyYjFjZDcxYg==", "commit": {"author": {"name": "Peter Bergner", "email": "bergner@vnet.ibm.com", "date": "2014-05-16T03:43:12Z"}, "committer": {"name": "Peter Bergner", "email": "bergner@gcc.gnu.org", "date": "2014-05-16T03:43:12Z"}, "message": "re PR target/61193 (ABI incompatibility between POWER and Z HTM builtins and intrinsics)\n\n\tPR target/61193\n\t* config/rs6000/htmxlintrin.h (_HTM_TBEGIN_STARTED): New define.\n\t(__TM_simple_begin): Use it.\n\t(__TM_begin): Likewise.\n\nFrom-SVN: r210486", "tree": {"sha": "9ecb1c74214f57572ab6892edeb679ea96208358", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9ecb1c74214f57572ab6892edeb679ea96208358"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d8c55b91aefb9d6d64cd0ebf2fe5e9a22b1cd71b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8c55b91aefb9d6d64cd0ebf2fe5e9a22b1cd71b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d8c55b91aefb9d6d64cd0ebf2fe5e9a22b1cd71b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8c55b91aefb9d6d64cd0ebf2fe5e9a22b1cd71b/comments", "author": {"login": "peter-bergner", "id": 17504345, "node_id": "MDQ6VXNlcjE3NTA0MzQ1", "avatar_url": "https://avatars.githubusercontent.com/u/17504345?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peter-bergner", "html_url": "https://github.com/peter-bergner", "followers_url": "https://api.github.com/users/peter-bergner/followers", "following_url": "https://api.github.com/users/peter-bergner/following{/other_user}", "gists_url": "https://api.github.com/users/peter-bergner/gists{/gist_id}", "starred_url": "https://api.github.com/users/peter-bergner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peter-bergner/subscriptions", "organizations_url": "https://api.github.com/users/peter-bergner/orgs", "repos_url": "https://api.github.com/users/peter-bergner/repos", "events_url": "https://api.github.com/users/peter-bergner/events{/privacy}", "received_events_url": "https://api.github.com/users/peter-bergner/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ef1f23cc6b90fbe5ec8eb02c66604a354f6a6c5a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ef1f23cc6b90fbe5ec8eb02c66604a354f6a6c5a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ef1f23cc6b90fbe5ec8eb02c66604a354f6a6c5a"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "5a29dedf7c79218db5ba6da6dcefeeb7cdf57c1c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d8c55b91aefb9d6d64cd0ebf2fe5e9a22b1cd71b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d8c55b91aefb9d6d64cd0ebf2fe5e9a22b1cd71b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d8c55b91aefb9d6d64cd0ebf2fe5e9a22b1cd71b", "patch": "@@ -1,3 +1,10 @@\n+2014-05-15  Peter Bergner  <bergner@vnet.ibm.com>\n+\n+\tPR target/61193\n+\t* config/rs6000/htmxlintrin.h (_HTM_TBEGIN_STARTED): New define.\n+\t(__TM_simple_begin): Use it.\n+\t(__TM_begin): Likewise.\n+\n 2014-05-15  Martin Jambor  <mjambor@suse.cz>\n \n \tPR ipa/61085"}, {"sha": "bf7fe3a75abfab9bb25df3396ba0c5e180b467bd", "filename": "gcc/config/rs6000/htmxlintrin.h", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d8c55b91aefb9d6d64cd0ebf2fe5e9a22b1cd71b/gcc%2Fconfig%2Frs6000%2Fhtmxlintrin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d8c55b91aefb9d6d64cd0ebf2fe5e9a22b1cd71b/gcc%2Fconfig%2Frs6000%2Fhtmxlintrin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fhtmxlintrin.h?ref=d8c55b91aefb9d6d64cd0ebf2fe5e9a22b1cd71b", "patch": "@@ -46,12 +46,17 @@ extern \"C\" {\n \n typedef char TM_buff_type[16];\n \n+/* Compatibility macro with s390.  This macro can be used to determine\n+   whether a transaction was successfully started from the __TM_begin()\n+   and __TM_simple_begin() intrinsic functions below.  */\n+#define _HTM_TBEGIN_STARTED     1\n+\n extern __inline long\n __attribute__ ((__gnu_inline__, __always_inline__, __artificial__))\n __TM_simple_begin (void)\n {\n   if (__builtin_expect (__builtin_tbegin (0), 1))\n-    return 1;\n+    return _HTM_TBEGIN_STARTED;\n   return 0;\n }\n \n@@ -61,7 +66,7 @@ __TM_begin (void* const TM_buff)\n {\n   *_TEXASRL_PTR (TM_buff) = 0;\n   if (__builtin_expect (__builtin_tbegin (0), 1))\n-    return 1;\n+    return _HTM_TBEGIN_STARTED;\n #ifdef __powerpc64__\n   *_TEXASR_PTR (TM_buff) = __builtin_get_texasr ();\n #else"}]}