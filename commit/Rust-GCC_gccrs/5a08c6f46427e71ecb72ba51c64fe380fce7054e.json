{"sha": "5a08c6f46427e71ecb72ba51c64fe380fce7054e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWEwOGM2ZjQ2NDI3ZTcxZWNiNzJiYTUxYzY0ZmUzODBmY2U3MDU0ZQ==", "commit": {"author": {"name": "Kyrylo Tkachov", "email": "kyrylo.tkachov@arm.com", "date": "2018-01-17T11:13:05Z"}, "committer": {"name": "Kyrylo Tkachov", "email": "ktkachov@gcc.gnu.org", "date": "2018-01-17T11:13:05Z"}, "message": "[arm] Fix gcc.target/arm/xor-and.c\n\nThis test is naughty because it doesn't use the proper effective target checks\nand add-options mechanisms for setting a Thumb1 target, which leads to Thumb1 hard-float errors\nwhen testing a toolchain configured with --with-cpu=cortex-a15 --with-fpu=neon-vfpv4 --with-float=hard --with-mode=thumb.\n\nThis patch fixes that in the obvious way.\n\n\t* gcc.target/arm/xor-and.c: Fix armv6 effective target checks\n\tand options.\n\nFrom-SVN: r256782", "tree": {"sha": "7224b526ad13b25e7583b1a9c168b2651629b3d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7224b526ad13b25e7583b1a9c168b2651629b3d9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5a08c6f46427e71ecb72ba51c64fe380fce7054e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a08c6f46427e71ecb72ba51c64fe380fce7054e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a08c6f46427e71ecb72ba51c64fe380fce7054e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a08c6f46427e71ecb72ba51c64fe380fce7054e/comments", "author": {"login": "ktkachov-arm", "id": 74917949, "node_id": "MDQ6VXNlcjc0OTE3OTQ5", "avatar_url": "https://avatars.githubusercontent.com/u/74917949?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ktkachov-arm", "html_url": "https://github.com/ktkachov-arm", "followers_url": "https://api.github.com/users/ktkachov-arm/followers", "following_url": "https://api.github.com/users/ktkachov-arm/following{/other_user}", "gists_url": "https://api.github.com/users/ktkachov-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ktkachov-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ktkachov-arm/subscriptions", "organizations_url": "https://api.github.com/users/ktkachov-arm/orgs", "repos_url": "https://api.github.com/users/ktkachov-arm/repos", "events_url": "https://api.github.com/users/ktkachov-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/ktkachov-arm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1b45f2600e276565fc59a092f9d38493d605da54", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b45f2600e276565fc59a092f9d38493d605da54", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b45f2600e276565fc59a092f9d38493d605da54"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "2e5a53b1d70e492a746d23a2b84958327efec38b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a08c6f46427e71ecb72ba51c64fe380fce7054e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a08c6f46427e71ecb72ba51c64fe380fce7054e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5a08c6f46427e71ecb72ba51c64fe380fce7054e", "patch": "@@ -1,3 +1,8 @@\n+2018-01-17  Kyrylo Tkachov <kyrylo.tkachov@arm.com>\n+\n+\t* gcc.target/arm/xor-and.c: Fix armv6 effective target checks\n+\tand options.\n+\n 2018-01-17  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR rtl-optimization/83771"}, {"sha": "9afa81d3ec10c983ba2555c867f6f00a85f80150", "filename": "gcc/testsuite/gcc.target/arm/xor-and.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a08c6f46427e71ecb72ba51c64fe380fce7054e/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fxor-and.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a08c6f46427e71ecb72ba51c64fe380fce7054e/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fxor-and.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fxor-and.c?ref=5a08c6f46427e71ecb72ba51c64fe380fce7054e", "patch": "@@ -1,6 +1,7 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O -march=armv6\" } */\n-/* { dg-prune-output \"switch .* conflicts with\" } */\n+/* { dg-require-effective-target arm_arch_v6_ok } */\n+/* { dg-add-options arm_arch_v6 } */\n+/* { dg-options \"-O\" }  */\n \n unsigned short foo (unsigned short x)\n {"}]}