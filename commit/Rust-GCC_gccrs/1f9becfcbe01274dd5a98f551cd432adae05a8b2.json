{"sha": "1f9becfcbe01274dd5a98f551cd432adae05a8b2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWY5YmVjZmNiZTAxMjc0ZGQ1YTk4ZjU1MWNkNDMyYWRhZTA1YThiMg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-12-15T23:14:13Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-12-15T23:14:13Z"}, "message": "(expand_builtin): Allow __builtin_next_arg to be used in varargs\nfunctions.\n\nFrom-SVN: r6237", "tree": {"sha": "d4e582e6352ba17d713794d1a8b02fb6fffcf8b4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d4e582e6352ba17d713794d1a8b02fb6fffcf8b4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1f9becfcbe01274dd5a98f551cd432adae05a8b2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f9becfcbe01274dd5a98f551cd432adae05a8b2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f9becfcbe01274dd5a98f551cd432adae05a8b2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f9becfcbe01274dd5a98f551cd432adae05a8b2/comments", "author": null, "committer": null, "parents": [{"sha": "ede575495613c7d0f1332379878dee17cf7f9739", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ede575495613c7d0f1332379878dee17cf7f9739", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ede575495613c7d0f1332379878dee17cf7f9739"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "09178a6842d0ce70986a1acc196d7f6ced9ced16", "filename": "gcc/expr.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f9becfcbe01274dd5a98f551cd432adae05a8b2/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f9becfcbe01274dd5a98f551cd432adae05a8b2/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=1f9becfcbe01274dd5a98f551cd432adae05a8b2", "patch": "@@ -6936,10 +6936,17 @@ expand_builtin (exp, target, subtarget, mode, ignore)\n       /* Return the address of the first anonymous stack arg.  */\n     case BUILT_IN_NEXT_ARG:\n       {\n+\ttree parm;\n \ttree fntype = TREE_TYPE (current_function_decl);\n+\ttree fnargs = DECL_ARGUMENTS (current_function_decl);\n \tif (!(TYPE_ARG_TYPES (fntype) != 0\n \t      && (TREE_VALUE (tree_last (TYPE_ARG_TYPES (fntype)))\n-\t\t  != void_type_node)))\n+\t\t  != void_type_node))\n+\t    && !(fnargs\n+\t\t && (parm = tree_last (fnargs)) != 0\n+\t\t && DECL_NAME (parm)\n+\t\t && (! strcmp (IDENTIFIER_POINTER (DECL_NAME (parm)),\n+\t\t\t       \"__builtin_va_alist\"))))\n \t  {\n \t    error (\"`va_start' used in function with fixed args\");\n \t    return const0_rtx;"}]}