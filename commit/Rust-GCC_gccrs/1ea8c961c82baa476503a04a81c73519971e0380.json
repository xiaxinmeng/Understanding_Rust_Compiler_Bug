{"sha": "1ea8c961c82baa476503a04a81c73519971e0380", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWVhOGM5NjFjODJiYWE0NzY1MDNhMDRhODFjNzM1MTk5NzFlMDM4MA==", "commit": {"author": {"name": "Christophe Lyon", "email": "christophe.lyon@linaro.org", "date": "2017-11-10T12:54:59Z"}, "committer": {"name": "Christophe Lyon", "email": "clyon@gcc.gnu.org", "date": "2017-11-10T12:54:59Z"}, "message": "[ARM,testsuite] Skip copysign_softfloat_1.c on hard-float targets\n\ngcc/testsuite/\n\n2017-11-10  Christophe Lyon  <christophe.lyon@linaro.org>\n\n\t* lib/target-supports.exp (check_effective_target_arm_soft_ok):\n\tNew function.\n\t* gcc.target/arm/copysign_softfloat_1.c: Require arm_soft_ok\n\teffective target.\n\nFrom-SVN: r254626", "tree": {"sha": "324fcc8cb285d3df2005e342aab901e546c7e9c7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/324fcc8cb285d3df2005e342aab901e546c7e9c7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1ea8c961c82baa476503a04a81c73519971e0380", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ea8c961c82baa476503a04a81c73519971e0380", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ea8c961c82baa476503a04a81c73519971e0380", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ea8c961c82baa476503a04a81c73519971e0380/comments", "author": null, "committer": null, "parents": [{"sha": "df3c2945360a0c07579929f20b080ec5f903a0ad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/df3c2945360a0c07579929f20b080ec5f903a0ad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/df3c2945360a0c07579929f20b080ec5f903a0ad"}], "stats": {"total": 21, "additions": 21, "deletions": 0}, "files": [{"sha": "dc6799a476cc5844f90d1eab636f7970b873db54", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ea8c961c82baa476503a04a81c73519971e0380/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ea8c961c82baa476503a04a81c73519971e0380/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1ea8c961c82baa476503a04a81c73519971e0380", "patch": "@@ -1,3 +1,10 @@\n+2017-11-10  Christophe Lyon  <christophe.lyon@linaro.org>\n+\n+\t* lib/target-supports.exp (check_effective_target_arm_soft_ok):\n+\tNew function.\n+\t* gcc.target/arm/copysign_softfloat_1.c: Require arm_soft_ok\n+\teffective target.\n+\n 2017-11-10  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/82934"}, {"sha": "d79d014e27cf445cd741504c6b256a3a51ace6cd", "filename": "gcc/testsuite/gcc.target/arm/copysign_softfloat_1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ea8c961c82baa476503a04a81c73519971e0380/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fcopysign_softfloat_1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ea8c961c82baa476503a04a81c73519971e0380/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fcopysign_softfloat_1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fcopysign_softfloat_1.c?ref=1ea8c961c82baa476503a04a81c73519971e0380", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run } */\n /* { dg-require-effective-target arm_thumb2_ok } */\n+/* { dg-require-effective-target arm_soft_ok } */\n /* { dg-skip-if \"skip override\" { *-*-* } { \"-mfloat-abi=softfp\" \"-mfloat-abi=hard\" } { \"\" } } */\n /* { dg-options \"-O2 -mfloat-abi=soft --save-temps\" } */\n extern void abort (void);"}, {"sha": "964bce94006d8e821d1528ea9c1170d14fac5b5c", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ea8c961c82baa476503a04a81c73519971e0380/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ea8c961c82baa476503a04a81c73519971e0380/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=1ea8c961c82baa476503a04a81c73519971e0380", "patch": "@@ -3414,6 +3414,19 @@ proc check_effective_target_arm_vect_no_misalign { } {\n }\n \n \n+# Return 1 if this is an ARM target supporting -mfloat-abi=soft.  Some\n+# multilibs may be incompatible with this option.\n+\n+proc check_effective_target_arm_soft_ok { } {\n+    if { [check_effective_target_arm32] } {\n+\treturn [check_no_compiler_messages arm_soft_ok executable {\n+\t    int main() { return 0;}\n+\t} \"-mfloat-abi=soft\"]\n+    } else {\n+\treturn 0\n+    }\n+}\n+\n # Return 1 if this is an ARM target supporting -mfpu=vfp\n # -mfloat-abi=softfp.  Some multilibs may be incompatible with these\n # options."}]}