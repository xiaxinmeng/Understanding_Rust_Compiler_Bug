{"sha": "1e401340719c3bb64382f81cf95607898139487f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWU0MDEzNDA3MTljM2JiNjQzODJmODFjZjk1NjA3ODk4MTM5NDg3Zg==", "commit": {"author": {"name": "Kugan Vivekanandarajah", "email": "kuganv@linaro.org", "date": "2016-09-23T10:25:09Z"}, "committer": {"name": "Kugan Vivekanandarajah", "email": "kugan@gcc.gnu.org", "date": "2016-09-23T10:25:09Z"}, "message": "Drop TREE_OVERFLOW\n\ngcc/ChangeLog:\n\n2016-09-23  Kugan Vivekanandarajah  <kuganv@linaro.org>\n\n\tPR ipa/77677\n\t* ipa-cp.c (propagate_vr_accross_jump_function): Drop TREE_OVERFLOW\n\tfrom constant while creating value range.\n\ngcc/testsuite/ChangeLog:\n\n2016-09-23  Kugan Vivekanandarajah  <kuganv@linaro.org>\n\n\tPR ipa/77677\n\t* gcc.dg/torture/pr77677.c: New test.\n\nFrom-SVN: r240420", "tree": {"sha": "1648accc5ce0a86f41e47368debe12c2739bfd5d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1648accc5ce0a86f41e47368debe12c2739bfd5d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1e401340719c3bb64382f81cf95607898139487f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e401340719c3bb64382f81cf95607898139487f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1e401340719c3bb64382f81cf95607898139487f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e401340719c3bb64382f81cf95607898139487f/comments", "author": null, "committer": null, "parents": [{"sha": "8ed3eeac20004dc354bab2a5a0eed027d441b05e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ed3eeac20004dc354bab2a5a0eed027d441b05e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8ed3eeac20004dc354bab2a5a0eed027d441b05e"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "d1226159df0a3e2963e1ef8ce5cc1f9464d55f43", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e401340719c3bb64382f81cf95607898139487f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e401340719c3bb64382f81cf95607898139487f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1e401340719c3bb64382f81cf95607898139487f", "patch": "@@ -1,3 +1,9 @@\n+2016-09-23  Kugan Vivekanandarajah  <kuganv@linaro.org>\n+\n+\tPR ipa/77677\n+\t* ipa-cp.c (propagate_vr_accross_jump_function): Drop TREE_OVERFLOW\n+\tfrom constant while creating value range.\n+\n 2016-09-23  Renlin Li  <renlin.li@arm.com>\n \n \t* ira.c (ira): Move ira_use_lra_p initialization code to ..."}, {"sha": "95a2a1e4b3aab39f593ed6e9f53f8f3ef461225d", "filename": "gcc/ipa-cp.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e401340719c3bb64382f81cf95607898139487f/gcc%2Fipa-cp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e401340719c3bb64382f81cf95607898139487f/gcc%2Fipa-cp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-cp.c?ref=1e401340719c3bb64382f81cf95607898139487f", "patch": "@@ -2065,6 +2065,8 @@ propagate_vr_accross_jump_function (cgraph_edge *cs,\n       tree val = ipa_get_jf_constant (jfunc);\n       if (TREE_CODE (val) == INTEGER_CST)\n \t{\n+\t  if (TREE_OVERFLOW_P (val))\n+\t    val = drop_tree_overflow (val);\n \t  jfunc->vr_known = true;\n \t  jfunc->m_vr.type = VR_RANGE;\n \t  jfunc->m_vr.min = val;"}, {"sha": "150aff91eadca99afd4165f0e75cc33c71afbad3", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e401340719c3bb64382f81cf95607898139487f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e401340719c3bb64382f81cf95607898139487f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1e401340719c3bb64382f81cf95607898139487f", "patch": "@@ -1,3 +1,8 @@\n+2016-09-23  Kugan Vivekanandarajah  <kuganv@linaro.org>\n+\n+\tPR ipa/77677\n+\t* gcc.dg/torture/pr77677.c: New test.\n+\n 2016-09-23  Andre Vehreschild  <vehre@gcc.gnu.org>\n \n \t* gfortran.dg/coarray_lib_comm_1.f90: Using the old caf-interface"}, {"sha": "af3f0b0af09f858c87f15fbaa7649f3030c5da11", "filename": "gcc/testsuite/gcc.dg/torture/pr77677.c", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e401340719c3bb64382f81cf95607898139487f/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr77677.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e401340719c3bb64382f81cf95607898139487f/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr77677.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr77677.c?ref=1e401340719c3bb64382f81cf95607898139487f", "patch": "@@ -0,0 +1,18 @@\n+/* PR ipa/77677 */\n+/* { dg-do compile } */\n+\n+int a, b;\n+\n+static void fn1 (short p1)\n+{\n+  a = -p1;\n+  if (a || b)\n+    __builtin_printf (\"%d\\n\", b);\n+}\n+\n+int main ()\n+{\n+  int c[] = { 40000 };\n+  fn1 (c[0]);\n+  return 0;\n+}"}]}