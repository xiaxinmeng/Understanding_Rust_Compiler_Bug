{"sha": "75264e61bdb256689fb9fc1492bf6586ae2449fe", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzUyNjRlNjFiZGIyNTY2ODlmYjlmYzE0OTJiZjY1ODZhZTI0NDlmZQ==", "commit": {"author": {"name": "Ira Rosen", "email": "irar@il.ibm.com", "date": "2010-10-26T15:53:28Z"}, "committer": {"name": "Ira Rosen", "email": "irar@gcc.gnu.org", "date": "2010-10-26T15:53:28Z"}, "message": "re PR tree-optimization/46167 (ICE: SIGSEGV in flow_bb_inside_loop_p (cfgloop.c:776) with -O -ftree-vectorize)\n\n\n\tPR tree-optimization/46167\n\t* tree-vect-patterns.c (vect_recog_dot_prod_pattern): Check that there\n\tis basic block for the statement.\n\nFrom-SVN: r165970", "tree": {"sha": "1efa20dd7209a3c3ee9854624b936a49cba67c1c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1efa20dd7209a3c3ee9854624b936a49cba67c1c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/75264e61bdb256689fb9fc1492bf6586ae2449fe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75264e61bdb256689fb9fc1492bf6586ae2449fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/75264e61bdb256689fb9fc1492bf6586ae2449fe", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75264e61bdb256689fb9fc1492bf6586ae2449fe/comments", "author": {"login": "irar2", "id": 16818592, "node_id": "MDQ6VXNlcjE2ODE4NTky", "avatar_url": "https://avatars.githubusercontent.com/u/16818592?v=4", "gravatar_id": "", "url": "https://api.github.com/users/irar2", "html_url": "https://github.com/irar2", "followers_url": "https://api.github.com/users/irar2/followers", "following_url": "https://api.github.com/users/irar2/following{/other_user}", "gists_url": "https://api.github.com/users/irar2/gists{/gist_id}", "starred_url": "https://api.github.com/users/irar2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/irar2/subscriptions", "organizations_url": "https://api.github.com/users/irar2/orgs", "repos_url": "https://api.github.com/users/irar2/repos", "events_url": "https://api.github.com/users/irar2/events{/privacy}", "received_events_url": "https://api.github.com/users/irar2/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "883fff6cf718997c2892be3f4b5177459b04c00f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/883fff6cf718997c2892be3f4b5177459b04c00f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/883fff6cf718997c2892be3f4b5177459b04c00f"}], "stats": {"total": 34, "additions": 33, "deletions": 1}, "files": [{"sha": "1906f53720ee248b41334e2b52c8e36c00eca6d4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75264e61bdb256689fb9fc1492bf6586ae2449fe/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75264e61bdb256689fb9fc1492bf6586ae2449fe/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=75264e61bdb256689fb9fc1492bf6586ae2449fe", "patch": "@@ -1,3 +1,9 @@\n+2010-10-26  Ira Rosen  <irar@il.ibm.com>\n+\n+\tPR tree-optimization/46167\n+\t* tree-vect-patterns.c (vect_recog_dot_prod_pattern): Check that there\n+\tis basic block for the statement.\n+\n 2010-10-26  Paul Koning  <ni1d@arrl.net>\n \n \t* config/pdp11/pdp11.c (pdp11_f_format, pdp11_d_format): Update to"}, {"sha": "762ceead93067f523d359bade4dd9d7cb9d7d4da", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75264e61bdb256689fb9fc1492bf6586ae2449fe/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75264e61bdb256689fb9fc1492bf6586ae2449fe/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=75264e61bdb256689fb9fc1492bf6586ae2449fe", "patch": "@@ -1,3 +1,9 @@\n+2010-10-26  Ira Rosen  <irar@il.ibm.com>\n+\n+\tPR tree-optimization/46167\n+\t* gcc.dg/vect/O-pr46167.c: New.\n+\t* gcc.dg/vect/vect.exp: Run tests with -O.\n+\n 2010-10-26  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR target/44948"}, {"sha": "490ddd4572609a1649b3f58e897b6f8944a39f2c", "filename": "gcc/testsuite/gcc.dg/vect/O-pr46167.c", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75264e61bdb256689fb9fc1492bf6586ae2449fe/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2FO-pr46167.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75264e61bdb256689fb9fc1492bf6586ae2449fe/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2FO-pr46167.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2FO-pr46167.c?ref=75264e61bdb256689fb9fc1492bf6586ae2449fe", "patch": "@@ -0,0 +1,11 @@\n+/* { dg-do compile } */\n+\n+int foo (char c, int i)\n+{\n+  int s = 0;\n+  while (i--)\n+    s += c;\n+  return s;\n+}\n+\n+/* { dg-final { cleanup-tree-dump \"vect\" } } */"}, {"sha": "748234849ca8d57e57388da045537642d737b221", "filename": "gcc/testsuite/gcc.dg/vect/vect.exp", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75264e61bdb256689fb9fc1492bf6586ae2449fe/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75264e61bdb256689fb9fc1492bf6586ae2449fe/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect.exp?ref=75264e61bdb256689fb9fc1492bf6586ae2449fe", "patch": "@@ -126,6 +126,11 @@ set O1_VECTCFLAGS $DEFAULT_VECTCFLAGS\n lappend O1_VECTCFLAGS \"-O1\"\n lappend O1_VECTCFLAGS \"-fdump-tree-vect-details\"\n \n+global O_VECTCFLAGS\n+set O_VECTCFLAGS $DEFAULT_VECTCFLAGS\n+lappend O_VECTCFLAGS \"-O\"\n+lappend O_VECTCFLAGS \"-fdump-tree-vect-details\"\n+\n lappend DEFAULT_VECTCFLAGS \"-O2\"\n \n # Tests that should be run without generating dump info\n@@ -287,6 +292,10 @@ dg-runtest [lsort [glob -nocomplain $srcdir/$subdir/O3-*.\\[cS\\]]]  \\\n dg-runtest [lsort [glob -nocomplain $srcdir/$subdir/O1-*.\\[cS\\]]]  \\\n         \"\" $O1_VECTCFLAGS\n \n+# With -O\n+dg-runtest [lsort [glob -nocomplain $srcdir/$subdir/O-*.\\[cS\\]]]  \\\n+        \"\" $O_VECTCFLAGS\n+\n # -fno-tree-reassoc\n set VECT_SLP_CFLAGS $SAVED_VECT_SLP_CFLAGS\n lappend VECT_SLP_CFLAGS \"-fno-tree-reassoc\""}, {"sha": "a26cb0b69f6d5f546cb00f49fe731151d93402c0", "filename": "gcc/tree-vect-patterns.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75264e61bdb256689fb9fc1492bf6586ae2449fe/gcc%2Ftree-vect-patterns.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75264e61bdb256689fb9fc1492bf6586ae2449fe/gcc%2Ftree-vect-patterns.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-patterns.c?ref=75264e61bdb256689fb9fc1492bf6586ae2449fe", "patch": "@@ -257,7 +257,7 @@ vect_recog_dot_prod_pattern (gimple last_stmt, tree *type_in, tree *type_out)\n   stmt = SSA_NAME_DEF_STMT (oprnd0);\n \n   /* It could not be the dot_prod pattern if the stmt is outside the loop.  */\n-  if (!flow_bb_inside_loop_p (loop, gimple_bb (stmt)))\n+  if (!gimple_bb (stmt) || !flow_bb_inside_loop_p (loop, gimple_bb (stmt)))\n     return NULL;\n \n   /* FORNOW.  Can continue analyzing the def-use chain when this stmt in a phi"}]}