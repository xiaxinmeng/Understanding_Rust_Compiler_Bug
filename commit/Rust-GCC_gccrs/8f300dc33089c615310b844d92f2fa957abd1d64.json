{"sha": "8f300dc33089c615310b844d92f2fa957abd1d64", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGYzMDBkYzMzMDg5YzYxNTMxMGI4NDRkOTJmMmZhOTU3YWJkMWQ2NA==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-08-07T04:17:06Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-08-07T04:17:06Z"}, "message": "(final_scan_insn): Use ASM_OUTPUT_ADDR_DIFF_ELT\nand ASM_OUTPUT_ADDR_VEC_ELT only if defined.\n\nFrom-SVN: r1782", "tree": {"sha": "dcf84fcf215a0765b6f60f6704d95cc30331da93", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dcf84fcf215a0765b6f60f6704d95cc30331da93"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8f300dc33089c615310b844d92f2fa957abd1d64", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f300dc33089c615310b844d92f2fa957abd1d64", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8f300dc33089c615310b844d92f2fa957abd1d64", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f300dc33089c615310b844d92f2fa957abd1d64/comments", "author": null, "committer": null, "parents": [{"sha": "42dfa47fbd1e613be4a9fe25eb63f937c6f5e50c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42dfa47fbd1e613be4a9fe25eb63f937c6f5e50c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/42dfa47fbd1e613be4a9fe25eb63f937c6f5e50c"}], "stats": {"total": 24, "additions": 18, "deletions": 6}, "files": [{"sha": "b7c0cb4073f5d143b5d8d1a245aee4263b2a3017", "filename": "gcc/final.c", "status": "modified", "additions": 18, "deletions": 6, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f300dc33089c615310b844d92f2fa957abd1d64/gcc%2Ffinal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f300dc33089c615310b844d92f2fa957abd1d64/gcc%2Ffinal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffinal.c?ref=8f300dc33089c615310b844d92f2fa957abd1d64", "patch": "@@ -1210,13 +1210,25 @@ final_scan_insn (insn, file, optimize, prescan, nopeepholes)\n \t    for (idx = 0; idx < vlen; idx++)\n \t      {\n \t\tif (GET_CODE (body) == ADDR_VEC)\n-\t\t  ASM_OUTPUT_ADDR_VEC_ELT\n-\t\t    (file, CODE_LABEL_NUMBER (XEXP (XVECEXP (body, 0, idx), 0)));\n+\t\t  {\n+#ifdef ASM_OUTPUT_ADDR_VEC_ELT\n+\t\t    ASM_OUTPUT_ADDR_VEC_ELT\n+\t\t      (file, CODE_LABEL_NUMBER (XEXP (XVECEXP (body, 0, idx), 0)));\n+#else\n+\t\t    abort ();\n+#endif\n+\t\t  }\n \t\telse\n-\t\t  ASM_OUTPUT_ADDR_DIFF_ELT\n-\t\t    (file,\n-\t\t     CODE_LABEL_NUMBER (XEXP (XVECEXP (body, 1, idx), 0)),\n-\t\t     CODE_LABEL_NUMBER (XEXP (XEXP (body, 0), 0)));\n+\t\t  {\n+#ifdef ASM_OUTPUT_ADDR_DIFF_ELT\n+\t\t    ASM_OUTPUT_ADDR_DIFF_ELT\n+\t\t      (file,\n+\t\t       CODE_LABEL_NUMBER (XEXP (XVECEXP (body, 1, idx), 0)),\n+\t\t       CODE_LABEL_NUMBER (XEXP (XEXP (body, 0), 0)));\n+#else\n+\t\t    abort ();\n+#endif\n+\t\t  }\n \t      }\n #ifdef ASM_OUTPUT_CASE_END\n \t    ASM_OUTPUT_CASE_END (file,"}]}