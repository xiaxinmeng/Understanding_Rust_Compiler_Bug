{"sha": "200809cbbf0d8e99ce059e82494b8bd3a5c16ca9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjAwODA5Y2JiZjBkOGU5OWNlMDU5ZTgyNDk0YjhiZDNhNWMxNmNhOQ==", "commit": {"author": {"name": "David Edelsohn", "email": "edelsohn@gnu.org", "date": "2007-09-06T12:40:50Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2007-09-06T12:40:50Z"}, "message": "libgfortran.h: Include config.h first.\n\n        * libgfortran.h: Include config.h first.\n        * io/io.h (struct stream): Rename truncate to trunc.\n        * io/unix.c (fd_open): Same.\n        (open_internal): Same.\n\nFrom-SVN: r128182", "tree": {"sha": "ac5f71a479f82aa6113379945ad5bed43bcc8566", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ac5f71a479f82aa6113379945ad5bed43bcc8566"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/200809cbbf0d8e99ce059e82494b8bd3a5c16ca9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/200809cbbf0d8e99ce059e82494b8bd3a5c16ca9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/200809cbbf0d8e99ce059e82494b8bd3a5c16ca9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/200809cbbf0d8e99ce059e82494b8bd3a5c16ca9/comments", "author": null, "committer": null, "parents": [{"sha": "71d3c6e7e447b94e1aa87818230a38b11e5708f7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71d3c6e7e447b94e1aa87818230a38b11e5708f7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/71d3c6e7e447b94e1aa87818230a38b11e5708f7"}], "stats": {"total": 19, "additions": 14, "deletions": 5}, "files": [{"sha": "bc3ed64d92aa7bef45acde5cb7f3c31b16bcc058", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/200809cbbf0d8e99ce059e82494b8bd3a5c16ca9/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/200809cbbf0d8e99ce059e82494b8bd3a5c16ca9/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=200809cbbf0d8e99ce059e82494b8bd3a5c16ca9", "patch": "@@ -1,3 +1,10 @@\n+2007-09-06  David Edelsohn  <edelsohn@gnu.org>\n+\n+\t* libgfortran.h: Include config.h first.\n+\t* io/io.h (struct stream): Rename truncate to trunc.\n+\t* io/unix.c (fd_open): Same.\n+\t(open_internal): Same.\n+\n 2007-09-05  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \tPR libfortran/33253"}, {"sha": "18795a27e2ea21205a2637bafac1a52132589cee", "filename": "libgfortran/io/io.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/200809cbbf0d8e99ce059e82494b8bd3a5c16ca9/libgfortran%2Fio%2Fio.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/200809cbbf0d8e99ce059e82494b8bd3a5c16ca9/libgfortran%2Fio%2Fio.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fio.h?ref=200809cbbf0d8e99ce059e82494b8bd3a5c16ca9", "patch": "@@ -54,7 +54,7 @@ typedef struct stream\n   try (*sfree) (struct stream *);\n   try (*close) (struct stream *);\n   try (*seek) (struct stream *, gfc_offset);\n-  try (*truncate) (struct stream *);\n+  try (*trunc) (struct stream *);\n   int (*read) (struct stream *, void *, size_t *);\n   int (*write) (struct stream *, const void *, size_t *);\n   try (*set) (struct stream *, int, size_t);\n@@ -74,7 +74,7 @@ stream;\n #define salloc_w_at(s, len, where) ((s)->alloc_w_at)(s, len, where)\n \n #define sseek(s, pos) ((s)->seek)(s, pos)\n-#define struncate(s) ((s)->truncate)(s)\n+#define struncate(s) ((s)->trunc)(s)\n #define sread(s, buf, nbytes) ((s)->read)(s, buf, nbytes)\n #define swrite(s, buf, nbytes) ((s)->write)(s, buf, nbytes)\n "}, {"sha": "8acc02e9399468c8754a23b7f40d5d584f56fab4", "filename": "libgfortran/io/unix.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/200809cbbf0d8e99ce059e82494b8bd3a5c16ca9/libgfortran%2Fio%2Funix.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/200809cbbf0d8e99ce059e82494b8bd3a5c16ca9/libgfortran%2Fio%2Funix.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Funix.c?ref=200809cbbf0d8e99ce059e82494b8bd3a5c16ca9", "patch": "@@ -828,7 +828,7 @@ fd_open (unix_stream * s)\n   s->st.sfree = (void *) fd_sfree;\n   s->st.close = (void *) fd_close;\n   s->st.seek = (void *) fd_seek;\n-  s->st.truncate = (void *) fd_truncate;\n+  s->st.trunc = (void *) fd_truncate;\n   s->st.read = (void *) fd_read;\n   s->st.write = (void *) fd_write;\n   s->st.set = (void *) fd_sset;\n@@ -1042,7 +1042,7 @@ open_internal (char *base, int length)\n   s->st.sfree = (void *) mem_sfree;\n   s->st.close = (void *) mem_close;\n   s->st.seek = (void *) mem_seek;\n-  s->st.truncate = (void *) mem_truncate;\n+  s->st.trunc = (void *) mem_truncate;\n   s->st.read = (void *) mem_read;\n   s->st.write = (void *) mem_write;\n   s->st.set = (void *) mem_set;"}, {"sha": "6a702c4b35197cc49ea43376a69070604fcd28be", "filename": "libgfortran/libgfortran.h", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/200809cbbf0d8e99ce059e82494b8bd3a5c16ca9/libgfortran%2Flibgfortran.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/200809cbbf0d8e99ce059e82494b8bd3a5c16ca9/libgfortran%2Flibgfortran.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Flibgfortran.h?ref=200809cbbf0d8e99ce059e82494b8bd3a5c16ca9", "patch": "@@ -31,6 +31,9 @@ Boston, MA 02110-1301, USA.  */\n #ifndef LIBGFOR_H\n #define LIBGFOR_H\n \n+/* config.h MUST be first because it can affect system headers.  */\n+#include \"config.h\"\n+\n #include <stdio.h>\n #include <math.h>\n #include <stddef.h>\n@@ -45,7 +48,6 @@ Boston, MA 02110-1301, USA.  */\n \n #include \"../gcc/fortran/libgfortran.h\"\n \n-#include \"config.h\"\n #include \"c99_protos.h\"\n \n #if HAVE_IEEEFP_H"}]}