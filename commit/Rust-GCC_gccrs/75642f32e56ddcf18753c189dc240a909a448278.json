{"sha": "75642f32e56ddcf18753c189dc240a909a448278", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzU2NDJmMzJlNTZkZGNmMTg3NTNjMTg5ZGMyNDBhOTA5YTQ0ODI3OA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2003-01-28T21:32:24Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2003-01-28T21:32:24Z"}, "message": "cris.c (cris_address_cost): Make static.\n\n        * config/cris/cris.c (cris_address_cost): Make static.\n        (TARGET_RTX_COSTS, TARGET_ADDRESS_COST): New.\n        * config/cris/cris.h (ADDRESS_COST): Remove.\n        * config/cris/cris-protos.h: Update.\n\nFrom-SVN: r62009", "tree": {"sha": "246570b94da77f488004ee38599ba0366f110ed7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/246570b94da77f488004ee38599ba0366f110ed7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/75642f32e56ddcf18753c189dc240a909a448278", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75642f32e56ddcf18753c189dc240a909a448278", "html_url": "https://github.com/Rust-GCC/gccrs/commit/75642f32e56ddcf18753c189dc240a909a448278", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75642f32e56ddcf18753c189dc240a909a448278/comments", "author": null, "committer": null, "parents": [{"sha": "e37135f7010aea36f9422bfb9e2ba38b04d0e8e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e37135f7010aea36f9422bfb9e2ba38b04d0e8e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e37135f7010aea36f9422bfb9e2ba38b04d0e8e7"}], "stats": {"total": 19, "additions": 15, "deletions": 4}, "files": [{"sha": "1aeddf8109b8fe0bd97f56aaca3338bf8d9b9cda", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75642f32e56ddcf18753c189dc240a909a448278/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75642f32e56ddcf18753c189dc240a909a448278/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=75642f32e56ddcf18753c189dc240a909a448278", "patch": "@@ -2,6 +2,11 @@\n \n \t* cse.c (find_best_addr): Kill !ADDRESS_COST code.\n \n+\t* config/cris/cris.c (cris_address_cost): Make static.\n+\t(TARGET_RTX_COSTS, TARGET_ADDRESS_COST): New.\n+\t* config/cris/cris.h (ADDRESS_COST): Remove.\n+\t* config/cris/cris-protos.h: Update.\n+\n 2003-01-23  Mike Stump  <mrs@apple.com>\n \n \t* regclass.c (init_reg_autoinc): New function.\n@@ -87,6 +92,8 @@\n \t* config/mn10300/mn10300-protos.h: Update.\n \t* config/mn10300/mn10300.h (ADDRESS_COST): Remove.\n \n+\t* doc/tm.texi: Update.\n+\n 2003-01-28  Vladimir Makarov  <vmakarov@redhat.com>\n \n \t* haifa-sched.c (schedule_insn): Return necessary cycle advance"}, {"sha": "43ac4442b2fffa36334ba903d0c7c53d9018a1e7", "filename": "gcc/config/cris/cris-protos.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75642f32e56ddcf18753c189dc240a909a448278/gcc%2Fconfig%2Fcris%2Fcris-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75642f32e56ddcf18753c189dc240a909a448278/gcc%2Fconfig%2Fcris%2Fcris-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fcris%2Fcris-protos.h?ref=75642f32e56ddcf18753c189dc240a909a448278", "patch": "@@ -31,7 +31,6 @@ extern int cris_simple_epilogue PARAMS ((void));\n extern const char *cris_op_str PARAMS ((rtx));\n extern int cris_eligible_for_epilogue_delay PARAMS ((rtx));\n extern void cris_notice_update_cc PARAMS ((rtx, rtx));\n-extern int cris_address_cost PARAMS ((rtx));\n extern void cris_print_operand PARAMS ((FILE *, rtx, int));\n extern void cris_print_operand_address PARAMS ((FILE *, rtx));\n extern int cris_side_effect_mode_ok PARAMS ((enum rtx_code, rtx *, int, int,"}, {"sha": "2d336916cceff862f888e1bc362accd18b0960c9", "filename": "gcc/config/cris/cris.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75642f32e56ddcf18753c189dc240a909a448278/gcc%2Fconfig%2Fcris%2Fcris.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75642f32e56ddcf18753c189dc240a909a448278/gcc%2Fconfig%2Fcris%2Fcris.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fcris%2Fcris.c?ref=75642f32e56ddcf18753c189dc240a909a448278", "patch": "@@ -106,6 +106,8 @@ static void cris_operand_lossage PARAMS ((const char *, rtx));\n static void cris_asm_output_mi_thunk\n   PARAMS ((FILE *, tree, HOST_WIDE_INT, HOST_WIDE_INT, tree));\n \n+static bool cris_rtx_costs PARAMS ((rtx, int, int, int *));\n+static int cris_address_cost PARAMS ((rtx));\n \n /* The function cris_target_asm_function_epilogue puts the last insn to\n    output here.  It always fits; there won't be a symbol operand.  Used in\n@@ -164,6 +166,11 @@ int cris_cpu_version = CRIS_DEFAULT_CPU_VERSION;\n #undef TARGET_ASM_CAN_OUTPUT_MI_THUNK\n #define TARGET_ASM_CAN_OUTPUT_MI_THUNK default_can_output_mi_thunk_no_vcall\n \n+#undef TARGET_RTX_COSTS\n+#define TARGET_RTX_COSTS cris_rtx_costs\n+#undef TARGET_ADDRESS_COST\n+#define TARGET_ADDRESS_COST cris_address_cost\n+\n struct gcc_target targetm = TARGET_INITIALIZER;\n \n /* Predicate functions.  */\n@@ -2193,7 +2200,7 @@ cris_rtx_costs (x, code, outer_code, total)\n \n /* The ADDRESS_COST worker.  */\n \n-int\n+static int\n cris_address_cost (x)\n      rtx x;\n {"}, {"sha": "78e62d11adef9c32e34b004a0cace280e179eb30", "filename": "gcc/config/cris/cris.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75642f32e56ddcf18753c189dc240a909a448278/gcc%2Fconfig%2Fcris%2Fcris.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75642f32e56ddcf18753c189dc240a909a448278/gcc%2Fconfig%2Fcris%2Fcris.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fcris%2Fcris.h?ref=75642f32e56ddcf18753c189dc240a909a448278", "patch": "@@ -1336,8 +1336,6 @@ struct cum_args {int regs;};\n \n /* Node: Costs */\n \n-#define ADDRESS_COST(X) cris_address_cost (X)\n-\n /* FIXME: Need to define REGISTER_MOVE_COST when more register classes are\n    introduced.  */\n "}]}