{"sha": "4df918798b445e86305b63f86f5312a18e4017c5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGRmOTE4Nzk4YjQ0NWU4NjMwNWI2M2Y4NmY1MzEyYTE4ZTQwMTdjNQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2021-04-13T18:42:07Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2021-04-13T18:42:07Z"}, "message": "testsuite: Add testcase for already fixed PR97121\n\nThis was fixed by r11-5866 aka PR96299 fix.\n\n2021-04-13  Jakub Jelinek  <jakub@redhat.com>\n\n\tPR c++/97121\n\t* g++.dg/cpp2a/spaceship-err6.C: New test.", "tree": {"sha": "bdf33b45510f69e6c73fc80fbb90d2e628702bff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bdf33b45510f69e6c73fc80fbb90d2e628702bff"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4df918798b445e86305b63f86f5312a18e4017c5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4df918798b445e86305b63f86f5312a18e4017c5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4df918798b445e86305b63f86f5312a18e4017c5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4df918798b445e86305b63f86f5312a18e4017c5/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6173f713a35d5450f0e2acfdaec695b42632aeed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6173f713a35d5450f0e2acfdaec695b42632aeed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6173f713a35d5450f0e2acfdaec695b42632aeed"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "57fbdb33088438884cfd2bac02d9ad50b03c5918", "filename": "gcc/testsuite/g++.dg/cpp2a/spaceship-err6.C", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4df918798b445e86305b63f86f5312a18e4017c5/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp2a%2Fspaceship-err6.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4df918798b445e86305b63f86f5312a18e4017c5/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp2a%2Fspaceship-err6.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp2a%2Fspaceship-err6.C?ref=4df918798b445e86305b63f86f5312a18e4017c5", "patch": "@@ -0,0 +1,20 @@\n+// PR c++/97121\n+// { dg-do compile { target c++20 } }\n+\n+#include <compare>\n+\n+class MyClass\n+{\n+  int mValue;\t// { dg-error \"three-way comparison of 'MyClass::mValue' has type 'std::strong_ordering', which does not convert to 'bool'\" }\n+\n+public:\n+  MyClass(int value): mValue(value) {}\n+\n+  bool operator<=>(const MyClass&) const = default;\n+};\n+\n+int main()\n+{\n+  MyClass a = 10, b = 15;\n+  return (a < b);\t// { dg-error \"use of deleted function 'constexpr bool MyClass::operator<=>\\\\\\(const MyClass&\\\\\\) const'\" }\n+}"}]}