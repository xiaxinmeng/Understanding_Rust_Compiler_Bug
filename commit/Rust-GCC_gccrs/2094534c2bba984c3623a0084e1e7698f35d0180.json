{"sha": "2094534c2bba984c3623a0084e1e7698f35d0180", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjA5NDUzNGMyYmJhOTg0YzM2MjNhMDA4NGUxZTc2OThmMzVkMDE4MA==", "commit": {"author": {"name": "Matthew Sachs", "email": "msachs@apple.com", "date": "2006-06-13T01:12:51Z"}, "committer": {"name": "Matthew Sachs", "email": "matthewg@gcc.gnu.org", "date": "2006-06-13T01:12:51Z"}, "message": "target-supports-dg.exp (check-flags): Include TOOL_OPTIONS in the list of compiler flags...\n\n* lib/target-supports-dg.exp (check-flags): Include TOOL_OPTIONS in\nthe list of compiler flags; this causes those flags to be checked\nfor things like dg-skip-if.\n\nFrom-SVN: r114597", "tree": {"sha": "bd197ce0a60549ba25cccc7928608e29a6bcfdeb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bd197ce0a60549ba25cccc7928608e29a6bcfdeb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2094534c2bba984c3623a0084e1e7698f35d0180", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2094534c2bba984c3623a0084e1e7698f35d0180", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2094534c2bba984c3623a0084e1e7698f35d0180", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2094534c2bba984c3623a0084e1e7698f35d0180/comments", "author": null, "committer": null, "parents": [{"sha": "cd431bfe129dde4c8637bd1099e36c7d57310908", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd431bfe129dde4c8637bd1099e36c7d57310908", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cd431bfe129dde4c8637bd1099e36c7d57310908"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "55d6788198f811fbe591e0f54a4fe611d7a87b48", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2094534c2bba984c3623a0084e1e7698f35d0180/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2094534c2bba984c3623a0084e1e7698f35d0180/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2094534c2bba984c3623a0084e1e7698f35d0180", "patch": "@@ -1,3 +1,9 @@\n+2006-06-13  Matthew Sachs  <msachs@apple.com>\n+\n+\t* lib/target-supports-dg.exp (check-flags): Include TOOL_OPTIONS in\n+\tthe list of compiler flags; this causes those flags to be checked\n+\tfor things like dg-skip-if.\n+\n 2006-06-12  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n \n \tPR c++/27601"}, {"sha": "e8eac300e694ba5f5c5d304e20dafe171e522967", "filename": "gcc/testsuite/lib/target-supports-dg.exp", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2094534c2bba984c3623a0084e1e7698f35d0180/gcc%2Ftestsuite%2Flib%2Ftarget-supports-dg.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2094534c2bba984c3623a0084e1e7698f35d0180/gcc%2Ftestsuite%2Flib%2Ftarget-supports-dg.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports-dg.exp?ref=2094534c2bba984c3623a0084e1e7698f35d0180", "patch": "@@ -186,6 +186,7 @@ proc check_test_flags { args } {\n \n proc check-flags { args } {\n     global compiler_flags\n+    global TOOL_OPTIONS\n     # These variables are from DejaGnu's dg-test.\n     upvar dg-extra-tool-flags extra_tool_flags\n     upvar tool_flags tool_flags\n@@ -198,6 +199,8 @@ proc check-flags { args } {\n     set compiler_flags \" toolname \"\n     append compiler_flags $extra_tool_flags\n     append compiler_flags $tool_flags\n+    # If running a subset of the test suite, $TOOL_OPTIONS may not exist.\n+    catch {append compiler_flags \" $TOOL_OPTIONS \"}\n     set dest [target_info name]\n     if [board_info $dest exists multilib_flags] {\n \tappend compiler_flags \"[board_info $dest multilib_flags] \""}]}