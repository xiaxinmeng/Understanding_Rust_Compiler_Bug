{"sha": "13ccfea8fa39f448f5630274b868b3b8a3a448c1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTNjY2ZlYThmYTM5ZjQ0OGY1NjMwMjc0Yjg2OGIzYjhhM2E0NDhjMQ==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@redhat.com", "date": "2015-05-26T12:28:53Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2015-05-26T12:28:53Z"}, "message": "configure.ac: Use C++ for all tests.\n\n\t* configure.ac: Use C++ for all tests.  Use AC_CHECK_DECLS for\n\tstrstr and basename.\n\t* configure: Regenerate.\n\nFrom-SVN: r223691", "tree": {"sha": "52512be61d99ead95d6973a7708eb898a5379c79", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/52512be61d99ead95d6973a7708eb898a5379c79"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/13ccfea8fa39f448f5630274b868b3b8a3a448c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13ccfea8fa39f448f5630274b868b3b8a3a448c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/13ccfea8fa39f448f5630274b868b3b8a3a448c1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13ccfea8fa39f448f5630274b868b3b8a3a448c1/comments", "author": {"login": "jicama", "id": 266146, "node_id": "MDQ6VXNlcjI2NjE0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/266146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jicama", "html_url": "https://github.com/jicama", "followers_url": "https://api.github.com/users/jicama/followers", "following_url": "https://api.github.com/users/jicama/following{/other_user}", "gists_url": "https://api.github.com/users/jicama/gists{/gist_id}", "starred_url": "https://api.github.com/users/jicama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jicama/subscriptions", "organizations_url": "https://api.github.com/users/jicama/orgs", "repos_url": "https://api.github.com/users/jicama/repos", "events_url": "https://api.github.com/users/jicama/events{/privacy}", "received_events_url": "https://api.github.com/users/jicama/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "8f0c696a7b5079c5deea4b4301b16b41145e7986", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f0c696a7b5079c5deea4b4301b16b41145e7986", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8f0c696a7b5079c5deea4b4301b16b41145e7986"}], "stats": {"total": 846, "additions": 440, "deletions": 406}, "files": [{"sha": "08f5586c55ad918cfc2955e55d9edfcfdf26cfd0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/13ccfea8fa39f448f5630274b868b3b8a3a448c1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/13ccfea8fa39f448f5630274b868b3b8a3a448c1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=13ccfea8fa39f448f5630274b868b3b8a3a448c1", "patch": "@@ -1,3 +1,9 @@\n+2015-05-26  Jason Merrill  <jason@redhat.com>\n+\n+\t* configure.ac: Use C++ for all tests.  Use AC_CHECK_DECLS for\n+\tstrstr and basename.\n+\t* configure: Regenerate.\n+\n 2015-05-26  Richard Biener  <rguenther@suse.de>\n \n \t* fold-const.c (fold_binary_loc): Move X % -Y -> X % Y and"}, {"sha": "6d808be3c96e49d482028f30ddf9b6c07967b33c", "filename": "gcc/configure", "status": "modified", "additions": 418, "deletions": 383, "changes": 801, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/13ccfea8fa39f448f5630274b868b3b8a3a448c1/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/13ccfea8fa39f448f5630274b868b3b8a3a448c1/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=13ccfea8fa39f448f5630274b868b3b8a3a448c1", "patch": "@@ -740,7 +740,6 @@ COLLECT2_LIBS\n CXXDEPMODE\n DEPDIR\n am__leading_dot\n-CXXCPP\n doc_build_sys\n AR\n NM\n@@ -792,9 +791,10 @@ c_strict_warn\n strict_warn\n c_loose_warn\n loose_warn\n+CPP\n EGREP\n GREP\n-CPP\n+CXXCPP\n PICFLAG_FOR_TARGET\n GNATMAKE\n GNATBIND\n@@ -950,8 +950,8 @@ CPPFLAGS\n CXX\n CXXFLAGS\n CCC\n-CPP\n CXXCPP\n+CPP\n GMPLIBS\n GMPINC\n ISLLIBS\n@@ -1734,8 +1734,8 @@ Some influential environment variables:\n               you have headers in a nonstandard directory <include dir>\n   CXX         C++ compiler command\n   CXXFLAGS    C++ compiler flags\n-  CPP         C preprocessor\n   CXXCPP      C++ preprocessor\n+  CPP         C preprocessor\n   GMPLIBS     How to link GMP\n   GMPINC      How to find GMP include files\n   ISLLIBS     How to link ISL\n@@ -1897,10 +1897,10 @@ fi\n \n } # ac_fn_cxx_try_compile\n \n-# ac_fn_c_try_cpp LINENO\n-# ----------------------\n+# ac_fn_cxx_try_cpp LINENO\n+# ------------------------\n # Try to preprocess conftest.$ac_ext, and return whether this succeeded.\n-ac_fn_c_try_cpp ()\n+ac_fn_cxx_try_cpp ()\n {\n   as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n   if { { ac_try=\"$ac_cpp conftest.$ac_ext\"\n@@ -1919,7 +1919,7 @@ $as_echo \"$ac_try_echo\"; } >&5\n   fi\n   $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n   test $ac_status = 0; } >/dev/null && {\n-\t test -z \"$ac_c_preproc_warn_flag$ac_c_werror_flag\" ||\n+\t test -z \"$ac_cxx_preproc_warn_flag$ac_cxx_werror_flag\" ||\n \t test ! -s conftest.err\n        }; then :\n   ac_retval=0\n@@ -1932,14 +1932,14 @@ fi\n   eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n   return $ac_retval\n \n-} # ac_fn_c_try_cpp\n+} # ac_fn_cxx_try_cpp\n \n-# ac_fn_c_check_header_mongrel LINENO HEADER VAR INCLUDES\n-# -------------------------------------------------------\n+# ac_fn_cxx_check_header_mongrel LINENO HEADER VAR INCLUDES\n+# ---------------------------------------------------------\n # Tests whether HEADER exists, giving a warning if it cannot be compiled using\n # the include files in INCLUDES and setting the cache variable VAR\n # accordingly.\n-ac_fn_c_check_header_mongrel ()\n+ac_fn_cxx_check_header_mongrel ()\n {\n   as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n   if { as_var=$3; eval \"test \\\"\\${$as_var+set}\\\" = set\"; }; then :\n@@ -1960,7 +1960,7 @@ cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n $4\n #include <$2>\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_header_compiler=yes\n else\n   ac_header_compiler=no\n@@ -1976,7 +1976,7 @@ cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n #include <$2>\n _ACEOF\n-if ac_fn_c_try_cpp \"$LINENO\"; then :\n+if ac_fn_cxx_try_cpp \"$LINENO\"; then :\n   ac_header_preproc=yes\n else\n   ac_header_preproc=no\n@@ -1986,7 +1986,7 @@ rm -f conftest.err conftest.$ac_ext\n $as_echo \"$ac_header_preproc\" >&6; }\n \n # So?  What about this header?\n-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in #((\n+case $ac_header_compiler:$ac_header_preproc:$ac_cxx_preproc_warn_flag in #((\n   yes:no: )\n     { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: $2: accepted by the compiler, rejected by the preprocessor!\" >&5\n $as_echo \"$as_me: WARNING: $2: accepted by the compiler, rejected by the preprocessor!\" >&2;}\n@@ -2019,13 +2019,13 @@ $as_echo \"$ac_res\" >&6; }\n fi\n   eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n \n-} # ac_fn_c_check_header_mongrel\n+} # ac_fn_cxx_check_header_mongrel\n \n-# ac_fn_c_try_run LINENO\n-# ----------------------\n+# ac_fn_cxx_try_run LINENO\n+# ------------------------\n # Try to link conftest.$ac_ext, and return whether this succeeded. Assumes\n # that executables *can* be run.\n-ac_fn_c_try_run ()\n+ac_fn_cxx_try_run ()\n {\n   as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n   if { { ac_try=\"$ac_link\"\n@@ -2061,13 +2061,13 @@ fi\n   eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n   return $ac_retval\n \n-} # ac_fn_c_try_run\n+} # ac_fn_cxx_try_run\n \n-# ac_fn_c_check_header_compile LINENO HEADER VAR INCLUDES\n-# -------------------------------------------------------\n+# ac_fn_cxx_check_header_compile LINENO HEADER VAR INCLUDES\n+# ---------------------------------------------------------\n # Tests whether HEADER exists and can be compiled using the include files in\n # INCLUDES, setting the cache variable VAR accordingly.\n-ac_fn_c_check_header_compile ()\n+ac_fn_cxx_check_header_compile ()\n {\n   as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $2\" >&5\n@@ -2080,7 +2080,7 @@ else\n $4\n #include <$2>\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   eval \"$3=yes\"\n else\n   eval \"$3=no\"\n@@ -2092,14 +2092,51 @@ eval ac_res=\\$$3\n $as_echo \"$ac_res\" >&6; }\n   eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n \n-} # ac_fn_c_check_header_compile\n+} # ac_fn_cxx_check_header_compile\n+\n+# ac_fn_c_try_cpp LINENO\n+# ----------------------\n+# Try to preprocess conftest.$ac_ext, and return whether this succeeded.\n+ac_fn_c_try_cpp ()\n+{\n+  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n+  if { { ac_try=\"$ac_cpp conftest.$ac_ext\"\n+case \"(($ac_try\" in\n+  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n+  *) ac_try_echo=$ac_try;;\n+esac\n+eval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n+$as_echo \"$ac_try_echo\"; } >&5\n+  (eval \"$ac_cpp conftest.$ac_ext\") 2>conftest.err\n+  ac_status=$?\n+  if test -s conftest.err; then\n+    grep -v '^ *+' conftest.err >conftest.er1\n+    cat conftest.er1 >&5\n+    mv -f conftest.er1 conftest.err\n+  fi\n+  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n+  test $ac_status = 0; } >/dev/null && {\n+\t test -z \"$ac_c_preproc_warn_flag$ac_c_werror_flag\" ||\n+\t test ! -s conftest.err\n+       }; then :\n+  ac_retval=0\n+else\n+  $as_echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+    ac_retval=1\n+fi\n+  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n+  return $ac_retval\n+\n+} # ac_fn_c_try_cpp\n \n-# ac_fn_c_compute_int LINENO EXPR VAR INCLUDES\n-# --------------------------------------------\n+# ac_fn_cxx_compute_int LINENO EXPR VAR INCLUDES\n+# ----------------------------------------------\n # Tries to find the compile-time value of EXPR in a program that includes\n # INCLUDES, setting VAR accordingly. Returns whether the value could be\n # computed\n-ac_fn_c_compute_int ()\n+ac_fn_cxx_compute_int ()\n {\n   as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n   if test \"$cross_compiling\" = yes; then\n@@ -2117,7 +2154,7 @@ test_array [0] = 0\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_lo=0 ac_mid=0\n   while :; do\n     cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n@@ -2133,7 +2170,7 @@ test_array [0] = 0\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_hi=$ac_mid; break\n else\n   as_fn_arith $ac_mid + 1 && ac_lo=$as_val\n@@ -2159,7 +2196,7 @@ test_array [0] = 0\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_hi=-1 ac_mid=-1\n   while :; do\n     cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n@@ -2175,7 +2212,7 @@ test_array [0] = 0\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_lo=$ac_mid; break\n else\n   as_fn_arith '(' $ac_mid ')' - 1 && ac_hi=$as_val\n@@ -2209,7 +2246,7 @@ test_array [0] = 0\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_hi=$ac_mid\n else\n   as_fn_arith '(' $ac_mid ')' + 1 && ac_lo=$as_val\n@@ -2257,7 +2294,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_run \"$LINENO\"; then :\n+if ac_fn_cxx_try_run \"$LINENO\"; then :\n   echo >>conftest.val; read $3 <conftest.val; ac_retval=0\n else\n   ac_retval=1\n@@ -2270,13 +2307,13 @@ rm -f conftest.val\n   eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n   return $ac_retval\n \n-} # ac_fn_c_compute_int\n+} # ac_fn_cxx_compute_int\n \n-# ac_fn_c_check_type LINENO TYPE VAR INCLUDES\n-# -------------------------------------------\n+# ac_fn_cxx_check_type LINENO TYPE VAR INCLUDES\n+# ---------------------------------------------\n # Tests whether TYPE exists after having included INCLUDES, setting cache\n # variable VAR accordingly.\n-ac_fn_c_check_type ()\n+ac_fn_cxx_check_type ()\n {\n   as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $2\" >&5\n@@ -2297,7 +2334,7 @@ if (sizeof ($2))\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n $4\n@@ -2310,7 +2347,7 @@ if (sizeof (($2)))\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n \n else\n   eval \"$3=yes\"\n@@ -2324,7 +2361,7 @@ eval ac_res=\\$$3\n $as_echo \"$ac_res\" >&6; }\n   eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n \n-} # ac_fn_c_check_type\n+} # ac_fn_cxx_check_type\n \n # ac_fn_c_find_intX_t LINENO BITS VAR\n # -----------------------------------\n@@ -2354,7 +2391,7 @@ test_array [0] = 0\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n $ac_includes_default\n@@ -2369,7 +2406,7 @@ test_array [0] = 0\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n \n else\n   case $ac_type in #(\n@@ -2397,10 +2434,10 @@ $as_echo \"$ac_res\" >&6; }\n \n } # ac_fn_c_find_intX_t\n \n-# ac_fn_c_try_link LINENO\n-# -----------------------\n+# ac_fn_cxx_try_link LINENO\n+# -------------------------\n # Try to link conftest.$ac_ext, and return whether this succeeded.\n-ac_fn_c_try_link ()\n+ac_fn_cxx_try_link ()\n {\n   as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n   rm -f conftest.$ac_objext conftest$ac_exeext\n@@ -2420,7 +2457,7 @@ $as_echo \"$ac_try_echo\"; } >&5\n   fi\n   $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n   test $ac_status = 0; } && {\n-\t test -z \"$ac_c_werror_flag\" ||\n+\t test -z \"$ac_cxx_werror_flag\" ||\n \t test ! -s conftest.err\n        } && test -s conftest$ac_exeext && {\n \t test \"$cross_compiling\" = yes ||\n@@ -2441,7 +2478,7 @@ fi\n   eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n   return $ac_retval\n \n-} # ac_fn_c_try_link\n+} # ac_fn_cxx_try_link\n \n # ac_fn_c_find_uintX_t LINENO BITS VAR\n # ------------------------------------\n@@ -2471,7 +2508,7 @@ test_array [0] = 0\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   case $ac_type in #(\n   uint$2_t) :\n     eval \"$3=yes\" ;; #(\n@@ -2495,10 +2532,10 @@ $as_echo \"$ac_res\" >&6; }\n \n } # ac_fn_c_find_uintX_t\n \n-# ac_fn_c_check_header_preproc LINENO HEADER VAR\n-# ----------------------------------------------\n+# ac_fn_cxx_check_header_preproc LINENO HEADER VAR\n+# ------------------------------------------------\n # Tests whether HEADER is present, setting the cache variable VAR accordingly.\n-ac_fn_c_check_header_preproc ()\n+ac_fn_cxx_check_header_preproc ()\n {\n   as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $2\" >&5\n@@ -2510,7 +2547,7 @@ else\n /* end confdefs.h.  */\n #include <$2>\n _ACEOF\n-if ac_fn_c_try_cpp \"$LINENO\"; then :\n+if ac_fn_cxx_try_cpp \"$LINENO\"; then :\n   eval \"$3=yes\"\n else\n   eval \"$3=no\"\n@@ -2522,49 +2559,170 @@ eval ac_res=\\$$3\n $as_echo \"$ac_res\" >&6; }\n   eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n \n-} # ac_fn_c_check_header_preproc\n+} # ac_fn_cxx_check_header_preproc\n \n-# ac_fn_cxx_try_cpp LINENO\n-# ------------------------\n-# Try to preprocess conftest.$ac_ext, and return whether this succeeded.\n-ac_fn_cxx_try_cpp ()\n+# ac_fn_cxx_check_func LINENO FUNC VAR\n+# ------------------------------------\n+# Tests whether FUNC exists, setting the cache variable VAR accordingly\n+ac_fn_cxx_check_func ()\n {\n   as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-  if { { ac_try=\"$ac_cpp conftest.$ac_ext\"\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $2\" >&5\n+$as_echo_n \"checking for $2... \" >&6; }\n+if { as_var=$3; eval \"test \\\"\\${$as_var+set}\\\" = set\"; }; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+/* Define $2 to an innocuous variant, in case <limits.h> declares $2.\n+   For example, HP-UX 11i <limits.h> declares gettimeofday.  */\n+#define $2 innocuous_$2\n+\n+/* System header to define __stub macros and hopefully few prototypes,\n+    which can conflict with char $2 (); below.\n+    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n+    <limits.h> exists even on freestanding compilers.  */\n+\n+#ifdef __STDC__\n+# include <limits.h>\n+#else\n+# include <assert.h>\n+#endif\n+\n+#undef $2\n+\n+/* Override any GCC internal prototype to avoid an error.\n+   Use char because int might match the return type of a GCC\n+   builtin and then its argument prototype would still apply.  */\n+#ifdef __cplusplus\n+extern \"C\"\n+#endif\n+char $2 ();\n+/* The GNU C library defines this for functions which it implements\n+    to always fail with ENOSYS.  Some functions are actually named\n+    something starting with __ and the normal name is an alias.  */\n+#if defined __stub_$2 || defined __stub___$2\n+choke me\n+#endif\n+\n+int\n+main ()\n+{\n+return $2 ();\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_cxx_try_link \"$LINENO\"; then :\n+  eval \"$3=yes\"\n+else\n+  eval \"$3=no\"\n+fi\n+rm -f core conftest.err conftest.$ac_objext \\\n+    conftest$ac_exeext conftest.$ac_ext\n+fi\n+eval ac_res=\\$$3\n+\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n+$as_echo \"$ac_res\" >&6; }\n+  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n+\n+} # ac_fn_cxx_check_func\n+\n+# ac_fn_cxx_check_decl LINENO SYMBOL VAR\n+# --------------------------------------\n+# Tests whether SYMBOL is declared, setting cache variable VAR accordingly.\n+ac_fn_cxx_check_decl ()\n+{\n+  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n+  as_decl_name=`echo $2|sed 's/ *(.*//'`\n+  as_decl_use=`echo $2|sed -e 's/(/((/' -e 's/)/) 0&/' -e 's/,/) 0& (/g'`\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether $as_decl_name is declared\" >&5\n+$as_echo_n \"checking whether $as_decl_name is declared... \" >&6; }\n+if { as_var=$3; eval \"test \\\"\\${$as_var+set}\\\" = set\"; }; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+$4\n+int\n+main ()\n+{\n+#ifndef $as_decl_name\n+#ifdef __cplusplus\n+  (void) $as_decl_use;\n+#else\n+  (void) $as_decl_name;\n+#endif\n+#endif\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n+  eval \"$3=yes\"\n+else\n+  eval \"$3=no\"\n+fi\n+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n+fi\n+eval ac_res=\\$$3\n+\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n+$as_echo \"$ac_res\" >&6; }\n+  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n+\n+} # ac_fn_cxx_check_decl\n+\n+# ac_fn_c_try_link LINENO\n+# -----------------------\n+# Try to link conftest.$ac_ext, and return whether this succeeded.\n+ac_fn_c_try_link ()\n+{\n+  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n+  rm -f conftest.$ac_objext conftest$ac_exeext\n+  if { { ac_try=\"$ac_link\"\n case \"(($ac_try\" in\n   *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n   *) ac_try_echo=$ac_try;;\n esac\n eval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n $as_echo \"$ac_try_echo\"; } >&5\n-  (eval \"$ac_cpp conftest.$ac_ext\") 2>conftest.err\n+  (eval \"$ac_link\") 2>conftest.err\n   ac_status=$?\n   if test -s conftest.err; then\n     grep -v '^ *+' conftest.err >conftest.er1\n     cat conftest.er1 >&5\n     mv -f conftest.er1 conftest.err\n   fi\n   $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n-  test $ac_status = 0; } >/dev/null && {\n-\t test -z \"$ac_cxx_preproc_warn_flag$ac_cxx_werror_flag\" ||\n+  test $ac_status = 0; } && {\n+\t test -z \"$ac_c_werror_flag\" ||\n \t test ! -s conftest.err\n+       } && test -s conftest$ac_exeext && {\n+\t test \"$cross_compiling\" = yes ||\n+\t $as_test_x conftest$ac_exeext\n        }; then :\n   ac_retval=0\n else\n   $as_echo \"$as_me: failed program was:\" >&5\n sed 's/^/| /' conftest.$ac_ext >&5\n \n-    ac_retval=1\n+\tac_retval=1\n fi\n+  # Delete the IPA/IPO (Inter Procedural Analysis/Optimization) information\n+  # created by the PGI compiler (conftest_ipa8_conftest.oo), as it would\n+  # interfere with the next link command; also delete a directory that is\n+  # left behind by Apple's compiler.  We do this before executing the actions.\n+  rm -rf conftest.dSYM conftest_ipa8_conftest.oo\n   eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n   return $ac_retval\n \n-} # ac_fn_cxx_try_cpp\n+} # ac_fn_c_try_link\n \n-# ac_fn_cxx_check_header_preproc LINENO HEADER VAR\n-# ------------------------------------------------\n+# ac_fn_c_check_header_preproc LINENO HEADER VAR\n+# ----------------------------------------------\n # Tests whether HEADER is present, setting the cache variable VAR accordingly.\n-ac_fn_cxx_check_header_preproc ()\n+ac_fn_c_check_header_preproc ()\n {\n   as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $2\" >&5\n@@ -2576,7 +2734,7 @@ else\n /* end confdefs.h.  */\n #include <$2>\n _ACEOF\n-if ac_fn_cxx_try_cpp \"$LINENO\"; then :\n+if ac_fn_c_try_cpp \"$LINENO\"; then :\n   eval \"$3=yes\"\n else\n   eval \"$3=no\"\n@@ -2588,7 +2746,7 @@ eval ac_res=\\$$3\n $as_echo \"$ac_res\" >&6; }\n   eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n \n-} # ac_fn_cxx_check_header_preproc\n+} # ac_fn_c_check_header_preproc\n \n # ac_fn_c_check_func LINENO FUNC VAR\n # ----------------------------------\n@@ -2656,52 +2814,6 @@ $as_echo \"$ac_res\" >&6; }\n   eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n \n } # ac_fn_c_check_func\n-\n-# ac_fn_cxx_try_link LINENO\n-# -------------------------\n-# Try to link conftest.$ac_ext, and return whether this succeeded.\n-ac_fn_cxx_try_link ()\n-{\n-  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-  rm -f conftest.$ac_objext conftest$ac_exeext\n-  if { { ac_try=\"$ac_link\"\n-case \"(($ac_try\" in\n-  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n-$as_echo \"$ac_try_echo\"; } >&5\n-  (eval \"$ac_link\") 2>conftest.err\n-  ac_status=$?\n-  if test -s conftest.err; then\n-    grep -v '^ *+' conftest.err >conftest.er1\n-    cat conftest.er1 >&5\n-    mv -f conftest.er1 conftest.err\n-  fi\n-  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n-  test $ac_status = 0; } && {\n-\t test -z \"$ac_cxx_werror_flag\" ||\n-\t test ! -s conftest.err\n-       } && test -s conftest$ac_exeext && {\n-\t test \"$cross_compiling\" = yes ||\n-\t $as_test_x conftest$ac_exeext\n-       }; then :\n-  ac_retval=0\n-else\n-  $as_echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-\tac_retval=1\n-fi\n-  # Delete the IPA/IPO (Inter Procedural Analysis/Optimization) information\n-  # created by the PGI compiler (conftest_ipa8_conftest.oo), as it would\n-  # interfere with the next link command; also delete a directory that is\n-  # left behind by Apple's compiler.  We do this before executing the actions.\n-  rm -rf conftest.dSYM conftest_ipa8_conftest.oo\n-  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n-  return $ac_retval\n-\n-} # ac_fn_cxx_try_link\n cat >config.log <<_ACEOF\n This file contains any messages produced by compilers while\n running configure, to aid debugging if configure makes a mistake.\n@@ -4777,6 +4889,14 @@ else\n fi\n \n \n+# Do configure tests with the C++ compiler, since that's what we build with.\n+ac_ext=cpp\n+ac_cpp='$CXXCPP $CPPFLAGS'\n+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu\n+\n+\n # Remove the -O2: for historical reasons, unless bootstrapping we prefer\n # optimizations to be activated explicitly by the toplevel.\n case \"$CC\" in\n@@ -4876,26 +4996,22 @@ esac\n # -------------------------\n \n \n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking how to run the C preprocessor\" >&5\n-$as_echo_n \"checking how to run the C preprocessor... \" >&6; }\n-# On Suns, sometimes $CPP names a directory.\n-if test -n \"$CPP\" && test -d \"$CPP\"; then\n-  CPP=\n-fi\n-if test -z \"$CPP\"; then\n-  if test \"${ac_cv_prog_CPP+set}\" = set; then :\n+ac_ext=cpp\n+ac_cpp='$CXXCPP $CPPFLAGS'\n+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking how to run the C++ preprocessor\" >&5\n+$as_echo_n \"checking how to run the C++ preprocessor... \" >&6; }\n+if test -z \"$CXXCPP\"; then\n+  if test \"${ac_cv_prog_CXXCPP+set}\" = set; then :\n   $as_echo_n \"(cached) \" >&6\n else\n-      # Double quotes because CPP needs to be expanded\n-    for CPP in \"$CC -E\" \"$CC -E -traditional-cpp\" \"/lib/cpp\"\n+      # Double quotes because CXXCPP needs to be expanded\n+    for CXXCPP in \"$CXX -E\" \"/lib/cpp\"\n     do\n       ac_preproc_ok=false\n-for ac_c_preproc_warn_flag in '' yes\n+for ac_cxx_preproc_warn_flag in '' yes\n do\n   # Use a header file that comes with gcc, so configuring glibc\n   # with a fresh cross-compiler works.\n@@ -4912,7 +5028,7 @@ do\n #endif\n \t\t     Syntax error\n _ACEOF\n-if ac_fn_c_try_cpp \"$LINENO\"; then :\n+if ac_fn_cxx_try_cpp \"$LINENO\"; then :\n \n else\n   # Broken: fails on valid input.\n@@ -4926,7 +5042,7 @@ rm -f conftest.err conftest.$ac_ext\n /* end confdefs.h.  */\n #include <ac_nonexistent.h>\n _ACEOF\n-if ac_fn_c_try_cpp \"$LINENO\"; then :\n+if ac_fn_cxx_try_cpp \"$LINENO\"; then :\n   # Broken: success on invalid input.\n continue\n else\n@@ -4944,17 +5060,17 @@ if $ac_preproc_ok; then :\n fi\n \n     done\n-    ac_cv_prog_CPP=$CPP\n+    ac_cv_prog_CXXCPP=$CXXCPP\n \n fi\n-  CPP=$ac_cv_prog_CPP\n+  CXXCPP=$ac_cv_prog_CXXCPP\n else\n-  ac_cv_prog_CPP=$CPP\n+  ac_cv_prog_CXXCPP=$CXXCPP\n fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CPP\" >&5\n-$as_echo \"$CPP\" >&6; }\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CXXCPP\" >&5\n+$as_echo \"$CXXCPP\" >&6; }\n ac_preproc_ok=false\n-for ac_c_preproc_warn_flag in '' yes\n+for ac_cxx_preproc_warn_flag in '' yes\n do\n   # Use a header file that comes with gcc, so configuring glibc\n   # with a fresh cross-compiler works.\n@@ -4971,7 +5087,7 @@ do\n #endif\n \t\t     Syntax error\n _ACEOF\n-if ac_fn_c_try_cpp \"$LINENO\"; then :\n+if ac_fn_cxx_try_cpp \"$LINENO\"; then :\n \n else\n   # Broken: fails on valid input.\n@@ -4985,7 +5101,7 @@ rm -f conftest.err conftest.$ac_ext\n /* end confdefs.h.  */\n #include <ac_nonexistent.h>\n _ACEOF\n-if ac_fn_c_try_cpp \"$LINENO\"; then :\n+if ac_fn_cxx_try_cpp \"$LINENO\"; then :\n   # Broken: success on invalid input.\n continue\n else\n@@ -5003,15 +5119,15 @@ if $ac_preproc_ok; then :\n else\n   { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n $as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n-as_fn_error \"C preprocessor \\\"$CPP\\\" fails sanity check\n+as_fn_error \"C++ preprocessor \\\"$CXXCPP\\\" fails sanity check\n See \\`config.log' for more details.\" \"$LINENO\" 5; }\n fi\n \n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n+ac_ext=cpp\n+ac_cpp='$CXXCPP $CPPFLAGS'\n+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu\n \n \n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for grep that handles long lines and -e\" >&5\n@@ -5164,7 +5280,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_header_stdc=yes\n else\n   ac_cv_header_stdc=no\n@@ -5237,7 +5353,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_run \"$LINENO\"; then :\n+if ac_fn_cxx_try_run \"$LINENO\"; then :\n \n else\n   ac_cv_header_stdc=no\n@@ -5261,7 +5377,7 @@ for ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \\\n \t\t  inttypes.h stdint.h unistd.h\n do :\n   as_ac_Header=`$as_echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n-ac_fn_c_check_header_compile \"$LINENO\" \"$ac_header\" \"$as_ac_Header\" \"$ac_includes_default\n+ac_fn_cxx_check_header_compile \"$LINENO\" \"$ac_header\" \"$as_ac_Header\" \"$ac_includes_default\n \"\n eval as_val=\\$$as_ac_Header\n    if test \"x$as_val\" = x\"\"yes; then :\n@@ -5275,7 +5391,7 @@ done\n \n \n \n-  ac_fn_c_check_header_mongrel \"$LINENO\" \"minix/config.h\" \"ac_cv_header_minix_config_h\" \"$ac_includes_default\"\n+  ac_fn_cxx_check_header_mongrel \"$LINENO\" \"minix/config.h\" \"ac_cv_header_minix_config_h\" \"$ac_includes_default\"\n if test \"x$ac_cv_header_minix_config_h\" = x\"\"yes; then :\n   MINIX=yes\n else\n@@ -5314,7 +5430,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_safe_to_define___extensions__=yes\n else\n   ac_cv_safe_to_define___extensions__=no\n@@ -5466,11 +5582,11 @@ as_fn_error \"C preprocessor \\\"$CPP\\\" fails sanity check\n See \\`config.log' for more details.\" \"$LINENO\" 5; }\n fi\n \n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n+ac_ext=cpp\n+ac_cpp='$CXXCPP $CPPFLAGS'\n+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu\n \n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for inline\" >&5\n $as_echo_n \"checking for inline... \" >&6; }\n@@ -5488,7 +5604,7 @@ $ac_kw foo_t foo () {return 0; }\n #endif\n \n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_c_inline=$ac_kw\n fi\n rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n@@ -5552,12 +5668,12 @@ main ()\n   return 0;\n }\n _ACEOF\n-\t if ac_fn_c_try_compile \"$LINENO\"; then :\n+\t if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   break\n fi\n rm -f core conftest.err conftest.$ac_objext\n \t CC=\"$CC -n32\"\n-\t if ac_fn_c_try_compile \"$LINENO\"; then :\n+\t if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_sys_largefile_CC=' -n32'; break\n fi\n rm -f core conftest.err conftest.$ac_objext\n@@ -5598,7 +5714,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_sys_file_offset_bits=no; break\n fi\n rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n@@ -5622,7 +5738,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_sys_file_offset_bits=64; break\n fi\n rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n@@ -5667,7 +5783,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_sys_large_files=no; break\n fi\n rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n@@ -5691,7 +5807,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_sys_large_files=1; break\n fi\n rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n@@ -5724,7 +5840,7 @@ $as_echo_n \"checking size of void *... \" >&6; }\n if test \"${ac_cv_sizeof_void_p+set}\" = set; then :\n   $as_echo_n \"(cached) \" >&6\n else\n-  if ac_fn_c_compute_int \"$LINENO\" \"(long int) (sizeof (void *))\" \"ac_cv_sizeof_void_p\"        \"$ac_includes_default\"; then :\n+  if ac_fn_cxx_compute_int \"$LINENO\" \"(long int) (sizeof (void *))\" \"ac_cv_sizeof_void_p\"        \"$ac_includes_default\"; then :\n \n else\n   if test \"$ac_cv_type_void_p\" = yes; then\n@@ -5758,7 +5874,7 @@ $as_echo_n \"checking size of short... \" >&6; }\n if test \"${ac_cv_sizeof_short+set}\" = set; then :\n   $as_echo_n \"(cached) \" >&6\n else\n-  if ac_fn_c_compute_int \"$LINENO\" \"(long int) (sizeof (short))\" \"ac_cv_sizeof_short\"        \"$ac_includes_default\"; then :\n+  if ac_fn_cxx_compute_int \"$LINENO\" \"(long int) (sizeof (short))\" \"ac_cv_sizeof_short\"        \"$ac_includes_default\"; then :\n \n else\n   if test \"$ac_cv_type_short\" = yes; then\n@@ -5792,7 +5908,7 @@ $as_echo_n \"checking size of int... \" >&6; }\n if test \"${ac_cv_sizeof_int+set}\" = set; then :\n   $as_echo_n \"(cached) \" >&6\n else\n-  if ac_fn_c_compute_int \"$LINENO\" \"(long int) (sizeof (int))\" \"ac_cv_sizeof_int\"        \"$ac_includes_default\"; then :\n+  if ac_fn_cxx_compute_int \"$LINENO\" \"(long int) (sizeof (int))\" \"ac_cv_sizeof_int\"        \"$ac_includes_default\"; then :\n \n else\n   if test \"$ac_cv_type_int\" = yes; then\n@@ -5826,7 +5942,7 @@ $as_echo_n \"checking size of long... \" >&6; }\n if test \"${ac_cv_sizeof_long+set}\" = set; then :\n   $as_echo_n \"(cached) \" >&6\n else\n-  if ac_fn_c_compute_int \"$LINENO\" \"(long int) (sizeof (long))\" \"ac_cv_sizeof_long\"        \"$ac_includes_default\"; then :\n+  if ac_fn_cxx_compute_int \"$LINENO\" \"(long int) (sizeof (long))\" \"ac_cv_sizeof_long\"        \"$ac_includes_default\"; then :\n \n else\n   if test \"$ac_cv_type_long\" = yes; then\n@@ -5851,7 +5967,7 @@ cat >>confdefs.h <<_ACEOF\n _ACEOF\n \n \n-ac_fn_c_check_type \"$LINENO\" \"long long\" \"ac_cv_type_long_long\" \"$ac_includes_default\"\n+ac_fn_cxx_check_type \"$LINENO\" \"long long\" \"ac_cv_type_long_long\" \"$ac_includes_default\"\n if test \"x$ac_cv_type_long_long\" = x\"\"yes; then :\n \n cat >>confdefs.h <<_ACEOF\n@@ -5867,7 +5983,7 @@ $as_echo_n \"checking size of long long... \" >&6; }\n if test \"${ac_cv_sizeof_long_long+set}\" = set; then :\n   $as_echo_n \"(cached) \" >&6\n else\n-  if ac_fn_c_compute_int \"$LINENO\" \"(long int) (sizeof (long long))\" \"ac_cv_sizeof_long_long\"        \"$ac_includes_default\"; then :\n+  if ac_fn_cxx_compute_int \"$LINENO\" \"(long int) (sizeof (long long))\" \"ac_cv_sizeof_long_long\"        \"$ac_includes_default\"; then :\n \n else\n   if test \"$ac_cv_type_long_long\" = yes; then\n@@ -5976,7 +6092,7 @@ main ()\n }\n \n _ACEOF\n-if ac_fn_c_try_link \"$LINENO\"; then :\n+if ac_fn_cxx_try_link \"$LINENO\"; then :\n   \t\t\tif test \"$cross_compiling\" = yes; then :\n   ac_cv_type_long_long_int=yes\n else\n@@ -6006,7 +6122,7 @@ long long int n = 1;\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_run \"$LINENO\"; then :\n+if ac_fn_cxx_try_run \"$LINENO\"; then :\n   ac_cv_type_long_long_int=yes\n else\n   ac_cv_type_long_long_int=no\n@@ -6031,7 +6147,7 @@ $as_echo \"#define HAVE_LONG_LONG_INT 1\" >>confdefs.h\n \n \n \n-  ac_fn_c_check_type \"$LINENO\" \"intmax_t\" \"ac_cv_type_intmax_t\" \"$ac_includes_default\"\n+  ac_fn_cxx_check_type \"$LINENO\" \"intmax_t\" \"ac_cv_type_intmax_t\" \"$ac_includes_default\"\n if test \"x$ac_cv_type_intmax_t\" = x\"\"yes; then :\n \n $as_echo \"#define HAVE_INTMAX_T 1\" >>confdefs.h\n@@ -6049,7 +6165,7 @@ fi\n \n \n \n-  ac_fn_c_check_type \"$LINENO\" \"intptr_t\" \"ac_cv_type_intptr_t\" \"$ac_includes_default\"\n+  ac_fn_cxx_check_type \"$LINENO\" \"intptr_t\" \"ac_cv_type_intptr_t\" \"$ac_includes_default\"\n if test \"x$ac_cv_type_intptr_t\" = x\"\"yes; then :\n \n $as_echo \"#define HAVE_INTPTR_T 1\" >>confdefs.h\n@@ -6069,7 +6185,7 @@ test_array [0] = 0\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n \n cat >>confdefs.h <<_ACEOF\n #define intptr_t $ac_type\n@@ -6175,7 +6291,7 @@ main ()\n }\n \n _ACEOF\n-if ac_fn_c_try_link \"$LINENO\"; then :\n+if ac_fn_cxx_try_link \"$LINENO\"; then :\n   ac_cv_type_unsigned_long_long_int=yes\n else\n   ac_cv_type_unsigned_long_long_int=no\n@@ -6193,7 +6309,7 @@ $as_echo \"#define HAVE_UNSIGNED_LONG_LONG_INT 1\" >>confdefs.h\n \n \n \n-  ac_fn_c_check_type \"$LINENO\" \"uintmax_t\" \"ac_cv_type_uintmax_t\" \"$ac_includes_default\"\n+  ac_fn_cxx_check_type \"$LINENO\" \"uintmax_t\" \"ac_cv_type_uintmax_t\" \"$ac_includes_default\"\n if test \"x$ac_cv_type_uintmax_t\" = x\"\"yes; then :\n \n $as_echo \"#define HAVE_UINTMAX_T 1\" >>confdefs.h\n@@ -6211,7 +6327,7 @@ fi\n \n \n \n-  ac_fn_c_check_type \"$LINENO\" \"uintptr_t\" \"ac_cv_type_uintptr_t\" \"$ac_includes_default\"\n+  ac_fn_cxx_check_type \"$LINENO\" \"uintptr_t\" \"ac_cv_type_uintptr_t\" \"$ac_includes_default\"\n if test \"x$ac_cv_type_uintptr_t\" = x\"\"yes; then :\n \n $as_echo \"#define HAVE_UINTPTR_T 1\" >>confdefs.h\n@@ -6232,7 +6348,7 @@ test_array [0] = 0\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n \n cat >>confdefs.h <<_ACEOF\n #define uintptr_t $ac_type\n@@ -6263,13 +6379,6 @@ if test x\"$ac_cv_c_uint64_t\" = x\"no\" -o x\"$ac_cv_c_int64_t\" = x\"no\"; then\n fi\n \n # check what underlying integer type int64_t uses\n-ac_ext=cpp\n-ac_cpp='$CXXCPP $CPPFLAGS'\n-ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_cxx_compiler_gnu\n-\n-\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for int64_t underlying type\" >&5\n $as_echo_n \"checking for int64_t underlying type... \" >&6; }\n if test \"${ac_cv_int64_t_type+set}\" = set; then :\n@@ -6333,12 +6442,6 @@ else\n fi\n rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n fi\n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-\n \n \n \n@@ -6396,7 +6499,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   eval \"$as_acx_Woption=yes\"\n else\n   eval \"$as_acx_Woption=no\"\n@@ -6441,7 +6544,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   eval \"$as_acx_Woption=yes\"\n else\n   eval \"$as_acx_Woption=no\"\n@@ -6486,7 +6589,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   eval \"$as_acx_Woption=yes\"\n else\n   eval \"$as_acx_Woption=no\"\n@@ -6530,7 +6633,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   eval \"$as_acx_Woption=yes\"\n else\n   eval \"$as_acx_Woption=no\"\n@@ -6575,7 +6678,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   eval \"$as_acx_Woption=yes\"\n else\n   eval \"$as_acx_Woption=no\"\n@@ -6613,7 +6716,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   acx_cv_prog_cc_pedantic__Wlong_long__Wvariadic_macros__Woverlength_strings=yes\n else\n   acx_cv_prog_cc_pedantic__Wlong_long__Wvariadic_macros__Woverlength_strings=no\n@@ -6683,7 +6786,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   eval \"$as_acx_Woption=yes\"\n else\n   eval \"$as_acx_Woption=no\"\n@@ -6839,7 +6942,7 @@ fi\n valgrind_path_defines=\n valgrind_command=\n \n-ac_fn_c_check_header_mongrel \"$LINENO\" \"valgrind.h\" \"ac_cv_header_valgrind_h\" \"$ac_includes_default\"\n+ac_fn_cxx_check_header_mongrel \"$LINENO\" \"valgrind.h\" \"ac_cv_header_valgrind_h\" \"$ac_includes_default\"\n if test \"x$ac_cv_header_valgrind_h\" = x\"\"yes; then :\n   have_valgrind_h=yes\n else\n@@ -6859,7 +6962,7 @@ cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n #error VALGRIND_DISCARD not defined\n #endif\n _ACEOF\n-if ac_fn_c_try_cpp \"$LINENO\"; then :\n+if ac_fn_cxx_try_cpp \"$LINENO\"; then :\n   gcc_cv_header_valgrind_memcheck_h=yes\n else\n   gcc_cv_header_valgrind_memcheck_h=no\n@@ -6876,7 +6979,7 @@ cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n #error VALGRIND_DISCARD not defined\n #endif\n _ACEOF\n-if ac_fn_c_try_cpp \"$LINENO\"; then :\n+if ac_fn_cxx_try_cpp \"$LINENO\"; then :\n   gcc_cv_header_memcheck_h=yes\n else\n   gcc_cv_header_memcheck_h=no\n@@ -8202,7 +8305,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_header_stdc=yes\n else\n   ac_cv_header_stdc=no\n@@ -8275,7 +8378,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_run \"$LINENO\"; then :\n+if ac_fn_cxx_try_run \"$LINENO\"; then :\n \n else\n   ac_cv_header_stdc=no\n@@ -8314,7 +8417,7 @@ return 0;\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_header_time=yes\n else\n   ac_cv_header_time=no\n@@ -8346,7 +8449,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   gcc_cv_header_string=yes\n else\n   gcc_cv_header_string=no\n@@ -8387,7 +8490,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_header_sys_wait_h=yes\n else\n   ac_cv_header_sys_wait_h=no\n@@ -8468,7 +8571,7 @@ for ac_header in limits.h stddef.h string.h strings.h stdlib.h time.h iconv.h \\\n \t\t direct.h malloc.h langinfo.h ldfcn.h locale.h wchar.h\n do :\n   as_ac_Header=`$as_echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n-ac_fn_c_check_header_preproc \"$LINENO\" \"$ac_header\" \"$as_ac_Header\"\n+ac_fn_cxx_check_header_preproc \"$LINENO\" \"$ac_header\" \"$as_ac_Header\"\n eval as_val=\\$$as_ac_Header\n    if test \"x$as_val\" = x\"\"yes; then :\n   cat >>confdefs.h <<_ACEOF\n@@ -8480,14 +8583,14 @@ done\n \n \n # Check for thread headers.\n-ac_fn_c_check_header_preproc \"$LINENO\" \"thread.h\" \"ac_cv_header_thread_h\"\n+ac_fn_cxx_check_header_preproc \"$LINENO\" \"thread.h\" \"ac_cv_header_thread_h\"\n if test \"x$ac_cv_header_thread_h\" = x\"\"yes; then :\n   have_thread_h=yes\n else\n   have_thread_h=\n fi\n \n-ac_fn_c_check_header_preproc \"$LINENO\" \"pthread.h\" \"ac_cv_header_pthread_h\"\n+ac_fn_cxx_check_header_preproc \"$LINENO\" \"pthread.h\" \"ac_cv_header_pthread_h\"\n if test \"x$ac_cv_header_pthread_h\" = x\"\"yes; then :\n   have_pthread_h=yes\n else\n@@ -8545,7 +8648,7 @@ switch(0) {\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   gcc_cv_c_nbby=$i; break\n fi\n rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n@@ -8581,7 +8684,7 @@ else\n \t     typedef int dummy;\n \n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n \n \t# Check for potential -arch flags.  It is not universal unless\n \t# there are at least two -arch flags with different values.\n@@ -8626,7 +8729,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   # It does; now see whether it defined to BIG_ENDIAN or not.\n \t cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n@@ -8644,7 +8747,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_c_bigendian=yes\n else\n   ac_cv_c_bigendian=no\n@@ -8670,7 +8773,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   # It does; now see whether it defined to _BIG_ENDIAN or not.\n \t cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n@@ -8687,7 +8790,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_c_bigendian=yes\n else\n   ac_cv_c_bigendian=no\n@@ -8726,7 +8829,7 @@ return use_ascii (foo) == use_ebcdic (foo);\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   if grep BIGenDianSyS conftest.$ac_objext >/dev/null; then\n \t      ac_cv_c_bigendian=yes\n \t    fi\n@@ -8761,7 +8864,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_run \"$LINENO\"; then :\n+if ac_fn_cxx_try_run \"$LINENO\"; then :\n   ac_cv_c_bigendian=no\n else\n   ac_cv_c_bigendian=yes\n@@ -8924,21 +9027,13 @@ $as_echo \"$as_me: WARNING: C++ preprocessor \\\"$CXXCPP\\\" fails sanity check\n See \\`config.log' for more details.\" >&2;}; }\n fi\n \n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-\n-\n ac_ext=cpp\n ac_cpp='$CXXCPP $CPPFLAGS'\n ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n ac_compiler_gnu=$ac_cv_cxx_compiler_gnu\n \n \n-\n for ac_header in unordered_map\n do :\n   ac_fn_cxx_check_header_preproc \"$LINENO\" \"unordered_map\" \"ac_cv_header_unordered_map\"\n@@ -8973,23 +9068,10 @@ fi\n done\n \n \n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-\n-\n # --------\n # Dependency checking.\n # --------\n \n-ac_ext=cpp\n-ac_cpp='$CXXCPP $CPPFLAGS'\n-ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_cxx_compiler_gnu\n-\n rm -rf .tst 2>/dev/null\n mkdir .tst 2>/dev/null\n if test -d .tst; then\n@@ -9103,12 +9185,6 @@ else CXXDEPMODE=depmode=$am_cv_CXX_dependencies_compiler_type\n \n fi\n \n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-\n \n # --------\n # UNSORTED\n@@ -9146,7 +9222,7 @@ return ldopen ();\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_link \"$LINENO\"; then :\n+if ac_fn_cxx_try_link \"$LINENO\"; then :\n   gcc_cv_collect2_libs=\"$libs\"; break\n fi\n rm -f core conftest.err conftest.$ac_objext \\\n@@ -9198,7 +9274,7 @@ for ac_lib in '' exc; do\n     ac_res=-l$ac_lib\n     LIBS=\"-l$ac_lib  $ac_func_search_save_LIBS\"\n   fi\n-  if ac_fn_c_try_link \"$LINENO\"; then :\n+  if ac_fn_cxx_try_link \"$LINENO\"; then :\n   ac_cv_search_exc_resume=$ac_res\n fi\n rm -f core conftest.err conftest.$ac_objext \\\n@@ -9261,7 +9337,7 @@ for ac_lib in '' kstat; do\n     ac_res=-l$ac_lib\n     LIBS=\"-l$ac_lib  $ac_func_search_save_LIBS\"\n   fi\n-  if ac_fn_c_try_link \"$LINENO\"; then :\n+  if ac_fn_cxx_try_link \"$LINENO\"; then :\n   ac_cv_search_kstat_open=$ac_res\n fi\n rm -f core conftest.err conftest.$ac_objext \\\n@@ -9325,7 +9401,7 @@ for ac_lib in '' m; do\n     ac_res=-l$ac_lib\n     LIBS=\"-l$ac_lib  $ac_func_search_save_LIBS\"\n   fi\n-  if ac_fn_c_try_link \"$LINENO\"; then :\n+  if ac_fn_cxx_try_link \"$LINENO\"; then :\n   ac_cv_search_ldexp=$ac_res\n fi\n rm -f core conftest.err conftest.$ac_objext \\\n@@ -9378,7 +9454,7 @@ choke me\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   gcc_cv_header_inttypes_h=yes\n else\n   gcc_cv_header_inttypes_h=no\n@@ -9402,7 +9478,7 @@ for ac_func in times clock kill getrlimit setrlimit atoll atoq \\\n \tclearerr_unlocked feof_unlocked   ferror_unlocked fflush_unlocked fgetc_unlocked fgets_unlocked   fileno_unlocked fprintf_unlocked fputc_unlocked fputs_unlocked   fread_unlocked fwrite_unlocked getchar_unlocked getc_unlocked   putchar_unlocked putc_unlocked madvise\n do :\n   as_ac_var=`$as_echo \"ac_cv_func_$ac_func\" | $as_tr_sh`\n-ac_fn_c_check_func \"$LINENO\" \"$ac_func\" \"$as_ac_var\"\n+ac_fn_cxx_check_func \"$LINENO\" \"$ac_func\" \"$as_ac_var\"\n eval as_val=\\$$as_ac_var\n    if test \"x$as_val\" = x\"\"yes; then :\n   cat >>confdefs.h <<_ACEOF\n@@ -9431,7 +9507,7 @@ int main()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_run \"$LINENO\"; then :\n+if ac_fn_cxx_try_run \"$LINENO\"; then :\n   gcc_cv_func_mbstowcs_works=yes\n else\n   gcc_cv_func_mbstowcs_works=no\n@@ -9450,7 +9526,7 @@ $as_echo \"#define HAVE_WORKING_MBSTOWCS 1\" >>confdefs.h\n   fi\n fi\n \n-ac_fn_c_check_type \"$LINENO\" \"ssize_t\" \"ac_cv_type_ssize_t\" \"$ac_includes_default\"\n+ac_fn_cxx_check_type \"$LINENO\" \"ssize_t\" \"ac_cv_type_ssize_t\" \"$ac_includes_default\"\n if test \"x$ac_cv_type_ssize_t\" = x\"\"yes; then :\n \n else\n@@ -9461,7 +9537,7 @@ _ACEOF\n \n fi\n \n-ac_fn_c_check_type \"$LINENO\" \"caddr_t\" \"ac_cv_type_caddr_t\" \"$ac_includes_default\"\n+ac_fn_cxx_check_type \"$LINENO\" \"caddr_t\" \"ac_cv_type_caddr_t\" \"$ac_includes_default\"\n if test \"x$ac_cv_type_caddr_t\" = x\"\"yes; then :\n \n else\n@@ -9474,14 +9550,14 @@ fi\n \n \n \n-ac_fn_c_check_header_preproc \"$LINENO\" \"sys/mman.h\" \"ac_cv_header_sys_mman_h\"\n+ac_fn_cxx_check_header_preproc \"$LINENO\" \"sys/mman.h\" \"ac_cv_header_sys_mman_h\"\n if test \"x$ac_cv_header_sys_mman_h\" = x\"\"yes; then :\n   gcc_header_sys_mman_h=yes\n else\n   gcc_header_sys_mman_h=no\n fi\n \n-ac_fn_c_check_func \"$LINENO\" \"mmap\" \"ac_cv_func_mmap\"\n+ac_fn_cxx_check_func \"$LINENO\" \"mmap\" \"ac_cv_func_mmap\"\n if test \"x$ac_cv_func_mmap\" = x\"\"yes; then :\n   gcc_func_mmap=yes\n else\n@@ -9562,7 +9638,7 @@ int n = MAP_ANONYMOUS;\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   gcc_cv_decl_map_anon=yes\n else\n   gcc_cv_decl_map_anon=no\n@@ -9622,7 +9698,7 @@ case \"${host}\" in\n   ac_cv_func_vfork_works=yes\n   ;;\n esac\n-ac_fn_c_check_type \"$LINENO\" \"pid_t\" \"ac_cv_type_pid_t\" \"$ac_includes_default\"\n+ac_fn_cxx_check_type \"$LINENO\" \"pid_t\" \"ac_cv_type_pid_t\" \"$ac_includes_default\"\n if test \"x$ac_cv_type_pid_t\" = x\"\"yes; then :\n \n else\n@@ -9635,7 +9711,7 @@ fi\n \n for ac_header in vfork.h\n do :\n-  ac_fn_c_check_header_preproc \"$LINENO\" \"vfork.h\" \"ac_cv_header_vfork_h\"\n+  ac_fn_cxx_check_header_preproc \"$LINENO\" \"vfork.h\" \"ac_cv_header_vfork_h\"\n if test \"x$ac_cv_header_vfork_h\" = x\"\"yes; then :\n   cat >>confdefs.h <<_ACEOF\n #define HAVE_VFORK_H 1\n@@ -9647,7 +9723,7 @@ done\n for ac_func in fork vfork\n do :\n   as_ac_var=`$as_echo \"ac_cv_func_$ac_func\" | $as_tr_sh`\n-ac_fn_c_check_func \"$LINENO\" \"$ac_func\" \"$as_ac_var\"\n+ac_fn_cxx_check_func \"$LINENO\" \"$ac_func\" \"$as_ac_var\"\n eval as_val=\\$$as_ac_var\n    if test \"x$as_val\" = x\"\"yes; then :\n   cat >>confdefs.h <<_ACEOF\n@@ -9680,7 +9756,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_run \"$LINENO\"; then :\n+if ac_fn_cxx_try_run \"$LINENO\"; then :\n   ac_cv_func_fork_works=yes\n else\n   ac_cv_func_fork_works=no\n@@ -9811,7 +9887,7 @@ main ()\n   }\n }\n _ACEOF\n-if ac_fn_c_try_run \"$LINENO\"; then :\n+if ac_fn_cxx_try_run \"$LINENO\"; then :\n   ac_cv_func_vfork_works=yes\n else\n   ac_cv_func_vfork_works=no\n@@ -9847,14 +9923,6 @@ $as_echo \"#define HAVE_WORKING_FORK 1\" >>confdefs.h\n fi\n \n \n-# g++ on Solaris 10+ defines _XOPEN_SOURCE=600, which exposes a different\n-# iconv() prototype.\n-ac_ext=cpp\n-ac_cpp='$CXXCPP $CPPFLAGS'\n-ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_cxx_compiler_gnu\n-\n \n       if test \"X$prefix\" = \"XNONE\"; then\n     acl_final_prefix=\"$ac_default_prefix\"\n@@ -10551,12 +10619,6 @@ _ACEOF\n \n   fi\n \n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-\n \n # Until we have in-tree GNU iconv:\n LIBICONV_DEP=\n@@ -10579,7 +10641,7 @@ return LC_MESSAGES\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_link \"$LINENO\"; then :\n+if ac_fn_cxx_try_link \"$LINENO\"; then :\n   am_cv_val_LC_MESSAGES=yes\n else\n   am_cv_val_LC_MESSAGES=no\n@@ -10613,7 +10675,7 @@ char* cs = nl_langinfo(CODESET);\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_link \"$LINENO\"; then :\n+if ac_fn_cxx_try_link \"$LINENO\"; then :\n   am_cv_langinfo_codeset=yes\n else\n   am_cv_langinfo_codeset=no\n@@ -10636,11 +10698,48 @@ saved_CFLAGS=\"$CFLAGS\"\n CFLAGS=\"$CFLAGS -I${srcdir} -I${srcdir}/../include $GMPINC\"\n saved_CXXFLAGS=\"$CXXFLAGS\"\n CXXFLAGS=\"$CXXFLAGS -I${srcdir} -I${srcdir}/../include $GMPINC\"\n+\n+# gcc_AC_CHECK_DECLS doesn't support overloaded functions, so use the\n+# normal autoconf function for these.  But force definition of\n+# HAVE_DECL_BASENAME like gcc_AC_CHECK_DECLS does, to suppress the bizarre\n+# basename handling in libiberty.h.\n+ac_fn_cxx_check_decl \"$LINENO\" \"basename(const char*)\" \"ac_cv_have_decl_basename_const_charp_\" \"\n+#undef HAVE_DECL_BASENAME\n+#define HAVE_DECL_BASENAME 1\n+#include \\\"ansidecl.h\\\"\n+#include \\\"system.h\\\"\n+\"\n+if test \"x$ac_cv_have_decl_basename_const_charp_\" = x\"\"yes; then :\n+  ac_have_decl=1\n+else\n+  ac_have_decl=0\n+fi\n+\n+cat >>confdefs.h <<_ACEOF\n+#define HAVE_DECL_BASENAME $ac_have_decl\n+_ACEOF\n+ac_fn_cxx_check_decl \"$LINENO\" \"strstr(const char*,const char*)\" \"ac_cv_have_decl_strstr_const_charp_const_charp_\" \"\n+#undef HAVE_DECL_BASENAME\n+#define HAVE_DECL_BASENAME 1\n+#include \\\"ansidecl.h\\\"\n+#include \\\"system.h\\\"\n+\"\n+if test \"x$ac_cv_have_decl_strstr_const_charp_const_charp_\" = x\"\"yes; then :\n+  ac_have_decl=1\n+else\n+  ac_have_decl=0\n+fi\n+\n+cat >>confdefs.h <<_ACEOF\n+#define HAVE_DECL_STRSTR $ac_have_decl\n+_ACEOF\n+\n+\n for ac_func in getenv atol asprintf sbrk abort atof getcwd getwd \\\n-\tstpcpy strnlen strsignal strstr strverscmp \\\n+\tmadvise stpcpy strnlen strsignal strverscmp \\\n \tstrtol strtoul strtoll strtoull \\\n \terrno snprintf vsnprintf vasprintf malloc realloc calloc \\\n-\tfree basename getopt clock getpagesize ffs clearerr_unlocked feof_unlocked   ferror_unlocked fflush_unlocked fgetc_unlocked fgets_unlocked   fileno_unlocked fprintf_unlocked fputc_unlocked fputs_unlocked   fread_unlocked fwrite_unlocked getchar_unlocked getc_unlocked   putchar_unlocked putc_unlocked\n+\tfree getopt clock getpagesize ffs clearerr_unlocked feof_unlocked   ferror_unlocked fflush_unlocked fgetc_unlocked fgets_unlocked   fileno_unlocked fprintf_unlocked fputc_unlocked fputs_unlocked   fread_unlocked fwrite_unlocked getchar_unlocked getc_unlocked   putchar_unlocked putc_unlocked\n do\n   ac_tr_decl=`$as_echo \"HAVE_DECL_$ac_func\" | $as_tr_cpp`\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether $ac_func is declared\" >&5\n@@ -10666,7 +10765,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n   eval \"gcc_cv_have_decl_$ac_func=no\"\n@@ -10721,7 +10820,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n   eval \"gcc_cv_have_decl_$ac_func=no\"\n@@ -10763,7 +10862,7 @@ rlim_t l = 0;\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n \n else\n \n@@ -10808,7 +10907,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n   eval \"gcc_cv_have_decl_$ac_func=no\"\n@@ -10863,7 +10962,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n   eval \"gcc_cv_have_decl_$ac_func=no\"\n@@ -10906,66 +11005,6 @@ else\n #include <signal.h>\n \n \n-int\n-main ()\n-{\n-#ifndef $ac_func\n-char *(*pfn) = (char *(*)) $ac_func ;\n-#endif\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  eval \"gcc_cv_have_decl_$ac_func=yes\"\n-else\n-  eval \"gcc_cv_have_decl_$ac_func=no\"\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-fi\n-\n-if eval \"test \\\"`echo '$gcc_cv_have_decl_'$ac_func`\\\" = yes\"; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n-$as_echo \"yes\" >&6; } ; cat >>confdefs.h <<_ACEOF\n-#define $ac_tr_decl 1\n-_ACEOF\n-\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; } ; cat >>confdefs.h <<_ACEOF\n-#define $ac_tr_decl 0\n-_ACEOF\n-\n-fi\n-\n-done\n-\n-\n-# g++ on Solaris 10+ defines _XOPEN_SOURCE=600, which hides the madvise()\n-# prototype.\n-ac_ext=cpp\n-ac_cpp='$CXXCPP $CPPFLAGS'\n-ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_cxx_compiler_gnu\n-\n-for ac_func in madvise\n-do\n-  ac_tr_decl=`$as_echo \"HAVE_DECL_$ac_func\" | $as_tr_cpp`\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether $ac_func is declared\" >&5\n-$as_echo_n \"checking whether $ac_func is declared... \" >&6; }\n-if { as_var=gcc_cv_have_decl_$ac_func; eval \"test \\\"\\${$as_var+set}\\\" = set\"; }; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#undef $ac_tr_decl\n-#define $ac_tr_decl 1\n-\n-  #include \"ansidecl.h\"\n-  #include \"system.h\"\n-\n-\n int\n main ()\n {\n@@ -11000,12 +11039,6 @@ fi\n \n done\n \n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-\n \n # More time-related stuff.\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for struct tms\" >&5\n@@ -11031,7 +11064,7 @@ struct tms tms;\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_struct_tms=yes\n else\n   ac_cv_struct_tms=no\n@@ -11068,7 +11101,7 @@ clock_t x;\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   gcc_cv_type_clock_t=yes\n else\n   gcc_cv_type_clock_t=no\n@@ -11108,7 +11141,7 @@ return fcntl (1, F_SETLKW, &fl);\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_f_setlkw=yes\n else\n   ac_cv_f_setlkw=no\n@@ -11154,7 +11187,7 @@ mkdir (\"foo\", 0);\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   gcc_cv_mkdir_takes_one_arg=no\n else\n   gcc_cv_mkdir_takes_one_arg=yes\n@@ -11383,7 +11416,7 @@ else\n int main() { mcontext_t m; if (m->ss.srr0) return 0; return 0; }\n \n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   gcc_cv_mcontext_underscores=no\n else\n   gcc_cv_mcontext_underscores=yes\n@@ -11448,7 +11481,7 @@ if test x$enable___cxa_atexit = xyes || \\\n \tuse_cxa_atexit=yes\n \t;;\n       *)\n-\tac_fn_c_check_func \"$LINENO\" \"__cxa_atexit\" \"ac_cv_func___cxa_atexit\"\n+\tac_fn_cxx_check_func \"$LINENO\" \"__cxa_atexit\" \"ac_cv_func___cxa_atexit\"\n if test \"x$ac_cv_func___cxa_atexit\" = x\"\"yes; then :\n   use_cxa_atexit=yes\n else\n@@ -11761,7 +11794,7 @@ for ac_lib in '' advapi32; do\n     ac_res=-l$ac_lib\n     LIBS=\"-l$ac_lib  $ac_func_search_save_LIBS\"\n   fi\n-  if ac_fn_c_try_link \"$LINENO\"; then :\n+  if ac_fn_cxx_try_link \"$LINENO\"; then :\n   ac_cv_search_RegOpenKeyExA=$ac_res\n fi\n rm -f core conftest.err conftest.$ac_objext \\\n@@ -13850,6 +13883,7 @@ fi\n \n \n \n+\n \n \n # Check whether --enable-libtool-lock was given.\n@@ -14673,6 +14707,7 @@ $as_echo \"$lt_cv_ld_force_load\" >&6; }\n     ;;\n   esac\n \n+\n for ac_header in dlfcn.h\n do :\n   ac_fn_c_check_header_preproc \"$LINENO\" \"dlfcn.h\" \"ac_cv_header_dlfcn_h\"\n@@ -18162,7 +18197,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 18165 \"configure\"\n+#line 18200 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -18268,7 +18303,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 18271 \"configure\"\n+#line 18306 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -18477,11 +18512,11 @@ $as_echo \"$enable_static\" >&6; }\n \n \n fi\n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n+ac_ext=cpp\n+ac_cpp='$CXXCPP $CPPFLAGS'\n+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu\n \n CC=\"$lt_save_CC\"\n \n@@ -18615,11 +18650,11 @@ as_fn_error \"C++ preprocessor \\\"$CXXCPP\\\" fails sanity check\n See \\`config.log' for more details.\" \"$LINENO\" 5; }\n fi\n \n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n+ac_ext=cpp\n+ac_cpp='$CXXCPP $CPPFLAGS'\n+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu\n \n else\n   _lt_caught_CXX_error=yes\n@@ -21495,11 +21530,11 @@ fi\n   lt_cv_prog_gnu_ld=$lt_save_with_gnu_ld\n fi # test \"$_lt_caught_CXX_error\" != yes\n \n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n+ac_ext=cpp\n+ac_cpp='$CXXCPP $CPPFLAGS'\n+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu\n \n \n \n@@ -22630,7 +22665,7 @@ int foo (void) { x = 0; }\n int (*fp) (void) __attribute__ ((section (\".init_array\"))) = foo;\n \n _ACEOF\n-if ac_fn_c_try_run \"$LINENO\"; then :\n+if ac_fn_cxx_try_run \"$LINENO\"; then :\n   gcc_cv_initfini_array=yes\n else\n   gcc_cv_initfini_array=no\n@@ -22709,7 +22744,7 @@ EOF\n #endif\n \n _ACEOF\n-if ac_fn_c_try_cpp \"$LINENO\"; then :\n+if ac_fn_cxx_try_cpp \"$LINENO\"; then :\n \n else\n   gcc_cv_initfini_array=no\n@@ -24721,7 +24756,7 @@ fi\n \t# etc., as per n2800 #17.6.4.6 [replacement.functions].  Check if we\n \t# are configuring for a version of Cygwin that exports the wrappers.\n \tif test x$host = x$target && test x$host_cpu = xi686; then\n-\t  ac_fn_c_check_func \"$LINENO\" \"__wrap__Znaj\" \"ac_cv_func___wrap__Znaj\"\n+\t  ac_fn_cxx_check_func \"$LINENO\" \"__wrap__Znaj\" \"ac_cv_func___wrap__Znaj\"\n if test \"x$ac_cv_func___wrap__Znaj\" = x\"\"yes; then :\n   gcc_ac_cygwin_dll_wrappers=yes\n else\n@@ -27443,7 +27478,7 @@ for clearcap_map in sol2-clearcapv2.map sol2-clearcap.map; do\n /* end confdefs.h.  */\n int main(void) {return 0;}\n _ACEOF\n-if ac_fn_c_try_link \"$LINENO\"; then :\n+if ac_fn_cxx_try_link \"$LINENO\"; then :\n   gcc_cv_ld_clearcap=yes; break\n else\n   gcc_cv_ld_clearcap=no\n@@ -27778,7 +27813,7 @@ fi\n \t # All supported versions of musl provide it as well\n \t gcc_cv_libc_provides_ssp=yes;;\n        *-*-darwin* | *-*-freebsd*)\n-\t ac_fn_c_check_func \"$LINENO\" \"__stack_chk_fail\" \"ac_cv_func___stack_chk_fail\"\n+\t ac_fn_cxx_check_func \"$LINENO\" \"__stack_chk_fail\" \"ac_cv_func___stack_chk_fail\"\n if test \"x$ac_cv_func___stack_chk_fail\" = x\"\"yes; then :\n   gcc_cv_libc_provides_ssp=yes\n else\n@@ -28269,7 +28304,7 @@ isl_schedule_constraints_compute_schedule (NULL);\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_link \"$LINENO\"; then :\n+if ac_fn_cxx_try_link \"$LINENO\"; then :\n   ac_has_isl_schedule_constraints_compute_schedule=yes\n else\n   ac_has_isl_schedule_constraints_compute_schedule=no\n@@ -28386,7 +28421,7 @@ for ac_lib in '' dl; do\n     ac_res=-l$ac_lib\n     LIBS=\"-l$ac_lib  $ac_func_search_save_LIBS\"\n   fi\n-  if ac_fn_c_try_link \"$LINENO\"; then :\n+  if ac_fn_cxx_try_link \"$LINENO\"; then :\n   ac_cv_search_dlopen=$ac_res\n fi\n rm -f core conftest.err conftest.$ac_objext \\\n@@ -28443,7 +28478,7 @@ return X == 0;\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_link \"$LINENO\"; then :\n+if ac_fn_cxx_try_link \"$LINENO\"; then :\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n $as_echo \"yes\" >&6; }; have_pic_shared=yes\n else"}, {"sha": "5f9ed924fdb38197ea034f448397a0fb755e4e2d", "filename": "gcc/configure.ac", "status": "modified", "additions": 16, "deletions": 23, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/13ccfea8fa39f448f5630274b868b3b8a3a448c1/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/13ccfea8fa39f448f5630274b868b3b8a3a448c1/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=13ccfea8fa39f448f5630274b868b3b8a3a448c1", "patch": "@@ -285,6 +285,9 @@ AC_PROG_CC\n AC_PROG_CXX\n ACX_PROG_GNAT([-I\"$srcdir\"/ada])\n \n+# Do configure tests with the C++ compiler, since that's what we build with.\n+AC_LANG(C++)\n+\n # Remove the -O2: for historical reasons, unless bootstrapping we prefer\n # optimizations to be activated explicitly by the toplevel.\n case \"$CC\" in\n@@ -321,7 +324,6 @@ if test x\"$ac_cv_c_uint64_t\" = x\"no\" -o x\"$ac_cv_c_int64_t\" = x\"no\"; then\n fi\n \n # check what underlying integer type int64_t uses\n-AC_LANG_PUSH(C++)\n AC_CACHE_CHECK(for int64_t underlying type, ac_cv_int64_t_type, [\n AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[\n #ifdef HAVE_STDINT_H\n@@ -344,7 +346,6 @@ template <>\n struct X<long long> { typedef long long t; };\n ]], [[X<int64_t>::t x;]])],[],[AC_MSG_ERROR([error verifying int64_t uses long long])])\n fi\n-AC_LANG_POP(C++)\n \n \n \n@@ -1050,19 +1051,14 @@ m4_pushdef([AC_MSG_ERROR], m4_defn([AC_MSG_WARN]))[]dnl\n AC_PROG_CXXCPP\n m4_popdef([AC_MSG_ERROR])[]dnl\n \n-AC_LANG_PUSH(C++)\n-\n AC_CHECK_HEADERS(unordered_map)\n AC_CHECK_HEADERS(tr1/unordered_map)\n AC_CHECK_HEADERS(ext/hash_map)\n \n-AC_LANG_POP(C++)\n-\n # --------\n # Dependency checking.\n # --------\n \n-AC_LANG_PUSH(C++)\n ZW_CREATE_DEPDIR\n AC_CONFIG_COMMANDS([gccdepdir],[\n   ${CONFIG_SHELL-/bin/sh} $ac_aux_dir/mkinstalldirs build/$DEPDIR\n@@ -1072,7 +1068,6 @@ AC_CONFIG_COMMANDS([gccdepdir],[\n   done], [subdirs=\"$subdirs\" ac_aux_dir=$ac_aux_dir DEPDIR=$DEPDIR])\n \n ZW_PROG_COMPILER_DEPENDENCIES([CXX])\n-AC_LANG_POP(C++)\n \n # --------\n # UNSORTED\n@@ -1192,11 +1187,7 @@ case \"${host}\" in\n esac\n AC_FUNC_FORK\n \n-# g++ on Solaris 10+ defines _XOPEN_SOURCE=600, which exposes a different\n-# iconv() prototype.\n-AC_LANG_PUSH([C++])\n AM_ICONV\n-AC_LANG_POP([C++])\n \n # Until we have in-tree GNU iconv:\n LIBICONV_DEP=\n@@ -1211,11 +1202,22 @@ saved_CFLAGS=\"$CFLAGS\"\n CFLAGS=\"$CFLAGS -I${srcdir} -I${srcdir}/../include $GMPINC\"\n saved_CXXFLAGS=\"$CXXFLAGS\"\n CXXFLAGS=\"$CXXFLAGS -I${srcdir} -I${srcdir}/../include $GMPINC\"\n+\n+# gcc_AC_CHECK_DECLS doesn't support overloaded functions, so use the\n+# normal autoconf function for these.  But force definition of\n+# HAVE_DECL_BASENAME like gcc_AC_CHECK_DECLS does, to suppress the bizarre\n+# basename handling in libiberty.h.\n+AC_CHECK_DECLS([basename(const char*), strstr(const char*,const char*)], , ,[\n+#undef HAVE_DECL_BASENAME\n+#define HAVE_DECL_BASENAME 1\n+#include \"ansidecl.h\"\n+#include \"system.h\"])\n+\n gcc_AC_CHECK_DECLS(getenv atol asprintf sbrk abort atof getcwd getwd \\\n-\tstpcpy strnlen strsignal strstr strverscmp \\\n+\tmadvise stpcpy strnlen strsignal strverscmp \\\n \tstrtol strtoul strtoll strtoull \\\n \terrno snprintf vsnprintf vasprintf malloc realloc calloc \\\n-\tfree basename getopt clock getpagesize ffs gcc_UNLOCKED_FUNCS, , ,[\n+\tfree getopt clock getpagesize ffs gcc_UNLOCKED_FUNCS, , ,[\n #include \"ansidecl.h\"\n #include \"system.h\"])\n \n@@ -1264,15 +1266,6 @@ gcc_AC_CHECK_DECLS(sigaltstack, , ,[\n #include <signal.h>\n ])\n \n-# g++ on Solaris 10+ defines _XOPEN_SOURCE=600, which hides the madvise()\n-# prototype.\n-AC_LANG_PUSH([C++])\n-gcc_AC_CHECK_DECLS(madvise, , ,[\n-  #include \"ansidecl.h\"\n-  #include \"system.h\"\n-])\n-AC_LANG_POP([C++])\n-\n # More time-related stuff.\n AC_CACHE_CHECK(for struct tms, ac_cv_struct_tms, [\n AC_COMPILE_IFELSE([AC_LANG_PROGRAM([["}]}