{"sha": "fd1935d5e1d1db05547cbcf866e8afc26d1132f3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmQxOTM1ZDVlMWQxZGIwNTU0N2NiY2Y4NjZlOGFmYzI2ZDExMzJmMw==", "commit": {"author": {"name": "Tobias Burnus", "email": "burnus@net-b.de", "date": "2008-01-22T07:33:46Z"}, "committer": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2008-01-22T07:33:46Z"}, "message": "re PR fortran/34899 (Continuation lines with <tab><number> not recognized)\n\n2008-01-22  Tobias Burnus  <burnus@net-b.de>\n\n        PR fortran/34899\n        * scanner.c (load_line): Support <tab><digit> continuation\n        * lines.\n        * invoke.texi (-Wtabs): Document this.\n\n2008-01-22  Tobias Burnus  <burnus@net-b.de>\n\n        PR fortran/34899\n        * gfortran.dg/tab_continuation.f: New.\n\nFrom-SVN: r131713", "tree": {"sha": "c296af0517ea5fbeb3b28b77ed5faa3ef2d09626", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c296af0517ea5fbeb3b28b77ed5faa3ef2d09626"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fd1935d5e1d1db05547cbcf866e8afc26d1132f3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd1935d5e1d1db05547cbcf866e8afc26d1132f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd1935d5e1d1db05547cbcf866e8afc26d1132f3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd1935d5e1d1db05547cbcf866e8afc26d1132f3/comments", "author": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "87a64f537b2da1b02a7ec0de254b60614db72074", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87a64f537b2da1b02a7ec0de254b60614db72074", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87a64f537b2da1b02a7ec0de254b60614db72074"}], "stats": {"total": 57, "additions": 49, "deletions": 8}, "files": [{"sha": "57c9142ba940b21b135fd3294d557e6d3acd4708", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd1935d5e1d1db05547cbcf866e8afc26d1132f3/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd1935d5e1d1db05547cbcf866e8afc26d1132f3/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=fd1935d5e1d1db05547cbcf866e8afc26d1132f3", "patch": "@@ -1,3 +1,9 @@\n+2008-01-22  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/34899\n+\t* scanner.c (load_line): Support <tab><digit> continuation lines.\n+\t* invoke.texi (-Wtabs): Document this.\n+\n 2008-01-22  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/34896"}, {"sha": "0a67785d299327a7d5afccf43f301ab8c552e106", "filename": "gcc/fortran/invoke.texi", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd1935d5e1d1db05547cbcf866e8afc26d1132f3/gcc%2Ffortran%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd1935d5e1d1db05547cbcf866e8afc26d1132f3/gcc%2Ffortran%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Finvoke.texi?ref=fd1935d5e1d1db05547cbcf866e8afc26d1132f3", "patch": "@@ -499,10 +499,11 @@ A TRANSFER specifies a source that is shorter than the destination.\n @cindex warnings, tabs\n @cindex tabulators\n By default, tabs are accepted as whitespace, but tabs are not members\n-of the Fortran Character Set.  @option{-Wno-tabs} will cause a warning\n-to be issued if a tab is encountered. Note, @option{-Wno-tabs} is active\n-for @option{-pedantic}, @option{-std=f95}, @option{-std=f2003}, and\n-@option{-Wall}.\n+of the Fortran Character Set.  For continuation lines, a tab followed\n+by a digit between 1 and 9 is supported.  @option{-Wno-tabs} will cause\n+a warning to be issued if a tab is encountered. Note, @option{-Wno-tabs}\n+is active for @option{-pedantic}, @option{-std=f95}, @option{-std=f2003},\n+and @option{-Wall}.\n \n @item -Wunderflow\n @opindex @code{Wunderflow}"}, {"sha": "9bbb06581c986aaf1a652066f23a5ed5850a2b1e", "filename": "gcc/fortran/scanner.c", "status": "modified", "additions": 18, "deletions": 4, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd1935d5e1d1db05547cbcf866e8afc26d1132f3/gcc%2Ffortran%2Fscanner.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd1935d5e1d1db05547cbcf866e8afc26d1132f3/gcc%2Ffortran%2Fscanner.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fscanner.c?ref=fd1935d5e1d1db05547cbcf866e8afc26d1132f3", "patch": "@@ -1106,6 +1106,7 @@ load_line (FILE *input, char **pbuf, int *pbuflen)\n   int trunc_flag = 0, seen_comment = 0;\n   int seen_printable = 0, seen_ampersand = 0;\n   char *buffer;\n+  bool found_tab = false;\n \n   /* Determine the maximum allowed line length.  */\n   if (gfc_current_form == FORM_FREE)\n@@ -1184,17 +1185,30 @@ load_line (FILE *input, char **pbuf, int *pbuflen)\n \t  && (c == '*' || c == 'c' || c == 'd'))\n \tseen_comment = 1;\n \n-      if (gfc_current_form == FORM_FIXED && c == '\\t' && i <= 6)\n+      /* Vendor extension: \"<tab>1\" marks a continuation line.  */\n+      if (found_tab)\n \t{\n+\t  found_tab = false;\n+\t  if (c >= '1' && c <= '9')\n+\t    {\n+\t      *(buffer-1) = c;\n+\t      continue;\n+\t    }\n+\t}\n+\n+      if (gfc_current_form == FORM_FIXED && c == '\\t' && i < 6)\n+\t{\n+\t  found_tab = true;\n+\n \t  if (!gfc_option.warn_tabs && seen_comment == 0\n \t      && current_line != linenum)\n \t    {\n \t      linenum = current_line;\n-\t      gfc_warning_now (\"Nonconforming tab character in column 1 \"\n-\t\t\t       \"of line %d\", linenum);\n+\t      gfc_warning_now (\"Nonconforming tab character in column %d \"\n+\t\t\t       \"of line %d\", i+1, linenum);\n \t    }\n \n-\t  while (i <= 6)\n+\t  while (i < 6)\n \t    {\n \t      *buffer++ = ' ';\n \t      i++;"}, {"sha": "7e4fd057f0aa5213a0a29613a5ccff7842f148f9", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd1935d5e1d1db05547cbcf866e8afc26d1132f3/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd1935d5e1d1db05547cbcf866e8afc26d1132f3/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=fd1935d5e1d1db05547cbcf866e8afc26d1132f3", "patch": "@@ -1,3 +1,8 @@\n+2008-01-22  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/34899\n+\t* gfortran.dg/tab_continuation.f: New.\n+\n 2008-01-22  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/34896"}, {"sha": "448cd20864e4136d9ac43b3894b74327f82b14eb", "filename": "gcc/testsuite/gfortran.dg/tab_continuation.f", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd1935d5e1d1db05547cbcf866e8afc26d1132f3/gcc%2Ftestsuite%2Fgfortran.dg%2Ftab_continuation.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd1935d5e1d1db05547cbcf866e8afc26d1132f3/gcc%2Ftestsuite%2Fgfortran.dg%2Ftab_continuation.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Ftab_continuation.f?ref=fd1935d5e1d1db05547cbcf866e8afc26d1132f3", "patch": "@@ -0,0 +1,15 @@\n+! { dg-do compile }\n+!\n+! PR fortran/34899\n+!\n+! Allow <tab>1 to <tab>9 as continuation marker, which is a very common\n+! vendor extension.\n+!\n+\tPARAMETER (LUMIN=11,LUMAX=20,MAPMAX=256,NPLANEMAX=999)\n+\tINTEGER NAXIS(0:MAPMAX,LUMIN:LUMAX),NAXIS1(0:MAPMAX,LUMIN:LUMAX),\n+\t1NAXIS2(0:MAPMAX,LUMIN:LUMAX),NAXIS3(0:MAPMAX,LUMIN:LUMAX)\n+\tend\n+! { dg-warning \"Nonconforming tab character in column 1 of line 8\" \"Nonconforming tab\" {target \"*-*-*\"} 0 }\n+! { dg-warning \"Nonconforming tab character in column 1 of line 9\" \"Nonconforming tab\" {target \"*-*-*\"} 0 }\n+! { dg-warning \"Nonconforming tab character in column 1 of line 10\" \"Nonconforming tab\" {target \"*-*-*\"} 0 }\n+! { dg-warning \"Nonconforming tab character in column 1 of line 11\" \"Nonconforming tab\" {target \"*-*-*\"} 0 }"}]}