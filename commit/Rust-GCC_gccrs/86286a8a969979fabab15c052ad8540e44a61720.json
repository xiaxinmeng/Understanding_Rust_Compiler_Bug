{"sha": "86286a8a969979fabab15c052ad8540e44a61720", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODYyODZhOGE5Njk5NzlmYWJhYjE1YzA1MmFkODU0MGU0NGE2MTcyMA==", "commit": {"author": {"name": "Tristan Gingold", "email": "gingold@adacore.com", "date": "2012-03-16T10:58:28Z"}, "committer": {"name": "Tristan Gingold", "email": "gingold@gcc.gnu.org", "date": "2012-03-16T10:58:28Z"}, "message": "vms-unwind.h: Remove ulong (and replace it by unw_reg where used).\n\n2012-03-16  Tristan Gingold  <gingold@adacore.com>\n\n\t* config/ia64/vms-unwind.h: Remove ulong (and replace\n\tit by unw_reg where used).  Define unw_reg with __int64.\n\nFrom-SVN: r185463", "tree": {"sha": "53b4c257d5d612ef4e18159f30e1da73141aa838", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/53b4c257d5d612ef4e18159f30e1da73141aa838"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/86286a8a969979fabab15c052ad8540e44a61720", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86286a8a969979fabab15c052ad8540e44a61720", "html_url": "https://github.com/Rust-GCC/gccrs/commit/86286a8a969979fabab15c052ad8540e44a61720", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86286a8a969979fabab15c052ad8540e44a61720/comments", "author": {"login": "gingold-adacore", "id": 16334725, "node_id": "MDQ6VXNlcjE2MzM0NzI1", "avatar_url": "https://avatars.githubusercontent.com/u/16334725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gingold-adacore", "html_url": "https://github.com/gingold-adacore", "followers_url": "https://api.github.com/users/gingold-adacore/followers", "following_url": "https://api.github.com/users/gingold-adacore/following{/other_user}", "gists_url": "https://api.github.com/users/gingold-adacore/gists{/gist_id}", "starred_url": "https://api.github.com/users/gingold-adacore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gingold-adacore/subscriptions", "organizations_url": "https://api.github.com/users/gingold-adacore/orgs", "repos_url": "https://api.github.com/users/gingold-adacore/repos", "events_url": "https://api.github.com/users/gingold-adacore/events{/privacy}", "received_events_url": "https://api.github.com/users/gingold-adacore/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6ceb677f26951e8c06da7f565db05ce482a80f8a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ceb677f26951e8c06da7f565db05ce482a80f8a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ceb677f26951e8c06da7f565db05ce482a80f8a"}], "stats": {"total": 24, "additions": 14, "deletions": 10}, "files": [{"sha": "744dd93355a1ef4dfa0af39de59aa6dccb4b99b0", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86286a8a969979fabab15c052ad8540e44a61720/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86286a8a969979fabab15c052ad8540e44a61720/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=86286a8a969979fabab15c052ad8540e44a61720", "patch": "@@ -1,3 +1,8 @@\n+2012-03-16  Tristan Gingold  <gingold@adacore.com>\n+\n+\t* config/ia64/vms-unwind.h: Remove ulong (and replace\n+\tit by unw_reg where used).  Define unw_reg with __int64.\n+\n 2012-03-14  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* config/i386/sol2-unwind.h (x86_fallback_frame_state): Remove"}, {"sha": "6fd9ac006d343d04abde7de348aa51921a86a57c", "filename": "libgcc/config/ia64/vms-unwind.h", "status": "modified", "additions": 9, "deletions": 10, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86286a8a969979fabab15c052ad8540e44a61720/libgcc%2Fconfig%2Fia64%2Fvms-unwind.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86286a8a969979fabab15c052ad8540e44a61720/libgcc%2Fconfig%2Fia64%2Fvms-unwind.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fia64%2Fvms-unwind.h?ref=86286a8a969979fabab15c052ad8540e44a61720", "patch": "@@ -49,9 +49,8 @@ extern int LIB$I64_INIT_INVO_CONTEXT (INVO_CONTEXT_BLK *, int, int);\n extern int LIB$I64_GET_CURR_INVO_CONTEXT (INVO_CONTEXT_BLK *);\n extern int LIB$I64_GET_PREV_INVO_CONTEXT (INVO_CONTEXT_BLK *);\n \n-typedef unsigned long ulong;\n typedef unsigned int uint;\n-typedef unsigned long uw_reg;\n+typedef unsigned __int64 uw_reg;\n typedef uw_reg * uw_loc;\n \n typedef char fp_reg[16];\n@@ -179,8 +178,8 @@ ia64_vms_fallback_frame_state (struct _Unwind_Context *context,\n \n   if (eh_debug)\n     printf (\"User frame, \"\n-\t    \"chfmech @ 0x%lx, chfsig64 @ 0x%lx, intstk @ 0x%lx\\n\",\n-\t    (ulong)chfmech, (ulong)chfsig64, (ulong)intstk);\n+\t    \"chfmech @ 0x%p, chfsig64 @ 0x%p, intstk @ 0x%p\\n\",\n+\t    chfmech, chfsig64, intstk);\n \n   /* Step 2 :\n      ------------------------------------------------------------------------\n@@ -239,10 +238,10 @@ ia64_vms_fallback_frame_state (struct _Unwind_Context *context,\n      trick already) and how this would be handled.  Blind alpha tentative\n      below for experimentation purposes in malfunctioning cases.  */\n   {\n-    ulong q_bsp      = (ulong) intstk->intstk$q_bsp;\n-    ulong q_bspstore = (ulong) intstk->intstk$q_bspstore;\n-    ulong q_bspbase  = (ulong) intstk->intstk$q_bspbase;\n-    ulong ih_bspbase = (ulong) icb->libicb$ih_bspbase;\n+    uw_reg q_bsp      = (uw_reg) intstk->intstk$q_bsp;\n+    uw_reg q_bspstore = (uw_reg) intstk->intstk$q_bspstore;\n+    uw_reg q_bspbase  = (uw_reg) intstk->intstk$q_bspbase;\n+    uw_reg ih_bspbase = (uw_reg) icb->libicb$ih_bspbase;\n     \n     if (eh_debug)\n       printf (\"q_bspstore = 0x%lx, q_bsp = 0x%lx, q_bspbase = 0x%lx\\n\"\n@@ -254,8 +253,8 @@ ia64_vms_fallback_frame_state (struct _Unwind_Context *context,\n        nothing resulted in proper behavior.  */\n     if (q_bspstore < q_bsp && ih_bspbase && try_bs_copy)\n       {\n-\tulong dirty_size = q_bsp - q_bspstore;\n-\tulong q_rnat = (ulong) intstk->intstk$q_rnat;\n+\tuw_reg dirty_size = q_bsp - q_bspstore;\n+\tuw_reg q_rnat = (uw_reg) intstk->intstk$q_rnat;\n \n \tif (eh_debug)\n \t  printf (\"Attempting an alternate backing store copy ...\\n\");"}]}