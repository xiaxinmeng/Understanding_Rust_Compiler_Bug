{"sha": "3c398f341f8144ca380fc8820ab23d6cace90445", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2MzOThmMzQxZjgxNDRjYTM4MGZjODgyMGFiMjNkNmNhY2U5MDQ0NQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2004-02-03T17:59:58Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2004-02-03T17:59:58Z"}, "message": "re PR c++/14002 (Friend declaration with template-id causes confusion of function arguments)\n\n\tPR c++/14002\n\t* semantics.c (finish_id_expression): Do not return an\n\tIDENTIFIER_NODE when lookup finds a PARM_DECL.\n\n\tPR c++/14002\n\t* g++.dg/parse/template13.C: New test.\n\nFrom-SVN: r77183", "tree": {"sha": "64c2d418be47ee0413e8586849d3a385799239e5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/64c2d418be47ee0413e8586849d3a385799239e5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3c398f341f8144ca380fc8820ab23d6cace90445", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c398f341f8144ca380fc8820ab23d6cace90445", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3c398f341f8144ca380fc8820ab23d6cace90445", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c398f341f8144ca380fc8820ab23d6cace90445/comments", "author": null, "committer": null, "parents": [{"sha": "83042fcaec9b5763ddc895a57c6618afbfc4c897", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83042fcaec9b5763ddc895a57c6618afbfc4c897", "html_url": "https://github.com/Rust-GCC/gccrs/commit/83042fcaec9b5763ddc895a57c6618afbfc4c897"}], "stats": {"total": 37, "additions": 36, "deletions": 1}, "files": [{"sha": "a4c9c816ae314b7ca2c7074ce34e6b05eee9e2cb", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c398f341f8144ca380fc8820ab23d6cace90445/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c398f341f8144ca380fc8820ab23d6cace90445/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=3c398f341f8144ca380fc8820ab23d6cace90445", "patch": "@@ -1,3 +1,9 @@\n+2004-02-03  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR c++/14002\n+\t* semantics.c (finish_id_expression): Do not return an\n+\tIDENTIFIER_NODE when lookup finds a PARM_DECL.\n+\n 2004-02-03  Mark Mitchell  <mark@codesourcery.com>\n \n \tPR c++/13978"}, {"sha": "511c7bc934865e98d446efa1839dca1faa5e1ae7", "filename": "gcc/cp/semantics.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c398f341f8144ca380fc8820ab23d6cace90445/gcc%2Fcp%2Fsemantics.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c398f341f8144ca380fc8820ab23d6cace90445/gcc%2Fcp%2Fsemantics.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fsemantics.c?ref=3c398f341f8144ca380fc8820ab23d6cace90445", "patch": "@@ -2527,7 +2527,8 @@ finish_id_expression (tree id_expression,\n \t  /* If we found a variable, then name lookup during the\n \t     instantiation will always resolve to the same VAR_DECL\n \t     (or an instantiation thereof).  */\n-\t  if (TREE_CODE (decl) == VAR_DECL)\n+\t  if (TREE_CODE (decl) == VAR_DECL\n+\t      || TREE_CODE (decl) == PARM_DECL)\n \t    return decl;\n \t  return id_expression;\n \t}"}, {"sha": "b08666a3ba167fadb3034acb1fee4574d3c6e466", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c398f341f8144ca380fc8820ab23d6cace90445/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c398f341f8144ca380fc8820ab23d6cace90445/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=3c398f341f8144ca380fc8820ab23d6cace90445", "patch": "@@ -1,3 +1,8 @@\n+2004-02-03  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR c++/14002\n+\t* g++.dg/parse/template13.C: New test.\n+\n 2004-02-03  Mark Mitchell  <mark@codesourcery.com>\n \n \tPR c++/13978"}, {"sha": "15642e39ed7bb2d65f916a29f5e8bf2a469e7738", "filename": "gcc/testsuite/g++.dg/parse/error13.C", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c398f341f8144ca380fc8820ab23d6cace90445/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ferror13.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c398f341f8144ca380fc8820ab23d6cace90445/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ferror13.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ferror13.C?ref=3c398f341f8144ca380fc8820ab23d6cace90445", "patch": "@@ -0,0 +1,13 @@\n+// PR c++/13975\n+\n+public: // { dg-error \"\" }\n+\n+int i;\n+\n+protected: // { dg-error \"\" }\n+\n+int j;\n+\n+private: // { dg-error \"\" }\n+\n+int k;"}, {"sha": "b1c03690be53ffa446795024ec5fde13f8ffe2f0", "filename": "gcc/testsuite/g++.dg/parse/template13.C", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c398f341f8144ca380fc8820ab23d6cace90445/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ftemplate13.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c398f341f8144ca380fc8820ab23d6cace90445/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ftemplate13.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ftemplate13.C?ref=3c398f341f8144ca380fc8820ab23d6cace90445", "patch": "@@ -0,0 +1,10 @@\n+// PR c++/14002\n+\n+template <typename T> void foo (T x) { x; }\n+\n+void bar() { foo(0); }\n+\n+struct A\n+{\n+  friend void foo<int> (int);\n+};"}]}