{"sha": "b16810bfe20098164e7023fb0e707f6f36977087", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjE2ODEwYmZlMjAwOTgxNjRlNzAyM2ZiMGU3MDdmNmYzNjk3NzA4Nw==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@purist.soma.redhat.com", "date": "2000-06-23T22:21:47Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2000-06-23T22:21:47Z"}, "message": "std_fstream.h: Formatting tweaks.\n\n\n2000-06-23  Benjamin Kosnik  <bkoz@purist.soma.redhat.com>\n\n\t* bits/std_fstream.h: Formatting tweaks.\n\t* testsuite/27_io/ofstream_members.cc: New file.\n\t* testsuite/27_io/ofstream_members-1.tst: New file.\n\t* testsuite/27_io/ifstream_members.cc: New file.\n\t* testsuite/27_io/ifstream_members-1.tst: New file.\n\nFrom-SVN: r34671", "tree": {"sha": "fa671ab2fdbd558324ceb55d22df2fa05581dcd5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fa671ab2fdbd558324ceb55d22df2fa05581dcd5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b16810bfe20098164e7023fb0e707f6f36977087", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b16810bfe20098164e7023fb0e707f6f36977087", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b16810bfe20098164e7023fb0e707f6f36977087", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b16810bfe20098164e7023fb0e707f6f36977087/comments", "author": null, "committer": null, "parents": [{"sha": "90db9131f1f0701299ce737565949a771ffff967", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90db9131f1f0701299ce737565949a771ffff967", "html_url": "https://github.com/Rust-GCC/gccrs/commit/90db9131f1f0701299ce737565949a771ffff967"}], "stats": {"total": 134, "additions": 131, "deletions": 3}, "files": [{"sha": "0c20b3ddcc3e3421a43ce08c2c2ab04f587a6f51", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b16810bfe20098164e7023fb0e707f6f36977087/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b16810bfe20098164e7023fb0e707f6f36977087/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=b16810bfe20098164e7023fb0e707f6f36977087", "patch": "@@ -1,3 +1,11 @@\n+2000-06-23  Benjamin Kosnik  <bkoz@purist.soma.redhat.com>\n+\n+\t* bits/std_fstream.h: Formatting tweaks.\n+\t* testsuite/27_io/ofstream_members.cc: New file.\n+\t* testsuite/27_io/ofstream_members-1.tst: New file.\n+\t* testsuite/27_io/ifstream_members.cc: New file.\n+\t* testsuite/27_io/ifstream_members-1.tst: New file.\n+\n 2000-06-23  Benjamin Kosnik  <bkoz@purist.soma.redhat.com>\n             Ulrich Drepper  <drepper@cygnus.com>\n \t"}, {"sha": "158623e6ca0d9e20b31b4c45dacd8272d83c7e87", "filename": "libstdc++-v3/bits/std_fstream.h", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b16810bfe20098164e7023fb0e707f6f36977087/libstdc%2B%2B-v3%2Fbits%2Fstd_fstream.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b16810bfe20098164e7023fb0e707f6f36977087/libstdc%2B%2B-v3%2Fbits%2Fstd_fstream.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fbits%2Fstd_fstream.h?ref=b16810bfe20098164e7023fb0e707f6f36977087", "patch": "@@ -1,6 +1,6 @@\n // File based streams -*- C++ -*-\n \n-// Copyright (C) 1997-1999 Free Software Foundation, Inc.\n+// Copyright (C) 1997-1999, 2000 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -291,14 +291,14 @@ namespace std {\n \t   ios_base::openmode __mode = ios_base::out | ios_base::trunc)\n       { \n \tif (!rdbuf()->open(__s, __mode | ios_base::out))\n-\t  this->setstate (ios_base::failbit); \n+\t  this->setstate(ios_base::failbit); \n       }\n \n       void \n       close(void)\n       { \n \tif (!rdbuf()->close())\n-\t  setstate (ios_base::failbit); \n+\t  setstate(ios_base::failbit); \n       }\n     };\n "}, {"sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391", "filename": "libstdc++-v3/testsuite/27_io/ifstream_members-1.tst", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b16810bfe20098164e7023fb0e707f6f36977087/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fifstream_members-1.tst", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b16810bfe20098164e7023fb0e707f6f36977087/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fifstream_members-1.tst", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fifstream_members-1.tst?ref=b16810bfe20098164e7023fb0e707f6f36977087"}, {"sha": "9b4107a66051244ad8cc8b4865e3dc18e25992c0", "filename": "libstdc++-v3/testsuite/27_io/ifstream_members.cc", "status": "added", "additions": 60, "deletions": 0, "changes": 60, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b16810bfe20098164e7023fb0e707f6f36977087/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fifstream_members.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b16810bfe20098164e7023fb0e707f6f36977087/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fifstream_members.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fifstream_members.cc?ref=b16810bfe20098164e7023fb0e707f6f36977087", "patch": "@@ -0,0 +1,60 @@\n+// Copyright (C) 2000 Free Software Foundation, Inc.\n+//\n+// This file is part of the GNU ISO C++ Library.  This library is free\n+// software; you can redistribute it and/or modify it under the\n+// terms of the GNU General Public License as published by the\n+// Free Software Foundation; either version 2, or (at your option)\n+// any later version.\n+\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+// GNU General Public License for more details.\n+\n+// You should have received a copy of the GNU General Public License along\n+// with this library; see the file COPYING.  If not, write to the Free\n+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+// USA.\n+\n+// 27.8.1.7 ifstream member functions\n+\n+#include <istream>\n+#include <fstream>\n+#ifdef DEBUG_ASSERT\n+  #include <assert.h>\n+#endif\n+\n+const char name_01[] = \"testsuite/ifstream_members-1.tst\";\n+const char name_02[] = \"testsuite/ifstream_members-1.txt\";\n+\n+// http://sourceware.cygnus.com/ml/libstdc++/2000-06/msg00136.html\n+bool test00()\n+{\n+  bool test = true;\n+  std::ifstream ifs1;\n+  ifs1.close();\n+  \n+  // false as expected:\n+  test &= !ifs1.is_open();\n+   // this is now true:\n+  test &= !(ifs1);\n+  \n+  ifs1.open(name_01);\n+  test &= ifs1.is_open();\n+  // fail bit still true\n+  test &= !(ifs1);\n+  test &= ifs1.rdstate() == std::ios_base::failbit;\n+\n+  ifs1.close();\n+\n+#ifdef DEBUG_ASSERT\n+  assert(test);\n+#endif\n+  \n+  return test;\n+}\n+\n+int main()\n+{\n+  test00();\n+}"}, {"sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391", "filename": "libstdc++-v3/testsuite/27_io/ofstream_members-1.tst", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b16810bfe20098164e7023fb0e707f6f36977087/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fofstream_members-1.tst", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b16810bfe20098164e7023fb0e707f6f36977087/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fofstream_members-1.tst", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fofstream_members-1.tst?ref=b16810bfe20098164e7023fb0e707f6f36977087"}, {"sha": "0b52519c0785180be028c76598979174d2232404", "filename": "libstdc++-v3/testsuite/27_io/ofstream_members.cc", "status": "added", "additions": 60, "deletions": 0, "changes": 60, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b16810bfe20098164e7023fb0e707f6f36977087/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fofstream_members.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b16810bfe20098164e7023fb0e707f6f36977087/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fofstream_members.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fofstream_members.cc?ref=b16810bfe20098164e7023fb0e707f6f36977087", "patch": "@@ -0,0 +1,60 @@\n+// Copyright (C) 2000 Free Software Foundation, Inc.\n+//\n+// This file is part of the GNU ISO C++ Library.  This library is free\n+// software; you can redistribute it and/or modify it under the\n+// terms of the GNU General Public License as published by the\n+// Free Software Foundation; either version 2, or (at your option)\n+// any later version.\n+\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+// GNU General Public License for more details.\n+\n+// You should have received a copy of the GNU General Public License along\n+// with this library; see the file COPYING.  If not, write to the Free\n+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+// USA.\n+\n+// 27.8.1.10 ofstream member functions\n+\n+#include <ostream>\n+#include <fstream>\n+#ifdef DEBUG_ASSERT\n+  #include <assert.h>\n+#endif\n+\n+const char name_01[] = \"testsuite/ofstream_members-1.tst\";\n+const char name_02[] = \"testsuite/ofstream_members-1.txt\";\n+\n+// http://sourceware.cygnus.com/ml/libstdc++/2000-06/msg00136.html\n+bool test00()\n+{\n+  bool test = true;\n+  std::ofstream ofs1;\n+  ofs1.close();\n+  \n+  // false as expected:\n+  test &= !ofs1.is_open();\n+   // this is now true:\n+  test &= !(ofs1);\n+  \n+  ofs1.open(name_02);\n+  test &= ofs1.is_open();\n+  // fail bit still true\n+  test &= !(ofs1);\n+  test &= ofs1.rdstate() == std::ios_base::failbit;\n+\n+  ofs1.close();\n+\n+#ifdef DEBUG_ASSERT\n+  assert(test);\n+#endif\n+  \n+  return test;\n+}\n+\n+int main()\n+{\n+  test00();\n+}"}]}