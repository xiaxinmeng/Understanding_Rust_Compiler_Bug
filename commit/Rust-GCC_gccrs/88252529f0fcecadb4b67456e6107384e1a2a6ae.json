{"sha": "88252529f0fcecadb4b67456e6107384e1a2a6ae", "node_id": "C_kwDOANBUbNoAKDg4MjUyNTI5ZjBmY2VjYWRiNGI2NzQ1NmU2MTA3Mzg0ZTFhMmE2YWU", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@adacore.com", "date": "2022-03-28T20:15:36Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@adacore.com", "date": "2022-03-28T20:18:57Z"}, "message": "Remove --with-gmp-dir and --with-mpfr-dir\n\nThe top-level configure options --with-gmp-dir and --with-mpfr-dir\nwere obsoleted and marked as \"REMOVED\" back in 2006.  I think that's\nlong enough ago for everyone to have updated their scripts, so this\npatch removes them entirely.  While doing this, I also found one other\nleftover that wasn't removed by the earlier patch.  This is also\nremoved here.\n\n2022-03-28  Tom Tromey  <tromey@adacore.com>\n\n\t* configure.ac: Remove --with-mpfr-dir and --with-gmp-dir.\n\t* configure: Rebuild.", "tree": {"sha": "46f5a8fcbf8e54f5556f0b7be0961192dca1277f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/46f5a8fcbf8e54f5556f0b7be0961192dca1277f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/88252529f0fcecadb4b67456e6107384e1a2a6ae", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88252529f0fcecadb4b67456e6107384e1a2a6ae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88252529f0fcecadb4b67456e6107384e1a2a6ae", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88252529f0fcecadb4b67456e6107384e1a2a6ae/comments", "author": {"login": "tromey", "id": 1557670, "node_id": "MDQ6VXNlcjE1NTc2NzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tromey", "html_url": "https://github.com/tromey", "followers_url": "https://api.github.com/users/tromey/followers", "following_url": "https://api.github.com/users/tromey/following{/other_user}", "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}", "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tromey/subscriptions", "organizations_url": "https://api.github.com/users/tromey/orgs", "repos_url": "https://api.github.com/users/tromey/repos", "events_url": "https://api.github.com/users/tromey/events{/privacy}", "received_events_url": "https://api.github.com/users/tromey/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tromey", "id": 1557670, "node_id": "MDQ6VXNlcjE1NTc2NzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tromey", "html_url": "https://github.com/tromey", "followers_url": "https://api.github.com/users/tromey/followers", "following_url": "https://api.github.com/users/tromey/following{/other_user}", "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}", "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tromey/subscriptions", "organizations_url": "https://api.github.com/users/tromey/orgs", "repos_url": "https://api.github.com/users/tromey/repos", "events_url": "https://api.github.com/users/tromey/events{/privacy}", "received_events_url": "https://api.github.com/users/tromey/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "00635b6cf3a6854323d8a868dc203a41205e1dcc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/00635b6cf3a6854323d8a868dc203a41205e1dcc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/00635b6cf3a6854323d8a868dc203a41205e1dcc"}], "stats": {"total": 36, "additions": 3, "deletions": 33}, "files": [{"sha": "69d8fc046c3933a7a8c50774ee15937c8f9b977f", "filename": "configure", "status": "modified", "additions": 1, "deletions": 21, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88252529f0fcecadb4b67456e6107384e1a2a6ae/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88252529f0fcecadb4b67456e6107384e1a2a6ae/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=88252529f0fcecadb4b67456e6107384e1a2a6ae", "patch": "@@ -811,11 +811,9 @@ enable_pgo_build\n with_mpc\n with_mpc_include\n with_mpc_lib\n-with_mpfr_dir\n with_mpfr\n with_mpfr_include\n with_mpfr_lib\n-with_gmp_dir\n with_gmp\n with_gmp_include\n with_gmp_lib\n@@ -1588,14 +1586,12 @@ Optional Packages:\n                           --with-mpc-lib=PATH/lib\n   --with-mpc-include=PATH specify directory for installed MPC include files\n   --with-mpc-lib=PATH     specify directory for the installed MPC library\n-  --with-mpfr-dir=PATH    this option has been REMOVED\n   --with-mpfr=PATH        specify prefix directory for installed MPFR package.\n                           Equivalent to --with-mpfr-include=PATH/include plus\n                           --with-mpfr-lib=PATH/lib\n   --with-mpfr-include=PATH\n                           specify directory for installed MPFR include files\n   --with-mpfr-lib=PATH    specify directory for the installed MPFR library\n-  --with-gmp-dir=PATH     this option has been REMOVED\n   --with-gmp=PATH         specify prefix directory for the installed GMP\n                           package. Equivalent to\n                           --with-gmp-include=PATH/include plus\n@@ -3768,7 +3764,7 @@ case \"${target}\" in\n   *-*-dragonfly*)\n     ;;\n   *-*-freebsd*)\n-    if test \"x$with_gmp\" = x && test \"x$with_gmp_dir\" = x \\\n+    if test \"x$with_gmp\" = x \\\n \t&& ! test -d ${srcdir}/gmp \\\n \t&& test -f /usr/local/include/gmp.h; then\n       with_gmp=/usr/local\n@@ -7999,14 +7995,6 @@ fi\n # Specify a location for mpfr\n # check for this first so it ends up on the link line before gmp.\n \n-# Check whether --with-mpfr-dir was given.\n-if test \"${with_mpfr_dir+set}\" = set; then :\n-  withval=$with_mpfr_dir; as_fn_error $? \"The --with-mpfr-dir=PATH option has been removed.\n-Use --with-mpfr=PATH or --with-mpfr-include=PATH plus --with-mpfr-lib=PATH\" \"$LINENO\" 5\n-fi\n-\n-\n-\n # Check whether --with-mpfr was given.\n if test \"${with_mpfr+set}\" = set; then :\n   withval=$with_mpfr;\n@@ -8052,14 +8040,6 @@ fi\n \n # Specify a location for gmp\n \n-# Check whether --with-gmp-dir was given.\n-if test \"${with_gmp_dir+set}\" = set; then :\n-  withval=$with_gmp_dir; as_fn_error $? \"The --with-gmp-dir=PATH option has been removed.\n-Use --with-gmp=PATH or --with-gmp-include=PATH plus --with-gmp-lib=PATH\" \"$LINENO\" 5\n-fi\n-\n-\n-\n # Check whether --with-gmp was given.\n if test \"${with_gmp+set}\" = set; then :\n   withval=$with_gmp;"}, {"sha": "d0f6d215b99c7ebadac2f747fee7d1553cd96b47", "filename": "configure.ac", "status": "modified", "additions": 2, "deletions": 12, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88252529f0fcecadb4b67456e6107384e1a2a6ae/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88252529f0fcecadb4b67456e6107384e1a2a6ae/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=88252529f0fcecadb4b67456e6107384e1a2a6ae", "patch": "@@ -1,6 +1,6 @@\n #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000,\n #   2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012,\n-#   2014, 2015, 2016, 2019 Free Software Foundation, Inc.\n+#   2014, 2015, 2016, 2019, 2022 Free Software Foundation, Inc.\n #\n # This file is free software; you can redistribute it and/or modify it\n # under the terms of the GNU General Public License as published by\n@@ -1021,7 +1021,7 @@ case \"${target}\" in\n   *-*-dragonfly*)\n     ;;\n   *-*-freebsd*)\n-    if test \"x$with_gmp\" = x && test \"x$with_gmp_dir\" = x \\\n+    if test \"x$with_gmp\" = x \\\n \t&& ! test -d ${srcdir}/gmp \\\n \t&& test -f /usr/local/include/gmp.h; then\n       with_gmp=/usr/local\n@@ -1568,11 +1568,6 @@ fi\n \n # Specify a location for mpfr\n # check for this first so it ends up on the link line before gmp.\n-AC_ARG_WITH(mpfr-dir,\n-[AS_HELP_STRING([--with-mpfr-dir=PATH], [this option has been REMOVED])],\n-[AC_MSG_ERROR([The --with-mpfr-dir=PATH option has been removed.\n-Use --with-mpfr=PATH or --with-mpfr-include=PATH plus --with-mpfr-lib=PATH])])\n-\n AC_ARG_WITH(mpfr,\n [AS_HELP_STRING([--with-mpfr=PATH],\n \t\t[specify prefix directory for installed MPFR package.\n@@ -1612,11 +1607,6 @@ Building GCC with MPFR in the source tree is only handled for MPFR 3.1.0+.])\n fi\n \n # Specify a location for gmp\n-AC_ARG_WITH(gmp-dir,\n-[AS_HELP_STRING([--with-gmp-dir=PATH], [this option has been REMOVED])],\n-[AC_MSG_ERROR([The --with-gmp-dir=PATH option has been removed.\n-Use --with-gmp=PATH or --with-gmp-include=PATH plus --with-gmp-lib=PATH])])\n-\n AC_ARG_WITH(gmp,\n [AS_HELP_STRING([--with-gmp=PATH],\n \t\t[specify prefix directory for the installed GMP package."}]}