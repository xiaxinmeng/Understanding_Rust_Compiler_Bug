{"sha": "eebe34b49fdc81cdc2a46d88ae4c29cf916181c3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWViZTM0YjQ5ZmRjODFjZGMyYTQ2ZDg4YWU0YzI5Y2Y5MTYxODFjMw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "2000-01-30T21:27:22Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2000-01-30T21:27:22Z"}, "message": "i386.c (ix86_compute_frame_size): Omit padding1 if the local frame size is zero.\n\n        * i386.c (ix86_compute_frame_size): Omit padding1 if the\n        local frame size is zero.\n\nFrom-SVN: r31703", "tree": {"sha": "6cd287f50d442e5b3cbdd049fe1248a3bf8bff97", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6cd287f50d442e5b3cbdd049fe1248a3bf8bff97"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/eebe34b49fdc81cdc2a46d88ae4c29cf916181c3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eebe34b49fdc81cdc2a46d88ae4c29cf916181c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eebe34b49fdc81cdc2a46d88ae4c29cf916181c3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eebe34b49fdc81cdc2a46d88ae4c29cf916181c3/comments", "author": null, "committer": null, "parents": [{"sha": "c112e233c5f47edebd653e743a8f7db3d682091f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c112e233c5f47edebd653e743a8f7db3d682091f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c112e233c5f47edebd653e743a8f7db3d682091f"}], "stats": {"total": 17, "additions": 11, "deletions": 6}, "files": [{"sha": "f8de2e2966504d5711825112ff6b6135240ac462", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eebe34b49fdc81cdc2a46d88ae4c29cf916181c3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eebe34b49fdc81cdc2a46d88ae4c29cf916181c3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=eebe34b49fdc81cdc2a46d88ae4c29cf916181c3", "patch": "@@ -1,3 +1,8 @@\n+2000-01-30  Richard Henderson  <rth@cygnus.com>\n+\n+\t* i386.c (ix86_compute_frame_size): Omit padding1 if the\n+\tlocal frame size is zero.\n+\n 2000-01-30  Richard Henderson  <rth@cygnus.com>\n \n \t* alpha.c (alpha_expand_epilogue): Don't emit the return insn."}, {"sha": "69d71ce5f971d6e20fd9f49d6ce2681718f791df", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eebe34b49fdc81cdc2a46d88ae4c29cf916181c3/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eebe34b49fdc81cdc2a46d88ae4c29cf916181c3/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=eebe34b49fdc81cdc2a46d88ae4c29cf916181c3", "patch": "@@ -1734,7 +1734,6 @@ ix86_compute_frame_size (size, nregs_on_stack, rpadding1, rpadding2)\n   int stack_alignment_needed = cfun->stack_alignment_needed / BITS_PER_UNIT;\n \n   nregs = ix86_nsaved_regs ();\n-\n   total_size = size;\n \n #ifdef PREFERRED_STACK_BOUNDARY\n@@ -1762,9 +1761,12 @@ ix86_compute_frame_size (size, nregs_on_stack, rpadding1, rpadding2)\n     total_size += offset;\n \n     /* Align start of frame for local function.  */\n-    padding1 = ((offset + stack_alignment_needed - 1)\n-\t\t& -stack_alignment_needed) - offset;\n-    total_size += padding1;\n+    if (size > 0)\n+      {\n+        padding1 = ((offset + stack_alignment_needed - 1)\n+\t\t    & -stack_alignment_needed) - offset;\n+        total_size += padding1;\n+      }\n \n     /* Align stack boundary. */\n     if (!current_function_is_leaf)\n@@ -1775,10 +1777,8 @@ ix86_compute_frame_size (size, nregs_on_stack, rpadding1, rpadding2)\n \n   if (nregs_on_stack)\n     *nregs_on_stack = nregs;\n-\n   if (rpadding1)\n     *rpadding1 = padding1;\n-\n   if (rpadding2)\n     *rpadding2 = padding2;\n "}]}