{"sha": "d31e19e44009ef645f0a120043c7f84d0450b4c9", "node_id": "C_kwDOANBUbNoAKGQzMWUxOWU0NDAwOWVmNjQ1ZjBhMTIwMDQzYzdmODRkMDQ1MGI0Yzk", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2022-09-16T09:49:54Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2022-09-16T20:23:24Z"}, "message": "libstdc++: Make more internal headers include their own dependencies\n\nThis adds required headers to a few internal headers that currently\nassume their deps will be included first. It's more robust to make them\ninclude their own dependencies, so that later refactoring or reuse of\nthose headers in new contexts doesn't break.\n\nlibstdc++-v3/ChangeLog:\n\n\t* include/bits/stl_algo.h: Include <bits/stl_algobase.h>.\n\t* include/bits/stl_tempbuf.h: Include headers for __try and\n\t__catch macros, std::pair, and __gnu_cxx::__numeric_traits.\n\t* include/bits/stream_iterator.h: Include <iosfwd> and headers\n\tfor std::addressof and std::iterator.\n\t* include/bits/streambuf_iterator.h: Include header for\n\tstd::iterator.\n\t* include/std/iterator: Do not include <iosfwd>.", "tree": {"sha": "aaea9741fc94b6c00566ed2497061bc522395232", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aaea9741fc94b6c00566ed2497061bc522395232"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d31e19e44009ef645f0a120043c7f84d0450b4c9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d31e19e44009ef645f0a120043c7f84d0450b4c9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d31e19e44009ef645f0a120043c7f84d0450b4c9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d31e19e44009ef645f0a120043c7f84d0450b4c9/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "47deb1ef874c078ac51bc1970a3324f5c8002815", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47deb1ef874c078ac51bc1970a3324f5c8002815", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47deb1ef874c078ac51bc1970a3324f5c8002815"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "9cb708ab2fd63b9c22876fe018fa657903fd19a7", "filename": "libstdc++-v3/include/bits/stl_algo.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d31e19e44009ef645f0a120043c7f84d0450b4c9/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_algo.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d31e19e44009ef645f0a120043c7f84d0450b4c9/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_algo.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_algo.h?ref=d31e19e44009ef645f0a120043c7f84d0450b4c9", "patch": "@@ -57,6 +57,7 @@\n #define _STL_ALGO_H 1\n \n #include <bits/algorithmfwd.h>\n+#include <bits/stl_algobase.h>\n #include <bits/stl_heap.h>\n #include <bits/stl_tempbuf.h>  // for _Temporary_buffer\n #include <bits/predefined_ops.h>"}, {"sha": "b13aa3b0fccbaa8ece9287cfe796fb764e6335d0", "filename": "libstdc++-v3/include/bits/stl_tempbuf.h", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d31e19e44009ef645f0a120043c7f84d0450b4c9/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_tempbuf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d31e19e44009ef645f0a120043c7f84d0450b4c9/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_tempbuf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_tempbuf.h?ref=d31e19e44009ef645f0a120043c7f84d0450b4c9", "patch": "@@ -57,8 +57,10 @@\n #define _STL_TEMPBUF_H 1\n \n #include <new>\n-#include <bits/stl_algobase.h>\n+#include <bits/exception_defines.h>\n #include <bits/stl_construct.h>\n+#include <bits/stl_pair.h>\n+#include <ext/numeric_traits.h>\n \n namespace std _GLIBCXX_VISIBILITY(default)\n {"}, {"sha": "0a1362a2eea7bf95b01ae545d66238b63e0d791c", "filename": "libstdc++-v3/include/bits/stream_iterator.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d31e19e44009ef645f0a120043c7f84d0450b4c9/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstream_iterator.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d31e19e44009ef645f0a120043c7f84d0450b4c9/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstream_iterator.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstream_iterator.h?ref=d31e19e44009ef645f0a120043c7f84d0450b4c9", "patch": "@@ -32,6 +32,9 @@\n \n #pragma GCC system_header\n \n+#include <iosfwd>\n+#include <bits/move.h>\n+#include <bits/stl_iterator_base_types.h>\n #include <debug/debug.h>\n \n namespace std _GLIBCXX_VISIBILITY(default)"}, {"sha": "c26ac249e01d9b1760695186fb10ee07ccfdaf0f", "filename": "libstdc++-v3/include/bits/streambuf_iterator.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d31e19e44009ef645f0a120043c7f84d0450b4c9/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstreambuf_iterator.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d31e19e44009ef645f0a120043c7f84d0450b4c9/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstreambuf_iterator.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstreambuf_iterator.h?ref=d31e19e44009ef645f0a120043c7f84d0450b4c9", "patch": "@@ -33,6 +33,7 @@\n #pragma GCC system_header\n \n #include <streambuf>\n+#include <bits/stl_iterator_base_types.h>\n #include <debug/debug.h>\n \n namespace std _GLIBCXX_VISIBILITY(default)"}, {"sha": "2da2fb6e4a3a3d8eaa4b01984033e6315f97d930", "filename": "libstdc++-v3/include/std/iterator", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d31e19e44009ef645f0a120043c7f84d0450b4c9/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fiterator", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d31e19e44009ef645f0a120043c7f84d0450b4c9/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fiterator", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fiterator?ref=d31e19e44009ef645f0a120043c7f84d0450b4c9", "patch": "@@ -61,7 +61,6 @@\n #include <bits/stl_iterator_base_types.h>\n #include <bits/stl_iterator_base_funcs.h>\n #include <bits/stl_iterator.h>\n-#include <iosfwd>\n #include <bits/stream_iterator.h>\n #include <bits/streambuf_iterator.h>\n #include <bits/range_access.h>"}]}