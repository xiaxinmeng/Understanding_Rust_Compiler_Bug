{"sha": "497081e8cf71fed0a409afcb21590856a1f0536d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDk3MDgxZThjZjcxZmVkMGE0MDlhZmNiMjE1OTA4NTZhMWYwNTM2ZA==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@linux.vnet.ibm.com", "date": "2011-12-29T17:45:11Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "2011-12-29T17:45:11Z"}, "message": "Fix 51702 testsuite failures\n\nFrom-SVN: r182726", "tree": {"sha": "9724788ef52c60f0cb50c52db352f64bb2cd2852", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9724788ef52c60f0cb50c52db352f64bb2cd2852"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/497081e8cf71fed0a409afcb21590856a1f0536d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/497081e8cf71fed0a409afcb21590856a1f0536d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/497081e8cf71fed0a409afcb21590856a1f0536d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/497081e8cf71fed0a409afcb21590856a1f0536d/comments", "author": null, "committer": null, "parents": [{"sha": "1893a69a50e1baae2fe767b9ab8c883588e87c0a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1893a69a50e1baae2fe767b9ab8c883588e87c0a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1893a69a50e1baae2fe767b9ab8c883588e87c0a"}], "stats": {"total": 23, "additions": 23, "deletions": 0}, "files": [{"sha": "c49c10012c3db28e5c5c4905ef3fa883ac0a4ea6", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/497081e8cf71fed0a409afcb21590856a1f0536d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/497081e8cf71fed0a409afcb21590856a1f0536d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=497081e8cf71fed0a409afcb21590856a1f0536d", "patch": "@@ -1,3 +1,17 @@\n+2011-12-29  Michael Meissner  <meissner@linux.vnet.ibm.com>\n+\n+\tPR testsuite/51702\n+\t* gcc.dg/scal-to-vec1.c: If 32-bit powerpc-linux, add the\n+\t-mabi=altivec option, which suppresses a warning message about\n+\tpassing vectors by reference.  The extra warning causes some tests\n+\tto fail.\n+\t* gcc.dg/scal-to-vec2.c: Likewise.\n+\t* gcc.dg/Wstrict-aliasing-bogus-ref-all-2.c: Likewise.\n+\t* gcc.dg/pr35442.c: Likewise.\n+\t* gcc.dg/vector-compare-1.c: Likewise.\n+\t* gcc.dg/vector-compare-2.c: Likewise.\n+\t* gcc.dg/torture/pr36891.c: Likewise.\n+\n 2012-12-29  Kai Tietz  <ktietz@redhat.com>\n \n \t* g++.dg/abi/bitfield3.C: Make sure test runs"}, {"sha": "42b393580a34e49dee7b915a63012270dae6897e", "filename": "gcc/testsuite/gcc.dg/Wstrict-aliasing-bogus-ref-all-2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/497081e8cf71fed0a409afcb21590856a1f0536d/gcc%2Ftestsuite%2Fgcc.dg%2FWstrict-aliasing-bogus-ref-all-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/497081e8cf71fed0a409afcb21590856a1f0536d/gcc%2Ftestsuite%2Fgcc.dg%2FWstrict-aliasing-bogus-ref-all-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2FWstrict-aliasing-bogus-ref-all-2.c?ref=497081e8cf71fed0a409afcb21590856a1f0536d", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do compile } */\n /* { dg-options \"-O2 -Wall\" } */\n+/* { dg-options \"-O2 -Wall -mabi=altivec\" { target { { powerpc*-*-linux* } && ilp32 } } } */\n \n typedef long long __m128i __attribute__ ((__vector_size__ (16), __may_alias__));\n "}, {"sha": "6534ba40419ff88289926182be04054789480d74", "filename": "gcc/testsuite/gcc.dg/pr35442.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/497081e8cf71fed0a409afcb21590856a1f0536d/gcc%2Ftestsuite%2Fgcc.dg%2Fpr35442.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/497081e8cf71fed0a409afcb21590856a1f0536d/gcc%2Ftestsuite%2Fgcc.dg%2Fpr35442.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr35442.c?ref=497081e8cf71fed0a409afcb21590856a1f0536d", "patch": "@@ -1,5 +1,6 @@\n /* PR c/35442 */\n /* { dg-bogus \"not supported by\" \"\" { target *-*-* } 0 } */\n+/* { dg-options \"-mabi=altivec\" { target { { powerpc*-*-linux* } && ilp32 } } } */\n \n typedef char A __attribute__ ((vector_size (64)));\n typedef int B __attribute__ ((vector_size (64)));"}, {"sha": "0c1a5093315579a5f9bbc3f939a98df4d4edabbc", "filename": "gcc/testsuite/gcc.dg/scal-to-vec1.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/497081e8cf71fed0a409afcb21590856a1f0536d/gcc%2Ftestsuite%2Fgcc.dg%2Fscal-to-vec1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/497081e8cf71fed0a409afcb21590856a1f0536d/gcc%2Ftestsuite%2Fgcc.dg%2Fscal-to-vec1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fscal-to-vec1.c?ref=497081e8cf71fed0a409afcb21590856a1f0536d", "patch": "@@ -1,5 +1,7 @@\n /* { dg-do compile } */\n /* { dg-options \"-Wno-long-long\" } */\n+/* { dg-options \"-Wno-long-long -mabi=altivec\" { target { { powerpc*-*-linux* } && ilp32 } } } */\n+\n #define vector(elcount, type)  \\\n __attribute__((vector_size((elcount)*sizeof(type)))) type\n "}, {"sha": "1897b93e050d391efa3a6574204f78ad714ccad1", "filename": "gcc/testsuite/gcc.dg/scal-to-vec2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/497081e8cf71fed0a409afcb21590856a1f0536d/gcc%2Ftestsuite%2Fgcc.dg%2Fscal-to-vec2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/497081e8cf71fed0a409afcb21590856a1f0536d/gcc%2Ftestsuite%2Fgcc.dg%2Fscal-to-vec2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fscal-to-vec2.c?ref=497081e8cf71fed0a409afcb21590856a1f0536d", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do compile } */   \n /* { dg-options \"-fno-common\" { target hppa*-*-hpux* } } */\n+/* { dg-options \"-mabi=altivec\" { target { { powerpc*-*-linux* } && ilp32 } } } */\n \n /* Test for C_MAYBE_CONST are folded correctly when \n    expanding an expression to vector.  */"}, {"sha": "ab58e43b9cd5387e58e61dde8c911c093946cf3c", "filename": "gcc/testsuite/gcc.dg/torture/pr36891.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/497081e8cf71fed0a409afcb21590856a1f0536d/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr36891.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/497081e8cf71fed0a409afcb21590856a1f0536d/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr36891.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr36891.c?ref=497081e8cf71fed0a409afcb21590856a1f0536d", "patch": "@@ -2,6 +2,7 @@\n /* { dg-options \"-ffast-math\" } */\n /* { dg-options \"-ffast-math -msse\" { target { { i?86-*-* x86_64-*-* } && ia32 } } } */\n /* { dg-require-effective-target sse { target { { i?86-*-* x86_64-*-* } && ia32 } } } */\n+/* { dg-options \"-ffast-math -mabi=altivec\" { target { { powerpc*-*-linux* } && ia32 } } } */\n \n #define __vector __attribute__((vector_size(16) ))\n __vector float f(void);"}, {"sha": "f6c1b404b0cf23e562e0615174cdc888ec0264e2", "filename": "gcc/testsuite/gcc.dg/vector-compare-1.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/497081e8cf71fed0a409afcb21590856a1f0536d/gcc%2Ftestsuite%2Fgcc.dg%2Fvector-compare-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/497081e8cf71fed0a409afcb21590856a1f0536d/gcc%2Ftestsuite%2Fgcc.dg%2Fvector-compare-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvector-compare-1.c?ref=497081e8cf71fed0a409afcb21590856a1f0536d", "patch": "@@ -1,4 +1,6 @@\n /* { dg-do compile } */\n+/* { dg-options \"-mabi=altivec\" { target { { powerpc*-*-linux* } && ilp32 } } } */\n+\n #define vector(elcount, type)  \\\n __attribute__((vector_size((elcount)*sizeof(type)))) type\n "}, {"sha": "8cbcf0787c4762199e233f5a0bf84f698c1fbe75", "filename": "gcc/testsuite/gcc.dg/vector-compare-2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/497081e8cf71fed0a409afcb21590856a1f0536d/gcc%2Ftestsuite%2Fgcc.dg%2Fvector-compare-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/497081e8cf71fed0a409afcb21590856a1f0536d/gcc%2Ftestsuite%2Fgcc.dg%2Fvector-compare-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvector-compare-2.c?ref=497081e8cf71fed0a409afcb21590856a1f0536d", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do compile } */   \n /* { dg-options \"-fno-common\" { target hppa*-*-hpux* } } */\n+/* { dg-options \"-mabi=altivec\" { target { { powerpc*-*-linux* } && ilp32 } } } */\n \n /* Test if C_MAYBE_CONST are folded correctly when \n    creating VEC_COND_EXPR.  */"}]}