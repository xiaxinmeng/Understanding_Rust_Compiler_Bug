{"sha": "7b045477e28e324070ea503d3ce1561ba774ee01", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2IwNDU0NzdlMjhlMzI0MDcwZWE1MDNkM2NlMTU2MWJhNzc0ZWUwMQ==", "commit": {"author": {"name": "Thorsten Glaser", "email": "tg@mirbsd.org", "date": "2013-01-17T18:24:08Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2013-01-17T18:24:08Z"}, "message": "re PR libffi/56000 (FAIL: libffi.call/cls_uchar_va.c -O0 -W -Wall output pattern test)\n\n2013-01-07  Thorsten Glaser <tg@mirbsd.org>\n\n\tPR middle-end/56000\n\t* testsuite/libffi.call/cls_uchar_va.c,\n\ttestsuite/libffi.call/cls_ushort_va.c,\n\ttestsuite/libffi.call/va_1.c: Testsuite fixes.\n\nFrom-SVN: r195277", "tree": {"sha": "8ed88253035862ed61ad3b2a2d81d36deefffe12", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8ed88253035862ed61ad3b2a2d81d36deefffe12"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7b045477e28e324070ea503d3ce1561ba774ee01", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b045477e28e324070ea503d3ce1561ba774ee01", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b045477e28e324070ea503d3ce1561ba774ee01", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b045477e28e324070ea503d3ce1561ba774ee01/comments", "author": {"login": "mirabilos", "id": 861078, "node_id": "MDQ6VXNlcjg2MTA3OA==", "avatar_url": "https://avatars.githubusercontent.com/u/861078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mirabilos", "html_url": "https://github.com/mirabilos", "followers_url": "https://api.github.com/users/mirabilos/followers", "following_url": "https://api.github.com/users/mirabilos/following{/other_user}", "gists_url": "https://api.github.com/users/mirabilos/gists{/gist_id}", "starred_url": "https://api.github.com/users/mirabilos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mirabilos/subscriptions", "organizations_url": "https://api.github.com/users/mirabilos/orgs", "repos_url": "https://api.github.com/users/mirabilos/repos", "events_url": "https://api.github.com/users/mirabilos/events{/privacy}", "received_events_url": "https://api.github.com/users/mirabilos/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e52a8b712b7e831d71d208aadae7be74ee19b1f5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e52a8b712b7e831d71d208aadae7be74ee19b1f5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e52a8b712b7e831d71d208aadae7be74ee19b1f5"}], "stats": {"total": 24, "additions": 15, "deletions": 9}, "files": [{"sha": "e53ac5fddbc5540eaa704963f9f1955e5e77720f", "filename": "libffi/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b045477e28e324070ea503d3ce1561ba774ee01/libffi%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b045477e28e324070ea503d3ce1561ba774ee01/libffi%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2FChangeLog?ref=7b045477e28e324070ea503d3ce1561ba774ee01", "patch": "@@ -1,3 +1,9 @@\n+2013-01-07  Thorsten Glaser <tg@mirbsd.org>\n+\n+\t* testsuite/libffi.call/cls_uchar_va.c,\n+\ttestsuite/libffi.call/cls_ushort_va.c,\n+\ttestsuite/libffi.call/va_1.c: Testsuite fixes.\n+\n 2012-12-29  Andreas Schwab  <schwab@linux-m68k.org>\n \n \t* Makefile.am (ACLOCAL_AMFLAGS, TEXINFO_TEX, MAKEINFOFLAGS)"}, {"sha": "6491c5b3df15ee1436995c4212e38f4d27953619", "filename": "libffi/testsuite/libffi.call/cls_uchar_va.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b045477e28e324070ea503d3ce1561ba774ee01/libffi%2Ftestsuite%2Flibffi.call%2Fcls_uchar_va.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b045477e28e324070ea503d3ce1561ba774ee01/libffi%2Ftestsuite%2Flibffi.call%2Fcls_uchar_va.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Ftestsuite%2Flibffi.call%2Fcls_uchar_va.c?ref=7b045477e28e324070ea503d3ce1561ba774ee01", "patch": "@@ -12,9 +12,9 @@ typedef unsigned char T;\n static void cls_ret_T_fn(ffi_cif* cif __UNUSED__, void* resp, void** args,\n \t\t\t void* userdata __UNUSED__)\n  {\n-   *(T *)resp = *(T *)args[0];\n+   *(ffi_arg *)resp = *(T *)args[0];\n \n-   printf(\"%d: %d %d\\n\", *(T *)resp, *(T *)args[0], *(T *)args[1]);\n+   printf(\"%d: %d %d\\n\", (int)(*(ffi_arg *)resp), *(T *)args[0], *(T *)args[1]);\n  }\n \n typedef T (*cls_ret_T)(T, ...);"}, {"sha": "37aa1064ea71d80f9bcc9740f00f139a16836d1a", "filename": "libffi/testsuite/libffi.call/cls_ushort_va.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b045477e28e324070ea503d3ce1561ba774ee01/libffi%2Ftestsuite%2Flibffi.call%2Fcls_ushort_va.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b045477e28e324070ea503d3ce1561ba774ee01/libffi%2Ftestsuite%2Flibffi.call%2Fcls_ushort_va.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Ftestsuite%2Flibffi.call%2Fcls_ushort_va.c?ref=7b045477e28e324070ea503d3ce1561ba774ee01", "patch": "@@ -12,9 +12,9 @@ typedef unsigned short T;\n static void cls_ret_T_fn(ffi_cif* cif __UNUSED__, void* resp, void** args,\n \t\t\t void* userdata __UNUSED__)\n  {\n-   *(T *)resp = *(T *)args[0];\n+   *(ffi_arg *)resp = *(T *)args[0];\n \n-   printf(\"%d: %d %d\\n\", *(T *)resp, *(T *)args[0], *(T *)args[1]);\n+   printf(\"%d: %d %d\\n\", (int)(*(ffi_arg *)resp), *(T *)args[0], *(T *)args[1]);\n  }\n \n typedef T (*cls_ret_T)(T, ...);"}, {"sha": "cf4dd85cedeff3743db63722758a07d555a5b391", "filename": "libffi/testsuite/libffi.call/va_1.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b045477e28e324070ea503d3ce1561ba774ee01/libffi%2Ftestsuite%2Flibffi.call%2Fva_1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b045477e28e324070ea503d3ce1561ba774ee01/libffi%2Ftestsuite%2Flibffi.call%2Fva_1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Ftestsuite%2Flibffi.call%2Fva_1.c?ref=7b045477e28e324070ea503d3ce1561ba774ee01", "patch": "@@ -5,7 +5,7 @@\n    Originator:\t        ARM Ltd. */\n \n /* { dg-do run } */\n-/* { dg-output \"\" { xfail avr32*-*-* x86_64-*-*-* } } */\n+/* { dg-output \"\" { xfail avr32*-*-* } } */\n \n #include \"ffitest.h\"\n #include <stdarg.h>\n@@ -132,10 +132,10 @@ main (void)\n   arg_types[1] = &s_type;\n   arg_types[2] = &l_type;\n   arg_types[3] = &s_type;\n-  arg_types[4] = &ffi_type_uint;\n-  arg_types[5] = &ffi_type_sint;\n-  arg_types[6] = &ffi_type_uint;\n-  arg_types[7] = &ffi_type_sint;\n+  arg_types[4] = &ffi_type_uchar;\n+  arg_types[5] = &ffi_type_schar;\n+  arg_types[6] = &ffi_type_ushort;\n+  arg_types[7] = &ffi_type_sshort;\n   arg_types[8] = &ffi_type_uint;\n   arg_types[9] = &ffi_type_sint;\n   arg_types[10] = &ffi_type_ulong;"}]}