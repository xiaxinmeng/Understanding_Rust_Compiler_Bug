{"sha": "a9d1723f3a269620f6ec157e27d7032e9b4eadcc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTlkMTcyM2YzYTI2OTYyMGY2ZWMxNTdlMjdkNzAzMmU5YjRlYWRjYw==", "commit": {"author": {"name": "DJ Delorie", "email": "dj@redhat.com", "date": "2009-07-14T21:46:15Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2009-07-14T21:46:15Z"}, "message": "mep.c (mep_vliw_jmp_match): New function.\n\n* config/mep/mep.c (mep_vliw_jmp_match): New function.\n* config/mep/mep-protos.h (mep_vliw_jmp_match): Prototype it.\n* config/mep/mep.md (sibcall_internal): Change test from\nmep_vliw_mode_match to mep_vliw_jmp_match.\n(sibcall_value_internal): Likewise.\n\nFrom-SVN: r149644", "tree": {"sha": "628b6ca227c7c1b689283cf8ff9bf0529db08c38", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/628b6ca227c7c1b689283cf8ff9bf0529db08c38"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a9d1723f3a269620f6ec157e27d7032e9b4eadcc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a9d1723f3a269620f6ec157e27d7032e9b4eadcc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a9d1723f3a269620f6ec157e27d7032e9b4eadcc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a9d1723f3a269620f6ec157e27d7032e9b4eadcc/comments", "author": null, "committer": null, "parents": [{"sha": "868e7c379bc46423a29f4ee433818a0ac71c22b4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/868e7c379bc46423a29f4ee433818a0ac71c22b4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/868e7c379bc46423a29f4ee433818a0ac71c22b4"}], "stats": {"total": 27, "additions": 25, "deletions": 2}, "files": [{"sha": "66697c48833997545dd7bdec6e86694eb0694e36", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9d1723f3a269620f6ec157e27d7032e9b4eadcc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9d1723f3a269620f6ec157e27d7032e9b4eadcc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a9d1723f3a269620f6ec157e27d7032e9b4eadcc", "patch": "@@ -1,3 +1,11 @@\n+2009-07-14  DJ Delorie  <dj@redhat.com>\n+\n+\t* config/mep/mep.c (mep_vliw_jmp_match): New function.\n+\t* config/mep/mep-protos.h (mep_vliw_jmp_match): Prototype it.\n+\t* config/mep/mep.md (sibcall_internal): Change test from\n+\tmep_vliw_mode_match to mep_vliw_jmp_match.\n+\t(sibcall_value_internal): Likewise.\n+\n 2009-07-14  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* config/i386/sse.md (copysign<mode>3): New expander."}, {"sha": "a4de754bbd9a4d72d38ca384a6a42f66339c60d7", "filename": "gcc/config/mep/mep-protos.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9d1723f3a269620f6ec157e27d7032e9b4eadcc/gcc%2Fconfig%2Fmep%2Fmep-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9d1723f3a269620f6ec157e27d7032e9b4eadcc/gcc%2Fconfig%2Fmep%2Fmep-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmep%2Fmep-protos.h?ref=a9d1723f3a269620f6ec157e27d7032e9b4eadcc", "patch": "@@ -33,6 +33,7 @@ extern bool mep_allow_clip (rtx, rtx, int);\n extern bool mep_bit_position_p (rtx, bool);\n extern bool mep_split_mov (rtx *, int);\n extern bool mep_vliw_mode_match (rtx);\n+extern bool mep_vliw_jmp_match (rtx);\n extern bool mep_multi_slot (rtx);\n extern bool mep_legitimate_address (enum machine_mode, rtx, int);\n extern int mep_legitimize_address (rtx *, rtx, enum machine_mode);"}, {"sha": "80d201840552728a199ccb168d731abe3a9b91a1", "filename": "gcc/config/mep/mep.c", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9d1723f3a269620f6ec157e27d7032e9b4eadcc/gcc%2Fconfig%2Fmep%2Fmep.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9d1723f3a269620f6ec157e27d7032e9b4eadcc/gcc%2Fconfig%2Fmep%2Fmep.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmep%2Fmep.c?ref=a9d1723f3a269620f6ec157e27d7032e9b4eadcc", "patch": "@@ -1182,6 +1182,20 @@ mep_vliw_mode_match (rtx tgt)\n   return src_vliw == tgt_vliw;\n }\n \n+/* Like the above, but also test for near/far mismatches.  */\n+\n+bool\n+mep_vliw_jmp_match (rtx tgt)\n+{\n+  bool src_vliw = mep_vliw_function_p (cfun->decl);\n+  bool tgt_vliw = INTVAL (tgt);\n+\n+  if (mep_section_tag (DECL_RTL (cfun->decl)) == 'f')\n+    return false;\n+\n+  return src_vliw == tgt_vliw;\n+}\n+\n bool\n mep_multi_slot (rtx x)\n {"}, {"sha": "828c3c5e7a0d62918b43f2e719b8103b8c24a3d6", "filename": "gcc/config/mep/mep.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9d1723f3a269620f6ec157e27d7032e9b4eadcc/gcc%2Fconfig%2Fmep%2Fmep.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9d1723f3a269620f6ec157e27d7032e9b4eadcc/gcc%2Fconfig%2Fmep%2Fmep.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmep%2Fmep.md?ref=a9d1723f3a269620f6ec157e27d7032e9b4eadcc", "patch": "@@ -1923,7 +1923,7 @@\n   ]\n   \"SIBLING_CALL_P (insn)\"\n {\n-  if (mep_vliw_mode_match (operands[2]))\n+  if (mep_vliw_jmp_match (operands[2]))\n     return \"jmp\\t%0\";\n   else\n     return\n@@ -1994,7 +1994,7 @@\n   ]\n   \"SIBLING_CALL_P (insn)\"\n {\n-  if (mep_vliw_mode_match (operands[3]))\n+  if (mep_vliw_jmp_match (operands[3]))\n     return \"jmp\\t%1\";\n   else\n     return"}]}