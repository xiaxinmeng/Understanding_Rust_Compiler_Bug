{"sha": "bfa0c519308cee548a7cf55df731826a38a96f95", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmZhMGM1MTkzMDhjZWU1NDhhN2NmNTVkZjczMTgyNmEzOGE5NmY5NQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2003-06-25T00:11:33Z"}, "committer": {"name": "Loren J. Rittle", "email": "ljrittle@gcc.gnu.org", "date": "2003-06-25T00:11:33Z"}, "message": "real.h (ieee_extended_intel_96_round_53_format): New.\n\n\t* real.h (ieee_extended_intel_96_round_53_format): New.\n\t* real.c (ieee_extended_intel_96_round_53_format): New.\n\t* config/i386/freebsd.h (SUBTARGET_OVERRIDE_OPTIONS): Use it\n\tfor XFmode and TFmode.\n\nFrom-SVN: r68445", "tree": {"sha": "07f9d16ec822ee7be90b343888e46d9c530ec5b8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/07f9d16ec822ee7be90b343888e46d9c530ec5b8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bfa0c519308cee548a7cf55df731826a38a96f95", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfa0c519308cee548a7cf55df731826a38a96f95", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bfa0c519308cee548a7cf55df731826a38a96f95", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfa0c519308cee548a7cf55df731826a38a96f95/comments", "author": null, "committer": null, "parents": [{"sha": "c1a6244090a7e051b75d05e62a78beb9ff4eca4c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1a6244090a7e051b75d05e62a78beb9ff4eca4c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c1a6244090a7e051b75d05e62a78beb9ff4eca4c"}], "stats": {"total": 38, "additions": 38, "deletions": 0}, "files": [{"sha": "cd02e3fde5bfb49f484680810be436a7f28494c1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfa0c519308cee548a7cf55df731826a38a96f95/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfa0c519308cee548a7cf55df731826a38a96f95/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bfa0c519308cee548a7cf55df731826a38a96f95", "patch": "@@ -1,3 +1,11 @@\n+2003-06-24  Richard Henderson  <rth@redhat.com>\n+\t    (blame to: Loren James Rittle  <ljrittle@acm.org>)\n+\n+\t* real.h (ieee_extended_intel_96_round_53_format): New.\n+\t* real.c (ieee_extended_intel_96_round_53_format): New.\n+\t* config/i386/freebsd.h (SUBTARGET_OVERRIDE_OPTIONS): Use it\n+\tfor XFmode and TFmode.\n+\n 2003-06-24  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* config/h8300/h8300.md (4 anonymous patterns): Give internal"}, {"sha": "52dcf1bc4c2e271a72b52cbdd64d06c8c0f951dd", "filename": "gcc/config/i386/freebsd.h", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfa0c519308cee548a7cf55df731826a38a96f95/gcc%2Fconfig%2Fi386%2Ffreebsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfa0c519308cee548a7cf55df731826a38a96f95/gcc%2Fconfig%2Fi386%2Ffreebsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Ffreebsd.h?ref=bfa0c519308cee548a7cf55df731826a38a96f95", "patch": "@@ -133,3 +133,13 @@ Boston, MA 02111-1307, USA.  */\n \n #undef  DEFAULT_PCC_STRUCT_RETURN\n #define DEFAULT_PCC_STRUCT_RETURN 0\n+\n+/* FreeBSD sets the rounding precision of the FPU to 53 bits.  Let the\n+   compiler get the contents of <float.h> and std::numeric_limits correct.  */\n+#define SUBTARGET_OVERRIDE_OPTIONS\t\t\t\\\n+  do {\t\t\t\t\t\t\t\\\n+    real_format_for_mode[XFmode - QFmode]\t\t\\\n+      = &ieee_extended_intel_96_round_53_format;\t\\\n+    real_format_for_mode[TFmode - QFmode]\t\t\\\n+      = &ieee_extended_intel_96_round_53_format;\t\\\n+  } while (0)"}, {"sha": "b491d885a9f11566562b2348b1c5701dd7c15c6a", "filename": "gcc/real.c", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfa0c519308cee548a7cf55df731826a38a96f95/gcc%2Freal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfa0c519308cee548a7cf55df731826a38a96f95/gcc%2Freal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freal.c?ref=bfa0c519308cee548a7cf55df731826a38a96f95", "patch": "@@ -3326,6 +3326,25 @@ const struct real_format ieee_extended_intel_128_format =\n     true\n   };\n \n+/* The following caters to i386 systems that set the rounding precision\n+   to 53 bits instead of 64, e.g. FreeBSD.  */\n+const struct real_format ieee_extended_intel_96_round_53_format = \n+  {\n+    encode_ieee_extended,\n+    decode_ieee_extended,\n+    2,\n+    1,\n+    53,\n+    53,\n+    -16381,\n+    16384,\n+    79,\n+    true,\n+    true,\n+    true,\n+    true,\n+    true\n+  };\n \f\n /* IBM 128-bit extended precision format: a pair of IEEE double precision\n    numbers whose sum is equal to the extended precision value.  The number"}, {"sha": "71e3cc4b6b9f8222d6836dc72a278f871a9d5c06", "filename": "gcc/real.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfa0c519308cee548a7cf55df731826a38a96f95/gcc%2Freal.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfa0c519308cee548a7cf55df731826a38a96f95/gcc%2Freal.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freal.h?ref=bfa0c519308cee548a7cf55df731826a38a96f95", "patch": "@@ -234,6 +234,7 @@ extern const struct real_format ieee_double_format;\n extern const struct real_format mips_double_format;\n extern const struct real_format ieee_extended_motorola_format;\n extern const struct real_format ieee_extended_intel_96_format;\n+extern const struct real_format ieee_extended_intel_96_round_53_format;\n extern const struct real_format ieee_extended_intel_128_format;\n extern const struct real_format ibm_extended_format;\n extern const struct real_format mips_extended_format;"}]}