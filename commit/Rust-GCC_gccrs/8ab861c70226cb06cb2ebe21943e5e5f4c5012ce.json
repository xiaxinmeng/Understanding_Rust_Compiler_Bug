{"sha": "8ab861c70226cb06cb2ebe21943e5e5f4c5012ce", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGFiODYxYzcwMjI2Y2IwNmNiMmViZTIxOTQzZTVlNWY0YzUwMTJjZQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-04-13T21:07:04Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-04-13T21:07:04Z"}, "message": "(main, scan_prog_file): Don't call signal on signal names that aren't\ndefined.\n\nFrom-SVN: r4135", "tree": {"sha": "6fb5da05e049d80a41b6c0aa4a6c76feb5dff282", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6fb5da05e049d80a41b6c0aa4a6c76feb5dff282"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8ab861c70226cb06cb2ebe21943e5e5f4c5012ce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ab861c70226cb06cb2ebe21943e5e5f4c5012ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8ab861c70226cb06cb2ebe21943e5e5f4c5012ce", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ab861c70226cb06cb2ebe21943e5e5f4c5012ce/comments", "author": null, "committer": null, "parents": [{"sha": "ccf5d2447aca9ed6eb9c74304b8fc8a458cc8968", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ccf5d2447aca9ed6eb9c74304b8fc8a458cc8968", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ccf5d2447aca9ed6eb9c74304b8fc8a458cc8968"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "cc0d732f0121df63dde9e8c12811bc6b121bc7f2", "filename": "gcc/collect2.c", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ab861c70226cb06cb2ebe21943e5e5f4c5012ce/gcc%2Fcollect2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ab861c70226cb06cb2ebe21943e5e5f4c5012ce/gcc%2Fcollect2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcollect2.c?ref=8ab861c70226cb06cb2ebe21943e5e5f4c5012ce", "patch": "@@ -757,18 +757,26 @@ main (argc, argv)\n   if (argc < 2)\n     fatal (\"no arguments\");\n \n+#ifdef SIGQUIT\n   if (signal (SIGQUIT, SIG_IGN) != SIG_IGN)\n     signal (SIGQUIT, handler);\n+#endif\n   if (signal (SIGINT, SIG_IGN) != SIG_IGN)\n     signal (SIGINT, handler);\n+#ifdef SIGALRM\n   if (signal (SIGALRM, SIG_IGN) != SIG_IGN)\n     signal (SIGALRM, handler);\n+#endif\n+#ifdef SIGHUP\n   if (signal (SIGHUP, SIG_IGN) != SIG_IGN)\n     signal (SIGHUP, handler);\n+#endif\n   if (signal (SIGSEGV, SIG_IGN) != SIG_IGN)\n     signal (SIGSEGV, handler);\n+#ifdef SIGBUS\n   if (signal (SIGBUS, SIG_IGN) != SIG_IGN)\n     signal (SIGBUS, handler);\n+#endif\n \n   /* Extract COMPILER_PATH and PATH into our prefix list.  */\n   prefix_from_env (\"COMPILER_PATH\", &cpath);\n@@ -1361,7 +1369,9 @@ scan_prog_file (prog_name, which_pass)\n \n   /* Parent context from here on.  */\n   int_handler  = (void (*) ())signal (SIGINT,  SIG_IGN);\n+#ifdef SIGQUIT\n   quit_handler = (void (*) ())signal (SIGQUIT, SIG_IGN);\n+#endif\n \n   if (close (pipe_fd[1]) < 0)\n     fatal_perror (\"close (%d)\", pipe_fd[1]);\n@@ -1419,7 +1429,9 @@ scan_prog_file (prog_name, which_pass)\n   do_wait (nm_file_name);\n \n   signal (SIGINT,  int_handler);\n+#ifdef SIGQUIT\n   signal (SIGQUIT, quit_handler);\n+#endif\n }\n \n #endif /* OBJECT_FORMAT_NONE */"}]}