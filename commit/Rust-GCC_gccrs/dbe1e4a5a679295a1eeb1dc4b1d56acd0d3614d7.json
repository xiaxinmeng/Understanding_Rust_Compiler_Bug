{"sha": "dbe1e4a5a679295a1eeb1dc4b1d56acd0d3614d7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGJlMWU0YTVhNjc5Mjk1YTFlZWIxZGM0YjFkNTZhY2QwZDM2MTRkNw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-03-05T06:04:14Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-03-05T06:04:14Z"}, "message": "libgo: Fix Solaris ustat.h test.\n\nFrom-SVN: r184913", "tree": {"sha": "3665ec298c43170000a340d8994a9a0adcec48ef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3665ec298c43170000a340d8994a9a0adcec48ef"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dbe1e4a5a679295a1eeb1dc4b1d56acd0d3614d7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dbe1e4a5a679295a1eeb1dc4b1d56acd0d3614d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dbe1e4a5a679295a1eeb1dc4b1d56acd0d3614d7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dbe1e4a5a679295a1eeb1dc4b1d56acd0d3614d7/comments", "author": null, "committer": null, "parents": [{"sha": "2203cb90fb793e384645e390e3a4112c47a7cb1d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2203cb90fb793e384645e390e3a4112c47a7cb1d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2203cb90fb793e384645e390e3a4112c47a7cb1d"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "d1c17f10c8b84eb83a1e847842fb88fde338cc5d", "filename": "libgo/configure", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dbe1e4a5a679295a1eeb1dc4b1d56acd0d3614d7/libgo%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dbe1e4a5a679295a1eeb1dc4b1d56acd0d3614d7/libgo%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fconfigure?ref=dbe1e4a5a679295a1eeb1dc4b1d56acd0d3614d7", "patch": "@@ -14547,7 +14547,9 @@ $as_echo_n \"checking whether <ustat.h> can be used... \" >&6; }\n if test \"${libgo_cv_c_ustat_h+set}\" = set; then :\n   $as_echo_n \"(cached) \" >&6\n else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+  CFLAGS_hold=$CFLAGS\n+CFLAGS=\"$CFLAGS -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE $OSCFLAGS\"\n+cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n \n #include <sys/types.h>\n@@ -14563,6 +14565,7 @@ else\n   libgo_cv_c_ustat_h=no\n fi\n rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n+CFLAGS=$CFLAGS_hold\n fi\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $libgo_cv_c_ustat_h\" >&5\n $as_echo \"$libgo_cv_c_ustat_h\" >&6; }"}, {"sha": "63c5faf7db6cfcc5dfd4695d030e02c796586021", "filename": "libgo/configure.ac", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dbe1e4a5a679295a1eeb1dc4b1d56acd0d3614d7/libgo%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dbe1e4a5a679295a1eeb1dc4b1d56acd0d3614d7/libgo%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fconfigure.ac?ref=dbe1e4a5a679295a1eeb1dc4b1d56acd0d3614d7", "patch": "@@ -463,14 +463,17 @@ AC_CHECK_HEADERS([linux/filter.h linux/netlink.h linux/rtnetlink.h], [], [],\n \n AC_CACHE_CHECK([whether <ustat.h> can be used],\n [libgo_cv_c_ustat_h],\n+[CFLAGS_hold=$CFLAGS\n+CFLAGS=\"$CFLAGS -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE $OSCFLAGS\"\n AC_COMPILE_IFELSE(\n [AC_LANG_SOURCE([\n #include <sys/types.h>\n #ifdef HAVE_LINUX_FILTER_H\n #include <linux/filter.h>\n #endif\n #include <ustat.h>\n-])], [libgo_cv_c_ustat_h=yes], [libgo_cv_c_ustat_h=no]))\n+])], [libgo_cv_c_ustat_h=yes], [libgo_cv_c_ustat_h=no])\n+CFLAGS=$CFLAGS_hold])\n if test $libgo_cv_c_ustat_h = yes; then\n   AC_DEFINE(HAVE_USTAT_H, 1,\n     [Define to 1 if you have the <ustat.h> header file and it works.])"}]}