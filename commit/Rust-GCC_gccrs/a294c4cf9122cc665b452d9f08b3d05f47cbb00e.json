{"sha": "a294c4cf9122cc665b452d9f08b3d05f47cbb00e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTI5NGM0Y2Y5MTIyY2M2NjViNDUyZDlmMDhiM2QwNWY0N2NiYjAwZQ==", "commit": {"author": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2003-07-08T05:49:59Z"}, "committer": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2003-07-08T05:49:59Z"}, "message": "mkfixinc.sh: Remove winnt support.\n\n\t* fixinc/mkfixinc.sh: Remove winnt support.\n\t* fixinc/fixinc.winnt: Delete with extreme prejudice.\n\nFrom-SVN: r69070", "tree": {"sha": "7e3c29783647f633c363237c84951d379626b8c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7e3c29783647f633c363237c84951d379626b8c8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a294c4cf9122cc665b452d9f08b3d05f47cbb00e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a294c4cf9122cc665b452d9f08b3d05f47cbb00e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a294c4cf9122cc665b452d9f08b3d05f47cbb00e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a294c4cf9122cc665b452d9f08b3d05f47cbb00e/comments", "author": null, "committer": null, "parents": [{"sha": "979312a4bc839389baddb558af1e0f9099bc9b8c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/979312a4bc839389baddb558af1e0f9099bc9b8c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/979312a4bc839389baddb558af1e0f9099bc9b8c"}], "stats": {"total": 242, "additions": 5, "deletions": 237}, "files": [{"sha": "c974db72391982024887e667cfce2e0503bb3449", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a294c4cf9122cc665b452d9f08b3d05f47cbb00e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a294c4cf9122cc665b452d9f08b3d05f47cbb00e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a294c4cf9122cc665b452d9f08b3d05f47cbb00e", "patch": "@@ -1,3 +1,8 @@\n+2003-07-08  Nathanael Nerode  <neroden@gcc.gnu.org>\n+\n+\t* fixinc/mkfixinc.sh: Remove winnt support.\n+\t* fixinc/fixinc.winnt: Delete with extreme prejudice.\n+\n 2003-07-08  Neil Booth  <neil@daikokuya.co.uk>\n \n \t* Makefile.in: Update."}, {"sha": "de0f84746e2f7911677cb4807dfb99f9cdefbd68", "filename": "gcc/fixinc/fixinc.winnt", "status": "removed", "additions": 0, "deletions": 232, "changes": 232, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/979312a4bc839389baddb558af1e0f9099bc9b8c/gcc%2Ffixinc%2Ffixinc.winnt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/979312a4bc839389baddb558af1e0f9099bc9b8c/gcc%2Ffixinc%2Ffixinc.winnt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixinc.winnt?ref=979312a4bc839389baddb558af1e0f9099bc9b8c", "patch": "@@ -1,232 +0,0 @@\n-#! sh\n-#\n-#   fixinc.winnt  --  Install modified versions of Windows NT system include\n-#   files.\n-#\n-#   Based on fixinc.sco script by Ian Lance Taylor (ian@airs.com)).\n-#   Modifications by Douglas Rupp (drupp@cs.washington.edu)\n-#\n-# This file is part of GNU CC.\n-# \n-# GNU CC is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-# \n-# GNU CC is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-# \n-# You should have received a copy of the GNU General Public License\n-# along with GNU CC; see the file COPYING.  If not, write to\n-# the Free Software Foundation, 59 Temple Place - Suite 330,\n-# Boston, MA 02111-1307, USA.\n-#\n-#\tThis script munges the native include files provided with Windows NT\n-#\t3.5 SDK systems so as to provide a reasonable namespace when\n-#\tcompiling with gcc.  The header files by default do not\n-#\tprovide many essential definitions and declarations if\n-#\t__STDC__ is 1.  This script modifies the header files to check\n-#\tfor __STRICT_ANSI__ being defined instead.  Once munged, the\n-#\tresulting new system include files are placed in a directory\n-#\tthat GNU C will search *before* searching the Include\n-#\tdirectory.\n-#\n-#\tSee README-fixinc for more information.\n-\n-ORIG_DIR=`${PWDCMD-pwd}`\n-\n-# Directory containing the original header files.\n-cd $2; SEDFILE=`${PWDCMD-pwd}`/fixinc-nt.sed\n-echo $SEDFILE\n-if [ ! -f $SEDFILE ]\n-then echo fixincludes: sed script 'fixinc-nt.sed' not found\n-exit 1\n-fi\n-echo 'Using sed script: ' ${SEDFILE}\n-\n-cd $ORIG_DIR\n-\n-INPUT=${INCLUDE}\n-echo 'Using the Include environment variable to find header files to fix'\n-\n-# Fail if no arg to specify a directory for the output.\n-if [ x$1 = x ]\n-then echo fixincludes: no output directory specified\n-exit 1\n-fi\n-\n-# Directory in which to store the results.\n-LIB=${1?\"fixincludes: output directory not specified\"}\n-\n-# Make sure it exists.\n-if [ ! -d $LIB ]; then\n-  mkdir $LIB || exit 1\n-fi\n-\n-ORIG_DIR=`${PWDCMD-pwd}`\n-\n-# Make LIB absolute if it is relative.\n-# Don't do this if not necessary, since may screw up automounters.\n-case $LIB in\n-/*)\n-\t;;\n-*)\n-\tcd $LIB; LIB=`${PWDCMD-pwd}`\n-\t;;\n-esac\n-\n-echo 'Building fixincludes in ' ${LIB}\n-\n-# Determine whether this filesystem has symbolic links.\n-if ln -s X $LIB/ShouldNotExist 2>NUL; then\n-  rm -f $LIB/ShouldNotExist\n-  LINKS=true\n-else\n-  LINKS=false\n-fi\n-\n-echo 'Making directories:'\n-cd ${INPUT}\n-if $LINKS; then\n-  files=`ls -LR | sed -n s/:$//p`\n-else\n-  files=`find . -type d -print | sed '/^.$/d'`\n-fi\n-for file in $files; do\n-  rm -rf $LIB/$file\n-  if [ ! -d $LIB/$file ]\n-  then mkdir $LIB/$file\n-  fi\n-done\n-\n-# treetops gets an alternating list\n-# of old directories to copy\n-# and the new directories to copy to.\n-treetops=\"${INPUT} ${LIB}\"\n-\n-set - $treetops\n-while [ $# != 0 ]; do\n-  # $1 is an old directory to copy, and $2 is the new directory to copy to.\n-  echo \"Finding header files in $1:\"\n-  cd ${INPUT}\n-  cd $1\n-  files=`find . -name '*.[hH]' -type f -print`\n-  echo 'Checking header files:'\n-  for file in $files; do\n-    echo $file\n-    if egrep \"!__STDC__\" $file >NUL; then\n-      if [ -r $file ]; then\n-\tcp $file $2/$file >NUL 2>&1 || echo \"Can't copy $file\"\n-\tchmod +w,a+r $2/$file\n-\n-# The following have been removed from the sed command below\n-# because it is more useful to leave these things in.\n-# The only reason to remove them was for -pedantic,\n-# which isn't much of a reason. -- rms.\n-#\t  /^[ \t]*#[ \t]*ident/d\n-\n-\tsed -e '\n-\t  s/!__STDC__/!defined (__STRICT_ANSI__)/g\n-\t' $2/$file > $2/$file.sed\n-\tmv $2/$file.sed $2/$file\n-\tif cmp $file $2/$file >NUL 2>&1; then\n-\t   rm $2/$file\n-\telse\n-\t   echo Fixed $file\n-\tfi\n-      fi\n-    fi\n-  done\n-  shift; shift\n-done\n-\n-# Fix first broken decl of getcwd present on some svr4 systems.\n-\n-file=direct.h\n-base=`basename $file`.$$\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed -e 's/getcwd(char \\*, int)/getcwd(char *, size_t)/' $file_to_fix > /tmp/$base\n-  if cmp $file_to_fix /tmp/$base >NUL 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-file=rpcndr.h\n-base=`basename $file`.$$\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed -e 's/Format\\[\\]/Format\\[1\\]/' $file_to_fix > /tmp/$base\n-  if cmp $file_to_fix /tmp/$base >NUL 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-file=winnt.h\n-base=`basename $file`.$$\n-if [ -r ${LIB}/$file ]; then\n-  file_to_fix=${LIB}/$file\n-else\n-  if [ -r ${INPUT}/$file ]; then\n-    file_to_fix=${INPUT}/$file\n-  else\n-    file_to_fix=\"\"\n-  fi\n-fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n-  echo Checking $file_to_fix\n-  sed -e '\n-    s/^#if !defined (__cplusplus)/#if 0/\n-    s/^#define DECLSPEC_IMPORT __declspec(dllimport)/#define DECLSPEC_IMPORT/\n-  ' $file_to_fix > /tmp/$base\n-  if cmp $file_to_fix /tmp/$base >NUL 2>&1; then \\\n-    true\n-  else\n-    echo Fixed $file_to_fix\n-    rm -f ${LIB}/$file\n-    cp /tmp/$base ${LIB}/$file\n-    chmod a+r ${LIB}/$file\n-  fi\n-  rm -f /tmp/$base\n-fi\n-\n-echo 'Removing unneeded directories:'\n-cd $LIB\n-files=`find . -type d \\! -name '.' -print | sort -r`\n-for file in $files; do\n-  rmdir $LIB/$file > NUL 2>&1\n-done\n-\n-exit 0"}, {"sha": "2b6a9b77a066df20e9a0d947acd2dcb066858861", "filename": "gcc/fixinc/mkfixinc.sh", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a294c4cf9122cc665b452d9f08b3d05f47cbb00e/gcc%2Ffixinc%2Fmkfixinc.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a294c4cf9122cc665b452d9f08b3d05f47cbb00e/gcc%2Ffixinc%2Fmkfixinc.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Fmkfixinc.sh?ref=a294c4cf9122cc665b452d9f08b3d05f47cbb00e", "patch": "@@ -51,11 +51,6 @@ case $machine in\n         fixincludes=fixinc.wrap\n         ;;\n \n-    alpha*-*-winnt* | \\\n-    i?86-*-winnt3*)\n-        fixincludes=fixinc.winnt\n-        ;;\n-\n     i?86-sequent-ptx* | i?86-sequent-sysv[34]*)\n         fixincludes=fixinc.ptx\n         ;;"}]}