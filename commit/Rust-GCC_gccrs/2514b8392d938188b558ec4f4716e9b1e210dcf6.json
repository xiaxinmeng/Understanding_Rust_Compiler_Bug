{"sha": "2514b8392d938188b558ec4f4716e9b1e210dcf6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjUxNGI4MzkyZDkzODE4OGI1NThlYzRmNDcxNmU5YjFlMjEwZGNmNg==", "commit": {"author": {"name": "Ed Schonberg", "email": "schonber@gnat.com", "date": "2001-12-05T19:34:44Z"}, "committer": {"name": "Geert Bosch", "email": "bosch@gcc.gnu.org", "date": "2001-12-05T19:34:44Z"}, "message": "sem_ch3.adb (Analyze_Object_Declaration): If expression is an aggregate with static wrong size...\n\n\t* sem_ch3.adb (Analyze_Object_Declaration): If expression is an\n\taggregate with static wrong size, attach generated Raise node to\n\tdeclaration.\n\nFrom-SVN: r47685", "tree": {"sha": "fdbaae35b14ff4a21548c437db0437c1007905d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fdbaae35b14ff4a21548c437db0437c1007905d9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2514b8392d938188b558ec4f4716e9b1e210dcf6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2514b8392d938188b558ec4f4716e9b1e210dcf6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2514b8392d938188b558ec4f4716e9b1e210dcf6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2514b8392d938188b558ec4f4716e9b1e210dcf6/comments", "author": null, "committer": null, "parents": [{"sha": "82ae78227426b93541799f27f4dfcf6b62166085", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82ae78227426b93541799f27f4dfcf6b62166085", "html_url": "https://github.com/Rust-GCC/gccrs/commit/82ae78227426b93541799f27f4dfcf6b62166085"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "d49a0c7c79fc8cf2ac632d56b324abe34a2d5f7a", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2514b8392d938188b558ec4f4716e9b1e210dcf6/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2514b8392d938188b558ec4f4716e9b1e210dcf6/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=2514b8392d938188b558ec4f4716e9b1e210dcf6", "patch": "@@ -1,3 +1,9 @@\n+2001-12-05  Ed Schonberg <schonber@gnat.com>\n+\n+\t* sem_ch3.adb (Analyze_Object_Declaration): If expression is an \n+\taggregate with static wrong size, attach generated Raise node to \n+\tdeclaration.\n+\n 2001-12-05  Robert Dewar <dewar@gnat.com>\n \n \t* sem_attr.adb (Analyze_Attribute): Defend against bad Val attribute. "}, {"sha": "89c5ac6d59a1acb5a55dfbc58eb30b151ee2824d", "filename": "gcc/ada/sem_ch3.adb", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2514b8392d938188b558ec4f4716e9b1e210dcf6/gcc%2Fada%2Fsem_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2514b8392d938188b558ec4f4716e9b1e210dcf6/gcc%2Fada%2Fsem_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch3.adb?ref=2514b8392d938188b558ec4f4716e9b1e210dcf6", "patch": "@@ -1604,6 +1604,11 @@ package body Sem_Ch3 is\n          if not Is_Constrained (T) then\n             null;\n \n+         elsif Nkind (E) = N_Raise_Constraint_Error then\n+            --  Aggregate is statically illegal. Place back in declaration.\n+            Set_Expression (N, E);\n+            Set_No_Initialization (N, False);\n+\n          elsif T = Etype (E) then\n             null;\n "}]}