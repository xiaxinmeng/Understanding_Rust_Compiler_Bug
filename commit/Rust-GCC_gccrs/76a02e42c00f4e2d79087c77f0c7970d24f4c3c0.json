{"sha": "76a02e42c00f4e2d79087c77f0c7970d24f4c3c0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzZhMDJlNDJjMDBmNGUyZDc5MDg3Yzc3ZjBjNzk3MGQyNGY0YzNjMA==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2012-05-11T11:12:42Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2012-05-11T11:12:42Z"}, "message": "Add RTM support to -march=native\n\n\t* config/i386/driver-i386.c (host_detect_local_cpu): Support\n\tRTM.\n\nFrom-SVN: r187400", "tree": {"sha": "21c31efbbd17d9d1e4cea0669b49c6a0efd4eb84", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/21c31efbbd17d9d1e4cea0669b49c6a0efd4eb84"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/76a02e42c00f4e2d79087c77f0c7970d24f4c3c0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/76a02e42c00f4e2d79087c77f0c7970d24f4c3c0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/76a02e42c00f4e2d79087c77f0c7970d24f4c3c0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/76a02e42c00f4e2d79087c77f0c7970d24f4c3c0/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "52cd1f6045e484bc5600a8071cd3270bcb66f578", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52cd1f6045e484bc5600a8071cd3270bcb66f578", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52cd1f6045e484bc5600a8071cd3270bcb66f578"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "8e8b3fa11f65613005c86f6cf580f427548f25d3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76a02e42c00f4e2d79087c77f0c7970d24f4c3c0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76a02e42c00f4e2d79087c77f0c7970d24f4c3c0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=76a02e42c00f4e2d79087c77f0c7970d24f4c3c0", "patch": "@@ -1,3 +1,8 @@\n+2012-05-11  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* config/i386/driver-i386.c (host_detect_local_cpu): Support\n+\tRTM.\n+\n 2012-05-11  Jan Hubicka  <jh@suse.cz>\n \n \tPR bootstrap/53300"}, {"sha": "e93e8d9e5e70cdd86222206e622ac641a0e02d30", "filename": "gcc/config/i386/driver-i386.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76a02e42c00f4e2d79087c77f0c7970d24f4c3c0/gcc%2Fconfig%2Fi386%2Fdriver-i386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76a02e42c00f4e2d79087c77f0c7970d24f4c3c0/gcc%2Fconfig%2Fi386%2Fdriver-i386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fdriver-i386.c?ref=76a02e42c00f4e2d79087c77f0c7970d24f4c3c0", "patch": "@@ -397,7 +397,7 @@ const char *host_detect_local_cpu (int argc, const char **argv)\n   unsigned int has_pclmul = 0, has_abm = 0, has_lwp = 0;\n   unsigned int has_fma = 0, has_fma4 = 0, has_xop = 0;\n   unsigned int has_bmi = 0, has_bmi2 = 0, has_tbm = 0, has_lzcnt = 0;\n-  unsigned int has_hle = 0;\n+  unsigned int has_hle = 0, has_rtm = 0;\n \n   bool arch;\n \n@@ -458,6 +458,7 @@ const char *host_detect_local_cpu (int argc, const char **argv)\n \n       has_bmi = ebx & bit_BMI;\n       has_hle = ebx & bit_HLE;\n+      has_rtm = ebx & bit_RTM;\n       has_avx2 = ebx & bit_AVX2;\n       has_bmi2 = ebx & bit_BMI2;\n     }\n@@ -731,10 +732,11 @@ const char *host_detect_local_cpu (int argc, const char **argv)\n       const char *sse4_1 = has_sse4_1 ? \" -msse4.1\" : \" -mno-sse4.1\";\n       const char *lzcnt = has_lzcnt ? \" -mlzcnt\" : \" -mno-lzcnt\";\n       const char *hle = has_hle ? \" -mhle\" : \" -mno-hle\";\n+      const char *rtm = has_rtm ? \" -mrtm\" : \" -mno-rtm\";\n \n       options = concat (options, cx16, sahf, movbe, ase, pclmul,\n \t\t\tpopcnt, abm, lwp, fma, fma4, xop, bmi, bmi2,\n-\t\t\ttbm, avx, avx2, sse4_2, sse4_1, lzcnt,\n+\t\t\ttbm, avx, avx2, sse4_2, sse4_1, lzcnt, rtm,\n \t\t\thle, NULL);\n     }\n "}]}