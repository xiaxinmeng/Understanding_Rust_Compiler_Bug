{"sha": "d32a5f4b52aa1f845c4fb56d4e849d4386299100", "node_id": "C_kwDOANBUbNoAKGQzMmE1ZjRiNTJhYTFmODQ1YzRmYjU2ZDRlODQ5ZDQzODYyOTkxMDA", "commit": {"author": {"name": "Bill Schmidt", "email": "wschmidt@linux.ibm.com", "date": "2022-01-28T17:50:25Z"}, "committer": {"name": "Segher Boessenkool", "email": "segher@kernel.crashing.org", "date": "2022-03-30T18:29:26Z"}, "message": "rs6000: vec_neg built-ins wrongly require POWER8\n\nAs the subject states.  Fixing this is accomplished by moving the built-ins\nto the correct stanzas, [altivec] and [vsx].\n\n2022-01-27  Bill Schmidt  <wschmidt@linux.ibm.com>\n\ngcc/\n\t* config/rs6000/rs6000-builtins.def (NEG_V16QI): Move to [altivec]\n\tstanza.\n\t(NEG_V4SF): Likewise.\n\t(NEG_V4SI): Likewise.\n\t(NEG_V8HI): Likewise.\n\t(NEG_V2DF): Move to [vsx] stanza.\n\t(NEG_V2DI): Likewise.", "tree": {"sha": "49996b45796808043261b2ab10ff6de1ca63d92b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/49996b45796808043261b2ab10ff6de1ca63d92b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d32a5f4b52aa1f845c4fb56d4e849d4386299100", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d32a5f4b52aa1f845c4fb56d4e849d4386299100", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d32a5f4b52aa1f845c4fb56d4e849d4386299100", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d32a5f4b52aa1f845c4fb56d4e849d4386299100/comments", "author": null, "committer": {"login": "segher", "id": 417629, "node_id": "MDQ6VXNlcjQxNzYyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/417629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/segher", "html_url": "https://github.com/segher", "followers_url": "https://api.github.com/users/segher/followers", "following_url": "https://api.github.com/users/segher/following{/other_user}", "gists_url": "https://api.github.com/users/segher/gists{/gist_id}", "starred_url": "https://api.github.com/users/segher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/segher/subscriptions", "organizations_url": "https://api.github.com/users/segher/orgs", "repos_url": "https://api.github.com/users/segher/repos", "events_url": "https://api.github.com/users/segher/events{/privacy}", "received_events_url": "https://api.github.com/users/segher/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "22b0476a814a4759bb68f38b9415624a0fe52a7d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22b0476a814a4759bb68f38b9415624a0fe52a7d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/22b0476a814a4759bb68f38b9415624a0fe52a7d"}], "stats": {"total": 36, "additions": 18, "deletions": 18}, "files": [{"sha": "296f36e0f9b7c51ca2288c27a19b56dc8d30c335", "filename": "gcc/config/rs6000/rs6000-builtins.def", "status": "modified", "additions": 18, "deletions": 18, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d32a5f4b52aa1f845c4fb56d4e849d4386299100/gcc%2Fconfig%2Frs6000%2Frs6000-builtins.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d32a5f4b52aa1f845c4fb56d4e849d4386299100/gcc%2Fconfig%2Frs6000%2Frs6000-builtins.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000-builtins.def?ref=d32a5f4b52aa1f845c4fb56d4e849d4386299100", "patch": "@@ -410,6 +410,18 @@\n   const vss __builtin_altivec_nabs_v8hi (vss);\n     NABS_V8HI nabsv8hi2 {}\n \n+  const vsc __builtin_altivec_neg_v16qi (vsc);\n+    NEG_V16QI negv16qi2 {}\n+\n+  const vf __builtin_altivec_neg_v4sf (vf);\n+    NEG_V4SF negv4sf2 {}\n+\n+  const vsi __builtin_altivec_neg_v4si (vsi);\n+    NEG_V4SI negv4si2 {}\n+\n+  const vss __builtin_altivec_neg_v8hi (vss);\n+    NEG_V8HI negv8hi2 {}\n+\n   void __builtin_altivec_stvebx (vsc, signed long, void *);\n     STVEBX altivec_stvebx {stvec}\n \n@@ -1175,6 +1187,12 @@\n   const vsll __builtin_altivec_nabs_v2di (vsll);\n     NABS_V2DI nabsv2di2 {}\n \n+  const vd __builtin_altivec_neg_v2df (vd);\n+    NEG_V2DF negv2df2 {}\n+\n+  const vsll __builtin_altivec_neg_v2di (vsll);\n+    NEG_V2DI negv2di2 {}\n+\n   void __builtin_altivec_stvx_v2df (vd, signed long, void *);\n     STVX_V2DF altivec_stvx_v2df {stvec}\n \n@@ -2118,24 +2136,6 @@\n   const vus __builtin_altivec_nand_v8hi_uns (vus, vus);\n     NAND_V8HI_UNS nandv8hi3 {}\n \n-  const vsc __builtin_altivec_neg_v16qi (vsc);\n-    NEG_V16QI negv16qi2 {}\n-\n-  const vd __builtin_altivec_neg_v2df (vd);\n-    NEG_V2DF negv2df2 {}\n-\n-  const vsll __builtin_altivec_neg_v2di (vsll);\n-    NEG_V2DI negv2di2 {}\n-\n-  const vf __builtin_altivec_neg_v4sf (vf);\n-    NEG_V4SF negv4sf2 {}\n-\n-  const vsi __builtin_altivec_neg_v4si (vsi);\n-    NEG_V4SI negv4si2 {}\n-\n-  const vss __builtin_altivec_neg_v8hi (vss);\n-    NEG_V8HI negv8hi2 {}\n-\n   const vsc __builtin_altivec_orc_v16qi (vsc, vsc);\n     ORC_V16QI orcv16qi3 {}\n "}]}