{"sha": "1333282db72d6e6f9904c37ed3a5753a920d4fdb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTMzMzI4MmRiNzJkNmU2Zjk5MDRjMzdlZDNhNTc1M2E5MjBkNGZkYg==", "commit": {"author": {"name": "Sandra Loosemore", "email": "sandra@codesourcery.com", "date": "2007-09-05T14:46:25Z"}, "committer": {"name": "Sandra Loosemore", "email": "sandra@gcc.gnu.org", "date": "2007-09-05T14:46:25Z"}, "message": "mipscop-1.c: Add nomips16 attributes.\n\n2007-09-05  Sandra Loosemore  <sandra@codesourcery.com>\n\t    David Ung  <davidu@mips.com>\n            Nigel Stephens <nigel@mips.com>\n\n\tgcc/testsuite/\n\t* gcc.c-torture/compile/mipscop-1.c: Add nomips16 attributes.\n\t* gcc.c-torture/compile/mipscop-2.c: Likewise.\n\t* gcc.c-torture/compile/mipscop-3.c: Likewise.\n\t* gcc.c-torture/compile/mipscop-4.c: Likewise.\n\t* gcc.dg/torture/mips-hilo-1.c: Likewise.\n\t* gcc.dg/torture/mips-hilo-2.c: Likewise.\n\t* gcc.dg/torture/pr19683-1.c: Likewise.\n\t* gcc.target/mips/madd-3.c: Likewise.\n\t* gcc.target/mips/maddu-3.c: Likewise.\n\t* gcc.target/mips/msub-3.c: Likewise.\n\t* gcc.target/mips/msubu-3.c: Likewise.\n\t* gcc.target/mips/asm-1.c: Likewise.\n\t* gcc.target/mips/branch-1.c: Likewise.\n\t* gcc.target/mips/ins-1.c: Likewise.\n\t* gcc.target/mips/near-far-3.c: Likewise.\n\t* gcc.target/mips/near-far-4.c: Likewise.\n\t* gcc.target/mips/smartmips-lwxs.c: Likewise.\n\t* gcc.target/mips/smartmips-ror-1.c: Likewise.\n\t* gcc.target/mips/smartmips-ror-2.c: Likewise.\n\t* gcc.target/mips/smartmips-ror-3.c: Likewise.\n\t* gcc.target/mips/smartmips-ror-4.c: Likewise.\n\t* gcc.target/mips/dspr2-MULT.c: Likewise.\n\t* gcc.target/mips/dspr2-MULTU.c: Likewise.\n\t* gcc.target/mips/mips32-dsp-run.c: Likewise.\n\t* gcc.target/mips/mips32-dspr2-type.c: Likewise.\n\t* gcc.target/mips/code-readable-1.c: Add mips16 attributes.\n\t* gcc.target/mips/code-readable-2.c: Likewise.\n\t* gcc.target/mips/code-readable-3.c: Likewise.\n\nCo-Authored-By: David Ung <davidu@mips.com>\nCo-Authored-By: Nigel Stephens <nigel@mips.com>\n\nFrom-SVN: r128135", "tree": {"sha": "94e9400dc32974bf40c1ff0178a8c250e78c5a94", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/94e9400dc32974bf40c1ff0178a8c250e78c5a94"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1333282db72d6e6f9904c37ed3a5753a920d4fdb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1333282db72d6e6f9904c37ed3a5753a920d4fdb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1333282db72d6e6f9904c37ed3a5753a920d4fdb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1333282db72d6e6f9904c37ed3a5753a920d4fdb/comments", "author": {"login": "SandraLoosemore", "id": 104087111, "node_id": "U_kgDOBjQ-Rw", "avatar_url": "https://avatars.githubusercontent.com/u/104087111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SandraLoosemore", "html_url": "https://github.com/SandraLoosemore", "followers_url": "https://api.github.com/users/SandraLoosemore/followers", "following_url": "https://api.github.com/users/SandraLoosemore/following{/other_user}", "gists_url": "https://api.github.com/users/SandraLoosemore/gists{/gist_id}", "starred_url": "https://api.github.com/users/SandraLoosemore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SandraLoosemore/subscriptions", "organizations_url": "https://api.github.com/users/SandraLoosemore/orgs", "repos_url": "https://api.github.com/users/SandraLoosemore/repos", "events_url": "https://api.github.com/users/SandraLoosemore/events{/privacy}", "received_events_url": "https://api.github.com/users/SandraLoosemore/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f9e4a411f9209f967b25b2f038b117db132139a5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9e4a411f9209f967b25b2f038b117db132139a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f9e4a411f9209f967b25b2f038b117db132139a5"}], "stats": {"total": 253, "additions": 153, "deletions": 100}, "files": [{"sha": "2bb0865e7d95aba70c74135e66ab399f8210cda7", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -1,3 +1,36 @@\n+2007-09-05  Sandra Loosemore  <sandra@codesourcery.com>\n+\t    David Ung  <davidu@mips.com>\n+            Nigel Stephens <nigel@mips.com>\n+\n+\t* gcc.c-torture/compile/mipscop-1.c: Add nomips16 attributes.\n+\t* gcc.c-torture/compile/mipscop-2.c: Likewise.\n+\t* gcc.c-torture/compile/mipscop-3.c: Likewise.\n+\t* gcc.c-torture/compile/mipscop-4.c: Likewise.\n+\t* gcc.dg/torture/mips-hilo-1.c: Likewise.\n+\t* gcc.dg/torture/mips-hilo-2.c: Likewise.\n+\t* gcc.dg/torture/pr19683-1.c: Likewise.\n+\t* gcc.target/mips/madd-3.c: Likewise.\n+\t* gcc.target/mips/maddu-3.c: Likewise.\n+\t* gcc.target/mips/msub-3.c: Likewise.\n+\t* gcc.target/mips/msubu-3.c: Likewise.\n+\t* gcc.target/mips/asm-1.c: Likewise.\n+\t* gcc.target/mips/branch-1.c: Likewise.\n+\t* gcc.target/mips/ins-1.c: Likewise.\n+\t* gcc.target/mips/near-far-3.c: Likewise.\n+\t* gcc.target/mips/near-far-4.c: Likewise.\n+\t* gcc.target/mips/smartmips-lwxs.c: Likewise.\n+\t* gcc.target/mips/smartmips-ror-1.c: Likewise.\n+\t* gcc.target/mips/smartmips-ror-2.c: Likewise.\n+\t* gcc.target/mips/smartmips-ror-3.c: Likewise.\n+\t* gcc.target/mips/smartmips-ror-4.c: Likewise.\n+\t* gcc.target/mips/dspr2-MULT.c: Likewise.\n+\t* gcc.target/mips/dspr2-MULTU.c: Likewise.\n+\t* gcc.target/mips/mips32-dsp-run.c: Likewise.\n+\t* gcc.target/mips/mips32-dspr2-type.c: Likewise.\n+\t* gcc.target/mips/code-readable-1.c: Add mips16 attributes.\n+\t* gcc.target/mips/code-readable-2.c: Likewise.\n+\t* gcc.target/mips/code-readable-3.c: Likewise.\n+\n 2007-09-05  Sandra Loosemore  <sandra@codesourcery.com>\n \t    David Ung  <davidu@mips.com>\n             Nigel Stephens <nigel@mips.com>"}, {"sha": "8a40ba1c6b7e68c36ab6df842d64b832790f4722", "filename": "gcc/testsuite/gcc.c-torture/compile/mipscop-1.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fmipscop-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fmipscop-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fmipscop-1.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -1,14 +1,12 @@\n /* { dg-do compile { target mips*-*-* } } */\n \n-#ifndef __mips16\n register unsigned int cp0count asm (\"$c0r1\");\n \n-int\n+int __attribute__ ((nomips16))\n main (int argc, char *argv[])\n {\n   unsigned int d;\n \n   d = cp0count + 3;\n   printf (\"%d\\n\", d);\n }\n-#endif"}, {"sha": "94df41d65f9a24b4ad7d2c1dfc5b32c9f76a0ff7", "filename": "gcc/testsuite/gcc.c-torture/compile/mipscop-2.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fmipscop-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fmipscop-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fmipscop-2.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -1,11 +1,10 @@\n /* { dg-do compile { target mips*-*-* } } */\n \n-#ifndef __mips16\n register unsigned int c3r1 asm (\"$c3r1\");\n \n extern unsigned int b, c;\n \n-void\n+void __attribute__ ((nomips16))\n foo ()\n {\n   unsigned int a, d;\n@@ -17,4 +16,3 @@ foo ()\n   d = c3r1;\n   printf (\"%d\\n\", d);\n }\n-#endif"}, {"sha": "cb4bd4d3efb3eb22d26f51414dba5ca27c26dcda", "filename": "gcc/testsuite/gcc.c-torture/compile/mipscop-3.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fmipscop-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fmipscop-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fmipscop-3.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -1,11 +1,10 @@\n /* { dg-do compile { target mips*-*-* } } */\n \n-#ifndef __mips16\n register unsigned int c3r1 asm (\"$c3r1\"), c3r2 asm (\"$c3r2\");\n \n extern unsigned int b, c;\n \n-void\n+void __attribute__ ((nomips16))\n foo ()\n {\n   unsigned int a, d;\n@@ -17,4 +16,3 @@ foo ()\n   d = c3r1;\n   printf (\"%d\\n\", d);\n }\n-#endif"}, {"sha": "263fc5cacc1f58aaff0f9d5762a65556d4c32ab4", "filename": "gcc/testsuite/gcc.c-torture/compile/mipscop-4.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fmipscop-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fmipscop-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fmipscop-4.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -1,11 +1,10 @@\n /* { dg-do compile { target mips*-*-* } } */\n \n-#ifndef __mips16\n register unsigned long c3r1 asm (\"$c3r1\"), c3r2 asm (\"$c3r2\");\n \n extern unsigned long b, c;\n \n-void\n+void __attribute__ ((nomips16))\n foo ()\n {\n   unsigned long a, d;\n@@ -17,4 +16,4 @@ foo ()\n   d = c3r1;\n   printf (\"%d\\n\", d);\n }\n-#endif\n+"}, {"sha": "b7289666b7c588b4ad8e7902d53573866be2f9c4", "filename": "gcc/testsuite/gcc.dg/torture/mips-hilo-1.c", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fmips-hilo-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fmips-hilo-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fmips-hilo-1.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -6,10 +6,8 @@\n extern void abort (void);\n extern void exit (int);\n \n-#if !defined(__mips16)\n-\n #define DECLARE(TYPE)\t\t\t\t\t\t\t\\\n-  TYPE __attribute__ ((noinline))\t\t\t\t\t\\\n+  TYPE __attribute__ ((noinline)) __attribute__ ((nomips16))\t\t\\\n   f1##TYPE (TYPE x1, TYPE x2, TYPE x3)\t\t\t\t\t\\\n   {\t\t\t\t\t\t\t\t\t\\\n     TYPE t1, t2;\t\t\t\t\t\t\t\\\n@@ -19,7 +17,7 @@ extern void exit (int);\n     return t1 + t2;\t\t\t\t\t\t\t\\\n   }\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\\\n-  TYPE __attribute__ ((noinline))\t\t\t\t\t\\\n+  TYPE __attribute__ ((noinline)) __attribute__ ((nomips16))\t\t\\\n   f2##TYPE (TYPE x1, TYPE x2, TYPE x3)\t\t\t\t\t\\\n   {\t\t\t\t\t\t\t\t\t\\\n     TYPE t1, t2;\t\t\t\t\t\t\t\\\n@@ -73,6 +71,3 @@ main ()\n #endif\n   exit (0);\n }\n-#else\n-int main () { exit (0); }\n-#endif"}, {"sha": "dbe949307df855e4c5f7a34248928d21dbed17a5", "filename": "gcc/testsuite/gcc.dg/torture/mips-hilo-2.c", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fmips-hilo-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fmips-hilo-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fmips-hilo-2.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -5,10 +5,9 @@\n extern void abort (void);\n extern void exit (int);\n \n-#if !defined(__mips16)\n unsigned int g;\n \n-unsigned long long f (unsigned int x)\n+unsigned __attribute__ ((nomips16)) long long f (unsigned int x)\n {\n   union { unsigned long long ll; unsigned int parts[2]; } u;\n \n@@ -17,7 +16,7 @@ unsigned long long f (unsigned int x)\n   return u.ll;\n }\n \n-int main ()\n+int __attribute__ ((nomips16)) main ()\n {\n   union { unsigned long long ll; unsigned int parts[2]; } u;\n \n@@ -26,6 +25,3 @@ int main ()\n     abort ();\n   exit (0);\n }\n-#else\n-int main () { exit (0); }\n-#endif"}, {"sha": "05bf174183b7e392fef8ce410fbfc7998bbfb4d7", "filename": "gcc/testsuite/gcc.dg/torture/pr19683-1.c", "status": "modified", "additions": 2, "deletions": 10, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr19683-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr19683-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr19683-1.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -6,7 +6,6 @@\n extern void abort (void);\n extern void exit (int);\n \n-#ifndef __mips16\n #define REPEAT10(X, Y)\t\t\t\t\t\\\n   X(Y##0); X(Y##1); X(Y##2); X(Y##3); X(Y##4);\t\t\\\n   X(Y##5); X(Y##6); X(Y##7); X(Y##8); X(Y##9)\n@@ -17,7 +16,7 @@ extern void exit (int);\n \n union u { unsigned long long ll; unsigned int i[2]; };\n \n-unsigned int\n+unsigned int __attribute__ ((nomips16))\n foo (volatile unsigned int *ptr)\n {\n   union u u;\n@@ -30,7 +29,7 @@ foo (volatile unsigned int *ptr)\n   return result;\n }\n \n-int\n+int __attribute__ ((nomips16))\n main (void)\n {\n   unsigned int array[] = { 1000 * 1000 * 1000 };\n@@ -41,10 +40,3 @@ main (void)\n     abort ();\n   exit (0);\n }\n-#else\n-int\n-main (void)\n-{\n-  exit (0);\n-}\n-#endif"}, {"sha": "d202d6cbdd45a0e512d6f934b7f8ee4e52fc7692", "filename": "gcc/testsuite/gcc.target/mips/asm-1.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fasm-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fasm-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fasm-1.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -1,8 +1,11 @@\n /* PR target/17565.  GCC used to put the asm into the delay slot\n    of the call.  */\n /* { dg-do assemble } */\n-/* { dg-mips-options \"-O -mno-mips16\" } */\n-int foo (int n)\n+/* { dg-mips-options \"-O\" } */\n+\n+#define NOMIPS16 __attribute__ ((nomips16)) \n+\n+NOMIPS16 int foo (int n)\n {\n   register int k asm (\"$16\") = n;\n   if (k > 0)"}, {"sha": "7caf2986baf20e62892dfc70b1f0e11bb412aae5", "filename": "gcc/testsuite/gcc.target/mips/branch-1.c", "status": "modified", "additions": 8, "deletions": 5, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-1.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -1,11 +1,14 @@\n /* We should implement these \"if\" statements using an \"andi\" instruction\n    followed by a branch on zero.  */\n-/* { dg-mips-options \"-O2 -mno-mips16\" } */\n+/* { dg-mips-options \"-O2\" } */\n+\n+#define NOMIPS16 __attribute__ ((nomips16)) \n+\n void bar (void);\n-void f1 (int x) { if (x & 4) bar (); }\n-void f2 (int x) { if ((x >> 2) & 1) bar (); }\n-void f3 (unsigned int x) { if (x & 0x10) bar (); }\n-void f4 (unsigned int x) { if ((x >> 4) & 1) bar (); }\n+NOMIPS16 void f1 (int x) { if (x & 4) bar (); }\n+NOMIPS16 void f2 (int x) { if ((x >> 2) & 1) bar (); }\n+NOMIPS16 void f3 (unsigned int x) { if (x & 0x10) bar (); }\n+NOMIPS16 void f4 (unsigned int x) { if ((x >> 4) & 1) bar (); }\n /* { dg-final { scan-assembler \"\\tandi\\t.*\\tandi\\t.*\\tandi\\t.*\\tandi\\t\" } } */\n /* { dg-final { scan-assembler-not \"\\tsrl\\t\" } } */\n /* { dg-final { scan-assembler-not \"\\tsra\\t\" } } */"}, {"sha": "8add1c7aa8337a12f562c709cada6888f649708a", "filename": "gcc/testsuite/gcc.target/mips/code-readable-1.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fcode-readable-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fcode-readable-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fcode-readable-1.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -1,6 +1,8 @@\n-/* { dg-mips-options \"-mips16 -mcode-readable=yes -mgp32\" } */\n+/* { dg-mips-options \"-mcode-readable=yes -mgp32\" } */\n \n-int\n+#define MIPS16 __attribute__ ((mips16)) \n+\n+MIPS16 int \n foo (int i)\n {\n   switch (i)\n@@ -18,7 +20,7 @@ foo (int i)\n \n extern int k[];\n \n-int *\n+MIPS16 int *\n bar (void)\n {\n   return k;"}, {"sha": "c23254842768a24c5a09b740fa1d3c0c21fba102", "filename": "gcc/testsuite/gcc.target/mips/code-readable-2.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fcode-readable-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fcode-readable-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fcode-readable-2.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -1,6 +1,8 @@\n-/* { dg-mips-options \"-mips16 -mcode-readable=pcrel -mgp32\" } */\n+/* { dg-mips-options \"-mcode-readable=pcrel -mgp32\" } */\n \n-int\n+#define MIPS16 __attribute__ ((mips16))\n+\n+MIPS16 int\n foo (int i)\n {\n   switch (i)\n@@ -18,7 +20,7 @@ foo (int i)\n \n extern int k[];\n \n-int *\n+MIPS16 int *\n bar (void)\n {\n   return k;"}, {"sha": "bea568ccf0afc57cfd9b280ecb2574589bfe43e7", "filename": "gcc/testsuite/gcc.target/mips/code-readable-3.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fcode-readable-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fcode-readable-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fcode-readable-3.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -1,6 +1,8 @@\n-/* { dg-mips-options \"-mips16 -mcode-readable=no -mgp32\" } */\n+/* { dg-mips-options \"-mcode-readable=no -mgp32\" } */\n \n-int\n+#define MIPS16 __attribute__ ((mips16))\n+\n+MIPS16 int\n foo (int i)\n {\n   switch (i)\n@@ -18,7 +20,7 @@ foo (int i)\n \n extern int k[];\n \n-int *\n+MIPS16 int *\n bar (void)\n {\n   return k;"}, {"sha": "056042e9e3a3045acc0d52cb1acdc82c7833abc0", "filename": "gcc/testsuite/gcc.target/mips/dspr2-MULT.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fdspr2-MULT.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fdspr2-MULT.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fdspr2-MULT.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -7,11 +7,13 @@\n /* { dg-final { scan-assembler \"ac2\" } } */\n /* { dg-final { scan-assembler \"ac3\" } } */\n \n+#define NOMIPS16 __attribute__ ((nomips16)) \n+\n typedef long long a64;\n a64 a[4];\n int b[4], c[4];\n \n-void test ()\n+NOMIPS16 void test ()\n {\n   a[0] = (a64) b[0] * c[0];\n   a[1] = (a64) b[1] * c[1];"}, {"sha": "7532b329799113145a1430c498d6f2528b271063", "filename": "gcc/testsuite/gcc.target/mips/dspr2-MULTU.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fdspr2-MULTU.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fdspr2-MULTU.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fdspr2-MULTU.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -7,11 +7,13 @@\n /* { dg-final { scan-assembler \"ac2\" } } */\n /* { dg-final { scan-assembler \"ac3\" } } */\n \n+#define NOMIPS16 __attribute__ ((nomips16)) \n+\n typedef long long a64;\n a64 a[4];\n unsigned int b[4], c[4];\n \n-void test ()\n+NOMIPS16 void test ()\n {\n   a[0] = (a64) b[0] * c[0];\n   a[1] = (a64) b[1] * c[1];"}, {"sha": "2eaf7c4433c6d796d3a4dc4a5e6c63cb81f8556e", "filename": "gcc/testsuite/gcc.target/mips/ins-1.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fins-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fins-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fins-1.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -1,15 +1,17 @@\n /* { dg-do compile } */\n-/* { dg-mips-options \"-O -march=mips32r2 -mno-mips16\" } */\n+/* { dg-mips-options \"-O -march=mips32r2\" } */\n /* { dg-final { scan-assembler \"\\tins\\t\" } } */\n \n+#define NOMIPS16 __attribute__ ((nomips16)) \n+\n struct\n {\n   unsigned int i : 2;\n   unsigned int j : 3;\n   unsigned int k : 4;\n } s;\n \n-void\n+NOMIPS16 void\n foo (void)\n {\n   s.j = 1;"}, {"sha": "633dae34b615f23a84c3c14a61b8854428a4475f", "filename": "gcc/testsuite/gcc.target/mips/madd-3.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmadd-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmadd-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmadd-3.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -2,19 +2,21 @@\n /* { dg-mips-options \"-O2 -mips32 -mgp32\" } */\n /* { dg-final { scan-assembler-times \"\\tmadd\\t\" 3 } } */\n \n-long long\n+#define NOMIPS16 __attribute__ ((nomips16)) \n+\n+NOMIPS16 long long\n f1 (int x, int y, long long z)\n {\n   return (long long) x * y + z;\n }\n \n-long long\n+NOMIPS16 long long\n f2 (int x, int y, long long z)\n {\n   return z + (long long) y * x;\n }\n \n-long long\n+NOMIPS16 long long\n f3 (int x, int y, long long z)\n {\n   long long t = (long long) x * y;"}, {"sha": "a332e9c592e10934fb8ff116ef447971520a7085", "filename": "gcc/testsuite/gcc.target/mips/maddu-3.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmaddu-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmaddu-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmaddu-3.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -2,22 +2,24 @@\n /* { dg-mips-options \"-O2 -mips32 -mgp32\" } */\n /* { dg-final { scan-assembler-times \"\\tmaddu\\t\" 3 } } */\n \n+#define NOMIPS16 __attribute__ ((nomips16)) \n+\n typedef unsigned int ui;\n typedef unsigned long long ull;\n \n-ull\n+NOMIPS16 ull\n f1 (ui x, ui y, ull z)\n {\n   return (ull) x * y + z;\n }\n \n-ull\n+NOMIPS16 ull\n f2 (ui x, ui y, ull z)\n {\n   return z + (ull) y * x;\n }\n \n-ull\n+NOMIPS16 ull\n f3 (ui x, ui y, ull z)\n {\n   ull t = (ull) x * y;"}, {"sha": "89f043867cd5069c9a06623ece7e9fc8cec7fa7b", "filename": "gcc/testsuite/gcc.target/mips/mips32-dsp-run.c", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips32-dsp-run.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips32-dsp-run.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips32-dsp-run.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -2,6 +2,8 @@\n /* { dg-do run { target mipsisa32r2*-*-* } } */\n /* { dg-mips-options \"-march=mips32r2 -mdsp -O2\" } */\n \n+#define NOMIPS16 __attribute__ ((nomips16)) \n+\n #include <stdlib.h>\n #include <stdio.h>\n \n@@ -12,7 +14,7 @@ typedef int q31;\n typedef int i32;\n typedef long long a64;\n \n-void test_MIPS_DSP (void);\n+NOMIPS16 void test_MIPS_DSP (void);\n \n char array[100];\n int little_endian;\n@@ -33,27 +35,27 @@ int main ()\n   exit (0);\n }\n \n-v2q15 add_v2q15 (v2q15 a, v2q15 b)\n+NOMIPS16 v2q15 add_v2q15 (v2q15 a, v2q15 b)\n {\n   return __builtin_mips_addq_ph (a, b);\n }\n \n-v4i8 add_v4i8 (v4i8 a, v4i8 b)\n+NOMIPS16 v4i8 add_v4i8 (v4i8 a, v4i8 b)\n {\n   return __builtin_mips_addu_qb (a, b);\n }\n \n-v2q15 sub_v2q15 (v2q15 a, v2q15 b)\n+NOMIPS16 v2q15 sub_v2q15 (v2q15 a, v2q15 b)\n {\n   return __builtin_mips_subq_ph (a, b);\n }\n \n-v4i8 sub_v4i8 (v4i8 a, v4i8 b)\n+NOMIPS16 v4i8 sub_v4i8 (v4i8 a, v4i8 b)\n {\n   return __builtin_mips_subu_qb (a, b);\n }\n \n-void test_MIPS_DSP ()\n+NOMIPS16 void test_MIPS_DSP ()\n {\n   v4i8 v4i8_a,v4i8_b,v4i8_c,v4i8_r,v4i8_s;\n   v2q15 v2q15_a,v2q15_b,v2q15_c,v2q15_r,v2q15_s;"}, {"sha": "710937cc411312e1030e157e661408a633b8a57c", "filename": "gcc/testsuite/gcc.target/mips/mips32-dspr2-type.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips32-dspr2-type.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips32-dspr2-type.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips32-dspr2-type.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -3,9 +3,11 @@\n /* { dg-mips-options \"-march=mips32r2 -mdspr2\" } */\n /* { dg-final { scan-assembler \"\\tmul.ph\\t\" } } */\n \n+#define NOMIPS16 __attribute__ ((nomips16))\n+\n typedef short v2hi __attribute__ ((vector_size(4)));\n \n-v2hi mul_v2hi (v2hi a, v2hi b)\n+NOMIPS16 v2hi mul_v2hi (v2hi a, v2hi b)\n {\n   return a * b;\n }"}, {"sha": "e24075641dc07ea79a916e552ba2538f14666c9c", "filename": "gcc/testsuite/gcc.target/mips/msub-3.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmsub-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmsub-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmsub-3.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -2,13 +2,15 @@\n /* { dg-mips-options \"-O2 -mips32 -mgp32\" } */\n /* { dg-final { scan-assembler-times \"\\tmsub\\t\" 2 } } */\n \n-long long\n+#define NOMIPS16 __attribute__ ((nomips16))\n+\n+NOMIPS16 long long\n f1 (int x, int y, long long z)\n {\n   return z - (long long) y * x;\n }\n \n-long long\n+NOMIPS16 long long\n f2 (int x, int y, long long z)\n {\n   long long t = (long long) x * y;"}, {"sha": "1c01f5cd25c18c72128500db5eab1f87fa8805e4", "filename": "gcc/testsuite/gcc.target/mips/msubu-3.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmsubu-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmsubu-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmsubu-3.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -2,16 +2,18 @@\n /* { dg-mips-options \"-O2 -mips32 -mgp32\" } */\n /* { dg-final { scan-assembler-times \"\\tmsubu\\t\" 2 } } */\n \n+#define NOMIPS16 __attribute__ ((nomips16)) \n+\n typedef unsigned int ui;\n typedef unsigned long long ull;\n \n-ull\n+NOMIPS16 ull\n f1 (ui x, ui y, ull z)\n {\n   return z - (ull) y * x;\n }\n \n-ull\n+NOMIPS16 ull\n f2 (ui x, ui y, ull z)\n {\n   ull t = (ull) x * y;"}, {"sha": "1ce3f1967daef8b939a69dcd00f0e8bdfe2d71e2", "filename": "gcc/testsuite/gcc.target/mips/near-far-3.c", "status": "modified", "additions": 11, "deletions": 9, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fnear-far-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fnear-far-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fnear-far-3.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -1,16 +1,18 @@\n /* { dg-do compile } */\n-/* { dg-mips-options \"-mlong-calls -O2 -mno-mips16\" } */\n+/* { dg-mips-options \"-mlong-calls -O2\" } */\n /* { dg-require-effective-target nonpic } */\n \n-extern int long_call_func () __attribute__((long_call));\n-extern int far_func () __attribute__((far));\n-extern int near_func () __attribute__((near));\n-extern int normal_func ();\n+#define NOMIPS16 __attribute__ ((nomips16)) \n \n-int test1 () { return long_call_func (); }\n-int test2 () { return far_func (); }\n-int test3 () { return near_func (); }\n-int test4 () { return normal_func (); }\n+NOMIPS16 extern int long_call_func () __attribute__((long_call));\n+NOMIPS16 extern int far_func () __attribute__((far));\n+NOMIPS16 extern int near_func () __attribute__((near));\n+NOMIPS16 extern int normal_func ();\n+\n+NOMIPS16 int test1 () { return long_call_func (); }\n+NOMIPS16 int test2 () { return far_func (); }\n+NOMIPS16 int test3 () { return near_func (); }\n+NOMIPS16 int test4 () { return normal_func (); }\n \n /* { dg-final { scan-assembler-not \"\\tj\\tlong_call_func\\n\" } } */\n /* { dg-final { scan-assembler-not \"\\tj\\tfar_func\\n\" } } */"}, {"sha": "e1725f21f162f02b1d45baf3334e7df14b9586bc", "filename": "gcc/testsuite/gcc.target/mips/near-far-4.c", "status": "modified", "additions": 11, "deletions": 9, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fnear-far-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fnear-far-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fnear-far-4.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -1,16 +1,18 @@\n /* { dg-do compile } */\n-/* { dg-mips-options \"-mno-long-calls -O2 -mno-mips16\" } */\n+/* { dg-mips-options \"-mno-long-calls -O2\" } */\n /* { dg-require-effective-target nonpic } */\n \n-extern int long_call_func () __attribute__((long_call));\n-extern int far_func () __attribute__((far));\n-extern int near_func () __attribute__((near));\n-extern int normal_func ();\n+#define NOMIPS16 __attribute__ ((nomips16)) \n \n-int test1 () { return long_call_func (); }\n-int test2 () { return far_func (); }\n-int test3 () { return near_func (); }\n-int test4 () { return normal_func (); }\n+NOMIPS16 extern int long_call_func () __attribute__((long_call));\n+NOMIPS16 extern int far_func () __attribute__((far));\n+NOMIPS16 extern int near_func () __attribute__((near));\n+NOMIPS16 extern int normal_func ();\n+\n+NOMIPS16 int test1 () { return long_call_func (); }\n+NOMIPS16 int test2 () { return far_func (); }\n+NOMIPS16 int test3 () { return near_func (); }\n+NOMIPS16 int test4 () { return normal_func (); }\n \n /* { dg-final { scan-assembler-not \"\\tj\\tlong_call_func\\n\" } } */\n /* { dg-final { scan-assembler-not \"\\tj\\tfar_func\\n\" } } */"}, {"sha": "f51fda1e360a89ff105d0ed08728c32ec7af48a2", "filename": "gcc/testsuite/gcc.target/mips/smartmips-lwxs.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fsmartmips-lwxs.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fsmartmips-lwxs.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fsmartmips-lwxs.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -1,7 +1,9 @@\n /* { dg-do compile } */\n-/* { dg-mips-options \"-O -msmartmips -mno-mips16\" } */\n+/* { dg-mips-options \"-O -msmartmips\" } */\n \n-int scaled_indexed_word_load (int a[], int b)\n+#define NOMIPS16 __attribute__ ((nomips16)) \n+\n+NOMIPS16 int scaled_indexed_word_load (int a[], int b)\n {\n   return a[b];\n }"}, {"sha": "c6a0013b7df5e64d62daa2a9bde7dc1ae474b368", "filename": "gcc/testsuite/gcc.target/mips/smartmips-ror-1.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fsmartmips-ror-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fsmartmips-ror-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fsmartmips-ror-1.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -1,7 +1,9 @@\n /* { dg-do compile } */\n-/* { dg-mips-options \"-O -msmartmips -mno-mips16\" } */\n+/* { dg-mips-options \"-O -msmartmips\" } */\n \n-int rotate_left (unsigned a, unsigned s)\n+#define NOMIPS16 __attribute__ ((nomips16)) \n+\n+NOMIPS16 int rotate_left (unsigned a, unsigned s)\n {\n   return (a << s) | (a >> (32 - s));\n }"}, {"sha": "2f3da55e8ac833a263407598f68361705bfb2d15", "filename": "gcc/testsuite/gcc.target/mips/smartmips-ror-2.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fsmartmips-ror-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fsmartmips-ror-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fsmartmips-ror-2.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -1,7 +1,9 @@\n /* { dg-do compile } */\n-/* { dg-mips-options \"-O -msmartmips -mno-mips16\" } */\n+/* { dg-mips-options \"-O -msmartmips\" } */\n \n-int rotate_right (unsigned a, unsigned s)\n+#define NOMIPS16 __attribute__ ((nomips16)) \n+\n+NOMIPS16 int rotate_right (unsigned a, unsigned s)\n {\n   return (a >> s) | (a << (32 - s));\n }"}, {"sha": "6dad55a64446b1c8cc14cc5ed3d88a4492d586df", "filename": "gcc/testsuite/gcc.target/mips/smartmips-ror-3.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fsmartmips-ror-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fsmartmips-ror-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fsmartmips-ror-3.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -1,9 +1,11 @@\n /* { dg-do compile } */\n-/* { dg-mips-options \"-O -msmartmips -mno-mips16\" } */\n+/* { dg-mips-options \"-O -msmartmips\" } */\n+\n+#define NOMIPS16 __attribute__ ((nomips16)) \n \n #define S 13\n \n-int rotate_left_constant (unsigned a)\n+NOMIPS16 int rotate_left_constant (unsigned a)\n {\n   return (a << S) | (a >> (32 - S));\n }"}, {"sha": "722dedcdae76e5b17aa276ef470f6da7b8152388", "filename": "gcc/testsuite/gcc.target/mips/smartmips-ror-4.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fsmartmips-ror-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1333282db72d6e6f9904c37ed3a5753a920d4fdb/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fsmartmips-ror-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fsmartmips-ror-4.c?ref=1333282db72d6e6f9904c37ed3a5753a920d4fdb", "patch": "@@ -1,9 +1,11 @@\n /* { dg-do compile } */\n-/* { dg-mips-options \"-O -msmartmips -mno-mips16\" } */\n+/* { dg-mips-options \"-O -msmartmips\" } */\n+\n+#define NOMIPS16 __attribute__ ((nomips16)) \n \n #define S 13\n \n-int rotate_right_constant (unsigned a)\n+NOMIPS16 int rotate_right_constant (unsigned a)\n {\n   return (a >> S) | (a << (32 - S));\n }"}]}