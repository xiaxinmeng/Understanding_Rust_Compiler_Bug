{"sha": "0f24748c58ce2417596a15cb09db935a45da85fb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGYyNDc0OGM1OGNlMjQxNzU5NmExNWNiMDlkYjkzNWE0NWRhODVmYg==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@CeBiTec.Uni-Bielefeld.DE", "date": "2012-01-10T13:21:53Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2012-01-10T13:21:53Z"}, "message": "Check if linker supports R_386_TLS_GD_PLT, R_386_TLS_LDM_PLT relocs\n\n\t* configure.ac (gcc_cv_as_ix86_tlsgdplt): Check if linker\n\tsupports R_386_TLS_GD_PLT reloc.\n\t(gcc_cv_as_ix86_tlsldmplt): Check if linker\n\tsupports R_386_TLS_LDM_PLT reloc.\n\t* configure: Regenerate.\n\t* config.in: Regenerate.\n\nFrom-SVN: r183063", "tree": {"sha": "18da7c4b330bf59665da77a6f244280dabc05ee6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/18da7c4b330bf59665da77a6f244280dabc05ee6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0f24748c58ce2417596a15cb09db935a45da85fb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f24748c58ce2417596a15cb09db935a45da85fb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f24748c58ce2417596a15cb09db935a45da85fb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f24748c58ce2417596a15cb09db935a45da85fb/comments", "author": {"login": "rorth", "id": 3930951, "node_id": "MDQ6VXNlcjM5MzA5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rorth", "html_url": "https://github.com/rorth", "followers_url": "https://api.github.com/users/rorth/followers", "following_url": "https://api.github.com/users/rorth/following{/other_user}", "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rorth/subscriptions", "organizations_url": "https://api.github.com/users/rorth/orgs", "repos_url": "https://api.github.com/users/rorth/repos", "events_url": "https://api.github.com/users/rorth/events{/privacy}", "received_events_url": "https://api.github.com/users/rorth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7c5825a781bd6551b62516b3340c5eec13cfdd4c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c5825a781bd6551b62516b3340c5eec13cfdd4c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c5825a781bd6551b62516b3340c5eec13cfdd4c"}], "stats": {"total": 45, "additions": 36, "deletions": 9}, "files": [{"sha": "99a119f9561aade5c2c7bc8cde80c7f953012076", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f24748c58ce2417596a15cb09db935a45da85fb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f24748c58ce2417596a15cb09db935a45da85fb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0f24748c58ce2417596a15cb09db935a45da85fb", "patch": "@@ -1,3 +1,12 @@\n+2012-01-10  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\t* configure.ac (gcc_cv_as_ix86_tlsgdplt): Check if linker\n+\tsupports R_386_TLS_GD_PLT reloc.\n+\t(gcc_cv_as_ix86_tlsldmplt): Check if linker\n+\tsupports R_386_TLS_LDM_PLT reloc.\n+\t* configure: Regenerate.\n+\t* config.in: Regenerate.\n+\n 2012-01-10  Georg-Johann Lay  <avr@gjlay.de>\n \n \tPR target/49868"}, {"sha": "28332110dbbaf86d3b65a7614052511a27142c1a", "filename": "gcc/config.in", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f24748c58ce2417596a15cb09db935a45da85fb/gcc%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f24748c58ce2417596a15cb09db935a45da85fb/gcc%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.in?ref=0f24748c58ce2417596a15cb09db935a45da85fb", "patch": "@@ -357,13 +357,13 @@\n #endif\n \n \n-/* Define if your assembler supports @tlsgdplt. */\n+/* Define if your assembler and linker support @tlsgdplt. */\n #ifndef USED_FOR_TARGET\n #undef HAVE_AS_IX86_TLSGDPLT\n #endif\n \n \n-/* Define if your assembler supports @tlsldmplt. */\n+/* Define if your assembler and linker support @tlsldmplt. */\n #ifndef USED_FOR_TARGET\n #undef HAVE_AS_IX86_TLSLDMPLT\n #endif"}, {"sha": "f1a6b627e0df0f9245c68b974344c7906895aca7", "filename": "gcc/configure", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f24748c58ce2417596a15cb09db935a45da85fb/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f24748c58ce2417596a15cb09db935a45da85fb/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=0f24748c58ce2417596a15cb09db935a45da85fb", "patch": "@@ -24823,7 +24823,11 @@ else\n   $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n   test $ac_status = 0; }; }\n     then\n-\tgcc_cv_as_ix86_tlsgdplt=yes\n+\tif test x$gcc_cv_ld != x \\\n+\t && $gcc_cv_ld -o conftest conftest.o -G > /dev/null 2>&1; then\n+\t   gcc_cv_as_ix86_tlsgdplt=yes\n+\t fi\n+\t rm -f conftest\n     else\n       echo \"configure: failed program was\" >&5\n       cat conftest.s >&5\n@@ -24854,7 +24858,11 @@ else\n   $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n   test $ac_status = 0; }; }\n     then\n-\tgcc_cv_as_ix86_tlsldmplt=yes\n+\tif test x$gcc_cv_ld != x \\\n+\t && $gcc_cv_ld -o conftest conftest.o -G > /dev/null 2>&1; then\n+\t   gcc_cv_as_ix86_tlsldmplt=yes\n+\t fi\n+\t rm -f conftest\n     else\n       echo \"configure: failed program was\" >&5\n       cat conftest.s >&5"}, {"sha": "b486acea39ae39a60e15bfdafe611dcda65c0c8a", "filename": "gcc/configure.ac", "status": "modified", "additions": 15, "deletions": 5, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f24748c58ce2417596a15cb09db935a45da85fb/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f24748c58ce2417596a15cb09db935a45da85fb/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=0f24748c58ce2417596a15cb09db935a45da85fb", "patch": "@@ -2,7 +2,7 @@\n # Process this file with autoconf to generate a configuration script.\n \n # Copyright 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006,\n-# 2007, 2008, 2009, 2010, 2011 Free Software Foundation, Inc.\n+# 2007, 2008, 2009, 2010, 2011, 2012 Free Software Foundation, Inc.\n \n #This file is part of GCC.\n \n@@ -3674,15 +3674,25 @@ foo:\tnop\n \n     gcc_GAS_CHECK_FEATURE([R_386_TLS_GD_PLT reloc],\n         gcc_cv_as_ix86_tlsgdplt,,,\n-\t[call    tls_gd@tlsgdplt],,\n+\t[call    tls_gd@tlsgdplt],\n+\t[if test x$gcc_cv_ld != x \\\n+\t && $gcc_cv_ld -o conftest conftest.o -G > /dev/null 2>&1; then\n+\t   gcc_cv_as_ix86_tlsgdplt=yes\n+\t fi\n+\t rm -f conftest],\n       [AC_DEFINE(HAVE_AS_IX86_TLSGDPLT, 1,\n-        [Define if your assembler supports @tlsgdplt.])])\n+        [Define if your assembler and linker support @tlsgdplt.])])\n \n     gcc_GAS_CHECK_FEATURE([R_386_TLS_LDM_PLT reloc],\n         gcc_cv_as_ix86_tlsldmplt,,,\n-\t[call    tls_ld@tlsldmplt],,\n+\t[call    tls_ld@tlsldmplt],\n+\t[if test x$gcc_cv_ld != x \\\n+\t && $gcc_cv_ld -o conftest conftest.o -G > /dev/null 2>&1; then\n+\t   gcc_cv_as_ix86_tlsldmplt=yes\n+\t fi\n+\t rm -f conftest],\n       [AC_DEFINE(HAVE_AS_IX86_TLSLDMPLT, 1,\n-        [Define if your assembler supports @tlsldmplt.])])\n+        [Define if your assembler and linker support @tlsldmplt.])])\n \n     ;;\n "}]}