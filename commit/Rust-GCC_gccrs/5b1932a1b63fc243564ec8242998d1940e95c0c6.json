{"sha": "5b1932a1b63fc243564ec8242998d1940e95c0c6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWIxOTMyYTFiNjNmYzI0MzU2NGVjODI0Mjk5OGQxOTQwZTk1YzBjNg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2010-12-21T22:42:14Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2010-12-21T22:42:14Z"}, "message": "go-test.exp: Clear runtests around invocation of go-dg-runtest from errchk and go-execute-xfail.\n\n\t* go.test/go-test.exp: Clear runtests around invocation of\n\tgo-dg-runtest from errchk and go-execute-xfail.\n\nFrom-SVN: r168136", "tree": {"sha": "58215c8fd5603e4a6d67b9752489c9d284a21dad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/58215c8fd5603e4a6d67b9752489c9d284a21dad"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5b1932a1b63fc243564ec8242998d1940e95c0c6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b1932a1b63fc243564ec8242998d1940e95c0c6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5b1932a1b63fc243564ec8242998d1940e95c0c6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b1932a1b63fc243564ec8242998d1940e95c0c6/comments", "author": null, "committer": null, "parents": [{"sha": "401e4feab6365059d6bfdbbced6a6effb7cf69ee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/401e4feab6365059d6bfdbbced6a6effb7cf69ee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/401e4feab6365059d6bfdbbced6a6effb7cf69ee"}], "stats": {"total": 21, "additions": 19, "deletions": 2}, "files": [{"sha": "1158e49f59c77916f6588e1c1995b73405c48ce1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b1932a1b63fc243564ec8242998d1940e95c0c6/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b1932a1b63fc243564ec8242998d1940e95c0c6/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5b1932a1b63fc243564ec8242998d1940e95c0c6", "patch": "@@ -1,3 +1,8 @@\n+2010-12-21  Ian Lance Taylor  <iant@google.com>\n+\n+\t* go.test/go-test.exp: Clear runtests around invocation of\n+\tgo-dg-runtest from errchk and go-execute-xfail.\n+\n 2010-12-21  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/46880\n@@ -14,8 +19,8 @@\n \t* objc.dg/special/special.exp: Added new test.\n \t* objc.dg/special/load-category-1.m: New.\n \t* objc.dg/special/load-category-1a.m: New.\n-\t* objc.dg/special/load-category-1.h: New.\t\n-\t\n+\t* objc.dg/special/load-category-1.h: New.\n+\n 2010-12-21  Steven Bosscher  <steven@gcc.gnu.org>\n \n \tPR middle-end/45310"}, {"sha": "d60096dd867494048cc973d01a92ae3b3e5b7a40", "filename": "gcc/testsuite/go.test/go-test.exp", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b1932a1b63fc243564ec8242998d1940e95c0c6/gcc%2Ftestsuite%2Fgo.test%2Fgo-test.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b1932a1b63fc243564ec8242998d1940e95c0c6/gcc%2Ftestsuite%2Fgo.test%2Fgo-test.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgo.test%2Fgo-test.exp?ref=5b1932a1b63fc243564ec8242998d1940e95c0c6", "patch": "@@ -38,6 +38,7 @@ load_lib go-torture.exp\n proc errchk { test } {\n     global dg-do-what-default\n     global DEFAULT_GOCFLAGS\n+    global runtests\n \n     set saved-dg-do-what-default ${dg-do-what-default}\n     set dg-do-what-default compile\n@@ -72,14 +73,20 @@ proc errchk { test } {\n     }\n     close $fdin\n     close $fdout\n+\n+    set hold_runtests $runtests\n+    set runtests \"go-test.exp\"\n     go-dg-runtest $filename \"-fno-show-column $DEFAULT_GOCFLAGS\"\n+    set runtests $hold_runtests\n+\n     file delete $filename\n     set dg-do-what-default ${saved-dg-do-what-default}\n }\n \n # This is an execution test which should fail.\n proc go-execute-xfail { test } {\n     global DEFAULT_GOCFLAGS\n+    global runtests\n \n     set filename [file tail $test]\n     set fdin [open $test r]\n@@ -90,7 +97,12 @@ proc go-execute-xfail { test } {\n     }\n     close $fdin\n     close $fdout\n+\n+    set hold_runtests $runtests\n+    set runtests \"go-test.exp\"\n     go-dg-runtest $filename \"-w $DEFAULT_GOCFLAGS\"\n+    set runtests $hold_runtests\n+\n     file delete $filename\n }\n "}]}