{"sha": "2d69e3cb6a464a0cc36ccb5219852912f04960dd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmQ2OWUzY2I2YTQ2NGEwY2MzNmNjYjUyMTk4NTI5MTJmMDQ5NjBkZA==", "commit": {"author": {"name": "David S. Miller", "email": "davem@redhat.com", "date": "2002-04-06T04:55:28Z"}, "committer": {"name": "David S. Miller", "email": "davem@gcc.gnu.org", "date": "2002-04-06T04:55:28Z"}, "message": "freebsd.h (ENDFILE_SPEC): Add crtfastmath bits.\n\n2002-04-05  David S. Miller  <davem@redhat.com>\n\n\t* config/sparc/freebsd.h (ENDFILE_SPEC): Add crtfastmath bits.\n\t* config.gcc (sparc64-wrs-vxworks, sparc-*-chorusos,\n\tsparc-*-rtems*, sparclite-*-elf* sparc86x-*-elf*, sparc64-*-elf*,\n\t{sparc64,ultrasparc}-*-freebsd*): Add sparc/t-crtfm to tmake_file.\n\nFrom-SVN: r51940", "tree": {"sha": "8bcead9980dd18158153ab7e4db6dbab7d580a18", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8bcead9980dd18158153ab7e4db6dbab7d580a18"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2d69e3cb6a464a0cc36ccb5219852912f04960dd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d69e3cb6a464a0cc36ccb5219852912f04960dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d69e3cb6a464a0cc36ccb5219852912f04960dd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d69e3cb6a464a0cc36ccb5219852912f04960dd/comments", "author": null, "committer": null, "parents": [{"sha": "9df224790b7ba6fd9eb64ddb371b814cc04ecc1c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9df224790b7ba6fd9eb64ddb371b814cc04ecc1c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9df224790b7ba6fd9eb64ddb371b814cc04ecc1c"}], "stats": {"total": 30, "additions": 25, "deletions": 5}, "files": [{"sha": "51f332e04cd39ee7942890c9574da7399c3905a5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d69e3cb6a464a0cc36ccb5219852912f04960dd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d69e3cb6a464a0cc36ccb5219852912f04960dd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2d69e3cb6a464a0cc36ccb5219852912f04960dd", "patch": "@@ -1,3 +1,16 @@\n+2002-04-05  David S. Miller  <davem@redhat.com>\n+\n+\t* config/sparc/freebsd.h (ENDFILE_SPEC): Add crtfastmath bits.\n+\t* config.gcc (sparc64-wrs-vxworks, sparc-*-chorusos,\n+\tsparc-*-rtems*, sparclite-*-elf* sparc86x-*-elf*, sparc64-*-elf*,\n+\t{sparc64,ultrasparc}-*-freebsd*): Add sparc/t-crtfm to tmake_file.\n+\n+2002-04-05  David S. Miller  <davem@redhat.com>\n+\n+\t* config/sparc/sparc.c (sparc_nonflat_function_epilogue): If we\n+\tare not going to emit return instructions, emit at least a nop\n+\tfor the sake of sane backtraces.\n+\n 2002-04-05  Richard Henderson  <rth@redhat.com>\n \n \t* doc/rtl.texi (Regs and Memory): Document (mem:BLK (scratch))."}, {"sha": "1e3b3553203316663a2ab0b9a6761862c5977c4d", "filename": "gcc/config.gcc", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d69e3cb6a464a0cc36ccb5219852912f04960dd/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d69e3cb6a464a0cc36ccb5219852912f04960dd/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=2d69e3cb6a464a0cc36ccb5219852912f04960dd", "patch": "@@ -2974,7 +2974,7 @@ sparc-tti-*)\n \t;;\n sparc64-wrs-vxworks*)\n         tm_file=\"${tm_file} dbxelf.h elfos.h svr4.h sparc/sysv4.h sparc/sol2.h sparc/elf.h sparc/biarch64.h gofast.h sparc/vxsparc64.h\"\n-        tmake_file=sparc/t-vxsparc64\n+        tmake_file=\"sparc/t-vxsparc64 sparc/t-crtfm\"\n         use_collect2=yes\n         ;;\n sparc-wrs-vxworks* | sparclite-wrs-vxworks*)\n@@ -3007,7 +3007,7 @@ sparc-*-bsd*)\n \t;;\n sparc-*-chorusos*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h sparc/sysv4.h sparc/sol2.h sparc/elf.h chorus.h\"\n-\ttmake_file=sparc/t-chorus-elf\n+\ttmake_file=\"sparc/t-chorus-elf sparc/t-crtfm\"\n \textra_parts=\"crti.o crtn.o crtbegin.o crtend.o\"\n \tfloat_format=i64\n \tcase x${enable_threads} in\n@@ -3064,7 +3064,7 @@ sparc-*-rtemsaout*)\n sparc-*-rtems*|sparc-*-rtemself*)\n \txm_defines=POSIX\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h sparc/sysv4.h sparc/sol2.h sparc/elf.h sparc/rtemself.h rtems.h\"\n-\ttmake_file=\"sparc/t-elf t-rtems\"\n+\ttmake_file=\"sparc/t-elf sparc/t-crtfm t-rtems\"\n \textra_parts=\"crti.o crtn.o crtbegin.o crtend.o\"\n \t#float_format=i128\n \tfloat_format=i64\n@@ -3212,7 +3212,7 @@ sparclite-*-aout*)\n \t;;\n sparclite-*-elf*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h sparc/sysv4.h sparc/sol2.h sparc/elf.h gofast.h sparc/liteelf.h\"\n-\ttmake_file=sparc/t-sparclite\n+\ttmake_file=\"sparc/t-sparclite sparc/t-crtfm\"\n         extra_parts=\"crtbegin.o crtend.o\"\n \t;;\n sparc86x-*-aout*)\n@@ -3221,18 +3221,20 @@ sparc86x-*-aout*)\n \t;;\n sparc86x-*-elf*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h sparc/sysv4.h sparc/sol2.h sparc/elf.h gofast.h sparc/sp86x-elf.h\"\n-\ttmake_file=sparc/t-sp86x\n+\ttmake_file=\"sparc/t-sp86x sparc/t-crtfm\"\n         extra_parts=\"crtbegin.o crtend.o\"\n \t;;\n sparc64-*-aout*)\n \ttm_file=\"sparc/sparc.h aoutos.h sparc/aout.h sparc/sp64-aout.h\"\n \t;;\n sparc64-*-elf*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h sparc/sysv4.h sparc/sol2.h sparc/sp64-elf.h\"\n+\ttmake_file=\"${tmake_file} sparc/t-crtfm\"\n \textra_parts=\"crtbegin.o crtend.o\"\n \t;;\n sparc64-*-freebsd*|ultrasparc-*-freebsd*)\n \ttm_file=\"${tm_file} ${fbsd_tm_file} dbxelf.h elfos.h sparc/sysv4.h sparc/freebsd.h\"\n+\ttmake_file=\"${tmake_file} sparc/t-crtfm\"\n \txmake_file=none\n \tcase \"x$with_cpu\" in\n \t\txultrasparc) ;;"}, {"sha": "33b0716a175c0cc618343dbb0fd4703e96549179", "filename": "gcc/config/sparc/freebsd.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d69e3cb6a464a0cc36ccb5219852912f04960dd/gcc%2Fconfig%2Fsparc%2Ffreebsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d69e3cb6a464a0cc36ccb5219852912f04960dd/gcc%2Fconfig%2Fsparc%2Ffreebsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Ffreebsd.h?ref=2d69e3cb6a464a0cc36ccb5219852912f04960dd", "patch": "@@ -148,3 +148,8 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n    RELATIVE relocations.  */\n \n /* #define DWARF_OFFSET_SIZE PTR_SIZE */\n+\n+#undef ENDFILE_SPEC\n+#define ENDFILE_SPEC \\\n+  \t\"%{ffast-math|funsafe-math-optimizations:crtfastmath.o%s}\" \\\n+\tFBSD_ENDFILE_SPEC"}]}