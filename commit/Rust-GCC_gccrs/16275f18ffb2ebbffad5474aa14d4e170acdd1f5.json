{"sha": "16275f18ffb2ebbffad5474aa14d4e170acdd1f5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTYyNzVmMThmZmIyZWJiZmZhZDU0NzRhYTE0ZDRlMTcwYWNkZDFmNQ==", "commit": {"author": {"name": "Steven Bosscher", "email": "stevenb@suse.de", "date": "2005-07-31T21:41:39Z"}, "committer": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2005-07-31T21:41:39Z"}, "message": "trans-decl.c (gfc_build_builtin_function_decls): Give the internal malloc functions the 'malloc' attribute.\n\n\t* trans-decl.c (gfc_build_builtin_function_decls): Give the internal\n\tmalloc functions the 'malloc' attribute.  Give runtime_error the\n\t'noreturn' attribute.\n\nFrom-SVN: r102609", "tree": {"sha": "94fc3d9b5fbc3b7a4914971c3f8b8ec59a0c7739", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/94fc3d9b5fbc3b7a4914971c3f8b8ec59a0c7739"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/16275f18ffb2ebbffad5474aa14d4e170acdd1f5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/16275f18ffb2ebbffad5474aa14d4e170acdd1f5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/16275f18ffb2ebbffad5474aa14d4e170acdd1f5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/16275f18ffb2ebbffad5474aa14d4e170acdd1f5/comments", "author": null, "committer": null, "parents": [{"sha": "baf7a0d33c7820b048fffe2da276748d5ecbcce9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/baf7a0d33c7820b048fffe2da276748d5ecbcce9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/baf7a0d33c7820b048fffe2da276748d5ecbcce9"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "2704eec36648d5d5fc023fefee44d4c6bc4cd673", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/16275f18ffb2ebbffad5474aa14d4e170acdd1f5/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/16275f18ffb2ebbffad5474aa14d4e170acdd1f5/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=16275f18ffb2ebbffad5474aa14d4e170acdd1f5", "patch": "@@ -1,3 +1,9 @@\n+2005-07-31  Steven Bosscher  <stevenb@suse.de>\n+\n+\t* trans-decl.c (gfc_build_builtin_function_decls): Give the internal\n+\tmalloc functions the 'malloc' attribute.  Give runtime_error the\n+\t'noreturn' attribute.\n+\n 2005-07-31  Steven Bosscher  <stevenb@suse.de>\n \n \t* trans-stmt.c (gfc_trans_goto): Jump to the known label instead"}, {"sha": "3395f3e5a7b63428edde13bb79b0befff2c65ea1", "filename": "gcc/fortran/trans-decl.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/16275f18ffb2ebbffad5474aa14d4e170acdd1f5/gcc%2Ffortran%2Ftrans-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/16275f18ffb2ebbffad5474aa14d4e170acdd1f5/gcc%2Ffortran%2Ftrans-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-decl.c?ref=16275f18ffb2ebbffad5474aa14d4e170acdd1f5", "patch": "@@ -1874,14 +1874,17 @@ gfc_build_builtin_function_decls (void)\n   tree gfc_logical4_type_node = gfc_get_logical_type (4);\n   tree gfc_pint4_type_node = build_pointer_type (gfc_int4_type_node);\n \n+  /* Treat these two internal malloc wrappers as malloc.  */\n   gfor_fndecl_internal_malloc =\n     gfc_build_library_function_decl (get_identifier (PREFIX(\"internal_malloc\")),\n \t\t\t\t     pvoid_type_node, 1, gfc_int4_type_node);\n+  DECL_IS_MALLOC (gfor_fndecl_internal_malloc) = 1;\n \n   gfor_fndecl_internal_malloc64 =\n     gfc_build_library_function_decl (get_identifier\n \t\t\t\t     (PREFIX(\"internal_malloc64\")),\n \t\t\t\t     pvoid_type_node, 1, gfc_int8_type_node);\n+  DECL_IS_MALLOC (gfor_fndecl_internal_malloc64) = 1;\n \n   gfor_fndecl_internal_free =\n     gfc_build_library_function_decl (get_identifier (PREFIX(\"internal_free\")),\n@@ -1930,6 +1933,8 @@ gfc_build_builtin_function_decls (void)\n \t\t\t\t     3,\n \t\t\t\t     pchar_type_node, pchar_type_node,\n \t\t\t\t     gfc_int4_type_node);\n+  /* The runtime_error function does not return.  */\n+  TREE_THIS_VOLATILE (gfor_fndecl_runtime_error) = 1;\n \n   gfor_fndecl_in_pack = gfc_build_library_function_decl (\n         get_identifier (PREFIX(\"internal_pack\")),"}]}