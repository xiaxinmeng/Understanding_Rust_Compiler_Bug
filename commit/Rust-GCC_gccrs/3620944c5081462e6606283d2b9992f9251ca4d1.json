{"sha": "3620944c5081462e6606283d2b9992f9251ca4d1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzYyMDk0NGM1MDgxNDYyZTY2MDYyODNkMmI5OTkyZjkyNTFjYTRkMQ==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@redhat.com", "date": "2003-01-28T12:45:12Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2003-01-28T12:45:12Z"}, "message": "sh.h (CLASS_MAX_NREGS): If TARGET_SHMEDIA...\n\n\t* config/sh/sh.h (CLASS_MAX_NREGS): If TARGET_SHMEDIA, and the given\n\tclass contains a floating-point register, return the size of the\n\tmode in half words.\n\nFrom-SVN: r61966", "tree": {"sha": "bc291c552c281dfb0144fc1e8d7309894a20c7f1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bc291c552c281dfb0144fc1e8d7309894a20c7f1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3620944c5081462e6606283d2b9992f9251ca4d1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3620944c5081462e6606283d2b9992f9251ca4d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3620944c5081462e6606283d2b9992f9251ca4d1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3620944c5081462e6606283d2b9992f9251ca4d1/comments", "author": null, "committer": null, "parents": [{"sha": "95fcd0ab306d65e0334dd148f774694f2867b818", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95fcd0ab306d65e0334dd148f774694f2867b818", "html_url": "https://github.com/Rust-GCC/gccrs/commit/95fcd0ab306d65e0334dd148f774694f2867b818"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "2fcc66f83cc60b4bd064769a905c8dd57079cffa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3620944c5081462e6606283d2b9992f9251ca4d1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3620944c5081462e6606283d2b9992f9251ca4d1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3620944c5081462e6606283d2b9992f9251ca4d1", "patch": "@@ -1,3 +1,9 @@\n+2003-01-28  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\t* config/sh/sh.h (CLASS_MAX_NREGS): If TARGET_SHMEDIA, and the given\n+\tclass contains a floating-point register, return the size of the\n+\tmode in half words.\n+\n Tue Jan 28 12:15:13 CET 2003  Jan Hubicka  <jh@suse.cz>\n \n  \t* i386.c (ix86_carry_flag_operator):  New predicate."}, {"sha": "e5d0677ed60e787331680726234a57c6ffa126dd", "filename": "gcc/config/sh/sh.h", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3620944c5081462e6606283d2b9992f9251ca4d1/gcc%2Fconfig%2Fsh%2Fsh.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3620944c5081462e6606283d2b9992f9251ca4d1/gcc%2Fconfig%2Fsh%2Fsh.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.h?ref=3620944c5081462e6606283d2b9992f9251ca4d1", "patch": "@@ -1382,9 +1382,13 @@ extern enum reg_class reg_class_from_letter[];\n /* Return the maximum number of consecutive registers\n    needed to represent mode MODE in a register of class CLASS.\n \n-   On SH this is the size of MODE in words.  */\n+   If TARGET_SHMEDIA, we need two FP registers per word.\n+   Otherwise we will need at most one register per word.  */\n #define CLASS_MAX_NREGS(CLASS, MODE) \\\n-     ((GET_MODE_SIZE (MODE) + UNITS_PER_WORD - 1) / UNITS_PER_WORD)\n+    (TARGET_SHMEDIA \\\n+     && TEST_HARD_REG_BIT (reg_class_contents[CLASS], FIRST_FP_REG) \\\n+     ? (GET_MODE_SIZE (MODE) + UNITS_PER_WORD/2 - 1) / (UNITS_PER_WORD/2) \\\n+     : (GET_MODE_SIZE (MODE) + UNITS_PER_WORD - 1) / UNITS_PER_WORD)\n \n /* If defined, gives a class of registers that cannot be used as the\n    operand of a SUBREG that changes the mode of the object illegally.  */"}]}