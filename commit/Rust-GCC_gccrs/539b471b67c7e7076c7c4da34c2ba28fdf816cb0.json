{"sha": "539b471b67c7e7076c7c4da34c2ba28fdf816cb0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTM5YjQ3MWI2N2M3ZTcwNzZjN2M0ZGEzNGMyYmEyOGZkZjgxNmNiMA==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@redhat.com", "date": "2012-02-16T19:42:08Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2012-02-16T19:42:08Z"}, "message": "re PR c++/51415 (Broken diagnostic: 'vec_init_expr' not supported by dump_expr)\n\n\tPR c++/51415\n\t* error.c (dump_expr): Handle lambda closures specifically.\n\nFrom-SVN: r184314", "tree": {"sha": "bf77f7c16c294d342879ab4328217ce78804e157", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bf77f7c16c294d342879ab4328217ce78804e157"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/539b471b67c7e7076c7c4da34c2ba28fdf816cb0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/539b471b67c7e7076c7c4da34c2ba28fdf816cb0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/539b471b67c7e7076c7c4da34c2ba28fdf816cb0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/539b471b67c7e7076c7c4da34c2ba28fdf816cb0/comments", "author": {"login": "jicama", "id": 266146, "node_id": "MDQ6VXNlcjI2NjE0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/266146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jicama", "html_url": "https://github.com/jicama", "followers_url": "https://api.github.com/users/jicama/followers", "following_url": "https://api.github.com/users/jicama/following{/other_user}", "gists_url": "https://api.github.com/users/jicama/gists{/gist_id}", "starred_url": "https://api.github.com/users/jicama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jicama/subscriptions", "organizations_url": "https://api.github.com/users/jicama/orgs", "repos_url": "https://api.github.com/users/jicama/repos", "events_url": "https://api.github.com/users/jicama/events{/privacy}", "received_events_url": "https://api.github.com/users/jicama/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "525b3f60fffd8dcfff6a6d029e7536cc89d597cf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/525b3f60fffd8dcfff6a6d029e7536cc89d597cf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/525b3f60fffd8dcfff6a6d029e7536cc89d597cf"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "773f364524973e720251479d47ed74b887fe3685", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/539b471b67c7e7076c7c4da34c2ba28fdf816cb0/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/539b471b67c7e7076c7c4da34c2ba28fdf816cb0/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=539b471b67c7e7076c7c4da34c2ba28fdf816cb0", "patch": "@@ -1,3 +1,8 @@\n+2012-02-16  Jason Merrill  <jason@redhat.com>\n+\n+\tPR c++/51415\n+\t* error.c (dump_expr): Handle lambda closures specifically.\n+\n 2012-02-14  Jason Merrill  <jason@redhat.com>\n \n \t* parser.c (cp_parser_explicit_instantiation): Give a warning"}, {"sha": "4ec263b0c3f8d0e35fbb9e7d92eb060110267f55", "filename": "gcc/cp/error.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/539b471b67c7e7076c7c4da34c2ba28fdf816cb0/gcc%2Fcp%2Ferror.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/539b471b67c7e7076c7c4da34c2ba28fdf816cb0/gcc%2Fcp%2Ferror.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ferror.c?ref=539b471b67c7e7076c7c4da34c2ba28fdf816cb0", "patch": "@@ -2189,6 +2189,8 @@ dump_expr (tree t, int flags)\n \t\t}\n \t    }\n \t}\n+      if (TREE_TYPE (t) && LAMBDA_TYPE_P (TREE_TYPE (t)))\n+\tpp_string (cxx_pp, \"<lambda closure object>\");\n       if (TREE_TYPE (t) && EMPTY_CONSTRUCTOR_P (t))\n \t{\n \t  dump_type (TREE_TYPE (t), 0);"}, {"sha": "4ae411963b7fa582fe08467b13c7d206fe200e41", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/539b471b67c7e7076c7c4da34c2ba28fdf816cb0/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/539b471b67c7e7076c7c4da34c2ba28fdf816cb0/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=539b471b67c7e7076c7c4da34c2ba28fdf816cb0", "patch": "@@ -1,3 +1,8 @@\n+2012-02-16  Jason Merrill  <jason@redhat.com>\n+\n+\tPR c++/51415\n+\t* g++.dg/cpp0x/lambda/lambda-err1.C: New.\n+\n 2012-02-16  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/52255"}, {"sha": "ebf0cbd078dc11d0e6e9d9d608d3b7e557c7f2b7", "filename": "gcc/testsuite/g++.dg/cpp0x/lambda/lambda-err1.C", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/539b471b67c7e7076c7c4da34c2ba28fdf816cb0/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Flambda%2Flambda-err1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/539b471b67c7e7076c7c4da34c2ba28fdf816cb0/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Flambda%2Flambda-err1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Flambda%2Flambda-err1.C?ref=539b471b67c7e7076c7c4da34c2ba28fdf816cb0", "patch": "@@ -0,0 +1,8 @@\n+// PR c++/51415\n+// { dg-do compile { target c++11 } }\n+\n+void foo()\n+{\n+  int x[1];\n+  [x]{} = 0;\t\t\t// { dg-error \"lambda closure\" }\n+}"}]}