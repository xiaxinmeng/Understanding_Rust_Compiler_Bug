{"sha": "e0b0fd74916237123b57de286d122e9a648e3607", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTBiMGZkNzQ5MTYyMzcxMjNiNTdkZTI4NmQxMjJlOWE2NDhlMzYwNw==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2009-12-21T15:31:49Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2009-12-21T15:31:49Z"}, "message": "Always pass --32 to ia32 Linux assembler.\n\n2009-12-21  H.J. Lu  <hongjiu.lu@intel.com>\n\n\tPR bootstrap/42345\n\t* acinclude.m4 (gcc_GAS_FLAGS): New.\n\t(gcc_GAS_CHECK_FEATURE): Use gcc_GAS_FLAGS.\n\t* configure: Regenerated.\n\nFrom-SVN: r155372", "tree": {"sha": "9211375c9efb88c96c9c5c94e49733d406535601", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9211375c9efb88c96c9c5c94e49733d406535601"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e0b0fd74916237123b57de286d122e9a648e3607", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0b0fd74916237123b57de286d122e9a648e3607", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e0b0fd74916237123b57de286d122e9a648e3607", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0b0fd74916237123b57de286d122e9a648e3607/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6ad31e07ca587dae6f7f47dcb251bf88ce6ff368", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ad31e07ca587dae6f7f47dcb251bf88ce6ff368", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ad31e07ca587dae6f7f47dcb251bf88ce6ff368"}], "stats": {"total": 173, "additions": 107, "deletions": 66}, "files": [{"sha": "7eef1e8400f30eb0cb8291d19b562cf96b851ce6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0b0fd74916237123b57de286d122e9a648e3607/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0b0fd74916237123b57de286d122e9a648e3607/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e0b0fd74916237123b57de286d122e9a648e3607", "patch": "@@ -1,3 +1,10 @@\n+2009-12-21  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR bootstrap/42345\n+\t* acinclude.m4 (gcc_GAS_FLAGS): New.\n+\t(gcc_GAS_CHECK_FEATURE): Use gcc_GAS_FLAGS.\n+\t* configure: Regenerated.\n+\n 2009-12-20  Michael Matz  <matz@suse.de>\n \n \tPR tree-optimization/42027"}, {"sha": "6f0f979d78c2d74af037d93011934dea2999d6e4", "filename": "gcc/acinclude.m4", "status": "modified", "additions": 19, "deletions": 2, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0b0fd74916237123b57de286d122e9a648e3607/gcc%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0b0fd74916237123b57de286d122e9a648e3607/gcc%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Facinclude.m4?ref=e0b0fd74916237123b57de286d122e9a648e3607", "patch": "@@ -442,6 +442,22 @@ AC_DEFUN([gcc_GAS_VERSION_GTE_IFELSE],\n ifelse([$1], elf, [_gcc_GAS_VERSION_GTE_IFELSE($@)],\n                   [_gcc_GAS_VERSION_GTE_IFELSE(,$@)])])\n \n+dnl # gcc_GAS_FLAGS\n+dnl # Used by gcc_GAS_CHECK_FEATURE \n+dnl #\n+AC_DEFUN([gcc_GAS_FLAGS],\n+[AC_CACHE_CHECK([assembler flags], gcc_cv_as_flags,\n+[ case \"$target\" in\n+  i[[34567]]86-*-linux*)\n+    dnl Always pass --32 to ia32 Linux assembler.\n+    gcc_cv_as_flags=\"--32\"\n+    ;;\n+  *)\n+    gcc_cv_as_flags=\" \"\n+    ;;\n+  esac])\n+])\n+\n dnl gcc_GAS_CHECK_FEATURE(description, cv, [[elf,]major,minor,patchlevel],\n dnl [extra switches to as], [assembler input],\n dnl [extra testing logic], [command if feature available])\n@@ -454,14 +470,15 @@ dnl if assembly succeeds.  If EXTRA TESTING LOGIC is not the empty string,\n dnl then it is run instead of simply setting CV to \"yes\" - it is responsible\n dnl for doing so, if appropriate.\n AC_DEFUN([gcc_GAS_CHECK_FEATURE],\n-[AC_CACHE_CHECK([assembler for $1], [$2],\n+[AC_REQUIRE([gcc_GAS_FLAGS])dnl\n+AC_CACHE_CHECK([assembler for $1], [$2],\n  [[$2]=no\n   ifelse([$3],,,[dnl\n   if test $in_tree_gas = yes; then\n     gcc_GAS_VERSION_GTE_IFELSE($3, [[$2]=yes])\n   el])if test x$gcc_cv_as != x; then\n     echo ifelse(m4_substr([$5],0,1),[$], \"[$5]\", '[$5]') > conftest.s\n-    if AC_TRY_COMMAND([$gcc_cv_as $4 -o conftest.o conftest.s >&AS_MESSAGE_LOG_FD])\n+    if AC_TRY_COMMAND([$gcc_cv_as $gcc_cv_as_flags $4 -o conftest.o conftest.s >&AS_MESSAGE_LOG_FD])\n     then\n \tifelse([$6],, [$2]=yes, [$6])\n     else"}, {"sha": "7a667851e27afa6105da3a286f2dd4bdc6d32330", "filename": "gcc/configure", "status": "modified", "additions": 81, "deletions": 64, "changes": 145, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0b0fd74916237123b57de286d122e9a648e3607/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0b0fd74916237123b57de286d122e9a648e3607/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=e0b0fd74916237123b57de286d122e9a648e3607", "patch": "@@ -20870,6 +20870,23 @@ $as_echo \"$gcc_cv_readelf\" >&6; }\n fi\n \n # Figure out what assembler alignment features are present.\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking assembler flags\" >&5\n+$as_echo_n \"checking assembler flags... \" >&6; }\n+if test \"${gcc_cv_as_flags+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+   case \"$target\" in\n+  i[34567]86-*-linux*)\n+        gcc_cv_as_flags=\"--32\"\n+    ;;\n+  *)\n+    gcc_cv_as_flags=\" \"\n+    ;;\n+  esac\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $gcc_cv_as_flags\" >&5\n+$as_echo \"$gcc_cv_as_flags\" >&6; }\n+\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking assembler for .balign and .p2align\" >&5\n $as_echo_n \"checking assembler for .balign and .p2align... \" >&6; }\n if test \"${gcc_cv_as_balign_and_p2align+set}\" = set; then :\n@@ -20883,7 +20900,7 @@ fi\n   elif test x$gcc_cv_as != x; then\n     echo '.balign 4\n .p2align 2' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -20918,7 +20935,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '.p2align 4,,7' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -20953,7 +20970,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '.literal16' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -20992,7 +21009,7 @@ fi\n .subsection -1\n conftest_label2: .word 0\n .previous' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -21035,7 +21052,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '\t.weak foobar' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -21070,7 +21087,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '\t.weakref foobar, barfnot' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -21106,7 +21123,7 @@ fi\n   elif test x$gcc_cv_as != x; then\n     echo '\t.SPACE $TEXT$\n \t.NSUBSPA $CODE$,COMDAT' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -21150,7 +21167,7 @@ fi\n   elif test x$gcc_cv_as != x; then\n     echo '\t.hidden foobar\n foobar:' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -21298,7 +21315,7 @@ L1:\n \t.uleb128 1280\n \t.sleb128 -1010\n L2:' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -21351,7 +21368,7 @@ else\n \t.cfi_def_cfa 1, 2\n \t.cfi_escape 1, 2, 3, 4, 5\n \t.cfi_endproc' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -21407,7 +21424,7 @@ else\n \t.skip 512, 0\n \t.cfi_adjust_cfa_offset 128\n \t.cfi_endproc' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -21452,7 +21469,7 @@ else\n \t.cfi_startproc\n \t.cfi_personality 0, symbol\n \t.cfi_endproc' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -21488,7 +21505,7 @@ else\n \t.cfi_sections .debug_frame, .eh_frame\n \t.cfi_startproc\n \t.cfi_endproc' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -21559,7 +21576,7 @@ __FRAME_BEGIN__:\n \t.byte\t0x4\n \t.4byte\t.L1-.LFB1\n .LEFDE1:' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -21629,7 +21646,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '.section .rodata.str, \"aMS\", @progbits, 1' > conftest.s\n-    if { ac_try='$gcc_cv_as --fatal-warnings -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags --fatal-warnings -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -21661,7 +21678,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '.section .rodata.str, \"aMS\", %progbits, 1' > conftest.s\n-    if { ac_try='$gcc_cv_as --fatal-warnings -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags --fatal-warnings -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -21699,7 +21716,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '.section .text,\"axG\",@progbits,.foo,comdat' > conftest.s\n-    if { ac_try='$gcc_cv_as --fatal-warnings -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags --fatal-warnings -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -21733,7 +21750,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '.section .text,\"axG\",%progbits,.foo,comdat' > conftest.s\n-    if { ac_try='$gcc_cv_as --fatal-warnings -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags --fatal-warnings -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -21798,7 +21815,7 @@ fi\n     echo '\t.text\n \t.file 1 \"conf.c\"\n \t.loc 1 1 0 discriminator 1' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -22212,7 +22229,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as $tls_as_opt -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags $tls_as_opt -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -22313,7 +22330,7 @@ fi\n \tldah\t$1, d($29)\t!gprelhigh\n \tlda\t$1, d($1)\t!gprellow\n \tlda\t$29, 0($29)\t!gpdisp!3' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -22350,7 +22367,7 @@ fi\n \t.text\n \tldq\t$27, a($29)\t!literal!1\n \tjsr\t$26, ($27), a\t!lituse_jsrdirect!1' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -22387,7 +22404,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '.text' > conftest.s\n-    if { ac_try='$gcc_cv_as -no-mul-bug-abort -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags -no-mul-bug-abort -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -22420,7 +22437,7 @@ else\n   gcc_cv_as_sparc_register_op=no\n   if test x$gcc_cv_as != x; then\n     echo '.register %g2, #scratch' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -22451,7 +22468,7 @@ else\n   gcc_cv_as_sparc_relax=no\n   if test x$gcc_cv_as != x; then\n     echo '.text' > conftest.s\n-    if { ac_try='$gcc_cv_as -relax -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags -relax -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -22488,7 +22505,7 @@ foo:\n .align 4\n .byte 0\n .uaword %r_disp32(foo)' > conftest.s\n-    if { ac_try='$gcc_cv_as -K PIC -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags -K PIC -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -22530,7 +22547,7 @@ else\n .hidden foo\n foo:\n .skip 4' > conftest.s\n-    if { ac_try='$gcc_cv_as -K PIC -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags -K PIC -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -22576,7 +22593,7 @@ else\n     echo '.text\n \tor %g1, %lo(ab) + 12, %g1\n \tor %g1, %lo(ab + 12), %g1' > conftest.s\n-    if { ac_try='$gcc_cv_as -xarch=v9 -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags -xarch=v9 -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -22648,7 +22665,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '.comm foo,1,32' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -22687,7 +22704,7 @@ fi\n foo:\tnop\n .data\n \t.secrel32 foo' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -22724,7 +22741,7 @@ else\n   gcc_cv_as_ix86_filds=no\n   if test x$gcc_cv_as != x; then\n     echo 'filds mem; fists mem' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -22755,7 +22772,7 @@ else\n   gcc_cv_as_ix86_fildq=no\n   if test x$gcc_cv_as != x; then\n     echo 'fildq mem; fistpq mem' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -22786,7 +22803,7 @@ else\n   gcc_cv_as_ix86_cmov_sun_syntax=no\n   if test x$gcc_cv_as != x; then\n     echo 'cmovl.l %edx, %eax' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -22817,7 +22834,7 @@ else\n   gcc_cv_as_ix86_ffreep=no\n   if test x$gcc_cv_as != x; then\n     echo 'ffreep %st(1)' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -22848,7 +22865,7 @@ else\n   gcc_cv_as_ix86_sahf=no\n   if test x$gcc_cv_as != x; then\n     echo 'sahf' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -22879,7 +22896,7 @@ else\n   gcc_cv_as_ix86_swap=no\n   if test x$gcc_cv_as != x; then\n     echo 'movl.s %esp, %ebp' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -22916,7 +22933,7 @@ else\n         .text\n .L3:    nop\n .L2:    nop' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -22957,7 +22974,7 @@ fi\n \tnop\n \t.data\n \t.long .L0@GOTOFF' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -22998,7 +23015,7 @@ fi\n \taddl r15 = @ltoffx(x#), gp\n \t;;\n \tld8.mov r16 = [r15], x#' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -23037,7 +23054,7 @@ else\n   gcc_cv_as_machine_directive=no\n   if test x$gcc_cv_as != x; then\n     echo '\t.machine ppc7400' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -23079,7 +23096,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -23123,7 +23140,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -23167,7 +23184,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -23211,7 +23228,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -23259,7 +23276,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as -a32 -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags -a32 -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -23303,7 +23320,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as -a32 -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags -a32 -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -23347,7 +23364,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as -a32 -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags -a32 -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -23391,7 +23408,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as -a32 -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags -a32 -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -23435,7 +23452,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as -a32 -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags -a32 -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -23477,7 +23494,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as -a32 -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags -a32 -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -23521,7 +23538,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as -a32 -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags -a32 -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -23556,7 +23573,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '.gnu_attribute 4,1' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -23591,7 +23608,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo ' bl __tls_get_addr(x@tlsgd)' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -23628,7 +23645,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '\tlw $4,%gp_rel(foo)($4)' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -23663,7 +23680,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo 'nop' > conftest.s\n-    if { ac_try='$gcc_cv_as -mno-shared -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags -mno-shared -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -23698,7 +23715,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '.gnu_attribute 4,1' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -23737,7 +23754,7 @@ x:\n \t.word 2\n \t.text\n \t.dtprelword x+0x8000' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -23906,7 +23923,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -23942,7 +23959,7 @@ else\n   if test x$gcc_cv_as != x; then\n     echo '\t.file 1 \"foo.s\"\n \t.file 1 \"bar.s\"' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -23981,7 +23998,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$insn\" > conftest.s\n-    if { ac_try='$gcc_cv_as --gdwarf2 -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags --gdwarf2 -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -24017,7 +24034,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$insn\" > conftest.s\n-    if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags --gstabs -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -24063,7 +24080,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$insn\" > conftest.s\n-    if { ac_try='$gcc_cv_as --debug-prefix-map /a=/b -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags --debug-prefix-map /a=/b -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -24095,7 +24112,7 @@ else\n   gcc_cv_as_lcomm_with_alignment=no\n   if test x$gcc_cv_as != x; then\n     echo '.lcomm bar,4,16' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -24139,7 +24156,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '.type foo, @gnu_unique_object' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+    if { ac_try='$gcc_cv_as $gcc_cv_as_flags  -o conftest.o conftest.s >&5'\n   { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_try\\\"\"; } >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?"}]}