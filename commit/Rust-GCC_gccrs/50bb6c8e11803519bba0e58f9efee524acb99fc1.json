{"sha": "50bb6c8e11803519bba0e58f9efee524acb99fc1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTBiYjZjOGUxMTgwMzUxOWJiYTBlNThmOWVmZWU1MjRhY2I5OWZjMQ==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2015-01-07T15:35:19Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@gcc.gnu.org", "date": "2015-01-07T15:35:19Z"}, "message": "jit.exp: Don't drop the extension from the testcase when naming executable\n\ngcc/jit/ChangeLog:\n\t* docs/internals/index.rst: Update to reflect that built\n\ttestcases are now test-foo.c.exe, rather than test-foo.exe.\n\t* docs/_build/texinfo/libgccjit.texi: Regenerate.\n\ngcc/testsuite/ChangeLog:\n\t* jit.dg/jit.exp (jit-dg-test): Remove \"rootname\" call when\n\tgenerating name of built executable.\n\nFrom-SVN: r219312", "tree": {"sha": "64116de24159216581dd84fe697606111612d6e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/64116de24159216581dd84fe697606111612d6e4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/50bb6c8e11803519bba0e58f9efee524acb99fc1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50bb6c8e11803519bba0e58f9efee524acb99fc1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/50bb6c8e11803519bba0e58f9efee524acb99fc1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50bb6c8e11803519bba0e58f9efee524acb99fc1/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "4ffafd86209ac23e18c3c9e0bf4ac5b3e0d65e0d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ffafd86209ac23e18c3c9e0bf4ac5b3e0d65e0d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4ffafd86209ac23e18c3c9e0bf4ac5b3e0d65e0d"}], "stats": {"total": 55, "additions": 39, "deletions": 16}, "files": [{"sha": "6126d02e80ec4c6f111633ddf2aa29b010b8a131", "filename": "gcc/jit/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50bb6c8e11803519bba0e58f9efee524acb99fc1/gcc%2Fjit%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50bb6c8e11803519bba0e58f9efee524acb99fc1/gcc%2Fjit%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjit%2FChangeLog?ref=50bb6c8e11803519bba0e58f9efee524acb99fc1", "patch": "@@ -1,3 +1,9 @@\n+2015-01-07  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* docs/internals/index.rst: Update to reflect that built\n+\ttestcases are now test-foo.c.exe, rather than test-foo.exe.\n+\t* docs/_build/texinfo/libgccjit.texi: Regenerate.\n+\n 2015-01-05  Jakub Jelinek  <jakub@redhat.com>\n \n \tUpdate copyright years."}, {"sha": "64862dc56c92547fcf596d054cce28aac07baf4d", "filename": "gcc/jit/docs/_build/texinfo/libgccjit.texi", "status": "modified", "additions": 11, "deletions": 11, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50bb6c8e11803519bba0e58f9efee524acb99fc1/gcc%2Fjit%2Fdocs%2F_build%2Ftexinfo%2Flibgccjit.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50bb6c8e11803519bba0e58f9efee524acb99fc1/gcc%2Fjit%2Fdocs%2F_build%2Ftexinfo%2Flibgccjit.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjit%2Fdocs%2F_build%2Ftexinfo%2Flibgccjit.texi?ref=50bb6c8e11803519bba0e58f9efee524acb99fc1", "patch": "@@ -19,7 +19,7 @@\n \n @copying\n @quotation\n-libgccjit 5.0.0 (experimental 20141211), December 11, 2014\n+libgccjit 5.0.0 (experimental 20150107), January 07, 2015\n \n David Malcolm\n \n@@ -1185,7 +1185,7 @@ Here's what the final control flow graph will look like:\n \n @float Figure\n \n-@image{sum-of-squares,,,image of a control flow graph,png}\n+@image{sum-of-squares1,,,image of a control flow graph,png}\n \n @end float\n \n@@ -1570,7 +1570,7 @@ install it with @cite{yum install python-xdot}):\n \n @float Figure\n \n-@image{sum-of-squares,,,image of a control flow graph,png}\n+@image{sum-of-squares1,,,image of a control flow graph,png}\n \n @end float\n \n@@ -2834,7 +2834,7 @@ errors in our compiler.\n \n @float Figure\n \n-@image{factorial,,,image of a control flow graph,png}\n+@image{factorial1,,,image of a control flow graph,png}\n \n @end float\n \n@@ -7436,7 +7436,7 @@ Here's what the final control flow graph will look like:\n \n @float Figure\n \n-@image{sum-of-squares1,,,image of a control flow graph,png}\n+@image{sum-of-squares,,,image of a control flow graph,png}\n \n @end float\n \n@@ -7852,7 +7852,7 @@ install it with @cite{yum install python-xdot}):\n \n @float Figure\n \n-@image{sum-of-squares1,,,image of a control flow graph,png}\n+@image{sum-of-squares,,,image of a control flow graph,png}\n \n @end float\n \n@@ -9021,7 +9021,7 @@ errors in our compiler.\n \n @float Figure\n \n-@image{factorial1,,,image of a control flow graph,png}\n+@image{factorial,,,image of a control flow graph,png}\n \n @end float\n \n@@ -12050,7 +12050,7 @@ and once a test has been compiled, you can debug it directly:\n         LD_LIBRARY_PATH=. \\\n         LIBRARY_PATH=. \\\n           gdb --args \\\n-            testsuite/jit/test-factorial.exe\n+            testsuite/jit/test-factorial.c.exe\n @end example\n \n @noindent\n@@ -12094,11 +12094,11 @@ $ RUN_UNDER_VALGRIND= \\\n \n $ less testsuite/jit/jit.sum\n (...other results...)\n-XFAIL: jit.dg/test-sum-of-squares.c: test-sum-of-squares.exe.valgrind.txt: definitely lost: 8 bytes in 1 blocks\n-XFAIL: jit.dg/test-sum-of-squares.c: test-sum-of-squares.exe.valgrind.txt: unsuppressed errors: 1\n+XFAIL: jit.dg/test-sum-of-squares.c: test-sum-of-squares.c.exe.valgrind.txt: definitely lost: 8 bytes in 1 blocks\n+XFAIL: jit.dg/test-sum-of-squares.c: test-sum-of-squares.c.exe.valgrind.txt: unsuppressed errors: 1\n (...other results...)\n \n-$ less testsuite/jit/test-sum-of-squares.exe.valgrind.txt\n+$ less testsuite/jit/test-sum-of-squares.c.exe.valgrind.txt\n (...shows full valgrind report for this test case...)\n @end example\n "}, {"sha": "424c73ed241c3ab52c56566b6d138ed80d80357c", "filename": "gcc/jit/docs/internals/index.rst", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50bb6c8e11803519bba0e58f9efee524acb99fc1/gcc%2Fjit%2Fdocs%2Finternals%2Findex.rst", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50bb6c8e11803519bba0e58f9efee524acb99fc1/gcc%2Fjit%2Fdocs%2Finternals%2Findex.rst", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjit%2Fdocs%2Finternals%2Findex.rst?ref=50bb6c8e11803519bba0e58f9efee524acb99fc1", "patch": "@@ -116,7 +116,7 @@ and once a test has been compiled, you can debug it directly:\n            LD_LIBRARY_PATH=. \\\n            LIBRARY_PATH=. \\\n              gdb --args \\\n-               testsuite/jit/test-factorial.exe\n+               testsuite/jit/test-factorial.c.exe\n \n Running under valgrind\n **********************\n@@ -152,11 +152,11 @@ For example, the following invocation verbosely runs the testcase\n \n   $ less testsuite/jit/jit.sum\n   (...other results...)\n-  XFAIL: jit.dg/test-sum-of-squares.c: test-sum-of-squares.exe.valgrind.txt: definitely lost: 8 bytes in 1 blocks\n-  XFAIL: jit.dg/test-sum-of-squares.c: test-sum-of-squares.exe.valgrind.txt: unsuppressed errors: 1\n+  XFAIL: jit.dg/test-sum-of-squares.c: test-sum-of-squares.c.exe.valgrind.txt: definitely lost: 8 bytes in 1 blocks\n+  XFAIL: jit.dg/test-sum-of-squares.c: test-sum-of-squares.c.exe.valgrind.txt: unsuppressed errors: 1\n   (...other results...)\n \n-  $ less testsuite/jit/test-sum-of-squares.exe.valgrind.txt\n+  $ less testsuite/jit/test-sum-of-squares.c.exe.valgrind.txt\n   (...shows full valgrind report for this test case...)\n \n When running under valgrind, it's best to have configured gcc with"}, {"sha": "c352a1d3b9b8d971fdeb3cebf17e9e96dc18573d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50bb6c8e11803519bba0e58f9efee524acb99fc1/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50bb6c8e11803519bba0e58f9efee524acb99fc1/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=50bb6c8e11803519bba0e58f9efee524acb99fc1", "patch": "@@ -1,3 +1,8 @@\n+2015-01-07  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* jit.dg/jit.exp (jit-dg-test): Remove \"rootname\" call when\n+\tgenerating name of built executable.\n+\n 2015-01-07  Marek Polacek  <polacek@redhat.com>\n \n \tPR c/64440"}, {"sha": "307cc04a1bfa36d7363be629023dadd71f4c9ef7", "filename": "gcc/testsuite/jit.dg/jit.exp", "status": "modified", "additions": 13, "deletions": 1, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50bb6c8e11803519bba0e58f9efee524acb99fc1/gcc%2Ftestsuite%2Fjit.dg%2Fjit.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50bb6c8e11803519bba0e58f9efee524acb99fc1/gcc%2Ftestsuite%2Fjit.dg%2Fjit.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fjit.dg%2Fjit.exp?ref=50bb6c8e11803519bba0e58f9efee524acb99fc1", "patch": "@@ -302,7 +302,19 @@ proc jit-dg-test { prog do_what extra_tool_flags } {\n     }\n \n     # Determine what to name the built executable.\n-    set output_file \"[file rootname [file tail $prog]].exe\"\n+    #\n+    # We simply append .exe to the filename, e.g.\n+    #  \"test-foo.c.exe\"\n+    # since some testcases exist in both\n+    #  \"test-foo.c\" and\n+    #  \"test-foo.cc\"\n+    # variants, and we don't want them to clobber each other's\n+    # executables.\n+    #\n+    # This also ensures that the source name makes it into the\n+    # pass/fail output, so that we can distinguish e.g. which test-foo\n+    # is failing.\n+    set output_file \"[file tail $prog].exe\"\n     verbose \"output_file: $output_file\"\n \n     # Create the test executable:"}]}