{"sha": "4c8dad30d21c280eb0ef238c4985252fff94694c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGM4ZGFkMzBkMjFjMjgwZWIwZWYyMzhjNDk4NTI1MmZmZjk0Njk0Yw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-09-12T21:40:35Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-09-12T21:40:35Z"}, "message": "Test case for PR 16254.\n\nFrom-SVN: r87408", "tree": {"sha": "5304e76103176660b67b2893749e870c6d538abc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5304e76103176660b67b2893749e870c6d538abc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4c8dad30d21c280eb0ef238c4985252fff94694c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c8dad30d21c280eb0ef238c4985252fff94694c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c8dad30d21c280eb0ef238c4985252fff94694c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c8dad30d21c280eb0ef238c4985252fff94694c/comments", "author": null, "committer": null, "parents": [{"sha": "373c0e7f04097a50d480846786894883adbf5e45", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/373c0e7f04097a50d480846786894883adbf5e45", "html_url": "https://github.com/Rust-GCC/gccrs/commit/373c0e7f04097a50d480846786894883adbf5e45"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "ba2d891c949cabb46b5d0fb8f752feedf1830ace", "filename": "gcc/testsuite/g++.dg/eh/cleanup4.C", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c8dad30d21c280eb0ef238c4985252fff94694c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Feh%2Fcleanup4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c8dad30d21c280eb0ef238c4985252fff94694c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Feh%2Fcleanup4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Feh%2Fcleanup4.C?ref=4c8dad30d21c280eb0ef238c4985252fff94694c", "patch": "@@ -0,0 +1,17 @@\n+// PR 16254\n+// { dg-do compile }\n+// We lost a CLEANUP_POINT_EXPR, leading to a crash destroying temp of A.\n+\n+struct A\n+{\n+  ~A ();\n+  A (int);\n+};\n+\n+int bar (const A &);\n+\n+void\n+foo (int i)\n+{\n+  int format[1] = { bar (A (i)) };\n+}"}]}