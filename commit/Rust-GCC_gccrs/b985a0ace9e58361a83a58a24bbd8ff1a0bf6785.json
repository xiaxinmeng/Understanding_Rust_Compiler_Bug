{"sha": "b985a0ace9e58361a83a58a24bbd8ff1a0bf6785", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yjk4NWEwYWNlOWU1ODM2MWE4M2E1OGEyNGJiZDhmZjFhMGJmNjc4NQ==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-05-17T18:18:48Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-05-17T18:18:48Z"}, "message": "(ieeefp.h): Delete definitions of __i860 and __m88k.\n\n(ieeefp.h): Delete `#define __sparc' also.\n(ieeefp.h): Delete `#define __i386' line.\n\nFrom-SVN: r4487", "tree": {"sha": "6220df9862cb06c1f0be19c1753e41cd69971098", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6220df9862cb06c1f0be19c1753e41cd69971098"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b985a0ace9e58361a83a58a24bbd8ff1a0bf6785", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b985a0ace9e58361a83a58a24bbd8ff1a0bf6785", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b985a0ace9e58361a83a58a24bbd8ff1a0bf6785", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b985a0ace9e58361a83a58a24bbd8ff1a0bf6785/comments", "author": null, "committer": null, "parents": [{"sha": "51eeee3ed156d030535c34759e6a6462c14d01d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/51eeee3ed156d030535c34759e6a6462c14d01d5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/51eeee3ed156d030535c34759e6a6462c14d01d5"}], "stats": {"total": 36, "additions": 35, "deletions": 1}, "files": [{"sha": "9091debbe7a083a4e5fcc44724fd57d1a28889e0", "filename": "gcc/fixinc.svr4", "status": "modified", "additions": 35, "deletions": 1, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b985a0ace9e58361a83a58a24bbd8ff1a0bf6785/gcc%2Ffixinc.svr4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b985a0ace9e58361a83a58a24bbd8ff1a0bf6785/gcc%2Ffixinc.svr4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc.svr4?ref=b985a0ace9e58361a83a58a24bbd8ff1a0bf6785", "patch": "@@ -496,7 +496,7 @@ fi\n \n # Disable apparent native compiler optimization cruft in SVR4.2 <string.h>\n # that is visible to any ANSI compiler using this include.  Simply\n-# delete the lines the #define some string functions to internal forms.\n+# delete the lines that #define some string functions to internal forms.\n \n file=string.h\n base=`basename $file`\n@@ -525,6 +525,40 @@ if [ \\! -z \"$file_to_fix\" ]; then\n   rm -f /tmp/$base /tmp/$base.sed\n fi\n \n+# Delete any #defines of `__i386' which may be present in <ieeefp.h>.  They\n+# tend to conflict with the compiler's own definition of this symbol.  (We\n+# will use the compiler's definition.)\n+# Likewise __sparc, for Solaris, and __i860, and (this is a guess) __m88k.\n+\n+file=ieeefp.h\n+base=`basename $file`\n+if [ -r ${LIB}/$file ]; then\n+  file_to_fix=${LIB}/$file\n+else\n+  if [ -r ${INPUT}/$file ]; then\n+    file_to_fix=${INPUT}/$file\n+  else\n+    file_to_fix=\"\"\n+  fi\n+fi\n+if [ \\! -z \"$file_to_fix\" ]; then\n+  echo Checking $file_to_fix\n+  cp $file_to_fix /tmp/$base\n+  chmod +w /tmp/$base\n+  sed -e '/#define[ \t]*__i386 /d' -e '/#define[ \t]*__sparc /d' \\\n+      -e '/#define[ \t]*__i860 /d' -e '/#define[ \t]*__m88k /d' \\\n+     /tmp/$base > /tmp/$base.sed\n+  if cmp $file_to_fix /tmp/$base.sed >/dev/null 2>&1; then \\\n+    true\n+  else\n+    echo Fixed $file_to_fix \n+    rm -f ${LIB}/$file\n+    cp /tmp/$base.sed ${LIB}/$file \n+    chmod a+r ${LIB}/$file\n+  fi\n+  rm -f /tmp/$base /tmp/$base.sed \n+fi \n+\n # Add a #define of _SIGACTION_ into <sys/signal.h>.\n # Also fix types of SIG_DFL, SIG_ERR, SIG_IGN, and SIG_HOLD.\n "}]}