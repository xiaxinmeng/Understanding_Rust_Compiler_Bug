{"sha": "91d1d521017540eff785384ba750c870375e014e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTFkMWQ1MjEwMTc1NDBlZmY3ODUzODRiYTc1MGM4NzAzNzVlMDE0ZQ==", "commit": {"author": {"name": "Kaz Kojima", "email": "kkojima@gcc.gnu.org", "date": "2009-08-13T22:16:07Z"}, "committer": {"name": "Kaz Kojima", "email": "kkojima@gcc.gnu.org", "date": "2009-08-13T22:16:07Z"}, "message": "sh.c (sh_override_options): When flag_exceptions or flag_unwind_tables is on...\n\n\t* config/sh/sh.c (sh_override_options): When flag_exceptions or\n\tflag_unwind_tables is on, turn flag_reorder_blocks_and_partition\n\toff.\n\nFrom-SVN: r150727", "tree": {"sha": "56ca2f426c3384c9f4634a50b05c4fde4a44505e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/56ca2f426c3384c9f4634a50b05c4fde4a44505e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/91d1d521017540eff785384ba750c870375e014e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/91d1d521017540eff785384ba750c870375e014e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/91d1d521017540eff785384ba750c870375e014e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/91d1d521017540eff785384ba750c870375e014e/comments", "author": null, "committer": null, "parents": [{"sha": "2c6dd136d3ff53b7fbc3ec135c20089de1946fbe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c6dd136d3ff53b7fbc3ec135c20089de1946fbe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c6dd136d3ff53b7fbc3ec135c20089de1946fbe"}], "stats": {"total": 29, "additions": 29, "deletions": 0}, "files": [{"sha": "77c52bf8afbad72fd02aa060c35109482d8c8d1c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91d1d521017540eff785384ba750c870375e014e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91d1d521017540eff785384ba750c870375e014e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=91d1d521017540eff785384ba750c870375e014e", "patch": "@@ -1,3 +1,9 @@\n+2009-08-13  Kaz Kojima  <kkojima@gcc.gnu.org>\n+\n+\t* config/sh/sh.c (sh_override_options): When flag_exceptions or\n+\tflag_unwind_tables is on, turn flag_reorder_blocks_and_partition\n+\toff.\n+\n 2009-08-13  Ghassan Shobaki  <ghassan.shobaki@amd.com>\n \n \t* tree-ssa-loop-prefetch.c "}, {"sha": "a4be11cb97984d433a8769fc21f2b838062e64c7", "filename": "gcc/config/sh/sh.c", "status": "modified", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91d1d521017540eff785384ba750c870375e014e/gcc%2Fconfig%2Fsh%2Fsh.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91d1d521017540eff785384ba750c870375e014e/gcc%2Fconfig%2Fsh%2Fsh.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.c?ref=91d1d521017540eff785384ba750c870375e014e", "patch": "@@ -874,6 +874,29 @@ sh_override_options (void)\n \tflag_schedule_insns = 0;\n     }\n \n+  /* Unwinding with -freorder-blocks-and-partition does not work on this\n+     architecture, because it requires far jumps to label crossing between\n+     hot/cold sections which are rejected on this architecture.  */\n+  if (flag_reorder_blocks_and_partition)\n+    {\n+      if (flag_exceptions)\n+\t{\n+\t  inform (input_location, \n+\t\t  \"-freorder-blocks-and-partition does not work with \"\n+\t\t  \"exceptions on this architecture\");\n+\t  flag_reorder_blocks_and_partition = 0;\n+\t  flag_reorder_blocks = 1;\n+\t}\n+      else if (flag_unwind_tables)\n+\t{\n+\t  inform (input_location,\n+\t\t  \"-freorder-blocks-and-partition does not support unwind \"\n+\t\t  \"info on this architecture\");\n+\t  flag_reorder_blocks_and_partition = 0;\n+\t  flag_reorder_blocks = 1;\n+\t}\n+    }\n+\n   if (align_loops == 0)\n     align_loops =  1 << (TARGET_SH5 ? 3 : 2);\n   if (align_jumps == 0)"}]}