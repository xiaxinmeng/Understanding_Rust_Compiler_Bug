{"sha": "69295d6d2639897d9bea1199495189aede6440ae", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjkyOTVkNmQyNjM5ODk3ZDliZWExMTk5NDk1MTg5YWVkZTY0NDBhZQ==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2000-11-23T13:23:04Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2000-11-23T13:23:04Z"}, "message": "emit-rtl.c (gen_lowpart_common): Use word 0 if register mode is narrower than requested mode.\n\n* emit-rtl.c (gen_lowpart_common): Use word 0 if register mode\nis narrower than requested mode.\n(gen_highpart): Abort if register mode is narrower than\nrequested mode.\n\nFrom-SVN: r37696", "tree": {"sha": "8ec3fb055335632e906197e39a5c75576c5eec37", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8ec3fb055335632e906197e39a5c75576c5eec37"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/69295d6d2639897d9bea1199495189aede6440ae", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69295d6d2639897d9bea1199495189aede6440ae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/69295d6d2639897d9bea1199495189aede6440ae", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69295d6d2639897d9bea1199495189aede6440ae/comments", "author": null, "committer": null, "parents": [{"sha": "d0c3e4f4987cc0e0e0a8880554593ebace217b00", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d0c3e4f4987cc0e0e0a8880554593ebace217b00", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d0c3e4f4987cc0e0e0a8880554593ebace217b00"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "8263d94cda5dda2a612f59af9d1da555c1a5971d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69295d6d2639897d9bea1199495189aede6440ae/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69295d6d2639897d9bea1199495189aede6440ae/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=69295d6d2639897d9bea1199495189aede6440ae", "patch": "@@ -1,3 +1,10 @@\n+2000-11-23  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* emit-rtl.c (gen_lowpart_common): Use word 0 if register mode\n+\tis narrower than requested mode.\n+\t(gen_highpart): Abort if register mode is narrower than\n+\trequested mode.\n+\n 2000-11-23  Graham Stott  <grahams@redhat.com>\n \n \t* cse.c (cse_insn): Initialise all regcost variables."}, {"sha": "4329346260a3083b17d807196d876155a15efff7", "filename": "gcc/emit-rtl.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69295d6d2639897d9bea1199495189aede6440ae/gcc%2Femit-rtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69295d6d2639897d9bea1199495189aede6440ae/gcc%2Femit-rtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Femit-rtl.c?ref=69295d6d2639897d9bea1199495189aede6440ae", "patch": "@@ -709,7 +709,8 @@ gen_lowpart_common (mode, x)\n \t regs are sized by the underlying register size.  Better would be\n \t to always interpret the subreg offset parameter as bytes or bits.  */\n \n-      if (WORDS_BIG_ENDIAN && REGNO (x) < FIRST_PSEUDO_REGISTER)\n+      if (WORDS_BIG_ENDIAN && REGNO (x) < FIRST_PSEUDO_REGISTER\n+\t  && GET_MODE_SIZE (GET_MODE (x)) > GET_MODE_SIZE (mode))\n \tword = (HARD_REGNO_NREGS (REGNO (x), GET_MODE (x))\n \t\t- HARD_REGNO_NREGS (REGNO (x), mode));\n \n@@ -1141,7 +1142,9 @@ gen_highpart (mode, x)\n \t regs are sized by the underlying register size.  Better would be\n \t to always interpret the subreg offset parameter as bytes or bits.  */\n \n-      if (WORDS_BIG_ENDIAN)\n+      if (GET_MODE_SIZE (GET_MODE (x)) < GET_MODE_SIZE (mode))\n+\tabort ();\n+      else if (WORDS_BIG_ENDIAN)\n \tword = 0;\n       else if (REGNO (x) < FIRST_PSEUDO_REGISTER)\n \tword = (HARD_REGNO_NREGS (REGNO (x), GET_MODE (x))"}]}