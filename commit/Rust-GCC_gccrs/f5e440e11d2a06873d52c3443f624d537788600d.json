{"sha": "f5e440e11d2a06873d52c3443f624d537788600d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjVlNDQwZTExZDJhMDY4NzNkNTJjMzQ0M2Y2MjRkNTM3Nzg4NjAwZA==", "commit": {"author": {"name": "Tobias Schl\u00fcter", "email": "tobias.schlueter@physik.uni-muenchen.de", "date": "2004-06-21T17:23:52Z"}, "committer": {"name": "Tobias Schl\u00fcter", "email": "tobi@gcc.gnu.org", "date": "2004-06-21T17:23:52Z"}, "message": "resolve.c (resolve_symbol): Add comment in function body.\n\n* resolve.c (resolve_symbol): Add comment in function body.\n(check_data_variable): Change type of mark to ar_type, adapt code\naccordingly.\n\nFrom-SVN: r83443", "tree": {"sha": "b8e9dc37ac0f6a4b0c5731888cce991d658387c9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b8e9dc37ac0f6a4b0c5731888cce991d658387c9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f5e440e11d2a06873d52c3443f624d537788600d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5e440e11d2a06873d52c3443f624d537788600d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f5e440e11d2a06873d52c3443f624d537788600d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5e440e11d2a06873d52c3443f624d537788600d/comments", "author": {"login": "TobiSchluter", "id": 11887541, "node_id": "MDQ6VXNlcjExODg3NTQx", "avatar_url": "https://avatars.githubusercontent.com/u/11887541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TobiSchluter", "html_url": "https://github.com/TobiSchluter", "followers_url": "https://api.github.com/users/TobiSchluter/followers", "following_url": "https://api.github.com/users/TobiSchluter/following{/other_user}", "gists_url": "https://api.github.com/users/TobiSchluter/gists{/gist_id}", "starred_url": "https://api.github.com/users/TobiSchluter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TobiSchluter/subscriptions", "organizations_url": "https://api.github.com/users/TobiSchluter/orgs", "repos_url": "https://api.github.com/users/TobiSchluter/repos", "events_url": "https://api.github.com/users/TobiSchluter/events{/privacy}", "received_events_url": "https://api.github.com/users/TobiSchluter/received_events", "type": "User", "site_admin": false}, "committer": {"login": "TobiSchluter", "id": 11887541, "node_id": "MDQ6VXNlcjExODg3NTQx", "avatar_url": "https://avatars.githubusercontent.com/u/11887541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TobiSchluter", "html_url": "https://github.com/TobiSchluter", "followers_url": "https://api.github.com/users/TobiSchluter/followers", "following_url": "https://api.github.com/users/TobiSchluter/following{/other_user}", "gists_url": "https://api.github.com/users/TobiSchluter/gists{/gist_id}", "starred_url": "https://api.github.com/users/TobiSchluter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TobiSchluter/subscriptions", "organizations_url": "https://api.github.com/users/TobiSchluter/orgs", "repos_url": "https://api.github.com/users/TobiSchluter/repos", "events_url": "https://api.github.com/users/TobiSchluter/events{/privacy}", "received_events_url": "https://api.github.com/users/TobiSchluter/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "da4f9e3b4db0404582e4328bd33a7977f3e8dccc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da4f9e3b4db0404582e4328bd33a7977f3e8dccc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/da4f9e3b4db0404582e4328bd33a7977f3e8dccc"}], "stats": {"total": 21, "additions": 15, "deletions": 6}, "files": [{"sha": "4677f3921bf54951b6d5e0f144adeb1ba2a9e0ad", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5e440e11d2a06873d52c3443f624d537788600d/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5e440e11d2a06873d52c3443f624d537788600d/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=f5e440e11d2a06873d52c3443f624d537788600d", "patch": "@@ -1,3 +1,9 @@\n+2004-06-21  Tobias Schlueter  <tobias.schlueter@physik.uni-muenchen.de>\n+\n+\t* resolve.c (resolve_symbol): Add comment in function body.\n+\t(check_data_variable): Change type of mark to ar_type, adapt code\n+\taccordingly.\n+\n 2004-06-21  Tobias Schlueter  <tobias.schlueter@physik.uni-muenchen.de>\n \n \t* array.c (gfc_insert_constructor): Avoid redundant call to"}, {"sha": "77ac3d4bb8d67a5314bb0600dc0604df321cef39", "filename": "gcc/fortran/resolve.c", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5e440e11d2a06873d52c3443f624d537788600d/gcc%2Ffortran%2Fresolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5e440e11d2a06873d52c3443f624d537788600d/gcc%2Ffortran%2Fresolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fresolve.c?ref=f5e440e11d2a06873d52c3443f624d537788600d", "patch": "@@ -3724,6 +3724,9 @@ resolve_symbol (gfc_symbol * sym)\n \t}\n     }\n \n+  /* Assumed size arrays and assumed shape arrays must be dummy\n+     arguments.  */ \n+\n   if (sym->as != NULL\n       && (sym->as->type == AS_ASSUMED_SIZE\n \t  || sym->as->type == AS_ASSUMED_SHAPE)\n@@ -3945,7 +3948,7 @@ check_data_variable (gfc_data_variable * var, locus * where)\n   mpz_t size;\n   mpz_t offset;\n   try t;\n-  int mark = 0;\n+  ar_type mark = AR_UNKNOWN;\n   int i;\n   mpz_t section_index[GFC_MAX_DIMENSIONS];\n   gfc_ref *ref;\n@@ -3982,14 +3985,14 @@ check_data_variable (gfc_data_variable * var, locus * where)\n       switch (ref->u.ar.type)\n \t{\n \tcase AR_FULL:\n-\t  mark = 1;\n+\t  mark = AR_FULL;\n \t  break;\n \n \tcase AR_SECTION:\n           ar = &ref->u.ar;\n           /* Get the start position of array section.  */\n           gfc_get_section_index (ar, section_index, &offset);\n-          mark = 2;\n+          mark = AR_SECTION;\n \t  break;\n \n \tdefault:\n@@ -4024,17 +4027,17 @@ check_data_variable (gfc_data_variable * var, locus * where)\n       /* Assign initial value to symbol.  */\n       gfc_assign_data_value (var->expr, values.vnode->expr, offset);\n \n-      if (mark == 1)\n+      if (mark == AR_FULL)\n         mpz_add_ui (offset, offset, 1);\n \n       /* Modify the array section indexes and recalculate the offset for\n          next element.  */\n-      else if (mark == 2)\n+      else if (mark == AR_SECTION)\n         gfc_advance_section (section_index, ar, &offset);\n \n       mpz_sub_ui (size, size, 1);\n     }\n-  if (mark == 2)\n+  if (mark == AR_SECTION)\n     {\n       for (i = 0; i < ar->dimen; i++)\n         mpz_clear (section_index[i]);"}]}