{"sha": "4997c8b30ecfc82f9e6ce874cbd3840e227522eb", "node_id": "C_kwDOANBUbNoAKDQ5OTdjOGIzMGVjZmM4MmY5ZTZjZTg3NGNiZDM4NDBlMjI3NTIyZWI", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2021-10-08T13:48:04Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2021-10-08T23:57:49Z"}, "message": "libstdc++: Enable vstring for wchar_t unconditionally [PR98725]\n\nNone of these vstring specializations depend on libc support for\nwchar_t, so can be enabled unconditionally now that char_traits<wchar_t>\nis always available.\n\nlibstdc++-v3/ChangeLog:\n\n\tPR libstdc++/98725\n\t* include/ext/rc_string_base.h [!_GLIBCXX_USE_WCHAR_T]\n\t(__rc_string_base<wchar_t>): Define member function.\n\t* include/ext/vstring.h [!_GLIBCXX_USE_WCHAR_T]\n\t(hash<__gnu_cxx::__wvstring>): Define specialization.\n\t* include/ext/vstring_fwd.h [!_GLIBCXX_USE_WCHAR_T] (__wvstring)\n\t(__wsso_string, __wrc_string): Declare typedefs.", "tree": {"sha": "b3f014be0c8fcdf415aa935b33d16c9264ee984e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b3f014be0c8fcdf415aa935b33d16c9264ee984e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4997c8b30ecfc82f9e6ce874cbd3840e227522eb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4997c8b30ecfc82f9e6ce874cbd3840e227522eb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4997c8b30ecfc82f9e6ce874cbd3840e227522eb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4997c8b30ecfc82f9e6ce874cbd3840e227522eb/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0afb9ebaab09b999f1d158ffc3fb906fdab9df67", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0afb9ebaab09b999f1d158ffc3fb906fdab9df67", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0afb9ebaab09b999f1d158ffc3fb906fdab9df67"}], "stats": {"total": 6, "additions": 0, "deletions": 6}, "files": [{"sha": "88cc656448a04e19cf6ca6517d325d4163606f7e", "filename": "libstdc++-v3/include/ext/rc_string_base.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4997c8b30ecfc82f9e6ce874cbd3840e227522eb/libstdc%2B%2B-v3%2Finclude%2Fext%2Frc_string_base.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4997c8b30ecfc82f9e6ce874cbd3840e227522eb/libstdc%2B%2B-v3%2Finclude%2Fext%2Frc_string_base.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fext%2Frc_string_base.h?ref=4997c8b30ecfc82f9e6ce874cbd3840e227522eb", "patch": "@@ -719,7 +719,6 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       return false;\n     }\n \n-#ifdef _GLIBCXX_USE_WCHAR_T\n   template<>\n     inline bool\n     __rc_string_base<wchar_t, std::char_traits<wchar_t>,\n@@ -730,7 +729,6 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n \treturn true;\n       return false;\n     }\n-#endif\n \n _GLIBCXX_END_NAMESPACE_VERSION\n } // namespace"}, {"sha": "cb5872a7030fbe92777641f3eda39a88c728dcdf", "filename": "libstdc++-v3/include/ext/vstring.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4997c8b30ecfc82f9e6ce874cbd3840e227522eb/libstdc%2B%2B-v3%2Finclude%2Fext%2Fvstring.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4997c8b30ecfc82f9e6ce874cbd3840e227522eb/libstdc%2B%2B-v3%2Finclude%2Fext%2Fvstring.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fext%2Fvstring.h?ref=4997c8b30ecfc82f9e6ce874cbd3840e227522eb", "patch": "@@ -2921,7 +2921,6 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       { return std::_Hash_impl::hash(__s.data(), __s.length()); }\n     };\n \n-#ifdef _GLIBCXX_USE_WCHAR_T\n   /// std::hash specialization for __wvstring.\n   template<>\n     struct hash<__gnu_cxx::__wvstring>\n@@ -2932,7 +2931,6 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       { return std::_Hash_impl::hash(__s.data(),\n                                      __s.length() * sizeof(wchar_t)); }\n     };\n-#endif\n \n   /// std::hash specialization for __u16vstring.\n   template<>"}, {"sha": "1aa53fdc24a33de24234ba796c6d6dcefd15375c", "filename": "libstdc++-v3/include/ext/vstring_fwd.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4997c8b30ecfc82f9e6ce874cbd3840e227522eb/libstdc%2B%2B-v3%2Finclude%2Fext%2Fvstring_fwd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4997c8b30ecfc82f9e6ce874cbd3840e227522eb/libstdc%2B%2B-v3%2Finclude%2Fext%2Fvstring_fwd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fext%2Fvstring_fwd.h?ref=4997c8b30ecfc82f9e6ce874cbd3840e227522eb", "patch": "@@ -58,13 +58,11 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n   __versa_string<char, std::char_traits<char>,\n \t\t std::allocator<char>, __rc_string_base>    __rc_string;\n \n-#ifdef _GLIBCXX_USE_WCHAR_T\n   typedef __versa_string<wchar_t>                           __wvstring;\n   typedef __wvstring                                        __wsso_string;\n   typedef\n   __versa_string<wchar_t, std::char_traits<wchar_t>,\n \t\t std::allocator<wchar_t>, __rc_string_base> __wrc_string;\n-#endif  \n \n #if __cplusplus >= 201103L\n   typedef __versa_string<char16_t>                          __u16vstring;"}]}