{"sha": "433d52fd4367adf92c7ecda8c1784a7ba51096a5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDMzZDUyZmQ0MzY3YWRmOTJjN2VjZGE4YzE3ODRhN2JhNTEwOTZhNQ==", "commit": {"author": {"name": "Paul Brook", "email": "paul@codesourcery.com", "date": "2008-03-20T20:00:47Z"}, "committer": {"name": "Paul Brook", "email": "pbrook@gcc.gnu.org", "date": "2008-03-20T20:00:47Z"}, "message": "config.gcc (arm*-*-uclinux*): Remove duplicate arm/uclinux-elf.h.\n\n2008-03-20  Paul Brook  <paul@codesourcery.com>\n\n\tgcc/\n\t* config.gcc (arm*-*-uclinux*): Remove duplicate arm/uclinux-elf.h.\n\t* config/arm/uclinux-eabi.h (SUBTARGET_EXTRA_LINK_SPEC): Add extra\n\tlinker flags.\n\t* config/arm/bpabi.h (SUBTARGET_EXTRA_LINK_SPEC): Provide default\n\tdefinition.\n\t(LINK_SPEC): Use SUBTARGET_EXTRA_LINK_SPEC.\n\t* config/arm/unwind-arm.h (_Unwind_decode_target2): Add uClinux.\n\nFrom-SVN: r133394", "tree": {"sha": "b3491ad64de8757082ed608d619791a73180a9c3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b3491ad64de8757082ed608d619791a73180a9c3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/433d52fd4367adf92c7ecda8c1784a7ba51096a5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/433d52fd4367adf92c7ecda8c1784a7ba51096a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/433d52fd4367adf92c7ecda8c1784a7ba51096a5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/433d52fd4367adf92c7ecda8c1784a7ba51096a5/comments", "author": null, "committer": null, "parents": [{"sha": "8a313b81190044ea28610df85fb185abe1af3dfd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a313b81190044ea28610df85fb185abe1af3dfd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8a313b81190044ea28610df85fb185abe1af3dfd"}], "stats": {"total": 25, "additions": 20, "deletions": 5}, "files": [{"sha": "bd4ada6c179040b62d5396b132662bf5694e9562", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/433d52fd4367adf92c7ecda8c1784a7ba51096a5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/433d52fd4367adf92c7ecda8c1784a7ba51096a5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=433d52fd4367adf92c7ecda8c1784a7ba51096a5", "patch": "@@ -1,3 +1,13 @@\n+2008-03-20  Paul Brook  <paul@codesourcery.com>\n+\n+\t* config.gcc (arm*-*-uclinux*): Remove duplicate arm/uclinux-elf.h.\n+\t* config/arm/uclinux-eabi.h (SUBTARGET_EXTRA_LINK_SPEC): Add extra\n+\tlinker flags.\n+\t* config/arm/bpabi.h (SUBTARGET_EXTRA_LINK_SPEC): Provide default\n+\tdefinition.\n+\t(LINK_SPEC): Use SUBTARGET_EXTRA_LINK_SPEC.\n+\t* config/arm/unwind-arm.h (_Unwind_decode_target2): Add uClinux.\n+\n 2008-03-20  Volker Reichelt  <v.reichelt@netcologne.de>\n \n \t* common.opt (Wmudflap): New option."}, {"sha": "8d0217e8f9235f6409818673a232babc662faae6", "filename": "gcc/config.gcc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/433d52fd4367adf92c7ecda8c1784a7ba51096a5/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/433d52fd4367adf92c7ecda8c1784a7ba51096a5/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=433d52fd4367adf92c7ecda8c1784a7ba51096a5", "patch": "@@ -753,7 +753,7 @@ arm*-*-linux*)\t\t\t# ARM GNU/Linux with ELF\n \ttmake_file=\"${tmake_file} arm/t-arm-softfp soft-fp/t-softfp\"\n \t;;\n arm*-*-uclinux*)\t\t# ARM ucLinux\n-\ttm_file=\"dbxelf.h elfos.h arm/unknown-elf.h arm/elf.h arm/linux-gas.h arm/uclinux-elf.h arm/uclinux-elf.h\"\n+\ttm_file=\"dbxelf.h elfos.h arm/unknown-elf.h arm/elf.h arm/linux-gas.h arm/uclinux-elf.h\"\n \ttmake_file=\"arm/t-arm arm/t-arm-elf\"\n \tcase ${target} in\n \tarm*-*-uclinux-*eabi)"}, {"sha": "876e23404abffc14f667a61ce0e81d1b18f0d738", "filename": "gcc/config/arm/bpabi.h", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/433d52fd4367adf92c7ecda8c1784a7ba51096a5/gcc%2Fconfig%2Farm%2Fbpabi.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/433d52fd4367adf92c7ecda8c1784a7ba51096a5/gcc%2Fconfig%2Farm%2Fbpabi.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fbpabi.h?ref=433d52fd4367adf92c7ecda8c1784a7ba51096a5", "patch": "@@ -55,11 +55,15 @@\n #undef  SUBTARGET_EXTRA_ASM_SPEC\n #define SUBTARGET_EXTRA_ASM_SPEC \"%{mabi=apcs-gnu|mabi=atpcs:-meabi=gnu;:-meabi=4}\"\n \n+#ifndef SUBTARGET_EXTRA_LINK_SPEC\n+#define SUBTARGET_EXTRA_LINK_SPEC \"\"\n+#endif\n+\n /* The generic link spec in elf.h does not support shared libraries.  */\n #undef  LINK_SPEC\n #define LINK_SPEC \"%{mbig-endian:-EB} %{mlittle-endian:-EL} \"\t\t\\\n   \"%{static:-Bstatic} %{shared:-shared} %{symbolic:-Bsymbolic} \"\t\\\n-  \"-X\"\n+  \"-X\" SUBTARGET_EXTRA_LINK_SPEC\n \n #if defined (__thumb__)\n #define RENAME_LIBRARY_SET \".thumb_set\""}, {"sha": "5ba97bf591b5fbae06e3bf38f80492c2dc56072f", "filename": "gcc/config/arm/uclinux-eabi.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/433d52fd4367adf92c7ecda8c1784a7ba51096a5/gcc%2Fconfig%2Farm%2Fuclinux-eabi.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/433d52fd4367adf92c7ecda8c1784a7ba51096a5/gcc%2Fconfig%2Farm%2Fuclinux-eabi.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fuclinux-eabi.h?ref=433d52fd4367adf92c7ecda8c1784a7ba51096a5", "patch": "@@ -42,7 +42,8 @@\n   while (false)\n \n #undef SUBTARGET_EXTRA_LINK_SPEC\n-#define SUBTARGET_EXTRA_LINK_SPEC \" -m armelf_linux_eabi\"\n+#define SUBTARGET_EXTRA_LINK_SPEC \" -m armelf_linux_eabi -elf2flt\" \\\n+  \" --pic-veneer --target2=abs\"\n \n /* We default to the \"aapcs-linux\" ABI so that enums are int-sized by\n    default.  */"}, {"sha": "f6d3dc15fdd1f3db9db08893de2fbd0fef8815eb", "filename": "gcc/config/arm/unwind-arm.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/433d52fd4367adf92c7ecda8c1784a7ba51096a5/gcc%2Fconfig%2Farm%2Funwind-arm.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/433d52fd4367adf92c7ecda8c1784a7ba51096a5/gcc%2Fconfig%2Farm%2Funwind-arm.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Funwind-arm.h?ref=433d52fd4367adf92c7ecda8c1784a7ba51096a5", "patch": "@@ -232,11 +232,11 @@ extern \"C\" {\n       if (!tmp)\n \treturn 0;\n \n-#if defined(linux) || defined(__NetBSD__)\n+#if (defined(linux) && !defined(__uClinux__)) || defined(__NetBSD__)\n       /* Pc-relative indirect.  */\n       tmp += ptr;\n       tmp = *(_Unwind_Word *) tmp;\n-#elif defined(__symbian__)\n+#elif defined(__symbian__) || defined(__uClinux__)\n       /* Absolute pointer.  Nothing more to do.  */\n #else\n       /* Pc-relative pointer.  */"}]}