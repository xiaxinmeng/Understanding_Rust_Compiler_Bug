{"sha": "131263fa870bf2cacf555a7b123032338da9477f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTMxMjYzZmE4NzBiZjJjYWNmNTU1YTdiMTIzMDMyMzM4ZGE5NDc3Zg==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@physics.uc.edu", "date": "2004-10-08T02:46:00Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2004-10-08T02:46:00Z"}, "message": "pt.c (tsubst_expr): Look passed the CLEANUP_POINT_EXPR to get the asm expression.\n\n2004-10-07  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        * pt.c (tsubst_expr) <case ASM_EXPR>: Look passed the\n        CLEANUP_POINT_EXPR to get the asm expression.\n\nFrom-SVN: r88733", "tree": {"sha": "4d28f458a517b23aa3f0de9fbaf429db50d17796", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4d28f458a517b23aa3f0de9fbaf429db50d17796"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/131263fa870bf2cacf555a7b123032338da9477f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/131263fa870bf2cacf555a7b123032338da9477f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/131263fa870bf2cacf555a7b123032338da9477f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/131263fa870bf2cacf555a7b123032338da9477f/comments", "author": null, "committer": null, "parents": [{"sha": "530f533138934413d0a73b4f1a200a5545ce414f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/530f533138934413d0a73b4f1a200a5545ce414f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/530f533138934413d0a73b4f1a200a5545ce414f"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "df14e9c26e97061d627072696a0215adc76268e8", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/131263fa870bf2cacf555a7b123032338da9477f/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/131263fa870bf2cacf555a7b123032338da9477f/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=131263fa870bf2cacf555a7b123032338da9477f", "patch": "@@ -1,3 +1,8 @@\n+2004-10-07  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\t* pt.c (tsubst_expr) <case ASM_EXPR>: Look passed the\n+\tCLEANUP_POINT_EXPR to get the asm expression.\n+\n 2004-10-07  Mark Mitchell  <mark@codesourcery.com>\n \n \t* cp-tree.h (ICS_USER_FLAG): Remove comment about obsolete flag."}, {"sha": "bb3b78ab830d5ba8fdb3944541739e43bdfb2dea", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/131263fa870bf2cacf555a7b123032338da9477f/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/131263fa870bf2cacf555a7b123032338da9477f/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=131263fa870bf2cacf555a7b123032338da9477f", "patch": "@@ -8058,7 +8058,12 @@ tsubst_expr (tree t, tree args, tsubst_flags_t complain, tree in_decl)\n \t tsubst_expr (ASM_OUTPUTS (t), args, complain, in_decl),\n \t tsubst_expr (ASM_INPUTS (t), args, complain, in_decl), \n \t tsubst_expr (ASM_CLOBBERS (t), args, complain, in_decl));\n-      ASM_INPUT_P (tmp) = ASM_INPUT_P (t);\n+      {\n+\ttree asm_expr = tmp;\n+\tif (TREE_CODE (asm_expr) == CLEANUP_POINT_EXPR)\n+\t  asm_expr = TREE_OPERAND (asm_expr, 0);\n+\tASM_INPUT_P (asm_expr) = ASM_INPUT_P (t);\n+      }\n       break;\n \n     case TRY_BLOCK:"}]}