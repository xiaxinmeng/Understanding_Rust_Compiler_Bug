{"sha": "457b6274e1ce577aa93e7a92456d66c40e9e4a61", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDU3YjYyNzRlMWNlNTc3YWE5M2U3YTkyNDU2ZDY2YzQwZTllNGE2MQ==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@gnat.com", "date": "2001-12-05T19:13:59Z"}, "committer": {"name": "Geert Bosch", "email": "bosch@gcc.gnu.org", "date": "2001-12-05T19:13:59Z"}, "message": "sem_attr.adb (Analyze_Attribute): Defend against bad Val attribute.\n\n\t* sem_attr.adb (Analyze_Attribute): Defend against bad Val attribute.\n\tFixes compilation abandoned bomb in B24009B.\n\nFrom-SVN: r47683", "tree": {"sha": "c2e9f0806c77dfbb6a94962c65d5cc2a6ef7bed1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c2e9f0806c77dfbb6a94962c65d5cc2a6ef7bed1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/457b6274e1ce577aa93e7a92456d66c40e9e4a61", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/457b6274e1ce577aa93e7a92456d66c40e9e4a61", "html_url": "https://github.com/Rust-GCC/gccrs/commit/457b6274e1ce577aa93e7a92456d66c40e9e4a61", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/457b6274e1ce577aa93e7a92456d66c40e9e4a61/comments", "author": null, "committer": null, "parents": [{"sha": "193499258fd7bc513161419158b590425e1697e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/193499258fd7bc513161419158b590425e1697e0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/193499258fd7bc513161419158b590425e1697e0"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "d402685bdff8cfb8caff7e6ef518ba0e3c5241b4", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/457b6274e1ce577aa93e7a92456d66c40e9e4a61/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/457b6274e1ce577aa93e7a92456d66c40e9e4a61/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=457b6274e1ce577aa93e7a92456d66c40e9e4a61", "patch": "@@ -1,3 +1,8 @@\n+2001-12-05  Robert Dewar <dewar@gnat.com>\n+\n+\t* sem_attr.adb (Analyze_Attribute): Defend against bad Val attribute. \n+\tFixes compilation abandoned bomb in B24009B.\n+\n 2001-12-05  Ed Schonberg <schonber@gnat.com>\n \n \t* sem_ch12.adb:"}, {"sha": "97002bb605d62d82360e65cec954a5f8b105c45c", "filename": "gcc/ada/sem_attr.adb", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/457b6274e1ce577aa93e7a92456d66c40e9e4a61/gcc%2Fada%2Fsem_attr.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/457b6274e1ce577aa93e7a92456d66c40e9e4a61/gcc%2Fada%2Fsem_attr.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_attr.adb?ref=457b6274e1ce577aa93e7a92456d66c40e9e4a61", "patch": "@@ -1476,7 +1476,9 @@ package body Sem_Attr is\n          E1 := First (Exprs);\n          Analyze (E1);\n \n-         if Etype (E1) = Any_Type then\n+         --  Check for missing or bad expression (result of previous error)\n+\n+         if No (E1) or else Etype (E1) = Any_Type then\n             raise Bad_Attribute;\n          end if;\n "}]}