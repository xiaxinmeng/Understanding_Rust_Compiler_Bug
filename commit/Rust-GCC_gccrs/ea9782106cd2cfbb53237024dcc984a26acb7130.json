{"sha": "ea9782106cd2cfbb53237024dcc984a26acb7130", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWE5NzgyMTA2Y2QyY2ZiYjUzMjM3MDI0ZGNjOTg0YTI2YWNiNzEzMA==", "commit": {"author": {"name": "Wilco Dijkstra", "email": "wdijkstr@arm.com", "date": "2019-10-14T12:25:00Z"}, "committer": {"name": "Wilco Dijkstra", "email": "wilco@gcc.gnu.org", "date": "2019-10-14T12:25:00Z"}, "message": "[ARM] Enable arm_legitimize_address for Thumb-2\n\nCurrently arm_legitimize_address doesn't handle Thumb-2 at all, resulting in\ninefficient code.  Since Thumb-2 supports similar address offsets use the Arm\nlegitimization code for Thumb-2 to get significant codesize and performance\ngains.  SPECINT2006 shows 0.4% gain on Cortex-A57, while SPECFP improves 0.2%.\n\n    gcc/\n\t* config/arm/arm.c (arm_legitimize_address): Remove Thumb-2 bailout.\n\nFrom-SVN: r276961", "tree": {"sha": "94f048d81f57eef4487a95a966ba4247639a4c68", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/94f048d81f57eef4487a95a966ba4247639a4c68"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ea9782106cd2cfbb53237024dcc984a26acb7130", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea9782106cd2cfbb53237024dcc984a26acb7130", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea9782106cd2cfbb53237024dcc984a26acb7130", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea9782106cd2cfbb53237024dcc984a26acb7130/comments", "author": null, "committer": null, "parents": [{"sha": "c7207339a7dbce5b68f872064e624dcf1639ba46", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7207339a7dbce5b68f872064e624dcf1639ba46", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c7207339a7dbce5b68f872064e624dcf1639ba46"}], "stats": {"total": 13, "additions": 6, "deletions": 7}, "files": [{"sha": "176c0d219795c6b90d046a4b2040b01119fd527b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea9782106cd2cfbb53237024dcc984a26acb7130/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea9782106cd2cfbb53237024dcc984a26acb7130/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ea9782106cd2cfbb53237024dcc984a26acb7130", "patch": "@@ -1,3 +1,7 @@\n+2019-10-14  Wilco Dijkstra  <wdijkstr@arm.com>\n+\n+\t* config/arm/arm.c (arm_legitimize_address): Remove Thumb-2 bailout.\n+\n 2019-10-14  Wilco Dijkstra  <wdijkstr@arm.com>\n \n \t* config/arm/arm.c (arm_option_override): Don't override sched"}, {"sha": "ba33047014113949162d0c8de6f0b4571304cf7a", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea9782106cd2cfbb53237024dcc984a26acb7130/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea9782106cd2cfbb53237024dcc984a26acb7130/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=ea9782106cd2cfbb53237024dcc984a26acb7130", "patch": "@@ -8934,13 +8934,8 @@ arm_legitimize_address (rtx x, rtx orig_x, machine_mode mode)\n \treturn x;\n     }\n \n-  if (!TARGET_ARM)\n-    {\n-      /* TODO: legitimize_address for Thumb2.  */\n-      if (TARGET_THUMB2)\n-        return x;\n-      return thumb_legitimize_address (x, orig_x, mode);\n-    }\n+  if (TARGET_THUMB1)\n+    return thumb_legitimize_address (x, orig_x, mode);\n \n   if (GET_CODE (x) == PLUS)\n     {"}]}