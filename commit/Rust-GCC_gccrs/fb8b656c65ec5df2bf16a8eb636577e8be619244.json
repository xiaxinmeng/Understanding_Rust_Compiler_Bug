{"sha": "fb8b656c65ec5df2bf16a8eb636577e8be619244", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmI4YjY1NmM2NWVjNWRmMmJmMTZhOGViNjM2NTc3ZThiZTYxOTI0NA==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@redhat.com", "date": "2000-12-29T08:27:40Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2000-12-29T08:27:40Z"}, "message": "c-parse.in (select_or_iter_stmt): Use truthvalue_conversion on the condition of a FOR statement...\n\n2000-12-28  Geoffrey Keating  <geoffk@redhat.com>\n\n\t* c-parse.in (select_or_iter_stmt): Use truthvalue_conversion\n\ton the condition of a FOR statement, so that it gets typechecked\n\tand optimised.\n\n2000-12-28  Geoffrey Keating  <geoffk@redhat.com>\n\n\t* gcc.dg/noncompile/20001228-1.c: New test.\n\nFrom-SVN: r38527", "tree": {"sha": "74df938ddc4fd9f854f62e5d03857b48c466e7c5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/74df938ddc4fd9f854f62e5d03857b48c466e7c5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fb8b656c65ec5df2bf16a8eb636577e8be619244", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb8b656c65ec5df2bf16a8eb636577e8be619244", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fb8b656c65ec5df2bf16a8eb636577e8be619244", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb8b656c65ec5df2bf16a8eb636577e8be619244/comments", "author": null, "committer": null, "parents": [{"sha": "68940175460a147340617aa400213b32fda99fc4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68940175460a147340617aa400213b32fda99fc4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/68940175460a147340617aa400213b32fda99fc4"}], "stats": {"total": 17, "additions": 16, "deletions": 1}, "files": [{"sha": "7a306e5604221279056286699186c04c41fd6a59", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb8b656c65ec5df2bf16a8eb636577e8be619244/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb8b656c65ec5df2bf16a8eb636577e8be619244/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fb8b656c65ec5df2bf16a8eb636577e8be619244", "patch": "@@ -1,3 +1,9 @@\n+2000-12-28  Geoffrey Keating  <geoffk@redhat.com>\n+\n+\t* c-parse.in (select_or_iter_stmt): Use truthvalue_conversion\n+\ton the condition of a FOR statement, so that it gets typechecked\n+\tand optimised.\n+\n 2000-12-29  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* c-decl.c (grokdeclarator): Prevent crash in case of overflow in"}, {"sha": "f944ac3bd45e69c3fb3e3d96bd3b5dfd97933e53", "filename": "gcc/c-parse.in", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb8b656c65ec5df2bf16a8eb636577e8be619244/gcc%2Fc-parse.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb8b656c65ec5df2bf16a8eb636577e8be619244/gcc%2Fc-parse.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-parse.in?ref=fb8b656c65ec5df2bf16a8eb636577e8be619244", "patch": "@@ -1896,7 +1896,8 @@ select_or_iter_stmt:\n \t\t{ stmt_count++;\n \t\t  RECHAIN_STMTS ($<ttype>2, FOR_INIT_STMT ($<ttype>2)); }\n \t  xexpr ';'\n-                { FOR_COND ($<ttype>2) = $6; }\n+                { if ($6) \n+\t\t    FOR_COND ($<ttype>2) = truthvalue_conversion ($6); }\n \t  xexpr ')'\n \t\t{ FOR_EXPR ($<ttype>2) = $9; }\n \t  c99_block_lineno_labeled_stmt"}, {"sha": "86c588b07ff33a533a9dfe8d52d32bdfbb1e74f8", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb8b656c65ec5df2bf16a8eb636577e8be619244/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb8b656c65ec5df2bf16a8eb636577e8be619244/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=fb8b656c65ec5df2bf16a8eb636577e8be619244", "patch": "@@ -4,6 +4,8 @@\n \n 2000-12-28  Geoffrey Keating  <geoffk@redhat.com>\n \n+\t* gcc.dg/noncompile/20001228-1.c: New test.\n+\n \t* gcc.dg/20001228-1.c: New test.\n \t\n \t* gcc.c-torture/execute/20001228-1.c: New test."}, {"sha": "79efe117aacfad32992fb8160cb5ae5d361298b9", "filename": "gcc/testsuite/gcc.dg/noncompile/20001228-1.c", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb8b656c65ec5df2bf16a8eb636577e8be619244/gcc%2Ftestsuite%2Fgcc.dg%2Fnoncompile%2F20001228-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb8b656c65ec5df2bf16a8eb636577e8be619244/gcc%2Ftestsuite%2Fgcc.dg%2Fnoncompile%2F20001228-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fnoncompile%2F20001228-1.c?ref=fb8b656c65ec5df2bf16a8eb636577e8be619244", "patch": "@@ -0,0 +1,6 @@\n+void rof(void)\n+{\n+  union { int a; } u;\n+  for (u.a = 0; u; u.a++)  /* { dg-error \"invalid operand\" } */\n+    ;\n+}"}]}