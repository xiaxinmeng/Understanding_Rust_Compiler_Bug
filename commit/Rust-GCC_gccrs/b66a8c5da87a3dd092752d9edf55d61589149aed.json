{"sha": "b66a8c5da87a3dd092752d9edf55d61589149aed", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjY2YThjNWRhODdhM2RkMDkyNzUyZDllZGY1NWQ2MTU4OTE0OWFlZA==", "commit": {"author": {"name": "Dodji Seketeli", "email": "dodji@redhat.com", "date": "2010-06-11T08:19:21Z"}, "committer": {"name": "Dodji Seketeli", "email": "dodji@gcc.gnu.org", "date": "2010-06-11T08:19:21Z"}, "message": "Fix MIPS bootstrap\n\ngcc/ChangeLog:\n\tFix bootstap on mips\n\t* dwarf2out.c (is_naming_typedef_dec): Built-in TYPE_DECLs cannot\n\tbe naming typedefs.\n\ngcc/testsuite/ChangeLog:\n\tFix MIPS bootstrap\n\t* g++.dg/other/typedef4.C: New test.\n\nFrom-SVN: r160599", "tree": {"sha": "7309ad07df126de3eedd49e3b58da1eaf8d296b5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7309ad07df126de3eedd49e3b58da1eaf8d296b5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b66a8c5da87a3dd092752d9edf55d61589149aed", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b66a8c5da87a3dd092752d9edf55d61589149aed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b66a8c5da87a3dd092752d9edf55d61589149aed", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b66a8c5da87a3dd092752d9edf55d61589149aed/comments", "author": null, "committer": null, "parents": [{"sha": "10d291f61fd76bd4bea77e2a3be0142ea574b656", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10d291f61fd76bd4bea77e2a3be0142ea574b656", "html_url": "https://github.com/Rust-GCC/gccrs/commit/10d291f61fd76bd4bea77e2a3be0142ea574b656"}], "stats": {"total": 19, "additions": 19, "deletions": 0}, "files": [{"sha": "42492a437852965388d453909121801c22a34bac", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b66a8c5da87a3dd092752d9edf55d61589149aed/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b66a8c5da87a3dd092752d9edf55d61589149aed/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b66a8c5da87a3dd092752d9edf55d61589149aed", "patch": "@@ -1,3 +1,9 @@\n+2010-06-10  Dodji Seketeli  <dodji@redhat.com>\n+\n+\tFix bootstap on mips\n+\t* dwarf2out.c (is_naming_typedef_dec): Built-in TYPE_DECLs cannot\n+\tbe naming typedefs.\n+\n 2010-06-11  Kai Tietz  <kai.tietz@onevision.com>\n \n \t* system.h (helper_const_non_const_cast): New inline for"}, {"sha": "e35a780fe4892e58c85ba2ff068504cbba4d2b97", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b66a8c5da87a3dd092752d9edf55d61589149aed/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b66a8c5da87a3dd092752d9edf55d61589149aed/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=b66a8c5da87a3dd092752d9edf55d61589149aed", "patch": "@@ -19891,6 +19891,7 @@ is_naming_typedef_decl (const_tree decl)\n   if (decl == NULL_TREE\n       || TREE_CODE (decl) != TYPE_DECL\n       || !is_tagged_type (TREE_TYPE (decl))\n+      || DECL_IS_BUILTIN (decl)\n       || is_redundant_typedef (decl)\n       /* It looks like Ada produces TYPE_DECLs that are very similar\n          to C++ naming typedefs but that have different"}, {"sha": "e7eae084491cc7c7fa715ccb5e35b16ea66b513a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b66a8c5da87a3dd092752d9edf55d61589149aed/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b66a8c5da87a3dd092752d9edf55d61589149aed/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b66a8c5da87a3dd092752d9edf55d61589149aed", "patch": "@@ -1,3 +1,8 @@\n+2010-06-10  Dodji Seketeli  <dodji@redhat.com>\n+\n+\tFix MIPS bootstrap\n+\t* g++.dg/other/typedef4.C: New test.\n+\n 2010-06-10  Janus Weil  <janus@gcc.gnu.org>\n \n \tPR fortran/44207"}, {"sha": "b752f2cae7a3ebd80f022bfc1775ac8a0cbc7269", "filename": "gcc/testsuite/g++.dg/other/typedef4.C", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b66a8c5da87a3dd092752d9edf55d61589149aed/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Ftypedef4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b66a8c5da87a3dd092752d9edf55d61589149aed/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Ftypedef4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Ftypedef4.C?ref=b66a8c5da87a3dd092752d9edf55d61589149aed", "patch": "@@ -0,0 +1,7 @@\n+// { dg-options \"-g\" }\n+// { dg-do compile }\n+\n+// On some platforms like MIPS, __builtin_va_list is a\n+// RECORD_TYPE. Make sure we don't wrongly try to generate debug info\n+// for its TYPE_DECL and crash.\n+typedef __builtin_va_list foo;"}]}