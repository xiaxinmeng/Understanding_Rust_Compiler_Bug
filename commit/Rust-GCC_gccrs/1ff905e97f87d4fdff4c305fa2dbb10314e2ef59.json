{"sha": "1ff905e97f87d4fdff4c305fa2dbb10314e2ef59", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWZmOTA1ZTk3Zjg3ZDRmZGZmNGMzMDVmYTJkYmIxMDMxNGUyZWY1OQ==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2003-12-08T20:58:03Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2003-12-08T20:58:03Z"}, "message": "frv.md (subdi2): Merge with _internal insn_and_split, by using match_scratch.\n\n* config/frv/frv.md (subdi2): Merge with _internal insn_and_split,\nby using match_scratch.\n(negdi2): New.\n\nFrom-SVN: r74438", "tree": {"sha": "0b5186feacb1ed1b0e3d88aa5b4e46829be154d8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0b5186feacb1ed1b0e3d88aa5b4e46829be154d8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1ff905e97f87d4fdff4c305fa2dbb10314e2ef59", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ff905e97f87d4fdff4c305fa2dbb10314e2ef59", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ff905e97f87d4fdff4c305fa2dbb10314e2ef59", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ff905e97f87d4fdff4c305fa2dbb10314e2ef59/comments", "author": null, "committer": null, "parents": [{"sha": "97f1485f0ecc163b8be0d9e9b3a4239e59901d8a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97f1485f0ecc163b8be0d9e9b3a4239e59901d8a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97f1485f0ecc163b8be0d9e9b3a4239e59901d8a"}], "stats": {"total": 46, "additions": 33, "deletions": 13}, "files": [{"sha": "5bbfb64832f847ad9219ce2163e191be0fb44ef5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ff905e97f87d4fdff4c305fa2dbb10314e2ef59/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ff905e97f87d4fdff4c305fa2dbb10314e2ef59/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1ff905e97f87d4fdff4c305fa2dbb10314e2ef59", "patch": "@@ -1,3 +1,9 @@\n+2003-12-08  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* config/frv/frv.md (subdi2): Merge with _internal insn_and_split,\n+\tby using match_scratch.\n+\t(negdi2): New.\n+\n 2003-12-08  Jason Merrill <jason@redhat.com>\n \t    Daniel Berlin  <dberlin@dberlin.org>\n "}, {"sha": "0748c265a62c80d90d017e8cef30921a9b24e07d", "filename": "gcc/config/frv/frv.md", "status": "modified", "additions": 27, "deletions": 13, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ff905e97f87d4fdff4c305fa2dbb10314e2ef59/gcc%2Fconfig%2Ffrv%2Ffrv.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ff905e97f87d4fdff4c305fa2dbb10314e2ef59/gcc%2Fconfig%2Ffrv%2Ffrv.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffrv%2Ffrv.md?ref=1ff905e97f87d4fdff4c305fa2dbb10314e2ef59", "patch": "@@ -2754,22 +2754,11 @@\n \n ;; Subtraction  No need to worry about constants, since the compiler\n ;; canonicalizes them into adddi3's.\n-(define_expand \"subdi3\"\n-  [(parallel [(set (match_operand:DI 0 \"integer_register_operand\" \"\")\n-\t\t   (minus:DI (match_operand:DI 1 \"integer_register_operand\" \"\")\n-\t\t\t     (match_operand:DI 2 \"integer_register_operand\" \"\")))\n-\t      (clobber (match_dup 3))])]\n-  \"\"\n-  \"\n-{\n-  operands[3] = gen_reg_rtx (CCmode);\n-}\")\n-\n-(define_insn_and_split \"*subdi3_internal\"\n+(define_insn_and_split \"subdi3\"\n   [(set (match_operand:DI 0 \"integer_register_operand\" \"=&e,e,e\")\n \t(minus:DI (match_operand:DI 1 \"integer_register_operand\" \"e,0,e\")\n \t\t  (match_operand:DI 2 \"integer_register_operand\" \"e,e,0\")))\n-   (clobber (match_operand:CC 3 \"icc_operand\" \"=t,t,t\"))]\n+   (clobber (match_scratch:CC 3 \"=t,t,t\"))]\n   \"\"\n   \"#\"\n   \"reload_completed\"\n@@ -2842,6 +2831,31 @@\n   [(set_attr \"length\" \"4\")\n    (set_attr \"type\" \"int\")])\n \n+(define_insn_and_split \"negdi2\"\n+  [(set (match_operand:DI 0 \"integer_register_operand\" \"=&e,e\")\n+\t(neg:DI (match_operand:DI 1 \"integer_register_operand\" \"e,0\")))\n+   (clobber (match_scratch:CC 2 \"=t,t\"))]\n+  \"\"\n+  \"#\"\n+  \"reload_completed\"\n+  [(match_dup 3)\n+   (match_dup 4)]\n+  \"\n+{\n+  rtx op0_high = gen_highpart (SImode, operands[0]);\n+  rtx op1_high = gen_rtx_REG (SImode, GPR_FIRST);\n+  rtx op2_high = gen_highpart (SImode, operands[1]);\n+  rtx op0_low  = gen_lowpart (SImode, operands[0]);\n+  rtx op1_low  = op1_high;\n+  rtx op2_low  = gen_lowpart (SImode, operands[1]);\n+  rtx op3 = operands[2];\n+\n+  operands[3] = gen_subdi3_lower (op0_low, op1_low, op2_low, op3);\n+  operands[4] = gen_subdi3_upper (op0_high, op1_high, op2_high, op3);\n+}\"\n+  [(set_attr \"length\" \"8\")\n+   (set_attr \"type\" \"multi\")])\n+\n ;; Multiplication (same size)\n ;; (define_insn \"muldi3\"\n ;;   [(set (match_operand:DI 0 \"register_operand\" \"=r\")"}]}