{"sha": "b71a678232eca441b374221d2544404e41fbe572", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjcxYTY3ODIzMmVjYTQ0MWIzNzQyMjFkMjU0NDQwNGU0MWZiZTU3Mg==", "commit": {"author": {"name": "Tom de Vries", "email": "tom@codesourcery.com", "date": "2015-09-08T21:20:51Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2015-09-08T21:20:51Z"}, "message": "Prevent unnecessary recompilation for trivial params.def changes\n\n2015-09-08  Tom de Vries  <tom@codesourcery.com>\n\n\t* Makefile.in (generated_files): Add params.list.\n\t(params.list, s-params.list): Add rule.\n\t* params.h (enum compiler_param): Include params-list.h.  Move define\n\tDEFPARAM, include params.def and undef DEFPARAM ...\n\t* params-list.h: ... here.  New file.\n\nFrom-SVN: r227566", "tree": {"sha": "b5dcbcb97beab5022f3df212e97f9a70188940d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b5dcbcb97beab5022f3df212e97f9a70188940d7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b71a678232eca441b374221d2544404e41fbe572", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b71a678232eca441b374221d2544404e41fbe572", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b71a678232eca441b374221d2544404e41fbe572", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b71a678232eca441b374221d2544404e41fbe572/comments", "author": null, "committer": null, "parents": [{"sha": "2e808a784deb8304eb54fb222a68beecb811a2a0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e808a784deb8304eb54fb222a68beecb811a2a0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e808a784deb8304eb54fb222a68beecb811a2a0"}], "stats": {"total": 25, "additions": 20, "deletions": 5}, "files": [{"sha": "d8dd36a6de1d51ccb6d76f20f2d07a6d0dbb8dee", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b71a678232eca441b374221d2544404e41fbe572/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b71a678232eca441b374221d2544404e41fbe572/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b71a678232eca441b374221d2544404e41fbe572", "patch": "@@ -1,3 +1,11 @@\n+2015-09-08  Tom de Vries  <tom@codesourcery.com>\n+\n+\t* Makefile.in (generated_files): Add params.list.\n+\t(params.list, s-params.list): Add rule.\n+\t* params.h (enum compiler_param): Include params-list.h.  Move define\n+\tDEFPARAM, include params.def and undef DEFPARAM ...\n+\t* params-list.h: ... here.  New file.\n+\n 2015-09-08  David Malcolm  <dmalcolm@redhat.com>\n \n \t* pretty-print.h (printer_fn): Fix typo in comment."}, {"sha": "b495bd2eb3f5ac9ee480a68db1cea385f5874268", "filename": "gcc/Makefile.in", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b71a678232eca441b374221d2544404e41fbe572/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b71a678232eca441b374221d2544404e41fbe572/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=b71a678232eca441b374221d2544404e41fbe572", "patch": "@@ -2415,7 +2415,7 @@ generated_files = config.h tm.h $(TM_P_H) $(TM_H) multilib.h \\\n        $(ALL_GTFILES_H) gtype-desc.c gtype-desc.h gcov-iov.h \\\n        options.h target-hooks-def.h insn-opinit.h \\\n        common/common-target-hooks-def.h pass-instances.def \\\n-       c-family/c-target-hooks-def.h\n+       c-family/c-target-hooks-def.h params.list\n \n #\f\n # How to compile object files to run on the build machine.\n@@ -3236,6 +3236,12 @@ installdirs:\n \t$(mkinstalldirs) $(DESTDIR)$(man1dir)\n \t$(mkinstalldirs) $(DESTDIR)$(man7dir)\n \n+params.list: s-params.list; @true\n+s-params.list: $(srcdir)/params-list.h $(srcdir)/params.def\n+\t$(CPP) $(srcdir)/params-list.h | sed 's/^#.*//;/^$$/d' > tmp-params.list\n+\t$(SHELL) $(srcdir)/../move-if-change tmp-params.list params.list\n+\t$(STAMP) s-params.list\n+\n PLUGIN_HEADERS = $(TREE_H) $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) \\\n   toplev.h $(DIAGNOSTIC_CORE_H) $(BASIC_BLOCK_H) $(HASH_TABLE_H) \\\n   tree-ssa-alias.h $(INTERNAL_FN_H) gimple-fold.h tree-eh.h gimple-expr.h \\"}, {"sha": "49301d2e96d645b6b767317086ad6f4aab5ea810", "filename": "gcc/params-list.h", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b71a678232eca441b374221d2544404e41fbe572/gcc%2Fparams-list.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b71a678232eca441b374221d2544404e41fbe572/gcc%2Fparams-list.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fparams-list.h?ref=b71a678232eca441b374221d2544404e41fbe572", "patch": "@@ -0,0 +1,4 @@\n+#define DEFPARAM(enumerator, option, nocmsgid, default, min, max) \\\n+  enumerator,\n+#include \"params.def\"\n+#undef DEFPARAM"}, {"sha": "9f7618ac1d14f0cb735dce68976ace35becddfff", "filename": "gcc/params.h", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b71a678232eca441b374221d2544404e41fbe572/gcc%2Fparams.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b71a678232eca441b374221d2544404e41fbe572/gcc%2Fparams.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fparams.h?ref=b71a678232eca441b374221d2544404e41fbe572", "patch": "@@ -81,10 +81,7 @@ extern void set_param_value (const char *name, int value,\n \n enum compiler_param\n {\n-#define DEFPARAM(enumerator, option, nocmsgid, default, min, max) \\\n-  enumerator,\n-#include \"params.def\"\n-#undef DEFPARAM\n+#include \"params.list\"\n   LAST_PARAM\n };\n "}]}