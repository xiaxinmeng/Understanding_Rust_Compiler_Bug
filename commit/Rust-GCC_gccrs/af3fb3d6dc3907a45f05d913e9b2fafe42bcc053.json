{"sha": "af3fb3d6dc3907a45f05d913e9b2fafe42bcc053", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWYzZmIzZDZkYzM5MDdhNDVmMDVkOTEzZTliMmZhZmU0MmJjYzA1Mw==", "commit": {"author": {"name": "Per Bothner", "email": "per@bothner.com", "date": "2004-01-31T17:38:45Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2004-01-31T17:38:45Z"}, "message": "2004-01-31  Per Bothner  <per@bothner.com>\n\n\t* include/ext/mt_allocator.h\n\t(__mt_alloc::_S_thread_freelist_mutex): Guard with\n\t__GTHREAD_MUTEX_INIT.\n\nFrom-SVN: r77042", "tree": {"sha": "c8aa5bfca8403f3d0fab2fcc05bb2e297609e806", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c8aa5bfca8403f3d0fab2fcc05bb2e297609e806"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/af3fb3d6dc3907a45f05d913e9b2fafe42bcc053", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/af3fb3d6dc3907a45f05d913e9b2fafe42bcc053", "html_url": "https://github.com/Rust-GCC/gccrs/commit/af3fb3d6dc3907a45f05d913e9b2fafe42bcc053", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/af3fb3d6dc3907a45f05d913e9b2fafe42bcc053/comments", "author": {"login": "PerBothner", "id": 10293361, "node_id": "MDQ6VXNlcjEwMjkzMzYx", "avatar_url": "https://avatars.githubusercontent.com/u/10293361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PerBothner", "html_url": "https://github.com/PerBothner", "followers_url": "https://api.github.com/users/PerBothner/followers", "following_url": "https://api.github.com/users/PerBothner/following{/other_user}", "gists_url": "https://api.github.com/users/PerBothner/gists{/gist_id}", "starred_url": "https://api.github.com/users/PerBothner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PerBothner/subscriptions", "organizations_url": "https://api.github.com/users/PerBothner/orgs", "repos_url": "https://api.github.com/users/PerBothner/repos", "events_url": "https://api.github.com/users/PerBothner/events{/privacy}", "received_events_url": "https://api.github.com/users/PerBothner/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a451b0bd9dbfc7cc27597b8668b4cb23822a8262", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a451b0bd9dbfc7cc27597b8668b4cb23822a8262", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a451b0bd9dbfc7cc27597b8668b4cb23822a8262"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "068c63621be1c7513df6b1e862890daa73257e92", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af3fb3d6dc3907a45f05d913e9b2fafe42bcc053/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af3fb3d6dc3907a45f05d913e9b2fafe42bcc053/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=af3fb3d6dc3907a45f05d913e9b2fafe42bcc053", "patch": "@@ -1,3 +1,9 @@\n+2004-01-31  Per Bothner  <per@bothner.com>\n+\n+\t* include/ext/mt_allocator.h\n+\t(__mt_alloc::_S_thread_freelist_mutex): Guard with\n+\t__GTHREAD_MUTEX_INIT.\n+\n 2004-01-31  Paolo Carlini  <pcarlini@suse.de>\n \n \t* include/bits/basic_string.tcc (_Rep::_S_create): Minor tweak."}, {"sha": "1afd5de52253dbcf9c8d9e25d4067a2d8425385b", "filename": "libstdc++-v3/include/ext/mt_allocator.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af3fb3d6dc3907a45f05d913e9b2fafe42bcc053/libstdc%2B%2B-v3%2Finclude%2Fext%2Fmt_allocator.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af3fb3d6dc3907a45f05d913e9b2fafe42bcc053/libstdc%2B%2B-v3%2Finclude%2Fext%2Fmt_allocator.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fext%2Fmt_allocator.h?ref=af3fb3d6dc3907a45f05d913e9b2fafe42bcc053", "patch": "@@ -837,7 +837,12 @@ namespace __gnu_cxx\n   volatile __mt_alloc<_Tp>::_S_thread_freelist_first = NULL;\n \n   template<typename _Tp> __gthread_mutex_t\n+#ifdef __GTHREAD_MUTEX_INIT\n   __mt_alloc<_Tp>::_S_thread_freelist_mutex = __GTHREAD_MUTEX_INIT;\n+#else\n+  // XXX\n+  __mt_alloc<_Tp>::_S_thread_freelist_mutex;\n+#endif\n \n   /*\n    * Actual initialization in _S_init()"}]}