{"sha": "7b282ff9a0f32ed6d8ebd86f98cc784c5df13a5d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2IyODJmZjlhMGYzMmVkNmQ4ZWJkODZmOThjYzc4NGM1ZGYxM2E1ZA==", "commit": {"author": {"name": "David Edelsohn", "email": "edelsohn@gnu.org", "date": "2006-04-26T14:33:49Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2006-04-26T14:33:49Z"}, "message": "re PR target/27282 (ICE in final_scan_insn, at final.c:2448 - could not split insn)\n\n2006-04-26  David Edelsohn  <edelsohn@gnu.org>\n\t    Paolo Bonzini  <bonzini@gnu.org>\n\n\tPR middle-end/27282\n\t* combine.c (simplify_and_const_int_1): Use gen_int_mode.\n\t(simplify_and_const_int): Same.\n\nCo-Authored-By: Paolo Bonzini <bonzini@gnu.org>\n\nFrom-SVN: r113275", "tree": {"sha": "03e551a81fdd60fc093e742fda09f8226ceab35f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/03e551a81fdd60fc093e742fda09f8226ceab35f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7b282ff9a0f32ed6d8ebd86f98cc784c5df13a5d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b282ff9a0f32ed6d8ebd86f98cc784c5df13a5d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b282ff9a0f32ed6d8ebd86f98cc784c5df13a5d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b282ff9a0f32ed6d8ebd86f98cc784c5df13a5d/comments", "author": null, "committer": null, "parents": [{"sha": "444704336a95b02933a3bdf50c51ae556d2dd274", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/444704336a95b02933a3bdf50c51ae556d2dd274", "html_url": "https://github.com/Rust-GCC/gccrs/commit/444704336a95b02933a3bdf50c51ae556d2dd274"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "b61347d0f818634ba8edaf6905bda7b6e9ee0e89", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b282ff9a0f32ed6d8ebd86f98cc784c5df13a5d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b282ff9a0f32ed6d8ebd86f98cc784c5df13a5d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7b282ff9a0f32ed6d8ebd86f98cc784c5df13a5d", "patch": "@@ -1,3 +1,10 @@\n+2006-04-26  David Edelsohn  <edelsohn@gnu.org>\n+\t    Paolo Bonzini  <bonzini@gnu.org>\n+\n+\tPR middle-end/27282\n+\t* combine.c (simplify_and_const_int_1): Use gen_int_mode.\n+\t(simplify_and_const_int): Same.\n+\n 2006-04-26  Aldy Hernandez  <aldyh@redhat.com>\n \n         * tree-ssa-dse.c (dse_optimize_stmt): Remove unused variable USE."}, {"sha": "ed9c497e7d525c33555d668ea6f8578fa10d75ba", "filename": "gcc/combine.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b282ff9a0f32ed6d8ebd86f98cc784c5df13a5d/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b282ff9a0f32ed6d8ebd86f98cc784c5df13a5d/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=7b282ff9a0f32ed6d8ebd86f98cc784c5df13a5d", "patch": "@@ -8190,8 +8190,7 @@ simplify_and_const_int_1 (enum machine_mode mode, rtx varop,\n     return NULL_RTX;\n \n   /* Otherwise, return an AND.  */\n-  constop = trunc_int_for_mode (constop, mode);\n-  return simplify_gen_binary (AND, mode, varop, GEN_INT (constop));\n+  return simplify_gen_binary (AND, mode, varop, gen_int_mode (constop, mode));\n }\n \n \n@@ -8210,7 +8209,8 @@ simplify_and_const_int (rtx x, enum machine_mode mode, rtx varop,\n     return tem;\n \n   if (!x)\n-    x = simplify_gen_binary (AND, GET_MODE (varop), varop, GEN_INT (constop));\n+    x = simplify_gen_binary (AND, GET_MODE (varop), varop,\n+\t\t\t     gen_int_mode (constop, mode));\n   if (GET_MODE (x) != mode)\n     x = gen_lowpart (mode, x);\n   return x;"}]}