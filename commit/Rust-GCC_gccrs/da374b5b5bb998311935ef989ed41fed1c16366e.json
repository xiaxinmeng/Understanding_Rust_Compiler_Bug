{"sha": "da374b5b5bb998311935ef989ed41fed1c16366e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGEzNzRiNWI1YmI5OTgzMTE5MzVlZjk4OWVkNDFmZWQxYzE2MzY2ZQ==", "commit": {"author": {"name": "Richard Sandiford", "email": "richard.sandiford@linaro.org", "date": "2018-01-04T09:51:08Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2018-01-04T09:51:08Z"}, "message": "PR83675: Restore TARGET_VIS2 check for SPARC vec_perm_const\n\nI'd missed a TARGET_VIS2 condition when replacing vec_perm_const_optab\nwith TARGET_VECTORIZE_VEC_PERM_CONST in r256093.\n\n2018-01-04  Richard Sandiford  <richard.sandiford@linaro.org>\n\ngcc/\n\tPR target/83675\n\t* config/sparc/sparc.c (sparc_vectorize_vec_perm_const): Require\n\tTARGET_VIS2.\n\nFrom-SVN: r256229", "tree": {"sha": "1d94afc30568cec72f14b65c4b2bae1ff5bc5715", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1d94afc30568cec72f14b65c4b2bae1ff5bc5715"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/da374b5b5bb998311935ef989ed41fed1c16366e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da374b5b5bb998311935ef989ed41fed1c16366e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/da374b5b5bb998311935ef989ed41fed1c16366e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da374b5b5bb998311935ef989ed41fed1c16366e/comments", "author": null, "committer": null, "parents": [{"sha": "02ea1c7689351ad76d17e423dbc4e91badb921ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/02ea1c7689351ad76d17e423dbc4e91badb921ca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/02ea1c7689351ad76d17e423dbc4e91badb921ca"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "15172f1045de1830bb63f487f15563f7055e6c75", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da374b5b5bb998311935ef989ed41fed1c16366e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da374b5b5bb998311935ef989ed41fed1c16366e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=da374b5b5bb998311935ef989ed41fed1c16366e", "patch": "@@ -1,3 +1,9 @@\n+2018-01-04  Richard Sandiford  <richard.sandiford@linaro.org>\n+\n+\tPR target/83675\n+\t* config/sparc/sparc.c (sparc_vectorize_vec_perm_const): Require\n+\tTARGET_VIS2.\n+\n 2018-01-04  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR target/83628"}, {"sha": "668ccad42cfe05871b2c37db3c7af39a62be1448", "filename": "gcc/config/sparc/sparc.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da374b5b5bb998311935ef989ed41fed1c16366e/gcc%2Fconfig%2Fsparc%2Fsparc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da374b5b5bb998311935ef989ed41fed1c16366e/gcc%2Fconfig%2Fsparc%2Fsparc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.c?ref=da374b5b5bb998311935ef989ed41fed1c16366e", "patch": "@@ -12824,6 +12824,9 @@ static bool\n sparc_vectorize_vec_perm_const (machine_mode vmode, rtx target, rtx op0,\n \t\t\t\trtx op1, const vec_perm_indices &sel)\n {\n+  if (!TARGET_VIS2)\n+    return false;\n+\n   /* All permutes are supported.  */\n   if (!target)\n     return true;"}]}