{"sha": "472236af04ca7daa01b6b5b1a00dafaf91d31f1f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDcyMjM2YWYwNGNhN2RhYTAxYjZiNWIxYTAwZGFmYWY5MWQzMWYxZg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "1999-09-08T02:31:33Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "1999-09-08T02:31:33Z"}, "message": "posix-threads.cc (_Jv_CondWait): pthread_ calls return error code and don't set errno.\n\n\t* posix-threads.cc (_Jv_CondWait): pthread_ calls return error\n\tcode and don't set errno.\n\nFrom-SVN: r29179", "tree": {"sha": "f3529165ca1d2f9885a39e697a1880b4fd2fbef3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f3529165ca1d2f9885a39e697a1880b4fd2fbef3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/472236af04ca7daa01b6b5b1a00dafaf91d31f1f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/472236af04ca7daa01b6b5b1a00dafaf91d31f1f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/472236af04ca7daa01b6b5b1a00dafaf91d31f1f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/472236af04ca7daa01b6b5b1a00dafaf91d31f1f/comments", "author": null, "committer": null, "parents": [{"sha": "5430acc846acabe753e2c7d159aa27673a7daeb6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5430acc846acabe753e2c7d159aa27673a7daeb6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5430acc846acabe753e2c7d159aa27673a7daeb6"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "39b542a76449154e20dcc31033b44dbb6c5dd1e8", "filename": "libjava/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/472236af04ca7daa01b6b5b1a00dafaf91d31f1f/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/472236af04ca7daa01b6b5b1a00dafaf91d31f1f/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=472236af04ca7daa01b6b5b1a00dafaf91d31f1f", "patch": "@@ -1,5 +1,8 @@\n 1999-09-07  Tom Tromey  <tromey@cygnus.com>\n \n+\t* posix-threads.cc (_Jv_CondWait): pthread_ calls return error\n+\tcode and don't set errno.\n+\n \t* posix-threads.cc (_Jv_CondWait): Check `errno' against EINTR,\n \tnot `r'.  Changed `done_sleeping' to a `bool'.\n "}, {"sha": "e2f3b1bab1a8dab1f3341b30860f38a7a1533f93", "filename": "libjava/posix-threads.cc", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/472236af04ca7daa01b6b5b1a00dafaf91d31f1f/libjava%2Fposix-threads.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/472236af04ca7daa01b6b5b1a00dafaf91d31f1f/libjava%2Fposix-threads.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fposix-threads.cc?ref=472236af04ca7daa01b6b5b1a00dafaf91d31f1f", "patch": "@@ -104,7 +104,7 @@ _Jv_CondWait (_Jv_ConditionVariable_t *cv, _Jv_Mutex_t *mu,\n \n \t  r = pthread_cond_timedwait (cv, pmu, &ts);\n \n-\t  if (r && errno == EINTR)\n+\t  if (r == EINTR)\n \t    {\n \t      /* We were interrupted by a signal.  Either this is\n \t\t because we were interrupted intentionally (i.e. by\n@@ -127,7 +127,7 @@ _Jv_CondWait (_Jv_ConditionVariable_t *cv, _Jv_Mutex_t *mu,\n \t\t    }\n \t\t}\n \t    }\n-\t  else if (r && errno == ETIMEDOUT)\n+\t  else if (r == ETIMEDOUT)\n \t    {\n \t      /* A timeout is a normal result.  */\n \t      r = 0;\n@@ -139,7 +139,7 @@ _Jv_CondWait (_Jv_ConditionVariable_t *cv, _Jv_Mutex_t *mu,\n       while (! done_sleeping);\n     }\n \n-  return r;\n+  return r != 0;\n }\n \n #ifndef RECURSIVE_MUTEX_IS_DEFAULT"}]}