{"sha": "a14ab2c3467950ccaad000864164a62d24129dd5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTE0YWIyYzM0Njc5NTBjY2FhZDAwMDg2NDE2NGE2MmQyNDEyOWRkNQ==", "commit": {"author": {"name": "Piotr Trojanek", "email": "trojanek@adacore.com", "date": "2017-11-08T15:38:51Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2017-11-08T15:38:51Z"}, "message": "lib-xref-spark_specific.adb (Add_SPARK_Xrefs): Remove dead check for empty entities.\n\n2017-11-08  Piotr Trojanek  <trojanek@adacore.com>\n\n\t* lib-xref-spark_specific.adb (Add_SPARK_Xrefs): Remove dead check for\n\tempty entities.\n\nFrom-SVN: r254535", "tree": {"sha": "a1b83aacc9d51be4e2f71d5128f3513e54855be1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a1b83aacc9d51be4e2f71d5128f3513e54855be1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a14ab2c3467950ccaad000864164a62d24129dd5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a14ab2c3467950ccaad000864164a62d24129dd5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a14ab2c3467950ccaad000864164a62d24129dd5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a14ab2c3467950ccaad000864164a62d24129dd5/comments", "author": {"login": "ptroja", "id": 161602, "node_id": "MDQ6VXNlcjE2MTYwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/161602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ptroja", "html_url": "https://github.com/ptroja", "followers_url": "https://api.github.com/users/ptroja/followers", "following_url": "https://api.github.com/users/ptroja/following{/other_user}", "gists_url": "https://api.github.com/users/ptroja/gists{/gist_id}", "starred_url": "https://api.github.com/users/ptroja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ptroja/subscriptions", "organizations_url": "https://api.github.com/users/ptroja/orgs", "repos_url": "https://api.github.com/users/ptroja/repos", "events_url": "https://api.github.com/users/ptroja/events{/privacy}", "received_events_url": "https://api.github.com/users/ptroja/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6216fd904f46a11fa243195ee303560dc802958e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6216fd904f46a11fa243195ee303560dc802958e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6216fd904f46a11fa243195ee303560dc802958e"}], "stats": {"total": 7, "additions": 1, "deletions": 6}, "files": [{"sha": "48377185ebff5512ada6700c88c5b4d4ab375c20", "filename": "gcc/ada/lib-xref-spark_specific.adb", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a14ab2c3467950ccaad000864164a62d24129dd5/gcc%2Fada%2Flib-xref-spark_specific.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a14ab2c3467950ccaad000864164a62d24129dd5/gcc%2Fada%2Flib-xref-spark_specific.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flib-xref-spark_specific.adb?ref=a14ab2c3467950ccaad000864164a62d24129dd5", "patch": "@@ -657,7 +657,6 @@ package body SPARK_Specific is\n       Prev_Loc   : Source_Ptr;\n       Prev_Typ   : Character;\n       Ref_Count  : Nat;\n-      Ref_Name   : String_Ptr;\n       Scope_Id   : Scope_Index;\n \n    --  Start of processing for Add_SPARK_Xrefs\n@@ -818,10 +817,6 @@ package body SPARK_Specific is\n                pragma Assert (Scope_Id <= SPARK_Scope_Table.Last);\n             end loop;\n \n-            if Present (Ref.Ent) then\n-               Ref_Name := new String'(Unique_Name (Ref.Ent));\n-            end if;\n-\n             if Ref.Ent = Heap then\n                Line := 0;\n                Col  := 0;\n@@ -845,7 +840,7 @@ package body SPARK_Specific is\n             end if;\n \n             SPARK_Xref_Table.Append (\n-              (Entity_Name => Ref_Name,\n+              (Entity_Name => new String'(Unique_Name (Ref.Ent)),\n                Entity_Line => Line,\n                Etype       => Get_Entity_Type (Ref.Ent),\n                Entity_Col  => Col,"}]}