{"sha": "42cbaf83611647a0408569479c8dbb07db734c16", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDJjYmFmODM2MTE2NDdhMDQwODU2OTQ3OWM4ZGJiMDdkYjczNGMxNg==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2011-11-05T10:44:45Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2011-11-05T10:44:45Z"}, "message": "strlenopt-22g.c: New wrapper around...\n\n\t* gcc.dg/strlenopt-22g.c: New wrapper around...\n\t* gcc.dg/strlenopt-22.c: ...this.  Do not define USE_GNU and adjust.\n\nFrom-SVN: r181009", "tree": {"sha": "50fb8aa68667aea1fe2332975a0a38a0a7b444f1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/50fb8aa68667aea1fe2332975a0a38a0a7b444f1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/42cbaf83611647a0408569479c8dbb07db734c16", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42cbaf83611647a0408569479c8dbb07db734c16", "html_url": "https://github.com/Rust-GCC/gccrs/commit/42cbaf83611647a0408569479c8dbb07db734c16", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42cbaf83611647a0408569479c8dbb07db734c16/comments", "author": null, "committer": null, "parents": [{"sha": "08f2c4dba03abd19756159e72f68b246e89167f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08f2c4dba03abd19756159e72f68b246e89167f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/08f2c4dba03abd19756159e72f68b246e89167f2"}], "stats": {"total": 25, "additions": 21, "deletions": 4}, "files": [{"sha": "0d7be80c6bd422392327413101abefb51730cbc1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42cbaf83611647a0408569479c8dbb07db734c16/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42cbaf83611647a0408569479c8dbb07db734c16/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=42cbaf83611647a0408569479c8dbb07db734c16", "patch": "@@ -1,3 +1,8 @@\n+2011-11-05  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc.dg/strlenopt-22g.c: New wrapper around...\n+\t* gcc.dg/strlenopt-22.c: ...this.  Do not define USE_GNU and adjust.\n+\n 2011-11-04  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/26714"}, {"sha": "3b019a5f01a258b30028dc391ee7cac7d0e1b4ba", "filename": "gcc/testsuite/gcc.dg/strlenopt-22.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42cbaf83611647a0408569479c8dbb07db734c16/gcc%2Ftestsuite%2Fgcc.dg%2Fstrlenopt-22.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42cbaf83611647a0408569479c8dbb07db734c16/gcc%2Ftestsuite%2Fgcc.dg%2Fstrlenopt-22.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fstrlenopt-22.c?ref=42cbaf83611647a0408569479c8dbb07db734c16", "patch": "@@ -1,7 +1,6 @@\n /* { dg-do run } */\n /* { dg-options \"-O2 -fdump-tree-strlen\" } */\n \n-#define USE_GNU\n #include \"strlenopt.h\"\n \n __attribute__((noinline, noclone)) size_t\n@@ -32,10 +31,9 @@ main ()\n   return 0;\n }\n \n-/* { dg-final { scan-tree-dump-times \"strlen \\\\(\" 0 \"strlen\" } } */\n+/* { dg-final { scan-tree-dump-times \"strlen \\\\(\" 3 \"strlen\" } } */\n /* { dg-final { scan-tree-dump-times \"memcpy \\\\(\" 1 \"strlen\" } } */\n-/* { dg-final { scan-tree-dump-times \"strcpy \\\\(\" 0 \"strlen\" } } */\n+/* { dg-final { scan-tree-dump-times \"strcpy \\\\(\" 1 \"strlen\" } } */\n /* { dg-final { scan-tree-dump-times \"strcat \\\\(\" 0 \"strlen\" } } */\n /* { dg-final { scan-tree-dump-times \"strchr \\\\(\" 1 \"strlen\" } } */\n-/* { dg-final { scan-tree-dump-times \"stpcpy \\\\(\" 1 \"strlen\" } } */\n /* { dg-final { cleanup-tree-dump \"strlen\" } } */"}, {"sha": "45c6345fc8b3e1761616a5909de3387854275ecb", "filename": "gcc/testsuite/gcc.dg/strlenopt-22g.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42cbaf83611647a0408569479c8dbb07db734c16/gcc%2Ftestsuite%2Fgcc.dg%2Fstrlenopt-22g.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42cbaf83611647a0408569479c8dbb07db734c16/gcc%2Ftestsuite%2Fgcc.dg%2Fstrlenopt-22g.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fstrlenopt-22g.c?ref=42cbaf83611647a0408569479c8dbb07db734c16", "patch": "@@ -0,0 +1,14 @@\n+/* This test needs runtime that provides stpcpy function.  */\n+/* { dg-do run { target *-*-linux* } } */\n+/* { dg-options \"-O2 -fdump-tree-strlen\" } */\n+\n+#define USE_GNU\n+#include \"strlenopt-22.c\"\n+\n+/* { dg-final { scan-tree-dump-times \"strlen \\\\(\" 0 \"strlen\" } } */\n+/* { dg-final { scan-tree-dump-times \"memcpy \\\\(\" 1 \"strlen\" } } */\n+/* { dg-final { scan-tree-dump-times \"strcpy \\\\(\" 0 \"strlen\" } } */\n+/* { dg-final { scan-tree-dump-times \"strcat \\\\(\" 0 \"strlen\" } } */\n+/* { dg-final { scan-tree-dump-times \"strchr \\\\(\" 1 \"strlen\" } } */\n+/* { dg-final { scan-tree-dump-times \"stpcpy \\\\(\" 1 \"strlen\" } } */\n+/* { dg-final { cleanup-tree-dump \"strlen\" } } */"}]}