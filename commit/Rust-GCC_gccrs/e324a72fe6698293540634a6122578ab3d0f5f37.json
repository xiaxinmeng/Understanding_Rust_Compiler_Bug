{"sha": "e324a72fe6698293540634a6122578ab3d0f5f37", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTMyNGE3MmZlNjY5ODI5MzU0MDYzNGE2MTIyNTc4YWIzZDBmNWYzNw==", "commit": {"author": {"name": "Zdenek Dvorak", "email": "dvorakz@suse.cz", "date": "2006-11-11T10:15:18Z"}, "committer": {"name": "Zdenek Dvorak", "email": "rakdver@gcc.gnu.org", "date": "2006-11-11T10:15:18Z"}, "message": "tree-ssa-loop.c (pass_loop_prefetch): Change name to aprefetch.\n\n\t* tree-ssa-loop.c (pass_loop_prefetch): Change name to aprefetch.\n\t* tree-ssa-loop-prefetch.c (dump_mem_ref): Fix target file.\n\t(tree_ssa_prefetch_arrays): Do not dump for removed loops.\n\nFrom-SVN: r118691", "tree": {"sha": "173ea7590696b075f36009d5be9b122afdc7fe17", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/173ea7590696b075f36009d5be9b122afdc7fe17"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e324a72fe6698293540634a6122578ab3d0f5f37", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e324a72fe6698293540634a6122578ab3d0f5f37", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e324a72fe6698293540634a6122578ab3d0f5f37", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e324a72fe6698293540634a6122578ab3d0f5f37/comments", "author": null, "committer": null, "parents": [{"sha": "6d40c489243bfbdc3a5134389ff51f12b62308bc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d40c489243bfbdc3a5134389ff51f12b62308bc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d40c489243bfbdc3a5134389ff51f12b62308bc"}], "stats": {"total": 15, "additions": 11, "deletions": 4}, "files": [{"sha": "59ecc97b08e2f76bbaf6781df57f7ff22e171c0c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e324a72fe6698293540634a6122578ab3d0f5f37/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e324a72fe6698293540634a6122578ab3d0f5f37/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e324a72fe6698293540634a6122578ab3d0f5f37", "patch": "@@ -1,3 +1,9 @@\n+2006-11-11  Zdenek Dvorak <dvorakz@suse.cz>\n+\n+\t* tree-ssa-loop.c (pass_loop_prefetch): Change name to aprefetch.\n+\t* tree-ssa-loop-prefetch.c (dump_mem_ref): Fix target file.\n+\t(tree_ssa_prefetch_arrays): Do not dump for removed loops.\n+\n 2006-11-11  Richard Sandiford  <richard@codesourcery.com>\n \n \tPR middle-end/27528"}, {"sha": "f34214e42760e9924e906a91718dd6226d311c4e", "filename": "gcc/tree-ssa-loop-prefetch.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e324a72fe6698293540634a6122578ab3d0f5f37/gcc%2Ftree-ssa-loop-prefetch.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e324a72fe6698293540634a6122578ab3d0f5f37/gcc%2Ftree-ssa-loop-prefetch.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-prefetch.c?ref=e324a72fe6698293540634a6122578ab3d0f5f37", "patch": "@@ -217,7 +217,7 @@ dump_mem_ref (FILE *file, struct mem_ref *ref)\n   fprintf (file, HOST_WIDE_INT_PRINT_DEC, ref->group->step);\n   fprintf (file, \")\\n\");\n \n-  fprintf (dump_file, \"  delta \");\n+  fprintf (file, \"  delta \");\n   fprintf (file, HOST_WIDE_INT_PRINT_DEC, ref->delta);\n   fprintf (file, \"\\n\");\n \n@@ -1048,12 +1048,13 @@ tree_ssa_prefetch_arrays (struct loops *loops)\n   for (i = loops->num - 1; i > 0; i--)\n     {\n       loop = loops->parray[i];\n+      if (!loop)\n+\tcontinue;\n \n       if (dump_file && (dump_flags & TDF_DETAILS))\n \tfprintf (dump_file, \"Processing loop %d:\\n\", loop->num);\n \n-      if (loop)\n-\tunrolled |= loop_prefetch_arrays (loops, loop);\n+      unrolled |= loop_prefetch_arrays (loops, loop);\n \n       if (dump_file && (dump_flags & TDF_DETAILS))\n \tfprintf (dump_file, \"\\n\\n\");"}, {"sha": "f647cdcdd275f42ec3642bd62b785f4e5f622da7", "filename": "gcc/tree-ssa-loop.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e324a72fe6698293540634a6122578ab3d0f5f37/gcc%2Ftree-ssa-loop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e324a72fe6698293540634a6122578ab3d0f5f37/gcc%2Ftree-ssa-loop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop.c?ref=e324a72fe6698293540634a6122578ab3d0f5f37", "patch": "@@ -426,7 +426,7 @@ gate_tree_ssa_loop_prefetch (void)\n \n struct tree_opt_pass pass_loop_prefetch =\n {\n-  \"prefetch\",\t\t\t\t/* name */\n+  \"aprefetch\",\t\t\t\t/* name */\n   gate_tree_ssa_loop_prefetch,\t\t/* gate */\n   tree_ssa_loop_prefetch,\t       \t/* execute */\n   NULL,\t\t\t\t\t/* sub */"}]}