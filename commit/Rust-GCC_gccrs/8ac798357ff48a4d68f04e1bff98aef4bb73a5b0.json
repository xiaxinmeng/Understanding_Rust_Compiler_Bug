{"sha": "8ac798357ff48a4d68f04e1bff98aef4bb73a5b0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGFjNzk4MzU3ZmY0OGE0ZDY4ZjA0ZTFiZmY5OGFlZjRiYjczYTViMA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2011-05-22T20:01:01Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2011-05-22T20:01:01Z"}, "message": "config.gcc (sparc-*-elf*): Add sparc/t-crtin.\n\n\t* config.gcc (sparc-*-elf*): Add sparc/t-crtin.\n\t(sparc-*-rtems*): Likewise.\n\t(sparc64-*-elf*): Likewise.\n\t(sparc64-*-rtems*): Likewise.\n\t(sparc*-*-solaris2*): Likewise.  Remove crti.o crtn.o extra parts.\n\t* config/sparc/t-crtin: New file.\n\t* config/sparc/t-sol2 (crti.o): Delete rule.\n\t(crtn.o): Likewise.\n\t* config/sparc/t-linux64 (EXTRA_MULTILIB_PARTS): Delete.\n\t* config/sparc/t-sol2-64 (EXTRA_MULTILIB_PARTS): Likewise.\n\t* config/sparc/sp64-elf.h (STARTFILE_SPEC): Tidy and add crti.o.\n\t(ENDFILE_SPEC): Add crtn.o.\n\nFrom-SVN: r174041", "tree": {"sha": "b1e445b859b0fd477b9a8e6ff8f8d2a81792924e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b1e445b859b0fd477b9a8e6ff8f8d2a81792924e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8ac798357ff48a4d68f04e1bff98aef4bb73a5b0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ac798357ff48a4d68f04e1bff98aef4bb73a5b0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8ac798357ff48a4d68f04e1bff98aef4bb73a5b0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ac798357ff48a4d68f04e1bff98aef4bb73a5b0/comments", "author": null, "committer": null, "parents": [{"sha": "dc0a3366fc18838066535e6a038141fc9a22e822", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc0a3366fc18838066535e6a038141fc9a22e822", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dc0a3366fc18838066535e6a038141fc9a22e822"}], "stats": {"total": 52, "additions": 29, "deletions": 23}, "files": [{"sha": "b09e75188ed4b766d1a63ce86161b4c42e59f278", "filename": "gcc/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ac798357ff48a4d68f04e1bff98aef4bb73a5b0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ac798357ff48a4d68f04e1bff98aef4bb73a5b0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8ac798357ff48a4d68f04e1bff98aef4bb73a5b0", "patch": "@@ -1,3 +1,18 @@\n+2011-05-22  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* config.gcc (sparc-*-elf*): Add sparc/t-crtin.\n+\t(sparc-*-rtems*): Likewise.\n+\t(sparc64-*-elf*): Likewise.\n+\t(sparc64-*-rtems*): Likewise.\n+\t(sparc*-*-solaris2*): Likewise.  Remove crti.o crtn.o extra parts.\n+\t* config/sparc/t-crtin: New file.\n+\t* config/sparc/t-sol2 (crti.o): Delete rule.\n+\t(crtn.o): Likewise.\n+\t* config/sparc/t-linux64 (EXTRA_MULTILIB_PARTS): Delete.\n+\t* config/sparc/t-sol2-64 (EXTRA_MULTILIB_PARTS): Likewise.\n+\t* config/sparc/sp64-elf.h (STARTFILE_SPEC): Tidy and add crti.o.\n+\t(ENDFILE_SPEC): Add crtn.o.\n+\n 2011-05-22  Tom de Vries  <tom@codesourcery.com>\n \n \tPR middle-end/48689"}, {"sha": "475c4e3cf3ad50fb32faa1288ff1433b99944eaf", "filename": "gcc/config.gcc", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ac798357ff48a4d68f04e1bff98aef4bb73a5b0/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ac798357ff48a4d68f04e1bff98aef4bb73a5b0/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=8ac798357ff48a4d68f04e1bff98aef4bb73a5b0", "patch": "@@ -2439,12 +2439,12 @@ sparc-*-elf*)\n \t\ttmake_file=\"sparc/t-elf\"\n \t\t;;\n \tesac\n-\ttmake_file=\"${tmake_file} sparc/t-crtfm\"\n+\ttmake_file=\"${tmake_file} sparc/t-crtin sparc/t-crtfm\"\n \textra_parts=\"crtbegin.o crtend.o\"\n \t;;\n sparc-*-rtems*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h sparc/sysv4.h sparc/sp-elf.h sparc/rtemself.h rtems.h newlib-stdint.h\"\n-\ttmake_file=\"sparc/t-elf sparc/t-crtfm t-rtems\"\n+\ttmake_file=\"sparc/t-elf sparc/t-crtin sparc/t-crtfm t-rtems\"\n \textra_parts=\"crtbegin.o crtend.o\"\n \t;;\n sparc-*-linux*)\n@@ -2502,7 +2502,7 @@ sparc*-*-solaris2*)\n \t\ttm_file=\"${tm_file} sol2-gld.h sparc/sol2-gld-bi.h\"\n \tfi\n \ttm_file=\"${tm_file} tm-dwarf2.h\"\n-\ttmake_file=\"t-sol2 sparc/t-sol2 sparc/t-sol2-64 sparc/t-crtfm\"\n+\ttmake_file=\"t-sol2 sparc/t-sol2 sparc/t-sol2-64 sparc/t-crtin sparc/t-crtfm\"\n \tif test x$gnu_ld = xyes; then\n \t\ttmake_file=\"$tmake_file t-slibgcc-elf-ver\"\n \telse\n@@ -2515,7 +2515,7 @@ sparc*-*-solaris2*)\n \tcxx_target_objs=\"sol2-c.o\"\n \textra_objs=\"sol2.o\"\n \ttm_p_file=\"${tm_p_file} sol2-protos.h\"\n-\textra_parts=\"crt1.o crti.o crtn.o gcrt1.o gmon.o crtbegin.o crtend.o\"\n+\textra_parts=\"crt1.o gcrt1.o gmon.o crtbegin.o crtend.o\"\n \tcase ${enable_threads}:${have_pthread_h}:${have_thread_h} in\n \t  \"\":yes:* | yes:yes:* )\n \t\tthread_file=posix\n@@ -2529,13 +2529,13 @@ sparc-wrs-vxworks)\n sparc64-*-elf*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h newlib-stdint.h sparc/sysv4.h sparc/sp64-elf.h\"\n \textra_options=\"${extra_options} sparc/little-endian.opt\"\n-\ttmake_file=\"${tmake_file} sparc/t-crtfm\"\n+\ttmake_file=\"${tmake_file} sparc/t-crtin sparc/t-crtfm\"\n \textra_parts=\"crtbegin.o crtend.o\"\n \t;;\n sparc64-*-rtems*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h newlib-stdint.h sparc/sysv4.h sparc/sp64-elf.h sparc/rtemself.h rtems.h\"\n \textra_options=\"${extra_options} sparc/little-endian.opt\"\n-\ttmake_file=\"${tmake_file} sparc/t-crtfm t-rtems\"\n+\ttmake_file=\"${tmake_file} sparc/t-crtin sparc/t-crtfm t-rtems\"\n \textra_parts=\"crtbegin.o crtend.o\"\n \t;;\n sparc64-*-linux*)"}, {"sha": "492f90fd490ca04f5d4b5856c979906e14fe2fd0", "filename": "gcc/config/sparc/sp64-elf.h", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ac798357ff48a4d68f04e1bff98aef4bb73a5b0/gcc%2Fconfig%2Fsparc%2Fsp64-elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ac798357ff48a4d68f04e1bff98aef4bb73a5b0/gcc%2Fconfig%2Fsparc%2Fsp64-elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsp64-elf.h?ref=8ac798357ff48a4d68f04e1bff98aef4bb73a5b0", "patch": "@@ -50,18 +50,13 @@ along with GCC; see the file COPYING3.  If not see\n %{mlittle-endian:-EL} \\\n \"\n \n-/* We need something a little simpler for the embedded environment.\n-   Profiling doesn't really work yet so we just copy the default.  */\n #undef STARTFILE_SPEC\n-#define STARTFILE_SPEC \"\\\n-%{!shared:%{pg:gcrt0.o%s}%{!pg:%{p:mcrt0.o%s}%{!p:crt0.o%s}}} \\\n-crtbegin.o%s \\\n-\"\n+#define STARTFILE_SPEC \"crt0.o%s crti.o%s crtbegin.o%s\"\n \n #undef ENDFILE_SPEC\n #define ENDFILE_SPEC \\\n   \"%{Ofast|ffast-math|funsafe-math-optimizations:crtfastmath.o%s} \\\n-   crtend.o%s\"\n+   crtend.o%s crtn.o%s\"\n \n /* Use the default (for now).  */\n #undef LIB_SPEC"}, {"sha": "2612bac89f663d988378a07cd107970fecbd2cc5", "filename": "gcc/config/sparc/t-crtin", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ac798357ff48a4d68f04e1bff98aef4bb73a5b0/gcc%2Fconfig%2Fsparc%2Ft-crtin", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ac798357ff48a4d68f04e1bff98aef4bb73a5b0/gcc%2Fconfig%2Fsparc%2Ft-crtin", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Ft-crtin?ref=8ac798357ff48a4d68f04e1bff98aef4bb73a5b0", "patch": "@@ -0,0 +1,6 @@\n+EXTRA_PARTS += crti.o crtn.o\n+\n+$(T)crti.o: $(srcdir)/config/sparc/sol2-ci.asm $(GCC_PASSES)\n+\t$(GCC_FOR_TARGET) $(MULTILIB_CFLAGS) -c -o $(T)crti.o -x assembler-with-cpp $(srcdir)/config/sparc/sol2-ci.asm\n+$(T)crtn.o: $(srcdir)/config/sparc/sol2-cn.asm $(GCC_PASSES)\n+\t$(GCC_FOR_TARGET) $(MULTILIB_CFLAGS) -c -o $(T)crtn.o -x assembler-with-cpp $(srcdir)/config/sparc/sol2-cn.asm"}, {"sha": "74d04898d9f7695d97caed5eb637279127e0c94b", "filename": "gcc/config/sparc/t-linux64", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ac798357ff48a4d68f04e1bff98aef4bb73a5b0/gcc%2Fconfig%2Fsparc%2Ft-linux64", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ac798357ff48a4d68f04e1bff98aef4bb73a5b0/gcc%2Fconfig%2Fsparc%2Ft-linux64", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Ft-linux64?ref=8ac798357ff48a4d68f04e1bff98aef4bb73a5b0", "patch": "@@ -31,9 +31,6 @@ MULTILIB_OSDIRNAMES = ../lib64 $(if $(wildcard $(shell echo $(SYSTEM_HEADER_DIR)\n LIBGCC = stmp-multilib\n INSTALL_LIBGCC = install-multilib\n \n-EXTRA_MULTILIB_PARTS=crtbegin.o crtend.o crtbeginS.o crtendS.o crtbeginT.o \\\n-\tcrtfastmath.o\n-\n CRTSTUFF_T_CFLAGS = `if test x$$($(GCC_FOR_TARGET) $(MULTILIB_CFLAGS) \\\n \t\t\t\t -print-multi-os-directory) \\\n \t\t\t= x../lib64; then echo -mcmodel=medany; fi`"}, {"sha": "b7f665b1b7b2c2800b04f1b9eea03b864dcf982b", "filename": "gcc/config/sparc/t-sol2", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ac798357ff48a4d68f04e1bff98aef4bb73a5b0/gcc%2Fconfig%2Fsparc%2Ft-sol2", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ac798357ff48a4d68f04e1bff98aef4bb73a5b0/gcc%2Fconfig%2Fsparc%2Ft-sol2", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Ft-sol2?ref=8ac798357ff48a4d68f04e1bff98aef4bb73a5b0", "patch": "@@ -26,10 +26,6 @@ $(T)gmon.o:\t$(srcdir)/config/sparc/gmon-sol2.c $(GCC_PASSES) \\\n # Assemble startup files.\n $(T)crt1.o: $(srcdir)/config/sparc/sol2-c1.asm $(GCC_PASSES)\n \t$(GCC_FOR_TARGET) $(MULTILIB_CFLAGS) -c -o $(T)crt1.o -x assembler-with-cpp $(srcdir)/config/sparc/sol2-c1.asm\n-$(T)crti.o: $(srcdir)/config/sparc/sol2-ci.asm $(GCC_PASSES)\n-\t$(GCC_FOR_TARGET) $(MULTILIB_CFLAGS) -c -o $(T)crti.o -x assembler-with-cpp $(srcdir)/config/sparc/sol2-ci.asm\n-$(T)crtn.o: $(srcdir)/config/sparc/sol2-cn.asm $(GCC_PASSES)\n-\t$(GCC_FOR_TARGET) $(MULTILIB_CFLAGS) -c -o $(T)crtn.o -x assembler-with-cpp $(srcdir)/config/sparc/sol2-cn.asm\n $(T)gcrt1.o: $(srcdir)/config/sparc/sol2-c1.asm $(GCC_PASSES)\n \t$(GCC_FOR_TARGET) $(MULTILIB_CFLAGS) -c -DGCRT1 -o $(T)gcrt1.o -x assembler-with-cpp $(srcdir)/config/sparc/sol2-c1.asm\n "}, {"sha": "1802239d3cf9a0c2fb3c32edfe430e981c6d92a4", "filename": "gcc/config/sparc/t-sol2-64", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ac798357ff48a4d68f04e1bff98aef4bb73a5b0/gcc%2Fconfig%2Fsparc%2Ft-sol2-64", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ac798357ff48a4d68f04e1bff98aef4bb73a5b0/gcc%2Fconfig%2Fsparc%2Ft-sol2-64", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Ft-sol2-64?ref=8ac798357ff48a4d68f04e1bff98aef4bb73a5b0", "patch": "@@ -5,6 +5,3 @@ MULTILIB_OSDIRNAMES = . sparcv9\n \n LIBGCC = stmp-multilib\n INSTALL_LIBGCC = install-multilib\n-\n-EXTRA_MULTILIB_PARTS=crtbegin.o crtend.o gmon.o crt1.o crti.o crtn.o gcrt1.o \\\n-\tcrtfastmath.o"}]}