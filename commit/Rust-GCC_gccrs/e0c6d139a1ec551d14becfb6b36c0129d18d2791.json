{"sha": "e0c6d139a1ec551d14becfb6b36c0129d18d2791", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTBjNmQxMzlhMWVjNTUxZDE0YmVjZmI2YjM2YzAxMjlkMThkMjc5MQ==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1998-10-28T00:06:22Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-10-28T00:06:22Z"}, "message": "toplev.c (compile_file): Call allocate_reg_info to free register table memory.\n\n        * toplev.c (compile_file): Call allocate_reg_info to free register\n        table memory.\n        * rtl.h (allocate_reg_info): Declare.\n\nFrom-SVN: r23384", "tree": {"sha": "3184854ceaea3198aea54372f744aace3c6590dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3184854ceaea3198aea54372f744aace3c6590dc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e0c6d139a1ec551d14becfb6b36c0129d18d2791", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0c6d139a1ec551d14becfb6b36c0129d18d2791", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e0c6d139a1ec551d14becfb6b36c0129d18d2791", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0c6d139a1ec551d14becfb6b36c0129d18d2791/comments", "author": null, "committer": null, "parents": [{"sha": "febc6f831a2bc4eabee27cc3e221efa48bd03c94", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/febc6f831a2bc4eabee27cc3e221efa48bd03c94", "html_url": "https://github.com/Rust-GCC/gccrs/commit/febc6f831a2bc4eabee27cc3e221efa48bd03c94"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "6d32f11b2a7a7d0866a28463e3263bcd98f6cc22", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0c6d139a1ec551d14becfb6b36c0129d18d2791/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0c6d139a1ec551d14becfb6b36c0129d18d2791/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e0c6d139a1ec551d14becfb6b36c0129d18d2791", "patch": "@@ -4,6 +4,10 @@\n \n Wed Oct 28 00:10:35 1998  Jeffrey A Law  (law@cygnus.com)\n \n+\t* toplev.c (compile_file): Call allocate_reg_info to free register\n+\ttable memory.\n+\t* rtl.h (allocate_reg_info): Declare.\n+\n \t* PROJECTS: Remove entry for local spilling.\n \n \t* final.c (cleanup_subreg_operands): New function."}, {"sha": "0d7ffb77a8e48d176252dbf2eb11631c6f18f3de", "filename": "gcc/rtl.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0c6d139a1ec551d14becfb6b36c0129d18d2791/gcc%2Frtl.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0c6d139a1ec551d14becfb6b36c0129d18d2791/gcc%2Frtl.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtl.h?ref=e0c6d139a1ec551d14becfb6b36c0129d18d2791", "patch": "@@ -1009,6 +1009,9 @@ extern rtx find_use_as_address\t\tPROTO((rtx, rtx, HOST_WIDE_INT));\n \n extern int max_parallel;\n \n+/* Free up register info memory.  */\n+extern void allocate_reg_info\t\tPROTO((size_t, int, int));\n+\n /* recog.c */\n extern int asm_noperands\t\tPROTO((rtx));\n extern char *decode_asm_operands\tPROTO((rtx, rtx *, rtx **, char **, enum machine_mode *));"}, {"sha": "24b7c5ca9d125dbb8b8660ac5b84ea10784ea3e8", "filename": "gcc/toplev.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0c6d139a1ec551d14becfb6b36c0129d18d2791/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0c6d139a1ec551d14becfb6b36c0129d18d2791/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=e0c6d139a1ec551d14becfb6b36c0129d18d2791", "patch": "@@ -3067,6 +3067,7 @@ compile_file (name)\n   ASM_FILE_END (asm_out_file);\n #endif\n \n+\n   /* Language-specific end of compilation actions.  */\n  finish_syntax:\n   lang_finish ();\n@@ -3097,6 +3098,9 @@ compile_file (name)\n       && (ferror (asm_out_file) != 0 || fclose (asm_out_file) != 0))\n     fatal_io_error (asm_file_name);\n \n+  /* Free up memory for the benefit of leak detectors.  */\n+  allocate_reg_info (-1, 0, 0);\n+\n   /* Print the times.  */\n \n   if (! quiet_flag)"}]}