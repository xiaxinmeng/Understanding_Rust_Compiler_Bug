{"sha": "e8738e985e0f68605beadaff521afbb4033c6c80", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTg3MzhlOTg1ZTBmNjg2MDViZWFkYWZmNTIxYWZiYjQwMzNjNmM4MA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-01-31T14:23:07Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-01-31T14:23:07Z"}, "message": "syscall: Don't use PtraceRegs if it is not defined.\n\nFrom-SVN: r183758", "tree": {"sha": "5ca4ef3af42f636b13d4cd59ca56beb3a1f4e7af", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5ca4ef3af42f636b13d4cd59ca56beb3a1f4e7af"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e8738e985e0f68605beadaff521afbb4033c6c80", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8738e985e0f68605beadaff521afbb4033c6c80", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e8738e985e0f68605beadaff521afbb4033c6c80", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8738e985e0f68605beadaff521afbb4033c6c80/comments", "author": null, "committer": null, "parents": [{"sha": "458842fb3819b2c4c2289476084f045714dd4738", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/458842fb3819b2c4c2289476084f045714dd4738", "html_url": "https://github.com/Rust-GCC/gccrs/commit/458842fb3819b2c4c2289476084f045714dd4738"}], "stats": {"total": 102, "additions": 62, "deletions": 40}, "files": [{"sha": "7e88d04026e9106c3fd70e62af447d8187b430b7", "filename": "libgo/go/syscall/libcall_linux.go", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8738e985e0f68605beadaff521afbb4033c6c80/libgo%2Fgo%2Fsyscall%2Flibcall_linux.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8738e985e0f68605beadaff521afbb4033c6c80/libgo%2Fgo%2Fsyscall%2Flibcall_linux.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fsyscall%2Flibcall_linux.go?ref=e8738e985e0f68605beadaff521afbb4033c6c80", "patch": "@@ -139,14 +139,6 @@ func PtracePokeData(pid int, addr uintptr, data []byte) (count int, err error) {\n \treturn ptracePoke(PTRACE_POKEDATA, PTRACE_PEEKDATA, pid, addr, data)\n }\n \n-func PtraceGetRegs(pid int, regsout *PtraceRegs) (err error) {\n-\treturn ptrace(PTRACE_GETREGS, pid, 0, uintptr(unsafe.Pointer(regsout)))\n-}\n-\n-func PtraceSetRegs(pid int, regs *PtraceRegs) (err error) {\n-\treturn ptrace(PTRACE_SETREGS, pid, 0, uintptr(unsafe.Pointer(regs)))\n-}\n-\n func PtraceSetOptions(pid int, options int) (err error) {\n \treturn ptrace(PTRACE_SETOPTIONS, pid, 0, uintptr(options))\n }"}, {"sha": "9a988a5dca2263a9cf65fc458f15260dd1472a02", "filename": "libgo/go/syscall/syscall_linux_386.go", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8738e985e0f68605beadaff521afbb4033c6c80/libgo%2Fgo%2Fsyscall%2Fsyscall_linux_386.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8738e985e0f68605beadaff521afbb4033c6c80/libgo%2Fgo%2Fsyscall%2Fsyscall_linux_386.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fsyscall%2Fsyscall_linux_386.go?ref=e8738e985e0f68605beadaff521afbb4033c6c80", "patch": "@@ -6,10 +6,20 @@\n \n package syscall\n \n+import \"unsafe\"\n+\n func (r *PtraceRegs) PC() uint64 {\n-\treturn uint64(uint32(r.Eip));\n+\treturn uint64(uint32(r.Eip))\n }\n \n func (r *PtraceRegs) SetPC(pc uint64) {\n-\tr.Eip = int32(pc);\n+\tr.Eip = int32(pc)\n+}\n+\n+func PtraceGetRegs(pid int, regsout *PtraceRegs) (err error) {\n+\treturn ptrace(PTRACE_GETREGS, pid, 0, uintptr(unsafe.Pointer(regsout)))\n+}\n+\n+func PtraceSetRegs(pid int, regs *PtraceRegs) (err error) {\n+\treturn ptrace(PTRACE_SETREGS, pid, 0, uintptr(unsafe.Pointer(regs)))\n }"}, {"sha": "713546cb0579dc7ed666a99c96d84ac37a4db788", "filename": "libgo/go/syscall/syscall_linux_alpha.go", "status": "modified", "additions": 38, "deletions": 28, "changes": 66, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8738e985e0f68605beadaff521afbb4033c6c80/libgo%2Fgo%2Fsyscall%2Fsyscall_linux_alpha.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8738e985e0f68605beadaff521afbb4033c6c80/libgo%2Fgo%2Fsyscall%2Fsyscall_linux_alpha.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fsyscall%2Fsyscall_linux_alpha.go?ref=e8738e985e0f68605beadaff521afbb4033c6c80", "patch": "@@ -6,42 +6,52 @@\n \n package syscall\n \n+import \"unsafe\"\n+\n type PtraceRegs struct {\n-\tR0 uint64\n-\tR1 uint64\n-\tR2 uint64\n-\tR3 uint64\n-\tR4 uint64\n-\tR5 uint64\n-\tR6 uint64\n-\tR7 uint64\n-\tR8 uint64\n-\tR19 uint64\n-\tR20 uint64\n-\tR21 uint64\n-\tR22 uint64\n-\tR23 uint64\n-\tR24 uint64\n-\tR25 uint64\n-\tR26 uint64\n-\tR27 uint64\n-\tR28 uint64\n-\tHae uint64\n+\tR0      uint64\n+\tR1      uint64\n+\tR2      uint64\n+\tR3      uint64\n+\tR4      uint64\n+\tR5      uint64\n+\tR6      uint64\n+\tR7      uint64\n+\tR8      uint64\n+\tR19     uint64\n+\tR20     uint64\n+\tR21     uint64\n+\tR22     uint64\n+\tR23     uint64\n+\tR24     uint64\n+\tR25     uint64\n+\tR26     uint64\n+\tR27     uint64\n+\tR28     uint64\n+\tHae     uint64\n \tTrap_a0 uint64\n \tTrap_a1 uint64\n \tTrap_a2 uint64\n-\tPs uint64\n-\tPc uint64\n-\tGp uint64\n-\tR16 uint64\n-\tR17 uint64\n-\tR18 uint64\n+\tPs      uint64\n+\tPc      uint64\n+\tGp      uint64\n+\tR16     uint64\n+\tR17     uint64\n+\tR18     uint64\n }\n \n func (r *PtraceRegs) PC() uint64 {\n-\treturn r.Pc;\n+\treturn r.Pc\n }\n \n func (r *PtraceRegs) SetPC(pc uint64) {\n-\tr.Pc = pc;\n+\tr.Pc = pc\n+}\n+\n+func PtraceGetRegs(pid int, regsout *PtraceRegs) (err error) {\n+\treturn ptrace(PTRACE_GETREGS, pid, 0, uintptr(unsafe.Pointer(regsout)))\n+}\n+\n+func PtraceSetRegs(pid int, regs *PtraceRegs) (err error) {\n+\treturn ptrace(PTRACE_SETREGS, pid, 0, uintptr(unsafe.Pointer(regs)))\n }"}, {"sha": "609faed06d438d7885e9af9deb7a7383fa54e38b", "filename": "libgo/go/syscall/syscall_linux_amd64.go", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8738e985e0f68605beadaff521afbb4033c6c80/libgo%2Fgo%2Fsyscall%2Fsyscall_linux_amd64.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8738e985e0f68605beadaff521afbb4033c6c80/libgo%2Fgo%2Fsyscall%2Fsyscall_linux_amd64.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fsyscall%2Fsyscall_linux_amd64.go?ref=e8738e985e0f68605beadaff521afbb4033c6c80", "patch": "@@ -6,10 +6,20 @@\n \n package syscall\n \n+import \"unsafe\"\n+\n func (r *PtraceRegs) PC() uint64 {\n-\treturn r.Rip;\n+\treturn r.Rip\n }\n \n func (r *PtraceRegs) SetPC(pc uint64) {\n-\tr.Rip = pc;\n+\tr.Rip = pc\n+}\n+\n+func PtraceGetRegs(pid int, regsout *PtraceRegs) (err error) {\n+\treturn ptrace(PTRACE_GETREGS, pid, 0, uintptr(unsafe.Pointer(regsout)))\n+}\n+\n+func PtraceSetRegs(pid int, regs *PtraceRegs) (err error) {\n+\treturn ptrace(PTRACE_SETREGS, pid, 0, uintptr(unsafe.Pointer(regs)))\n }"}]}