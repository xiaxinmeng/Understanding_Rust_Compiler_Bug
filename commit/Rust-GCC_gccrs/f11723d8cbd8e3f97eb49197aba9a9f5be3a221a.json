{"sha": "f11723d8cbd8e3f97eb49197aba9a9f5be3a221a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjExNzIzZDhjYmQ4ZTNmOTdlYjQ5MTk3YWJhOWE5ZjViZTNhMjIxYQ==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2014-08-27T19:40:43Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@gcc.gnu.org", "date": "2014-08-27T19:40:43Z"}, "message": "Convert various INSN accessors in rtl.h to inline functions\n\ngcc/\n2014-08-27  David Malcolm  <dmalcolm@redhat.com>\n\n\t* rtl.h (INSN_UID): Convert from a macro to a pair of inline\n\tfunctions.  Require merely an rtx for now, not an rtx_insn *.\n\t(BLOCK_FOR_INSN): Likewise.\n\t(INSN_LOCATION): Likewise.\n\t(INSN_HAS_LOCATION): Convert from a macro to an inline function.\n\nFrom-SVN: r214586", "tree": {"sha": "4a4d947a3d59c6c66600b895ba10fbb726e347b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4a4d947a3d59c6c66600b895ba10fbb726e347b1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f11723d8cbd8e3f97eb49197aba9a9f5be3a221a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f11723d8cbd8e3f97eb49197aba9a9f5be3a221a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f11723d8cbd8e3f97eb49197aba9a9f5be3a221a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f11723d8cbd8e3f97eb49197aba9a9f5be3a221a/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "bd59c195f646d74e7a8cffb0cdc5aa31c720eb61", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd59c195f646d74e7a8cffb0cdc5aa31c720eb61", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bd59c195f646d74e7a8cffb0cdc5aa31c720eb61"}], "stats": {"total": 46, "additions": 40, "deletions": 6}, "files": [{"sha": "eaab05edb711ac158c4f538708c1223f4af07567", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f11723d8cbd8e3f97eb49197aba9a9f5be3a221a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f11723d8cbd8e3f97eb49197aba9a9f5be3a221a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f11723d8cbd8e3f97eb49197aba9a9f5be3a221a", "patch": "@@ -1,3 +1,11 @@\n+2014-08-27  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* rtl.h (INSN_UID): Convert from a macro to a pair of inline\n+\tfunctions.  Require merely an rtx for now, not an rtx_insn *.\n+\t(BLOCK_FOR_INSN): Likewise.\n+\t(INSN_LOCATION): Likewise.\n+\t(INSN_HAS_LOCATION): Convert from a macro to an inline function.\n+\n 2014-08-27  David Malcolm  <dmalcolm@redhat.com>\n \n \t* rtl.h (PATTERN): Convert this macro into a pair of inline"}, {"sha": "cd77d87e513d78289a4722a18a45ef41f4d2558d", "filename": "gcc/rtl.h", "status": "modified", "additions": 32, "deletions": 6, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f11723d8cbd8e3f97eb49197aba9a9f5be3a221a/gcc%2Frtl.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f11723d8cbd8e3f97eb49197aba9a9f5be3a221a/gcc%2Frtl.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtl.h?ref=f11723d8cbd8e3f97eb49197aba9a9f5be3a221a", "patch": "@@ -1172,8 +1172,16 @@ extern void rtl_check_failed_flag (const char *, const_rtx, const char *,\n \n /* Holds a unique number for each insn.\n    These are not necessarily sequentially increasing.  */\n-#define INSN_UID(INSN) \\\n-  (RTL_INSN_CHAIN_FLAG_CHECK (\"INSN_UID\", (INSN))->u2.insn_uid)\n+inline int INSN_UID (const_rtx insn)\n+{\n+  return RTL_INSN_CHAIN_FLAG_CHECK (\"INSN_UID\",\n+\t\t\t\t    (insn))->u2.insn_uid;\n+}\n+inline int& INSN_UID (rtx insn)\n+{\n+  return RTL_INSN_CHAIN_FLAG_CHECK (\"INSN_UID\",\n+\t\t\t\t    (insn))->u2.insn_uid;\n+}\n \n /* Chain insns together in sequence.  */\n \n@@ -1204,7 +1212,15 @@ inline rtx& SET_NEXT_INSN (rtx insn)\n   return XEXP (insn, 1);\n }\n \n-#define BLOCK_FOR_INSN(INSN) XBBDEF (INSN, 2)\n+inline basic_block BLOCK_FOR_INSN (const_rtx insn)\n+{\n+  return XBBDEF (insn, 2);\n+}\n+\n+inline basic_block& BLOCK_FOR_INSN (rtx insn)\n+{\n+  return XBBDEF (insn, 2);\n+}\n \n /* The body of an insn.  */\n inline rtx PATTERN (const_rtx insn)\n@@ -1217,10 +1233,20 @@ inline rtx& PATTERN (rtx insn)\n   return XEXP (insn, 3);\n }\n \n-#define INSN_LOCATION(INSN) XUINT (INSN, 4)\n+inline unsigned int INSN_LOCATION (const_rtx insn)\n+{\n+  return XUINT (insn, 4);\n+}\n+\n+inline unsigned int& INSN_LOCATION (rtx insn)\n+{\n+  return XUINT (insn, 4);\n+}\n \n-#define INSN_HAS_LOCATION(INSN) ((LOCATION_LOCUS (INSN_LOCATION (INSN)))\\\n-  != UNKNOWN_LOCATION)\n+inline bool INSN_HAS_LOCATION (const_rtx insn)\n+{\n+  return LOCATION_LOCUS (INSN_LOCATION (insn)) != UNKNOWN_LOCATION;\n+}\n \n /* LOCATION of an RTX if relevant.  */\n #define RTL_LOCATION(X) (INSN_P (X) ? \\"}]}