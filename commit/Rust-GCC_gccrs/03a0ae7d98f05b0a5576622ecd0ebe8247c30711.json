{"sha": "03a0ae7d98f05b0a5576622ecd0ebe8247c30711", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDNhMGFlN2Q5OGYwNWIwYTU1NzY2MjJlY2QwZWJlODI0N2MzMDcxMQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@google.com", "date": "2016-02-10T15:14:05Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2016-02-10T15:14:05Z"}, "message": "re PR go/68562 (morestack misaligns stack on x86_64)\n\n\tPR go/68562\n\t* config/i386/morestack.S (__stack_split_initialize): Align\n\tstack.\n\nFrom-SVN: r233273", "tree": {"sha": "42827c6eaeef30ef3113a6fed89a4ba66bed1237", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/42827c6eaeef30ef3113a6fed89a4ba66bed1237"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/03a0ae7d98f05b0a5576622ecd0ebe8247c30711", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03a0ae7d98f05b0a5576622ecd0ebe8247c30711", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03a0ae7d98f05b0a5576622ecd0ebe8247c30711", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03a0ae7d98f05b0a5576622ecd0ebe8247c30711/comments", "author": null, "committer": null, "parents": [{"sha": "e199dd0a2fc0d1ffea997f2ba5e42d4bc4c32518", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e199dd0a2fc0d1ffea997f2ba5e42d4bc4c32518", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e199dd0a2fc0d1ffea997f2ba5e42d4bc4c32518"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "14e838f33fe5a8e1aa6884cd976604fed35bb4f9", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03a0ae7d98f05b0a5576622ecd0ebe8247c30711/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03a0ae7d98f05b0a5576622ecd0ebe8247c30711/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=03a0ae7d98f05b0a5576622ecd0ebe8247c30711", "patch": "@@ -1,3 +1,9 @@\n+2016-02-10  Ian Lance Taylor  <iant@google.com>\n+\n+\tPR go/68562\n+\t* config/i386/morestack.S (__stack_split_initialize): Align\n+\tstack.\n+\n 2016-02-03  Andreas Tobler  <andreast@gcc.gnu.org>\n \n \tPR bootstrap/69611"}, {"sha": "3fc7dc3b5b2e0591649cd6c1508d0288b4eb62e9", "filename": "libgcc/config/i386/morestack.S", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03a0ae7d98f05b0a5576622ecd0ebe8247c30711/libgcc%2Fconfig%2Fi386%2Fmorestack.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03a0ae7d98f05b0a5576622ecd0ebe8247c30711/libgcc%2Fconfig%2Fi386%2Fmorestack.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2Fmorestack.S?ref=03a0ae7d98f05b0a5576622ecd0ebe8247c30711", "patch": "@@ -732,27 +732,30 @@ __stack_split_initialize:\n \n \tleal\t-16000(%esp),%eax\t# We should have at least 16K.\n \tmovl\t%eax,%gs:0x30\n+\tsubl\t$4,%esp\t\t\t# Align stack.\n \tpushl\t$16000\n \tpushl\t%esp\n #ifdef __PIC__\n \tcall\t__generic_morestack_set_initial_sp@PLT\n #else\n \tcall\t__generic_morestack_set_initial_sp\n #endif\n-\taddl\t$8,%esp\n+\taddl\t$12,%esp\n \tret\n \n #else /* defined(__x86_64__) */\n \n \tleaq\t-16000(%rsp),%rax\t# We should have at least 16K.\n \tX86_64_SAVE_NEW_STACK_BOUNDARY (ax)\n+\tsubq\t$8,%rsp\t\t\t# Align stack.\n \tmovq\t%rsp,%rdi\n \tmovq\t$16000,%rsi\n #ifdef __PIC__\n \tcall\t__generic_morestack_set_initial_sp@PLT\n #else\n \tcall\t__generic_morestack_set_initial_sp\n #endif\n+\taddq\t$8,%rsp\n \tret\n \n #endif /* defined(__x86_64__) */"}]}