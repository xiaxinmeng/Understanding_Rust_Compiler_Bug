{"sha": "da55c6dac1184af5d8bb1dbe772574943c6146d7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGE1NWM2ZGFjMTE4NGFmNWQ4YmIxZGJlNzcyNTc0OTQzYzYxNDZkNw==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@axis.com", "date": "2009-11-30T07:13:21Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2009-11-30T07:13:21Z"}, "message": "re PR rtl-optimization/40086 (cris-elf gfortran.dg/forall_1.f90  -O1 execution)\n\n\tPR rtl-optimization/40086\n\t* reorg.c (relax_delay_slots): When looking for redundant insn at\n\tthe branch target, use next_real_insn, not next_active_insn.\n\nFrom-SVN: r154751", "tree": {"sha": "c95150123040569bbd8625a0a8b356c4adf056b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c95150123040569bbd8625a0a8b356c4adf056b9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/da55c6dac1184af5d8bb1dbe772574943c6146d7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da55c6dac1184af5d8bb1dbe772574943c6146d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/da55c6dac1184af5d8bb1dbe772574943c6146d7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da55c6dac1184af5d8bb1dbe772574943c6146d7/comments", "author": {"login": "hpataxisdotcom", "id": 80339731, "node_id": "MDQ6VXNlcjgwMzM5NzMx", "avatar_url": "https://avatars.githubusercontent.com/u/80339731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hpataxisdotcom", "html_url": "https://github.com/hpataxisdotcom", "followers_url": "https://api.github.com/users/hpataxisdotcom/followers", "following_url": "https://api.github.com/users/hpataxisdotcom/following{/other_user}", "gists_url": "https://api.github.com/users/hpataxisdotcom/gists{/gist_id}", "starred_url": "https://api.github.com/users/hpataxisdotcom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hpataxisdotcom/subscriptions", "organizations_url": "https://api.github.com/users/hpataxisdotcom/orgs", "repos_url": "https://api.github.com/users/hpataxisdotcom/repos", "events_url": "https://api.github.com/users/hpataxisdotcom/events{/privacy}", "received_events_url": "https://api.github.com/users/hpataxisdotcom/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "360d4522c42206d15ea09f4254e4894ff3b628c2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/360d4522c42206d15ea09f4254e4894ff3b628c2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/360d4522c42206d15ea09f4254e4894ff3b628c2"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "2004c7f4c4e92435d0d02934a33ed783dbd1e232", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da55c6dac1184af5d8bb1dbe772574943c6146d7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da55c6dac1184af5d8bb1dbe772574943c6146d7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=da55c6dac1184af5d8bb1dbe772574943c6146d7", "patch": "@@ -1,3 +1,9 @@\n+2009-11-30  Hans-Peter Nilsson  <hp@axis.com>\n+\n+\tPR rtl-optimization/40086\n+\t* reorg.c (relax_delay_slots): When looking for redundant insn at\n+\tthe branch target, use next_real_insn, not next_active_insn.\n+\n 2009-11-30  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* doc/install.texi: Update minimum MPC version to 0.8."}, {"sha": "b1de4bec60f688d0acb9b00ae499c778a50d6edb", "filename": "gcc/reorg.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da55c6dac1184af5d8bb1dbe772574943c6146d7/gcc%2Freorg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da55c6dac1184af5d8bb1dbe772574943c6146d7/gcc%2Freorg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freorg.c?ref=da55c6dac1184af5d8bb1dbe772574943c6146d7", "patch": "@@ -3506,8 +3506,11 @@ relax_delay_slots (rtx first)\n \t    }\n \n \t  /* If the first insn at TARGET_LABEL is redundant with a previous\n-\t     insn, redirect the jump to the following insn process again.  */\n-\t  trial = next_active_insn (target_label);\n+\t     insn, redirect the jump to the following insn and process again.\n+\t     We use next_real_insn instead of next_active_insn so we\n+\t     don't skip USE-markers, or we'll end up with incorrect\n+\t     liveness info.  */\n+\t  trial = next_real_insn (target_label);\n \t  if (trial && GET_CODE (PATTERN (trial)) != SEQUENCE\n \t      && redundant_insn (trial, insn, 0)\n \t      && ! can_throw_internal (trial))"}]}