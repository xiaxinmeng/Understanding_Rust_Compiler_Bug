{"sha": "37ff51a98583e63fb9afe83cf9f4351760149028", "node_id": "C_kwDOANBUbNoAKDM3ZmY1MWE5ODU4M2U2M2ZiOWFmZTgzY2Y5ZjQzNTE3NjAxNDkwMjg", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2022-09-01T10:52:52Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2022-09-01T14:47:30Z"}, "message": "libstdc++: Remove FIXME for ICE with remove_cvref_t in requires-expression\n\nPR c++/99968 is fixed since GCC 12.1 so we can remove the workaround.\n\nlibstdc++-v3/ChangeLog:\n\n\t* include/std/type_traits (is_scoped_enum): Remove workaround.", "tree": {"sha": "f2b865f8e0eecc17e8823811187db6a3cb140cf7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f2b865f8e0eecc17e8823811187db6a3cb140cf7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/37ff51a98583e63fb9afe83cf9f4351760149028", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37ff51a98583e63fb9afe83cf9f4351760149028", "html_url": "https://github.com/Rust-GCC/gccrs/commit/37ff51a98583e63fb9afe83cf9f4351760149028", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37ff51a98583e63fb9afe83cf9f4351760149028/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0cb8d96157a95b7619ef1ccf28051181415fe989", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0cb8d96157a95b7619ef1ccf28051181415fe989", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0cb8d96157a95b7619ef1ccf28051181415fe989"}], "stats": {"total": 11, "additions": 1, "deletions": 10}, "files": [{"sha": "5b8314f24fd797ba934c62062637162bd7395b06", "filename": "libstdc++-v3/include/std/type_traits", "status": "modified", "additions": 1, "deletions": 10, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/37ff51a98583e63fb9afe83cf9f4351760149028/libstdc%2B%2B-v3%2Finclude%2Fstd%2Ftype_traits", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/37ff51a98583e63fb9afe83cf9f4351760149028/libstdc%2B%2B-v3%2Finclude%2Fstd%2Ftype_traits", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Ftype_traits?ref=37ff51a98583e63fb9afe83cf9f4351760149028", "patch": "@@ -3534,20 +3534,11 @@ template<typename _Ret, typename _Fn, typename... _Args>\n \n   template<typename _Tp>\n     requires __is_enum(_Tp)\n-    && requires(_Tp __t) { __t = __t; } // fails if incomplete\n+    && requires(remove_cv_t<_Tp> __t) { __t = __t; } // fails if incomplete\n     struct is_scoped_enum<_Tp>\n     : bool_constant<!requires(_Tp __t, void(*__f)(int)) { __f(__t); }>\n     { };\n \n-  // FIXME remove this partial specialization and use remove_cv_t<_Tp> above\n-  // when PR c++/99968 is fixed.\n-  template<typename _Tp>\n-    requires __is_enum(_Tp)\n-    && requires(_Tp __t) { __t = __t; } // fails if incomplete\n-    struct is_scoped_enum<const _Tp>\n-    : bool_constant<!requires(_Tp __t, void(*__f)(int)) { __f(__t); }>\n-    { };\n-\n   /// @ingroup variable_templates\n   /// @since C++23\n   template<typename _Tp>"}]}