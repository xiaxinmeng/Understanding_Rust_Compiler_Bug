{"sha": "eb3e9f604784afbcd4fd641ad913e92b25effd0b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWIzZTlmNjA0Nzg0YWZiY2Q0ZmQ2NDFhZDkxM2U5MmIyNWVmZmQwYg==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2011-08-22T16:50:10Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2011-08-22T16:50:10Z"}, "message": "* ChangeLog: Fix and enhance ChangeLog entry.\n\nFrom-SVN: r177966", "tree": {"sha": "2ba6161c862154c326c50660a2d7eae63670d202", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2ba6161c862154c326c50660a2d7eae63670d202"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/eb3e9f604784afbcd4fd641ad913e92b25effd0b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eb3e9f604784afbcd4fd641ad913e92b25effd0b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eb3e9f604784afbcd4fd641ad913e92b25effd0b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eb3e9f604784afbcd4fd641ad913e92b25effd0b/comments", "author": null, "committer": null, "parents": [{"sha": "671d9f12cf59f7084a4b5d30865d1bf2d01b08a2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/671d9f12cf59f7084a4b5d30865d1bf2d01b08a2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/671d9f12cf59f7084a4b5d30865d1bf2d01b08a2"}], "stats": {"total": 187, "additions": 79, "deletions": 108}, "files": [{"sha": "dd5531a702dca2973e8b4bb6b023bb5e4d92a2b1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 79, "deletions": 108, "changes": 187, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eb3e9f604784afbcd4fd641ad913e92b25effd0b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eb3e9f604784afbcd4fd641ad913e92b25effd0b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=eb3e9f604784afbcd4fd641ad913e92b25effd0b", "patch": "@@ -239,7 +239,7 @@\n \tIX86_BUILTIN_GATHERSIV8SI, IX86_BUILTIN_GATHERDIV4SI,\n \tIX86_BUILTIN_GATHERDIV8SI.\n \t(ix86_preferred_simd_mode): Support AVX2 modes.\n-\t(ix86_expand_args_builtin): Support AVX2 built-ins.\n+\t(ix86_expand_args_builtin): Support AVX2 builtins.\n \t(ix86_expand_special_args_builtin): Likewise.\n \t(ix86_expand_builtin): Likewise.\n \t* config/i386/i386.md (UNSPEC_VPERMSI): New.\n@@ -252,7 +252,7 @@\n \t* config/i386/immintrin.h: Include avx2intrin.h when __AVX2__\n \tis defined.\n \t* config/i386/predicates.md (const1248_operand): New.\n-\t* config/i386/sse.md (VI_AVX2):\n+\t* config/i386/sse.md (VI_AVX2): New mode iterator.\n \t(VI1_AVX2): Likewise.\n \t(VI2_AVX2): Likewise.\n \t(VI4_AVX2): Likewise.\n@@ -261,111 +261,53 @@\n \t(SSESCALARMODE): Likewise.\n \t(VI12_AVX2): Likewise.\n \t(VI24_AVX2): Likewise.\n-\t(VI124_AVX2): Likeuse_submit_for_speed = 1\n-\twise.\n+\t(VI124_AVX2): Likewise.\n \t(VI248_AVX2): Likewise.\n \t(VI48_AVX2): Likewise.\n \t(VI4SD_AVX2): Likewise.\n \t(V48_AVX2): Likewise.\n-\t(avx2modesuffix): Likewise.\n-\t(sse_avx2): Likewise.\n-\t(sse2_avx2): Likewise.\n+\t(AVX256MODE2P): Likewise.\n+\t(AVXMODE48P_DI): Likewise.\n+\t(sse2_avx2): New mode attribute.\n \t(ssse3_avx2): Likewise.\n \t(sse4_1_avx2): Likewise.\n \t(avx_avx2): Likewise.\n-\t(lshift)<code_oterator>: Likewise.\n-\t(lshift_insn): Likewise.\n-\t(lshift)<code_attr>: Likewise.\n-\t(SSESHORTMODE): Likewise.\n-\t(SSELONGMODE): Likewise.\n-\t(SSEBYTEMODE): Likewise.\n+\t(ssebytemode): Likewise.\n \t(AVXTOSSEMODE): Likewise.\n-\t(shortmode): Likewise.\n-\t(ssescalarmodesuffix): Update.\n-\t(sseunpackmode): Likewise.\n-\t(ssepackmode): Likewise.\n-\t(AVX256MODEI): New.\n-\t(AVX256MODE124): Likewise.\n-\t(AVX256MODE1248): Likewise.\n-\t(AVX256MODE248): Likewise.\n-\t(AVXMODE48P_SI): Likewise.\n-\t(AVXMODE48P_SI): Likewise.\n-\t(AVXMODE48P_DI): Likewise.\n \t(AVXMODE48P_DI): Likewise.\n \t(gthrfirstp): Likewise.\n \t(gthrlastp): Likewise.\n-\t(avx2): Likwise.\n-\t(ssevecsize): Likewise.\n-\t(ssedoublesizemode): Likewise.\n-\t(avxvecmode): Likewise.\n-\t(avxvecsize): Likewise.\n-\t(avxhalfvecmode): Likewise.\n-\t(avxscalarmode): Likewise.\n-\t(avxpermvecmode): Likewise.\n-\t(avxmodesuffixp): Likewise.\n-\t(avxmodesuffix): Likewise.\n-\t(avx2_vec_dupv4sf): New.\n+\t(lshift): New code_iterator\n+\t(lshift): New code attribute.\n+\t(lshift): Likewise.\n+\t(ssescalarmodesuffix): Update.\n+\t(sseunpackmode): Likewise.\n+\t(ssepackmode): Likewise.\n+\t(avx2_vec_dupv4sf): New insn pattern.\n \t(avx2_vec_dupv8sf): Likewise.\n \t(avx2_interleave_highv4di): Likewise.\n \t(avx2_interleave_lowv4di): Likewise.\n-\t(<plusminus_insn><mode>3): Update.\n-\t(*<plusminus_insn><mode>3): Likewise.\n-\t(sse2_<plusminus_insn><mode>3): Rename to ...\n-\t(\"<sse2_avx2>_<plusminus_insn><mode>3): ... this. updated.\n-\t(*sse2_<plusminus_insn><mode>3): Likewise.\n-\t(*<sse2_avx2>_<plusminus_insn><mode>3): Likewise.\n-\t(mulv8hi3): Likewise.\n-\t(mul<mode>3): Likewise.\n-\t(*mulv8hi3): Likewise.\n-\t(*mul<mode>3): Likewise.\n-\t(<s>mulv8hi3_highpart): Likewise.\n-\t(<s>mul<mode>3_highpart): Likewise.\n-\t(*<s>mulv8hi3_highpart): Likewise.\n-\t(*<s>mul<mode>3_highpart): Likewise.\n-\t(avx2_umulv4siv4di3): Likewise.\n-\t(*avx_umulv4siv4di3): Likewise.\n-\t(sse4_1_mulv2siv2di3): Likewise.\n-\t(<sse4_1_avx2>_mul<shortmode><mode>3): Likewise.\n-\t(*sse4_1_mulv2siv2di3): Likewise.\n-\t(*<sse4_1_avx2>_mulv2siv2di3): Likewise.\n-\t(avx2_pmaddwd): New.\n+\t(avx2_umulv4siv4di3): Likewise\n+\t(*avx2_umulv4siv4di3): Likewise\n+\t(avx2_pmaddwd): Likewise.\n \t(*avx2_pmaddwd): Likewise.\n-\t(mulv4si3): Rename to ...\n-\t(mul<mode>3): ... this. Update.\n-\t(*sse4_1_mulv4si3): Likewise.\n-\t(*<sse4_1_avx2>_mul<mode>3): Likewise.\n-\t(ashr<mode>3): Update.\n-\t(avx2_lshrqv4di3): New.\n-\t(lshr<mode>3): Update.\n-\t(avx2_lshlqv4di3): New.\n+\t(avx2_lshrqv4di3): Likewise.\n+\t(avx2_lshlqv4di3): Likewise.\n \t(avx2_lshl<mode>3): Likewise.\n-\t(sse2_ashlv1ti3): Rename to ...\n-\t(<sse2_avx2>_ashl<mode>3): ... this. Update.\n-\t(avx2_<code><mode>3)<umaxmin>: New.\n-\t(*avx2_<code><mode>3)<umaxmin>: Likewise.\n-\t(avx2_<code><mode>3)<smaxmin>: New.\n-\t(*avx2_<code><mode>3)<smaxmin>: Likewise.\n+\t(avx2_<umaxmin:code><mode>3): Likewise.\n+\t(*avx2_<umaxmin:code><mode>3): Likewise.\n+\t(avx2_<smaxmin:code><mode>3): Likewise.\n+\t(*avx2_<smaxmin:code><mode>3): Likewise.\n \t(avx2_eq<mode>3): Likewise.\n \t(*avx2_eq<mode>3): Likewise.\n \t(avx2_gt<mode>3): Likewise.\n-\t(sse2_andnot<mode>3): Rename to ...\n-\t(<sse2_avx2>_andnot<mode>3): ... this. Update.\n-\t(*andnot<mode>3): Update.\n-\t(<code><mode>3)<any_logic>: Update.\n-\t(*<code><mode>3)<any_logic>: Likewise.\n-\t(sse2_packsswb): Rename to ...\n-\t(<sse2_avx2>_packsswb): ... this. Update.\n-\t(sse2_packssdw): Likewise.\n-\t(<sse2_avx2>_packssdw): Likewise.\n-\t(sse2_packuswb): Likewise.\n-\t(<sse2_avx2>_packuswb): Likewise.\n \t(avx2_interleave_highv32qi): New.\n \t(avx2_interleave_lowv32qi): Likewise.\n \t(avx2_interleave_highv16hi): Likewise.\n \t(avx2_interleave_lowv16hi): Likewise.\n \t(avx2_interleave_highv8si): Likewise.\n \t(avx2_interleave_lowv8si): Likewise.\n-\t(avx2_pshufd): New\n+\t(avx2_pshufd): Likewise.\n \t(avx2_pshufd_1): Likewise.\n \t(avx2_pshuflwv3): Likewise.\n \t(avx2_pshuflw_1): Likewise.\n@@ -375,9 +317,7 @@\n \t(*avx2_uavgv32qi3): Likewise.\n \t(avx2_uavgv16hi3): Likewise.\n \t(*avx2_uavgv16hi3): Likewise.\n-\t(sse2_psadbw): Rename to ...\n-\t(<sse2_avx2>_psadbw): ... this. Update.\n-\t(avx2_pmovmskb): New.\n+\t(avx2_pmovmskb): Likewise.\n \t(avx2_phaddwv16hi3): Likewise.\n \t(avx2_phadddv8si3): Likewise.\n \t(avx2_phaddswv16hi3): Likewise.\n@@ -387,23 +327,8 @@\n \t(avx2_pmaddubsw256): Likewise.\n \t(avx2_umulhrswv16hi3): Likewise.\n \t(*avx2_umulhrswv16hi3): Likewise.\n-\t(ssse3_pshufbv16qi3): Rename to ...\n-\t(<ssse3_avx2>_pshufb<mode>3): ... this. Update.\n-\t(ssse3_psign<mode>3): Likewise.\n-\t(<ssse3_avx2>_psign<mode>3): Likewise.\n-\t(ssse3_palignrti): Likewise.\n-\t(<ssse3_avx2>_palignr<mode>): Likewise.\n-\t(abs<mode>2): Likewise.\n-\t(sse4_1_movntdqa): Rename to ...\n-\t(<sse4_1_avx2>_movntdqa): ... this. Update.\n-\t(sse4_1_mpsadbw): Likewise.\n-\t(<sse4_1_avx2>_mpsadbw): Likewise.\n-\t(avx2_packusdw): New.\n-\t(sse4_1_pblendvb): Rename to ...\n-\t(<sse4_1_avx2>_pblendvb): ... this. Update.\n-\t(sse4_1_pblendw): Likewise.\n-\t(<sse4_1_avx2>_pblendw): Likewise.\n-\t(avx2_pblendd<mode>): New.\n+\t(avx2_packusdw): Likewise.\n+\t(avx2_pblendd<mode>): Likewise.\n \t(avx2_<code>v16qiv16hi2): Likewise.\n \t(avx2_<code>v8qiv8si2): Likewise.\n \t(avx2_<code>v8hiv8si2): Likewise.\n@@ -420,12 +345,7 @@\n \t(avx2_vbroadcasti128_<mode>): Likewise.\n \t(avx2_vec_set_lo_v4di): Likewise.\n \t(avx2_vec_set_hi_v4di): Likewise.\n-\t(avx_maskload<ssemodesuffix><avxsizesuffix>): Rename to ...\n-\t(<avx_avx2>_maskload<avx2modesuffix><avxmodesuffix>): ... this.\n-\tUpdate.\n-\t(avx_maskstore<ssemodesuffix><avxsizesuffix>): Likewise.\n-\t(<avx_avx2>_maskstore<avx2modesuffix><avxmodesuffix>): Likewise.\n-\t(*avx2_maskmov<avx2modesuffix><avxmodesuffix>): New.\n+\t(*avx2_maskmov<avx2modesuffix><avxmodesuffix>): Likewise.\n \t(avx2_extracti128): Likewise.\n \t(avx2_inserti128): Likewise.\n \t(avx2_ashrvv8si): Likewise.\n@@ -439,6 +359,57 @@\n \t(*avx2_gatherdi<mode>): Likewise.\n \t(avx2_gatherdi<mode>256): Likewise.\n \t(*avx2_gatherdi<mode>256): Likewise.\n+\t(*<plusminus_insn><mode>3): Update for AVX2.\n+\t(<sse2_avx2>_<plusminus_insn><mode>3): Rename from\n+\tsse2_<plusminus_insn><mode>3.  Use VI12_AVX2 mode iterator.\n+\t(*<sse2_avx2>_<plusminus_insn><mode>3): Rename from\n+\t*sse2_<plusminus_insn><mode>3.  Use VI12_AVX2 mode iterator.\n+\t(mul<mode>3): Rename from mulv8hi3.  Use VI4_AVX2 mode iterator.\n+\t(*mul<mode>3): Rename from *mulv8hi3.  Use VI4_AVX2 mode iterator.\n+\tUpdate for VI2_AVX2.\n+\t(<s>mul<mode>3_highpart): Rename from <s>mulv8hi3_highpart.\n+\tUse VI2_AVX2 mode iterator.\n+\t(*<s>mul<mode>3_highpart): Rename from *<s>mulv8hi3_highpart.\n+\tUse VI2_AVX2 mode iterator.  Update for AVX2.\n+\t(*sse4_1_mulv2siv2di3): Update for AVX2.\n+\t(ashr<mode>3): Use VI24_AVX2 mode iterator.  Update for AVX2.\n+\t(lshr<mode>3): Use VI248_AVX2 mode iterator.  Update for AVX2.\n+\t(<sse2_avx2>_ashl<mode>3): Rename from sse2_ashlv1ti3.  Use VIMAX_AVX2\n+\tmode iterator.  Update for AVX2.\n+\t(<sse2_avx2>_andnot<mode>3): Rename from sse2_andnot<mode>3.  Use VI\n+\tmode iterator.\n+\t(*andnot<mode>3): Likewise.  Update for AVX2.\n+\t(<any_logic:code><mode>3): Use VI mode iterator.\n+\t(*<any_logic:code><mode>3): Likewise.  Update for AVX2.\n+\t(<sse2_avx2>_packsswb): Rename from sse2_packsswb.\n+\tUse VI1_AVX mode iterator.  Update for AVX2.\n+\t(<sse2_avx2>_packssdw):  Rename from sse2_packssdw.\n+\tUse VI2_AVX mode iterator.  Update for AVX2.\n+\t(<sse2_avx2>_packuswb): Rename from sse2_packsswb.\n+\tUse VI1_AVX mode iterator.  Update for AVX2.\n+\t(<sse2_avx2>_psadbw): Rename from sse2_psadbw.\tUse VI8_AVX2\n+\tmode iterator.  Update for AVX2.\n+\t(<ssse3_avx2>_pshufb<mode>3): Rename from ssse3_pshufbv16qi3.  Use\n+\tVi1_AVX2 mode iterator.  Update for AVX2.\n+\t(<ssse3_avx2>_psign<mode>3): Rename from ssse3_psign<mode>3.  Use\n+\tVI124_AVX2 mode iterator.  Update for AVX2.\n+\t(<ssse3_avx2>_palignr<mode>): Rename from ssse3_palignrti.  Use\n+\tSSESCALARMODE mode iterator.  Update for AVX2.\n+\t(abs<mode>2): Use VI124_AVX2 mode iterator.  Update for AVX2.\n+\t(<sse4_1_avx2>_movntdqa): Rename from sse4_1_movntdqa.  Use VI8_AVX2\n+\tmode iterator.  Update for AVX2.\n+\t(<sse4_1_avx2>_mpsadbw): Rename from sse4_1_mpsadbw.  Use VI1_AVX2\n+\tmode iterator.  Update for AVX2.\n+\t(<sse4_1_avx2>_pblendvb): Rename from sse4_1_pblendvb.  Use VI1_AVX2\n+\tmode iterator.  Update for AVX2.\n+\t(<sse4_1_avx2>_pblendw): Rename from sse4_1_pblendvb.  Use VI2_AVX2\n+\tmode iterator.  Update for AVX2.\n+\t(<avx_avx2>_maskload<avx2modesuffix><avxmodesuffix>): Rename from\n+\tavx_maskload<ssemodesuffix><avxsizesuffix>. Use VI48_AVX2\n+\tmode iterator.\n+\t(<avx_avx2>_maskstore<avx2modesuffix><avxmodesuffix>): Rename from\n+\tavx_maskstore<ssemodesuffix><avxsizesuffix>. Use VI48_AVX2\n+\tmode iterator.\n \t* doc/extend.texi: Document AVX2 built-in functions.\n \t* doc/invoke.texi: Document -mavx2.\n "}]}