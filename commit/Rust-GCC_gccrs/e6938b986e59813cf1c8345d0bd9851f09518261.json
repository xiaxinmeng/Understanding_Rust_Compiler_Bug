{"sha": "e6938b986e59813cf1c8345d0bd9851f09518261", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTY5MzhiOTg2ZTU5ODEzY2YxYzgzNDVkMGJkOTg1MWYwOTUxODI2MQ==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2019-08-02T21:28:58Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2019-08-02T21:28:58Z"}, "message": "re PR fortran/90297 (gcc/fortran/resolve.c: 2 * possibly redundant code ?)\n\n2019-08-02  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/90297\n\t* match.c (gfc_match_equivalence): Check that EQUIVALENCE is followed\n\tby '('.\n\n2019-08-02  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/90297\n\t* gfortran.dg/equiv_10.f90: New test.\n\nFrom-SVN: r274031", "tree": {"sha": "aab4e8b4c4725c1c15e740e83574f33fa5c810ea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aab4e8b4c4725c1c15e740e83574f33fa5c810ea"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e6938b986e59813cf1c8345d0bd9851f09518261", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6938b986e59813cf1c8345d0bd9851f09518261", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e6938b986e59813cf1c8345d0bd9851f09518261", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6938b986e59813cf1c8345d0bd9851f09518261/comments", "author": null, "committer": null, "parents": [{"sha": "5440f245c8f2527ec309b20d580c1b4e5ae8898f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5440f245c8f2527ec309b20d580c1b4e5ae8898f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5440f245c8f2527ec309b20d580c1b4e5ae8898f"}], "stats": {"total": 35, "additions": 35, "deletions": 0}, "files": [{"sha": "c0d69ff9e34d1c47a36f59ae1b8ddb8605223990", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e6938b986e59813cf1c8345d0bd9851f09518261/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e6938b986e59813cf1c8345d0bd9851f09518261/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=e6938b986e59813cf1c8345d0bd9851f09518261", "patch": "@@ -1,3 +1,9 @@\n+2019-08-02  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/90297\n+\t* match.c (gfc_match_equivalence): Check that EQUIVALENCE is followed\n+\tby '('.\n+\n 2019-07-30  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \tPR fortran/91296"}, {"sha": "5377e93871ea33b13201e879160793c76b554d8e", "filename": "gcc/fortran/match.c", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e6938b986e59813cf1c8345d0bd9851f09518261/gcc%2Ffortran%2Fmatch.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e6938b986e59813cf1c8345d0bd9851f09518261/gcc%2Ffortran%2Fmatch.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fmatch.c?ref=e6938b986e59813cf1c8345d0bd9851f09518261", "patch": "@@ -5552,6 +5552,15 @@ gfc_match_equivalence (void)\n   gfc_common_head *common_head = NULL;\n   bool common_flag;\n   int cnt;\n+  char c;\n+\n+  /* EQUIVALENCE has been matched.  After gobbling any possible whitespace,\n+     the next character needs to be '('.  Check that here, and return\n+     MATCH_NO for a variable of the form equivalencej.  */\n+  gfc_gobble_whitespace ();\n+  c = gfc_peek_ascii_char ();\n+  if (c != '(')\n+    return MATCH_NO;\n \n   tail = NULL;\n "}, {"sha": "6a3c8708c8fed66107adc8edc97393ba11be8ab0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e6938b986e59813cf1c8345d0bd9851f09518261/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e6938b986e59813cf1c8345d0bd9851f09518261/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e6938b986e59813cf1c8345d0bd9851f09518261", "patch": "@@ -1,3 +1,8 @@\n+2019-08-02  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/90297\n+\t* gfortran.dg/equiv_10.f90: New test.\n+\n 2019-08-02  Marek Polacek  <polacek@redhat.com>\n \n \tPR c++/56428"}, {"sha": "2d6d5c3b6df00a6d70198a0b0f3d4a4aab7e1177", "filename": "gcc/testsuite/gfortran.dg/equiv_10.f90", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e6938b986e59813cf1c8345d0bd9851f09518261/gcc%2Ftestsuite%2Fgfortran.dg%2Fequiv_10.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e6938b986e59813cf1c8345d0bd9851f09518261/gcc%2Ftestsuite%2Fgfortran.dg%2Fequiv_10.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fequiv_10.f90?ref=e6938b986e59813cf1c8345d0bd9851f09518261", "patch": "@@ -0,0 +1,15 @@\n+! { dg-do compile }\n+! PR fortran/90986\n+module mymod\n+  type :: mytyp\n+    integer :: i\n+  end type mytyp\n+contains\n+  subroutine mysub\n+    implicit none\n+    type(mytyp) :: a\n+    integer :: equivalencei,equivalencej\n+    equivalencei = a%i\n+    equivalencej = a%j  ! { dg-error \"is not a member of the\" }\n+  end subroutine mysub\n+end module mymod"}]}