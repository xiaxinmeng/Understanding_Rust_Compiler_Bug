{"sha": "d75e62a9761a136e5bfa20f564cb9671a98f95c1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDc1ZTYyYTk3NjFhMTM2ZTViZmEyMGY1NjRjYjk2NzFhOThmOTVjMQ==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-07-11T21:09:48Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-07-11T21:09:48Z"}, "message": "(finclude): Clean error msf if file_size_and_mode fails.\n\nFrom-SVN: r1558", "tree": {"sha": "49ae7d078df04494dec64c04b428ede8b918131e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/49ae7d078df04494dec64c04b428ede8b918131e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d75e62a9761a136e5bfa20f564cb9671a98f95c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d75e62a9761a136e5bfa20f564cb9671a98f95c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d75e62a9761a136e5bfa20f564cb9671a98f95c1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d75e62a9761a136e5bfa20f564cb9671a98f95c1/comments", "author": null, "committer": null, "parents": [{"sha": "8a958768c8edeebd8aea3e8a76aa145da01b2c87", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a958768c8edeebd8aea3e8a76aa145da01b2c87", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8a958768c8edeebd8aea3e8a76aa145da01b2c87"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "c84e62094cf9ed7b086d22830dcef2bbeaba634f", "filename": "gcc/cccp.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d75e62a9761a136e5bfa20f564cb9671a98f95c1/gcc%2Fcccp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d75e62a9761a136e5bfa20f564cb9671a98f95c1/gcc%2Fcccp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcccp.c?ref=d75e62a9761a136e5bfa20f564cb9671a98f95c1", "patch": "@@ -3972,7 +3972,11 @@ finclude (f, fname, op, system_header_p, dirptr)\n   CHECK_DEPTH (return;);\n \n   if (file_size_and_mode (f, &st_mode, &st_size) < 0)\n-    goto nope;\t\t/* Impossible? */\n+    {\n+      perror_with_name (fname);\n+      close (f);\n+      return;\n+    }\n \n   fp = &instack[indepth + 1];\n   bzero (fp, sizeof (FILE_BUF));"}]}