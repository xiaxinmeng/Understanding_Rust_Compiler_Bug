{"sha": "1ec7a83137275efef6050bb652ac57af2ce05f8e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWVjN2E4MzEzNzI3NWVmZWY2MDUwYmI2NTJhYzU3YWYyY2UwNWY4ZQ==", "commit": {"author": {"name": "James E Wilson", "email": "wilson@specifixinc.com", "date": "2003-12-11T19:04:07Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "2003-12-11T19:04:07Z"}, "message": "Fix for problem with unnecessary volatile mems.\n\nPR target/13132\n* function.c (gen_mem_addressof): When no decl, explicitly clear flag\nbits.\n\nFrom-SVN: r74543", "tree": {"sha": "10bc58864ba022fa4eec97364c57606ab6d548a4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/10bc58864ba022fa4eec97364c57606ab6d548a4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1ec7a83137275efef6050bb652ac57af2ce05f8e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ec7a83137275efef6050bb652ac57af2ce05f8e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ec7a83137275efef6050bb652ac57af2ce05f8e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ec7a83137275efef6050bb652ac57af2ce05f8e/comments", "author": null, "committer": null, "parents": [{"sha": "a9f4e3d2443f96ef52e9dab4bf99206c9570bb3a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a9f4e3d2443f96ef52e9dab4bf99206c9570bb3a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a9f4e3d2443f96ef52e9dab4bf99206c9570bb3a"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "e05d2afd0356a0119c70e728bc48d1ac19c59a5c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ec7a83137275efef6050bb652ac57af2ce05f8e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ec7a83137275efef6050bb652ac57af2ce05f8e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1ec7a83137275efef6050bb652ac57af2ce05f8e", "patch": "@@ -1,3 +1,9 @@\n+2003-12-11  James E Wilson  <wilson@specifixinc.com>\n+\n+\tPR target/13132\n+\t* function.c (gen_mem_addressof): When no decl, explicitly clear flag\n+\tbits.\n+\n 2003-12-12  Nick Clifton  <nickc@redhat.com>\n \n \t* config/m32r/m32r.c: Convert to ISO-C"}, {"sha": "7ae19d50efac8dcbadcc97ac4c13565ec07a8a1c", "filename": "gcc/function.c", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ec7a83137275efef6050bb652ac57af2ce05f8e/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ec7a83137275efef6050bb652ac57af2ce05f8e/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=1ec7a83137275efef6050bb652ac57af2ce05f8e", "patch": "@@ -2868,7 +2868,17 @@ gen_mem_addressof (rtx reg, tree decl, int rescan)\n \tfixup_var_refs (reg, GET_MODE (reg), TREE_UNSIGNED (type), reg, 0);\n     }\n   else if (rescan)\n-    fixup_var_refs (reg, GET_MODE (reg), 0, reg, 0);\n+    {\n+      /* This can only happen during reload.  Clear the same flag bits as\n+\t reload.  */\n+      MEM_VOLATILE_P (reg) = 0;\n+      RTX_UNCHANGING_P (reg) = 0;\n+      MEM_IN_STRUCT_P (reg) = 0;\n+      MEM_SCALAR_P (reg) = 0;\n+      MEM_ATTRS (reg) = 0;\n+\n+      fixup_var_refs (reg, GET_MODE (reg), 0, reg, 0);\n+    }\n \n   return reg;\n }"}]}