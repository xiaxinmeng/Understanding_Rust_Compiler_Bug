{"sha": "ce01559bb70b9d2af4bb3e91866167440c5a66f8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2UwMTU1OWJiNzBiOWQyYWY0YmIzZTkxODY2MTY3NDQwYzVhNjZmOA==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@codesourcery.com", "date": "2003-10-20T21:16:13Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2003-10-20T21:16:13Z"}, "message": "inclhack.def (hpux11_snprintf): New edit.\n\n\t* fixinc/inclhack.def (hpux11_snprintf): New edit.\n\t* fixinc/fixincl.x: Regenerate.\n\t* fixinc/tests/base/stdio.h: Add test for hpux11_snprintf.\n\nFrom-SVN: r72719", "tree": {"sha": "70309f86faed41b48db743aa8529c18d490bb1e5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/70309f86faed41b48db743aa8529c18d490bb1e5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ce01559bb70b9d2af4bb3e91866167440c5a66f8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce01559bb70b9d2af4bb3e91866167440c5a66f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce01559bb70b9d2af4bb3e91866167440c5a66f8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce01559bb70b9d2af4bb3e91866167440c5a66f8/comments", "author": null, "committer": null, "parents": [{"sha": "97ae108d1453bc46ab20ba523134f4da0acf0cf5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97ae108d1453bc46ab20ba523134f4da0acf0cf5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97ae108d1453bc46ab20ba523134f4da0acf0cf5"}], "stats": {"total": 83, "additions": 78, "deletions": 5}, "files": [{"sha": "1e0075cd68028a29bdf016996d290626c0af5782", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce01559bb70b9d2af4bb3e91866167440c5a66f8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce01559bb70b9d2af4bb3e91866167440c5a66f8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ce01559bb70b9d2af4bb3e91866167440c5a66f8", "patch": "@@ -1,3 +1,9 @@\n+2003-10-20  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* fixinc/inclhack.def (hpux11_snprintf): New edit.\n+\t* fixinc/fixincl.x: Regenerate.\n+\t* fixinc/tests/base/stdio.h: Add test for hpux11_snprintf.\n+\n 2003-10-20  Mark Mitchell  <mark@codesourcery.com>\n \n \t* Makefile.in (install-info): Simplify."}, {"sha": "609fc62f3ef0bc3114947ce33b2b0d1476d36f03", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 46, "deletions": 5, "changes": 51, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce01559bb70b9d2af4bb3e91866167440c5a66f8/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce01559bb70b9d2af4bb3e91866167440c5a66f8/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=ce01559bb70b9d2af4bb3e91866167440c5a66f8", "patch": "@@ -2,11 +2,11 @@\n  * \n  * DO NOT EDIT THIS FILE   (fixincl.x)\n  * \n- * It has been AutoGen-ed  Tuesday October 14, 2003 at 02:19:40 AM MEST\n+ * It has been AutoGen-ed  Monday October 20, 2003 at 01:29:54 PM PDT\n  * From the definitions    inclhack.def\n  * and the template file   fixincl\n  */\n-/* DO NOT CVS-MERGE THIS FILE, EITHER Tue Oct 14 02:19:40 MEST 2003\n+/* DO NOT CVS-MERGE THIS FILE, EITHER Mon Oct 20 13:29:54 PDT 2003\n  *\n  * You must regenerate it.  Use the ./genfixes script.\n  *\n@@ -15,7 +15,7 @@\n  * certain ANSI-incompatible system header files which are fixed to work\n  * correctly with ANSI C and placed in a directory that GNU C will search.\n  *\n- * This file contains 159 fixup descriptions.\n+ * This file contains 160 fixup descriptions.\n  *\n  * See README for more information.\n  *\n@@ -2138,6 +2138,41 @@ static const char* apzHpux11_VsnprintfPatch[] = {\n     \"%1 __va_list);\",\n     (char*)NULL };\n \n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Hpux11_Snprintf fix\n+ */\n+tSCC zHpux11_SnprintfName[] =\n+     \"hpux11_snprintf\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zHpux11_SnprintfList[] =\n+  \"|stdio.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+#define apzHpux11_SnprintfMachs (const char**)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zHpux11_SnprintfSelect0[] =\n+       \"(extern int snprintf *\\\\(char *\\\\*, *(|__|_hpux_)size_t,) *(char *\\\\*, *\\\\.\\\\.\\\\.\\\\);)\";\n+\n+#define    HPUX11_SNPRINTF_TEST_CT  1\n+static tTestDesc aHpux11_SnprintfTests[] = {\n+  { TT_EGREP,    zHpux11_SnprintfSelect0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Hpux11_Snprintf\n+ */\n+static const char* apzHpux11_SnprintfPatch[] = {\n+    \"format\",\n+    \"%1 const %3\",\n+    (char*)NULL };\n+\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Hpux8_Bogus_Inlines fix\n@@ -6309,9 +6344,9 @@ static const char* apzX11_SprintfPatch[] = {\n  *\n  *  List of all fixes\n  */\n-#define REGEX_COUNT          179\n+#define REGEX_COUNT          180\n #define MACH_LIST_SIZE_LIMIT 261\n-#define FIX_COUNT            159\n+#define FIX_COUNT            160\n \n /*\n  *  Enumerate the fixes\n@@ -6367,6 +6402,7 @@ typedef enum {\n     HPUX11_SIZE_T_FIXIDX,\n     HPUX11_UINT32_C_FIXIDX,\n     HPUX11_VSNPRINTF_FIXIDX,\n+    HPUX11_SNPRINTF_FIXIDX,\n     HPUX8_BOGUS_INLINES_FIXIDX,\n     HPUX_CTYPE_MACROS_FIXIDX,\n     HPUX_LONG_DOUBLE_FIXIDX,\n@@ -6729,6 +6765,11 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      HPUX11_VSNPRINTF_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aHpux11_VsnprintfTests,   apzHpux11_VsnprintfPatch, 0 },\n \n+  {  zHpux11_SnprintfName,    zHpux11_SnprintfList,\n+     apzHpux11_SnprintfMachs,\n+     HPUX11_SNPRINTF_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aHpux11_SnprintfTests,   apzHpux11_SnprintfPatch, 0 },\n+\n   {  zHpux8_Bogus_InlinesName,    zHpux8_Bogus_InlinesList,\n      apzHpux8_Bogus_InlinesMachs,\n      HPUX8_BOGUS_INLINES_TEST_CT, FD_MACH_ONLY,"}, {"sha": "45a0bb8f7323661075f3a21804cdc6b008d707a3", "filename": "gcc/fixinc/inclhack.def", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce01559bb70b9d2af4bb3e91866167440c5a66f8/gcc%2Ffixinc%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce01559bb70b9d2af4bb3e91866167440c5a66f8/gcc%2Ffixinc%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.def?ref=ce01559bb70b9d2af4bb3e91866167440c5a66f8", "patch": "@@ -1254,6 +1254,25 @@ fix = {\n };\n \n \n+/*\n+ *  Fix hpux 11.00 broken snprintf declaration\n+ *  (third argument is char *, needs to be const char * to prevent\n+ *  spurious warnings with -Wwrite-strings or in C++).\n+ */\n+fix = {\n+    hackname = hpux11_snprintf;\n+    files    = stdio.h;\n+    select   = '(extern int snprintf *\\(char *\\*, *(|__|_hpux_)size_t,)'\n+                                    ' *(char *\\*, *\\.\\.\\.\\);)';\n+    c_fix     = format;\n+    c_fix_arg = '%1 const %3';\n+\n+    test_text = \"extern int snprintf(char *, size_t, char *, ...);\\n\"\n+                \"extern int snprintf(char *, __size_t, char *, ...);\\n\"\n+                \"extern int snprintf(char *, _hpux_size_t, char *, ...);\";\n+};\n+\n+\n /*\n  *  get rid of bogus inline definitions in HP-UX 8.0\n  */"}, {"sha": "73f75b8a323c05f9cbbbd4ea839454de3e1e0890", "filename": "gcc/fixinc/tests/base/stdio.h", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce01559bb70b9d2af4bb3e91866167440c5a66f8/gcc%2Ffixinc%2Ftests%2Fbase%2Fstdio.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce01559bb70b9d2af4bb3e91866167440c5a66f8/gcc%2Ffixinc%2Ftests%2Fbase%2Fstdio.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ftests%2Fbase%2Fstdio.h?ref=ce01559bb70b9d2af4bb3e91866167440c5a66f8", "patch": "@@ -31,6 +31,13 @@ extern int vsnprintf(char *, _hpux_size_t, const char *, __gnuc_va_list);\n #endif  /* HPUX11_VSNPRINTF_CHECK */\n \n \n+#if defined( HPUX11_SNPRINTF_CHECK )\n+extern int snprintf(char *, size_t, const char *, ...);\n+extern int snprintf(char *, _hpux_size_t, const char *, ...);\n+extern int snprintf(char *, _hpux_size_t, const char *, ...);\n+#endif  /* HPUX11_SNPRINTF_CHECK */\n+\n+\n #if defined( IRIX_STDIO_DUMMY_VA_LIST_CHECK )\n extern int printf( const char *, __gnuc_va_list );\n #endif  /* IRIX_STDIO_DUMMY_VA_LIST_CHECK */"}]}