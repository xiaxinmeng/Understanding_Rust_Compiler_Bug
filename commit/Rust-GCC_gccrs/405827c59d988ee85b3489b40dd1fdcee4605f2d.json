{"sha": "405827c59d988ee85b3489b40dd1fdcee4605f2d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDA1ODI3YzU5ZDk4OGVlODViMzQ4OWI0MGRkMWZkY2VlNDYwNWYyZA==", "commit": {"author": {"name": "Bryce McKinlay", "email": "mckinlay@redhat.com", "date": "2006-04-20T23:47:56Z"}, "committer": {"name": "Bryce McKinlay", "email": "bryce@gcc.gnu.org", "date": "2006-04-20T23:47:56Z"}, "message": "re PR libgcj/27170 (Deadlock in garbage collector)\n\n        PR libgcj/27170\n        * gnu/gcj/runtime/natSharedLibLoader.cc: Include gc.h to override\n        dlopen(). From Anthony Green.\n\nFrom-SVN: r113123", "tree": {"sha": "794f6b5b1f84cb2619b01d7c693fcac6e98c7fec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/794f6b5b1f84cb2619b01d7c693fcac6e98c7fec"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/405827c59d988ee85b3489b40dd1fdcee4605f2d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/405827c59d988ee85b3489b40dd1fdcee4605f2d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/405827c59d988ee85b3489b40dd1fdcee4605f2d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/405827c59d988ee85b3489b40dd1fdcee4605f2d/comments", "author": null, "committer": null, "parents": [{"sha": "a46cec70c737dbffdbe6bf9dc6e6f9901b01e3f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a46cec70c737dbffdbe6bf9dc6e6f9901b01e3f9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a46cec70c737dbffdbe6bf9dc6e6f9901b01e3f9"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "428dede3fc00517451559174f940a6e36b13a07c", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/405827c59d988ee85b3489b40dd1fdcee4605f2d/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/405827c59d988ee85b3489b40dd1fdcee4605f2d/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=405827c59d988ee85b3489b40dd1fdcee4605f2d", "patch": "@@ -1,3 +1,9 @@\n+2004-04-20  Bryce McKinlay  <mckinlay@redhat.com>\n+\n+\tPR libgcj/27170\n+\t* gnu/gcj/runtime/natSharedLibLoader.cc: Include gc.h to override\n+\tdlopen(). From Anthony Green.\n+\n 2006-04-20  Tom Tromey  <tromey@redhat.com>\n \n \tPR libgcj/21941:"}, {"sha": "95d2d8ea7a02e74822b6bd80dcba0ef3c1f0e7be", "filename": "libjava/gnu/gcj/runtime/natSharedLibLoader.cc", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/405827c59d988ee85b3489b40dd1fdcee4605f2d/libjava%2Fgnu%2Fgcj%2Fruntime%2FnatSharedLibLoader.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/405827c59d988ee85b3489b40dd1fdcee4605f2d/libjava%2Fgnu%2Fgcj%2Fruntime%2FnatSharedLibLoader.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fgcj%2Fruntime%2FnatSharedLibLoader.cc?ref=405827c59d988ee85b3489b40dd1fdcee4605f2d", "patch": "@@ -10,6 +10,11 @@ details.  */\n \n #include <config.h>\n \n+// If we're using the Boehm GC, then we need this include to override dlopen.\n+#ifdef HAVE_BOEHM_GC\n+#include <gc.h>\n+#endif /* HAVE_BOEHM_GC */\n+\n #include <gcj/cni.h>\n #include <jvm.h>\n #include <execution.h>"}]}