{"sha": "98b6e9dda551b9e488bda94f53326ab4425891d6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OThiNmU5ZGRhNTUxYjllNDg4YmRhOTRmNTMzMjZhYjQ0MjU4OTFkNg==", "commit": {"author": {"name": "Sebastian Pop", "email": "sebastian.pop@amd.com", "date": "2010-04-06T19:20:29Z"}, "committer": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2010-04-06T19:20:29Z"}, "message": "Always execute verify_loop_closed_ssa at LNO level.\n\n2010-04-06  Sebastian Pop  <sebastian.pop@amd.com>\n\n\t* passes.c (execute_function_todo): Call verify_loop_closed_ssa\n\tfor all the passes of the LNO having LOOP_CLOSED_SSA.\n\t* tree-if-conv.c (pass_if_conversion): Remove TODO_verify_loops.\n\t* tree-loop-distribution.c (pass_loop_distribution): Same.\n\t* tree-pass.h (TODO_verify_loops): Removed.\n\t* tree-ssa-loop.c (pass_tree_loop_init): Same.\n\t(pass_lim): Same.\n\t(pass_tree_unswitch): Same.\n\t(pass_predcom): Same.\n\t(pass_vectorize): Same.\n\t(pass_linear_transform): Same.\n\t(pass_graphite_transforms): Same.\n\t(pass_iv_canon): Same.\n\t(pass_complete_unroll): Same.\n\t(pass_complete_unrolli): Same.\n\t(pass_parallelize_loops): Same.\n\t(pass_loop_prefetch): Same.\n\t(pass_iv_optimize): Same.\n\nFrom-SVN: r158020", "tree": {"sha": "55ee25c367d654cf02d596cbbffb8d0158384a82", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/55ee25c367d654cf02d596cbbffb8d0158384a82"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/98b6e9dda551b9e488bda94f53326ab4425891d6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/98b6e9dda551b9e488bda94f53326ab4425891d6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/98b6e9dda551b9e488bda94f53326ab4425891d6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/98b6e9dda551b9e488bda94f53326ab4425891d6/comments", "author": null, "committer": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c86a39477896e0ca2814c0a30fa1035f0c7e5747", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c86a39477896e0ca2814c0a30fa1035f0c7e5747", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c86a39477896e0ca2814c0a30fa1035f0c7e5747"}], "stats": {"total": 56, "additions": 37, "deletions": 19}, "files": [{"sha": "148984080286ed4764ec34c763309d94dbfd1930", "filename": "gcc/ChangeLog", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/98b6e9dda551b9e488bda94f53326ab4425891d6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/98b6e9dda551b9e488bda94f53326ab4425891d6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=98b6e9dda551b9e488bda94f53326ab4425891d6", "patch": "@@ -1,3 +1,24 @@\n+2010-04-06  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\t* passes.c (execute_function_todo): Call verify_loop_closed_ssa\n+\tfor all the passes of the LNO having LOOP_CLOSED_SSA.\n+\t* tree-if-conv.c (pass_if_conversion): Remove TODO_verify_loops.\n+\t* tree-loop-distribution.c (pass_loop_distribution): Same.\n+\t* tree-pass.h (TODO_verify_loops): Removed.\n+\t* tree-ssa-loop.c (pass_tree_loop_init): Same.\n+\t(pass_lim): Same.\n+\t(pass_tree_unswitch): Same.\n+\t(pass_predcom): Same.\n+\t(pass_vectorize): Same.\n+\t(pass_linear_transform): Same.\n+\t(pass_graphite_transforms): Same.\n+\t(pass_iv_canon): Same.\n+\t(pass_complete_unroll): Same.\n+\t(pass_complete_unrolli): Same.\n+\t(pass_parallelize_loops): Same.\n+\t(pass_loop_prefetch): Same.\n+\t(pass_iv_optimize): Same.\n+\n 2010-04-06  Changpeng Fang  <changpeng.fang@amd.com>\n \n \tPR middle-end/32824"}, {"sha": "0d42f9c4af4283cd7d681f8e4c6d801000d72a3a", "filename": "gcc/passes.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/98b6e9dda551b9e488bda94f53326ab4425891d6/gcc%2Fpasses.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/98b6e9dda551b9e488bda94f53326ab4425891d6/gcc%2Fpasses.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpasses.c?ref=98b6e9dda551b9e488bda94f53326ab4425891d6", "patch": "@@ -1262,7 +1262,7 @@ execute_function_todo (void *data)\n     verify_flow_info ();\n   if (flags & TODO_verify_stmts)\n     verify_stmts ();\n-  if (flags & TODO_verify_loops)\n+  if (current_loops && loops_state_satisfies_p (LOOP_CLOSED_SSA))\n     verify_loop_closed_ssa ();\n   if (flags & TODO_verify_rtl_sharing)\n     verify_rtl_sharing ();"}, {"sha": "a0083844c5de300de0c694c5ac9a297a582b0466", "filename": "gcc/tree-if-conv.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/98b6e9dda551b9e488bda94f53326ab4425891d6/gcc%2Ftree-if-conv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/98b6e9dda551b9e488bda94f53326ab4425891d6/gcc%2Ftree-if-conv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-if-conv.c?ref=98b6e9dda551b9e488bda94f53326ab4425891d6", "patch": "@@ -1180,7 +1180,7 @@ struct gimple_opt_pass pass_if_conversion =\n   0,\t\t\t\t\t/* properties_provided */\n   0,\t\t\t\t\t/* properties_destroyed */\n   0,\t\t\t\t\t/* todo_flags_start */\n-  TODO_dump_func | TODO_verify_loops | TODO_verify_stmts | TODO_verify_flow\n+  TODO_dump_func | TODO_verify_stmts | TODO_verify_flow\n                                         /* todo_flags_finish */\n  }\n };"}, {"sha": "384e43c770cf303fcb8fc7782d6b9aa8ff1623b9", "filename": "gcc/tree-loop-distribution.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/98b6e9dda551b9e488bda94f53326ab4425891d6/gcc%2Ftree-loop-distribution.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/98b6e9dda551b9e488bda94f53326ab4425891d6/gcc%2Ftree-loop-distribution.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-loop-distribution.c?ref=98b6e9dda551b9e488bda94f53326ab4425891d6", "patch": "@@ -1243,6 +1243,6 @@ struct gimple_opt_pass pass_loop_distribution =\n   0,\t\t\t\t/* properties_provided */\n   0,\t\t\t\t/* properties_destroyed */\n   0,\t\t\t\t/* todo_flags_start */\n-  TODO_dump_func | TODO_verify_loops            /* todo_flags_finish */\n+  TODO_dump_func                /* todo_flags_finish */\n  }\n };"}, {"sha": "94726722d259a60bae516ae0a827f3da689953be", "filename": "gcc/tree-pass.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/98b6e9dda551b9e488bda94f53326ab4425891d6/gcc%2Ftree-pass.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/98b6e9dda551b9e488bda94f53326ab4425891d6/gcc%2Ftree-pass.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-pass.h?ref=98b6e9dda551b9e488bda94f53326ab4425891d6", "patch": "@@ -238,7 +238,6 @@ struct dump_file_info\n #define TODO_verify_flow\t\t(1 << 3)\n #define TODO_verify_stmts\t\t(1 << 4)\n #define TODO_cleanup_cfg        \t(1 << 5)\n-#define TODO_verify_loops\t\t(1 << 6)\n #define TODO_dump_cgraph\t\t(1 << 7)\n #define TODO_remove_functions\t\t(1 << 8)\n #define TODO_rebuild_frequencies\t(1 << 9)"}, {"sha": "fbf8d59e0dc1526f74263110e7407be11a9070c9", "filename": "gcc/tree-ssa-loop.c", "status": "modified", "additions": 13, "deletions": 15, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/98b6e9dda551b9e488bda94f53326ab4425891d6/gcc%2Ftree-ssa-loop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/98b6e9dda551b9e488bda94f53326ab4425891d6/gcc%2Ftree-ssa-loop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop.c?ref=98b6e9dda551b9e488bda94f53326ab4425891d6", "patch": "@@ -97,7 +97,7 @@ struct gimple_opt_pass pass_tree_loop_init =\n   0,\t\t\t\t\t/* properties_provided */\n   0,\t\t\t\t\t/* properties_destroyed */\n   0,\t\t\t\t\t/* todo_flags_start */\n-  TODO_dump_func | TODO_verify_loops\t/* todo_flags_finish */\n+  TODO_dump_func\t\t\t/* todo_flags_finish */\n  }\n };\n \n@@ -134,7 +134,7 @@ struct gimple_opt_pass pass_lim =\n   0,\t\t\t\t\t/* properties_provided */\n   0,\t\t\t\t\t/* properties_destroyed */\n   0,\t\t\t\t\t/* todo_flags_start */\n-  TODO_dump_func | TODO_verify_loops\t/* todo_flags_finish */\n+  TODO_dump_func\t\t\t/* todo_flags_finish */\n  }\n };\n \n@@ -170,8 +170,7 @@ struct gimple_opt_pass pass_tree_unswitch =\n   0,\t\t\t\t\t/* properties_provided */\n   0,\t\t\t\t\t/* properties_destroyed */\n   0,\t\t\t\t\t/* todo_flags_start */\n-  TODO_ggc_collect | TODO_dump_func\n-    | TODO_verify_loops\t\t \t/* todo_flags_finish */\n+  TODO_ggc_collect | TODO_dump_func \t/* todo_flags_finish */\n  }\n };\n \n@@ -208,7 +207,7 @@ struct gimple_opt_pass pass_predcom =\n   0,\t\t\t\t\t/* properties_provided */\n   0,\t\t\t\t\t/* properties_destroyed */\n   0,\t\t\t\t\t/* todo_flags_start */\n-  TODO_dump_func | TODO_verify_loops\n+  TODO_dump_func\n     | TODO_update_ssa_only_virtuals\t/* todo_flags_finish */\n  }\n };\n@@ -244,7 +243,7 @@ struct gimple_opt_pass pass_vectorize =\n   PROP_cfg | PROP_ssa,                  /* properties_required */\n   0,                                    /* properties_provided */\n   0,                                    /* properties_destroyed */\n-  TODO_verify_loops,\t\t\t/* todo_flags_start */\n+  0,\t\t\t\t\t/* todo_flags_start */\n   TODO_dump_func | TODO_update_ssa\n     | TODO_ggc_collect\t\t\t/* todo_flags_finish */\n  }\n@@ -283,7 +282,7 @@ struct gimple_opt_pass pass_linear_transform =\n   0,\t\t\t\t\t/* properties_provided */\n   0,\t\t\t\t\t/* properties_destroyed */\n   0,\t\t\t\t\t/* todo_flags_start */\n-  TODO_dump_func | TODO_verify_loops\n+  TODO_dump_func\n     | TODO_update_ssa_only_virtuals\n     | TODO_ggc_collect\t\t\t/* todo_flags_finish */\n  }\n@@ -329,7 +328,7 @@ struct gimple_opt_pass pass_graphite_transforms =\n   0,\t\t\t\t\t/* properties_provided */\n   0,\t\t\t\t\t/* properties_destroyed */\n   0,\t\t\t\t\t/* todo_flags_start */\n-  TODO_verify_loops\t\t\t/* todo_flags_finish */\n+  0\t\t\t\t\t/* todo_flags_finish */\n  }\n };\n \n@@ -402,7 +401,7 @@ struct gimple_opt_pass pass_iv_canon =\n   0,\t\t\t\t\t/* properties_provided */\n   0,\t\t\t\t\t/* properties_destroyed */\n   0,\t\t\t\t\t/* todo_flags_start */\n-  TODO_dump_func | TODO_verify_loops\t/* todo_flags_finish */\n+  TODO_dump_func\t\t\t/* todo_flags_finish */\n  }\n };\n \n@@ -501,7 +500,7 @@ struct gimple_opt_pass pass_complete_unroll =\n   0,\t\t\t\t\t/* properties_provided */\n   0,\t\t\t\t\t/* properties_destroyed */\n   0,\t\t\t\t\t/* todo_flags_start */\n-  TODO_dump_func | TODO_verify_loops\n+  TODO_dump_func\n     | TODO_ggc_collect\t\t\t/* todo_flags_finish */\n  }\n };\n@@ -548,7 +547,7 @@ struct gimple_opt_pass pass_complete_unrolli =\n   0,\t\t\t\t\t/* properties_provided */\n   0,\t\t\t\t\t/* properties_destroyed */\n   0,\t\t\t\t\t/* todo_flags_start */\n-  TODO_dump_func | TODO_verify_loops\n+  TODO_dump_func\n     | TODO_ggc_collect \t\t\t/* todo_flags_finish */\n  }\n };\n@@ -587,7 +586,7 @@ struct gimple_opt_pass pass_parallelize_loops =\n   0,\t\t\t\t\t/* properties_provided */\n   0,\t\t\t\t\t/* properties_destroyed */\n   0,\t\t\t\t\t/* todo_flags_start */\n-  TODO_dump_func | TODO_verify_loops\t/* todo_flags_finish */\n+  TODO_dump_func\t\t\t/* todo_flags_finish */\n  }\n };\n \n@@ -623,7 +622,7 @@ struct gimple_opt_pass pass_loop_prefetch =\n   0,\t\t\t\t\t/* properties_provided */\n   0,\t\t\t\t\t/* properties_destroyed */\n   0,\t\t\t\t\t/* todo_flags_start */\n-  TODO_dump_func | TODO_verify_loops\t/* todo_flags_finish */\n+  TODO_dump_func\t\t\t/* todo_flags_finish */\n  }\n };\n \n@@ -660,8 +659,7 @@ struct gimple_opt_pass pass_iv_optimize =\n   0,\t\t\t\t\t/* properties_provided */\n   0,\t\t\t\t\t/* properties_destroyed */\n   0,\t\t\t\t\t/* todo_flags_start */\n-  TODO_dump_func | TODO_verify_loops\n-  | TODO_update_ssa | TODO_ggc_collect\t/* todo_flags_finish */\n+  TODO_dump_func | TODO_update_ssa | TODO_ggc_collect\t/* todo_flags_finish */\n  }\n };\n "}]}