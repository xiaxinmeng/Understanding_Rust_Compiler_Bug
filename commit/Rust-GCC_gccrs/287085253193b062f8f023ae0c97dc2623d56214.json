{"sha": "287085253193b062f8f023ae0c97dc2623d56214", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjg3MDg1MjUzMTkzYjA2MmY4ZjAyM2FlMGM5N2RjMjYyM2Q1NjIxNA==", "commit": {"author": {"name": "William Schmidt", "email": "wschmidt@gcc.gnu.org", "date": "2013-05-06T13:31:39Z"}, "committer": {"name": "William Schmidt", "email": "wschmidt@gcc.gnu.org", "date": "2013-05-06T13:31:39Z"}, "message": "gimple-ssa-strength-reduction.c (slsr_process_phi): Re-enable.\n\ngcc:\n\n2013-05-06  Bill Schmidt  <wschmidt@linux.vnet.ibm.com>\n\n\t* gimple-ssa-strength-reduction.c (slsr_process_phi): Re-enable.\n\t(find_candidates_in_block): Re-enable slsr_process_phi.\n\t(create_phi_basis): Fix double counting of candidate adjustment.\n\ngcc/testsuite:\n\n2013-05-06  Bill Schmidt  <wschmidt@linux.vnet.ibm.com>\n\n\t* gcc.dg/tree-ssa/slsr-32.c: Re-enable.\n\t* gcc.dg/tree-ssa/slsr-33.c: Likewise.\n\t* gcc.dg/tree-ssa/slsr-34.c: Likewise.\n\t* gcc.dg/tree-ssa/slsr-35.c: Likewise.\n\t* gcc.dg/tree-ssa/slsr-36.c: Likewise.\n\t* gcc.dg/tree-ssa/slsr-37.c: Likewise.\n\t* gcc.dg/tree-ssa/slsr-38.c: Likewise.\n\nFrom-SVN: r198627", "tree": {"sha": "6bcc05f542b1bbcd4898ea4200b9651c41d4926f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6bcc05f542b1bbcd4898ea4200b9651c41d4926f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/287085253193b062f8f023ae0c97dc2623d56214", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/287085253193b062f8f023ae0c97dc2623d56214", "html_url": "https://github.com/Rust-GCC/gccrs/commit/287085253193b062f8f023ae0c97dc2623d56214", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/287085253193b062f8f023ae0c97dc2623d56214/comments", "author": null, "committer": null, "parents": [{"sha": "6a927313920b04c44f33ac8f784103236a324ef0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a927313920b04c44f33ac8f784103236a324ef0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6a927313920b04c44f33ac8f784103236a324ef0"}], "stats": {"total": 35, "additions": 18, "deletions": 17}, "files": [{"sha": "6621de19a645efc4cc8d9268ef574f6e5dcb1bc5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/287085253193b062f8f023ae0c97dc2623d56214/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/287085253193b062f8f023ae0c97dc2623d56214/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=287085253193b062f8f023ae0c97dc2623d56214", "patch": "@@ -1,3 +1,9 @@\n+2013-05-06  Bill Schmidt  <wschmidt@linux.vnet.ibm.com>\n+\n+\t* gimple-ssa-strength-reduction.c (slsr_process_phi): Re-enable.\n+\t(find_candidates_in_block): Re-enable slsr_process_phi.\n+\t(create_phi_basis): Fix double counting of candidate adjustment.\n+\n 2013-05-06  Richard Biener  <rguenther@suse.de>\n \n \tPR middle-end/57147"}, {"sha": "01e35dcf96567d6de9d774cbf54b9ee65c836a15", "filename": "gcc/gimple-ssa-strength-reduction.c", "status": "modified", "additions": 1, "deletions": 9, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/287085253193b062f8f023ae0c97dc2623d56214/gcc%2Fgimple-ssa-strength-reduction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/287085253193b062f8f023ae0c97dc2623d56214/gcc%2Fgimple-ssa-strength-reduction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-ssa-strength-reduction.c?ref=287085253193b062f8f023ae0c97dc2623d56214", "patch": "@@ -657,9 +657,6 @@ add_cand_for_stmt (gimple gs, slsr_cand_t c)\n   *slot = c;\n }\n \f\n-// FORNOW: Disable conditional candidate processing until bootstrap\n-// issue can be sorted out for i686-pc-linux-gnu.\n-#if 0\n /* Given PHI which contains a phi statement, determine whether it\n    satisfies all the requirements of a phi candidate.  If so, create\n    a candidate.  Note that a CAND_PHI never has a basis itself, but\n@@ -750,7 +747,6 @@ slsr_process_phi (gimple phi, bool speed)\n   /* Add the candidate to the statement-candidate mapping.  */\n   add_cand_for_stmt (phi, c);\n }\n-#endif\n \n /* Look for the following pattern:\n \n@@ -1523,12 +1519,8 @@ find_candidates_in_block (struct dom_walk_data *walk_data ATTRIBUTE_UNUSED,\n   bool speed = optimize_bb_for_speed_p (bb);\n   gimple_stmt_iterator gsi;\n \n-// FORNOW: Disable conditional candidate processing until bootstrap\n-// issue can be sorted out for i686-pc-linux-gnu.\n-#if 0\n   for (gsi = gsi_start_phis (bb); !gsi_end_p (gsi); gsi_next (&gsi))\n     slsr_process_phi (gsi_stmt (gsi), speed);\n-#endif\n \n   for (gsi = gsi_start_bb (bb); !gsi_end_p (gsi); gsi_next (&gsi))\n     {\n@@ -2098,7 +2090,7 @@ create_phi_basis (slsr_cand_t c, gimple from_phi, tree basis_name,\n \t  feeding_def = gimple_assign_lhs (basis->cand_stmt);\n \telse\n \t  {\n-\t    double_int incr = c->index - basis->index;\n+\t    double_int incr = -basis->index;\n \t    feeding_def = create_add_on_incoming_edge (c, basis_name, incr,\n \t\t\t\t\t\t       e, loc, known_stride);\n \t  }"}, {"sha": "a3b6da7175709169879e9b9c3e969ac1860d1789", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/287085253193b062f8f023ae0c97dc2623d56214/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/287085253193b062f8f023ae0c97dc2623d56214/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=287085253193b062f8f023ae0c97dc2623d56214", "patch": "@@ -1,4 +1,14 @@\n-2013-05-03  Teresa Johnson  <tejohnson@google.com>\n+2013-05-06  Bill Schmidt  <wschmidt@linux.vnet.ibm.com>\n+\n+\t* gcc.dg/tree-ssa/slsr-32.c: Re-enable.\n+\t* gcc.dg/tree-ssa/slsr-33.c: Likewise.\n+\t* gcc.dg/tree-ssa/slsr-34.c: Likewise.\n+\t* gcc.dg/tree-ssa/slsr-35.c: Likewise.\n+\t* gcc.dg/tree-ssa/slsr-36.c: Likewise.\n+\t* gcc.dg/tree-ssa/slsr-37.c: Likewise.\n+\t* gcc.dg/tree-ssa/slsr-38.c: Likewise.\n+\n+2013-05-06  Teresa Johnson  <tejohnson@google.com>\n \n \tPR bootstrap/57154\n \t* gcc.dg/pr57154.c: New test."}, {"sha": "73e67974338760eee26e52dbf04d2ac1bb1a3a0a", "filename": "gcc/testsuite/gcc.dg/tree-ssa/slsr-32.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/287085253193b062f8f023ae0c97dc2623d56214/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fslsr-32.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/287085253193b062f8f023ae0c97dc2623d56214/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fslsr-32.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fslsr-32.c?ref=287085253193b062f8f023ae0c97dc2623d56214", "patch": "@@ -3,7 +3,6 @@\n \n /* { dg-do compile } */\n /* { dg-options \"-O3 -fdump-tree-optimized\" } */\n-/* { dg-skip-if \"\" { *-*-* } } */\n \n int\n f (int s, int c, int i)"}, {"sha": "5cd4276577b89be5b001c64972f65192e4dba2fa", "filename": "gcc/testsuite/gcc.dg/tree-ssa/slsr-33.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/287085253193b062f8f023ae0c97dc2623d56214/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fslsr-33.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/287085253193b062f8f023ae0c97dc2623d56214/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fslsr-33.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fslsr-33.c?ref=287085253193b062f8f023ae0c97dc2623d56214", "patch": "@@ -3,7 +3,6 @@\n \n /* { dg-do compile } */\n /* { dg-options \"-O3 -fdump-tree-optimized\" } */\n-/* { dg-skip-if \"\" { *-*-* } } */\n \n int\n f (int c, int i)"}, {"sha": "3593f869b6bc4452f996c47a9204dc6ad8a16592", "filename": "gcc/testsuite/gcc.dg/tree-ssa/slsr-34.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/287085253193b062f8f023ae0c97dc2623d56214/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fslsr-34.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/287085253193b062f8f023ae0c97dc2623d56214/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fslsr-34.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fslsr-34.c?ref=287085253193b062f8f023ae0c97dc2623d56214", "patch": "@@ -3,7 +3,6 @@\n \n /* { dg-do compile } */\n /* { dg-options \"-O3 -fdump-tree-optimized\" } */\n-/* { dg-skip-if \"\" { *-*-* } } */\n \n extern void\n g (void);"}, {"sha": "3f4d136171ae34d5efc694ea51d4714661e32375", "filename": "gcc/testsuite/gcc.dg/tree-ssa/slsr-35.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/287085253193b062f8f023ae0c97dc2623d56214/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fslsr-35.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/287085253193b062f8f023ae0c97dc2623d56214/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fslsr-35.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fslsr-35.c?ref=287085253193b062f8f023ae0c97dc2623d56214", "patch": "@@ -4,7 +4,6 @@\n \n /* { dg-do compile } */\n /* { dg-options \"-O3 -fdump-tree-optimized\" } */\n-/* { dg-skip-if \"\" { *-*-* } } */\n \n int\n f (int c, int i)"}, {"sha": "8cb09e0cf504c589e3387b8eed770a772af78f5f", "filename": "gcc/testsuite/gcc.dg/tree-ssa/slsr-36.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/287085253193b062f8f023ae0c97dc2623d56214/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fslsr-36.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/287085253193b062f8f023ae0c97dc2623d56214/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fslsr-36.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fslsr-36.c?ref=287085253193b062f8f023ae0c97dc2623d56214", "patch": "@@ -4,7 +4,6 @@\n \n /* { dg-do compile } */\n /* { dg-options \"-O3 -fdump-tree-optimized\" } */\n-/* { dg-skip-if \"\" { *-*-* } } */\n \n int\n f (int s, int c, int i)"}, {"sha": "fb13b20e142584cb1f880f390256f858bcf5c6c6", "filename": "gcc/testsuite/gcc.dg/tree-ssa/slsr-37.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/287085253193b062f8f023ae0c97dc2623d56214/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fslsr-37.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/287085253193b062f8f023ae0c97dc2623d56214/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fslsr-37.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fslsr-37.c?ref=287085253193b062f8f023ae0c97dc2623d56214", "patch": "@@ -4,7 +4,6 @@\n \n /* { dg-do compile } */\n /* { dg-options \"-O3 -fdump-tree-optimized\" } */\n-/* { dg-skip-if \"\" { *-*-* } } */\n \n int\n f (int s, int c, int i)"}, {"sha": "1a0ab79bd55754965499dd8f7faecd2e47f567f9", "filename": "gcc/testsuite/gcc.dg/tree-ssa/slsr-38.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/287085253193b062f8f023ae0c97dc2623d56214/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fslsr-38.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/287085253193b062f8f023ae0c97dc2623d56214/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fslsr-38.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fslsr-38.c?ref=287085253193b062f8f023ae0c97dc2623d56214", "patch": "@@ -4,7 +4,6 @@\n \n /* { dg-do compile } */\n /* { dg-options \"-O3 -fdump-tree-optimized\" } */\n-/* { dg-skip-if \"\" { *-*-* } } */\n \n int\n f (int c, int i)"}]}