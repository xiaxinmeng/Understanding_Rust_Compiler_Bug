{"sha": "d950f2be3733d1bc35901297014f2deaa76d9f8e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDk1MGYyYmUzNzMzZDFiYzM1OTAxMjk3MDE0ZjJkZWFhNzZkOWY4ZQ==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2007-09-04T12:27:38Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2007-09-04T12:27:38Z"}, "message": "re PR c++/14032 (Specialization of inner template using outer template argument doesn't work)\n\n        PR c++/14032\n        * pt.c (most_specialized_class): Substitute outer template\n        arguments into the arguments of a member template partial\n        specialization.\n        (strip_innermost_template_args): New fn.\n\nFrom-SVN: r128077", "tree": {"sha": "bcd0227188c7cf0e9ee1e2ed4b241a9316312f54", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bcd0227188c7cf0e9ee1e2ed4b241a9316312f54"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d950f2be3733d1bc35901297014f2deaa76d9f8e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d950f2be3733d1bc35901297014f2deaa76d9f8e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d950f2be3733d1bc35901297014f2deaa76d9f8e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d950f2be3733d1bc35901297014f2deaa76d9f8e/comments", "author": null, "committer": null, "parents": [{"sha": "dc28490d05f5ef25c5ff24ef946f48f402a20be8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc28490d05f5ef25c5ff24ef946f48f402a20be8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dc28490d05f5ef25c5ff24ef946f48f402a20be8"}], "stats": {"total": 44, "additions": 44, "deletions": 0}, "files": [{"sha": "60cb36aea994c46372d265155ff1ed1ad8556f01", "filename": "gcc/testsuite/g++.dg/template/mem-partial1.C", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d950f2be3733d1bc35901297014f2deaa76d9f8e/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fmem-partial1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d950f2be3733d1bc35901297014f2deaa76d9f8e/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fmem-partial1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fmem-partial1.C?ref=d950f2be3733d1bc35901297014f2deaa76d9f8e", "patch": "@@ -0,0 +1,15 @@\n+// PR c++/14032\n+\n+template <typename T> struct outer {\n+  template <typename T2, typename U>\n+  struct inner {\n+    static int f() { return inner<T,int>::N; };\n+  };\n+\n+  template <typename U>\n+  struct inner<T,U> {\n+    static const int N = 1;\n+  };\n+};\n+\n+int i = outer<int>::inner<double,int>::f();"}, {"sha": "fba3255199d0ebe8d7e7b5871c819cfb74eafd52", "filename": "gcc/testsuite/g++.dg/template/mem-partial2.C", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d950f2be3733d1bc35901297014f2deaa76d9f8e/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fmem-partial2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d950f2be3733d1bc35901297014f2deaa76d9f8e/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fmem-partial2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fmem-partial2.C?ref=d950f2be3733d1bc35901297014f2deaa76d9f8e", "patch": "@@ -0,0 +1,29 @@\n+// PR c++/14032\n+// { dg-do run }\n+\n+template <bool compare>\n+struct outer\n+{\n+  template <bool compare_with,bool second>\n+  struct inner           // unspecialized compare != compare_with\n+  {\n+    static inline bool test()\n+    {\n+      return false;\n+    }\n+  };\n+  template <bool second> // specialization compare == compare_with\n+  struct inner<compare,second>\n+  {\n+    static inline bool test()\n+    {\n+      return true;\n+    }\n+  };\n+};\n+int main ()\n+{\n+  bool b = outer<true>::inner<true,false>::test();\n+\n+  return b != true;\n+}"}]}