{"sha": "3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2IzOWI5NGY4NDYzZmFiZTBhZDFjN2QxZjg5N2ZlMTZmMzVlNGEwYQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1993-04-27T14:58:13Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1993-04-27T14:58:13Z"}, "message": "Base WORD_SWITCH_TAKES_ARG on new macro DEFAULT_WORD_SWITCH_TAKES_ARG\n\nFrom-SVN: r4247", "tree": {"sha": "3465c70e0d23b2c903d7c05c1fc7834ecb846069", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3465c70e0d23b2c903d7c05c1fc7834ecb846069"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a/comments", "author": null, "committer": null, "parents": [{"sha": "ab034cfc0ae8017daee188d4e1ea971d77c30a1a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab034cfc0ae8017daee188d4e1ea971d77c30a1a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab034cfc0ae8017daee188d4e1ea971d77c30a1a"}], "stats": {"total": 50, "additions": 19, "deletions": 31}, "files": [{"sha": "ceeb95f09a0b4a6b1d1c3538d6869e26768ee398", "filename": "gcc/config/i386/osfrose.h", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a/gcc%2Fconfig%2Fi386%2Fosfrose.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a/gcc%2Fconfig%2Fi386%2Fosfrose.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fosfrose.h?ref=3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a", "patch": "@@ -31,10 +31,7 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n \n #undef  WORD_SWITCH_TAKES_ARG\n #define WORD_SWITCH_TAKES_ARG(STR)\t\t\t\t\t\\\n- (!strcmp (STR, \"Tdata\") || !strcmp (STR, \"Ttext\")\t\t\t\\\n-  || !strcmp (STR, \"Tbss\") || !strcmp (STR, \"include\")\t\t\t\\\n-  || !strcmp (STR, \"imacros\") || !strcmp (STR, \"aux-info\")\t\t\\\n-  || !strcmp (STR, \"pic-names\"))\n+ (DEFAULT_WORD_SWITCH_TAKES_ARG (STR) || !strcmp (STR, \"pic-names\"))\n \n #define MASK_HALF_PIC     \t0x40000000\t/* Mask for half-pic code */\n #define MASK_HALF_PIC_DEBUG\t0x20000000\t/* Debug flag */"}, {"sha": "792f50387a96d86902b3e9c5809c0a1dbcb46c66", "filename": "gcc/config/m68k/sun2.h", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a/gcc%2Fconfig%2Fm68k%2Fsun2.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a/gcc%2Fconfig%2Fm68k%2Fsun2.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fsun2.h?ref=3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a", "patch": "@@ -48,10 +48,8 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n /* These compiler options take an argument.  We ignore -target for now.  */\n \n #define WORD_SWITCH_TAKES_ARG(STR)\t\t\t\t\\\n- (!strcmp (STR, \"Tdata\") || !strcmp (STR, \"Ttext\")\t\t\\\n-  || !strcmp (STR, \"Tbss\") || !strcmp (STR, \"include\")\t\t\\\n-  || !strcmp (STR, \"imacros\") || !strcmp (STR, \"target\")\t\\\n-  || !strcmp (STR, \"assert\") || !strcmp (STR, \"aux-info\"))\n+ (DEFAULT_WORD_SWITCH_TAKES_ARG (STR)\t\t\t\t\\\n+  || !strcmp (STR, \"target\") || !strcmp (STR, \"assert\"))\n \n /* Specify what to link with.  */\n "}, {"sha": "b8c67f69fc7a5db5abd73df7e982eb6fa54fe4c5", "filename": "gcc/config/m68k/sun3.h", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a/gcc%2Fconfig%2Fm68k%2Fsun3.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a/gcc%2Fconfig%2Fm68k%2Fsun3.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fsun3.h?ref=3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a", "patch": "@@ -72,10 +72,8 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n /* These compiler options take an argument.  We ignore -target for now.  */\n \n #define WORD_SWITCH_TAKES_ARG(STR)\t\t\t\t\\\n- (!strcmp (STR, \"Tdata\") || !strcmp (STR, \"Ttext\")\t\t\\\n-  || !strcmp (STR, \"Tbss\") || !strcmp (STR, \"include\")\t\t\\\n-  || !strcmp (STR, \"imacros\") || !strcmp (STR, \"target\")\t\\\n-  || !strcmp (STR, \"assert\") || !strcmp (STR, \"aux-info\"))\n+ (DEFAULT_WORD_SWITCH_TAKES_ARG (STR)\t\t\t\t\\\n+  || !strcmp (STR, \"target\") || !strcmp (STR, \"assert\"))\n \n /* -m68000 requires special flags to the assembler.  */\n "}, {"sha": "ae29be8f27e19f164b804618515d6e8e79571eb7", "filename": "gcc/config/mips/osfrose.h", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a/gcc%2Fconfig%2Fmips%2Fosfrose.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a/gcc%2Fconfig%2Fmips%2Fosfrose.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fosfrose.h?ref=3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a", "patch": "@@ -27,10 +27,7 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n #include \"halfpic.h\"\n \n #define WORD_SWITCH_TAKES_ARG(STR)\t\t\t\t\t\\\n- (!strcmp (STR, \"Tdata\") || !strcmp (STR, \"Ttext\")\t\t\t\\\n-  || !strcmp (STR, \"Tbss\") || !strcmp (STR, \"include\")\t\t\t\\\n-  || !strcmp (STR, \"imacros\") || !strcmp (STR, \"aux-info\")\t\t\\\n-  || !strcmp (STR, \"pic-names\"))\n+ (DEFAULT_WORD_SWITCH_TAKES_ARG (STR) || !strcmp (STR, \"pic-names\"))\n \n #define CPP_PREDEFINES \"-DOSF -DOSF1 -Dbsd4_2 -DMIPSEL -Dhost_mips -Dmips -Dunix -DR3000 -DSYSTYPE_BSD\"\n "}, {"sha": "58f490a50e084b9b2513448d4eea42429d641fd8", "filename": "gcc/config/nextstep.h", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a/gcc%2Fconfig%2Fnextstep.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a/gcc%2Fconfig%2Fnextstep.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnextstep.h?ref=3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a", "patch": "@@ -89,11 +89,7 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n \n #undef\tWORD_SWITCH_TAKES_ARG\n #define WORD_SWITCH_TAKES_ARG(STR)\t \t\\\n-  (!strcmp (STR, \"Ttext\") ? 1 :\t\t\t\\\n-   !strcmp (STR, \"Tdata\") ? 1 :\t\t\t\\\n-   !strcmp (STR, \"Tbss\") ? 1 :\t\t\t\\\n-   !strcmp (STR, \"include\") ? 1 :\t\t\\\n-   !strcmp (STR, \"imacros\") ? 1 :\t\t\\\n+  (DEFAULT_WORD_SWITCH_TAKES_ARG (str) ? 1 :\t\\\n    !strcmp (STR, \"segalign\") ? 1 :\t\t\\\n    !strcmp (STR, \"seg1addr\") ? 1 :\t\t\\\n    !strcmp (STR, \"segaddr\") ? 2 :\t\t\\\n@@ -103,7 +99,6 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n    !strcmp (STR, \"sectalign\") ? 3 :\t\t\\\n    !strcmp (STR, \"segcreate\") ? 3 :\t\t\\\n    !strcmp (STR, \"sectorder\") ? 3 :\t\t\\\n-   !strcmp (STR, \"aux-info\") ? 1 :\t\t\\\n    !strcmp (STR, \"siff-mask\") ? 1 :\t\t\\\n    !strcmp (STR, \"siff-filter\") ? 1 :\t\t\\\n    !strcmp (STR, \"siff-warning\") ? 1 :\t\t\\"}, {"sha": "19c6f19802cfb6804fc6f22cf4faea830fc49833", "filename": "gcc/config/sparc/sparc.h", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a/gcc%2Fconfig%2Fsparc%2Fsparc.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a/gcc%2Fconfig%2Fsparc%2Fsparc.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.h?ref=3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a", "patch": "@@ -72,10 +72,8 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n /* These compiler options take an argument.  We ignore -target for now.  */\n \n #define WORD_SWITCH_TAKES_ARG(STR)\t\t\t\t\\\n- (!strcmp (STR, \"Tdata\") || !strcmp (STR, \"Ttext\")\t\t\\\n-  || !strcmp (STR, \"Tbss\") || !strcmp (STR, \"include\")\t\t\\\n-  || !strcmp (STR, \"imacros\") || !strcmp (STR, \"target\")\t\\\n-  || !strcmp (STR, \"assert\") || !strcmp (STR, \"aux-info\"))\n+ (DEFAULT_WORD_SWITCH_TAKES_ARG (STR)\t\t\t\t\\\n+  || !strcmp (STR, \"target\") || !strcmp (STR, \"assert\"))\n \n /* Names to predefine in the preprocessor for this target machine.  */\n "}, {"sha": "64fa031a28f7686c4d0e13e6fcca50ae8bfe8c8f", "filename": "gcc/config/svr4.h", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a/gcc%2Fconfig%2Fsvr4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a/gcc%2Fconfig%2Fsvr4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsvr4.h?ref=3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a", "patch": "@@ -69,8 +69,9 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.\n    there are no such switches except those implemented by GCC itself.  */\n \n #define WORD_SWITCH_TAKES_ARG(STR)\t\t\t\\\n- (!strcmp (STR, \"include\") || !strcmp (STR, \"imacros\")\t\\\n-  || !strcmp (STR, \"aux-info\"))\n+ (DEFAULT_WORD_SWITCH_TAKES_ARG (STR)\t\t\t\\\n+  && strcmp (STR, \"Tdata\") && strcmp (STR, \"Ttext\")\t\\\n+  && strcmp (STR, \"Tbss\"))\n \n /* You should redefine CPP_PREDEFINES in any file which includes this one.\n    The definition should be appropriate for the type of target system"}, {"sha": "8f0e7035257a8bdc57f040151fab54e5b5e45282", "filename": "gcc/gcc.c", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=3b39b94f8463fabe0ad1c7d1f897fe16f35e4a0a", "patch": "@@ -394,11 +394,15 @@ static char *switches_need_spaces = SWITCHES_NEED_SPACES;\n \n /* This defines which multi-letter switches take arguments.  */\n \n-#ifndef WORD_SWITCH_TAKES_ARG\n-#define WORD_SWITCH_TAKES_ARG(STR)\t\t\t\\\n+#define DEFAULT_WORD_SWITCH_TAKES_ARG(STR)\t\t\\\n  (!strcmp (STR, \"Tdata\") || !strcmp (STR, \"Ttext\")\t\\\n   || !strcmp (STR, \"Tbss\") || !strcmp (STR, \"include\")\t\\\n-  || !strcmp (STR, \"imacros\") || !strcmp (STR, \"aux-info\"))\n+  || !strcmp (STR, \"imacros\") || !strcmp (STR, \"aux-info\") \\\n+  || !strcmp (STR, \"idirafter\") || !strcmp (STR, \"iprefix\") \\\n+  || !strcmp (STR, \"iwithprefix\"))\n+\n+#ifndef WORD_SWITCH_TAKES_ARG\n+#define WORD_SWITCH_TAKES_ARG(STR) DEFAULT_WORD_SWITCH_TAKES_ARG (STR)\n #endif\n \f\n /* Record the mapping from file suffixes for compilation specs.  */"}]}