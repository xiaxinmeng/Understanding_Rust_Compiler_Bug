{"sha": "e194407348d9822674fcf81d116b97b61866f6b5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTE5NDQwNzM0OGQ5ODIyNjc0ZmNmODFkMTE2Yjk3YjYxODY2ZjZiNQ==", "commit": {"author": {"name": "Krister Walfridsson", "email": "cato@df.lth.se", "date": "2002-08-30T11:26:53Z"}, "committer": {"name": "Nick Clifton", "email": "nickc@gcc.gnu.org", "date": "2002-08-30T11:26:53Z"}, "message": "arm.c (arm_asm_output_labelref): New function.\n\n* config/arm/arm.c (arm_asm_output_labelref): New function.\n* config/arm/arm.h (ASM_OUTPUT_LABELREF): Call arm_asm_output_labelref.\n* config/arm/arm-protos.h: Add prototype for arm_asm_output_labelref.\n\nFrom-SVN: r56682", "tree": {"sha": "db5674c49394195fe13b9e6690a5061a8342339d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/db5674c49394195fe13b9e6690a5061a8342339d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e194407348d9822674fcf81d116b97b61866f6b5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e194407348d9822674fcf81d116b97b61866f6b5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e194407348d9822674fcf81d116b97b61866f6b5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e194407348d9822674fcf81d116b97b61866f6b5/comments", "author": null, "committer": null, "parents": [{"sha": "3aee909ec6c2f394c93a3099b5d19d6665d11b47", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3aee909ec6c2f394c93a3099b5d19d6665d11b47", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3aee909ec6c2f394c93a3099b5d19d6665d11b47"}], "stats": {"total": 33, "additions": 32, "deletions": 1}, "files": [{"sha": "f14a2696e14d03aace63873a7ecb9cf07565fde8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e194407348d9822674fcf81d116b97b61866f6b5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e194407348d9822674fcf81d116b97b61866f6b5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e194407348d9822674fcf81d116b97b61866f6b5", "patch": "@@ -1,3 +1,9 @@\n+2002-08-30  Krister Walfridsson  <cato@df.lth.se>\n+\n+\t* config/arm/arm.c (arm_asm_output_labelref): New function.\n+\t* config/arm/arm.h (ASM_OUTPUT_LABELREF): Call arm_asm_output_labelref.\n+\t* config/arm/arm-protos.h: Add prototype for arm_asm_output_labelref.\n+\n 2002-08-29  Rodney Brown  <rbrown64@csc.com.au>\n \n \t* doc/install.texi (Specific, alpha*-dec-osf*): Add \"virtual"}, {"sha": "6aaa1307857ceaa73eaeafdf6a9b0b0620ceb281", "filename": "gcc/config/arm/arm-protos.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e194407348d9822674fcf81d116b97b61866f6b5/gcc%2Fconfig%2Farm%2Farm-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e194407348d9822674fcf81d116b97b61866f6b5/gcc%2Fconfig%2Farm%2Farm-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm-protos.h?ref=e194407348d9822674fcf81d116b97b61866f6b5", "patch": "@@ -34,6 +34,7 @@ extern void   arm_expand_prologue\tPARAMS ((void));\n /* Used in arm.md, but defined in output.c.  */\n extern void   assemble_align\t\tPARAMS ((int)); \n extern const char * arm_strip_name_encoding\tPARAMS ((const char *));\n+extern void   arm_asm_output_labelref\tPARAMS ((FILE *, const char *));\n extern unsigned long arm_current_func_type\tPARAMS ((void));\n extern unsigned int  arm_compute_initial_elimination_offset PARAMS ((unsigned int, unsigned int));\n "}, {"sha": "9000cca326b4e8c1fb36e1be0ad35437f4c0d5ae", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e194407348d9822674fcf81d116b97b61866f6b5/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e194407348d9822674fcf81d116b97b61866f6b5/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=e194407348d9822674fcf81d116b97b61866f6b5", "patch": "@@ -10799,6 +10799,30 @@ arm_strip_name_encoding (name)\n   return name;\n }\n \n+/* If there is a '*' anywhere in the name's prefix, then\n+   emit the stripped name verbatim, otherwise prepend an\n+   underscore if leading underscores are being used.  */\n+\n+void\n+arm_asm_output_labelref (stream, name)\n+     FILE * stream;\n+     const char * name;\n+{\n+  int skip;\n+  int verbatim = 0;\n+\n+  while ((skip = arm_get_strip_length (* name)))\n+    {\n+      verbatim |= (*name == '*');\n+      name += skip;\n+    }\n+\n+  if (verbatim)\n+    fputs (name, stream);\n+  else\n+    asm_fprintf (stream, \"%U%s\", name);\n+}\n+\n rtx aof_pic_label;\n \n #ifdef AOF_ASSEMBLER"}, {"sha": "8ab82671636dd19e2c64ef72545381e108c54104", "filename": "gcc/config/arm/arm.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e194407348d9822674fcf81d116b97b61866f6b5/gcc%2Fconfig%2Farm%2Farm.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e194407348d9822674fcf81d116b97b61866f6b5/gcc%2Fconfig%2Farm%2Farm.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.h?ref=e194407348d9822674fcf81d116b97b61866f6b5", "patch": "@@ -1858,7 +1858,7 @@ typedef struct\n    `assemble_name' uses this.  */\n #undef  ASM_OUTPUT_LABELREF\n #define ASM_OUTPUT_LABELREF(FILE, NAME)\t\t\\\n-  asm_fprintf (FILE, \"%U%s\", arm_strip_name_encoding (NAME))\n+   arm_asm_output_labelref (FILE, NAME)\n \n #define ARM_DECLARE_FUNCTION_SIZE(STREAM, NAME, DECL)\t\\\n   arm_encode_call_attribute (DECL, SHORT_CALL_FLAG_CHAR)"}]}