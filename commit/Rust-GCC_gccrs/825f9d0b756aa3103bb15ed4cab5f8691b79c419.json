{"sha": "825f9d0b756aa3103bb15ed4cab5f8691b79c419", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODI1ZjlkMGI3NTZhYTMxMDNiYjE1ZWQ0Y2FiNWY4NjkxYjc5YzQxOQ==", "commit": {"author": {"name": "Alexey Brodkin", "email": "abrodkin@synopsys.com", "date": "2018-05-21T09:56:57Z"}, "committer": {"name": "Claudiu Zissulescu", "email": "claziss@gcc.gnu.org", "date": "2018-05-21T09:56:57Z"}, "message": "[ARC] Add multilib support for linux targets\n\nWe used to build baremetal (AKA Elf32) multilibbed toolchains for years\nnow but never made that for Linux targets since there were problems with\nuClibc n multilib setup. Now with help of Crosstool-NG it is finally\npossible to create uClibc-based multilibbed toolchains and so we add\nrelevant CPUs for multilib in case of configuration for \"arc*-*-linux*\".\n\nThis will be essentially useful for glibc-based multilibbbed toolchains\nin the future.\n\ngcc/\n2018-05-16  Alexey Brodkin <abrodkin@synopsys.com>\n\n        * config.gcc: Add arc/t-multilib-linux to tmake_file for\n        arc*-*-linux*.\n        * config/arc/t-multilib-linux: Specify MULTILIB_OPTIONS and\n        MULTILIB_DIRNAMES\n\nFrom-SVN: r260434", "tree": {"sha": "feeed7e270d1ada4324e21b3a69e5ff533b7e77f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/feeed7e270d1ada4324e21b3a69e5ff533b7e77f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/825f9d0b756aa3103bb15ed4cab5f8691b79c419", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/825f9d0b756aa3103bb15ed4cab5f8691b79c419", "html_url": "https://github.com/Rust-GCC/gccrs/commit/825f9d0b756aa3103bb15ed4cab5f8691b79c419", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/825f9d0b756aa3103bb15ed4cab5f8691b79c419/comments", "author": {"login": "abrodkin", "id": 1618098, "node_id": "MDQ6VXNlcjE2MTgwOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1618098?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abrodkin", "html_url": "https://github.com/abrodkin", "followers_url": "https://api.github.com/users/abrodkin/followers", "following_url": "https://api.github.com/users/abrodkin/following{/other_user}", "gists_url": "https://api.github.com/users/abrodkin/gists{/gist_id}", "starred_url": "https://api.github.com/users/abrodkin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abrodkin/subscriptions", "organizations_url": "https://api.github.com/users/abrodkin/orgs", "repos_url": "https://api.github.com/users/abrodkin/repos", "events_url": "https://api.github.com/users/abrodkin/events{/privacy}", "received_events_url": "https://api.github.com/users/abrodkin/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "67e9518e20b8b836bbaa9dc783bd6a4db56c2bcb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/67e9518e20b8b836bbaa9dc783bd6a4db56c2bcb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/67e9518e20b8b836bbaa9dc783bd6a4db56c2bcb"}], "stats": {"total": 34, "additions": 33, "deletions": 1}, "files": [{"sha": "157a899b9f6c121c3ea7f752f8cf44d3a8a27001", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/825f9d0b756aa3103bb15ed4cab5f8691b79c419/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/825f9d0b756aa3103bb15ed4cab5f8691b79c419/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=825f9d0b756aa3103bb15ed4cab5f8691b79c419", "patch": "@@ -1,3 +1,10 @@\n+2018-05-21  Alexey Brodkin <abrodkin@synopsys.com>\n+\n+\t* config.gcc: Add arc/t-multilib-linux to tmake_file for\n+\tarc*-*-linux*.\n+\t* config/arc/t-multilib-linux: Specify MULTILIB_OPTIONS and\n+\tMULTILIB_DIRNAMES\n+\n 2018-05-20  Chung-Ju Wu  <jasonwucj@gmail.com>\n \n \t* config/nds32/constraints.md (S): New constraint."}, {"sha": "d73e2cbc99a1ec9ce082036faca73c86161e313a", "filename": "gcc/config.gcc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/825f9d0b756aa3103bb15ed4cab5f8691b79c419/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/825f9d0b756aa3103bb15ed4cab5f8691b79c419/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=825f9d0b756aa3103bb15ed4cab5f8691b79c419", "patch": "@@ -1061,7 +1061,7 @@ arc*-*-elf*)\n \t;;\n arc*-*-linux*)\n \ttm_file=\"arc/arc-arch.h dbxelf.h elfos.h gnu-user.h linux.h linux-android.h glibc-stdint.h arc/linux.h ${tm_file}\"\n-\ttmake_file=\"${tmake_file} arc/t-arc\"\n+\ttmake_file=\"${tmake_file} arc/t-multilib-linux arc/t-arc\"\n \textra_gcc_objs=\"driver-arc.o\"\n \tif test \"x$with_cpu\" != x; then\n \t\ttm_defines=\"${tm_defines} TARGET_CPU_BUILD=PROCESSOR_$with_cpu\""}, {"sha": "f357cfc3f9268dc21d72c9bb690a214caca00c6b", "filename": "gcc/config/arc/t-multilib-linux", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/825f9d0b756aa3103bb15ed4cab5f8691b79c419/gcc%2Fconfig%2Farc%2Ft-multilib-linux", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/825f9d0b756aa3103bb15ed4cab5f8691b79c419/gcc%2Fconfig%2Farc%2Ft-multilib-linux", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farc%2Ft-multilib-linux?ref=825f9d0b756aa3103bb15ed4cab5f8691b79c419", "patch": "@@ -0,0 +1,25 @@\n+# Copyright (C) 2018 Free Software Foundation, Inc.\n+#\n+# This file is part of GCC.\n+#\n+# GCC is free software; you can redistribute it and/or modify it under\n+# the terms of the GNU General Public License as published by the Free\n+# Software Foundation; either version 3, or (at your option) any later\n+# version.\n+#\n+# GCC is distributed in the hope that it will be useful, but WITHOUT ANY\n+# WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+# for more details.\n+#\n+# You should have received a copy of the GNU General Public License\n+# along with GCC; see the file COPYING3.  If not see\n+# <http://www.gnu.org/licenses/>.\n+\n+MULTILIB_OPTIONS = mcpu=hs/mcpu=archs/mcpu=hs38/mcpu=hs38_linux/mcpu=arc700/mcpu=nps400\n+\n+MULTILIB_DIRNAMES = hs archs hs38 hs38_linux arc700 nps400\n+\n+# Aliases:\n+MULTILIB_MATCHES += mcpu?arc700=mA7\n+MULTILIB_MATCHES += mcpu?arc700=mARC700"}]}