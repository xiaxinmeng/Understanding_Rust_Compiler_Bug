{"sha": "a0852bc0816f8e095c61bde62ad395d2619d4b71", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTA4NTJiYzA4MTZmOGUwOTVjNjFiZGU2MmFkMzk1ZDI2MTlkNGI3MQ==", "commit": {"author": {"name": "Mark Kettenis", "email": "kettenis@gnu.org", "date": "1999-06-07T21:10:33Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-06-07T21:10:33Z"}, "message": "gnu.h: Include <gnu.h> right after <i386/linux.h>...\n\n\ufffd\n        * config/i386/gnu.h: Include <gnu.h> right after <i386/linux.h>,\n        such that we can override its definitions if necessary.\n        (CPP_SPEC): New define.  Support processor specific predefines via\n        %(cpp_cpu).\n        (CC1_SPEC): New define.  Support processor specific compiler\n        options via %(cc1_cpu).\n        (STARTFILE_SPEC): New define.  Use crt0.o instead of crt1.o for\n        -static.\n\nFrom-SVN: r27406", "tree": {"sha": "54d39aa73ac48ffa5f5bb3f28db9dfd9944cb4a1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/54d39aa73ac48ffa5f5bb3f28db9dfd9944cb4a1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a0852bc0816f8e095c61bde62ad395d2619d4b71", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0852bc0816f8e095c61bde62ad395d2619d4b71", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a0852bc0816f8e095c61bde62ad395d2619d4b71", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0852bc0816f8e095c61bde62ad395d2619d4b71/comments", "author": null, "committer": null, "parents": [{"sha": "5aa8e9796b55307cd24d393c0bd92832869c082e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5aa8e9796b55307cd24d393c0bd92832869c082e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5aa8e9796b55307cd24d393c0bd92832869c082e"}], "stats": {"total": 36, "additions": 30, "deletions": 6}, "files": [{"sha": "495c8fe335e7f1f906dcf614aa227576decb3ba9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0852bc0816f8e095c61bde62ad395d2619d4b71/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0852bc0816f8e095c61bde62ad395d2619d4b71/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a0852bc0816f8e095c61bde62ad395d2619d4b71", "patch": "@@ -1,3 +1,14 @@\n+Mon Jun  7 22:05:03 1999  Mark Kettenis  <kettenis@gnu.org>\n+\n+\t* config/i386/gnu.h: Include <gnu.h> right after <i386/linux.h>,\n+\tsuch that we can override its definitions if necessary.\n+\t(CPP_SPEC): New define.  Support processor specific predefines via\n+\t%(cpp_cpu).\n+\t(CC1_SPEC): New define.  Support processor specific compiler\n+\toptions via %(cc1_cpu).\n+\t(STARTFILE_SPEC): New define.  Use crt0.o instead of crt1.o for\n+\t-static.\n+\n 1999-06-07  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* fixinc/inclhack.def (math_gcc_ifndefs): Insert whitespace"}, {"sha": "632ca47d0b5d4cbdc32ec5a398adcce0220895f9", "filename": "gcc/config/i386/gnu.h", "status": "modified", "additions": 19, "deletions": 6, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0852bc0816f8e095c61bde62ad395d2619d4b71/gcc%2Fconfig%2Fi386%2Fgnu.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0852bc0816f8e095c61bde62ad395d2619d4b71/gcc%2Fconfig%2Fi386%2Fgnu.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fgnu.h?ref=a0852bc0816f8e095c61bde62ad395d2619d4b71", "patch": "@@ -3,13 +3,22 @@\n /* This does it mostly for us.  */\n #include <i386/linux.h>\n \n-#undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \"-Di386 -Acpu(i386) -Amachine(i386) \\\n--Dunix -Asystem(unix)  -DMACH -Asystem(mach) -D__GNU__ -Asystem(gnu)\"\n+/* Get machine-independent configuration parameters for the GNU system.  */\n+#include <gnu.h>\n \n #undef TARGET_VERSION\n #define TARGET_VERSION fprintf (stderr, \" (i386 GNU)\");\n \n+#undef CPP_PREDEFINES\n+#define CPP_PREDEFINES \"-D__ELF__ -D__i386__ -DMACH -Asystem(mach) \\\n+  -Dunix -Asystem(unix) -Asystem(posix) -D__GNU__ -Asystem(gnu)\"\n+\n+#undef CPP_SPEC\n+#define CPP_SPEC \"%(cpp_cpu) %{posix:-D_POSIX_SOURCE} %{bsd:-D_BSD_SOURCE}\"\n+\n+#undef CC1_SPEC\n+#define CC1_SPEC \"%(cc1_cpu)\"\n+\n #undef\tLINK_SPEC\n #define LINK_SPEC \"-m elf_i386 %{shared:-shared} \\\n   %{!shared: \\\n@@ -18,6 +27,10 @@\n       %{!dynamic-linker:-dynamic-linker /lib/ld.so}} \\\n     %{static:-static}}\"\n \n-\n-/* Get machine-independent configuration parameters for the GNU system.  */\n-#include <gnu.h>\n+#undef\tSTARTFILE_SPEC\n+#define STARTFILE_SPEC \\\n+  \"%{!shared: \\\n+     %{!static: \\\n+       %{pg:gcrt1.o%s} %{!pg:%{p:gcrt1.o%s} %{!p:crt1.o%s}}} \\\n+     %{static:crt0.o%s}} \\\n+   crti.o%s %{!shared:crtbegin.o%s} %{shared:crtbeginS.o%s}\""}]}