{"sha": "c21f33b6cba88a7a5369829e72631f221b7f8cc8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzIxZjMzYjZjYmE4OGE3YTUzNjk4MjllNzI2MzFmMjIxYjdmOGNjOA==", "commit": {"author": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2010-01-10T23:31:30Z"}, "committer": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2010-01-10T23:31:30Z"}, "message": "re PR rtl-optimization/42621 (Computed gotos on AMD 800% slower)\n\n\tPR rtl-optimization/42621\n\t* bb-reorder.c (gate_duplicated_computed_gotos): Only run if not\n\toptimizing for size.\n\t(duplicate_computed_gotos): Remove now-redundant check.\n\nFrom-SVN: r155796", "tree": {"sha": "99d562cb10527a7d867cdb389c6aa26088cd6fc8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/99d562cb10527a7d867cdb389c6aa26088cd6fc8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c21f33b6cba88a7a5369829e72631f221b7f8cc8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c21f33b6cba88a7a5369829e72631f221b7f8cc8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c21f33b6cba88a7a5369829e72631f221b7f8cc8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c21f33b6cba88a7a5369829e72631f221b7f8cc8/comments", "author": null, "committer": null, "parents": [{"sha": "e1496917f1a8651786675c13c702de19518cf8e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1496917f1a8651786675c13c702de19518cf8e4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e1496917f1a8651786675c13c702de19518cf8e4"}], "stats": {"total": 14, "additions": 10, "deletions": 4}, "files": [{"sha": "9761902af4531ebe61583e768f35928b65b1c75a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c21f33b6cba88a7a5369829e72631f221b7f8cc8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c21f33b6cba88a7a5369829e72631f221b7f8cc8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c21f33b6cba88a7a5369829e72631f221b7f8cc8", "patch": "@@ -1,3 +1,10 @@\n+2010-01-10  Steven Bosscher  <steven@gcc.gnu.org>\n+\n+\tPR rtl-optimization/42621\n+\t* bb-reorder.c (gate_duplicated_computed_gotos): Only run if not\n+\toptimizing for size.\n+\t(duplicate_computed_gotos): Remove now-redundant check.\n+\n 2010-01-10  Steve Ellcey  <sje@cup.hp.com>\n \n \tPR target/37454"}, {"sha": "ebbd517dabdd51b92ca0d50df8295831752b3ed8", "filename": "gcc/bb-reorder.c", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c21f33b6cba88a7a5369829e72631f221b7f8cc8/gcc%2Fbb-reorder.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c21f33b6cba88a7a5369829e72631f221b7f8cc8/gcc%2Fbb-reorder.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbb-reorder.c?ref=c21f33b6cba88a7a5369829e72631f221b7f8cc8", "patch": "@@ -1981,7 +1981,9 @@ gate_duplicate_computed_gotos (void)\n {\n   if (targetm.cannot_modify_jumps_p ())\n     return false;\n-  return (optimize > 0 && flag_expensive_optimizations);\n+  return (optimize > 0\n+\t  && flag_expensive_optimizations\n+\t  && ! optimize_function_for_size_p (cfun));\n }\n \n \n@@ -2072,9 +2074,6 @@ duplicate_computed_gotos (void)\n \t  || single_pred_p (single_succ (bb)))\n \tcontinue;\n \n-      if (!optimize_bb_for_size_p (bb))\n-\tcontinue;\n-\n       /* The successor block has to be a duplication candidate.  */\n       if (!bitmap_bit_p (candidates, single_succ (bb)->index))\n \tcontinue;"}]}