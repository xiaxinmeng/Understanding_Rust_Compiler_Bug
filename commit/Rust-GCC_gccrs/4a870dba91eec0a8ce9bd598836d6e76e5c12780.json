{"sha": "4a870dba91eec0a8ce9bd598836d6e76e5c12780", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGE4NzBkYmE5MWVlYzBhOGNlOWJkNTk4ODM2ZDZlNzZlNWMxMjc4MA==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1998-07-06T21:53:23Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-07-06T21:53:23Z"}, "message": "c-decl.c: Add warn_multichar.\n\n        * c-decl.c: Add warn_multichar.\n        (c_decode_option): Handle -Wno-multichar.\n        * c-lex.c (yylex): Check it.\n        * c-tree.h: Declare it.\n        * toplev.c (lang_options): Add it.\n        * invoke.texi: Document it.\n\nFrom-SVN: r20968", "tree": {"sha": "133da29a4cd483c86333e2ae30d675e185fc7bb0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/133da29a4cd483c86333e2ae30d675e185fc7bb0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4a870dba91eec0a8ce9bd598836d6e76e5c12780", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a870dba91eec0a8ce9bd598836d6e76e5c12780", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a870dba91eec0a8ce9bd598836d6e76e5c12780", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a870dba91eec0a8ce9bd598836d6e76e5c12780/comments", "author": null, "committer": null, "parents": [{"sha": "ed79bb3d427c5fa3fa39240a965f47de2463c37c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed79bb3d427c5fa3fa39240a965f47de2463c37c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ed79bb3d427c5fa3fa39240a965f47de2463c37c"}], "stats": {"total": 32, "additions": 30, "deletions": 2}, "files": [{"sha": "76750938efc11a8a274e9366bcc28042885ab199", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a870dba91eec0a8ce9bd598836d6e76e5c12780/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a870dba91eec0a8ce9bd598836d6e76e5c12780/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4a870dba91eec0a8ce9bd598836d6e76e5c12780", "patch": "@@ -1,3 +1,12 @@\n+Mon Jul  6 22:50:48 1998  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* c-decl.c: Add warn_multichar.\n+\t(c_decode_option): Handle -Wno-multichar.\n+\t* c-lex.c (yylex): Check it.\n+\t* c-tree.h: Declare it.\n+\t* toplev.c (lang_options): Add it.\n+\t* invoke.texi: Document it.\n+\n Mon Jul  6 22:47:55 1998  J\"orn Rennecke <amylaar@cygnus.co.uk>\n \n \t* gcse.c (hash_scan_insn): New argument IN_LIBCALL_BLOCK.  Changed"}, {"sha": "9901db80e68dfee2a2b2b4b6ef9f00eebd4c29d1", "filename": "gcc/c-decl.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a870dba91eec0a8ce9bd598836d6e76e5c12780/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a870dba91eec0a8ce9bd598836d6e76e5c12780/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=4a870dba91eec0a8ce9bd598836d6e76e5c12780", "patch": "@@ -577,6 +577,10 @@ int warn_unknown_pragmas = 0; /* Tri state variable.  */\n \n int warn_sign_compare = -1;\n \n+/* Nonzero means warn about use of multicharacter literals.  */\n+\n+int warn_multichar = 1;\n+\n /* Nonzero means `$' can be in an identifier.  */\n \n #ifndef DOLLARS_IN_IDENTIFIERS\n@@ -792,6 +796,10 @@ c_decode_option (argc, argv)\n     warn_sign_compare = 1;\n   else if (!strcmp (p, \"-Wno-sign-compare\"))\n     warn_sign_compare = 0;\n+  else if (!strcmp (p, \"-Wmultichar\"))\n+    warn_multichar = 1;\n+  else if (!strcmp (p, \"-Wno-multichar\"))\n+    warn_multichar = 0;\n   else if (!strcmp (p, \"-Wunknown-pragmas\"))\n     /* Set to greater than 1, so that even unknown pragmas in system\n        headers will be warned about.  */"}, {"sha": "f82ad761d318188857b54f0e638894e628e1b24b", "filename": "gcc/c-lex.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a870dba91eec0a8ce9bd598836d6e76e5c12780/gcc%2Fc-lex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a870dba91eec0a8ce9bd598836d6e76e5c12780/gcc%2Fc-lex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-lex.c?ref=4a870dba91eec0a8ce9bd598836d6e76e5c12780", "patch": "@@ -1872,7 +1872,7 @@ yylex ()\n \t    num_chars = max_chars;\n \t    error (\"character constant too long\");\n \t  }\n-\telse if (num_chars != 1 && ! flag_traditional)\n+\telse if (num_chars != 1 && ! flag_traditional && warn_multichar)\n \t  warning (\"multi-character character constant\");\n \n \t/* If char type is signed, sign-extend the constant.  */"}, {"sha": "7605cfe2e519d453193ca0f2dce6cae92caa150a", "filename": "gcc/c-tree.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a870dba91eec0a8ce9bd598836d6e76e5c12780/gcc%2Fc-tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a870dba91eec0a8ce9bd598836d6e76e5c12780/gcc%2Fc-tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-tree.h?ref=4a870dba91eec0a8ce9bd598836d6e76e5c12780", "patch": "@@ -505,6 +505,10 @@ extern int warn_missing_braces;\n \n extern int warn_sign_compare;\n \n+/* Warn about multicharacter constants.  */\n+\n+extern int warn_multichar;\n+\n /* Nonzero means we are reading code that came from a system header file.  */\n \n extern int system_header_p;"}, {"sha": "5bfac524c5c15e04d155388920c02f7e5593c5f3", "filename": "gcc/invoke.texi", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a870dba91eec0a8ce9bd598836d6e76e5c12780/gcc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a870dba91eec0a8ce9bd598836d6e76e5c12780/gcc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Finvoke.texi?ref=4a870dba91eec0a8ce9bd598836d6e76e5c12780", "patch": "@@ -122,7 +122,7 @@ in the following sections.\n -Wimplicit-function-declaration  -Wimport\n -Werror-implicit-function-declaration  -Winline\n -Wlarger-than-@var{len}  -Wmain  -Wmissing-declarations\n--Wmissing-prototypes  -Wnested-externs  -Wno-import  \n+-Wmissing-prototypes  -Wmultichar  -Wnested-externs  -Wno-import  \n -Wold-style-cast  -Woverloaded-virtual  -Wparentheses\n -Wpointer-arith  -Wredundant-decls  -Wreorder  -Wreturn-type\n -Wshadow  -Wsign-compare  -Wstrict-prototypes  -Wswitch\n@@ -1287,6 +1287,11 @@ Same as @samp{-Wimplicit-int} and @samp{-Wimplicit-function-}@*\n Warn if the type of @samp{main} is suspicious.  @samp{main} should be a\n function with external linkage, returning int, taking either zero\n arguments, two, or three arguments of appropriate types.\n+\n+@item -Wmultichar\n+Warn if a multicharacter constant (@samp{'FOOF'}) is used.  Usually they\n+indicate a typo in the user's code, as they have implementation-defined\n+values, and should not be used in portable code.\n   \n @item -Wparentheses\n Warn if parentheses are omitted in certain contexts, such"}, {"sha": "1126a4af2fcb7374546b34af7c5a3a1692ca7349", "filename": "gcc/toplev.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a870dba91eec0a8ce9bd598836d6e76e5c12780/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a870dba91eec0a8ce9bd598836d6e76e5c12780/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=4a870dba91eec0a8ce9bd598836d6e76e5c12780", "patch": "@@ -872,6 +872,8 @@ char *lang_options[] =\n   \"-Wno-missing-declarations\",\n   \"-Wmissing-prototypes\",\n   \"-Wno-missing-prototypes\",\n+  \"-Wmultichar\",\n+  \"-Wno-multichar\",\n   \"-Wnested-externs\",\n   \"-Wno-nested-externs\",\n   \"-Wparentheses\","}]}