{"sha": "6ff76c365c69c190001c9a00a85f07a9869494f0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmZmNzZjMzY1YzY5YzE5MDAwMWM5YTAwYTg1ZjA3YTk4Njk0OTRmMA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2003-04-24T04:32:58Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2003-04-24T04:32:58Z"}, "message": "re PR rtl-optimization/8300 ([sparc] ICE in gen_reg_rtx, at emit-rtl.c:662)\n\n\tPR opt/8300\n\t* toplev.c (rest_of_compilation): Delay no_new_pseudos until\n\tafter initialize_uninitialized_subregs; update reg info assuming\n\tnew pseudos were created.\n\nFrom-SVN: r66030", "tree": {"sha": "3de8e231f3f692100e47e40fdfaa4f1fe7d8ca77", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3de8e231f3f692100e47e40fdfaa4f1fe7d8ca77"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6ff76c365c69c190001c9a00a85f07a9869494f0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ff76c365c69c190001c9a00a85f07a9869494f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ff76c365c69c190001c9a00a85f07a9869494f0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ff76c365c69c190001c9a00a85f07a9869494f0/comments", "author": null, "committer": null, "parents": [{"sha": "5c894b968cceaf2e8f259b592003266a64eea79f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c894b968cceaf2e8f259b592003266a64eea79f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5c894b968cceaf2e8f259b592003266a64eea79f"}], "stats": {"total": 21, "additions": 14, "deletions": 7}, "files": [{"sha": "5745284bed770791e7aaf4242eb8703818e5015c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ff76c365c69c190001c9a00a85f07a9869494f0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ff76c365c69c190001c9a00a85f07a9869494f0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6ff76c365c69c190001c9a00a85f07a9869494f0", "patch": "@@ -1,3 +1,10 @@\n+2003-04-23  Richard Henderson  <rth@redhat.com>\n+\n+\tPR opt/8300\n+\t* toplev.c (rest_of_compilation): Delay no_new_pseudos until\n+\tafter initialize_uninitialized_subregs; update reg info assuming\n+\tnew pseudos were created.\n+\n 2003-04-23  Neil Booth  <neil@daikokuya.co.uk>\n \n \t* Makefile.in (c-lex.o, LIBCPP_OBJS, cpplex.o): Update."}, {"sha": "94720ee41327080e4fe1f2eae5a94f4baf8fc63b", "filename": "gcc/toplev.c", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ff76c365c69c190001c9a00a85f07a9869494f0/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ff76c365c69c190001c9a00a85f07a9869494f0/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=6ff76c365c69c190001c9a00a85f07a9869494f0", "patch": "@@ -3216,8 +3216,6 @@ rest_of_compilation (decl)\n \t\t | (flag_thread_jumps ? CLEANUP_THREADING : 0));\n   timevar_pop (TV_FLOW);\n \n-  no_new_pseudos = 1;\n-\n   if (warn_uninitialized || extra_warnings)\n     {\n       uninitialized_vars_warning (DECL_INITIAL (decl));\n@@ -3227,17 +3225,19 @@ rest_of_compilation (decl)\n \n   if (optimize)\n     {\n-      clear_bb_flags ();\n       if (!flag_new_regalloc && initialize_uninitialized_subregs ())\n \t{\n-\t  /* Insns were inserted, so things might look a bit different.  */\n+\t  /* Insns were inserted, and possibly pseudos created, so\n+\t     things might look a bit different.  */\n \t  insns = get_insns ();\n-\t  update_life_info_in_dirty_blocks (UPDATE_LIFE_GLOBAL_RM_NOTES,\n-\t\t\t\t\t    PROP_LOG_LINKS | PROP_REG_INFO\n-\t\t\t\t\t    | PROP_DEATH_NOTES);\n+\t  allocate_reg_life_data ();\n+\t  update_life_info (NULL, UPDATE_LIFE_GLOBAL_RM_NOTES,\n+\t\t\t    PROP_LOG_LINKS | PROP_REG_INFO | PROP_DEATH_NOTES);\n \t}\n     }\n \n+  no_new_pseudos = 1;\n+\n   close_dump_file (DFI_life, print_rtl_with_bb, insns);\n \n   ggc_collect ();"}]}