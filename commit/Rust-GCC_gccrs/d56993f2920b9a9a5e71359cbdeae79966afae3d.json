{"sha": "d56993f2920b9a9a5e71359cbdeae79966afae3d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDU2OTkzZjI5MjBiOWE5YTVlNzEzNTljYmRlYWU3OTk2NmFmYWUzZA==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2004-08-17T23:38:53Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2004-08-17T23:38:53Z"}, "message": "arm.md (addsi3, [...]): Rework to avoid use of preserve_subexpressions_p.\n\n* arm.md (addsi3, subsi3, andsi3, iorsi3, movsi, movhi): Rework to\navoid use of preserve_subexpressions_p.\n\nFrom-SVN: r86159", "tree": {"sha": "2d9e5f7b9dca5efcc6a90adb9dcd355bc753110a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2d9e5f7b9dca5efcc6a90adb9dcd355bc753110a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d56993f2920b9a9a5e71359cbdeae79966afae3d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d56993f2920b9a9a5e71359cbdeae79966afae3d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d56993f2920b9a9a5e71359cbdeae79966afae3d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d56993f2920b9a9a5e71359cbdeae79966afae3d/comments", "author": null, "committer": null, "parents": [{"sha": "504c0e4f17ae32c0d14caa6b02098346ac98992d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/504c0e4f17ae32c0d14caa6b02098346ac98992d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/504c0e4f17ae32c0d14caa6b02098346ac98992d"}], "stats": {"total": 24, "additions": 12, "deletions": 12}, "files": [{"sha": "e8108e5086baf393b716cbd330a0bc05fb8ebda1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d56993f2920b9a9a5e71359cbdeae79966afae3d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d56993f2920b9a9a5e71359cbdeae79966afae3d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d56993f2920b9a9a5e71359cbdeae79966afae3d", "patch": "@@ -1,3 +1,8 @@\n+2004-08-18  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\t* arm.md (addsi3, subsi3, andsi3, iorsi3, movsi, movhi): Rework to\n+\tavoid use of preserve_subexpressions_p.\n+\n 2004-08-17  Richard Henderson  <rth@redhat.com>\n \n \tPR 17051"}, {"sha": "351ce2bf458ffa2a84b41f3e1ec2a70137cf237c", "filename": "gcc/config/arm/arm.md", "status": "modified", "additions": 7, "deletions": 12, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d56993f2920b9a9a5e71359cbdeae79966afae3d/gcc%2Fconfig%2Farm%2Farm.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d56993f2920b9a9a5e71359cbdeae79966afae3d/gcc%2Fconfig%2Farm%2Farm.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.md?ref=d56993f2920b9a9a5e71359cbdeae79966afae3d", "patch": "@@ -449,7 +449,7 @@\n     {\n       arm_split_constant (PLUS, SImode, NULL_RTX,\n \t                  INTVAL (operands[2]), operands[0], operands[1],\n-\t\t\t  (no_new_pseudos ? 0 : preserve_subexpressions_p ()));\n+\t\t\t  optimize && !no_new_pseudos);\n       DONE;\n     }\n   \"\n@@ -935,9 +935,7 @@\n         {\n           arm_split_constant (MINUS, SImode, NULL_RTX,\n \t                      INTVAL (operands[1]), operands[0],\n-\t  \t\t      operands[2],\n-\t\t\t      (no_new_pseudos ? 0\n-\t\t\t       :  preserve_subexpressions_p ()));\n+\t  \t\t      operands[2], optimize && !no_new_pseudos);\n           DONE;\n \t}\n       else /* TARGET_THUMB */\n@@ -1512,9 +1510,8 @@\n         {\n           arm_split_constant (AND, SImode, NULL_RTX,\n \t                      INTVAL (operands[2]), operands[0],\n-\t\t\t      operands[1],\n-\t\t\t      (no_new_pseudos\n-\t\t\t       ? 0 : preserve_subexpressions_p ()));\n+\t\t\t      operands[1], optimize && !no_new_pseudos);\n+\n           DONE;\n         }\n     }\n@@ -2167,8 +2164,7 @@\n         {\n           arm_split_constant (IOR, SImode, NULL_RTX,\n \t                      INTVAL (operands[2]), operands[0], operands[1],\n-\t\t\t      (no_new_pseudos\n-\t\t\t      ? 0 : preserve_subexpressions_p ()));\n+\t\t\t      optimize && !no_new_pseudos);\n           DONE;\n \t}\n       else /* TARGET_THUMB */\n@@ -4256,8 +4252,7 @@\n         {\n            arm_split_constant (SET, SImode, NULL_RTX,\n \t                       INTVAL (operands[1]), operands[0], NULL_RTX,\n-\t\t\t      (no_new_pseudos ? 0\n-\t\t\t       : preserve_subexpressions_p ()));\n+\t\t\t       optimize && !no_new_pseudos);\n           DONE;\n         }\n     }\n@@ -4653,7 +4648,7 @@\n \t      emit_insn (gen_movsi (reg, GEN_INT (val)));\n \t      operands[1] = gen_lowpart (HImode, reg);\n \t    }\n-\t  else if (arm_arch4 && !no_new_pseudos && optimize > 0\n+\t  else if (arm_arch4 && optimize && !no_new_pseudos\n \t\t   && GET_CODE (operands[1]) == MEM)\n \t    {\n \t      rtx reg = gen_reg_rtx (SImode);"}]}