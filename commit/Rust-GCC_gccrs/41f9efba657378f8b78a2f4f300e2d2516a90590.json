{"sha": "41f9efba657378f8b78a2f4f300e2d2516a90590", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDFmOWVmYmE2NTczNzhmOGI3OGEyZjRmMzAwZTJkMjUxNmE5MDU5MA==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@redhat.com", "date": "2002-10-01T10:23:52Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2002-10-01T10:23:52Z"}, "message": "mips.c (PROCESSOR_R4320, [...]): Remove.\n\n\t* config/mips/mips.c (PROCESSOR_R4320, TARGET_MIPS4320): Remove.\n\t(GENERATE_MULT3_SI): Remove use of TARGET_MIPS4320.\n\t* config/mips/mips.c (mips_cpu_info): Remove vr4320 entry.\n\t* config/mips/mips.md (define_attr cpu): Remove r4320.\n\tRemove vr4320 scheduler and uses of TARGET_MIPS4320.\n\nFrom-SVN: r57686", "tree": {"sha": "2bd10e03f562348952ecb21d8f373608c9a27edb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2bd10e03f562348952ecb21d8f373608c9a27edb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/41f9efba657378f8b78a2f4f300e2d2516a90590", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41f9efba657378f8b78a2f4f300e2d2516a90590", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41f9efba657378f8b78a2f4f300e2d2516a90590", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41f9efba657378f8b78a2f4f300e2d2516a90590/comments", "author": null, "committer": null, "parents": [{"sha": "366356d3e6d0d8a33d6a47a559607c3755dc3b65", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/366356d3e6d0d8a33d6a47a559607c3755dc3b65", "html_url": "https://github.com/Rust-GCC/gccrs/commit/366356d3e6d0d8a33d6a47a559607c3755dc3b65"}], "stats": {"total": 82, "additions": 38, "deletions": 44}, "files": [{"sha": "c94e7e3ab73221d89fc8985ba829ae34b1cd2a0c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41f9efba657378f8b78a2f4f300e2d2516a90590/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41f9efba657378f8b78a2f4f300e2d2516a90590/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=41f9efba657378f8b78a2f4f300e2d2516a90590", "patch": "@@ -1,3 +1,11 @@\n+2002-10-01  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\t* config/mips/mips.c (PROCESSOR_R4320, TARGET_MIPS4320): Remove.\n+\t(GENERATE_MULT3_SI): Remove use of TARGET_MIPS4320.\n+\t* config/mips/mips.c (mips_cpu_info): Remove vr4320 entry.\n+\t* config/mips/mips.md (define_attr cpu): Remove r4320.\n+\tRemove vr4320 scheduler and uses of TARGET_MIPS4320.\n+\n 2002-10-01  Richard Sandiford  <rsandifo@redhat.com>\n \n \t* config/mips/mips.c (mips16_strings): New variable."}, {"sha": "ea9ad0f8f643502baf6f02eaadfea7a5abbffd22", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41f9efba657378f8b78a2f4f300e2d2516a90590/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41f9efba657378f8b78a2f4f300e2d2516a90590/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=41f9efba657378f8b78a2f4f300e2d2516a90590", "patch": "@@ -598,7 +598,6 @@ const struct mips_cpu_info mips_cpu_info_table[] = {\n   { \"vr4111\", PROCESSOR_R4111, 3 },\n   { \"vr4121\", PROCESSOR_R4121, 3 },\n   { \"vr4300\", PROCESSOR_R4300, 3 },\n-  { \"vr4320\", PROCESSOR_R4320, 3 },\n   { \"r4400\", PROCESSOR_R4000, 3 }, /* = r4000 */\n   { \"r4600\", PROCESSOR_R4600, 3 },\n   { \"orion\", PROCESSOR_R4600, 3 }, /* = r4600 */"}, {"sha": "632d9627ecfe379db7dd4a46359524711a8b015e", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41f9efba657378f8b78a2f4f300e2d2516a90590/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41f9efba657378f8b78a2f4f300e2d2516a90590/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=41f9efba657378f8b78a2f4f300e2d2516a90590", "patch": "@@ -66,7 +66,6 @@ enum processor_type {\n   PROCESSOR_R4111,\n   PROCESSOR_R4121,\n   PROCESSOR_R4300,\n-  PROCESSOR_R4320,\n   PROCESSOR_R4600,\n   PROCESSOR_R4650,\n   PROCESSOR_R5000,\n@@ -360,7 +359,6 @@ extern void\t\tsbss_section PARAMS ((void));\n #define TARGET_MIPS4100             (mips_arch == PROCESSOR_R4100)\n #define TARGET_MIPS4121             (mips_arch == PROCESSOR_R4121)\n #define TARGET_MIPS4300             (mips_arch == PROCESSOR_R4300)\n-#define TARGET_MIPS4320             (mips_arch == PROCESSOR_R4320)\n #define TARGET_MIPS4KC              (mips_arch == PROCESSOR_R4KC)\n #define TARGET_MIPS5KC              (mips_arch == PROCESSOR_R5KC)\n #define TARGET_MIPS5400             (mips_arch == PROCESSOR_R5400)\n@@ -769,7 +767,6 @@ extern void\t\tsbss_section PARAMS ((void));\n \n /* Generate three-operand multiply instructions for SImode.  */\n #define GENERATE_MULT3_SI       ((TARGET_MIPS3900                       \\\n-                                  || TARGET_MIPS4320                    \\\n                                   || TARGET_MIPS5400                    \\\n                                   || TARGET_MIPS5500                    \\\n                                   || ISA_MIPS32\t                        \\"}, {"sha": "2336bdf67d44f517b133f6d79a07787c30b29f92", "filename": "gcc/config/mips/mips.md", "status": "modified", "additions": 30, "deletions": 40, "changes": 70, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41f9efba657378f8b78a2f4f300e2d2516a90590/gcc%2Fconfig%2Fmips%2Fmips.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41f9efba657378f8b78a2f4f300e2d2516a90590/gcc%2Fconfig%2Fmips%2Fmips.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.md?ref=41f9efba657378f8b78a2f4f300e2d2516a90590", "patch": "@@ -122,7 +122,7 @@\n \n ;; ??? Fix everything that tests this attribute.\n (define_attr \"cpu\"\n-  \"default,r3000,r3900,r6000,r4000,r4100,r4121,r4300,r4320,r4600,r4650,r5000,r5400,r5500,r8000,sr71000,r4kc,r5kc,r20kc\"\n+  \"default,r3000,r3900,r6000,r4000,r4100,r4121,r4300,r4600,r4650,r5000,r5400,r5500,r8000,sr71000,r4kc,r5kc,r20kc\"\n   (const (symbol_ref \"mips_cpu_attr\")))\n \n ;; Does the instruction have a mandatory delay slot?\n@@ -207,12 +207,12 @@\n \n (define_function_unit \"memory\" 1 0\n   (and (eq_attr \"type\" \"load\")\n-       (eq_attr \"cpu\" \"!r3000,r3900,r4600,r4650,r4100,r4121,r4300,r4320,r5000\"))\n+       (eq_attr \"cpu\" \"!r3000,r3900,r4600,r4650,r4100,r4121,r4300,r5000\"))\n   3 0)\n \n (define_function_unit \"memory\" 1 0\n   (and (eq_attr \"type\" \"load\")\n-       (eq_attr \"cpu\" \"r3000,r3900,r4600,r4650,r4100,r4121,r4300,r4320,r5000\"))\n+       (eq_attr \"cpu\" \"r3000,r3900,r4600,r4650,r4100,r4121,r4300,r5000\"))\n   2 0)\n \n (define_function_unit \"memory\"   1 0 (eq_attr \"type\" \"store\") 1 0)\n@@ -225,7 +225,7 @@\n \n (define_function_unit \"imuldiv\"  1 0\n   (and (eq_attr \"type\" \"imul,imadd\")\n-       (eq_attr \"cpu\" \"!r3000,r3900,r4000,r4600,r4650,r4100,r4121,r4300,r4320,r5000\"))\n+       (eq_attr \"cpu\" \"!r3000,r3900,r4000,r4600,r4650,r4100,r4121,r4300,r5000\"))\n   17 17)\n \n ;; On them mips16, we want to stronly discourage a mult from appearing\n@@ -262,12 +262,12 @@\n \n (define_function_unit \"imuldiv\"  1 0\n   (and (eq_attr \"type\" \"imul,imadd\")\n-       (and (eq_attr \"mode\" \"SI\") (eq_attr \"cpu\" \"r4300,r4320,r5000\")))\n+       (and (eq_attr \"mode\" \"SI\") (eq_attr \"cpu\" \"r4300,r5000\")))\n   5 5)\n \n (define_function_unit \"imuldiv\"  1 0\n   (and (eq_attr \"type\" \"imul,imadd\")\n-       (and (eq_attr \"mode\" \"DI\") (eq_attr \"cpu\" \"r4300,r4320\")))\n+       (and (eq_attr \"mode\" \"DI\") (eq_attr \"cpu\" \"r4300\")))\n   8 8)\n \n (define_function_unit \"imuldiv\"  1 0\n@@ -277,7 +277,7 @@\n \n (define_function_unit \"imuldiv\"  1 0\n   (and (eq_attr \"type\" \"idiv\")\n-       (eq_attr \"cpu\" \"!r3000,r3900,r4000,r4600,r4650,r4100,r4121,r4300,r4320,r5000\"))\n+       (eq_attr \"cpu\" \"!r3000,r3900,r4000,r4600,r4650,r4100,r4121,r4300,r5000\"))\n   38 38)\n \n (define_function_unit \"imuldiv\"  1 0\n@@ -308,12 +308,12 @@\n \n (define_function_unit \"imuldiv\" 1 0\n   (and (eq_attr \"type\" \"idiv\")\n-       (and (eq_attr \"mode\" \"SI\") (eq_attr \"cpu\" \"r4300,r4320\")))\n+       (and (eq_attr \"mode\" \"SI\") (eq_attr \"cpu\" \"r4300\")))\n   37 37)\n \n (define_function_unit \"imuldiv\" 1 0\n   (and (eq_attr \"type\" \"idiv\")\n-       (and (eq_attr \"mode\" \"DI\") (eq_attr \"cpu\" \"r4300,r4320\")))\n+       (and (eq_attr \"mode\" \"DI\") (eq_attr \"cpu\" \"r4300\")))\n   69 69)\n \n (define_function_unit \"imuldiv\" 1 0\n@@ -334,7 +334,7 @@\n ;; instructions to be processed in the \"imuldiv\" unit.\n \n (define_function_unit \"adder\" 1 1\n-  (and (eq_attr \"type\" \"fcmp\") (eq_attr \"cpu\" \"!r3000,r3900,r6000,r4300,r4320,r5000\"))\n+  (and (eq_attr \"type\" \"fcmp\") (eq_attr \"cpu\" \"!r3000,r3900,r6000,r4300,r5000\"))\n   3 0)\n \n (define_function_unit \"adder\" 1 1\n@@ -346,7 +346,7 @@\n   1 0)\n \n (define_function_unit \"adder\" 1 1\n-  (and (eq_attr \"type\" \"fadd\") (eq_attr \"cpu\" \"!r3000,r3900,r6000,r4300,r4320\"))\n+  (and (eq_attr \"type\" \"fadd\") (eq_attr \"cpu\" \"!r3000,r3900,r6000,r4300\"))\n   4 0)\n \n (define_function_unit \"adder\" 1 1\n@@ -359,7 +359,7 @@\n \n (define_function_unit \"adder\" 1 1\n   (and (eq_attr \"type\" \"fabs,fneg\")\n-       (eq_attr \"cpu\" \"!r3000,r3900,r4600,r4650,r4300,r4320,r5000\"))\n+       (eq_attr \"cpu\" \"!r3000,r3900,r4600,r4650,r4300,r5000\"))\n   2 0)\n \n (define_function_unit \"adder\" 1 1\n@@ -369,7 +369,7 @@\n (define_function_unit \"mult\" 1 1\n   (and (eq_attr \"type\" \"fmul\")\n        (and (eq_attr \"mode\" \"SF\")\n-\t    (eq_attr \"cpu\" \"!r3000,r3900,r6000,r4600,r4650,r4300,r4320,r5000\")))\n+\t    (eq_attr \"cpu\" \"!r3000,r3900,r6000,r4600,r4650,r4300,r5000\")))\n   7 0)\n \n (define_function_unit \"mult\" 1 1\n@@ -389,7 +389,7 @@\n \n (define_function_unit \"mult\" 1 1\n   (and (eq_attr \"type\" \"fmul\")\n-       (and (eq_attr \"mode\" \"DF\") (eq_attr \"cpu\" \"!r3000,r3900,r6000,r4300,r4320,r5000\")))\n+       (and (eq_attr \"mode\" \"DF\") (eq_attr \"cpu\" \"!r3000,r3900,r6000,r4300,r5000\")))\n   8 0)\n \n (define_function_unit \"mult\" 1 1\n@@ -405,7 +405,7 @@\n (define_function_unit \"divide\" 1 1\n   (and (eq_attr \"type\" \"fdiv\")\n        (and (eq_attr \"mode\" \"SF\")\n-\t    (eq_attr \"cpu\" \"!r3000,r3900,r6000,r4600,r4650,r4300,r4320,r5000\")))\n+\t    (eq_attr \"cpu\" \"!r3000,r3900,r6000,r4600,r4650,r4300,r5000\")))\n   23 0)\n \n (define_function_unit \"divide\" 1 1\n@@ -431,7 +431,7 @@\n (define_function_unit \"divide\" 1 1\n   (and (eq_attr \"type\" \"fdiv\")\n        (and (eq_attr \"mode\" \"DF\")\n-\t    (eq_attr \"cpu\" \"!r3000,r3900,r6000,r4600,r4650,r4300,r4320\")))\n+\t    (eq_attr \"cpu\" \"!r3000,r3900,r6000,r4600,r4650,r4300\")))\n   36 0)\n \n (define_function_unit \"divide\" 1 1\n@@ -452,7 +452,7 @@\n ;;; ??? Is this number right?\n (define_function_unit \"divide\" 1 1\n   (and (eq_attr \"type\" \"fsqrt,frsqrt\")\n-       (and (eq_attr \"mode\" \"SF\") (eq_attr \"cpu\" \"!r4600,r4650,r4300,r4320,r5000\")))\n+       (and (eq_attr \"mode\" \"SF\") (eq_attr \"cpu\" \"!r4600,r4650,r4300,r5000\")))\n   54 0)\n \n (define_function_unit \"divide\" 1 1\n@@ -468,7 +468,7 @@\n ;;; ??? Is this number right?\n (define_function_unit \"divide\" 1 1\n   (and (eq_attr \"type\" \"fsqrt,frsqrt\")\n-       (and (eq_attr \"mode\" \"DF\") (eq_attr \"cpu\" \"!r4600,r4650,r4300,r4320,r5000\")))\n+       (and (eq_attr \"mode\" \"DF\") (eq_attr \"cpu\" \"!r4600,r4650,r4300,r5000\")))\n   112 0)\n \n (define_function_unit \"divide\" 1 1\n@@ -485,27 +485,27 @@\n ;; functional unit:\n \n (define_function_unit \"imuldiv\" 1 0\n-  (and (eq_attr \"type\" \"fadd\") (eq_attr \"cpu\" \"r4300,r4320\"))\n+  (and (eq_attr \"type\" \"fadd\") (eq_attr \"cpu\" \"r4300\"))\n   3 3)\n \n (define_function_unit \"imuldiv\" 1 0\n-  (and (eq_attr \"type\" \"fcmp,fabs,fneg\") (eq_attr \"cpu\" \"r4300,r4320\"))\n+  (and (eq_attr \"type\" \"fcmp,fabs,fneg\") (eq_attr \"cpu\" \"r4300\"))\n   1 1)\n \n (define_function_unit \"imuldiv\" 1 0\n-  (and (eq_attr \"type\" \"fmul\") (and (eq_attr \"mode\" \"SF\") (eq_attr \"cpu\" \"r4300,r4320\")))\n+  (and (eq_attr \"type\" \"fmul\") (and (eq_attr \"mode\" \"SF\") (eq_attr \"cpu\" \"r4300\")))\n   5 5)\n (define_function_unit \"imuldiv\" 1 0\n-  (and (eq_attr \"type\" \"fmul\") (and (eq_attr \"mode\" \"DF\") (eq_attr \"cpu\" \"r4300,r4320\")))\n+  (and (eq_attr \"type\" \"fmul\") (and (eq_attr \"mode\" \"DF\") (eq_attr \"cpu\" \"r4300\")))\n   8 8)\n \n (define_function_unit \"imuldiv\" 1 0\n   (and (and (eq_attr \"type\" \"fdiv\") (eq_attr \"type\" \"fsqrt,frsqrt\"))\n-       (and (eq_attr \"mode\" \"SF\") (eq_attr \"cpu\" \"r4300,r4320\")))\n+       (and (eq_attr \"mode\" \"SF\") (eq_attr \"cpu\" \"r4300\")))\n   29 29)\n (define_function_unit \"imuldiv\" 1 0\n   (and (and (eq_attr \"type\" \"fdiv\") (eq_attr \"type\" \"fsqrt,frsqrt\"))\n-       (and (eq_attr \"mode\" \"DF\") (eq_attr \"cpu\" \"r4300,r4320\")))\n+       (and (eq_attr \"mode\" \"DF\") (eq_attr \"cpu\" \"r4300\")))\n   58 58)\n \f\n ;; The following functional units do not use the cpu type, and use\n@@ -1694,8 +1694,7 @@\n   \"TARGET_HARD_FLOAT && TARGET_DOUBLE_FLOAT\"\n   \"\n {\n-  if (!TARGET_MIPS4300\n-      && !TARGET_MIPS4320)\n+  if (!TARGET_MIPS4300)\n     emit_insn (gen_muldf3_internal (operands[0], operands[1], operands[2]));\n   else\n     emit_insn (gen_muldf3_r4300 (operands[0], operands[1], operands[2]));\n@@ -1706,8 +1705,7 @@\n   [(set (match_operand:DF 0 \"register_operand\" \"=f\")\n \t(mult:DF (match_operand:DF 1 \"register_operand\" \"f\")\n \t\t (match_operand:DF 2 \"register_operand\" \"f\")))]\n-  \"TARGET_HARD_FLOAT && TARGET_DOUBLE_FLOAT\n-   && !TARGET_MIPS4300 &&!TARGET_MIPS4320\"\n+  \"TARGET_HARD_FLOAT && TARGET_DOUBLE_FLOAT && !TARGET_MIPS4300\"\n   \"mul.d\\\\t%0,%1,%2\"\n   [(set_attr \"type\"\t\"fmul\")\n    (set_attr \"mode\"\t\"DF\")])\n@@ -1716,8 +1714,7 @@\n   [(set (match_operand:DF 0 \"register_operand\" \"=f\")\n \t(mult:DF (match_operand:DF 1 \"register_operand\" \"f\")\n \t\t (match_operand:DF 2 \"register_operand\" \"f\")))]\n-  \"TARGET_HARD_FLOAT && TARGET_DOUBLE_FLOAT\n-   && (TARGET_MIPS4300 || TARGET_MIPS4320)\"\n+  \"TARGET_HARD_FLOAT && TARGET_DOUBLE_FLOAT && TARGET_MIPS4300\"\n   \"*\n {\n   output_asm_insn (\\\"mul.d\\\\t%0,%1,%2\\\", operands);\n@@ -1736,7 +1733,7 @@\n   \"TARGET_HARD_FLOAT\"\n   \"\n {\n-  if (!TARGET_MIPS4300 && !TARGET_MIPS4320)\n+  if (!TARGET_MIPS4300)\n     emit_insn( gen_mulsf3_internal (operands[0], operands[1], operands[2]));\n   else\n     emit_insn( gen_mulsf3_r4300 (operands[0], operands[1], operands[2]));\n@@ -1747,8 +1744,7 @@\n   [(set (match_operand:SF 0 \"register_operand\" \"=f\")\n \t(mult:SF (match_operand:SF 1 \"register_operand\" \"f\")\n \t\t (match_operand:SF 2 \"register_operand\" \"f\")))]\n-  \"TARGET_HARD_FLOAT\n-   && !TARGET_MIPS4300 && !TARGET_MIPS4320\"\n+  \"TARGET_HARD_FLOAT && !TARGET_MIPS4300\"\n   \"mul.s\\\\t%0,%1,%2\"\n   [(set_attr \"type\"\t\"fmul\")\n    (set_attr \"mode\"\t\"SF\")])\n@@ -1757,8 +1753,7 @@\n   [(set (match_operand:SF 0 \"register_operand\" \"=f\")\n \t(mult:SF (match_operand:SF 1 \"register_operand\" \"f\")\n \t\t (match_operand:SF 2 \"register_operand\" \"f\")))]\n-  \"TARGET_HARD_FLOAT\n-   && (TARGET_MIPS4300 || TARGET_MIPS4320)\"\n+  \"TARGET_HARD_FLOAT && TARGET_MIPS4300\"\n   \"*\n {\n   output_asm_insn (\\\"mul.s\\\\t%0,%1,%2\\\", operands);\n@@ -1809,7 +1804,6 @@\n   if (TARGET_MAD\n       || TARGET_MIPS5400\n       || TARGET_MIPS5500\n-      || TARGET_MIPS4320\n       || ISA_MIPS32\n       || ISA_MIPS64)\n     return \\\"mul\\\\t%0,%1,%2\\\";\n@@ -1874,7 +1868,6 @@\n    (clobber (match_scratch:SI 6 \"=a,a,a\"))\n    (clobber (match_scratch:SI 7 \"=X,X,d\"))]\n   \"(TARGET_MIPS3900\n-   || TARGET_MIPS4320\n    || TARGET_MIPS5400\n    || TARGET_MIPS5500\n    || ISA_HAS_MADD_MSUB)\n@@ -1899,9 +1892,6 @@\n         return macc[which_alternative];\n     }\n \n-  if (TARGET_MIPS4320)\n-    return macc[which_alternative];\n-\n   return madd[which_alternative];\n }\"\n   [(set_attr \"type\"\t\"imadd,imadd,multi\")"}]}