{"sha": "dbd368da835ac97572e449eb62d28b6d7f118db3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGJkMzY4ZGE4MzVhYzk3NTcyZTQ0OWViNjJkMjhiNmQ3ZjExOGRiMw==", "commit": {"author": {"name": "Tomas Bily", "email": "tbily@suse.cz", "date": "2008-05-12T13:08:27Z"}, "committer": {"name": "Tomas Bily", "email": "tomby@gcc.gnu.org", "date": "2008-05-12T13:08:27Z"}, "message": "objc-act.c (objc_generate_write_barrier, [...]): Use CONVERT_EXPR_P.\n\n        * objc-act.c (objc_generate_write_barrier,\n        objc_finish_message_expr): Use CONVERT_EXPR_P.\n\nFrom-SVN: r135212", "tree": {"sha": "1eb5fdc76a8393a63ee5afab5a0810a8abacf04b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1eb5fdc76a8393a63ee5afab5a0810a8abacf04b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dbd368da835ac97572e449eb62d28b6d7f118db3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dbd368da835ac97572e449eb62d28b6d7f118db3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dbd368da835ac97572e449eb62d28b6d7f118db3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dbd368da835ac97572e449eb62d28b6d7f118db3/comments", "author": null, "committer": null, "parents": [{"sha": "708b13b6ec7be63aa912444f1d4a9ee834692305", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/708b13b6ec7be63aa912444f1d4a9ee834692305", "html_url": "https://github.com/Rust-GCC/gccrs/commit/708b13b6ec7be63aa912444f1d4a9ee834692305"}], "stats": {"total": 11, "additions": 7, "deletions": 4}, "files": [{"sha": "62fb91d6329c2053960c7b3ea12e7759fe4dc9da", "filename": "gcc/objc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dbd368da835ac97572e449eb62d28b6d7f118db3/gcc%2Fobjc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dbd368da835ac97572e449eb62d28b6d7f118db3/gcc%2Fobjc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2FChangeLog?ref=dbd368da835ac97572e449eb62d28b6d7f118db3", "patch": "@@ -1,3 +1,8 @@\n+2008-05-12  Tomas Bily  <tbily@suse.cz>\n+\n+        * objc-act.c (objc_generate_write_barrier, objc_finish_message_expr):\n+        Use CONVERT_EXPR_P.\n+\n 2008-04-23  Paolo Bonzini  <bonzini@gnu.org>\n \n \t* objc-act.c (objc_build_string_object): Don't set TREE_INVARIANT."}, {"sha": "b19821cf4ee78c392a21dc421a78574a656447ca", "filename": "gcc/objc/objc-act.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dbd368da835ac97572e449eb62d28b6d7f118db3/gcc%2Fobjc%2Fobjc-act.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dbd368da835ac97572e449eb62d28b6d7f118db3/gcc%2Fobjc%2Fobjc-act.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2Fobjc-act.c?ref=dbd368da835ac97572e449eb62d28b6d7f118db3", "patch": "@@ -3164,8 +3164,7 @@ objc_generate_write_barrier (tree lhs, enum tree_code modifycode, tree rhs)\n       outer = TREE_OPERAND (lhs, 0);\n \n       while (!strong_cast_p\n-\t     && (TREE_CODE (outer) == CONVERT_EXPR\n-\t\t || TREE_CODE (outer) == NOP_EXPR\n+\t     && (CONVERT_EXPR_P (outer)\n \t\t || TREE_CODE (outer) == NON_LVALUE_EXPR))\n \t{\n \t  tree lhstype = TREE_TYPE (outer);\n@@ -6267,8 +6266,7 @@ objc_finish_message_expr (tree receiver, tree sel_name, tree method_params)\n   rtype = receiver;\n   while (TREE_CODE (rtype) == COMPOUND_EXPR\n \t      || TREE_CODE (rtype) == MODIFY_EXPR\n-\t      || TREE_CODE (rtype) == NOP_EXPR\n-\t      || TREE_CODE (rtype) == CONVERT_EXPR\n+\t      || CONVERT_EXPR_P (rtype)\n \t      || TREE_CODE (rtype) == COMPONENT_REF)\n     rtype = TREE_OPERAND (rtype, 0);\n   self = (rtype == self_decl);"}]}