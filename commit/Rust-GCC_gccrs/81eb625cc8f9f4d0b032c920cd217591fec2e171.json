{"sha": "81eb625cc8f9f4d0b032c920cd217591fec2e171", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODFlYjYyNWNjOGY5ZjRkMGIwMzJjOTIwY2QyMTc1OTFmZWMyZTE3MQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-10-12T13:05:11Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-10-12T13:05:11Z"}, "message": "[multiple changes]\n\n2010-10-12  Emmanuel Briot  <briot@adacore.com>\n\n\t* g-comlin.adb, g-comlin.ads (Define_Switch): Put back (unused)\n\tparameter Separator for backward compatibility.\n\n2010-10-12  Robert Dewar  <dewar@adacore.com>\n\n\t* sem_ch9.adb, par-ch9.adb, impunit.adb: Minor reformatting.\n\n2010-10-12  Emmanuel Briot  <briot@adacore.com>\n\n\t* switch-m.adb: Remove pragma Warnings (Off), not needed.\n\n2010-10-12  Vincent Celier  <celier@adacore.com>\n\n\t* debug.adb: Put detailed documentation for gnatmake switch -dm.\n\n2010-10-12  Vincent Celier  <celier@adacore.com>\n\n\t* gnat1drv.adb: When the compiler is invoked for a spec that needs aw\n\tbody, do not generate an ALI file if neither -gnatc nor -gnatQ is used.\n\nFrom-SVN: r165375", "tree": {"sha": "d66d363dfedd8a914cf032984a401e84ecb11169", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d66d363dfedd8a914cf032984a401e84ecb11169"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/81eb625cc8f9f4d0b032c920cd217591fec2e171", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/81eb625cc8f9f4d0b032c920cd217591fec2e171", "html_url": "https://github.com/Rust-GCC/gccrs/commit/81eb625cc8f9f4d0b032c920cd217591fec2e171", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/81eb625cc8f9f4d0b032c920cd217591fec2e171/comments", "author": null, "committer": null, "parents": [{"sha": "9acd1a9c23637191ac030b6bfc9603f8708700e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9acd1a9c23637191ac030b6bfc9603f8708700e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9acd1a9c23637191ac030b6bfc9603f8708700e7"}], "stats": {"total": 77, "additions": 60, "deletions": 17}, "files": [{"sha": "016c2083fa14f517b63ba617b9d50f0e05153aec", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 18, "deletions": 4, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81eb625cc8f9f4d0b032c920cd217591fec2e171/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81eb625cc8f9f4d0b032c920cd217591fec2e171/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=81eb625cc8f9f4d0b032c920cd217591fec2e171", "patch": "@@ -1,12 +1,26 @@\n+2010-10-12  Emmanuel Briot  <briot@adacore.com>\n+\n+\t* g-comlin.adb, g-comlin.ads (Define_Switch): Put back (unused)\n+\tparameter Separator for backward compatibility.\n+\n+2010-10-12  Robert Dewar  <dewar@adacore.com>\n+\n+\t* sem_ch9.adb, par-ch9.adb, impunit.adb: Minor reformatting.\n+\n+2010-10-12  Vincent Celier  <celier@adacore.com>\n+\n+\t* debug.adb: Put detailed documentation for gnatmake switch -dm.\n+\n+2010-10-12  Vincent Celier  <celier@adacore.com>\n+\n+\t* gnat1drv.adb: When the compiler is invoked for a spec that needs aw\n+\tbody, do not generate an ALI file if neither -gnatc nor -gnatQ is used.\n+\n 2010-10-12  Arnaud Charlet  <charlet@adacore.com>\n \n \t* g-comlin.adb (Foreach_Switch): Make this procedure generic to avoid\n \tusing 'Access.\n \n-2010-10-12  Emmanuel Briot  <briot@adacore.com>\n-\n-\t* switch-m.adb: Allow building even in -gnat05 mode.\n-\n 2010-10-12  Robert Dewar  <dewar@adacore.com>\n \n \t* debug.adb: Add comment."}, {"sha": "5bfe7c422711fcf2b4ef4a2d88c41603ef51c002", "filename": "gcc/ada/debug.adb", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81eb625cc8f9f4d0b032c920cd217591fec2e171/gcc%2Fada%2Fdebug.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81eb625cc8f9f4d0b032c920cd217591fec2e171/gcc%2Fada%2Fdebug.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdebug.adb?ref=81eb625cc8f9f4d0b032c920cd217591fec2e171", "patch": "@@ -698,7 +698,8 @@ package body Debug is\n \n    --  df  Only output file names, not path names, in log\n \n-   --  dm  Needs documentation ???\n+   --  dm  Issue a message indicating the maximum number of simultaneous\n+   --      compilations.\n \n    --  dn  Do not delete temporary files created by gnatmake at the end\n    --      of execution, such as temporary config pragma files, mapping"}, {"sha": "843dcd7dd322551367a55552e9e685d8cb022476", "filename": "gcc/ada/g-comlin.adb", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81eb625cc8f9f4d0b032c920cd217591fec2e171/gcc%2Fada%2Fg-comlin.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81eb625cc8f9f4d0b032c920cd217591fec2e171/gcc%2Fada%2Fg-comlin.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-comlin.adb?ref=81eb625cc8f9f4d0b032c920cd217591fec2e171", "patch": "@@ -1599,7 +1599,8 @@ package body GNAT.Command_Line is\n                         Add_Switch (Cmd, Sw, Parameter (Parser));\n                      else\n                         Add_Switch\n-                          (Cmd, Sw, Parameter (Parser), Section.all);\n+                          (Cmd, Sw, Parameter (Parser),\n+                           Section => Section.all);\n                      end if;\n                   end if;\n                end;\n@@ -2052,13 +2053,15 @@ package body GNAT.Command_Line is\n      (Cmd        : in out Command_Line;\n       Switch     : String;\n       Parameter  : String    := \"\";\n+      Separator  : Character := ' ';\n       Section    : String    := \"\";\n       Add_Before : Boolean   := False)\n    is\n       Success : Boolean;\n       pragma Unreferenced (Success);\n    begin\n-      Add_Switch (Cmd, Switch, Parameter, Section, Add_Before, Success);\n+      Add_Switch (Cmd, Switch, Parameter, Separator,\n+                  Section, Add_Before, Success);\n    end Add_Switch;\n \n    ----------------\n@@ -2069,10 +2072,13 @@ package body GNAT.Command_Line is\n      (Cmd        : in out Command_Line;\n       Switch     : String;\n       Parameter  : String := \"\";\n+      Separator  : Character := ' ';\n       Section    : String := \"\";\n       Add_Before : Boolean := False;\n       Success    : out Boolean)\n    is\n+      pragma Unreferenced (Separator);  --  ??? Should be removed eventually\n+\n       procedure Add_Simple_Switch\n         (Simple    : String;\n          Separator : String;"}, {"sha": "50ae802c1e2f4514faa1c02a3a2fd1cb1fb42642", "filename": "gcc/ada/g-comlin.ads", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81eb625cc8f9f4d0b032c920cd217591fec2e171/gcc%2Fada%2Fg-comlin.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81eb625cc8f9f4d0b032c920cd217591fec2e171/gcc%2Fada%2Fg-comlin.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-comlin.ads?ref=81eb625cc8f9f4d0b032c920cd217591fec2e171", "patch": "@@ -799,6 +799,7 @@ package GNAT.Command_Line is\n      (Cmd        : in out Command_Line;\n       Switch     : String;\n       Parameter  : String    := \"\";\n+      Separator  : Character := ' ';\n       Section    : String    := \"\";\n       Add_Before : Boolean   := False);\n    --  Add a new switch to the command line, and combine/group it with existing\n@@ -825,6 +826,9 @@ package GNAT.Command_Line is\n    --  added if not already present. For example, to add the -g switch into the\n    --  -cargs section, you need to call (Cmd, \"-g\", Section => \"-cargs\").\n    --\n+   --  [Separator] is ignored, and kept for backward compatibility only.\n+   --  ??? It might be removed in future versions.\n+   --\n    --  Invalid_Section is raised if Section was not defined in the\n    --  configuration of the command line.\n    --\n@@ -835,6 +839,7 @@ package GNAT.Command_Line is\n      (Cmd        : in out Command_Line;\n       Switch     : String;\n       Parameter  : String    := \"\";\n+      Separator  : Character := ' ';\n       Section    : String    := \"\";\n       Add_Before : Boolean   := False;\n       Success    : out Boolean);"}, {"sha": "53041cea1336b07b4d0d4bebf31051e5dbdc38d8", "filename": "gcc/ada/gnat1drv.adb", "status": "modified", "additions": 20, "deletions": 1, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81eb625cc8f9f4d0b032c920cd217591fec2e171/gcc%2Fada%2Fgnat1drv.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81eb625cc8f9f4d0b032c920cd217591fec2e171/gcc%2Fada%2Fgnat1drv.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat1drv.adb?ref=81eb625cc8f9f4d0b032c920cd217591fec2e171", "patch": "@@ -863,10 +863,18 @@ begin\n             Write_Str (\" (missing subunits)\");\n             Write_Eol;\n \n+            --  Force generation of ALI file, for backward compatibility\n+\n+            Opt.Force_ALI_Tree_File := True;\n+\n          elsif Main_Kind = N_Subunit then\n             Write_Str (\" (subunit)\");\n             Write_Eol;\n \n+            --  Force generation of ALI file, for backward compatibility\n+\n+            Opt.Force_ALI_Tree_File := True;\n+\n          elsif Main_Kind = N_Subprogram_Declaration then\n             Write_Str (\" (subprogram spec)\");\n             Write_Eol;\n@@ -877,6 +885,10 @@ begin\n             Write_Str (\" (predefined generic)\");\n             Write_Eol;\n \n+            --  Force generation of ALI file, for backward compatibility\n+\n+            Opt.Force_ALI_Tree_File := True;\n+\n          --  Only other case is a package spec\n \n          else\n@@ -893,7 +905,14 @@ begin\n          Errout.Output_Messages;\n          Treepr.Tree_Dump;\n          Tree_Gen;\n-         Write_ALI (Object => False);\n+\n+         --  Generate ALI file if specially requested, or for missing subunits,\n+         --  subunits or predefined generic.\n+\n+         if Opt.Force_ALI_Tree_File then\n+            Write_ALI (Object => False);\n+         end if;\n+\n          Namet.Finalize;\n          Check_Rep_Info;\n "}, {"sha": "e49d096c1c3935372f16968118d2c3b603e6ce1c", "filename": "gcc/ada/impunit.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81eb625cc8f9f4d0b032c920cd217591fec2e171/gcc%2Fada%2Fimpunit.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81eb625cc8f9f4d0b032c920cd217591fec2e171/gcc%2Fada%2Fimpunit.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fimpunit.adb?ref=81eb625cc8f9f4d0b032c920cd217591fec2e171", "patch": "@@ -501,7 +501,7 @@ package body Impunit is\n    -- Ada 2012 Units --\n    --------------------\n \n-   --  The following units should be used only in Ada 05 mode\n+   --  The following units should be used only in Ada 2012 mode\n \n    Non_Imp_File_Names_12 : constant File_List := (\n      0 => \"s-multip\");   -- System.Mutiprocessors"}, {"sha": "5c18adf21cab044af1384776046ed17b61234176", "filename": "gcc/ada/par-ch9.adb", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81eb625cc8f9f4d0b032c920cd217591fec2e171/gcc%2Fada%2Fpar-ch9.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81eb625cc8f9f4d0b032c920cd217591fec2e171/gcc%2Fada%2Fpar-ch9.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fpar-ch9.adb?ref=81eb625cc8f9f4d0b032c920cd217591fec2e171", "patch": "@@ -810,6 +810,7 @@ package body Ch9 is\n    --    [OVERRIDING_INDICATOR]\n    --    entry DEFINING_IDENTIFIER [(DISCRETE_SUBTYPE_DEFINITION)]\n    --      PARAMETER_PROFILE;\n+   --        [ASPECT_SPECIFICATIONS];\n \n    --  The caller has checked that the initial token is ENTRY, NOT or\n    --  OVERRIDING."}, {"sha": "e060504d505eeba9fdd3a6b3eef9997ae8e3d275", "filename": "gcc/ada/sem_ch9.adb", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81eb625cc8f9f4d0b032c920cd217591fec2e171/gcc%2Fada%2Fsem_ch9.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81eb625cc8f9f4d0b032c920cd217591fec2e171/gcc%2Fada%2Fsem_ch9.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch9.adb?ref=81eb625cc8f9f4d0b032c920cd217591fec2e171", "patch": "@@ -194,11 +194,11 @@ package body Sem_Ch9 is\n          return;\n       end if;\n \n-      --  In order to process the parameters, we create a defining\n-      --  identifier that can be used as the name of the scope. The\n-      --  name of the accept statement itself is not a defining identifier,\n-      --  and we cannot use its name directly because the task may have\n-      --  any number of accept statements for the same entry.\n+      --  In order to process the parameters, we create a defining identifier\n+      --  that can be used as the name of the scope. The name of the accept\n+      --  statement itself is not a defining identifier, and we cannot use\n+      --  its name directly because the task may have any number of accept\n+      --  statements for the same entry.\n \n       if Present (Index) then\n          Accept_Id := New_Internal_Entity\n@@ -277,7 +277,6 @@ package body Sem_Ch9 is\n          if Entry_Nam = Scope_Stack.Table (J).Entity then\n             Error_Msg_N (\"duplicate accept statement for same entry\", N);\n          end if;\n-\n       end loop;\n \n       declare"}, {"sha": "ab775b53f33b83a4b6118089dfd4ca69016cad3a", "filename": "gcc/ada/switch-m.adb", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81eb625cc8f9f4d0b032c920cd217591fec2e171/gcc%2Fada%2Fswitch-m.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81eb625cc8f9f4d0b032c920cd217591fec2e171/gcc%2Fada%2Fswitch-m.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fswitch-m.adb?ref=81eb625cc8f9f4d0b032c920cd217591fec2e171", "patch": "@@ -31,9 +31,7 @@ with Prj;      use Prj;\n with Prj.Env;  use Prj.Env;\n with Table;\n \n-pragma Warnings (Off, \"*is an Ada 2012 unit\");\n with System.Multiprocessors; use System.Multiprocessors;\n-pragma Warnings (On, \"*is an Ada 2012 unit\");\n \n package body Switch.M is\n "}]}