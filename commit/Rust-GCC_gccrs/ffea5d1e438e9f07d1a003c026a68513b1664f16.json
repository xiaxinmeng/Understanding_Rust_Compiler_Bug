{"sha": "ffea5d1e438e9f07d1a003c026a68513b1664f16", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmZlYTVkMWU0MzhlOWYwN2QxYTAwM2MwMjZhNjg1MTNiMTY2NGYxNg==", "commit": {"author": {"name": "Alan Modra", "email": "amodra@bigpond.net.au", "date": "2003-05-07T13:37:57Z"}, "committer": {"name": "Alan Modra", "email": "amodra@gcc.gnu.org", "date": "2003-05-07T13:37:57Z"}, "message": "function.c (assign_parms): Correct reversed reg_parm_stack_space test.\n\n\t* function.c (assign_parms): Correct reversed reg_parm_stack_space\n\ttest.  Add partial in-regs size to stack_args_size.\n\nFrom-SVN: r66560", "tree": {"sha": "27d8cd19379c5056ad82773989f7dc733d5d0ff6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/27d8cd19379c5056ad82773989f7dc733d5d0ff6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ffea5d1e438e9f07d1a003c026a68513b1664f16", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ffea5d1e438e9f07d1a003c026a68513b1664f16", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ffea5d1e438e9f07d1a003c026a68513b1664f16", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ffea5d1e438e9f07d1a003c026a68513b1664f16/comments", "author": null, "committer": null, "parents": [{"sha": "cd96b185c55c02d9a74755489deffd3e287e6060", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd96b185c55c02d9a74755489deffd3e287e6060", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cd96b185c55c02d9a74755489deffd3e287e6060"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "09c1efa8b21295c4c2fd3b200c52a8ca28b912fb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ffea5d1e438e9f07d1a003c026a68513b1664f16/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ffea5d1e438e9f07d1a003c026a68513b1664f16/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ffea5d1e438e9f07d1a003c026a68513b1664f16", "patch": "@@ -1,3 +1,8 @@\n+2003-05-07  Alan Modra  <amodra@bigpond.net.au>\n+\n+\t* function.c (assign_parms): Correct reversed reg_parm_stack_space\n+\ttest.  Add partial in-regs size to stack_args_size.\n+\n 2003-05-07  Gerald Pfeifer  <pfeifer@dbai.tuwien.ac.at>\n \n \t* doc/invoke.texi (Warning Options): Mark -Wmissing-declarations"}, {"sha": "f9c0e42fa4d2430ea4a7dd16a73a1fd6800b5c47", "filename": "gcc/function.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ffea5d1e438e9f07d1a003c026a68513b1664f16/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ffea5d1e438e9f07d1a003c026a68513b1664f16/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=ffea5d1e438e9f07d1a003c026a68513b1664f16", "patch": "@@ -4644,7 +4644,7 @@ assign_parms (fndecl)\n \t  /* When REG_PARM_STACK_SPACE is nonzero, stack space for\n \t     split parameters was allocated by our caller, so we\n \t     won't be pushing it in the prolog.  */\n-\t  if (reg_parm_stack_space)\n+\t  if (reg_parm_stack_space == 0)\n #endif\n \t  current_function_pretend_args_size\n \t    = (((partial * UNITS_PER_WORD) + (PARM_BOUNDARY / BITS_PER_UNIT) - 1)\n@@ -4694,6 +4694,9 @@ assign_parms (fndecl)\n \t  )\n \t{\n \t  stack_args_size.constant += locate.size.constant;\n+\t  /* locate.size doesn't include the part in regs.  */\n+\t  if (partial)\n+\t    stack_args_size.constant += current_function_pretend_args_size;\n \t  if (locate.size.var)\n \t    ADD_PARM_SIZE (stack_args_size, locate.size.var);\n \t}"}]}