{"sha": "4ae35e698893dcf2b11ab6fa7b39a9f5e0973cd8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGFlMzVlNjk4ODkzZGNmMmIxMWFiNmZhN2IzOWE5ZjVlMDk3M2NkOA==", "commit": {"author": {"name": "Senthil Kumar Selvaraj", "email": "senthil_kumar.selvaraj@atmel.com", "date": "2016-11-25T08:15:42Z"}, "committer": {"name": "Senthil Kumar Selvaraj", "email": "saaadhu@gcc.gnu.org", "date": "2016-11-25T08:15:42Z"}, "message": "Fix bogus pr64277.c failure for avr\n\nThe smaller int size for the avr target breaks the test's\nexpectation on the number of iterations. The failure goes\naway if 32 bit ints are used in place of a plain int.\n\nFix by conditionally typedef int32_t to __INT32_TYPE__ for targets\nwith int size < 4,  and then use int32_t everywhere.\n\ngcc/testsuite\n016-11-25  Senthil Kumar Selvaraj  <senthil_kumar.selvaraj@atmel.com>\n\n\t* gcc.dg/pr64277.c: Use __INT32_TYPE__ for targets\n\twith sizeof(int) < 4.\n\nFrom-SVN: r242859", "tree": {"sha": "b6c0e028218f8b10fe10b8a57fb487796b0ef6eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b6c0e028218f8b10fe10b8a57fb487796b0ef6eb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4ae35e698893dcf2b11ab6fa7b39a9f5e0973cd8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ae35e698893dcf2b11ab6fa7b39a9f5e0973cd8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4ae35e698893dcf2b11ab6fa7b39a9f5e0973cd8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ae35e698893dcf2b11ab6fa7b39a9f5e0973cd8/comments", "author": null, "committer": {"login": "saaadhu", "id": 532256, "node_id": "MDQ6VXNlcjUzMjI1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/532256?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saaadhu", "html_url": "https://github.com/saaadhu", "followers_url": "https://api.github.com/users/saaadhu/followers", "following_url": "https://api.github.com/users/saaadhu/following{/other_user}", "gists_url": "https://api.github.com/users/saaadhu/gists{/gist_id}", "starred_url": "https://api.github.com/users/saaadhu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saaadhu/subscriptions", "organizations_url": "https://api.github.com/users/saaadhu/orgs", "repos_url": "https://api.github.com/users/saaadhu/repos", "events_url": "https://api.github.com/users/saaadhu/events{/privacy}", "received_events_url": "https://api.github.com/users/saaadhu/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2131e489c9f181e3d445e8e5412407ad32a8875c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2131e489c9f181e3d445e8e5412407ad32a8875c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2131e489c9f181e3d445e8e5412407ad32a8875c"}], "stats": {"total": 17, "additions": 14, "deletions": 3}, "files": [{"sha": "1028191731fc7975e957ab4b686426e5a2f2b01f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4ae35e698893dcf2b11ab6fa7b39a9f5e0973cd8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4ae35e698893dcf2b11ab6fa7b39a9f5e0973cd8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4ae35e698893dcf2b11ab6fa7b39a9f5e0973cd8", "patch": "@@ -1,3 +1,8 @@\n+2016-11-25  Senthil Kumar Selvaraj  <senthil_kumar.selvaraj@atmel.com>\n+\n+\t* gcc.dg/pr64277.c: Use __INT32_TYPE__ for targets\n+\twith sizeof(int) < 4. \n+\n 2016-11-24  Martin Sebor  <msebor@redhat.com>\n \n \tPR tree-optimization/78476"}, {"sha": "813301f2d04954090cf0a6a98fb06080d7e2613b", "filename": "gcc/testsuite/gcc.dg/pr64277.c", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4ae35e698893dcf2b11ab6fa7b39a9f5e0973cd8/gcc%2Ftestsuite%2Fgcc.dg%2Fpr64277.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4ae35e698893dcf2b11ab6fa7b39a9f5e0973cd8/gcc%2Ftestsuite%2Fgcc.dg%2Fpr64277.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr64277.c?ref=4ae35e698893dcf2b11ab6fa7b39a9f5e0973cd8", "patch": "@@ -4,17 +4,23 @@\n /* { dg-final { scan-tree-dump \"loop with 5 iterations completely unrolled\" \"cunroll\" } } */\n /* { dg-final { scan-tree-dump \"loop with 6 iterations completely unrolled\" \"cunroll\" } } */\n \n-int f1[10];\n+#if __SIZEOF_INT__ < 4\n+  __extension__ typedef __INT32_TYPE__ int32_t;\n+#else\n+  typedef int int32_t;\n+#endif\n+\n+int32_t f1[10];\n void test1 (short a[], short m, unsigned short l)\n {\n-  int i = l;\n+  int32_t i = l;\n   for (i = i + 5; i < m; i++)\n     f1[i] = a[i]++;\n }\n \n void test2 (short a[], short m, short l)\n {\n-  int i;\n+  int32_t i;\n   if (m > 5)\n     m = 5;\n   for (i = m; i > l; i--)"}]}