{"sha": "32377c101934477e3d27fec9c6a22f1c97ccf730", "node_id": "C_kwDOANBUbNoAKDMyMzc3YzEwMTkzNDQ3N2UzZDI3ZmVjOWM2YTIyZjFjOTdjY2Y3MzA", "commit": {"author": {"name": "Andrew Pinski", "email": "apinski@marvell.com", "date": "2021-11-28T01:14:59Z"}, "committer": {"name": "Andrew Pinski", "email": "apinski@marvell.com", "date": "2021-11-28T22:40:36Z"}, "message": "Fix PR 62157: disclean in libsanitizer not working\n\nSo what is happening is DIST_SUBDIRS contains the conditional\ndirectories which is wrong, so we need to force DIST_SUBDIRS\nto be the same as SUBDIRS as recommened by the automake manual.\n\nOK? Bootstrapped and tested on x86_64-linux-gnu with no regressions.\nAlso now make distclean works inside libsanitizer directory.\n\nlibsanitizer/ChangeLog:\n\n\tPR sanitizer/62157\n\t* Makefile.am: Force DIST_SUBDIRS to be SUBDIRS.\n\t* Makefile.in: Regenerate.\n\t* asan/Makefile.in: Likewise.\n\t* hwasan/Makefile.in: Likewise.\n\t* interception/Makefile.in: Likewise.\n\t* libbacktrace/Makefile.in: Likewise.\n\t* lsan/Makefile.in: Likewise.\n\t* sanitizer_common/Makefile.in: Likewise.\n\t* tsan/Makefile.in: Likewise.\n\t* ubsan/Makefile.in: Likewise.", "tree": {"sha": "a74fcd3bad0811b0690bcd2c3a7dfd1955e5088c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a74fcd3bad0811b0690bcd2c3a7dfd1955e5088c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/32377c101934477e3d27fec9c6a22f1c97ccf730", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32377c101934477e3d27fec9c6a22f1c97ccf730", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32377c101934477e3d27fec9c6a22f1c97ccf730", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32377c101934477e3d27fec9c6a22f1c97ccf730/comments", "author": {"login": "apinski-cavium", "id": 6335315, "node_id": "MDQ6VXNlcjYzMzUzMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6335315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apinski-cavium", "html_url": "https://github.com/apinski-cavium", "followers_url": "https://api.github.com/users/apinski-cavium/followers", "following_url": "https://api.github.com/users/apinski-cavium/following{/other_user}", "gists_url": "https://api.github.com/users/apinski-cavium/gists{/gist_id}", "starred_url": "https://api.github.com/users/apinski-cavium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apinski-cavium/subscriptions", "organizations_url": "https://api.github.com/users/apinski-cavium/orgs", "repos_url": "https://api.github.com/users/apinski-cavium/repos", "events_url": "https://api.github.com/users/apinski-cavium/events{/privacy}", "received_events_url": "https://api.github.com/users/apinski-cavium/received_events", "type": "User", "site_admin": false}, "committer": {"login": "apinski-cavium", "id": 6335315, "node_id": "MDQ6VXNlcjYzMzUzMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6335315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apinski-cavium", "html_url": "https://github.com/apinski-cavium", "followers_url": "https://api.github.com/users/apinski-cavium/followers", "following_url": "https://api.github.com/users/apinski-cavium/following{/other_user}", "gists_url": "https://api.github.com/users/apinski-cavium/gists{/gist_id}", "starred_url": "https://api.github.com/users/apinski-cavium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apinski-cavium/subscriptions", "organizations_url": "https://api.github.com/users/apinski-cavium/orgs", "repos_url": "https://api.github.com/users/apinski-cavium/repos", "events_url": "https://api.github.com/users/apinski-cavium/events{/privacy}", "received_events_url": "https://api.github.com/users/apinski-cavium/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2899d49e3701a4df18a336a680a7095cc99a2229", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2899d49e3701a4df18a336a680a7095cc99a2229", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2899d49e3701a4df18a336a680a7095cc99a2229"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "53e20bdac2c5c43b55845a982377ab5688d50a4c", "filename": "libsanitizer/Makefile.am", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32377c101934477e3d27fec9c6a22f1c97ccf730/libsanitizer%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32377c101934477e3d27fec9c6a22f1c97ccf730/libsanitizer%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2FMakefile.am?ref=32377c101934477e3d27fec9c6a22f1c97ccf730", "patch": "@@ -28,6 +28,9 @@ SUBDIRS += hwasan\n endif\n endif\n \n+## Force DIST_SUBDIRS so that make distclean works\n+DIST_SUBDIRS = $(SUBDIRS)\n+\n ## May be used by toolexeclibdir.\n gcc_version := $(shell @get_gcc_base_ver@ $(top_srcdir)/../gcc/BASE-VER)\n "}, {"sha": "486c7920ee2b9f06aae2577dcb4e1faad7e26d01", "filename": "libsanitizer/Makefile.in", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32377c101934477e3d27fec9c6a22f1c97ccf730/libsanitizer%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32377c101934477e3d27fec9c6a22f1c97ccf730/libsanitizer%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2FMakefile.in?ref=32377c101934477e3d27fec9c6a22f1c97ccf730", "patch": "@@ -208,8 +208,6 @@ am__define_uniq_tagged_files = \\\n ETAGS = etags\n CTAGS = ctags\n CSCOPE = cscope\n-DIST_SUBDIRS = sanitizer_common interception libbacktrace lsan asan \\\n-\tubsan tsan hwasan\n ACLOCAL = @ACLOCAL@\n ALLOC_FILE = @ALLOC_FILE@\n AMTAR = @AMTAR@\n@@ -345,6 +343,7 @@ pdfdir = @pdfdir@\n prefix = @prefix@\n program_transform_name = @program_transform_name@\n psdir = @psdir@\n+runstatedir = @runstatedir@\n sbindir = @sbindir@\n sharedstatedir = @sharedstatedir@\n srcdir = @srcdir@\n@@ -366,6 +365,7 @@ nodist_saninclude_HEADERS = $(am__append_1)\n @SANITIZER_SUPPORTED_TRUE@SUBDIRS = sanitizer_common $(am__append_2) \\\n @SANITIZER_SUPPORTED_TRUE@\t$(am__append_3) lsan asan ubsan \\\n @SANITIZER_SUPPORTED_TRUE@\t$(am__append_4) $(am__append_5)\n+DIST_SUBDIRS = $(SUBDIRS)\n gcc_version := $(shell @get_gcc_base_ver@ $(top_srcdir)/../gcc/BASE-VER)\n \n # Work around what appears to be a GNU make bug handling MAKEFLAGS"}, {"sha": "e00927dd13d140c285c680e3c5f18b9d3f839c68", "filename": "libsanitizer/asan/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32377c101934477e3d27fec9c6a22f1c97ccf730/libsanitizer%2Fasan%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32377c101934477e3d27fec9c6a22f1c97ccf730/libsanitizer%2Fasan%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fasan%2FMakefile.in?ref=32377c101934477e3d27fec9c6a22f1c97ccf730", "patch": "@@ -397,6 +397,7 @@ pdfdir = @pdfdir@\n prefix = @prefix@\n program_transform_name = @program_transform_name@\n psdir = @psdir@\n+runstatedir = @runstatedir@\n sbindir = @sbindir@\n sharedstatedir = @sharedstatedir@\n srcdir = @srcdir@"}, {"sha": "0021e783c61b5925d750061895e6e49caa253f1e", "filename": "libsanitizer/hwasan/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32377c101934477e3d27fec9c6a22f1c97ccf730/libsanitizer%2Fhwasan%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32377c101934477e3d27fec9c6a22f1c97ccf730/libsanitizer%2Fhwasan%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fhwasan%2FMakefile.in?ref=32377c101934477e3d27fec9c6a22f1c97ccf730", "patch": "@@ -385,6 +385,7 @@ pdfdir = @pdfdir@\n prefix = @prefix@\n program_transform_name = @program_transform_name@\n psdir = @psdir@\n+runstatedir = @runstatedir@\n sbindir = @sbindir@\n sharedstatedir = @sharedstatedir@\n srcdir = @srcdir@"}, {"sha": "c14d52702867f729b8b1b1dbc6390883166ad182", "filename": "libsanitizer/interception/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32377c101934477e3d27fec9c6a22f1c97ccf730/libsanitizer%2Finterception%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32377c101934477e3d27fec9c6a22f1c97ccf730/libsanitizer%2Finterception%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Finterception%2FMakefile.in?ref=32377c101934477e3d27fec9c6a22f1c97ccf730", "patch": "@@ -315,6 +315,7 @@ pdfdir = @pdfdir@\n prefix = @prefix@\n program_transform_name = @program_transform_name@\n psdir = @psdir@\n+runstatedir = @runstatedir@\n sbindir = @sbindir@\n sharedstatedir = @sharedstatedir@\n srcdir = @srcdir@"}, {"sha": "f008f8eb5521542ecab15d5357a4dcb480bfbf57", "filename": "libsanitizer/libbacktrace/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32377c101934477e3d27fec9c6a22f1c97ccf730/libsanitizer%2Flibbacktrace%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32377c101934477e3d27fec9c6a22f1c97ccf730/libsanitizer%2Flibbacktrace%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Flibbacktrace%2FMakefile.in?ref=32377c101934477e3d27fec9c6a22f1c97ccf730", "patch": "@@ -365,6 +365,7 @@ pdfdir = @pdfdir@\n prefix = @prefix@\n program_transform_name = @program_transform_name@\n psdir = @psdir@\n+runstatedir = @runstatedir@\n sbindir = @sbindir@\n sharedstatedir = @sharedstatedir@\n srcdir = @srcdir@"}, {"sha": "25ac00cf8db5c414b834b538ea1cfdd4469d31db", "filename": "libsanitizer/lsan/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32377c101934477e3d27fec9c6a22f1c97ccf730/libsanitizer%2Flsan%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32377c101934477e3d27fec9c6a22f1c97ccf730/libsanitizer%2Flsan%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Flsan%2FMakefile.in?ref=32377c101934477e3d27fec9c6a22f1c97ccf730", "patch": "@@ -360,6 +360,7 @@ pdfdir = @pdfdir@\n prefix = @prefix@\n program_transform_name = @program_transform_name@\n psdir = @psdir@\n+runstatedir = @runstatedir@\n sbindir = @sbindir@\n sharedstatedir = @sharedstatedir@\n srcdir = @srcdir@"}, {"sha": "2f68f22c80ad7cb4cf84ebed7f095b9771060536", "filename": "libsanitizer/sanitizer_common/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32377c101934477e3d27fec9c6a22f1c97ccf730/libsanitizer%2Fsanitizer_common%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32377c101934477e3d27fec9c6a22f1c97ccf730/libsanitizer%2Fsanitizer_common%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fsanitizer_common%2FMakefile.in?ref=32377c101934477e3d27fec9c6a22f1c97ccf730", "patch": "@@ -352,6 +352,7 @@ pdfdir = @pdfdir@\n prefix = @prefix@\n program_transform_name = @program_transform_name@\n psdir = @psdir@\n+runstatedir = @runstatedir@\n sbindir = @sbindir@\n sharedstatedir = @sharedstatedir@\n srcdir = @srcdir@"}, {"sha": "a76b8d431721b786e48026ab2f9bbd539ac210f0", "filename": "libsanitizer/tsan/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32377c101934477e3d27fec9c6a22f1c97ccf730/libsanitizer%2Ftsan%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32377c101934477e3d27fec9c6a22f1c97ccf730/libsanitizer%2Ftsan%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Ftsan%2FMakefile.in?ref=32377c101934477e3d27fec9c6a22f1c97ccf730", "patch": "@@ -389,6 +389,7 @@ pdfdir = @pdfdir@\n prefix = @prefix@\n program_transform_name = @program_transform_name@\n psdir = @psdir@\n+runstatedir = @runstatedir@\n sbindir = @sbindir@\n sharedstatedir = @sharedstatedir@\n srcdir = @srcdir@"}, {"sha": "ad75c67e266d24abff3dedb47bbe8501ef855486", "filename": "libsanitizer/ubsan/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32377c101934477e3d27fec9c6a22f1c97ccf730/libsanitizer%2Fubsan%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32377c101934477e3d27fec9c6a22f1c97ccf730/libsanitizer%2Fubsan%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fubsan%2FMakefile.in?ref=32377c101934477e3d27fec9c6a22f1c97ccf730", "patch": "@@ -354,6 +354,7 @@ pdfdir = @pdfdir@\n prefix = @prefix@\n program_transform_name = @program_transform_name@\n psdir = @psdir@\n+runstatedir = @runstatedir@\n sbindir = @sbindir@\n sharedstatedir = @sharedstatedir@\n srcdir = @srcdir@"}]}