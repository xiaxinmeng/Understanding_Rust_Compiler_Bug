{"sha": "fa8e3a055a082e38aeab2561a5016b01ebfd6ebd", "node_id": "C_kwDOANBUbNoAKGZhOGUzYTA1NWEwODJlMzhhZWFiMjU2MWE1MDE2YjAxZWJmZDZlYmQ", "commit": {"author": {"name": "Torbj\u00f6rn SVENSSON", "email": "torbjorn.svensson@foss.st.com", "date": "2022-09-29T18:07:11Z"}, "committer": {"name": "Jonathan Yong", "email": "10walls@gmail.com", "date": "2022-10-05T09:46:35Z"}, "message": "testsuite: Windows reports errors with CreateProcess\n\nWhen the mapper can't be executed, Windows report the error like:\n.../bad-mapper-1.C: error: failed CreateProcess mapper 'this-will-not-work'\n\nOn Linux, the same error is reported this way:\n.../bad-mapper-1.C: error: failed execvp mapper 'this-will-not-work'\n\nThis patch allows both output forms to be accepted.\n\nPatch has been verified on Windows and Linux.\n\ngcc/testsuite:\n\n\t* g++.dg/modules/bad-mapper-1.C: Also accept CreateProcess.\n\nCo-Authored-By: Yvan ROUX  <yvan.roux@foss.st.com>\nSigned-off-by: Torbj\u00f6rn SVENSSON  <torbjorn.svensson@foss.st.com>\nSigned-off-by: Jonathan Yong <10walls@gmail.com>", "tree": {"sha": "e5f390090d6a490c355461299a8ab132783d0827", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e5f390090d6a490c355461299a8ab132783d0827"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fa8e3a055a082e38aeab2561a5016b01ebfd6ebd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa8e3a055a082e38aeab2561a5016b01ebfd6ebd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa8e3a055a082e38aeab2561a5016b01ebfd6ebd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa8e3a055a082e38aeab2561a5016b01ebfd6ebd/comments", "author": null, "committer": {"login": "jon-y", "id": 4688224, "node_id": "MDQ6VXNlcjQ2ODgyMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4688224?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jon-y", "html_url": "https://github.com/jon-y", "followers_url": "https://api.github.com/users/jon-y/followers", "following_url": "https://api.github.com/users/jon-y/following{/other_user}", "gists_url": "https://api.github.com/users/jon-y/gists{/gist_id}", "starred_url": "https://api.github.com/users/jon-y/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jon-y/subscriptions", "organizations_url": "https://api.github.com/users/jon-y/orgs", "repos_url": "https://api.github.com/users/jon-y/repos", "events_url": "https://api.github.com/users/jon-y/events{/privacy}", "received_events_url": "https://api.github.com/users/jon-y/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5fe2e4f87e512407c5c560dfec2fe48ba099c807", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5fe2e4f87e512407c5c560dfec2fe48ba099c807", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5fe2e4f87e512407c5c560dfec2fe48ba099c807"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "4b2312885d82966b2f724e8aa05fd4ebe80fac06", "filename": "gcc/testsuite/g++.dg/modules/bad-mapper-1.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa8e3a055a082e38aeab2561a5016b01ebfd6ebd/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fmodules%2Fbad-mapper-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa8e3a055a082e38aeab2561a5016b01ebfd6ebd/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fmodules%2Fbad-mapper-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fmodules%2Fbad-mapper-1.C?ref=fa8e3a055a082e38aeab2561a5016b01ebfd6ebd", "patch": "@@ -1,6 +1,6 @@\n //  { dg-additional-options \"-fmodules-ts -fmodule-mapper=|this-will-not-work\" }\n import unique1.bob;\n-// { dg-error \"-:failed exec.*mapper.* .*this-will-not-work\" \"\" { target { ! { *-*-darwin[89]* *-*-darwin10* } } } 0 }\n+// { dg-error \"-:failed (exec|CreateProcess).*mapper.* .*this-will-not-work\" \"\" { target { ! { *-*-darwin[89]* *-*-darwin10* } } } 0 }\n // { dg-prune-output \"fatal error:\" }\n // { dg-prune-output \"failed to read\" }\n // { dg-prune-output \"compilation terminated\" }"}]}