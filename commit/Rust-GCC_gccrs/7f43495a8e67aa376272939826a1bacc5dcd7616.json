{"sha": "7f43495a8e67aa376272939826a1bacc5dcd7616", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2Y0MzQ5NWE4ZTY3YWEzNzYyNzI5Mzk4MjZhMWJhY2M1ZGNkNzYxNg==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "1998-06-27T09:37:37Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "1998-06-27T09:37:37Z"}, "message": "mkstemp.c: Include gansidecl.h.\n\n        * mkstemp.c: Include gansidecl.h.  Rename uint64_t to gcc_uint64_t.\n        (mkstemp): Remove size specifier for variable `letters'.  Call\n        gettimeofday, not __gettimeofday.\n\nFrom-SVN: r20752", "tree": {"sha": "4595cc61114f1d700d766ffe7a0eea42b1a536fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4595cc61114f1d700d766ffe7a0eea42b1a536fc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7f43495a8e67aa376272939826a1bacc5dcd7616", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f43495a8e67aa376272939826a1bacc5dcd7616", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7f43495a8e67aa376272939826a1bacc5dcd7616", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f43495a8e67aa376272939826a1bacc5dcd7616/comments", "author": null, "committer": null, "parents": [{"sha": "7b8c3f68600b1e77620ee99c4d4bc9894d7b30fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b8c3f68600b1e77620ee99c4d4bc9894d7b30fa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b8c3f68600b1e77620ee99c4d4bc9894d7b30fa"}], "stats": {"total": 21, "additions": 13, "deletions": 8}, "files": [{"sha": "b30f2403d4b20aedf4cbed88ae04b09439dc59aa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f43495a8e67aa376272939826a1bacc5dcd7616/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f43495a8e67aa376272939826a1bacc5dcd7616/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7f43495a8e67aa376272939826a1bacc5dcd7616", "patch": "@@ -1,5 +1,9 @@\n Sat Jun 27 07:35:21 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n+\t* mkstemp.c: Include gansidecl.h.  Rename uint64_t to gcc_uint64_t.\n+\t(mkstemp): Remove size specifier for variable `letters'.  Call\n+\tgettimeofday, not __gettimeofday.\n+\n \t* Makefile.in (EXPR_H): New dependency variable.\n \t(c-typeck.o): Depend on $(EXPR_H) instead of expr.h.\n \t(c-iterate.o): Likewise."}, {"sha": "d4d4b2bddbc7af7e5afda991aa1eabb02c006b29", "filename": "gcc/mkstemp.c", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f43495a8e67aa376272939826a1bacc5dcd7616/gcc%2Fmkstemp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f43495a8e67aa376272939826a1bacc5dcd7616/gcc%2Fmkstemp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmkstemp.c?ref=7f43495a8e67aa376272939826a1bacc5dcd7616", "patch": "@@ -28,12 +28,13 @@\n #else\n #include \"config.h\"\n #include \"system.h\"\n+#include \"gansidecl.h\"\n \n-/* We need to provide a type for uint64_t.  */\n+/* We need to provide a type for gcc_uint64_t.  */\n #ifdef __GNUC__\n-typedef unsigned long long uint64_t;\n+typedef unsigned long long gcc_uint64_t;\n #else\n-typedef unsigned long uint64_t;\n+typedef unsigned long gcc_uint64_t;\n #endif\n \n #ifndef TMP_MAX\n@@ -49,9 +50,9 @@ int\n mkstemp (template)\n      char *template;\n {\n-  static const char letters[62]\n+  static const char letters[]\n     = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\n-  static uint64_t value;\n+  static gcc_uint64_t value;\n #ifdef HAVE_GETTIMEOFDAY\n   struct timeval tv;\n #endif\n@@ -70,15 +71,15 @@ mkstemp (template)\n \n #ifdef HAVE_GETTIMEOFDAY\n   /* Get some more or less random data.  */\n-  __gettimeofday (&tv, NULL);\n-  value += ((uint64_t) tv.tv_usec << 16) ^ tv.tv_sec ^ getpid ();\n+  gettimeofday (&tv, NULL);\n+  value += ((gcc_uint64_t) tv.tv_usec << 16) ^ tv.tv_sec ^ getpid ();\n #else\n   value += getpid ();\n #endif\n \n   for (count = 0; count < TMP_MAX; ++count)\n     {\n-      uint64_t v = value;\n+      gcc_uint64_t v = value;\n       int fd;\n \n       /* Fill in the random bits.  */"}]}