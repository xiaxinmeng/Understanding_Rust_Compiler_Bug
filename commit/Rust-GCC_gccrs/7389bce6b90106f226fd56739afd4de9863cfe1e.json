{"sha": "7389bce6b90106f226fd56739afd4de9863cfe1e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzM4OWJjZTZiOTAxMDZmMjI2ZmQ1NjczOWFmZDRkZTk4NjNjZmUxZQ==", "commit": {"author": {"name": "Bernhard Fischer", "email": "aldot@gcc.gnu.org", "date": "2007-12-11T08:36:13Z"}, "committer": {"name": "Bernhard Reutner-Fischer", "email": "aldot@gcc.gnu.org", "date": "2007-12-11T08:36:13Z"}, "message": "decl.c (match_prefix): Make seen_type a boolean.\n\n2007-12-11  Bernhard Fischer  <aldot@gcc.gnu.org>\n\n\t* decl.c (match_prefix): Make seen_type a boolean.\n\t(add_global_entry): Cache type distinction.\n\t* trans-decl.c: Whitespace cleanup.\n\nFrom-SVN: r130772", "tree": {"sha": "0e0ec790307683caf3c87bd96d72d21a11d59e28", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0e0ec790307683caf3c87bd96d72d21a11d59e28"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7389bce6b90106f226fd56739afd4de9863cfe1e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7389bce6b90106f226fd56739afd4de9863cfe1e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7389bce6b90106f226fd56739afd4de9863cfe1e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7389bce6b90106f226fd56739afd4de9863cfe1e/comments", "author": null, "committer": null, "parents": [{"sha": "5b767b9d0c2c2b2646aeadfa2c8156dde7a085fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b767b9d0c2c2b2646aeadfa2c8156dde7a085fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5b767b9d0c2c2b2646aeadfa2c8156dde7a085fc"}], "stats": {"total": 22, "additions": 15, "deletions": 7}, "files": [{"sha": "280cc467bdd7be2ee2dd9e6ae50ca9516516366f", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7389bce6b90106f226fd56739afd4de9863cfe1e/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7389bce6b90106f226fd56739afd4de9863cfe1e/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=7389bce6b90106f226fd56739afd4de9863cfe1e", "patch": "@@ -1,3 +1,9 @@\n+2007-12-11  Bernhard Fischer  <aldot@gcc.gnu.org>\n+\n+\t* decl.c (match_prefix): Make seen_type a boolean.\n+\t(add_global_entry): Cache type distinction.\n+\t* trans-decl.c: Whitespace cleanup.\n+\n 2007-12-10  Tobias Burnus  <burnus@net-b.de>\n \n \tPR fortran/34425"}, {"sha": "0df18582ccd9afeb3281845f32bfe83bd09ca451", "filename": "gcc/fortran/decl.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7389bce6b90106f226fd56739afd4de9863cfe1e/gcc%2Ffortran%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7389bce6b90106f226fd56739afd4de9863cfe1e/gcc%2Ffortran%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fdecl.c?ref=7389bce6b90106f226fd56739afd4de9863cfe1e", "patch": "@@ -3653,7 +3653,7 @@ gfc_match_data_decl (void)\n static match\n match_prefix (gfc_typespec *ts)\n {\n-  int seen_type;\n+  bool seen_type;\n \n   gfc_clear_attr (&current_attr);\n   seen_type = 0;\n@@ -4334,16 +4334,18 @@ static bool\n add_global_entry (const char *name, int sub)\n {\n   gfc_gsymbol *s;\n+  int type;\n \n   s = gfc_get_gsymbol(name);\n+  type = sub ? GSYM_SUBROUTINE : GSYM_FUNCTION;\n \n   if (s->defined\n       || (s->type != GSYM_UNKNOWN\n-\t  && s->type != (sub ? GSYM_SUBROUTINE : GSYM_FUNCTION)))\n+\t  && s->type != type))\n     gfc_global_used(s, NULL);\n   else\n     {\n-      s->type = sub ? GSYM_SUBROUTINE : GSYM_FUNCTION;\n+      s->type = type;\n       s->where = gfc_current_locus;\n       s->defined = 1;\n       return true;"}, {"sha": "96beed224e668387a24c0e979755488b3bc13668", "filename": "gcc/fortran/trans-decl.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7389bce6b90106f226fd56739afd4de9863cfe1e/gcc%2Ffortran%2Ftrans-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7389bce6b90106f226fd56739afd4de9863cfe1e/gcc%2Ffortran%2Ftrans-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-decl.c?ref=7389bce6b90106f226fd56739afd4de9863cfe1e", "patch": "@@ -2053,7 +2053,7 @@ gfc_build_intrinsic_function_decls (void)\n                                      gfc_charlen_type_node, pchar_type_node,\n                                      gfc_logical4_type_node);\n \n-  gfor_fndecl_string_trim = \n+  gfor_fndecl_string_trim =\n     gfc_build_library_function_decl (get_identifier (PREFIX(\"string_trim\")),\n                                      void_type_node,\n                                      4,\n@@ -2114,7 +2114,7 @@ gfc_build_intrinsic_function_decls (void)\n                                      pvoid_type_node);\n \n   gfor_fndecl_sr_kind =\n-    gfc_build_library_function_decl (get_identifier \n+    gfc_build_library_function_decl (get_identifier\n \t\t\t\t\t(PREFIX(\"selected_real_kind\")),\n                                      gfc_int4_type_node,\n                                      2, pvoid_type_node,\n@@ -3049,7 +3049,7 @@ gfc_trans_entry_master_switch (gfc_entry_list * el)\n       val = build_int_cst (gfc_array_index_type, el->id);\n       tmp = build3_v (CASE_LABEL_EXPR, val, NULL_TREE, label);\n       gfc_add_expr_to_block (&block, tmp);\n-      \n+\n       /* And jump to the actual entry point.  */\n       label = gfc_build_label_decl (NULL_TREE);\n       tmp = build1_v (GOTO_EXPR, label);\n@@ -3131,7 +3131,7 @@ gfc_generate_function_code (gfc_namespace * ns)\n   gfc_generate_contained_functions (ns);\n \n   generate_local_vars (ns);\n-  \n+\n   /* Keep the parent fake result declaration in module functions\n      or external procedures.  */\n   if ((ns->parent && ns->parent->proc_name->attr.flavor == FL_MODULE)"}]}