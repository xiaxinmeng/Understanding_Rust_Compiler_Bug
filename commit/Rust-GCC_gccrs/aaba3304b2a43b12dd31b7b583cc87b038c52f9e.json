{"sha": "aaba3304b2a43b12dd31b7b583cc87b038c52f9e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWFiYTMzMDRiMmE0M2IxMmRkMzFiN2I1ODNjYzg3YjAzOGM1MmY5ZQ==", "commit": {"author": {"name": "Kirill Yukhin", "email": "kirill.yukhin@intel.com", "date": "2012-07-16T14:08:42Z"}, "committer": {"name": "Kirill Yukhin", "email": "kyukhin@gcc.gnu.org", "date": "2012-07-16T14:08:42Z"}, "message": "Revert r189513.\n\nFrom-SVN: r189538", "tree": {"sha": "d7982430a1b82a2f5b7a2e10b8fcdb6f178a8d88", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d7982430a1b82a2f5b7a2e10b8fcdb6f178a8d88"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aaba3304b2a43b12dd31b7b583cc87b038c52f9e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aaba3304b2a43b12dd31b7b583cc87b038c52f9e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aaba3304b2a43b12dd31b7b583cc87b038c52f9e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aaba3304b2a43b12dd31b7b583cc87b038c52f9e/comments", "author": null, "committer": null, "parents": [{"sha": "6d8b8153de753c4edd12bd8863f75ccefbe7a8e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d8b8153de753c4edd12bd8863f75ccefbe7a8e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d8b8153de753c4edd12bd8863f75ccefbe7a8e7"}], "stats": {"total": 21, "additions": 17, "deletions": 4}, "files": [{"sha": "b85d46003185b69c40e765b8c860604ac2145f22", "filename": "gcc/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aaba3304b2a43b12dd31b7b583cc87b038c52f9e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aaba3304b2a43b12dd31b7b583cc87b038c52f9e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=aaba3304b2a43b12dd31b7b583cc87b038c52f9e", "patch": "@@ -1,3 +1,16 @@\n+2012-07-16  Kirill Yukhin  <kirill.yukhin@intel.com>\n+\n+\tRevert\n+\t2012-07-16 Sergey Melnikov <sergey.melnikov@intel.com>\n+\n+\t* config/i386/i386.md (stack_protect_set): Disable the pattern\n+\tfor Android since Android libc (bionic) does not provide random\n+\tvalue for stack protection guard at gs:0x14. Guard value\n+\twill be provided from external symbol (default implementation).\n+\t(stack_protect_set_<mode>): Likewise.\n+\t(stack_protect_test): Likewise.\n+\t(stack_protect_test_<mode>): Likewise.\n+\n 2012-07-16  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR middle-end/53959"}, {"sha": "49a56863617a6bfe6c5a9096d5140a4feb37bf8e", "filename": "gcc/config/i386/i386.md", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aaba3304b2a43b12dd31b7b583cc87b038c52f9e/gcc%2Fconfig%2Fi386%2Fi386.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aaba3304b2a43b12dd31b7b583cc87b038c52f9e/gcc%2Fconfig%2Fi386%2Fi386.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.md?ref=aaba3304b2a43b12dd31b7b583cc87b038c52f9e", "patch": "@@ -17708,7 +17708,7 @@\n (define_expand \"stack_protect_set\"\n   [(match_operand 0 \"memory_operand\")\n    (match_operand 1 \"memory_operand\")]\n-  \"!OPTION_BIONIC\"\n+  \"\"\n {\n   rtx (*insn)(rtx, rtx);\n \n@@ -17733,7 +17733,7 @@\n \t\t    UNSPEC_SP_SET))\n    (set (match_scratch:PTR 2 \"=&r\") (const_int 0))\n    (clobber (reg:CC FLAGS_REG))]\n-  \"!OPTION_BIONIC\"\n+  \"\"\n   \"mov{<imodesuffix>}\\t{%1, %2|%2, %1}\\;mov{<imodesuffix>}\\t{%2, %0|%0, %2}\\;xor{l}\\t%k2, %k2\"\n   [(set_attr \"type\" \"multi\")])\n \n@@ -17751,7 +17751,7 @@\n   [(match_operand 0 \"memory_operand\")\n    (match_operand 1 \"memory_operand\")\n    (match_operand 2)]\n-  \"!OPTION_BIONIC\"\n+  \"\"\n {\n   rtx flags = gen_rtx_REG (CCZmode, FLAGS_REG);\n \n@@ -17781,7 +17781,7 @@\n \t\t     (match_operand:PTR 2 \"memory_operand\" \"m\")]\n \t\t    UNSPEC_SP_TEST))\n    (clobber (match_scratch:PTR 3 \"=&r\"))]\n-  \"!OPTION_BIONIC\"\n+  \"\"\n   \"mov{<imodesuffix>}\\t{%1, %3|%3, %1}\\;xor{<imodesuffix>}\\t{%2, %3|%3, %2}\"\n   [(set_attr \"type\" \"multi\")])\n "}]}