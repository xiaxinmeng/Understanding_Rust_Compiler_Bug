{"sha": "d5d8d540f97a6f3a8210add35292fcfdd5eaec49", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDVkOGQ1NDBmOTdhNmYzYTgyMTBhZGQzNTI5MmZjZmRkNWVhZWM0OQ==", "commit": {"author": {"name": "David Edelsohn", "email": "edelsohn@gnu.org", "date": "2001-09-08T06:24:00Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2001-09-08T06:24:00Z"}, "message": "install.texi: Explain AIX exception handling work-around.\n\n        * doc/install.texi: Explain AIX exception handling work-around.\n        Update URL for AIX fixes.\n\nFrom-SVN: r45486", "tree": {"sha": "9f3ddf93e78e4438ae6d139b3e001f0f46016b21", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9f3ddf93e78e4438ae6d139b3e001f0f46016b21"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d5d8d540f97a6f3a8210add35292fcfdd5eaec49", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5d8d540f97a6f3a8210add35292fcfdd5eaec49", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d5d8d540f97a6f3a8210add35292fcfdd5eaec49", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5d8d540f97a6f3a8210add35292fcfdd5eaec49/comments", "author": null, "committer": null, "parents": [{"sha": "4e2c1c4484d3407251679a1eb271c9163ee3edfc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e2c1c4484d3407251679a1eb271c9163ee3edfc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4e2c1c4484d3407251679a1eb271c9163ee3edfc"}], "stats": {"total": 26, "additions": 20, "deletions": 6}, "files": [{"sha": "5c7c0baa0238aec9211d1989e368364037b24c7b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5d8d540f97a6f3a8210add35292fcfdd5eaec49/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5d8d540f97a6f3a8210add35292fcfdd5eaec49/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d5d8d540f97a6f3a8210add35292fcfdd5eaec49", "patch": "@@ -3,6 +3,9 @@\n \t* rs6000.c (num_insns_constant): Compute number of instructions\n \tmore accurately.\n \n+\t* doc/install.texi: Explain AIX exception handling work-around.\n+\tUpdate URL for AIX fixes.\n+\n 2001-09-07  Jim Wilson  <wilson@redhat.com>\n \n \t* alias.c (clear_reg_alias_info): New."}, {"sha": "c3b405186173c19b43d384a34b721ac34ef31f60", "filename": "gcc/doc/install.texi", "status": "modified", "additions": 17, "deletions": 6, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5d8d540f97a6f3a8210add35292fcfdd5eaec49/gcc%2Fdoc%2Finstall.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5d8d540f97a6f3a8210add35292fcfdd5eaec49/gcc%2Fdoc%2Finstall.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finstall.texi?ref=d5d8d540f97a6f3a8210add35292fcfdd5eaec49", "patch": "@@ -2228,6 +2228,17 @@ and function declarations in the original program.  The warnings should\n not prevent the linker from producing a correct library or runnable\n executable.\n \n+GCC's exception handling implementation stores process-specific data in\n+the shared library which prevents exception handling from working\n+correctly on AIX in a default installation.  To work around this, the\n+shared objects need to be loaded in the process private segment to\n+prevent them from being shared and marked read-only.  This is\n+accomplished on AIX by installing the shared libraries\n+(@file{libgcc_s.a} and @file{libstdc++.a}) with file permissions\n+disallowing read-other (@samp{chmod a+x,o-r}).  If the shared libraries\n+have been used, the shared library segment can be cleaned using the\n+@samp{/usr/sbin/slibclean} command.\n+\n AIX 4.3 utilizes a ``large format'' archive to support both 32-bit and\n 64-bit object modules.  The routines provided in AIX 4.3.0 and AIX 4.3.1\n to parse archive libraries did not handle the new format correctly.\n@@ -2236,26 +2247,26 @@ linking such as ``not a COFF file''.  The version of the routines shipped\n with AIX 4.3.1 should work for a 32-bit environment.  The @option{-g}\n option of the archive command may be used to create archives of 32-bit\n objects using the original ``small format''.  A correct version of the\n-routines is shipped with AIX 4.3.2.\n+routines is shipped with AIX 4.3.2 and above.\n \n Some versions of the AIX binder (linker) can fail with a relocation\n overflow severe error when the @option{-bbigtoc} option is used to link\n GCC-produced object files into an executable that overflows the TOC@.  A fix\n for APAR IX75823 (OVERFLOW DURING LINK WHEN USING GCC AND -BBIGTOC) is\n available from IBM Customer Support and from its\n-@uref{http://service.boulder.ibm.com/,,service.boulder.ibm.com}\n+@uref{http://techsupport.services.ibm.com/,,techsupport.services.ibm.com}\n website as PTF U455193.\n \n The AIX 4.3.2.1 linker (bos.rte.bind_cmds Level 4.3.2.1) will dump core\n with a segmentation fault when invoked by any version of GCC@.  A fix for\n APAR IX87327 is available from IBM Customer Support and from its\n-@uref{http://service.boulder.ibm.com/,,service.boulder.ibm.com}\n+@uref{http://techsupport.services.ibm.com/,,techsupport.services.ibm.com}\n website as PTF U461879.  This fix is incorporated in AIX 4.3.3 and above.\n \n The initial assembler shipped with AIX 4.3.0 generates incorrect object\n files.  A fix for APAR IX74254 (64BIT DISASSEMBLED OUTPUT FROM COMPILER FAILS\n TO ASSEMBLE/BIND) is available from IBM Customer Support and from its\n-@uref{http://service.boulder.ibm.com/,,service.boulder.ibm.com}\n+@uref{http://techsupport.services.ibm.com/,,techsupport.services.ibm.com}\n website as PTF U453956.  This fix is incorporated in AIX 4.3.1 and above.\n \n AIX provides National Language Support (NLS)@.  Compilers and assemblers\n@@ -2269,8 +2280,8 @@ environment variable to @samp{C} or @samp{En_US}.\n By default, GCC for AIX 4.1 and above produces code that can be used on\n both Power or PowerPC processors.\n \n-You can specify a default version for the @option{-mcpu=@var{cpu_type}}\n-switch by using the configure option @option{--with-cpu-@var{cpu_type}}.\n+A default can be specified with the @option{-mcpu=@var{cpu_type}}\n+switch and using the configure option @option{--with-cpu-@var{cpu_type}}.\n \n @html\n </p>"}]}