{"sha": "844ba5faec84783f31bab615ea507508329b6620", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODQ0YmE1ZmFlYzg0NzgzZjMxYmFiNjE1ZWE1MDc1MDgzMjliNjYyMA==", "commit": {"author": {"name": "Vincent Celier", "email": "celier@adacore.com", "date": "2010-10-07T09:27:50Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-10-07T09:27:50Z"}, "message": "gnatcmd.adb (Check_Files): When looking for the .ci file for a binder generated file...\n\n2010-10-07  Vincent Celier  <celier@adacore.com>\n        \n        * gnatcmd.adb (Check_Files): When looking for the .ci file for a\n        binder generated file, look for both b~xxx and b__xxx as gprbuild\n        always uses b__ as the prefix of such files.\n\nFrom-SVN: r165085", "tree": {"sha": "fb7f4151b08b0d75163c4e4bbfa25799270e3c79", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fb7f4151b08b0d75163c4e4bbfa25799270e3c79"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/844ba5faec84783f31bab615ea507508329b6620", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/844ba5faec84783f31bab615ea507508329b6620", "html_url": "https://github.com/Rust-GCC/gccrs/commit/844ba5faec84783f31bab615ea507508329b6620", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/844ba5faec84783f31bab615ea507508329b6620/comments", "author": {"login": "vcelier", "id": 8888056, "node_id": "MDQ6VXNlcjg4ODgwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/8888056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vcelier", "html_url": "https://github.com/vcelier", "followers_url": "https://api.github.com/users/vcelier/followers", "following_url": "https://api.github.com/users/vcelier/following{/other_user}", "gists_url": "https://api.github.com/users/vcelier/gists{/gist_id}", "starred_url": "https://api.github.com/users/vcelier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vcelier/subscriptions", "organizations_url": "https://api.github.com/users/vcelier/orgs", "repos_url": "https://api.github.com/users/vcelier/repos", "events_url": "https://api.github.com/users/vcelier/events{/privacy}", "received_events_url": "https://api.github.com/users/vcelier/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "72e9f2b94d238dedc6f1c9421e89826db6ddffdc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72e9f2b94d238dedc6f1c9421e89826db6ddffdc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/72e9f2b94d238dedc6f1c9421e89826db6ddffdc"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "4e189e369093de2b408528e9b5741a2c5257c0e0", "filename": "gcc/ada/gnatcmd.adb", "status": "modified", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/844ba5faec84783f31bab615ea507508329b6620/gcc%2Fada%2Fgnatcmd.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/844ba5faec84783f31bab615ea507508329b6620/gcc%2Fada%2Fgnatcmd.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatcmd.adb?ref=844ba5faec84783f31bab615ea507508329b6620", "patch": "@@ -407,6 +407,21 @@ procedure GNATCmd is\n                                         (Main).Value),\n                                    \"ci\"));\n \n+                           if not Is_Regular_File (File.all) and then\n+                             B_Start.all /= \"b__\"\n+                           then\n+                              File :=\n+                                new String'\n+                                  (Get_Name_String\n+                                     (Proj.Project.Object_Directory.Name)    &\n+                                   \"b__\"                                     &\n+                                   MLib.Fil.Ext_To\n+                                     (Get_Name_String\n+                                        (Project_Tree.String_Elements.Table\n+                                           (Main).Value),\n+                                      \"ci\"));\n+                           end if;\n+\n                            if Is_Regular_File (File.all) then\n                               Last_Switches.Increment_Last;\n                               Last_Switches.Table (Last_Switches.Last) := File;\n@@ -430,6 +445,19 @@ procedure GNATCmd is\n                                 Get_Name_String (Proj.Project.Library_Name)  &\n                                 \".ci\");\n \n+                           if not Is_Regular_File (File.all) and then\n+                               B_Start.all /= \"b__\"\n+                           then\n+                              File :=\n+                                new String'\n+                                  (Get_Name_String\n+                                     (Proj.Project.Object_Directory.Name)    &\n+                                   \"b__\"                                     &\n+                                   Get_Name_String\n+                                     (Proj.Project.Library_Name)             &\n+                                   \".ci\");\n+                           end if;\n+\n                            if Is_Regular_File (File.all) then\n                               Last_Switches.Increment_Last;\n                               Last_Switches.Table (Last_Switches.Last) := File;"}]}