{"sha": "527bc0181d3ea36f11dcaa8aea7704466bd0f01b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTI3YmMwMTgxZDNlYTM2ZjExZGNhYThhZWE3NzA0NDY2YmQwZjAxYg==", "commit": {"author": {"name": "Iain Buclaw", "email": "ibuclaw@gdcproject.org", "date": "2021-04-05T18:40:38Z"}, "committer": {"name": "Iain Buclaw", "email": "ibuclaw@gdcproject.org", "date": "2021-04-14T13:33:32Z"}, "message": "d: Add TARGET_D_REGISTER_OS_TARGET_INFO\n\nThis allows target platforms that have D support files to defined their\nown target-specific information keys.\n\ngcc/ChangeLog:\n\n\t* doc/tm.texi: Regenerate.\n\t* doc/tm.texi.in (D language and ABI): Add @hook for\n\tTARGET_D_REGISTER_OS_TARGET_INFO.\n\ngcc/d/ChangeLog:\n\n\t* d-target.cc (Target::_init): Call new targetdm hook to register OS\n\tspecific target info keys.\n\t* d-target.def (d_register_os_target_info): New hook.", "tree": {"sha": "647d414ecd3718ca7a0ef6aede20489ec7fa2ab4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/647d414ecd3718ca7a0ef6aede20489ec7fa2ab4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/527bc0181d3ea36f11dcaa8aea7704466bd0f01b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/527bc0181d3ea36f11dcaa8aea7704466bd0f01b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/527bc0181d3ea36f11dcaa8aea7704466bd0f01b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/527bc0181d3ea36f11dcaa8aea7704466bd0f01b/comments", "author": {"login": "ibuclaw", "id": 397929, "node_id": "MDQ6VXNlcjM5NzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/397929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuclaw", "html_url": "https://github.com/ibuclaw", "followers_url": "https://api.github.com/users/ibuclaw/followers", "following_url": "https://api.github.com/users/ibuclaw/following{/other_user}", "gists_url": "https://api.github.com/users/ibuclaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuclaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuclaw/subscriptions", "organizations_url": "https://api.github.com/users/ibuclaw/orgs", "repos_url": "https://api.github.com/users/ibuclaw/repos", "events_url": "https://api.github.com/users/ibuclaw/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuclaw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ibuclaw", "id": 397929, "node_id": "MDQ6VXNlcjM5NzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/397929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuclaw", "html_url": "https://github.com/ibuclaw", "followers_url": "https://api.github.com/users/ibuclaw/followers", "following_url": "https://api.github.com/users/ibuclaw/following{/other_user}", "gists_url": "https://api.github.com/users/ibuclaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuclaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuclaw/subscriptions", "organizations_url": "https://api.github.com/users/ibuclaw/orgs", "repos_url": "https://api.github.com/users/ibuclaw/repos", "events_url": "https://api.github.com/users/ibuclaw/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuclaw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2ccc05a5141506fde0e20dec702c717fd67bf6ee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ccc05a5141506fde0e20dec702c717fd67bf6ee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ccc05a5141506fde0e20dec702c717fd67bf6ee"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "be354d9f1f0b12f4a738e189ad47fa9bc40468c6", "filename": "gcc/d/d-target.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/527bc0181d3ea36f11dcaa8aea7704466bd0f01b/gcc%2Fd%2Fd-target.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/527bc0181d3ea36f11dcaa8aea7704466bd0f01b/gcc%2Fd%2Fd-target.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fd%2Fd-target.cc?ref=527bc0181d3ea36f11dcaa8aea7704466bd0f01b", "patch": "@@ -199,6 +199,7 @@ Target::_init (const Param &)\n   /* Initialize target info tables, the keys required by the language are added\n      last, so that the OS and CPU handlers can override.  */\n   targetdm.d_register_cpu_target_info ();\n+  targetdm.d_register_os_target_info ();\n   d_add_target_info_handlers (d_language_target_info);\n }\n "}, {"sha": "aa6bf55e6e691b45dc510f3ea5383479e8f920fe", "filename": "gcc/d/d-target.def", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/527bc0181d3ea36f11dcaa8aea7704466bd0f01b/gcc%2Fd%2Fd-target.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/527bc0181d3ea36f11dcaa8aea7704466bd0f01b/gcc%2Fd%2Fd-target.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fd%2Fd-target.def?ref=527bc0181d3ea36f11dcaa8aea7704466bd0f01b", "patch": "@@ -58,6 +58,14 @@ describing the requested target information.\",\n  void, (void),\n  hook_void_void)\n \n+/* getTargetInfo keys relating to the target OS.  */\n+DEFHOOK\n+(d_register_os_target_info,\n+ \"Same as @code{TARGET_D_CPU_TARGET_INFO}, but is used for keys relating to\\n\\\n+the target operating system.\",\n+ void, (void),\n+ hook_void_void)\n+\n /* ModuleInfo section name and brackets.  */\n DEFHOOKPOD\n (d_minfo_section,"}, {"sha": "97c8eebcd6f71ce6bae33407a35699d16a612c02", "filename": "gcc/doc/tm.texi", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/527bc0181d3ea36f11dcaa8aea7704466bd0f01b/gcc%2Fdoc%2Ftm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/527bc0181d3ea36f11dcaa8aea7704466bd0f01b/gcc%2Fdoc%2Ftm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Ftm.texi?ref=527bc0181d3ea36f11dcaa8aea7704466bd0f01b", "patch": "@@ -10817,6 +10817,11 @@ added by this hook are made available at compile time by the\n describing the requested target information.\n @end deftypefn\n \n+@deftypefn {D Target Hook} void TARGET_D_REGISTER_OS_TARGET_INFO (void)\n+Same as @code{TARGET_D_CPU_TARGET_INFO}, but is used for keys relating to\n+the target operating system.\n+@end deftypefn\n+\n @deftypevr {D Target Hook} {const char *} TARGET_D_MINFO_SECTION\n Contains the name of the section in which module info references should be\n placed.  This section is expected to be bracketed by two symbols to indicate"}, {"sha": "e2d49ee9f5788dd0dfce1147a63b615f2788eabd", "filename": "gcc/doc/tm.texi.in", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/527bc0181d3ea36f11dcaa8aea7704466bd0f01b/gcc%2Fdoc%2Ftm.texi.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/527bc0181d3ea36f11dcaa8aea7704466bd0f01b/gcc%2Fdoc%2Ftm.texi.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Ftm.texi.in?ref=527bc0181d3ea36f11dcaa8aea7704466bd0f01b", "patch": "@@ -7359,6 +7359,8 @@ floating-point support; they are not included in this mechanism.\n \n @hook TARGET_D_REGISTER_CPU_TARGET_INFO\n \n+@hook TARGET_D_REGISTER_OS_TARGET_INFO\n+\n @hook TARGET_D_MINFO_SECTION\n \n @hook TARGET_D_MINFO_START_NAME"}]}