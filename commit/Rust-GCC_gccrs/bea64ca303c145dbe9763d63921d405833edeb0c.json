{"sha": "bea64ca303c145dbe9763d63921d405833edeb0c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmVhNjRjYTMwM2MxNDVkYmU5NzYzZDYzOTIxZDQwNTgzM2VkZWIwYw==", "commit": {"author": {"name": "James Greenhalgh", "email": "james.greenhalgh@arm.com", "date": "2016-11-23T17:31:25Z"}, "committer": {"name": "James Greenhalgh", "email": "jgreenhalgh@gcc.gnu.org", "date": "2016-11-23T17:31:25Z"}, "message": "[Patch 15/17 libgcc ARM] Add double to half conversions.\n\nlibgcc/\n\n\t* config/arm/fp16.c (binary64): New.\n\t(__gnu_d2h_internal): New.\n\t(__gnu_d2h_ieee): New.\n\t(__gnu_d2h_alternative): New.\n\n\n\nCo-Authored-By: Matthew Wahab <matthew.wahab@arm.com>\n\nFrom-SVN: r242782", "tree": {"sha": "6648eca397948d9d3b8042d1e5a8baf01b6e00e3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6648eca397948d9d3b8042d1e5a8baf01b6e00e3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bea64ca303c145dbe9763d63921d405833edeb0c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bea64ca303c145dbe9763d63921d405833edeb0c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bea64ca303c145dbe9763d63921d405833edeb0c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bea64ca303c145dbe9763d63921d405833edeb0c/comments", "author": {"login": "jgreenhalgh-arm", "id": 6104025, "node_id": "MDQ6VXNlcjYxMDQwMjU=", "avatar_url": "https://avatars.githubusercontent.com/u/6104025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jgreenhalgh-arm", "html_url": "https://github.com/jgreenhalgh-arm", "followers_url": "https://api.github.com/users/jgreenhalgh-arm/followers", "following_url": "https://api.github.com/users/jgreenhalgh-arm/following{/other_user}", "gists_url": "https://api.github.com/users/jgreenhalgh-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jgreenhalgh-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jgreenhalgh-arm/subscriptions", "organizations_url": "https://api.github.com/users/jgreenhalgh-arm/orgs", "repos_url": "https://api.github.com/users/jgreenhalgh-arm/repos", "events_url": "https://api.github.com/users/jgreenhalgh-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/jgreenhalgh-arm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "8630cadbc5c4b226cca16e2790fbe84850b634b0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8630cadbc5c4b226cca16e2790fbe84850b634b0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8630cadbc5c4b226cca16e2790fbe84850b634b0"}], "stats": {"total": 35, "additions": 35, "deletions": 0}, "files": [{"sha": "44a7491bb034466766e17bd58e559dc6eff593fb", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bea64ca303c145dbe9763d63921d405833edeb0c/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bea64ca303c145dbe9763d63921d405833edeb0c/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=bea64ca303c145dbe9763d63921d405833edeb0c", "patch": "@@ -1,3 +1,11 @@\n+2016-11-23  James Greenhalgh  <james.greenhalgh@arm.com>\n+\t    Matthew Wahab  <matthew.wahab@arm.com>\n+\n+\t* config/arm/fp16.c (binary64): New.\n+\t(__gnu_d2h_internal): New.\n+\t(__gnu_d2h_ieee): New.\n+\t(__gnu_d2h_alternative): New.\n+\n 2016-11-23  James Greenhalgh  <james.greenhalgh@arm.com>\n \t    Matthew Wahab  <matthew.wahab@arm.com>\n "}, {"sha": "5828ec34d83bbeb6d9acc0629bc37bf383376120", "filename": "libgcc/config/arm/fp16.c", "status": "modified", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bea64ca303c145dbe9763d63921d405833edeb0c/libgcc%2Fconfig%2Farm%2Ffp16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bea64ca303c145dbe9763d63921d405833edeb0c/libgcc%2Fconfig%2Farm%2Ffp16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Farm%2Ffp16.c?ref=bea64ca303c145dbe9763d63921d405833edeb0c", "patch": "@@ -43,6 +43,15 @@ binary32 =\n   23    /* significand.  */\n };\n \n+static const struct format\n+binary64 =\n+{\n+  64,    /* size.  */\n+  1023,  /* bias.  */\n+  11,    /* exponent.  */\n+  52     /* significand.  */\n+};\n+\n static inline unsigned short\n __gnu_float2h_internal (const struct format* fmt,\n \t\t\tunsigned long long a, int ieee)\n@@ -150,6 +159,12 @@ __gnu_f2h_internal (unsigned int a, int ieee)\n   return __gnu_float2h_internal (&binary32, (unsigned long long) a, ieee);\n }\n \n+static inline unsigned short\n+__gnu_d2h_internal (unsigned long long a, int ieee)\n+{\n+  return __gnu_float2h_internal (&binary64, a, ieee);\n+}\n+\n unsigned int\n __gnu_h2f_internal(unsigned short a, int ieee)\n {\n@@ -198,3 +213,15 @@ __gnu_h2f_alternative(unsigned short a)\n {\n   return __gnu_h2f_internal(a, 0);\n }\n+\n+unsigned short\n+__gnu_d2h_ieee (unsigned long long a)\n+{\n+  return __gnu_d2h_internal (a, 1);\n+}\n+\n+unsigned short\n+__gnu_d2h_alternative (unsigned long long x)\n+{\n+  return __gnu_d2h_internal (x, 0);\n+}"}]}