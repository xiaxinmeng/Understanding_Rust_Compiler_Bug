{"sha": "0803fd245a35c4b465cdefff20364f0f6e9f6fa7", "node_id": "C_kwDOANBUbNoAKDA4MDNmZDI0NWEzNWM0YjQ2NWNkZWZmZjIwMzY0ZjBmNmU5ZjZmYTc", "commit": {"author": {"name": "Etienne Servais", "email": "servais@adacore.com", "date": "2021-10-26T16:08:47Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2021-11-09T09:44:48Z"}, "message": "[Ada] Return a valid value when handling Constraint_Error\n\ngcc/ada/\n\n\t* scng.adb (Set_Start_Column): Return Column_Number'Last when\n\thandling Constraint_Error. Plus reformat a strangely 7 level if\n\tloop.", "tree": {"sha": "24e2a8b0b1f706d07e306cea2ec6408e086c0f61", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/24e2a8b0b1f706d07e306cea2ec6408e086c0f61"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0803fd245a35c4b465cdefff20364f0f6e9f6fa7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0803fd245a35c4b465cdefff20364f0f6e9f6fa7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0803fd245a35c4b465cdefff20364f0f6e9f6fa7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0803fd245a35c4b465cdefff20364f0f6e9f6fa7/comments", "author": {"login": "vser1", "id": 8308457, "node_id": "MDQ6VXNlcjgzMDg0NTc=", "avatar_url": "https://avatars.githubusercontent.com/u/8308457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vser1", "html_url": "https://github.com/vser1", "followers_url": "https://api.github.com/users/vser1/followers", "following_url": "https://api.github.com/users/vser1/following{/other_user}", "gists_url": "https://api.github.com/users/vser1/gists{/gist_id}", "starred_url": "https://api.github.com/users/vser1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vser1/subscriptions", "organizations_url": "https://api.github.com/users/vser1/orgs", "repos_url": "https://api.github.com/users/vser1/repos", "events_url": "https://api.github.com/users/vser1/events{/privacy}", "received_events_url": "https://api.github.com/users/vser1/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "02ca2184cdabf79c8c8353b7d464f15d26d1f24f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/02ca2184cdabf79c8c8353b7d464f15d26d1f24f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/02ca2184cdabf79c8c8353b7d464f15d26d1f24f"}], "stats": {"total": 55, "additions": 8, "deletions": 47}, "files": [{"sha": "3c62337a7c2690a76634048464456fa5a0d5ad7b", "filename": "gcc/ada/scng.adb", "status": "modified", "additions": 8, "deletions": 47, "changes": 55, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0803fd245a35c4b465cdefff20364f0f6e9f6fa7/gcc%2Fada%2Fscng.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0803fd245a35c4b465cdefff20364f0f6e9f6fa7/gcc%2Fada%2Fscng.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fscng.adb?ref=0803fd245a35c4b465cdefff20364f0f6e9f6fa7", "patch": "@@ -2701,52 +2701,13 @@ package body Scng is\n \n       Tabs_Loop : loop\n \n-         --  Inner loop scans past blanks as fast as possible, bumping Scan_Ptr\n-         --  past the blanks and adjusting Start_Column to account for them.\n-\n-         Blanks_Loop : loop\n-            if Source (Scan_Ptr) = ' ' then\n-               if Source (Scan_Ptr + 1) = ' ' then\n-                  if Source (Scan_Ptr + 2) = ' ' then\n-                     if Source (Scan_Ptr + 3) = ' ' then\n-                        if Source (Scan_Ptr + 4) = ' ' then\n-                           if Source (Scan_Ptr + 5) = ' ' then\n-                              if Source (Scan_Ptr + 6) = ' ' then\n-                                 Scan_Ptr := Scan_Ptr + 7;\n-                                 Start_Column := Start_Column + 7;\n-                              else\n-                                 Scan_Ptr := Scan_Ptr + 6;\n-                                 Start_Column := Start_Column + 6;\n-                                 exit Blanks_Loop;\n-                              end if;\n-                           else\n-                              Scan_Ptr := Scan_Ptr + 5;\n-                              Start_Column := Start_Column + 5;\n-                              exit Blanks_Loop;\n-                           end if;\n-                        else\n-                           Scan_Ptr := Scan_Ptr + 4;\n-                           Start_Column := Start_Column + 4;\n-                           exit Blanks_Loop;\n-                        end if;\n-                     else\n-                        Scan_Ptr := Scan_Ptr + 3;\n-                        Start_Column := Start_Column + 3;\n-                        exit Blanks_Loop;\n-                     end if;\n-                  else\n-                     Scan_Ptr := Scan_Ptr + 2;\n-                     Start_Column := Start_Column + 2;\n-                     exit Blanks_Loop;\n-                  end if;\n-               else\n-                  Scan_Ptr := Scan_Ptr + 1;\n-                  Start_Column := Start_Column + 1;\n-                  exit Blanks_Loop;\n-               end if;\n-            else\n-               exit Blanks_Loop;\n-            end if;\n+         --  Inner loop scans past blanks, bumping Scan_Ptr past the blanks and\n+         --  adjusting Start_Column to account for them.\n+\n+         Blanks_Loop :\n+         while Source (Scan_Ptr) = ' ' loop\n+            Scan_Ptr := Scan_Ptr + 1;\n+            Start_Column := Start_Column + 1;\n          end loop Blanks_Loop;\n \n          --  Outer loop keeps going only if a horizontal tab follows\n@@ -2771,7 +2732,7 @@ package body Scng is\n \n    exception\n       when Constraint_Error =>\n-         return Start_Column;\n+         return Column_Number'Last;\n    end Set_Start_Column;\n \n end Scng;"}]}