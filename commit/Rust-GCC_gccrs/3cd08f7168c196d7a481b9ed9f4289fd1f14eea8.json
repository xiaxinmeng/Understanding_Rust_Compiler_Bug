{"sha": "3cd08f7168c196d7a481b9ed9f4289fd1f14eea8", "node_id": "C_kwDOANBUbNoAKDNjZDA4ZjcxNjhjMTk2ZDdhNDgxYjllZDlmNDI4OWZkMWYxNGVlYTg", "commit": {"author": {"name": "Andreas Schwab", "email": "schwab@suse.de", "date": "2023-01-25T11:00:09Z"}, "committer": {"name": "Andreas Schwab", "email": "schwab@suse.de", "date": "2023-01-30T09:46:15Z"}, "message": "riscv: Enable -fasynchronous-unwind-tables by default on Linux\n\nThis follows the example of aarch64.\n\ngcc/:\n\t* common/config/riscv/riscv-common.cc\n\t(riscv_option_optimization_table)\n\t[TARGET_DEFAULT_ASYNC_UNWIND_TABLES]: Enable\n\t-fasynchronous-unwind-tables and -funwind-tables.\n\t* config.gcc (riscv*-*-linux*): Define\n\tTARGET_DEFAULT_ASYNC_UNWIND_TABLES.", "tree": {"sha": "3172f08b07d33d783b7ae248a6ee12fa1f758408", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3172f08b07d33d783b7ae248a6ee12fa1f758408"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3cd08f7168c196d7a481b9ed9f4289fd1f14eea8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3cd08f7168c196d7a481b9ed9f4289fd1f14eea8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3cd08f7168c196d7a481b9ed9f4289fd1f14eea8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3cd08f7168c196d7a481b9ed9f4289fd1f14eea8/comments", "author": {"login": "andreas-schwab", "id": 2175493, "node_id": "MDQ6VXNlcjIxNzU0OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2175493?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andreas-schwab", "html_url": "https://github.com/andreas-schwab", "followers_url": "https://api.github.com/users/andreas-schwab/followers", "following_url": "https://api.github.com/users/andreas-schwab/following{/other_user}", "gists_url": "https://api.github.com/users/andreas-schwab/gists{/gist_id}", "starred_url": "https://api.github.com/users/andreas-schwab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andreas-schwab/subscriptions", "organizations_url": "https://api.github.com/users/andreas-schwab/orgs", "repos_url": "https://api.github.com/users/andreas-schwab/repos", "events_url": "https://api.github.com/users/andreas-schwab/events{/privacy}", "received_events_url": "https://api.github.com/users/andreas-schwab/received_events", "type": "User", "site_admin": false}, "committer": {"login": "andreas-schwab", "id": 2175493, "node_id": "MDQ6VXNlcjIxNzU0OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2175493?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andreas-schwab", "html_url": "https://github.com/andreas-schwab", "followers_url": "https://api.github.com/users/andreas-schwab/followers", "following_url": "https://api.github.com/users/andreas-schwab/following{/other_user}", "gists_url": "https://api.github.com/users/andreas-schwab/gists{/gist_id}", "starred_url": "https://api.github.com/users/andreas-schwab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andreas-schwab/subscriptions", "organizations_url": "https://api.github.com/users/andreas-schwab/orgs", "repos_url": "https://api.github.com/users/andreas-schwab/repos", "events_url": "https://api.github.com/users/andreas-schwab/events{/privacy}", "received_events_url": "https://api.github.com/users/andreas-schwab/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "59e4c98173a79fcaa2c33253261409f38856c384", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59e4c98173a79fcaa2c33253261409f38856c384", "html_url": "https://github.com/Rust-GCC/gccrs/commit/59e4c98173a79fcaa2c33253261409f38856c384"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "616e2f897b9dcb2c82186ca406856777b35bb342", "filename": "gcc/common/config/riscv/riscv-common.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3cd08f7168c196d7a481b9ed9f4289fd1f14eea8/gcc%2Fcommon%2Fconfig%2Friscv%2Friscv-common.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3cd08f7168c196d7a481b9ed9f4289fd1f14eea8/gcc%2Fcommon%2Fconfig%2Friscv%2Friscv-common.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon%2Fconfig%2Friscv%2Friscv-common.cc?ref=3cd08f7168c196d7a481b9ed9f4289fd1f14eea8", "patch": "@@ -1756,6 +1756,10 @@ static const struct default_options riscv_option_optimization_table[] =\n   {\n     { OPT_LEVELS_1_PLUS, OPT_fsection_anchors, NULL, 1 },\n     { OPT_LEVELS_2_PLUS, OPT_free, NULL, 1 },\n+#if TARGET_DEFAULT_ASYNC_UNWIND_TABLES == 1\n+    { OPT_LEVELS_ALL, OPT_fasynchronous_unwind_tables, NULL, 1 },\n+    { OPT_LEVELS_ALL, OPT_funwind_tables, NULL, 1},\n+#endif\n     { OPT_LEVELS_NONE, 0, NULL, 0 }\n   };\n "}, {"sha": "744b46fb3b0e40d5c3389b3b9333c36084fc08cd", "filename": "gcc/config.gcc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3cd08f7168c196d7a481b9ed9f4289fd1f14eea8/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3cd08f7168c196d7a481b9ed9f4289fd1f14eea8/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=3cd08f7168c196d7a481b9ed9f4289fd1f14eea8", "patch": "@@ -2417,6 +2417,7 @@ riscv*-*-linux*)\n \t*) echo \"Unknown value for enable_multilib\"; exit 1\n \tesac\n \ttmake_file=\"${tmake_file} riscv/t-riscv riscv/t-linux\"\n+\ttm_defines=\"${tm_defines} TARGET_DEFAULT_ASYNC_UNWIND_TABLES=1\"\n \tgnu_ld=yes\n \tgas=yes\n \tcase $target in"}]}