{"sha": "f596fc98eae2d6f6c706084a48f2c3cfc1654af0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjU5NmZjOThlYWUyZDZmNmM3MDYwODRhNDhmMmMzY2ZjMTY1NGFmMA==", "commit": {"author": {"name": "Aaron W. LaFramboise", "email": "aaronavay62@aaronwl.com", "date": "2004-09-18T23:55:22Z"}, "committer": {"name": "Paul Brook", "email": "pbrook@gcc.gnu.org", "date": "2004-09-18T23:55:22Z"}, "message": "config.h.in: Regenerate.\n\n2004-09-15  Aaron W. LaFramboise <aaronavay62@aaronwl.com>\n\n\t* config.h.in: Regenerate.\n\t* configure: Regenerate.\n\t* configure.ac (AC_CHECK_HEADERS): Check for sys/mman.h.\n\t* unix.c: Include stdio.h.\n\t(HAVE_SYS_MMAN_H): Check.\n\t(PROT_READ, PROT_WRITE): Provide default definitions.\n\nFrom-SVN: r87714", "tree": {"sha": "9fc0e6f0808aab6252b356bb1128fac96c0b3d69", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9fc0e6f0808aab6252b356bb1128fac96c0b3d69"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f596fc98eae2d6f6c706084a48f2c3cfc1654af0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f596fc98eae2d6f6c706084a48f2c3cfc1654af0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f596fc98eae2d6f6c706084a48f2c3cfc1654af0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f596fc98eae2d6f6c706084a48f2c3cfc1654af0/comments", "author": null, "committer": null, "parents": [{"sha": "16d1b0bd17190fd36413ef28af6ef2ecebb31011", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/16d1b0bd17190fd36413ef28af6ef2ecebb31011", "html_url": "https://github.com/Rust-GCC/gccrs/commit/16d1b0bd17190fd36413ef28af6ef2ecebb31011"}], "stats": {"total": 172, "additions": 172, "deletions": 0}, "files": [{"sha": "a75b1e4b6bff12924202b62b7919a07fe7641028", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f596fc98eae2d6f6c706084a48f2c3cfc1654af0/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f596fc98eae2d6f6c706084a48f2c3cfc1654af0/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=f596fc98eae2d6f6c706084a48f2c3cfc1654af0", "patch": "@@ -1,3 +1,12 @@\n+2004-09-15  Aaron W. LaFramboise <aaronavay62@aaronwl.com>\n+\n+\t* config.h.in: Regenerate.\n+\t* configure: Regenerate.\n+\t* configure.ac (AC_CHECK_HEADERS): Check for sys/mman.h.\n+\t* unix.c: Include stdio.h.\n+\t(HAVE_SYS_MMAN_H): Check.\n+\t(PROT_READ, PROT_WRITE): Provide default definitions.\n+\n 2004-09-15  Steven G. Kargl  <kargls@comcast.net>\n \n \t* intrincics/getcwd.c: New file."}, {"sha": "937f803fd87aad100b06a0d8728da905da6b557e", "filename": "libgfortran/config.h.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f596fc98eae2d6f6c706084a48f2c3cfc1654af0/libgfortran%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f596fc98eae2d6f6c706084a48f2c3cfc1654af0/libgfortran%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfig.h.in?ref=f596fc98eae2d6f6c706084a48f2c3cfc1654af0", "patch": "@@ -150,6 +150,9 @@\n /* Define to 1 if you have the <string.h> header file. */\n #undef HAVE_STRING_H\n \n+/* Define to 1 if you have the <sys/mman.h> header file. */\n+#undef HAVE_SYS_MMAN_H\n+\n /* Define to 1 if you have the <sys/params.h> header file. */\n #undef HAVE_SYS_PARAMS_H\n "}, {"sha": "efa41ddffbd474416d1ebe8d7e4752a0a257d33f", "filename": "libgfortran/configure", "status": "modified", "additions": 149, "deletions": 0, "changes": 149, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f596fc98eae2d6f6c706084a48f2c3cfc1654af0/libgfortran%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f596fc98eae2d6f6c706084a48f2c3cfc1654af0/libgfortran%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure?ref=f596fc98eae2d6f6c706084a48f2c3cfc1654af0", "patch": "@@ -6358,6 +6358,155 @@ fi\n \n done\n \n+\n+for ac_header in sys/mman.h\n+do\n+as_ac_Header=`echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo \"$as_me:$LINENO: checking for $ac_header\" >&5\n+echo $ECHO_N \"checking for $ac_header... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_Header'}'`\" >&6\n+else\n+  # Is the header compilable?\n+echo \"$as_me:$LINENO: checking $ac_header usability\" >&5\n+echo $ECHO_N \"checking $ac_header usability... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+$ac_includes_default\n+#include <$ac_header>\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_header_compiler=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_header_compiler=no\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_compiler\" >&5\n+echo \"${ECHO_T}$ac_header_compiler\" >&6\n+\n+# Is the header present?\n+echo \"$as_me:$LINENO: checking $ac_header presence\" >&5\n+echo $ECHO_N \"checking $ac_header presence... $ECHO_C\" >&6\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <$ac_header>\n+_ACEOF\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_cpp conftest.$ac_ext\\\"\") >&5\n+  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } >/dev/null; then\n+  if test -s conftest.err; then\n+    ac_cpp_err=$ac_c_preproc_warn_flag\n+    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag\n+  else\n+    ac_cpp_err=\n+  fi\n+else\n+  ac_cpp_err=yes\n+fi\n+if test -z \"$ac_cpp_err\"; then\n+  ac_header_preproc=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+  ac_header_preproc=no\n+fi\n+rm -f conftest.err conftest.$ac_ext\n+echo \"$as_me:$LINENO: result: $ac_header_preproc\" >&5\n+echo \"${ECHO_T}$ac_header_preproc\" >&6\n+\n+# So?  What about this header?\n+case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in\n+  yes:no: )\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!\" >&5\n+echo \"$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result\" >&5\n+echo \"$as_me: WARNING: $ac_header: proceeding with the compiler's result\" >&2;}\n+    ac_header_preproc=yes\n+    ;;\n+  no:yes:* )\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled\" >&5\n+echo \"$as_me: WARNING: $ac_header: present but cannot be compiled\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?\" >&5\n+echo \"$as_me: WARNING: $ac_header:     check for missing prerequisite headers?\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation\" >&5\n+echo \"$as_me: WARNING: $ac_header: see the Autoconf documentation\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header:     section \\\"Present But Cannot Be Compiled\\\"\" >&5\n+echo \"$as_me: WARNING: $ac_header:     section \\\"Present But Cannot Be Compiled\\\"\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result\" >&5\n+echo \"$as_me: WARNING: $ac_header: proceeding with the preprocessor's result\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence\" >&5\n+echo \"$as_me: WARNING: $ac_header: in the future, the compiler will take precedence\" >&2;}\n+    (\n+      cat <<\\_ASBOX\n+## ------------------------------------------------------ ##\n+## Report this to the GNU Fortran Runtime Library lists.  ##\n+## ------------------------------------------------------ ##\n+_ASBOX\n+    ) |\n+      sed \"s/^/$as_me: WARNING:     /\" >&2\n+    ;;\n+esac\n+echo \"$as_me:$LINENO: checking for $ac_header\" >&5\n+echo $ECHO_N \"checking for $ac_header... $ECHO_C\" >&6\n+if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  eval \"$as_ac_Header=\\$ac_header_preproc\"\n+fi\n+echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`\" >&5\n+echo \"${ECHO_T}`eval echo '${'$as_ac_Header'}'`\" >&6\n+\n+fi\n+if test `eval echo '${'$as_ac_Header'}'` = yes; then\n+  cat >>confdefs.h <<_ACEOF\n+#define `echo \"HAVE_$ac_header\" | $as_tr_cpp` 1\n+_ACEOF\n+\n+fi\n+\n+done\n+\n if test \"${ac_cv_header_complex_h+set}\" = set; then\n   echo \"$as_me:$LINENO: checking for complex.h\" >&5\n echo $ECHO_N \"checking for complex.h... $ECHO_C\" >&6"}, {"sha": "fc20a570739b92d32ef8631ca71d4432eeb3b650", "filename": "libgfortran/configure.ac", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f596fc98eae2d6f6c706084a48f2c3cfc1654af0/libgfortran%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f596fc98eae2d6f6c706084a48f2c3cfc1654af0/libgfortran%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure.ac?ref=f596fc98eae2d6f6c706084a48f2c3cfc1654af0", "patch": "@@ -152,6 +152,7 @@ AC_TYPE_OFF_T\n AC_STDC_HEADERS\n AC_HAVE_HEADERS(stdlib.h stdio.h string.h stddef.h math.h unistd.h)\n AC_CHECK_HEADERS(time.h sys/params.h sys/time.h sys/times.h sys/resource.h)\n+AC_CHECK_HEADERS(sys/mman.h)\n AC_CHECK_HEADER([complex.h],[AC_DEFINE([HAVE_COMPLEX_H], [1], [complex.h exists])])\n \n # Check for complex math functions"}, {"sha": "e55966b2f2a3e79ab52c5bb8bae89ae95b5e8013", "filename": "libgfortran/io/unix.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f596fc98eae2d6f6c706084a48f2c3cfc1654af0/libgfortran%2Fio%2Funix.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f596fc98eae2d6f6c706084a48f2c3cfc1654af0/libgfortran%2Fio%2Funix.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Funix.c?ref=f596fc98eae2d6f6c706084a48f2c3cfc1654af0", "patch": "@@ -28,7 +28,9 @@ Boston, MA 02111-1307, USA.  */\n #include <sys/stat.h>\n #include <fcntl.h>\n \n+#ifdef HAVE_SYS_MMAN_H\n #include <sys/mman.h>\n+#endif\n #include <string.h>\n #include <errno.h>\n \n@@ -43,6 +45,14 @@ Boston, MA 02111-1307, USA.  */\n #define MAP_FAILED ((void *) -1)\n #endif\n \n+#ifndef PROT_READ\n+#define PROT_READ 1\n+#endif\n+\n+#ifndef PROT_WRITE\n+#define PROT_WRITE 2\n+#endif\n+\n /* This implementation of stream I/O is based on the paper:\n  *\n  *  \"Exploiting the advantages of mapped files for stream I/O\","}]}