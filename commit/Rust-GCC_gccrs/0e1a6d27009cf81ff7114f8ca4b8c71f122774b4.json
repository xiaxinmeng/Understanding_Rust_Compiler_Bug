{"sha": "0e1a6d27009cf81ff7114f8ca4b8c71f122774b4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGUxYTZkMjcwMDljZjgxZmY3MTE0ZjhjYTRiOGM3MWYxMjI3NzRiNA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-03-06T14:19:56Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-03-06T14:19:56Z"}, "message": "mksysinfo: actually use modified Statfs_t value\n    \n    Reviewed-on: https://go-review.googlesource.com/c/gofrontend/+/165737\n\nFrom-SVN: r269424", "tree": {"sha": "cbdae07073c8d25b7614ba96bc42c686f292e745", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cbdae07073c8d25b7614ba96bc42c686f292e745"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0e1a6d27009cf81ff7114f8ca4b8c71f122774b4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e1a6d27009cf81ff7114f8ca4b8c71f122774b4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e1a6d27009cf81ff7114f8ca4b8c71f122774b4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e1a6d27009cf81ff7114f8ca4b8c71f122774b4/comments", "author": null, "committer": null, "parents": [{"sha": "f29a1ef2d8efb9423b878c9d5da1961527fce707", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f29a1ef2d8efb9423b878c9d5da1961527fce707", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f29a1ef2d8efb9423b878c9d5da1961527fce707"}], "stats": {"total": 11, "additions": 5, "deletions": 6}, "files": [{"sha": "a93dedb7aaf4311961ebc4dac303547f08a6113a", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e1a6d27009cf81ff7114f8ca4b8c71f122774b4/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e1a6d27009cf81ff7114f8ca4b8c71f122774b4/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=0e1a6d27009cf81ff7114f8ca4b8c71f122774b4", "patch": "@@ -1,4 +1,4 @@\n-9b1374ded3d5e352a655d96bfe1bfb6aa1491a98\n+13c98c3477647888fc7a186e9055793b0961e806\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "418ba2cfdef09b90ccd0404eb1e3580f193b9ef7", "filename": "libgo/mksysinfo.sh", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e1a6d27009cf81ff7114f8ca4b8c71f122774b4/libgo%2Fmksysinfo.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e1a6d27009cf81ff7114f8ca4b8c71f122774b4/libgo%2Fmksysinfo.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fmksysinfo.sh?ref=0e1a6d27009cf81ff7114f8ca4b8c71f122774b4", "patch": "@@ -1115,14 +1115,13 @@ grep '^const _FALLOC_' gen-sysinfo.go |\n # Prefer largefile variant if available.\n # CentOS 5 does not have f_flags, so pull from f_spare.\n statfs=`grep '^type _statfs64 ' gen-sysinfo.go || true`\n+if test \"$statfs\" == \"\"; then\n+  statfs=`grep '^type _statfs ' gen-sysinfo.go || true`\n+fi\n if ! echo \"$statfs\" | grep f_flags; then\n   statfs=`echo \"$statfs\" | sed -e 's/f_spare \\[4+1\\]\\([^ ;]*\\)/f_flags \\1; f_spare [3+1]\\1/'`\n fi\n-if test \"$statfs\" != \"\"; then\n-  grep '^type _statfs64 ' gen-sysinfo.go\n-else\n-  grep '^type _statfs ' gen-sysinfo.go\n-fi | sed -e 's/type _statfs64/type Statfs_t/' \\\n+echo \"$statfs\" | sed -e 's/type _statfs64/type Statfs_t/' \\\n \t -e 's/type _statfs/type Statfs_t/' \\\n \t -e 's/f_type/Type/' \\\n \t -e 's/f_bsize/Bsize/' \\"}]}