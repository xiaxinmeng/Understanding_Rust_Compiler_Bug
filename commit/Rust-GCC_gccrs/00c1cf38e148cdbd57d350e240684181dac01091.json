{"sha": "00c1cf38e148cdbd57d350e240684181dac01091", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDBjMWNmMzhlMTQ4Y2RiZDU3ZDM1MGUyNDA2ODQxODFkYWMwMTA5MQ==", "commit": {"author": {"name": "Mikhail Maltsev", "email": "maltsevm@gmail.com", "date": "2015-04-30T03:47:40Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2015-04-30T03:47:40Z"}, "message": "dojump.c (do_compare_rtx_and_jump): Use std::swap instead of manual swaps.\n\n2015-04-29  Mikhail Maltsev  <maltsevm@gmail.com>\n\n        * dojump.c (do_compare_rtx_and_jump): Use std::swap instead of\n        manual swaps.\n        * expr.c (expand_expr_real_2): Likewise.\n\nFrom-SVN: r222608", "tree": {"sha": "89b77ecff8a1b5377f791184ce38417d2d7e13cd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/89b77ecff8a1b5377f791184ce38417d2d7e13cd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/00c1cf38e148cdbd57d350e240684181dac01091", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/00c1cf38e148cdbd57d350e240684181dac01091", "html_url": "https://github.com/Rust-GCC/gccrs/commit/00c1cf38e148cdbd57d350e240684181dac01091", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/00c1cf38e148cdbd57d350e240684181dac01091/comments", "author": {"login": "miyuki", "id": 4668268, "node_id": "MDQ6VXNlcjQ2NjgyNjg=", "avatar_url": "https://avatars.githubusercontent.com/u/4668268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/miyuki", "html_url": "https://github.com/miyuki", "followers_url": "https://api.github.com/users/miyuki/followers", "following_url": "https://api.github.com/users/miyuki/following{/other_user}", "gists_url": "https://api.github.com/users/miyuki/gists{/gist_id}", "starred_url": "https://api.github.com/users/miyuki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/miyuki/subscriptions", "organizations_url": "https://api.github.com/users/miyuki/orgs", "repos_url": "https://api.github.com/users/miyuki/repos", "events_url": "https://api.github.com/users/miyuki/events{/privacy}", "received_events_url": "https://api.github.com/users/miyuki/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "fd2bbdfd97b5af9b848f79eceb55d2dc60c823c5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd2bbdfd97b5af9b848f79eceb55d2dc60c823c5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd2bbdfd97b5af9b848f79eceb55d2dc60c823c5"}], "stats": {"total": 20, "additions": 9, "deletions": 11}, "files": [{"sha": "5c7558a82f3ace1b3c329fb732f12a84a8ad6408", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/00c1cf38e148cdbd57d350e240684181dac01091/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/00c1cf38e148cdbd57d350e240684181dac01091/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=00c1cf38e148cdbd57d350e240684181dac01091", "patch": "@@ -1,3 +1,9 @@\n+2015-04-29  Mikhail Maltsev  <maltsevm@gmail.com>\n+\n+\t* dojump.c (do_compare_rtx_and_jump): Use std::swap instead of\n+\tmanual swaps.\n+\t* expr.c (expand_expr_real_2): Likewise.\n+\n 2015-04-29  Jan Hubicka  <hubicka@ucw.cz>\n \n \t* tree.c (build_common_builtin_nodes): Do not build"}, {"sha": "0790c77d239537c20f0098ded011d9beef91b7b1", "filename": "gcc/dojump.c", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/00c1cf38e148cdbd57d350e240684181dac01091/gcc%2Fdojump.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/00c1cf38e148cdbd57d350e240684181dac01091/gcc%2Fdojump.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdojump.c?ref=00c1cf38e148cdbd57d350e240684181dac01091", "patch": "@@ -987,9 +987,7 @@ do_compare_rtx_and_jump (rtx op0, rtx op1, enum rtx_code code, int unsignedp,\n       if (can_compare_p (rcode, mode, ccp_jump)\n \t  || (code == ORDERED && ! can_compare_p (ORDERED, mode, ccp_jump)))\n \t{\n-          tem = if_true_label;\n-          if_true_label = if_false_label;\n-          if_false_label = tem;\n+\t  std::swap (if_true_label, if_false_label);\n \t  code = rcode;\n \t  prob = inv (prob);\n \t}\n@@ -1000,9 +998,7 @@ do_compare_rtx_and_jump (rtx op0, rtx op1, enum rtx_code code, int unsignedp,\n \n   if (swap_commutative_operands_p (op0, op1))\n     {\n-      tem = op0;\n-      op0 = op1;\n-      op1 = tem;\n+      std::swap (op0, op1);\n       code = swap_condition (code);\n     }\n "}, {"sha": "25aa11f06e649ec78e883020b613e5eb86580684", "filename": "gcc/expr.c", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/00c1cf38e148cdbd57d350e240684181dac01091/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/00c1cf38e148cdbd57d350e240684181dac01091/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=00c1cf38e148cdbd57d350e240684181dac01091", "patch": "@@ -8870,11 +8870,7 @@ expand_expr_real_2 (sepops ops, rtx target, machine_mode tmode,\n \n       /* If op1 was placed in target, swap op0 and op1.  */\n       if (target != op0 && target == op1)\n-\t{\n-\t  temp = op0;\n-\t  op0 = op1;\n-\t  op1 = temp;\n-\t}\n+\tstd::swap (op0, op1);\n \n       /* We generate better code and avoid problems with op1 mentioning\n \t target by forcing op1 into a pseudo if it isn't a constant.  */"}]}