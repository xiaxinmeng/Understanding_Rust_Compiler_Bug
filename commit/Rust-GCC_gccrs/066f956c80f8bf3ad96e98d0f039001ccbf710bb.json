{"sha": "066f956c80f8bf3ad96e98d0f039001ccbf710bb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDY2Zjk1NmM4MGY4YmYzYWQ5NmU5OGQwZjAzOTAwMWNjYmY3MTBiYg==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@suse.de", "date": "2007-11-01T02:17:02Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2007-11-01T02:17:02Z"}, "message": "re PR c++/33494 (Broken diagnostic: 'modop_expr' not supported by dump_expr)\n\n/cp\n2007-10-31  Paolo Carlini  <pcarlini@suse.de>\n\n\tPR c++/33494\n\t* cxx-pretty-print.c (pp_cxx_typeid_expression,\n\tpp_cxx_delete_expression): Change to static linkage.\n\t* cxx-pretty-print.h: Adjust declarations.\n\t* error.c (dump_expr, case EXPR_PACK_EXPANSION, TYPEID_EXPR,\n\tMEMBER_REF, DOTSTAR_EXPR, DELETE_EXPR, VEC_DELETE_EXPR,\n\tMODOP_EXPR): Forward to pp_expression.\n\n\t* cxx-pretty-print.c (pp_cxx_expression, case NON_DEPENDENT_EXPR):\n\tFix typo.\n\n/testsuite\n2007-10-31  Paolo Carlini  <pcarlini@suse.de>\n\n\tPR c++/33494\n\t* g++.dg/template/error35.C: New.\n\nFrom-SVN: r129815", "tree": {"sha": "863b0f2ae6b67ddf839ffaad44b8e68fb931aaf2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/863b0f2ae6b67ddf839ffaad44b8e68fb931aaf2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/066f956c80f8bf3ad96e98d0f039001ccbf710bb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/066f956c80f8bf3ad96e98d0f039001ccbf710bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/066f956c80f8bf3ad96e98d0f039001ccbf710bb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/066f956c80f8bf3ad96e98d0f039001ccbf710bb/comments", "author": null, "committer": null, "parents": [{"sha": "c54171fee6142ce7ad3d0ae20a26f68ce053fd85", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c54171fee6142ce7ad3d0ae20a26f68ce053fd85", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c54171fee6142ce7ad3d0ae20a26f68ce053fd85"}], "stats": {"total": 49, "additions": 27, "deletions": 22}, "files": [{"sha": "6ea272f33f7106c661716b12c5e00da50c416995", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/066f956c80f8bf3ad96e98d0f039001ccbf710bb/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/066f956c80f8bf3ad96e98d0f039001ccbf710bb/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=066f956c80f8bf3ad96e98d0f039001ccbf710bb", "patch": "@@ -1,3 +1,16 @@\n+2007-10-31  Paolo Carlini  <pcarlini@suse.de>\n+\n+\tPR c++/33494\n+\t* cxx-pretty-print.c (pp_cxx_typeid_expression,\n+\tpp_cxx_delete_expression): Change to static linkage.\n+\t* cxx-pretty-print.h: Adjust declarations.\n+\t* error.c (dump_expr, case EXPR_PACK_EXPANSION, TYPEID_EXPR,\n+\tMEMBER_REF, DOTSTAR_EXPR, DELETE_EXPR, VEC_DELETE_EXPR,\n+\tMODOP_EXPR): Forward to pp_expression.\n+\n+\t* cxx-pretty-print.c (pp_cxx_expression, case NON_DEPENDENT_EXPR):\n+\tFix typo.\n+\n 2007-10-31 Christian Bruel  <christian.bruel@st.com>\n            Mark Mitchell  <mark@codesourcery.com>\n "}, {"sha": "9c5a85ff0b4f60f7196eb764f54c4736b2533025", "filename": "gcc/cp/cxx-pretty-print.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/066f956c80f8bf3ad96e98d0f039001ccbf710bb/gcc%2Fcp%2Fcxx-pretty-print.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/066f956c80f8bf3ad96e98d0f039001ccbf710bb/gcc%2Fcp%2Fcxx-pretty-print.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcxx-pretty-print.c?ref=066f956c80f8bf3ad96e98d0f039001ccbf710bb", "patch": "@@ -43,6 +43,7 @@ static void pp_cxx_abstract_declarator (cxx_pretty_printer *, tree);\n static void pp_cxx_statement (cxx_pretty_printer *, tree);\n static void pp_cxx_template_parameter (cxx_pretty_printer *, tree);\n static void pp_cxx_cast_expression (cxx_pretty_printer *, tree);\n+static void pp_cxx_typeid_expression (cxx_pretty_printer *, tree);\n \f\n \n static inline void\n@@ -672,7 +673,7 @@ pp_cxx_new_expression (cxx_pretty_printer *pp, tree t)\n       ::(opt) delete cast-expression\n       ::(opt) delete [ ] cast-expression   */\n \n-void\n+static void\n pp_cxx_delete_expression (cxx_pretty_printer *pp, tree t)\n {\n   enum tree_code code = TREE_CODE (t);\n@@ -1064,7 +1065,7 @@ pp_cxx_expression (cxx_pretty_printer *pp, tree t)\n \n     case NON_DEPENDENT_EXPR:\n     case MUST_NOT_THROW_EXPR:\n-      pp_cxx_expression (pp, t);\n+      pp_cxx_expression (pp, TREE_OPERAND (t, 0));\n       break;\n \n     case EXPR_PACK_EXPANSION:\n@@ -2161,7 +2162,7 @@ pp_cxx_declaration (cxx_pretty_printer *pp, tree t)\n     }\n }\n \n-void\n+static void\n pp_cxx_typeid_expression (cxx_pretty_printer *pp, tree t)\n {\n   t = TREE_OPERAND (t, 0);"}, {"sha": "e7c4220614f6abb8c98104431182d2add21b98d1", "filename": "gcc/cp/cxx-pretty-print.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/066f956c80f8bf3ad96e98d0f039001ccbf710bb/gcc%2Fcp%2Fcxx-pretty-print.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/066f956c80f8bf3ad96e98d0f039001ccbf710bb/gcc%2Fcp%2Fcxx-pretty-print.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcxx-pretty-print.h?ref=066f956c80f8bf3ad96e98d0f039001ccbf710bb", "patch": "@@ -70,9 +70,7 @@ void pp_cxx_separate_with (cxx_pretty_printer *, int);\n void pp_cxx_declaration (cxx_pretty_printer *, tree);\n void pp_cxx_canonical_template_parameter (cxx_pretty_printer *, tree);\n void pp_cxx_trait_expression (cxx_pretty_printer *, tree);\n-void pp_cxx_typeid_expression (cxx_pretty_printer *, tree);\n void pp_cxx_va_arg_expression (cxx_pretty_printer *, tree);\n void pp_cxx_offsetof_expression (cxx_pretty_printer *, tree);\n-void pp_cxx_delete_expression (cxx_pretty_printer *, tree);\n \n #endif /* GCC_CXX_PRETTY_PRINT_H */"}, {"sha": "031a22129d7b0b106f083c7e1d3adb693decbf23", "filename": "gcc/cp/error.c", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/066f956c80f8bf3ad96e98d0f039001ccbf710bb/gcc%2Fcp%2Ferror.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/066f956c80f8bf3ad96e98d0f039001ccbf710bb/gcc%2Fcp%2Ferror.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ferror.c?ref=066f956c80f8bf3ad96e98d0f039001ccbf710bb", "patch": "@@ -1873,10 +1873,6 @@ dump_expr (tree t, int flags)\n       dump_decl (TEMPLATE_PARM_DECL (t), flags & ~TFF_DECL_SPECIFIERS);\n       break;\n \n-    case SCOPE_REF:\n-      pp_expression (cxx_pp, t);\n-      break;\n-\n     case CAST_EXPR:\n       if (TREE_OPERAND (t, 0) == NULL_TREE\n \t  || TREE_CHAIN (TREE_OPERAND (t, 0)))\n@@ -2004,11 +2000,6 @@ dump_expr (tree t, int flags)\n       dump_expr (TREE_OPERAND (t, 0), flags);\n       break;\n \n-    case EXPR_PACK_EXPANSION:\n-      dump_expr (PACK_EXPANSION_PATTERN (t), flags);\n-      pp_cxx_identifier (cxx_pp, \"...\");\n-      break;\n-\n     case ARGUMENT_PACK_SELECT:\n       dump_template_argument (ARGUMENT_PACK_SELECT_FROM_PACK (t), flags);\n       break;\n@@ -2040,10 +2031,6 @@ dump_expr (tree t, int flags)\n       pp_cxx_trait_expression (cxx_pp, t);\n       break;\n \n-    case TYPEID_EXPR:\n-      pp_cxx_typeid_expression (cxx_pp, t);\n-      break;\n-\n     case VA_ARG_EXPR:\n       pp_cxx_va_arg_expression (cxx_pp, t);\n       break;\n@@ -2052,14 +2039,15 @@ dump_expr (tree t, int flags)\n       pp_cxx_offsetof_expression (cxx_pp, t);\n       break;\n \n+    case SCOPE_REF:\n+    case EXPR_PACK_EXPANSION:\n+    case TYPEID_EXPR:\n     case MEMBER_REF:\n     case DOTSTAR_EXPR:\n-      pp_multiplicative_expression (cxx_pp, t);\n-      break;\n-\n     case DELETE_EXPR:\n     case VEC_DELETE_EXPR:\n-      pp_cxx_delete_expression (cxx_pp, t);\n+    case MODOP_EXPR:\n+      pp_expression (cxx_pp, t);\n       break;\n \n       /*  This list is incomplete, but should suffice for now."}, {"sha": "bd9eb7b1e7dcf41dd3e2bf74e0a42dd55477753b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/066f956c80f8bf3ad96e98d0f039001ccbf710bb/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/066f956c80f8bf3ad96e98d0f039001ccbf710bb/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=066f956c80f8bf3ad96e98d0f039001ccbf710bb", "patch": "@@ -1,3 +1,8 @@\n+2007-10-31  Paolo Carlini  <pcarlini@suse.de>\n+\n+\tPR c++/33494\n+\t* g++.dg/template/error35.C: New.\n+\n 2007-10-31  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/31507"}]}