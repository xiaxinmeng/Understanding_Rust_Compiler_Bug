{"sha": "ec493bcb3a0e745425e6e98445d751e3c209edad", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWM0OTNiY2IzYTBlNzQ1NDI1ZTZlOTg0NDVkNzUxZTNjMjA5ZWRhZA==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@bitrange.com", "date": "2002-04-29T03:57:30Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2002-04-29T03:57:30Z"}, "message": "varasm.c (output_constant_def): Correct test for not calling ENCODE_SECTION_INFO for INTEGER_CST.\n\n\t* varasm.c (output_constant_def): Correct test for not calling\n\tENCODE_SECTION_INFO for INTEGER_CST.\n\nFrom-SVN: r52870", "tree": {"sha": "c4105a4d6b15ceb090cf1673b0c09ed393d11348", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c4105a4d6b15ceb090cf1673b0c09ed393d11348"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ec493bcb3a0e745425e6e98445d751e3c209edad", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec493bcb3a0e745425e6e98445d751e3c209edad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec493bcb3a0e745425e6e98445d751e3c209edad", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec493bcb3a0e745425e6e98445d751e3c209edad/comments", "author": null, "committer": null, "parents": [{"sha": "f81c23cdf52503d028f86a358e5704fe1f903051", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f81c23cdf52503d028f86a358e5704fe1f903051", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f81c23cdf52503d028f86a358e5704fe1f903051"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "980edbe530b17f0e0a59c7af4b78cfb1cbb73035", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec493bcb3a0e745425e6e98445d751e3c209edad/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec493bcb3a0e745425e6e98445d751e3c209edad/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ec493bcb3a0e745425e6e98445d751e3c209edad", "patch": "@@ -1,3 +1,8 @@\n+2002-04-29  Hans-Peter Nilsson  <hp@bitrange.com>\n+\n+\t* varasm.c (output_constant_def): Correct test for not calling\n+\tENCODE_SECTION_INFO for INTEGER_CST.\n+\n 2002-04-29  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n \t* cppexp.c (lex): Move some code to _cpp_parse_expr, but"}, {"sha": "8b22e16fe095743f0189a5fad1ff2b043b18107b", "filename": "gcc/varasm.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec493bcb3a0e745425e6e98445d751e3c209edad/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec493bcb3a0e745425e6e98445d751e3c209edad/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=ec493bcb3a0e745425e6e98445d751e3c209edad", "patch": "@@ -3284,7 +3284,9 @@ output_constant_def (exp, defer)\n      encoded in it.  */\n   if (! found)\n     {\n-      if (TREE_CODE (exp) == INTEGER_CST)\n+      /* Take care not to invoke ENCODE_SECTION_INFO for constants\n+\t which don't have a TREE_CST_RTL.  */\n+      if (TREE_CODE (exp) != INTEGER_CST)\n \tENCODE_SECTION_INFO (exp, true);\n \n       desc->rtl = rtl;"}]}