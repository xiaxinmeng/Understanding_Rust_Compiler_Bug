{"sha": "67bdbf1ebd52a2599cae74d4b1b6def861c8c8bc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjdiZGJmMWViZDUyYTI1OTljYWU3NGQ0YjFiNmRlZjg2MWM4YzhiYw==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2012-01-23T08:38:15Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2012-01-23T08:38:15Z"}, "message": "[multiple changes]\n\n2012-01-23  Robert Dewar  <dewar@adacore.com>\n\n\t* sem_ch10.adb, errout.adb: Minor reformatting.\n\n2012-01-23  Ed Schonberg  <schonberg@adacore.com>\n\n\t* sem_res.adb (Resolve_Actuals): An actual in a call to an\n\tAda 2012 Reference function does not lead to a dangerous order\n\tdependence.\n\nFrom-SVN: r183409", "tree": {"sha": "792053cddb8383795b1faf2619468aa69140dd34", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/792053cddb8383795b1faf2619468aa69140dd34"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/67bdbf1ebd52a2599cae74d4b1b6def861c8c8bc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/67bdbf1ebd52a2599cae74d4b1b6def861c8c8bc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/67bdbf1ebd52a2599cae74d4b1b6def861c8c8bc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/67bdbf1ebd52a2599cae74d4b1b6def861c8c8bc/comments", "author": null, "committer": null, "parents": [{"sha": "022d9ce887c7ca3637c597ed81d90d66e23071a1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/022d9ce887c7ca3637c597ed81d90d66e23071a1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/022d9ce887c7ca3637c597ed81d90d66e23071a1"}], "stats": {"total": 33, "additions": 25, "deletions": 8}, "files": [{"sha": "6104a07684ba65130bf9b4b561f7654809674bff", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67bdbf1ebd52a2599cae74d4b1b6def861c8c8bc/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67bdbf1ebd52a2599cae74d4b1b6def861c8c8bc/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=67bdbf1ebd52a2599cae74d4b1b6def861c8c8bc", "patch": "@@ -1,3 +1,13 @@\n+2012-01-23  Robert Dewar  <dewar@adacore.com>\n+\n+\t* sem_ch10.adb, errout.adb: Minor reformatting.\n+\n+2012-01-23  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* sem_res.adb (Resolve_Actuals): An actual in a call to an\n+\tAda 2012 Reference function does not lead to a dangerous order\n+\tdependence.\n+\n 2012-01-23  Gary Dismukes  <dismukes@adacore.com>\n \n \t* exp_util.adb (Is_Iterated_Container): Test"}, {"sha": "b342b75400ea866930375c61d57f3b8294e8c43f", "filename": "gcc/ada/errout.adb", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67bdbf1ebd52a2599cae74d4b1b6def861c8c8bc/gcc%2Fada%2Ferrout.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67bdbf1ebd52a2599cae74d4b1b6def861c8c8bc/gcc%2Fada%2Ferrout.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ferrout.adb?ref=67bdbf1ebd52a2599cae74d4b1b6def861c8c8bc", "patch": "@@ -143,9 +143,9 @@ package body Errout is\n    --  parameter Suffix, (spec) or (body) is appended after the unit name.\n \n    procedure Set_Msg_Node (Node : Node_Id);\n-   --  Add the sequence of characters for the name associated with the\n-   --  given node to the current message. For N_Designator, N_Defining_Program_\n-   --  Unit_Name, N_Selected_Component, and N_Expanded_Name, the Prefix is\n+   --  Add the sequence of characters for the name associated with the given\n+   --  node to the current message. For N_Designator, N_Selected_Component,\n+   --  N_Defining_Program_Unit_Name, and N_Expanded_Name, the Prefix is\n    --  included as well.\n \n    procedure Set_Msg_Text (Text : String; Flag : Source_Ptr);"}, {"sha": "07dfdf6676cea373d4366e0657e1f4029238ea78", "filename": "gcc/ada/sem_ch10.adb", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67bdbf1ebd52a2599cae74d4b1b6def861c8c8bc/gcc%2Fada%2Fsem_ch10.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67bdbf1ebd52a2599cae74d4b1b6def861c8c8bc/gcc%2Fada%2Fsem_ch10.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch10.adb?ref=67bdbf1ebd52a2599cae74d4b1b6def861c8c8bc", "patch": "@@ -644,9 +644,7 @@ package body Sem_Ch10 is\n       --  up not analyzed, it means that the parent did not contain a stub for\n       --  it, or that there errors were detected in some ancestor.\n \n-      if Nkind (Unit_Node) = N_Subunit\n-        and then not Analyzed (Lib_Unit)\n-      then\n+      if Nkind (Unit_Node) = N_Subunit and then not Analyzed (Lib_Unit) then\n          Semantics (Lib_Unit);\n \n          if not Analyzed (Proper_Body (Unit_Node)) then"}, {"sha": "0fecd5b53d79d0d9e413b3a63ec0c1a7d2728804", "filename": "gcc/ada/sem_res.adb", "status": "modified", "additions": 11, "deletions": 2, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67bdbf1ebd52a2599cae74d4b1b6def861c8c8bc/gcc%2Fada%2Fsem_res.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67bdbf1ebd52a2599cae74d4b1b6def861c8c8bc/gcc%2Fada%2Fsem_res.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_res.adb?ref=67bdbf1ebd52a2599cae74d4b1b6def861c8c8bc", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2011, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2012, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -3739,7 +3739,16 @@ package body Sem_Res is\n             --  Save actual for subsequent check on order dependence, and\n             --  indicate whether actual is modifiable. For AI05-0144-2.\n \n-            Save_Actual (A, Ekind (F) /= E_In_Parameter);\n+            --  If this is a call to a reference function that is the result\n+            --  of expansion, as in element iterator loops, this does not lead\n+            --  to a dangerous order dependence: only subsequent use of the\n+            --  denoted element might, in some enclosing call.\n+\n+            if not Has_Implicit_Dereference (Etype (Nam))\n+              or else Comes_From_Source (N)\n+            then\n+               Save_Actual (A, Ekind (F) /= E_In_Parameter);\n+            end if;\n \n             --  For mode IN, if actual is an entity, and the type of the formal\n             --  has warnings suppressed, then we reset Never_Set_In_Source for"}]}