{"sha": "51532731d141d998342b6e3006194c38b4289eac", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTE1MzI3MzFkMTQxZDk5ODM0MmI2ZTMwMDYxOTRjMzhiNDI4OWVhYw==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2002-03-06T23:23:34Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2002-03-06T23:23:34Z"}, "message": "natFileDescriptorEcos.cc (init): Don't use GetStdHandle.\n\n\t* java/io/natFileDescriptorEcos.cc (init): Don't use\n\tGetStdHandle.\n\t* java/io/natFileDescriptorPosix.cc (valid): Don't call stat if FD\n\tis negative.\n\t(init): Don't use GetStdHandle.\n\nFrom-SVN: r50383", "tree": {"sha": "26da2a384ceaf3a758cc43d068cc7a6780786eff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/26da2a384ceaf3a758cc43d068cc7a6780786eff"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/51532731d141d998342b6e3006194c38b4289eac", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/51532731d141d998342b6e3006194c38b4289eac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/51532731d141d998342b6e3006194c38b4289eac", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/51532731d141d998342b6e3006194c38b4289eac/comments", "author": null, "committer": null, "parents": [{"sha": "fd7852b37a2d35d75b472d9b89f5be533974cb57", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd7852b37a2d35d75b472d9b89f5be533974cb57", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd7852b37a2d35d75b472d9b89f5be533974cb57"}], "stats": {"total": 26, "additions": 16, "deletions": 10}, "files": [{"sha": "6de0a688728d9b9690787b42df1808868c1a259b", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/51532731d141d998342b6e3006194c38b4289eac/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/51532731d141d998342b6e3006194c38b4289eac/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=51532731d141d998342b6e3006194c38b4289eac", "patch": "@@ -1,5 +1,11 @@\n 2002-03-06  Tom Tromey  <tromey@redhat.com>\n \n+\t* java/io/natFileDescriptorEcos.cc (init): Don't use\n+\tGetStdHandle.\n+\t* java/io/natFileDescriptorPosix.cc (valid): Don't call stat if FD\n+\tis negative.\n+\t(init): Don't use GetStdHandle.\n+\n \t* include/config.h.in: Rebuilt.\n \t* configure: Rebuilt.\n \t* Makefile.in: Rebuilt."}, {"sha": "8e1dd950b8f3927a5377fe604c30bcc0028096ba", "filename": "libjava/java/io/natFileDescriptorEcos.cc", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/51532731d141d998342b6e3006194c38b4289eac/libjava%2Fjava%2Fio%2FnatFileDescriptorEcos.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/51532731d141d998342b6e3006194c38b4289eac/libjava%2Fjava%2Fio%2FnatFileDescriptorEcos.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fio%2FnatFileDescriptorEcos.cc?ref=51532731d141d998342b6e3006194c38b4289eac", "patch": "@@ -1,6 +1,6 @@\n // natFileDescriptor.cc - Native part of FileDescriptor class.\n \n-/* Copyright (C) 1998, 1999, 2001  Free Software Foundation\n+/* Copyright (C) 1998, 1999, 2001, 2002  Free Software Foundation\n \n    This file is part of libgcj.\n \n@@ -44,9 +44,9 @@ diag_write (char *data, int len)\n void\n java::io::FileDescriptor::init(void)\n {\n-  in = new java::io::FileDescriptor((jint)(GetStdHandle (0)));\n-  out = new java::io::FileDescriptor((jint)(GetStdHandle (1)));\n-  err = new java::io::FileDescriptor((jint)(GetStdHandle (2)));\n+  in = new java::io::FileDescriptor(0);\n+  out = new java::io::FileDescriptor(1);\n+  err = new java::io::FileDescriptor(2);\n }\n \n jboolean"}, {"sha": "5352f99cc634134feb593658db7f3d9d3a30fea5", "filename": "libjava/java/io/natFileDescriptorPosix.cc", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/51532731d141d998342b6e3006194c38b4289eac/libjava%2Fjava%2Fio%2FnatFileDescriptorPosix.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/51532731d141d998342b6e3006194c38b4289eac/libjava%2Fjava%2Fio%2FnatFileDescriptorPosix.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fio%2FnatFileDescriptorPosix.cc?ref=51532731d141d998342b6e3006194c38b4289eac", "patch": "@@ -1,6 +1,6 @@\n // natFileDescriptor.cc - Native part of FileDescriptor class.\n \n-/* Copyright (C) 1998, 1999, 2000, 2001  Free Software Foundation\n+/* Copyright (C) 1998, 1999, 2000, 2001, 2002  Free Software Foundation\n \n    This file is part of libgcj.\n \n@@ -46,18 +46,18 @@ details.  */\n #define NO_FSYNC_MESSAGE \"sync unsupported\"\n \n void\n-java::io::FileDescriptor::init(void)\n+java::io::FileDescriptor::init (void)\n {\n-  in = new java::io::FileDescriptor((jint)(GetStdHandle (0)));\n-  out = new java::io::FileDescriptor((jint)(GetStdHandle (1)));\n-  err = new java::io::FileDescriptor((jint)(GetStdHandle (2)));\n+  in = new java::io::FileDescriptor(0);\n+  out = new java::io::FileDescriptor(1);\n+  err = new java::io::FileDescriptor(2);\n }\n \n jboolean\n java::io::FileDescriptor::valid (void)\n {\n   struct stat sb;\n-  return ::fstat (fd, &sb) == 0;\n+  return fd >= 0 && ::fstat (fd, &sb) == 0;\n }\n \n void"}]}