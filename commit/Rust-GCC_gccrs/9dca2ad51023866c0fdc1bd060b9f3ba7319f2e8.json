{"sha": "9dca2ad51023866c0fdc1bd060b9f3ba7319f2e8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWRjYTJhZDUxMDIzODY2YzBmZGMxYmQwNjBiOWYzYmE3MzE5ZjJlOA==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2003-02-21T10:06:44Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2003-02-21T10:06:44Z"}, "message": "cfgrtl.c (commit_one_edge_insertion): Only mark BB for splitting.\n\n\t* cfgrtl.c (commit_one_edge_insertion): Only mark BB for splitting.\n\t(commit_edge_insertions): Call find_many_sub_basic_blocks\n\n\t* reg-stack.c (convert_regs): Cleax aux for blocks.\n\nFrom-SVN: r63216", "tree": {"sha": "18a335286c42e4f9ba5c597a88b20dbc373f200e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/18a335286c42e4f9ba5c597a88b20dbc373f200e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9dca2ad51023866c0fdc1bd060b9f3ba7319f2e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9dca2ad51023866c0fdc1bd060b9f3ba7319f2e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9dca2ad51023866c0fdc1bd060b9f3ba7319f2e8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9dca2ad51023866c0fdc1bd060b9f3ba7319f2e8/comments", "author": null, "committer": null, "parents": [{"sha": "64465d2735a026a372c4ae44fc083187c8623c97", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64465d2735a026a372c4ae44fc083187c8623c97", "html_url": "https://github.com/Rust-GCC/gccrs/commit/64465d2735a026a372c4ae44fc083187c8623c97"}], "stats": {"total": 27, "additions": 26, "deletions": 1}, "files": [{"sha": "c57de2ddaa2071735d04b1e60304645d556b2888", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9dca2ad51023866c0fdc1bd060b9f3ba7319f2e8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9dca2ad51023866c0fdc1bd060b9f3ba7319f2e8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9dca2ad51023866c0fdc1bd060b9f3ba7319f2e8", "patch": "@@ -1,3 +1,10 @@\n+Fri Feb 21 11:05:44 CET 2003  Jan Hubicka  <jh@suse.cz>\n+\n+\t* cfgrtl.c (commit_one_edge_insertion): Only mark BB for splitting.\n+\t(commit_edge_insertions): Call find_many_sub_basic_blocks\n+\n+\t* reg-stack.c (convert_regs): Cleax aux for blocks.\n+\n Fri Feb 21 10:29:52 CET 2003  Jan Hubicka  <jh@suse.cz>\n \n \t* toplev.c (parse_options_and_default_flags): Undo accidental commit."}, {"sha": "6d3be7e6389ea03742a2f47866b21759cad813a6", "filename": "gcc/cfgrtl.c", "status": "modified", "additions": 18, "deletions": 1, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9dca2ad51023866c0fdc1bd060b9f3ba7319f2e8/gcc%2Fcfgrtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9dca2ad51023866c0fdc1bd060b9f3ba7319f2e8/gcc%2Fcfgrtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgrtl.c?ref=9dca2ad51023866c0fdc1bd060b9f3ba7319f2e8", "patch": "@@ -1449,7 +1449,8 @@ commit_one_edge_insertion (e, watch_calls)\n   else if (GET_CODE (last) == JUMP_INSN)\n     abort ();\n \n-  find_sub_basic_blocks (bb);\n+  /* Mark the basic block for find_sub_basic_blocks.  */\n+  bb->aux = &bb->aux;\n }\n \n /* Update the CFG for all queued instructions.  */\n@@ -1458,6 +1459,7 @@ void\n commit_edge_insertions ()\n {\n   basic_block bb;\n+  sbitmap blocks;\n \n #ifdef ENABLE_CHECKING\n   verify_flow_info ();\n@@ -1474,6 +1476,21 @@ commit_edge_insertions ()\n \t    commit_one_edge_insertion (e, false);\n \t}\n     }\n+\n+  blocks = sbitmap_alloc (last_basic_block);\n+  sbitmap_zero (blocks);\n+  FOR_EACH_BB (bb)\n+    if (bb->aux)\n+      {\n+        SET_BIT (blocks, bb->index);\n+\t/* Check for forgotten bb->aux values before commit_edge_insertions\n+\t   call.  */\n+\tif (bb->aux != &bb->aux)\n+\t  abort ();\n+\tbb->aux = NULL;\n+      }\n+  find_many_sub_basic_blocks (blocks);\n+  sbitmap_free (blocks);\n }\n \f\n /* Update the CFG for all queued instructions, taking special care of inserting"}, {"sha": "52be2a20bc25e9abdb7ee0b314f4d84439910942", "filename": "gcc/reg-stack.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9dca2ad51023866c0fdc1bd060b9f3ba7319f2e8/gcc%2Freg-stack.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9dca2ad51023866c0fdc1bd060b9f3ba7319f2e8/gcc%2Freg-stack.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freg-stack.c?ref=9dca2ad51023866c0fdc1bd060b9f3ba7319f2e8", "patch": "@@ -2922,6 +2922,7 @@ convert_regs (file)\n \t  inserted |= convert_regs_2 (file, b);\n \t}\n     }\n+  clear_aux_for_blocks ();\n \n   fixup_abnormal_edges ();\n   if (inserted)"}]}