{"sha": "f05bbca3d9598cd78daa4aaf13d5a7c8d7465069", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjA1YmJjYTNkOTU5OGNkNzhkYWE0YWFmMTNkNWE3YzhkNzQ2NTA2OQ==", "commit": {"author": {"name": "Nick Alcock", "email": "nick.alcock@oracle.com", "date": "2021-01-06T13:18:34Z"}, "committer": {"name": "Alan Modra", "email": "amodra@gmail.com", "date": "2021-01-06T22:58:58Z"}, "message": "sync libctf toplevel from binutils-gdb\n\nThis pulls in the toplevel portions of these binutils-gdb commits:\n\n   1ff6de031241c59d0ff bfd, ld: add CTF section linking\n   87279e3cef5b2c54f4a libctf: installable libctf as a shared library\n   c59e30ed1727135f8ef libctf: new testsuite\n\n\t* Makefile.def: Sync with binutils-gdb:\n\t(dependencies): all-ld depends on all-libctf.\n\t(host_modules): libctf is no longer no_install.\n\tNo longer no_check.  Checking depends on all-ld.\n\t* Makefile.in: Regenerated.", "tree": {"sha": "383348491e89c154b2387c34803ddcd78e60a77e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/383348491e89c154b2387c34803ddcd78e60a77e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f05bbca3d9598cd78daa4aaf13d5a7c8d7465069", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f05bbca3d9598cd78daa4aaf13d5a7c8d7465069", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f05bbca3d9598cd78daa4aaf13d5a7c8d7465069", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f05bbca3d9598cd78daa4aaf13d5a7c8d7465069/comments", "author": {"login": "nickalcock", "id": 6503005, "node_id": "MDQ6VXNlcjY1MDMwMDU=", "avatar_url": "https://avatars.githubusercontent.com/u/6503005?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nickalcock", "html_url": "https://github.com/nickalcock", "followers_url": "https://api.github.com/users/nickalcock/followers", "following_url": "https://api.github.com/users/nickalcock/following{/other_user}", "gists_url": "https://api.github.com/users/nickalcock/gists{/gist_id}", "starred_url": "https://api.github.com/users/nickalcock/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nickalcock/subscriptions", "organizations_url": "https://api.github.com/users/nickalcock/orgs", "repos_url": "https://api.github.com/users/nickalcock/repos", "events_url": "https://api.github.com/users/nickalcock/events{/privacy}", "received_events_url": "https://api.github.com/users/nickalcock/received_events", "type": "User", "site_admin": false}, "committer": {"login": "amodra", "id": 6006325, "node_id": "MDQ6VXNlcjYwMDYzMjU=", "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amodra", "html_url": "https://github.com/amodra", "followers_url": "https://api.github.com/users/amodra/followers", "following_url": "https://api.github.com/users/amodra/following{/other_user}", "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}", "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amodra/subscriptions", "organizations_url": "https://api.github.com/users/amodra/orgs", "repos_url": "https://api.github.com/users/amodra/repos", "events_url": "https://api.github.com/users/amodra/events{/privacy}", "received_events_url": "https://api.github.com/users/amodra/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "15a47f437d2ba320aa9cb72986812f115498dbf9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15a47f437d2ba320aa9cb72986812f115498dbf9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/15a47f437d2ba320aa9cb72986812f115498dbf9"}], "stats": {"total": 47, "additions": 43, "deletions": 4}, "files": [{"sha": "3e38f61193ff2fc0a29dea161540a1860deb849b", "filename": "Makefile.def", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f05bbca3d9598cd78daa4aaf13d5a7c8d7465069/Makefile.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f05bbca3d9598cd78daa4aaf13d5a7c8d7465069/Makefile.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.def?ref=f05bbca3d9598cd78daa4aaf13d5a7c8d7465069", "patch": "@@ -141,8 +141,7 @@ host_modules= { module= lto-plugin; bootstrap=true;\n \t\textra_make_flags='@extra_linker_plugin_flags@'; };\n host_modules= { module= libcc1; extra_configure_flags=--enable-shared; };\n host_modules= { module= gotools; };\n-host_modules= { module= libctf; no_install=true; no_check=true;\n-\t\tbootstrap=true; };\n+host_modules= { module= libctf; bootstrap=true; };\n \n target_modules = { module= libstdc++-v3;\n \t\t   bootstrap=true;\n@@ -463,6 +462,7 @@ dependencies = { module=all-binutils; on=all-build-bison; };\n dependencies = { module=all-binutils; on=all-intl; };\n dependencies = { module=all-binutils; on=all-gas; };\n dependencies = { module=all-binutils; on=all-libctf; };\n+dependencies = { module=all-ld; on=all-libctf; };\n \n // We put install-opcodes before install-binutils because the installed\n // binutils might be on PATH, and they might need the shared opcodes\n@@ -561,6 +561,7 @@ dependencies = { module=configure-libctf; on=all-bfd; };\n dependencies = { module=configure-libctf; on=all-intl; };\n dependencies = { module=configure-libctf; on=all-zlib; };\n dependencies = { module=configure-libctf; on=all-libiconv; };\n+dependencies = { module=check-libctf; on=all-ld; };\n \n // Warning, these are not well tested.\n dependencies = { module=all-bison; on=all-intl; };"}, {"sha": "247cb9c87116043728f1e9504a2e715a850ab8ee", "filename": "Makefile.in", "status": "modified", "additions": 40, "deletions": 2, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f05bbca3d9598cd78daa4aaf13d5a7c8d7465069/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f05bbca3d9598cd78daa4aaf13d5a7c8d7465069/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=f05bbca3d9598cd78daa4aaf13d5a7c8d7465069", "patch": "@@ -41747,6 +41747,12 @@ maybe-check-libctf:\n maybe-check-libctf: check-libctf\n \n check-libctf:\n+\t@: $(MAKE); $(unstage)\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(HOST_EXPORTS) $(EXTRA_HOST_EXPORTS) \\\n+\t(cd $(HOST_SUBDIR)/libctf && \\\n+\t  $(MAKE) $(FLAGS_TO_PASS)  $(EXTRA_BOOTSTRAP_FLAGS) check)\n \n @endif libctf\n \n@@ -41755,7 +41761,13 @@ maybe-install-libctf:\n @if libctf\n maybe-install-libctf: install-libctf\n \n-install-libctf:\n+install-libctf: installdirs\n+\t@: $(MAKE); $(unstage)\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(HOST_EXPORTS) \\\n+\t(cd $(HOST_SUBDIR)/libctf && \\\n+\t  $(MAKE) $(FLAGS_TO_PASS)  install)\n \n @endif libctf\n \n@@ -41764,7 +41776,13 @@ maybe-install-strip-libctf:\n @if libctf\n maybe-install-strip-libctf: install-strip-libctf\n \n-install-strip-libctf:\n+install-strip-libctf: installdirs\n+\t@: $(MAKE); $(unstage)\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(HOST_EXPORTS) \\\n+\t(cd $(HOST_SUBDIR)/libctf && \\\n+\t  $(MAKE) $(FLAGS_TO_PASS)  install-strip)\n \n @endif libctf\n \n@@ -61206,6 +61224,16 @@ all-stagetrain-binutils: maybe-all-stagetrain-libctf\n all-stagefeedback-binutils: maybe-all-stagefeedback-libctf\n all-stageautoprofile-binutils: maybe-all-stageautoprofile-libctf\n all-stageautofeedback-binutils: maybe-all-stageautofeedback-libctf\n+all-ld: maybe-all-libctf\n+all-stage1-ld: maybe-all-stage1-libctf\n+all-stage2-ld: maybe-all-stage2-libctf\n+all-stage3-ld: maybe-all-stage3-libctf\n+all-stage4-ld: maybe-all-stage4-libctf\n+all-stageprofile-ld: maybe-all-stageprofile-libctf\n+all-stagetrain-ld: maybe-all-stagetrain-libctf\n+all-stagefeedback-ld: maybe-all-stagefeedback-libctf\n+all-stageautoprofile-ld: maybe-all-stageautoprofile-libctf\n+all-stageautofeedback-ld: maybe-all-stageautofeedback-libctf\n install-binutils: maybe-install-opcodes\n install-strip-binutils: maybe-install-strip-opcodes\n install-opcodes: maybe-install-bfd\n@@ -61566,6 +61594,16 @@ configure-stagetrain-libctf: maybe-all-stagetrain-libiconv\n configure-stagefeedback-libctf: maybe-all-stagefeedback-libiconv\n configure-stageautoprofile-libctf: maybe-all-stageautoprofile-libiconv\n configure-stageautofeedback-libctf: maybe-all-stageautofeedback-libiconv\n+check-libctf: maybe-all-ld\n+check-stage1-libctf: maybe-all-stage1-ld\n+check-stage2-libctf: maybe-all-stage2-ld\n+check-stage3-libctf: maybe-all-stage3-ld\n+check-stage4-libctf: maybe-all-stage4-ld\n+check-stageprofile-libctf: maybe-all-stageprofile-ld\n+check-stagetrain-libctf: maybe-all-stagetrain-ld\n+check-stagefeedback-libctf: maybe-all-stagefeedback-ld\n+check-stageautoprofile-libctf: maybe-all-stageautoprofile-ld\n+check-stageautofeedback-libctf: maybe-all-stageautofeedback-ld\n all-bison: maybe-all-build-texinfo\n all-flex: maybe-all-build-bison\n all-flex: maybe-all-m4"}]}