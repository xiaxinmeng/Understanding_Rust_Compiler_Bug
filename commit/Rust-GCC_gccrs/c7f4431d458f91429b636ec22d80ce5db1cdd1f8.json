{"sha": "c7f4431d458f91429b636ec22d80ce5db1cdd1f8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzdmNDQzMWQ0NThmOTE0MjliNjM2ZWMyMmQ4MGNlNWRiMWNkZDFmOA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-02-10T23:58:36Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-02-10T23:58:36Z"}, "message": "Don't crash on erroneous thunk.\n\nFrom-SVN: r170031", "tree": {"sha": "f50219d45d26ff74eb15e450ec50f1f888fb3b3e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f50219d45d26ff74eb15e450ec50f1f888fb3b3e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c7f4431d458f91429b636ec22d80ce5db1cdd1f8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7f4431d458f91429b636ec22d80ce5db1cdd1f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c7f4431d458f91429b636ec22d80ce5db1cdd1f8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7f4431d458f91429b636ec22d80ce5db1cdd1f8/comments", "author": null, "committer": null, "parents": [{"sha": "4a299bf4ff32f153cf07e684e177a97568325708", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a299bf4ff32f153cf07e684e177a97568325708", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a299bf4ff32f153cf07e684e177a97568325708"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "6b45d0111e02c438c97b48dbf2bf6e82e5154dcb", "filename": "gcc/go/gofrontend/statements.cc", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7f4431d458f91429b636ec22d80ce5db1cdd1f8/gcc%2Fgo%2Fgofrontend%2Fstatements.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7f4431d458f91429b636ec22d80ce5db1cdd1f8/gcc%2Fgo%2Fgofrontend%2Fstatements.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fstatements.cc?ref=c7f4431d458f91429b636ec22d80ce5db1cdd1f8", "patch": "@@ -1776,8 +1776,13 @@ Thunk_statement::do_determine_types()\n \n   // Now that we know the types of the call, build the struct used to\n   // pass parameters.\n-  Function_type* fntype =\n-    this->call_->call_expression()->get_function_type();\n+  Call_expression* ce = this->call_->call_expression();\n+  if (ce == NULL)\n+    {\n+      gcc_assert(this->call_->is_error_expression());\n+      return;\n+    }\n+  Function_type* fntype = ce->get_function_type();\n   if (fntype != NULL && !this->is_simple(fntype))\n     this->struct_type_ = this->build_struct(fntype);\n }\n@@ -1788,6 +1793,11 @@ void\n Thunk_statement::do_check_types(Gogo*)\n {\n   Call_expression* ce = this->call_->call_expression();\n+  if (ce == NULL)\n+    {\n+      gcc_assert(this->call_->is_error_expression());\n+      return;\n+    }\n   Function_type* fntype = ce->get_function_type();\n   if (fntype != NULL && fntype->is_method())\n     {"}]}