{"sha": "126b11c6921e3e0b8eb29b60e5bf5b4dd83797d4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTI2YjExYzY5MjFlM2UwYjhlYjI5YjYwZTViZjViNGRkODM3OTdkNA==", "commit": {"author": {"name": "Chung-Ju Wu", "email": "jasonwucj@gmail.com", "date": "2014-09-03T08:50:14Z"}, "committer": {"name": "Chung-Ju Wu", "email": "jasonwucj@gcc.gnu.org", "date": "2014-09-03T08:50:14Z"}, "message": "[NDS32] Add a function to indentify if FUNC is an interrupt service routine.\n\n\t* config/nds32/nds32-isr.c (nds32_isr_function_p): Define new function\n\tto check if FUNC is an interrupt service routine.\n\t* config/nds32/nds32-protos.h (nds32_isr_function_p): Declaration.\n\nFrom-SVN: r214855", "tree": {"sha": "09751509cb264dd7b510327dfae263b13113e48e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/09751509cb264dd7b510327dfae263b13113e48e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/126b11c6921e3e0b8eb29b60e5bf5b4dd83797d4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/126b11c6921e3e0b8eb29b60e5bf5b4dd83797d4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/126b11c6921e3e0b8eb29b60e5bf5b4dd83797d4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/126b11c6921e3e0b8eb29b60e5bf5b4dd83797d4/comments", "author": {"login": "jasonwucj", "id": 5520732, "node_id": "MDQ6VXNlcjU1MjA3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/5520732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasonwucj", "html_url": "https://github.com/jasonwucj", "followers_url": "https://api.github.com/users/jasonwucj/followers", "following_url": "https://api.github.com/users/jasonwucj/following{/other_user}", "gists_url": "https://api.github.com/users/jasonwucj/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasonwucj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasonwucj/subscriptions", "organizations_url": "https://api.github.com/users/jasonwucj/orgs", "repos_url": "https://api.github.com/users/jasonwucj/repos", "events_url": "https://api.github.com/users/jasonwucj/events{/privacy}", "received_events_url": "https://api.github.com/users/jasonwucj/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "dd1536a7267a0a8abf90aecae8379a1d871cda99", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd1536a7267a0a8abf90aecae8379a1d871cda99", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd1536a7267a0a8abf90aecae8379a1d871cda99"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "aa65d6a890a494ddd62e15eac46d9acb475186a0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/126b11c6921e3e0b8eb29b60e5bf5b4dd83797d4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/126b11c6921e3e0b8eb29b60e5bf5b4dd83797d4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=126b11c6921e3e0b8eb29b60e5bf5b4dd83797d4", "patch": "@@ -1,3 +1,9 @@\n+2014-09-03  Chung-Ju Wu  <jasonwucj@gmail.com>\n+\n+\t* config/nds32/nds32-isr.c (nds32_isr_function_p): Define new function\n+\tto check if FUNC is an interrupt service routine.\n+\t* config/nds32/nds32-protos.h (nds32_isr_function_p): Declaration.\n+\n 2014-09-03  Chung-Ju Wu  <jasonwucj@gmail.com>\n \n \t* config/nds32/nds32.h (machine_function): Add some fields for variadic"}, {"sha": "bb8fcdd75614da7b8a4bc523d4ee65a4453c510f", "filename": "gcc/config/nds32/nds32-isr.c", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/126b11c6921e3e0b8eb29b60e5bf5b4dd83797d4/gcc%2Fconfig%2Fnds32%2Fnds32-isr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/126b11c6921e3e0b8eb29b60e5bf5b4dd83797d4/gcc%2Fconfig%2Fnds32%2Fnds32-isr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnds32%2Fnds32-isr.c?ref=126b11c6921e3e0b8eb29b60e5bf5b4dd83797d4", "patch": "@@ -574,4 +574,28 @@ nds32_asm_file_end_for_isr (void)\n     }\n }\n \n+/* Return true if FUNC is a isr function.  */\n+bool\n+nds32_isr_function_p (tree func)\n+{\n+  tree t_intr;\n+  tree t_excp;\n+  tree t_reset;\n+\n+  tree attrs;\n+\n+  if (TREE_CODE (func) != FUNCTION_DECL)\n+    abort ();\n+\n+  attrs = DECL_ATTRIBUTES (func);\n+\n+  t_intr  = lookup_attribute (\"interrupt\", attrs);\n+  t_excp  = lookup_attribute (\"exception\", attrs);\n+  t_reset = lookup_attribute (\"reset\", attrs);\n+\n+  return ((t_intr != NULL_TREE)\n+\t  || (t_excp != NULL_TREE)\n+\t  || (t_reset != NULL_TREE));\n+}\n+\n /* ------------------------------------------------------------------------ */"}, {"sha": "e57674a83114207bd78e12446bfb16616ed457bf", "filename": "gcc/config/nds32/nds32-protos.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/126b11c6921e3e0b8eb29b60e5bf5b4dd83797d4/gcc%2Fconfig%2Fnds32%2Fnds32-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/126b11c6921e3e0b8eb29b60e5bf5b4dd83797d4/gcc%2Fconfig%2Fnds32%2Fnds32-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnds32%2Fnds32-protos.h?ref=126b11c6921e3e0b8eb29b60e5bf5b4dd83797d4", "patch": "@@ -136,6 +136,7 @@ extern void nds32_check_isr_attrs_conflict (tree, tree);\n extern void nds32_construct_isr_vectors_information (tree, const char *);\n extern void nds32_asm_file_start_for_isr (void);\n extern void nds32_asm_file_end_for_isr (void);\n+extern bool nds32_isr_function_p (tree);\n \n /* Auxiliary functions for cost calculation.  */\n "}]}