{"sha": "3620711b75a8b664a7ff1f6fe96ddd52fd2d8a0d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzYyMDcxMWI3NWE4YjY2NGE3ZmYxZjZmZTk2ZGRkNTJmZDJkOGEwZA==", "commit": {"author": {"name": "Neil Booth", "email": "neil@daikokuya.demon.co.uk", "date": "2002-05-24T19:26:30Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2002-05-24T19:26:30Z"}, "message": "re PR preprocessor/6780 (Incorrect diagnosis of token pasting)\n\n\tPR preprocessor/6780\n\t* cppmacro.c (enter_macro_context): Clear state.angled_headers.\ntestsuite:\n\t* gcc.dg/cpp/paste12.c: New test.\n\nFrom-SVN: r53851", "tree": {"sha": "602f22674669b7f36aed488ae8fdeb6a599ee063", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/602f22674669b7f36aed488ae8fdeb6a599ee063"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3620711b75a8b664a7ff1f6fe96ddd52fd2d8a0d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3620711b75a8b664a7ff1f6fe96ddd52fd2d8a0d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3620711b75a8b664a7ff1f6fe96ddd52fd2d8a0d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3620711b75a8b664a7ff1f6fe96ddd52fd2d8a0d/comments", "author": null, "committer": null, "parents": [{"sha": "2f8d482ecd2d884e9b27d74bae92457147bf8ce1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f8d482ecd2d884e9b27d74bae92457147bf8ce1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2f8d482ecd2d884e9b27d74bae92457147bf8ce1"}], "stats": {"total": 19, "additions": 19, "deletions": 0}, "files": [{"sha": "cfcc5fbeb047d6effddaa537e7cd7877072f7026", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3620711b75a8b664a7ff1f6fe96ddd52fd2d8a0d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3620711b75a8b664a7ff1f6fe96ddd52fd2d8a0d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3620711b75a8b664a7ff1f6fe96ddd52fd2d8a0d", "patch": "@@ -1,3 +1,8 @@\n+2002-05-24  Neil Booth  <neil@daikokuya.demon.co.uk>\n+\n+\tPR preprocessor/6780\n+\t* cppmacro.c (enter_macro_context): Clear state.angled_headers.\n+\n 2002-05-24  Jim Blandy  <jimb@redhat.com>\n \n \t* dwarf2out.c (dwarf2out_finish): Don't forget to emit a final"}, {"sha": "d154c0ccb85d8bfaff2cf7024398ce0a086e71a8", "filename": "gcc/cppmacro.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3620711b75a8b664a7ff1f6fe96ddd52fd2d8a0d/gcc%2Fcppmacro.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3620711b75a8b664a7ff1f6fe96ddd52fd2d8a0d/gcc%2Fcppmacro.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcppmacro.c?ref=3620711b75a8b664a7ff1f6fe96ddd52fd2d8a0d", "patch": "@@ -660,6 +660,8 @@ enter_macro_context (pfile, node)\n   /* The presence of a macro invalidates a file's controlling macro.  */\n   pfile->mi_valid = false;\n \n+  pfile->state.angled_headers = false;\n+\n   /* Handle standard macros.  */\n   if (! (node->flags & NODE_BUILTIN))\n     {"}, {"sha": "deabe47ee7aa667d5b734859fb0c2bf70c5f4826", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3620711b75a8b664a7ff1f6fe96ddd52fd2d8a0d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3620711b75a8b664a7ff1f6fe96ddd52fd2d8a0d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=3620711b75a8b664a7ff1f6fe96ddd52fd2d8a0d", "patch": "@@ -1,3 +1,7 @@\n+2002-05-24  Neil Booth  <neil@daikokuya.demon.co.uk>\n+\n+\t* gcc.dg/cpp/paste12.c: New test.\n+\n 2002-05-23  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n \t* g++.dg/parse/named_ops.C: New test."}, {"sha": "e61ec51433c067cbf5a2e7d7a59b6435db4aa61b", "filename": "gcc/testsuite/gcc.dg/cpp/paste12.c", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3620711b75a8b664a7ff1f6fe96ddd52fd2d8a0d/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fpaste12.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3620711b75a8b664a7ff1f6fe96ddd52fd2d8a0d/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fpaste12.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fpaste12.c?ref=3620711b75a8b664a7ff1f6fe96ddd52fd2d8a0d", "patch": "@@ -0,0 +1,8 @@\n+/* { dg-do preprocess } */\n+\n+/* Test correct diagnostics when pasting in #include.\n+   Source: PR preprocessor/6780.  */\n+\n+#define inc2(a,b) <##a.b>\n+#define INC(X) inc2(X,h)\n+#include INC(stdio) /* { dg-error \"pasting \\\"<\\\" and \\\"stdio\\\" does not\" } */"}]}