{"sha": "5a721dab82a65ae66c4b4a7ef05c8f287299a212", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWE3MjFkYWI4MmE2NWFlNjZjNGI0YTdlZjA1YzhmMjg3Mjk5YTIxMg==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2002-01-28T16:25:14Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2002-01-28T16:25:14Z"}, "message": "config.gcc (*-*-netbsdelf*): Set up generic parameters.\n\n* config.gcc (*-*-netbsdelf*): Set up generic parameters.\n(*-*-netbsd*): Always use collect2.  Remove collect2 settings from\nother non-elf netbsd config frags.\n* config/netbsd-aout.h (STARTFILE_SPEC): Don't pull in c++rt0 since\ncollect2 will does that.\n* config/netbsd.h (LIBGCC_SPEC): Add white space before -lgcc, so that\nshared-lib frobbing will work.\n\nFrom-SVN: r49285", "tree": {"sha": "9605a980569976f6af1f8b87caa727d6b4aee99e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9605a980569976f6af1f8b87caa727d6b4aee99e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5a721dab82a65ae66c4b4a7ef05c8f287299a212", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a721dab82a65ae66c4b4a7ef05c8f287299a212", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a721dab82a65ae66c4b4a7ef05c8f287299a212", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a721dab82a65ae66c4b4a7ef05c8f287299a212/comments", "author": null, "committer": null, "parents": [{"sha": "da1775d6449cc419801f0e0832f1a8618c84f90f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da1775d6449cc419801f0e0832f1a8618c84f90f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/da1775d6449cc419801f0e0832f1a8618c84f90f"}], "stats": {"total": 37, "additions": 24, "deletions": 13}, "files": [{"sha": "c41bf5f8186504f48129dcbe017de43a0e798555", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a721dab82a65ae66c4b4a7ef05c8f287299a212/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a721dab82a65ae66c4b4a7ef05c8f287299a212/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5a721dab82a65ae66c4b4a7ef05c8f287299a212", "patch": "@@ -1,3 +1,13 @@\n+2002-01-28  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\t* config.gcc (*-*-netbsdelf*): Set up generic parameters.\n+\t(*-*-netbsd*): Always use collect2.  Remove collect2 settings from\n+\tother non-elf netbsd config frags.\n+\t* config/netbsd-aout.h (STARTFILE_SPEC): Don't pull in c++rt0 since\n+\tcollect2 will does that.\n+\t* config/netbsd.h (LIBGCC_SPEC): Add white space before -lgcc, so that\n+\tshared-lib frobbing will work.\n+\n 2002-01-28  Kazu Hirata  <kazu@hxi.com>\n \n \t* config/h8300/h8300.h: Fix formatting."}, {"sha": "85e5f28f2a9113007f25a61aad01006fc2c27df7", "filename": "gcc/config.gcc", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a721dab82a65ae66c4b4a7ef05c8f287299a212/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a721dab82a65ae66c4b4a7ef05c8f287299a212/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=5a721dab82a65ae66c4b4a7ef05c8f287299a212", "patch": "@@ -319,11 +319,19 @@ case $machine in\n \t\ttmake_file=\"${tmake_file} t-openbsd-thread\"\n \tfi\n \t;;\n+*-*-netbsdelf*)\n+\ttmake_file=\"t-libc-ok t-netbsd\"\n+\txm_defines=POSIX\n+\tgas=yes\n+\tgnu_ld=yes\n+\t;;\n *-*-netbsd*)\n+\t# Traditional a.out systems need to use collect2\n \ttmake_file=\"t-libc-ok t-netbsd\"\n \txm_defines=POSIX\n \tgas=yes\n \tgnu_ld=yes\n+\tuse_collect2=yes\n \t;;\n *-*-freebsd[12] | *-*-freebsd[12].* | *-*-freebsd*aout*)\n \t# This is the place-holder for the generic a.out configuration\n@@ -632,7 +640,6 @@ arm*-*-freebsd*|strongarm*-*-freebsd*)\n arm*-*-netbsd*)\n \ttm_file=\"arm/aout.h arm/arm.h netbsd.h netbsd-aout.h arm/netbsd.h\"\n \ttmake_file=\"t-netbsd arm/t-netbsd\"\n-\tuse_collect2=yes\n \t;;\n arm*-*-linux*)\t\t\t# ARM GNU/Linux with ELF\n \ttm_file=\"dbxelf.h elfos.h arm/unknown-elf.h arm/elf.h arm/aout.h arm/arm.h arm/linux-gas.h arm/linux-elf.h\"\n@@ -1150,7 +1157,6 @@ i[34567]86-*-netbsdelf*)\n i[34567]86-*-netbsd*)\n \ttm_file=i386/netbsd.h\n \ttmake_file=t-netbsd\n-\tuse_collect2=yes\n \t;;\n x86_64-*-netbsd*)\n \ttm_file=\"${tm_file} i386/att.h dbxelf.h elfos.h netbsd.h netbsd-elf.h i386/x86-64.h i386/netbsd64.h\"\n@@ -1936,7 +1942,6 @@ m68k*-*-netbsd*)\n \ttm_file=m68k/netbsd.h\n \ttmake_file=t-netbsd\n \tfloat_format=m68k\n-\tuse_collect2=yes\n \t;;\n m68k*-*-openbsd*)\n \t# needed to unconfuse gdb\n@@ -2606,7 +2611,6 @@ ns32k-*-netbsd*)\n \ttm_file=ns32k/netbsd.h\n \t# On NetBSD, the headers are already okay, except for math.h.\n \ttmake_file=t-netbsd\n-\tuse_collect2=yes\n \t;;\n pdp11-*-bsd)\n \ttm_file=\"${tm_file} pdp11/2bsd.h\"\n@@ -2917,7 +2921,6 @@ sparc-*-aout*)\n sparc-*-netbsd*)\n \ttm_file=\"${tm_file} sparc/aout.h netbsd.h netbsd-aout.h sparc/netbsd.h\"\n \ttmake_file=t-netbsd\n-\tuse_collect2=yes\n \t;;\n sparc-*-openbsd*)\n \ttm_file=\"sparc/sparc.h ${tm_file}\"\n@@ -3232,7 +3235,6 @@ vax-*-netbsd*)\n \ttm_file=\"${tm_file} netbsd.h netbsd-aout.h vax/netbsd.h\"\n \ttmake_file=t-netbsd\n \tfloat_format=vax\n-\tuse_collect2=yes\n \t;;\n vax-*-openbsd*)\n \ttm_file=\"vax/vax.h vax/openbsd1.h openbsd.h ${tm_file}\""}, {"sha": "a853df54420e6bc2e4fffe8ccf7712010c03dadb", "filename": "gcc/config/netbsd-aout.h", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a721dab82a65ae66c4b4a7ef05c8f287299a212/gcc%2Fconfig%2Fnetbsd-aout.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a721dab82a65ae66c4b4a7ef05c8f287299a212/gcc%2Fconfig%2Fnetbsd-aout.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnetbsd-aout.h?ref=5a721dab82a65ae66c4b4a7ef05c8f287299a212", "patch": "@@ -45,8 +45,7 @@ Boston, MA 02111-1307, USA.  */\n        %{p:mcrt0%O%s}\t\t\t\\\n        %{!p:\t\t\t\t\\\n \t %{!static:crt0%O%s}\t\t\\\n-\t %{static:scrt0%O%s}}}}\t\t\\\n-   %{shared:c++rt0%O%s}\"\n+\t %{static:scrt0%O%s}}}}\"\n \n /* Provide a LINK_SPEC appropriate for NetBSD a.out.  Here we provide\n    support for the special GCC options -static, -assert, and -nostdlib.  */"}, {"sha": "fba341bc0cb9b544f6c1055c57aa10ea2eedd1b4", "filename": "gcc/config/netbsd.h", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a721dab82a65ae66c4b4a7ef05c8f287299a212/gcc%2Fconfig%2Fnetbsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a721dab82a65ae66c4b4a7ef05c8f287299a212/gcc%2Fconfig%2Fnetbsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnetbsd.h?ref=5a721dab82a65ae66c4b4a7ef05c8f287299a212", "patch": "@@ -70,12 +70,12 @@\n   \"%{!symbolic:\t\t\t\\\n      %{!shared:\t\t\t\\\n        %{!p:\t\t\t\\\n-\t %{!pg:-lgcc}}}\t\t\\\n-     %{shared:-lgcc_pic}\t\\\n-     %{p:-lgcc_p}\t\t\\\n-     %{pg:-lgcc_p}}\"\n+\t %{!pg: -lgcc}}}\t\t\\\n+     %{shared: -lgcc_pic}\t\\\n+     %{p: -lgcc_p}\t\t\\\n+     %{pg: -lgcc_p}}\"\n #else\n-#define LIBGCC_SPEC \"%{!shared:%{!symbolic:-lgcc}}\"\n+#define LIBGCC_SPEC \"%{!shared:%{!symbolic: -lgcc}}\"\n #endif\n \n /* When building shared libraries, the initialization and finalization "}]}