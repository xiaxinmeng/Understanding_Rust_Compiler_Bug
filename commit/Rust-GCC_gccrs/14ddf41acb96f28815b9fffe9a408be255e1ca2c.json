{"sha": "14ddf41acb96f28815b9fffe9a408be255e1ca2c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTRkZGY0MWFjYjk2ZjI4ODE1YjlmZmZlOWE0MDhiZTI1NWUxY2EyYw==", "commit": {"author": {"name": "Christophe Lyon", "email": "christophe.lyon@linaro.org", "date": "2020-11-04T09:33:42Z"}, "committer": {"name": "Christophe Lyon", "email": "christophe.lyon@linaro.org", "date": "2020-11-04T09:39:14Z"}, "message": "testsuite: fix arm/pure-code/no-literal-pool-* tests\n\nAdd -mfloat-abi=soft and skip the tests if -mfloat-abi=hard is\nsupplied.\n\nThis avoids failures when testing with overridden flags such as\nmthumb/-mcpu=cortex-m4/-mfloat-abi=hard\n\n2020-11-04  Christophe Lyon  <christophe.lyon@linaro.org>\n\n\tgcc/testsuite/\n\t* gcc.target/arm/pure-code/no-literal-pool-m0.c: Add dg-skip-if\n\tand -mfloat-abi=soft option.\n\t* gcc.target/arm/pure-code/no-literal-pool-m23.c: Likewise.", "tree": {"sha": "7bd28ebf937952aeac55ba6041b00f7f0b54a5bd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7bd28ebf937952aeac55ba6041b00f7f0b54a5bd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/14ddf41acb96f28815b9fffe9a408be255e1ca2c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14ddf41acb96f28815b9fffe9a408be255e1ca2c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/14ddf41acb96f28815b9fffe9a408be255e1ca2c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14ddf41acb96f28815b9fffe9a408be255e1ca2c/comments", "author": null, "committer": null, "parents": [{"sha": "619039de36a78164c67a2c62a425a444340d4a06", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/619039de36a78164c67a2c62a425a444340d4a06", "html_url": "https://github.com/Rust-GCC/gccrs/commit/619039de36a78164c67a2c62a425a444340d4a06"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "bd6f4af183b22fb339fb3674e9514c9eff54a2ba", "filename": "gcc/testsuite/gcc.target/arm/pure-code/no-literal-pool-m0.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14ddf41acb96f28815b9fffe9a408be255e1ca2c/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpure-code%2Fno-literal-pool-m0.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14ddf41acb96f28815b9fffe9a408be255e1ca2c/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpure-code%2Fno-literal-pool-m0.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpure-code%2Fno-literal-pool-m0.c?ref=14ddf41acb96f28815b9fffe9a408be255e1ca2c", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do compile } */\n-/* { dg-options \"-mpure-code -mcpu=cortex-m0 -march=armv6s-m -mthumb\" } */\n+/* { dg-skip-if \"skip override\" { *-*-* } { \"-mfloat-abi=hard\" } { \"\" } } */\n+/* { dg-options \"-mpure-code -mcpu=cortex-m0 -march=armv6s-m -mthumb -mfloat-abi=soft\" } */\n /* { dg-final { check-function-bodies \"**\" \"\" } } */\n \n /* Does not use thumb1_gen_const_int."}, {"sha": "95370126ce8b488d9ad4ed4a797c31f3191c6f60", "filename": "gcc/testsuite/gcc.target/arm/pure-code/no-literal-pool-m23.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14ddf41acb96f28815b9fffe9a408be255e1ca2c/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpure-code%2Fno-literal-pool-m23.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14ddf41acb96f28815b9fffe9a408be255e1ca2c/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpure-code%2Fno-literal-pool-m23.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpure-code%2Fno-literal-pool-m23.c?ref=14ddf41acb96f28815b9fffe9a408be255e1ca2c", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do compile } */\n-/* { dg-options \"-mpure-code -mcpu=cortex-m23 -march=armv8-m.base -mthumb\" } */\n+/* { dg-skip-if \"skip override\" { *-*-* } { \"-mfloat-abi=hard\" } { \"\" } } */\n+/* { dg-options \"-mpure-code -mcpu=cortex-m23 -march=armv8-m.base -mthumb -mfloat-abi=soft\" } */\n /* { dg-final { check-function-bodies \"**\" \"\" } } */\n \n /*"}]}