{"sha": "9813058e848a5ff8950db9df412118a0128721da", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTgxMzA1OGU4NDhhNWZmODk1MGRiOWRmNDEyMTE4YTAxMjg3MjFkYQ==", "commit": {"author": {"name": "James E Wilson", "email": "wilson@specifixinc.com", "date": "2004-01-09T23:14:29Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2004-01-09T23:14:29Z"}, "message": "gcc.c (init_spec): Remove -lunwind from shared case.\n\n2004-01-09   James E Wilson  <wilson@specifixinc.com>\n\n\t* gcc.c (init_spec): Remove -lunwind from shared case.\n\t* conifg/ia64/t-hpux (SHLIB_LINK): Add -lunwind.\n\nFrom-SVN: r75611", "tree": {"sha": "1e903dff7dd3d8392b722a803ddc1674b6dd24fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1e903dff7dd3d8392b722a803ddc1674b6dd24fb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9813058e848a5ff8950db9df412118a0128721da", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9813058e848a5ff8950db9df412118a0128721da", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9813058e848a5ff8950db9df412118a0128721da", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9813058e848a5ff8950db9df412118a0128721da/comments", "author": null, "committer": null, "parents": [{"sha": "27c99ffebca238cfc77736076f7d79fc9cc77f8e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/27c99ffebca238cfc77736076f7d79fc9cc77f8e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/27c99ffebca238cfc77736076f7d79fc9cc77f8e"}], "stats": {"total": 25, "additions": 13, "deletions": 12}, "files": [{"sha": "06768ae27d626d80e821ff41f545e67c3f222465", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9813058e848a5ff8950db9df412118a0128721da/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9813058e848a5ff8950db9df412118a0128721da/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9813058e848a5ff8950db9df412118a0128721da", "patch": "@@ -1,3 +1,8 @@\n+2004-01-09   James E Wilson  <wilson@specifixinc.com>\n+\n+\t* gcc.c (init_spec): Remove -lunwind from shared case.\n+\t* conifg/ia64/t-hpux (SHLIB_LINK): Add -lunwind.\n+\n 2004-01-09  Steve Ellcey  <sje@cup.hp.com>\n \n \t* configure.ac: (gcc_cv_ld_hidden) Set to true for ia64*-*-hpux*.\n@@ -40,7 +45,7 @@\n \t(expand_end_bindings): Save and restor last_expr_alt_rtl.\n \t* tree.def (RTL_EXPR): Give it an additional operand.\n \t* tree.h (RTL_EXPR_ALT_RTL): New macro.\n-\t\n+\n 2004-01-09  Kazuhiro Inaoka  <inaoka.kazuhiro@renesas.com>\n \n \t* config/m32r/m32r.h (TARGET_CPU_CPP_BUILTINS): Add __m32r__.\n@@ -86,10 +91,10 @@\n \n \tPR opt/12441\n \tRevert: Sat Mar 30 14:08:55 CET 2002  Jan Hubicka  <jh@suse.cz>\n-        * i386.c (aligned_operand): Be prepared for SUBREGed registers.\n-        (ix86_decompose_address): Use REG_P instead of GET_CODE (...) == REG.\n-        (ix86_address_cost): Be prepared for SUBREGed registers.\n-        (legitimate_address_p): Accept SUBREGed registers.\n+\t* i386.c (aligned_operand): Be prepared for SUBREGed registers.\n+\t(ix86_decompose_address): Use REG_P instead of GET_CODE (...) == REG.\n+\t(ix86_address_cost): Be prepared for SUBREGed registers.\n+\t(legitimate_address_p): Accept SUBREGed registers.\n \n 2004-01-08  Kelley Cook  <kcook@gcc.gnu.org>\n "}, {"sha": "597c2acbe2ae1414092e0554779e6dcb8258a31a", "filename": "gcc/config/ia64/t-hpux", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9813058e848a5ff8950db9df412118a0128721da/gcc%2Fconfig%2Fia64%2Ft-hpux", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9813058e848a5ff8950db9df412118a0128721da/gcc%2Fconfig%2Fia64%2Ft-hpux", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Ft-hpux?ref=9813058e848a5ff8950db9df412118a0128721da", "patch": "@@ -26,9 +26,11 @@ LIBGCC1_TEST =\n LIB2ADDEH =\n \n SHLIB_EXT = .so\n+# Must include -lunwind in the link, so that libgcc_s.so has the necessary\n+# DT_NEEDED entry for libunwind.\n SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n \t-Wl,+h,@shlib_base_name@.so.0 \\\n-\t-o @shlib_base_name@.so @multilib_flags@ @shlib_objs@ -lc && \\\n+\t-o @shlib_base_name@.so @multilib_flags@ @shlib_objs@ -lunwind -lc && \\\n \trm -f @shlib_base_name@.so.0 && \\\n \t$(LN_S) @shlib_base_name@.so @shlib_base_name@.so.0\n # $(slibdir) double quoted to protect it from expansion while building"}, {"sha": "bc6d4c4235bc49ff815e265ca711974b16ab2509", "filename": "gcc/gcc.c", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9813058e848a5ff8950db9df412118a0128721da/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9813058e848a5ff8950db9df412118a0128721da/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=9813058e848a5ff8950db9df412118a0128721da", "patch": "@@ -1632,9 +1632,6 @@ init_spec (void)\n \t\t\t    \"-lgcc_s\"\n #else\n \t\t\t    \"-lgcc_s%M\"\n-#endif\n-#ifdef USE_LIBUNWIND_EXCEPTIONS\n-\t\t\t    \" -lunwind\"\n #endif\n \t\t\t    ,\n \t\t\t    \"-lgcc\",\n@@ -1656,9 +1653,6 @@ init_spec (void)\n \t\t\t    \"-lgcc_s\"\n #else\n \t\t\t    \"-lgcc_s%M\"\n-#endif\n-#ifdef USE_LIBUNWIND_EXCEPTIONS\n-\t\t\t    \" -lunwind\"\n #endif\n \t\t\t    ,\n \t\t\t    \"libgcc.a%s\","}]}