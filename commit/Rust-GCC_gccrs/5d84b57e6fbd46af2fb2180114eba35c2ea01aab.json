{"sha": "5d84b57e6fbd46af2fb2180114eba35c2ea01aab", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWQ4NGI1N2U2ZmJkNDZhZjJmYjIxODAxMTRlYmEzNWMyZWEwMWFhYg==", "commit": {"author": {"name": "Joel Sherrill", "email": "joel@OARcorp.com", "date": "1997-09-01T14:14:30Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-09-01T14:14:30Z"}, "message": "go32-rtems.h, [...] (subtarget_switches): Added -mrtems as a switch.\n\n        * i386/go32-rtems.h, i386/rtems.h, i960/rtems.h,\n        m68k/rtems.h, mips/rtems64.h, pa/rtems.h, rs6000/rtems.h,\n        sparc/rtems.h (subtarget_switches): Added -mrtems as a switch.\n        * i960/i960.h: Added SUBTARGET_SWITCHES macro.\n        * rs6000/sysv4.h (extra_subtarget_switches): Added new\n        macro EXTRA_SUBTARGET_SWITCHES.\n        * configure.in (sh*-*-rtems*): New target.\n        * sh/rtems.h: New file.\n        * sh/sh.h: Added SUBTARGET_SWITCHES macro.\n        * configure: Rebuilt.\n\nFrom-SVN: r15006", "tree": {"sha": "5670358070f1da006cef914f40babdd68c070799", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5670358070f1da006cef914f40babdd68c070799"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5d84b57e6fbd46af2fb2180114eba35c2ea01aab", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d84b57e6fbd46af2fb2180114eba35c2ea01aab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d84b57e6fbd46af2fb2180114eba35c2ea01aab", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/comments", "author": null, "committer": null, "parents": [{"sha": "2599dcc74ab14923fef52293afad9f5fe2d30e9c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2599dcc74ab14923fef52293afad9f5fe2d30e9c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2599dcc74ab14923fef52293afad9f5fe2d30e9c"}], "stats": {"total": 112, "additions": 106, "deletions": 6}, "files": [{"sha": "783e5ec7b132868594c280c725bfa6c620369983", "filename": "gcc/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5d84b57e6fbd46af2fb2180114eba35c2ea01aab", "patch": "@@ -1,3 +1,16 @@\n+Mon Sep  1 08:04:07 1997  Joel Sherrill (joel@OARcorp.com)\n+\n+\t* i386/go32-rtems.h, i386/rtems.h, i960/rtems.h, \n+\tm68k/rtems.h, mips/rtems64.h, pa/rtems.h, rs6000/rtems.h,\n+\tsparc/rtems.h (subtarget_switches): Added -mrtems as a switch.\n+\t* i960/i960.h: Added SUBTARGET_SWITCHES macro.\n+\t* rs6000/sysv4.h (extra_subtarget_switches): Added new\n+\tmacro EXTRA_SUBTARGET_SWITCHES.\n+\t* configure.in (sh*-*-rtems*): New target.\n+\t* sh/rtems.h: New file.\n+\t* sh/sh.h: Added SUBTARGET_SWITCHES macro.\n+\t* configure: Rebuilt.\n+\n Sat Aug 30 22:54:26 1997  Jim Wilson  <wilson@cygnus.com>\n \n \t* unroll.c (calculate_giv_inc): Handle increment with code PLUS."}, {"sha": "d2be80b601175392594730a36c5224693f958ef3", "filename": "gcc/config/i386/go32-rtems.h", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Fi386%2Fgo32-rtems.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Fi386%2Fgo32-rtems.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fgo32-rtems.h?ref=5d84b57e6fbd46af2fb2180114eba35c2ea01aab", "patch": "@@ -30,3 +30,10 @@ Boston, MA 02111-1307, USA.  */\n #endif\n #define CPP_PREDEFINES \"-Dunix -Di386 -DGO32 -DMSDOS -Drtems -D__rtems__ \\\n   -Asystem(unix) -Asystem(msdos) -Acpu(i386) -Amachine(i386) -Asystem(rtems)\"\n+\n+#undef  SUBTARGET_SWITCHES\n+#define SUBTARGET_SWITCHES \\\n+  { \"rtems\", 0 },\n+\n+/* end of i386/go32-rtems.h */\n+"}, {"sha": "ea30a677460ae2b520e0a3aaf37604851b21c776", "filename": "gcc/config/i386/rtems.h", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Fi386%2Frtems.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Fi386%2Frtems.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Frtems.h?ref=5d84b57e6fbd46af2fb2180114eba35c2ea01aab", "patch": "@@ -28,4 +28,8 @@ Boston, MA 02111-1307, USA.  */\n #define CPP_PREDEFINES \"-Di386 -Drtems -D__rtems__ \\\n    -Asystem(rtems) -Acpu(i386) -Amachine(i386)\"\n \n-/* end of i386-rtems.h */\n+#undef  SUBTARGET_SWITCHES\n+#define SUBTARGET_SWITCHES \\\n+  { \"rtems\", 0 },\n+\n+/* end of i386/rtems.h */"}, {"sha": "6ef1e12561cf24a952dbdde839858b838209e881", "filename": "gcc/config/i960/i960.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Fi960%2Fi960.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Fi960%2Fi960.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi960%2Fi960.h?ref=5d84b57e6fbd46af2fb2180114eba35c2ea01aab", "patch": "@@ -269,6 +269,7 @@ extern int target_flags;\n     {\"no-old-align\", -(TARGET_FLAG_OLD_ALIGN|TARGET_FLAG_STRICT_ALIGN)}, \\\n     {\"link-relax\", 0},\t\t\t\t\t\\\n     {\"no-link-relax\", 0},\t\t\t\t\\\n+    SUBTARGET_SWITCHES                                                  \\\n     { \"\", TARGET_DEFAULT}}\n \n /* Override conflicting target switch options."}, {"sha": "af5a26f913a06cba723b6f9df4be5d29b6fd22ff", "filename": "gcc/config/i960/rtems.h", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Fi960%2Frtems.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Fi960%2Frtems.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi960%2Frtems.h?ref=5d84b57e6fbd46af2fb2180114eba35c2ea01aab", "patch": "@@ -28,4 +28,8 @@ Boston, MA 02111-1307, USA.  */\n #define CPP_PREDEFINES \"-Di960 -Di80960 -DI960 -DI80960 -Drtems -D__rtems__ \\\n    -Asystem(rtems) -Acpu(i960) -Amachine(i960)\"\n \n-/* end of i960-rtems.h */\n+#undef  SUBTARGET_SWITCHES\n+#define SUBTARGET_SWITCHES \\\n+  { \"rtems\", 0 },\n+\n+/* end of i960/rtems.h */"}, {"sha": "817f05f388357b83b872f6d932362dd26c619884", "filename": "gcc/config/m68k/rtems.h", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Fm68k%2Frtems.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Fm68k%2Frtems.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Frtems.h?ref=5d84b57e6fbd46af2fb2180114eba35c2ea01aab", "patch": "@@ -27,4 +27,8 @@ Boston, MA 02111-1307, USA.  */\n #define CPP_PREDEFINES \"-Dmc68000 -Drtems -D__rtems__ \\\n    -Asystem(rtems) -Acpu(mc68000) -Acpu(m68k) -Amachine(m68k)\"\n \n-/* end of m68k-rtems.h */\n+#undef  SUBTARGET_SWITCHES\n+#define SUBTARGET_SWITCHES \\\n+  { \"rtems\", 0 },\n+\n+/* end of m68k/rtems.h */"}, {"sha": "a9547c860bfa98fae90993c9744e86561253ec9f", "filename": "gcc/config/mips/rtems64.h", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Fmips%2Frtems64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Fmips%2Frtems64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Frtems64.h?ref=5d84b57e6fbd46af2fb2180114eba35c2ea01aab", "patch": "@@ -28,4 +28,8 @@ Boston, MA 02111-1307, USA.  */\n #define CPP_PREDEFINES \"-Dmips -DMIPSEB -DR4000 -D_mips -D_MIPSEB -D_R4000 \\\n    -Drtems -D__rtems__ -Asystem(rtems)\"\n \n-/* end of rtems64.h */\n+#undef  SUBTARGET_SWITCHES\n+#define SUBTARGET_SWITCHES \\\n+  { \"rtems\", 0 },\n+\n+/* end of mips/rtems64.h */"}, {"sha": "784524d6a9026020c75a75ed81c6e8c37c5d1b17", "filename": "gcc/config/pa/rtems.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Fpa%2Frtems.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Fpa%2Frtems.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Frtems.h?ref=5d84b57e6fbd46af2fb2180114eba35c2ea01aab", "patch": "@@ -28,3 +28,5 @@ Boston, MA 02111-1307, USA.  */\n #undef  SUBTARGET_SWITCHES\n #define SUBTARGET_SWITCHES \\\n   { \"rtems\", 0 },\n+\n+/* end of pa/rtems.h */"}, {"sha": "0bcec52da35f56fc29d6f148ba85d8e0bd02496e", "filename": "gcc/config/rs6000/rtems.h", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Frs6000%2Frtems.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Frs6000%2Frtems.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frtems.h?ref=5d84b57e6fbd46af2fb2180114eba35c2ea01aab", "patch": "@@ -28,6 +28,10 @@ Boston, MA 02111-1307, USA.  */\n #define CPP_PREDEFINES \"-DPPC -Drtems -D__rtems__ \\\n    -Asystem(rtems) -Acpu(powerpc) -Amachine(powerpc)\"\n \n-/* rtems is in the SUBTARGET_SWITCHES in rs6000/sysv4.h */\n+/* extend the SUBTARGET_SWITCHES in rs6000/sysv4.h */\n+\n+#undef  EXTRA_SUBTARGET_SWITCHES\n+#define EXTRA_SUBTARGET_SWITCHES \\\n+  { \"rtems\", 0 },\n \n /* end of powerpc-rtems.h */"}, {"sha": "44dd686e0c5791e1088ff80cbc01b541300b3e73", "filename": "gcc/config/rs6000/sysv4.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fsysv4.h?ref=5d84b57e6fbd46af2fb2180114eba35c2ea01aab", "patch": "@@ -95,8 +95,12 @@ extern enum rs6000_sdata_type rs6000_sdata;\n   { \"emb\",\t\t 0 },\t\t\t\t\t\t\\\n   { \"solaris-cclib\",\t 0 },\t\t\t\t\t\t\\\n   { \"shlib\",\t\t 0 },\t\t\t\t\t\t\\\n+  EXTRA_SUBTARGET_SWITCHES                                              \\\n   { \"newlib\",\t\t 0 },\n \n+/* This is meant to be redefined in the host dependent files */\n+#define EXTRA_SUBTARGET_SWITCHES\n+\n /* Default ABI to use */\n #define RS6000_ABI_NAME \"sysv\"\n "}, {"sha": "5cbdf9bb51aeae56c0273c784a1a4095c13b1100", "filename": "gcc/config/sh/rtems.h", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Fsh%2Frtems.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Fsh%2Frtems.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Frtems.h?ref=5d84b57e6fbd46af2fb2180114eba35c2ea01aab", "patch": "@@ -0,0 +1,35 @@\n+/* Definitions for rtems targetting a SH using elf.\n+\n+   Copyright (C) 1996 Free Software Foundation, Inc.\n+   Contributed by Joel Sherrill (joel@OARcorp.com).\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#include \"sh/elf.h\"\n+\n+/* Specify predefined symbols in preprocessor.  */\n+\n+#undef CPP_PREDEFINES\n+#define CPP_PREDEFINES \"-D__sh__ -D__ELF__ -Drtems -D__rtems__ \\\n+  -Asystem(rtems) -Acpu(sh) -Amachine(sh)\"\n+\n+#undef  SUBTARGET_SWITCHES\n+#define SUBTARGET_SWITCHES \\\n+  { \"rtems\", 0 },\n+\n+/* end of sparc/rtems.h */"}, {"sha": "5210fdc76b438e97dd60f98f9bbb49e8c7f6e4c5", "filename": "gcc/config/sh/sh.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Fsh%2Fsh.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Fsh%2Fsh.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.h?ref=5d84b57e6fbd46af2fb2180114eba35c2ea01aab", "patch": "@@ -144,9 +144,13 @@ extern int target_flags;\n   {\"padstruct\", PADSTRUCT_BIT},    \t\t\\\n   {\"relax\",\tRELAX_BIT},\t\t\t\\\n   {\"space\", \tSPACE_BIT},\t\t\t\\\n+  SUBTARGET_SWITCHES                            \\\n   {\"\",   \tTARGET_DEFAULT} \t\t\\\n }\n \n+/* This are meant to be redefined in the host dependent files */\n+#define SUBTARGET_SWITCHES\n+\n #define TARGET_DEFAULT  (0)\n \n #define PRESERVE_DEATH_INFO_REGNO_P(regno) (TARGET_RELAX || optimize)"}, {"sha": "5b18619fa2f296bf547d770432f3088e058298b8", "filename": "gcc/config/sparc/rtems.h", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Fsparc%2Frtems.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfig%2Fsparc%2Frtems.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Frtems.h?ref=5d84b57e6fbd46af2fb2180114eba35c2ea01aab", "patch": "@@ -28,4 +28,8 @@ Boston, MA 02111-1307, USA.  */\n #define CPP_PREDEFINES \"-Dsparc -D__GCC_NEW_VARARGS__ -Drtems -D__rtems__ \\\n   -Asystem(rtems) -Acpu(sparc) -Amachine(sparc)\"\n \n-/* end of sparc-rtems.h */\n+#undef  SUBTARGET_SWITCHES\n+#define SUBTARGET_SWITCHES \\\n+  { \"rtems\", 0 },\n+\n+/* end of sparc/rtems.h */"}, {"sha": "44445181232008ad50476d8dd8ee57a1477057dd", "filename": "gcc/configure", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=5d84b57e6fbd46af2fb2180114eba35c2ea01aab", "patch": "@@ -3667,6 +3667,11 @@ for machine in $build $host $target; do\n \t\ttm_file=sh/elf.h\n \t\tfloat_format=sh\n \t\t;;\n+\tsh-*-rtems*)\n+\t\ttmake_file=\"sh/t-sh t-rtems\"\n+\t\ttm_file=sh/rtems.h\n+\t\tfloat_format=sh\n+\t\t;;\n \tsh-*-*)\n \t\tfloat_format=sh\n \t\t;;"}, {"sha": "7027f31458a0d4284279347ffae1228cccea01b9", "filename": "gcc/configure.in", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d84b57e6fbd46af2fb2180114eba35c2ea01aab/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=5d84b57e6fbd46af2fb2180114eba35c2ea01aab", "patch": "@@ -2286,6 +2286,11 @@ for machine in $build $host $target; do\n \t\ttm_file=sh/elf.h\n \t\tfloat_format=sh\n \t\t;;\n+\tsh-*-rtems*)\n+\t\ttmake_file=\"sh/t-sh t-rtems\"\n+\t\ttm_file=sh/rtems.h\n+\t\tfloat_format=sh\n+\t\t;;\n \tsh-*-*)\n \t\tfloat_format=sh\n \t\t;;"}]}