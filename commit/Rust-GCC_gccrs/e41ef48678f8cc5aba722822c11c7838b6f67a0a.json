{"sha": "e41ef48678f8cc5aba722822c11c7838b6f67a0a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTQxZWY0ODY3OGY4Y2M1YWJhNzIyODIyYzExYzc4MzhiNmY2N2EwYQ==", "commit": {"author": {"name": "Uros Bizjak", "email": "ubizjak@gmail.com", "date": "2007-07-14T13:46:40Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2007-07-14T13:46:40Z"}, "message": "i386.c (init_mmx_sse_builtins): Define all builtins except __builtin_ia32_emms...\n\n        * config/i386/i386.c (init_mmx_sse_builtins): Define all builtins\n        except __builtin_ia32_emms, __builtin_ia32_ldmxcsr,\n        __builtin_ia32_stmxcsr, __builtin_ia32_maskmovq, __builtin_ia32_loadups,\n        __builtin_ia32_storeups, __builtin_ia32_loadhps, __builtin_ia32_loadlps,\n        __builtin_ia32_storehps, __builtin_ia32_storelps,\n        __builtin_ia32_movntps, __builtin_ia32_movntq, __builtin_ia32_sfence,\n        __builtin_ia32_femms, __builtin_ia32_maskmovdqu, __builtin_ia32_loadupd,\n        __builtin_ia32_storeupd, __builtin_ia32_loadhpd, __builtin_ia32_loadlpd,\n        __builtin_ia32_movnti, __builtin_ia32_movntpd, __builtin_ia32_movntdq,\n        __builtin_ia32_clflush, __builtin_ia32_lfence, __builtin_ia32_mfence,\n        __builtin_ia32_loaddqu, __builtin_ia32_storedqu, __builtin_ia32_monitor,\n        __builtin_ia32_mwait, __builtin_ia32_lddqu, __builtin_ia32_movntdqa,\n        __builtin_ia32_movntsd and __builtin_ia32_movntss as const builtins\n        using def_builtin_const.\n\nFrom-SVN: r126639", "tree": {"sha": "ca90f1745e7bb973c5f0b24ef7bf4e3f4ca74e76", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ca90f1745e7bb973c5f0b24ef7bf4e3f4ca74e76"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e41ef48678f8cc5aba722822c11c7838b6f67a0a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e41ef48678f8cc5aba722822c11c7838b6f67a0a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e41ef48678f8cc5aba722822c11c7838b6f67a0a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e41ef48678f8cc5aba722822c11c7838b6f67a0a/comments", "author": {"login": "ubizjak", "id": 55479990, "node_id": "MDQ6VXNlcjU1NDc5OTkw", "avatar_url": "https://avatars.githubusercontent.com/u/55479990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubizjak", "html_url": "https://github.com/ubizjak", "followers_url": "https://api.github.com/users/ubizjak/followers", "following_url": "https://api.github.com/users/ubizjak/following{/other_user}", "gists_url": "https://api.github.com/users/ubizjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubizjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubizjak/subscriptions", "organizations_url": "https://api.github.com/users/ubizjak/orgs", "repos_url": "https://api.github.com/users/ubizjak/repos", "events_url": "https://api.github.com/users/ubizjak/events{/privacy}", "received_events_url": "https://api.github.com/users/ubizjak/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "dec9e22db11897ee4bda060bd9169d612144d37e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dec9e22db11897ee4bda060bd9169d612144d37e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dec9e22db11897ee4bda060bd9169d612144d37e"}], "stats": {"total": 261, "additions": 139, "deletions": 122}, "files": [{"sha": "55ad6e9b35e49e0a8f1dd1fb4e43c29a410bd9ae", "filename": "gcc/ChangeLog", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e41ef48678f8cc5aba722822c11c7838b6f67a0a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e41ef48678f8cc5aba722822c11c7838b6f67a0a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e41ef48678f8cc5aba722822c11c7838b6f67a0a", "patch": "@@ -1,3 +1,20 @@\n+2007-07-14  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\t* config/i386/i386.c (init_mmx_sse_builtins): Define all builtins\n+\texcept __builtin_ia32_emms, __builtin_ia32_ldmxcsr,\n+\t__builtin_ia32_stmxcsr, __builtin_ia32_maskmovq, __builtin_ia32_loadups,\n+\t__builtin_ia32_storeups, __builtin_ia32_loadhps, __builtin_ia32_loadlps,\n+\t__builtin_ia32_storehps, __builtin_ia32_storelps,\n+\t__builtin_ia32_movntps, __builtin_ia32_movntq, __builtin_ia32_sfence,\n+\t__builtin_ia32_femms, __builtin_ia32_maskmovdqu, __builtin_ia32_loadupd,\n+\t__builtin_ia32_storeupd, __builtin_ia32_loadhpd, __builtin_ia32_loadlpd,\n+\t__builtin_ia32_movnti, __builtin_ia32_movntpd, __builtin_ia32_movntdq,\n+\t__builtin_ia32_clflush, __builtin_ia32_lfence, __builtin_ia32_mfence,\n+\t__builtin_ia32_loaddqu, __builtin_ia32_storedqu, __builtin_ia32_monitor,\n+\t__builtin_ia32_mwait, __builtin_ia32_lddqu, __builtin_ia32_movntdqa,\n+\t__builtin_ia32_movntsd and __builtin_ia32_movntss as const builtins\n+\tusing def_builtin_const.\n+\n 2007-07-14  Eric Botcazou  <ebotcazou@adacore.com>\n \n \tPR tree-optimization/32705"}, {"sha": "a0f735e04f77ff7002e0cd0ddb945e8f454b563b", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 122, "deletions": 122, "changes": 244, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e41ef48678f8cc5aba722822c11c7838b6f67a0a/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e41ef48678f8cc5aba722822c11c7838b6f67a0a/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=e41ef48678f8cc5aba722822c11c7838b6f67a0a", "patch": "@@ -17776,18 +17776,18 @@ ix86_init_mmx_sse_builtins (void)\n       /* TFmode support builtins.  */\n       ftype = build_function_type (float128_type_node,\n \t\t\t\t   void_list_node);\n-      def_builtin (OPTION_MASK_ISA_64BIT, \"__builtin_infq\", ftype, IX86_BUILTIN_INFQ);\n+      def_builtin_const (OPTION_MASK_ISA_64BIT, \"__builtin_infq\", ftype, IX86_BUILTIN_INFQ);\n \n       ftype = build_function_type_list (float128_type_node,\n \t\t\t\t\tfloat128_type_node,\n \t\t\t\t\tNULL_TREE);\n-      def_builtin (OPTION_MASK_ISA_64BIT, \"__builtin_fabsq\", ftype, IX86_BUILTIN_FABSQ);\n+      def_builtin_const (OPTION_MASK_ISA_64BIT, \"__builtin_fabsq\", ftype, IX86_BUILTIN_FABSQ);\n \n       ftype = build_function_type_list (float128_type_node,\n \t\t\t\t\tfloat128_type_node,\n \t\t\t\t\tfloat128_type_node,\n \t\t\t\t\tNULL_TREE);\n-      def_builtin (OPTION_MASK_ISA_64BIT, \"__builtin_copysignq\", ftype, IX86_BUILTIN_COPYSIGNQ);\n+      def_builtin_const (OPTION_MASK_ISA_64BIT, \"__builtin_copysignq\", ftype, IX86_BUILTIN_COPYSIGNQ);\n     }\n \n   /* Add all SSE builtins that are more or less simple operations on\n@@ -17845,7 +17845,7 @@ ix86_init_mmx_sse_builtins (void)\n \t  break;\n \t}\n \n-      def_builtin (d->mask, d->name, type, d->code);\n+      def_builtin_const (d->mask, d->name, type, d->code);\n     }\n \n   /* Add all builtins that are more or less simple operations on two\n@@ -17954,7 +17954,7 @@ ix86_init_mmx_sse_builtins (void)\n \t  abort ();\n \t}\n \n-      def_builtin (d->mask, d->name, type, d->code);\n+      def_builtin_const (d->mask, d->name, type, d->code);\n     }\n \n   /* pcmpestr[im] insns.  */\n@@ -17966,7 +17966,7 @@ ix86_init_mmx_sse_builtins (void)\n \tftype = v16qi_ftype_v16qi_int_v16qi_int_int;\n       else\n \tftype = int_ftype_v16qi_int_v16qi_int_int;\n-      def_builtin (d->mask, d->name, ftype, d->code);\n+      def_builtin_const (d->mask, d->name, ftype, d->code);\n     }\n \n   /* pcmpistr[im] insns.  */\n@@ -17978,39 +17978,39 @@ ix86_init_mmx_sse_builtins (void)\n \tftype = v16qi_ftype_v16qi_v16qi_int;\n       else\n \tftype = int_ftype_v16qi_v16qi_int;\n-      def_builtin (d->mask, d->name, ftype, d->code);\n+      def_builtin_const (d->mask, d->name, ftype, d->code);\n     }\n \n   /* Add the remaining MMX insns with somewhat more complicated types.  */\n   def_builtin (OPTION_MASK_ISA_MMX, \"__builtin_ia32_emms\", void_ftype_void, IX86_BUILTIN_EMMS);\n-  def_builtin (OPTION_MASK_ISA_MMX, \"__builtin_ia32_psllw\", v4hi_ftype_v4hi_di, IX86_BUILTIN_PSLLW);\n-  def_builtin (OPTION_MASK_ISA_MMX, \"__builtin_ia32_pslld\", v2si_ftype_v2si_di, IX86_BUILTIN_PSLLD);\n-  def_builtin (OPTION_MASK_ISA_MMX, \"__builtin_ia32_psllq\", di_ftype_di_di, IX86_BUILTIN_PSLLQ);\n+  def_builtin_const (OPTION_MASK_ISA_MMX, \"__builtin_ia32_psllw\", v4hi_ftype_v4hi_di, IX86_BUILTIN_PSLLW);\n+  def_builtin_const (OPTION_MASK_ISA_MMX, \"__builtin_ia32_pslld\", v2si_ftype_v2si_di, IX86_BUILTIN_PSLLD);\n+  def_builtin_const (OPTION_MASK_ISA_MMX, \"__builtin_ia32_psllq\", di_ftype_di_di, IX86_BUILTIN_PSLLQ);\n \n-  def_builtin (OPTION_MASK_ISA_MMX, \"__builtin_ia32_psrlw\", v4hi_ftype_v4hi_di, IX86_BUILTIN_PSRLW);\n-  def_builtin (OPTION_MASK_ISA_MMX, \"__builtin_ia32_psrld\", v2si_ftype_v2si_di, IX86_BUILTIN_PSRLD);\n-  def_builtin (OPTION_MASK_ISA_MMX, \"__builtin_ia32_psrlq\", di_ftype_di_di, IX86_BUILTIN_PSRLQ);\n+  def_builtin_const (OPTION_MASK_ISA_MMX, \"__builtin_ia32_psrlw\", v4hi_ftype_v4hi_di, IX86_BUILTIN_PSRLW);\n+  def_builtin_const (OPTION_MASK_ISA_MMX, \"__builtin_ia32_psrld\", v2si_ftype_v2si_di, IX86_BUILTIN_PSRLD);\n+  def_builtin_const (OPTION_MASK_ISA_MMX, \"__builtin_ia32_psrlq\", di_ftype_di_di, IX86_BUILTIN_PSRLQ);\n \n-  def_builtin (OPTION_MASK_ISA_MMX, \"__builtin_ia32_psraw\", v4hi_ftype_v4hi_di, IX86_BUILTIN_PSRAW);\n-  def_builtin (OPTION_MASK_ISA_MMX, \"__builtin_ia32_psrad\", v2si_ftype_v2si_di, IX86_BUILTIN_PSRAD);\n+  def_builtin_const (OPTION_MASK_ISA_MMX, \"__builtin_ia32_psraw\", v4hi_ftype_v4hi_di, IX86_BUILTIN_PSRAW);\n+  def_builtin_const (OPTION_MASK_ISA_MMX, \"__builtin_ia32_psrad\", v2si_ftype_v2si_di, IX86_BUILTIN_PSRAD);\n \n-  def_builtin (OPTION_MASK_ISA_SSE | OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_pshufw\", v4hi_ftype_v4hi_int, IX86_BUILTIN_PSHUFW);\n-  def_builtin (OPTION_MASK_ISA_MMX, \"__builtin_ia32_pmaddwd\", v2si_ftype_v4hi_v4hi, IX86_BUILTIN_PMADDWD);\n+  def_builtin_const (OPTION_MASK_ISA_SSE | OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_pshufw\", v4hi_ftype_v4hi_int, IX86_BUILTIN_PSHUFW);\n+  def_builtin_const (OPTION_MASK_ISA_MMX, \"__builtin_ia32_pmaddwd\", v2si_ftype_v4hi_v4hi, IX86_BUILTIN_PMADDWD);\n \n   /* comi/ucomi insns.  */\n   for (i = 0, d = bdesc_comi; i < ARRAY_SIZE (bdesc_comi); i++, d++)\n     if (d->mask == OPTION_MASK_ISA_SSE2)\n-      def_builtin (d->mask, d->name, int_ftype_v2df_v2df, d->code);\n+      def_builtin_const (d->mask, d->name, int_ftype_v2df_v2df, d->code);\n     else\n-      def_builtin (d->mask, d->name, int_ftype_v4sf_v4sf, d->code);\n+      def_builtin_const (d->mask, d->name, int_ftype_v4sf_v4sf, d->code);\n \n   /* ptest insns.  */\n   for (i = 0, d = bdesc_ptest; i < ARRAY_SIZE (bdesc_ptest); i++, d++)\n-    def_builtin (d->mask, d->name, int_ftype_v2di_v2di, d->code);\n+    def_builtin_const (d->mask, d->name, int_ftype_v2di_v2di, d->code);\n \n-  def_builtin (OPTION_MASK_ISA_MMX, \"__builtin_ia32_packsswb\", v8qi_ftype_v4hi_v4hi, IX86_BUILTIN_PACKSSWB);\n-  def_builtin (OPTION_MASK_ISA_MMX, \"__builtin_ia32_packssdw\", v4hi_ftype_v2si_v2si, IX86_BUILTIN_PACKSSDW);\n-  def_builtin (OPTION_MASK_ISA_MMX, \"__builtin_ia32_packuswb\", v8qi_ftype_v4hi_v4hi, IX86_BUILTIN_PACKUSWB);\n+  def_builtin_const (OPTION_MASK_ISA_MMX, \"__builtin_ia32_packsswb\", v8qi_ftype_v4hi_v4hi, IX86_BUILTIN_PACKSSWB);\n+  def_builtin_const (OPTION_MASK_ISA_MMX, \"__builtin_ia32_packssdw\", v4hi_ftype_v2si_v2si, IX86_BUILTIN_PACKSSDW);\n+  def_builtin_const (OPTION_MASK_ISA_MMX, \"__builtin_ia32_packuswb\", v8qi_ftype_v4hi_v4hi, IX86_BUILTIN_PACKUSWB);\n \n   def_builtin (OPTION_MASK_ISA_SSE, \"__builtin_ia32_ldmxcsr\", void_ftype_unsigned, IX86_BUILTIN_LDMXCSR);\n   def_builtin (OPTION_MASK_ISA_SSE, \"__builtin_ia32_stmxcsr\", unsigned_ftype_void, IX86_BUILTIN_STMXCSR);\n@@ -18034,17 +18034,17 @@ ix86_init_mmx_sse_builtins (void)\n   def_builtin (OPTION_MASK_ISA_SSE, \"__builtin_ia32_storehps\", void_ftype_pv2si_v4sf, IX86_BUILTIN_STOREHPS);\n   def_builtin (OPTION_MASK_ISA_SSE, \"__builtin_ia32_storelps\", void_ftype_pv2si_v4sf, IX86_BUILTIN_STORELPS);\n \n-  def_builtin (OPTION_MASK_ISA_SSE, \"__builtin_ia32_movmskps\", int_ftype_v4sf, IX86_BUILTIN_MOVMSKPS);\n-  def_builtin (OPTION_MASK_ISA_SSE | OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_pmovmskb\", int_ftype_v8qi, IX86_BUILTIN_PMOVMSKB);\n+  def_builtin_const (OPTION_MASK_ISA_SSE, \"__builtin_ia32_movmskps\", int_ftype_v4sf, IX86_BUILTIN_MOVMSKPS);\n+  def_builtin_const (OPTION_MASK_ISA_SSE | OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_pmovmskb\", int_ftype_v8qi, IX86_BUILTIN_PMOVMSKB);\n   def_builtin (OPTION_MASK_ISA_SSE, \"__builtin_ia32_movntps\", void_ftype_pfloat_v4sf, IX86_BUILTIN_MOVNTPS);\n   def_builtin (OPTION_MASK_ISA_SSE | OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_movntq\", void_ftype_pdi_di, IX86_BUILTIN_MOVNTQ);\n \n   def_builtin (OPTION_MASK_ISA_SSE | OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_sfence\", void_ftype_void, IX86_BUILTIN_SFENCE);\n \n-  def_builtin (OPTION_MASK_ISA_SSE | OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_psadbw\", di_ftype_v8qi_v8qi, IX86_BUILTIN_PSADBW);\n+  def_builtin_const (OPTION_MASK_ISA_SSE | OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_psadbw\", di_ftype_v8qi_v8qi, IX86_BUILTIN_PSADBW);\n \n-  def_builtin (OPTION_MASK_ISA_SSE, \"__builtin_ia32_rcpps\", v4sf_ftype_v4sf, IX86_BUILTIN_RCPPS);\n-  def_builtin (OPTION_MASK_ISA_SSE, \"__builtin_ia32_rcpss\", v4sf_ftype_v4sf, IX86_BUILTIN_RCPSS);\n+  def_builtin_const (OPTION_MASK_ISA_SSE, \"__builtin_ia32_rcpps\", v4sf_ftype_v4sf, IX86_BUILTIN_RCPPS);\n+  def_builtin_const (OPTION_MASK_ISA_SSE, \"__builtin_ia32_rcpss\", v4sf_ftype_v4sf, IX86_BUILTIN_RCPSS);\n   def_builtin_const (OPTION_MASK_ISA_SSE, \"__builtin_ia32_rsqrtps\", v4sf_ftype_v4sf, IX86_BUILTIN_RSQRTPS);\n   def_builtin_const (OPTION_MASK_ISA_SSE, \"__builtin_ia32_rsqrtss\", v4sf_ftype_v4sf, IX86_BUILTIN_RSQRTSS);\n   ftype = build_function_type_list (float_type_node,\n@@ -18054,37 +18054,37 @@ ix86_init_mmx_sse_builtins (void)\n   def_builtin_const (OPTION_MASK_ISA_SSE, \"__builtin_ia32_sqrtps\", v4sf_ftype_v4sf, IX86_BUILTIN_SQRTPS);\n   def_builtin_const (OPTION_MASK_ISA_SSE, \"__builtin_ia32_sqrtss\", v4sf_ftype_v4sf, IX86_BUILTIN_SQRTSS);\n \n-  def_builtin (OPTION_MASK_ISA_SSE, \"__builtin_ia32_shufps\", v4sf_ftype_v4sf_v4sf_int, IX86_BUILTIN_SHUFPS);\n+  def_builtin_const (OPTION_MASK_ISA_SSE, \"__builtin_ia32_shufps\", v4sf_ftype_v4sf_v4sf_int, IX86_BUILTIN_SHUFPS);\n \n   /* Original 3DNow!  */\n   def_builtin (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_femms\", void_ftype_void, IX86_BUILTIN_FEMMS);\n-  def_builtin (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pavgusb\", v8qi_ftype_v8qi_v8qi, IX86_BUILTIN_PAVGUSB);\n-  def_builtin (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pf2id\", v2si_ftype_v2sf, IX86_BUILTIN_PF2ID);\n-  def_builtin (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfacc\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFACC);\n-  def_builtin (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfadd\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFADD);\n-  def_builtin (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfcmpeq\", v2si_ftype_v2sf_v2sf, IX86_BUILTIN_PFCMPEQ);\n-  def_builtin (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfcmpge\", v2si_ftype_v2sf_v2sf, IX86_BUILTIN_PFCMPGE);\n-  def_builtin (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfcmpgt\", v2si_ftype_v2sf_v2sf, IX86_BUILTIN_PFCMPGT);\n-  def_builtin (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfmax\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFMAX);\n-  def_builtin (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfmin\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFMIN);\n-  def_builtin (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfmul\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFMUL);\n-  def_builtin (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfrcp\", v2sf_ftype_v2sf, IX86_BUILTIN_PFRCP);\n-  def_builtin (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfrcpit1\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFRCPIT1);\n-  def_builtin (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfrcpit2\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFRCPIT2);\n-  def_builtin (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfrsqrt\", v2sf_ftype_v2sf, IX86_BUILTIN_PFRSQRT);\n-  def_builtin (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfrsqit1\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFRSQIT1);\n-  def_builtin (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfsub\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFSUB);\n-  def_builtin (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfsubr\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFSUBR);\n-  def_builtin (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pi2fd\", v2sf_ftype_v2si, IX86_BUILTIN_PI2FD);\n-  def_builtin (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pmulhrw\", v4hi_ftype_v4hi_v4hi, IX86_BUILTIN_PMULHRW);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pavgusb\", v8qi_ftype_v8qi_v8qi, IX86_BUILTIN_PAVGUSB);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pf2id\", v2si_ftype_v2sf, IX86_BUILTIN_PF2ID);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfacc\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFACC);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfadd\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFADD);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfcmpeq\", v2si_ftype_v2sf_v2sf, IX86_BUILTIN_PFCMPEQ);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfcmpge\", v2si_ftype_v2sf_v2sf, IX86_BUILTIN_PFCMPGE);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfcmpgt\", v2si_ftype_v2sf_v2sf, IX86_BUILTIN_PFCMPGT);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfmax\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFMAX);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfmin\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFMIN);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfmul\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFMUL);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfrcp\", v2sf_ftype_v2sf, IX86_BUILTIN_PFRCP);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfrcpit1\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFRCPIT1);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfrcpit2\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFRCPIT2);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfrsqrt\", v2sf_ftype_v2sf, IX86_BUILTIN_PFRSQRT);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfrsqit1\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFRSQIT1);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfsub\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFSUB);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pfsubr\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFSUBR);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pi2fd\", v2sf_ftype_v2si, IX86_BUILTIN_PI2FD);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW, \"__builtin_ia32_pmulhrw\", v4hi_ftype_v4hi_v4hi, IX86_BUILTIN_PMULHRW);\n \n   /* 3DNow! extension as used in the Athlon CPU.  */\n-  def_builtin (OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_pf2iw\", v2si_ftype_v2sf, IX86_BUILTIN_PF2IW);\n-  def_builtin (OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_pfnacc\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFNACC);\n-  def_builtin (OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_pfpnacc\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFPNACC);\n-  def_builtin (OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_pi2fw\", v2sf_ftype_v2si, IX86_BUILTIN_PI2FW);\n-  def_builtin (OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_pswapdsf\", v2sf_ftype_v2sf, IX86_BUILTIN_PSWAPDSF);\n-  def_builtin (OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_pswapdsi\", v2si_ftype_v2si, IX86_BUILTIN_PSWAPDSI);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_pf2iw\", v2si_ftype_v2sf, IX86_BUILTIN_PF2IW);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_pfnacc\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFNACC);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_pfpnacc\", v2sf_ftype_v2sf_v2sf, IX86_BUILTIN_PFPNACC);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_pi2fw\", v2sf_ftype_v2si, IX86_BUILTIN_PI2FW);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_pswapdsf\", v2sf_ftype_v2sf, IX86_BUILTIN_PSWAPDSF);\n+  def_builtin_const (OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_pswapdsi\", v2si_ftype_v2si, IX86_BUILTIN_PSWAPDSI);\n \n   /* SSE2 */\n   def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_maskmovdqu\", void_ftype_v16qi_v16qi_pchar, IX86_BUILTIN_MASKMOVDQU);\n@@ -18095,21 +18095,21 @@ ix86_init_mmx_sse_builtins (void)\n   def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_loadhpd\", v2df_ftype_v2df_pcdouble, IX86_BUILTIN_LOADHPD);\n   def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_loadlpd\", v2df_ftype_v2df_pcdouble, IX86_BUILTIN_LOADLPD);\n \n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_movmskpd\", int_ftype_v2df, IX86_BUILTIN_MOVMSKPD);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_pmovmskb128\", int_ftype_v16qi, IX86_BUILTIN_PMOVMSKB128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_movmskpd\", int_ftype_v2df, IX86_BUILTIN_MOVMSKPD);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_pmovmskb128\", int_ftype_v16qi, IX86_BUILTIN_PMOVMSKB128);\n   def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_movnti\", void_ftype_pint_int, IX86_BUILTIN_MOVNTI);\n   def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_movntpd\", void_ftype_pdouble_v2df, IX86_BUILTIN_MOVNTPD);\n   def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_movntdq\", void_ftype_pv2di_v2di, IX86_BUILTIN_MOVNTDQ);\n \n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_pshufd\", v4si_ftype_v4si_int, IX86_BUILTIN_PSHUFD);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_pshuflw\", v8hi_ftype_v8hi_int, IX86_BUILTIN_PSHUFLW);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_pshufhw\", v8hi_ftype_v8hi_int, IX86_BUILTIN_PSHUFHW);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psadbw128\", v2di_ftype_v16qi_v16qi, IX86_BUILTIN_PSADBW128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_pshufd\", v4si_ftype_v4si_int, IX86_BUILTIN_PSHUFD);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_pshuflw\", v8hi_ftype_v8hi_int, IX86_BUILTIN_PSHUFLW);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_pshufhw\", v8hi_ftype_v8hi_int, IX86_BUILTIN_PSHUFHW);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psadbw128\", v2di_ftype_v16qi_v16qi, IX86_BUILTIN_PSADBW128);\n \n   def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_sqrtpd\", v2df_ftype_v2df, IX86_BUILTIN_SQRTPD);\n   def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_sqrtsd\", v2df_ftype_v2df, IX86_BUILTIN_SQRTSD);\n \n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_shufpd\", v2df_ftype_v2df_v2df_int, IX86_BUILTIN_SHUFPD);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_shufpd\", v2df_ftype_v2df_v2df_int, IX86_BUILTIN_SHUFPD);\n \n   def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_cvtdq2pd\", v2df_ftype_v4si, IX86_BUILTIN_CVTDQ2PD);\n   def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_cvtdq2ps\", v4sf_ftype_v4si, IX86_BUILTIN_CVTDQ2PS);\n@@ -18143,56 +18143,56 @@ ix86_init_mmx_sse_builtins (void)\n   def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_loaddqu\", v16qi_ftype_pcchar, IX86_BUILTIN_LOADDQU);\n   def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_storedqu\", void_ftype_pchar_v16qi, IX86_BUILTIN_STOREDQU);\n \n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_pmuludq\", di_ftype_v2si_v2si, IX86_BUILTIN_PMULUDQ);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_pmuludq128\", v2di_ftype_v4si_v4si, IX86_BUILTIN_PMULUDQ128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_pmuludq\", di_ftype_v2si_v2si, IX86_BUILTIN_PMULUDQ);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_pmuludq128\", v2di_ftype_v4si_v4si, IX86_BUILTIN_PMULUDQ128);\n \n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_pslldqi128\", v2di_ftype_v2di_int, IX86_BUILTIN_PSLLDQI128);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psllwi128\", v8hi_ftype_v8hi_int, IX86_BUILTIN_PSLLWI128);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_pslldi128\", v4si_ftype_v4si_int, IX86_BUILTIN_PSLLDI128);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psllqi128\", v2di_ftype_v2di_int, IX86_BUILTIN_PSLLQI128);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psllw128\", v8hi_ftype_v8hi_v8hi, IX86_BUILTIN_PSLLW128);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_pslld128\", v4si_ftype_v4si_v4si, IX86_BUILTIN_PSLLD128);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psllq128\", v2di_ftype_v2di_v2di, IX86_BUILTIN_PSLLQ128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_pslldqi128\", v2di_ftype_v2di_int, IX86_BUILTIN_PSLLDQI128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psllwi128\", v8hi_ftype_v8hi_int, IX86_BUILTIN_PSLLWI128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_pslldi128\", v4si_ftype_v4si_int, IX86_BUILTIN_PSLLDI128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psllqi128\", v2di_ftype_v2di_int, IX86_BUILTIN_PSLLQI128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psllw128\", v8hi_ftype_v8hi_v8hi, IX86_BUILTIN_PSLLW128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_pslld128\", v4si_ftype_v4si_v4si, IX86_BUILTIN_PSLLD128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psllq128\", v2di_ftype_v2di_v2di, IX86_BUILTIN_PSLLQ128);\n \n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psrldqi128\", v2di_ftype_v2di_int, IX86_BUILTIN_PSRLDQI128);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psrlwi128\", v8hi_ftype_v8hi_int, IX86_BUILTIN_PSRLWI128);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psrldi128\", v4si_ftype_v4si_int, IX86_BUILTIN_PSRLDI128);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psrlqi128\", v2di_ftype_v2di_int, IX86_BUILTIN_PSRLQI128);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psrlw128\", v8hi_ftype_v8hi_v8hi, IX86_BUILTIN_PSRLW128);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psrld128\", v4si_ftype_v4si_v4si, IX86_BUILTIN_PSRLD128);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psrlq128\", v2di_ftype_v2di_v2di, IX86_BUILTIN_PSRLQ128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psrldqi128\", v2di_ftype_v2di_int, IX86_BUILTIN_PSRLDQI128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psrlwi128\", v8hi_ftype_v8hi_int, IX86_BUILTIN_PSRLWI128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psrldi128\", v4si_ftype_v4si_int, IX86_BUILTIN_PSRLDI128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psrlqi128\", v2di_ftype_v2di_int, IX86_BUILTIN_PSRLQI128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psrlw128\", v8hi_ftype_v8hi_v8hi, IX86_BUILTIN_PSRLW128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psrld128\", v4si_ftype_v4si_v4si, IX86_BUILTIN_PSRLD128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psrlq128\", v2di_ftype_v2di_v2di, IX86_BUILTIN_PSRLQ128);\n \n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psrawi128\", v8hi_ftype_v8hi_int, IX86_BUILTIN_PSRAWI128);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psradi128\", v4si_ftype_v4si_int, IX86_BUILTIN_PSRADI128);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psraw128\", v8hi_ftype_v8hi_v8hi, IX86_BUILTIN_PSRAW128);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psrad128\", v4si_ftype_v4si_v4si, IX86_BUILTIN_PSRAD128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psrawi128\", v8hi_ftype_v8hi_int, IX86_BUILTIN_PSRAWI128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psradi128\", v4si_ftype_v4si_int, IX86_BUILTIN_PSRADI128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psraw128\", v8hi_ftype_v8hi_v8hi, IX86_BUILTIN_PSRAW128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_psrad128\", v4si_ftype_v4si_v4si, IX86_BUILTIN_PSRAD128);\n \n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_pmaddwd128\", v4si_ftype_v8hi_v8hi, IX86_BUILTIN_PMADDWD128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_pmaddwd128\", v4si_ftype_v8hi_v8hi, IX86_BUILTIN_PMADDWD128);\n \n   /* Prescott New Instructions.  */\n   def_builtin (OPTION_MASK_ISA_SSE3, \"__builtin_ia32_monitor\", void_ftype_pcvoid_unsigned_unsigned, IX86_BUILTIN_MONITOR);\n   def_builtin (OPTION_MASK_ISA_SSE3, \"__builtin_ia32_mwait\", void_ftype_unsigned_unsigned, IX86_BUILTIN_MWAIT);\n   def_builtin (OPTION_MASK_ISA_SSE3, \"__builtin_ia32_lddqu\", v16qi_ftype_pcchar, IX86_BUILTIN_LDDQU);\n \n   /* SSSE3.  */\n-  def_builtin (OPTION_MASK_ISA_SSSE3, \"__builtin_ia32_palignr128\", v2di_ftype_v2di_v2di_int, IX86_BUILTIN_PALIGNR128);\n-  def_builtin (OPTION_MASK_ISA_SSSE3, \"__builtin_ia32_palignr\", di_ftype_di_di_int, IX86_BUILTIN_PALIGNR);\n+  def_builtin_const (OPTION_MASK_ISA_SSSE3, \"__builtin_ia32_palignr128\", v2di_ftype_v2di_v2di_int, IX86_BUILTIN_PALIGNR128);\n+  def_builtin_const (OPTION_MASK_ISA_SSSE3, \"__builtin_ia32_palignr\", di_ftype_di_di_int, IX86_BUILTIN_PALIGNR);\n \n   /* SSE4.1. */\n   def_builtin (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_movntdqa\", v2di_ftype_pv2di, IX86_BUILTIN_MOVNTDQA);\n-  def_builtin (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovsxbw128\", v8hi_ftype_v16qi, IX86_BUILTIN_PMOVSXBW128);\n-  def_builtin (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovsxbd128\", v4si_ftype_v16qi, IX86_BUILTIN_PMOVSXBD128);\n-  def_builtin (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovsxbq128\", v2di_ftype_v16qi, IX86_BUILTIN_PMOVSXBQ128);\n-  def_builtin (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovsxwd128\", v4si_ftype_v8hi, IX86_BUILTIN_PMOVSXWD128);\n-  def_builtin (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovsxwq128\", v2di_ftype_v8hi, IX86_BUILTIN_PMOVSXWQ128);\n-  def_builtin (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovsxdq128\", v2di_ftype_v4si, IX86_BUILTIN_PMOVSXDQ128);\n-  def_builtin (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovzxbw128\", v8hi_ftype_v16qi, IX86_BUILTIN_PMOVZXBW128);\n-  def_builtin (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovzxbd128\", v4si_ftype_v16qi, IX86_BUILTIN_PMOVZXBD128);\n-  def_builtin (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovzxbq128\", v2di_ftype_v16qi, IX86_BUILTIN_PMOVZXBQ128);\n-  def_builtin (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovzxwd128\", v4si_ftype_v8hi, IX86_BUILTIN_PMOVZXWD128);\n-  def_builtin (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovzxwq128\", v2di_ftype_v8hi, IX86_BUILTIN_PMOVZXWQ128);\n-  def_builtin (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovzxdq128\", v2di_ftype_v4si, IX86_BUILTIN_PMOVZXDQ128);\n-  def_builtin (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmuldq128\", v2di_ftype_v4si_v4si, IX86_BUILTIN_PMULDQ128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovsxbw128\", v8hi_ftype_v16qi, IX86_BUILTIN_PMOVSXBW128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovsxbd128\", v4si_ftype_v16qi, IX86_BUILTIN_PMOVSXBD128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovsxbq128\", v2di_ftype_v16qi, IX86_BUILTIN_PMOVSXBQ128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovsxwd128\", v4si_ftype_v8hi, IX86_BUILTIN_PMOVSXWD128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovsxwq128\", v2di_ftype_v8hi, IX86_BUILTIN_PMOVSXWQ128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovsxdq128\", v2di_ftype_v4si, IX86_BUILTIN_PMOVSXDQ128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovzxbw128\", v8hi_ftype_v16qi, IX86_BUILTIN_PMOVZXBW128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovzxbd128\", v4si_ftype_v16qi, IX86_BUILTIN_PMOVZXBD128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovzxbq128\", v2di_ftype_v16qi, IX86_BUILTIN_PMOVZXBQ128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovzxwd128\", v4si_ftype_v8hi, IX86_BUILTIN_PMOVZXWD128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovzxwq128\", v2di_ftype_v8hi, IX86_BUILTIN_PMOVZXWQ128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmovzxdq128\", v2di_ftype_v4si, IX86_BUILTIN_PMOVZXDQ128);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_pmuldq128\", v2di_ftype_v4si_v4si, IX86_BUILTIN_PMULDQ128);\n   def_builtin_const (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_roundpd\", v2df_ftype_v2df_int, IX86_BUILTIN_ROUNDPD);\n   def_builtin_const (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_roundps\", v4sf_ftype_v4sf_int, IX86_BUILTIN_ROUNDPS);\n   def_builtin_const (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_roundsd\", v2df_ftype_v2df_v2df_int, IX86_BUILTIN_ROUNDSD);\n@@ -18203,113 +18203,113 @@ ix86_init_mmx_sse_builtins (void)\n \t\t\t\t    unsigned_type_node,\n \t\t\t\t    unsigned_char_type_node,\n \t\t\t\t    NULL_TREE);\n-  def_builtin (OPTION_MASK_ISA_SSE4_2, \"__builtin_ia32_crc32qi\", ftype, IX86_BUILTIN_CRC32QI);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4_2, \"__builtin_ia32_crc32qi\", ftype, IX86_BUILTIN_CRC32QI);\n   ftype = build_function_type_list (unsigned_type_node,\n \t\t\t\t    unsigned_type_node,\n \t\t\t\t    short_unsigned_type_node,\n \t\t\t\t    NULL_TREE);\n-  def_builtin (OPTION_MASK_ISA_SSE4_2, \"__builtin_ia32_crc32hi\", ftype, IX86_BUILTIN_CRC32HI);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4_2, \"__builtin_ia32_crc32hi\", ftype, IX86_BUILTIN_CRC32HI);\n   ftype = build_function_type_list (unsigned_type_node,\n \t\t\t\t    unsigned_type_node,\n \t\t\t\t    unsigned_type_node,\n \t\t\t\t    NULL_TREE);\n-  def_builtin (OPTION_MASK_ISA_SSE4_2, \"__builtin_ia32_crc32si\", ftype, IX86_BUILTIN_CRC32SI);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4_2, \"__builtin_ia32_crc32si\", ftype, IX86_BUILTIN_CRC32SI);\n   ftype = build_function_type_list (long_long_unsigned_type_node,\n \t\t\t\t    long_long_unsigned_type_node,\n \t\t\t\t    long_long_unsigned_type_node,\n \t\t\t\t    NULL_TREE);\n-  def_builtin (OPTION_MASK_ISA_SSE4_2, \"__builtin_ia32_crc32di\", ftype, IX86_BUILTIN_CRC32DI);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4_2, \"__builtin_ia32_crc32di\", ftype, IX86_BUILTIN_CRC32DI);\n \n   /* AMDFAM10 SSE4A New built-ins  */\n   def_builtin (OPTION_MASK_ISA_SSE4A, \"__builtin_ia32_movntsd\", void_ftype_pdouble_v2df, IX86_BUILTIN_MOVNTSD);\n   def_builtin (OPTION_MASK_ISA_SSE4A, \"__builtin_ia32_movntss\", void_ftype_pfloat_v4sf, IX86_BUILTIN_MOVNTSS);\n-  def_builtin (OPTION_MASK_ISA_SSE4A, \"__builtin_ia32_extrqi\", v2di_ftype_v2di_unsigned_unsigned, IX86_BUILTIN_EXTRQI);\n-  def_builtin (OPTION_MASK_ISA_SSE4A, \"__builtin_ia32_extrq\", v2di_ftype_v2di_v16qi,  IX86_BUILTIN_EXTRQ);\n-  def_builtin (OPTION_MASK_ISA_SSE4A, \"__builtin_ia32_insertqi\", v2di_ftype_v2di_v2di_unsigned_unsigned, IX86_BUILTIN_INSERTQI);\n-  def_builtin (OPTION_MASK_ISA_SSE4A, \"__builtin_ia32_insertq\", v2di_ftype_v2di_v2di, IX86_BUILTIN_INSERTQ);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4A, \"__builtin_ia32_extrqi\", v2di_ftype_v2di_unsigned_unsigned, IX86_BUILTIN_EXTRQI);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4A, \"__builtin_ia32_extrq\", v2di_ftype_v2di_v16qi,  IX86_BUILTIN_EXTRQ);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4A, \"__builtin_ia32_insertqi\", v2di_ftype_v2di_v2di_unsigned_unsigned, IX86_BUILTIN_INSERTQI);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4A, \"__builtin_ia32_insertq\", v2di_ftype_v2di_v2di, IX86_BUILTIN_INSERTQ);\n \n   /* Access to the vec_init patterns.  */\n   ftype = build_function_type_list (V2SI_type_node, integer_type_node,\n \t\t\t\t    integer_type_node, NULL_TREE);\n-  def_builtin (OPTION_MASK_ISA_MMX, \"__builtin_ia32_vec_init_v2si\", ftype, IX86_BUILTIN_VEC_INIT_V2SI);\n+  def_builtin_const (OPTION_MASK_ISA_MMX, \"__builtin_ia32_vec_init_v2si\", ftype, IX86_BUILTIN_VEC_INIT_V2SI);\n \n   ftype = build_function_type_list (V4HI_type_node, short_integer_type_node,\n \t\t\t\t    short_integer_type_node,\n \t\t\t\t    short_integer_type_node,\n \t\t\t\t    short_integer_type_node, NULL_TREE);\n-  def_builtin (OPTION_MASK_ISA_MMX, \"__builtin_ia32_vec_init_v4hi\", ftype, IX86_BUILTIN_VEC_INIT_V4HI);\n+  def_builtin_const (OPTION_MASK_ISA_MMX, \"__builtin_ia32_vec_init_v4hi\", ftype, IX86_BUILTIN_VEC_INIT_V4HI);\n \n   ftype = build_function_type_list (V8QI_type_node, char_type_node,\n \t\t\t\t    char_type_node, char_type_node,\n \t\t\t\t    char_type_node, char_type_node,\n \t\t\t\t    char_type_node, char_type_node,\n \t\t\t\t    char_type_node, NULL_TREE);\n-  def_builtin (OPTION_MASK_ISA_MMX, \"__builtin_ia32_vec_init_v8qi\", ftype, IX86_BUILTIN_VEC_INIT_V8QI);\n+  def_builtin_const (OPTION_MASK_ISA_MMX, \"__builtin_ia32_vec_init_v8qi\", ftype, IX86_BUILTIN_VEC_INIT_V8QI);\n \n   /* Access to the vec_extract patterns.  */\n   ftype = build_function_type_list (double_type_node, V2DF_type_node,\n \t\t\t\t    integer_type_node, NULL_TREE);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_vec_ext_v2df\", ftype, IX86_BUILTIN_VEC_EXT_V2DF);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_vec_ext_v2df\", ftype, IX86_BUILTIN_VEC_EXT_V2DF);\n \n   ftype = build_function_type_list (long_long_integer_type_node,\n \t\t\t\t    V2DI_type_node, integer_type_node,\n \t\t\t\t    NULL_TREE);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_vec_ext_v2di\", ftype, IX86_BUILTIN_VEC_EXT_V2DI);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_vec_ext_v2di\", ftype, IX86_BUILTIN_VEC_EXT_V2DI);\n \n   ftype = build_function_type_list (float_type_node, V4SF_type_node,\n \t\t\t\t    integer_type_node, NULL_TREE);\n-  def_builtin (OPTION_MASK_ISA_SSE, \"__builtin_ia32_vec_ext_v4sf\", ftype, IX86_BUILTIN_VEC_EXT_V4SF);\n+  def_builtin_const (OPTION_MASK_ISA_SSE, \"__builtin_ia32_vec_ext_v4sf\", ftype, IX86_BUILTIN_VEC_EXT_V4SF);\n \n   ftype = build_function_type_list (intSI_type_node, V4SI_type_node,\n \t\t\t\t    integer_type_node, NULL_TREE);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_vec_ext_v4si\", ftype, IX86_BUILTIN_VEC_EXT_V4SI);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_vec_ext_v4si\", ftype, IX86_BUILTIN_VEC_EXT_V4SI);\n \n   ftype = build_function_type_list (intHI_type_node, V8HI_type_node,\n \t\t\t\t    integer_type_node, NULL_TREE);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_vec_ext_v8hi\", ftype, IX86_BUILTIN_VEC_EXT_V8HI);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_vec_ext_v8hi\", ftype, IX86_BUILTIN_VEC_EXT_V8HI);\n \n   ftype = build_function_type_list (intHI_type_node, V4HI_type_node,\n \t\t\t\t    integer_type_node, NULL_TREE);\n-  def_builtin (OPTION_MASK_ISA_SSE | OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_vec_ext_v4hi\", ftype, IX86_BUILTIN_VEC_EXT_V4HI);\n+  def_builtin_const (OPTION_MASK_ISA_SSE | OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_vec_ext_v4hi\", ftype, IX86_BUILTIN_VEC_EXT_V4HI);\n \n   ftype = build_function_type_list (intSI_type_node, V2SI_type_node,\n \t\t\t\t    integer_type_node, NULL_TREE);\n-  def_builtin (OPTION_MASK_ISA_MMX, \"__builtin_ia32_vec_ext_v2si\", ftype, IX86_BUILTIN_VEC_EXT_V2SI);\n+  def_builtin_const (OPTION_MASK_ISA_MMX, \"__builtin_ia32_vec_ext_v2si\", ftype, IX86_BUILTIN_VEC_EXT_V2SI);\n \n   ftype = build_function_type_list (intQI_type_node, V16QI_type_node,\n \t\t\t\t    integer_type_node, NULL_TREE);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_vec_ext_v16qi\", ftype, IX86_BUILTIN_VEC_EXT_V16QI);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_vec_ext_v16qi\", ftype, IX86_BUILTIN_VEC_EXT_V16QI);\n \n   /* Access to the vec_set patterns.  */\n   ftype = build_function_type_list (V2DI_type_node, V2DI_type_node,\n \t\t\t\t    intDI_type_node,\n \t\t\t\t    integer_type_node, NULL_TREE);\n-  def_builtin (OPTION_MASK_ISA_SSE4_1 | OPTION_MASK_ISA_64BIT, \"__builtin_ia32_vec_set_v2di\", ftype, IX86_BUILTIN_VEC_SET_V2DI);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4_1 | OPTION_MASK_ISA_64BIT, \"__builtin_ia32_vec_set_v2di\", ftype, IX86_BUILTIN_VEC_SET_V2DI);\n \n   ftype = build_function_type_list (V4SF_type_node, V4SF_type_node,\n \t\t\t\t    float_type_node,\n \t\t\t\t    integer_type_node, NULL_TREE);\n-  def_builtin (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_vec_set_v4sf\", ftype, IX86_BUILTIN_VEC_SET_V4SF);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_vec_set_v4sf\", ftype, IX86_BUILTIN_VEC_SET_V4SF);\n \n   ftype = build_function_type_list (V4SI_type_node, V4SI_type_node,\n \t\t\t\t    intSI_type_node,\n \t\t\t\t    integer_type_node, NULL_TREE);\n-  def_builtin (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_vec_set_v4si\", ftype, IX86_BUILTIN_VEC_SET_V4SI);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_vec_set_v4si\", ftype, IX86_BUILTIN_VEC_SET_V4SI);\n \n   ftype = build_function_type_list (V8HI_type_node, V8HI_type_node,\n \t\t\t\t    intHI_type_node,\n \t\t\t\t    integer_type_node, NULL_TREE);\n-  def_builtin (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_vec_set_v8hi\", ftype, IX86_BUILTIN_VEC_SET_V8HI);\n+  def_builtin_const (OPTION_MASK_ISA_SSE2, \"__builtin_ia32_vec_set_v8hi\", ftype, IX86_BUILTIN_VEC_SET_V8HI);\n \n   ftype = build_function_type_list (V4HI_type_node, V4HI_type_node,\n \t\t\t\t    intHI_type_node,\n \t\t\t\t    integer_type_node, NULL_TREE);\n-  def_builtin (OPTION_MASK_ISA_SSE | OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_vec_set_v4hi\", ftype, IX86_BUILTIN_VEC_SET_V4HI);\n+  def_builtin_const (OPTION_MASK_ISA_SSE | OPTION_MASK_ISA_3DNOW_A, \"__builtin_ia32_vec_set_v4hi\", ftype, IX86_BUILTIN_VEC_SET_V4HI);\n \n   ftype = build_function_type_list (V16QI_type_node, V16QI_type_node,\n \t\t\t\t    intQI_type_node,\n \t\t\t\t    integer_type_node, NULL_TREE);\n-  def_builtin (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_vec_set_v16qi\", ftype, IX86_BUILTIN_VEC_SET_V16QI);\n+  def_builtin_const (OPTION_MASK_ISA_SSE4_1, \"__builtin_ia32_vec_set_v16qi\", ftype, IX86_BUILTIN_VEC_SET_V16QI);\n }\n \n static void"}]}