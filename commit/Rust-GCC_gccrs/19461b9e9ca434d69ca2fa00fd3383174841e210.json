{"sha": "19461b9e9ca434d69ca2fa00fd3383174841e210", "node_id": "C_kwDOANBUbNoAKDE5NDYxYjllOWNhNDM0ZDY5Y2EyZmEwMGZkMzM4MzE3NDg0MWUyMTA", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2022-10-26T14:53:18Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-10-26T14:53:18Z"}, "message": "Merge #1619\n\n1619: parser: Fix ICE in closure parsing r=CohenArthur a=CohenArthur\n\n`pattern` is a `unique_ptr`, which should be set to NULL once `std::move`d, hence causing the ICE as we were dereferencing a NULL pointer to get its location.\r\n\r\nAddresses #1612 \r\n\r\nThis should also help bring the MacOS build back to green\n\nCo-authored-by: Arthur Cohen <arthur.cohen@embecosm.com>", "tree": {"sha": "3bee6a9d0a8626f0c71b078f9f9afc2e967bd109", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3bee6a9d0a8626f0c71b078f9f9afc2e967bd109"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/19461b9e9ca434d69ca2fa00fd3383174841e210", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjWUneCRBK7hj4Ov3rIwAAf70IAAy3rLng8YhulNNZfiKLBFpd\nvtWm5r2WSNIgYEI3JCA4r6gZbRpYd0DFZK5+j184erEE0DC0kdk2PINufCSJbO1a\nx8oYTp0rOql4kYNU1mO1zQGxMq4RWnDuI9UdUHQS4RR3Xm3G2qeH1AnCOy6ltQg8\nYt1s6IMKK6mleyadkWUV2sVoVZ3TtKKDbj/ihqQWdv4j9w7Etw1NIfTVf8HzzVEP\n5F9RzFJHY0bj8WG0ekAMBhLBKfer/fJwVmdNgQkW4ebJPBbyyUoWLwOG4upI+2Fp\nj+EA1eusglLbQ51KPu/oD4kJdILdpRpvoclfwxf47OF9ZdWT+mP81oNMCu2zDDU=\n=ozIX\n-----END PGP SIGNATURE-----\n", "payload": "tree 3bee6a9d0a8626f0c71b078f9f9afc2e967bd109\nparent 2bc1c5309206169776bdcab862aa2b3da7fc8c95\nparent db4b399c25fd3c37e52c6b8dbdf6bc9c0f1deb6c\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1666795998 +0000\ncommitter GitHub <noreply@github.com> 1666795998 +0000\n\nMerge #1619\n\n1619: parser: Fix ICE in closure parsing r=CohenArthur a=CohenArthur\n\n`pattern` is a `unique_ptr`, which should be set to NULL once `std::move`d, hence causing the ICE as we were dereferencing a NULL pointer to get its location.\r\n\r\nAddresses #1612 \r\n\r\nThis should also help bring the MacOS build back to green\n\nCo-authored-by: Arthur Cohen <arthur.cohen@embecosm.com>\n"}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19461b9e9ca434d69ca2fa00fd3383174841e210", "html_url": "https://github.com/Rust-GCC/gccrs/commit/19461b9e9ca434d69ca2fa00fd3383174841e210", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19461b9e9ca434d69ca2fa00fd3383174841e210/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2bc1c5309206169776bdcab862aa2b3da7fc8c95", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2bc1c5309206169776bdcab862aa2b3da7fc8c95", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2bc1c5309206169776bdcab862aa2b3da7fc8c95"}, {"sha": "db4b399c25fd3c37e52c6b8dbdf6bc9c0f1deb6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db4b399c25fd3c37e52c6b8dbdf6bc9c0f1deb6c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db4b399c25fd3c37e52c6b8dbdf6bc9c0f1deb6c"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "54f3c5c25a6a21e9dc7f7f5012ccd27408354cbb", "filename": "gcc/rust/parse/rust-parse-impl.h", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19461b9e9ca434d69ca2fa00fd3383174841e210/gcc%2Frust%2Fparse%2Frust-parse-impl.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19461b9e9ca434d69ca2fa00fd3383174841e210/gcc%2Frust%2Fparse%2Frust-parse-impl.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fparse%2Frust-parse-impl.h?ref=19461b9e9ca434d69ca2fa00fd3383174841e210", "patch": "@@ -8903,8 +8903,9 @@ Parser<ManagedTokenSource>::parse_closure_param ()\n \t}\n     }\n \n-  return AST::ClosureParam (std::move (pattern), pattern->get_locus (),\n-\t\t\t    std::move (type), std::move (outer_attrs));\n+  auto locus = pattern->get_locus ();\n+  return AST::ClosureParam (std::move (pattern), locus, std::move (type),\n+\t\t\t    std::move (outer_attrs));\n }\n \n // Parses a grouped or tuple expression (disambiguates)."}]}