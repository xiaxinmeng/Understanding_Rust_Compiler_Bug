{"sha": "9e405fe52ee14ad3cdcfe1e535225c384436398e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWU0MDVmZTUyZWUxNGFkM2NkY2ZlMWU1MzUyMjVjMzg0NDM2Mzk4ZQ==", "commit": {"author": {"name": "Loren J. Rittle", "email": "ljrittle@acm.org", "date": "2001-05-22T19:23:33Z"}, "committer": {"name": "Loren J. Rittle", "email": "ljrittle@gcc.gnu.org", "date": "2001-05-22T19:23:33Z"}, "message": "config.gcc (the unlabeled system switch statement): Add generic configuration section to handle *-*-freebsd*.\n\n\t* config.gcc (the unlabeled system switch statement): Add\n\tgeneric configuration section to handle *-*-freebsd*.  Also,\n\tto match the system compiler, default to threading support (it\n\tmay be disabled with the standard --disable-threads\n\tconfiguration-time switch).\n\t(i[34567]86-*-freebsd* in machine-specific section): Use it.\n\t(alpha*-*-freebsd* in machine-specific section): Likewise.\n\n\t* config/freebsd3.h: New file to expose FBSD_MAJOR macro (3).\n\t* config/freebsd4.h: New file to expose FBSD_MAJOR macro (4).\n\t* config/freebsd5.h: New file to expose FBSD_MAJOR macro (5).\n\t* config/freebsd6.h: New file to expose FBSD_MAJOR macro (6).\n\t* config/freebsd-nthr.h: New file to expose FBSD_NO_THREADS macro.\n\nCo-Authored-By: David O'Brien <obrien@freebsd.org>\n\nFrom-SVN: r42463", "tree": {"sha": "90a262a3c4592147d39cad218defbbf896d0022a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/90a262a3c4592147d39cad218defbbf896d0022a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9e405fe52ee14ad3cdcfe1e535225c384436398e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e405fe52ee14ad3cdcfe1e535225c384436398e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e405fe52ee14ad3cdcfe1e535225c384436398e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e405fe52ee14ad3cdcfe1e535225c384436398e/comments", "author": null, "committer": null, "parents": [{"sha": "28b6b31799b98a58f7407a3135c506f63b3a0df3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28b6b31799b98a58f7407a3135c506f63b3a0df3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/28b6b31799b98a58f7407a3135c506f63b3a0df3"}], "stats": {"total": 203, "additions": 178, "deletions": 25}, "files": [{"sha": "919b3f4f3de13cbfb0312995fd0ecd224a13417c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e405fe52ee14ad3cdcfe1e535225c384436398e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e405fe52ee14ad3cdcfe1e535225c384436398e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9e405fe52ee14ad3cdcfe1e535225c384436398e", "patch": "@@ -1,3 +1,20 @@\n+2001-05-22  Loren J. Rittle  <ljrittle@acm.org>\n+\t    David O'Brien  <obrien@freebsd.org>\n+\n+\t* config.gcc (the unlabeled system switch statement): Add\n+\tgeneric configuration section to handle *-*-freebsd*.  Also,\n+\tto match the system compiler, default to threading support (it\n+\tmay be disabled with the standard --disable-threads\n+\tconfiguration-time switch).\n+\t(i[34567]86-*-freebsd* in machine-specific section): Use it.\n+\t(alpha*-*-freebsd* in machine-specific section): Likewise.\n+\n+\t* config/freebsd3.h: New file to expose FBSD_MAJOR macro (3).\n+\t* config/freebsd4.h: New file to expose FBSD_MAJOR macro (4).\n+\t* config/freebsd5.h: New file to expose FBSD_MAJOR macro (5).\n+\t* config/freebsd6.h: New file to expose FBSD_MAJOR macro (6).\n+\t* config/freebsd-nthr.h: New file to expose FBSD_NO_THREADS macro.\n+\n 2001-05-22  Loren J. Rittle  <ljrittle@acm.org>\n \t    David O'Brien  <obrien@freebsd.org>\n "}, {"sha": "a86c45ee10c606b467de7f26353523b1f85c802e", "filename": "gcc/config.gcc", "status": "modified", "additions": 51, "deletions": 25, "changes": 76, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e405fe52ee14ad3cdcfe1e535225c384436398e/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e405fe52ee14ad3cdcfe1e535225c384436398e/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=9e405fe52ee14ad3cdcfe1e535225c384436398e", "patch": "@@ -254,7 +254,7 @@ case $machine in\n \t;;\n esac\t\n \n-# Common parts for GNU/Linux, GNU/Hurd and OpenBSD systems.\n+# Common parts for GNU/Linux, GNU/Hurd, OpenBSD and FreeBSD systems.\n case $machine in\n *-*-linux*)\n \txm_defines=POSIX\n@@ -293,6 +293,53 @@ case $machine in\n \t\ttmake_file=\"${tmake_file} t-openbsd-thread\"\n \tfi\n \t;;\n+*-*-freebsd[12] | *-*-freebsd[12].* | *-*-freebsd*aout*)\n+\t# This is the place-holder for the generic a.out configuration\n+\t# of FreeBSD.  No actual configuration resides here since\n+\t# there was only ever a bare-bones ix86 configuration for\n+\t# a.out and it exists solely in the machine-specific section.\n+\t# This place-holder must exist to avoid dropping into\n+\t# the generic ELF configuration of FreeBSD (i.e. it must be\n+\t# ordered before that section).\n+\t;;\n+*-*-freebsd*)\n+\t# This is the generic ELF configuration of FreeBSD.  Later\n+\t# machine-specific sections may refine and add to this\n+\t# configuration.\n+\t#\n+\t# Due to tm_file entry ordering issues that vary between cpu\n+\t# architectures, we only define fbsd_tm_file to allow the\n+\t# machine-specific section to dictate the final order of all\n+\t# entries of tm_file with the minor exception that components\n+\t# of the tm_file set here will always be of the form:\n+\t#\n+\t# freebsd<version_number>.h [freebsd-<conf_option>.h ...] freebsd.h\n+\t#\n+\t# The machine-specific section should not tamper with this\n+\t# ordering but may order all other entries of tm_file as it\n+\t# pleases around the provided core setting.\n+\tgas=yes\n+\tgnu_ld=yes\n+\textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o\"\n+\tcase $machine in\n+\t*-*-freebsd3 | *-*-freebsd[3].*) fbsd_tm_file=\"freebsd3.h\";;\n+\t*-*-freebsd4 | *-*-freebsd[4].*) fbsd_tm_file=\"freebsd4.h\";;\n+\t*-*-freebsd5 | *-*-freebsd[5].*) fbsd_tm_file=\"freebsd5.h\";;\n+\t*-*-freebsd6 | *-*-freebsd[6].*) fbsd_tm_file=\"freebsd6.h\";;\n+\t*) echo 'Please update *-*-freebsd* in gcc/config.gcc'; exit 1;;\n+\tesac\n+\ttmake_file=t-freebsd\n+\txm_defines=POSIX\n+\tcase x${enable_threads} in\n+\txno) fbsd_tm_file=\"${fbsd_tm_file} freebsd-nthr.h\";;\n+\tx | xyes | xpthreads | xposix)\n+\t\tthread_file='posix'\n+\t\ttmake_file=\"${tmake_file} t-freebsd-thread\"\n+\t\t;;\n+\t*) echo 'Unknown thread configuration for FreeBSD'; exit 1;;\n+\tesac\n+\tfbsd_tm_file=\"${fbsd_tm_file} freebsd.h\"\n+\t;;\n esac\n \n case $machine in\n@@ -392,19 +439,9 @@ alpha*-*-linux*)\n \tfi\n \t;;\n alpha*-*-freebsd*)\n-\txm_defines=POSIX\n-\ttm_file=\"${tm_file} freebsd.h alpha/elf.h alpha/freebsd.h\"\n+\ttm_file=\"${tm_file} ${fbsd_tm_file} alpha/elf.h alpha/freebsd.h\"\n \ttarget_cpu_default=\"MASK_GAS\"\n-\ttmake_file=\"t-freebsd alpha/t-crtbe alpha/t-alpha alpha/t-ieee\"\n-\textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o\"\n-\tgas=yes gnu_ld=yes\n-\tstabs=yes\n-\tcase x${enable_threads} in\n-\txyes | xpthreads | xposix)\n-\t\tthread_file='posix'\n-\t\ttmake_file=\"${tmake_file} t-freebsd-thread\"\n-\t\t;;\n-\tesac\n+\ttmake_file=\"${tmake_file} alpha/t-crtbe alpha/t-alpha alpha/t-ieee\"\n \t;;\n alpha*-*-netbsd*)\n \txm_defines=POSIX\n@@ -1007,18 +1044,7 @@ i[34567]86-*-freebsd[12] | i[34567]86-*-freebsd[12].* | i[34567]86-*-freebsd*aou\n \ttmake_file=t-freebsd\n \t;;\n i[34567]86-*-freebsd*)\n-\ttm_file=\"i386/i386.h i386/att.h svr4.h freebsd.h i386/freebsd.h\"\n-\textra_parts=\"crtbegin.o crtbeginS.o crtend.o crtendS.o\"\n-\ttmake_file=t-freebsd\n-\tgas=yes\n-\tgnu_ld=yes\n-\tstabs=yes\n-\tcase x${enable_threads} in\n-\txyes | xpthreads | xposix)\n-\t\tthread_file='posix'\n-\t\ttmake_file=\"${tmake_file} t-freebsd-thread\"\n-\t\t;;\n-\tesac\n+\ttm_file=\"${tm_file} i386/att.h svr4.h ${fbsd_tm_file} i386/freebsd.h\"\n \t;;\n i[34567]86-*-netbsd*)\n \ttm_file=i386/netbsd.h"}, {"sha": "2f1d65f4b2485da44a7028fae33946734d7ca6e2", "filename": "gcc/config/freebsd-nthr.h", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e405fe52ee14ad3cdcfe1e535225c384436398e/gcc%2Fconfig%2Ffreebsd-nthr.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e405fe52ee14ad3cdcfe1e535225c384436398e/gcc%2Fconfig%2Ffreebsd-nthr.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffreebsd-nthr.h?ref=9e405fe52ee14ad3cdcfe1e535225c384436398e", "patch": "@@ -0,0 +1,22 @@\n+/* FreeBSD configuration setting for FreeBSD systems.\n+   Copyright (C) 2001 Free Software Foundation, Inc.\n+   Contributed by Loren J. Rittle <ljrittle@acm.org>\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#define FBSD_NO_THREADS"}, {"sha": "7b5426f9336285c2c2fb0bf4abc9aa70c365cd4a", "filename": "gcc/config/freebsd3.h", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e405fe52ee14ad3cdcfe1e535225c384436398e/gcc%2Fconfig%2Ffreebsd3.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e405fe52ee14ad3cdcfe1e535225c384436398e/gcc%2Fconfig%2Ffreebsd3.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffreebsd3.h?ref=9e405fe52ee14ad3cdcfe1e535225c384436398e", "patch": "@@ -0,0 +1,22 @@\n+/* FreeBSD version number setting for FreeBSD 3.x systems.\n+   Copyright (C) 2001 Free Software Foundation, Inc.\n+   Contributed by David E. O'Brien <obrien@FreeBSD.org> and BSDi.\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#define FBSD_MAJOR 3"}, {"sha": "ec2ae4752bb9ef95a8131b047036f7a5bbb62e88", "filename": "gcc/config/freebsd4.h", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e405fe52ee14ad3cdcfe1e535225c384436398e/gcc%2Fconfig%2Ffreebsd4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e405fe52ee14ad3cdcfe1e535225c384436398e/gcc%2Fconfig%2Ffreebsd4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffreebsd4.h?ref=9e405fe52ee14ad3cdcfe1e535225c384436398e", "patch": "@@ -0,0 +1,22 @@\n+/* FreeBSD version number setting for FreeBSD 4.x systems.\n+   Copyright (C) 2001 Free Software Foundation, Inc.\n+   Contributed by David E. O'Brien <obrien@FreeBSD.org> and BSDi.\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#define FBSD_MAJOR 4"}, {"sha": "3c276d50d7a2f75aa05f347a1016c7f167c0394a", "filename": "gcc/config/freebsd5.h", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e405fe52ee14ad3cdcfe1e535225c384436398e/gcc%2Fconfig%2Ffreebsd5.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e405fe52ee14ad3cdcfe1e535225c384436398e/gcc%2Fconfig%2Ffreebsd5.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffreebsd5.h?ref=9e405fe52ee14ad3cdcfe1e535225c384436398e", "patch": "@@ -0,0 +1,22 @@\n+/* FreeBSD version number setting for FreeBSD 5.x systems.\n+   Copyright (C) 2001 Free Software Foundation, Inc.\n+   Contributed by David E. O'Brien <obrien@FreeBSD.org> and BSDi.\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#define FBSD_MAJOR 5"}, {"sha": "38bc0cdbb233b828230457d02c044eba35d45516", "filename": "gcc/config/freebsd6.h", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e405fe52ee14ad3cdcfe1e535225c384436398e/gcc%2Fconfig%2Ffreebsd6.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e405fe52ee14ad3cdcfe1e535225c384436398e/gcc%2Fconfig%2Ffreebsd6.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffreebsd6.h?ref=9e405fe52ee14ad3cdcfe1e535225c384436398e", "patch": "@@ -0,0 +1,22 @@\n+/* FreeBSD version number setting for FreeBSD 6.x systems.\n+   Copyright (C) 2001 Free Software Foundation, Inc.\n+   Contributed by David E. O'Brien <obrien@FreeBSD.org> and BSDi.\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#define FBSD_MAJOR 6"}]}