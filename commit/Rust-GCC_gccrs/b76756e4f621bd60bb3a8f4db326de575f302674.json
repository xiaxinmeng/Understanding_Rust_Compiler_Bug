{"sha": "b76756e4f621bd60bb3a8f4db326de575f302674", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yjc2NzU2ZTRmNjIxYmQ2MGJiM2E4ZjRkYjMyNmRlNTc1ZjMwMjY3NA==", "commit": {"author": {"name": "Bruce Korb", "email": "korbb@gcc.gnu.org", "date": "1998-05-28T09:26:20Z"}, "committer": {"name": "Bruce Korb", "email": "korbb@gcc.gnu.org", "date": "1998-05-28T09:26:20Z"}, "message": "makefile changes to support all this\n\nFrom-SVN: r20120", "tree": {"sha": "261906e37b722174c9756d65e2b4346432b2f227", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/261906e37b722174c9756d65e2b4346432b2f227"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b76756e4f621bd60bb3a8f4db326de575f302674", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b76756e4f621bd60bb3a8f4db326de575f302674", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b76756e4f621bd60bb3a8f4db326de575f302674", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b76756e4f621bd60bb3a8f4db326de575f302674/comments", "author": null, "committer": null, "parents": [{"sha": "6efa7eb6ce6c2e9fc786890307d04de10ea63a5a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6efa7eb6ce6c2e9fc786890307d04de10ea63a5a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6efa7eb6ce6c2e9fc786890307d04de10ea63a5a"}], "stats": {"total": 19, "additions": 11, "deletions": 8}, "files": [{"sha": "c3b0b4f87d0f667cdb20235f1a5aba10ecf268fc", "filename": "contrib/fixinc/Makefile", "status": "modified", "additions": 11, "deletions": 8, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b76756e4f621bd60bb3a8f4db326de575f302674/contrib%2Ffixinc%2FMakefile", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b76756e4f621bd60bb3a8f4db326de575f302674/contrib%2Ffixinc%2FMakefile", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Ffixinc%2FMakefile?ref=b76756e4f621bd60bb3a8f4db326de575f302674", "patch": "@@ -3,7 +3,7 @@\n ##\n ##  Makefile for constructing the \"best\" include fixer we can\n ##\n-##  $Id: Makefile,v 1.1 1998/03/20 16:19:41 korbb Exp $\n+##  $Id: Makefile,v 1.4 1998/08/05 10:20:10 korbb Exp $\n ##\n ## # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #\n \n@@ -26,7 +26,8 @@ fixincl.o: fixincl.x\n \n fixincl: $(OBJ)\n \tif $(CC) -o $@ $(OBJ) $(LIB) ; then : ; else \\\n-\trm -f $@ ; echo false > $@ ; fi\n+\trm -f $@ ; (echo \"#! /bin/sh\" ; echo exit 1 ) > $@ ; \\\n+\tchmod 777 $@ ; fi\n \n regex.o: regex.c\n \t$(CC) -g -DSTDC_HEADERS=1 -c regex.c\n@@ -55,11 +56,13 @@ clean:\n \trm -f *.o fixincl\n \n install: fixincl.sh\n-\t@rm -f ../../gcc/fixincl.sh ; \\\n-\t\techo cp fixincl.sh ../../gcc ; \\\n-\t\tcp fixincl.sh ../../gcc ; \\\n-\t\tchmod +x ../../gcc/fixincl.sh\n+\t@rm -f $(DESTDIR)/fixinc.sh ; \\\n+\t\techo cp fixincl.sh $(DESTDIR)/fixinc.sh ; \\\n+\t\tcp fixincl.sh $(DESTDIR)/fixinc.sh ; \\\n+\t\tchmod 555 $(DESTDIR)/fixinc.sh\n \t@echo check for fixincl copy...\n \t@if ( ./fixincl -v > /dev/null 2>&1 ) ; then \\\n-\t\techo cp fixincl ../../gcc/fixincl ; \\\n-\t\tcp fixincl ../../gcc/fixincl ; fi\n+\t    rm -f $(DESTDIR)/fixincl ; \\\n+\t\techo cp fixincl $(DESTDIR) ; \\\n+\t\tcp fixincl $(DESTDIR) ; \\\n+\t\tchmod 555 $(DESTDIR)/fixincl ; fi"}]}