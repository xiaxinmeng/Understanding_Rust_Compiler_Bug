{"sha": "1c0670c62fc7c7b610876e61bf971ea1db19680e", "node_id": "C_kwDOANBUbNoAKDFjMDY3MGM2MmZjN2M3YjYxMDg3NmU2MWJmOTcxZWExZGIxOTY4MGU", "commit": {"author": {"name": "Aldy Hernandez", "email": "aldyh@redhat.com", "date": "2022-10-11T15:23:33Z"}, "committer": {"name": "Aldy Hernandez", "email": "aldyh@redhat.com", "date": "2022-10-12T06:49:00Z"}, "message": "Add stubs for floating point range-op tests.\n\ngcc/ChangeLog:\n\n\t* range-op-float.cc (frange_float): New.\n\t(range_op_float_tests): New.\n\t* range-op.cc (range_op_tests): Call range_op_float_tests.", "tree": {"sha": "d8b094e6d7c4290a3794aa2c317a5b415f168069", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d8b094e6d7c4290a3794aa2c317a5b415f168069"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1c0670c62fc7c7b610876e61bf971ea1db19680e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1c0670c62fc7c7b610876e61bf971ea1db19680e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1c0670c62fc7c7b610876e61bf971ea1db19680e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1c0670c62fc7c7b610876e61bf971ea1db19680e/comments", "author": {"login": "aldyh", "id": 12937877, "node_id": "MDQ6VXNlcjEyOTM3ODc3", "avatar_url": "https://avatars.githubusercontent.com/u/12937877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aldyh", "html_url": "https://github.com/aldyh", "followers_url": "https://api.github.com/users/aldyh/followers", "following_url": "https://api.github.com/users/aldyh/following{/other_user}", "gists_url": "https://api.github.com/users/aldyh/gists{/gist_id}", "starred_url": "https://api.github.com/users/aldyh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aldyh/subscriptions", "organizations_url": "https://api.github.com/users/aldyh/orgs", "repos_url": "https://api.github.com/users/aldyh/repos", "events_url": "https://api.github.com/users/aldyh/events{/privacy}", "received_events_url": "https://api.github.com/users/aldyh/received_events", "type": "User", "site_admin": false}, "committer": {"login": "aldyh", "id": 12937877, "node_id": "MDQ6VXNlcjEyOTM3ODc3", "avatar_url": "https://avatars.githubusercontent.com/u/12937877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aldyh", "html_url": "https://github.com/aldyh", "followers_url": "https://api.github.com/users/aldyh/followers", "following_url": "https://api.github.com/users/aldyh/following{/other_user}", "gists_url": "https://api.github.com/users/aldyh/gists{/gist_id}", "starred_url": "https://api.github.com/users/aldyh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aldyh/subscriptions", "organizations_url": "https://api.github.com/users/aldyh/orgs", "repos_url": "https://api.github.com/users/aldyh/repos", "events_url": "https://api.github.com/users/aldyh/events{/privacy}", "received_events_url": "https://api.github.com/users/aldyh/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "658788f3480e95f1dda0a143b60be89099e5d3c7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/658788f3480e95f1dda0a143b60be89099e5d3c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/658788f3480e95f1dda0a143b60be89099e5d3c7"}], "stats": {"total": 29, "additions": 29, "deletions": 0}, "files": [{"sha": "22b7418c197e4afb38413168cb3e5a22be9f3a3c", "filename": "gcc/range-op-float.cc", "status": "modified", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c0670c62fc7c7b610876e61bf971ea1db19680e/gcc%2Frange-op-float.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c0670c62fc7c7b610876e61bf971ea1db19680e/gcc%2Frange-op-float.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frange-op-float.cc?ref=1c0670c62fc7c7b610876e61bf971ea1db19680e", "patch": "@@ -1612,3 +1612,29 @@ floating_op_table::set (enum tree_code code, range_operator_float &op)\n   gcc_checking_assert (m_range_tree[code] == NULL);\n   m_range_tree[code] = &op;\n }\n+\n+#if CHECKING_P\n+#include \"selftest.h\"\n+\n+namespace selftest\n+{\n+\n+// Build an frange from string endpoints.\n+\n+inline frange\n+frange_float (const char *lb, const char *ub, tree type = float_type_node)\n+{\n+  REAL_VALUE_TYPE min, max;\n+  gcc_assert (real_from_string (&min, lb) == 0);\n+  gcc_assert (real_from_string (&max, ub) == 0);\n+  return frange (type, min, max);\n+}\n+\n+void\n+range_op_float_tests ()\n+{\n+}\n+\n+} // namespace selftest\n+\n+#endif // CHECKING_P"}, {"sha": "16fa1f4f46daa6eafb62754d56083c423c8de46d", "filename": "gcc/range-op.cc", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c0670c62fc7c7b610876e61bf971ea1db19680e/gcc%2Frange-op.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c0670c62fc7c7b610876e61bf971ea1db19680e/gcc%2Frange-op.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frange-op.cc?ref=1c0670c62fc7c7b610876e61bf971ea1db19680e", "patch": "@@ -4829,6 +4829,9 @@ range_op_tests ()\n   range_op_bitwise_and_tests ();\n   range_op_cast_tests ();\n   range_relational_tests ();\n+\n+  extern void range_op_float_tests ();\n+  range_op_float_tests ();\n }\n \n } // namespace selftest"}]}