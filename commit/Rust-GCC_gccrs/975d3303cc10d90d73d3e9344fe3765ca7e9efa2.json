{"sha": "975d3303cc10d90d73d3e9344fe3765ca7e9efa2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTc1ZDMzMDNjYzEwZDkwZDczZDNlOTM0NGZlMzc2NWNhN2U5ZWZhMg==", "commit": {"author": {"name": "Tobias Burnus", "email": "burnus@net-b.de", "date": "2010-02-10T16:43:22Z"}, "committer": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2010-02-10T16:43:22Z"}, "message": "re PR fortran/43015 (ICE with BIND(C) and -fbounds-check in mingw-w64 cross-compiler)\n\n2010-02-10  Tobias Burnus  <burnus@net-b.de>\n\n        PR fortran/43015\n        * trans-decl.c (gfc_generate_function_code): Only check\n        actual-vs.-dummy character bounds if not bind(C).\n\n2010-02-10  Tobias Burnus  <burnus@net-b.de>\n\n        PR fortran/43015\n        * gfortran.dg/bind_c_usage_20.f90: New test.\n\nFrom-SVN: r156663", "tree": {"sha": "31b8aee9540326d8a2d66586f9ced66b24ffcf6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/31b8aee9540326d8a2d66586f9ced66b24ffcf6c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/975d3303cc10d90d73d3e9344fe3765ca7e9efa2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/975d3303cc10d90d73d3e9344fe3765ca7e9efa2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/975d3303cc10d90d73d3e9344fe3765ca7e9efa2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/975d3303cc10d90d73d3e9344fe3765ca7e9efa2/comments", "author": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "3b2524b12683ad95e582a4fc74ae19c6927a398d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b2524b12683ad95e582a4fc74ae19c6927a398d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b2524b12683ad95e582a4fc74ae19c6927a398d"}], "stats": {"total": 28, "additions": 26, "deletions": 2}, "files": [{"sha": "fc9a64101594969921ecd8470828588107a93d04", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/975d3303cc10d90d73d3e9344fe3765ca7e9efa2/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/975d3303cc10d90d73d3e9344fe3765ca7e9efa2/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=975d3303cc10d90d73d3e9344fe3765ca7e9efa2", "patch": "@@ -1,3 +1,9 @@\n+2010-02-10  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/43015\n+\t* trans-decl.c (gfc_generate_function_code): Only check\n+\tactual-vs.-dummy character bounds if not bind(C).\n+\n 2010-02-10  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR fortran/42309"}, {"sha": "34e153ae77b71c1822128efe908cbab3ecda22ca", "filename": "gcc/fortran/trans-decl.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/975d3303cc10d90d73d3e9344fe3765ca7e9efa2/gcc%2Ffortran%2Ftrans-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/975d3303cc10d90d73d3e9344fe3765ca7e9efa2/gcc%2Ffortran%2Ftrans-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-decl.c?ref=975d3303cc10d90d73d3e9344fe3765ca7e9efa2", "patch": "@@ -1,5 +1,5 @@\n /* Backend function setup\n-   Copyright (C) 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009\n+   Copyright (C) 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010\n    Free Software Foundation, Inc.\n    Contributed by Paul Brook\n \n@@ -4367,7 +4367,7 @@ gfc_generate_function_code (gfc_namespace * ns)\n   /* If bounds-checking is enabled, generate code to check passed in actual\n      arguments against the expected dummy argument attributes (e.g. string\n      lengths).  */\n-  if (gfc_option.rtcheck & GFC_RTCHECK_BOUNDS)\n+  if ((gfc_option.rtcheck & GFC_RTCHECK_BOUNDS) && !sym->attr.is_bind_c)\n     add_argument_checking (&body, sym);\n \n   tmp = gfc_trans_code (ns->code);"}, {"sha": "fdb07a6115ed1001dbb72736fbe9ac025f3b70d2", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/975d3303cc10d90d73d3e9344fe3765ca7e9efa2/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/975d3303cc10d90d73d3e9344fe3765ca7e9efa2/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=975d3303cc10d90d73d3e9344fe3765ca7e9efa2", "patch": "@@ -1,3 +1,8 @@\n+2010-02-10  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/43015\n+\t* gfortran.dg/bind_c_usage_20.f90: New test.\n+\n 2010-02-10  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR debug/43010"}, {"sha": "0a6fa9e9afd6fdb01333b02eb1f946feae2c591f", "filename": "gcc/testsuite/gfortran.dg/bind_c_usage_20.f90", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/975d3303cc10d90d73d3e9344fe3765ca7e9efa2/gcc%2Ftestsuite%2Fgfortran.dg%2Fbind_c_usage_20.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/975d3303cc10d90d73d3e9344fe3765ca7e9efa2/gcc%2Ftestsuite%2Fgfortran.dg%2Fbind_c_usage_20.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fbind_c_usage_20.f90?ref=975d3303cc10d90d73d3e9344fe3765ca7e9efa2", "patch": "@@ -0,0 +1,13 @@\n+! { dg-do compile }\n+! { dg-options \"-fcheck=bounds\" }\n+!\n+! PR fortran/43015\n+!\n+! Contributed by Dennis Wassel\n+!\n+SUBROUTINE foo(msg) BIND(C, name = \"Foo\")\n+  USE, INTRINSIC :: iso_c_binding\n+  IMPLICIT NONE\n+  CHARACTER (KIND=C_CHAR), INTENT (out) :: msg(*) \n+END SUBROUTINE foo\n+"}]}