{"sha": "48cad9e8aed699c396afb7592dd637f2e87723dc", "node_id": "C_kwDOANBUbNoAKDQ4Y2FkOWU4YWVkNjk5YzM5NmFmYjc1OTJkZDYzN2YyZTg3NzIzZGM", "commit": {"author": {"name": "Philip Herron", "email": "philip.herron@embecosm.com", "date": "2022-05-03T15:16:12Z"}, "committer": {"name": "Philip Herron", "email": "philip.herron@embecosm.com", "date": "2022-05-03T15:16:12Z"}, "message": "Use correct format specifiers for unisnged HOST_WIDE_INT\n\nThe code here was wrongly assuming the unsigned long interface which is not\ncorrecty for all targets.", "tree": {"sha": "417a7717c3a63573bf92201b3193942b4270ca6f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/417a7717c3a63573bf92201b3193942b4270ca6f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/48cad9e8aed699c396afb7592dd637f2e87723dc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/48cad9e8aed699c396afb7592dd637f2e87723dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/48cad9e8aed699c396afb7592dd637f2e87723dc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/48cad9e8aed699c396afb7592dd637f2e87723dc/comments", "author": {"login": "philberty", "id": 84585, "node_id": "MDQ6VXNlcjg0NTg1", "avatar_url": "https://avatars.githubusercontent.com/u/84585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philberty", "html_url": "https://github.com/philberty", "followers_url": "https://api.github.com/users/philberty/followers", "following_url": "https://api.github.com/users/philberty/following{/other_user}", "gists_url": "https://api.github.com/users/philberty/gists{/gist_id}", "starred_url": "https://api.github.com/users/philberty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philberty/subscriptions", "organizations_url": "https://api.github.com/users/philberty/orgs", "repos_url": "https://api.github.com/users/philberty/repos", "events_url": "https://api.github.com/users/philberty/events{/privacy}", "received_events_url": "https://api.github.com/users/philberty/received_events", "type": "User", "site_admin": false}, "committer": {"login": "philberty", "id": 84585, "node_id": "MDQ6VXNlcjg0NTg1", "avatar_url": "https://avatars.githubusercontent.com/u/84585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philberty", "html_url": "https://github.com/philberty", "followers_url": "https://api.github.com/users/philberty/followers", "following_url": "https://api.github.com/users/philberty/following{/other_user}", "gists_url": "https://api.github.com/users/philberty/gists{/gist_id}", "starred_url": "https://api.github.com/users/philberty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philberty/subscriptions", "organizations_url": "https://api.github.com/users/philberty/orgs", "repos_url": "https://api.github.com/users/philberty/repos", "events_url": "https://api.github.com/users/philberty/events{/privacy}", "received_events_url": "https://api.github.com/users/philberty/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ca722fe423bdd8c7895a40aac0410b2646917805", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca722fe423bdd8c7895a40aac0410b2646917805", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca722fe423bdd8c7895a40aac0410b2646917805"}], "stats": {"total": 13, "additions": 7, "deletions": 6}, "files": [{"sha": "db22227711e0233262d914f8b453dcdf1460f869", "filename": "gcc/rust/backend/rust-compile.cc", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/48cad9e8aed699c396afb7592dd637f2e87723dc/gcc%2Frust%2Fbackend%2Frust-compile.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/48cad9e8aed699c396afb7592dd637f2e87723dc/gcc%2Frust%2Fbackend%2Frust-compile.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fbackend%2Frust-compile.cc?ref=48cad9e8aed699c396afb7592dd637f2e87723dc", "patch": "@@ -492,7 +492,7 @@ HIRCompileBase::verify_array_capacities (tree ltype, tree rtype,\n   if (!TREE_CONSTANT (TYPE_MAX_VALUE (ltype_domain)))\n     return false;\n \n-  auto ltype_length\n+  unsigned HOST_WIDE_INT ltype_length\n     = wi::ext (wi::to_offset (TYPE_MAX_VALUE (ltype_domain))\n \t\t - wi::to_offset (TYPE_MIN_VALUE (ltype_domain)) + 1,\n \t       TYPE_PRECISION (TREE_TYPE (ltype_domain)),\n@@ -506,7 +506,7 @@ HIRCompileBase::verify_array_capacities (tree ltype, tree rtype,\n   if (!TREE_CONSTANT (TYPE_MAX_VALUE (rtype_domain)))\n     return false;\n \n-  auto rtype_length\n+  unsigned HOST_WIDE_INT rtype_length\n     = wi::ext (wi::to_offset (TYPE_MAX_VALUE (rtype_domain))\n \t\t - wi::to_offset (TYPE_MIN_VALUE (rtype_domain)) + 1,\n \t       TYPE_PRECISION (TREE_TYPE (rtype_domain)),\n@@ -515,10 +515,11 @@ HIRCompileBase::verify_array_capacities (tree ltype, tree rtype,\n \n   if (ltype_length != rtype_length)\n     {\n-      rust_error_at (rvalue_locus,\n-\t\t     \"expected an array with a fixed size of %lu \"\n-\t\t     \"elements, found one with %lu elements\",\n-\t\t     ltype_length, rtype_length);\n+      rust_error_at (\n+\trvalue_locus,\n+\t\"expected an array with a fixed size of \" HOST_WIDE_INT_PRINT_UNSIGNED\n+\t\" elements, found one with \" HOST_WIDE_INT_PRINT_UNSIGNED \" elements\",\n+\tltype_length, rtype_length);\n       return false;\n     }\n "}]}