{"sha": "6ffc8580a7098be91a58d8aeca413fc7e2d61def", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmZmYzg1ODBhNzA5OGJlOTFhNThkOGFlY2E0MTNmYzdlMmQ2MWRlZg==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@cygnus.com", "date": "1999-02-08T21:37:18Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-02-08T21:37:18Z"}, "message": "This is being installed only to get it into the repository to help with the revert...\n\n        This is being installed only to get it into the repository to help\n        with the revert, resubmit & review process for the massive rs6000.md\n        changes.\n        * rs6000.md (andsi3_internal1 splitter): Don't split if using the\n        rlwinm instruction.\n        (anddi3_internal1): Ditto.\n        (andsi3_internal{2,3}): Correct some insn lengths.\n        (anddi3*): Restore missing TARGET_POWERPC64, and don't emit old\n        mnemonics.\n\nFrom-SVN: r25099", "tree": {"sha": "ac23f0e0d58897467a6bca8c3852e7fd3f894576", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ac23f0e0d58897467a6bca8c3852e7fd3f894576"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6ffc8580a7098be91a58d8aeca413fc7e2d61def", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ffc8580a7098be91a58d8aeca413fc7e2d61def", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ffc8580a7098be91a58d8aeca413fc7e2d61def", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ffc8580a7098be91a58d8aeca413fc7e2d61def/comments", "author": null, "committer": null, "parents": [{"sha": "d6b445329951419e570058283581df5c0344095a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d6b445329951419e570058283581df5c0344095a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d6b445329951419e570058283581df5c0344095a"}], "stats": {"total": 54, "additions": 34, "deletions": 20}, "files": [{"sha": "6883675c990d5a327dd3b24de65a3d879930a8f3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ffc8580a7098be91a58d8aeca413fc7e2d61def/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ffc8580a7098be91a58d8aeca413fc7e2d61def/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6ffc8580a7098be91a58d8aeca413fc7e2d61def", "patch": "@@ -1,3 +1,15 @@\n+1999-02-08  Michael Meissner  <meissner@cygnus.com>\n+\n+\tThis is being installed only to get it into the repository to help\n+\twith the revert, resubmit & review process for the massive rs6000.md\n+\tchanges.\n+        * rs6000.md (andsi3_internal1 splitter): Don't split if using the\n+        rlwinm instruction.\n+        (anddi3_internal1): Ditto.\n+        (andsi3_internal{2,3}): Correct some insn lengths.\n+        (anddi3*): Restore missing TARGET_POWERPC64, and don't emit old\n+        mnemonics.\n+\n Mon Feb  8 21:31:06 1999  Richard Henderson  <rth@cygnus.com>\n \n \t* loop.c (reg_single_usage): New file-scope variable ..."}, {"sha": "b73aa3547bdd66f437ae6193b5e76baff143eed1", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 22, "deletions": 20, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ffc8580a7098be91a58d8aeca413fc7e2d61def/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ffc8580a7098be91a58d8aeca413fc7e2d61def/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=6ffc8580a7098be91a58d8aeca413fc7e2d61def", "patch": "@@ -2570,7 +2570,7 @@\n \t(and:SI (match_operand:SI 1 \"gpc_reg_operand\" \"\")\n \t\t(match_operand:SI 2 \"const_int_operand\" \"\")))\n    (clobber (scratch:CC))]\n-  \"reload_completed\"\n+  \"reload_completed && !mask_constant (INTVAL (operands[2]))\"\n   [(set (match_dup 0)\n \t(match_dup 2))\n    (parallel [(set (match_dup 0)\n@@ -2603,7 +2603,7 @@\n    #\n    #\"\n   [(set_attr \"type\" \"compare,compare,compare,delayed_compare,compare,compare,compare,compare,compare,compare\")\n-   (set_attr \"length\" \"4,4,4,4,8,12,12,8,16,16\")])\n+   (set_attr \"length\" \"4,4,4,4,8,8,8,8,12,12\")])\n \n (define_split\n   [(set (match_operand:CC 0 \"cc_reg_not_cr0_operand\" \"\")\n@@ -2643,7 +2643,8 @@\n    #\n    #\n    #\"\n-  [(set_attr \"type\" \"compare,compare,compare,delayed_compare,compare,compare,compare,compare,compare,compare\")])\n+  [(set_attr \"type\" \"compare,compare,compare,delayed_compare,compare,compare,compare,compare,compare,compare\")\n+   (set_attr \"length\" \"4,4,4,4,8,8,8,8,12,12\")])\n \n (define_split\n   [(set (match_operand:CC 3 \"cc_reg_not_cr0_operand\" \"\")\n@@ -7480,7 +7481,7 @@\n \t\t   (and:DI (match_operand:DI 1 \"gpc_reg_operand\" \"%r,r,r,r\")\n \t\t\t   (match_operand:DI 2 \"and_operand\" \"?r,L,K,J\")))\n \t      (clobber (match_scratch:CC 3 \"=X,X,x,x\"))])]\n-  \"\"\n+  \"TARGET_POWERPC64\"\n   \"\")\n \n ;; If cr0 isn't available, and we want to do an andi, load the register into\n@@ -7491,12 +7492,12 @@\n \t(and:DI (match_operand:DI 1 \"gpc_reg_operand\" \"%r,r,r,r,r,r\")\n \t\t(match_operand:DI 2 \"and_operand\" \"?r,L,K,J,K,J\")))\n    (clobber (match_operand:CC 3 \"scratch_operand\" \"=X,X,x,x,X,X\"))]\n-  \"\"\n+  \"TARGET_POWERPC64\"\n   \"@\n    and %0,%1,%2\n    {rlinm|rlwinm} %0,%1,0,%m2,%M2\n-   {andil.|andi.} %0,%1,%b2\n-   {andiu.|andis.} %0,%1,%u2\n+   andil %0,%1,%b2\n+   andis. %0,%1,%u2\n    #\n    #\"\n   [(set_attr \"length\" \"4,4,4,4,8,8\")])\n@@ -7506,7 +7507,7 @@\n \t(and:DI (match_operand:DI 1 \"gpc_reg_operand\" \"\")\n \t\t(match_operand:DI 2 \"const_int_operand\" \"\")))\n    (clobber (scratch:CC))]\n-  \"reload_completed\"\n+  \"TARGET_POWERPC64 && reload_completed && !mask_constant (INTVAL (operands[2]))\"\n   [(set (match_dup 0)\n \t(match_dup 2))\n    (parallel [(set (match_dup 0)\n@@ -7526,20 +7527,20 @@\n \t\t    (const_int 0)))\n    (clobber (match_scratch:DI 3 \"=r,r,r,r,r,r,r,r,&r,&r\"))\n    (clobber (match_scratch:CC 4 \"=X,X,X,X,X,x,x,X,X,X\"))]\n-  \"\"\n+  \"TARGET_POWERPC64\"\n   \"@\n    and. %3,%1,%2\n-   {andil.|andi.} %3,%1,%b2\n-   {andiu.|andis.} %3,%1,%u2\n-   {rlinm.|rlwinm.} %3,%1,0,%m2,%M2\n+   andi. %3,%1,%b2\n+   andis. %3,%1,%u2\n+   rldic%B2. %3,%1,0,%S2\n    #\n    #\n    #\n    #\n    #\n    #\"\n   [(set_attr \"type\" \"compare,compare,compare,delayed_compare,compare,compare,compare,compare,compare,compare\")\n-   (set_attr \"length\" \"4,4,4,4,8,12,12,8,16,16\")])\n+   (set_attr \"length\" \"4,4,4,4,8,8,8,8,12,12\")])\n \n (define_split\n   [(set (match_operand:CC 0 \"cc_reg_not_cr0_operand\" \"\")\n@@ -7548,7 +7549,7 @@\n \t\t    (const_int 0)))\n    (clobber (match_scratch:DI 3 \"\"))\n    (clobber (match_scratch:CC 4 \"\"))]\n-  \"reload_completed\"\n+  \"TARGET_POWERPC64 && reload_completed\"\n   [(parallel [(set (match_dup 3)\n \t\t   (and:DI (match_dup 1)\n \t\t\t   (match_dup 2)))\n@@ -7567,19 +7568,20 @@\n \t(and:DI (match_dup 1)\n \t\t(match_dup 2)))\n    (clobber (match_scratch:CC 4 \"=X,X,X,X,X,x,x,X,X,X\"))]\n-  \"\"\n+  \"TARGET_POWERPC64\"\n   \"@\n    and. %0,%1,%2\n-   {andil.|andi.} %0,%1,%b2\n-   {andiu.|andis.} %0,%1,%u2\n-   {rlinm.|rlwinm.} %0,%1,0,%m2,%M2\n+   andi. %0,%1,%b2\n+   andis. %0,%1,%u2\n+   rldic%B2 %0,%1,0,%m2,%M2\n    #\n    #\n    #\n    #\n    #\n    #\"\n-  [(set_attr \"type\" \"compare,compare,compare,delayed_compare,compare,compare,compare,compare,compare,compare\")])\n+  [(set_attr \"type\" \"compare,compare,compare,delayed_compare,compare,compare,compare,compare,compare,compare\")\n+   (set_attr \"length\" \"4,4,4,4,8,8,8,8,12,12\")])\n \n (define_split\n   [(set (match_operand:CC 3 \"cc_reg_not_cr0_operand\" \"\")\n@@ -7590,7 +7592,7 @@\n \t(and:DI (match_dup 1)\n \t\t(match_dup 2)))\n    (clobber (match_scratch:CC 4 \"\"))]\n-  \"reload_completed\"\n+  \"TARGET_POWERPC64 && reload_completed\"\n   [(parallel [(set (match_dup 0)\n \t\t   (and:DI (match_dup 1)\n \t\t\t   (match_dup 2)))"}]}