{"sha": "c486ed79fd864ca0bf86a453206bd14ceae00992", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzQ4NmVkNzlmZDg2NGNhMGJmODZhNDUzMjA2YmQxNGNlYWUwMDk5Mg==", "commit": {"author": {"name": "Jason Merrill", "email": "merrill@gnu.org", "date": "1996-09-19T00:47:43Z"}, "committer": {"name": "Jason Merrill", "email": "merrill@gnu.org", "date": "1996-09-19T00:47:43Z"}, "message": "(demangle_template): Fix handling of address args.\n\n        (gnu_special): Handle type_info stuff.\n\nFrom-SVN: r12746", "tree": {"sha": "fd9054355e2d88298c660b9da25b559ff1cfd84c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fd9054355e2d88298c660b9da25b559ff1cfd84c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c486ed79fd864ca0bf86a453206bd14ceae00992", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c486ed79fd864ca0bf86a453206bd14ceae00992", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c486ed79fd864ca0bf86a453206bd14ceae00992", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c486ed79fd864ca0bf86a453206bd14ceae00992/comments", "author": null, "committer": null, "parents": [{"sha": "777e434cf099a110b010a6bcbdfa431c2eec3636", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/777e434cf099a110b010a6bcbdfa431c2eec3636", "html_url": "https://github.com/Rust-GCC/gccrs/commit/777e434cf099a110b010a6bcbdfa431c2eec3636"}], "stats": {"total": 26, "additions": 25, "deletions": 1}, "files": [{"sha": "90969a9faed493f7a6d509b19e7e232ed6f31fe2", "filename": "gcc/cplus-dem.c", "status": "modified", "additions": 25, "deletions": 1, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c486ed79fd864ca0bf86a453206bd14ceae00992/gcc%2Fcplus-dem.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c486ed79fd864ca0bf86a453206bd14ceae00992/gcc%2Fcplus-dem.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcplus-dem.c?ref=c486ed79fd864ca0bf86a453206bd14ceae00992", "patch": "@@ -1055,7 +1055,8 @@ demangle_template (work, mangled, tname, trawname)\n \t    }\n \t  else if (is_pointer)\n \t    {\n-\t      if (!get_count (mangled, &symbol_len))\n+\t      symbol_len = consume_count (mangled);\n+\t      if (symbol_len == 0)\n \t\t{\n \t\t  success = 0;\n \t\t  break;\n@@ -1596,6 +1597,29 @@ gnu_special (work, mangled, declp)\n \t  success = 0;\n \t}\n     }\n+  else if (strncmp (*mangled, \"__t\", 3) == 0\n+\t   && ((*mangled)[3] == 'i' || (*mangled)[3] == 'f'))\n+    {\n+      p = (*mangled)[3] == 'i' ? \" type_info node\" : \" type_info function\";\n+      (*mangled) += 4;\n+      switch (**mangled)\n+\t{\n+\t  case 'Q':\n+\t    success = demangle_qualified (work, mangled, declp, 0, 1);\n+\t    break;\n+\t  case 't':\n+\t    success = demangle_template (work, mangled, declp, 0);\n+\t    break;\n+\t  default:\n+\t    n = consume_count (mangled);\n+\t    string_appendn (declp, *mangled, n);\n+\t    (*mangled) += n;\n+\t}\n+      if (success && **mangled != '\\0')\n+\tsuccess = 0;\n+      if (success)\n+\tstring_append (declp, p);\n+    }\n   else\n     {\n       success = 0;"}]}