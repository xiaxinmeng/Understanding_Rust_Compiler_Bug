{"sha": "510d1e8047a638aa7f05d03719a47289bfd7f998", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTEwZDFlODA0N2E2MzhhYTdmMDVkMDM3MTlhNDcyODliZmQ3Zjk5OA==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@cs.umass.edu", "date": "2004-01-16T21:19:07Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2004-01-16T21:19:07Z"}, "message": "system.h (ASM_OUTPUT_SECTION_NAME): Poison.\n\n\tgcc/\n\t* system.h (ASM_OUTPUT_SECTION_NAME): Poison.\n\t* config/alpha/unicosmk.h: Remove a commented-out definition\n\tof ASM_OUTPUT_SECTION_NAME.\n\t* config/stormy16/stormy16.h: Likewise.\n\n\tgcc/ada/\n\t* Make-lang.in (utils.o): Depend on target.h.\n\t* utils.c: Include target.h.\n\t(process_attributes): Use targetm.have_named_sections instead\n\tof ASM_OUTPUT_SECTION_NAME.\n\nFrom-SVN: r75995", "tree": {"sha": "65d4284a23969bd8947d8d2bdbc63594de0df58b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/65d4284a23969bd8947d8d2bdbc63594de0df58b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/510d1e8047a638aa7f05d03719a47289bfd7f998", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/510d1e8047a638aa7f05d03719a47289bfd7f998", "html_url": "https://github.com/Rust-GCC/gccrs/commit/510d1e8047a638aa7f05d03719a47289bfd7f998", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/510d1e8047a638aa7f05d03719a47289bfd7f998/comments", "author": null, "committer": null, "parents": [{"sha": "fb2c26082deb6a8c52efe232e420462da9d45d52", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb2c26082deb6a8c52efe232e420462da9d45d52", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fb2c26082deb6a8c52efe232e420462da9d45d52"}], "stats": {"total": 56, "additions": 28, "deletions": 28}, "files": [{"sha": "d7afc1937c2db4ace8100f2120409c5097799629", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/510d1e8047a638aa7f05d03719a47289bfd7f998/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/510d1e8047a638aa7f05d03719a47289bfd7f998/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=510d1e8047a638aa7f05d03719a47289bfd7f998", "patch": "@@ -1,3 +1,10 @@\n+2004-01-16  Kazu Hirata  <kazu@cs.umass.edu>\n+\n+\t* system.h (ASM_OUTPUT_SECTION_NAME): Poison.\n+\t* config/alpha/unicosmk.h: Remove a commented-out definition\n+\tof ASM_OUTPUT_SECTION_NAME.\n+\t* config/stormy16/stormy16.h: Likewise.\n+\n 2004-01-16  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n \n \t* fixinc/inclhack.def (alpha___extern_prefix): Renamed to ..."}, {"sha": "fc3b66d629e3bfc0f31996ea1882a0c6066e1f2f", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/510d1e8047a638aa7f05d03719a47289bfd7f998/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/510d1e8047a638aa7f05d03719a47289bfd7f998/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=510d1e8047a638aa7f05d03719a47289bfd7f998", "patch": "@@ -1,3 +1,10 @@\n+2004-01-16  Kazu Hirata  <kazu@cs.umass.edu>\n+\n+\t* Make-lang.in (utils.o): Depend on target.h.\n+\t* utils.c: Include target.h.\n+\t(process_attributes): Use targetm.have_named_sections instead\n+\tof ASM_OUTPUT_SECTION_NAME.\n+\n 2004-01-16  Andreas Jaeger  <aj@suse.de>\n \n \t* Makefile.in: Add $(DESTDIR)."}, {"sha": "3c242547e562f3e856788b42bc127eea9d3956ed", "filename": "gcc/ada/Make-lang.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/510d1e8047a638aa7f05d03719a47289bfd7f998/gcc%2Fada%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/510d1e8047a638aa7f05d03719a47289bfd7f998/gcc%2Fada%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FMake-lang.in?ref=510d1e8047a638aa7f05d03719a47289bfd7f998", "patch": "@@ -1213,7 +1213,7 @@ ada/utils.o : ada/utils.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) \\\n    $(TREE_H) flags.h expr.h convert.h defaults.h ada/ada.h ada/types.h \\\n    ada/atree.h ada/nlists.h ada/elists.h ada/sinfo.h ada/einfo.h ada/namet.h \\\n    ada/stringt.h ada/uintp.h ada/fe.h $(ADA_TREE_H) ada/gigi.h gt-ada-utils.h \\\n-   gtype-ada.h\n+   gtype-ada.h target.h\n \n ada/utils2.o : ada/utils2.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) \\\n    $(TREE_H) flags.h ada/ada.h ada/types.h ada/atree.h ada/nlists.h \\"}, {"sha": "579fa1163974977143181868b94e0462476037cf", "filename": "gcc/ada/utils.c", "status": "modified", "additions": 11, "deletions": 9, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/510d1e8047a638aa7f05d03719a47289bfd7f998/gcc%2Fada%2Futils.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/510d1e8047a638aa7f05d03719a47289bfd7f998/gcc%2Fada%2Futils.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Futils.c?ref=510d1e8047a638aa7f05d03719a47289bfd7f998", "patch": "@@ -36,6 +36,7 @@\n #include \"ggc.h\"\n #include \"debug.h\"\n #include \"convert.h\"\n+#include \"target.h\"\n \n #include \"ada.h\"\n #include \"types.h\"\n@@ -1566,15 +1567,16 @@ process_attributes (tree decl, struct attrib *attr_list)\n \tbreak;\n \n       case ATTR_LINK_SECTION:\n-#ifdef ASM_OUTPUT_SECTION_NAME\n-\tDECL_SECTION_NAME (decl)\n-\t  = build_string (IDENTIFIER_LENGTH (attr_list->name),\n-\t\t\t  IDENTIFIER_POINTER (attr_list->name));\n-\tDECL_COMMON (decl) = 0;\n-#else\n-\tpost_error (\"?section attributes are not supported for this target\",\n-\t\t    attr_list->error_point);\n-#endif\n+\tif (targetm.have_named_sections)\n+\t  {\n+\t    DECL_SECTION_NAME (decl)\n+\t      = build_string (IDENTIFIER_LENGTH (attr_list->name),\n+\t\t\t      IDENTIFIER_POINTER (attr_list->name));\n+\t    DECL_COMMON (decl) = 0;\n+\t  }\n+\telse\n+\t  post_error (\"?section attributes are not supported for this target\",\n+\t\t      attr_list->error_point);\n \tbreak;\n       }\n }"}, {"sha": "2c344d3a039b1d1f6fa2dcc192795a24c2d5287a", "filename": "gcc/config/alpha/unicosmk.h", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/510d1e8047a638aa7f05d03719a47289bfd7f998/gcc%2Fconfig%2Falpha%2Funicosmk.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/510d1e8047a638aa7f05d03719a47289bfd7f998/gcc%2Fconfig%2Falpha%2Funicosmk.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Funicosmk.h?ref=510d1e8047a638aa7f05d03719a47289bfd7f998", "patch": "@@ -460,11 +460,6 @@ ssib_section (void)\t\t\\\n          }\t\t\t\t\t\t\\\n   } while(0)\n \n-/*\n-#define ASM_OUTPUT_SECTION_NAME(STREAM, DECL, NAME, RELOC)\t\\\n-  unicosmk_output_section_name ((STREAM), (DECL), (NAME), (RELOC))\n-*/\n-\n /* Switch into a generic section.  */\n #define TARGET_ASM_NAMED_SECTION unicosmk_asm_named_section\n "}, {"sha": "fb47644cada865f7ba1b584cc753e0138b878430", "filename": "gcc/config/stormy16/stormy16.h", "status": "modified", "additions": 0, "deletions": 12, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/510d1e8047a638aa7f05d03719a47289bfd7f998/gcc%2Fconfig%2Fstormy16%2Fstormy16.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/510d1e8047a638aa7f05d03719a47289bfd7f998/gcc%2Fconfig%2Fstormy16%2Fstormy16.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fstormy16%2Fstormy16.h?ref=510d1e8047a638aa7f05d03719a47289bfd7f998", "patch": "@@ -674,18 +674,6 @@ do {\t\t\t\t\t\t\t\\\n #define ASM_APP_ON \"#APP\\n\"\n \n #define ASM_APP_OFF \"#NO_APP\\n\"\n-\n-/* A C statement to output something to the assembler file to switch to section\n-   NAME for object DECL which is either a `FUNCTION_DECL', a `VAR_DECL' or\n-   `NULL_TREE'.  Some target formats do not support arbitrary sections.  Do not\n-   define this macro in such cases.\n-\n-   At present this macro is only used to support section attributes.  When this\n-   macro is undefined, section attributes are disabled.\n-\n-   Defined in svr4.h.  */\n-/* #define ASM_OUTPUT_SECTION_NAME(STREAM, DECL, NAME) */\n-\n \f\n /* Output of Data.  */\n "}, {"sha": "3d4474aa217ec29763882796e9a8d77a5949a571", "filename": "gcc/system.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/510d1e8047a638aa7f05d03719a47289bfd7f998/gcc%2Fsystem.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/510d1e8047a638aa7f05d03719a47289bfd7f998/gcc%2Fsystem.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsystem.h?ref=510d1e8047a638aa7f05d03719a47289bfd7f998", "patch": "@@ -595,7 +595,8 @@ typedef char _Bool;\n \tINIT_GOFAST_OPTABS MULSI3_LIBCALL MULDI3_LIBCALL DIVSI3_LIBCALL \\\n \tDIVDI3_LIBCALL UDIVSI3_LIBCALL UDIVDI3_LIBCALL MODSI3_LIBCALL\t\\\n \tMODDI3_LIBCALL UMODSI3_LIBCALL UMODDI3_LIBCALL BUILD_VA_LIST_TYPE \\\n-\tPRETEND_OUTGOING_VARARGS_NAMED STRUCT_VALUE_INCOMING_REGNUM\n+\tPRETEND_OUTGOING_VARARGS_NAMED STRUCT_VALUE_INCOMING_REGNUM\t\\\n+\tASM_OUTPUT_SECTION_NAME\n \n /* Other obsolete target macros, or macros that used to be in target\n    headers and were not used, and may be obsolete or may never have"}]}