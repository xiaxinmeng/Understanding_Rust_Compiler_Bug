{"sha": "12b30e6daea5c44df6cc3b9d6f03f9b11887e52a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTJiMzBlNmRhZWE1YzQ0ZGY2Y2MzYjlkNmYwM2Y5YjExODg3ZTUyYQ==", "commit": {"author": {"name": "Sebastian Pop", "email": "sebastian.pop@amd.com", "date": "2011-07-21T22:57:30Z"}, "committer": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2011-07-21T22:57:30Z"}, "message": "Remove max_signed_precision_type.\n\n2011-07-21  Sebastian Pop  <sebastian.pop@amd.com>\n\n\t* graphite-clast-to-gimple.c (max_signed_precision_type): Removed.\n\t(max_precision_type): Inline max_signed_precision_type.\n\t(type_for_clast_red): Use max_precision_type.\n\t(type_for_clast_bin): Same.\n\t(type_for_clast_for): Same.\n\nFrom-SVN: r176602", "tree": {"sha": "b90a732adab7578902e19e0f4f3c4a17a500080b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b90a732adab7578902e19e0f4f3c4a17a500080b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/12b30e6daea5c44df6cc3b9d6f03f9b11887e52a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12b30e6daea5c44df6cc3b9d6f03f9b11887e52a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/12b30e6daea5c44df6cc3b9d6f03f9b11887e52a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12b30e6daea5c44df6cc3b9d6f03f9b11887e52a/comments", "author": null, "committer": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0cdd9dcf76f043a42bd36895edd9f9655d60fe8d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0cdd9dcf76f043a42bd36895edd9f9655d60fe8d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0cdd9dcf76f043a42bd36895edd9f9655d60fe8d"}], "stats": {"total": 59, "additions": 30, "deletions": 29}, "files": [{"sha": "7d2ed0dfedf9c96edca86870c6e2efd28d0145e1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12b30e6daea5c44df6cc3b9d6f03f9b11887e52a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12b30e6daea5c44df6cc3b9d6f03f9b11887e52a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=12b30e6daea5c44df6cc3b9d6f03f9b11887e52a", "patch": "@@ -1,3 +1,11 @@\n+2011-07-21  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\t* graphite-clast-to-gimple.c (max_signed_precision_type): Removed.\n+\t(max_precision_type): Inline max_signed_precision_type.\n+\t(type_for_clast_red): Use max_precision_type.\n+\t(type_for_clast_bin): Same.\n+\t(type_for_clast_for): Same.\n+\n 2011-07-21  Sebastian Pop  <sebastian.pop@amd.com>\n \n \t* graphite-clast-to-gimple.c (gcc_type_for_interval): Renamed"}, {"sha": "495b0b7829f098d53004eac238cab3f019515b39", "filename": "gcc/graphite-clast-to-gimple.c", "status": "modified", "additions": 22, "deletions": 29, "changes": 51, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12b30e6daea5c44df6cc3b9d6f03f9b11887e52a/gcc%2Fgraphite-clast-to-gimple.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12b30e6daea5c44df6cc3b9d6f03f9b11887e52a/gcc%2Fgraphite-clast-to-gimple.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-clast-to-gimple.c?ref=12b30e6daea5c44df6cc3b9d6f03f9b11887e52a", "patch": "@@ -206,16 +206,27 @@ clast_name_to_gcc (clast_name_p name, ivs_params_p ip)\n   return VEC_index (tree, *(ip->newivs), index);\n }\n \n-/* Returns the signed maximal precision type for expressions TYPE1 and TYPE2.  */\n+/* Returns the maximal precision type for expressions TYPE1 and TYPE2.  */\n \n static tree\n-max_signed_precision_type (tree type1, tree type2)\n+max_precision_type (tree type1, tree type2)\n {\n-  int p1 = TYPE_PRECISION (type1);\n-  int p2 = TYPE_PRECISION (type2);\n-  int precision;\n-  tree type;\n   enum machine_mode mode;\n+  int p1, p2, precision;\n+  tree type;\n+\n+  if (POINTER_TYPE_P (type1))\n+    return type1;\n+\n+  if (POINTER_TYPE_P (type2))\n+    return type2;\n+\n+  if (TYPE_UNSIGNED (type1)\n+      && TYPE_UNSIGNED (type2))\n+    return TYPE_PRECISION (type1) > TYPE_PRECISION (type2) ? type1 : type2;\n+\n+  p1 = TYPE_PRECISION (type1);\n+  p2 = TYPE_PRECISION (type2);\n \n   if (p1 > p2)\n     precision = TYPE_UNSIGNED (type1) ? p1 * 2 : p1;\n@@ -241,24 +252,6 @@ max_signed_precision_type (tree type1, tree type2)\n   return type;\n }\n \n-/* Returns the maximal precision type for expressions TYPE1 and TYPE2.  */\n-\n-static tree\n-max_precision_type (tree type1, tree type2)\n-{\n-  if (POINTER_TYPE_P (type1))\n-    return type1;\n-\n-  if (POINTER_TYPE_P (type2))\n-    return type2;\n-\n-  if (!TYPE_UNSIGNED (type1)\n-      || !TYPE_UNSIGNED (type2))\n-    return max_signed_precision_type (type1, type2);\n-\n-  return TYPE_PRECISION (type1) > TYPE_PRECISION (type2) ? type1 : type2;\n-}\n-\n static tree\n clast_to_gcc_expression (tree, struct clast_expr *, ivs_params_p);\n \n@@ -473,8 +466,8 @@ type_for_clast_red (struct clast_reduction *r, ivs_params_p ip)\n     case clast_red_max:\n       type = type_for_clast_expr (r->elts[0], ip);\n       for (i = 1; i < r->n; i++)\n-\ttype = max_precision_type (type, type_for_clast_expr\n-\t\t\t\t   (r->elts[i], ip));\n+\ttype = max_precision_type\n+\t  (type, type_for_clast_expr (r->elts[i], ip));\n \n       return type;\n \n@@ -493,7 +486,7 @@ type_for_clast_bin (struct clast_binary *b, ivs_params_p ip)\n {\n   tree l = type_for_clast_expr ((struct clast_expr *) b->LHS, ip);\n   tree r = type_for_value (b->RHS);\n-  return max_signed_precision_type (l, r);\n+  return max_precision_type (l, r);\n }\n \n /* Returns the type for the CLAST expression E when used in statement\n@@ -688,8 +681,8 @@ type_for_clast_for (struct clast_for *stmt_for, int level,\n   tree lb_type = type_for_clast_expr (stmt_for->LB, ip);\n   tree ub_type = type_for_clast_expr (stmt_for->UB, ip);\n \n-  return max_signed_precision_type (lb_type, max_precision_type\n-\t\t\t\t    (ub_type, type_for_level (pbb, level)));\n+  return max_precision_type\n+    (lb_type, max_precision_type (ub_type, type_for_level (pbb, level)));\n }\n \n /* Creates a new LOOP corresponding to Cloog's STMT.  Inserts an"}]}