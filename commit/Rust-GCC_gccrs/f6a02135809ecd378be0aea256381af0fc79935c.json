{"sha": "f6a02135809ecd378be0aea256381af0fc79935c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjZhMDIxMzU4MDllY2QzNzhiZTBhZWEyNTYzODFhZjBmYzc5OTM1Yw==", "commit": {"author": {"name": "Wei Xiao", "email": "wei3.xiao@intel.com", "date": "2019-01-17T10:01:07Z"}, "committer": {"name": "Xuepeng Guo", "email": "xguo@gcc.gnu.org", "date": "2019-01-17T10:01:07Z"}, "message": "avx512f-vfixupimmpd-2.c: Fix the test cases for VFIXUPIMM* intrinsics.\n\ngcc/testsuite/ChangeLog\n2019-01-17  Wei Xiao  <wei3.xiao@intel.com>\n\n\t* gcc.target/i386/avx512f-vfixupimmpd-2.c: Fix the test cases for\n\tVFIXUPIMM* intrinsics.\n\t* gcc.target/i386/avx512f-vfixupimmps-2.c: Ditto.\n\t* gcc.target/i386/avx512f-vfixupimmsd-2.c: Ditto.\n\t* gcc.target/i386/avx512f-vfixupimmss-2.c: Ditto.\n\nFrom-SVN: r268014", "tree": {"sha": "8f99fe560ff4ba8d41ecf9b4bf7e9aaa8031202f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8f99fe560ff4ba8d41ecf9b4bf7e9aaa8031202f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f6a02135809ecd378be0aea256381af0fc79935c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6a02135809ecd378be0aea256381af0fc79935c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f6a02135809ecd378be0aea256381af0fc79935c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6a02135809ecd378be0aea256381af0fc79935c/comments", "author": {"login": "williamweixiao", "id": 23331893, "node_id": "MDQ6VXNlcjIzMzMxODkz", "avatar_url": "https://avatars.githubusercontent.com/u/23331893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/williamweixiao", "html_url": "https://github.com/williamweixiao", "followers_url": "https://api.github.com/users/williamweixiao/followers", "following_url": "https://api.github.com/users/williamweixiao/following{/other_user}", "gists_url": "https://api.github.com/users/williamweixiao/gists{/gist_id}", "starred_url": "https://api.github.com/users/williamweixiao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/williamweixiao/subscriptions", "organizations_url": "https://api.github.com/users/williamweixiao/orgs", "repos_url": "https://api.github.com/users/williamweixiao/repos", "events_url": "https://api.github.com/users/williamweixiao/events{/privacy}", "received_events_url": "https://api.github.com/users/williamweixiao/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "040d2bbad88f2c690b39bb5ca4c580d8be8c3b23", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/040d2bbad88f2c690b39bb5ca4c580d8be8c3b23", "html_url": "https://github.com/Rust-GCC/gccrs/commit/040d2bbad88f2c690b39bb5ca4c580d8be8c3b23"}], "stats": {"total": 43, "additions": 25, "deletions": 18}, "files": [{"sha": "7eeb89acd63fd13e447ebc9676d94edadba8e717", "filename": "gcc/ChangeLog", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6a02135809ecd378be0aea256381af0fc79935c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6a02135809ecd378be0aea256381af0fc79935c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f6a02135809ecd378be0aea256381af0fc79935c", "patch": "@@ -2,7 +2,6 @@\n \n \tPR target/88794\n \tRevert:\n-\n \t2018-11-06  Wei Xiao  <wei3.xiao@intel.com>\n \n \t* config/i386/avx512fintrin.h: Update VFIXUPIMM* intrinsics."}, {"sha": "5425e8261a1499bcd45c991db37f64c6575a6999", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6a02135809ecd378be0aea256381af0fc79935c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6a02135809ecd378be0aea256381af0fc79935c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f6a02135809ecd378be0aea256381af0fc79935c", "patch": "@@ -1,3 +1,11 @@\n+2019-01-17  Wei Xiao  <wei3.xiao@intel.com>\n+\n+\t* gcc.target/i386/avx512f-vfixupimmpd-2.c: Fix the test cases for\n+\tVFIXUPIMM* intrinsics.\n+\t* gcc.target/i386/avx512f-vfixupimmps-2.c: Ditto.\n+\t* gcc.target/i386/avx512f-vfixupimmsd-2.c: Ditto.\n+\t* gcc.target/i386/avx512f-vfixupimmss-2.c: Ditto.\n+\n 2019-01-17  Wei Xiao  <wei3.xiao@intel.com>\n \n \tPR target/88794"}, {"sha": "98b5ed1c1c7f3781131f4fa677c9839e55d760a0", "filename": "gcc/testsuite/gcc.target/i386/avx512f-vfixupimmpd-2.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6a02135809ecd378be0aea256381af0fc79935c/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Favx512f-vfixupimmpd-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6a02135809ecd378be0aea256381af0fc79935c/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Favx512f-vfixupimmpd-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Favx512f-vfixupimmpd-2.c?ref=f6a02135809ecd378be0aea256381af0fc79935c", "patch": "@@ -14,12 +14,12 @@\n \n \n static void\n-CALC (double *r, double src, long long tbl)\n+CALC (double *r, double dest, double src, long long tbl)\n {\n   switch (tbl & 0xf)\n     {\n     case 0:\n-      *r = src;\n+      *r = dest;\n       break;\n     case 1:\n       *r = src;\n@@ -81,7 +81,7 @@ TEST (void)\n \n \n   float vals[2] = { -10, 10 };\n-  int controls[8] = {0x11111111, 0x77777777, 0x77777777, 0x88888888,\n+  int controls[8] = {0, 0x11111111, 0x77777777, 0x88888888,\n     0x99999999, 0xaaaaaaaa, 0xbbbbbbbb, 0xcccccccc};\n \n   MASK_TYPE mask = MASK_VALUE;\n@@ -96,7 +96,7 @@ TEST (void)\n \t  res2.a[j] = DEFAULT_VALUE;\n \t  res3.a[j] = DEFAULT_VALUE;\n \n-\t  CALC (&res_ref[j], s1.a[j], s2.a[j]);\n+\t  CALC (&res_ref[j], res1.a[j], s1.a[j], s2.a[j]);\n \t}\n \n       res1.x = INTRINSIC (_fixupimm_pd) (res1.x, s1.x, s2.x, 0);"}, {"sha": "e5a917f121cc7d88013b3cfe77a225a3d042ada1", "filename": "gcc/testsuite/gcc.target/i386/avx512f-vfixupimmps-2.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6a02135809ecd378be0aea256381af0fc79935c/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Favx512f-vfixupimmps-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6a02135809ecd378be0aea256381af0fc79935c/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Favx512f-vfixupimmps-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Favx512f-vfixupimmps-2.c?ref=f6a02135809ecd378be0aea256381af0fc79935c", "patch": "@@ -13,12 +13,12 @@\n #include \"float.h\"\n \n static void\n-CALC (float *r, float src, int tbl)\n+CALC (float *r, float dest, float src, int tbl)\n {\n   switch (tbl & 0xf)\n     {\n     case 0:\n-      *r = src;\n+      *r = dest;\n       break;\n     case 1:\n       *r = src;\n@@ -81,8 +81,8 @@ TEST (void)\n \n \n   float vals[2] = { -10, 10 };\n-  int controls[16] = { 0x11111111,\n-    0x77777777, 0x88888888, 0x99999999,\n+  int controls[16] = { 0,\n+    0x11111111, 0x88888888, 0x99999999,\n     0xaaaaaaaa, 0xbbbbbbbb, 0xcccccccc,\n     0x77777777, 0x88888888, 0x99999999,\n     0xaaaaaaaa, 0xbbbbbbbb, 0xcccccccc,\n@@ -101,7 +101,7 @@ TEST (void)\n \t  res2.a[j] = DEFAULT_VALUE;\n \t  res3.a[j] = DEFAULT_VALUE;\n \n-\t  CALC (&res_ref[j], s1.a[j], s2.a[j]);\n+\t  CALC (&res_ref[j], res1.a[j], s1.a[j], s2.a[j]);\n \t}\n \n       res1.x = INTRINSIC (_fixupimm_ps) (res1.x, s1.x, s2.x, 0);"}, {"sha": "d3cd28cbeef50b3bf26a25da446ca5c7881abb20", "filename": "gcc/testsuite/gcc.target/i386/avx512f-vfixupimmsd-2.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6a02135809ecd378be0aea256381af0fc79935c/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Favx512f-vfixupimmsd-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6a02135809ecd378be0aea256381af0fc79935c/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Favx512f-vfixupimmsd-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Favx512f-vfixupimmsd-2.c?ref=f6a02135809ecd378be0aea256381af0fc79935c", "patch": "@@ -10,12 +10,12 @@\n #include \"avx512f-mask-type.h\"\n \n void\n-compute_fixupimmpd (double *r, double src, long long tbl)\n+compute_fixupimmpd (double *r, double dest, double src, long long tbl)\n {\n   switch (tbl & 0xf)\n     {\n     case 0:\n-      *r = src;\n+      *r = dest;\n       break;\n     case 1:\n       *r = src;\n@@ -76,7 +76,7 @@ avx512f_test (void)\n   int i, j;\n \n   float vals[2] = { -10, 10 };\n-  int controls[10] = { 0x11111111,\n+  int controls[10] = { 0,\n     0x77777777, 0x88888888, 0x99999999,\n     0xaaaaaaaa, 0xbbbbbbbb, 0xcccccccc,\n     0xdddddddd, 0xeeeeeeee, 0xffffffff\n@@ -98,7 +98,7 @@ avx512f_test (void)\n       for (j = 0; j < 10; j++)\n \t{\n \t  s2.a[0] = controls[j];\n-\t  compute_fixupimmpd (&res_ref[0], s1.a[0], s2.a[0]);\n+\t  compute_fixupimmpd (&res_ref[0], res1.a[0], s1.a[0], s2.a[0]);\n \n \t  res1.x = _mm_fixupimm_sd (res1.x, s1.x, s2.x, 0);\n \t  res2.x = _mm_mask_fixupimm_sd (res2.x, mask, s1.x, s2.x, 0);"}, {"sha": "7364cc5b9a951926f119aec6d1327fea3da4dd7a", "filename": "gcc/testsuite/gcc.target/i386/avx512f-vfixupimmss-2.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6a02135809ecd378be0aea256381af0fc79935c/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Favx512f-vfixupimmss-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6a02135809ecd378be0aea256381af0fc79935c/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Favx512f-vfixupimmss-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Favx512f-vfixupimmss-2.c?ref=f6a02135809ecd378be0aea256381af0fc79935c", "patch": "@@ -10,12 +10,12 @@\n #include \"avx512f-mask-type.h\"\n \n void\n-compute_fixupimmps (float *r, float src, int tbl)\n+compute_fixupimmps (float *r, float dest, float src, int tbl)\n {\n   switch (tbl & 0xf)\n     {\n     case 0:\n-      *r = src;\n+      *r = dest;\n       break;\n     case 1:\n       *r = src;\n@@ -76,7 +76,7 @@ avx512f_test (void)\n   int i, j, k;\n \n   float vals[2] = { -10, 10 };\n-  int controls[10] = { 0x11111111,\n+  int controls[10] = { 0,\n     0x77777777, 0x88888888, 0x99999999,\n     0xaaaaaaaa, 0xbbbbbbbb, 0xcccccccc,\n     0xdddddddd, 0xeeeeeeee, 0xffffffff\n@@ -99,7 +99,7 @@ avx512f_test (void)\n       for (j = 0; j < 10; j++)\n \t{\n \t  s2.a[0] = controls[j];\n-\t  compute_fixupimmps (&res_ref[0], s1.a[0], s2.a[0]);\n+\t  compute_fixupimmps (&res_ref[0], res1.a[0], s1.a[0], s2.a[0]);\n \n \t  res1.x = _mm_fixupimm_ss (res1.x, s1.x, s2.x, 0);\n \t  res2.x = _mm_mask_fixupimm_ss (res2.x, mask, s1.x, s2.x, 0);"}]}