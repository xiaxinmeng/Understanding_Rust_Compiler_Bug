{"sha": "34ea461fdb471b4d9afa555da69dbc6d02713c54", "node_id": "C_kwDOANBUbNoAKDM0ZWE0NjFmZGI0NzFiNGQ5YWZhNTU1ZGE2OWRiYzZkMDI3MTNjNTQ", "commit": {"author": {"name": "Jiufu Guo", "email": "guojiufu@linux.ibm.com", "date": "2022-08-11T12:01:28Z"}, "committer": {"name": "Jiufu Guo", "email": "guojiufu@linux.ibm.com", "date": "2022-09-07T05:21:56Z"}, "message": "rs6000: fix misleading new patterns of splitters\n\nAs a comment in\nhttps://gcc.gnu.org/pipermail/gcc-patches/2022-August/599556.html\n\nThose splitters call rs6000_emit_set_const directly, and the replacements\nare never used.  Using (pc) would be less misleading.\n\ngcc/ChangeLog:\n\n\t* config/rs6000/rs6000.md: (constant splitters): Use \"(pc)\" as the\n\treplacements.", "tree": {"sha": "615bf5403787a7bc1a2704ac953b18c84d8d7a82", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/615bf5403787a7bc1a2704ac953b18c84d8d7a82"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/34ea461fdb471b4d9afa555da69dbc6d02713c54", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/34ea461fdb471b4d9afa555da69dbc6d02713c54", "html_url": "https://github.com/Rust-GCC/gccrs/commit/34ea461fdb471b4d9afa555da69dbc6d02713c54", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/34ea461fdb471b4d9afa555da69dbc6d02713c54/comments", "author": null, "committer": null, "parents": [{"sha": "c0852b51b7a68ada822955eb7ef83d933cc33e47", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0852b51b7a68ada822955eb7ef83d933cc33e47", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c0852b51b7a68ada822955eb7ef83d933cc33e47"}], "stats": {"total": 12, "additions": 3, "deletions": 9}, "files": [{"sha": "85b97389d82c419fad7a0b787bb045968eee64d0", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/34ea461fdb471b4d9afa555da69dbc6d02713c54/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/34ea461fdb471b4d9afa555da69dbc6d02713c54/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=34ea461fdb471b4d9afa555da69dbc6d02713c54", "patch": "@@ -7773,11 +7773,7 @@\n   [(set (match_operand:SI 0 \"gpc_reg_operand\")\n \t(match_operand:SI 1 \"const_int_operand\"))]\n   \"num_insns_constant (operands[1], SImode) > 1\"\n-  [(set (match_dup 0)\n-\t(match_dup 2))\n-   (set (match_dup 0)\n-\t(ior:SI (match_dup 0)\n-\t\t(match_dup 3)))]\n+  [(pc)]\n {\n   if (rs6000_emit_set_const (operands[0], operands[1]))\n     DONE;\n@@ -9708,8 +9704,7 @@\n   [(set (match_operand:DI 0 \"int_reg_operand_not_pseudo\")\n \t(match_operand:DI 1 \"const_int_operand\"))]\n   \"TARGET_POWERPC64 && num_insns_constant (operands[1], DImode) > 1\"\n-  [(set (match_dup 0) (match_dup 2))\n-   (set (match_dup 0) (plus:DI (match_dup 0) (match_dup 3)))]\n+  [(pc)]\n {\n   if (rs6000_emit_set_const (operands[0], operands[1]))\n     DONE;\n@@ -9721,8 +9716,7 @@\n   [(set (match_operand:DI 0 \"int_reg_operand_not_pseudo\")\n \t(match_operand:DI 1 \"const_scalar_int_operand\"))]\n   \"TARGET_POWERPC64 && num_insns_constant (operands[1], DImode) > 1\"\n-  [(set (match_dup 0) (match_dup 2))\n-   (set (match_dup 0) (plus:DI (match_dup 0) (match_dup 3)))]\n+  [(pc)]\n {\n   if (rs6000_emit_set_const (operands[0], operands[1]))\n     DONE;"}]}