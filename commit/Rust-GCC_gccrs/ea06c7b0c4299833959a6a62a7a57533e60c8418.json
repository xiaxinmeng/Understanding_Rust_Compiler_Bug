{"sha": "ea06c7b0c4299833959a6a62a7a57533e60c8418", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWEwNmM3YjBjNDI5OTgzMzk1OWE2YTYyYTdhNTc1MzNlNjBjODQxOA==", "commit": {"author": {"name": "Andre Vehreschild", "email": "vehre@gcc.gnu.org", "date": "2017-02-05T13:05:10Z"}, "committer": {"name": "Andre Vehreschild", "email": "vehre@gcc.gnu.org", "date": "2017-02-05T13:05:10Z"}, "message": "re PR fortran/79335 (Conditional jump or move depends on uninitialised in value  get_scalar_to_descriptor_type(tree_node*, symbol_attribute) (trans-expr.c:53))\n\ngcc/fortran/ChangeLog:\n\n2017-02-05  Andre Vehreschild  <vehre@gcc.gnu.org>\n\n\tPR fortran/79335\n\t* trans-decl.c (generate_coarray_sym_init): Retrieve the symbol's\n\tattributes before using them.\n\nFrom-SVN: r245193", "tree": {"sha": "ed17d1622f71b5d596c4ede358976f9679901f80", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ed17d1622f71b5d596c4ede358976f9679901f80"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ea06c7b0c4299833959a6a62a7a57533e60c8418", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea06c7b0c4299833959a6a62a7a57533e60c8418", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea06c7b0c4299833959a6a62a7a57533e60c8418", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea06c7b0c4299833959a6a62a7a57533e60c8418/comments", "author": null, "committer": null, "parents": [{"sha": "764d5c7b5376677bd6e592fa969065f58dc3d816", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/764d5c7b5376677bd6e592fa969065f58dc3d816", "html_url": "https://github.com/Rust-GCC/gccrs/commit/764d5c7b5376677bd6e592fa969065f58dc3d816"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "222e91f15bb996b47ac2354fd66a3bff25f207f1", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea06c7b0c4299833959a6a62a7a57533e60c8418/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea06c7b0c4299833959a6a62a7a57533e60c8418/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=ea06c7b0c4299833959a6a62a7a57533e60c8418", "patch": "@@ -1,3 +1,9 @@\n+2017-02-05  Andre Vehreschild  <vehre@gcc.gnu.org>\n+\n+\tPR fortran/79335\n+\t* trans-decl.c (generate_coarray_sym_init): Retrieve the symbol's\n+\tattributes before using them.\n+\n 2017-02-05  Andre Vehreschild  <vehre@gcc.gnu.org>\n \n \tPR fortran/78958"}, {"sha": "41b36a5949525b2b5503dec36964fe8428b90aee", "filename": "gcc/fortran/trans-decl.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea06c7b0c4299833959a6a62a7a57533e60c8418/gcc%2Ffortran%2Ftrans-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea06c7b0c4299833959a6a62a7a57533e60c8418/gcc%2Ffortran%2Ftrans-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-decl.c?ref=ea06c7b0c4299833959a6a62a7a57533e60c8418", "patch": "@@ -5128,6 +5128,16 @@ generate_coarray_sym_init (gfc_symbol *sym)\n   else\n     reg_type = GFC_CAF_COARRAY_STATIC;\n \n+  /* Compile the symbol attribute.  */\n+  if (sym->ts.type == BT_CLASS)\n+    {\n+      attr = CLASS_DATA (sym)->attr;\n+      /* The pointer attribute is always set on classes, overwrite it with the\n+\t class_pointer attribute, which denotes the pointer for classes.  */\n+      attr.pointer = attr.class_pointer;\n+    }\n+  else\n+    attr = sym->attr;\n   gfc_init_se (&se, NULL);\n   desc = gfc_conv_scalar_to_descriptor (&se, decl, attr);\n   gfc_add_block_to_block (&caf_init_block, &se.pre);"}]}