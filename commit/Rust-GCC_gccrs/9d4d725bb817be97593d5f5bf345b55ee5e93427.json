{"sha": "9d4d725bb817be97593d5f5bf345b55ee5e93427", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWQ0ZDcyNWJiODE3YmU5NzU5M2Q1ZjViZjM0NWI1NWVlNWU5MzQyNw==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2001-06-03T22:08:26Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2001-06-03T22:08:26Z"}, "message": "lib1funcs.asm (ic_invalidate): Align the cache-mirroring sequence.\n\n* config/sh/lib1funcs.asm (ic_invalidate): Align the\ncache-mirroring sequence.  Add nops.\n\nFrom-SVN: r42833", "tree": {"sha": "94f3dab4430eb0f23a1979e0cf422c9992987484", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/94f3dab4430eb0f23a1979e0cf422c9992987484"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9d4d725bb817be97593d5f5bf345b55ee5e93427", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d4d725bb817be97593d5f5bf345b55ee5e93427", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9d4d725bb817be97593d5f5bf345b55ee5e93427", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d4d725bb817be97593d5f5bf345b55ee5e93427/comments", "author": null, "committer": null, "parents": [{"sha": "f85b8d1a2f3e3dfec7b38b6e65ba920bb0ed1426", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f85b8d1a2f3e3dfec7b38b6e65ba920bb0ed1426", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f85b8d1a2f3e3dfec7b38b6e65ba920bb0ed1426"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "a5630817fc98c1ba3b4f19adccae6f66bed1a95c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d4d725bb817be97593d5f5bf345b55ee5e93427/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d4d725bb817be97593d5f5bf345b55ee5e93427/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9d4d725bb817be97593d5f5bf345b55ee5e93427", "patch": "@@ -1,3 +1,8 @@\n+2001-06-03  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* config/sh/lib1funcs.asm (ic_invalidate): Align the\n+\tcache-mirroring sequence.  Add nops.\n+\n 2001-06-03  Joseph S. Myers  <jsm28@cam.ac.uk>\n \n \t* doc/install-old.texi: Remove more old installation"}, {"sha": "21707587c9ecfd8122889033dddde733b23b7c83", "filename": "gcc/config/sh/lib1funcs.asm", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d4d725bb817be97593d5f5bf345b55ee5e93427/gcc%2Fconfig%2Fsh%2Flib1funcs.asm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d4d725bb817be97593d5f5bf345b55ee5e93427/gcc%2Fconfig%2Fsh%2Flib1funcs.asm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Flib1funcs.asm?ref=9d4d725bb817be97593d5f5bf345b55ee5e93427", "patch": "@@ -1217,18 +1217,23 @@ GLOBAL(ic_invalidate):\n \tocbwb\t@r4\n \tmova\t0f,r0\n \tmov.w\t1f,r1\n+/* Compute how many cache lines 0f is away from r4.  */\n \tsub\tr0,r4\n \tand\tr1,r4\n-\tadd\t#4,r4\n+/* Prepare to branch to 0f plus the cache-line offset.  */\n+\tadd\t# 0f - 1f,r4\n \tbraf\tr4\n \tnop\n 1:\n \t.short\t0x1fe0\n-\tnop\n+\t.p2align 5\n+/* This must be aligned to the beginning of a cache line.  */\n 0:\n-\t.rept\t2048\n+\t.rept\t256 /* There are 256 cache lines of 32 bytes.  */\n \trts\n+\t.rept\t15\n \tnop\n \t.endr\n+\t.endr\n #endif /* SH4 */\n #endif /* L_ic_invalidate */"}]}