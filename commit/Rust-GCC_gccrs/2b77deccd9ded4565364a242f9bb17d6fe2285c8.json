{"sha": "2b77deccd9ded4565364a242f9bb17d6fe2285c8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmI3N2RlY2NkOWRlZDQ1NjUzNjRhMjQyZjliYjE3ZDZmZTIyODVjOA==", "commit": {"author": {"name": "Jason Merrill", "email": "merrill@gnu.org", "date": "1996-10-03T23:37:38Z"}, "committer": {"name": "Jason Merrill", "email": "merrill@gnu.org", "date": "1996-10-03T23:37:38Z"}, "message": "DWARY\n\nFrom-SVN: r12894", "tree": {"sha": "a88b3947ec0a33d39879e6b3802b4082ba393638", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a88b3947ec0a33d39879e6b3802b4082ba393638"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2b77deccd9ded4565364a242f9bb17d6fe2285c8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b77deccd9ded4565364a242f9bb17d6fe2285c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2b77deccd9ded4565364a242f9bb17d6fe2285c8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b77deccd9ded4565364a242f9bb17d6fe2285c8/comments", "author": null, "committer": null, "parents": [{"sha": "d884dca33ee45c4b72557db79fb9c9efef6622ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d884dca33ee45c4b72557db79fb9c9efef6622ca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d884dca33ee45c4b72557db79fb9c9efef6622ca"}], "stats": {"total": 14, "additions": 5, "deletions": 9}, "files": [{"sha": "7ad7d220ebfc3ccc426c80f474814679936379a9", "filename": "gcc/toplev.c", "status": "modified", "additions": 5, "deletions": 9, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b77deccd9ded4565364a242f9bb17d6fe2285c8/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b77deccd9ded4565364a242f9bb17d6fe2285c8/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=2b77deccd9ded4565364a242f9bb17d6fe2285c8", "patch": "@@ -2520,6 +2520,7 @@ compile_file (name)\n \t   and definitions which have not yet been forced out.  */\n \n \tif (write_symbols == DWARF_DEBUG\n+\t    && DECL_RTL (decl) != 0\n \t    && (TREE_CODE (decl) != FUNCTION_DECL || !DECL_INITIAL (decl)))\n \t  TIMEVAR (symout_time, dwarfout_file_scope_decl (decl, 1));\n #endif\n@@ -2751,6 +2752,10 @@ rest_of_type_compilation (type, toplev)\n   if (write_symbols == SDB_DEBUG)\n     TIMEVAR (symout_time, sdbout_symbol (TYPE_STUB_DECL (type), !toplev));\n #endif\n+#ifdef DWARF_DEBUGGING_INFO\n+  if (write_symbols == DWARF_DEBUG)\n+    TIMEVAR (symout_time, dwarfout_file_scope_decl (TYPE_STUB_DECL (type), 0));\n+#endif\n }\n \n /* This is called from finish_function (within yyparse)\n@@ -3969,15 +3974,6 @@ main (argc, argv, envp)\n \twarning (\"-Wuninitialized is not supported without -O\");\n     }\n \n-#if defined(DWARF_DEBUGGING_INFO)\n-  if (write_symbols == DWARF_DEBUG\n-      && strcmp (language_string, \"GNU C++\") == 0)\n-    {\n-      warning (\"-g option not supported for C++ on systems using the DWARF debugging format\");\n-      write_symbols = NO_DEBUG;\n-    }\n-#endif /* defined(DWARF_DEBUGGING_INFO) */\n-\n #ifdef OVERRIDE_OPTIONS\n   /* Some machines may reject certain combinations of options.  */\n   OVERRIDE_OPTIONS;"}]}