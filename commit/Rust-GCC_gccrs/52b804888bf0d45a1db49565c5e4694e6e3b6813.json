{"sha": "52b804888bf0d45a1db49565c5e4694e6e3b6813", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTJiODA0ODg4YmYwZDQ1YTFkYjQ5NTY1YzVlNDY5NGU2ZTNiNjgxMw==", "commit": {"author": {"name": "Pascal Obry", "email": "obry@gnat.com", "date": "2001-10-25T23:49:27Z"}, "committer": {"name": "Geert Bosch", "email": "bosch@gcc.gnu.org", "date": "2001-10-25T23:49:27Z"}, "message": "gnatmem.adb (Read_Next): fix Curs2 value to properly handle quiet mode case for ALLOC case.\n\n\t* gnatmem.adb (Read_Next): fix Curs2 value to properly handle quiet\n        mode case for ALLOC case.\n\n\t* gnatmem.adb (Read_Next): correctly fix parsing in Quiet mode on\n        all platforms. Improvement of last change.\n\nFrom-SVN: r46506", "tree": {"sha": "30e49e2b8eedfe3a3f8884b48474033cc8ba4ede", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/30e49e2b8eedfe3a3f8884b48474033cc8ba4ede"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/52b804888bf0d45a1db49565c5e4694e6e3b6813", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52b804888bf0d45a1db49565c5e4694e6e3b6813", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52b804888bf0d45a1db49565c5e4694e6e3b6813", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52b804888bf0d45a1db49565c5e4694e6e3b6813/comments", "author": null, "committer": null, "parents": [{"sha": "316ad9c5f42d333b4285fe3f393d3fd764fdd9bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/316ad9c5f42d333b4285fe3f393d3fd764fdd9bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/316ad9c5f42d333b4285fe3f393d3fd764fdd9bb"}], "stats": {"total": 23, "additions": 15, "deletions": 8}, "files": [{"sha": "b581007ecc95559660b9ead9a107a9ce9c585da9", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52b804888bf0d45a1db49565c5e4694e6e3b6813/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52b804888bf0d45a1db49565c5e4694e6e3b6813/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=52b804888bf0d45a1db49565c5e4694e6e3b6813", "patch": "@@ -1,3 +1,11 @@\n+2001-10-25  Pascal Obry <obry@gnat.com>\n+\n+\t* gnatmem.adb (Read_Next): fix Curs2 value to properly handle quiet \n+        mode case for ALLOC case.\n+\t\n+\t* gnatmem.adb (Read_Next): correctly fix parsing in Quiet mode on \n+        all platforms. Improvement of last change.\n+\n 2001-10-25  Robert Dewar <dewar@gnat.com>\n \n \t* exp_ch4.adb (Expand_N_Allocator): Minor reformatting."}, {"sha": "f8493d362d9b97f3786974b8d09c30e0d4376c0c", "filename": "gcc/ada/gnatmem.adb", "status": "modified", "additions": 7, "deletions": 8, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52b804888bf0d45a1db49565c5e4694e6e3b6813/gcc%2Fada%2Fgnatmem.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52b804888bf0d45a1db49565c5e4694e6e3b6813/gcc%2Fada%2Fgnatmem.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatmem.adb?ref=52b804888bf0d45a1db49565c5e4694e6e3b6813", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---                            $Revision: 1.24 $\n+--                            $Revision$\n --                                                                          --\n --           Copyright (C) 1997-2001, Ada Core Technologies, Inc.           --\n --                                                                          --\n@@ -191,7 +191,6 @@ procedure Gnatmem is\n    Target_Protocol_Len    : Integer;\n    Cross_Case             : Boolean := False;\n \n-\n    Tmp_Size    : Storage_Count  := 0;\n    Tmp_Address : Integer_Address;\n    Tmp_Alloc   : Allocation;\n@@ -291,7 +290,6 @@ procedure Gnatmem is\n          end if;\n       end;\n \n-\n       if Cross_Case then\n          Put (FD, \"target \");\n          Put (FD, Target_Protocol (1 .. Target_Protocol_Len));\n@@ -693,14 +691,14 @@ procedure Gnatmem is\n             return Eof;\n \n          elsif Line (1 .. 5) = \"ALLOC\" then\n+            --  ALLOC ^ <size> ^0x <addr> ^\n \n             --  Read the size\n \n-            if Quiet_Mode then\n-               Curs2 := 5;\n-            else\n-               Curs1 := 7;\n-               Curs2 := Next_Separator - 1;\n+            Curs1 := 7;\n+            Curs2 := Next_Separator - 1;\n+\n+            if not Quiet_Mode then\n                Tmp_Size := Storage_Count'Value (Line (Curs1 .. Curs2));\n             end if;\n \n@@ -713,6 +711,7 @@ procedure Gnatmem is\n             return Alloc;\n \n          elsif Line (1 .. 5) = \"DEALL\" then\n+            --  DEALL ^ 0x <addr> ^\n \n             --  Read the address, skip \"^0x\"\n "}]}