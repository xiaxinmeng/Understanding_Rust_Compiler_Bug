{"sha": "36579663a4c7dde7e8fe9ba08881f52bddc98774", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzY1Nzk2NjNhNGM3ZGRlN2U4ZmU5YmEwODg4MWY1MmJkZGM5ODc3NA==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@physics.uc.edu", "date": "2004-01-02T22:42:31Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2004-01-02T22:42:31Z"}, "message": "c-typeck.c (finish_init): Free spelling_base before setting it again.\n\n2004-01-02  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        * c-typeck.c (finish_init): Free spelling_base before\n        setting it again.\n\n        * cfgloop.c (flow_loops_find): Always free the sbitmap\n        headers.\n\n        * predict.c (estimate_probability): Free bbs after being\n        done with it.\n\nFrom-SVN: r75337", "tree": {"sha": "1c920bceeac5ffd62788c5e2ffe2669129d020bc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1c920bceeac5ffd62788c5e2ffe2669129d020bc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/36579663a4c7dde7e8fe9ba08881f52bddc98774", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36579663a4c7dde7e8fe9ba08881f52bddc98774", "html_url": "https://github.com/Rust-GCC/gccrs/commit/36579663a4c7dde7e8fe9ba08881f52bddc98774", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36579663a4c7dde7e8fe9ba08881f52bddc98774/comments", "author": null, "committer": null, "parents": [{"sha": "e4796f1c880f4308700c8b019e5b4494a593ce70", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4796f1c880f4308700c8b019e5b4494a593ce70", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e4796f1c880f4308700c8b019e5b4494a593ce70"}], "stats": {"total": 20, "additions": 18, "deletions": 2}, "files": [{"sha": "80297cff20d81c76090d5c506fde0c59862808ba", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36579663a4c7dde7e8fe9ba08881f52bddc98774/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36579663a4c7dde7e8fe9ba08881f52bddc98774/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=36579663a4c7dde7e8fe9ba08881f52bddc98774", "patch": "@@ -1,3 +1,14 @@\n+2004-01-02  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\t* c-typeck.c (finish_init): Free spelling_base before \n+\tsetting it again.\n+\t\n+\t* cfgloop.c (flow_loops_find): Always free the sbitmap\n+\theaders.\n+\n+\t* predict.c (estimate_probability): Free bbs after being\n+\tdone with it.\n+\n 2004-01-02  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* config/mn10300/mn10300.h (PREDICATE_CODES): Add"}, {"sha": "3a71ee7f001a489064c5c42a60b18995f4206c25", "filename": "gcc/c-typeck.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36579663a4c7dde7e8fe9ba08881f52bddc98774/gcc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36579663a4c7dde7e8fe9ba08881f52bddc98774/gcc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-typeck.c?ref=36579663a4c7dde7e8fe9ba08881f52bddc98774", "patch": "@@ -4450,6 +4450,8 @@ finish_init (void)\n     abort ();\n \n   /* Pop back to the data of the outer initializer (if any).  */\n+  free (spelling_base);\n+  \n   constructor_decl = p->decl;\n   constructor_asmspec = p->asmspec;\n   require_constant_value = p->require_constant_value;"}, {"sha": "37cf8f450bf0615698445bad236fa0447c140f15", "filename": "gcc/cfgloop.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36579663a4c7dde7e8fe9ba08881f52bddc98774/gcc%2Fcfgloop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36579663a4c7dde7e8fe9ba08881f52bddc98774/gcc%2Fcfgloop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgloop.c?ref=36579663a4c7dde7e8fe9ba08881f52bddc98774", "patch": "@@ -883,8 +883,6 @@ flow_loops_find (struct loops *loops, int flags)\n \t  loop->num_nodes = flow_loop_nodes_find (loop->header, loop);\n \t}\n \n-      sbitmap_free (headers);\n-\n       /* Assign the loop nesting depth and enclosed loop level for each\n \t loop.  */\n       loops->levels = flow_loops_level_compute (loops);\n@@ -900,6 +898,8 @@ flow_loops_find (struct loops *loops, int flags)\n       free_dominance_info (CDI_DOMINATORS);\n     }\n \n+  sbitmap_free (headers);\n+\n   loops->state = 0;\n #ifdef ENABLE_CHECKING\n   verify_flow_info ();"}, {"sha": "0cba3a5f91e730256e403eb789fa798c8eaac954", "filename": "gcc/predict.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36579663a4c7dde7e8fe9ba08881f52bddc98774/gcc%2Fpredict.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36579663a4c7dde7e8fe9ba08881f52bddc98774/gcc%2Fpredict.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpredict.c?ref=36579663a4c7dde7e8fe9ba08881f52bddc98774", "patch": "@@ -467,6 +467,9 @@ estimate_probability (struct loops *loops_info)\n \t\t    - predictor_info [(int) PRED_LOOP_EXIT].hitrate)\n \t\t   / exits);\n \t}\n+      \n+      /* Free basic blocks from get_loop_body. */\n+      free (bbs);\n     }\n \n   /* Attempt to predict conditional jumps using a number of heuristics.  */"}]}