{"sha": "d1aea5ddc5c0667762f8e0138c60199ba0f31fe2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDFhZWE1ZGRjNWMwNjY3NzYyZjhlMDEzOGM2MDE5OWJhMGYzMWZlMg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2016-06-22T10:39:31Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2016-06-22T10:39:31Z"}, "message": "[multiple changes]\n\n2016-06-22  Bob Duff  <duff@adacore.com>\n\n\t* g-comlin.ads (Parameter_Type): Change subtype of Last to\n\tNatural.\n\t* g-comlin.adb (Set_Parameter): Change subtype of Last to\n\tNatural.\n\t(Getopt): Check for Arg = \"\", and Switches /= \"\".\n\t(Internal_Initialize_Option_Scan): Check for Argument (Parser,\n\tIndex) /= \"\".\n\n2016-06-22  Gary Dismukes  <dismukes@adacore.com>\n\n\t* sem_prag.adb, sem_ch8.adb: Minor reformatting.\n\nFrom-SVN: r237693", "tree": {"sha": "2625b8159cb633581742fe119da525c3901946df", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2625b8159cb633581742fe119da525c3901946df"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d1aea5ddc5c0667762f8e0138c60199ba0f31fe2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1aea5ddc5c0667762f8e0138c60199ba0f31fe2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d1aea5ddc5c0667762f8e0138c60199ba0f31fe2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1aea5ddc5c0667762f8e0138c60199ba0f31fe2/comments", "author": null, "committer": null, "parents": [{"sha": "405b907c8fb5f183d2ae2a0f65f750a1551ef97c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/405b907c8fb5f183d2ae2a0f65f750a1551ef97c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/405b907c8fb5f183d2ae2a0f65f750a1551ef97c"}], "stats": {"total": 36, "additions": 26, "deletions": 10}, "files": [{"sha": "b4e4cf5356f9937d9577315a8103ae94147f25fe", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1aea5ddc5c0667762f8e0138c60199ba0f31fe2/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1aea5ddc5c0667762f8e0138c60199ba0f31fe2/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=d1aea5ddc5c0667762f8e0138c60199ba0f31fe2", "patch": "@@ -1,3 +1,17 @@\n+2016-06-22  Bob Duff  <duff@adacore.com>\n+\n+\t* g-comlin.ads (Parameter_Type): Change subtype of Last to\n+\tNatural.\n+\t* g-comlin.adb (Set_Parameter): Change subtype of Last to\n+\tNatural.\n+\t(Getopt): Check for Arg = \"\", and Switches /= \"\".\n+\t(Internal_Initialize_Option_Scan): Check for Argument (Parser,\n+\tIndex) /= \"\".\n+\n+2016-06-22  Gary Dismukes  <dismukes@adacore.com>\n+\n+\t* sem_prag.adb, sem_ch8.adb: Minor reformatting.\n+\n 2016-06-22  Ed Schonberg  <schonberg@adacore.com>\n \n \t* einfo.ads, einfo.adb (Is_Actual_Subtype): New flag, defined"}, {"sha": "5260fec3bd9f9e1e1b2779139f836b1c223a3132", "filename": "gcc/ada/g-comlin.adb", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1aea5ddc5c0667762f8e0138c60199ba0f31fe2/gcc%2Fada%2Fg-comlin.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1aea5ddc5c0667762f8e0138c60199ba0f31fe2/gcc%2Fada%2Fg-comlin.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-comlin.adb?ref=d1aea5ddc5c0667762f8e0138c60199ba0f31fe2", "patch": "@@ -56,7 +56,7 @@ package body GNAT.Command_Line is\n      (Variable : out Parameter_Type;\n       Arg_Num  : Positive;\n       First    : Positive;\n-      Last     : Positive;\n+      Last     : Natural;\n       Extra    : Character := ASCII.NUL);\n    pragma Inline (Set_Parameter);\n    --  Set the parameter that will be returned by Parameter below\n@@ -621,7 +621,7 @@ package body GNAT.Command_Line is\n          --  If we are on a new item, test if this might be a switch\n \n          if Parser.Current_Index = Arg'First then\n-            if Arg (Arg'First) /= Parser.Switch_Character then\n+            if Arg = \"\" or else Arg (Arg'First) /= Parser.Switch_Character then\n \n                --  If it isn't a switch, return it immediately. We also know it\n                --  isn't the parameter to a previous switch, since that has\n@@ -705,7 +705,7 @@ package body GNAT.Command_Line is\n                  (if Concatenate then Parser.Current_Index else Arg'Last);\n             end if;\n \n-            if Switches (Switches'First) = '*' then\n+            if Switches /= \"\" and then Switches (Switches'First) = '*' then\n \n                --  Always prepend the switch character, so that users know\n                --  that this comes from a switch on the command line. This\n@@ -1061,7 +1061,9 @@ package body GNAT.Command_Line is\n          Section_Num := Section_Num + 1;\n \n          for Index in 1 .. Parser.Arg_Count loop\n-            if Argument (Parser, Index)(1) = Parser.Switch_Character\n+            pragma Assert (Argument (Parser, Index)'First = 1);\n+            if Argument (Parser, Index) /= \"\"\n+              and then Argument (Parser, Index)(1) = Parser.Switch_Character\n               and then\n                 Argument (Parser, Index) = Parser.Switch_Character &\n                                              Section_Delimiters\n@@ -1127,7 +1129,7 @@ package body GNAT.Command_Line is\n      (Variable : out Parameter_Type;\n       Arg_Num  : Positive;\n       First    : Positive;\n-      Last     : Positive;\n+      Last     : Natural;\n       Extra    : Character := ASCII.NUL)\n    is\n    begin"}, {"sha": "f7585085ac6a9b2cf23f42a824610d2550200de0", "filename": "gcc/ada/g-comlin.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1aea5ddc5c0667762f8e0138c60199ba0f31fe2/gcc%2Fada%2Fg-comlin.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1aea5ddc5c0667762f8e0138c60199ba0f31fe2/gcc%2Fada%2Fg-comlin.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-comlin.ads?ref=d1aea5ddc5c0667762f8e0138c60199ba0f31fe2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---                     Copyright (C) 1999-2015, AdaCore                     --\n+--                     Copyright (C) 1999-2016, AdaCore                     --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -1030,7 +1030,7 @@ private\n    type Parameter_Type is record\n       Arg_Num : Positive;\n       First   : Positive;\n-      Last    : Positive;\n+      Last    : Natural;\n       Extra   : Character;\n    end record;\n "}, {"sha": "e1b31aaa34abbbd4b7a9a4872cae3d37d968ef14", "filename": "gcc/ada/sem_ch8.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1aea5ddc5c0667762f8e0138c60199ba0f31fe2/gcc%2Fada%2Fsem_ch8.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1aea5ddc5c0667762f8e0138c60199ba0f31fe2/gcc%2Fada%2Fsem_ch8.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch8.adb?ref=d1aea5ddc5c0667762f8e0138c60199ba0f31fe2", "patch": "@@ -1037,8 +1037,8 @@ package body Sem_Ch8 is\n            and then not Is_Access_Constant (Etype (Nam))\n          then\n             Error_Msg_N\n-               (\"(Ada 2005): the renamed object is not access-to-constant \"\n-                & \"(RM 8.5.1(6))\", N);\n+              (\"(Ada 2005): the renamed object is not access-to-constant \"\n+               & \"(RM 8.5.1(6))\", N);\n \n          elsif not Constant_Present (Access_Definition (N))\n            and then Is_Access_Constant (Etype (Nam))"}, {"sha": "ccaa8e90f6e9193cba8a83f5e43273f87f79033d", "filename": "gcc/ada/sem_prag.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1aea5ddc5c0667762f8e0138c60199ba0f31fe2/gcc%2Fada%2Fsem_prag.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1aea5ddc5c0667762f8e0138c60199ba0f31fe2/gcc%2Fada%2Fsem_prag.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_prag.adb?ref=d1aea5ddc5c0667762f8e0138c60199ba0f31fe2", "patch": "@@ -5061,7 +5061,7 @@ package body Sem_Prag is\n          end if;\n \n          --  An expression cannot be considered static if its resolution failed\n-         --  or if it erroneous. Stop the analysis of the related pragma.\n+         --  or if it's erroneous. Stop the analysis of the related pragma.\n \n          if Etype (Expr) = Any_Type or else Error_Posted (Expr) then\n             raise Pragma_Exit;"}]}