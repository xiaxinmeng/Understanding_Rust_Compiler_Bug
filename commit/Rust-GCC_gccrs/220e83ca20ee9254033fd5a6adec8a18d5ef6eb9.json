{"sha": "220e83ca20ee9254033fd5a6adec8a18d5ef6eb9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjIwZTgzY2EyMGVlOTI1NDAzM2ZkNWE2YWRlYzhhMThkNWVmNmViOQ==", "commit": {"author": {"name": "Kai Tietz", "email": "kai.tietz@onevision.com", "date": "2011-01-01T11:05:41Z"}, "committer": {"name": "Kai Tietz", "email": "ktietz@gcc.gnu.org", "date": "2011-01-01T11:05:41Z"}, "message": "ChangeLog gcc/\n\n2011-01-01  Kai Tietz  <kai.tietz@onevision.com>\n\n\tPR target/38662\n\t* tree.c (type_hash_eq): Call\n\tlanguage hook for METHOD_TYPEs, too.\n\nChangeLog gcc/cp\n\n2011-01-01  Kai Tietz  <kai.tietz@onevision.com>\n\n\tPR target/38662\n\t* tree.c (cxx_type_hash_eq):\n\tAllow METHOD_TYPE, too.\n\nChangeLog gcc/testsuite\n\n2011-01-01  Kai Tietz  <kai.tietz@onevision.com>\n\n\tPR target/38662\n\t* g++.dg/eh/pr38662.C: New testcase.\n\nFrom-SVN: r168389", "tree": {"sha": "965dc756aaa48aec86a2a583feae2d461252558b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/965dc756aaa48aec86a2a583feae2d461252558b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/220e83ca20ee9254033fd5a6adec8a18d5ef6eb9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/220e83ca20ee9254033fd5a6adec8a18d5ef6eb9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/220e83ca20ee9254033fd5a6adec8a18d5ef6eb9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/220e83ca20ee9254033fd5a6adec8a18d5ef6eb9/comments", "author": null, "committer": null, "parents": [{"sha": "49e38883586f5bcca7dc763550b541c4c83f135e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/49e38883586f5bcca7dc763550b541c4c83f135e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/49e38883586f5bcca7dc763550b541c4c83f135e"}], "stats": {"total": 52, "additions": 42, "deletions": 10}, "files": [{"sha": "665be0b8f23f49b5ec431c6e1c4aa2691b51a5dc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/220e83ca20ee9254033fd5a6adec8a18d5ef6eb9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/220e83ca20ee9254033fd5a6adec8a18d5ef6eb9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=220e83ca20ee9254033fd5a6adec8a18d5ef6eb9", "patch": "@@ -1,3 +1,9 @@\n+2011-01-01  Kai Tietz  <kai.tietz@onevision.com>\n+\n+\tPR target/38662\n+\t* tree.c (type_hash_eq): Call\n+\tlanguage hook for METHOD_TYPEs, too.\n+\n 2010-12-31  Gerald Pfeifer  <gerald@pfeifer.com>\n \n \t* doc/install.texi (powerpc-*-darwin*): Update reference to"}, {"sha": "ae5b3f2223dcff9a1c8e1e415746fe9abecf451f", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/220e83ca20ee9254033fd5a6adec8a18d5ef6eb9/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/220e83ca20ee9254033fd5a6adec8a18d5ef6eb9/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=220e83ca20ee9254033fd5a6adec8a18d5ef6eb9", "patch": "@@ -1,3 +1,9 @@\n+2011-01-01  Kai Tietz  <kai.tietz@onevision.com>\n+\n+\tPR target/38662\n+\t* tree.c (cxx_type_hash_eq):\n+\tAllow METHOD_TYPE, too.\n+\n 2010-12-28  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/47068"}, {"sha": "dcce44a439f3e1e7ce11581874c551bce684426c", "filename": "gcc/cp/tree.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/220e83ca20ee9254033fd5a6adec8a18d5ef6eb9/gcc%2Fcp%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/220e83ca20ee9254033fd5a6adec8a18d5ef6eb9/gcc%2Fcp%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftree.c?ref=220e83ca20ee9254033fd5a6adec8a18d5ef6eb9", "patch": "@@ -2749,7 +2749,8 @@ cp_build_type_attribute_variant (tree type, tree attributes)\n bool\n cxx_type_hash_eq (const_tree typea, const_tree typeb)\n {\n-  gcc_assert (TREE_CODE (typea) == FUNCTION_TYPE);\n+  gcc_assert (TREE_CODE (typea) == FUNCTION_TYPE\n+\t      || TREE_CODE (typea) == METHOD_TYPE);\n \n   return comp_except_specs (TYPE_RAISES_EXCEPTIONS (typea),\n \t\t\t    TYPE_RAISES_EXCEPTIONS (typeb), ce_exact);"}, {"sha": "8c037b2231e3b6bd7804bbfce5e3323a42be81ca", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/220e83ca20ee9254033fd5a6adec8a18d5ef6eb9/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/220e83ca20ee9254033fd5a6adec8a18d5ef6eb9/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=220e83ca20ee9254033fd5a6adec8a18d5ef6eb9", "patch": "@@ -1,3 +1,8 @@\n+2011-01-01  Kai Tietz  <kai.tietz@onevision.com>\n+\n+\tPR target/38662\n+\t* g++.dg/eh/pr38662.C: New testcase.\n+\n 2011-01-01  Chung-Lin Tang  <cltang@codesourcery.com>\n \n \t* gcc.target/arm/vfp-1.c (test_ldst): Fixed fsts test to"}, {"sha": "5da0f9763ba804058ef1fe16ed308bb78e6d6b58", "filename": "gcc/testsuite/g++.dg/eh/pr38662.C", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/220e83ca20ee9254033fd5a6adec8a18d5ef6eb9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Feh%2Fpr38662.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/220e83ca20ee9254033fd5a6adec8a18d5ef6eb9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Feh%2Fpr38662.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Feh%2Fpr38662.C?ref=220e83ca20ee9254033fd5a6adec8a18d5ef6eb9", "patch": "@@ -0,0 +1,13 @@\n+// { dg-do compile { target { { i?86-*-* x86_64-*-* } && ilp32 } } }\n+class E { };\n+\n+class T {\n+  int foo(bool a) throw (E) __attribute__((regparm(1)));\n+  int bar(bool b) __attribute__((regparm(1)));\n+};\n+\n+int T::bar(bool b)\n+{\n+  return (b ? 1 : 2);\n+}\n+"}, {"sha": "be2cf98948e6ba823c160891893a20f416e1e6a6", "filename": "gcc/tree.c", "status": "modified", "additions": 10, "deletions": 9, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/220e83ca20ee9254033fd5a6adec8a18d5ef6eb9/gcc%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/220e83ca20ee9254033fd5a6adec8a18d5ef6eb9/gcc%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.c?ref=220e83ca20ee9254033fd5a6adec8a18d5ef6eb9", "patch": "@@ -6007,15 +6007,16 @@ type_hash_eq (const void *va, const void *vb)\n       return TYPE_OFFSET_BASETYPE (a->type) == TYPE_OFFSET_BASETYPE (b->type);\n \n     case METHOD_TYPE:\n-      return (TYPE_METHOD_BASETYPE (a->type) == TYPE_METHOD_BASETYPE (b->type)\n-\t      && (TYPE_ARG_TYPES (a->type) == TYPE_ARG_TYPES (b->type)\n-\t\t  || (TYPE_ARG_TYPES (a->type)\n-\t\t      && TREE_CODE (TYPE_ARG_TYPES (a->type)) == TREE_LIST\n-\t\t      && TYPE_ARG_TYPES (b->type)\n-\t\t      && TREE_CODE (TYPE_ARG_TYPES (b->type)) == TREE_LIST\n-\t\t      && type_list_equal (TYPE_ARG_TYPES (a->type),\n-\t\t\t\t\t  TYPE_ARG_TYPES (b->type)))));\n-\n+      if (TYPE_METHOD_BASETYPE (a->type) == TYPE_METHOD_BASETYPE (b->type)\n+\t  && (TYPE_ARG_TYPES (a->type) == TYPE_ARG_TYPES (b->type)\n+\t      || (TYPE_ARG_TYPES (a->type)\n+\t\t  && TREE_CODE (TYPE_ARG_TYPES (a->type)) == TREE_LIST\n+\t\t  && TYPE_ARG_TYPES (b->type)\n+\t\t  && TREE_CODE (TYPE_ARG_TYPES (b->type)) == TREE_LIST\n+\t\t  && type_list_equal (TYPE_ARG_TYPES (a->type),\n+\t\t\t\t      TYPE_ARG_TYPES (b->type)))))\n+        break;\n+      return 0;\n     case ARRAY_TYPE:\n       return TYPE_DOMAIN (a->type) == TYPE_DOMAIN (b->type);\n "}]}