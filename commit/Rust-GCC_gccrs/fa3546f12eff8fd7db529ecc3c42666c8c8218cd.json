{"sha": "fa3546f12eff8fd7db529ecc3c42666c8c8218cd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmEzNTQ2ZjEyZWZmOGZkN2RiNTI5ZWNjM2M0MjY2NmM4YzgyMThjZA==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2007-08-14T22:13:45Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2007-08-14T22:13:45Z"}, "message": "re PR c++/27211 (Bogus error \"template definition of non-template\" when there is no non-template)\n\n/cp\n2007-08-14  Paolo Carlini  <pcarlini@suse.de>\n\n\tPR c++/27211\n\t* decl2.c (check_classfn): Return error_mark_node in case of error;\n\tin that case, do not call add_method.\n\t* decl.c (start_decl): Deal with check_classfn returning\n\terror_mark_node.\n\t(grokfndecl): Likewise.\n\t* pt.c (tsubst_friend_function): Likewise.\n\n/testsuite\n2007-08-14  Paolo Carlini  <pcarlini@suse.de>\n\n\tPR c++/27211\n\t* g++.dg/template/error27.C: New.\n\t* g++.dg/template/error28.C: New.\n\t* g++.dg/other/pr28304.C: Adjust.\n\t* g++.old-deja/g++.mike/p811.C: Likewise.\n\nFrom-SVN: r127493", "tree": {"sha": "ab462adb3681803da15424f5ebee1d512e43304d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ab462adb3681803da15424f5ebee1d512e43304d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fa3546f12eff8fd7db529ecc3c42666c8c8218cd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa3546f12eff8fd7db529ecc3c42666c8c8218cd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa3546f12eff8fd7db529ecc3c42666c8c8218cd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa3546f12eff8fd7db529ecc3c42666c8c8218cd/comments", "author": null, "committer": null, "parents": [{"sha": "f8c3b097ed6ce43f64f9dfceac2698b0727969ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8c3b097ed6ce43f64f9dfceac2698b0727969ac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f8c3b097ed6ce43f64f9dfceac2698b0727969ac"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "5a0bd7170ba42697397fe53b7434167e678894b8", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3546f12eff8fd7db529ecc3c42666c8c8218cd/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3546f12eff8fd7db529ecc3c42666c8c8218cd/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=fa3546f12eff8fd7db529ecc3c42666c8c8218cd", "patch": "@@ -6287,7 +6287,7 @@ tsubst_friend_function (tree decl, tree args)\n \t  tree fn = check_classfn (context,\n \t\t\t\t   new_friend, NULL_TREE);\n \n-\t  if (fn)\n+\t  if (fn && fn != error_mark_node)\n \t    new_friend = fn;\n \t}\n     }"}]}