{"sha": "ea83dcf68d805065fc63a98056a0504ffcf5c2aa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWE4M2RjZjY4ZDgwNTA2NWZjNjNhOTgwNTZhMDUwNGZmY2Y1YzJhYQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2017-01-19T10:00:56Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2017-01-19T10:00:56Z"}, "message": "re PR lto/78407 (LTO breaks separate overriding of symbol aliases)\n\n\tPR lto/78407\n\t* symtab.c (symtab_node::equal_address_to): Fix comparing of\n\tinterposable aliases.\n\nFrom-SVN: r244612", "tree": {"sha": "c480d824105b61dab47331a0b1811849862ef339", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c480d824105b61dab47331a0b1811849862ef339"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ea83dcf68d805065fc63a98056a0504ffcf5c2aa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea83dcf68d805065fc63a98056a0504ffcf5c2aa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea83dcf68d805065fc63a98056a0504ffcf5c2aa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea83dcf68d805065fc63a98056a0504ffcf5c2aa/comments", "author": null, "committer": null, "parents": [{"sha": "f457ef94da5ab102818f9010407f759ca17e7cc4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f457ef94da5ab102818f9010407f759ca17e7cc4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f457ef94da5ab102818f9010407f759ca17e7cc4"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "f9537916562e399e0d7fc7769a8770f10d00e6bb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea83dcf68d805065fc63a98056a0504ffcf5c2aa/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea83dcf68d805065fc63a98056a0504ffcf5c2aa/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ea83dcf68d805065fc63a98056a0504ffcf5c2aa", "patch": "@@ -1,3 +1,9 @@\n+2017-01-17  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\tPR lto/78407\n+\t* symtab.c (symtab_node::equal_address_to): Fix comparing of\n+\tinterposable aliases.\n+\n 2017-01-18  Peter Bergner  <bergner@vnet.ibm.com>\n \n \tPR target/78516"}, {"sha": "ba395cdd26b40c2337e571ea0518ae4b624ecdd6", "filename": "gcc/symtab.c", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea83dcf68d805065fc63a98056a0504ffcf5c2aa/gcc%2Fsymtab.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea83dcf68d805065fc63a98056a0504ffcf5c2aa/gcc%2Fsymtab.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsymtab.c?ref=ea83dcf68d805065fc63a98056a0504ffcf5c2aa", "patch": "@@ -1989,13 +1989,12 @@ symtab_node::equal_address_to (symtab_node *s2, bool memory_accessed)\n   if (rs1 != rs2 && avail1 >= AVAIL_AVAILABLE && avail2 >= AVAIL_AVAILABLE)\n     binds_local1 = binds_local2 = true;\n \n-  if ((binds_local1 ? rs1 : this)\n-       == (binds_local2 ? rs2 : s2))\n+  if (binds_local1 && binds_local2 && rs1 == rs2)\n     {\n       /* We made use of the fact that alias is not weak.  */\n-      if (binds_local1 && rs1 != this)\n+      if (rs1 != this)\n         refuse_visibility_changes = true;\n-      if (binds_local2 && rs2 != s2)\n+      if (rs2 != s2)\n         s2->refuse_visibility_changes = true;\n       return 1;\n     }"}]}