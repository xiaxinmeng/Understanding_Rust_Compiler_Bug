{"sha": "e210b51b58d1431b7f710e7eac00bd9c128632b3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTIxMGI1MWI1OGQxNDMxYjdmNzEwZTdlYWMwMGJkOWMxMjg2MzJiMw==", "commit": {"author": {"name": "Alexander Monakov", "email": "amonakov@ispras.ru", "date": "2016-11-24T18:10:42Z"}, "committer": {"name": "Alexander Monakov", "email": "amonakov@gcc.gnu.org", "date": "2016-11-24T18:10:42Z"}, "message": "Allow -fopenmp in NVPTX mkoffload\n\n\tPR target/67822\n\t* config/nvptx/mkoffload.c (main): Allow -fopenmp.\n\nFrom-SVN: r242842", "tree": {"sha": "6326866b5957fa333c4623f356400332607e604f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6326866b5957fa333c4623f356400332607e604f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e210b51b58d1431b7f710e7eac00bd9c128632b3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e210b51b58d1431b7f710e7eac00bd9c128632b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e210b51b58d1431b7f710e7eac00bd9c128632b3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e210b51b58d1431b7f710e7eac00bd9c128632b3/comments", "author": {"login": "amonakov", "id": 1997391, "node_id": "MDQ6VXNlcjE5OTczOTE=", "avatar_url": "https://avatars.githubusercontent.com/u/1997391?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amonakov", "html_url": "https://github.com/amonakov", "followers_url": "https://api.github.com/users/amonakov/followers", "following_url": "https://api.github.com/users/amonakov/following{/other_user}", "gists_url": "https://api.github.com/users/amonakov/gists{/gist_id}", "starred_url": "https://api.github.com/users/amonakov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amonakov/subscriptions", "organizations_url": "https://api.github.com/users/amonakov/orgs", "repos_url": "https://api.github.com/users/amonakov/repos", "events_url": "https://api.github.com/users/amonakov/events{/privacy}", "received_events_url": "https://api.github.com/users/amonakov/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "94331892c35dcef7d097578e8b166c5feded9358", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94331892c35dcef7d097578e8b166c5feded9358", "html_url": "https://github.com/Rust-GCC/gccrs/commit/94331892c35dcef7d097578e8b166c5feded9358"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "ca7155d926e78257fe54b02041062827dc827f14", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e210b51b58d1431b7f710e7eac00bd9c128632b3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e210b51b58d1431b7f710e7eac00bd9c128632b3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e210b51b58d1431b7f710e7eac00bd9c128632b3", "patch": "@@ -1,3 +1,8 @@\n+2016-11-24  Alexander Monakov  <amonakov@ispras.ru>\n+\n+\tPR target/67822\n+\t* config/nvptx/mkoffload.c (main): Allow -fopenmp.\n+\n 2016-11-24  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* common/config/sparc/sparc-common.c (sparc_option_optimization_table):"}, {"sha": "e99ef3737702a7863935b9f60f23ad6181f6f197", "filename": "gcc/config/nvptx/mkoffload.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e210b51b58d1431b7f710e7eac00bd9c128632b3/gcc%2Fconfig%2Fnvptx%2Fmkoffload.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e210b51b58d1431b7f710e7eac00bd9c128632b3/gcc%2Fconfig%2Fnvptx%2Fmkoffload.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnvptx%2Fmkoffload.c?ref=e210b51b58d1431b7f710e7eac00bd9c128632b3", "patch": "@@ -524,8 +524,8 @@ main (int argc, char **argv)\n     fatal_error (input_location, \"cannot open '%s'\", ptx_cfile_name);\n \n   /* PR libgomp/65099: Currently, we only support offloading in 64-bit\n-     configurations.  PR target/67822: OpenMP offloading to nvptx fails.  */\n-  if (offload_abi == OFFLOAD_ABI_LP64 && !fopenmp)\n+     configurations.  */\n+  if (offload_abi == OFFLOAD_ABI_LP64)\n     {\n       ptx_name = make_temp_file (\".mkoffload\");\n       obstack_ptr_grow (&argv_obstack, \"-o\");"}]}