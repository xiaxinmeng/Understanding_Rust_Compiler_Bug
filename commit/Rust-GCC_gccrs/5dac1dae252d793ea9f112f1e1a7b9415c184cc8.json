{"sha": "5dac1dae252d793ea9f112f1e1a7b9415c184cc8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWRhYzFkYWUyNTJkNzkzZWE5ZjExMmYxZTFhN2I5NDE1YzE4NGNjOA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2011-10-18T15:33:12Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2011-10-18T15:33:12Z"}, "message": "re PR tree-optimization/50735 (gcc.dg/torture/vector-2.c:52:1: ICE: verify_ssa failed at -O1 and above)\n\n\tPR tree-optimization/50735\n\t* function.c (gimplify_parameters): Use create_tmp_var instead of\n\tcreate_tmp_reg.  If parm is not TREE_ADDRESSABLE and type is complex\n\tor vector type, set DECL_GIMPLE_REG_P.\n\nFrom-SVN: r180154", "tree": {"sha": "05f6b704bb1887ad24ae7f4de048853336da2ec3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/05f6b704bb1887ad24ae7f4de048853336da2ec3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5dac1dae252d793ea9f112f1e1a7b9415c184cc8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5dac1dae252d793ea9f112f1e1a7b9415c184cc8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5dac1dae252d793ea9f112f1e1a7b9415c184cc8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5dac1dae252d793ea9f112f1e1a7b9415c184cc8/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1b688c0e01dfc54f3e5a77c2e76892ebb4dae43b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b688c0e01dfc54f3e5a77c2e76892ebb4dae43b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b688c0e01dfc54f3e5a77c2e76892ebb4dae43b"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "337c6a4643dc91c9688c13cc91cd7b11e6b64312", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5dac1dae252d793ea9f112f1e1a7b9415c184cc8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5dac1dae252d793ea9f112f1e1a7b9415c184cc8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5dac1dae252d793ea9f112f1e1a7b9415c184cc8", "patch": "@@ -1,3 +1,10 @@\n+2011-10-18  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR tree-optimization/50735\n+\t* function.c (gimplify_parameters): Use create_tmp_var instead of\n+\tcreate_tmp_reg.  If parm is not TREE_ADDRESSABLE and type is complex\n+\tor vector type, set DECL_GIMPLE_REG_P.\n+\n 2011-10-18  Andrew Stubbs  <ams@codesourcery.com>\n \n \t* config.host (arm*-*-linux*): Add driver-arm.o and x-arm."}, {"sha": "dc1684a612867d087fecb402ef346fa188ee3d3a", "filename": "gcc/function.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5dac1dae252d793ea9f112f1e1a7b9415c184cc8/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5dac1dae252d793ea9f112f1e1a7b9415c184cc8/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=5dac1dae252d793ea9f112f1e1a7b9415c184cc8", "patch": "@@ -3617,14 +3617,17 @@ gimplify_parameters (void)\n \t\t       && compare_tree_int (DECL_SIZE_UNIT (parm),\n \t\t\t\t\t    STACK_CHECK_MAX_VAR_SIZE) > 0))\n \t\t{\n-\t\t  local = create_tmp_reg (type, get_name (parm));\n+\t\t  local = create_tmp_var (type, get_name (parm));\n \t\t  DECL_IGNORED_P (local) = 0;\n \t\t  /* If PARM was addressable, move that flag over\n \t\t     to the local copy, as its address will be taken,\n \t\t     not the PARMs.  Keep the parms address taken\n \t\t     as we'll query that flag during gimplification.  */\n \t\t  if (TREE_ADDRESSABLE (parm))\n \t\t    TREE_ADDRESSABLE (local) = 1;\n+\t\t  else if (TREE_CODE (type) == COMPLEX_TYPE\n+\t\t\t   || TREE_CODE (type) == VECTOR_TYPE)\n+\t\t    DECL_GIMPLE_REG_P (local) = 1;\n \t\t}\n \t      else\n \t\t{"}]}