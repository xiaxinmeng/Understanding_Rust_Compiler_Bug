{"sha": "1b1dfddf2c8a0ea1a9cda295107f3c2680b38d9b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWIxZGZkZGYyYzhhMGVhMWE5Y2RhMjk1MTA3ZjNjMjY4MGIzOGQ5Yg==", "commit": {"author": {"name": "Kyrylo Tkachov", "email": "kyrylo.tkachov@arm.com", "date": "2018-09-14T16:05:42Z"}, "committer": {"name": "Kyrylo Tkachov", "email": "ktkachov@gcc.gnu.org", "date": "2018-09-14T16:05:42Z"}, "message": "[AArch64][committed] Fix gcc.target/aarch64/combine_bfi_1.c\n\nThis test started failing because some of the functions in the combine dump that it scans uses a different pattern to match the same instruction: insv_regsi rather than aarch64_bfi.\nThe code generation is still the same.\nThe patch changes the scan to look for the actual instruction we want in the assembly.\n\nThis fixes the test.\nCommitting to trunk as obvious.\n\n     * gcc.target/aarch64/combine_bfi_1.c: Scan for bfi instruction\n     rather than pattern name in combine dump.\n\nFrom-SVN: r264323", "tree": {"sha": "1bddbf512beb879a6b7bbd590dd06fd2b2862392", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1bddbf512beb879a6b7bbd590dd06fd2b2862392"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1b1dfddf2c8a0ea1a9cda295107f3c2680b38d9b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b1dfddf2c8a0ea1a9cda295107f3c2680b38d9b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b1dfddf2c8a0ea1a9cda295107f3c2680b38d9b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b1dfddf2c8a0ea1a9cda295107f3c2680b38d9b/comments", "author": {"login": "ktkachov-arm", "id": 74917949, "node_id": "MDQ6VXNlcjc0OTE3OTQ5", "avatar_url": "https://avatars.githubusercontent.com/u/74917949?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ktkachov-arm", "html_url": "https://github.com/ktkachov-arm", "followers_url": "https://api.github.com/users/ktkachov-arm/followers", "following_url": "https://api.github.com/users/ktkachov-arm/following{/other_user}", "gists_url": "https://api.github.com/users/ktkachov-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ktkachov-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ktkachov-arm/subscriptions", "organizations_url": "https://api.github.com/users/ktkachov-arm/orgs", "repos_url": "https://api.github.com/users/ktkachov-arm/repos", "events_url": "https://api.github.com/users/ktkachov-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/ktkachov-arm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "0c2d23711d8b5f8ecc869d6ade407f23e37ac82c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c2d23711d8b5f8ecc869d6ade407f23e37ac82c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0c2d23711d8b5f8ecc869d6ade407f23e37ac82c"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "b065b40274980a418f96dea6acb7adcdeccfefb0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b1dfddf2c8a0ea1a9cda295107f3c2680b38d9b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b1dfddf2c8a0ea1a9cda295107f3c2680b38d9b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1b1dfddf2c8a0ea1a9cda295107f3c2680b38d9b", "patch": "@@ -1,3 +1,8 @@\n+2018-09-14  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n+\n+\t* gcc.target/aarch64/combine_bfi_1.c: Scan for bfi instruction\n+\trather than pattern name in combine dump.\n+\n 2018-09-14  Sam Tebbs  <sam.tebbs@arm.com>\n \n \tPR target/85628"}, {"sha": "cee42ccafcce0e0524f30fa6857abd902ca5779a", "filename": "gcc/testsuite/gcc.target/aarch64/combine_bfi_1.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b1dfddf2c8a0ea1a9cda295107f3c2680b38d9b/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fcombine_bfi_1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b1dfddf2c8a0ea1a9cda295107f3c2680b38d9b/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fcombine_bfi_1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fcombine_bfi_1.c?ref=1b1dfddf2c8a0ea1a9cda295107f3c2680b38d9b", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -fdump-rtl-combine\" } */\n+/* { dg-options \"-O2\" } */\n \n int\n f1 (int x, int y)\n@@ -31,4 +31,4 @@ f5 (long long x, long long y)\n   return (x & ~0xffffffffull) | (y & 0xffffffff);\n }\n \n-/* { dg-final { scan-rtl-dump-times \"\\\\*aarch64_bfi\" 5 \"combine\" } } */\n+/* { dg-final { scan-assembler-times {\\tbfi\\t} 5 } } */"}]}