{"sha": "44e88db2cb7c415147522b1f833322d3a103259d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDRlODhkYjJjYjdjNDE1MTQ3NTIyYjFmODMzMzIyZDNhMTAzMjU5ZA==", "commit": {"author": {"name": "Richard Sandiford", "email": "rdsandiford@googlemail.com", "date": "2013-05-25T16:04:11Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2013-05-25T16:04:11Z"}, "message": "mips.h: Use #elif in preprocessor conditions.\n\ngcc/\n\t* config/mips/mips.h: Use #elif in preprocessor conditions.\n\nFrom-SVN: r199330", "tree": {"sha": "175df9406519ccc6611728d9b2ce3a64eb44ed29", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/175df9406519ccc6611728d9b2ce3a64eb44ed29"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/44e88db2cb7c415147522b1f833322d3a103259d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44e88db2cb7c415147522b1f833322d3a103259d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/44e88db2cb7c415147522b1f833322d3a103259d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44e88db2cb7c415147522b1f833322d3a103259d/comments", "author": {"login": "rsandifo", "id": 4235983, "node_id": "MDQ6VXNlcjQyMzU5ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/4235983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo", "html_url": "https://github.com/rsandifo", "followers_url": "https://api.github.com/users/rsandifo/followers", "following_url": "https://api.github.com/users/rsandifo/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo/orgs", "repos_url": "https://api.github.com/users/rsandifo/repos", "events_url": "https://api.github.com/users/rsandifo/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "3b8597040b32e22a6defa8f642364500a45d953b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b8597040b32e22a6defa8f642364500a45d953b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b8597040b32e22a6defa8f642364500a45d953b"}], "stats": {"total": 91, "additions": 38, "deletions": 53}, "files": [{"sha": "8fd8350a18727e5bfb6113e2a339618872508ece", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/44e88db2cb7c415147522b1f833322d3a103259d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/44e88db2cb7c415147522b1f833322d3a103259d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=44e88db2cb7c415147522b1f833322d3a103259d", "patch": "@@ -1,3 +1,7 @@\n+2013-05-25  Richard Sandiford  <rdsandiford@googlemail.com>\n+\n+\t* config/mips/mips.h: Use #elif in preprocessor conditions.\n+\n 2013-05-25  Richard Sandiford  <rdsandiford@googlemail.com>\n \n \tPR target/53916"}, {"sha": "a8cf1dbedc7e7fb685aaf5606df198d27ebb8c59", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 34, "deletions": 53, "changes": 87, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/44e88db2cb7c415147522b1f833322d3a103259d/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/44e88db2cb7c415147522b1f833322d3a103259d/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=44e88db2cb7c415147522b1f833322d3a103259d", "patch": "@@ -614,39 +614,25 @@ struct mips_cpu_info {\n #endif\n \n #ifndef MULTILIB_ISA_DEFAULT\n-#  if MIPS_ISA_DEFAULT == 1\n-#    define MULTILIB_ISA_DEFAULT \"mips1\"\n-#  else\n-#    if MIPS_ISA_DEFAULT == 2\n-#      define MULTILIB_ISA_DEFAULT \"mips2\"\n-#    else\n-#      if MIPS_ISA_DEFAULT == 3\n-#        define MULTILIB_ISA_DEFAULT \"mips3\"\n-#      else\n-#        if MIPS_ISA_DEFAULT == 4\n-#          define MULTILIB_ISA_DEFAULT \"mips4\"\n-#        else\n-#          if MIPS_ISA_DEFAULT == 32\n-#            define MULTILIB_ISA_DEFAULT \"mips32\"\n-#          else\n-#            if MIPS_ISA_DEFAULT == 33\n-#              define MULTILIB_ISA_DEFAULT \"mips32r2\"\n-#            else\n-#              if MIPS_ISA_DEFAULT == 64\n-#                define MULTILIB_ISA_DEFAULT \"mips64\"\n-#              else\n-#\t\t if MIPS_ISA_DEFAULT == 65\n-#\t\t   define MULTILIB_ISA_DEFAULT \"mips64r2\"\n-#\t         else\n-#                  define MULTILIB_ISA_DEFAULT \"mips1\"\n-#\t\t endif\n-#              endif\n-#            endif\n-#          endif\n-#        endif\n-#      endif\n-#    endif\n-#  endif\n+#if MIPS_ISA_DEFAULT == 1\n+#define MULTILIB_ISA_DEFAULT \"mips1\"\n+#elif MIPS_ISA_DEFAULT == 2\n+#define MULTILIB_ISA_DEFAULT \"mips2\"\n+#elif MIPS_ISA_DEFAULT == 3\n+#define MULTILIB_ISA_DEFAULT \"mips3\"\n+#elif MIPS_ISA_DEFAULT == 4\n+#define MULTILIB_ISA_DEFAULT \"mips4\"\n+#elif MIPS_ISA_DEFAULT == 32\n+#define MULTILIB_ISA_DEFAULT \"mips32\"\n+#elif MIPS_ISA_DEFAULT == 33\n+#define MULTILIB_ISA_DEFAULT \"mips32r2\"\n+#elif MIPS_ISA_DEFAULT == 64\n+#define MULTILIB_ISA_DEFAULT \"mips64\"\n+#elif MIPS_ISA_DEFAULT == 65\n+#define MULTILIB_ISA_DEFAULT \"mips64r2\"\n+#else\n+#define MULTILIB_ISA_DEFAULT \"mips1\"\n+#endif\n #endif\n \n #ifndef MIPS_ABI_DEFAULT\n@@ -657,21 +643,13 @@ struct mips_cpu_info {\n \n #if MIPS_ABI_DEFAULT == ABI_32\n #define MULTILIB_ABI_DEFAULT \"mabi=32\"\n-#endif\n-\n-#if MIPS_ABI_DEFAULT == ABI_O64\n+#elif MIPS_ABI_DEFAULT == ABI_O64\n #define MULTILIB_ABI_DEFAULT \"mabi=o64\"\n-#endif\n-\n-#if MIPS_ABI_DEFAULT == ABI_N32\n+#elif MIPS_ABI_DEFAULT == ABI_N32\n #define MULTILIB_ABI_DEFAULT \"mabi=n32\"\n-#endif\n-\n-#if MIPS_ABI_DEFAULT == ABI_64\n+#elif MIPS_ABI_DEFAULT == ABI_64\n #define MULTILIB_ABI_DEFAULT \"mabi=64\"\n-#endif\n-\n-#if MIPS_ABI_DEFAULT == ABI_EABI\n+#elif MIPS_ABI_DEFAULT == ABI_EABI\n #define MULTILIB_ABI_DEFAULT \"mabi=eabi\"\n #endif\n \n@@ -743,9 +721,9 @@ struct mips_cpu_info {\n #define MIPS_ISA_SYNCI_SPEC \\\n   \"%{msynci|mno-synci:;:%{mips32r2|mips64r2:-msynci;:-mno-synci}}\"\n \n-#if MIPS_ABI_DEFAULT == ABI_O64 \\\n-  || MIPS_ABI_DEFAULT == ABI_N32 \\\n-  || MIPS_ABI_DEFAULT == ABI_64\n+#if (MIPS_ABI_DEFAULT == ABI_O64 \\\n+     || MIPS_ABI_DEFAULT == ABI_N32 \\\n+     || MIPS_ABI_DEFAULT == ABI_64)\n #define OPT_ARCH64 \"mabi=32|mgp32:;\"\n #define OPT_ARCH32 \"mabi=32|mgp32\"\n #else\n@@ -839,6 +817,10 @@ struct mips_cpu_info {\n \t\t\t\t && TARGET_OCTEON\t\t\t\\\n \t\t\t\t && !TARGET_MIPS16)\n \n+#define ISA_HAS_DIV3\t\t((TARGET_LOONGSON_2EF\t\t\t\\\n+\t\t\t\t  || TARGET_LOONGSON_3A)\t\t\\\n+\t\t\t\t && !TARGET_MIPS16)\n+\n /* ISA has the floating-point conditional move instructions introduced\n    in mips4.  */\n #define ISA_HAS_FP_CONDMOVE\t((ISA_MIPS4\t\t\t\t\\\n@@ -1361,8 +1343,8 @@ struct mips_cpu_info {\n #define MAX_FIXED_MODE_SIZE LONG_DOUBLE_TYPE_SIZE\n \n #ifdef IN_LIBGCC2\n-#if  (defined _ABIN32 && _MIPS_SIM == _ABIN32) \\\n-  || (defined _ABI64 && _MIPS_SIM == _ABI64)\n+#if ((defined _ABIN32 && _MIPS_SIM == _ABIN32) \\\n+     || (defined _ABI64 && _MIPS_SIM == _ABI64))\n #  define LIBGCC2_LONG_DOUBLE_TYPE_SIZE 128\n # else\n #  define LIBGCC2_LONG_DOUBLE_TYPE_SIZE 64\n@@ -2868,9 +2850,8 @@ while (0)\n \tjal \" USER_LABEL_PREFIX #FUNC \"\\n\\\n \t.set pop\\n\\\n \t\" TEXT_SECTION_ASM_OP);\n-#endif /* Switch to #elif when we're no longer limited by K&R C.  */\n-#if (defined _ABIN32 && _MIPS_SIM == _ABIN32) \\\n-   || (defined _ABI64 && _MIPS_SIM == _ABI64)\n+#elif ((defined _ABIN32 && _MIPS_SIM == _ABIN32) \\\n+       || (defined _ABI64 && _MIPS_SIM == _ABI64))\n #define CRT_CALL_STATIC_FUNCTION(SECTION_OP, FUNC)\t\\\n    asm (SECTION_OP \"\\n\\\n \t.set push\\n\\"}]}