{"sha": "c862d589d28d39dc1fe947acbc5830748b980985", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yzg2MmQ1ODlkMjhkMzlkYzFmZTk0N2FjYmM1ODMwNzQ4Yjk4MDk4NQ==", "commit": {"author": {"name": "James E Wilson", "email": "wilson@specifixinc.com", "date": "2003-11-21T05:49:05Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "2003-11-21T05:49:05Z"}, "message": "re PR c/13133 (Extraneous register-saves triggered by setjmp())\n\nPR c/13133\n* reload1.c (reload): Delete special handling for setjmp.\n\nFrom-SVN: r73791", "tree": {"sha": "a3449e34f8a448469b27051045e21268362491ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a3449e34f8a448469b27051045e21268362491ed"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c862d589d28d39dc1fe947acbc5830748b980985", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c862d589d28d39dc1fe947acbc5830748b980985", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c862d589d28d39dc1fe947acbc5830748b980985", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c862d589d28d39dc1fe947acbc5830748b980985/comments", "author": null, "committer": null, "parents": [{"sha": "0eadf440e4cd770737eaaab6c3e662a7154fd581", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0eadf440e4cd770737eaaab6c3e662a7154fd581", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0eadf440e4cd770737eaaab6c3e662a7154fd581"}], "stats": {"total": 15, "additions": 6, "deletions": 9}, "files": [{"sha": "5a2ce042474a981b49ccb8d4465c664fe983db82", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c862d589d28d39dc1fe947acbc5830748b980985/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c862d589d28d39dc1fe947acbc5830748b980985/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c862d589d28d39dc1fe947acbc5830748b980985", "patch": "@@ -1,3 +1,8 @@\n+2003-11-20  James E Wilson  <wilson@specifixinc.com>\n+\n+\tPR c/13133\n+\t* reload1.c (reload): Delete special handling for setjmp.\n+\n 2003-11-21  Andreas Tobler  <a.tobler@schweiz.ch>\n \n \t* mklibgcc.in: Evaluate shlib_slibdir_qual during link"}, {"sha": "22c03421a012f0cd737f88aab040eab335fea0e3", "filename": "gcc/reload1.c", "status": "modified", "additions": 1, "deletions": 9, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c862d589d28d39dc1fe947acbc5830748b980985/gcc%2Freload1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c862d589d28d39dc1fe947acbc5830748b980985/gcc%2Freload1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload1.c?ref=c862d589d28d39dc1fe947acbc5830748b980985", "patch": "@@ -698,9 +698,7 @@ reload (rtx first, int global)\n   /* Look for REG_EQUIV notes; record what each pseudo is equivalent to.\n      Also find all paradoxical subregs and find largest such for each pseudo.\n      On machines with small register classes, record hard registers that\n-     are used for user variables.  These can never be used for spills.\n-     Also look for a \"constant\" REG_SETJMP.  This means that all\n-     caller-saved registers must be marked live.  */\n+     are used for user variables.  These can never be used for spills.  */\n \n   num_eliminable_invariants = 0;\n   for (insn = first; insn; insn = NEXT_INSN (insn))\n@@ -714,12 +712,6 @@ reload (rtx first, int global)\n \t  && GET_MODE (insn) != VOIDmode)\n \tPUT_MODE (insn, VOIDmode);\n \n-      if (GET_CODE (insn) == CALL_INSN\n-\t  && find_reg_note (insn, REG_SETJMP, NULL))\n-\tfor (i = 0; i < FIRST_PSEUDO_REGISTER; i++)\n-\t  if (! call_used_regs[i])\n-\t    regs_ever_live[i] = 1;\n-\n       if (set != 0 && GET_CODE (SET_DEST (set)) == REG)\n \t{\n \t  rtx note = find_reg_note (insn, REG_EQUIV, NULL_RTX);"}]}