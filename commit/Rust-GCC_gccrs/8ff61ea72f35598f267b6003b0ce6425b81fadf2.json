{"sha": "8ff61ea72f35598f267b6003b0ce6425b81fadf2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGZmNjFlYTcyZjM1NTk4ZjI2N2I2MDAzYjBjZTY0MjViODFmYWRmMg==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2004-12-20T21:10:44Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2004-12-20T21:10:44Z"}, "message": "Makefile.in (install-common): Do not install the specs file unless SPECS is defined.\n\n\t* Makefile.in (install-common): Do not install the specs file\n\tunless SPECS is defined.\n\nFrom-SVN: r92433", "tree": {"sha": "136bc6119c02f9ab3f53430ca91d94663f40918e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/136bc6119c02f9ab3f53430ca91d94663f40918e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8ff61ea72f35598f267b6003b0ce6425b81fadf2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ff61ea72f35598f267b6003b0ce6425b81fadf2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8ff61ea72f35598f267b6003b0ce6425b81fadf2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ff61ea72f35598f267b6003b0ce6425b81fadf2/comments", "author": null, "committer": null, "parents": [{"sha": "6e822bf64ad44ce951e19be1b62499c6549f714a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e822bf64ad44ce951e19be1b62499c6549f714a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6e822bf64ad44ce951e19be1b62499c6549f714a"}], "stats": {"total": 24, "additions": 18, "deletions": 6}, "files": [{"sha": "6fb84285222e9642f1aa49bd62fd9e070ac5491c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ff61ea72f35598f267b6003b0ce6425b81fadf2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ff61ea72f35598f267b6003b0ce6425b81fadf2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8ff61ea72f35598f267b6003b0ce6425b81fadf2", "patch": "@@ -1,3 +1,8 @@\n+2004-12-20  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* Makefile.in (install-common): Do not install the specs file\n+\tunless SPECS is defined.\n+\n 2004-12-20  Zdenek Dvorak  <dvorakz@suse.cz>\n \n \tPR rtl-optimization/18942"}, {"sha": "84282c5def1a21b863f2d83a6570826369f489d3", "filename": "gcc/Makefile.in", "status": "modified", "additions": 13, "deletions": 6, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ff61ea72f35598f267b6003b0ce6425b81fadf2/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ff61ea72f35598f267b6003b0ce6425b81fadf2/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=8ff61ea72f35598f267b6003b0ce6425b81fadf2", "patch": "@@ -3236,12 +3236,19 @@ install-common: native $(EXTRA_PARTS) lang.install-common installdirs\n \t    chmod a-x $(DESTDIR)$(libsubdir)/$$file; \\\n \t  else true; fi; \\\n \tdone\n-# Don't mess with specs if it doesn't exist yet.\n-\t-if [ -f specs ] ; then \\\n-\t  rm -f $(DESTDIR)$(libsubdir)/specs; \\\n-\t  $(INSTALL_DATA) $(SPECS) $(DESTDIR)$(libsubdir)/specs; \\\n-\t  chmod a-x $(DESTDIR)$(libsubdir)/specs; \\\n-\tfi\n+# Remove any specs file installed by a previous version of GCC.  \n+\trm -f $(DESTDIR)$(libsubdir)/specs\n+ifneq ($(SPECS),specs)\n+# In general, we no longer install the specs file because its presence\n+# makes the driver slower, and because people who need it can recreate\n+# it by using -dumpspecs.\n+#\n+# However, in the case that the target has defined SPECS, then we must\n+# install the file.  It may be that the installed specs file is\n+# different from that built into the driver.\n+\t$(INSTALL_DATA) $(SPECS) $(DESTDIR)$(libsubdir)/specs\n+\tchmod a-x $(DESTDIR)$(libsubdir)/specs\n+endif\n # Install protoize if it was compiled.\n \t-if [ -f protoize$(exeext) ]; then \\\n \t  rm -f $(DESTDIR)$(bindir)/$(PROTOIZE_INSTALL_NAME)$(exeext); \\"}]}