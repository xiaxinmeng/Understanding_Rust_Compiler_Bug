{"sha": "03dc032560d43abc8a9867472fdb22cbf0c6b9c7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDNkYzAzMjU2MGQ0M2FiYzhhOTg2NzQ3MmZkYjIyY2JmMGM2YjljNw==", "commit": {"author": {"name": "Joseph Myers", "email": "jsm28@cam.ac.uk", "date": "2001-01-03T20:56:22Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2001-01-03T20:56:22Z"}, "message": "c-common.c (c_common_lang_init): New function.\n\n\t* c-common.c (c_common_lang_init): New function.  Warn if format\n\twarning options which only have effects when used with -Wformat\n\tare used without -Wformat.\n\t* c-common.h (c_common_lang_init): Declare.\n\t* c-lang.c (lang_init): Call c_common_lang_init.\n\t* objc/objc-act.c (lang_init): Call c_common_lang_init.\n\ncp:\n\t* lex.c (lang_init): Call c_common_lang_init.\n\nFrom-SVN: r38672", "tree": {"sha": "f0e8c65e787de4d8629a814f63958c000e5b164f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f0e8c65e787de4d8629a814f63958c000e5b164f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/03dc032560d43abc8a9867472fdb22cbf0c6b9c7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03dc032560d43abc8a9867472fdb22cbf0c6b9c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03dc032560d43abc8a9867472fdb22cbf0c6b9c7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03dc032560d43abc8a9867472fdb22cbf0c6b9c7/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "955be6336a2f53d6b15909ddcccee87cfee57674", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/955be6336a2f53d6b15909ddcccee87cfee57674", "html_url": "https://github.com/Rust-GCC/gccrs/commit/955be6336a2f53d6b15909ddcccee87cfee57674"}], "stats": {"total": 52, "additions": 44, "deletions": 8}, "files": [{"sha": "fa8e677d7b8f592565536b75630e4a7e95809e03", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03dc032560d43abc8a9867472fdb22cbf0c6b9c7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03dc032560d43abc8a9867472fdb22cbf0c6b9c7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=03dc032560d43abc8a9867472fdb22cbf0c6b9c7", "patch": "@@ -1,3 +1,12 @@\n+2001-01-03  Joseph S. Myers  <jsm28@cam.ac.uk>\n+\n+\t* c-common.c (c_common_lang_init): New function.  Warn if format\n+\twarning options which only have effects when used with -Wformat\n+\tare used without -Wformat.\n+\t* c-common.h (c_common_lang_init): Declare.\n+\t* c-lang.c (lang_init): Call c_common_lang_init.\n+\t* objc/objc-act.c (lang_init): Call c_common_lang_init.\n+\n 2001-01-03  Joseph S. Myers  <jsm28@cam.ac.uk>\n \n \t* configure.in: Check for the mktemp command."}, {"sha": "71234b75bcb1c584a6b009f2bf7946d1c5b2d569", "filename": "gcc/c-common.c", "status": "modified", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03dc032560d43abc8a9867472fdb22cbf0c6b9c7/gcc%2Fc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03dc032560d43abc8a9867472fdb22cbf0c6b9c7/gcc%2Fc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-common.c?ref=03dc032560d43abc8a9867472fdb22cbf0c6b9c7", "patch": "@@ -6555,3 +6555,26 @@ boolean_increment (code, arg)\n   TREE_SIDE_EFFECTS (val) = 1;\n   return val;\n }\n+\f\n+\n+/* Do the parts of lang_init common to C and C++.  */\n+void\n+c_common_lang_init ()\n+{\n+  /* If still \"unspecified\", make it match -fbounded-pointers.  */\n+  if (flag_bounds_check < 0)\n+    flag_bounds_check = flag_bounded_pointers;\n+\n+  /* Special format checking options don't work without -Wformat; warn if\n+     they are used.  */\n+  if (warn_format_y2k && !warn_format)\n+    warning (\"-Wformat-y2k ignored without -Wformat\");\n+  if (warn_format_extra_args && !warn_format)\n+    warning (\"-Wformat-extra-args ignored without -Wformat\");\n+  if (warn_format_nonliteral && !warn_format)\n+    warning (\"-Wformat-nonliteral ignored without -Wformat\");\n+  if (warn_format_security && !warn_format)\n+    warning (\"-Wformat-security ignored without -Wformat\");\n+  if (warn_missing_format_attribute && !warn_format)\n+    warning (\"-Wmissing-format-attribute ignored without -Wformat\");\n+}"}, {"sha": "a5e43e4d5dcedcf910109384d7f0e3ff9f81f476", "filename": "gcc/c-common.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03dc032560d43abc8a9867472fdb22cbf0c6b9c7/gcc%2Fc-common.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03dc032560d43abc8a9867472fdb22cbf0c6b9c7/gcc%2Fc-common.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-common.h?ref=03dc032560d43abc8a9867472fdb22cbf0c6b9c7", "patch": "@@ -513,6 +513,8 @@ extern void c_common_nodes_and_builtins\t\tPARAMS ((void));\n \n extern tree build_va_arg\t\t\tPARAMS ((tree, tree));\n \n+extern void c_common_lang_init\t\t\tPARAMS ((void));\n+\n /* Nonzero if the type T promotes to itself.\n    ANSI C states explicitly the list of types that promote;\n    in particular, short promotes to int even if they have the same width.  */"}, {"sha": "b96895d4c87f8a226a996930712ce4c2db853fc1", "filename": "gcc/c-lang.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03dc032560d43abc8a9867472fdb22cbf0c6b9c7/gcc%2Fc-lang.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03dc032560d43abc8a9867472fdb22cbf0c6b9c7/gcc%2Fc-lang.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-lang.c?ref=03dc032560d43abc8a9867472fdb22cbf0c6b9c7", "patch": "@@ -62,9 +62,7 @@ lang_init_options ()\n void\n lang_init ()\n {\n-  /* If still \"unspecified\", make it match -fbounded-pointers.  */\n-  if (flag_bounds_check < 0)\n-    flag_bounds_check = flag_bounded_pointers;\n+  c_common_lang_init ();\n \n   /* If still unspecified, make it match pedantic && -std=c99.  */\n   if (mesg_implicit_function_declaration < 0)"}, {"sha": "7404a1a001bab24ffaf8783cc2835c2d31c471b4", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03dc032560d43abc8a9867472fdb22cbf0c6b9c7/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03dc032560d43abc8a9867472fdb22cbf0c6b9c7/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=03dc032560d43abc8a9867472fdb22cbf0c6b9c7", "patch": "@@ -1,3 +1,7 @@\n+2001-01-03  Joseph S. Myers  <jsm28@cam.ac.uk>\n+\n+\t* lex.c (lang_init): Call c_common_lang_init.\n+\n 2001-01-03  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* search.c (lookup_fnfields_here): Remove."}, {"sha": "a203ac963dfb6239c9397677125a69c3908608c4", "filename": "gcc/cp/lex.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03dc032560d43abc8a9867472fdb22cbf0c6b9c7/gcc%2Fcp%2Flex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03dc032560d43abc8a9867472fdb22cbf0c6b9c7/gcc%2Fcp%2Flex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Flex.c?ref=03dc032560d43abc8a9867472fdb22cbf0c6b9c7", "patch": "@@ -1,6 +1,6 @@\n /* Separate lexical analyzer for GNU C++.\n    Copyright (C) 1987, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,\n-   1999, 2000 Free Software Foundation, Inc.\n+   1999, 2000, 2001 Free Software Foundation, Inc.\n    Hacked by Michael Tiemann (tiemann@cygnus.com)\n \n This file is part of GNU CC.\n@@ -262,9 +262,7 @@ lang_init_options ()\n void\n lang_init ()\n {\n-  /* If still \"unspecified\", make it match -fbounded-pointers.  */\n-  if (flag_bounds_check < 0)\n-    flag_bounds_check = flag_bounded_pointers;\n+  c_common_lang_init ();\n \n   if (flag_gnu_xref) GNU_xref_begin (input_filename);\n   init_repo (input_filename);"}, {"sha": "99f2d23055c0d05d85b60158a86492ec45a0c110", "filename": "gcc/objc/objc-act.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03dc032560d43abc8a9867472fdb22cbf0c6b9c7/gcc%2Fobjc%2Fobjc-act.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03dc032560d43abc8a9867472fdb22cbf0c6b9c7/gcc%2Fobjc%2Fobjc-act.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2Fobjc-act.c?ref=03dc032560d43abc8a9867472fdb22cbf0c6b9c7", "patch": "@@ -1,6 +1,6 @@\n /* Implement classes and message passing for Objective C.\n    Copyright (C) 1992, 1993, 1994, 1995, 1997, 1998,\n-   1999, 2000 Free Software Foundation, Inc.\n+   1999, 2000, 2001 Free Software Foundation, Inc.\n    Contributed by Steve Naroff.\n \n This file is part of GNU CC.\n@@ -704,6 +704,8 @@ lang_init ()\n      not to be built in.  */\n   lineno = 0;\n \n+  c_common_lang_init ();\n+\n   /* If gen_declaration desired, open the output file.  */\n   if (flag_gen_declaration)\n     {"}]}