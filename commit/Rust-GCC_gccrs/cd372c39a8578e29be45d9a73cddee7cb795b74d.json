{"sha": "cd372c39a8578e29be45d9a73cddee7cb795b74d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2QzNzJjMzlhODU3OGUyOWJlNDVkOWE3M2NkZGVlN2NiNzk1Yjc0ZA==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@bitrange.com", "date": "2000-12-29T02:57:08Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2000-12-29T02:57:08Z"}, "message": "* g++.dg/vtgc1.C: New test.\n\nFrom-SVN: r38522", "tree": {"sha": "ff58a4d299368e2b2ea50a73ff84db4bfe125d27", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ff58a4d299368e2b2ea50a73ff84db4bfe125d27"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cd372c39a8578e29be45d9a73cddee7cb795b74d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd372c39a8578e29be45d9a73cddee7cb795b74d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cd372c39a8578e29be45d9a73cddee7cb795b74d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd372c39a8578e29be45d9a73cddee7cb795b74d/comments", "author": null, "committer": null, "parents": [{"sha": "6f18f7e9b73bb769ad3b2bf35cea7f20bd09f99e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f18f7e9b73bb769ad3b2bf35cea7f20bd09f99e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f18f7e9b73bb769ad3b2bf35cea7f20bd09f99e"}], "stats": {"total": 139, "additions": 139, "deletions": 0}, "files": [{"sha": "1070cbc417f4b9ecf3acde73f00c0e81847009b4", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd372c39a8578e29be45d9a73cddee7cb795b74d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd372c39a8578e29be45d9a73cddee7cb795b74d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=cd372c39a8578e29be45d9a73cddee7cb795b74d", "patch": "@@ -1,3 +1,7 @@\n+2000-12-29  Hans-Peter Nilsson  <hp@bitrange.com>\n+\n+\t* g++.dg/vtgc1.C: New test.\n+\n 2000-12-28  Geoffrey Keating  <geoffk@redhat.com>\n \n \t* gcc.dg/20001228-1.c: New test."}, {"sha": "03d34fa30b964d7b28aeb8f3f9cbe7c408596338", "filename": "gcc/testsuite/g++.dg/vtgc1.C", "status": "added", "additions": 135, "deletions": 0, "changes": 135, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd372c39a8578e29be45d9a73cddee7cb795b74d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fvtgc1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd372c39a8578e29be45d9a73cddee7cb795b74d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fvtgc1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fvtgc1.C?ref=cd372c39a8578e29be45d9a73cddee7cb795b74d", "patch": "@@ -0,0 +1,135 @@\n+// { dg-do compile }\n+// { dg-options \"-fvtable-gc -fno-new-abi\" }\n+// Origin: Hans-Peter Nilsson <hp@bitrange.com>\n+\n+class Base0\n+{\n+public:\n+  Base0(); virtual ~Base0();\n+  virtual void f1();\n+  virtual void f2();\n+private:\n+  int a_value;\n+};\n+\n+class Base1 : public Base0\n+{\n+public:\n+  Base1(); virtual ~Base1();\n+  virtual void f1(), f2();\n+  virtual void f3();\n+};\n+\n+class Base2 : public Base1\n+{\n+public:\n+  Base2(); virtual ~Base2();\n+  virtual void f1(), f2();\n+  virtual void f4();\n+};\n+\n+class VbasedA : virtual public Base2\n+{\n+public:\n+  VbasedA(); virtual ~VbasedA();\n+  virtual void f1(), f2(), f3();\n+  virtual void f6();\n+};\n+\n+class Side0\n+{\n+public:\n+  Side0(); virtual ~Side0();\n+  virtual void x1();\n+  virtual void xx();\n+private:\n+  int ryan;\n+};\n+\n+class Multisv0 : public Side0, virtual public Base2\n+{\n+public:\n+  Multisv0(); virtual ~Multisv0();\n+  virtual void f1(), f2();\n+  virtual void f3();\n+  virtual void f6();\n+  virtual void xx();\n+};\n+\n+class Multivs1 : public Base2, virtual public Side0\n+{\n+public:\n+  Multivs1(); virtual ~Multivs1(); virtual void f1(); virtual void fx2();\n+  virtual void fx4(), fx5();\n+  virtual void f6();\n+  virtual void xx();\n+};\n+\n+class Multiss2 : public Base2, public Side0\n+{\n+public:\n+  Multiss2(); virtual ~Multiss2(); virtual void f1(); virtual void fx2();\n+  virtual void fx4();\n+  virtual void f6();\n+  virtual void xx();\n+};\n+\n+class Multivv3 : virtual public Base2, virtual public Side0\n+{\n+public:\n+  Multivv3(); virtual ~Multivv3(); virtual void f1(); virtual void fx2();\n+  virtual void fx4(), fx5();\n+  virtual void f6();\n+  virtual void xx();\n+};\n+\n+Base0::Base0() {}\n+Base0::~Base0() {}\n+Base1::Base1() {}\n+Base1::~Base1() {}\n+Base2::Base2() {}\n+Base2::~Base2() {}\n+VbasedA::VbasedA() {}\n+VbasedA::~VbasedA() {}\n+Multisv0::Multisv0() {}\n+Multisv0::~Multisv0() {}\n+Multivs1::Multivs1() {}\n+Multivs1::~Multivs1() {}\n+Multiss2::Multiss2() {}\n+Multiss2::~Multiss2() {}\n+Multivv3::Multivv3() {}\n+Multivv3::~Multivv3() {}\n+Side0::Side0() {}\n+Side0::~Side0() {}\n+\n+extern void x (VbasedA *);\n+extern void x2 (Multisv0 *);\n+extern void x3 (Multivs1 *);\n+extern void x4 (Multiss2 *);\n+extern void x5 (Multivv3 *);\n+void y () { VbasedA ii; x(&ii);}\n+void y2 () { Multisv0 ii; x2(&ii);}\n+void y3 () { Multivs1 ii; x3(&ii);}\n+void y4 () { Multiss2 ii; x4(&ii);}\n+void y5 () { Multivv3 ii; x5(&ii);}\n+void x (VbasedA *ii) { ii->f2();}\n+void x2 (Multisv0 *ii) { ii->f2();}\n+void x3 (Multivs1 *ii) { ii->f2();}\n+void x4 (Multiss2 *ii) { ii->f2();}\n+void x5 (Multivv3 *ii) { ii->f2();}\n+\n+// { dg-final { scan-assembler-dem vtgc1.C \"\\.vtable_inherit\\[ \\t\\]*Multivv3 virtual table, 0\" } }\n+// { dg-final { scan-assembler-dem vtgc1.C \"\\.vtable_inherit\\[ \\t\\]*Multivv3::Side0 virtual table, Side0 virtual table\" } }\n+// { dg-final { scan-assembler-dem vtgc1.C \"\\.vtable_inherit\\[ \\t\\]*Multivv3::Base2 virtual table, Base2 virtual table\" } }\n+// { dg-final { scan-assembler-dem vtgc1.C \"\\.vtable_inherit\\[ \\t\\]*Multiss2 virtual table, Base2 virtual table\" } }\n+// { dg-final { scan-assembler-dem vtgc1.C \"\\.vtable_inherit\\[ \\t\\]*Multiss2::Side0 virtual table, Side0 virtual table\" } }\n+// { dg-final { scan-assembler-dem vtgc1.C \"\\.vtable_inherit\\[ \\t\\]*Multivs1 virtual table, Base2 virtual table\" } }\n+// { dg-final { scan-assembler-dem vtgc1.C \"\\.vtable_inherit\\[ \\t\\]*Multivs1::Side0 virtual table, Side0 virtual table\" } }\n+// { dg-final { scan-assembler-dem vtgc1.C \"\\.vtable_inherit\\[ \\t\\]*Multisv0 virtual table, Side0 virtual table\" } }\n+// { dg-final { scan-assembler-dem vtgc1.C \"\\.vtable_inherit\\[ \\t\\]*Multisv0::Base2 virtual table, Base2 virtual table\" } }\n+// { dg-final { scan-assembler-dem vtgc1.C \"\\.vtable_inherit\\[ \\t\\]*Side0 virtual table, 0\" } }\n+// { dg-final { scan-assembler-dem vtgc1.C \"\\.vtable_inherit\\[ \\t\\]*VbasedA virtual table, 0\" } }\n+// { dg-final { scan-assembler-dem vtgc1.C \"\\.vtable_inherit\\[ \\t\\]*VbasedA::Base2 virtual table, Base2 virtual table\" } }\n+// { dg-final { scan-assembler-dem vtgc1.C \"\\.vtable_inherit\\[ \\t\\]*Base2 virtual table, Base1 virtual table\" } }\n+// { dg-final { scan-assembler-dem vtgc1.C \"\\.vtable_inherit\\[ \\t\\]*Base1 virtual table, Base0 virtual table\" } }\n+// { dg-final { scan-assembler-dem vtgc1.C \"\\.vtable_inherit\\[ \\t\\]*Base0 virtual table, 0\" } }"}]}