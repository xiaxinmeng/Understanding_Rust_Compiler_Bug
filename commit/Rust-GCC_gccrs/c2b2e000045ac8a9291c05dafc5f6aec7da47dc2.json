{"sha": "c2b2e000045ac8a9291c05dafc5f6aec7da47dc2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzJiMmUwMDAwNDVhYzhhOTI5MWMwNWRhZmM1ZjZhZWM3ZGE0N2RjMg==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "1999-03-14T09:18:03Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "1999-03-14T09:18:03Z"}, "message": "New test, for spurious \"variable may be clobbered by `longjmp' or `vfork'\"\nwarnings.\n\nFrom-SVN: r25765", "tree": {"sha": "7bad001189b196a13f577553c33055aea082c3f1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7bad001189b196a13f577553c33055aea082c3f1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c2b2e000045ac8a9291c05dafc5f6aec7da47dc2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2b2e000045ac8a9291c05dafc5f6aec7da47dc2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2b2e000045ac8a9291c05dafc5f6aec7da47dc2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2b2e000045ac8a9291c05dafc5f6aec7da47dc2/comments", "author": null, "committer": null, "parents": [{"sha": "407f03b8d71c2869f66877df32c9395c8e4fde18", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/407f03b8d71c2869f66877df32c9395c8e4fde18", "html_url": "https://github.com/Rust-GCC/gccrs/commit/407f03b8d71c2869f66877df32c9395c8e4fde18"}], "stats": {"total": 36, "additions": 36, "deletions": 0}, "files": [{"sha": "85e0fb4261fa06967adb3c66c4d6fc7827f53ada", "filename": "gcc/testsuite/gcc.dg/setjmp-1.c", "status": "added", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2b2e000045ac8a9291c05dafc5f6aec7da47dc2/gcc%2Ftestsuite%2Fgcc.dg%2Fsetjmp-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2b2e000045ac8a9291c05dafc5f6aec7da47dc2/gcc%2Ftestsuite%2Fgcc.dg%2Fsetjmp-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fsetjmp-1.c?ref=c2b2e000045ac8a9291c05dafc5f6aec7da47dc2", "patch": "@@ -0,0 +1,36 @@\n+/* Test for bogus \"variable `x' may be clobbered by longjmp\" warnings.\n+   Inspired by cse.c:simplify_relational_operation. */\n+\n+/* { dg-do compile } */\n+/* { dg-options \"-O -W -Wall\" } */\n+\n+#include <setjmp.h>\n+\n+extern void set_float_handler (jmp_buf *);\n+\n+#define EQ 0x01\n+#define LT 0x02\n+#define GT 0x04\n+\n+int\n+compare_float (double a, double b)  /* { dg-bogus \"clobbered\" \"spurious clobbered warning\" { xfail *-*-* } } */\n+{\n+  jmp_buf handler;\n+  int result;\n+\n+  a += 1.0;\n+\n+  if (setjmp (handler))\n+    {\n+      set_float_handler (0);\n+      return 0;\n+    }\n+\n+  set_float_handler (&handler);\n+  if (a == b) result = EQ;\n+  else if (a > b) result = LT;\n+  else if (a < b) result = GT;\n+  else result = 0;\n+  set_float_handler (0);\n+  return result;\n+}"}]}