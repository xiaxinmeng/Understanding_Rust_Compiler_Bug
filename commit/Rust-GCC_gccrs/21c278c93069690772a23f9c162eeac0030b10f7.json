{"sha": "21c278c93069690772a23f9c162eeac0030b10f7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjFjMjc4YzkzMDY5NjkwNzcyYTIzZjljMTYyZWVhYzAwMzBiMTBmNw==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2012-10-06T22:44:12Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2012-10-06T22:44:12Z"}, "message": "re PR c++/54249 ([C++11] No ::nullptr_t in header <stddef.h>)\n\n2012-10-06  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/54249\n\t* ginclude/stddef.h: In C++11 mode declare nullptr_t in the global\n\tnamespace.\n\n/testsuite\n2012-10-06  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/54249\n\t* g++.dg/cpp0x/stddef.C: New.\n\nFrom-SVN: r192173", "tree": {"sha": "80d49f82c98375af91e9f035dd46564ae94eae56", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/80d49f82c98375af91e9f035dd46564ae94eae56"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/21c278c93069690772a23f9c162eeac0030b10f7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21c278c93069690772a23f9c162eeac0030b10f7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/21c278c93069690772a23f9c162eeac0030b10f7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21c278c93069690772a23f9c162eeac0030b10f7/comments", "author": null, "committer": null, "parents": [{"sha": "55d5c6aff7d868b5a5abf89908df29603fd37f92", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55d5c6aff7d868b5a5abf89908df29603fd37f92", "html_url": "https://github.com/Rust-GCC/gccrs/commit/55d5c6aff7d868b5a5abf89908df29603fd37f92"}], "stats": {"total": 26, "additions": 25, "deletions": 1}, "files": [{"sha": "a198490318bb4a0ad90e9bfcce8a6529bb3c8fcd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21c278c93069690772a23f9c162eeac0030b10f7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21c278c93069690772a23f9c162eeac0030b10f7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=21c278c93069690772a23f9c162eeac0030b10f7", "patch": "@@ -1,3 +1,9 @@\n+2012-10-06  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/54249\n+\t* ginclude/stddef.h: In C++11 mode declare nullptr_t in the global\n+\tnamespace.\n+\n 2012-10-06  Jan Hubicka  <jh@suse.cz>\n \n \tPR lto/53831\n@@ -23,7 +29,7 @@\n \n 2012-10-06  Jan Hubicka  <jh@suse.cz>\n \n-\tPR lto/54790 \n+\tPR lto/54790\n \t* lto-streamer.h (lto_symtab_register_decl, lto_symtab_get_resolution,\n \tlto_mark_nothrow_fndecl, lto_fixup_nothrow_decls): Remove.\n \t* lto-symtab.c (lto_symtab_register_decl): Remove."}, {"sha": "9f6e7419ca1c0583f2529b36bc67623322d1358f", "filename": "gcc/ginclude/stddef.h", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21c278c93069690772a23f9c162eeac0030b10f7/gcc%2Fginclude%2Fstddef.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21c278c93069690772a23f9c162eeac0030b10f7/gcc%2Fginclude%2Fstddef.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fginclude%2Fstddef.h?ref=21c278c93069690772a23f9c162eeac0030b10f7", "patch": "@@ -427,6 +427,13 @@ typedef struct {\n #endif\n #endif /* C11 or C++11.  */\n \n+#if defined(__cplusplus) && __cplusplus >= 201103L\n+#ifndef _GXX_NULLPTR_T\n+#define _GXX_NULLPTR_T\n+  typedef decltype(nullptr) nullptr_t;\n+#endif\n+#endif /* C++11.  */\n+\n #endif /* _STDDEF_H was defined this time */\n \n #endif /* !_STDDEF_H && !_STDDEF_H_ && !_ANSI_STDDEF_H && !__STDDEF_H__"}, {"sha": "24a28b0b5faff6f049c76a9ba253c728adfc6fec", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21c278c93069690772a23f9c162eeac0030b10f7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21c278c93069690772a23f9c162eeac0030b10f7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=21c278c93069690772a23f9c162eeac0030b10f7", "patch": "@@ -1,3 +1,8 @@\n+2012-10-06  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/54249\n+\t* g++.dg/cpp0x/stddef.C: New.\n+\n 2012-10-06  Janus Weil  <janus@gcc.gnu.org>\n \n \tPR fortran/54832"}, {"sha": "dad9200cc011775db35a1b8f6f2c25b5108fb708", "filename": "gcc/testsuite/g++.dg/cpp0x/stddef.C", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21c278c93069690772a23f9c162eeac0030b10f7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fstddef.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21c278c93069690772a23f9c162eeac0030b10f7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fstddef.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fstddef.C?ref=21c278c93069690772a23f9c162eeac0030b10f7", "patch": "@@ -0,0 +1,6 @@\n+// PR c++/54249\n+// { dg-do compile { target c++11 } }\n+\n+#include <stddef.h>\n+\n+::nullptr_t n;"}]}