{"sha": "006339cde4079778a003f75127e5bc7fbcde256d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDA2MzM5Y2RlNDA3OTc3OGEwMDNmNzUxMjdlNWJjN2ZiY2RlMjU2ZA==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2007-01-19T11:06:56Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2007-01-19T11:06:56Z"}, "message": "tm.texi (TARGET_HAS_SINCOS): Document new target macro.\n\n2007-01-19  Richard Guenther  <rguenther@suse.de>\n\n\t* doc/tm.texi (TARGET_HAS_SINCOS): Document new target macro.\n\t* defaults.h (TARGET_HAS_SINCOS): Default to off.\n\t* config/linux.h (TARGET_HAS_SINCOS): Set to on if we have glibc.\n\t* config/alpha/linux.h (TARGET_HAS_SINCOS): Likewise.\n\t* config/sparc/linux.h (TARGET_HAS_SINCOS): Likewise.\n\t* config/sparc/linux64.h (TARGET_HAS_SINCOS): Likewise.\n\t* config/rs6000/linux.h (TARGET_HAS_SINCOS): Likewise.\n\t* config/rs6000/linux64.h (TARGET_HAS_SINCOS): Likewise.\n\nFrom-SVN: r120952", "tree": {"sha": "9b2970cfe38e303f9d2cf7b3d12347e9babb016e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9b2970cfe38e303f9d2cf7b3d12347e9babb016e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/006339cde4079778a003f75127e5bc7fbcde256d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/006339cde4079778a003f75127e5bc7fbcde256d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/006339cde4079778a003f75127e5bc7fbcde256d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/006339cde4079778a003f75127e5bc7fbcde256d/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "8ef4f42c93e00dc873de984525712f2aad5b7036", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ef4f42c93e00dc873de984525712f2aad5b7036", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8ef4f42c93e00dc873de984525712f2aad5b7036"}], "stats": {"total": 49, "additions": 49, "deletions": 0}, "files": [{"sha": "bd50a12f93ffc01e3842e9092c624bbc14f77af1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/006339cde4079778a003f75127e5bc7fbcde256d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/006339cde4079778a003f75127e5bc7fbcde256d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=006339cde4079778a003f75127e5bc7fbcde256d", "patch": "@@ -1,3 +1,14 @@\n+2007-01-19  Richard Guenther  <rguenther@suse.de>\n+\n+\t* doc/tm.texi (TARGET_HAS_SINCOS): Document new target macro.\n+\t* defaults.h (TARGET_HAS_SINCOS): Default to off.\n+\t* config/linux.h (TARGET_HAS_SINCOS): Set to on if we have glibc.\n+\t* config/alpha/linux.h (TARGET_HAS_SINCOS): Likewise.\n+\t* config/sparc/linux.h (TARGET_HAS_SINCOS): Likewise.\n+\t* config/sparc/linux64.h (TARGET_HAS_SINCOS): Likewise.\n+\t* config/rs6000/linux.h (TARGET_HAS_SINCOS): Likewise.\n+\t* config/rs6000/linux64.h (TARGET_HAS_SINCOS): Likewise.\n+\n 2007-01-19  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* config/i386/i386.md (*fpatanxf3_i387, fpatan_extend<mode>xf3_i387):"}, {"sha": "a496f40aa5e0fea9a73e479280500010a847a0b9", "filename": "gcc/config/alpha/linux.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/006339cde4079778a003f75127e5bc7fbcde256d/gcc%2Fconfig%2Falpha%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/006339cde4079778a003f75127e5bc7fbcde256d/gcc%2Fconfig%2Falpha%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Flinux.h?ref=006339cde4079778a003f75127e5bc7fbcde256d", "patch": "@@ -66,6 +66,9 @@ Boston, MA 02110-1301, USA.  */\n    runtime library.  */\n #define TARGET_C99_FUNCTIONS (OPTION_GLIBC)\n \n+/* Whether we have sincos that follows the GNU extension.  */\n+#define TARGET_HAS_SINCOS (OPTION_GLIBC)\n+\n #define TARGET_POSIX_IO\n \n #define LINK_GCC_C_SEQUENCE_SPEC \\"}, {"sha": "0907837434075f12869ac0700902be2a45659964", "filename": "gcc/config/linux.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/006339cde4079778a003f75127e5bc7fbcde256d/gcc%2Fconfig%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/006339cde4079778a003f75127e5bc7fbcde256d/gcc%2Fconfig%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Flinux.h?ref=006339cde4079778a003f75127e5bc7fbcde256d", "patch": "@@ -126,4 +126,7 @@ Boston, MA 02110-1301, USA.  */\n    is present in the runtime library.  */\n #define TARGET_C99_FUNCTIONS (OPTION_GLIBC)\n \n+/* Whether we have sincos that follows the GNU extension.  */\n+#define TARGET_HAS_SINCOS (OPTION_GLIBC)\n+\n #define TARGET_POSIX_IO"}, {"sha": "c6a6fda00689f809949e7cb22cb1ceb990e602b6", "filename": "gcc/config/rs6000/linux.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/006339cde4079778a003f75127e5bc7fbcde256d/gcc%2Fconfig%2Frs6000%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/006339cde4079778a003f75127e5bc7fbcde256d/gcc%2Fconfig%2Frs6000%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Flinux.h?ref=006339cde4079778a003f75127e5bc7fbcde256d", "patch": "@@ -35,6 +35,10 @@\n #undef  TARGET_C99_FUNCTIONS\n #define TARGET_C99_FUNCTIONS (OPTION_GLIBC)\n \n+/* Whether we have sincos that follows the GNU extension.  */\n+#undef  TARGET_HAS_SINCOS\n+#define TARGET_HAS_SINCOS (OPTION_GLIBC)\n+\n #undef  TARGET_OS_CPP_BUILTINS\n #define TARGET_OS_CPP_BUILTINS()\t\t\\\n   do\t\t\t\t\t\t\\"}, {"sha": "5b954a9535d297d339d2cf254adfae134ba13299", "filename": "gcc/config/rs6000/linux64.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/006339cde4079778a003f75127e5bc7fbcde256d/gcc%2Fconfig%2Frs6000%2Flinux64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/006339cde4079778a003f75127e5bc7fbcde256d/gcc%2Fconfig%2Frs6000%2Flinux64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Flinux64.h?ref=006339cde4079778a003f75127e5bc7fbcde256d", "patch": "@@ -285,6 +285,10 @@ extern int dot_symbols;\n #undef  TARGET_C99_FUNCTIONS\n #define TARGET_C99_FUNCTIONS (OPTION_GLIBC)\n \n+/* Whether we have sincos that follows the GNU extension.  */\n+#undef  TARGET_HAS_SINCOS\n+#define TARGET_HAS_SINCOS (OPTION_GLIBC)\n+\n #undef  TARGET_OS_CPP_BUILTINS\n #define TARGET_OS_CPP_BUILTINS()\t\t\t\\\n   do\t\t\t\t\t\t\t\\"}, {"sha": "7c50d3c6139ce2f0cd82cbd9fea5ac3ba7203982", "filename": "gcc/config/sparc/linux.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/006339cde4079778a003f75127e5bc7fbcde256d/gcc%2Fconfig%2Fsparc%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/006339cde4079778a003f75127e5bc7fbcde256d/gcc%2Fconfig%2Fsparc%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Flinux.h?ref=006339cde4079778a003f75127e5bc7fbcde256d", "patch": "@@ -215,6 +215,9 @@ do {\t\t\t\t\t\t\t\t\t\\\n    runtime library.  */\n #define TARGET_C99_FUNCTIONS (OPTION_GLIBC)\n \n+/* Whether we have sincos that follows the GNU extension.  */\n+#define TARGET_HAS_SINCOS (OPTION_GLIBC)\n+\n #define TARGET_POSIX_IO\n \n #undef LINK_GCC_C_SEQUENCE_SPEC"}, {"sha": "60bda622cc7b48355f86253f7bb4dd31bea6f7fa", "filename": "gcc/config/sparc/linux64.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/006339cde4079778a003f75127e5bc7fbcde256d/gcc%2Fconfig%2Fsparc%2Flinux64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/006339cde4079778a003f75127e5bc7fbcde256d/gcc%2Fconfig%2Fsparc%2Flinux64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Flinux64.h?ref=006339cde4079778a003f75127e5bc7fbcde256d", "patch": "@@ -347,6 +347,9 @@ do {\t\t\t\t\t\t\t\t\t\\\n    runtime library.  */\n #define TARGET_C99_FUNCTIONS (OPTION_GLIBC)\n \n+/* Whether we have sincos that follows the GNU extension.  */\n+#define TARGET_HAS_SINCOS (OPTION_GLIBC)\n+\n #define TARGET_POSIX_IO\n \n #undef LINK_GCC_C_SEQUENCE_SPEC"}, {"sha": "b17d59e19403df5a7238db536784ea9e57ae2eda", "filename": "gcc/defaults.h", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/006339cde4079778a003f75127e5bc7fbcde256d/gcc%2Fdefaults.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/006339cde4079778a003f75127e5bc7fbcde256d/gcc%2Fdefaults.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdefaults.h?ref=006339cde4079778a003f75127e5bc7fbcde256d", "patch": "@@ -796,6 +796,12 @@ Software Foundation, 51 Franklin Street, Fifth Floor, Boston, MA\n #define TARGET_C99_FUNCTIONS 0\n #endif\n \n+/* Determine whether the target runtime library has\n+   a sincos implementation following the GNU extension.  */\n+#ifndef TARGET_HAS_SINCOS\n+#define TARGET_HAS_SINCOS 0\n+#endif\n+\n /* Indicate that CLZ and CTZ are undefined at zero.  */\n #ifndef CLZ_DEFINED_VALUE_AT_ZERO\n #define CLZ_DEFINED_VALUE_AT_ZERO(MODE, VALUE)  0"}, {"sha": "33905757a50c0965c4342a2fb6c20339a0016f70", "filename": "gcc/doc/tm.texi", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/006339cde4079778a003f75127e5bc7fbcde256d/gcc%2Fdoc%2Ftm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/006339cde4079778a003f75127e5bc7fbcde256d/gcc%2Fdoc%2Ftm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Ftm.texi?ref=006339cde4079778a003f75127e5bc7fbcde256d", "patch": "@@ -5061,6 +5061,18 @@ number of existing systems lacks support for these functions in the runtime so\n they needs this macro to be redefined to 0.\n @end defmac\n \n+@cindex sincos math function, implicit usage\n+@defmac TARGET_HAS_SINCOS\n+When this macro is nonzero, GCC will implicitly optimize calls to @code{sin}\n+and @code{cos} with the same argument to a call to @code{sincos}.  The\n+default is zero.  The target has to provide the following functions:\n+@smallexample\n+void sincos(double x, double *sin, double *cos);\n+void sincosf(float x, float *sin, float *cos);\n+void sincosl(long double x, long double *sin, long double *cos);\n+@end smallexample\n+@end defmac\n+\n @defmac NEXT_OBJC_RUNTIME\n Define this macro to generate code for Objective-C message sending using\n the calling convention of the NeXT system.  This calling convention"}]}