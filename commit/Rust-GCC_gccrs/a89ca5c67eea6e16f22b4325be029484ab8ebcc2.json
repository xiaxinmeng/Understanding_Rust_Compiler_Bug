{"sha": "a89ca5c67eea6e16f22b4325be029484ab8ebcc2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTg5Y2E1YzY3ZWVhNmUxNmYyMmI0MzI1YmUwMjk0ODRhYjhlYmNjMg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-04-26T21:23:10Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-04-26T21:23:10Z"}, "message": "(init_attributes): Don't require decl for A_PACKED.\n\n(decl_attributes, case A_PACKED): Set TYPE_PACKED for type.\n\nFrom-SVN: r9485", "tree": {"sha": "8247a46502c75f726dbffdd10d4a72c04709748c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8247a46502c75f726dbffdd10d4a72c04709748c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a89ca5c67eea6e16f22b4325be029484ab8ebcc2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a89ca5c67eea6e16f22b4325be029484ab8ebcc2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a89ca5c67eea6e16f22b4325be029484ab8ebcc2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a89ca5c67eea6e16f22b4325be029484ab8ebcc2/comments", "author": null, "committer": null, "parents": [{"sha": "a0053f2b87a6bd8d8b2742e75719118dfd31f516", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0053f2b87a6bd8d8b2742e75719118dfd31f516", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a0053f2b87a6bd8d8b2742e75719118dfd31f516"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "474586ec81ddea5fc4fd0f3afee5b57ade5c6455", "filename": "gcc/c-common.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a89ca5c67eea6e16f22b4325be029484ab8ebcc2/gcc%2Fc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a89ca5c67eea6e16f22b4325be029484ab8ebcc2/gcc%2Fc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-common.c?ref=a89ca5c67eea6e16f22b4325be029484ab8ebcc2", "patch": "@@ -246,7 +246,7 @@ add_attribute (id, string, min_len, max_len, decl_req)\n static void\n init_attributes ()\n {\n-  add_attribute (A_PACKED, \"packed\", 0, 0, 1);\n+  add_attribute (A_PACKED, \"packed\", 0, 0, 0);\n   add_attribute (A_NOCOMMON, \"nocommon\", 0, 0, 1);\n   add_attribute (A_NORETURN, \"noreturn\", 0, 0, 1);\n   add_attribute (A_NORETURN, \"volatile\", 0, 0, 1);\n@@ -325,7 +325,9 @@ decl_attributes (node, attributes, prefix_attributes)\n       switch (id)\n \t{\n \tcase A_PACKED:\n-\t  if (TREE_CODE (decl) == FIELD_DECL)\n+\t  if (decl == 0)\n+\t    TYPE_PACKED (type) = 1;\n+\t  else if (TREE_CODE (decl) == FIELD_DECL)\n \t    DECL_PACKED (decl) = 1;\n \t  /* We can't set DECL_PACKED for a VAR_DECL, because the bit is\n \t     used for DECL_REGISTER.  It wouldn't mean anything anyway.  */"}]}