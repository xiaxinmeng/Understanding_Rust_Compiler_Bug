{"sha": "20276dc9d1b4222926d4670c55933c121fa3d2e3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjAyNzZkYzlkMWI0MjIyOTI2ZDQ2NzBjNTU5MzNjMTIxZmEzZDJlMw==", "commit": {"author": {"name": "Jeff Law", "email": "law@redhat.com", "date": "2016-10-21T20:41:34Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2016-10-21T20:41:34Z"}, "message": "re PR tree-optimization/71947 (x ^ y not folded to 0 if x == y by DOM)\n\n\t* PR tree-optimization/71947\n\t* gcc.dg/tree-ssa/pr71947-4.c: Avoid x86 opcode.\n\t* gcc.dg/tree-ssa/pr71947-5.c: Likewise.\n\t* gcc.dg/tree-ssa/pr71947-6.c: Make it opt-in rather than opt-out.\n\nFrom-SVN: r241429", "tree": {"sha": "e8d4f545cd8a8fb810c4795f58f01c51ba021ea9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e8d4f545cd8a8fb810c4795f58f01c51ba021ea9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/20276dc9d1b4222926d4670c55933c121fa3d2e3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20276dc9d1b4222926d4670c55933c121fa3d2e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/20276dc9d1b4222926d4670c55933c121fa3d2e3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20276dc9d1b4222926d4670c55933c121fa3d2e3/comments", "author": null, "committer": null, "parents": [{"sha": "f75036994f9d6945265d02cb29de502d6d7d538d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f75036994f9d6945265d02cb29de502d6d7d538d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f75036994f9d6945265d02cb29de502d6d7d538d"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "09db0f8c0504ca12ec967f0e40e3bcafcffc1884", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/20276dc9d1b4222926d4670c55933c121fa3d2e3/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/20276dc9d1b4222926d4670c55933c121fa3d2e3/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=20276dc9d1b4222926d4670c55933c121fa3d2e3", "patch": "@@ -1,3 +1,10 @@\n+2016-10-21  Jeff Law  <law@redhat.com>\n+\n+\t* PR tree-optimization/71947\n+\t* gcc.dg/tree-ssa/pr71947-4.c: Avoid x86 opcode.\n+\t* gcc.dg/tree-ssa/pr71947-5.c: Likewise.\n+\t* gcc.dg/tree-ssa/pr71947-6.c: Make it opt-in rather than opt-out.\n+\n 2016-10-21  Kugan Vivekanandarajah  <kuganv@linaro.org>\n \n \t* gcc.dg/ipa/vrp5.c: New test."}, {"sha": "a2b19fe9df6478dfc30c11557c8d5ea22e5fd877", "filename": "gcc/testsuite/gcc.dg/tree-ssa/pr71947-4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/20276dc9d1b4222926d4670c55933c121fa3d2e3/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr71947-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/20276dc9d1b4222926d4670c55933c121fa3d2e3/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr71947-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr71947-4.c?ref=20276dc9d1b4222926d4670c55933c121fa3d2e3", "patch": "@@ -6,7 +6,7 @@\n static inline long load(long *p)\n {\n         long ret;\n-        asm (\"movq      %1,%0\\n\\t\" : \"=r\" (ret) : \"m\" (*p));\n+        asm (\"xyzzy      %1,%0\\n\\t\" : \"=r\" (ret) : \"m\" (*p));\n         if (ret != *p)\n                 __builtin_unreachable();\n         return ret;"}, {"sha": "e7038d0237ffffd424026d747f149511ef480ee9", "filename": "gcc/testsuite/gcc.dg/tree-ssa/pr71947-5.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/20276dc9d1b4222926d4670c55933c121fa3d2e3/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr71947-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/20276dc9d1b4222926d4670c55933c121fa3d2e3/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr71947-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr71947-5.c?ref=20276dc9d1b4222926d4670c55933c121fa3d2e3", "patch": "@@ -5,7 +5,7 @@\n static inline long load(long *p)\n {\n         long ret;\n-        asm (\"movq      %1,%0\\n\\t\" : \"=r\" (ret) : \"m\" (*p));\n+        asm (\"xyzzy      %1,%0\\n\\t\" : \"=r\" (ret) : \"m\" (*p));\n         if (ret != *p)\n                 __builtin_unreachable();\n         return ret;"}, {"sha": "9463535c6ca1b2e74861209850097bf08bab7af5", "filename": "gcc/testsuite/gcc.dg/tree-ssa/pr71947-6.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/20276dc9d1b4222926d4670c55933c121fa3d2e3/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr71947-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/20276dc9d1b4222926d4670c55933c121fa3d2e3/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr71947-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr71947-6.c?ref=20276dc9d1b4222926d4670c55933c121fa3d2e3", "patch": "@@ -1,4 +1,5 @@\n-/* { dg-do compile } */\n+/* This is highly dependent on branch costing, so make it opt-in.  */\n+/* { dg-do compile { target { i?86-*-* x86_64-*-* } } } */\n /* { dg-options \"-O2 -fno-tree-vrp -fdump-tree-dom-details\" } */\n \n "}]}