{"sha": "25dd13ece0ff96888ad87c1832b7cccda32ade1e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjVkZDEzZWNlMGZmOTY4ODhhZDg3YzE4MzJiN2NjY2RhMzJhZGUxZQ==", "commit": {"author": {"name": "James E. Wilson", "email": "wilson@bletchleypark.cygnus.com", "date": "2000-06-08T22:33:18Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "2000-06-08T22:33:18Z"}, "message": "Emit correct debug info for 64-bit signed enums on 64-bit host.\n\n\t* dwarf2out.c (size_of_die, case dw_val_class_const): Use\n\tsize_of_sleb128.\n\t(value_format, case dw_val_class_const): Use sdata format.\n\t(output_die): Call output_sleb128.\n\nFrom-SVN: r34462", "tree": {"sha": "956f42aebb68eeef0bdc8cd861854671d0f0dbfe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/956f42aebb68eeef0bdc8cd861854671d0f0dbfe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/25dd13ece0ff96888ad87c1832b7cccda32ade1e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25dd13ece0ff96888ad87c1832b7cccda32ade1e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/25dd13ece0ff96888ad87c1832b7cccda32ade1e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25dd13ece0ff96888ad87c1832b7cccda32ade1e/comments", "author": null, "committer": null, "parents": [{"sha": "6c820cf2ec17eb1655f8729d67eb2cd0dc81699d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c820cf2ec17eb1655f8729d67eb2cd0dc81699d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c820cf2ec17eb1655f8729d67eb2cd0dc81699d"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "1971ecbedb2b53d2f731f25be154083d062855b5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25dd13ece0ff96888ad87c1832b7cccda32ade1e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25dd13ece0ff96888ad87c1832b7cccda32ade1e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=25dd13ece0ff96888ad87c1832b7cccda32ade1e", "patch": "@@ -1,3 +1,10 @@\n+2000-06-08  James E. Wilson  <wilson@bletchleypark.cygnus.com>\n+\n+\t* dwarf2out.c (size_of_die, case dw_val_class_const): Use\n+\tsize_of_sleb128.\n+\t(value_format, case dw_val_class_const): Use sdata format.\n+\t(output_die): Call output_sleb128.\n+\n 2000-06-08  Mark Mitchell  <mark@codesourcery.com>\n \n \t* invoke.texi: Remove documentation for -fsquangle and"}, {"sha": "58be8c47616a7fd3a61c63b6bbcd9681b08262af", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25dd13ece0ff96888ad87c1832b7cccda32ade1e/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25dd13ece0ff96888ad87c1832b7cccda32ade1e/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=25dd13ece0ff96888ad87c1832b7cccda32ade1e", "patch": "@@ -4644,7 +4644,7 @@ size_of_die (die)\n \t  }\n \t  break;\n \tcase dw_val_class_const:\n-\t  size += 4;\n+\t  size += size_of_sleb128 (AT_int (a));\n \t  break;\n \tcase dw_val_class_unsigned_const:\n \t  size += constant_size (AT_unsigned (a));\n@@ -4801,7 +4801,7 @@ value_format (a)\n \t  abort ();\n \t}\n     case dw_val_class_const:\n-      return DW_FORM_data4;\n+      return DW_FORM_sdata;\n     case dw_val_class_unsigned_const:\n       switch (constant_size (AT_unsigned (a)))\n \t{\n@@ -5089,7 +5089,10 @@ output_die (die)\n \t  break;\n \n \tcase dw_val_class_const:\n-\t  ASM_OUTPUT_DWARF_DATA4 (asm_out_file, AT_int (a));\n+\t  /* ??? It would be slightly more efficient to use a scheme like is\n+\t     used for unsigned constants below, but gdb 4.x does not sign\n+\t     extend.  Gdb 5.x does sign extend.  */\n+\t  output_sleb128 (AT_int (a));\n \t  break;\n \n \tcase dw_val_class_unsigned_const:"}]}