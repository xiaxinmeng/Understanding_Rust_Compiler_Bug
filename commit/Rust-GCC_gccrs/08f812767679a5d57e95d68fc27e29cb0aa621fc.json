{"sha": "08f812767679a5d57e95d68fc27e29cb0aa621fc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDhmODEyNzY3Njc5YTVkNTdlOTVkNjhmYzI3ZTI5Y2IwYWE2MjFmYw==", "commit": {"author": {"name": "Marek Michalkiewicz", "email": "marekm@linux.org.pl", "date": "2000-10-13T17:30:15Z"}, "committer": {"name": "Denis Chertykov", "email": "denisc@gcc.gnu.org", "date": "2000-10-13T17:30:15Z"}, "message": "avr.c (output_movhi, [...]): Fix loading constants 1 and 2 to NO_LD_REGS.\n\n\t* config/avr/avr.c (output_movhi, output_movsisf): Fix loading\n\tconstants 1 and 2 to NO_LD_REGS.\n\nFrom-SVN: r36862", "tree": {"sha": "1e6d64b8cf487cf45ade6e4effd627a8a8f8ce2b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1e6d64b8cf487cf45ade6e4effd627a8a8f8ce2b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/08f812767679a5d57e95d68fc27e29cb0aa621fc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08f812767679a5d57e95d68fc27e29cb0aa621fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/08f812767679a5d57e95d68fc27e29cb0aa621fc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08f812767679a5d57e95d68fc27e29cb0aa621fc/comments", "author": null, "committer": null, "parents": [{"sha": "4b9454025b3a5dc0f7bed051d5026a09b5db6376", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b9454025b3a5dc0f7bed051d5026a09b5db6376", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4b9454025b3a5dc0f7bed051d5026a09b5db6376"}], "stats": {"total": 35, "additions": 25, "deletions": 10}, "files": [{"sha": "899008330e0a17b5a7e411208065e4d331f833aa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08f812767679a5d57e95d68fc27e29cb0aa621fc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08f812767679a5d57e95d68fc27e29cb0aa621fc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=08f812767679a5d57e95d68fc27e29cb0aa621fc", "patch": "@@ -1,3 +1,8 @@\n+2000-10-12  Marek Michalkiewicz  <marekm@linux.org.pl>\n+\n+\t* config/avr/avr.c (output_movhi, output_movsisf): Fix loading\n+\tconstants 1 and 2 to NO_LD_REGS.\n+\n 2000-10-13  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* Makefile.in (c-parse.c, tradcif.c): Create atomically."}, {"sha": "e8926b3fa1fa785861496e08c6ea6446f99b751b", "filename": "gcc/config/avr/avr.c", "status": "modified", "additions": 20, "deletions": 10, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08f812767679a5d57e95d68fc27e29cb0aa621fc/gcc%2Fconfig%2Favr%2Favr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08f812767679a5d57e95d68fc27e29cb0aa621fc/gcc%2Fconfig%2Favr%2Favr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Favr%2Favr.c?ref=08f812767679a5d57e95d68fc27e29cb0aa621fc", "patch": "@@ -1616,9 +1616,10 @@ output_movhi (insn, operands, l)\n \t\t      return AS1 (inc,%0 ; reg_was_0);\n \t\t    }\n \n-\t\t  *l = 2;\n-\t\t  return (AS1 (clr,%0) CR_TAB\n-\t\t\t  AS1 (inc,%0));\n+\t\t  *l = 3;\n+\t\t  return (AS1 (clr,%A0) CR_TAB\n+\t\t\t  AS1 (clr,%B0) CR_TAB\n+\t\t\t  AS1 (inc,%A0));\n \t\t}\n \t      else if (src == const2_rtx)\n \t\t{\n@@ -1629,10 +1630,11 @@ output_movhi (insn, operands, l)\n \t\t\t      AS1 (inc,%0));\n \t\t    }\n \n-\t\t  *l = 3;\n-\t\t  return (AS1 (clr,%0) CR_TAB\n-\t\t\t  AS1 (inc,%0) CR_TAB\n-\t\t\t  AS1 (inc,%0));\n+\t\t  *l = 4;\n+\t\t  return (AS1 (clr,%A0) CR_TAB\n+\t\t\t  AS1 (clr,%B0) CR_TAB\n+\t\t\t  AS1 (inc,%A0) CR_TAB\n+\t\t\t  AS1 (inc,%A0));\n \t\t}\n \t      else if (src == constm1_rtx)\n \t\t{\n@@ -2280,11 +2282,19 @@ output_movsisf(insn, operands, l)\n \t\t      *l = 1;\n \t\t      return AS1 (inc,%A0 ; reg_was_0);\n \t\t    }\n-\n-\t\t  *l = 4;\n-\t\t  return (AS1 (clr,%D0) CR_TAB\n+\t\t  if (AVR_ENHANCED)\n+\t\t    {\n+\t\t      *l = 4;\n+\t\t      return (AS1 (clr,%A0) CR_TAB\n+\t\t\t      AS1 (clr,%B0) CR_TAB\n+\t\t\t      AS2 (movw,%C0,%A0) CR_TAB\n+\t\t\t      AS1 (inc,%A0));\n+\t\t    }\n+\t\t  *l = 5;\n+\t\t  return (AS1 (clr,%A0) CR_TAB\n \t\t\t  AS1 (clr,%B0) CR_TAB\n \t\t\t  AS1 (clr,%C0) CR_TAB\n+\t\t\t  AS1 (clr,%D0) CR_TAB\n \t\t\t  AS1 (inc,%A0));\n \t\t}\n \t      else if (src == const2_rtx)"}]}