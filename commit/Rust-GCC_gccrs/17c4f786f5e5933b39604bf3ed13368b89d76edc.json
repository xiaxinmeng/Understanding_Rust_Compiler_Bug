{"sha": "17c4f786f5e5933b39604bf3ed13368b89d76edc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTdjNGY3ODZmNWU1OTMzYjM5NjA0YmYzZWQxMzM2OGI4OWQ3NmVkYw==", "commit": {"author": {"name": "Andreas Schwab", "email": "schwab@linux-m68k.org", "date": "2012-06-07T12:12:01Z"}, "committer": {"name": "Andreas Schwab", "email": "schwab@gcc.gnu.org", "date": "2012-06-07T12:12:01Z"}, "message": "genhooks.c (main): Set progname.\n\n* genhooks.c (main): Set progname.\n(emit_documentation): Remove variable found_start, always bail out\nwhen a place is missing.\n* doc/tm.texi.in (C++ ABI): Add @hook\nTARGET_CXX_DECL_MANGLING_CONTEXT.\n\nFrom-SVN: r188302", "tree": {"sha": "4355029694cf69e692de09aec13f4bafdbb95353", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4355029694cf69e692de09aec13f4bafdbb95353"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/17c4f786f5e5933b39604bf3ed13368b89d76edc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17c4f786f5e5933b39604bf3ed13368b89d76edc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/17c4f786f5e5933b39604bf3ed13368b89d76edc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17c4f786f5e5933b39604bf3ed13368b89d76edc/comments", "author": {"login": "andreas-schwab", "id": 2175493, "node_id": "MDQ6VXNlcjIxNzU0OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2175493?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andreas-schwab", "html_url": "https://github.com/andreas-schwab", "followers_url": "https://api.github.com/users/andreas-schwab/followers", "following_url": "https://api.github.com/users/andreas-schwab/following{/other_user}", "gists_url": "https://api.github.com/users/andreas-schwab/gists{/gist_id}", "starred_url": "https://api.github.com/users/andreas-schwab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andreas-schwab/subscriptions", "organizations_url": "https://api.github.com/users/andreas-schwab/orgs", "repos_url": "https://api.github.com/users/andreas-schwab/repos", "events_url": "https://api.github.com/users/andreas-schwab/events{/privacy}", "received_events_url": "https://api.github.com/users/andreas-schwab/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "94d145bf5bb4260cb02d43434ab48eb6d6ffe0cd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94d145bf5bb4260cb02d43434ab48eb6d6ffe0cd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/94d145bf5bb4260cb02d43434ab48eb6d6ffe0cd"}], "stats": {"total": 18, "additions": 14, "deletions": 4}, "files": [{"sha": "35f54dc3ad21933e41f61ea77cef9c8d319895d7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17c4f786f5e5933b39604bf3ed13368b89d76edc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17c4f786f5e5933b39604bf3ed13368b89d76edc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=17c4f786f5e5933b39604bf3ed13368b89d76edc", "patch": "@@ -1,3 +1,11 @@\n+2012-06-07  Andreas Schwab  <schwab@linux-m68k.org>\n+\n+\t* genhooks.c (main): Set progname.\n+\t(emit_documentation): Remove variable found_start, always bail out\n+\twhen a place is missing.\n+\t* doc/tm.texi.in (C++ ABI): Add @hook\n+\tTARGET_CXX_DECL_MANGLING_CONTEXT.\n+\n 2012-06-07  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR middle-end/53580"}, {"sha": "79b9e6eabef7d94a8b523f315a01086c7aca3297", "filename": "gcc/doc/tm.texi.in", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17c4f786f5e5933b39604bf3ed13368b89d76edc/gcc%2Fdoc%2Ftm.texi.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17c4f786f5e5933b39604bf3ed13368b89d76edc/gcc%2Fdoc%2Ftm.texi.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Ftm.texi.in?ref=17c4f786f5e5933b39604bf3ed13368b89d76edc", "patch": "@@ -10077,6 +10077,8 @@ unloaded. The default is to return false.\n \n @hook TARGET_CXX_ADJUST_CLASS_AT_DEFINITION\n \n+@hook TARGET_CXX_DECL_MANGLING_CONTEXT\n+\n @node Named Address Spaces\n @section Adding support for named address spaces\n @cindex named address spaces"}, {"sha": "19bfb5a91998d662c97f80ed058436fb8e7b4934", "filename": "gcc/genhooks.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17c4f786f5e5933b39604bf3ed13368b89d76edc/gcc%2Fgenhooks.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17c4f786f5e5933b39604bf3ed13368b89d76edc/gcc%2Fgenhooks.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgenhooks.c?ref=17c4f786f5e5933b39604bf3ed13368b89d76edc", "patch": "@@ -1,6 +1,6 @@\n /* Process target.def to create initialization macros definition in\n    target-hooks-def.h and documentation in target-hooks.texi.\n-   Copyright (C) 2009, 2010, 2011 Free Software Foundation, Inc.\n+   Copyright (C) 2009, 2010, 2011, 2012 Free Software Foundation, Inc.\n \n This file is part of GCC.\n \n@@ -120,7 +120,6 @@ emit_documentation (const char *in_fname)\n   char buf[1000];\n   htab_t start_hooks = htab_create (99, s_hook_hash, s_hook_eq_p, (htab_del) 0);\n   FILE *f;\n-  bool found_start = false;\n \n   /* Enter all the start hooks in start_hooks.  */\n   f = fopen (in_fname, \"r\");\n@@ -164,9 +163,8 @@ emit_documentation (const char *in_fname)\n \t  if (shp->pos >= 0)\n \t    fatal (\"Duplicate hook %s\\n\", sh.name);\n \t  shp->pos = i;\n-\t  found_start = true;\n \t}\n-      else if (!found_start)\n+      else\n \tfatal (\"No place specified to document hook %s\\n\", sh.name);\n       free (sh.name);\n     }\n@@ -341,6 +339,8 @@ emit_init_macros (const char *docname)\n int\n main (int argc, char **argv)\n {\n+  progname = \"genhooks\";\n+\n   if (argc >= 3)\n     emit_documentation (argv[2]);\n   else"}]}