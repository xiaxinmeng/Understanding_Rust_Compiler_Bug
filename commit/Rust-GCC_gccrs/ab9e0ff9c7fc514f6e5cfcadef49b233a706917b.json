{"sha": "ab9e0ff9c7fc514f6e5cfcadef49b233a706917b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWI5ZTBmZjljN2ZjNTE0ZjZlNWNmY2FkZWY0OWIyMzNhNzA2OTE3Yg==", "commit": {"author": {"name": "Dave Brolley", "email": "brolley@cygnus.com", "date": "1998-06-10T10:18:45Z"}, "committer": {"name": "Dave Brolley", "email": "brolley@gcc.gnu.org", "date": "1998-06-10T10:18:45Z"}, "message": "New interface for lang_decode_option.\n\nWed Jun 10 13:17:32 1998  Dave Brolley  <brolley@cygnus.com>\n\t* top.h (ffe_decode_option): New argc/argv interface.\n\t* top.c (ffe_decode_option): New argc/argv interface.\n\t* parse.c (yyparse): New argc/argv interface for ffe_decode_option.\n\t* com.c (lang_decode_option): New argc/argv interface.\n\nFrom-SVN: r20409", "tree": {"sha": "83471fce0622c0edc93ed0faa3f673c2747f8c70", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/83471fce0622c0edc93ed0faa3f673c2747f8c70"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ab9e0ff9c7fc514f6e5cfcadef49b233a706917b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab9e0ff9c7fc514f6e5cfcadef49b233a706917b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab9e0ff9c7fc514f6e5cfcadef49b233a706917b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab9e0ff9c7fc514f6e5cfcadef49b233a706917b/comments", "author": null, "committer": null, "parents": [{"sha": "297441fd872faf63cfb9ed802975fc8ebcb69a91", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/297441fd872faf63cfb9ed802975fc8ebcb69a91", "html_url": "https://github.com/Rust-GCC/gccrs/commit/297441fd872faf63cfb9ed802975fc8ebcb69a91"}], "stats": {"total": 37, "additions": 27, "deletions": 10}, "files": [{"sha": "4f259ea60af0bbaeb1c0909b865a1f950a2391d6", "filename": "gcc/f/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab9e0ff9c7fc514f6e5cfcadef49b233a706917b/gcc%2Ff%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab9e0ff9c7fc514f6e5cfcadef49b233a706917b/gcc%2Ff%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2FChangeLog?ref=ab9e0ff9c7fc514f6e5cfcadef49b233a706917b", "patch": "@@ -1,3 +1,9 @@\n+Wed Jun 10 13:17:32 1998  Dave Brolley  <brolley@cygnus.com>\n+\n+\t* top.h (ffe_decode_option): New argc/argv interface.\n+\t* top.c (ffe_decode_option): New argc/argv interface.\n+\t* parse.c (yyparse): New argc/argv interface for ffe_decode_option.\n+\t* com.c (lang_decode_option): New argc/argv interface.\n Mon Jun  1 19:37:42 1998  Craig Burley  <burley@gnu.org>\n \n \t* com.c (ffecom_init_0): Fix setup of INTEGER(KIND=7)"}, {"sha": "512e9269929a23a54d33279aec79a19016c96902", "filename": "gcc/f/com.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab9e0ff9c7fc514f6e5cfcadef49b233a706917b/gcc%2Ff%2Fcom.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab9e0ff9c7fc514f6e5cfcadef49b233a706917b/gcc%2Ff%2Fcom.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fcom.c?ref=ab9e0ff9c7fc514f6e5cfcadef49b233a706917b", "patch": "@@ -14904,10 +14904,11 @@ insert_block (block)\n }\n \n int\n-lang_decode_option (p)\n-     char *p;\n+lang_decode_option (argc, argv)\n+     int argc;\n+     char **argv;\n {\n-  return ffe_decode_option (p);\n+  return ffe_decode_option (argc, argv);\n }\n \n /* used by print-tree.c */"}, {"sha": "a25a9ec164df83a0e6ac7daaacbc860311d331d6", "filename": "gcc/f/parse.c", "status": "modified", "additions": 12, "deletions": 5, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab9e0ff9c7fc514f6e5cfcadef49b233a706917b/gcc%2Ff%2Fparse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab9e0ff9c7fc514f6e5cfcadef49b233a706917b/gcc%2Ff%2Fparse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fparse.c?ref=ab9e0ff9c7fc514f6e5cfcadef49b233a706917b", "patch": "@@ -52,11 +52,18 @@ yyparse ()\n #if FFECOM_targetCURRENT == FFECOM_targetFFE\n   ffe_init_0 ();\n \n-  for (--argc, ++argv; argc > 0; --argc, ++argv)\n-    {\n-      if (!ffe_decode_option (argv[0]))\n-\tfprintf (stderr, \"Unrecognized option: %s\\n\", argv[0]);\n-    }\n+  {\n+    int strings_processed;\n+    for (--argc, ++argv; argc > 0; argc -= strings_processed, argv += strings_processed)\n+      {\n+\tstrings_processed = ffe_decode_option (argc, argv);\n+\tif (strings_processed == 0)\n+\t  {\n+\t    fprintf (stderr, \"Unrecognized option: %s\\n\", argv[0]);\n+\t    strings_processed = 1;\n+\t  }\n+      }\n+  }\n #elif FFECOM_targetCURRENT == FFECOM_targetGCC\n   if (!ffe_is_pedantic ())\n     ffe_set_is_pedantic (pedantic);"}, {"sha": "c93ffd310b00499fa856fbf540342dfaa136c817", "filename": "gcc/f/top.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab9e0ff9c7fc514f6e5cfcadef49b233a706917b/gcc%2Ff%2Ftop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab9e0ff9c7fc514f6e5cfcadef49b233a706917b/gcc%2Ff%2Ftop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Ftop.c?ref=ab9e0ff9c7fc514f6e5cfcadef49b233a706917b", "patch": "@@ -160,8 +160,11 @@ ffe_is_digit_string_ (char *s)\n    recognized and handled.  */\n \n int\n-ffe_decode_option (char *opt)\n+ffe_decode_option (argc, argv)\n+     int argc;\n+     char **argv;\n {\n+  char *opt = argv[0];\n   if (opt[0] != '-')\n     return 0;\n   if (opt[1] == 'f')"}, {"sha": "0e159cecda131841b56595fef19484dab84dccbd", "filename": "gcc/f/top.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab9e0ff9c7fc514f6e5cfcadef49b233a706917b/gcc%2Ff%2Ftop.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab9e0ff9c7fc514f6e5cfcadef49b233a706917b/gcc%2Ff%2Ftop.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Ftop.h?ref=ab9e0ff9c7fc514f6e5cfcadef49b233a706917b", "patch": "@@ -141,7 +141,7 @@ extern bool ffe_in_4;\n \n /* Declare functions with prototypes. */\n \n-int ffe_decode_option (char *opt);\n+int ffe_decode_option (int argc, char **argv);\n void ffe_file (ffewhereFile wf, FILE *f);\n void ffe_init_0 (void);\n void ffe_init_1 (void);"}]}