{"sha": "497ee82ba3b1f9e9154d978022ca51c88e49003e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDk3ZWU4MmJhM2IxZjllOTE1NGQ5NzgwMjJjYTUxYzg4ZTQ5MDAzZQ==", "commit": {"author": {"name": "Yannick Moy", "email": "moy@adacore.com", "date": "2019-07-01T13:37:21Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2019-07-01T13:37:21Z"}, "message": "[Ada] SPARK support for pointers through ownership\n\nSPARK RM 3.10 is the final version of the pointer ownership rules. Start\nchanging the implementation accordingly. Anonymous access types are not\nfully supported yet.\n\nThere is no impact on compilation.\n\n2019-07-01  Yannick Moy  <moy@adacore.com>\n\ngcc/ada/\n\n\t* sem_spark.adb: Completely rework the algorithm for ownership\n\tchecking, as the rules in SPARK RM have changed a lot.\n\t* sem_spark.ads: Update comments.\n\nFrom-SVN: r272878", "tree": {"sha": "46c2dd92b05281cafb8eb4cbb879a94e07e84387", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/46c2dd92b05281cafb8eb4cbb879a94e07e84387"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/497ee82ba3b1f9e9154d978022ca51c88e49003e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/497ee82ba3b1f9e9154d978022ca51c88e49003e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/497ee82ba3b1f9e9154d978022ca51c88e49003e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/497ee82ba3b1f9e9154d978022ca51c88e49003e/comments", "author": {"login": "yannickmoy", "id": 859440, "node_id": "MDQ6VXNlcjg1OTQ0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/859440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yannickmoy", "html_url": "https://github.com/yannickmoy", "followers_url": "https://api.github.com/users/yannickmoy/followers", "following_url": "https://api.github.com/users/yannickmoy/following{/other_user}", "gists_url": "https://api.github.com/users/yannickmoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/yannickmoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yannickmoy/subscriptions", "organizations_url": "https://api.github.com/users/yannickmoy/orgs", "repos_url": "https://api.github.com/users/yannickmoy/repos", "events_url": "https://api.github.com/users/yannickmoy/events{/privacy}", "received_events_url": "https://api.github.com/users/yannickmoy/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a2902a6f2347f480952b53f08d7868afc8116071", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a2902a6f2347f480952b53f08d7868afc8116071", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a2902a6f2347f480952b53f08d7868afc8116071"}], "stats": {"total": 5761, "additions": 2814, "deletions": 2947}, "files": [{"sha": "dffdc95f4e3e725625d2873e7f4f545e707076e8", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/497ee82ba3b1f9e9154d978022ca51c88e49003e/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/497ee82ba3b1f9e9154d978022ca51c88e49003e/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=497ee82ba3b1f9e9154d978022ca51c88e49003e", "patch": "@@ -1,3 +1,9 @@\n+2019-07-01  Yannick Moy  <moy@adacore.com>\n+\n+\t* sem_spark.adb: Completely rework the algorithm for ownership\n+\tchecking, as the rules in SPARK RM have changed a lot.\n+\t* sem_spark.ads: Update comments.\n+\n 2019-07-01  Dmitriy Anisimkov  <anisimko@adacore.com>\n \n \t* gsocket.h (Has_Sockaddr_Len): Use the offset of sin_family offset in"}, {"sha": "292c936f803a5d4710e2fcd3f8cf428f95dc75bd", "filename": "gcc/ada/sem_spark.adb", "status": "modified", "additions": 2804, "deletions": 2943, "changes": 5747, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/497ee82ba3b1f9e9154d978022ca51c88e49003e/gcc%2Fada%2Fsem_spark.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/497ee82ba3b1f9e9154d978022ca51c88e49003e/gcc%2Fada%2Fsem_spark.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_spark.adb?ref=497ee82ba3b1f9e9154d978022ca51c88e49003e"}, {"sha": "ee4126acc5df63628a69d9e0d402b4685fb4c16d", "filename": "gcc/ada/sem_spark.ads", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/497ee82ba3b1f9e9154d978022ca51c88e49003e/gcc%2Fada%2Fsem_spark.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/497ee82ba3b1f9e9154d978022ca51c88e49003e/gcc%2Fada%2Fsem_spark.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_spark.ads?ref=497ee82ba3b1f9e9154d978022ca51c88e49003e", "patch": "@@ -23,9 +23,9 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n---  This package implements an anti-aliasing analysis for access types. The\n---  rules that are enforced are defined in the anti-aliasing section of the\n---  SPARK RM 6.4.2\n+--  This package implements an ownership analysis for access types. The rules\n+--  that are enforced are defined in section 3.10 of the SPARK Reference\n+--  Manual.\n --\n --  Check_Safe_Pointers is called by Gnat1drv, when GNATprove mode is\n --  activated. It does an analysis of the source code, looking for code that is\n@@ -138,6 +138,6 @@ package Sem_SPARK is\n \n    procedure Check_Safe_Pointers (N : Node_Id);\n    --  The entry point of this package. It analyzes a node and reports errors\n-   --  when there are violations of aliasing rules.\n+   --  when there are violations of ownership rules.\n \n end Sem_SPARK;"}]}