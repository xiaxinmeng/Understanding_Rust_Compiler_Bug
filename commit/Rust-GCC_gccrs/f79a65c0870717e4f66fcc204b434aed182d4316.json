{"sha": "f79a65c0870717e4f66fcc204b434aed182d4316", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Zjc5YTY1YzA4NzA3MTdlNGY2NmZjYzIwNGI0MzRhZWQxODJkNDMxNg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@vlsi1.ultra.nyu.edu", "date": "2001-12-15T23:00:00Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "2001-12-15T23:00:00Z"}, "message": "calls.c (emit_call_1): If ECF_SP_DEPRESSED, pretend have adjusted for rounded_stack_size.\n\n\t* calls.c (emit_call_1): If ECF_SP_DEPRESSED, pretend have adjusted\n\tfor rounded_stack_size.\n\nFrom-SVN: r48049", "tree": {"sha": "b14ba91649818f4412dce925a0216bc09c169979", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b14ba91649818f4412dce925a0216bc09c169979"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f79a65c0870717e4f66fcc204b434aed182d4316", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f79a65c0870717e4f66fcc204b434aed182d4316", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f79a65c0870717e4f66fcc204b434aed182d4316", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f79a65c0870717e4f66fcc204b434aed182d4316/comments", "author": null, "committer": null, "parents": [{"sha": "b0287a9034ba44e3a3dae9728a765ab1e03e5450", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b0287a9034ba44e3a3dae9728a765ab1e03e5450", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b0287a9034ba44e3a3dae9728a765ab1e03e5450"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "1717d7f4e358c271bbbc1e60ae2dd20999a62d16", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f79a65c0870717e4f66fcc204b434aed182d4316/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f79a65c0870717e4f66fcc204b434aed182d4316/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f79a65c0870717e4f66fcc204b434aed182d4316", "patch": "@@ -1,3 +1,8 @@\n+Sat Dec 15 17:53:03 2001  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n+\n+\t* calls.c (emit_call_1): If ECF_SP_DEPRESSED, pretend have adjusted\n+\tfor rounded_stack_size.\n+\n 2001-12-15  Joseph S. Myers  <jsm28@cam.ac.uk>\n \n \t* c-typeck.c, config/i386/i386.h, config/mcore/mcore.h,"}, {"sha": "6a228201f8f9a7314823c241ded89dedc693129c", "filename": "gcc/calls.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f79a65c0870717e4f66fcc204b434aed182d4316/gcc%2Fcalls.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f79a65c0870717e4f66fcc204b434aed182d4316/gcc%2Fcalls.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcalls.c?ref=f79a65c0870717e4f66fcc204b434aed182d4316", "patch": "@@ -646,9 +646,12 @@ emit_call_1 (funexp, fndecl, funtype, stack_size, rounded_stack_size,\n \t If returning from the subroutine does pop the args, indicate that the\n \t stack pointer will be changed.  */\n \n-      if (rounded_stack_size != 0 && ! (ecf_flags & ECF_SP_DEPRESSED))\n+      if (rounded_stack_size != 0)\n \t{\n-\t  if (flag_defer_pop && inhibit_defer_pop == 0\n+\t  if (ecf_flags & ECF_SP_DEPRESSED)\n+\t    /* Just pretend we did the pop.  */\n+\t    stack_pointer_delta -= rounded_stack_size;\n+\t  else if (flag_defer_pop && inhibit_defer_pop == 0\n \t      && ! (ecf_flags & (ECF_CONST | ECF_PURE)))\n \t    pending_stack_adjust += rounded_stack_size;\n \t  else"}]}