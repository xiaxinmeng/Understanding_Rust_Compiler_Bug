{"sha": "d42ec90cbcf7c0098756f5f32c296d146c459d30", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDQyZWM5MGNiY2Y3YzAwOTg3NTZmNWYzMmMyOTZkMTQ2YzQ1OWQzMA==", "commit": {"author": {"name": "Vincent Celier", "email": "celier@adacore.com", "date": "2008-08-20T14:27:11Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2008-08-20T14:27:11Z"}, "message": "prj-proc.adb (Process_Declarative_Items): Add Location for Array_Data\n\n2008-08-20  Vincent Celier  <celier@adacore.com>\n\n\t* prj-proc.adb (Process_Declarative_Items): Add Location for Array_Data\n\n\t* prj.ads (Array_Data): Add a component Location\n\nFrom-SVN: r139300", "tree": {"sha": "1caa86c419ecaeee4f029a7aad19b51129359dbd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1caa86c419ecaeee4f029a7aad19b51129359dbd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d42ec90cbcf7c0098756f5f32c296d146c459d30", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d42ec90cbcf7c0098756f5f32c296d146c459d30", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d42ec90cbcf7c0098756f5f32c296d146c459d30", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d42ec90cbcf7c0098756f5f32c296d146c459d30/comments", "author": {"login": "vcelier", "id": 8888056, "node_id": "MDQ6VXNlcjg4ODgwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/8888056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vcelier", "html_url": "https://github.com/vcelier", "followers_url": "https://api.github.com/users/vcelier/followers", "following_url": "https://api.github.com/users/vcelier/following{/other_user}", "gists_url": "https://api.github.com/users/vcelier/gists{/gist_id}", "starred_url": "https://api.github.com/users/vcelier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vcelier/subscriptions", "organizations_url": "https://api.github.com/users/vcelier/orgs", "repos_url": "https://api.github.com/users/vcelier/repos", "events_url": "https://api.github.com/users/vcelier/events{/privacy}", "received_events_url": "https://api.github.com/users/vcelier/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "c0193e6ff2f412fc6d45934f2cf31eb913e00619", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0193e6ff2f412fc6d45934f2cf31eb913e00619", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c0193e6ff2f412fc6d45934f2cf31eb913e00619"}], "stats": {"total": 45, "additions": 30, "deletions": 15}, "files": [{"sha": "2fb4d75df046710929f384e8c1987fd81e3325f4", "filename": "gcc/ada/prj-proc.adb", "status": "modified", "additions": 26, "deletions": 12, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d42ec90cbcf7c0098756f5f32c296d146c459d30/gcc%2Fada%2Fprj-proc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d42ec90cbcf7c0098756f5f32c296d146c459d30/gcc%2Fada%2Fprj-proc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-proc.adb?ref=d42ec90cbcf7c0098756f5f32c296d146c459d30", "patch": "@@ -1417,6 +1417,11 @@ package body Prj.Proc is\n                                               From_Project_Node_Tree);\n                      --  The name of the attribute\n \n+                     Current_Location  : constant Source_Ptr :=\n+                                           Location_Of\n+                                             (Current_Item,\n+                                              From_Project_Node_Tree);\n+\n                      New_Array : Array_Id;\n                      --  The new associative array created\n \n@@ -1483,19 +1488,21 @@ package body Prj.Proc is\n \n                         if Pkg /= No_Package then\n                            In_Tree.Arrays.Table (New_Array) :=\n-                             (Name   => Current_Item_Name,\n-                              Value  => No_Array_Element,\n-                              Next   =>\n+                             (Name     => Current_Item_Name,\n+                              Location => Current_Location,\n+                              Value    => No_Array_Element,\n+                              Next     =>\n                                 In_Tree.Packages.Table (Pkg).Decl.Arrays);\n \n                            In_Tree.Packages.Table (Pkg).Decl.Arrays :=\n                              New_Array;\n \n                         else\n                            In_Tree.Arrays.Table (New_Array) :=\n-                             (Name   => Current_Item_Name,\n-                              Value  => No_Array_Element,\n-                              Next   =>\n+                             (Name     => Current_Item_Name,\n+                              Location => Current_Location,\n+                              Value    => No_Array_Element,\n+                              Next     =>\n                                 In_Tree.Projects.Table (Project).Decl.Arrays);\n \n                            In_Tree.Projects.Table (Project).Decl.Arrays :=\n@@ -1706,6 +1713,11 @@ package body Prj.Proc is\n                                              (Current_Item,\n                                               From_Project_Node_Tree);\n \n+                     Current_Location : constant Source_Ptr :=\n+                                          Location_Of\n+                                            (Current_Item,\n+                                             From_Project_Node_Tree);\n+\n                   begin\n                      --  Process a typed variable declaration\n \n@@ -1970,9 +1982,10 @@ package body Prj.Proc is\n \n                               if Pkg /= No_Package then\n                                  In_Tree.Arrays.Table (The_Array) :=\n-                                   (Name   => Current_Item_Name,\n-                                    Value  => No_Array_Element,\n-                                    Next   =>\n+                                   (Name     => Current_Item_Name,\n+                                    Location => Current_Location,\n+                                    Value    => No_Array_Element,\n+                                    Next     =>\n                                       In_Tree.Packages.Table\n                                         (Pkg).Decl.Arrays);\n \n@@ -1981,9 +1994,10 @@ package body Prj.Proc is\n \n                               else\n                                  In_Tree.Arrays.Table (The_Array) :=\n-                                   (Name   => Current_Item_Name,\n-                                    Value  => No_Array_Element,\n-                                    Next   =>\n+                                   (Name     => Current_Item_Name,\n+                                    Location => Current_Location,\n+                                    Value    => No_Array_Element,\n+                                    Next     =>\n                                       In_Tree.Projects.Table\n                                         (Project).Decl.Arrays);\n "}, {"sha": "9c16393f64c17d6e6be43428f6679e3906773e25", "filename": "gcc/ada/prj.ads", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d42ec90cbcf7c0098756f5f32c296d146c459d30/gcc%2Fada%2Fprj.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d42ec90cbcf7c0098756f5f32c296d146c459d30/gcc%2Fada%2Fprj.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj.ads?ref=d42ec90cbcf7c0098756f5f32c296d146c459d30", "patch": "@@ -253,9 +253,10 @@ package Prj is\n    type Array_Id is new Nat;\n    No_Array : constant Array_Id := 0;\n    type Array_Data is record\n-      Name  : Name_Id          := No_Name;\n-      Value : Array_Element_Id := No_Array_Element;\n-      Next  : Array_Id         := No_Array;\n+      Name     : Name_Id          := No_Name;\n+      Location : Source_Ptr       := No_Location;\n+      Value    : Array_Element_Id := No_Array_Element;\n+      Next     : Array_Id         := No_Array;\n    end record;\n    --  Each Array_Data value represents an array.\n    --  Value is the id of the first element."}]}