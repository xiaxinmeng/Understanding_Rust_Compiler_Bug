{"sha": "9094d4a46f518bb5f37c654d2119a00ecdd2b5bb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTA5NGQ0YTQ2ZjUxOGJiNWYzN2M2NTRkMjExOWEwMGVjZGQyYjViYg==", "commit": {"author": {"name": "Wilco Dijkstra", "email": "wdijkstr@arm.com", "date": "2017-03-22T18:12:05Z"}, "committer": {"name": "Wilco Dijkstra", "email": "wilco@gcc.gnu.org", "date": "2017-03-22T18:12:05Z"}, "message": "Recently we've put a lot of effort into improving ifcvt to use CSEL on AArch64.\n\nIn  https://gcc.gnu.org/ml/gcc-patches/2015-11/msg01639.html James determined\nthe best value for AArch64 code generation.  Although this setting is used when\nexplicitly targeting Cortex cores, it is not otherwise used.  This means by\ndefault GCC will not use (F)CSEL in many common cases. \n\nChange the generic_branch_cost to be the same as cortexa57_branch_cost so that\nall supported cores benefit from CSEL.  This is generally faster and smaller.\nOn one benchmark the new setting fixes a regression since GCC6 and improves\nperformance by 49%.\n\n    gcc/\n\t* config/aarch64/aarch64.c (generic_branch_cost):\n\tCopy cortexa57_branch_cost.\n\nFrom-SVN: r246397", "tree": {"sha": "c5f05033b42ce3b770db0a9cd8debb09ebe05e0d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c5f05033b42ce3b770db0a9cd8debb09ebe05e0d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9094d4a46f518bb5f37c654d2119a00ecdd2b5bb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9094d4a46f518bb5f37c654d2119a00ecdd2b5bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9094d4a46f518bb5f37c654d2119a00ecdd2b5bb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9094d4a46f518bb5f37c654d2119a00ecdd2b5bb/comments", "author": null, "committer": null, "parents": [{"sha": "deeba76acc92e46a326c7d88be80e59a1fd797c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/deeba76acc92e46a326c7d88be80e59a1fd797c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/deeba76acc92e46a326c7d88be80e59a1fd797c8"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "9d52b2539663e99058cd1ce457637b9128a9808d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9094d4a46f518bb5f37c654d2119a00ecdd2b5bb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9094d4a46f518bb5f37c654d2119a00ecdd2b5bb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9094d4a46f518bb5f37c654d2119a00ecdd2b5bb", "patch": "@@ -1,3 +1,8 @@\n+2017-03-22  Wilco Dijkstra  <wdijkstr@arm.com>\n+\n+\t* config/aarch64/aarch64.c (generic_branch_cost):\n+\tCopycortexa57_branch_cost.\n+\n 2017-03-22  Wilco Dijkstra  <wdijkstr@arm.com>\n \n \t* config/aarch64/aarch64.c (generic_tunings): Add AES fusion."}, {"sha": "4f769a40a4e9de83cb5aacfd3ff58301c2feeb78", "filename": "gcc/config/aarch64/aarch64.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9094d4a46f518bb5f37c654d2119a00ecdd2b5bb/gcc%2Fconfig%2Faarch64%2Faarch64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9094d4a46f518bb5f37c654d2119a00ecdd2b5bb/gcc%2Fconfig%2Faarch64%2Faarch64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.c?ref=9094d4a46f518bb5f37c654d2119a00ecdd2b5bb", "patch": "@@ -484,8 +484,8 @@ static const struct cpu_vector_cost thunderx2t99_vector_cost =\n /* Generic costs for branch instructions.  */\n static const struct cpu_branch_cost generic_branch_cost =\n {\n-  2,  /* Predictable.  */\n-  2   /* Unpredictable.  */\n+  1,  /* Predictable.  */\n+  3   /* Unpredictable.  */\n };\n \n /* Branch costs for Cortex-A57.  */"}]}