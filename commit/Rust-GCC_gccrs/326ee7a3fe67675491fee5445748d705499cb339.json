{"sha": "326ee7a3fe67675491fee5445748d705499cb339", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzI2ZWU3YTNmZTY3Njc1NDkxZmVlNTQ0NTc0OGQ3MDU0OTljYjMzOQ==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1997-09-13T19:00:22Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-09-13T19:00:22Z"}, "message": "haifa-sched.c (add_branch_dependences): Make each insn in a SCHED_GROUP_P block explicitly depend on the previous insn.\n\n        * haifa-sched.c (add_branch_dependences): Make each insn in\n        a SCHED_GROUP_P block explicitly depend on the previous insn.\nFixes x86 abort.\n\nFrom-SVN: r15430", "tree": {"sha": "a26834b8acc34fd8851f989bb68dee4b88f1aac3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a26834b8acc34fd8851f989bb68dee4b88f1aac3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/326ee7a3fe67675491fee5445748d705499cb339", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/326ee7a3fe67675491fee5445748d705499cb339", "html_url": "https://github.com/Rust-GCC/gccrs/commit/326ee7a3fe67675491fee5445748d705499cb339", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/326ee7a3fe67675491fee5445748d705499cb339/comments", "author": null, "committer": null, "parents": [{"sha": "0520f6c01a8a494a17c3ce0c146a1a28dca51367", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0520f6c01a8a494a17c3ce0c146a1a28dca51367", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0520f6c01a8a494a17c3ce0c146a1a28dca51367"}], "stats": {"total": 17, "additions": 15, "deletions": 2}, "files": [{"sha": "aea087b5471d2bdbb1fd9aec5da4ab3fd0f8e1c3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/326ee7a3fe67675491fee5445748d705499cb339/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/326ee7a3fe67675491fee5445748d705499cb339/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=326ee7a3fe67675491fee5445748d705499cb339", "patch": "@@ -1,3 +1,8 @@\n+Sat Sep 13 12:57:26 1997  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* haifa-sched.c (add_branch_dependences): Make each insn in\n+\ta SCHED_GROUP_P block explicitly depend on the previous insn.\n+\n Thu Sep 11 17:43:55 1997  Jim Wilson  <wilson@cygnus.com>\n \n \t* configure.in (native_prefix): Delete."}, {"sha": "16b1e20a753ecb5946c9dfe3640b1e01e269e162", "filename": "gcc/haifa-sched.c", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/326ee7a3fe67675491fee5445748d705499cb339/gcc%2Fhaifa-sched.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/326ee7a3fe67675491fee5445748d705499cb339/gcc%2Fhaifa-sched.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fhaifa-sched.c?ref=326ee7a3fe67675491fee5445748d705499cb339", "patch": "@@ -7106,9 +7106,17 @@ add_branch_dependences (head, tail)\n \t  CANT_MOVE (insn) = 1;\n \n \t  last = insn;\n-\t  /* Skip over insns that are part of a group.  */\n+\t  /* Skip over insns that are part of a group.\n+\t     Make each insn explicitly depend on the previous insn.\n+\t     This ensures that only the group header will ever enter\n+\t     the ready queue (and, when scheduled, will automatically\n+\t     schedule the SCHED_GROUP_P block).  */\n \t  while (SCHED_GROUP_P (insn))\n-\t    insn = prev_nonnote_insn (insn);\n+\t    {\n+\t      rtx temp = prev_nonnote_insn (insn);\n+\t      add_dependence (insn, temp, REG_DEP_ANTI);\n+\t      insn = temp;\n+\t    }\n \t}\n \n       /* Don't overrun the bounds of the basic block.  */"}]}