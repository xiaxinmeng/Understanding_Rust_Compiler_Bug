{"sha": "a494747c2bc3a11aff14039aef14c40362bc29dd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTQ5NDc0N2MyYmMzYTExYWZmMTQwMzlhZWYxNGM0MDM2MmJjMjlkZA==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@cygnus.com", "date": "1998-05-13T11:57:25Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-05-13T11:57:25Z"}, "message": "acconfig.h (ENABLE_CHECKING): Undefine.\n\n        * acconfig.h (ENABLE_CHECKING): Undefine.\n        * configure.in (--enable-checking): New option.\n        * flow.c (reg_n_max): New global variable.\n        * regclass.c (allocate_reg_info): Keep reg_n_max up to date.\n        Delete regno_max variable.\n        * regs.h (REG_N_CHECK): Define.\n        (REG_N_REFS, REG_N_SETS, REG_N_DEATHS): Use REG_N_CHECK.\n        (REG_N_CHANGES_SIZE, REG_N_CALLS_CROSSED, REG_LIVE_LENGTH): Likewise.\n        (REGNO_FIRST_UID, REGNO_LAST_UID, REGNO_LAST_NOTE_UID): Likewise.\n\nCo-Authored-By: Martin v. Loewis <martin@mira.isdn.cs.tu-berlin.de>\n\nFrom-SVN: r19708", "tree": {"sha": "affa5342afa4173d23bb37d6decef873724b5ca9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/affa5342afa4173d23bb37d6decef873724b5ca9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a494747c2bc3a11aff14039aef14c40362bc29dd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a494747c2bc3a11aff14039aef14c40362bc29dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a494747c2bc3a11aff14039aef14c40362bc29dd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a494747c2bc3a11aff14039aef14c40362bc29dd/comments", "author": null, "committer": null, "parents": [{"sha": "7dee3f36c6feef2bc456ac5f578412d14d205e43", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7dee3f36c6feef2bc456ac5f578412d14d205e43", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7dee3f36c6feef2bc456ac5f578412d14d205e43"}], "stats": {"total": 249, "additions": 153, "deletions": 96}, "files": [{"sha": "58f3c35386662f3d344fe86e556a018e13e3be02", "filename": "gcc/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a494747c2bc3a11aff14039aef14c40362bc29dd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a494747c2bc3a11aff14039aef14c40362bc29dd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a494747c2bc3a11aff14039aef14c40362bc29dd", "patch": "@@ -1,3 +1,17 @@\n+Wed May 13 12:54:19 1998  Michael Meissner  <meissner@cygnus.com>\n+\t\t\t  Martin von Loewis <martin@mira.isdn.cs.tu-berlin.de>\n+\n+\t* acconfig.h (ENABLE_CHECKING): Undefine.\n+\t* configure.in (--enable-checking): New option.\n+\n+\t* flow.c (reg_n_max): New global variable.\n+\t* regclass.c (allocate_reg_info): Keep reg_n_max up to date.\n+\tDelete regno_max variable.\n+\t* regs.h (REG_N_CHECK): Define.\n+\t(REG_N_REFS, REG_N_SETS, REG_N_DEATHS): Use REG_N_CHECK.\n+\t(REG_N_CHANGES_SIZE, REG_N_CALLS_CROSSED, REG_LIVE_LENGTH): Likewise.\n+\t(REGNO_FIRST_UID, REGNO_LAST_UID, REGNO_LAST_NOTE_UID): Likewise.\n+\n Wed May 13 08:52:08 1998  J\"orn Rennecke <amylaar@cygnus.co.uk>\n \n \t* reload1.c (merge_assigned_reloads):  Can merge"}, {"sha": "914fd43b5cf35ff44310212c6b068e83d66418ab", "filename": "gcc/acconfig.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a494747c2bc3a11aff14039aef14c40362bc29dd/gcc%2Facconfig.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a494747c2bc3a11aff14039aef14c40362bc29dd/gcc%2Facconfig.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Facconfig.h?ref=a494747c2bc3a11aff14039aef14c40362bc29dd", "patch": "@@ -1,6 +1,9 @@\n /* Define to \"%p\" if printf supports it, else machmode.h will define it.  */\n #undef HOST_PTR_PRINTF\n \n+/* Define if you want expensive run-time checks. */\n+#undef ENABLE_CHECKING\n+\n /* Define if your cpp understands the stringify operator.  */\n #undef HAVE_CPP_STRINGIFY\n "}, {"sha": "9283e71e3c2bfa5f1e2a684eee48267789a89692", "filename": "gcc/config.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a494747c2bc3a11aff14039aef14c40362bc29dd/gcc%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a494747c2bc3a11aff14039aef14c40362bc29dd/gcc%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.in?ref=a494747c2bc3a11aff14039aef14c40362bc29dd", "patch": "@@ -2,6 +2,9 @@\n /* Define to \"%p\" if printf supports it, else machmode.h will define it.  */\n #undef HOST_PTR_PRINTF\n \n+/* Define if you want expensive run-time checks. */\n+#undef ENABLE_CHECKING\n+\n /* Define if your cpp understands the stringify operator.  */\n #undef HAVE_CPP_STRINGIFY\n "}, {"sha": "426d1e5efe1d9bba798c81165118c441590d1456", "filename": "gcc/configure", "status": "modified", "additions": 99, "deletions": 83, "changes": 182, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a494747c2bc3a11aff14039aef14c40362bc29dd/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a494747c2bc3a11aff14039aef14c40362bc29dd/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=a494747c2bc3a11aff14039aef14c40362bc29dd", "patch": "@@ -1,7 +1,7 @@\n #! /bin/sh\n \n # Guess values for system-dependent variables and create Makefiles.\n-# Generated automatically using autoconf version 2.12 \n+# Generated automatically using autoconf version 2.12.1 \n # Copyright (C) 1992, 93, 94, 95, 96 Free Software Foundation, Inc.\n #\n # This configure script is free software; the Free Software Foundation\n@@ -24,6 +24,8 @@ ac_help=\"$ac_help\n ac_help=\"$ac_help\n   --with-gxx-include-dir=DIR\n                           specifies directory to put g++ header files.\"\n+ac_help=\"$ac_help\n+  --enable-checking       enable expensive run-time checks.\"\n ac_help=\"$ac_help\n   --enable-c-cpplib       Use cpplib for C.\"\n ac_help=\"$ac_help\n@@ -73,6 +75,7 @@ mandir='${prefix}/man'\n # Initialize some other variables.\n subdirs=\n MFLAGS= MAKEFLAGS=\n+SHELL=${CONFIG_SHELL-/bin/sh}\n # Maximum number of lines to put in a shell here document.\n ac_max_here_lines=12\n \n@@ -356,7 +359,7 @@ EOF\n     verbose=yes ;;\n \n   -version | --version | --versio | --versi | --vers)\n-    echo \"configure generated by autoconf version 2.12\"\n+    echo \"configure generated by autoconf version 2.12.1\"\n     exit 0 ;;\n \n   -with-* | --with-*)\n@@ -621,6 +624,18 @@ if [ x$gxx_include_dir = x ]; then\n \tgxx_include_dir='${prefix}/include/g++'\n fi\n \n+# Enable expensive internal checks\n+# Check whether --enable-checking or --disable-checking was given.\n+if test \"${enable_checking+set}\" = set; then\n+  enableval=\"$enable_checking\"\n+  cat >> confdefs.h <<\\EOF\n+#define ENABLE_CHECKING 1\n+EOF\n+  \n+\n+fi\n+\n+\n # Enable use of cpplib for C.\n # Check whether --enable-c-cpplib or --disable-c-cpplib was given.\n if test \"${enable_c_cpplib+set}\" = set; then\n@@ -729,33 +744,33 @@ esac\n \n \n # Make sure we can run config.sub.\n-if $ac_config_sub sun4 >/dev/null 2>&1; then :\n+if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :\n else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n fi\n \n echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:738: checking host system type\" >&5\n+echo \"configure:753: checking host system type\" >&5\n \n host_alias=$host\n case \"$host_alias\" in\n NONE)\n   case $nonopt in\n   NONE)\n-    if host_alias=`$ac_config_guess`; then :\n+    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :\n     else { echo \"configure: error: can not guess host type; you must specify one\" 1>&2; exit 1; }\n     fi ;;\n   *) host_alias=$nonopt ;;\n   esac ;;\n esac\n \n-host=`$ac_config_sub $host_alias`\n+host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`\n host_cpu=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n host_vendor=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$host\" 1>&6\n \n echo $ac_n \"checking target system type\"\"... $ac_c\" 1>&6\n-echo \"configure:759: checking target system type\" >&5\n+echo \"configure:774: checking target system type\" >&5\n \n target_alias=$target\n case \"$target_alias\" in\n@@ -766,14 +781,14 @@ NONE)\n   esac ;;\n esac\n \n-target=`$ac_config_sub $target_alias`\n+target=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $target_alias`\n target_cpu=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n target_vendor=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n target_os=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$target\" 1>&6\n \n echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:777: checking build system type\" >&5\n+echo \"configure:792: checking build system type\" >&5\n \n build_alias=$build\n case \"$build_alias\" in\n@@ -784,7 +799,7 @@ NONE)\n   esac ;;\n esac\n \n-build=`$ac_config_sub $build_alias`\n+build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`\n build_cpu=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n build_vendor=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n build_os=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n@@ -800,7 +815,7 @@ test \"$host_alias\" != \"$target_alias\" &&\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:804: checking for $ac_word\" >&5\n+echo \"configure:819: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -829,7 +844,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:833: checking for $ac_word\" >&5\n+echo \"configure:848: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -877,7 +892,7 @@ fi\n fi\n \n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:881: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:896: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -887,11 +902,11 @@ ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS\n cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext <<EOF\n-#line 891 \"configure\"\n+#line 906 \"configure\"\n #include \"confdefs.h\"\n main(){return(0);}\n EOF\n-if { (eval echo configure:895: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:910: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -911,12 +926,12 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:915: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:930: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:920: checking whether we are using GNU C\" >&5\n+echo \"configure:935: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -925,7 +940,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:929: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:944: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -940,7 +955,7 @@ if test $ac_cv_prog_gcc = yes; then\n   ac_save_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\n   echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:944: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:959: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -968,7 +983,7 @@ else\n fi\n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:972: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:987: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1001,7 +1016,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1005: checking for $ac_word\" >&5\n+echo \"configure:1020: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AWK'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1032,7 +1047,7 @@ done\n # Extract the first word of \"flex\", so it can be a program name with args.\n set dummy flex; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1036: checking for $ac_word\" >&5\n+echo \"configure:1051: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LEX'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1065,15 +1080,15 @@ then\n   *) ac_lib=l ;;\n   esac\n   echo $ac_n \"checking for yywrap in -l$ac_lib\"\"... $ac_c\" 1>&6\n-echo \"configure:1069: checking for yywrap in -l$ac_lib\" >&5\n+echo \"configure:1084: checking for yywrap in -l$ac_lib\" >&5\n ac_lib_var=`echo $ac_lib'_'yywrap | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-l$ac_lib  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 1077 \"configure\"\n+#line 1092 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -1084,7 +1099,7 @@ int main() {\n yywrap()\n ; return 0; }\n EOF\n-if { (eval echo configure:1088: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1103: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -1107,7 +1122,7 @@ fi\n fi\n \n echo $ac_n \"checking whether ln works\"\"... $ac_c\" 1>&6\n-echo \"configure:1111: checking whether ln works\" >&5\n+echo \"configure:1126: checking whether ln works\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_LN'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1139,7 +1154,7 @@ else\n fi\n \n echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n-echo \"configure:1143: checking whether ln -s works\" >&5\n+echo \"configure:1158: checking whether ln -s works\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_LN_S'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1171,19 +1186,19 @@ else\n fi\n \n echo $ac_n \"checking for volatile\"\"... $ac_c\" 1>&6\n-echo \"configure:1175: checking for volatile\" >&5\n+echo \"configure:1190: checking for volatile\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_c_volatile'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1180 \"configure\"\n+#line 1195 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n volatile int foo;\n ; return 0; }\n EOF\n-if { (eval echo configure:1187: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1202: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_c_volatile=yes\n else\n@@ -1206,7 +1221,7 @@ fi\n # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1210: checking for $ac_word\" >&5\n+echo \"configure:1225: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1237,7 +1252,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1241: checking for $ac_word\" >&5\n+echo \"configure:1256: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_YACC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1277,7 +1292,7 @@ test -n \"$YACC\" || YACC=\"yacc\"\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:1281: checking for a BSD compatible install\" >&5\n+echo \"configure:1296: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1328,7 +1343,7 @@ test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n \n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:1332: checking how to run the C preprocessor\" >&5\n+echo \"configure:1347: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -1343,13 +1358,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 1347 \"configure\"\n+#line 1362 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1353: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1368: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   :\n@@ -1360,13 +1375,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 1364 \"configure\"\n+#line 1379 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1370: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1385: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   :\n@@ -1389,20 +1404,20 @@ fi\n echo \"$ac_t\"\"$CPP\" 1>&6\n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:1393: checking for ANSI C header files\" >&5\n+echo \"configure:1408: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1398 \"configure\"\n+#line 1413 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1406: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1421: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1419,7 +1434,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1423 \"configure\"\n+#line 1438 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -1437,7 +1452,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1441 \"configure\"\n+#line 1456 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -1458,7 +1473,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1462 \"configure\"\n+#line 1477 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -1469,7 +1484,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:1473: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1488: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -1493,12 +1508,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether time.h and sys/time.h may both be included\"\"... $ac_c\" 1>&6\n-echo \"configure:1497: checking whether time.h and sys/time.h may both be included\" >&5\n+echo \"configure:1512: checking whether time.h and sys/time.h may both be included\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_time'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1502 \"configure\"\n+#line 1517 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/time.h>\n@@ -1507,7 +1522,7 @@ int main() {\n struct tm *tp;\n ; return 0; }\n EOF\n-if { (eval echo configure:1511: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1526: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_header_time=yes\n else\n@@ -1531,17 +1546,17 @@ for ac_hdr in limits.h stddef.h string.h strings.h stdlib.h time.h fcntl.h unist\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:1535: checking for $ac_hdr\" >&5\n+echo \"configure:1550: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1540 \"configure\"\n+#line 1555 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1545: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1560: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1571,17 +1586,17 @@ done\n # Check for thread headers.\n ac_safe=`echo \"thread.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for thread.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1575: checking for thread.h\" >&5\n+echo \"configure:1590: checking for thread.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1580 \"configure\"\n+#line 1595 \"configure\"\n #include \"confdefs.h\"\n #include <thread.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1585: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1600: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1605,17 +1620,17 @@ fi\n \n ac_safe=`echo \"pthread.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for pthread.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1609: checking for pthread.h\" >&5\n+echo \"configure:1624: checking for pthread.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1614 \"configure\"\n+#line 1629 \"configure\"\n #include \"confdefs.h\"\n #include <pthread.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1619: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1634: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1641,20 +1656,20 @@ fi\n # See if the system preprocessor understands the ANSI C preprocessor\n # stringification operator.\n echo $ac_n \"checking whether cpp understands the stringify operator\"\"... $ac_c\" 1>&6\n-echo \"configure:1645: checking whether cpp understands the stringify operator\" >&5\n+echo \"configure:1660: checking whether cpp understands the stringify operator\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_c_have_stringify'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1650 \"configure\"\n+#line 1665 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n #define S(x)   #x\n char *test = S(foo);\n ; return 0; }\n EOF\n-if { (eval echo configure:1658: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1673: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_c_have_stringify=yes\n else\n@@ -1677,20 +1692,20 @@ fi\n # Use <inttypes.h> only if it exists,\n # doesn't clash with <sys/types.h>, and declares intmax_t.\n echo $ac_n \"checking for inttypes.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1681: checking for inttypes.h\" >&5\n+echo \"configure:1696: checking for inttypes.h\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_header_inttypes_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1686 \"configure\"\n+#line 1701 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <inttypes.h>\n int main() {\n intmax_t i = -1;\n ; return 0; }\n EOF\n-if { (eval echo configure:1694: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1709: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<EOF\n #define HAVE_INTTYPES_H 1\n@@ -1713,12 +1728,12 @@ for ac_func in strtoul bsearch strerror putenv popen bcopy bzero bcmp \\\n \tsysconf isascii\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1717: checking for $ac_func\" >&5\n+echo \"configure:1732: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1722 \"configure\"\n+#line 1737 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1741,7 +1756,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1745: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1760: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1767,12 +1782,12 @@ done\n \n \n echo $ac_n \"checking for vprintf\"\"... $ac_c\" 1>&6\n-echo \"configure:1771: checking for vprintf\" >&5\n+echo \"configure:1786: checking for vprintf\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vprintf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1776 \"configure\"\n+#line 1791 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vprintf(); below.  */\n@@ -1795,7 +1810,7 @@ vprintf();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1799: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1814: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vprintf=yes\"\n else\n@@ -1819,12 +1834,12 @@ fi\n \n if test \"$ac_cv_func_vprintf\" != yes; then\n echo $ac_n \"checking for _doprnt\"\"... $ac_c\" 1>&6\n-echo \"configure:1823: checking for _doprnt\" >&5\n+echo \"configure:1838: checking for _doprnt\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func__doprnt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1828 \"configure\"\n+#line 1843 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char _doprnt(); below.  */\n@@ -1847,7 +1862,7 @@ _doprnt();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1851: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1866: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func__doprnt=yes\"\n else\n@@ -1883,15 +1898,15 @@ fi\n \n \n echo $ac_n \"checking whether the printf functions support %p\"\"... $ac_c\" 1>&6\n-echo \"configure:1887: checking whether the printf functions support %p\" >&5\n+echo \"configure:1902: checking whether the printf functions support %p\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_func_printf_ptr'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   gcc_cv_func_printf_ptr=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1895 \"configure\"\n+#line 1910 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n \n@@ -1904,7 +1919,7 @@ main()\n   exit (p != q);\n }\n EOF\n-if { (eval echo configure:1908: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1923: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n then\n   gcc_cv_func_printf_ptr=yes\n else\n@@ -1932,12 +1947,12 @@ for ac_func in malloc realloc calloc free bcopy bzero bcmp \\\n \tindex rindex getenv atol sbrk abort atof\n do\n echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:1936: checking whether $ac_func must be declared\" >&5\n+echo \"configure:1951: checking whether $ac_func must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1941 \"configure\"\n+#line 1956 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -1964,7 +1979,7 @@ int main() {\n char *(*pfn) = (char *(*)) $ac_func\n ; return 0; }\n EOF\n-if { (eval echo configure:1968: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1983: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_decl_needed_$ac_func=no\"\n else\n@@ -1991,12 +2006,12 @@ done\n \n \n echo $ac_n \"checking for sys_siglist declaration in signal.h or unistd.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1995: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n+echo \"configure:2010: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_decl_sys_siglist'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2000 \"configure\"\n+#line 2015 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <signal.h>\n@@ -2008,7 +2023,7 @@ int main() {\n char *msg = *(sys_siglist + 1);\n ; return 0; }\n EOF\n-if { (eval echo configure:2012: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2027: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_decl_sys_siglist=yes\n else\n@@ -5333,7 +5348,7 @@ EOF\n # Ultrix sh set writes to stderr and can't be redirected directly,\n # and sets the high bit in the cache file unless we assign to the vars.\n (set) 2>&1 |\n-  case `(ac_space=' '; set) 2>&1` in\n+  case `(ac_space=' '; set) 2>&1 | grep ac_space` in\n   *ac_space=\\ *)\n     # `set' does not quote correctly, so add quotes (double-quote substitution\n     # turns \\\\\\\\ into \\\\, and sed turns \\\\ into \\).\n@@ -5400,7 +5415,7 @@ do\n     echo \"running \\${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion\"\n     exec \\${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion ;;\n   -version | --version | --versio | --versi | --vers | --ver | --ve | --v)\n-    echo \"$CONFIG_STATUS generated by autoconf version 2.12\"\n+    echo \"$CONFIG_STATUS generated by autoconf version 2.12.1\"\n     exit 0 ;;\n   -help | --help | --hel | --he | --h)\n     echo \"\\$ac_cs_usage\"; exit 0 ;;\n@@ -5419,6 +5434,7 @@ sed 's/%@/@@/; s/@%/@@/; s/%g\\$/@g/; /@g\\$/s/[\\\\\\\\&%]/\\\\\\\\&/g;\n  s/@@/%@/; s/@@/@%/; s/@g\\$/%g/' > conftest.subs <<\\\\CEOF\n $ac_vpsub\n $extrasub\n+s%@SHELL@%$SHELL%g\n s%@CFLAGS@%$CFLAGS%g\n s%@CPPFLAGS@%$CPPFLAGS%g\n s%@CXXFLAGS@%$CXXFLAGS%g"}, {"sha": "82cef5a9d50a332024119aceca2ab5e8ed2a0cce", "filename": "gcc/configure.in", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a494747c2bc3a11aff14039aef14c40362bc29dd/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a494747c2bc3a11aff14039aef14c40362bc29dd/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=a494747c2bc3a11aff14039aef14c40362bc29dd", "patch": "@@ -78,6 +78,12 @@ if [[ x$gxx_include_dir = x ]]; then\n \tgxx_include_dir='${prefix}/include/g++'\n fi\n \n+# Enable expensive internal checks\n+AC_ARG_ENABLE(checking,\n+[  --enable-checking       enable expensive run-time checks.],\n+AC_DEFINE(ENABLE_CHECKING)  \n+)\n+\n # Enable use of cpplib for C.\n AC_ARG_ENABLE(c-cpplib,\n [  --enable-c-cpplib       Use cpplib for C.],"}, {"sha": "18bbf68231020dc817cfea3de1edcb38b7eb74f8", "filename": "gcc/flow.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a494747c2bc3a11aff14039aef14c40362bc29dd/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a494747c2bc3a11aff14039aef14c40362bc29dd/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=a494747c2bc3a11aff14039aef14c40362bc29dd", "patch": "@@ -175,6 +175,10 @@ static int num_scratch;\n \n reg_info *reg_n_info;\n \n+/* Size of the reg_n_info table.  */\n+\n+unsigned int reg_n_max;\n+\n /* Element N is the next insn that uses (hard or pseudo) register number N\n    within the current basic block; or zero, if there is no such insn.\n    This is valid only during the final backward scan in propagate_block.  */"}, {"sha": "5c605eb8891f6c755965435c01b615fd13fe8570", "filename": "gcc/regclass.c", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a494747c2bc3a11aff14039aef14c40362bc29dd/gcc%2Fregclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a494747c2bc3a11aff14039aef14c40362bc29dd/gcc%2Fregclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fregclass.c?ref=a494747c2bc3a11aff14039aef14c40362bc29dd", "patch": "@@ -1754,12 +1754,11 @@ allocate_reg_info (num_regs, new_p, renumber_p)\n      int renumber_p;\n {\n   static int regno_allocated = 0;\n-  static int regno_max = 0;\n   static short *renumber = (short *)0;\n   int i;\n   int size_info;\n   int size_renumber;\n-  int min = (new_p) ? 0 : regno_max;\n+  int min = (new_p) ? 0 : reg_n_max;\n \n   /* If this message come up, and you want to fix it, then all of the tables\n      like reg_renumber, etc. that use short will have to be found and lengthed\n@@ -1776,7 +1775,7 @@ allocate_reg_info (num_regs, new_p, renumber_p)\n \t  renumber = (short *)0;\n \t}\n       regno_allocated = 0;\n-      regno_max = 0;\n+      reg_n_max = 0;\n       return;\n     }\n \n@@ -1823,7 +1822,7 @@ allocate_reg_info (num_regs, new_p, renumber_p)\n   /* Tell the regset code about the new number of registers */\n   MAX_REGNO_REG_SET (num_regs, new_p, renumber_p);\n \n-  regno_max = num_regs;\n+  reg_n_max = num_regs;\n }\n \n \f"}, {"sha": "f063d26eeb9e999f2d31684ab0c4b9de233f113a", "filename": "gcc/regs.h", "status": "modified", "additions": 21, "deletions": 9, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a494747c2bc3a11aff14039aef14c40362bc29dd/gcc%2Fregs.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a494747c2bc3a11aff14039aef14c40362bc29dd/gcc%2Fregs.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fregs.h?ref=a494747c2bc3a11aff14039aef14c40362bc29dd", "patch": "@@ -62,30 +62,42 @@ typedef struct reg_info_def {\n \n extern reg_info *reg_n_info;\n \n+extern unsigned int reg_n_max;\n+\n+/* Check for REG_N_xxx macros being in bound, return N for use as an\n+   index.  */\n+#ifdef ENABLE_CHECKING\n+#define REG_N_CHECK(N)\t\t\t\t\t\t\t\\\n+((((unsigned)(N) < (unsigned)reg_n_max)\t\t\t\t\t\\\n+ ? 0 : (fatal (\"Register %d out of bounds\", (N)), 0)), (N))\n+#else\n+#define REG_N_CHECK(N) (N)\n+#endif\n+\n /* Indexed by n, gives number of times (REG n) is used or set.\n    References within loops may be counted more times.  */\n \n-#define REG_N_REFS(N) (reg_n_info[(N)].refs)\n+#define REG_N_REFS(N) (reg_n_info[REG_N_CHECK (N)].refs)\n \n /* Indexed by n, gives number of times (REG n) is set.\n    ??? both regscan and flow allocate space for this.  We should settle\n    on just copy.  */\n \n-#define REG_N_SETS(N) (reg_n_info[(N)].sets)\n+#define REG_N_SETS(N) (reg_n_info[REG_N_CHECK (N)].sets)\n \n /* Indexed by N, gives number of insns in which register N dies.\n    Note that if register N is live around loops, it can die\n    in transitions between basic blocks, and that is not counted here.\n    So this is only a reliable indicator of how many regions of life there are\n    for registers that are contained in one basic block.  */\n \n-#define REG_N_DEATHS(N) (reg_n_info[(N)].deaths)\n+#define REG_N_DEATHS(N) (reg_n_info[REG_N_CHECK (N)].deaths)\n \n /* Indexed by N; says whether a pseudo register N was ever used\n    within a SUBREG that changes the size of the reg.  Some machines prohibit\n    such objects to be in certain (usually floating-point) registers.  */\n \n-#define REG_CHANGES_SIZE(N) (reg_n_info[(N)].changes_size)\n+#define REG_CHANGES_SIZE(N) (reg_n_info[REG_N_CHECK (N)].changes_size)\n \n /* Get the number of consecutive words required to hold pseudo-reg N.  */\n \n@@ -104,7 +116,7 @@ extern reg_info *reg_n_info;\n \n /* Indexed by N, gives number of CALL_INSNS across which (REG n) is live.  */\n \n-#define REG_N_CALLS_CROSSED(N) (reg_n_info[(N)].calls_crossed)\n+#define REG_N_CALLS_CROSSED(N) (reg_n_info[REG_N_CHECK (N)].calls_crossed)\n \n /* Total number of instructions at which (REG n) is live.\n    The larger this is, the less priority (REG n) gets for\n@@ -121,7 +133,7 @@ extern reg_info *reg_n_info;\n    is not required.  global.c makes an allocno for this but does\n    not try to assign a hard register to it.  */\n \n-#define REG_LIVE_LENGTH(N) (reg_n_info[(N)].live_length)\n+#define REG_LIVE_LENGTH(N) (reg_n_info[REG_N_CHECK (N)].live_length)\n \n /* Vector of substitutions of register numbers,\n    used to map pseudo regs into hardware regs.\n@@ -153,19 +165,19 @@ extern enum machine_mode reg_raw_mode[FIRST_PSEUDO_REGISTER];\n    It is sometimes adjusted for subsequent changes during loop,\n    but not adjusted by cse even if cse invalidates it.  */\n \n-#define REGNO_FIRST_UID(N) (reg_n_info[(N)].first_uid)\n+#define REGNO_FIRST_UID(N) (reg_n_info[REG_N_CHECK (N)].first_uid)\n \n /* Vector indexed by regno; gives uid of last insn using that reg.\n    This is computed by reg_scan for use by cse and loop.\n    It is sometimes adjusted for subsequent changes during loop,\n    but not adjusted by cse even if cse invalidates it.\n    This is harmless since cse won't scan through a loop end.  */\n \n-#define REGNO_LAST_UID(N) (reg_n_info[(N)].last_uid)\n+#define REGNO_LAST_UID(N) (reg_n_info[REG_N_CHECK (N)].last_uid)\n \n /* Similar, but includes insns that mention the reg in their notes.  */\n \n-#define REGNO_LAST_NOTE_UID(N) (reg_n_info[(N)].last_note_uid)\n+#define REGNO_LAST_NOTE_UID(N) (reg_n_info[REG_N_CHECK (N)].last_note_uid)\n \n /* This is reset to LAST_VIRTUAL_REGISTER + 1 at the start of each function.\n    After rtl generation, it is 1 plus the largest register number used.  */"}]}