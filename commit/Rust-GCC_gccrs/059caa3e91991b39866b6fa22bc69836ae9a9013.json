{"sha": "059caa3e91991b39866b6fa22bc69836ae9a9013", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDU5Y2FhM2U5MTk5MWIzOTg2NmI2ZmEyMmJjNjk4MzZhZTlhOTAxMw==", "commit": {"author": {"name": "Nicolas Setton", "email": "setton@adacore.com", "date": "2009-04-29T09:11:35Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-04-29T09:11:35Z"}, "message": "Makefile.in: Produce .dSYM files for shared libs on darwin.\n\n2009-04-29  Nicolas Setton  <setton@adacore.com>\n\n\t* gcc-interface/Makefile.in: Produce .dSYM files for shared libs on\n\tdarwin.\n\nFrom-SVN: r146930", "tree": {"sha": "bad8b009a6d6885cabbfa0a10836e1da297d544a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bad8b009a6d6885cabbfa0a10836e1da297d544a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/059caa3e91991b39866b6fa22bc69836ae9a9013", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/059caa3e91991b39866b6fa22bc69836ae9a9013", "html_url": "https://github.com/Rust-GCC/gccrs/commit/059caa3e91991b39866b6fa22bc69836ae9a9013", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/059caa3e91991b39866b6fa22bc69836ae9a9013/comments", "author": {"login": "setton", "id": 96973, "node_id": "MDQ6VXNlcjk2OTcz", "avatar_url": "https://avatars.githubusercontent.com/u/96973?v=4", "gravatar_id": "", "url": "https://api.github.com/users/setton", "html_url": "https://github.com/setton", "followers_url": "https://api.github.com/users/setton/followers", "following_url": "https://api.github.com/users/setton/following{/other_user}", "gists_url": "https://api.github.com/users/setton/gists{/gist_id}", "starred_url": "https://api.github.com/users/setton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/setton/subscriptions", "organizations_url": "https://api.github.com/users/setton/orgs", "repos_url": "https://api.github.com/users/setton/repos", "events_url": "https://api.github.com/users/setton/events{/privacy}", "received_events_url": "https://api.github.com/users/setton/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a0a31d1ec37ab838b1cbad2bb3a502c2927667b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0a31d1ec37ab838b1cbad2bb3a502c2927667b1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a0a31d1ec37ab838b1cbad2bb3a502c2927667b1"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "d798092a195635518f67fb4935f37bf7b3e1071c", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/059caa3e91991b39866b6fa22bc69836ae9a9013/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/059caa3e91991b39866b6fa22bc69836ae9a9013/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=059caa3e91991b39866b6fa22bc69836ae9a9013", "patch": "@@ -1,3 +1,8 @@\n+2009-04-29  Nicolas Setton  <setton@adacore.com>\n+\n+\t* gcc-interface/Makefile.in: Produce .dSYM files for shared libs on\n+\tdarwin.\n+\n 2009-04-25  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc-interface/decl.c (gnat_to_gnu_entity) <E_Array_Subtype>: Put"}, {"sha": "c19c09959418d037d8c642ee7c5ec00f3fe112fd", "filename": "gcc/ada/gcc-interface/Makefile.in", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/059caa3e91991b39866b6fa22bc69836ae9a9013/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/059caa3e91991b39866b6fa22bc69836ae9a9013/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMakefile.in?ref=059caa3e91991b39866b6fa22bc69836ae9a9013", "patch": "@@ -2081,6 +2081,8 @@ install-gnatlib: ../stamp-gnatlib-$(RTSDIR)\n #     of $(INSTALL_DATA). The latter may force a mode inappropriate\n #     for shared libraries on some targets, e.g. on HP-UX where the x\n #     permission is required.\n+#     Also install the .dSYM directories if they exist (these directories\n+#     contain the debug information for the shared libraries on darwin)\n \tfor file in gnat gnarl; do \\\n \t   if [ -f $(RTSDIR)/lib$${file}$(hyphen)$(LIBRARY_VERSION)$(soext) ]; then \\\n \t      $(INSTALL) $(RTSDIR)/lib$${file}$(hyphen)$(LIBRARY_VERSION)$(soext) \\\n@@ -2090,6 +2092,10 @@ install-gnatlib: ../stamp-gnatlib-$(RTSDIR)\n \t      $(LN_S) lib$${file}$(hyphen)$(LIBRARY_VERSION)$(soext) \\\n \t      $(DESTDIR)$(ADA_RTL_OBJ_DIR)/lib$${file}$(soext); \\\n \t   fi; \\\n+\t   if [ -d rts/lib$${file}$(hyphen)$(LIBRARY_VERSION)$(soext).dSYM ]; then \\\n+\t      $(CP) -r rts/lib$${file}$(hyphen)$(LIBRARY_VERSION)$(soext).dSYM \\\n+\t        $(DESTDIR)$(ADA_RTL_OBJ_DIR); \\\n+\t   fi; \\\n \tdone\n # This copy must be done preserving the date on the original file.\n \tfor file in $(RTSDIR)/*.ad?; do \\\n@@ -2297,6 +2303,8 @@ gnatlib-shared-darwin:\n \t\tlibgnat$(soext)\n \tcd $(RTSDIR); $(LN_S) libgnarl$(hyphen)$(LIBRARY_VERSION)$(soext) \\\n \t\tlibgnarl$(soext)\n+\tcd rts; dsymutil libgnat$(hyphen)$(LIBRARY_VERSION)$(soext)\n+\tcd rts; dsymutil libgnarl$(hyphen)$(LIBRARY_VERSION)$(soext)\n \n gnatlib-shared-vms:\n \t$(MAKE) $(FLAGS_TO_PASS) \\"}]}