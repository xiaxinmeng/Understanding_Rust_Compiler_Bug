{"sha": "7d171a1e9db2230682b5220edfcdae3394c1c496", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2QxNzFhMWU5ZGIyMjMwNjgyYjUyMjBlZGZjZGFlMzM5NGMxYzQ5Ng==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-04-09T14:55:42Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-04-09T14:55:42Z"}, "message": "(force_to_mode, case ROTATE): Don't assume simplify_binary_operation always returns CONST_INT.\n\n(force_to_mode, case ROTATE): Don't assume simplify_binary_operation always\nreturns CONST_INT.\n(simplify_shift_const, case IOR, PLUS): Likewise.\n\nFrom-SVN: r7006", "tree": {"sha": "bf9fd6a55175f5fc8fcb63b66dfde9861a42cfcd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bf9fd6a55175f5fc8fcb63b66dfde9861a42cfcd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7d171a1e9db2230682b5220edfcdae3394c1c496", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d171a1e9db2230682b5220edfcdae3394c1c496", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7d171a1e9db2230682b5220edfcdae3394c1c496", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d171a1e9db2230682b5220edfcdae3394c1c496/comments", "author": null, "committer": null, "parents": [{"sha": "3c8cd8bd6e25180e26cdd48d38ec365d20158c56", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c8cd8bd6e25180e26cdd48d38ec365d20158c56", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3c8cd8bd6e25180e26cdd48d38ec365d20158c56"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "0616e7c40da5e3df6c46edeca24cb8c3cee41307", "filename": "gcc/combine.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d171a1e9db2230682b5220edfcdae3394c1c496/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d171a1e9db2230682b5220edfcdae3394c1c496/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=7d171a1e9db2230682b5220edfcdae3394c1c496", "patch": "@@ -5958,7 +5958,7 @@ force_to_mode (x, mode, mask, reg, just_select)\n \t  temp = simplify_binary_operation (code == ROTATE ? ROTATERT : ROTATE,\n \t\t\t\t\t    GET_MODE (x), GEN_INT (mask),\n \t\t\t\t\t    XEXP (x, 1));\n-\t  if (temp)\n+\t  if (temp && GET_CODE(temp) == CONST_INT)\n \t    SUBST (XEXP (x, 0),\n \t\t   force_to_mode (XEXP (x, 0), GET_MODE (x),\n \t\t\t\t  INTVAL (temp), reg, next_select));\n@@ -7869,6 +7869,7 @@ simplify_shift_const (x, code, result_mode, varop, count)\n \t      && (new = simplify_binary_operation (code, result_mode,\n \t\t\t\t\t\t   XEXP (varop, 1),\n \t\t\t\t\t\t   GEN_INT (count))) != 0\n+\t      && GET_CODE(new) == CONST_INT\n \t      && merge_outer_ops (&outer_op, &outer_const, GET_CODE (varop),\n \t\t\t\t  INTVAL (new), result_mode, &complement_p))\n \t    {\n@@ -7988,6 +7989,7 @@ simplify_shift_const (x, code, result_mode, varop, count)\n \t      && (new = simplify_binary_operation (ASHIFT, result_mode,\n \t\t\t\t\t\t   XEXP (varop, 1),\n \t\t\t\t\t\t   GEN_INT (count))) != 0\n+\t      && GET_CODE(new) == CONST_INT\n \t      && merge_outer_ops (&outer_op, &outer_const, PLUS,\n \t\t\t\t  INTVAL (new), result_mode, &complement_p))\n \t    {"}]}