{"sha": "619708cce29db738d1926514d92c07b24f689b22", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjE5NzA4Y2NlMjlkYjczOGQxOTI2NTE0ZDkyYzA3YjI0ZjY4OWIyMg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2002-03-28T18:51:49Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-03-28T18:51:49Z"}, "message": "c-decl.c (finish_function): New arg can_defer_p.\n\n        * c-decl.c (finish_function): New arg can_defer_p.  Pass it\n        on to c_expand_body.\n        * c-tree.h (finish_function): Update decl.\n        * c-objc-common.c, c-parse.in, objc/objc-act.c: Update calls.\n\nFrom-SVN: r51518", "tree": {"sha": "c3f3d3f6bcb25054ebc7c74e7f3117eb734219a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c3f3d3f6bcb25054ebc7c74e7f3117eb734219a8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/619708cce29db738d1926514d92c07b24f689b22", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/619708cce29db738d1926514d92c07b24f689b22", "html_url": "https://github.com/Rust-GCC/gccrs/commit/619708cce29db738d1926514d92c07b24f689b22", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/619708cce29db738d1926514d92c07b24f689b22/comments", "author": null, "committer": null, "parents": [{"sha": "b1d874d7b19e09b07657ace24315e9ee279a9ae9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1d874d7b19e09b07657ace24315e9ee279a9ae9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b1d874d7b19e09b07657ace24315e9ee279a9ae9"}], "stats": {"total": 33, "additions": 21, "deletions": 12}, "files": [{"sha": "288f5107940cbc829771853f393fe9fc8f74dd4e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/619708cce29db738d1926514d92c07b24f689b22/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/619708cce29db738d1926514d92c07b24f689b22/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=619708cce29db738d1926514d92c07b24f689b22", "patch": "@@ -1,3 +1,10 @@\n+2002-03-28  Richard Henderson  <rth@redhat.com>\n+\n+\t* c-decl.c (finish_function): New arg can_defer_p.  Pass it\n+\ton to c_expand_body.\n+\t* c-tree.h (finish_function): Update decl.\n+\t* c-objc-common.c, c-parse.in, objc/objc-act.c: Update calls.\n+\n Thu Mar 28 19:13:36 CET 2002  Jan Hubicka  <jh@suse.cz>\n \n \t* ifcvt.c (if_convert): Clear aux_for_blocks early enought."}, {"sha": "931f17487ac67622aa99549db0ec4cf112081e20", "filename": "gcc/c-decl.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/619708cce29db738d1926514d92c07b24f689b22/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/619708cce29db738d1926514d92c07b24f689b22/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=619708cce29db738d1926514d92c07b24f689b22", "patch": "@@ -6687,11 +6687,13 @@ store_parm_decls ()\n \n    This is called after parsing the body of the function definition.\n \n-   NESTED is nonzero if the function being finished is nested in another.  */\n+   NESTED is nonzero if the function being finished is nested in another.\n+   CAN_DEFER_P is nonzero if the function may be deferred.  */\n \n void\n-finish_function (nested)\n+finish_function (nested, can_defer_p)\n      int nested;\n+     int can_defer_p;\n {\n   tree fndecl = current_function_decl;\n \n@@ -6760,7 +6762,7 @@ finish_function (nested)\n   if (! nested)\n     {\n       /* Generate RTL for the body of this function.  */\n-      c_expand_body (fndecl, nested, 1);\n+      c_expand_body (fndecl, nested, can_defer_p);\n \n       /* Let the error reporting routines know that we're outside a\n \t function.  For a nested function, this value is used in"}, {"sha": "595e6cec75664a987e9eb5ffa85ec9d6ba5320d7", "filename": "gcc/c-objc-common.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/619708cce29db738d1926514d92c07b24f689b22/gcc%2Fc-objc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/619708cce29db738d1926514d92c07b24f689b22/gcc%2Fc-objc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-objc-common.c?ref=619708cce29db738d1926514d92c07b24f689b22", "patch": "@@ -326,7 +326,7 @@ finish_cdtor (body)\n \n   RECHAIN_STMTS (body, COMPOUND_BODY (body));\n \n-  finish_function (0);\n+  finish_function (0, 0);\n }\n \n /* Called at end of parsing, but before end-of-file processing.  */"}, {"sha": "fa56bfcfce75a5d2225b602c6d29224624a37a9d", "filename": "gcc/c-parse.in", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/619708cce29db738d1926514d92c07b24f689b22/gcc%2Fc-parse.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/619708cce29db738d1926514d92c07b24f689b22/gcc%2Fc-parse.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-parse.in?ref=619708cce29db738d1926514d92c07b24f689b22", "patch": "@@ -394,7 +394,7 @@ fndef:\n \t  save_filename save_lineno compstmt_or_error\n \t\t{ DECL_SOURCE_FILE (current_function_decl) = $7;\n \t\t  DECL_SOURCE_LINE (current_function_decl) = $8;\n-\t\t  finish_function (0); \n+\t\t  finish_function (0, 1); \n \t\t  POP_DECLSPEC_STACK; }\n \t| declspecs_ts setspecs declarator error\n \t\t{ POP_DECLSPEC_STACK; }\n@@ -408,7 +408,7 @@ fndef:\n \t  save_filename save_lineno compstmt_or_error\n \t\t{ DECL_SOURCE_FILE (current_function_decl) = $7;\n \t\t  DECL_SOURCE_LINE (current_function_decl) = $8;\n-\t\t  finish_function (0); \n+\t\t  finish_function (0, 1); \n \t\t  POP_DECLSPEC_STACK; }\n \t| declspecs_nots setspecs notype_declarator error\n \t\t{ POP_DECLSPEC_STACK; }\n@@ -422,7 +422,7 @@ fndef:\n \t  save_filename save_lineno compstmt_or_error\n \t\t{ DECL_SOURCE_FILE (current_function_decl) = $6;\n \t\t  DECL_SOURCE_LINE (current_function_decl) = $7;\n-\t\t  finish_function (0); \n+\t\t  finish_function (0, 1); \n \t\t  POP_DECLSPEC_STACK; }\n \t| setspecs notype_declarator error\n \t\t{ POP_DECLSPEC_STACK; }\n@@ -1586,7 +1586,7 @@ nested_function:\n \t\t{ tree decl = current_function_decl;\n \t\t  DECL_SOURCE_FILE (decl) = $5;\n \t\t  DECL_SOURCE_LINE (decl) = $6;\n-\t\t  finish_function (1);\n+\t\t  finish_function (1, 1);\n \t\t  pop_function_context (); \n \t\t  add_decl_stmt (decl); }\n \t;\n@@ -1616,7 +1616,7 @@ notype_nested_function:\n \t\t{ tree decl = current_function_decl;\n \t\t  DECL_SOURCE_FILE (decl) = $5;\n \t\t  DECL_SOURCE_LINE (decl) = $6;\n-\t\t  finish_function (1);\n+\t\t  finish_function (1, 1);\n \t\t  pop_function_context (); \n \t\t  add_decl_stmt (decl); }\n \t;"}, {"sha": "57c335d0d644011cff266474560120331b96ca5a", "filename": "gcc/c-tree.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/619708cce29db738d1926514d92c07b24f689b22/gcc%2Fc-tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/619708cce29db738d1926514d92c07b24f689b22/gcc%2Fc-tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-tree.h?ref=619708cce29db738d1926514d92c07b24f689b22", "patch": "@@ -192,7 +192,7 @@ extern tree define_label                        PARAMS ((const char *, int,\n \t\t\t\t\t\t\t tree));\n extern void finish_decl                         PARAMS ((tree, tree, tree));\n extern tree finish_enum                         PARAMS ((tree, tree, tree));\n-extern void finish_function                     PARAMS ((int));\n+extern void finish_function                     PARAMS ((int, int));\n extern tree finish_struct                       PARAMS ((tree, tree, tree));\n extern tree get_parm_info                       PARAMS ((int));\n extern tree grokfield                           PARAMS ((const char *, int, tree, tree, tree));"}, {"sha": "cfc47024bf532ee139ee77d53a8a587799dbc160", "filename": "gcc/objc/objc-act.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/619708cce29db738d1926514d92c07b24f689b22/gcc%2Fobjc%2Fobjc-act.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/619708cce29db738d1926514d92c07b24f689b22/gcc%2Fobjc%2Fobjc-act.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2Fobjc-act.c?ref=619708cce29db738d1926514d92c07b24f689b22", "patch": "@@ -1731,7 +1731,7 @@ build_module_descriptor ()\n \n     c_expand_expr_stmt (decelerator);\n \n-    finish_function (0);\n+    finish_function (0, 0);\n \n     return XEXP (DECL_RTL (init_function_decl), 0);\n   }\n@@ -7265,7 +7265,7 @@ void\n finish_method_def ()\n {\n   lang_expand_function_end = objc_expand_function_end;\n-  finish_function (0);\n+  finish_function (0, 1);\n   lang_expand_function_end = NULL;\n \n   /* Required to implement _msgSuper. This must be done AFTER finish_function,"}]}