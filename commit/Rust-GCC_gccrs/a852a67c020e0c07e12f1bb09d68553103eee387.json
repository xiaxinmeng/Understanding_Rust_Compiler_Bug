{"sha": "a852a67c020e0c07e12f1bb09d68553103eee387", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTg1MmE2N2MwMjBlMGMwN2UxMmYxYmIwOWQ2ODU1MzEwM2VlZTM4Nw==", "commit": {"author": {"name": "Alexey Merzlyakov", "email": "alexey.merzlyakov@samsung.com", "date": "2014-05-20T17:25:26Z"}, "committer": {"name": "Yury Gribov", "email": "ygribov@gcc.gnu.org", "date": "2014-05-20T17:25:26Z"}, "message": "re PR target/61223 (libstdc++ build fail due to pop lr register)\n\n2014-05-20  Alexey Merzlyakov  <alexey.merzlyakov@samsung.com>\n\n\tPR libstdc++/61223\n\tRevert:\n\t2014-05-16  Alexey Merzlyakov  <alexey.merzlyakov@samsung.com>\n\n\tPR libstdc++/60758\n\t* libsupc++/eh_arm.cc (__cxa_end_cleanup): Change r4 to lr in save/restore\n\tand add unwind directives.\n\nFrom-SVN: r210650", "tree": {"sha": "d90eac49dd527e7ca9f8adf6787557333b8c35de", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d90eac49dd527e7ca9f8adf6787557333b8c35de"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a852a67c020e0c07e12f1bb09d68553103eee387", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a852a67c020e0c07e12f1bb09d68553103eee387", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a852a67c020e0c07e12f1bb09d68553103eee387", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a852a67c020e0c07e12f1bb09d68553103eee387/comments", "author": {"login": "AlexeyMerzlyakov", "id": 60094858, "node_id": "MDQ6VXNlcjYwMDk0ODU4", "avatar_url": "https://avatars.githubusercontent.com/u/60094858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlexeyMerzlyakov", "html_url": "https://github.com/AlexeyMerzlyakov", "followers_url": "https://api.github.com/users/AlexeyMerzlyakov/followers", "following_url": "https://api.github.com/users/AlexeyMerzlyakov/following{/other_user}", "gists_url": "https://api.github.com/users/AlexeyMerzlyakov/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlexeyMerzlyakov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlexeyMerzlyakov/subscriptions", "organizations_url": "https://api.github.com/users/AlexeyMerzlyakov/orgs", "repos_url": "https://api.github.com/users/AlexeyMerzlyakov/repos", "events_url": "https://api.github.com/users/AlexeyMerzlyakov/events{/privacy}", "received_events_url": "https://api.github.com/users/AlexeyMerzlyakov/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7eab31edf283c355051f1f58bc79ea13a0bdb3fd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7eab31edf283c355051f1f58bc79ea13a0bdb3fd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7eab31edf283c355051f1f58bc79ea13a0bdb3fd"}], "stats": {"total": 26, "additions": 15, "deletions": 11}, "files": [{"sha": "72bf941656c3c882a7d7efdcdb896534f1205f16", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a852a67c020e0c07e12f1bb09d68553103eee387/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a852a67c020e0c07e12f1bb09d68553103eee387/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=a852a67c020e0c07e12f1bb09d68553103eee387", "patch": "@@ -1,3 +1,13 @@\n+2014-05-20  Alexey Merzlyakov  <alexey.merzlyakov@samsung.com>\n+\n+\tPR libstdc++/61223\n+\tRevert:\n+\t2014-05-16  Alexey Merzlyakov  <alexey.merzlyakov@samsung.com>\n+\n+\tPR libstdc++/60758\n+\t* libsupc++/eh_arm.cc (__cxa_end_cleanup): Change r4 to lr in save/restore\n+\tand add unwind directives.\n+\n 2014-05-20  Sebastian Huber  <sebastian.huber@embedded-brains.de>\n \n \t* testsuite/lib/libstdc++.exp (load_gcc_lib): Register loaded libs."}, {"sha": "aa453dddde9199257ac29df24783f83aa03e293f", "filename": "libstdc++-v3/libsupc++/eh_arm.cc", "status": "modified", "additions": 5, "deletions": 11, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a852a67c020e0c07e12f1bb09d68553103eee387/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Feh_arm.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a852a67c020e0c07e12f1bb09d68553103eee387/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Feh_arm.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Feh_arm.cc?ref=a852a67c020e0c07e12f1bb09d68553103eee387", "patch": "@@ -199,33 +199,27 @@ asm (\".global __cxa_end_cleanup\\n\"\n \"\tnop\t\t5\\n\");\n #else\n // Assembly wrapper to call __gnu_end_cleanup without clobbering r1-r3.\n-// Also push lr to preserve stack alignment and to allow backtracing.\n+// Also push r4 to preserve stack alignment.\n #ifdef __thumb__\n asm (\"  .pushsection .text.__cxa_end_cleanup\\n\"\n \"\t.global __cxa_end_cleanup\\n\"\n \"\t.type __cxa_end_cleanup, \\\"function\\\"\\n\"\n \"\t.thumb_func\\n\"\n \"__cxa_end_cleanup:\\n\"\n-\"\t.fnstart\\n\"\n-\"\tpush\\t{r1, r2, r3, lr}\\n\"\n-\"\t.save\\t{r1, r2, r3, lr}\\n\"\n+\"\tpush\\t{r1, r2, r3, r4}\\n\"\n \"\tbl\\t__gnu_end_cleanup\\n\"\n-\"\tpop\\t{r1, r2, r3, lr}\\n\"\n+\"\tpop\\t{r1, r2, r3, r4}\\n\"\n \"\tbl\\t_Unwind_Resume @ Never returns\\n\"\n-\"\t.fnend\\n\"\n \"\t.popsection\\n\");\n #else\n asm (\"  .pushsection .text.__cxa_end_cleanup\\n\"\n \"\t.global __cxa_end_cleanup\\n\"\n \"\t.type __cxa_end_cleanup, \\\"function\\\"\\n\"\n \"__cxa_end_cleanup:\\n\"\n-\"\t.fnstart\\n\"\n-\"\tstmfd\\tsp!, {r1, r2, r3, lr}\\n\"\n-\"\t.save\\t{r1, r2, r3, lr}\\n\"\n+\"\tstmfd\\tsp!, {r1, r2, r3, r4}\\n\"\n \"\tbl\\t__gnu_end_cleanup\\n\"\n-\"\tldmfd\\tsp!, {r1, r2, r3, lr}\\n\"\n+\"\tldmfd\\tsp!, {r1, r2, r3, r4}\\n\"\n \"\tbl\\t_Unwind_Resume @ Never returns\\n\"\n-\"\t.fnend\\n\"\n \"\t.popsection\\n\");\n #endif\n #endif"}]}