{"sha": "414578bdaa08d7c09fd51e64230e6e1ffa2101b0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDE0NTc4YmRhYTA4ZDdjMDlmZDUxZTY0MjMwZTZlMWZmYTIxMDFiMA==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2014-03-10T19:31:50Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2014-03-10T19:31:50Z"}, "message": "move dg-do before dg-require\n\nFrom-SVN: r208460", "tree": {"sha": "9b8411a0b9f5f74f3eb05c18c2bc8bbf84e78194", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9b8411a0b9f5f74f3eb05c18c2bc8bbf84e78194"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/414578bdaa08d7c09fd51e64230e6e1ffa2101b0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/414578bdaa08d7c09fd51e64230e6e1ffa2101b0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/414578bdaa08d7c09fd51e64230e6e1ffa2101b0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/414578bdaa08d7c09fd51e64230e6e1ffa2101b0/comments", "author": null, "committer": null, "parents": [{"sha": "c2e7e5974bede2cb47ac45a62a884ae687cc7880", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2e7e5974bede2cb47ac45a62a884ae687cc7880", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2e7e5974bede2cb47ac45a62a884ae687cc7880"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "813a6727b08bfed37e75958678324fcc499574c8", "filename": "gcc/testsuite/g++.dg/tls/thread_local-wrap1.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/414578bdaa08d7c09fd51e64230e6e1ffa2101b0/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local-wrap1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/414578bdaa08d7c09fd51e64230e6e1ffa2101b0/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local-wrap1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local-wrap1.C?ref=414578bdaa08d7c09fd51e64230e6e1ffa2101b0", "patch": "@@ -1,8 +1,8 @@\n // If we can see the definition at the use site, we don't need to bother\n // with a wrapper.\n \n-// { dg-require-effective-target tls }\n // { dg-do compile { target c++11 } }\n+// { dg-require-effective-target tls }\n // { dg-final { scan-assembler-not \"_ZTW1i\" } }\n \n thread_local int i = 42;"}, {"sha": "f07d7ae0708204d00cf80b208369608dd2fcaa30", "filename": "gcc/testsuite/g++.dg/tls/thread_local-wrap2.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/414578bdaa08d7c09fd51e64230e6e1ffa2101b0/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local-wrap2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/414578bdaa08d7c09fd51e64230e6e1ffa2101b0/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local-wrap2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local-wrap2.C?ref=414578bdaa08d7c09fd51e64230e6e1ffa2101b0", "patch": "@@ -1,8 +1,8 @@\n // If we can't see the definition at the use site, but it's in this translation\n // unit, we build a wrapper but don't bother with an init function.\n \n-// { dg-require-effective-target tls }\n // { dg-do compile { target c++11 } }\n+// { dg-require-effective-target tls }\n // { dg-final { scan-assembler \"_ZTW1i\" } }\n // { dg-final { scan-assembler-not \"_ZTH1i\" } }\n "}, {"sha": "ee8f147912bcb075c5234d2cdf21f33f58080e40", "filename": "gcc/testsuite/g++.dg/tls/thread_local-wrap3.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/414578bdaa08d7c09fd51e64230e6e1ffa2101b0/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local-wrap3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/414578bdaa08d7c09fd51e64230e6e1ffa2101b0/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local-wrap3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local-wrap3.C?ref=414578bdaa08d7c09fd51e64230e6e1ffa2101b0", "patch": "@@ -1,9 +1,9 @@\n // If we can't see the definition at all, we need to assume there might be\n // an init function.\n \n+// { dg-do compile { target c++11 } }\n // { dg-require-alias \"\" }\n // { dg-require-effective-target tls }\n-// { dg-do compile { target c++11 } }\n // { dg-final { scan-assembler \"_ZTW1i\" } }\n // { dg-final { scan-assembler \"_ZTH1i\" } }\n "}, {"sha": "292c86806f443f152394faee8dde254f5262aa46", "filename": "gcc/testsuite/g++.dg/tls/thread_local-wrap4.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/414578bdaa08d7c09fd51e64230e6e1ffa2101b0/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local-wrap4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/414578bdaa08d7c09fd51e64230e6e1ffa2101b0/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local-wrap4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local-wrap4.C?ref=414578bdaa08d7c09fd51e64230e6e1ffa2101b0", "patch": "@@ -1,9 +1,9 @@\n // We don't need to call the wrapper through the PLT; we can use a separate\n // copy per shared object.\n \n+// { dg-do compile { target c++11 } }\n // { dg-require-effective-target tls }\n // { dg-require-effective-target fpic }\n-// { dg-do compile { target c++11 } }\n // { dg-options \"-fPIC\" }\n // { dg-final { scan-assembler-not \"_ZTW1i@PLT\" { target i?86-*-* x86_64-*-* } } }\n "}]}