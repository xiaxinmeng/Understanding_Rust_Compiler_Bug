{"sha": "9874adaf91fee8a95b7a1ef0ad5014bf55e016ef", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTg3NGFkYWY5MWZlZThhOTViN2ExZWYwYWQ1MDE0YmY1NWUwMTZlZg==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2004-05-25T17:53:00Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2004-05-25T17:53:00Z"}, "message": "re PR libstdc++/15489 (testsuite_files determined incorrectly)\n\n\n2004-05-25  Benjamin Kosnik  <bkoz@redhat.com>\n\n\tPR libstdc++/15489\n\t* scripts/create_testsuite_files: Revert xtype change, add non-GNU\n\tbits to do the same thing.\n\nFrom-SVN: r82250", "tree": {"sha": "b8b422bd981f8fa3a077288b4ba06f049df8c8f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b8b422bd981f8fa3a077288b4ba06f049df8c8f4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9874adaf91fee8a95b7a1ef0ad5014bf55e016ef", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9874adaf91fee8a95b7a1ef0ad5014bf55e016ef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9874adaf91fee8a95b7a1ef0ad5014bf55e016ef", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9874adaf91fee8a95b7a1ef0ad5014bf55e016ef/comments", "author": null, "committer": null, "parents": [{"sha": "104a401041fd76a07d6da9a1f28bdbf37d10f74d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/104a401041fd76a07d6da9a1f28bdbf37d10f74d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/104a401041fd76a07d6da9a1f28bdbf37d10f74d"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "d4e1094b2808aab621fdb105bc88d92deec7d55c", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9874adaf91fee8a95b7a1ef0ad5014bf55e016ef/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9874adaf91fee8a95b7a1ef0ad5014bf55e016ef/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=9874adaf91fee8a95b7a1ef0ad5014bf55e016ef", "patch": "@@ -1,3 +1,9 @@\n+2004-05-25  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\tPR libstdc++/15489\n+\t* scripts/create_testsuite_files: Revert xtype change, add non-GNU\n+\tbits to do the same thing.\n+\n 2004-05-24  Paolo Carlini  <pcarlini@suse.de>\n \n \t* include/bits/istream.tcc (ignore): Correctly deal with"}, {"sha": "8e357898f7f0d763ab07602653b17756706fa805", "filename": "libstdc++-v3/scripts/create_testsuite_files", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9874adaf91fee8a95b7a1ef0ad5014bf55e016ef/libstdc%2B%2B-v3%2Fscripts%2Fcreate_testsuite_files", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9874adaf91fee8a95b7a1ef0ad5014bf55e016ef/libstdc%2B%2B-v3%2Fscripts%2Fcreate_testsuite_files", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fscripts%2Fcreate_testsuite_files?ref=9874adaf91fee8a95b7a1ef0ad5014bf55e016ef", "patch": "@@ -30,12 +30,18 @@ tests_file_perf=\"$outdir/testsuite_files_performance\"\n \n cd $srcdir\n # This is the ugly version of \"everything but the current directory\".  It's\n-# what has to happen when find(1) doesn't support -mindepth.\n+# what has to happen when find(1) doesn't support -mindepth, or -xtype.\n dlist=`echo [0-9][0-9]*`\n for d in [a-z]*; do\n   test -d $d && dlist=\"$dlist $d\"\n done\n-find $dlist -xtype f -name \"*.cc\" | sort > $tmp.1\n+find $dlist -type f -name \"*.cc\" | sort > $tmp.1\n+if test ! -s \"$tmp.1\"; then\n+  find $dlist -type l -name \"*.cc\" | sort > $tmp.1\n+fi\n+if test ! -s \"$tmp.1\"; then\n+  exit 1\n+fi\n \n # If the library is not configured to support wchar_t, don't run those tests.\n if test -f \"$outdir/testsuite_wchar_t\"; then"}]}