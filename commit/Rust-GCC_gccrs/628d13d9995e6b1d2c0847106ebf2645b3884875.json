{"sha": "628d13d9995e6b1d2c0847106ebf2645b3884875", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjI4ZDEzZDk5OTVlNmIxZDJjMDg0NzEwNmViZjI2NDViMzg4NDg3NQ==", "commit": {"author": {"name": "James Greenhalgh", "email": "james.greenhalgh@arm.com", "date": "2016-05-18T08:00:33Z"}, "committer": {"name": "James Greenhalgh", "email": "jgreenhalgh@gcc.gnu.org", "date": "2016-05-18T08:00:33Z"}, "message": "[Patch AArch64] Simplify reduc_plus_scal_v2[sd]f sequence\n\ngcc/\n\n\t* config/aarch64/aarch64-simd.md\n\t(aarch64_reduc_plus_internal<mode>): Rename to...\n\t(reduc_plus_scal): ...This, and remove previous implementation.\n\nFrom-SVN: r236360", "tree": {"sha": "e1d3be451e722fa96a9caee48dc050914ba061e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e1d3be451e722fa96a9caee48dc050914ba061e9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/628d13d9995e6b1d2c0847106ebf2645b3884875", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/628d13d9995e6b1d2c0847106ebf2645b3884875", "html_url": "https://github.com/Rust-GCC/gccrs/commit/628d13d9995e6b1d2c0847106ebf2645b3884875", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/628d13d9995e6b1d2c0847106ebf2645b3884875/comments", "author": {"login": "jgreenhalgh-arm", "id": 6104025, "node_id": "MDQ6VXNlcjYxMDQwMjU=", "avatar_url": "https://avatars.githubusercontent.com/u/6104025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jgreenhalgh-arm", "html_url": "https://github.com/jgreenhalgh-arm", "followers_url": "https://api.github.com/users/jgreenhalgh-arm/followers", "following_url": "https://api.github.com/users/jgreenhalgh-arm/following{/other_user}", "gists_url": "https://api.github.com/users/jgreenhalgh-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jgreenhalgh-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jgreenhalgh-arm/subscriptions", "organizations_url": "https://api.github.com/users/jgreenhalgh-arm/orgs", "repos_url": "https://api.github.com/users/jgreenhalgh-arm/repos", "events_url": "https://api.github.com/users/jgreenhalgh-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/jgreenhalgh-arm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f38748638a7de7e10884f68f89b4f660cd15fecc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f38748638a7de7e10884f68f89b4f660cd15fecc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f38748638a7de7e10884f68f89b4f660cd15fecc"}], "stats": {"total": 25, "additions": 9, "deletions": 16}, "files": [{"sha": "e71ce6d75b54b5e65bf97a0ea5b18925a9383c72", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/628d13d9995e6b1d2c0847106ebf2645b3884875/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/628d13d9995e6b1d2c0847106ebf2645b3884875/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=628d13d9995e6b1d2c0847106ebf2645b3884875", "patch": "@@ -1,3 +1,9 @@\n+2016-05-18  James Greenhalgh  <james.greenhalgh@arm.com>\n+\n+\t* config/aarch64/aarch64-simd.md\n+\t(aarch64_reduc_plus_internal<mode>): Rename to...\n+\t(reduc_plus_scal): ...This, and remove previous implementation.\n+\n 2016-05-18  Richard Biener  <rguenther@suse.de>\n \n \t* passes.def: Put late dse and cd_dce in canonical order."}, {"sha": "59a578f5937a240b325af22021bbd662230ed404", "filename": "gcc/config/aarch64/aarch64-simd.md", "status": "modified", "additions": 3, "deletions": 16, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/628d13d9995e6b1d2c0847106ebf2645b3884875/gcc%2Fconfig%2Faarch64%2Faarch64-simd.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/628d13d9995e6b1d2c0847106ebf2645b3884875/gcc%2Fconfig%2Faarch64%2Faarch64-simd.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64-simd.md?ref=628d13d9995e6b1d2c0847106ebf2645b3884875", "patch": "@@ -1979,19 +1979,6 @@\n   }\n )\n \n-(define_expand \"reduc_plus_scal_<mode>\"\n-  [(match_operand:<VEL> 0 \"register_operand\" \"=w\")\n-   (match_operand:V2F 1 \"register_operand\" \"w\")]\n-  \"TARGET_SIMD\"\n-  {\n-    rtx elt = GEN_INT (ENDIAN_LANE_N (<MODE>mode, 0));\n-    rtx scratch = gen_reg_rtx (<MODE>mode);\n-    emit_insn (gen_aarch64_reduc_plus_internal<mode> (scratch, operands[1]));\n-    emit_insn (gen_aarch64_get_lane<mode> (operands[0], scratch, elt));\n-    DONE;\n-  }\n-)\n-\n (define_insn \"aarch64_reduc_plus_internal<mode>\"\n  [(set (match_operand:VDQV 0 \"register_operand\" \"=w\")\n        (unspec:VDQV [(match_operand:VDQV 1 \"register_operand\" \"w\")]\n@@ -2010,9 +1997,9 @@\n   [(set_attr \"type\" \"neon_reduc_add\")]\n )\n \n-(define_insn \"aarch64_reduc_plus_internal<mode>\"\n- [(set (match_operand:V2F 0 \"register_operand\" \"=w\")\n-       (unspec:V2F [(match_operand:V2F 1 \"register_operand\" \"w\")]\n+(define_insn \"reduc_plus_scal_<mode>\"\n+ [(set (match_operand:<VEL> 0 \"register_operand\" \"=w\")\n+       (unspec:<VEL> [(match_operand:V2F 1 \"register_operand\" \"w\")]\n \t\t   UNSPEC_FADDV))]\n  \"TARGET_SIMD\"\n  \"faddp\\\\t%<Vetype>0, %1.<Vtype>\""}]}