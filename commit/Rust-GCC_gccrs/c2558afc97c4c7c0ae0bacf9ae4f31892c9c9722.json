{"sha": "c2558afc97c4c7c0ae0bacf9ae4f31892c9c9722", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzI1NThhZmM5N2M0YzdjMGFlMGJhY2Y5YWU0ZjMxODkyYzljOTcyMg==", "commit": {"author": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-10-18T14:32:03Z"}, "committer": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-10-18T14:32:03Z"}, "message": "trans-array.c (gfc_conv_expr_descriptor): Move ndim initialization earlier.\n\n\t* trans-array.c (gfc_conv_expr_descriptor): Move ndim initialization\n\tearlier.\n\nFrom-SVN: r180140", "tree": {"sha": "3139a5ae0521bf89dcf260870c8a65d2c7c6c3d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3139a5ae0521bf89dcf260870c8a65d2c7c6c3d9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c2558afc97c4c7c0ae0bacf9ae4f31892c9c9722", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2558afc97c4c7c0ae0bacf9ae4f31892c9c9722", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2558afc97c4c7c0ae0bacf9ae4f31892c9c9722", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2558afc97c4c7c0ae0bacf9ae4f31892c9c9722/comments", "author": null, "committer": null, "parents": [{"sha": "33aa08b35b357f8a567b6d7c8c1a55162fe0604c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33aa08b35b357f8a567b6d7c8c1a55162fe0604c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/33aa08b35b357f8a567b6d7c8c1a55162fe0604c"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "a33dbe02350971934ef53a6a449b238cf90ed13c", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2558afc97c4c7c0ae0bacf9ae4f31892c9c9722/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2558afc97c4c7c0ae0bacf9ae4f31892c9c9722/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=c2558afc97c4c7c0ae0bacf9ae4f31892c9c9722", "patch": "@@ -1,3 +1,8 @@\n+2011-10-18  Mikael Morin  <mikael@gcc.gnu.org>\n+\n+\t* trans-array.c (gfc_conv_expr_descriptor): Move ndim initialization\n+\tearlier.\n+\n 2011-10-18  Janus Weil  <janus@gcc.gnu.org>\n \n \tPR fortran/47023"}, {"sha": "2c3459034bc1929b72a2d3f51835569c8b15de3e", "filename": "gcc/fortran/trans-array.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2558afc97c4c7c0ae0bacf9ae4f31892c9c9722/gcc%2Ffortran%2Ftrans-array.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2558afc97c4c7c0ae0bacf9ae4f31892c9c9722/gcc%2Ffortran%2Ftrans-array.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-array.c?ref=c2558afc97c4c7c0ae0bacf9ae4f31892c9c9722", "patch": "@@ -5974,6 +5974,8 @@ gfc_conv_expr_descriptor (gfc_se * se, gfc_expr * expr, gfc_ss * ss)\n       tree to;\n       tree base;\n \n+      ndim = info->ref ? info->ref->u.ar.dimen : info->dimen;\n+\n       if (se->want_coarray)\n \t{\n \t  codim = gfc_get_corank (expr);\n@@ -6046,7 +6048,6 @@ gfc_conv_expr_descriptor (gfc_se * se, gfc_expr * expr, gfc_ss * ss)\n       else\n \tbase = NULL_TREE;\n \n-      ndim = info->ref ? info->ref->u.ar.dimen : info->dimen;\n       for (n = 0; n < ndim; n++)\n \t{\n \t  stride = gfc_conv_array_stride (desc, n);"}]}